{
    "items": [
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You want a deep extend</p>\n\n<pre><code>$.extend(true, {}, x, y);\n</code></pre>\n\n<p>See the docs for <a href=\"http://api.jquery.com/jQuery.extend/\">jQuery.extend([<strong>deep</strong>], <strong>target</strong>, <strong>object1</strong>[, <strong>objectN</strong>])</a></p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>The simple javascript function without depending jQuery will help you to merge two JSON object which has nested objects.</p>\n\n<pre><code>function mergeJSON(source1,source2){\n    /*\n     * Properties from the Souce1 object will be copied to Source2 Object.\n     * Note: This method will return a new merged object, Source1 and Source2 original values will not be replaced.\n     * */\n    var mergedJSON = Object.create(source2);// Copying Source2 to a new Object\n\n    for (var attrname in source1) {\n        if(mergedJSON.hasOwnProperty(attrname)) {\n          if ( source1[attrname]!=null &amp;&amp; source1[attrname].constructor==Object ) {\n              /*\n               * Recursive call if the property is an object,\n               * Iterate the object and set all properties of the inner object.\n              */\n              mergedJSON[attrname] = mergeJSON(source1[attrname], mergedJSON[attrname]);\n          } \n\n        } else {//else copy the property from source1\n            mergedJSON[attrname] = source1[attrname];\n\n        }\n      }\n\n      return mergedJSON;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>Trying to see if there is any javascript library functionality that can merge the values for a specific key of two json objects</p>\n\n<pre><code>var x ={ \"student-marks\":{'math':1,'physics':5} };\nvar y ={ \"student-marks\":{'chemistry':3,'history':2} };\n</code></pre>\n\n<p>using $.extend and $.merge giving below results</p>\n\n<pre><code>$.extend({},x,y)  leads to  { \"student-marks\":{'chemistry':3,'history':2} }\n\n$.merge(x,y) leads to { \"student-marks\":{'math':1,'physics':2} }\n</code></pre>\n\n<p>what I am looking for is { \"student-marks\":{'math':1,'physics':5, 'chemistry':3,'history':2} }</p>\n",
            "last_activity_date": 1410283040,
            "question_id": 18498801,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "json"
            ],
            "title": "How to merge two json objects values by keys"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You should use the <code>getRadWindow().close()</code> method and the <code>OnClientClose</code> event.</p>\n\n<p>On Child.aspx:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n    function getRadWindow() {\n        var oWindow = null;\n\n        if (window.radWindow) \n            oWindow = window.radWindow;\n        else if (window.frameElement.radWindow) \n            oWindow = window.frameElement.radWindow;\n\n        return oWindow;\n    }\n\n    function clientClose(arg) {   \n        getRadWindow().close(arg);\n    }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>In Child.cs:</p>\n\n<pre><code>protected void btn_Click(object sender, EventArgs e)\n{         \n    ScriptManager.RegisterStartupScript(Page, typeof(Page), \"closeScript\", \"clientClose('');\", true);\n}\n</code></pre>\n\n<p>When creating your RadWindow in Parent.cs, add the <code>OnClientClose</code> event: <code>newWindow.OnClientClose = \"OnChildWindowClosed\";</code>.  </p>\n\n<p>And on Parent.aspx:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n    function OnChildWindowClosed(sender, eventArgs) {\n        document.location.reload(); // there may be a cleaner way to do the refresh\n    }\n\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>As you said, you want to close from code behind. So you can render <code>Page.ClientScript.RegisterClientScriptBlock(GetType(), \"CloseScript\", \"refreshParentPage()\", true);</code> from code behind to refresh the parent.</p>\n\n<p>Just add the following code and script in Child Page. No code is needed in parent page.</p>\n\n<pre><code>&lt;script&gt;         \n    function getRadWindow() {\n        var oWindow = null;\n        if (window.radWindow)\n            oWindow = window.radWindow;\n        else if (window.frameElement.radWindow)\n            oWindow = window.frameElement.radWindow;\n        return oWindow;\n    }\n\n    // Reload parent page\n    function refreshParentPage() {\n        getRadWindow().BrowserWindow.location.reload();\n    }\n&lt;/script&gt;\n\n&lt;asp:Button runat=\"server\" Text=\"Close\" ID=\"CloseButton\" \n    OnClick=\"CloseButton_Click\"/&gt;\n\nprotected void CloseButton_Click(object sender, EventArgs e)\n{\n    Page.ClientScript.RegisterClientScriptBlock(GetType(), \n        \"CloseScript\", \"refreshParentPage()\", true);\n}\n</code></pre>\n\n<p><strong>Update</strong>: </p>\n\n<pre><code>// Redirect page page to url\nfunction redirectParentPage(url) {\n    getRadWindow().BrowserWindow.document.location.href = url;\n}\n\n// Code behind\nPage.ClientScript.RegisterClientScriptBlock(GetType(), \n\"CloseScript\", \"redirectParentPage('Parent.aspx')\", true);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I want to close the <a href=\"http://demos.telerik.com/aspnet-ajax/window/examples/contenttemplatevsnavigateurl/defaultcs.aspx\">RadWindow</a> and refresh the parent : how to do this server side :</p>\n\n<p>I have the following case:</p>\n\n<p>Two pages say :</p>\n\n<h1>parent.aspx :</h1>\n\n<pre><code>&lt;telerik:RadWindowManager ID=\"RadWindowManager1\" runat=\"server\" EnableViewState =\"false\"&gt;\n&lt;/telerik:RadWindowManager&gt;\n</code></pre>\n\n<hr>\n\n<p>and parent.cs</p>\n\n<pre><code>  protected void OpenNewWindow(string url, int width, int height,int mode)\n        {\n            RadWindow newWindow = new RadWindow();\n            newWindow.NavigateUrl = url;\n            newWindow.VisibleOnPageLoad = true;\n            newWindow.KeepInScreenBounds = true;\n            if (width &gt; 0)\n            {\n                newWindow.Width = width;\n\n\n            }\n            if (height &gt; 0)\n            {\n                newWindow.Height = height;\n            }\n            newWindow.VisibleStatusbar = false;\n            if (mode == 0)\n            {\n                newWindow.DestroyOnClose = true;\n                newWindow.InitialBehaviors = WindowBehaviors.Maximize;\n            }\n            RadWindowManager1.Windows.Add(newWindow);\n        }\n</code></pre>\n\n<p>i call this method in the rowcommand of some gridview on my parentpage :</p>\n\n<p>like this :</p>\n\n<pre><code>OpenNewWindow(\"child.aspx\", 0, 0,0);\n</code></pre>\n\n<hr>\n\n<p>Now i want on the server side click event of some button on the <code>child</code> page to close the rad window and refresh the parent one how to do this ??</p>\n",
            "last_activity_date": 1364316485,
            "question_id": 15640301,
            "score": 5,
            "tags": [
                "c#",
                "javascript",
                "asp.net",
                "telerik",
                "radwindow"
            ],
            "title": "How to close the radwindow on serverside and refresh the parent page"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>This will never work.  IE does not allow you to invoke the \"choose file\" dialog via javascript AND submit the associated form via javascript.  If you attempt this, as you have seen, IE will throw an error on form submission.  You must allow the user to click the input element themselves.  </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As noted above IE does not allow you to open the dialog and submit a file on the user's behalf through javascript. That being said, your idea of styling the \"file input\" is completely valid.</p>\n\n<p>This link may help you with that:</p>\n\n<p><a href=\"http://www.quirksmode.org/dom/inputfile.html\" rel=\"nofollow\">Styling File Inputs</a></p>\n\n<p>It's a buggy work around to say the least but the general gist is this:</p>\n\n<ol>\n<li>Create a file input and set the opacity using css to 0.0. Do not set\nvisibility as this will disable the input. </li>\n<li>Style a regular text input to your liking using CSS so that it looks like the file input you desire.</li>\n<li>Position the text input and add a z-index of 0.</li>\n<li>Position your file input (that is completely transparent) and give it z-index of 1.</li>\n<li><p>Write javascript to pull the value of the file input (i.e. in jQuery </p>\n\n<pre><code>$('input[type=\"file\"]').val();\n</code></pre>\n\n<p>and place it in the text input. </p></li>\n</ol>\n\n<p>The idea here is that the file input is still pulling the file and the user is still choosing the file. You're in a sense, masking it and making it appear as if you have a custom control. Really, your fake control is behind the real one which is simply transparent.</p>\n\n<p>Hope this helps</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I have stylized My File input using :</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;style&gt;\n#yourBtn{\n position: relative;\n top: 150px;\n font-family: calibri;\n width: 150px;\n padding: 10px;\n border-radius: 5px;\n border: 1px dashed #ddeeff; \n text-align: center;\n background-color: #ffddee;\n cursor:pointer;\n color:#333333;\n}\n&lt;/style&gt;\n&lt;script type=\"text/javascript\"&gt;\n function getFile(){\ndocument.getElementById(\"upfile\").click();\n }\n function sub(obj){\n document.getElementById(\"yourBtn\").innerHTML = \"Uploading Please Wait...\";\n document.myForm.submit();\n event.preventDefault();\n }\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;center&gt;\n&lt;form action=\"/sub/upload.php\" method=\"POST\" enctype=\"multipart/form-data\" name=\"myForm\" target=\"myiframe\"&gt;\n&lt;div id=\"yourBtn\" onclick=\"getFile()\"&gt;click to upload a file&lt;/div&gt;\n&lt;div style='height: 0px;width: 0px; overflow:hidden;'&gt;&lt;input id=\"upfile\" type=\"file\" name=\"upload\" style=\"display:none;\" onchange=\"sub(this)\" /&gt;&lt;/div&gt;\n&lt;/form&gt;\n&lt;iframe name=\"myiframe\" style=\"width:100;height:100;border:2px solid #bbccdd;\"&gt;&lt;/iframe&gt;\n&lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The Problem is .submit() function returns the ' Access Denied ' error on IE (tested in IE8 and 9). Works fine in all other browsers (chrome,opera,safari and Firefox). when the sub(obj) is invoked. And The same is happening even if i use Jquery also.</p>\n\n<p>So Can any one tell me how should i get this script working on IE ?</p>\n",
            "last_activity_date": 1386869232,
            "question_id": 14560121,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "css",
                "iframe",
                "file-upload"
            ],
            "title": "File Upload Using Javascript returns &#39;Access Denied&#39; Error With Stylized &lt;input type=&#39;file&#39; &gt; to a button"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Well, see here: <a href=\"http://buzz.jaysalvat.com/\" rel=\"nofollow\">jQuery Buzz extension</a>. Never used it, but heard it should work fine. It's able to check if your browser supports some format, really neat feature.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use webm for Chrome, Firefox and Opera + wav for Firefox, IE, Safari and Opera.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;audio id=\"audio\"&gt;&lt;/audio&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>var src = \"myvideoname\";\nvar is_chrome = navigator.userAgent.toLowerCase().indexOf('chrome') &gt; -1;\n\nif (is_chrome) {\n   $(\"#audio\").attr('src', 'audio/' + src + '.webm')\n}\nelse {\n   $(\"#audio\").attr('src', 'audio/' + src + '.wav')\n}\n</code></pre>\n\n<p>To explain:<br>\nJavascript find out users browser and if it is Chrome it serves <code>webm</code> and if it is not than it use <code>wav</code></p>\n\n<p><strong>Note:</strong>\nUsing this code you need only both <code>webm</code> and <code>wav</code> audio with same name in <code>audio</code> folder.</p>\n\n<p><strong>Note 2:</strong> Code needs jQuery.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Frustratingly, there is no universally playable type. WAV comes closest, but it is quite large and is not supported in IE9. You'll need to have multiple types available and choose a type the browser can play.</p>\n\n<p>To do this, use <strong>feature detection</strong>, not browser detection. The media types that each browser supports will change over time, so your code that assumes Firefox can't play MP3 will probably be outdated a few years from now, when Mozilla adopts it (after the patents expire). Use <a href=\"http://developer.mozilla.org/en-US/docs/DOM/HTMLMediaElement#Methods\" rel=\"nofollow\">canPlayType</a>, which indicates if a given format is supported:</p>\n\n<pre><code>var audio = new Audio();\nif(audio.canPlayType(\"audio/mpeg\") == \"probably\") {\n    playSound(\"myMedia.mp3\");\n} else if(audio.canPlayType(\"audio/webm\") == \"probably\") {\n    playSound(\"myMedia.webm\");\n}\n// do check for other types...\n</code></pre>\n\n<p>Also, if you are writing the audio tag as HTML, you can use multiple <code>&lt;source&gt;</code> tags, and the browser will play the first one it can:</p>\n\n<pre><code>&lt;audio controls=\"controls\"&gt;\n    &lt;source src=\"mymedia.ogg\" type=\"audio/ogg\" /&gt;\n    &lt;source src=\"mymedia.mp3\" type=\"audio/mpeg\" /&gt;\n    Update your browser! This sentence is fallback content for browsers that do not support the audio element at all.\n&lt;/audio&gt;\n</code></pre>\n\n<p><strong>EDIT:</strong> If you want to test for Ogg audio support, you want to test for Ogg Vorbis specifically. Ogg is a \"container\" format that can <a href=\"https://en.wikipedia.org/wiki/Ogg#Ogg_codecs\" rel=\"nofollow\">hypothetically use other codecs</a> besides Vorbis and Theora (but I don't know of any other codecs in widespread use, so this appears to be unlikely for now). You can test for Ogg Vorbis like so:</p>\n\n<pre><code>audio.canPlayType('audio/ogg; codecs=\"vorbis\"') == \"probably\";\n</code></pre>\n\n<p>Note that <code>canPlayType</code> has three possible return values:</p>\n\n<ul>\n<li><strong>\"probably\"</strong> - the media type can almost certainly be played</li>\n<li><strong>\"maybe\"</strong> - the media type <em>might</em> be playable. This is what is returned when you ask about general Ogg support in a browser has Ogg support for specific codecs (i.e. Vorbis and Theora). An Ogg file <em>may</em> use a codec that is not supported by the browser, so if you don't specify the codec, the browser can only guess that it <em>might</em> be able to play it.</li>\n<li><strong>\"\"</strong> <em>(the empty string)</em> - the media type is certainly not playable</li>\n</ul>\n\n<p>So, instead of testing for <em>\"probably\"</em>, you could test for a non-empty string (i.e., test for either \"probably\" or \"maybe\"), like so:</p>\n\n<pre><code>var audio = new Audio();\nif(audio.canPlayType(\"audio/mpeg\") != \"\") {\n    playSound(\"myMedia.mp3\");\n} else if(audio.canPlayType(\"audio/ogg\") != \"\") {  // test for *any* Ogg codecs\n    playSound(\"myMedia.ogg\");\n}\n// do check for other types...\n</code></pre>\n\n<p>Basically, the tradeoff with Ogg testing is this:</p>\n\n<ul>\n<li><strong>Testing specific codecs</strong> - new codecs may arise in the future, and your code won't test for them if you hard-code in tests for only Vorbis</li>\n<li><strong>Accepting \"maybe\" for general Ogg support</strong> - again, new codecs may come into use, and the browser may not support the specific codec used in the <code>.ogg</code> media file you choose to serve to the user</li>\n</ul>\n\n<p>Either way, you're safe until new Ogg codecs come into use, which I don't think will happen in the forseeable future.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I'm using this function:</p>\n\n<pre><code>function playSound(file) {\n\nMyAudio = new Audio(file);\nMyAudio.play();\n\n}\n</code></pre>\n\n<p>Unfortunately, I'm struggling to find a file type which will work in all browsers. Mp3 works in Chrome, Safari, IE but not FF and Opera, while .ogg files only seem to work in FF.</p>\n\n<p>Any suggestions as to a way around this? I presume there is no way of programmatically detecting which browser is being used and then playing the appropriate file type? Any advise/ideas appreciated. Thanks.</p>\n",
            "last_activity_date": 1352132452,
            "question_id": 13147951,
            "score": 5,
            "tags": [
                "javascript",
                "audio",
                "cross-browser",
                "mp3",
                "ogg"
            ],
            "title": "What Options Are There for Cross-Browser Compatible Audio?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can only add styles to elements, wrap each character in a <code>&lt;span&gt;</code> and style the span. </p>\n\n<pre class=\"lang-css prettyprint-override\"><code>#header {color: #ddd}\u200b\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=\"header\"&gt;Some text here&lt;/div&gt;\u200b\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(document).ready(function() {\n\n    // COLOURS ARRAY\n    var colours = Array(\"#ddd\", \"#333\", \"#999\", \"#bbb\"), idx;\n\n    $(\"#header\").hover(function(){\n        var header = $(this); \n        var characters = header.text().split('');\n        header.empty();  \n        var content = '';\n        for(var i = 0; i &lt; characters.length; i++) {\n            idx = Math.floor(Math.random() * colours.length);\n            content += '&lt;span style=\"color:'+colours[idx]+'\"&gt;' + characters[i] + '&lt;/span&gt;'; \n        }\n        header.append(content);\n    }, function() {\n        $(this).find('span').contents().unwrap();\n    });\n\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/vVNRF/\" rel=\"nofollow\">http://jsfiddle.net/vVNRF/</a></p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>A string is not an element and you cannot add a CSS property to it. You can put your letters in span elements and then style them, try this:</p>\n\n<pre><code>$(document).ready(function() {\n\n    // COLOURS ARRAY\n    var colours = Array(\"#ddd\", \"#333\", \"#999\", \"#bbb\"), idx;\n\n    $('DIV#header').hover(function(){\n\n        $('span', this).each(function(index, character) {\n            idx = Math.floor(Math.random() * colours.length);\n            $(this).css(\"color\", colours[idx]);\n        });\n\n    }, function() {\n        $('span',this).css(\"color\",\"#ddd\");\n    });\n\n}); \n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/BC5jt/\" rel=\"nofollow\">http://jsfiddle.net/BC5jt/</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>Well, it's exactly what Musa said, you can't apply styles to text nodes, you need a <code>&lt;span&gt;</code> element around each character. Here is some example code that adds the spans dynamically:</p>\n\n<pre><code>$(document).ready(function() {\n\n    // COLOURS ARRAY\n    var colours = [\"#ddd\", \"#333\", \"#999\", \"#bbb\"], \n        idx;\n\n    $(\"DIV#header\").hover(function(){\n        var div = $(this); \n        var chars = div.text().split('');\n        div.html('');     \n        for(var i=0; i&lt;chars.length; i++) {\n            idx = Math.floor(Math.random() * colours.length);\n            var span = $('&lt;span&gt;' + chars[i] + '&lt;/span&gt;').css(\"color\", colours[idx])\n            div.append(span);\n        }\n\n    }, function() {\n        $(this).find('span').css(\"color\",\"#ddd\");\n    });\n\n});\u200b\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/Mv4pw/\" rel=\"nofollow\">http://jsfiddle.net/Mv4pw/</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>As others have pointed out, you can only style something that is an element, so you need to wrap each letter in it's own element. Here is an example way to do this. It works recursively too, so this will work with text that contains other elements, like <code>&lt;b&gt;</code>, <code>&lt;a&gt;</code>, and such. The other examples below assume that the div will have only text and no other HTML tags inside.</p>\n\n<pre><code>var colours = Array(\"#ddd\", \"#333\", \"#999\", \"#bbb\");\n\n$('#header').hover(function(){\n    wrapLetters(this);\n    $('.random-color', this).css('color', function(){\n        var idx = Math.floor(Math.random() * colours.length);\n        return colours[idx];\n    });\n}, function(){\n    $('.random-color', this).css('color', '#ddd');\n});\n\n// Wrap every letter in a &lt;span&gt; with .random-color class.\nfunction wrapLetters(el){\n    if ($(el).hasClass('random-color')) return;\n\n    // Go through children, need to make it an array because we modify\n    // childNodes inside the loop and things get confused by that.\n    $.each($.makeArray(el.childNodes), function(i, node){\n        // Recursively wrap things that aren't text.\n        if (node.nodeType !== Node.TEXT_NODE) return wrapLetters(node);\n\n        // Create new spans for every letter.\n        $.each(node.data, function(j, letter){\n            var span = $('&lt;span class=\"random-color\"&gt;').text(letter);\n            node.parentElement.insertBefore(span[0], node);\n        });\n\n        // Remove old non-wrapped text.\n        node.parentElement.removeChild(node);\n    });\n}\n</code></pre>\n\n<p>Fiddle: <a href=\"http://jsfiddle.net/aWE9U/2/\" rel=\"nofollow\">http://jsfiddle.net/aWE9U/2/</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I'm trying to get each letter in a div element to change to a random colour from an array of colours. Then reset when the mouse moves off the div.</p>\n\n<p>Here's what I've got so far. I think I'm pretty close, apart from the fact it doesn't actually work. This was built from a few different snippets on this site.  </p>\n\n<pre><code>$(document).ready(function() {\n\n    // COLOURS ARRAY\n    var colours = Array(\"#ddd\", \"#333\", \"#999\", \"#bbb\"), idx;\n\n    $(\"DIV#header\").hover(function(){\n\n        $( $(this).text().split('')).each(function(index, character) {\n            idx = Math.floor(Math.random() * colours.length);\n            $(this).css(\"color\", colours[idx]);\n        });\n\n    }, function() {\n        $(this).css(\"color\",\"#ddd\");\n    });\n\n});</code></pre>\n\n<p>It doesn't produce any JS errors. The 2nd function of the hover seems to work but not the first. Any help would be gratefully received!</p>\n",
            "last_activity_date": 1368218367,
            "question_id": 12555995,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "each"
            ],
            "title": "jQuery each letter in div element, random colour from array on hover"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You are right RichTextArea is not providing the setSelectionRange method, but i have created one using the JSNI.</p>\n\n<p>Below is the method,</p>\n\n<pre><code>public native void setSelectionRange(Element elem, int pos, int length) /*-{\n    try {\n        var selection = null, range2 = null;\n        var iframeWindow = elem.contentWindow;\n        var iframeDocument = iframeWindow.document;\n\n        selection = iframeWindow.getSelection();\n        range2 = selection.getRangeAt(0);\n\n        //create new range\n        var range = iframeDocument.createRange();\n        range.setStart(selection.anchorNode, pos);\n        range.setEnd(selection.anchorNode, length);\n\n        //remove the old range and add the newly created range\n        if (selection.removeRange) { // Firefox, Opera, IE after version 9\n            selection.removeRange(range2);\n        } else {\n            if (selection.removeAllRanges) { // Safari, Google Chrome\n                selection.removeAllRanges();\n            }\n        }\n        selection.addRange(range);\n    } catch (e) {\n        $wnd.alert(e);\n    }\n}-*/;\n</code></pre>\n\n<p>For using above method write below code:</p>\n\n<pre><code>final RichTextArea tr = new RichTextArea();\n    Button b = new Button(\"Test\");\n    b.addClickHandler(new ClickHandler() {\n\n        @Override\n        public void onClick(ClickEvent event) {\n            setSelectionRange(tr.getElement(), 15, 20);\n            tr.setFocus(true);\n        }\n    });\n    RootPanel.get().add(tr);\n    RootPanel.get().add(b);\n</code></pre>\n\n<p>Note: Do remember to put the validation checks of \"pos\" and \"length\" you are passing in setSelectionRange() method.\nThis code had been tested in IE9, FF, Chrome. </p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>Not sure if this is still required, but I have been trying to get this working all day and have finally managed to hack my way to a solution. This has only been tested in Chrome/Safari. Hope it helps someone.</p>\n\n<pre><code>public static native void setCursor(Element elem, int pos, int length) /*-{\n    var node = elem.contentWindow.document.body\n    var range = elem.contentWindow.getSelection().getRangeAt(0);\n\n    var treeWalker = $doc.createTreeWalker(node, NodeFilter.SHOW_TEXT, function(node) {\n        var nodeRange = $doc.createRange();\n        nodeRange.selectNodeContents(node);\n        return NodeFilter.FILTER_ACCEPT;\n\n    var charCount = 0;\n    while (treeWalker.nextNode()) {\n        if (charCount + treeWalker.currentNode.length &gt; pos)\n            break;\n\n        charCount += treeWalker.currentNode.length;\n    }\n\n    var newRange = elem.contentWindow.document.createRange();\n    newRange.setStart(treeWalker.currentNode, 1);\n    newRange.setEnd(treeWalker.currentNode, 1);\n\n    var selection = elem.contentWindow.getSelection();\n\n    if (selection.removeRange) { // Firefox, Opera, IE after version 9\n        selection.removeRange(range);\n    } else if (selection.removeAllRanges) { // Safari, Google Chrome\n        selection.removeAllRanges();\n    }\n\n    selection.addRange(newRange);\n}-*/;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a way to set the cusror position in GWT RichTextArea. There is method setCusrorPosition() to do so in TextArea, but not in RichTextArea.\nPerhaps there is a native JavaScript (called from GWT) that could set the cursor position in the RichTextArea?</p>\n",
            "last_activity_date": 1402524174,
            "question_id": 12549739,
            "score": 5,
            "tags": [
                "java",
                "javascript",
                "gwt",
                "cursor",
                "richtextbox"
            ],
            "title": "How to setcursor position in GWT RichTextArea"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><code>request</code> returns a special <code>promise</code> (<a href=\"http://www.sitepen.com/blog/2012/08/21/introducing-dojorequest/\">source</a>):</p>\n\n<blockquote>\n  <p>Promises returned from dojo/request calls have an additional property not available on standard promises: response. This property is a promise that will resolve to a frozen object (where available) describing the response in more detail:</p>\n  \n  <ul>\n  <li>url \u2013 final URL used to make the request (with query string appended)</li>\n  <li>options \u2013 options object used to make the request</li>\n  <li>text \u2013 string representation of the data in the response</li>\n  <li>data \u2013 the handled data in the response (if handleAs was specified)</li>\n  <li>getHeader(headerName) \u2013 a function to get a header from the request; if a provider doesn\u2019t provide header information, this function will return null.</li>\n  </ul>\n</blockquote>\n\n<p>So you should chain <code>.then</code> to this <code>promise.response</code> to get access to all the aforementioned properties:</p>\n\n<pre><code>var promise = request.get(\"{{dataUrl}}dojo/LICENSE\");\n\npromise.response.then(function(response) {\n    console.log(\"status\", response.status);\n    console.log(\"url\", response.url);\n    console.log(\"data\", response.data);\n});\n</code></pre>\n\n<p>See a working example at jsFiddle: <a href=\"http://jsfiddle.net/phusick/6wB2L/\">http://jsfiddle.net/phusick/6wB2L/</a></p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>With the \"old\" Dojo one could pass a second argument <code>ioargs</code> to the <code>load</code> function of a Xhr request (<a href=\"http://dojotoolkit.org/reference-guide/1.8/dojo/xhrGet.html#dojo-xhrget\">see Example 6 here</a>). This <code>ioargs</code> provided (among other things) the timestamp and status code of the request.</p>\n\n<p>But how can I achieve this with the new and \"cleaner\" (and forward compatible) Dojo?<br>\nUnfortunately, I could not find any hints in the <a href=\"http://dojotoolkit.org/reference-guide/1.8/dojo/request/xhr.html#id5\">current documentation</a>.</p>\n\n<p>The following should be a port of above referenced example to the \"new\" Dojo. But, <code>ioargs</code> will be undefined:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>require( \"dojo/request/xhr\", \"dojo/dom\", \"dojo/domReady!\",\n  function(request, dom){\n    // Look up the node we'll stick the text under.\n    var targetNode = dom.byId(\"getLicenseStatus\");\n\n    // The parameters to pass to xhrGet, the url, how to handle it, and the callbacks.\n    request.get(\n      \"{{dataUrl}}dojo/LICENSE\",\n      {\n        handleAs: \"text\",\n        preventCache: true\n      }\n    ).then(\n      function(data, ioargs){\n        // FIXME: ioargs is undefined\n        targetNode.innerHTML = \"XHR returned HTTP status: \" + ioargs.xhr.status;\n      },\n      function(error){\n        targetNode.innerHTML = \"An unexpected error occurred: \" + error.response.status + \": \" + error.response.text;\n      }\n    );\n  }\n);\n</code></pre>\n\n<p>What do I need to change to have the request's timestamp and status code available in the load function?</p>\n",
            "last_activity_date": 1346142387,
            "question_id": 12154748,
            "score": 5,
            "tags": [
                "javascript",
                "dojo",
                "xmlhttprequest"
            ],
            "title": "How to retreive XHR response code (+timestamp) of AMD&#39;ized Dojo?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can't <em>install</em> anything special to add support for File API in IE8. What you can do is use a <strong>polyfill</strong> in order to implement this functionality in browsers that don't natively support it. Take a look at this list of <a href=\"https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills\">HTML5 Cross Browser Polyfills</a> (you should find something suitable for you in <em>File API / Drag and Drop</em> section).</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>After some researches i have got there is no way to Enable file API in IE8 but, i got some thing that want to share it with you .....<br>\nNot directly, HTML 5 is not supported by IE8. There is addons  for Canvas, and also there is Google Chrome Frame, a plugin to add HTML 5 to IE older than 9.<br>\nAs i understood , Google Chrome Frame is perfect way to use HTML5.<br>\nIt increases IE speed 10 times and also it's usage is very easy and i describe it for you all members...<br>\nGoogle Chrome Frame</p>\n\n<p>A plugin for Internet Explorer that add to the Microsoft's browser, a full HTML 5 support and the JavaScript compiler of Chrome!\nA stable version was released on September 22, 2010 and a lot of sites have added the code in their pages.</p>\n\n<p>This plugin will work on Internet Explorer 6, 7 and further versions. Google wants to break a barrier that prevents the Web to evolve: the most common browser and its lack of compatibility with the new standards.</p>\n\n<p>When it is recognized, Internet Explorer will run under WebKit, the rendering engine of Chrome and Safari, and the it will use the ultra-fast JavaScript compiler in replacement if the IE interpreter.</p>\n\n<p>The advantage of this plugin is great for the compatibility of web applications and will become even more useful with WebGL integrated in Webkit, which let us have applications in 3D on the browser: a very different Web! \nWebGL is also supported by Firefox since the version 3.7.</p>\n\n<p>Since May 2011, the plugin can be installed without administrator rights, so on older version of IE which are incorporated into a server and can not be updated.</p>\n\n<p>A tag in the code of a Web page will display a message prompting the user to download the plugin. Once it is installed, IE run as Chrome and will support HTML 5.</p>\n\n<p>Features of Frame</p>\n\n<p>The off-line mode.\nThe  and  tags. Microsoft also plans to implement them in IE.\nCanvas.\nWebGL.\nCSS 3.\nJavaScript compiler.\nCompatibility at Acid 3 level.\nSee the vid\u00e9o.</p>\n\n<p>Reaction from Microsoft</p>\n\n<p>We were expecting that Microsoft has not appreciated really this initiative that promotes HTML 5 to the detriment of their own solution, Silverlight. The firm highlights a security problem:</p>\n\n<p>Given the security issues with plug-ins in general and Google Chrome in particular, Google Chrome Frame running as a plug-in has doubled the attack area for malware and malicious scripts.</p>\n\n<p>**</p>\n\n<blockquote>\n  <p>Chrome Frame. Automatic install. ->\n  <a href=\"http://www.google.com/chromeframe/?quickenable=true\" rel=\"nofollow\">http://www.google.com/chromeframe/?quickenable=true</a> <br> Google Chrome\n  Frame code. -> <a href=\"https://developers.google.com/chrome/chrome-frame/\" rel=\"nofollow\">https://developers.google.com/chrome/chrome-frame/</a> <br>\n  Chrome Frame: Developer Guide. -> <a href=\"http://www.chromium.org/developers/how-tos/chrome-frame-getting-started\" rel=\"nofollow\">http://www.chromium.org/developers/how-tos/chrome-frame-getting-started</a></p>\n</blockquote>\n\n<p>**</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This works for me in pre IE10, i use <a href=\"https://github.com/eligrey/FileSaver.js\" rel=\"nofollow\">https://github.com/eligrey/FileSaver.js</a> for every other browser, note though this works it's not perfect, because it's IE and well you know what I mean</p>\n\n<p>Hope this helps</p>\n\n<pre><code>/**\n * saves File, pops up a built in javascript file as a download\n * @param {String} filename, eg doc.csv\n * @param {String} filecontent eg \"this\",\"is\",\"csv\"\n * @param {String} mimetype eg \"text/plain\"\n */\nfunction saveAs (filename, filecontent, mimetype) {\n    var w = window.open();\n    var doc = w.document;\n    doc.open( mimetype,'replace');\n    doc.charset = \"utf-8\";\n    doc.write(filecontent);\n    doc.close();\n    doc.execCommand(\"SaveAs\", null, filename);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>i have developed a web application in asp.net , there is a page in this project which user should choose a file in picture format (jpeg,jpg,bmp,...) and i want to preview image in the page but i don't want to post file to server i want to handle it in client i have done it with java scripts functions via file API but it only works in IE9 but most of costumers use IE8 the  reason is that IE8 doesn't support file API is there any way to make IE8 upgrade or some patches in code behind i mean that check if the browser is IE and not support file API call a function which upgrades IE8 to IE9 automatically.<br/></p>\n\n<p>i don't want to ask user to do it in message i want to do it programmatic !!<br/>\neven if it is possible install a special patch that is required for file API\nbecause customers thought it is a bug in my application and their computer knowledge is low \nwhat am i supposed to do with this?<br/>\ni also use Async File Upload Ajax Control But it post the file to server any way  with ajax solution and http handler but java scripts do it all in client browser!!!<br/><br/>\nfollowing script checks the browser supports API or not</p>\n\n<pre><code>&lt;script&gt;\nif (window.File &amp;&amp; window.FileReader &amp;&amp; window.FileList &amp;&amp; window.Blob) \n  document.write(\"&lt;b&gt;File API supported.&lt;/b&gt;\");\nelse\n  document.write('&lt;i&gt;File API not supported by this browser.&lt;/i&gt;');\n&lt;/script&gt;   \n</code></pre>\n\n<p>following scripts do the read and Load Image</p>\n\n<pre><code>function readfile(e1)\n{\n  var filename = e1.target.files[0]; \n  var fr = new FileReader();\n   fr.onload = readerHandler;  \n  fr.readAsText(filename); \n} \n</code></pre>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;input type=\"file\" id=\"getimage\"&gt;\n\n&lt;fieldset&gt;&lt;legend&gt;Your image here&lt;/legend&gt;\n    &lt;div  id=\"imgstore\"&gt;&lt;/div&gt;\n&lt;/fieldset&gt; \n</code></pre>\n\n<p>JavaScript code:</p>\n\n<pre><code>&lt;script&gt;\nfunction imageHandler(e2) \n{ \n  var store = document.getElementById('imgstore');\n  store.innerHTML='&lt;img src=\"' + e2.target.result +'\"&gt;';\n}\n\nfunction loadimage(e1)\n{\n  var filename = e1.target.files[0]; \n  var fr = new FileReader();\n  fr.onload = imageHandler;  \n  fr.readAsDataURL(filename); \n}\n\nwindow.onload=function()\n{\n  var x = document.getElementById(\"filebrowsed\");\n  x.addEventListener('change', readfile, false);\n  var y = document.getElementById(\"getimage\");\n  y.addEventListener('change', loadimage, false);\n}\n&lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1404838823,
            "question_id": 12140105,
            "score": 5,
            "tags": [
                "javascript",
                "asp.net",
                "browser",
                "internet-explorer-8"
            ],
            "title": "How to Enable JavaScript file API in IE8"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<ol>\n<li>Wikipedia please.</li>\n<li>Javascript is a language, this is probably what you want to learn rather than a spec.</li>\n<li>Welcome in hell, all. <a href=\"http://modernizr.com\" rel=\"nofollow\">Modernizr</a> and <a href=\"http://jquery.com\" rel=\"nofollow\">jQuery</a> exists for a reason. Unless you are doing Javascript on the server side with Node.js for example, in this case you can focus on only one JS Engine (V8 for Node).</li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript\" rel=\"nofollow\">MDN</a></li>\n<li>Test, Test, Test and re Test. Try never to use too recent features and use libraries.</li>\n<li>MDN tells you which browser supports what.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<ol>\n<li><p>ECMAScript is the scripting language standardized by Ecma International in the ECMA-262 specification and ISO/IEC 16262. The language is widely used for client-side scripting on the web, in the form of several well-known dialects such as JavaScript, JScript, and ActionScript.</p></li>\n<li><p>Depends on you, but I think most commonly used for web dev is JavaScript </p></li>\n<li><p>JavaScript was formalized in the ECMAScript language standard and is primarily used in the form of client-side JavaScript</p></li>\n<li><p>I would recommend <a href=\"http://rads.stackoverflow.com/amzn/click/0596517742\" rel=\"nofollow\">this</a> book </p></li>\n<li><p>By learning more and more about the language itself and writing tests</p></li>\n<li><p>Look <a href=\"http://www.w3schools.com/js/default.asp\" rel=\"nofollow\">here</a></p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<ol>\n<li>They're one and the same - for an history on JavaScript watch the Douglas Crockford webcasts on YouTube. </li>\n</ol>\n\n<p><a href=\"http://youtu.be/_DKkVvOt6dk\" rel=\"nofollow\">http://youtu.be/_DKkVvOt6dk</a>\nhttp://youtu.be/hQVTIJBZook</p>\n\n<p>2,3,4. Start with this <a href=\"http://eloquentjavascript.net/\" rel=\"nofollow\">http://eloquentjavascript.net/</a></p>\n\n<ol>\n<li><p>Libraries like jQuery do a good job in normalising behaviour across browsers.</p></li>\n<li><p>I <em>think</em> this is what you are looking for <a href=\"http://dochub.io/#javascript/\" rel=\"nofollow\">http://dochub.io/#javascript/</a></p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Javascript is the original name when the language was developed by Netscape.</p>\n\n<p>JScript is Microsoft's name of their own implementation.</p>\n\n<p>ECMAScript is the name of the language standard developed by ECMA, from the original Javascript implementation.</p>\n\n<p>So, it's just one language, with different implementations.</p>\n\n<p>The implementations of Javascript and JScript differ somewhat in what they support, but each version supports what's in the corresponding version of the ECMAScript standard. Generally you just use what's supported a few versions back, so that it works in all the browsers that are still in use.</p>\n\n<p>One reference is the <a href=\"https://developer.mozilla.org/en-US/\">Mozilla Developer Network</a>, as Mozilla is the current developer of Javascript. For each method and property you can find which version it is supported in.</p>\n\n<p>JScript is documented at the <a href=\"http://msdn.microsoft.com/en-gb/\">Microsoft Developer Network</a>, and has similar information about support. (Note that all Microsoft documentation is there, not only JScript, so for example you would need to search for \"jscript array\" rather than just \"array\".)</p>\n\n<p>Using a library like jQuery is useful to avoid dealing with some of the compatibility problems between browsers.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>It is important to understand, that ECMAScript is a standard, defined in the last century. :D Whereas Javascript is derived from ECMAScript. Derived in a sense, that it implements the standard.</p>\n\n<p>The big difference is, that Javascript actually only exists within the Browser, saying, it is by no means a standard in itself. Every browser can (and a lot do) implement it's own methods.</p>\n\n<p>So, if you seriously want to learn it and write clean code, then IMHO you have to first get familiar with the ECMAScript standard.</p>\n\n<p>To 3: Since Javascript is implemented by the browser, this really depends on what browsers you want to develop code for. Older browser may have to be dealt with trought some seperate handling in your code.</p>\n\n<p>To 5: Again, javascript can check what browser (or what client software in general) requestet the page it is loaded in. Meaning: If bad comes to worse, you can deal with each browser seperately in your code. But most of the time they are pretty compliant (at least the later versions)</p>\n\n<p>On 4 and 6 I'd have to check first for myself.</p>\n\n<p>Hope I could help you out a bit.</p>\n\n<p>Regards</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<ol>\n<li><p>ECMAScript is the language, JavaScript and JScript are <em>dialects</em></p></li>\n<li><p>I would, personally, look at and learn JavaScript.</p></li>\n<li><p>It depends on what browsers you want to support, easily googled.</p></li>\n<li><p><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript\" rel=\"nofollow\">MDN</a> is a pretty good web source. <a href=\"http://rads.stackoverflow.com/amzn/click/0596517742\" rel=\"nofollow\">JavaScript: The Good Parts</a> and <a href=\"http://rads.stackoverflow.com/amzn/click/0596000480\" rel=\"nofollow\">JavaScript: The Definitive Guide</a> are both very good books, the first short and concise the latter very detailed.</p></li>\n<li><p>JavaScript libraries like jQuery is very good for this reason. It all comes down to learning all the quirks of the browsers. Google is your friend.</p></li>\n<li><p><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript\" rel=\"nofollow\">MDN</a>.</p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>OK, so I'm trying to learn JavaScript properly so that I can write good, clean client-side code, but whenever I think I'm making progress, something stops me dead in my tracks!</p>\n\n<p>I want to know:</p>\n\n<ol>\n<li><p>What is the different between JavaScript, ECMAScript and JScript?</p></li>\n<li><p>Which should I focus on learning?</p></li>\n<li><p>If these are versioned, which version should I be supporting?</p></li>\n<li><p>Are there any really good references (web / books etc) that are a must have/read?</p></li>\n<li><p>How do I ensure that what I write will be compliant with all major browsers (IE, FF, Safari, Chrome, Opera etc.) ?</p></li>\n<li><p>MOST IMPORTANTLY...Is there a reference of the core objects (Array, Number etc) so I know what is implemented already and what I need to do myself?</p></li>\n</ol>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1422237027,
            "question_id": 12051002,
            "score": 5,
            "tags": [
                "javascript",
                "jscript"
            ],
            "title": "What&#39;s the difference between  JavaScript, JScript &amp; ECMAScript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I don't think so. You could name the globals you want to protect in the parameters so that they shadow them:</p>\n\n<pre><code>window.a = 4;\nFunction(\"a\", \"a=3;\")()\nconsole.log(a === 4);\n</code></pre>\n\n<p>But the function is going to have access to global no matter what you try... that's why it's called global.</p>\n\n<p>Depending on what you are trying to do, there are other work-arounds such as web workers... and as always, <a href=\"http://stackoverflow.com/a/11870104/995876\">hidden iframe hacks</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>@Esailija's answer is right. Additionally, I would recommend limiting the number of global variables that you have to protect in the first place. Put anything that you would normally put in the global namespace in an <code>APP</code> scope that you control:</p>\n\n<pre><code>var APP = (function() {\n    return {\n        a: 4\n    };\n}());\n</code></pre>\n\n<p>There's no way to completely limit access to the global scope, but at least this way you only need to protect one object: <code>APP</code>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here is an additional idea which could be quite powerful together with Esailija's proposal (see the comments on his answer for the discussion).</p>\n\n<p>You could create dummy iframe and use its <code>Function</code> function. The function created with that will only have access to the scope of the iframe by default, though it could still break out of it. Fortunately it is easy to prevent that, by the way Esailija suggested.</p>\n\n<p>I could imagine the  function to be like this:</p>\n\n<pre><code>function sandboxed(code) {\n    var frame = document.createElement('iframe');\n    document.body.appendChild(frame);\n\n    var F = frame.contentWindow.Function,\n        args = Object.keys(frame.contentWindow).join();\n\n    document.body.removeChild(frame);\n\n    return F(args, code)();\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/x62Zc/\"><strong>DEMO</strong></a></p>\n\n<p>Optionally you might want to prepend <code>'use strict';</code> to the code. </p>\n\n<hr>\n\n<p>This works at least in Chrome. Whether the function created this way has access to the iframe's global scope or the page's global scope can be easily tested with:</p>\n\n<pre><code>(function() {\n    var frame = document.createElement('iframe');\n    document.body.appendChild(frame);\n    var same = window === frame.contentWindow.Function('return window;')();\n    alert(same ? ':(' : ':)');\n    document.body.removeChild(frame);\n}());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>Can I limit the access of a string-generated function (using the Function constructor) to the parent/global scopes?</p>\n\n<p>For example: the following code, as it is, prints <em>false</em>, because the function is storing/modifying the variable a in window.</p>\n\n<pre><code>window.a = 4;\nFunction(\"a=3;\")()\nconsole.log(a === 4);\n</code></pre>\n\n<p>Could I restrict the access to window/parent scope and make it print out <em>\"true\"</em>?</p>\n",
            "last_activity_date": 1386167756,
            "question_id": 11869582,
            "score": 5,
            "tags": [
                "javascript",
                "scope",
                "variable-scope",
                "sandbox"
            ],
            "title": "Make sandbox around Function() in Javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>No, there's not a way to drop several collections by a wildcard/regex. You have to drop them one by one. I recently performed a similar task and my script was able to drop ~20-30 collections per second. How many do you have?</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can delete all the collections using the following command.</p>\n\n<pre><code>&gt; use database_name;\n\n&gt; db.getCollectionNames().forEach(function(c) {\n    if(c != 'system.indexes') { \n        db.getCollection(c).drop();\n    }\n  });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>For regex you can use string.match</p>\n\n<pre><code>db.getCollectionNames().forEach(function(c) {\n    if(!c.match(\"^system.indexes\")) { \n        db.getCollection(c).drop();\n    }\n  });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You can drop <strong>every</strong> collection in the database with <code>db.dropDatabase()</code> in the mongo shell. Just make sure you really want to nuke everything before you do.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>There are a lot of mongodb collections in my database that I need to delete. They all have similar names, and it would be easy to delete them if only wildcard characters could be used. But it doesn't look like they can.</p>\n\n<p>Is there a way to select a bunch of collections at once to delete them?</p>\n",
            "last_activity_date": 1426055914,
            "question_id": 11206890,
            "score": 5,
            "tags": [
                "javascript",
                "database",
                "mongodb"
            ],
            "title": "How to delete lots of mongodb collections at once?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If you are looking for a fully static way of doing this, you might be able to combine non-scaling-stroke with markers to get this, since the markers can be relative to the stroke-width.</p>\n\n<p>In other words, you could wrap the circles in a &lt;marker> element and then use those markers where you need them.</p>\n\n<pre><code>&lt;svg width=\"500\" height=\"500\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 2000 2000\"&gt;\n    &lt;marker id=\"Triangle\"\n      viewBox=\"0 0 10 10\" refX=\"0\" refY=\"5\" \n      markerUnits=\"strokeWidth\"\n      markerWidth=\"4\" markerHeight=\"3\"\n      orient=\"auto\"&gt;\n      &lt;path d=\"M 0 0 L 10 5 L 0 10 z\" /&gt;\n    &lt;/marker&gt;\n        &lt;path d=\"M 100 100 l 200 0\" vector-effect=\"non-scaling-stroke\"\n        fill=\"none\" stroke=\"black\" stroke-width=\"10\" \n        marker-end=\"url(#Triangle)\"  /&gt;\n        &lt;path d=\"M 100 200 l 200 0\" \n        fill=\"none\" stroke=\"black\" stroke-width=\"10\" \n        marker-end=\"url(#Triangle)\"  /&gt;\n&lt;/svg&gt;\n</code></pre>\n\n<p>The same can also be viewed and tweaked <a href=\"http://jsfiddle.net/vScAX/\" rel=\"nofollow\">here</a>. The svg spec isn't fully explicit about what should happen in this case (since markers are not in SVG Tiny 1.2, and vector-effect isn't in SVG 1.1). My current line of thinking was that it should probably affect the size of the marker, but it seems no viewers do that at the moment (try in a viewer that supports vector-effect, e.g Opera or Chrome).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It took me a while, but I finally got the math clean. This solution requires three things:</p>\n\n<ol>\n<li>Include <a href=\"http://phrogz.net/svg/libraries/SVGPanUnscale.js\" rel=\"nofollow\">this script</a> in your page (along with the SVGPan.js script), e.g.<br>\n<code>&lt;script xlink:href=\"SVGPanUnscale.js\"&gt;&lt;/script&gt;</code></li>\n<li>Identify the items you want not to scale (e.g. place them in a group with a special class or ID, or put a particular class on each element) and then tell the script how to find those items, e.g.<br>\n<code>unscaleEach(\"g.non-scaling &gt; *, circle.non-scaling\");</code></li>\n<li><strong>Use <code>transform=\"translate(\u2026,\u2026)\"</code> to place each element on the diagram, <em>not</em> <code>cx=\"\u2026\" cy=\"\u2026\"</code>.</strong></li>\n</ol>\n\n<p>With just those steps, zooming and panning using SVGPan will not affect the scale (or rotation, or skew) of marked elements.</p>\n\n<h2>Demo: <a href=\"http://phrogz.net/svg/scale-independent-elements.svg\" rel=\"nofollow\">http://phrogz.net/svg/scale-independent-elements.svg</a></h2>\n\n<h2>Library</h2>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Copyright 2012 \u00a9 Gavin Kistner, !@phrogz.net\n// License: http://phrogz.net/JS/_ReuseLicense.txt\n\n// Undo the scaling to selected elements inside an SVGPan viewport\nfunction unscaleEach(selector){\n  if (!selector) selector = \"g.non-scaling &gt; *\";\n  window.addEventListener('mousewheel',     unzoom, false);\n  window.addEventListener('DOMMouseScroll', unzoom, false);\n  function unzoom(evt){\n    // getRoot is a global function exposed by SVGPan\n    var r = getRoot(evt.target.ownerDocument);\n    [].forEach.call(r.querySelectorAll(selector), unscale);\n  }\n}\n\n// Counteract all transforms applied above an element.\n// Apply a translation to the element to have it remain at a local position\nfunction unscale(el){\n  var svg = el.ownerSVGElement;\n  var xf = el.scaleIndependentXForm;\n  if (!xf){\n    // Keep a single transform matrix in the stack for fighting transformations\n    // Be sure to apply this transform after existing transforms (translate)\n    xf = el.scaleIndependentXForm = svg.createSVGTransform();\n    el.transform.baseVal.appendItem(xf);\n  }\n  var m = svg.getTransformToElement(el.parentNode);\n  m.e = m.f = 0; // Ignore (preserve) any translations done up to this point\n  xf.setMatrix(m);\n}\n</code></pre>\n\n<h2>Demo Code</h2>\n\n<pre class=\"lang-svg prettyprint-override\"><code>&lt;svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"&gt;\n  &lt;title&gt;Scale-Independent Elements&lt;/title&gt;\n  &lt;style&gt;\n    polyline { fill:none; stroke:#000; vector-effect:non-scaling-stroke; }\n    circle, polygon { fill:#ff9; stroke:#f00; opacity:0.5 }\n  &lt;/style&gt;\n  &lt;g id=\"viewport\" transform=\"translate(500,300)\"&gt;\n    &lt;polyline points=\"-100,-50 50,75 100,50\" /&gt;\n    &lt;g class=\"non-scaling\"&gt;\n      &lt;circle  transform=\"translate(-100,-50)\" r=\"10\" /&gt;\n      &lt;polygon transform=\"translate(100,50)\" points=\"0,-10 10,0 0,10 -10,0\" /&gt;\n    &lt;/g&gt;\n    &lt;circle class=\"non-scaling\" transform=\"translate(50,75)\" r=\"10\" /&gt;\n  &lt;/g&gt;\n  &lt;script xlink:href=\"SVGPan.js\"&gt;&lt;/script&gt;\n  &lt;script xlink:href=\"SVGPanUnscale.js\"&gt;&lt;/script&gt;\n  &lt;script&gt;\n    unscaleEach(\"g.non-scaling &gt; *, circle.non-scaling\");\n  &lt;/script&gt;\n&lt;/svg&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Looks like some work was done in webkit (maybe related to this bug: <a href=\"https://code.google.com/p/chromium/issues/detail?id=320635\" rel=\"nofollow\">320635</a>) and the new transform doesn't stick around when simply appended like that</p>\n\n<pre><code>transform.baseVal.appendItem\n</code></pre>\n\n<p>This seems to work better. Even works in IE 10. </p>\n\n<p>EDIT: Fixed the code for more general case of multiple translate transformations in the front and possible other transformations after. First matrix transformation after all translates must be reserved for unscale though. </p>\n\n<p><code>translate(1718.07 839.711) translate(0 0) matrix(0.287175 0 0 0.287175 0 0) rotate(45 100 100)</code></p>\n\n<pre><code>function unscale()\n{\n    var xf = this.ownerSVGElement.createSVGTransform();\n    var m = this.ownerSVGElement.getTransformToElement(this.parentNode);\n    m.e = m.f = 0; // Ignore (preserve) any translations done up to this point\n    xf.setMatrix(m);\n\n    // Keep a single transform matrix in the stack for fighting transformations\n    // Be sure to apply this transform after existing transforms (translate)\n    var SVG_TRANSFORM_MATRIX = 1;\n    var SVG_TRANSFORM_TRANSLATE = 2;\n    var baseVal = this.transform.baseVal;\n    if(baseVal.numberOfItems == 0)\n        baseVal.appendItem(xf);\n    else\n    {\n        for(var i = 0; i &lt; baseVal.numberOfItems; ++i)\n        {\n            if(baseVal.getItem(i).type == SVG_TRANSFORM_TRANSLATE &amp;&amp; i == baseVal.numberOfItems - 1)\n        {\n                baseVal.appendItem(xf);\n            }\n\n            if(baseVal.getItem(i).type != SVG_TRANSFORM_TRANSLATE)\n            {\n                if(baseVal.getItem(i).type == SVG_TRANSFORM_MATRIX)\n                    baseVal.replaceItem(xf, i);\n                else\n                    baseVal.insertItemBefore(xf, i);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm developing a map, in Javascript using SVG to draw the lines.</p>\n\n<p>I would like to add a feature where you can search for a road, and if the road is found, a circle appears on the map.</p>\n\n<p>I know i can draw a circle in SVG, but my problem is that, the size of the circle should not change depending on the zoom-level. In other words the circle must have the same size at all times.\nThe roads on my map have this feature, all i had to do was add</p>\n\n<pre><code>vector-effect=\"non-scaling-stroke\"\n</code></pre>\n\n<p>to the line attributes..</p>\n\n<p>A line looks like this.</p>\n\n<pre><code>&lt;line vector-effect=\"non-scaling-stroke\" stroke-width=\"3\" id = 'line1' x1 = '0' y1 = '0' x2 = '0' y2 = '0' style = 'stroke:rgb(255,215,0);'/&gt; \n</code></pre>\n\n<p>The circle looks like this.</p>\n\n<pre><code>&lt;circle id = \"pointCircle\" cx=\"0\" cy=\"0\" r=\"10\" stroke=\"red\" stroke-width=\"1\" fill = \"red\"/&gt;\n</code></pre>\n\n<p>Is it possible to define the circle as \"non-scaling\" somehow?</p>\n",
            "last_activity_date": 1401492475,
            "question_id": 10473328,
            "score": 5,
            "tags": [
                "javascript",
                "svg"
            ],
            "title": "How to draw non-scalable circle in SVG with Javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>If you need to scape the page content which is updated with AJAX and you are not in the control of this AJAX interface I would use Selenium browser automator for the task:</p>\n\n<p><a href=\"http://code.google.com/p/selenium/\" rel=\"nofollow\">http://code.google.com/p/selenium/</a></p>\n\n<ul>\n<li><p>Selenium has Python bindings</p></li>\n<li><p>It launches a real browser instance so it can do and scrape 100% the same thing as you see with your own eyes</p></li>\n<li><p>Get HTML document content after AJAX updates thru Selenium API</p></li>\n<li><p>Use lxml + xpath / CSS selectors to parse out the relevant parts out of the document</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There's also <a href=\"https://github.com/niklasb/dryscrape\">dryscape</a> (a library written by me, so the recommendation is a bit biased, obviously :) which uses a fast Webkit-based in-memory browser to navigate around. It understands Javascript, too, but is a lot more lightweight than Selenium.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I want to scrape some data of following url using Python.\n<a href=\"http://www.hankyung.com/stockplus/main.php?module=stock&amp;mode=stock_analysis_infomation&amp;itemcode=078340\" rel=\"nofollow\">http://www.hankyung.com/stockplus/main.php?module=stock&amp;mode=stock_analysis_infomation&amp;itemcode=078340</a></p>\n\n<p>It's about a summary of company information. </p>\n\n<p>What I want to scrape is not shown on the first page. \nBy clicking tab named \"\uc7ac\ubb34\uc81c\ud45c\", you can access financial statement. And clicking tab named \"\ud604\uae08\ud750\ub984\ud45c', you can access \"Cash Flow\". </p>\n\n<p>I want to scrape the \"Cash Flow\" data. </p>\n\n<p>However, Cash flow data is generated by javascript across the url.\nThe following link is that url which is hidden, <a href=\"http://stock.kisline.com/compinfo/financial/main.action?vhead=N&amp;vfoot=N&amp;vstay=&amp;omit=&amp;vwidth=\" rel=\"nofollow\">http://stock.kisline.com/compinfo/financial/main.action?vhead=N&amp;vfoot=N&amp;vstay=&amp;omit=&amp;vwidth=</a></p>\n\n<p>Cash flow data is generated by submitting some option value and cookie to this url.</p>\n\n<p>As you perceived, itemcode=078340 in the first link means stock code and there are as many as 1680 stocks that I want gather cash flow data. I want make it a loop structure.</p>\n\n<p>Is there good way to scrape cash flow data?\nI tried scrapy but scrapy is difficult to cope with my another scraping code already I'm using.</p>\n",
            "last_activity_date": 1333794339,
            "question_id": 10052465,
            "score": 5,
            "tags": [
                "javascript",
                "python",
                "screen-scraping",
                "web-scraping"
            ],
            "title": "Scraping javascript-generated data using Python"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can use JavaScript to change the action of the form when the button is clicked and then submit it.</p>\n\n<p>Or simply submit the form via AJAX and then redirect after you get a response.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>&lt;form onreturn=\"someJavascriptFunction()\" action=\"\" method=\"\"&gt;\n</code></pre>\n\n<p>creating a js function able to open this preview page</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Give your form an ID (form1). The action of the current form can be controlled like this:</p>\n\n<pre><code>function setPreview() {\n    $('#form1').attr('target','_blank')\n    $('#form1').attr('action','http://yourpreviewurl.php')\n    $('#form1').submit()\n}\n\nfunction setSubmit() {\n    $('#form1').attr('target','')\n    $('#form1').attr('action','http://yourposturl.php')\n    $('#form1').submit()\n}\n</code></pre>\n\n<p>Have two buttons, both <code>type=\"button\"</code>, one to call setPreview and another to call setSubmit</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Use Javascript to temporarily change the action and target:</p>\n\n<pre><code>&lt;form method=\"post\" action=\"send.php\" id=\"idOfForm\"&gt;\n  &lt;textarea name=\"msg\" id=\"msg\"&gt;&lt;/textarea&gt;\n  &lt;input type=\"submit\" value=\"Send\" /&gt;\n&lt;/form&gt;\n&lt;button onclick=\"doPreview();\"&gt;Preview&lt;/button&gt;\n&lt;script type=\"text/javascript\"&gt;\n    function doPreview()\n    {\n        form=document.getElementById('idOfForm');\n        form.target='_blank';\n        form.action='preview.php';\n        form.submit();\n        form.action='send.php';\n        form.target='';\n    }\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I have a form like this:</p>\n\n<p>index.php</p>\n\n<pre><code>&lt;form method=\"post\" action=\"send.php\"&gt;\n  &lt;textarea name=\"msg\" id=\"msg\"&gt;&lt;/textarea&gt;\n  &lt;input type=\"submit\" value=\"Send\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>So, if I enter something in textarea and clicked on \"Send\", it is submitted to \"send.php\" page. But I want to include another button for previewing it. That is, when this button is clicked, the above form is submitted to \"preview.php\" which will be opened in a new blank window/tab (original page ie. index.php will be there intact). This is to display a preview of the message, that the user is going to send.</p>\n\n<p>I do not know how to do this.</p>\n",
            "last_activity_date": 1325700886,
            "question_id": 8731653,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "Submit form to another page (which is different from the page used in ACTION)"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Ultimately you can't truly hide anything within a JS application that's run in the browser; you can obfuscate or minify the code, which will distract casual users from snooping around, but in the end its always going to be possible to grab your plaintext secret.</p>\n\n<p>If you really need to prevent this from happening, then one option is to pass calls from your extension to a server you have access to. Your server can add any paramters required for signing, forward the call on to the relevant API, and pass the API's response back to the user. Of course this adds bandwidth / uptime constraints which you may not want.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I'm building a Chrome extension using the Remember the Milk web API. In order to call methods in this API, I need to sign my requests using an API key and a \"shared secret\" key.</p>\n\n<p>My concern is that any user could just crack open the extension and pull out these values if I include them in the published extension. This may or may not pose a security rise for the user, but he or she could certainly use/abuse my API key and maybe get it revoked.</p>\n\n<p>Is this something I should be concerned about? Are there any best practices for protecting this type of information in published JavaScript applications?</p>\n",
            "last_activity_date": 1324393355,
            "question_id": 8577110,
            "score": 5,
            "tags": [
                "javascript",
                "security",
                "google-chrome-extension"
            ],
            "title": "Securing website API keys in Chrome extensions"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The problem is your href attribute. # as an anchor sends it to the top of the page. Use</p>\n\n<pre><code>&lt;a href=\"javascript: void(0);\" onclick=\"playSound('sound.mp3');\"&gt;...&lt;/a&gt;\n</code></pre>\n\n<p>Also, always include an href attribute to links.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>You can (and I think is more correct in cases where Javascript support is limited), to use a link like:</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"playSound('sound.mp3'); return false;\"&gt;...&lt;/a&gt;\n</code></pre>\n\n<p>instead of Grexis one, because if the browser you're using doesn't support Js, then the \"onclick\" event will never be fired and thus Js won't be read. It won't be a problem, probably, but still you should consider using better coding techniques.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>instead of having the onclick event in an a tag, get rid of it and put it on the img tag.  if you like the cursor for links, you can change the style too.</p>\n\n<p>Example code has been indented so it actually shows in the post.</p>\n\n<pre><code>&lt;img src=\"image.png\" style=\"cursor:pointer;\" onclick=\"playSound ('sound.mp3')\" /&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have the following code on a page on my site \u2014 when the user clicks on the image a sound plays:</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n function playSound(soundfile) {\n document.getElementById(\"dummy\").innerHTML=\n \"&lt;embed src=\\\"\"+soundfile+\"\\\" hidden=\\\"true\\\" autostart=\\\"true\\\" loop=\\\"false\\\" /&gt;\";\n }\n &lt;/script&gt;\n &lt;span id=\"dummy\"&gt;&lt;/span&gt;\n &lt;div id=\"soundimage\"&gt;\n &lt;a href=\"#\" onclick=\"playSound('sound.mp3');\"&gt;&lt;img src=\"image.png\" /&gt;&lt;/a&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>It all works great, but the image is at the bottom of the page, and when the user clicks the image they are redirected back to the top of the page. Is there any way to get this working so that there is only an audio change, and not a visual one (if that makes sense!)?</p>\n\n<p>When using a mouseover function instead, such as</p>\n\n<pre><code>&lt;a onmouseover=\"playSound('sound.mp3');\"&gt;&lt;img src=\"image.png\" /&gt;&lt;/a&gt;\n</code></pre>\n\n<p>the user remains where they were on the page, but I would like them to have the option of playing the sound on click and not on rollover.</p>\n",
            "last_activity_date": 1395751795,
            "question_id": 8556203,
            "score": 5,
            "tags": [
                "javascript",
                "onclick"
            ],
            "title": "How do I fire a javascript playsound event onclick without sending the user to the top of the page?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p><a href=\"http://www.webdesignbooth.com/9-useful-javascript-syntax-highlighting-scripts/\">9 useful Javascript syntax highilghting scripts</a>. There, I googled it for you. 3 of them are jQuery-based.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>you can use <a href=\"http://code.google.com/p/jstidy/\" rel=\"nofollow\">jstidy</a> for this. and if you are using visual studio, you can directly copy code and paste in to the designer view. it will generates the required styles.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>i am using codemirror.<br> <a href=\"http://codemirror.net/\" rel=\"nofollow\">http://codemirror.net/</a></p>\n\n<p>its easy and cool.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I use <a href=\"http://softwaremaniacs.org/soft/highlight/en/\" rel=\"nofollow\">Highlight.Js</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I have checked the pages linked by other answers and found them very lacking.</p>\n\n<p>After a bit of research and scouring the web, <a href=\"http://www.steamdev.com/snippet/\" rel=\"nofollow\">I found one</a> that I think clearly is superior to the rest.</p>\n\n<p><a href=\"http://www.steamdev.com/snippet/\" rel=\"nofollow\"><strong>Snippit</strong></a> is jQuery based, including \"copy\" feature (with clipboard plugin), line-numbers, custom styles, etc.</p>\n\n<p>Let me know what you think.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you want to change the syntax in a specific style or just check the style than take a look at <strong><a href=\"https://github.com/jedmao/codepainter\" rel=\"nofollow\">code painter</a></strong></p>\n\n<blockquote>\n  <p>A JavaScript beautifier that can both infer coding style and transform\n  code to reflect that style. You can also set style preferences\n  explicitly in a variety of ways.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am looking for a jQuery plugin that can take a string of code as input and will apply formatting and Highlights to make the code easily understandable. Just like jsfiddle.net.<br>\nAs of now I have found many sites like jsbeautifier.org..  But I need a standalone jquery plugin which can process my code<br>\nPlease help me on this.</p>\n",
            "last_activity_date": 1390299048,
            "question_id": 8471556,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "formatting"
            ],
            "title": "javascript code formatter and highlighter"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The original answer <a href=\"http://algorithmist.wordpress.com/2009/10/15/bezier-y-at-x-algorithm/\" rel=\"nofollow\">already contains everything you need to know</a></p>\n\n<p>There are numerical issues. The exact solution for cubics suffers from stability problems.</p>\n\n<p>The smooth geometric nature of typical Bezier curves means that spacial search (recursive subdivision) converges nicely, it's usually \"fast enough\", and it extends easily to N dimensions. There's quite a readable implementation in the Qt source code.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Since the problem is so limited (function x(t) is monotonic), we can probably get away with using a pretty cheap method of solution-- binary search.</p>\n\n<pre><code>var bezier = function(x0, y0, x1, y1, x2, y2, x3, y3, t) {\n    /* whatever you're using to calculate points on the curve */\n    return undefined; //I'll assume this returns array [x, y].\n};\n\n//we actually need a target x value to go with the middle control\n//points, don't we? ;)\nvar yFromX = function(xTarget, x1, y1, x2, y2) {\n  var xTolerance = 0.0001; //adjust as you please\n  var myBezier = function(t) {\n    return bezier(0, 0, x1, y1, x2, y2, 1, 1, t);\n  };\n\n  //we could do something less stupid, but since the x is monotonic\n  //increasing given the problem constraints, we'll do a binary search.\n\n  //establish bounds\n  var lower = 0;\n  var upper = 1;\n  var percent = (upper + lower) / 2;\n\n  //get initial x\n  var x = myBezier(percent)[0];\n\n  //loop until completion\n  while(Math.abs(xTarget - x) &gt; xTolerance) {\n    if(xTarget &gt; x) \n      lower = percent;\n    else \n      upper = percent;\n\n    percent = (upper + lower) / 2;\n    x = myBezier(percent)[0];\n  }\n  //we're within tolerance of the desired x value.\n  //return the y value.\n  return myBezier(percent)[1];\n};\n</code></pre>\n\n<p>This should certainly break on some inputs outside of your constraints.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>I used the algorithm from <a href=\"http://www.trans4mind.com/personal_development/mathematics/polynomials/cubicAlgebra.htm\" rel=\"nofollow\">this page</a> and wrote it down in JavaScript. It works for all the cases I have tested so far. (And doesn't use a <code>while</code> loop.)</p>\n\n<p>Call the solveCubicBezier function. Pass in the x values of all the control points and the x value you want to get the y coordinate from. For example:</p>\n\n<pre><code>var results = solveCubicBezier(p0.x, p1.x, p2.x, p3.x, myX);\n</code></pre>\n\n<p><code>results</code> is an array containing the 't' values originally passed into the Bezier function. The array can contain 0 to 3 elements, because not all x values have a corresponding y value, and some even have multiple.</p>\n\n<pre><code>function solveQuadraticEquation(a, b, c) {\n\n    var discriminant = b * b - 4 * a * c;\n\n    if (discriminant &lt; 0) {\n        return [];\n\n    } else {\n        return [\n            (-b + Math.sqrt(discriminant)) / (2 * a),\n            (-b - Math.sqrt(discriminant)) / (2 * a)\n        ];\n    }\n\n}\n\nfunction solveCubicEquation(a, b, c, d) {\n\n    if (!a) return solveQuadraticEquation(b, c, d);\n\n    b /= a;\n    c /= a;\n    d /= a;\n\n    var p = (3 * c - b * b) / 3;\n    var q = (2 * b * b * b - 9 * b * c + 27 * d) / 27;\n\n    if (p === 0) {\n        return [ Math.pow(-q, 1 / 3) ];\n\n    } else if (q === 0) {\n        return [Math.sqrt(-p), -Math.sqrt(-p)];\n\n    } else {\n\n        var discriminant = Math.pow(q / 2, 2) + Math.pow(p / 3, 3);\n\n        if (discriminant === 0) {\n            return [Math.pow(q / 2, 1 / 3) - b / 3];\n\n        } else if (discriminant &gt; 0) {\n            return [Math.pow(-(q / 2) + Math.sqrt(discriminant), 1 / 3) - Math.pow((q / 2) + Math.sqrt(discriminant), 1 / 3) - b / 3];\n\n        } else {\n\n            var r = Math.sqrt( Math.pow(-(p/3), 3) );\n            var phi = Math.acos(-(q / (2 * Math.sqrt(Math.pow(-(p / 3), 3)))));\n\n            var s = 2 * Math.pow(r, 1/3);\n\n            return [\n                s * Math.cos(phi / 3) - b / 3,\n                s * Math.cos((phi + 2 * Math.PI) / 3) - b / 3,\n                s * Math.cos((phi + 4 * Math.PI) / 3) - b / 3\n            ];\n\n        }\n\n    }\n}\n\nfunction roundToDecimal(num, dec) {\n    return Math.round(num * Math.pow(10, dec)) / Math.pow(10, dec);\n}\n\nfunction solveCubicBezier(p0, p1, p2, p3, x) {\n\n    p0 -= x;\n    p1 -= x;\n    p2 -= x;\n    p3 -= x;\n\n    var a = p3 - 3 * p2 + 3 * p1 - p0;\n    var b = 3 * p2 - 6 * p1 + 3 * p0;\n    var c = 3 * p1 - 3 * p0;\n    var d = p0;\n\n    var roots = solveCubicEquation(\n        p3 - 3 * p2 + 3 * p1 - p0,\n        3 * p2 - 6 * p1 + 3 * p0,\n        3 * p1 - 3 * p0,\n        p0\n    );\n\n    var result = [];\n    var root;\n    for (var i = 0; i &lt; roots.length; i++) {\n        root = roundToDecimal(roots[i], 15);\n        if (root &gt;= 0 &amp;&amp; root &lt;= 1) result.push(root);\n    }\n\n    return result;\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I've implemented this solution in Java and works very fine. But the most important is that I understand it. Thanks!</p>\n\n<pre><code>public class CubicBezier {\n    private BezierCubic bezier = new BezierCubic();\n    public CubicBezier(float x1, float y1, float x2, float y2) {\n        bezier.set(new Vector3(0,0,0), new Vector3(x1,y1,0), new Vector3(x2,y2,0), new Vector3(1,1,1));\n    }\n    public float get(float t) {\n        float l=0, u=1, s=(u+l)*0.5f;\n        float x = bezier.getValueX(s);\n        while (Math.abs(t-x) &gt; 0.0001f) {\n            if (t &gt; x)  { l = s; }\n            else        { u = s; }\n            s = (u+l)*0.5f;\n            x = bezier.getValueX(s);\n        }\n        return bezier.getValueY(s);\n    }\n};\n\npublic class BezierCubic {\nprivate float[][] cpoints = new float[4][3];\nprivate float[][] polinom = new float[4][3];\n\npublic BezierCubic() {}\n\npublic void set(Vector3 c0, Vector3 c1, Vector3 c2, Vector3 c3) {\n    setPoint(0, c0);\n    setPoint(1, c1);\n    setPoint(2, c2);\n    setPoint(3, c3);\n    generate();\n}\n\npublic float getValueX(float u) {\n    return getValue(0, u);\n}\n\npublic float getValueY(float u) {\n    return getValue(1, u);\n}\n\npublic float getValueZ(float u) {\n    return getValue(2, u);\n}\n\nprivate float getValue(int i, float u) {\n    return ((polinom[0][i]*u + polinom[1][i])*u + polinom[2][i])*u + polinom[3][i];\n}\n\nprivate void generate() {\n    for (int i=0; i&lt;3; i++) {\n        float c0 = cpoints[0][i], c1 = cpoints[1][i], c2 = cpoints[2][i], c3 = cpoints[3][i];\n        polinom[0][i] = c0 + 3*(c1 - c2) + c3;\n        polinom[1][i] = 3*(c0 - 2*c1 + c2);\n        polinom[2][i] = 3*(-c0 + c1);\n        polinom[3][i] = c0;\n    }\n}\n\nprivate void setPoint(int i, Vector3 v) {\n    cpoints[i][0] = v.x;\n    cpoints[i][1] = v.y;\n    cpoints[i][2] = v.z;\n}\n</code></pre>\n\n<p>}\n}</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>This question is very similar to: <a href=\"http://stackoverflow.com/questions/2549706/\">Quadratic bezier curve: Y coordinate for a given X?</a>. But this one is cubic...</p>\n\n<p>I'm using the <a href=\"http://13thparallel.com/archive/bezier-curves/\">getBezier</a> function to calculate the Y coordinates of a bezier curve. The bezier curve starts always at (0,0) and ends always at (1,1).</p>\n\n<p>I know the X value, so I tried to insert it as percent (I'm a moron). But that didn't work, obviously. Could you provide a solution? It's necessary it's an idiot proof function. Like:</p>\n\n<pre><code>function yFromX (c2x,c2y,c3x,c3y) { //c1 = (0,0) and c4 = (1,1), domainc2 and domainc3 = [0,1]\n    //your magic\n    return y;\n}\n</code></pre>\n",
            "last_activity_date": 1415927743,
            "question_id": 7348009,
            "score": 5,
            "tags": [
                "javascript",
                "algorithm",
                "math",
                "bezier",
                "bezier-curve"
            ],
            "title": "y coordinate for a given x cubic bezier"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>JSON is valid Javascript, so you can eval() it:</p>\n\n<pre><code>var data = eval(json);\n</code></pre>\n\n<p>However it's safer to use <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/JSON/parse\" rel=\"nofollow\"><code>JSON.parse()</code><sup><em>[docs]</em></sup></a>, when this function is available:</p>\n\n<pre><code>var data = JSON.parse(json);\n</code></pre>\n\n<p>So you could do something like this:</p>\n\n<pre><code>if (window.JSON) {\n    data = JSON.parse(json);\n} else {\n    data = eval('('+json+')');\n}\n</code></pre>\n\n<p>Note the use of parenthesis in eval(). See @CMS's comment and <a href=\"http://stackoverflow.com/questions/3360356/why-the-open-quote-and-bracket-for-eval-jsonstring-when-parsing-json#3360404\">this</a>.</p>\n\n<p>You could also use an existing library, like <a href=\"https://github.com/douglascrockford/JSON-js/blob/master/json2.js\" rel=\"nofollow\">this one</a> (adds JSON.parse on browsers that do not have it).</p>\n\n<p>If you are using jQuery, use <a href=\"http://api.jquery.com/jQuery.parseJSON/\" rel=\"nofollow\"><code>$.parseJSON()</code><sup><em>[docs]</em></sup></a>.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p><code>JSON.parse()</code> is defined in most Javascript environments these days.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>try to take a look at <a href=\"http://www.json.org/js.html\" rel=\"nofollow\">http://www.json.org/js.html</a>. You need something like:</p>\n\n<pre><code>var myObject = JSON.parse(myJSONtext, reviver);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have some JSON encoded strings and I need to easily parse them. Any ideas how to do this? I am a noob in javaScript and I can't do it myself. I read that parsing json is really hard.</p>\n\n<p>Please help!</p>\n",
            "last_activity_date": 1315210472,
            "question_id": 7301615,
            "score": 5,
            "tags": [
                "javascript",
                "json",
                "parsing"
            ],
            "title": "How to parse JSON easily?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><code>json_encode</code> is definitely the way to go. jQuery even has built-in support for parsing JSON. You could use e.g.</p>\n\n<pre><code>$.ajax({\n    url: \"&lt;?php echo site_url('demo/getPhotos/'); ?&gt;\",\n    type: 'POST',\n    data: form_data,\n    dataType: 'json', // will automatically convert array to JavaScript\n    success: function(array) {\n        alert(array[0]); // alerts first string\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Try:</p>\n\n<pre><code>$.ajax({\n    url: \"&lt;?php echo site_url('demo/getPhotos/'); ?&gt;\",\n    type: 'POST',\n    data: form_data,\n    dataType:\"json\",\n    success: function(data) {\n        alert(data[0]);\n   }\n</code></pre>\n\n<p>On the PHP side, you'll be wanting to print:</p>\n\n<pre><code>print json_encode($photos);\n</code></pre>\n\n<p>Another thing you might try in order to better encapsulate your code, and as an example of further JSON gooodness, would be:</p>\n\n<pre><code>print json_encode(array(\"photolist\"=&gt;$photos,\"photo_owner\"=&gt;\"Me!\"));\n</code></pre>\n\n<p>Then on the server, you'd access these with:</p>\n\n<pre><code>data.photolist[0]; //First photo\ndata.photo_owner;  //The owner of the photo set\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>return the json itself and then construct the array in js by looping over the json as follows:</p>\n\n<pre><code>var array=[];\nfor(var key in json)\n{    \n    if(json.hasOwnProperty(key))\n      array.push(json[key]);\n}\n</code></pre>\n\n<p>Or you can simply work with the json itself any reason for needing the array? </p>\n\n<p>something like json[0] or json[1] etc.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>json_encode rulez when you need this stuff.</p>\n\n<p>I recently learned this cool thing too! Here's how you do it:</p>\n\n<pre><code>function jsonResponse($array) {\n     header('Content-type: application/json; charset=utf-8;');\n     die(json_encode($array));\n}\n</code></pre>\n\n<p>This is optional, if you want to do it, you don't have to, but in my MVC system, I tend to write this way... So first I make an ajax request (prototype), to a script, that later calls this function jsonResponse I mentioned earlier...</p>\n\n<pre><code>    new Ajax.Request('URL',\n{\n    method:'post',\n    onSuccess: function(transport){\n        res = transport.responseJSON;\n        $('actionInformation').update(res.username);\n    },\n    onFailure: function(){\n        alert('Something went wrong...')\n    }\n});\n</code></pre>\n\n<p>This is the jscript code, notice the res.msg, this is where we can operate with array. But, be sure to send response in JSON format in your PHP, using the jsonResponse function, it's easy to use, e.g., your php function can look something like this :</p>\n\n<pre><code>function ajax_get_user() {\n     $userName = 'Adrian';\n     $active = 1;\n     jsonResponse(array('username' =&gt; $username, 'active' = $active));\n}\n</code></pre>\n\n<p>Later you can get it easy, res.username, res.active.</p>\n\n<p>I think this should do it!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I made an array <code>$result</code> in PHP and at the end of request.</p>\n\n<pre><code> echo json_encode($result); \n</code></pre>\n\n<p>and in JS <code>$.post</code> handler function : </p>\n\n<pre><code>var obj = $.parseJSON(data);\nvar v = data.k; \n</code></pre>\n\n<p>where <code>k</code> is key value in associative array.</p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>Apologies if this explanation isn't clear, it's hard for me to understand too. <strong>How can I use PHP &amp; Ajax to send an array to Javascript?</strong> I'm using Ajax to get an array of photos, which I'm then looking to append to an empty <code>&lt;div&gt;</code> on my page.</p>\n\n<p>The jQuery looks as follows:</p>\n\n<pre><code>$.ajax({\n    url: \"&lt;?php echo site_url('demo/getPhotos/'); ?&gt;\",\n    type: 'POST',\n    data: form_data,\n    success: function(data) {\n        alert(data);\n   }\n</code></pre>\n\n<p>And the PHP function getPhotos looks like this:</p>\n\n<pre><code>&lt;?php\n\n$photos = array();\n\nforeach ($data as $photo) {\n    array_push($photos,$photo['source']);\n    }\n\n// echo json_encode($photos); How should I be returning $photos?\n</code></pre>\n\n<p>If I simply <code>echo $photos;</code> the data is sent to the success callback, but it doesn't appear to be in a usable format.</p>\n\n<p>If I do a <code>var_dump($photos)</code> in PHP, the result looks something like:</p>\n\n<pre><code>array(4) {\n  [0]=&gt;\n  string(14) \"some_image.jpg\"\n  [1]=&gt;\n  string(14) \"some_image.jpg\"\n  [2]=&gt;\n  string(14) \"some_image.jpg\"\n  [3]=&gt;\n  string(14) \"some_image.jpg\"\n}\n</code></pre>\n\n<p>I've tried various combinations of <code>json_encode</code> and the like but really I am guessing and not sure of the theory behind it. What's the best way to pass data from PHP to Javascript in this context?</p>\n",
            "last_activity_date": 1350658089,
            "question_id": 7263052,
            "score": 5,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "ajax",
                "json"
            ],
            "title": "How to pass an array using PHP &amp; Ajax to Javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can display the image just before this call to $.ajax() and then hide/remove the image in the post handler function (just before your .empty()/.append(data) calls.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Something along these lines (<code>showLoadingImage</code> and <code>hideLoadingImage</code> are up to you):</p>\n\n<pre><code>// show the loading image before calling ajax.\nshowLoadingImage();\n\n$.ajax({\n    // url, type, etc. go here\n    success: function() {\n        // handle success. this only fires if the call was successful.\n    },\n    error: function() {\n        // handle error. this only fires if the call was unsuccessful.\n    },\n    complete: function() {\n        // no matter the result, complete will fire, so it's a good place\n        // to do the non-conditional stuff, like hiding a loading image.\n\n        hideLoadingImage();\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>try this : </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function()\n    {\n        $('#loading')\n            .hide()\n            .ajaxStart(function() {\n                $(this).show();\n            })\n            .ajaxStop(function() {\n                $(this).hide();\n            });\n    });\n&lt;/script&gt;\n\n&lt;div id=\"loading\"&gt;\n        Loading....\n&lt;/div&gt;\n</code></pre>\n\n<p>This will show the loading image each time you are doing an ajax request, I have implented this div at the top of my pages, so it does not obstruct with the page, but you can always see when an ajax call is going on. </p>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<p>I have the following jQuery Ajax call:</p>\n\n<pre><code>$.ajax({\n                   type: \"POST\",\n                   url: \"addtobasket.php\",\n                   data: \"sid=&lt;?= $sid ?&gt;&amp;itemid=\" + itemid + \"&amp;boxsize=\" + boxsize + \"&amp;ext=\" + extraval,\n                   success: function(msg){\n                     $.post(\"preorderbasket.php\", { sid: \"&lt;?= $sid ?&gt;\", type: \"pre\" },\n                     function(data){\n                        $('.preorder').empty();\n                         $('.preorder').append(data); \n                     }); \n                   }\n                 });\n</code></pre>\n\n<p>I want to display an image when the ajax call is in progress. How can I do that?</p>\n\n<p>Thanks,</p>\n",
            "last_activity_date": 1313515860,
            "question_id": 7082323,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "Display &#39;loading&#39; image when AJAX call is in progress"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Because the javascript being executed is Asynchronous, therefore if you just put any old function after making the asynchronous request, it will likely be called before the original request completes. The original request will return as soon as it BEGINS (is sent out), not completes.</p>\n\n<p>If you need to do something with the result of the asynchronous request, or chain together requests, etc you will need a callback to ensure the next step doesn't begin before the previous step is finished.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<blockquote>\n  <p>Is asyncronous programming akin to multi-threading?</p>\n</blockquote>\n\n<p>yes. </p>\n\n<p>Javascript's asynch model provides a way to do work \"in the background\". </p>\n\n<p>Suppose you have a long-running calculation.  This  might be hard to imagine for a simple js demo, but imagine a long decompression routine, or a long-running path finding algorithm in a game, etc.  some numerical calculation that takes more than a second. </p>\n\n<p>Doing the calculation by directly invoking the function will <em>work</em>, but it will suspend the browser UI for the duration of the calculation.  Running things asynchronously means the browser UI remains responsive, as the calculation continues running on a background thread.  When the calc completes, according to the asynch programming pattern, the function invokes the callback function, notifying the application layer that the calculation is complete.  </p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Callbacks allow single-threaded operations (Javascript is single-threaded) to execute asynchronously.</p>\n\n<p><strike>\nThe most obvious example is AJAX calls, where you have a callback that executes after the AJAX request is done.  The AJAX request can take a while, and if it were a normal function call, the whole page would be frozen (can't scroll, can't select text, etc) while the request loads.</p>\n\n<p>This is achieved through either <code>setTimeout</code> or <code>setInterval</code> which enqueues a function to be called at a later time, while allowing other code to execute in between.  So when you're waiting for that AJAX call to finish, other code (which includes the browser updating) is allowed to execute.\n</strike></p>\n\n<p>Since you want examples other than AJAX, the other common usage for the async nature is for animations.  Callbacks are <strong>required</strong> for animations because it needs to allow the UI to draw.  </p>\n\n<p>Say you wanted to animate a <code>div</code> 100px to the right over 5 seconds. Your first instinct might say create a loop and sleep in between.  But there is no <code>sleep</code> in Javascript, and even if there was, it would just freeze the UI because nothing can happen while it's sleeping.</p>\n\n<p>Instead you need do something along the lines of increment the position by 10, then call <code>setTimeout</code> for 500 ms with a callback to execute the next frame.  This would probably be done recursively.</p>\n\n<p>An additional use would be just simply to pass functions as parameters, although I'm not sure if the term \"callback\" is appropriate for that use case.  That is the way you've used it in your example, <code>some_function</code> can be reused with a variety of functions used as callbacks, so sort of injecting code.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The main browser process is a single threaded event loop. If you execute a long-running operation within a single-threaded event loop, the process \"blocks\". This is bad because the process stops processing other events while waiting for your operation to complete. 'alert' is one of the few blocking browser methods: if you call alert('test'), you can no longer click links, perform ajax queries, or interact with the browser UI.</p>\n\n<p>In order to prevent blocking on long-running operations, the XMLHttpRequest provides an asynchronous interface. You pass it a callback to run after the operation is complete, and while it is processing it cedes control back to the main event loop instead of blocking.</p>\n\n<p>There's no reason to use a callback unless you want to bind something to an event handler, or your operation is potentially blocking and therefore requires an asynchronous programming interface.</p>\n\n<p><a href=\"http://www.yuiblog.com/blog/2010/08/30/yui-theater-douglas-crockford-crockford-on-javascript-scene-6-loopage-52-min/\">This is an excellent video discussing more about the event loop used in the browser, as well as on the server side in node.js.</a></p>\n\n<p>EDIT: that convoluted line from the jQuery documentation just means that the callback executes asynchronously as control is ceded back to the main event loop.</p>\n\n<pre><code>parent_function(function () { console.log('Callback'); });\nparent_doesnt_block(); // &lt;-- function appears after \"parent\"\ntherefore_execution_continues();\n// Maybe we get 'Callback' in the console here? or maybe later...\nexecution_still_continues();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>Not quite like multithreading...</p>\n\n<p>You use a callback anytime you need to wait on something external to your primary JS code.  In a browser this is used a ton for AJAX, and in node.js it's used for every single thing that calls out to the system (file access, networks access, database requests, etc).</p>\n\n<p>Let's say you want to fire an ajax request everytime a user clicks a button.  Now lets say that ajax request takes 10 seconds to complete.  The user then clicks 10 of these buttons before those 10 seconds are up.  This would repeatedly call a function like this:</p>\n\n<pre><code>var clicked = function() {\n  doAjax('/some/path.json', function(result) {\n    updatePageWith(result.widgets);\n  });\n};\n</code></pre>\n\n<p>This runs code in the JS engine for only long enough to make the request.  Then it idles while it waits.  Other JS can run at this point, the UI is totally fluid and interactive, everything is awesome. Then suddenly, all 10 of those requests resolve at once.  And then our callback is invoked 10 times like magic.</p>\n\n<p>This works because every time we call <code>clicked()</code> we are creating a new function object, and passing it to the <code>doAjax()</code> function.  So there are 10 unique callback function objects hanging out in memory, each one bound to a specific request by the <code>doAjax()</code> function.  When a request returns, it finds the associated callback object and calls it.</p>\n\n<p>The huge advantage here is that, although javascript is single threaded, you never tie up that thread with <em>waiting</em>.  If you JS thread is busy, it should only ever be because it's actively running code.  So even though JS is single threaded, it's trivial for your code to implicitly hold the state of any number of any kind of asynchronous tasks.</p>\n\n<p>The <em>synchronous</em> method of callbacks are used for a different purpose usually.  Like listeners or delegates.  Like telling object A to callback when it's data changes.  While not strictly asynchronous, you usually aren't calling that callback immediately.  Instead it will be called later in response to some sort of user action of event.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Callbacks are used all over the place in JS, particularly in jQuery. </p>\n\n<p>One place you need to use a callback is anywhere the language doesn't give you coordination. Coordination means code doesn't execute until the data it needs is ready. Synchronous calls are coordinated; the call doesn't return until the sub-computation is finished. Asynchronous calls don't give you coordination, so you need a callback.</p>\n\n<ul>\n<li><p>Event-driven computation can be uncoordinated, so event handlers are callbacks:</p>\n\n<pre><code>&lt;input id=\"a\" /&gt; &lt;button id='add'&gt;+&lt;/button&gt; &lt;input id=\"b\" /&gt; = &lt;span id=\"c\"&gt;&lt;/span&gt;\n&lt;script type=\"text/javascript\"&gt;\n  $('#add').click(\n      function() {\n          $('#c').text(parseInt($('#a').val()) + parseInt($('#b').val()));\n      }\n  );\n&lt;/script&gt;\n</code></pre>\n\n<p>In JS specifically, coordination for event dispatch (e.g. the DOM <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget-dispatchEvent\" rel=\"nofollow\"><code>dispatchEvent</code></a>, jQuery <a href=\"http://api.jquery.com/trigger/\" rel=\"nofollow\"><code>trigger</code></a> and IE <a href=\"http://msdn.microsoft.com/en-us/library/ms536423.aspx\" rel=\"nofollow\"><code>fireEvent</code></a> methods) is left unspecified (except for <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-flow-basic\" rel=\"nofollow\">nested DOM events</a>, which are synchronous). If you trigger an event, the handlers may be deferred and execution immediately return to whatever is after the trigger. Event handlers are usually called synchronously, but they don't need to be.</p></li>\n<li><p>JQuery <a href=\"http://api.jquery.com/category/effects/\" rel=\"nofollow\">effects</a> usually take a callback to execute once they finish. Animation functions are asynchronous so that they don't block the rest of the script.</p></li>\n</ul>\n\n<p>Callbacks are also useful for functions that define the outer part of some computation, but leave an inner part undefined. Here are some examples:</p>\n\n<ul>\n<li><p>You can use callbacks to filter collections:</p>\n\n<pre><code>// get odd items\n$([0,1,2,3,4,5,6,7,8,9]).filter(function (i) {return this % 2;})\n// or:\n$.grep([0,1,2,3,4,5,6,7,8,9], function (x, i) {return x % 2;});\n</code></pre></li>\n<li><p><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/sort\" rel=\"nofollow\"><code>Array.sort</code></a> takes a callback so you can define how elements are compared.</p>\n\n<pre><code>[{name: 'foo', id: 1}, {name: 'bar', id: 5}, {name: 'baz', id: 3}]\n    .sort(function (a,b) { \n        return a.name.localeCompare(b.name); \n    })\n</code></pre></li>\n</ul>\n\n<p>Some of jQuery's DOM manipulation methods (such as <a href=\"http://api.jquery.com/append/\" rel=\"nofollow\"><code>append</code></a>, <a href=\"http://api.jquery.com/prepend/\" rel=\"nofollow\"><code>prepend</code></a> and <a href=\"http://api.jquery.com/wrap/\" rel=\"nofollow\"><code>wrap</code></a> take a callback to construct an element based on context provided by the jQuery method. You could view the callback as providing an inner portion of a computation or as a matter of coordination: when the outer computation is started, the needed data to build the new DOM elements isn't available; the callback finishes the sub-computations to create the elements when the data becomes available.</p>\n\n<p><code>setTimeout</code> and <code>setInterval</code> both take callbacks to execute after a delay.</p>\n\n<p>Starting with version 1.5, jQuery offers <a href=\"http://api.jquery.com/category/deferred-object/\" rel=\"nofollow\">deferred objects</a> as a way of managing multiple callbacks, with various execution dependencies between the callbacks.</p>\n\n<p>A callback is very similar to a \"<a href=\"http://blogs.msdn.com/b/wesdyer/archive/2007/12/22/continuation-passing-style.aspx\" rel=\"nofollow\">continuation</a>\", which basically means \"the rest of the computation\". The difference is that a continuation represents the entirety of the rest of the computation while a callback represents the rest of a sub-computation. Continuations are part of a whole style of programming known as \"<a href=\"http://marijn.haverbeke.nl/cps/\" rel=\"nofollow\">continuation passing style</a>\" (CPS). With continuations, you can create all sorts of interesting control structures. For example, continuations can be used to implement exceptions and <a href=\"http://c2.com/cgi/wiki?ContinuationsAndCoroutines\" rel=\"nofollow\">coroutines</a>.</p>\n\n<p>Depending on the features of the language engine (in particular, you need <a href=\"http://stackoverflow.com/questions/310974/what-is-tail-call-optimization\">tail call optimization</a>), CPS can offer a more efficient approach. Some control structures (such as coroutines) require tail calls, otherwise you'll get a stack overflow<sup>*</sup>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Could someone explain, why do we use callback in JavaScript? I found examples, but they could be implemented by using the normal functions. What is the advantage of using it? I got answers to \"how\" to use it and not \"why and when\" do we need to use it.</p>\n\n<p>Typically, I found it being used in AJAX. on the <code>httpRequest.onreadystatechange</code>. Is this similar to Java's multi-threading? How and where is the listener for the response?\nIs asyncronous programming akin to multi-threading?</p>\n\n<p>In the following code, how is the flow of control:</p>\n\n<pre><code>function some_function(arg1, arg2, callback) {\n  var my_number = Math.ceil(Math.random() * (arg1 - arg2) + arg2);\n  callback(my_number);\n  some_different_function_not_callback(arg1);\n}\nsome_function(5, 15, function(num) {\n   console.log(\"callback called! \" + num);\n});\n</code></pre>\n\n<p>From the JQuery website:</p>\n\n<blockquote>\n  <p>The special thing about a callback is that functions that appear after the \"parent\" can execute before the callback executes\" (ref: <a href=\"http://docs.jquery.com/Tutorials:How_jQuery_Works\" rel=\"nofollow\">http://docs.jquery.com/Tutorials:How_jQuery_Works</a>)</p>\n</blockquote>\n\n<p>Could someone explain me this line with an example?</p>\n",
            "last_activity_date": 1355170196,
            "question_id": 7070495,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Why use callback in JavaScript, what are its advantages?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>The <code>get</code> method is used to access the DOM elements within a jQuery object:</p>\n\n<pre><code>var allDivs = $(\"div\").get();\n</code></pre>\n\n<p>In that example, <code>allDivs</code> will be an array containing all the matched elements (in this case, it would contain every <code>div</code> element in the DOM).</p>\n\n<p>The <code>index</code> method returns an integer that tells you the position of the selected element relative to its siblings. Consider the following HTML:</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;li&gt;1&lt;/li&gt;\n    &lt;li id=\"second\"&gt;2&lt;/li&gt;\n    &lt;li&gt;3&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>And the following jQuery:</p>\n\n<pre><code>console.log($(\"#second\").index()) //Prints \"1\"\n</code></pre>\n\n<p>As for your other question, a DOM node is pretty much anything in the DOM. Elements are types of nodes (type 1). You also have, for example, text nodes (type 3). An element is pretty much any tag.</p>\n\n<p>To make that clearer, consider the following HTML:</p>\n\n<pre><code>&lt;div id=\"example\"&gt;\n    Some text\n    &lt;div&gt;Another div&lt;/div&gt;\n    &lt;!--A comment--&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And the following JS:</p>\n\n<pre><code>var div = $(\"#example\").get(0);\nfor(var i = 0; i &lt; div.childNodes.length; i++) {\n   console.log(div.childNodes[i].nodeType);   \n}\n</code></pre>\n\n<p>That will print out:</p>\n\n<pre><code>3 - Text node (\"Some text\")\n1 - Element node (div)\n3 - Text node (\"Another div\")\n8 - Comment node (&lt;!-- --&gt;)\n3 - Text node (\"A comment\")\n</code></pre>\n\n<p>You can find a list of node types <a href=\"http://www.javascriptkit.com/domref/nodetype.shtml\" rel=\"nofollow\">here</a>. For an excellent introduction to what the DOM actually is, see this <a href=\"https://developer.mozilla.org/en/gecko_dom_reference/introduction#What_is_the_DOM.3f\" rel=\"nofollow\">MDN article</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>HTML != DOM != Javascript != jQuery, but they're all closely related.</p>\n\n<p>The browser receives an HTML document from a web server, which is just text. The browser proceeds to <em>parse</em> this text into an internal structure that it can actually use to <em>render</em> the page visually. The DOM represents that internal structure a browser has of an HTML document. Javascript (or other methods) can be used to manipulate that DOM, which in turn changes the visual <em>render</em> of the page. A DOM node and a DOM element are just two names for the same thing. A DOM element represents a visual or functional element on the page which was created from the original HTML document.</p>\n\n<p>jQuery now is a Javascript library that makes manipulating the DOM easier than with pure Javascript by offering a number of convenience shortcuts. A jQuery object is a Javascript object, which may or may not have anything to do with the DOM (usually it does). A jQuery object is a convenience wrapper around a DOM element in Javascript which is a method to manipulate the DOM which is a representation of the page which was created from an HTML file.</p>\n\n<p>Hope that helps. :o)</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>One way I liked to look at it when I was starting out with jQuery is something like this (and yeah, I know everything's not entirely correct, but they worked as loose analogies):</p>\n\n<p>DOM elements are the nodes in your HTML document that you normally get with vanilla Javascript. Something like <code>var foo = document.getElementById('bar')</code> gets you a raw DOM element.</p>\n\n<p>jQuery wrapper objects (for a big part of jQuery development) is basically a whole new object that contains a DOM element. And that's basically it, a container. This is what you get with something like <code>$('#bar')</code> and that's what you get as well by chucking in a DOM element like <code>$(foo)</code>. These enable the various jQuery functionalities on your DOM objects --- stuff they normally wouldn't have if they were plain DOM objects.</p>\n\n<p>Building on that, the difference between <code>.get()</code> and <code>.index()</code> is pretty easy. </p>\n\n<p><code>.get(n)</code> returns the <code>nth</code> DOM element in a jQuery wrapper object. Something like <code>$('input').get(0)</code> gives you the first <code>&lt;input&gt;</code> element in the DOM as if you called <code>document.getElementById()</code> on it (or something similar). <code>.eq(n)</code> does something similar, but returns a jQuery wrapper object containing the DOM element instead.</p>\n\n<p><code>.index()</code> just gives you what position a particular element is in a jQuery wrapper object. This works a lot like how you'd expect them to work in arrays and other collections.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I know this is not an explaination as such - others have done a pretty good job here. But I think visuals can tell you a whole lot more.</p>\n\n<p>Get Safari/Chrome (with their developer menus) or Firefox with firebug and have a look at how these web programming tools visually represent the things you want to know about.</p>\n\n<p>For example the DOM \"Document Object Model\" says it all but you won't understand the relationship between the objects (elements) in the document (html page) unless you consider it as a hierarchy. These toold allow you to navigate that hierarchy in a sensible visual way.</p>\n\n<p>Likewise they also contain evaluation tools which allow you to type in the name of the javascript object to see what it contains.</p>\n\n<p>Once you've played around with this you'll get the idea of what is a document object, and a javascript object.</p>\n\n<p>To answer the question however <code>.get()</code> gets the element and allows you to interact with it directly without having to navigate the DOM hierarchy programatically, whilst <code>.index()</code>, just finds the index of it's position within the hierarchy</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>To my mind, the code</p>\n\n<p><code>$('div').get()</code></p>\n\n<p>is a Jquery object with a parameter that is a div-selector. On this object the <code>get()</code> is called. You could also consider the Parameter as a <code>constructor</code> (like in object-orientated languages) argument, because a new object is created.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>DOM element are browser rendered text\njquery object you got by use this code\nvar object={}\nconsole.log(object);</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm lead to this question when trying to figure out the difference between jQuery's <code>.get()</code> and <code>.index()</code>, I've looked over the jQuery API and I still don't get what the difference is between them, maybe i'm not understanding the terminology?</p>\n\n<p>What's the difference between a jQuery object and a DOM element? And are a DOM element and a DOM node the same thing? Are they just <code>&lt;div&gt;</code> and <code>&lt;a&gt;</code> etc. is a DOM node/DOM element just an HTML tag? </p>\n\n<p>EDIT: and isn't the DOM just the structure of the page? <code>&lt;html&gt;&lt;body&gt;etc.&lt;/body&gt;&lt;/html&gt;</code>?</p>\n",
            "last_activity_date": 1403294392,
            "question_id": 6942193,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "dom"
            ],
            "title": "What&#39;s the difference between a jQuery object and a DOM element? Difference between .get() and .index()?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>ExpressionEngine's <strong>Template Class</strong> parses curly braces <code>{}</code> as <a href=\"http://expressionengine.com/user_guide/development/usage/template.html#variable_types\" rel=\"nofollow\">template variables</a>, looking for three kinds of variables: single, pair, and conditional variables:</p>\n\n<pre><code>// Single Variable\n{summary}\n\n// Pair Variable\n{category} ... {/category}\n\n// Conditional Variable\n{if segment_2 != \"\"} ... {/if}\n</code></pre>\n\n<p>Curly braces in CSS are considered a special condition.</p>\n\n<p>For example, the following CSS is <em>acceptable to place anywhere in a template, and gets intelligently parsed</em>:</p>\n\n<pre><code>&lt;style&gt;\n    /* All On One Line = Okay */\n    p { margin-bottom: 1em; }\n\n    /* Indented and On Separate Lines = Also Okay */\n    p em {\n        font-style: italic;\n    }\n\n    /* EE Variables are Parsed and Replaced */\n    p.{site_name} {\n        text-decoration: none;\n        }\n\n    /* EE Code is Allowed and Parsed Appropriately */\n    {exp:channel:entries channel=\"channel_name\" limit=\"1\"}\n        li.{url_title} a {\n            color: #c00;\n        }\n    {/exp:channel:entries}\n&lt;/style&gt;\n</code></pre>\n\n<p>Unfortunately, JavaScript is handled differently and prevents the Advanced Conditionals Parser from processing anything in tags. For example, the following JavaScript with <strong>curly braces all on one line</strong>:</p>\n\n<pre><code>&lt;script&gt;var addthis_config = { 'ui_click': true };&lt;/script&gt;\n</code></pre>\n\n<p>Will be parsed by ExpressionEngine as a template variable and rendered as:</p>\n\n<pre><code>&lt;script&gt;var addthis_config = ;&lt;/script&gt;\n</code></pre>\n\n<p>You'll notice everything starting at the opening <code>{</code> and ending with the closing <code>}</code> curly brace gets parsed and replaced! As a workaround, you can place the braces on separate lines and avoid this problem:</p>\n\n<pre><code>&lt;script&gt;\n    var addthis_config = {\n        'ui_click': true,\n        'data_track_clickback': true\n    };\n&lt;/script&gt;\n</code></pre>\n\n<p>If you've written a JavaScript function that expects values from ExpressionEngine, just place your braces on separate lines &mdash; which is a <a href=\"http://javascript.crockford.com/code.html\" rel=\"nofollow\">good coding convention</a> and is <a href=\"http://jsbeautifier.org/\" rel=\"nofollow\">optimal for readability</a>:</p>\n\n<pre><code>&lt;script&gt;\n    $(document).ready(function() {\n        ...\n            {exp:channel:entries channel=\"channel_name\" limit=\"1\"}\n                var business_name = '{business_website}';\n                var business_website = '{business_website}';\n            {/exp:channel:entries}\n        ...\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>As suggested by Ben, you can change this behavior by setting a <a href=\"http://ellislab.com/expressionengine/user-guide/general/system_configuration_overrides.html#protect-javascript\" rel=\"nofollow\">Hidden Configuration Variable</a>: <code>$conf['protect_javascript'] = 'n';</code></p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>What does ExpressionEngine's hidden <code>$config['protect_javascript']</code> actually do? It's probably best explained by an example &mdash; allow me to illustrate.</p>\n\n<p>Given the following code sample, with <code>$config['protect_javascript'] = 'y';</code> advanced conditionals will completely be ignored:</p>\n\n<pre><code>&lt;script&gt;\n    {if username == \"admin\"}\n        Welcome, {username}!\n    {if:elseif member_id == \"2\"}\n        Welcome, {screen_name}!\n    {if:else}\n        Welcome, Guest!\n    {/if}\n&lt;/script&gt;\n</code></pre>\n\n<p>Which will produce the following output:</p>\n\n<pre><code>&lt;script&gt;\n    Welcome, admin!\n\n    Welcome, Administrator!\n\n    Welcome, Guest!\n&lt;/script&gt;\n</code></pre>\n\n<p>Whereas, when <code>$config['protect_javascript'] = 'n';</code> the same code snippet from above will <em>allow advanced conditionals to be evaluated</em> and will produce:</p>\n\n<pre><code>&lt;script&gt;\n    Welcome, admin!\n&lt;/script&gt;\n</code></pre>\n\n<p>As you can see, <strong>the difference is whether or not <em>advanced conditionals</em> are evaluated in JavaScript code blocks</strong>.</p>\n\n<p><a href=\"http://expressionengine.com/forums/viewthread/168268/\">Simple conditionals</a> and <a href=\"http://expressionengine.com/user_guide/overview/tags.html\">template tags</a> are always evaluated in <code>&lt;script&gt;</code> tags, regardless of the <code>$config['protect_javascript']</code> setting &mdash; just be sure to place your curly braces <code>{}</code> on separate lines!</p>\n\n<pre><code>&lt;script&gt;\n    // Simple Conditionals Are Unaffected and Always Work\n    {if segment_2 != \"\"}\n        {redirect=\"404\"}\n    {/if}\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>Is there a way to force expression engine to NOT render items within curly brackets as EE code?\nThe <a href=\"http://code.google.com/intl/xx-bork/apis/chart/interactive/docs/gallery/controls.html\">google chart tools</a> uses javascript code that contains curly { } brackets, and naturally EE thinks it's a variable and tries to render it.  Any way around this?</p>\n",
            "last_activity_date": 1394358077,
            "question_id": 6514647,
            "score": 5,
            "tags": [
                "javascript",
                "expressionengine"
            ],
            "title": "ExpressionEngine rendering JS code with { } brackets"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>In case anyone goes through a similar problem whilst getting started with Yii.. This is how I resolved the CAPTCHA issue triggering a click: I have an event triggered the the onload event, which has the following code:</p>\n\n<p>$('#yw0_button').click();</p>\n\n<p>There surely must be a better way, im open to suggestions! However as a temporary solution this works just fine, refreshing the captcha image each time the page is loaded. Good luck!</p>\n\n<p><strong>EDIT:</strong> What I did was handle the onload event for my html page like this </p>\n\n<pre><code>&lt;body onload=\"initialize()\"&gt; \n.. \n&lt;/body&gt; \n</code></pre>\n\n<p>Then in my js file:</p>\n\n<pre><code>function initialize() \n{ \n     $('#yw0_button').click(); \n} \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>I hope I can propose a better way to solve the problem mentioned by <strong>Soph</strong>. I know this is not JavaScript-related solution this question is addicted to but as I can see this one is the most right way to go.</p>\n\n<p>I faced the same requirement - to refresh the caption on page refresh but preserve this one when user's input is invalid on other fields because repeating a new verification code on each validation's fail is annoying. So this task looks like to not refresh the caption on <code>POST</code> request and refresh it otherwise (<code>GET</code> request). A solution proposed by <strong>Soph</strong> by himself can't achieve this - as one could know <code>POST</code> requests are sent to server and their data cannot be analyzed by client-side JavaScript.</p>\n\n<p>Therefore I decided to look at Yii's captcha implementation. It consists of two classes located in <code>system.web.widgets.captcha</code> package. The former is <code>CCaptcha</code> extended from <code>CWidget</code> and that we use in our view to add a captcha to web form in the manner like this:</p>\n\n<pre><code>&lt;?php \n    $this-&gt;widget(\"CCaptcha\", array(\n    'buttonLabel' =&gt; \"Generate another code\",\n    'showRefreshButton' =&gt; false,\n    'clickableImage' =&gt; true\n));\n?&gt;\n</code></pre>\n\n<p>The latter is <code>CCaptchaAction</code> that does the most significant work to provide a captcha by generating a verification code and creating an image. Taking into account that Yii is designed to be object-oriented we can create a couple of our own classes <code>Captcha</code> and <code>CaptchaAction</code> extended from <code>CCaptcha</code> and <code>CCaptchaAction</code> relatively and place them in <code>components</code> subdirectory of our web application's directory.</p>\n\n<p>My implementation of both these classes is below.</p>\n\n<p><code>run()</code> method of <code>CCaptchaAction</code> is overriden and is quite similar to original one excepting that there is one additional <code>if</code>-branch executing when <code>render_refreshed</code> GET-parameter is set and where new verification code is being generated on the fly and corresponding new image is being rendered and returned as action's result.</p>\n\n<p>A public <code>refresh</code> variable has been introduced in <code>Captcha</code> class and defaults to <code>false</code> meaning widget's behavior is similar to <code>CCaptcha</code>'s one. Overriding <code>renderImage</code> method we alter a code responsible for preparing widget's output HTML code. To be more precisive it's where a link to captcha action is prepared used as <code>src</code> attribute of an <code>img</code> tag. In the case of <code>refresh</code> member is set to <code>true</code> an additional <code>render_refreshed</code> parameter is appended to this link.</p>\n\n<p>Here is <code>CaptchaAction.php</code>:</p>\n\n<pre><code>&lt;?php\n\nYii::import(\"system.web.widgets.captcha.CCaptchaAction\");\n\nclass CaptchaAction extends CCaptchaAction\n{\n    const RENDER_REFRESHED_GET_VAR = \"render_refreshed\";\n\n    public function run()\n    {\n        if (isset($_GET[self::REFRESH_GET_VAR]))  // AJAX request for regenerating code\n        {\n            $code = $this-&gt;getVerifyCode(true);\n            echo CJSON::encode(array(\n                'hash1' =&gt; $this-&gt;generateValidationHash($code),\n                'hash2' =&gt; $this-&gt;generateValidationHash(strtolower($code)),\n                // we add a random 'v' parameter so that FireFox can refresh the image\n                // when src attribute of image tag is changed\n                'url'=&gt; $this-&gt;getController()-&gt;createUrl($this-&gt;getId(), array(\n                    'v' =&gt; uniqid()\n                )),\n            ));\n        }\n        else if (isset($_GET[self::RENDER_REFRESHED_GET_VAR]))\n        {\n            $this-&gt;renderImage($this-&gt;getVerifyCode(true));\n        }\n        else\n            $this-&gt;renderImage($this-&gt;getVerifyCode());\n        Yii::app()-&gt;end();\n    }\n}\n</code></pre>\n\n<p>And this is <code>Captcha.php</code>:</p>\n\n<pre><code>&lt;?php\n\nYii::import(\"web.system.widgets.CCaptcha\");\n\nclass Captcha extends CCaptcha\n{\n    public $refresh = false;\n\n    protected function renderImage()\n    {\n        if (!isset($this-&gt;imageOptions['id']))\n            $this-&gt;imageOptions['id'] = $this-&gt;getId();\n\n        if ($this-&gt;refresh)\n        {\n            $url = $this-&gt;getController()-&gt;createUrl($this-&gt;captchaAction, array(\n                'v' =&gt; uniqid(),\n                CaptchaAction::RENDER_REFRESHED_GET_VAR =&gt; 1\n            ));\n        }\n        else\n        {\n            $url = $this-&gt;getController()-&gt;createUrl($this-&gt;captchaAction, array(\n                'v' =&gt; uniqid()\n            ));\n        }\n        $alt = isset($this-&gt;imageOptions['alt']) ? $this-&gt;imageOptions['alt'] : '';\n        echo CHtml::image($url, $alt, $this-&gt;imageOptions);\n    }\n}\n</code></pre>\n\n<p>So the usage is quite simple. In action preparing model's data for site's page do the following:</p>\n\n<pre><code>...\n\n// Creating order model's instance\n$model = new MyModel();\n$refreshCaptcha = true;\n\nif (isset($_POST['MyModel']))\n{\n    $refreshCaptcha = false;\n    ...\n}\n\n...\n\n$this-&gt;render(\"myView\", array(\n    'model' =&gt; $model,\n    'refreshCaptcha' =&gt; $refreshCaptcha\n));\n</code></pre>\n\n<p>After that modify captcha's widget call in <code>myView</code> template of this page's action:</p>\n\n<pre><code>&lt;?php \n    $this-&gt;widget(\"Captcha\", array(\n    'buttonLabel' =&gt; \"Generate another code\",\n    'showRefreshButton' =&gt; false,\n    'clickableImage' =&gt; true,\n    'refresh' =&gt; $refreshCaptcha\n));\n</code></pre>\n\n<p>and don't forget to modify <code>actions</code> method of page's controller by replacing <code>CCaptchaAction</code> class by <code>CaptchaAction</code>:</p>\n\n<pre><code>public function actions()\n{\n    return array(\n        'captcha'=&gt;array(\n            'class'=&gt;'CaptchaAction',\n            'backColor'=&gt;0xFFFFFF\n        )\n    );\n}\n</code></pre>\n\n<p>Seems to me that it works as expected. Hope this will help somebody.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I'd like to add something to the Ezze's answer:</p>\n\n<p>To make clientValidation working, you can use custom captcha validation:</p>\n\n<pre><code>class CaptchaValidatorRefresh extends CCaptchaValidator\n{\n    public function clientValidateAttribute($object,$attribute)\n{\n    $js=\"\";\n\n    if(!$this-&gt;allowEmpty)\n    {\n        $message=$this-&gt;message!==null ? $this-&gt;message : Yii::t('yii','The verification code is incorrect.');\n\n        $js=\"\n            if($.trim(value)=='') {\n                messages.push(\".CJSON::encode($message).\");\n            }\n        \";\n    }       \n    return $js;\n    }\n}\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>public function rules()\n{\n    return array(\n        array('verifyCode', 'CaptchaValidatorRefresh', 'on'=&gt;'request', 'allowEmpty'=&gt;!CCaptcha::checkRequirements()),                          \n    );\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Add this javascript:</p>\n\n<pre><code>jQuery(document).ready(function() {\n    jQuery.ajax({\n        'success':function(html){jQuery(\"#yw0\").attr(\"src\",html)},\n        'url':'/checkout/finish/captcha?refresh=1',\n        'cache':false\n    });\n    return false;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can write the script before form beginWedget.</p>\n\n<p><strong>on every page load generate the new captcha code.</strong></p>\n\n<pre><code>  $script=' $(document).ready(function() {\n\n            document.getElementById(\"yw0_button\").click();\n    });';\n  Yii::app()-&gt;clientScript-&gt;registerScript('yw0_button', $script);\n\n  $form=$this-&gt;beginWidget('CActiveForm', array(\n    'id'=&gt;'test-form',\n    'action'=&gt;Yii::app()-&gt;createUrl('controllerName/actionName'),\n    'enableClientValidation'=&gt;true, \n    'clientOptions'=&gt;array(\n        'validateOnSubmit'=&gt;true,\n    ),\n  ));\n</code></pre>\n\n<p>it's work for me.</p>\n\n<p>I hope it's also work for you</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's another (correct?) way to do it <a href=\"http://www.yiiframework.com/forum/index.php/topic/17638-captcha-code-not-changing/\" rel=\"nofollow\">(discussion)</a>:</p>\n\n<pre><code>Yii::app()-&gt;getController()-&gt;createAction('captcha')-&gt;getVerifyCode(true);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to force my site to refresh the captcha image everytime it loads, so I have a javascript method triggered with the onload() event. Here I have the following line:</p>\n\n<pre><code>document.getElementById('yw0_button').click;\n</code></pre>\n\n<p>Firebug doesn't detect any errors, and for testing purposes I have added an alert right after the displayed line, and the alert pops up each time the page is loaded. However, the image doesn't refresh! </p>\n\n<p>This is what I believe is relevant about the view file:</p>\n\n<pre><code>&lt;?php if(extension_loaded('gd')): ?&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;?php echo $form-&gt;labelEx($model,'verifyCode'); ?&gt;\n        &lt;div&gt;\n            &lt;?php\n            $this-&gt;widget('CCaptcha',\n                          array('showRefreshButton'=&gt;true,\n                                'buttonType'=&gt;'button',\n                                'buttonOptions'=&gt;\n                                                    array('type'=&gt;'image',\n                                                          'src'=&gt;\"/path/images/refresh-icon.png\",\n                                                          'width'=&gt;30,\n                                                    ),                                                            \n                                'buttonLabel'=&gt;'Refrescar imagen'),\n                          false); \n            ?&gt;\n            &lt;br&gt;\n            &lt;?php echo $form-&gt;textField($model,'verifyCode'); ?&gt;\n        &lt;/div&gt;\n    &lt;div class=\"hint\"&gt;\n        Porfavor ingrese las letras como las ve en la imagen superior.\n        &lt;br/&gt;No hay distincion entre min\u00fasculas y may\u00fasculas.&lt;/div&gt;\n    &lt;/div&gt;\n&lt;?php endif; ?&gt;\n</code></pre>\n\n<p>Any ideas?</p>\n\n<hr>\n\n<p><strong>@k to the z</strong> just saw this! Yes sure, if you could help me find a more proper solution it would be awesome! This is what i believe is relevant about the view file:</p>\n\n<pre><code>&lt;?php if(extension_loaded('gd')): ?&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;?php echo $form-&gt;labelEx($model,'verifyCode'); ?&gt;\n            &lt;div&gt;\n                &lt;?php\n                $this-&gt;widget('CCaptcha',\n                              array('showRefreshButton'=&gt;true,\n                                    'buttonType'=&gt;'button',\n                                    'buttonOptions'=&gt;\n                                                        array('type'=&gt;'image',\n                                                              'src'=&gt;\"/path/images/refresh-icon.png\",\n                                                              'width'=&gt;30,\n                                                        ),                                                            \n                                    'buttonLabel'=&gt;'Refrescar imagen'),\n                              false); \n                ?&gt;\n                &lt;br&gt;\n                &lt;?php echo $form-&gt;textField($model,'verifyCode'); ?&gt;\n            &lt;/div&gt;\n        &lt;div class=\"hint\"&gt;\n            Porfavor ingrese las letras como las ve en la imagen superior.\n            &lt;br/&gt;No hay distincion entre min\u00fasculas y may\u00fasculas.&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;?php endif; ?&gt;\n</code></pre>\n\n<p>In the controller I grant authorized users permission in the accessRules() method to the captcha action, and thats about all. Is there something else I could post?</p>\n",
            "last_activity_date": 1403629702,
            "question_id": 6168451,
            "score": 5,
            "tags": [
                "javascript",
                "frameworks",
                "refresh",
                "captcha",
                "yii"
            ],
            "title": "How to refresh captcha image on page refresh/load?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>One suggestion would be to define all input fields that you want to provide using zend form.</p>\n\n<p>But when the form is displayed you could <strong>hide</strong> certain fields and <strong>make them visible</strong> by clicking on <code>+</code>.</p>\n\n<p>I think this is the most simple approach because for adding decorators and stuff you would need to change php files on client side and this is not possible.</p>\n\n<hr>\n\n<p>Another suggestion, you could define several forms. Clicking on <code>+</code> redirectes the user to another form with an added field.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The best demo of dynamically adding fields on the client to a <code>Zend_Form</code> with which I am familiar comes from Jeremy Kendall:</p>\n\n<p><a href=\"http://www.jeremykendall.net/2009/01/19/dynamically-adding-elements-to-zend-form/\" rel=\"nofollow\">http://www.jeremykendall.net/2009/01/19/dynamically-adding-elements-to-zend-form/</a></p>\n\n<p>The upshot of the technique is to add/call a <code>preValidation()</code> method on the form to check the post for fields missing in the form. If it finds any such fields, then they are added to the form object. By the time <code>isValid()</code> and <code>getValues()</code> are called, all the <code>Zend_Form_Element</code> objects have already been attached to the form, so processing runs as normal.</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I'm working on a project using Zend Framework.</p>\n\n<p>I'm creating a form on which users can add a set of elements by pressing a + sign.</p>\n\n<p>Zend framework uses subforms and decorators to get array of values from a form.</p>\n\n<p>These will show when the page is displayed</p>\n\n<p>How does the new fields created with Javascript integrate in that model?</p>\n",
            "last_activity_date": 1340025753,
            "question_id": 5632296,
            "score": 5,
            "tags": [
                "javascript",
                "zend-framework",
                "zend-form"
            ],
            "title": "Zend Framework - Add new input element using javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You should remove 'not-editable-cell' class from the cell (<code>&lt;td&gt;</code> element)</p>\n\n<pre><code>td.removeClass('not-editable-cell');\n</code></pre>\n\n<p>You should select all cells (<code>&lt;td&gt;</code> element) which you want make editable.</p>\n\n<p>I made <a href=\"http://www.ok-soft-gmbh.com/jqGrid/NonEditableCellsDynamic.htm\">the demo</a> which demonstrate how to do this. The most important code fragment from the demo is</p>\n\n<pre><code>var grid = $(\"#list\");\nvar getColumnIndexByName = function(gr,columnName) {\n    var cm = gr.jqGrid('getGridParam','colModel');\n    for (var i=0,l=cm.length; i&lt;l; i++) {\n        if (cm[i].name===columnName) {\n            return i; // return the index\n        }\n    }\n    return -1;\n};\nvar changeEditableByContain = function(gr,colName,text,doNonEditable) {\n    var pos=getColumnIndexByName(gr,colName);\n    // nth-child need 1-based index so we use (i+1) below\n    var cells = $(\"tbody &gt; tr.jqgrow &gt; td:nth-child(\"+(pos+1)+\")\",gr[0]);\n    for (var i=0; i&lt;cells.length; i++) {\n        var cell = $(cells[i]);\n        //var cellText = cell.text();\n        var unformatedText = $.unformat(cell,{rowId:cell[0].id,\n                                        colModel:gr[0].p.colModel[pos]},pos);\n        if (text === unformatedText) { // one can use cell.text() instead of\n                                       // unformatedText if needed\n            if (doNonEditable) {\n                cell.addClass('not-editable-cell');\n            } else {\n                cell.removeClass('not-editable-cell');\n            }\n        }\n    }\n};\ngrid.jqGrid({\n    datatype: \"local\",\n    ...\n    cellEdit: true,\n    cellsubmit: 'clientArray',\n    loadComplete: function() {\n        changeEditableByContain(grid,'name','test',true);\n    }\n});\n$(\"#doEditable\").click(function(){\n    changeEditableByContain(grid,'name','test',false);\n});\n$(\"#doNonEditable\").click(function(){\n    changeEditableByContain(grid,'name','test',true);\n});\n</code></pre>\n\n<p>In the demo the cells from the 'Client' column having the text \"test\" will be marked as \"non-editable\". Later one can make the cells \"editable\" or \"non-editable\" be clicking on the corresponding button. </p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I am new to jqGrid and I need help with a scenario that I am not able to figure out.</p>\n\n<p>I am able to make a cell un-editable using the following code:</p>\n\n<pre><code>jQuery(\"#updAssist\").jqGrid('setCell',rowid,'precPsProg','','not-editable-cell');\n</code></pre>\n\n<p>Now I want to make the cell editable again based on some condition.</p>\n\n<p>What class should I use to achieve that?</p>\n\n<p>Is there a 'editable-cell' class that I can use?</p>\n",
            "last_activity_date": 1340800278,
            "question_id": 5092571,
            "score": 5,
            "tags": [
                "javascript",
                "jqgrid"
            ],
            "title": "How to make cell editable dynamically in jqGrid"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Is it possible? Absolutely...is it <em>simple</em> (especially cross-browser with IE in the mix), not so much.  If you're really interested in doing this, <a href=\"http://code.google.com/p/fbug/source/browse/lite/branches/firebug1.4/content/firebug/css.js?r=8307\" rel=\"nofollow\">check out the Firebug Lite CSS source here</a>.  At least the methods are decently commented showing what information each is fetching.</p>\n\n<p>....or if you're wanting simply to inspect in a browser that doesn't have an inspector, <a href=\"http://getfirebug.com/firebuglite\" rel=\"nofollow\">just use Firebug Lite</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There is a reliable way of getting it, mentioned in this <a href=\"http://robertnyman.com/2006/04/24/get-the-rendered-style-of-an-element/\" rel=\"nofollow\">blog post</a>:</p>\n\n<pre><code>function getStyle(oElm, strCssRule){\n    var strValue = \"\";\n    if(document.defaultView &amp;&amp; document.defaultView.getComputedStyle){\n        strValue = document.defaultView\n            .getComputedStyle(oElm, \"\").getPropertyValue(strCssRule);\n    }\n    else if(oElm.currentStyle){\n        strCssRule = strCssRule.replace(/\\-(\\w)/g, function (strMatch, p1){\n            return p1.toUpperCase();\n        });\n        strValue = oElm.currentStyle[strCssRule];\n    }\n    return strValue;\n}\n</code></pre>\n\n<p>If you are using Firefox and Firebug, you can try running this code in StackOverflow, to see what you get:</p>\n\n<pre><code>document.defaultView.getComputedStyle(document.getElementById(\"custom-header\"),\"\")\n</code></pre>\n\n<p>And with IE and Firebug Lite, you could do:</p>\n\n<pre><code>document.getElementById(\"custom-header\").currentStyle\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is what you want.  WebKit only. I found out about getMatchedCSSRules by looking at the chromium web inspector source.</p>\n\n<pre><code>  function getAppliedSelectors(node) {\n    var selectors = [];\n    var rules = node.ownerDocument.defaultView.getMatchedCSSRules(node, '');\n\n    var i = rules.length;\n    while (i--) {\n      selectors.push(rules[i].selectorText);\n    }\n    return selectors;\n  }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>Well, it's an old subject.\nGood for Webkit for offering a solution.\nAs suggested, I've looked into firebug-lite and... surprise!!\nFor every node it loops over every rule in every stylesheet checking if the selector matches our nodes or not.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>A cross-browser solution I've had good success with is <a href=\"http://www.brothercake.com/site/resources/scripts/cssutilities/\">http://www.brothercake.com/site/resources/scripts/cssutilities/</a> </p>\n\n<p>It is very powerful and accurate, derives a lot more information than the webkit-only function mentioned above, and it works on all styles (including those that are cross-site and that aren't active or have been overridden).</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I want to get an element in the DOM and then lookup what rules in my CSS file(s) are contributing to it's appearance. Similar to what firebug or webkits inspector does. Is there a way to do this in JavaScript?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I should provide a constraint and a specific example - I am only interested in achieving this in webkit based browsers so cross-browser difficulties are not so much an issue. What I am specifically trying to achieve is this. Let's say I have a stylesheet as follows:</p>\n\n<pre><code>     div {\n        background: #f0f0f0;\n     }\n\n     .example {\n        padding: 10px;\n     }\n</code></pre>\n\n<p>And then let's say some html code like this:</p>\n\n<pre><code>  &lt;div id=\"test\" class=\"example\"&gt;\n     &lt;hgroup&gt;\n        &lt;h1&gt;Test&lt;/h1&gt;\n        &lt;h2&gt;A sample file to play with.&lt;/h2&gt;\n     &lt;/hgroup&gt;\n     &lt;ul class=\"sample\"&gt;\n        &lt;li id=\"item_1\"&gt;Item 1&lt;/li&gt;\n        &lt;li id=\"item_2\"&gt;Item 2&lt;/li&gt;\n     &lt;/ul&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>So then in javascript I want to be able to have a function that can find the selectors from the CSS that are styling the object:</p>\n\n<pre><code>get_selectors_for(document.getElementById('test'))\n// should return:\n// ['div','.example']\n</code></pre>\n\n<p>How complicated is it to reverse query selectors knowing we only need to worry about webkit as opposed to all browsers?</p>\n",
            "last_activity_date": 1347024105,
            "question_id": 4482374,
            "score": 5,
            "tags": [
                "javascript",
                "css",
                "dom"
            ],
            "title": "Is it possible to find CSS rules from an HTML node via JavaScript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>$(function() {\n   $(window).keypress(function(e) {\n       var key = e.which;\n       //do stuff with \"key\" here...\n   });\n});\n</code></pre>\n\n<p>See it in action on <a href=\"http://jsfiddle.net/7SP2n/1/\"><strong>jsFiddle</strong></a></p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>I've done this before. There are many other things to worry about besides how to handle keypress events. </p>\n\n<p>Your scanner probably sends the input wrapped by a start and end characters. I would create a ScanReader object that attaches to the keypress event. Once it detects the start character, it starts accumulating the presses until the end character is detected. </p>\n\n<p>To prevent it from getting confused with the user typing, the keypresses should be relatively close (in time) to each other, you need to test it out and see what a good number of ms between keypresses is. Fast typers can type as fast as 50ms in between key presses.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm building a site that after the page is loaded, needs to listen for a particular keyboard string. </p>\n\n<p>The event I am interested in is actually a scanner scanning an object, but it presents to the site as keyboard input, of the form <code>~XXX~</code>.</p>\n\n<p>I see jQuery has a <code>keypress()</code> event that you can bind to a particular object. </p>\n\n<p>But how can I listen for general keyboard input, after <code>$(document).ready</code>?</p>\n",
            "last_activity_date": 1292452085,
            "question_id": 4455274,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "jQuery: How do I listen for general keyboard input?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Why not just:  </p>\n\n<pre><code>asyncCall(\"request\", function() {\n    // here you can inspect the state\n});\n</code></pre>\n\n<p>What's the point of the wrapper function? </p>\n\n<p>Asynchronous functions work this way. If you want to block the execution, then use a synchronous call:  </p>\n\n<pre><code>var state = syncCall(\"request\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The best would be to put the logic you want to have called into the callback function. Is there any reason why you can't do that?</p>\n\n<p>You could use <code>setInterval</code> to check on the result, but that requires a callback function, too...</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>what you are trying to do is a <strong>synchronous</strong> call, so its not a good idea to do it with a function designed for <strong>asynchronous</strong> call.</p>\n\n<p>You have an answer here : <a href=\"http://stackoverflow.com/questions/133310/how-can-i-get-jquery-to-perform-a-synchronous-rather-than-asynchronous-ajax-req\">How can I get jQuery to perform a synchronous, rather than asynchronous, AJAX request?</a></p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I think you're looking for StratifiedJS, <a href=\"http://stratifiedjs.org\" rel=\"nofollow\">http://stratifiedjs.org</a>\nIt allows you to \"orchestrate\" your async code exactly like you wrote, BEWARE that it \"writes\" like synchronous code, it will NOT block the rest of your application.\nYou can use it anywhere by loading the apollo js library.</p>\n\n<p>This is how it would look like in Stratified JavaScript:</p>\n\n<pre><code>function getState() {\n  waitfor (var ret) {\n    // block on the asynchronous call\n    asyncCall(\"request\", resume);\n  }\n  return ret;\n}\n</code></pre>\n\n<p>of course there are modules/libraries that would just make it look like this:\n<a href=\"http://onilabs.com/modules#http\" rel=\"nofollow\">http://onilabs.com/modules#http</a></p>\n\n<pre><code>function getState() {\n  return http.get(\"request\");\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Unless I misunderstood your question, you could look at jQuery's ajaxStop() event - <a href=\"http://api.jquery.com/ajaxstop\" rel=\"nofollow\">http://api.jquery.com/ajaxstop</a>. This blocks until all ajax calls have completed. This obviously requires that all of your async calls be done thru jQuery.</p>\n\n<pre><code>$(document).ajaxStop(function() {\n    // do your \"ajax dependent\" stuff here\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I need to write a function in JavaScript, which returns a state from calling an asynchronous function. However, the caller only receives the value and no callback function is to be provided. I tried something like:</p>\n\n<pre><code>function getState() {\n    var ret = null;\n    asyncCall(\"request\",\n        function() { ret = \"foo\"; } // callback\n    );\n    while (ret === null)\n        ; // block on the asynchronous call\n    return ret;\n}\n</code></pre>\n\n<p>However, the loop is never going to end\u2026</p>\n\n<p>Any ideas? Thank you.</p>\n",
            "last_activity_date": 1403125178,
            "question_id": 4345945,
            "score": 5,
            "tags": [
                "javascript",
                "asynchronous"
            ],
            "title": "How to block on asynchronous functions in JavaScript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>use CSS <code>display:</code> property</p>\n\n<p>element disappear</p>\n\n<pre><code>document.getElementById(\"products\").style.display = \"none\";\n</code></pre>\n\n<p>element appear and is displayed as block (default for div)</p>\n\n<pre><code>document.getElementById(\"products\").style.display = \"block\";\n</code></pre>\n\n<p>I posted sample code here: <a href=\"http://stackoverflow.com/questions/4247067/jquery-menus-appear-disappear-on-click-v2/4247689#4247689\">jQuery: menus appear/disappear on click - V2</a></p>\n\n<p>PS</p>\n\n<p>Here you can find nice examples about differences between display and visibility: <a href=\"http://wiw.org/~frb/css-docs/display/display.html\" rel=\"nofollow\">http://wiw.org/~frb/css-docs/display/display.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is exactly what jquery makes easier. Take this very simple example of what you're trying to achieve:</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n    .section {\n        display: none;\n    }\n&lt;/style&gt;\n&lt;script type=\"text/javascript\"&gt;\n\n    function toggleVisibility(newSection) {\n        $(\".section\").not(\"#\" + newSection).hide();\n        $(\"#\" + newSection).show();\n    }\n&lt;/script&gt;\n\n&lt;a href=\"#\" onclick=\"toggleVisibility('about');\"&gt;About&lt;/a&gt;\n\n&lt;a href=\"#\" onclick=\"toggleVisibility('products');\"&gt; Products&lt;/a&gt;\n\n&lt;div id=\"about\" class=\"section\"&gt;about section&lt;/div&gt;\n&lt;div id=\"products\" class=\"section\"&gt;products section&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Simple solution is like this:</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n    function toggleVisibility(divid) {\n    if (divid=\"about\"){\n        document.getElementById(\"about\").style.visibility = \"visible\";\n        document.getElementById(\"products\").style.visibility = \"hidden\";\n    }\n    else if (divid=\"products\")\n    {\n        document.getElementById(\"products\").style.visibility = \"visible\";\n        document.getElementById(\"about\").style.visibility = \"hidden\";\n    }\n    }\n    &lt;/script&gt;\n\n\n&lt; href=\"#\" onclick=\"toggleVisibility('about');\"&gt;About\n\n&lt; href=\"##\" onclick=\"toggleVisibility1('products');\"&gt; Products\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Without jQuery, you would want to do something like this:</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n    .content {\n        display: none;\n    }\n    #about {\n        display: block;\n    }\n&lt;/style&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\n    function toggleVisibility(selectedTab) {\n\n         // Get a list of your content divs\n         var content = document.getElementsByClassName('content');\n\n         // Loop through, hiding non-selected divs, and showing selected div\n         for(var i=0; i&lt;content.length; i++) {\n              if(content[i].id == selectedTab) {\n                    content[i].style.display = 'block';\n              } else {\n                    content[i].style.display = 'none';\n              }\n         }\n\n    }\n&lt;/script&gt;\n\n&lt;a href=\"#\" onclick=\"toggleVisibility('about');\"&gt;About&lt;/a&gt;\n&lt;a href=\"#\" onclick=\"toggleVisibility('products');\"&gt; Products&lt;/a&gt;\n\n&lt;div id=\"about\" class=\"content\"&gt;About stuff here&lt;/div&gt;\n&lt;div id=\"products\" class=\"content\"&gt;Product stuff here&lt;/div&gt;\n</code></pre>\n\n<p>Example here: <a href=\"http://jsfiddle.net/frDLX/\" rel=\"nofollow\">http://jsfiddle.net/frDLX/</a></p>\n\n<p>jQuery makes this much easier, but if you are beginning with JavaScript, sometimes you want to see the programmatic code, so you can tell what is going on.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>here is another, simple function</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction toggle_visibility(id) {\n   var e = document.getElementById(id);\n   if(e.style.display == 'block')\n      e.style.display = 'none';\n   else\n      e.style.display = 'block';\n}\n&lt;/script&gt;\n&lt;a href=\"#\" onclick=\"toggle_visibility('foo');\"&gt;if you click here, #foo will change visibility&lt;/a&gt;\n&lt;div id=\"foo\"&gt;blablabla&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Essentially what I am trying to do is create a website that has all of its content on the home page but only has some of the content visible at any one time. The way I read to do this is through toggling visibility. </p>\n\n<p>The problem I am having is that: Assume the home page, when you first visit the website is blank (the way I want it to be). Lets say you click on the \"about us\" link. All of a sudden the about us section becomes visible (the way I want it to be). Now the problem that I have come across is when I know lets say click on the \"products\" link, I want the \"products\" content to become visible and the \"about us\" content to become invisible again. (Essentially creating the illusion of opening a new page within the same page) </p>\n\n<p>Here is the code I have come up with so far. I can make certain div elements visible and invisible (onclick) but I cant figure out how to make sure only one div element is visible at any one time.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction toggleVisibility() {\ndocument.getElementById(\"about\").style.display = \"\";\nif(document.getElementById(\"about\").style.visibility == \"hidden\" ) {\n    document.getElementById(\"about\").style.visibility = \"visible\";\n}\nelse {\ndocument.getElementById(\"about\").style.visibility = \"hidden\";\n}\n}\n&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\nfunction toggleVisibility1() {\ndocument.getElementById(\"products\").style.display = \"\";\nif(document.getElementById(\"products\").style.visibility == \"hidden\" ) {\n    document.getElementById(\"products\").style.visibility = \"visible\";\n}\nelse {\ndocument.getElementById(\"products\").style.visibility = \"hidden\";\n}\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>The links to make the javascript work looks like this:</p>\n\n<p>&lt; href=\"#\" onclick=\"toggleVisibility();\">About</p>\n\n<p>&lt; href=\"##\" onclick=\"toggleVisibility1();\"> Products</p>\n",
            "last_activity_date": 1364299556,
            "question_id": 4261363,
            "score": 5,
            "tags": [
                "javascript",
                "javascript-events",
                "html",
                "toggleclass"
            ],
            "title": "Javascript/HTML -- Toggle Visibility (Automatically causing one div element to hide when another is rendered visible)"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can use Psuedo-classes in CSS if you don't want an animation.</p>\n\n<pre><code>div.div {\n   height: 30px;\n   width: 300px;\n   border: 1px solid black;\n}\n\ndiv.div:hover {\n   height: 300px;\n}\u200b\n</code></pre>\n\n<h2>Live Example</h2>\n\n<p><a href=\"http://jsfiddle.net/aFUmS/\">http://jsfiddle.net/aFUmS/</a></p>\n\n<pre><code>$('.div').hover(function() {\n    $(this).animate({\n        height: '300px'\n    }, 300);\n},function() {\n    $(this).animate({\n        height: '30px'\n    }, 300);\n});\u200b\n</code></pre>\n\n<h2>jQuery example if you want animation</h2>\n\n<p><a href=\"http://jsfiddle.net/CvhkM/\">http://jsfiddle.net/CvhkM/</a></p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>Or you can add a <code>.stop()</code> before the <code>.animate</code> and the animation will stop immediately after you remove the pointer.</p>\n\n<pre><code>$('.div').hover(function() {\n    $(this).stop().animate({\n        height: '300px'\n    }, 300);\n},function() {\n    $(this).stop().animate({\n        height: '30px'\n    }, 300);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Hey all, I've been beating my head against the search engine walls for a couple hours now and figure I might as well just ask...</p>\n\n<p>I need to build a div that is one size on blur, say 300x30, that expands to 300x300 on hover and pushes all content below it down and will revert to the 300x30 size when blurred (\"no longer hovered\" or whatever you kids are calling it now-a-days lol) again.  Can someone point me to some resources or even give me some code bits to play with?  It'd be much appreciated!</p>\n",
            "last_activity_date": 1324274702,
            "question_id": 3755381,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "hover",
                "expand"
            ],
            "title": "Looking to build an expand on hover/contract on blur div"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You should try to save current context state and then restore it:</p>\n\n<pre><code>        canvas = document.getElementById(\"area\");\n        context = canvas.getContext('2d');\n\n        $(\"#avatars img\").each(function(avatar) {\n\n            var x = Math.floor(Math.random() * canvas.width);\n            var y = Math.floor(Math.random() * canvas.height);\n\n            context.save();//push current state into canvas\n            context.beginPath();\n            context.arc(x + 24, y + 24, 20, 0, Math.PI * 2, 1);\n            context.clip();\n\n            context.strokeStyle = \"black\";\n\n            //draw image this way\n            var img = new Image();\n            img.src = avatar.src;\n            img.onload = function() {\n                context.drawImage(img, x, y);\n            };\n\n            context.stroke();\n            context.restore();//restore context to the state\n\n        });\n</code></pre>\n\n<p>I think when you call drawImage method,you also need to set image parameter as an Image class by adding a source line which is already in your <strong>avatar.src parameter</strong>.</p>\n\n<p>You should check the reference document for <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#the-canvas-state\">Canvas State</a></p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I have code that loads a bunch of images into hidden img elements and then a Javascript loop which places each image onto the canvas. However, I want to clip each image so that it is a circle when placed on the canvas.</p>\n\n<p>My loop looks like this:</p>\n\n<pre><code>    $$('#avatars img').each(function(avatar) {\n        var canvas = $('canvas');\n        var context = canvas.getContext('2d');\n\n        var x = Math.floor(Math.random() * canvas.width);\n        var y = Math.floor(Math.random() * canvas.height);\n\n        context.beginPath();\n        context.arc(x+24, y+24, 20, 0, Math.PI * 2, 1);\n        context.clip();\n\n        context.strokeStyle = \"black\";\n\n        context.drawImage(document.getElementById(avatar.id), x, y);\n\n        context.stroke();\n    });\n</code></pre>\n\n<p>Problem is, only the first image is drawn (or is visible).</p>\n\n<p>If I remove the clipping logic:</p>\n\n<pre><code>    $$('#avatars img').each(function(avatar) {\n        var canvas = $('canvas');\n        var context = canvas.getContext('2d');\n\n        var x = Math.floor(Math.random() * canvas.width);\n        var y = Math.floor(Math.random() * canvas.height);\n\n        context.drawImage(document.getElementById(avatar.id), x, y);\n    });\n</code></pre>\n\n<p>Then all my images are drawn.</p>\n\n<p>Is there a way to get each image individually clipped?</p>\n\n<p>I tried resetting the clipping area to be the entire canvas between images but that didn't work.</p>\n",
            "last_activity_date": 1321538514,
            "question_id": 2551411,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "canvas",
                "clipping"
            ],
            "title": "Can you have multiple clipping regions in an HTML Canvas?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>JS performance differs widely from browser to browser.</p>\n\n<p>My advice: benchmark it. Just put it in a for loop, let it run a few million times, and time it.... see what you get. Be sure to share your results!</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>First of all, never compare things like these for performance reasons. <code>Math.round</code> is obviously easier on the eyes than <code>window.Math.round</code>, and you wouldn't see a noticeable performance increase by using one or the other. So don't obfuscate your code for very slight performance increases.</p>\n\n<p>However, if you're just curious about which one is faster... I'm not sure how the global scope is looked up \"under the hood\", but I would guess that accessing <code>window</code> is just the same as accessing <code>Math</code> (<code>window</code> and <code>Math</code> live on the same level, as evidenced by <code>window.window.window.Math.round</code> working). Thus, accessing <code>window.Math</code> would be slower.</p>\n\n<p>Also, the way variables are looked up, you would see a performance increase by doing <code>var round = Math.round;</code> and calling <code>round(1.23)</code>, since all names are first looked up in the current local scope, then the scope above the current one, and so on, all the way up to the global scope. Every scope level adds a very slight overhead.</p>\n\n<p>But again, don't do these optimizations unless you're sure they will make a noticeable difference. Readable, understandable code is important for it to work the way it should, now and in the future.</p>\n\n<p>Here's a full profiling using Firebug:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Benchmark scope lookup&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;script&gt;\n        function bench_window_Math_round() {\n            for (var i = 0; i &lt; 100000; i++) {\n                window.Math.round(1.23);\n            }\n        }\n\n        function bench_Math_round() {\n            for (var i = 0; i &lt; 100000; i++) {\n                Math.round(1.23);\n            }\n        }\n\n        function bench_round() {\n            for (var i = 0, round = Math.round; i &lt; 100000; i++) {\n                round(1.23);\n            }\n        }\n\n        console.log('Profiling will begin in 3 seconds...');\n        setTimeout(function () {\n            console.profile();\n            for (var i = 0; i &lt; 10; i++) {\n                bench_window_Math_round();\n                bench_Math_round();\n                bench_round();\n            }\n            console.profileEnd();\n        }, 3000);\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>My results:<br>\n<code>Time</code> shows total for 100,000 * 10 calls, <code>Avg</code>/<code>Min</code>/<code>Max</code> show time for 100,000 calls.</p>\n\n<pre><code>Calls  Percent  Own Time   Time       Avg        Min        Max\nbench_window_Math_round\n10     86.36%   1114.73ms  1114.73ms  111.473ms  110.827ms  114.018ms   \nbench_Math_round\n10      8.21%    106.04ms   106.04ms   10.604ms   10.252ms   13.446ms   \nbench_round\n10      5.43%     70.08ms    70.08ms    7.008ms    6.884ms    7.092ms\n</code></pre>\n\n<p>As you can see, <code>window.Math</code> is a really bad idea. I guess accessing the global <code>window</code> object adds additional overhead. However, the difference between accessing the <code>Math</code> object from the global scope, and just accessing a local variable with a reference to the <code>Math.round</code> function isn't very great... Keep in mind that this is 100,000 calls, and the difference is only 3.6ms. Even with one million calls you'd only see a 36ms difference.</p>\n\n<p>Things to think about with the above profiling code:</p>\n\n<ul>\n<li>The functions are actually looked up from another scope, which adds overhead (barely noticable though, I tried importing the functions into the anonymous function). </li>\n<li>The actual <code>Math.round</code> function adds overhead (I'm guessing about 6ms in 100,000 calls).</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>If <code>Math.round()</code> is being called in a local/function scope the interpreter is going to have to check first for a local var then in the global/window space. So in local scope my guess would be that <code>window.Math.round()</code> would be very slightly faster. This isn't assembly, or C or C++, so I wouldn't worry about which is faster for <em>performance</em> reasons, but if out of curiosity, sure, benchmark it. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>(As you've said) <code>Math.floor</code> will probably just be a shortcut for <code>window.Math</code> (as <code>window</code> is a Javascript global object) in most Javascript implementations such as V8.</p>\n\n<p>Spidermonkey and V8 will be so heavily optimised for common usage that it shouldn't be a concern.</p>\n\n<p>For readability my preference would be to use <code>Math.floor</code>, the difference in speed will be so insignificant it's not worth worrying about ever. If you're doing a 100,000 floors it's probably time to switch that logic out of the client.</p>\n\n<p>You may want to have a nose around the v8 source there's some interesting comments there about shaving nanoseconds off functions such as <a href=\"http://www.google.com/codesearch/p?hl=en#W9JxUuHYyMg/trunk/src/v8natives.js&amp;q=v8natives.js%20package%3ahttp://v8%5C.googlecode%5C.com&amp;sa=N&amp;cd=1&amp;ct=rc\" rel=\"nofollow\">this</a> <code>int.Parse()</code> one.</p>\n\n<pre><code>// Some people use parseInt instead of Math.floor.  This\n// optimization makes parseInt on a Smi 12 times faster (60ns\n// vs 800ns).  The following optimization makes parseInt on a\n// non-Smi number 9 times faster (230ns vs 2070ns).  Together\n// they make parseInt on a string 1.4% slower (274ns vs 270ns).\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This can be an interest question if you want to know how the <a href=\"http://bclary.com/2004/11/07/#a-10.1.4\" rel=\"nofollow\">Scope Chain and the Identifier Resolution</a> process works.</p>\n\n<p>The scope chain is a list of objects that are searched when evaluating an identifier, those objects are not accessible by code, only its properties (identifiers) can be accessed.</p>\n\n<p>At first, in global code, the scope chain is created and initialised to contain only the global object.</p>\n\n<p>The subsequent objects in the chain are created when you enter in function execution context and by the <code>with</code> statement and <code>catch</code> clause, both also introduce objects into the chain.</p>\n\n<p>For example:</p>\n\n<pre><code>// global code\nvar var1 = 1, var2 = 2;\n(function () { // one\n  var var3 = 3;\n  (function () { // two\n    var var4 = 4;\n\n    with ({var5: 5}) { // three\n      alert(var1);\n    }\n  })();\n})();\n</code></pre>\n\n<p>In the above code, the scope chain will contain different objects in different levels, for example, at the lowest level, within the <code>with</code> statement, if you use the <code>var1</code> or <code>var2</code> variables, the scope chain will contain 4 objects that will be needed to inspect in order to get that identifier: the one introduced by the <code>with</code> statement, the two functions, and finally the global object.</p>\n\n<p>You also need to know that <code>window</code> is <em>just a property</em> that exists in the global object and it <em>points to the global object itself</em>. <code>window</code> is introduced by browsers, and in other environments often it isn't available.</p>\n\n<p>In conclusion, when you use <code>window</code>, since it is just an identifier (is not a reserved word or anything like that) and it needs to pass all the resolution process in order to get the global object, <code>window.Math</code> needs an additional step that is made by the dot (<code>.</code>) property accessor.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>As far as I understand JavaScript logic, everything you refer to as <code>something</code> is searched in the global variable scope. In browser implementations, the <code>window</code> object <em>is</em> the global object. Hence, when you are asking for <code>window.Math</code> you actually have to de-reference what <code>window</code> means, then get its properties and find <code>Math</code> there. If you simply ask for <code>Math</code>, the first place where it is sought, is the global object.</p>\n\n<p>So, yes- calling <code>Math.something</code> will be faster than <code>window.Math.something</code>.</p>\n\n<p>D. Crockeford talks about it in his lecture <a href=\"http://video.yahoo.com/watch/111593/1710507\" rel=\"nofollow\">http://video.yahoo.com/watch/111593/1710507</a>, as far as I recall, it's in the 3rd part of the video.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm kind of curious about what the best practice is when referencing the 'global' namespace in javascript, which is merely a shortcut to the <code>window</code> object (or vice versia depending on how you look at it).</p>\n\n<p>I want to know if:</p>\n\n<pre><code>var answer = Math.floor(value);\n</code></pre>\n\n<p>is better or worse than:</p>\n\n<pre><code>var answer = window.Math.floor(value);\n</code></pre>\n\n<p>Is one better or worse, even slightly, for performance, resource usage, or compatibility?</p>\n\n<p>Does one have a slighter higher cost? (Something like an extra pointer or something)</p>\n\n<p><strong>Edit note</strong>:  While I am a readability over performance nazi in most situations, in this case I am ignoring the differences in readability to focus solely on performance.</p>\n",
            "last_activity_date": 1264340050,
            "question_id": 2125113,
            "score": 5,
            "tags": [
                "javascript",
                "performance",
                "window",
                "global-variables",
                "global"
            ],
            "title": "In javascript, is accessing &#39;window.Math&#39; slower or faster than accessing the &#39;Math&#39; object without the &#39;window.&#39;?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>There are plenty of tutorials available, try one of these three that came up first from a Google search for \"php chat tutorial\":</p>\n\n<ul>\n<li><a href=\"http://www.tutorialized.com/tutorials/PHP/Chat-Systems/1\" rel=\"nofollow\">http://www.tutorialized.com/tutorials/PHP/Chat-Systems/1</a></li>\n<li><a href=\"http://code.jenseng.com/jenChat/\" rel=\"nofollow\">http://code.jenseng.com/jenChat/</a></li>\n<li><a href=\"http://www.ajaxprojects.com/ajax/tutorialdetails.php?itemid=9\" rel=\"nofollow\">http://www.ajaxprojects.com/ajax/tutorialdetails.php?itemid=9</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As far as the chat window staying when you change pages, I can think of three options:</p>\n\n<ol>\n<li>Put the chat in a separate frame and only change the main frame when going to a new page.</li>\n<li>Change the page content with AJAX instead of making a full page reload.</li>\n<li>Assuming the chat messages are being stored on the server, simply repopulate the chat with the most recent messages after the new page loads.</li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>As for the actual chat application...</p>\n\n<p>Using some kind of technology to push data from the server -> your users is the best way to achieve a real-time chat application.</p>\n\n<p>I would highly recommend checking out <a href=\"http://www.ape-project.org/\" rel=\"nofollow\">APE (Ajax Push Engine)</a>.</p>\n\n<p>It takes care of the server-side stuff and allows you to seamlessly transfer data from the server -> client.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>i need to create a chat application in php+js+ajax  which need to be integrated to a site, where am stuck is to create a chat window , that need to be constant while going through different pages in the site  . if any one can suggest a better way i will be grateful, thanks in advance  </p>\n",
            "last_activity_date": 1263367393,
            "question_id": 2055020,
            "score": 5,
            "tags": [
                "php",
                "javascript",
                "ajax"
            ],
            "title": "php chat client"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Pass \"g\" in Regexp</p>\n\n<pre><code>geturl = new RegExp(\n          \"(^|[ \\t\\r\\n])((ftp|http|https|gopher|mailto|news|nntp|telnet|wais|file|prospero|aim|webcal):(([A-Za-z0-9$_.+!*(),;/?:@&amp;~=-])|%[A-Fa-f0-9]{2}){2,}(#([a-zA-Z0-9][a-zA-Z0-9$_.+!*(),;/?:@&amp;~=%-]*))?([A-Za-z0-9$_+!*();/?:~-]))\"\n         ,\"g\"\n       );\n\n\nstring.match(geturl).length\n2\n\nstring.match(geturl)\n http://vimeo.com/8122132, http://www.flickr.com/photos/pmorgan/32606683/\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>For example, I have the following string:</p>\n\n<pre><code>var string = 'watch this video http://vimeo.com/8122132 and then see this picture http://www.flickr.com/photos/pmorgan/32606683/';\n</code></pre>\n\n<p>I wish to find all the valid URLs and place them in an array, done in JavaScript (and jQuery), so in this case:</p>\n\n<pre><code>url[0] = http://vimeo.com/8122132\nurl[1] = http://www.flickr.com/photos/pmorgan/32606683/\n</code></pre>\n\n<p>For now, I can only match one URL, but I wish to match all. This is what I have:</p>\n\n<pre><code>geturl = new RegExp(\"(^|[ \\t\\r\\n])((ftp|http|https|gopher|mailto|news|nntp|telnet|wais|file|prospero|aim|webcal):(([A-Za-z0-9$_.+!*(),;/?:@&amp;~=-])|%[A-Fa-f0-9]{2}){2,}(#([a-zA-Z0-9][a-zA-Z0-9$_.+!*(),;/?:@&amp;~=%-]*))?([A-Za-z0-9$_+!*();/?:~-]))\");\nvar url = geturl.exec(string);\n$('#urls').html(url[0]);\n</code></pre>\n\n<p>Trust me, putting url[1], url[2], etc. doesn't work :(</p>\n\n<p>Any ideas?</p>\n",
            "last_activity_date": 1262279007,
            "question_id": 1986121,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "regex"
            ],
            "title": "Match all URLs in string and return in array in JavaScript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can dynamically create and manipulate stylesheets. <a href=\"http://www.quirksmode.org/dom/w3c%5Fcss.html#change\">See here</a> for some of the cross-browser issues with this approach.</p>\n\n<p>I've got a wrapper function <a href=\"http://mercurial.intuxication.org/hg/js-hacks/raw-file/tip/createstylesheet.js\">lying around</a> which works around some of them; using it, the code would read</p>\n\n<pre><code>document.createStyleSheet().addRule('#myDiv:hover', 'background:#000000;');\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>you may create element with predefined class:</p>\n\n<pre><code>.h:hover{color: #c00}\n\nvar elem = document.createElement('div');\nelem.className = 'h'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm using the DOM to manage a JSON response from an AJAX function I'm running. The script I'm writing needs to be completely portable, so I am defining the styles for the created elements on the fly (meaning, no linking to an external CSS, and no providing CSS in the HTML doc itself, because I won't have control of the doc).</p>\n\n<p>I'd like to create a hover effect on some of the elements.</p>\n\n<p>example:</p>\n\n<pre> #myDiv:hover { background:#000000; }</pre>\n\n<p>Is there a way to define that in the DOM?  Or do I have to use <code>mouseover</code>?</p>\n",
            "last_activity_date": 1242074426,
            "question_id": 714655,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "css",
                "dom"
            ],
            "title": "How can I set a css &quot;:hover&quot; on a DOM created element in JavaScript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The return string is the result of the last Javascript statement. Do <strong>not</strong> put <code>return</code> in front of it!</p>\n\n<p>The minimum code that worked for me:</p>\n\n<pre><code>UIWebView *webView = [[UIWebView alloc] initWithFrame:CGRectZero];\n[self.view addSubview:webView];\nNSString *result = [webView stringByEvaluatingJavaScriptFromString:\n                    @\"function f(){ return \\\"hello\\\"; } f();\"];\nNSLog(@\"result: '%@'\", result); // 'hello'\n[webView release];\n</code></pre>\n\n<p>So I had to add the <code>UIWebView*</code> to a view (otherwise it would crash afterwards), but didn't have to load anything into the webview.</p>\n\n<p>Notice that the last statement is just \"<code>f();</code>\", so the returned string will contain the result of the evaluation of <code>f()</code>.</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>I had the same problem when I tried call some functions from google maps API.</p>\n\n<p>There was a problem with returning objects, so I solved it by function toString().</p>\n\n<pre><code>NSString *result = [webView stringByEvaluatingJavaScriptFromString:\n                @\"map.getBounds().toString();\"];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>i'm trying to get the return value of a javascript function(for example: <code>return \"hello\"</code>) with iPhone SDK.</p>\n\n<p>On OS X the WebView method <code>-stringByEvaluatingJavaScriptFromString</code> returns a NSString containing the js function return value, but on the iPhone no value is returned.</p>\n\n<p>How can I solve this?</p>\n\n<hr>\n\n<p>I found a private UIWebViewDelegate method</p>\n\n<pre><code>- (void)webView:(id)fp8 runJavaScriptAlertPanelWithMessage:(id)fp12 initiatedByFrame:(id)fp16\n</code></pre>\n\n<p>invoked when the alert() function is used in the js script. So I can get the \"return\" value just by calling <code>alert(myReturValue)</code>.</p>\n\n<p>That doesn't solve my problem, because I need something in the public SDK.</p>\n",
            "last_activity_date": 1309264330,
            "question_id": 498965,
            "score": 5,
            "tags": [
                "javascript",
                "iphone"
            ],
            "title": "return value javascript UIWebView"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You need to pass a date object and not a date string.  </p>\n\n<pre><code>collection.findOne({last_updated: new Date('2014-01-22T14:56:59.301Z')},function(err, doc) {\n</code></pre>\n\n<p>The MongoDB driver will transform it into <code>ISODate</code>:</p>\n\n<pre><code>{ \n   \"_id\" : ObjectId(\"52dfe0c469631792dba51770\"), \n   \"last_updated\" : ISODate('2014-01-22T14:56:59.301Z') \n}\n</code></pre>\n\n<p>Check these questions:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/20561381/mongodb-nodejs-how-to-query-isodate-fields\">MongoDB + nodejs : How to query ISODate fields?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/8848314/isodate-is-not-defined\">ISODate is not defined</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>To clarify. What is important to know is that:</p>\n\n<ul>\n<li>Yes, you have to pass a Javascript Date object.  </li>\n<li>Yes, it has to be ISODate friendly</li>\n<li>Yes, from my experience getting this to work, you need to manipulate the date to ISO</li>\n<li>Yes, working with dates is generally always a tedious process, and mongo is no exception</li>\n</ul>\n\n<p>Here is a working snippet of code, where we do a little bit of date manipulation to ensure Mongo can handle it correctly. In this example, I am using mongoose module and want results for rows whose date attribute is less than (ie. before) the date given as myDate param.</p>\n\n<pre><code>var inputDate = new Date(myDate.toISOString());\nMyModel.find({\n    'date': { $lte: inputDate }\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I need some help finding a record by date in mongodb and nodejs.</p>\n\n<p>I add the date to the json object in a scraping script as follows:</p>\n\n<pre><code>jsonObj.last_updated = new Date();\n</code></pre>\n\n<p>This object is inserted into mongodb. I can see it as follows:</p>\n\n<pre><code> \"last_updated\" : \"2014-01-22T14:56:59.301Z\"\n</code></pre>\n\n<p>Then in my nodejs script I do a findOne():</p>\n\n<pre><code> var jObj = JSON.parse(line.toString());\n\n collection.findOne(jObj,function(err, doc) {\n   if (doc){\n     console.log(doc._id);\n   } else  {\n     console.log('not found');\n   }\n });\n</code></pre>\n\n<p>The object is not found. If I remove the last_updated field from the object it is found so it is definitely where the problem is.</p>\n\n<p>If I isolate the field as follows:</p>\n\n<pre><code>collection.findOne({last_updated: '2014-01-22T14:56:59.301Z'},function(err, doc) {\n  if (doc){\n    console.log(doc._id);\n  } else  {\n    console.log('not found');\n  }\n});\n</code></pre>\n\n<p>Nothing comes back either. What am I doing wrong please?</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1416036650,
            "question_id": 21286599,
            "score": 4,
            "tags": [
                "javascript",
                "node.js",
                "mongodb",
                "date"
            ],
            "title": "Inserting and Querying Date with MongoDB and Nodejs"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can add it:</p>\n\n<pre><code>var meta = document.createElement('meta');\nmeta.httpEquiv = \"X-UA-Compatible\";\nmeta.content = \"IE=edge\";\ndocument.getElementsByTagName('head')[0].appendChild(meta);\n</code></pre>\n\n<p>...but I wouldn't be surprised if by the time that ran, the browser had already made its decisions about how to render the page.</p>\n\n<p>The real answer here has to be to output the correct tag from the server in the first place, or (of course) not to reply on X-UA-Compatible at all.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Like this ?</p>\n\n<pre><code>&lt;script&gt;\nvar meta = document.createElement('meta');\nmeta.setAttribute('http-equiv', 'X-UA-Compatible');\nmeta.setAttribute('content', 'IE=Edge');\ndocument.getElementsByTagName('head')[0].appendChild(meta);\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><code>$('head').append('&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge\" /&gt;\n');</code></p>\n\n<p>or</p>\n\n<pre><code>var meta = document.createElement('meta');\nmeta.httpEquiv = \"X-UA-Compatible\";\nmeta.content = \"IE=edge\";\ndocument.getElementsByTagName('head')[0].appendChild(meta);\n</code></pre>\n\n<p>Though I'm not certain it will have an affect as it will be generated after the page is loaded</p>\n\n<blockquote>\n  <p>If you want to add meta data tags for page description, use the\n  SETTINGS of your DNN page to add Description and Keywords.  Beyond\n  that, the best way to go when modifying the HEAD is to dynamically\n  inject your code into the HEAD via a third party module.</p>\n</blockquote>\n\n<p>Found at <a href=\"http://www.dotnetnuke.com/Resources/Forums/forumid/7/threadid/298385/scope/posts.aspx\" rel=\"nofollow\">http://www.dotnetnuke.com/Resources/Forums/forumid/7/threadid/298385/scope/posts.aspx</a></p>\n\n<p>This may allow other meta tags, if you're lucky</p>\n\n<blockquote>\n  <p>Additional HEAD tags can be placed into Page Settings > Advanced\n  Settings > Page Header Tags.</p>\n</blockquote>\n\n<p>Found at <a href=\"http://www.dotnetnuke.com/Resources/Forums/forumid/-1/postid/223250/scope/posts.aspx\" rel=\"nofollow\">http://www.dotnetnuke.com/Resources/Forums/forumid/-1/postid/223250/scope/posts.aspx</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want to add <code>&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;</code> for a particular page.</p>\n\n<p>But my pages are rendered inside one <code>HTML</code> tag. Only the content is changing on clicking different templates. So i cannot add the <code>&lt;meta&gt;</code> in <code>&lt;HEAD&gt;</code> section.</p>\n\n<p>Is there any way to add the <code>&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;</code> using <code>javascript</code> ? </p>\n",
            "last_activity_date": 1380028334,
            "question_id": 18982228,
            "score": 4,
            "tags": [
                "javascript",
                "metatag"
            ],
            "title": "How to add meta tag in javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This is a common technique when no depth/float texture support is given.</p>\n\n<p>Here are some fragment shader functions taken from \n<a href=\"http://www.nutty.ca/webgl/shadows/\" rel=\"nofollow\">http://www.nutty.ca/webgl/shadows/</a>\nthat pack and unpack 32bit data into colors:</p>\n\n<pre><code>        vec4 pack (float depth)\n        {\n            const vec4 bitSh = vec4(256 * 256 * 256,\n                                    256 * 256,\n                                    256,\n                                    1.0);\n            const vec4 bitMsk = vec4(0,\n                                     1.0 / 256.0,\n                                     1.0 / 256.0,\n                                     1.0 / 256.0);\n            vec4 comp = fract(depth * bitSh);\n            comp -= comp.xxyz * bitMsk;\n            return comp;\n        }\n\n\n        float unpack (vec4 colour)\n        {\n            const vec4 bitShifts = vec4(1.0 / (256.0 * 256.0 * 256.0),\n                                        1.0 / (256.0 * 256.0),\n                                        1.0 / 256.0,\n                                        1);\n            return dot(colour , bitShifts);\n        }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I'm looking to parallelize some complex math, and webgl looks like the perfect way to do it.\nThe problem is, you can only read 8 bit integers from textures.\nI would ideally like to get 32 bit numbers out of the texture.\nI had the idea of using the 4 color channels to get 32 bits per pixel, instead of 4 times 8 bits.</p>\n\n<p>My problem is, glsl doesn't have a \"%\" operator or any bitwise operator!</p>\n\n<p>TLDR:\nHow do I convert a 32bit number to 4 8bit numbers by using the operators in glsl.</p>\n\n<p>Some extra info on the technique (using bitwise operators):</p>\n\n<p><a href=\"http://stackoverflow.com/questions/2810280/how-to-store-a-64-bit-integer-in-2-32-bit-integers-and-convert-back-again\">How to store a 64 bit integer in 2 32 bit integers and convert back again</a></p>\n",
            "last_activity_date": 1412283942,
            "question_id": 18453302,
            "score": 4,
            "tags": [
                "javascript",
                "webgl",
                "glsl",
                "glsles"
            ],
            "title": "How do you pack one 32bit int Into 4, 8bit ints in glsl / webgl?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Using HTML5 you can add the attribute 'download' to your links.</p>\n\n<p><code>&lt;a href=\"/path/to/image.png\" download&gt;</code></p>\n\n<p>Compliant browsers will then prompt to download the image with the same file name (in this example image.png).</p>\n\n<p>If you specify a value for this attribute, then that will become the new filename:</p>\n\n<p><code>&lt;a href=\"/path/to/image.png\" download=\"AwesomeImage.png\"&gt;</code></p>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>You don't need to write js to do that, simply use:</p>\n\n<pre><code>&lt;a href=\"path_to/image.jpg\" alt=\"something\"&gt;Download image&lt;/a&gt;\n</code></pre>\n\n<p>And the browser itself will automatically download the image.</p>\n\n<p>If for some reason it doesn't work add the download attribute.\nWith this attribute you can set a name for the downloadable file:</p>\n\n<pre><code>&lt;a href=\"path_to/image.jpg\" download=\"myImage\"&gt;Download image&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -5
                },
                {
                    "body": "<p>I managed to get this working in Chrome and Firefox too by appending a link to the to document.</p>\n\n<pre><code>var link = document.createElement('a');\nlink.href = 'images.jpg';\nlink.download = 'Download.jpg';\ndocument.body.appendChild(link);\nlink.click();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                }
            ],
            "body": "<p>I need the browser to download the image files just as it does while clicking on excel sheet.</p>\n\n<p>Is there anyway to do this using client side programming only???</p>\n\n<pre><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n&lt;title&gt;&lt;/title&gt;\n &lt;script type=\"text/javascript\" src=\"Scripts/jquery-1.10.2.js\"&gt;\n$(document).ready(function () {\n    $(\"*\").click(function () {\n        $(\"p\").hide();\n    });\n});\n&lt;/script&gt;    \n&lt;/head&gt;\n\n&lt;script type=\"text/javascript\"&gt;\ndocument.onclick = function (e) {\n    e = e || window.event;\n    var element = e.target || e.srcElement;\n    if (element.innerHTML == \"Image\") {\n        //  someFunction(element.href);\n        var name = element.nameProp;\n        var address = element.href;\n        saveImageAs1(element.nameProp, element.href);\n        return false; // prevent default action and stop event propagation\n    }\n    else return true;\n};\n\n      function saveImageAs1(name, adress) {\n          if (confirm('you wanna save this image?')) {\n              window.win = open(adress);\n          //    response.redirect(\"~/testpage.html\");   \n              setTimeout('win.document.execCommand(\"SaveAs\")', 100);\n              setTimeout('win.close()', 500);\n          }\n      }\n\n&lt;/script&gt;\n&lt;body&gt;\n&lt;form id=\"form1\" runat=\"server\"&gt;\n&lt;div&gt;\n&lt;p&gt;  \n    &lt;a href=\"http://localhost:55298/SaveImage/demo/Sample2.xlsx\" target=\"_blank\" &gt;Excel&lt;/a&gt;&lt;br /&gt;\n     &lt;a href=\"http://localhost:55298/SaveImage/demo/abc.jpg\" id=\"abc\"  &gt;Image&lt;/a&gt;\n&lt;/p&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;   \n</code></pre>\n\n<p>Can anyone help me with the working in case of downloading an excel sheet(what browsers does).</p>\n",
            "last_activity_date": 1407745171,
            "question_id": 17527713,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "force browser to download image files on click"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can use:</p>\n\n<p>1) JS: Detect by user agent</p>\n\n<pre><code>if (navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i))\n</code></pre>\n\n<p>Take the user agent strings from here:\n<a href=\"http://www.useragentstring.com/pages/useragentstring.php\" rel=\"nofollow\">http://www.useragentstring.com/pages/useragentstring.php</a>.</p>\n\n<p>2) CSS: Use responsive design</p>\n\n<p>3) JS: Detect the screen width by <code>screen.width</code> </p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>I advise you check out <a href=\"http://wurfl.io/\">http://wurfl.io/</a></p>\n\n<p>In a nutshell, if you import a tiny JS file:</p>\n\n<pre><code>&lt;script type='text/javascript' src=\"//wurfl.io/wurfl.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>you will be left with a JSON object that looks like:</p>\n\n<pre><code>{\n \"complete_device_name\":\"Google Nexus 7\",\n \"is_mobile\":true,\n \"form_factor\":\"Tablet\"\n}\n</code></pre>\n\n<p>(that's assuming you are using a Nexus 7, of course) and you will be able to do things like:</p>\n\n<pre><code>if(WURFL.form_factor == \"Tablet\"){\n    //dostuff();\n}\n</code></pre>\n\n<p>This is what you are looking for.</p>\n\n<p>Disclaimer: I work for the company that offers this free service. Thanks.</p>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>I am developing an web application where I need to detect the device from javascript. Could anybody tell me whats the best way to do it ? I found several solution by googling. But no one is full proof. I do not want to use server side detection like WURFL.</p>\n\n<h2>My update</h2>\n\n<p>I am detecing device by matching CSS media queries using javascript. For media query matching using polyfill by Paul Irish\n<a href=\"https://github.com/paulirish/matchMedia.js/\" rel=\"nofollow\">https://github.com/paulirish/matchMedia.js/</a></p>\n",
            "last_activity_date": 1413463669,
            "question_id": 16520186,
            "score": 4,
            "tags": [
                "javascript",
                "mobile",
                "device",
                "tablet"
            ],
            "title": "How to detect tablet, mobile, desktop, tv using javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I got the solution <a href=\"http://stackoverflow.com/a/4238971/1577396\">here</a> thanks to Tim down :). The problem was that I was calling</p>\n\n<pre><code>placeCaretAtEnd($('#result'));\n</code></pre>\n\n<p>Instead of</p>\n\n<pre><code>placeCaretAtEnd(($('#result').get(0));\n</code></pre>\n\n<p>as mentioned by  jwarzech in the <a href=\"http://stackoverflow.com/questions/4233265/contenteditable-set-caret-at-the-end-of-the-text-cross-browser/4238971#comment10900078_4238971\">comments</a>.</p>\n\n<p><a href=\"http://jsfiddle.net/hxQdV/1/\" rel=\"nofollow\"><strong>Working Fiddle</strong></a></p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>In my project, I am trying to set the caret position always to the end of the text. I know this is default behaviour but when we add some text dynamically, then the caret position changes to starting point in Chrome and firefox (IE is fine, amazing). </p>\n\n<p>Anyway to make it to work properly in chrome and firefox?</p>\n\n<p>Here is the <strong><a href=\"http://jsfiddle.net/hxQdV/\" rel=\"nofollow\">fiddle</a></strong></p>\n\n<pre><code>&lt;div id=\"result\" contenteditable=\"true\"&gt;&lt;/div&gt;\n&lt;button class=\"click\"&gt;click to add text&lt;/butto&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>var result = $('#result');\n$('.click').click(function () {\n    var preHtml = result.html();\n    result.html(preHtml + \"hello\");\n    result.focus();\n});\n</code></pre>\n\n<p>I tried adding <code>setStart</code> and <code>setEnd</code> as mentioned in this <a href=\"http://stackoverflow.com/a/2635853/1577396\">link</a> but no use.</p>\n",
            "last_activity_date": 1366967707,
            "question_id": 16230720,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "position",
                "caret"
            ],
            "title": "Set the caret position always to end in contenteditable div"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><strong>Edit</strong></p>\n\n<p>A <em>JPEG</em> file isn't a simple byte-array of colour data, and therefore you can't simply load it in like this. If you want to get around this without importing directly into a canvas you'll have to use a <em>JPEG</em> decoding library, such as <a href=\"https://github.com/notmasteryet/jpgjs\" rel=\"nofollow\"><strong>this project by notmasteryet</strong></a> which I found via a quick google search.</p>\n\n<p><strong>Original</strong></p>\n\n<blockquote>\n  <p>unfortunately they are not usable for this specific use case</p>\n</blockquote>\n\n<p>Why are they not usable?</p>\n\n<pre><code>// example array\nu = new Uint8ClampedArray(4);\nu[0] = 255, u[1] = 56, u[2] = 201, u[3] = 8; // [255, 56, 201, 8]\n// to String\nstr = String.fromCharCode.apply(null, u); // \"\u00ff8\u00c9\"\n// to Base64\nb64 = btoa(str); // \"/zjJCA==\"\n// to DataURI\nuri = 'data:image/jpeg;base64,' + b64; // \"data:image/jpeg;base64,/zjJCA==\"\n</code></pre>\n\n<p>And the reverse</p>\n\n<pre><code>// uri to Base64\nb64 = uri.slice(uri.indexOf(',')+1);\n// to String\nstr = atob(b64);\n// to Array\narr = str.split('').map(function (e) {return e.charCodeAt(0);});\n// to Uint8ClampedArray\nu = new Uint8ClampedArray(arr); // [255, 56, 201, 8]\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>First of all I am aware there are standard methods of achieving this (readAsDataURL and drawImage), but unfortunately they are not usable for this specific use case.</p>\n\n<p>I am reading an image using the filereader API as an arraybuffer like so:</p>\n\n<pre><code>    var reader = new fileReader();\n    reader.onload = function(e){\n\n          var byteArray = new Uint8ClampedArray(e.target.result);\n          //do stuff to this array\n    }\n    reader.readAsArrayBuffer(file);\n</code></pre>\n\n<p>I am then creating a clampedarray with this returned data.</p>\n\n<p>What I want to be able to do is now draw this pixel array directly to a canvas using <code>putImageData</code></p>\n\n<p>Currently I am doing the following:</p>\n\n<pre><code>var byteArray = new Uint8ClampedArray(e.target.result);\nvar imgdata = ctx.createImageData(img.width, img.height);\nvar canvdata = imgdata.data;\n\nfor (var i = 0; i &lt; canvdata.length; i += 4) {\n    canvdata[i] = byteArray[i];\n    canvdata[i + 1] = byteArray[i + 1];\n    canvdata[i + 2] = byteArray[i + 2];\n    canvdata[i + 3] = byteArray[i + 3];\n}\nctx.putImageData(imgdata, 0, 0);\n</code></pre>\n\n<p>Using this method, although the data gets drawn to the canvas, it appears like garbled snow or noise and is not a correct representation of the image.</p>\n\n<p>This leads me to believe that I am constructing the imagedata data incorrectly in my loop or perhaps my initial method of getting the pixel array is incorrect.</p>\n\n<p>To summarize,  I would like to be able to take an arraybuffer (of a jpeg) retrieved via the html5 fileReader API and then create a canvas compatible imageData array, so that it can later be pushed into a canvas using <code>putImageData</code></p>\n\n<p>Thanks in advance.</p>\n",
            "last_activity_date": 1406633289,
            "question_id": 16194908,
            "score": 4,
            "tags": [
                "javascript",
                "canvas",
                "bytearray",
                "filereader"
            ],
            "title": "How can I create a canvas imageData array from an arrayBuffer representation of a JPG"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You only can have one unique ID per page. Change those IDs to classes, and change the jQuery selectors as well.</p>\n\n<p>Also, move the .on() outside of the .click() function, as you only need to set it once.</p>\n\n<p><a href=\"http://jsfiddle.net/samliew/3AJcj/2/\">http://jsfiddle.net/samliew/3AJcj/2/</a></p>\n\n<pre><code>$(document).ready(function(){\n    $(\".addCF\").click(function(){\n        $(\"#customFields\").append('&lt;tr valign=\"top\"&gt;&lt;th scope=\"row\"&gt;&lt;label for=\"customFieldName\"&gt;Custom Field&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" class=\"code\" id=\"customFieldName\" name=\"customFieldName[]\" value=\"\" placeholder=\"Input Name\" /&gt; &amp;nbsp; &lt;input type=\"text\" class=\"code\" id=\"customFieldValue\" name=\"customFieldValue[]\" value=\"\" placeholder=\"Input Value\" /&gt; &amp;nbsp; &lt;a href=\"javascript:void(0);\" class=\"remCF\"&gt;Remove&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;');\n    });\n    $(\"#customFields\").on('click','.remCF',function(){\n        $(this).parent().parent().remove();\n    });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>There are multiple problems here</p>\n\n<ol>\n<li>Id should be unique in a page</li>\n<li>For dynamic elements, you need to use event delegation using <a href=\"http://api.jquery.com/on/\" rel=\"nofollow\">.on()</a></li>\n</ol>\n\n<p>Ex</p>\n\n<pre><code>$(document).ready(function(){\n    $(\"#addCF\").click(function(){\n        $(\"#customFields\").append('&lt;tr valign=\"top\"&gt;&lt;th scope=\"row\"&gt;&lt;label for=\"customFieldName\"&gt;Custom Field&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" class=\"code\" id=\"customFieldName\" name=\"customFieldName[]\" value=\"\" placeholder=\"Input Name\" /&gt; &amp;nbsp; &lt;input type=\"text\" class=\"code\" id=\"customFieldValue\" name=\"customFieldValue[]\" value=\"\" placeholder=\"Input Value\" /&gt; &amp;nbsp; &lt;a href=\"javascript:void(0);\" id=\"remCF\"&gt;Remove&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;');\n    });\n\n    $(\"#customFields\").on('click', '#remCF', function(){\n        $(this).parent().parent().remove();\n    });\n\n});\n</code></pre>\n\n<p>Demo: <a href=\"http://jsfiddle.net/arunpjohny/u4ZV6/1/\" rel=\"nofollow\">Fiddle</a></p>\n\n<p>See <a href=\"http://jsfiddle.net/arunpjohny/u4ZV6/2/\" rel=\"nofollow\">this demo</a> where id properties are removed.</p>\n\n<pre><code>$(document).ready(function(){\n    $(\"#addCF\").click(function(){\n        $(\"#customFields\").append('&lt;tr valign=\"top\"&gt;&lt;th scope=\"row\"&gt;&lt;label for=\"customFieldName\"&gt;Custom Field&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" class=\"code\" name=\"customFieldName[]\" value=\"\" placeholder=\"Input Name\" /&gt; &amp;nbsp; &lt;input type=\"text\" class=\"code\" name=\"customFieldValue[]\" value=\"\" placeholder=\"Input Value\" /&gt; &amp;nbsp; &lt;a href=\"javascript:void(0);\" class=\"remCF\"&gt;Remove&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;');\n    });\n\n    $(\"#customFields\").on('click', '.remCF', function(){\n        $(this).parent().parent().remove();\n    });\n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Change ID to class :</p>\n\n<pre><code>$(\"#customFields\").append('&lt;tr valign=\"top\"&gt;&lt;th scope=\"row\"&gt;&lt;label for=\"customFieldName\"&gt;Custom Field&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" class=\"code\" id=\"customFieldName\" name=\"customFieldName[]\" value=\"\" placeholder=\"Input Name\" /&gt; &amp;nbsp; &lt;input type=\"text\" class=\"code\" id=\"customFieldValue\" name=\"customFieldValue[]\" value=\"\" placeholder=\"Input Value\" /&gt; &amp;nbsp; &lt;a href=\"javascript:void(0);\" class=\"remCF\"&gt;Remove&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;');\n\n$(\".remCF\").on('click',function(){\n            $(this).parent().parent().remove();\n        });\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/7BHDm/1/\" rel=\"nofollow\">http://jsfiddle.net/7BHDm/1/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In addition to the other answers, I'd like to improve the removal, to something more generic:</p>\n\n<pre><code>$(this).closest('tr').remove();\n</code></pre>\n\n<p>This would be much better than using <code>$(this).parent().parent().remove();</code>, because it doesn't depend on the depth of the element. So, the structure of the row becomes much more flexible.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>check this as a reference <a href=\"http://www.uiupdates.com/dynamically-add-remove-rows-in-table-using-jquery/\" rel=\"nofollow\">Click</a></p>\n\n<pre><code>$(document).ready(function(){\n     $('.plusbtn').click(function() {\n           $(\".test\").append('&lt;tr&gt;&lt;td&gt;&lt;input type=\"text\" class=\"txtbox\" value=\"\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" class=\"txtbox\" value=\"\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" class=\"txtbox\" value=\"\" /&gt;&lt;/td&gt;&lt;td&gt;&lt;input type=\"text\" class=\"txtbox\" value=\"\" /&gt;&lt;/td&gt;&lt;/tr&gt;');\n     });\n   $('.minusbtn').click(function() {\n       if($(\".test tr\").length != 2)\n         {\n            $(\".test tr:last-child\").remove();\n         }\n      else\n         {\n            alert(\"You cannot delete first row\");\n         }\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I can add many rows for a table</p>\n\n<p>but I can't remove many rows\nonly can remove 1 row per sequential add</p>\n\n<pre><code>&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(document).ready(function(){\n    $(\"#addCF\").click(function(){\n        $(\"#customFields\").append('&lt;tr valign=\"top\"&gt;&lt;th scope=\"row\"&gt;&lt;label for=\"customFieldName\"&gt;Custom Field&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input type=\"text\" class=\"code\" id=\"customFieldName\" name=\"customFieldName[]\" value=\"\" placeholder=\"Input Name\" /&gt; &amp;nbsp; &lt;input type=\"text\" class=\"code\" id=\"customFieldValue\" name=\"customFieldValue[]\" value=\"\" placeholder=\"Input Value\" /&gt; &amp;nbsp; &lt;a href=\"javascript:void(0);\" id=\"remCF\"&gt;Remove&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;');\n        $(\"#remCF\").on('click',function(){\n            $(this).parent().parent().remove();\n        });\n    });\n});\n&lt;/script&gt;\n\n&lt;table class=\"form-table\" id=\"customFields\"&gt;\n&lt;tr valign=\"top\"&gt;\n    &lt;th scope=\"row\"&gt;&lt;label for=\"customFieldName\"&gt;Custom Field&lt;/label&gt;&lt;/th&gt;\n    &lt;td&gt;\n        &lt;input type=\"text\" class=\"code\" id=\"customFieldName\" name=\"customFieldName[]\" value=\"\" placeholder=\"Input Name\" /&gt; &amp;nbsp;\n        &lt;input type=\"text\" class=\"code\" id=\"customFieldValue\" name=\"customFieldValue[]\" value=\"\" placeholder=\"Input Value\" /&gt; &amp;nbsp;\n        &lt;a href=\"javascript:void(0);\" id=\"addCF\"&gt;Add&lt;/a&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>you can see the code at <a href=\"http://jsfiddle.net/3AJcj/\" rel=\"nofollow\">http://jsfiddle.net/3AJcj/</a></p>\n\n<p>need help</p>\n\n<p>thank you</p>\n",
            "last_activity_date": 1419077629,
            "question_id": 16183231,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "table",
                "tablerow",
                "dom-traversal"
            ],
            "title": "jquery append and remove dynamic table row"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You can detect if the opened window is a panel using the <code>alwaysOnTop</code> boolean property in the callback of <a href=\"http://developer.chrome.com/extensions/windows.html#method-create\"><code>chrome.windows.create</code></a>:</p>\n\n<pre><code>chrome.windows.create({\n    url: '...url...', // ...\n    type: 'panel'\n}, function(windowInfo) {\n    // if  windowInfo.alwaysOnTop  is  true  , then it's a panel.\n    // Otherwise, it is just a popup\n});\n</code></pre>\n\n<p>If you want to detect whether flags are enabled or not, create the window, read the value, then remove it. Because the creation process is asynchrous, the value retrieval must be implemented using a callback.</p>\n\n<pre><code>var _isPanelEnabled;\nvar _isPanelEnabledQueue = [];\nfunction getPanelFlagState(callback) {\n    if (typeof callback != 'function') throw Error('callback function required');\n    if (typeof _isPanelEnabled == 'boolean') {\n        callback(_isPanelEnabled); // Use cached result\n        return;\n    }\n    _isPanelEnabledQueue.push(callback);\n\n    if (_isPanelEnabled == 'checking')\n        return;\n\n    _isPanelEnabled = 'checking';\n    chrome.windows.create({\n        url: 'about:blank',\n        type: 'panel'\n    }, function(windowInfo) {\n        _isPanelEnabled = windowInfo.alwaysOnTop;\n        chrome.windows.remove(windowInfo.id);\n\n        // Handle all queued callbacks\n        while (callback = _isPanelEnabledQueue.shift()) {\n            callback(windowInfo.alwaysOnTop);\n        }\n    });\n}\n// Usage:\ngetPanelFlagState(function(isEnabled) {\n    alert('Panels are ' + isEnabled);\n});\n</code></pre>\n\n<p>Because the flag can only be toggled by reloading the Chrome browser, it makes sense to cache the value of the flag (as shown in the function). To make sure that the window creation test happens only once, the callbacks are queued.</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I would like to detect if panels are enabled in chrome, in javascript.</p>\n\n<p>Currently, you can create a panel with this code:</p>\n\n<pre><code>chrome.windows.create({ url: \"[url]\", width: 500, height: 516, type: 'panel'});\n</code></pre>\n\n<p>When panels in chrome are disabled, it opens a popup.\nBut the problem is that panels are not enabled on every chrome build. but people can enable it by hand on chrome://flags. So when flags are disabled, I want to redirect people to that page so they can enable panels.</p>\n",
            "last_activity_date": 1354211186,
            "question_id": 13630789,
            "score": 4,
            "tags": [
                "javascript",
                "html",
                "google-chrome",
                "google-chrome-extension"
            ],
            "title": "Detect if chrome panels are enabled"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You actually need to match the hash too. Right now you're looking for word characters that follow a <em>position</em> that is immediately followed by one of several characters that aren't word characters. This fails, for obvious reasons. Try this instead:</p>\n\n<pre><code>string.match(/(?=[\\s*#])[\\s*#]\\w+/g)\n</code></pre>\n\n<p>Of course, the lookahead is redundant now, so you might as well remove it:</p>\n\n<pre><code>string.match(/(^|\\s)#(\\w+)/g).map(function(v){return v.trim().substring(1);})\n</code></pre>\n\n<p>This returns the desired: <code>[ 'iPhone', 'delete' ]</code></p>\n\n<p>Here is a demonstration:  <a href=\"http://jsfiddle.net/w3cCU/1/\" rel=\"nofollow\">http://jsfiddle.net/w3cCU/1/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>var matches = string.match(/#\\w+/g);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var re = /(?:^|\\W)#(\\w+)(?!\\w)/g, match, matches = [];\nwhile (match = re.exec(s)) {\n  matches.push(match[1]);\n}\n</code></pre>\n\n<p>Check <strong><a href=\"http://jsfiddle.net/BUC7L/\" rel=\"nofollow\">this demo</a></strong>.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I'm very new at regex. I'm trying to match any word that starts with '#' in a string that contains no newlines (content was already split at newlines).</p>\n\n<p>Example (not working):</p>\n\n<pre><code>var string = \"#iPhone should be able to compl#te and #delete items\"\nvar matches = string.match(/(?=[\\s*#])\\w+/g)\n// Want matches to contain [ 'iPhone', 'delete' ]\n</code></pre>\n\n<p>I am trying to match any instance of '#', and grab the thing right after it, so long as there is at least one letter, number, or symbol following it. A space or a newline should end the match. The '#' should either start the string or be preceded by spaces.</p>\n\n<p>This PHP solution seems good, but it uses a look backwards type of functionality that I don't know if JS regex has:\n<a href=\"http://stackoverflow.com/questions/11171305/regexp-keep-match-any-word-that-starts-with-a-certain-character\">regexp keep/match any word that starts with a certain character</a></p>\n",
            "last_activity_date": 1353873414,
            "question_id": 13554208,
            "score": 4,
            "tags": [
                "javascript",
                "regex"
            ],
            "title": "Javascript Regex match any word that starts with &#39;#&#39; in a string"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>OK. We have three times the <code>Function.prototype.bind</code> function here, whose (simplified) code</p>\n\n<pre><code>function bind(context) {\n    var fn = this;\n    return function() {\n        return fn.apply(context, arguments);\n    }\n}\n</code></pre>\n\n<p>I will abbreviate in a more functional style with lots of partial application: bind<sub>fn</sub>(context) -> fn<sub>context</sub>.</p>\n\n<p>So what does it do? You have got <code>bind.call(bind, bind)</code> or bind<sub>bind</sub>(bind). Let's expand this to bind<sub>bind</sub>. What if we now supplied some arguments to it?</p>\n\n<blockquote>\n  <p>bind<sub>bind</sub>(bind) <em>(fn) (context)</em></p>\n  \n  <p>bind<sub>bind</sub><em>(fn) (context)</em></p>\n  \n  <p>bind<sub><em>fn</em></sub><em>(context)</em></p>\n  \n  <p><em>fn<sub>context</sub></em></p>\n</blockquote>\n\n<p>Here we are. We can assign this to some variables to make the result clearer:</p>\n\n<blockquote>\n  <p>bindbind = bind<sub>bind</sub>(bind)</p>\n  \n  <p>bindfn = bindbind<sub>anything</sub>(fn) <code>//</code> bind<sub>fn</sub></p>\n  \n  <p>contextbindfn = bindfn<sub>anything</sub>(context) <code>//</code> fn<sub>context</sub></p>\n  \n  <p>result = contextbindfn<sub>anything</sub>(args) <code>//</code> fn<sub>context</sub>(args)</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>Can someone explain this function?</p>\n\n<pre><code>var bindbind = Function.prototype.bind.bind(Function.prototype.bind);\n</code></pre>\n\n<p>I understand the result it produce:</p>\n\n<pre><code>var bindedContextFunc = bindbind(function)(context);\nbindedContextFunc(args);\n</code></pre>\n\n<p>But do not understand process of creating this functions, I mean part <code>bind(Function.prototype.bind)</code></p>\n",
            "last_activity_date": 1353552765,
            "question_id": 13504936,
            "score": 4,
            "tags": [
                "javascript",
                "functional-programming"
            ],
            "title": "Explain bindbind() function"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Checkout this link ( <a href=\"http://sanalksankar.blogspot.sg/2010/12/custom-validation-message.html\" rel=\"nofollow\">Provide custom validation messages using setCustomValidity in HTML 5 pages</a> ).</p>\n\n<p>In the above link, he used \"input\" type is number and oninput he called the validation function. Let me know is this what you are looking for. </p>\n\n<pre><code>&lt;input type=\"number\" required=\"true\" value=\"50\" min=\"18\" max=\"60\" step=\"1\" oninput=\"validate(this)\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can find an answer at this link: <a href=\"http://stackoverflow.com/questions/11866910/how-to-force-a-html5-form-validation-without-submitting-it-via-javascript-jquery\">How to force a html5 form validation without submitting it via JavaScript/jQuery</a></p>\n\n<p>Basically, you find a submit button and call click on it:</p>\n\n<pre><code>// force form validation\ndocument.getElementById(\"submitbutton\").click()\n</code></pre>\n\n<p>You can also change validation message after checking if email address is in use or not and then force form validation as above:</p>\n\n<pre><code>document.getElementById(\"email\").setCustomValidity(\"This email is already registered!\");\ndocument.getElementById(\"submitbutton\").click()\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can use setCustomValidity with for the element if the condition is false ( you can do it inside any event handler such as keypress or click ). If the input is NOT valid, SUBMIT. This will trigger the browser's message tooltip.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I thought <code>.checkValidity()</code> would do the trick, but it doesn't trigger the UI.</p>\n\n<p>It sounds like <code>.reportValidity()</code> is going to do what you want.\n<a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/association-of-controls-and-forms.html#dom-cva-reportvalidity\" rel=\"nofollow\">http://www.whatwg.org/specs/web-apps/current-work/multipage/association-of-controls-and-forms.html#dom-cva-reportvalidity</a></p>\n\n<p>I don't know if any browsers implement it yet though :/</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It's actually very simple - add a hidden input element to your form:</p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"myFormCheck\" required=\"true\" value=\"\"/&gt;\n</code></pre>\n\n<p>Call <code>myInputField.setCustomValidity(message)</code> on the input element you want to create a custom tooltip on then call your <code>form.click();</code></p>\n\n<p>The form validity process runs and displays the message popup over that element, but the form won't submit because of the hidden element, so you won't need to catch and cancel the submit event.</p>\n\n<p>When you're done and really ready to go, set a value on the hidden element and the form will submit normally.</p>\n\n<p>This way you can use the form tooltip for something like checking for usernames that are available, or matching any value over an HTTP Request etc.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm using forms basic validation to check if email is correct format, then the data is sent by Ajax where it checks if email address is already in use and did the user select country/state or left default values in select boxes. </p>\n\n<p>But for HTML5 form validation to be done submit event is needed, upon clicking submit if it passes that basic form validation Ajax operation is performed, but then when results come in I would like to use the same browser tooltips for interface consistency (and well I like how they look).</p>\n\n<p>So is there a way to make them show up, I was unable to find if there is some special event for them or something like firing submit event but stopping it right away. Right now the field only gets a red edge and error message appears on hovering mouse over it, while the tooltip shows on again clicking submit button.</p>\n\n<p>Also for browsers that don't have native tooltips(in my case Safari) I'm using Webshims Lib and it acts exactly the same as in Chrome and Firefox.</p>\n",
            "last_activity_date": 1404386093,
            "question_id": 12785347,
            "score": 4,
            "tags": [
                "javascript",
                "forms",
                "html5",
                "validation",
                "tooltip"
            ],
            "title": "How to show setCustomValidity message/tooltip without submit event"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>My solution, with jQuery available, is this:</p>\n\n<p>Load a config file before any of your tests run.</p>\n\n<pre><code>var jasmine_deferreds = [];\n\n// Setup an event to fire on the document\n// I actually did this with native code rather than jquery because\n// I wanted to minimize jquery usage\n\n// ....\n\n// setTimeout so all files loaded after this will finish registering their requires\nsetTimeout( function() {\n\n  $.when.apply( null, jasmine_deferreds ).then( function() {\n\n    // Fire event that was created\n\n  });\n\n}, 5 );\n</code></pre>\n\n<p>It's up to you how you want to build up the array of deferreds and then resolve them. I essentially pushed to the array and then resolved when the require was done. I wrapped require with my own version that would know to resolve it upon completion automatically - so I don't need to push and resolve manually in each test.</p>\n\n<p>Then in my phantom file I do this:</p>\n\n<pre><code>page.evaluate -&gt;\n    mylistener = ( document ) -&gt; jasmine.getEnv().execute();\n    document.addEventListener( 'test_ready_event', mylistener, false);\n</code></pre>\n\n<p>This makes it so I know all my require modules are loaded without having some arbitrary <code>setTimeout</code> that could be too short once I am loading too many files. The one <code>setTimeout</code> I'm using is safe because it's only being used to fire after main callstack is done. It doesn't really care about the time.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>I did something a little different -- my HTML page has a function, wrapped in a require() call:</p>\n\n<pre><code>var run_tests = function (specfiles) {\n    require(specfiles, function () {\n        jasmine.getEnv().execute();\n    });\n};\n</code></pre>\n\n<p>Then I <code>page.evaluate( function (test_specs) { run_tests(test_specs) }, ['test1.spec', 'test2.spec']);</code></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I am using phantomjs to run jasmine test. My jasmine tests are using require around the describe blocks to ensure all the right modules are loaded.</p>\n\n<p>My tests would not run because <code>page.evaluate -&gt; jasmine.getEnv().execute();</code> runs BEFORE requirejs finishes loading the modules.</p>\n\n<p>I was wondering if anyone knows a real good way around this. I have an answer I'm going to post below but would love to compare notes via other answers. If yours is better, I will def pick it as answer obviously :)</p>\n",
            "last_activity_date": 1347208655,
            "question_id": 12187669,
            "score": 4,
            "tags": [
                "javascript",
                "unit-testing",
                "jasmine",
                "phantomjs"
            ],
            "title": "How do I reliably execute Jasmine tests that utilize requirejs via phantomjs?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Not sure if you saw the code by Katz <a href=\"http://yehudakatz.com/2011/06/11/using-sproutcore-2-0-with-jquery-ui/\">here</a>, but I'm using this to make a View: Droppable, Draggable, ... or any other interaction supported by jQuery UI. So you define a base Mixin, which you will use in all jQuery UI interaction Mixins:</p>\n\n<pre><code>// Create a new mixin for jQuery UI widgets using the new SproutCore 2.0\n// mixin syntax.\nJQ.Base = Ember.Mixin.create({\n  // When SproutCore creates the view's DOM element, it will call this\n  // method.\n  didInsertElement: function() {\n    this._super();\n\n    // Make jQuery UI options available as SproutCore properties\n    var options = this._gatherOptions();\n\n    // Make sure that jQuery UI events trigger methods on this view.\n    this._gatherEvents(options);\n\n    // Create a new instance of the jQuery UI widget based on its `uiType`\n    // and the current element.\n    var ui = jQuery.ui[this.get('uiType')](options, this.get('element'));\n\n    // Save off the instance of the jQuery UI widget as the `ui` property\n    // on this SproutCore view.\n    this.set('ui', ui);\n\n\n  },\n\n  // When SproutCore tears down the view's DOM element, it will call\n  // this method.\n  willDestroyElement: function() {\n    var ui = this.get('ui');\n\n    if (ui) {\n      // Tear down any observers that were created to make jQuery UI\n      // options available as SproutCore properties.\n      var observers = this._observers;\n      for (var prop in observers) {\n        if (observers.hasOwnProperty(prop)) {\n          this.removeObserver(prop, observers[prop]);\n        }\n      }\n      ui._destroy();\n    }\n  },\n\n  // Each jQuery UI widget has a series of options that can be configured.\n  // For instance, to disable a button, you call\n  // `button.options('disabled', true)` in jQuery UI. To make this compatible\n  // with SproutCore bindings, any time the SproutCore property for a\n  // given jQuery UI option changes, we update the jQuery UI widget.\n  _gatherOptions: function() {\n    var uiOptions = this.get('uiOptions'), options = {};\n\n    // The view can specify a list of jQuery UI options that should be treated\n    // as SproutCore properties.\n    uiOptions.forEach(function(key) {\n      options[key] = this.get(key);\n\n      // Set up an observer on the SproutCore property. When it changes,\n      // call jQuery UI's `setOption` method to reflect the property onto\n      // the jQuery UI widget.\n      var observer = function() {\n        var value = this.get(key);\n        this.get('ui')._setOption(key, value);\n      };\n\n      this.addObserver(key, observer);\n\n      // Insert the observer in a Hash so we can remove it later.\n      this._observers = this._observers || {};\n      this._observers[key] = observer;\n    }, this);\n\n    return options;\n  },\n\n  // Each jQuery UI widget has a number of custom events that they can\n  // trigger. For instance, the progressbar widget triggers a `complete`\n  // event when the progress bar finishes. Make these events behave like\n  // normal SproutCore events. For instance, a subclass of JQ.ProgressBar\n  // could implement the `complete` method to be notified when the jQuery\n  // UI widget triggered the event.\n  _gatherEvents: function(options) {\n    var uiEvents = this.get('uiEvents') || [], self = this;\n\n    uiEvents.forEach(function(event) {\n      var callback = self[event];\n\n      if (callback) {\n        // You can register a handler for a jQuery UI event by passing\n        // it in along with the creation options. Update the options hash\n        // to include any event callbacks.\n        options[event] = function(event, ui) { callback.call(self, event, ui); };\n      }\n    });\n  }\n});\n</code></pre>\n\n<p>And then define the Draggable Mixin:</p>\n\n<pre><code>JQ.Draggable = Ember.Mixin.create( JQ.Base, {\n    uiType: 'draggable',\n    uiOptions: ['disabled', 'addClasses', 'appendTo', 'axis', 'cancel', 'connectToSortable', 'containment', 'cursor', \n              'delay', 'distance', 'grid', 'handle', 'snap', 'snapMode', 'stack'],\n    uiEvents: ['create', 'start', 'drag', 'stop']\n\n});\n</code></pre>\n\n<p>the Resizable Mixin:</p>\n\n<pre><code>  JQ.Resizable = Ember.Mixin.create( JQ.Base, {\n    uiType: 'resizable',\n    uiOptions: ['disabled', 'alsoResize', 'animate', 'animateDuration', 'animateEasing', 'aspectRatio', 'autoHide', 'cancel', \n              'containment', 'delay', 'distance', 'ghost', 'grid', 'handles', 'helper', 'maxHeight', 'maxWidth', 'minHeight',\n              'minWidth'],\n    uiEvents: ['create', 'start', 'resize', 'stop']\n});\n</code></pre>\n\n<p>Basically for each UI interaction you want to define the <code>uiType</code> (draggable, droppable, sortable, etc.), the <code>uiOptions</code> of the interaction (observed by the mixin), and the <code>uiEvents</code> of the interaction that you want to implement in your View. </p>\n\n<p>By including JQ.Draggable and JQ.Droppable in your View, it automatically becomes draggable and droppable + you are able to change its options in your View and reflect those changes on the UI plugin, e.g. <code>this.set('delay', 900)</code>, and implement the plugin events in your View, e.g. <code>drag: function(){ /* do something when dragging*\\ }</code> ).</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I need to create items that have drag and drop and sort functionality.   So an item can be dragged into another item.</p>\n\n<p>I have seen a few solutions to do drag via a mixin and create a draggable view using this mixin and then creating another view from droppable via the droppable mixin.</p>\n\n<p>But i need each item / view to have draggable, droppable and sortable functionality.</p>\n\n<p>Please can anyone tell me the best way to do this via mixins or subclassing or ... ?</p>\n\n<p>Also can i create a jqueryUi mixin as a base mixin  and then use that mixin when creating the draggable, droppable and sortable mixins ?  is this possible ?</p>\n\n<p>Is it best to use jqueryUI or the html5 drag and drop api or something else ?</p>\n\n<p>Thanks for the help \nRick </p>\n",
            "last_activity_date": 1341768587,
            "question_id": 11146470,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui",
                "ember.js"
            ],
            "title": "Ember.js draggable and droppable jqueryUI / native Drag and drop mixin"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>require.js works well with rhino. Recently, I used it in a project.</p>\n\n<ol>\n<li>You have to make sure to use <a href=\"http://requirejs.org/docs/download.html#rjs\">r.js</a> (not require.js) , modified version of require.js for rhino.</li>\n<li>You have to extend <code>ScritableObject</code> class to implement <code>load</code> and <code>print</code> function. When you call <code>require([\"a\"])</code>, the load function in this class will be called, you can tweak this function to load the js file from any location. In the below example, I load from <code>classpath</code>.</li>\n<li>You have to define the property <code>arguments</code> in the sharedscope as shown below in the sample code</li>\n<li>Optionally, you can configure the sub path using <code>require.config</code>, to specify the subdirectory inside classpath where js files are located.</li>\n</ol>\n\n<p><strong>JsRuntimeSupport</strong></p>\n\n<pre><code>public class JsRuntimeSupport extends ScriptableObject {\n\n    private static final long serialVersionUID = 1L;\n    private static Logger logger = Logger.getLogger(JsRuntimeSupport.class);\n    private static final boolean silent = false;\n\n    @Override\n    public String getClassName() {\n        return \"test\";\n    }\n\n    public static void print(Context cx, Scriptable thisObj, Object[] args,\n            Function funObj) {\n      if (silent)\n        return;\n        for (int i = 0; i &lt; args.length; i++)\n          logger.info(Context.toString(args[i]));\n    }\n\n    public static void load(Context cx, Scriptable thisObj, Object[] args,\n            Function funObj) throws FileNotFoundException, IOException {\n        JsRuntimeSupport shell = (JsRuntimeSupport) getTopLevelScope(thisObj);\n        for (int i = 0; i &lt; args.length; i++) {\n            logger.info(\"Loading file \" + Context.toString(args[i]));\n            shell.processSource(cx, Context.toString(args[i]));\n        }\n    }\n\n    private void processSource(Context cx, String filename)\n            throws FileNotFoundException, IOException {\n        cx.evaluateReader(this, new InputStreamReader(getInputStream(filename)), filename, 1, null);\n    }\n\n    private InputStream getInputStream(String file) throws IOException {\n        return new ClassPathResource(file).getInputStream();\n    }\n}\n</code></pre>\n\n<p><strong>Sample Code</strong></p>\n\n<pre><code>public class RJsDemo {\n\n    @Test\n    public void simpleRhinoTest() throws FileNotFoundException, IOException {\n    Context cx = Context.enter();\n\n    final JsRuntimeSupport browserSupport = new JsRuntimeSupport();\n\n    final ScriptableObject sharedScope = cx.initStandardObjects(browserSupport, true);\n\n    String[] names = { \"print\", \"load\" };\n    sharedScope.defineFunctionProperties(names, sharedScope.getClass(), ScriptableObject.DONTENUM);\n\n    Scriptable argsObj = cx.newArray(sharedScope, new Object[] {});\n    sharedScope.defineProperty(\"arguments\", argsObj, ScriptableObject.DONTENUM);\n\n    cx.evaluateReader(sharedScope, new FileReader(\"./r.js\"), \"require\", 1, null);\n    cx.evaluateReader(sharedScope, new FileReader(\"./loader.js\"), \"loader\", 1, null);\n\n    Context.exit();\n\n  }\n\n}\n</code></pre>\n\n<p><strong>loader.js</strong></p>\n\n<pre><code>require.config({\n    baseUrl: \"js/app\"\n});\n\nrequire ([\"a\", \"b\"], function(a,  b) {\n    print('modules loaded');\n});\n</code></pre>\n\n<p><code>js/app</code> directory should be in your classpath.</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I'm trying to get require.js to load modules on the server-side with Java 6 and Rhino.</p>\n\n<p>I'm able to load require.js itself just fine. Rhino can see the <code>require()</code> function. I can tell because Rhino complains that it can't find the function when I change <code>require()</code> to something else like <code>requireffdkj()</code>.</p>\n\n<p>But when I try to require even a simple JS, like <code>hello.js</code></p>\n\n<pre><code>var hello = 'hello';\n</code></pre>\n\n<p>using either of the following:</p>\n\n<pre><code>require('hello');\nrequire('./hello');\n</code></pre>\n\n<p>it doesn't work. I get</p>\n\n<pre><code>Caused by: javax.script.ScriptException: sun.org.mozilla.javascript.internal.JavaScriptException: [object Error] (&lt;Unknown source&gt;#31) in &lt;Unknown source&gt; at line number 31\n    at com.sun.script.javascript.RhinoScriptEngine.eval(RhinoScriptEngine.java:153)\n    at com.sun.script.javascript.RhinoScriptEngine.eval(RhinoScriptEngine.java:167)\n    at javax.script.AbstractScriptEngine.eval(AbstractScriptEngine.java:247)\n</code></pre>\n\n<p>I have my <code>hello.js</code> at the top of the Java classpath. That's where I have <code>require.js</code> as well. I tried moving <code>hello.js</code> everywhere I could think it might possibly go, including the root of my hard drive, the root of my user directory, the directory from which I'm running my Java app, etc. Nothing works.</p>\n\n<p>I looked at the CommonJS spec (http://wiki.commonjs.org/wiki/Modules/1.0) and it says that top-level IDs (like <code>hello</code>) are resolved from the \"conceptual module name space root\", whereas relative IDs (like <code>./hello</code>) are resolved against the calling module. I'm not sure where either of those baselines is, and I suspect that's the issue.</p>\n\n<p>Any suggestions? Can I even use require.js from Rhino?</p>\n\n<p><strong>EDIT:</strong> Thinking that I need to set the environment up as per Pointy's suggestion in the comment below, I tried evaluating <a href=\"https://github.com/jrburke/r.js\" rel=\"nofollow\"><code>r.js</code></a> as well. (I tried evaluating after evaluating <code>require.js</code>, and then again before <code>require.js</code>.) In either case I get an error:</p>\n\n<pre><code>Caused by: javax.script.ScriptException: sun.org.mozilla.javascript.internal.EcmaError: ReferenceError: \"arguments\" is not defined. (&lt;Unknown source&gt;#19) in &lt;Unknown source&gt; at line number 19\n    at com.sun.script.javascript.RhinoScriptEngine.eval(RhinoScriptEngine.java:153)\n    at com.sun.script.javascript.RhinoScriptEngine.eval(RhinoScriptEngine.java:167)\n    at javax.script.AbstractScriptEngine.eval(AbstractScriptEngine.java:247)\n</code></pre>\n\n<p>\"arguments\" appears to be a variable in <code>r.js</code>. I think it's for command line arguments, so I don't think <code>r.js</code> is the right path for what I'm trying to do. Not sure though.</p>\n",
            "last_activity_date": 1339976577,
            "question_id": 11074836,
            "score": 4,
            "tags": [
                "java",
                "javascript",
                "require",
                "requirejs",
                "rhino"
            ],
            "title": "Resolving modules using require.js and Java/Rhino"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Try using <code>setTimeout()</code> and a <code>timer</code> var to keep track of it:</p>\n\n<pre><code>var t;\n$(\"#server-label\").on(\"keyup paste\", function() {\n    clearTimeout(t);\n    t = setTimeout(function() {\n        $.ajax({/*[...]*/});\n        //...\n    }, 500);\n});\n</code></pre>\n\n<p>You can also use throttle or <a href=\"http://code.google.com/p/jquery-debounce/\" rel=\"nofollow\">debounce</a> but I don't think it'd be necessary if you wrap your code inside a function object or string to pass to the <code>setTimeout()</code> function.</p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>So I am calling an AJAX request on every <code>keyup</code> and <code>paste</code> event in jQuery on a textbox:</p>\n\n<pre><code> $(\"#server-label\").bind(\"keyup paste\", function() {\n     $.ajax()...\n });\n</code></pre>\n\n<p>The problem is this is just too many AJAX requests if the user rapidly presses keys. What is the best way to sort of wait until the users stops typing for a bit (say 500ms) before calling the AJAX request. Basically don't make the AJAX request until no keys or paste events fired for 500ms.</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1358031203,
            "question_id": 10457743,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "Throttle AJAX Request On KeyUp and Paste Events"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I would suggest a 2-part solution whereby you read off the tags that jQuery will not parse for you, and then pass the remainder into jQuery. If you're looking for a pure-javascript solution to parse HTML data structure, jQuery is probably your best bet as it has many built-in functions to manipulate the data. You could actually build your plugin as a jQuery plugin which could be called via: $.parser or something of that nature. If you extend jQuery with your own function to parse the data, you can also return an extended jQuery object that contains functions to read specific data elements even from the header since you can manually parse the ... information and store it in the same object.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Since HTML essentially is XML you can use jquery <a href=\"http://api.jquery.com/jQuery.parseXML/\" rel=\"nofollow\">parseXML</a></p>\n\n<pre><code>var dom = $.parseXML(html);\n\n$('title', dom).text(\"This is a new Title\");\n</code></pre>\n\n<p>Edit:</p>\n\n<p>If you want to get it back into a string you will need to use the xml plugin, but I cannot find its original source so here it is:</p>\n\n<pre><code>/**\n * jQuery xml plugin\n * Converts XML node(s) to string \n *\n * Copyright (c) 2009 Radim Svoboda\n * Dual licensed under the MIT (MIT-LICENSE.txt)\n * and GPL (GPL-LICENSE.txt) licenses.\n *\n * @author  Radim Svoboda, user Zzzzzz\n * @version 1.0.0\n */\n\n\n/**\n * Converts XML node(s) to string using web-browser features.\n * Similar to .html() with HTML nodes \n * This method is READ-ONLY.\n *  \n * @param all set to TRUE (1,\"all\",etc.) process all elements,\n * otherwise process content of the first matched element \n *  \n * @return string obtained from XML node(s)  \n */         \njQuery.fn.xml = function(all) {\n\n  //result to return\n  var s = \"\";\n\n   //Anything to process ?\n   if( this.length )\n\n    //\"object\" with nodes to convert to string  \n   (\n      ( ( typeof all != 'undefined' ) &amp;&amp; all ) ?\n      //all the nodes \n      this \n      :\n      //content of the first matched element \n      jQuery(this[0]).contents()\n    )\n   //convert node(s) to string  \n   .each(function(){\n    s += window.ActiveXObject ?//==  IE browser ?\n       //for IE\n         this.xml\n         :\n         //for other browsers\n         (new XMLSerializer()).serializeToString(this)\n         ;\n  }); \n\n\n  return    s;      \n\n  };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I do not know why anybody should need this, but I suggest you simply dump your source into an iframe. The browser can do the parsing for you. You can even run DOM queries on the result.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can leverage the current document without appending any nodes to it. </p>\n\n<p>Try something like this:</p>\n\n<pre><code>function toNode(html) {\n    var doc = document.createElement('html');\n    doc.innerHTML = html;\n    return doc;\n}\n\nvar node = toNode('&lt;html&gt;&lt;head&gt;&lt;title&gt; This is the old title. &lt;/title&gt;&lt;/head&gt;&lt;/html&gt;');\n\nconsole.log(node);\u200b\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/6SvqA/3/\" rel=\"nofollow\">http://jsfiddle.net/6SvqA/3/</a></p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>If you want a full parser that isn't relying some existing thing in the browser to bootstrap your interpreter, the HTML parser in dom.js is top notch. It's entire purpose is to parse html for use in a javascript hosted DOM, so it has to cater to both the DOM specifications as well as the need to parse and use the results in js, all while not assuming any existing tools besides base JS. It works in node.js or spidermonkey's jsshell or webworkers even. <a href=\"https://github.com/andreasgal/dom.js\" rel=\"nofollow\">https://github.com/andreasgal/dom.js</a></p>\n\n<p>It also has the serialization part, but to do that you'll need to commit to using more than just the parser part. You can find standalone serializers though that work with any DOM like structure.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>We have a special requirement in a project where we have to parse a string of HTML (from an AJAX response) client side <strong>via JavaScript only</strong>. Thats right <strong>no parsing in PHP or Java!</strong> I've been going through StackOverflow, this entire week and have yet not got an acceptable solution.</p>\n\n<p>Some more details on the requirements:</p>\n\n<ul>\n<li><p>We can use any library (preferably dojo and / or jQuery) or go native!</p></li>\n<li><p>We need to parse an <strong><em>Entire HTML Document that we receive as a string</em></strong>, including the <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code>. </p></li>\n<li><p>We also need to serialise out the parsed DOM structures to strings at times. </p></li>\n<li><p>Finally, <strong>We don't want to append the parsed DOM to the current Document.</strong> Rather, we'll send it back to the server for permanent storage.</p></li>\n</ul>\n\n<p>Eg: We need something like </p>\n\n<pre><code>var dom = HTMLtoDOM('&lt;html&gt;&lt;head&gt;&lt;title&gt; This is the old title. &lt;/title&gt;&lt;/head&gt;&lt;/html&gt;');\n    dom.getElementsByTagName('title')[0].innerHTML = \"This is a new Title\";\n</code></pre>\n\n<p>With my research, these are our options:</p>\n\n<ol>\n<li><p>A <a href=\"http://www.tinymce.com/wiki.php/API3%3aclass.tinymce.html.DomParser\" rel=\"nofollow\">TinyMCE Parser</a>. Problem? We need to necessarily include an editor I think. How about for parsing HTML where we don't need an editor?</p></li>\n<li><p><a href=\"http://ejohn.org/blog/pure-javascript-html-parser/\" rel=\"nofollow\">John Resig's Parser</a>. Should be our best bet. Unfortunately, the parser is crashing when the entire contents of a page is given to it!</p></li>\n<li><p>The jQuery $(htmlString) or the dojo.toDom(htmlString). Both rely on <strong>DocumentFragment</strong> and hence gobble up <code>&lt;head&gt;</code> and <code>&lt;body&gt;</code>!</p></li>\n</ol>\n\n<p><strong>EDIT</strong>: We want to serialize the HTML so we may catch certain custom HTML Commnets via RegExp. We need to give users the opportunity to edit meta tags, title tags etc hence the HTML Parser. </p>\n\n<p>Oh and I feel I will be murdered in Stack Overflow even if I just <em>hint</em> at parsing HTML via RegExp!!!</p>\n",
            "last_activity_date": 1330787130,
            "question_id": 9540218,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "parsing",
                "dojo",
                "html-parsing"
            ],
            "title": "A JavaScript parser for DOM"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You may need to load your metadata VTT file via Ajax and parse and display it yourself.</p>\n\n<p>I looked at the <a href=\"http://html5doctor.com/demos/webvtt/\" rel=\"nofollow\">example</a> from the <a href=\"http://html5doctor.com/video-subtitling-and-webvtt/\" rel=\"nofollow\">HTML5 Doctors' article on video subtitling</a>. They're using <a href=\"http://www.delphiki.com/html5/playr/\" rel=\"nofollow\">Playr</a>, so I checked out its source code, and they're definitely requesting the VTT file asynchronously and parsing the content once it's loaded.</p>\n\n<p>I was able to load the contents of the VTT file and dump it into the specified element with the following code:</p>\n\n<pre><code>function changeText() {\n    var track = document.getElementById(\"videoTest\").querySelector(\"track\");\n    var req_track = new XMLHttpRequest();\n    req_track.open('GET', track.getAttribute(\"src\"));\n    req_track.onreadystatechange = function(){\n        if(req_track.readyState == 4 &amp;&amp; (req_track.status == 200 || req_track.status == 0)){\n            if(req_track.responseText != ''){\n              document.getElementById(\"metadataText\").innerHTML = req_track.responseText;\n            }\n        }\n    }\n    req_track.send(null);\n}\n</code></pre>\n\n<p>I'm not familiar with Captionator, but it looks like it has some capabilities for parsing VTT files into some sort of data structure, even if it doesn't necessarily support the <code>metadata</code> track type. Maybe you can use a combination of this code and Captionator's existing VTT parser?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The way you're accessing the cue is correct - no problems there (although there will be a change in Captionator 0.6 from the <code>.tracks</code> property to the <code>.textTracks</code> property to be more in line with the specification. If you can bear the occasional bug I would recommend using 0.6 for its greater standards compliance - I've written the below code to use <code>.textTracks</code> - substitute for <code>.tracks</code> if you'd like to continue using the stable branch.)</p>\n\n<p>The issue relates to the loading of the text tracks themselves. At the moment, <em>you're not actually telling Captionator to load the track</em>. Because this happens asynchronously, and on request, there is that inevitable delay where their content isn't available, you'll need to write your code in a way which accommodates for loading time and the potential load error.</p>\n\n<p>You're also not waiting for Captionator itself to load - potentially a user could unknowingly click the button before this had occurred - triggering a nasty JavaScript error. This won't be such a problem when testing on your local box, but as soon as you deploy to the internet you'll be seeing all sorts of race conditions and other nasties. Consider disabling the button until both the page and the caption data have loaded.</p>\n\n<hr>\n\n<p>I've tried to make the Captionator API as close as possible to the actual JS API which will be landing in browsers very soon - so in future this will be the same way you'll interact with the native browser functionality. As soon as the functionality is available natively, Captionator will bow out of the way, and your code <em>should</em> (assuming they don't change the API again!) just work with the native API.</p>\n\n<p>First of all, you need to actually request that Captionator load the content. This is done my setting the 'display mode' of the track to <code>SHOWING</code>, or <code>2</code>.</p>\n\n<pre><code>var video = document.getElementByID(\"myVideo\");\nvideo.textTracks[0].mode = 2; // SHOWING\n</code></pre>\n\n<p>Alternately, you can assign the status of a track to <code>HIDDEN</code> (<code>1</code>) - which still triggers a load, and cueChange events will still fire - but won't paint cues to screen. In Captionator, I don't paint metadata tracks to screen at all, but the (buggy) WebKit API in development will.</p>\n\n<pre><code>video.textTracks[0].mode = 1; // HIDDEN\n</code></pre>\n\n<p>Then you need to listen for when the cues are loaded and available:</p>\n\n<pre><code>video.textTracks[0].onload = function() { /* Your Code Here... */ }\n</code></pre>\n\n<p>Or when something goes wrong:</p>\n\n<pre><code>video.textTracks[0].onerror = function() { /* Whoah, something went wrong... */ }\n</code></pre>\n\n<p>Once the content is loaded, you can access the <code>TextTrack.cues</code> array (well, technically a <code>TextTrackCueList</code>.) Before the load has occurred, the <code>TextTrack.cues</code> property will be <code>null</code>.</p>\n\n<pre><code>var myCueText = video.textTracks[0].cues[0].text;\n</code></pre>\n\n<p>Be aware that Captionator parses the <em>cue text</em> of every cue, <strong>except when the track kind is <code>metadata</code></strong> - so ensure you assign the correct track kind. You might end up with data or tags Captionator thinks are 'invalid' being thrown out. You can turn this check off for regular cues as well, with by setting the <code>processCueHTML</code> option to <code>false</code>.</p>\n\n<hr>\n\n<p>With that in mind, here's how I'd rewrite your code:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;p id=\"metadataText\"&gt;Metadata text should appear here&lt;/p&gt;\n    &lt;input type='button' onclick='changeText()' value='Click here to display the metadata text' id=\"changetext\" disabled /&gt;\n&lt;/div&gt;\n\n&lt;video controls autobuffer id=\"videoTest\" width=\"512\" height=\"288\"&gt;\n    &lt;!-- Your video sources etc... --&gt;\n\n    &lt;!-- The metadata track --&gt;\n    &lt;track label=\"Metadata Track\" kind=\"metadata\" src=\"metadata.vtt\" type=\"text/webvtt\" srclang=\"en\" /&gt;\n&lt;/video&gt;\n\n&lt;!-- Include Captionator --&gt;\n&lt;script type=\"text/javascript\" src=\"captionator.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    document.addEventListener(\"readystatechange\",function(event) {\n        if (document.readyState === \"complete\") {\n            captionator.captionify();\n\n            document.querySelectorAll(\"#changetext\")[0].removeAttribute(\"disabled\");\n        }\n    },false);\n\n    function changeText() {\n        // Get the metadataText paragraph\n        var textOutput = document.querySelectorAll(\"#metadataText\")[0];\n\n        // Get the metadata text track\n        var metadataTrack = document.querySelectorAll(\"video\")[0].textTracks[0];\n\n        if (metadataTrack.readyState === captionator.TextTrack.LOADED) {\n            // The cue is already ready to be displayed!\n            textOutput.innerHTML = metadataTrack.cues[0].text;\n\n        } else {\n            // We check to see whether we haven't already assigned the mode.\n            if (metadataTrack.mode !== captionator.TextTrack.SHOWING) {\n                textOutput.innerHTML = \"Caption loading...\";\n\n                // The file isn't loaded yet. Load it in!\n                metadataTrack.mode = captionator.TextTrack.SHOWING; // You can use captionator.TextTrack.HIDDEN too.\n\n                metadataTrack.onload = function() {\n                    textOutput.innerHTML = metadataTrack.cues[0].text;\n                }\n\n                metadataTrack.onerror = function() {\n                    textOutput.innerHTML = \"Error loading caption!\";\n                }\n            }\n        }\n    }\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Here, we're disabling the button, preventing users on slow connections (or just somebody with very quick reflexes!) from hitting it before either Captionator or the metadata track are ready, and listening to a load event - at which point we re-enable the button, and can retrieve the cue text as normal.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I am having trouble getting a working example that reads metadata from a WebVTT file, which was specified by the <code>&lt;track&gt;</code> element of a <code>&lt;video&gt;</code> in an HTML5 page. To be clear, I am not talking about reading the metadata out of the video file itself (as you would with an MPEG Transport Stream, for instance). What I'm talking about is the <code>&lt;track&gt;</code> element that is used for captioning videos. One of the attributes of a <code>&lt;track&gt;</code> is <code>kind</code>, which can be specified as any of the following values:</p>\n\n<ul>\n<li>Subtitles</li>\n<li>Descriptions</li>\n<li>Captions</li>\n<li>Navigation</li>\n<li>Chapters</li>\n<li>Metadata</li>\n</ul>\n\n<p>I am trying to use the <b>metadata</b> type to access text stored in the corresponding WebVTT file, which I intend to manipulate using JavaScript. I know this is possible, as it is <a href=\"http://blog.gingertech.net/2011/03/29/webvtt-explained/\" rel=\"nofollow\">mentioned by Silvia Pfeiffer</a> as well as <a href=\"http://stackoverflow.com/questions/6905167/javascript-parser-for-rdf-json-from-webvtt\">by the maker of Captionator</a>, which is the JavaScript polyfill that I am using to implement the functionality of interpreting the <code>&lt;track&gt;</code> tags. However, I just can't get it to work.</p>\n\n<p>My code is based on the <a href=\"https://github.com/cgiffard/Captionator\" rel=\"nofollow\">Captionator</a> documentation's captions example. I added a button to retrieve the metadata and display it when I click the button. Unfortunately it keeps displaying \"undefined\" instead of the metadata. Any ideas what I might be doing incorrectly? Alternatively, does anyone know where a working example is that I could take a look at? I can't find one anywhere.</p>\n\n<p>If you care to take a look at my code, I've included it below:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;HTML5 Video Closed Captioning Example&lt;/title&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"js/Captionator-v0.5-12/css/captions.css\"/&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;HTML5 Video Closed Captioning Example&lt;/h1&gt;\n        &lt;div&gt;\n            &lt;p id=\"metadataText\"&gt;Metadata text should appear here&lt;/p&gt;\n            &lt;input type='button' onclick='changeText()' value='Click here to display the metadata text'/&gt;\n        &lt;/div&gt;\n\n        &lt;video controls autobuffer id=\"videoTest\" width=\"1010\" height=\"464\"&gt;\n            &lt;source src=\"http://localhost:8080/Videos/testVideo.webm\" type=\"video/webm\" /&gt;\n            &lt;source src=\"http://localhost:8080/Videos/testVideo.mp4\" type=\"video/mp4\" /&gt;\n\n            &lt;!-- WebVTT Track Metadata Example --&gt;\n            &lt;track label=\"Metadata Track\" kind=\"metadata\" src=\"http://localhost:8080/Videos/Timed_Text_Tracks/testVideo_metadata.vtt\" type=\"text/webvtt\" srclang=\"en\" /&gt;\n        &lt;/video&gt;\n\n        &lt;!-- Include Captionator --&gt;\n        &lt;script type=\"text/javascript\" src=\"js/Captionator-v0.5-12/js/captionator.js\"&gt;&lt;/script&gt;\n\n        &lt;!-- Example Usage --&gt;\n        &lt;script type=\"text/javascript\" src=\"js/Captionator-v0.5-12/js/captionator-example-api.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            window.addEventListener(\"load\",function() {\n                captionator.captionify(null,null,{\n                    debugMode: !!window.location.search.match(/debug/i),\n                    sizeCuesByTextBoundingBox: !!window.location.search.match(/boundingBox/i),\n                    enableHighResolution: !!window.location.search.match(/highres/i),\n                });\n\n                var videoObject = document.getElementsByTagName(\"video\")[0];\n                videoObject.volume = 0;\n                document.body.appendChild(generateMediaControls(videoObject));  \n            },false);\n\n            function changeText() {\n                document.getElementById('metadataText').innerHTML = testVar;\n                var cueText = document.getElementById(\"video\").tracks[0].activeCues[0].getCueAsSource();\n                document.getElementById('metadataText').innerHTML = cueText;\n            }\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>My WebVTT file looks like this:</p>\n\n<pre><code>WEBVTT\n\n0\n00:00.000 --&gt; 00:04.000\nTesting 1 2 3 . . .\n</code></pre>\n",
            "last_activity_date": 1329895513,
            "question_id": 9370260,
            "score": 4,
            "tags": [
                "javascript",
                "html5",
                "video",
                "accessibility",
                "html5-video"
            ],
            "title": "Reading metadata from the &lt;track&gt; of an HTML5 &lt;video&gt; using Captionator"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>whenever you have a permission denied message and you are dealing with frames or iframes, it's a document domain issue. One document belongs to domain x and the other is domain y. And notice that www.domain.com and domain.com are not the same document domains! </p>\n\n<p>When you are tapping into the DOM of one framed document from another one, (whether it is for the purpose of changing the values of a page element or simply reading the values of some hidden variable or url etc), you will get a permission denied message unless both framed documents are served from the same/identical domains. </p>\n\n<p>So, if one frame belongs to www.mydomain.com and the other happens to be just mydomain.com or www.someotherdomain.com, you get that bloody permission denied error. </p>\n\n<p>And there is no way around it. And If there were, the identity theft problem would have sky-rocketed in no time.  </p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I have an iframe FB app. We have three places where we develop it: My localhost, stage server where we test the app, production server. Localhost and production have HTTPS. Localhost and stage apps have sandbox mode enabled. All versions of app are identical, code is the same. Stage and production are totally the same server machine with the same settings except of the HTTPS.</p>\n\n<p>Now what is happening <strong>only at my stage server app</strong>: When I click on something where jQuery UI dialog should be summoned, it raises following error in my Firebug: <code>Permission denied to access property 'Arbiter'</code>. No dialog is summoned then. It's raised in somehow dynamically loaded canvas_proxy.php, within this code:</p>\n\n<pre><code>/**\n * Parses the fragment and calls Arbiter.inform(method, params)\n *\n * @author ptarjan\n */\nfunction doFragmentSend() {\n  var\n    location = window.location.toString(),\n    fragment = location.substr(location.indexOf('#') + 1),\n    params = {},\n    parts = fragment.split('&amp;'),\n    i,\n    pair;\n\n  lowerPageDomain();\n\n  for (i=0; i&lt;parts.length; i++) {\n    pair = parts[i].split('=', 2);\n    params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  var p = params.relation ? resolveRelation(params.relation) : parent.parent;\n\n  // The user is not inside a frame (probably testing on their own domain)\n  if (p == parent || !p.Arbiter || !p.JSON) {\n    return;\n  }\n\n  p.Arbiter.inform(\n    'Connect.Unsafe.'+params.method,\n    p.JSON.parse(params.params),\n    getBehavior(p, params.behavior));\n}\n</code></pre>\n\n<p>The line <code>if (p == parent || !p.Arbiter || !p.JSON) {</code> raises it. My script code linking the JS API looks like this:</p>\n\n<pre><code>&lt;script src=\"https://connect.facebook.net/en_US/all.js#appId=APPID\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Have anyone any clue why this could be happening? I found <a href=\"http://forum.developers.facebook.net/viewtopic.php?pid=351162#p351162\" rel=\"nofollow\">this</a> and <a href=\"http://stackoverflow.com/questions/7206587/facebook-registration-validation-permission-denied-to-access-property-arbiter\">this</a>, but these issues doesn't seem to be helpful to me (or I just don't get it). Could it be because of the HTTPS? Why it worked the day before yesterday? I am desperate :-(</p>\n",
            "last_activity_date": 1329154178,
            "question_id": 8757964,
            "score": 4,
            "tags": [
                "javascript",
                "facebook"
            ],
            "title": "Permission denied to access property &#39;Arbiter&#39;"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can't make people's computers type things through javascript. It violates the sandboxing environment of browsers. I assume that you are trying to make a window go full screen though. This SO question covers that.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1125084/how-to-make-in-javascript-full-screen-windows-stretching-all-over-the-screen\">How to make in Javascript full screen windows (stretching all over the screen)</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can try using this one:\n<a href=\"http://andrew.hedges.name/experiments/fullscreen/\">http://andrew.hedges.name/experiments/fullscreen/</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I want to trigger f11 event of keyboard using javascript or jquery, can anyone tell me how to do this ?</p>\n",
            "last_activity_date": 1346261360,
            "question_id": 8253245,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "events"
            ],
            "title": "How to trigger f11 event of keyboard using javascript or jquery?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>It's this for hash or for redirection? What are you trying to do? This kind of action is usually highly intrusive.</p>\n\n<p>You may want to try \"onbeforeunload\" event for this <a href=\"http://stackoverflow.com/questions/7080269/javascript-before-leaving-the-page\">javascript before leaving the page</a></p>\n\n<hr>\n\n<h2>Edited</h2>\n\n<p>Actually, the link you provide is quite accurate.</p>\n\n<pre><code>var hash = location.hash;\n\nsetInterval(function()\n{\n   if (location.hash != hash)\n   {\n       hashUpdatedEvent(hash);\n   }\n}, 100);\n\nfunction hashUpdatedEvent(hash)\n{\n     switch(...);\n}\n</code></pre>\n\n<p>Your link duplicate action problem would be corrected if you change</p>\n\n<pre><code>&lt;a href=\"javascript:void(0)\" onclick=\"someFuncion()\"&gt;Go for it&lt;/a&gt;\n\nfunction someFuncion()\n{\n   doWhatever();\n   location.hash = 'somethingwasdone';\n}\n\nfunction hashUpdatedEvent(hash)\n{\n     if(hash == 'somethingwasdone')\n     {\n         doWhatever();\n     }\n}\n</code></pre>\n\n<p>By just (update the hash and let the \"event\" handle the action) :</p>\n\n<pre><code>&lt;a href=\"javascript:void(0)\" onclick=\"someFuncion()\"&gt;Go for it&lt;/a&gt;\n\nfunction someFuncion()\n{\n   location.hash = 'somethingwasdone';\n}\n\nfunction hashUpdatedEvent(hash)\n{\n     if(hash == 'somethingwasdone')\n     {\n         doWhatever();\n     }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<h2>Not a good idea</h2>\n\n<p>Can you rather explain the reasoning behind this? We've all been down this road of preventing backs/forwards and similar and mangling with browser functionality.</p>\n\n<p>It turns out though it's better to obey to browser and write your application in that way so these things become irrelevant. And it's also true that browsers are locking more and more things to client javascript apps so it's highly likely your app is going to fail after (few) browser upgrades.</p>\n\n<h2>Go with HTML5</h2>\n\n<p><a href=\"http://www.w3.org/TR/html5/history.html\">HTML5 History spec</a> may be exactly what you're after. It's the way things should work and be done in regard to Ajax applications and browser0s back/forward functionality. I suggest you check it out. See a <a href=\"http://html5demos.com/history\">working demo</a> that does this rather nicely.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>I believe this is the answer Robert Koritnik was looking for, I found it here: <a href=\"https://developers.google.com/tv/web/articles/location-hash-navigation\" rel=\"nofollow\">https://developers.google.com/tv/web/articles/location-hash-navigation</a></p>\n\n<p>There is an event (window.onhashchange) that fires whenever the location hash has been updated or changed so all you have to do is set up an event handler using JavaScript to listen for this event and execute code based on the hash. This is basically how it is done:</p>\n\n<pre><code>function getLocationHash() {\n  return window.location.hash.substring(1);\n}\nwindow.onhashchange = function(e) {\n  switch(getLocationHash()) {\n    case 'state1': \n      execute code block 1;\n      break;\n    case 'state2':\n      execute code block 2;\n      break;\n    default: \n      code to be executed if different from case 1 and 2;\n  }\n}\n</code></pre>\n\n<p>I have it working on my site:\n<a href=\"http://www.designhandler.com\" rel=\"nofollow\">http://www.designhandler.com</a></p>\n\n<p>It is all dynamically changing content.  No ajax yet but when I am finished it will be.  I still use the window.location.hash to keep track of the site states.  If you navigate through the site and then begin to use the back forward buttons to navigate once the site is in the history it will change the states dynamically like if the user was actually clicking through the nav, rather than needing to reload the page afterward.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I want to <code>alert()</code> when browser's back or forward button is clicked or hash is changed in javascript. I have tried <a href=\"http://stackoverflow.com/questions/136937/is-there-a-way-to-catch-the-back-button-event-in-javascript/136965#136965\">this</a> solution and it is working but it is causing problems on other links in webpage and submit each request twice on any link click event. </p>\n\n<p>Is there any solution to capture it without using <code>setInterval()</code> function? So I need to capture <strong>hash change</strong> or <strong>back/forward</strong> button click event? I need a simple javascript code/function/property that should work in all modern browsers.</p>\n\n<p>Any solution ?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1342630779,
            "question_id": 8208627,
            "score": 4,
            "tags": [
                "javascript",
                "browser",
                "back",
                "forward"
            ],
            "title": "How to capture browser&#39;s back/forward button click event or hash change event in javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I think you need to split your response handler into a new function.</p>\n\n<pre><code>  source: function(request, response) {\n    geocoder.geocode( {'address': request.term }, function(results, status) {\n      // Get address_components\n      for (var i = 0; i &lt; results[0].address_components.length; i++)\n      {\n        var addr = results[0].address_components[i];\n        var getCountry;\n        if (addr.types[0] == 'country') \n          getCountry = addr.long_name;\n      }\n      response($.map(results, function(item) { getDetails(item); }));\n    })\n  },\n</code></pre>\n\n<p>Move this outside of the .autocomplete function:</p>\n\n<pre><code>function getDetails(item) {\n            return {\n              label: item.formatted_address,\n              value: item.formatted_address,\n              latitude: item.geometry.location.lat(),\n              longitude: item.geometry.location.lng(),\n              country: getCountry\n            }\n          }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here am I answering my own question again. Below is the full working code:</p>\n\n<pre><code>$('#spot_address').autocomplete({\n  // This bit uses the geocoder to fetch address values\n  source: function(request, response) {\n    geocoder.geocode( {'address': request.term }, function(results, status) {\n      response($.map(results, function(item) {\n          // Get address_components\n          for (var i = 0; i &lt; item.address_components.length; i++)\n          {\n            var addr = item.address_components[i];\n            var getCountry;\n            if (addr.types[0] == 'country') \n              getCountry = addr.long_name;\n          }\n        return {\n          label: item.formatted_address,\n          value: item.formatted_address,\n          latitude: item.geometry.location.lat(),\n          longitude: item.geometry.location.lng(),\n          country: getCountry\n        }\n      }));\n    })\n  },\n\n  // This bit is executed upon selection of an address\n  select: function(event, ui) {\n    // Get values\n    $('#spot_country').val(ui.item.country);\n    $('#spot_lat').val(ui.item.latitude);\n    $('#spot_lng').val(ui.item.longitude);\n    var location = new google.maps.LatLng(ui.item.latitude, ui.item.longitude);\n    marker.setPosition(location);\n    map.setCenter(location);\n  },\n\n  // Changes the current marker when autocomplete dropdown list is focused\n  focus: function(event, ui) {\n    var location = new google.maps.LatLng(ui.item.latitude, ui.item.longitude);\n    marker.setPosition(location);\n    map.setCenter(location);\n  }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>General solution:</p>\n\n<pre><code>var address_components = results[0].address_components;\nvar components={}; \njQuery.each(address_components, function(k,v1) {jQuery.each(v1.types, function(k2, v2){components[v2]=v1.long_name});})\n</code></pre>\n\n<p>Now your <code>components</code> looks like this:</p>\n\n<pre><code>street_number: \"1100\", \nroute: \"E Hector St\", \nlocality: \"Conshohocken\", \npolitical: \"United States\", \nadministrative_area_level_3: \"Whitemarsh\"\u2026\nadministrative_area_level_1: \"Pennsylvania\"\nadministrative_area_level_2: \"Montgomery\"\nadministrative_area_level_3: \"Whitemarsh\"\ncountry: \"United States\"\nlocality: \"Conshohocken\"\npolitical: \"United States\"\npostal_code: \"19428\"\nroute: \"E Hector St\"\nstreet_number: \"1100\"\n</code></pre>\n\n<p>Which you can query like this:</p>\n\n<pre><code>components.country\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                }
            ],
            "body": "<p>I have the following code to parse the <code>country</code> when the autocomplete list is selected:</p>\n\n<pre><code>$('#spot_address').autocomplete({\n  // This bit uses the geocoder to fetch address values\n  source: function(request, response) {\n    geocoder.geocode( {'address': request.term }, function(results, status) {\n      // Get address_components\n      for (var i = 0; i &lt; results[0].address_components.length; i++)\n      {\n        var addr = results[0].address_components[i];\n        var getCountry;\n        if (addr.types[0] == 'country') \n          getCountry = addr.long_name;\n      }\n      response($.map(results, function(item) {\n        return {\n          label: item.formatted_address,\n          value: item.formatted_address,\n          latitude: item.geometry.location.lat(),\n          longitude: item.geometry.location.lng(),\n          country: getCountry\n        }\n      }));\n    })\n  },\n\n  // This bit is executed upon selection of an address\n  select: function(event, ui) {\n    // Get values\n    $('#spot_country').val(ui.item.country);\n    $('#spot_lat').val(ui.item.latitude);\n    $('#spot_lng').val(ui.item.longitude);\n    var location = new google.maps.LatLng(ui.item.latitude, ui.item.longitude);\n    marker.setPosition(location);\n    map.setCenter(location);\n  },\n\n  // Changes the current marker when autocomplete dropdown list is focused\n  focus: function(event, ui) {\n    var location = new google.maps.LatLng(ui.item.latitude, ui.item.longitude);\n    marker.setPosition(location);\n    map.setCenter(location);\n  }\n});\n</code></pre>\n\n<p>However, the code above doesn't work, and when the country is parsed, only the first result of the autocomplete is parsed no matter what, which is significant with the array <code>results[0]</code> because it only fetches the first result.</p>\n\n<p>I tried to move it to the <code>select</code> function, but <code>ui</code> in <code>select</code> only contains <code>formatted_address</code>, <code>longitude</code> and <code>latitude</code>, but not the <code>address_components</code>.</p>\n\n<p>What must I do to send the correct <code>country</code> when the autocomplete list item is selected?</p>\n\n<p>Many thanks.</p>\n",
            "last_activity_date": 1392819814,
            "question_id": 8082405,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "google-maps",
                "google-maps-api-3"
            ],
            "title": "Parsing address_components in Google Maps upon autocomplete select"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Absurb, but you have to see it from iPhone or any mobile phone's point of view. It is a mobile phone going over a cellular network with bandwidth limitations, which many people know about from the recent Sprint commercial. They do not want users going over their bandwidth limit because some site is sending their phone a large amount of data without them taking action themselves.</p>\n\n<p>The following is an excerpt from the official <a href=\"http://developer.apple.com/library/safari/#documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW1\">Safari Developer Library</a> with more details.</p>\n\n<blockquote>\n  <p>User Control of Downloads Over Cellular Networks</p>\n  \n  <p>In Safari on iOS (for all devices, including iPad), where the user may\n  be on a cellular network and be charged per data unit, preload and\n  autoplay are disabled. No data is loaded until the user initiates it.\n  This means the JavaScript play() and load() methods are also inactive\n  until the user initiates playback, unless the play() or load() method\n  is triggered by user action. In other words, a user-initiated Play\n  button works, but an onLoad=\"play()\" event does not.</p>\n  \n  <p>This plays the movie: <code>&lt;input type=\"button\" value=\"Play\" onClick=\"document.myMovie.play()\"&gt;</code></p>\n  \n  <p>This does nothing on iOS: <code>&lt;body onLoad=\"document.myMovie.play()\"&gt;</code></p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Have you tried something like this?? </p>\n\n<pre><code>function clickedOnce(){\n  $('audio').each(function(){\n      this.play();\n  });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Due to Apple, they have restricted the auto-play features to prevent cell data charges. In xcode4 i added a workaround though. In your \"webViewDidFinishLoad\" Send a javascript call to auto play the video and it works. I tried this in the html file with regular javascript but it did not work. Doing it through webViewDidFinishLoad did the trick though. In this example i want to auto play the video on my index.html page. I have a javascript function on that page called startVideo().</p>\n\n<pre><code>- (void)webViewDidFinishLoad:(UIWebView *)webView{\n    NSURLRequest* request = [webView request];\n    NSString *page = [request.URL lastPathComponent];\n    if ([page isEqualToString:@\"index.html\"]){\n        NSString *js = @\"startVideo();\";\n        [myWebMain stringByEvaluatingJavaScriptFromString:js];\n    }\n}\n</code></pre>\n\n<p>And here's my javascript function:</p>\n\n<pre><code>&lt;script&gt;\nfunction startVideo(){\nvar pElement3 = document.getElementById('myVideo');\npElement3.play();\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>And here's the html in case you're new to html video</p>\n\n<pre><code>&lt;video id=\"myVideo\" poster=\"index_poster.png\" width=\"1024\" height=\"768\" xcontrols     autoplay=\"autoplay\"&gt;\n&lt;source src=\"flow.m4v\" type=\"video/mp4\"/&gt;\nbrowser not supports the video\n&lt;/video&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I have an HTML5 web-app that has sound effects.  I'm trying to get these effects working in iOS5 and can't for the life of me.</p>\n\n<p>Wondering if anyone has any work-arounds to get JS control of an HTML5 audio/video control in iOS5.</p>\n\n<p>Or even a way to control multiple audio files with one click.  As it stands right now, if I have 10 sound effects, I'd need 10 user clicks to get control of all of them, which is <strong><em>absurd</em></strong>!</p>\n",
            "last_activity_date": 1365160301,
            "question_id": 8044447,
            "score": 4,
            "tags": [
                "javascript",
                "html5",
                "html5-video",
                "html5-audio"
            ],
            "title": "Autoplay HTML5 audio/video in iOS5"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>JavaScript doesn't have support for binary data. Nevertheless you can emulate this with regular strings.</p>\n\n<pre><code>var hex = \"375771\", // ASCII HEX: 37=\"7\", 57=\"W\", 71=\"q\"\n    bytes = [],\n    str;\n\nfor(var i=0; i&lt; hex.length-1; i+=2){\n    bytes.push(parseInt(hex.substr(i, 2), 16));\n}\n\nstr = String.fromCharCode.apply(String, bytes);\n\nalert(str); // 7Wq\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<pre><code>function hex2bin(hex)\n{\n    var bytes = [], str;\n\n    for(var i=0; i&lt; hex.length-1; i+=2)\n        bytes.push(parseInt(hex.substr(i, 2), 16));\n\n    return String.fromCharCode.apply(String, bytes);    \n}\n</code></pre>\n\n<p>thanks to <a href=\"http://stackoverflow.com/a/7695514/669677\">Andris</a>!</p>\n\n<hr>\n\n<p>Other useful information about this topic (dex2bin,bin2dec) can be found <a href=\"http://stackoverflow.com/questions/57803/how-to-convert-decimal-to-hex-in-javascript\">here</a>.\nAccording to that, here is a <code>bin2hex</code> solution:</p>\n\n<pre><code>parseInt(1100,2).toString(16); //--&gt; c\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>To answer your question:</p>\n\n<pre><code>function Hex2Bin(n){if(!checkHex(n))return 0;return parseInt(n,16).toString(2)}\n</code></pre>\n\n<p>Here are some further functions you may find usefull in JS..</p>\n\n<pre><code>//Useful Functions\nfunction checkBin(n){return/^[01]{1,64}$/.test(n)}\nfunction checkDec(n){return/^[0-9]{1,64}$/.test(n)}\nfunction checkHex(n){return/^[0-9A-Fa-f]{1,64}$/.test(n)}\nfunction pad(s,z){s=\"\"+s;return s.length&lt;z?pad(\"0\"+s,z):s}\nfunction unpad(s){s=\"\"+s;return s.replace(/^0+/,'')}\n\n//Decimal operations\nfunction Dec2Bin(n){if(!checkDec(n)||n&lt;0)return 0;return n.toString(2)}\nfunction Dec2Hex(n){if(!checkDec(n)||n&lt;0)return 0;return n.toString(16)}\n\n//Binary Operations\nfunction Bin2Dec(n){if(!checkBin(n))return 0;return parseInt(n,2).toString(10)}\nfunction Bin2Hex(n){if(!checkBin(n))return 0;return parseInt(n,2).toString(16)}\n\n//Hexadecimal Operations\nfunction Hex2Bin(n){if(!checkHex(n))return 0;return parseInt(n,16).toString(2)}\nfunction Hex2Dec(n){if(!checkHex(n))return 0;return parseInt(n,16).toString(10)}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>JavaScript does actually contain support for binary data. See <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Typed_arrays/Uint8Array\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/JavaScript/Typed_arrays/Uint8Array</a> for example.</p>\n\n<p>To convert to hex, read a byte and then take the each of the two nibbles (groups of four bits) and convert those into hex.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Although not an answer to the actual question, it is perhaps useful in this case to also know how to reverse the process:</p>\n\n<pre><code>function bin2hex (bin)\n{\n\n  var i = 0, l = bin.length, chr, hex = ''\n\n  for (i; i &lt; l; ++i)\n  {\n\n    chr = bin.charCodeAt(i).toString(16)\n\n    hex += chr.length &lt; 2 ? '0' + chr : chr\n\n  }\n\n  return hex\n\n}\n</code></pre>\n\n<p>As an example, using <code>hex2bin</code> on <code>b637eb9146e84cb79f6d981ac9463de1</code> returns <code>\u00b67\u00ebF\u00e8L\u00b7m\u00c9F=\u00e1</code>, and then passing this to <code>bin2hex</code> returns <code>b637eb9146e84cb79f6d981ac9463de1</code>.</p>\n\n<p>It might also be useful to prototype these functions to the <code>String</code> object:</p>\n\n<pre><code>String.prototype.hex2bin = function ()\n{\n\n  var i = 0, l = this.length - 1, bytes = []\n\n  for (i; i &lt; l; i += 2)\n  {\n    bytes.push(parseInt(this.substr(i, 2), 16))\n  }\n\n  return String.fromCharCode.apply(String, bytes)   \n\n}\n\nString.prototype.bin2hex = function ()\n{\n\n  var i = 0, l = this.length, chr, hex = ''\n\n  for (i; i &lt; l; ++i)\n  {\n\n    chr = this.charCodeAt(i).toString(16)\n\n    hex += chr.length &lt; 2 ? '0' + chr : chr\n\n  }\n\n  return hex\n\n}\n\nalert('b637eb9146e84cb79f6d981ac9463de1'.hex2bin().bin2hex())\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>All proposed solutions use <code>String.fromCharCode</code>, why not simply using <code>unescape</code>?</p>\n\n<pre><code>String.prototype.hex2bin = function()\n{ \n   var i = 0, len = this.length, result = \"\";\n\n   //Converting the hex string into an escaped string, so if the hex string is \"a2b320\", it will become \"%a2%b3%20\"\n   for(; i &lt; len; i+=2)\n      result += '%' + this.substr(i, 2);      \n\n   return unescape(result);\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>alert( \"68656c6c6f\".hex2bin() ); //shows \"hello\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I need to communicate between Javascript and PHP (I use jquery for ajax) but the output of PHP script may contain binary data. That's why I use function <code>bin2hex</code> in PHP. Then <code>json_encode</code> is applied on PHP side. What I don't know is how to convert hexadecimal string to binary data on Javascript side.</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1398972267,
            "question_id": 7695450,
            "score": 4,
            "tags": [
                "javascript",
                "binary-data",
                "hex"
            ],
            "title": "How to program hex2bin in Javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>In JavaScript, there are two operators that can be used to compare two values: the <code>==</code> and <code>===</code> operators. </p>\n\n<p><strong>Quoted from JavaScript The Definitive Guide 6th Edition:</strong></p>\n\n<blockquote>\n  <p>The equality operator <code>==</code> is like the strict equality operator (<code>===</code>), but it \n    is less strict. If the values of the two operands are not the same type, \n    it attempts some type conversions and tries the comparison again.</p>\n</blockquote>\n\n<p>And</p>\n\n<blockquote>\n  <p>The strict equality operator <code>===</code> evaluates its operands, and then compares the \n    two values as follows, performing no type conversion.</p>\n</blockquote>\n\n<p>So I suggest that you use <code>===</code> all the time to avoid problems like:</p>\n\n<pre><code>null == undefined // These two values are treated as equal. \n\"0\" == 0 // String converts to a number before comparing. \n0 == false // Boolean converts to number before comparing. \n\"0\" == false // Both operands convert to numbers before comparing.\n</code></pre>\n\n<p>P.S. I could post the entire \"comparison guidelines\" as written in the book but it's too long ;) Just tell me and I'll edit my post for you.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Yes, all the rules of type conversion applied by the equals operator are described on the ECMA-262 specification, in <a href=\"http://es5.github.com/#x11.9.3\">The Abstract Equality Comparison Algorithm</a>.</p>\n\n<p>The algorithm might look quite complex but it can be summarized to the following cases:</p>\n\n<ol>\n<li><p>The type the two operands is the same:</p>\n\n<ul>\n<li>For primitives (String, Number, Boolean, Null, Undefined)\n<ul>\n<li>Return true if the value is exactly the same</li>\n</ul></li>\n<li>For the Object type\n<ul>\n<li>Return true if the two references point to the same object</li>\n</ul></li>\n</ul></li>\n<li><p>If the types of the two operands differ</p>\n\n<ul>\n<li>If the type of one operand is either Null or Undefined\n<ul>\n<li>Return true only if the other operand value is either <code>null</code> or <code>undefined</code></li>\n</ul></li>\n<li>If one of the operands is of type Boolean or Number\n<ul>\n<li>(after some steps) Convert the other operand to Number and compare</li>\n</ul></li>\n</ul></li>\n<li><p>If one of the operands is an Object and the other is a primitive</p>\n\n<ul>\n<li>Perform Object-to-Primitive conversion on the Object and compare again</li>\n</ul></li>\n</ol>\n\n<p>The Object-to-Primitive conversion is made through an abstract operation called <a href=\"http://es5.github.com/#x9.1\"><code>ToPrimitive</code></a>, this method will try to convert the object to a primitive value, using the internal <a href=\"http://jscoercion.qfox.nl/\"><code>[[PrimitiveValue]]</code></a> method.</p>\n\n<p>This will try to ejecute the object's <code>valueOf</code> and <code>toString</code> methods, and it will take the value of the first that returns a primitive value.</p>\n\n<p>In the case those two methods don't return a primitive, or they aren't callable, a <code>TypeError</code> is thrown, e.g.:</p>\n\n<pre><code>1 == { toString:null } // TypeError!\n</code></pre>\n\n<p>The above statement will produce a <code>TypeError</code> because the default <code>Object.prototype.valueOf</code> method doesn't do anything more than actually the same object instance (<code>this</code>, not a primitive value) and we are setting an own <code>toString</code> property that's not a function.</p>\n\n<p>A friend made small tool that might be interesting to you, it shows all the steps and recursive comparisons made between types:</p>\n\n<ul>\n<li><a href=\"http://jscoercion.qfox.nl/\">JS Coercion Tool</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>Avoid implicit type conversion in JavaScript.  Always take steps to test and/or convert individual values before comparing them to ensure you are comparing apples to apples.  Always test explicitly for undefined to determine if a value or property has a value, use null to indicate that object variables or properties do not refer to any object, and convert &amp; compare all other values to ensure operations are performed against values of the same type.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>The code:</p>\n\n<pre><code>var num = 20;\n\nif(num == \"20\")\n{\n    alert(\"It works\");\n}\nelse\n{\n    alert(\"Not working\");\n}\n</code></pre>\n\n<p>The question:</p>\n\n<ol>\n<li><p>In C programming we have a rule name data type promotion, where when there's a mix of data type (example: addition of integer and floating point), the integer will first converted to floating point before the addition is being carry out.</p></li>\n<li><p>The code above will prompt me an alert box with the message <code>\"It works\"</code> that shows the <code>if</code> test condition is evaluate to true.</p></li>\n<li><p>For loosely typed JavaScript, I'm just curious: is there any rule like C that determines which conversion will be carry out in which situation? Besides that, the JavaScript code above converts <code>num</code> variable value from an integer value to string value before making comparison or vice versa?</p></li>\n</ol>\n",
            "last_activity_date": 1324944899,
            "question_id": 7625144,
            "score": 4,
            "tags": [
                "javascript",
                "implicit-conversion",
                "comparison-operators"
            ],
            "title": "Implicit data type conversion in JavaScript when comparing integer with string using =="
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Because, as in many programming languages, strings are compared <a href=\"http://en.wikipedia.org/wiki/Lexicographical_order\" rel=\"nofollow\">lexicographically</a>.</p>\n\n<p>You can think of this as a fancier version of <a href=\"http://en.wikipedia.org/wiki/Alphabetical_order#Alphabetical_order\" rel=\"nofollow\">alphabetical ordering</a>, the difference being that alphabetic ordering only covers the 26 characters <code>a</code> through <code>z</code>.</p>\n\n<hr>\n\n<p><a href=\"http://stackoverflow.com/questions/6280835/treemap-behaves-abnormally/6280860#6280860\">This answer</a> is in response to a <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged 'java'\" rel=\"tag\">java</a> question, but the logic is exactly the same. Another good one: <a href=\"http://stackoverflow.com/questions/1863028/string-compare-logic\">String Compare &quot;Logic&quot;</a>.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>\"one\" starts with 'o', \"four\" starts with 'f', 'o' is later in the alphabet than 'f' so \"one\" is greater than \"four\".  See <a href=\"http://javascript.about.com/od/decisionmaking/a/des02.htm\" rel=\"nofollow\">this page</a> for some nice examples of JavaScript string comparisons (with explanations!).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Javascript uses Lexicographical order for the <strong>></strong> operator. 'f' proceeds 'o' so the comparison <strong>\"one\" > \"four\"</strong> returns <strong>true</strong></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I see this code from a book:</p>\n\n<pre><code>var a = \"one\";\nvar b = \"four\";\na&gt;b; // will return true\n</code></pre>\n\n<p>but it doesn't mentioned why \"one\" is bigger than \"four\". I tried <code>c = \"a\"</code> and it is smaller than a and b. I want to know how javascript compare these strings.</p>\n",
            "last_activity_date": 1313555868,
            "question_id": 7087811,
            "score": 4,
            "tags": [
                "javascript",
                "string",
                "compare"
            ],
            "title": "string comparison in javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I'm sure you will find this helpful: <a href=\"http://jsdo.it/tsmallfield/uint8array\" rel=\"nofollow\">http://jsdo.it/tsmallfield/uint8array</a>.</p>\n\n<p>Click on <code>javascript</code> tab.\n There will appear the code to convert the Uint8Array in a string. The author shows 2 method:</p>\n\n<ul>\n<li>The first is about creating a view.</li>\n<li>The second offsetting bytes.</li>\n</ul>\n\n<p><strong>EDIT:</strong>  report the code for completeness</p>\n\n<pre><code>var buffer = new ArrayBuffer( res.length ), // res is this.response in your case\n    view   = new Uint8Array( buffer ),\n    len    = view.length,\n    fromCharCode = String.fromCharCode,\n    i, s, str;    \n\n/**\n *  1) 8bit\u306e\u914d\u5217\u306b\u5165\u308c\u3066\u4e0a\u4f4d\u30d3\u30c3\u30c8\u3051\u305a\u308b\n */\nstr = \"\";\n\nfor ( i = len; i--; ) {\n  view[i] = res[i].charCodeAt(0);\n}\n\nfor ( i = 0; i &lt; len; ++i ) {\n  str += fromCharCode( view[i] );\n}    \n\n/**\n *  2) &amp; 0xff \u3067\u4e0a\u4f4d\u30d3\u30c3\u30c8\u3051\u305a\u308b\n */\nstr = \"\";\n\nfor ( i = 0; i &lt; len; ++i ) {\n  str += fromCharCode( res[i].charCodeAt(0) &amp; 0xff );\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<pre><code>function load_binary_resource(url) {\n  var byteArray = [];\n  var req = new XMLHttpRequest();\n  req.open('GET', url, false);\n  req.overrideMimeType('text\\/plain; charset=x-user-defined');\n  req.send(null);\n  if (req.status != 200) return byteArray;\n  for (var i = 0; i &lt; req.responseText.length; ++i) {\n    byteArray.push(req.responseText.charCodeAt(x) &amp; 0xff)\n  }\n  return byteArray;\n}\n</code></pre>\n\n<p>See <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Sending_and_Receiving_Binary_Data\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Sending_and_Receiving_Binary_Data</a> for more details</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to read a binary file in JavaScript that would be gotten through XMLHttpRequest and be able to manipulate that data. From my researching I discovered this method of reading a binary file data into an array</p>\n\n<pre><code>var xhr = new XMLHttpRequest();\nxhr.open('GET', '/binary_And_Ascii_File.obj', true);\n\nxhr.responseType = 'arraybuffer';\n\nxhr.onload = function(e) {\n  var uInt8Array = new Uint8Array(this.response);\n};\n</code></pre>\n\n<p>How do I convert this binary data array to a human-readable-string? </p>\n",
            "last_activity_date": 1393012683,
            "question_id": 6994712,
            "score": 4,
            "tags": [
                "javascript",
                "binary",
                "binary-data"
            ],
            "title": "How do I read binary data to a byte array in Javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>It's pretty simple, several other anwsers on SO already showed good examples. Basically use the Graph API: <a href=\"http://developers.facebook.com/docs/api\" rel=\"nofollow\">http://developers.facebook.com/docs/api</a>\nto query info on your URL, for example: <a href=\"https://graph.facebook.com/?ids=http://www.stackloverflow.com\" rel=\"nofollow\">https://graph.facebook.com/?ids=http://www.stackloverflow.com</a> . The API retuns a JSON object which should be easy to use with Javascript.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Actually, <a href=\"https://graph.facebook.com/?ids=http://www.stackoverflow.com\" rel=\"nofollow\">https://graph.facebook.com/?ids=http://www.stackoverflow.com</a> will return the number of SHARES for that url, which is distinct from the number of likes because it also includes comments and other forms of sharing. This may or may not be an important difference.</p>\n\n<p>With Graph API 2.1+ there are two methods...</p>\n\n<p><strong>Like count for URLs</strong>:</p>\n\n<ol>\n<li>First, you need to get the ID of the page:\n<a href=\"https://developers.facebook.com/tools/explorer/?method=GET&amp;path=%3Fid%3Dhttp%253A%252F%252Fwww.stackoverflow.com&amp;version=v2.1\" rel=\"nofollow\">https://developers.facebook.com/tools/explorer/?method=GET&amp;path=%3Fid%3Dhttp%253A%252F%252Fwww.stackoverflow.com&amp;version=v2.1</a>\n(you need a valid access token for this)</li>\n<li>Once you have the id, you can get the count without an access token. You can access the total count in the summary part of the json response. Here's an example request: <a href=\"https://graph.facebook.com/10150180465825637/likes/?summary=true\" rel=\"nofollow\">https://graph.facebook.com/10150180465825637/likes/?summary=true</a></li>\n</ol>\n\n<p><strong>Like count for Facebook Pages</strong>:</p>\n\n<ol>\n<li>You can get the like count directly (without an access token) via: <a href=\"https://graph.facebook.com/FacebookDevelopers/?fields=likes\" rel=\"nofollow\">https://graph.facebook.com/FacebookDevelopers/?fields=likes</a></li>\n</ol>\n\n<hr>\n\n<p>In previous versions of Graph API (2.0 and lower) you could use FQL:</p>\n\n<blockquote>\n  <p>SELECT like_count FROM link_stat WHERE url=\"http://www.stackoverflow.com\"</p>\n</blockquote>\n\n<p><a href=\"https://api.facebook.com/method/fql.query?query=SELECT%20like_count%20FROM%20link_stat%20WHERE%20url=%22http://www.stackoverflow.com%22\" rel=\"nofollow\">Here</a> is the actual link. There about 200 likes and 2000+ shares as of this writing, so it's a big difference...</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>This way returns a json object:</p>\n\n<p><a href=\"http://api.facebook.com/method/fql.query?query=select%20like_count%20from%20link_stat%20where%20url=%27http://www.imdb.com/title/tt0638423/%27&amp;format=json\" rel=\"nofollow\">http://api.facebook.com/method/fql.query?query=select%20like_count%20from%20link_stat%20where%20url=%27http://www.imdb.com/title/tt0638423/%27&amp;format=json</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Ideally I would like to do this using javascript client side scripting only.  If that is not possible then I'd like to do this in such a way as to have the server do the least amount of work.  </p>\n\n<p>Any help is appreciated.</p>\n",
            "last_activity_date": 1420471750,
            "question_id": 4764562,
            "score": 4,
            "tags": [
                "php",
                "javascript",
                "facebook",
                "cross-domain"
            ],
            "title": "Is it possible to get the number of facebook likes for a url?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>From <a href=\"http://forums.whirlpool.net.au/archive/966449\">http://forums.whirlpool.net.au/archive/966449</a>:</p>\n\n<p><strong><code>a == false</code>:</strong></p>\n\n<p>In this case, the type of the left-hand side is object, the type of the right-hand side is boolean. Javascript first converts the boolean to a number, yielding <code>0</code>. Then it converts the object to a \"primitive\", yielding the empty string. Next it compares the empty string to <code>0</code>. The empty string is converted to a number, yielding <code>0</code>, which is numerically equal to the <code>0</code> on the right-hand side, so the result of the entire expression is <code>true</code>.</p>\n\n<p>See \u00a711.9.3 of the <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\">ECMAScript spec</a> for all the gory details.</p>\n\n<p><strong><code>(!a)</code>:</strong></p>\n\n<p>In this case Javascript converts the object to the boolean true, then inverts it, resulting in false.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>The <code>!</code> operator checks whether its operand is \"falsy\".  </p>\n\n<p>The following are true:</p>\n\n<ul>\n<li><code>!false</code></li>\n<li><code>!0</code></li>\n<li><code>!null</code></li>\n<li><code>!NaN</code></li>\n<li><code>!undefined</code></li>\n<li><code>!\"\"</code></li>\n</ul>\n\n<hr>\n\n<p>The <code>==</code> operator checks for loose equality, which has nothing to do with falsiness.</p>\n\n<p>Specifically, <code>a == b</code> will convert to operands to numbers, then compare the numbers.<br>\nStrings containing numbers convert to the numbers that they contain; booleans convert to <code>0</code> and <code>1</code>.<br>\nObjects are converted by calling <code>valueOf</code>, if defined.</p>\n\n<p>Thus, all of the following are true:</p>\n\n<ul>\n<li><code>\"1\" == 1</code></li>\n<li><code>\"0\" == false</code></li>\n<li><code>\"1\" == true</code></li>\n<li><code>\"2\" != true</code></li>\n<li><code>\"2\" != false</code></li>\n<li><code>({ valueOf:function() { return 2; } }) == 2</code></li>\n<li><code>({ valueOf:function() { return 1; } }) == true</code></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>When comparing an object to a primitive value via the <code>==</code> operator, the object coerces into an primitive value itself (number or string). In this case <code>[]</code> coerces into <code>0</code>, then <code>false</code> coerces into <code>0</code>:</p>\n\n<pre><code>[] == false\n0 == false\n0 == 0\n</code></pre>\n\n<p>which is true.</p>\n\n<p>The <code>!</code> operator coerces into boolean and then inverts the value. <code>[]</code> into boolean is <code>true</code> (like with any object). Then invert to become <code>false</code>  </p>\n\n<pre><code>![]\n!true\nfalse\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The <code>==</code> operator when one of the operands if Boolean, type-converts the other to Number.</p>\n\n<pre><code>[] == 0;\n</code></pre>\n\n<p>Is equivalent to:</p>\n\n<pre><code>0 == 0;\n</code></pre>\n\n<p>You can see the complete details of <a href=\"http://bclary.com/2004/11/07/#a-11.9.3\" rel=\"nofollow\">The Abstract Equality Comparison Algorithm</a> on the specification.</p>\n\n<p>As you can see, an empty array object, when converted to Number, produces <code>0</code>:</p>\n\n<pre><code>+[]; // 0\nNumber(0);\n</code></pre>\n\n<p>This is really because its toString method produces an empty string, for example:</p>\n\n<pre><code>[].toString(); // \"\"\n\n+\"\"; // 0\nNumber(\"\"); // 0\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Not sure if this answers the question, but there is a new library for getting around all of Javascript's Typecasting weirdnesses:</p>\n\n<p><a href=\"http://www.typecastjs.org/\" rel=\"nofollow\">Typecast.js</a></p>\n\n<p><em>In a sentence, Typecast solves all the simple problems, so you can focus on the big ones. Typecast fixes what's wrong with Javascript by creating a complete platform for strongly-typed variables in Javascript.</em></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Consider empty JavaScript array:</p>\n\n<pre><code>var a = [];\nalert(a == false); // shows true\nalert(!a); // shows false!\n</code></pre>\n\n<p>How to explain this?\nWhat are the rules?</p>\n",
            "last_activity_date": 1358958362,
            "question_id": 4626361,
            "score": 4,
            "tags": [
                "javascript",
                "types",
                "casting"
            ],
            "title": "JavaScript type casting"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>As far as polluting the enclosing scope goes, both are equivalent. Note that it is not necessarily the global scope - it is the scope in which the function is declared (local functions are permitted within other functions). In your example, both methods introduce a variable (function object) named <code>sum</code> into the local scope.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Both are equivalent in terms of scope. A function <em>declared</em> inside another function will not be global. The difference is that you can use a <em>declared</em> function at any time (because it's <em>hoisted</em> before any code is run), a function assigned to a variable as an expression only after you have assigned it.</p>\n\n<pre><code>(function () {\n\n    bar(); // works\n    function bar() { }  // is not global\n\n    foo();  // doesn't work\n    var foo = function () { };\n\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>In javascript, What is the difference between function declaration and function expression in terms of scope? function declaration means we are polluting the global space. Is it the same case with function expression?</p>\n\n<p><strong>Function declaration</strong></p>\n\n<pre><code>function sum(){\n // logic goes here\n}\n</code></pre>\n\n<p><strong>Function expression</strong></p>\n\n<pre><code>var sum = function(){}\n</code></pre>\n",
            "last_activity_date": 1289366879,
            "question_id": 4141437,
            "score": 4,
            "tags": [
                "javascript",
                "scope"
            ],
            "title": "Function declaration - Function Expression - Scope"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>As you can see you have the same mechanism for both worker-to-main and main-to-worker messages.  </p>\n\n<ul>\n<li>the <code>postMessage</code> method for sending messages</li>\n<li>the <code>onmessage</code> member for defining the handler that receives the messages</li>\n</ul>\n\n<p>In the main script:  </p>\n\n<pre><code>worker.postMessage(data);\n</code></pre>\n\n<p>In the worker script:  </p>\n\n<pre><code>self.addEventListener(\"message\", function(e) {\n    // the passed-in data is available via e.data\n}, false);\n</code></pre>\n\n<p>... or just...</p>\n\n<pre><code>onmessage = function(e) {\n    // the passed-in data is available via e.data\n};\n</code></pre>\n\n<p>It may be that data has to be a string... (Firefox 3.5+ supports passing in JSON-compatible objects)</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>Found the answer some some of my problems, html5 web workers!!!</p>\n\n<p>How do I pass an argument to a web worker though using this basic example?</p>\n\n<p>contents of worker.js:</p>\n\n<pre><code>function doSomething() {\n    postMessage( ' done');\n}\nsetTimeout ( \"doSomething()\", 3000 );\n</code></pre>\n\n<p>js code:</p>\n\n<pre><code> var worker = new Worker('worker.js');\n  worker.onmessage = function (event) {\n    alert(event.data);\n  };\n</code></pre>\n",
            "last_activity_date": 1288045522,
            "question_id": 4019230,
            "score": 4,
            "tags": [
                "javascript"
            ],
            "title": "javascript web workers - how do I pass arguments?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>it depends on your DTD you have chossen. Seems you use default strict DTD.</p>\n\n<p>Here is reference for possible <a href=\"http://www.w3.org/TR/REC-html40/struct/global.html\" rel=\"nofollow\">declarations</a>:\nlook to 7.2 HTML version information.</p>\n\n<p>I tried with:</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\"&gt;\n</code></pre>\n\n<p>and it works great, but it don't works with next declaration:</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n</code></pre>\n\n<p>Hope it helpful and you can use that DTD without issues on another layouts.</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I am trying to change style of cursor on element that has 'contenteditable' attribute set to  true in IE.</p>\n\n<pre><code>&lt;div contenteditable=\"true\" style=\"cursor:pointer;\"&gt;\n        text\n&lt;/div&gt;\n</code></pre>\n\n<p>I have tried do that using inline styling like in example above, also with css file and by javascript but with no luck.</p>\n\n<p>All my solutions work in FF without problems, they work fine also in IE but only when 'contenteditable' attribute is set to false. So it is definitely somehting related with implementation of contenteditable in IE but I have no clue how to solve this problem. </p>\n\n<p>I am using IE8.</p>\n\n<p>Thank a lot for your help!</p>\n",
            "last_activity_date": 1285764547,
            "question_id": 3820782,
            "score": 4,
            "tags": [
                "javascript",
                "html",
                "internet-explorer",
                "richtextediting"
            ],
            "title": "How to change cursor style on element with &#39;contenteditable&#39; attribute in IE?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It depends on what you mean by \"multithreaded\".</p>\n\n<p>Javascript code is distinctly singlethreaded. No Javascript code will interrupt any other Javascript code currently executing on the same page. An AJAX (XHR) request will trigger the browser to do something and (typically) call a callback when it completes.</p>\n\n<p>On the server each Ajax request is a separate HTTP request. Each of these will execute on their own thread. Depending on th Web server config, they may not even execute on the same machine. But each PHP script instance will be entirely separate, even if calling the same script. There is no shared state per se.</p>\n\n<p>Now browsers typically cap the number of simultaneous Ajax requests a page can make on a per host basis. This number is typically 2. I believe you can change it but since the majority of people will have the default value, you have to assume it will be 2. More requests than that will queue until an existing request completes. This can lead to having to do annoying things like creating multiple host names like req1.example.com, req2.example.com, etc.</p>\n\n<p>The one exception is sessions but they aren't multithreaded. Starting a session will block all other scripts attempting to start the exact same session (based on the cookie). This is one reason why you need to minimize the amount of time a session is opened for. Arguably you could use a database or something like memcache to kludge inter-script communication but it's not really what PHP is about.</p>\n\n<p>PHP is best used for simple request processing. A request is received. It is processed and a response is returned. That response could be HTML, XML, text, JSON or whatever. The request could be an HTTP request from the browser or an AJAX request.</p>\n\n<p>Each of these request-response cycles should, where possible, be treated as separate entities.</p>\n\n<p>Another technique used is long-polling. An HTTP request is sent to the server and may not return for a long time. This is used for Web-based chat and other \"server push\" type scenarios. Sometimes partial responses will be flushed without ending the request.</p>\n\n<p>The last option (on Unix/Linux at least) is that PHP can spawn processes but that doesn't seem to be what you're referring to.</p>\n\n<p>So what is it exactly you're trying to do?</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>You can't actually multi-thread but what a lot of larger websites do is flush the output for a page and then use Ajax to load additional components on the fly so that the user sees content even while the browser is still requesting new information. Its a good technique to know but, like everything else, you need to be careful how you use it.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Can do use ajax to achieve true multi-threaded\uff1fif can \uff0chow to do? \nplease give me some related information,web site or books.\nthanks ~!</p>\n",
            "last_activity_date": 1318569299,
            "question_id": 2914161,
            "score": 4,
            "tags": [
                "php",
                "javascript",
                "ajax",
                "multithreading"
            ],
            "title": "ajax multi-threaded"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The <code>mouseout</code> event on the inner div \u2018bubbles\u2019 to the outer div. To detect that this has happened from the outer div, check the <code>target</code> property of the <code>event</code>:</p>\n\n<pre><code>&lt;div id=\"outer\"&gt;\n    &lt;div id=\"inner\"&gt;x&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n\n\n<pre><code>document.getElementById('outer').onmouseout= function(event) {\n    // deal with IE nonsense\n    if (event===undefined) event= window.event;\n    var target= 'target' in event? event.target : event.srcElement;\n\n    if (target!==this) return;\n    ...\n};\n</code></pre>\n\n<p>The usual problem with <code>mouseout</code> is you get it when the pointer moves \u201cout\u201d of the parent even if it's only moving \u201cin\u201d to the child. You can detect this case manually by looking up the ancestor list of the element the mouse is moving into:</p>\n\n<pre><code>    var other= 'relatedTarget' in event? event.relatedTarget : event.toElement;\n    while ((other= other.parentNode).nodeType===1)\n        if (other===this) return;\n</code></pre>\n\n<p>This is the <code>mousein</code>/<code>mouseout</code> model: it is only interested about which element is the mouse's immediate parent. What you more often want is the <code>mouseenter</code>/<code>mouseleave</code> model, which considers element trees as a whole, so you'd only get <code>mouseleave</code> when the pointer was leaving the element-or-its-descendants and not moving directly into the element-or-its-descendants.</p>\n\n<p>Unfortunately <code>mouseenter</code>/<code>mouseleave</code> is currently an IE-only event pair. Hopefully other browsers will pick it up as it is expected to be part of DOM Level 3 Events.</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I'm aware of the different event models in Javascript (the WC3 model versus the Microsoft model), as well as the difference between bubbling and capturing.  However, after a few hours reading various articles about this issue, I'm still unsure how to properly code the following seemingly simple behavior:</p>\n\n<p>If I have an outer <code>div</code> and an inner <code>div</code> element, I want a single mouse-out event to be triggered when the mouse leaves the outer-div.  When the mouse crosses from the inner-div to the outer-div, nothing should happen, and when the mouse crosses from the outer-div to the inner-div nothing should happen.  The event should <em>only</em> fire if the mouse moves from the outer-div to the surrounding page.</p>\n\n<pre><code>&lt;div id=\"outer\" style = \"width:20em; height:20em; border:1px solid #F00\" align = \"center\" onmouseout=\"alert('mouseout event!')\" &gt;\n&lt;div id=\"inner\" style = \"width:18em; height:18em; border:1px solid #000\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Now, if I place the \"mouseout\" event on the outer-div, <strong>two</strong> mouse-out events are fired when the mouse moves from the inner-div to the surrounding page, because the event fires once when the mouse moves from inner to outer, and then again when it moves from outer to the surrounding page.</p>\n\n<p>I know I can cancel the event using <code>ev.stopPropagation()</code>, so I tried registering an event handler with the inner-div to cancel the event propagation.  However, this won't prevent the event from firing when the mouse moves from the outer-div to the inner-div.</p>\n\n<p>So, unless I'm overlooking something, it seems to me this behavior can't be accomplished without complex mouse-tracking functions.  In the future, I plan to reimplement a lot of this code using a more advanced framework, like JQuery, but for now, I'm wondering if there is a simple way to implement the above behavior in regular Javascript.</p>\n",
            "last_activity_date": 1413694406,
            "question_id": 2705182,
            "score": 4,
            "tags": [
                "javascript",
                "javascript-events"
            ],
            "title": "Javascript: Multiple mouseout events triggered"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>setInterval runs in a global scope, so you need to define the timer relative to the window.</p>\n\n<p>You can't concatinate the string value returned from the style property and\nexpect a number- you'll get '0.02.02.02.02'</p>\n\n<p>Coerce a number out of the string, then add the .02.</p>\n\n<p>It will work in some browsers, but IE before 9 needs a different expression\nto set and read opacity.</p>\n\n<pre><code>function fadeIn(elem, speed){\n    if(elem.style){\n        elem.style.opacity= '0';\n    }\n    window.fadetimer= setInterval(function(){\n        elem.style.opacity= +(elem.style.opacity)+.02;\n        if(elem.style.opacity&gt; 1){\n            clearInterval(fadetimer);\n        }\n    },\n    speed);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>It's my second question of the day related to the same problem, so I apologize for that.</p>\n\n<p>I was able to put together a function to \"fade out\" an element, and it works just fine, my problem is that when I try to <strong>reverse</strong> it, so the element \"fades in\" it does not work.\nI've tried to change the obvious, but I can't understand what I'm doing wrong.</p>\n\n<p>My code so far is as follows:</p>\n\n<p>Given I have a \"div\" like so:</p>\n\n<pre><code>&lt;div id=\"test\" style=\"width:200px; height:200px; display:block; opacity:1; background-color:red;\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The JavaScript function that I'm using to fade it out is:</p>\n\n<pre><code>var getElement = document.getElementById('test');\nfunction fadeOut(elem, speed){\nif(!elem.style.opacity){\n    elem.style.opacity = 1;\n}\nvar desvanecer = setInterval(function(){\n    elem.style.opacity -= .02;\n    if(elem.style.opacity &lt; 0){\n        clearInterval(desvanecer);\n    }\n}, speed / 50);\n}\nfadeOut(getElement, 500);\n</code></pre>\n\n<p>Could somebody take a look at this and let me know what I'm doing wrong, all I want to do is \"FADE IN\" an element to an opacity equal to \"1\".</p>\n\n<p>By the way, I can't use jQuery, however I'm eager to learn this way.</p>\n\n<p>Thanks</p>\n\n<p>My attemp to reverse the function is as follows:</p>\n\n<pre><code>var getElement = document.getElementById('test');\nfunction fadeIn(elem, speed){\nif(elem.style.opacity){\n    elem.style.opacity = 0;\n}\nvar desvanecer = setInterval(function(){\n    elem.style.opacity += .02;\n    if(elem.style.opacity &gt; 1){\n        clearInterval(desvanecer);\n    }\n}, speed / 50); \n}\nfadeIn(getElement, 500);\n</code></pre>\n",
            "last_activity_date": 1271989015,
            "question_id": 2695462,
            "score": 4,
            "tags": [
                "javascript",
                "fade",
                "setinterval"
            ],
            "title": "Fade HTML element with raw javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>What about a hidden variable:</p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"ClientId\" value=\"&lt;%=ClientId %&gt;\"&gt;\n</code></pre>\n\n<p>Then from your js:</p>\n\n<pre><code>$(\"#\" + $(\"#ClientID\").val())\n</code></pre>\n\n<p>Or, put the hash in:</p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"ClientId\" value=\"#&lt;%=ClientId %&gt;\"&gt;\n\n...\n\n$($(\"#ClientID\").val())\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The way I solve this problem is to use CSS classes or place the controls within containers with known IDs and then traverse into the container's children to get the actual controls. For example:</p>\n\n<pre><code>&lt;asp:TextBox ID=\"Something\" runat=\"server\" CssClass=\"mycontrol\" ... /&gt;\n</code></pre>\n\n<p>Could be accessed via:</p>\n\n<pre><code>jQuery('.mycontrol');\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>&lt;div id=\"ControlContainer\"&gt;\n    &lt;asp:TextBox ID=\"Something\" runat=\"server\" ... /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Could be accessed via:</p>\n\n<pre><code>jQuery(\"#ControlContainer input[type='text']\");\n</code></pre>\n\n<p>The only real problem with this approach is you're tying your code to specific markup on the page, which can be a hassle if the markup changes a lot.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Ok, a different approach, that I try to use a JavaScript-class style, and then initialize it for each control.</p>\n\n<p>In the external javascript file, write your code as:</p>\n\n<pre><code>function oNameCls(ControlId1) {\n\n    this.ControlId1 = ControlId1;\n\n    this.DoYourWork1 = function() {\n        // use the control id.\n        // this.ControlId1\n    }    \n    this.DoYourWork2 = function() {\n        // use the control id.\n        // this.ControlId1\n    }    \n\n}\n</code></pre>\n\n<p>And on the control do the call like that.</p>\n\n<pre><code>&lt;script language=\"Javascript\" type=\"text/javascript\"&gt;\n    // init - create\n    var &lt;%=this.ClientID%&gt;MyCls = new oNameCls(&lt;%=Control1.ClientID%&gt;);\n    // do your work\n    &lt;%=this.ClientID%&gt;MyCls.DoYourWork1();\n&lt;/script&gt;\n</code></pre>\n\n<p>Hope now help better.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>If you want to find a <strong>specific</strong> control when there could be multiple copies, this can't be done.  How would the external javascript know which of the <code>n</code> controls you wanted?</p>\n\n<p>How can rig the behavior up to a class and find the elements relative to the position of the action control, like this:</p>\n\n<p>UserControl:</p>\n\n<pre><code>&lt;div class=\"myControl\"&gt;\n  &lt;asp:Button id=\"MyButton\" runat=\"server\" Text=\"Click Me\" /&gt;\n  &lt;div style=\"display:none;\"&gt;Show me!&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>If you jQuery was written to be relative like this:</p>\n\n<pre><code>$(\".myControl input\").click(function() {\n  $(this).next().slideDown();\n});\n</code></pre>\n\n<p>In this case, it doesn't matter what the specific IDs are, as long as you can navigate the DOM relatively to the controls you need.  Even if it's more complex like <code>.closest(\"div\").next().find(\".bob\").prev()</code>...whatever you need to get there works.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am developing a user control (ascx) in ASP.NET which uses javascript for manipulating controls. Currently the javascript code is inlined and uses <code>&lt;%= somecontrol.ClientID %&gt;</code> to get the control it needs.</p>\n\n<p>I want to put the javascript file in external file but from external file I cannot use the above syntax for retrieving controls. I have read about possible solutions in <a href=\"http://stackoverflow.com/questions/1861103/how-can-i-access-server-controls-from-my-external-javascript-file/1861211#1861211\">this</a> and <a href=\"http://stackoverflow.com/questions/2078392/can-i-count-on-ctl00-pageplaceholder-myid-staying-the-same/2078420#2078420\">this</a> answers but the problem is that the user control can be placed multiple times on page. This means that the Controls array (mentioned in the answers) will be rendered several times with different items. As a result the script will not be able to retrieve the id it needs. If I put <code>&lt;%= ClientId %&gt;</code> in the name of array that holds items then I will have the same problem as I am trying to solve.</p>\n\n<p>Any ideas?</p>\n",
            "last_activity_date": 1272832472,
            "question_id": 2500001,
            "score": 4,
            "tags": [
                "c#",
                "asp.net",
                "javascript",
                "jquery",
                "user-controls"
            ],
            "title": "Get clientid in user control from external javascript file"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>the user's location is available in google.loader.ClientLocation (this will contain a guess based on the client IP if the IP is known)</p>\n\n<blockquote>\n  <p>google.loader.ClientLocation</p>\n  \n  <p>When an application makes use of the\n  AJAX API loader, the loader attempts\n  to geo locate the client based on its\n  IP address. If this process succeeds,\n  the client's location, scoped to the\n  metro level, is made available in the\n  google.loader.ClientLocation property.\n  If the process fails to find a match,\n  this property is set to null.</p>\n</blockquote>\n\n<p><a href=\"http://code.google.com/apis/ajax/documentation/#ClientLocation\" rel=\"nofollow\">http://code.google.com/apis/ajax/documentation/#ClientLocation</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you need something more precise than IP geolocation, you could use the <a href=\"http://dev.w3.org/geo/api/spec-source.html\" rel=\"nofollow\">W3C Geolocation API</a> in supported browsers (notably, Firefox 3.5 and Mobile Safari) to request the user's latitude and longitude and then use <a href=\"http://code.google.com/apis/maps/documentation/services.html#ReverseGeocoding\" rel=\"nofollow\">Google's client-side reverse geocoding service</a> to guess the user's approximate street address.  (Code samples for both of those steps included on <a href=\"http://npdoty.name/location/#developer\" rel=\"nofollow\">my test page</a>.)</p>\n\n<p>If you go this route, be sure to explain to your users up front why you're requesting their location and how you're using their information (e.g. that you're not storing it until they actually submit a form) because it's technically required by the API and because some users will be creeped out by how easily you can guess their street address.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>if you are trying to get The <strong>Street Address</strong>!</p>\n\n<p>include both <strong>JS</strong>  and <strong>MAP</strong> Api Key, <a href=\"http://code.google.com/intl/it-IT/apis/ajax/documentation/autoloader-wizard.html\" rel=\"nofollow\">keep all together from the wizard</a></p>\n\n<p>my code look like this: (use also a bit of jQuery)</p>\n\n<pre><code>var geocoder = null;\nvar lat = null;\nvar lng = null;\n\n$(function() {\n   if (GBrowserIsCompatible()) {\n\n if (google.loader.ClientLocation &amp;&amp;\n     // i used this here cause not always \n     //this retrieve the correct LAT &amp; LON\n     // so set it manually\n      google.loader.ClientLocation.address.country_code == \"IT\" ) {\n      lat = google.loader.ClientLocation.latitude;\n      lng = google.loader.ClientLocation.longitude;\n      } else {\n      //alert( 'Insert Your Latitude &amp; longitude manually!' );\n      lat = '42.464826';\n      lng = '14.214095';\n      }\n    //creat the full LAT + LON\n    points = new GLatLng( lat , lng ); \n    //get the Street Address\n    get_address(points);\n    }\n });\n\n    function get_address(latlng) {\n      if (latlng) {\n      geocoder = new GClientGeocoder();\n        geocoder.getLocations(latlng, function(addresses) {\n          if(addresses.Status.code != 200) {\n            alert(\"reverse geocoder failed to find an address for \" + latlng.toUrlValue());\n          }\n          else {\n            address = addresses.Placemark[0];\n            var myHtml = address.address;\n\n            $('#address').text(myHtml);\n\n          }\n        });\n      }\n    };\n</code></pre>\n\n<p>peraphs read this link may help too:</p>\n\n<blockquote>\n  <p><a href=\"http://stackoverflow.com/questions/158557/get-street-address-at-lat-long-pair\">http://stackoverflow.com/questions/158557/get-street-address-at-lat-long-pair</a></p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>I was looking to find how to map the current location and a destination location. To achieve this here is what I did:</p>\n\n<p>Note* replace: <strong>YOUR_DESTINATION_ADDRESS</strong> with an address in a format like: \"147+Wyndham+Street+N+,+Suite+206,+Guelph,+On,+N1H+4E9\"</p>\n\n<pre><code>&lt;div id=\"Map\" style=\"width: 100%; height: 600px;\"&gt; &lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(function(){\n    var zoom = 11;\n    function success(position) {\n\n        var LAT = position.coords.latitude;\n        var LONG = position.coords.longitude;\n        $('#Map').append('&lt;p&gt;Current Latitude: ' + LAT + '&lt;br/&gt;Current Logitude: ' + LONG +'&lt;br/&gt;&lt;br/&gt;Note* This may not display your exact location, but just your city. Works better on mobile devices&lt;/p&gt;');\n\n\n        var map  = '&lt;iframe style=\"width: 100%; height: 600px;\" frameborder=\"0\" scrolling=\"no\" marginheight=\"0\" marginwidth=\"0\" src=\"http://maps.google.ca/maps?source=s_d&amp;saddr=' + LAT +',+' + LONG +'&amp;daddr=**YOUR_DESTINATION_ADDRESS**&amp;ie=UTF8&amp;t=hz=' + zoom + '&amp;output=embed\"&gt;&lt;/iframe&gt;';\n\n        $('#Map').append(map);\n\n    }\n\n    function error(){\n        /*Error Code*/\n    }\n\n    function MakeMap(){\n        if (navigator.geolocation) {\n            navigator.geolocation.getCurrentPosition(success, error);\n        } \n    }\n\n    MakeMap();\n});\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Yes it is possible achieve using html 5 and Google API 3, in the given code you have to change your APIKey and map-canvas is a  element in the html body</p>\n\n<pre><code>  &lt;script type=\"text/javascript\"\n     src=\"https://maps.googleapis.com/maps/api/js?key=yourAPIKey&amp;sensor=false\"&gt;&lt;/script&gt;\n  &lt;script type=\"text/javascript\"&gt;\n     var lat;\n     var lng;\n\n         function initialize() {\n      if (navigator.geolocation)\n        {\n        navigator.geolocation.getCurrentPosition(showPosition);\n        }       \n\n\n         }\n     function showPosition(position)\n      {\n      lat = position.coords.latitude; \n      lng = position.coords.longitude;\n     var myLatlng = new google.maps.LatLng(lat, lng);\n\n     var myTittle = \"My Current Location! Lat: \" + lat + \"lng: \" + lng;\n     var marker = new google.maps.Marker({\n         position: myLatlng,\n         title: myTittle\n     });\n\n           var mapOptions = {\n             center: myLatlng,\n             zoom: 16,\n             mapTypeId: google.maps.MapTypeId.ROADMAP\n           };\n           var map = new google.maps.Map(document.getElementById(\"map-canvas\"),\n               mapOptions);\n     marker.setMap(map);    \n      }\n         google.maps.event.addDomListener(window, 'load', initialize);\n\n  &lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I would like to get the address string of the current user location.  Is that possible?</p>\n\n<p>Many thanks.\nRegards</p>\n",
            "last_activity_date": 1369998432,
            "question_id": 2482468,
            "score": 4,
            "tags": [
                "javascript",
                "geolocation",
                "google-maps"
            ],
            "title": "Google Map - Current location"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can add a callback function to the animation. It would be fired once the animation is finished.</p>\n\n<pre><code>$('#clX').click(function() {\n  $('#close').animate({\n    marginLeft: \"-250px\"\n  }, 500, function() {\n    // Animation complete.\n    $(\"#close\").hide();\n    //i supose $this.hide() &lt;br/&gt;would work also and it is more efficient.\n  });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>@hasan, methinks @patxi meant $(this)</p>\n\n<pre><code>var closeable = $('#close');\n$('#clx').bind('click', function(){\n   // $(this) === $('#clx')\n   closeable.stop().animate({marginLeft:'-250px'},{\n     duration: 500,\n     complete: function(){\n        $(this).hide(); \n        // $(this) === closeable;\n     }\n   });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have an slider animation but on clX.click event #close div hides before it is animated -250px left. How to wait till the animation completes and then hide #close div?</p>\n\n<pre><code>    $(document).ready(function() {\n        $(\"#open\").click(function() {\n            if ($(\"#close\").is(\":hidden\")) {\n                $(\"#open\").animate({\n                    marginLeft: \"-32px\"\n                }, 200);\n\n                $(\"#close\").show();\n                $(\"#close\").animate({\n                    marginLeft: \"250px\"\n                }, 500);\n            }\n        });\n        $(\"#clX\").click(function() {\n            $(\"#close\").animate({\n                marginLeft: \"-250px\"\n            }, 500);\n\n            $(\"#open\").animate({\n                marginLeft: \"0px\"\n            }, 200);\n\n            $(\"#close\").hide();\n        });\n    });\n</code></pre>\n",
            "last_activity_date": 1280762966,
            "question_id": 2407592,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "jquery-selectors"
            ],
            "title": "jQuery event order and waiting till animation complete"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>This is probably the easiest way, but maybe not the best way: <a href=\"http://www.tizag.com/javascriptT/javascript-string-replace.php\" rel=\"nofollow\">http://www.tizag.com/javascriptT/javascript-string-replace.php</a> (scroll down to the bottom, where it says \"Replace Function: Global Regular Expression\"</p>\n\n<p>You would replace <code>linux</code> with <code>&lt;em&gt;linux&lt;/em&gt;</code>, etc.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had to do this a couple of months ago. Originally someone used string manipulation of innerHTML as suggested by others here but that road leads to madness. The troublesome corner cases are: What if the keyword being marked up is an element's class name or id. We also don't want to mangle any embedded javascript and accidentally cause invalid markup. Also need to handle embedded css styles. In the end you end up writing a text parser for HTML4.0 + ECMAscript + css which, even in the limited case, is a lot of work - it's writing your own web browser - IN JAVASCRIPT!</p>\n\n<p>But we already have a HTML+JS+CSS parser in the web browser that generates a nice DOM tree for us. So I decided to use that. This is what I came up with in the end:</p>\n\n<pre><code>keywords = ['hello world','goodbye cruel world'];\nfunction replaceKeywords (domNode) {\n    if (domNode.nodeType === Node.ELEMENT_NODE) { // We only want to scan html elements\n        var children = domNode.childNodes;\n        for (var i=0;i&lt;children.length;i++) {\n            var child = children[i];\n\n            // Filter out unwanted nodes to speed up processing.\n            // For example, you can ignore 'SCRIPT' nodes etc.\n            if (child.nodeName != 'EM') {\n                replaceKeywords(child); // Recurse!\n            }\n        }\n    }\n    else if (domNode.nodeType === Node.TEXT_NODE) { // Process text nodes\n        var text = domNode.nodeValue;\n\n        // This is another place where it might be prudent to add filters\n\n        for (var i=0;i&lt;keywords.length;i++) {\n            var match = text.indexOf(keywords[i]); // you may use search instead\n            if (match != -1) {\n                // create the EM node:\n                var em = document.createElement('EM');\n\n                // split text into 3 parts: before, mid and after\n                var mid = domNode.splitText(match);\n                mid.splitText(keywords[i].length);\n\n                // then assign mid part to EM\n                mid.parentNode.insertBefore(em,mid);\n                mid.parentNode.removeChild(mid);\n                em.appendChild(mid);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>As long as you're careful about filtering out things you don't want to process (for example, empty text nodes that contain only whitespace - there are lots of them, trust me) this is very fast.</p>\n\n<p>Additional filtering not implemented for algorithmic clarity - left as an exercise to the reader.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>there's a jquery plugin that does this:\n<a href=\"http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html\" rel=\"nofollow\">http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>i want a function that finds some strings i've got in an array in the DOM and emphasize it.</p>\n\n<p>eg.</p>\n\n<pre><code>keywords[0] = 'linux';\nkeywords[1] = 'suse pro';\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;body&gt;\n    im a huge fan of &lt;em&gt;linux&lt;/em&gt; and at the moment im using &lt;em&gt;suse pro&lt;/em&gt; and finds it amazing.\n&lt;/body&gt;\n</code></pre>\n\n<p>how do i do it in the easiest way. thanks in advance</p>\n\n<p>EDIT: i found a very easy way to accomplish this: jquery highlight plugin! cheers!</p>\n",
            "last_activity_date": 1262061020,
            "question_id": 1972515,
            "score": 4,
            "tags": [
                "javascript",
                "dom"
            ],
            "title": "javascript: find strings in dom and emphasize it"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Depends no how complicated you want the check to be.</p>\n\n<p>Here's an uber-complicated one:</p>\n\n<pre><code>^(?#Protocol)(?:(?:ht|f)tp(?:s?)\\:\\/\\/|~/|/)?(?#Username:Password)(?:\\w+:\\w+@)?(?#Subdomains)(?:(?:[-\\w]+\\.)+(?#TopLevel Domains)(?:com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|museum|travel|[a-z]{2}))(?#Port)(?::[\\d]{1,5})?(?#Directories)(?:(?:(?:/(?:[-\\w~!$+|.,=]|%[a-f\\d]{2})+)+|/)+|\\?|#)?(?#Query)(?:(?:\\?(?:[-\\w~!$+|.,*:]|%[a-f\\d{2}])+=(?:[-\\w~!$+|.,*:=]|%[a-f\\d]{2})*)(?:&amp;(?:[-\\w~!$+|.,*:]|%[a-f\\d{2}])+=(?:[-\\w~!$+|.,*:=]|%[a-f\\d]{2})*)*)*(?#Anchor)(?:#(?:[-\\w~!$+|.,*:=]|%[a-f\\d]{2})*)?$\n</code></pre>\n\n<p>Actually, regular expressions are quiet portable between platforms. Most examples from a google search can be used in Javascript, albeit maybe with a few \"flavor\" modifications.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Take a look at this <a href=\"http://internet.ls-la.net/folklore/url-regexpr.html\">complete regular expression for URLs</a> that has been generated automatically based on the RFC 1738.</p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>What is the expression I should use in order to check for a valid url in javascript?</p>\n",
            "last_activity_date": 1239494799,
            "question_id": 740537,
            "score": 4,
            "tags": [
                "javascript",
                "regex",
                "validation",
                "url"
            ],
            "title": "Checking for a valid url using Javascript Regular Expressions"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>What I would do is attach onKeyUp events to the document.body. Then, in this event handler, I would use the <a href=\"http://prototypejs.org/api/element/fire\" rel=\"nofollow\">Element.fire</a> method to fire a custom event. Though this step is optional, it will help in decoupling the event handler from the action to be performed, and you can use the same custom-event handler from say an button click event.</p>\n\n<pre><code>$(document.body).observe(\"keyup\", function() {\n    if(/* key + modifier match */) {\n        $(document.body).fire(\"myapp:mycoolevent\");\n    }\n});\n\n$(document.body).observe(\"myapp:mycoolevent\", function() {\n    // Handle event.\n});\n</code></pre>\n\n<p>Later, to bind the same event to a button click:</p>\n\n<pre><code>$(button).observe(\"click\", function() {\n    $(document.body).fire(\"myapp:mycoolevent\");\n});\n</code></pre>\n\n<p>As far as handling modifier keys is concerned, check out <a href=\"http://www.webreference.com/js/column11/modifierkeys.html\" rel=\"nofollow\">this resource</a> (very old, but still looks applicable) for more help.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The HotKey library available in the LivePipe controls package works with Prototype and is IE compatible.</p>\n\n<p><a href=\"http://livepipe.net/extra/hotkey\" rel=\"nofollow\">http://livepipe.net/extra/hotkey</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>JimmyP posted this as a comment, but it deserves to be an answer for voting purposes.</p>\n\n<p><a href=\"http://www.openjs.com/scripts/events/keyboard_shortcuts/\" rel=\"nofollow\">http://www.openjs.com/scripts/events/keyboard_shortcuts/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There is also new JavaScript library called <a href=\"https://keithamus.github.io/jwerty/\" rel=\"nofollow\">jwerty</a>, it's easy to use and doesn't rely on jQuery.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Just thought I'd throw another into the mix.  I recently released a library called Mousetrap.  Check it out at <a href=\"http://craig.is/killing/mice\" rel=\"nofollow\">http://craig.is/killing/mice</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>What's the most robust way of creating a global keyboard shortcut handler for a Web application using JavaScript i.e. which event(s) should I handle and what should the event handler(s) be attached to?</p>\n\n<p>I want something like the system in Gmail which can handle both single keypress shortcuts and also shortcuts with modifier keys e.g. Ctrl + B etc. The code has to work in IE 6 as well as modern browsers.</p>\n\n<p>I have the Prototype framework available to use but not jQuery, so please, no jQuery-specific answers!</p>\n",
            "last_activity_date": 1424816118,
            "question_id": 611326,
            "score": 4,
            "tags": [
                "javascript",
                "prototypejs"
            ],
            "title": "Robust keyboard shortcut handling using JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>No. There will be some limited support <a href=\"http://msdn.microsoft.com/en-us/library/dd282900%28VS.85%29.aspx\" rel=\"nofollow\">in IE8</a>, but 'till then you're better off finding another place to hang your functions.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Here is a simple workaround that will be sufficient in 99% of cases.\nIt may as well be completed as required by your script :</p>\n\n<pre><code>if ( !window.Element ) \n{\n    Element = function(){};\n\n    var __createElement = document.createElement;\n    document.createElement = function(tagName)\n    {\n        var element = __createElement(tagName);\n        if (element == null) {return null;}\n        for(var key in Element.prototype)\n                element[key] = Element.prototype[key];\n        return element;\n    }\n\n    var __getElementById = document.getElementById;\n    document.getElementById = function(id)\n    {\n        var element = __getElementById(id);\n        if (element == null) {return null;}\n        for(var key in Element.prototype)\n                element[key] = Element.prototype[key];\n        return element;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>IE do not have \"Element\" set, so you can't access the prototype of Element to directly add your function. The workaround is to overload \"createElement\" and \"getElementById\" to have them return an element with a modified prototype with your function.</p>\n\n<p>Thanks to Simon Uyttendaele for the solution!</p>\n\n<pre><code>if ( !window.Element )\n{\n        Element = function(){}\n\n        Element.prototype.yourFunction = function() {\n                alert(\"yourFunction\");\n        }\n\n\n        var __createElement = document.createElement;\n        document.createElement = function(tagName)\n        {\n                var element = __createElement(tagName);\n                for(var key in Element.prototype)\n                        element[key] = Element.prototype[key];\n                return element;\n        }\n\n        var __getElementById = document.getElementById\n        document.getElementById = function(id)\n        {\n                var element = __getElementById(id);\n                for(var key in Element.prototype)\n                        element[key] = Element.prototype[key];\n                return element;\n        }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm trying to extend all dom elements so i can get and remove their children. The function is below (works in FF and Chrome). Is there an equivalent in IE7 to extend the base dom object?</p>\n\n<pre><code>if (!Element.get) {\nElement.prototype.get = function(id) {\n\tfor (var i = 0; i &lt; this.childNodes.length; i++) {\n\t\tif (this.childNodes[i].id == id) {\n\t\t\treturn this.childNodes[i];\n\t\t}\n\t\tif (this.childNodes[i].childNodes.length) {\n\t\t\tvar ret = this.childNodes[i].get(id);\n\t\t\tif (ret != null) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n}\n\nElement.prototype.removeChildren = function() {\n    removeChildren(this);\n}\n</code></pre>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1370116145,
            "question_id": 597268,
            "score": 4,
            "tags": [
                "javascript",
                "dom",
                "internet-explorer-7",
                "extend"
            ],
            "title": "Element.prototype in IE7?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Don't think that's possible, seems like it would be a security hole if it were.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Yea, not possible... Javascript runs in a secure enviroment, and all FF extensions are javascript so you wont be able to be doing much interaction with the OS... but ill stick around to see if someone knows a way(it would be VERY cool...)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Firefox extensions play by different rules to normal JavaScript running in the page: finding the current user is absolutely possible.</p>\n\n<p>Open your Error Console (in Tools) and enter this:</p>\n\n<pre><code>Components.classes[\"@mozilla.org/process/environment;1\"].getService(Components.interfaces.nsIEnvironment).get('USER')\n</code></pre>\n\n<p>The environment variables Firefox was started with are available through that <a href=\"https://developer.mozilla.org/en/NsIEnvironment\">NsIEnvironment XPCOM component</a>.</p>\n\n<p>You may have to customise this per platform. If all else fails, you might be able to create an <a href=\"https://developer.mozilla.org/en/NsIFile\">NsIFile</a> in <code>~</code> then look at its <code>.path</code>; I'm not sure if shell expressions are honoured there, though...</p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I'm writing a Firefox extension that needs to know what the username of the currently logged in user is in Windows, Mac, or Linux. So if I'm logged into my machine as \"brh\", it'll return \"brh\". Any idea how to do that from extension JavaScript?</p>\n",
            "last_activity_date": 1230630496,
            "question_id": 399263,
            "score": 4,
            "tags": [
                "javascript",
                "firefox",
                "xul"
            ],
            "title": "Finding the currently logged in user from a Firefox extension"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I'm assuming you need this to work only in browsers that support SVG.</p>\n\n<p>Firefox, Safari, and Opera provide the non-standard <code>XMLSerializer</code> API, so you could do something like this:</p>\n\n<pre><code>var svg = document.getElementById('svg_root'); // or whatever you call it\nvar serializer = new XMLSerializer();\nvar str = serializer.serializeToString(svg);\n</code></pre>\n\n<p>From there, you can send it to the server and receive a PNG in return.</p>\n\n<p>Here's <a href=\"https://developer.mozilla.org/en/Parsing_and_serializing_XML\">Mozilla's developer page on serializing XML from the DOM</a>.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Opera has implementation of <a href=\"http://www.w3.org/TR/DOM-Level-3-LS/load-save.html\" rel=\"nofollow\">W3C's DOM\u2192XML serializer</a>. In XML mode <code>innerHTML</code> returns well-formed XML in Gecko.</p>\n\n<p>HTML5 <code>&lt;canvas&gt;</code> can export its content as PNG file using <code>toDataURL()</code> and it's possible to paint any <code>&lt;img&gt;</code> element on canvas using <code>drawImage()</code>, so it should be possible to create <code>&lt;img src=\"data:application/svg+xml,\u2026\"&gt;</code>, paint it on canvas and export as <code>data:</code> URL.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I am working on interactive SVG/AJAX interfaces where elements are created and repositioned on-the-fly by users. I'd like to support the ability for users to export their current view to a PNG image and/or an SVG document. I'd really like the SVG document to be as simple as possible (without a lot of nested transforms). Is there any framework that already supports this?</p>\n\n<p>I'm currently asking my users to use the Ctrl+Alt+PrntScrn technique, and I don't want to ask them to install any software/plugins. </p>\n\n<p>The server-side code is implemented in PHP right now, if that helps. I've already implemented the ability to generate a PNG image from the \"original\" document (before the client makes any modifications) using ImageMagick.</p>\n",
            "last_activity_date": 1225026349,
            "question_id": 227208,
            "score": 4,
            "tags": [
                "php",
                "javascript",
                "ajax",
                "png",
                "svg"
            ],
            "title": "What is the best way to serialize SVG from the client DOM?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Alright, let's break this down a bit. Single threaded applications have advantages: you can never get deadlocks or race conditions. These issues stem from simultaneous memory access in multi-threaded systems. If two threads access the same piece of information weird things can happen.</p>\n\n<p>So why does JavaScript have Workers? If you need do some heavy processing you're going to block the event loop, you could try to split up the workload by generating timer events but that's tedious. A Worker allows you to spawn a thread under one condition: <strong>no shared memory access</strong>. This solves the issue of heavy processing in a single threaded environment while avoiding the pitfalls of multi-threaded environments (deadlocks, race-conditions).</p>\n\n<p>And as @dandavis said, if you have a multi-core CPU (which everyone does these days) the Worker threads can be offloaded to the other cores.</p>\n\n<p>You have to appreciate that, although JavaScript is single threaded, the environment around it is still very much multi-threaded. Reading a file is non-blocking in Node.JS but there is likely a thread to support it in the OS.</p>\n\n<hr>\n\n<p>As a minor addendum I would say that Node.JS's biggest advantage is that it allows you to write JavaScript on the server, which allows you to <strong>share code</strong> between the client and the server. The fact that it's non-blocking is nice but threads already solve that. The non-blocking IO stems from the single threaded-ness. It's very inconvenient to have a single thread with blocking IO.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The fact that Node.js does not need to spin a new thread to handle each web request becomes an advantage in environments where you have a very large number of concurrent connections (as in thousand or tens of thousands of concurrent connections.) Below that you are probably not going to see any significant difference with a threaded environment like Java/Apache or C#/IIS given that those platforms are very well optimized these days. </p>\n\n<p>The advantage is that even if Node.js were to spin a new thread for I/O operations (which it might in certain cases but not in others) you are still reducing the number of threads needed to handle the web request from 1-per-request to 1. Again, if you are processing thousands of concurrent connections that's a huge gain. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://nikhilm.github.io/uvbook/\">You need to read about libuv</a>, the \"magic\" behind node's non-blocking I/O.</p>\n\n<p>The important thing to take away from the libuv book is that libuv uses the host OS's <a href=\"http://en.wikipedia.org/wiki/Epoll\">asynchronous</a> <a href=\"http://en.wikipedia.org/wiki/Kqueue\">I/O</a> <a href=\"http://en.wikipedia.org/wiki/IOCP\">facilities</a>; <strong>it does not simply create a new thread</strong> for every connection.</p>\n\n<p>libuv tells the OS that it would like to know about any changes (connection state, data received, etc) that happen on a particular set of sockets.  It is then up to the OS to deal with managing the connections.  The OS itself may create one or more threads to accomplish that, but that's not our concern.  (And it certainly won't create a thread for every connection.)</p>\n\n<p>For other types of operations like calls to C libraries that may be computationally expensive (ie crypto), libuv provides a <em>thread pool</em> on which those operations may run.  Since it is a thread pool, again you don't have to worry about thread count growing without bound.  When the pool is fully busy, operations are queued.</p>\n\n<p>So yes, JavaScript runs on a single thread.  Yes, node (via libuv) spawns many threads in the background to do work so that it need not block the JavaScript thread.  However, the thread count is always controlled, and I/O generally doesn't even get its own node-allocated thread because that's handled by the OS.</p>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>Node.JS biggest advantage is it's non blocking nature. It's single threaded, so it doesn't need to spawn a new thread for each new incoming connection. </p>\n\n<p>Behind the event-loop (which is in fact single threaded), there is a \"Non blocking Worker\". This thing is not single threaded anymore, so (as far as I understood) it can spawn a new thread for each task.</p>\n\n<p>Maybe I misunderstood something, but where exactly is the advantage. If there are to many tasks to handle, wouldn't be the Non Blocking Working turn into a Blocking Worker?</p>\n\n<p>Thanks\nChristian</p>\n",
            "last_activity_date": 1391195088,
            "question_id": 21485920,
            "score": 3,
            "tags": [
                "javascript",
                "node.js",
                "nonblocking"
            ],
            "title": "Single Threaded Event Loop vs Multi Threaded Non Blocking Worker in Node.JS"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You have a simple typo in your code -- coordinates should be passed as (longitude, latitude) to the projection, not the other way round. This code should work fine:</p>\n\n<pre><code> svg.selectAll(\".pin\")\n  .data(places)\n  .enter().append(\"circle\", \".pin\")\n  .attr(\"r\", 5)\n  .attr(\"transform\", function(d) {\n    return \"translate(\" + projection([\n      d.location.longitude,\n      d.location.latitude\n    ]) + \")\"\n  });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I'm trying to plot a few points onto a map using the D3 geo library based on latitudes and longitudes. However, when I pass these values into my projection function, it results in coordinates that our outside the bounds of my SVG image. My code is based on <a href=\"http://bl.ocks.org/mbostock/3757119\" rel=\"nofollow\">this example provided in the documentation</a>.</p>\n\n<p>I've thrown the current code up at: <a href=\"http://bl.ocks.org/rpowelll/8312317\" rel=\"nofollow\">http://bl.ocks.org/rpowelll/8312317</a></p>\n\n<p>My source data is a simple array of objects formatted like so</p>\n\n<pre><code>var places = [\n  {\n    name: \"Wollongong, Australia\",\n    location: {\n      latitude: -34.42507,\n      longitude: 150.89315\n    }\n  },\n  {\n    name: \"Newcastle, Australia\",\n    location: {\n      latitude: -32.92669,\n      longitude: 151.77892\n    }\n  }\n]\n</code></pre>\n\n<p>Following this I set up an Plate Carr\u00e9e projection like so:</p>\n\n<pre><code>var width = 960,\nheight = 480\n\nvar projection = d3.geo.equirectangular()\n    .scale(153)\n    .translate([width / 2, height / 2])\n    .precision(.1);\n\nvar path = d3.geo.path()\n    .projection(projection)\n</code></pre>\n\n<p>From there I draw the map with code effectively identical to the linked example. At the end of my script, I use the following code to plot points on this map:</p>\n\n<pre><code>svg.selectAll(\".pin\")\n    .data(places)\n  .enter().append(\"circle\", \".pin\")\n    .attr(\"r\", 5)\n    .attr(\"transform\", function(d) {\n      return \"translate(\" + projection([\n        d.location.latitude,\n        d.location.longitude\n      ]) + \")\"\n    })\n</code></pre>\n\n<p>However this code results in points that are outside of the SVG element's bounds. Is there anything obvious I'm doing wrong here?</p>\n",
            "last_activity_date": 1389175944,
            "question_id": 20987535,
            "score": 3,
            "tags": [
                "javascript",
                "svg",
                "d3.js",
                "geo"
            ],
            "title": "Plotting points on a map with D3"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>To my knowledge, there isn't a very natural way of doing this, but there are some options.</p>\n\n<h2>setInterval()</h2>\n\n<p>You could use <code>setInterval()</code> to repeatadly check the iframe's content height and adjust it if needed. This is simple, but inefficient.</p>\n\n<h2>Event Listeners</h2>\n\n<p>Any change of content in the iframe's content (and therefore height) is usually triggered by some event. Even if you're adding content from outside of the iframe, that \"add\" is probably triggered by a button click, for example. Here's something that might work for you: <a href=\"http://jsbin.com/oNeYABol/2/edit\" rel=\"nofollow\"><strong>Live demo here (click).</strong></a></p>\n\n<pre><code>var myIframe = document.getElementById('myIframe');\n\nwindow.addEventListener('click', resizeIframe);\nwindow.addEventListener('scroll', resizeIframe);\nwindow.addEventListener('resize', resizeIframe);\n\nmyIframe.contentWindow.addEventListener('click', resizeIframe);\n\nfunction resizeIframe() {\n  console.log('resize!');\n}\n</code></pre>\n\n<h2>Mutation Observer</h2>\n\n<p>This solution works in all up-to-date browsers - <a href=\"http://caniuse.com/mutationobserver\" rel=\"nofollow\">http://caniuse.com/mutationobserver</a></p>\n\n<p><strong><a href=\"http://plnkr.co/edit/0ZT4O6WI1DKtF2SuKub2?p=preview\" rel=\"nofollow\">Live demo here (click).</a></strong></p>\n\n<p>It's really simple and should catch the relevant changes. If not, you could combine it with the event listener solution above to be sure things are updated!</p>\n\n<pre><code>var $myIframe = $('#myIframe');\nvar myIframe = $myIframe[0];\n\nvar MutationObserver = window.MutationObserver || window.WebKitMutationObserver;\n\nmyIframe.addEventListener('load', function() {\n  setIframeHeight();\n\n  var target = myIframe.contentDocument.body;\n\n  var observer = new MutationObserver(function(mutations) {\n    setIframeHeight();\n  });\n\n  var config = {\n    attributes: true,\n    childList: true,\n    characterData: true,\n    subtree: true\n  };\n  observer.observe(target, config);\n});\n\nmyIframe.src = 'iframe.html';\n\nfunction setIframeHeight() {\n  $myIframe.height('auto');\n  var newHeight = $('html', myIframe.contentDocument).height();\n  $myIframe.height(newHeight);\n}\n</code></pre>\n\n<h2>Honorable mention to: overflow/underflow events.</h2>\n\n<p><a href=\"http://www.backalleycoder.com/2013/03/18/cross-browser-event-based-element-resize-detection/\" rel=\"nofollow\"><strong>Read about it here</strong></a> (there's A LOT to it).</p>\n\n<p>and <a href=\"http://plnkr.co/edit/mOjpjdaYClQu54kBZ9K3?p=preview\" rel=\"nofollow\"><strong>see my demo here</strong></a> (doesn't work in IE 11!).</p>\n\n<p>This <strong>was</strong> a cool solution, but it's no longer working in IE. It might be possible to tweak it, but I'd rather use one of the above solutions, even if I had to fallback to a 1 second <code>setInterval</code> for older browsers, just because it's a lot simpler than this solution.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Actually you should do it from iframe by accessing parent window and changing iframe's height.</p>\n\n<p>Because document in iframe usually knows better if the it's body changed it's size (you can actually bind it to something like body.onload instead of using intervals to check if something has changed in iframe).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use custom events to signal between the <code>iframe</code> and the parent.</p>\n\n<p>In the <code>iframe</code>:</p>\n\n<pre><code>if (window.parent !== window) {\n  window.oldIframeHeight = 0;\n  window.setInterval(function() {\n      var currentHeight = document.body.offsetHeight;\n      if (currentHeight !== window.oldIframeHeight) {\n          window.parent.postMessage(currentHeight.toString(), \"*\");\n          window.oldIframeHeight = currentHeight;\n      }\n  }, 100)\n}\n</code></pre>\n\n<p>Then, in the parent:</p>\n\n<pre><code>window.addEventListener(\"message\", function (e) {\n    var h = parseInt(e.data, 10);\n    if (!isNaN(h)) {\n        $('#iframe').height(h)\n    }\n}, false);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I wrote a small Library that uses mutationaObserver and eventListners, with fall backs to setInterval for IE8-10 and works for both same domain and cross domain. It can size both height and width.</p>\n\n<p><a href=\"http://davidjbradshaw.github.io/iframe-resizer/\" rel=\"nofollow\">http://davidjbradshaw.github.io/iframe-resizer/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>iFrame View</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var height = $(\"body\").outerHeight();\n    parent.SetIFrameHeight(height);\n&lt;/script&gt;\n</code></pre>\n\n<p>Main View</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    SetIFrameHeight = function(height) {\n        $(\"#iFrameWrapper\").height(height);\n    }\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<h2>Use the iFrame Resizer</h2>\n\n<p>It has support for the following</p>\n\n<ul>\n<li><strong>log</strong></li>\n<li><strong>autoResize</strong></li>\n<li><strong>bodyBackground</strong></li>\n<li><strong>bodyMargin</strong></li>\n<li><strong>checkOrigin</strong></li>\n<li><strong>enablePublicMethods</strong></li>\n<li><strong>interval</strong></li>\n<li><strong>heightCalculationMethod</strong>\n... etc ...</li>\n</ul>\n\n<p><a href=\"https://github.com/davidjbradshaw/iframe-resizer\" rel=\"nofollow\">Download at github...</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am loading an iframe inside a page, which the length of the content of the iframe will be changed from time to time. I have implemented the following solution. However the height is fixed as the dyniframesize only get call when iframe.onload.</p>\n\n<p>It is possible to have the iframe to be resized accordingly from time to time the height of the iframe changed?  </p>\n\n<pre><code>&lt;iframe src =\"popup.html\" frameborder=\"0\" marginheight=\"0\" marginwidth=\"0\" frameborder=\"0\" scrolling=\"auto\" id=\"ifm\" name=\"ifm\" onload=\"javascript:dyniframesize('ifm');\" width=\"100%\"&gt;&lt;/iframe&gt; \n\nfunction dyniframesize(down) { \nvar pTar = null; \nif (document.getElementById){ \npTar = document.getElementById(down); \n} \nelse{ \neval('pTar = ' + down + ';'); \n} \nif (pTar &amp;&amp; !window.opera){ \n//begin resizing iframe \npTar.style.display=\"block\" \nif (pTar.contentDocument &amp;&amp; pTar.contentDocument.body.offsetHeight){ \n//ns6 syntax \npTar.height = pTar.contentDocument.body.offsetHeight +20; \npTar.width = pTar.contentDocument.body.scrollWidth+20; \n} \nelse if (pTar.Document &amp;&amp; pTar.Document.body.scrollHeight){ \n//ie5+ syntax \npTar.height = pTar.Document.body.scrollHeight; \npTar.width = pTar.Document.body.scrollWidth; \n} \n} \n} \n&lt;/script&gt; \n</code></pre>\n",
            "last_activity_date": 1401201343,
            "question_id": 20789198,
            "score": 3,
            "tags": [
                "javascript",
                "html",
                "css",
                "iframe"
            ],
            "title": "Auto resize iframe height when the height of the iframe contents change (same domain)"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Is it possible that the image file size is greater than your 'upload_max_filesize' setting?(usually defaults to 2 meg)</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I guess the file is in the $_FILE array not in the $_POST since it is a file.\nIf not, you may convert the image to a string an send the imagestring as GET request.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>i have posted a full working example. The problem before was you needed to construct the blob properly. by injecting the file data inside an array notation</p>\n\n<pre><code>    document.onpaste = function(e){\n    var items = e.clipboardData.items;\n    console.log(JSON.stringify(items));\n    if (e.clipboardData.items[0].kind === 'file') {\n            // get the blob\n            var imageFile = items[0].getAsFile();\n            console.log(imageFile);\n            var reader = new FileReader();\n            reader.onload = function(event) {\n                console.log(event.target.result); // data url!\n                submitFileForm(event.target.result, 'paste');\n            };\n            reader.readAsBinaryString(imageFile);\n        }\n    };\n\nfunction submitFileForm(file, type) {\n    var formData = new FormData();\n    var myBlob = new Blob([file], { \"type\" : \"image/png\"} );\n    formData.append('file', myBlob, 'file.jpg');\n    formData.append('submission-type', type);\n\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', '/task/file');\n    xhr.onload = function () {\n        if (xhr.status == 200) {\n            console.log('all done: ');\n        } else {\n            console.log('Nope');\n        }\n    };\n\n    xhr.send(formData);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<blockquote>\n  <p>you copy (CTRL-C) an image from your desktop and paste (CTRL-V) it onto the website.</p>\n</blockquote>\n\n<p>No, that is <a href=\"http://dev.w3.org/2006/webapi/clipops/#pasting-html-and-multi-part-data\" rel=\"nofollow\">impossible</a>. What you can paste is e.g. screenshots and images from the web, that's <a href=\"http://gmailblog.blogspot.fi/2011/06/pasting-images-into-messages-just-got.html\" rel=\"nofollow\">what gmail does</a>.</p>\n\n<p>Your biggest mistake is using FileReader when you already have a file, the <code>$_FILES</code> array is filled when there is a proper HTTP upload not for ad hoc base64 POST param. To do a proper HTTP upload, you just <code>.append()</code> a file or blob object (<code>File</code>s are <code>Blob</code>s).</p>\n\n<p>This is a stand-alone PHP file that should just work, host the file, open it is a page, take a screenshot, then paste it while on the page and after a few seconds the image should appear on the page.</p>\n\n<pre><code>&lt;?php\nif( isset( $_FILES['file'] ) ) {\n    $file_contents = file_get_contents( $_FILES['file']['tmp_name'] );\n    header(\"Content-Type: \" . $_FILES['file']['type'] );\n    die($file_contents);\n}\nelse {\n    header(\"HTTP/1.1 400 Bad Request\");\n}\nprint_r($_FILES);\n?&gt;\n\n&lt;script&gt;\ndocument.onpaste = function (e) {\n    var items = e.clipboardData.items;\n    var files = [];\n    for( var i = 0, len = items.length; i &lt; len; ++i ) {\n        var item = items[i];\n        if( item.kind === \"file\" ) {\n            submitFileForm(item.getAsFile(), \"paste\");\n        }\n    }\n\n};\n\nfunction submitFileForm(file, type) {\n    var extension = file.type.match(/\\/([a-z0-9]+)/i)[1].toLowerCase();\n    var formData = new FormData();\n    formData.append('file', file, \"image_file\");\n    formData.append('extension', extension );\n    formData.append(\"mimetype\", file.type );\n    formData.append('submission-type', type);\n\n    var xhr = new XMLHttpRequest();\n    xhr.responseType = \"blob\";\n    xhr.open('POST', '&lt;?php echo basename(__FILE__); ?&gt;');\n    xhr.onload = function () {\n        if (xhr.status == 200) {\n            var img = new Image();\n            img.src = (window.URL || window.webkitURL)\n                .createObjectURL( xhr.response );\n            document.body.appendChild(img);\n        }\n    };\n\n    xhr.send(formData);\n}\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I try to make an image-upload functionality similar to the one GMail uses. You copy (CTRL-C) an image from your desktop and paste (CTRL-V) it onto the website. \nThe image is then uploaded via a XMLHttpRequest to a php-script that handles the incoming file, whereby \"handling\" means renaming and storing on the server.</p>\n\n<p>I can already fetch the image (and -data), but I am unable to successfully submit and receive the XMLHttpRequest.\nMy Javascript code looks like that:</p>\n\n<pre><code>  document.onpaste = function(e){\n        var items = e.clipboardData.items;\n        console.log(JSON.stringify(items));\n        if (e.clipboardData.items[1].kind === 'file') {\n            // get the blob\n            var imageFile = items[1].getAsFile();\n            console.log(imageFile);\n            var reader = new FileReader();\n            reader.onload = function(event) {\n                console.log(event.target.result); // data url!\n                submitFileForm(event.target.result, 'paste');\n            };\n        }\n    };\n\n function submitFileForm(file, type) {\n        var formData = new FormData();\n        formData.append('file', file);\n        formData.append('submission-type', type);\n\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', 'php/image-upload.php');\n        xhr.onload = function () {\n            if (xhr.status == 200) {\n                console.log('all done: ');\n            } else {\n                console.log('Nope');\n            }\n        };\n\n        xhr.send(formData);\n    }\n</code></pre>\n\n<p>The handling php (<code>php/image-upload.php</code>) looks like that:</p>\n\n<pre><code>$base64string = $_POST['file'];\nfile_put_contents('img.png', base64_decode($base64string));\n</code></pre>\n\n<p>I think the <code>$_POST['file']</code> stays empty, but I am not sure.\nWhat's more, I also encounter the \"blob size\" (displayed with console.log()) is way larger than the actual image size. But maybe that's no matter or caused by encodings.</p>\n\n<p>The developer console displays this.</p>\n\n<pre><code>{\"0\":{\"type\":\"text/plain\",\"kind\":\"string\"},\"1\":{\"type\":\"image/png\",\"kind\":\"file\"},\"length\":2} image-upload.js:8\nBlob {type: \"image/png\", size: 135619, slice: function}\n</code></pre>\n\n<p>If I view the file-info by right-clicking the actual image file, it shows <code>5,320 bytes (8 KB on disk)</code> in size.</p>\n\n<p>I do not necessarily need to use a <code>XMLHttpRequest</code>, it was just what came to my mind first. If there's a better way of achieving realtime image-uploading to a server with javascript, please let us know.</p>\n",
            "last_activity_date": 1375958148,
            "question_id": 18055422,
            "score": 3,
            "tags": [
                "php",
                "javascript",
                "xmlhttprequest",
                "image-uploading",
                "onpaste"
            ],
            "title": "How to receive php image data over copy-n-paste javascript with XMLHttpRequest"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The second one breaks the inheritance chain and removes all properties you would have added before to the prototype.</p>\n\n<p>Let's see what I mean by \"inheritance chain break\" with this example :</p>\n\n<pre><code>function A(){}\nA.prototype.a = function(){}\nfunction B(){}\nB.prototype = new A();\nB.prototype.b = function(){}\n</code></pre>\n\n<p>an instance of <code>B</code> here inherits the <code>a</code> method.</p>\n\n<p>But if you do </p>\n\n<pre><code>B.prototype = { b: function(){} }\n</code></pre>\n\n<p>then that's no longer the case.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If <code>Rectangle.prototype</code> is <code>{}</code>, there is no difference between the two methods.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In the first case you are <strong>adding</strong> a new property to an existing object, in the second case you are <strong>overwriting</strong> <code>Rectangle.prototype</code> with a new value (object).</p>\n\n<p>Overwriting the prototype has the following consequences:</p>\n\n<ul>\n<li><p><code>Rectangle.prototype.constructor</code> does not point to <code>Rectangle</code> anymore. When you use an object literal, it will point to <code>Object</code> instead. This can easily by solved by assigning </p>\n\n<pre><code>Rectangle.prototype.constructor = Rectangle;\n</code></pre></li>\n<li><p>You potentially loose all existing properties on the prototype (unless you add them again, like with <code>constructor</code>).</p></li>\n<li><p><strong>Existing</strong> instances of <code>Rectangle</code> will not be affected by the change. They will still reference the old prototype and don't inherit the new methods/properties.</p></li>\n<li><p><code>instanceof</code> tests on <strong>existing</strong> instances (i.e. <code>rect instanceof Rectangle</code>) will <em>fail</em>, since <code>instanceof</code> compares prototypes and as mentioned in the previous point, existing instances keep their reference to the old prototype.</p></li>\n</ul>\n\n<p>If you set up the prototype before you create any instances then you don't have to concern yourself with the last three points.</p>\n\n<blockquote>\n  <p>What are the differences and advantages of each of the methods above?</p>\n</blockquote>\n\n<p>The only advantage of overwriting the prototype using an object literal is the more concise syntax. IMO it does not outweigh the disadvantages though.</p>\n\n<p>You can use an object literal without overwriting the prototype by merging the two objects: <a href=\"http://stackoverflow.com/q/171251/218196\">How can I merge properties of two JavaScript objects dynamically?</a>.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p><strong>Method 1:</strong></p>\n\n<pre><code>Rectangle.prototype.getArea = function() {\n     return this.length * this.width;\n};\n</code></pre>\n\n<p><strong>Method 2:</strong></p>\n\n<pre><code>Rectangle.prototype = {\n     getArea: function() {\n          return this.length * this.width;\n     }\n};\n</code></pre>\n\n<p>What are the differences and advantages of each of the methods above?</p>\n",
            "last_activity_date": 1369657805,
            "question_id": 16773061,
            "score": 3,
            "tags": [
                "javascript",
                "oop",
                "prototype"
            ],
            "title": "What is the difference between these prototype declaration?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Instead of using <code>&lt;circle&gt;</code> elements, you can use GeoJSON point geometries:</p>\n\n<pre><code>{type: \"Point\", coordinates: [\u03bb, \u03c6]}\n</code></pre>\n\n<p>These can then be clipped via D3\u2019s projection system, depending on the clipAngle that you\u2019ve set. So you might have something like:</p>\n\n<pre><code>var path = d3.geo.path().projection(\u2026);\n\ndata.forEach(function(d) {\n  svg.append(\"path\")\n      .datum({type: \"Point\", coordinates: [d.Lon, d.Lat]})\n      .attr(\"d\", path.pointRadius(d.Magnitude));\n});\n</code></pre>\n\n<p>Note how the radius of the point is set via the path for each point.  You can also set the pointRadius to be a function, so you could do something like:</p>\n\n<pre><code>var path = d3.geo.path()\n    .projection(\u2026)\n    .pointRadius(function(d) { return d.radius; });\n\nsvg.selectAll(\"path.point\")\n    .data(data)\n  .enter().append(\"path\")\n    .datum(function(d) {\n       return {type: \"Point\", coordinates: [d.Lon, d.Lat], radius: d.Magnitude};\n    })\n    .attr(\"class\", \"point\")\n    .attr(\"d\", path);\n</code></pre>\n\n<p>The second part of your question asks whether the circles can be true geographic circles. <a href=\"https://github.com/mbostock/d3/wiki/Geo-Paths#wiki-circle\">d3.geo.circle</a> can generate geographic circle features (again, as GeoJSON), which will be properly clipped:</p>\n\n<pre><code>var path = d3.geo.path().projection(\u2026),\n    circle = d3.geo.circle();\n\nsvg.selectAll(\"path.point\")\n    .data(data)\n  .enter().append(\"path\")\n    .datum(function(d) {\n       return circle\n           .origin([d.Lon, d.Lat])\n           .angle(d.Magnitude)();\n    })\n    .attr(\"class\", \"point\")\n    .attr(\"d\", path);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>I'm working on <a href=\"http://bl.ocks.org/tomstove/5243213\" rel=\"nofollow\">this</a> and I'm having trouble with clipping the red circle elements as they appear on the globe even past the 90\u02da clip angle. Also, is there a way you can apply the projection to the red circles, as in so it looks like they're on the surface of the globe relative to the orthographic angle? At the moment they just appear as 2d circles relative to the screen.</p>\n",
            "last_activity_date": 1402935732,
            "question_id": 15778856,
            "score": 3,
            "tags": [
                "javascript",
                "d3.js",
                "projection",
                "orthographic"
            ],
            "title": "Circle clip and projection with D3 orthographic"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can use a counter to ensure all async calls have returned and then call a callback. An example:</p>\n\n<pre><code>function performAsyncOperation(data, onCompletion) {\n    var bag = [];\n    var box = [];\n    var count  = 0;\n\n    async.forEach(data.item, function(item, callback){\n        async.forEach(item.name, function(name, callback){\n            count += 1;\n            callApi(item.name, function(obj){\n               bag.push(obj);\n               count -= 1;\n               if (count == 0) {\n                   onCompletion(null, { bag:bag, box:box });\n               }\n            });\n            callback();\n        }\n       box.push(item);\n       callback();\n    });\n}\n</code></pre>\n\n<p><code>count</code> and <code>onCompletion</code> are the important parts above.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Since you have the full dataset, you should first (synchronously) gather the list of names into one single array.</p>\n\n<p>Then, only do one level of <code>async.forEach</code>.  Trying to do this with two level is unnecessary and results in more complex code.</p>\n\n<p>If what you refer to as <code>async</code> is what you get using <code>npm install async</code>, here's a piece of code that illustrates what you could use (uses <code>lodash</code> to build the list of names, as this tends to be more consise.</p>\n\n<pre><code>var _ = require(\"lodash\");\nvar async = require(\"async\");\n\nvar data = {\n  item: [\n    {name: \"a\"},\n    {name: \"b\"}\n  ]\n};\n\nvar bag = [];\n\nvar items = _(_(data.item).collect(function(item) {\n  return item.name;\n})).value();\n\nasync.eachSeries(items, function(name, cb) {\n  callApi(name, function(obj) {\n    bag.push(obj);\n    cb();\n  });\n}, function done() {\n  console.log(\"bag\", bag);\n});\n\nfunction callApi(name, cb) {\n  cb(name);\n}\n</code></pre>\n\n<p>And the output is:</p>\n\n<pre><code>bag [ 'a', 'b' ]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm having difficulty making multiple api calls and getting the returned results in the right place.  This what I'm trying to achieve: Two loops, nested.   The outer loop loops over a complex json object and places some object's values in an array call box.  The inner loop calls the api and the places the returned results in an array named bag. So I have box and bag full of data.  When both loops and api calls end, I would like to have access to the data in both box and bag and do stuff with it. I'm just not sure of the best way to go have access to both arrays at the same point in execution. This is what I have so far, but of course bag and box are empty because they get called before all the loops and api calls end.</p>\n\n<pre><code>var data = {}//a json object with data;\nvar bag = [];\nvar box = [];\n\nasync.forEach(data.item, function(item, callback){\n\n    async.forEach(item.name, function(name, callback){\n\n        callApi(item.name, function(obj){\n\n           bag.push(obj);\n        });\n\n        callback();\n\n    }\n\n   box.push(item);\n   callback();\n\n});\n\n\nfunction callApi(name, callback){\n\n    asyncApiCall(url+name, function(err, result){\n\n        callback(result);       \n    });\n\n}\n\n//when all loops and api requests are done\n//do stuff with contents of box and bag here;\nconsole.log(bag, box);\n</code></pre>\n",
            "last_activity_date": 1362209291,
            "question_id": 15170280,
            "score": 3,
            "tags": [
                "javascript",
                "node.js",
                "asynchronous",
                "foreach",
                "callback"
            ],
            "title": "Node.js Api calls in an Async loop"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Might be not what you are looking for, however observers can subscribe for listening events:</p>\n\n<pre><code>        $(document).on('customEvent', '.iObserver', function() {\n            console.log('i am observer');\n        });\n\n        // add observer\n        $('ul li#Observer').addClass('iObserver');\n\n        //remove observer\n        $('ul li#Observer').removeClass('iObserver');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>From your comment:</p>\n\n<blockquote>\n  <p>I just can't see how this is achieved when you have to tell the subject which elements to trigger by selectors instead of the subject having a list that the observer can register to</p>\n</blockquote>\n\n<p>Please correct me if I'm wrong, but you seem to be misunderstanding how the pattern was implemented in jQuery. You don't \"tell the subject which elements to trigger\", and the subject doesn't have \"a list that the observer can register to\" either. It works like this:</p>\n\n<ul>\n<li>The subject/publisher emits/triggers certain events (on certain circumstances you define).</li>\n<li>The observer/subscriber listens to certain events. It keeps a list of the events it subscribed to.</li>\n<li>That's all based on DOM events, so it's limited by the DOM Event Model.</li>\n</ul>\n\n<p>For example, consider the following HTML:</p>\n\n<pre><code>&lt;div id=\"div1\"&gt;div 1&lt;/div&gt;\n&lt;div id=\"div2\"&gt;div 2&lt;/div&gt;\n</code></pre>\n\n<p>Let's make the inner divs trigger a custom event called <code>'custom'</code>. You define when that should happen, on this example this will happen when they are clicked:</p>\n\n<pre><code>$('div').on('click', function(e) {\n    $(this).trigger('custom');\n});\n</code></pre>\n\n<p>Now let's make the <code>document</code> element subscribe to that custom event:</p>\n\n<pre><code>$(document).on('custom', function(e) {\n    console.log('document is handling custom event triggered by ' + e.target.id);\n});\n</code></pre>\n\n<p>When the custom event is triggered by one of the divs, the observer/subscriber is notified and a message is logged to the console.</p>\n\n<p>The example uses <code>document</code> as the observer for a reason: events bubble up the DOM tree, and can only be caught by elements that are ancestors of the one that triggered it. Since <code>document</code> is the root of the DOM tree, it can see all events. If <code>#div1</code> was our observer, it would only see events triggered by <code>#div1</code> itself, but not the ones triggered by <code>#div2</code>. </p>\n\n<p>Maybe that limitation is what confused you?</p>\n\n<hr>\n\n<p>There are ways to circumvent that limitation, but usually, if you want to do something to <code>#div1</code> based upon an event triggered by <code>#div2</code>, you just do it from the callback you have setup on the <code>document</code> element (or the closest common ancestor to both divs). Anyway, it seems you really want an alternative, so here is one in the form of a jQuery plugin:</p>\n\n<pre><code>$.fn.observe = function(eventName, callback) {\n    return this.each(function(){\n        var el = this;\n        $(document).on(eventName, function(){\n            callback.apply(el, arguments);\n        })\n    });\n}\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>$('#div1').observe('custom', function(e) {\n    // do something\n});\n</code></pre>\n\n<p>Live example: <a href=\"http://jsfiddle.net/JwJsP/1\">http://jsfiddle.net/JwJsP/1</a></p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>If you're still looking for some implementation using the events engine of jQuery you can try this code:</p>\n\n<pre><code>//The implementation   \n(function($) {\n\n    var o = $({});\n\n    $.each({\n        trigger: 'publish',\n        on: 'subscribe',\n        off: 'unsubscribe'\n    }, function(key, val) {\n        jQuery[val] = function() {\n            o[key].apply(o, arguments);\n        };\n    });\n\n})(jQuery);\n\n\n// The way to use it is this:\nvar somedata = [1, 2, 3, 5, 4, 7, 8];\n$.publish('myEvent', somedata); // with data\n$.publish('myEvent'); // without data\n\n$.subscribe('myEvent', function(event, data) {\n    // handle the event\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've been looking over the internet for examples of implementing the observer pattern in jquery.</p>\n\n<p>I would like to have it like this</p>\n\n<pre><code>observer1.observe(subject);\nobserver2.observe(subject);\n</code></pre>\n\n<p>Define some custom event callbacks for the observers</p>\n\n<pre><code>observer1.bind('customEvent', function(contextData) {\n  //Some code\n});\nobserver1.bind('anotherCustomEvent', function(contextData) {\n  //Some code  \n});\nobserver2.bind('customEvent', function(contextData) {\n  //Some code  \n});\n</code></pre>\n\n<p>The following line would then trigger the customEvent callbacks of both observers</p>\n\n<pre><code>subject.trigger('customEvent', contextData);\n</code></pre>\n\n<p>while the following would fire anotherCustomEvent on observer1 only, since observer2 doesn't have that custom event binded</p>\n\n<pre><code>subject.trigger('anotherCustomEvent', contextData);\n</code></pre>\n\n<p>Guides on the internet is more general:</p>\n\n<pre><code>$( document ).on( \"topicName\" , function () {\n  //..perform some behaviour\n});\n\n$( document ).trigger( \"topicName\" );\n</code></pre>\n\n<p>(Example from <a href=\"http://addyosmani.com/resources/essentialjsdesignpatterns/book/#observerpatternjquery\" rel=\"nofollow\">http://addyosmani.com/resources/essentialjsdesignpatterns/book/#observerpatternjquery</a>)\nI can't see how the above code can be used to accomplish what I'm looking for. </p>\n\n<p>Either i would have to make it like this (if I keep it like the above example):</p>\n\n<pre><code>$(document).on(\"customEvent\", function () {\n  observer1.trigger(\"customEvent\");\n  observer2.trigger(\"customEvent\");\n});\n\n$(subject).click(function() { \n  $(document).trigger(\"customEvent\");\n});\n</code></pre>\n\n<p>or a little bit better:</p>\n\n<pre><code>$(subject).click(function() { \n  observer1.trigger(\"customEvent\");\n  observer2.trigger(\"customEvent\");\n});\n</code></pre>\n\n<p>Either way I'm stuck with having to edit the subject-click-callback or document-customEvent-callback instead of telling the observer to subscribe to the subject.</p>\n\n<p>Have I misunderstood observer pattern or is there a way to achieve what I'm looking for?</p>\n\n<p><a href=\"http://addyosmani.com/resources/essentialjsdesignpatterns/book/#observerpatternjavascript\" rel=\"nofollow\">http://addyosmani.com/resources/essentialjsdesignpatterns/book/#observerpatternjavascript</a> mention Publish/Subscribe Pattern a bit further down in that chapter. That could be a way for me, but I'm missing the code behind the example.</p>\n",
            "last_activity_date": 1424272179,
            "question_id": 12590091,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "observer-pattern"
            ],
            "title": "Jquery Observer pattern"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I will share how this was done in one of the projects that used BoilerplateJS. On this project we used OAuth 2.0 for authentication. </p>\n\n<ul>\n<li><p>We had a separate login page which was NOT using BoilerplateJS OR complex JS. The reason to keep it separate is that authentication may depend on URL redirection, which is not handled best with JS.</p></li>\n<li><p>Once user is correctly authenticated, we receive the auth_token of the server session and store it as a JS variable. We used 'settings' of global Boiler.Context to store this token. Since settings are inherited to child contexts, we were able to access it from any where.</p></li>\n<li><p>For authorization purposes, then we then downloaded a simple ACL for the logged user that contains the authorized access keys. These keys were just for client validations to show/hide controls. Real authorization was performed on backend services.</p></li>\n<li><p>We wanted the BoilerplateJS components to be fully self contained including authentication of it. Therefore if a particular component's viewmodel receive an unauthorized 401 HTTP response from server (either not logged-in OR or session expiry) we rendered component differently there, without redirecting user to the login page.</p></li>\n<li><p>Since we did not redirect, user was able to make use of other information on the page even the BoilerplateJS component was not actively displaying it's content. We had a rendered some error information on the component with a link to re-login.</p></li>\n<li><p>Handling of this was done via a generic error handler we created. From component.js, we pass a error callback function to our viewmodel (you may have this on context itself too). This callback function is used by the viewmodel to notify any error occurred within it. In the case of 401 HTTP code, this handler is invoked asking component.js to render UI with error information and a link to re-login.</p></li>\n<li><p>User clicks on the re-login URL to get back to the login page. This URL contains a back reference to the originated URL, such that user is able to get to the page where he was after authentication.</p></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>With <a href=\"http://boilerplatejs.org\" rel=\"nofollow\">BoilerplateJS</a> setup, what is the recommended way to handle authorization and authentication?</p>\n\n<p>Obviously on the server-side you'd check cookies etc to know who's logged in. But, on the client, how would you know if a user is logged in and what their username etc are?</p>\n",
            "last_activity_date": 1348465937,
            "question_id": 12545476,
            "score": 3,
            "tags": [
                "javascript",
                "boilerplatejs"
            ],
            "title": "BoilerplateJS: recommended way to handle authorization and authentication"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>you can specify <code>dir=\"rtl\"</code> in your html tags for the correct presentation  with php</p>\n\n<p>in your CMS or if you aren't using one, when storing the context to the DB you can have a option to store a variable with the direction of text the author used.</p>\n\n<p>So, when fetching the post, you can also fetch the option the author marked.</p>\n\n<p>otherwise, like the fellow programmers have suggested, parse the content and see if its arabic characters or latin characters.</p>\n\n<p><strong>example</strong></p>\n\n<pre><code>&lt;body dir=\"&lt;?php se_11787707_get_post_language(); ?&gt;\"&gt;\n</code></pre>\n\n<p>without more information on how you are publishing your posts, i can't detail much more.\nplease provide <em>how</em> you are storing your posts and how you are fetching them.</p>\n\n<p>I've built a site using this tecnique and i deal with arabic rtl content everyday. it's very simple:</p>\n\n<p><strong>a working example of dir=\"rtl\"</strong></p>\n\n<p><a href=\"http://jsfiddle.net/GreenOak/Uk5g3/\" rel=\"nofollow\">jsfiddle.net</a></p>\n\n<p>reference: <a href=\"http://www.w3.org/TR/html401/struct/dirlang.html\" rel=\"nofollow\">w3.org</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You'll need to create a function that has all the letters you know are RTL and check when loading. To display RTL you need the CSS attributes, <code>direction</code>, <code>text-align</code>, and <code>unicode-bidi</code>.</p>\n\n<p><strong>Demo:</strong> <sub><sub><sub><a href=\"http://jsfiddle.net/ThinkingStiff/Hcx6H/\"><img src=\"http://i.stack.imgur.com/NI3c4.png\" alt=\"jsFiddle\"></a></sub></sub></sub></p>\n\n<h3>Script</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>function checkRtl( character ) {\n    var RTL = ['\u0627','\u0628','\u067e','\u062a','\u0633','\u062c','\u0686','\u062d','\u062e','\u062f','\u0630','\u0631','\u0632','\u0698','\u0633','\u0634','\u0635','\u0636','\u0637','\u0638','\u0639','\u063a','\u0641','\u0642','\u06a9','\u06af','\u0644','\u0645','\u0646','\u0648','\u0647','\u06cc'];\n    return RTL.indexOf( character ) &gt; -1;\n};\n\nvar divs = document.getElementsByTagName( 'div' );\n\nfor ( var index = 0; index &lt; divs.length; index++ ) {\n    if( checkRtl( divs[index].textContent[0] ) ) {\n        divs[index].className = 'rtl';\n    } else {\n        divs[index].className = 'ltr';\n    };\n};\n</code></pre>\n\n<h3>CSS</h3>\n\n<pre class=\"lang-css prettyprint-override\"><code>.rtl {\n    direction: rtl; \n    text-align: right;\n    unicode-bidi: bidi-override;\n}\n\n.ltr {\n    direction: ltr; \n    text-align: left;\n    unicode-bidi: bidi-override;\n}\n</code></pre>\n\n<h3>HTML</h3>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div&gt;hello&lt;/div&gt;\n&lt;div&gt;\u0638&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I have a community web site and I want that users write</p>\n\n<ul>\n<li>English posts with direction LTR / text-align: left) and</li>\n<li>Arabic posts with direction RTL / text-align: right.</li>\n</ul>\n\n<p>E.g. Google+ and twitter provides such an POST solution.</p>\n\n<p>I want add automatically direction  attribute to post when i read it from data base post load in rtl or ltr ! but i don't know how ?!</p>\n",
            "last_activity_date": 1387449317,
            "question_id": 11787351,
            "score": 3,
            "tags": [
                "javascript",
                "html",
                "css",
                "internationalization",
                "right-to-left"
            ],
            "title": "use text-align smartly (if english dir=ltr if arabic dir=rtl)"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<pre><code>preg_match('#var a = (.*?);\\s*$#m', $html, $matches);\necho $matches[1];\n</code></pre>\n\n<p>Explanation:</p>\n\n<ul>\n<li>Regex will try to match any line containing <code>var a =</code></li>\n<li>It will then match everything up until a <code>;</code>, any amount of spaces <code>\\s*</code>, then the end of the line <code>$</code></li>\n<li>The <code>m</code> modifier will try to match each line independently, without it, the <code>$</code> would just match then end of the string which would be a bit useless</li>\n</ul>\n\n<p>The <em>any amount of spaces</em> is only there in case you have some spaces after the definition, no other reason (e.g. human error). If you're sure that won't happen, you can remove <code>\\s*</code>.</p>\n\n<p>Note that this doesn't replace a full-blown parser. You will need to make modifications if <code>a</code> is defined over more than one line, if <code>a</code> is defined more than once (think about scope, you can have <code>var a</code> on a global scope, then <code>var a</code> within a function), etc.</p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I have a large HTML file, containing a lot of content. I want to get a JavaScript variable, named <code>'a'</code> for example, from the whole file.</p>\n\n<p>Example: (deleted lots of the actual content)</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;script&gt;\n            var a = [{'a': 1, 'b': 2}];\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        ....\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>What should come from the above is:</p>\n\n<pre><code>[{'a': 1, 'b': 2}]\n</code></pre>\n",
            "last_activity_date": 1377194744,
            "question_id": 11378690,
            "score": 3,
            "tags": [
                "php",
                "javascript",
                "arrays",
                "web-scraping"
            ],
            "title": "Regular expression extract a JavaScript variable in PHP"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Please specify your question. I'm assuming you want a relative date parsing and the maximum should be \"yesterday\".</p>\n\n<p>I never used moment.js but as far as the docs say, it's pretty simple.</p>\n\n<p>Use <code>var now = moment();</code> as your current date. Then parse every <code>time</code>-Tag in your DOM with <code>var time = moment($(e).attr('datetime'));</code></p>\n\n<p>To check the difference use the <code>diff()</code> method:</p>\n\n<pre><code>if(now.diff(time, 'days') &lt;= 1) {\n    // getting the relative output\n}\n</code></pre>\n\n<p>Use <code>var ago = now.from(time)</code> to get the relative output and replace the time in your DOM with your <code>ago</code> variable.</p>\n\n<p><strong>Update based on comment</strong>:</p>\n\n<p>Okay, well untested, but that's the basic idea:</p>\n\n<p><strong>Updated the code.</strong></p>\n\n<pre><code>var now = moment();\n\n$('time').each(function(i, e) {\n    var time = moment($(e).attr('datetime'));\n\n    if(now.diff(time, 'days') &lt;= 1) {\n        $(e).html('&lt;span&gt;' + time.from(now) + '&lt;/span&gt;');\n    }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Thanks to @JohannesKlau\u00df for the code. This is basically how I executed his answer and how I am referencing the code on my website.</p>\n\n<pre><code>&lt;script src=\"/js/moment.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/js/moment.executor.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Where, <strong>moment.min.js</strong> is the Moment.js library, and <strong>moment.executor.js</strong> has this code (courtesy of Johannes):</p>\n\n<pre><code>jQuery(document).ready(function($){\n\n    var now = moment();\n\n    $('time').each(function(i, e) {\n        var time = moment($(e).attr('datetime'));\n\n        if(now.diff(time, 'days') &lt;= 1) {\n            $(e).html('&lt;span&gt;' + time.from(now) + '&lt;/span&gt;');\n        }\n    });\n\n});\n</code></pre>\n\n<p><em><strong>PS:</strong> You can actually edit <strong>moment.min.js</strong> and add the aforementioned code right in it, at the end. This way, you will be saving one additional HTTP request. :P</em></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can also use the <a href=\"http://momentjs.com/docs/#/displaying/calendar-time/\" rel=\"nofollow\"><code>moment().calendar()</code></a> function, which will format for you dates close to today (up to a week from today):</p>\n\n<pre><code>$('time').each(function(i, e) {\n  var time = moment($(e).attr('datetime'));\n\n  $(e).html('&lt;span&gt;' + time.calendar() + '&lt;/span&gt;');\n});\u200b\n</code></pre>\n\n<p>You can customize the format strings with this code:</p>\n\n<pre><code>moment.calendar = {\n  lastDay : '[Yesterday at] LT',\n  sameDay : '[Today at] LT',\n  nextDay : '[Tomorrow at] LT',\n  lastWeek : '[last] dddd [at] LT',\n  nextWeek : 'dddd [at] LT',\n  sameElse : 'L'\n};\n</code></pre>\n\n<p>If you are not interested in formatting dates prior to yesterday, just change the formats of <code>lastWeek</code> and <code>nextWeek</code> to full date-time format (e.g. <code>'L'</code>).</p>\n\n<hr>\n\n<p><strong>UPDATE 2013-09-06</strong> Apparently it has a new syntax that also enables you to localize it: </p>\n\n<pre><code>moment.lang('en', {\n  calendar: {\n    lastDay : '[Yesterday at] LT',\n    sameDay : '[Today at] LT',\n    nextDay : '[Tomorrow at] LT',\n    lastWeek : '[last] dddd [at] LT',\n    nextWeek : 'dddd [at] LT',\n    sameElse : 'L'\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Extending @its_me's implementation above, here's a version that</p>\n\n<ul>\n<li>updates all  elements with a given class</li>\n<li>keeps them updated every minute (so '1 minute ago' becomes '2 minutes ago')</li>\n<li>switches to a different format when +-1 day from now (e.g. Last Tuesday at 11:45 PM)</li>\n</ul>\n\n<p>Here's a <a href=\"http://jsfiddle.net/385gz/5/\" rel=\"nofollow\">JSFiddle</a> for you to play with.</p>\n\n<p>Your HTML:</p>\n\n<pre><code>&lt;time class=\"cw-relative-date\" datetime=\"2014-06-09T12:32:10-00:00\"&gt;&lt;/time&gt;\n</code></pre>\n\n<p>The JS to include:</p>\n\n<pre><code>(function () {\n\n// Define a function that updates all relative dates defined by &lt;time class='cw-relative-date'&gt;\nvar updateAllRelativeDates = function() {\n        $('time').each(function (i, e) {\n            if ($(e).attr(\"class\") == 'cw-relative-date') {\n\n                // Initialise momentjs\n                var now = moment();\n                moment.lang('en', {\n                    calendar : {\n                        lastDay : '[Yesterday at] LT',\n                        sameDay : '[Today at] LT',\n                        nextDay : '[Tomorrow at] LT',\n                        lastWeek : '[Last] dddd [at] LT',\n                        nextWeek : 'dddd [at] LT',\n                        sameElse : 'D MMM YYYY [at] LT'\n                    }\n                });\n\n                // Grab the datetime for the element and compare to now                    \n                var time = moment($(e).attr('datetime'));\n                var diff = now.diff(time, 'days');\n\n                // If less than one day ago/away use relative, else use calendar display\n                if (diff &lt;= 1 &amp;&amp; diff &gt;= -1) {\n                    $(e).html('&lt;span&gt;' + time.from(now) + '&lt;/span&gt;');\n                } else {\n                    $(e).html('&lt;span&gt;' + time.calendar() + '&lt;/span&gt;');\n                }\n            }\n        });\n    };\n\n// Update all dates initially\nupdateAllRelativeDates();\n\n// Register the timer to call it again every minute\nsetInterval(updateAllRelativeDates, 60000);\n\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm unable to follow the <a href=\"http://momentjs.com/docs/\" rel=\"nofollow\">Moment.js documentation</a>, and need some help with setting it up. I've referenced the <code>moment.min.js</code> file properly on my webpage like so:</p>\n\n<pre><code>&lt;script src=\"/js/moment.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Coming to the HTML part of my webpage, I have two different datetime's on the same page:</p>\n\n<p><strong>Published Date</strong></p>\n\n<pre><code>&lt;time class=\"pubdate\" datetime=\"2012-06-09T12:32:10-04:00\" pubdate&gt;\n    June 09, 2012\n&lt;/time&gt;\n</code></pre>\n\n<p><strong>Last Modified Date</strong></p>\n\n<pre><code>&lt;time class=\"updated\" itemprop=\"dateModified\" datetime=\"2012-06-09T12:32:10-04:00\"&gt;\n    June 9, 2012 ~ 12:32\n&lt;/time&gt;\n</code></pre>\n\n<p><strong>Important!</strong> The relative date parsing shouldn't go beyond \"yesterday\". As for everything beyond, the <code>&lt;time&gt;</code> tags should display the exact datetime's they would without the JavaScript -- i.e. Moment.js shouldn't touch or parse dates that are past \"yesterday\".</p>\n\n<p>Now, to make the library do its job as aforementioned, I need to call a function after the library reference. So, the question is, what should the function be? (Using jQuery is fine, as I already reference the library on my webpage.)</p>\n",
            "last_activity_date": 1407118665,
            "question_id": 10967736,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "relative-date",
                "momentjs"
            ],
            "title": "How to use Moment.js?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can usually do that by using <a href=\"http://www.oxymoronical.com/experiments/apidocs/interface/nsILoadContext\"><code>nsILoadContext</code> interface</a> (sadly barely documented) attached to the request or its load group. Here is how you would do that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function getWindowForRequest(request)\n{\n  if (request instanceof Components.interfaces.nsIRequest)\n  {\n    try\n    {\n      if (request.notificationCallbacks)\n      {\n        return request.notificationCallbacks\n                      .getInterface(Components.interfaces.nsILoadContext)\n                      .associatedWindow;\n      }\n    } catch(e) {}\n\n    try\n    {\n      if (request.loadGroup &amp;&amp; request.loadGroup.notificationCallbacks)\n      {\n        return request.loadGroup.notificationCallbacks\n                      .getInterface(Components.interfaces.nsILoadContext)\n                      .associatedWindow;\n      }\n    } catch(e) {}\n  }\n\n  return null;\n}\n</code></pre>\n\n<p>Note that this function is expected to return <code>null</code> occasionally - not every HTTP request is associated with a window.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>i created an example on mdn page but when i tested it last night i have no idea how i got access to chromeEventHandler from loadContext (<a href=\"https://developer.mozilla.org/en-US/Add-ons/Code_snippets/Tabbed_browser?redirectlocale=en-US&amp;redirectslug=Code_snippets%2FTabbed_browser#Getting_the_browser_that_fires_the_http-on-modify-request_notification_%28example_code_updated_for_loadContext%29\" rel=\"nofollow\">https://developer.mozilla.org/en-US/Add-ons/Code_snippets/Tabbed_browser?redirectlocale=en-US&amp;redirectslug=Code_snippets%2FTabbed_browser#Getting_the_browser_that_fires_the_http-on-modify-request_notification_%28example_code_updated_for_loadContext%29</a>)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm developing a firefox extension which requires me to intercept page loads by filtering out some HTTPRequests.\nI did that using the instructions given <a href=\"https://developer.mozilla.org/en/XUL_School/Intercepting_Page_Loads\" rel=\"nofollow\">here</a>. Please note that my question draws from the content of this link.</p>\n\n<p>I used the method given under the section of <a href=\"https://developer.mozilla.org/en/XUL_School/Intercepting_Page_Loads#HTTP_Observers\" rel=\"nofollow\">HTTPObservers</a>. And it worked, I am indeed able to extract the respective urls of the Requests being sent out.</p>\n\n<p>However, another thing which I really require is to get the target DOM Window where the contents pertaining to the HTTPRequest were about to be loaded. Is it possible using HTTPObservers?</p>\n\n<p>In the link above, another way has been described using <a href=\"https://developer.mozilla.org/en/XUL_School/Intercepting_Page_Loads#WebProgressListeners\" rel=\"nofollow\">WebProgressListeners</a>. </p>\n\n<p>I tried that out as well. The onLocationChange() method only returns location changes in the url bar. Is it somehow possible to get the HTTPRequest urls using any of these progress listeners? Because if so, then if I understand correctly, aWebProgress.DOMWindow would give me the window I require. </p>\n\n<p>Note: I am using gwt for the extension and the JSNI for the above mentioned part.</p>\n",
            "last_activity_date": 1391708772,
            "question_id": 10719606,
            "score": 3,
            "tags": [
                "javascript",
                "gwt",
                "firefox-addon",
                "httprequest"
            ],
            "title": "Is it possible to know the target DOMWindow for an HTTPRequest?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The default <strong>PHP session handler mechanism uses</strong> both your <strong>Cookie and your User-Agent</strong> to match a session to a user. As Flash identifies itself to the server with the user-agent of <em>\"ShockWave Flash\"</em>, which is different than your browser's UA, php assigns a new session to the request.</p>\n\n<p>You can check this if you output <code>_POST</code> data and then compare those values with the ones you get after <code>session_start()</code> or if you change your browser UA to exactly match that sent by Flash.</p>\n\n<p><strong>The solution?</strong></p>\n\n<p>Pass the session ID to the server whatever way you want, the default being <code>_POST</code>, and initialize the session with the correct id.</p>\n\n<p>SWFUpload provides you with <code>post_params</code> that \"<a href=\"http://demo.swfupload.org/Documentation/\" rel=\"nofollow\"><em>defines the name/value pairs that will be posted with each uploaded file</em></a>\".</p>\n\n<pre><code>// SWFUpload example - taken from you own config file\npost_params : {\n    \"sid\" : sid =&gt; THIS WOULD BE YOUR SESSION ID!; you can put &lt;?=session_id()?&gt;\n},\n</code></pre>\n\n<p>And then on the server side...</p>\n\n<pre><code>// Prior to starting the session as you normally do you'll want to check if \n// you're trying to pass a session id by post, if so, initialize session with it\n&lt;?php\nif(isset($_POST['sid']))\n{\n    session_id($_POST[\"sid\"]);\n}\nsession_start();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>so I have this javascript code for loading swfuploader onto a page ( <a href=\"http://code.google.com/p/swfupload/\" rel=\"nofollow\">http://code.google.com/p/swfupload/</a>)</p>\n\n<pre><code>swfuPubThumbnailUploader = new SWFUpload({\n  upload_url : \"/upload_thumbnail\",\n  flash_url : \"/Flash/swfupload.swf\",\n  file_size_limit : 512 + \" MB\",\n  file_post_name: 'files[swf]',\n  file_types : '*.jpg;*.jpeg;*.gif;*.png',\n  file_types_description: \"Image Files\",\n  file_queue_limit : 1,\n  button_placeholder_id: 'swf-trans-file-selector',\n  button_text: '',\n  button_image_url: '',\n  button_width: \"85\",\n  button_height: \"25\",\n  button_cursor : SWFUpload.CURSOR.HAND,\n  button_window_mode : SWFUpload.WINDOW_MODE.TRANSPARENT,\n\n  post_params : {\n                \"sid\" : sid\n  },\n\n  preserve_relative_urls : true,\n  file_queued_handler : fileQueued,\n  file_queue_error_handler : fileQueueError,\n  file_dialog_complete_handler : fileDialogComplete,\n  file_dialog_start_handler : sLibraryFileDialogStart,\n  upload_start_handler : sLibraryPubUploadStart,\n  upload_progress_handler : sLibraryPubUploadProgress,\n  upload_error_handler : sLibraryPubUploadError,\n  upload_success_handler : sLibraryPubUploadSuccess,\n  upload_complete_handler : sLibraryPubUploadComplete,\n  queue_complete_handler : queueComplete, // Queue plugin event\n\n  custom_settings: {\n    progressTarget : (\"fsPPUploadProgress\")\n  }\n});\n</code></pre>\n\n<p>but then whenever I upload (upload images, to be more specific...) using swfuploader, swfuploader will complain about 302 error which suggest that the url is redirecting...but then when I visited the upload url '/upload_thumbnail' no redirection takes place and the upload url loaded fine...so I checked out fiddler to check the two cases and here are the requests for each of the case</p>\n\n<p>For when I visited /upload_thumbnail via browser:</p>\n\n<pre><code>GET /upload_thumbnail HTTP/1.1\nHost: my.domain.com\nUser-Agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20100101 Firefox/12.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: en-us,en;q=0.5\nAccept-Encoding: gzip, deflate\nConnection: keep-alive\nCookie: __utma=171146939.260757561.1311084520.1336078159.1336400574.117; __utmz=171146939.1311084520.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); __utma=104299925.1228643063.1313075490.1335542105.1335567483.41; __utmz=104299925.1333981938.38.25.utmcsr=my.domain.com:8090|utmccn=(referral)|utmcmd=referral|utmcct=/browse/MD-2760; __qca=P0-29539114-1325619242917; SESS5ccc5f20cb72179af2f569e77eaa49da=6vde0rln7q3384k5lcvedsgfh3; SimpleSAMLAuthToken=_c2f653a6e9b18b10439d73849fb1142a7d43851998; __utmc=171146939; has_js=1\nIf-Modified-Since: Mon, 07 May 2012 19:13:38 +0000\nIf-None-Match: \"1336418018\"\n</code></pre>\n\n<p>Which loads fine with status 200</p>\n\n<p>Then the one from swfuploader </p>\n\n<pre><code>POST /upload_thumbnail HTTP/1.1\nAccept: text/*\nContent-Type: multipart/form-data; boundary=----------gL6Ef1Ef1KM7Ij5gL6ae0gL6GI3GI3\nUser-Agent: Shockwave Flash\nHost: my.domain.com\nContent-Length: 847357\nConnection: Keep-Alive\nPragma: no-cache\nCookie: __utma=171146939.1934231828.1323362429.1328283903.1333582993.5; __utmz=171146939.1323362429.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); __utma=104299925.1653270920.1323362234.1334760245.1335992862.7; __utmz=104299925.1323362234.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); SESS5ccc5f20cb72179af2f569e77eaa49da=0qjn1gva2rhlcqiqp2g7liumd0; __qca=P0-1855943596-1327334275533\n</code></pre>\n\n<p>which ended up with status 302 and redirection to a login page....</p>\n\n<p>So I found out that the culprit is the Cookie: request....if I switch the browser's COOKIE request to the swfuploader's Cookie request the swfuploader request would load with status 200 properly...</p>\n\n<p>My first question is.....WHY? What's wrong with the swfuploader's Cookie request?</p>\n\n<p>And secondly, how can this be translated to my javascript SWFUpload code at the topmost such that the actual swfuploader in the browser will have its Cookie request fixed appropriately....</p>\n",
            "last_activity_date": 1369872269,
            "question_id": 10488110,
            "score": 3,
            "tags": [
                "javascript",
                "cookies",
                "http-headers",
                "httprequest",
                "swfupload"
            ],
            "title": "swfupload 302 error"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I would prepare a query with placeholders, then execute it for each row with the right arguments. Something like this (JS part only, using <a href=\"http://documentcloud.github.com/underscore/\">underscore.js</a> for array helpers):</p>\n\n<pre><code>db.transaction(function(tx) {\n    var q = 'INSERT INTO Cost_Codes (Cost_Code_No, Name, Unit_Of_Measure) VALUES (?, ?, ?)';\n    _(rows).each(function(row) {\n        tx.executeSql(q, [row.code, row.name, row.unit]);\n    });\n});\n</code></pre>\n\n<p>Edit: a query with placeholders has two main benefits:</p>\n\n<ol>\n<li>It makes it a lot easier for the DB engine to cache and reuse query plans (because you are running the same query a hundred times instead of a hundred different queries once).</li>\n<li>It makes escaping data and avoiding SQL injections a lot easier.</li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I am trying to optimize the speed that my  Local database populates in a Web app that is being developed.  Currently, it uses PHP to access the Database and then inserts that data into the local database using Javascript.</p>\n\n<p>Problem is, anything more than a couple entries slows it down and I'm pretty sure it's because it executes an individual SQL query for EVERY row.  I've been reading up on transactions (Commits and Rollbacks and what not) and it seems like an answer but I'm not entirely sure how to implement it, or even where.</p>\n\n<p>Here is a sample of one of the functions that loads a particular table.</p>\n\n<pre><code>function ploadcostcodes()\n{\n$IPAddress = '';\n$User = '';\n$Password = '';\n$Database = '';\n$Company  = '';\n$No='';\n$Name='';\nploadSQLConnection($IPAddress,$User,$Password,$Database,$Company);\n</code></pre>\n\n<p>// This Connects to the actual database where the information comes from.</p>\n\n<pre><code>$Login = 'XXXXXXX';\n$conn=mssql_connect($IPAddress,$Login,$Password);\n if (!$conn )\n{\n      die( print_r('Unable to connect to server', true));\n}\n mssql_select_db($Database, $conn);\n\n $indent=\"        \";\n\n$sql=\"SELECT Cost_Code_No as No, Description as Name, Unit_of_Measure FROM v_md_allowed_user_cost_codes WHERE Company_No = \" . $Company . \" and User_No = '\" . $User . \"'\";\n\n $rs=mssql_query($sql);\n if (!$rs)\n {\n   exit(\"No Data Found\");\n }\n\n while ($row = mssql_fetch_array($rs))\n {\n     $No = addslashes($row['No']);\n     $Name = addslashes($row['Name']);\n     $Name = str_replace(\"'\",'`',$Name);\n     $Unit = addslashes($row['Unit_of_Measure']);\n\n  //THIS IS WHERE I SEE THE PROBLEM\n\n     echo $indent.\"exeSQL(\\\"INSERT INTO Cost_Codes (Cost_Code_No,Name,Unit_of_Measure) VALUES('\".$No.\"','\".$Name.\"','\".$Unit.\"')\\\",\\\"Loading Cost Codes...\\\"); \\r\\n\";\n }\n mssql_free_result($rs);\n mssql_close($conn);\n return 0;\n}\n</code></pre>\n\n<p>I don't know what needs the transaction(or even if that's what needs to be done).  There is MSSQL to access the data, SQLite to insert it and Javascript that runs PHP code. </p>\n",
            "last_activity_date": 1424390766,
            "question_id": 10031605,
            "score": 3,
            "tags": [
                "php",
                "javascript",
                "sqlite",
                "web-sql"
            ],
            "title": "Optimizing WebSQL Local Database Population"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>In your example, you should <code>createElement('img')</code>.</p>\n\n<p>In your link, <code>base64blob != Base64.encode(blob)</code>.</p>\n\n<p>This works, as long as your data is valid <a href=\"http://jsfiddle.net/SXFwP/\">http://jsfiddle.net/SXFwP/</a> (I didn't have any BMP images so I had to use PNG).</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I guess you had an error in the inline code of your image.\nTry this :</p>\n\n<pre><code>var image = document.createElement('image');\n\nimage.src=\"data:image/gif;base64,R0lGODlhDwAPAKECAAAAzMzM/////wAAACwAAAAADwAPAAACIISPeQHsrZ5ModrLlN48CXF8m2iQ3YmmKqVlRtW4MLwWACH+H09wdGltaXplZCBieSBVbGVhZCBTbWFydFNhdmVyIQAAOw==\";\nimage.width=100;\nimage.height=100;\nimage.alt=\"here should be some image\";\n\ndocument.body.appendChild(image);\n</code></pre>\n\n<p>Helpful link :<a href=\"http://dean.edwards.name/my/base64-ie.html\" rel=\"nofollow\">http://dean.edwards.name/my/base64-ie.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The problem was that I had hexadecimal data that needed to be converted to binary before being base64encoded.</p>\n\n<p>in PHP:</p>\n\n<pre><code>base64_encode(pack(\"H*\", $subvalue))\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 0
                },
                {
                    "body": "<p>You can convert your string into a <a href=\"http://www.javascripture.com/Uint8Array\" rel=\"nofollow\">Uint8Array</a> to get the raw data.  Then create a <a href=\"http://www.javascripture.com/Blob\" rel=\"nofollow\">Blob</a> for that data and pass to <a href=\"http://www.javascripture.com/URL#createObjectURL\" rel=\"nofollow\">URL.createObjectURL(blob)</a> to convert the Blob into a URL that you pass to <a href=\"http://www.javascripture.com/HTMLImageElement#src\" rel=\"nofollow\">img.src</a>.</p>\n\n<pre><code>var data = '424D5E070000000000003E00000028000000EF...';\n\n// Convert the string to bytes\nvar bytes = new Uint8Array(data.length / 2);\n\nfor (var i = 0; i &lt; data.length; i += 2) {\n    bytes[i / 2] = parseInt(data.substring(i, i + 2), /* base = */ 16);\n}\n\n// Make a Blob from the bytes\nvar blob = new Blob([bytes], {type: 'image/bmp'});\n\n// Use createObjectURL to make a URL for the blob\nvar image = new Image();\nimage.src = URL.createObjectURL(blob);\ndocument.body.appendChild(image);\n</code></pre>\n\n<p>You can try the complete example at: <a href=\"http://jsfiddle.net/nj82y73d/\" rel=\"nofollow\">http://jsfiddle.net/nj82y73d/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can also get BLOB object directly from XMLHttpRequest. Setting responseType to blob makes the trick. Here is my code:</p>\n\n<pre><code>var xhr = new XMLHttpRequest();\nxhr.open(\"GET\", \"http://localhost/image.jpg\");\nxhr.responseType = \"blob\";\nxhr.onload = response;\nxhr.send();\n</code></pre>\n\n<p>And the response function looks like this:</p>\n\n<pre><code>function response(e) {\n   var urlCreator = window.URL || window.webkitURL;\n   var imageUrl = urlCreator.createObjectURL(this.response);\n   document.querySelector(\"#image\").src = imageUrl;\n}\n</code></pre>\n\n<p>We just have to make an empty image element in HTML:</p>\n\n<pre><code>&lt;img id=\"image\"/&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am retrieving a Blob image from a database, and I'd like to be able to view that image using javascript. The following code produces a broken image icon on the page:</p>\n\n<pre><code>var image = document.createElement('image');\n    image.src = 'data:image/bmp;base64,'+Base64.encode(blob);\n    document.body.appendChild(image);\n</code></pre>\n\n<p>Here is a jsFiddle containing all the code required, including the blob. The completed code should properly display an image.</p>\n\n<p>Thank you for your help.</p>\n\n<p><a href=\"http://jsfiddle.net/PDhCy/1/\" rel=\"nofollow\">http://jsfiddle.net/PDhCy/1/</a></p>\n",
            "last_activity_date": 1425047805,
            "question_id": 7650587,
            "score": 3,
            "tags": [
                "javascript",
                "image",
                "base64",
                "blob"
            ],
            "title": "Using Javascript to Display Blob"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p><code>colorSelector</code> is commented out. JavaScript only works within the DOM, and commented out portions aren't in the DOM.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>&lt;!--&lt;div class=\"colorSelector\" id=\"0-0\"&gt;\n        &lt;div class=\"gbSelector\" id=\"1-0\"&gt;\n            &lt;table style=\"none\" id=\"2-0\"&gt;&lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;--&gt;\n</code></pre>\n\n<p>The above code is gray for a reason: it's a comment. Comments aren't parsed by the browser at all and have no influence on the page whatsoever.</p>\n\n<p>You'll have to parse the HTML, read the comments, and make a <em>new</em> DOM object with the contents of the comment.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Since you said that your <code>getElementById(\"0-0\")</code> is successful, then clearly you don't actually have the nodes commented out.</p>\n\n<p>I'm guessing you're doing:</p>\n\n<pre><code>document.getElementById(\"0-0\").getElementsByClassName('colorSelector');\n</code></pre>\n\n<p>...which will not work because the element selected by ID does not have any descendants with that class.</p>\n\n<hr>\n\n<p>Since you show HTML comments in the markup, I'd also wonder if you have some different element on the page with the ID <code>\"0-0\"</code>. Take a look for that.</p>\n\n<hr>\n\n<p>If your nodes are actually commented out, you'll need to first select the comment, and replace it with the markup contained inside:</p>\n\n<pre><code>var container = document.getElementById('test1'),\n    comment = container.firstChild;\n\nwhile( comment &amp;&amp; comment.nodeType !== 8 ) {\n    comment = comment.nextSibling;\n}\n\nif( comment ) {\n    container.innerHTML = comment.nodeValue;\n}\n</code></pre>\n\n<p>...resulting in:</p>\n\n<pre><code>&lt;div class=\"testA\" id=\"test1\"&gt;\n    &lt;div class=\"colorSelector\" id=\"0-0\"&gt;\n        &lt;div class=\"gbSelector\" id=\"1-0\"&gt;\n            &lt;table style=\"none\" id=\"2-0\"&gt;&lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>...but there again, this doesn't seem likely since your <code>getElementsById</code> does work.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Please describe what you are doing with the returned results. There is a significant difference between a nodeList and a node, nodeLists are <strong>LIVE</strong>.</p>\n\n<p>So if you assign a nodeList returned by <code>getElementsByClassName()</code> (or similar) to a variable, this variable will change when you remove the nodes inside the nodeList from the DOM.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>I now append the first div</p>\n</blockquote>\n\n<p>How do you do that? What you have in the <code>responseXML</code> are XML elements, and not HTML elements.</p>\n\n<ul>\n<li><p>You shouldn't be able to <code>appendChild</code> them into a non-XHTML HTML document;</p></li>\n<li><p>actually you shouldn't be able to <code>appendChild</code> them into another document at all, you're supposed to use <code>importNode</code> to get elements from one document to another, otherwise you should get <code>WRONG_DOCUMENT_ERR</code>;</p></li>\n<li><p>even if you managed to insert them into an HTML due to browser laxness, they're still XML elements and are not semantically HTML elements. Consequently there is nothing special about the <code>class</code> attributes; just having that name doesn't make the attribute actually represent a class. <code>getElementsByClassName</code> won't return elements just because they have attributes with the <em>name</em> <code>class</code>; they have to be elements whose language definition associates the attributes with the concept of classness (which in general means HTML, XHTML or SVG).</p></li>\n</ul>\n\n<p>(The same should be true of the <code>id</code> attributes; just having an attribute called <code>id</code> doesn't make it conceptually an <code>ID</code>. So <code>getElementById</code> shouldn't be working. There is a way to associate arbitrary XML attributes with ID-ness, which you don't get with class-ness, by using an <code>&lt;!ATTLIST</code> declaration in the doctype. Not usually worth bothering with though. Also <code>xml:id</code> is a special case, in implementations that support XML ID.)</p>\n\n<p>You could potentially make it work if you were using a native-XHTML page by putting suitable <code>xmlns</code> attributes on the content to make it actual-XHTML and not just arbitrary-XML, and then using <code>importNode</code>. But in general this isn't worth it; it tends to be simpler to return HTML markup strings (typically in JSON), or raw XML data from which the client-side script can construct the HTML elements itself.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's a way to do it for Firefox, Opera, Chrome and Safari. Basically, you just do div.innerHTML = div.innerHTML to reinterpret its content as HTML, which will make that class attribute from the XML file be treated as an HTML class name.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;title&gt;&lt;/title&gt;\n        &lt;script&gt;\n            window.addEventListener(\"DOMContentLoaded\", function() {\n                var div = document.getElementsByTagName(\"div\")[0];\n                var req = new XMLHttpRequest();\n                req.onreadystatechange = function() {\n                    if (this.readyState === 4 &amp;&amp; this.status === 200) {\n                        var doc = this.responseXML;\n                        div.appendChild(document.importNode(doc.getElementsByTagName(\"response\")[0].getElementsByTagName(\"div\")[0], true));\n                        div.innerHTML = div.innerHTML;\n                        alert(document.getElementsByClassName(\"colorSelector\").length);\n                    }\n                };\n                req.open(\"GET\", \"div.xml\");\n                req.send();\n            }, false);\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div class=\"testA\"&gt;&lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Remove the this.status === 200 if you're testing locally in browsers that support xhr locally.</p>\n\n<p>The importNode() function doesn't seem to work in IE (9 for example). I get a vague \"interface not supported\" error.</p>\n\n<p>You could also do it this way:</p>\n\n<pre><code>var doc = this.responseXML;\nvar markup = (new XMLSerializer()).serializeToString(doc.getElementsByTagName(\"response\")[0].getElementsByTagName(\"div\")[0]);\ndiv.innerHTML = markup;\n</code></pre>\n\n<p>as long as the markup is HTML-friendly as far as end tags for empty elements are concerned.</p>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>(I ask my question again after the first one was terribly formulated)</p>\n\n<p>I face the following problem:</p>\n\n<pre><code>&lt;div class=\"testA\" id=\"test1\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>The above written element is predefined. I now load a xml tree via <a href=\"http://lls-test.de/JS-Library/index.php\" rel=\"nofollow\">XMLHttpRequest &amp; Co.</a> delivering the following response:</p>\n\n<pre><code>&lt;response&gt;\n    &lt;div class=\"colorSelector\" id=\"0-0\"&gt;\n        &lt;div class=\"gbSelector\" id=\"1-0\"&gt;\n            &lt;table style=\"none\" id=\"2-0\"&gt;&lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/response&gt;\n</code></pre>\n\n<p>I now append the first <code>div</code> using</p>\n\n<pre><code>request.responseXML.getElementsByTagName(\"response\")[0]\n                       .getElementsByTagName(\"div\")[0]\n</code></pre>\n\n<p>into the predefined <code>div</code></p>\n\n<pre><code>&lt;div class=\"testA\" id=\"test1\"&gt;\n</code></pre>\n\n<p>The final document looks like this (checked using development tools):</p>\n\n<pre><code>&lt;div class=\"testA\" id=\"test1\"&gt;\n    &lt;div class=\"colorSelector\" id=\"0-0\"&gt;\n        &lt;div class=\"gbSelector\" id=\"1-0\"&gt;\n            &lt;table style=\"none\" id=\"2-0\"&gt;&lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>When I now try to get the element <code>&lt;div class=\"colorSelector\" id=\"0-0\"&gt;</code> using <code>getElementById(\"0-0\")</code> I get the expected result.</p>\n\n<p>But using <code>getElementsByClassName(\"colorSelector\")</code> returns <code>[]</code>.</p>\n\n<p>Did I miss something? Is it probably a leftover of the fact the nodes were of type <code>Element</code> and not <code>HTMLElement</code>?</p>\n",
            "last_activity_date": 1317480751,
            "question_id": 7615162,
            "score": 3,
            "tags": [
                "javascript",
                "ajax",
                "getelementsbyclassname"
            ],
            "title": "getElementsByClassName returns [] instead of asynchronous appended node"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>OK.  Found the answer.  It's a limit of 512 <em>local</em> references. What you need to do is convert them to global references using NewGlobalRef(), or to clean up the locals shortly \nafter creating them if they're not needed. Changing them to global references will leak memory however. </p>\n\n<p>Check out <a href=\"http://groups.google.com/group/android-ndk/browse_thread/thread/4c5e6c6eaf06869b\" rel=\"nofollow\">this</a> thread for more information on this known issue.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Phobos' answer has some pertinent information, but it doesn't include how it applies to your problem or how to fix your specific problem.  I ran into a similar issue while doing some performance testing in android javascript that calls across to java via an object bound into the webview context with addJavascriptInterface.  Although I am not explicitly using JNI, apparently under the covers the bound interface uses JNI to marshall the data across - I was getting an error and stack trace similar to yours.  Apparently, webDB or localStorage or whatever you are doing there also uses JNI under the covers.</p>\n\n<p>As per the info that Phobos linked, there is a finite limit to the number of references you can have in scope when you are using JNI.  In the case of javascript that indirectly uses JNI, it seems that the references must be kept around based on the javascript scope.  Looking at your code, I'm not sure exactly what you are doing to exceed the limit, but it looks like it could be either the number of calls you make in the transaction overall or your values arrays end up having more than 512 elements.  If you need to preserve transactional integrity and you really have over 500 operations you might be out of luck.  However I suspect that you should be able to find a way to avoid the 512 limit by rewriting your code to build up a query string outside of the scope of the <code>tx.executeSql</code> call.</p>\n\n<p>Maybe you could rewrite the code to build your query strings and then actually call <code>tx.executeSql</code> inside an anonymous function wrapper?  You probably need to build strings containing the values instead of using the <code>'INSERT INTO table() VALUES()',[]</code> syntax...  As I said above, if you have more than 500 operations in a transaction, you might still run into trouble, but it would be worth a try!</p>\n\n<p>P.S. For reference, here is a version of my code that was crashing along with the fix:</p>\n\n<pre><code>var test = function() {\n    var a = \"a\";\n    for(i=0;i&lt;1000;i++) {\n        boundJavaObj.test(a);\n    }\n}\n</code></pre>\n\n<p>test() crashes with an error like:</p>\n\n<p><code>03-28 10:57:45.634: W/dalvikvm(21294): ReferenceTable overflow (max=512)</code></p>\n\n<pre><code>var test2 = function() {\n    var a = \"a\";\n    for(i=0;i&lt;1000;i++) {\n        (function(){boundJavaObj.test(a);})();\n    }\n}\n</code></pre>\n\n<p>test2() doesn't crash.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Maybe you need a recursive callback function like this:</p>\n\n<pre><code>//too many insert statements\nvar sqlits= [\"INSERT INTO ...\", .. .. .. ,\"INSERT INTO ...\"];\n\nfunction populate(){\n    db.transaction(function(tx){\n        if(sqlits.length &gt; 0){\n            sql=sqlits.shift();\n            tx.executeSql(sql);\n        }else{\n            alert('End');\n        }\n        return true;\n    },function(tx,err){ \n        console.log(\"SQL Error: \"+err); \n    },populate);\n};\n\npopulate();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have PhoneGap app running in Android. When the app starts, it inserts approximately 500 rows into SQL. Table has 10 columns. It's not a lot of data, I have a JSON in textfile and its size is about 120 kB. I thought this couldn't touch any limits at all, but there is probably some limitation I don't know about or maybe a bug in Android, because this same app runs on some versions of Android (2.2) without problem, but crashes immediately or in few minutes when working with the SQL database on other versions of Android (1.6, 2.1, some 2.3 probably more...)</p>\n\n<p>Here is the code I use to populate the DB that crashes on Android 1.6:</p>\n\n<pre><code>db = window.openDatabase(\"db\", \"1.0\", \"Description\", 1000000); \n$.get('db/app_data.dat',function(result){\n  var data = $.parseJSON(result);\n  try {\n    db.transaction(function(tx){\n      $.each(data.items, function(i, v){\n        try {\n          tx.executeSql('INSERT INTO table(c1,c2,c3, ...) VALUES (?,?,?, ...)',[v.c1, v.c2, v.c3, ...]);\n        } catch(e) {\n          alert(e.message);\n        }\n      });\n    });\n  } catch(e) {\n    alert(e.message);\n    return;\n  }\n});\n</code></pre>\n\n<p>Can anybody help me ? Is there some limit I don't know about ? Or am I doing something wrong when inserting data in the SQL database ?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Here is output of LogCat, I think these are some important lines from log when app crashes. However, I have no deeper knowledge of Java and Android:</p>\n\n<pre><code>WARN/dalvikvm(1525): ReferenceTable overflow (max=512)\nWARN/dalvikvm(1525): Last 10 entries in JNI local reference table:\nWARN/dalvikvm(1525):   502: 0x4375cbb8 cls=Ljava/lang/String; (28 bytes)\nWARN/dalvikvm(1525):   503: 0x4374c9a0 cls=Ljava/lang/String; (28 bytes)\nWARN/dalvikvm(1525):   504: 0x4377c5c0 cls=Ljava/lang/String; (28 bytes)\nWARN/dalvikvm(1525):   505: 0x437c3040 cls=Ljava/lang/String; (36 bytes)\nWARN/dalvikvm(1525):   506: 0x43760bd8 cls=Ljava/lang/String; (28 bytes)\nWARN/dalvikvm(1525):   507: 0x437625e8 cls=Ljava/lang/String; (28 bytes)\nWARN/dalvikvm(1525):   508: 0x43762608 cls=Ljava/lang/String; (28 bytes)\nWARN/dalvikvm(1525):   509: 0x43762628 cls=Ljava/lang/String; (28 bytes)\nWARN/dalvikvm(1525):   510: 0x43759178 cls=Ljava/lang/String; (28 bytes)\nWARN/dalvikvm(1525):   511: 0x43766808 cls=Landroid/webkit/WebViewCore; (116 bytes)\nERROR/dalvikvm(1525): Failed adding to JNI local ref table (has 512 entries)\nINFO/dalvikvm(1525): \"WebViewCoreThread\" prio=5 tid=15 RUNNABLE\nINFO/dalvikvm(1525):   | group=\"main\" sCount=0 dsCount=0 s=N obj=0x437668a0 self=0x1b0bd0\nINFO/dalvikvm(1525):   | sysTid=1532 nice=0 sched=0/0 handle=1772784\nINFO/dalvikvm(1525):   at android.webkit.LoadListener.nativeFinished(Native Method)\nINFO/dalvikvm(1525):   at android.webkit.LoadListener.tearDown(LoadListener.java:1076)\nINFO/dalvikvm(1525):   at android.webkit.LoadListener.handleEndData(LoadListener.java:642)\nINFO/dalvikvm(1525):   at android.webkit.LoadListener.handleMessage(LoadListener.java:203)\nINFO/dalvikvm(1525):   at android.os.Handler.dispatchMessage(Handler.java:99)\nINFO/dalvikvm(1525):   at android.os.Looper.loop(Looper.java:123)\nINFO/dalvikvm(1525):   at android.webkit.WebViewCore$WebCoreThread.run(WebViewCore.java:471)\nINFO/dalvikvm(1525):   at java.lang.Thread.run(Thread.java:1060)\nERROR/dalvikvm(1525): VM aborting\nDEBUG/Zygote(30): Process 1525 terminated by signal (11)\n</code></pre>\n",
            "last_activity_date": 1363896220,
            "question_id": 6291692,
            "score": 3,
            "tags": [
                "javascript",
                "android",
                "sql",
                "crash",
                "cordova"
            ],
            "title": "Why is PhoneGap Android app crashing while inserting bunch of data into SQL?"
        }
    ]
}
