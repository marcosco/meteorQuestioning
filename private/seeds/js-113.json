{
    "items": [
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Here is a jsfiddle link with some examples <a href=\"http://jsfiddle.net/pukster/sdQ7U/2/\">http://jsfiddle.net/pukster/sdQ7U/2/</a></p>\n\n<p>My guess is that fabric.js calculates everything from the origin (middle point) since it is drawing exactly one quarter of a rectangle even with a canvas 10 times the size of the rectangle. My guess is that <code>top</code> and <code>left</code> actually refer to the origin and not the top and left sides of the imaginary bounding box. Trouble is there is very little documentation on fabricjs. Is there any reason you are using fabricjs and not easeljs</p>\n\n<p><strong>EDIT</strong> Here's the same fiddle but with squares instead of rectangles (it is more clear) <a href=\"http://jsfiddle.net/pukster/sdQ7U/3/\">http://jsfiddle.net/pukster/sdQ7U/3/</a></p>\n\n<p><strong>EDIT</strong> OK I am now almost absolutely certain that fabric.js uses the center as the <code>top</code>/<code>left</code>. I ripped their <a href=\"http://kangax.github.com/fabric.js/static_canvas/\">example off of their site</a> and overlayed it with the transparent couterpart to those shapes had they been coded in pure canvas <a href=\"http://jsfiddle.net/pukster/uathZ/2/\">http://jsfiddle.net/pukster/uathZ/2/</a> (blue border is the limit of the canvas element).</p>\n\n<p><img src=\"http://i.stack.imgur.com/ss1tl.jpg\" alt=\"Overlayed Pure Canvas images\"></p>\n\n<p>What you see is that the boxes are <strong>exactly</strong> offset by half but the circle (I only drew a semi circle otherwise it would not have been discernable) is perfectly overlapped. This is b/c in HTML Canvas, the circle coordinates <code>(x,y)</code> refer to the origin and not the top left. I did not bother with the triangle b/c my trigonometry is a bit rusty. I personally think it's misleading to use the terms <code>top</code> and <code>left</code>, when <code>x</code> and <code>y</code> would have been more representative and shorter.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Yes, this is highly unexpected and even more undocumented.</p>\n\n<p><strong>Workaround:</strong></p>\n\n<p>Set</p>\n\n<pre><code>originX: \"left\"\noriginY: \"top\"\n</code></pre>\n\n<p>for each created object.</p>\n\n<p>(from a performance point of view a bit problematic to have 2 strings for each object just to specify this.)</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I want to comment but lack the reputation to do so. So anyway, here is what happens when I do the following:</p>\n\n<pre><code>fabric.Object.prototype.originX = \"left\";\nfabric.Object.prototype.originY = \"top\";\n</code></pre>\n\n<p>The shape gets rendered fine but when I select it for resizing or moving, it gets offset to a different location. The best approach seems to be to set the coordinates for every object separately using the set() method.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I just started with fabric.js and I have a (probably beginner) error:</p>\n\n<p>I am using fabric with jquery with the following code:</p>\n\n<pre><code>$(document).ready(function () {\n\ncanvas = new fabric.StaticCanvas('scroller');\n\ncanvas.add(\n  new fabric.Rect({ top: 0, left: 0, width: 140, height: 100, fill: '#f55' })\n);\n\n});\n</code></pre>\n\n<p>This code should draw a 140x100 Rectangle on the canvas.\nSadly, only a quarter of the Rectangle appears.\nIf I change the top and left values to higher numbers, more of the Rectangle appears on the canvas.</p>\n\n<p>So it seems, that the canvas origin is not at 0/0, but at sth. higher.</p>\n\n<p>Does someone know how to fix this or what I am doing wrong?</p>\n\n<p>Thanks in advance,\nMcFarlane</p>\n",
            "last_activity_date": 1389992014,
            "question_id": 8812086,
            "score": 6,
            "tags": [
                "javascript",
                "html5",
                "canvas",
                "fabricjs"
            ],
            "title": "Canvas coordinates in Fabric.js have offset"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You are trying to request a resource using XHR that is on a different domain and is thus blocked. Use CORS for cross-domain messaging using XHR.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Krof Drakula is right, you cannot load an image from a different domain, but do you really need to do this? You can create and append an <code>img</code> tag and wait for it to load (with something like jQuery <code>load()</code>).</p>\n\n<pre><code>var img = document.createElement( 'img' );\nimg.setAttribute( 'src', url );\ndocument.getElementsByTagName('body')[0].appendChild( img );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><code>XMLHttpRequest</code> will not work cross-domain, but since this is a <em>userscript</em> Chrome now supports <code>GM_xmlhttpRequest()</code> in userscripts only.</p>\n\n<p>Something like this should work, note that it is asynchronous:</p>\n\n<pre><code>GM_xmlhttpRequest ( {\n    method:         'GET',\n    url:            'https://fbcdn-photos-a.akamaihd.net/hphotos-ak-ash4/299595_10150290138650735_543370734_8021370_355110168_n.jpg?dl=1',\n    onload:         function (responseDetails) {\n                        alert(responseDetails.statusText);\n                    }\n} );\n</code></pre>\n\n<p><br></p>\n\n<hr>\n\n<hr>\n\n<p>As for <strong>getting and using the actual image data</strong>, that is a major pain to work out.</p>\n\n<ul>\n<li><p>You can use the new <code>.responseType = \"blob\";</code> functionality in Firefox but <a href=\"http://code.google.com/p/chromium/issues/detail?id=52486\">Chrome does not yet support it</a>.</p></li>\n<li><p>In Chrome or Firefox, <strong>for the same domain only</strong>, you can use the new <a href=\"http://dvcs.w3.org/hg/xhr/raw-file/tip/Overview.html\">XHR2</a> like so:<br>\n<a href=\"http://jsbin.com/egucik\"><strong>See it in action at jsBin.</strong></a></p>\n\n<pre><code>BlobBuilder             = window.MozBlobBuilder || window.WebKitBlobBuilder || window.BlobBuilder;\n\nvar url                 = \"http://jsbin.com/images/gear.png\";\nvar request             = new XMLHttpRequest();\nrequest.open (\"GET\", url, false);\nrequest.responseType    = \"arraybuffer\";\nrequest.send (null);\n\nif (request.status === 200) {\n    var bb              = new BlobBuilder ();\n    bb.append (request.response); // Note: not request.responseText\n\n    var blob            = bb.getBlob ('image/png');\n    var reader          = new FileReader ();\n    reader.onload       = function (zFR_Event) {\n        $(\"body\").prepend ('&lt;p&gt;New image: &lt;img src=\"' + zFR_Event.target.result + '\"&gt;&lt;/p&gt;')\n    };\n\n    reader.readAsDataURL (blob);\n}\n</code></pre>\n\n<p><br></p></li>\n<li>Unfortunately, <code>GM_xmlhttpRequest()</code> does not (yet) support setting <code>responseType</code>.</li>\n</ul>\n\n<hr>\n\n<p><br>\nSo, for GM script or userscript applications, we have to use a custom base64 encoding scheme like in <a href=\"http://emilsblog.lerch.org/2009/07/javascript-hacks-using-xhr-to-load.html\">\"Javascript Hacks: Using XHR to load binary data\"</a>.</p>\n\n<p>The script code becomes something like:</p>\n\n<pre><code>var imgUrl              = \"http://jsbin.com/images/gear.png\";\n\nGM_xmlhttpRequest ( {\n    method:         'GET',\n    url:            imgUrl,\n    onload:         function (respDetails) {\n                        var binResp     = customBase64Encode (respDetails.responseText);\n\n                        /*-- Here, we just demo that we have a valid base64 encoding\n                            by inserting the image into the page.\n                            We could just as easily AJAX-off the data instead.\n                        */\n                        var zImgPara    = document.createElement ('p');\n                        var zTargetNode = document.querySelector (\"body *\"); //1st child\n\n                        zImgPara.innerHTML = 'Image: &lt;img src=\"data:image/png;base64,'\n                                           + binResp + '\"&gt;';\n                        zTargetNode.parentNode.insertBefore (zImgPara, zTargetNode);\n                    },\n    overrideMimeType: 'text/plain; charset=x-user-defined'\n} );\n\n\nfunction customBase64Encode (inputStr) {\n    var\n        bbLen               = 3,\n        enCharLen           = 4,\n        inpLen              = inputStr.length,\n        inx                 = 0,\n        jnx,\n        keyStr              = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\"\n                            + \"0123456789+/=\",\n        output              = \"\",\n        paddingBytes        = 0;\n    var\n        bytebuffer          = new Array (bbLen),\n        encodedCharIndexes  = new Array (enCharLen);\n\n    while (inx &lt; inpLen) {\n        for (jnx = 0;  jnx &lt; bbLen;  ++jnx) {\n            /*--- Throw away high-order byte, as documented at:\n              https://developer.mozilla.org/En/Using_XMLHttpRequest#Handling_binary_data\n            */\n            if (inx &lt; inpLen)\n                bytebuffer[jnx] = inputStr.charCodeAt (inx++) &amp; 0xff;\n            else\n                bytebuffer[jnx] = 0;\n        }\n\n        /*--- Get each encoded character, 6 bits at a time.\n            index 0: first  6 bits\n            index 1: second 6 bits\n                        (2 least significant bits from inputStr byte 1\n                         + 4 most significant bits from byte 2)\n            index 2: third  6 bits\n                        (4 least significant bits from inputStr byte 2\n                         + 2 most significant bits from byte 3)\n            index 3: forth  6 bits (6 least significant bits from inputStr byte 3)\n        */\n        encodedCharIndexes[0] = bytebuffer[0] &gt;&gt; 2;\n        encodedCharIndexes[1] = ( (bytebuffer[0] &amp; 0x3) &lt;&lt; 4)   |  (bytebuffer[1] &gt;&gt; 4);\n        encodedCharIndexes[2] = ( (bytebuffer[1] &amp; 0x0f) &lt;&lt; 2)  |  (bytebuffer[2] &gt;&gt; 6);\n        encodedCharIndexes[3] = bytebuffer[2] &amp; 0x3f;\n\n        //--- Determine whether padding happened, and adjust accordingly.\n        paddingBytes          = inx - (inpLen - 1);\n        switch (paddingBytes) {\n            case 1:\n                // Set last character to padding char\n                encodedCharIndexes[3] = 64;\n                break;\n            case 2:\n                // Set last 2 characters to padding char\n                encodedCharIndexes[3] = 64;\n                encodedCharIndexes[2] = 64;\n                break;\n            default:\n                break; // No padding - proceed\n        }\n\n        /*--- Now grab each appropriate character out of our keystring,\n            based on our index array and append it to the output string.\n        */\n        for (jnx = 0;  jnx &lt; enCharLen;  ++jnx)\n            output += keyStr.charAt ( encodedCharIndexes[jnx] );\n    }\n    return output;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>First of all there is a <a href=\"http://stackoverflow.com/q/4523238/1077789\">question</a> with the same title here on SO but its not what I'm looking for and it doesn't have a complete answer either.</p>\n\n<p>So here's my question. Say I have this URL which directs to an image.</p>\n\n<pre><code>https://fbcdn-photos-a.akamaihd.net/hphotos-ak-ash4/299595_10150290138650735_543370734_8021370_355110168_n.jpg\n</code></pre>\n\n<p>Once I put this parameter <code>?dl=1</code> to the end of the URL, it becomes downloadable.</p>\n\n<pre><code>https://fbcdn-photos-a.akamaihd.net/hphotos-ak-ash4/299595_10150290138650735_543370734_8021370_355110168_n.jpg?dl=1\n</code></pre>\n\n<p>I'm trying to do this task through a userscript. So I used XMLHttpRequest for that.</p>\n\n<pre><code>var url = \"https://fbcdn-photos-a.akamaihd.net/hphotos-ak-ash4/299595_10150290138650735_543370734_8021370_355110168_n.jpg?dl=1\";\n\nvar request = new XMLHttpRequest();  \nrequest.open(\"GET\", url, false);   \nrequest.send(null);  \n\nif (request.status === 200) \n{  \n    alert(request.statusText);\n}\n</code></pre>\n\n<p>Here is a <a href=\"http://jsfiddle.net/BdCnm/\">fiddle</a>.</p>\n\n<p>But it does not work. Bare with me for I'm quite new to JavaScript and I haven't done anything with AJAX either. I googled a lot for samples or anything but to no avail.</p>\n\n<p>Please can anyone guide me on how to do this? </p>\n",
            "last_activity_date": 1326255542,
            "question_id": 8778863,
            "score": 6,
            "tags": [
                "javascript",
                "xmlhttprequest",
                "download",
                "userscripts"
            ],
            "title": "Downloading an image using XMLHttpRequest in a userscript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Really, you're having class loader problems in JBoss?</p>\n\n<p>You're going to have to do some kind of exclusion on the competing rhino JAR file.  Why is Rhino on the classpath? It may be an optional feature of JBoss you can turn off and avoid the conflict that way.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I solved this problem by repackaging yuicompressor myself to include most of the rhino source. See my reply to Howard M. Lewis Ship.</p>\n\n<p>The repackaged source can be found here : <a href=\"http://viscri.co.uk/labs/tapestry/yuicompressor-rhino-bugfix-5.0.jar\" rel=\"nofollow\">http://viscri.co.uk/labs/tapestry/yuicompressor-rhino-bugfix-5.0.jar</a>. Just add this to your pom:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;yuicompressorbugfix&lt;/groupId&gt;\n   &lt;artifactId&gt;yuicompressor-rhino-bugfix&lt;/artifactId&gt;\n   &lt;version&gt;5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If you don't run your own version of nexus, you'll have to install it on the machine that you want to build on. This is the command you need I think: <a href=\"http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow\">http://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html</a></p>\n\n<p>You'll also need to exclude the yuicompressor version that tapestry pulls in:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.tapestry&lt;/groupId&gt;\n   &lt;artifactId&gt;tapestry-yuicompressor&lt;/artifactId&gt;\n   &lt;version&gt;5.3.2&lt;/version&gt;\n   &lt;exclusions&gt;\n       &lt;exclusion&gt;\n             &lt;groupId&gt;com.yahoo.platform.yui&lt;/groupId&gt;\n             &lt;artifactId&gt;yuicompressor&lt;/artifactId&gt;\n       &lt;/exclusion&gt;\n   &lt;/exclusions&gt;\n</code></pre>\n\n<p> </p>\n\n<p>This should work.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Workaround: For JBoss AS 7.1.1.Final and YUICompressor 2.4.7 </p>\n\n<p>Exclude rhino from dependency:</p>\n\n<pre><code>        &lt;dependency&gt;\n          &lt;groupId&gt;com.yahoo.platform.yui&lt;/groupId&gt;\n          &lt;artifactId&gt;yuicompressor&lt;/artifactId&gt;\n          &lt;version&gt;${yuicompressor.version}&lt;/version&gt;\n          &lt;exclusions&gt;\n            &lt;exclusion&gt;\n               &lt;groupId&gt;rhino&lt;/groupId&gt;\n               &lt;artifactId&gt;js&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n          &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Why? See <a href=\"https://github.com/greenlaw110/greenscript/pull/29#issuecomment-4017147\" rel=\"nofollow\">https://github.com/greenlaw110/greenscript/pull/29#issuecomment-4017147</a></p>\n\n<p>Note: if you have a rhino in classpath by some other way, so seems like you'll get this error again.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The selected answer's (as of 9/26/2014) jar doesn't exist anymore.</p>\n\n<p>So, I created a fork of yuicompressor where entire rhino package is embedded into the yuicompressor package and namespaced it under yui.</p>\n\n<p><a href=\"https://github.com/timothy-kim/yuicompressor\" rel=\"nofollow\">https://github.com/timothy-kim/yuicompressor</a></p>\n\n<p>Just clone the repo and run <code>ant</code> to obtain the jar.</p>\n\n<p>Hope this helps anyone else who stumbles unto this problem.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>When minimising yui with 2.4.6, I get this problem:</p>\n\n<p>java.lang.StringIndexOutOfBoundsException: String index out of range: 232</p>\n\n<pre><code>at java.lang.String.substring(String.java:1934)\nat com.yahoo.platform.yui.compressor.JavaScriptCompressor.printSourceString(JavaScriptCompressor.java:267)\nat com.yahoo.platform.yui.compressor.JavaScriptCompressor.parse(JavaScriptCompressor.java:330)\nat com.yahoo.platform.yui.compressor.JavaScriptCompressor.&lt;init&gt;(JavaScriptCompressor.java:533)\n</code></pre>\n\n<p>It works when started through my IDE but when deployed to jboss it doesn't. This place: <a href=\"http://yuilibrary.com/forum/viewtopic.php?p=20086\">http://yuilibrary.com/forum/viewtopic.php?p=20086</a> has some discussion of the same problem.</p>\n\n<p>Apparently the issue is around org/mozilla/javascript/Parser being in the two jars that are pulled in from my maven config:</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.yahoo.platform.yui&lt;/groupId&gt;\n&lt;artifactId&gt;yuicompressor&lt;/artifactId&gt;\n&lt;version&gt;2.4.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Is there any way I can solve this using maven exclusions etc. or by upgrading my version of YUI. It seems daft that it just doesn't work and I don't want to have to write a custom classloader.</p>\n\n<p>Please help!</p>\n",
            "last_activity_date": 1411774904,
            "question_id": 6652550,
            "score": 6,
            "tags": [
                "java",
                "javascript",
                "jboss",
                "yui",
                "tapestry"
            ],
            "title": "Yui compressor StringIndexOutOfBoundsException on jboss"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>That doesn't work like that. The value is not present since the PageLoad, so won't be postbacked. Try using a TextBox with style=\"display:none\".</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You don't need to have the hidden input run at server. You can do:</p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"HiddenInput\" name=\"HiddenInput\" value=\"\" /&gt;\n</code></pre>\n\n<p>Then when you post back you can access it like that:</p>\n\n<pre><code>protected void BtnGuardar_Click(object sender, EventArgs e)\n{\n    String test = Request.Form[\"HiddenInput\"];\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>Here's my problem. I have a hidden field whose value I change through a javascript method. The problem is after postback the value is lost.</p>\n\n<p>How can I persist the value after postback?</p>\n\n<p>Thanks!</p>\n\n<p>.aspx File</p>\n\n<pre><code>&lt;asp:HiddenField ID=\"HiddenField1\" runat=\"server\" /&gt;\n&lt;asp:Button ID=\"BtnGuardar\" runat=\"server\" OnClick=\"BtnGuardar_Click\" OnClientClick=\"return GridUpdateInfoOK()\" /&gt;\n</code></pre>\n\n<p>.js file</p>\n\n<pre><code>document.getElementById('&lt;%= HiddenField1.ClientID %&gt;').value = 'TEST';\n</code></pre>\n\n<p>.aspx.cs file</p>\n\n<pre><code>protected void BtnGuardar_Click(object sender, EventArgs e)\n{\n    String test = HiddenField1.Value;\n}\n</code></pre>\n",
            "last_activity_date": 1307473500,
            "question_id": 6270085,
            "score": 6,
            "tags": [
                "javascript",
                "asp.net",
                "postback",
                "hidden-field"
            ],
            "title": "Hidden value assigned in js lost after postback"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>No.</p>\n\n<p>I'd recommend wx-widgets for the task.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Its impossible, as javascript is limited to the browser environment and cannot access computer's resources. Security reasons.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>JavaScript itself doesn't have any built in functionality to allow you to access the serial port. However, various JavaScript engines (v8, rhino, etc) allow you to write your own custom native objects.</p>\n\n<p>You might want to check out node.js, which is a JavaScript library for v8 that's focused on writing server-side code (rather than web browser client code). It seems that someone's already written a serialport package for that:</p>\n\n<p><a href=\"https://github.com/voodootikigod/node-serialport\">https://github.com/voodootikigod/node-serialport</a></p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>Yes, <strong>it's possible using an ActiveX</strong>(I did it). You can make an activeX and use JavaScript to invoke it.\nIf you prefer, you can make a .net dll and register it using regasm. Take a look at this <a href=\"http://dotnetslackers.com/articles/csharp/WritingAnActiveXControlInCSharp.aspx\" rel=\"nofollow\">link</a></p>\n\n<p>You also can write an activeX using VB6 and register it. Both works fine.\nPs.: if you are using ActiveX, the JavaScript code will run just on IE.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you have a DLL library (this includes e.g. most Windows APIs) that allows you to communicate over serial port you can invoke it from Firefox chrome code (or content code with universalxpconnect privileges) by using <a href=\"https://developer.mozilla.org/en/JavaScript_code_modules/ctypes.jsm\" rel=\"nofollow\">ctypes</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>What you could do is to use a Java applet that connects to the local computer's Java application that reads the serial port. The applet would then transfer the data to a JavaScript class or something that can hold the information. Then additional JavaScript code can be used to access the data. It's a complicated solution but should work.</p>\n\n<p>Another way is to create a POJO service.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is an old question, but in case this helps anyone else, Chrome Apps have access to a serial API - <a href=\"http://developer.chrome.com/apps/serial.html\" rel=\"nofollow\">http://developer.chrome.com/apps/serial.html</a> - which might help.</p>\n\n<p>It's Chrome specific (obviously..), but Chrome is available cross-platform so might answer the question.  </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There's a cross platform plugin for serial port communication called <a href=\"https://github.com/billhsu/jUART\" rel=\"nofollow\">jUART</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is it possible to communicate over a machine's serial port through JavaScript?</p>\n\n<p>I have to write a short program that sends data to a microcontroller over the serial port that has a GUI and is cross-platform compatible, and I really don't want to use Java's Swing.</p>\n",
            "last_activity_date": 1395484519,
            "question_id": 5640953,
            "score": 6,
            "tags": [
                "javascript",
                "serial-port"
            ],
            "title": "Serial communication from JavaScript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You could do the same in MVC:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction timedRefresh(timeoutPeriod) {\n    setTimeout(function() {\n        location.reload(true);\n    }, timeoutPeriod);\n}\n&lt;/script&gt;\n&lt;body onload=\"JavaScript:timedRefresh(5000);\"&gt;\n    ...\n&lt;/body&gt;\n</code></pre>\n\n<p>or using a meta tag:</p>\n\n<pre><code>&lt;head&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;meta http-equiv=\"refresh\" content=\"5\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    ...\n&lt;/body&gt;\n</code></pre>\n\n<p>or in your controller action:</p>\n\n<pre><code>public ActionResult Index()\n{\n    Response.AddHeader(\"Refresh\", \"5\");\n    return View();\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 31
                }
            ],
            "body": "<p>In webforms I'd do</p>\n\n<pre><code>    &lt;script type=\"text/JavaScript\"&gt;\n    function timedRefresh(timeoutPeriod) {\n        setTimeout(\"location.reload(true);\", timeoutPeriod);\n    }\n    &lt;/script&gt;\n\n    &lt;body onload=\"JavaScript:timedRefresh(5000);\"&gt;\n</code></pre>\n\n<p>or codebehind Page_Load</p>\n\n<pre><code>Response.AddHeader(\"Refresh\", \"5\");\n</code></pre>\n\n<p><strong>Question</strong>  How to make the screen refresh every 5 seconds in ASP.NET MVC3</p>\n",
            "last_activity_date": 1300819784,
            "question_id": 5396282,
            "score": 6,
            "tags": [
                "javascript",
                "asp.net-mvc",
                "asp.net-mvc-3"
            ],
            "title": "Auto refresh in ASP.NET MVC"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>As far as i can tell your code works fine. However it does not focus the input field as you may think, but the event is fired on the input field just fine, as seen in this fiddle: <a href=\"http://jsfiddle.net/ENvZY/\" rel=\"nofollow\">http://jsfiddle.net/ENvZY/</a></p>\n\n<p>Note: the code is not crossbrowser compatible though, it fails in ie8.</p>\n\n<p>Consider using a good crossbrowser library like jQuery instead of going the native DOM way - the wheel exists and works perfectly, reinventing it is a waste of time :)</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>Basically I'm trying to dispatch a custom made mouse click event to a text input element using the following code (see this <a href=\"http://jsfiddle.net/epevj/10/\">jsFiddle</a>):</p>\n\n<pre><code>function simulateClick(id) {\n    var evt = document.createEvent(\"MouseEvents\");\n    evt.initMouseEvent(\"click\", true, true, window, 1, 0, 0, 0, 0,\n        false, false, false, false, 0, null);\n\n    var cb = document.getElementById(id);\n    cb.dispatchEvent(evt);\n}\n</code></pre>\n\n<p>When I run that code on a <code>type=\"checkbox\"</code> element it works perfectly fine but it doesn't work at all when called on a <code>type=\"text\"</code> element.</p>\n\n<p>Now here's the definition of <code>initMouseEvent()</code> on MDN:</p>\n\n<pre><code>event.initMouseEvent(type, canBubble, cancelable, view, \n                 detail, screenX, screenY, clientX, clientY, \n                 ctrlKey, altKey, shiftKey, metaKey, \n                 button, relatedTarget);\n</code></pre>\n\n<p>So in the above example <code>screenX, screenY, clientX</code> and <code>clientY</code> would all be <code>0</code> (still, the above code works perfectly fine with checkboxes regardless of their position). I tried capturing a real event and passing the screen and client coordinates to the cusom made event, to no avail.</p>\n\n<p>I though maybe text input elements ignore custom mouse events due to security reasons, but then <code>element.focus()</code> should't work either, which it does.</p>\n\n<p>Any ideas or insights would be greatly appreciated!</p>\n",
            "last_activity_date": 1366816129,
            "question_id": 5352709,
            "score": 6,
            "tags": [
                "javascript",
                "mouseevent",
                "dispatchevent"
            ],
            "title": "Is it possible to dispatchEvent() a mouse click to a &lt;input type=text&gt; element?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p><a href=\"http://elegantcode.com/2011/01/12/basic-javascript-part-6-automatic-semicolon-insertion/\" rel=\"nofollow\">This post on Elegant Code</a> gives some explanation of automatic semicolon insertion, but in regard to returning objects, not declaring functions.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>It's a myth. <code>function blah()</code> is always required to be followed by a expression block, so makes no difference which style you use. The first style is simply the most widely used form.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The issue you are thinking of is for <code>return</code> statements.</p>\n\n<pre><code>return {\n  value: 'test'\n}\n</code></pre>\n\n<p>Works fine, but the following does not:</p>\n\n<pre><code>return\n{\n  value: 'test'\n}\n</code></pre>\n\n<p>JavaScript adds a semicolon after <code>return</code> turning the above into: </p>\n\n<pre><code>return;\n{\n  value: 'test'\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>The <a href=\"http://bonsaiden.github.com/JavaScript-Garden\">JavaScript Garden</a> has a chapter about <a href=\"http://bonsaiden.github.com/JavaScript-Garden/#semicolon\">automatic semicolon insertion</a>. It gives good examples when semicolons are added automatically:</p>\n\n<blockquote>\n  <p>JavaScript is not a semicolon-less\n  language, it in fact needs the\n  semicolons in order to understand the\n  source code. Therefore the JavaScript\n  parser automatically inserts them\n  whenever it encounters a parse error\n  due to a missing semicolon.</p>\n</blockquote>\n\n<p>In your example JavaScript wouldn't encounter an error due to a missing semicolon though.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Douglas Crockford gives a reason for choosing the K&amp;R style [1]:</p>\n\n<p>\"I always use the K&amp;R style, putting the { at the end of a line instead of the front, because it avoids a horrible design blunder in JavaScript's return statement.</p>\n\n<p>The blunder he is referring to is how JavaScript handles the return statement differently in the following two scenarios:</p>\n\n<pre><code>return {\n   'status': 'ok'\n};\n</code></pre>\n\n<p>... and:</p>\n\n<pre><code>return \n{\n   'status': 'ok'\n};\n</code></pre>\n\n<p>The first one will return an object with a status property, while the latter will return undefined because of semicolon insertion.\"</p>\n\n<p>[1] Douglas Crockford: JavaScript: The Good Parts: Style (p. 96)</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There is no issue with declaring functions, but you can get into trouble when returning objects:</p>\n\n<pre><code>function foo()\n{ // this is OK\n\n    return\n    { // this is BAD!\n        name: \"bletch\"\n    };\n    // actually returns undefined!\n}\n</code></pre>\n\n<p>A semi-colon is automatically inserted after the return statement, and that will break your code.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I remember there is a convention/recommendation to put opening brace in the same line, because the way Javascript add semicolon or something. </p>\n\n<pre><code>//OK\nfunction blah(){\n};\n\n//Probably not OK\nfunction blah() \n{\n};\n</code></pre>\n\n<p>But I don't find a relevant source to confirm/deny this. </p>\n\n<p>Is this true? Or just a myth?</p>\n",
            "last_activity_date": 1298566205,
            "question_id": 5107510,
            "score": 6,
            "tags": [
                "javascript",
                "semicolon"
            ],
            "title": "javascript open brace in the same line"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Use JavaScript for this.</p>\n\n<p>This script checks the lenth of text area after every keystroke there (copypasta from <a href=\"http://www.velocityreviews.com/forums/t85277-change-textarea-dynamically.html\" rel=\"nofollow\">here</a>):</p>\n\n<pre><code>  &lt;textarea name=\"x\" onKeyUp=\"SetNewSize(this);\" cols=\"5\" rows=\"4\"&gt;&lt;/textarea&gt;\n    &lt;script language=\"javascript\"&gt;\n    function SetNewSize(textarea){\n      if (textarea.value.length &gt; 5){\n        textarea.cols = 50;\n        textarea.rows = 50;\n      }  else{\n         textarea.cols = 10;\n         textarea.rows = 15;\n      }\n    }\n  &lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This cannot be done with CSS alone. try the autogrow jquery plugin. \n<a href=\"http://plugins.jquery.com/project/autogrowtextarea\" rel=\"nofollow\">http://plugins.jquery.com/project/autogrowtextarea</a></p>\n\n<p>You can also see autogrow demo here <a href=\"http://onehackoranother.com/projects/jquery/jquery-grab-bag/autogrow-textarea.html\" rel=\"nofollow\">http://onehackoranother.com/projects/jquery/jquery-grab-bag/autogrow-textarea.html</a></p>\n\n<p>It's lightweight and easy to use. Here's how it's done. Define your textarea id. Include the jquery js file before <code>&lt;/body&gt;</code>. Then between script tags, issue the jquery command <code>$(\"#txtInput\").autoGrow();</code></p>\n\n<pre><code>&lt;body&gt;\n    &lt;textarea id=\"txtInput\"&gt;&lt;/textarea&gt;\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt; \n\n&lt;script&gt;\n    $(\"#txtInput\").autoGrow();\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>there is also the jquery plugin: elastic</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This jQuery plugin is a really great one:\n<a href=\"http://www.jacklmoore.com/autosize\">http://www.jacklmoore.com/autosize</a></p>\n\n<p>I've tested a bunch of these and this is by far the nicest. Also gives an example of using a CSS transition effect which is pretty slick.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Expanding textarea as you type</p>\n\n<p>Type something in textarea to see the effect\n</p>\n\n<pre><code>&lt;script&gt;    \nfunction increseRows(selector)\n{\n    $(selector).attr(\"rows\", $(selector).val().split(\"\\n\").length+1||2);\n}\n&lt;/script&gt;\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/XeSU5.png\" alt=\"expanding textarea as you type\"></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a Textarea where users can input text. By default it has a height of 17px. However if users insert a large amount of text, I want the text area to expand accordingly. Is there a way to do this with CSS ? Thanks in advance!!</p>\n",
            "last_activity_date": 1406105386,
            "question_id": 4954252,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "textarea"
            ],
            "title": "CSS Textarea that expands as you type text"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You could use CSS positioning to solve this. The following link has instructions on what you need I believe.</p>\n\n<p><a href=\"http://matthewjamestaylor.com/blog/keeping-footers-at-the-bottom-of-the-page\" rel=\"nofollow\">http://matthewjamestaylor.com/blog/keeping-footers-at-the-bottom-of-the-page</a></p>\n\n<p>Edit: Sorry I misread, these should work for headers as well.</p>\n\n<p><a href=\"http://www.noobcube.com/tutorials/html-css/fixed-header-footer-layout-a-beginners-guide-/\" rel=\"nofollow\">http://www.noobcube.com/tutorials/html-css/fixed-header-footer-layout-a-beginners-guide-/</a></p>\n\n<p><a href=\"http://davidchambersdesign.com/css-fixed-position-headers/\" rel=\"nofollow\">http://davidchambersdesign.com/css-fixed-position-headers/</a></p>\n\n<p>Hope these help.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Always remember if you have to stick the header or footer <code>{ position : fixed; }</code> can be used.</p>\n\n<p>So apply CSS like this:</p>\n\n<pre><code>.header{\n    top:0;\n    width:100%;\n    height:50px;\n    position:fixed;  // this is the key\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>HTML:</p>\n\n<pre><code>&lt;div id=\"wrap\"&gt;\n    &lt;div id=\"header\"&gt; HEADER &lt;/div&gt;\n    &lt;div id=\"navigation\"&gt; NAVIGATION &lt;/div&gt;\n    &lt;div id=\"content\"&gt; CONTENT  &lt;/div&gt;        \n&lt;/div&gt;\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>( function () {    \n    var nav = $( '#navigation' )[0],\n        top = $( nav ).offset().top,\n        left,\n        height = $( nav ).outerHeight(),\n        width = $( nav ).width(),\n        fixedClass = 'fixed';\n\n    function pageOffset() {\n        return window.pageYOffset || document.body.scrollTop;\n    }\n\n    $( window ).\n            resize( function () {\n                left = $( nav ).offset().left;\n            }).\n            scroll( function () {\n                $( nav ).toggleClass( fixedClass, pageOffset() &gt; top );\n\n                if ( $( nav ).hasClass( fixedClass ) ) {\n                    $( nav ).\n                        css({ 'left': left, 'width': width }).\n                        prev().css({ 'marginBottom': height });\n                } else {\n                    $( nav ).\n                        prev().andSelf().removeAttr( 'style' );\n                }\n            }).\n            trigger( 'resize' );    \n})();\n</code></pre>\n\n<p><strong>Live demo:</strong> <a href=\"http://jsfiddle.net/simevidas/Mx8hC/show/\" rel=\"nofollow\">http://jsfiddle.net/simevidas/Mx8hC/show/</a></p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>If you want it to be stuck to the top even when the user scrolls (i.e. stuck to the top of the browser window), use:</p>\n\n<pre><code>.top-bar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  margin: 0;\n}\n</code></pre>\n\n<p>Or just to the of the the page:</p>\n\n<pre><code>.top-bar {\n  margin: 0;\n  width: 100%;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>//header//\n\n    &lt;!DOCTYPE html&gt;\n    &lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\" /&gt;\n        &lt;title&gt;&lt;?php echo SITE_NAME; if(isset($page_title)){ echo ' :: '.$page_title;}?&gt;&lt;/title&gt;\n        &lt;meta name=\"Description\" content=\"&lt;?php echo $SITE_NAME;?&gt;\" /&gt;\n        &lt;meta name=\"robots\" content=\"all, index, follow\" /&gt;\n        &lt;meta name=\"distribution\" content=\"global\" /&gt;\n        &lt;link rel=\"shortcut icon\" href=\"/favicon.ico\" /&gt;\n        &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n        &lt;link href=\"&lt;?php if(isset($include_file_ext)){ echo $include_file_ext;}?&gt;css/style.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    &lt;div id=\"container\"&gt;\n    &lt;div id=\"header\"&gt;\n    &lt;h1&gt;&lt;?php echo SITE_NAME;?&gt;&lt;/h1&gt;\n    &lt;/div&gt;\n    &lt;div id=\"navigation\"&gt;\n    &lt;ul&gt;\n    &lt;li&gt;&lt;a href=\"/photosharing/\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n    &lt;!--\n    &lt;li&gt;&lt;a href=\"#\"&gt;About&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"#\"&gt;Services&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"#\"&gt;Contact us&lt;/a&gt;&lt;/li&gt;--&gt;\n    &lt;/ul&gt;\n    &lt;/div&gt;\n    &lt;div id=\"content\"&gt;\n\n//footer\n\n\n&lt;/div&gt;\n&lt;div id=\"footer\"&gt;\n        Copyright &amp;copy; &lt;?php echo SITE_NAME.' , '.date('Y');?&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n//css\nbody,td,th {\n    font-family: Trebuchet MS, Arial, Helvetica, sans-serif;\n    font-size: 12px;\n    color: #333;\n}\nbody {\n    margin-left: 0px;\n    margin-top: 30px;\n    margin-right: 0px;\n    margin-bottom: 0px;\n}\n.maindiv{ width:690px; margin:0 auto;}\n.textbox{ padding:2px 4px; width:200px;}\n.submit{ border:solid 1px #008000; background:#008000; color:#FFF; font-weight:bold;}\n#container\n{\n    margin: 0 30px;\n    background: #fff;\n}\n\n#header\n{\n    background: #ccc;\n    padding: 20px;\n}\n\n#header h1 { margin: 0; }\n\n#navigation\n{\n    float: left;\n    width: 100%;\n    background: #333;\n}\n\n#navigation ul\n{\n    margin: 0;\n    padding: 0;\n}\n\n#navigation ul li\n{\n    list-style-type: none;\n    display: inline;\n}\n\n#navigation li a\n{\n    display: block;\n    float: left;\n    padding: 5px 10px;\n    color: #fff;\n    text-decoration: none;\n    border-right: 1px solid #fff;\n}\n\n#navigation li a:hover { background: #383; }\n\n#content\n{\n    clear: left;\n    padding: 20px;\n}\n\n#content h2\n{\n    color: #000;\n    font-size: 160%;\n    margin: 0 0 .5em;\n}\n\n#footer\n{\n    background: #ccc;\n    text-align: right;\n    padding: 20px;\n    height: 1%;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am designing my website and I'm trying to find a way to keep a header always in the screen.</p>\n\n<p>For an example, take a look at <a href=\"http://community.wikia.com/wiki/Blog:Wikia_Staff_Blog\" rel=\"nofollow\">this</a> extra long page on Wikia.com. Notice that when you scroll the page, the little toolbar down the bottom stays in one place. However, scroll to the bottom of the page and you will realize that the toolbar stays in a fixed position until it gets out of view.</p>\n\n<p>This is what I would like to do, but in reverse. Have a header that stays in a fixed position on the web-page, but when it was not in view have it at the top.</p>\n\n<p>I tried looking at an example on DynamicDrive.com (search for Dock Content Script, because I can't post another link), but I found that it was too jittery for me.</p>\n\n<p>Can someone please help me do this?</p>\n\n<p>Thanks in advance.\n<br>~DragonXDoom</p>\n\n<p>P.S. Now that I notice, the How to Format box on the right of the submit question page has this effect.</p>\n",
            "last_activity_date": 1357540456,
            "question_id": 4559449,
            "score": 6,
            "tags": [
                "javascript",
                "css",
                "html"
            ],
            "title": "Keeping a header always in view"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Have a look at <a href=\"http://www.pixastic.com/\" rel=\"nofollow\">Pixastic</a>, specifically <a href=\"http://www.pixastic.com/lib/docs/actions/crop\" rel=\"nofollow\">http://www.pixastic.com/lib/docs/actions/crop</a>.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>The HTML5 Canvas API provides a method called drawImage which allows you to crop the input image.</p>\n\n<pre><code>context.drawImage(image, sx, sy, sw, sh, dx, dy, dw, dh)\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/USDAX.png\" alt=\"alt text\"></p>\n\n<p>For more information see the spec (that image is taken directly from the spec):</p>\n\n<p><a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#images\">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#images</a></p>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p>If you don't want to use canvas or 3rd party library, you could add the image to a div (with \"overflow: hidden\") of the size of the cropped version, and giving the image negative left and top margins.<br>\nEach one will carry the whole image around, but will just display a portion of it, which may -- or may not -- impact performance.  I believe you may have to give the div element a position:relative as well to make IE happy.</p>\n\n<p>Alternatively you could assign the image as a background of the div, and specify the backgroundPosition.  I seem to remember this didn't work for something I did once, not sure why.  (I think it had to do with opacity)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just load the image in an img tag with style attribute display set to hidden. Then crop the image on an off screen canvas, then write that off screen canvas to your main canvas as required. </p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to create a small 2D game in Javascript/Canvas which consists of several animated sprites. I'd like to cut down on the number of HTTP requests, so I combined each frame of animation (32px by 32px) into one image per sprite (say, 192px by 128px). Is there any way I can copy and crop these images clientside back into several smaller images? It would vastly simplify my rendering code and help reduce loading time due to network latency.</p>\n",
            "last_activity_date": 1327488624,
            "question_id": 4200374,
            "score": 6,
            "tags": [
                "javascript",
                "canvas",
                "client-side",
                "crop"
            ],
            "title": "Copy and crop images in Javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>&lt;div style=\" border:solid 1px #D31444\" contenteditable=\"true\" onclick=\"document.execCommand('selectAll',false,null)\"&gt;12 some text...&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>This will do it. The timer is there for Chrome and Safari because in those browsers, the native browser behaviour that selects the whole element seems to trigger after the focus event, thereby overriding the effect of the selection code unless postponed until after the focus event:</p>\n\n<pre><code>var div = document.getElementById(\"editable\");\n\ndiv.onfocus = function() {\n    window.setTimeout(function() {\n        var sel, range;\n        if (window.getSelection &amp;&amp; document.createRange) {\n            range = document.createRange();\n            range.selectNodeContents(div);\n            sel = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n        } else if (document.body.createTextRange) {\n            range = document.body.createTextRange();\n            range.moveToElementText(div);\n            range.select();\n        }\n    }, 1);\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>If you are seeing the problem where focus is immediately \"undone\", check out Rudie's solution. It fixed my issue.</p>\n\n<p><a href=\"http://jsfiddle.net/rudiedirkx/MgASG/1/\" rel=\"nofollow\">http://jsfiddle.net/rudiedirkx/MgASG/1/</a></p>\n\n<pre><code>document.querySelector('#element_you_want_focused').onfocus = function(e) {\n    var el = this;\n    requestAnimationFrame(function() {\n        selectElementContents(el);\n    });\n};\n\nfunction selectElementContents(el) {\n    var range = document.createRange();\n    range.selectNodeContents(el);\n    var sel = window.getSelection();\n    sel.removeAllRanges();\n    sel.addRange(range);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I've got contenteditable div as below.</p>\n\n<pre><code>&lt;div style=\" border:solid 1px #D31444\" contenteditable=\"true\"&gt;12 some text...&lt;/div&gt;\n</code></pre>\n\n<p>What I need is, when I click on the div, all the text will automatically get selected. Can you give me solution please?</p>\n",
            "last_activity_date": 1400651911,
            "question_id": 3805852,
            "score": 6,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "select all text in contenteditable div when it focus/click"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<pre><code>var called = false;\nfunction blah() {\n   called = true;\n}\n\nif ( !called ) {\n   blah();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>That's easy to accomplish, as javascript functions are objects that can have members and properties:</p>\n\n<pre><code>var callMeOnlyOnce=function(){\n\n    if(this.alreadyCalled)return;\n\n    alert('calling for the first time');\n\n    this.alreadyCalled=true;\n};\n\n// alert box comes\ncallMeOnlyOnce();\n\n\n// no alert box\ncallMeOnlyOnce();\n</code></pre>\n\n<hr>\n\n<p>EDIT:</p>\n\n<p>As pointed out correctly by CMS, using this is not that easy. Here's a revised version that uses a custom namespace instead of this.</p>\n\n<pre><code>if(!window.mynamespace){\n    window.mynamespace={};\n}\n\nmynamespace.callMeOnlyOnce=function(){\n\n    if(mynamespace.alreadyCalled)return;\n\n    alert('calling for the first time');\n    mynamespace.alreadyCalled=true;\n};\n\n// alert box comes\nmynamespace.callMeOnlyOnce();\n\n\n// no alert box\nmynamespace.callMeOnlyOnce();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Use decorator pattern.</p>\n\n<pre><code>// your function definition\nfunction yourFunction() {}\n\n// decorator\nfunction callItOnce(fn) {\n    var called = false;\n    return function() {\n        if (!called) {\n            called = true;\n            return fn();\n        }\n        return;\n    }\n}\n\nyourFunction(); // it runs\nyourFunction(); // it runs    \nyourFunction = callItOnce(yourFunction);\nyourFunction(); // it runs\nyourFunction(); // null\n</code></pre>\n\n<p>This solution provides a side-effect free way for achieving your goal. You don't have to modify your original function. It works nice even with library functions. You may assign a  new name to the decorated function to preserve the original function.</p>\n\n<pre><code>var myLibraryFunction = callItOnce(libraryFunction);\nmyLibraryFunction(); // it runs\nmyLibraryFunction(); // null\nlibraryFunction(); // it runs\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<pre><code>If (!your_func.called) {\n    your_func.called = true;\n    your_func();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Two options: </p>\n\n<p><strong>Static variables</strong> Here's how to create static (like in C) variables using self calling functions to store your static variables in a closure.</p>\n\n<pre><code>var myFun = (function() {\n  var called = false;\n  return function() {\n    if (!called) {\n      console.log(\"I've been called\");\n      called = true;\n    }\n  }\n})()\n</code></pre>\n\n<p><strong>Empty Function replacement</strong> Set the function to an empty function after it runs.</p>\n\n<pre><code>function callonce() {\n  console.log(\"I've been called\");\n  arguments.callee = function() {};\n}\n</code></pre>\n\n<p><strong>Abstract the idea</strong> Here's a function that returns a function that only gets called once, this way we don't have to worry about adding boiler plate code to every function.</p>\n\n<pre><code>function makeSingleCallFun(fun) {\n  var called = false;\n  return function() {\n    if (!called) {\n       fun.apply(this, arguments);\n    }\n  }\n}\n\n// Alternate implementation   \nfunction makeSingleCallFun(fun) {\n    return function() {\n      fun.apply(this, arguments);\n      arguments.callee = function() {};\n    }\n}\n\nvar myFun = makeSingleCallFun(function() {\n  console.log(\"I've been called\");\n});\nmyFun(); // logs I've been called\nmyFun(); // Does nothing\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>i have a javascript function</p>\n\n<p>how to check</p>\n\n<p>if function was called ( in <code>&lt;head&gt;&lt;/head&gt;</code> section have this function ) then not call function</p>\n\n<p>if function was not called ( in <code>&lt;head&gt;&lt;/head&gt;</code> section haven't this function ) then call function</p>\n\n<p>like require_once or include_once with php</p>\n\n<p>help me\nthank</p>\n",
            "last_activity_date": 1296491023,
            "question_id": 3332265,
            "score": 6,
            "tags": [
                "javascript"
            ],
            "title": "how to detect a function was called with javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>try:</p>\n\n<pre><code> function msgBox(message)\n {\n  var msgbox = document.getElementById(\"msgbox\");\n  msgbox.innerHTML = message;\n  var x = (window.innerWidth / 2) - (msgbox.offsetWidth / 2);\n  var y = (window.offsetHeight / 2) - (msgbox.offsetHeight / 2);              \n  msgbox.style.top = y;\n  msgbox.style.left = x;\n  msgbox.style.display = \"block\";\n }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>How about just doing with CSS:</p>\n\n<pre><code>&lt;div class=\"div\"&gt;Some Content......&lt;/div&gt;\n\n.div {\n   margin-left: auto;\n   margin-right: auto;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>&lt;div id=\"popup\" class=\"popup\"&gt;\n  This a vertically and horizontally centered popup.\n&lt;/div&gt;\n\n&lt;a onclick=\"showPopup('popup');\"&gt;Show Popup&lt;/a&gt;\n\n&lt;style type=\"text/css\"&gt;\n  .popup {\n    width:200px;\n    height:100px;\n    position:absolute;\n    top:50%;\n    left:50%;\n    margin:-50px 0 0 -100px; /* [-(height/2)px 0 0 -(width/2)px] */\n    display:none;\n  }\n&lt;/style&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n  function showPopup(id) {\n    var popup = document.getElementById(id);\n    popup.style.display = 'block';\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>CSS explained:</strong>\nThe div is 200x100, you position it 50% from the top and 50% from the left, but to have it centered fully, you need to substract from that 50% values the half of the width and height, the way to do this is to use negative margins, hence margin-top should be the negative value of the height/2 and margin-left should be the negative value of the width/2.</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>Try fixed-positioning:</p>\n\n<pre><code>#box {\n  position: fixed;\n  width: 40%;\n  margin: 200px 30%;\n}\n</code></pre>\n\n<p>It's only horizontally centered. Vertical will take some playing with. I have no idea how browsers act differently with the vertical alignment.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I also had this vertical centering problem on any webpage that required scrolling.</p>\n\n<p>Switching to position: fixed solved it, so:</p>\n\n<pre><code>position:fixed;\ntop:50%;\nleft:50%;\nmargin:-50px 0 0 -100px; /* [-(height/2)px 0 0 -(width/2)px] */\n</code></pre>\n\n<p>This worked in firefox, google chrome, safari (pc) and IE9.</p>\n\n<p>Unfortunately, I wanted it to appear in front of an <code>pdf file</code> - the pop up did appear in front using Firefox, Chrome but went behind in IE9 and Safari.... </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How to align a pop up division to center of monitor/screen using javascript?</p>\n\n<p>I tried using screen.width and screen.height to get center. But the division gets aligned to center of scrolling page vertically</p>\n\n<p>Thanks in advance for any help and suggestions</p>\n",
            "last_activity_date": 1372941945,
            "question_id": 3202583,
            "score": 6,
            "tags": [
                "javascript"
            ],
            "title": "How to center align pop up div using Javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This code will do what you want (if you want to swap the selected with the first child element). In case you want something else you need to be more precise.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\nfunction swapDiv(event,elem){\n    elem.parentNode.insertBefore(elem,elem.parentNode.firstChild);\n}\n\n&lt;/script&gt;\n\n\n &lt;div id=\"container\"&gt;\n        &lt;div onclick=\"swapDiv(event,this);\"&gt;1&lt;/div&gt;\n        &lt;div onclick=\"swapDiv(event,this);\"&gt;2&lt;/div&gt;\n        &lt;div onclick=\"swapDiv(event,this);\"&gt;3&lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>From the sounds of it you basically just want to swap the div with the div before it, ergo with the <code>previousSibling</code>. You could maybe look at doing an <code>insertBefore</code> but instead of creating a new element use the existing one. I'm not sure what happens to the attached events tho, if they will be copied over correctly.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>An element's <code>parentNode</code> property gives you its parent node. Elements have an <code>insertBefore</code> function that inserts an element before another reference element (moving it if it's already elsewhere in the tree). And nodes have a <code>previousSibling</code> that gives you the previous sibling node (which may or may not be an element). So:</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>function swapDiv(elm) {\n    var previous = findPrevious(elm);\n    if (previous) {\n        elm.parentNode.insertBefore(elm, previous);\n    }\n}\n</code></pre>\n\n<p>...where <code>findPrevious</code> looks like this:</p>\n\n<pre><code>function findPrevious(elm) {\n   do {\n       elm = elm.previousSibling;\n   } while (elm &amp;&amp; elm.nodeType != 1);\n   return elm;\n}\n</code></pre>\n\n<p>...where your <code>onclick</code> attributes should be:</p>\n\n<pre><code>onclick=\"swapDiv(this);\"\n</code></pre>\n\n<p>...although you may want to look into DOM2 event hooking instead (<code>addEventListener</code>, or <code>attachEvent</code> on IE).</p>\n\n<p>Slightly OT, but can I recommend using any of the several libraries available that make your life easier, such as <a href=\"http://prototypejs.org\">Prototype</a>, <a href=\"http://jquery.com\">jQuery</a>, <a href=\"http://code.google.com/closure/library\">Closure</a>, or <a href=\"http://en.wikipedia.org/wiki/List_of_JavaScript_libraries\">any of several others</a>. In fact, there was an error in an earlier version of this because it had been <em>that</em> long since I'd dealt with the DOM directly. :-)</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>In principle you just <code>insertBefore</code> your clicked element before its previous element sibling. However, the presence of whitespace Text nodes makes that more annoying than it should be in traditional scripting. The <a href=\"http://www.w3.org/TR/ElementTraversal/\" rel=\"nofollow\">Element Traversal API</a> will make this easier, but until it is more widely supported in browsers, helper functions are necessary, eg.:</p>\n\n<pre><code>&lt;div id=\"container\"&gt;\n    &lt;div&gt;1&lt;/div&gt;\n    &lt;div&gt;2&lt;/div&gt;\n    &lt;div&gt;3&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    // Bind event to each line div\n    //\n    var div= firstElementChild(document.getElementById('container'));\n    while (div!==null) {\n        div.onclick= swapWithPreviousElement;\n        div= nextElementSibling(div);\n    }\n\n    // Move element before its previous element sibling\n    //\n    function swapWithPreviousElement() {\n        var previous= previousElementSibling(this);\n        if (previous!==null)\n            this.parentNode.insertBefore(this, previous);\n    }\n\n\n    // We've used some Element Traversal API methods but some\n    // browsers don't support them yet. Provide wrapper functions\n    // for compatibility.\n    //\n    function previousElementSibling(element) {\n        if ('previousElementSibling' in element)\n            return element.previousElementSibling;\n        do\n            element= element.previousSibling;\n        while (element!==null &amp;&amp; element.nodeType!==1);\n        return element;\n    }\n    function nextElementSibling(element) {\n        if ('nextElementSibling' in element)\n            return element.nextElementSibling;\n        do\n            element= element.nextSibling;\n        while (element!==null &amp;&amp; element.nodeType!==1);\n        return element;\n    }\n    function firstElementChild(element) {\n        if ('firstElementChild' in element)\n            return element.firstElementChild;\n        var child= element.firstChild;\n        while (child!==null &amp;&amp; child.nodeType!==1)\n            child= child.nextSibling;\n        return child;\n    }\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am using classic Javascript for DOM scripting, i have a set of DIV's in a container DIV.\nOn click event of child DIV's, i want that the child DIV which has caused event to be swaped with the DIV above it..\nmy code goes here..</p>\n\n<pre><code> &lt;div id=\"container\"&gt;\n        &lt;div onclick=\"swapDiv(event);\"&gt;1&lt;/div&gt;\n        &lt;div onclick=\"swapDiv(event);\"&gt;2&lt;/div&gt;\n        &lt;div onclick=\"swapDiv(event);\"&gt;3&lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>if DIV 2 has been clicked it should be swap with DIV 1</p>\n",
            "last_activity_date": 1359711433,
            "question_id": 2943140,
            "score": 6,
            "tags": [
                "javascript",
                "dom"
            ],
            "title": "How to swap HTML elements in javascript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Just change <code>window.location</code>, e.g.</p>\n\n<pre><code>window.location=window.location.toString().replace(/^http:\\/\\/www\\./,'https://admin.')\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>javascript:location=location.href.replace(/http:/g,\"https:\")</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm looking for a simple bookmarklet to take the current URL of my website and refresh it with a couple of changes. For example:</p>\n\n<ol>\n<li>Take the current page: <a href=\"http://www.example.com/pages/\" rel=\"nofollow\">http://www.example.com/pages/</a></li>\n<li>and change it to: <a href=\"https://admin.example.com/pages/\" rel=\"nofollow\">https://admin.example.com/pages/</a></li>\n<li>then load that new URL.</li>\n</ol>\n\n<p>I tried searching for a bookmarklet that can do this but I couldn't find one. Can anyone point me in the right direction? Even a bookmarklet that does something like this that I can edit to suit my needs.</p>\n",
            "last_activity_date": 1355120024,
            "question_id": 2689553,
            "score": 6,
            "tags": [
                "javascript",
                "url",
                "bookmarklet"
            ],
            "title": "Bookmarklet to edit current URL"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Your best bet is listening on the non-standard <code>beforeunload</code> event. This is supported by almost all browsers, expect of Opera which is known to adhere the W3C standards extremely strictly.</p>\n\n<p>Kickoff example:</p>\n\n<pre><code>window.onbeforeunload = function() {\n    return \"You're leaving the site.\";\n};\n</code></pre>\n\n<p>This message will show up in kind of a confirmation dialogue.</p>\n\n<p>In your specific case you need to turn it off (just set to <code>null</code>) whenever a navigational link is clicked or an internal form is submitted. You can do that by listening on the <code>click</code> event of the desired links and the <code>submit</code> event of the desired forms. <a href=\"http://jquery.com\">jQuery</a> may be of great help here:</p>\n\n<pre><code>window.onbeforeunload = function() {\n    return \"You're leaving the site.\";\n};\n$(document).ready(function() {\n    $('a[rel!=ext]').click(function() { window.onbeforeunload = null; });\n    $('form').submit(function() { window.onbeforeunload = null; });\n});\n</code></pre>\n\n<p>You only need to give all external links the defacto standard attribute <code>rel=\"ext\"</code> to denote that those are external links.</p>\n\n<pre><code>&lt;a href=\"http://google.com\" rel=\"ext\"&gt;Google&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Take a look at <a href=\"http://stackoverflow.com/questions/2240340/redirect-to-an-intermediate-page-before-going-to-external-site/2240452#2240452\">this thread</a>.</p>\n\n<p>One possible way to achieve this would be to use Javascript to examine all of the <code>a</code> tags on your page when it loads and check if they are linking to an external site.  If so, you can add an <code>onclick</code> event to show a confirm/alert box or something more elegant. Of course, using jQuery will greatly simplify the Javascript you'll have to write, like in the above thread. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Using the expression from <a href=\"http://stackoverflow.com/questions/2240340/redirect-to-an-intermediate-page-before-going-to-external-site/2240452#2240452\">this question</a>, you can do the following:</p>\n\n<pre><code>$.expr[':'].external = function(obj){\n    return !obj.href.match(/^mailto\\:/) &amp;&amp; (obj.hostname != location.hostname);\n};\n$.expr[':'].internal = function(obj){\n    return obj.hostname == location.hostname;\n};\n\n$(function() {\n    var unloadMessage = function() {\n        return \"Don't leave me!\";\n    };\n\n    $('a:internal').click(function() { \n        window.onbeforeunload = null;\n    });\n    $('form').submit(function() { \n        window.onbeforeunload = null;\n    });\n\n    $('a:external').click(function() { \n        window.onbeforeunload = unloadMessage;\n    });\n\n    window.onbeforeunload = unloadMessage;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>First off define which events can actually take your user away from your site?</p>\n\n<ol>\n<li>A click of a link inside your web site content</li>\n<li>A submit of a form to an outside action</li>\n<li>A javascript from a child window that changes window.location on its parent</li>\n<li>User starting a search in the search bar (FF and IE)</li>\n<li>User entering a search/address in the browser address bar.</li>\n<li>User hitting a back button (or backspace) when it just came to your site</li>\n<li>User hitting a forward button (or shift-backspace) when they were off the site before but came back by getting there via Back button functionality</li>\n<li>User closes the browser window</li>\n</ol>\n\n<p>So. what can you do about all these?</p>\n\n<ol>\n<li>These are easy. Check your anchors and if they do point outside, add some functionality in the <code>onclick</code> event</li>\n<li>Similar to 1. Add your functionality for the <code>onsubmit</code> event of the form posting back outside of your site.</li>\n<li>-> 8. don't really have an applicable solution that could be controlled. You can abuse <code>onbeforeunload</code> event as much as you want, but you won't have much success of knowing what's going on. And there are certain limitations related to <code>onbeforeunload</code> as well, so your hands will be tied most of the time.</li>\n</ol>\n\n<h2>The real question?</h2>\n\n<p>Why would you want to control this event anyway except for bothering your users not to leave you. Begging doesn't give much justice in the web world anyway. And when some site would bother me with messages or even worse <strong>prevent me</strong> from leaving I wouldn't want to get back anymore. It smells of bad bad bad usability and gives a hint of adware site.</p>\n\n<p>Rather <strong>try to keep your users interested</strong> by providing them with valuable content.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>It's possible. Just try entering a question or answer to SO and then navigating away before submitting it.  It doesn't matter whether you click on a link or type in the address bar, you get an \"Are you sure?\" alert.  You might post over on <a href=\"http://meta.stackoverflow.com/\">SO Meta</a> asking how they do this.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can do that if you design your site as a one page web app.<br/>\nIt means, a single page is loaded, then other contents are loaded dynamically using ajax.</p>\n\n<p>In that case the <code>onbeforeunload</code> is triggered when the user leave the page/site.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This maybe help.</p>\n\n<p>1 : you need to check onclik event before attach initLocalLinkException();</p>\n\n<p>2 : its not tested.</p>\n\n<pre><code>&lt;a href=\"test.html\"&gt;internal link&lt;/a&gt;\n&lt;a href=\"#test\"&gt;html anchor&lt;/a&gt;\n&lt;a href=\"http://www.google.com\"&gt;external link&lt;/a&gt;\n&lt;a href=\"http://www.google.com\" target=\"_blank\"&gt;blank external link&lt;/a&gt;\n&lt;form action=\"test.html\" method=\"post\" &gt;\n    &lt;button type=\"submit\"&gt;Post Button&lt;/button&gt;\n&lt;/form&gt;\n\n\n\n$(document).ready(function () {\n    initLocalLinkException();\n    window.onbeforeunload = function () { confirmExit() };\n    $('form').submit(function () { \n        window.onbeforeunload = null;\n    });\n});\n\nfunction initLocalLinkException() {\n    $('a').click(function () {\n        if ($(this).attr('target') != '_blank') {\n\n            var link = $(this).attr('href');\n            if (link.substr(0, 4) == 'http') { \n                var LocalDomains = new Array('http://www.yourdomain.com', 'https://yourdomain.com', 'localhost', '127.0.0.1');\n                var matchCount = 0;\n                $.each(LocalDomains, function () {\n                    if (this == link.substr(0, this.length)) {\n                        matchCount++; \n                    }\n                });\n                if (matchCount == '0') { \n                    confirmExit(); \n                } else {\n                    window.onbeforeunload = null;\n                }\n            } else { window.onbeforeunload = null;  }\n\n        }\n    });\n}\n\nfunction confirmExit() {\n    alert('Are you sure?'); // Do whatever u want.\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>This sounded like something almost impossible to do when it was presented to me. I know you can display a dialog box to confirm when leaving a web page. But is it possible to display a dialog box when leaving a site? </p>\n\n<p>I haven't been able to find/create anything that can read the address bar and know that you're leaving the site.</p>\n",
            "last_activity_date": 1363852876,
            "question_id": 2365994,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "events",
                "dialog",
                "confirmation"
            ],
            "title": "Display a warning when leaving the site, not just the page"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The problem may be that the web browser sees the \"<code>&lt;/script&gt;</code>\" sequence and decides that's the end of the script block.</p>\n\n<p>Another way to fix the problem aside from using an escape sequence like you did is to break it apart into 2 strings that are concatenated:</p>\n\n<pre><code>\"&lt;\" + \"/script&gt;\" \n</code></pre>\n\n<p>The behavior you're seeing isn't a bug n the part of the browser.  </p>\n\n<p>Browsers don't \"look inside\" a script block, they just pass the content to the script engine. The \"<code>&lt;/script&gt;</code>\" sequence is how they know they've come to the end of the block, and since the browser doesn't interpret the contents of the block, it has no way to know that it's in the context of a literal string in the script code.</p>\n\n<p>Remember that browsers can support more script languages than just Javascript, even if it's not commonly seen.  Internet Explorer supports VBscript (and I think any scripting language that can be run by a windows script host, but I'm not sure about that).  And when the ability to have script blocks was put into browsers way back when, no one could be sure that Javascript would end up being so universal.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>The HTML parser will interpret the end of tag token (ETAGO delimiter <code>&lt;/</code>) in your string, as the end of the current script tag, giving you the <em>unterminated string</em> <code>SyntaxError</code>.</p>\n\n<p>There are several workarounds, including the use of <code>CDATA</code> blocks, but the simplest way is to escape that character, or make a string concatenation:</p>\n\n<pre><code>var snaphtml = '&lt;script src=\"...\"&gt;\\x3C/script&gt;';\n\nvar snaphtml = '&lt;script src=\"...\"&gt;&lt;' + '/script&gt;';\n</code></pre>\n\n<p>And of course, you can also create your <code>script</code> element programmatically and append it to the head:</p>\n\n<pre><code>var newScript = document.createElement(\"script\");\nnewScript.src = \"...\"; \n//...\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You're actually running into an html-escaping issue: the browser interprets <code>&lt;/script&gt;</code> in your string as the close-tag for the <code>script</code> element in which your javascript is embedded -- so to the browser, your line looks like it's missing the close single-quote:</p>\n\n<pre><code>var snaphtml = '&lt;script src=\"http://seadragon.com/embed/lxe.js?width=auto&amp;height=400px\"&gt;\n</code></pre>\n\n<p>To fix it, as you've found, you just need to change <code>&lt;/script&gt;</code> to anything else, like <code>&lt;\\/script&gt;</code> or <code>\\074/script&gt;</code>, etc.</p>\n\n<p>The only characters you normally need to worry about in a javascript string are double-quote (if you're quoting the string with a double-quote), single-quote (if you're quoting the string with a single-quote), backslash, carriage-return (\\r), or linefeed (\\n).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>See <em><a href=\"http://mathiasbynens.be/notes/etago\" rel=\"nofollow\">Everything you always wanted to know about <code>&lt;/</code>, aka. the end-tag open (ETAGO) delimiter</a></em> for a detailed explanation. TL;DR there\u2019s no need for crazy hacks like string concatenation or char literal escapes \u2014 just escape it as such:</p>\n\n<pre><code>var snaphtml = '&lt;\\/script&gt;';\n</code></pre>\n\n<p>Also, note that this is only necessary for inline scripts.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>What exactly needs to be escaped in javascript strings.  Or, more specifically, why does </p>\n\n<pre><code>var snaphtml = '&lt;script src=\"http://seadragon.com/embed/lxe.js?width=auto&amp;height=400px\"&gt;&lt;/script&gt;';\n</code></pre>\n\n<p>give a syntax error?  Escaping the final <code>&lt;\\/script&gt;</code> seems to fix the syntax error, but this doesn't make sense to me as a javascript beginner.</p>\n",
            "last_activity_date": 1309185895,
            "question_id": 2170609,
            "score": 6,
            "tags": [
                "javascript"
            ],
            "title": "Why do I need to escape the &#39;/&#39; character in JavaScript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>for your x and y try using this:</p>\n\n<pre><code>var x = e.pageX - $(this).offset().left;\nvar y = e.pageY - $(this).offset().top;\n</code></pre>\n\n<p>let me know if that doesn't work</p>\n\n<p><strong>EDIT:</strong> to clarify - you are getting the left and top offset from the dom element directly. the reason i suggest you use the jQuery offset() function is that jQuery is more likely to calculate the correct position cross browser.</p>\n\n<p><strong>EDIT 2:</strong> Can you please try to assign the click event to the image as opposed to the link. I have a sneaking suspicion that the link is reporting its top offset as the bottom of the element it encapsulates...</p>\n",
                    "is_accepted": true,
                    "score": 20
                }
            ],
            "body": "<p>I'm  working on an app that allows tagging directly on photos via clicking (like Facebook, flickr, et al).  However, I can't seem to register the right coordinates for a click on a photo.  The problem is the x coordinates seem to be absolute x distance of a click within the browser window(rather than within the photo), while the y coordinates are often negative or incredibly small (negative near the top, small near the bottom).  These are the values I get when clicking near the top left corner (which should register as being at or near 0: \"x\"=>\"219\", \"y\"=>\"-311\"... 219 seems about right when measuring the distance from the left side of the browser window, but the distance should be within the photo area)</p>\n\n<p>I'm currently capturing click events and coordinates on a photo using a regular link (the link contains other relevant photo data) and doing the math (same calculations used in the jquery docs) before passing it along to my rails app. I doubt the method has much to do with the erroneous values, though I suspect the math or some css quirk could be at fault. In either case, I'm absolutely boggled.</p>\n\n<p>JS:</p>\n\n<pre><code>$(document).ready(function(){\nclickTag();\n</code></pre>\n\n<p>});</p>\n\n<pre><code>function clickTag(){\n   $(\"#taggable\").click(function(e){\n    \tvar x = e.pageX - this.offsetLeft;\n    \tvar y = e.pageY - this.offsetTop;\n    \tvar url = $(this).attr(\"href\");\n    \tcourl = url + '&amp;x=' + x + '&amp;y=' + y;\n      $.ajax({\n    \ttype:\"GET\",\n     \turl: courl,\n    \tdataType:\"script\"\n    \t});\n    \treturn false;\n   }); \n}\n</code></pre>\n\n<p>CSS: </p>\n\n<pre><code>`&lt;div class=\"content\"&gt;\n    &lt;div id=\"image_container\" style=\"position:relative;width:405px;float:left;height:600px;&gt;\n    \t&lt;a href=\"/tags/new_xy?look_id=188&amp;amp;photo_id=1150\" id=\"taggable\" style=\"position:relative;top:0;left:0px;\"&gt;&lt;img alt=\"taggable_image\" src=\"taggable_image.jpg\" /&gt;&lt;/a&gt;\n    &lt;div class=\"tags\" id=\"tags\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;`\n</code></pre>\n",
            "last_activity_date": 1297015377,
            "question_id": 1128643,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "Get accurate position for a click on a linked image using jquery"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>You would probably get better performance if you do the HTML generation on the server side, and then use Ajax to retrieve the html and append it to your DOM. (I'm assuming you're getting all the data from the server using Ajax anyway.)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Have you considered using a templating library?  <a href=\"http://beebole.com/pure/\" rel=\"nofollow\">PURE</a> has very good performance, for instance (try out the 500 row example).</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>i was messing around with appending large amounts of html yesterday. i think rendering on server side and inserting is the way to go, also i may add, that not using jquery is faster by 50-100ms in my tests, which are here:</p>\n\n<p><a href=\"http://programmingdrunk.com/playground\" rel=\"nofollow\">http://programmingdrunk.com/playground</a></p>\n\n<p>you will need to enable firebug console to see speed results</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Be aware that often the speed bottleneck is not creating the DOM, but <em>inserting</em> the DOM. This is especially true on IE with complicated style sheets and when the new content contains many levels of nested tags. </p>\n\n<p>See: <a href=\"http://bitkickers.blogspot.com/2008/12/ajax-grid-performance-in-ie.html\" rel=\"nofollow\">http://bitkickers.blogspot.com/2008/12/ajax-grid-performance-in-ie.html</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Try cloning parts of the DOM itself rather than generating it on the fly (i.e. append actual DOMElements so they don't have to be created).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Chase is right, it doesn't matter how fast you can generate the HTML via JavaScript, it's the DOM insertion that will kill you. Tie any programming language with the DOM and it'll be slow.</p>\n\n<p>My only suggest is to have the table paginated so you don't load so many at once, or maybe not to use AJAX at all.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There's a performance issue with jQuery and inserting a large string of html to the DOM, due to its $.trim function.</p>\n\n<p>I sometimes find plain old dom scripting much faster than using jquery. Try something like</p>\n\n<pre><code>document.getElementById('id').innerHTML = myarray.join('')\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>In my case,document.getElementById('id').innerHTML = myarray.join('') is also a killer since array have 10 HTMl strings. The joins would create a big long string and nnerHTML performance varies significantly between 100ms to 1200ms on IE 7.</p>\n\n<p>any cluses?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Interestingly, I found that array push has not saved me any significant time compare to string concatenation on FF. and even the little time that it saved was lost to array.join('') at the end.  Has anyone experience the same thing?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think you can split html in many parts and append it one by one.</p>\n\n<p><code>$(\"table tr:last\").after('&lt;tr&gt;...&lt;/tr&gt;');</code></p>\n\n<p>Like document lines in googleDocs</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have come to find that using jQuery to create HTML client-side can be a huge performance booster if done properly. I use AJAX returning JSON to retrieve dynamic content and then I build the relevant HTML and insert it using jQuery.  The first time I messed with this technique I found that the string concatenator in IE's JavaScript performed really slowly so that building a dynamic table with more than 50 or so rows performed terribly.  </p>\n\n<pre><code>var shtml = '&lt;table&gt;';\nfor(var i=0;i&lt;100;i++) shtml += '&lt;tr&gt;&lt;td&gt;A bunch of content&lt;/td&gt;&lt;/tr&gt;';\nshtml += '&lt;/table&gt;';\n$('#myTable').append(shtml);\n</code></pre>\n\n<p>Then I found a technique for string concatenation that changed everything.  Instead of using the sting += operator use arrays to do concatenation;</p>\n\n<pre><code>var shtml = ['&lt;table&gt;'];\nfor(var i=0;i&lt;100;i++) shtml.push('&lt;tr&gt;&lt;td&gt;A bunch of content&lt;/td&gt;&lt;/tr&gt;');\nshtml.push('&lt;/table&gt;');\n$('#myTable').append(shtml.join(''));\n</code></pre>\n\n<p>I found that performance improved significantly.  Now, however, there is a ceiling of about 100 rows before I start to see the browser itself struggle with dynamically inserting so much content at once.  Does anyone have any pointers or techniques that can be used to help me achieve the next performance boost for large sets of dynamic HTML?</p>\n",
            "last_activity_date": 1314900403,
            "question_id": 589120,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "dhtml"
            ],
            "title": "jQuery and appending large amounts of HTML"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Just Take the form in jQuery, iterate through the elements and append it to the form data, with the right type of course.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>You can try this:</p>\n\n<pre><code>var fd = new FormData();\nvar data = [];           //&lt;---------------declare array here\nvar file_data = object.get(0).files[i];\nvar other_data = $('form').serialize();\n\ndata.push(file_data);  //&lt;----------------push the data here\ndata.push(other_data); //&lt;----------------and this data too\n\nfd.append(\"file\", data);  //&lt;---------then append this data\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>    var fd = new FormData();\n    var file_data = $('input[type=\"file\"]')[0].files; // for multiple files\n    for(var i = 0;i&lt;file_data.length;i++){\n        fd.append(\"file_\"+i, file_data[i]);\n    }\n    var other_data = $('form').serializeArray();\n    $.each(other_data,function(key,input){\n        fd.append(input.name,input.value);\n    });\n    $.ajax({\n        url: 'test.php',\n        data: fd,\n        contentType: false,\n        processData: false,\n        type: 'POST',\n        success: function(data){\n            console.log(data);\n        }\n    });\n</code></pre>\n\n<p>Added a <code>for</code> loop and changed <code>.serialize()</code> to <code>.serializeArray()</code> for object reference in a <code>.each()</code> to append to the <code>FormData</code>.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>well, as an easier alternative and shorter, you could do this too!! </p>\n\n<pre><code>var fd = new FormData();\n\nvar file_data = object.get(0).files[i];\nvar other_data = $('form').serialize(); //page_id=&amp;category_id=15&amp;method=upload&amp;required%5Bcategory_id%5D=Category+ID\n\nfd.append(\"file\", file_data);\n\n$.ajax({\n    url: 'add.php?'+ other_data,  //&lt;== just add it to the end of url ***\n    data: fd,\n    contentType: false,\n    processData: false,\n    type: 'POST',\n    success: function(data){\n        alert(data);\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I always use this.It send form data using ajax</p>\n\n<pre><code>$(document).on(\"submit\", \"form\", function(event)\n{\n    event.preventDefault();\n\n    var url=$(this).attr(\"action\");\n    $.ajax({\n        url: url,\n        type: 'POST',            \n        data: new FormData(this),\n        processData: false,\n        contentType: false,\n        success: function (data, status)\n        {\n\n        }\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How can I post file and input string data with <code>FormData()</code>? For instance, I have many other <strong>hidden input data</strong> that I need them to be sent to the server,</p>\n\n<p>html,</p>\n\n<pre><code>&lt;form action=\"image.php\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n&lt;input type=\"file\" name=\"file[]\" multiple=\"\" /&gt;\n&lt;input type=\"hidden\" name=\"page_id\" value=\"&lt;?php echo $page_id;?&gt;\"/&gt;\n&lt;input type=\"hidden\" name=\"category_id\" value=\"&lt;?php echo $item_category-&gt;category_id;?&gt;\"/&gt;\n&lt;input type=\"hidden\" name=\"method\" value=\"upload\"/&gt;\n&lt;input type=\"hidden\" name=\"required[category_id]\" value=\"Category ID\"/&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>With this code below I only manage to send the file data <strong>but not</strong> the hidden input data.</p>\n\n<p>jquery,</p>\n\n<pre><code>// HTML5 form data object.\nvar fd = new FormData();\n\nvar file_data = object.get(0).files[i];\nvar other_data = $('form').serialize(); // page_id=&amp;category_id=15&amp;method=upload&amp;required%5Bcategory_id%5D=Category+ID\n\nfd.append(\"file\", file_data);\n\n$.ajax({\n    url: 'add.php',\n    data: fd,\n    contentType: false,\n    processData: false,\n    type: 'POST',\n    success: function(data){\n        alert(data);\n    }\n});\n</code></pre>\n\n<p>server.php</p>\n\n<pre><code>print_r($_FILES);\nprint_r($_POST);\n</code></pre>\n\n<p>result,</p>\n\n<pre><code>Array\n(\n    [file] =&gt; Array\n        (\n            [name] =&gt; xxx.doc\n            [type] =&gt; application/msword\n            [tmp_name] =&gt; C:\\wamp\\tmp\\php7C24.tmp\n            [error] =&gt; 0\n            [size] =&gt; 11776\n        )\n\n)\n</code></pre>\n\n<p>I would like to get this as my result though,</p>\n\n<pre><code>Array\n(\n    [file] =&gt; Array\n        (\n            [name] =&gt; xxx.doc\n            [type] =&gt; application/msword\n            [tmp_name] =&gt; C:\\wamp\\tmp\\php7C24.tmp\n            [error] =&gt; 0\n            [size] =&gt; 11776\n        )\n\n)\n\nArray\n(\n    [page_id] =&gt; 1000\n    [category_id] =&gt; 12\n    [method] =&gt; upload\n    ...\n)\n</code></pre>\n\n<p>Is it possible?</p>\n",
            "last_activity_date": 1422064602,
            "question_id": 21060247,
            "score": 5,
            "tags": [
                "javascript",
                "php",
                "jquery",
                "ajax",
                "form-data"
            ],
            "title": "Send FormData and String Data Together Through JQuery AJAX?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The former snippet adheres to the CommonJS spec, which outlines how modules are to be exported/transported to be used in other modules.</p>\n\n<p>So, you could write code which could look like this</p>\n\n<p><strong>src/ExpressModule.js</strong></p>\n\n<pre><code>var express = require('express');\n// do initialization\nexports.express = express;\n</code></pre>\n\n<p>And then you can use it like this</p>\n\n<p><strong>src/UserExpressModule.js</strong></p>\n\n<pre><code>var express = require('./ExpressModule');\n// do something else\n</code></pre>\n\n<p>CommonJS spec was built primarily for server side environments, and by extension, is used in Node.js</p>\n\n<p>On the other hand of the spectrum is AMD, most notably implemented by RequireJS. AMD was built for browser environments, or client-side code, and here you can use and define modules like the latter snippet in your code</p>\n\n<p>A sample use could be like this</p>\n\n<p><strong>src/main.js</strong></p>\n\n<pre><code>requirejs.config({\n    baseUrl: '../vendor'\n    path: '../src'\n});\nrequire(['jquery', 'underscore', 'backbone'], function($, _, Backbone) {\n    // do some client side computation here\n});\n</code></pre>\n\n<p>You can then include this <code>main.js</code> file in your index.html like so</p>\n\n<pre><code>&lt;script data-main=\"src/main.js\" src=\"vendor/require.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Essentially, CommonJS and AMD are at their core specifications for modularizing Javascript, but are aimed at different execution environments.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Consider the first snippet, which is in the CommonJS style:</p>\n\n<pre><code>var $ = require('jquery');\nvar _ = require('underscore');\nvar BackBone = require('backbone');\n</code></pre>\n\n<p>These calls are synchronous calls: when <code>require</code> returns, it returns the module you requested. CommonJS <code>require</code> calls are synchronous. There is a proposal for supporting asynchronous forms of <code>require</code> but as far as I <a href=\"http://wiki.commonjs.org/wiki/Modules/Async/A\">can tell</a> it has not progressed beyond the proposal level. Node.js used to have <code>require.async</code> which has been removed. There's a <a href=\"https://npmjs.org/package/require.async\">package</a> that implements it though. Using this package looks at lot like using AMD style modules.</p>\n\n<p>Now, consider the second snippet, which is in the AMD style: </p>\n\n<pre><code>require(['jquery','underscore','backbone'],function ($, _, BackBone){\n    //code goes here\n})\n</code></pre>\n\n<p>Since RequireJS implements the AMD type of module system, the above code works with RequireJS. This <code>require</code> call is --- as suggested by the name Asynchronous Module Definition (AMD) --- asynchronous. You can't rely on the return value of <code>require</code> to get a module value. You have to use a callback instead. The <code>define</code> call works in a similar way but defines a module in addition to requiring modules.</p>\n\n<p>Now, if you use RequireJS, it provides facilities that allow to use either style when you define modules so that you can define a module like this:</p>\n\n<pre><code>define(['jquery','underscore','backbone'],function ($, _, BackBone){\n    //code goes here\n});\n</code></pre>\n\n<p>Or use something that looks more like the CommonJS idiom like this:</p>\n\n<pre><code>define(function (require) {\n    var $ = require('jquery');\n    var _ = require('underscore');\n    var BackBone = require('backbone');\n    //code goes here\n});\n</code></pre>\n\n<p>It makes it really easy to convert a CommonJS style module to use with RequireJS: just wrap it with a <code>define</code> call as above. There's a <a href=\"http://requirejs.org/docs/commonjs.html#autoconversion\">tool</a> to help the conversion.</p>\n\n<p>Behind the scenes, RequireJS reads the code of the callback in the 2nd form and creates a list of dependencies so that in the end it is interpreted like:</p>\n\n<pre><code>define(['require', 'jquery','underscore','backbone'], function (require) {\n    var $ = require('jquery');\n    var _ = require('underscore');\n    var BackBone = require('backbone');\n    //code goes here\n})\n</code></pre>\n\n<p>It may be surprising (given that AMD is asynchronous) that the <code>require</code> calls in the callback are synchronous. This is part of RequireJS's support for the CommonJS style. RequireJS supports a kind of synchronous <code>require</code> call but with the following caveat: if the module is <em>already</em> defined before the call to the synchronous <code>require</code>, then the synchronous <code>require</code> returns the module's value, but otherwise it fails <em>immediately</em>. That is, it does not <em>try</em> to load a module. Because RequireJS interprets a module definition that uses the CommonJS style as I've shown above --- as if the dependencies were actually listed in the <code>define</code> arguments --- then these modules are guaranteed to be loaded by the time the synchronous calls to <code>require</code> are made.</p>\n\n<p>Besides being able to use CommonJS modules in RequireJS (provided a wrapper is added), it is also possible to use modules designed for RequireJS in a CommonJS environment like Node.js. For instance, I've used <a href=\"https://github.com/ajaxorg/node-amd-loader\">node-amd-loader</a> to load modules I've designed as AMD modules in Node.js.</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I was wondering what the difference between these snippets is.</p>\n\n<pre><code>var $ = require('jquery');\nvar _ = require('underscore');\nvar BackBone = require('backbone');\n</code></pre>\n\n<p>and</p>\n\n<pre><code>require(['jquery','underscore','backbone'],function ($, _, BackBone){\n    //code goes here\n})\n</code></pre>\n\n<p>Both work fine for me, but not sure is their any purpose behind the above two.</p>\n",
            "last_activity_date": 1389278289,
            "question_id": 21021621,
            "score": 5,
            "tags": [
                "javascript",
                "node.js",
                "requirejs"
            ],
            "title": "Difference between RequireJS and CommonJS"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><code>$.mobile.navigate</code> and <code>navigate</code> <em>event</em>, are used to track URL history and pass/fetch data from URL. They work with browser's navigation (back / forward).</p>\n\n<p>To pass data between pages dynamically within a webapp using internal navigation, use <code>$.mobile.changePage</code>.</p>\n\n<p>Resources:</p>\n\n<ul>\n<li><a href=\"http://api.jquerymobile.com/jQuery.mobile.navigate/\" rel=\"nofollow\">$.mobile.navigate()</a></li>\n<li><a href=\"http://api.jquerymobile.com/navigate/\" rel=\"nofollow\">Navigate</a></li>\n<li><a href=\"http://api.jquerymobile.com/jQuery.mobile.changePage/\" rel=\"nofollow\">$.mobile.changePage()</a></li>\n</ul>\n\n<p>Use the below code to pass <em>data</em> from page to another.</p>\n\n<pre><code>$.mobile.changePage('store.html', {\n dataUrl: \"store.html?id=123\",\n data: {\n    'id': '123'\n },\n reloadPage: true // force page to reload\n});\n</code></pre>\n\n<p>To retrieve <em>data</em></p>\n\n<pre><code>$('.selector').on('pagebeforeshow', function () {\n var values = $(this).data(\"url\").split(\"?\")[1];\n id = values.replace(\"id=\", \"\");\n console.log(id);\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I'm using <code>$.mobile.navigate(\"#test-page\", {id:123})</code> to navigate to a secondary page.</p>\n\n<p>The navigation from page to page works fine.... but the state is empty! </p>\n\n<p>The docs clearly show that the state should contain all information I need when the navigation is performed.</p>\n\n<p>This is the code I'm using:</p>\n\n<pre><code>$(window).on('navigate', function(event, data) {\n  console.log(\"navigated\", data);\n  console.log(data.state.info);\n  console.log(data.state.direction);\n  console.log(data.state.url);\n  console.log(data.state.hash);\n  if (data.state.hash === \"test-page\") {\n    console.log(\"Test page\", data.state.id);\n  }\n});\n</code></pre>\n\n<p>Unfortunately data is passed as empty:</p>\n\n<pre><code>{\n    state:{}\n}\n</code></pre>\n\n<p>The HTML is the following:</p>\n\n<pre><code>&lt;div id=\"test-home\" data-role=\"page\"&gt;\n\n      &lt;div data-role=\"header\"&gt;\n          &lt;h1&gt;Test Home&lt;/h1&gt;\n      &lt;/div&gt;\n      &lt;div data-role=\"content\"&gt;\n          &lt;div id=\"test-btn\"&gt;\n            Click DIV for TEST page\n          &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div data-role=\"footer\"&gt;\n      &lt;/div&gt;\n\n  &lt;/div&gt;\n\n\n  &lt;div id=\"test-page\" data-role=\"page\"&gt;\n     &lt;div data-role=\"header\"&gt;\n          &lt;h1&gt;Test Page&lt;/h1&gt;\n     &lt;/div&gt;\n\n     &lt;div data-role=\"content\"&gt;\n        Test page\n\n     &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p>Hope that someone can help. Thanks!</p>\n",
            "last_activity_date": 1364918684,
            "question_id": 15765858,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "jquery-mobile",
                "browser-history"
            ],
            "title": "jQuery Mobile navigate - Why is the state empty?"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>This function starts with 1 and then tries to either add 5 to it or multiply it by 3. If that is equal to the goal, the function terminates and prints out the expression found. If not, it calls itself recursively with the value at that level until a match is found or until the values become too high.</p>\n\n<p>Does that help?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>someone could write out a couple times how find is getting called.</p>\n</blockquote>\n\n<p>Here you go:</p>\n\n<pre><code>find(1, \"1\") -&gt; find(3, \"(1 * 3)\")\n             -&gt; find(8, \"((1 * 3) + 5)\")\n             -&gt; find(24, \"(((1 * 3) + 5) * 3)\")\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Simply speaking, <code>find(start,goal)</code> will be called recursively as long as the <code>goal</code> value has not been reached. In each call, the current number will be either multuplied by 3 or incremented by 5. The <code>history</code> variable stores the string with the operations performed. The current operation is appended to that string in every iteration.</p>\n\n<p>Explanation:</p>\n\n<pre><code>function findSequence(goal) {\n\n  // This inner function will be called recursively.\n  // 'history' is a string with the current operations \"stack\"\n  function find(start, history) {\n    if (start == goal)           // if goal is achieved, simply return the result\n                                 // ending the recursion\n      return history;\n    else if (start &gt; goal)       // return null to end the recursion\n      return null;\n    else\n      // One of the 'find' calls can return null - using ||\n      // ensures we'll get the right value.\n      // Null will be returned if 'start+5' or 'start*3' is\n      // greater than our 'goal' (24 in your example).\n      // The following line is where a recursion happens.\n      return find(start + 5, \"(\" + history + \" + 5)\") ||\n             find(start * 3, \"(\" + history + \" * 3)\");\n  }\n\n  // Start with '1'\n  return find(1, \"1\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Think of the infinite combinations of adding 5 and multiplying by 3 like a binary tree.  At the top is the easiest number to calculate, <code>1</code> (in effect a \"no steps necessary\" answer).  Down one level and to the left is <code>1+5</code>, and to the right is <code>1*3</code>.  At each level the equation resolves to a new value (with a more complex history).  This equation is navigating through that tree until it finds a node that equates to the <code>goal</code>.  If a node on a branch of the tree produces a value greater than your goal, then it returns null (thus halting the further recusing down that branch, this is because both operations only increase the value so once you end up greater than there is no point to keep looking), if the value of a node equates to the goal then it is returned as the answer (along with the path it used to get there).  When the value is less than then both paths could potentially hold the answer so it calls find on each.  Here is where JavaScript's \"truthy\" Boolean logic comes in.  By using the <code>||</code> (OR) operator JavaScript will first look down the <code>+5</code> side of the tree. if 0 or null are returned then the other call (to look down the <code>*3</code>) will execute.  If any return evaluates to a non <code>false</code> value then it will get returned up the stack and the search will end.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The function runs a rather simple <em><a href=\"http://en.wikipedia.org/wiki/Brute-force_search\" rel=\"nofollow\">brute force search</a></em> with <a href=\"http://en.wikipedia.org/wiki/Backtracking\" rel=\"nofollow\"><em>backtracking</em></a>: at each invocation level it tries adding <code>5</code> to the number, and see if starting from the resultant number gets you to the goal. If it does, the result is returned; otherwise, the number is multiplied by <code>3</code>, and the search for the goal continues from that new number. As the recursion goes along, the textual representation of the expression producing the number is passed to the next invocation levels.</p>\n\n<p>The search for <code>14</code> goes as follows:</p>\n\n<pre><code>(1,  \"1\")\n(5,  \"1+5\")\n(10, \"(1+5)+5\")\n(15, \"((1+5)+5)+5\") &lt;&lt;= Fail\n(30, \"((1+5)+5)*3\") &lt;&lt;= Fail\n(15, \"(1+5)*3\") &lt;&lt;= Fail\n(3,  \"1*3\")\n(8,  \"(1*3)+5\")\n(13, \"((1*3)+5)+5\")\n(18, \"(((1*3)+5)+5)+5\") &lt;&lt;= Fail\n(39, \"(((1*3)+5)+5)*3\") &lt;&lt;= Fail\n(24,  \"((1*3)+5)*3\") &lt;&lt;= Fail\n(9, \"(1*3)*3\")\n(14, \"((1*3)*3)+5) &lt;&lt;= Success!\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>The body of <code>find</code> has three exit paths, two that correspond to a condition that stops the recursion and one that recurses:</p>\n\n<pre><code>if (start == goal)\n  return history; // stop recursion: solution found\nelse if (start &gt; goal)\n  return null;    // stop recursion: solution impossible\nelse\n  // ...\n</code></pre>\n\n<p>The third path is actually a \"branch\", in that it recurses twice (once to try the addition, once for the multiplication):</p>\n\n<pre><code>  return find(start + 5, \"(\" + history + \" + 5)\") ||\n         find(start * 3, \"(\" + history + \" * 3)\");\n</code></pre>\n\n<p>So what's going on here?</p>\n\n<p>First of all, note that each of these two <code>find</code> calls will evaluate to either a non-empty string (the history of operations) or to <code>null</code>. Since a non-empty string is a \"truthy\" value and <code>null</code> is a \"falsy\" value, we take advantage of this by joining them with the <code>||</code> operator; this operator evaluates to its first operand if it is truthy, otherwise to the second operand.</p>\n\n<p>This means that the first recursion branch (+5) will be evaluated first. If there is a sequence of operations that starts by adding 5 and reaches the goal then the description of this sequence will be returned. Otherwise, if there is a sequence that starts by multiplying by 3 and reaches the goal the description of that history will be returned.</p>\n\n<p>If there is no way to reach the goal then the return value will be the <code>null</code> produced by the second branch.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The best way for you to learn this would be to trace through the code in the JavaScript debugger.</p>\n\n<p>Have you used the debugger before? It's really fun and enlightening and easy too.</p>\n\n<p>Simply add a <code>debugger;</code> statement where you want the code to stop. A good place would be just before you call <code>findSequence()</code>:</p>\n\n<pre><code>debugger;\nconsole.log(findSequence(24));\n</code></pre>\n\n<p>Now load your page in Chrome with the Developer Tools open. Your code will stop on that <code>debugger;</code> line. Find the button that lets you Step Into your code (over on the right above the Watch Expressions panel). Click that button to step into the <code>findSequence()</code> call. Each time you click it, it will step into the next line of code, which includes going into each recursive call.</p>\n\n<p>Whenever the code is stopped, you can hover the mouse over any variable to view it, or look at the variables in the panel on the right. There is also a Call Stack that will show you exactly where you are in the recursive calls.</p>\n\n<p>I'm sure somebody could explain the recursion to you, but you will learn a lot more if you actually experience it by stepping through your code in the debugger.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you get rid of the pretty printing stuff, the code is a little easier to read:</p>\n\n<pre><code>function findSequence(goal) {\n    function find(start) {\n        if (start == goal) {\n            return true;\n        } else if (start &gt; goal) {\n            return false;\n        } else {\n            return find(start + 5) || find(start * 3);\n        }\n    }\n\n    return find(1);\n}\n</code></pre>\n\n<p>The outer function, <code>findSequence</code>, dynamically creates a <em>new</em> function called <code>find</code> where <code>goal</code> is taken from the scope of the parent function. You could re-write it like this for clarity:</p>\n\n<pre><code>function findSequence(start, goal) {\n    if (start == goal) {\n        return true;\n    } else if (start &gt; goal) {\n        return false;\n    } else {\n        return findSequence(start + 5, goal) || findSequence(start * 3, goal);\n    }\n}\n</code></pre>\n\n<p>Now, you can see a little more clearly what happens. The recursive step is in the final <code>return</code> statement, which tries both <code>start + 5</code> and <code>start * 3</code> at each step and picks the branch that eventually returns <code>true</code>.</p>\n\n<p>Follow the logic of <code>findSequence(1, 23)</code> by hand and you'll understand how it works.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Lets leave the history parameter, we'll get to it later.</p>\n\n<p>The recursion expands to all possible operations.\nIt starts with the value <code>1</code> as <code>start</code>.</p>\n\n<ol>\n<li><p>We first check if we reached our destination: <code>goal</code>, if we did- return <code>true</code>, meaning the path we took is correct.</p></li>\n<li><p>Second, we ask- did we go over the bound (<code>goal</code>)? If we did, we should return <code>false</code> since this path can't help us.</p></li>\n<li><p>Otherwise, lets try our two possiblities (We use OR because we need at least one):</p>\n\n<ul>\n<li>Call the same function, but set <code>start</code> to <code>start + 5</code></li>\n<li>Call the same function, but set <code>start</code> to <code>start * 3</code></li>\n</ul></li>\n</ol>\n\n<p>The history variable keeps the steps we take. So if a function call identifies that <code>start == goal</code> it returns it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><code>goal</code> is your objective and it's set to 24</p>\n\n<pre><code>goal == 24\n</code></pre>\n\n<p>Now we have this internal function <code>find()</code> that checks to see if <code>start</code> is equal to 24; its not.\nIt also checks to see if start is greater then 24 this is also not true,</p>\n\n<pre><code>find(1 \"1\")\n1 == 24 //false\n1 &gt; 24 //false\n</code></pre>\n\n<p>So it hits the else statement where it calls find again, this is where the null value from the <code>else if()</code> comes in. If the return is null then it calls the || part until it eventually finds the correct answer.</p>\n\n<pre><code>return find(6, \"(1 + 5)\")\n       find(11, \"((1 + 5) + 5)\")\n       find(16, \"(((1 + 5) + 5) +5)\")\n       find(21, \"((((1+5) + 5) + 5) +5)\")\n       //next one returns null!\n       //tries * by 3 on 21, 16, and 11 all return null \n</code></pre>\n\n<p>so it switches to the ||</p>\n\n<pre><code>return find(3, \"(1 * 3)\")\n       find(8, \"((1 * 3) +5)\")\n       //some calls down +5 path but that returns null\n       find(24, \"(((1 * 3) + 5) * 3)\")\n</code></pre>\n\n<p>Finally! We have a true return and we have logged the path we took in the history var.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You just have to create the tree of invocations to figure this out:</p>\n\n<pre><code>findSequence(24)\n    find(1, \"1\")\n       find(1 + 5, \"(1 + 5)\")\n           find(6 + 5, \"((1 + 5) + 5)\")\n               find(11 + 5, \"(((1 + 5) + 5) + 5)\"\n                   find(16 + 5, \"((((1 + 5) + 5) + 5) + 5)\"\n                       find(21 + 5, \"(((((1 + 5) + 5) + 5) + 5) + 5)\"\n                          start &gt; goal: return null\n                       find(21 * 3, \"(((((1 + 5) + 5) + 5) + 5) + 5)\" \n                          start &gt; goal: return null\n                   find(16 * 3, \"((((1 + 5) + 5) + 5) * 3)\"\n                       start &gt; goal: return null\n               find(11 * 3, \"(((1 + 5) + 5) * 3)\"\n                   start &gt; goal: return null\n           find(6 * 3, \"((1 + 5) * 3)\")\n               find(18 + 5, \"(((1 + 5) * 3) + 5)\")\n                   find(23 + 5, \"((((1 + 5) * 3) + 5) + 5)\")\n                       start &gt; goal: return null\n                   find(23 * 3, \"((((1 + 5) * 3) + 5) * 3)\")\n                       start &gt; goal: return null\n               find(18 * 3, \"(((1 + 5) * 3) * 3)\")\n                   start &gt; goal: return null\n       find(1 * 3, \"(1 * 3)\") \n           find(3 + 5, \"((1 * 3) + 5)\")\n               find(8 + 5, \"(((1 * 3) + 5) + 5)\")\n                   find(13 + 5, \"((((1 * 3) + 5) + 5) + 5)\")\n                       find(18 + 5, \"(((((1 * 3) + 5) + 5) + 5) + 5)\")\n                           find(23 + 5, \"((((((1 * 3) + 5) + 5) + 5) + 5) + 5)\")\n                               start &gt; goal: return null\n                           find(23 + 5, \"((((((1 * 3) + 5) + 5) + 5) + 5) + 5)\")\n                               start &gt; goal: return null\n                       find(18 * 3, \"(((((1 * 3) + 5) + 5) + 5) * 3)\")\n                           start &gt; goal: return null\n                   find(13 * 3, \"((((1 * 3) + 5) + 5) * 3)\")\n                       start &gt; goal: return null\n               find(8 * 3, \"(((1 * 3) + 5) * 3)\")\n                   return \"(((1 * 3) + 5) * 3)\"\n           find(3 * 3, \"((1 * 3) * 3)\")\n               find(9 + 5, \"(((1 * 3) * 3) + 5)\")\n                  find(14 + 5, \"((((1 * 3) * 3) + 5) + 5)\")\n                      find(19 + 5, \"(((((1 * 3) * 3) + 5) +5) + 5)\")\n                         return \"(((((1 * 3) * 3) + 5) +5) + 5)\"\n                      find(19 * 3, \"((((1 * 3) * 3) + 5) *3)\")\n                          start &gt; goal: return null\n               find(9 * 3, \"(((1 * 3) * 3) * 3)\")\n                    start &gt; goal: return null\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>This is an example from Eloquent Javascript:</p>\n\n<blockquote>\n  <p>By starting from the number 1 and repeatedly either adding 5 or\n  multiplying by 3, an infinite amount of new numbers can be produced.\n  How would you write a function that, given a number, tries to find a\n  sequence of additions and multiplications that produce that number?</p>\n</blockquote>\n\n<p>I'm having trouble understanding how the recursion is working here, wondering if someone could write out a couple times how find is getting called or some other explanation.</p>\n\n<pre><code>function findSequence(goal) {\n  function find(start, history) {\n    if (start == goal)\n      return history;\n    else if (start &gt; goal)\n      return null;\n    else\n      return find(start + 5, \"(\" + history + \" + 5)\") ||\n             find(start * 3, \"(\" + history + \" * 3)\");\n  }\n  return find(1, \"1\");\n}\n\nconsole.log(findSequence(24)); // =&gt; (((1 * 3) + 5) * 3)\n</code></pre>\n",
            "last_activity_date": 1364597883,
            "question_id": 15712230,
            "score": 5,
            "tags": [
                "javascript",
                "algorithm",
                "recursion"
            ],
            "title": "How does this recursion work?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You can animate paths quite easily with <code>stroke-dashoffset</code> and <code>and path.getTotalLength()</code></p>\n\n<pre><code>var totalLength = path.node().getTotalLength();\n\npath\n  .attr(\"stroke-dasharray\", totalLength + \" \" + totalLength)\n  .attr(\"stroke-dashoffset\", totalLength)\n  .transition()\n    .duration(2000)\n    .ease(\"linear\")\n    .attr(\"stroke-dashoffset\", 0);\n</code></pre>\n\n<p><a href=\"http://bl.ocks.org/4063326\">http://bl.ocks.org/4063326</a></p>\n",
                    "is_accepted": true,
                    "score": 20
                }
            ],
            "body": "<p>I have the following code which plots a line path based on sine function:</p>\n\n<pre><code>var data = d3.range(40).map(function(i) {\n  return {x: i / 39, y: (Math.sin(i / 3) + 2) / 4};\n});\n\nvar margin = {top: 10, right: 10, bottom: 20, left: 40},\n    width = 960 - margin.left - margin.right,\n    height = 500 - margin.top - margin.bottom;\n\nvar x = d3.scale.linear()\n    .domain([0, 1])\n    .range([0, width]);\n\nvar y = d3.scale.linear()\n    .domain([0, 1])\n    .range([height, 0]);\n\n\nvar line = d3.svg.line()\n          .interpolate('linear')\n          .x(function(d){ return x(d.x) })\n          .y(function(d){ return y(d.y) });\n\nvar svg = d3.select(\"body\").append(\"svg\")\n    .datum(data)\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom)\n  .append(\"g\")\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\nsvg.append(\"path\")\n    .attr(\"class\", \"line\")\n    .attr(\"d\", line);\n\nsvg.selectAll('.point')\n   .data(data)\n   .enter().append(\"svg:circle\")\n   .attr(\"cx\", function(d, i){ return x(d.x)})\n   .attr(\"cy\", function(d, i){ return y(d.y)})\n   .attr('r', 4);\n</code></pre>\n\n<p>What I want to do is to plot it smoothly from the first node to last node. I also want to have a smooth transition between two consecutive nodes and not just putting the whole line at once. Simply like connecting the dots using a pencil.</p>\n\n<p>Any help would be really appreciated.</p>\n",
            "last_activity_date": 1356025289,
            "question_id": 13893127,
            "score": 5,
            "tags": [
                "javascript",
                "svg",
                "d3.js"
            ],
            "title": "How to draw a path smoothly from start point to end point in D3.js"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Does this W3C demo page help? <a href=\"http://www.w3.org/2010/05/video/mediaevents.html\">http://www.w3.org/2010/05/video/mediaevents.html</a> It appears the play event is simply 'play'.</p>\n\n<p>For example:</p>\n\n<pre><code>$('video').bind('play', function (e) {\n    // do something\n});\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$('video').on('play', function (e) {\n    // do something\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>I used code from the following <a href=\"http://www.w3.org/2010/05/video/mediaevents.html\" rel=\"nofollow\">page</a> and stripped it:</p>\n\n<pre><code>&lt;script language=\"javascript\"&gt;\n    document.addEventListener(\"DOMContentLoaded\", init, false);\n\n    function init() {\n        var _video = document.getElementById(\"video\");\n        _video.addEventListener(\"playing\", play_clicked, false);\n    }\n\n    function play_clicked() {\n        alert(\"play was clicked\");\n    }\n&lt;/script&gt;\n\n&lt;video id='video'\n  controls preload='none' \n  poster=\"http://media.w3.org/2010/05/sintel/poster.png\"&gt;\n  &lt;source id='mp4'\n    src=\"http://media.w3.org/2010/05/sintel/trailer.mp4\"\n    type='video/mp4'&gt;\n  &lt;p&gt;Your user agent does not support the HTML5 Video element.&lt;/p&gt;\n&lt;/video&gt;\n</code></pre>\n\n<p>Hoped I could help.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a video html5 tag embedded on page. I need to trigger an action when the user clicks the \"Play Button\". But I can't find how to bind that to my action. Is there an event for what I need? I'm using jQuery...</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1349123682,
            "question_id": 12680432,
            "score": 5,
            "tags": [
                "javascript",
                "html5-video"
            ],
            "title": "What&#39;s the play event on a video html5 element?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p><a href=\"http://jsfiddle.net/zerkms/HM7es/\">http://jsfiddle.net/zerkms/HM7es/</a></p>\n\n<pre><code>var max = Math.max.apply(Math, arr.map(function(i) {\n    return i[0];\n}));\u200b\n</code></pre>\n\n<p>So at first you use <code>array.map()</code> to convert the 2-dimensional array to a flat one, and after that use <code>Math.max()</code></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You can use <code>.reduce()</code>...</p>\n\n<pre><code>array.reduce(function(max, arr) { \n    return Math.max(max, arr[0]); \n}, -Infinity)\n</code></pre>\n\n<hr>\n\n<p>Here's a version that doesn't use <code>Math.max</code>...</p>\n\n<pre><code>array.reduce(function(max, arr) {\n    return max &gt;= arr[0] ? max : arr[0];\n}, -Infinity);\n</code></pre>\n\n<p>...and a <a href=\"http://jsperf.com/max-using-map-vs-reduce\">jsPerf test</a>.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>Using a comprehension in CoffeeScript:</p>\n\n<pre><code>Math.max.apply Math, (x[0] for x in array)\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/6ymfx/\" rel=\"nofollow\">Running example</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Also, look at _underscore.js. <a href=\"http://underscorejs.org/#max\" rel=\"nofollow\">Here is a link to the function _max().</a></p>\n\n<ul>\n<li>It is simply more efficient to read, write and maintain.</li>\n</ul>\n\n<p>The best part about _underscore is that there are about another hundred helper functions similar to _max. Like sort.</p>\n\n<p>Compare the syntax below:</p>\n\n<pre><code>var sortedObject = _.sortBy(object, function(val, key, object) {\n    return val;\n});\n</code></pre>\n\n<p>They are easy to chain, and interpret!\n(Like Douglas Crockford might suggest)</p>\n\n<p>An excellent <a href=\"http://jsfiddle.net/Raynos/rNvFy/1/\" rel=\"nofollow\">JSFIDDLE</a>, was provided in <a href=\"http://stackoverflow.com/questions/4929924/how-to-sort-a-javascript-object-or-convert-it-to-an-array\">this post by @Raynos</a>.</p>\n\n<p>If you are consistently conducting array operations with raw JavaScript, check out _underscore.js, it can greatly simplify your code.</p>\n\n<p>Hope that helps,\nAll the best!\nNash</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>A simple solution using Underscore.js' <a href=\"http://underscorejs.org/#max\" rel=\"nofollow\"><code>max</code></a> that avoids generating an intermediate array:</p>\n\n<pre><code>max = _(array).max(_.first)[0]\n</code></pre>\n\n<p>(<a href=\"http://jsfiddle.net/28u98/2/\" rel=\"nofollow\">JSFiddle</a>)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>Array.prototype.maxX = function(){\n  return Math.max.apply(Math,this.map(function(o){return o[0];}));\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have an array that looks like the following:</p>\n\n<pre><code>array = [[1, 5], [4, 7], [3, 8], [2, 3],  \n [12, 4], [6, 6], [4, 1], [3, 2], \n [8, 14]]\n</code></pre>\n\n<p>What I need is the largest number from the first value of the sets, so in this case <code>12</code>.\nLooking at some examples online, the best way I saw to accomplish this is : </p>\n\n<pre><code>Math.max.apply Math, array\n</code></pre>\n\n<p>Problem is, this only works with single dimensional arrays. How would I impliment this for my senario? (jquery allowed)</p>\n\n<hr>\n\n<p><strong>The end solution:</strong></p>\n\n<p>It wasn't part of the question, but I needed both the min and max from the array, and that changes things a little.</p>\n\n<pre><code>    unless device.IE\n        justTheDates    = magnitudeArray.map (i) -&gt; i[0]\n        @earliest       = Math.min.apply Math, justTheDates\n        @latest         = Math.max.apply Math, justTheDates                 \n    else\n        @earliest       = magnitudeArray[0][0]\n        @latest         = magnitudeArray[0][0]\n        for magnitudeItem in magnitudeArray\n            @earliest   = magnitudeItem[0] if magnitudeItem[0] &lt; @earliest\n            @latest     = magnitudeItem[0] if magnitudeItem[0] &gt; @latest\n</code></pre>\n",
            "last_activity_date": 1367487402,
            "question_id": 11149843,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "arrays",
                "coffeescript"
            ],
            "title": "Get largest value in multi-dimensional array javascript or coffeescript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>If you're getting a track back, the I would try, alert(document.getElementById(\"track\")); to make sure that you're getting your dom element.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Read a little about <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\" rel=\"nofollow\">Same Origin Police</a> to understand your main problem better. Ajax, localhost and Chrome/Opera don't go well together. <a href=\"http://stackoverflow.com/a/8456586/1331430\">This related question</a> is even better.</p>\n\n<p>Your second problem is due to the Ajax call (somewhere in your API) which doesn't return a <code>html</code> response due to the first error.</p>\n\n<p>Instead of explaining the issue (which is very well explained in the links above), I'll provide a solution. Since you're running on Chrome, there's an workaround for that. Start chrome with this option:</p>\n\n<blockquote>\n  <p>--allow-file-access-from-files</p>\n</blockquote>\n\n<p>(workaround which I shamelessly borrowed from <a href=\"http://stackoverflow.com/a/5224056/1331430\">Pointy</a>)</p>\n\n<p>You can also try running it on Firefox, or hosting it temporarily. :)</p>\n\n<hr>\n\n<p>ps. If you plan on doing serious development from your local machine, you may consider installing Apache to serve and test content through <code>http://localhost</code>, thus lifting the <code>file:///</code> restrictions.</p>\n\n<p>Here are some excellent tools that come with Apache and PHP pre-configured for development:</p>\n\n<ul>\n<li>For Windows: <a href=\"http://www.easyphp.org/\" rel=\"nofollow\">EasyPHP</a>, <a href=\"http://www.wampserver.com/en/\" rel=\"nofollow\">WAMP</a>.  </li>\n<li>Cross-platform: <a href=\"http://www.apachefriends.org/en/xampp.html\" rel=\"nofollow\">XAMPP</a>, <a href=\"http://bitnami.com/\" rel=\"nofollow\">BitNami</a>.</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<p>I'm currently working with the SoundCloud API and would like to have a track embed when a button is clicked.</p>\n\n<p>I get two errors:</p>\n\n<p>XMLHttpRequest cannot load <a href=\"http://soundcloud.com/oembed.json?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F48419073\" rel=\"nofollow\">http://soundcloud.com/oembed.json?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F48419073</a>. Origin null is not allowed by Access-Control-Allow-Origin.</p>\n\n<p>AND</p>\n\n<p>Uncaught TypeError: Cannot read property 'html' of null </p>\n\n<p>Here is my code:</p>\n\n<pre><code>&lt;button onclick=\"getPopular()\"&gt;+1&lt;/button&gt;\n&lt;div id=\"track\"&gt;&lt;/div&gt;\n\n&lt;script src=\"http://connect.soundcloud.com/sdk.js\" type=\"text/JavaScript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/JavaScript\"&gt;\n    SC.initialize({\n        client_id: \"**************\",\n    });\n\n    var getPopular = function() {\n        SC.get(\"/tracks\", {limit: 1}, function(tracks) {\n            var track = tracks[0];\n            alert(\"Latest track: \" + track.title);\n            SC.oEmbed(track.uri, document.getElementById(\"track\"));\n            });\n        };\n&lt;/script&gt;\n</code></pre>\n\n<p>I use an alert in my code to let me know that it is actually taking information from the SoundCloud API.  I'm just not sure what else is preventing it from embedding.</p>\n\n<p>Thanks, ahead of time, or looking at my question.</p>\n\n<ul>\n<li>jiggabits</li>\n</ul>\n",
            "last_activity_date": 1379896237,
            "question_id": 10865869,
            "score": 5,
            "tags": [
                "javascript",
                "soundcloud"
            ],
            "title": "Origin null is not allowed by Access-Control-Allow-Origin"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The <code>new</code> operator takes a function <code>F</code> and <code>arguments</code>: <code>new F(arguments...)</code>. It does three easy steps:</p>\n\n<ol>\n<li><p>Create the instance of the class. It is an empty object with its\n<code>__proto__</code> property set to <code>F.prototype</code>. Initialize the instance.</p></li>\n<li><p>The function F is called with the arguments passed and this set to\n    be the instance.</p></li>\n<li><p>Return the instance</p></li>\n</ol>\n\n<p>Now that we understand what the new operator does, we can implement it in Javascript.</p>\n\n<pre><code>    function New (f) {\n/*1*/  var n = { '__proto__': f.prototype };\n       return function () {\n/*2*/    f.apply(n, arguments);\n/*3*/    return n;\n       };\n     }\n</code></pre>\n\n<p>And just a small test to see that it works.</p>\n\n<pre><code>function Point(x, y) {\n  this.x = x;\n  this.y = y;\n}\nPoint.prototype = {\n  print: function () { console.log(this.x, this.y); }\n};\n\nvar p1 = new Point(10, 20);\np1.print(); // 10 20\nconsole.log(p1 instanceof Point); // true\n\nvar p2 = New (Point)(10, 20);\np2.print(); // 10 20\nconsole.log(p2 instanceof Point); // true\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>From the <a href=\"http://es5.github.com/#x11.2.2\">specification</a>: </p>\n\n<blockquote>\n  <h2>11.2.2 The new Operator <a href=\"http://es5.github.com/#x11.2.2\">#</a> <a href=\"http://es5.github.com/#x11.2.2-toc\">\u24c9</a> <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Operators/Special/new\">\u24c7</a> <a href=\"https://developer.mozilla.org/en/JavaScript/Guide/Expressions_and_Operators#new\">\u24bc</a></h2>\n  \n  <p>The production <em>NewExpression</em> : <code>new</code> <em>NewExpression</em> is evaluated as follows:</p>\n  \n  <ol>\n  <li>Let <em>ref</em> be the result of evaluating <em>NewExpression</em>.</li>\n  <li>Let <em>constructor</em> be <a href=\"http://es5.github.com/#x8.7.1\"><code>GetValue</code></a>(<em>ref</em>).</li>\n  <li>If <a href=\"http://es5.github.com/#Type\"><code>Type</code></a>(<em>constructor</em>) is not Object, throw a <a href=\"http://es5.github.com/#x15.11.6.5\">TypeError</a> exception.</li>\n  <li>If <em>constructor</em> does not implement the [[Construct]] internal method, throw a <a href=\"http://es5.github.com/#x15.11.6.5\">TypeError</a> exception.</li>\n  <li>Return the result of calling the [[Construct]] internal method on <em>constructor</em>, providing no arguments (that is, an empty list of arguments).</li>\n  </ol>\n  \n  <p>The production <em>MemberExpression</em> : <code>new</code> <em>MemberExpression Arguments</em>\n  is evaluated as follows:</p>\n  \n  <ol>\n  <li>Let <em>ref</em> be the result of evaluating <em>MemberExpression</em>.</li>\n  <li>Let <em>constructor</em> be <a href=\"http://es5.github.com/#x8.7.1\"><code>GetValue</code></a>(<em>ref</em>).</li>\n  <li>Let <em>argList</em> be the result of evaluating <em>Arguments</em>, producing an internal list of argument values (<a href=\"http://es5.github.com/#x11.2.4\">11.2.4</a>).</li>\n  <li>If <a href=\"http://es5.github.com/#Type\"><code>Type</code></a>(<em>constructor</em>) is not Object, throw a <a href=\"http://es5.github.com/#x15.11.6.5\">TypeError</a> exception.</li>\n  <li>If <em>constructor</em> does not implement the [[Construct]] internal method, throw a <a href=\"http://es5.github.com/#x15.11.6.5\">TypeError</a> exception.</li>\n  <li>Return the result of calling the [[Construct]] internal method on <em>constructor</em>, providing the list <em>argList</em> as the argument values.</li>\n  </ol>\n</blockquote>\n\n<p>In either case, all steps are correctly followed:</p>\n\n<pre><code>var objPrototype = Object.create(this.prototype);    // 1-4 1-5\nvar instance = this.apply(objPrototype, arguments);  // 5   6\n</code></pre>\n\n<p>The point of interest is 2.<br>\n<a href=\"http://es5.github.com/#x13.2.2\">The specification for <code>[[construct]]</code></a> states:</p>\n\n<blockquote>\n  <p>When the [[Construct]] internal method for a Function object F is\n  called with a possibly empty list of arguments, the following steps\n  are taken:</p>\n  \n  <ul>\n  <li>Let obj be a newly created native ECMAScript object.<br>\n  <code>. . .</code></li>\n  <li>Let result be the result of calling the [[Call]] internal property of F, providing obj as the this value and providing the argument list\n  passed into [[Construct]] as args.</li>\n  <li>If <a href=\"http://es5.github.com/#Type\"><code>Type</code></a>(<em>result</em>) is Object then return <em>result</em>.</li>\n  <li>Return <em>obj</em>.</li>\n  </ul>\n</blockquote>\n\n<p><code>typeof obj</code> returns <code>\"object\"</code> for <code>null</code>, while <code>null</code> is not an object. However, since <code>null</code> is a falsy value, your code also works as intended: </p>\n\n<pre><code>return (typeof instance === 'object' &amp;&amp; instance ) || objPrototype;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Here is an alternative to using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/proto\" rel=\"nofollow\"><code>__proto__</code></a> approach. Its in line with how the OP initially started out...</p>\n\n<pre><code>function New(fn) {\n    var newObj = Object.create(fn.prototype);\n    return function() {\n        return fn.apply(newObj, arguments);\n        return newObj;\n    };\n}\n</code></pre>\n\n<p>This is a much cleaner way of doing it, and it passes prototype chain tests too.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I tried to simulate the 'new' operator in JavaScript in a code like this:</p>\n\n<pre><code>Function.method('new', function ( ) {\n    var objPrototype = Object.create(this.prototype);\n    var instance = this.apply(objPrototype, arguments);\n\n    return instance;\n});\n</code></pre>\n\n<p>However, in order to cover all the cases, the return statement should look like this:</p>\n\n<pre><code>return (typeof instance === 'object' &amp;&amp; instance ) || objPrototype;\n</code></pre>\n\n<p>Now for the tests:</p>\n\n<pre><code>var SomeClass = function (param1, param2) {\n    this.param1 = param1;\n    this.param2 = param2;\n};\n\nvar test1 = String.new('test1'); //in this case, the \"instance\" variable is an object\nvar test2 = SomeClass.new('test1', 'test2'); // in this case, the \"instance\" variable is undefined\n</code></pre>\n\n<p>Is this exactly what the 'new' operator does? Is there any case left to cover?</p>\n",
            "last_activity_date": 1417498255,
            "question_id": 10428603,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "Simulate the &#39;new&#39; operator in JavaScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The <code>toJSON()</code> method just returns a shallow clone of the model's <code>attributes</code> property.</p>\n\n<p>From the <a href=\"http://documentcloud.github.com/backbone/docs/backbone.html#section-36\">annotated Backbone.js source</a>:</p>\n\n<pre><code>toJSON: function(options) {\n  return _.clone(this.attributes);\n}\n</code></pre>\n\n<p>Without seeing more of your code, it looks like you directly set properties on the model object, rather than using the <code>set</code> function to set model attributes.</p>\n\n<p>I.e. don't do this:</p>\n\n<pre><code>model.name = \"item\";\n</code></pre>\n\n<p>do this:</p>\n\n<pre><code>model.set(\"name\", \"item\");\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>For your specific issue, it's possible that you called toJSON before the model had finished loading from the server.</p>\n\n<p>E.g. This won't always work as expected:</p>\n\n<pre><code>var model = new Goal({id: 123});\nmodel.fetch();\nconsole.log(model.toJSON());\n</code></pre>\n\n<p>But this will:</p>\n\n<pre><code>var model = new Goal({id: 123});\nmodel.fetch({\n  success: function() {\n    console.log(model.toJSON());\n  }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 19
                }
            ],
            "body": "<p>I need to render a model's attributes to JSON so I can pass them into a template.\nHere is what a render() function for a view looks like:</p>\n\n<pre><code>render: function() {\n  console.log(this.model);\n  console.log(this.model.toJSON());\n  $(this.el).html(this.template(this.model.toJSON()));\n  return this;\n},\n</code></pre>\n\n<p>Here is the attributes output after doing console.log(this.model):</p>\n\n<pre><code>created_at: \"2012-04-19\"\nid: \"29\"\nname: \"item\"\nresource_uri: \"/api/v1/item/29/\"\nupdated_at: \"2012-04-21\"\nuser: \"/api/v1/user/9/\"\n</code></pre>\n\n<p>Here is the model's JSON output after doing console.log(this.model.toJSON()):</p>\n\n<pre><code>id: \"29\"\n__proto__: Object\n</code></pre>\n\n<p>What happened?</p>\n\n<p>Edit:\nHere is the instantiation:</p>\n\n<pre><code>  var goal = new Goal({id: id});\n  goal.fetch();\n  var goalFullView = new GoalFullView({\n    model: goal,\n  });\n</code></pre>\n\n<p>Here are the contents of the new view:</p>\n\n<pre><code>  console.log(this.model.attributes);\n  console.log(this.model.toJSON());\n</code></pre>\n\n<p>Here is what the console says:</p>\n\n<pre><code>Object\ncreated_at: \"2012-04-23\"\nid: \"32\"\nname: \"test\"\nresource_uri: \"/api/v1/goal/32/\"\nupdated_at: \"2012-04-23\"\nuser: \"/api/v1/user/9/\"\n__proto__: Object\n\nObject\nid: \"32\"\nname: \"test\"\n__proto__: Object\n</code></pre>\n\n<p>If the toJSON is supposed to make a clone of the attributes, why doesn't it copy the correct name or why doesn't it copy the created_at, updated_at fields?</p>\n\n<p>Edit 2:\nHere is the model:</p>\n\n<pre><code>  var Goal = Backbone.Model.extend({\n\n    // Default attributes for Goal\n    defaults: {\n      name: \"empty goal\",\n    },\n\n    // Check that the user entered a goal\n    validate: function(attrs) {\n      if (!attrs.name) {\n        return \"name is blank\";\n      }\n    },\n\n    // Do HTTP requests on this endpoint\n    url: function() {\n      if (this.isNew()) {\n        return API_URL + \"goal/\" + this.get(\"id\") + FORMAT_JSON;\n      }\n      return API_URL + \"goal/\" + FORMAT_JSON;\n      //API_URL + \"goal\" + FORMAT_JSON, \n    },\n  });\n</code></pre>\n\n<p>Edit 3:\nI figured out that I need to use the success callback from fetch to render a view that uses the model:</p>\n\n<p>goal.fetch({success: function(model) {\n    var goalFullView = new GoalFullView({\n      model: goal,\n    });\n  }});</p>\n",
            "last_activity_date": 1381549782,
            "question_id": 10262498,
            "score": 5,
            "tags": [
                "javascript",
                "backbone.js"
            ],
            "title": "Backbone model .toJSON() doesn&#39;t render all attributes to JSON"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Found a solution, which was to change the renderCoupon to this:</p>\n\n<pre><code>void renderCoupon(final int width,final int height){\n\n    mWeb.postDelayed(new Runnable() {\n\n        @Override\n        public void run() {\n            // TODO Auto-generated method stub\n            bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n            final Canvas c =new Canvas(bitmap);\n            mWeb.draw(c);\n\n            imgView.setMinimumWidth(width);\n            imgView.setMinimumHeight(height);\n            imgView.setImageBitmap(bitmap);\n            imgView.setVisibility(View.VISIBLE);\n        }\n    }, 100);\n}\n</code></pre>\n\n<p>And of course I removed the Sleep stuff in my callback. Thanks to my collegue who tipped me about this. :)</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I have an activity with a button and an image and a webview.\nMy goal is to load a page, then execute javascript on it to draw graphics using HTML5 etc.</p>\n\n<p>The height of the image drawn by the html5 is unknown/variable , but the width should always be the same as the phone's width/or browser window. </p>\n\n<p>I have a javascript interface to get a callback containing info that it has now finished calling the drawing function, and it is giving me the height.</p>\n\n<p>Here is the setup of the web-view</p>\n\n<pre><code>mWeb = (WebView) findViewById(R.id.webView1);\nmWeb.clearCache(true);\nmWeb.addJavascriptInterface(new IJavascriptHandler(), \"cpjs\");\n\nmWeb.getSettings().setJavaScriptEnabled(true);\n\nmWeb.loadUrl(\" http://theURL.com \");\nmWeb.setInitialScale(100);\nmWeb.getSettings().setDefaultZoom(WebSettings.ZoomDensity.FAR);\n\n\nmWeb.setWebViewClient(new WebViewClient() {\n            public void onPageFinished(WebView view, String url){\n                mWidth = mWeb.getWidth();\n                mHeight = mWeb.getHeight();\n\n                view.loadUrl(\"javascript: Tools.adjustWidth(\" + mWidth + \" )\");\n\n                String javaCouponRender = \"renderCoupon(\" + kupongJson + \", 0); void(0)\";\n                view.loadUrl(\"javascript: \" + javaCouponRender);\n\n            }\n             });\n\n\n\n        }\n</code></pre>\n\n<p>And the button I have in my view, I have used to initiate render my webview to a texture with this function:</p>\n\n<pre><code>void renderCoupon(int width,int height){\n\n\n    bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n    final Canvas c =new Canvas(bitmap);\n    mWeb.draw(c);\n    imgView.setMinimumWidth(width);\n    imgView.setMinimumHeight(height);\n    imgView.setImageBitmap(bitmap);\n    imgView.setVisibility(View.VISIBLE);\n}\n</code></pre>\n\n<p>This works. Pressing the button, renders the drawn content to the texture and the imageview has a correct result. The only cavaet is I have to wait until the page has loaded/drawn before pressing the button.</p>\n\n<p>Now, I have implemented the callback I get from javascript like this:</p>\n\n<pre><code>final class IJavascriptHandler {\n       IJavascriptHandler() {\n       }\n\n       public void couponRenderedCallback(final int height){\n\n           mHasGotRenderCallback = true;\n           mHeight = height;\n              Toast t = Toast.makeText(getApplicationContext(), \"see if it helps sleeping\", 2000);\n              t.show();\n              try{\n                Thread.sleep(5000);\n            }\n            catch(InterruptedException ex){\n\n            }\n              runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n\n                        Toast t2 = Toast.makeText(getApplicationContext(), \"and now we render to texture\", 2000);\n                        t2.show();       \n                        renderCoupon(mWidth, mHeight);\n                    }\n                });\n\n       }\n\n    }\n</code></pre>\n\n<p>And every time, this callback function renders a white page. The funny thing is that if I physically press the render-to-texture button as soon as I see this callback is called, it shows the expected result. Is it runOnUiThread that is failing somehow? </p>\n\n<p>The sleep is something I added to see if there was some sort of funny delay of the webview rendering and the callback I get from javascript.</p>\n\n<p>I have also tried moving the sleep into the runOnUiThread , which also did not help.</p>\n\n<p>I hope someone knows in what direction I should look to solve this problem. Any help is appreciated.</p>\n",
            "last_activity_date": 1334245314,
            "question_id": 10009265,
            "score": 5,
            "tags": [
                "javascript",
                "android",
                "html5",
                "webview"
            ],
            "title": "Rendering Android webview to bitmap, html5 javascript , callback issue"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I wrote a solution for this, using jQuery and a simple TemplateCache object:</p>\n\n<p><a href=\"http://lostechies.com/derickbailey/2012/02/09/asynchronously-load-html-templates-for-backbone-views/\" rel=\"nofollow\">http://lostechies.com/derickbailey/2012/02/09/asynchronously-load-html-templates-for-backbone-views/</a></p>\n\n<p>And I recently updated the template loading to use a jQuery plugin called TrafficCop: <a href=\"http://lostechies.com/derickbailey/2012/03/20/trafficcop-a-jquery-plugin-to-limit-ajax-requests-for-a-resource/\" rel=\"nofollow\">http://lostechies.com/derickbailey/2012/03/20/trafficcop-a-jquery-plugin-to-limit-ajax-requests-for-a-resource/</a></p>\n\n<p>Hope that helps.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Got this from <a href=\"http://coenraets.org/blog/2012/01/backbone-js-lessons-learned-and-improved-sample-app/#comment-35324\">http://coenraets.org/blog/2012/01/backbone-js-lessons-learned-and-improved-sample-app/#comment-35324</a></p>\n\n<p>Create a separate js file for this and call it before your js files for model,collection and views.</p>\n\n<pre><code>tpl = {\n\n// Hash of preloaded templates for the app\ntemplates:{},\n\n// Recursively pre-load all the templates for the app.\n// This implementation should be changed in a production environment. All the template files should be\n// concatenated in a single file.\nloadTemplates:function (names, callback) {\n\n    var that = this;\n\n    var loadTemplate = function (index) {\n        var name = names[index];\n        //console.log('Loading template: ' + name);\n        $.get('templates/' + name + '.html', function (data) {\n            that.templates[name] = data;\n            index++;\n            if (index &lt; names.length) {\n                loadTemplate(index);\n            } else {\n                callback();\n            }\n        });\n    }\n\n    loadTemplate(0);\n},\n\n// Get template by name from hash of preloaded templates\nget:function (name) {\n    return this.templates[name];\n}\n\n};\n</code></pre>\n\n<p>After that add this to your router</p>\n\n<pre><code>tpl.loadTemplates(['filename-of-your-external-html-file'], function () {\napp = new AppRouter();\nBackbone.history.start();\n});\n</code></pre>\n\n<p>That should do it. But again not recommended for production environment as there will be hundreds to get request and may cripple your application.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>Can i put my template on a separate .html files and just reference them in my index.html?</p>\n\n<p>index.html :</p>\n\n<pre><code>&lt;script type=\"text/template\" id=\"item-list\" src=\"item-list-tmpl.html\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>item-list-tmpl.html :</p>\n\n<pre><code>&lt;div&gt;&lt;%= ItemDescription  %&gt;&lt;%= ItemCode %&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I tried it but the problem is it doesn't show the template on index.html but it loads on the proper spot (viewed it using firebug)</p>\n\n<h1>UPDATE</h1>\n\n<p>Found a possible solution but is not recommended for production environment.</p>\n",
            "last_activity_date": 1332724031,
            "question_id": 9834714,
            "score": 5,
            "tags": [
                "javascript",
                "backbone.js",
                "underscore.js"
            ],
            "title": "external html template for underscore.js and backbone.js"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<h2>Further Investigation</h2>\n\n<p>I have created a <a href=\"http://phrogz.net/SVG/image.svg\" rel=\"nofollow\">test SVG file on my server</a> that:</p>\n\n<ol>\n<li>Has an <code>&lt;image&gt;</code> with properly-namespaced <code>href</code> attribute in it.</li>\n<li>Uses JS to create a new <code>&lt;image&gt;</code> using <code>setAttributeNS(xlinkNS,'xlink:href',\u2026)</code></li>\n<li>Uses JS to create a new <code>&lt;image&gt;</code> using <code>setAttributeNS(xlinkNS,'href',\u2026)</code></li>\n<li>Uses JS to clone the original (valid) <code>&lt;image&gt;</code> element.</li>\n<li>Finally, serializes the XML and logs the result.</li>\n</ol>\n\n<h3>Results in WebKit</h3>\n\n<p>The Safari and Chrome Developer Tools both show the DOM as:</p>\n\n<pre><code>&lt;image xlink:href=\"\u2026\" /&gt;\n&lt;image xlink:href=\"\u2026\" /&gt;\n&lt;image href=\"\u2026\" /&gt;\n&lt;image xlink:href=\"\u2026\" /&gt;\n</code></pre>\n\n<p>However, the XML serialization logged to the console (which is what you also get if you right click the Element and say \"Copy as HTML\") shows this:</p>\n\n<pre><code>&lt;image xlink:href=\"\u2026\" /&gt;\n&lt;image xlink:href=\"\u2026\" /&gt;\n&lt;image href=\"\u2026\" xmlns=\"http://www.w3.org/1999/xlink\" /&gt;\n&lt;image xlink:href=\"\u2026\" /&gt;\n</code></pre>\n\n<h3>Results in Firefox</h3>\n\n<p>Firebug also shows this for the generated DOM:</p>\n\n<pre><code>&lt;image xlink:href=\"\u2026\" /&gt;\n&lt;image xlink:href=\"\u2026\" /&gt;\n&lt;image href=\"\u2026\" /&gt;\n&lt;image xlink:href=\"\u2026\" /&gt;\n</code></pre>\n\n<p>However, the Firebug Console shows a reasonable (expected) serialization:</p>\n\n<pre><code>&lt;image xlink:href=\"\u2026\" /&gt;\n&lt;image xlink:href=\"\u2026\" /&gt;\n&lt;image xlink:href=\"\u2026\" /&gt;\n&lt;image xlink:href=\"\u2026\" /&gt;\n</code></pre>\n\n<p>Further investigation shows that even if you use code like:</p>\n\n<pre><code>img.setAttributeNS(xlinkNS,'GLARBLE:href',\u2026);\n</code></pre>\n\n<p>Firebug will show \"GLARBLE:href\" as the name of the attribute, but the XML serialization uses the URI for the namespace, finds the matching namespace on the root <code>&lt;svg&gt;</code> element and properly produces:</p>\n\n<pre><code>&lt;image xlink:href=\"\u2026\" /&gt;\n</code></pre>\n\n<h2>Conclusion</h2>\n\n<p>It appears that the XML serialization performed by Webkit is flawed (broken) when using <code>setAttributeNS</code> to create a namespaced attribute with no namespace prefix provided for the attribute name.</p>\n\n<p>However, if you provide a namespace prefix for the attribute name that matches a namespace prefix already declared on your document, the serialization appears to work correctly.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I'm creating a javascript interface to dynamically add xlinked images to a map of a classroom.</p>\n\n<pre><code> //declare the xlink namespace in the svg header\n xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n...\n//the code to append the image\nvar temp = document.createElementNS(svgns,\"image\");\ntemp.setAttributeNS(null,\"x\",\"0\");\ntemp.setAttributeNS(null,\"y\",\"0\");\ntemp.setAttributeNS(null,\"height\",\"80\");\ntemp.setAttributeNS(null,\"width\",\"40\");\ntemp.setAttributeNS(\"http://www.w3.org/1999/xlink\",\"xlink:href\",\"roomlayouts/items/ cactus.svg\");\n</code></pre>\n\n<p>The image appends and displays on the screen with tags like so:</p>\n\n<pre><code>&lt;image x=\"0\" y=\"0\" height=\"80\" width=\"40\" xlink:href=\"roomlayouts/items/cactus.svg\"&gt;&lt;/image&gt;\n</code></pre>\n\n<p>But once I pass it through the xmlserializer so that I can save the file, it strips the xlink tag off the front:</p>\n\n<pre><code>var svgDoc = document.getElementById('SVGMap');\nvar serializer = new XMLSerializer();\nvar xmlString = serializer.serializeToString(svgDoc.firstChild);\n</code></pre>\n\n<p>creating:</p>\n\n<pre><code>&lt;image x=\"0\" y=\"0\" width=\"40\" height=\"80\" href=\"roomlayouts/items/cactus.svg\"&gt;&lt;/image&gt;\n</code></pre>\n\n<p>This means the svg loses the cactii.  Any ideas how I can get the xmlserializer to keep the xlink prefix?</p>\n\n<p>==============================\nNOTE: this was a bug in webkit that has now been resolved.  See discussion below for link to bug report</p>\n",
            "last_activity_date": 1349739745,
            "question_id": 8979267,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "svg",
                "xmlserializer"
            ],
            "title": "xmlserializer strips xlink from xlink:html svg image tag"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>That's because you should pass a function, not a string:</p>\n\n<pre><code>function funcName() {\n    alert(\"test\");\n}\n\nsetInterval(funcName, 10000);\n</code></pre>\n\n<p>Your code has two problems:</p>\n\n<ul>\n<li><code>var func = funcName();</code> calls the function immediately and assigns the return value.</li>\n<li>Just <code>\"func\"</code> is invalid even if you use the bad and deprecated eval-like syntax of setInterval. It would be <code>setInterval(\"func()\", 10000)</code> to call the function eval-like.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>function funcName() {\n    alert(\"test\");\n}\n\nvar run = setInterval(funcName, 10000)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Change <code>setInterval(\"func\",10000)</code> to either <code>setInterval(funcName, 10000)</code> or <code>setInterval(\"funcName()\",10000)</code>. The former is the recommended method.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>As other have said,</p>\n\n<pre><code>function funcName() {\n    alert(\"test\");\n}\n\nvar run = setInterval(funcName, 10000);\n</code></pre>\n\n<p>looks like the way to go, <strong>But if you really want to do it by passing a <code>var</code> to your <code>setInterval()</code> you could do this:</strong></p>\n\n<pre><code>function funcName() {\n    return alert(\"test\");\n}\n\nvar func = funcName();\nvar run = setInterval(func,10000);\n</code></pre>\n\n<p>Which I believe it is unnecessary code, But I still post this just for the weird scenario that you really must pass a var</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>A lot of other answers are focusing on a pattern that does work, but their explanations aren't really very thorough as to why your current code doesn't work.</p>\n\n<p>Your code, for reference:</p>\n\n<pre><code>function funcName() {\n    alert(\"test\");\n}\n\nvar func = funcName();\nvar run = setInterval(\"func\",10000)\n</code></pre>\n\n<p>Let's break this up into chunks. Your function <code>funcName</code> is fine. Note that when you call <code>funcName</code> (in other words, you run it) you will be alerting <code>\"test\"</code>. But notice that <code>funcName()</code> -- the parentheses mean to \"call\" or \"run\" the function -- doesn't actually return a value. When a function doesn't have a return value, it defaults to a value known as <code>undefined</code>. </p>\n\n<p>When you call a function, you append its argument list to the end in parentheses. When you don't have any arguments to pass the function, you just add empty parentheses, like <code>funcName()</code>. But when you want to refer to the function itself, and not call it, you don't need the parentheses because the parentheses indicate to run it. </p>\n\n<p>So, when you say:</p>\n\n<pre><code>var func = funcName();\n</code></pre>\n\n<p>You are actually declaring a variable <code>func</code> that has a value of <code>funcName()</code>. But notice the parentheses. <code>funcName()</code> is actually the return value of <code>funcName</code>. As I said above, since <code>funcName</code> doesn't actually return any value, it defaults to <code>undefined</code>. So, in other words, your variable <code>func</code> actually will have the value <code>undefined</code>. </p>\n\n<p>Then you have this line:</p>\n\n<pre><code>var run = setInterval(\"func\",10000)\n</code></pre>\n\n<p>The function <code>setInterval</code> takes two arguments. The first is the function to be ran every so often, and the second is the number of milliseconds between each time the function is ran. </p>\n\n<p>However, the first argument really should be a function, not a string. If it is a string, then the JavaScript engine will use <code>eval</code> on that string instead. So, in other words, your setInterval is running the following JavaScript code:</p>\n\n<pre><code>func\n// 10 seconds later....\nfunc\n// and so on\n</code></pre>\n\n<p>However, <code>func</code> is just a variable (with the value <code>undefined</code>, but that's sort of irrelevant). So every ten seconds, the JS engine evaluates the variable <code>func</code> and returns <code>undefined</code>. But this doesn't really do anything. I mean, it technically is being evaluated every 10 seconds, but you're not going to see any effects from that. </p>\n\n<p>The solution is to give <code>setInterval</code> a function to run instead of a string. So, in this case:</p>\n\n<pre><code>var run = setInterval(funcName, 10000);\n</code></pre>\n\n<p>Notice that I didn't give it <code>func</code>. This is because <code>func</code> is <strong>not</strong> a function in your code; it's the value <code>undefined</code>, because you assigned it <code>funcName()</code>. Like I said above, <code>funcName()</code> will call the function <code>funcName</code> and return the return value of the function. Since <code>funcName</code> doesn't return anything, this defaults to <code>undefined</code>. I know I've said that several times now, but it really is a very important concept: when you see <code>funcName()</code>, you should think \"the return value of <code>funcName</code>\". When you want to refer to a <em>function itself</em>, like a separate entity, you should leave off the parentheses so you don't call it: <code>funcName</code>.</p>\n\n<p>So, another solution for your code would be:</p>\n\n<pre><code>var func = funcName;\nvar run = setInterval(func, 10000);\n</code></pre>\n\n<p>However, that's a bit redundant: why use <code>func</code> instead of <code>funcName</code>? </p>\n\n<p>Or you can stay as true as possible to the original code by modifying two bits:</p>\n\n<pre><code>var func = funcName;\nvar run = setInterval(\"func()\", 10000);\n</code></pre>\n\n<p>In this case, the JS engine will evaluate <code>func()</code> every ten seconds. In other words, it will alert <code>\"test\"</code> every ten seconds. However, as the famous phrase goes, <a href=\"http://blogs.msdn.com/b/ericlippert/archive/2003/11/01/53329.aspx\"><code>eval</code> is evil</a>, so you should try to avoid it whenever possible.</p>\n\n<p>Another twist on this code is to use an anonymous function. In other words, a function that doesn't have a name -- you just drop it in the code because you don't care what it's called.</p>\n\n<pre><code>setInterval(function () {\n    alert(\"test\");\n}, 10000);\n</code></pre>\n\n<p>In this case, since I don't care what the function is called, I just leave a generic, unnamed (anonymous) function there. </p>\n",
                    "is_accepted": true,
                    "score": 38
                }
            ],
            "body": "<p>I need to run a javascript function each 10 seconds.</p>\n\n<p>I understand the syntax must work like follow but I am not getting any success:</p>\n\n<pre><code>function funcName() {\n    alert(\"test\");\n}\n\nvar func = funcName();\nvar run = setInterval(\"func\",10000)\n</code></pre>\n\n<p>But this isn't working. Any help?</p>\n",
            "last_activity_date": 1326047247,
            "question_id": 8779845,
            "score": 5,
            "tags": [
                "javascript",
                "setinterval"
            ],
            "title": "Javascript setInterval not working"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Just an idea, but since you're getting the opposite effect you're going for from your gradient, have you tried reversing the gradient?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>One trivial way would be to use <code>imageData</code> but that would be painfully slow. It's an option, but not a good one for a game engine.</p>\n\n<p>Another way would be to think of the ambient light and the light-source as if they were one path. That would make it very easy to do:</p>\n\n<p><a href=\"http://jsfiddle.net/HADky/\">http://jsfiddle.net/HADky/</a></p>\n\n<p>Or see it with an image behind: <a href=\"http://jsfiddle.net/HADky/10/\">http://jsfiddle.net/HADky/10/</a></p>\n\n<p>The thing you're taking advantage of here is the fact that any intersection of a path on canvas is always only unioned and never compounded. So you're using a single gradient brush to draw the whole thing.</p>\n\n<p>But it gets a bit trickier than that if there's more than one light-source. I'm not too sure how to cover that in an efficient way, especially if you plan for two light-sources to intersect.</p>\n\n<p>What you should probably do instead is devise an alpha channel instead of this overlay thing, but I can't currently think of a good way to get it to work. I'll revisit this if I think of anything else.</p>\n\n<hr>\n\n<p><strong>EDIT:</strong> Hey! So I've done a bit of thinking and came up with a good solution.</p>\n\n<p>What you need to do is draw a sort of alpha channel, where the dark spots mark the places where you want light to be. So if you had three light sources it would look like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/MLfs7.png\" alt=\"enter image description here\"></p>\n\n<p>Then you want to set the fill style to your ambient color and set the globalCompositeOperation to xor and xor the whole thing.</p>\n\n<pre><code>ctx.fillStyle = amb;\nctx.globalCompositeOperation = 'xor';\nctx.fillRect(0,0,500,500);\n</code></pre>\n\n<p>That will leave you with the \"opposite\" image except the transparent parts will be correctly ambient:</p>\n\n<p><img src=\"http://i.stack.imgur.com/695Vv.png\" alt=\"enter image description here\"></p>\n\n<p>Here's a working example of the code:</p>\n\n<p><a href=\"http://jsfiddle.net/a2Age/\">http://jsfiddle.net/a2Age/</a></p>\n\n<p>Extra optimization: You can actually achieve the effect without using any paths at all, by simply drawing the exact same radial gradients onto rects instead of circular paths:</p>\n\n<p><a href=\"http://jsfiddle.net/a2Age/2/\">http://jsfiddle.net/a2Age/2/</a>\nHope that helps!</p>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>I'm writing a simple 2D game engine using the HTML5 canvas. I've come to adding a lighting engine. Each light source has a radius value and an intensity value (0-1, eg 1 would be very bright). There's also an ambient light value that is used to light everything else in the world that isn't  near a light source (0-1, eg 0.1 would be moonlight). The process of lighting is done on a separate canvas above the main canvas:</p>\n\n<ol>\n<li>For each light source, a radial gradient is drawn at that position with the same radius as the light source. The gradient is given two stops: the center is black with an alpha of 1-intensity of the light and the end/edge is black with alpha of 1-ambient light value. That all works fine.</li>\n<li>This is where it goes wrong :/ I need to fill the whole canvas with black with and alpha of 1-ambient light value and at the moment I do this by setting the context.globalCompositeOperation to source-out then fillRecting the whole canvas. </li>\n</ol>\n\n<p>My code for this stuff is:</p>\n\n<pre><code>var amb = 'rgba(0,0,0,' + (1-f.ambientLight) + ')';\nfor(i in f.entities) {\n    var e = f.entities[i], p = f.toScreenPoint(e.position.x, e.position.y), radius = e.light.radius;\n\n    if(radius &gt; 0) {\n        var g = cxLighting.createRadialGradient(p.x, p.y, 0, p.x, p.y, radius);\n        g.addColorStop(0, 'rgba(0,0,0,' + (1-e.light.intensity) + ')');\n        g.addColorStop(1, amb);\n\n        cxLighting.fillStyle = g;\n        cxLighting.beginPath();\n        cxLighting.arc(p.x, p.y, radius, 0, Math.PI*2, true);\n        cxLighting.closePath();\n        cxLighting.fill();\n    }\n}\n//Ambient light\ncxLighting.globalCompositeOperation = 'source-out';\ncxLighting.fillStyle = amb;\ncxLighting.fillRect(0, 0, f.width, f.height);\ncxLighting.globalCompositeOperation = 'source-over';\n</code></pre>\n\n<p>However instead of getting what I wan't out of the engine (left) I get a kind of reversed gradient (right). I think this is because when I draw the rectangle with the <code>source-out</code> composite operation it affects the colours of the gradient itself because they are semi-transparent.<br /><br />\n<img src=\"http://i.stack.imgur.com/T6fsx.png\" alt=\"Desired lighting effect\">\n<img src=\"http://i.stack.imgur.com/u6itZ.png\" alt=\"I get this\"></p>\n\n<p>Is there a way to do this differently or better? Using clipping maybe, or drawing the rect over everything first?</p>\n\n<p>Also, I modified the Mozila Dev Centre's <a href=\"https://developer.mozilla.org/en/Canvas_tutorial/Compositing\">example</a> on composting to replicate what I need to do and none of the composite modes seemed to work, <a href=\"http://chopapp.com/#1b0f6c3e\">check that out</a> if it would help.</p>\n\n<p>Thanks very much, any answer would be great :)</p>\n",
            "last_activity_date": 1335893444,
            "question_id": 7909865,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "canvas",
                "composite",
                "clipping"
            ],
            "title": "Canvas - Fill a rectangle in all areas that are fully transparent"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<pre><code>&lt;html&gt;\n&lt;head&gt; ... &lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n\n    &lt;fb:login-button show-faces=\"false\" perms=\"user_hometown,user_about_me,email,user_address\" autologoutlink=\"true\" width=\"200\" max-rows=\"1\"&gt;&lt;/fb:login-button&gt;\n\n\n    &lt;!-- put this before the end body tag --&gt;\n    &lt;script src=\"http://connect.facebook.net/en_US/all.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n      FB.init({\n        appId  : 'myAppId',\n        status : true, // check login status\n        cookie : true, // enable cookies to allow the server to access the session\n        xfbml  : true, // parse XFBML\n        channelURL : 'http://www.comehike.com/channel.html', // channel.html file\n        oauth  : true // enable OAuth 2.0\n      });\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>To get logged users data:</p>\n\n<pre><code>FB.api('/me', function(response) {\n  console.log(response);\n});\n</code></pre>\n\n<p>If all went well <code>response</code> should be a JSON object containing the user data you have permission to view.</p>\n\n<p>The users image can be gotten from:</p>\n\n<pre><code>http://graph.facebook.com/FACEBOOK_USER_ID/picture\n</code></pre>\n\n<p>You can specify the size you want with the type argument</p>\n\n<ul>\n<li>square - 50x50</li>\n<li>small - 50 pixels wide, variable height</li>\n<li>normal - 100 pixels wide, variable height</li>\n<li>large - about 200 pixels wide, variable height</li>\n</ul>\n\n<p>For example:</p>\n\n<pre><code>http://graph.facebook.com/FACEBOOK_USER_ID/picture?type=large\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I have this in my header:</p>\n\n<pre><code>&lt;script src=\"http://connect.facebook.net/en_US/all.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Then I have the FB login button code like this:</p>\n\n<pre><code>&lt;div id=\"fb-root\"&gt;&lt;/div&gt;&lt;script src=\"http://connect.facebook.net/en_US/all.js#appId=myAppId&amp;amp;xfbml=1\"&gt;\n&lt;/script&gt;&lt;fb:login-button show-faces=\"false\" perms=\"user_hometown,user_about_me,email,user_address\"\nautologoutlink=\"true\" width=\"200\" max-rows=\"1\"&gt;\n&lt;/fb:login-button&gt;\n</code></pre>\n\n<p>Then after the user logs in with the FB button, how do I make a JS call to get their name, email, photo, etc?</p>\n\n<p>I also found some code like this, but not sure where this is used:</p>\n\n<pre><code>&lt;script&gt;\n  FB.init({\n    appId  : 'myAppId',\n    status : true, // check login status\n    cookie : true, // enable cookies to allow the server to access the session\n    xfbml  : true, // parse XFBML\n    channelURL : 'http://www.comehike.com/channel.html', // channel.html file\n    oauth  : true // enable OAuth 2.0\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p>Do I need the code right above?</p>\n\n<p>Thanks!!</p>\n",
            "last_activity_date": 1312306540,
            "question_id": 6915860,
            "score": 5,
            "tags": [
                "javascript",
                "facebook-graph-api"
            ],
            "title": "How to get User info using JS SDK after they login with Facebook"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You don't have to export a file using the Excel format in order to get the data into Excel. It is generally much easier to export to <code>CSV</code>. <code>CSV</code> files should be associated with Excel by default, so it should have the Excel icon by it and everything. <code>XML</code> would work the same way, I think, but the <code>CSV</code> format is much lighter, and does the same job in this case. Converting <code>JSON</code> to <code>CSV</code> is simple:</p>\n\n<pre><code>var response = JSON.parse(responseJSON).response;\nvar csv = arrayToCSV(response);\n\nfunction arrayToCSV(arr) {\n    var columnNames = [];\n    var rows = [];\n    for (var i=0, len=arr.length; i&lt;len; i++) {\n        // Each obj represents a row in the table\n        var obj = arr[i];\n        // row will collect data from obj\n        var row = [];\n        for (var key in obj) {\n            // Don't iterate through prototype stuff\n            if (!obj.hasOwnProperty(key)) continue;\n            // Collect the column names only once\n            if (i === 0) columnNames.push(prepareValueForCSV(key));\n            // Collect the data\n            row.push(prepareValueForCSV(obj[key]));\n        }\n        // Push each row to the main collection as csv string\n        rows.push(row.join(','));\n    }\n    // Put the columnNames at the beginning of all the rows\n    rows.unshift(columnNames.join(','));\n    // Return the csv string\n    return rows.join('\\n');\n}\n\n// This function allows us to have commas, line breaks, and double \n// quotes in our value without breaking CSV format.\nfunction prepareValueForCSV(val) {\n    val = '' + val;\n    // Escape quotes to avoid ending the value prematurely.\n    val = val.replace(/\"/g, '\"\"');\n    return '\"' + val + '\"';\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>I'm working with MOSS 2007 to export some lists(say 5 lists) to excel.My requirement is i need more than one lists to be exported to excel.I have added a CEWP in my page with a button so that by one click i can export more than one list datas to excel.nw i get a run time error when i use jquery \n   if( $('#WebPartWPQ3').is(':visible') )--->object expected error.\nI dont find any div id to trace..so is anybody know the answer,pls be come out of it..\nans related to this issue is really really really appreciated..my code is as follows.\n<code><br></p>\n\n<pre>&lt;button type=\"button\"\nonclick=exportToExcel();&gt;Click&lt;br&gt;\n&lt;/button&gt;&lt;br&gt;\n&lt;script type=\"text/javascript\"&gt;&lt;br&gt;\n function exportToExcel() &lt;br&gt;\n{ &lt;br&gt;\nalert('Hi');&lt;br&gt;\n//alert($(\"#WebPartWPQ3\").attr(\"visibility\"));&lt;br&gt;\nif( $('#WebPartWPQ3').is(':visible') )&lt;br&gt;\n{ &lt;br&gt;\n contentType = \"application/vnd.ms-excel\";&lt;br&gt;\nvar oExcel = new ActiveXObject(\"Excel.Application\");&lt;br&gt;\nvar oBook = oExcel.Workbooks.Add;&lt;br&gt;\nvar oSheet = oBook.Worksheets(1);&lt;br&gt;\n\nvar VESSApplications =document.getElementById&lt;br&gt;('ctl00_m_g_e3f5d791_5651_40ca_a03a_1c511c7f2b28_ctl00_ctl00_toolBarTbl');&lt;br&gt;\n  alert(document.getElementById('WebPartWPQ3'));&lt;br&gt;\nvar OtherApplications =document.getElementById('tblOtherApplications');&lt;br&gt;\n //   var MFGApplications =document.getElementById('tblMFGApplications');&lt;br&gt;\nvar row=3;&lt;br&gt;\nvar col=1;&lt;br&gt;\n\n//Define criteria - start&lt;br&gt;\noSheet.Cells(row, col)=\"Business Function\";&lt;br&gt;\noSheet.Cells(row, col+1)=\"VESS\";&lt;br&gt;\noSheet.Cells(row, col+2)=selectedVESSBusinessFunction;&lt;br&gt;\n //  oSheet.Cells(row, col+3)=\"Manufacturing\";&lt;br&gt;\n //  if(selectedMFGBusinessFunction != \"-Select-\")&lt;br&gt;\n //  oSheet.Cells(row, col+4)=selectedMFGBusinessFunction;&lt;br&gt;\nrow +=2;&lt;br&gt;\n\noSheet.Cells(row, col)=\"Operating System\";&lt;br&gt;\noSheet.Cells(row, col+1)=\"First Choice\";&lt;br&gt;\n    if(selectedOperatingSystemFirstChoice != \"-Select-\")&lt;br&gt;\n\n oSheet.Cells(row, col+2)=selectedOperatingSystemFirstChoice;&lt;br&gt;\n\n\noSheet.Cells(row, col+3)=\"Second Choice\";&lt;br&gt;\n\nif(selectedOperatingSystemSecondChoice != \"-Select-\")&lt;br&gt;\n\noSheet.Cells(row, col+4)=selectedOperatingSystemSecondChoice;&lt;br&gt;\n\nrow +=2;&lt;br&gt;\noSheet.Cells(row, col)=\"Platform\";&lt;br&gt;\noSheet.Cells(row, col+1)=\"First Choice\";&lt;br&gt;\noSheet.Cells(row, col+2)=selectedPlatformFirstChoice;&lt;br&gt;\noSheet.Cells(row, col+3)=\"Second Choice\";&lt;br&gt;\n\nif(selectedPlatformSecondChoice != \"-Select-\")&lt;br&gt;\n\noSheet.Cells(row, col+4)=selectedPlatformSecondChoice;&lt;br&gt;\nrow +=2;&lt;br&gt;\noSheet.Cells(row, col)=\"Delivery Method\";&lt;br&gt;\noSheet.Cells(row, col+1)=\"First Choice\";&lt;br&gt;\noSheet.Cells(row, col+2)=selectedDeliveryFirstChoice;&lt;br&gt;\noSheet.Cells(row, col+3)=\"Second Choice\";&lt;br&gt;\n\n if(selectedDeliverySecondChoice != \"-Select-\")&lt;br&gt;\n\noSheet.Cells(row, col+4)=selectedDeliverySecondChoice;&lt;br&gt;\nrow +=2;&lt;br&gt;\n//alert(VESSApplications.rows.length);&lt;br&gt;\nif(VESSApplications.rows.length&gt;0)&lt;br&gt;\n{&lt;br&gt;\n for (var y = 0; y &lt; VESSApplications.rows.length; y++) &lt;br&gt;\n {&lt;br&gt;\n     for (var x = 0; x &lt; VESSApplications .rows(y).cells.length; x++) &lt;br&gt;\n     {&lt;br&gt;\n   //          oSheet.Cells(y + 1, x + 1) = VESSApplications .rows(y).cells(x).innerText;&lt;br&gt;\n         oSheet.Cells(row, x + 1) = VESSApplications .rows(y).cells(x).innerText;&lt;br&gt;\n\n     }&lt;br&gt;\n             row++;&lt;br&gt;\n\n }&lt;br&gt;\n //   oExcel.Visible = true;&lt;br&gt;\n  // oExcel.UserControl = true;&lt;br&gt;\n}&lt;br&gt;\n\nelse&lt;br&gt;\n{&lt;br&gt;\nalert(\"There is no VESS/Other Applications to Export!\");&lt;br&gt;\n}&lt;br&gt;\nrow +=2;&lt;br&gt;\n\n//Other Applications&lt;br&gt;\n\n /*     for (var y = 0; y &lt; OtherApplications.rows.length; y++) &lt;br&gt;\n {&lt;br&gt;\n     for (var x = 0; x &lt; OtherApplications.rows(y).cells.length; x++) &lt;br&gt;\n     {&lt;br&gt;\n         oSheet.Cells(row, x + 1) = OtherApplications.rows(y).cells(x).innerText;&lt;br&gt;\n\n     }&lt;br&gt;\n             row++;&lt;br&gt;\n\n }&lt;br&gt;\n\n\n   row +=2;&lt;br&gt;\n\n\n//MFG Applications&lt;br&gt;\n\n for (var y = 0; y &lt; MFGApplications.rows.length; y++) &lt;br&gt;\n {&lt;br&gt;\n     for (var x = 0; x &lt; MFGApplications.rows(y).cells.length; x++) &lt;br&gt;\n     {&lt;br&gt;\n   //          oSheet.Cells(y + 1, x + 1) = VESSApplications .rows(y).cells(x).innerText;&lt;br&gt;\n         oSheet.Cells(row, x + 1) = MFGApplications.rows(y).cells(x).innerText;&lt;br&gt;\n\n     }&lt;br&gt;\n             row++;&lt;br&gt;\n\n }&lt;br&gt;\n\n */  \noSheet.columns.autofit;&lt;br&gt;\n\n\n oExcel.Visible = true;&lt;br&gt;\n oExcel.UserControl = true;&lt;br&gt;\n}&lt;br&gt;\nelse&lt;br&gt;\n{&lt;br&gt;\n alert('No VESS/Other applications available to export');&lt;br&gt;\n}&lt;br&gt;\n}&lt;br&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<blockquote>\n  <p>I have a jqGrid where I get data at once from server (java) in JSON\n  format. I want the data in the jqGrid to be exported into Excel\n  format.</p>\n</blockquote>\n\n<p>Here's a nice article, showing you how to export from jqGrid to Excel...</p>\n\n<p><a href=\"http://www.codeproject.com/Articles/784342/Export-data-from-jqGrid-into-a-real-Excel-file\" rel=\"nofollow\">http://www.codeproject.com/Articles/784342/Export-data-from-jqGrid-into-a-real-Excel-file</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a <a href=\"http://www.trirand.com/jqgridwiki/doku.php\">jqGrid</a> where I get data at once from server (java) in JSON format. I want the data in the jqGrid to be exported into Excel format.</p>\n\n<p>Till now I saw this <a href=\"http://www.trirand.net/documentation/php/_2v212tis2.htm\">page</a> which gives me an error in IE <code>'o.url is null or not an object' grid.import.js</code></p>\n\n<p>Also I saw <a href=\"http://www.trirand.com/blog/phpjqgrid/examples/functionality/excel/default.php\">this demo</a> where on the tool tip of export button it says <code>Export To Excel</code> but the file saved is in xml format.</p>\n\n<p>So I would like any suggestions that can either transform my JSON string into excel using javascript or jquery plugin or using jqgrid's inbuilt feature.</p>\n\n<p>My jqGrid</p>\n\n<p><img src=\"http://i.stack.imgur.com/fKFo1.png\" alt=\"enter image description here\"></p>\n\n<p>My jqGrid Code</p>\n\n<pre><code>grid = jQuery(\"#list2\");\n                grid.jqGrid({\n                    datastr : comparePatchData,\n                    datatype: 'jsonstring',\n                    colNames:['Name',starheader, header1, header2],\n                    colModel:[\n                        {name:'elementName',index:'elementName', width:90},\n                        {name:'isPrasentinXml1',index:'isPrasentinXml1', width:100, align:'center', formatter: patchPresent},\n                        {name:'isPrasentinXml2',index:'isPrasentinXml2', width:100, align:'center', formatter: patchPresent},\n                        {name:'isPrasentinXml3',index:'isPrasentinXml3', width:100, align:'center', formatter: patchPresent}\n                    ],\n                    pager : '#gridpager2',\n                    rowNum:12,\n                    scrollOffset:0,\n                    height: 320,\n                    autowidth:true,\n                    viewrecords: true,\n                    gridview: true,\n                    loadonce:true,\n                    jsonReader: {\n                        repeatitems: false,\n                        page: function() { return 1; },\n                        root: \"response\"\n                    },\n                    subGrid: true,\n                    // define the icons in subgrid\n                    subGridOptions: {\n                        \"plusicon\"  : \"ui-icon-triangle-1-e\",\n                        \"minusicon\" : \"ui-icon-triangle-1-s\",\n                        \"openicon\"  : \"ui-icon-arrowreturn-1-e\",\n                        //expand all rows on load\n                        \"expandOnLoad\" : false\n                    },\n\n                    subGridRowExpanded: function(subgrid_id, row_id) {\n                        //console.info(subgrid_id+\", \"+row_id);\n                        var subgrid_table_id, pager_id, iData = -1;\n                        subgrid_table_id = subgrid_id+\"_t\";\n                        //pager_id = \"p_\"+subgrid_table_id;\n                        $(\"#\"+subgrid_id).html(\"&lt;table id='\"+subgrid_table_id+\"' style='overflow-y:auto' class='scroll'&gt;&lt;/table&gt;&lt;div id='\"+pager_id+\"' class='scroll'&gt;&lt;/div&gt;\");\n\n                        $.each(comparePatchData.response,function(i,item){\n                            if(item.id === row_id) {\n                                iData = i;\n                                return false;\n                            }\n\n                        });\n                        if (iData == -1) {\n                            return; // no data for the subgrid\n                        }\n\n                        jQuery(\"#\"+subgrid_table_id).jqGrid({\n                            datastr : comparePatchData.response[iData],\n                            datatype: 'jsonstring',\n                            colNames: ['Name','Value1','Value2','Value3'],\n                            colModel: [\n                                {name:\"name\",index:\"name\",width:90},\n                                {name:\"firstValue\",index:\"firstValue\",width:100},\n                                {name:\"secondValue\",index:\"secondValue\",width:100},\n                                {name:\"thirdValue\",index:\"thirdValue\",width:100}\n                            ],\n                            rowNum:10,\n                            //pager: pager_id,\n                            sortname: 'name',\n                            sortorder: \"asc\",\n                            height: 'auto',\n                            autowidth:true,\n                            jsonReader: {\n                                repeatitems: false,\n                                //page: function() { return 1; },\n                                root: \"attribute\"\n                            }\n                        });\n\n                        jQuery(\"#\"+subgrid_table_id).jqGrid('navGrid',{edit:false,add:false,del:false});\n                    }\n                });\n                grid.jqGrid('navGrid','#gridpager2',{add:false,edit:false,del:false});\n                grid.jqGrid('navButtonAdd','#gridpager2',{\n                    caption:\"Export to Excel\", \n                    onClickButton : function () { \n                        jQuery(\"#list2\").excelExport();\n                    } \n                });\n</code></pre>\n\n<p>Part of my Json</p>\n\n<pre><code>{\n\"response\": [\n    {\n        \"id\": \"1\",\n        \"elementName\": \"libgtop2-devel-2.14.4-3.el5\",\n        \"subCategory\": \"patch\",\n        \"isEqual\": false,\n        \"isPrasentinXml1\": false,\n        \"isPrasentinXml2\": false,\n        \"isPrasentinXml3\": true,\n        \"attribute\": [\n            {\n                \"name\": \"name\",\n                \"thirdValue\": \"libgtop2-devel-2.14.4-3.el5\"\n            }\n        ]\n    },\n    {\n        \"id\": \"2\",\n        \"elementName\": \"ifd-egate-0.05-15\",\n        \"subCategory\": \"patch\",\n        \"isEqual\": false,\n        \"isPrasentinXml1\": false,\n        \"isPrasentinXml2\": false,\n        \"isPrasentinXml3\": true,\n        \"attribute\": [\n            {\n                \"name\": \"name\",\n                \"thirdValue\": \"ifd-egate-0.05-15\"\n            }\n        ]\n    },\n    {\n        \"id\": \"3\",\n        \"elementName\": \"libXScrnSaver-devel-1.1.0-3.1\",\n        \"subCategory\": \"patch\",\n        \"isEqual\": false,\n        \"isPrasentinXml1\": false,\n        \"isPrasentinXml2\": false,\n        \"isPrasentinXml3\": true,\n        \"attribute\": [\n            {\n                \"name\": \"name\",\n                \"thirdValue\": \"libXScrnSaver-devel-1.1.0-3.1\"\n            }\n        ]\n    },\n    {\n        \"id\": \"4\",\n        \"elementName\": \"kde-i18n-Chinese-Big5-3.5.4-1\",\n        \"subCategory\": \"patch\",\n        \"isEqual\": false,\n        \"isPrasentinXml1\": true,\n        \"isPrasentinXml2\": true,\n        \"isPrasentinXml3\": true,\n        \"attribute\": [\n            {\n                \"name\": \"name\",\n                \"firstValue\": \"kde-i18n-Chinese-Big5-3.5.4-1\",\n                \"secondValue\": \"kde-i18n-Chinese-Big5-3.5.4-1\"\n            }\n        ]\n    },\n    {\n        \"id\": \"5\",\n        \"elementName\": \"cpio-2.6-20\",\n        \"subCategory\": \"patch\",\n        \"isEqual\": false,\n        \"isPrasentinXml1\": true,\n        \"isPrasentinXml2\": true,\n        \"isPrasentinXml3\": true,\n        \"attribute\": [\n            {\n                \"name\": \"name\",\n                \"firstValue\": \"cpio-2.6-20\",\n                \"secondValue\": \"cpio-2.6-20\",\n                \"thirdValue\": \"cpio-2.6-20\"\n            }\n        ]\n    },\n    {\n        \"id\": \"6\",\n        \"elementName\": \"grep-2.5.1-54.2.el5\",\n        \"subCategory\": \"patch\",\n        \"isEqual\": false,\n        \"isPrasentinXml1\": true,\n        \"isPrasentinXml2\": true,\n        \"isPrasentinXml3\": true,\n        \"attribute\": [\n            {\n                \"name\": \"name\",\n                \"firstValue\": \"grep-2.5.1-54.2.el5\",\n                \"secondValue\": \"grep-2.5.1-54.2.el5\",\n                \"thirdValue\": \"grep-2.5.1-54.2.el5\"\n            }\n        ]\n    },\n    {\n        \"id\": \"7\",\n        \"elementName\": \"avahi-compat-libdns_sd-0.6.16-1.el5\",\n        \"subCategory\": \"patch\",\n        \"isEqual\": false,\n        \"isPrasentinXml1\": true,\n        \"isPrasentinXml2\": true,\n        \"isPrasentinXml3\": true,\n        \"attribute\": [\n            {\n                \"name\": \"name\",\n                \"firstValue\": \"avahi-compat-libdns_sd-0.6.16-1.el5\",\n                \"secondValue\": \"avahi-compat-libdns_sd-0.6.16-1.el5\",\n                \"thirdValue\": \"avahi-compat-libdns_sd-0.6.16-1.el5\"\n            }\n        ]\n    },\n    {\n        \"id\": \"8\",\n        \"elementName\": \"gpm-devel-1.20.1-74.1\",\n        \"subCategory\": \"patch\",\n        \"isEqual\": false,\n        \"isPrasentinXml1\": true,\n        \"isPrasentinXml2\": true,\n        \"isPrasentinXml3\": true,\n        \"attribute\": [\n            {\n                \"name\": \"name\",\n                \"firstValue\": \"gpm-devel-1.20.1-74.1\",\n                \"secondValue\": \"gpm-devel-1.20.1-74.1\",\n                \"thirdValue\": \"gpm-devel-1.20.1-74.1\"\n            }\n        ]\n    },\n    {\n        \"id\": \"9\",\n        \"elementName\": \"esc-1.0.0-39.el5\",\n        \"subCategory\": \"patch\",\n        \"isEqual\": false,\n        \"isPrasentinXml1\": false,\n        \"isPrasentinXml2\": false,\n        \"isPrasentinXml3\": true,\n        \"attribute\": [\n            {\n                \"name\": \"name\",\n                \"thirdValue\": \"esc-1.0.0-39.el5\"\n            }\n        ]\n    },\n    {\n        \"id\": \"10\",\n        \"elementName\": \"kde-i18n-Spanish-3.5.4-1\",\n        \"subCategory\": \"patch\",\n        \"isEqual\": false,\n        \"isPrasentinXml1\": true,\n        \"isPrasentinXml2\": true,\n        \"isPrasentinXml3\": true,\n        \"attribute\": [\n            {\n                \"name\": \"name\",\n                \"firstValue\": \"kde-i18n-Spanish-3.5.4-1\",\n                \"secondValue\": \"kde-i18n-Spanish-3.5.4-1\"\n            }\n        ]\n    }\n]\n}\n</code></pre>\n",
            "last_activity_date": 1402405903,
            "question_id": 6742567,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "excel",
                "jquery-plugins",
                "jqgrid"
            ],
            "title": "export to excel in jquery or jqGrid"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You need the parenthesis on the call, like this:</p>\n\n<pre><code>obj[funcName]();\n</code></pre>\n\n<p>You can get eval to work like this:</p>\n\n<pre><code>eval(\"obj.\" + funcName + \"()\");\n</code></pre>\n\n<p>but that's uglier.  I prefer the first syntax.</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>When dealing with <code>obj[funcName]();</code> you have to take care of the instance of the object. if you want to use a private propetry form the object inside function call, it will use it as it was a static property. </p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I think that I'm missing something very simple here. I want to pass a function an object and the method to call. The reasons why are too long for this post. :-)</p>\n\n<pre><code>var myObj = new someObject();\nvar funcName = \"hide\";\n\nfunction callObject(myObj,funcName){\n    obj.hide(); //this works     \n    obj[funcName]; //doesn't work\n    obj.eval(funcName); //doesn't work either.. tried many variations\n}\n</code></pre>\n\n<p>Thank you!</p>\n",
            "last_activity_date": 1346063907,
            "question_id": 5112793,
            "score": 5,
            "tags": [
                "javascript",
                "eval"
            ],
            "title": "How do I dynamically call a JavaScript object&#39;s method"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>As far as I know, there's no (neat) built-in function for that. I wrote this once:</p>\n\n<pre><code>// note that month is 0-based, like in the Date object. Adjust if necessary.\nfunction getNumberOfDays(year, month) {\n    var isLeap = ((year % 4) == 0 &amp;&amp; ((year % 100) != 0 || (year % 400) == 0));\n    return [31, (isLeap ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>You can play with date objects:</p>\n\n<pre><code>var monthStart = new Date(year, month, 1);\nvar monthEnd = new Date(year, month + 1, 1);\nvar monthLength = (monthEnd - monthStart) / (1000 * 60 * 60 * 24)\n</code></pre>\n\n<p>Arithmetic with <code>Date</code> objects gives a number of milliseconds.</p>\n\n<p>This will even work for December; the Date constructor handles out-of-range arguments by wrapping around.</p>\n\n<p>Note that <code>month</code> is zero-based (it must be between <code>0</code> and <code>11</code>)</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<pre><code>Date.prototype.daysinMonth: function(){\n    var d= new Date(this.getFullYear(), this.getMonth()+1, 0);\n    return d.getDate();\n}\n\nfunction daysinMonthfromInput(month,year){\n    return (new Date(year,month-1,1)).daysinMonth();\n}\n\nalert(daysinMonthfromInput(2,2011));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's the one liner.\nAssuming you are saying January=1, February=2 etc..(being normal)\nHere's the leap year example:</p>\n\n<pre><code>var y = 2012;\nvar m = 2;\nvar daysInMonth = new Date(y,m,1,-1).getDate();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I am using this approach in my current project and found that I needed correct for round off errors. So instead of using monthLength in my code, I had to use this instead:</p>\n\n<pre><code>monthLength.toFixed(0)\n</code></pre>\n\n<p>For example if I have an object in which I am storing a text date field, it may look like this:</p>\n\n<pre><code>obj.month = theMonths[mm - 1] + \" \" + monthLength.toFixed(0) + \", \" + obj.year;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Copy from another post: <a href=\"http://stackoverflow.com/questions/1184334/get-number-days-in-a-specified-month-using-javascript\">Get number days in a specified month using javascript?</a></p>\n\n<pre><code>//Month is 1 based\nfunction daysInMonth(month,year) {\nreturn new Date(year, month, 0).getDate();\n}\n\n//July\ndaysInMonth(7,2009); //31\n//February\ndaysInMonth(2,2009); //28\ndaysInMonth(2,2008); //29\n</code></pre>\n\n<p>All the credits to @c_harm, really great solution</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a HTML page with 3 dropdowns for the month, day and year and I was wondering if there was a way to populate the month drop down properly depending on the month and year.</p>\n\n<p>I haven't done this before on the client side, but it looks like a lot of controls like the jQuery DatePicker are doing that behind the scenes.</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1404109506,
            "question_id": 4881938,
            "score": 5,
            "tags": [
                "javascript",
                "date",
                "datepicker",
                "drop-down-menu",
                "leap-year"
            ],
            "title": "Javascript: calculate number of days in month for a given year"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Use <a href=\"https://developer.mozilla.org/en/DOM/event.preventDefault\" rel=\"nofollow\"><code>event.preventDefault</code></a>.</p>\n\n<pre><code>$('#dragbar').mousedown(function(e){\n   e.preventDefault();\n   // ...\n});\n</code></pre>\n\n<p>Maybe you need to call it in <code>mousemove</code> too.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Look at <a href=\"http://www.jsfiddle.net/gaby/Bek9L/\">http://www.jsfiddle.net/gaby/Bek9L/</a></p>\n\n<p>I changed the <code>#main</code> area to be <code>left:200px</code> (<em>and no width</em>).<br>\nAdded <code>e.preventDefault()</code> on the mousedown to avoid the selection of text to occur.<br>\nIn the code i alter the <code>left</code> property of the <code>#main</code> as well so both sides move..</p>\n\n<hr>\n\n<p>Not sure what you problem really is, but what is see is that the <code>#sidebar</code> was resized but was going underneath the <code>#main</code> and so the <code>#dragbar</code> disappeared..</p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I'm converting a site for a client from a frameset to divs.  One feature that the client has is a sidebar that can be resized depending on how much space the user needs.   Using frames the resizing of this sidebar was built in.   However, I'm having some difficulty emulating this capability in jQuery.</p>\n\n<p>I don't wish to use jQuery UI to do this, I have no need for all the extra functionality that the UI suite provides, and would rather just write a few lines of code to take care of this.</p>\n\n<p>I only need to resize in the horizontal plane, vertical dimensions are fixed.</p>\n\n<p>Currently I have a solution that (sort of) works.   The sidebar div can be resized, but only if a user clicks on the resizable div, drags the mouse, then clicks on the div again (to remove the mousemove event).</p>\n\n<p>The experience I want is this:  A user hovers over the resizable div, presses the mouse button down, then drags the div to be larger/smaller, and releases the button.</p>\n\n<p>The problem I'm having is this:   If a user clicks on my resizable div, then tries to drag it to make it smaller/larger, the mouse becomes the \"no\" icon, and there is a transparent version of my div that is drug around with the mouse.</p>\n\n<p>Perhaps this is better explained by checking out my code:.</p>\n\n<pre><code>$(document).ready(function() {\nvar i = 0;\n   $('#dragbar').mousedown(function(){\n        $('#mousestatus').html(\"mousedown\" + i++);\n       $(document).mousemove(function(e){\n          $('#position').html(e.pageX +', '+ e.pageY);\n          $('#sidebar').css(\"width\",e.pageX+2);\n       })\n       console.log(\"leaving mouseDown\");\n    });\n   $(document).mouseup(function(){\n       $('#clickevent').html('in another mouseUp event' + i++);\n       $(document).unbind('mousemove');\n       });\n});\n</code></pre>\n\n<p>and HTML:</p>\n\n<pre><code>&lt;div id=\"header\"&gt;\n    header\n    &lt;span id=\"mousestatus\"&gt;&lt;/span&gt;\n    &lt;span id=\"clickevent\"&gt;&lt;/span&gt;\n&lt;/div&gt;\n&lt;div id=\"sidebar\"&gt;\n     &lt;span id=\"position\"&gt;&lt;/span&gt;\n    &lt;div id=\"dragbar\"&gt;\n    &lt;/div&gt;\n    sidebar\n&lt;/div&gt;\n&lt;div id=\"main\"&gt;\n    main\n&lt;/div&gt;\n&lt;div id=\"footer\"&gt;\n    footer\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is a temp webpage with the basic layout working:</p>\n\n<p><a href=\"http://pastehtml.com/view/1crj2lj.html\">http://pastehtml.com/view/1crj2lj.html</a></p>\n\n<p>The problem can be seen if you try to resize the thing labeled \"sidebar\" using the brown bar.   </p>\n",
            "last_activity_date": 1294863269,
            "question_id": 4673348,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "frameset"
            ],
            "title": "Emulating frame-resize behavior with divs using jQuery without using jQuery UI?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You will have to use a regular expression. Try:</p>\n\n<pre><code>/\\i\\b(http|https):\\/\\/(\\S*)\\b/i\n</code></pre>\n\n<p>If you aren't good with regular expression, I'd recommend taking a look at this online tool for building them: <a href=\"http://rubular.com/\" rel=\"nofollow\">http://rubular.com/</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The jQuery Wiki Text plugin (http://www.kajabity.com/jquery-wikitext/) includes Regular Expressions to find URls in text which can be used for the purpose.</p>\n\n<p>So, you asked for a function - well here it is:</p>\n\n<pre><code>/**\n * A utility function to find all URLs - FTP, HTTP(S) and Email - in a text string\n * and return them in an array.  Note, the URLs returned are exactly as found in the text.\n * \n * @param text\n *            the text to be searched.\n * @return an array of URLs.\n */\nfunction findUrls( text )\n{\n    var source = (text || '').toString();\n    var urlArray = [];\n    var url;\n    var matchArray;\n\n    // Regular expression to find FTP, HTTP(S) and email URLs.\n    var regexToken = /(((ftp|https?):\\/\\/)[\\-\\w@:%_\\+.~#?,&amp;\\/\\/=]+)|((mailto:)?[_.\\w-]+@([\\w][\\w\\-]+\\.)+[a-zA-Z]{2,3})/g;\n\n    // Iterate through any URLs in the text.\n    while( (matchArray = regexToken.exec( source )) !== null )\n    {\n        var token = matchArray[0];\n        urlArray.push( token );\n    }\n\n    return urlArray;\n}\n</code></pre>\n\n<p>Hope it helps.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>RegExp is probably the way to go, and this should do the trick for you:</p>\n\n<pre><code>var searchText = $('yourElement').text(),\n\n    // urls will be an array of URL matches\n    urls = searchText.match(/\\b(http|https)?(:\\/\\/)?(\\S*)\\.(\\w{2,4})\\b/ig);\n\n// you can then iterate through urls\nfor (var i = 0, il = urls.length; i &lt; il; i++) {\n    // do whatever with urls[i]\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/gd7kR/1/\" rel=\"nofollow\"><strong>See demo &#x2192;</strong></a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm a beginner with jQuery.</p>\n\n<p>I simply want to pass a block of text to a function and return an array of urls contained within. </p>\n\n<p>\"I need to grab a url like <a href=\"http://www.something.com\">http://www.something.com</a> from text, and if therearemore.com then grab those too\".</p>\n\n<p>Any help? Is there a .GetUrl()? </p>\n\n<p>Note: I suck with regular expressions!</p>\n",
            "last_activity_date": 1305323570,
            "question_id": 4504853,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "url"
            ],
            "title": "How do I extract a URL from plain text using jQuery?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can't do cross-domain AJAX requests like that due to the <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\" rel=\"nofollow\">same-origin policy</a>.  Instead, use Facebook's <a href=\"http://developers.facebook.com/docs/reference/javascript/\" rel=\"nofollow\">JavaScript SDK</a>, which is based on a script tag.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>...The Graph API supports JSONP. Simply pass callback=methodname as an extra parameter and the returned content will be wrapped in a function call, allowing you to use a dynamically inserted script tag to grab that data.\n<a href=\"http://forum.developers.facebook.com/viewtopic.php?pid=253084#p253084\" rel=\"nofollow\">http://forum.developers.facebook.com/viewtopic.php?pid=253084#p253084</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I have covered this and asked this question before. I made a quick <a href=\"http://www.prettyklicks.com/blog/making-a-facebook-feed-using-the-graph-api-json-and-jquery/291/\" rel=\"nofollow\">tutorial</a> which covers exactly this and <strong>explains it all</strong>. </p>\n\n<p>In short:\nJSON is not made for cross domain usage according to its same-origin policy. However the work around is to use JSONP which we can do in jQuery using the supported callback parameter in facebook's graph api. We can do so by adding the parameter onto your url like </p>\n\n<p><code>https://graph.facebook.com/19292868552?callback=?</code> </p>\n\n<p>by using the callback=? jQuery automatically changes the ? to wrap the json in a function call which then allows jQuery to parse the data successfully.</p>\n\n<p>Also try using $.getJSON method.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I was trying to do something similar, in testing I was able to get a working result which I saved on jsFiddle: <a href=\"http://jsfiddle.net/8R7J8/1/\" rel=\"nofollow\">http://jsfiddle.net/8R7J8/1/</a></p>\n\n<p>Script:</p>\n\n<pre><code>var facebookGraphURL = 'https://graph.facebook.com/19292868552';\n$.ajax({\n    url: facebookGraphURL,\n    dataType: 'json',\n    success: function(data, status) {\n      $( '#output' ).html('Username: ' + data.username);\n    },\n    error: function(data, e1, e2) {\n      $( '#output' ).html(e2);\n    }\n})\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;body&gt;\n    &lt;div id=\"output\"&gt;BorkBorkBork&lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Hope that helps! :)</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Im trying out the new graph api for facebook. I'm trying to fetch some data using jquery ajax.\nThis is a sample of  my javascript code, very basic...</p>\n\n<pre><code>var mUrl = 'https://graph.facebook.com/19292868552';\n   $.ajax({\n        url: mUrl,\n        dataType: 'json',\n        success: function(data, status) {\n          $('#test').html(data);\n          alert(data);\n\n      },\n      error: function(data, e1, e2) {\n        $('#hello').html(e1);  \n      }\n   });\n</code></pre>\n\n<p>The url is to a page that does not need access tokens (try it using a browser), but the success function returns an empty object or null. </p>\n\n<p>What am I doing wrong? Thankful for all help!</p>\n",
            "last_activity_date": 1358090885,
            "question_id": 3138718,
            "score": 5,
            "tags": [
                "javascript",
                "facebook",
                "jquery"
            ],
            "title": "Using the new facebook graph api, ajax calls returns null (empty)"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>Probably best to use a library like <a href=\"http://www.datejs.com/\">Date.js</a> (although that hasn't been maintained in years) or <a href=\"http://momentjs.com/\">Moment.js</a>.</p>\n\n<p>But to do it manually, you can use <code>Date#getFullYear()</code>, <code>Date#getMonth()</code> (it starts with 0 = January, so you probably want + 1), and <code>Date#getDate()</code> (day of month). Just pad out the month and day to two characters, e.g.:</p>\n\n<pre><code>(function() {\n    Date.prototype.toYMD = Date_toYMD;\n    function Date_toYMD() {\n        var year, month, day;\n        year = String(this.getFullYear());\n        month = String(this.getMonth() + 1);\n        if (month.length == 1) {\n            month = \"0\" + month;\n        }\n        day = String(this.getDate());\n        if (day.length == 1) {\n            day = \"0\" + day;\n        }\n        return year + \"-\" + month + \"-\" + day;\n    }\n})();\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var dt = new Date();\nvar str = dt.toYMD();\n</code></pre>\n\n<p>Note that the function has a name, which is useful for debugging purposes, but because of the anonymous scoping function there's no pollution of the global namespace.</p>\n\n<p>That uses local time; for UTC, just use the UTC versions (<code>getUTCFullYear</code>, etc.).</p>\n\n<p>Caveat: I just threw that out, it's completely untested.</p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>Take a look at this handy library for all your date formatting needs: <a href=\"http://blog.stevenlevithan.com/archives/date-time-format\" rel=\"nofollow\">http://blog.stevenlevithan.com/archives/date-time-format</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>A bit of a typo in the first example, when a day has a length less than 1 it is adding the month instead of the day to the result.  </p>\n\n<p>Works great though if you change:</p>\n\n<pre><code>    if (day.length == 1) {\n        day = \"0\" + month;\n    }\n</code></pre>\n\n<p>to</p>\n\n<pre><code>    if (day.length == 1) {\n        day = \"0\" + day;\n    }\n</code></pre>\n\n<p>Thanks for posting that script.</p>\n\n<p>The corrected function looks like:</p>\n\n<pre><code>Date.prototype.toYMD = Date_toYMD;\nfunction Date_toYMD() {\n    var year, month, day;\n    year = String(this.getFullYear());\n    month = String(this.getMonth() + 1);\n    if (month.length == 1) {\n        month = \"0\" + month;\n    }\n    day = String(this.getDate());\n    if (day.length == 1) {\n        day = \"0\" + day;\n    }\n    return year + \"-\" + month + \"-\" + day;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Can be!</p>\n\n<pre><code>function Date_toYMD(d)\n{\n    var year, month, day;\n    year = String(d.getFullYear());\n    month = String(d.getMonth() + 1);\n    if (month.length == 1) {\n        month = \"0\" + month;\n    }\n    day = String(d.getDate());\n    if (day.length == 1) {\n        day = \"0\" + day;\n    }\n    return year + \"-\" + month + \"-\" + day;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>function js2Sql(cDate) {\n    return cDate.getFullYear()\n           + '-'\n           + (\"00\" + (cDate.getMonth()+1)).slice(-2)\n           + '-'\n           + (\"00\" + cDate.getDate()).slice(-2);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>// function\ngetDate = function(dateObj){\n    var day = dateObj.getDay() &lt; 9 ? '0'+dateObj.getDay():dateObj.getDay();\n    var month = dateObj.getMonth() &lt; 9 ? '0'+dateObj.getMonth():dateObj.getMonth();\n    return dateObj.getFullYear()+'-'+month+'-'+day;\n}\n\n// example usage\nconsole.log(getDate(new Date()));\n\n// with custom date\nconsole.log(getDate(new Date(2012,dateObj.getMonth()-30,dateObj.getDay()));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This worked for me, just edit the string instead:</p>\n\n<pre><code>var myDate = new Date();\nvar myDate_string = myDate.toISOString();\nvar myDate_string = myDate_string.replace(\"T\",\" \");\nvar myDate_string = myDate_string.substring(0, myDate_string.length - 5);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>(new Date()).toISOString().substring(0, 19).replace('T', ' ')</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The shortest version of <a href=\"http://stackoverflow.com/a/11453710/3777994\">http://stackoverflow.com/a/11453710/3777994</a>: </p>\n\n<pre><code>/**\n * MySQL date\n * @param {Date} [date] Optional date object\n * @returns {string}\n */\nfunction mysqlDate(date){\n    date = date || new Date();\n    return date.toISOString().split('T')[0];\n}\n</code></pre>\n\n<p>Using:</p>\n\n<pre><code>var date = mysqlDate(); //'2014-12-05'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to use javascript to convert a date object into a valid mysql date - what is the best way to do this?</p>\n",
            "last_activity_date": 1417782450,
            "question_id": 2280104,
            "score": 5,
            "tags": [
                "javascript",
                "mysql",
                "date"
            ],
            "title": "Convert javascript to date object to mysql date format (YYYY-MM-DD)"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>If I understood you correctly you need to find out the element over the mouse is currently on. If this is correct you can use</p>\n\n<pre><code>document.elementFromPoint ( x, y );\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/En/DOM/document.elementFromPoint\">document.elementFromPoint</a></p>\n\n<blockquote>\n  <p>Returns the element from the document\n  whose elementFromPoint method is being\n  called which is the topmost element\n  which lies under the given point.  The\n  point is specified via coordinates, in\n  CSS pixels, relative to the\n  upper-left-most point in the window or\n  frame containing the document.</p>\n</blockquote>\n\n<pre><code>$(document).ready(function(){\n   $(this).mousemove(function(e){\n      var elem = document.elementFromPoint ( e.pageX , e.pageY );\n    alert ( elem.id );\n   }); \n})\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 14
                }
            ],
            "body": "<p>I need know what elements are in current mouse position and I'm using jQuery.</p>\n",
            "last_activity_date": 1258355582,
            "question_id": 1471047,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "css"
            ],
            "title": "How to know what elements are in current mouse position?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>You can't.</p>\n\n<pre><code>function(){\n\n    function my_fun(){\n           /.. some operations ../\n    }\n}\n</code></pre>\n\n<p>That is a closure. <code>my_fun()</code> is defined only inside of that anonymous function. You can only call <code>my_fun()</code> if you declare it at the correct level of scope, i.e., globally.</p>\n\n<p><code>$(function () {/* something */})</code> is an IIFE, meaning it executes immediately when the DOM is ready. By declaring <code>my_fun()</code> inside of that anonymous function, you prevent the rest of the script from \"seeing\" it.</p>\n\n<p>Of course, if you want to run this function when the DOM has fully loaded, you should do the following:</p>\n\n<pre><code>function my_fun(){\n    /* some operations */\n}\n\n$(function(){\n    my_fun(); //run my_fun() ondomready\n});\n\n// just js\nfunction js_fun(){\n   my_fun(); //== call my_fun() again\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>jQuery functions are called just like JavaScript functions.</p>\n\n<p>For example, to dynamically add the class \"red\" to the document element with the id \"orderedlist\" using the jQuery addClass function:</p>\n\n<pre><code>$(\"#orderedlist\").addClass(\"red\");\n</code></pre>\n\n<p>As opposed to a regular line of JavaScript calling a regular function:</p>\n\n<pre><code>var x = document.getElementById(\"orderedlist\");\n</code></pre>\n\n<p>addClass() is a jQuery function, getElementById() is a JavaScript function.</p>\n\n<p>The dollar sign function makes the jQuery addClass function available.</p>\n\n<p>The only difference is the jQuery example is calling the addclass function of the jQuery object $(\"#orderedlist\") and the regular example is calling a function of the document object.</p>\n\n<p>In your code </p>\n\n<pre><code>$(function() {\n// code to execute when the DOM is ready\n});\n</code></pre>\n\n<p>Is used to specify code to run when the DOM is ready. </p>\n\n<p>It does not differentiate (as you may think) what is \"jQuery code\" from regular JavaScript code.</p>\n\n<p>So, to answer your question, just call functions you defined as you normally would.</p>\n\n<pre><code>//create a function\nfunction my_fun(){\n  // call a jQuery function:\n  $(\"#orderedlist\").addClass(\"red\");\n}\n\n//call the function you defined:\nmyfun();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>My problem was that I was looking at it from the long angle:</p>\n\n<pre><code>function new_line() {\n    var html= '&lt;div&gt;&lt;br&gt;&lt;input type=\"text\" value=\"\" id=\"dateP_'+ i +'\"&gt;&lt;/div&gt;';\n    document.getElementById(\"container\").innerHTML += html;\n\n    $('#dateP_'+i).datepicker({\n        showOn: 'button',\n        buttonImage: 'calendar.gif',\n        buttonImageOnly: true\n    });\n    i++;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I made it...</p>\n\n<p>I just write</p>\n\n<blockquote>\n<pre><code> jQuery('#container').append(html)\n</code></pre>\n</blockquote>\n\n<p>instead </p>\n\n<blockquote>\n<pre><code> document.getElementById('container').innerHTML += html;\n</code></pre>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Yes you can (this is how I understand the original question).\nHere is how I did it. Just tie it into outside context. \nFor example:</p>\n\n<pre><code>//javascript\n\nmy_function = null;\n\n//jquery \n $(function() { \n\n        function my_fun(){ \n               /.. some operations ../ \n        }  \n        my_function = my_fun;\n }) \n\n //just js \n function js_fun () {  \n       my_function(); //== call jquery function - just Reference is globally defined not function itself\n}\n</code></pre>\n\n<p>I encountered this same problem when trying to access methods of the object, that was instantiated\non DOM object ready only. Works. My example:</p>\n\n<pre><code>MyControl.prototype = {\n   init:   function { \n        // init something\n   }\n   update: function () {\n           // something useful, like updating the list items of control or etc.         \n   }\n}\n\nMyCtrl = null;\n\n// create jquery plug-in\n$.fn.aControl = function () {\n    var control = new MyControl(this);\n    control.init();\n    MyCtrl = control; // here is the trick\n    return control;\n}\n</code></pre>\n\n<p>now you can use something simple like:</p>\n\n<pre><code>function() = {\n   MyCtrl.update(); // yes!\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>var jqueryFunction;\n\n$().ready(function(){\n    //jQuery function\n    jqueryFunction = function( _msg )\n    {\n        alert( _msg );\n    }\n})\n\n//javascript function\nfunction jsFunction()\n{\n    //Invoke jQuery Function\n    jqueryFunction(\"Call from js to jQuery\");\n}\n</code></pre>\n\n<p><a href=\"http://www.designscripting.com/2012/08/call-jquery-function-from-javascript/\" rel=\"nofollow\">http://www.designscripting.com/2012/08/call-jquery-function-from-javascript/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>//javascript function calling an jquery function</p>\n\n<p>//In javascript part</p>\n\n<pre><code>function js_show_score()\n{\n     //we use so many javascript library, So please use 'jQuery' avoid '$'  \n     jQuery(function(){ \n        //Call any jquery function\n        show_score(); //jquery function\n    });(jQuery);  \n}\n</code></pre>\n\n<p>//In Jquery part</p>\n\n<pre><code>jQuery(function(){ \n//Jq Score function     \n    function show_score()\n    {   \n        $('#score').val(\"10\");\n    }\n});(jQuery); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>    &lt;script&gt;\n\n        // Instantiate your javascript function\n        niceJavascriptRoutine = null;\n\n        // Begin jQuery\n        $(document).ready(function() {\n\n            // Your jQuery function\n            function niceJqueryRoutine() {\n                // some code\n            }\n            // Point the javascript function to the jQuery function\n            niceJavaScriptRoutine = niceJueryRoutine;\n\n        });\n\n    &lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can i call a jQuery function from javascript?</p>\n\n<pre><code> //jquery\n $(function() {\n\n        function my_fun(){\n               /.. some operations ../\n        } \n });\n\n //just js\n function js_fun () {\n\n       my_fun(); //== call jquery function \n }\n</code></pre>\n",
            "last_activity_date": 1416200874,
            "question_id": 1345722,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "calling Jquery function from javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>var instance = {};\nMyClass.apply( instance, r);\n</code></pre>\n\n<p>All the keyword \"new\" does is pass in a new object to the constructor which then becomes the this variable inside the constructor function.</p>\n\n<p>Depending upon how the constructor was written, you may have to do this:</p>\n\n<pre><code>var instance = {};\nvar returned = MyClass.apply( instance, args);\nif( returned != null) {\n    instance = returned;\n}\n</code></pre>\n\n<p>Update: A comment says this doesn't work if there is a prototype. Try this.</p>\n\n<pre><code>function newApply(class, args) {\n    function F() {\n        return class.apply(this, args);\n    }\n    F.prototype = class.prototype;\n    return new F();\n}\n\nnewApply( MyClass, args);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>what about a workaround?</p>\n\n<pre><code>function MyClass(arg1, arg2) {\n\n    this.init = function(arg1, arg2){\n        //if(arg1 and arg2 not null) do stuff with args\n    }\n\n    init(arg1, arg2);\n}\n</code></pre>\n\n<p>So how you can:</p>\n\n<pre><code>var obj = new MyClass();\nobj.apply(obj, args);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>One possibility is to make the constructor work as a normal function call.</p>\n\n<pre><code>function MyClass(arg1, arg2) {\n    if (!(this instanceof MyClass)) {\n        return new MyClass(arg1, arg2);\n    }\n\n    // normal constructor here\n}\n</code></pre>\n\n<p>The condition on the <code>if</code> statement will be true if you call <code>MyClass</code> as a normal function (including with <code>call</code>/<code>apply</code> as long as the <code>this</code> argument is not a <code>MyClass object</code>).</p>\n\n<p>Now all of these are equivalent:</p>\n\n<pre><code>new MyClass(arg1, arg2);\nMyClass(arg1, arg2);\nMyClass.call(null, arg1, arg2);\nMyClass.apply(null, [arg1, arg2]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Hacks are hacks are hacks, but perhaps this one is a bit more elegant than some of the others, since calling syntax would be similar to what you want and you wouldn't need to modify the original classes at all:</p>\n\n<pre><code>Function.prototype.build = function(parameterArray) {\n    var functionNameResults = (/function (.{1,})\\(/).exec(this.toString());\n    var constructorName = (functionNameResults &amp;&amp; functionNameResults.length &gt; 1) ? functionNameResults[1] : \"\";\n    var builtObject = null;\n    if(constructorName != \"\") {\n       var parameterNameValues = {}, parameterNames = [];\n       for(var i = 0; i &lt; parameterArray.length; i++) {\n         var parameterName = (\"p_\" + i);\n         parameterNameValues[parameterName] = parameterArray[i];\n         parameterNames.push((\"parameterNameValues.\" + parameterName));\n       }\n       builtObject = (new Function(\"parameterNameValues\", \"return new \" + constructorName + \"(\" + parameterNames.join(\",\") + \");\"))(parameterNameValues);\n    }\n    return builtObject;\n};\n</code></pre>\n\n<p>Now you can do either of these to build an object:</p>\n\n<pre><code>var instance1 = MyClass.build([\"arg1\",\"arg2\"]);\nvar instance2 = new MyClass(\"arg1\",\"arg2\");\n</code></pre>\n\n<p>Granted, some may not like modifying the Function object's prototype, so you can do it this way and use it as a function instead:</p>\n\n<pre><code>function build(constructorFunction, parameterArray) {\n    var functionNameResults = (/function (.{1,})\\(/).exec(constructorFunction.toString());\n    var constructorName = (functionNameResults &amp;&amp; functionNameResults.length &gt; 1) ? functionNameResults[1] : \"\";\n    var builtObject = null;\n    if(constructorName != \"\") {\n       var parameterNameValues = {}, parameterNames = [];\n       for(var i = 0; i &lt; parameterArray.length; i++) {\n         var parameterName = (\"p_\" + i);\n         parameterNameValues[parameterName] = parameterArray[i];\n         parameterNames.push((\"parameterNameValues.\" + parameterName));\n       }\n       builtObject = (new Function(\"parameterNameValues\", \"return new \" + constructorName + \"(\" + parameterNames.join(\",\") + \");\"))(parameterNameValues);\n    }\n    return builtObject;\n};\n</code></pre>\n\n<p>And then you would call it like so:</p>\n\n<pre><code>var instance1 = build(MyClass, [\"arg1\",\"arg2\"]);\n</code></pre>\n\n<p>So, I hope those are useful to someone - they allow you to leave the original constructor functions alone and get what you are after in one simple line of code (unlike the two lines you need for the currently-selected solution/workaround.</p>\n\n<p>Feedback is welcome and appreciated.</p>\n\n<p><hr /></p>\n\n<p>UPDATE: One other thing to note - try creating instances of the same type with these different methods and then checking to see if their constructor properties are the same - you may want that to be the case if you ever need to check the type of an object. What I mean is best illustrated by the following code:</p>\n\n<pre><code>function Person(firstName, lastName) {\n   this.FirstName = firstName;\n   this.LastName = lastName;\n}\n\nvar p1 = new Person(\"John\", \"Doe\");\nvar p2 = Person.build([\"Sara\", \"Lee\"]);\n\nvar areSameType = (p1.constructor == p2.constructor);\n</code></pre>\n\n<p>Try that with some of the other hacks and see what happens. Ideally, you want them to be the same type.</p>\n\n<p><hr /></p>\n\n<p>CAVEAT: As noted in the comments, this will not work for those constructor functions that are created using anonymous function syntax, i.e. </p>\n\n<pre><code>MyNamespace.SomeClass = function() { /*...*/ };\n</code></pre>\n\n<p><em>Unless</em> you create them like this:</p>\n\n<pre><code>MyNamespace.SomeClass = function SomeClass() { /*...*/ };\n</code></pre>\n\n<p>The solution I provided above may or may not be useful to you, you need to understand exactly what you are doing to arrive at the best solution for your particular needs, and you need to be cognizant of what is going on to make my solution \"work.\" If you don't understand how my solution works, spend time to figure it out.</p>\n\n<p><hr /></p>\n\n<p>ALTERNATE SOLUTION: Not one to overlook other options, here is one of the other ways you could skin this cat (with similar caveats to the above approach), this one a little more esoteric:</p>\n\n<pre><code>function partial(func/*, 0..n args */) {\n   var args = Array.prototype.slice.call(arguments, 1);\n   return function() {\n      var allArguments = args.concat(Array.prototype.slice.call(arguments));\n      return func.apply(this, allArguments);\n   };\n}\n\nFunction.prototype.build = function(args) {\n   var constructor = this;\n   for(var i = 0; i &lt; args.length; i++) {\n      constructor = partial(constructor, args[i]);\n   }\n   constructor.prototype = this.prototype;\n   var builtObject = new constructor();\n   builtObject.constructor = this;\n   return builtObject;\n};\n</code></pre>\n\n<p>Enjoy!</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Note that</p>\n\n<ul>\n<li><pre><code>new myClass()\n</code></pre>\n\n<p>without any arguments may fail, since the constructor function may rely on the existence of arguments.</p></li>\n<li><pre><code>myClass.apply(something, args)\n</code></pre>\n\n<p>will fail in many cases, especially if called on native classes like Date or Number.</p></li>\n</ul>\n\n<p>I know that \"eval is evil\", but in this case you may want to try the following:</p>\n\n<pre><code>function newApply(Cls, args) {\n    var argsWrapper = [];\n    for (var i = 0; i &lt; args.length; i++) {\n        argsWrapper.push('args[' + i + ']');\n    }\n    eval('var inst = new Cls(' + argsWrapper.join(',') + ');' );\n    return inst;\n}\n</code></pre>\n\n<p>Simple as that.</p>\n\n<p>(It works the same as <code>Instance.New</code> in <a href=\"http://webreflection.blogspot.com/2007/05/joking-with-javascript-constructors.html\" rel=\"nofollow\">this blog post</a>)</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Is this possible? I am creating a single base factory function to drive factories of different types (but have some similarities) and I want to be able to pass arguments as an array to the base factory which then possibly creates an instance of a new object populating the arguments of the constructor of the relevant class via an array. </p>\n\n<p>In JavaScript it's possible to use an array to call a function with multiple arguments by using the apply method:</p>\n\n<pre><code>namespace.myFunc = function(arg1, arg2) { //do something; }\nvar result = namespace.myFunc(\"arg1\",\"arg2\");\n//this is the same as above:\nvar r = [ \"arg1\",\"arg2\" ];\nvar result = myFunc.apply(namespace, r);\n</code></pre>\n\n<p>It doesn't seem as if there's anyway to create an instance of an object using apply though, is there?</p>\n\n<p>Something like (this doesn't work):</p>\n\n<pre><code>var instance = new MyClass.apply(namespace, r);\n</code></pre>\n",
            "last_activity_date": 1255970263,
            "question_id": 813383,
            "score": 5,
            "tags": [
                "javascript",
                "oop",
                "firefox-addon",
                "new-operator",
                "apply"
            ],
            "title": "How can I construct an object using an array of values for parameters, rather than listing them out, in JavaScript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I think I suggested in the bug or in the ML of jetpack a terrible workaround, that basically is convert your <code>resource://</code> in a <code>data:</code> url (using <code>data.load</code> to load the HTML content, and then encode and append as prefix, so something like that should works:</p>\n\n<pre><code>/* main.js */\nconst { data } = require('sdk/self');\n\n// just an example, you can use `tab.attach` too\nrequire('sdk/page-mod').PageMod({\n  include: '*',\n  contentScriptFile: data.url('content.js'),\n  contentScriptOptions: {\n    content: encodeURIComponent(data.load('index.html'))\n  }\n});\n\n/* content.js */\nlet iframe = document.body.appendChild(document.createElement('iframe'));\n\niframe.setAttribute('sandbox', 'allow-scripts');\n// maybe you want also use the seamless attribute, see:\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe\n\niframe.contentWindow.location.href = 'data:text/html;charset=utf-8,' + self.options.content;\n</code></pre>\n\n<p>It's a workaround of course, and I hope that the bug you mentioned will be fixed soon.\nNotice that in this way you cannot communicate directly from the iframe to the parent's document, but it means also that you can't do the way around, that is what you want to prevent.</p>\n\n<p>Of course, you can still use the add-on code to communicate between your iframe and the parent's document (you need to attach content scripts and use <code>port</code> and <code>postMessage</code>).</p>\n\n<p><strong>Edit:</strong> changed the way the url is set, otherwise getting the <code>src</code> attribute from the parent's document is <em>still</em> possible, and contains whole HTML.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>I used <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=792479#c20\" rel=\"nofollow\">a solution proposed here</a>.</p>\n\n<p>It is implemented by creating a special protocol that is handled by your Firefox addon, which in turn requests the resources from its folder.\n<br>Note that in case the resource folder may contain something non-public then I would add additional checks to allow only these resources that really are intended to be web-accessible.</p>\n\n<p>The custom-protocol code attached to the post mentioned above is <a href=\"https://bug792479.bugzilla.mozilla.org/attachment.cgi?id=8395788\" rel=\"nofollow\">available here</a>:</p>\n\n<pre><code>/*\nMakes any file within the data directory available to use in an iframe.\nReplace this: require(\"sdk/self\").data.url(...)\nWith this: require(\"name-of-this-file\").url(...)\n*/\nvar { Class } = require('sdk/core/heritage');\nvar { Unknown, Factory } = require('sdk/platform/xpcom');\nvar { Cc, Ci, Cr } = require('chrome');\nvar self = require(\"sdk/self\");\n\nvar resourceProtocolHandler = Cc[\"@mozilla.org/network/io-service;1\"]\n    .getService(Ci.nsIIOService)\n    .getProtocolHandler('resource');\n\nvar scheme = \"res-\" + self.id.toLowerCase().replace(/[^a-z0-9+\\-\\.]/g, \"-\");\n\nvar AddonProtocolHandler = Class({\n    extends: Unknown,\n    interfaces: ['nsIProtocolHandler'],\n\n    scheme: scheme,\n    defaultPort: -1,\n    protocolFlags: Ci.nsIProtocolHandler.URI_STD\n        | Ci.nsIProtocolHandler.URI_LOADABLE_BY_ANYONE\n        | Ci.nsIProtocolHandler.URI_SAFE_TO_LOAD_IN_SECURE_CONTEXT,\n\n    newURI: function(spec, originCharset, baseURI) {\n        let uri = Cc[\"@mozilla.org/network/standard-url;1\"].createInstance(Ci.nsIStandardURL);\n        uri.init(uri.URLTYPE_STANDARD, this.defaultPort, spec, originCharset, baseURI);\n        return uri.QueryInterface(Ci.nsIURI);\n    },\n\n    newChannel: function(uri) {\n        if (uri.spec.indexOf(exports.url(\"\")) != 0) {\n            throw Cr.NS_ERROR_ILLEGAL_VALUE;\n        }\n        var resourceUri = resourceProtocolHandler.newURI(uri.spec.replace(scheme + \"://\", \"resource://\"), uri.originCharset, null);\n        var channel = resourceProtocolHandler.newChannel(resourceUri);\n        channel.originalURI = uri;\n        return channel;\n    },\n\n    allowPort: (port, scheme) =&gt; false\n});\n\nFactory({\n    contract: \"@mozilla.org/network/protocol;1?name=\" + scheme,\n    Component: AddonProtocolHandler\n});\n\nexports.url = function(url) {\n    return self.data.url(url).replace(\"resource://\", scheme + \"://\");\n};\n</code></pre>\n\n<p><strong>Additional note</strong>: for <code>page</code> scripts (not <code>content</code> scripts) this custom protocol helps for loading an <code>iframe</code> and other HTML elements, but not for loading a <code>XMLHttpRequest</code> or <code>Worker</code>. For the latter, still cross-origin restrictions apply and a security error is raised: \"Access to restricted URI denied\" in case of <code>XMLHttpRequest</code>, and \"The operation is insecure.\" for <code>Worker</code>. \n<br>In contrast, under Chrome the <code>XMLHttpRequest</code> to <code>web_accessible_resources</code> is permitted. <code>Worker</code> does not implement access to <code>web_accessible_resources</code> under Chrome either.\n<br><strong>BUT</strong> for <code>Workers</code> you can use this custom-protocol url for <code>importScripts</code> method. Using that you can also work around the problem of loading custom resources into <code>Workers</code>. This code works also in Chrome, as an alternative to using <code>XMLHttpRequest</code>.</p>\n\n<pre><code>var code = \"self.onmessage = function (message)\\\n{\\\n    self.onmessage = null;\\\n    self.importScripts(message.data);\\\n};\";\n\nvar blob = new Blob([code], {type: 'application/javascript'});\nvar blobUrl = URL.createObjectURL(blob);\nvar w = new Worker(blobUrl);\nw.postMessage(*webAccessibleResourceUrl*);\nURL.revokeObjectURL(blobUrl);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want to load a <code>resource://</code> link, respectively a local file from my Firefox addon into an <code>iframe</code> in a web page.</p>\n\n<p>The reason is, that the resource should be visually embedded into the web page while not giving the website access to it's DOM for security reasons.</p>\n\n<p>The issue has been discussed in various places in the past, e.g. here (without solution):\n<a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=792479\" rel=\"nofollow\">https://bugzilla.mozilla.org/show_bug.cgi?id=792479</a></p>\n\n<p>As most of the postings are rather old, I want to ask, if in the meantime there are any new solutions or workarounds.</p>\n",
            "last_activity_date": 1423419101,
            "question_id": 21082162,
            "score": 4,
            "tags": [
                "javascript",
                "firefox",
                "iframe",
                "firefox-addon",
                "firefox-addon-sdk"
            ],
            "title": "Firefox Addon SDK: Loading addon file into iframe"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>It sounds like what you're after is Require JS. I use this in almost all of my builds now. Alternatively you can have a look at the revealing module pattern as a fallback but for what you're after it sounds like Require is much more suitable. </p>\n\n<p><a href=\"http://requirejs.org\" rel=\"nofollow\">http://requirejs.org</a></p>\n\n<p>A good read: <a href=\"http://net.tutsplus.com/tutorials/javascript-ajax/principles-of-maintainable-javascript/\" rel=\"nofollow\">http://net.tutsplus.com/tutorials/javascript-ajax/principles-of-maintainable-javascript/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There are only 2 ways to get JavaScript into HTML:</p>\n\n<ol>\n<li><strong>Inline</strong> - <code>&lt;script&gt; some JavaScript &lt;/script&gt;</code></li>\n<li><strong>Link</strong> - <code>&lt;script src='main.js'&gt;&lt;/script&gt;</code></li>\n</ol>\n\n<p>I know this is obvious but we need that common ground for what comes next. ;)</p>\n\n<p>JavaScript does not have the ability to \"import\" other JavaScript files into it's self.  All the \"importing\" is done in the HTML.  You can do this several ways:</p>\n\n<ul>\n<li><strong>Link</strong> each one individually into the HMTL</li>\n<li><p><strong>Dynamically link</strong> them in through some JavaScript</p>\n\n<pre><code>var script = document.createElement(\"script\");\nscript.src = \"all.js\";\ndocument.documentElement.firstChild.appendChild(script);\n</code></pre></li>\n<li><p><strong>Library</strong> like <a href=\"http://requirejs.org/\" rel=\"nofollow\">RequireJS</a>. RequireJS uses <a href=\"https://github.com/amdjs/amdjs-api/wiki/AMD\" rel=\"nofollow\">Asynchronous Module Definition (AMD) API</a>.  It is the JavaScript mechanism for defining modules such that the module and its dependencies can be asynchronously loaded. </p></li>\n</ul>\n\n<p>It is import to consider reasons for separating JavaScript into separate files.</p>\n\n<ul>\n<li><strong>Maintainability</strong> - it becomes easier to work on one piece at a time</li>\n<li><strong>Readability</strong> - if everything is in one big file it is very hard to see what is what</li>\n<li><strong>Division of Labor</strong> - it is easier to have multiple developers working on multiple files instead of one big one</li>\n<li><strong>Reuse</strong> - all your functions can be broken up into <a href=\"http://en.wikipedia.org/wiki/Cohesion_%28computer_science%29\" rel=\"nofollow\">highly cohesive</a> modules </li>\n</ul>\n\n<p>Separate JavaScript files <strong>DO NOT</strong> make things <strong>Private</strong>, Closures make things Private.</p>\n\n<p>Now, consider at the end of the day when everything is ready for production the best thing you could do is <a href=\"http://requirejs.org/docs/optimization.html\" rel=\"nofollow\">Optimize</a> your JavaScript by combining it all into one file so that the user only has one file to download.  </p>\n\n<hr>\n\n<p>When dealing with Private variables in JavaScript, you will at some point want to access them.  </p>\n\n<ul>\n<li><strong>Public</strong> function - can be <em>altered</em>.  </li>\n<li><strong>Privileged</strong> function - a <em>Public</em> function that can access the <em>Private</em> variable. </li>\n<li>However if the function is in an <strong>Instance</strong> then it can <strong>only be altered in each Object</strong>.  </li>\n</ul>\n\n<p>Let me illustrate with some code.</p>\n\n<p>module-test.html and main.js (merged first.js, second.js, and main.js for easier testing)<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var MODULE = (function () {\r\n\t//Private variables\r\n\tvar privateParent,\r\n\t    app;\r\n\t\r\n\tprivateParent = 'parentPrivate';\r\n\t\r\n\treturn app = {\r\n\t\t//Privileged method\r\n\t\tgetPrivateParent: function() {\r\n\t\t\treturn privateParent;\r\n\t\t}\r\n\t};\r\n}());\r\n\r\nMODULE.sub = (function (parentApp) {\r\n\t//Private variables\r\n\tvar childMessage,\r\n\t    Constr;\r\n\t\r\n\tchildMessage = ' - trying to access parent private field: ' + parentApp.getPrivateParent();  //prints parentPrivate\r\n\r\n\tConstr = function () {\r\n\t\tthis.childF = this.childFunction();\r\n\t};\r\n\t\r\n\t//Constructor\r\n\tConstr.prototype = {\r\n\t\tconstructor: MODULE.sub,\r\n\t\tversion: \"1.0\",\r\n\t\tchildFunction: function () {\r\n\t\t\t$(\"#testing-div\").append(childMessage + \"&lt;/br&gt;\");\r\n\t\t}\r\n\t};\r\n\treturn Constr;\r\n\t\r\n}(MODULE));\r\n\t\r\n//We could just as easily print to the console, but the 'append' allows us to display the results on the page.\r\n\r\n$(\"#testing-div\").append(\"This first part shows what &lt;b&gt;does not work&lt;/b&gt;; everything is 'undefined'. \" + \"&lt;/br&gt;\");\r\n$(\"#testing-div\").append(\"You are unable to access the var or func directly. \" + \"&lt;/br&gt;\");\r\n$(\"#testing-div\").append(\"MODULE.privateParent = \" + MODULE.privateParent + \"&lt;/br&gt;\");\r\n$(\"#testing-div\").append(\"MODULE.app = \" + MODULE.app + \"&lt;/br&gt;\");\r\n$(\"#testing-div\").append(\"MODULE.sub.childMessage = \" + MODULE.sub.childMessage + \"&lt;/br&gt;\");\r\n$(\"#testing-div\").append(\"MODULE.sub.Constr = \" + MODULE.sub.Constr + \"&lt;/br&gt;\");\r\n$(\"#testing-div\").append(\"MODULE.sub.childFunction = \" + MODULE.sub.childFunction + \"&lt;/br&gt;\");\r\n$(\"#testing-div\").append(\"END lesson. You must access childFunction() through the &lt;b&gt;new&lt;/b&gt; operator.\" + \"&lt;/br&gt;\");\r\n$(\"#testing-div\").append(\"----------------------------------------------------\" + \"&lt;/br&gt;\");\r\n\t\r\n$(\"#testing-div\").append(\"Let's see if making an instance of the Object works\" + \"&lt;/br&gt;\");\r\nvar test = new MODULE.sub();\r\ntest.childFunction(); //run the method\r\n$(\"#testing-div\").append(\"Looks like it did!!!!\" + \"&lt;/br&gt;\");\r\n$(\"#testing-div\").append(\"----------------------------------------------------\" + \"&lt;/br&gt;\");\r\n\t\r\n$(\"#testing-div\").append(\"Now let's try to change the childFunction() ?\" + \"&lt;/br&gt;\");\r\ntest.childFunction = function() {$(\"#testing-div\").append(\" - This is a new function.\" + \"&lt;/br&gt;\");}\r\ntest.childFunction(); // altered version\r\n$(\"#testing-div\").append(\"Looks like it was changed. :(\" + \"&lt;/br&gt;\");\r\n$(\"#testing-div\").append(\"----------------------------------------------------\" + \"&lt;/br&gt;\");\r\n$(\"#testing-div\").append(\"Does it stay changed?\" + \"&lt;/br&gt;\");\r\nvar test2 = new MODULE.sub();\r\ntest2.childFunction(); // doesn't work\r\n$(\"#testing-div\").append(\"NO, it was only Overriden in the 'test' Object.  It did not effect all the other new objects. :)\" + \"&lt;/br&gt;\");\r\n$(\"#testing-div\").append(\"----------------------------------------------------\" + \"&lt;/br&gt;\");</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=\"ISO-8859-1\"&gt;\r\n&lt;title&gt;Module Test&lt;/title&gt;\r\n&lt;!-- \t&lt;script data-main=\"scripts/main\" src=\"scripts/require.js\"&gt;&lt;/script&gt; --&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;This is a test for separate Modules and Private variables.&lt;/h1&gt;\r\n    &lt;div id=\"testing-div\"&gt;\r\n    &lt;/div&gt;\r\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"main.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n---</p>\n\n<p>If you want to use RequireJS to accomplish the above, you can.  RequireJS uses the Module Pattern which is what you and I are already using.  If you want to separate out the files then there are two ways to do this.</p>\n\n<ol>\n<li><strong>Normal</strong> - Just set up your JS files to use RequireJS and drop in the above Modules with only a slight modification.</li>\n<li><strong>Leveraged</strong> - Use the Module nature of RequireJS as the modules to set up the closures.  This looks like it may be harder to figure out but it may be more efficient in the long run. </li>\n</ol>\n\n<p>NOTE: <em>I haven't had a chance to compare these two options yet but wanted to include them for completeness.</em> </p>\n\n<hr>\n\n<p>You may find the following references helpful:</p>\n\n<ul>\n<li><a href=\"http://www.adequatelygood.com/JavaScript-Module-Pattern-In-Depth.html\" rel=\"nofollow\">JavaScript Module Pattern: In-Depth</a></li>\n<li><a href=\"http://javascript.crockford.com/private.html\" rel=\"nofollow\">Private Members in JavaScript</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>Modularization (splitting the code) is not the same as data protection (hiding data).</p>\n\n<p>RequireJS solves the modularization issue, not the data-protection issue. Or to put it differently... Whatever issues exist with trying to protect data and whatever solutions exist to protect data, <em>these issues and solutions are the same with or without RequireJS</em>.</p>\n\n<p>RequireJS implements all the mechanics to specify dependencies between modules, to load these dependencies <em>only</em> as needed, to avoid reloading things that have already been loaded, avoid loading things that are not required at all, quickly change the location of modules, have redundancy, etc.</p>\n\n<p>After deployment if one finds RequireJS somehow too heavy, there's the <a href=\"https://github.com/jrburke/almond\" rel=\"nofollow\">almond</a> library that can be used instead.</p>\n\n<blockquote>\n  <p>We can't have a field that's accessible by child but not to outside public (i.e. protected). Is there any way to achieve that?</p>\n</blockquote>\n\n<p>If you want modularization (i.e. you want the child to be coded separately from the parent), I do not believe this is possible in JavaScript. It would be possible to have child and parent operate in the <em>same closure</em> but then this would not be <em>modular</em>. This is true with or without RequireJS.</p>\n\n<blockquote>\n  <p>If not, meaning if we wanteparentPrivate to be accessible, we need to make it public. Then the user will be able to modify it!</p>\n</blockquote>\n\n<p>If you want to prevent assigning to <code>parentPrivate</code>, you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\" rel=\"nofollow\"><code>Object.freeze()</code></a> on the namespace that contains <code>parentPrivate</code>.</p>\n\n<p>However, I don't know how well it is supported by various browsers. And if what is in <code>parentPrivate</code> is itself an object rather than a primitive value, it also needs to be frozen if you don't want it to be modified by clients of your code. And once an object is frozen, it is frozen for everyone so the module that <em>owns</em> the object does not get special treatment to modify it. And freezing does not <em>hide</em> anything.</p>\n\n<p>Or you could use setters and getters like in this RequireJS example:</p>\n\n<pre><code>define(function () {\n    'use strict';\n\n    var writable = \"initial value\";\n\n    var namespace = {\n        get unwritable() { return writable; },\n        doSomething: function () { writable = \"changed value\"; }\n\n    };\n\n    return namespace;\n\n});\n</code></pre>\n\n<p>If the module is imported as <code>parent</code>, then <code>parent.unwritable</code> cannot be written to but the module itself can still change the value returned by writing to <code>writable</code>. Note that if the return value returned by the getter is an object rather than a primitive value, this object <em>can</em> be modified by the caller.</p>\n\n<p>Again, this is true whether or not you use RequireJS. The solutions are the same, the problems are same, etc.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Protected variables in javascript can be achieved by passing in the protected variables <a href=\"http://stackoverflow.com/questions/17334081/how-can-i-share-module-private-data-between-2-files-in-node\">as a dependency</a>. The subclass must be created within the parent as only there does it have access to the protected variables. <a href=\"http://jsfiddle.net/cwf9C/3/\" rel=\"nofollow\">Example jsFiddle</a></p>\n\n<pre><code>App = window.App || {};\nApp.ParentClass = (function(){\n\n   var protectedState = {\n      protectedVar: 'wow such protection'\n   }\n\n   return{\n      SubClassInstance: App.SubClass(protectedState), //make the subclass accessible from outside\n   }\n})(); //closure gives us privacy\n</code></pre>\n\n<p>SubClass.js</p>\n\n<pre><code>App = window.App || {};\nApp.SubClass = function(protectedState){\n\n    return {\n        logProtectedVar : function(){\n            //can access protectedState of parent\n            console.log(protectedState.protectedVar);\n        }\n    }\n}// I require protected state to work\n</code></pre>\n\n<p>main.js</p>\n\n<pre><code>// protected variable is accessible from parent and subclass and nowhere else\n\nApp.ParentClass.SubClassInstance.logProtectedVar();\n// 'wow such protection' \n</code></pre>\n\n<p>NOTE: as Charles W. mentioned, this pattern only works when <code>protectedState</code> is an object. If it were a string/int it would be passed by value and changes made in the subclass would not be visible from the parents copy.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>For the module pattern, I'm doing something like:</p>\n\n<pre><code>(function(namespace) {\n    // tons of code\n    // blabla\n})(window.myGlobalNamespace);\n</code></pre>\n\n<p>How do I split the code? I can think of a few ways, like use a hierachy of namespaces, or expand the object outside by <code>window.myGlobalNamespace.additionalFunc = function () {//blabla}</code>. What are the other ways? What are the pros and cons? Which one is considered better practice?</p>\n\n<p>Both of the two answers suggest RequireJS. Can you please explain how RequireJS can solve these problems:</p>\n\n<p>first.js:</p>\n\n<pre><code>(function(context) {\n    var parentPrivate = 'parentPrivate';\n})(window.myGlobalNamespace);\n</code></pre>\n\n<p>second.js:</p>\n\n<pre><code>(function(context) {\n    this.childFunction = console.log('trying to access parent private field: ' + parentPriavte);\n}(window.myGlobalNamespace.subNamspace);\n</code></pre>\n\n<p>main.js:</p>\n\n<pre><code>window.myGlobalNamespace.subNamspace.childFunction(); // doesn't work\n</code></pre>\n\n<p>And people can do</p>\n\n<pre><code>window.myGlobalNamespace.subNamspace.childFunction = function() {alert(\"a new function\");}\n</code></pre>\n\n<p>to change my code's behaviour!</p>\n\n<p>Here, there are two problems:</p>\n\n<ol>\n<li><p>We can't have a field that's accessible by child but not to outside public (i.e. protected). Is there any way to achieve that?</p></li>\n<li><p>If not, meaning if we wanteparentPrivate to be accessible, we need to make it public. Then the user will be able to modify it!</p></li>\n</ol>\n\n<p>What's more, all the public functions can be altered and replaced. I don't want that to happen.</p>\n\n<p>I don't see how RequireJS solves these problems. Can someone shed some light?</p>\n",
            "last_activity_date": 1411109250,
            "question_id": 20311604,
            "score": 4,
            "tags": [
                "javascript",
                "requirejs",
                "module-pattern",
                "revealing-module-pattern"
            ],
            "title": "Module pattern- How to split the code for one module into different js files?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I am hoping the issue is similar to mine.\nThe CK Editor has its own elements that it injects into the DOM and Angular is already rendered so you will need to set up a listener for when it transitions to the code editor. If you are not listening for the change then Angular cannot bind properly because it is unaware of the changes in the DOM. I ran into something similar with tinymce and the modal that pops up.</p>\n\n<p><a href=\"http://stackoverflow.com/a/15483580/1050401\">Here is another resource that is related to my issue</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Your directive is working well.</p>\n\n<p>There is a plugin called <strong>sourcearea</strong> that controls the CKEditor behavior while on <em>source mode</em>. I couldn't see any event being fire inside the code of that plugin for handling input. There are though two events that we can use to catch when the CKEditor goes back to \n<em>GUI mode</em>. The events are <strong>ariaWidget</strong> and <strong>dataReady</strong>.</p>\n\n<p>I've updated your example to use the <strong>dataReady</strong> event, so it updates the textarea when switching back. I also changed the <strong>pasteState</strong> event to <strong>change</strong>, as <a href=\"http://stackoverflow.com/questions/11997246/bind-ckeditor-value-to-model-text-in-angularjs-and-rails#comment27180866_12021632\">Dan Caragea said</a> it was introduced in version 4.2.\n <a href=\"http://jsfiddle.net/fdD63/3/\">Updated fiddle can be found here</a></p>\n\n<p>One almost-there-solution I found is to listen to the <strong>key</strong> event and update the model. It is almost there, because it seems the event is only fired for the old key pressed. So the last key is always missing.</p>\n\n<pre><code>var cmsPlus = angular.module('cmsPlus', []);\n\ncmsPlus.directive('ckEditor', function() {\n  return {\n    require: '?ngModel',\n    link: function(scope, elm, attr, ngModel) {\n      var ck = CKEDITOR.replace(elm[0]);\n\n      if (!ngModel) return;\n\n      ck.on('instanceReady', function() {\n        ck.setData(ngModel.$viewValue);\n      });\n\n      function updateModel() {\n          scope.$apply(function() {\n              ngModel.$setViewValue(ck.getData());\n          });\n      }\n\n      ck.on('change', updateModel);\n      ck.on('key', updateModel);\n      ck.on('dataReady', updateModel);\n\n      ngModel.$render = function(value) {\n        ck.setData(ngModel.$viewValue);\n      };\n    }\n  };\n});\n</code></pre>\n\n<p>Anyway, maybe you can figure out from this how to fix the last key problem. It is almost there!</p>\n\n<p>EDIT: updated fiddle link to correct version</p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>I know this question has already been answered, but I thought I'd chime in with what I had to do to integrate CKEditor 4.4.4 with angularjs 1.2.  Here is my code in coffeescript:</p>\n\n<pre><code>'use strict'\n\nangular.module 'core', []\n\n.directive 'ckeditor', -&gt;\n    require: '?ngModel'\n    link: (scope, element, attrs, ngModel) -&gt;\n        config =\n            # CKEditor config goes here\n\n        editor = CKEDITOR.replace element[0], config\n\n        return unless ngModel\n\n        editor.on 'instanceReady', -&gt;\n            editor.setData ngModel.$viewValue\n\n        updateModel = -&gt;\n            scope.$apply -&gt;\n                ngModel.$setViewValue editor.getData()\n\n        editor.on 'change', updateModel\n        editor.on 'dataReady', updateModel\n        editor.on 'key', updateModel\n        editor.on 'paste', updateModel\n        editor.on 'selectionChange', updateModel\n\n        ngModel.$render = -&gt;\n            editor.setData ngModel.$viewValue\n</code></pre>\n\n<p>For the coffeescript illiterate, here is the compiled javascript:</p>\n\n<pre><code>'use strict';\nangular.module('core', []).directive('ckeditor', function() {\n    return {\n      require: '?ngModel',\n      link: function(scope, element, attrs, ngModel) {\n        var config, editor, updateModel;\n        config = {\n            // CKEditor config goes here\n        }\n        editor = CKEDITOR.replace(element[0], config);\n        if (!ngModel) {\n          return;\n        }\n        editor.on('instanceReady', function() {\n          return editor.setData(ngModel.$viewValue);\n        });\n        updateModel = function() {\n          return scope.$apply(function() {\n            return ngModel.$setViewValue(editor.getData());\n          });\n        }};\n        editor.on('change', updateModel);\n        editor.on('dataReady', updateModel);\n        editor.on('key', updateModel);\n        editor.on('paste', updateModel);\n        editor.on('selectionChange', updateModel);\n        return ngModel.$render = function() {\n          return editor.setData(ngModel.$viewValue);\n        };\n      }\n    };\n  }\n);\n</code></pre>\n\n<p>Then in the HTML:</p>\n\n<pre><code>&lt;textarea ckeditor data-ng-model=\"myModel\"&gt;&lt;/textarea&gt;\n</code></pre>\n\n<p>Now, for an explanation.</p>\n\n<p>I added paste and selection change handlers for completeness, but it turns out the selection change handler was necessary.  I discovered that if I selected all and hit delete, then&mdash;without taking focus off the editor&mdash;submitted the form, the changes where not reflected in the model on submit.  The selection change handler solves that problem.</p>\n\n<p>Integrating CKEditor with angularjs is mission critical for my project, so if I find anymore &ldquo;Gotchas&rdquo;, I will update this answer.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using latest CKEditor (Standard Version) and based on this\n<a href=\"http://stackoverflow.com/questions/11997246/bind-ckeditor-value-to-model-text-in-angularjs-and-rails\">question</a> , I have implemented an angular directive like this,</p>\n\n<pre><code>var cmsPlus = angular.module('cmsPlus', []);\n\ncmsPlus.directive('ckEditor', function() {\n  return {\n    require: '?ngModel',\n    link: function(scope, elm, attr, ngModel) {\n      var ck = CKEDITOR.replace(elm[0]);\n\n      if (!ngModel) return;\n\n      ck.on('pasteState', function() {\n        scope.$apply(function() {\n          ngModel.$setViewValue(ck.getData());\n        });\n      });\n\n      ngModel.$render = function(value) {\n        ck.setData(ngModel.$viewValue);\n      };\n    }\n  };\n});\n</code></pre>\n\n<p>It's working fine when I am typing something in CKEditor GUI mode, here I am getting the typed content to textarea's ng-model. </p>\n\n<p>But when I am switching to code-editor, it's not getting the updated content even after switch back to GUI. It's required to type something again in graphical mode.</p>\n\n<p>What is wrong with my directive? Or can I extend this directive with some other CKEditor events?</p>\n\n<p>I want add some more events for form submit or something else.</p>\n\n<p><em><strong><a href=\"http://jsfiddle.net/fdD63/1/\" rel=\"nofollow\">Demo here.</a></em></strong></p>\n",
            "last_activity_date": 1409557800,
            "question_id": 18917262,
            "score": 4,
            "tags": [
                "javascript",
                "angularjs",
                "ckeditor",
                "angularjs-directive",
                "wysiwyg"
            ],
            "title": "Updating textarea value with CKEditor content in Angular JS"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You need to add the <code>.on(\"change\")</code> to the <code>select</code> element, not the <code>option</code> elements.</p>\n\n<pre><code>var select  = d3.select(\"#shru\").append(\"select\").on(\"change\", change),\n    options = select.selectAll('option').data(dd); // Data join\n\n// Enter selection\noptions.enter().append(\"option\").text(function(d) { return d.teamShotID; });\n</code></pre>\n\n<p>The currently selected <code>option</code> index is kept in a property called <code>selectedIndex</code> on the <code>select</code> element. <a href=\"https://github.com/mbostock/d3/wiki/Selections\" rel=\"nofollow\">Selections are arrays, so elements can be accessed directly (e.g., <code>selection[0][0]</code>)</a>. Each <code>option</code> element will have data bound to it, stored in a property called <code>__data__</code>:</p>\n\n<pre><code>function change() {\n    var selectedIndex = select.property('selectedIndex'),\n        data          = options[0][selectedIndex].__data__;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>hope this can guide you...</p>\n\n<pre><code>      var dispatch = d3.dispatch(\"load\", \"countrychange\");\n  d3.csv(\"data/ERSreputationBlocked.csv\",type, function (error, country) {\n      if (error) throw error;\n      var countryById = d3.map();\n      country.forEach(function (d) { countryById.set(d.id, d); });\n      dispatch.load(countryById);\n      dispatch.countrychange(countryById.get(\"PH\"));\n      //console.log(country);\n  });\n  dispatch.on(\"load.menu\", function(countryById) {\n      var select = d3.select(\"body\")\n        .append(\"div\")\n        .append(\"select\")\n        .on(\"change\", function () { dispatch.countrychange(countryById.get(this.value)); });\n\n      select.selectAll(\"option\")\n        .data(countryById.values())\n        .enter().append(\"option\")\n        .attr(\"value\", function (d) { return d.id; })\n        .text(function (d) { return d.Country; });\n\n      dispatch.on(\"countrychange.menu\", function (country) {\n          select.property(\"value\", country)\n          //loading the value based on the selected data\n          var svg1 = d3.select(\"body\").append(\"svg1\")\n                .attr(\"width\", width)\n                .attr(\"height\", height)\n          //end of selection\n\n         console.log(country);\n      });\n  });\n  //end of drop down\n\n  function type(d) {\n      d.total = d3.sum(d.value, function (k) { return d[k] = +d[k]; });\n      return d;\n  }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to add a drop down menu to my d3 visualization. The problem is that the eventlistener does not get invoked on selecting any of the options. Also, how can I access the value of the option selected? Following is a snippet of my code..</p>\n\n<pre><code>d3.text(\"uniqueTeams.php\",function(json){\n    var dd=JSON.parse(json);\n    var b= d3.select(\"#s4\").select(\"#shru\");\n    var u=b.append(\"select\");\n    var t=u.selectAll(\"option\").data(dd).enter().append(\"option\")\n        .attr(\"value\",function(d){return d.teamShotID;})\n        .text(function(d){return d3.select(this).node().__data__.teamShotID;});\n    t.on(\"change\",change);\n});\nfunction change(value)\n{\n    console.log(\"team\",value);\n}\nchange();\u200b\u200b\u200b\u200b\n</code></pre>\n\n<p>Thankx</p>\n",
            "last_activity_date": 1403549195,
            "question_id": 11903709,
            "score": 4,
            "tags": [
                "javascript",
                "html",
                "dom",
                "d3.js"
            ],
            "title": "Adding drop down menu using d3.js"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>I believe your C# variable must be a class member in order to this. Try declaring it at the class level instead of a local variable of <code>Page_Load()</code>. It obviously loses scope once page_load is finished.</p>\n\n<pre><code>public partial class Example : System.Web.UI.Page\n{\n    protected string blah;\n\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        blah = \"ER432\";\n        //....\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>In this particular case, <code>blah</code> is local to <code>Page_Load</code> you'll have to make it a class level member (probably make it a property) for it to be exposed like that.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You should declare <code>blah</code> at class level.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Your <code>string blah</code> needs to be a public property of your <code>Page</code> class, not a local variable within <code>Page_Load</code>.  You need to learn about scoping.</p>\n\n<pre><code>public class MyPage\n{\n    public string blah { get; set; }\n\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        blah = \"ER432\";\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>What I've done in the past is what webforms does as it's functionality--creating a hidden field to store values needed by the client.  If you're using 4.0, you can set the hidden field client id mode to static to help keep things cleaner as well. Basically, add you value to the hidden field and then from javascript you can get the value or modify it too(in case you want to pass it back) since it's just a dom element.</p>\n\n<p>If you really want to use code--like a variable, it needs to be accessible at the class scope.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can put a hidden input in your html page:</p>\n\n<pre><code>&lt;input  type=\"hidden\" runat='server' id=\"param1\" value=\"\" /&gt;\n</code></pre>\n\n<p>Then in your code behind set it to what you want to pass to your .js function:</p>\n\n<pre><code>param1.value = \"myparamvalue\"\n</code></pre>\n\n<p>Finally your javascript function can access as below:</p>\n\n<pre><code>document.getElementById(\"param1\").value\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>On loading the page I want to pass a value to my javascript function from a server side variable.</p>\n\n<p>I cannot seem to get it to work this is what I have:</p>\n\n<p>Asp.Net</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n    string blah=\"ER432\";\n}\n</code></pre>\n\n<p>Javascript</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n    var JavascriptBlah = '&lt;%=blah%&gt;';\n\n    initObject.backg.product_line = JavascriptBlah;\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Adding this to the page</p>\n\n<pre><code> public string blah { get; set; }\n\n\n        protected void Page_Load(object sender, EventArgs e)\n        {\n           blah=\"ER432\";\n        }\n</code></pre>\n\n<p>I still am getting an error:\nCS0103: The name 'blah' does not exist in the current context</p>\n\n<p>Also I would like to try and accomplish this without using hdden fields</p>\n",
            "last_activity_date": 1422613855,
            "question_id": 11021066,
            "score": 4,
            "tags": [
                "c#",
                "javascript",
                "asp.net"
            ],
            "title": "Pass C# Values To Javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Given: \"if mobile then <strong>do not load JS</strong>\", and presuming \"mobile\" is defined by screens with a width of 480 pixels or less, then something like the following should work:</p>\n\n<pre><code>&lt;script&gt;\nif (screen &amp;&amp; screen.width &gt; 480) {\n  document.write('&lt;script type=\"text/javascript\" src=\"foo.js\"&gt;&lt;\\/script&gt;');\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>That will add the script element only if the screen is greater than 480 pixels wide.</p>\n\n<p>The CSS rule in the OP is:</p>\n\n<pre><code>&lt;... media=\"only screen and (max-device-width: 480px)\" ...&gt;\n</code></pre>\n\n<p>which will target screens of 480 pixels or less, which is contrary to to the first statement. Therefore change <code>&gt;</code> to <code>&lt;=</code> if the script should run on small screens and not run on larger ones.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>You can do it like this.</p>\n\n<ol>\n<li>Test the screen width and height to see if it is a mobile device.</li>\n<li>Load in scripts using JavaScript.</li>\n</ol>\n\n<p>What you can do is this:</p>\n\n<pre><code>var scripts = [\"foo.js\",       //Put all your scripts here.\n               \"bar.js\"];\n\nif(screen.width &lt;= 480){\n    for(var i=0;i&lt;scripts.length;i++){\n              //-with jQuery (one line!)-\n        $(\"head\").append('&lt;script type=\"text/javascript\" src=\"'+scripts[i]+'\"&gt;&lt;\\/script&gt;');\n                 //-or jQuery free-\n        var scriptEle = document.createElement(\"script\");\n        scriptEle.setAttribute(\"type\",\"text/javascript\");\n        scriptEle.setAttribute(\"src\",scripts[i]);\n        document.getElementsByTagName(\"head\")[0].appendElement(scriptEle);\n    }\n}\n</code></pre>\n\n<p>Notice it is <code>screen.width &lt;= 480</code>.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I'm not sure how the previous answers would go with retina displays. I would do something like:</p>\n\n<pre><code>if( /Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent))\n document.write('&lt;script type=\"text/javascript\" src=\"foo.js\"&gt;&lt;\\/script&gt;');\n</code></pre>\n\n<p>snippet from <a href=\"http://stackoverflow.com/questions/3514784/best-way-to-detect-handheld-device-in-jquery\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I'm cheekily seeking a line or two of code on the fly here:</p>\n\n<p>Could someone be kind enough to provide code to place in the head section of html doc that says if mobile then do not load JS?</p>\n\n<p>This is being used in conjunction with the following CSS media query:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" media=\"only screen and (max-device-width: 480px)\" href=\"m/styles_mobile.css\" /&gt;\n</code></pre>\n\n<p>So I'm looking for a piece of code that is based on the same rule: media=\"only screen and (max-device-width: 480px)\"</p>\n\n<p>Would be very grateful</p>\n",
            "last_activity_date": 1398730868,
            "question_id": 10508669,
            "score": 4,
            "tags": [
                "javascript",
                "media-queries"
            ],
            "title": "tell html doc not to load js if mobile device"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Just iterate all the markers you have and use the following function to get the distance from the specific co-ordinate to the marker: <code>computeDistanceBetween()</code>:</p>\n\n<blockquote>\n  <p>To compute this distance, call computeDistanceBetween(), passing it\n  two LatLng objects.</p>\n</blockquote>\n\n<p>I found it over <a href=\"https://developers.google.com/maps/documentation/javascript/geometry?hl=el#Distance\" rel=\"nofollow\">here</a>. Then just filter out all the markers that turn out to be close enough.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>See the answer given to this question: <a href=\"http://stackoverflow.com/questions/4057665/google-maps-api-v3-find-nearest-markers\">Google Maps Api v3 - find nearest markers</a></p>\n\n<p>You basically need to loop through your array of markers, and use a formula to calculate their distance from a given point (the center of the circle representing your search radius).</p>\n\n<p>You can then exclude any markers which are further away than the radius, ad you will be left with a list of markers which are inside the circle.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Load the <a href=\"https://developers.google.com/maps/documentation/javascript/geometry\" rel=\"nofollow\">geometry library</a> and use <a href=\"https://developers.google.com/maps/documentation/javascript/reference#spherical\" rel=\"nofollow\"><code>computeDistanceBetween()</code></a> to find the distance of each marker from your centre point.</p>\n\n<p>If the distance is within the radius, display the marker.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var targetLat=marker.getPosition().lat();\nvar targetLng=marker.getPosition().lng();\n\nvar targetLoc = new GLatLng(targetLat,targetLng);\n\nvar center= new GLatLng(centerLat, centerLng); \n\nvar distanceInkm=center.distanceFrom(targetLoc) / 1000;\n\nif(distanceInkm &lt; radius){\n// To add the marker to the map, call setMap();\nmarker.setMap(map);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Input: Given a specific co-ordinate (latitude and longitude) and radius\nOutput: Displaying all the markers which reside under that circle from given list of markers.</p>\n\n<p>How can I do this in google maps? </p>\n",
            "last_activity_date": 1335265722,
            "question_id": 10295371,
            "score": 4,
            "tags": [
                "javascript",
                "algorithm",
                "google-maps"
            ],
            "title": "Finding all the markers inside a given radius"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yes, you can animate variables. <a href=\"http://jsfiddle.net/KbqKQ/2/\" rel=\"nofollow\">Demo here</a></p>\n\n<pre><code>$({ n: 0 }).animate({ n: 10}, {\n    duration: 1000,\n    step: function(now, fx) {\n        $(\"div\").append(now + \"&lt;br /&gt;\");\n    }\n});\n</code></pre>\n\n<p>In this example, I am animating <em>n</em> from 0 to 10 in 1 second. The <code>step</code> function is called during animation and from there you can retrieve the current value in <code>now</code>.</p>\n\n<p>Personally, I used this technique to animate several css properties simultaneously in a non linear fashion.</p>\n\n<p>Animate runs by modifying the value of properties declared in JS objects. Although <code>animate</code> is designed to change CSS scalar values, it can also safely be used for any generic property, as long <code>value</code> is a scalar one.<br>In fact, you can think of CSS as a set of JS objects, where properties are for example, <code>top</code>, <code>margin</code> etc.</p>\n\n<p>Note that the following scripts do the same. They change CSS <code>left</code> from 0 to 10</p>\n\n<pre><code>$(\"#test\").css('left', 0).animate({ left: 10 }, 1000);\n</code></pre>\n\n<p>is the same as </p>\n\n<pre><code>$({ left: 0 }).animate({ left: 10 }, {duration: 1000, step: function(now, fx) {\n  $(\"#test\").css('left', now);\n}});\n</code></pre>\n\n<p>or, without using the <code>now</code> parameter</p>\n\n<pre><code>var obj = { left: 0 };\n$(obj).animate({ left: 10 }, {duration: 1000, step: function() {\n      $(\"#test\").css('left', obj.left);\n}});\n</code></pre>\n\n<p>To see them in action <a href=\"http://jsfiddle.net/AgPmN/\" rel=\"nofollow\">click here</a></p>\n",
                    "is_accepted": true,
                    "score": 19
                }
            ],
            "body": "<p>I started writing some JS code to cause a variables value to increase over time, up to a target value, with some form of 'ease-in'.</p>\n\n<p>I realised that jquery already does this in it's .animate() method.  Of course, the method is for manipulating CSS properties, not general variables.</p>\n\n<p>My question is, is there anything that can be done to hack it so that the method affects a variable, rather than a CSS property?</p>\n",
            "last_activity_date": 1421434564,
            "question_id": 9324081,
            "score": 4,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Can jQuery&#39;s .animate() method be made to affect variables, rather than CSS properties?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Here's your problem:</p>\n\n<pre><code>if(imgArray[i] == img)\n</code></pre>\n\n<p>You're comparing an array element to a DOM object. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Just as Diodeus said, you're comparing an <code>Image</code> to a <code>HTMLDomObject</code>. Instead compare their <code>.src</code> attribute:</p>\n\n<pre><code>var imgArray = new Array();\n\nimgArray[0] = new Image();\nimgArray[0].src = 'images/img/Splash_image1.jpg';\n\nimgArray[1] = new Image();\nimgArray[1].src = 'images/img/Splash_image2.jpg';\n\n/* ... more images ... */\n\nimgArray[5] = new Image();\nimgArray[5].src = 'images/img/Splash_image6.jpg';\n\n/*------------------------------------*/\n\nfunction nextImage(element)\n{\n    var img = document.getElementById(element);\n\n    for(var i = 0; i &lt; imgArray.length;i++)\n    {\n        if(imgArray[i].src == img.src) // &lt;&lt; check this\n        {\n            if(i === imgArray.length){\n                document.getElementById(element).src = imgArray[0].src;\n                break;\n            }\n            document.getElementById(element).src = imgArray[i+1].src;\n            break;\n        }\n    }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Here's a somewhat cleaner way of implementing this.  This makes the following changes:</p>\n\n<ol>\n<li>The code is DRYed up a bit to remove redundant and repeated code and strings.</li>\n<li>The code is made more generic/reusable.</li>\n<li>We make the cache into an object so it has a self-contained interface and there are fewer globals.</li>\n<li>We compare <code>.src</code> attributes instead of DOM elements to make it work properly.</li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>function imageCache(base, firstNum, lastNum) {\n    this.cache = [];\n    var img;\n    for (var i = firstNum; i &lt;= lastnum; i++) {\n        img = new Image();\n        img.src = base + i + \".jpg\";\n        this.cache.push(img);\n    }\n}\n\nimageCache.prototype.nextImage(id) {\n    var element = document.getElementById(id);\n    var targetSrc = element.src;\n    var cache = this.cache;\n    for (var i = 0; i &lt; cache.length; i++) {\n        if (cache[i].src) === targetSrc) {\n            i++;\n            if (i &gt;= cache.length) {\n                i = 0;\n            }\n            element.src = cache[i].src;\n            return;\n        }\n    }\n}\n\n// sample usage\n\nvar myCache = new imageCache('images/img/Splash_image', 1, 6);\nmyCache.nextImage(\"foo\");\n</code></pre>\n\n<p>Some advantages of this more object oriented and DRYed approach:</p>\n\n<ol>\n<li>You can add more images by just creating the images in the numeric sequences and changing one numeric value in the constructor rather than copying lots more lines of array declarations.</li>\n<li>You can use this more than one place in your app by just creating more than one imageCache object.</li>\n<li>You can change the base URL by changing one string rather than N strings.</li>\n<li>The code size is smaller (because of the removal of repeated code).</li>\n<li>The cache object could easily be extended to offer more capabilities such as first, last, skip, etc...</li>\n<li>You could add centralize error handling in one place so if one image doesn't exist and doesn't load successfully, it's automatically removed from the cache.</li>\n<li>You can reuse this in other web pages you develop by only change the arguments to the constructor and not actually changing the implementation code.</li>\n</ol>\n\n<p>P.S. If you don't know what DRY stands for, it's \"Don't Repeat Yourself\" and basically means that you should never have many copies of similar looking code.  Anytime you have that, it should be reduced somehow to a loop or function or something that removes the need for lots of similarly looking copies of code.  The end result will be smaller, usually easier to maintain and often more reusable.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Also, when checking for the last image, you must compare with <code>imgArray.length-1</code> because, for example, when array length is 2 then I will take the values 0 and 1, it won't reach the value 2, so you must compare with length-1 not with length, here is the fixed line:</p>\n\n<pre><code>if(i == imgArray.length-1)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have a large image which is shown on my homepage, and when the user clicks the \"next_img\" button the large image on the homepage should change to the next image in the array. </p>\n\n<p>However, the next arrow when clicked does nothing, and the main image on the homepage does not change.</p>\n\n<p>I need to do this in javascript.</p>\n\n<p>In the HTML:</p>\n\n<pre><code>&lt;!--Main Content of the page --&gt;\n\n&lt;div id=\"splash\"&gt;\n&lt;img src=\"images/img/Splash_image1.jpg\" alt=\"\" id=\"mainImg\"&gt;\n\n&lt;/div&gt; \n\n&lt;div id=\"imglist\"&gt;\n&lt;a href=\"javascript:nextImage('mainImg')\"&gt;&lt;img src=\"images/next_img.png\" alt=\"\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>And then in the javascript file:</p>\n\n<pre><code>var imgArray = new Array();\n\nimgArray[0] = new Image();\nimgArray[0].src = 'images/img/Splash_image1.jpg';\n\nimgArray[1] = new Image();\nimgArray[1].src = 'images/img/Splash_image2.jpg';\n\nimgArray[2] = new Image();\nimgArray[2].src = 'images/img/Splash_image3.jpg';\n\nimgArray[3] = new Image();\nimgArray[3].src = 'images/img/Splash_image4.jpg';\n\nimgArray[4] = new Image();\nimgArray[4].src = 'images/img/Splash_image5.jpg';\n\nimgArray[5] = new Image();\nimgArray[5].src = 'images/img/Splash_image6.jpg';\n\n/*------------------------------------*/\n\nfunction nextImage(element)\n{\n    var img = document.getElementById(element);\n\n    for(var i = 0;i&lt;imgArray.length;i++)\n    {\n        if(imgArray[i] == img)\n        {\n            if(i == imgArray.length)\n            {\n                var j = 0;\n                document.getElementById(element).src = imgArray[j].src;\n                break;\n            }\n            else\n            var j = i + 1;\n            document.getElementById(element).src = imgArray[j].src;\n            break;\n        }\n    }   \n}\n</code></pre>\n\n<p>Any help would be appreciated. Thanks.</p>\n",
            "last_activity_date": 1372456043,
            "question_id": 8810927,
            "score": 4,
            "tags": [
                "javascript",
                "html",
                "arrays",
                "image"
            ],
            "title": "Showing an image from an array of images - Javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can try to bind to the resize event of the browser's window.</p>\n\n<p>For example:</p>\n\n<pre><code>window.onresize = function() {\n//your code\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can do something like this:</p>\n\n<pre><code>var width = $(window).width() - 25; \n$(\"#mydiv\").width(width);\n</code></pre>\n\n<p>25 is just a sample number, for example your margin (you can get this dynamically too)</p>\n\n<p>You may also want to wrap it into a function and  call this on both page load and on resize</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Use CSS position:absolute/relative in combination with CSS top/bottom/left/right. Example:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;style&gt; \n            html, body    { margin:0; padding:0; width:100%; height:100%; }\n\n            #head         { width:100%; height:100px; background:black; color:white; }\n            #head &gt; h1    { margin:0; }\n\n            #body         { position:absolute; width:100%; top:100px; bottom:25px; background:red; }\n            #body &gt; div   { position:absolute !important; }\n            #body-sidebar { width:200px; top:0; bottom:0; background:black; color:white; }\n            #body-content { left:200px; right:0; top:0; bottom:0; background:white; overflow:scroll; }\n            #body-content &gt; img { margin:25px; width:500px; vertical-align:middle; }\n        &lt;/style&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n\n        &lt;!-- Head --&gt;\n        &lt;div id=\"head\"&gt;\n            &lt;h1&gt;Header&lt;/h1&gt;\n        &lt;/div&gt;\n\n        &lt;!-- Body --&gt;\n        &lt;div id=\"body\"&gt;\n\n            &lt;!-- Sidebar --&gt;\n            &lt;div id=\"body-sidebar\"&gt;\n                &lt;h2&gt;Sidebar&lt;/h2&gt;\n            &lt;/div&gt;\n\n            &lt;!-- Content --&gt;\n            &lt;div id=\"body-content\"&gt;\n                &lt;h2&gt;Content&lt;/h2&gt;\n                &lt;img src=\"http://dl.dropbox.com/u/3618143/image1.jpg\" /&gt;\n                &lt;img src=\"http://dl.dropbox.com/u/3618143/image2.jpg\" /&gt;\n                &lt;img src=\"http://dl.dropbox.com/u/3618143/image3.jpg\" /&gt;\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I'm trying to figure out how to have a div dynamically resize, based on the size of the browser window. I've set up a jsbin that illustrates my problem, here:\n<a href=\"http://jsbin.com/uxomul\" rel=\"nofollow\">http://jsbin.com/uxomul</a></p>\n\n<p>What I want to do is to resize the div that holds the images so that the div always fills what's left of the height of the browser window (except a 25px margin at the bottom, that's set on body). </p>\n\n<p>Here's a demo that maybe illustrates what I want to achieve more clearly: <a href=\"http://emilolsson.com/shop/demo/layers\" rel=\"nofollow\">http://emilolsson.com/shop/demo/layers</a></p>\n\n<p>Any ideas what would be the best way to approach this?</p>\n",
            "last_activity_date": 1365455486,
            "question_id": 8717506,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "resize"
            ],
            "title": "Dynamically resize div based on size of browser window"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If you're doing this client-side, and you already have the DOM, then it would be more efficient to serialise it yourself inserting the appropriate tags as you go rather than serialising the whole subtree at once and then trying to reparse it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Personally I would wrap HTML with pre and not try to do any pretty printing.  There are TONS of libraries for doing code formatting just google pretty print.  Just wrapping HTML with pre will automatically make it 'printed' code.</p>\n\n<p>For JavaScript, you can use JSON.stringify to recreate the code by passing in a number of spaces for nested structures.</p>\n\n<pre><code>JSON.stringify({ name: 'value' }, null, 2); //Change to four, for four spaces\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Don't be so sure you have gotten all there is to pretty-printing HTML in so few lines.  It took me a little more than a year and 2000 lines to really nail this topic.  You can just use my code directly or refactor it to fit your needs:</p>\n\n<p><a href=\"https://github.com/austincheney/Pretty-Diff/blob/master/lib/markup_beauty.js\">https://github.com/austincheney/Pretty-Diff/blob/master/lib/markup_beauty.js</a> (and <a href=\"https://github.com/austincheney/Pretty-Diff\">Github project</a>)</p>\n\n<p>You can demo it at <a href=\"http://prettydiff.com/?m=beautify&amp;html\">http://prettydiff.com/?m=beautify&amp;html</a></p>\n\n<p>The reason why it takes so much code is that people really don't seem to understand or value the importance of text nodes.  If you are adding new and empty text nodes during beautification then you are doing it wrong and are likely corrupting your content.  Additionally, it is also really ease to screw it up the other way and remove white space from inside your content.  You have to be careful about these or you will completely destroy the integrity of your document.</p>\n\n<p>Also, what if your document contains CSS or JavaScript.  Those should be pretty printed as well, but have very different requirements from HTML.  Even HTML and XML have different requirements.  Please take my word for it that this is not a simple thing to figure out.  HTML Tidy has been at this for more than a decade and still screws up a lot of edge cases.</p>\n\n<p>As far as I know my markup_beauty.js application is the most complete pretty-printer ever written for HTML/XML.  I know that is a very bold statement, and perhaps arrogant, but so far its never been challenged.  Look my code and if there is something you need that it is not doing please let me know and I will get around to adding it in.</p>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<blockquote>\n  <p><a href=\"http://jsfiddle.net/JamesKyle/L4b8b/\" rel=\"nofollow\">http://jsfiddle.net/JamesKyle/L4b8b/</a></p>\n</blockquote>\n\n<p>This may be a futile effort, but I personally think its possible.</p>\n\n<p>I'm not the best at Javascript or jQuery, however I think I have found a simple way of making a simple prettyprint for html.</p>\n\n<p>There are four types of code in this prettyprint: </p>\n\n<ol>\n<li>Plain Text</li>\n<li>Elements</li>\n<li>Attributes</li>\n<li>Values</li>\n</ol>\n\n<p>In order to stylize this I want to wrap <code>elements</code>, <code>attibutes</code> and <code>values</code> with spans with their own classes. </p>\n\n<hr>\n\n<p>The first way I have of doing this is to store every single kind of element and attribute (shown below) and then wrapping them with the corresponding spans</p>\n\n<pre><code>$(document).ready(function() {\n\n    $('pre.prettyprint.html').each(function() {\n\n        $(this).css('white-space','pre-line');\n\n        var code = $(this).html();\n\n        var html-element = $(code).find('a, abbr, acronym, address, area, article, aside, audio, b, base, bdo, bdi, big, blockquote, body, br, button, canvas, caption, cite, code, col, colgroup, command, datalist, dd, del, details, dfn, div, dl, dt, em, embed, fieldset, figcaption, figure, footer, form, h1, h2, h3, h4, h5, h6, head, header, hgroup, hr, html, i, img, input, ins, kbd, keygen, label, legend, li, link, map, mark, meta, meter, nav, noscript, object, ol, optgroup, option, output, p, param, pre, progress, q, rp, rt, ruby, samp, script, section, select, small, source, span, strong, summary, style, sub, sup, table, tbody, td, textarea, tfoot, th, thead, title, time, tr, track, tt, ul, var, video, wbr');\n\n        var html-attribute = $(code).find('abbr, accept-charset, accept, accesskey, actionm, align, alink, alt, archive, axis, background, bgcolor, border, cellpadding, cellspacing, char, charoff, charset, checked, cite, class, classid, clear, code, codebase, codetype, color, cols, colspan, compact, content, coords, data, datetime, declare, defer, dir, disabled, enctype, face, for, frame, frameborder, headers, height, href, hreflang, hspace, http-equiv, id, ismap, label, lang, language, link, longdesc, marginheight, marginwidth, maxlength, media, method, multiple, name, nohref, noresize, noshade, nowrap, object, onblur, onchange,onclick ondblclick onfocus onkeydown, onkeypress, onkeyup, onload, onmousedown, onmousemove, onmouseout, onmouseover, onmouseup, onreset, onselect, onsubmit, onunload, profile, prompt, readonly, rel, rev, rows, rowspan, rules, scheme, scope, scrolling, selected, shape, size, span, src, standby, start, style, summary, tabindex, target, text, title, type, usemap, valign, value, valuetype, version, vlink, vspace, width');\n\n        var html-value = $(code).find(/* Any instance of text inbetween two parenthesis */);\n\n        $(element).wrap('&lt;span class=\"element\" /&gt;');\n        $(attribute).wrap('&lt;span class=\"attribute\" /&gt;');\n        $(value).wrap('&lt;span class=\"value\" /&gt;');\n\n        $(code).find('&lt;').replaceWith('&amp;lt');\n        $(code).find('&gt;').replaceWith('&amp;gt');\n    });\n});\n</code></pre>\n\n<hr>\n\n<p>The second way I thought of was to detect <code>elements</code> as any amount of text surrounded by two &lt; >'s, then detect <code>attributes</code> as text inside of an <code>element</code> that is either surrounded by two spaces or has an <code>=</code> immediately after it.</p>\n\n<pre><code>$(document).ready(function() {\n\n    $('pre.prettyprint.html').each(function() {\n\n        $(this).css('white-space','pre-line');\n\n        var code = $(this).html();\n\n        var html-element = $(code).find(/* Any instance of text inbeween two &lt; &gt; */);\n\n        var html-attribute = $(code).find(/* Any instance of text inside an element that has a = immeadiatly afterwards or has spaces on either side */);\n\n        var html-value = $(code).find(/* Any instance of text inbetween two parenthesis */);\n\n        $(element).wrap('&lt;span class=\"element\" /&gt;');\n        $(attribute).wrap('&lt;span class=\"attribute\" /&gt;');\n        $(value).wrap('&lt;span class=\"value\" /&gt;');\n\n        $(code).find('&lt;').replaceWith('&amp;lt');\n        $(code).find('&gt;').replaceWith('&amp;gt');\n    });\n});\n</code></pre>\n\n<p>How would either of these be coded, if at all possible</p>\n\n<blockquote>\n  <p>Again you can see this as a jsfiddle here:\n  <a href=\"http://jsfiddle.net/JamesKyle/L4b8b/\" rel=\"nofollow\">http://jsfiddle.net/JamesKyle/L4b8b/</a></p>\n</blockquote>\n",
            "last_activity_date": 1360099895,
            "question_id": 8348545,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "pretty-print",
                "pre"
            ],
            "title": "Simple HTML Pretty Print"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The problem was in the Flash plugin. The pages were detecting its absense. Once it was loaded correctly the problem was gone</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>Hi StackOverflow Community!</p>\n\n<p>I'm developing a tool that needs to download a web page from 3rd party server, execute it as a browser would and then parse the HTML. What I struggle with is that the tool need to parse the HTML after all javascript is executed and DOM is modified. I'm trying to use PhantomJS for this purpose and it works on small snippets of code (just a tiny html document with external javascript that adds some nodes to DOM) but when I do the same with a real site (http://www.dba.dk/) I'm not getting the final HTML after all modifications done by the js code.</p>\n\n<p>I really need help on this as I have been stuck with it for more than a week.</p>\n\n<p>My PhantomJS code is simple:</p>\n\n<pre><code>if (phantom.state.length === 0) {\n     if (phantom.args.length === 0) {\n             console.log('Usage: test.js &lt;some URL&gt;');\n             phantom.exit();\n     } else {\n             var address = phantom.args[0];\n             phantom.state = Date.now().toString();\n             phantom.viewportSize = { width: 1280, height: 800 };\n             phantom.open(address);\n     }\n} else {\n     var elapsed = Date.now() - new Date().setTime(phantom.state);\n     if (phantom.loadStatus === 'success') {\n             if (!first_time) {\n                     var first_time = true;\n                     if (!document.addEventListener) {\n                             console.log('Not SUPPORTED!');\n                     }\n                     phantom.render('result.png');\n                     var markup = document.documentElement.innerHTML;\n                     console.log(markup);\n                     phantom.exit();\n             }\n     } else {\n             console.log('FAIL to load the address');\n             phantom.exit();\n     }\n}\n</code></pre>\n\n<p>the HTML dumped to the console doesn't contain content generated dynamically</p>\n",
            "last_activity_date": 1369402614,
            "question_id": 5490438,
            "score": 4,
            "tags": [
                "javascript",
                "html",
                "phantomjs"
            ],
            "title": "PhantomJS and getting modified DOM"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I do a lot of AJAX requests for SVG markup, where I insert the markup into the DOM. You can't just insert it as a fragment, as far as I know, you have to recursively walk the retrieved XML doc, and create the individual SVG elements.</p>\n\n<p>So, you might be better off combining the files on the server, before you send them to the browser.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>After you fetch the SVG document via XHR you will have a separate XML document in the <code>xhr.responseXML</code> property. Since you cannot legally move nodes from one document to another, you'll need to <em>import</em> the portion you want from one document into your target document before you can use it as part of that document.</p>\n\n<p>The simplest way to do this is to use <a href=\"https://developer.mozilla.org/en/DOM/document.importNode\" rel=\"nofollow\"><code>document.importNode()</code></a>:</p>\n\n<pre><code>var clone = document.importNode(nodeFromAnotherDoc,true);\n// Now you can insert \"clone\" into your document\n</code></pre>\n\n<p>However, <a href=\"http://stackoverflow.com/questions/6075566/import-svg-node-into-another-document-in-ie9\">this does not work for IE9</a>. To work around that bug, you can alternatively use this function to recursively recreate a node hierarchy in the document of choice:</p>\n\n<pre><code>function cloneToDoc(node,doc){\n  if (!doc) doc=document;\n  var clone = doc.createElementNS(node.namespaceURI,node.nodeName);\n  for (var i=0,len=node.attributes.length;i&lt;len;++i){\n    var a = node.attributes[i];\n    clone.setAttributeNS(a.namespaceURI,a.nodeName,a.nodeValue);\n  }\n  for (var i=0,len=node.childNodes.length;i&lt;len;++i){\n    var c = node.childNodes[i];\n    clone.insertBefore(\n      c.nodeType==1 ? cloneToDoc(c,doc) : doc.createTextNode(c.nodeValue),\n      null\n    );\n  }\n  return clone;\n}\n</code></pre>\n\n<p>You can see an example of using XHR to fetch an SVG document and both techniques of importing the node on my website: <a href=\"http://phrogz.net/SVG/fetch_fragment.svg\" rel=\"nofollow\">http://phrogz.net/SVG/fetch_fragment.svg</a></p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>The following works in Firefox 4, but not Chrome 10:</p>\n\n<pre><code>&lt;svg:svg version=\"1.1\"&gt;\n    &lt;svg:use xlink:href=\"some_file.svg#layer1\"/&gt;\n&lt;/svg:svg&gt;\n</code></pre>\n\n<p>This is <a href=\"http://code.google.com/p/chromium/issues/detail?id=51042\" rel=\"nofollow\">a known bug in Chrome/WebKit,</a> so there's nothing I can do about that except try to find a way to work around it. I thought about using an <code>XMLHttpRequest</code> to grab the external file and insert it into the <code>svg</code> element. Will that cause any problems? Are there better ways to do it?</p>\n",
            "last_activity_date": 1305913376,
            "question_id": 5411856,
            "score": 4,
            "tags": [
                "javascript",
                "google-chrome",
                "webkit",
                "svg"
            ],
            "title": "Importing external SVG (with WebKit)"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Ascii is defined as the characters in the range of 000-177 (octal), therefore</p>\n\n<pre><code>function containsAllAscii(str) {\n    return  /^[\\000-\\177]*$/.test(str) ;\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/V5e4B/1/\">http://jsfiddle.net/V5e4B/1/</a></p>\n\n<p>You probably don't want to accept non-printing characters <code>\\000-\\037</code>, maybe your regex should be <code>/\\040-\\0176/</code></p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>I came accross this page trying to look for a function to sanitize a string to be used as friendly URL in a CMS system. The CMS is multilingual but I wanted to prevent non-ascii characters to appear in the URL. So instead of using ranges, I simply used (based on the solution above):</p>\n\n<pre><code>function verify_url(txt){\n    var str=txt.replace(/^\\s*|\\s*$/g,\"\"); // remove spaces\n    if (str == '') {\n        alert(\"Please enter a URL for this page.\");\n        document.Form1.url.focus();\n        return false;\n    }\n    found=/^[a-zA-Z0-9._\\-]*$/.test(str); // we check for specific characters. If any character does not match these allowed characters, the expression evaluates to false\n    if(!found) {\n        alert(\"The can only contain letters a thru z, A thru Z, 0 to 9, the dot, the dash and the underscore. No spaces, German specific characters or Chinese characters are allowed. Please remove all punctuation (except for the dot, if you use it), and convert all non complying characters. In German, you may convert umlaut 'o' to 'oe', or in Chinese, you may use the 'pinyin' version of the Chinese characters.\");\n        document.Form1.url.focus();\n    }\n    return found;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How can we use java script to restrict the use of non-ascii characters in a specific text field..? thanks in advance...</p>\n",
            "last_activity_date": 1311005794,
            "question_id": 5185326,
            "score": 4,
            "tags": [
                "javascript",
                "regex"
            ],
            "title": "Java Script regular expression for detecting non-ascii characters"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>This Javascript library can almost certainly help you:</p>\n\n<p><a href=\"http://easyxdm.net/\" rel=\"nofollow\">http://easyxdm.net/</a></p>\n\n<blockquote>\n  <p>easyXDM is a Javascript library that\n  enables you as a developer to easily\n  work around the limitation set in\n  place by the Same Origin Policy, in\n  turn making it easy to communicate and\n  expose javascript API\u2019s across domain\n  boundaries.</p>\n  \n  <p>..</p>\n  \n  <p>At the core easyXDM provides a\n  transport stack capable of passing\n  string based messages between two\n  windows, a consumer (the main\n  document) and a provider (a document\n  included using an iframe). It does\n  this by using one of several available\n  techniques, always selecting the most\n  efficient one for the current browser.\n  For all implementations the transport\n  stack offers bi-directionality,\n  reliability, queueing and\n  sender-verification.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As it would turn out, the easiest way to do this is to post to the target url inside of an iframe.  Same origin policy on most browsers allows you to perform an HTTP POST from one domain to another unrelated domain.  I solved the problem by adding an iframe to my page, initially set to a local bootstrapping page.  Since that page was loaded from the same domain, I am able to control it via script.  I used that to post the form to my target site, and polled the results to determine if my call was successful.  It's not elegant, but it works.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I am writing an HTML5 application that is gathering data from a few different sources using JSONP.  Anything I'm doing with a GET works perfectly.  I'm now trying to POST data, and I've run into an interesting snag.  I need to POST data from my application to another, where my application is running from a local machine.  I am trying to write a cross-platform capable mobile application (think Pulse/Flipboard), so the code will always be running from a local source.  My thought process was as follows:</p>\n\n<ul>\n<li>Use JSONP - JSONP does not allow for posting, it just doesn't work that way (<a href=\"http://stackoverflow.com/questions/2699277/post-data-to-jsonp\">Post data to JsonP</a>)</li>\n<li>Rely on CORS - Since the request is coming from a local source using <code>file://</code>, the origin header is null.  This causes the request to fail (<a href=\"http://stackoverflow.com/questions/3595515/xmlhttprequest-error-origin-null-is-not-allowed-by-access-control-allow-origin\">XmlHttpRequest error: Origin null is not allowed by Access-Control-Allow-Origin</a>)</li>\n<li>Use another server to bounce the request off of - this would be expensive</li>\n</ul>\n\n<p>All of the browsers I'm targeting are webkit based (iPad, Playbook, Android), so I'm wondering if there are any creaks in the same origin policy code that I can sneak through?  Maybe something using iframe or postMessage?</p>\n",
            "last_activity_date": 1339694777,
            "question_id": 5138057,
            "score": 4,
            "tags": [
                "javascript",
                "ajax",
                "json",
                "html5",
                "jsonp"
            ],
            "title": "Cross-Origin resource sharing and file://"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The <code>getTime()</code> method of <code>Date</code> object instances returns the number of milliseconds since the epoch; that's a pretty good timestamp.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>+(new Date())\n</code></pre>\n\n<p>Does the job.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>In response to your edit:</p>\n\n<p>You need to parse the <em>date string</em> to build a <code>Date</code> object, and then you can get the timestamp, for example:</p>\n\n<pre><code>function getTimestamp(str) {\n  var d = str.match(/\\d+/g); // extract date parts\n  return +new Date(d[0], d[1] - 1, d[2], d[3], d[4], d[5]); // build Date object\n}\n\ngetTimestamp(\"2010-03-09 12:21:00\"); // 1268158860000\n</code></pre>\n\n<p>In the above function I use a simple regular expression to extract the digits, then I build a new Date object using the <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Date\">Date constructor</a> with that parts (<em>Note:</em> The Date object handles months as 0 based numbers, e.g. 0-Jan, 1-Feb, ..., 11-Dec).</p>\n\n<p>Then I use the unary plus operator to get the timestamp.</p>\n\n<p>Note also that the timestamp is expressed in milliseconds.</p>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<p>Is it possible in javascript to convert some date in timestamp ?</p>\n\n<p>i have date in this format <code>2010-03-09 12:21:00</code> and i want to convert it into its equivalent time stamp with javascript.</p>\n",
            "last_activity_date": 1354467630,
            "question_id": 2407052,
            "score": 4,
            "tags": [
                "javascript"
            ],
            "title": "date to timestamp in javascript"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Is this what you're looking for?</p>\n\n<pre><code>setTimeout('JsFunction1(val);', 0); \nsetTimeout('JsFunction2(val);', 0);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p><a href=\"http://www.devguru.com/technologies/ecmascript/QuickRef/win_settimeout.html\" rel=\"nofollow\">Window.setTimeout</a> is the function you want to use.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>This is not possible. Javascript can only work in a single thread and there is no way to actually have two functions running in parallel. You need to make one call and then the other. The callbacks of these will be called (not necessarily in the same order with the invocation methods), when data have been returned or an error/timeout occurs. Only when one callback completes, will the second one be allowed to run.</p>\n\n<p>Have also in mind that browsers restrict the number of active ajax calls. So, if you try to make too many ajax calls, one might wait (blocking all javascript code) for other calls to complete.</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>Search for Web Workers. These are kind of a new feature in modern browsers and may not be available in old ones. </p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Using several 'setInterval' may make parallel running possible, though it may still run on a single core. The following code is an example of parallelizing a function func with an array of data 'datas'. To run it, use Parallel(func,datas) where func is the name of your global function and datas is an array of data each one as an input for func.</p>\n\n<pre><code>var i_array=new Array();\nfunction Parallel(func,datas){\n      $(datas).each(function(i,v){\n             i_array[i]=setInterval(function(){\n                         clearInterval(i_array[i]);\n                         window[func](datas[i]);\n                         },10);\n             });\n}\n</code></pre>\n\n<p>Here is a <a href=\"http://jsfiddle.net/5QATw/1/\" rel=\"nofollow\">jsfiddle test</a>. The time stamp in integer numbers show the two ajax were running in parallel.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use window.open() to call a new page. That page will call the first js function. After window.open() calls the second function, you are not technically waiting for the first function to complete. You just wait for the window.open() to execute and then the second will get execute.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Anyone can tell me how to activate two (or more) JavaScript AJAX functions in parallel?</p>\n",
            "last_activity_date": 1420734443,
            "question_id": 2318615,
            "score": 4,
            "tags": [
                "javascript",
                "ajax"
            ],
            "title": "How to activate two JavaScript functions in parallel?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Generate a form (with DOM) and POST the data (you might want to target an iframe, but it will be fire and forget).</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Here is an example to post text to a remote server.\nAnd you can print javascript in the remote server if you want to change the page you have the Iframe on to say something like success. Or a popup saying it finished. On the remote server you can print this to make a popup: </p>\n\n<pre><code>&lt;script&gt; parent.document.getElementById('postmessage').style.display='block'; parent.alert('Successfully posted');&lt;/script&gt;\n</code></pre>\n\n<p>On the webpage you want to send information from make a form and Iframe like this.</p>\n\n<pre><code>&lt;span id=\"postmessage\" style=\"display:none\"&gt;Success Message&lt;/span&gt;\n&lt;form action=\"http://www.remoteserver.com/upload_test.php\" method=\"post\" target=\"post_to_iframe\"&gt;\n  &lt;input type=\"hidden\" value=\"the text to send to remote server\" /&gt;\n  &lt;input type=\"submit\" value=\"Submit\" /&gt;\n&lt;/form&gt;\n\n&lt;!-- When you submit the form it will submit to this iFrame without refreshing the page and it will make the popup and display the message. --&gt;\n&lt;iframe name=\"post_to_iframe\" style=\"width: 600px; height: 500px;\"&gt;&lt;/iframe&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Use javascript to create an iframe. Then add a form to the iframe and submit it. Once the form has been submitted, the onload callback will fire.</p>\n\n<pre><code>var i=document.createElement('iframe');\ni.setAttribute('name', 'frame-id');\ni.setAttribute('id', 'frame-id');\ni.setAttribute('allowtransparency', 'true');\ni.setAttribute('style', 'border: 0; width: 1px; height: 1px; position: absolute; left: 0; top: 0;');\ni.setAttribute('onload', 'iframeFormSubmitted();');\n\ndocument.body.appendChild(i);\n\nvar html = '&lt;html&gt;&lt;body&gt;' +\n'&lt;form action=\"/post_url\" method=\"post\" id=\"iframe-form\" accept-charset=\"utf-8\"&gt;' +\n'&lt;input type=\"hidden\" name=\"id\" value=\"' + your_text + '\"/&gt;' +\n'&lt;/form&gt;' +\n'&lt;scr'+\"ipt&gt;var e=encodeURIComponent,w=window,d=document,f=d.getElementById('f');\" +\n\"d.getElementById('iframe-form').submit();\" +\n'&lt;/scr'+\"ipt&gt;&lt;/body&gt;&lt;/html&gt;\";\n\nwindow.frames['frame-id'].document.write(html);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I need a user to navigate to a certain page that has a certain div full of useful text.  Then click my bookmarklet and send the text in that div back to my server, which is different from the current domain.  I have successfully inserted jQuery on the bookmarklet click and selected the text.  Now I need to figure out a way to send that text cross domain to my server.  I tried JSONP with jQuery and my text is too long for the url.  My second idea was to open up a new window and load a page from my domain, and then somehow insert the selected text into the new window, after which the user could click submit and POST that data to my server.  This didn't work for javascript cross-site reasons.  Anyone have any experience with this or ideas for doing this?  Thanks.</p>\n",
            "last_activity_date": 1333155388,
            "question_id": 2195396,
            "score": 4,
            "tags": [
                "javascript",
                "cross-domain",
                "bookmarklet",
                "cross-site"
            ],
            "title": "Sending Text Cross Domain By Bookmarklet"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>could it be because you have \"return fale\" instead of \"return false\"? O_o</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>First, if you're detecting a printable character such as space, you would be better off with the <code>keypress</code> event. Secondly, the way to prevent the default action is to call <code>preventDefault()</code> on the event in non-IE browsers and set the event's <code>returnValue</code> property to <code>false</code> in IE.</p>\n\n<pre><code>var button = document.getElementById(\"button\");\nbutton.onkeypress = function(evt) {\n   evt = evt || window.event;\n   var charCode = evt.keyCode || evt.which;\n   if (charCode == 32) {\n       if (evt.preventDefault) {\n           evt.preventDefault();\n       } else {\n           evt.returnValue = false;\n       }\n   }\n};\n</code></pre>\n\n<p>I'm not a jQuery expert and I assume it takes care of obtaining the event for you:</p>\n\n<pre><code>$(\"button\").keypress(function(evt) {\n   var charCode = evt.keyCode || evt.which;\n   if (charCode == 32) {\n       if (evt.preventDefault) {\n           evt.preventDefault();\n       } else {\n           evt.returnValue = false;\n       }\n   }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Hope this answers your question:</p>\n\n<pre><code>&lt;input type=\"button\" value=\"Press\" onkeydown=\"doOtherStufF(); return false;\"&gt;\n</code></pre>\n\n<p><code>return false;</code> successfully cancels an event across browsers if called at the end of an event handler attribute in the HTML. This behaviour is not formally specified anywhere as far as I know.</p>\n\n<p>If you instead set an event via an event handler property on the DOM element (e.g. <code>button.onkeydown = function(evt) {...}</code>) or using <code>addEventListener</code>/<code>attachEvent</code> (e.g. <code>button.addEventListener(\"keydown\", function(evt) {...}, false)</code>) then just returning <code>false</code> from that function does not work in every browser and you need to do the <code>returnValue</code> and <code>preventDefault()</code> stuff from my other answer. <code>preventDefault</code> is specified in the <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-flow-cancelation\">DOM 2 spec</a> and is implemented by most mainstream modern browsers. <code>returnValue</code> is IE-specific. </p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I have a button and the following javascript routine.</p>\n\n<pre><code>$(\"button\").keydown( function(key) {\n  switch(key.keyCode) {\n  case 32: //space\n    return false;\n  }\n} );\n</code></pre>\n\n<p>as I understood it, the <code>return false;</code> would stop the keypress from being processed. So <code>$(\"button\").click();</code> would not be called. For other keyCodes this works as expected. For example if I intercept<code>40</code>, which is the down button, the page is not scrolling.</p>\n\n<p>I noticed this behaviour in firefox.</p>\n\n<p>Why does the <code>return false;</code> does not stop the button click event on space? What does the javascript spec say about this?</p>\n",
            "last_activity_date": 1256895664,
            "question_id": 1639338,
            "score": 4,
            "tags": [
                "javascript",
                "jquery",
                "button",
                "keyboard"
            ],
            "title": "Why does returning false in they keydown callback does not stop the button click event?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>Why, yes: <a href=\"http://docs.jquery.com/Ajax/serialize\" rel=\"nofollow\">jQuery's serialize</a>. To unserialize, you'd have to code a function yourself, esentially splitting the string at the &amp;'s and then the ='s.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>jQuery's serialize/serializeArray only works for form elements. I think you're looking for something more generic like this:</p>\n\n<p><a href=\"http://code.google.com/p/jquery-json/\" rel=\"nofollow\">http://code.google.com/p/jquery-json/</a></p>\n\n<blockquote>\n  <p>This plugin makes it simple to convert to and from JSON:</p>\n\n<pre><code>var thing = {plugin: 'jquery-json', version: 2.2};\n\nvar encoded = $.toJSON(thing);        \n//'{\"plugin\":\"jquery-json\",\"version\":2.2}'\nvar name = $.evalJSON(encoded).plugin;\n//\"jquery-json\" \nvar version = $.evalJSON(encoded).version;\n// 2.2\n</code></pre>\n  \n  <p>Most people asked me why I would want\n  to do such a thing, which boggles my\n  mind. Javascript makes it relatively\n  easy to convert from JSON, thanks to\n  eval(), but converting to JSON is\n  supposedly an edge requirement.</p>\n  \n  <p>This plugin exposes four new functions\n  onto the $, or jQuery object:</p>\n  \n  <ul>\n  <li><code>toJSON</code>: Serializes a javascript object, number, string, or arry into JSON.</li>\n  <li><code>evalJSON</code>: Converts from JSON to Javascript, quickly, and is trivial.</li>\n  <li><code>secureEvalJSON</code>: Converts from JSON to Javascript, but does so while checking to see if the source is  actually JSON, and not with other Javascript statements thrown in.</li>\n  <li><code>quoteString</code>: Places quotes around a string, and inteligently escapes any quote, backslash, or control characters.</li>\n  </ul>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>I was trying to serialize a form and then save it, and when the user returned to the form unserialize it and repopulate the data. Turns out there is a pretty sweet jQuery plugin for doing this already: <a href=\"http://rikrikrik.com/jquery/autosave/\" rel=\"nofollow\" >jQuery autosave</a>. Maybe this will help out some of you.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>As of version 1.4.1 of jQuery there is a jQuery.parseJSON() function built in.</p>\n\n<p><a href=\"http://api.jquery.com/jQuery.parseJSON/\" rel=\"nofollow\">http://api.jquery.com/jQuery.parseJSON/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had the same problem recently, I was using jQuery's .serializeArray() to post form data for validation via an AJAX call. On the server side I needed to split this object down into an associative array that would replicate the original $_POST data structure, so I wrote this little function:</p>\n\n<pre>\nfunction unserializeMe($obj) {\n    $data = array();\n    foreach($obj as $arr) {\n        $data[$arr['name']] = $arr['value'];\n    }\n    return $data;\n}\n</pre>\n\n<p>Then all you have to do is cast the input object to an array type before passing it in the funciton call:</p>\n\n<pre>\n$objData = (array) $_POST['data'];\n$data = unserializeMe($objData);\n</pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>RE: Chris</p>\n\n<p>I also wrote a function to parse the jQuery .serialize() function:</p>\n\n<pre>\nfunction createArray($rubble) {\n    $bricks = explode('&', $rubble);\n\n    foreach($bricks as $key => $value) {\n        $walls = preg_split('/=/', $value);\n        $built[$walls[0]] = $walls[1];\n    }\n\n    return $built;\n}\n</pre>\n\n<p>hth</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I personally like Chris' unserialize function for handling jQuery's serialized strings, however, don't forget to also urldecode() them on the server-side as data such as 'email' => 'me%40domain.com' will be coming in if you use the function as-is.</p>\n\n<p>Updated:</p>\n\n<pre><code>function _unserializeJQuery($rubble = NULL) {\n    $bricks = explode('&amp;', $rubble);\n\n    foreach ($bricks as $key =&gt; $value) {\n        $walls = preg_split('/=/', $value);\n        $built[urldecode($walls[0])] = urldecode($walls[1]);\n    }\n\n    return $built;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use function <a href=\"http://php.net/manual/en/function.parse-str.php\" rel=\"nofollow\">parse_str</a>.</p>\n\n<pre><code>$array = array();\n$string = \"title=Hello&amp;desc=World=&amp;s[]=5&amp;s[]=6&amp;s[]=7\";\n\nparse_str($string, $array);\n</code></pre>\n\n<p>description on php.net</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You should use the native <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/JSON\" rel=\"nofollow\">JSON</a> library. For IE less than 8, you'll also need to use Crockford's <a href=\"https://github.com/douglascrockford/JSON-js/\" rel=\"nofollow\">JSON.js</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I don't have enough \"reputation\" to vote up yet, but want to say thank you to all, especially \"Kostya\" and \"Chris\", for the enlightenment this thread has provided!</p>\n\n<p>Follow the variable \"formdata\" and look at the supporting code to see how I got this to work in a wordpress environment.</p>\n\n<p>I'm using this on the clientside (js):</p>\n\n<pre><code>// bind button, setup and call .ajax\njQuery('#submitbutton').click(function() {\n    jQuery('#response_area').html('');\n\n    // put all name-values from form  into one long string\n    var serializedformdata = jQuery('#submitform').serialize();\n\n    // configure array of options for the ajax call (can use a different action for each form)\n    options = {\n        type: 'POST',   \n        url: sv_submitform_global_js_vars.ajaxurl,\n        datatype: 'json',\n        data: { \n            clienttime: getnow(),       \n            sv_submit_form_check: jQuery('#sv_submit_form_check').val(),\n            // this data:action:'value' is specifically required by the wordpress wp_ajax_&lt;value&gt; action hook to process the received data on the php/server side\n            action: 'sv_submitform_hook',   \n            formdata: serializedformdata,\n            },\n        beforeSend: beforesendfunc,\n        // process returned json formatted data in function named below\n        success: successfunc,  \n    }\n    // execute the ajax call to server (sending data)\n    jQuery.ajax(options); \n}); \n</code></pre>\n\n<p>... and this on the server side (php) to get the data back out and into a nice associative array for server side database work.</p>\n\n<pre><code>/////////////////////////////////////\n//  ajax serverside data handler  ///\n/////////////////////////////////////\n\n// Add AJAX actions for submit form \n// Serves logged in users\nadd_action( 'wp_ajax_sv_submitform_hook', 'sv_submitform_handler' );\n// Serves non-logged in users\nadd_action( 'wp_ajax_nopriv_sv_submitform_hook', 'sv_submitform_handler' );\n\n\n// this is the function that processes the input from the submit form\nfunction sv_submitform_handler(){\n    date_default_timezone_set('EST');\n    $servertime = date('h:i:s a').' Server Time';   \n\n    // fda = form data array can be used anywhere after the next statement. \n    // example: if ($fda['formfieldbyname'] == 'something'){...};\n    parse_str($_POST['formdata'],$fda);  \n\n    // this is how the nonce value is read  \n    // form side is wp_nonce_field('sv_submitform','sv_submitform_check');\n    if (!check_ajax_referer('sv_submitform', 'sv_submitform_check', false )){\n            $data = $servertime . ' (Security Failed)';\n        } else {\n            $data = $servertime . ' (Security Passed)';\n        };\n    $returndata = array('data' =&gt; $data);\n\n    exit(json_encode($returndata));\n};\n</code></pre>\n\n<p>And for the wordpress coders out there, it took me a while to realize that the wp_ajax_ hook had to be in either a plugin file or my child theme's functions.php.  It will not work in a normal page template!  I hope this helps someone and my \"reputation\" grows by a point or two.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there something like serialize/unserialize PHP functions in jQuery?</p>\n\n<p>These functions return a string representations of an array or an object which can than be decoded back into array/object.</p>\n\n<p><a href=\"http://sk2.php.net/serialize\" rel=\"nofollow\">http://sk2.php.net/serialize</a></p>\n",
            "last_activity_date": 1358536103,
            "question_id": 1352214,
            "score": 4,
            "tags": [
                "php",
                "javascript",
                "jquery"
            ],
            "title": "serialize/unserialize in jQuery"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>In this case, it is best to delay the execution of the single click event slightly. Have your double click handler set a variable that the single click event will check. If that variable has a particular value, could be boolDoubleClick == true, then don't \"fire\"/\"handle\" the single click.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In a comment, you said,</p>\n\n<blockquote>\n  <p>I delay the click handler by 300 ms (a noticeable and annoying delay) and even ...</p>\n</blockquote>\n\n<p>So it sounds like what you want is that when you click then the DOM should geneate a click event immediately, except not if the click is the first click of a double-click.</p>\n\n<p>To implement this feature, when you click, the DOM would need to be able to predict whether this is the final click or whether it's the first of a double-click (however I don't think is possible in general for the DOM to predict whether the user is about to click again).</p>\n\n<p><hr /></p>\n\n<p>What are the two distinct actions which you're trying to take on click and double-click? IMO, in a normal application you might want both events: e.g. single-click to focus on an element and then double-click to activate it.</p>\n\n<p>When you must separate the events, some applications use something other than double-click: for example, they use right-click, or control-click.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>AFAIK DOM Level 2 Events makes no specification for double-click. \nIt doesn't work for me on IE7 (there's a shock), but FF and Opera have no problem managing the spec, where I can attach all actions to the click event, but for double-click just wait till the \"detail\" attribute of the event object is 2. From the docs: \"If multiple clicks occur at the same screen location, the sequence repeats with the detail attribute incrementing with each repetition.\"</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Thanks to all the other answers here as the combination of them seems to provide a reasonable solution for me when the interaction requires both, but mutually exclusive:</p>\n\n<pre><code>var pendingClick = 0;\n\nfunction xorClick(e) {\n    // kill any pending single clicks\n    if (pendingClick) {\n        clearTimeout(pendingClick);\n        pendingClick = 0;\n    }\n\n    switch (e.detail) {\n        case 1:\n            pendingClick = setTimeout(function() {\n                console.log('single click action here');\n            }, 500);// should match OS multi-click speed\n            break;\n        case 2:\n            console.log('double click action here');\n            break;\n        default:\n            console.log('higher multi-click actions can be added as needed');\n            break;\n    }\n}\n\nmyElem.addEventListener('click', xorClick, false);\n</code></pre>\n\n<p><strong>Update:</strong> I added a generalized version of this approach along with a click polyfill for touch devices to this Github repo with examples:</p>\n\n<p><a href=\"https://github.com/mckamey/doubleTap.js\" rel=\"nofollow\">https://github.com/mckamey/doubleTap.js</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is what I did to distinguish within a module</p>\n\n<pre><code>       node.on('click', function(e) {\n\n            //Prepare for double click, continue to clickHandler doesn't come soon enough\n            console.log(\"cleared timeout in click\",_this.clickTimeout);\n            clearTimeout(_this.clickTimeout);\n            _this.clickTimeout = setTimeout(function(){\n                console.log(\"handling click\");\n                _this.onClick(e);\n            },200);\n            console.log(_this.clickTimeout);\n        });\n\n        node.on('dblclick', function (e) {\n\n            console.log(\"cleared timeout in dblclick\",_this.clickTimeout);\n            clearTimeout(_this.clickTimeout);\n            // Rest of the handler function\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm handling both the click and dblclick event on a DOM element. Each one carries out a different command, but I find that when double clicking on the element, in addition to firing the double click event, the click event is also fired twice.  What is the best approach for preventing this behavior?</p>\n",
            "last_activity_date": 1360851657,
            "question_id": 880608,
            "score": 4,
            "tags": [
                "javascript",
                "javascript-events"
            ],
            "title": "Prevent click event from firing when dblclick event fires"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Here's an example using <a href=\"http://blog.deconcept.com/swfobject/\" rel=\"nofollow\">SWFObject</a> / javascript / AS3 + ExternalInterface\nIt may use some adaption to work cross-browser. I tried it on FF3(OSX) only.</p>\n\n<p>First a document class containing a simple log field (for traces).</p>\n\n<p>It simply defines an ExternalInterface callback listening to a method call named <strong><em>flashLog</em></strong> that will handled by the private method <strong><em>setMessage(...params)</em></strong></p>\n\n<pre><code>package  \n{\n    import flash.display.Sprite;\n    import flash.display.StageAlign;\n    import flash.display.StageScaleMode;\n    import flash.external.ExternalInterface;\n    import flash.text.TextField;\t\t\n\n    public class KeyStroke extends Sprite \n    {\n\n    \tprivate var tf:TextField;\n\n    \tpublic function KeyStroke()\n    \t{\n    \t\tstage.scaleMode = StageScaleMode.NO_SCALE;\n    \t\tstage.align = StageAlign.TOP_LEFT;\n\n    \t\ttf = addChild(new TextField()) as TextField;\t\n    \t\ttf.autoSize = 'left';\n\n    \t\tif(ExternalInterface.available)\n    \t\t{\n    \t\t\tif(ExternalInterface.addCallback(\"flashLog\", setMessage))\n    \t\t\t{\t\n    \t\t\t\ttf.text = \"addCallback() failed :(\";\n    \t\t\t}\n    \t\t\telse\n    \t\t\t{\t\n    \t\t\t\ttf.text = \"flash waiting\";\n    \t\t\t}\n    \t\t}\n    \t\telse\n    \t\t{\n    \t\t\tsetMessage(\"ExternalInterface not available!\");\n    \t\t}\n    \t}\n\n\n    \tprivate function setMessage(...params):void\n    \t{\n    \t\ttf.text = \"message : \" + params.toString();\n    \t}\n    }\n}\n</code></pre>\n\n<p>Embed the exported SWF via <a href=\"http://blog.deconcept.com/swfobject/\" rel=\"nofollow\">SWFObject</a> adding the <strong>allowScriptAccess</strong> attribute, you will also need to give an id so we can locate the SWF further on (in this case '<strong><em>myMovie</em></strong>') :</p>\n\n<pre><code>var so = new SWFObject('KeyStroke.swf', 'myMovie', '800', '100', '9', '#f0f0f0');\nso.addParam(\"allowScriptAccess\",\"always\");\nso.write('content');\n</code></pre>\n\n<p>Create a javascript function to handle the key presses :</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\nfunction keyPressHandler(e)\n{\n    // Calls the registered callback within the flash movie\n    getMovie('myMovie').flashLog(\"Key Down!\"+e.charCode)\n}\n\nfunction getMovie(movieName) {\n    return document.getElementById(movieName);\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Register the keyPressHandler somehow (there's better ways with prototype etc.) :</p>\n\n<pre><code>&lt;body onKeyPress=\"keyPressHandler(event);\" &gt;\n</code></pre>\n\n<p>That should be it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's another example using jQuery. You can see some sort of demo <a href=\"http://sorinvasilescu.ro/keycode/\" rel=\"nofollow\">here</a>. It traces the keypresses from the browser to a textbox.</p>\n\n<p>Your JavaScript would be</p>\n\n<pre><code>var altPressed = false;\n    var ctrlPressed = false;\n\n    function getFlashMovie(movieName) \n    {\n    \tvar isIE = navigator.appName.indexOf(\"Microsoft\") != -1;\n    \treturn (isIE) ? window[movieName] : document[movieName];\n    }\n\n    function sendCode(code) {\n    \tmovie = getFlashMovie('keyboard-listener');\n    \tmovie.keyEvent(code);\n    }\n\n    function activeKey(e) {\n    \te.preventDefault();\n    \tif (e.which == 18) altPressed = true;\n    \tif (e.which == 17) ctrlPressed = true;\n    \tif ((e.which != 18)&amp;&amp;(e.which != 17)) sendCode((altPressed?'alt+':'')+(ctrlPressed?'ctrl+':'')+String.fromCharCode(e.which));\n    }\n\n    function inactiveKey(e) {\n    \tif (e.which == 18) altPressed = false;\n    \tif (e.which == 17) ctrlPressed = false;\n    }\n\n    $(document).ready(function() {\n    \t$(document).keydown(activeKey);\n    \t$(document).keyup(inactiveKey);\n    });\n</code></pre>\n\n<p>Inside the Flash movie, you would have the following code:</p>\n\n<pre><code>ExternalInterface.addCallback('keyEvent',keyEvent);\n\nfunction keyEvent(code:String):void {\n    // do something with the \"code\" parameter, that looks like \"alt+ctrl+D\", may use .split('+'), etc\n}\n</code></pre>\n\n<p>You'll need to import <a href=\"http://jquery.com/\" rel=\"nofollow\">jQuery</a> in your html file and that's about it. jQuery is cross-browser, so no problems should arise. Tested on Safari, Firefox and Opera (OSX).</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Replaced ctrl with alt/option key, but it doesn't handle option down on mac: </p>\n\n<p>this works:\n//WORKS ONLY IN BROWSER: \n//tested on SAFARI 4.0 Mac and Firefox 3.5 Mac</p>\n\n<pre><code>function onKey_Up(e:KeyboardEvent):void {\n    tf2.appendText(\"\\n\"+e.keyCode)\n\n    //alt+C\n    if(e.keyCode==231){\n        tf2.appendText(\"\\nALT + C\")\n    }\n    //alt+V\n    if(e.keyCode==175){\n        tf2.appendText(\"\\nALT + V\")\n    }\n    //alt+X\n    if(e.keyCode==188){\n        tf2.appendText(\"\\nALT + X\")\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>When the SWF has focus, you can just listen in actionscript for keypresses. And if you want, you can send them to Javascript as well.</p>\n\n<pre><code>addEventListener(KeyboardEvent.KEY_DOWN, onKeyDown);\n\nprivate function onKeyDown(e:KeyboardEvent):void \n{\n   // handle key down,\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there an existing javascript library for relaying key press events in the browser (or certain divs) into flash?  I am hoping there might be a library kind of <a href=\"http://hasseg.org/blog/?p=138\" rel=\"nofollow\">like this one for mousewheel events</a> ?</p>\n\n<p>Something like <a href=\"http://www.openjs.com/scripts/events/keyboard%5Fshortcuts/\" rel=\"nofollow\">this</a> handles javascript keyboard shortcuts great.  I suppose I could just listen for those events and pass the ones I want into flash?</p>\n\n<p><hr /></p>\n\n<p><strong>EDIT:</strong> These are great examples, however, if flash has focus, then javascript keystrokes are lost.  How can you ensure that all key events go through javascript?</p>\n",
            "last_activity_date": 1315692127,
            "question_id": 683486,
            "score": 4,
            "tags": [
                "javascript",
                "flash",
                "actionscript-3",
                "actionscript"
            ],
            "title": "javascript to actionscript keypress passing utility?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Are you sure your example works? It does not in my browser. But take a look at the following page: <a href=\"http://www.jeffothy.com/weblog/clipboard-copy/\" rel=\"nofollow\">http://www.jeffothy.com/weblog/clipboard-copy/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you took the time to read the full article, the author states this doesn't work for Firefox...<br />\nActually, I think it doesn't even work for IE, as it does nothing related to the clipboard!</p>\n\n<p>There is a technique using Flash, because by default, Firefox inhibits clipboard access for security reasons.<br />\nOtherwise, the classical way to do copy is:</p>\n\n<pre><code>var tc = textToCopy.replace(/\\n\\n/g, '\\n');\nif (window.clipboardData) // IE\n{\n  window.clipboardData.setData(\"Text\", tc);\n}\nelse\n{\n  unsafeWindow.netscape.security.PrivilegeManager.enablePrivilege(\"UniversalXPConnect\");\n  const clipboardHelper = Components.classes\n      [\"@mozilla.org/widget/clipboardhelper;1\"].\n      getService(Components.interfaces.nsIClipboardHelper);\n  clipboardHelper.copyString(tc);\n}\n</code></pre>\n\n<p>after enabling copy (for a given site).</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I am trying to write a JavaScript script to add to greasemonkey that adds a button after an element. The onClick for this button should copy the parents element text to the keyboard. I have seen plenty of examples that copy already selected text to the clipboard such as this:</p>\n\n<pre><code>    &lt;SCRIPT LANGUAGE=\"JavaScript\"&gt;\n    &lt;!-- Begin\n    function copyit(theField) {\n    var selectedText = document.selection;\n    if (selectedText.type == 'Text') {\n    var newRange = selectedText.createRange();\n    theField.focus();\n    theField.value = newRange.text;\n    } else {\n    alert('Alert: Select The text in the textarea then click on this button');\n    }\n    }\n    // End --&gt;\n    &lt;/script&gt;\n    &lt;input onclick=\"copyit(this.form.text_select)\" type=\"button\" value=\"Click Here to Copy the Highlighted Text\" name=\"copy_button\"&gt;\n</code></pre>\n\n<p>Found <a href=\"http://www.wallpaperama.com/forums/javascript-copy-selected-text-box-select-all-highlight-text-form-copy-paste-t706.html\" rel=\"nofollow\">here</a>. </p>\n\n<p>I have also found that you can select text in input elements.  I have tried combining both techniques, as well as many others with no viable solution yet. I am not even sure why the code above copies to the clipboard. Does anyone have a solution to this? </p>\n",
            "last_activity_date": 1312634919,
            "question_id": 316508,
            "score": 4,
            "tags": [
                "javascript",
                "firefox",
                "greasemonkey"
            ],
            "title": "Greasemonkey\\JavaScript Copy to Clipboard button"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>As mentioned in the comments, These are the steps I took to try and find my JS error.</p>\n\n<p>If there is another, easier, solution, please feel free to post it and I may mark it as accepted.</p>\n\n<hr>\n\n<p>Trying to debug minified code is a nightmare. </p>\n\n<p>What I eventually did was copy my minified javascript, directly from the inspector in Chrome. </p>\n\n<p>I then pasted the JS into <a href=\"http://www.jspretty.com/\" rel=\"nofollow\">http://www.jspretty.com/</a> - I had tried <a href=\"http://jsbeautifier.org/\" rel=\"nofollow\">http://jsbeautifier.org/</a> but found their site froze with such large JS code.</p>\n\n<p>Once it was 'pretty-fied' I created a test.js file in my solution and pasted the, now easier to read code, into it.</p>\n\n<p>Quick step to comment out the <code>@script</code> tag in my <code>_layout</code> and add a link to the test.js file and I was ready to debug a now, far easier to read, chunk of Javascript.</p>\n\n<p>It is still pretty awkward to traverse the call stack, though now you can see actual methods it makes it far less impossible.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>For anyone else struggling with this problem, I found an easier solution. If you pull open your developer console (on chrome) and add a breakpoint where angular throws the error:</p>\n\n<p><img src=\"http://i.stack.imgur.com/x22MZ.png\" alt=\"angular throwing an error\"></p>\n\n<p>Then, on the stack trace on the right, click on the first \"invoke\" you see. This will take you to the invoke function, where the first parameter is the function angular is trying to inject:</p>\n\n<p><img src=\"http://i.stack.imgur.com/FlwmR.png\" alt=\"I was able to inspect the function\"></p>\n\n<p>I then did a search through my code for a function that looked like that one (in this case <code>grep \"\\.onload\" -R public</code>), and found 8 places to check.</p>\n\n<p>I hope this helps!</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>For anybody reading this, using Angular 1.3</p>\n\n<p>You can now use Angular's ng-strict-di check like this:</p>\n\n<pre><code>&lt;div ng-app=\"some-angular-app\" ng-strict-di&gt;\n  ...\n&lt;/div&gt;\n</code></pre>\n\n<p>This will give you an appropriate error message if you didn't load your dependencies using the array syntax.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm having a hard time trying to pinpoint which, of the very many, methods I have in my angular app that would be causing the error:</p>\n\n<p><code>Uncaught Error: [$injector:unpr] Unknown provider: nProvider &lt;- n</code></p>\n\n<p>This only happens once the javascript has been bundled &amp; minified by ASP.Net.</p>\n\n<p>I have ensured that all the controllers, and any other DI, is using the minification-safe method, I.E My controllers/service etc are using the method:</p>\n\n<pre><code>appControllers.controller('myCtrl', ['$scope', function($scope){\n        //......\n}]);\n</code></pre>\n\n<p>I've gone through every JS file in our app - there are a lot... and can't find anything that violates this way of injecting dependencies - though there must be one somewhere...</p>\n\n<p>Is there a better way to pinpoint which method could be causing this error?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1419002848,
            "question_id": 23480591,
            "score": 3,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "Debugging Unknown provider in minified angular javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The algorithm to produce the second image is quite simple geometrically. I'll write you some pseudocode, assuming you have an array of x,y arrays:</p>\n\n<pre><code>coordinates = [[x1,y1],[x2,y2] ... [xn,yn]]\nleftcoords = []\nrightcoords = []\n\nprojectionwidth = 1        # How wide the path is\n\nfor each coordinate in coordinates:\n    pathvector = coordinate(index + 1) - coordinate(index - 1)\n    normpathvector = pathvector/(length(pathvector))\n    perpvector = projectionwidth*[-normpathvector[1],normpathvector[0]]\n    leftcoords.append(coordinate + perpvector)\n    rightcoords.append(coordinate - perpvector)\n</code></pre>\n\n<p>You have to take care at the end of the path to only choose coordinates ahead or behind, but you get the idea. You end up with three sets of coordinate trajectories. You can set it up to average several points if you'd like to smooth the path.</p>\n\n<p>Ok, so here is code that works, but you'll have to do some work to smooth it out to account for the jitter in the path. My suggestion would be to average several previous points, or just grab a point several back.</p>\n\n<p><a href=\"http://jsbin.com/uTATePe/2/\" rel=\"nofollow\">http://jsbin.com/uTATePe/2/</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I try to do this 3 months - I need to create a polygon by route direction like here: </p>\n\n<p><img src=\"http://i.stack.imgur.com/ZMZzl.png\" alt=\"http://i.imgur.com/olGmuN6.png\"></p>\n\n<p>so so I write this:</p>\n\n<pre><code>directionService.route(request, function(result, status) {\n    if (status == google.maps.DirectionsStatus.OK) {\n      directionsRenderer.setDirections(result);\n        var r = [];\n        var z = 0.5;\n        var bla = result.routes[0].overview_path;\n        for(var i=0 in result.routes[0].overview_path) {\n            r.push(new google.maps.LatLng(bla[i].lat()+z, bla[i].lng()-z));\n        }\n        bla.reverse();\n        for(var x=0 in bla) {\n            r.push(new google.maps.LatLng(bla[x].lat()-z, bla[x].lng()+z));\n        }\n\n        var prva = new google.maps.Polyline({\n            path: result.routes[0].overview_path,\n            strokeColor: \"#00000\",\n            strokeOpacity: 1.0,\n            strokeWeight: 2\n        });\n\n        prva.setMap(map);\n\n        druga = new google.maps.Polygon({\n            paths: r,\n            strokeColor: \"#FF0000\",\n            strokeOpacity: 0.8,\n            strokeWeight: 2,\n            fillColor: \"#FF0000\",\n            fillOpacity: 0.35\n        });\n\n        druga.setMap(map);\n\n    } else {\n      alert(\"Directions query failed: \" + status);\n    }\n  });\n</code></pre>\n\n<p>but in some cases is good in some cases not, so my code produce this:</p>\n\n<p><strong>BAD case</strong>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/w5lqL.png\" alt=\"http://i.stack.imgur.com/w5lqL.png\"></p>\n\n<p><strong>GOOD case:</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/DH88N.jpg\" alt=\"http://i.stack.imgur.com/DH88N.jpg\"></p>\n\n<p>So how I can solve this problem to get nice polygon by route direction ??? Does someody have idea?</p>\n\n<p>How I can implement this into my code:</p>\n\n<p>CONVOLUTION ALGORITHM</p>\n\n<p><img src=\"http://i.stack.imgur.com/lrWiW.png\" alt=\"http://i.imm.io/1gMu5.png\"></p>\n\n<p>Is there any solution for my problem?</p>\n\n<p>Is there some other way than this to create what I need?</p>\n",
            "last_activity_date": 1380921041,
            "question_id": 19167858,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "google-maps",
                "geometry"
            ],
            "title": "Geometry (CONVOLUTION) function with javascript or jquery"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can use <a href=\"http://www.primefaces.org/showcase/ui/ajax/remoteCommand.xhtml\" rel=\"nofollow\">PrimeFaces remote command component</a> (<code>&lt;p:remoteCommand&gt;</code>).</p>\n\n<blockquote>\n  <p>RemoteCommand enables executing backing bean methods and do partial\n  update triggered by custom client side script. This example\n  demonstrates a use case where a certain part of a page can be lazily\n  loaded on demand.</p>\n</blockquote>\n\n<p>Add it to the view it in a following way: </p>\n\n<pre><code>&lt;p:remoteCommand name=\"myRemote\" actionListener=\"#{myBean.listen}\"/&gt;\n</code></pre>\n\n<p>And use it in Javascript like so:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n   myRemote(); //makes a remote call\n&lt;/script&gt;\n</code></pre>\n\n<p>or call it from an event handler like so:</p>\n\n<pre><code>&lt;div onclick=\"myremote();\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>If you additionally want to pass parameters to the server make a following call:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n   myRemote([{name:'param1', value:150}, {name:'param2', value:220}]); //makes a remote call with parameters\n&lt;/script&gt;\n</code></pre>\n\n<p>The listener could be like:</p>\n\n<pre><code>public void listen(){\n    FacesContext context = FacesContext.getCurrentInstance();\n    Map&lt;String,String&gt; params = context.getExternalContext().getRequestParameterMap();\n    System.out.println(params.get(\"param1\"));\n    System.out.println(params.get(\"param2\"));\n}\n</code></pre>\n\n<p>Once of the comments asked to return a Value to Javascript.<br>\nWell in that case you can use Primeface's <a href=\"http://www.primefaces.org/docs/api/4.0/org/primefaces/context/RequestContext.html\" rel=\"nofollow\">Request Context</a>'s <a href=\"http://www.primefaces.org/docs/api/4.0/org/primefaces/context/RequestContext.html#execute%28java.lang.String%29\" rel=\"nofollow\">execute()</a> method to execute any javascript you want.                      </p>\n\n<pre><code>RequestContext.getCurrentInstance().execute(\"your javascript code\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Just to add to Kishor's (halfway) answer, you need to have a to-be-updated component in your view (popup window as you call it) and ajax-update it after the request has been successfully completed.</p>\n\n<p>You can use remote command to send the AJAX request with an extra parameter attached and ajax-update the JSF component responsible to be a popup window. Like so (for PrimeFaces 3.x):</p>\n\n<pre><code>&lt;p:remoteCommand name=\"myRemote\" actionListener=\"#{myBean.listen}\" \n                 update=\"dialog\" oncomplete=\"dlg.show()\" /&gt;\n...\n&lt;div onclick=\"myremote([{name:'poi_id', value:poi_id}]);\"&gt;...&lt;/div&gt;\n...\n&lt;p:dialog id=\"dialog\" widgetVar=\"dlg\"&gt;\n    &lt;h:outputText value=\"#{myBean.address}\" /&gt;\n    ...(display other information)\n&lt;/p:dialog&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>String address;\npublic void listen(){\n    String poi_id = FacesContext.getCurrentInstance().getExternalContext().getRequestParameterMap().get(\"poi_id\");\n    address = getAddress(poi_id);\n}\n</code></pre>\n\n<p>The alternative to using a remote command is to have a hidden form with a hidden input that will be used to transmit the parameter to the backing bean, that could be separated from other beans to handle the retrieval of necessary information based on your <code>poi_id</code>:</p>\n\n<pre><code>&lt;h:form id=\"poi-form\" styleClass=\"invisible\"&gt;\n    &lt;h:inputHidden id=\"poi\" value=\"#{poiBean.poi}\" /&gt;\n    &lt;p:commandButton id=\"info\" action=\"#{poiBean.info}\"\n                     update=\"dialog\" oncomplete=\"dlg.show()\" /&gt;\n&lt;/h:form&gt;\n&lt;div onclick=\"document.getElementById('poi-form:poi').value = poi_id; \n              document.getElementById('poi-form:info').click();\"&gt;...&lt;/div&gt;\n...\n&lt;p:dialog id=\"dialog\" widgetVar=\"dlg\"&gt;\n    &lt;h:outputText value=\"#{poiBean.address}\" /&gt;\n    ...(display other information)\n&lt;/p:dialog&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>@ManagedBean\n@RequestScoped\npublic class PoiBean {\n\n    private String poi;//getter+setter\n    private String address;//getter\n    //other properties\n\n    public void listen(){\n        address = getAddress(poi);\n        //other properties\n    }\n\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I am developing a web application and I use JSF and PrimeFaces frameworks and external Geo Map API. </p>\n\n<p>The Map API gives me <code>POI_id</code> when I clicked on a POI on the map. But it's not enough for me, I want to get information about POI from a servlet and display it in a pop-up window. (fields like address, name, phone number, etc.).</p>\n\n<p>So, I need to send an HTTP request to the servlet in my managed bean when I click the POI on the map.</p>\n\n<p>I can get <code>poi_id</code>, but I cannot send this id to the backend managed bean, so getting the POI information does not seem possible.</p>\n\n<p>How can I send <code>poi_id</code> to my managed bean and handle the response to display in a popup window?</p>\n",
            "last_activity_date": 1404656801,
            "question_id": 18975746,
            "score": 3,
            "tags": [
                "javascript",
                "jsf",
                "primefaces",
                "httprequest"
            ],
            "title": "How to call managed bean methods with parameters via JavaScript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You cannot really use a regular expression to match a formula. Formulae are a <a href=\"http://en.wikipedia.org/wiki/Context-free_language\" rel=\"nofollow\">context-free language</a> and regular expressions are limited to <a href=\"http://en.wikipedia.org/wiki/Regular_language\" rel=\"nofollow\">regular languages</a>, the latter being a subset of the former. There are a number of algorithms for recognizing context-free languages such as <a href=\"http://en.wikipedia.org/wiki/CYK_algorithm\" rel=\"nofollow\">CYK</a> and <a href=\"http://en.wikipedia.org/wiki/LL_parser\" rel=\"nofollow\">LL parsers</a>. I don't recommend studying those if you already haven't since the topic is quite large.</p>\n\n<p>What you can do quickly, efficiently and easy though, is to attempt to calculate the formula using <a href=\"http://en.wikipedia.org/wiki/Reverse_Polish_notation\" rel=\"nofollow\">Reverse Polish Notation (RPN)</a>  (use the <a href=\"http://en.wikipedia.org/wiki/Shunting-yard_algorithm\" rel=\"nofollow\">Shunting Yard algorithm</a> to convert your formula to RPN). If the attempt fails (due to parenthesis not maching, invalid functions / constants, w/e), clearly the text is not a formula, otherwise all is good. Shunting yard is not a particularly difficult algorithm and you should have no trouble implementing it. Even if you do, the wikipedia page I linked above has pseudo code and there a good number of questions in SO as well to help you.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's probably easier to tokenize the expression you want to parse. When tokenized it's way easier to read that stream of tokens and build your own expressions.</p>\n\n<p><a href=\"http://jsfiddle.net/22AWx/2/\" rel=\"nofollow\">I've put up a demo on jsFiddle which can parse your given formula</a></p>\n\n<p>In the demo I used this <code>Tokenizer</code> class and tokens to build a <code>TokenStream</code> from the formula. </p>\n\n<pre><code>function Tokenizer() {\n    this.tokens = {};\n    // The regular expression which matches a token per group.\n    this.regex = null;\n    // Holds the names of the tokens. Index matches group. See buildExpression()\n    this.tokenNames = [];\n}\n\nTokenizer.prototype = {\n    addToken: function(name, expression) {\n        this.tokens[name] = expression;\n    },\n\n    tokenize: function(data) {\n        this.buildExpression(data);\n        var tokens = this.findTokens(data);\n        return new TokenStream(tokens);\n    },\n\n    buildExpression: function (data) {\n        var tokenRegex = [];\n        for (var tokenName in this.tokens) {\n            this.tokenNames.push(tokenName);\n            tokenRegex.push('('+this.tokens[tokenName]+')');\n        }\n\n        this.regex = new RegExp(tokenRegex.join('|'), 'g');\n    },\n\n    findTokens: function(data) {\n        var tokens = [];\n        var match;\n\n        while ((match = this.regex.exec(data)) !== null) {\n            if (match == undefined) {\n                continue;\n            }\n\n            for (var group = 1; group &lt; match.length; group++) {\n                if (!match[group]) continue;\n\n                tokens.push({\n                    name: this.tokenNames[group - 1],\n                    data: match[group]\n                });\n            }\n        }\n\n        return tokens;\n    }\n}\n\n\nTokenStream = function (tokens) {\n    this.cursor = 0;\n    this.tokens = tokens;\n}\nTokenStream.prototype = {\n    next: function () {\n        return this.tokens[this.cursor++];\n    },\n    peek: function (direction) {\n        if (direction === undefined) {\n            direction = 0;\n        }\n\n        return this.tokens[this.cursor + direction];\n    }\n}\n</code></pre>\n\n<p><strong>Defined tokens</strong></p>\n\n<pre><code>tokenizer.addToken('whitespace', '\\\\s+');\ntokenizer.addToken('l_paren', '\\\\(');\ntokenizer.addToken('r_paren', '\\\\)');\ntokenizer.addToken('float', '[0-9]+\\\\.[0-9]+');\ntokenizer.addToken('int', '[0-9]+');\ntokenizer.addToken('div', '\\\\/');\ntokenizer.addToken('mul', '\\\\*');\ntokenizer.addToken('add', '\\\\+');\ntokenizer.addToken('constant', 'pi|PI');\ntokenizer.addToken('id', '[a-zA-Z_][a-zA-Z0-9_]*');\n</code></pre>\n\n<p>With the above tokens defined the tokenizer can recognize everything in your formula. When the formula </p>\n\n<pre><code>2/0.6 pcs of foo * pi bar + sqrt(4) foobar\n</code></pre>\n\n<p>is tokenized the result would be a token stream similar to</p>\n\n<pre><code>int(2), div(/), float(0.6), whitespace( ), id(pcs), whitespace( ), id(of), whitespace( ), id(foo), whitespace( ), mul(*), whitespace( ), constant(pi), whitespace( ), id(bar), whitespace( ), add(+), whitespace( ), id(sqrt), l_paren((), int(4), r_paren()), whitespace( ), id(foobar)\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I have been working on a function to parse a formula for some time, but haven't been able to make it work properly. It seems to not always work - it filters some parts of the text but not all.</p>\n\n<pre><code>parseFormula(e) {\n    var formula = e.value, value = 0.00, tValue = 0.00, tFormula = '', dObj = {};\n    if(formula !== undefined &amp;&amp; formula !== \"\") {\n        dObj._formulaIn = formula;\n        var f = formula.split(/\\s/g);    \n\n        for(var i = 0; i &lt; f.length; i++) {\n            tFormula = f[i];\n            // Replacing PI\n            tFormula = tFormula.replace(/(pi)/gi,Math.PI);\n            dObj._1_pi_done = tFormula;\n\n            // Replacing Squareroot with placeholder\n            tFormula = tFormula.replace(/(sqrt)/gi,\"__sqrt__\");\n            tFormula = tFormula.replace(/(sqr)/gi,\"__sqrt__\");\n            tFormula = tFormula.replace(/(kvrt)/gi,\"__sqrt__\");\n            tFormula = tFormula.replace(/(kvr)/gi,\"__sqrt__\");\n            dObj._2_sqrt_done = tFormula;\n\n            // Removing units that may cause trouble\n            tFormula = tFormula.replace(/(m2||m3||t2||t3||c2||c3)/gi,\"\");\n            dObj._3_units_done = tFormula;\n\n            // Removing text\n            tFormula = tFormula.replace(/\\D+[^\\*\\/\\+\\-]+[^\\,\\.]/gi,\"\");\n            dObj._4_text_done = tFormula;\n\n            // Removing language specific decimals\n            if(Language.defaultLang === \"no_NB\") {\n                tFormula = tFormula.replace(/(\\.)/gi,\"\");\n                tFormula = tFormula.replace(/(\\,)/gi,\".\");\n            } else {\n                tFormula = tFormula.replace(/(\\,)/gi,\"\");           \n            }\n            dObj._5_lang_done = tFormula;\n\n            // Re-applying Squareroot\n            tFormula = tFormula.replace(/(__sqrt__)/g,\"Math.sqrt\");\n            dObj._6_sqrt_done = tFormula;\n\n            if(tFormula === \"\") {\n                f.splice(i,1);\n            } else {\n                f[i] = tFormula;\n            }\n            dObj._7_splice_done = tFormula;\n            console.log(dObj);\n        }\n\n        formula = \"\";\n        for(var j = 0; j &lt; f.length; j++) {\n            formula += f[j];   \n        }\n\n        try {\n            value = eval(formula);\n        } \n        catch(err) {}\n        return value === 0 ? 0 : value.toFixed(4);\n    } else {\n        return 0;\n    }\n}\n</code></pre>\n\n<p>I am not sure about any of the RegEx used in this function, hence why I am asking for help. For example, I am not sure if <code>/(pi)/</code> is the right way to get the exact text \"pi\" and replace it with 3.141.</p>\n\n<p>(I am using <code>eval</code> at the moment, but it's merely used for development)</p>\n\n<p>Any help appreciated.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>The Formula I am trying to parse is a user input formula. Where he/she would type something like: <code>2/0.6 pcs of foo * pi bar + sqrt(4) foobar</code>. Where I would want it to strip all the non-math letters and calculate the rest. Meaning the above formula would be interpreted as <code>(2/0.6) * 3.141 + Math.sqrt(4)</code> => <code>12.47</code></p>\n\n<p><strong>Edit 2:</strong></p>\n\n<p><code>e</code> is a ExtJS object, passed through by a field in a grid, it contains the following variables: </p>\n\n<ul>\n<li><code>colIdx</code> (int)</li>\n<li><code>column</code> (<a href=\"http://ext.exxica.com/docs/index.html#!/api/Ext.grid.column.Column\" rel=\"nofollow\">Ext.grid.column.Column</a>)</li>\n<li><code>field</code> (string)</li>\n<li><code>grid</code> (<a href=\"http://ext.exxica.com/docs/index.html#!/api/Ext.grid.Panel\" rel=\"nofollow\">Ext.grid.Panel</a>)</li>\n<li><code>originalValue</code> (string)</li>\n<li><code>record</code> (<a href=\"http://ext.exxica.com/docs/index.html#!/api/Ext.data.Model\" rel=\"nofollow\">Ext.data.Model</a>)</li>\n<li><code>row</code> (css selector)</li>\n<li><code>rowIdx</code> (int)</li>\n<li><code>store</code> (<a href=\"http://ext.exxica.com/docs/index.html#!/api/Ext.data.Store\" rel=\"nofollow\">Ext.data.Store</a>)</li>\n<li><code>value</code> (string)</li>\n<li><code>view</code> (<a href=\"http://ext.exxica.com/docs/index.html#!/api/Ext.grid.View\" rel=\"nofollow\">Ext.grid.View</a>)</li>\n</ul>\n\n<p>Am currently unable to get the JSFiddle to work properly.</p>\n",
            "last_activity_date": 1377627140,
            "question_id": 18459798,
            "score": 3,
            "tags": [
                "javascript",
                "regex"
            ],
            "title": "Javascript: Regular Expression to parse a formula"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You should first consider this: the size of the upload is limited. The limit depends on browser, OS and server environment. You can have a look at this article: <a href=\"http://www.motobit.com/help/scptutl/pa98.htm\" rel=\"nofollow\">http://www.motobit.com/help/scptutl/pa98.htm</a></p>\n\n<p>In general you can try something like this:\nfirst we need a function to convert the dataURI to a blob:</p>\n\n<pre><code>function convertDataURItoBlob(dataURI) {\n        'use strict'\n\n        var byteString,\n            mimestring\n\n        if(dataURI.split(',')[0].indexOf('base64') !== -1 ) {\n            byteString = atob(dataURI.split(',')[1])\n        } else {\n            byteString = decodeURI(dataURI.split(',')[1])\n        }\n\n        mimestring = dataURI.split(',')[0].split(':')[1].split(';')[0]\n\n\n        var content = new Array();\n        for (var i = 0; i &lt; byteString.length; i++) {\n            content[i] = byteString.charCodeAt(i)\n        }\n        var rawContent = new Uint8Array(content),\n            returnBlob = new Blob([rawContent], {type: mimestring})\n\n        return returnBlob;\n\n}\n</code></pre>\n\n<p>and next a function for the upload of the file, using XMLHttpRequest2:</p>\n\n<pre><code>function upload(blob) {\n  var xhr = new XMLHttpRequest();\n  xhr.open('POST', '/yourServerEndPoint', true);\n  xhr.onload = function(e) { ... };\n\n  xhr.send(blob);\n}\n</code></pre>\n\n<p>Now you can pass your <code>strDataURI</code> to the first function and then upload the file with the second function.</p>\n\n<p>You can have a deeper look at XMLHTTPRequest2 here: <a href=\"http://www.html5rocks.com/en/tutorials/file/xhr2/\" rel=\"nofollow\">http://www.html5rocks.com/en/tutorials/file/xhr2/</a>\nand about the blob constructor here: <a href=\"https://developer.mozilla.org/en-US/docs/DOM/Blob\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/DOM/Blob</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You could always just break the image up into smaller sections and save those individually, which probably isn't a bad idea anyway. Basically you'd have a function that's something like</p>\n\n<pre><code>var largeCanvas = document.getElementById('yourGiantCanvas').getContext('2d'),\n    slice = document.createElement('canvas').getContext('2d');\n\nslice.canvas.width = 1000;\nslice.canvas.height = 1000;\n\nfor (var y=0; y &lt; canvas.height; y+=1000){\n  for (var x=0; x &lt; canvas.width; x+=1000){\n    slice.clearRect(0, 0, slice.canvas.width, slice.canvas.height);\n    slice.drawImage(largeCanvas.canvas, x, y, 1000, 1000, 0, 0, 1000, 1000);\n\n    var imagePiece = slice.canvas.toDataURL();\n\n    //Now just save the imagePiece however you normally were planning to\n    //and you can build the image again using these slices. You can create \n    //a much better user experience this way too. \n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'm not sure if there are limitation to canvas dimensions, but data urls have limitations depending on the browser: <a href=\"http://stackoverflow.com/questions/695151/data-protocol-url-size-limitations\">Data URL size limitations</a>.</p>\n\n<p>What you could try is using Node.js + node-canvas (server side) to recreate the canvas. I've been using these for creating printable images from canvas elements, and didn't have any problems/limitations using toDataURL so far.</p>\n\n<p>Are you using the fabric.js library? I noticed you posted on their forum as well.\nFabric.js can be used in Node.js and has a <a href=\"https://github.com/kangax/fabric.js/blob/master/src/static_canvas.class.js#L718-763\" rel=\"nofollow\">toDataURLWithMultiplier</a> method, which scales the canvas/context allowing you to change the dataurl image size. You can check the method source to see how this is done.</p>\n\n<h3>Edit:</h3>\n\n<p>Since you're using fabric.js I would suggest using Node.js to handle the canvas to image processing on the server. You'll find more info on how to use fabric.js on Node.js <a href=\"http://fabricjs.com/fabric-intro-part-4/#node\" rel=\"nofollow\">here</a>.</p>\n\n<p>Here is a simple server using Node.js and express:</p>\n\n<pre><code>var express = require('express'),\n    fs = require('fs'),\n    fabric = require('fabric').fabric,\n    app = express(),\n    port = 3000;\n\nvar allowCrossDomain = function (req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*');\n    res.header('Access-Control-Allow-Methods', 'POST, OPTIONS');\n    res.header('Access-Control-Allow-Headers', 'Content-Type');\n    next();\n}\n\napp.configure(function() {\n    app.use(express.bodyParser());\n    app.use(allowCrossDomain);\n});\n\napp.options('/', function(req, res) {\n    res.send(200);\n});\n\napp.post('/', function(req, res) {\n    var canvas = fabric.createCanvasForNode(req.body.width, req.body.height);\n\n    console.log('&gt; Loading JSON ...');\n    canvas.loadFromJSON(req.body.json, function() {\n        canvas.renderAll();\n\n        console.log('&gt; Getting PNG data ... (this can take a while)');\n        var dataUrl = canvas.toDataURLWithMultiplier('png', req.body.multiplier),\n            data = dataUrl.replace(/^data:image\\/png;base64,/, '');\n\n        console.log('&gt; Saving PNG to file ...');\n        var filePath = __dirname + '/test.png';\n        fs.writeFile(filePath, data, 'base64', function(err) {\n            if (err) {\n                console.log('! Error saving PNG: ' + err);\n                res.json(200, { error: 'Error saving PNG: ' + err });\n            } else {\n                console.log('&gt; PNG file saved to: ' + filePath);\n                res.json(200, { success: 'PNG file saved to: ' + filePath });\n            }\n        });\n    });\n});\n\napp.listen(port);\nconsole.log('&gt; Server listening on port ' + port);\n</code></pre>\n\n<p>When the server is running you can send data to it (<code>postData</code>).\nThe server expects <code>json</code>, <code>width</code> and <code>height</code> to recreate the canvas, and a <code>multiplier</code> to scale the data url image. The client side code would look something like this:</p>\n\n<pre><code>var postData = {\n    json: canvas.toJSON(),\n    width: canvas.getWidth(),\n    height: canvas.getHeight(),\n    multiplier: 2\n};\n\n$.ajax({\n    url: 'http://localhost:3000',\n    type: 'POST',\n    contentType: 'application/json; charset=utf-8',\n    data: JSON.stringify(postData),\n    dataType: 'json',\n    success: function(data) {\n        console.log(data);\n    },\n    error: function(err) {\n        console.log(err);\n    }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I have a problem with .toDataURL() for large canvas. I want to enconde in base64 and decode on php file but if I have a large canvas the strDataURI var is empty.</p>\n\n<p>My code:</p>\n\n<pre><code>var strDataURI = canvas.toDataURL();\nstrDataURI = strDataURI.substr(22, strDataURI.length);\n$.post(\"save.php\",\n{ \n   str: strDataURI\n};\n</code></pre>\n\n<p>Is there any alternative to .toDataURL() or some way to change the size limit?</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1366751734,
            "question_id": 16156402,
            "score": 3,
            "tags": [
                "javascript",
                "node.js",
                "canvas",
                "html5-canvas",
                "fabricjs"
            ],
            "title": "canvas.toDataURL() for large canvas"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>So far you're not actually using any of the tools that Apache Cordova gives you for making plugins and are just trying to bolt on a class with the standard Android SDK.  If you are looking to add functionality, I recommend writing a plugin, because of the following reasons:</p>\n\n<ul>\n<li>Apache Cordova has alternate ways of communication between the WebView and Java so that it still works even when addJavascriptInterface fails</li>\n<li>You don't need to override things</li>\n</ul>\n\n<p>I highly recommend you read this and move your custom Java code to a plugin: <a href=\"http://docs.phonegap.com/en/2.5.0/guide_plugin-development_android_index.md.html\" rel=\"nofollow\">http://docs.phonegap.com/en/2.5.0/guide_plugin-development_android_index.md.html</a></p>\n\n<p>However, the main bug in you example is by using a WebView in your class instead of a CordovaWebView.  A WebView doesn't have a working sendJavascript method and the only simple way of sending the Javascript back is by using loadUrl.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Firstly, you are using a <code>Plugin</code> subclass. <code>Plugin</code> has been deprecated and has been replaced with <code>CordovaPlugin</code>. If you're using an old version of PhoneGap, I would recommend that you upgrade.</p>\n\n<p>Secondly, your exec call is wrong. The docs for plugin development clearly state that you have to pass 5 parameters, while you're passing 3 nulls. How do you expect that to be handled?</p>\n\n<pre><code>cordova.exec(function(winParam) {}, function(error) {}, \"service\",\n             \"action\", [\"firstArgument\", \"secondArgument\", 42,\n             false]);\n</code></pre>\n\n<p>Here, the <code>service</code>, <code>action</code> and the array of parameters determine what will happen in your Java code. The first two determine what will happen in JavaScript under certain conditions. So, while you can use null for the first two, you have to specify the last three.</p>\n\n<p>I have a working example plugin that works with PhoneGap 2.3.0. See the code below:</p>\n\n<pre><code>public class ExampleJSCommunicator extends CordovaPlugin {\n\n    public boolean execute (final String action, final JSONArray args, CallbackContext callbackContext) throws JSONException {\n        PluginResult.Status status = PluginResult.Status.OK;\n        String result = \"\";\n\n        cordova.getActivity ().runOnUiThread (new Runnable () {\n            @Override\n            public void run() {\n                try {\n                    String displayText = \"\";\n                    if (action.equals (\"buttonClicked\")) {\n                        displayText = args.getString(0) + \" was clicked\";\n                    }\n\n                    else if (action.equals (\"animationRunning\")) {\n                        displayText = args.getBoolean(0) ? \"Animation started running\" : \"Animation stopped running\";\n                    }\n\n                    TextView label = (TextView) cordova.getActivity().findViewById (R.id.textView);\n                    label.setText (displayText + \" and the Activity knows it!\");\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n\n        return true;\n    }\n}\n</code></pre>\n\n<p>With the code above, you have your Java-side plugin capable of handling two custom \"actions\"  - <code>buttonClicked</code> and <code>animationRunning</code>. These actions serve my purposes, but you could name them otherwise.</p>\n\n<p>Now, you still need to register your plugin, so that Cordova will know about it. This is done in the <code>xml/config.xml</code> file. Under <code>plugins</code>, you have to add the following:</p>\n\n<pre><code>&lt;plugin name=\"ExampleJSCommunicator\" value=\"com.example.phonegap.ExampleJSCommunicator\"/&gt;\n</code></pre>\n\n<p>Then you can pass data (or \"actions\") from JavaScript as follows. Note that the parameters (<code>which.id</code> and <code>animationRunning</code> are passed in an array):</p>\n\n<pre><code>cordova.exec (null, null, \"ExampleJSCommunicator\", \"buttonClicked\", [which.id]);  // my first action\ncordova.exec (null, null, \"ExampleJSCommunicator\", \"animationRunning\", [animationRunning]);  // my second action\n</code></pre>\n\n<p>These two <code>exec</code> calls will trigger the execute method in the <code>ExampleJSCommunicator</code> class and will get handled in the respective if blocks. It doesn't matter where you call exec, as long as you declare your JavaScript code after you include the cordova.js file. My JavaScript is contained within a separate main.js file and it works just fine:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" charset=\"utf-8\" src=\"cordova.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" charset=\"utf-8\" src=\"main.js\"&gt;&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I have and application built with <code>PhoneGap</code>, and I'm trying to communicate with <code>Javascript</code> from native code.</p>\n\n<p>in my <code>DroidGap</code> extending class:</p>\n\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    Logger.log(\"oncreate\");\n    super.onCreate(savedInstanceState);\n    super.init();\n    super.appView.getSettings().setJavaScriptEnabled(true);\n    super.appView.getSettings().setSupportZoom(true);\n    super.appView.getSettings().setBuiltInZoomControls(true);\n    super.appView.getSettings().setDisplayZoomControls(false);\n    jsinterface = new CommunicationInterface(this, appView);\n    super.appView.addJavascriptInterface(jsinterface, \"communicationinterface\"); \n}\n</code></pre>\n\n<p>the javascriptinterface:</p>\n\n<pre><code>public class CommunicationInterface {\n    private WebView mAppView;\n    private DroidGap mGap;\n\n    public CommunicationInterface(DroidGap gap, WebView view)  {\n        mAppView = view;\n        mGap = gap;\n    }\n\n    public String getTestString() {\n        return \"teststring\";\n    }\n\n    public void parse(Object o) {\n        Logger.log(o);\n    }\n}\n</code></pre>\n\n<p>The <code>Javacript</code> is located in an external file (I create an HTML file which has this line in the <code>header</code>: <code>&lt;script type=\"text/javascript\" src=\"scripts.js\"&gt;&lt;/script&gt;</code>)</p>\n\n<p><code>Scripts.js</code>: </p>\n\n<pre><code>function sendToInterface() {\n    alert(\"alert\");\n    var map = new Object();\n    (...)\n    window.communicationinterface.parse(map); //communication js -&gt; android seems to work.\n}\n</code></pre>\n\n<p>I read in other posts that it's possible to communicate between PhoneGap and Android, but thusfar I've not had any success. I did manage to create an alert, but that was with <code>loadUrl(\"javascript:alert('Alert');\")</code>, but I've also read that you shouldn't do because that's what <code>sendJavascript()</code> is for (and it causes leaks, reloads page, etc). I've tried to shoot a couple of Strings through the <code>sendJavascript()</code> method, but to no avail:</p>\n\n<ul>\n<li><code>sendJavascript(\"javascript:alert('Alert');\")</code></li>\n<li><code>sendJavascript(\"javascript:sendToInterface();\")</code></li>\n<li><code>sendJavascript(\"sendToInterface();\")</code></li>\n<li><code>sendJavascript(\"window.sendToInterface();\")</code></li>\n</ul>\n\n<p>How to communicate from native -> PhoneGap (or what's wrong with what I already have)? Thusfar other posts and questions haven't helped me with this particular problem.</p>\n\n<p>Read:</p>\n\n<ul>\n<li><a href=\"http://www.jumpbyte.com/2012/phonegap-native-to-javascript/\" rel=\"nofollow\">http://www.jumpbyte.com/2012/phonegap-native-to-javascript/</a></li>\n<li><a href=\"http://stackoverflow.com/questions/15603395/phonegap-processmessage-failed-unable-to-send-javascript-function-cordova-2\">Phonegap: &quot;processMessage failed&quot; unable to send javascript function (Cordova 2.5.0)</a></li>\n<li><a href=\"http://stackoverflow.com/questions/2727763/communication-between-android-java-and-phonegap-javascript\">Communication between Android Java and Phonegap Javascript?</a> (although this is the other direction, but I'm trying to do both)</li>\n<li><a href=\"http://www.intelligrape.com/blog/2013/01/31/using-sendjavscript-to-inject-javascript-into-android-phonegap-application/\" rel=\"nofollow\">http://www.intelligrape.com/blog/2013/01/31/using-sendjavscript-to-inject-javascript-into-android-phonegap-application/</a></li>\n<li><a href=\"http://stackoverflow.com/questions/8271536/phonegap-android-calling-javascript-from-native-causes-leakedwindow\">Phonegap - Android - Calling javascript from native causes leakedwindow</a></li>\n<li><a href=\"http://stackoverflow.com/questions/11716167/how-to-call-javascript-function-from-android-using-phonegap-plugin\">how to call javascript function from android using phonegap plugin </a></li>\n</ul>\n\n<p><strong>EDIT</strong></p>\n\n<p>I wrote a working project:</p>\n\n<p>Java part</p>\n\n<pre><code>import org.apache.cordova.DroidGap;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport android.os.Bundle;\nimport android.util.Log;\n\npublic class App extends DroidGap {\n  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    super.loadUrl(\"file:///sdcard/ds/index.html\");\n    System.out.println(\"loading from sdcard\");\n    Thread t = new Thread() {\n      public void run() {\n        try {\n          for (int i = 0; i &lt; 3; i++) {\n            sleep(2000);\n            sendValue(\"value \" + i, \"another vlaue \" + i);\n          }\n        } catch (Exception e) {\n          e.printStackTrace();\n        }\n      };\n    };\n    t.start();\n  }\n\n  public void sendValue(String value1, String value2) {\n\n    System.out.println(\"sendvalue in app\");\n    JSONObject data = new JSONObject();\n    try {\n      data.put(\"value1\", value1);\n      data.put(\"value2\", value2);\n    } catch (JSONException e) {\n      Log.e(\"CommTest\", e.getMessage());\n    }\n    String js = String.format(\"window.plugins.appcomm.updateValues('%s');\",\n        data.toString());\n    this.sendJavascript(js);\n  }\n}\n\nimport org.apache.cordova.api.Plugin;\nimport org.apache.cordova.api.PluginResult;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport android.util.Log;\n\npublic class AppComm extends Plugin{\n\n  private static AppComm instance;\n\n  public AppComm () {\n    instance = this;\n  }\n\n  public static AppComm getInstance() {\n    return instance;\n  }\n\n  @Override\n  public PluginResult execute(String action, JSONArray args, String callbackId) {\n    System.out.println(\"in execute from appcomm\");\n\n\n    return null;\n  }\n\n  public void sendValue(String value1, String value2) {\n    System.out.println(\"sendvalue in appComm\");\n    JSONObject data = new JSONObject();\n    try {\n      data.put(\"value1\", value1);\n      data.put(\"value2\", value2);\n    } catch (JSONException e) {\n      Log.e(\"CommTest\", e.getMessage());\n    }\n    String js = String.format(\n        \"window.plugins.commtest.updateValues('%s');\",\n        data.toString());\n    this.sendJavascript(js);\n  }\n}\n</code></pre>\n\n<p>res/xml/plugins.xml</p>\n\n<pre><code>&lt;plugins&gt;\n    &lt;plugin name=\"App\" value=\"org.apache.cordova.App\"/&gt;\n    &lt;plugin name=\"Geolocation\" value=\"org.apache.cordova.GeoBroker\"/&gt;\n    &lt;plugin name=\"Device\" value=\"org.apache.cordova.Device\"/&gt;\n    &lt;plugin name=\"Accelerometer\" value=\"org.apache.cordova.AccelListener\"/&gt;\n    &lt;plugin name=\"Compass\" value=\"org.apache.cordova.CompassListener\"/&gt;\n    &lt;plugin name=\"Media\" value=\"org.apache.cordova.AudioHandler\"/&gt;\n    &lt;plugin name=\"Camera\" value=\"org.apache.cordova.CameraLauncher\"/&gt;\n    &lt;plugin name=\"Contacts\" value=\"org.apache.cordova.ContactManager\"/&gt;\n    &lt;plugin name=\"File\" value=\"org.apache.cordova.FileUtils\"/&gt;\n    &lt;plugin name=\"NetworkStatus\" value=\"org.apache.cordova.NetworkManager\"/&gt;\n    &lt;plugin name=\"Notification\" value=\"org.apache.cordova.Notification\"/&gt;\n    &lt;plugin name=\"Storage\" value=\"org.apache.cordova.Storage\"/&gt;\n    &lt;plugin name=\"Temperature\" value=\"org.apache.cordova.TempListener\"/&gt;\n    &lt;plugin name=\"FileTransfer\" value=\"org.apache.cordova.FileTransfer\"/&gt;\n    &lt;plugin name=\"Capture\" value=\"org.apache.cordova.Capture\"/&gt;\n    &lt;plugin name=\"Battery\" value=\"org.apache.cordova.BatteryListener\"/&gt;\n    &lt;plugin name=\"SplashScreen\" value=\"org.apache.cordova.SplashScreen\"/&gt;\n\n    &lt;plugin name=\"AppComm\" value=\"com.example.plugin.AppComm\"/&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p>cordova.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;cordova&gt;\n    &lt;access origin=\".*\"/&gt; &lt;!-- allow local pages --&gt;\n    &lt;log level=\"DEBUG\"/&gt;\n    &lt;preference name=\"classicRender\" value=\"true\" /&gt;\n&lt;/cordova&gt;\n</code></pre>\n\n<p>Index.html header</p>\n\n<pre><code>&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1.0\" /&gt;\n    &lt;title&gt;\n    &lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.css\" /&gt;\n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\"&gt;\n    &lt;/script&gt;\n    &lt;script src=\"http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js\"&gt;\n    &lt;/script&gt;\n    &lt;script type=\"text/javascript\" charset=\"utf-8\" src=\"cordova.js\"&gt;&lt;/script&gt;   \n    &lt;script type=\"text/javascript\" charset=\"utf-8\"&gt;\n    var AppComm=function(){};\n\n    AppComm.prototype.updateValues=function(a){\n    var map = new Object();\n    map[\"X1\"] = \"hallo\";\n    map[\"X2\"] = \"hi\";\n    cordova.exec(null, null, null);\n    };\n\n    cordova.addConstructor(function(){cordova.addPlugin(\"appcomm\",new AppComm)});\n    &lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>One of the problems was that javascript was in a separate file (I think that was one of the problems). If it isn't to much to ask, how can I properly call java back, and with what values? How to implement the execute method and how to call it (I'm really bad at JQuery)?</p>\n",
            "last_activity_date": 1365600301,
            "question_id": 15852499,
            "score": 3,
            "tags": [
                "javascript",
                "android",
                "cordova"
            ],
            "title": "Javascript calls from Android using PhoneGap"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You cannot initalize <code>socket.io</code> server like <code>https</code> server. You have to start a separate https server and then attach socket.io server to it. </p>\n\n<pre><code>var https = require('https'),     \n    fs =    require('fs');        \n\nvar options = {\n    key:    fs.readFileSync('ssl/server.key'),\n    cert:   fs.readFileSync('ssl/server.crt'),\n    ca:     fs.readFileSync('ssl/ca.crt')\n};\nvar app = https.createServer(options);\nio = require('socket.io').listen(app);     //socket.io server listens to https connections\napp.listen(8895, \"0.0.0.0\");\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I have a node.js app, that uses socket.IO. It works fine on https, but when trying to connect to the socket through https - nothing happens.<br>\nHere's some part of the code:  </p>\n\n<pre><code>var fs = require('fs');  \n\nvar ioHttp = require('socket.io').listen(8899, {  \n  'flash policy port': -1  \n});  \n\ninitSocket(ioHttp);  \n\nvar ioHttps = require('socket.io').listen(8895, {  \n   key: fs.readFileSync('/path/to/file/file.key'),  \n   cert: fs.readFileSync('/path/to/file/file.crt'),  \n   ca: [  \n        fs.readFileSync('/path/to/file/sub.class1.server.ca.pem'),  \n        fs.readFileSync('/path/to/file/ca.pem')  \n   ],  \n  'flash policy port': -1   \n});  \n\ninitSocket(ioHttps);  \n</code></pre>\n\n<p>and the <code>initSocket</code> function:  </p>\n\n<pre><code>function initSocket(io) {  \n  io.enable('browser client minification');  \n  io.enable('browser client etag');  \n  io.enable('browser client gzip');  \n\n  io.set('transports', [  \n        'websocket'  \n        , 'htmlfile'  \n        , 'flashsocket'  \n        , 'jsonp-polling'  \n  ]);  \n\n  io.sockets.on('connection', function(client) {\n    //the connnection is handled here\n  });  \n}\n</code></pre>\n\n<p>The client connect like this:   </p>\n\n<pre><code>var secureConnection = false;  \nvar port = 8899;\nif(window.location.protocol === 'https:') {  \n  port = 8895;\n  secureConnection = true;\n}\n\nvar socket = io.connect('domain.org', {port: port, secure: secureConnection});\n</code></pre>\n\n<p>As I said everything works fine on http, but connecting on https gives me \"The connection was interrupted\". What am I doing wrong?</p>\n",
            "last_activity_date": 1363445604,
            "question_id": 15449234,
            "score": 3,
            "tags": [
                "javascript",
                "node.js",
                "websocket",
                "socket.io"
            ],
            "title": "Socket.IO can&#39;t connect through https"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>One way to do path drawing animation in d3 is to use the dash-array and dash-offset attributes.</p>\n\n<p>What you can do is set the dashoffset to the total path length, then decrease the dashoffset over time until it is zero. This will simulate the path being drawn. Check out the SVG docs on <a href=\"https://developer.mozilla.org/en-US/docs/SVG/Attribute/stroke-dasharray\">stroke-dasharray</a> and <a href=\"https://developer.mozilla.org/en-US/docs/SVG/Attribute/stroke-dashoffset\">stroke-dashoffset</a>.</p>\n\n<p>Conceptually, what you are doing is this:</p>\n\n<p>Say your line is 4 units long (----). You are setting the dasharray to be (----,,,,) i.e. four units and then four spaces. You set the dashoffset to be 4 units, so the line will lie 4 units to the left of the visible space. Then, as you decrease dashoffset to 0, the line will look like (-,,,,) and then (--,,,,) and so on until the whole line is drawn.</p>\n\n<pre><code>var line = d3.svg.line()\n.x(function(d) { return x(d.date); })\n.y(function(d) { return y(d.price); });\n\nvar path = svg.append(\"path\")\n                  .attr(\"d\", line(data))\n                  .classed(\"line\", true);\n\nvar pathLength= path.node().getTotalLength();\n\npath\n  .attr(\"stroke-dasharray\", pathLength + \" \" + pathLength)\n  .attr(\"stroke-dashoffset\", pathLength)\n  .transition()\n  .duration(2000)\n  .ease(\"linear\")\n  .attr(\"stroke-dashoffset\", 0);\n</code></pre>\n\n<p>-</p>\n\n<p>Learned from <a href=\"http://stackoverflow.com/users/524555/duopixel\" title=\"Duopixel\">Duopixel's</a> post <a href=\"http://stackoverflow.com/questions/13353665/cant-make-paths-draw-slowly-with-d3\" title=\"cant make paths draw slowly with d3\">here</a>.</p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I am trying to implement a simple path transition as shown <a href=\"http://blog.visual.ly/wp-content/uploads/2012/06/transitions.html#13\" rel=\"nofollow\">here</a>. I'm no javascript nor d3 magician, so I tried to give it my best shot:</p>\n\n<pre><code>var line = d3.svg.line()\n    .x(function(d) { return x(d.date); })\n    .y(function(d) { return y(d.price); });\n\nsvg.append(\"path\")\n  .datum(data)\n  .attr(\"class\", \"line\")\n  .attr(\"d\", line)\n  .transition().duration(next.duration||1000).delay(next.delay||0); # not right\n</code></pre>\n\n<p>How do I get the transition to work properly?</p>\n",
            "last_activity_date": 1386833222,
            "question_id": 13408144,
            "score": 3,
            "tags": [
                "javascript",
                "d3.js"
            ],
            "title": "Simple path transition"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You need to include a CSRF (cross-site request forgery) token in your ajax call. This is well documented here: <a href=\"https://docs.djangoproject.com/en/dev/ref/contrib/csrf/\" rel=\"nofollow\">https://docs.djangoproject.com/en/dev/ref/contrib/csrf/</a></p>\n\n<p>or, if you want to use a quick fix, use the @csrf_exempt decorator for your view:</p>\n\n<pre><code>from django.views.decorators.csrf import csrf_exempt\n\n@csrf_exempt\ndef my_view(request):\n   ...\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The answer to your question what you are doing wrong, is: not much!</p>\n\n<p>Django returns a 403 response (Forbidden) if an incoming POST request fails Csrf checks.\nYou can do this through jQuery's ajaxSetup, code snippets are found <a href=\"https://docs.djangoproject.com/en/dev/ref/contrib/csrf/\" rel=\"nofollow\">here</a></p>\n\n<p>The reason that this DOES work on a GET request, is simply that GET requests are not checked by the csrf middleware.</p>\n\n<p>As it seems you are building a form here, another thing to consider is using class based forms. They handle get/post and also parameter validation for you. Very neat. Especially when you are making forms to edit/create/delete model instances, in which case you can embrace the power of <a href=\"https://docs.djangoproject.com/en/dev/topics/forms/modelforms/#modelform\" rel=\"nofollow\">ModelForms</a> and CreateViews. Very neat.</p>\n\n<p>It might take some time to get the hang of those generic class based views. But it's very well worth it.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<pre><code>$.ajax({\n    url:'/',\n    type: \"POST\",\n    data: {name: 'name', age: 'age'},\n    success:function(response){},\n    complete:function(){},\n    error:function (xhr, textStatus, thrownError){}\n});\n</code></pre>\n\n<p>And in views.py:</p>\n\n<pre><code>class SomeView(generic_views.TemplateView):\n    template_name = 'something.html'\n\n    def get(self, request, *args, **kwargs):\n        ...something...\n        return self.render_to_response(context)\n\n    def post(self, request, *args, **kwargs):\n        name = request.POST['name']\n        age = request.POST['age']\n        ...something...\n</code></pre>\n\n<p>And I get: <b>[05/Oct/2012 12:03:58] \"POST /something/ HTTP/1.1\" 403 2294</b></p>\n\n<p>I'd like to send this data(name and age) via jQuery to this post function in \"SomeView\". This is the same view as the loaded template, just the request type is different. On get() the template loads and on post, the post() function should be called. Is it possible? I've checked other questions and got this solution. It was supposed to be working. What am I doing wrong?</p>\n",
            "last_activity_date": 1349432667,
            "question_id": 12744159,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "django",
                "post",
                "request"
            ],
            "title": "Django jQuery post request"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can use the newly released <a href=\"https://chadkillingsworth.github.io/geolocation-marker/\" rel=\"nofollow\">GeolocationMarker</a> which is part of the <a href=\"http://googlemaps.github.io/libraries\" rel=\"nofollow\">Google Maps API Utility Library</a>.</p>\n\n<p>It will add a marker and accuracy circle at the user's current location. It also allows a developer to customize the marker using the <code>setMarkerOptions</code> method and specifying an <code>icon</code> property.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>You can use <a href=\"https://developers.google.com/maps/documentation/javascript/reference?hl=pt-BR#MarkerOptions\" rel=\"nofollow\">MarkerOptions</a> to set  a custom image. Check the <a href=\"https://developers.google.com/maps/documentation/javascript/reference?hl=pt-BR\" rel=\"nofollow\">Google Maps Javascript API V3 Reference</a> to more details about Google Maps.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am using following code to get the location of user in phonegap (it works fine)</p>\n\n<pre><code>function getLocation() {\n    var win = function(position) {\n        var lat = position.coords.latitude;\n        var long = position.coords.longitude;\n        var myLatlng = new google.maps.LatLng(lat, long);\n\n        var myOptions = {\n           center: myLatlng,\n           zoom: 7,\n           mapTypeId : google.maps.MapTypeId.ROADMAP\n        };\n        var  map_element = document.getElementById(\"displayMap\");\n        var map = new google.maps.Map(map_element, myOptions);\n    };\n\n    var fail = function(e) {\n        alert('Error: ' + e);\n    };\n\n    var watchID = navigator.geolocation.getCurrentPosition(win, fail);\n}\n</code></pre>\n\n<p>This is working fine by centering the user's current location on the map. But I would like to show an indicator (a red dot) on the user's location. But I can see that google API provide only 3 options center, zoom and mapTypeId. </p>\n\n<p>Are there any available options that can be used to highlight the position or is there a workaround?  </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Was able to find that google maps API has a marker ho highlight any position. That looks helpful, but that shows a default red balloon, can that be modified by a custom image?</p>\n",
            "last_activity_date": 1421334639,
            "question_id": 12175931,
            "score": 3,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3",
                "geolocation"
            ],
            "title": "How to highlight a user&#39;s current location in google maps?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The comma operator returns the value of the last operand, so the value of <code>0, myVar</code> is the same as the value of <code>myVar</code>. The value of the first operand is evaluated, but in this case it does of course not accomplish anything.</p>\n\n<p>The comma operator is used sometimes when the first operand actually does something, like initialising two variables in a loop:</p>\n\n<pre><code>for (i = 0, j = 42; i &lt; 10; i++, j--) ...\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>This syntax is using the comma operator, <code>,</code>. It evaluate all of its operands and returns the value of the last one. In this case, 0 is just being used as a placeholder so <code>(0, function() {})</code> will return <code>(function() {})</code>. After it is evaluated, the <code>(args)</code> part is invoking the function and giving it its arguments.</p>\n\n<p><strong>Edit after comment:</strong></p>\n\n<p>The reason one would use this style of coding is so that they can execute the code quickly or on one line. Here is an example:</p>\n\n<pre><code>var a = 0,\n    b = 1,\n    c;\n\nc = ( a++, b++, a + 2 ); // a is added, b is added, and a is added then returned\n\na; // 1\nb; // 2\nc; // 3\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Just checking Google's JavaScript code and I've found this syntax:</p>\n\n<pre><code>var myVar = function...;\n(0, myVar)(args);\n</code></pre>\n\n<p>Do you know the meaning of this syntax?\nI cannot find the difference between\n<code>(0, myVar)(args);</code>\nand\n<code>myVar(args);</code>.</p>\n\n<p>To give an exact example, we have</p>\n\n<pre><code>_.x3 = function (a, b) {\n    return new _.q3(20 * b.x + a.B.B.x, 20 * b.y + a.B.B.y)\n};\n</code></pre>\n\n<p>And later</p>\n\n<pre><code>this.ta = new _.s3((0, _.x3)(this.fa, this.B.B), 0);\n</code></pre>\n",
            "last_activity_date": 1342614848,
            "question_id": 11541134,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "Javascript syntax (0, fn)(args)"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Stackoverflow used this technique for its unicorn animations last april fools day.  I preserved the animations <a href=\"http://jumpingfishes.com/dancingpurpleunicorns/\">on my website</a>.  The animation code is my own - I didn't look at how stackoverflow was doing it.</p>\n\n<p>The concept is to create a sprite, and then change the background position on an interval.</p>\n\n<p><img src=\"http://jumpingfishes.com/dancingpurpleunicorns/charging_clip.png\" alt=\"sprite\"></p>\n\n<pre class=\"lang-css prettyprint-override\"><code>#animation {\n    background-image: url(charging.png);\n    background-repeat: no-repeat;\n    height: 102px;\n    width: 140px;\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>function startAnimation() {\n    var frameHeight = 102;\n    var frames = 15;\n    var frame = 0;\n    var div = document.getElementById(\"animation\");\n    setInterval(function () {\n        var frameOffset = (++frame % frames) * -frameHeight;\n        div.style.backgroundPosition = \"0px \" + frameOffset + \"px\";\n    }, 100);\n}\n</code></pre>\n\n<p><strong>Working demo:</strong> <a href=\"http://jsfiddle.net/twTab/\">http://jsfiddle.net/twTab/</a></p>\n\n<p><strong>Edit:</strong> If you don't want to create a sprite, here's an alternate technique you can use.  Put all of your animation frame images in a div and hide all but the first one.  In your <code>setInterval</code> function, move the first image to the end of the list:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>#animation img {\n    display: none;\n}\n#animation img:first-child {\n    display: block;\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=\"animation\"&gt;\n    &lt;img src=\"charging01.png /&gt;\n    &lt;img src=\"charging02.png /&gt;\n    &lt;img src=\"charging03.png /&gt;\n    ...\n&lt;/div&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>function startAnimation() { \n    var frames = document.getElementById(\"animation\").children;\n    var frameCount = frames.length;\n    var i = 0;\n    setInterval(function () { \n        frames[i % frameCount].style.display = \"none\";\n        frames[++i % frameCount].style.display = \"block\";\n    }, 100);\n}\n</code></pre>\n\n<p><strong>Working demo:</strong> <a href=\"http://jsfiddle.net/twTab/3/\">http://jsfiddle.net/twTab/3/</a></p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>You can use <a href=\"http://www.w3schools.com/jsref/met_win_setinterval.asp\" rel=\"nofollow\">setInterval</a> or <a href=\"https://developer.mozilla.org/en/DOM/window.setTimeout\" rel=\"nofollow\">setTimeout</a> to call a function which would replace the source of an image with another. Giving it an animated look.</p>\n\n<p>The problem in this case is that, if the images do not pre-exist on the page, they will flicker. Since the browser will have to load them in just like any other image. So you would have to <a href=\"http://perishablepress.com/press/2009/12/28/3-ways-preload-images-css-javascript-ajax/\" rel=\"nofollow\">preload your images</a>.</p>\n\n<p>A better solution may be to use a <a href=\"http://www.alistapart.com/articles/sprites\" rel=\"nofollow\">spritemap</a>. This means that you would have all of the different steps of the animation in one image (so no flicker). You would then use the <a href=\"http://www.w3schools.com/cssref/pr_background-position.asp\" rel=\"nofollow\">CSS background-position</a> (again, within a setInterval or setTimeout function) to change the position of the image.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is there a way to create a gif like image with javascript based on some png or jpg?</p>\n\n<p>Just a simple code that change one image for another, creating the impression of a animation, just like a gif.</p>\n\n<p>The idea is to use for generating a banner, so ill upload the pictures (thats done) and i need a code for this animation.</p>\n",
            "last_activity_date": 1330456891,
            "question_id": 9486961,
            "score": 3,
            "tags": [
                "javascript",
                "image",
                "animation"
            ],
            "title": "Animated Image with Javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><code>.load</code> loads the content into the destination element, which you seem not to want. You want to use <code>.get</code></p>\n\n<pre><code>$.get(url, function() {\n    var author = $('meta[name=Author]').attr('content');\n    // do what you need with author\n})\n</code></pre>\n\n<p>Edit: after being pointed out that this code fetches data from the current page and not the desired one, I tried something like this:</p>\n\n<pre><code>$.get(url, function(result) {\n    var author = $(result).find('meta[name=Author]').attr('content');\n});\n</code></pre>\n\n<p>but it turns out that, even though result has a meta tag, the find doesn't return anything. Trying to find a div <code>$(result).find('div')</code> works fine though. A possibility is appending the result to a dom element and querying:</p>\n\n<pre><code>$.get(url, function(result) {\n    var dom = $('&lt;div&gt;&lt;/div&gt;').html(result);\n    var author = dom.find('meta[name=Author]').attr('content');\n});\n</code></pre>\n\n<p>It works but it's deadly slow. I would recommend a server side approach to retrieve these data. A client side solution would make X requests if you have X links, that's probably a waste.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>you are right, from the docs:</p>\n\n<blockquote>\n  <p>jQuery uses the browser's .innerHTML property to parse the retrieved\n  document and insert it into the current document. During this process,\n  browsers often filter elements from the document such as html,\n  title, or head elements. As a result, the elements retrieved by\n  .load() may not be exactly the same as if the document were retrieved\n  directly by the browser.</p>\n</blockquote>\n\n<p>You could create a small serverside script which fetches the document and does the html parsing for you and returns the metadata accordingly. You can then call this script via ajax.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use the <code>load</code> event in two stages:</p>\n\n<pre><code>$(\"#your-target\").load(\"{URLHERE} meta[name='Author']\", function(response, status, xhr){\n    var $meta = $(\"meta\", this);\n\n    $(this).text($meta.attr(\"content\"));\n\n    $meta.remove();\n});\n</code></pre>\n\n<p>This will first load the <code>meta</code> tag into your destination and by using the <code>complete</code> <code>callback</code>, you can get the value of the Author attribute.</p>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>On my website all the pages have an author in the <code>&lt;head&gt;</code>:</p>\n\n<pre><code>&lt;meta name=\"Author\" content=\"Mark Brown\" /&gt;\n</code></pre>\n\n<p>I want to create a page of links and next to each call that page's Author metadata content value with jQuery.</p>\n\n<p>I tried this and it didn't work:</p>\n\n<pre><code>.load( '{URLHERE}' + $('meta[name=Author]').attr('content') )\n</code></pre>\n\n<p>Sorry I'm a JS Newbie. I seems that <code>.load()</code> only gets content inside the <code>body</code> tag? Is that right? Any ideas how I'd do this?</p>\n",
            "last_activity_date": 1327331420,
            "question_id": 8928786,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "xmlhttprequest"
            ],
            "title": "Can JavaScript be used to load another page&#39;s metadata content?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<pre><code>$(\"#div_element\").load('script.php');\n</code></pre>\n\n<p>demo: <a href=\"http://sandbox.phpcode.eu/g/2ecbe/3\">http://sandbox.phpcode.eu/g/2ecbe/3</a></p>\n\n<p>whole code:</p>\n\n<pre><code>&lt;div id=\"submit\"&gt;ajax&lt;/div&gt; \n&lt;div id=\"div_element\"&gt;&lt;/div&gt; \n&lt;script&gt; \n$('#submit').click(function(event){ \n   $(\"#div_element\").load('script.php?html=some_arguments');  \n\n}); \n&lt;/script&gt; \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p><a href=\"http://api.jquery.com/load/\">jQuery.load()</a> is probably the easiest way to load data asynchronously using a selector, but you can also use any of the jquery ajax methods (get, post, getJSON, ajax, etc.)</p>\n\n<p>Note that load allows you to use a selector to specify what piece of the loaded script you want to load, as in</p>\n\n<pre><code>$(\"#mydiv\").load(location.href + \" #mydiv\");\n</code></pre>\n\n<p>Note that this technically does load the whole page and jquery removes everything but what you have selected, but that's all done internally.</p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>I suppose what I am asking is really easy for most of you. I want to reload a div without reloading the entire page. What's the best way to do it?</p>\n\n<pre><code>&lt;div class=\"black_text\" id=\"cp_in_content_div\"&gt;\n&lt;?php\n$id = $_GET[\"id\"];\n$result = mysql_query(\"SELECT * FROM Setting WHERE ID = $id\");\n$row = mysql_fetch_array($result);\nswitch ($_GET[\"action\"])\n{\n    case \"delete\":\n    if (!unlink(\"$_SERVER[DOCUMENT_ROOT]setting/$row[Filename]\"))\n    {\n        echo \"Error.\";\n        header(\"Refresh: 2.5; URL=delete_setting.php?id=$id\");\n        exit();\n    }\n    if (!mysql_query(\"DELETE FROM Setting WHERE ID = $id\"))\n    {\n        echo \"Error.\";\n        header(\"Refresh: 2.5; URL=delete_setting.php?id=$id\");\n        exit();\n    }\n    else\n    {\n        echo \"Ok!\";\n        header(\"Refresh: 1.25; URL=index.php\");\n    }\n    break;\n    default:\n    echo \"form\";\n}\n?&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I need those header(\"Refresh:...\") to only reload the div instead of the page.</p>\n",
            "last_activity_date": 1314187639,
            "question_id": 7175038,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "html",
                "reload"
            ],
            "title": "How to reload a div without reloading the entire page?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>try to use global var windowRef outside the function openWindow(). Something like this:</p>\n\n<pre><code>var WindowRef = null;\n\nfunction openWindow(url, name, props) {\n  if(WindowRef == null){\n    WindowRef = window.open(url, name, props)\n  }\n  else{\n    WindowRef.document.location = url\n  }\n  if (!WindowRef.opener) {\n    WindowRef.opener = self;\n  }\n  WindowRef.focus();\n  return WindowRef;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>this is the hack that works that everyone on the internets is using:</p>\n\n<pre><code>function openWindow(url, name, props) {\n  if(/*@cc_on!@*/false){ //do this only in IE\n    var windowRef = window.open(\"\", name, props);\n    windowRef.close();\n  }\n  var windowRef = window.open(url, name, props);\n  if (!windowRef.opener) {\n    windowRef.opener = self;\n  }\n  windowRef.focus();\n  return windowRef;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I have the follow scenario:</p>\n\n<p>I click a link which:\nopens a popup window called 'popup' which loads a pdf inside of it (in IE6).</p>\n\n<p>without closing the popup, i click the link again, which should reopen the pdf inside the popup, but instead a javascript error in thrown:\n<strong>member not found</strong></p>\n\n<p>the javascript function used to open the popup is:</p>\n\n<pre><code>function openWindow(url, name, props) {\n  var windowRef = window.open(url, name, props);\n  if (!windowRef.opener) {\n    windowRef.opener = self;\n  }\n  windowRef.focus(); //error at this line, windowRef must be null\n  return windowRef;\n}\n</code></pre>\n\n<p>question:\nhow do i get around this, without opening a new popup window every time?</p>\n",
            "last_activity_date": 1244745768,
            "question_id": 960293,
            "score": 3,
            "tags": [
                "javascript",
                "internet-explorer-6",
                "popup"
            ],
            "title": "window.open() returns undefined or null on 2nd call"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You dont need 3.5 for the history control, <a href=\"http://weblogs.asp.net/scottgu/archive/2006/09/14/Tip%5F2F00%5FTrick%5F3A00%5F-Enabling-Back%5F2F00%5FForward%5F2D00%5FButton-Support-for-ASP.NET-AJAX-UpdatePanel.aspx\" rel=\"nofollow\">check ScottGu's blog here</a></p>\n\n<p>Also check if <a href=\"http://geekswithblogs.net/frankw/archive/2008/10/29/enable-back-button-support-in-asp.net-ajax-web-sites.aspx\" rel=\"nofollow\">this article helps</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>I've heard that this is usually solved by using an iframe instead of XMLHttpRequest. I don't know how to incorporate this advice in an ASP.Net webapp.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You do what the history plugin suggested above does. I'm assuming under the hood, this is what is going on. When your async-postback comes back to the client side for example, do a JavaScript call to window.location = 'somePage.aspx#anchor1' (an old school HTML anchor), then the next async-postback once back on the client would do window.location = 'somePage.aspx#anchor2', etc. GMail does this when it redirects to your inbox or other labels or folders in your e-mail.</p>\n\n<p>Hope that helps,\nNick</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have an asp.net ajax website, it full of things happen on the same page without page reload, such as sorting records, paging,...\nWhen the user go to another page in the same site and press the browser back button, how can i make the browser save the page state to return to it with the preselected options such as sorting option, page number in the paging.</p>\n\n<p>I knew that there is a history control in the new .net 3.5 but its working in the same page not while navigating from a page to another.\nAlso i am looking for a solution which work in all browsers.</p>\n\n<p>Thanks,</p>\n",
            "last_activity_date": 1247433440,
            "question_id": 648250,
            "score": 3,
            "tags": [
                ".net",
                "asp.net",
                "javascript",
                "html",
                "ajax.net"
            ],
            "title": "How to: Back button support &quot;Ajax&quot;"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>There maybe hacking involved, however, I tried to minimize them.</p>\n\n<p>To make wp_editor can work in dynamic html (which means without reload page, js changes the page structure), there are two major issues need to take care:</p>\n\n<ol>\n<li>tinymce</li>\n<li>qucik-tags</li>\n</ol>\n\n<p>For [tinymce]:</p>\n\n<p>a. need reset UI properly</p>\n\n<ul>\n<li><p>solution is [remove mce instance] -> [get proper mce settings] -> [re-init a new mce instance]</p></li>\n<li><p>in js code (id means textarea id): </p>\n\n<pre><code>tinymce.execCommand('mceRemoveEditor', true, id);\nvar init = tinymce.extend( {}, tinyMCEPreInit.mceInit[ id ] );\ntry { tinymce.init( init ); } catch(e){}\n</code></pre></li>\n</ul>\n\n<p>b. need data write back to textarea before submit</p>\n\n<ul>\n<li>solution is [bind click to button] -> on submt :: [turn off mce] -> [turn on submit]</li>\n<li><p>in js code:</p>\n\n<pre><code>jq('textarea[id=\"' + id + '\"]').closest('form').find('input[type=\"submit\"]').click(function(){\n    if( getUserSetting( 'editor' ) == 'tmce' ){\n        var id = mce.find( 'textarea' ).attr( 'id' );\n        tinymce.execCommand( 'mceRemoveEditor', false, id );\n        tinymce.execCommand( 'mceAddEditor', false, id );\n    }\n    return true;\n});\n</code></pre></li>\n</ul>\n\n<p>For [Quick Tags]:</p>\n\n<p>a. Re-init tags</p>\n\n<ul>\n<li>[Get settings] -> [setup mouse event] -> [re-init QTags]</li>\n</ul>\n\n<p>b. Switch to proper tab (mce tab or quick tag tab)</p>\n\n<ul>\n<li><p>[switch to current tab mode]</p></li>\n<li><p>both above in js code:</p>\n\n<pre><code>if ( typeof(QTags) == 'function' ) {\n    jq( '[id=\"wp-' + id + '-wrap\"]' ).unbind( 'onmousedown' );\n    jq( '[id=\"wp-' + id + '-wrap\"]' ).bind( 'onmousedown', function(){\n        wpActiveEditor = id;\n    });\n    QTags( tinyMCEPreInit.qtInit[ id ] );\n    QTags._buttonsInit();\n    switchEditors.switchto( jq( 'textarea[id=\"' + id + '\"]' ).closest( '.widget-mce' ).find( '.wp-switch-editor.switch-' + ( getUserSetting( 'editor' ) == 'html' ? 'html' : 'tmce' ) )[0] );\n}\n</code></pre></li>\n</ul>\n\n<p>Also, please remember if you use ajax, every time post back mce UI, you need re-do [reset mce UI] and [Qtags] in you js.\nA easy solution is using js code in you post back html, and detect in php of:</p>\n\n<p><code>$isAjax = defined( 'DOING_AJAX' ) &amp;&amp; DOING_AJAX == true );</code></p>\n\n<p>About default settings in js value:</p>\n\n<ol>\n<li><p>mce : <code>tinyMCEPreInit.mceInit</code></p></li>\n<li><p>qtags : <code>tinyMCEPreInit.qtInit</code></p></li>\n</ol>\n\n<p>If you try to use default setting for widget mode, you need locate default settings.</p>\n\n<p>To get widget template id, in js code:</p>\n\n<pre><code>function getTemplateWidgetId( id ){\n        var form = jQuery( 'textarea[id=\"' + id + '\"]' ).closest( 'form' );\n        var id_base = form.find( 'input[name=\"id_base\"]' ).val();\n        var widget_id = form.find( 'input[name=\"widget-id\"]' ).val();\n        return id.replace( widget_id, id_base + '-__i__' );\n}\n</code></pre>\n\n<p>So you can get settings by:</p>\n\n<ol>\n<li><p>for mce:</p>\n\n<pre><code>var init;\nif( typeof tinyMCEPreInit.mceInit[ id ] == 'undefined' ){\n    init = tinyMCEPreInit.mceInit[ id ] = tinymce.extend( {}, tinyMCEPreInit.mceInit[ getTemplateWidgetId( id ) ] );\n}else{\n    init = tinyMCEPreInit.mceInit[ id ];\n}\n</code></pre></li>\n<li><p>For Qtags:</p>\n\n<pre><code>var qInit;\nif( typeof tinyMCEPreInit.qtInit[ id ] == 'undefined' ){\n    qInit = tinyMCEPreInit.qtInit[ id ] = jq.extend( {}, tinyMCEPreInit.qtInit[ getTemplateWidgetId( id ) ] );\n    qInit['id'] = id;\n}else{\n    qInit = tinyMCEPreInit.qtInit[ id ];\n}\n</code></pre></li>\n</ol>\n\n<p>For the complete code sample, please check : <a href=\"https://github.com/hezachary/wordpress-wysiwyg-widget/blob/master/widget_wp_editor.class.php\" rel=\"nofollow\">https://github.com/hezachary/wordpress-wysiwyg-widget/blob/master/widget_wp_editor.class.php</a></p>\n\n<p>If anyone want use wp_editor in menu walk for admin, the principle should be the same.</p>\n\n<p>If you have any question or better solut please comment, thanks.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>This is an answer/solution rather than a question, still there maybe some bugs, even I tried on my dev env.</p>\n\n<p>I recently try to use wp_editor in widget/menu, after some search, I did not find a complete solution as I want.</p>\n\n<p>I would share my solution in below after I dig into wp's code by hours:</p>\n",
            "last_activity_date": 1403258928,
            "question_id": 21519322,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "wordpress",
                "wysiwyg"
            ],
            "title": "use wordpress wp_editor in dynamic/ajax html"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Try this</p>\n\n<p>You can use window.onbeforeunload event to call any function\nHowever, alert,prompt,confirm boxes are not allowed.\nyou can return any string, to show any message.</p>\n\n<pre><code>//var _close = window.onbeforeunload;  \nwindow.onbeforeunload = function () {\n   // window.opener.alert(\"test\");\n   //_close();        \n   return callBack();\n};\nfunction callBack()\n{\n    return \"Testing\";\n}\n</code></pre>\n\n<p>If you suppose to close any other child window</p>\n\n<p>You can try this</p>\n\n<pre><code>var k = window.open(\"url\");\nk.onbeforeunload = callBack;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I am trying to override <code>window.close()</code> Method in <code>javascript</code>. Here is my code.</p>\n\n<pre><code> (function () {\n    var _close = window.close;                  \n    window.close = function () {\n        window.opener.alert(\"test\");\n        _close();                             \n    };\n})();\n</code></pre>\n\n<p>I am trying to bind this code to new window and execute the inner code when the new window is closed. \nIs is possible to override <code>window.close</code> like this ?</p>\n",
            "last_activity_date": 1392826190,
            "question_id": 18381039,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "javascript-events"
            ],
            "title": "Overriding window.close in Javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Here's a link from StackOverflow:</p>\n\n<blockquote>\n  <p><a href=\"http://stackoverflow.com/questions/6020400/showing-androids-soft-keyboard-when-a-field-is-focusd-using-javascript\">Showing Android&#39;s soft keyboard when a field is .focus()&#39;d using javascript</a></p>\n  \n  <p>Just focussing without an event doesnt seem to work. -  you DO need a\n  click event triggering this.</p>\n</blockquote>\n\n<pre><code>$(document).ready(function()\n{\n\n   $('#field').click(function(e){ $(this).focus(); });\n\n        $('#button').click(function(e)\n        {\n            $('#field').trigger('click');\n        })\n})             \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I have some custom web components in my mobile web app, whereas I need to manually fire 'focus' events on a field, to simulate the 'NEXT' functionality in the Android soft keyboard feature. ( using Galaxy S3 native browser ).</p>\n\n<p>However, when I manually fire a focus event on a 'select' field, the native soft keyboard does not show. I have to subsequently click on the field to get it to show. (In IOS, of course, it works just fine).</p>\n\n<p>So I'm wondering, if a 'focus' event doesn't trigger the soft keyboard to open, what JS event will ???</p>\n\n<p>I am not using phonegap so I'm hoping there's a way without it.</p>\n\n<p>Thanks for any help!!!</p>\n",
            "last_activity_date": 1363497692,
            "question_id": 15457783,
            "score": 2,
            "tags": [
                "javascript",
                "android",
                "galaxy"
            ],
            "title": "Can I trigger Android soft keyboard to open via javascript ( without phonegap )?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Look at <a href=\"http://stackoverflow.com/questions/1533910/randomize-a-sequence-of-div-elements-with-jquery#11766418\">this question &amp; answer thread</a>. I like this solution via the user <code>gruppler</code>:</p>\n\n<pre><code>$.fn.randomize = function(selector){\n    var $elems = selector ? $(this).find(selector) : $(this).children(),\n        $parents = $elems.parent();\n\n    $parents.each(function(){\n        $(this).children(selector).sort(function(){\n            return Math.round(Math.random()) - 0.5;\n        // }). remove().appendTo(this); // 2014-05-24: Removed `random` but leaving for reference. See notes under 'ANOTHER EDIT'\n        }).detach().appendTo(this);\n    });\n\n    return this;\n};\n</code></pre>\n\n<p><strong>EDIT:</strong> Usage instructions below.</p>\n\n<p>To randomize all <code>&lt;li&gt;</code> elements within each '.member' <code>&lt;div&gt;</code>:</p>\n\n<pre><code>$('.member').randomize('li');\n</code></pre>\n\n<p>To randomize all children of each <code>&lt;ul&gt;</code>:</p>\n\n<pre><code>$('ul').randomize();\n</code></pre>\n\n<p><strong>ANOTHER EDIT:</strong> <code>akalata</code> has let me know in the comments that <code>detach()</code> can be used instead of <code>remove()</code> with the main benefit being if any data or attached listeners are connected to an element &amp; they are randomized, <code>detach()</code> will keep them in place. <code>remove()</code> would just toss the listeners out.</p>\n",
                    "is_accepted": false,
                    "score": 22
                }
            ],
            "body": "<p>I currently have this code that randomly sorts list items:</p>\n\n<pre><code>var $ul = $('#some-ul-id');\n$('li', $ul).sort(function(){\n   return ( Math.round( Math.random() ) - 0.5 )\n}).appendTo($ul);\n</code></pre>\n\n<p>However, is there any better solution for that?</p>\n",
            "last_activity_date": 1410630813,
            "question_id": 14555415,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "sorting",
                "random",
                "html-lists"
            ],
            "title": "How to randomly sort list items?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Two observations:</p>\n\n<ul>\n<li>you don't need <code>compile</code> imho, but <code>link</code> function</li>\n<li>you should wait until the <strong>element is ready</strong>, instead of using timeout</li>\n</ul>\n\n<p>So:</p>\n\n<pre><code>myApp.directive('lpScrollPane', function factory() {\n  return {\n    restrict: 'A',\n    replace: true,\n    transclude: true,\n    template: '&lt;div class=\"scrollPaneWrapper\"&gt;&lt;div class=\"scrollPane\" ng-transclude&gt;&lt;/div&gt;&lt;div class=\"thumbTrack\" &gt;&lt;/div&gt;&lt;/div&gt;',\n    link: function (scope, iElement, iAttrs) {\n      var minHeight = 30;\n      var thumbTrack = angular.element(iElement.children()[1]);\n\n      scope.onScrollHeight = function () {\n        console.log(iElement.children()[0].scrollHeight);\n\n        var H1 = iElement[0].offsetHeight;\n        var H2 = iElement.children()[0].scrollHeight;\n        if (H2 &gt; H1) {\n          var trackHeight = Math.round(minHeight + (H1 - minHeight) * (1 - Math.pow((H2 - H1) / H2, 0.8)));\n          thumbTrack.css({\n            display: \"block\",\n            height: trackHeight + \"px\"\n          });\n          console.log(H2, H1, trackHeight);\n        } else {\n          thumbTrack.css({\n            display: \"none\"\n          });\n        }\n      };\n\n      iElement.ready(function () {  \n         scope.$watch(function () {\n           scope.onScrollHeight();\n         });\n      });        \n    }\n  };\n});\n</code></pre>\n\n<p>See <a href=\"http://jsfiddle.net/asgoth/wvApH/\" rel=\"nofollow\">jsFiddle</a>.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Because 2 images say more than 1000 words, here are two screenshots:\n<img src=\"http://i.stack.imgur.com/dIKm8.png\" alt=\"last element still viewable gets inserted\">\n<img src=\"http://i.stack.imgur.com/6cL22.png\" alt=\"first element not viewable gets inserted\"></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>See <a href=\"http://stackoverflow.com/questions/11125078/is-there-a-post-render-callback-for-angular-js-directive\">is there a post render callback for Angular JS directive?</a></p>\n\n<p>Unfortunately, there is no way to determine when rendering is complete (e.g., there is no event).  Using $timeout seems to be the best workaround available.</p>\n\n<p>In the link above, @Nik mentioned in a comment that he was checking <code>$('tr').length &gt; 3</code>, for his particular scenario, to determine when rendering was complete.  Maybe there is something you could periodically examine in the DOM to determine that rendering is complete.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I'm trying to implement a custom scroll pane component using an AngularJS directive. in the following <a href=\"http://jsfiddle.net/neuTA/134/\" rel=\"nofollow\">jsfiddle example</a> I have an example of the basic prototype.</p>\n\n<p>here is a schema of my idea:\n<img src=\"http://i.stack.imgur.com/xlmku.jpg\" alt=\"enter image description here\"></p>\n\n<p>Here is the directive code:</p>\n\n<pre><code>    myApp.directive('lpScrollPane', function factory() {\n    return {\n        restrict: 'A',\n        replace: true,\n        transclude: true,\n        template: '&lt;div class=\"scrollPaneWrapper\"&gt;&lt;div class=\"scrollPane\" ng-transclude&gt;&lt;/div&gt;&lt;div class=\"thumbTrack\" &gt;&lt;/div&gt;&lt;/div&gt;',\n        compile: function (tElement, tAttrs) {\n            var minHeight = 30;\n            return function (scope, iElement, iAttrs) {\n                var thumbTrack = angular.element(iElement.children()[1]);\n\n                scope.onScrollHeight = function () {\n                    console.log(iElement.children()[0].scrollHeight);\n\n                    var H1 = iElement[0].offsetHeight;\n                    var H2 = iElement.children()[0].scrollHeight;\n                    if (H2 &gt; H1) {\n                        var trackHeight = Math.round(minHeight + (H1 - minHeight) * (1 - Math.pow((H2 - H1) / H2, 0.8)));\n                        thumbTrack.css({\n                            display: \"block\",\n                            height: trackHeight + \"px\"\n                        });\n                        console.log(H2, H1, trackHeight);\n                    } else {\n                        thumbTrack.css({\n                            display: \"none\"\n                        });\n                    }\n                };\n\n                scope.$watch(function () {\n                    scope.onScrollHeight();\n                    //setTimeout(scope.onScrollHeight, 100)\n                });\n\n\n            }\n        }\n    };\n});\n</code></pre>\n\n<p>Basically there are 2 dives 1 with overflow hidden and one with overflow scroll and another div to mimic the thumb tracker.</p>\n\n<p>My Goal is to monitor the scrollHeight property and then change the tracker height accordingly. the issue is the $watch gets fired before the DOM is rendered so there is a delay in showing and calculating the tracker. For now I used setTimeout on the watch function and it works fine (un-comment line 35 and comment 34 to see it in action).</p>\n\n<p>What would be the right way to do it? </p>\n",
            "last_activity_date": 1357755568,
            "question_id": 14235669,
            "score": 2,
            "tags": [
                "javascript",
                "web",
                "widget",
                "components",
                "angularjs"
            ],
            "title": "AngularJS - How to query the DOM when directive rendering is complete"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>There is always a lag when you run something in the main UI thread which involves manipulating non-streaming data in huge blobs. The lag does not come from reading he data, but decoding and displaying the image in the browser UI as this involves synchronous UI operations pushing the large pixel array around in CPU and GPU memory. This is because <code>&lt;img&gt;</code> allocates and moves around memory in the blocks of actual image data size (width * height) which is very large amount for big images and unnecessary detailed to push it up to GPU for just showing it on the screen (causes the lag of several milliseconds).</p>\n\n<p>You can most likely optimize your use case by shrinking the image to displayable size while reading it</p>\n\n<ul>\n<li><p>Using a pure Javascript JPEG decoder where main event loop reads the file in chunks and posts chunks to WebWorker background thread for decoding. One example decoder library <a href=\"https://github.com/notmasteryet/jpgjs/blob/master/jpg.js\">https://github.com/notmasteryet/jpgjs/blob/master/jpg.js</a></p></li>\n<li><p>Allocate a <code>&lt;canvas&gt;</code> element where the WebWorker posts backs the resulting pixels progressively. This canvas element does not need to match the actual image size (see below)</p></li>\n<li><p>Also you can scale down the images in the WebWorker while reading them in pure Javascript <a href=\"http://www.grantgalitz.org/image_resize/\">http://www.grantgalitz.org/image_resize/</a> - lessening the need to push the pixels to GPU as you are not going to fit the big image on the monitor as 1:1 pixel mapping in the first place</p></li>\n<li><p>WebWorker and main thread can push data around using copy-free Transferable objects <a href=\"https://developer.mozilla.org/en-US/docs/DOM/Using_web_workers#Passing_data_by_transferring_.C2.A0ownership_%28transferable_objects%29\">https://developer.mozilla.org/en-US/docs/DOM/Using_web_workers#Passing_data_by_transferring_.C2.A0ownership_%28transferable_objects%29</a></p></li>\n</ul>\n\n<p>However, though the solution described here is near perfect, to implement this one needs to possess advanced Javascript skills and the solution is not going to be legacy compatible (read: Microsoft). </p>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I am trying to load local images as thumbnails as explained <a href=\"http://www.html5rocks.com/en/tutorials/file/dndfiles/\" rel=\"nofollow\">here</a>. My code is below.</p>\n\n<p>This works fine for small images. However, when you try load larger images (e.g. 4mb) there is a huge lag. Is there any way to optimize this? </p>\n\n<p>Thanks</p>\n\n<h3>Html</h3>\n\n<pre><code>&lt;input type=\"file\" id=\"files\" name=\"files[]\" multiple /&gt;\n&lt;output id=\"list\"&gt;&lt;/output&gt;\n</code></pre>\n\n<h3>Javascript</h3>\n\n<pre><code>&lt;script&gt;\nfunction handleFileSelect(evt) {\nvar files = evt.target.files; // FileList object\n\n// Loop through the FileList and render image files as thumbnails.\nfor (var i = 0, f; f = files[i]; i++) {\n\n  // Only process image files.\n  if (!f.type.match('image.*')) {\n    continue;\n  }\n\n  var reader = new FileReader();\n\n  // Closure to capture the file information.\n  reader.onload = (function(theFile) {\n    return function(e) {\n      // Render thumbnail.\n      var span = document.createElement('span');\n      span.innerHTML = ['&lt;img class=\"thumb\" src=\"', e.target.result,\n                        '\" title=\"', escape(theFile.name), '\"/&gt;'].join('');\n      document.getElementById('list').insertBefore(span, null);\n    };\n  })(f);\n\n  // Read in the image file as a data URL.\n  reader.readAsDataURL(f);\n}\n}\n\n  document.getElementById('files').addEventListener('change', handleFileSelect, false);\n&lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1356447639,
            "question_id": 13905578,
            "score": 2,
            "tags": [
                "javascript",
                "html5",
                "thumbnails",
                "filereader"
            ],
            "title": "Reading large images as thumbnails locally via HTML5 filereader"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>To understand why your code does not work, I include <a href=\"http://stackoverflow.com/questions/11812786/window-open-returns-undefined-in-chrome-extension/11815581#11815581\">a fragment of my previous answer</a>:</p>\n\n<blockquote>\n  <p>Content scripts do not have any access to a page's global <code>window</code> object. For content scripts, the following applies:</p>\n  \n  <ul>\n  <li>The <strong><code>window</code></strong> variable does not refer to the page's global object. Instead, it refers to a new context, a \"layer\" over the page. The page's DOM is fully accessible. <sup><a href=\"http://code.google.com/chrome/extensions/content_scripts.html#execution-environment\">#execution-environment</a></sup></li>\n  </ul>\n  \n  <p>Given a document consisting of &ensp; <code>&lt;iframe id=\"frameName\" src=\"http://domain/\"&gt;&lt;/iframe&gt;</code>:</p>\n  \n  <ul>\n  <li>Access to the contents of a frame is restricted by the <a href=\"https://developer.mozilla.org/En/Same_origin_policy_for_JavaScript\">Same origin policy</a> of the page; the permissions of your extension does not relax the policy.</li>\n  <li><code>frames[0]</code> and <code>frames['frameName']</code>, (normally referring to the the frame's containing global <code>window</code> object) is <strong><code>undefined</code></strong>.</li>\n  <li><code>var iframe = document.getElementById('frameName');</code><br>\n  <ul>\n  <li><strong><code>iframe.contentDocument</code></strong> returns a <strong><code>document</code></strong> object of the containing frame, because content scripts have access to the DOM of a page. This property is <strong><code>null</code></strong> when the Same origin policy applies.</li>\n  <li><strong><code>iframe.contentDocument.defaultView</code></strong> (refers to the <code>window</code> object associated with the document) is <strong>undefined</strong>.</li>\n  <li><strong><code>iframe.contentWindow</code></strong>  is <strong>undefined</strong>.</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<h3>Solution for same-origin frames</h3>\n\n<p>In your case, either of the following will work:</p>\n\n<pre><code>// jQuery:\n$(\"#iframe1\").contents()[0].execCommand( ... );\n\n// VanillaJS\ndocument.getElementById(\"iframe1\").contentDocument.execCommand( ... );\n\n// \"Unlock\" contentWindow property by injecting code in context of page\nvar s = document.createElement('script');\ns.textContent = 'document.getElementById(\"iframe1\").contentWindow.document.execCommand( ... );';\ndocument.head.appendChild(s);\n</code></pre>\n\n<h2>Generic solution</h2>\n\n<p>The generic solution is using <code>\"all_frames\": true</code> in the manifest file, and use something like this:</p>\n\n<pre><code>if (window != top) {\n    parent.postMessage({fromExtension:true}, '*');\n    addEventListener('message', function(event) {\n        if (event.data &amp;&amp; event.data.inserHTML) {\n            document.execCommand('insertHTML', false, event.data.insertHTML);\n        }\n    });\n} else {\n    var test_html = 'test string';\n    // Explanation of injection at http://stackoverflow.com/a/9517879/938089 :\n    // Run code in the context of the page, so that the `contentWindow`\n    //  property becomes accessible\n    var script = document.createElement('script');\n    script.textContent = '(' + function(s_html) {\n        addEventListener('message', function(event) {\n            if (event.data.fromExtension === true) {\n                var iframe = document.getElementById('iframe1');\n                if (iframe &amp;&amp; (iframe.contentWindow === event.source)) {\n                    // Window recognised, post message back\n                    iframe.contentWindow.postMessage({insertHTML: s_html}, '*');\n                }\n            }\n        });\n    } + ')(' + JSON.stringify(test_html) + ');';\n    (document.head||document.documentElement).appendChild(script);\n    script.parentNode.removeChild(script);\n}\n</code></pre>\n\n<p>This demo is for educational purposes only, <strong>do not use this demo in a real extension</strong>. Why? Because it uses <a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.postMessage\"><code>postMessage</code></a> to pass messages around. These events can also be generated by the client, which causes a security leak (XSS: arbitrary HTML injection).</p>\n\n<p>The alternative to <code>postMessage</code> is Chrome's message API. For a demo, see <a href=\"http://stackoverflow.com/questions/11325415/access-iframe-content-from-a-chromes-extension-content-script/11326942#11326942\">this answer</a>. You won't be able to compare the <code>window</code> objects though. What you <em>can</em> do is to rely the <code>window.name</code> property. The <code>window.name</code> property is automatically set to the value of the iframe's <code>name</code> attribute (just once, when the iframe is loaded).</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I'm developing a chrome extension and bumped into a big problem.</p>\n\n<p>I'm using content scripts to inject my javascript code on a web site. The web site has an iframe.\nI can change the source code of the iframe but don't seem to get any access to the iframe's contentWindow property. I need it to insert text at the current carret position.</p>\n\n<p>So basically this code works perfectly in the context of the page:</p>\n\n<pre><code>$(\"#iframe1\").contentWindow.document.execCommand(\"InsertHTML\", false, 'test text');\n</code></pre>\n\n<p>But when I try it to run in the context of my chrome extension I get this error:</p>\n\n<pre><code>TypeError: Cannot read property 'document' of undefined\n</code></pre>\n\n<p>What's strange is that I can access the html of the iframe. So this code works perfectly from the chrome extension:</p>\n\n<pre><code>$(\"#iframe1\").contents().find('div').html('test')\n</code></pre>\n\n<p>I tried putting \"all_frames\": true in the manifest file but no luck :(</p>\n",
            "last_activity_date": 1362230157,
            "question_id": 13266192,
            "score": 2,
            "tags": [
                "javascript",
                "iframe",
                "google-chrome-extension"
            ],
            "title": "Accessing iframe from chrome extension"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>var request = new XMLHttpRequest();\nrequest.open('PATCH', 'http://127.0.0.1:8001/api/v1/pulse/6/', false);\nrequest.setRequestHeader(\"Content-type\",\"application/json\");\nrequest.send('{\"isActive\": 1}');\n</code></pre>\n\n<p>Using a an XMLHttpRequest solves it!</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>First, check that you use latest version of jQuery library:</p>\n\n<ul>\n<li>Older versions directly restrict unknown methods (PATCH is new one).</li>\n<li>I've tested on jQuery 1.7 - PATCH method working without problems.</li>\n</ul>\n\n<p>Second, not all browsers supports PATCH method using XMLHttpRequest:</p>\n\n<ul>\n<li><p>Like, IE 7,8 (9+ works okay) have XMLHttpRequest, but it throws an error on PATCH:</p>\n\n<pre><code>new XMLHttpRequest().open('PATCH', '/'); //Illegal argument\n</code></pre></li>\n<li><p>To fix this, you may force jQuery to use the old proprietary ActiveXObject xhr, like so:</p>\n\n<pre><code>$.ajax({\n    url : 'http://127.0.0.1:8001/api/v1/pulse/7/',\n    data : data,\n    type : 'PATCH',\n    contentType : 'application/json',\n    xhr: function() {\n        return window.XMLHttpRequest == null || new window.XMLHttpRequest().addEventListener == null \n            ? new window.ActiveXObject(\"Microsoft.XMLHTTP\")\n            : $.ajaxSettings.xhr();\n    }\n});          \n</code></pre></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>A bit late, but this worked for me when I got this error:</p>\n\n<pre><code>$.ajax({\n  url : 'http://127.0.0.1:8001/api/v1/pulse/7/',\n  data : JSON.stringify(data),\n  type : 'PATCH',\n  contentType : 'application/json',\n  processData: false,\n  dataType: 'json'\n)};\n</code></pre>\n\n<p>Serializing the object yourself instead of letting jQuery do it seems to help.  This works for me on the latest version of Chrome, but still doesn't fix the ie problems mentioned is other responses.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am trying to send json data from the client to my server using this:</p>\n\n<pre><code>$.ajax({\n    url : 'http://127.0.0.1:8001/api/v1/pulse/7/',\n    data : data,\n    type : 'PATCH',\n    contentType : 'application/json'\n)};\n</code></pre>\n\n<p>I get a <code>No JSON object could be decoded</code>.\nHowever when i use <code>PUT</code> the json object gets sent. </p>\n\n<p><strong>It only doesnt work for PATCH</strong></p>\n\n<p>The backend is Django and the app im using is tastypie</p>\n",
            "last_activity_date": 1395761526,
            "question_id": 11461414,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "Ajax - JSON doesnt get sent in PATCH only"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>One option would be to use a RSS-to-JSON pipe, like this one here: <a href=\"http://pipes.yahoo.com/pipes/pipe.info?_id=2FV68p9G3BGVbc7IdLq02Q\" rel=\"nofollow\">http://pipes.yahoo.com/pipes/pipe.info?_id=2FV68p9G3BGVbc7IdLq02Q</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I recently made one using this tutorial : <a href=\"http://net.tutsplus.com/tutorials/javascript-ajax/how-to-build-an-rss-reader-with-jquery-mobile-2/\">http://net.tutsplus.com/tutorials/javascript-ajax/how-to-build-an-rss-reader-with-jquery-mobile-2/</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>What You mean jQuery can't do XML. jQuery is JavaScript and jQuery uses <code>XMLHttpRequest</code> while doing Ajax calls. See the name <code>XML*</code>. See: <a href=\"http://api.jquery.com/jQuery.ajax/\" rel=\"nofollow\">http://api.jquery.com/jQuery.ajax/</a>. There is <code>dataType</code> param. You can pass <code>xml</code> to it. After that You will get dom object with all dom object methods.</p>\n\n<p>You can event use it as second param to jQuery's selectors:</p>\n\n<pre><code>jQuery.get(url, {}, function (data) {\n    var entries = $(\"entry\", data);\n    doSomething(entries);\n}, 'xml');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I have just made a phonegap application that parses an external RSS feed using jFeed. I'll give you an example:</p>\n\n<p>First, I include the following Java scripts in my index.html file:</p>\n\n<pre><code>&lt;head&gt;\n    ...\n    &lt;script type=\"text/javascript\" src=\"phonegap-1.0.0.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"jquery/jquery-1.6.4.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"jquery.mobile/jquery.mobile-1.0b3.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"jquery.jfeed/dist/jquery.jfeed.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"scripts/my.js\"&gt;&lt;/script&gt;\n    ...\n&lt;/head&gt;\n</code></pre>\n\n<p>Then, in <code>my.js</code> I use the following:</p>\n\n<pre><code>parseFeed();\n\nfunction parseFeed() {\n$.getFeed({\n    url: 'http://someUrl.com',\n    dataType: \"xml\",\n    success: function(feed) {\n\n    $('#feedresult').empty();\n\n    var html = '&lt;ul data-role=\"listview\"&gt;';\n\n    for(var i = 0; i &lt; feed.items.length; i++) {\n\n        var item = feed.items[i];\n\n        html += '&lt;li&gt;'\n        + '&lt;a href=\"#article?id='\n        + i\n        + '\"&gt;'\n        + item.title\n        + '&lt;/a&gt;'\n        + '&lt;/li&gt;';\n    }\n\n    html = html + '&lt;/ul&gt;';\n\n    $('#feedresult').append(html);\n    $('#main').page('destroy').page();\n\n    }});\n};\n</code></pre>\n\n<p>The code then creates a listview (jQuery mobile) in my #feedresult div where each entry represents a feed item. As phonegap utilizes some sort of web view that loads all content using the file:/// protocol ( <a href=\"http://groups.google.com/group/phonegap/browse_thread/thread/b60bda03bac6e9eb\" rel=\"nofollow\">http://groups.google.com/group/phonegap/browse_thread/thread/b60bda03bac6e9eb</a> ), there is no issue in doing cross domain XMLHttpRequest from phonegap.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This question is old, but can be helpful to solve it in 2014 ;-).</p>\n\n<p>I test many jQuery plugin to include a RSS reader, but the only this work like a charme in 1mn is <a href=\"http://www.zazar.net/developers/jquery/zrssfeed/\" rel=\"nofollow\">zrssfeed</a></p>\n\n<p>Just add the call (after call jquery and jquery mobile) in the header:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"jquery.zrssfeed.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>And after start th jquery call like this :</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function () {\n        $('#feedresult').rssfeed('http://my.wordpress.website.com/feed/', {\n            limit: 5\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>I hope this help,\nMike</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I need to write a PhoneGap application (with HTML5 and JS, I don't need compatibility with IE) with AJAX so that it reads an RSS feed and looks up some specific information from it. The problem I'm having is that I have I don't the best way to do an RSS feed, and jQuery can't do XML. Any suggestions?</p>\n",
            "last_activity_date": 1401214450,
            "question_id": 6483804,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "html5",
                "cordova"
            ],
            "title": "Phonegap RSS feeds, Javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>What is your use case here?</p>\n\n<p>You can calculate this in the v2 API:</p>\n\n<p><code>map.getBoundsZoomLevel(bounds);</code></p>\n\n<p>However there is no way to do it in the v3 API.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This uses a bit of mootools, so you'll have to edit the code to use it with other libraries (should be easy enough).</p>\n\n<pre><code>/**\n * Calculates the bounds this map would display at a given zoom level.\n *\n * @member google.maps.Map\n * @method boundsAt\n * @param {Number}                 zoom         Zoom level to use for calculation.\n * @param {google.maps.LatLng}     [center]     May be set to specify a different center than the current map center.\n * @param {google.maps.Projection} [projection] May be set to use a different projection than that returned by this.getProjection().\n * @param {Element}                [div]        May be set to specify a different map viewport than this.getDiv() (only used to get dimensions).\n * @return {google.maps.LatLngBounds} the calculated bounds.\n *\n * @example\n * var bounds = map.boundsAt(5); // same as map.boundsAt(5, map.getCenter(), map.getProjection(), map.getDiv());\n */\ngoogle.maps.Map.prototype.boundsAt = function (zoom, center, projection, div) {\n    var p = projection || this.getProjection();\n    if (!p) return undefined;\n    var d = $(div || this.getDiv());\n    var zf = Math.pow(2, zoom) * 2;\n    var dw = d.getStyle('width').toInt()  / zf;\n    var dh = d.getStyle('height').toInt() / zf;\n    var cpx = p.fromLatLngToPoint(center || this.getCenter());\n    return new google.maps.LatLngBounds(\n        p.fromPointToLatLng(new google.maps.Point(cpx.x - dw, cpx.y + dh)),\n        p.fromPointToLatLng(new google.maps.Point(cpx.x + dw, cpx.y - dh)));\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I need to calculate the bounds of a map given center and zoom level.</p>\n\n<p>I imagine I could temporarily set map center and zoom and call <code>map.getBounds()</code>, but I would prefer not to (I would need to disable/re-enable a few event handlers).</p>\n\n<p>Does anybody know how to do this in v3?</p>\n",
            "last_activity_date": 1288830639,
            "question_id": 3774579,
            "score": 2,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3"
            ],
            "title": "Calculate bounds from center and zoom (Google Maps API v3)"
        },
        {
            "answer_count": 13,
            "answers": [
                {
                    "body": "<p>You can't ever disable it.. users can view the source of your page so the text is <em>always</em> available. If you put click handlers to disable right-click, they can turn javascript off..  </p>\n\n<p>The best you can try to do is make it inconvenient for people to deter them, but never can you prevent them.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>I don't want my users to copy any\n  information from my website and use\n  them for personal purposes</p>\n</blockquote>\n\n<p>There is no way to do this.  If someone really wants your information, they can get it.</p>\n\n<p>You might be able to give them a litte bit of trouble with disabling certain functions using javascript or whatever...but you'll only give the people who don't know much about technology that trouble.  And usually those people aren't even trying to copy your data.  The one's who are, will figure out a way.</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>To be honest, if you don't want people to use any information on your site, then you can't put it up there. If you stop them from being able to copy and paste the information, they'll still be able to take a screenshot of it, type it out and save the data that way. I know it's not the answer you're looking for, but that's just something to think about.</p>\n\n<p>(I did this because i can't comment yet).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Forget it. It is not possible to block these functions in a browser. The \"best\" you can do is to present your data in an image or Flash movie - inconceivable, slow, impractical, horrible to implement and also circumventable using OCR software.</p>\n\n<p>If all else fails, users will simply make screen shots or key in the data manually. </p>\n\n<p>If you present data to your users, you will have to live with the possibility that they can copy it. End of story. </p>\n\n<p>Use legal threats to prevent your contents, not technical means.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It is impossible to secure a website against copying. There are some technices to make it more difficult, but as soon as the user has the information on his screen its already too late. He could for example take a picture with a camera if the screenshot function could be disabled somehow.</p>\n\n<p>Disabling of javascript functionality (f.e. shortcuts) is not working in all browsers and the user may disable javascript.</p>\n\n<p>Using programs like curl all the information on the webpage can be grabbed.</p>\n\n<p>Best thing you could do is to put all the information you present into an image. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you publish information online, you should clearly indicate your copyright claim on the page (or indicate the type of license you issue the content under). Please find and read the copyright law of your territory to understand what this does and doesn't allow - for example, in the UK there are provisions for making personal copies of copyrighted material and for using parts of copyrighted work for critical review or parody.</p>\n\n<p>You can't stop people from copying the content on your page. You can make it more difficult for them to do - but this will have a negative impact on your page. Techniques such as preventing the left-click of the mouse, intercepting keyboard events or converting your entire article into images just make your website less usable.</p>\n\n<p>If you have textual information on your website, I can re-type it even if you've stopped every other method of me copying the image. If you have an image and you've managed to lock out everything else, I can still do a screen-grab (not to mention the fact that my browser caches all the images in a temporary folder on my machine).</p>\n\n<p>Your content-paranoia affects many people who set up a website - but the idea behind the Internet is that it is used for sharing information.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>By default, Chrome and Firefox block disabling the right click menu. You have to manually edit an entry in about:config in Firefox to prevent it being blocked, which is not something you can force your visitors to do. </p>\n\n<p>Regarding IE, you can modify your BODY tag like so:</p>\n\n<pre><code>&lt;body onContextMenu=\"return false\"&gt;\n</code></pre>\n\n<p>Which will prevent the right click context menu. </p>\n\n<p>Other than that, the next best step is to create an image of your text, place it in a .swf (flash) document, and point the page to load the .swf as the page. This will cause all browsers to display the flash context menu on right click, and will prevent simple copy/paste efforts. </p>\n\n<p>I do agree with previous replies, regardless of method used, any user can simply use their Print Screen key, paste the image in Paint (or other program), save it, and use OCR to grab your text.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>&lt;script type=\"text/javascript\"&gt;\n\nfunction md(e) \n{ \n  try { if (event.button==2||event.button==3) return false; }  \n  catch (e) { if (e.which == 3) return false; } \n}\ndocument.oncontextmenu = function() { return false; }\ndocument.ondragstart   = function() { return false; }\ndocument.onmousedown   = md;\n\n&lt;/script&gt;\n&lt;br /&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I would suggest disabling right click.</p>\n\n<pre><code>&lt;script language=\"text/javascript\"&gt;\n    var message = \"Not allowed.\"; \n    function rtclickcheck(keyp){ \n        if (navigator.appName == \"Netscape\" &amp;&amp; keyp.which == 3){    \n            alert(message); return false; \n        } \n        if (navigator.appVersion.indexOf(\"MSIE\") != -1 &amp;&amp; event.button == 2) {\n            alert(message);     \n            return false;\n        }\n    } \n    document.onmousedown = rtclickcheck;\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>What the developers of lyrics.com have done is attach events to <code>document.body.oncontextmenu</code>, <code>document.onselectstart</code>, and <code>document.body.onkeydown</code>  to disable the actions browsers would take.</p>\n\n<p>It can be done as simply as</p>\n\n<pre><code>&lt;body oncontextmenu=\"return false\" onselectstart=\"return false\"\n      onkeydown=\"if ((arguments[0] || window.event).ctrlKey) return false\"&gt;\n</code></pre>\n\n<p>You'd need all three; <code>oncontextmenu</code> basically governs right clicks, <code>onselectstart</code> covers drag-selecting with the mouse, and <code>onkeydown</code> Ctrl-key events (like someone who'd hit <kbd>Ctrl</kbd>+<kbd>A</kbd>, <kbd>Ctrl</kbd>+<kbd>C</kbd> to copy the whole page).</p>\n\n<p>But <strong>I highly recommend that you NOT DO THIS.</strong>  It kills usability and frustrates even legitimate users (for example people that have certain key mappings set up, or the ones who use \"back\" and \"reload\" from the context menu), and the ones you'd have to worry about would not be hindered even the slightest bit.  And frankly, your content is not as special as you think it is, or you wouldn't be serving it up to any loser with a web browser.  Information that valuable is not put online.</p>\n\n<p>As has been noted before, all that <code>return false</code> stuff is not enforceable.  And because i found the page particularly infuriating, <em>that</em> prompted me to pop up a console and dissect what they did, and detach event handlers so i could copy whatever i like and they don't even get their precious click-tracking data.  Really, though, all anyone has to do is disable JavaScript.</p>\n\n<p>The only way to keep people from copying text from the internet, is to keep it off the internet.  Any other way is doomed to fail, as <em>you yourself are handing them a copy as part of the very act of serving it to them</em>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>&lt;script type=\"text/JavaScript\"&gt;\nfunction killCopy(e){\nreturn false\n}\nfunction reEnable(){\nreturn true\n}\ndocument.onselectstart=new Function (\"return false\")\nif (window.sidebar){\ndocument.onmousedown=killCopy\ndocument.onclick=reEnable\n}\n&lt;/script&gt;  \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>You need to rethink your strategy if you're resorting to these measures on the front end. What you are trying to do is inherently wrong.</strong></p>\n\n<p>As a visitor to your web page, pulling something like this is just going to annoy me - I will eventually figure out what you've done and get around it. That said, I've recently found <a href=\"http://jsfiddle.net/AKn8M/\" rel=\"nofollow\">this particular method</a> can be quite effective if you're aiming to restrict impatient or non-technical users. Proceed with caution...</p>\n\n<pre><code>&lt;div class=\"text\"&gt;\n  &lt;p&gt;Hello, world! Sadly, &lt;a href=\"#\"&gt;I won't work&lt;/a&gt;.&lt;/p&gt;\n  &lt;img alt=\"I can't be dragged or saved either :(\" src=\"tree.png\"&gt; \n  &lt;div class=\"preventSelect\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><em>...and the CSS:</em></p>\n\n<pre><code>.text {\n  position: relative;\n  width: auto; /* can be fixed as well (ie 400px) */\n  width: auto; /* can be fixed as well (ie 400px) */\n  z-index: 0;\n}\n\n.preventSelect {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1;\n}\n</code></pre>\n\n<p>The obvious drawback for this method is that the user cannot interact with anything inside the div we're <code>preventSelect</code>ing. That includes links, buttons, images etc.</p>\n\n<p>Please don't use this unless you absolutely have to. Frankly, it's a pain in the ass for everyone.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Just add the following code to the HEAD tag of your web page:</p>\n\n<pre><code>&lt;script type=\"text/JavaScript\"&gt;\n//courtesy of BoogieJack.com\nfunction killCopy(e){\nreturn false\n}\nfunction reEnable(){\nreturn true\n}\ndocument.onselectstart=new Function (\"return false\")\nif (window.sidebar){\ndocument.onmousedown=killCopy\ndocument.onclick=reEnable\n}\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How Do I disable the copy paste feature in my webpage. To be precise, I don't want my users to copy any information from my website and use them for personal purposes. The previous question on the same topic doesn't give enough explanation. The onselect and ondrag aren't working. Please help.</p>\n",
            "last_activity_date": 1408350131,
            "question_id": 3020715,
            "score": 2,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "Disabling Copy/Paste in a Web Page"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You can use these within chrome scope.</p>\n\n<pre><code>var FileManager =\n{\nWrite:\n    function (File, Text)\n    {\n        if (!File) return;\n        const unicodeConverter = Components.classes[\"@mozilla.org/intl/scriptableunicodeconverter\"]\n            .createInstance(Components.interfaces.nsIScriptableUnicodeConverter);\n\n        unicodeConverter.charset = \"UTF-8\";\n\n        Text = unicodeConverter.ConvertFromUnicode(Text);\n        const os = Components.classes[\"@mozilla.org/network/file-output-stream;1\"]\n          .createInstance(Components.interfaces.nsIFileOutputStream);\n        os.init(File, 0x02 | 0x08 | 0x20, 0700, 0);\n        os.write(Text, Text.length);\n        os.close();\n    },\n\nRead:\n    function (File)\n    {\n        if (!File) return;\n        var res;\n\n        const is = Components.classes[\"@mozilla.org/network/file-input-stream;1\"]\n            .createInstance(Components.interfaces.nsIFileInputStream);\n        const sis = Components.classes[\"@mozilla.org/scriptableinputstream;1\"]\n            .createInstance(Components.interfaces.nsIScriptableInputStream);\n        is.init(File, 0x01, 0400, null);\n        sis.init(is);\n\n        res = sis.read(sis.available());\n\n        is.close();\n\n        return res;\n    },\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>var x = FileManager.Read(\"C:\\\\test.js\");\n</code></pre>\n\n<p><strong>See Also</strong></p>\n\n<ul>\n<li><a href=\"http://pastebin.com/cKnPL6cT\" rel=\"nofollow\">Full File class from OneManga Manager addon</a></li>\n<li><a href=\"http://pastebin.com/yr62tFhV\" rel=\"nofollow\">Reading a file inside the addon using OMM File class</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>Since Greasemonkey can't read/write files from a local hard disk, I've heard people suggesting Google gears but I've no idea about gears.</p>\n\n<p>So, I've decided to add a</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"file:///c:/test.js\"&gt;/script&gt;\n</code></pre>\n\n<p>Now, this test will use FileSystemObject to read/write file. Since, the <code>file:///c:/test.js</code> is a javascript file from local hard disk, it should probably be able to read/write file on my local hard disk. </p>\n\n<p>I tried it but Firefox prevented the <code>file:///c:/test.js</code> script to read/write files from the local disk. :(</p>\n\n<p>Is there any setting in Firefox's <code>about:config</code> where we can specify to let a particular script, say from localfile or xyz.com, to have read/write permission on my local disk files?</p>\n",
            "last_activity_date": 1384535607,
            "question_id": 2846045,
            "score": 2,
            "tags": [
                "javascript",
                "firefox",
                "greasemonkey"
            ],
            "title": "How to enable local javascript to read/write files on my PC?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You will have to use # capabilities of your URL to store your intermediate Ajax requests in browser history. If you use any Javascript library there will probably be a solution in the library itself or in a form of a community extension/plugin.</p>\n\n<p>For instance there's a plugin for jQuery <a href=\"http://plugins.jquery.com/project/history\" rel=\"nofollow\">here</a>.</p>\n\n<p>Google for <em>browser history ajax</em></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Take some time to go through <a href=\"http://stackoverflow.com/questions/946582/browser-back-button-and-dynamic-elements/946654#946654\">some</a>. <a href=\"http://stackoverflow.com/questions/1115303/ajax-paging-enable-back-button/1115455#1115455\">of</a>. <a href=\"http://stackoverflow.com/questions/629765/enabling-back-fwd-key-events-for-an-ajax-application\">the</a>. <a href=\"http://stackoverflow.com/questions/163610/ajax-and-the-browser-back-button\">previous</a>. <a href=\"http://stackoverflow.com/questions/974186/managing-browser-history-in-ajax\">questions</a>. <a href=\"http://stackoverflow.com/questions/657310/experiences-with-javascript-history-frameworks\">on</a>. <a href=\"http://stackoverflow.com/questions/568719/is-monitoring-location-hash-a-solution-for-history-in-xhr-apps\">this</a>. <a href=\"http://stackoverflow.com/questions/940964/could-a-page-display-diferrent-content-if-the-url-hash-changes\">topic</a>.</p>\n\n<p>Hint: use the hash man! (<code>window.location.hash</code> that is)</p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I am writing a web application which retrieves a lot of data using AJAX which substantially modifies the loaded page depending on what button the user clicked (Let's say that clicking on button1 takes the page from state0 to state1 and so on..)</p>\n\n<p>Further, if the button number is passed to the server as a GET variable, the server returns the page in the correct state.</p>\n\n<p>Needless to say, the back / forward browser buttons do not work because the URL is not changed during state changes accomplished through AJAX.</p>\n\n<p>So, my question is, how can I make the browser back / forward buttons work?</p>\n\n<p>Is it possible to supply the browser with the correct URL every time the state changes; but stop the page from reloading?</p>\n\n<p>Please note that this question is only about browser back / forward buttons. I can create custom back / forward buttons but that is not what I want to do.</p>\n",
            "last_activity_date": 1257337390,
            "question_id": 1673359,
            "score": 2,
            "tags": [
                "javascript",
                "ajax"
            ],
            "title": "Making Browser Back button work while using AJAX requests"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Try using the function from <a href=\"http://stackoverflow.com/questions/210821/#210994\"><strong>my answer to this question</strong></a>:</p>\n\n<pre><code>function incrementallyProcess(workerCallback, data, chunkSize, timeout, completionCallback) {\n  var itemIndex = 0;\n  (function() {\n    var remainingDataLength = (data.length - itemIndex);\n    var currentChunkSize = (remainingDataLength &gt;= chunkSize) ? chunkSize : remainingDataLength;\n    if(itemIndex &lt; data.length) {\n      while(currentChunkSize--) {\n        workerCallback(data[itemIndex++]);\n      }\n      setTimeout(arguments.callee, timeout);\n    } else if(completionCallback) {\n      completionCallback();\n    }\n  })();\n}\n\n\n// here we are using the above function to take \n// a short break every time we load an image\nfunction init() {\n  incrementallyProcess(function(element) {\n    imageBuf[element] = new Image();\n    imageBuf[element].onload = function(){count()};\n    imageBuf[element].src = \"thumbs/\"+element;\n  }, imgList, 1, 250, function() { \n    alert(\"done loading\"); \n  });\n}\n</code></pre>\n\n<p>You may want to modify the chunk size parameter as well as the length of the timeout to get it to behave just like you want it to. I am not 100% sure this will work for you, but it is worth a try...</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I am building a slideshow with a few hundred images and would like to build a nice loading bar, so the idea was to preload the images using JavaScript, then initialize the rest of the UI afterwords.</p>\n\n<p>Preloading the images is not a problem, but getting the browser to update the status as things load is. I've tried a few things, but the browser will only repaint the display after it finishes.</p>\n\n<p>I've even tried the script from <a href=\"http://stackoverflow.com/questions/280049/javascript-callback-for-knowing-when-an-image-is-loading#280087\">this question</a>, but I get the same results.</p>\n\n<p>Here's what I've got so far (imgList is an array of filenames. I'm using <a href=\"http://prototypejs.org\" rel=\"nofollow\">Prototype</a>.)</p>\n\n<pre><code>var imageBuf = []\nvar loadCount = 0\n$('loadStatus').update(\"0/\"+imgList.length)\n\nfunction init() {\n    imgList.each(function(element){\n    \timageBuf[element] = new Image()\n    \t//imageBuf[element].onload = window.setTimeout(\"count()\",0)\t// gives \"not implemented\" error in IE\n    \timageBuf[element].onload = function(){count()}\n    \timageBuf[element].src = \"thumbs/\"+element\n    })\n}\n\nfunction count() {\n    loadCount++\n    $('loadStatus').update(loadCount+\"/\"+imgList.length)\n}\n\ninit()\n</code></pre>\n",
            "last_activity_date": 1325170317,
            "question_id": 334325,
            "score": 2,
            "tags": [
                "javascript",
                "html",
                "prototypejs"
            ],
            "title": "How to display loading status with preloader and multiple images?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I will forward you to my old website design which used it.</p>\n\n<p><a href=\"http://www.fallenreaper.com/typermain.html\" rel=\"nofollow\">myWebsiteImplementsThis</a></p>\n\n<p>It makes use of jTypeWriter.js,  blink.js, and jquery.</p>\n\n<p>In the source you will the code.</p>\n\n<p>You would want to take a look at <code>function start()</code></p>\n\n<p>and that will start the login design.  I actually put it on hiatus, because there are actually some minor issues IRL i am working on, but you can easily see a working example at least :)</p>\n\n<p>code:</p>\n\n<pre><code>$(function(){\n    start();\n});\nfunction start(){ \n    $(\"#start\").show(); \n    setTimeout(ssh,1000);\n}\nfunction ssh(){\n    $(\"#ssh\").show().jTypeWriter({duration:2.5}); \n    setTimeout(pass,3000);\n}\nfunction pass(){\n    $(\"#pass\").show(); \n    setTimeout(...,2500);\n}\n/* etc etc */\n</code></pre>\n\n<p>Markup:</p>\n\n<pre><code>&lt;pre id=\"start\" style=\"display:none;\"&gt;localhost$ &lt;span id=\"ssh\" style=\"display:none;\"&gt;ssh fallenreaper@www.fallerneaper.com&lt;/span&gt;&lt;/pre&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There is a fantastic plugin available on <a href=\"https://github.com/fardjad/realistic-typewriter.js\" rel=\"nofollow\">Github, here</a>. An example from the README looks like this:</p>\n\n<p><img src=\"https://raw.github.com/fardjad/realistic-typewriter.js/master/gfx/demo.gif\" alt=\"\"></p>\n\n<p>It's nice and configurable depending on how human-like you want the output to be. A simple example looks like this:</p>\n\n<pre><code>var tw = typewriter($('.whatever')[0]).withAccuracy(90)\n                                     .withMinimumSpeed(5)\n                                     .withMaximumSpeed(10)\n                                     .build();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I think you don't really need a plugin to do this stuff, I made a simple example:</p>\n\n<p>html:</p>\n\n<pre><code> &lt;div id=\"typewriter\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>js:</p>\n\n<pre><code>var str = \"&lt;p&gt;This is my &lt;span style='color:red;'&gt;special string&lt;/span&gt; with an &lt;img src='http://placehold.it/150x150'&gt; image !&lt;/p&gt;\",\n    i = 0,\n    isTag,\n    text;\n\n(function type() {\n    text = str.slice(0, ++i);\n    if (text === str) return;\n\n    document.getElementById('typewriter').innerHTML = text;\n\n    var char = text.slice(-1);\n    if( char === '&lt;' ) isTag = true;\n    if( char === '&gt;' ) isTag = false;\n\n    if (isTag) return type();\n    setTimeout(type, 80);\n}());\n</code></pre>\n\n<p>And here is the demo on <a href=\"http://jsfiddle.net/creed88/VG8MJ/1/\">jsfiddle</a> </p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I want to do the following: I want to have a typewriter effect in HTML/JavaScript (jQuery/jQuery UI, if needed). There are tons of great examples out there on how to create a typewriter effect on a string (for example <a href=\"http://stackoverflow.com/questions/13325008/typewriter-effect-with-jquery\">this one</a>). I want to do something similar, but with a complete HTML string, which shouldn't be typed out, but inserted properly into the web page.</p>\n\n<p>Example string: </p>\n\n<pre><code>&lt;p&gt;This is my &lt;span style='color:red;'&gt;special string&lt;/span&gt; with an &lt;img src=\"test.png\"/&gt; image !&lt;/p&gt;\n</code></pre>\n\n<p>This string should be typed with a typewriter animation. The color of \"special string\" should be red, even while typing, and the image should appear after the word \"an\" and before the word \"image\". The problem with the solutions out there is that they insert the markup character by character into the web page, which results in an unclosed  while typing the \"special string\" in this example. I considered parsing the string with jQuery and iterating over the array, but I have no idea how I would deal with nested tags (like p and span in this example)</p>\n",
            "last_activity_date": 1394265654,
            "question_id": 22180457,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "string"
            ],
            "title": "Typewriter-Effect for HTML with JavaScript"
        }
    ]
}
