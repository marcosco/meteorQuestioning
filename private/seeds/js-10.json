{
    "items": [
        {
            "answer_count": 14,
            "answers": [
                {
                    "body": "<p>Take a look at <a href=\"http://pajhome.org.uk/crypt/md5/\" rel=\"nofollow\">this</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>While there are <a href=\"http://pajhome.org.uk/crypt/md5/\">JS implementations</a> of the MD5 algorithm, <strong>older browsers are generally unable to read files from the local filesystem</strong>.</p>\n\n<p>I wrote that in 2009. So what about new browsers?</p>\n\n<p><strong>With a browser that supports the <a href=\"http://www.w3.org/TR/FileAPI/\">FileAPI</a>, you *can * read the contents of a file</strong> - the user has to have selected it, either with an <code>&lt;input&gt;</code> element or drag-and-drop. As of Jan 2013, here's how the major browsers stack up:</p>\n\n<ul>\n<li>FF 3.6 supports <a href=\"https://developer.mozilla.org/en/DOM/FileReader\">FileReader</a>, FF4 supports even more file based functionality</li>\n<li>Chrome has supported the FileAPI since <a href=\"http://googlechromereleases.blogspot.com/2010/10/stable-channel-update.html\">version 7.0.517.41</a></li>\n<li>Internet Explorer 10 has partial <a href=\"http://msdn.microsoft.com/en-us/ie/hh272905#_HTML5FileAPI\">FileAPI support</a></li>\n<li>Opera 11.10 has <a href=\"http://dev.opera.com/articles/view/the-w3c-file-api/\">partial support for FileAPI</a></li>\n<li>Safari - I couldn't find a good official source for this, but <a href=\"http://caniuse.com/fileapi\">this site suggests partial support from 5.1, full support for 6.0</a>. Another article reports <a href=\"http://www.thebuzzmedia.com/html5-drag-and-drop-and-file-api-tutorial/\">some inconsistencies with the older Safari versions</a> </li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 60
                },
                {
                    "body": "<p>There is a couple scripts out there on the internet to create an MD5 Hash.</p>\n\n<p>The one from webtoolkit is good, <a href=\"http://www.webtoolkit.info/javascript-md5.html\" rel=\"nofollow\">http://www.webtoolkit.info/javascript-md5.html</a></p>\n\n<p>Although,  I don't believe it will have access to the local filesystem as that access is limited.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can't get access to the actual file that is being transferred from JavaScript, but if you wrote your own upload software, in something like Flash, or an applet, assuming permissions were set, you could then do the hash and send the data.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>If you use Firefox 3.6beta it appears there is a way to select files from the user's harddrive:</p>\n\n<p><a href=\"https://developer.mozilla.org/en/Using_files_from_web_applications\" rel=\"nofollow\">https://developer.mozilla.org/en/Using_files_from_web_applications</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I don't believe there is a way in javascript to access the contents of a file upload.  So you therefore cannot look at the file contents to generate an MD5 sum.</p>\n\n<p>You can however send the file to the server, which can then send an MD5 sum back or send the file contents back .. but that's a lot of work and probably not worthwhile for your purposes.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Without a plugin you can't access that binary data. You should look into using a Flash-based upload tool. I have colleagues who have used <a href=\"http://swfupload.org/\" rel=\"nofollow\">SWFUpload</a>, but I don't know how to get access to the file content itself. You might have to alter the SWF itself to allow this.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>Apart from the impossibility to get\n  file system access in JS, I would not\n  put any trust at all in a\n  client-generated checksum. So\n  generating the checksum on the server\n  is mandatory in any case. \u2013 Tomalak\n  Apr 20 '09 at 14:05</p>\n</blockquote>\n\n<p>Which is useless in most cases. You want the MD5 computed at client side, so that you can compare it with the code recomputed at server side and conclude the upload went wrong if they differ. I have needed to do that in applications working with large files of scientific data, where receiving uncorrupted files were key. My cases was simple, cause users had the MD5 already computed from their data analysis tools, so I just needed to ask it to them with a text field. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Well its possible to read files with HTML5 File API (see the Blob interface). Not tested but you could do it maybe.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You need to to use FileAPI. It is available in the latest FF &amp; Chrome, but not IE9.\nGrab any md5 JS implementation suggested above. I've tried this and abandoned it because JS was too slow (minutes on large image files). Might revisit it if someone rewrites MD5 using typed arrays.</p>\n\n<p>Code would look something like this:</p>\n\n<pre><code>HTML:     \n&lt;input type=\"file\" id=\"file-dialog\" multiple=\"true\" accept=\"image/*\"&gt;\n\nJS (w JQuery)\n\n$(\"#file-dialog\").change(function() {\n  handleFiles(this.files);\n});\n\nfunction handleFiles(files) {\n    for (var i=0; i&lt;files.length; i++) {\n        var reader = new FileReader();\n        reader.onload = function() {\n        var md5 = binl_md5(reader.result, reader.result.length);\n            console.log(\"MD5 is \" + md5);\n        };\n        reader.onerror = function() {\n            console.error(\"Could not read the file\");\n        };\n        reader.readAsBinaryString(files.item(i));\n     }\n }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>With current HTML5 it should be possible to calculate the md5 hash of a binary file, But I think the step before that would be to convert the banary data BlobBuilder to a String, I am trying to do this step: but have not been successful.</p>\n\n<p>Here is the code I tried: <a href=\"http://stackoverflow.com/questions/6886933/converting-a-blobbuilder-to-string-in-html5-javascript\">Converting a BlobBuilder to string, in HTML5 Javascript</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've made a library that implements incremental md5 in order to hash large files efficiently.\nBasically you read a file in chunks (to keep memory low) and hash it incrementally.\nYou got basic usage and examples in the readme.</p>\n\n<p>Be aware that you need HTML5 FileAPI, so be sure to check for it.\nThere is a full example in the test folder.</p>\n\n<p><a href=\"https://github.com/satazor/SparkMD5\">https://github.com/satazor/SparkMD5</a></p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Also, you should never trust the client.  You'll just have to redo the hash once it's uploaded.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>To get the hash of files, there are a lot of options. Normally the problem is that it's really slow to get the hash of big files.</p>\n\n<p>I created a little library that get the hash of files, with the 64kb of the start of the file and the 64kb of the end of it.</p>\n\n<p>Live example: <a href=\"http://marcu87.github.com/hashme/\" rel=\"nofollow\">http://marcu87.github.com/hashme/</a> and library: <a href=\"https://github.com/marcu87/hashme\" rel=\"nofollow\">https://github.com/marcu87/hashme</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>it is pretty easy to calculate the MD5 hash using the <a href=\"http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/md5.js\">MD5 function of CryptoJS</a> and the <a href=\"http://blog.teamtreehouse.com/reading-files-using-the-html5-filereader-api\">HTML5 FileReader API</a>. The following code snippet shows how you can read the binary data and calculate the MD5 hash from an image that has been dragged into your Browser:</p>\n\n<pre><code>var holder = document.getElementById('holder');\n\nholder.ondragover = function() {\n  return false;\n};\n\nholder.ondragend = function() {\n  return false;\n};\n\nholder.ondrop = function(event) {\n  event.preventDefault();\n\n  var file = event.dataTransfer.files[0];\n  var reader = new FileReader();\n\n  reader.onload = function(event) {\n    var binary = event.target.result;\n    var md5 = CryptoJS.MD5(binary).toString()\n    console.log(md5);\n  };\n\n  reader.readAsBinaryString(file);\n};\n</code></pre>\n\n<p>I recommend to add some CSS to see the Drag &amp; Drop area:</p>\n\n<pre><code>#holder {\n  border: 10px dashed #ccc;\n  width: 300px;\n  height: 300px;\n}\n\n#holder.hover {\n  border: 10px dashed #333;\n}\n</code></pre>\n\n<p>More about the Drag &amp; Drop functionality can be found here: <a href=\"http://html5demos.com/file-api\">File API &amp; FileReader</a></p>\n\n<p>I tested the sample in Google Chrome Version 32.</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>Is there any way to calculate the md5 hash of a file before the upload to the server using javascript?</p>\n",
            "last_activity_date": 1391707283,
            "question_id": 768268,
            "score": 50,
            "tags": [
                "javascript",
                "md5"
            ],
            "title": "How to calculate md5 hash of a file using javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<pre><code>document.referrer\n</code></pre>\n\n<p>in many cases will get you the URL of the last page the user visited, if they got to the current page by clicking a link (versus typing directly into the address bar, or I believe in some cases, by submitting a form?). Specified by <a href=\"http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-95229140\">DOM Level 2</a>. <a href=\"https://developer.mozilla.org/en/Document.referrer\">More here.</a></p>\n\n<p><code>window.history</code> allows navigation, but not access to URLs in the session for security and privacy reasons. If more detailed URL history was available, then every site you visit could see all the other sites you'd been to. </p>\n\n<p>If you're dealing with state moving around your own site, then it's possibly less fragile and certainly more useful to use one of the normal session management techniques: cookie data, URL params, or server side session info.</p>\n",
                    "is_accepted": true,
                    "score": 96
                },
                {
                    "body": "<pre><code>document.referrer\n</code></pre>\n\n<p>This is a standard one, It will give the URL from which you have visited.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p><code>document.referrer</code> will give the previous page URL but it will work for all browsers like Opera, Mozilla Firefox, Safari, etc, but doesn't work in Internet Explorer. It will result null when you use that <code>document.referrer</code> in IE.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><code>document.referrer</code> is not the same as the actual URL in all situations. </p>\n\n<p>I have an application where I need to establish a frameset with 2 frames. One frame is known, the other is the page I am linking from. It would seem that <code>document.referrer</code> would be ideal because you would not have to pass the actual file name to the frameset document.</p>\n\n<p>However, if you later change the bottom frame page and then use <code>history.back()</code> it does not load the original page into the bottom frame, instead it reloads <code>document.referrer</code> and as a result the frameset is gone and you are back to the original starting window. </p>\n\n<p>Took me a little while to understand this. So in the history array, <code>document.referrer</code> is not only a URL, it is apparently the referrer window specification as well. At least, that is the best way I can understand it at this time. </p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>If you want to go to the previous page without knowing the url, you could use the new History api.</p>\n\n<pre><code>history.back(); //Go to the previous page\nhistory.forward(); //Go to the next page in the stack\nhistory.go(index); //Where index could be 1, -1, 56, etc.\n</code></pre>\n\n<p>But you can't manipulate the content of the history stack on browser that doesn't support the HTML5 History API</p>\n\n<p>For more information see the <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history\" rel=\"nofollow\">doc</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there any way to get the previous url in javascript?  Something like this:</p>\n\n<pre><code>alert(\"previous url is: \" + window.history.previous.href);\n</code></pre>\n\n<p>Is there something like that?  Or should I just store it in a cookie?  I only need to know so I can do transitions from the previous url to the current url without anchors and all that.</p>\n",
            "last_activity_date": 1403083774,
            "question_id": 3528324,
            "score": 60,
            "tags": [
                "javascript"
            ],
            "title": "How do you get the previous url in Javascript?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can't get the user time, let alone timezone through PHP, since that is a <em>server</em> side technology.</p>\n\n<p>You need to use javascript - in particular, the <code>getTimezoneOffset()</code> method of the <code>Date</code> object:</p>\n\n<pre><code>var d = new Date();\nvar timezone = d.getTimezoneOffset();\n</code></pre>\n\n<p>You can use this variable and place it in a form field to process in PHP on form submit.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Just as Oded has answered. You need to have this sort of detection functionality in javascript.</p>\n\n<p>I've struggled with this myself and realized that the offset is not enough. It does not give you any information about daylight saving for example. I ended up writing some code to map to zoneinfo database keys.</p>\n\n<p>By checking several dates around a year you can more accurately determine a timezone.</p>\n\n<p>Try the script here: <a href=\"http://jsfiddle.net/pellepim/CsNcf/\">http://jsfiddle.net/pellepim/CsNcf/</a></p>\n\n<p>Simply change your system timezone and click run to test it. If you are running chrome you need to do each test in a new tab though (and safar needs to be restarted to pick up timezone changes).</p>\n\n<p>If you want more details of the code check out: <a href=\"https://bitbucket.org/pellepim/jstimezonedetect/\">https://bitbucket.org/pellepim/jstimezonedetect/</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>This will get you the timezone as a PHP variable.\nI wrote a function using jQuery and PHP.  This is tested, and does work!</p>\n\n<p>On the PHP page where you are want to have the timezone as a variable, have this snippet of code somewhere near the top of the page:</p>\n\n<pre><code>&lt;?php    \n    session_start();\n    $timezone = $_SESSION['time'];\n?&gt;\n</code></pre>\n\n<p>This will read the session variable \"time\", which we are now about to create.</p>\n\n<p>On the same page, in the , you need to first of all include jQuery:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-latest.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Also in the , below the jQuery, paste this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function() {\n        if(\"&lt;?php echo $timezone; ?&gt;\".length==0){\n            var visitortime = new Date();\n            var visitortimezone = \"GMT \" + -visitortime.getTimezoneOffset()/60;\n            $.ajax({\n                type: \"GET\",\n                url: \"http://domain.com/timezone.php\",\n                data: 'time='+ visitortimezone,\n                success: function(){\n                    location.reload();\n                }\n            });\n        }\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>You may or may not have noticed, but you need to change the url to your actual domain.</p>\n\n<p>One last thing.  You are probably wondering what the heck timezone.php is.  Well, it is simply this:\n(create a new file called <strong>timezone.php</strong> and point to it with the above url)</p>\n\n<pre><code>&lt;?php\n    session_start();\n    $_SESSION['time'] = $_GET['time'];\n?&gt;\n</code></pre>\n\n<p>If this works correctly, it will first load the page, execute the JavaScript, and reload the page.  You will then be able to read the $timezone variable and use it to your pleasure!  It returns the current UTC/GMT time zone offset (GMT -7) or whatever timezone you are in.</p>\n\n<p>You can read more about this on my <a href=\"http://www.westy92.com/?p=54\">blog</a></p>\n\n<p>Cheers</p>\n\n<p><code>&lt;/Westy92&gt;</code></p>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>On server-side it will be not as accurate as with JavaScript. Meanwhile, sometimes it is required to solve such task. Just to share the possible solution in this case I write this answer.</p>\n\n<p>If you need to determine user's time zone it could be done via Geo-IP services. Some of them providing timezone. For example, this one (<a href=\"http://smart-ip.net/geoip-api\">http://smart-ip.net/geoip-api</a>) could help:</p>\n\n<pre><code>&lt;?php\n$ip     = $_SERVER['REMOTE_ADDR']; // means we got user's IP address \n$json   = file_get_contents( 'http://smart-ip.net/geoip-json/' . $ip); // this one service we gonna use to obtain timezone by IP\n// maybe it's good to add some checks (if/else you've got an answer and if json could be decoded, etc.)\n$ipData = json_decode( $json, true);\n\nif ($ipData['timezone']) {\n    $tz = new DateTimeZone( $ipData['timezone']);\n    $now = new DateTime( 'now', $tz); // DateTime object corellated to user's timezone\n} else {\n   // we can't determine a timezone - do something else...\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/13/how-can-i-determine-a-web-users-time-zone\">How can I determine a web user&#39;s time zone?</a>  </p>\n</blockquote>\n\n\n\n<p>Which is the best way to do this ? php or javascript.Can someone provide me with some snippets ? thanks.</p>\n",
            "last_activity_date": 1337968550,
            "question_id": 4746249,
            "score": 13,
            "tags": [
                "php",
                "javascript",
                "timezone"
            ],
            "title": "get user timezone"
        },
        {
            "answer_count": 14,
            "answers": [
                {
                    "body": "<p>That seems a rather weird design for your code - it generally makes more sense to have your functions called directly from a .js file, and then only retrieve data with the Ajax call.</p>\n\n<p>However, I believe it should work by calling <a href=\"http://www.w3schools.com/jsref/jsref_eval.asp\" rel=\"nofollow\">eval()</a> on the response - provided it is syntactically correct JavaScript code.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>With jQuery I would do it using <a href=\"http://docs.jquery.com/Ajax/jQuery.getScript#urlcallback\" rel=\"nofollow\">getScript</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This does not sound like a good idea. </p>\n\n<p>You should abstract out the function to include in the rest of your JavaScript code from the data returned by Ajax methods.</p>\n\n<p>For what it's worth, though, (and I don't understand why you're inserting a script block in a div?) even inline script methods written in a script block will be accessible.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It is fully possible, and there are even some fairly legitimate use cases for this. Using the <a href=\"http://en.wikipedia.org/wiki/Prototype_JavaScript_Framework\" rel=\"nofollow\">Prototype</a> framework it's done as follows.</p>\n\n<pre><code>new Ajax.Updater('items', '/items.url', {\n    parameters: { evalJS: true}\n});\n</code></pre>\n\n<p>See <a href=\"http://www.prototypejs.org/api/ajax/updater\" rel=\"nofollow\">documentation</a> of the Ajax updater. The options are in the <a href=\"http://www.prototypejs.org/api/ajax/options\" rel=\"nofollow\">common options set</a>. As usual, there are some caveats about where \"this\" points to, so read the fine print.</p>\n\n<p>The JavaScript code will be evaluated upon load. If the content contains function <code>myFunc(),</code>\nyou could really just say <code>myFunc()</code> afterwards. Maybe as follows.</p>\n\n<pre><code>if (window[\"myFunc\"])\n   myFunc()\n</code></pre>\n\n<p>This checks if the function exists. Maybe someone has a better cross-browser way of doing that which works in Internet&nbsp;Explorer&nbsp;6.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I think to correctly interpret your question under this form: \"OK, I'm already done with all the Ajax stuff; I just wish to know if the JavaScript function my Ajax callback inserted into the DIV is callable at any time from that moment on, that is, I do not want to call it contextually to the callback return\".</p>\n\n<p>OK, if you mean something like this the answer is yes, you can invoke your new code by that moment at any time during the page persistence within the browser, under the following conditions:</p>\n\n<p>1) Your JavaScript code returned by Ajax callback must be syntactically OK;<br>\n2) Even if your function declaration is inserted into a <code>&lt;script&gt;</code> block within an existing <code>&lt;div&gt;</code> element, the browser won't know the new function exists, as the declaration code has never been executed. So, you must <code>eval()</code> your declaration code returned by the Ajax callback, in order to effectively declare your new function and have it available during the whole page lifetime.</p>\n\n<p>Even if quite dummy, this code explains the idea:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body&gt;\n        &lt;div id=\"div1\"&gt;\n        &lt;/div&gt;\n        &lt;div id=\"div2\"&gt;\n            &lt;input type=\"button\" value=\"Go!\" onclick=\"go()\" /&gt;\n        &lt;/div&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            var newsc = '&lt;script id=\"sc1\" type=\"text/javascript\"&gt;function go() { alert(\"GO!\") }&lt;\\/script&gt;';\n            var e = document.getElementById('div1');\n            e.innerHTML = newsc;\n            eval(document.getElementById('sc1').innerHTML);\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I didn't use Ajax, but the concept is the same (even if the example I chose sure isn't much smart :-)</p>\n\n<p>Generally speaking, I do not question your solution design, i.e. whether it is more or less appropriate to externalize + generalize the function in a separate .js file and the like, but please take note that such a solution could raise further problems, especially if your Ajax invocations should repeat, i.e. if the context of the same function should change or in case the declared function persistence should be concerned, so maybe you should seriously consider to change your design to one of the suggested examples in this thread.</p>\n\n<p>Finally, if I misunderstood your question, and you're talking about <em>contextual</em> invocation of the function when your Ajax callback returns, then my feeling is to suggest the Prototype approach <a href=\"http://stackoverflow.com/questions/510779/calling-a-javascript-function-returned-from-a-ajax-response/510818#510818\">described by krosenvold</a>, as it is cross-browser, tested and fully functional, and this can give you a better roadmap for future implementations.</p>\n",
                    "is_accepted": true,
                    "score": 46
                },
                {
                    "body": "<p>Just remember if you create a function the way below through ajax...</p>\n\n<pre><code>function foo()\n{\n    console.log('foo');\n}\n</code></pre>\n\n<p>...and execute it via eval, you'll probably get a context problem.\nTake this as your callback function:</p>\n\n<pre><code>function callback(result)\n{\n    responseDiv = document.getElementById('responseDiv');\n    responseDiv.innerHTML = result;\n    scripts = responseDiv.getElementsByTagName('script');\n    eval(scripts[0]);\n}\n</code></pre>\n\n<p>You'll be declaring a function inside a function, so this new function will be accessible only on that scope.</p>\n\n<p>If you want to create a global function in this scenario, you could declare it this way:</p>\n\n<pre><code>window.foo = function ()\n{\n    console.log('foo');\n};\n</code></pre>\n\n<p>But, I also think you shouldn't be doing this...</p>\n\n<p>Sorry for any mistake here...</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>A checklist for doing such a thing:</p>\n\n<ol>\n<li>the returned Ajax response is eval(ed).</li>\n<li>the functions are declared in form <code>func_name = function() {...}</code></li>\n</ol>\n\n<p>Better still, use frameworks which handles it like in <a href=\"http://en.wikipedia.org/wiki/Prototype_JavaScript_Framework\" rel=\"nofollow\">Prototype</a>. You have <code>Ajax.updater</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I've tested this and it works. What's the problem? Just put the new function inside your javascript element and then call it. It will work.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h1>None of these worked for me</h1>\n\n<h2>The following does!</h2>\n\n<p>It took me a few hours to find a workaround.</p>\n\n<p>Inside the returned HTML/Ajax/JavaScript file, you will have a JavaScript tag. Give it an ID, like <em>runscript</em>. It's uncommon to add an id to these tags, but it's needed to reference it specifically.</p>\n\n<pre><code>&lt;script type=\"text/javascript\" id=\"runscript\"&gt;\n    alert(\"running from main\");\n&lt;/script&gt;\n</code></pre>\n\n<p>In the main window, then call the eval function by evaluating only that NEW block of JavaScript code (in this case, it's called <em>runscript</em>):</p>\n\n<pre><code>eval(document.getElementById(\"runscript\").innerHTML);\n</code></pre>\n\n<p>And it works, at least in Internet&nbsp;Explorer&nbsp;9 and Google Chrome.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>I would like to add that there's an eval function in jQuery allowing you to eval the code globally which should get you rid of any contextual problems. The function is called <a href=\"http://api.jquery.com/jQuery.globalEval/\" rel=\"nofollow\">globalEval()</a> and it worked great for my purposes. Its documentation can be found <a href=\"http://api.jquery.com/jQuery.globalEval/\" rel=\"nofollow\">here</a>.</p>\n\n<p>This is the example code provided by the jQuery API documentation:</p>\n\n<pre><code>function test()\n{\n  jQuery.globalEval(\"var newVar = true;\")\n}\n\ntest();\n// newVar === true\n</code></pre>\n\n<p>This function is extremely useful when it comes to loading external scripts dynamically which you apparently were trying to do.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I tried all the techniques offered here but finally the way that worked was simply to put the JavaScript function inside the page / file where it is supposed to happen and call it from the response part of the Ajax simply as a function:</p>\n\n<pre><code>...\n}, function(data) {\n    afterOrder();\n}\n</code></pre>\n\n<p>This Worked on the first attempt, so I decided to share.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This code work as well, instead eval the html i'm going to append the script to the head</p>\n\n<pre><code>function RunJS(objID) {\n//alert(http_request.responseText);\nvar c=\"\";\nvar ob = document.getElementById(objID).getElementsByTagName(\"script\");\nfor (var i=0; i &lt; ob.length - 1; i++) {\n    if (ob[i + 1].text != null) \n       c+=ob[i + 1].text;\n}\nvar s = document.createElement(\"script\");\ns.type = \"text/javascript\";\ns.text = c;\ndocument.getElementsByTagName(\"head\")[0].appendChild(s);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>PHP side code\nName of file class.sendCode.php</p>\n\n<pre><code>&lt;?php\nclass  sendCode{ \n\nfunction __construct($dateini,$datefin) {\n\n            echo $this-&gt;printCode($dateini,$datefin);\n        }\n\n    function printCode($dateini,$datefin){\n\n        $code =\" alert ('code Coming from AJAX {$this-&gt;dateini} and {$this-&gt;datefin}');\";\n//Insert all the code you want to execute, \n//only javascript or Jquery code , dont incluce &lt;script&gt; tags\n            return $code ;\n    }\n}\nnew sendCode($_POST['dateini'],$_POST['datefin']);\n</code></pre>\n\n<p>Now from your  Html page you must trigger the ajax function to send the data.</p>\n\n<pre><code>....  &lt;script src=\"http://code.jquery.com/jquery-1.9.1.js\"&gt;&lt;/script&gt; ....\nDate begin: &lt;input type=\"text\" id=\"startdate\"&gt;&lt;br&gt;\nDate end : &lt;input type=\"text\" id=\"enddate\"&gt;&lt;br&gt;\n&lt;input type=\"button\" value=\"validate'\" onclick=\"triggerAjax()\"/&gt;\n</code></pre>\n\n<p>Now at our local script.js we will define the ajax</p>\n\n<pre><code>function triggerAjax() {\n    $.ajax({\n            type: \"POST\",\n            url: 'class.sendCode.php',\n            dataType: \"HTML\",\n            data : {\n\n                dateini : $('#startdate').val(),\n                datefin : $('#enddate').val()},\n\n                  success: function(data){\n                      $.globalEval(data);\n// here is where the magic is made by executing the data that comes from\n// the php class.  That is our javascript code to be executed\n                  }\n\n\n        });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I solved this today by putting my JavaScript at the bottom of the response HTML.</p>\n\n<p>I had an AJAX request that returned a bunch of HTML that was displayed in an overlay.  I needed to attach a click event to a button in the returned response HTML/overlay.  On a normal page, I would wrap my JavaScript in a \"window.onload\" or \"$(document).ready\" so that it would attach the event handler to the DOM object after the DOM for the new overlay had been rendered, but because this was an AJAX response and not a new page load, that event never happened, the browser never executed my JavaScript, my event handler never got attached to the DOM element, and my new piece of functionality didn't work.  Again, I solved my \"executing JavaScript in an AJAX response problem\" by not using \"$(document).ready\" in the head of the document, but by placing my JavaScript at the end of the document and having it run after the HTML/DOM had been rendered.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a system where I send an Ajax command, which returns a script block with a function in it. After this data is correctly inserted in the DIV, I want to be able to call this function to perform the required actions.</p>\n\n<p>Is this possible?</p>\n",
            "last_activity_date": 1391637605,
            "question_id": 510779,
            "score": 40,
            "tags": [
                "javascript",
                "ajax",
                "function"
            ],
            "title": "Calling a JavaScript function returned from an Ajax response"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>There is only one existing thing at the moment that can actually do what you want, but unfortunately is not widely implemented:</p>\n\n<ul>\n<li><a href=\"http://wiki.ecmascript.org/doku.php?id=harmony%3aproxies\">ECMAScript Harmony Proxies</a>.</li>\n</ul>\n\n<p>There are only <em>two working</em> implementations available at this time, in the latest Firefox 4 betas (it has been around since FF3.7 pre-releases) and in <a href=\"https://npmjs.org/package/node-proxy\">node-proxy</a> for server-side JavaScript -<a href=\"http://code.google.com/p/v8/issues/detail?id=633\">Chrome</a> and <a href=\"https://bugs.webkit.org/show_bug.cgi?id=35731\">Safari</a> are currently working on it-.</p>\n\n<p>It is one of the <a href=\"http://wiki.ecmascript.org/doku.php?id=harmony%3aproposals&amp;s=harmony\">early proposals</a> for the <a href=\"http://en.wikipedia.org/wiki/ECMAScript#ECMAScript_Harmony\">next version of ECMAScript</a>, it's an API that allows you to implement <em>virtualized</em> objects (proxies), where you can assign a variety of <em>traps</em> -callbacks- that are executed in different situations, you gain full control on what at this time -in ECMAScript 3/5- only host objects could do.</p>\n\n<p>To build a proxy object, you have to use the <code>Proxy.create</code> method, since you are interested in the <code>set</code> and <code>get</code> traps, I leave you a really simple example:</p>\n\n<pre><code>var p = Proxy.create({\n  get: function(proxy, name) {        // intercepts property access\n    return 'Hello, '+ name;\n  },\n  set: function(proxy, name, value) { // intercepts property assignments\n    alert(name +'='+ value);\n    return true;\n  }\n});\n\nalert(p.world); // alerts 'Hello, world'\np.foo = 'bar';  // alerts foo=bar\n</code></pre>\n\n<p>Try it out <a href=\"http://jsbin.com/ucupe4/edit\">here</a>.</p>\n\n<p>The Proxy API is so new that isn't even documented on the Mozilla Developer Center, but as I said, a working implementation has been included since the Firefox 3.7 pre-releases.</p>\n\n<p>The <code>Proxy</code> object is available in the global scope and the <code>create</code> method can take two arguments, a <code>handler</code> object, which is simply an object that contains properties named as the traps you want to implement, and an optional <code>proto</code> argument, that makes you able to specify an object that your proxy inherits from.</p>\n\n<p>The traps available are:</p>\n\n<pre><code>// TrapName(args)                          Triggered by\n// Fundamental traps\ngetOwnPropertyDescriptor(name):           // Object.getOwnPropertyDescriptor(proxy, name)\ngetPropertyDescriptor(name):              // Object.getPropertyDescriptor(proxy, name) [currently inexistent in ES5]\ndefineProperty(name, propertyDescriptor): // Object.defineProperty(proxy,name,pd)\ngetOwnPropertyNames():                    // Object.getOwnPropertyNames(proxy) \ngetPropertyNames():                       // Object.getPropertyNames(proxy) \ndelete(name):                             // delete proxy.name\nenumerate():                              // for (name in proxy)\nfix():                                    // Object.{freeze|seal|preventExtensions}(proxy)\n\n// Derived traps\nhas(name):                                // name in proxy\nhasOwn(name):                             // ({}).hasOwnProperty.call(proxy, name)\nget(receiver, name):                      // receiver.name\nset(receiver, name, val):                 // receiver.name = val\nkeys():                                   // Object.keys(proxy)\n</code></pre>\n\n<p>The only resource I've seen, besides the proposal by itself is the following tutorial:</p>\n\n<ul>\n<li><a href=\"http://prog.vub.ac.be/~tvcutsem/proxies/index.html\">Harmony Proxies: Tutorial</a></li>\n</ul>\n\n<p><strong>Edit:</strong> More information is coming out, Brendan Eich recently gave a talk at the <a href=\"http://JSConf.eu\">JSConf.eu</a> Conference, you can find his slides here:</p>\n\n<ul>\n<li><a href=\"http://jsconf.eu/2010/speaker/be_proxy_objects.html\">Proxies are Awesome!</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 54
                },
                {
                    "body": "<p>I don't believe this type of metaprogramming is possible (yet) in javascript.  Instead, try using the <code>__noSuchMethod__</code> functionality to achieve the effect with property getters.  Not cross-browser as it's a <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/NoSuchMethod\" rel=\"nofollow\">Mozilla extension</a>.  </p>\n\n<pre><code>var proxy = {\n    __noSuchMethod__: function(methodName, args) {\n       if(methodName.substr(0,3)==\"get\") {\n          var property = methodName.substr(3).toLowerCase();                             \n          if (property in this) {\n              return this[property];\n          }\n       }\n    }, color: \"red\"\n };\n alert(proxy.getColor());           \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>There is <code>__defineGetter__</code>, <code>__defineSetter__</code>, <code>__lookupGetter__</code> and <code>__lookupSetter__</code> in addition to <code>__noSuchMethod__</code> in SpiderMonkey. See here: <a href=\"http://offthelip.org/?p=101\" rel=\"nofollow\">http://offthelip.org/?p=101</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>There is a <strong>noSuchMethod</strong> feature in some javascript implementations (Rhino, SpiderMonkey)</p>\n\n<pre><code>proxy = {\n    __noSuchMethod__: function(methodName, args){\n        return \"The \" + methodName + \" method isn't implemented yet. HINT: I accept cash and beer bribes\" ;\n    },\n\n    realMethod: function(){\n     return \"implemented\" ;   \n    }\n}\n\njs&gt; proxy.realMethod()\nimplemented\njs&gt; proxy.newIPod()\nThe newIPod method isn't implemented yet. HINT: I accept cash and beer bribes\njs&gt;\n</code></pre>\n\n<p>I was wondering, is there was a way to do something similar for properties? I'd like to write proxy classes that can dispatch on properties as well as methods.</p>\n",
            "last_activity_date": 1380161523,
            "question_id": 2266789,
            "score": 32,
            "tags": [
                "javascript"
            ],
            "title": "Is there an equivalent of the __noSuchMethod__ feature for properties, or a way to implement it in JS?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p><code>addEventListener</code> is supported from version 9 onwards; for older versions use the somewhat similar <code>attachEvent</code> function.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As Delan said, you want to use a combination of addEventListener for newer versions, and attachEvent for older ones. </p>\n\n<p>You'll find more information about event listeners on <a href=\"https://developer.mozilla.org/en/DOM/element.addEventListener#Internet_Explorer\" rel=\"nofollow\">MDN</a>. (Note there are some caveats with the value of 'this' in your listener). </p>\n\n<p>You can also use a framework like <a href=\"http://api.jquery.com/bind/\" rel=\"nofollow\">jQuery</a> to abstract the event handling altogether. </p>\n\n<pre><code>$(\"#someelementid\").bind(\"click\", function (event) {\n   // etc... $(this) is whetver caused the event\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><code>addEventListener</code> is the proper DOM method to use for attaching event handlers.</p>\n\n<p>Internet Explorer (up to version 8) used an alternate <code>attachEvent</code> method.</p>\n\n<p>Internet Explorer 9 supports the proper <code>addEventListener</code> method.</p>\n\n<p>The following should be an attempt to write a cross-browser <code>addEvent</code> function.</p>\n\n<pre><code>function addEvent(evnt, elem, func) {\n   if (elem.addEventListener)  // W3C DOM\n      elem.addEventListener(evnt,func,false);\n   else if (elem.attachEvent) { // IE DOM\n      elem.attachEvent(\"on\"+evnt, func);\n   }\n   else { // No much to do\n      elem[evnt] = func;\n   }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 73
                },
                {
                    "body": "<p>John Resig, author of <strong>Secrets of the JavaScript Ninja</strong>, submitted his version of cross-browser implementation of <code>addEvent</code> and <code>removeEvent</code> to circumvent compatibility issues with IE's improper or non-existent <code>addEventListener</code>.</p>\n\n<pre><code>function addEvent( obj, type, fn ) {\n  if ( obj.attachEvent ) {\n    obj['e'+type+fn] = fn;\n    obj[type+fn] = function(){obj['e'+type+fn]( window.event );}\n    obj.attachEvent( 'on'+type, obj[type+fn] );\n  } else\n    obj.addEventListener( type, fn, false );\n}\nfunction removeEvent( obj, type, fn ) {\n  if ( obj.detachEvent ) {\n    obj.detachEvent( 'on'+type, obj[type+fn] );\n    obj[type+fn] = null;\n  } else\n    obj.removeEventListener( type, fn, false );\n}\n</code></pre>\n\n<p>Source: <a href=\"http://ejohn.org/projects/flexible-javascript-events/\">http://ejohn.org/projects/flexible-javascript-events/</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I'm using this solution and works in IE8 or greater.</p>\n\n<pre><code>if (typeof Element.prototype.addEventListener === 'undefined') {\n    Element.prototype.addEventListener = function (e, callback) {\n      e = 'on' + e;\n      return this.attachEvent(e, callback);\n    };\n  }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>this is a way for emulate addEventListener or attachEvent on browsers that don't support one of those<br>\nhope will help</p>\n\n<pre><code>(function (w,d) {  // \n    var\n        nc  = \"\", nu    = \"\", nr    = \"\", t,\n        a   = \"addEventListener\",\n        n   = a in w,\n        c   = (nc = \"Event\")+(n?(nc+= \"\", \"Listener\") : (nc+=\"Listener\",\"\") ),\n        u   = n?(nu = \"attach\", \"add\"):(nu = \"add\",\"attach\"),\n        r   = n?(nr = \"detach\",\"remove\"):(nr = \"remove\",\"detach\")\n/*\n * the evtf function, when invoked, return \"attach\" or \"detach\" \"Event\" functions if we are on a new browser, otherwise add \"add\" or \"remove\" \"EventListener\"\n */\n    function evtf(whoe){return function(evnt,func,capt){return this[whoe]((n?((t = evnt.split(\"on\"))[1] || t[0]) : (\"on\"+evnt)),func, (!n &amp;&amp; capt? (whoe.indexOf(\"detach\") &lt; 0 ? this.setCapture() : this.removeCapture() ) : capt  ))}}\n    w[nu + nc] = Element.prototype[nu + nc] = document[nu + nc] = evtf(u+c) // (add | attach)Event[Listener]\n    w[nr + nc] = Element.prototype[nr + nc] = document[nr + nc] = evtf(r+c) // (remove | detach)Event[Listener]\n\n})(window, document)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>What is the equivalent to the Element Object in Internet Explorer 9?</p>\n\n<pre><code>if (!Element.prototype.addEventListener) {\n    Element.prototype.addEventListener = function() { .. } \n} \n</code></pre>\n\n<p>How does it works in Internet Explorer?</p>\n\n<p>If there's a function equal to <code>addEventListener</code> and I don't know, explain please. </p>\n\n<p>Any help would be appreciated. Feel free to suggest a completely different way of solving the problem.</p>\n",
            "last_activity_date": 1422054375,
            "question_id": 6927637,
            "score": 29,
            "tags": [
                "javascript",
                "internet-explorer",
                "internet-explorer-9",
                "addeventlistener"
            ],
            "title": "addEventListener in Internet Explorer"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>It means that the object you pass in the request (I guess it is <code>pagedoc</code>) has a circular reference, something like:</p>\n\n<pre><code>var a = {};\na.b = a;\n</code></pre>\n\n<p><code>JSON.stringify</code> cannot convert structures like this.</p>\n\n<p><strong>N.B.</strong>: This would be the case with DOM nodes, which have circular references, even if they are not attached to the DOM tree. Each node has an <em><code>ownerDocument</code></em> which refers to <code>document</code> in most cases. <code>document</code> has a reference to the DOM tree at least through <code>document.body</code> and <code>document.body.ownerDocument</code> refers back to <code>document</code> again, which is only <em>one</em> of multiple circular references in the DOM tree.</p>\n",
                    "is_accepted": true,
                    "score": 133
                },
                {
                    "body": "<p>I have experienced the same error when trying to build the message below with jQuery. The circular reference happens when <code>reviewerName</code> was being mistakenly assigned to <code>msg.detail.reviewerName</code>. JQuery's .val() fixed the issue, see last line.</p>\n\n<pre><code>var reviewerName = $('reviewerName'); // &lt;input type=\"text\" id=\"taskName\" /&gt;;\nvar msg = {\"type\":\"A\", \"detail\":{\"managerReview\":true} };\nmsg.detail.reviewerName = reviewerName; // Error\nmsg.detail.reviewerName = reviewerName.val(); // Fixed\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As per <a href=\"https://developer.mozilla.org/En/Using_native_JSON\" rel=\"nofollow\">the JSON docs at Mozilla</a>, <code>JSON.Stringify</code> has a second parameter <code>censor</code> which can be used to filter/ignore children items while parsing the tree. However, perhaps you can avoid the circular references.</p>\n\n<p>In Node.js we cannot. So we can do something like this:</p>\n\n<pre><code>function censor(censor) {\n  var i = 0;\n\n  return function(key, value) {\n    if(i !== 0 &amp;&amp; typeof(censor) === 'object' &amp;&amp; typeof(value) == 'object' &amp;&amp; censor == value) \n      return '[Circular]'; \n\n    if(i &gt;= 29) // seems to be a harded maximum of 30 serialized objects?\n      return '[Unknown]';\n\n    ++i; // so we know we aren't using the original object anymore\n\n    return value;  \n  }\n}\n\nvar b = {foo: {bar: null}};\n\nb.foo.bar = b;\n\nconsole.log(\"Censoring: \", b);\n\nconsole.log(\"Result: \", JSON.stringify(b, censor(b)));\n</code></pre>\n\n<p>The result:</p>\n\n<pre><code>Censoring:  { foo: { bar: [Circular] } }\nResult: {\"foo\":{\"bar\":\"[Circular]\"}}\n</code></pre>\n\n<p>Unfortunately there seems to be a maximum of 30 iterations before it automatically assumes it's circular. Otherwise, this should work. I even used <code>areEquivalent</code> <a href=\"http://stackoverflow.com/questions/1068834/object-comparison-in-javascript\">from here</a>, but <code>JSON.Stringify</code> still throws the exception after 30 iterations. Still, it's good enough to get a decent representation of the object at a top level, if you really need it. Perhaps somebody can improve upon this though? In Node.js for an HTTP request object, I'm getting:</p>\n\n<pre><code>{\n\"limit\": null,\n\"size\": 0,\n\"chunks\": [],\n\"writable\": true,\n\"readable\": false,\n\"_events\": {\n    \"pipe\": [null, null],\n    \"error\": [null]\n},\n\"before\": [null],\n\"after\": [],\n\"response\": {\n    \"output\": [],\n    \"outputEncodings\": [],\n    \"writable\": true,\n    \"_last\": false,\n    \"chunkedEncoding\": false,\n    \"shouldKeepAlive\": true,\n    \"useChunkedEncodingByDefault\": true,\n    \"_hasBody\": true,\n    \"_trailer\": \"\",\n    \"finished\": false,\n    \"socket\": {\n        \"_handle\": {\n            \"writeQueueSize\": 0,\n            \"socket\": \"[Unknown]\",\n            \"onread\": \"[Unknown]\"\n        },\n        \"_pendingWriteReqs\": \"[Unknown]\",\n        \"_flags\": \"[Unknown]\",\n        \"_connectQueueSize\": \"[Unknown]\",\n        \"destroyed\": \"[Unknown]\",\n        \"bytesRead\": \"[Unknown]\",\n        \"bytesWritten\": \"[Unknown]\",\n        \"allowHalfOpen\": \"[Unknown]\",\n        \"writable\": \"[Unknown]\",\n        \"readable\": \"[Unknown]\",\n        \"server\": \"[Unknown]\",\n        \"ondrain\": \"[Unknown]\",\n        \"_idleTimeout\": \"[Unknown]\",\n        \"_idleNext\": \"[Unknown]\",\n        \"_idlePrev\": \"[Unknown]\",\n        \"_idleStart\": \"[Unknown]\",\n        \"_events\": \"[Unknown]\",\n        \"ondata\": \"[Unknown]\",\n        \"onend\": \"[Unknown]\",\n        \"_httpMessage\": \"[Unknown]\"\n    },\n    \"connection\": \"[Unknown]\",\n    \"_events\": \"[Unknown]\",\n    \"_headers\": \"[Unknown]\",\n    \"_headerNames\": \"[Unknown]\",\n    \"_pipeCount\": \"[Unknown]\"\n},\n\"headers\": \"[Unknown]\",\n\"target\": \"[Unknown]\",\n\"_pipeCount\": \"[Unknown]\",\n\"method\": \"[Unknown]\",\n\"url\": \"[Unknown]\",\n\"query\": \"[Unknown]\",\n\"ended\": \"[Unknown]\"\n}\n</code></pre>\n\n<p>I created a small Node.js module to do this here: <a href=\"https://github.com/ericmuyser/stringy\" rel=\"nofollow\">https://github.com/ericmuyser/stringy</a> Feel free to improve/contribute!</p>\n",
                    "is_accepted": false,
                    "score": 44
                }
            ],
            "body": "<p>I've got the following...</p>\n\n<pre><code>chrome.extension.sendRequest({\n            req: \"getDocument\",\n            docu: pagedoc,\n            name: 'name'\n        }, function(response){\n            var efjs = response.reply;\n        });\n</code></pre>\n\n<p>which calls the following..</p>\n\n<pre><code> case \"getBrowserForDocumentAttribute\":\nalert(\"ZOMG HERE\");\nsendResponse({\nreply: getBrowserForDocumentAttribute(request.docu,request.name)\n         });\nbreak;\n</code></pre>\n\n<p>However, my code never reaches \"ZOMG HERE\" but rather throws the following error while running <code>chrome.extension.sendRequest</code></p>\n\n<pre><code> Uncaught TypeError: Converting circular structure to JSON\n chromeHidden.JSON.stringify\n chrome.Port.postMessage\n chrome.initExtension.chrome.extension.sendRequest\n suggestQuery\n</code></pre>\n\n<p>Does anyone have any idea what is causing this?</p>\n",
            "last_activity_date": 1425579579,
            "question_id": 4816099,
            "score": 73,
            "tags": [
                "javascript",
                "json",
                "google-chrome",
                "google-chrome-extension"
            ],
            "title": "Chrome sendrequest error: TypeError: Converting circular structure to JSON"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>We use this code to check if the string is a valid date</p>\n\n<pre><code>var dt = new Date(txtDate.value)\nif (isNaN(dt))\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>See:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date\">Mozilla Core JavaScript Reference: Date object</a></li>\n<li><a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/String/split\">Mozilla Core JavaScript Reference: String.Split</a></li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>var strDate = \"03.09.1979\";\nvar dateParts = strDate.split(\".\");\n\nvar date = new Date(dateParts[2], (dateParts[1] - 1), dateParts[0]);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 104
                },
                {
                    "body": "<p>If you are using jQuery UI, you can format any date with:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body&gt;\n        Your date formated: &lt;span id=\"date1\"&gt;&lt;/span&gt;&lt;br/&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>&nbsp;</p>\n\n<pre><code>var myDate = '30.11.2011';\nvar parsedDate = $.datepicker.parseDate('dd.mm.yy', myDate);\n\n$('#date1').text($.datepicker.formatDate('M d, yy', parsedDate));\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/mescalito2345/ND2Qg/14/\">http://jsfiddle.net/mescalito2345/ND2Qg/14/</a></p>\n",
                    "is_accepted": false,
                    "score": 39
                },
                {
                    "body": "<p>ASP.NET developers have the choice of this handy built-in (MS JS must be included in page):</p>\n\n<pre><code>var date = Date.parseLocale('20-Mar-2012', 'dd-MMM-yyyy');\n</code></pre>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/bb397521%28v=vs.100%29.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/bb397521%28v=vs.100%29.aspx</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Use Date object:</p>\n\n<pre><code>var time = Date.parse('02.02.1999');\ndocument.writeln(time);\n</code></pre>\n\n<p>Give: 917902800000</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This function handles also the invalid 29.2.2001 date.</p>\n\n<pre><code>function parseDate(str) {\n    var dateParts = str.split(\".\");\n    if (dateParts.length != 3)\n        return null;\n    var year = dateParts[2];\n    var month = dateParts[1];\n    var day = dateParts[0];\n\n    if (isNaN(day) || isNaN(month) || isNaN(year))\n        return null;\n\n    var result = new Date(year, (month - 1), day);\n    if (result == null)\n        return null;\n    if (result.getDate() != day)\n        return null;\n    if (result.getMonth() != (month - 1))\n        return null;\n    if (result.getFullYear() != year)\n        return null;\n\n    return result;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>refs:\n<a href=\"http://momentjs.com/docs/#/parsing/string/\" rel=\"nofollow\">http://momentjs.com/docs/#/parsing/string/</a></p>\n\n<p>If you use moment.js, you can use \"string\" + \"format\" mode</p>\n\n<pre><code>moment(String, String);\nmoment(String, String, String);\nmoment(String, String, Boolean);\nmoment(String, String, String, Boolean);\n</code></pre>\n\n<p>ex:</p>\n\n<pre><code>moment(\"12-25-1995\", \"MM-DD-YYYY\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'v been used following code in IE. (IE8 compatible)</p>\n\n<pre><code>var dString = \"2013.2.4\";\nvar myDate = new Date( dString.replace(/(\\d+)\\.(\\d+)\\.(\\d+)/,\"$2/$3/$1\") );\nalert( \"my date:\"+ myDate );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Does anyone know how to parse date string in required format <code>dd.mm.yyyy</code>?</p>\n",
            "last_activity_date": 1412909550,
            "question_id": 1576753,
            "score": 67,
            "tags": [
                "javascript",
                "datetime-format",
                "datetime-parsing"
            ],
            "title": "Parse DateTime string in JavaScript"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>You can parse the URL of the current page to obtain the GET parameters. The URL can be found by using <code>location.href</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use the URL to acquire the GET variables.  In particular, <code>window.location.search</code> gives everything after (and including) the '?'.  You can read more about window.location <a href=\"https://developer.mozilla.org/en/window.location\" rel=\"nofollow\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>All data is available under</p>\n\n<pre><code>window.location.search\n</code></pre>\n\n<p>you have to parse the string, eg.</p>\n\n<pre><code>function get(name){\n   if(name=(new RegExp('[?&amp;]'+encodeURIComponent(name)+'=([^&amp;]*)')).exec(location.search))\n      return decodeURIComponent(name[1]);\n}\n</code></pre>\n\n<p>just call the function with GET variable name as parameter, eg.</p>\n\n<pre><code>get('foo');\n</code></pre>\n\n<p>this function will return the variables value or undefined if variable has no value or doesn't exist</p>\n",
                    "is_accepted": true,
                    "score": 88
                },
                {
                    "body": "<p>If you already use jquery there is a jquery plugin that handles this:</p>\n\n<p><a href=\"http://plugins.jquery.com/project/query-object\" rel=\"nofollow\">http://plugins.jquery.com/project/query-object</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You could use <code>jquery.url</code> I did like this:</p>\n\n<pre><code>var xyz = jQuery.url.param(\"param_in_url\");\n</code></pre>\n\n<p><a href=\"https://github.com/allmarkedup/jQuery-URL-Parser/blob/master/jquery.url.js\">Check the source code</a></p>\n\n<p>Updated Source: <a href=\"https://github.com/allmarkedup/jQuery-URL-Parser\">https://github.com/allmarkedup/jQuery-URL-Parser</a></p>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>Just to put my two sense in... if you wanted an object containing all the requests....</p>\n\n<pre><code>function getRequests() {\n    var s1 = location.search.substring(1, location.search.length).split('&amp;'),\n        r = {}, s2, i;\n    for (i = 0; i &lt; s1.length; i += 1) {\n        s2 = s1[i].split('=');\n        r[decodeURIComponent(s2[0]).toLowerCase()] = decodeURIComponent(s2[1]);\n    }\n    return r;\n};\n\nvar QueryString = getRequests();\n\n//if url === \"index.html?test1=t1&amp;test2=t2&amp;test3=t3\"\nconsole.log(QueryString[\"test1\"]); //logs t1\nconsole.log(QueryString[\"test2\"]); //logs t2\nconsole.log(QueryString[\"test3\"]); //logs t3\n</code></pre>\n\n<p>Note, the key for each get param is set to lowercase, so I made a helper function... so its case-insensitive....</p>\n\n<pre><code>function Request(name){\n    return QueryString[name.toLowerCase()];\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>A map-reduce solution:</p>\n\n<pre><code>var urlParams = location.search.split(/[?&amp;]/).slice(1).map(function(paramPair) {\n        return paramPair.split(/=(.+)?/).slice(0, 2);\n    }).reduce(function (obj, pairArray) {            \n        obj[pairArray[0]] = pairArray[1];\n        return obj;\n    }, {});\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>For url: http://example.com?one=1&amp;two=2\nconsole.log(urlParams.one) // 1\nconsole.log(urlParams.two) // 2\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How to get \"GET\" variables from request in JavaScript?</p>\n\n<p>Does jQuery or YUI! have this feature built-in?</p>\n",
            "last_activity_date": 1425477012,
            "question_id": 831030,
            "score": 37,
            "tags": [
                "javascript"
            ],
            "title": "How to get &quot;GET&quot; request parameters in JavaScript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Without knowing more about the context, it is hard to give an exact answer, but yes it would be possible, but it will be quite complex for most cases. Depending on the usecase, there are a few ways to go.</p>\n\n<p><strong>Cookies or Local storage</strong></p>\n\n<p>You could use some sort of client-side storage (cookies, local storage or similar) and save information about what elements were modified and how. Whenever the page is reloaded you read that storage and apply the changes. How to implement it will depend on how those changes are made, and will be to0 extensive to cover in a single SO-answer I'm afraid.</p>\n\n<p><strong>Server-side storage</strong></p>\n\n<p>If you know who each user is (you have some form of authentication), whenever they change the appearance of something (however that is made), you make an ajax-request to the server and save those changes to a database. On every subsequent page load, you would then have to check what use is making the request, do a lookup in your database to see if they've made any changes, and in that case apply them accordingly.</p>\n\n<p>Common for both the client- and server-side storage solutions is that they will be quite extensive to implement I believe.</p>\n\n<p><strong>Browser plugin</strong></p>\n\n<p>Another way to go would be to make use of plugins like <a href=\"https://addons.mozilla.org/en-US/firefox/addon/greasemonkey/\" rel=\"nofollow\">Greasemonkey for Firefox</a> that allow the user to customize the way a webpage is rendered. Those customizations will be persistent across page loads.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>For each selection, you could serialize the selected range to character offsets and deserialize it again on reload using something like this:</p>\n\n<p>Demo: <a href=\"http://jsfiddle.net/WeWy7/3/\">http://jsfiddle.net/WeWy7/3/</a></p>\n\n<p>Code:</p>\n\n<pre><code>var saveSelection, restoreSelection;\n\nif (window.getSelection &amp;&amp; document.createRange) {\n    saveSelection = function(containerEl) {\n        var range = window.getSelection().getRangeAt(0);\n        var preSelectionRange = range.cloneRange();\n        preSelectionRange.selectNodeContents(containerEl);\n        preSelectionRange.setEnd(range.startContainer, range.startOffset);\n        var start = preSelectionRange.toString().length;\n\n        return {\n            start: start,\n            end: start + range.toString().length\n        };\n    };\n\n    restoreSelection = function(containerEl, savedSel) {\n        var charIndex = 0, range = document.createRange();\n        range.setStart(containerEl, 0);\n        range.collapse(true);\n        var nodeStack = [containerEl], node, foundStart = false, stop = false;\n\n        while (!stop &amp;&amp; (node = nodeStack.pop())) {\n            if (node.nodeType == 3) {\n                var nextCharIndex = charIndex + node.length;\n                if (!foundStart &amp;&amp; savedSel.start &gt;= charIndex &amp;&amp; savedSel.start &lt;= nextCharIndex) {\n                    range.setStart(node, savedSel.start - charIndex);\n                    foundStart = true;\n                }\n                if (foundStart &amp;&amp; savedSel.end &gt;= charIndex &amp;&amp; savedSel.end &lt;= nextCharIndex) {\n                    range.setEnd(node, savedSel.end - charIndex);\n                    stop = true;\n                }\n                charIndex = nextCharIndex;\n            } else {\n                var i = node.childNodes.length;\n                while (i--) {\n                    nodeStack.push(node.childNodes[i]);\n                }\n            }\n        }\n\n        var sel = window.getSelection();\n        sel.removeAllRanges();\n        sel.addRange(range);\n    }\n} else if (document.selection) {\n    saveSelection = function(containerEl) {\n        var selectedTextRange = document.selection.createRange();\n        var preSelectionTextRange = document.body.createTextRange();\n        preSelectionTextRange.moveToElementText(containerEl);\n        preSelectionTextRange.setEndPoint(\"EndToStart\", selectedTextRange);\n        var start = preSelectionTextRange.text.length;\n\n        return {\n            start: start,\n            end: start + selectedTextRange.text.length\n        }\n    };\n\n    restoreSelection = function(containerEl, savedSel) {\n        var textRange = document.body.createTextRange();\n        textRange.moveToElementText(containerEl);\n        textRange.collapse(true);\n        textRange.moveEnd(\"character\", savedSel.end);\n        textRange.moveStart(\"character\", savedSel.start);\n        textRange.select();\n    };\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 29
                }
            ],
            "body": "<p>Is there a way to save the changes like changing the background of HTML text that span over multiple tags so that when it is loaded again the changes made should be reflected in the HTML page.</p>\n\n<p>EDIT: Detailed explanation.</p>\n\n<p>When the HTML page is loaded, the text is selected and highlighted using the range object and the executeCommand:</p>\n\n<pre><code>             document.execCommand(\"BackColor\", false, 'yellow');\n</code></pre>\n\n<p>The changes (highlighting the text as yellow) remain until the page is reloaded. But when the page is reloaded these changes are not there. What i want is to save somehow these changes like in local DB sqlite so that when page is reloaded/refreshed the changes in HTML page should appear.</p>\n\n<p>Any idea how to do it. Do i need to save its range start offset and end offset which can be used to create range next time the page is loaded. Please give your insights.</p>\n",
            "last_activity_date": 1389311076,
            "question_id": 13949059,
            "score": 12,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "range",
                "selection"
            ],
            "title": "Persisting the changes of range objects after selection in HTML"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>Yes - it is!</p>\n\n<pre><code>function doSomething(e) {\n    var rightclick;\n    if (!e) var e = window.event;\n    if (e.which) rightclick = (e.which == 3);\n    else if (e.button) rightclick = (e.button == 2);\n    alert('Rightclick: ' + rightclick); // true or false\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>No, but you can detect what mouse button was used in the \"onmousedown\" event... and from there determine if it was a \"right-click\".</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Kinda, check this out: <a href=\"http://www.rgagnon.com/jsdetails/js-0061.html\" rel=\"nofollow\">http://www.rgagnon.com/jsdetails/js-0061.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Yes, its a javascript mousedown event. There is a jQuery <a href=\"http://www.hotscripts.com/listing/jquery-right-click-plugin/\" rel=\"nofollow\">plugin</a> too to do it</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Yes, it's called <em>MouseEvent</em>.  See <a href=\"http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-MouseEvent\" rel=\"nofollow\">http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-MouseEvent</a> for the spec.</p>\n\n<p>For an example, see e.g. <a href=\"http://unixpapa.com/js/mouse.html\" rel=\"nofollow\">http://unixpapa.com/js/mouse.html</a> .</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As others have mentioned, the right mouse button can be detected <a href=\"http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-MouseEvent\">through the usual mouse events (mousedown, mouseup, click)</a>.  However, if you're looking for a firing event when the right-click menu is brought up, you're looking in the wrong place.  The right-click/context menu is also accessible via the keyboard (shift+F10 or context menu key on Windows and some Linux).  In this situation, the event that you're looking for is <code>oncontextmenu</code>:</p>\n\n<pre><code>window.oncontextmenu = function ()\n{\n    showCustomMenu();\n    return false;     // cancel default menu\n}\n</code></pre>\n\n<p>As for the mouse events themselves, browsers set a property to the event object that is accessible from the event handling function:</p>\n\n<pre><code>document.body.onclick = function (e) {\n    var isRightMB;\n    e = e || window.event;\n\n    if (\"which\" in e)  // Gecko (Firefox), WebKit (Safari/Chrome) &amp; Opera\n        isRightMB = e.which == 3; \n    else if (\"button\" in e)  // IE, Opera \n        isRightMB = e.button == 2; \n\n    alert(\"Right mouse button \" + (isRightMB ? \"\" : \" was not\") + \"clicked!\");\n} \n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en/DOM/window.oncontextmenu\">window.oncontextmenu - MDC</a></p>\n",
                    "is_accepted": false,
                    "score": 46
                },
                {
                    "body": "<p>have a look at the following jQuery code:</p>\n\n<pre><code>$(\"#myId\").mousedown(function(ev){\n      if(ev.which == 3)\n      {\n            alert(\"Right mouse button clicked on element with id myId\");\n      }\n});\n</code></pre>\n\n<p>The value of <code>which</code> will be:</p>\n\n<ul>\n<li><strong>1</strong> for the left button</li>\n<li><strong>2</strong> for the middle button</li>\n<li><strong>3</strong> for the right button</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Yes the right click is an event..\ncheck the javascript event properties <a href=\"http://www.quirksmode.org/js/events_properties.html\" rel=\"nofollow\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Ya, though w3c says the right click can be detected by the click event, onClick is not triggered through right click in usual browsers.</p>\n\n<p>In fact, right click only trigger onMouseDown onMouseUp and onContextMenu.</p>\n\n<p>Thus, you can regard \"onContextMenu\" as the right click event. It's an HTML5.0 standard.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Handle event using <code>jQuery</code> library  </p>\n\n<pre><code>$(window).on(\"contextmenu\", function(e)\n{\n   alert(\"Right click\");\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Yes, oncontextmenu is probably the best alternative but be aware that it triggers on mouse down whereas click will trigger on mouse up.</p>\n\n<p>Other related questions were asking about double right click - which apparently isn't supported except through manual timer checking. One reason you might want to be able to have right double click is if you need/want to support left-handed mouse input (button reversal). The browser implementations seem to make a lot of assumptions about how we should be using the available input devices.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is right click a Javascript event?  If so, how do I use it?</p>\n",
            "last_activity_date": 1405104654,
            "question_id": 2405771,
            "score": 44,
            "tags": [
                "javascript"
            ],
            "title": "Is right click a Javascript event?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>So use the client-side loop to build a two-dimensional array of your arrays, and send the entire thing to PHP in one request.</p>\n\n<p>Server-side, you'll need to have another loop which does its regular insert/update for each sub-array.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's a function to convert js array or object into a php-compatible array to be sent as http get request parameter:</p>\n\n<pre><code>function any2url(prefix, obj) {\n        var args=new Array();\n        if(typeof(obj) == 'object'){\n            for(var i in obj)\n                args[args.length]=any2url(prefix+'['+encodeURIComponent(i)+']', obj[i]);\n        }\n        else\n            args[args.length]=prefix+'='+encodeURIComponent(obj);\n        return args.join('&amp;');\n    }\n</code></pre>\n\n<p>prefix is a parameter name.</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<pre><code>var a = {\n    one: two,\n    three: four\n};\n\nalert('http://mysite.com/script.php?'+obj2url('a', a)); \n</code></pre>\n\n<p>Will produce </p>\n\n<pre><code>http://mysite.com/script.php?a[one]=two&amp;a[three]=four\n</code></pre>\n\n<p>which will allow you to use $_GET['a'] as an array in script.php. You will need to figure your way into your favorite ajax engine on supplying the url to call script.php from js.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You could use <code>JSON.stringify(array)</code> to encode your array in JavaScript, and then use <code>$array=json_decode($_POST['jsondata']);</code> in your PHP script to retrieve it.</p>\n",
                    "is_accepted": true,
                    "score": 45
                },
                {
                    "body": "<p>AJAX requests are no different from GET and POST requests initiated through a <code>&lt;form&gt;</code> element. Which means you can use $_GET and $_POST to retrieve the data.</p>\n\n<p>When you're making an AJAX request (jQuery example):</p>\n\n<pre><code>// JavaScript file\n\nelements = [1, 2, 9, 15].join(',')\n$.post('/test.php', {elements: elements})\n</code></pre>\n\n<p>It's (almost) equivalent to posting this form:</p>\n\n<pre><code>&lt;form action=\"/test.php\" method=\"post\"&gt;\n  &lt;input type=\"text\" name=\"elements\" value=\"1,2,9,15\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>In both cases, on the server side you can read the data from the $_POST variable:</p>\n\n<pre><code>// test.php file\n\n$elements = $_POST['elements'];\n$elements = explode(',', $elements);\n</code></pre>\n\n<p>For the sake of simplicity I'm joining the elements with comma here. JSON serialization is a more universal solution, though.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You can transfer array from javascript to PHP...</p>\n\n<p>Javascript... ArraySender.html</p>\n\n<pre><code>&lt;script language=\"javascript\"&gt;\n\n//its your javascript, your array can be multidimensional or associative\n\nplArray = new Array();\nplArray[1] = new Array(); plArray[1][0]='Test 1 Data'; plArray[1][1]= 'Test 1'; plArray[1][2]= new Array();\nplArray[1][2][0]='Test 1 Data Dets'; plArray[1][2][1]='Test 1 Data Info'; \nplArray[2] = new Array(); plArray[2][0]='Test 2 Data'; plArray[2][1]= 'Test 2';\nplArray[3] = new Array(); plArray[3][0]='Test 3 Data'; plArray[3][1]= 'Test 3'; \nplArray[4] = new Array(); plArray[4][0]='Test 4 Data'; plArray[4][1]= 'Test 4'; \nplArray[5] = new Array(); plArray[5][\"Data\"]='Test 5 Data'; plArray[5][\"1sss\"]= 'Test 5'; \n\nfunction convertJsArr2Php(JsArr){\n    var Php = '';\n    if (Array.isArray(JsArr)){  \n        Php += 'array(';\n        for (var i in JsArr){\n            Php += '\\'' + i + '\\' =&gt; ' + convertJsArr2Php(JsArr[i]);\n            if (JsArr[i] != JsArr[Object.keys(JsArr)[Object.keys(JsArr).length-1]]){\n                Php += ', ';\n            }\n        }\n        Php += ')';\n        return Php;\n    }\n    else{\n        return '\\'' + JsArr + '\\'';\n    }\n}\n\n\nfunction ajaxPost(str, plArrayC){\n    var xmlhttp;\n    if (window.XMLHttpRequest){xmlhttp = new XMLHttpRequest();}\n    else{xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");}\n    xmlhttp.open(\"POST\",str,true);\n    xmlhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n    xmlhttp.send('Array=' + plArrayC);\n}\n\najaxPost('ArrayReader.php',convertJsArr2Php(plArray));\n&lt;/script&gt;\n</code></pre>\n\n<p>and PHP Code... ArrayReader.php</p>\n\n<pre><code>&lt;?php \n\neval('$plArray = ' . $_POST['Array'] . ';');\nprint_r($plArray);\n\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Let's say I have a javascript array with a bunch of elements (anywhere from 50-200).</p>\n\n<p>I want to send that to PHP (prepared statement) using ajax.  Currently, I <code>.load</code> a php file many times inside of a loop, but I want to convert that into an array and send the array once, loading the PHP file once instead of 50-200 times.</p>\n\n<p><code>array[i] = variable;</code></p>\n",
            "last_activity_date": 1394147372,
            "question_id": 5035547,
            "score": 20,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "arrays"
            ],
            "title": "Pass Javascript Array -&gt; PHP"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>The alert box is a system object, and not subject to CSS. To do this style of thing you would need to create an HTML element and mimic the <code>alert()</code> functionality. The jQuery UI Modal box does a lot of the work for you, working basically as I have described: <a href=\"http://jqueryui.com/demos/dialog/\">Link</a>.</p>\n",
                    "is_accepted": true,
                    "score": 32
                },
                {
                    "body": "<p>Styling alert()-boxes ist not possible. You could use a javascript modal overlay instead.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Not possible. If you want to customize the dialog's visual appearance, you need to use a JS-based solution like <a href=\"http://jqueryui.com/demos/dialog/\" rel=\"nofollow\">jQuery.UI dialog</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>you start up or just join a project based on webapplications, the design of interface is maybe good. Otherwise this should be changed. In order to Web 2.0 applications you will work with dynamic contents, many effects and other stuff. All these things are fine, but no one thought about to style up the JavaScript alert and confirm boxes.\nHere is the they way    </p>\n\n<p>create simple js file name jsConfirmStyle.js. Here is simple js code</p>\n\n<pre><code>ie5=(document.getElementById&amp;&amp;document.all&amp;&amp;document.styleSheets)?1:0;\nnn6=(document.getElementById&amp;&amp;!document.all)?1:0;\n\nxConfirmStart=800;\nyConfirmStart=100;\n\nif(ie5||nn6) {\nif(ie5) cs=2,th=30;\nelse cs=0,th=20;\ndocument.write(\n    \"&lt;div id='jsconfirm'&gt;\"+\n        \"&lt;table&gt;\"+\n            \"&lt;tr&gt;&lt;td id='jsconfirmtitle'&gt;&lt;/td&gt;&lt;/tr&gt;\"+\n            \"&lt;tr&gt;&lt;td id='jsconfirmcontent'&gt;&lt;/td&gt;&lt;/tr&gt;\"+\n            \"&lt;tr&gt;&lt;td id='jsconfirmbuttons'&gt;\"+\n                \"&lt;input id='jsconfirmleft' type='button' value='' onclick='leftJsConfirm()' onfocus='if(this.blur)this.blur()'&gt;\"+\n                \"&amp;nbsp;&amp;nbsp;\"+\n                \"&lt;input id='jsconfirmright' type='button' value='' onclick='rightJsConfirm()' onfocus='if(this.blur)this.blur()'&gt;\"+\n            \"&lt;/td&gt;&lt;/tr&gt;\"+\n        \"&lt;/table&gt;\"+\n    \"&lt;/div&gt;\"\n);\n }\n\n           document.write(\"&lt;div id='jsconfirmfade'&gt;&lt;/div&gt;\");\n\n\nfunction leftJsConfirm() {\ndocument.getElementById('jsconfirm').style.top=-1000;\ndocument.location.href=leftJsConfirmUri;\n}\nfunction rightJsConfirm() {\ndocument.getElementById('jsconfirm').style.top=-1000;\ndocument.location.href=rightJsConfirmUri;\n}\nfunction confirmAlternative() {\nif(confirm(\"Scipt requieres a better browser!\"))       document.location.href=\"http://www.mozilla.org\";\n }\n\nleftJsConfirmUri = '';\nrightJsConfirmUri = '';\n\n/**\n * Show the message/confirm box\n*/\nfunction showConfirm(confirmtitle,confirmcontent,confirmlefttext,confirmlefturi,confirmrighttext,confirmrighturi)  {\ndocument.getElementById(\"jsconfirmtitle\").innerHTML=confirmtitle;\ndocument.getElementById(\"jsconfirmcontent\").innerHTML=confirmcontent;\ndocument.getElementById(\"jsconfirmleft\").value=confirmlefttext;\ndocument.getElementById(\"jsconfirmright\").value=confirmrighttext;\nleftJsConfirmUri=confirmlefturi;\nrightJsConfirmUri=confirmrighturi;\nxConfirm=xConfirmStart, yConfirm=yConfirmStart;\nif(ie5) {\n    document.getElementById(\"jsconfirm\").style.left='25%';\n    document.getElementById(\"jsconfirm\").style.top='35%';\n}\nelse if(nn6) {\n    document.getElementById(\"jsconfirm\").style.top='25%';\n    document.getElementById(\"jsconfirm\").style.left='35%';\n}\nelse confirmAlternative();\n}\n</code></pre>\n\n<p>Create simple html file</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;jsConfirmSyle&lt;/title&gt;\n&lt;meta http-equiv=\"Content-Style-Type\" content=\"text/css\" /&gt;\n&lt;meta http-equiv=\"Content-Script-Type\" content=\"text/javascript\" /&gt;\n&lt;script type=\"text/javascript\" src=\"jsConfirmStyle.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n\n function confirmation() {\n var answer = confirm(\"Wanna visit google?\")\n if (answer){\n    window.location = \"http://www.google.com/\";\n}\n}\n  &lt;/script&gt;\n   &lt;style type=\"text/css\"&gt;\n    body {\n  background-color: white;\n   font-family: sans-serif;\n  }\n#jsconfirm {\nborder-color: #c0c0c0;\nborder-width: 2px 4px 4px 2px;\nleft: 0;\nmargin: 0;\npadding: 0;\nposition: absolute;\ntop: -1000px;\nz-index: 100;\n}\n\n#jsconfirm table {\nbackground-color: #fff;\nborder: 2px groove #c0c0c0;\nheight: 150px;\nwidth: 300px;\n}\n\n#jsconfirmtitle {\nbackground-color: #B0B0B0;\nfont-weight: bold;\nheight: 20px;\ntext-align: center;\n}\n\n#jsconfirmbuttons {\nheight: 50px;\ntext-align: center;\n}\n\n#jsconfirmbuttons input {\nbackground-color: #E9E9CF;\ncolor: #000000;\nfont-weight: bold;\nwidth: 125px;\nheight: 33px;\npadding-left: 20px;\n}\n\n#jsconfirmleft{\nbackground-image: url(left.png);\n}\n\n#jsconfirmright{\nbackground-image: url(right.png);\n}\n&lt;/style&gt;\n</code></pre>\n\n<p>\n    </p>\n\n<pre><code> &lt;p&gt;\n&lt;a href=\"#\"  onclick=\"javascript:showConfirm('Please confirm','Are you really sure to visit google?','Yes','http://www.google.com','No','#')\"&gt;JsConfirmStyled&lt;/a&gt; &lt;/p&gt;\n&lt;p&gt;&lt;a href=\"#\" onclick=\"confirmation()\"&gt;standard&lt;/a&gt;&lt;/p&gt;\n\n\n&lt;/body&gt;\n &lt;/html&gt;\n &lt;a href=\"http://shafiqul.wordpress.com/2013/07/11/how-to-change-the-style-of-alert-box/\"&gt;You can download full source code from here&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>i tried to use script for   <strong><code>alert()</code></strong> boxes styles using java-script.Here i used those JS and CSS.</p>\n\n<p>Refer this coding JS functionality.</p>\n\n<pre><code>var ALERT_TITLE = \"Oops!\";\nvar ALERT_BUTTON_TEXT = \"Ok\";\n\nif(document.getElementById) {\n    window.alert = function(txt) {\n        createCustomAlert(txt);\n    }\n}\n\nfunction createCustomAlert(txt) {\n    d = document;\n\n    if(d.getElementById(\"modalContainer\")) return;\n\n    mObj = d.getElementsByTagName(\"body\")[0].appendChild(d.createElement(\"div\"));\n    mObj.id = \"modalContainer\";\n    mObj.style.height = d.documentElement.scrollHeight + \"px\";\n\n    alertObj = mObj.appendChild(d.createElement(\"div\"));\n    alertObj.id = \"alertBox\";\n    if(d.all &amp;&amp; !window.opera) alertObj.style.top = document.documentElement.scrollTop + \"px\";\n    alertObj.style.left = (d.documentElement.scrollWidth - alertObj.offsetWidth)/2 + \"px\";\n    alertObj.style.visiblity=\"visible\";\n\n    h1 = alertObj.appendChild(d.createElement(\"h1\"));\n    h1.appendChild(d.createTextNode(ALERT_TITLE));\n\n    msg = alertObj.appendChild(d.createElement(\"p\"));\n    //msg.appendChild(d.createTextNode(txt));\n    msg.innerHTML = txt;\n\n    btn = alertObj.appendChild(d.createElement(\"a\"));\n    btn.id = \"closeBtn\";\n    btn.appendChild(d.createTextNode(ALERT_BUTTON_TEXT));\n    btn.href = \"#\";\n    btn.focus();\n    btn.onclick = function() { removeCustomAlert();return false; }\n\n    alertObj.style.display = \"block\";\n\n}\n\nfunction removeCustomAlert() {\n    document.getElementsByTagName(\"body\")[0].removeChild(document.getElementById(\"modalContainer\"));\n}\n</code></pre>\n\n<p>And <strong>CSS</strong> for <strong><code>alert()</code></strong> Box</p>\n\n<pre><code>#modalContainer {\n    background-color:rgba(0, 0, 0, 0.3);\n    position:absolute;\n    width:100%;\n    height:100%;\n    top:0px;\n    left:0px;\n    z-index:10000;\n    background-image:url(tp.png); /* required by MSIE to prevent actions on lower z-index elements */\n}\n\n#alertBox {\n    position:relative;\n    width:300px;\n    min-height:100px;\n    margin-top:50px;\n    border:1px solid #666;\n    background-color:#fff;\n    background-repeat:no-repeat;\n    background-position:20px 30px;\n}\n\n#modalContainer &gt; #alertBox {\n    position:fixed;\n}\n\n#alertBox h1 {\n    margin:0;\n    font:bold 0.9em verdana,arial;\n    background-color:#3073BB;\n    color:#FFF;\n    border-bottom:1px solid #000;\n    padding:2px 0 2px 5px;\n}\n\n#alertBox p {\n    font:0.7em verdana,arial;\n    height:50px;\n    padding-left:5px;\n    margin-left:55px;\n}\n\n#alertBox #closeBtn {\n    display:block;\n    position:relative;\n    margin:5px auto;\n    padding:7px;\n    border:0 none;\n    width:70px;\n    font:0.7em verdana,arial;\n    text-transform:uppercase;\n    text-align:center;\n    color:#FFF;\n    background-color:#357EBD;\n    border-radius: 3px;\n    text-decoration:none;\n}\n\n/* unrelated styles */\n\n#mContainer {\n    position:relative;\n    width:600px;\n    margin:auto;\n    padding:5px;\n    border-top:2px solid #000;\n    border-bottom:2px solid #000;\n    font:0.7em verdana,arial;\n}\n\nh1,h2 {\n    margin:0;\n    padding:4px;\n    font:bold 1.5em verdana;\n    border-bottom:1px solid #000;\n}\n\ncode {\n    font-size:1.2em;\n    color:#069;\n}\n\n#credits {\n    position:relative;\n    margin:25px auto 0px auto;\n    width:350px; \n    font:0.7em verdana;\n    border-top:1px solid #000;\n    border-bottom:1px solid #000;\n    height:90px;\n    padding-top:4px;\n}\n\n#credits img {\n    float:left;\n    margin:5px 10px 5px 0px;\n    border:1px solid #000000;\n    width:80px;\n    height:79px;\n}\n\n.important {\n    background-color:#F5FCC8;\n    padding:2px;\n}\n\ncode span {\n    color:green;\n}\n</code></pre>\n\n<p>And <strong>HTML file:</strong> </p>\n\n<pre><code>&lt;input type=\"button\" value = \"Test the alert\" onclick=\"alert('Alert this pages');\" /&gt;\n</code></pre>\n\n<p>And also View this <a href=\"http://jsfiddle.net/vivekkt91/bds77/\" rel=\"nofollow\">DEMO: JSFIDDLE</a></p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>I know I am late to the topic but i recently stumbled upon <a href=\"http://fabien-d.github.io/alertify.js/\" rel=\"nofollow\">this link</a> and <a href=\"http://alertifyjs.com/\" rel=\"nofollow\">this</a> and since then i have stopped using default <code>alert</code> feature of JS</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I use <strong><a href=\"http://tristanedwards.me/sweetalert\" rel=\"nofollow\">SweetAlert</a>,</strong> It's Awesome, You will get lots of customization option as well as all callbacks</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can use sweetAlert. Though it's very cool but have to use it carefully, because sweetAlert doesn't hold execution like the built in alert() function</p>\n\n<p>visit <a href=\"http://tristanedwards.me/sweetalert\" rel=\"nofollow\">http://tristanedwards.me/sweetalert</a> here for detailed information.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I need to change the style of the \"OK\" Button in an alert box.</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            function show_alert() {\n                alert(\"Hello! I am an alert box!\");\n            }\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;input type=\"button\" onclick=\"show_alert()\" value=\"Show alert box\" /&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1425889363,
            "question_id": 7853130,
            "score": 24,
            "tags": [
                "javascript",
                "css"
            ],
            "title": "how to change the style of alert box"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You should be able to do this with JavaScript:</p>\n\n<pre><code>&lt;input type=\"button\" value=\"Click Me!\" onclick=\"submitForms()\" /&gt;\n</code></pre>\n\n<p>If your forms have IDs:</p>\n\n<pre><code>submitForms = function(){\n    document.getElementById(\"form1\").submit();\n    document.getElementById(\"form2\").submit();\n}\n</code></pre>\n\n<p>If your forms don't have IDs but have names:</p>\n\n<pre><code>submitForms = function(){\n    document.forms[\"form1\"].submit();\n    document.forms[\"form2\"].submit();\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>If you have a regular submit button, you could add an onclick event to it that does the follow:</p>\n\n<pre><code>document.getElementById('otherForm').submit();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Your questions is a little confusing, do you have two forms or two buttons?</p>\n\n<p>The usual way to do this is:</p>\n\n<p>data form is submitted which then directs to a paypal payment page.</p>\n\n<p>If you don't want both forms submitted, then why do you have two forms? Forms are there to be submitted, unless I've misunderstood?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can submit the first form using AJAX, otherwise the submission of one will prevent the other from being submitted. </p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>A form submission causes the page to navigate away to the <code>action</code> of the form.  So, you cannot submit both forms in the traditional way.  If you try to do so with JavaScript by calling <code>form.submit()</code> on each form in succession, each request will be aborted except for the last submission.  So, you need to submit the first form asynchronously via JavaScript:</p>\n\n<pre><code>var f = document.forms.updateDB;\nvar postData = [];\nfor (var i = 0; i &lt; f.elements.length; i++) {\n    postData.push(f.elements[i].name + \"=\" + f.elements[i].value);\n}\nvar xhr = new XMLHttpRequest();\nxhr.open(\"POST\", \"mypage.php\", true);\nxhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nxhr.send(postData.join(\"&amp;\"));\n\ndocument.forms.payPal.submit();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>In Chrome and IE9 (and I'm guessing all other browsers too) only the latter will generate a socket connect, the first one will be discarded. (The browser detects this as both requests are sent within one JavaScript \"timeslice\" in your code above, and discards all but the last request.)</p>\n\n<p>If you instead have some event callback do the second submission (but before the reply is received), the socket of the first request will be cancelled. This is <em>definitely</em> nothing to recommend as the server in that case may well have handled your first request, but you will never know for sure.</p>\n\n<p>I recommend you use/generate a single request which you can transact server-side.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I have HTML two forms, one that submits data upon entry to a database using PHP, the other directs the user to a paypal payment page, my problem is that the user would have to submit both forms which of course I do not want them to have to do. Is there anyway to use one submit button for two forms? </p>\n\n<p>(Javascript is welcome)</p>\n",
            "last_activity_date": 1412076819,
            "question_id": 7843355,
            "score": 12,
            "tags": [
                "javascript",
                "html",
                "forms"
            ],
            "title": "Submit two forms with one button"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><a href=\"http://jsfromhell.com/classes/bignumber\">Big Number</a>.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p><a href=\"https://github.com/jtobey/javascript-bignum\">Javascript-bignum</a>.</p>\n",
                    "is_accepted": true,
                    "score": 16
                }
            ],
            "body": "<p>Is there a bignum library for JavaScript that I can include like</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"the_bignum_library.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>?</p>\n\n<p>I think my users would prefer to enter numbers in a web page and wait a 7 seconds for a result, rather than download an executable and click through a bunch of \"this executable could possibly harm your computer\" warning screens to install it.</p>\n\n<p>Backup plans:\nIf I write my own exact-rational-arithmetic JavaScript bignum library, would you recommend basing it on <a href=\"http://github.com/silentmatt/javascript-biginteger\">http://github.com/silentmatt/javascript-biginteger</a> or <a href=\"http://www.mainebrook.com/john/fun/euler.html\">http://www.mainebrook.com/john/fun/euler.html</a> or some other JavaScript BigInt library?\nOr would you recommend calling from JavaScript into a Java bignum library such as apfloat ?</p>\n",
            "last_activity_date": 1381387485,
            "question_id": 3072307,
            "score": 19,
            "tags": [
                "javascript",
                "javascript-library",
                "floating-accuracy",
                "bignum"
            ],
            "title": "Is there a bignum library for JavaScript?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>It is not caused by this json parser. Just try to enter 714341252076979033 to fbug's console. You'll see the same 714341252076979100.</p>\n\n<p>See this blog post for details:\n<a href=\"http://www.exploringbinary.com/print-precision-of-floating-point-integers-varies-too\">http://www.exploringbinary.com/print-precision-of-floating-point-integers-varies-too</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You're overflowing the capacity of JavaScript's number type; see <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\">the spec</a> for details. Those IDs will need to be strings.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>Your problem is that your numer requires a greater precission than javascript has.</p>\n\n<p>Can you send the number as a string? separated in two parts?</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>What you're seeing here is actually the effect of two roundings.  Numbers in ECMAScript are internally represented double-precision floating-point.  When id is set to 714341252076979033 (0x9e9d9958274c359 in hex), it actually is assigned the nearest representable double-precision value, which is 714341252076979072 (0x9e9d9958274c380).  When you print out the value, it is being rounded to 15 significant decimal digits, which gives 14341252076979100.</p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>JavaScript uses double precision floating point values, ie a total precision of 53 bits, but you need</p>\n\n<pre><code>ceil(lb 714341252076979033) = 60\n</code></pre>\n\n<p>bits to exactly represent the value.</p>\n\n<p>The nearest exactly representable number is <code>714341252076979072</code> (write the original number in binary, replace the last 7 digits with <code>0</code> and round up because the highest replaced digit was <code>1</code>).</p>\n\n<p>You'll get <code>714341252076979100</code> instead of this number because <code>ToString()</code> as described by ECMA-262, \u00a79.8.1 works with powers of ten and in 53 bit precision all these numbers are equal.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>JavaScript can only handle exact whole numbers up to about 9000 million million (that's 9 with 15 zeros). Higher than that and you get garbage. Work around this by using strings to hold the numbers. If you need to do math with these numbers, write your own functions or see if you can find a library for them: I suggest the former as I don't like the libraries I've seen. To get you started, see two of my functions at <a href=\"http://stackoverflow.com/questions/722252/javascript-cant-render-this-number-correctly-3494793310847464221/1377187#1377187\">another answer</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>See this code:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n\n&lt;script src=\"http://www.json.org/json2.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\n    var jsonString = '{\"id\":714341252076979033,\"type\":\"FUZZY\"}';\n    var jsonParsed = JSON.parse(jsonString);\n    console.log(jsonString, jsonParsed);\n\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I see my console in Firefox 3.5, the value of jsonParsed is:</p>\n\n<pre><code>Object id=714341252076979100 type=FUZZY\n</code></pre>\n\n<p>I.e the number is rounded. Tried different values, the same outcome (number rounded).</p>\n\n<p>I also don't get its rounding rules. 714341252076979136 is rounded to 714341252076979200, whereas 714341252076979135 is rounded to 714341252076979100.</p>\n\n<p>EDIT: see first comment below. Apparently this is not about JSON, but something about Javascript number handling. But the question remains:</p>\n\n<p>WTF?</p>\n",
            "last_activity_date": 1379035725,
            "question_id": 1379934,
            "score": 17,
            "tags": [
                "javascript",
                "json",
                "floating-point",
                "floating-accuracy",
                "ieee-754"
            ],
            "title": "Large numbers erroneously rounded in Javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>This line here is the problem:</p>\n\n<pre><code>setTimeout(doRequest(url,proxys[proxy]), proxytimeout);\n</code></pre>\n\n<p>Writing <code>doRequest()</code> is actually calling the function. What you want is to pass the function itself:</p>\n\n<pre><code>setTimeout(doRequest, proxytime, url, proxys[proxy]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As you give the function to the setTimeout in that form, the function is executed instead of passed to the setTimeout. You have three alternatives to make it work:</p>\n\n<p>Give first the function, then the timeout and the parameters as the last arguments:</p>\n\n<pre><code>setTimeout(doRequest, proxytimeout, url, proxys[proxy]);\n</code></pre>\n\n<p>Or just write a string that will be evaluated:</p>\n\n<pre><code>setTimeout('doRequest('+url+','+proxys[proxy]+')', proxytimeout);\n</code></pre>\n\n<p>Third style is to pass an anonymous function that calls the function. Note that in this case, you have to do it in a closure to prevent the values from changing in the loop, so it gets a bit tricky:</p>\n\n<pre><code>(function(u, p, t) {\n    setTimeout(function() { doRequest(u, p); }, t);\n})(url, proxys[proxy], proxytimeout);\n</code></pre>\n\n<p>The second format is a bit hacky, but works nevertheless if the arguments are scalar values (strings, ints etc). The third format is a bit unclear, so in this case the first option will obviously work best for you.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>You're misunderstanding the <code>setTimeout</code> function.</p>\n\n<p>The <code>setTimeout</code> function takes a function and executes it later.<br>\nBy writing <code>setTimeout(doRequest(url,proxys[proxy]), proxytimeout)</code>, you're _calling the <code>doRequest</code> function (immediately), and passing the result (assuming that it returns another function) to <code>setTimeout</code>.</p>\n\n<p>You need to pass <code>doRequest</code>'s parameters to <code>setTimeout</code>, like this:</p>\n\n<pre><code>setTimeout(doRequest, proxytimeout, url, proxys[proxy]);\n</code></pre>\n\n<p>This will pass <code>setTimeout</code> the <code>doRequest</code> function itself (without calling it first), and will also pass it the parameters to give to <code>doRequest</code> when it finally calls it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Here's my issue. I have this function to test proxy servers.</p>\n\n<pre><code>function crawl() {\n    var oldstatus = document.getElementById('status').innerHTML;\n    document.getElementById('status').innerHTML = oldstatus + \"Crawler Started...&lt;br /&gt;\";\n    var url = document.getElementById('url').value;\n    var proxys = document.getElementById('proxys').value.replace(/\\n/g,',');\n\n    var proxys = proxys.split(\",\");\n\n    for (proxy in proxys) {\n        var proxytimeout = proxy*10000;\n        setTimeout(doRequest(url,proxys[proxy]), proxytimeout);\n    }\n}\n</code></pre>\n\n<p>I want the 'doRequest()' function to be called in roughly 10 second intervals but even with the setTimeout() the functions are called immediately.</p>\n\n<p>Any ideas are welcome, thanks.</p>\n\n<p>PS: Even if I put an arbitrary value for 'proxytimout' it has no effect.</p>\n",
            "last_activity_date": 1320874797,
            "question_id": 2037203,
            "score": 9,
            "tags": [
                "javascript",
                "loops",
                "for-loop",
                "settimeout"
            ],
            "title": "Why is my function call that should be scheduled by setTimeout executed immediately?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You used to be able to parse and fill in an Underscore template in one go like this:</p>\n\n<pre><code>var html = _.template(template_string, data);\n</code></pre>\n\n<p>But as of Underscore 1.7.0, the second argument to <a href=\"http://underscorejs.org/#template\"><code>_.template</code></a> contains template options:</p>\n\n<blockquote>\n  <p><strong>template</strong> <code>_.template(templateString, [settings])</code></p>\n  \n  <p>Compiles JavaScript templates into functions that can be evaluated for rendering. [...] The <strong>settings</strong> argument should be a hash containing any <code>_.templateSettings</code> that should be overridden.</p>\n</blockquote>\n\n<p>You have to compile the template using <code>_.template</code> and then execute the returned function to get your filled in template:</p>\n\n<pre><code>var tmpl = _.template(template_string);\nvar html = tmpl(data);\n\n// or as a one-liner, note where all the parentheses are\nvar html = _.template(template_string)(data);\n</code></pre>\n\n<p>In your case, it would look something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var V = Backbone.View.extend({\r\n  el:'body',\r\n  render: function () {\r\n  \tvar data = { lat: -27, lon: 153 };\r\n    var tmpl = _.template('&lt;%= lat %&gt; &lt;%= lon %&gt;');\r\n    this.$el.html(tmpl(data));\r\n    return this;\r\n  }\r\n});\r\n\r\nvar v = new V();\r\n\r\nv.render();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"http://underscorejs.org/underscore-min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"http://backbonejs.org/backbone-min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>This can be useful </p>\n\n<p>1: If you have more then one template or sometime you are using external template so it can be useful for you inside method you can write reusable code </p>\n\n<pre><code>var V = Backbone.View.extend({\n\n    el:'body',\n\n        temp: function (str) {\n\n            // reusable code\n            return _.template(str);\n        },\n        render: function () {\n            var data = { lat: -27, lon: 153 };\n\n            // calling your view method temp        \n            var tmpl = this.temp('&lt;%= lat %&gt; &lt;%= lon %&gt;');\n\n            this.$el.html(tmpl(data));\n\n            return this;\n        }\n     });\n\n    var v = new V();\n\n    v.render();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've watched some videos on the topic of backbone js. This is an example straight from the video. It is from 2012, so I'm thinking backbone rules/library have changed, but I can't figure out why this does not work at the moment. In the video, the person shows it running in the JS Fiddle, but I can't get it to work. (I've included the necessary libraries in JS Fiddle, i.e. underscore, backbone and jQuery)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var V = Backbone.View.extend({\r\n  el:'body',\r\n  render: function () {\r\n  \tvar data = { lat: -27, lon: 153 };\r\n    this.$el.html(_.template('&lt;%= lat %&gt; &lt;%= lon%&gt;', data));\r\n    return this;\r\n  }\r\n});\r\n\r\nvar v = new V();\r\n\r\nv.render();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"http://underscorejs.org/underscore-min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"http://backbonejs.org/backbone-min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
            "last_activity_date": 1422617504,
            "question_id": 25881041,
            "score": 3,
            "tags": [
                "javascript",
                "backbone.js",
                "underscore.js",
                "underscore.js-templating"
            ],
            "title": "Backbone JS template example"
        },
        {
            "answer_count": 0,
            "body": "<p>How to check whether a JavaScript variable defined in cross-browser way?</p>\n\n<p>I ran into this problem when writing some JavaScript utilizing FireBug logging. I wrote some code like below:</p>\n\n<pre><code>function profileRun(f) {\n    // f: functions to be profiled\n    console.profile(f.constructor);\n    f();\n    console.profileEnd(f.constructor);\n}\n</code></pre>\n\n<p>It works fine in FireFox/FireBug, but it reports error in IE8 RC1. So, I'd like to do some checking whether <strong><em>console</em></strong> variable exists in the execution environment.</p>\n\n<p>Below code works fine in FireFox, but not in IE8 RC1. </p>\n\n<pre><code>function profileRun(f) {\n    if (console != undefined) {\n        console.profile(f.constructor);\n    }\n\n    f();\n\n    if (console != undefined) {\n        console.profileEnd(f.constructor);\n    }\n}\n</code></pre>\n\n<p>However, if I do it this way. It works in IE8 RC1. Why? </p>\n\n<pre><code>function profileRun(f) {\n    if (window.console != undefined) {\n        console.profile(f.constructor);\n    }\n\n    f();\n\n    if (window.console != undefined) {\n        console.profileEnd(f.constructor);\n    }\n}\n</code></pre>\n\n<p>Is there any cross-browser way to check it?</p>\n",
            "last_activity_date": 1401341413,
            "question_id": 519145,
            "score": 461,
            "tags": [
                "javascript",
                "dom",
                "undefined"
            ],
            "title": "How can I check whether a variable is defined in JavaScript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>The <a href=\"https://developer.mozilla.org/en/Core%5FJavaScript%5F1.5%5FReference/Operators/Logical%5FOperators\"><code>||</code> operator</a> evaluates to the first operand if it can be converted to true or the last operand otherwise. So in your example <code>$time</code> will be <code>Date.now</code> if it exists or the declared function otherwise.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>This is very common is javascript. If Data.now evaluates to true, then $time is set to that, else it is set to the function.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I believe that code is saying if the <code>DateTime.now</code> variable does not exist, instead return the result of <code>+new Date</code>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The <code>||</code> operator is being used to assign a value to <code>$time</code> in the example. </p>\n\n<p>If <code>Date.now</code> evaluates to false, then <code>$time</code> is assigned the value on the right side of the <code>||</code> operator (in this case, a function). If <code>Date.now</code> evaluates to true, then it short-cicuits and assigns the value of Date.now to <code>$time</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There is already an accepted answer, but I like to mention, that the OR-Operator is also called Default-Operator, because it doesn't return a boolean, but instead the left or right hand argument.</p>\n\n<p>Same goes for the AND-Operator, which is also called guard-Operator.</p>\n\n<p>Check out <a href=\"http://javascript.crockford.com/survey.html\">crockford's Survey of the JavaScript Programming Language</a> for more details:</p>\n\n<blockquote>\n  <p>The &amp;&amp; operator is commonly called logical and. It can also be called guard. If the first operand is false, null, undefined, \"\" (the empty string), or the number 0 then it returns the first operand. Otherwise, it returns the second operand. This provides a convenient way to write a null-check:</p>\n  \n  <p>var value = p &amp;&amp; p.name; /* The name value will\n  only be retrieved from p if p has a value, avoiding an error. */</p>\n  \n  <p>The || operator is commonly called logical or. It can also be called default. If the first operand is false, null, undefined, \"\" (the empty string), or the number 0, then it returns the second operand. Otherwise, it returns the first operand. This provides a convenient way to specify default values:</p>\n  \n  <p>value = v || 10; /* Use the value of v, but if v\n  doesn't have a value, use 10 instead. */</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 14
                }
            ],
            "body": "<p>I am using a large JS library to perform certain drawing operations in canvas. Reviewing the library code (to make accommodating changes), I have ran into the '||' operator being used in a fashion which certainly should not evaluate to Boolean. Does this mean that this is a different operator or am I missing something obvious? An example follows:</p>\n\n<pre><code>var $time = Date.now || function(){\nreturn +new Date;\n};\n</code></pre>\n",
            "last_activity_date": 1398720878,
            "question_id": 1378619,
            "score": 14,
            "tags": [
                "javascript"
            ],
            "title": "Javascript || operator"
        },
        {
            "answer_count": 13,
            "answers": [
                {
                    "body": "<p>You want <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Operators/Special_Operators/typeof_Operator\">the <code>typeof</code> operator</a>. Specifically:</p>\n\n<pre><code>if (typeof variable !== 'undefined') {\n    // the variable is defined\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1149
                },
                {
                    "body": "<p>It depends if you just care that the variable has been defined or if you want it to have a meaningful value.</p>\n\n<p>Checking if the type is undefined will check if the variable has been defined yet.</p>\n\n<p><code>=== null</code> or <code>!== null</code> will only check if the value of the variable is exactly <code>null</code>.</p>\n\n<p><code>== null</code> or <code>!= null</code> will check if the value is <code>undefined</code> or <code>null</code>.</p>\n\n<p><code>if(value)</code> will check if the variable is <code>undefined</code>, <code>null</code>, <code>0</code>, or an empty string.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>In the majority of cases you would use:</p>\n\n<pre><code>elem != null\n</code></pre>\n\n<p>Unlike a simple <code>if (elem)</code>, it allows <code>0</code>, <code>false</code>, <code>NaN</code> and <code>''</code>, but rejects <code>null</code> or <code>undefined</code>, making it a good, general test for the presence of an argument, or property of an object.</p>\n\n<hr>\n\n<p>The other checks are not incorrect either, they just have different uses:</p>\n\n<ul>\n<li><p><code>if (elem)</code>: can be used if <code>elem</code> is guaranteed to be an object, or if <code>false</code>, <code>0</code>, etc. are considered \"default\" values (hence equivalent to <code>undefined</code> or <code>null</code>).</p></li>\n<li><p><code>typeof elem == 'undefined'</code> can be used in cases where a specified <code>null</code> has a distinct meaning to an uninitialised variable or property.</p>\n\n<ul>\n<li>This is the only check that <strong>won't throw an error</strong> if <code>elem</code> is not <strong>declared</strong> (i.e. no <code>var</code> statement, not a property of <code>window</code>, or not a function argument). This is, in my opinion, rather dangerous as it allows typos to slip by unnoticed. To avoid this, see the below method.</li>\n</ul></li>\n</ul>\n\n<hr>\n\n<p>Also useful is a strict comparison against <code>undefined</code>:</p>\n\n<pre><code>if (elem === undefined) ...\n</code></pre>\n\n<p>However, because the global <code>undefined</code> can be overridden with another value, it is best to declare the variable <code>undefined</code> in the current scope before using it:</p>\n\n<pre><code>var undefined; // really undefined\nif (elem === undefined) ...\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>(function (undefined) {\n    if (elem === undefined) ...\n})();\n</code></pre>\n\n<p>A secondary advantage of this method is that JS minifiers can reduce the <code>undefined</code> variable to a single character, saving you a few bytes every time.</p>\n",
                    "is_accepted": false,
                    "score": 71
                },
                {
                    "body": "<p>It is difficult to distinguish between undefined and null. <strong>Null</strong> is a value you can assign to a variable when you want to indicate that the variable has no particular value. <strong>Undefined</strong>\nis a special value which will be the default value of unassigned variables.</p>\n\n<pre>\n<code>\nvar _undefined;\nvar _null = null;\n\nalert(_undefined); \nalert(_null); \nalert(_undefined == _null);\nalert(_undefined === _null);\n</code>\n</pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It depends on the situation. If you're checking for something that may or may not have been defined globally outside your code (like jQuery perhaps) you want:</p>\n\n<pre><code>if (typeof(jQuery) != \"undefined\")\n</code></pre>\n\n<p>(No need for strict equality there, typeof always returns a string.) But if you have arguments to a function that may or may not have been passed, they'll always be defined, but null if omitted.</p>\n\n<pre><code>function sayHello(name) {\n    if (name) return \"Hello, \" + name;\n    else return \"Hello unknown person\";\n}\nsayHello(); // =&gt; \"Hello unknown person\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The <code>typeof</code> operator will check if the variable is really undefined.</p>\n\n<pre><code>if (typeof variable === 'undefined') {\n    // variable is undefined\n}\n</code></pre>\n\n<p>The <code>typeof</code> operator, unlike the other operators, doesn't throw a <em>ReferenceError</em> exception when used with an undeclared variable.</p>\n\n<p>For more info on using strict comparison, see: <a href=\"http://stackoverflow.com/q/359494/584192\">JavaScript === vs == : Does it matter which &quot;equal&quot; operator I use?</a> .</p>\n",
                    "is_accepted": true,
                    "score": 205
                },
                {
                    "body": "<p>In JavaScript, a variable can be defined, but hold the value <code>undefined</code>, so the most common answer is not technically correct, and instead performs the following:</p>\n\n<pre><code>if (typeof v === \"undefined\") {\n   // no variable \"v\" is defined in the current scope\n   // *or* some variable v exists and has been assigned the value undefined\n} else {\n   // some variable (global or local) \"v\" is defined in the current scope\n   // *and* it contains a value other than undefined\n}\n</code></pre>\n\n<p>That may suffice for your purposes.  The following test has simpler semantics, which makes it easier to precisely describe your code's behavior and understand it yourself (if you care about such things):</p>\n\n<pre><code>if (\"v\" in window) {\n   // global variable v is defined\n} else {\n   // global variable v is not defined\n}\n</code></pre>\n\n<p>This, of course, assumes you are running in a browser (where <code>window</code> is a name for the global object).  But if you're mucking around with globals like this you're probably in a browser.  Subjectively, using <code>'name' in window</code> is stylistically consistent with using <code>window.name</code> to refer to globals.  Accessing globals as properties of <code>window</code> rather than as variables allows you to minimize the number of undeclared variables you reference in your code (for the benefit of linting), and avoids the possibility of your global being shadowed by a local variable.  Also, if globals make your skin crawl you might feel more comfortable touching them only with this relatively long stick.</p>\n",
                    "is_accepted": false,
                    "score": 103
                },
                {
                    "body": "<pre><code>if (typeof console != \"undefined\") {    \n   ...\n}\n</code></pre>\n\n<p>Or better</p>\n\n<pre><code>if ((typeof console == \"object\") &amp;&amp; (typeof console.profile == \"function\")) {    \n   console.profile(f.constructor);    \n}\n</code></pre>\n\n<p>Works in all browsers</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>In the particular situation outlined in the question,</p>\n\n<pre><code>typeof window.console === \"undefined\"\n</code></pre>\n\n<p>is identical to </p>\n\n<pre><code>window.console === undefined\n</code></pre>\n\n<p>I prefer the latter since it's shorter.</p>\n\n<p>Please note that we look up for <code>console</code> only in global scope (which is a <code>window</code> object in all browsers).  In this particular situation it's desirable.  We don't want <code>console</code> defined elsewhere.</p>\n\n<p>@BrianKelley in his great answer explains technical details.  I've only added lacking conclusion and digested it into something easier to read.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The highest answer is correct, use typeof.</p>\n\n<p>However, what I wanted to point out was that in JavaScript <code>undefined</code> is mutable (for some ungodly reason). So simply doing a check for <code>varName !== undefined</code> has the potential to not always return as you expect it to, because other libs could have changed undefined. A few answers (@skalee's, for one), seem to prefer not using <code>typeof</code>, and that could get one into trouble.</p>\n\n<p>The \"old\" way to handle this was declaring undefined as a var to offset any potential muting/over-riding of <code>undefined</code>. However, the best way is still to use <code>typeof</code> because it will ignore any overriding of <code>undefined</code> from other code. Especially if you are writing code for use in the wild where who knows what else could be running on the page...</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>undefined,boolean,string,number,function</p>\n\n<pre>\nif( typeof foo !== 'undefined' ) { \n\n}</pre>\n\n<p>Object,Array</p>\n\n<pre><code>if( foo instanceof Array ) { \n\n}</code></pre>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>you can use the <strong>typeof</strong> operator.</p>\n\n<p>For example,</p>\n\n<p>var dataSet;</p>\n\n<blockquote>\n  <p>alert(\"Variable dataSet is : \" + typeof dataSet);</p>\n</blockquote>\n\n<p>Above code snippet will return the output like</p>\n\n<blockquote>\n  <p>variable dataSet is : undefined.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The most robust 'is it defined' check is with <strong>typeof</strong></p>\n\n<pre><code>if (typeof elem === 'undefined')\n</code></pre>\n\n<p>If you are just checking for a defined variable to assign a default, for an easy to read one liner\nyou can often do this:</p>\n\n<pre><code>elem = elem || defaultElem;\n</code></pre>\n\n<p>It's often fine to use, see: <a href=\"http://stackoverflow.com/questions/505840/idiomatic-way-to-set-default-value-in-javascript\">Idiomatic way to set default value in javascript</a></p>\n\n<p>There is also this one liner using the <strong>typeof</strong> keyword:</p>\n\n<pre><code>elem = (typeof elem === 'undefined') ? defaultElem : elem;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Which method of checking if a variable has been initialized is better/correct?\n(Assuming the variable could hold anything (string, int, object, function, etc.))</p>\n\n<pre><code>if (elem) { // or !elem\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (typeof(elem) !== 'undefined') {\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (elem != null) {\n</code></pre>\n",
            "last_activity_date": 1417097093,
            "question_id": 5113374,
            "score": 225,
            "tags": [
                "javascript",
                "object",
                "exists",
                "if-statement"
            ],
            "title": "JavaScript check if variable exists (is defined/initialized) - Which method is better?"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>Apparently, there was a \"/Users/myusername/local\" folder that contained a \"include\" with \"node\" and \"lib\" with \"node\" and \"node_modules\". How and why this was created instead of in my \"/usr/local\" folder, I do not know.</p>\n\n<p>Deleting these local references fixed the phantom v0.6.1-pre. If anyone has an explanation, I'll choose that as the correct answer.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>To recap, the best way (I've found) to completely uninstall node + npm is to do the following:</p>\n\n<ol>\n<li>go to <strong>/usr/local/lib</strong> and delete any <strong>node</strong> and <strong>node_modules</strong></li>\n<li>go to <strong>/usr/local/include</strong> and delete any <strong>node</strong> and <strong>node_modules</strong> directory </li>\n<li>if you installed with <strong>brew install node</strong>, then run <strong>brew uninstall node</strong> in your terminal</li>\n<li>check your Home directory for any <strong>local</strong> or <strong>lib</strong> or <strong>include</strong> folders, and delete any <strong>node</strong> or <strong>node_modules</strong> from there</li>\n<li>go to <strong>/usr/local/bin</strong> and delete any <strong>node</strong> executable</li>\n</ol>\n\n<p>You may need to do the additional instructions as well:</p>\n\n<ol>\n<li><code>sudo rm /usr/local/bin/npm</code></li>\n<li><code>sudo rm /usr/local/share/man/man1/node.1</code></li>\n<li><code>sudo rm /usr/local/lib/dtrace/node.d</code></li>\n<li><code>sudo rm -rf ~/.npm</code></li>\n<li><code>sudo rm -rf ~/.node-gyp</code></li>\n<li><code>sudo rm /opt/local/bin/node</code></li>\n<li><code>sudo rm /opt/local/include/node</code></li>\n<li><code>sudo rm -rf /opt/local/lib/node_modules</code></li>\n</ol>\n\n<p>Then download <strong>nvm</strong> and follow the instructions to install node. The latest versions of node come with <strong>npm</strong>, I believe, but you can also reinstall that as well.</p>\n",
                    "is_accepted": true,
                    "score": 441
                },
                {
                    "body": "<p>I have been hit by an issue during uninstall of Node.js on my mac. I had some strange behavior like <code>npm</code> is still their even after having removing it with all this.</p>\n\n<p>It was because I had an old install done with macport. So you also have to uninstall it using port:</p>\n\n<pre><code>sudo port uninstall nodejs\n</code></pre>\n\n<p>It may have install many different versions of Node.js so uninstall them all (one by one).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In mavericks i install from the node pkg (from nodejs site) and i uninstall it so i can re-install using brew. I only do 3 commands at terminal:</p>\n\n<ol>\n<li>sudo rm -rf  /usr/local/lib/node_modules/npm/</li>\n<li>brew uninstall node</li>\n<li>brew doctor</li>\n</ol>\n\n<p>If there is still a node installation, repeat step 2. Then all is ok, i install using brew install node</p>\n\n<p>Cheers,</p>\n\n<p>Pedro </p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>I'm not sure about the Mac OS installer, but I've found that the NodeJS .msi installer for Windows has an option to uninstall Node. I did that and it worked perfectly.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I know this post is a little dated but just wanted to share the commands that worked for me in Terminal when removing Node.js</p>\n\n<pre><code>lsbom -f -l -s -pf /var/db/receipts/org.nodejs.pkg.bom | while read f; do  sudo rm /usr/local/${f}; done\n\nsudo rm -rf /usr/local/lib/node /usr/local/lib/node_modules /var/db/receipts/org.nodejs.*\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 32
                },
                {
                    "body": "<p>One thing that isn't pointed out in the other answers, since this is for Mac specifically is that you want to use the pkgutil command to forget the packages. In my case the commands were</p>\n\n<pre><code>sudo pkgutil --forget org.nodejs.node.npm.pkg\nsudo pkgutil --forget org.nodejs.pkg\n</code></pre>\n\n<p>Additionally you can use the --files flags to list the files associated with the package to make sure you got everything.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>maybe you need to make</p>\n\n<pre><code>hash -r \n</code></pre>\n\n<p>it helps with problem of symlink</p>\n\n<pre><code>$ node -v\n$ bash: /opt/local/bin/node: No such file or directory\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>For brew users, OSX</strong>:</p>\n\n<pre><code>brew uninstall node\nbrew prune\nrm -f /usr/local/bin/npm\nrm -f /usr/local/lib/dtrace/node.d\nrm -rf ~/.npm\n</code></pre>\n\n<p>then</p>\n\n<pre><code>brew install node\nwhich node #=&gt; /usr/local/bin/node\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Additional to the main answer I needed to remove all npm instances found in:</p>\n\n<p><code>rm -rf /usr/local/share/man/man1/npm*\n</code></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This fixed it for me <a href=\"https://gist.github.com/DanHerbert/9520689\" rel=\"nofollow\">Fixing npm On Mac OS X for Homebrew Users</a>. And it does not require too many steps.</p>\n\n<p>Just go to the solution part if you don't care about the why.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Expanding on <a href=\"http://stackoverflow.com/a/11178106/2083544\" title=\"Dominic Tancredi\">Dominic Tancredi's awesome answer</a>, I've rolled this into a bash package and stand-alone script. If you are already using the \"Back Package Manager\" called <a href=\"http://bpkg.io\" rel=\"nofollow\">bpkg</a> you can install the script by running:</p>\n\n<p><code>\n$ bpkg install -g brock/node-reinstall\n</code></p>\n\n<p>Or you can have a look at the script on Github at <a href=\"http://github.com/brock/node-reinstall\" rel=\"nofollow\">brock/node-reinstall</a>. The script allows you to re-install node using nvm or nave, and to specify a node version as your default.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>My version of node is always v0.6.1-pre even after I install brew node and NVM install v0.6.19.</p>\n\n<p>My node version is:</p>\n\n<pre><code>node -v\nv0.6.1-pre\n</code></pre>\n\n<p>NVM says this (after I install a version of node for the first time in one bash terminal):</p>\n\n<pre><code>nvm ls\nv0.6.19\ncurrent:    v0.6.19\n</code></pre>\n\n<p>But when I restart bash, this is what I see:</p>\n\n<pre><code>nvm ls\nv0.6.19\ncurrent:    v0.6.1-pre\ndefault -&gt; 0.6.19 (-&gt; v0.6.19)\n</code></pre>\n\n<p>So where is this phantom node 0.6.1-pre version and how can I get rid of it? I'm trying to install libraries via NPM so that I can work on a project.</p>\n\n<p>I tried using BREW to update before NVM, using \"brew update\" and \"brew install node\". \nI've tried deleting the \"node\" directory in my /usr/local/include and the \"node\" and \"node_modules\" in my \"/usr/local/lib\".\nI've tried uninstalling npm and reinstalling it following these instructions:\n<a href=\"http://superuser.com/questions/268946/uninstall-node-js\">http://superuser.com/questions/268946/uninstall-node-js</a></p>\n\n<p>All of this because I was trying to update an older version of node to install the \"zipstream\" library. Now there's folders in my users directory, and the node version STILL isn't up to date, even though NVM says it's using 0.6.19.</p>\n\n<p><strong>Ideally, I'd like to uninstall nodejs, npm, and nvm, and just reinstall the entire thing from scratch on my system.</strong></p>\n",
            "last_activity_date": 1426090717,
            "question_id": 11177954,
            "score": 181,
            "tags": [
                "javascript",
                "linux",
                "node.js",
                "npm"
            ],
            "title": "How do I completely uninstall Node.js, and reinstall from beginning (Mac OS X)"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Web Development: Prototypal Inheritance vs. Classical Inheritance</p>\n\n<p><a href=\"http://chamnapchhorn.blogspot.com/2009/05/prototypal-inheritance-vs-classical.html\" rel=\"nofollow\">http://chamnapchhorn.blogspot.com/2009/05/prototypal-inheritance-vs-classical.html</a></p>\n\n<p>Classical Vs prototypal inheritance - Stack Overflow</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1450582/classical-vs-prototypal-inheritance\">http://stackoverflow.com/questions/1450582/classical-vs-prototypal-inheritance</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Allow me to actually answer the question inline.</p>\n\n<p>Prototype inheritance has the following virtues:</p>\n\n<ol>\n<li>It is better suited to dynamic languages because the inheritance is as dynamic as the environment it is in.  (The applicability to JavaScript should be obvious here.)  This permits you to do things quickly on the fly like customizing classes without huge amounts of infrastructure code.</li>\n<li>It is easier to implement a prototyping object scheme than the classic class/object dichotomy schemes.</li>\n<li>It eliminates the need for the complex sharp edges around the object model like \"metaclasses\" (I never metaclass I liked... sorry!) or \"eigenvalues\" or the like.</li>\n</ol>\n\n<p>It has the following disadvantages however:</p>\n\n<ol>\n<li>Type checking a prototype language isn't impossible, but it's very, very difficult.  Most \"type checking\" of prototypical languages is pure run-time \"duck typing\"-style checks.  This is not suitable to all environments.</li>\n<li>It is similarly difficult to do things like optimizing method dispatch by static (or, often, even dynamic!) analysis.  It <strong>can</strong> (I stress: <strong>can</strong>) be very inefficient very easily.</li>\n<li>Similarly object creation can be (and usually is) much slower in a prototyping language than it can be in a more conventional class/object dichotomy scheme.</li>\n</ol>\n\n<p>I think you can read between the lines above and come up with the corresponding advantages and disadvantages of traditional class/object schemes.  There are, of course, more in each area so I'll leave the rest up to other people answering.</p>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>IMO the major benefit of prototypal inheritance is its simplicity.</p>\n\n<p>The prototypal nature of the language can confuse people who are <em>classically</em> trained, but it turns out that actually this is a <em>really</em> simple and powerful concept, <a href=\"http://en.wikipedia.org/wiki/Differential_inheritance\">differential inheritance</a>.</p>\n\n<p>You don't need to make <em>classification</em>, your code is smaller, less redundant, objects inherit from other, more general objects.</p>\n\n<p>If you think <em>prototypically</em> you will soon notice that you don't need classes...</p>\n\n<p>Prototypal inheritance will be much more popular in the near future, the <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\">ECMAScript 5th Edition</a> specification introduced the <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Object/create\"><code>Object.create</code></a> method, which allows you to produce a new object instance that inherits from another one in a really simple way:</p>\n\n<pre><code>var obj = Object.create(baseInstance);\n</code></pre>\n\n<p>This new version of the standard is being implemented by all browser vendors, and I think we will start to see more pure prototypal inheritance...</p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>There is really not a lot to choose between the two methods. The basic idea to grasp is that when the JavaScript engine is given a property of an object to read, it first checks the instance and if that property is missing, it checks up the prototype chain.  Here is an example that shows the difference between prototypal and classical:</p>\n\n<p><strong>Prototypal</strong></p>\n\n<pre><code>var single = { status: \"Single\" },\n    princeWilliam = Object.create(single),\n    cliffRichard = Object.create(single);\n\nconsole.log(Object.keys(princeWilliam).length); // 0\nconsole.log(Object.keys(cliffRichard).length); // 0\n\n// Marriage event occurs\nprinceWilliam.status = \"Married\";\n\nconsole.log(Object.keys(princeWilliam).length); // 1 (New instance property)\nconsole.log(Object.keys(cliffRichard).length); // 0 (Still refers to prototype)\n</code></pre>\n\n<p><strong>Classical with instance methods</strong>  (Inefficient because each instance stores it's own property)</p>\n\n<pre><code>function Single() {\n    this.status = \"Single\";\n}\n\nvar princeWilliam = new Single(),\n    cliffRichard = new Single();\n\nconsole.log(Object.keys(princeWilliam).length); // 1\nconsole.log(Object.keys(cliffRichard).length); // 1\n</code></pre>\n\n<p><strong>Efficient classical</strong></p>\n\n<pre><code>function Single() {\n}\n\nSingle.prototype.status = \"Single\";\n\nvar princeWilliam = new Single(),\n    cliffRichard = new Single();\n\nprinceWilliam.status = \"Married\";\n\nconsole.log(Object.keys(princeWilliam).length); // 1\nconsole.log(Object.keys(cliffRichard).length); // 0\nconsole.log(cliffRichard.status); // \"Single\"\n</code></pre>\n\n<p>As you can see, since it is possible to manipulate the prototype of \"classes\" declared in the classical style, there is really no benefit to using prototypal inheritance. It is a subset of the classical method.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I know that this answer is 3 years late but I really think the current answers do not provide enough information about <a href=\"http://aaditmshah.github.io/why-prototypal-inheritance-matters/\">how prototypal inheritance is better than classical inheritance</a>.</p>\n\n<p>First let's see the most common arguments JavaScript programmers state in defence of prototypal inheritance (I'm taking these arguments from the current pool of answers):</p>\n\n<ol>\n<li>It's simple.</li>\n<li>It's powerful.</li>\n<li>It leads to smaller, less redundant code.</li>\n<li>It's dynamic and hence it's better for dynamic languages.</li>\n</ol>\n\n<p>Now these arguments are all valid, but nobody has bothered explaining why. It's like telling a child that studying Maths is important. Sure it is, but the child certainly doesn't care; and you can't make a child like Maths by saying that it's important.</p>\n\n<p>I think the problem with prototypal inheritance is that it's explained from the perspective of JavaScript. <a href=\"http://osrc.dfm.io/aaditmshah\">I love JavaScript</a>, but prototypal inheritance in JavaScript is wrong. Unlike classical inheritance there are two patterns of prototypal inheritance:</p>\n\n<ol>\n<li>The prototypal pattern of prototypal inheritance.</li>\n<li>The constructor pattern of prototypal inheritance.</li>\n</ol>\n\n<p>Unfortunately JavaScript uses the constructor pattern of prototypal inheritance. This is because when JavaScript was created, <a href=\"https://brendaneich.com/\">Brendan Eich</a> (the creator of JS) wanted it to look like Java (which has classical inheritance):</p>\n\n<blockquote>\n  <p>And we were pushing it as a little brother to Java, as a complementary language like Visual Basic was to C++ in Microsoft\u2019s language families at the time.</p>\n</blockquote>\n\n<p>This is bad because when people use constructors in JavaScript they think of constructors inheriting from other constructors. This is wrong. In prototypal inheritance objects inherit from other objects. Constructors never come into the picture. This is what confuses most people.</p>\n\n<p>People from languages like Java, which has classical inheritance, get even more confused because although constructors look like classes they don't behave like classes. As <a href=\"http://www.crockford.com/\">Douglas Crockford</a> stated:</p>\n\n<blockquote>\n  <p>This indirection was intended to make the language seem more familiar to classically trained programmers, but failed to do that, as we can see from the very low opinion Java programmers have of JavaScript. JavaScript\u2019s constructor pattern did not appeal to the classical crowd. It also obscured JavaScript\u2019s true prototypal nature. As a result, there are very few programmers who know how to use the language effectively.</p>\n</blockquote>\n\n<p>There you have it. Straight from the horse's mouth.</p>\n\n<h1>True Prototypal Inheritance</h1>\n\n<p>Prototypal inheritance is all about objects. Objects inherit properties from other objects. That's all there is to it. There are two ways of creating objects using prototypal inheritance:</p>\n\n<ol>\n<li>Create a brand new object.</li>\n<li>Clone an existing object and extend it.</li>\n</ol>\n\n<p><strong>Note:</strong> JavaScript offers two ways to clone an object - <a href=\"http://aaditmshah.github.io/why-prototypal-inheritance-matters/#delegation_or_differential_inheritance\">delegation</a> and <a href=\"http://aaditmshah.github.io/why-prototypal-inheritance-matters/#cloning_or_concatenative_inheritance\">concatenation</a>. Henceforth I'll use the word \"clone\" to exclusively refer to inheritance via delegation, and the word \"copy\" to exclusively refer to inheritance via concatenation.</p>\n\n<p>Enough talk. Let's see some examples. Say I have a circle of radius <code>5</code>:</p>\n\n<pre><code>var circle = {\n    radius: 5\n};\n</code></pre>\n\n<p>We can calculate the area and the circumference of the circle from its radius:</p>\n\n<pre><code>circle.area = function () {\n    var radius = this.radius;\n    return Math.PI * radius * radius;\n};\n\ncircle.circumference = function () {\n    return 2 * Math.PI * this.radius;\n};\n</code></pre>\n\n<p>Now I want to create another circle of radius <code>10</code>. One way to do this would be:</p>\n\n<pre><code>var circle2 = {\n    radius: 10,\n    area: circle.area,\n    circumference: circle.circumference\n};\n</code></pre>\n\n<p>However JavaScript provides a better way - <a href=\"http://aaditmshah.github.io/why-prototypal-inheritance-matters/#delegation_or_differential_inheritance\">delegation</a>. Crockford's <a href=\"http://javascript.crockford.com/prototypal.html\"><code>Object.create</code></a> function is used to do this:</p>\n\n<pre><code>var circle2 = Object.create(circle);\ncircle2.radius = 10;\n</code></pre>\n\n<p>That's all. You just did prototypal inheritance in JavaScript. Wasn't that simple? You take an object, clone it, change whatever you need to, and hey presto - you got yourself a brand new object.</p>\n\n<p>Now you might ask, \"How is this simple? Every time I want to create a new circle I need to clone <code>circle</code> and manually assign it a radius\". Well the solution is to use a function to do the heavy lifting for you:</p>\n\n<pre><code>function createCircle(radius) {\n    var newCircle = Object.create(circle);\n    newCircle.radius = radius;\n    return newCircle;\n}\n\nvar circle2 = createCircle(10);\n</code></pre>\n\n<p>In fact you can combine all of this into a single object literal as follows:</p>\n\n<pre><code>var circle = {\n    radius: 5,\n    create: function (radius) {\n        var circle = Object.create(this);\n        circle.radius = radius;\n        return circle;\n    },\n    area: function () {\n        var radius = this.radius;\n        return Math.PI * radius * radius;\n    },\n    circumference: function () {\n        return 2 * Math.PI * this.radius;\n    }\n};\n\nvar circle2 = circle.create(10);\n</code></pre>\n\n<h1>Prototypal Inheritance in JavaScript</h1>\n\n<p>If you notice in the above program the <code>create</code> function creates a clone of <code>circle</code>, assigns a new <code>radius</code> to it and then returns it. This is exactly what a constructor does in JavaScript:</p>\n\n<pre><code>function Circle(radius) {\n    this.radius = radius;\n}\n\nCircle.prototype.area = function () {\n    var radius = this.radius;\n    return Math.PI * radius * radius;\n};\n\nCircle.prototype.circumference: function () {\n    return 2 * Math.PI * this.radius;\n};\n\nvar circle = new Circle(5);\nvar circle2 = new Circle(10);\n</code></pre>\n\n<p>The constructor pattern in JavaScript is the prototypal pattern inverted. Instead of creating an object you create a constructor. The <code>new</code> keyword binds the <code>this</code> pointer inside the constructor to a clone of the <code>prototype</code> of the constructor.</p>\n\n<p>Sounds confusing? It's because the constructor pattern in JavaScript unnecessarily complicates things. This is what most programmers find difficult to understand.</p>\n\n<p>Instead of thinking of objects inheriting from other objects they think of constructors inheriting from other constructors and then become utterly confused.</p>\n\n<p>There's a whole bunch of other reasons why the constructor pattern in JavaScript should be avoided. You can read about them in my blog post here: <a href=\"http://aaditmshah.github.io/why-prototypal-inheritance-matters/#constructors_vs_prototypes\">Constructors vs Prototypes</a></p>\n\n<hr>\n\n<p>So what are the benefits of prototypal inheritance over classical inheritance? Let's go through the most common arguments again, and explain <em>why</em>.</p>\n\n<h1>1. Prototypal Inheritance is Simple</h1>\n\n<p><a href=\"http://stackoverflow.com/users/5445/cms\" title=\"User CMS - Stack Overflow\">CMS</a> states in his answer:</p>\n\n<blockquote>\n  <p>IMO the major benefit of prototypal inheritance is its simplicity.</p>\n</blockquote>\n\n<p>After that he doesn't bother explaining how is prototypal inheritance simple.</p>\n\n<p>Let's consider what we just did. We created an object <code>circle</code> which had a radius of <code>5</code>. Then we cloned it and gave the clone a radius of <code>10</code>.</p>\n\n<p>Hence we only need two things to make prototypal inheritance work:</p>\n\n<ol>\n<li>A way to create a new object (e.g. object literals).</li>\n<li>A way to extend an existing object (e.g. <code>Object.create</code>).</li>\n</ol>\n\n<p>In contrast classical inheritance is much more complicated. In classical inheritance you have:</p>\n\n<ol>\n<li>Classes.</li>\n<li>Object.</li>\n<li>Interfaces.</li>\n<li>Abstract Classes.</li>\n<li>Final Classes.</li>\n<li>Virtual Base Classes.</li>\n<li>Constructors.</li>\n<li>Destructors.</li>\n</ol>\n\n<p>You get the idea. The point is that prototypal inheritance is easier to understand, easier to implement, and easier to reason about.</p>\n\n<p>As Steve Yegge puts it in his classical blog post \"<a href=\"http://steve-yegge.blogspot.in/2008/02/portrait-of-n00b.html\">Portrait of a N00b</a>\":</p>\n\n<blockquote>\n  <p>Metadata is any kind of description or model of something else. The comments in your code are just a a natural-language description of the computation. What makes metadata meta-data is that it's not strictly necessary. If I have a dog with some pedigree paperwork, and I lose the paperwork, I still have a perfectly valid dog.</p>\n</blockquote>\n\n<p>In the same sense classes are just meta-data. Classes aren't strictly required for inheritance. However some people (usually n00bs) find classes more comfortable to work with. It gives them a false sense of security.</p>\n\n<blockquote>\n  <p>Well, we also know that static types are just metadata. They're a specialized kind of comment targeted at two kinds of readers: programmers and compilers. Static types tell a story about the computation, presumably to help both reader groups understand the intent of the program. But the static types can be thrown away at runtime, because in the end they're just stylized comments. They're like pedigree paperwork: it might make a certain insecure personality type happier about their dog, but the dog certainly doesn't care.</p>\n</blockquote>\n\n<p>As I stated earlier, classes give people a false sense of security. For example you get too many <code>NullPointerException</code>s in Java even when your code is perfectly legible. I find classical inheritance usually gets in the way of programming, but maybe that's just Java. Python has an amazing classical inheritance system.</p>\n\n<h1>2. Prototypal Inheritance is Powerful</h1>\n\n<p>Most programmers who come from a classical background argue that classical inheritance is more powerful than prototypal inheritance because it has:</p>\n\n<ol>\n<li>Private variables.</li>\n<li>Multiple inheritance.</li>\n</ol>\n\n<p>This claim is false. We already know that JavaScript supports <a href=\"http://javascript.crockford.com/private.html\">private variables via closures</a>, but what about multiple inheritance? Objects in JavaScript only have one prototype.</p>\n\n<p>The truth is that prototypal inheritance supports inheriting from multiple prototypes. Prototypal inheritance simply means one object inheriting from another object. There are actually <a href=\"http://aaditmshah.github.io/why-prototypal-inheritance-matters/#two_methods_of_prototypal_inheritance\">two ways to implement prototypal inheritance</a>:</p>\n\n<ol>\n<li>Delegation or Differential Inheritance</li>\n<li>Cloning or Concatenative Inheritance</li>\n</ol>\n\n<p>Yes JavaScript only allows objects to delegate to one other object. However it allows you to copy the properties of an arbitrary number of objects. For example <a href=\"http://underscorejs.org/#extend\"><code>_.extend</code></a> does just this.</p>\n\n<p>Of course many programmers don't consider this to be true inheritance because <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof\"><code>instanceof</code></a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf\"><code>isPrototypeOf</code></a> say otherwise. However this can be easily remedied by storing an array of prototypes on every object which inherits from a prototype via concatenation:</p>\n\n<pre><code>function copyOf(object, prototype) {\n    var prototypes = object.prototypes;\n    var prototypeOf = Object.isPrototypeOf;\n    return prototypes.indexOf(prototype) &gt;= 0 ||\n        prototypes.some(prototypeOf, prototype);\n}\n</code></pre>\n\n<p>Hence prototypal inheritance is just as powerful as classical inheritance. In fact it's much more powerful than classical inheritance because in prototypal inheritance you can hand pick which properties to copy and which properties to omit from different prototypes.</p>\n\n<p>In classical inheritance it's impossible (or at least very difficult) to choose which properties you want to inherit. They use virtual base classes and interfaces to solve <a href=\"http://en.wikipedia.org/wiki/Multiple_inheritance#The_diamond_problem\">the diamond problem</a>.</p>\n\n<p>In JavaScript however you'll most likely never hear of the diamond problem because you can control exactly which properties you wish to inherit and from which prototypes.</p>\n\n<h1>3. Prototypal Inheritance is Less Redundant</h1>\n\n<p>This point is a little more difficult to explain because classical inheritance doesn't necessarily lead to more redundant code. In fact inheritance, whether classical or prototypal, is used to reduce the redundancy in code.</p>\n\n<p>One argument could be that most programming languages with classical inheritance are statically typed and require the user to explicitly declare types (unlike Haskell which has implicit static typing). Hence this leads to more verbose code.</p>\n\n<p>Java is notorious for this behavior. I distinctly remember <a href=\"https://twitter.com/munificentbob\">Bob Nystrom</a> mentioning the following anecdote in his blog post about <a href=\"http://journal.stuffwithstuff.com/2011/03/19/pratt-parsers-expression-parsing-made-easy/\">Pratt Parsers</a>:</p>\n\n<blockquote>\n  <p>You gotta love Java's \"please sign it in quadruplicate\" level of bureaucracy here.</p>\n</blockquote>\n\n<p>Again, I think that's only because Java sucks so much.</p>\n\n<p>One valid argument is that not all languages which have classical inheritance support multiple inheritance. Again Java comes to mind. Yes Java has interfaces, but that's not sufficient. Sometimes you really need multiple inheritance.</p>\n\n<p>Since prototypal inheritance allows for multiple inheritance, code which requires multiple inheritance is less redundant if written using prototypal inheritance rather than in a language which has classical inheritance but no multiple inheritance.</p>\n\n<h1>4. Prototypal Inheritance is Dynamic</h1>\n\n<p>One of the most important advantages of prototypal inheritance is that you can add new properties to prototypes after they are created. This allows you to add new methods to a prototype which will be automatically made available to all the objects which delegate to that prototype.</p>\n\n<p>This is not possible in classical inheritance because once a class is created you can't modify it at runtime. This is probably the single biggest advantage of prototypal inheritance over classical inheritance, and it should have been at the top. However I like saving the best for the end.</p>\n\n<h1>Conclusion</h1>\n\n<p>Prototypal inheritance matters. It's important to educate JavaScript programmers on why to abandon the constructor pattern of prototypal inheritance in favor of the prototypal pattern of prototypal inheritance.</p>\n\n<p>We need to start teaching JavaScript correctly and that means showing new programmers how to write code using the prototypal pattern instead of the constructor pattern.</p>\n\n<p>Not only will it be it easier to explain prototypal inheritance using the prototypal pattern, but it will also make better programmers.</p>\n\n<p>If you liked this answer then you should also read my blog post on \"<a href=\"http://aaditmshah.github.io/why-prototypal-inheritance-matters/\">Why Prototypal Inheritance Matters</a>\". Trust me, you will not be disappointed.</p>\n",
                    "is_accepted": true,
                    "score": 183
                },
                {
                    "body": "<p>In Javascript, with prototypal modal, you can't do instanceOf. With classical model you can. I am going to put a link here for you. www.objectplayground.com The best video that talks about Javascript prototypal. </p>\n\n<p>With ECMA 6 coming, Javascript will support the new class syntax. \nSo TRUE classical model is coming.</p>\n\n<p>The future is sticking with the classical model.</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>So I finally stopped dragging my feet all these years and decided to learn JavaScript \"properly\".  One of the most head-scratching elements of the languages design is it's implementation of inheritance.  Having experience in Ruby, I was really happy to see closures and dynamic typing; but for the life of me can't figure out what benefits are to be had from object instances using other instances for inheritance.</p>\n",
            "last_activity_date": 1411335285,
            "question_id": 2800964,
            "score": 110,
            "tags": [
                "javascript",
                "oop",
                "inheritance",
                "language-design",
                "prototype-programming"
            ],
            "title": "Benefits of prototypal inheritance over classical?"
        },
        {
            "answer_count": 17,
            "answers": [
                {
                    "body": "<p>Associative? Not without some work, but you can use generic selectors:</p>\n\n<pre><code>var items = new Array();\n\n$('#form_id:input').each(function (el) {\n    items[el.name] = el;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>$('#myForm').submit(function() {\n    // get all the inputs into an array.\n    var $inputs = $('#myForm :input');\n\n    // not sure if you wanted this, but I thought I'd add it.\n    // get an associative array of just the values.\n    var values = {};\n    $inputs.each(function() {\n        values[this.name] = $(this).val();\n    });\n\n});\n</code></pre>\n\n<hr>\n\n<p>Thanks to the tip from Simon_Weaver, here is another way you could do it, using <a href=\"http://api.jquery.com/serializeArray/\"><code>serializeArray</code></a>:</p>\n\n<pre><code>var values = {};\n$.each($('#myForm').serializeArray(), function(i, field) {\n    values[field.name] = field.value;\n});\n</code></pre>\n\n<p>Note that this snippet will fail on <code>&lt;select multiple&gt;</code> elements.</p>\n\n<p>It appears that the <a href=\"http://diveintohtml5.ep.io/forms.html\">new HTML 5 form inputs</a> don't work with <code>serializeArray</code> in jQuery version 1.3. This works in version 1.4+</p>\n",
                    "is_accepted": true,
                    "score": 303
                },
                {
                    "body": "<pre><code>$('#myForm').bind('submit', function () {\n  var elements = this.elements;\n});</code></pre>\n\n<p>The elements variable will contain all the inputs, selects, textareas and fieldsets within the form.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Late to the party on this question, but this even easier:</p>\n\n<pre><code>$('#myForm').submit(function() {\n    // Get all the forms elements and their values in one step\n    var values = $('#myForm').serialize();\n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 163
                },
                {
                    "body": "<p>The <a href=\"http://docs.jquery.com/Plugins%3aForms\">jquery.form</a> plugin may help with what others are looking for that end up on this question. I'm not sure if it directly does what you want or not. </p>\n\n<p>There is also the <a href=\"http://api.jquery.com/serializeArray/\">serializeArray</a> function.</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>When I needed to do an ajax call with all the form fields, I had problems with the <strong>:input</strong> selector returning all checkboxes whether or not they were checked. I added a new selector to just get the submit-able form elements:</p>\n\n<pre><code>$.extend($.expr[':'],{\n    submitable: function(a){\n        if($(a).is(':checkbox:not(:checked)'))\n        {\n            return false;\n        }\n        else if($(a).is(':input'))\n        {\n            return true;\n        }\n        else\n        {\n            return false;\n        }\n    }\n});\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>$('#form_id :submitable');\n</code></pre>\n\n<p>I've not tested it with multiple select boxes yet though but It works for getting all the form fields in the way a standard submit would.</p>\n\n<p>I used this when customising the product options on an OpenCart site to include checkboxes and text fields as well as the standard select box type.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Don't forget the checkboxes and radio buttons -</p>\n\n<pre><code>        var inputs = $(\"#myForm :input\");\n        var obj = $.map(inputs, function(n, i)\n        {\n            var o = {};\n            if (n.type == \"radio\" || n.type == \"checkbox\")\n                o[n.id] = $(n).attr(\"checked\");\n            else\n                o[n.id] = $(n).val();\n            return o;\n        });\n        return obj\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I had the same problem and solved it in a different way.</p>\n\n<pre><code>var arr = new Array();\n$(':input').each(function() {\n arr.push($(this).val());\n});\narr;\n</code></pre>\n\n<p>It returns the value of all input fields. You could change the <code>$(':input')</code> to be more specific.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Same solution as given by nickf, but with array input names taken into account\neg </p>\n\n<p><code>&lt;input type=\"text\" name=\"array[]\" /&gt;</code></p>\n\n<pre><code>            values = {};\n            $(\"#something :input\").each(function() {\n                if(this.name.search(/\\[\\]/)&gt;0) //search for [] in name\n                {\n                    if(typeof values[this.name] != \"undefined\")\n                    {\n                        values[this.name] = values[this.name].concat([$(this).val()])\n                    }\n                    else\n                    {\n                        values[this.name] = [$(this).val()];\n                    }\n                }\n                else\n                {\n                    values[this.name] = $(this).val();\n                }\n            });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Had a similar issue with a slight twist and I thought I'd throw this out. I have a callback function that gets the form so I had a form object already and couldn't easy variants on <code>$('form:input')</code>. Instead I came up with:</p>\n\n<pre><code>    var dataValues = {};\n    form.find('input').each(\n        function(unusedIndex, child) {\n            dataValues[child.name] = child.value;\n        });\n</code></pre>\n\n<p>Its similar but not identical situation, but I found this thread very useful and thought I'd tuck this on the end and hope someone else found it useful.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>jQuery's <code>serializeArray</code> does not include disabled fields, so if you need those too, try:</p>\n\n<pre><code>var data = {};\n$('form.my-form').find('input, textarea, select').each(function(i, field) {\n    data[field.name] = field.value;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>serialize() is the best method. @ Christopher Parker say that Nickf's anwser accomplishes more, however it does not take into account that the form may contain textarea and select menus.  It is far better to use serialize() and then manipulate that as you need to.  Data from serialize() can be used in either an Ajax post or get, so there is no issue there.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Sometimes I find getting one at a time is more useful.  For that, there's this:</p>\n\n<pre><code>var input_name = \"FirstName\";\nvar input = $(\"#form_id :input[name='\" + input_name \"']\"); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If you need to get multiple values from inputs and you're using []'s to define the inputs with multiple values, you can use the following:</p>\n\n<pre><code>$('#contentform').find('input, textarea, select').each(function(x, field) {\n    if (field.name) {\n        if (field.name.indexOf('[]')&gt;0) {\n            if (!$.isArray(data[field.name])) {\n               data[field.name]=new Array();\n            }\n            data[field.name].push(field.value);\n        } else {\n            data[field.name]=field.value;\n        }\n    }                   \n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Hope this helps somebody. :)</p>\n\n<pre><code>// This html:\n// &lt;form id=\"someCoolForm\"&gt;\n// &lt;input type=\"text\" class=\"form-control\" name=\"username\" value=\"....\" /&gt;\n// \n// &lt;input type=\"text\" class=\"form-control\" name=\"profile.first_name\" value=\"....\" /&gt;\n// &lt;input type=\"text\" class=\"form-control\" name=\"profile.last_name\" value=\"....\" /&gt;\n// \n// &lt;input type=\"text\" class=\"form-control\" name=\"emails[]\" value=\"...\" /&gt;\n// &lt;input type=\"text\" class=\"form-control\" name=\"emails[]\" value=\"..\" /&gt;\n// &lt;input type=\"text\" class=\"form-control\" name=\"emails[]\" value=\".\" /&gt;\n// &lt;/form&gt;\n// \n// With this js:\n// \n// var form1 = parseForm($('#someCoolForm'));\n// console.log(form1);\n// \n// Will output something like:\n// {\n// username: \"test2\"\n// emails:\n//   0: \".@....com\"\n//   1: \"...@........com\"\n// profile: Object\n//   first_name: \"...\"\n//   last_name: \"...\"\n// }\n// \n// So, function below:\n\nvar parseForm = function (form) {\n\n    var formdata = form.serializeArray();\n\n    var data = {};\n\n    _.each(formdata, function (element) {\n\n        var value = _.values(element);\n\n        // Parsing field arrays.\n        if (value[0].indexOf('[]') &gt; 0) {\n            var key = value[0].replace('[]', '');\n\n            if (!data[key])\n                data[key] = [];\n\n            data[value[0].replace('[]', '')].push(value[1]);\n        } else\n\n        // Parsing nested objects.\n        if (value[0].indexOf('.') &gt; 0) {\n\n            var parent = value[0].substring(0, value[0].indexOf(\".\"));\n            var child = value[0].substring(value[0].lastIndexOf(\".\") + 1);\n\n            if (!data[parent])\n                data[parent] = {};\n\n            data[parent][child] = value[1];\n        } else {\n            data[value[0]] = value[1];\n        }\n    });\n\n    return data;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://api.jquery.com/serializearray/\" rel=\"nofollow\">http://api.jquery.com/serializearray/</a></p>\n\n<pre><code>$('#form').on('submit', function() {\n    var data = $(this).serializeArray();\n});\n</code></pre>\n\n<p>This can also be done without jQuery using the XMLHttpRequest Level 2 FormData object</p>\n\n<p><a href=\"http://www.w3.org/TR/2010/WD-XMLHttpRequest2-20100907/#the-formdata-interface\" rel=\"nofollow\">http://www.w3.org/TR/2010/WD-XMLHttpRequest2-20100907/#the-formdata-interface</a></p>\n\n<pre><code>var data = new FormData([form])\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is another solution, this way you can fetch all data about the form and use it in a serverside call or something.</p>\n\n<pre><code>$('.form').on('submit', function( e )){ \n   var form = $( this ), // this will resolve to the form submitted\n       action = form.attr( 'action' ),\n         type = form.attr( 'method' ),\n         data = {};\n\n     // Make sure you use the 'name' field on the inputs you want to grab. \n   form.find( '[name]' ).each( function( i , v ){\n      var input = $( this ), // resolves to current input element.\n          name = input.attr( 'name' ),\n          value = input.val();\n      data[name] = value;\n   });\n\n  // Code which makes use of 'data'.\n\n e.preventDefault();\n}\n</code></pre>\n\n<p>You can then use this with ajax calls:</p>\n\n<pre><code>function sendRequest(action, type, data) {\n       $.ajax({\n            url: action,\n           type: type,\n           data: data\n       })\n       .done(function( returnedHtml ) {\n           $( \"#responseDiv\" ).append( returnedHtml );\n       })\n       .fail(function() {\n           $( \"#responseDiv\" ).append( \"This failed\" );\n       });\n}\n</code></pre>\n\n<p>Hope this is of any use for any of you :)</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a form with many input fields.</p>\n\n<p>When I catch the submit form event with jQuery, is it possible to get all the input fields of that form in an associative array?</p>\n",
            "last_activity_date": 1417109233,
            "question_id": 169506,
            "score": 246,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Obtain form input fields using jQuery?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Check the <a href=\"http://dev.chromium.org/developers/design-documents/desktop-notifications\">design</a> and <a href=\"http://www.chromium.org/developers/design-documents/desktop-notifications/api-specification\">API specification</a> (it's still a draft) or check the source from <a href=\"http://www.210computing.com/google/chrome_notifications.html\">this webpage</a> for a simple example: It's mainly a call to <code>window.webkitNotifications.createNotification</code>.</p>\n\n<p>If you want a more robust example (you're trying to create your own Google Chrome's extension, and would like to know how to deal with permissions, local storage and such), check out <a href=\"https://chrome.google.com/extensions/detail/kkmbodalobogbnejmcdghkfimhodifol\">Gmail Notifier Extension</a>: download the crx file instead of installing it, unzip it and read its source code.</p>\n",
                    "is_accepted": false,
                    "score": 64
                },
                {
                    "body": "<p>I like: <a href=\"http://slides.html5rocks.com/#notifications-api\">http://slides.html5rocks.com/#notifications-api</a></p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>Below is a working <a href=\"http://jsbin.com/ziwod/1/edit?html,js,output\">example</a> of desktop notifications for Chrome, Firefox, Opera and Safari. It may not work on StackExchange due to a <a href=\"http://meta.stackoverflow.com/questions/275029/browser-notifications-api-doesnt-work-in-stack-snippet\">bug</a>; in that case, try the <a href=\"http://jsbin.com/ziwod/1/edit?html,js,output\">JSBin link</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function notifyMe() {\r\n  if (!Notification) {\r\n    alert('Please us a modern version of Chrome, Firefox, Opera or Firefox.');\r\n    return;\r\n  }\r\n\r\n  if (Notification.permission !== \"granted\")\r\n    Notification.requestPermission();\r\n\r\n  var notification = new Notification('Notification title', {\r\n    icon: 'http://cdn.sstatic.net/stackexchange/img/logos/so/so-icon.png',\r\n    body: \"Hey there! You've been notified!\",\r\n  });\r\n\r\n\r\n  notification.onclick = function () {\r\n    window.open(\"http://stackoverflow.com/a/13328397/1269037\");\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button onclick=\"notifyMe()\"&gt;Notify me!&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>Notification support has been in continuous flux, with various APIs being deprecated over the last two years. If you're curious, check the previous edits of this answer to see what used to work in Chrome, and to learn the story of rich HTML notifications.</p>\n\n<p>Note that the <a href=\"https://developer.chrome.com/extensions/desktop_notifications\">current</a> official <a href=\"https://developer.chrome.com/extensions/notifications\">notifications API for Chrome</a> doesn't work as of the current Chrome (v 38). The Mozilla API used above, while experimental, does work.</p>\n",
                    "is_accepted": true,
                    "score": 153
                },
                {
                    "body": "<p>Here is nice documentation on APIs,</p>\n\n<p><a href=\"https://developer.chrome.com/apps/notifications\" rel=\"nofollow\">https://developer.chrome.com/apps/notifications</a></p>\n\n<p>And, official video explanation by Google,</p>\n\n<p><a href=\"https://developers.google.com/live/shows/83992232-1001\" rel=\"nofollow\">https://developers.google.com/live/shows/83992232-1001</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It appears that <code>window.webkitNotifications</code> has already been deprecated and removed. However, there's a <a href=\"https://developer.mozilla.org/en/docs/Web/API/notification\">new API</a>, and it appears to work in the latest version of Firefox as well.</p>\n\n<pre><code>function notifyMe() {\n  // Let's check if the browser supports notifications\n  if (!(\"Notification\" in window)) {\n    alert(\"This browser does not support desktop notification\");\n  }\n\n  // Let's check if the user is okay to get some notification\n  else if (Notification.permission === \"granted\") {\n    // If it's okay let's create a notification\n    var notification = new Notification(\"Hi there!\");\n  }\n\n  // Otherwise, we need to ask the user for permission\n  // Note, Chrome does not implement the permission static property\n  // So we have to check for NOT 'denied' instead of 'default'\n  else if (Notification.permission !== 'denied') {\n    Notification.requestPermission(function (permission) {\n\n      // Whatever the user answers, we make sure we store the information\n      if(!('permission' in Notification)) {\n        Notification.permission = permission;\n      }\n\n      // If the user is okay, let's create a notification\n      if (permission === \"granted\") {\n        var notification = new Notification(\"Hi there!\");\n      }\n    });\n  }\n\n  // At last, if the user already denied any notification, and you \n  // want to be respectful there is no need to bother him any more.\n}\n</code></pre>\n\n<p><a href=\"http://codepen.io/mnbayazit/pen/HnixI\">codepen</a></p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>Notify.js is a wrapper around the new webkit notifications. It works pretty well.</p>\n\n<p><a href=\"http://alxgbsn.co.uk/2013/02/20/notify-js-a-handy-wrapper-for-the-web-notifications-api/\" rel=\"nofollow\">http://alxgbsn.co.uk/2013/02/20/notify-js-a-handy-wrapper-for-the-web-notifications-api/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there an hosted example code (Javascript) that demonstrates <a href=\"http://techcrunch.com/2009/09/01/chrome-is-gaining-desktop-notifications/\">Chrome desktop notifications</a>? I'd like that use that in my own code.</p>\n\n<p><strong>Update</strong>: Here's <a href=\"http://0xfe.blogspot.com/2010/04/desktop-notifications-with-webkit.html\">a blog post</a> explaining webkit notifications with an example.</p>\n",
            "last_activity_date": 1413960324,
            "question_id": 2271156,
            "score": 123,
            "tags": [
                "javascript",
                "desktop",
                "google-chrome",
                "notifications"
            ],
            "title": "Chrome desktop notification example?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Everything you need to know about underscore template is <a href=\"http://underscorejs.org/#template\">here</a>. Only 3 things to keep in mind:</p>\n\n<ol>\n<li><code>&lt;%  %&gt;</code> - to execute some code</li>\n<li><code>&lt;%= %&gt;</code> - to print some value in template</li>\n<li><code>&lt;%- %&gt;</code> - to print some values with HTML escaped</li>\n</ol>\n\n<p>That's all about it.</p>\n\n<p>Simple example:</p>\n\n<pre><code>var tpl = _.template(\"&lt;h1&gt;Some text: &lt;%= foo %&gt;&lt;/h1&gt;\");\n</code></pre>\n\n<p>then <code>tpl({foo: \"blahblah\"})</code> would be rendered to the string <code>&lt;h1&gt;Some text: blahblah&lt;/h1&gt;</code></p>\n",
                    "is_accepted": false,
                    "score": 199
                },
                {
                    "body": "<p>In it's simplest form you would use it like:</p>\n\n<pre><code>var html = _.template('&lt;li&gt;&lt;%= name %&gt;&lt;/li&gt;', { name: 'John Smith' });\n//html is now '&lt;li&gt;John Smith&lt;/li&gt;'   \n</code></pre>\n\n<p>If you're going to be using a template a few times you'll want to compile it so it's faster:</p>\n\n<pre><code>var template = _.template('&lt;li&gt;&lt;%= name %&gt;&lt;/li&gt;');\n\nvar html = [];\nfor (var key in names) {\n    html += template({ name: names[i] });\n}\n\nconsole.log(html.join('')); //Outputs a string of &lt;li&gt; items\n</code></pre>\n\n<p>I personally prefer the Mustache style syntax. You can adjust the template token markers to use double curly braces:</p>\n\n<pre><code>_.templateSettings.interpolate = /\\{\\{(.+?)\\}\\}/g;\n\nvar template = _.template('&lt;li&gt;{{ name }}&lt;/li&gt;');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 82
                },
                {
                    "body": "<pre><code>&lt;!-- Install jQuery and underscore --&gt;\n\n&lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-1.7.2.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"http://documentcloud.github.com/underscore/underscore-min.js\"&gt;&lt;/script&gt;\n\n&lt;!-- Create your template --&gt;\n&lt;script type=\"foo/bar\" id='usageList'&gt;\n&lt;table cellspacing='0' cellpadding='0' border='1' &gt;\n    &lt;thead&gt;\n      &lt;tr&gt;\n        &lt;th&gt;Id&lt;/th&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n      &lt;%\n        // repeat items \n        _.each(items,function(item,key,list){\n          // create variables\n          var f = item.name.split(\"\").shift().toLowerCase();\n      %&gt;\n        &lt;tr&gt;\n          &lt;!-- use variables --&gt;\n          &lt;td&gt;&lt;%= key %&gt;&lt;/td&gt;\n          &lt;td class=\"&lt;%= f %&gt;\"&gt;\n            &lt;!-- use %- to inject un-sanitized user input (see 'Demo of XSS hack') --&gt;\n            &lt;h3&gt;&lt;%- item.name %&gt;&lt;/h3&gt;\n            &lt;p&gt;&lt;%- item.interests %&gt;&lt;/p&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;%\n        });\n      %&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n&lt;/script&gt;\n\n&lt;!-- Create your target --&gt;\n\n&lt;div id=\"target\"&gt;&lt;/div&gt;\n\n&lt;!-- Write some code to fetch the data and apply template --&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n  var items = [\n    {name:\"Alexander\", interests:\"creating large empires\"},\n    {name:\"Edward\", interests:\"ha.ckers.org &lt;\\nBGSOUND SRC=\\\"javascript:alert('XSS');\\\"&gt;\"},\n    {name:\"...\"},\n    {name:\"Yolando\", interests:\"working out\"},\n    {name:\"Zachary\", interests:\"picking flowers for Angela\"}\n  ];\n  var template = $(\"#usageList\").html();\n  $(\"#target\").html(_.template(template,{items:items}));\n&lt;/script&gt;\n</code></pre>\n\n<ul>\n<li><a href=\"http://jsfiddle.net/aPv9H/\">JsFiddle</a> Thanks @PHearst!</li>\n<li><a href=\"http://jsfiddle.net/aPv9H/1/\">JsFiddle</a> (latest)</li>\n<li><a href=\"http://jsfiddle.net/bnSmh/\">JsFiddle</a> List grouped by first letter (complex example w/ images, function calls, sub-templates) fork it! have a blast...</li>\n<li><a href=\"http://jsfiddle.net/7jWuD/1/\">JsFiddle</a> Demo of XSS hack noted by @tarun_telang below</li>\n<li><a href=\"http://jsfiddle.net/23uTD/1/\">JsFiddle</a> One non-standard method to do sub-templates</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 142
                },
                {
                    "body": "<p>The documentation for templating is partial, I watched the source.</p>\n\n<p>The <strong>_.template</strong> function has 3 arguments:</p>\n\n<ol>\n<li>String <strong>text</strong> : the template string</li>\n<li>Object <strong>data</strong> : the evaluation data</li>\n<li>Object <strong>settings</strong> : local settings, the <strong>_.templateSettings</strong> is the global settings object</li>\n</ol>\n\n<p>If no <strong>data</strong> (or null) given, than a <strong>render</strong> function will be returned. It has 1 argument: </p>\n\n<ol>\n<li>Object <strong>data</strong> : same as the <strong>data</strong> above</li>\n</ol>\n\n<p>There are 3 regex patterns and 1 static parameter in the settings:  </p>\n\n<ol>\n<li>RegExp <strong>evaluate</strong> : \"&lt;%code%>\" in template string</li>\n<li>RegExp <strong>interpolate</strong> : \"&lt;%=code%>\" in template string</li>\n<li>RegExp <strong>escape</strong> : \"&lt;%-code%>\"</li>\n<li>String <strong>variable</strong> : optional, the name of the <strong>data</strong> parameter in the template string</li>\n</ol>\n\n<p>The code in an <strong>evaluate</strong> section will be simply evaluated. You can add string from this section with the <strong>__p+=\"mystring\"</strong> command to the evaluated template, but this is not recommended (not part of the templating interface), use the interpolate section instead of that. This type of section is for adding blocks like if or for to the template.</p>\n\n<p>The result of the code in the <strong>interpolate</strong> section will added to the evaluated template. If null given back, then empty string will added.</p>\n\n<p>The <strong>escape</strong> section escapes html with <strong>_.escape</strong> on the return value of the given code. So its similar than an <strong>_.escape(code)</strong> in an <strong>interpolate</strong> section, but it escapes with <strong>\\</strong> the whitespace characters like <strong>\\n</strong> before it passes the code to the <strong>_.escape</strong>. I don't know why is that important, it's in the code, but it works well with the <strong>interpolate</strong> and <strong>_.escape</strong> - which doesn't escape the white-space characters - too.</p>\n\n<p>By default the <strong>data</strong> parameter is passed by a <strong>with(data){...}</strong> statement, but this kind of evaluating is much slower than the evaluating with named variable. So naming the <strong>data</strong> with the <strong>variable</strong> parameter is something good...</p>\n\n<p>For example:</p>\n\n<pre><code>var html = _.template(\n    \"&lt;pre&gt;The \\\"&lt;% __p+=_.escape(o.text) %&gt;\\\" is the same&lt;br /&gt;\" +\n        \"as the  \\\"&lt;%= _.escape(o.text) %&gt;\\\" and the same&lt;br /&gt;\" +\n        \"as the \\\"&lt;%- o.text %&gt;\\\"&lt;/pre&gt;\",\n    {\n        text: \"&lt;b&gt;some text&lt;/b&gt; and \\n it's a line break\"\n    },\n    {\n        variable: \"o\"\n    }\n);\n\n$(\"body\").html(html);\n</code></pre>\n\n<p>results</p>\n\n<pre><code>The \"&lt;b&gt;some text&lt;/b&gt; and \n it's a line break\" is the same\nas the \"&lt;b&gt;some text&lt;/b&gt; and \n it's a line break\" and the same\nas the \"&lt;b&gt;some text&lt;/b&gt; and \n it's a line break\"\n</code></pre>\n\n<p>You can find here more examples how to use the template and override the default settings:\n<a href=\"http://underscorejs.org/#template\">http://underscorejs.org/#template</a></p>\n\n<p>By template loading you have many options, but at the end you always have to convert the template into string. You can give it as normal string like the example above, or you can load it from a script tag, and use the <a href=\"http://api.jquery.com/html/\">.html()</a> function of jquery, or you can load it from a separate file with the <a href=\"https://github.com/ZeeAgency/requirejs-tpl\">tpl plugin</a> of <a href=\"http://requirejs.org/\">require.js</a>.</p>\n\n<p>Another option to build the dom tree with <a href=\"https://github.com/joestelmach/laconic\">laconic</a> instead of templating.</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>with express it's so easy. all what you need is to use the <strong>consolidate</strong> module on node so you need to install it :</p>\n\n<pre><code>npm install consolidate --save\n</code></pre>\n\n<p>then you should change the default engine to html template by this:</p>\n\n<pre><code>app.set('view engine', 'html');\n</code></pre>\n\n<p>register the underscore template engine for the html extension:</p>\n\n<pre><code>app.engine('html', require('consolidate').underscore);\n</code></pre>\n\n<p>it's done !</p>\n\n<p>Now for load for example an template called 'index.html':</p>\n\n<pre><code>res.render('index', { title : 'my first page'});\n</code></pre>\n\n<blockquote>\n  <p>maybe you will need to install the underscore module.</p>\n</blockquote>\n\n<pre><code>npm install underscore --save\n</code></pre>\n\n<p>I hope this helped you!</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I wanted to share one more important finding.</p>\n\n<p>use of &lt;%= variable => would result in cross-site scripting vulnerability. So its more safe to use &lt;%- variable -> instead.</p>\n\n<p>We had to replace &lt;%= with &lt;%- to prevent cross-site scripting attacks. Not sure, whether this will it have any impact on the performance</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I am giving a very simple example</p>\n\n<p>1)  var data = {site:\"mysite\",name:\"john\",age:25};</p>\n\n<p>var template = \"Welcome you are at &lt;%=site %>.This has been created by &lt;%=name %> whose age is &lt;%=age%>\";</p>\n\n<p>var parsedTemplate = _.template(template,data);</p>\n\n<p>console.log(parsedTemplate); </p>\n\n<p>The result would be</p>\n\n<p>Welcome you are at mysite.This has been created by john whose age is 25.</p>\n\n<p>2) This is a template</p>\n\n<pre><code>   &lt;script type=\"text/template\" id=\"template_1\"&gt;\n\n\n\n       &lt;% _.each(items,function(item,key,arr) { %&gt;\n          &lt;li&gt;\n             &lt;span&gt;&lt;%=key %&gt;&lt;/span&gt;\n             &lt;span&gt;&lt;%=item.name %&gt;&lt;/span&gt;\n             &lt;span&gt;&lt;%=item.type&lt;/span&gt;\n           &lt;/li&gt;\n       &lt;% }); %&gt;\n\n   &lt;/script&gt;\n</code></pre>\n\n<p>This is html</p>\n\n<pre><code>&lt;div&gt;\n  &lt;ul id=\"list_2\"&gt;&lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is the javascript code which contains json object and putting template into html</p>\n\n<p></p>\n\n<pre><code>   var items = [\n       {\n          name:\"name1\",\n          type:\"type1\"\n       },\n       {\n          name:\"name1\",\n          type:\"type1\"\n       },\n       {\n          name:\"name1\",\n          type:\"type1\"\n       },\n       {\n          name:\"name1\",\n          type:\"type1\"\n       },\n       {\n          name:\"name1\",\n          type:\"type1\"\n       } \n   ];\n  $(document).ready(function(){\n      var template = $(\"#template_1\").html();\n      $(\"#list_2\").html(_.template(template,{items:items}));\n  });\n</code></pre>\n\n<p></p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>I'm trying to learn about new usages of javascript as a serverside language and as a functional language. Few days ago I heard about node.js and express framework. Then I saw about underscore.js as a set of utility functions. I saw <a href=\"http://stackoverflow.com/questions/1787716/is-there-a-template-engine-for-node-js\">this question on stackoverflow\n</a>. It says we can use underscore.js as a template engine. anybody know good tutorials about how to use underscore.js for templating, especially for biginners who have less experience with advanced javascript. Thanks </p>\n",
            "last_activity_date": 1422237799,
            "question_id": 4778881,
            "score": 146,
            "tags": [
                "javascript",
                "functional-programming",
                "node.js",
                "underscore.js"
            ],
            "title": "How to use underscore.js as a template engine?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Before you read this, <a href=\"http://api.jquery.com/category/events/\">pull this list of events up in another page, the API itself is tremendously helpful, and all of what I'm discussing below is linked directly from this page</a>.</p>\n\n<p>First, <a href=\"http://api.jquery.com/click/\"><code>.click(function)</code></a> is literally a shortcut for <a href=\"http://api.jquery.com/bind/\"><code>.bind('click', function)</code></a>, they are equivalent.  Use them when binding a handler <strong>directly to an element</strong>, like this:</p>\n\n<pre><code>$(document).click(function() {\n  alert(\"You clicked somewhere in the page, it bubbled to document\");\n});\n</code></pre>\n\n<p>If this element gets replaced or thrown away, this handler won't be there anymore.  Also elements that weren't there <strong>when this code was run</strong> to attach the handler (e.g. the selector found it then) won't get the handler.</p>\n\n<p><a href=\"http://api.jquery.com/live/\"><code>.live()</code></a> and <a href=\"http://api.jquery.com/delegate/\"><code>.delegate()</code></a> are similarly related, <a href=\"http://api.jquery.com/delegate/\"><code>.delegate()</code></a> actually uses <a href=\"http://api.jquery.com/live/\"><code>.live()</code></a> internally, they both listen for events to bubble.  <strong>This works for new and old elements</strong>, they bubble events the same way.  You use these when your elements may change, e.g. adding new rows, list items, etc.  If you don't have a parent/common ancestor that will stay in the page and not be replaced at any point, use <a href=\"http://api.jquery.com/live/\"><code>.live()</code></a>, like this:</p>\n\n<pre><code>$(\".clickAlert\").live('click', function() {\n  alert(\"A click happened\");\n});\n</code></pre>\n\n<p>If however you do have a parent element somewhere that isn't getting replaced (so its event handlers aren't going bye bye) you should handle it with <a href=\"http://api.jquery.com/delegate/\"><code>.delegate()</code></a>, like this:</p>\n\n<pre><code>$(\"#commonParent\").delegate('.clickAlert', 'click', function() {\n  alert(\"A click happened, it was captured at #commonParent and this alert ran\");\n});\n</code></pre>\n\n<p>This works almost the same as <a href=\"http://api.jquery.com/live/\"><code>.live()</code></a>, but the event bubbles fewer times before being captured and the handlers executed.  Another common use of both of these is say your class changes on an element, no longer matching the selector you originally used...with these methods the selector is evaluated <strong>at the time of the event</strong>, if it matches, the handler runs...so the element no longer matching the selector matters, it won't execute anymore.  With <a href=\"http://api.jquery.com/click/\"><code>.click()</code></a> however, the event handler is bound right on the DOM element, the fact that it doesn't match whatever selector was used to find it is irrelevant...the event is bound and it's staying until that element is gone, or the handler is removed via <a href=\"http://api.jquery.com/unbind/\"><code>.unbind()</code></a>.</p>\n\n<p>Yet another common use for <a href=\"http://api.jquery.com/live/\"><code>.live()</code></a> and <a href=\"http://api.jquery.com/delegate/\"><code>.delegate()</code></a> is <strong>performance</strong>.  If you're dealing with <em>lots</em> of elements, attaching a click handler directly to each element is expensive and time consuming.  In these cases it's more economical to setup a <em>single</em> handler and let bubbling do the work, <a href=\"http://stackoverflow.com/questions/2479837/jquery-bind-efficiency\">take a look at this question where it made a huge difference</a>, it's a good example of the application.</p>\n\n<hr>\n\n<p><strong>Triggering</strong> - for the updated question</p>\n\n<p>There are 2 main event-handler triggering functions available, <a href=\"http://api.jquery.com/category/events/event-handler-attachment/\">they fall under the same \"Event Handler Attachment\" category in the API</a>, these are <a href=\"http://api.jquery.com/trigger/\"><code>.trigger()</code></a> and <a href=\"http://api.jquery.com/triggerHandler/\"><code>.triggerHandler()</code></a>.  <a href=\"http://api.jquery.com/trigger/\"><code>.trigger('eventName')</code></a> has some shortcuts built-in for the common events, for example:</p>\n\n<pre><code>$().click(fn); //binds an event handler to the click event\n$().click();   //fires all click event handlers for this element, in order bound\n</code></pre>\n\n<p><a href=\"http://api.jquery.com/category/events/\">You can view a listing including these shortcuts here</a>.</p>\n\n<p>As for the difference, <a href=\"http://api.jquery.com/trigger/\"><code>.trigger()</code></a> triggers the event handler (but not the default action most of the time, e.g. placing the cursor at the right spot in a clicked <code>&lt;textarea&gt;</code>).  It causes the event handlers to occur in the order they were bound (as the native event would), fires the native event actions, and bubbles up the DOM.</p>\n\n<p><a href=\"http://api.jquery.com/triggerHandler/\"><code>.triggerHandler()</code></a> is usually for a different purpose, here you're just trying to fire the bound handler(s), it doesn't cause the native event to fire, e.g. submitting a form.  It doesn't bubble up the DOM, and it's not chainable (it returns whatever the last-bound event handler for that event returns).  For example if you wanted to trigger a <code>focus</code> event but not actually focus the object, you just want code you bound with <a href=\"http://api.jquery.com/focus/\"><code>.focus(fn)</code></a> to run, this would do that, whereas <a href=\"http://api.jquery.com/trigger/\"><code>.trigger()</code></a> would do that as well as actually focus the element and bubble up.</p>\n\n<p>Here is a real world example:</p>\n\n<pre><code>$(\"form\").submit(); //actually calling `.trigger('submit');`\n</code></pre>\n\n<p>This would run any submit handlers, for example the <a href=\"http://bassistance.de/jquery-plugins/jquery-plugin-validation/\">jQuery validation plugin</a>, then try to submit the <code>&lt;form&gt;</code>.  However if you <em>just</em> wanted to validate, since it's hooked up via a <code>submit</code> event handler, but not submit the <code>&lt;form&gt;</code> afterwards, you could use <a href=\"http://api.jquery.com/triggerHandler/\"><code>.triggerHandler('submit')</code></a>, like this:</p>\n\n<pre><code>$(\"form\").triggerHandler('submit');\n</code></pre>\n\n<p>The plugin prevents the handler from submitting the form by bombing out if the validation check doesn't pass, but with this method we don't care what it does.  Whether it aborted or not we're not <em>trying</em> to submit the form, we just wanted to trigger it to re-validate and do nothing else.  (<em>Disclaimer:</em> This is a superfluous example since there's a <code>.validate()</code> method in the plugin, but it's a decent illustration of intent)</p>\n",
                    "is_accepted": true,
                    "score": 147
                },
                {
                    "body": "<p>The first two are equivalent.</p>\n\n<pre><code>// The following two statements do the same thing:\n$(\"blah\").click( function() { alert( \"Click!\" ); } );\n$(\"blah\").bind( \"click\", function() { alert( \"Click!\" ); } ); \n</code></pre>\n\n<p>The second one, though, can be used to bind to more than one event at the same time, by specifying several space-separated event names:</p>\n\n<pre><code>$(\"blah\").bind( \"click mouseover mouseout\", function() { alert( \"Click! Or maybe mouse moved.\" ); } ); \n</code></pre>\n\n<p>The <code>.live</code> method is more interesting. Consider the following example:</p>\n\n<pre><code>&lt;a class=\"myLink\"&gt;A link!&lt;/a&gt;\n&lt;a id=\"another\"&gt;Another link!&lt;/a&gt;\n\n&lt;script&gt;\n    $(\"a.myLink\").click( function() { alert( 'Click!' ); } );\n\n    $(\"a#another\").addClass( \"myLink\" );\n&lt;/script&gt;\n</code></pre>\n\n<p>After the second line of the script executes, the second link will also have a CSS class of \"myLink\". But it will not have the event handler, because it didn't have the class when the event was attached.</p>\n\n<p>Now consider you wanted it to be the other way around: every time a link with class \"myLink\" appears somewhere on the page, you want it to have the same event handler automatically. This is very common when you have some kind of lists or tables, where you add rows or cells dynamically, but want them all to behave in the same way. Instead of going to all the pain of assigning event handlers anew every time, you can use the <code>.live</code> method:</p>\n\n<pre><code>&lt;a class=\"myLink\"&gt;A link!&lt;/a&gt;\n&lt;a id=\"another\"&gt;Another link!&lt;/a&gt;\n\n&lt;script&gt;\n    $(\"a.myLink\").live( \"click\", function() { alert( 'Click!' ); } );\n\n    $(\"a#another\").addClass( \"myLink\" );\n&lt;/script&gt;\n</code></pre>\n\n<p>In this example, the second link will also get the event handler as soon as it gets the \"myLink\" class. Magic! :-)</p>\n\n<p>Of course, it's not that literal. What <code>.live</code> really does is attach the handler not to the specified element itself, but to the very root of the HTML tree (the \"body\" element). Events in DHTML have this funny feature of \"bubbling up\". Consider this:</p>\n\n<pre><code>&lt;div&gt; &lt;a&gt; &lt;b&gt;text&lt;/b&gt; &lt;/a&gt; &lt;/div&gt;\n</code></pre>\n\n<p>If you click on \"text\", then first the &lt;b&gt; element will get a \"click\" event. After that, the &lt;a&gt; element will get a \"click\" event. And after that the &lt;div&gt; element will get a \"click\" event. And so on - all the way up to the &lt;body&gt; element. And that's where jQuery will catch the event and see if there are any \"live\" handlers which apply to the element that caused the event in the first place. Neat!</p>\n\n<p>And finally, the <code>.delegate</code> method. It simply takes all the children of your element that conform to the given selector and attach a \"live\" handler to them. Take a look:</p>\n\n<pre><code>$(\"table\").delegate( \"td\", \"click\", function() { alert( \"Click!\" ); } );\n\n// Is equivalent to:\n$(\"table\").each( function() {\n    $(this).find( \"td\" ).live( \"click\", function() { alert( \"Click!\" ); } );\n} );\n</code></pre>\n\n<p>Questions?</p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>This is where reading the API might help.  However, I know off the top of my head, so you can continue being lazy (yay!).</p>\n\n<pre><code>$('#something').click(fn);\n$('#something').bind('click',fn);\n</code></pre>\n\n<p>There's no difference here (that I know of).  <code>.click</code> is simply a convenience/helper method to <code>.bind('click'</code></p>\n\n<pre><code>// even after this is called, all &lt;a&gt;s in\n// &lt;div class=\"dynamic_els\"&gt; will continue\n// to be assigned these event handlers\n\n$('div.dynamic_els a').live(\u2018click\u2019,fn);\n</code></pre>\n\n<p>This is very different, as <code>.live</code> adds events to the selector you pass in (which you haven't here) and continues to look at the DOM as nodes are inserted / removed</p>\n\n<pre><code>$('#some_element').delegate('td','click',fn);\n</code></pre>\n\n<p>This is only different because of the way you're assigning event handlers.  <code>.delegate</code> is centered on DOM event bubbling.  The basic principle is that every event bubbles upward through the DOM tree until it reaches the root element (<code>document</code> or <code>window</code> or <code>&lt;html&gt;</code> or <code>&lt;body&gt;</code>, I can't remember exactly).</p>\n\n<p>Either way, you're binding an <code>onclick</code> handler to a all the <code>&lt;td&gt;</code>s within <code>$('#some_element')</code> (you must specify a selector, though you could say <code>$(document)</code>).  When one of its children is clicked, the event bubbles up to the <code>&lt;td&gt;</code>.  You can then extract the source element of the event (which jQuery does for you automagically).</p>\n\n<p>This is useful when there are tons of elements and you only have only a few (or one central) point[s] that these events will go through.  This saves the browser effort and memory to consolidate these event handlers into less objects.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><code>$().click(fn)</code> and <code>$().bind('click', fn)</code> are identical at first sight, but the <code>$.bind</code> version is more powerful for two reasons:</p>\n\n<ol>\n<li><code>$().bind()</code> allows you to assign one handler to multiple events, for example, <code>$().bind('click keyup', fn)</code>.</li>\n<li><code>$().bind()</code> supports namespaced events - a powerful feature if you want to remove (unbind) only certain event handlers that an element is bound to - read more in <em><a href=\"http://docs.jquery.com/Namespaced_Events\" rel=\"nofollow\">Namespaced Events</a></em>.</li>\n</ol>\n\n<p>Live vs delegate: this has already been answered in the other replies.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>As of jQuery 1.7, the .live() method was deprecated. If you are using a jQuery version &lt; 1.7 than it is officially recommended to use .delegate() over .live(). </p>\n\n<p>.live() has now been replace with .on(). </p>\n\n<p>Best to go directly to the jQuery site for more information, but here are the current versions of the .on() method:</p>\n\n<pre><code>.on( events [, selector] [, data], handler(eventObject) )\n.on( events-map [, selector] [, data] )\n</code></pre>\n\n<p><a href=\"http://api.jquery.com/on/\">http://api.jquery.com/on/</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I have read the documentation of each function on  <a href=\"http://api.jquery.com/\"><code>jQuery official website</code></a>, but there is no such comparison listings between below functions:</p>\n\n<pre><code>$().click(fn)\n$().bind('click',fn)\n$().live('click',fn)\n$().delegate(selector, 'click', fn)\n$().trigger('click') // UPDATED\n$().on('click', selector ,fn); // more UPDATED\n</code></pre>\n\n<p>Please avoid any reference link.</p>\n\n<p>How do all above functions exactly works and which should be preferred in which situation?</p>\n\n<p><strong>Note:</strong> If there are any other function(s) having the same functionality or mechanism, Then please elaborate.</p>\n\n<h3>Update</h3>\n\n<p>I have also seen a <code>$.trigger</code> function. Does it work similar to the above functions?</p>\n\n<h3>More Update</h3>\n\n<p>Now <a href=\"http://api.jquery.com/on/\"><code>.on</code></a> is added in <strong>v1.7</strong> and I think this one somehow cover all of above functions requirement together.</p>\n",
            "last_activity_date": 1364541407,
            "question_id": 2954932,
            "score": 127,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Difference between jQuery `click`, `bind`, `live`, `delegate`, `trigger` and `on` functions (with an example)?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>No.</p>\n\n<p>Calling <code>document.getElementById('id')</code> will return a raw DOM object.</p>\n\n<p>Calling <code>$('#id')</code> will return a jQuery object that wraps the DOM object and provides jQuery methods.</p>\n\n<p>Thus, you can only call jQuery methods like <code>css()</code> or <code>animate()</code> on the <code>$()</code> call.</p>\n\n<p>You can also write <code>$(document.getElementById('id'))</code>, which will return a jQuery object and is equivalent to <code>$('#id')</code>.</p>\n\n<p>You can get the underlying DOM object from a jQuery object by writing <code>$('#id')[0]</code>.  </p>\n",
                    "is_accepted": false,
                    "score": 58
                },
                {
                    "body": "<p>Not exactly!!</p>\n\n<pre><code>document.getElementById('contents'); //returns a HTML DOM Object\n\nvar contents = $('#contents');  //returns a jQuery Object\n</code></pre>\n\n<hr>\n\n<p>In jQuery, to get the same result as <code>document.getElementById</code>, you can access the jQuery Object and get the first element in the object (Remember JavaScript objects act similar to associative arrays).</p>\n\n<pre><code>var contents = $('#contents')[0]; //returns a HTML DOM Object\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 410
                },
                {
                    "body": "<p>No, actually the same result would be:</p>\n\n<pre><code>$('#contents')[0] \n</code></pre>\n\n<p>jQuery does not know how many results would be returned from the query.  What you get back is a special jQuery object which is a collection of all the controls that matched the query.</p>\n\n<p>Part of what makes jQuery so convenient is that MOST methods called on this object that look like they are meant for one control, are actually in a loop called on all the members int he collection</p>\n\n<p>When you use the [0] syntax you take the first element from the inner collection.  At this point you get a DOM object</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Close, but not the same. They're getting the same element, but the jQuery version is wrapped in a jQuery object.</p>\n\n<p>The equivalent would be this</p>\n\n<pre><code>var contents = $('#contents').get(0);\n</code></pre>\n\n<p>or this</p>\n\n<pre><code>var contents = $('#contents')[0];\n</code></pre>\n\n<p>These will pull the element out of the jQuery object.</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>No. The first returns a DOM element, or null, whereas the second always returns a jQuery object. The jQuery object will be empty if no element with the id of <code>contents</code> was matched.</p>\n\n<p>The DOM element returned by <code>document.getElementById('contents')</code> allows you to do things such as change the <code>.innerHTML</code> (or <code>.value</code>) etc, however you'll need to use <a href=\"http://api.jquery.com\">jQuery methods</a> on the jQuery Object.</p>\n\n<pre><code>var contents = $('#contents').get(0);\n</code></pre>\n\n<p>Is more equivilent, however if no element with the id of <code>contents</code> is matched, <code>document.getElementById('contents')</code> will return null, but <code>$('#contents').get(0)</code> will return undefined.</p>\n\n<p>One benefit on using the jQuery object is that you won't get any errors if no elements were returned, as an object is always returned. However you will get errors if you try to perform operations on the <code>null</code> returned by <code>document.getElementById</code></p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Just like most people have said, the main difference is the fact that it is wrapped in a jQuery object with the jQuery call vs the raw DOM object using straight JavaScript. The jQuery object will be able to do other jQuery functions with it of course but, if you just need to do simple DOM manipulation like basic styling or basic event handling, the straight JavaScript method is always a tad bit faster than jQuery since you don't have to load in an external library of code built on JavaScript. It saves an extra step.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>In case someone else hits this... Here's another difference:</p>\n\n<p>If the id contains characters that are not supported by the HTML standard (see SO question <a href=\"http://stackoverflow.com/questions/70579/what-are-valid-values-for-the-id-attribute-in-html\">here</a>) than jQuery may not find it even if getElementById does.</p>\n\n<p>This happened to me with an id containing \"/\" characters (ex: id=\"a/b/c\"), using Chrome: </p>\n\n<pre><code>var contents = document.getElementById('a/b/c');\n</code></pre>\n\n<p>was able to find my element but: </p>\n\n<pre><code>var contents = $('#a/b/c');\n</code></pre>\n\n<p>did not.</p>\n\n<p>Btw, the simple fix was to move that id to the name field. JQuery had no trouble finding the element using:</p>\n\n<pre><code>var contents = $('.myclass[name='a/b/c']);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>One other difference: <code>getElementById</code> returns the <em>first</em> match, while <code>$('#...')</code> returns a collection of matches - yes, the same ID can be repeated in an HTML doc. </p>\n\n<p>Further, <code>getElementId</code> is called from the document, while <code>$('#...')</code> can be called from a selector. So, in the code below, <code>document.getElementById('content')</code> will return the entire body but <code>$('form #content')[0]</code> will return inside of the form.</p>\n\n<pre><code>&lt;body id=\"content\"&gt;\n   &lt;h1&gt;Header!&lt;/h1&gt;\n   &lt;form&gt;\n      &lt;div id=\"content\"&gt; My Form &lt;/div&gt;\n   &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>It might seem odd to use duplicate IDs, but if you are using something like Wordpress, a template or plugin might use the same id as you use in the content. The selectivity of jQuery could help you out there.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><code>var contents = document.getElementById('contents');</code></p>\n\n<p><code>var contents = $('#contents');</code></p>\n\n<p>The code snippets are not the same. first one returns a <code>Element</code> object (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.getElementById\" rel=\"nofollow\">source</a>).\nThe second one, jQuery equivalent will return a jQuery object containing a collection of either zero or one DOM element. (<a href=\"http://api.jquery.com/id-selector/\" rel=\"nofollow\">jQuery documentation</a>). Internally jQuery uses <code>document.getElementById()</code> for efficiency. </p>\n\n<p>In both the cases if more than one element found only the first element will be returned.</p>\n\n<hr>\n\n<p>When checking the github project for jQuery I found following line snippets which seems to be using document.getElementById codes (<a href=\"https://github.com/jquery/jquery/blob/master/src/core/init.js\" rel=\"nofollow\">https://github.com/jquery/jquery/blob/master/src/core/init.js</a> line 68 onwards) </p>\n\n<pre><code>// HANDLE: $(#id)\n} else {\n    elem = document.getElementById( match[2] );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is this:</p>\n\n<pre><code>var contents = document.getElementById('contents');\n</code></pre>\n\n<p>The same as this:</p>\n\n<pre><code>var contents = $('#contents');\n</code></pre>\n\n<p>Given that jQuery is loaded?</p>\n",
            "last_activity_date": 1406121429,
            "question_id": 4069982,
            "score": 235,
            "tags": [
                "javascript",
                "jquery",
                "jquery-selectors"
            ],
            "title": "document.getElementById vs jQuery $()"
        },
        {
            "answer_count": 15,
            "answers": [
                {
                    "body": "<p>This is possible by 'cheating' with a block helper. This probably goes against the Ideology of the people who developed Handlebars.</p>\n\n<pre><code>Handlebars.registerHelper('ifCond', function(v1, v2, options) {\n  if(v1 === v2) {\n    return options.fn(this);\n  }\n  return options.inverse(this);\n});\n</code></pre>\n\n<p>You can then call the helper in the template like this</p>\n\n<pre><code>{{#ifCond v1 v2}}\n    {{v1}} is equal to {{v2}}\n{{else}}\n    {{v1}} is not equal to {{v2}}\n{{/ifCond}}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 197
                },
                {
                    "body": "<p>Taking the solution one step further.  This adds the compare operator.</p>\n\n<pre><code>Handlebars.registerHelper('ifCond', function (v1, operator, v2, options) {\n\n    switch (operator) {\n        case '==':\n            return (v1 == v2) ? options.fn(this) : options.inverse(this);\n        case '===':\n            return (v1 === v2) ? options.fn(this) : options.inverse(this);\n        case '&lt;':\n            return (v1 &lt; v2) ? options.fn(this) : options.inverse(this);\n        case '&lt;=':\n            return (v1 &lt;= v2) ? options.fn(this) : options.inverse(this);\n        case '&gt;':\n            return (v1 &gt; v2) ? options.fn(this) : options.inverse(this);\n        case '&gt;=':\n            return (v1 &gt;= v2) ? options.fn(this) : options.inverse(this);\n        case '&amp;&amp;':\n            return (v1 &amp;&amp; v2) ? options.fn(this) : options.inverse(this);\n        case '||':\n            return (v1 || v2) ? options.fn(this) : options.inverse(this);\n        default:\n            return options.inverse(this);\n    }\n});\n</code></pre>\n\n<p>Use it in a template like this:</p>\n\n<pre><code>{{#ifCond var1 '==' var2}}\n</code></pre>\n\n<p>Coffee Script version</p>\n\n<pre><code>Handlebars.registerHelper 'ifCond', (v1, operator, v2, options)-&gt;\n    switch operator\n        when '==', '==='\n            return if v1 is v2 then options.fn @ else options.inverse @\n        when '&lt;'\n            return if v1 &lt; v2 then options.fn @ else options.inverse @\n        when '&lt;='\n            return if v1 &lt;= v2 then options.fn @ else options.inverse @\n        when '&gt;'\n            return if v1 &gt; v2 then options.fn @ else options.inverse @\n        when '&gt;='\n            return if v1 &gt;= v2 then options.fn @ else options.inverse @\n        when '&amp;&amp;'\n            return if v1 &amp;&amp; v2 then options.fn @ else options.inverse @\n        when '||'\n            return if v1 || v2 then options.fn @ else options.inverse @\n        else\n            return options.inverse @\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 158
                },
                {
                    "body": "<p>There is a simple way of doing this without writing a helper function... It can be done within the template completely.  </p>\n\n<pre><code>{{#if cond1}}   \n  {{#if con2}}   \n    &lt;div&gt; and condition completed&lt;/div&gt;  \n  {{/if}}\n{{else}}   \n  &lt;div&gt; both conditions weren't true&lt;/div&gt;  \n{{/if}}\n</code></pre>\n\n<p>Edit: Conversely you can do or's by doing this:  </p>\n\n<pre><code>{{#if cond1}}  \n  &lt;div&gt; or condition completed&lt;/div&gt;    \n{{else}}   \n  {{#if cond2}}  \n    &lt;div&gt; or condition completed&lt;/div&gt;  \n  {{else}}      \n    &lt;div&gt; neither of the conditions were true&lt;/div&gt;    \n  {{/if}}  \n{{/if}}\n</code></pre>\n\n<p>Edit/Note: From the handlebar's website: handlebarsjs.com here are the falsy values: </p>\n\n<blockquote>\n  <p>You can use the if helper to conditionally render a block. If its\n  argument returns false, undefined, null, \"\" or [] (a \"falsy\" value),\n  Then any 'cond' (like cond1 or cond2) will not be counted as true.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>I have found a npm package made with CoffeeScript that has a lot of incredible useful helpers for Handlebars. Take a look of the documentation in the following URL:</p>\n\n<p><a href=\"https://npmjs.org/package/handlebars-helpers\" rel=\"nofollow\">https://npmjs.org/package/handlebars-helpers</a></p>\n\n<p>You can do a <code>wget http://registry.npmjs.org/handlebars-helpers/-/handlebars-helpers-0.2.6.tgz</code> to download them and see the contents of the package.</p>\n\n<p>You will be abled to do things like <code>{{#is number 5}}</code> or <code>{{formatDate date \"%m/%d/%Y\"}}</code></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Similar to Jim's answer but a using a bit of creativity we could also do something like this:</p>\n\n<pre><code>Handlebars.registerHelper( \"compare\", function( v1, op, v2, options ) {\n\n  var c = {\n    \"eq\": function( v1, v2 ) {\n      return v1 == v2;\n    },\n    \"neq\": function( v1, v2 ) {\n      return v1 != v2;\n    },\n    ...\n  }\n\n  if( Object.prototype.hasOwnProperty.call( c, op ) ) {\n    return c[ op ].call( this, v1, v2 ) ? options.fn( this ) : options.inverse( this );\n  }\n  return options.inverse( this );\n} );\n</code></pre>\n\n<p>Then to use it we get something like:</p>\n\n<pre><code>{{#compare numberone \"eq\" numbretwo}}\n  do something\n{{else}}\n  do something else\n{{/compare}}\n</code></pre>\n\n<p>I would suggest moving the object out of the function for better performance but otherwise you can add any compare function you want, including \"and\" and \"or\".</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>if you just want to check if one or the other element are present you can use this custom helper</p>\n\n<pre><code>Handlebars.registerHelper('if_or', function(elem1, elem2, options) {\n  if (Handlebars.Utils.isEmpty(elem1) &amp;&amp; Handlebars.Utils.isEmpty(elem2)) {\n    return options.inverse(this);\n  } else {\n    return options.fn(this);\n  }\n});\n</code></pre>\n\n<p>like this</p>\n\n<pre><code>{{#if_or elem1 elem2}}\n  {{elem1}} or {{elem2}} are present\n{{else}}\n  not present\n{{/if_or}}\n</code></pre>\n\n<p>if you also need to be able to have an \"or\" to compare \n<a href=\"http://stackoverflow.com/questions/11267100/is-it-possible-to-use-function-in-handlebars-if?lq=1\">function return values</a>\n I would rather add another property that returns the desired result.</p>\n\n<p>The templates should be logicless after all!</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Improved solution that basically work with any binary operator (at least numbers, strings doesn't work well with eval, TAKE CARE OF POSSIBLE SCRIPT INJECTION IF USING A NON DEFINED OPERATOR WITH USER INPUTS):</p>\n\n<pre><code>Handlebars.registerHelper(\"ifCond\",function(v1,operator,v2,options) {\n    switch (operator)\n    {\n        case \"==\":\n            return (v1==v2)?options.fn(this):options.inverse(this);\n\n        case \"!=\":\n            return (v1!=v2)?options.fn(this):options.inverse(this);\n\n        case \"===\":\n            return (v1===v2)?options.fn(this):options.inverse(this);\n\n        case \"!==\":\n            return (v1!==v2)?options.fn(this):options.inverse(this);\n\n        case \"&amp;&amp;\":\n            return (v1&amp;&amp;v2)?options.fn(this):options.inverse(this);\n\n        case \"||\":\n            return (v1||v2)?options.fn(this):options.inverse(this);\n\n        case \"&lt;\":\n            return (v1&lt;v2)?options.fn(this):options.inverse(this);\n\n        case \"&lt;=\":\n            return (v1&lt;=v2)?options.fn(this):options.inverse(this);\n\n        case \"&gt;\":\n            return (v1&gt;v2)?options.fn(this):options.inverse(this);\n\n        case \"&gt;=\":\n         return (v1&gt;=v2)?options.fn(this):options.inverse(this);\n\n        default:\n            return eval(\"\"+v1+operator+v2)?options.fn(this):options.inverse(this);\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Here's a link to the block helper I use:  <a href=\"http://doginthehat.com.au/2012/02/comparison-block-helper-for-handlebars-templates//#comment-44\" rel=\"nofollow\">comparison block helper</a>.  It supports all the standard operators and lets you write code as shown below.  It's really quite handy.</p>\n\n<pre><code>{{#compare Database.Tables.Count \"&gt;\" 5}}\nThere are more than 5 tables\n{{/compare}}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>One other alternative is to use function name in <code>#if</code>. The <code>#if</code> will detect if the parameter is function and if it is then it will call it and use its return for truthyness check. Below myFunction gets current context as <code>this</code>.</p>\n\n<pre><code>{{#if myFunction}}\n  I'm Happy!\n{{/if}}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Unfortunately none of these solutions solve the problem of \"OR\" operator \"cond1 || cond2\".</p>\n\n<ol>\n<li>Check if first value is true</li>\n<li><p>Use \"^\" (or) and check if otherwise cond2 is true</p>\n\n<p>{{#if cond1}}\n    DO THE ACTION\n{{^}}\n    {{#if cond2}}\n        DO THE ACTION\n    {{/if}}\n{{/if}}</p></li>\n</ol>\n\n<p>It breaks DRY rule. So why not use partial to make it less messy</p>\n\n<pre><code>{{#if cond1}}\n    {{&gt; subTemplate}}\n{{^}}\n    {{#if cond2}}\n        {{&gt; subTemplate}}\n    {{/if}}\n{{/if}}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>One problem with all of the answers posted here is that they don't work with bound properties, i.e. the if condition is not re-evaluated when the properties involved change.  Here's a slightly more advanced version of the helper supporting bindings.  It uses the <a href=\"https://github.com/emberjs/ember.js/blob/master/packages/ember-handlebars/lib/helpers/binding.js#L23\">bind</a> function from the Ember source, which is also used to implement the normal Ember <code>#if</code> helper.</p>\n\n<p>This one is limited to a single bound property on the left-hand side, comparing to a constant on the right-hand side, which I think is good enough for most practical purposes.  If you need something more advanced than a simple comparison, then perhaps it would be good to start declaring some computed properties and using the normal <code>#if</code> helper instead.</p>\n\n<pre><code>Ember.Handlebars.registerHelper('ifeq', function(a, b, options) {\n  return Ember.Handlebars.bind.call(options.contexts[0], a, options, true, function(result) {\n    return result === b;\n  });\n});\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>{{#ifeq obj.some.property \"something\"}}\n  They are equal!\n{{/ifeq}}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>For those having problems comparing object properties, inside the helper add this solution</p>\n\n<p><a href=\"http://stackoverflow.com/questions/9261976/ember-js-helper-not-properly-recognizing-a-parameter\">Ember.js helper not properly recognizing a parameter</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>taking this one up a notch, for those of you who live on the edge.</p>\n\n<p><strong>gist</strong>: <a href=\"https://gist.github.com/akhoury/9118682\">https://gist.github.com/akhoury/9118682</a>\n<strong>Demo</strong>: <a href=\"http://jsbin.com/jeqesisa/7/edit?html,js,output\">http://jsbin.com/jeqesisa/7/edit?html,js,output</a></p>\n\n<h2>Handlebars Helper: <code>{{#xif EXPRESSION}} {{else}} {{/xif}}</code></h2>\n\n<h3>a helper to execute an IF statement with any expression</h3>\n\n<ol>\n<li>EXPRESSION is a properly escape String </li>\n<li>Yes you <strong>NEED</strong> to properly escape the string literals or just alternate single and double quotes </li>\n<li>to access any global function or property you should use <code>window.functionName()</code> instead of just <code>functionName()</code></li>\n<li>this example assumes you passed this context to your handlebars <code>template( {name: 'Sam', age: '20' } )</code>, notice <code>age</code> is a <code>string</code>, just for so I can demo <code>parseInt()</code> later in this post</li>\n</ol>\n\n<h2>Usage:</h2>\n\n<pre><code>&lt;p&gt;\n {{#xif \" this.name == 'Sam' &amp;&amp; this.age === '12' \" }}\n   BOOM\n {{else}}\n   BAMM\n {{/xif}}\n&lt;/p&gt;\n</code></pre>\n\n<h2>Output</h2>\n\n<pre><code>&lt;p&gt;\n  BOOM\n&lt;/p&gt;\n</code></pre>\n\n<h2>JavaScript: <strong>(it depends on another helper- keep reading)</strong></h2>\n\n<pre><code> Handlebars.registerHelper(\"xif\", function (expression, options) {\n    return Handlebars.helpers[\"x\"].apply(this, [expression, options]) ? options.fn(this) : options.inverse(this);\n  });\n</code></pre>\n\n<h2>Handlebars Helper: <code>{{x EXPRESSION}}</code></h2>\n\n<h3>A helper to execute javascript expressions</h3>\n\n<ol>\n<li>EXPRESSION is a properly escape String  </li>\n<li>Yes you <strong>NEED</strong> to properly escape the string literals or just alternate single and double quotes </li>\n<li>to access any global function or property you should use <code>window.functionName()</code> instead of just <code>functionName()</code>, notice how I had to use <code>window.parseInt()</code> instead of <code>parseInt()</code></li>\n<li>this example assumes you passed this context to your handlebars <code>template( {name: 'Sam', age: '20' } )</code>, <code>age</code> is a <code>string</code> for demo purpose, it can be anything..</li>\n</ol>\n\n<h2>Usage:</h2>\n\n<pre><code>&lt;p&gt;Url: {{x \"'hi' + this.name + ', ' + window.location.href + ' &lt;---- this is your href,' + ' your Age is:' + window.parseInt(this.age, 10)\"}}&lt;/p&gt;\n</code></pre>\n\n<h2>Output:</h2>\n\n<pre><code>&lt;p&gt;Url: hi Sam, http://example.com &lt;---- this is your href, your Age is: 20&lt;/p&gt;\n</code></pre>\n\n<h2>JavaScript:</h2>\n\n<p>This looks a little large because I expanded syntax and commented over almost each line for clarity purposes</p>\n\n<pre><code>Handlebars.registerHelper(\"x\", function (expression, options) {\n  var fn = function(){}, result;\n\n  // in a try block in case the expression have invalid javascript\n  try {\n    // create a new function using Function.apply, notice the capital F in Function\n    fn = Function.apply(\n      this,\n      [\n        'window', // or add more '_this, window, a, b' you can add more params if you have references for them when you call fn(window, a, b, c);\n        'return ' + expression + ';' // edit that if you know what you're doing\n      ]\n    );\n  } catch (e) {\n    console.warn('[warning] {{x ' + expression + '}} is invalid javascript', e);\n  }\n\n  // then let's execute this new function, and pass it window, like we promised\n  // so you can actually use window in your expression\n  // i.e expression ==&gt; 'window.config.userLimit + 10 - 5 + 2 - user.count' //\n  // or whatever\n  try {\n    // if you have created the function with more params\n    // that would like fn(window, a, b, c)\n    result = fn.bind(this)(window);\n  } catch (e) {\n    console.warn('[warning] {{x ' + expression + '}} runtime error', e);\n  }\n  // return the output of that result, or undefined if some error occured\n  return result;\n});\n</code></pre>\n\n<h2>Moar</h2>\n\n<p>if you want access upper level scope, this one is slightly different, the expression is the JOIN of all arguments, \nusage: say context data looks like this:</p>\n\n<pre><code>// data\n{name: 'Sam', age: '20', address: { city: 'yomomaz' } }\n\n// in template\n// notice how the expression wrap all the string with quotes, and even the variables\n// as they will become strings by the time they hit the helper\n// play with it, you will immediately see the errored expressions and figure it out\n\n{{#with address}}\n    {{z '\"hi \" + \"' ../this.name '\" + \" you live with \" + \"' city '\"' }}\n{{/with}}\n</code></pre>\n\n<h2>Javascript:</h2>\n\n<pre><code>Handlebars.registerHelper(\"z\", function () {\n    var options = arguments[arguments.length - 1]\n    delete arguments[arguments.length - 1];\n    return Handlebars.helpers[\"x\"].apply(this, [Array.prototype.slice.call(arguments, 0).join(''), options]);\n});\n\nHandlebars.registerHelper(\"zif\", function () {\n    var options = arguments[arguments.length - 1]\n    delete arguments[arguments.length - 1];\n    return Handlebars.helpers[\"x\"].apply(this, [Array.prototype.slice.call(arguments, 0).join(''), options]) ? options.fn(this) : options.inverse(this);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<p>I can understand why you would want to create a helper for situations where you have a large number of varied comparisons to perform within your template, but for a relatively small number of comparisons (or even one, which was what brought me to this page in the first place), it would probably just be easier to define a new handlebars variable in your view-rendering function call, like:</p>\n\n<p>Pass to handlebars on render:</p>\n\n<pre><code>var context= {\n    'section1' : section1,\n    'section2' : section2,\n    'section1or2' : (section1)||(section2)\n};\n</code></pre>\n\n<p>and then within your handlebars template:</p>\n\n<pre><code>{{#if section1or2}}\n    .. content\n{{/if}}\n</code></pre>\n\n<p>I mention this for simplicity's sake, and also because it's an answer that may be quick and helpful while still complying with the logicless nature of Handlebars.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Following these 2 guides <a href=\"http://discuss.emberjs.com/t/a-way-to-let-users-define-custom-made-bound-if-statements/2583/6\" rel=\"nofollow\">a-way-to-let-users-define-custom-made-bound-if-statements</a> and <a href=\"https://gist.github.com/slindberg/9924116\" rel=\"nofollow\">custom bound helpers</a> I was able to adjust my shared views in this post on <a href=\"http://stackoverflow.com/questions/23851551/emberjs-pass-params-to-a-view-then-to-helper/23862168\">stackoverflow</a> to use this instead of the standard #if statement. This should be more secure than just tossing an #if in there.  </p>\n\n<p>The custom bound helpers in that gist are outstanding. </p>\n\n<pre><code>&lt;li&gt;\n    &lt;a href=\"{{unbound view.varProductSocialBlog}}\"&gt;\n        {{#if-equal view.showDiv \"true\"}}&lt;div&gt;{{/if-equal}}&lt;i class=\"fa fa-rss-square\"&gt;&lt;/i&gt;{{#if-equal view.showDiv \"true\"}}&lt;/div&gt;{{/if-equal}}\n        {{#if-equal view.showTitle \"true\"}}Blog{{/if-equal}}\n    &lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>I am using the <a href=\"http://discuss.emberjs.com/t/a-way-to-let-users-define-custom-made-bound-if-statements/2583/6\" rel=\"nofollow\">ember cli</a> project to build my ember application.</p>\n\n<p>Current setup at the time of this post:</p>\n\n<pre><code>DEBUG: -------------------------------\nDEBUG: Ember      : 1.5.1\nDEBUG: Ember Data : 1.0.0-beta.7+canary.b45e23ba\nDEBUG: Handlebars : 1.3.0\nDEBUG: jQuery     : 2.1.1\nDEBUG: -------------------------------\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a way in handlebars JS to incorporate logical operators into the standard handlebars.js conditional operator? Something like this:</p>\n\n<pre><code>{{#if section1 || section2}}\n.. content\n{{/if}}\n</code></pre>\n\n<p>I know I could write my own helper, but first I'd like to make sure I'm not reinventing the wheel.</p>\n",
            "last_activity_date": 1406234701,
            "question_id": 8853396,
            "score": 154,
            "tags": [
                "javascript",
                "handlebars.js"
            ],
            "title": "Logical operator in a handlebars.js {{#if}} conditional"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Take a look at this annotated source example where they overwrite <code>Backbone.sync</code> with a localstorage alternative</p>\n\n<p><a href=\"http://documentcloud.github.com/backbone/docs/backbone-localstorage.html\">backbone-localStorage</a></p>\n\n<p>Basically Backbone.sync should be a function that takes 4 arguments:</p>\n\n<pre><code>Backbone.sync = function(method, model, options) { };\n</code></pre>\n\n<p>You need to fire either <code>options.success</code> or <code>options.error</code> depending on whether the <code>method</code> succeeded. The methods are in the format:</p>\n\n<ul>\n<li><code>\"create\"</code> : expected that you create the model on the server</li>\n<li><code>\"read\"</code> : expected that you read this model from the server and return it</li>\n<li><code>\"update\"</code> : expected that you update the model on the server with the argument</li>\n<li><code>\"delete\"</code> : expected that you delete the model from the server.</li>\n</ul>\n\n<p>You need to implement those 4 methods and define whatever you want for your <code>\"server\"</code></p>\n\n<p>Of course these are only the things that <code>Backbone.sync</code> <em>must</em> implement. You may implement more <code>methods</code> and you may pass more paramaters back to <code>success</code> but it's best not to do this.</p>\n\n<p>It's best to make sure it does the same as <code>Backbone.sync</code> does currently so that your programming to an interface rather then an implementation. If you want to switch out your modified <code>Backbone.sync</code> for say the localStorage one you won't have to extend it yourself to match your extended Backbone.sync\"</p>\n\n<p><strong>[Edit]</strong></p>\n\n<p>Also do note that you can use multiple implementations of <code>sync</code>. Every reference to <code>Backbone.sync</code> is actaully <code>(this.sync || Backbone.sync)</code> so you just have to do something like:</p>\n\n<pre><code>var MyModel = Backbone.Model.extend({ \n    ...\n\n    \"sync\": myOwnSpecificSync,\n\n    ...\n});\n</code></pre>\n\n<p><code>Backbone.sync</code> is just the default global one that all models use unless the models have a <code>sync</code> method specifically set.</p>\n",
                    "is_accepted": true,
                    "score": 207
                },
                {
                    "body": "<p>I know this answer is a bit too late, and the answer from @Raynos is great, but I did it a bit differently, and maybe it would be useful for you or for any other person trying to use an API with Backbone.</p>\n\n<p>Instead of overriding Backbone.sync, I overrided <a href=\"https://github.com/documentcloud/backbone/blob/master/backbone.js#L1444\">Backbone.ajax</a>, because it's where the ajax request is made.</p>\n\n<p>Here's an example :</p>\n\n<pre><code>// Set the default implementation of `Backbone.ajax` to proxy through to `$`.\nBackbone.ajax = function() {\n    var args = Array.prototype.slice.call(arguments, 0);\n\n    // Here, I add the OAuth token (or any other token)\n    // But before, I check that data exists, if not I add it\n    if (args[0]['data'] === undefined) {\n        args[0]['data'] = {};\n    }\n    args[0]['data']['token'] = 'any_api_token_here';\n\n    return Backbone.$.ajax.apply(Backbone.$, args);\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I typically need to override backbone's <code>sync</code> method when I need to only sync certain attributes. A typical implementation looks like this:</p>\n\n<pre><code>sync: function (method, model, options) {\n  options.data = _.pick(this.attributes, 'foo', 'bar', 'baz');\n  Backbone.sync.call(method, model, options);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I'm trying out Backbone.js, and one of the things I'm trying is to make a call to a remote API, so I need to be able to override Backbone.sync, as I understand <a href=\"http://documentcloud.github.com/backbone/#Sync\">the documentation</a>.</p>\n\n<p>There isn't an example of how to do that in the documentation itself, and there doesn't appear to be a google group for Backbone... can someone point out an example for doing this? </p>\n",
            "last_activity_date": 1407934443,
            "question_id": 5096549,
            "score": 125,
            "tags": [
                "javascript",
                "backbone.js"
            ],
            "title": "How to override Backbone.sync?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>In jQuery 1.8, this can be done as follows:</p>\n\n<pre><code>(function($){\n    $.fn.disableSelection = function() {\n        return this\n                 .attr('unselectable', 'on')\n                 .css('user-select', 'none')\n                 .on('selectstart', false);\n    };\n})(jQuery);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 230
                },
                {
                    "body": "<p>I found this answer ( <a href=\"http://stackoverflow.com/questions/1319126/prevent-highlight-of-text/1319158#1319158\">Prevent Highlight of Text</a> ) most helpful, and perhaps it can be combined with another way of providing IE compatibility.</p>\n\n<pre><code>#yourTable\n{\n  -moz-user-select: none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n  user-select: none;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 50
                },
                {
                    "body": "<p>If you use jQuery UI, there is a method for that, but it can only handle mouse selection (i.e. <kbd>CTRL</kbd>+<kbd>A</kbd> is still working):</p>\n\n<pre><code>$('.your-element').disableSelection(); // deprecated in jQuery UI 1.9\n</code></pre>\n\n<p>The code is realy simple, if you don't want to use jQuery UI :</p>\n\n<pre><code>$(el).attr('unselectable','on')\n     .css({'-moz-user-select':'-moz-none',\n           '-moz-user-select':'none',\n           '-o-user-select':'none',\n           '-khtml-user-select':'none', /* you could also put this in a class */\n           '-webkit-user-select':'none',/* and add the CSS class here instead */\n           '-ms-user-select':'none',\n           'user-select':'none'\n     }).bind('selectstart', function(){ return false; });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 86
                },
                {
                    "body": "<p>Here's a more comprehensive solution to the disconnect selection, and the cancellation of some of the hot keys (such as <kbd>Ctrl</kbd>+<kbd>a</kbd> and <kbd>Ctrl</kbd>+<kbd>c</kbd>. <a href=\"http://stackoverflow.com/questions/3902635/how-does-one-capture-a-macs-command-key-via-javascript\">Test:</a>  <kbd>Cmd</kbd>+<kbd>a</kbd> and <kbd>Cmd</kbd>+<kbd>c</kbd>)</p>\n\n<pre><code>(function($){\n\n  $.fn.ctrlCmd = function(key) {\n\n    var allowDefault = true;\n\n    if (!$.isArray(key)) {\n       key = [key];\n    }\n\n    return this.keydown(function(e) {\n        for (var i = 0, l = key.length; i &lt; l; i++) {\n            if(e.keyCode === key[i].toUpperCase().charCodeAt(0) &amp;&amp; e.metaKey) {\n                allowDefault = false;\n            }\n        };\n        return allowDefault;\n    });\n};\n\n\n$.fn.disableSelection = function() {\n\n    this.ctrlCmd(['a', 'c']);\n\n    return this.attr('unselectable', 'on')\n               .css({'-moz-user-select':'-moz-none',\n                     '-moz-user-select':'none',\n                     '-o-user-select':'none',\n                     '-khtml-user-select':'none',\n                     '-webkit-user-select':'none',\n                     '-ms-user-select':'none',\n                     'user-select':'none'})\n               .bind('selectstart', false);\n};\n\n})(jQuery);\n</code></pre>\n\n<p>and call example:</p>\n\n<pre><code>$(':not(input,select,textarea)').disableSelection();\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/JBxnQ/\" rel=\"nofollow\">jsfiddle.net/JBxnQ/</a></p>\n\n<p>This could be also not enough for old versions of FireFox (I can't tell which). If all this does not work, add the following:</p>\n\n<pre><code>.on('mousedown', false)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p><em><strong>This can easily be done using JavaScript This is applicable to all Browsers</em></strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n/***********************************************\n* Disable Text Selection script- \u00a9 Dynamic Drive DHTML code library (www.dynamicdrive.com)\n* This notice MUST stay intact for legal use\n* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code\n***********************************************/\n\nfunction disableSelection(target){\nif (typeof target.onselectstart!=\"undefined\") //For IE \n    target.onselectstart=function(){return false}\nelse if (typeof target.style.MozUserSelect!=\"undefined\") //For Firefox\n    target.style.MozUserSelect=\"none\"\nelse //All other route (For Opera)\n    target.onmousedown=function(){return false}\ntarget.style.cursor = \"default\"\n}\n &lt;/script&gt;\n</code></pre>\n\n<p><em><strong>Call to this function</em></strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n   disableSelection(document.body)\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>1 line solution for CHROME:  </p>\n\n<pre><code>body.style.webkitUserSelect = \"none\";\n</code></pre>\n\n<p>and FF:  </p>\n\n<pre><code>body.style.MozUserSelect = \"none\";\n</code></pre>\n\n<p>IE requires setting the \"unselectable\" attribute (details on bottom).</p>\n\n<p>I tested this in Chrome and it works. This property is inherited so setting it on the body element will disable selection in your entire document.  </p>\n\n<p>Details here: <a href=\"http://help.dottoro.com/ljrlukea.php\" rel=\"nofollow\">http://help.dottoro.com/ljrlukea.php</a></p>\n\n<p>If you're using Closure, just call this function:</p>\n\n<pre><code>goog.style.setUnselectable(myElement, true);\n</code></pre>\n\n<p>It handles all browsers transparently.</p>\n\n<p>The non-IE browsers are handled like this:</p>\n\n<pre><code>goog.style.unselectableStyle_ =\n    goog.userAgent.GECKO ? 'MozUserSelect' :\n    goog.userAgent.WEBKIT ? 'WebkitUserSelect' :\n    null;\n</code></pre>\n\n<p>Defined here:\n<a href=\"http://closure-library.googlecode.com/svn/!svn/bc/4/trunk/closure/goog/docs/closure_goog_style_style.js.source.html\" rel=\"nofollow\">http://closure-library.googlecode.com/svn/!svn/bc/4/trunk/closure/goog/docs/closure_goog_style_style.js.source.html</a></p>\n\n<p>The IE portion is handled like this:</p>\n\n<pre><code>if (goog.userAgent.IE || goog.userAgent.OPERA) {\n// Toggle the 'unselectable' attribute on the element and its descendants.\nvar value = unselectable ? 'on' : '';\nel.setAttribute('unselectable', value);\nif (descendants) {\n  for (var i = 0, descendant; descendant = descendants[i]; i++) {\n    descendant.setAttribute('unselectable', value);\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>        $(document).ready(function(){\n            $(\"body\").css(\"-webkit-user-select\",\"none\");\n            $(\"body\").css(\"-moz-user-select\",\"none\");\n            $(\"body\").css(\"-ms-user-select\",\"none\");\n            $(\"body\").css(\"-o-user-select\",\"none\");\n            $(\"body\").css(\"user-select\",\"none\");\n        });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I think this code <strong>works on all browsers</strong> and requires the least overhead. It's really a hybrid of all the above answers. Let me know if you find a bug!</p>\n\n<p><strong>Add CSS:</strong></p>\n\n<pre><code>.no_select { user-select: none; -o-user-select: none; -moz-user-select: none; -khtml-user-select: none; -webkit-user-select: none; -ms-user-select:none;}\n</code></pre>\n\n<p><strong>Add jQuery:</strong></p>\n\n<pre><code>(function($){\n    $.fn.disableSelection = function() \n    {       \n        $(this).addClass('no_select');              \n        if($.browser.msie)\n        {\n            $(this).attr('unselectable', 'on').on('selectstart', false);            \n        }\n    return this;            \n};\n})(jQuery);\n</code></pre>\n\n<p>Optional: To disable selection for all children elements as well, you can change the IE block to:</p>\n\n<pre><code>$(this).each(function() {\n    $(this).attr('unselectable','on')\n    .bind('selectstart',function(){ return false; });\n});\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>$('.someclasshere').disableSelection();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The following would disable the selection of all classes 'item' in all common browsers (IE, Chrome, Mozilla, Opera and Safari):</p>\n\n<pre><code>$(\".item\")\n.attr('unselectable', 'on')\n.css('user-select', 'none')\n.css('MozUserSelect', 'none')\n.on('selectstart', false)\n.on('mousedown', false);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                }
            ],
            "body": "<p>Does jQuery or jQuery-UI have any functionality to disable text selection for given document elements?</p>\n",
            "last_activity_date": 1409214540,
            "question_id": 2700000,
            "score": 154,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui"
            ],
            "title": "How to disable text selection using jQuery?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Try passing control to the next matching route.  If Express is matching app.get route first, then it won't continue onto the options route unless you do this <em>(note use of next)</em>:</p>\n\n<pre><code>app.get('somethingelse', function(req, res, next) {\n    //..set headers etc.\n\n    next();\n});\n</code></pre>\n\n<p>In terms of organising the CORS stuff, I put it in a middleware which is working well for me:</p>\n\n<pre><code>//CORS middleware\nvar allowCrossDomain = function(req, res, next) {\n    res.header('Access-Control-Allow-Origin', 'example.com');\n    res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE');\n    res.header('Access-Control-Allow-Headers', 'Content-Type');\n\n    next();\n}\n\n//...\napp.configure(function() {\n    app.use(express.bodyParser());\n    app.use(express.cookieParser());\n    app.use(express.session({ secret: 'cool beans' }));\n    app.use(express.methodOverride());\n    app.use(allowCrossDomain);\n    app.use(app.router);\n    app.use(express.static(__dirname + '/public'));\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 207
                },
                {
                    "body": "<p>To answer your main question, the CORS spec only requires the OPTIONS call to precede the POST or GET if the POST or GET has any non-simple content or headers in it.</p>\n\n<p>See \"Preflighted requests\" in <a href=\"https://developer.mozilla.org/En/HTTP_access_control\">https://developer.mozilla.org/En/HTTP_access_control</a></p>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>To stay in the same idea of routing. I  use this code :</p>\n\n<pre><code>app.all('/*', function(req, res, next) {\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\n  res.header(\"Access-Control-Allow-Headers\", \"X-Requested-With\");\n  next();\n});\n</code></pre>\n\n<p>Similar to <a href=\"http://enable-cors.org/server_expressjs.html\" rel=\"nofollow\">http://enable-cors.org/server_expressjs.html</a> example</p>\n",
                    "is_accepted": false,
                    "score": 44
                },
                {
                    "body": "<p>I have made a more complete middleware suitable for express or connect. It supports <code>OPTIONS</code> requests for preflight checking. Note that it will allow CORS access to anything, you might want to put in some checks if you want to limit access.</p>\n\n<pre><code>app.use(function(req, res, next) {\n    var oneof = false;\n    if(req.headers.origin) {\n        res.header('Access-Control-Allow-Origin', req.headers.origin);\n        oneof = true;\n    }\n    if(req.headers['access-control-request-method']) {\n        res.header('Access-Control-Allow-Methods', req.headers['access-control-request-method']);\n        oneof = true;\n    }\n    if(req.headers['access-control-request-headers']) {\n        res.header('Access-Control-Allow-Headers', req.headers['access-control-request-headers']);\n        oneof = true;\n    }\n    if(oneof) {\n        res.header('Access-Control-Max-Age', 60 * 60 * 24 * 365);\n    }\n\n    // intercept OPTIONS method\n    if (oneof &amp;&amp; req.method == 'OPTIONS') {\n        res.send(200);\n    }\n    else {\n        next();\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p>I found the easiest way is to use the node.js package <a href=\"https://npmjs.org/package/cors\">cors</a>. The simplest usage is:</p>\n\n<pre><code>var cors = require('cors')\n\nvar app = express()\napp.use(cors())\n</code></pre>\n\n<p>There are, of course many ways to configure the behaviour to your needs; the page linked above shows a number of examples.</p>\n",
                    "is_accepted": false,
                    "score": 102
                },
                {
                    "body": "<p>My simplest solution with Express 4.2.0 (EDIT: Doesn't seem to work in 4.3.0) was:</p>\n\n<pre><code>function supportCrossOriginScript(req, res, next) {\n    res.status(200);\n    res.header(\"Access-Control-Allow-Origin\", \"*\");\n    res.header(\"Access-Control-Allow-Headers\", \"Content-Type\");\n\n    // res.header(\"Access-Control-Allow-Headers\", \"Origin\");\n    // res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n    // res.header(\"Access-Control-Allow-Methods\",\"POST, OPTIONS\");\n    // res.header(\"Access-Control-Allow-Methods\",\"POST, GET, OPTIONS, DELETE, PUT, HEAD\");\n    // res.header(\"Access-Control-Max-Age\",\"1728000\");\n    next();\n}\n\n// Support CORS\napp.options('/result', supportCrossOriginScript);\n\napp.post('/result', supportCrossOriginScript, function(req, res) {\n    res.send('received');\n    // do stuff with req\n});\n</code></pre>\n\n<p>I suppose doing <code>app.all('/result', ...)</code> would work too...</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Testing done with express + node + ionic running in differente ports.</p>\n\n<p><code>Localhost:8100</code></p>\n\n<p><code>Localhost:5000</code></p>\n\n<pre><code>// CORS (Cross-Origin Resource Sharing) headers to support Cross-site HTTP requests\n\napp.all('*', function(req, res, next) {\n       res.header(\"Access-Control-Allow-Origin\", \"*\");\n       res.header(\"Access-Control-Allow-Headers\", \"X-Requested-With\");\n       res.header('Access-Control-Allow-Headers', 'Content-Type');\n       next();\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I am trying to support CORS in my Node.js application that uses the Express.js web framework. I have read <a href=\"http://groups.google.com/group/express-js/browse_thread/thread/71db58df2c74d06a\">a Google group discussion</a> about how to handle this, and read a few articles about how CORS works. First, I did this (code is written in CoffeeScript syntax):</p>\n\n<pre><code>app.options \"*\", (req, res) -&gt;\n  res.header 'Access-Control-Allow-Origin', '*'\n  res.header 'Access-Control-Allow-Credentials', true\n  # try: 'POST, GET, PUT, DELETE, OPTIONS'\n  res.header 'Access-Control-Allow-Methods', 'GET, OPTIONS'\n  # try: 'X-Requested-With, X-HTTP-Method-Override, Content-Type, Accept'\n  res.header 'Access-Control-Allow-Headers', 'Content-Type'\n  # ...\n</code></pre>\n\n<p>It doesn't seem to work. It seems like my browser (Chrome) is not sending the initial OPTIONS request. When I just updated the block for the resource I need to submit a cross-origin GET request to:</p>\n\n<pre><code>app.get \"/somethingelse\", (req, res) -&gt;\n  # ...\n  res.header 'Access-Control-Allow-Origin', '*'\n  res.header 'Access-Control-Allow-Credentials', true\n  res.header 'Access-Control-Allow-Methods', 'POST, GET, PUT, DELETE, OPTIONS'\n  res.header 'Access-Control-Allow-Headers', 'Content-Type'\n  # ...\n</code></pre>\n\n<p>It works (in Chrome). This also works in Safari.</p>\n\n<p>I have read that...</p>\n\n<blockquote>\n  <p>In a browser implementing CORS, each cross-origin GET or POST request is preceded by an OPTIONS request that checks whether the GET or POST is OK.</p>\n</blockquote>\n\n<p>So my main question is, how come this doesn't seem to happen in my case? Why isn't my app.options block called? Why do I need to set the headers in my main app.get block?</p>\n",
            "last_activity_date": 1419850111,
            "question_id": 7067966,
            "score": 128,
            "tags": [
                "javascript",
                "node.js",
                "express",
                "cors"
            ],
            "title": "How to allow CORS in Express/Node.js?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Towards the second half of <em><a href=\"http://weblogs.asp.net/omarzabir/archive/2008/10/03/create-rest-api-using-asp-net-mvc-that-speaks-both-json-and-plain-xml.aspx\" rel=\"nofollow\">Create REST API using ASP.NET MVC that speaks both JSON and plain XML</a></em>, to quote:</p>\n\n<blockquote>\n  <p>Now we need to accept JSON and XML payload, delivered via HTTP POST. Sometimes your client might want to upload a collection of objects in one shot for batch processing. So, they can upload objects using either JSON or XML format. There's no native support in ASP.NET MVC to automatically parse posted JSON or XML and automatically map to Action parameters. So, I wrote a filter that does it.\"</p>\n</blockquote>\n\n<p>He then implements an action filter that maps the JSON to C# objects with code shown.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I've found an solution. I use an solution of Steve Gentile, <em><a href=\"http://blogger.forgottenskies.com/?p=252\">jQuery and ASP.NET MVC \u2013 sending JSON to an Action \u2013 Revisited</a></em>.</p>\n\n<p>My ASP.NET MVC view code looks like:</p>\n\n<pre><code>function getplaceholders() {\n        var placeholders = $('.ui-sortable');\n        var results = new Array();\n        placeholders.each(function() {\n            var ph = $(this).attr('id');\n            var sections = $(this).find('.sort');\n            var section;\n\n            sections.each(function(i, item) {\n                var sid = $(item).attr('id');\n                var o = { 'SectionId': sid, 'Placeholder': ph, 'Position': i };\n                results.push(o);\n            });\n        });\n        var postData = { widgets: results };\n        var widgets = results;\n        $.ajax({\n            url: '/portal/Designer.mvc/SaveOrUpdate',\n            type: 'POST',\n            dataType: 'json',\n            data: $.toJSON(widgets),\n            contentType: 'application/json; charset=utf-8',\n            success: function(result) {\n                alert(result.Result);\n            }\n        });\n    };\n</code></pre>\n\n<p>and my controller action is decorated with an custom attribute</p>\n\n<pre><code>[JsonFilter(Param = \"widgets\", JsonDataType = typeof(List&lt;PageDesignWidget&gt;))]\npublic JsonResult SaveOrUpdate(List&lt;PageDesignWidget&gt; widgets\n</code></pre>\n\n<p>Code for the custom attribute can be found <a href=\"http://www.forgottenskies.com/MvcJson.zip\">here</a> (the link is broken now).</p>\n\n<p>Because the link is broken this is the code for the JsonFilterAttribute</p>\n\n<pre><code>public class JsonFilter : ActionFilterAttribute\n{\n    public string Param { get; set; }\n    public Type JsonDataType { get; set; }\n    public override void OnActionExecuting(ActionExecutingContext filterContext)\n    {\n        if (filterContext.HttpContext.Request.ContentType.Contains(\"application/json\"))\n        {\n            string inputContent;\n            using (var sr = new StreamReader(filterContext.HttpContext.Request.InputStream))\n            {\n                inputContent = sr.ReadToEnd();\n            }\n            var result = JsonConvert.DeserializeObject(inputContent, JsonDataType);\n            filterContext.ActionParameters[Param] = result;\n        }\n    }\n}\n</code></pre>\n\n<p>JsonConvert.DeserializeObject is from Json.NET</p>\n\n<p>Link: <a href=\"http://james.newtonking.com/projects/json/help/index.html?topic=html/SerializingJSON.htm\">Serializing and Deserializing JSON with Json.NET</a></p>\n",
                    "is_accepted": true,
                    "score": 67
                },
                {
                    "body": "<p>First download this JavaScript code, <a href=\"https://github.com/douglascrockford/JSON-js/blob/master/json2.js\">JSON2.js</a>, that will help us serialize the object into a string.</p>\n\n<p>In my example I'm posting the rows of a <a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=start\">jqGrid</a> via Ajax:</p>\n\n<pre><code>    var commissions = new Array();\n    // Do several row data and do some push. In this example is just one push.\n    var rowData = $(GRID_AGENTS).getRowData(ids[i]);\n    commissions.push(rowData);\n    $.ajax({\n        type: \"POST\",\n        traditional: true,\n        url: '&lt;%= Url.Content(\"~/\") %&gt;' + AREA + CONTROLLER + 'SubmitCommissions',\n        async: true,\n        data: JSON.stringify(commissions),\n        dataType: \"json\",\n        contentType: 'application/json; charset=utf-8',\n        success: function (data) {\n            if (data.Result) {\n                jQuery(GRID_AGENTS).trigger('reloadGrid');\n            }\n            else {\n                jAlert(\"A problem ocurred during updating\", \"Commissions Report\");\n            }\n        }\n    });\n</code></pre>\n\n<p>Now on the controller:</p>\n\n<pre><code>    [HttpPost]\n    [JsonFilter(Param = \"commissions\", JsonDataType = typeof(List&lt;CommissionsJs&gt;))]\n    public ActionResult SubmitCommissions(List&lt;CommissionsJs&gt; commissions)\n    {\n        var result = dosomething(commissions);\n        var jsonData = new\n        {\n            Result = true,\n            Message = \"Success\"\n        };\n        if (result &lt; 1)\n        {\n            jsonData = new\n            {\n                Result = false,\n                Message = \"Problem\"\n            };\n        }\n        return Json(jsonData);\n    }\n</code></pre>\n\n<p>Create a JsonFilter Class (thanks to JSC reference).</p>\n\n<pre><code>    public class JsonFilter : ActionFilterAttribute\n    {\n        public string Param { get; set; }\n        public Type JsonDataType { get; set; }\n        public override void OnActionExecuting(ActionExecutingContext filterContext)\n        {\n            if (filterContext.HttpContext.Request.ContentType.Contains(\"application/json\"))\n            {\n                string inputContent;\n                using (var sr = new StreamReader(filterContext.HttpContext.Request.InputStream))\n                {\n                    inputContent = sr.ReadToEnd();\n                }\n                var result = JsonConvert.DeserializeObject(inputContent, JsonDataType);\n                filterContext.ActionParameters[Param] = result;\n            }\n        }\n    }\n</code></pre>\n\n<p>Create another class so the filter can parse the JSON string to the actual manipulable object: This class comissionsJS are all the rows of my jqGrid.</p>\n\n<pre><code>    public class CommissionsJs\n    {\n        public string Amount { get; set; }\n\n        public string CheckNumber { get; set; }\n\n        public string Contract { get; set; }\n        public string DatePayed { get; set; }\n        public string DealerName { get; set; }\n        public string ID { get; set; }\n        public string IdAgentPayment { get; set; }\n        public string Notes { get; set; }\n        public string PaymentMethodName { get; set; }\n        public string RowNumber { get; set; }\n        public string AgentId { get; set; }\n    }\n</code></pre>\n\n<p>I hope this example helps to illustrate how to post a complex object.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Action Filters, jquery stringify, bleh...</p>\n\n<p>Peter, this functionality is native to MVC. That's one of things that makes MVC so great.</p>\n\n<pre><code>$.post('SomeController/Batch', { 'ids': ['1', '2', '3']}, function (r) {\n   ...\n});\n</code></pre>\n\n<p>And in the action,</p>\n\n<pre><code>[HttpPost]\npublic ActionResult Batch(string[] ids)\n{\n}\n</code></pre>\n\n<p>Works like a charm:</p>\n\n<p><img src=\"http://i.stack.imgur.com/xdsGb.png\" alt=\"enter image description here\"></p>\n\n<p>If you're using jQuery 1.4+, then you want to look into setting traditional mode:</p>\n\n<pre><code>jQuery.ajaxSettings.traditional = true;\n</code></pre>\n\n<p>As described here: <a href=\"http://www.dovetailsoftware.com/blogs/kmiller/archive/2010/02/24/jquery-1-4-breaks-asp-net-mvc-actions-with-array-parameters\">http://www.dovetailsoftware.com/blogs/kmiller/archive/2010/02/24/jquery-1-4-breaks-asp-net-mvc-actions-with-array-parameters</a></p>\n\n<p>This even works for complex objects. If you're interested, you should look into the MVC documentation about Model Binding: <a href=\"http://msdn.microsoft.com/en-us/library/dd410405.aspx\">http://msdn.microsoft.com/en-us/library/dd410405.aspx</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>In <code>.NET4.5</code>, <code>MVC 5</code> no need for widgets.</p>\n\n<p><strong>Javascript:</strong></p>\n\n<p>object in JS:\n<img src=\"http://i.stack.imgur.com/5kTwZ.png\" alt=\"enter image description here\"></p>\n\n<p>mechanism that does post.</p>\n\n<pre><code>    $('.button-green-large').click(function() {\n        $.ajax({\n            url: 'Quote',\n            type: \"POST\",\n            dataType: \"json\",\n            data: JSON.stringify(document.selectedProduct),\n            contentType: 'application/json; charset=utf-8',\n        });\n    });\n</code></pre>\n\n<p><strong>C#</strong></p>\n\n<p>Objects: </p>\n\n<pre><code>public class WillsQuoteViewModel\n{\n    public string Product { get; set; }\n\n    public List&lt;ClaimedFee&gt; ClaimedFees { get; set; }\n}\n\npublic partial class ClaimedFee //Generated by EF6\n{\n    public long Id { get; set; }\n    public long JourneyId { get; set; }\n    public string Title { get; set; }\n    public decimal Net { get; set; }\n    public decimal Vat { get; set; }\n    public string Type { get; set; }\n\n    public virtual Journey Journey { get; set; }\n}\n</code></pre>\n\n<p>Controller:</p>\n\n<pre><code>[AcceptVerbs(HttpVerbs.Post)]\npublic ActionResult Quote(WillsQuoteViewModel data)\n{\n....\n}\n</code></pre>\n\n<p>Object received:</p>\n\n<p><img src=\"http://i.stack.imgur.com/pgI2k.png\" alt=\"enter image description here\"></p>\n\n<p>Hope this saves you some time.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>My current code looks like the following. How can I pass my array to the controller and what kind of parameters must my controller action accept?</p>\n\n<pre><code>function getplaceholders() {\n    var placeholders = $('.ui-sortable');\n    var result = new Array();\n    placeholders.each(function() {\n        var ph = $(this).attr('id');\n        var sections = $(this).find('.sort');\n        var section;\n\n        sections.each(function(i, item) {\n            var sid = $(item).attr('id');\n\n            result.push({ 'SectionId': sid, 'Placeholder': ph, 'Position': i });\n        });\n    });\n    alert(result.toString());\n    $.post(\n        '/portal/Designer.mvc/SaveOrUpdate',\n        result,\n        function(data) {\n            alert(data.Result);\n        }, \"json\");\n};\n</code></pre>\n\n<p>My controller action method looks like</p>\n\n<pre><code>public JsonResult SaveOrUpdate(IList&lt;PageDesignWidget&gt; widgets)\n</code></pre>\n",
            "last_activity_date": 1421324117,
            "question_id": 320291,
            "score": 62,
            "tags": [
                "c#",
                "javascript",
                "jquery",
                "asp.net-mvc",
                "json"
            ],
            "title": "How to post an array of complex objects with JSON, jQuery to ASP.NET MVC Controller?"
        },
        {
            "answer_count": 18,
            "answers": [
                {
                    "body": "<p>Chrome has some good tools built in for this.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The golden rule is to NOT under ANY circumstances lock your users browser. After that, I usually look at execution time, followed by memory usage (unless you're doing something crazy, in which case it could be a higher priority).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I find execution time to be the best measure.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You could use this: <a href=\"http://getfirebug.com/js.html\" rel=\"nofollow\">http://getfirebug.com/js.html</a>. It has a profiler for JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Some people are suggesting specific plug-ins and/or browsers. I would not because they're only <em>really</em> useful for that one platform; a test run on Firefox will not translate accurately to IE7. Considering 99.999999% of sites have more than one browser visit them, <strong>you need to check performance on all the popular platforms.</strong></p>\n\n<p>My suggestion would be to keep this in the JS. Create a benchmarking page with all your JS test on and time the execution. You could even have it AJAX-post the results back to you to keep it fully automated.</p>\n\n<p>Then just rinse and repeat over different platforms.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Profilers are definitely a good way to get numbers, but in my experience, perceived performance is all that matters to the user/client. For example, we had a project with an Ext accordion that expanded to show some data and then a few nested Ext grids.  Everything was actually rendering pretty fast, no single operation took a long time, there was just a lot of information being rendered all at once, so it felt slow to the user.  </p>\n\n<p>We 'fixed' this, not by switching to a faster component, or optimizing some method, but by rendering the data first, then rendering the grids with a setTimeout. So, the information appeared first, then the grids would pop into place a second later. Overall, it took slightly more processing time to do it that way, but to the user, the perceived performance was improved.</p>\n",
                    "is_accepted": false,
                    "score": 126
                },
                {
                    "body": "<p>I think JavaScript performance (time) testing is quite enough. I found a very handy article about <a href=\"http://jquery-howto.blogspot.com/2008/12/how-to-test-javascript-performance.html\" rel=\"nofollow\">JavaScript performance testing here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I usually just test javascript performance, how long script runs. jQuery Lover gave a good article link for testing <a href=\"http://jquery-howto.blogspot.com/2008/12/how-to-test-javascript-performance.html\" rel=\"nofollow\"><strong>javascript code performance</strong></a>, but the article only shows how to test how long your javascript code runs. I would also recommend reading article called \"5 tips on <a href=\"http://jquery-howto.blogspot.com/2009/02/5-easy-tips-on-how-to-improve-code.html\" rel=\"nofollow\">improving your jQuery code</a> while working with huge data sets\".</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>We can always <strong>measure time taken by any function by simple date object</strong>.</p>\n\n<pre><code>var start = +new Date();  // log start timestamp\nfunction1();\nvar end =  +new Date();  // log end timestamp\nvar diff = end - start;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 48
                },
                {
                    "body": "<p><a href=\"http://code.google.com/p/jslitmus/\">JSLitmus</a> is a lightweight tool for creating ad-hoc JavaScript benchmark tests</p>\n\n<p>Let examine the performance between <code>function expression</code> and <code>function constructor</code>:</p>\n\n<pre><code>&lt;script src=\"JSLitmus.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n\nJSLitmus.test(\"new Function ... \", function() { \n    return new Function(\"for(var i=0; i&lt;100; i++) {}\"); \n});\n\nJSLitmus.test(\"function() ...\", function() { \n       return (function() { for(var i=0; i&lt;100; i++) {}  });\n});\n\n&lt;/script&gt;\n</code></pre>\n\n<p>What I did above is create a <code>function expression</code> and <code>function constructor</code> performing same operation. The result is as follows:</p>\n\n<p><strong>FireFox Performance Result</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/Oi4Wl.png\" alt=\"FireFox Performance Result\"></p>\n\n<p><strong>IE Performance Result</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/7XCCD.png\" alt=\"IE Performance Result\"></p>\n",
                    "is_accepted": false,
                    "score": 27
                },
                {
                    "body": "<p>Try <a href=\"http://jsperf.com\">jsPerf</a>. It's an online javascript performance tool for benchmarking and comparing snippets of code. I use it all the time.</p>\n",
                    "is_accepted": false,
                    "score": 38
                },
                {
                    "body": "<p>Here is a simple function that displays the execution time of a passed in function.</p>\n\n<pre><code>var perf = function (testName, fn) {\n  var startTime = new Date().getTime();\n  fn();\n  var endTime = new Date().getTime();\n  console.log(testName + \": \" + (endTime - startTime) + \"ms\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You could use <a href=\"http://getfirebug.com/logging\" rel=\"nofollow\">console.profile</a> in firebug</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I do agree that perceived performance is really all that matters. But sometimes I just want to find out which method of doing something is faster. Sometimes the difference is HUGE and worth knowing.</p>\n\n<p>You could just use javascript timers. But I typically get much more consistent results using the native Chrome (also in FF) devTool methods <code>console.time()</code> &amp; <code>console.timeEnd()</code></p>\n\n<p>Example of how I use it:</p>\n\n<pre><code>var iterations = 1000000;\nconsole.time('Function #1');\nfor(var i = 0; i &lt; iterations; i++ ){\n    functionOne();\n};\nconsole.timeEnd('Function #1')\n\nconsole.time('Function #2');\nfor(var i = 0; i &lt; iterations; i++ ){\n    functionTwo();\n};\nconsole.timeEnd('Function #2')\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/IVo6d.png\" alt=\"Results Look like this\"></p>\n",
                    "is_accepted": false,
                    "score": 39
                },
                {
                    "body": "<p>This is a good way of collecting performance information for the specific operation.</p>\n\n<pre><code>start = new Date().getTime(); \nfor (var n = 0; n &lt; maxCount; n++) {\n/* perform the operation to be measured *//\n}\nelapsed = new Date().getTime() - start;\nassert(true,\"Measured time: \" + elapsed);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>Quick answer</strong></p>\n\n<p>On jQuery (more specifically on Sizzle), we use <a href=\"https://github.com/jquery/sizzle/tree/master/speed\" rel=\"nofollow\">this</a> (checkout master and open speed/index.html on your browser), which in turn uses <a href=\"http://benchmarkjs.com/\" rel=\"nofollow\">benchmark.js</a>. This is used to performance test the library.</p>\n\n<p><strong>Long answer</strong></p>\n\n<p>If the reader doesn't know the difference between benchmark, workload and profilers, first read some performance testing foundations on the <a href=\"http://www.spec.org/cpu2006/Docs/readme1st.html#Q2\" rel=\"nofollow\">\"readme 1st\" section of spec.org</a>. This is for system testing, but understanding this foundations will help JS perf testing as well. Some highlights:</p>\n\n<blockquote>\n  <p><em>What is a benchmark?</em></p>\n  \n  <p>A benchmark is \"a standard of measurement or evaluation\" (Webster\u2019s II Dictionary). A computer benchmark is typically a computer program that performs a strictly defined set of operations - a workload - and returns some form of result - a metric - describing how the tested computer performed. Computer benchmark metrics usually measure speed: how fast was the workload completed; or throughput: how many workload units per unit time were completed. Running the same computer benchmark on multiple computers allows a comparison to be made.</p>\n  \n  <p><em>Should I benchmark my own application?</em></p>\n  \n  <p>Ideally, the best comparison test for systems would be your own application with your own workload. Unfortunately, it is often impractical to get a wide base of reliable, repeatable and comparable measurements for different systems using your own application with your own workload. Problems might include generation of a good test case, confidentiality concerns, difficulty ensuring comparable conditions, time, money, or other constraints.</p>\n  \n  <p><em>If not my own application, then what?</em></p>\n  \n  <p>You may wish to consider using standardized benchmarks as a reference point. Ideally, a standardized benchmark will be portable, and may already have been run on the platforms that you are interested in. However, before you consider the results you need to be sure that you understand the correlation between your application/computing needs and what the benchmark is measuring. Are the benchmarks similar to the kinds of applications you run? Do the workloads have similar characteristics? Based on your answers to these questions, you can begin to see how the benchmark may approximate your reality.</p>\n  \n  <p>Note: A standardized benchmark can serve as reference point. Nevertheless, when you are doing vendor or product selection, SPEC does not claim that any standardized benchmark can replace benchmarking your own actual application.</p>\n</blockquote>\n\n<p><strong>Performance testing JS</strong></p>\n\n<p>Ideally, the best perf test would be using your own application with your own workload switching what you need to test: different libraries, machines, etc.</p>\n\n<p>If this is not feasible (and usually it is not). The first important step: define your workload. It should reflect your application's workload. In <a href=\"https://www.youtube.com/watch?v=65-RbBwZQdU\" rel=\"nofollow\">this talk</a>, Vyacheslav Egorov talks about shitty workloads you should avoid.</p>\n\n<p>Then, you could use tools like benchmark.js to assist you collect metrics, usually speed or throughput. On Sizzle, we're interested in comparing how fixes or changes affect the systemic performance of the library.</p>\n\n<p>If something is performing really bad, your next step is to look for bottlenecks.</p>\n\n<p><strong>How do I find bottlenecks? Profilers</strong></p>\n\n<p><a href=\"http://stackoverflow.com/questions/855126/what-is-the-best-way-to-profile-javascript-execution\">What is the best way to profile javascript execution?</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Most browsers are now implementing high resolution timing in <code>performance.now()</code>. It's superior to <code>new Date()</code> for performance testing because it operates independently from the system clock.</p>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>var start = performance.now();\n\n// code being timed...\n\nvar duration = performance.now() - start;\n</code></pre>\n\n<p><strong>References</strong></p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Performance.now()\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/Performance.now()</a></li>\n<li><a href=\"http://www.w3.org/TR/hr-time/#dom-performance-now\" rel=\"nofollow\">http://www.w3.org/TR/hr-time/#dom-performance-now</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I have a small tool where I can quickly run small test-cases in the browser and immediately get the results:</p>\n\n<p><a href=\"https://duzun.me/playground/js_speed#c=%20%20%20%20%2F%2F%20A%20%3D%20new%20Array(n)%3B%0A%20%20%20%20for(var%20i%3D0%3B%20i%3Cn%3B%20i%2B%2B)%20%0A%20%20%20%20%20%20%20%20A%5Bi%5D%20%3D%20i*(i%2B1)%2F2%3B&amp;d=console.log(A)&amp;i=var%20A%20%3D%20%5B%5D%3B%0Avar%20n%20%3D%201000%3B&amp;n=1000\" rel=\"nofollow\">https://duzun.me/playground/js_speed</a></p>\n\n<p>You can play with code and find out which technique is better in the tested browser.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>CPU Cycles, Memory Usage, Execution Time, etc.?</p>\n\n<p>Added: Is there a quantitative way of testing performance in JavaScript besides just perception of how fast the code runs?</p>\n",
            "last_activity_date": 1416937735,
            "question_id": 111368,
            "score": 120,
            "tags": [
                "javascript",
                "performance"
            ],
            "title": "How do you performance test JavaScript code?"
        },
        {
            "answer_count": 17,
            "answers": [
                {
                    "body": "<p>Here is some example code I've found... does anyone have a better way?</p>\n\n<pre><code>  function include(url)\n  {\n    var s = document.createElement(\"script\");\n    s.setAttribute(\"type\", \"text/javascript\");\n    s.setAttribute(\"src\", url);\n    var nodes = document.getElementsByTagName(\"*\");\n    var node = nodes[nodes.length -1].parentNode;\n    node.appendChild(s);\n  }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>all the major javascript libraries like jscript, prototype, YUI have support for loading script files. For example, in YUI, after loading the core you can do the following to load the calendar control</p>\n\n<pre><code>var loader = new YAHOO.util.YUILoader({\n\n    require: ['calendar'], // what components?\n\n    base: '../../build/',//where do they live?\n\n\t//filter: \"DEBUG\", \t//use debug versions (or apply some\n\t\t\t\t\t\t//some other filter?\n\n\t//loadOptional: true, //load all optional dependencies?\n\n\t//onSuccess is the function that YUI Loader\n\t//should call when all components are successfully loaded.\n    onSuccess: function() {\n\t\t//Once the YUI Calendar Control and dependencies are on\n\t\t//the page, we'll verify that our target container is \n\t\t//available in the DOM and then instantiate a default\n\t\t//calendar into it:\n\t\tYAHOO.util.Event.onAvailable(\"calendar_container\", function() {\n\t\t\tvar myCal = new YAHOO.widget.Calendar(\"mycal_id\", \"calendar_container\");\n\t\t\tmyCal.render();\n\t\t})\n     },\n\n    // should a failure occur, the onFailure function will be executed\n    onFailure: function(o) {\n        alert(\"error: \" + YAHOO.lang.dump(o));\n    }\n\n });\n\n// Calculate the dependency and insert the required scripts and css resources\n// into the document\nloader.insert();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I did basically the same thing that you did Adam, but with a slide modification to make sure I was appending to the head tag to get the job done.  I simply created an include function (code below) to handle both script and css files.</p>\n\n<p>This function also checks to make sure that the script or CSS file hasn't already been loaded dynamically.  It does not check for hand coded values and there may have been a better way to do that, but it served the purpose.</p>\n\n<pre><code>function include( url, type ){\n    // First make sure it hasn't been loaded by something else.\n    if( Array.contains( includedFile, url ) )\n        return;\n\n    // Determine the MIME-type\n    var jsExpr = new RegExp( \"js$\", \"i\" );\n    var cssExpr = new RegExp( \"css$\", \"i\" );\n    if( type == null )\n        if( jsExpr.test( url ) )\n            type = 'text/javascript';\n        else if( cssExpr.test( url ) )\n            type = 'text/css';\n\n    // Create the appropriate element.\n    var tag = null;\n    switch( type ){\n        case 'text/javascript' :\n            tag = document.createElement( 'script' );\n            tag.type = type;\n            tag.src = url;\n            break;\n        case 'text/css' :\n            tag = document.createElement( 'link' );\n            tag.rel = 'stylesheet';\n            tag.type = type;\n            tag.href = url;\n            break;\n    }\n\n    // Insert it to the &lt;head&gt; and the array to ensure it is not\n    // loaded again.\n    document.getElementsByTagName(\"head\")[0].appendChild( tag );\n    Array.add( includedFile, url );\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<blockquote>\n  <p>does anyone have a better way?</p>\n</blockquote>\n\n<p>I think just adding the script to the body would be easier then adding it to the last node on the page.  How about this:</p>\n\n<pre><code>function include(url) {\n  var s = document.createElement(\"script\");\n  s.setAttribute(\"type\", \"text/javascript\");\n  s.setAttribute(\"src\", url);\n  document.body.appendChild(s);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The technique we use at work is to request the javascript file using an AJAX request and then eval() the return.  If you're using the prototype library, they support this functionality in their Ajax.Request call.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I used a <a href=\"http://gist.github.com/4102\" rel=\"nofollow\">much less complicated version recently</a> with <a href=\"http://jquery.com/\" rel=\"nofollow\">jQuery</a>:</p>\n\n<pre><code>&lt;script src=\"scripts/jquery.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;//&lt;![CDATA[\n  var js = [\"scripts/jquery.dimensions.js\", \"scripts/shadedborder.js\", \"scripts/jqmodal.js\", \"scripts/main.js\"];\n  var $head = $(\"head\");\n  for (var i = 0; i &lt; js.length; i++) {\n    $head.append(\"&lt;script src=\\\"\" + js[i] + \"\\\" type=\\\"text/javascript\\\"&gt;&lt;/scr\" + \"ipt&gt;\");\n  }\n//]]&gt;&lt;/script&gt;\n</code></pre>\n\n<p>It worked great in every browser I tested it in: IE6/7, Firefox, Safari, Opera.</p>\n\n<p><strong>Update:</strong> jQuery-less version:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;//&lt;![CDATA[\n  var js = [\"scripts/jquery.dimensions.js\", \"scripts/shadedborder.js\", \"scripts/jqmodal.js\", \"scripts/main.js\"];\n  for (var i = 0, l = js.length; i &lt; l; i++) {\n    document.getElementsByTagName(\"head\")[0].innerHTML += (\"&lt;script src=\\\"\" + js[i] + \"\\\" type=\\\"text/javascript\\\"&gt;&lt;/scr\" + \"ipt&gt;\");\n  }\n//]]&gt;&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>i've used yet another solution i found on the net ... this one is under creativecommons and it <strong>checks if the source was included prior to calling the function</strong> ...</p>\n\n<p>you can find the file here: <a href=\"http://xkr.us/code/javascript/include.js\" rel=\"nofollow\">include.js</a></p>\n\n<pre><code>/** include - including .js files from JS - bfults@gmail.com - 2005-02-09\n ** Code licensed under Creative Commons Attribution-ShareAlike License \n ** http://creativecommons.org/licenses/by-sa/2.0/\n **/              \nvar hIncludes = null;\nfunction include(sURI)\n{   \n  if (document.getElementsByTagName)\n  {   \n    if (!hIncludes)\n    {\n      hIncludes = {}; \n      var cScripts = document.getElementsByTagName(\"script\");\n      for (var i=0,len=cScripts.length; i &lt; len; i++)\n        if (cScripts[i].src) hIncludes[cScripts[i].src] = true;\n    }\n    if (!hIncludes[sURI])\n    {\n      var oNew = document.createElement(\"script\");\n      oNew.type = \"text/javascript\";\n      oNew.src = sURI;\n      hIncludes[sURI]=true;\n      document.getElementsByTagName(\"head\")[0].appendChild(oNew);\n    }\n  }   \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You may write dynamic script tags (using <a href=\"http://www.prototypejs.org/\">Prototype</a>):</p>\n\n<pre><code>new Element(\"script\", {src: \"myBigCodeLibrary.js\", type: \"text/javascript\"});\n</code></pre>\n\n<p>The problem here is that we do not know <em>when</em> the external script file is fully loaded.</p>\n\n<p>We often want our dependant code on the very next line and like to write something like: </p>\n\n<pre><code>if (iNeedSomeMore){\n  Script.load(\"myBigCodeLibrary.js\");  // includes code for myFancyMethod();\n  myFancyMethod();                     // cool, no need for callbacks!\n}\n</code></pre>\n\n<p>There is a smart way to inject script dependencies without the need of callbacks. You simply have to pull the script via a <em>synchronous AJAX request</em> and eval the script on global level. </p>\n\n<p>If you use Prototype the Script.load method looks like this:</p>\n\n<pre><code>var Script = {\n  _loadedScripts: [],\n  include: function(script){\n    // include script only once\n    if (this._loadedScripts.include(script)){\n      return false;\n    }\n    // request file synchronous\n    var code = new Ajax.Request(script, {\n      asynchronous: false, method: \"GET\",\n      evalJS: false, evalJSON: false\n    }).transport.responseText;\n    // eval code on global level\n    if (Prototype.Browser.IE) {\n      window.execScript(code);\n    } else if (Prototype.Browser.WebKit){\n      $$(\"head\").first().insert(Object.extend(\n        new Element(\"script\", {type: \"text/javascript\"}), {text: code}\n      ));\n    } else {\n      window.eval(code);\n    }\n    // remember included script\n    this._loadedScripts.push(script);\n  }\n};\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 32
                },
                {
                    "body": "<p>Just found out about a great feature in <a href=\"http://developer.yahoo.com/yui/3/\" rel=\"nofollow\">YUI 3</a> (at the time of writing available in preview release). You can easily insert dependencies to YUI libraries and to \"external\" modules (what you are looking for) without too much code: <a href=\"http://developer.yahoo.com/yui/3/examples/yui/yui-loader-ext.html\" rel=\"nofollow\">YUI Loader</a>.</p>\n\n<p>It also answers your second question regarding the function being called as soon as the external module is loaded.</p>\n\n<p>Example:</p>\n\n<pre><code>YUI({\n    modules: {\n    \t'simple': {\n    \t\tfullpath: \"http://example.com/public/js/simple.js\"\n    \t},\n    \t'complicated': {\n    \t\tfullpath: \"http://example.com/public/js/complicated.js\"\n    \t\trequires: ['simple']  // &lt;-- dependency to 'simple' module\n    \t}\n    },\n    timeout: 10000\n}).use('complicated', function(Y, result) {\n    // called as soon as 'complicated' is loaded\n    if (!result.success) {\n    \t// loading failed, or timeout\n    \thandleError(result.msg);\n    } else {\n    \t// call a function that needs 'complicated'\n    \tdoSomethingComplicated(...);\n    }\n});\n</code></pre>\n\n<p>Worked perfectly for me and has the advantage of managing dependencies. Refer to the YUI documentation for an <a href=\"http://developer.yahoo.com/yui/3/examples/yui/yui-loader-ext%5Fclean.html\" rel=\"nofollow\">example with YUI 2 calendar</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>jquery resolved this for me with its .append() function</strong>\n- used this to load the complete jquery ui package</p>\n\n<pre><code>/*\n * FILENAME : project.library.js\n * USAGE    : loads any javascript library\n */\n    var dirPath = \"../js/\";\n    var library = [\"functions.js\",\"swfobject.js\",\"jquery.jeditable.mini.js\",\"jquery-ui-1.8.8.custom.min.js\",\"ui/jquery.ui.core.min.js\",\"ui/jquery.ui.widget.min.js\",\"ui/jquery.ui.position.min.js\",\"ui/jquery.ui.button.min.js\",\"ui/jquery.ui.mouse.min.js\",\"ui/jquery.ui.dialog.min.js\",\"ui/jquery.effects.core.min.js\",\"ui/jquery.effects.blind.min.js\",\"ui/jquery.effects.fade.min.js\",\"ui/jquery.effects.slide.min.js\",\"ui/jquery.effects.transfer.min.js\"];\n\n    for(var script in library){\n        $('head').append('&lt;script type=\"text/javascript\" src=\"' + dirPath + library[script] + '\"&gt;&lt;/script&gt;');\n    }\n</code></pre>\n\n<p><strong>To Use</strong> - in the head of your html/php/etc after you import jquery.js you would just include this one file like so to load in the entirety of your library appending it to the head...</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"project.library.js\"&gt;&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you have jQuery loaded already, you should use <a href=\"http://api.jquery.com/jQuery.getScript/\" rel=\"nofollow\">$.getScript</a>.  </p>\n\n<p>This has an advantage over the other answers here in that you have a built in callback function (to guarantee the script is loaded before the dependant code runs) and you can control caching.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>There are scripts that are designed specifically for this purpose.</p>\n\n<p><a href=\"http://yepnopejs.com/\" rel=\"nofollow\">yepnope.js</a> is built into Modernizr, and <a href=\"http://labjs.com/\" rel=\"nofollow\">lab.js</a> is a more optimized (but less user friendly version.  </p>\n\n<p>I wouldn't reccomend doing this through a big library like jquery or prototype - because one of the major benefits of a script loader is the ability to load scripts early - you shouldn't have to wait until jquery &amp; all your dom elements load before running a check to see if you want to dynamically load a script.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>another awesome answer </p>\n\n<pre><code>$.getScript(\"my_lovely_script.js\", function(){\n\n\n   alert(\"Script loaded and executed.\");\n  // here you can use anything you defined in the loaded script\n\n });\n</code></pre>\n\n<p><a href=\"http://stackoverflow.com/a/950146/671046\">http://stackoverflow.com/a/950146/671046</a></p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>There is no import / include / require in javascript, but there are two main ways to achieve what you want:</p>\n\n<p>1 - You can load it with an AJAX call then use eval.</p>\n\n<p>This is the most straightforward way but it's limited to your domain because of the Javascript safety settings, and using eval is opening the door to bugs and hacks.</p>\n\n<p>2 - Add a script tag with the script URL in the HTML.</p>\n\n<p>Definitely the best way to go. You can load the script even from a foreign server, and it's clean as you use the browser parser to evaluate the code. You can put the  tag in the head of the web page, or at the bottom of the body.</p>\n\n<p>Both of these solutions are discussed and illustrated here.</p>\n\n<p>Now, there is a big issue you must know about. Doing that implies that you remotely load the code. Modern web browsers will load the file and keep executing your current script because they load everything asynchronously to improve performances.</p>\n\n<p>It means that if you use these tricks directly, you won't be able to use your newly loaded code the next line after you asked it to be loaded, because it will be still loading.</p>\n\n<p>E.G : my_lovely_script.js contains MySuperObject</p>\n\n<pre><code>  var js = document.createElement(\"script\");\n\njs.type = \"text/javascript\";\njs.src = jsFilePath;\n\ndocument.body.appendChild(js);\n\nvar s = new MySuperObject();\n\nError : MySuperObject is undefined\n</code></pre>\n\n<p>Then you reload the page hitting F5. And it works! Confusing...</p>\n\n<p>So what to do about it ?</p>\n\n<p>Well, you can use the hack the author suggests in the link I gave you. In summary, for people in a hurry, he uses en event to run a callback function when the script is loaded. So you can put all the code using the remote library in the callback function. E.G :</p>\n\n<pre><code>    function loadScript(url, callback)\n{\n    // adding the script tag to the head as suggested before\n   var head = document.getElementsByTagName('head')[0];\n   var script = document.createElement('script');\n   script.type = 'text/javascript';\n   script.src = url;\n\n   // then bind the event to the callback function \n   // there are several events for cross browser compatibility\n   script.onreadystatechange = callback;\n   script.onload = callback;\n\n   // fire the loading\n   head.appendChild(script);\n}\n</code></pre>\n\n<p>Then you write the code you want to use AFTER the script is loaded in a lambda function :</p>\n\n<pre><code>    var myPrettyCode = function() {\n\n   // here, do what ever you want\n\n};\n</code></pre>\n\n<p>Then you run all that :</p>\n\n<pre><code>loadScript(\"my_lovely_script.js\", myPrettyCode);\n</code></pre>\n\n<p>Ok, I got it. But it's a pain to write all this stuff.</p>\n\n<p>Well, in that case, you can use as always the fantastic free jQuery framework, which let you do the very same thing in one line :</p>\n\n<pre><code>$.getScript(\"my_lovely_script.js\", function(){\nalert(\"Script loaded and executed.\");\n</code></pre>\n\n<p>// here you can use anything you defined in the loaded script\n   });</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I wrote a simple module that automatizes the job of importing/including module scripts in JavaScript. Give it a try and please spare some feedback! :) For detailed explanation of the code refer to this blog post: <a href=\"http://stamat.wordpress.com/2013/04/12/javascript-require-import-include-modules/\" rel=\"nofollow\">http://stamat.wordpress.com/2013/04/12/javascript-require-import-include-modules/</a></p>\n\n<pre><code>var _rmod = _rmod || {}; //require module namespace\n_rmod.on_ready_fn_stack = [];\n_rmod.libpath = '';\n_rmod.imported = {};\n_rmod.loading = {\n    scripts: {},\n    length: 0\n};\n\n_rmod.findScriptPath = function(script_name) {\n    var script_elems = document.getElementsByTagName('script');\n    for (var i = 0; i &lt; script_elems.length; i++) {\n        if (script_elems[i].src.endsWith(script_name)) {\n            var href = window.location.href;\n            href = href.substring(0, href.lastIndexOf('/'));\n            var url = script_elems[i].src.substring(0, script_elems[i].length - script_name.length);\n            return url.substring(href.length+1, url.length);\n        }\n    }\n    return '';\n};\n\n_rmod.libpath = _rmod.findScriptPath('script.js'); //Path of your main script used to mark the root directory of your library, any library\n\n\n_rmod.injectScript = function(script_name, uri, callback, prepare) {\n\n    if(!prepare)\n        prepare(script_name, uri);\n\n    var script_elem = document.createElement('script');\n    script_elem.type = 'text/javascript';\n    script_elem.title = script_name;\n    script_elem.src = uri;\n    script_elem.async = true;\n    script_elem.defer = false;\n\n    if(!callback)\n        script_elem.onload = function() {\n            callback(script_name, uri);\n        };\n\n    document.getElementsByTagName('head')[0].appendChild(script_elem);\n};\n\n_rmod.requirePrepare = function(script_name, uri) {\n    _rmod.loading.scripts[script_name] = uri;\n    _rmod.loading.length++;\n};\n\n_rmod.requireCallback = function(script_name, uri) {\n    _rmod.loading.length--;\n    delete _rmod.loading.scripts[script_name];\n    _rmod.imported[script_name] = uri;\n\n    if(_rmod.loading.length == 0)\n        _rmod.onReady();\n};\n\n_rmod.onReady = function() {\n    if (!_rmod.LOADED) {\n        for (var i = 0; i &lt; _rmod.on_ready_fn_stack.length; i++){\n            _rmod.on_ready_fn_stack[i]();\n        });\n        _rmod.LOADED = true;\n    }\n};\n\n//you can rename based on your liking. I chose require, but it can be called include or anything else that is easy for you to remember or write, except import because it is reserved for future use.\nvar require = function(script_name) {\n    var np = script_name.split('.');\n    if (np[np.length-1] === '*') {\n        np.pop();\n        np.push('_all');\n    }\n\n    script_name = np.join('.');\n    var uri = _rmod.libpath + np.join('/')+'.js';\n    if (!_rmod.loading.scripts.hasOwnProperty(script_name) \n     &amp;&amp; !_rmod.imported.hasOwnProperty(script_name)) {\n        _rmod.injectScript(script_name, uri, \n            _rmod.requireCallback, \n                _rmod.requirePrepare);\n    }\n};\n\nvar ready = function(fn) {\n    _rmod.on_ready_fn_stack.push(fn);\n};\n\n// ----- USAGE -----\n\nrequire('ivar.util.array');\nrequire('ivar.util.string');\nrequire('ivar.net.*');\n\nready(function(){\n    //do something when required scripts are loaded\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you want a <strong>SYNC</strong> script loading, you need to add script text directly to HTML HEAD tag. Adding it as  will trigger an <strong>ASYNC</strong> load. To load script text from external file synchronously, use XHR. Below a quick sample (it is using parts of other answers in this and other posts):</p>\n\n<pre><code>/*sample requires an additional method for array prototype:*/\n\nif (Array.prototype.contains === undefined) {\nArray.prototype.contains = function (obj) {\n    var i = this.length;\n    while (i--) { if (this[i] === obj) return true; }\n    return false;\n};\n};\n\n/*define object that will wrap our logic*/\nvar ScriptLoader = {\nLoadedFiles: [],\n\nLoadFile: function (url) {\n    var self = this;\n    if (this.LoadedFiles.contains(url)) return;\n\n    var xhr = new XMLHttpRequest();\n    xhr.onload = function () {\n        if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n                self.LoadedFiles.push(url);\n                self.AddScript(xhr.responseText);\n            } else {\n                if (console) console.error(xhr.statusText);\n            }\n        }\n    };\n    xhr.open(\"GET\", url, false);/*last parameter defines if call is async or not*/\n    xhr.send(null);\n},\n\nAddScript: function (code) {\n    var oNew = document.createElement(\"script\");\n    oNew.type = \"text/javascript\";\n    oNew.textContent = code;\n    document.getElementsByTagName(\"head\")[0].appendChild(oNew);\n}\n};\n\n/*Load script file. ScriptLoader will check if you try to load a file that has already been loaded (this check might be better, but I'm lazy).*/\n\nScriptLoader.LoadFile(\"Scripts/jquery-2.0.1.min.js\");\nScriptLoader.LoadFile(\"Scripts/jquery-2.0.1.min.js\");\n/*this will be executed right after upper lines. It requires jquery to execute. It requires a HTML input with id \"tb1\"*/\n$(function () { alert($('#tb1').val()); });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Keep it nice, short, simple, and maintainable! :]</p>\n\n<pre><code>// 3rd party plugins / script (don't forget the full path is necessary)\nvar FULL_PATH = '', s =\n[\n    FULL_PATH + 'plugins/script.js'      // Script example\n    FULL_PATH + 'plugins/jquery.1.2.js', // jQuery Library \n    FULL_PATH + 'plugins/crypto-js/hmac-sha1.js',      // CryptoJS\n    FULL_PATH + 'plugins/crypto-js/enc-base64-min.js'  // CryptoJS\n];\n\nfunction load(url)\n{\n    var ajax = new XMLHttpRequest();\n    ajax.open('GET', url, false);\n    ajax.onreadystatechange = function ()\n    {\n        var script = ajax.response || ajax.responseText;\n        if (ajax.readyState === 4)\n        {\n            switch(ajax.status)\n            {\n                case 200:\n                    eval.apply( window, [script] );\n                    console.log(\"library loaded: \", url);\n                    break;\n                default:\n                    console.log(\"ERROR: library not loaded: \", url);\n            }\n        }\n    };\n    ajax.send(null);\n}\n\n // initialize a single load \nload('plugins/script.js');\n\n// initialize a full load of scripts\nif (s.length &gt; 0)\n{\n    for (i = 0; i &lt; s.length; i++)\n    {\n        load(s[i]);\n    }\n}\n</code></pre>\n\n<p>This code is simply a short functional example that <em>could</em> require additional feature functionality for full support on any (or given) platform.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can you reliably and dynamically load a JavaScript file?  This will can be used to implement a module or component that when 'initialized' the component will dynamically load all needed JavaScript library scripts on demand.</p>\n\n<p>The client that uses the component isn't required to load all the library script files (and manually insert <code>&lt;script&gt;</code> tags into their web page) that implement this component - just the 'main' component script file.</p>\n\n<p><strong>How do mainstream JavaScript libraries accomplish this (Prototype, jQuery, etc)?</strong>  Do these tools merge multiple JavaScript files into a single redistributable 'build' version of a script file?  Or do they do any dynamic loading of ancillary 'library' scripts?</p>\n\n<p>An addition to this question: <strong>is there a way to handle the event after a dynamically included JavaScript file is loaded?</strong>  Prototype has <code>document.observe</code> for document-wide events. Example:</p>\n\n<pre><code>document.observe(\"dom:loaded\", function() {\n  // initially hide all containers for tab content\n  $$('div.tabcontent').invoke('hide');\n});\n</code></pre>\n\n<p><strong>What are the available events for a script element?</strong></p>\n",
            "last_activity_date": 1423358190,
            "question_id": 21294,
            "score": 72,
            "tags": [
                "javascript",
                "file",
                "import",
                "include"
            ],
            "title": "Dynamically load a JavaScript file"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>With <code>JSON.stringify()</code> found in <a href=\"http://www.json.org/js.html\">json2.js</a> or native in most modern browsers.</p>\n\n<blockquote>\n<pre><code>   JSON.stringify(value, replacer, space)\n        value       any JavaScript value, usually an object or array.\n\n       replacer    an optional parameter that determines how object\n                    values are stringified for objects. It can be a\n                    function or an array of strings.\n\n       space       an optional parameter that specifies the indentation\n                    of nested structures. If it is omitted, the text will\n                    be packed without extra whitespace. If it is a number,\n                    it will specify the number of spaces to indent at each\n                    level. If it is a string (such as '\\t' or '&amp;nbsp;'),\n                    it contains the characters used to indent at each level.\n\n       This method produces a JSON text from a JavaScript value.\n</code></pre>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>Check out updated/better way:</p>\n\n<ul>\n<li><a href=\"http://www.thomasfrank.se/json_stringify_revisited.html\">JSON stringify revisited</a></li>\n</ul>\n\n<blockquote>\n  <p>Update May 17, 2008: Small sanitizer\n  added to the toObject-method. <strong>Now\n  toObject() will not eval() the string\n  if it finds any malicious code in\n  it.For even more security: Don't set\n  the includeFunctions flag to true.</strong></p>\n  \n  <p>Douglas Crockford, father of the JSON concept, wrote one of the first stringifiers for JavaScript. Later Steve Yen at Trim Path wrote a nice improved version which I have used for some time. It's my changes to Steve's version that I'd like to share with you. Basically they stemmed from my wish to make the stringifier:</p>\n\n<pre><code>\u2022 handle and restore cyclical references  \n\u2022 include the JavaScript code for functions/methods (as an option)  \n\u2022 exclude object members from Object.prototype if needed.\n</code></pre>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Modern browsers (IE8, FF3, Chrome etc.) have native JSON support built in (Same API as with JSON2).</p>\n\n<p>So as long you're not dealing with IE6/7 you can do it just as easily as that:</p>\n\n<pre><code>var j={\"name\":\"binchen\"};\nJSON.stringify(j); // '{\"name\":\"binchen\"}'\n</code></pre>\n\n<p>But to add support for the oldie's, you should also include the <a href=\"http://www.json.org/js.html\">json2 script</a></p>\n",
                    "is_accepted": true,
                    "score": 476
                },
                {
                    "body": "<p>if you have a json string and it's not wrapped with [] then wrap it up first</p>\n\n<pre><code>var str = '{\"city\": \"Tampa\", \"state\": \"Florida\"}, {\"city\": \"Charlotte\", \"state\": \"North Carolina\"}';\nstr = '[' + str + ']';\nvar jsonobj = $.parseJSON(str);\n</code></pre>\n\n<p><strong>OR</strong>    </p>\n\n<pre><code>var jsonobj = eval('(' + str + ')');\nconsole.log(jsonobj);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Use the below code....\nvar flowers={\"rose\":\"red\",\"lilly\":\"white\"};\nJSON.stringify(flowers); // '{\"rose\":\"red\",\"lilly\":\"white\"}'</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>If I defined an object in JS with:</p>\n\n<pre><code>var j={\"name\":\"binchen\"};\n</code></pre>\n\n<p>How can I convert the object to JSON? The output string should be:</p>\n\n<pre><code>'{\"name\":\"binchen\"}'\n</code></pre>\n",
            "last_activity_date": 1424781759,
            "question_id": 4162749,
            "score": 267,
            "tags": [
                "javascript",
                "json"
            ],
            "title": "Convert JS object to JSON string"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>What you are looking for is for some type of URL hash management. The # in the url is for client side only.  </p>\n\n<p>When you change the state of the back with JS, then you update the data in the # of the url.</p>\n\n<p>Also you add some type of polling that monitors if the hash has changed, and loads the state of the page based off the new data in the hash. </p>\n\n<p>Take a look at this:</p>\n\n<p><a href=\"http://ajaxpatterns.org/Unique%5FURLs\" rel=\"nofollow\">http://ajaxpatterns.org/Unique_URLs</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Facebook remembers page state by modifying the hash identifier in the URL for ajax requests.  These changes are recorded in browser history, so when the user clicks the back button, the hash changes to what it was before.  So then it is implied that you will need some Javascript to monitor the has identifier and react when it is changed by the browser.  <a href=\"http://blixt.org/js#project/hash\" rel=\"nofollow\">Andreas Blixt has a hash monitoring script available</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Using the URL hash/fragment identifier is a pretty common way to hook/remember state in a web application that relies on Ajax and DOM updates.</p>\n\n<p>Check out the <a href=\"http://code.google.com/p/reallysimplehistory/\" rel=\"nofollow\">Really Simple History</a> project for some ideas.  It's possible to monitor the URL for changes to the hash, and rsh does this, taking into account browser differences.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This has nothing to do with the hash (#) symbol.</p>\n\n<p>If you would check apple's HTTP headers, it's simply caching the page.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>One answer: Among other things, <strong>unload events cause the back/forward cache to be invalidated</strong>.</p>\n\n<p>Some browsers store the current state of the entire web page in the so-called \"bfcache\" or \"page cache\".  This allows them to re-render the page very quickly when navigating via the back and forward buttons, and preserves the state of the DOM and all JavaScript variables.  However, when a page contains onunload events, those events could potentially put the page into a non-functional state, and so the page is not stored in the bfcache and must be reloaded (but may be loaded from the standard cache) and re-rendered from scratch, including running all onload handlers.  When returning to a page via the bfcache, the DOM is kept in its previous state, without needing to fire onload handlers (because the page is already loaded).</p>\n\n<p>Note that the behavior of the bfcache is different from the standard browser cache with regards to Cache-Control and other HTTP headers.  In many cases, browsers will cache a page in the bfcache even if it would not otherwise store it in the standard cache.</p>\n\n<p><del>jQuery automatically attaches an unload event to the window, so unfortunately using jQuery will disqualify your page from being stored in the bfcache for DOM preservation and quick back/forward</del>. [Update: this has been fixed in jQuery 1.4 so that it only applies to IE]</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/En/Using_Firefox_1.5_caching\">Information about the Firefox bfcache</a></li>\n<li><a href=\"http://webkit.org/blog/427/webkit-page-cache-i-the-basics/\">Information about the Safari Page Cache</a> and <a href=\"http://webkit.org/blog/516/webkit-page-cache-ii-the-unload-event/\">possible future changes to how unload events work</a></li>\n<li><a href=\"http://www.opera.com/support/kb/view/827/\">Opera uses fast history navigation</a></li>\n<li>Chrome doesn't have a page cache (<a href=\"http://code.google.com/p/chromium/issues/detail?id=2879\">[1]</a>, <a href=\"http://code.google.com/p/chromium/issues/detail?id=48657\">[2]</a>)</li>\n<li>Pages for playing with DOM manipulations and the bfcache:\n<ul>\n<li><a href=\"http://www.twmagic.com/misc/cache.html\">This page will be stored in the regular cache</a></li>\n<li><a href=\"http://www.twmagic.com/misc/cache-nocache.html\">This page will not, but will still be bfcached</a></li>\n</ul></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 87
                },
                {
                    "body": "<p>I've been trying to get Chrome to behave like Safari does, and the only way I've found that works is to set <code>Cache-control: no-store</code> in the headers. This forces the browser to re-fetch the page from the server when the user presses the back button. Not ideal, but better than being shown an out-of-date page.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>For anybody running in problems with <code>Rails</code> and this -- your issue isn't bfcache (I thought it was) -- it's the <code>turbolinks</code> gem. <a href=\"http://blog.flightswithfriends.com/post/53943440505/how-to-disable-turbolinks-in-rails-4\" rel=\"nofollow\">Here</a> is how to remove it.</p>\n\n<p>Hopefully this'll save you some time and banging your head against the wall.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>If javascript modifies DOM in page A, user navigates to page B and then hits back button to get back to the page A. All modifications to DOM of page A are lost and user is presented with version that was originally retrieved from the server.</p>\n\n<p>It works that way on stackoverflow, reddit and many other popular websites. (try to add test comment to this question, then navigate to different page and hit back button to come back - your comment will be \"gone\")</p>\n\n<p>This makes sense, yet some websites (apple.com, basecamphq.com etc) are somehow forcing browser to serve user the latest state of the page. (go to <a href=\"http://www.apple.com/ca/search/?q=ipod\">http://www.apple.com/ca/search/?q=ipod</a>, click on say Downloads link at the top and then click back button - all DOM updates will be preserved)</p>\n\n<p>where is the inconsistency coming from?</p>\n",
            "last_activity_date": 1411827301,
            "question_id": 1195440,
            "score": 85,
            "tags": [
                "javascript",
                "ajax",
                "firefox"
            ],
            "title": "Ajax, back button and DOM updates"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>As of jQuery 1.2.6 you can use one of the core <a href=\"http://api.jquery.com/category/css/\" rel=\"nofollow\">CSS functions</a>, <code>height</code> and <code>width</code> (or <code>outerHeight</code> and <code>outerWidth</code>, as appropriate).</p>\n\n<pre><code>var height = $(\"#myDiv\").height();\nvar width = $(\"#myDiv\").width();\n\nvar docHeight = $(document).height();\nvar docWidth = $(document).width();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>You should use the <code>.offsetWidth</code> and <code>.offsetHeight</code> properties.\nNote they belong to the element, not <code>.style</code>.</p>\n\n<p><code>var width = document.getElementById('foo').offsetWidth;</code></p>\n",
                    "is_accepted": true,
                    "score": 269
                },
                {
                    "body": "<p>element.offsetWidth and element.offsetHeight should do, as suggested in previous post. </p>\n\n<p>However, if you just want to center the content, there is a better way of doing so. Assuming you use xhtml strict DOCTYPE. set the margin:0,auto property and required width in px to the body tag. The content gets center aligned to the page.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You only need to calculate it for IE7 and older (and only if your content doesn't have fixed size). I suggest using HTML conditional comments to limit hack to old IEs that don't support CSS2. For all other browsers use this:</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n    html,body {display:table; height:100%;width:100%;margin:0;padding:0;}\n    body {display:table-cell; vertical-align:middle;}\n    div {display:table; margin:0 auto; background:red;}\n&lt;/style&gt;\n&lt;body&gt;&lt;div&gt;test&lt;br&gt;test&lt;/div&gt;&lt;/body&gt;\n</code></pre>\n\n<p>This is the perfect solution. It centers <code>&lt;div&gt;</code> of any size, and shrink-wraps it to size of its content. </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>also you can use this code:</p>\n\n<pre><code>var divID = document.getElementById(\"divid\");\n\nvar h = divID.style.pixelHeight;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>... seems CSS help to put div on center ...</p>\n\n<pre><code>&lt;style&gt;\n .monitor {\n position:fixed;/* ... absolute possible if on :root */\n top:0;bottom:0;right:0;left:0;\n visibility:hidden;\n }\n .wrapper {\n width:200px;/* this is size range */\n height:100px;\n position:absolute;\n left:50%;top:50%;\n visibility:hidden;\n }\n\n .content {\n position:absolute;\n width: 100%;height:100%;\n left:-50%;top:-50%;\n visibility:visible;\n }\n\n&lt;/style&gt;\n\n &lt;div class=\"monitor\"&gt;\n  &lt;div class=\"wrapper\"&gt;\n   &lt;div class=\"content\"&gt;\n\n ... so you hav div 200px*100px on center ...\n\n  &lt;/div&gt;\n &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If offsetWidth returns 0, you can get element's style width property and search it for a number. \"100px\" -> 100</p>\n\n<p>/\\d*/.exec(MyElement.style.width)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Suppose that I have a <code>&lt;div&gt;</code> that I wish to center in the browser's display (viewport). To do so, I need to calculate the width and height of the <code>&lt;div&gt;</code> element. What should I use for maximum browser compatibility? Looking for a solution that works on IE6+, FF2+, Opera and Webkit-based browsers (Safari 3+, Google Chrome).</p>\n",
            "last_activity_date": 1425478350,
            "question_id": 294250,
            "score": 167,
            "tags": [
                "javascript",
                "html",
                "xhtml",
                "dhtml"
            ],
            "title": "How do I retrieve an HTML element&#39;s actual width and height?"
        },
        {
            "answer_count": 13,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>...but the form is not submitted with\n  any of the POST data it is supposed to\n  include.</p>\n</blockquote>\n\n<p>Correct. Disabled form element names/values will not be sent to the server. You should set them as <em>readonly</em> elements.</p>\n\n<p>Also, anchors cannot be disabled like that. You will need to either remove their HREFs (not recommended) or prevent their default behaviour (better way), e.g.:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n    $(\"form#my_form\").submit(function(){\n      $('input').attr('readonly', true);\n      $('input[type=submit]').attr(\"disabled\", \"disabled\");\n      $('a').unbind(\"click\").click(function(e) {\n          e.preventDefault();\n          // or return false;\n      });\n    });\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I think that your problem is this line:</p>\n\n<pre><code>$('input').attr('disabled','disabled');\n</code></pre>\n\n<p>You're disabling ALL the inputs, including, I'd guess, the ones whose data the form is supposed to submit. </p>\n\n<p>To disable just the submit button(s), you <strong>could</strong> do this:</p>\n\n<pre><code>$('button[type=submit], input[type=submit]').attr('disabled',true);\n</code></pre>\n\n<p>However, I don't think IE will submit the form if even those buttons are disabled. I'd suggest a different approach.</p>\n\n<h2>A jQuery plugin to solve it</h2>\n\n<p>We just solved this problem with the following code. The trick here is using jQuery's <code>data()</code> to mark the form as already submitted or not. That way, we don't have to mess with the submit buttons, which freaks IE out.</p>\n\n<pre><code>// jQuery plugin to prevent double submission of forms\njQuery.fn.preventDoubleSubmission = function() {\n  $(this).on('submit',function(e){\n    var $form = $(this);\n\n    if ($form.data('submitted') === true) {\n      // Previously submitted - don't submit again\n      e.preventDefault();\n    } else {\n      // Mark it so that the next submit can be ignored\n      $form.data('submitted', true);\n    }\n  });\n\n  // Keep chainability\n  return this;\n};\n</code></pre>\n\n<p>Use it like this:</p>\n\n<pre><code>$('form').preventDoubleSubmission();\n</code></pre>\n\n<p>If there are AJAX forms that <strong>should</strong> be allowed to submit multiple times per page load, you can give them a class indicating that, then exclude them from your selector like this:</p>\n\n<pre><code>$('form:not(.js-allow-double-submission)').preventDoubleSubmission();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 125
                },
                {
                    "body": "<p>I solved a very similar issue using:</p>\n\n<pre><code>$(\"#my_form\").submit(function(){\n    $('input[type=submit]').click(function(event){\n        event.preventDefault();\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>There is a possibility to improve Nathan Long's <a href=\"http://stackoverflow.com/questions/2830542/prevent-double-submission-of-forms-in-jquery/4473801#4473801\">approach</a>.\nYou can replace the logic for detection of already submitted form with this one:</p>\n\n<pre><code>var lastTime = $(this).data(\"lastSubmitTime\");\nif (lastTime &amp;&amp; typeof lastTime === \"object\") {\n    var now = new Date();\n    if ((now - lastTime) &gt; 2000) // 2000ms\n        return true;\n    else\n        return false;\n}\n$(this).data(\"lastSubmitTime\", new Date());\nreturn true; // or do an ajax call or smth else\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I ended up using ideas from this post to come up with a solution that is pretty similar to AtZako's version.</p>\n\n<pre><code> jQuery.fn.preventDoubleSubmission = function() {\n\n    var last_clicked, time_since_clicked;\n\n    $(this).bind('submit', function(event){\n\n    if(last_clicked) \n      time_since_clicked = event.timeStamp - last_clicked;\n\n    last_clicked = event.timeStamp;\n\n    if(time_since_clicked &lt; 2000)\n      return false;\n\n    return true;\n  });   \n};\n</code></pre>\n\n<p>Using like this: </p>\n\n<pre><code>$('#my-form').preventDoubleSubmission();\n</code></pre>\n\n<p>I found that the solutions that didn't include some kind of timeout but just disabled submission or disabled form elements caused problems because once the lock-out is triggered you can't submit again until you refresh the page.  That causes some problems for me when doing ajax stuff.</p>\n\n<p>This can probably be prettied up a bit as its not that fancy.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Timing approach is wrong - how do you know how long the action will take on client's browser?</p>\n\n<h1>How to do it</h1>\n\n<pre><code>$('form').submit(function(){\n  $(this).find(':submit').attr('disabled','disabled');\n});\n</code></pre>\n\n<p>When form is submitted it will disable all submit buttons inside.</p>\n\n<p>Remember, in Firefox when you disable a button this state will be remembered when you go back in history. To prevent that you have to enable buttons on page load, for example.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p><code>event.timeStamp</code> doesn't work in Firefox. Returning false is non-standard, you should call <code>event.preventDefault()</code>. And while we're at it, <a href=\"http://programmers.stackexchange.com/questions/16528/single-statement-if-block-braces-or-no\"><em>always</em> use braces with a control construct</a>. </p>\n\n<p>To sum up all of the previous answers, here is a plugin that does the job and works cross-browser. </p>\n\n<pre><code>jQuery.fn.preventDoubleSubmission = function() {\n\n    var last_clicked, time_since_clicked;\n\n    jQuery(this).bind('submit', function(event) {\n\n        if(last_clicked) {\n            time_since_clicked = jQuery.now() - last_clicked;\n        }\n\n        last_clicked = jQuery.now();\n\n        if(time_since_clicked &lt; 2000) {\n            // Blocking form submit because it was too soon after the last submit.\n            event.preventDefault();\n        }\n\n        return true;\n    });\n};\n</code></pre>\n\n<p>To address Kern3l, the timing method works for me simply because we're trying to stop a double-click of the submit button. If you have a very long response time to a submission, I recommend replacing the submit button or form with a spinner.</p>\n\n<p>Completely blocking subsequent submissions of the form, as most of the above examples do, has one bad side-effect: if there is a network failure and they want to try to resubmit, they would be unable to do so and would lose the changes they made. This would definitely make an angry user.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If using <strong>AJAX</strong> to post a form, set <code>async: false</code> should prevent additional submits before the form clears:</p>\n\n<pre><code>$(\"#form\").submit(function(){\n    var one = $(\"#one\").val();\n    var two = $(\"#two\").val();\n    $.ajax({\n      type: \"POST\",\n      async: false,  // &lt;------ Will complete submit before allowing further action\n      url: \"process.php\",\n      data: \"one=\"+one+\"&amp;two=\"+two+\"&amp;add=true\",\n      success: function(result){\n        console.log(result);\n        // do something with result\n      },\n      error: function(){alert('Error!')}\n    });\n    return false;\n   }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>this code will display loading on the button label, and set button to</p>\n\n<p>disable state, then after processing, re-enable and return back the original button text**</p>\n\n<pre><code>$(function () {\n\n    $(\".btn-Loading\").each(function (idx, elm) {\n        $(elm).click(function () {\n            //do processing\n            if ($(\".input-validation-error\").length &gt; 0)\n                return;\n            $(this).attr(\"label\", $(this).text()).text(\"loading ....\");\n            $(this).delay(1000).animate({ disabled: true }, 1000, function () {\n                //original event call\n                $.when($(elm).delay(1000).one(\"click\")).done(function () {\n                    $(this).animate({ disabled: false }, 1000, function () {\n                        $(this).text($(this).attr(\"label\"));\n                    })\n                });\n                //processing finalized\n            });\n        });\n    });\n    // and fire it after definition\n}\n</code></pre>\n\n<p>);</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use jQuery live event to submit your form:</p>\n\n<pre><code>$(\"#submitForm\").live('click', function () { \n    $(\"#commentform\").submit();\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Modified Nathan's solution a little for Bootstrap 3. This will set a loading text to the submit button. In addition it will timeout after 30 seconds and allow the form to be resubmitted.</p>\n\n<pre><code>jQuery.fn.preventDoubleSubmission = function() {\n  $('input[type=\"submit\"]').data('loading-text', 'Loading...');\n\n  $(this).on('submit',function(e){\n    var $form = $(this);\n\n    $('input[type=\"submit\"]', $form).button('loading');\n\n    if ($form.data('submitted') === true) {\n      // Previously submitted - don't submit again\n      e.preventDefault();\n    } else {\n      // Mark it so that the next submit can be ignored\n      $form.data('submitted', true);\n      $form.setFormTimeout();\n    }\n  });\n\n  // Keep chainability\n  return this;\n};\n\njQuery.fn.setFormTimeout = function() {\n  var $form = $(this);\n  setTimeout(function() {\n    $('input[type=\"submit\"]', $form).button('reset');\n    alert('Form failed to submit within 30 seconds');\n  }, 30000);\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think Nathan Long's answer is the way to go. For me, I am using client-side validation, so I just added a condition that the form be valid.</p>\n\n<p><strong>EDIT</strong>: If this is not added, the user will never be able to submit the form if the client-side validation encounters an error.</p>\n\n<pre><code>        // jQuery plugin to prevent double submission of forms\n        jQuery.fn.preventDoubleSubmission = function () {\n            $(this).on('submit', function (e) {\n                var $form = $(this);\n\n                if ($form.data('submitted') === true) {\n                    // Previously submitted - don't submit again\n                    alert('Form already submitted. Please wait.');\n                    e.preventDefault();\n                } else {\n                    // Mark it so that the next submit can be ignored\n                    // ADDED requirement that form be valid\n                    if($form.valid()) {\n                        $form.data('submitted', true);\n                    }\n                }\n            });\n\n            // Keep chainability\n            return this;\n        };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Please, check out <a href=\"https://github.com/caxap/jquery-safeform\" rel=\"nofollow\">jquery-safeform</a> plugin. </p>\n\n<p>Usage example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$('.safeform').safeform({\n    timeout: 5000,  // disable next submission for 5 sec\n    submit: function() {\n        // You can put validation and ajax stuff here...\n\n        // When done no need to wait for timeout, re-enable the form ASAP\n        $(this).safeform('complete');\n        return false;\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have a form that takes a little while for the server to process. I need to ensure that the user waits and does not attempt to resubmit the form by clicking the button again. I tried using the following jQuery code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n    $(\"form#my_form\").submit(function() {\n        $('input').attr('disabled', 'disabled');\n        $('a').attr('disabled', 'disabled');\n        return true;\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>When I try this in Firefox everything gets disabled but the form is not submitted with any of the POST data it is supposed to include. I can't use jQuery to submit the form because I need the button to be submitted with the form as there are multiple submit buttons and I determine which was used by which one's value is included in the POST. I need the form to be submitted as it usually is and I need to disable everything right after that happens.</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1423754972,
            "question_id": 2830542,
            "score": 52,
            "tags": [
                "javascript",
                "jquery",
                "html-form",
                "double-submit-prevention",
                "html-form-post"
            ],
            "title": "Prevent double submission of forms in jQuery"
        },
        {
            "answer_count": 23,
            "answers": [
                {
                    "body": "<p>A Google search turned up <a href=\"http://codeaid.net/javascript/convert-seconds-to-hours-minutes-and-seconds-%28javascript%29\">this result</a>:</p>\n\n<pre><code>function secondsToTime(secs)\n{\n    secs = Math.round(secs);\n    var hours = Math.floor(secs / (60 * 60));\n\n    var divisor_for_minutes = secs % (60 * 60);\n    var minutes = Math.floor(divisor_for_minutes / 60);\n\n    var divisor_for_seconds = divisor_for_minutes % 60;\n    var seconds = Math.ceil(divisor_for_seconds);\n\n    var obj = {\n        \"h\": hours,\n        \"m\": minutes,\n        \"s\": seconds\n    };\n    return obj;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<pre><code>String.prototype.toHHMMSS = function () {\n    var sec_num = parseInt(this, 10); // don't forget the second param\n    var hours   = Math.floor(sec_num / 3600);\n    var minutes = Math.floor((sec_num - (hours * 3600)) / 60);\n    var seconds = sec_num - (hours * 3600) - (minutes * 60);\n\n    if (hours   &lt; 10) {hours   = \"0\"+hours;}\n    if (minutes &lt; 10) {minutes = \"0\"+minutes;}\n    if (seconds &lt; 10) {seconds = \"0\"+seconds;}\n    var time    = hours+':'+minutes+':'+seconds;\n    return time;\n}\n</code></pre>\n\n<p>You can use it now like:</p>\n\n<pre><code>alert(\"5678\".toHHMMSS());\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 194
                },
                {
                    "body": "<p>I recommend ordinary javascript, using the Date object:</p>\n\n<pre><code>var seconds = 9999;\n// multiply by 1000 because Date() requires miliseconds\nvar date = new Date(seconds * 1000);\nvar hh = date.getUTCHours();\nvar mm = date.getUTCMinutes();\nvar ss = date.getSeconds();\n// If you were building a timestamp instead of a duration, you would uncomment the following line to get 12-hour (not 24) time\n// if (hh &gt; 12) {hh = hh % 12;}\n// These lines ensure you have two-digits\nif (hh &lt; 10) {hh = \"0\"+hh;}\nif (mm &lt; 10) {mm = \"0\"+mm;}\nif (ss &lt; 10) {ss = \"0\"+ss;}\n// This formats your string to HH:MM:SS\nvar t = hh+\":\"+mm+\":\"+ss;\ndocument.write(t);\n</code></pre>\n\n<p>(Of course, the Date object created will have an actual date associated with it, but that data is extraneous, so for these purposes, you don't have to worry about it.)</p>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>Variation on a theme. Handles single digit seconds a little differently</p>\n\n<pre><code>seconds2time(0)  -&gt;  \"0s\" \nseconds2time(59) -&gt; \"59s\" \nseconds2time(60) -&gt; \"1:00\" \nseconds2time(1000) -&gt; \"16:40\" \nseconds2time(4000) -&gt; \"1:06:40\"\n\nfunction seconds2time (seconds) {\n    var hours   = Math.floor(seconds / 3600);\n    var minutes = Math.floor((seconds - (hours * 3600)) / 60);\n    var seconds = seconds - (hours * 3600) - (minutes * 60);\n    var time = \"\";\n\n    if (hours != 0) {\n      time = hours+\":\";\n    }\n    if (minutes != 0 || time !== \"\") {\n      minutes = (minutes &lt; 10 &amp;&amp; time !== \"\") ? \"0\"+minutes : String(minutes);\n      time += minutes+\":\";\n    }\n    if (time === \"\") {\n      time = seconds+\"s\";\n    }\n    else {\n      time += (seconds &lt; 10) ? \"0\"+seconds : String(seconds);\n    }\n    return time;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>A regular expression can be used to match the time substring in the string returned from the <code>toString()</code> method of the Date object, which is formatted as follows: \"Thu Jul 05 2012 02:45:12 GMT+0100 (GMT Daylight Time)\". Note that this solution uses the time since the epoch: midnight of January 1, 1970. This solution can be a one-liner, though splitting it up makes it much easier to understand.</p>\n\n<pre><code>function secondsToTime(seconds) {\n    var start = new Date(1970, 1, 1, 0, 0, 0, 0).getTime();\n    var end = new Date(1970, 1, 1, 0, 0, parseInt(seconds), 0).getTime();\n    var duration = end - start;\n\n    return new Date(duration).toString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, \"$1\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>To get the time part in the format <code>hh:MM:ss</code>, you can use this regular expression:</p>\n\n<pre><code>var myDate = new Date().toTimeString().replace(/.*(\\d{2}:\\d{2}:\\d{2}).*/, \"$1\");\n</code></pre>\n\n<p><em>(This was mentioned above in same post by someone, thanks for that.)</em></p>\n",
                    "is_accepted": false,
                    "score": 43
                },
                {
                    "body": "<p>I like the first answer.\nSome optimizations for him:</p>\n\n<ul>\n<li>source data is a number, there is no need to recalculate.</li>\n<li>much excess computing</li>\n</ul>\n\n<p>Result code:</p>\n\n<pre><code>Number.prototype.toHHMMSS = function () {\n    var seconds = Math.floor(this),\n        hours = Math.floor(seconds / 3600);\n    seconds -= hours*3600;\n    var minutes = Math.floor(seconds / 60);\n    seconds -= minutes*60;\n\n    if (hours   &lt; 10) {hours   = \"0\"+hours;}\n    if (minutes &lt; 10) {minutes = \"0\"+minutes;}\n    if (seconds &lt; 10) {seconds = \"0\"+seconds;}\n    return hours+':'+minutes+':'+seconds;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Here is yet another version, which handles days also:</p>\n\n<pre><code>function FormatSecondsAsDurationString( seconds )\n{\n    var s = \"\";\n\n    var days = Math.floor( ( seconds / 3600 ) / 24 );\n    if ( days &gt;= 1 )\n    {\n        s += days.toString() + \" day\" + ( ( days == 1 ) ? \"\" : \"s\" ) + \" + \";\n        seconds -= days * 24 * 3600;\n    }\n\n    var hours = Math.floor( seconds / 3600 );\n    s += GetPaddedIntString( hours.toString(), 2 ) + \":\";\n    seconds -= hours * 3600;\n\n    var minutes = Math.floor( seconds / 60 );\n    s += GetPaddedIntString( minutes.toString(), 2 ) + \":\";\n    seconds -= minutes * 60;\n\n    s += GetPaddedIntString( Math.floor( seconds ).toString(), 2 );\n\n    return s;\n}\n\nfunction GetPaddedIntString( n, numDigits )\n{\n    var nPadded = n;\n    for ( ; nPadded.length &lt; numDigits ; )\n    {\n        nPadded = \"0\" + nPadded;\n    }\n\n    return nPadded;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is how i did it</p>\n\n<pre><code>function timeFromSecs(seconds)\n{\n    return(\n    Math.floor(seconds/86400)+'d :'+\n    Math.floor(((seconds/86400)%1)*24)+'h : '+\n    Math.floor(((seconds/3600)%1)*60)+'m : '+\n    Math.round(((seconds/60)%1)*60)+'s');\n}\n</code></pre>\n\n<p>timeFromSecs(22341938) will return '258d 14h 5m 38s'</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>using the amazing moment.js library</p>\n\n<pre><code>function humanizeDuration(input, units ) { \n  // units is a string with possible values of y, M, w, d, h, m, s, ms\n  var duration = moment().startOf('day').add(units, input),\n    format = \"\";\n\n  if(duration.hour() &gt; 0){ format += \"H [hours] \"; }\n\n  if(duration.minute() &gt; 0){ format += \"m [minutes] \"; }\n\n  format += \" s [seconds]\";\n\n  return duration.format(format);\n}\n</code></pre>\n\n<p>This allows you to specify any duration  be it hours, minutes,  seconds , mills, and returns a human readable version</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><code>new Date().toString().split(\" \")[4];</code></p>\n\n<p>result <code>15:08:03</code></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As I am dissatisfied with the coding approach of the custom solutions presented here, I created a utility function myself called <a href=\"https://gist.github.com/betamos/6306412\" rel=\"nofollow\">readableDuration</a>. It is adapted for milliseconds which is kind of the standard time unit in JS, but you could easily convert from seconds like this:</p>\n\n<pre><code>var s = 3808; // Time in seconds\nvar str = readableDuration(s * 1000); // \"1h 3m 28s\"\n</code></pre>\n\n<p>Edit: I just proof-read and realized that OP wanted \"hh:mm:ss\" format badly, so <a href=\"https://gist.github.com/betamos/6306791\" rel=\"nofollow\">I tweaked it</a>. It has the format of \"h+:mm:ss\" since hours can be more than 2 digits, so that made more sense:</p>\n\n<pre><code>var str = readableDuration(3808); // \"1:03:28\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I'd upvote artem's answer, but I am a new poster.  I did expand on his solution, though not what the OP asked for as follows</p>\n\n<pre><code>    t=(new Date()).toString().split(\" \");\n    timestring = (t[2]+t[1]+' &lt;b&gt;'+t[4]+'&lt;/b&gt; '+t[6][1]+t[7][0]+t[8][0]);\n</code></pre>\n\n<p>To get</p>\n\n<p>04Oct <strong>16:31:28</strong> PDT</p>\n\n<p>This works for me...</p>\n\n<p>But if you are starting with just a time quantity, I use two functions; one to format and pad, and one to calculate:</p>\n\n<pre><code>function sec2hms(timect){\n\n  if(timect=== undefined||timect==0||timect === null){return ''};\n  //timect is seconds, NOT milliseconds\n  var se=timect % 60; //the remainder after div by 60\n  timect = Math.floor(timect/60);\n  var mi=timect % 60; //the remainder after div by 60\n  timect = Math.floor(timect/60);\n  var hr = timect % 24; //the remainder after div by 24\n  var dy = Math.floor(timect/24);\n  return padify (se, mi, hr, dy);\n}\n\nfunction padify (se, mi, hr, dy){\n  hr = hr&lt;10?\"0\"+hr:hr;\n  mi = mi&lt;10?\"0\"+mi:mi;\n  se = se&lt;10?\"0\"+se:se;\n  dy = dy&gt;0?dy+\"d \":\"\";\n  return dy+hr+\":\"+mi+\":\"+se;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>s2t=function (t){\n  return parseInt(t/86400)+'d '+(new Date(t%86400*1000)).toUTCString().replace(/.*(\\d{2}):(\\d{2}):(\\d{2}).*/, \"$1h $2m $3s\");\n}\n\ns2t(123456);\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>1d 10h 17m 36s\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you know the number of seconds you have, this will work. It also uses the native Date() object.</p>\n\n<pre><code>function formattime(numberofseconds){    \n    var zero = '0', hours, minutes, seconds, time;\n\n    time = new Date(0, 0, 0, 0, 0, numberofseconds, 0);\n\n    hh = time.getHours();\n    mm = time.getMinutes();\n    ss = time.getSeconds() \n\n    // Pad zero values to 00\n    hh = (zero+hh).slice(-2);\n    mm = (zero+mm).slice(-2);\n    ss = (zero+ss).slice(-2);\n\n    time = hh + ':' + mm + ':' + ss;\n    return time; \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think performance wise this is by far the fastest:</p>\n\n<pre><code>var t = 34236; // your seconds\nvar time = ('0'+Math.floor(t/3600) % 24).slice(-2)+':'+('0'+Math.floor(t/60)%60).slice(-2)+':'+('0' + t % 60).slice(-2)\n//would output: 09:30:36\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's how I did it.  It seems to work fairly well, and it's extremely compact.  (It uses a lot of ternary operators, though)</p>\n\n<pre><code>function formatTime(seconds) {\n  var hh = Math.floor(seconds / 3600),\n    mm = Math.floor(seconds / 60) % 60,\n    ss = Math.floor(seconds) % 60;\n  return (hh ? (hh &lt; 10 ? \"0\" : \"\") + hh + \":\" : \"\") + ((mm &lt; 10) &amp;&amp; hh ? \"0\" : \"\") + mm + \":\" + (ss &lt; 10 ? \"0\" : \"\") + ss\n}\n</code></pre>\n\n<p>...and for formatting strings...</p>\n\n<pre><code>String.prototype.toHHMMSS = function() {\n  formatTime(parseInt(this, 10))\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>function toHHMMSS(seconds) {\n    var h, m, s, result='';\n    // HOURs\n    h = Math.floor(seconds/3600);\n    seconds -= h*3600;\n    if(h){\n        result = h&lt;10 ? '0'+h+':' : h+':';\n    }\n    // MINUTEs\n    m = Math.floor(seconds/60);\n    seconds -= m*60;\n    result += m&lt;10 ? '0'+m+':' : m+':';\n    // SECONDs\n    s=seconds%60;\n    result += s&lt;10 ? '0'+s : s;\n    return result;\n}\n</code></pre>\n\n<p>Examples</p>\n\n<pre>\n    toHHMMSS(111); \n    \"01:51\"\n\n    toHHMMSS(4444);\n    \"01:14:04\"\n\n    toHHMMSS(33);\n    \"00:33\"\n</pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can manage to do this without any external JS library with the help of JS Date method like following:</p>\n\n<pre><code>    var date = new Date(null);\n    date.setSeconds(SECONDS); // specify value for SECONDS here\n    date.toISOString().substr(11, 8);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Milliseconds to duration, the simple way:</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>// To have leading zero digits in strings.\nfunction pad(num, size) {\n    var s = num + \"\";\n    while (s.length &lt; size) s = \"0\" + s;\n    return s;\n}\n\n// ms to time/duration\nmsToDuration = function(ms){\n    var seconds = ms / 1000;\n    var hh = Math.floor(seconds / 3600),\n    mm = Math.floor(seconds / 60) % 60,\n    ss = Math.floor(seconds) % 60,\n    mss = ms % 1000;\n    return pad(hh,2)+':'+pad(mm,2)+':'+pad(ss,2)+'.'+pad(mss,3);\n}\n</code></pre>\n\n<p>It converts <code>327577</code> to <code>00:05:27.577</code>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Non-prototype version of toHHMMSS:</p>\n\n<pre><code>    function toHHMMSS(seconds) {\n        var sec_num = parseInt(seconds);\n        var hours   = Math.floor(sec_num / 3600);\n        var minutes = Math.floor((sec_num - (hours * 3600)) / 60);\n        var seconds = sec_num - (hours * 3600) - (minutes * 60);        \n        if (hours   &lt; 10) {hours   = \"0\"+hours;}\n        if (minutes &lt; 10) {minutes = \"0\"+minutes;}\n        if (seconds &lt; 10) {seconds = \"0\"+seconds;}\n        var time    = hours+':'+minutes+':'+seconds;\n        return time;\n    }   \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I loved Powtac's answer, but I wanted to use it in Angular, so I created a filter using his code. </p>\n\n<pre><code>.filter('HHMMSS', ['$filter', function ($filter) {\n    return function (input, decimals) {\n        var sec_num = parseInt(input, 10),\n            decimal = parseFloat(input) - sec_num,\n            hours   = Math.floor(sec_num / 3600),\n            minutes = Math.floor((sec_num - (hours * 3600)) / 60),\n            seconds = sec_num - (hours * 3600) - (minutes * 60);\n\n        if (hours   &lt; 10) {hours   = \"0\"+hours;}\n        if (minutes &lt; 10) {minutes = \"0\"+minutes;}\n        if (seconds &lt; 10) {seconds = \"0\"+seconds;}\n        var time    = hours+':'+minutes+':'+seconds;\n        if (decimals &gt; 0) {\n            time += '.' + $filter('number')(decimal, decimals).substr(2);\n        }\n        return time;\n    };\n}])\n</code></pre>\n\n<p>It's functionally identical, except that I added in an optional decimals field to display fractional seconds. Use it like you would any other filter:</p>\n\n<p><code>{{ elapsedTime | HHMMSS }}</code> <strong>displays:</strong> <code>01:23:45</code></p>\n\n<p><code>{{ elapsedTime | HHMMSS : 3 }}</code> <strong>displays:</strong> <code>01:23:45.678</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I liked Webjins answer the most, so i extended it to display days with a d suffix, made display conditional and included a s suffix on plain seconds:</p>\n\n<pre><code>function sec2str(t){\n    var d = (Math.floor(t/86400) % 24),\n        h = ('0'+Math.floor(t/3600) % 24).slice(-2),\n        m = ('0'+Math.floor(t/60)%60).slice(-2),\n        s = ('0' + t % 60).slice(-2);\n    return (d&gt;0?d+'d ':'')+(h&gt;0?h+':':'')+(m&gt;0?m+':':'')+(t&gt;60?s:s+'s');\n}\n</code></pre>\n\n<p>returns \"3d 16:32:12\" or \"16:32:12\" or \"32:12\" or \"12s\"</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to convert a duration of time, i.e., number of seconds to colon-separated time string (hh:mm:ss)</p>\n\n<p>I found some useful answers here but they all talk about converting to x hours and x minutes format.</p>\n\n<p>So is there a tiny snippet that does this in jQuery or just raw JavaScript?</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1423869852,
            "question_id": 6312993,
            "score": 91,
            "tags": [
                "javascript",
                "time"
            ],
            "title": "JavaScript seconds to time string with format hh:mm:ss"
        },
        {
            "answer_count": 16,
            "answers": [
                {
                    "body": "<p>It's possible with the use of Brandon Aaron's <a href=\"http://brandonaaron.net/code/mousewheel/docs\">Mousewheel plugin</a>.</p>\n\n<p>Here's a demo: <a href=\"http://jsbin.com/ixura3/3\">http://jsbin.com/ixura3/3</a></p>\n",
                    "is_accepted": true,
                    "score": 32
                },
                {
                    "body": "<p>For those using MooTools, here is equivalent code:</p>\n\n<pre><code>            'mousewheel': function(event){\n            var height = this.getSize().y;\n            height -= 2;    // Not sure why I need this bodge\n            if ((this.scrollTop === (this.scrollHeight - height) &amp;&amp; event.wheel &lt; 0) || \n                (this.scrollTop === 0 &amp;&amp; event.wheel &gt; 0)) {\n                event.preventDefault();\n            }\n</code></pre>\n\n<p>Bear in mind that I, like some others, had to tweak a value by a couple of px, that is what the height -= 2 is for.</p>\n\n<p>Basically the main difference is that in MooTools, the delta info comes from event.wheel instead of an extra parameter passed to the event.</p>\n\n<p>Also, I had problems if I bound this code to anything (event.target.scrollHeight for a bound function does not equal this.scrollHeight for a non-bound one)</p>\n\n<p>Hope this helps someone as much as this post helped me ;)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I know it's quite an old question, but since this is one of top results in google... I had to somehow cancel scroll bubbling without jQuery and this code works for me:</p>\n\n<pre><code>function preventDefault(e) {\n  e = e || window.event;\n  if (e.preventDefault)\n    e.preventDefault();\n  e.returnValue = false;  \n}\n\ndocument.getElementById('a').onmousewheel = function(e) { \n  document.getElementById('a').scrollTop -= e. wheelDeltaY; \n  preventDefault(e);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>You can try it this way:</p>\n\n<pre><code>$('#element').on('shown', function(){ \n   $('body').css('overflow-y', 'hidden');\n   $('body').css('margin-left', '-17px');\n});\n\n$('#element').on('hide', function(){ \n   $('body').css('overflow-y', 'scroll');\n   $('body').css('margin-left', '0px');\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>my jQuery plugin:</p>\n\n<pre><code>$('.child').dontScrollParent();\n\n$.fn.dontScrollParent = function()\n{\n    this.bind('mousewheel DOMMouseScroll',function(e)\n    {\n        var delta = e.originalEvent.wheelDelta || -e.originalEvent.detail;\n\n        if (delta &gt; 0 &amp;&amp; $(this).scrollTop() &lt;= 0)\n            return false;\n        if (delta &lt; 0 &amp;&amp; $(this).scrollTop() &gt;= this.scrollHeight - $(this).height())\n            return false;\n\n        return true;\n    });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>amustill's answer as a knockout handler:</p>\n\n<pre><code>ko.bindingHandlers.preventParentScroll = {\n    init: function (element, valueAccessor, allBindingsAccessor, context) {\n        $(element).mousewheel(function (e, d) {\n            var t = $(this);\n            if (d &gt; 0 &amp;&amp; t.scrollTop() === 0) {\n                e.preventDefault();\n            }\n            else {\n                if (d &lt; 0 &amp;&amp; (t.scrollTop() == t.get(0).scrollHeight - t.innerHeight())) {\n                    e.preventDefault();\n                }\n            }\n        });\n    }\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I hate necro posting but I was searching for this for MooTools and this was the first that came up.\nThe original MooTools example would work with scrolling up, but not scrolling down so I decided to write this one.</p>\n\n<ul>\n<li>MooTools 1.4.5: <a href=\"http://jsfiddle.net/3MzFJ/\" rel=\"nofollow\">http://jsfiddle.net/3MzFJ/</a></li>\n<li>MooTools 1.3.2: <a href=\"http://jsfiddle.net/VhnD4/\" rel=\"nofollow\">http://jsfiddle.net/VhnD4/</a></li>\n<li>MooTools 1.2.6: <a href=\"http://jsfiddle.net/xWrw4/\" rel=\"nofollow\">http://jsfiddle.net/xWrw4/</a></li>\n</ul>\n\n<hr>\n\n<pre><code>var stopScroll = function (e) {\n    var scrollTo = null;\n    if (e.event.type === 'mousewheel') {\n        scrollTo = (e.event.wheelDelta * -1);\n    } else if (e.event.type === 'DOMMouseScroll') {\n        scrollTo = 40 * e.event.detail;\n    }\n    if (scrollTo) {\n        e.preventDefault();\n        this.scrollTo(0, scrollTo + this.scrollTop);\n    }\n    return false;\n};\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>(function)($){\n    window.addEvent('domready', function(){\n        $$('.scrollable').addEvents({\n             'mousewheel': stopScroll,\n             'DOMMouseScroll': stopScroll\n        });\n    });\n})(document.id);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I am adding this answer for completeness because <strong>the accepted answer by @amustill does not correctly solve the problem in Internet Explorer</strong>. Please see the comments in <a href=\"http://stackoverflow.com/a/16324663/1454806\">my original post</a> for details. In addition, this solution does not require any plugins - only jQuery.</p>\n\n<p>In essence, the code works by handling the <code>mousewheel</code> event. Each such event contains a <code>wheelDelta</code> equal to the number of <code>px</code> which it is going to move the scrollable area to. If this value is <code>&gt;0</code>, then we are scrolling <code>up</code>. If the <code>wheelDelta</code> is <code>&lt;0</code> then we are scrolling <code>down</code>. </p>\n\n<p><strong>FireFox</strong>: FireFox uses <code>DOMMouseScroll</code> as the event, and populates <code>originalEvent.detail</code>, whose <code>+/-</code> is reversed from what is described above. It generally returns intervals of <code>3</code>, while other browsers return scrolling in intervals of <code>120</code> (at least on my machine). To correct, we simply detect it and multiply by <code>-40</code> to normalize.</p>\n\n<p><a href=\"http://stackoverflow.com/a/5802887/1454806\">@amustill's answer</a> works by canceling the event if the <code>&lt;div&gt;</code>'s scrollable area is already either at the top or the bottom maximum position. However, <em>Internet Explorer</em> disregards the canceled event in situations where the <code>delta</code> is larger than the remaining scrollable space.</p>\n\n<p>In other words, if you have a <code>200px</code> tall <code>&lt;div&gt;</code> containing <code>500px</code> of scrollable content, and the current <code>scrollTop</code> is <code>400</code>, a <code>mousewheel</code> event which tells the browser to scroll <code>120px</code> further will result in both the <code>&lt;div&gt;</code> and the <code>&lt;body&gt;</code> scrolling, because <code>400</code> + <code>120</code> > <code>500</code>.</p>\n\n<p>So - to solve the problem, we have to do something slightly different, as shown below:</p>\n\n<p>The requisite <code>jQuery</code> code is:</p>\n\n<pre><code>$(document).on('DOMMouseScroll mousewheel', '.Scrollable', function(ev) {\n    var $this = $(this),\n        scrollTop = this.scrollTop,\n        scrollHeight = this.scrollHeight,\n        height = $this.height(),\n        delta = (ev.type == 'DOMMouseScroll' ?\n            ev.originalEvent.detail * -40 :\n            ev.originalEvent.wheelDelta),\n        up = delta &gt; 0;\n\n    var prevent = function() {\n        ev.stopPropagation();\n        ev.preventDefault();\n        ev.returnValue = false;\n        return false;\n    }\n\n    if (!up &amp;&amp; -delta &gt; scrollHeight - height - scrollTop) {\n        // Scrolling down, but this will take us past the bottom.\n        $this.scrollTop(scrollHeight);\n        return prevent();\n    } else if (up &amp;&amp; delta &gt; scrollTop) {\n        // Scrolling up, but this will take us past the top.\n        $this.scrollTop(0);\n        return prevent();\n    }\n});\n</code></pre>\n\n<p>In essence, this code cancels any scrolling event which would create the unwanted edge condition, then uses jQuery to set the <code>scrollTop</code> of the <code>&lt;div&gt;</code> to either the maximum or minimum value, depending on which direction the <code>mousewheel</code> event was requesting.</p>\n\n<p>Because the event is canceled entirely in either case, it never propagates to the <code>body</code> at all, and therefore solves the issue in IE, as well as all of the other browsers.</p>\n\n<p>I have also put up a <a href=\"http://jsfiddle.net/TroyAlford/4wrxq/1/\">working example on jsFiddle</a>.</p>\n",
                    "is_accepted": false,
                    "score": 83
                },
                {
                    "body": "<p>Using native element scroll properties with the delta value from the mousewheel plugin:</p>\n\n<pre><code>$elem.on('mousewheel', function (e, delta) {\n    // Restricts mouse scrolling to the scrolling range of this element.\n    if (\n        this.scrollTop &lt; 1 &amp;&amp; delta &gt; 0 ||\n        (this.clientHeight + this.scrollTop) === this.scrollHeight &amp;&amp; delta &lt; 0\n    ) {\n        e.preventDefault();\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>For AngularJS, I defined the following directive:</p>\n\n<pre><code>module.directive('isolateScrolling', function () {\n  return {\n    restrict: 'A',\n    link: function (scope, element, attr) {\n      element.bind('mousewheel', function (e) {\n        if ((e.deltaY &gt; 0 &amp;&amp; this.clientHeight + this.scrollTop == this.scrollHeight) ||\n            (e.deltaY &lt; 0 &amp;&amp; this.scrollTop == 0)) {\n          e.stopPropagation();\n          e.preventDefault();\n          return false;\n        }\n\n        return true;\n      });\n    }\n  };\n});\n</code></pre>\n\n<p>And then added it to the scrollable element (the dropdown-menu ul):</p>\n\n<pre><code>&lt;div class=\"dropdown\"&gt;\n  &lt;button type=\"button\" class=\"btn dropdown-toggle\"&gt;Rename &lt;span class=\"caret\"&gt;&lt;/span&gt;&lt;/button&gt;\n  &lt;ul class=\"dropdown-menu\" isolate-scrolling&gt;\n    &lt;li ng-repeat=\"s in savedSettings | objectToArray | orderBy:'name' track by s.name\"&gt;\n      &lt;a ng-click=\"renameSettings(s.name)\"&gt;{{s.name}}&lt;/a&gt;\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Only tested on Chrome. There are probably some hacks required for differing event names and access to the element scroll position and mouse wheel delta on other browsers.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>jQuery plugin with emulate natural scrolling for Internet Explorer</p>\n\n<pre><code>  $.fn.mousewheelStopPropagation = function(options) {\n    options = $.extend({\n        // defaults\n        wheelstop: null // Function\n        }, options);\n\n    // Compatibilities\n    var isMsIE = ('Microsoft Internet Explorer' === navigator.appName);\n    var docElt = document.documentElement,\n        mousewheelEventName = 'mousewheel';\n    if('onmousewheel' in docElt) {\n        mousewheelEventName = 'mousewheel';\n    } else if('onwheel' in docElt) {\n        mousewheelEventName = 'wheel';\n    } else if('DOMMouseScroll' in docElt) {\n        mousewheelEventName = 'DOMMouseScroll';\n    }\n    if(!mousewheelEventName) { return this; }\n\n    function mousewheelPrevent(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if('function' === typeof options.wheelstop) {\n            options.wheelstop(event);\n        }\n    }\n\n    return this.each(function() {\n        var _this = this,\n            $this = $(_this);\n        $this.on(mousewheelEventName, function(event) {\n            var origiEvent = event.originalEvent;\n            var scrollTop = _this.scrollTop,\n                scrollMax = _this.scrollHeight - $this.outerHeight(),\n                delta = -origiEvent.wheelDelta;\n            if(isNaN(delta)) {\n                delta = origiEvent.deltaY;\n            }\n            var scrollUp = delta &lt; 0;\n            if((scrollUp &amp;&amp; scrollTop &lt;= 0) || (!scrollUp &amp;&amp; scrollTop &gt;= scrollMax)) {\n                mousewheelPrevent(event);\n            } else if(isMsIE) {\n                // Fix Internet Explorer and emulate natural scrolling\n                var animOpt = { duration:200, easing:'linear' };\n                if(scrollUp &amp;&amp; -delta &gt; scrollTop) {\n                    $this.stop(true).animate({ scrollTop:0 }, animOpt);\n                    mousewheelPrevent(event);\n                } else if(!scrollUp &amp;&amp; delta &gt; scrollMax - scrollTop) {\n                    $this.stop(true).animate({ scrollTop:scrollMax }, animOpt);\n                    mousewheelPrevent(event);\n                }\n            }\n        });\n    });\n};\n</code></pre>\n\n<p><a href=\"https://github.com/basselin/jquery-mousewheel-stop-propagation/blob/master/mousewheelStopPropagation.js\" rel=\"nofollow\">https://github.com/basselin/jquery-mousewheel-stop-propagation/blob/master/mousewheelStopPropagation.js</a></p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>The best solution I could find was listening to the scroll event on the window and set the scrollTop to the previous scrollTop if the child div was visible.</p>\n\n<pre><code>prevScrollPos = 0\n$(window).scroll (ev) -&gt;\n    if $('#mydiv').is(':visible')\n        document.body.scrollTop = prevScrollPos\n    else\n        prevScrollPos = document.body.scrollTop\n</code></pre>\n\n<p>There is a flicker in the background of the child div if you fire a lot of scroll events, so this could be tweaked, but it is hardly noticed and it was sufficient for my use case.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I have a similar situation and here's how i solved it:<br>\nAll my scrollable elements get the class <em>scrollable</em>.</p>\n\n<pre><code>$(document).on('wheel', '.scrollable', function(evt) {\n  var offsetTop = this.scrollTop + parseInt(evt.originalEvent.deltaY, 10);\n  var offsetBottom = this.scrollHeight - this.getBoundingClientRect().height - offsetTop;\n\n  if (offsetTop &lt; 0 || offsetBottom &lt; 0) {\n    evt.preventDefault();\n  } else {\n    evt.stopImmediatePropagation();\n  }\n});\n</code></pre>\n\n<p><em>stopImmediatePropagation()</em> makes sure not to scroll parent scrollable area from scrollable child area.</p>\n\n<p>Here's a vanilla JS implementation of it:\n<a href=\"http://jsbin.com/lugim/2/edit?js,output\" rel=\"nofollow\">http://jsbin.com/lugim/2/edit?js,output</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As variant, to avoid performance issues with <code>scroll</code> or <code>mousewheel</code> handling, you can use code like below:</p>\n\n<p>css:</p>\n\n<pre><code>body.noscroll {\n    overflow: hidden;\n}\n.scrollable {\n    max-height: 200px;\n    overflow-y: scroll;\n    border: 1px solid #ccc;\n}\n</code></pre>\n\n<p>html:</p>\n\n<pre><code>&lt;div class=\"scrollable\"&gt;\n...A bunch of items to make the div scroll...\n&lt;/div&gt;\n...A bunch of text to make the body scroll...\n</code></pre>\n\n<p>js:</p>\n\n<pre><code>var $document = $(document),\n    $body = $('body'),\n    $scrolable = $('.scrollable');\n\n$scrolable.on({\n          'mouseenter': function () {\n            // add hack class to prevent workspace scroll when scroll outside\n            $body.addClass('noscroll');\n          },\n          'mouseleave': function () {\n            // remove hack class to allow scroll\n            $body.removeClass('noscroll');\n          }\n        });\n</code></pre>\n\n<p>Example of work: <a href=\"http://jsbin.com/damuwinarata/4\" rel=\"nofollow\">http://jsbin.com/damuwinarata/4</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>In case someone is still looking for a solution for this, the following plugin does the job <a href=\"http://mohammadyounes.github.io/jquery-scrollLock/\" rel=\"nofollow\">http://mohammadyounes.github.io/jquery-scrollLock/</a></p>\n\n<p>It fully addresses the issue of locking mouse wheel scroll inside a given container, preventing it from propagating to parent element.</p>\n\n<p>It does not change wheel scrolling speed, user experience will not be affected. and you get the same behavior regardless of the OS mouse wheel vertical scrolling speed (On Windows it can be set to one screen or one line up to 100 lines per notch).</p>\n\n<p>Demo: <a href=\"http://mohammadyounes.github.io/jquery-scrollLock/example/\" rel=\"nofollow\">http://mohammadyounes.github.io/jquery-scrollLock/example/</a></p>\n\n<p>Source: <a href=\"https://github.com/MohammadYounes/jquery-scrollLock\" rel=\"nofollow\">https://github.com/MohammadYounes/jquery-scrollLock</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Angular's jQuery solution:</p>\n\n<pre><code>app.directive('preventScrollPropagation', function() {\n  return {\n    restrict: 'ACE',\n    link: function(scope, elem, attr) {\n      var bindFn = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        return false;\n      };\n      elem.on('mousewheel', bindFn);\n      scope.$on('$destroy', function() {\n        elem.off('mousewheel', bindFn);\n      });\n    }\n  };\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a little \"floating tool box\" - a div with <code>position:fixed; overflow:auto</code>.\nWorks just fine.</p>\n\n<p>But when scrolling inside that box (with the mouse wheel) and reaching the bottom OR top, the parent element \"takes over\" the \"scroll request\" : The document behind the tool box scrolls.<br>\n- Which is annoying and not what the user \"asked for\".</p>\n\n<p>I'm using jQuery and thoght I could stop this behaviour with event.stoppropagation():<br>\n<code>$(\"#toolBox\").scroll( function(event){ event.stoppropagation() });</code>  </p>\n\n<p>It does enter the function, but still, propagation happens anyway (the document scrolls)<br>\n- It's surprisingly hard to search for this topic on SO (and Google), so I have to ask:<br>\nHow to prevent propagation / bubbling of the scroll-event ?  </p>\n\n<p>Edit:<br>\nWorking solution thanks to amustill (and Brandon Aaron for the mousewheel-plugin here:<br>\n<a href=\"https://github.com/brandonaaron/jquery-mousewheel/raw/master/jquery.mousewheel.js\">https://github.com/brandonaaron/jquery-mousewheel/raw/master/jquery.mousewheel.js</a>  </p>\n\n<pre><code>$(\".ToolPage\").bind('mousewheel', function(e, d)  \n    var t = $(this);\n    if (d &gt; 0 &amp;&amp; t.scrollTop() === 0) {\n        e.preventDefault();\n    }\n    else {\n        if (d &lt; 0 &amp;&amp; (t.scrollTop() == t.get(0).scrollHeight - t.innerHeight())) {\n            e.preventDefault();\n        }\n    }\n});\n</code></pre>\n",
            "last_activity_date": 1415697560,
            "question_id": 5802467,
            "score": 86,
            "tags": [
                "javascript",
                "jquery",
                "scroll",
                "event-bubbling",
                "event-propagation"
            ],
            "title": "Prevent scrolling of parent element?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p><strong>Note from Michael 12/28/2011 - I have changed my accept from this (rubytheracer) to above (nodejs) as therubyracer has code size issues.  Heroku now strongly <a href=\"http://devcenter.heroku.com/articles/rails31_heroku_cedar#troubleshooting\">discourage it</a>.   It will 'work' but may have size/performance issues.</strong>  </p>\n\n<p>If you add a runtime, such as therubyracer to your Gemfile and run bundle then try and start the server it should work.</p>\n\n<pre><code>gem 'therubyracer'\n</code></pre>\n\n<p>A javascript runtime is required for compiling coffeescript and also for uglifier.</p>\n\n<p><strong>Update, 12/12/2011:</strong> Some folks found issues with rubytheracer (I think it was mostly code size).  They found execjs (or nodejs) worked just as well (if not better) and were much smaller.   </p>\n\n<p>n.b. Coffeescript became a standard for 3.1+</p>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<h2><strong>Installing a javascript runtime library such as nodejs solves this</strong></h2>\n\n<p>To install nodejs on ubuntu, you can type the following command in the terminal:</p>\n\n<pre><code>sudo apt-get install nodejs\n</code></pre>\n\n<p>To install nodejs on systems using yum, type the following in the terminal:</p>\n\n<pre><code>yum -y install nodejs\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 280
                },
                {
                    "body": "<p>I had this issue on a Windows machine and installing node.js was the solution that finally worked for me. This came after trying <strong>multiple</strong> other routes including trying to get 'therubyracer' working. Though the github for node.js suggests that installation on windows is still unstable, the website at <a href=\"http://nodejs.org/\" rel=\"nofollow\">http://nodejs.org/</a> had a Windows installer which worked perfectly.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Add following gems in your gem file</p>\n\n<pre><code>gem 'therubyracer'\ngem 'execjs'\n</code></pre>\n\n<p>and run</p>\n\n<pre><code>bundle install\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<p><a href=\"https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager\">Install Node.js</a> to fix it permanently for all projects.</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>On the windows platform, I met that problem too\nThe solution for me is just add </p>\n\n<pre><code>C:\\Windows\\System32\n</code></pre>\n\n<p>to the <strong>PATH</strong> </p>\n\n<p>and restart the computer.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p><code>sudo apt-get install nodejs</code> does not work for me. In order to get it to work, I have to do the following:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>sudo apt-get install python-software-properties\nsudo add-apt-repository ppa:chris-lea/node.js\nsudo apt-get update\nsudo apt-get install nodejs\n</code></pre>\n\n<p>Hope this will help someone having the same problem as me.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>On CentOS 6.5, the following worked for me:</p>\n\n<pre><code>sudo yum install -y nodejs\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>if you already install nodejs from source for example, and execjs isn't recognizing it you might want to try this tip: <a href=\"https://coderwall.com/p/hyjdlw\" rel=\"nofollow\">https://coderwall.com/p/hyjdlw</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If all fails you can try</p>\n\n<p><em># aptitude install nodejs</em></p>\n\n<p>as root. You can test your install with the following command:</p>\n\n<p><em># node -v</em></p>\n\n<p>If you want to install NPM, please refer following <a href=\"http://antler.co.za/2014/04/install-node-js-npm-on-debian-stable-wheezy-7/\" rel=\"nofollow\">link</a>. Hope it helps.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I created a new Rails project using <code>rails 3.1.0.rc4</code> on my local machine but when I try to start the server I get:\nCould not find a JavaScript runtime. See <a href=\"https://github.com/sstephenson/execjs\">here</a> for a list of available runtimes. (<code>ExecJS::RuntimeUnavailable</code>)</p>\n\n<p>Note: This is not about Heroku.</p>\n",
            "last_activity_date": 1409032527,
            "question_id": 7092107,
            "score": 139,
            "tags": [
                "javascript",
                "ruby-on-rails",
                "ruby-on-rails-3",
                "node.js",
                "ruby-on-rails-3.1"
            ],
            "title": "Rails - Could not find a JavaScript runtime?"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p>not sure if this is what you're looking for, it uses min-height instead of height.</p>\n\n<pre><code>    &lt;div id=\"content\" style=\"min-height:10px;width:190px;background:lightblue;\"&gt;\n    &lt;?php \n        function truncate($text,$numb) {\n            // source: www.kigoobe.com, please keep this if you are using the function\n            $text = html_entity_decode($text, ENT_QUOTES);\n            if (strlen($text) &gt; $numb) {\n                $text = substr($text, 0, $numb);\n                $etc = \"...\"; \n                $text = $text.$etc;\n            } \n            $text = htmlentities($text, ENT_QUOTES);\n            return $text;\n        }\n        echo truncate(\"this is a multi-lines text block, some lines inside the div, while some outside\", 63);\n    ?&gt;\n    &lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>You probably can't do it (currently?) without a fixed-width font like Courier. With a fixed-width font every letter occupies the same horizontal space, so you could probably count the letters and multiply the result with the current font size in ems or exs. Then you would just have to test how many letters fit on one line, and then break it up.</p>\n\n<p>Alternatively, for non-fixed-with fonts you might be able to create a mapping for all possible characters (like i = 2px, m = 5px) and then do the math. A lot of ugly work though.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To expand on @DanMan's solution: in the case where variable-width fonts are used, you could use an average font width. This has two problems: 1) a text with too many W's would overflow and 2) a text with too many I's would be truncated earlier.</p>\n\n<p>Or you could take a worst-case approach and use the width of the letter \"W\" (which I believe is the widest). This removes problem 1 above but intensifies problem 2.</p>\n\n<p>A different approach could be: leave <code>overflow: clip</code> in the div and add an ellipsis section (maybe another div or image) with <code>float: right; position: relative; bottom: 0px;</code> (untested). The trick is to make the image appear above the end of text.</p>\n\n<p>You could also only display the image when you know it's going to overflow (say, after about 100 characters)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just a quick basic idea.</p>\n\n<p>I was testing with the following markup: </p>\n\n<pre><code>&lt;div id=\"fos\"&gt;\n&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin nisi ligula, dapibus a volutpat sit amet, mattis et dui. Nunc porttitor accumsan orci id luctus. Phasellus ipsum metus, tincidunt non rhoncus id, dictum a lectus. Nam sed ipsum a lacus sodales eleifend. Vestibulum lorem felis, rhoncus elementum vestibulum eget, dictum ut velit. Nullam venenatis, elit in suscipit imperdiet, orci purus posuere mauris, quis adipiscing ipsum urna ac quam.&lt;/p&gt;  \n&lt;/div&gt;\n</code></pre>\n\n<p>And CSS:</p>\n\n<pre><code>#fos { width: 300px; height: 190px; overflow: hidden; }\n#fos p { padding: 10px; margin: 0; }\n</code></pre>\n\n<p>Applying this jQuery will accomplish the desired result:</p>\n\n<pre><code>var $p = $('#fos p');\nvar divh = $('#fos').height();\nwhile ($p.outerHeight() &gt; divh) {\n    $p.text(function (index, text) {\n        return text.replace(/\\W*\\s(\\S)*$/, '...');\n    });\n}\n</code></pre>\n\n<p>It repeatedly tries to remove the last word of the text until it reaches the desired size. Because of the overflow: hidden; the process remains invisible and even with JS turned off the result remains 'visually correct' (without the \"...\" of course).</p>\n\n<p>If you combine this with a sensible truncation on the server-side (that leaves only a small overhead) then it will run quicker :).</p>\n\n<p>Again, this is not a complete solution, just an idea.</p>\n\n<p><strong>UPDATE:</strong> Added a <a href=\"http://jsfiddle.net/k5VET/\">jsFiddle Demo</a>.</p>\n",
                    "is_accepted": false,
                    "score": 53
                },
                {
                    "body": "<p>Try the <a href=\"http://dotdotdot.frebsite.nl\">jQuery.dotdotdot</a> plugin.</p>\n\n<pre><code>$(\".ellipsis\").dotdotdot();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 50
                },
                {
                    "body": "<p>There is no such feature in HTML, and this is very frustrating.</p>\n\n<p><strong>I have developed a <a href=\"https://github.com/rossille/jstext\" rel=\"nofollow\">library</a> to deal with this.</strong></p>\n\n<ul>\n<li>Multiline text-overflow: ellipsis</li>\n<li>Multiline text with technologies that does not support it: SVG, Canvas for example</li>\n<li>Have exactly the same line breaks in your SVG text, in your HTML rendering, and in your PDF export for example</li>\n</ul>\n\n<p>Check out <a href=\"http://www.samuelrossille.com/home/jstext.html\" rel=\"nofollow\">my site</a> for screenshot, tutorial, and dowload link.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>With this code there is no need for an extra wrapper div if the element has it's height limited by a max-height style.</p>\n\n<pre><code>// Shorten texts in overflowed paragraphs to emulate Operas text-overflow: -o-ellipsis-lastline\n$('.ellipsis-lastline').each(function(i, e) {\n    var $e = $(e), original_content = $e.text();\n    while (e.scrollHeight &gt; e.clientHeight)\n        $e.text($e.text().replace(/\\W*\\w+\\W*$/, '\u2026'));\n    $e.attr('data-original-content', original_content);\n});\n</code></pre>\n\n<p>Also it saves the original text in a data attribute that can be displayed using only styles, eg. on mouse over:</p>\n\n<pre><code>.ellipsis-lastline {\n    max-height: 5em;\n}\n.ellipsis-lastline:before {\n    content: attr(data-original-content);\n    position: absolute;\n    display: none;\n}\n.ellipsis-lastline:hover:before {\n    display: block;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Very simple func will do.</p>\n\n<p><code>\nDirective:</p>\n\n<pre><code>  $scope.truncateAlbumName = function (name) {\n    if (name.length &gt; 36) {\n      return name.slice(0, 34) + \"..\";\n    } else {\n      return name;\n    }\n  };\n</code></pre>\n\n<p>View:</p>\n\n<p>&lt;#p>{{truncateAlbumName(album.name)}}&lt;#/p>\n</code></p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Pure JS solution based on ba\u017emegakapa's solution, and some cleanup to account for people who try to give a height/max-height that is less than the element's lineHeight:</p>\n\n<pre><code>  var truncationEl = document.getElementById('truncation-test');\n  function calculateTruncation(el) {\n    var text;\n    while(el.clientHeight &lt; el.scrollHeight) {\n      text = el.innerHTML.trim();\n      if(text.split(' ').length &lt;= 1) {\n        break;\n      }\n      el.innerHTML = text.replace(/\\W*\\s(\\S)*$/, '...');\n    }\n  }\n\n  calculateTruncation(truncationEl);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I have a solution which works well but instead an ellipsis it uses a gradient. The advantages are that you don't have to do any JavaScript calculations and it works for variable width containers including table cells. It uses a couple of extra divs, but it's very easy to implement.</p>\n\n<p><a href=\"http://salzerdesign.com/blog/?p=453\" rel=\"nofollow\">http://salzerdesign.com/blog/?p=453</a></p>\n\n<p>Edit: Sorry, I did't know that the link wasn't enough. The solution is to put a div around the text, and style the div to control the overflow. Inside the div put another div with a \"fade\" gradient which can be made by using CSS or an image (for old IE). The gradient goes from transparent to the background color of the table cell and is a bit wider than an ellipsis. If the text is long and overflows, it goes under the \"fade\" div and looks \"faded out\". If the text is short, the fade is invisible so there is no problem. The two containers can be adjusted to let one or multiple lines show by setting the height of the container as a multiple of the text line height. The \"fade\" div can be positioned to only cover the last line.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here is a pure CSS way to accomplish this: <a href=\"http://www.mobify.com/blog/multiline-ellipsis-in-pure-css/\" rel=\"nofollow\">http://www.mobify.com/blog/multiline-ellipsis-in-pure-css/</a></p>\n\n<p>Here is a summary:</p>\n\n<p><img src=\"http://i.stack.imgur.com/gUGWY.png\" alt=\"enter image description here\"></p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;style&gt;\n    html, body, p { margin: 0; padding: 0; font-family: sans-serif;}\n\n    .ellipsis {\n        overflow: hidden;\n        height: 200px;\n        line-height: 25px;\n        margin: 20px;\n        border: 5px solid #AAA; }\n\n    .ellipsis:before {\n        content:\"\";\n        float: left;\n        width: 5px; height: 200px; }\n\n    .ellipsis &gt; *:first-child {\n        float: right;\n        width: 100%;\n        margin-left: -5px; }        \n\n    .ellipsis:after {\n        content: \"\\02026\";  \n\n        box-sizing: content-box;\n        -webkit-box-sizing: content-box;\n        -moz-box-sizing: content-box;\n\n        float: right; position: relative;\n        top: -25px; left: 100%; \n        width: 3em; margin-left: -3em;\n        padding-right: 5px;\n\n        text-align: right;\n\n        background: -webkit-gradient(linear, left top, right top,\n            from(rgba(255, 255, 255, 0)), to(white), color-stop(50%, white));\n        background: -moz-linear-gradient(to right, rgba(255, 255, 255, 0), white 50%, white);           \n        background: -o-linear-gradient(to right, rgba(255, 255, 255, 0), white 50%, white);\n        background: -ms-linear-gradient(to right, rgba(255, 255, 255, 0), white 50%, white);\n        background: linear-gradient(to right, rgba(255, 255, 255, 0), white 50%, white); }\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=\"ellipsis\"&gt;\n        &lt;div&gt;\n            &lt;p&gt;Call me Ishmael.....&lt;/p&gt; \n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Not an exact answer to the question, but I came across this page when trying to do very similar, but wanting to add a link to \"view more\" rather than just a straightforward ellipsis. This is a jQuery function that will add a \"more\" link to text that is overflowing a container. Personally I'm using this with Bootstrap, but of course it will work without.</p>\n\n<p><img src=\"http://i.stack.imgur.com/nRl28.png\" alt=\"Example more screenshot\"></p>\n\n<p>To use, put your text in a container as follows:</p>\n\n<pre><code>&lt;div class=\"more-less\"&gt;\n    &lt;div class=\"more-block\"&gt;\n        &lt;p&gt;The long text goes in here&lt;/p&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>When the following jQuery function is added, any of the divs that are larger than the adjustheight value will be truncated and have a \"More\" link added.</p>\n\n<pre><code>$(function(){\n    var adjustheight = 60;\n    var moreText = '+ More';\n    var lessText = '- Less';\n    $(\".more-less .more-block\").each(function(){\n        if ($(this).height() &gt; adjustheight){\n            $(this).css('height', adjustheight).css('overflow', 'hidden');\n            $(this).parent(\".more-less\").append\n                ('&lt;a style=\"cursor:pointer\" class=\"adjust\"&gt;' + moreText + '&lt;/a&gt;');\n        }\n    });\n    $(\".adjust\").click(function() {\n        if ($(this).prev().css('overflow') == 'hidden')\n        {\n            $(this).prev().css('height', 'auto').css('overflow', 'visible');\n            $(this).text(lessText);\n        }\n        else {\n            $(this).prev().css('height', adjustheight).css('overflow', 'hidden');\n            $(this).text(moreText);\n        }\n    });\n});\n</code></pre>\n\n<p>Based on this, but updated: <a href=\"http://shakenandstirredweb.com/240/jquery-moreless-text\" rel=\"nofollow\">http://shakenandstirredweb.com/240/jquery-moreless-text</a></p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I made an image for this question, should be easier to understand.</p>\n\n<p><a href=\"http://www.flickr.com/photos/38480135@N08/4859885882/\"><img src=\"http://farm5.static.flickr.com/4122/4859885882_c69a7b4229.jpg\" width=\"500\" height=\"190\" alt=\"text-overflow\" /></a></p>\n\n<p>I've tried some jquery plugins out here and there, but cannot find the one i'm looking for. Any recommendation? ideas?</p>\n",
            "last_activity_date": 1409923856,
            "question_id": 3404508,
            "score": 98,
            "tags": [
                "javascript",
                "jquery",
                "css"
            ],
            "title": "Cross browsers mult-lines text overflow with ellipsis appended within a width&amp;height fixed div?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>Tables displaying the issue:</p>\n\n<p><img src=\"http://i.stack.imgur.com/MKgie.png\" alt=\"truthy if statement\"></p>\n\n<p>and ==\n<img src=\"http://i.stack.imgur.com/5bdbd.png\" alt=\"truthy comparisons of all object types in javascript\"></p>\n\n<p>Moral of the story use ===\n<img src=\"http://i.stack.imgur.com/mmvud.png\" alt=\"strict equality displaying sanity\"></p>\n\n<p>table generation credit: <a href=\"https://github.com/dorey/JavaScript-Equality-Table\">https://github.com/dorey/JavaScript-Equality-Table</a></p>\n",
                    "is_accepted": false,
                    "score": 134
                },
                {
                    "body": "<p>Your quotes around the <code>0</code> make it a string, which is evaluated as true.</p>\n\n<p>Remove the quotes and it should work.</p>\n\n<pre><code>if (0) console.log(\"ha\") \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The reason is because when you explicitly do <code>\"0\" == false</code>, both sides are being converted to numbers, and <em>then</em> the comparison is performed.</p>\n\n<p>When you do: <code>if (\"0\") console.log(\"ha\")</code>, the string value is being tested. Any non-empty string is <code>true</code>, while an empty string is <code>false</code>.</p>\n\n<blockquote>\n  <p><strong><em>Equal (==)</em></strong></p>\n  \n  <p>If the two operands are <strong>not of the same type</strong>, JavaScript converts the operands then applies strict comparison. If either operand is <strong>a number or a boolean</strong>, the operands are converted to numbers if possible; else if either operand is <strong>a string</strong>, the other operand is converted to a string if possible. If <strong>both operands are objects</strong>, then JavaScript compares internal references which are equal when operands refer to the same object in memory.</p>\n  \n  <p>(From <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Operators/Comparison_Operators\">Comparison Operators</a> in Mozilla Developer Network)</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 109
                },
                {
                    "body": "<p>It's PHP where the string <code>\"0\"</code> is falsy (false-when-used-in-boolean-context). In JavaScript, all non-empty strings are truthy.</p>\n\n<p>The trick is that <code>==</code> against a boolean doesn't evaluate in a boolean context, it converts to number, and in the case of strings that's done by parsing as decimal. So you get Number <code>0</code> instead of the truthiness boolean <code>true</code>.</p>\n\n<p>This is a really poor bit of language design and it's one of the reasons we try not to use the unfortunate <code>==</code> operator. Use <code>===</code> instead.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>It's according to spec.</p>\n\n<pre>\n12.5 The if Statement \n.....\n\n2. If ToBoolean(GetValue(exprRef)) is true, then \na. Return the result of evaluating the first Statement. \n3. Else, \n....\n</pre>\n\n<p>ToBoolean, according to the spec, is</p>\n\n<blockquote>\n  <p>The abstract operation ToBoolean converts its argument to a value of type Boolean according to Table 11:</p>\n</blockquote>\n\n<p>And that table says this about strings:</p>\n\n<p><img src=\"http://i.stack.imgur.com/0a1Q9.jpg\" alt=\"enter image description here\"></p>\n\n<blockquote>\n  <p>The result is  false if the argument is the empty String (its length is zero); \n  otherwise the result is true</p>\n</blockquote>\n\n<p>Now, to explain why <code>\"0\" == false</code> you should read the equality operator, which states it gets its value from the abstract operation <code>GetValue(lref)</code> matches the same for the right-side.</p>\n\n<p>Which describes this relevant part as:</p>\n\n<pre>\nif IsPropertyReference(V), then \na. If HasPrimitiveBase(V) is false, then let get be the [[Get]] internal method of base, otherwise let get\nbe the special [[Get]] internal method defined below. \nb. Return the result of calling the get internal method using base as its this value, and passing \nGetReferencedName(V) for the argument\n</pre>\n\n<p>Or in other words, a string has a primitive base, which calls back the internal get method and ends up looking false.</p>\n\n<p>If you want to evaluate things using the GetValue operation use <code>==</code>, if you want to evaluate using the <code>ToBoolean</code>, use <code>===</code> (also known as the \"strict\" equality operator)</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>The \"if\" expression tests for truthiness, while the double-equal tests for type-independent equivalency.  A string is always truthy, as others here have pointed out.  If the double-equal were testing both of its operands for truthiness and then comparing the results, then you'd get the outcome you were intuitively assuming, i.e. <code>(\"0\" == true) === true</code>.  As Doug Crockford says in his excellent <em>JavaScript: the Good Parts</em>, \"the rules by which [== coerces the types of its operands] are complicated and unmemorable.... The lack of transitivity is alarming.\"  It suffices to say that one of the operands is type-coerced to match the other, and that \"0\" ends up being interpreted as a numeric zero, which is in turn equivalent to false when coerced to boolean (or false is equivalent to zero when coerced to a number).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It is all because of the ECMA specs ... <code>\"0\" == false</code> because of the rules specified here <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_11.9.3\" rel=\"nofollow\">http://ecma262-5.com/ELS5_HTML.htm#Section_11.9.3</a> ...And <code>if ('0')</code> evaluates to true because of the rules specified here <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_12.5\" rel=\"nofollow\">http://ecma262-5.com/ELS5_HTML.htm#Section_12.5</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>if (x) \n</code></pre>\n\n<p>coerces x using JavaScript's internal toBoolean (http://es5.github.com/#x9.2)</p>\n\n<pre><code>x == false\n</code></pre>\n\n<p>coerces both sides using internal toNumber coercion (http://es5.github.com/#x9.3) or toPrimitive for objects (http://es5.github.com/#x9.1)</p>\n\n<p>For full details see <a href=\"http://javascriptweblog.wordpress.com/2011/02/07/truth-equality-and-javascript/\" rel=\"nofollow\">http://javascriptweblog.wordpress.com/2011/02/07/truth-equality-and-javascript/</a>   </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><code>\"0\"</code> is a string, not a number so it will give you result <code>ha</code> . In javaScript there are only six falsy values, </p>\n\n<ol>\n<li>false</li>\n<li>null</li>\n<li>undefined</li>\n<li>number 0</li>\n<li>NaN</li>\n<li>the empty string.</li>\n</ol>\n\n<p>and also javaScript is dynamically typed and when used with some operator or comparison it follow strict type conversion rule.If one operand is <code>number</code> or <code>Boolean</code> than it convert both side into number and than compare it else it will try to convert operands into string. .So when you are comparing it will give you true result because <code>\"0\"</code> and <code>false</code> both converted into number <code>0</code> but when you are checking for a condition it will check for a string <code>\"0\"</code> which is a truthy value, so execute the block.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>// I usually do this:\n\nx = \"0\" ;\n\nif (!!+x) console.log('I am true');\nelse      console.log('I am false');\n\n// Essentially converting string to integer and then boolean.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The following shows that <code>\"0\"</code> is false in Javascript:</p>\n\n<pre><code>&gt;&gt;&gt; \"0\" == false\ntrue\n\n&gt;&gt;&gt; false == \"0\"\ntrue\n</code></pre>\n\n<p>So why does the following print <code>\"ha\"</code>?</p>\n\n<pre><code>&gt;&gt;&gt; if (\"0\") console.log(\"ha\")\nha\n</code></pre>\n",
            "last_activity_date": 1422956703,
            "question_id": 7615214,
            "score": 79,
            "tags": [
                "javascript",
                "boolean"
            ],
            "title": "In Javascript, why is &quot;0&quot; equal to false, but when tested by &#39;if&#39; it is not false by itself?"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<pre><code>window.top.location.href = \"http://example.com\";\n</code></pre>\n\n<p><code>window.top</code> refers to the window object of the page at the top of the frames hierarchy.</p>\n",
                    "is_accepted": false,
                    "score": 37
                },
                {
                    "body": "<p>or an alternative is the following (using document object)</p>\n\n<pre><code>parent.document.location.href = \"http://example.com\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I found that <code>&lt;a href=\"...\" target=\"_top\"&gt;link&lt;/a&gt;</code> works too</p>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<pre><code>window.top.location.href = \"http://www.example.com\"; \n</code></pre>\n\n<p>As stated previously, will redirect the parent iframe.</p>\n",
                    "is_accepted": true,
                    "score": 199
                },
                {
                    "body": "<p>It is possible to redirect from an iframe, but not to get information from the parent.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This will solve the misery.</p>\n\n<pre><code>&lt;script&gt;parent.location='http://google.com';&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try using</p>\n\n<pre><code>window.parent.window.location.href = 'http://google.com'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Redirect iframe in parent window by iframe in the same parent:</p>\n\n<pre><code>window.parent.document.getElementById(\"content\").src = \"content.aspx?id=12\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -5
                },
                {
                    "body": "<pre><code>window.top.location.href = 'index.html';\n</code></pre>\n\n<p>This will redirect the main window to the index page.\nThanks</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>@MIP is right, but with newer versions of Safari, you will need to add sandbox attribute(HTML5) to give redirect access to the iFrame.  There are a few specific values that can be added with a space between them.</p>\n\n<p>Reference(you will need to scroll):\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe</a></p>\n\n<p>Ex:</p>\n\n<pre><code>&lt;iframe sandbox=\"allow-top-navigation\" src=\"http://google.com/\"&gt;&lt;/iframe&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><code>target=\"_parent\"</code> worked great for me. easy and hassle free! </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>What JavaScript do I need to use to redirect a parent window from an iframe?</p>\n\n<p>I want them to click a hyperlink which, using JavaScript or any other method, would redirect the parent window to a new URL.</p>\n",
            "last_activity_date": 1416919873,
            "question_id": 580669,
            "score": 131,
            "tags": [
                "javascript",
                "iframe",
                "dhtml"
            ],
            "title": "Redirect parent window from an iframe action"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>For transitions you can use the following to detect the end of a transition via jQuery:</p>\n\n<pre><code>$(\"#someSelector\").bind(\"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd\", function(){ ... });\n</code></pre>\n\n<p>Mozilla has an excellent reference:</p>\n\n<p><a href=\"https://developer.mozilla.org/en/CSS/CSS_transitions#Detecting_the_completion_of_a_transition\">https://developer.mozilla.org/en/CSS/CSS_transitions#Detecting_the_completion_of_a_transition</a></p>\n\n<p>For animations it's very similar:</p>\n\n<pre><code>$(\"#someSelector\").bind(\"animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd\", function(){ ... });\n</code></pre>\n\n<p>Note that you can pass all of the browser prefixed event strings into the bind() method simultaneously to support the event firing on all browsers that support it.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Per the comment left by Duck: you use jQuery's <code>.one()</code> method to ensure the handler only fires once. For example:</p>\n\n<pre><code>$(\"#someSelector\").one(\"transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd\", function(){ ... });\n\n$(\"#someSelector\").one(\"animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd\", function(){ ... });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 160
                },
                {
                    "body": "<p>Another option would be to use the <strong><a href=\"http://ricostacruz.com/jquery.transit/\">jQuery Transit Framework</a></strong> to handle your CSS3 transitions. The transitions/effects perform well on mobile devices and you don't have to add a single line of messy CSS3 transitions in your CSS file in order to do the animation effects.</p>\n\n<p>Here is an example that will transition an element's opacity to 0 when you click on it and will be removed once the transition is complete:</p>\n\n<pre><code>$(\"#element\").click( function () {\n    $('#element').transition({ opacity: 0 }, function () { $(this).remove(); });\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/Zvfau/3/\">JS Fiddle Demo</a></p>\n",
                    "is_accepted": false,
                    "score": 10
                }
            ],
            "body": "<p>I'd like to fade out an element (transitioning its opacity to 0) and then when finished remove the element from the DOM.</p>\n\n<p>In jQuery this is straight forward since you can specify the \"Remove\" to happen after an animation completes. But if I wish to animate using CSS3 transitions is there anyway to know when the transition/animation has completed?</p>\n",
            "last_activity_date": 1421347672,
            "question_id": 9255279,
            "score": 75,
            "tags": [
                "javascript",
                "jquery",
                "css",
                "css3"
            ],
            "title": "Callback when CSS3 transition finishes"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>From Douglass Crockford's <a href=\"http://javascript.crockford.com/code.html\" rel=\"nofollow\">style convention guide</a>: (search for \"invoked immediately\")</p>\n\n<p><strong><em>When a function is to be invoked immediately, the entire invocation expression should be wrapped in parens so that it is clear that the value being produced is the result of the function and not the function itself.</em></strong></p>\n\n<p>So, basically, he feels it makes more clear the distinction between function values, and the values of functions. So, it's an stylistic matter, not really a substantive difference in the code itself.</p>\n\n<p><em>updated reference, old PPT no longer exists</em></p>\n",
                    "is_accepted": true,
                    "score": 42
                },
                {
                    "body": "<p>Immediately Called Anonymous Functions get wrapped it in parens because:</p>\n\n<ol>\n<li><p>They are function expressions and leaving parens out would cause it to be interpreted as a function declaration which is a syntax error.</p></li>\n<li><p>Function expressions cannot start with the word function.</p></li>\n<li><p>When assigning the function expression to a variable, the function itself is not returned, the return value of the function is returned<del>, hence the parens evaluate what's inside them and produce a value.</del> when the function is executed, and the trailing parens <code>..}()</code> cause the function to execute immediately.</p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Or, use:</p>\n\n<pre><code>void function () {\n...\n} ()\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>There is a <a href=\"http://www.jslint.com\">JSLint</a> option, one of The Good Parts in fact, that \"[requires] parens around immediate invocations,\" meaning that the construction</p>\n\n<pre><code>(function () {\n\n  // ...\n\n})();\n</code></pre>\n\n<p>would instead need to be written as</p>\n\n<pre><code>(function () {\n\n  // ...\n\n}());\n</code></pre>\n\n<p>My question is this -- can anyone explain why this second form might be considered better?  Is it more resilient?  Less error-prone?  What advantage does it have over the first form?</p>\n\n<p><hr></p>\n\n<p>Since asking this question, I have come to understand the importance of having a clear visual distinction between function values and the values of functions.  Consider the case where the result of immediate invocation is the right-hand side of an assignment expression:</p>\n\n<pre><code>var someVar = (function () {\n\n  // ...\n\n}());\n</code></pre>\n\n<p>Though the outermost parentheses are syntactically unnecessary, the opening parenthesis gives an up-front indication that the value being assigned is <em>not</em> the function itself but rather the result of the function being invoked.</p>\n\n<p>This is similar to Crockford's advice regarding capitalization of constructor functions -- it is meant to serve as a visual cue to anyone looking at the source code.</p>\n",
            "last_activity_date": 1412943382,
            "question_id": 939386,
            "score": 72,
            "tags": [
                "javascript",
                "syntax",
                "jslint",
                "iife"
            ],
            "title": "Immediate function invocation syntax"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>If you aren't too bothered about 100% accuracy, you could just stick a 1-second delay in.</p>\n\n<pre><code>$('#form_id').submit(function(e) {\n  var form = this;\n  e.preventDefault(); // disable the default submit action\n\n  _gaq.push('_trackEvent', 'my category', 'my action');\n\n  $(':input', this).attr('disabled', true); // disable all elements in the form, to avoid multiple clicks\n\n  setTimeout(function() { // after 1 second, submit the form\n    form.submit();\n  }, 1000);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>There are only 2 ways to ensure, 100%, that all form submissions (amongst users who have JS enabled and who don't block GA) is as follows:</p>\n\n<ul>\n<li>You can do an AJAX submit, and then not have to worry about the page changing, and thus have all the time in the world for GA to process AND your new page to load in place of the old one.</li>\n<li>You can force the form to open its action in a new window, thus leaving all background processes on the main page working, and preventing the race condition you're worried about. </li>\n</ul>\n\n<p>The reason for this is that Google Analytics does not have a callback function, so you can't ever be certain you're capturing <strong>all</strong> of the submits, even if you put a 10 second lag.</p>\n\n<p>Alternately, you can just pass a GET value to the submitted page and setup a check on that page for the value. If its set, you can send a trackEvent call. </p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<h2>Use Google Analytics <code>hitCallback</code></h2>\n\n<p>You can set a custom callback on the tracker object by using a <a href=\"https://developers.google.com/analytics/devguides/collection/analyticsjs/advanced#hitCallback\"><code>hitCallback</code> function</a></p>\n\n<pre><code>_gaq.push(['_set', 'hitCallback', function(){}]);\n</code></pre>\n\n<p>The callback is called by the tracker object after the event is tracked.</p>\n\n<p>If you want to track a click on a submit button and send the form afterwards you can use the following code (uses jQuery) for your event:</p>\n\n<pre><code>var _this = this; // The form input element that was just clicked\n_gaq.push(['_set','hitCallback',function() {\n    $(_this).parents('form').first().submit(); // Submit underlying form\n}]);\n_gaq.push(['_trackEvent', 'My category', 'My action']);\nreturn !window._gat; // Ensure that the event is bubbled if GA is not loaded\n</code></pre>\n\n<p>Or as <code>onclick</code>one liner for your <code>&lt;input type=\"submit\"&gt;</code> element:</p>\n\n<pre><code>onclick=\"var _this=this;_gaq.push(['_set','hitCallback',function(){$(_this).parents('form').first().submit();}]);_gaq.push(['_trackEvent','My category','My action']);return !window._gat;\"\n</code></pre>\n\n<p>What it does it that it tracks the event <code>My category/My action</code>, uses jQuery to find the underlying form element of the submit button just pushed, and then submits the whole form.</p>\n\n<p>See: <a href=\"https://developers.google.com/analytics/devguides/collection/analyticsjs/advanced#hitCallback\">Google Analytics - Advanced Configuration - Hit Callback</a> (thanks supervacuo)</p>\n\n<p><strong>UPDATE</strong>\nIf you're using modern analytics.js code with ga() function defined, you can write this as following:</p>\n\n<pre><code>var _this = this;\nga('send', 'event', 'My category', 'My action', {\n    'hitCallback': function() {\n        $(_this).parents('form').first().submit();\n    }\n});\n\nreturn !window.ga;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 109
                },
                {
                    "body": "<p>This question is a few years old now, and it seems that google analytics has provided a way to do this without the hacks given above.</p>\n\n<p>From the <a href=\"https://developers.google.com/analytics/devguides/collection/gajs/#PushingFunctions\">google analytics docs</a>:</p>\n\n<blockquote>\n  <p>In addition to command arrays, you can also push function objects onto the _gaq queue. The functions can contain any arbitrary JavaScript and like command arrays, they are executed in the order in which they are pushed onto _gaq.</p>\n</blockquote>\n\n<p>You can combine this with multiple-command pushing to make aboslute sure that they are added in order (and save a call).</p>\n\n<pre><code>$('input[type=\"submit\"]').click(function(e) {\n    // Prevent the form being submitted just yet\n    e.preventDefault();\n\n    // Keep a reference to this dom element for the callback\n    var _this = this;\n\n    _gaq.push(\n        // Queue the tracking event\n        ['_trackEvent', 'Your event', 'Your action'],\n        // Queue the callback function immediately after.\n        // This will execute in order.\n        function() {\n            // Submit the parent form\n            $(_this).parents('form').submit();\n        }\n    );\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>WHile the hitCallback solution is good, I prefer setting a cookie and triggering the event from the next page. In this way a failure in GA won't stop my site:</p>\n\n<pre><code>// Function to set the event to be tracked:\nfunction setDelayedEvent(category, action, label, value) {\n  document.cookie='ev='+escape(category)+'!'+escape(action)+'!'+escape(label)+'!'+value\n      +'; path=/; expires='+new Date(new Date().getTime()+60000).toUTCString();\n}\n\n// Code run in every page, in case the previous page left an event to be tracked:\nvar formErrorCount= formErrorCount || 0;\nvar ev= document.cookie.match('(?:;\\\\s*|^)ev=([^!]*)!([^!]*)!([^!]+)!([^!]+)(?:;|\\s*$)');\nif (ev &amp;&amp; ev.length&gt;2) {\n  _gaq.push(['_trackEvent', unescape(ev[1]), unescape(ev[2]),\n     unescape(ev[3]), parseInt(ev[4])]);\n  document.cookie='ev=; path=/; expires='+new Date(new Date().getTime()-1000).toUTCString();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>For those who deal with google analytics universal and doing some trick with hitCallback (f.x. track event after validation but before submit of form) keep in mind that google-analytics.js potentially could be blocked, however ga function will be still defined, so submit will not happen.</p>\n\n<pre><code>ga('send', 'pageview', event, {\n  'hitCallback': function() {\n    _this.submit();\n  }\n})\nreturn !window.ga;\n</code></pre>\n\n<p>Can be fixed with validation that check if ga is loaded</p>\n\n<pre><code>ga('send', 'pageview', event, {\n  'hitCallback': function() {\n    _this.submit();\n   }\n})\nreturn !(ga.hasOwnProperty('loaded') &amp;&amp; ga.loaded === true)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>When it's crucial that every submit is tracked, I usually set a cookie on the backend with all required data. Then set up a rule in GTM to fire off a tag based on existence of this 1st party cookie. The tag parses the cookie for required values and does whatever is required with them and remove the cookie.</p>\n\n<p>A more complex example is purchase tracking.\nYou want to fire off 5 different tags when user performs a purchase. Race conditions and the immediate redirect to some welcome page make it difficult to rely on simple \"onSubmit\" tracking. So I set a cookie with all purchase-related data and on whatever page the user ends up on GTM will recognize the cookie, fire off an \"entry point\" tag which will parse the cookie, push all values to dataLayer, remove the cookie and then the tag itself will push events to dataLayer thereby triggering the 5 tags that require the purchase data (which is already in dataLayer).</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I need to track an event in google analytics when someone fills out a form and clicks submit.  The resulting page that comes up is a standard dashboard-type page, so in order to track the event on that page I'd have to pass in the event in the url and then read the url and output the google analytics event tracking javascript code based on it.  This is a frequently bookmarked page though and page that is reloaded, clicked back to, etc.  So I'd really rather not pass tracking events in the URL and screw up the analytics.</p>\n\n<p>Instead, I'd much rather do something like the following jQuery code on the page with the form:</p>\n\n<pre><code>$('#form_id').submit(function() {\n  _gaq.push('_trackEvent', 'my category', 'my action');\n});\n</code></pre>\n\n<p>The problem I fear with the above is that I'm going to miss some events being tracked because immediately after calling that javascript the browser is going to submit the form and go to another webpage.  If the utm.gif tracking image isn't loaded in time, I miss the event :(.</p>\n\n<p>Is my fear justified?  How do I ensure I don't miss events being tracked?</p>\n",
            "last_activity_date": 1417094727,
            "question_id": 4086587,
            "score": 42,
            "tags": [
                "javascript",
                "jquery",
                "google-analytics",
                "analytics"
            ],
            "title": "Track event in google analytics upon clicking form submit"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>The easiest way is to wrap your code in a closure and manually expose only those variables you need globally to the global scope:</p>\n\n<pre><code>(function() {\n    // Your code here\n\n    // Expose to global\n    window['varName'] = varName;\n})();\n</code></pre>\n\n<p>To address Crescent Fresh's comment: in order to remove global variables from the scenario entirely, the developer would need to change a number of things assumed in the question. It would look a lot more like this:</p>\n\n<p>Javascript:</p>\n\n<pre><code>(function() {\n    var addEvent = function(element, type, method) {\n        if('addEventListener' in element) {\n            element.addEventListener(type, method, false);\n        } else if('attachEvent' in element) {\n            element.attachEvent('on' + type, method);\n\n        // If addEventListener and attachEvent are both unavailable,\n        // use inline events. This should never happen.\n        } else if('on' + type in element) {\n            // If a previous inline event exists, preserve it. This isn't\n            // tested, it may eat your baby\n            var oldMethod = element['on' + type],\n                newMethod = function(e) {\n                    oldMethod(e);\n                    newMethod(e);\n                };\n        } else {\n            element['on' + type] = method;\n        }\n    },\n        uploadCount = 0,\n        startUpload = function() {\n            var fil = document.getElementById(\"FileUpload\" + uploadCount);\n\n            if(!fil || fil.value.length == 0) {    \n                alert(\"Finished!\");\n                document.forms[0].reset();\n                return;\n            }\n\n            disableAllFileInputs();\n            fil.disabled = false;\n            alert(\"Uploading file \" + uploadCount);\n            document.forms[0].submit();\n        };\n\n    addEvent(window, 'load', function() {\n        var frm = document.forms[0];\n\n        frm.target = \"postMe\";\n        addEvent(frm, 'submit', function() {\n            startUpload();\n            return false;\n        });\n    });\n\n    var iframe = document.getElementById('postHere');\n    addEvent(iframe, 'load', function() {\n        uploadCount++;\n        if(uploadCount &gt; 1) {\n            startUpload();\n        }\n    });\n\n})();\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;iframe src=\"test.htm\" name=\"postHere\" id=\"postHere\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>You don't <strong>need</strong> an inline event handler on the <code>&lt;iframe&gt;</code>, it will still fire on each load with this code.</p>\n\n<p><strong>Regarding the load event</strong></p>\n\n<p>Here is a test case demonstrating that you don't need an inline <code>onload</code> event. This depends on referencing a file (/emptypage.php) on the same server, otherwise you should be able to just paste this into a page and run it.</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\"\n    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/&gt;\n    &lt;title&gt;untitled&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;script type=\"text/javascript\" charset=\"utf-8\"&gt;\n        (function() {\n            var addEvent = function(element, type, method) {\n                if('addEventListener' in element) {\n                    element.addEventListener(type, method, false);\n                } else if('attachEvent' in element) {\n                    element.attachEvent('on' + type, method);\n\n                    // If addEventListener and attachEvent are both unavailable,\n                    // use inline events. This should never happen.\n                } else if('on' + type in element) {\n                    // If a previous inline event exists, preserve it. This isn't\n                    // tested, it may eat your baby\n                    var oldMethod = element['on' + type],\n                    newMethod = function(e) {\n                        oldMethod(e);\n                        newMethod(e);\n                    };\n                } else {\n                    element['on' + type] = method;\n                }\n            };\n\n            // Work around IE 6/7 bug where form submission targets\n            // a new window instead of the iframe. SO suggestion here:\n            // http://stackoverflow.com/q/875650\n            var iframe;\n            try {\n                iframe = document.createElement('&lt;iframe name=\"postHere\"&gt;');\n            } catch (e) {\n                iframe = document.createElement('iframe');\n                iframe.name = 'postHere';\n            }\n\n            iframe.name = 'postHere';\n            iframe.id = 'postHere';\n            iframe.src = '/emptypage.php';\n            addEvent(iframe, 'load', function() {\n                alert('iframe load');\n            });\n\n            document.body.appendChild(iframe);\n\n            var form = document.createElement('form');\n            form.target = 'postHere';\n            form.action = '/emptypage.php';\n            var submit = document.createElement('input');\n            submit.type = 'submit';\n            submit.value = 'Submit';\n\n            form.appendChild(submit);\n\n            document.body.appendChild(form);\n        })();\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The alert fires every time I click the submit button in Safari, Firefox, IE 6, 7 and 8.</p>\n",
                    "is_accepted": true,
                    "score": 38
                },
                {
                    "body": "<p>Some things are going to be in the global namespace -- namely, whatever function you're calling from your inline JavaScript code.</p>\n\n<p>In general, the solution is to wrap everything in a closure:</p>\n\n<pre><code>(function() {\n    var uploadCount = 0;\n    function startupload() {  ...  }\n    document.getElementById('postHere').onload = function() {\n        uploadCount ++;\n        if (uploadCount &gt; 1) startUpload();\n    };\n})();\n</code></pre>\n\n<p>and avoid the inline handler.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Sometimes it makes sense to have global variables in JavaScript. But don't leave them hanging directly off window like that.</p>\n\n<p>Instead, create a single \"namespace\" object to contain your globals. For bonus points, put everything in there, including your methods.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I suggest the <a href=\"http://yuiblog.com/blog/2007/06/12/module-pattern/\">module pattern</a>.</p>\n\n<pre><code>YAHOO.myProject.myModule = function () {\n\n    //\"private\" variables:\n    var myPrivateVar = \"I can be accessed only from within YAHOO.myProject.myModule.\";\n\n    //\"private\" method:\n    var myPrivateMethod = function () {\n    \tYAHOO.log(\"I can be accessed only from within YAHOO.myProject.myModule\");\n    }\n\n    return  {\n    \tmyPublicProperty: \"I'm accessible as YAHOO.myProject.myModule.myPublicProperty.\"\n    \tmyPublicMethod: function () {\n    \t\tYAHOO.log(\"I'm accessible as YAHOO.myProject.myModule.myPublicMethod.\");\n\n    \t\t//Within myProject, I can access \"private\" vars and methods:\n    \t\tYAHOO.log(myPrivateVar);\n    \t\tYAHOO.log(myPrivateMethod());\n\n    \t\t//The native scope of myPublicMethod is myProject; we can\n    \t\t//access public members using \"this\":\n    \t\tYAHOO.log(this.myPublicProperty);\n    \t}\n    };\n\n}(); // the parens here cause the anonymous function to execute and return\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<pre><code>window.onload = function() {\n  var frm = document.forms[0];\n  frm.target = \"postMe\";\n  frm.onsubmit = function() {\n    frm.onsubmit = null;\n    var uploader = new LazyFileUploader();\n    uploader.startUpload();\n    return false;\n  }\n}\n\nfunction LazyFileUploader() {\n    var uploadCount = 0;\n    var total = 10;\n    var prefix = \"FileUpload\";\t\n    var upload = function() {\n    \tvar fil = document.getElementById(prefix + uploadCount);\n\n    \tif(!fil || fil.value.length == 0) {    \n    \t\talert(\"Finished!\");\n    \t\tdocument.forms[0].reset();\n    \t\treturn;\n    \t }\n\n    \tdisableAllFileInputs();\n    \tfil.disabled = false;\n    \talert(\"Uploading file \" + uploadCount);\n    \tdocument.forms[0].submit();\n    \tuploadCount++;\n\n    \tif (uploadCount &lt; total) {\n    \t\tsetTimeout(function() {\n    \t\t\tupload();\n    \t\t}, 100); \n    \t}\n    }\n\n    this.startUpload = function() {\n    \tsetTimeout(function() {\n    \t\tupload();\n    \t}, 100);  \n    } \t\t\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>First off, it is impossible to avoid global JavaScript, something will always be dangling the global scope.  Even if you create a namespace, which is still a good idea, that namespace will be global.</p>\n\n<p>There are many approaches, however, to not abuse the global scope.  Two of the simplest are to either use closure, or since you only have one variable you need to keep track of, just set it as a property of the function itself (which can then be treated as a <code>static</code> variable).</p>\n\n<h2>Closure</h2>\n\n<pre><code>var startUpload = (function() {\n  var uploadCount = 1;  // &lt;----\n  return function() {\n    var fil = document.getElementById(\"FileUpload\" + uploadCount++);  // &lt;----\n\n    if(!fil || fil.value.length == 0) {    \n      alert(\"Finished!\");\n      document.forms[0].reset();\n      uploadCount = 1; // &lt;----\n      return;\n    }\n\n    disableAllFileInputs();\n    fil.disabled = false;\n    alert(\"Uploading file \" + uploadCount);\n    document.forms[0].submit();\n  };\n})();\n</code></pre>\n\n<p>* Note that incrementing of <code>uploadCount</code> is happening internally here</p>\n\n<h2>Function Property</h2>\n\n<pre><code>var startUpload = function() {\n  startUpload.uploadCount = startUpload.count || 1; // &lt;----\n  var fil = document.getElementById(\"FileUpload\" + startUpload.count++);\n\n  if(!fil || fil.value.length == 0) {    \n    alert(\"Finished!\");\n    document.forms[0].reset();\n    startUpload.count = 1; // &lt;----\n    return;\n  }\n\n  disableAllFileInputs();\n  fil.disabled = false;\n  alert(\"Uploading file \" + startUpload.count);\n  document.forms[0].submit();\n};\n</code></pre>\n\n<p>I'm not sure why <code>uploadCount++; if(uploadCount &gt; 1) ...</code> is necessary, as it looks like the condition will always be true.  But if you do need global access to the variable, then the <em>function property</em> method I described above will allow you to do so without the variable actually being global.</p>\n\n<pre><code>&lt;iframe src=\"test.htm\" name=\"postHere\" id=\"postHere\"\n  onload=\"startUpload.count++; if (startUpload.count &gt; 1) startUpload();\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>However, if that's the case, then you should probably use an object literal or instantiated object and go about this in the normal OO way (where you can use the module pattern if it strikes your fancy).</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Use closures. Something like this gives you a scope other than global.</p>\n\n<pre><code>(function() {\n    // Your code here\n    var var1;\n    function f1() {\n        if(var1){...}\n    }\n\n    window.var_name = something; //&lt;- if you have to have global var\n    window.glob_func = function(){...} //&lt;- ...or global function\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Using closures might be OK for small to medium projects. However, for big projects, you might want to split your code into modules and save them in different files.</p>\n\n<p>Therefore I wrote <a href=\"http://dreamerslab.com/blog/en/hide-javascript-global-objects-with-jquery-secret-plugin/\" rel=\"nofollow\">jQuery Secret plugin</a> to solve the problem.</p>\n\n<p>In your case with this plugin the code would look something like the following.</p>\n\n<h3>JavaScript:</h3>\n\n<pre><code>// Initialize uploadCount.\n$.secret( 'in', 'uploadCount', 0 ).\n\n// Store function disableAllFileInputs.\nsecret( 'in', 'disableAllFileInputs', function(){\n  // Code for 'disable all file inputs' goes here.\n\n// Store function startUpload\n}).secret( 'in', 'startUpload', function(){\n    // 'this' points to the private object in $.secret\n    // where stores all the variables and functions\n    // ex. uploadCount, disableAllFileInputs, startUpload.\n\n    var fil = document.getElementById( 'FileUpload' + uploadCount);\n\n    if(!fil || fil.value.length == 0) {\n        alert( 'Finished!' );\n        document.forms[0].reset();\n        return;\n    }\n\n    // Use the stored disableAllFileInputs function\n    // or you can use $.secret( 'call', 'disableAllFileInputs' );\n    // it's the same thing.\n    this.disableAllFileInputs();\n    fil.disabled = false;\n\n    // this.uploadCount is equal to $.secret( 'out', 'uploadCount' );\n    alert( 'Uploading file ' + this.uploadCount );\n    document.forms[0].submit();\n\n// Store function iframeOnload\n}).secret( 'in', 'iframeOnload', function(){\n    this.uploadCount++;\n    if( this.uploadCount &gt; 1 ) this.startUpload();\n});\n\nwindow.onload = function() {\n    var frm = document.forms[0];\n\n    frm.target = \"postMe\";\n    frm.onsubmit = function() {\n        // Call out startUpload function onsubmit\n        $.secret( 'call', 'startUpload' );\n        return false;\n    }\n}\n</code></pre>\n\n<h3>Relevant markup:</h3>\n\n<pre><code>&lt;iframe src=\"test.htm\" name=\"postHere\" id=\"postHere\" onload=\"$.secret( 'call', 'iframeOnload' );\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>Open your <a href=\"http://en.wikipedia.org/wiki/Firebug\" rel=\"nofollow\">Firebug</a>, you will find no globals at all, not even the funciton :)</p>\n\n<h3>For full documentation, please see <a href=\"http://dreamerslab.com/blog/en/hide-javascript-global-objects-with-jquery-secret-plugin/\" rel=\"nofollow\">here</a>.</h3>\n\n<h3>For a demo page, please see <a href=\"http://dreamerslab.com/demos/hide-global-objects-in-javascript\" rel=\"nofollow\">this</a>.</h3>\n\n<h3><a href=\"https://github.com/dreamerslab/jquery.secret\" rel=\"nofollow\">Source code on GitHub</a>.</h3>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>We all know that <a href=\"http://en.wikipedia.org/wiki/Global_variable\">global variables</a> are anything but best practice. But there are several instances when it is difficult to code without them. What techniques do you use to avoid the use of global variables?</p>\n\n<p>For example, given the following scenario, how would you not use a global variable?</p>\n\n<p><strong>JavaScript code:</strong></p>\n\n<pre><code>var uploadCount = 0;\n\nwindow.onload = function() {\n    var frm = document.forms[0];\n\n    frm.target = \"postMe\";\n    frm.onsubmit = function() {\n        startUpload();\n        return false;\n    }\n}\n\nfunction startUpload() {\n    var fil = document.getElementById(\"FileUpload\" + uploadCount);\n\n    if (!fil || fil.value.length == 0) {\n        alert(\"Finished!\");\n        document.forms[0].reset();\n        return;\n    }\n\n    disableAllFileInputs();\n    fil.disabled = false;\n    alert(\"Uploading file \" + uploadCount);\n    document.forms[0].submit();\n}\n</code></pre>\n\n<p><strong>Relevant markup:</strong></p>\n\n<pre><code>&lt;iframe src=\"test.htm\" name=\"postHere\" id=\"postHere\"\n  onload=\"uploadCount++; if(uploadCount &gt; 1) startUpload();\"&gt;&lt;/iframe&gt;\n\n&lt;!-- MUST use inline JavaScript here for onload event\n     to fire after each form submission. --&gt;\n</code></pre>\n\n<p>This code comes from a web form with multiple <code>&lt;input type=\"file\"&gt;</code>. It uploads the files one at a time to prevent huge requests. It does this by <a href=\"http://en.wikipedia.org/wiki/POST_%28HTTP%29\">POST</a>ing to the iframe, waiting for the response which fires the iframe onload, and then triggers the next submission.</p>\n\n<p>You don't have to answer this example specifically, I am just providing it for reference to a situation in which I am unable to think of a way to avoid global variables.</p>\n",
            "last_activity_date": 1405442225,
            "question_id": 1841916,
            "score": 35,
            "tags": [
                "javascript",
                "global-variables"
            ],
            "title": "How to avoid global variables in JavaScript?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>You're most likely using this on a local file over the <code>file://</code> URI scheme, which cannot have cookies set. Put it on a local server so you can use <code>http://localhost</code>.</p>\n",
                    "is_accepted": true,
                    "score": 140
                },
                {
                    "body": "<p>I also had this issue while developping on HTML5 in local.\nI had issues with images and getImageData function.\nFinally, I discovered one can launch chrome with the --allow-file-access-from-file command switch, that get rid of this protection security.\nThe only thing is that it makes your browser less safe, and you can't have one chrome instance with the flag on and another without the flag.</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>You can also \"fix\" this by replacing the image with its inline Base64 representation:\n<code><pre>img.src= \"data:image/gif;base64,R0lGODlhCwALAIAAAAAA3pn/ZiH5BAEAAAEALAAAAAALAAsAAAIUhA+hkcuO4lmNVindo7qyrIXiGBYAOw==\";\n</pre></code>\nUseful, when you do not intend to publish the page on the web, but instead use it on local machines only. </p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>I wasn't completely happy by the --allow-file-access-from-file solution, because I'm using Chrome as my primary browser, and wasn't really happy with this breach I was opening.</p>\n\n<p>Now I'm using Canary ( the chrome beta version ) for my development with the flag on.\nAnd the mere Chrome version for my real blogging : the two browser don't share the flag !</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This error pops up, if you try to create a web worker with data URI scheme.</p>\n\n<pre><code>var w = new Worker('data:text/javascript;charset=utf-8,onmessage%20%3D%20function()%20%7B%20postMessage(%22pong%22)%3B%20%7D'); w.postMessage('ping');\n</code></pre>\n\n<p>It's not allowed according to the standard: <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/workers.html#dom-worker\" rel=\"nofollow\">http://www.whatwg.org/specs/web-apps/current-work/multipage/workers.html#dom-worker</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Faced with the same situation playing with Javascript <a href=\"/questions/tagged/webworkers\" class=\"post-tag\" title=\"show questions tagged &#39;webworkers&#39;\" rel=\"tag\">webworkers</a>. Unfortunately Chrome doesn't allow to access javascript workers stored in a local file. </p>\n\n<p>One kind of workaround below using a local storage is to running Chrome with <code>--allow-file-access-from-files</code> (with <code>s</code> at the end), but only one instance of Chrome is allowed, which is not too convenient for me. For this reason i'm using Chrome Canary, with file access allowed. </p>\n\n<p>BTW in Firefox there is no such an issue.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>One can also receive this error if using the new (so far webkit only) notification feature before getting permission.</p>\n\n<p>First run:</p>\n\n<pre><code>&lt;!-- Get permission --&gt;\n&lt;button onclick=\"webkitNotifications.requestPermission();\"&gt;Enable Notifications&lt;/button&gt;\n</code></pre>\n\n<p>Later run:</p>\n\n<pre><code>// Display Notification:\nwindow.webkitNotifications.createNotification('image', 'Title', 'Body').show();\n</code></pre>\n\n<p>The request permission functions needs to be triggered from an event caused by the user, otherwise it won't be displayed.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I was been getting that error in mobile safari when using ASP.NET MVC to return a FileResult with the overload that returns a file with a different file name than the original. So,</p>\n\n<pre><code>return File(returnFilePath, contentType, fileName);\n</code></pre>\n\n<p>would give the error in mobile safari, where as</p>\n\n<pre><code>return File(returnFilePath, contentType);\n</code></pre>\n\n<p>would not.</p>\n\n<p>I don't even remember why I thought what I was doing was a good idea. Trying to be clever I guess.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I had this issue when using the history API. </p>\n\n<pre><code>window.history.pushState(null, null, URL);\n</code></pre>\n\n<p>Even with a local server (localhost), you want to add 'http://' to your URL so that you have something similar to: </p>\n\n<pre><code>http://localhost...\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I get the following error in Chrome's developer tools window when I try to set a cookie using <a href=\"http://code.google.com/p/cookies/\">this</a> jQuery plugin:</p>\n\n<blockquote>\n  <p>Uncaught Error: SECURITY_ERR: DOM Exception 18</p>\n</blockquote>\n\n<p>What does this error mean and how can I fix it? I get the same error when I use <a href=\"http://plugins.jquery.com/project/Cookie\">this</a> jQuery plugin.</p>\n",
            "last_activity_date": 1412873622,
            "question_id": 2704929,
            "score": 106,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "domexception"
            ],
            "title": "Uncaught Error: SECURITY_ERR: DOM Exception 18 when I try to set a cookie"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>See <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\">short-circuit evaluation</a> for the explanation. It's a common way of implementing these operators; it is not unique to JavaScript.</p>\n",
                    "is_accepted": true,
                    "score": 58
                },
                {
                    "body": "<p>Javascript variables are not typed, so f can be assigned an integer value even though it's been assigned through boolean operators.</p>\n\n<p>f is assigned the nearest value that is <em>not equivalent to false</em>. So 0, false, null, undefined, are all passed over:</p>\n\n<pre><code>alert(null || undefined || false || 0 || 4);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>There isn't any magic to it. Boolean expressions like <code>a || b || c || d</code> are lazily evaluated. Interpeter looks for the value of <code>a</code>, it's undefined so it's false so it moves on, then it sees <code>b</code> which is null, which still gives false result so it moves on, then it sees <code>c</code> - same story. Finally it sees <code>d</code> and says 'huh, it's not null, so I have my result' and it assigns it to the final variable.</p>\n\n<p>This trick will work in all dynamic languages that do lazy short-circuit evaluation of boolean expressions. In static languages it won't compile (type error). In languages that are eager in evaluating boolean expressions, it'll return logical value (i.e. true in this case).</p>\n",
                    "is_accepted": false,
                    "score": 16
                }
            ],
            "body": "<p>Given this snippet of JavaScript...</p>\n\n<pre><code>var a;\nvar b = null;\nvar c = undefined;\nvar d = 4;\nvar e = 'five';\n\nvar f = a || b || c || d || e;\n\nalert(f); // 4\n</code></pre>\n\n<p>Can someone please explain to me what this technique is called (my best guess is in the title of this question!)? And how/why it works exactly? </p>\n\n<p>My understanding is that variable <code>f</code> will be assigned the nearest value (from left to right) of the first variable that has a value that isn't either null or undefined, but I've not managed to find much reference material about this technique and have seen it used a lot.</p>\n\n<p>Also, is this technique specific to JavaScript? I know doing something similar in PHP would result in <code>f</code> having a true boolean value, rather than the value of <code>d</code> itself.</p>\n",
            "last_activity_date": 1328474606,
            "question_id": 2100758,
            "score": 71,
            "tags": [
                "javascript",
                "variables",
                "variable-assignment"
            ],
            "title": "JavaScript OR (||) variable assignment explanation"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>A simple solution is to have your factory return an object and let your controllers work with a reference to the same object:</p>\n\n<p>JS:</p>\n\n<pre><code>myApp.factory('Data', function () {\n    return { FirstName: '' };\n});\n\nmyApp.controller('FirstCtrl', function ($scope, Data) {\n    $scope.Data = Data;\n});\n\nmyApp.controller('SecondCtrl', function ($scope, Data) {\n    $scope.Data = Data;\n});\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div ng-controller=\"FirstCtrl\"&gt;\n  &lt;input type=\"text\" ng-model=\"Data.FirstName\"&gt;\n  &lt;br&gt;Input is : &lt;strong&gt;{{Data.FirstName}}&lt;/strong&gt;\n&lt;/div&gt;\n&lt;hr&gt;\n&lt;div ng-controller=\"SecondCtrl\"&gt;\n  Input should also be here: {{Data.FirstName}}\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Demo:</strong> <a href=\"http://jsfiddle.net/HEdJF/\">http://jsfiddle.net/HEdJF/</a></p>\n\n<p>When applications get larger, more complex and harder to test you might not want to expose the entire object from the factory this way, but instead give limited access for example via getters and setters:</p>\n\n<pre><code>myApp.factory('Data', function () {\n\n    var data = {\n        FirstName: ''\n    };\n\n    return {\n        getFirstName: function () {\n            return data.FirstName;\n        },\n        setFirstName: function (firstName) {\n            data.FirstName = firstName;\n        }\n    };\n});\n</code></pre>\n\n<p>With this approach it is up to the consuming controllers to update the factory with new values, and to watch for changes to get them:</p>\n\n<pre><code>myApp.controller('FirstCtrl', function ($scope, Data) {\n\n    $scope.firstName = '';\n\n    $scope.$watch('firstName', function (newValue, oldValue) {\n        if (newValue !== oldValue) Data.setFirstName(newValue);\n    });\n});\n\nmyApp.controller('SecondCtrl', function ($scope, Data) {\n\n    $scope.$watch(function () { return Data.getFirstName(); }, function (newValue, oldValue) {\n        if (newValue !== oldValue) $scope.firstName = newValue;\n    });\n});\n</code></pre>\n\n<p><strong>Demo:</strong> <a href=\"http://jsfiddle.net/27mk1n1o/\">http://jsfiddle.net/27mk1n1o/</a></p>\n",
                    "is_accepted": true,
                    "score": 93
                },
                {
                    "body": "<p>I prefer not to use <code>$watch</code> for this. Instead of assigning the entire service to a controller's scope you can assign just the data.</p>\n\n<p>JS:</p>\n\n<pre><code>var myApp = angular.module('myApp', []);\n\nmyApp.factory('MyService', function(){\n  return {\n    data: {\n      firstName: '',\n      lastName: ''\n    }\n    // Other methods or objects can go here\n  };\n});\n\nmyApp.controller('FirstCtrl', function($scope, MyService){\n  $scope.data = MyService.data;\n});\n\nmyApp.controller('SecondCtrl', function($scope, MyService){\n   $scope.data = MyService.data;\n});\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div ng-controller=\"FirstCtrl\"&gt;\n  &lt;input type=\"text\" ng-model=\"data.firstName\"&gt;\n  &lt;br&gt;Input is : &lt;strong&gt;{{data.firstName}}&lt;/strong&gt;\n&lt;/div&gt;\n&lt;hr&gt;\n&lt;div ng-controller=\"SecondCtrl\"&gt;\n  Input should also be here: {{data.firstName}}\n&lt;/div&gt;\n</code></pre>\n\n<p>Alternatively you can update the service data with a direct method.</p>\n\n<p>JS: </p>\n\n<pre><code>// A new factory with an update method\nmyApp.factory('MyService', function(){\n  return {\n    data: {\n      firstName: '',\n      lastName: ''\n    },\n    update: function(first, last) {\n      // Improve this method as needed\n      this.data.firstNAme = first;\n      this.data.lastName = last;\n    }\n  };\n});\n\n// Your controller can use the service's update method\nmyApp.controller('SecondCtrl', function($scope, MyService){\n   $scope.data = MyService.data;\n\n   $scope.updateData = function(first, last) {\n     MyService.update(first, last);\n   }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I've created a factory that controls shared scope between route path's pattern, so you can maintain the shared data just when users are navigating in the same route parent path.</p>\n\n<pre><code>.controller('CadastroController', ['$scope', 'RouteSharedScope',\n    function($scope, routeSharedScope) {\n      var customerScope = routeSharedScope.scopeFor('/Customer');\n      //var indexScope = routeSharedScope.scopeFor('/');\n    }\n ])\n</code></pre>\n\n<p>So, if the user goes to another route path, for example '/Support', the shared data for path '/Customer' will be automatically destroyed. But, if instead of this the user goes to 'child' paths, like '/Customer/1' or '/Customer/list' the the scope won't be destroyed.</p>\n\n<p>You can see an sample here: <a href=\"http://plnkr.co/edit/OL8of9\" rel=\"nofollow\">http://plnkr.co/edit/OL8of9</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to share data across controllers. Use-case is a multi-step form, data entered in one input is later used in multiple display locations outside the original controller. Code below and in <a href=\"http://jsfiddle.net/AVhRf/\">jsfiddle here</a>.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div ng-controller=\"FirstCtrl\"&gt;\n    &lt;input type=\"text\" ng-model=\"FirstName\"&gt;&lt;!-- Input entered here --&gt;\n    &lt;br&gt;Input is : &lt;strong&gt;{{FirstName}}&lt;/strong&gt;&lt;!-- Successfully updates here --&gt;\n&lt;/div&gt;\n\n&lt;hr&gt;\n\n&lt;div ng-controller=\"SecondCtrl\"&gt;\n    Input should also be here: {{FirstName}}&lt;!-- How do I automatically updated it here? --&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>// declare the app with no dependencies\nvar myApp = angular.module('myApp', []);\n\n// make a factory to share data between controllers\nmyApp.factory('Data', function(){\n    // I know this doesn't work, but what will?\n    var FirstName = '';\n    return FirstName;\n});\n\n// Step 1 Controller\nmyApp.controller('FirstCtrl', function( $scope, Data ){\n\n});\n\n// Step 2 Controller\nmyApp.controller('SecondCtrl', function( $scope, Data ){\n    $scope.FirstName = Data.FirstName;\n});\n</code></pre>\n\n<p>Any help is greatly appreciated.</p>\n",
            "last_activity_date": 1424772015,
            "question_id": 21919962,
            "score": 42,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "Angular: Share data between controllers"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<pre><code>var idx = myArray.reduce( function( cur, val, index ){\n\n    if( val.hello === \"stevie\" &amp;&amp; cur === -1 ) {\n        return index;\n    }\n    return cur;\n\n}, -1 );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>There's not really a concise way, but here's a common solution:</p>\n\n<pre><code>var searchTerm = \"stevie\",\n    index = -1;\nfor(var i = 0, len = myArray.length; i &lt; len; i++) {\n    if (myArray[i].hello === searchTerm) {\n        index = i;\n        break;\n    }\n}\n</code></pre>\n\n<p>or as a function:</p>\n\n<pre><code>function arrayObjectIndexOf(myArray, searchTerm, property) {\n    for(var i = 0, len = myArray.length; i &lt; len; i++) {\n        if (myArray[i][property] === searchTerm) return i;\n    }\n    return -1;\n}\narrayObjectIndexOf(arr, \"stevie\", \"hello\"); // 1\n</code></pre>\n\n<p>Just some notes:</p>\n\n<ol>\n<li>Don't use for...in loops on arrays</li>\n<li>Be sure to break out of the loop or return out of the function once you've found your \"needle\"</li>\n<li>Be careful with object equality</li>\n</ol>\n\n<p>For example,</p>\n\n<pre><code>var a = {obj: 0};\nvar b = [a];\nb.indexOf({obj: 0}); // -1 not found\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 63
                },
                {
                    "body": "<p>See this example: <a href=\"http://jsfiddle.net/89C54/\" rel=\"nofollow\">http://jsfiddle.net/89C54/</a></p>\n\n<pre><code>for (i = 0; i &lt; myArray.length; i++) {\n    if (myArray[i].hello === 'stevie') {\n        alert('position: ' + i);\n        return;\n    }\n}\n</code></pre>\n\n<p>It starts to count with zero.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Or prototype it :<br/></p>\n\n<pre><code>Array.prototype.indexOf = function arrayObjectIndexOf(property, value) {\n    for (var i = 0, len = this.length; i &lt; len; i++) {\n        if (this[i][property] === value) return i;\n    }\n    return -1;\n}\n</code></pre>\n\n<p>myArr.indexOf(\"name\", \"stevie\");</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I think you can solve it in one line using 'map' function:</p>\n\n<pre><code>pos = myArray.map(function(e) { return e.hello; }).indexOf('stevie');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 166
                },
                {
                    "body": "<p>I like Pablo's answer, but Array#indexOf and Array#map don't work on all browsers. Underscore will use native code if it's available, but has fallbacks as well. Plus it has the pluck method for doing exactly what Pablo's anonymous map method does.</p>\n\n<pre><code>var idx = _.chain(myArray).pluck(\"hello\").indexOf(\"Stevie\").value();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I will prefer to use <code>findIndex()</code> method:</p>\n\n<pre><code> var index = myArray.findIndex('hello','stevie');\n</code></pre>\n\n<p><code>index</code> will give you the index number.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>You can create your own prototype to do this:</p>\n\n<p>something like: </p>\n\n<pre><code>Array.prototype.indexOfObject = function (object) {\n    for (var i = 0; i &lt; this.length; i++) {\n        if (JSON.stringify(this[i]) === JSON.stringify(object))\n            return i;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>array.filter(function(item, indx, arr){ return(item.hello === 'stevie'); })[0];\n</code></pre>\n\n<p>Mind the <code>[0]</code>.</p>\n\n<p>It is proper to use <code>reduce</code> as in <code>Antonio Laguna</code>'s answer.</p>\n\n<p>Apologies for the brevity...</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I have made a generic function to check the below is the code</p>\n\n<pre><code>function indexOfExt(list, item) {\n    var len = list.length;\n\n    for (var i = 0; i &lt; len; i++) {\n        var keys = Object.keys(list[i]);\n        var flg = true;\n        for (var j = 0; j &lt; keys.length; j++) {\n            var value = list[i][keys[j]];\n            if (item[keys[j]] !== value) {\n                flg = false;\n            }\n        }\n        if (flg == true) {\n            return i;\n        }\n    }\n    return -1;\n}\n\nvar items = [{ \"hello\": 'world', \"foo\": 'bar' }];\nvar selectedItem = { \"hello\": 'world', \"foo\": 'bar' };\nalert(items.indexOf(selectedItem));\nalert(indexOfExt(items, selectedItem));\n</code></pre>\n\n<p>The first alert will return -1 &amp; second alert will return 0</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h1>Brief</h1>\n\n<pre><code>myArray.indexOf('stevie','hello')\n</code></pre>\n\n<h1>Use Cases :</h1>\n\n<pre><code>  /*****NORMAL****/  \n[2,4,5].indexOf(4) ;//OUTPUT 1\n /****COMPLEX*****/\n [{slm:2},{slm:4},{slm:5}].indexOf(4,'slm');//OUTPUT 1\n //OR\n [{slm:2},{slm:4},{slm:5}].indexOf(4,function(e,i){\n   return e.slm;\n});//OUTPUT 1\n/***MORE Complex**/\n[{slm:{salat:2}},{slm:{salat:4}},{slm:{salat:5}}].indexOf(4,function(e,i){\n   return e.slm.salat;\n});//OUTPUT 1\n</code></pre>\n\n<h1>API :</h1>\n\n<pre><code>    Array.prototype.indexOfOld=Array.prototype.indexOf\n\n    Array.prototype.indexOf=function(e,fn){\n      if(!fn){return this.indexOfOld(e)}\n      else{ \n       if(typeof fn ==='string'){var att=fn;fn=function(e){return e[att];}}\n        return this.map(fn).indexOfOld(e);\n      }\n    };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is the way to find the object's index in array</p>\n\n<pre><code>    var myArray = [{  hello: 'world',\n        foo: 'bar'\n    },{\n        hello: 'stevie',\n        foo: 'baz'\n    }];\n\n\n\n    for (i = 0; i &lt; myArray.length; i++) {\n        if (myArray[i].hello === 'stevie') {\n            alert('position: ' + i);\n            return;\n        }\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>What's the best method to get the index of an array which contains objects?</p>\n\n<p>Imagine this scenario:</p>\n\n<pre><code>var hello = {\n    hello: 'world',\n    foo: 'bar'\n};\nvar qaz = {\n    hello: 'stevie',\n    foo: 'baz'\n}\n\nvar myArray = [];\nmyArray.push(hello,qaz);\n</code></pre>\n\n<p>Now I would like to have the <code>indexOf</code> the object which <code>hello</code> property is <code>'stevie'</code> which, in this example, would be <code>1</code>.</p>\n\n<p>I'm pretty newbie with JavaScript and I don't know if there is a simple method or if I should build my own function to do that.</p>\n",
            "last_activity_date": 1420807902,
            "question_id": 8668174,
            "score": 63,
            "tags": [
                "javascript"
            ],
            "title": "indexOf method in an object array?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>By doing so you'd be able to control any action of the framed page, which you cannot. <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\" rel=\"nofollow\">Same-domain origin policy</a> applies.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try using the onbeforeunload property, which will let the user choose whether he wants to navigate away from the page.</p>\n\n<p>Example: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window.onbeforeunload\">https://developer.mozilla.org/en-US/docs/Web/API/Window.onbeforeunload</a></p>\n\n<p>In HTML5 you can use sandbox property. Please see Pankrat's answer below.\n<a href=\"http://www.html5rocks.com/en/tutorials/security/sandboxed-iframes/\">http://www.html5rocks.com/en/tutorials/security/sandboxed-iframes/</a></p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>Since the page you load inside the iframe can execute the \"break out\" code with a setInterval, onbeforeunload might not be that practical, since it could flud the user with 'Are you sure you want to leave?' dialogs.</p>\n\n<p>There is also the iframe security attribute which only works on IE &amp; Opera </p>\n\n<p>:(</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In my case I want the user to visit the inner page so that server will see their ip as a visitor. If I use the php proxy technique I think that the inner page will see my server ip as a visitor so it is not good. The only solution I got so far is wilth onbeforeunload.\nPut this on your page:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    window.onbeforeunload = function () {                       \n         return \"This will end your session\";\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>This works both in firefox and ie, thats what I tested for.\nyou will find versions using something like evt.return(whatever) crap... that doesn't work in firefox.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I've found some useful hacks on this:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1794974/using-js-how-can-i-stop-child-iframes-from-redirecting-or-at-least-prompt-users\">http://stackoverflow.com/questions/1794974/using-js-how-can-i-stop-child-iframes-from-redirecting-or-at-least-prompt-users</a></p>\n\n<p><a href=\"http://www.codinghorror.com/blog/2009/06/we-done-been-framed.html\" rel=\"nofollow\">http://www.codinghorror.com/blog/2009/06/we-done-been-framed.html</a></p>\n\n<p><a href=\"http://coderrr.wordpress.com/2009/02/13/preventing-frame-busting-and-click-jacking-ui-redressing/\" rel=\"nofollow\">http://coderrr.wordpress.com/2009/02/13/preventing-frame-busting-and-click-jacking-ui-redressing/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>With HTML5 the <a href=\"http://www.w3schools.com/tags/att_iframe_sandbox.asp\">iframe sandbox</a> attribute was added. At the time of writing this <a href=\"http://caniuse.com/iframe-sandbox\">works on Chrome, Safari, Firefox and recent versions of IE and Opera</a> but does pretty much what you want:</p>\n\n<pre><code>&lt;iframe src=\"url\" sandbox=\"allow-forms allow-scripts\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>If you want to <em>allow</em> top-level redirects specify <code>sandbox=\"allow-top-navigation\"</code>.</p>\n",
                    "is_accepted": false,
                    "score": 59
                },
                {
                    "body": "<p>I know it has been a long time since question was done but here is my improved version it will wait 500ms for any subsequent call only when the iframe is loaded.</p>\n\n<pre><code>&lt;script type=\"text/javasript\"&gt;\nvar prevent_bust = false ;\n    var from_loading_204 = false;\n    var frame_loading = false;\n    var prevent_bust_timer = 0;\n    var  primer = true;\n    window.onbeforeunload = function(event) {\n        prevent_bust = !from_loading_204 &amp;&amp; frame_loading;\n        if(from_loading_204)from_loading_204 = false;\n        if(prevent_bust){\n            prevent_bust_timer=500;\n        }\n    }\n    function frameLoad(){\n        if(!primer){\n            from_loading_204 = true;\n            window.top.location = '/?204';\n            prevent_bust = false;\n            frame_loading = true;\n            prevent_bust_timer=1000;\n        }else{\n            primer = false;\n        }\n    }\n    setInterval(function() {  \n        if (prevent_bust_timer&gt;0) {  \n            if(prevent_bust){\n                from_loading_204 = true;\n                window.top.location = '/?204';\n                prevent_bust = false;\n            }else if(prevent_bust_timer == 1){\n                frame_loading = false;\n                prevent_bust = false;\n                from_loading_204 = false;\n                prevent_bust_timer == 0;\n            }\n\n\n\n        }\n        prevent_bust_timer--;\n        if(prevent_bust_timer==-100) {\n            prevent_bust_timer = 0;\n        }\n    }, 1);\n&lt;/script&gt;\n</code></pre>\n\n<p>and <code>onload=\"frameLoad()\"</code> and  <code>onreadystatechange=\"frameLoad();\"</code> must be added to the frame or iframe.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>After reading the <a href=\"http://www.w3.org/TR/html5/browsers.html#valid-browsing-context-name-or-keyword\">w3.org spec</a>. I found the sandbox property.</p>\n\n<p>You can set <code>sandbox=\"\"</code>, which prevents the iframe from redirecting. That being said it won't redirect the iframe either. You will lose the click essentially.</p>\n\n<p>Example here: <a href=\"http://jsfiddle.net/ppkzS/1/\">http://jsfiddle.net/ppkzS/1/</a><br>\nExample without sandbox: <a href=\"http://jsfiddle.net/ppkzS/\">http://jsfiddle.net/ppkzS/</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I use sandbox=\"...\"</p>\n\n<ul>\n<li>allow-forms allows form submission</li>\n<li>allow-popups allows popups</li>\n<li>allow-pointer-lock allows pointer lock</li>\n<li>allow-same-origin allows the document to maintain its origin</li>\n<li>allow-scripts allows JavaScript execution, and also allows features to trigger automatically</li>\n<li>allow-top-navigation allows the document to break out of the frame by navigating the top-level window</li>\n</ul>\n\n<p><strong>Top navigation is what you want to prevent, so leave that out and it will not be allowed.  Anything left out will be blocked</strong></p>\n\n<p>ex. </p>\n\n<pre><code>        &lt;iframe sandbox=\"allow-same-origin allow-scripts allow-popups allow-forms\" src=\"http://www.example.com\"&lt;/iframe&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Some websites have code to \"break out\" of <code>IFRAME</code> enclosures, meaning that if a page <code>A</code> is loaded as an <code>IFRAME</code> inside an parent page <code>P</code> some Javascript in <code>A</code> redirects the outer window to <code>A</code>.</p>\n\n<p>Typically this Javascript looks something like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  if (top.location.href != self.location.href)\n     top.location.href = self.location.href;\n&lt;/script&gt;\n</code></pre>\n\n<p>My question is: As the author of the parent page <code>P</code> and not being the author of the inner page <code>A</code>, how can I prevent <code>A</code> from doing this break-out?</p>\n\n<p>P.S. It seems to me like it ought to be a cross-site security violation, but it isn't.</p>\n",
            "last_activity_date": 1390632429,
            "question_id": 369498,
            "score": 61,
            "tags": [
                "javascript",
                "html",
                "iframe"
            ],
            "title": "How to prevent IFRAME from redirecting top-level window"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>I've had exactly the same problem in the past and the only way I found to fix it was to add the callback into the iframe page. Of course that only works when you have control over the iframe content.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I have a similar code in my projects that works fine.\nAdapting my code to your function, a solution could be the following:</p>\n\n<pre><code>function xssRequest(url, callback)\n{\n    var iFrameObj = document.createElement('IFRAME');\n    iFrameObj.id = 'myUniqueID';\n    document.body.appendChild(iFrameObj);       \n    iFrameObj.src = url;                        \n\n    $(iFrameObj).load(function() \n    {\n        callback(window['myUniqueID'].document.body.innerHTML);\n        document.body.removeChild(iFrameObj);\n    });\n}\n</code></pre>\n\n<p>Maybe you have an empty innerHTML because (one or both causes):\n  1. you should use it against the body element\n  2. you have removed the iframe from the your page DOM</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>First up, going by the function name <em>xssRequest</em> it sounds like you're trying cross site request - which if that's right, you're not going to be able to read the contents of the iframe.</p>\n\n<p>On the other hand, if the iframe's URL is on your domain you can access the body, but I've found that if I use a timeout to remove the iframe the callback works fine:</p>\n\n<pre><code>// possibly excessive use of jQuery - but I've got a live working example in production\n$('#myUniqueID').load(function () {\n  if (typeof callback == 'function') {\n    callback($('body', this.contentWindow.document).html());\n  }\n  setTimeout(function () {$('#frameId').remove();}, 50);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 32
                },
                {
                    "body": "<p>I have had to do this in cases where documents such as word docs and pdfs were being streamed to the iframe and found a solution that works pretty well. The key is handling the <code>onreadystatechanged</code> event on the iframe.</p>\n\n<p>Lets say the name of your frame is \"myIframe\". First somewhere in your code startup (I do it inline any where after the iframe) add something like this to register the event handler:</p>\n\n<pre><code>document.getElementById('myIframe').onreadystatechange = MyIframeReadyStateChanged;\n</code></pre>\n\n<p>I was not able to use an onreadystatechage attribute on the iframe, I can't remember why, but the app had to work in IE 7 and Safari 3, so that may of been a factor.</p>\n\n<p>Here is an example of a how to get the complete state:</p>\n\n<pre><code>function MyIframeReadyStateChanged()\n{\n    if(document.getElementById('myIframe').readyState == 'complete')\n    {\n        // Do your complete stuff here.\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I think the load event is right. \nWhat is not right is the way you use to retreive the content from iframe content dom.</p>\n\n<p>What you need is the html of the page loaded in the iframe not the html of the iframe object.</p>\n\n<p>What you have to do is to access the content document with <code>iFrameObj.contentDocument</code>.\nThis returns the dom of the page loaded inside the iframe, if it is on the same domain of the current page.</p>\n\n<p>I would retreive the content before removing the iframe.</p>\n\n<p>I've tested in firefox and opera.</p>\n\n<p>Then i think you can retreive your data with <code>$(childDom).html()</code> or <code>$(childDom).find('some selector') ...</code></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The innerHTML of your iframe is blank because your iframe tag doesn't surround any content in the parent document. In order to get the content from the page referred to by the iframe's src attribute, you need to access the iframe's contentDocument property. An exception will be thrown if the src is from a different domain though. This is a security feature that prevents you from executing arbitrary JavaScript on someone else's page, which would create a cross-site scripting vulnerability. Here is some example code the illustrates what I'm talking about:</p>\n\n<pre><code>&lt;script src=\"http://prototypejs.org/assets/2009/8/31/prototype.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n&lt;h1&gt;Parent&lt;/h1&gt;\n\n&lt;script type=\"text/javascript\"&gt;\nfunction on_load(iframe) {\n  try {\n    // Displays the first 50 chars in the innerHTML of the\n    // body of the page that the iframe is showing.\n    // EDIT 2012-04-17: for wider support, fallback to contentWindow.document\n    var doc = iframe.contentDocument || iframe.contentWindow.document;\n    alert(doc.body.innerHTML.substring(0, 50));\n  } catch (e) {\n    // This can happen if the src of the iframe is\n    // on another domain\n    alert('exception: ' + e);\n  }\n}\n&lt;/script&gt;\n&lt;iframe id=\"child\" src=\"iframe_content.html\" onload=\"on_load(this)\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>To further the example, try using this as the content of the iframe:</p>\n\n<pre><code>&lt;h1&gt;Child&lt;/h1&gt;\n\n&lt;a href=\"http://www.google.com/\"&gt;Google&lt;/a&gt;\n\n&lt;p&gt;Use the preceeding link to change the src of the iframe\nto see what happens when the src domain is different from\nthat of the parent page&lt;/p&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I had a similar problem as you. What I did is that I use something called jQuery. What you then do in the javascript code is this:</p>\n\n<pre><code>$(function(){ //this is regular jQuery code. It waits for the dom to load fully the first time you open the page.\n\n    $(\"#myIframeId\").load(function(){\n       callback($(\"#myIframeId\").html());\n       $(\"#myIframeId\").remove();\n\n    });\n\n});\n</code></pre>\n\n<p>It seems as you delete you iFrame before you grab the html from it. Now, I do see a problem with that :p</p>\n\n<p>Hope this helps :).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I found this link helpful:</p>\n\n<p><a href=\"http://www.nczonline.net/blog/2009/09/15/iframes-onload-and-documentdomain/\">http://www.nczonline.net/blog/2009/09/15/iframes-onload-and-documentdomain/</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I am using jQuery and surprisingly this seems to load as I just tested and loaded a heavy page and I didn't get the alert for a few seconds until I saw the iframe load:</p>\n\n<pre><code>$('#the_iframe').load(function(){\n    alert('loaded!');\n});\n</code></pre>\n\n<p>So if you don't want to use jQuery take a look at their source code and see if this function behaves differently with iframe DOM elements, I will look at it myself later as I am interested and post here. Also I only tested in the latest chrome.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>I wanted to hide the waiting spinner div when the i frame content is fully loaded on IE, i tried literally every solution mentioned in Stackoverflow.Com, but with nothing worked as i wanted.</p>\n\n<p>Then i had an idea, that when the i frame content is fully loaded, the $(Window ) load event might be fired. And that exactly what happened. So, i wrote this small script, and worked like magic:</p>\n\n<pre><code>     $(window).load(function () {\n     //alert(\"Done window ready \");\n     var lblWait = document.getElementById(\"lblWait\");\n     if (lblWait != null ) {\n         lblWait.style.visibility = \"false\";\n         document.getElementById(\"divWait\").style.display = \"none\";\n     }\n });\n</code></pre>\n\n<p>Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I need to execute a callback when an IFRAME has finished loading. I have no control over the content in the IFRAME, so I can't fire the callback from there.</p>\n\n<p>This IFRAME is programmaticly created, and I need to pass its data as a variable in the callback, as well as destroy the iframe.</p>\n\n<p>Any ideas?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Here is what I have now:</p>\n\n<pre><code>function xssRequest(url, callback)\n{\n    var iFrameObj = document.createElement('IFRAME');\n    iFrameObj.src = url;\t\t\t\n    document.body.appendChild(iFrameObj);\t\n\n    $(iFrameObj).load(function() \n    {\n    \tdocument.body.removeChild(iFrameObj);\n    \tcallback(iFrameObj.innerHTML);\n    });\n}\n</code></pre>\n\n<p>This callsback before the iFrame has loaded, so the callback has no data returned.</p>\n",
            "last_activity_date": 1418199379,
            "question_id": 164085,
            "score": 84,
            "tags": [
                "javascript",
                "events",
                "dom",
                "iframe"
            ],
            "title": "Javascript callback when IFRAME is finished loading?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>The Date constructor in JavaScript needs a string in one of the date formats supported by the parse() method.</p>\n\n<p>Apparently, the format you are specifying isn't supported in IE, so you'll need to either change the PHP code, or parse the string manually in JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Send the date text and format in which you are sending the datetext in the below method. It will parse and return as date and this is independent of browser.</p>\n\n<pre><code>function cal_parse_internal(val, format) {\nval = val + \"\";\nformat = format + \"\";\nvar i_val = 0;\nvar i_format = 0;\nvar x, y;\nvar now = new Date(dbSysCurrentDate);\nvar year = now.getYear();\nvar month = now.getMonth() + 1;\nvar date = now.getDate();\n\nwhile (i_format &lt; format.length) {\n    // Get next token from format string\n    var c = format.charAt(i_format);\n    var token = \"\";\n    while ((format.charAt(i_format) == c) &amp;&amp; (i_format &lt; format.length)) {\n        token += format.charAt(i_format++);\n    }\n    // Extract contents of value based on format token\n    if (token == \"yyyy\" || token == \"yy\" || token == \"y\") {\n        if (token == \"yyyy\") { x = 4; y = 4; }\n        if (token == \"yy\")   { x = 2; y = 2; }\n        if (token == \"y\")    { x = 2; y = 4; }\n        year = _getInt(val, i_val, x, y);\n        if (year == null) { return 0; }\n        i_val += year.length;\n        if (year.length == 2) {\n            if (year &gt; 70) {\n                year = 1900 + (year - 0);\n            } else {\n                year = 2000 + (year - 0);\n            }\n        }\n    } else if (token == \"MMMM\") {\n        month = 0;\n        for (var i = 0; i &lt; MONTHS_LONG.length; i++) {\n            var month_name = MONTHS_LONG[i];\n            if (val.substring(i_val, i_val + month_name.length) == month_name) {\n                month = i + 1;\n                i_val += month_name.length;\n                break;\n            }\n        }\n        if (month &lt; 1 || month &gt; 12) { return 0; }\n    } else if (token == \"MMM\") {\n        month = 0;\n        for (var i = 0; i &lt; MONTHS_SHORT.length; i++) {\n            var month_name = MONTHS_SHORT[i];\n            if (val.substring(i_val, i_val + month_name.length) == month_name) {\n                month = i + 1;\n                i_val += month_name.length;\n                break;\n            }\n        }\n        if (month &lt; 1 || month &gt; 12) { return 0; }\n    } else if (token == \"MM\" || token == \"M\") {     \n        month = _getInt(val, i_val, token.length, 2);\n        if (month == null || month &lt; 1 || month &gt; 12) { return 0; }\n        i_val += month.length;\n    } else if (token == \"dd\" || token == \"d\") {\n        date = _getInt(val, i_val, token.length, 2);\n        if (date == null || date &lt; 1 || date &gt; 31) { return 0; }\n        i_val += date.length;\n    } else {\n        if (val.substring(i_val, i_val+token.length) != token) {return 0;}\n        else {i_val += token.length;}\n    }\n}\n\n// If there are any trailing characters left in the value, it doesn't match\nif (i_val != val.length) { return 0; }\n\n// Is date valid for month?\nif (month == 2) {\n    // Check for leap year\n    if ((year%4 == 0 &amp;&amp; year%100 != 0) || (year%400 == 0)) { // leap year\n        if (date &gt; 29) { return false; }\n    } else {\n        if (date &gt; 28) { return false; }\n    }\n}\nif (month == 4 || month == 6 || month == 9 || month == 11) {\n    if (date &gt; 30) { return false; }\n}\nreturn new Date(year, month - 1, date);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The Date constructor accepts any value. If the primitive [[value]] of the argument is number, then the Date that is created has that value. If primitive [[value]] is String, then the specification only guarantees that the Date constructor and the parse method are capable of parsing the result of Date.prototype.toString and Date.prototype.toUTCString()</p>\n\n<p>A reliable way to set a Date is to construct one and use the <code>setFullYear</code> and <code>setTime</code> methods.</p>\n\n<p>An example of that appears here:\n<a href=\"http://jibbering.com/faq/#parseDate\">http://jibbering.com/faq/#parseDate</a></p>\n\n<p>ECMA-262 r3 does not define any date formats. Passing string values to the Date constructor or Date.parse has implementation-dependent outcome. It is best avoided.</p>\n\n<p><hr><em>Edit:</em>\nThe entry from comp.lang.javascript FAQ is:\nAn Extended ISO 8601 local date format <code>YYYY-MM-DD</code> can be parsed to a <code>Date</code> with the following:-</p>\n\n<pre><code>/**Parses string formatted as YYYY-MM-DD to a Date object.\n * If the supplied string does not match the format, an \n * invalid Date (value NaN) is returned.\n * @param {string} dateStringInRange format YYYY-MM-DD, with year in\n * range of 0000-9999, inclusive.\n * @return {Date} Date object representing the string.\n */\n\n  function parseISO8601(dateStringInRange) {\n    var isoExp = /^\\s*(\\d{4})-(\\d\\d)-(\\d\\d)\\s*$/,\n        date = new Date(NaN), month,\n        parts = isoExp.exec(dateStringInRange);\n\n    if(parts) {\n      month = +parts[2];\n      date.setFullYear(parts[1], month - 1, parts[3]);\n      if(month != date.getMonth() + 1) {\n        date.setTime(NaN);\n      }\n    }\n    return date;\n  }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 51
                },
                {
                    "body": "<p>Don't use \"new Date()\", because it takes the input date string as local time:</p>\n\n<pre><code>new Date('11/08/2010').getTime()-new Date('11/07/2010').getTime();  //90000000\nnew Date('11/07/2010').getTime()-new Date('11/06/2010').getTime();  //86400000\n</code></pre>\n\n<p>we should use \"NewDate()\", it takes the input as GMT time:</p>\n\n<pre><code>function NewDate(str)\n         {str=str.split('-');\n          var date=new Date();\n          date.setUTCFullYear(str[0], str[1]-1, str[2]);\n          date.setUTCHours(0, 0, 0, 0);\n          return date;\n         }\nNewDate('2010-11-07').toGMTString();\nNewDate('2010-11-08').toGMTString();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Here's my approach:</p>\n\n<pre><code>var parseDate = function(dateArg) {\n    var dateValues = dateArg.split('-');\n    var date = new Date(dateValues[0],dateValues[1],dateValues[2]);\n    return date.format(\"m/d/Y\");\n}\n</code></pre>\n\n<p>replace <code>('-')</code> with the delimeter you're using.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's a code snippet that fixes that behavior of IE\n(v['date'] is a comma separated date-string, e.g. \"2010,4,1\"):</p>\n\n<pre><code>if($.browser.msie){\n    $.lst = v['date'].split(',');\n    $.tmp = new Date(parseInt($.lst[0]),parseInt($.lst[1])-1,parseInt($.lst[2]));\n}\nelse {\n    $.tmp = new Date(v['date']);\n}\n</code></pre>\n\n<p>The previous approach didn't consider that JS Date month is ZERO based...</p>\n\n<p>Sorry for not explaining too much, I'm at work and just thought this might help.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>From a mysql datetime/timestamp format:</p>\n\n<pre><code>var dateStr=\"2011-08-03 09:15:11\"; //returned from mysql timestamp/datetime field\nvar a=dateStr.split(\" \");\nvar d=a[0].split(\"-\");\nvar t=a[1].split(\":\");\nvar date = new Date(d[0],(d[1]-1),d[2],t[0],t[1],t[2]);\n</code></pre>\n\n<p>I hope is useful for someone.\nWorks in IE FF Chrome</p>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p>Here's another approach that adds a method to the <code>Date</code> object</p>\n\n<p>usage: <code>var d = (new Date()).parseISO8601(\"1971-12-15\");</code></p>\n\n<pre>\n    /**\n     * Parses the ISO 8601 formated date into a date object, ISO 8601 is YYYY-MM-DD\n     * \n     * @param {String} date the date as a string eg 1971-12-15\n     * @returns {Date} Date object representing the date of the supplied string\n     */\n    Date.prototype.parseISO8601 = function(date){\n        var matches = date.match(/^\\s*(\\d{4})-(\\d{2})-(\\d{2})\\s*$/);\n\n        if(matches){\n            this.setFullYear(parseInt(matches[1]));    \n            this.setMonth(parseInt(matches[2]) - 1);    \n            this.setDate(parseInt(matches[3]));    \n        }\n\n        return this;\n    };\n</pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I always store my date in UTC time.</p>\n\n<p>This is my own function made from the different functions I found in this page.</p>\n\n<p>It takes a STRING as a mysql DATETIME format (example : 2013-06-15 15:21:41). The checking with the regex is optional. You can delete this part to improve performance.</p>\n\n<p>This function return a timestamp.</p>\n\n<p><strong>The DATETIME is considered as a UTC date</strong>.\nBe carefull : If you expect a local datetime, this function is not for you.</p>\n\n<pre><code>    function datetimeToTimestamp(datetime)\n    {\n        var regDatetime = /^[0-9]{4}-(?:[0]?[0-9]{1}|10|11|12)-(?:[012]?[0-9]{1}|30|31)(?: (?:[01]?[0-9]{1}|20|21|22|23)(?::[0-5]?[0-9]{1})?(?::[0-5]?[0-9]{1})?)?$/;\n        if(regDatetime.test(datetime) === false)\n            throw(\"Wrong format for the param. `Y-m-d H:i:s` expected.\");\n\n        var a=datetime.split(\" \");\n        var d=a[0].split(\"-\");\n        var t=a[1].split(\":\");\n\n        var date = new Date();\n        date.setUTCFullYear(d[0],(d[1]-1),d[2]);\n        date.setUTCHours(t[0],t[1],t[2], 0);\n\n        return date.getTime();\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use the following code to parse ISO8601 date string:</p>\n\n<pre><code>function parseISO8601(d) {\n    var timestamp = d;\n    if (typeof (d) !== 'number') {\n        timestamp = Date.parse(d);\n    }\n    return new Date(timestamp);\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to build a little calendar in javascript, and I've got my dates working great in Firefox and chrome, but in IE, the date functions are returning NAN. </p>\n\n<p>Here is the function </p>\n\n<pre>\nfunction buildWeek(dateText){\n            alert(dateText);\n            var headerDates='';\n            var newDate = new Date(dateText);\n            var startSched=formatDates(newDate);\n\n            newDate.setDate(newDate.getDate()-1);\n\n            for(var d=0;d';\n            newDate.setDate(newDate.getDate()+5);\n            newDate.setDate(newDate.getDate()+1);\n            var theseDates=formatDates(newDate);\n            headerDates+=''+theseDates[1][0]+'';\n            if(d==6){\n            newDate.setDate(newDate.getDate()+2);\n            theseDates=formatDates(newDate);\n            headerDates+='>';                }\n                            }                       \n        jQuery('div#headerDates').html(''+headerDates+'');\n                                }\n</pre>\n\n<p>The datetext is the monday of the current week which is actually set in php in the format of 'm, d, Y'. </p>\n\n<p>Eg (02, 01, 2010);</p>\n",
            "last_activity_date": 1409309320,
            "question_id": 2182246,
            "score": 48,
            "tags": [
                "javascript",
                "internet-explorer",
                "date"
            ],
            "title": "javascript dates in IE, NAN - firefox &amp; chrome ok"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>If you can have your quote delimiter be double-quotes, then this is a duplicate of <a href=\"http://stackoverflow.com/questions/1293147/javascript-code-to-parse-csv-data\">JavaScript Code to Parse CSV Data</a>.</p>\n\n<p>You can either translate all single-quotes to double-quotes first:</p>\n\n<pre><code>string = string.replace( /'/g, '\"' );\n</code></pre>\n\n<p>...or you can edit the regex in that question to recognize single-quotes instead of double-quotes:</p>\n\n<pre><code>// Quoted fields.\n\"(?:'([^']*(?:''[^']*)*)'|\" +\n</code></pre>\n\n<p><em>However, this assumes certain markup that is not clear from your question. Please clarify what all the various possibilities of markup can be, per my comment on your question.</em></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>According to <a href=\"http://www.greywyvern.com/?post=258\" rel=\"nofollow\">this blog post</a>, this function should do it:</p>\n\n<pre><code>String.prototype.splitCSV = function(sep) {\n  for (var foo = this.split(sep = sep || \",\"), x = foo.length - 1, tl; x &gt;= 0; x--) {\n    if (foo[x].replace(/'\\s+$/, \"'\").charAt(foo[x].length - 1) == \"'\") {\n      if ((tl = foo[x].replace(/^\\s+'/, \"'\")).length &gt; 1 &amp;&amp; tl.charAt(0) == \"'\") {\n        foo[x] = foo[x].replace(/^\\s*'|'\\s*$/g, '').replace(/''/g, \"'\");\n      } else if (x) {\n        foo.splice(x - 1, 2, [foo[x - 1], foo[x]].join(sep));\n      } else foo = foo.shift().split(sep).concat(foo);\n    } else foo[x].replace(/''/g, \"'\");\n  } return foo;\n};\n</code></pre>\n\n<p>You would call it like so:</p>\n\n<pre><code>var string = \"'string, duppi, du', 23, lala\";\nvar parsed = string.splitCSV();\nalert(parsed.join(\"|\"));\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/F9pbv/1/\" rel=\"nofollow\">This jsfiddle</a> kind of works, but it looks like some of the elements have spaces before them.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>My answer presumes your input is a reflection of code/content from web sources where single and double quote characters are fully interchangeable provided they occur as an non-escaped matching set.</p>\n\n<p>You cannot use regex for this.  You actually have to write a micro parser to analyze the string you wish to split.  I will, for the sake of this answer, call the quoted parts of your strings as sub-strings.  You need to specifically walk across the string. Consider the following case:</p>\n\n<pre><code>var a = \"some sample string with \\\"double quotes\\\" and 'single quotes' and some craziness like this: \\\\\\\" or \\\\'\",\n    b = \"sample of code from JavaScript with a regex containing a comma /\\,/ that should probably be ignored.\";\n</code></pre>\n\n<p>In this case you have absolutely no idea where a sub-string starts or ends by simply analyzing the input for a character pattern.  Instead you have to write logic to make decisions on whether a quote character is used a quote character, is itself unquoted, and that the quote character is not following an escape.</p>\n\n<p>I am not going to write that level of complexity of code for you, but you can look at something I recently wrote that has the pattern you need.  This code has nothing to do with commas, but is otherwise a valid enough micro-parser for you to follow in writing your own code.  Look into the asifix function of the following application:</p>\n\n<p><a href=\"https://github.com/austincheney/Pretty-Diff/blob/master/fulljsmin.js\" rel=\"nofollow\">https://github.com/austincheney/Pretty-Diff/blob/master/fulljsmin.js</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<h2>Disclaimer</h2>\n\n<p>2014-12-01 Update: The answer below works only for one very specific format of CSV. As correctly pointed out by DG in the comments, this solution does NOT fit the RFC 4180 definition of CSV and it also does NOT fit MS Excel format. This solution simply demonstrates how one can parse one (non-standard) CSV line of input which contains a mix of string types, where the strings may contain escaped quotes and commas.</p>\n\n<h2>A non-standard CSV solution</h2>\n\n<p>As austincheney correctly points out, you really need to parse the string from start to finish if you wish to properly handle quoted strings that may contain escaped characters. Also, the OP does not clearly define what a \"CSV string\" really is. First we must define what constitutes a valid CSV string and its individual values.</p>\n\n<h2>Given: \"CSV String\" Definition</h2>\n\n<p>For the purpose of this discussion, a \"CSV string\" consists of zero or more values, where multiple values are separated by a comma. Each value may consist of:</p>\n\n<ol>\n<li>A double quoted string. (may contain unescaped single quotes.)</li>\n<li>A single quoted string. (may contain unescaped double quotes.)</li>\n<li>A non-quoted string. (may NOT contain quotes, commas or backslashes.)</li>\n<li>An empty value. (An all whitespace value is considered empty.)</li>\n</ol>\n\n<p>Rules/Notes:</p>\n\n<ul>\n<li>Quoted values may contain commas.</li>\n<li>Quoted values may contain escaped-anything, e.g. <code>'that\\'s cool'</code>.</li>\n<li>Values containing quotes, commas, or backslashes must be quoted.</li>\n<li>Values containing leading or trailing whitespace must be quoted.</li>\n<li>The backslash is removed from all: <code>\\'</code> in single quoted values.</li>\n<li>The backslash is removed from all: <code>\\\"</code> in double quoted values.</li>\n<li>Non-quoted strings are trimmed of any leading and trailing spaces.</li>\n<li>The comma separator may have adjacent whitespace (which is ignored).</li>\n</ul>\n\n<h2>Find:</h2>\n\n<p>A JavaScript function which converts a valid CSV string (as defined above) into an array of string values.</p>\n\n<h2>Solution:</h2>\n\n<p>The regular expressions used by this solution are complex. And (IMHO) <em>all</em> non-trivial regexes should be presented in free-spacing mode with lots of comments and indentation. Unfortunately, JavaScript does not allow free-spacing mode. Thus, the regular expressions implemented by this solution are first presented in native regex syntax (expressed using Python's handy: <code>r'''...'''</code> raw-multi-line-string syntax). </p>\n\n<p>First here is a regular expression which validates that a CVS string meets the above requirements:</p>\n\n<h2>Regex to validate a \"CSV string\":</h2>\n\n<pre class=\"lang-py prettyprint-override\"><code>re_valid = r\"\"\"\n# Validate a CSV string having single, double or un-quoted values.\n^                                   # Anchor to start of string.\n\\s*                                 # Allow whitespace before value.\n(?:                                 # Group for value alternatives.\n  '[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'     # Either Single quoted string,\n| \"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"     # or Double quoted string,\n| [^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*    # or Non-comma, non-quote stuff.\n)                                   # End group of value alternatives.\n\\s*                                 # Allow whitespace after value.\n(?:                                 # Zero or more additional values\n  ,                                 # Values separated by a comma.\n  \\s*                               # Allow whitespace before value.\n  (?:                               # Group for value alternatives.\n    '[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'   # Either Single quoted string,\n  | \"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"   # or Double quoted string,\n  | [^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*  # or Non-comma, non-quote stuff.\n  )                                 # End group of value alternatives.\n  \\s*                               # Allow whitespace after value.\n)*                                  # Zero or more additional values\n$                                   # Anchor to end of string.\n\"\"\"\n</code></pre>\n\n<p>If a string matches the above regex, then that string is a valid CSV string (according to the rules previously stated) and may be parsed using the following regex. The following regex is then used to match one value from the CSV string. It is applied repeatedly until no more matches are found (and all values have been parsed).</p>\n\n<h2>Regex to parse one value from valid CSV string:</h2>\n\n<pre class=\"lang-py prettyprint-override\"><code>re_value = r\"\"\"\n# Match one value in valid CSV string.\n(?!\\s*$)                            # Don't match empty last value.\n\\s*                                 # Strip whitespace before value.\n(?:                                 # Group for value alternatives.\n  '([^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*)'   # Either $1: Single quoted string,\n| \"([^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*)\"   # or $2: Double quoted string,\n| ([^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)  # or $3: Non-comma, non-quote stuff.\n)                                   # End group of value alternatives.\n\\s*                                 # Strip whitespace after value.\n(?:,|$)                             # Field ends on comma or EOS.\n\"\"\"\n</code></pre>\n\n<p>Note that there is one special case value that this regex does not match - the very last value when that value is empty. This special <em>\"empty last value\"</em> case is tested for and handled by the js function which follows.</p>\n\n<h2>JavaScript function to parse CSV string:</h2>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Return array of string values, or NULL if CSV string not well formed.\nfunction CSVtoArray(text) {\n    var re_valid = /^\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*(?:,\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*)*$/;\n    var re_value = /(?!\\s*$)\\s*(?:'([^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*)'|\"([^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*)\"|([^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*))\\s*(?:,|$)/g;\n    // Return NULL if input string is not well formed CSV string.\n    if (!re_valid.test(text)) return null;\n    var a = [];                     // Initialize array to receive values.\n    text.replace(re_value, // \"Walk\" the string using replace with callback.\n        function(m0, m1, m2, m3) {\n            // Remove backslash from \\' in single quoted values.\n            if      (m1 !== undefined) a.push(m1.replace(/\\\\'/g, \"'\"));\n            // Remove backslash from \\\" in double quoted values.\n            else if (m2 !== undefined) a.push(m2.replace(/\\\\\"/g, '\"'));\n            else if (m3 !== undefined) a.push(m3);\n            return ''; // Return empty string.\n        });\n    // Handle special case of empty last value.\n    if (/,\\s*$/.test(text)) a.push('');\n    return a;\n};\n</code></pre>\n\n<h2>Example input and output:</h2>\n\n<p>In the following examples, curly braces are used to delimit the <code>{result strings}</code>. (This is to help visualize leading/trailing spaces and zero-length strings.)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Test 1: Test string from original question.\nvar test = \"'string, duppi, du', 23, lala\";\nvar a = CSVtoArray(test);\n/* Array hes 3 elements:\n    a[0] = {string, duppi, du}\n    a[1] = {23}\n    a[2] = {lala} */\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Test 2: Empty CSV string.\nvar test = \"\";\nvar a = CSVtoArray(test);\n/* Array hes 0 elements: */\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Test 3: CSV string with two empty values.\nvar test = \",\";\nvar a = CSVtoArray(test);\n/* Array hes 2 elements:\n    a[0] = {}\n    a[1] = {} */\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Test 4: Double quoted CSV string having single quoted values.\nvar test = \"'one','two with escaped \\' single quote', 'three, with, commas'\";\nvar a = CSVtoArray(test);\n/* Array hes 3 elements:\n    a[0] = {one}\n    a[1] = {two with escaped ' single quote}\n    a[2] = {three, with, commas} */\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Test 5: Single quoted CSV string having double quoted values.\nvar test = '\"one\",\"two with escaped \\\" double quote\", \"three, with, commas\"';\nvar a = CSVtoArray(test);\n/* Array hes 3 elements:\n    a[0] = {one}\n    a[1] = {two with escaped \" double quote}\n    a[2] = {three, with, commas} */\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Test 6: CSV string with whitespace in and around empty and non-empty values.\nvar test = \"   one  ,  'two'  ,  , ' four' ,, 'six ', ' seven ' ,  \";\nvar a = CSVtoArray(test);\n/* Array hes 8 elements:\n    a[0] = {one}\n    a[1] = {two}\n    a[2] = {}\n    a[3] = { four}\n    a[4] = {}\n    a[5] = {six }\n    a[6] = { seven }\n    a[7] = {} */\n</code></pre>\n\n<h2>Additional notes:</h2>\n\n<p>This solution requires that the CSV string be \"valid\". For example, unquoted values may not contain backslashes or quotes, e.g. the following CSV string is NOT valid:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var invalid1 = \"one, that's me!, escaped \\, comma\"\n</code></pre>\n\n<p>This is not really a limitation because any sub-string may be represented as either a single or double quoted value. Note also that this solution represents only one possible definition for: \"Comma Separated Values\".</p>\n\n<p><strong>Edit: 2014-05-19:</strong> Added disclaimer.\n<strong>Edit: 2014-12-01:</strong> Moved disclaimer to top.</p>\n",
                    "is_accepted": true,
                    "score": 76
                },
                {
                    "body": "<p>People seemed to be against RegEx for this.  Why?</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>(\\s*'[^']+'|\\s*[^,]+)(?=,|$)\n</code></pre>\n\n<p>Here's the code.  I also made a <a href=\"http://jsfiddle.net/xTezm/2/\" rel=\"nofollow\">fiddle</a>.</p>\n\n<pre><code>String.prototype.splitCSV = function(sep) {\n  var regex = /(\\s*'[^']+'|\\s*[^,]+)(?=,|$)/g;\n  return matches = this.match(regex);    \n}\n\nvar string = \"'string, duppi, du', 23, 'string, duppi, du', lala\";\nvar parsed = string.splitCSV();\nalert(parsed.join('|'));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>PEG(.js) grammar that handles RFC 4180 examples at <a href=\"http://en.wikipedia.org/wiki/Comma-separated_values\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Comma-separated_values</a>:</p>\n\n<pre><code>start\n  = [\\n\\r]* first:line rest:([\\n\\r]+ data:line { return data; })* [\\n\\r]* { rest.unshift(first); return rest; }\n\nline\n  = first:field rest:(\",\" text:field { return text; })*\n    &amp; { return !!first || rest.length; } // ignore blank lines\n    { rest.unshift(first); return rest; }\n\nfield\n  = '\"' text:char* '\"' { return text.join(''); }\n  / text:[^\\n\\r,]* { return text.join(''); }\n\nchar\n  = '\"' '\"' { return '\"'; }\n  / [^\"]\n</code></pre>\n\n<p>Test at <a href=\"http://jsfiddle.net/knvzk/10\" rel=\"nofollow\">http://jsfiddle.net/knvzk/10</a> or <a href=\"http://pegjs.majda.cz/online\" rel=\"nofollow\">http://pegjs.majda.cz/online</a>.</p>\n\n<p>Download the generated parser at <a href=\"https://gist.github.com/3362830\" rel=\"nofollow\">https://gist.github.com/3362830</a>.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have the following type of string</p>\n\n<pre><code>var string = \"'string, duppi, du', 23, lala\"\n</code></pre>\n\n<p>I want to split the string into an array on each comma, but only the commas outside the single quotation marks.</p>\n\n<p>I cant figure out the right regex for the split...</p>\n\n<pre><code>string.split(/,/)\n</code></pre>\n\n<p>will give me</p>\n\n<pre><code>[\"'string\", \" duppi\", \" du'\", \" 23\", \" lala\"]\n</code></pre>\n\n<p>but the result should be:</p>\n\n<pre><code>[\"string, duppi, du\", \"23\", \"lala\"]\n</code></pre>\n\n<p>is there any cross browser solution?</p>\n",
            "last_activity_date": 1417496849,
            "question_id": 8493195,
            "score": 24,
            "tags": [
                "javascript",
                "regex",
                "split"
            ],
            "title": "How can I parse a CSV string with Javascript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<pre><code>window.setInterval(function(){\n  /// call your function here\n}, 5000);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 304
                },
                {
                    "body": "<p>you could register an interval on the page using setInterval, ie:</p>\n\n<pre><code>setInterval(function(){ \n    //code goes here that will be run every 5 seconds.    \n}, 5000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 33
                },
                {
                    "body": "<p>Both <code>setInterval</code> and <code>setTimeout</code> can work for you (<strike>as @Doug Neiner and @John Boker wrote</strike> both now point to <code>setInterval</code>).<br>\nSee <a href=\"http://www.elated.com/articles/javascript-timers-with-settimeout-and-setinterval/\" rel=\"nofollow\">here</a> for some more explanation about both to see which suites you most and how to stop each of them.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Just a little tip for the first answer. If your function is already defined, reference the function but don't call it!!! So don't put any parentheses after the function name. Just like:</p>\n\n<pre><code>my_function(){};\nsetInterval(my_function,10000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The functions mentioned above execute no matter if it has completed in previous invocation or not, this one runs after every x seconds once the execution is complete</p>\n\n<pre><code>// Anonymous\n(function(){\n    // Do the Thing Here\n    setTimeout(arguments.callee,5000);\n})();\n\n// Regular function with arguments\nfunction my_func(arg1,arg2){\n    // Do The Thing Here\n    setTimeout(function(){\n         my_func(arg1,arg2);\n    },5000); // Adjust the timeout value as you like\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>JQuery, how to call a function every 5 seconds.</p>\n\n<p>I'm looking for a way to automate the changing of images in a slideshow.  </p>\n\n<p>I'd rather not install any 3rd party plugins if possible.</p>\n",
            "last_activity_date": 1414539763,
            "question_id": 2170923,
            "score": 142,
            "tags": [
                "javascript",
                "jquery",
                "jquery-plugins",
                "timer"
            ],
            "title": "What&#39;s the easiest way to call a function every 5 seconds in jQuery?"
        },
        {
            "answer_count": 14,
            "answers": [
                {
                    "body": "<p>No, there isn't, but you could whip one up:</p>\n\n<pre><code>jQuery.fn.swapWith = function(to) {\n    return this.each(function() {\n        var copy_to = $(to).clone(true);\n        var copy_from = $(this).clone(true);\n        $(to).replaceWith(copy_from);\n        $(this).replaceWith(copy_to);\n    });\n};\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>$(selector1).swapWith(selector2);\n</code></pre>\n\n<p>Note this only works if the selectors only match 1 element each, otherwise it could give weird results.</p>\n",
                    "is_accepted": false,
                    "score": 42
                },
                {
                    "body": "<p>Paulo's right, but I'm not sure why he's cloning the elements concerned. This isn't really necessary and will lose any references or event listeners associated with the elements and their descendants.</p>\n\n<p>Here's a non-cloning version using plain DOM methods (since jQuery doesn't really have any special functions to make this particular operation easier):</p>\n\n<pre><code>function swapNodes(a, b) {\n    var aparent = a.parentNode;\n    var asibling = a.nextSibling === b ? a : a.nextSibling;\n    b.parentNode.insertBefore(a, b);\n    aparent.insertBefore(b, asibling);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 53
                },
                {
                    "body": "<p>The best option is to clone them with clone() method.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You shouldn't need two clones, one will do. Taking Paolo Bergantino answer we have:</p>\n\n<pre><code>jQuery.fn.swapWith = function(to) {\n    return this.each(function() {\n        var copy_to = $(to).clone(true);\n        $(to).replaceWith(this);\n        $(this).replaceWith(copy_to);\n    });\n};\n</code></pre>\n\n<p>Should be quicker. Passing in the smaller of the two elements should also speed things up.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>take a look at jQuery plugin \"Swapable\"</p>\n\n<p><a href=\"http://code.google.com/p/jquery-swapable/\" rel=\"nofollow\">http://code.google.com/p/jquery-swapable/</a></p>\n\n<p>it's built on \"Sortable\" and looks like sortable (drag-n-drop, placeholder, etc.) but  only swap two elements: dragged and dropped. All other elements are not affected and stay on their current position. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you're wanting to swap two items selected in the jQuery object, you can use this method </p>\n\n<p><a href=\"http://www.vertstudios.com/blog/swap-jquery-plugin/\" rel=\"nofollow\">http://www.vertstudios.com/blog/swap-jquery-plugin/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I've made a function which allows you to move <strong>multiple</strong> selected options up or down</p>\n\n<pre><code>$('#your_select_box').move_selected_options('down');\n$('#your_select_boxt').move_selected_options('up');\n</code></pre>\n\n<p>Dependencies:</p>\n\n<pre><code>$.fn.reverse = [].reverse;\nfunction swapWith() (Paolo Bergantino)\n</code></pre>\n\n<p>First it checks whether the first/last selected option is able to move up/down.\nThen it loops through all the elements and calls</p>\n\n<blockquote>\n  <p>swapWith(element.next() or\n  element.prev())</p>\n</blockquote>\n\n<pre><code>jQuery.fn.move_selected_options = function(up_or_down) {\n  if(up_or_down == 'up'){\n      var first_can_move_up = $(\"#\" + this.attr('id') + ' option:selected:first').prev().size();\n      if(first_can_move_up){\n          $.each($(\"#\" + this.attr('id') + ' option:selected'), function(index, option){\n              $(option).swapWith($(option).prev());\n          });\n      }\n  } else {\n      var last_can_move_down = $(\"#\" + this.attr('id') + ' option:selected:last').next().size();\n      if(last_can_move_down){\n        $.each($(\"#\" + this.attr('id') + ' option:selected').reverse(), function(index, option){\n            $(option).swapWith($(option).next());\n        });\n      }\n  }\n  return $(this);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I've found an interesting way to solve this using only jQuery:</p>\n\n<pre><code>$(\"#element1\").before($(\"#element2\"));\n</code></pre>\n\n<p>or </p>\n\n<pre><code>$(\"#element1\").after($(\"#element2\"));\n</code></pre>\n\n<p>:)</p>\n",
                    "is_accepted": true,
                    "score": 129
                },
                {
                    "body": "<p>I used a technique like this before. I use it for the connector list on <a href=\"http://mybackupbox.com\" rel=\"nofollow\">http://mybackupbox.com</a> </p>\n\n<pre><code>// clone element1 and put the clone before element2\n$('element1').clone().before('element2').end();\n\n// replace the original element1 with element2\n// leaving the element1 clone in it's place\n$('element1').replaceWith('element2');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I think you can do it very simple. For example let's say you have next structure:\n...</p>\n\n<pre><code>&lt;div id=\"first\"&gt;...&lt;/div&gt;\n&lt;div id=\"second\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>and the result should be </p>\n\n<pre><code>&lt;div id=\"second\"&gt;...&lt;/div&gt;\n&lt;div id=\"first\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>jquery:</p>\n\n<pre><code>$('#second').after($('#first'));\n</code></pre>\n\n<p>I hope it helps!</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I wanted a solution witch does not use clone() as it has side effect with attached events, here is what I ended up to do</p>\n\n<pre><code>jQuery.fn.swapWith = function(target) {\n    if (target.prev().is(this)) {\n        target.insertBefore(this);\n        return;\n    }\n    if (target.next().is(this)) {\n        target.insertAfter(this);\n        return\n    }\n\n    var this_to, this_to_obj,\n        target_to, target_to_obj;\n\n    if (target.prev().length == 0) {\n        this_to = 'before';\n        this_to_obj = target.next();\n    }\n    else {\n        this_to = 'after';\n        this_to_obj = target.prev();\n    }\n    if (jQuery(this).prev().length == 0) {\n        target_to = 'before';\n        target_to_obj = jQuery(this).next();\n    }\n    else {\n        target_to = 'after';\n        target_to_obj = jQuery(this).prev();\n    }\n\n    if (target_to == 'after') {\n        target.insertAfter(target_to_obj);\n    }\n    else {\n        target.insertBefore(target_to_obj);\n    }\n    if (this_to == 'after') {\n        jQuery(this).insertAfter(this_to_obj);\n    }\n    else {\n        jQuery(this).insertBefore(this_to_obj);\n    }\n\n    return this;\n};\n</code></pre>\n\n<p>it must not be used with jQuery objects containing more than one DOM element</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There are a lot of edge cases to this problem, which are not handled by the accepted answer or bobince's answer. Other solutions that involve cloning are on the right track, but cloning is expensive and unnecessary. We're tempted to clone, because of the age-old problem of how to swap two variables, in which one of the steps is to assign one of the variables to a temporary variable. The assignment, (cloning), in this case is not needed. Here is a jQuery-based solution:</p>\n\n<pre><code>function swap(a, b) {\n    a = $(a); b = $(b);\n    var tmp = $('&lt;span&gt;').hide();\n    a.before(tmp);\n    b.before(a);\n    tmp.replaceWith(b);\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>an other one without cloning:</p>\n\n<p>I have an actual and a nominal element to swap:</p>\n\n<pre><code>            $nominal.before('&lt;div /&gt;')\n            $nb=$nominal.prev()\n            $nominal.insertAfter($actual)\n            $actual.insertAfter($nb)\n            $nb.remove()\n</code></pre>\n\n<p>then <code>insert &lt;div&gt; before</code> and the <code>remove</code> afterwards are only needed, if you cant ensure, that there is always an element befor (in my case it is)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you have multiple copies of each element you need to do something in a loop naturally.   I had this situation recently.  The two repeating elements I needed to switch had classes and a container div as so:</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;span class=\"item1\"&gt;xxx&lt;/span&gt;\n  &lt;span class=\"item2\"&gt;yyy&lt;/span&gt;\n&lt;/div&gt; \nand repeat...\n</code></pre>\n\n<p>The following code allowed me to iterate through everything and reverse...</p>\n\n<pre><code>$( \".container \" ).each(function() {\n  $(this).children(\".item2\").after($(this).children(\".item1\"));\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Can I easily swap two elements with jQuery?</p>\n\n<p>I'm looking to do it with one line if possible</p>\n\n<p>I have a select element and I have two buttons to move up or down the options, and I already have the selected and the destination selectors in place, I do it with an if, but I was wondering if there is an easier way</p>\n",
            "last_activity_date": 1424349855,
            "question_id": 698301,
            "score": 105,
            "tags": [
                "javascript",
                "jquery",
                "swap"
            ],
            "title": "Is there a native jQuery function to switch elements?"
        },
        {
            "answer_count": 16,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>i want to know if my memory reduction efforts actually help in reducing memory</p>\n</blockquote>\n\n<p>Following up on this comment, here's what you should do:\nTry to produce a memory problem - Write code that creates all these objects and graudally increase the upper limit until you ran into a problem (Browser crash, Browser freeze or an Out-Of-memory error). Ideally you should repeat this experiment with different browsers and different operating system.</p>\n\n<p>Now there are two options:\noption 1 - You didn't succeed in producing the memory problem. Hence, you are worrying for nothing. You don't have a memory issue and your program is fine.</p>\n\n<p>option 2- you did get a memory problem. Now ask yourself whether the limit at which the problem occurred is reasonable (in other words: is it likely that this amount of objects will be created at normal use of your code). If the answer is 'No' then you're fine. Otherwise you now know how many objects your code can create. Rework the algorithm such that it does not breach this limit.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is a hacky method, but i tried it twice with different numbers and it seems to be consistent.</p>\n\n<p>What you can do is to try and allocate a <em>huge</em> number of objects, like one or two million objects of the kind you want. Put the objects in an array to prevent the garbage collector from releasing them (note that this will add a slight memory overhead because of the array, but i hope this shouldn't matter and besides if you are going to worry about objects being in memory, you store them somewhere). Add an alert before and after the allocation and in each alert check how much memory the Firefox process is taking. Before you open the page with the test, make sure you have a fresh Firefox instance. Open the page, note the memory usage after the \"before\" alert is shown. Close the alert, wait for the memory to be allocated. Subtract the new memory from the older and divide it by the amount of allocations. Example:</p>\n\n<pre><code>function Marks()\n{\n  this.maxMarks = 100;\n}\n\nfunction Student()\n{\n  this.firstName = \"firstName\";\n  this.lastName = \"lastName\";\n  this.marks = new Marks();\n}\n\nvar manyObjects = new Array();\nalert('before');\nfor (var i=0; i&lt;2000000; i++)\n    manyObjects[i] = new Student();\nalert('after');\n</code></pre>\n\n<p>I tried this in my computer and the process had 48352K of memory when the \"before\" alert was shown. After the allocation, Firefox had 440236K of memory. For 2million allocations, this is about 200 bytes for each object.</p>\n\n<p>I tried it again with 1million allocations and the result was similar: 196 bytes per object (i suppose the extra data in 2mill was used for Array).</p>\n\n<p>So, here is a hacky method that might help you. JavaScript doesn't provide a \"sizeof\" method for a reason: each JavaScript implementaion is different. In Google Chrome for example the same page uses about 66 bytes for each object (judging from the task manager at least).</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>If your main concern is the memory usage of your Firefox extension, I suggest checking with Mozilla developers. </p>\n\n<p>Mozilla provides on its wiki a <a href=\"https://wiki.mozilla.org/Performance%3ALeak_Tools\" rel=\"nofollow\">list of tools to analyze memory leaks</a>. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I just wrote this to solve a similar (ish) problem. It doesn't exactly do what you may be looking for, ie it doesn't take into account how the interpreter stores the object.</p>\n\n<p>But, if you are using V8, it should give you a fairly ok approximation as the awesome prototyping and hidden classes lick up most of the overhead.</p>\n\n<pre><code>function roughSizeOfObject( object ) {\n\n    var objectList = [];\n\n    var recurse = function( value )\n    {\n        var bytes = 0;\n\n        if ( typeof value === 'boolean' ) {\n            bytes = 4;\n        }\n        else if ( typeof value === 'string' ) {\n            bytes = value.length * 2;\n        }\n        else if ( typeof value === 'number' ) {\n            bytes = 8;\n        }\n        else if\n        (\n            typeof value === 'object'\n            &amp;&amp; objectList.indexOf( value ) === -1\n        )\n        {\n            objectList[ objectList.length ] = value;\n\n            for( i in value ) {\n                bytes+= 8; // an assumed existence overhead\n                bytes+= recurse( value[i] )\n            }\n        }\n\n        return bytes;\n    }\n\n    return recurse( object );\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 43
                },
                {
                    "body": "<p>Sorry I could not comment, so I just continue the work from tomwrong.\nThis enhanced version will not count object more than once, thus no infinite loop.\nPlus, I reckon the key of an object should be also counted, roughly.</p>\n\n<pre><code>function roughSizeOfObject( value, level ) {\n    if(level == undefined) level = 0;\n    var bytes = 0;\n\n    if ( typeof value === 'boolean' ) {\n        bytes = 4;\n    }\n    else if ( typeof value === 'string' ) {\n        bytes = value.length * 2;\n    }\n    else if ( typeof value === 'number' ) {\n        bytes = 8;\n    }\n    else if ( typeof value === 'object' ) {\n        if(value['__visited__']) return 0;\n        value['__visited__'] = 1;\n        for( i in value ) {\n            bytes += i.length * 2;\n            bytes+= 8; // an assumed existence overhead\n            bytes+= roughSizeOfObject( value[i], 1 )\n        }\n    }\n\n    if(level == 0){\n        clear__visited__(value);\n    }\n    return bytes;\n}\n\nfunction clear__visited__(value){\n    if(typeof value == 'object'){\n        delete value['__visited__'];\n        for(var i in value){\n            clear__visited__(value[i]);\n        }\n    }\n}\n\nroughSizeOfObject(a);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<pre><code>function sizeOf(parent_data, size)\n{\n    for (var prop in parent_data)\n    {\n        let value = parent_data[prop];\n\n        if (typeof value === 'boolean')\n        {\n            size += 4;\n        }\n        else if (typeof value === 'string')\n        {\n            size += value.length * 2;\n        }\n        else if (typeof value === 'number')\n        {\n             size += 8;\n        }\n        else\n        {      \n            let oldSize = size;\n            size += sizeOf(value, oldSize) - oldSize;\n        }\n    }\n\n    return size;\n}\n\n\nfunction roughSizeOfObject(object)\n{   \n    let size = 0;\n    for each (let prop in object)\n    {    \n        size += sizeOf(prop, 0);\n    } // for..\n    return size;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I believe you forgot to include 'array'.</p>\n\n<pre><code>  typeOf : function(value) {\n        var s = typeof value;\n        if (s === 'object')\n        {\n            if (value)\n            {\n                if (typeof value.length === 'number' &amp;&amp; !(value.propertyIsEnumerable('length')) &amp;&amp; typeof value.splice === 'function')\n                {\n                    s = 'array';\n                }\n            }\n            else\n            {\n                s = 'null';\n            }\n        }\n        return s;\n    },\n\n   estimateSizeOfObject: function(value, level)\n    {\n        if(undefined === level)\n            level = 0;\n\n        var bytes = 0;\n\n        if ('boolean' === typeOf(value))\n            bytes = 4;\n        else if ('string' === typeOf(value))\n            bytes = value.length * 2;\n        else if ('number' === typeOf(value))\n            bytes = 8;\n        else if ('object' === typeOf(value) || 'array' === typeOf(value))\n        {\n            for(var i in value)\n            {\n                bytes += i.length * 2;\n                bytes+= 8; // an assumed existence overhead\n                bytes+= estimateSizeOfObject(value[i], 1)\n            }\n        }\n        return bytes;\n    },\n\n   formatByteSize : function(bytes)\n    {\n        if (bytes &lt; 1024)\n            return bytes + \" bytes\";\n        else\n        {\n            var floatNum = bytes/1024;\n            return floatNum.toFixed(2) + \" kb\";\n        }\n    },\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>I have re-factored the code in my <a href=\"http://stackoverflow.com/a/6351386/560383\">original answer</a>. I have removed the recursion and removed the assumed existence overhead.</p>\n\n<pre><code>function roughSizeOfObject( object ) {\n\n    var objectList = [];\n    var stack = [ object ];\n    var bytes = 0;\n\n    while ( stack.length ) {\n        var value = stack.pop();\n\n        if ( typeof value === 'boolean' ) {\n            bytes += 4;\n        }\n        else if ( typeof value === 'string' ) {\n            bytes += value.length * 2;\n        }\n        else if ( typeof value === 'number' ) {\n            bytes += 8;\n        }\n        else if\n        (\n            typeof value === 'object'\n            &amp;&amp; objectList.indexOf( value ) === -1\n        )\n        {\n            objectList.push( value );\n\n            for( var i in value ) {\n                stack.push( value[ i ] );\n            }\n        }\n    }\n    return bytes;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 64
                },
                {
                    "body": "<p>The Google Chrome Heap Profiler allows you to inspect object memory use.</p>\n\n<p>You need to be able to locate the object in the trace which can be tricky. If you pin the object to the Window global, it is pretty easy to find from the \"Containment\" listing mode.</p>\n\n<p>In the attached screenshot, I created an object called \"testObj\" on the window. I then located in the profiler (after making a recording) and it shows the full size of the object and everything in it under \"retained size\".</p>\n\n<p>More details on the memory breakdowns here - <a href=\"https://developers.google.com/chrome-developer-tools/docs/memory-analysis-101#object_sizes\">https://developers.google.com/chrome-developer-tools/docs/memory-analysis-101#object_sizes</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/UPvpD.png\" alt=\"Chrome profiler\"></p>\n\n<p>In the above screenshot, the object shows a retained size of 60. I believe the unit is bytes here.</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>Chrome developer tools has this functionality. I found this article very helpful and does exactly what you want:\n<a href=\"https://developers.google.com/chrome-developer-tools/docs/heap-profiling\" rel=\"nofollow\">https://developers.google.com/chrome-developer-tools/docs/heap-profiling</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Many thanks to everyone that has been working on code for this!</p>\n\n<p>I just wanted to add that I've been looking for exactly the same thing, but in my case it's for managing a cache of processed objects to avoid having to re-parse and process objects from ajax calls that may or may not have been cached by the browser. This is especially useful for objects that require a lot of processing, usually anything that isn't in JSON format, but it can get very costly to keep these things cached in a large project or an app/extension that is left running for a long time.</p>\n\n<p>Anyway, I use it for something something like:</p>\n\n<pre><code>var myCache = {\n    cache: {},\n    order: [],\n    size: 0,\n    maxSize: 2 * 1024 * 1024, // 2mb\n\n    add: function(key, object) {\n        // Otherwise add new object\n        var size = this.getObjectSize(object);\n        if (size &gt; this.maxSize) return; // Can't store this object\n\n        var total = this.size + size;\n\n        // Check for existing entry, as replacing it will free up space\n        if (typeof(this.cache[key]) !== 'undefined') {\n            for (var i = 0; i &lt; this.order.length; ++i) {\n                var entry = this.order[i];\n                if (entry.key === key) {\n                    total -= entry.size;\n                    this.order.splice(i, 1);\n                    break;\n                }\n            }\n        }\n\n        while (total &gt; this.maxSize) {\n            var entry = this.order.shift();\n            delete this.cache[entry.key];\n            total -= entry.size;\n        }\n\n        this.cache[key] = object;\n        this.order.push({ size: size, key: key });\n        this.size = total;\n    },\n\n    get: function(key) {\n        var value = this.cache[key];\n        if (typeof(value) !== 'undefined') { // Return this key for longer\n            for (var i = 0; i &lt; this.order.length; ++i) {\n                var entry = this.order[i];\n                if (entry.key === key) {\n                    this.order.splice(i, 1);\n                    this.order.push(entry);\n                    break;\n                }\n            }\n        }\n        return value;\n    },\n\n    getObjectSize: function(object) {\n        // Code from above estimating functions\n    },\n};\n</code></pre>\n\n<p>It's a simplistic example and may have some errors, but it gives the idea, as you can use it to hold onto static objects (contents won't change) with some degree of intelligence. This can significantly cut down on any expensive processing requirements that the object had to be produced in the first place.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I use Chrome dev tools' <a href=\"http://addyosmani.com/blog/taming-the-unicorn-easing-javascript-memory-profiling-in-devtools/\" rel=\"nofollow\">Timeline tab</a>, instantiate increasingly large amounts of objects, and get good estimates like that. You can use html like this one below, as boilerplate, and modify it to better simulate the characteristics of your objects (number and types of properties, etc...). You may want to click the trash bit icon at the bottom of that dev tools tab, before and after a run.</p>\n\n<pre><code>&lt;html&gt;\n&lt;script&gt;\nvar size = 1000*100\nwindow.onload = function() {\n  document.getElementById(\"quantifier\").value = size\n}\n\nfunction scaffold()\n{\n  console.log(\"processing Scaffold...\");\n  a = new Array\n}\n\nfunction start()\n{\n  size = document.getElementById(\"quantifier\").value\n  console.log(\"Starting... quantifier is \" + size);\n  console.log(\"starting test\")\n  for (i=0; i&lt;size; i++){\n    a[i]={\"some\" : \"thing\"}\n  }\n  console.log(\"done...\")\n}\n\nfunction tearDown()\n{\n  console.log(\"processing teardown\");\n  a.length=0\n}\n\n&lt;/script&gt;\n&lt;body&gt;\n    &lt;span style=\"color:green;\"&gt;Quantifier:&lt;/span&gt;\n    &lt;input id=\"quantifier\" style=\"color:green;\" type=\"text\"&gt;&lt;/input&gt;\n    &lt;button onclick=\"scaffold()\"&gt;Scaffold&lt;/button&gt;\n    &lt;button onclick=\"start()\"&gt;Start&lt;/button&gt;\n    &lt;button onclick=\"tearDown()\"&gt;Clean&lt;/button&gt;\n    &lt;br/&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Instantiating 2 million objects of just one property each (as in this code above) leads to a rough calculation of 50 bytes per object, on my Chromium, right now. Changing the code to create a random string per object adds some 30 bytes per object, etc. \nHope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This Javascript library <code>sizeof.js</code> does the same thing. \nInclude it like this </p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"sizeof.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>The sizeof function takes an object as a parameter and returns its approximate size in bytes. For example:</p>\n\n<pre><code>// define an object\nvar object =\n    {\n      'boolean' : true,\n      'number'  : 1,\n      'string'  : 'a',\n      'array'   : [1, 2, 3]\n    };\n\n// determine the size of the object\nvar size = sizeof(object);\n</code></pre>\n\n<p>The sizeof function can handle objects that contain multiple references to other objects and recursive references.</p>\n\n<p><a href=\"http://code.stephenmorley.org/javascript/finding-the-memory-usage-of-objects/\" rel=\"nofollow\">Originally published here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There is a <a href=\"https://www.npmjs.org/package/object-sizeof\" rel=\"nofollow\">NPM module to get object sizeof</a>, you can install it with <code>npm install object-sizeof</code></p>\n\n<pre><code>  var sizeof = require('object-sizeof');\n\n  // 2B per character, 6 chars total =&gt; 12B\n  console.log(sizeof({abc: 'def'}));\n\n  // 8B for Number =&gt; 8B\n  console.log(sizeof(12345);\n\n  var param = { \n    'a': 1, \n    'b': 2, \n    'c': {\n      'd': 4\n    }\n  };\n  // 4 one two-bytes char strings and 3 eighth-bytes numbers =&gt; 32B\n  console.log(sizeof(param));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If you need to programatically check for aprox. size of objects you can also check this library <a href=\"http://code.stephenmorley.org/javascript/finding-the-memory-usage-of-objects/\" rel=\"nofollow\">http://code.stephenmorley.org/javascript/finding-the-memory-usage-of-objects/</a> that I have been able to use for objects size. </p>\n\n<p>Otherwise I suggest to use the Chrome/Firefox Heap Profiler.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Sometimes I use this to flag really big objects that might be going to the client from the server. It doesn't represent the in memory footprint.  It just gets you approximately what it'd cost to send it, or store it.</p>\n\n<pre><code>roughObjSize = JSON.stringify(bigObject).length;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want to know the size occupied by a JavaScript object.</p>\n\n<p>Take the following function - </p>\n\n<pre><code>function Marks()\n{\n  this.maxMarks = 100;\n}\n\nfunction Student()\n{\n  this.firstName = \"firstName\";\n  this.lastName = \"lastName\";\n  this.marks = new Marks();\n}\n</code></pre>\n\n<p>Now.. i instantiate the student</p>\n\n<pre><code>var stud = new Student();\n</code></pre>\n\n<p>so that I can do stuff like</p>\n\n<pre><code>stud.firstName = \"new Firstname\";\n\nalert(stud.firstName);\n\nstud.marks.maxMarks = 200;\n</code></pre>\n\n<p>etc...</p>\n\n<p>now, <code>stud</code> object will occupy some size in memory. It has some data and more objects.</p>\n\n<p>How do I find out how much memory the <code>stud</code> object occupies?</p>\n\n<p>something like a <code>sizeof()</code> in JavaScript?</p>\n\n<p>It would be really awesome if i could find it out in a single function call like </p>\n\n<pre><code>sizeof(stud)\n</code></pre>\n\n<p>P.S. I've been searching the Internet for months - couldn't find it (asked in a couple of forums - no replies).</p>\n",
            "last_activity_date": 1422423726,
            "question_id": 1248302,
            "score": 79,
            "tags": [
                "javascript",
                "memory",
                "object",
                "sizeof"
            ],
            "title": "JavaScript object size"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Use  <a href=\"http://www.json.org/example.html\">JSON</a>.</p>\n\n<p>In the following example <code>$php_variable</code> can be any PHP variable.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var obj = &lt;?php echo json_encode($php_variable); ?&gt;;\n&lt;/script&gt;\n</code></pre>\n\n<p>In your code, you could use like the following:</p>\n\n<pre><code>drawChart(600/50, &lt;?php echo json_encode($day); ?&gt;, ...)\n</code></pre>\n\n<p>In cases where you need to parse out an object from JSON-string (like in an AJAX request), the safe way is to use <code>JSON.parse(..)</code> like the below:</p>\n\n<pre><code>var s = \"&lt;JSON-String&gt;\";\nvar obj = JSON.parse(s);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 89
                },
                {
                    "body": "<pre><code>example('&lt;?=$phpvar1?&gt;','&lt;?=$phpvar2?&gt;' );\n\n&lt;script&gt;\nfunction example(val,val2){\n     //code\n} \n&lt;/script&gt;\n</code></pre>\n\n<p>try this ??</p>\n",
                    "is_accepted": false,
                    "score": -8
                },
                {
                    "body": "<p>In the following example you have an PHP array, then firstly create a JavaScript array by a PHP array:</p>\n\n<pre><code>&lt;script type=\"javascript\"&gt;\n    day = new Array(&lt;?php echo implode(',', $day); ?&gt;);\n    week = new Array(&lt;?php echo implode(',',$week); ?&gt;);\n    month = new Array(&lt;?php echo implode(',',$month); ?&gt;);\n\n    &lt;!--  Then pass it to the JavaScript function:   --&gt;\n\n    drawChart(&lt;?php echo count($day); ?&gt;, day, week, month);\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>you can convert php arrays into javascript using php's json_encode()* function</p>\n\n<pre><code>&lt;?php $phpArray = array(\n          0 =&gt; \"Mon\", \n          1 =&gt; \"Tue\", \n          2 =&gt; \"Wed\", \n          3 =&gt; \"Thu\",\n          4 =&gt; \"Fri\", \n          5 =&gt; \"Sat\",\n          6 =&gt; \"Sun\",\n\n    )\n?&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\n    var jArray= &lt;?php echo json_encode($phpArray ); ?&gt;;\n\n    for(var i=0;i&lt;6;i++){\n        alert(jArray[i]);\n    }\n\n &lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>Data transfer between two platform requires a common data format. JSON is a common global format to send cross platform data. </p>\n\n<pre><code>drawChart(600/50, JSON.parse('&lt;?php echo json_encode($day); ?&gt;'), JSON.parse('&lt;?php echo json_encode($week); ?&gt;'), JSON.parse('&lt;?php echo json_encode($month); ?&gt;'), JSON.parse('&lt;?php echo json_encode(createDatesArray(cal_days_in_month(CAL_GREGORIAN, date('m',strtotime('-1 day')), date('Y',strtotime('-1 day'))))); ?&gt;'))\n</code></pre>\n\n<p>This is the answer to your question. The answer may look very complex. You can see a simple example describing the communication between server side and client side <a href=\"http://www.htmlexplorer.com/2014/05/send-or-communicate-data-structures.html\" rel=\"nofollow\">here</a></p>\n\n<pre><code>$employee = array(\n \"employee_id\" =&gt; 10011,\n   \"Name\" =&gt; \"Nathan\",\n   \"Skills\" =&gt;\n    array(\n           \"analyzing\",\n           \"documentation\" =&gt;\n            array(\n              \"desktop\",\n                \"mobile\"\n             )\n        )\n);\n</code></pre>\n\n<p>Conversion to JSON format is required to send the data back to client application ie, JavaScript. PHP has a built in function json_encode(), which can convert any data to JSON format. The output of the json_encode function will be a string like this.</p>\n\n<pre><code>{\n    \"employee_id\": 10011,\n    \"Name\": \"Nathan\",\n    \"Skills\": {\n        \"0\": \"analyzing\",\n        \"documentation\": [\n            \"desktop\",\n            \"mobile\"\n        ]\n    }\n}\n</code></pre>\n\n<p>On the client side, success function will get the JSON string. Javascript also have JSON parsing function JSON.parse() which can convert the string back to JSON object.</p>\n\n<pre><code>$.ajax({\n        type: 'POST',\n        headers: {\n            \"cache-control\": \"no-cache\"\n        },\n        url: \"employee.php\",\n        async: false,\n        cache: false,\n        data: {\n            employee_id: 10011\n        },\n        success: function (jsonString) {\n            var employeeData = JSON.parse(jsonString); // employeeData variable contains employee array.\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am trying to get a PHP array variable into a JavaScript variable.</p>\n\n<p>This is my code:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;script type=\"text/javascript\"&gt;\n              function drawChart(row,day,week,month,date)\n              {\n                  // Some code...\n              }\n        &lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;?php\n            for($counter = 0; $counter&lt;count($au); $counter++)\n            {\n                switch($au[$counter]-&gt;id)\n                {\n                    case pageID.'/insights/page_active_users/day':\n                        $day[] = $au[$counter]-&gt;value;\n                    break;\n                    case pageID.'/insights/page_active_users/week':\n                        $week[] = $au[$counter]-&gt;value;\n                    break;\n                    case pageID.'/insights/page_active_users/month':\n                        $month[] = $au[$counter]-&gt;value;\n                    break;\n                }\n            }\n        ?&gt;\n        &lt;script&gt;\n            drawChart(600/50, '&lt;?php echo $day; ?&gt;', '&lt;?php echo $week; ?&gt;', '&lt;?php echo $month; ?&gt;', '&lt;?php echo createDatesArray(cal_days_in_month(CAL_GREGORIAN, date('m',strtotime('-1 day')), date('Y',strtotime('-1 day')))); ?&gt;');\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I can't get value of the PHP array.</p>\n\n<p>How do I fix this problem?</p>\n",
            "last_activity_date": 1399054153,
            "question_id": 4885737,
            "score": 46,
            "tags": [
                "php",
                "javascript"
            ],
            "title": "Pass a PHP array to a JavaScript function"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>No, a div is a body element, not a head element</p>\n\n<p>EDIT: Then the only thing SEs are going to get is the base HTML, not the ajax modified one.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This would be pointless because 90% of the time, meta tags are used for search engines. Search engines crawlers don't run JavaScript.</p>\n\n<p><b>Edit</b>\nSo many downvotes and negative comments. This answer was much more relevant 2 years ago when it was answered. Still there are <strong>very few</strong> meta tags that will affect the broweser when changed during runtime. </p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>meta-tags are part of the dom and can be accessed and -i guess- changed, but search-engines (the main consumers of meta-tags) won't see the change as the javascript won't be executed. so unless you're changing a meta-tag (refresh comes to mind) which has implications in the browser, this might be of little use?</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>It should be possible like this (or use jQuery like <code>$('meta[name=author]').attr(\"content\");</code>):</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Meta Data&lt;/title&gt;\n&lt;meta name=\"Author\" content=\"Martin Webb\"&gt;\n&lt;meta name=\"Author\" content=\"A.N. Other\"&gt;\n&lt;meta name=\"Description\" content=\"A sample html file for extracting meta data\"&gt;\n&lt;meta name=\"Keywords\" content=\"JavaScript, DOM, W3C\"&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;script language=\"JavaScript\"&gt;&lt;!--\nif (document.getElementsByName) {\n  var metaArray = document.getElementsByName('Author');\n  for (var i=0; i&lt;metaArray.length; i++) {\n    document.write(metaArray[i].content + '&lt;br&gt;');\n  }\n\n  var metaArray = document.getElementsByName('Description');\n  for (var i=0; i&lt;metaArray.length; i++) {\n    document.write(metaArray[i].content + '&lt;br&gt;');\n  }\n\n  var metaArray = document.getElementsByName('Keywords');\n  for (var i=0; i&lt;metaArray.length; i++) {\n    document.write(metaArray[i].content + '&lt;br&gt;');\n  }\n}\n//--&gt;&lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>You'd use something like (with jQuery):</p>\n\n<pre><code>$('meta[name=author]').attr('content', 'New Author Name');\n</code></pre>\n\n<p>But that would be mostly pointless as meta tags are usually only scraped when the document is loaded, usually without executing any JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 42
                },
                {
                    "body": "<p>Yes, you can do that.</p>\n\n<p>There are some interesting use cases: Some browsers and plugins parse meta elements and change their behavior for different values.</p>\n\n<h2>Examples</h2>\n\n<h3>Skype: Switch off phone number parser</h3>\n\n<pre><code>&lt;meta name=\"SKYPE_TOOLBAR\" content=\"SKYPE_TOOLBAR_PARSER_COMPATIBLE\"&gt;\n</code></pre>\n\n<h3>iPhone: Switch off phone number parser</h3>\n\n<pre><code>&lt;meta name=\"format-detection\" content=\"telephone=no\"&gt;\n</code></pre>\n\n<h3>Google Chrome Frame</h3>\n\n<pre><code>&lt;meta http-equiv=\"X-UA-Compatible\" content=\"chrome=1\"&gt;\n</code></pre>\n\n<h3>Viewport definition for mobile devices</h3>\n\n<pre><code>&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n</code></pre>\n\n<p>This one can be changed by JavaScript. See: <a href=\"http://www.blog.highub.com/mobile-2/a-fix-for-iphone-viewport-scale-bug/\">A fix for iPhone viewport scale bug</a></p>\n\n<h3>Meta description</h3>\n\n<p>Some user agents (Opera for example) use the description for bookmarks. You can add personalized content here. Example:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;title&gt;Test&lt;/title&gt;\n&lt;meta name=\"description\" content=\"this is old\"&gt;\n&lt;script type='text/javascript' src='http://code.jquery.com/jquery-1.8.2.js'&gt;&lt;/script&gt;\n\n&lt;button&gt;Change description&lt;/button&gt;\n\n&lt;script type='text/javascript'&gt;\n$('button').on('click', function() {\n    // Just replacing the value of the 'content' attribute will not work.\n    $('meta[name=description]').remove();\n    $('head').append( '&lt;meta name=\"description\" content=\"this is new\"&gt;' );\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>So, it\u2019s not just about search engines.</p>\n",
                    "is_accepted": false,
                    "score": 93
                },
                {
                    "body": "<p>Yes, it is possible to add metatags with Javascript. I did in my example </p>\n\n<p><a href=\"http://stackoverflow.com/questions/3604886/android-not-respecting-metatag-removal\">http://stackoverflow.com/questions/3604886/android-not-respecting-metatag-removal</a></p>\n\n<p>But, I dont know how to change it other then removing it. Btw, in my example.. when you click the 'ADD' button it adds the tag and the viewport changes respectively but I dont know how to revert it back (remove it, in Android).. I wish there was firebug for Android so I saw what was happening. Firefox does remove the tag. if anybody has any ideas on this please note so in my question.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can change meta with, for example, jQuery calls, like this ones:</p>\n\n<pre><code>$('meta[name=keywords]').attr('keywords', new_keywords);\n$('meta[name=description]').attr('description', new_description);\n</code></pre>\n\n<p>I think it <strong>does</strong> matter for now, since google <a href=\"http://code.google.com/intl/ru-RU/web/ajaxcrawling/docs/specification.html\">said</a> that they will index ajax content via <code>#!hashes</code> and <code>_escaped_fragment_</code> calls. And now they <strong>can</strong> verify it (even automatically, with headless browsers, see the 'Creating HTML Snapshots' link on the page mentioned above), so I think it is the way for hardcore SEO guys.</p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>simple add and div atribute to each meta tag example</p>\n\n<pre><code>&lt;meta id=\"mtlink\" name=\"url\" content=\"\"&gt;\n&lt;meta id=\"mtdesc\" name=\"description\" content=\"\" /&gt;\n&lt;meta id=\"mtkwrds\" name=\"keywords\" content=\"\" /&gt;\n</code></pre>\n\n<p>now like normal div change for ex. n click</p>\n\n<pre><code>&lt;a href=\"#\" onClick=\"changeTags(); return false;\"&gt;Change Meta Tags&lt;/a&gt;\n</code></pre>\n\n<p>function change tags with jQuery</p>\n\n<pre><code>function changeTags(){\n   $(\"#mtlink\").attr(\"content\",\"http://albup.com\");\n   $(\"#mtdesc\").attr(\"content\",\"music all the time\");\n   $(\"#mtkwrds\").attr(\"content\",\"mp3, download music, \");\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>var metaTag = document.getElementsByTagName('meta');\nfor (var i=0; i &lt; metaTag.length; i++) {\n    if (metaTag[i].getAttribute(\"http-equiv\")=='refresh')\n        metaTag[i].content = '666';\n    if (metaTag[i].getAttribute(\"name\")=='Keywords')\n        metaTag[i].content = 'js, solver';\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>$(document).ready(function() {\n  $('meta[property=\"og:title\"]').remove();\n  $('meta[property=\"og:description\"]').remove();\n  $('meta[property=\"og:url\"]').remove();\n  $(\"head\").append('&lt;meta property=\"og:title\" content=\"blubb1\"&gt;');\n  $(\"head\").append('&lt;meta property=\"og:description\" content=\"blubb2\"&gt;');\n  $(\"head\").append('&lt;meta property=\"og:url\" content=\"blubb3\"&gt;');\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>if I put a div in the head and display:none, than use javascript to display it, will this work?</p>\n\n<p>Edit:</p>\n\n<p>I have stuff loaded in ajax. And as my ajax changes the \"main\" portion of the site, I want to change the meta-tags as well.</p>\n",
            "last_activity_date": 1397755593,
            "question_id": 2568760,
            "score": 35,
            "tags": [
                "javascript",
                "jquery",
                "meta-tags"
            ],
            "title": "Is it possible to use javascript to change the meta-tags of the page?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>JavaScript strings are indeed immutable.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Strings in Javascript are immutable</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>from the <a href=\"http://oreilly.com/catalog/9780596000486/\" rel=\"nofollow\">rhino book</a>:</p>\n\n<blockquote>\n  <p>In JavaScript, strings are immutable objects, which means that the\n  characters within them may not be changed and that any operations on\n  strings actually create new strings. Strings are assigned by\n  reference, not by value. In general, when an object is assigned by\n  reference, a change made to the object through one reference will be\n  visible through all other references to the object. Because strings\n  cannot be changed, however, you can have multiple references to a\n  string object and not worry that the string value will change without\n  your knowing it</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 42
                },
                {
                    "body": "<p><strong>Performance tip:</strong></p>\n\n<p>If you have to concatenate large strings, put the string parts into an array and use the <code>Array.Join()</code> method to get the overall string.  This can be many times faster for concatenating a large number of strings.  </p>\n\n<p>There is no <code>StringBuilder</code> in JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>Regarding your question (in your comment to Ash's response) about the StringBuilder in ASP.NET Ajax the experts seem to disagree on this one.</p>\n\n<p>Christian Wenz says in his book <em>Programming ASP.NET AJAX</em> (O'Reilly) that \"this approach does not have any measurable effect on memory (in fact, the implementation seems to be a tick slower than the standard approach).\"</p>\n\n<p>On the other hand Gallo et al say in their book <em>ASP.NET AJAX in Action</em> (Manning) that \"When the number of strings to concatenate is larger, the string builder becomes an essential object to avoid huge performance drops.\"</p>\n\n<p>I guess you'd need to do your own benchmarking and results might differ between browsers, too. However, even if it doesn't improve performance it might still be considered \"useful\" for programmers who are used to coding with StringBuilders in languages like C# or Java.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>They are immutable. However, I've always heard what Ash mentioned in his answer( that using Array.join is faster for concatenation) so I wanted to test out the different methods of concatenating strings and abstracting the fastest way into a StringBuilder. I wrote some tests to see if this is true (it isn't!).</p>\n\n<p>This was what I believed would be the fastest way, though I kept thinking that adding a method call may make it slower...</p>\n\n<pre><code>function StringBuilder() {\n    this._array = [];\n    this._index = 0;\n}\n\nStringBuilder.prototype.append = function (str) {\n    this._array[this._index] = str;\n    this._index++;\n}\n\nStringBuilder.prototype.toString = function () {\n    return this._array.join('');\n}\n</code></pre>\n\n<p>Here are performance speed tests. All three of them create a gigantic string made up of concatenating <code>\"Hello diggity dog\"</code> one hundred thousand times into an empty string.</p>\n\n<p>I've created three types of tests</p>\n\n<ul>\n<li>Using <code>Array.push</code> and <code>Array.join</code></li>\n<li>Using Array indexing to avoid <code>Array.push</code>, then using <code>Array.join</code></li>\n<li>Straight string concatenation</li>\n</ul>\n\n<p>Then I created the same three tests by abstracting them into <code>StringBuilderConcat</code>, <code>StringBuilderArrayPush</code> and <code>StringBuilderArrayIndex</code> <a href=\"http://jsperf.com/string-concat-without-sringbuilder/5\">http://jsperf.com/string-concat-without-sringbuilder/5</a> Please go there and run tests so we can get a nice sample. Note that I fixed a small bug, so the data for the tests got wiped, I will update the table once there's enough performance data. Go to <a href=\"http://jsperf.com/string-concat-without-sringbuilder/5\">http://jsperf.com/string-concat-without-sringbuilder/5</a> for the old data table.</p>\n\n<p>Here are some numbers from Feb 21, 2013, if you don't want to follow the link. The number on each test is in operations/second (<strong>higher is better</strong>)</p>\n\n<pre><code>| Browser          | Index | Push | Concat | SBIndex | SBPush | SBConcat |\n---------------------------------------------------------------------------\n| Chrome 24.0.1312 | 83    | 87   | 702    | 69      | 87     | 165      |\n| Chrome 25.0.1364 | 43    | 47   | 620    | 42      | 42     | 68       |\n| Firefox 10.0.10  | 164   | 164  | 533    | 164     | 16     | 421      |\n| Firefox 19.0     | 70    | 70   | 259    | 70      | 70     | 186      |\n| Exploder 7.0     | 51    | 33   | 58     | 31      | 37     | 45       |\n| Exploder 8.0     | 48    | 30   | 58     | 30      | 36     | 36       |\n| Exploder 9.0     | 87    | 64   | 95     | 61      | 61     | 61       |\n| Opera 12.14      | 125   | 154  | 66     | 106     | 137    | 63       | \n</code></pre>\n\n<p><strong>Findings</strong></p>\n\n<ul>\n<li><p>Nowadays, all browsers handle string concatenation well. <code>Array.join</code> only  helps Opera</p></li>\n<li><p>Overall, Chrome is fastest, clocking 1025 ops/sec in 27.0. 10 times faster than using Array.join()</p></li>\n<li><p>Firefox is in second place at around 550 ops/sec (but 20.0 seems to have regressed). <code>Array.join</code> is about 4-5 times slower.</p></li>\n<li><p>IE is fastest with straight string concatenation, it's really slow using <code>Array.join</code> and <code>Array.push</code>. IE 9 makes <code>Array.join</code> not be so slow, and all the SB abstractions perform almost the same way (probably because of the method overhead)</p></li>\n<li><p>Opera is the only one where the <code>Array.join</code> actually helps, it's 2-3 times as fast as string concatenation.</p></li>\n<li><p>Creating a StringBuilder to abstract away each browser's performance issues does more harm than good. The overhead of method calls may be acceptable but the tendency seems to be that browsers are handling string concatenation more smartly. It would only make sense if your target audience is Opera, so you can use Array.join there and use String concatenation everywhere else (this means all the other browsers are taking a hit)</p></li>\n</ul>\n\n<p>Hope somebody else finds this useful</p>\n\n<p><strong>Different Test Case</strong></p>\n\n<p>Since @RoyTinker thought that my test was flawed, I created a new case that doesn't create a big string by concatenating the same string, it uses a different character for each iteration. String concatenation still seemed faster or just as fast. Let's get those tests running. </p>\n\n<p>I suggest everybody should keep thinking of other ways to test this, thanks for the input Roy.</p>\n\n<p><a href=\"http://jsperf.com/string-concat-without-sringbuilder/7\">http://jsperf.com/string-concat-without-sringbuilder/7</a> </p>\n",
                    "is_accepted": true,
                    "score": 136
                }
            ],
            "body": "<p>Does javascript use immutable or mutable strings? Do I need a \"string builder\"?</p>\n",
            "last_activity_date": 1418651087,
            "question_id": 51185,
            "score": 97,
            "tags": [
                "javascript",
                "string"
            ],
            "title": "Are JavaScript strings immutable? Do I need a &quot;string builder&quot; in JavaScript?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>Put a print function in the iframe and call it from the parent.</p>\n\n<p>iframe:</p>\n\n<pre><code>function printMe() {\n  window.print()\n}\n</code></pre>\n\n<p>parent:</p>\n\n<pre><code>document.frame1.printMe()\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 33
                },
                {
                    "body": "<p>here is my complete, cross browser solution:</p>\n\n<p>in the iframe page:</p>\n\n<pre><code>function printPage() { print(); }\n</code></pre>\n\n<p>in the main page</p>\n\n<pre><code>function printIframe(id)\n{\n    var iframe = document.frames ? document.frames[id] : document.getElementById(id);\n    var ifWin = iframe.contentWindow || iframe;\n    iframe.focus();\n    ifWin.printPage();\n    return false;\n}\n</code></pre>\n\n<p><strong>Update</strong>: Many people seem to be having problems with this in versions of IE released since I had this problem. I dont have time to-reinvestigate right now, if youre stuck i suggest you read all the comments in this whole thread!</p>\n",
                    "is_accepted": false,
                    "score": 40
                },
                {
                    "body": "<p>I used Andrew's script but added a piece before the printPage() function is called. The iframe needs focus, otherwise it will still print the parent frame in IE.</p>\n\n<pre><code>function printIframe(id)\n{\n    var iframe = document.frames ? document.frames[id] : document.getElementById(id);\n    var ifWin = iframe.contentWindow || iframe;\n    iframe.focus();\n    ifWin.printPage();\n    return false;\n}\n</code></pre>\n\n<p>Don't thank me though, it was Andrew who wrote this. I just made a tweak <strong>=P</strong></p>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>Use firefox <code>window.frames</code> but also add the <code>name</code> property because that uses the iframe in firefox</p>\n\n<p>IE: </p>\n\n<pre><code>window.frames[id]\n</code></pre>\n\n<p>Firefox:</p>\n\n<pre><code>window.frames[name]\n\n&lt;img src=\"print.gif\"  onClick=\"javascript: window.frames['factura'].focus(); parent['factura'].print();\"&gt;\n&lt;iframe src=\"factura.html\" width=\"100%\" height=\"400\" id=\"factura\" name=\"factura\"&gt;&lt;/iframe&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Use this:</p>\n\n<pre><code>window.onload = setTimeout(\"window.print()\", 1000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>One thing to note is if you are testing this locally using file:///, it will not work on chrome as the function in the iframe will appear as undefined. However once on a web server it will work.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>In addition to Andrew's and Max's solutions, using iframe.focus() resulted in printing parent frame instead of printing only child iframe in IE8. Changing that line fixed it:</p>\n\n<pre><code>function printIframe(id)\n{\n    var iframe = document.frames ? document.frames[id] : document.getElementById(id);\n    var ifWin = iframe.contentWindow || iframe;\n    ifWin.focus();\n    ifWin.printPage();\n    return false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I had to make few modifications in order to make it with in IE8 (didn't test with other IE flavours)</p>\n\n<p>1) document.frames[param] seem to accept a number, not ID</p>\n\n<pre><code>printIframe(0, 'print');\n\nfunction printIframe(num, id)\n{\n  var iframe = document.frames ? document.frames[num] : document.getElementById(id);\n  var ifWin = iframe.contentWindow || iframe;\n\n  ifWin.focus();\n  ifWin.printPage();\n\n  return false;\n}\n</code></pre>\n\n<p>2) I had a print dialog displayed upon page load and also there was a link to \"Click here to start printing\" (if it didn't start automatically). In order to get it work I had to add focus() call</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  $(function(){\n    printPage();\n  });\n\n  function printPage()\n  {\n    focus();\n    print();\n  }\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>You can use</strong> </p>\n\n<pre><code>parent.frames['id'].print();\n</code></pre>\n\n<p><strong>Work at Chrome!</strong></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Can someone please help me out with printing the contents of an IFrame via a javascript call in Safari/Chrome.</p>\n\n<p>This works in firefox:</p>\n\n<pre><code>$('#' + id)[0].focus();\n$('#' + id)[0].contentWindow.print();\n</code></pre>\n\n<p>this works in IE:</p>\n\n<pre><code>window.frames[id].focus();\nwindow.frames[id].print();\n</code></pre>\n\n<p>But I can't get anything to work in Safari/Chrome.</p>\n\n<p>Thanks</p>\n\n<p>Andrew</p>\n",
            "last_activity_date": 1421851043,
            "question_id": 472951,
            "score": 36,
            "tags": [
                "javascript",
                "iframe",
                "webkit",
                "printing"
            ],
            "title": "How do I print an IFrame from javascript in Safari/Chrome"
        },
        {
            "answer_count": 14,
            "answers": [
                {
                    "body": "<p>If the iframe was not on a different domain, you could do something like this:</p>\n\n<pre><code>document.getElementById(FrameID).contentDocument.location.reload(true);\n</code></pre>\n\n<p>But since the iframe is on a different domain, you will be denied access to the iframe's <code>contentDocument</code> property by the <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\">same-origin policy</a>.</p>\n\n<p>But you can hackishly force the cross-domain iframe to reload if your code is running on the iframe's parent page, by setting it's src attribute to itself. Like this:</p>\n\n<pre><code>// hackishly force iframe to reload\nvar iframe = document.getElementById(FrameId);\niframe.src = iframe.src;\n</code></pre>\n\n<p>If you are trying to reload the iframe from another iframe, you are out of luck, <em>that</em> is <em>not</em> possible.</p>\n",
                    "is_accepted": true,
                    "score": 101
                },
                {
                    "body": "<p>you can also use jquery. This is the same what Alex proposed just using JQuery:</p>\n\n<pre><code> $('#currentElement').attr(\"src\", $('#currentElement').attr(\"src\"));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>Just reciprocating Alex's answer but with jQuery</p>\n\n<pre><code>var currSrc = $(\"#currentElement\").attr(\"src\");\n$(\"#currentElement\").attr(\"src\", currSrc);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>$( '#iframe' ).attr( 'src', function ( i, val ) { return val; });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 126
                },
                {
                    "body": "<p>This possible with simple javascript.  In iFrame1 make a javascript function that is called in the body tag onload.  I have a it check a server side variable that I set, so it does not try to run the javascript function in iframe2 unless I have taken a specific action in iframe 1. You could set this up as a function fired by a button press or however you want to in iframe1.  Then in iframe 2 you have the second function I list below.  The function in iframe1 basically goes to the parent page and then uses the window.frames suntax to fire a javascript function in iframe2.  Just make sure to use the id/name of iframe2 and not the src.</p>\n\n<pre><code>//function in iframe1\nfunction refreshIframe2()\n{\nif (&lt;cfoutput&gt;#didValidation#&lt;/cfoutput&gt; == 1)\n{   \n    parent.window.frames.iframe2.refreshPage();\n}\n}\n\n//function in iframe2\nfunction refreshPage()\n{   \ndocument.location.reload();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>Reload an iframe with jQuery</strong></p>\n\n<p>make a link inside the iframe lets say with id = \"reload\" then use following code</p>\n\n<pre><code>$('#reload').click(function() {\n    document.location.reload();\n});\n</code></pre>\n\n<p>and you are good to go with all browsers.</p>\n\n<p><strong>Reload an iframe with HTML (no Java Script req.)</strong></p>\n\n<p>It have more simpler solution: which works without javaScript in (FF, Webkit)</p>\n\n<p>just make an anchor inSide your iframe</p>\n\n<pre><code>   &lt;a href=\"#\" target=\"_SELF\"&gt;Refresh Comments&lt;/a&gt;\n</code></pre>\n\n<p>When you click this anchor it just refresh your iframe</p>\n\n<p><strong>But</strong>\nif you have parameter send to your iframe then do it as following.</p>\n\n<pre><code>  &lt;a id=\"comnt-limit\" href=\"?id=&lt;?= $page_id?&gt;\" target=\"_SELF\"&gt;Refresh Comments&lt;/a&gt;\n</code></pre>\n\n<p>do not need any page url because -> target=\"_SELF\" do it for you</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>If you are cross-domain, simply setting the src back to the same url will not always trigger a reload, even if the location hash changes.</p>\n\n<p>Ran into this problem while manually constructing Twitter button iframes, which wouldn't refresh when I updated the urls.</p>\n\n<p>Twitter like buttons have the form:\n<code>.../tweet_button.html#&amp;_version=2&amp;count=none&amp;etc=...</code></p>\n\n<p>Since Twitter uses the document fragment for the url, changing the hash/fragment didn't reload the source, and the button targets didn't reflect my new ajax-loaded content. </p>\n\n<p>You can append a query string parameter for force the reload (eg: <code>\"?_=\" + Math.random()</code>  but that will waste bandwidth, especially in this example where Twitter's approach was specifically trying to enable caching.</p>\n\n<p>To reload something which only changes with hash tags, you need to remove the element, or change the <code>src</code>, wait for the thread to exit, then assign it back. If the page is still cached, this shouldn't require a network hit, but does trigger the frame reload.</p>\n\n<pre><code> var old = iframe.src;\n iframe.src = '';\n setTimeout( function () {\n    iframe.src = old;\n }, 0);\n</code></pre>\n\n<p><strong>Update</strong>: Using this approach creates unwanted history items. Instead, remove and recreate the iframe element each time, which keeps this back() button working as expected. Also nice not to have the timer.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>    ifrX =document.getElementById('id') //or \n    ifrX =frames['index'];\n</code></pre>\n\n<p>cross-browser solution is:</p>\n\n<pre><code>    ifrX.src = ifrX.contentWindow.location\n</code></pre>\n\n<p>this is useful especially when &lt;iframe> is a  the target of a &lt;form></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>with jquery you can use this:</p>\n\n<blockquote>\n  <p>$('#iframeid',window.parent.document).attr('src',$('#iframeid',window.parent.document).attr('src'));</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Below solution will work for sure: </p>\n\n<pre><code>window.parent.location.href = window.parent.location.href;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -6
                },
                {
                    "body": "<p>SOLVED! I register to stockoverflow just to share to you the only solution (at least in ASP.NET/IE/FF/Chrome) that works! The idea is to replace innerHTML value of a div by its current innerHTML value.</p>\n\n<p>Here is the HTML snippet:</p>\n\n<pre><code>&lt;div class=\"content-2\" id=\"divGranite\"&gt;\n&lt;h2&gt;Granite Purchase&lt;/h2&gt;\n&lt;IFRAME  runat=\"server\" id=\"frameGranite\" src=\"Jobs-granite.aspx\" width=\"820px\" height=\"300px\" frameborder=\"0\" seamless  &gt;&lt;/IFRAME&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And my Javascript code:</p>\n\n<pre><code>function refreshGranite() {           \n   var iframe = document.getElementById('divGranite')\n   iframe.innerHTML = iframe.innerHTML;\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'm pretty sure all of the examples above only reload the iframe with its original src, not its current URL.</p>\n\n<pre><code>$('#frameId').attr('src', function () { return $(this).contents().get(0).location.href });\n</code></pre>\n\n<p>That should reload using the current url.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Just reciprocating Alex's answer but with jQuery:</p>\n\n<pre><code>var e = $('#myFrame');\n    e.attr(\"src\", e.attr(\"src\"));\n</code></pre>\n\n<p>Or you can use small function:</p>\n\n<pre><code>function iframeRefresh(e) {\n    var c = $(e);\n        c.attr(\"src\", c.attr(\"src\"));\n}\n</code></pre>\n\n<p>I hope it helps.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is another way</p>\n\n<pre><code>$( '#iframe' ).attr( 'src', function () { return $( this )[0].src; } );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have two iframes on a page and one makes changes to the other but the other iframe doesnt show the change until i refresh ....is there an easy way to refresh this iframe with jQuery</p>\n\n<pre><code>&lt;div class=\"project\"&gt;\n  &lt;iframe id=\"currentElement\" class=\"myframe\" name=\"myframe\" src=\"http://somesite.com/something/new\"&gt;&lt;/iframe&gt;\n&lt;/div&gt;\n</code></pre>\n",
            "last_activity_date": 1414221832,
            "question_id": 4249809,
            "score": 82,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "iframe"
            ],
            "title": "Reload an iframe with jQuery"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>var matches = url.match(/^https?\\:\\/\\/([^\\/?#]+)(?:[\\/?#]|$)/i);\nvar domain = matches &amp;&amp; matches[1];  // domain will be null if no match is found\n</code></pre>\n\n<p>If you want to exclude the port from your result, use this expression instead:</p>\n\n<pre><code>/^https?\\:\\/\\/([^\\/:?#]+)(?:[\\/:?#]|$)/i\n</code></pre>\n\n<p><strong>Edit:</strong> To prevent specific domains from matching, use a negative lookahead. <code>(?!youtube.com)</code></p>\n\n<pre><code>/^https?\\:\\/\\/(?!(?:www\\.)?(?:youtube\\.com|youtu\\.be))([^\\/:?#]+)(?:[\\/:?#]|$)/i\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 44
                },
                {
                    "body": "<p>Parsing a URL can be tricky because you can have port numbers and special chars. As such, I recommend using something like <a href=\"http://blog.stevenlevithan.com/archives/parseuri\">parseUri</a> to do this for you. I doubt performance is going to be a issue unless you are parsing hundreds of URLs.</p>\n",
                    "is_accepted": true,
                    "score": 25
                },
                {
                    "body": "<p>A neat trick without using regular expressions:</p>\n\n<pre><code>var tmp        = document.createElement ('a');\n;   tmp.href   = \"http://www.example.com/12xy45\";\n\n// tmp.hostname will now contain 'www.example.com'\n</code></pre>\n\n<p>Wrap the above in a function such as the below and you have yourself a superb way of snatching the domain part out of an URI.</p>\n\n<pre><code>function url_domain(data) {\n  var    a      = document.createElement('a');\n         a.href = data;\n  return a.hostname;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 133
                },
                {
                    "body": "<pre><code>// use this if you know you have a subdomain\n// www.domain.com -&gt; domain.com\nfunction getDomain() {\n  return window.location.hostname.replace(/([a-zA-Z0-9]+.)/,\"\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I tried to use the Given solutions, the Chosen one was an overkill for my purpose and \"Creating a element\" one messes up for me.</p>\n\n<p>It's not ready for Port in URL yet. I hope someone finds it useful</p>\n\n<pre><code>function parseURL(url){\n    parsed_url = {}\n\n    if ( url == null || url.length == 0 )\n        return parsed_url;\n\n    protocol_i = url.indexOf('://');\n    parsed_url.protocol = url.substr(0,protocol_i);\n\n    remaining_url = url.substr(protocol_i + 3, url.length);\n    domain_i = remaining_url.indexOf('/');\n    domain_i = domain_i == -1 ? remaining_url.length - 1 : domain_i;\n    parsed_url.domain = remaining_url.substr(0, domain_i);\n    parsed_url.path = domain_i == -1 || domain_i + 1 == remaining_url.length ? null : remaining_url.substr(domain_i + 1, remaining_url.length);\n\n    domain_parts = parsed_url.domain.split('.');\n    switch ( domain_parts.length ){\n        case 2:\n          parsed_url.subdomain = null;\n          parsed_url.host = domain_parts[0];\n          parsed_url.tld = domain_parts[1];\n          break;\n        case 3:\n          parsed_url.subdomain = domain_parts[0];\n          parsed_url.host = domain_parts[1];\n          parsed_url.tld = domain_parts[2];\n          break;\n        case 4:\n          parsed_url.subdomain = domain_parts[0];\n          parsed_url.host = domain_parts[1];\n          parsed_url.tld = domain_parts[2] + '.' + domain_parts[3];\n          break;\n    }\n\n    parsed_url.parent_domain = parsed_url.host + '.' + parsed_url.tld;\n\n    return parsed_url;\n}\n</code></pre>\n\n<hr>\n\n<p>Running this:</p>\n\n<pre><code>parseURL('https://www.facebook.com/100003379429021_356001651189146');\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Object {\n    domain : \"www.facebook.com\",\n    host : \"facebook\",\n    path : \"100003379429021_356001651189146\",\n    protocol : \"https\",\n    subdomain : \"www\",\n    tld : \"com\"\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Try:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction extractDomain(url) {\n    var domain;\n    //find &amp; remove protocol (http, ftp, etc.) and get domain\n    if (url.indexOf(\"://\") &gt; -1) {\n        domain = url.split('/')[2];\n    }\n    else {\n        domain = url.split('/')[0];\n    }\n\n    //find &amp; remove port number\n    domain = domain.split(':')[0];\n\n    return domain;\n}\n\ndocument.write(extractDomain(\"http://www.youtube.com/watch?v=ClkQA2Lb_iE\") + \"&lt;br/&gt;\");\ndocument.write(extractDomain(\"https://www.youtube.com/watch?v=ClkQA2Lb_iE\") + \"&lt;br/&gt;\");\ndocument.write(extractDomain(\"www.youtube.com/watch?v=ClkQA2Lb_iE\") + \"&lt;br/&gt;\");\ndocument.write(extractDomain(\"ftps://ftp.websitename.com/dir/file.txt\") + \"&lt;br/&gt;\");\ndocument.write(extractDomain(\"websitename.com:1234/dir/file.txt\") + \"&lt;br/&gt;\");\ndocument.write(extractDomain(\"ftps://websitename.com:1234/dir/file.txt\") + \"&lt;br/&gt;\");\n&lt;/script&gt;\n</code></pre>\n\n<p>Regardless having the protocol or even port number, you can extract the domain. This is a very simplified, non-regex solution, so I think this will do.</p>\n\n<p>*Thank you Timmerz, renoirb, rineez, and BigDong for your suggestions!</p>\n",
                    "is_accepted": false,
                    "score": 13
                }
            ],
            "body": "<p>I would like to match just the root of a URL and not the whole URL from a text string. Given: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>http://www.youtube.com/watch?v=ClkQA2Lb_iE\nhttp://youtu.be/ClkQA2Lb_iE\nhttp://www.example.com/12xy45\nhttp://example.com/random\n</code></pre>\n\n<p>I want to get the 2 last instances resolving to the <code>www.example.com</code> or <code>example.com</code> domain. </p>\n\n<p>I heard regex is slow and this would be my second regex expression on the page so If there is anyway to do it without regex let me know.</p>\n\n<p>I'm seeking a JS/jQuery version of this solution.</p>\n",
            "last_activity_date": 1418979478,
            "question_id": 8498592,
            "score": 43,
            "tags": [
                "javascript",
                "jquery",
                "regex"
            ],
            "title": "Extract root domain name from string"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>The window.open() function will also allow this if you have a reference to the window created, provided it is on the same domain.\nIf the variable is used server side you should be using a $_SESSION variable (assuming you are using PHP).</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Provided the windows are from the same security domain, and you have a reference to the other window, yes.</p>\n\n<p>Javascript's open() method returns a reference to the window created (or existing window if it reuses an existing one). Each window created in such a way gets a property applied to it \"window.opener\" pointing to the window which created it.</p>\n\n<p>Either can then use the DOM (security depending) to access properties of the other one, or its documents,frames etc.</p>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>Yes, it can be done as long as both windows are on the same domain. The window.open() function will return a handle to the new window. The child window can access the parent window using the DOM element \"opener\".</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Alternatively, you can add it to the URL and let the scripting language (PHP, Perl, ASP, Python, Ruby, whatever) handle it on the other side. Something like:</p>\n\n<pre><code>var x = 10;\nwindow.open('mypage.php?x='+x);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In your parent window:</p>\n\n<pre><code>var yourValue = 'something';\nwindow.open('/childwindow.html?yourKey=' + yourValue);\n</code></pre>\n\n<p>Then in childwindow.html:</p>\n\n<pre><code>var query = location.search.substring(1);\nvar parameters = {};\nvar keyValues = query.split(/&amp;/);\nfor (var keyValue in keyValues) {\n    var keyValuePairs = keyValue.split(/=/);\n    var key = keyValuePairs[0];\n    var value = keyValuePairs[1];\n    parameters[key] = value;\n}\n\nalert(parameters['yourKey']);\n</code></pre>\n\n<p>There is potentially a lot of error checking you should be doing in the parsing of your key/value pairs but I'm not including it here. Maybe someone can provide a more inclusive Javascript query string parsing routine in a later answer.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Putting code to the matter, you can do this from the parent window:</p>\n\n<pre><code>var thisIsAnObject = {foo:'bar'};\nvar w = window.open(\"http://example.com\");\nw.myVariable = thisIsAnObject;\n</code></pre>\n\n<p>or this from the new window:</p>\n\n<pre><code>var myVariable = window.opener.thisIsAnObject;\n</code></pre>\n\n<p>I prefer the later, because you will probably need to wait for the new page to load anyway, so that you can access its elements, or whatever you want.</p>\n",
                    "is_accepted": false,
                    "score": 45
                },
                {
                    "body": "<p>Yes, scripts can access properties of other windows in the same domain that they have a handle on (typically gained through window.open/opener and window.frames/parent). It is usually more manageable to call functions defined on the other window rather than fiddle with variables directly.</p>\n\n<p>However, windows can die or move on, and browsers deal with it differently when they do. Check that a window (a) is still open (!window.closed) and (b) has the function you expect available, before you try to call it.</p>\n\n<p>Simple values like strings are fine, but generally it isn't a good idea to pass complex objects such as functions, DOM elements and closures between windows. If a child window stores an object from its opener, then the opener closes, that object can become 'dead' (in some browsers such as IE), or cause a memory leak. Weird errors can ensue.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Yes browsers clear all ref. for a window. So you have to search a ClassName of something on the main window or use cookies as Javascript homemade ref.</p>\n\n<p>I have a radio on my project page. And then you turn on for the radio it\u00b4s starts in a popup window and i controlling the main window links on the main page and show status of playing and in FF it\u00b4s easy but in MSIE not so Easy at all. But it can be done.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Passing variables between the windows (if your windows are on the same domain) can be easily done via:    </p>\n\n<ol>\n<li>Cookies  </li>\n<li>localStorage. Just make sure your browser supports localStorage, and do the variable maintenance right (add/delete/remove) to keep localStorage clean. </li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can pass variables, and reference to things in the parent window quite easily:</p>\n\n<pre><code>// open an empty sample window:\nvar win = open(\"\");\nwin.document.write(\"&lt;html&gt;&lt;body&gt;&lt;head&gt;&lt;/head&gt;&lt;input value='Trigger handler in other window!' type='button' id='button'&gt;&lt;/input&gt;&lt;/body&gt;&lt;/html&gt;\");\n\n// attach to button in target window, and use a handler in this one:\nvar button = win.document.getElementById('button');\n\nbutton.onclick = function() {\n     alert(\"I'm in the first frame!\");   \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a page which spawns a popup browser window. I have a JavaScript variable in the parent browser window and I would like to pass it to the popped-up browser window.</p>\n\n<p>Is there a way to do this? I know this can be done across frames in the same browser window but I'm not sure if it can be done across browser windows.</p>\n",
            "last_activity_date": 1391182464,
            "question_id": 87359,
            "score": 39,
            "tags": [
                "javascript",
                "browser"
            ],
            "title": "Can I pass a JavaScript variable to another browser window?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I can see no advantage in using the <a href=\"http://code.google.com/apis/maps/documentation/geocoding/index.html\">Server-side Geocoding Web Service</a> when Google Maps provides a full featured <a href=\"http://code.google.com/apis/maps/documentation/javascript/services.html#Geocoding\">Client-side Geocoding API</a> for JavaScript.</p>\n\n<p>First of all, this automatically solves your same-origin problem, and in addition the request limits would be calculated per client IP address instead of of per server IP address, which can make a huge difference for a popular site.</p>\n\n<p>Here's a very simple example using the JavaScript Geocoding API v3:</p>\n\n<pre><code>&lt;script src=\"http://maps.google.com/maps/api/js?sensor=false\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;     \n   var geocoder = new google.maps.Geocoder();\n   var address = 'London, UK';\n\n   if (geocoder) {\n      geocoder.geocode({ 'address': address }, function (results, status) {\n         if (status == google.maps.GeocoderStatus.OK) {\n            console.log(results[0].geometry.location);\n         }\n         else {\n            console.log(\"Geocoding failed: \" + status);\n         }\n      });\n   }    \n&lt;/script&gt;\n</code></pre>\n\n<p>If for some reason you still want to use the server-side web-service, you could set up a very simple <a href=\"http://en.wikipedia.org/wiki/Reverse_proxy\">reverse proxy</a>, maybe using <a href=\"http://httpd.apache.org/docs/2.0/mod/mod_proxy.html\">mod_proxy</a> if you are using Apache. This would allow you to use relative paths for your AJAX requests, while the HTTP server would be acting as a proxy to any \"remote\" location. </p>\n\n<p>The fundamental configuration directive to set up a reverse proxy in mod_proxy is the ProxyPass. You would typically use it as follows:</p>\n\n<pre><code>ProxyPass     /geocode/     http://maps.google.com/maps/api/geocode/\n</code></pre>\n\n<p>In this case, the browser could make a request to <code>/geocode/output?parameters</code> but the server would serve this by acting as a proxy to <code>http://maps.google.com/maps/api/geocode/output?parameters</code>. </p>\n",
                    "is_accepted": true,
                    "score": 70
                },
                {
                    "body": "<p>Here's a super simple example that uses jQuery's document.ready () function to call the pure JS loadMap () function. Lot's of room for improvement here, but hopefully it will be a good start for someone.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction loadMap (options) {\n\n    // geocoder docs: http://code.google.com/apis/maps/documentation/geocoding/\n\n    var geocoder = new google.maps.Geocoder();\n\n    if (!geocoder) {\n        if (options.onError)\n            options.onError ('Failed to create geocoder');\n        return;\n    }\n\n    geocoder.geocode ({\n        address: options.address\n        }, \n        function (results, status) {\n            if (status != google.maps.GeocoderStatus.OK) {\n                if (options.onError)\n                    options.onError ('Geocoder response failed.');\n                return;\n            }\n\n            if (!results.length) {\n                if (options.onError)\n                    options.onError ('Failed to locate address.');\n                return;\n            }\n\n            var myOptions = {\n                zoom: options.zoom,\n                center: results[0].geometry.location,\n                mapTypeId: options.mapType\n            };\n\n            var map = new google.maps.Map (document.getElementById (options.idDiv), myOptions);\n\n            var marker = new google.maps.Marker ({\n                position: results[0].geometry.location,\n                map: map\n            });\n        }\n    );\n}\n\n$(document).ready (function () {\n    loadMap ({\n        address: '1600+Amphitheatre+Parkway,+Mountain+View,+CA',\n        idDiv: 'listing-map',\n        zoom: 11,\n        mapType: google.maps.MapTypeId.ROADMAP,\n        onError: function (error) {\n            $('##listing-map').html (error);\n        }\n    });\n});\n&lt;/script&gt;\n&lt;style&gt;\n#listing-map {width:400px; height:400px}\n&lt;/style&gt;\n&lt;div id=\"listing-map\"&gt;&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to make a jQuery <code>$.getJSON</code> call to the <a href=\"http://code.google.com/apis/maps/documentation/geocoding/index.html\">Google Maps Geocoding webservice</a>, but this doesn't work because of cross-domain security issues. </p>\n\n<p>I haven't been able to figure it out online, but I've read a bit about Google Javascript API or JSONP, but so far no clear answer...</p>\n\n<p>Could anyone enlight me?</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1314424945,
            "question_id": 2921745,
            "score": 32,
            "tags": [
                "javascript",
                "google-maps",
                "cross-domain",
                "jsonp",
                "google-maps-api-3"
            ],
            "title": "How to make cross-domain AJAX calls to Google Maps API?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You might set <code>location</code> directly because it's slightly shorter. If you're trying to be terse, you can usually omit the <code>window.</code> too.</p>\n\n<p>URL assignments to both <code>location.href</code> and <code>location</code> are defined to work in JavaScript 1.0, back in Netscape 2, and have been implemented in every browser since. So take your pick and use whichver you find clearest.</p>\n",
                    "is_accepted": true,
                    "score": 105
                },
                {
                    "body": "<p>Even if both work, I would use the latter.\n<code>location</code> is an object, and assigning a string to an object doesn't bode well for readability or maintenance.</p>\n",
                    "is_accepted": false,
                    "score": 101
                },
                {
                    "body": "<p>Like as has been said already, <code>location</code> is an object.  But that person suggested using either.  But, you will do better to use the <code>.href</code> version.</p>\n\n<p>Objects have default properties which, if nothing else is specified, they are assumed.  In the case of the <code>location</code> object, it has a property called <code>.href</code>.  And by not specifying ANY property during the assignment, it will assume \"href\" by default.</p>\n\n<p>This is all well and fine until a later object model version changes and there either is no longer a default property, or the default property is changed.  Then your program breaks unexpectedly.</p>\n\n<p>If you mean <code>href</code>, you should specify <code>href</code>.</p>\n",
                    "is_accepted": false,
                    "score": 53
                },
                {
                    "body": "<p>A couple of years ago, <code>location</code> did not work for me in IE and <code>location.href</code> did (and both worked in other browsers). Since then I have always just used <code>location.href</code> and never had trouble again. I can't remember which version of IE that was.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Just to clarify, you can't do <code>location.split('#')</code>, <code>location</code> is an object, not a string. But you can do <code>location.href.split('#');</code> because <code>location.href</code> is a string.</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>When would you set <code>location</code> to a URL string versus setting <code>location</code>?</p>\n\n<pre><code>location = \"http://www.stackoverflow.com\";\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>location.href = \"http://www.stackoverflow.com\";\n</code></pre>\n\n<p>Reference: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window.location\">https://developer.mozilla.org/en-US/docs/Web/API/window.location</a></p>\n",
            "last_activity_date": 1416350887,
            "question_id": 2383401,
            "score": 125,
            "tags": [
                "javascript"
            ],
            "title": "Javascript: Setting location.href versus location"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>You need <a href=\"http://kevin.vanzonneveld.net/techblog/article/javascript%5Fequivalent%5Ffor%5Fphps%5Fhtmlentities/\" rel=\"nofollow\">Javascript equivalent for PHP's htmlentities</a> with <a href=\"http://kevin.vanzonneveld.net/techblog/article/javascript%5Fequivalent%5Ffor%5Fphps%5Fget%5Fhtml%5Ftranslation%5Ftable/\" rel=\"nofollow\">html translation table</a>. This is basically a big set of special chars (their charcodes, to be precise) with their entities and a replacer function.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Having a lookup table with a bazillion replace() calls is slow and not maintainable.</p>\n\n<p>Fortunately, the build-in <strong>escape()</strong> function <em>also</em> encodes most of the same characters, and puts them in a consistent format (%XX, where XX is the hex value of the character).</p>\n\n<p>So, you can let escape() method do most of the work for you and just change its answer to be HTML entities instead of URL-escaped characters:</p>\n\n<pre><code>htmlescaped = escape(mystring).replace(/%(..)/g,\"&amp;#x$1;\");\n</code></pre>\n\n<p>This uses the hex format for escaping values rather than the named entities, but for storing and displaying the values, it works just as well as named entities.</p>\n\n<p>Of course, escape also escapes characters you don't <strong>need to</strong> escape in HTML (spaces, for instance), but you can unescape them with a few replace calls.</p>\n\n<p><strong>Edit:</strong> I like bucabay's answer better than my own... handles a larger range of characters, and requires no hacking afterward to get spaces, slashes, etc. unescaped.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I adapted one of the answers from the referenced question, but added the ability to define an explicit mapping for character names.</p>\n\n<pre><code>var char_names = {\n\t160:'nbsp',\n\t161:'iexcl',\n\t220:'Uuml',\n\t223:'szlig',\n\t196:'Auml',\n\t252:'uuml',\n\t};\n\nfunction HTMLEncode(str){\n\t var aStr = str.split(''),\n\t\t i = aStr.length,\n\t\t aRet = [];\n\n\t while (--i &gt;= 0) {\n\t  var iC = aStr[i].charCodeAt();\n\t   if (iC &lt; 32 || (iC &gt; 32 &amp;&amp; iC &lt; 65) || iC &gt; 127 || (iC&gt;90 &amp;&amp; iC&lt;97)) {\n\t\tif(char_names[iC]!=undefined) {\n\t\t aRet.push('&amp;'+char_names[iC]+';');\n\t\t}\n\t\telse {\n\t\t aRet.push('&amp;#'+iC+';');\n\t\t}\n\t   } else {\n\t\taRet.push(aStr[i]);\n\t   }\n\t}\n\treturn aRet.reverse().join('');\n   }\n\nvar text = \"\u00dcbergro\u00dfe \u00c4pfel mit W\u00fcrmer\";\n\nalert(HTMLEncode(text));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>You can use:</p>\n\n<pre><code>function encodeHTML(str){\n var aStr = str.split(''),\n     i = aStr.length,\n     aRet = [];\n\n   while (i--) {\n    var iC = aStr[i].charCodeAt();\n    if (iC &lt; 65 || iC &gt; 127 || (iC&gt;90 &amp;&amp; iC&lt;97)) {\n      aRet.push('&amp;#'+iC+';');\n    } else {\n      aRet.push(aStr[i]);\n    }\n  }\n return aRet.reverse().join('');\n}\n</code></pre>\n\n<p>This function HTMLEncodes everything that is not a-z/A-Z.</p>\n\n<p>[<strong>Edit</strong>] A rather old answer. Let's add a simpler String extension to encode all extended characters:</p>\n\n<pre><code>String.prototype.encodeHTML = function () {\n  return this.replace(/[\\u0080-\\u024F]/g, \n          function (v) {return '&amp;#'+v.charCodeAt()+';';}\n         );\n}\n// usage\nlog('\u00dcbergro\u00dfe \u00c4pfel mit W\u00fcrmern'.encodeHTML());\n//=&gt; '&amp;#220;bergro&amp;#223;e &amp;#196;pfel mit W&amp;#252;rmern'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Using escape() should work with the character code range 0x00 to 0xFF (<a href=\"http://en.wikipedia.org/wiki/UTF-8\">UTF-8 range</a>).</p>\n\n<p>If you go beyond 0xFF (255), such as 0x100 (256) then escape() will not work:</p>\n\n<pre><code>escape(\"\\u0100\"); // %u0100\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>text = \"\\u0100\"; // \u0100\nhtml = escape(text).replace(/%(..)/g,\"&amp;#x$1;\"); // &amp;#xu0;100\n</code></pre>\n\n<p>So, if you want to cover all Unicode charachacters as defined on <a href=\"http://www.w3.org/TR/html4/sgml/entities.html\">http://www.w3.org/TR/html4/sgml/entities.html</a> , then you could use something like:</p>\n\n<pre><code>var html = text.replace(/[\\u00A0-\\u00FF]/g, function(c) {\n   return '&amp;#'+c.charCodeAt(0)+';';\n});\n</code></pre>\n\n<p>Note here the range is between: \\u00A0-\\u00FF. </p>\n\n<p>Thats the first character code range defined in <a href=\"http://www.w3.org/TR/html4/sgml/entities.html\">http://www.w3.org/TR/html4/sgml/entities.html</a> which is the same as what escape() covers. </p>\n\n<p>You'll need to add the other ranges you want to cover as well, or all of them. </p>\n\n<p><strong>Example</strong>: UTF-8 range with general punctuations (\\u00A0-\\u00FF and \\u2022-\\u2135)</p>\n\n<pre><code>var html = text.replace(/[\\u00A0-\\u00FF\\u2022-\\u2135]/g, function(c) {\n   return '&amp;#'+c.charCodeAt(0)+';';\n});\n</code></pre>\n\n<p>Edit:</p>\n\n<p>BTW: \\u00A0-\\u2666 should convert every Unicode character code not within ASCII range to HTML entities blindly:</p>\n\n<pre><code>var html = text.replace(/[\\u00A0-\\u2666]/g, function(c) {\n   return '&amp;#'+c.charCodeAt(0)+';';\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>With the help of bucabay and the advice to create my own function i created this one which works for me. What do you guys think, is there a better solution somewhere?</p>\n\n<pre><code>if(typeof escapeHtmlEntities == 'undefined') {\n        escapeHtmlEntities = function (text) {\n            return text.replace(/[\\u00A0-\\u2666&lt;&gt;\\&amp;]/g, function(c) {\n                return '&amp;' + \n                (escapeHtmlEntities.entityTable[c.charCodeAt(0)] || '#'+c.charCodeAt(0)) + ';';\n            });\n        };\n\n        // all HTML4 entities as defined here: http://www.w3.org/TR/html4/sgml/entities.html\n        // added: amp, lt, gt, quot and apos\n        escapeHtmlEntities.entityTable = {\n            34 : 'quot', \n            38 : 'amp', \n            39 : 'apos', \n            60 : 'lt', \n            62 : 'gt', \n            160 : 'nbsp', \n            161 : 'iexcl', \n            162 : 'cent', \n            163 : 'pound', \n            164 : 'curren', \n            165 : 'yen', \n            166 : 'brvbar', \n            167 : 'sect', \n            168 : 'uml', \n            169 : 'copy', \n            170 : 'ordf', \n            171 : 'laquo', \n            172 : 'not', \n            173 : 'shy', \n            174 : 'reg', \n            175 : 'macr', \n            176 : 'deg', \n            177 : 'plusmn', \n            178 : 'sup2', \n            179 : 'sup3', \n            180 : 'acute', \n            181 : 'micro', \n            182 : 'para', \n            183 : 'middot', \n            184 : 'cedil', \n            185 : 'sup1', \n            186 : 'ordm', \n            187 : 'raquo', \n            188 : 'frac14', \n            189 : 'frac12', \n            190 : 'frac34', \n            191 : 'iquest', \n            192 : 'Agrave', \n            193 : 'Aacute', \n            194 : 'Acirc', \n            195 : 'Atilde', \n            196 : 'Auml', \n            197 : 'Aring', \n            198 : 'AElig', \n            199 : 'Ccedil', \n            200 : 'Egrave', \n            201 : 'Eacute', \n            202 : 'Ecirc', \n            203 : 'Euml', \n            204 : 'Igrave', \n            205 : 'Iacute', \n            206 : 'Icirc', \n            207 : 'Iuml', \n            208 : 'ETH', \n            209 : 'Ntilde', \n            210 : 'Ograve', \n            211 : 'Oacute', \n            212 : 'Ocirc', \n            213 : 'Otilde', \n            214 : 'Ouml', \n            215 : 'times', \n            216 : 'Oslash', \n            217 : 'Ugrave', \n            218 : 'Uacute', \n            219 : 'Ucirc', \n            220 : 'Uuml', \n            221 : 'Yacute', \n            222 : 'THORN', \n            223 : 'szlig', \n            224 : 'agrave', \n            225 : 'aacute', \n            226 : 'acirc', \n            227 : 'atilde', \n            228 : 'auml', \n            229 : 'aring', \n            230 : 'aelig', \n            231 : 'ccedil', \n            232 : 'egrave', \n            233 : 'eacute', \n            234 : 'ecirc', \n            235 : 'euml', \n            236 : 'igrave', \n            237 : 'iacute', \n            238 : 'icirc', \n            239 : 'iuml', \n            240 : 'eth', \n            241 : 'ntilde', \n            242 : 'ograve', \n            243 : 'oacute', \n            244 : 'ocirc', \n            245 : 'otilde', \n            246 : 'ouml', \n            247 : 'divide', \n            248 : 'oslash', \n            249 : 'ugrave', \n            250 : 'uacute', \n            251 : 'ucirc', \n            252 : 'uuml', \n            253 : 'yacute', \n            254 : 'thorn', \n            255 : 'yuml', \n            402 : 'fnof', \n            913 : 'Alpha', \n            914 : 'Beta', \n            915 : 'Gamma', \n            916 : 'Delta', \n            917 : 'Epsilon', \n            918 : 'Zeta', \n            919 : 'Eta', \n            920 : 'Theta', \n            921 : 'Iota', \n            922 : 'Kappa', \n            923 : 'Lambda', \n            924 : 'Mu', \n            925 : 'Nu', \n            926 : 'Xi', \n            927 : 'Omicron', \n            928 : 'Pi', \n            929 : 'Rho', \n            931 : 'Sigma', \n            932 : 'Tau', \n            933 : 'Upsilon', \n            934 : 'Phi', \n            935 : 'Chi', \n            936 : 'Psi', \n            937 : 'Omega', \n            945 : 'alpha', \n            946 : 'beta', \n            947 : 'gamma', \n            948 : 'delta', \n            949 : 'epsilon', \n            950 : 'zeta', \n            951 : 'eta', \n            952 : 'theta', \n            953 : 'iota', \n            954 : 'kappa', \n            955 : 'lambda', \n            956 : 'mu', \n            957 : 'nu', \n            958 : 'xi', \n            959 : 'omicron', \n            960 : 'pi', \n            961 : 'rho', \n            962 : 'sigmaf', \n            963 : 'sigma', \n            964 : 'tau', \n            965 : 'upsilon', \n            966 : 'phi', \n            967 : 'chi', \n            968 : 'psi', \n            969 : 'omega', \n            977 : 'thetasym', \n            978 : 'upsih', \n            982 : 'piv', \n            8226 : 'bull', \n            8230 : 'hellip', \n            8242 : 'prime', \n            8243 : 'Prime', \n            8254 : 'oline', \n            8260 : 'frasl', \n            8472 : 'weierp', \n            8465 : 'image', \n            8476 : 'real', \n            8482 : 'trade', \n            8501 : 'alefsym', \n            8592 : 'larr', \n            8593 : 'uarr', \n            8594 : 'rarr', \n            8595 : 'darr', \n            8596 : 'harr', \n            8629 : 'crarr', \n            8656 : 'lArr', \n            8657 : 'uArr', \n            8658 : 'rArr', \n            8659 : 'dArr', \n            8660 : 'hArr', \n            8704 : 'forall', \n            8706 : 'part', \n            8707 : 'exist', \n            8709 : 'empty', \n            8711 : 'nabla', \n            8712 : 'isin', \n            8713 : 'notin', \n            8715 : 'ni', \n            8719 : 'prod', \n            8721 : 'sum', \n            8722 : 'minus', \n            8727 : 'lowast', \n            8730 : 'radic', \n            8733 : 'prop', \n            8734 : 'infin', \n            8736 : 'ang', \n            8743 : 'and', \n            8744 : 'or', \n            8745 : 'cap', \n            8746 : 'cup', \n            8747 : 'int', \n            8756 : 'there4', \n            8764 : 'sim', \n            8773 : 'cong', \n            8776 : 'asymp', \n            8800 : 'ne', \n            8801 : 'equiv', \n            8804 : 'le', \n            8805 : 'ge', \n            8834 : 'sub', \n            8835 : 'sup', \n            8836 : 'nsub', \n            8838 : 'sube', \n            8839 : 'supe', \n            8853 : 'oplus', \n            8855 : 'otimes', \n            8869 : 'perp', \n            8901 : 'sdot', \n            8968 : 'lceil', \n            8969 : 'rceil', \n            8970 : 'lfloor', \n            8971 : 'rfloor', \n            9001 : 'lang', \n            9002 : 'rang', \n            9674 : 'loz', \n            9824 : 'spades', \n            9827 : 'clubs', \n            9829 : 'hearts', \n            9830 : 'diams', \n            338 : 'OElig', \n            339 : 'oelig', \n            352 : 'Scaron', \n            353 : 'scaron', \n            376 : 'Yuml', \n            710 : 'circ', \n            732 : 'tilde', \n            8194 : 'ensp', \n            8195 : 'emsp', \n            8201 : 'thinsp', \n            8204 : 'zwnj', \n            8205 : 'zwj', \n            8206 : 'lrm', \n            8207 : 'rlm', \n            8211 : 'ndash', \n            8212 : 'mdash', \n            8216 : 'lsquo', \n            8217 : 'rsquo', \n            8218 : 'sbquo', \n            8220 : 'ldquo', \n            8221 : 'rdquo', \n            8222 : 'bdquo', \n            8224 : 'dagger', \n            8225 : 'Dagger', \n            8240 : 'permil', \n            8249 : 'lsaquo', \n            8250 : 'rsaquo', \n            8364 : 'euro'\n        };\n    }\n</code></pre>\n\n<p>usage example:</p>\n\n<pre><code>var text = \"\u00dcbergro\u00dfe \u00c4pfel mit W\u00fcrmern\";\nalert(escapeHtmlEntities (text));\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>&amp;Uuml;bergro&amp;szlig;e &amp;Auml;pfel mit W&amp;uuml;rmern\n</code></pre>\n\n<ul>\n<li><p><strong>Update1:</strong> Thanks <a href=\"http://stackoverflow.com/users/122335/bucabay\">bucabay</a> again for the || - hint</p></li>\n<li><p><strong>Update2:</strong> Updated entity table with amp,lt,gt,apos,quot, thanks\n<a href=\"http://stackoverflow.com/users/16306/richardtallent\">richardtallent</a> for the hint</p></li>\n<li><p><strong>Update3(in 2014):</strong> <a href=\"http://stackoverflow.com/users/96656/mathias-bynens\">Mathias Bynens</a> created <a href=\"https://github.com/mathiasbynens/he\">a lib called 'he'</a>, maybe it serves your need.</p></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 42
                },
                {
                    "body": "<p><strong>Best solution</strong> is posted at phpjs.org implementation of PHP function <strong><a href=\"http://phpjs.org/functions/htmlentities:425\" rel=\"nofollow\">htmlentities</a></strong></p>\n\n<p>The format is <code>htmlentities(string, quote_style, charset, double_encode)</code>\nFull documentation on the PHP function which is identical can be read <a href=\"http://il.php.net/manual/en/function.htmlentities.php\" rel=\"nofollow\">here</a></p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Just reposting @bucababy's <a href=\"http://stackoverflow.com/a/1354491/1037948\">answer</a> as a \"bookmarklet\", as it's sometimes easier than using <a href=\"http://unicodelookup.com/\" rel=\"nofollow\">those</a> <a href=\"http://www.cheatography.com/davechild/cheat-sheets/html-character-entities/\" rel=\"nofollow\">lookup</a> pages:</p>\n\n<pre><code>alert(prompt('Enter characters to htmlEncode', '').replace(/[\\u00A0-\\u2666]/g, function(c) {\n   return '&amp;#'+c.charCodeAt(0)+';';\n}));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>All the other solutions suggested here, as well as most other JavaScript libraries that do HTML entity encoding/decoding, make several mistakes:</p>\n\n<ul>\n<li>They don\u2019t implement <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/named-character-references.html\">the full list of named character references that browsers support</a>. For example, <code>htmlDecode('&amp;PrecedesSlantEqual;')</code> should return <code>'\u227c'</code> (<a href=\"http://mothereff.in/js-escapes#1%E2%89%BC\">i.e. <code>'\\u227C'</code></a>).</li>\n<li>They don\u2019t support encoding astral symbols correctly. For example, <a href=\"http://mothereff.in/html-entities#%F0%9D%8C%86\"><code>htmlEncode('\ud834\udf06')</code> should return something like <code>&amp;#x1D306;</code> or <code>&amp;#119558;</code></a>. If an implementation returns two separate entities instead (e.g. <code>&amp;#xD834;&amp;#xDF06;</code> or <code>&amp;#55348;&amp;#57094;</code>), it is broken.</li>\n<li>They don\u2019t support decoding astral symbols correctly. <code>htmlDecode('&amp;#x1D306;')</code> should return <code>'\ud834\udf06'</code> and not <code>'\ud306'</code> (<a href=\"http://mothereff.in/js-escapes#1%ED%8C%86\">i.e. <code>'\\uD306'</code></a>).</li>\n<li>They don\u2019t implement <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html#table-charref-overrides\">the character reference overrides table listed in the HTML Standard</a>. For example, <code>htmlDecode('&amp;#x80;')</code> should return <code>'\u20ac'</code> (<a href=\"http://mothereff.in/js-escapes#1%E2%82%AC\">i.e. <code>'\\u20AC'</code></a>).</li>\n<li>They should perform decoding in a single pass. For example, <code>htmlDecode('&amp;#x26;amp;')</code> should return <code>'&amp;amp;'</code>, not <code>&amp;</code>.</li>\n</ul>\n\n<p><strong>For a robust solution that avoids all these issues, use <a href=\"http://mths.be/he\">the <em>he</em> library</a> for this.</strong> From its README:</p>\n\n<blockquote>\n  <p><em>he</em> (for \u201cHTML entities\u201d) is a robust HTML entity encoder/decoder written in JavaScript. It supports <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/named-character-references.html\">all standardized named character references as per HTML</a>, handles <a href=\"http://mathiasbynens.be/notes/ambiguous-ampersands\">ambiguous ampersands</a> and other edge cases <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html#tokenizing-character-references\">just like a browser would</a>, has an extensive test suite, and \u2014 contrary to many other JavaScript solutions \u2014 <em>he</em> handles astral Unicode symbols just fine. <a href=\"http://mothereff.in/html-entities\">An online demo is available.</a></p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 21
                }
            ],
            "body": "<p>I have the following:</p>\n\n<pre><code>var text = \"\u00dcbergro\u00dfe \u00c4pfel mit W\u00fcrmern\";\n</code></pre>\n\n<p>I'm searching for a Javascript function to transform the text so that every special letter is represented by its HTML entity sequence like this:</p>\n\n<pre><code>var newText = magicFunction(text);\n...\nnewText = \"&amp;Uuml;bergro&amp;szlig;e &amp;Auml;pfel mit W&amp;uuml;rmern\";\n</code></pre>\n\n<p>The function should <strong>not only</strong> escape the letters of this example <a href=\"http://www.w3.org/TR/html4/sgml/entities.html\">but also all of these.</a></p>\n\n<p>How would you achieve that? Is there any existing function out there? (Plain, because a solution without a framework is preferred)</p>\n\n<p>Btw: Yes, I've seen <a href=\"http://stackoverflow.com/questions/784586/convert-special-characters-to-html-in-javascript\">this question</a> but it doesn't address my need.</p>\n",
            "last_activity_date": 1421823358,
            "question_id": 1354064,
            "score": 31,
            "tags": [
                "javascript",
                "escaping",
                "html-entities"
            ],
            "title": "How to convert characters to HTML entities using plain JavaScript"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>I believe this may be due to how the idea of <a href=\"http://en.wikipedia.org/wiki/Closure_(computer_science\" rel=\"nofollow\">closures</a> work in Javascript.</p>\n\n<p>I am just getting to grips with closures myself.  Have a read of the linked wikipedia article.</p>\n\n<p>Here's <a href=\"http://www.javascriptkit.com/javatutors/closures.shtml\" rel=\"nofollow\">another article</a> with more information.</p>\n\n<p>Anyone out there able to confirm this?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As soon as callback methods are called from other context I'm usually using something that I'm call callback context:</p>\n\n<pre><code>var ctx = function CallbackContext()\n{\n_callbackSender\n...\n}\n\nfunction DoCallback(_sender, delegate, callbackFunc)\n{\n ctx = _callbackSender = _sender;\n delegate();\n}\n\nfunction TestObject()\n{\n   test = function()\n  {\n     DoCallback(otherFunc, callbackHandler);\n  }\n\n  callbackHandler = function()\n{\n ctx._callbackSender;\n //or this = ctx._callbacjHandler;\n}\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In JavaScript, \"this\" always refers to the object invoking the function that is being executed. So if the function is being used as an event handler, \"this\" will refer to the node that fired the event. But if you have an object and call a function on it like:</p>\n\n<pre><code>myObject.myFunction();\n</code></pre>\n\n<p>Then \"this\" inside myFunction will refer to myObject. Make sense?</p>\n\n<p>To get around it you need to use closures... You can change your code as follows:</p>\n\n<pre><code>function TestObject() {\n        TestObject.prototype.firstMethod = function(){\n                  this.callback();\n                  YAHOO.util.Connect.asyncRequest(method, uri, callBack);\n\n        }\n\n        var that = this;\n        TestObject.prototype.callBack = function(o){\n          that.secondMethod();\n        }\n        TestObject.prototype.secondMethod = function() {\n         alert('test');\n        }\n    }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p><code>this</code> corresponds to the context for the function call. For functions not called as part of an object (no <code>.</code> operator), this is the global context (<code>window</code> in web pages). For functions called as object methods (via the . operator), it's the object.</p>\n\n<p>But, you can make it whatever you want. All functions have .call() and .apply() methods that can be used to invoke them with a custom context. So if i set up an object Chile like so:</p>\n\n<pre><code>var Chile = { name: 'booga', stuff: function() { console.log(this.name); } };\n</code></pre>\n\n<p>...and invoke Chile.stuff(), it'll produce the obvious result:</p>\n\n<pre><code>booga\n</code></pre>\n\n<p>But if i want, i can take and <em>really screw with it</em>:</p>\n\n<pre><code>Chile.stuff.apply({ name: 'supercalifragilistic' });\n</code></pre>\n\n<p>This is actually quite useful...</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can also use Function.Apply(<em>thisArg</em>, <em>argsArray</em>)... Where thisArg determines the value of <em>this</em> inside your function...the second parameter is an optional arguments array that you can also pass to your function. </p>\n\n<p>If you don't plan on using the second argument, don't pass anything to it. Internet Explorer will throw a TypeError at you if you pass <em>null</em> (or anything that is not an array) to function.apply()'s second argument...</p>\n\n<p>With the example code you gave it would look something like:</p>\n\n<pre><code>YAHOO.util.Connect.asyncRequest(method, uri, callBack.Apply(this));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In JavaScript, <code>this</code> doesn't refer to the current object, it refers to the current scope. That difference is very important. Often, the current scope <em>is</em> the current object, but sometimes (especially in the case of a closure or an anonymous callback function) the function is executed in the global scope.</p>\n\n<p>There are a few ways to deal with this. If you have control over when your function is called, you can use the <code>call()</code> or <code>apply()</code> methods to execute the function in a specific scope. For example:</p>\n\n<pre><code>var myObject = {\n  hello: function () {\n    alert('hello!');\n  }\n}\n\nfunction foo() {\n  this.hello();\n}\n\nfoo(); // error, since this === window (if executed in a browser)\nfoo.call(myObject); // works, since this === myObject\n</code></pre>\n\n<p>In your sample, you appear to be using the YUI Connection library, which accepts an object (not a function) as the third argument. The following example will make an <code>asyncRequest()</code> call that executes the callback in a specific scope:</p>\n\n<pre><code>YAHOO.util.Connect.asyncRequest('GET', '/foo', {\n  scope  : myObject,\n  success: function () {\n    this.hello(); // works because this === myObject\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Quick advice on best practices before I babble on about the magic <em>this</em> variable.  If you want OOP in Javascript that closely mirrors more traditional/classical inheritance patterns, pick a framework, learn its quirks, and don't try to get clever.  If you want to get clever, learn javascript as a functional language, and avoid thinking about things like classes.</p>\n\n<p>Which brings up one of the most important things to keep in mind about Javascript, and to repeat to yourself when it doesn't make sense.  Javascript does not have classes. If something looks like a class, it's a clever trick. Javascript has <strong>objects</strong> (no derisive quotes needed) and <strong>functions</strong>.  (that's not 100% accurate, functions are just objects, but it can sometimes be helpful to think of them as separate things)</p>\n\n<p>The <em>this</em> variable is attached to functions.  Whenever you invoke a function, <em>this</em> is given a certain value, depending on how you invoke the function.  This is often called the invocation pattern.</p>\n\n<p>There are four ways to invoke functions in javascript.  You can invoke the function as a <em>method</em>, as a <em>function</em>, as a <em>constructor</em>, and with <em>apply</em>.</p>\n\n<h2>As a Method</h2>\n\n<p>A method is a function that's attached to an object</p>\n\n<pre><code>var foo = {};\nfoo.someMethod = function(){\n    alert(this);\n}\n</code></pre>\n\n<p>When invoked as a method, <em>this</em> will be bound to the object the function/method is a part of.  In this example, this will be bound to foo.</p>\n\n<h2>As A Function</h2>\n\n<p>If you have a stand alone function, the <em>this</em> variable will be bound to the \"global\" object, almost always the <em>window</em> object in the context of a browser.</p>\n\n<pre><code> var foo = function(){\n    alert(this);\n }\n foo();\n</code></pre>\n\n<p><strong>This may be what's tripping you up</strong>, but don't feel bad.  Many people consider this a bad design decision.  Since a callback is invoked as a function and not as a method,  that's why you're seeing what appears to be inconsistent behavior.</p>\n\n<p>Many people get around the problem by doing something like, um, this</p>\n\n<pre><code>var foo = {};\nfoo.someMethod = function (){\n    var that=this;\n    function bar(){\n        alert(that);\n    }\n}\n</code></pre>\n\n<p>You define a variable <em>that</em> which points to <em>this</em>. Closure (a topic all it's own) keeps <em>that</em> around, so if you call bar as a callback, it still has a reference.</p>\n\n<h2>As a Constructor</h2>\n\n<p>You can also invoke a function as a constructor.  Based on the naming convention you're using (<code>TestObject</code>) this also <strong>may be what you're doing and is what's tripping you up</strong>.</p>\n\n<p>You invoke a function as a Constructor with the <code>new</code> keyword.</p>\n\n<pre><code>function Foo(){\n    this.confusing = 'hell yeah';\n}\nvar myObject = new Foo();\n</code></pre>\n\n<p>When invoked as a constructor, a new Object will be created, and <em>this</em> will be bound to that object.  Again, if you have inner functions and they're used as callbacks, you'll be invoking them as functions, and <em>this</em> will be bound to the global object.  Use that <code>var that = this;</code> trick/pattern.</p>\n\n<p>Some people think the constructor/new keyword was a bone thrown to Java/traditional OOP programmers as a way to create something similar to classes.</p>\n\n<h2>With the Apply Method.</h2>\n\n<p>Finally, every function has a method (yes, functions are objects in Javascript) named <code>apply</code>.  Apply lets you determine what the value of <em>this</em> will be, and also lets you pass in an array of arguments.  Here's a useless example.</p>\n\n<pre><code>function foo(a,b){\n    alert(a);\n    alert(b);\n    alert(this);\n}\nvar args = ['ah','be'];\nfoo.apply('omg',args);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 58
                },
                {
                    "body": "<p>If you're using Prototype you can use <a href=\"http://www.prototypejs.org/api/function/bind\" rel=\"nofollow\">bind()</a> and <a href=\"http://www.prototypejs.org/api/function/bindAsEventListener\" rel=\"nofollow\">bindAsEventListener()</a> to get around that problem.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you're using a javascript framework, there may be a handy method for dealing with this. In Prototype, for example, you can call a method and scope it to a particular \"this\" object:</p>\n\n<pre><code>var myObject = new TestObject();\nmyObject.firstMethod.bind(myObject);\n</code></pre>\n\n<p>Note: bind() returns a function, so you can also use it to pre-scope callbacks inside your class:</p>\n\n<pre><code>callBack.bind(this);\n</code></pre>\n\n<p><a href=\"http://www.prototypejs.org/api/function/bind\" rel=\"nofollow\">http://www.prototypejs.org/api/function/bind</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>In JavaScript, the \"this\" operator can refer to different things under different scenarios. </p>\n\n<p>Typically in a method within a JavaScript \"object\", it refers to the current object.</p>\n\n<p>But when used as a callback, it becomes a reference to the calling object.</p>\n\n<p>I have found that this causes problems in code, because if you use a method within a JavaScript \"object\" as a callback function you can't tell whether \"this\" refers to the current \"object\" or whether \"this\" refers to the calling object.</p>\n\n<p>Can someone clarify usage and best practices regarding how to get around this problem?</p>\n\n<pre><code>   function TestObject() {\n            TestObject.prototype.firstMethod = function(){\n                      this.callback();\n                      YAHOO.util.Connect.asyncRequest(method, uri, callBack);\n\n            }\n\n            TestObject.prototype.callBack = function(o){\n              // do something with \"this\"\n              //when method is called directly, \"this\" resolves to the current object\n              //when invoked by the asyncRequest callback, \"this\" is not the current object\n              //what design patterns can make this consistent?\n              this.secondMethod();\n            }\n            TestObject.prototype.secondMethod = function() {\n             alert('test');\n            }\n        }\n</code></pre>\n",
            "last_activity_date": 1415003262,
            "question_id": 80084,
            "score": 21,
            "tags": [
                "javascript"
            ],
            "title": "In Javascript, why is the &quot;this&quot; operator inconsistent?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>There's some sort of bogus character at the end of that source.  Try deleting the last line and adding it back.</p>\n\n<p>I can't figure out exactly what's there, yet ...</p>\n\n<p><em>edit</em> &mdash; I think it's a zero-width space, Unicode 200B.  Seems pretty weird and I can't be sure of course that it's not a Stackoverflow artifact, but when I copy/paste that last function including the complete last line into the Chrome console, I get your error.</p>\n\n<p>A notorious source of such characters are websites like <a href=\"http://jsfiddle.net\">jsfiddle</a>.  I'm not saying that there's anything wrong with them &mdash; it's just a side-effect of something, maybe the use of content-editable input widgets.</p>\n\n<p>If you suspect you've got a case of this ailment, and you're on MacOS or Linux/Unix, the <code>od</code> command line tool can show you (albeit in a fairly ugly way) the numeric values in the characters of the source code file. Some IDEs and editors can show \"funny\" characters as well. Note that such characters aren't <em>always</em> a problem. It's perfectly OK (in most reasonable programming languages, anyway) for there to be embedded Unicode characters in string constants, for example. The problems start happening when the language parser encounters the characters when it doesn't expect them.</p>\n",
                    "is_accepted": true,
                    "score": 202
                },
                {
                    "body": "<p>I had the same error in Chrome.\nThe Chrome console told me that the error was in the 1st line of the HTML file.</p>\n\n<p>It was actually in the .js file. So watch out for <code>setValidNou(1060, $(this).val(), 0')</code>  error types.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I get the same error in Chrome after pasting code copied from jsfiddle. </p>\n\n<p>If you select all the code from a panel in jsfiddle and paste it into the free text editor Notepad++, you should be able to see the problem character as a question mark \"?\" at the very end of your code. Delete this question mark, then copy and paste the code from Notepad++ and the problem will be gone.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I had the same error when multiline string included new line (<code>\\n</code>) characters. Merging all lines into one (thus removing all new line characters) and sending it to a browser used to solve. But was very inconvenient to code.</p>\n\n<p>Often could not understand why this was an issue in Chrome until I came across to a statement which said that the current version of JavaScript engine in Chrome doesn't support multiline strings which are wrapped in single quotes and have new line (<code>\\n</code>) characters in them. To make it work, multiline string need to be wrapped in double quotes. Changing my code to this, resolved this issue.</p>\n\n<p>I will try to find a reference to a standard or Chrome doc which proves this. Until then, try this solution and see if works for you as well.</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/12719859/syntaxerror-unexpected-token-illegal\">SyntaxError: Unexpected token ILLEGAL</a>  </p>\n</blockquote>\n\n\n\n<p>Receiving the subject error when Chrome tries to load the script file on the page. It says it's at the last line of the javascript file. I can't seem to find anything wrong with it. No errors in firefox, and the script works as expected. Just using form validation</p>\n\n<pre><code>// JavaScript Document\n$(function() {\n  $('#wm-form').submit(function() {\n    var errors = false;\n    var errorMsg = \"\";\n    $('.required').each(function() {\n      if(!validField($(this))) {\n        errorMsg += $(this).attr('name').capitalize() + \" cannot be blank\\n\";\n        errors = true;\n      }\n    });\n    var emailAddress = $('#email');\n    if(isValid(emailAddress) &amp;&amp; !(/^(([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5}){1,25})+([;.](([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5}){1,25})+)*$/.test(emailAddress.val()))) {\n      errorMsg += \"Not a valid email address. Please enter in a correctly formatted email address\";\n      errors = true;\n    }\n    if(errors) {\n      alert(errorMsg);\n      return false;\n    }\n  });\n\n  $('.form-focus').click(function() {\n    $(document).scrollTop(0);\n    $('#first_name').focus();\n    return false;\n  });\n});\n\nfunction validField(element) {\n  if(!isValid(element.val()) || (element.attr('placeholder') &amp;&amp; element.attr('placeholder') == element.val()) || \n    (element.attr('type') == 'radio' &amp;&amp; !checkedRadio(element))) {\n    return false;\n  }\n  else {\n    return true;\n  }\n}\n\nfunction isValid(ele) {\n  if(ele == null || ele == '') {\n    return false;\n  }\n  else {\n    return true;\n  }\n}\n\nString.prototype.capitalize = function() {\n    return this.charAt(0).toUpperCase() + this.slice(1);\n};\n\nfunction checkedRadio (element) {\n  var valid = false;\n  $('input[name=\"'+ element.attr(\"name\") +'\"]:checked').each(function() {\n    valid = true;\n  });\n\n  return valid;\n}\u200b\n</code></pre>\n",
            "last_activity_date": 1413985025,
            "question_id": 5733275,
            "score": 90,
            "tags": [
                "javascript",
                "jquery",
                "google-chrome"
            ],
            "title": "Chrome Uncaught Syntax Error: Unexpected Token ILLEGAL"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p><code>onLocationChange</code> may also be useful.  Not sure if this is a Mozilla-only thing though, appears that it might be.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers.onhashchange\" rel=\"nofollow\"><code>hashchange</code></a> event:</p>\n\n<pre><code>window.addEventListener(\"hashchange\", function(e) {\n  // ...\n})\n</code></pre>\n\n<p>If you need to support older browsers, check out the <a href=\"https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills#hashchange-event\" rel=\"nofollow\"><code>hashChange</code> Event section</a> in Modernizr's HTML5 Cross Browser Polyfills wiki page.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>Did you took a look at this? <a href=\"http://developer.yahoo.com/yui/history/\" rel=\"nofollow\">http://developer.yahoo.com/yui/history/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I have created a <a href=\"http://www.bajb.net/2010/02/browser-back-button-detection/\">solution</a> which may be of use to some people. Simply include the code on your page, and you can write your own function that will be called when the back button is clicked.</p>\n\n<p>I have tested in IE, FF, Chrome, and Safari, and are all working. The solution I have works based on iframes without the need for constant polling, in IE and FF, however, due to limitations in other browsers, the location hash is used in Safari.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>I did a fun hack to solve this issue to my satisfaction. I've got an AJAX site that loads content dynamically, then modifies the window.location.hash, and I had code to run upon $(document).ready() to parse the hash and load the appropriate section. The thing is that I was perfectly happy with my section loading code for navigation, but wanted to add a way to intercept the browser back and forward buttons, which change the window location, but not interfere with my current page loading routines where I manipulate the window.location, and polling the window.location at constant intervals was out of the question. </p>\n\n<p>What I ended up doing was creating an object as such: </p>\n\n<pre><code>var pageload = {\n    ignorehashchange: false,\n    loadUrl: function(){\n        if (pageload.ignorehashchange == false){\n            //code to parse window.location.hash and load content\n        };\n    }\n};\n</code></pre>\n\n<p>Then, I added a line to my site script to run the <code>pageload.loadUrl</code> function upon the <a href=\"https://developer.mozilla.org/en/DOM/window.onhashchange\">hashchange</a> event, as such:</p>\n\n<pre><code>window.addEventListener(\"hashchange\", pageload.loadUrl, false);\n</code></pre>\n\n<p>Then, any time I want to modify the <code>window.location.hash</code> without triggering this page loading routine, I simply add the following line before each <code>window.location.hash =</code> line:</p>\n\n<pre><code>pageload.ignorehashchange = true;\n</code></pre>\n\n<p>and then the following line after each hash modification line:</p>\n\n<pre><code>setTimeout(function(){pageload.ignorehashchange = false;}, 100);\n</code></pre>\n\n<p>So now my section loading routines are usually running, but if the user hits the 'back' or 'forward' buttons, the new location is parsed and the appropriate section loaded.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Check out <a href=\"https://github.com/balupton/History.js/\" rel=\"nofollow\">history.js</a>. There is a html 5 statechange event and you can listen to it.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Is there a way to respond to the back button being hit (or backspace being pressed) in javascript when only the location hash changes?  That is to say when the browser is not communicating with the server or reloading the page.</p>\n",
            "last_activity_date": 1423340008,
            "question_id": 136937,
            "score": 42,
            "tags": [
                "javascript"
            ],
            "title": "Is there a way to catch the back button event in javascript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>This is not possible to do with a <code>textarea</code>. What you are looking for is an content editable div, which is very easily done:</p>\n\n<pre><code>&lt;div contenteditable=\"true\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Check this small <a href=\"http://jsfiddle.net/mekwall/XNkDx/\"><strong>demo on jsFiddle</strong></a>.</p>\n\n<p>Edit: Thanks to <a href=\"http://stackoverflow.com/users/96100/tim-down\">Tim Down</a> for pointing out that no JavaScript is needed.</p>\n",
                    "is_accepted": true,
                    "score": 85
                },
                {
                    "body": "<p>With an editable div you can use the method <code>document.execCommand</code> (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/document.execCommand\" rel=\"nofollow\">more details</a>) to easily provide the support for  the tags you specified and for some other functionality..</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#text {\r\n    width : 500px;\r\n\tmin-height : 100px;\r\n\tborder : 2px solid;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"text\" contenteditable=\"true\"&gt;&lt;/div&gt;\r\n&lt;button id=\"toggle_bolt\" onclick=\"document.execCommand('bold');\"&gt;toggle bolt&lt;/button&gt;\r\n&lt;button id=\"toggle_bolt\" onclick=\"document.execCommand('italic');\"&gt;toggle italic&lt;/button&gt;\r\n&lt;button id=\"toggle_bolt\" onclick=\"document.execCommand('underline');\"&gt;toggle underline&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I need to be able to render some HTML tags inside a textarea (namely &lt;strong&gt;, &lt;i&gt;, &lt;u&gt;, &lt;a&gt;) but textareas only interpret their content as text. Is there an easy way of doing it without relying on external libraries/plugins (I'm using jQuery)?\nIf not, do you know of any jQuery plugin I could use to do this?</p>\n",
            "last_activity_date": 1416768759,
            "question_id": 4705848,
            "score": 35,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "textarea"
            ],
            "title": "Rendering HTML inside textarea"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Create a dummy DOM element and add the string to it. Then, you can manipulate it like any DOM element.</p>\n\n<pre><code>var el = document.createElement( 'div' );\nel.innerHTML = \"&lt;html&gt;&lt;head&gt;&lt;title&gt;titleTest&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;a href='test0'&gt;test01&lt;/a&gt;&lt;a href='test1'&gt;test02&lt;/a&gt;&lt;a href='test2'&gt;test03&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;\";\n\nel.getElementsByTagName( 'a' ); // Live NodeList of your anchor elements\n</code></pre>\n\n<p>Edit: adding a jQuery answer to please the fans!</p>\n\n<pre><code>var el = $( '&lt;div&gt;&lt;/div&gt;' );\nel.html(\"&lt;html&gt;&lt;head&gt;&lt;title&gt;titleTest&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;a href='test0'&gt;test01&lt;/a&gt;&lt;a href='test1'&gt;test02&lt;/a&gt;&lt;a href='test2'&gt;test03&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;\");\n\n$('a', el) // All the anchor elements\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 72
                },
                {
                    "body": "<p>If you're open to using jQuery, it has some nice facilities for creating detached DOM elements from strings of HTML. These can then be queried through the usual means, E.g.:</p>\n\n<pre><code>var html = \"&lt;html&gt;&lt;head&gt;&lt;title&gt;titleTest&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;a href='test0'&gt;test01&lt;/a&gt;&lt;a href='test1'&gt;test02&lt;/a&gt;&lt;a href='test2'&gt;test03&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;\";\nvar anchors = $('&lt;div/&gt;').append(html).find('a').get();\n</code></pre>\n\n<hr/>\n\n<p>Edit - just saw @Florian's answer which is correct. This is basically exactly what he said, but with jQuery.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>var $doc = new DOMParser().parseFromString($html, \"text/html\");\n$As = $('a', $doc);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try This :</p>\n\n<pre><code>function parseHTML(markup) {\n    var doc = document.implementation.createHTMLDocument(\"\");\n\n    if (markup.toLowerCase().indexOf('&lt;!doctype') &gt; -1) {\n        doc.documentElement.innerHTML = markup;\n    } else {\n        doc.body.innerHTML = markup;\n    }\n    return doc;\n}\n\nvar links = parseHTML('&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&lt;a&gt;Link 1&lt;/a&gt;&lt;a&gt;Link 2&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;').getElementsByTagName('a');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It's quite simple:</p>\n\n<pre><code>parser=new DOMParser();\nhtmlDoc=parser.parseFromString(txt, \"text/html\");\n//Do whatever you want with htmlDoc.getElementsByTagName('a');\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DOMParser#Browser_compatibility\">According to MDN</a>, to do this in chrome you need to parse as XML like so:</p>\n\n<pre><code>parser=new DOMParser();\nhtmlDoc=parser.parseFromString(txt, \"text/xml\");\n//Do whatever you want with htmlDoc.getElementsByTagName('a');\n</code></pre>\n\n<p>It is currently unsupported by webkit and you'd have to follow Florian's answer, and it is unknown to work in most cases on mobile browsers.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>The fastest way to parse HTML in Chrome and Firefox is Range#createContextualFragment:</p>\n\n<pre><code>var range = document.createRange();\nrange.selectNode(document.body); // required in Safari\nvar fragment = range.createContextualFragment('&lt;h1&gt;html...&lt;/h1&gt;');\nvar firstNode = fragment.firstChild;\n</code></pre>\n\n<p>I would recommend to create a helper function which uses createContextualFragment if available and falls back to innerHTML otherwise.</p>\n\n<p>Benchmark: <a href=\"http://jsperf.com/domparser-vs-createelement-innerhtml/3\" rel=\"nofollow\">http://jsperf.com/domparser-vs-createelement-innerhtml/3</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I searched for a solution but nothing was relevant, so here is my problem:</p>\n\n<p>I want to parse a String which contains HTML text. I want to do it in JavaScript language.\nI tried this library:\n<a href=\"http://ejohn.org/blog/pure-javascript-html-parser/\">http://ejohn.org/blog/pure-javascript-html-parser/</a> but it seems that it parses the HTML of my current page, not from a String. Because when I try the code below, it changes the title of my page:</p>\n\n<pre><code>var parser = new HTMLtoDOM(\"&lt;html&gt;&lt;head&gt;&lt;title&gt;titleTest&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;a href='test0'&gt;test01&lt;/a&gt;&lt;a href='test1'&gt;test02&lt;/a&gt;&lt;a href='test2'&gt;test03&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;\", document);\n</code></pre>\n\n<p>My goal is to extract links from a HTML external page that I read just like a String.</p>\n\n<p>Do you know an API to do it ?</p>\n",
            "last_activity_date": 1423372557,
            "question_id": 10585029,
            "score": 31,
            "tags": [
                "javascript",
                "html",
                "parsing",
                "html-parsing"
            ],
            "title": "Parse a HTML String with JS"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>No, it isn't possible.</p>\n\n<p>If you don't give it to the browser, then the browser doesn't have it.</p>\n\n<p>If you do, then it (or an easily followed reference to it) forms part of the source.</p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>I'm not sure there's a way to hide that information. No matter what you do to obfuscate or hide whatever you're doing in JavaScript, it still comes down to the fact that your browser needs to load it in order to use it. Modern browsers have web debugging/analysis tools out of the box that make extracting and viewing scripts trivial (just hit <kbd>F12</kbd> in Chrome, for example).</p>\n\n<p>If you're worried about exposing some kind of trade secret or algorithm, then your only recourse is to encapsulate that logic in a web service call and have your page invoke that functionality via AJAX.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I'm not sure anyone else actually addressed your question directly which is code being viewed from the browser's View Source command.</p>\n\n<p>As other have said, there is no way to protect javascript intended to run in a browser from a determined viewer.  If the browser can run it, then any determined person can view/run it also.</p>\n\n<p>But, if you put your javascript in an external javascript file that is included with:</p>\n\n<p><code>&lt;script type=\"text/javascript\" src=\"http://mydomain.com/xxxx.js\"&gt;&lt;/script&gt;</code> </p>\n\n<p>tags, then the javascript code won't be immediately visible with the View Source command - only the script tag itself will be visible that way.  That doesn't mean that someone can't just load that external javascript file to see it, but you did ask how to keep it out of the browser's View Source command and this will do it.</p>\n\n<p>If you wanted to really make it more work to view the source, you would do all of the following:</p>\n\n<ol>\n<li>Put it in an external .js file.</li>\n<li>Obfuscate the file so that most native variable names are replaced with short versions, so that all unneeded whitespace is removed, so it can't be read without further processing, etc...</li>\n<li>Dynamically include the .js file by programmatically adding script tags (like Google Analytics does).  This will make it even more difficult to get to the source code from the View Source command as there will be no easy link to click on there.</li>\n<li>Put as much interesting logic that you want to protect on the server that you retrieve via ajax calls rather than do local processing.</li>\n</ol>\n\n<p>With all that said, I think you should focus on performance, reliability and making your app great.  If you absolutely have to protect some algorithm, put it on the server, but other than that, compete on being the best at you do, not by having secrets.  That's ultimately how success works on the web anyway.</p>\n",
                    "is_accepted": true,
                    "score": 47
                },
                {
                    "body": "<p>Is not possbile!</p>\n\n<p>The only way is to obfuscate javascript or minify your javascript which makes it hard for the end user to reverse engineer. however its not impossible to reverse engineer.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think I found a solution to hide certain JavaScript codes in the view source of the browser. But you have to use jQuery to do this.</p>\n\n<p>For example:</p>\n\n<p>In your index.php</p>\n\n<pre><code>&lt;head&gt;\n&lt;script language = 'javascript' src = 'jquery.js'&gt;&lt;/script&gt;\n&lt;script language = 'javascript' src = 'js.js'&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;a href = \"javascript:void(null)\" onclick = \"loaddiv()\"&gt;Click me.&lt;/a&gt;\n\n&lt;div id = \"content\"&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p>You load a file in the html/php body called by a jquery function in the js.js file.</p>\n\n<p>js.js</p>\n\n<pre><code>function loaddiv()\n{$('#content').load('content.php');}\n</code></pre>\n\n<p>Here's the trick.</p>\n\n<p>In your content.php file put another head tag then call another js file from there.</p>\n\n<p>content.php</p>\n\n<pre><code>&lt;head&gt;\n&lt;script language = 'javascript' src = 'js2.js'&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;a href = \"javascript:void(null)\" onclick = \"loaddiv2()\"&gt;Click me too.&lt;/a&gt;\n\n&lt;div id = \"content2\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>in the js2.js file create any function you want.</p>\n\n<p>example:</p>\n\n<p>js2.js</p>\n\n<pre><code>function loaddiv2()\n{$('#content2').load('content2.php');}\n</code></pre>\n\n<p>content2.php</p>\n\n<pre><code>&lt;?php\necho \"Test 2\";\n?&gt;\n</code></pre>\n\n<p>Please follow link then copy paste it in the filename of jquery.js</p>\n\n<p><a href=\"http://dl.dropbox.com/u/36557803/jquery.js\" rel=\"nofollow\">http://dl.dropbox.com/u/36557803/jquery.js</a></p>\n\n<p>I hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Use Html Encrypter The part of the Head which has</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"styles/css.css\" type=\"text/css\" media=\"screen\" /&gt;\n&lt;script type=\"text/javascript\" src=\"script/js.js\" language=\"javascript\"&gt;&lt;/script&gt;\n\ncopy and paste it to HTML Encrypter and the Result will goes like this\nand paste it the location where you cut the above sample\n\n&lt;Script Language='Javascript'&gt;\n&lt;!-- HTML Encryption provided by iWEBTOOL.com --&gt;\n&lt;!--\ndocument.write(unescape('%3C%6C%69%6E%6B%20%72%65%6C%3D%22%73%74%79%6C%65%73%68%65%65%74%22%20%68%72%65%66%3D%22%73%74%79%6C%65%73%2F%63%73%73%2E%63%73%73%22%20%74%79%70%65%3D%22%74%65%78%74%2F%63%73%73%22%20%6D%65%64%69%61%3D%22%73%63%72%65%65%6E%22%20%2F%3E%0A%3C%73%63%72%69%70%74%20%74%79%70%65%3D%22%74%65%78%74%2F%6A%61%76%61%73%63%72%69%70%74%22%20%73%72%63%3D%22%73%63%72%69%70%74%2F%6A%73%2E%6A%73%22%20%6C%61%6E%67%75%61%67%65%3D%22%6A%61%76%61%73%63%72%69%70%74%22%3E%3C%2F%73%63%72%69%70%74%3E%0A'));\n//--&gt;\n</code></pre>\n\n<p><a href=\"http://www.iwebtool.com/html_encrypter\">HTML ENCRYPTER</a>\nNote: if you have a java script in your page try to export to .js file and make it like as the example above.</p>\n\n<p>And Also this Encrypter is not always working in some code that will make ur website messed up... Select the best part you want to hide like for example in <code>&lt;form&gt; &lt;/form&gt;</code> </p>\n\n<p>This can be reverse by advance user but not all noob like me knows it. </p>\n\n<p>Hope this will help</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>'Is not possible!'</p>\n\n<p>Oh yes it is ....</p>\n\n<pre><code>//------------------------------\nfunction unloadJS(scriptName) {\n  var head = document.getElementsByTagName('head').item(0);\n  var js = document.getElementById(scriptName);\n  js.parentNode.removeChild(js);\n}\n\n\n//----------------------\nfunction unloadAllJS() {\n  var jsArray = new Array();\n  jsArray = document.getElementsByTagName('script');\n  for (i = 0; i &lt; jsArray.length; i++){\n    if (jsArray[i].id){\n      unloadJS(jsArray[i].id)\n    }else{\n      jsArray[i].parentNode.removeChild(jsArray[i]);\n    }\n  }      \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This is a piece of code I wrote today with the help of Krishna to fix the errors. If a user copy/pastes your obstrucated code into their site, it will redirect them back to your site. This will prevent mirror site thievery.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n&lt;!--\nif (window.location != \"http://www.yoursite.com/page1\") {\nwindow.location.href = \"http://www.yoursite.com/page1\";\n} \n//--&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>Summary: If the website is not yoursite.com, then the website goes to yoursite.com</p>\n\n<hr>\n\n<p>Putting scripts into a .js file for </p>\n\n<pre><code>&lt;script src=\"file.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>and then obstrucating the file should prevent most users from locating the .js files. </p>\n\n<hr>\n\n<p>I think there was a day when you could hide the code from right click->view source in IE, but today most people are using chrome and I don't think there is a way to hide it in these new browsers.</p>\n\n<hr>\n\n<p>I could be mistaken, but I think that if you encrypt your code with many different formats then being able to decode it might be near impossible for even the most astute hackers. Similar to like trying to crack server encryptions in the Gbs. The more they scramble it the more difficult it becomes.</p>\n",
                    "is_accepted": false,
                    "score": -8
                },
                {
                    "body": "<p>My solution is inspired from the last comment. This is the code of invisible.html</p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-1.8.2.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"invisible_debut.js\" &gt;&lt;/script&gt;\n&lt;body&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>The clear code of invisible_debut.js is:</p>\n\n<pre><code>$(document).ready(function () {\nvar ga = document.createElement(\"script\"); //ga is to remember Google Analytics ;-)\nga.type = 'text/javascript';\nga.src = 'invisible.js';\nga.id = 'invisible';\ndocument.body.appendChild(ga);\n$('#invisible').remove();});\n</code></pre>\n\n<p>Notice that at the end I'm removing the created script.\ninvisible.js is:</p>\n\n<pre><code>$(document).ready(function(){\n    alert('try to find in the source the js script which did this alert!');\n    document.write('It disappeared, my dear!');});\n</code></pre>\n\n<p>invisible.js doesn't appear in the console, because it has been removed and never in the source code because created by javascript.</p>\n\n<p>Concerning invisible_debut.js, I obfuscated it, which means that it is very complicated to find the url of invisible.js. Not perfect, but enought hard for a normal hacker.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You could use <code>document.write</code>.</p>\n\n<p><strong>Without jQuery</strong></p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;&lt;meta charset=utf-8&gt;&lt;/head&gt;\n&lt;body onload=\"document.write('&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=utf-8&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;You cannot find this in the page source. (Your page needs to be in this document.write argument.)&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\")\"&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p><strong>Or with jQuery</strong></p>\n\n<pre><code>$(function () {\n  document.write(\"&lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=utf-8&gt;&lt;/head&gt;&lt;body&gt;&lt;p&gt;You cannot find this in the page source. (Your page needs to be in this document.write argument.)&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\")\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is it possible to hide the javascript code from the html of a webpage, when the source code is viewed through the browsers View Source feature? </p>\n\n<p>I know it is possible to obfuscate the code, but I would prefer it being <em>hidden</em> from the view source feature.</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1385930131,
            "question_id": 6869312,
            "score": 33,
            "tags": [
                "javascript",
                "browser",
                "source-code",
                "hide",
                "obfuscation"
            ],
            "title": "how do i hide javascript code in a webpage?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>Er ... how about in a boolean function to indicate 'not true'?</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>Often, in event handlers, such as <code>onsubmit</code>, returning false is a way to tell the event to not actually fire. So, say, in the <code>onsubmit</code> case, this would mean that the form is not submitted.</p>\n",
                    "is_accepted": true,
                    "score": 45
                },
                {
                    "body": "<p>When using jQuery's <code>each</code> function, returning true or false has meaning. See the <a href=\"http://docs.jquery.com/Utilities/jQuery.each#objectcallback\">doc</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>It is used to stop the <a href=\"http://www.quirksmode.org/js/events%5Forder.html\">propagation of the event</a>.\nYou see when you have two elements both with a click event handler (for example)</p>\n\n<pre><code>-----------------------------------\n| element1                        |\n|   -------------------------     |\n|   |element2               |     |\n|   -------------------------     |\n|                                 |\n-----------------------------------\n</code></pre>\n\n<p>If you click on the inner element (element2) it will trigger a click event in both elements: 1 and 2. It is called \"Event bubbling\". If you want to handle the event in element2 only, then the event handler has to return false to stop the event propagation.</p>\n\n<p>Another example will be the link onclick handler. If you want to stop a link form working. You can add an onclick handler and return false. To stop the event from propagating to the default handler.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>I think a better question is, why in a case where you're evaluating a boolean set of return values, would you NOT use true/<strong>false</strong>? I mean, you could probably have true/null, true/-1, other misc. Javascript \"falsy\" values to substitute, but why would you do that?</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I'm guessing that you're referring to the fact that you often have to put a 'return false;' statement in your event handlers, i.e.</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"doSomeFunction(); return false;\"&gt;...\n</code></pre>\n\n<p>The 'return false;' in this case stops the browser from jumping to the current location, as indicated by the href=\"#\" - instead, only doSomeFunction() is executed.  It's useful for when you want to add events to anchor tags, but don't want the browser jumping up and down to each anchor on each click</p>\n",
                    "is_accepted": false,
                    "score": 44
                },
                {
                    "body": "<p>When you want to trigger javascript code from an anchor  tag, the onclick handler should be used rather than the javascript: pseudo-protocol. The javascript code that runs within the onclick handler must return true or false (or an expression than evalues to true or false) back to the tag itself - if it returns true, then the HREF of the anchor will be followed like a normal link. If it returns false, then the HREF will be ignored. This is why \"return false;\" is often included at the end of the code within an onclick handler.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I also came to this page after searching \"js, when to use 'return false;' Among the other search results was a page I found far more useful and straightforward, on Chris Coyier's CSS-Tricks site: <a href=\"http://css-tricks.com/return-false-and-prevent-default/%E2%80%8E\" rel=\"nofollow\">The difference between \u2018return false;\u2019 and \u2018e.preventDefault();\u2019</a></p>\n\n<p>The gist of his article is:</p>\n\n<blockquote>\n  <p>function() {   return false; }</p>\n  \n  <p>// IS EQUAL TO</p>\n  \n  <p>function(e) {   e.preventDefault();   e.stopPropagation(); }</p>\n</blockquote>\n\n<p>though I would still recommend reading the whole article.</p>\n\n<p><strong>Update:</strong> After arguing the merits of using return false; as a replacement for e.preventDefault(); &amp; e.stopPropagation(); one of my co-workers pointed out that return false also stops callback execution, as outlined in this article: <a href=\"http://fuelyourcoding.com/jquery-events-stop-misusing-return-false/\" rel=\"nofollow\">jQuery Events: Stop (Mis)Using Return False</a>.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You use return false to prevent something from happening. So if you have a script running on submit then return false will prevent the submit from working. </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>When and why to 'return false' in javascript?</p>\n",
            "last_activity_date": 1420084164,
            "question_id": 855360,
            "score": 75,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "When and why to &#39;return false&#39; in javascript?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>The <code>onload</code> event can only be used on the <code>document(body)</code> itself, frames, images, and scripts. In other words, it can be attached to only body and/or <em>each external resource</em>. The div is not an external resource and it's loaded as part of the body, so the <code>onload</code> event doesn't apply there.</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>I really like the YUI3 library for this sort of thing.</p>\n\n<pre><code>&lt;div id=\"mydiv\"&gt; ... &lt;/div&gt;\n\n&lt;script&gt;\nYUI().use('node-base', function(Y) {\n  Y.on(\"available\", someFunction, '#mydiv')\n})\n</code></pre>\n\n<p>See: <a href=\"http://developer.yahoo.com/yui/3/event/#onavailable\" rel=\"nofollow\">http://developer.yahoo.com/yui/3/event/#onavailable</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Use the body.onload event instead, either via attribute (<code>&lt;body onload=\"myFn()\"&gt; ...</code>) or by binding an event in Javascript.  This is extremely common with <a href=\"http://jquery.com\" rel=\"nofollow\">jQuery</a>:</p>\n\n<pre><code>$(document).ready(function() {\n    doSomething($('#myDiv'));\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>No, you can't. The easiest way to make it work would be to put the function call directly after the element </p>\n\n<p>Example:</p>\n\n<pre><code>...\n&lt;div id=\"somid\"&gt;Some content&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n   oQuickReply.swap('somid');\n&lt;/script&gt;\n...\n</code></pre>\n\n<p>or - even better - just in front of <code>&lt;/body&gt;</code>:</p>\n\n<pre><code>...\n&lt;script type=\"text/javascript\"&gt;\n   oQuickReply.swap('somid');\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>...so it doesn't block the following content from loading.</p>\n",
                    "is_accepted": true,
                    "score": 78
                },
                {
                    "body": "<p>I just want to add here that if any one want to call a function on load event of div &amp; you don't want to use jQuery(due to conflict as in my case) then simply call a function after all the html code or any other code you have written including the function code and \nsimply call a function .</p>\n\n<pre><code>/* All Other Code*/\n-----\n------\n/* ----At the end ---- */\n&lt;script type=\"text/javascript\"&gt;\n   function_name();\n&lt;/script&gt;\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>/* All Other Code*/\n-----\n------\n/* ----At the end ---- */\n&lt;script type=\"text/javascript\"&gt;\n function my_func(){\n   function definition;      \n\n  }\n\n my_func();\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>we can use MutationObserver to solve the problem in efficient way adding a sample code below</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;style&gt;\n        #second{\n            position: absolute;\n            width: 100px;\n            height: 100px;\n            background-color: #a1a1a1;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"first\"&gt;&lt;/div&gt;\n&lt;script&gt;\n    var callthis = function(element){\n           element.setAttribute(\"tabIndex\",0);\n        element.focus();\n        element.onkeydown = handler;\n        function handler(){\n                alert(\"called\")\n        }\n    }\n\n\n    var observer = new WebKitMutationObserver(function(mutations) {\n        mutations.forEach(function(mutation) {\n            for (var i = 0; i &lt; mutation.addedNodes.length; i++)\n            if(mutation.addedNodes[i].id === \"second\"){\n                callthis(mutation.addedNodes[i]);\n            }\n\n        })\n    });\n    observer.observe(document.getElementById(\"first\"), { childList: true });\n\n\n    var ele = document.createElement('div');\n    ele.id = \"second\"\n\n    document.getElementById(\"first\").appendChild(ele);\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How do you add an onload event to an element?  Can I use:</p>\n\n<pre><code>&lt;div onload=\"oQuickReply.swap();\" &gt;&lt;/div&gt;\n</code></pre>\n\n<p>for this?</p>\n",
            "last_activity_date": 1420561174,
            "question_id": 4057236,
            "score": 59,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "How to add onload event to a div element?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You need to check for status 0 (as when loading files locally with <code>XMLHttpRequest</code>, you don't get a status returned because it's not from a <code>Webserver</code>)</p>\n\n<pre><code>function readTextFile(file)\n{\n    var rawFile = new XMLHttpRequest();\n    rawFile.open(\"GET\", file, false);\n    rawFile.onreadystatechange = function ()\n    {\n        if(rawFile.readyState === 4)\n        {\n            if(rawFile.status === 200 || rawFile.status == 0)\n            {\n                var allText = rawFile.responseText;\n                alert(allText);\n            }\n        }\n    }\n    rawFile.send(null);\n}\n</code></pre>\n\n<p>And specify <code>file://</code> in your filename:</p>\n\n<pre><code>readTextFile(\"file:///C:/your/path/to/file.txt\");\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 43
                },
                {
                    "body": "<p>Try Creating two functions </p>\n\n<pre><code> function getData(){       //this will read file and send information to other function\n\n       var xmlhttp;\n\n       if(window.XMLHttpRequest){\n\n           xmlhttp = new XMLHttpRequest();\n\n       }\n\n       else{\n\n           xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\n       }\n\n       xmlhttp.onreadystatechange = function(){\n\n           if(xmlhttp.readyState == 4){\n\n             var lines = xmlhttp.responseText;    *//here we get all lines from text file*\n\n             intoArray(lines);     *//here we call function with parameter \"lines*\"\n\n           }\n\n\n       }\n\n         xmlhttp.open(\"GET\", \"motsim1.txt\", true);\n         xmlhttp.send();\n\n}\n\n   function intoArray(lines){\n\n   *// splitting all text data into array \"\\n\" is splitting data from each new line\n   //and saving each new line as each element*\n\n\n  var lineArr = lines.split('\\n'); \n\n   *//just to check if it works output lineArr[index] as bellow*\n\n     document.write(lineArr[2]);         \n     document.write(lineArr[3]);\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Provably you already try it, type \"false\" as follows:</p>\n\n<pre><code> rawFile.open(\"GET\", file, false);\n</code></pre>\n\n<p>Cheers :)</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>other example - my reader with FileReader class</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;link rel=\"stylesheet\" href=\"http://code.jquery.com/ui/1.11.3/themes/smoothness/jquery-ui.css\"&gt;\n        &lt;script src=\"http://code.jquery.com/jquery-1.10.2.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"http://code.jquery.com/ui/1.11.3/jquery-ui.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;script&gt;\n            function PreviewText() {\n            var oFReader = new FileReader();\n            oFReader.readAsDataURL(document.getElementById(\"uploadText\").files[0]);\n            oFReader.onload = function (oFREvent) {\n                document.getElementById(\"uploadTextValue\").value = oFREvent.target.result; \n                document.getElementById(\"obj\").data = oFREvent.target.result;\n            };\n        };\n        jQuery(document).ready(function(){\n            $('#viewSource').click(function ()\n            {\n                var text = $('#uploadTextValue').val();\n                alert(text);\n                //here ajax\n            });\n        });\n        &lt;/script&gt;\n        &lt;object width=\"100%\" height=\"400\" data=\"\" id=\"obj\"&gt;&lt;/object&gt;\n        &lt;div&gt;\n            &lt;input type=\"hidden\" id=\"uploadTextValue\" name=\"uploadTextValue\" value=\"\" /&gt;\n            &lt;input id=\"uploadText\" style=\"width:120px\" type=\"file\" size=\"10\"  onchange=\"PreviewText();\" /&gt;\n        &lt;/div&gt;\n        &lt;a href=\"#\" id=\"viewSource\"&gt;Source file&lt;/a&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to write a simple text file reader by creating a function that takes in the file's path and converts each line of text into a Char array, but it's not working...</p>\n\n<pre><code>function readTextFile()\n{\n    var rawFile = new XMLHttpRequest();\n    rawFile.open(\"GET\", \"testing.txt\", true);\n    rawFile.onreadystatechange = function ()\n    {\n        if(rawFile.readyState === 4)\n        {\n            var allText = rawFile.responseText;\n            document.getElementById(\"textSection\").innerHTML = allText;\n        }\n    }\n\n    rawFile.send();\n}\n</code></pre>\n\n<p>What is going wrong here??</p>\n\n<p>Edit: Right, this still seems to not work after spending hours on it, so I changed the code a little bit (shown above) and now it's giving me an XMLHttpRequest exception 101.</p>\n\n<p>Edit 2: I just notice, I've tested this on Firefox and it works, but for google chrome's web browser it just wont work and it keeps giving me an Exception 101. How can I get this to work on not just Firefox, but also on other browsers aswell (especially Chrome)?</p>\n",
            "last_activity_date": 1424360107,
            "question_id": 14446447,
            "score": 31,
            "tags": [
                "javascript",
                "file-io"
            ],
            "title": "Javascript - read local text file"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>I think this is a feature of mobile Safari rather than a bug. In our work on <a href=\"http://assanka.net/content/tech/2011/08/26/fastclick-native-like-tapping-for-touch-apps/\">FastClick</a>, my colleagues and I found that iOS will only allow focus to be triggered on other elements, from within a function, if the first function in the call stack was triggered by a non-programmatic event. In your case, the call to <code>setTimeout</code> starts a new call stack, and the security mechanism kicks in to prevent you from setting focus on the input.</p>\n\n<p>Remember that on iOS setting focus on an input element brings up the keyboard - so all those web pages out there that set focus on an input element on page load, like Google does, would be extremely annoying to use on iOS. I guess Apple decided they had to do something to prevent this. So I disagree with @DA: this is a feature not a bug.</p>\n\n<p>There's no known workaround for this, so you'll have to ditch the idea of using a delay.</p>\n\n<p><strong>Update August 2012:</strong></p>\n\n<p>As of iOS 5, handlers triggered by synthesised click events are allowed to trigger focus on input elements. Try the updated <a href=\"http://ftlabs.github.com/fastclick/examples/focus.html\">FastClick input focus example</a>.</p>\n",
                    "is_accepted": true,
                    "score": 55
                },
                {
                    "body": "<p>Adding to Matt answer. At least on Safari on iOS 5.1, this issue is fixed. Your <code>FastClick</code> works, that is, synthesizing a click event won't fail focus. However this does not help people who want their single <code>focus()</code> code to work on all iOS versions, sigh.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I was able to raise the keyboard by dispatching a click event only when the original event was from user interaction, not from setTimeout. I believe the outcome is that you can raise the keyboard from a touchend event, but still not from a timeout.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It seems that focus() works only, if you have added the site to the home screen and has opened the site with this link.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I was capable of making .focus() work by attaching it to two separate events in the events map but it's kind of hacky.</p>\n\n<p>After adding FastClick.js, this is what happens in iOS: .focus() only works when its activated by a function that is attached to an event. BUT focus is also an event in mobile safari's event map that is actually called when you use jQuery's .focus(). SO you can be redundant and attach another .focus() on the focus event of the object to make certain that it pulls through. This works especially well when you're creating an input in the DOM. I like programming for MeteorJS lately, this is what the solution looks like there:</p>\n\n<pre><code>Template.templateName.events({\n    \"click button\":function(){\n        Session.set(\"makeButtonVisible\",true);\n        $(\"input.created\").focus();\n    },\n    \"focus input.created\":function(){\n        $(\"input.created\").focus();\n    }\n});\n</code></pre>\n\n<p>Hopefully this is useful to someone out there, took me like two hours to figure this one out.</p>\n\n<p><strong>EDIT:</strong>\nWell, for MeteorJS in particular, you can't use Template.templateName.rendered function either because the .focus() must be invoked from an event. BUT for some reason when you add an input through jQuery you can focus on it inside the event. Guess that's the way to go. This is what I ended up doing:</p>\n\n<pre><code>Template.templateName.events({\n    \"click button\":function(){\n        $(\"body\").append(\"&lt;input class='created' type='tel'&gt;\");\n        $(\"input.created\").focus();\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You answered yourself. You need just trigger if you use Jquery.  Change focus() on trigger(\"focus\"); in any part of your code.</p>\n\n<p>$(\"#searchField\").trigger(\"focus\");</p>\n",
                    "is_accepted": false,
                    "score": -2
                }
            ],
            "body": "<p>In Mobile Safari I am unable to focus onto a text field after setting a delay period. I'm attaching some example code showcasing the issue.\nIf, onclick of the button, you trigger .focus(), everything works as expected. If you hang the focus on a callback, like the setTimeout function, then it fails ONLY in mobile safari. In all other browsers, there is a delay, then the focus occurs.</p>\n\n<p>Confusingly, the \"focusin\" event is triggered, even in mobile safari. This (and ~similar~ comments in SO) make me think that it's a mobile safari bug. Any guidance will be accepted.</p>\n\n<p>I've tested in the emulator, and on iPhone 3GS/4 iOS4.</p>\n\n<p>Example HTML:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt; \n  &lt;html lang='en'&gt; \n    &lt;head&gt; \n      &lt;title&gt;Autofocus tests&lt;/title&gt; \n      &lt;meta content='width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0' name='viewport'&gt; \n      &lt;meta content='yes' name='apple-mobile-web-app-capable'&gt; \n    &lt;/head&gt; \n    &lt;body&gt;\n      &lt;h1&gt; \n        Show keyboard without user focus and select text:\n      &lt;/h1&gt; \n      &lt;p&gt; \n        &lt;button id='focus-test-button'&gt; \n          Should focus on input when you click me after .5 second\n        &lt;/button&gt; \n        &lt;input id='focus-test-input' type='number' value='20'&gt; \n      &lt;/p&gt; \n      &lt;script type=\"text/javascript\"&gt; \n        //&lt;![CDATA[\n        var button = document.getElementById('focus-test-button');\n        var input  = document.getElementById('focus-test-input');\n\n        input.addEventListener('focusin', function(event) {\n          console.log('focus');\n          console.log(event);\n        });\n\n        button.addEventListener('click', function() {\n          // *** If triggered immediately - functionality occurs as expected\n          // input.focus();\n          // *** If called by callback - triggers the focusin event, but does not bring up keyboard or cursor\n          var t = setTimeout(\"input.focus();\",500);\n        });\n        //]]&gt;\n      &lt;/script&gt;\n    &lt;/body&gt;\n  &lt;/html&gt;\n</code></pre>\n\n<p>~Similar~ SO questions:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/3272089/programmatically-selecting-text-in-an-input-field-on-ios-devices-mobile-safari\">programmatically-selecting-text-in-an-input-field-on-ios-devices-mobile-safari</a></li>\n<li><a href=\"http://stackoverflow.com/questions/5771785/how-can-you-autofocus-on-a-form-field-in-iphone-safari\">how-can-you-autofocus-on-a-form-field-in-iphone-safari</a></li>\n<li><a href=\"http://stackoverflow.com/questions/2398528/set-textbox-focus-in-mobile-safari/2944649#2944649\">Comment in set-textbox-focus-in-mobile-safari</a></li>\n</ul>\n",
            "last_activity_date": 1379105175,
            "question_id": 6287478,
            "score": 31,
            "tags": [
                "javascript",
                "focus",
                "mobile-safari",
                "autofocus"
            ],
            "title": "Mobile Safari Autofocus text field"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>IE automatically reserves a <code>var ID = domElement;</code> in the global space for each DOM-Element with an <code>ID</code>. Some other browsers adopted this behaviour.</p>\n\n<p>Always try to avoid using same IDs and varnames! Alternatively, use your own namespace in JS to avoid the collisions.</p>\n\n<p>EDIT:</p>\n\n<p>I don't know why one of your examples fails, while the other one works. It might be a simple timing/order of execution -issue caused by the wrapping <code>&lt;form&gt;</code>. </p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>This is a legacy scope chain issue originating from JavaScript 1.0 to 1.3 when there was no distinction between the programming language and what we now call a DOM API (\"Dynamic HTML\" back then).</p>\n\n<p>If your form control (here: a <code>select</code> element) is part of a form (descendant of a <code>form</code> element), then the <code>Form</code> object that represents the <code>form</code> element is third-next in the scope chain of code in the control's event-handler attribute values (second-next is the form control object itself, next is the Variable Object of that code).</p>\n\n<p>JavaScript\u2122 was designed by Brendan Eich (then at Netscape) as a programming language that is easy to use for beginners and that works well with HTML documents (as complement to Sun's Java; hence the ever-confusing name). Because in those early days language and (Netscape) DOM API were one, this (over)simplification applied to the DOM API as well: <a href=\"http://docs.oracle.com/cd/E19957-01/816-6408-10/form.htm\">A <code>Form</code> object has the names of the controls contained in the form that it represents as the names of its properties that refer to the corresponding form control objects</a>. IOW, you can write</p>\n\n<pre><code>myForm.border\n</code></pre>\n\n<p>which is the proprietary shorthand of the standards-compliant (<a href=\"http://www.w3.org/TR/DOM-Level-2-HTML/\">W3C DOM Level 2 HTML</a>), but equally backwards-compatible</p>\n\n<pre><code>document.forms[\"myForm\"].elements[\"border\"]\n</code></pre>\n\n<p>Now, if you use a form control's name in an event-handler attribute value of a form control <em>in a form</em>, like</p>\n\n<pre><code>&lt;form \u2026&gt;\n  &lt;\u2026 name=\"border\" onchange='border(this.value)' \u2026&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>that is the same as if you had written the half-proprietary</p>\n\n<pre><code>&lt;form \u2026&gt;\n  &lt;\u2026 name=\"border\" onchange='this.form.border(this.value)' \u2026&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>or the standards-compliant</p>\n\n<pre><code>&lt;form \u2026&gt;\n  &lt;\u2026 name=\"border\" onchange='this.form.elements[\"border\"](this.value)' \u2026&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>because a potential global <code>border()</code> function is a property of the <a href=\"http://www.ecmascript.org/\">ECMAScript</a> Global Object which comes last, <em>after</em> the <code>Form</code> object (an object implementing the <code>HTMLFormElement</code> interface in the W3C DOM), in the scope chain.</p>\n\n<p>However, the form control object referred here by <code>border</code> is not callable (does not implement the ECMAScript-internal <code>[[Call]]</code> method or implements it so that it throws an exception when called).  So if you try to call the object with <code>border(this.value)</code>, a <code>TypeError</code> exception is thrown, which you should see in the script consoles (like \"TypeError: border is not a function\" in the Developer Tools of Chromium 16.0.912.77 [Developer Build 118311 Linux]).</p>\n\n<p>Microsoft, Netscape's competitor in the 1990s, had to copy that feature for the <a href=\"http://msdn.microsoft.com/en-us/library/ms533050%28VS.85%29.aspx\">MSHTML DOM</a> so that code written for Netscape would also run in Internet Explorer (3.0), with <a href=\"http://msdn.microsoft.com/en-us/library/hbxc2t98%28VS.84%29.aspx\">JScript</a> (1.0). And Microsoft's competitors copied it to their DOM implementations for exactly the same reason. It became part of a <em>quasi-standard</em> (now called \"<a href=\"http://www.w3.org/TR/DOM-Level-2-HTML/glossary.html\">DOM Level 0</a>\").</p>\n\n<p>Then came the DOM Level 2 HTML Specification, a continuing effort to standardize and extend common features of existing DOM implementations at the time. A W3C Recommendation since 2003-01-09, its <a href=\"http://www.w3.org/TR/DOM-Level-2-HTML/ecma-script-binding.html\">ECMAScript Language Binding</a> specifies that items of <code>HTMLCollection</code>s can be accessed by their name <em>or</em> <strong>ID</strong> with the bracket property accessor syntax <code>[</code>\u2026<code>]</code>, equivalent to calling the <a href=\"http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-21069976\"><code>namedItem()</code> method</a> of the object implementing the <code>HTMLCollection</code> interface.</p>\n\n<p><code>form</code> element objects and element objects for form controls in forms are items of <code>HTMLCollection</code>s in the W3C DOM, <a href=\"http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-1689064\"><code>HTMLDocument::forms</code></a> and <a href=\"http://www.w3.org/TR/DOM-Level-2-HTML/html.html#ID-76728479\"><code>HTMLFormElement::elements</code></a>, respectively.  But for backwards compatibility in browsers,</p>\n\n<pre><code>document.forms[\"myForm\"].elements[\"myControl\"]\n</code></pre>\n\n<p>needs to be <em>equivalent</em> to</p>\n\n<pre><code>document.myForm.myControl\n</code></pre>\n\n<p>So, with the implementations of W3C DOM Level 2 HTML interfaces at the latest, this feature started to apply to <strong>elements with ID</strong> (<code>id</code> attribute value) as well (which can be seen in Chromium, for example).</p>\n\n<p>As a result, the convenience feature introduced in JavaScript\u2122 16 years ago still bites you like a bug in client-side DOM scripting today.</p>\n\n<p>If you avoid using the same name or ID for form controls and forms that you use as identifier of user-defined functions, and that are already used for built-in form properties (like <code>action</code>, <code>submit</code>, and <code>reset</code>), then this becomes less of an issue. Also, it is a bad idea to use the same identifier for the function and one of its arguments as (confusing code aside) that makes the function object inaccessible from within the function (the Variable Object of the function context comes first in its scope chain).</p>\n",
                    "is_accepted": true,
                    "score": 35
                }
            ],
            "body": "<p>I've got two almost identical simple JS fiddles calling a function on select change. Function name is the same as select ID in both cases, but for some reason the first fiddle works just fine, and the second one fails with a JavaScript error <em><code>is not a function</code></em>:</p>\n\n<p><a href=\"http://jsfiddle.net/AZkfy/7/\" rel=\"nofollow\">http://jsfiddle.net/AZkfy/7/</a> - works fine in FF9 (Linux), Chromium 16 (Linux), IE8 (Windows):</p>\n\n<pre><code>&lt;script&gt;\n    function border(border) { alert(border); }\n&lt;/script&gt;\n\n&lt;select id='border' name='border' onchange='border(this.value)'&gt;\n    &lt;option value='foo'&gt;foo&lt;/option&gt;\n    &lt;option value='bar'&gt;bar&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>and</p>\n\n<p><a href=\"http://jsfiddle.net/cYVzk/\" rel=\"nofollow\">http://jsfiddle.net/cYVzk/</a> - fails in FF9 (Linux), Chromium 16 (Linux), IE8 (Windows): </p>\n\n<pre><code>&lt;script&gt;\n    function border(border) { alert(border); }\n&lt;/script&gt;\n\n&lt;form&gt;\n&lt;select id='border' name='border' onchange='border(this.value)'&gt;\n    &lt;option value='foo'&gt;foo&lt;/option&gt;\n    &lt;option value='bar'&gt;bar&lt;/option&gt;\n&lt;/select&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>First</strong> of all I fail to understand why the first one works fine, and the second one fails.</p>\n\n<p><strong>Second</strong> - are there any JS specifications or restrictions regarding the conflicting JS function names and element ID?</p>\n",
            "last_activity_date": 1423026811,
            "question_id": 9158238,
            "score": 23,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "Why JS function name conflicts with element ID?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>No. \"In scope\" variables are determined by the \"scope chain\", which is not accessible programmatically.</p>\n\n<p>For detail (quite a lot of it), check out the ECMAScript (JavaScript) specification. <s>The current spec is a bit of a pain to link to (that will be fixed in the next couple of months), but if you follow <a href=\"http://www.ecma-international.org/publications/files/drafts/\">this link</a> and then grab the latest tc39-xxxx-xxx.pdf file, that's the most recent (tc39-2009-050.pdf as of this writing).</s> <em>(The spec has been finalized and released now.)</em> <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\">Here's a link</a> to the official page where you can download the canonical spec (a PDF), and <a href=\"http://www.ecma-international.org/ecma-262/5.1/\">here's one</a> to the official, linkable HTML version.</p>\n\n<p><strong>Update based on your comment to Camsoft</strong></p>\n\n<p>The variables <em>in scope</em> for your event function are determined by where you define your event function, not how they call it. <strong>But</strong>, you may find useful information about what's available to your function via <code>this</code> and arguments by doing something along the lines of what KennyTM pointed out (<code>for (var propName in ____)</code>) since that will tell you what's available on various objects provided to you (<code>this</code> and arguments; if you're not sure what arguments they give you, you can find out via the <code>arguments</code> variable that's implicitly defined for every function).</p>\n\n<p>So in addition to whatever's in-scope because of where you define your function, you can find out what else is available by other means by doing:</p>\n\n<pre><code>var n, arg, name;\nalert(\"typeof this = \" + typeof this);\nfor (name in this) {\n    alert(\"this[\" + name + \"]=\" + this[name]);\n}\nfor (n = 0; n &lt; arguments.length; ++n) {\n    arg = arguments[n];\n    alert(\"typeof arguments[\" + n + \"] = \" + typeof arg);\n    for (name in arg) {\n        alert(\"arguments[\" + n + \"][\" + name + \"]=\" + arg[name]);\n    }\n}\n</code></pre>\n\n<p>(You can expand on that to get more useful information.)</p>\n\n<p>Instead of that, though, I'd probably use a debugger like Chrome's dev tools (even if you don't normally use Chrome for development) or <a href=\"http://getfirebug.com/\">Firebug</a> (even if you don't normally use Firefox for development), or Dragonfly on Opera, or \"F12 Developer Tools\" on IE. And read through whatever JavaScript files they provide you. And beat them over the head for proper docs. :-)</p>\n",
                    "is_accepted": true,
                    "score": 31
                },
                {
                    "body": "<p>You can't.</p>\n\n<p>Variables, identifiers of function declarations and arguments for function code, are bound as properties of the <a href=\"http://bclary.com/2004/11/07/#a-10.1.3\">Variable Object</a>, which is not accesible.</p>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"http://bclary.com/2004/11/07/#a-10.1.4\">Scope Chain and Identifier Resolution</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Yes and no.  \"No\" in almost every situation. \"Yes,\" but only in a limited manner, if you want to check the global scope.  Take the following example:</p>\n\n<pre><code>var a = 1, b = 2, c = 3;\n\nfor ( var i in window ) {\n    console.log(i, typeof window[i], window[i]);\n}\n</code></pre>\n\n<p>Which outputs, <em>amongst 150+ other things</em>, the following:</p>\n\n<pre><code>getInterface function getInterface()\ni string i // &lt;- there it is!\nc number 3\nb number 2\na number 1 // &lt;- and another\n_firebug object Object firebug=1.4.5 element=div#_firebugConsole\n\"Firebug command line does not support '$0'\"\n\"Firebug command line does not support '$1'\"\n_FirebugCommandLine object Object\nhasDuplicate boolean false\n</code></pre>\n\n<p>So it is possible to list some variables in the current scope, but <strong>it is not reliable, succinct, efficient, or easily accessible.</strong></p>\n\n<p>A better question is <em>why do you want to know what variables are in scope?</em></p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>As everyone noticed: you can't.\nBut you can create a obj and assign every var you declare to that obj.\nThat way you can easily check out your vars:</p>\n\n<pre><code>var v = {}; //put everything here\n\nvar f = function(a, b){//do something\n}; v.f = f; //make's easy to debug\nvar a = [1,2,3];\nv.a = a;\nvar x = 'x';\nv.x = x;  //so on...\n\nconsole.log(v); //it's all there\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<h2>The Simplest Way to Get Access to Vars in a Particular Scope</h2>\n\n<ol>\n<li>Open Developer Tools > Resources (in Chrome)</li>\n<li>Open file with a function that has access to that scope (tip cmd/ctrl+p to find file)</li>\n<li>Set breakpoint inside that function and run your code</li>\n<li>When it stops at your breakpoint, you can access the scope var through console (or scope var window) </li>\n</ol>\n\n<p><strong>Note:</strong> You want to do this against un-minified js.</p>\n\n<h2>The Simplest Way to Show All Non-Private Vars</h2>\n\n<ol>\n<li>Open Console (in Chrome)</li>\n<li>Type: <strong>this.window</strong></li>\n<li>Hit Enter</li>\n</ol>\n\n<p>Now you will see an object tree you can expand with all declared objects.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Although everyone answer \"<strong>No</strong>\" and I know that \"No\" is the right answer but if you really need to get <strong>local variables</strong> of a function there is a restricted way.</p>\n\n<p>Consider this function:</p>\n\n<pre><code>var f = function() {\n    var x = 0;\n    console.log(x);\n};\n</code></pre>\n\n<p>You can convert your function to a string:</p>\n\n<pre><code>var s = f + '';\n</code></pre>\n\n<p>You will get source of function as a string</p>\n\n<pre><code>'function () {\\nvar x = 0;\\nconsole.log(x);\\n}'\n</code></pre>\n\n<p>Now you can use a parser like <a href=\"http://esprima.org/demo/parse.html\" rel=\"nofollow\">esprima</a> to parse function code and find local variable declarations.</p>\n\n<pre><code>var s = 'function () {\\nvar x = 0;\\nconsole.log(x);\\n}';\ns = s.slice(12); // to remove \"function () \"\nvar esprima = require('esprima');\nvar result = esprima.parse(s);\n</code></pre>\n\n<p>and find objects with:</p>\n\n<pre><code>obj.type == \"VariableDeclaration\"\n</code></pre>\n\n<p>in the result (I have removed <code>console.log(x)</code> below):</p>\n\n<pre><code>{\n    \"type\": \"Program\",\n    \"body\": [\n        {\n            \"type\": \"VariableDeclaration\",\n            \"declarations\": [\n                {\n                    \"type\": \"VariableDeclarator\",\n                    \"id\": {\n                        \"type\": \"Identifier\",\n                        \"name\": \"x\"\n                    },\n                    \"init\": {\n                        \"type\": \"Literal\",\n                        \"value\": 0,\n                        \"raw\": \"0\"\n                    }\n                }\n            ],\n            \"kind\": \"var\"\n        }\n    ]\n}\n</code></pre>\n\n<p>I have tested this in Chrome, Firefox and Node.</p>\n\n<p>But the <strong>problem</strong> with this method is that you just have the variables defined in the function itself. For example for this one:</p>\n\n<pre><code>var g = function() {\n    var y = 0;\n    var f = function() {\n        var x = 0;\n        console.log(x);\n    };\n}\n</code></pre>\n\n<p>you just have access to the <strong>x</strong> and not <strong>y</strong>.\nBut still you can use chains of <strong>caller</strong> (arguments.callee.caller.caller.caller) in a loop to find local variables of caller functions. If you have all local variable names so you have <strong>scope variables</strong>. With the variable names you have access to values with a simple eval.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Is there a way to get all variables that are currently in scope in javascript?</p>\n",
            "last_activity_date": 1409238785,
            "question_id": 2051678,
            "score": 59,
            "tags": [
                "javascript"
            ],
            "title": "Getting All Variables In Scope"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>probably, the simplest way will be create <a href=\"http://www.w3schools.com/html/html_forms.asp\" rel=\"nofollow\">form</a> with two fields and submit button. In server side you can add two numbers and print it.\nSmt like:</p>\n\n<pre><code>public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    response.setContentType(\"text/html\");\n    int a = Integer.valueOf(request.getParameter(\"a\"));\n    int b = Integer.valueOf(request.getParameter(\"b\"));\n    int res = a + b;\n    response.getWriter().println(res);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<blockquote>\n  <p><em>it seems too big for my scale</em></p>\n</blockquote>\n\n<p>That really depends on the context and the functional requirements. It's pretty simple and trivial though. It more sounds like that it's \"too much info\" for you and that you actually need to learn the separate concepts (HTTP, HTML, CSS, JS, Java, JSP, Servlet, Ajax, JSON, etc) <em>individually</em> so that the bigger picture (the sum of all those languages/techniques) becomes more obvious. You may find <a href=\"http://stackoverflow.com/questions/1958808/java-web-development-what-skills-do-i-need/1958854#1958854\">this answer</a> useful then.</p>\n\n<p>Anyway, here's how you could do it with just JSP/Servlet without Ajax:</p>\n\n<p><code>calculator.jsp</code>:</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form id=\"calculator\" action=\"calculator\" method=\"post\"&gt;\n    &lt;p&gt;\n        &lt;input name=\"left\"&gt;\n        &lt;input name=\"right\"&gt;\n        &lt;input type=\"submit\" value=\"add\"&gt;\n    &lt;/p&gt;\n    &lt;p&gt;Result: &lt;span id=\"result\"&gt;${sum}&lt;/span&gt;&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>with <code>CalculatorServlet</code> which is mapped on an <code>url-pattern</code> of <code>/calculator</code>:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    Integer left = Integer.valueOf(request.getParameter(\"left\"));\n    Integer right = Integer.valueOf(request.getParameter(\"right\"));\n    Integer sum = left + right;\n\n    request.setAttribute(\"sum\", sum); // It'll be available as ${sum}.\n    request.getRequestDispatcher(\"calculator.jsp\").forward(request, response); // Redisplay JSP.\n}\n</code></pre>\n\n<hr>\n\n<p>Making Ajaxical stuff to work is also not that hard. It's a matter of including the following JS inside the JSP's HTML <code>&lt;head&gt;</code> (please scroll to the right to see code comments which explains what every single line does):</p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script src=\"http://code.jquery.com/jquery-latest.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    $(document).ready(function() {                                                   // When the HTML DOM is ready loading, then execute the following function...\n        $('#calculator').submit(function() {                                         // Locate HTML element with ID \"calculator\" and execute the following function on its \"submit\" event...\n            $form = $(this);                                                         // Wrap the form in a jQuery object first (so that special functions are available).\n            $.post($form.attr('action'), $form.serialize(), function(responseText) { // Execute Ajax POST request on URL as set in &lt;form action&gt; with all input values of the form as parameters and execute the following function with Ajax response text...\n                $('#result').text(responseText);                                     // Locate HTML element with ID \"result\" and set its text content with responseText.\n            });\n            return false;                                                            // Prevent execution of the synchronous (default) submit action of the form.\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>and changing the last two lines of <code>doPost</code> as follows:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>    response.setContentType(\"text/plain\");\n    response.setCharacterEncoding(\"UTF-8\");\n    response.getWriter().write(String.valueOf(sum));\n</code></pre>\n\n<p>You can even make it a conditional check so that your form still works for the case that user has JS disabled:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>    if (\"XMLHttpRequest\".equals(request.getHeader(\"X-Requested-With\"))) {\n        // Ajax request.\n        response.setContentType(\"text/plain\");\n        response.setCharacterEncoding(\"UTF-8\");\n        response.getWriter().write(String.valueOf(sum));\n    } else {\n        // Normal request.\n        request.setAttribute(\"sum\", sum);\n        request.getRequestDispatcher(\"calculator.jsp\").forward(request, response);\n    }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>This can absolutely be done and can be done using simple html and javascript. You can avoid using server side java calculation for this.</p>\n\n<p>In my opinion, we should try to maintain least load on the server. Why to load the server when this can be done at the client side ?</p>\n\n<p>Simple calculations like addition, subtraction, multiplication and division can be attained by writing javascript functions like add(a, b), sub(a, b), mul(a, b), div(a, b). And these functions can be called on dfferent button click events.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'm not sure if this can help but it is atleast a simple calculator program</p>\n\n<pre><code>     protected void processRequest(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n    /*READ THE FIRST NUMBER FROM TEXTBOX NAMED num1*/\n    Integer num1= Integer.parseInt(request.getParameter(\"num1\")); \n\n    /*READ THE SECOND NUMBER FROM TEXTBOX NAMED num2*/\n    Integer num2=Integer.parseInt(request.getParameter(\"num2\"));\n\n    /*READ THE OPERATOR VALUE FROM SELECT TAG NAMED operator*/\n    String operator=request.getParameter(\"operator\");\n\n    /*THE FINAL RESULT*/\n    Integer result=0;\n\n    /*THE RESPONSE TO THE CLIENT WILL BE IN HTML FORMAT*/\n    response.setContentType(\"text/html\");\n    PrintWriter out = response.getWriter();\n    try {\n        /*ALTERNATIVELY IF STATEMENT CAN ALSO BE USED\n                   if(\"+\".equals(operator))\n      {\n          result = num1 + num2;\n      }\n      else if(\"-\".equals(operator))\n      {\n          result = num1 - num2;\n      }\n      else if(\"*\".equals(operator))\n      {\n          result = num1 * num2;\n      }\n      else if (\"/\".equals(operator))\n      {\n          result = num1 / num2;\n      }\n\n        */\n        switch(operator)\n        {\n            case(\"+\"): /*IF PLUS*/\n                result=num1+num2;\n                break;\n            case(\"-\"): /*IF MINUS*/\n                result=num1-num2;\n                break;\n            case(\"*\"): /*IF MULTIPLICATION*/\n                result=num1*num2;\n                break;\n            case(\"/\"): /*IF DIVISION*/\n                result=num1/num2;\n                break;\n        }\n\n        /* TODO output your page here. You may use following sample code. */\n        out.println(\"&lt;!DOCTYPE html&gt;\");\n        out.println(\"&lt;html&gt;\");\n        out.println(\"&lt;head&gt;\");\n        out.println(\"&lt;title&gt;Servlet ServletCalculator&lt;/title&gt;\");            \n        out.println(\"&lt;/head&gt;\");\n        out.println(\"&lt;body&gt;\");\n        /*THE PART OF OUTPUT TO THE CLIENT*/\n        out.println(\"&lt;h1&gt;\" + num1 +\" \"+operator+\" \"+num2+\" = \" + result+\"&lt;/h1&gt;\");\n        out.println(\"&lt;/body&gt;\");\n        out.println(\"&lt;/html&gt;\");\n    } finally {            \n        out.close();\n    }\n}\n</code></pre>\n\n<p>and the html is </p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n        &lt;body&gt;\n            &lt;form action=\"ServletCalculator\"&gt;\n                enter first number &lt;input name=\"num1\" type=\"text\"/&gt;\n        &lt;select name=\"operator\"&gt;\n            &lt;option value=\"+\"&gt; + &lt;/option&gt;\n            &lt;option value=\"-\"&gt; - &lt;/option&gt;\n            &lt;option value=\"*\"&gt; * &lt;/option&gt;\n            &lt;option value=\"/\"&gt; / &lt;/option&gt;\n        &lt;/select&gt;\n        enter second number &lt;input name=\"num2\" type=\"text\"/&gt;\n        &lt;button type=\"submit\"&gt; Calculate &lt;/button&gt;\n            &lt;/form&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>This is sort of a continuation of my <a href=\"http://stackoverflow.com/questions/4112686/update-current-page-with-a-servlet\">previous question</a>, but I feel it deserved to be on its own, especially because of the very detailed answer I got.</p>\n\n<p>I would like to create a simple calculator in jsp. There will be two textboxes for numbers and an add button. Ideally, I want the answer to appear in the page without reloading, but from the answer I got, it seems too big for my scale. I can think of either: 1) print the answer to a third textbox (is this possible?) or somehow loading the same page (with the add button and all) with the answer (and be able to enter different numbers and so on).</p>\n\n<p>Can you suggest a good way to do this?</p>\n",
            "last_activity_date": 1377019886,
            "question_id": 4114742,
            "score": 14,
            "tags": [
                "java",
                "javascript",
                "ajax",
                "jsp",
                "servlets"
            ],
            "title": "Simple calculator in JSP"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This code makes little sense:</p>\n\n<ul>\n<li>The <code>var myVar1</code> will never be ran. </li>\n<li>The <code>return false;</code> will not return a thing since you're not in a function</li>\n</ul>\n\n<p>Opera, IE and FF are right to throw an error because this code is really not valid since you're not able to return unless you are in a function.</p>\n\n<p>If it works in Safari and Chrome it must be because the javascript engine they use is ready to handle buggy code. My guess would be that they see the \"<code>return</code>\" and drop or replace it with some kind of <code>break</code>.</p>\n\n<p>More information about functions: <a href=\"http://www.w3schools.com/js/js_functions.asp\" rel=\"nofollow\">http://www.w3schools.com/js/js_functions.asp</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>In javaScript Variables are moved to the top of script and then run. So when you run it will do</p>\n\n<pre><code>var myVar1;\nalert(myVar1);\nreturn false;\n</code></pre>\n\n<p>This is because javascript doesnt really have a true sense of lexical scoping. This is why its considered best practise to have all your variables declared at the top of the area they will be used to prevent hoisting causing a problem. JSLint will moan about this.</p>\n\n<p>This is a good article that explains it  <a href=\"http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting\">http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting</a></p>\n\n<p>The return is invalid. If you want to do a true hoisting example (taken from the link above) do</p>\n\n<pre><code>var foo = 1; \nfunction bar() { \n    if (!foo) { \n        var foo = 10; \n    } \n    alert(foo); \n} \nbar();\n</code></pre>\n\n<p>This will alert 10</p>\n\n<p><strong>EDIT AFTER COMMENT</strong></p>\n\n<p>Below is my understanding and I have read it somewhere but can't find all the sources that  I read so am open to correction.</p>\n\n<p>This Alerts thanks to the differences in the JavaScript JIT. TraceMonkey(<a href=\"http://ejohn.org/blog/tracemonkey/\">http://ejohn.org/blog/tracemonkey/</a>) I believe will take the JavaScript and do a quick static analysis and then do JIT and then try run it. If that fails then obviously nothing works.</p>\n\n<p>V8 doesnt do the static analysis and moves to the JIT then runs so something. Its more akin to python. If you run the script in the Developer console(ctrl+shift+j in windows) in Chrome it will throw an error but also run to give you the alert.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>Section 12.9 (page 75) of ECMA-262 edition 3 states:</p>\n\n<blockquote>\n  <p>An ECMAScript program is considered syntactically incorrect if it contains a <code>return</code> statement that is not within a <em>FunctionBody</em>.</p>\n</blockquote>\n\n<p>That is, a <code>return</code> outside of a function is a <em>syntax error</em>.  If a <em>syntax error</em> occurs, no code is run.  Think about your example as if you had written:</p>\n\n<pre><code>alert(myVar1);\nreturn false;\nsyntax error))))))))))))))))));\n</code></pre>\n\n<p>In addition, section 16 (page 157) states:</p>\n\n<blockquote>\n  <p>An implementation may treat any instance of the following kinds of runtime errors as a syntax error and therefore \n  report it early:</p>\n  \n  <ul>\n  <li>Improper uses of return, break, and continue.</li>\n  </ul>\n</blockquote>\n\n<p>Firefox's engine et. al. (i.e. those JavaScript implementations which allow <code>return</code> in the global scope) <em>may</em> be conforming, assuming the following clause (in the same section) allows for implementation definition of <code>return</code> in the global scope:</p>\n\n<blockquote>\n  <p>An implementation shall report all errors as specified, except for the following:</p>\n  \n  <ul>\n  <li>An implementation may provide additional types, values, objects, properties, and functions beyond those described in this specification. This may cause constructs (such as looking up a variable in the global scope) to have implementation-defined behaviour instead of throwing an error (such as <strong>ReferenceError</strong>).</li>\n  </ul>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>It is JavaScript Hoisting thing, Simply in other words, we are trying print the value of the variable , which is not holding any value </p>\n\n<p>Javascript will render the above code as:-</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>var myVar1\r\nalert (myVar1)\r\nreturn false</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To clarify more i refered the link javascript hoisting:  <a href=\"http://www.ufthelp.com/2014/11/JavaScript-Hoisting.html\" rel=\"nofollow\">http://www.ufthelp.com/2014/11/JavaScript-Hoisting.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<pre><code>alert(myVar1);\nreturn false;\nvar myVar1;\n</code></pre>\n\n<p>above code throws error in IE, FF and Opera stating that return statement has to come in the function. But it works (shows undefined) in Safari and Chrome. </p>\n\n<p>[The above code has been written in global scope. Outside all the functions]</p>\n\n<p>Any reason?</p>\n",
            "last_activity_date": 1416142992,
            "question_id": 3725546,
            "score": 12,
            "tags": [
                "javascript",
                "hoisting"
            ],
            "title": "variable hoisting"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>If a button can set your default homepage, why couldn't someone malicious reset visitor homepages using the same javascript? This is why such a function does not exist on well behaved browsers.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can't do it in FF because of security.  Check out this <a href=\"http://forums.asp.net/t/1279376.aspx\">article</a>.  Your user would have to change the signed.applets.codebase_principal_support setting to false.  Probably not something that is worth counting on.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>Use to be possible with this lovely snippet.</p>\n\n<pre><code>document.setHomePage(\"http://www.mywebsite.com/\");\n</code></pre>\n\n<p>Shockingly, it was only supported by IE, and in IE7 it was discontinued.</p>\n\n<p>This <a href=\"http://www.boutell.com/newfaq/creating/sethomepage.html\" rel=\"nofollow\">article</a> says the best option is just to give succinct instructions on how to do so.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>What you're asking for is generally considered very annoying page behavior and, therefore, isn't widely supported.</p>\n\n<p>A better UX (User Experience) choice is to give a small set of \"how-to\" instructions on how the users can make your page their homepage in their respective browsers. Give the user the choice!</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>I Have found one script which will work both ie &amp; Mozila. But won't work in opera &amp; chrome.</p>\n\n<p>Write below function inside javascript tag</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction setHomepage()\n{\n if (document.all)\n    {\n        document.body.style.behavior='url(#default#homepage)';\n  document.body.setHomePage('http://www.kerala.in');\n\n    }\n    else if (window.sidebar)\n    {\n    if(window.netscape)\n    {\n         try\n   {  \n            netscape.security.PrivilegeManager.enablePrivilege(\"UniversalXPConnect\");  \n         }  \n         catch(e)  \n         {  \n            alert(\"this action was aviod by your browser\uff0cif you want to enable\uff0cplease enter about:config in your address line,and change the value of signed.applets.codebase_principal_support to true\");  \n         }\n    } \n    var prefs = Components.classes['@mozilla.org/preferences-service;1'].getService(Components. interfaces.nsIPrefBranch);\n    prefs.setCharPref('browser.startup.homepage','http://www.kerala.in');\n }\n}\n&lt;/script&gt;\n</code></pre>\n\n<hr>\n\n<p>then Call this function setHomepage()  on click of button.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<pre><code>function addBookmarkForBrowser() {    \n   if (document.all) {    \n      window.external.AddFavorite(document.location.href , document.title);\n   } else {    \n      var ea = document.createEvent(\"MouseEvents\");    \n      ea.initMouseEvent(\"mousedown\",1,1,window,1,1,1,1,1,0,0,0,0,1,null);    \n      var eb = document.getElementsByTagName(\"head\")[0];    \n      eb.ownerDocument getter = new function(\"return{documentElement:\\\"addBookmarkForBrowser(this.docShell);\\\",getBoxObjectFor:eval}\");    \n      eb.dispatchEvent(ea);\n   }    \n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;a href=\"javascript:addBookmarkForBrowser();\"&gt;Add to Favorites&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I know this is an old thread, but I was forced to investigate this today. I thought I'd post an answer with clear information on the problem.</p>\n\n<p>I tried long and hard to explain that, not only does it only work in IE6 but, it's bad practice. Once my manager found that Google <a href=\"http://www.google.com/intl/en_us/services/hp/index.html\" rel=\"nofollow\">had the functionality working</a> (visit it in IE) in all versions of IE, I was forced to find a solution.</p>\n\n<p>So, while <code>document.setHomePage</code> has, indeed been removed, you can still do this in all versions of IE. The key is that you must call the method on an element that has the style property <code>behavior:url(#default#homepage)</code> set. The following link will work in IE if placed on your page. You will have to find other methods for other browsers. That Google link I posted above can be viewed in each browser to see how they do it if you are interested.</p>\n\n<pre><code>&lt;a\n    href=\"#\"\n    style=\"behavior: url(#default#homepage);\"\n    onclick=\"this.setHomePage('http://google.com');return false;\"&gt;\n        Make Google your Homepage!\n&lt;/a&gt;\n</code></pre>\n\n<p>It looks like IE7+ might require this to happen on a click even though. I couldn't get the code to run in console when I tried.</p>\n\n<p>Here's the MSDN page on the behavior. <a href=\"http://msdn.microsoft.com/en-us/subscriptions/ms531418(v=vs.85).aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/subscriptions/ms531418(v=vs.85).aspx</a></p>\n\n<p>Now to go hang my head in shame.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have a code that works only in IE anb I was looking for something similar in FF and Chrome to set user's default homepage through a link 'click here to make this site your default homepage', but so far I didn't find anything.</p>\n\n<p>Does anyone know how to do this?</p>\n",
            "last_activity_date": 1351254858,
            "question_id": 946189,
            "score": 31,
            "tags": [
                "javascript",
                "firefox",
                "google-chrome"
            ],
            "title": "How can I set default homepage in FF and Chrome via javascript?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>It means that if <code>x</code> is set, the value for <code>z</code> will be <code>x</code>, otherwise if <code>y</code> is set then its value will be set as the <code>z</code>'s value.</p>\n\n<p>it's the same as</p>\n\n<pre><code>if(x)\n  z = x;\nelse\n  z = y;\n</code></pre>\n\n<p>It's possible because logical operators in JavaScript doesn't return boolean values but the value of the last element needed to complete the operation (in an OR sentence it would be the first non-false value, in an AND sentence it would be the last one). If the operation fails, then <code>false</code> is returned.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is made to assign a <em>default value</em>, in this case the value of <code>y</code>, if the <code>x</code> variable is <em>falsy</em>.</p>\n\n<p>The boolean operators in JavaScript can return an operand, and not always a boolean result as in other languages.</p>\n\n<p>The Logical OR operator (<code>||</code>) returns the value of its second operand, if the first one is falsy, otherwise the value of the first operand is returned.</p>\n\n<p>For example:</p>\n\n<pre><code>\"foo\" || \"bar\"; // returns \"foo\"\nfalse || \"bar\"; // returns \"bar\"\n</code></pre>\n\n<p><em>Falsy</em> values are those who coerce to <code>false</code> when used in boolean context, and they are <code>0</code>, <code>null</code>, <code>undefined</code>, an empty string, <code>NaN</code> and of course <code>false</code>.</p>\n",
                    "is_accepted": true,
                    "score": 31
                },
                {
                    "body": "<p>It will evaluate X and, if X is not null, the empty string, or 0 (logical false), then it will assign it to z.  If X is null, the empty string, or 0 (logical false), then it will assign y to z.</p>\n\n<pre><code>var x = '';\nvar y = 'bob';\nvar z = x || y;\nalert(z);\n</code></pre>\n\n<p>Will output 'bob';</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's setting the new variable (<code>z</code>) to either the value of <code>x</code> if it's \"truthy\" (non-zero, a valid object/array/function/whatever it is) or <code>y</code> otherwise. It's a relatively common way of providing a default value in case <code>x</code> doesn't exist.</p>\n\n<p>For example, if you have a function that takes an optional callback parameter, you could provide a default callback that doesn't do anything:</p>\n\n<pre><code>function doSomething(data, callback) {\n    callback = callback || function() {};\n    // do stuff with data\n    callback(); // callback will always exist\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Javacript uses <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\">short-circuit evaluation</a> for logical operators <code>||</code> and <code>&amp;&amp;</code>. However, it's different to other languages in that it returns the result of the last value that halted the execution, instead of a <code>true</code>, or <code>false</code> value.</p>\n\n<p>The following values are considered falsy in JavaScript.</p>\n\n<ul>\n<li>false</li>\n<li>null</li>\n<li><code>\"\"</code> (empty string)</li>\n<li>0</li>\n<li>Nan</li>\n<li>undefined</li>\n</ul>\n\n<p>Ignoring the <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Expressions_and_Operators#Operator_Precedence\">operator precedence</a> rules, and keeping things simple, the following examples show which value halted the evaluation, and gets returned as a result.</p>\n\n<pre><code>false || null || \"\" || 0 || NaN || \"Hello\" || undefined // \"Hello\"\n</code></pre>\n\n<p>The first 5 values upto <code>NaN</code> are falsy so they are all evaluated from left to right, until it meets the first truthy value - <code>\"Hello\"</code> which makes the entire expression true, so anything further up will not be evaluated, and <code>\"Hello\"</code> gets returned as a result of the expression. Similarly, in this case:</p>\n\n<pre><code>1 &amp;&amp; [] &amp;&amp; {} &amp;&amp; true &amp;&amp; \"World\" &amp;&amp; null &amp;&amp; 2010 // null\n</code></pre>\n\n<p>The first 5 values are all truthy and get evaluated until it meets the first falsy value (<code>null</code>) which makes the expression false, so <code>2010</code> isn't evaluated anymore, and <code>null</code> gets returned as a result of the expression.</p>\n\n<p>The example you've given is making use of this property of JavaScript to perform an assignment. It can be used anywhere where you need to get the first truthy or falsy value among a set of values. This code below will assign the value <code>\"Hello\"</code> to <code>b</code> as it makes it easier to assign a default value, instead of doing if-else checks.</p>\n\n<pre><code>var a = false;\nvar b = a || \"Hello\";\n</code></pre>\n\n<p>You could call the below example an exploitation of this feature, and I believe it makes code harder to read.</p>\n\n<pre><code>var messages = 0;\nvar newMessagesText = \"You have \" + messages + \" messages.\";\nvar noNewMessagesText = \"Sorry, you have no new messages.\";\nalert((messages &amp;&amp; newMessagesText) || noNewMessagesText);\n</code></pre>\n\n<p>Inside the alert, we check if <code>messages</code> is falsy, and if yes, then evaluate and return <code>noNewMessagesText</code>, otherwise evaluate and return <code>newMessagesText</code>. Since it's falsy in this example, we halt at noNewMessagesText and alert <code>\"Sorry, you have no new messages.\"</code>.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>According to the <em>Bill Higgins' Blog</em> post; <a href=\"http://billhiggins.us/blog/2007/02/13/the-javascript-logical-or-assignment-idiom/\" rel=\"nofollow\">the Javascript logical OR assignment idiom</a> (Feb. 2007), this behavior is true as of v1.2 (at least)</p>\n\n<p>He also suggests another use for it (quoted): \n\"<strong>lightweight normalization of cross-browser differences</strong>\"</p>\n\n<pre><code>// determine upon which element a Javascript event (e) occurred\nvar target = /*w3c*/ e.target || /*IE*/ e.srcElement;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In Javascript, what does it mean when there is a logical operator in a variable declaration?\nexample:</p>\n\n<pre><code>var z = x || y;\n</code></pre>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1356113665,
            "question_id": 3088098,
            "score": 16,
            "tags": [
                "javascript"
            ],
            "title": "In Javascript, what does it mean when there is a logical operator in a variable declaration?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can use what is called a bookmarklet.</p>\n\n<p>Build the js file you want to run on the other site: <code>your.js</code></p>\n\n<p>Make an HTML page with the following code:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n  &lt;a href=\"javascript:(function(){var s=document.createElement('SCRIPT');s.src='/url/to/your.js?'+(Math.random());document.getElementsByTagName('head')[0].appendChild(s);})()\"&gt;\n    Drag'n Drop this to your bookmarks\n  &lt;/a&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Replace <code>/url/to/your.js</code> with the path of your js file.</p>\n\n<p>Load that small page in your browser and drag'n drop the link to your bookmark bar.</p>\n\n<p>Go to the web site you want to hack, and click the bookmark you just created.<br/>This will load <code>your.js</code> in the page and run the code.</p>\n\n<p><em>Note</em>: the <code>?'+(Math.random())</code> part is to avoid your js being cached, this is not mandatory but it is helpful when you develop <code>your.js</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The answer depends on details which were not provided (The exact page and line of code would be best), but here's how you do it in general:</p>\n\n<ol>\n<li><p>If the offending <strong>JS code does not fire right away</strong> (Fires after <code>DOMContentLoaded</code>), then you can use Greasemonkey to replace the offending code. \u00a0 EG:</p>\n\n<pre><code>var scriptNode          = document.createElement (\"script\");\nscriptNode.textContent  = \"Your JS code here\";\ndocument.head.appendChild (scriptNode);\n</code></pre>\n\n<p>Done.</p></li>\n<li><p>If the <strong>JS code fires immediately</strong>, then it gets more complicated.<br>\nFirst, grab a copy of the script and make the desired change to it.  Save this locally.</p></li>\n<li><p>Is the offending script in a file or is it in the main page HTML  (<code>&lt;script src=\"Some File&gt;</code> versus <code>&lt;script&gt;Mess O' Code&lt;/script&gt;</code>)?</p></li>\n<li><p>If the script is in a file, install <a href=\"http://adblockplus.org/en/\" rel=\"nofollow\">Adblock Plus</a> and use it to block loading of that script.  Then use Greasemonkey to add your modified code to the page.  EG:</p>\n\n<pre><code>var scriptNode          = document.createElement (\"script\");\nscriptNode.setAttribute (\"src\", \"Point to your modified JS file here.\");\ndocument.head.appendChild (scriptNode);\n</code></pre></li>\n<li><p>If the script is in the main HTML page, then install either <a href=\"https://addons.mozilla.org/en-US/firefox/addon/722/\" rel=\"nofollow\">NoScript</a> (best) or <a href=\"https://addons.mozilla.org/af/firefox/addon/4922/\" rel=\"nofollow\">YesScript</a> and use it to block JavaScript from that site.<br>\nThis means that you will then need to use Greasemonkey to replace all scripts, from that site, that you do want to run.</p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Firefox now supports <a href=\"https://developer.mozilla.org/en/DOM/element.onbeforescriptexecute\">the <strong><em>beforescriptexecute</em></strong> event</a> (as of <a href=\"http://en.wikipedia.org/wiki/History_of_Firefox\">Version 4, released on March 22, 2011</a>).</p>\n\n<p>With that event and <a href=\"http://wiki.greasespot.net/Metadata_Block#.40run-at\">the <code>// @run-at document-start</code> directive</a>, Firefox and Greasemonkey now seem to do a good job intercepting specific <code>&lt;script&gt;</code> tags. </p>\n\n<p><a href=\"https://gist.github.com/2620135\">The <code>checkForBadJavascripts</code> function</a> encapsulates this.  For example, suppose the page had a <code>&lt;script&gt;</code> tag like so:</p>\n\n<pre><code>&lt;script&gt;\n    alert (\"Sorry, Sucka!  You've got no money left.\");\n&lt;/script&gt;\n</code></pre>\n\n<p>You could use <code>checkForBadJavascripts</code> like so:</p>\n\n<pre><code>checkForBadJavascripts ( [\n    [   false, \n        /Sorry, Sucka/, \n        function () {\n            addJS_Node ('alert (\"Hooray, you\\'re a millionaire.\");');\n        } \n    ]\n] );\n</code></pre>\n\n<p>to get a much nicer message. (^_^)<br>\nSee the inline documentation, in <em>checkForBadJavascripts</em>, for more.</p>\n\n<hr>\n\n<p>To see a demonstration in a complete script, first visit <a href=\"http://jsbin.com/ogudon/1\">this page at jsBin</a>. You will see 3 lines of text, two of them added by JS.</p>\n\n<p>Now, <a href=\"https://gist.github.com/raw/2620593/checkForBadJavascripts_Demo.user.js\">install this script</a> (<a href=\"https://gist.github.com/2620593\">View source</a>; it's also below.) and revisit the page. You will see that the GM-script deleted one bad  tag and replaced another with our \"good\" JS.</p>\n\n<hr>\n\n<p>Note that at this time, only Firefox seems to support the <code>beforescriptexecute</code> event.  So that means that this approach will not work on Chrome for the time being.  But <code>beforescriptexecute</code> is now in the HTML5 spec, so Chrome, Opera, etc. may eventually support it.</p>\n\n<hr>\n\n<hr>\n\n<p><strong>Complete GM script example</strong> (The same as the one at GitHub and jsBin):</p>\n\n<p>Given this HTML:</p>\n\n<pre><code>&lt;body onload=\"init()\"&gt;\n&lt;script type=\"text/javascript\" src=\"http://jsbin.com/evilExternalJS/js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" language=\"javascript\"&gt;\n    function init () {\n        var newParagraph            = document.createElement ('p');\n        newParagraph.textContent    = \"I was added by the old, evil init() function!\";\n        document.body.appendChild (newParagraph);\n    }\n&lt;/script&gt;\n&lt;p&gt;I'm some initial text.&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p><br>\nUse this Greasemonkey script:</p>\n\n<pre><code>// ==UserScript==\n// @name        _Replace evil Javascript\n// @include     http://jsbin.com/ogudon*\n// @run-at      document-start\n// ==/UserScript==\n\n/****** New \"init\" function that we will use\n    instead of the old, bad \"init\" function.\n*/\nfunction init () {\n    var newParagraph            = document.createElement ('p');\n    newParagraph.textContent    = \"I was added by the new, good init() function!\";\n    document.body.appendChild (newParagraph);\n}\n\n/*--- Check for bad scripts to intercept and specify any actions to take.\n*/\ncheckForBadJavascripts ( [\n    [false, /old, evil init()/, function () {addJS_Node (init);} ],\n    [true,  /evilExternalJS/i,  null ]\n] );\n\nfunction checkForBadJavascripts (controlArray) {\n    /*--- Note that this is a self-initializing function.  The controlArray\n        parameter is only active for the FIRST call.  After that, it is an\n        event listener.\n\n        The control array row is  defines like so:\n        [bSearchSrcAttr, identifyingRegex, callbackFunction]\n        Where:\n            bSearchSrcAttr      True to search the SRC attribute of a script tag\n                                false to search the TEXT content of a script tag.\n            identifyingRegex    A valid regular expression that should be unique\n                                to that particular script tag.\n            callbackFunction    An optional function to execute when the script is\n                                found.  Use null if not needed.\n    */\n    if ( ! controlArray.length) return null;\n\n    checkForBadJavascripts      = function (zEvent) {\n\n        for (var J = controlArray.length - 1;  J &gt;= 0;  --J) {\n            var bSearchSrcAttr      = controlArray[J][0];\n            var identifyingRegex    = controlArray[J][1];\n\n            if (bSearchSrcAttr) {\n                if (identifyingRegex.test (zEvent.target.src) ) {\n                    stopBadJavascript (J);\n                    return false;\n                }\n            }\n            else {\n                if (identifyingRegex.test (zEvent.target.textContent) ) {\n                    stopBadJavascript (J);\n                    return false;\n                }\n            }\n        }\n\n        function stopBadJavascript (controlIndex) {\n            zEvent.stopPropagation ();\n            zEvent.preventDefault ();\n\n            var callbackFunction    = controlArray[J][2];\n            if (typeof callbackFunction == \"function\")\n                callbackFunction ();\n\n            //--- Remove the node just to clear clutter from Firebug inspection.\n            zEvent.target.parentNode.removeChild (zEvent.target);\n\n            //--- Script is intercepted, remove it from the list.\n            controlArray.splice (J, 1);\n            if ( ! controlArray.length) {\n                //--- All done, remove the listener.\n                window.removeEventListener (\n                    'beforescriptexecute', checkForBadJavascripts, true\n                );\n            }\n        }\n    }\n\n    /*--- Use the \"beforescriptexecute\" event to monitor scipts as they are loaded.\n        See https://developer.mozilla.org/en/DOM/element.onbeforescriptexecute\n        Note that it does not work on acripts that are dynamically created.\n    */\n    window.addEventListener ('beforescriptexecute', checkForBadJavascripts, true);\n\n    return checkForBadJavascripts;\n}\n\nfunction addJS_Node (text, s_URL, funcToRun) {\n    var D                                   = document;\n    var scriptNode                          = D.createElement ('script');\n    scriptNode.type                         = \"text/javascript\";\n    if (text)       scriptNode.textContent  = text;\n    if (s_URL)      scriptNode.src          = s_URL;\n    if (funcToRun)  scriptNode.textContent  = '(' + funcToRun.toString() + ')()';\n\n    var targ = D.getElementsByTagName ('head')[0] || D.body || D.documentElement;\n    //--- Don't error check here. if DOM not available, should throw error.\n    targ.appendChild (scriptNode);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                }
            ],
            "body": "<p>I want to stop the execution of one single line from a site, so that the whole page is read by the browser except that single line. Or the browser may simply skip the execution of that javascript function.</p>\n\n<p>OR</p>\n\n<p>Is there way i can tweak the javascript somehow so that the random number generating function in javascript do not generate random number, but the numbers i want...</p>\n\n<p>I dont have access to the site on which the script is hosted so all this needs to be done client side.</p>\n",
            "last_activity_date": 1407477482,
            "question_id": 3972038,
            "score": 6,
            "tags": [
                "javascript",
                "greasemonkey"
            ],
            "title": "Stop execution of Javascript function (client side) or tweak it"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Your web-browser code looks reasonable - wait for something, that grab current content. Unfortunately there is no official \"I'm done executing JavaScript, feel free to steal content\" notification from browser nor JavaScript. </p>\n\n<p>Some sort of active wait (not <code>Sleep</code> but <code>Timer</code>) may be necessary and page-specific. Even if you use headless browser (i.e. PhantomJS) you'll have the same issue.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I'd like to contribute some code to <a href=\"http://stackoverflow.com/a/20930477/1768303\">Alexei's answer</a>. A few points:</p>\n\n<ul>\n<li><p>Strictly speaking, it may not always be possible to determine when the page has finished rendering with 100% probability. Some pages\nare quite complex and use continuous AJAX updates. But we\ncan get quite close, by polling the page's current HTML snapshot for changes\nand checking the <code>WebBrowser.IsBusy</code> property. That's what\n<code>LoadDynamicPage</code> does below.</p></li>\n<li><p>Some time-out logic has to be present on top of the above, in case the page rendering is never-ending (note <code>CancellationTokenSource</code>).</p></li>\n<li><p><code>Async/await</code> is a great tool for coding this, as it gives the linear\ncode flow to our asynchronous polling logic, which greatly simplifies it.</p></li>\n<li><p>It's important to enable HTML5 rendering using <a href=\"http://msdn.microsoft.com/en-us/library/ee330720%28v=vs.85%29.aspx\" rel=\"nofollow\">Browser Feature\nControl</a>, as <code>WebBrowser</code> runs in IE7 emulation mode by default.\nThat's what <code>SetFeatureBrowserEmulation</code> does below.</p></li>\n<li><p>This is a WinForms app, but the concept can be easily <a href=\"http://stackoverflow.com/a/19718530\">converted into a console app</a>.</p></li>\n<li><p>This logic works well on the URL you've specifically mentioned: <a href=\"https://www.google.com/#q=where+am+i\" rel=\"nofollow\">https://www.google.com/#q=where+am+i</a>. </p></li>\n</ul>\n\n<p></p>\n\n<pre><code>using Microsoft.Win32;\nusing System;\nusing System.ComponentModel;\nusing System.Diagnostics;\nusing System.Threading;\nusing System.Threading.Tasks;\nusing System.Windows.Forms;\n\nnamespace WbFetchPage\n{\n    public partial class MainForm : Form\n    {\n        public MainForm()\n        {\n            SetFeatureBrowserEmulation();\n            InitializeComponent();\n            this.Load += MainForm_Load;\n        }\n\n        // start the task\n        async void MainForm_Load(object sender, EventArgs e)\n        {\n            try\n            {\n                var cts = new CancellationTokenSource(10000); // cancel in 10s\n                var html = await LoadDynamicPage(\"https://www.google.com/#q=where+am+i\", cts.Token);\n                MessageBox.Show(html.Substring(0, 1024) + \"...\" ); // it's too long!\n            }\n            catch (Exception ex)\n            {\n                MessageBox.Show(ex.Message);\n            }\n        }\n\n        // navigate and download \n        async Task&lt;string&gt; LoadDynamicPage(string url, CancellationToken token)\n        {\n            // navigate and await DocumentCompleted\n            var tcs = new TaskCompletionSource&lt;bool&gt;();\n            WebBrowserDocumentCompletedEventHandler handler = (s, arg) =&gt;\n                tcs.TrySetResult(true);\n\n            using (token.Register(() =&gt; tcs.TrySetCanceled(), useSynchronizationContext: true))\n            {\n                this.webBrowser.DocumentCompleted += handler;\n                try \n                {           \n                    this.webBrowser.Navigate(url);\n                    await tcs.Task; // wait for DocumentCompleted\n                }\n                finally\n                {\n                    this.webBrowser.DocumentCompleted -= handler;\n                }\n            }\n\n            // get the root element\n            var documentElement = this.webBrowser.Document.GetElementsByTagName(\"html\")[0];\n\n            // poll the current HTML for changes asynchronosly\n            var html = documentElement.OuterHtml;\n            while (true)\n            {\n                // wait asynchronously, this will throw if cancellation requested\n                await Task.Delay(500, token); \n\n                // continue polling if the WebBrowser is still busy\n                if (this.webBrowser.IsBusy)\n                    continue; \n\n                var htmlNow = documentElement.OuterHtml;\n                if (html == htmlNow)\n                    break; // no changes detected, end the poll loop\n\n                html = htmlNow;\n            }\n\n            // consider the page fully rendered \n            token.ThrowIfCancellationRequested();\n            return html;\n        }\n\n        // enable HTML5 (assuming we're running IE10+)\n        // more info: http://stackoverflow.com/a/18333982/1768303\n        static void SetFeatureBrowserEmulation()\n        {\n            if (LicenseManager.UsageMode != LicenseUsageMode.Runtime)\n                return;\n            var appName = System.IO.Path.GetFileName(System.Diagnostics.Process.GetCurrentProcess().MainModule.FileName);\n            Registry.SetValue(@\"HKEY_CURRENT_USER\\Software\\Microsoft\\Internet Explorer\\Main\\FeatureControl\\FEATURE_BROWSER_EMULATION\",\n                appName, 10000, RegistryValueKind.DWord);\n        }\n    }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>Most of the answers I have read concerning this subject point to either the System.Windows.Forms.WebBrowser class or the COM interface mshtml.HTMLDocument from the Microsoft HTML Object Library assembly.</p>\n\n<p>The WebBrowser class did not lead me anywhere. The following code fails to retrieve the HTML code as rendered by my web browser:</p>\n\n<pre><code>[STAThread]\npublic static void Main()\n{\n    WebBrowser wb = new WebBrowser();\n    wb.Navigate(\"https://www.google.com/#q=where+am+i\");\n\n    wb.DocumentCompleted += delegate(object sender, WebBrowserDocumentCompletedEventArgs e)\n    {\n        mshtml.IHTMLDocument2 doc = (mshtml.IHTMLDocument2)wb.Document.DomDocument;\n        foreach (IHTMLElement element in doc.all)\n        {\n                    System.Diagnostics.Debug.WriteLine(element.outerHTML);\n        }     \n    };\n    Form f = new Form();\n    f.Controls.Add(wb);\n    Application.Run(f);\n} \n</code></pre>\n\n<p>The above is just an example. I'm not really interested in finding a workaround for figuring out the name of the town where I am located. I simply need to understand how to retrieve that kind of dynamically generated data programmatically.</p>\n\n<p>(Call new System.Net.WebClient.DownloadString(\"<a href=\"https://www.google.com/#q=where+am+i\">https://www.google.com/#q=where+am+i</a>\"), save the resulting text somewhere, search for the name of the town where you are currently located, and let me know if you were able to find it.)</p>\n\n<p>But yet when I access \"<a href=\"https://www.google.com/#q=where+am+i\">https://www.google.com/#q=where+am+i</a>\" from my Web Browser (ie or firefox) I see the name of my town written on the web page. In Firefox, if I right click on the name of the town and select \"Inspect Element (Q)\" I clearly see the name of the town written in the HTML code which happens to look quite different from the raw HTML that is returned by WebClient.</p>\n\n<p>After I got tired of playing System.Net.WebBrowser, I decided to give mshtml.HTMLDocument a shot, just to end up with the same useless raw HTML:</p>\n\n<pre><code>public static void Main()\n{\n    mshtml.IHTMLDocument2 doc = (mshtml.IHTMLDocument2)new mshtml.HTMLDocument();\n    doc.write(new System.Net.WebClient().DownloadString(\"https://www.google.com/#q=where+am+i\"));\n\n    foreach (IHTMLElement e in doc.all)\n    {\n            System.Diagnostics.Debug.WriteLine(e.outerHTML);\n    }\n} \n</code></pre>\n\n<p>I suppose there must be an elegant way to obtain this kind of information. Right now all I can think of is add a WebBrowser control to a form, have it navigate to the URL in question, send the keys \"CLRL, A\", and copy whatever happens to be displayed on the page to the clipboard and attempt to parse it. That's horrible solution, though.</p>\n",
            "last_activity_date": 1392625955,
            "question_id": 20930414,
            "score": 7,
            "tags": [
                "c#",
                "javascript",
                "html",
                "webbrowser-control",
                "dynamic-html"
            ],
            "title": "how to dynamically generate HTML code using .NET&#39;s WebBrowser or mshtml.HTMLDocument?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Operators/Bitwise_Operators\" rel=\"nofollow\">Bitwise Operators</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>&lt;&lt;, &gt;&gt;\n</code></pre>\n\n<p><b><a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#Bit_shifts\">Bit shift</a></b> left and right, respectively.  If you imagine the left operand as a binary sequence of bits, you are <i>shifting</i> those to the left or right by the number of bits indicated by the right operand.</p>\n\n<pre><code>&amp;, ^, |\n</code></pre>\n\n<p>These are bitwise <b>and</b>, <b>xor</b>, and <b>or</b>, respectively.  You can think of <code>&amp;</code> and <code>|</code> as the counterparts to <code>&amp;&amp;</code> and <code>||</code>, except that they will treat their operands as bit vectors, and perform the logical operations on each of the bits.  There is no <code>^^</code> operator, but this operation is \"xor\" or \"<a href=\"http://en.wikipedia.org/wiki/Exclusive_or\">exclusive or</a>\".  You can think of \"a xor b\" as \"a or b, but not both\".</p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<ul>\n<li><code>x &lt;&lt;= y  (x = x &lt;&lt; y)</code></li>\n<li><code>x &gt;&gt;= y  (x = x &gt;&gt; y)</code></li>\n<li><code>x &gt;&gt;&gt;= y (x = x &gt;&gt;&gt; y)</code></li>\n<li><code>x &amp;= y   (x = x &amp; y)</code></li>\n<li><code>x ^= y   (x = x ^ y)</code></li>\n<li><code>x |= y   (x = x | y)</code></li>\n</ul>\n\n<p>What do these different operators do?</p>\n",
            "last_activity_date": 1411351847,
            "question_id": 4535328,
            "score": 4,
            "tags": [
                "javascript",
                "operators",
                "bit-manipulation"
            ],
            "title": "What do these JavaScript bitwise operators do?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><strong>Edit: This bug appears to be fixed as of about 2pm PST on June 13, 2013.</strong></p>\n\n<p>This is a temporary issue with the iFrame Player API.  You can read about it here: <a href=\"https://code.google.com/p/gdata-issues/issues/detail?id=4706\" rel=\"nofollow\">https://code.google.com/p/gdata-issues/issues/detail?id=4706</a></p>\n\n<p>Jeff Posnick posted a temporary workaround here:\n<a href=\"http://jsfiddle.net/jeffposnick/yhWsG/3/\" rel=\"nofollow\">http://jsfiddle.net/jeffposnick/yhWsG/3/</a></p>\n\n<p>Basically, you just need to add the event listener within the onReady event (just a temporary fix):</p>\n\n<pre><code>function onReady() {\n    player.addEventListener('onStateChange', function(e) {\n        console.log('State is:', e.data);\n    });\n}\n</code></pre>\n\n<p>Make sure to remove the onStateChange event from the YT.PLAYER constructor (see the jsfiddle).</p>\n\n<p>Also, as someone mentioned on the Google Code Issue Thread, you set an interval and poll the player for its current state instead of listening for the onStateChange event.  Here is an example code snippet for doing that:</p>\n\n<pre><code>setInterval( function() {\n  var state = player.getPlayerState();\n  if ( playerState !== state ) {\n    onPlayerStateChange( {\n      data: state\n    });\n  }\n}, 10);\n</code></pre>\n\n<p>It should also be noted that once the API has been fixed, you should revert any code back to the documented method (even though this will likely still work).</p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I have literally just copy &amp; pasted the code from the YouTube developer page <em><a href=\"https://developers.google.com/youtube/iframe_api_reference\">YouTube Player API Reference for iframe Embeds</a></em> (from underneath the heading \"Getting Started\"). The only difference, is that I added an alert to fire when the state changed, because I thought I was doing something wrong within the onPlayerStateChange function.</p>\n\n<p>You can see the jsFiddle at <a href=\"http://jsfiddle.net/jesMv/\">http://jsfiddle.net/jesMv/</a>.</p>\n\n<p>As stated, it's just an exact copy of the code from the YouTube developer page with the added</p>\n\n<pre><code>alert('State Changed')\n</code></pre>\n\n<p>as the first thing to fire in the onPlayerStateChange function.</p>\n\n<p>Nothing is happening, however... No matter how I look at this and what I change, I simply can't get the onStateChange to do anything.</p>\n\n<p>How can I fix this problem?</p>\n",
            "last_activity_date": 1406759809,
            "question_id": 17078094,
            "score": 9,
            "tags": [
                "javascript",
                "youtube-api"
            ],
            "title": "YouTube iframe player API - OnStateChange not firing"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I don't think there are any implications off the top of my head. Just make sure you don't accidentally do this at any point:</p>\n\n<pre><code>var obj = {\n    key1: \"it\",\n    key2: key1 + \" works!\"\n}\n</code></pre>\n\n<p>As that will cause an error. Other than that, you should be good to go!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There will be a difference in variable scope binding.  If you modify obj later, you will modify the return value of key2:</p>\n\n<pre><code>var newobj = obj;\nobj = { key1: \"new\" };\nalert(newobj.key2());\n</code></pre>\n\n<p>Now it alerts \"new works!\", because even though you are calling <code>key2()</code> on the original object (which is now <code>newobj</code>), the reference to <code>obj.key1</code> now binds to the value of the new <code>obj</code> instance.  Using <code>this</code> prevents this from happening.</p>\n\n<p>Demo: <a href=\"http://jsfiddle.net/m6CU3/\" rel=\"nofollow\">http://jsfiddle.net/m6CU3/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you are not using prototype object, you czn go like that. as all instances of your object will return the value of the obj instance...</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Both can be problematic.</p>\n\n<pre><code>var obj = {\n    key1: \"it\",\n    key2: function(){ return this.key1 + \" works!\" }\n};\nvar func = obj.key2;\nalert(func()); // error\n</code></pre>\n\n<p>When <code>func</code> is not executed in context of <code>obj</code>, <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Operators/this\" rel=\"nofollow\"><code>this</code></a> can reference something else (in here: the global object \"<code>window</code>\").</p>\n\n<pre><code>var obj = {\n    key1: \"it\",\n    key2: function(){ return obj.key1 + \" works!\" }\n};\nvar newref = obj;\nobj = { key1: \"something else\"; };\nalert(newref.key2()); // \"something else works\"\n</code></pre>\n\n<p>In here we access the object from another reference, though the <code>obj</code> in the function may now point to some other object.</p>\n\n<p>So you will have to choose which case is more likely. If you really want to make it safe, you can use a closure where <code>obj</code> is scoped and can't be changed:</p>\n\n<pre><code>var obj = (function(){\n    var local = {\n        key1: \"it\",\n        key2: function(){ return local.key1 + \" works always!\" }\n    };\n    return local;\n})();\n</code></pre>\n\n<p>or you <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow\"><code>bind()</code></a> the function to the object:</p>\n\n<pre><code>var obj = {\n    key1: \"it\",\n    key2: function(){ return this.key1 + \" works always!\" }\n}\nobj.key2 = obj.key2.bind(obj);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>Either or both of those techniques may apply depending on the situation.</p>\n\n<p>The value of <code>this</code> within a function depends on how the function was called. If you call a function as property of an object like this:</p>\n\n<pre><code>obj.key2();\n//or\nobj[\"key2\"]();\n</code></pre>\n\n<p>Then <code>this</code> will be that object. Whether the object was created via an object literal or some other means is not relevant.</p>\n\n<p>But you can use <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/call\" rel=\"nofollow\"><code>.call()</code></a> or <code>.apply()</code> to call a function and explicitly set <code>this</code> to some other object.</p>\n\n<p>Consider also:</p>\n\n<pre><code>var obj = {\n    key1: \"it\",\n    key2: function(){return this.key1 + \" works!\"}\n};\nalert(obj.key2()); // alerts \"it works!\"\n\nvar func = obj.key2;\nalert(func())\u200b;     // alerts \"undefined works!\"\n</code></pre>\n\n<p>I'm setting up <code>func</code> to reference the same function as <code>obj.key2</code>, but calling it as <code>func()</code> does <em>not</em> set <code>this</code> to <code>obj</code>.</p>\n\n<p>For more information have a look at <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Operators/this\" rel=\"nofollow\">what MDN has to say about <code>this</code></a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is it problematic to reference an object literal within a function which is part of that very literal? It seems to work just fine, but I want to make sure there aren't other implications.</p>\n\n<p>Here's an example of what I'm talking about:</p>\n\n<p>instead of:</p>\n\n<pre><code>var obj = {\n    key1: \"it\",\n    key2: function(){return this.key1 + \" works!\"}\n};\nalert(obj.key2());\n</code></pre>\n\n<p>using:</p>\n\n<pre><code>var obj = {\n    key1: \"it\",\n    key2: function(){return obj.key1 + \" works!\"}\n};\nalert(obj.key2());\n</code></pre>\n",
            "last_activity_date": 1354223902,
            "question_id": 10711064,
            "score": 5,
            "tags": [
                "javascript",
                "object"
            ],
            "title": "Javascript: Object Literal reference in own key&#39;s function instead of &#39;this&#39;"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Whenever you see <code>function</code> you can assume the value of <code>this</code> changes, so inside the callback function for the interval <code>this</code> is actually the <code>window</code>, not the object.</p>\n\n<p>The easy solution is to just store <code>this</code> in a variable</p>\n\n<pre><code>function Timer(){\n    var time1 = null;\n    var time2 = null;\n    var timeLoop = null;\n\n    function getTime(){\n        var day = new Date();\n        return day.getTime();\n    }\n\n    this.start = function(){\n\n        var self = this;\n\n        time1 = getTime();\n\n        timeLoop = setInterval(function(){\n            time2 = getTime();\n            console.log(self.duration());\n        },500);\n    }\n\n    this.duration = function(){\n        return (time1 - time2) / 1000;\n    }\n\n}    \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you want to have the <code>this</code> property be consistent, you should bind the functions that are being called.</p>\n\n<p>For example,</p>\n\n<p><code>setInterval(function() { /* code here */ }.bind(this), 500)</code></p>\n\n<p>That way, the <code>this</code> of the inner function will be the same as that of the outer function.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p><code>this</code> is not a local variable, so it doesn't get saved in closures. You need to assign a local variable:</p>\n\n<pre><code>this.start = function(){\n    var self = this;\n    time1 = getTime();\n\n    timeLoop = setInterval(function(){\n        time2 = getTime();\n        console.log(self.duration());\n    },500);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try:</p>\n\n<pre><code>function Timer(){\n    var time1 = null;\n    var time2 = null;\n    var timeLoop = null;\n    var _this = this;\n\n    function getTime(){\n        var day = new Date();\n        return day.getTime();\n    }\n\n    this.start = function(){\n        time1 = getTime();\n\n        timeLoop = setInterval(function(){\n            time2 = getTime();\n            console.log(_this.duration());\n        },500);\n    }\n\n    this.duration = function(){\n        return (time1 - time2) / 1000;\n    }\n\n}       \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>First things first. Javascript doesn't support class based OOP. It's OOP along with it's inheritance is prototypal. </p>\n\n<p>Following is an example of how to implement prototypal OOP features with your timer example:</p>\n\n<pre><code>function Timer(){\n  var time1 = null;\n  var time2 = null;\n  var timeLoop = null;\n}\n\nTimer.prototype.getTime = function(){\n    var day = new Date();\n    return day.getTime();\n}\n\nTimer.prototype.start = function(){\n    time1 = this.getTime();\n    timeLoop = this.setInterval(function(){\n        time2 = this.getTime();\n        console.log(this.duration());\n    }.bind(this),500);\n}\n\nTimer.prototype.duration = function(){\n    return (time1 - time2) / 1000;\n}\n</code></pre>\n\n<p>Look at the Custom Objects section of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/A_re-introduction_to_JavaScript\" rel=\"nofollow\">MDN's Javscript Reintroduction</a></p>\n\n<p>There's nothing wrong with the way it's shown in your tutorial. It's just that this is a cleaner way and the <code>bind</code> call is only needed for the <code>console.log</code> statement which would otherwise associate <code>this</code> as the <code>window</code>. If you get rid of it you can get rid of the <code>bind</code> too.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I followed a <a href=\"http://www.codeproject.com/Articles/29330/JavaScript-Stopwatch\" rel=\"nofollow\">tutorial</a> for creating a JavaScript stopwatch and am trying to expand it to work with multiple stopwatches (multiple instances of a class).  The problem I have is when I am trying to display the current value while the clock is ticking I need to hard code the class instance becasue using \"this\" doesn't work (on the line where I am using console.log).  I have cut the code down to the minimum to try to understand this aspect, and have pasted what I have below:</p>\n\n<pre><code>function Timer(){\n    var time1 = null;\n    var time2 = null;\n    var timeLoop = null;\n\n    function getTime(){\n        var day = new Date();\n        return day.getTime();\n    }\n\n    this.start = function(){\n        time1 = getTime();\n\n        timeLoop = setInterval(function(){\n            time2 = getTime();\n            console.log(_Timer.duration());\n            //console.log(this.duration());\n        },500);\n    }\n\n    this.duration = function(){\n        return (time1 - time2) / 1000;\n    }\n\n}       \n</code></pre>\n\n<p>I think the link below describes my problem but I don't understand it enough to apply it here.  Is the issue due to the owner being this.start rather than just this and how can I ammend the code to make it work with any instance of Timer?</p>\n\n<p><a href=\"http://www.quirksmode.org/js/this.html\" rel=\"nofollow\">http://www.quirksmode.org/js/this.html</a></p>\n\n<p>I have included both the hard coded value line and the \"this\" line that doesn't work.</p>\n\n<p>Thanks,</p>\n\n<p>Geraint</p>\n",
            "last_activity_date": 1404330951,
            "question_id": 24539521,
            "score": 0,
            "tags": [
                "javascript",
                "class",
                "methods",
                "this",
                "console.log"
            ],
            "title": "JavaScript - Owner of &quot;this&quot;"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>After inspecting closely, looks like both of you are using closure.</p>\n\n<p>In your friends case, <code>i</code> is accessed inside anonymous function 1 and <code>i2</code> is accessed in anonymous function 2 where the <code>console.log</code> is present.</p>\n\n<p>In your case you are accessing <code>i2</code> inside anonymous function where <code>console.log</code> is present. Add a <code>debugger;</code> statement before <code>console.log</code> and in chrome developer tools under \"Scope variables\" it will tell under what scope the variable is.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>According to the <code>closure</code> definition:</p>\n\n<blockquote>\n  <p>A \"closure\" is an expression (typically a function) that can have <strong>free variables</strong> together with an <strong>environment</strong> that binds those variables (that \"closes\" the expression).</p>\n</blockquote>\n\n<p>You are using <code>closure</code> if you define a function which use a variable which is defined outside of the function. (we call the variable a <strong>free variable</strong>).<br>\nThey all use <code>closure</code>(even in the 1st example).</p>\n",
                    "is_accepted": false,
                    "score": 68
                },
                {
                    "body": "<p>You and your friend both use closures:</p>\n\n<blockquote>\n  <p>A closure is a special kind of object that combines two things: a function, and the environment in which that function was created. The environment consists of any local variables that were in-scope at the time that the closure was created.</p>\n  \n  <p>MDN: <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Closures\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Closures</a></p>\n</blockquote>\n\n<p>In your friend's code function <code>function(){ console.log(i2); }</code> defined inside closure of anonymous function <code>function(){ var i2 = i; ...</code> and can read/write local variable <em><code>i2</code></em>.</p>\n\n<p>In your code function <code>function(){ console.log(i2); }</code> defined inside closure of function <code>function(i2){ return ...</code> and can read/write local valuable <em><code>i2</code></em> (declared in this case as a parameter).</p>\n\n<p>In both cases function <code>function(){ console.log(i2); }</code> then passed into <code>setTimeout</code>.</p>\n\n<p>Another equivalent (but with less memory utilization) is:</p>\n\n<pre><code>function fGenerator(i2){\n    return function(){\n        console.log(i2);\n    }\n}\nfor(var i = 0; i &lt; 10; i++) {\n    setTimeout(fGenerator(i), 1000);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>You are both using closures.</p>\n\n<p>I 'm going with the <a href=\"http://en.wikipedia.org/wiki/Closure_%28computer_science%29\">Wikipedia definition</a> here:</p>\n\n<blockquote>\n  <p>In computer science, a closure (also lexical closure or function\n  closure) is a function or reference to a function together with a\n  referencing environment\u2014a table storing a reference to each of the\n  non-local variables (also called free variables) of that function.\n  A closure\u2014unlike a plain function pointer\u2014allows a function to access\n  those non-local variables even when invoked outside of its immediate\n  lexical scope.</p>\n</blockquote>\n\n<p>Your friend's attempt clearly uses the variable <code>i</code>, which is non-local, by taking its value and making a copy to store into the local <code>i2</code>.</p>\n\n<p>Your own attempt passes <code>i</code> (which at the call site is in scope) to an anonymous function as an argument. This is not a closure so far, but then that function returns another function that references the same <code>i2</code>. Since inside the inner anonymous function <code>i2</code> is not a local, this creates a closure.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>Let's look at both ways:</p>\n\n<pre><code>(function(){\n    var i2 = i;\n    setTimeout(function(){\n        console.log(i2);\n    }, 1000)\n})();\n</code></pre>\n\n<p>Declares and immediately executes an anonymous function that runs <code>setTimeout()</code> within its own context. The current value of <code>i</code> is preserved by making a copy into <code>i2</code> first; it works because of the immediate execution.</p>\n\n<pre><code>setTimeout((function(i2){\n    return function() {\n        console.log(i2);\n    }\n})(i), 1000);\n</code></pre>\n\n<p>Declares an execution context for the inner function whereby the current value of <code>i</code> is preserved into <code>i2</code>; this approach also uses immediate execution to preserve the value.</p>\n\n<p><strong>Important</strong></p>\n\n<p>It should be mentioned that the run semantics are NOT the same between both approaches; your inner function gets passed to <code>setTimeout()</code> whereas his inner function calls <code>setTimeout()</code> itself.</p>\n\n<p>Wrapping both codes inside another <code>setTimeout()</code> doesn't prove that only the second approach uses closures, there's just not the same thing to begin with.</p>\n\n<p><strong>Conclusion</strong></p>\n\n<p>Both methods use closures, so it comes down to personal taste; the second approach is easier to \"move\" around or generalize.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>In a nutshell <strong>Javascript Closures</strong> allow a function to <strong>access a variable</strong> that is <strong>declared in a lexical-parent function</strong>.</p>\n\n<p>Let's see a more detailed explanation.\nTo understand closures it is important to understand how JavaScript scopes variables.</p>\n\n<p><strong>Scopes</strong></p>\n\n<p>In JavaScript scopes are defined with functions.\nEvery function defines a new scope.</p>\n\n<p>Consider the following example;</p>\n\n<pre><code>function f()\n{//begin of scope f\n  var foo='hello'; //foo is declared in scope f\n  for(var i=0;i&lt;2;i++){//i is declared in scope f\n     //the for loop is not a function, therefore we are still in scope f\n     var bar = 'Am I accessible?';//bar is declared in scope f\n     console.log(foo);\n  }\n  console.log(i);\n  console.log(bar);\n}//end of scope f\n</code></pre>\n\n<p>calling f prints </p>\n\n<pre><code>hello\nhello\n2\nAm I Accessible?\n</code></pre>\n\n<p>Let's now consider the case we have a function <code>g</code> defined within another function <code>f</code>.</p>\n\n<pre><code>function f()\n{//begin of scope f\n  function g()\n  {//being of scope g\n    /*...*/\n  }//end of scope g\n  /*...*/\n}//end of scope f\n</code></pre>\n\n<p>We will call <code>f</code> the <strong>lexical parent</strong> of <code>g</code>.\nAs explained before we now have 2 scopes; the scope <code>f</code> and the scope <code>g</code>.</p>\n\n<p>But one scope is \"within\" the other scope, so is the scope of the child function part of the scope of the parent function? What happens with the variables declared in the scope of the parent function; will I be able to access them from the scope of the child function?\nThat's exactly where closures step in.</p>\n\n<p><strong>Closures</strong></p>\n\n<p>In JavaScript the function <code>g</code> can not only access any variables declared in scope <code>g</code> but also access any variables declared in the scope of the parent function <code>f</code>.</p>\n\n<p>Consider following;</p>\n\n<pre><code>function f()//lexical parent function\n{//begin of scope f\n  var foo='hello'; //foo declared in scope f\n  function g()\n  {//being of scope g\n    var bar='bla'; //bar declared in scope g\n    console.log(foo);\n  }//end of scope g\n  g();\n  console.log(bar);\n}//end of scope f\n</code></pre>\n\n<p>calling f prints</p>\n\n<pre><code>hello\nundefined\n</code></pre>\n\n<p>Let's look at the line <code>console.log(foo);</code>. At this point we are in scope <code>g</code> and we try to access the variable <code>foo</code> that is declared in scope <code>f</code>. But as stated before we can access any variable declared in a lexical parent function which is the case here; <code>g</code> is the lexical parent of <code>f</code>. Therefore <code>hello</code> is printed.<br>\nLet's now look at the line <code>console.log(bar);</code>. At this point we are in scope <code>f</code> and we try to access the variable <code>bar</code> that is declared in scope <code>g</code>. <code>bar</code> is not declared in the current scope and the function <code>g</code> is not the parent of <code>f</code>, therefore <code>bar</code> is undefined<br></p>\n\n<p>Actually we can also access the variables declared in the scope of a lexical \"grand parent\" function. Therefore if there would be a function <code>h</code> defined within the function <code>g</code></p>\n\n<pre><code>function f()\n{//begin of scope f\n  function g()\n  {//being of scope g\n    function h()\n    {//being of scope h\n      /*...*/\n    }//end of scope h\n    /*...*/\n  }//end of scope g\n  /*...*/\n}//end of scope f\n</code></pre>\n\n<p>then <code>h</code> would be able to access all the variables declared in the scope of function <code>h</code>, <code>g</code>, and <code>f</code>. This is done with <strong>closures</strong>. In JavaScript <strong>closures</strong> allows us to access any variable declared in the lexical parent function, in the lexical grand parent function, in the lexical grand-grand parent function, etc. \nThis can be seen as a <strong>scope chain</strong>; <code> scope of current function -> scope of lexical parent function -> scope of lexical grand parent function -> ... </code> until the last parent function that has no lexical parent.</p>\n\n<p><strong>The window object</strong></p>\n\n<p>Actually the chain doesn't stop at the last parent function. There is one more special scope; the <strong>global scope</strong>. Every variable not declared in a function is considered to be declared in the global scope. The global scope has two specialities;</p>\n\n<ul>\n<li>every variable declared in the global scope is accessible <strong>everywhere</strong></li>\n<li>the variables declared in the global scope correspond to the properties of the <code>window</code> object.</li>\n</ul>\n\n<p>Therefore there are exactly two ways of declaring a variable <code>foo</code> in the global scope; either by not declaring it in a function or by setting the property <code>foo</code> of the window object.</p>\n\n<p><strong>Both attempts uses closures</strong></p>\n\n<p>Now that you have read a more detailed explanation it may now be apparent that both solutions uses closures.\nBut to be sure, let's make a proof.</p>\n\n<p>Let's create a new Programming Language; JavaScript-No-Closure.\nAs the name suggests, JavaScript-No-Closure is identical to JavaScript except it doesn't support Closures.</p>\n\n<p>In other words;</p>\n\n<pre><code>var foo = 'hello';\nfunction f(){console.log(foo)};\nf();\n//JavaScript-No-Closure prints undefined\n//JavaSript prints hello\n</code></pre>\n\n<p>Alright, let's see what happens with the first solution with JavaScript-No-Closure;</p>\n\n<pre><code>for(var i = 0; i &lt; 10; i++) {\n  (function(){\n    var i2 = i;\n    setTimeout(function(){\n        console.log(i2); //i2 is undefined in JavaScript-No-Closure \n    }, 1000)\n  })();\n}\n</code></pre>\n\n<p>therefore this will print <code>undefined</code> 10 times in JavaScript-No-Closure.</p>\n\n<p>Hence the first solution uses closure.</p>\n\n<p>Let's look at the second solution;</p>\n\n<pre><code>for(var i = 0; i &lt; 10; i++) {\n  setTimeout((function(i2){\n    return function() {\n        console.log(i2); //i2 is undefined in JavaScript-No-Closure\n    }\n  })(i), 1000);\n}\n</code></pre>\n\n<p>therefore this will print <code>undefined</code> 10 times in JavaScript-No-Closure.</p>\n\n<p>Both solutions uses closures.</p>\n\n<p>Edit: It is assumed that these 3 code snippets are not defined in the global scope. Otherwise the variables <code>foo</code> and <code>i</code> would be bind to the <code>window</code> object and therefore accessible through the <code>window</code> object in both JavaScript and JavaScript-No-Closure.</p>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<p><strong>Closure</strong></p>\n\n<p>A closure is not an function, and not an expression. It must be seen as a kind of 'snapshot' from the used variables outside the functionscope and used inside the function. Grammatically, one should say: 'take the closure of the variables'.</p>\n\n<p>Again, in other words: A closure is a copy of the relevant context of variables on which the function depends on.</p>\n\n<p>Once more (na\u00eff): A closure is having access to variables who are not being passed as parameter.</p>\n\n<p>Bear in mind that these functional concepts strongly depends upon the programming language / environment you use. In JavaScript, the closure depends on lexical scoping (which is true in most c-languages). </p>\n\n<p>So, returning a function is mostly returning a anonymous / unnamed function. When the function access variables, not passed as parameter, and within its (lexical) scope, a closure has been taken.</p>\n\n<p>So, concerning your examples:</p>\n\n<pre><code>// 1\nfor(var i = 0; i &lt; 10; i++) {\n    setTimeout(function() {\n        console.log(i); // closure, only when loop finishes within 1000 ms,\n    }, 1000);           // i = 10 for all functions\n}\n// 2\nfor(var i = 0; i &lt; 10; i++) {\n    (function(){\n        var i2 = i; // closure of i (lexical scope: for-loop)\n        setTimeout(function(){\n            console.log(i2); // closure of i2 (lexical scope:outer function)\n        }, 1000)\n    })();\n}\n// 3\nfor(var i = 0; i &lt; 10; i++) {\n    setTimeout((function(i2){\n        return function() {\n            console.log(i2); // closure of i2 (outer scope)\n\n        }\n    })(i), 1000); // param access i (no closure)\n}\n</code></pre>\n\n<p>All are using closures. Don't confuse the point of execution with closures. If the 'snapshot' of the closures is taken at the wrong moment, the values may be unexpected but certainly a closure is taken!</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p><strong>Editor's Note:</strong> All functions in JavaScript are closures as explained in this <a href=\"http://javascriptweblog.wordpress.com/2010/10/25/understanding-javascript-closures/\">post</a>. However we are only interested in identifying a subset of these functions which are <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Closures\">interesting</a> from a theoretical point of view. Henceforth any reference to the word <em>closure</em> will refer to this subset of functions unless otherwise stated.</p>\n\n<p>A simple explanation for closures:</p>\n\n<ol>\n<li>Take a function. Let's call it F.</li>\n<li>List all the variables of F.</li>\n<li>The variables may be of two types:\n<ol>\n<li>Local variables (bound variables)</li>\n<li>Non-local variables (free variables)</li>\n</ol></li>\n<li>If F has no free variables then it cannot be a closure.</li>\n<li>If F has any free variables (which are defined in <strong>a</strong> parent scope of F) then:\n<ol>\n<li>There must be only one parent scope of F to which <strong>a</strong> free variable is bound.</li>\n<li>If F is <strong>referenced</strong> from outside <strong>that</strong> parent scope, then it becomes a closure for <strong>that</strong> free variable.</li>\n<li><strong>That</strong> free variable is called an upvalue of the closure F.</li>\n</ol></li>\n</ol>\n\n<p>Now let's use this to figure out who uses closures and who doesn't (for the sake of explanation I have named the functions):</p>\n\n<p><strong>Case 1: Your Friend's Program</strong></p>\n\n<pre><code>for (var i = 0; i &lt; 10; i++) {\n    (function f() {\n        var i2 = i;\n        setTimeout(function g() {\n            console.log(i2);\n        }, 1000);\n    })();\n}\n</code></pre>\n\n<p>In the above program there are two functions: <code>f</code> and <code>g</code>. Let's see if they are closures:</p>\n\n<p>For <code>f</code>:</p>\n\n<ol>\n<li>List the variables:\n<ol>\n<li><code>i2</code> is a <strong>local</strong> variable.</li>\n<li><code>i</code> is a <strong>free</strong> variable.</li>\n<li><code>setTimeout</code> is a <strong>free</strong> variable.</li>\n<li><code>g</code> is a <strong>local</strong> variable.</li>\n<li><code>console</code> is a <strong>free</strong> variable.</li>\n</ol></li>\n<li>Find the parent scope to which each free variable is bound:\n<ol>\n<li><code>i</code> is <strong>bound</strong> to the global scope.</li>\n<li><code>setTimeout</code> is <strong>bound</strong> to the global scope.</li>\n<li><code>console</code> is <strong>bound</strong> to the global scope.</li>\n</ol></li>\n<li>In which scope is the function <strong>referenced</strong>? The <strong>global scope</strong>.\n<ol>\n<li>Hence <code>i</code> is not <strong>closed over</strong> by <code>f</code>.</li>\n<li>Hence <code>setTimeout</code> is not <strong>closed over</strong> by <code>f</code>.</li>\n<li>Hence <code>console</code> is not <strong>closed over</strong> by <code>f</code>.</li>\n</ol></li>\n</ol>\n\n<p>Thus the function <code>f</code> is not a closure.</p>\n\n<p>For <code>g</code>:</p>\n\n<ol>\n<li>List the variables:\n<ol>\n<li><code>console</code> is a <strong>free</strong> variable.</li>\n<li><code>i2</code> is a <strong>free</strong> variable.</li>\n</ol></li>\n<li>Find the parent scope to which each free variable is bound:\n<ol>\n<li><code>console</code> is <strong>bound</strong> to the global scope.</li>\n<li><code>i2</code> is <strong>bound</strong> to the scope of <code>f</code>.</li>\n</ol></li>\n<li>In which scope is the function <strong>referenced</strong>? The <strong>scope of <code>setTimeout</code></strong>.\n<ol>\n<li>Hence <code>console</code> is not <strong>closed over</strong> by <code>g</code>.</li>\n<li>Hence <code>i2</code> is <strong>closed over</strong> by <code>g</code>.</li>\n</ol></li>\n</ol>\n\n<p>Thus the function <code>g</code> is a closure for the free variable <code>i2</code> (which is an upvalue for <code>g</code>) <strong>when</strong> it's <strong>referenced</strong> from within <code>setTimeout</code>.</p>\n\n<p><em>Bad for you:</em> Your friend is using a closure. The inner function is a closure.</p>\n\n<p><strong>Case 2: Your Program</strong></p>\n\n<pre><code>for (var i = 0; i &lt; 10; i++) {\n    setTimeout((function f(i2) {\n        return function g() {\n            console.log(i2);\n        };\n    })(i), 1000);\n}\n</code></pre>\n\n<p>In the above program there are two functions: <code>f</code> and <code>g</code>. Let's see if they are closures:</p>\n\n<p>For <code>f</code>:</p>\n\n<ol>\n<li>List the variables:\n<ol>\n<li><code>i2</code> is a <strong>local</strong> variable.</li>\n<li><code>g</code> is a <strong>local</strong> variable.</li>\n<li><code>console</code> is a <strong>free</strong> variable.</li>\n</ol></li>\n<li>Find the parent scope to which each free variable is bound:\n<ol>\n<li><code>console</code> is <strong>bound</strong> to the global scope.</li>\n</ol></li>\n<li>In which scope is the function <strong>referenced</strong>? The <strong>global scope</strong>.\n<ol>\n<li>Hence <code>console</code> is not <strong>closed over</strong> by <code>f</code>.</li>\n</ol></li>\n</ol>\n\n<p>Thus the function <code>f</code> is not a closure.</p>\n\n<p>For <code>g</code>:</p>\n\n<ol>\n<li>List the variables:\n<ol>\n<li><code>console</code> is a <strong>free</strong> variable.</li>\n<li><code>i2</code> is a <strong>free</strong> variable.</li>\n</ol></li>\n<li>Find the parent scope to which each free variable is bound:\n<ol>\n<li><code>console</code> is <strong>bound</strong> to the global scope.</li>\n<li><code>i2</code> is <strong>bound</strong> to the scope of <code>f</code>.</li>\n</ol></li>\n<li>In which scope is the function <strong>referenced</strong>? The <strong>scope of <code>setTimeout</code></strong>.\n<ol>\n<li>Hence <code>console</code> is not <strong>closed over</strong> by <code>g</code>.</li>\n<li>Hence <code>i2</code> is <strong>closed over</strong> by <code>g</code>.</li>\n</ol></li>\n</ol>\n\n<p>Thus the function <code>g</code> is a closure for the free variable <code>i2</code> (which is an upvalue for <code>g</code>) <strong>when</strong> it's <strong>referenced</strong> from within <code>setTimeout</code>.</p>\n\n<p><em>Good for you:</em> You are using a closure. The inner function is a closure.</p>\n\n<p>So both you and your friend are using closures. Stop arguing. I hope I cleared the concept of closures and how to identify them for the both of you.</p>\n\n<p><strong>Edit:</strong> A simple explanation as to why are all functions closures (credits @Peter):</p>\n\n<p>First let's consider the following program (it's the <a href=\"http://jsfiddle.net/KyQKw/\">control</a>):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>lexicalScope();\r\n\r\nfunction lexicalScope() {\r\n    var message = \"This is the control. You should be able to see this message being alerted.\";\r\n\r\n    regularFunction();\r\n\r\n    function regularFunction() {\r\n        alert(eval(\"message\"));\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol>\n<li>We know that both <code>lexicalScope</code> and <code>regularFunction</code> aren't closures <strong>from the above definition</strong>.</li>\n<li>When we execute the program <strong>we expect</strong> <code>message</code> to be alerted <strong>because</strong> <code>regularFunction</code> is not a closure (i.e. it has access to <strong>all</strong> the variables in it's parent scope - including <code>message</code>).</li>\n<li>When we execute the program <strong>we observe</strong> that <code>message</code> is indeed alerted.</li>\n</ol>\n\n<p>Next let's consider the following program (it's the <a href=\"http://jsfiddle.net/KyQKw/1/\">alternative</a>):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var closureFunction = lexicalScope();\r\n\r\nclosureFunction();\r\n\r\nfunction lexicalScope() {\r\n    var message = \"This is the alternative. If you see this message being alerted then in means that every function in JavaScript is a closure.\";\r\n\r\n    return function closureFunction() {\r\n        alert(eval(\"message\"));\r\n    };\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol>\n<li>We know that only <code>closureFunction</code> is a closure <strong>from the above definition</strong>.</li>\n<li>When we execute the program <strong>we expect</strong> <code>message</code> not to be alerted <strong>because</strong> <code>closureFunction</code> is a closure (i.e. it only has access to all it's <strong>non-local variables</strong> at <strong>the time the function is created</strong> (<a href=\"http://stackoverflow.com/a/12930799/783743\" title=\"scope - JavaScript closures vs. anonymous functions - Stack Overflow\">see this answer</a>) - this does not include <code>message</code>).</li>\n<li>When we execute the program <strong>we observe</strong> that <code>message</code> is actually being alerted.</li>\n</ol>\n\n<p>What do we infer from this?</p>\n\n<ol>\n<li>JavaScript interpreters do not treat closures differently from the way they treat other functions.</li>\n<li>Every function carries it's <a href=\"http://dmitrysoshnikov.com/ecmascript/chapter-4-scope-chain/\">scope chain</a> along with it. Closures don't have a <strong>separate</strong> referencing environment.</li>\n<li>A closure is just like every other function. We just call them closures when they are <strong>referenced</strong> in a scope <strong>outside</strong> the scope to which they belong <strong>because</strong> this is an interesting case.</li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 428
                },
                {
                    "body": "<p>I've never been happy with the way anybody explains this.</p>\n\n<p>The key to understanding closures is to understand what JS would be like without closures.</p>\n\n<p><strong>Without closures, this would alert 'undefined'</strong></p>\n\n<pre><code>function outerFunc(){\n    var outerVar = 'an outerFunc var';\n    return function(){\n        alert(outerVar);\n    }\n}\n\nouterFunc()(); //returns inner function and fires it\n</code></pre>\n\n<p>Once outerFunc has returned in an imaginary closure-disabled version of JavaScript, the reference to outerVar would be garbage collected and gone leaving nothing there for the inner func to reference.</p>\n\n<p>Closures are essentially the special rules that kick in and make it possible for those vars to exist when an inner function references an outer function's variables. With closures the vars referenced are maintained even after the outer function is done or 'closed' if that helps you remember the point.</p>\n\n<p>Even with closures, the life cycle of local vars in a function with no inner funcs that reference its locals works the same as it would in a closure-less version. When the function is finished, the locals get garbage collected.</p>\n\n<p>Once you have a reference in an inner func to an outer var, however it's like a doorjamb gets put in the way of garbage collection for those referenced vars.</p>\n\n<p>A perhaps more accurate way to look at closures, is that the inner function basically uses the inner scope as its own scope foudnation.</p>\n\n<p><strong>But the context referenced is in fact, persistent, not like a snapshot.</strong> Repeatedly firing a returned inner function that keeps incrementing and logging an outer function's local var will keep alerting higher values.</p>\n\n<pre><code>function outerFunc(){\n    var incrementMe = 0;\n    return function(){ incrementMe++; console.log(incrementMe); }\n}\nvar inc = outerFunc();\ninc(); //logs 1\ninc(); //logs 2\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>I wrote this a while ago to remind myself of what a closure is and how it works in JS. </p>\n\n<p>A closure is a function that, when called, uses the scope in which it was declared, not the scope in which it was called. In javaScript, all functions behave like this. Variable values in a scope persist as long as there is a function that still points to them. The exception  to the rule is 'this', which refers to the object that the function is inside when it is called.</p>\n\n<pre><code>var z = 1;\nfunction x(){\n    var z = 2; \n    y(function(){\n      alert(z);\n    });\n}\nfunction y(f){\n    var z = 3;\n    f();\n}\nx(); //alerts '2' \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I wrote an automated tool to color scopes and variables by their scope.  Its because questions like these appear very complicated until you see it visually with bright colors at which point it becomes painfully simple to understand:</p>\n\n<p><a href=\"http://www.reddit.com/r/javascript/comments/1a0yhj/visualizing_scope_and_inheritance_in_javascript/\" rel=\"nofollow\">http://www.reddit.com/r/javascript/comments/1a0yhj/visualizing_scope_and_inheritance_in_javascript/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>A friend of mine and me are currently discussing what is a closure in JS and what isn't. We just want to make sure we really understand it correctly.</p>\n\n<p>Let's take this example. We have a counting loop and want to print the counter variable on the console delayed. Therefore we use setTimeout and closures to capture the value of the counter variable to make sure that it will not print N times the value N.</p>\n\n<p>The wrong solution without closures or anything near to closures would be:</p>\n\n<pre><code>for(var i = 0; i &lt; 10; i++) {\n    setTimeout(function() {\n        console.log(i);\n    }, 1000);\n}\n</code></pre>\n\n<p>which will of course print 10 times the value of <code>i</code> after the loop, namely 10.</p>\n\n<p><strong>So his attempt was:</strong></p>\n\n<pre><code>for(var i = 0; i &lt; 10; i++) {\n    (function(){\n        var i2 = i;\n        setTimeout(function(){\n            console.log(i2);\n        }, 1000)\n    })();\n}\n</code></pre>\n\n<p>printing 0 to 9 as expected.</p>\n\n<p>I told him that he isn't using a <em>closure</em> to capture <code>i</code>, but he insists that he does. I proved that he doesn't use closures by putting the for loop body within another setTimeout (passing his anonymous function to setTimeout), printing 10 times 10 again. The same applies if I store his function in a var and execute it <em>after</em> the loop, also printing 10 times 10. So my argument is that <strong>he doesn't really <em>capture</em> the value of <code>i</code></strong>, making his version <em>not</em> a closure.</p>\n\n<p><strong>My attempt was:</strong></p>\n\n<pre><code>for(var i = 0; i &lt; 10; i++) {\n    setTimeout((function(i2){\n        return function() {\n            console.log(i2);\n        }\n    })(i), 1000);\n}\n</code></pre>\n\n<p>So I capture <code>i</code> (named <code>i2</code> within the closure), but now I <em>return</em> another function and pass this around. <strong>In my case, the function passed to setTimeout really captures <code>i</code>.</strong></p>\n\n<p><strong>Now who is using closures and who isn't?</strong></p>\n\n<p>Note that both solutions print 0 to 9 on the console delayed, so they solve the original problem, but we want to understand which of those two solutions <strong>uses closures</strong> to accomplish this.</p>\n",
            "last_activity_date": 1411268782,
            "question_id": 12930272,
            "score": 324,
            "tags": [
                "javascript",
                "scope",
                "closures"
            ],
            "title": "JavaScript closures vs. anonymous functions"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p>You can just check if the <em>variable</em> has a <code>truthy</code> value or not. That means</p>\n\n<pre><code>if( value ) {\n}\n</code></pre>\n\n<p>will evaluate to <code>true</code> if <code>value</code> is not:</p>\n\n<ul>\n<li>null</li>\n<li>undefined</li>\n<li>NaN</li>\n<li>empty string (\"\")</li>\n<li>0</li>\n<li>false</li>\n</ul>\n\n<p>The above list represents all possible <code>falsy</code> values in ECMA-/Javascript. Find it in the <a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf\">specification</a> at the <code>ToBoolean</code> section.</p>\n\n<p>Furthermore, if you don't <strong>know</strong> whether a variable exists (that means, if it was <em>declared</em>) you should check with the <code>typeof</code> operator. For instance</p>\n\n<pre><code>if( typeof foo !== 'undefined' ) {\n    // foo could get resolved and it's defined\n}\n</code></pre>\n\n<p>If you can be sure that a <em>variable</em> is declared at least, you should directly check if it has a <code>truthy</code> value like shown above.</p>\n\n<p>Further read: <a href=\"http://typeofnan.blogspot.com/2011/01/typeof-is-fast.html\">http://typeofnan.blogspot.com/2011/01/typeof-is-fast.html</a></p>\n",
                    "is_accepted": true,
                    "score": 786
                },
                {
                    "body": "<pre><code>function isEmpty(value){\n  return (value == null || value.length === 0);\n}\n</code></pre>\n\n<p>This will return true for</p>\n\n<pre><code>undefined  // Because undefined == null\n\nnull\n\n[]\n\n\"\"\n</code></pre>\n\n<p>and zero argument functions since a function's <code>length</code> is the number of declared parameters it takes.</p>\n\n<p>To disallow the latter category, you might want to just check for blank strings</p>\n\n<pre><code>function isEmpty(value){\n  return (value == null || value === '');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<pre><code>// for null and undefined\nreturn value === undefined || value === null;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 33
                },
                {
                    "body": "<p>You are a bit overdoing it. To check if a variable is not given a value, you would only need to check against undefined and null.</p>\n\n<pre><code>function isEmpty(value){\n    return (typeof value === \"undefined\" || value === null);\n}\n</code></pre>\n\n<p>This is assuming <code>0</code>, <code>\"\"</code>, and objects(even empty object and array) are valid \"values\".</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If the variable hasn't been declared, you wont be able to test for undefined using a function because you will get an error. </p>\n\n<pre><code>if (foo) {}\nfunction (bar) {}(foo)\n</code></pre>\n\n<p>Both will generate an error if foo has not been declared.</p>\n\n<p>If you want to test if a variable has been declared you can use</p>\n\n<pre><code>typeof foo != \"undefined\"\n</code></pre>\n\n<p>if you want to test if foo has been declared and it has a value you can use</p>\n\n<pre><code>if (typeof foo != \"undefined\" &amp;&amp; foo) {\n    //code here\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>you can use:</p>\n\n<p>If clause to validate if the string or value is not empty.\nlike this:</p>\n\n<pre><code>if (someVar.value) \n{\n  //its not emppty\n}\nelse\n{\n  //Its empty\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I know this is an old question, but this is the safest check and I haven't seen it posted here exactly like that:</p>\n\n<pre><code>if (typeof value != 'undefined' &amp;&amp; value) {\n    //deal with value'\n};\n</code></pre>\n\n<p>It will cover cases where <strong>value</strong> was never defined, and also any of these:</p>\n\n<ul>\n<li>null</li>\n<li>undefined (value of undefined is not the same as a parameter that was never defined)</li>\n<li>0</li>\n<li>\"\" (empty string)</li>\n<li>false</li>\n<li>NaN</li>\n</ul>\n\n<p>P.S. no need for strict equality in <strong>typeof value != 'undefined'</strong></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here's mine - returns true if value is null, undefined, etc or blank (ie contains only blank spaces):</p>\n\n<pre><code>function stringIsEmpty(value) {\n\n    return value ? value.trim().length == 0 : true;\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The first answer with best rating is wrong. If value is undefined it will throw an exception in modern browsers. You have to use: </p>\n\n<pre><code>if (typeof(value) !== \"undefined\" &amp;&amp; value)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>if (typeof value  !== \"undefined\" &amp;&amp; value)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>This is a very simple one.</p>\n\n<pre><code>if(data) {\n  //Comes inside only if the data is not empty and not null \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><strong>!(not)</strong> check for empty strings (\"\"), null, undefined, false and the numbers 0 and NaN. Say, if a string is empty <code>var name = \"\"</code> then it <code>console.log(!name)</code> returns <code>true</code>.</p>\n\n<pre><code>function isEmpty(val){\n  return !val;\n}\n</code></pre>\n\n<p>this function will return true if <strong>val</strong> is <strong>empty, null, undefined, false, the numbers 0 or NaN</strong>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You may find the following function useful: </p>\n\n<pre><code>function typeOf (obj) {\n  return {}.toString.call(obj).split(' ')[1].slice(0, -1).toLowerCase();\n}\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>typeOf(); //undefined\ntypeOf(null); //null\ntypeOf(NaN); //number\ntypeOf(5); //number\ntypeOf({}); //object\ntypeOf([]); //array\ntypeOf(''); //string\ntypeOf(function () {}); //function\ntypeOf(/a/) //regexp\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a universal JavaScript function that checks that a variable has a value and ensures that it's not <code>undefined</code> or <code>null</code>? I've got this code, but I'm not sure if it covers all cases:</p>\n\n<pre><code>function isEmpty(val){\n    return (val === undefined || val == null || val.length &lt;= 0) ? true : false;\n}\n</code></pre>\n",
            "last_activity_date": 1424106246,
            "question_id": 5515310,
            "score": 348,
            "tags": [
                "javascript",
                "null",
                "undefined"
            ],
            "title": "Is there a standard function to check for null, undefined, or blank variables in JavaScript?"
        },
        {
            "answer_count": 16,
            "answers": [
                {
                    "body": "<p>I think easiest workaround would be to use 'select' with 'multiple' specified.</p>\n\n<pre><code>&lt;select ng-model=\"selectedfruit\" multiple ng-options=\"v for v in fruit\"&gt;&lt;/select&gt;\n</code></pre>\n\n<p>otherwise, I think you'll have to process the list to construct the list.\n(by <code>$watch()</code>ing the model array bind with checkboxes.)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>&lt;input type='checkbox' ng-repeat=\"fruit in fruits\"\n  ng-checked=\"checkedFruits.indexOf(fruit) != -1\" ng-click=\"toggleCheck(fruit)\"&gt;\n</code></pre>\n\n<p>.</p>\n\n<pre><code>function SomeCtrl ($scope) {\n    $scope.fruits = [\"apple, orange, pear, naartjie\"];\n    $scope.checkedFruits = [];\n    $scope.toggleCheck = function (fruit) {\n        if ($scope.checkedFruits.indexOf(fruit) === -1) {\n            $scope.checkedFruits.push(fruit);\n        } else {\n            $scope.checkedFruits.splice($scope.checkedFruits.indexOf(fruit), 1);\n        }\n    };\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 35
                },
                {
                    "body": "<p>Here's a quick little reusable directive that seems to do what you're looking to do. I've simply called it <code>checkList</code>. It updates the array when the checkboxes change, and updates the checkboxes when the array changes.</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>app.directive('checkList', function() {\n  return {\n    scope: {\n      list: '=checkList',\n      value: '@'\n    },\n    link: function(scope, elem, attrs) {\n      var handler = function(setup) {\n        var checked = elem.prop('checked');\n        var index = scope.list.indexOf(scope.value);\n\n        if (checked &amp;&amp; index == -1) {\n          if (setup) elem.prop('checked', false);\n          else scope.list.push(scope.value);\n        } else if (!checked &amp;&amp; index != -1) {\n          if (setup) elem.prop('checked', true);\n          else scope.list.splice(index, 1);\n        }\n      };\n\n      var setupHandler = handler.bind(null, true);\n      var changeHandler = handler.bind(null, false);\n\n      elem.bind('change', function() {\n        scope.$apply(changeHandler);\n      });\n      scope.$watch('list', setupHandler, true);\n    }\n  };\n});\n</code></pre>\n\n<p>Here's a controller and a view that shows how you might go about using it.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div ng-app=\"myApp\" ng-controller='MainController'&gt;\n  &lt;span ng-repeat=\"fruit in fruits\"&gt;\n    &lt;input type='checkbox' value=\"{{fruit}}\" check-list='checked_fruits'&gt; {{fruit}}&lt;br /&gt;\n  &lt;/span&gt;\n\n  &lt;div&gt;The following fruits are checked: {{checked_fruits | json}}&lt;/div&gt;\n\n  &lt;div&gt;Add fruit to the array manually:\n    &lt;button ng-repeat=\"fruit in fruits\" ng-click='addFruit(fruit)'&gt;{{fruit}}&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>app.controller('MainController', function($scope) {\n  $scope.fruits = ['apple', 'orange', 'pear', 'naartjie'];\n  $scope.checked_fruits = ['apple', 'pear'];\n  $scope.addFruit = function(fruit) {\n    if ($scope.checked_fruits.indexOf(fruit) != -1) return;\n    $scope.checked_fruits.push(fruit);\n  };\n});\n</code></pre>\n\n<p>(The buttons demonstrate that changing the array will also update the checkboxes.)</p>\n\n<p>Finally, here is an example of the directive in action on Plunker: <a href=\"http://plnkr.co/edit/3YNLsyoG4PIBW6Kj7dRK?p=preview\">http://plnkr.co/edit/3YNLsyoG4PIBW6Kj7dRK?p=preview</a></p>\n",
                    "is_accepted": false,
                    "score": 44
                },
                {
                    "body": "<p>There are two ways to approach this problem. Either use a simple array or an array of objects. Each solution has it pros and cons. Below you'll find one for each case.</p>\n\n<hr>\n\n<h3>With a simple array as input data</h3>\n\n<p>the html could look like:</p>\n\n<pre><code>&lt;label ng-repeat=\"fruitName in fruits\"&gt;\n  &lt;input\n    type=\"checkbox\"\n    name=\"selectedFruits[]\"\n    value=\"{{fruitName}}\"\n    ng-checked=\"selection.indexOf(fruitName) &gt; -1\"\n    ng-click=\"toggleSelection(fruitName)\"\n  &gt; {{fruitName}}\n&lt;/label&gt;\n</code></pre>\n\n<p>and the appropriate controller code would be:</p>\n\n<pre><code>app.controller('SimpleArrayCtrl', ['$scope', function SimpleArrayCtrl($scope) {\n  // fruits\n  $scope.fruits = ['apple', 'orange', 'pear', 'naartjie'];\n\n  // selected fruits\n  $scope.selection = ['apple', 'pear'];\n\n  // toggle selection for a given fruit by name\n  $scope.toggleSelection = function toggleSelection(fruitName) {\n    var idx = $scope.selection.indexOf(fruitName);\n\n    // is currently selected\n    if (idx &gt; -1) {\n      $scope.selection.splice(idx, 1);\n    }\n\n    // is newly selected\n    else {\n      $scope.selection.push(fruitName);\n    }\n  };\n}]);\n</code></pre>\n\n<p><strong>Pros</strong>: simple data structure and toggling by name is easy to handle</p>\n\n<p><strong>Cons</strong>: add/remove is cumbersome as two lists (the input and selection) have to be managed</p>\n\n<hr>\n\n<h3>With an object array as input data</h3>\n\n<p>the html could look like:</p>\n\n<pre><code>&lt;label ng-repeat=\"fruit in fruits\"&gt;\n  &lt;!--\n    - use `value=\"{{fruit.name}}\"` to give the input a real value, in case the form gets submitted\n      traditionally\n\n    - use `ng-checked=\"fruit.selected\"` to have the checkbox checked based on some angular expression\n      (no two-way-data-binding)\n\n    - use `ng-model=\"fruit.selected\"` to utilize two-way-data-binding. Note that `.selected`\n      is arbitrary. The property name could be anything and will be created on the object if not present.\n  --&gt;\n  &lt;input\n    type=\"checkbox\"\n    name=\"selectedFruits[]\"\n    value=\"{{fruit.name}}\"\n    ng-model=\"fruit.selected\"\n  &gt; {{fruit.name}}\n&lt;/label&gt;\n</code></pre>\n\n<p>and the appropriate controller code would be:</p>\n\n<pre><code>app.controller('ObjectArrayCtrl', ['$scope', 'filterFilter', function ObjectArrayCtrl($scope, filterFilter) {\n  // fruits\n  $scope.fruits = [\n    { name: 'apple',    selected: true },\n    { name: 'orange',   selected: false },\n    { name: 'pear',     selected: true },\n    { name: 'naartjie', selected: false }\n  ];\n\n  // selected fruits\n  $scope.selection = [];\n\n  // helper method to get selected fruits\n  $scope.selectedFruits = function selectedFruits() {\n    return filterFilter($scope.fruits, { selected: true });\n  };\n\n  // watch fruits for changes\n  $scope.$watch('fruits|filter:{selected:true}', function (nv) {\n    $scope.selection = nv.map(function (fruit) {\n      return fruit.name;\n    });\n  }, true);\n}]);\n</code></pre>\n\n<p><strong>Pros</strong>: add/remove is very easy</p>\n\n<p><strong>Cons</strong>: somewhat more complex data structure and toggling by name is cumbersome or requires a helper method</p>\n\n<hr>\n\n<p><strong>Demo</strong>: <a href=\"http://jsbin.com/ImAqUC/1/\">http://jsbin.com/ImAqUC/1/</a></p>\n",
                    "is_accepted": true,
                    "score": 341
                },
                {
                    "body": "<p>Since you accepted an answer in which a list was not used, I'll assume the answer to my comment question is \"No, it doesn't have to be a list\".  I also had the impression that maybe you were rending the HTML server side, since \"checked\" is present in your sample HTML (this would not be needed if ng-model were used to model your checkboxes).</p>\n\n<p>Anyway, here's what I had in mind when I asked the question, also assuming you were generating the HTML server-side:</p>\n\n<pre><code>&lt;div ng-controller=\"MyCtrl\" \n ng-init=\"checkboxes = {apple: true, orange: false, pear: true, naartjie: false}\"&gt;\n    &lt;input type=\"checkbox\" ng-model=\"checkboxes.apple\"&gt;apple\n    &lt;input type=\"checkbox\" ng-model=\"checkboxes.orange\"&gt;orange\n    &lt;input type=\"checkbox\" ng-model=\"checkboxes.pear\"&gt;pear\n    &lt;input type=\"checkbox\" ng-model=\"checkboxes.naartjie\"&gt;naartjie\n    &lt;br&gt;{{checkboxes}}\n&lt;/div&gt;\n</code></pre>\n\n<p>ng-init allows server-side generated HTML to initially set certain checkboxes.</p>\n\n<p><a href=\"http://jsfiddle.net/mrajcok/CBmgM/\">Fiddle</a>.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>A simple solution:</p>\n\n<pre><code>&lt;div ng-controller=\"MainCtrl\"&gt;\n  &lt;label ng-repeat=\"(color,enabled) in colors\"&gt;\n      &lt;input type=\"checkbox\" ng-model=\"colors[color]\" /&gt; {{color}} \n  &lt;/label&gt;\n  &lt;p&gt;colors: {{colors}}&lt;/p&gt;\n\n&lt;script&gt;\n  var app = angular.module('plunker', []);\n\n  app.controller('MainCtrl', function($scope){\n      $scope.colors = {Blue: true, Orange: true};\n  });\n</code></pre>\n\n<p></p>\n\n<p><a href=\"http://plnkr.co/edit/U4VD61?p=preview\">http://plnkr.co/edit/U4VD61?p=preview</a></p>\n",
                    "is_accepted": false,
                    "score": 129
                },
                {
                    "body": "<p>I have adapted Yoshi's accepted answer to deal with complex objects (instead of strings).</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div ng-controller=\"TestController\"&gt;\n    &lt;p ng-repeat=\"permission in allPermissions\"&gt;\n        &lt;input type=\"checkbox\" ng-checked=\"selectedPermissions.containsObjectWithProperty('id', permission.id)\" ng-click=\"toggleSelection(permission)\" /&gt;\n        {{permission.name}}\n    &lt;/p&gt;\n\n    &lt;hr /&gt;\n\n    &lt;p&gt;allPermissions: | &lt;span ng-repeat=\"permission in allPermissions\"&gt;{{permission.name}} | &lt;/span&gt;&lt;/p&gt;\n    &lt;p&gt;selectedPermissions: | &lt;span ng-repeat=\"permission in selectedPermissions\"&gt;{{permission.name}} | &lt;/span&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>JavaScript</p>\n\n<pre><code>Array.prototype.indexOfObjectWithProperty = function(propertyName, propertyValue)\n{\n    for (var i = 0, len = this.length; i &lt; len; i++) {\n        if (this[i][propertyName] === propertyValue) return i;\n    }\n\n    return -1;\n};\n\n\nArray.prototype.containsObjectWithProperty = function(propertyName, propertyValue)\n{\n    return this.indexOfObjectWithProperty(propertyName, propertyValue) != -1;\n};\n\n\nfunction TestController($scope)\n{\n    $scope.allPermissions = [\n    { \"id\" : 1, \"name\" : \"ROLE_USER\" },\n    { \"id\" : 2, \"name\" : \"ROLE_ADMIN\" },\n    { \"id\" : 3, \"name\" : \"ROLE_READ\" },\n    { \"id\" : 4, \"name\" : \"ROLE_WRITE\" } ];\n\n    $scope.selectedPermissions = [\n    { \"id\" : 1, \"name\" : \"ROLE_USER\" },\n    { \"id\" : 3, \"name\" : \"ROLE_READ\" } ];\n\n    $scope.toggleSelection = function toggleSelection(permission) {\n        var index = $scope.selectedPermissions.indexOfObjectWithProperty('id', permission.id);\n\n        if (index &gt; -1) {\n            $scope.selectedPermissions.splice(index, 1);\n        } else {\n            $scope.selectedPermissions.push(permission);\n        }\n    };\n}\n</code></pre>\n\n<p>Working example: <a href=\"http://jsfiddle.net/tCU8v/\" rel=\"nofollow\">http://jsfiddle.net/tCU8v/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Based on answers in this thread I've created <a href=\"http://vitalets.github.io/checklist-model\">checklist-model</a> directive that covers all cases:</p>\n\n<ul>\n<li>simple array of primitives </li>\n<li>array of objects (pick id or whole object)</li>\n<li>object properties iteration</li>\n</ul>\n\n<p>For topic-starter case it would be:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;label ng-repeat=\"fruit in ['apple', 'orange', 'pear', 'naartjie']\"&gt;\n    &lt;input type=\"checkbox\" checklist-model=\"selectedFruits\" checklist-value=\"fruit\"&gt; {{fruit}}\n&lt;/label&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<p>I think this way is more clear and useful for nested ng-repeats. check it out on <a href=\"http://plnkr.co/edit/oMCKACELU5EMwoWrzuOd?p=preview\" rel=\"nofollow\">Plunker</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/17614361/how-to-update-ng-model-dynamically-in-ng-repeat/17614803#17614803\">Quote from this thread</a></p>\n\n<pre><code>&lt;html ng-app=\"plunker\"&gt;\n&lt;head&gt;\n    &lt;title&gt;Test&lt;/title&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.2.4/angular.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body ng-controller=\"MainCtrl\"&gt;\n    &lt;div ng-repeat=\"tab in mytabs\"&gt;\n  &lt;h1&gt;{{tab.name}}&lt;/h1&gt;\n    &lt;div ng-repeat=\"val in tab.values\"&gt;\n        &lt;input type=\"checkbox\" ng-change=\"checkValues()\" ng-model=\"val.checked\"/&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;br&gt;\n&lt;pre&gt; {{selected}} &lt;/pre&gt;\n\n    &lt;script&gt;\n        var app = angular.module('plunker', []);\n\n        app.controller('MainCtrl', function ($scope,$filter) {\n            $scope.mytabs = [\n     {\n         name: \"tab1\",\n         values: [\n             { value: \"value1\",checked:false },\n             { value: \"value2\", checked: false },\n             { value: \"value3\", checked: false },\n             { value: \"value4\", checked: false }\n         ]\n     },\n     {\n         name: \"tab2\",\n         values: [\n             { value: \"value1\", checked: false },\n             { value: \"value2\", checked: false },\n             { value: \"value3\", checked: false },\n             { value: \"value4\", checked: false }\n         ]\n     }\n            ]\n            $scope.selected = []\n            $scope.checkValues = function () {\n                angular.forEach($scope.mytabs, function (value, index) {\n                 var selectedItems = $filter('filter')(value.values, { checked: true });\n                 angular.forEach(selectedItems, function (value, index) {\n                     $scope.selected.push(value);\n                 });\n\n                });\n            console.log($scope.selected);\n            };\n        });\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Another simple directive could be like:</p>\n\n<pre><code>var appModule = angular.module(\"appModule\", []);\n\nappModule.directive(\"checkList\", [function () {\nreturn {\n    restrict: \"A\",\n    scope: {\n        selectedItemsArray: \"=\",\n        value: \"@\"\n    },\n    link: function (scope, elem) {\n        scope.$watchCollection(\"selectedItemsArray\", function (newValue) {\n            if (_.contains(newValue, scope.value)) {\n                elem.prop(\"checked\", true);\n            } else {\n                elem.prop(\"checked\", false);\n            }\n        });\n        if (_.contains(scope.selectedItemsArray, scope.value)) {\n            elem.prop(\"checked\", true);\n        }\n        elem.on(\"change\", function () {\n            if (elem.prop(\"checked\")) {\n                if (!_.contains(scope.selectedItemsArray, scope.value)) {\n                    scope.$apply(\n                        function () {\n                            scope.selectedItemsArray.push(scope.value);\n                        }\n                    );\n                }\n            } else {\n                if (_.contains(scope.selectedItemsArray, scope.value)) {\n                    var index = scope.selectedItemsArray.indexOf(scope.value);\n                    scope.$apply(\n                        function () {\n                            scope.selectedItemsArray.splice(index, 1);\n                        });\n                }\n            }\n            console.log(scope.selectedItemsArray);\n        });\n    }\n};\n}]);\n</code></pre>\n\n<p>The controller:</p>\n\n<pre><code>appModule.controller(\"sampleController\", [\"$scope\",\n  function ($scope) {\n    //#region \"Scope Members\"\n    $scope.sourceArray = [{ id: 1, text: \"val1\" }, { id: 2, text: \"val2\" }];\n    $scope.selectedItems = [\"1\"];\n    //#endregion\n    $scope.selectAll = function () {\n      $scope.selectedItems = [\"1\", \"2\"];\n  };\n    $scope.unCheckAll = function () {\n      $scope.selectedItems = [];\n    };\n}]);\n</code></pre>\n\n<p>And the HTML:</p>\n\n<pre><code>&lt;ul class=\"list-unstyled filter-list\"&gt;\n&lt;li data-ng-repeat=\"item in sourceArray\"&gt;\n    &lt;div class=\"checkbox\"&gt;\n        &lt;label&gt;\n            &lt;input type=\"checkbox\" check-list selected-items-array=\"selectedItems\" value=\"{{item.id}}\"&gt;\n            {{item.text}}\n        &lt;/label&gt;\n    &lt;/div&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p></p>\n\n<p>I'm also including a Plunker: <a href=\"http://plnkr.co/edit/XnFtyij4ed6RyFwnFN6V?p=preview\" rel=\"nofollow\">http://plnkr.co/edit/XnFtyij4ed6RyFwnFN6V?p=preview</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The <a href=\"http://vitalets.github.io/checklist-model/\" rel=\"nofollow\" title=\"checklist-model\"><code>checklist-model</code></a> directive on Github by Vitaliy Potapov absolutely worked for me (using complex objects). Spent a few hours trying to get the other solutions to work with no luck. Great job vitalets!!</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You don't have to write all that code.  AngularJS will keep the model and the checkboxes in sync simply by using ngTrueValue and ngFalseValue</p>\n\n<p>Codepen here:  <a href=\"http://codepen.io/paulbhartzog/pen/kBhzn\" rel=\"nofollow\">http://codepen.io/paulbhartzog/pen/kBhzn</a></p>\n\n<p>Code snippet:</p>\n\n<pre><code>&lt;p ng-repeat=\"item in list1\" class=\"item\" id=\"{{item.id}}\"&gt;\n  &lt;strong&gt;{{item.id}}&lt;/strong&gt; &lt;input name='obj1_data' type=\"checkbox\" ng-model=\"list1[$index].data\" ng-true-value=\"1\" ng-false-value=\"0\"&gt; Click this to change data value below\n&lt;/p&gt;\n&lt;pre&gt;{{list1 | json}}&lt;/pre&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There is a way to work on the array directly and use ng-model at the same time through <code>ng-model-options=\"{ getterSetter: true }\"</code></p>\n\n<p>The trick is to use a getter/setter function in your ng-model, this way you can use an array as your real model and \"fake\" the booleans in the input's model</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;label ng-repeat=\"fruitName in ['apple', 'orange', 'pear', 'naartjie']\"&gt;\n  &lt;input\n    type=\"checkbox\"\n    ng-model=\"fruitsGetterSetterGenerator(fruitName)\" \n    ng-model-options=\"{ getterSetter: true }\"\n  &gt; {{fruitName}}\n&lt;/label&gt;\n</code></pre>\n\n\n\n<p>\n</p>\n\n<pre><code>$scope.fruits = ['apple', 'pear']; // pre checked\n\n$scope.fruitsGetterSetterGenerator = function(fruitName){\n    return function myGetterSetter(nowHasFruit){\n        if (nowHasFruit !== undefined){\n            // setter\n            fruitIndex = $scope.fruits.indexOf(fruit);\n            didHaveFruit = (fruitIndex !== -1);\n            mustAdd = (!didHaveFruit &amp;&amp; nowHasFruit);\n            mustDel = (didHaveFruit &amp;&amp; !nowHasFruit);\n            if (mustAdd){\n                $scope.fruits.push(fruit);\n            }\n            if (mustDel){\n                $scope.fruits.splice(fruitIndex, 1);\n            }\n        } else {\n            //getter\n            return $scope.user.fruits.indexOf(fruit) !== -1;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>CAVEAT</strong> You shouldn't use this method if your arrays are big as <code>myGetterSetter</code>will be called a lot of times.</p>\n\n<p>for more on that: <a href=\"https://docs.angularjs.org/api/ng/directive/ngModelOptions\" rel=\"nofollow\">https://docs.angularjs.org/api/ng/directive/ngModelOptions</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I suggest using this angular module: <a href=\"http://dotansimha.github.io/angularjs-dropdown-multiselect/#/\" rel=\"nofollow\">http://dotansimha.github.io/angularjs-dropdown-multiselect/#/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Utilizing a string of $index can help to utilize a haskmap of values selected.</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;li ng-repeat=\"someItem in someArray\"&gt;\n        &lt;input type=\"checkbox\" ng-model=\"someObject[$index.toString()]\" /&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>This way the ng-model object gets updated with the key representing the index.</p>\n\n<pre><code>$scope.someObject = {};\n</code></pre>\n\n<p>After a while $scope.someObject should look something like.</p>\n\n<pre><code>$scope.someObject = {\n     0: true,\n     4: false,\n     1: true\n};\n</code></pre>\n\n<p>This method won't work for all situations, but is easy to implement.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Maybe my answer is too later. You can combine AngularJS and JQuery. E.g.\nYou need to define array, $scope.selected = []; in controller.</p>\n\n<pre><code>&lt;label ng-repeat=\"item in items\"&gt;\n&lt;input type=\"checkbox\" ng-model=\"selected[$index]\" ng-true-value=\"'{{item}}'\"&gt;{{item}}\n&lt;/label&gt;\n</code></pre>\n\n<p>You can get an array owning the selected items. Using method alert(JSON.stringify($scope.selected)), you can check the selected items. </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a few checkboxes:</p>\n\n<pre><code>&lt;input type='checkbox' value=\"apple\" checked&gt;\n&lt;input type='checkbox' value=\"orange\"&gt;\n&lt;input type='checkbox' value=\"pear\" checked&gt;\n&lt;input type='checkbox' value=\"naartjie\"&gt;\n</code></pre>\n\n<p>That I would like to bind to a list in my controller such that whenever a checkbox is changed the controller maintains a list of all the checked values e.g. <code>['apple', 'pear']</code>. </p>\n\n<p>ng-model seems to only be able to bind the value of one single checkbox to a variable in the controller. </p>\n\n<p>Is there another way to do it so that I can bind the four checkboxes to a list in the contrller?</p>\n",
            "last_activity_date": 1424351920,
            "question_id": 14514461,
            "score": 206,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "How can AngularJS bind to list of checkbox values?"
        },
        {
            "answer_count": 20,
            "answers": [
                {
                    "body": "<p>There is no real function overloading in JavaScript since it allowes to pass any number of parameters of any type. You have to check inside the function how many <a href=\"https://developer.mozilla.org/En/Core_JavaScript_1.5_Reference/Functions_and_function_scope/arguments\">arguments</a> have been passed and what type they are.</p>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<p>There are two ways you could approach this better: </p>\n\n<ol>\n<li><p>Pass a dictionary (associative array) if you want to leave a lot of flexibility </p></li>\n<li><p>Take an object as the argument and use prototype based inheritance to add flexibility.</p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>The best way really depends on the function and the arguments. Each of your options is a good idea in different situations. I generally try these in the following order until one of them works:</p>\n\n<ol>\n<li><p><strong>Using optional arguments like y = y || 'default'.</strong> This is convenient if you can do it, but it may not always work practically, e.g. when 0/null/undefined would be a valid argument.</p></li>\n<li><p><strong>Using number of arguments.</strong> Similar to the last option but may work when #1 doesn't work.</p></li>\n<li><p><strong>Checking types of arguments.</strong> This can work in some cases where the number of arguments is the same. If you can't reliably determine the types, you may need to use different names.</p></li>\n<li><p><strong>Using different names in the first place.</strong> You may need to do this if the other options won't work, aren't practical, or for consistency with other related functions.</p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>The best way to do function overloading with parameters is not to check the argument length or  the types; checking the types will just make your code slow and you have the fun of Arrays, nulls, Objects, etc.</p>\n\n<p>What most developers do is tack on an object as the last argument to their methods.  This object can hold anything. </p>\n\n<pre><code>function foo(a, b, opts) {\n\n}\n\n\nfoo(1, 2, {\"method\":\"add\"});\nfoo(3, 4, {\"test\":\"equals\", \"bar\":\"tree\"});\n</code></pre>\n\n<p>Then you can handle it anyway you want in your method. [Switch, if-else, etc.]</p>\n",
                    "is_accepted": true,
                    "score": 270
                },
                {
                    "body": "<p>There is no way to function overloading in javascript.\nSo, I recommend like the following by <code>typeof()</code> method instead of\nmultiple function to fake overloading.</p>\n\n<pre><code>function multiTypeFunc(param)\n{\n    if(typeof param == 'string') {\n        alert(\"I got a string type parameter!!\");\n     }else if(typeof param == 'number') {\n        alert(\"I got a number type parameter!!\");\n     }else if(typeof param == 'boolean') {\n        alert(\"I got a boolean type parameter!!\");\n     }else if(typeof param == 'object') {\n        alert(\"I got a object type parameter!!\");\n     }else{\n        alert(\"error : the parameter is undefined or null!!\");\n     }\n}\n</code></pre>\n\n<p>Good luck!</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here is a benchmark test on function overloading - <a href=\"http://goo.gl/UyYAD\" rel=\"nofollow\">http://goo.gl/UyYAD</a> (code shown in this post). It shows that function overloading (taking types into account) can be around <strong>13 times slower</strong> in Google <strong>Chrome's V8</strong> as of <strong>16.0(beta)</strong>.</p>\n\n<p>As well as passing an object (i.e. <code>{x: 0, y: 0}</code>), one can also take the C approach when appropriate, naming the methods accordingly. For example, Vector.AddVector(vector), Vector.AddIntegers(x, y, z, ...) and Vector.AddArray(integerArray). You can look at C libraries, such as OpenGL for naming inspiration. </p>\n\n<p><strong>Edit</strong>: I've added a benchmark for passing an object and testing for the object using both <code>'param' in arg</code> and <code>arg.hasOwnProperty('param')</code>, and function overloading is much faster than passing an object and checking for properties (in this benchmark at least).</p>\n\n<p>From a design perspective, function overloading is only valid or logical if the overloaded parameters correspond to the same action. So it stands to reason that there ought to be an underlying method that is only concerned with specific details, otherwise that may indicate inappropriate design choices. So one could also resolve the use of function overloading by converting data to a respective object. Of course one must consider the scope of the problem as there's no need in making elaborate designs if your intention is just to print a name, but for the design of frameworks and libraries such thought is justified.</p>\n\n<p>My example comes from a Rectangle implementation - hence the mention of Dimension and Point. Perhaps Rectangle could add a <code>GetRectangle()</code> method to the <code>Dimension</code> and <code>Point</code> prototype, and then the function overloading issue is sorted. And what about primitives? Well, we have argument length, which is now a valid test since objects have a <code>GetRectangle()</code> method.</p>\n\n<pre><code>function Dimension() {}\nfunction Point() {}\n\nvar Util = {};\n\nUtil.Redirect = function (args, func) {\n  'use strict';\n  var REDIRECT_ARGUMENT_COUNT = 2;\n\n  if(arguments.length - REDIRECT_ARGUMENT_COUNT !== args.length) {\n    return null;\n  }\n\n  for(var i = REDIRECT_ARGUMENT_COUNT; i &lt; arguments.length; ++i) {\n    var argsIndex = i-REDIRECT_ARGUMENT_COUNT;\n    var currentArgument = args[argsIndex];\n    var currentType = arguments[i];\n    if(typeof(currentType) === 'object') {\n      currentType = currentType.constructor;\n    }\n    if(typeof(currentType) === 'number') {\n      currentType = 'number';\n    }\n    if(typeof(currentType) === 'string' &amp;&amp; currentType === '') {\n      currentType = 'string';\n    }\n    if(typeof(currentType) === 'function') {\n      if(!(currentArgument instanceof currentType)) {\n        return null;\n      }\n    } else {\n      if(typeof(currentArgument) !== currentType) {\n        return null;\n      }\n    } \n  }\n  return [func.apply(this, args)];\n}\n\nfunction FuncPoint(point) {}\nfunction FuncDimension(dimension) {}\nfunction FuncDimensionPoint(dimension, point) {}\nfunction FuncXYWidthHeight(x, y, width, height) { }\n\nfunction Func() {\n  Util.Redirect(arguments, FuncPoint, Point);\n  Util.Redirect(arguments, FuncDimension, Dimension);\n  Util.Redirect(arguments, FuncDimensionPoint, Dimension, Point);\n  Util.Redirect(arguments, FuncXYWidthHeight, 0, 0, 0, 0);\n}\n\nFunc(new Point());\nFunc(new Dimension());\nFunc(new Dimension(), new Point());\nFunc(0, 0, 0, 0);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I often do this:</p>\n\n<p>C#:</p>\n\n<pre><code>public string CatStrings(string p1)                  {return p1;}\npublic string CatStrings(string p1, int p2)          {return p1+p2.ToString();}\npublic string CatStrings(string p1, int p2, bool p3) {return p1+p2.ToString()+p3.ToString();}\n\nCatStrings(\"one\");        // result = one\nCatStrings(\"one\",2);      // result = one2\nCatStrings(\"one\",2,true); // result = one2true\n</code></pre>\n\n<p>JavaScript Equivalent:</p>\n\n<pre><code>function CatStrings(p1, p2, p3)\n{\n  var s = p1;\n  if(typeof p2 !== \"undefined\") {s += p2;}\n  if(typeof p3 !== \"undefined\") {s += p3;}\n  return s;\n};\n\nCatStrings(\"one\");        // result = one\nCatStrings(\"one\",2);      // result = one2\nCatStrings(\"one\",2,true); // result = one2true\n</code></pre>\n\n<p>This particular example is actually more elegant in javascript than C#.  Parameters which are not specified are null in javascript, which evaluates to false in an if statement. As others have said, if 'null' is a valid parameter, this method fails. Also, the function definition does not convey the information that p2 and p3 are optional.  If you need a lot of overloading, jQuery has decided to use an object as the parameter, for example, jQuery.ajax(options).  I agree with them that this is the most powerful and clearly documentable approach to overloading, but I rarely need more than one or two quick optional parameters.</p>\n\n<p>EDIT: changed IF test per Ian's suggestion</p>\n",
                    "is_accepted": false,
                    "score": 49
                },
                {
                    "body": "<p>check this out. It is very cool.\n<a href=\"http://ejohn.org/blog/javascript-method-overloading/\" rel=\"nofollow\">http://ejohn.org/blog/javascript-method-overloading/</a>\nTrick Javascript to allow you to do calls like this:</p>\n\n<pre><code>var users = new Users();\nusers.find(); // Finds all\nusers.find(\"John\"); // Finds users by name\nusers.find(\"John\", \"Resig\"); // Finds users by first and last name\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I just tried this, maybe it suits your needs.\nDepending on the number of the arguments, you can access a different function. You initialize it the first time you call it.\nAnd the function map is hidden in the closure.</p>\n\n<pre><code>TEST = {};\n\nTEST.multiFn = function(){\n    // function map for our overloads\n    var fnMap = {};\n\n    fnMap[0] = function(){\n        console.log(\"nothing here\");\n        return this;    //    support chaining\n    }\n\n    fnMap[1] = function(arg1){\n        //    CODE here...\n        console.log(\"1 arg: \"+arg1);\n        return this;\n    };\n\n    fnMap[2] = function(arg1, arg2){\n        //    CODE here...\n        console.log(\"2 args: \"+arg1+\", \"+arg2);\n        return this;\n    };\n\n    fnMap[3] = function(arg1,arg2,arg3){\n        //    CODE here...\n        console.log(\"3 args: \"+arg1+\", \"+arg2+\", \"+arg3);\n        return this;\n    };\n\n    console.log(\"multiFn is now initialized\");\n\n    //    redefine the function using the fnMap in the closure\n    this.multiFn = function(){\n        fnMap[arguments.length].apply(this, arguments);\n        return this;\n    };\n\n    //    call the function since this code will only run once\n    this.multiFn.apply(this, arguments);\n\n    return this;    \n};\n</code></pre>\n\n<p>Test it. </p>\n\n<pre><code>TEST.multiFn(\"0\")\n    .multiFn()\n    .multiFn(\"0\",\"1\",\"2\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The first option really deserves attention cause it's the thing I've come up in quite complex code setup. So, my answer is</p>\n\n<blockquote>\n  <ol>\n  <li>Using different names in the first place</li>\n  </ol>\n</blockquote>\n\n<p>With a little but essential hint, names should look different for computer, but not for you. Name overloaded functions like: func, func1, func2.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>We made <a href=\"http://github.com/stretchr/over.js\" rel=\"nofollow\">over.js</a> to solve this problem is a very elegant way.  You can do:</p>\n\n<pre><code>var obj = {\n\n  /**\n   * Says something in the console.\n   *\n   * say(msg) - Says something once.\n   * say(msg, times) - Says something many times.\n   */\n  say: Over(\n    function(msg$string){\n      console.info(msg$string);\n    },\n    function(msg$string, times$number){\n      for (var i = 0; i &lt; times$number; i++) this.say(msg$string);\n    }\n  )\n\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>You can use my implementation to overload functions XD</p>\n\n<p><a href=\"https://github.com/myfingersarebroken/simpleOverload\" rel=\"nofollow\">https://github.com/myfingersarebroken/simpleOverload</a></p>\n\n<p>Regards</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I am working on a library that provides class like code capabilities to Javascript, currently it supports constructors, inheritance, methods overload by number of params and by types of params, mixins, statics properties and singleton.</p>\n\n<p>See an example of method overloading using that library:</p>\n\n<pre><code>eutsiv.define('My.Class', {\n    constructor: function() {\n        this.y = 2;\n    },\n    x: 3,\n    sum: function() {\n        return this.x + this.y;\n    },\n    overloads: {\n        value: [\n            function() { return this.x + ', ' + this.y },\n            function(p1) { this.x = p1; },\n            function(p1, p2) { this.x = p1; this.y = p2; }  // will set x and y\n        ]\n    }\n});\n\nvar test = new My.Class({ x: 5 });   // create the object\ntest.value();                        // will return '5, 2'\ntest.sum();                          // will return 7\ntest.value(13);                      // will set x to 13\ntest.value();                        // will return '13, 2'\ntest.sum();                          // will return 15\ntest.value(10, 20);                  // will set x to 10 and y to 20\ntest.value();                        // will return '10, 20'\ntest.sum();                          // will return 30\n</code></pre>\n\n<p>Any feedback, bug fixes, docs and tests improves are welcome!</p>\n\n<p><a href=\"https://github.com/eutsiv/eutsiv.js\" rel=\"nofollow\">https://github.com/eutsiv/eutsiv.js</a> </p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Since JavaScript doesn't have function overload options object can be used instead.  If there are one or two required arguments, it's better to keep them separate from the options object.  Here is an example on how to use options object and populated values to default value in case if value was not passed in options object.</p>\n\n<pre><code>function optionsObjectTest(x, y, opts) {\n    opts = opts || {}; // default to an empty options object\n\n    var stringValue = opts.stringValue || \"string default value\";\n    var boolValue = !!opts.boolValue; // coerces value to boolean with a double negation pattern\n    var numericValue = opts.numericValue === undefined ? 123 : opts.numericValue;\n\n    return \"{x:\" + x + \", y:\" + y + \", stringValue:'\" + stringValue + \"', boolValue:\" + boolValue + \", numericValue:\" + numericValue + \"}\";\n</code></pre>\n\n<p>}</p>\n\n<p><a href=\"http://jsfiddle.net/vlad_bezden/4ZqH7/\" rel=\"nofollow\">here</a> is an example on how to use options object</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>So I really liked this way of doing things that I found in secrets of the javascript ninja</p>\n\n<pre><code>function addMethod(object,name,fn){\n  var old = object[name];\n  object[name] = function(){\n    if (fn.length == arguments.length){\n      return fn.apply(this,arguments);\n    } else if(typeof old == 'function'){\n        return old.apply(this,arguments);\n    }\n  }\n}\n</code></pre>\n\n<p>you then use addMethod to add overloaded functions to any object.  The main confusion in this code for me was the use of fn.length == arguments.length -- this works because fn.length is the number of expected parameters, while arguments.length is the number of parameters that are actually called with the function. The reason the anonymous function has no argument is because you can pass in any number of arguments in javascript and the language is forgiving. </p>\n\n<p>I liked this because you can use it everywhere - just create this function and simply use the method in whatever code base you want. </p>\n\n<p>It also avoids having a ridiculously large if/switch statement, which becomes hard to read if you start writing complex code (the accepted answer will result in this).</p>\n\n<p>In terms of cons, I guess the code is initially a little obscure...but I'm not sure of others? </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As this post already contains a lot of different solutions i thought i post another one.</p>\n\n<pre><code>function onlyUnique(value, index, self) {\n    return self.indexOf(value) === index;\n}\n\nfunction overload() {\n   var functions = arguments;\n   var nroffunctionsarguments = [arguments.length];\n    for (var i = 0; i &lt; arguments.length; i++) {\n        nroffunctionsarguments[i] = arguments[i].length;\n    }\n    var unique = nroffunctionsarguments.filter(onlyUnique);\n    if (unique.length === arguments.length) {\n        return function () {\n            var indexoffunction = nroffunctionsarguments.indexOf(arguments.length);\n            return functions[indexoffunction].apply(this, arguments);\n        }\n    }\n    else throw new TypeError(\"There are multiple functions with the same number of parameters\");\n\n}\n</code></pre>\n\n<p>this can be used as shown below:</p>\n\n<pre><code>var createVector = overload(\n        function (length) {\n            return { x: length / 1.414, y: length / 1.414 };\n        },\n        function (a, b) {\n            return { x: a, y: b };\n        },\n        function (a, b,c) {\n            return { x: a, y: b, z:c};\n        }\n    );\nconsole.log(createVector(3, 4));\nconsole.log(createVector(3, 4,5));\nconsole.log(createVector(7.07));\n</code></pre>\n\n<p>This solution is not perfect but i only want to demonstrate how it could be done.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This is an old question but one that I think needs another entry (although I doubt anyone will read it). The use of Immediately Invoked Function Expressions (IIFE) can be used in conjunction with closures and inline functions to allow for function overloading. Consider the following (contrived) example:</p>\n\n<pre><code>var foo;\n\n// original 'foo' definition\nfoo = function(a) {\n  console.log(\"a: \" + a);\n}\n\n// define 'foo' to accept two arguments\nfoo = (function() {\n  // store a reference to the previous definition of 'foo'\n  var old = foo;\n\n  // use inline function so that you can refer to it internally\n  return function newFoo(a,b) {\n\n    // check that the arguments.length == the number of arguments \n    // defined for 'newFoo'\n    if (arguments.length == newFoo.length) {\n      console.log(\"a: \" + a);\n      console.log(\"b: \" + b);\n\n    // else if 'old' is a function, apply it to the arguments\n    } else if (({}).toString.call(old) === '[object Function]') {\n      old.apply(null, arguments);\n    }\n  }\n})();\n\nfoo(1);\n&gt; a: 1\nfoo(1,2);\n&gt; a: 1\n&gt; b: 2\nfoo(1,2,3)\n&gt; a: 1\n</code></pre>\n\n<p>In short, the use of the IIFE creates a local scope, allowing us to define the private variable <code>old</code> to store a reference to the initial definition of the function <code>foo</code>. This function then returns an inline function <code>newFoo</code> that logs the contents of both two arguments if it is passed exactly two arguments <code>a</code> and <code>b</code> or calls the <code>old</code> function if <code>arguments.length !== 2</code>. This pattern can be repeated any number of times to endow one variable with several different functional defitions.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can user the 'addMethod' from John Resig. With this method you can \"overload\" methods based on arguments count.</p>\n\n<pre><code>// addMethod - By John Resig (MIT Licensed)\nfunction addMethod(object, name, fn){\n    var old = object[ name ];\n    object[ name ] = function(){\n        if ( fn.length == arguments.length )\n            return fn.apply( this, arguments );\n        else if ( typeof old == 'function' )\n            return old.apply( this, arguments );\n    };\n}\n</code></pre>\n\n<p>I have also created an alternative to this method that uses caching to hold the variations of the function. <a href=\"http://jsbegin.blogspot.gr/2014/08/method-overloading-based-on-john-resigs_22.html\" rel=\"nofollow\">The differencies are described here</a></p>\n\n<pre><code>// addMethod - By Stavros Ioannidis\nfunction addMethod(obj, name, fn) {\n  obj[name] = obj[name] || function() {\n    // get the cached method with arguments.length arguments\n    var method = obj[name].cache[arguments.length];\n\n    // if method exists call it \n    if ( !! method)\n      return method.apply(this, arguments);\n    else throw new Error(\"Wrong number of arguments\");\n  };\n\n  // initialize obj[name].cache\n  obj[name].cache = obj[name].cache || {};\n\n  // Check if a method with the same number of arguments exists  \n  if ( !! obj[name].cache[fn.length])\n    throw new Error(\"Cannot define multiple '\" + name +\n      \"' methods with the same number of arguments!\");\n\n  // cache the method with fn.length arguments\n  obj[name].cache[fn.length] = function() {\n    return fn.apply(this, arguments);\n  };\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>If I needed a function with two uses foo(x) and foo(x,y,z) which is the best / preferred way?</p>\n</blockquote>\n\n<p><strong>The issue is that JavaScript does NOT natively support method overloading. So, if it sees/parses two or more functions with a same names it\u2019ll just consider the last defined function and overwrite the previous ones.</strong></p>\n\n<p>One of the way I think is suitable for most of the case is follows - </p>\n\n<p>Lets say you have method </p>\n\n<pre><code>function foo(x)\n{\n} \n</code></pre>\n\n<p>Instead of overloading method <strong>which is not possible in javascript</strong> you can define a new method </p>\n\n<pre><code>fooNew(x,y,z)\n{\n}\n</code></pre>\n\n<p>and then modify the 1st function as follows -</p>\n\n<pre><code>function foo(x)\n{\n  if(arguments.length==2)\n  {\n     return fooNew(arguments[0],  arguments[1]);\n  }\n} \n</code></pre>\n\n<p>If you have many such overloaded method consider using <code>switch</code> than just <code>if-else</code> statements.</p>\n\n<p>(<a href=\"http://opensourceforgeeks.blogspot.in/2014/09/method-overloading-in-javascript.html\" rel=\"nofollow\">more details</a>)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I would like to share a useful example of overloaded-like approach.</p>\n\n<pre><code>function Clear(control)\n{\n  var o = typeof control !== \"undefined\" ? control : document.body;\n  var children = o.childNodes;\n  while (o.childNodes.length &gt; 0)\n    o.removeChild(o.firstChild);\n}\n</code></pre>\n\n<p>Usage: \n  Clear(); // Clears all the document</p>\n\n<p>Clear(myDiv); // Clears panel referenced by myDiv</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>What is the best way(s) to fake function overloading in Javascript? </p>\n\n<p>I know it is not possible to overload functions in Javascript as in other languages. \nIf I needed a function with two uses foo(x) and foo(x,y,z) which is the best / preferred way:</p>\n\n<ol>\n<li>Using different names in the first place</li>\n<li>Using optional arguments like y = y || 'default'</li>\n<li>Using number of arguments</li>\n<li>Checking types of arguments</li>\n<li>Or how?</li>\n</ol>\n",
            "last_activity_date": 1418635411,
            "question_id": 456177,
            "score": 318,
            "tags": [
                "javascript",
                "method-overloading"
            ],
            "title": "Function overloading in Javascript - Best practices"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>What I like to do is include the per-view Javascript in a <code>content_for :head</code> block and then <code>yield</code> to that block in your application layout. For example</p>\n\n<p>If it's pretty short then:</p>\n\n<pre><code>&lt;% content_for :head do %&gt;\n  &lt;script type=\"text/javascript\"&gt;\n    $(function() {\n      $('user_rating_positve').click(function() {\n        $('some_div').show();\n      }\n    });\n  &lt;/script&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>or, if longer, then:</p>\n\n<pre><code>&lt;% content_for :head do %&gt;\n  &lt;script type=\"text/javascript\"&gt;\n    &lt;%= render :partial =&gt; \"my_view_javascript\"\n  &lt;/script&gt;\n&lt;% end %&gt;\n</code></pre>\n\n<p>Then, in your layout file</p>\n\n<pre><code>&lt;head&gt;\n  ...\n  &lt;%= yield :head %&gt;\n&lt;/head&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 113
                },
                {
                    "body": "<p>I prefer the following...</p>\n\n<p>In your application_helper.rb file</p>\n\n<pre><code>def include_javascript (file)\n    s = \" &lt;script type=\\\"text/javascript\\\"&gt;\" + render(:file =&gt; file) + \"&lt;/script&gt;\"\n    content_for(:head, raw(s))\nend\n</code></pre>\n\n<p>and then in your particular view (app/views/books/index.html.erb in this example)</p>\n\n<pre><code>&lt;% include_javascript 'books/index.js' %&gt;\n</code></pre>\n\n<p>... seems to work for me.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>If you don't want to use the asset pipeline or the <a href=\"http://stackoverflow.com/a/6171275/539490\">complex work arounds</a> to get that necessary page specific javascript (I sympathise), the simplest and most robust way, which achieves the same as the answers above but with less code is just to use:</p>\n\n<pre><code>&lt;%= javascript_include_tag \"my_javascipt_file\" %&gt;\n</code></pre>\n\n<p>Note: this does require one more http request per include tag than the answers which use <code>content_for :head</code></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>If you want to include javascript just on one page, you can include it on the page inline of course, however if you want to group your javascript and take advantage of the asset pipeline, minified js etc, it's possible to do so and have extra js assets which are combined and only loaded on specific pages by splitting your js into groups which only apply in certain controllers/views/sections of the site. </p>\n\n<p>Move your js in assets into folders, with a separate manifest file for each, so if you had an admin js library that is only used on the backend, you might do this:</p>\n\n<ul>\n<li>assets\n<ul>\n<li>javascripts\n<ul>\n<li>admin\n<ul>\n<li>...js</li>\n</ul></li>\n<li>admin.js (manifest for admin group)</li>\n<li>application.js (manifest for app global group)</li>\n<li>global\n<ul>\n<li>...js</li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>in the existing application.js</p>\n\n<pre><code>//= require jquery\n//= require jquery_ujs\n//= require_tree ./global // requires all js files in global folder\n</code></pre>\n\n<p>in a new admin.js manifest file</p>\n\n<pre><code>//= require_tree ./admin // requires all js files in admin folder\n</code></pre>\n\n<p>Make sure this new js manifest is loaded by editing config/production.rb</p>\n\n<pre><code>config.assets.precompile += %w( admin.js )\n</code></pre>\n\n<p>Then adjust your page layout so that you can include some extra js for the page head:</p>\n\n<pre><code>&lt;%= content_for :header %&gt;   \n</code></pre>\n\n<p>Then in views where you want to include this specific js group (as well as the normal application group) and/or any page-specific js, css etc:</p>\n\n<pre><code>&lt;% content_for :header do %&gt;\n  &lt;%= javascript_include_tag 'admin' %&gt;  \n&lt;% end %&gt;\n</code></pre>\n\n<p>You can of course do the same thing with css and group it in a similar way for applying only to certain areas of the site. </p>\n",
                    "is_accepted": false,
                    "score": 73
                },
                {
                    "body": "<p>Ok so maybe this is like the worst work around ever but i creat a controller method that just rendered out the .js file</p>\n\n<p>Controller</p>\n\n<pre><code>def get_script\n   render :file =&gt; 'app/assessts/javascripts/' + params[:name] + '.js'\nend\ndef get_page\n   @script = '/' + params[:script_name] + '.js?body=1'\n   render page\nend\n</code></pre>\n\n<p>View</p>\n\n<pre><code>%script{:src =&gt; @script, :type =&gt; \"text/javascript\"}\n</code></pre>\n\n<p>if for some reason we don't want to do this then let me know.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>My understanding is that the asset pipeline is meant to decrease page load-time by mashing all your js together into one (minified) file. While this may seem repugnant on the surface, it is actually a feature that already exists in popular languages like C and Ruby. Things like \"include\" tags are meant to prevent multiple inclusion of a file, and to help programmers organize their code. When you write and compile a program in C, all that code is present in every part of your running program, but methods are only loaded into memory when that code is being used. In a sense, a compiled program does not include anything to guarantee that the code is nicely modular. We make the code modular by writing our programs that way, and the operating system only loads into memory the objects and methods we need for a given locality. Is there even such a thing as \"method-specific inclusion\"? If your rails app is restful, this is essentially what you are asking for.</p>\n\n<p>If you write your javascript so that it augments the behaviour of HTML elements on the page, then those functions are 'page-specific' by design. If there is some complicated code that you wrote in such a way that it will execute regardless of its context, maybe consider binding that code to an html element anyway (you could use the body tag, as described in the <a href=\"http://viget.com/inspire/extending-paul-irishs-comprehensive-dom-ready-execution\" rel=\"nofollow\">Garber-Irish method</a>). If a function executes conditionally, the performance will probably be smaller than all those extra script tags.</p>\n\n<p>I am thinking of using the <a href=\"https://github.com/kbparagua/paloma\" rel=\"nofollow\">paloma</a> gem, as described in the <a href=\"http://railsapps.github.com/rails-javascript-include-external.html\" rel=\"nofollow\">rails apps project</a>. Then you can make your javascript page-specific by including page-specific functions in a paloma callback:</p>\n\n<pre><code>Paloma.callbacks['users']['new'] = function(params){\n    // This will only run after executing users/new action\n    alert('Hello New Sexy User');\n}; \n</code></pre>\n\n<p>You use rails, so I know you love gems :)</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>These answers helped me a ton! If anyone wants a little more...</p>\n\n<ol>\n<li>You need to put javascripts into manifests if you want them precompiled. However, if you require every javascript file from <code>application.js.coffee</code> then all the javacsripts will be loaded every time you navigate to a different page, and the purpose of doing page-specific javascripts will be defeated.</li>\n</ol>\n\n<p>Therefore, you need to create your own manifest file (e.g. <code>speciifc.js</code>) that will require all the page-specific javascript files. Also, modify <code>require_tree</code> from <code>application.js</code> </p>\n\n<p><strong>app/assets/javascripts/application.js</strong></p>\n\n<pre><code>//= require jquery\n//= require jquery_ujs\n//= require_tree ./global\n</code></pre>\n\n<p><strong>app/assets/javascripts/specific.js</strong></p>\n\n<pre><code>//= require_tree ./specific\n</code></pre>\n\n<p>Then in your <code>environments/production.rb</code> add this manifest to the precompiled list with the config option, </p>\n\n<p><code>config.assets.precompile += %w( specific.js )</code></p>\n\n<p>Done! All the <em>shared</em> javascripts that should always be loaded will be placed in <code>app/assets/javascripts/global</code> folder, and the page-spcific javascripts in <code>app/assets/javascripts/specific</code>. You can simply call the page-specific javascripts from the view like</p>\n\n<p><code>&lt;%= javascript_include_tag \"specific/whatever.js\" %&gt;</code> //.js is optional.</p>\n\n<p>This is sufficient, but I wanted to make a use of <code>javascript_include_tag params[:controller]</code> too. When you create controllers, an associated coffeescript file is generated in <code>app/assets/javascripts</code> like other people mentioned. There are truly <em>controller-specific</em> javascripts, which are loaded only when the user reaches the specific controller view.</p>\n\n<p>So I created another manifest <code>controller-specific.js</code></p>\n\n<p><strong>app/assets/javascripts/controller-specific.js</strong></p>\n\n<p><code>//= require_directory .</code></p>\n\n<p>This will include all the automatically-generated coffeescripts associated with controllers. Also, you need to add it to the precompiled list.</p>\n\n<p><code>config.assets.precompile += %w( specific.js controller-specific.js )</code></p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Take a look at <a href=\"https://github.com/peresleguine/pluggable_js\">pluggable_js</a> gem. You may find this solution easier to use.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The preferred way to add JS is in footer, so you can do this way:</p>\n\n<p><strong>show.html.erb:</strong></p>\n\n<pre><code>&lt;% content_for :footer_js do %&gt;\n   This content will show up in the footer section\n&lt;% end %&gt;\n</code></pre>\n\n<p><strong>layouts/application.html.erb</strong>  </p>\n\n<pre><code>&lt;%= yield :footer_js %&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Rails 3 has some unobtrusive javascript which is pretty cool.</p>\n\n<p>But I was wondering what the best way is to include additional JS for a particular page.</p>\n\n<p>For example, where I might have previously done:</p>\n\n<pre><code>&lt;%= f.radio_button :rating, 'positive', :onclick =&gt; \"$('some_div').show();\" %&gt;\n</code></pre>\n\n<p>We can now make it unobtrusive with something like</p>\n\n<pre><code>&lt;%= f.radio_button :rating, 'positive' %&gt;\n\n# then in some other file\n$('user_rating_positive').click(function() {\n  $('some_div).show();\n}\n</code></pre>\n\n<p>So I guess my question is where/how to include that JS?  I don't want to fill up the application.js file because this JS is only applicable to this one view.  Should I include a custom JS file for each page somehow, or stick it in an instance variable that the header looks for?</p>\n",
            "last_activity_date": 1411374106,
            "question_id": 3437585,
            "score": 117,
            "tags": [
                "javascript",
                "ruby-on-rails",
                "ruby-on-rails-3"
            ],
            "title": "Best way to add page specific javascript in a Rails 3 app?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><code>stopPropagation</code> stops the event from bubbling up the event chain.</p>\n\n<p><code>preventDefault</code> prevents the default action the browser makes on that event.</p>\n\n<p>Let's say you have</p>\n\n<pre><code>&lt;div id=\"foo\"&gt;\n &lt;button id=\"but\" /&gt;\n&lt;/div&gt;\n\n$(\"#foo\").click(function() {\n   // mouse click on div\n});\n\n$(\"#but\").click(function(ev) {\n   // mouse click on button\n   ev.stopPropagation();\n});\n</code></pre>\n\n<p>With <code>stopPropagation</code> only the buttons click handler is called and the divs click handler never fires.</p>\n\n<p>Where as if you just <code>preventDefault</code> only the browsers default action is stopped but the div's click handler still fires.</p>\n\n<p>Below are some docs on the DOM event objects from MDC and MSDN</p>\n\n<p><strong>MSDN:</strong></p>\n\n<ul>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/ms533545(v=vs.85).aspx\"><code>event.cancelBubble</code></a></li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/ff975460(v=vs.85).aspx\"><code>event.preventDefault</code></a></li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/ms534372(v=vs.85).aspx\"><code>event.returnValue</code></a></li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/ff975462(v=vs.85).aspx\"><code>event.stopPropagation</code></a></li>\n</ul>\n\n<p><strong>MDN:</strong></p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en/DOM/event.cancelBubble\"><code>event.cancelBubble</code></a></li>\n<li><a href=\"https://developer.mozilla.org/en/DOM/event.preventDefault\"><code>event.preventDefault</code></a></li>\n<li><a href=\"https://developer.mozilla.org/en/DOM/event.stopPropagation\"><code>event.stopPropagation</code></a></li>\n</ul>\n\n<p>For IE9 and FF you can just use preventDefault &amp; stopPropagation.</p>\n\n<p>To support IE8 and lower replace <code>stopPropagation</code> with <code>cancelBubble</code> and replace <code>preventDefault</code> with <code>returnValue</code></p>\n",
                    "is_accepted": true,
                    "score": 292
                },
                {
                    "body": "<p>This is the quote from <a href=\"http://davidwalsh.name/javascript-events\">here</a></p>\n\n<p><strong>Event.preventDefault</strong></p>\n\n<p>The preventDefault method prevents an event from carrying out its default functionality.  For example, you would use preventDefault on an A element to stop clicking that element from leaving the current page:</p>\n\n<pre><code>//clicking the link will *not* allow the user to leave the page \nmyChildElement.onclick = function(e) { \n    e.preventDefault(); \n    console.log('brick me!'); \n};\n\n//clicking the parent node will run the following console statement because event propagation occurs\nlogo.parentNode.onclick = function(e) { \n    console.log('you bricked my child!'); \n};\n</code></pre>\n\n<p>While the element's default functionality is bricked, the event continues to bubble up the DOM.</p>\n\n<p><strong>Event.stopPropagation</strong></p>\n\n<p>The second method, stopPropagation, allows the event's default functionality to happen but prevents the event from propagating:</p>\n\n<pre><code>//clicking the element will allow the default action to occur but propagation will be stopped...\nmyChildElement.onclick = function(e) { \n    e.stopPropagation();\n    console.log('prop stop! no bubbles!'); \n};\n\n//since propagation was stopped by the child element's onClick, this message will never be seen!\nmyChildElement.parentNode.onclick = function(e) { \n    console.log('you will never see this message!'); \n};\n</code></pre>\n\n<p>stopPropagation effectively stops parent elements from knowing about a given event on its child.  </p>\n\n<blockquote>\n  <p>While a simple stop  method allows us to quickly handle events, it's\n  important to think about what exactly you want to happen with\n  bubbling.  I'd bet that all a developer really wants is preventDefault\n  90% of the time!  Incorrectly \"stopping\" an event could cause you\n  numerous troubles down the line; your plugins may not work and your\n  third party plugins could be bricked.  Or worse yet -- your code\n  breaks other functionality on a site.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>From <a href=\"http://www.quirksmode.org/js/events_order.html\">quirksmode.org</a></p>\n\n<blockquote>\n\n<h3>Event capturing</h3>\n\n<p>When you use event capturing</p>\n\n<pre>\n               | |\n---------------| |-----------------\n| element1     | |                |\n|   -----------| |-----------     |\n|   |element2  \\ /          |     |\n|   -------------------------     |\n|        Event CAPTURING          |\n-----------------------------------\n</pre>\n\n<p>the event handler of element1 fires first, the event handler of element2 fires last.</p>\n\n<h3>Event bubbling</h3>\n\nWhen you use event bubbling\n\n<pre>\n               / \\\n---------------| |-----------------\n| element1     | |                |\n|   -----------| |-----------     |\n|   |element2  | |          |     |\n|   -------------------------     |\n|        Event BUBBLING           |\n-----------------------------------\n</pre>\n\n<p>the event handler of element2 fires first, the event handler of element1 fires last.</p>\n\n<p><em>Any event taking place in the W3C event model is first captured until it reaches the target element and then bubbles up again</em>.</p>\n\n<pre>\n                 | |  / \\\n-----------------| |--| |-----------------\n| element1       | |  | |                |\n|   -------------| |--| |-----------     |\n|   |element2    \\ /  | |          |     |\n|   --------------------------------     |\n|        W3C event model                 |\n------------------------------------------\n</pre>\n\n</blockquote>\n\n<p>From <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html\">w3.org</a></p>\n\n<blockquote>\n  <p>If the capturing EventListener wishes to prevent further processing of\n  the event from occurring it may call the stopProgagation method of the\n  Event interface. This will prevent further dispatch of the event,\n  although additional EventListeners registered at the same hierarchy\n  level will still receive the event. Once an event's stopPropagation\n  method has been called, further calls to that method have no\n  additional effect. If no additional capturers exist and\n  stopPropagation has not been called, the event triggers the\n  appropriate EventListeners on the target itself.</p>\n</blockquote>\n\n<p>And for bubbling:</p>\n\n<blockquote>\n  <p>Any event handler may choose to prevent further event propagation by\n  calling the stopPropagation method of the Event interface. If any\n  EventListener calls this method, all additional EventListeners on the\n  current EventTarget will be triggered but bubbling will cease at that\n  level. Only one call to stopPropagation is required to prevent further\n  bubbling.</p>\n</blockquote>\n\n<p><strong>Examples</strong>:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div id=\"a\"&gt;\n    &lt;a id=\"b\" href=\"http://www.google.com\" target=\"_blank\"&gt;google.com&lt;/a&gt;\n&lt;/div&gt;\n&lt;p id=\"c\"&gt;&lt;/p&gt;\n</code></pre>\n\n<p><strong>JavaScript</strong></p>\n\n<pre><code>var el = document.getElementById(\"c\");\nfunction captureOnClickA(e){\n    el.innerHTML += \"DIV event capture&lt;br&gt;\";\n}\nfunction captureOnClickB(e){\n    el.innerHTML += \"A event capture&lt;br&gt;\";\n}\nfunction bubblingOnClickA(e){\n    el.innerHTML += \"DIV event bubbling&lt;br&gt;\";\n}\nfunction bubblingOnClickB(e){\n    el.innerHTML += \"A event bubbling&lt;br&gt;\";\n}\ndocument.getElementById(\"a\").addEventListener(\"click\",captureOnClickA, true);\ndocument.getElementById(\"b\").addEventListener(\"click\",captureOnClickB, true);\ndocument.getElementById(\"a\").addEventListener(\"click\",bubblingOnClickA, false);\ndocument.getElementById(\"b\").addEventListener(\"click\",bubblingOnClickB, false);\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/wAr74/\">Demo</a>, In this example four event listener are executed, and a new tab is opened in the brower. The output is:</p>\n\n<pre><code>DIV event capture\nA event capture\nA event bubbling\nDIV event bubbling\n</code></pre>\n\n<p>Changing the first function to:</p>\n\n<pre><code>function captureOnClickA(e){\n    el.innerHTML += \"DIV event capture&lt;br&gt;\";\n    e.stopPropagation();\n}\n</code></pre>\n\n<p>Will result in this output:</p>\n\n<pre><code>DIV event capture\n</code></pre>\n\n<p>which means downward propagation of the event is stopped and also its upward propagation. <a href=\"http://jsfiddle.net/wAr74/1/\">Demo</a>. But it won't prevent the tab from opening.</p>\n\n<p>Adding <code>stopPropagation()</code> to </p>\n\n<pre><code>function captureOnClickB(e){\n    el.innerHTML += \"A event capture&lt;br&gt;\";\n    e.stopPropagation();\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/wAr74/2/\">Demo</a>, or</p>\n\n<pre><code>function bubblingOnClickB(e){\n    el.innerHTML += \"A event bubbling&lt;br&gt;\";\n    e.stopPropagation();\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/wAr74/3/\">Demo</a>, Will result in the same output because they are on the current EventTarget:</p>\n\n<pre><code>DIV event capture\nA event capture\nA event bubbling\n</code></pre>\n\n<p>In these two cases, the event prevented from bubbling up to the parent. Also these two won't prevent the tab from opening.\nTo prevent the tab from opening we need to use <code>preventDefault()</code> to prevent the default browser action:</p>\n\n<pre><code>function captureOnClickA(e){\n    el.innerHTML += \"DIV event capture&lt;br&gt;\";\n    e.stopPropagation();\n    e.preventDefault();\n}\n</code></pre>\n\n<p>Now the tab won't open and only one of the event listener will be executed. <a href=\"http://jsfiddle.net/wAr74/4/\">Demo</a>.</p>\n",
                    "is_accepted": false,
                    "score": 32
                }
            ],
            "body": "<p>They seem to be doing the same thing... Is one modern and one old? Or are they supported by different browsers?</p>\n\n<p>When I handle events myself (without framework) I just always check for both and execute both if present. (I also <code>return false</code>, but I have the feeling that doesn't work with events attached with <code>node.addEventListener</code>).</p>\n\n<p>So why both? Should I keep checking for both? Or is there actually a difference?</p>\n\n<p>(I know, a lot of questions, but they're all sort of the same =))</p>\n",
            "last_activity_date": 1415279645,
            "question_id": 5963669,
            "score": 192,
            "tags": [
                "javascript",
                "events",
                "preventdefault",
                "stoppropagation"
            ],
            "title": "What&#39;s the difference between event.stopPropagation and event.preventDefault?"
        },
        {
            "answer_count": 17,
            "answers": [
                {
                    "body": "<pre><code>setTimeout(function() {\n    postinsql(topicId);\n}, 4000)\n</code></pre>\n\n<p>You need to feed an anonymous function as a parameter instead of a string, the latter method shouldn't even work per the ECMAScript specification but browsers are just lenient. This is the proper solution, don't ever rely on passing a string as a 'function' when using <code>setTimeout()</code> or <code>setInterval()</code>, it's slower because it has to be evaluated and it just isn't right.</p>\n",
                    "is_accepted": true,
                    "score": 460
                },
                {
                    "body": "<p>Replace </p>\n\n<pre><code> setTimeout(\"postinsql(topicId)\", 4000);\n</code></pre>\n\n<p>with</p>\n\n<pre><code> setTimeout(\"postinsql(\" + topicId + \")\", 4000);\n</code></pre>\n\n<p>or better still, replace the string expression with an anonymous function</p>\n\n<pre><code> setTimeout(function () { postinsql(topicId); }, 4000);\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Brownstone's comment is incorrect, this will work as intended, as demonstrated by running this in the Firebug console</p>\n\n<pre><code>(function() {\n  function postinsql(id) {\n    console.log(id);\n  }\n  var topicId = 3\n  window.setTimeout(\"postinsql(\" + topicId + \")\",4000); // outputs 3 after 4 seconds\n})();\n</code></pre>\n\n<p>Note that I'm in agreeance with others that you should avoid passing a string to <code>setTimeout</code> as this will call <code>eval()</code> on the string and instead pass a function.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I think you want:</p>\n\n<pre><code>setTimeout(\"postinsql(\" + topicId + \")\", 4000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Note that the reason topicId was \"not defined\" per the error message is that it existed as a local variable when the setTimeout was executed, but not when the delayed call to postinsql happened. Variable lifetime is especially important to pay attention to, especially when trying something like passing \"this\" as an object reference.</p>\n\n<p>I heard that you can pass topicId as a third parameter to the setTimeout function. Not much detail is given but I got enough information to get it to work, and it's successful in Safari. I don't know what they mean about the \"millisecond error\" though. Check it out here:</p>\n\n<p><a href=\"http://www.howtocreate.co.uk/tutorials/javascript/timers\" rel=\"nofollow\">http://www.howtocreate.co.uk/tutorials/javascript/timers</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In modern browsers, the \"setTimeout\" receives a third parameter that is sent as parameter to the internal function at the end of the timer.</p>\n\n<p>Example:</p>\n\n<pre><code>var hello = \"Hello World\";\nsetTimeout(alert, 1000, hello);\n</code></pre>\n\n<p>More details:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers.setTimeout\">https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers.setTimeout</a></li>\n<li><a href=\"http://arguments.callee.info/2008/11/10/passing-arguments-to-settimeout-and-setinterval/\">http://arguments.callee.info/2008/11/10/passing-arguments-to-settimeout-and-setinterval/</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 186
                },
                {
                    "body": "<p>My problem with the prescribed method is that the function doesn't capture the value in memory at the time of the call, but references memory AFTER all the setTimeout methods have been queues. So in this example:</p>\n\n<pre><code>setTimeout(function() {\n    postinsql(topicId);\n}, 4000)\n</code></pre>\n\n<p>If <code>topicId</code> increments over time, only the LAST value will be used for ALL the calls. Not good.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>After doing some research and testing, the only correct implementation is:</p>\n\n<pre><code>setTimeout(yourFunctionReference, 4000, param1, param2, paramN);\n</code></pre>\n\n<p>setTimeout will pass all extra parameters to your function so they can be processed there.</p>\n\n<p>The anonymous function can work for very basic stuff, but within instance of a object where you have to use \"this\", there is no way to make it work.\nAny anonymous function will change \"this\" to point to window, so you will lose your object reference.</p>\n",
                    "is_accepted": false,
                    "score": 51
                },
                {
                    "body": "<p>This is a very old question with an already \"correct\" answer but I thought I'd mention another approach that nobody has mentioned here. This is copied and pasted from the excellent underscore library:</p>\n\n<pre><code>_.delay = function(func, wait) {\n  var args = slice.call(arguments, 2);\n  return setTimeout(function(){ return func.apply(null, args); }, wait);\n};\n</code></pre>\n\n<p>You can pass as many arguments as you'd like to the function called by setTimeout <em>and</em> as an added bonus (well, usually a bonus) the value of the arguments passed to your function are frozen when you call setTimeout, so if they change value at some point between when setTimeout() is called and when it times out, well... that's not so hideously frustrating anymore :)</p>\n\n<p>Here's a fiddle where you can see what I mean - <a href=\"http://jsfiddle.net/thedavidmeister/7t2bV/\">http://jsfiddle.net/thedavidmeister/7t2bV/</a></p>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>@Jiri Vetyska thanks for the post, but there is something wrong in your example.\nI needed to pass the target which is hovered out (this) to a timed out function and I tried your approach. Tested in IE9 - does not work. \nI also made some research and it appears that as pointed <a href=\"http://www.w3schools.com/jsref/met_win_settimeout.asp\" rel=\"nofollow\">here</a> the third parameter is the script language being used. No mention about additional parameters.</p>\n\n<p>So, I followed @meder's answer and solved my issue with this code:</p>\n\n<pre><code>$('.targetItemClass').hover(ItemHoverIn, ItemHoverOut);\n\nfunction ItemHoverIn() {\n //some code here\n}\n\nfunction ItemHoverOut() {\n    var THIS = this;\n    setTimeout(\n        function () { ItemHoverOut_timeout(THIS); },\n        100\n    );\n}\nfunction ItemHoverOut_timeout(target) {\n    //do something with target which is hovered out\n}\n</code></pre>\n\n<p>Hope, this is usefull for someone else.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Hobblin already commented this on the question, but it should be an answer really!</p>\n\n<p>Using <code>Function.prototype.bind()</code> is the cleanest and most flexible way to do this (with the added bonus of being able to set the <code>this</code> context):</p>\n\n<pre><code>setTimeout(postinsql.bind(null, topicId), 4000);\n</code></pre>\n\n<p>For more information see these MDN links:<br>\n<a href=\"https://developer.mozilla.org/en/docs/DOM/window.setTimeout#highlighter_547041\" rel=\"nofollow\">https://developer.mozilla.org/en/docs/DOM/window.setTimeout#highlighter_547041</a>\n<a href=\"https://developer.mozilla.org/en/docs/JavaScript/Reference/Global_Objects/Function/bind#With_setTimeout\" rel=\"nofollow\">https://developer.mozilla.org/en/docs/JavaScript/Reference/Global_Objects/Function/bind#With_setTimeout</a></p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>How i resolved this stage ?</p>\n\n<p>just like that :</p>\n\n<pre><code>setTimeout((function(_deepFunction ,_deepData){\n    var _deepResultFunction = function _deepResultFunction(){\n          _deepFunction(_deepData);\n    };\n    return _deepResultFunction;\n})(fromOuterFunction, fromOuterData ) , 1000  );\n</code></pre>\n\n<p>setTimeout wait a reference to a function, so i created it in a closure, which interprete my data and return a function with a good instance of my data !</p>\n\n<p>Maybe you can improve this part :</p>\n\n<pre><code>_deepFunction(_deepData);\n\n// change to something like :\n_deepFunction.apply(contextFromParams , args); \n</code></pre>\n\n<p>I tested it on chrome, firefox and IE and it execute well, i don't know about performance but i needed it to be working.</p>\n\n<p>a sample test : </p>\n\n<pre><code>myDelay_function = function(fn , params , ctxt , _time){\nsetTimeout((function(_deepFunction ,_deepData, _deepCtxt){\n            var _deepResultFunction = function _deepResultFunction(){\n                //_deepFunction(_deepData);\n                _deepFunction.call(  _deepCtxt , _deepData);\n            };\n        return _deepResultFunction;\n    })(fn , params , ctxt)\n, _time) \n};\n\n// the function to be used :\nmyFunc = function(param){ console.log(param + this.name) }\n// note that we call this.name\n\n// a context object :\nmyObjet = {\n    id : \"myId\" , \n    name : \"myName\"\n}\n\n// setting a parmeter\nmyParamter = \"I am the outer parameter : \";\n\n//and now let's make the call :\nmyDelay_function(myFunc , myParamter  , myObjet , 1000)\n\n// this will produce this result on the console line :\n// I am the outer parameter : myName\n</code></pre>\n\n<p>Maybe you can change the signature to make it more complient :</p>\n\n<pre><code>myNass_setTimeOut = function (fn , _time , params , ctxt ){\nreturn setTimeout((function(_deepFunction ,_deepData, _deepCtxt){\n            var _deepResultFunction = function _deepResultFunction(){\n                //_deepFunction(_deepData);\n                _deepFunction.apply(  _deepCtxt , _deepData);\n            };\n        return _deepResultFunction;\n    })(fn , params , ctxt)\n, _time) \n};\n\n// and try again :\nfor(var i=0; i&lt;10; i++){\n   myNass_setTimeOut(console.log ,1000 , [i] , console)\n}\n</code></pre>\n\n<p>And finaly to answer the original question :</p>\n\n<pre><code> myNass_setTimeOut( postinsql, 4000, topicId );\n</code></pre>\n\n<p>Hope it can help ! </p>\n\n<p>ps : sorry but english it's not my mother tongue !</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I recently came across the unique situation of needing to use a <code>setTimeout</code> in a <strong>loop</strong>. For anyone looking at this question wondering this, here are some examples of how you can achieve this...</p>\n\n<p><strong>Method 1</strong></p>\n\n<p>Use <code>bind</code>:</p>\n\n<pre><code>var testObject = {\n    prop1: 'test1',\n    prop2: 'test2',\n    prop3: 'test3'\n};\n\nvar i = 0;\nfor (var propertyName in testObject) {\n    setTimeout(function(propertyName) {\n        console.log(testObject[propertyName]);\n    }.bind(this, propertyName), i++ * 1000);\n}\n</code></pre>\n\n<p>JSFiddle: <a href=\"http://jsfiddle.net/MsBkW/\" rel=\"nofollow\">http://jsfiddle.net/MsBkW/</a></p>\n\n<p><strong>Method 2</strong></p>\n\n<p>Use <code>forEach</code> and <code>Object.keys</code>, as per Sukima's <a href=\"http://stackoverflow.com/questions/1190642/how-can-i-pass-a-parameter-to-a-settimeout-callback/17557081#comment38174668_17557081\">suggestion</a>:</p>\n\n<pre><code>Object.keys(testObject).forEach(function(propertyName, i) {\n    setTimeout(function() {\n        console.log(testObject[propertyName]);\n    }, i * 1000);\n});\n</code></pre>\n\n<p><strong>Method 3</strong></p>\n\n<p>Or if you can't use <code>forEach</code> or <code>bind</code>, use an <a href=\"http://en.wikipedia.org/wiki/Immediately-invoked_function_expression\" rel=\"nofollow\">IIFE</a>:</p>\n\n<pre><code>var i = 0;\nfor (var propertyName in testObject) {\n    setTimeout((function(propertyName) {\n        return function() {\n            console.log(testObject[propertyName]);\n        };\n    })(propertyName), i++ * 1000);\n}\n</code></pre>\n\n<p><strong>Method 4</strong></p>\n\n<p>But if you don't care about IE, then you can use Juri's <a href=\"http://stackoverflow.com/a/13148281/188246\">suggestion</a>:</p>\n\n<pre><code>var i = 0;\nfor (var propertyName in testObject) {\n    setTimeout(function(propertyName) {\n        console.log(testObject[propertyName]);\n    }, i++ * 1000, propertyName);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I know it's old but I wanted to add my (preferred) flavour to this.</p>\n\n<p>I think a pretty readable way to achieve this is to pass the <code>topicId</code> to a function, which in turn uses the argument to reference the topic ID internally. This value won't change even if <code>topicId</code> in the outside will be changed shortly after.</p>\n\n<pre><code>var topicId = xmlhttp.responseText;\nvar fDelayed = function(tid) {\n  return function() {\n    postinsql(tid);\n  };\n}\nsetTimeout(fDelayed(topicId),4000);\n</code></pre>\n\n<p>or short:</p>\n\n<pre><code>var topicId = xmlhttp.responseText;\nsetTimeout(function(tid) {\n  return function() { postinsql(tid); };\n}(topicId), 4000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>As there is a problem with the third optonal parameter in IE and using closures prevents us from changing the variables (in a loop for example) and still achieving the desired result, I suggest the following solution.</p>\n\n<p>We can try using recursion like this:</p>\n\n<pre><code>var i = 0;\nvar hellos = [\"Hello World1!\", \"Hello World2!\", \"Hello World3!\", \"Hello World4!\", \"Hello World5!\"];\n\nif(hellos.length &gt; 0) timeout();\n\nfunction timeout() {                \n    document.write('&lt;p&gt;' + hellos[i] + '&lt;p&gt;');\n    i++;\n    if (i &lt; hellos.length)\n        setTimeout(timeout, 500);\n}\n</code></pre>\n\n<p>We need to make sure that nothing else changes these variables and that we write a proper recursion condition to avoid infinite recursion.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Some answers are correct but convoluted.</p>\n\n<p>I am answering this again, 4 years later, because I still run into overly complex code to solve exactly this question. There IS an elegant solution.</p>\n\n<p>First of all, do not pass in a string as the first parameter when calling setTimeout because it effectively invokes a call to the slow \"eval\" function.</p>\n\n<p>So how do we pass in a parameter to a timeout function? By using closure:</p>\n\n<pre><code>settopic=function(topicid){\n  setTimeout(function(){\n    //thanks to closure, topicid is visible here\n    postinsql(topicid);\n  },4000);\n}\n\n...\nif (xhr.readyState==4){\n  settopic(xhr.responseText);\n}\n</code></pre>\n\n<p>Some have suggested using anonymous function when calling the timeout function:</p>\n\n<pre><code>if (xhr.readyState==4){\n  setTimeout(function(){\n    settopic(xhr.responseText);\n  },4000);\n}\n</code></pre>\n\n<p>The syntax works out. But by the time settopic is called, i.e. 4 seconds later, the XHR object may not be the same. Therefore it's important to <a href=\"http://stackoverflow.com/a/21213598/3211356\">pre-bind the variables</a>.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The answer by David Meister seems to take care of parameters that may change immediately after the call to setTimeout() but before the anonymous function is called. But it's too cumbersome and not very obvious. I discovered an elegant way of  doing pretty much the same thing using IIFE (immediately inviked function expression).</p>\n\n<p>In the example below, the <code>currentList</code> variable is passed to the IIFE, which saves it in its closure, until the delayed function is invoked. Even if the variable <code>currentList</code> changes immediately after the code shown, the <code>setInterval()</code> will do the right thing.</p>\n\n<p>Without this IIFE technique, the <code>setTimeout()</code> function will definitely get called for each <code>h2</code> element in the DOM, but all those calls will see only the text value of the <strong>last</strong> <code>h2</code> element.</p>\n\n<pre><code>&lt;script&gt;\n  // Wait for the document to load.\n  $(document).ready(function() {\n  $(\"h2\").each(function (index) {\n\n    currentList = $(this).text();\n\n    (function (param1, param2) {\n        setTimeout(function() {\n            $(\"span\").text(param1 + ' : ' + param2 );\n        }, param1 * 1000);\n\n    })(index, currentList);\n  });\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>this works in all browsers (IE is an oddball)</p>\n\n<pre><code>setTimeout( (function(x) {\nreturn function() {\n        postinsql(x);\n    };\n})(topicId) , 4000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have some JavaScript code that looks like:</p>\n\n<pre><code>function statechangedPostQuestion()\n{\n  //alert(\"statechangedPostQuestion\");\n  if (xmlhttp.readyState==4)\n  {\n    var topicId = xmlhttp.responseText;\n    setTimeout(\"postinsql(topicId)\",4000);\n  }\n}\n\nfunction postinsql(topicId)\n{\n  //alert(topicId);\n}\n</code></pre>\n\n<p>I get a error that <code>topicId</code> is not defined\nEverything was working before i used the <code>setTimeout()</code> function. </p>\n\n<p>I want my <code>postinsql(topicId)</code> function to be called after some time. \nWhat should i do?</p>\n",
            "last_activity_date": 1420473397,
            "question_id": 1190642,
            "score": 286,
            "tags": [
                "javascript",
                "parameters",
                "callback",
                "settimeout"
            ],
            "title": "How can I pass a parameter to a setTimeout() callback?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>From your referenced page:</p>\n\n<p><a href=\"http://googlecode.blogspot.com/2009/12/google-analytics-launches-asynchronous.html\" rel=\"nofollow\">http://googlecode.blogspot.com/2009/12/google-analytics-launches-asynchronous.html</a></p>\n\n<blockquote>\n  <p>Firefox 3.6 is the first browser to officially offer support for this new feature. If you're curious, here are more details on the official <a href=\"http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async\" rel=\"nofollow\">HTML5 async specification</a>. </p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>The async support as specified by google is achieved using two parts:</p>\n\n<ul>\n<li><p>using script on your page (the script is supplied by google) to write out a &lt;script&gt; tag to the DOM.</p></li>\n<li><p>that script has async=\"true\" attribute to signal to compatible browsers that it can continue rendering the page.</p></li>\n</ul>\n\n<p>The first part works on browsers without support for <code>&lt;script async..</code> tags, allowing them to load async with a \"hack\" (although a pretty solid one), and also allows rendering the page without waiting for ga.js to be retrieved.   </p>\n\n<p>The second part only affects compatible browsers that understand the async <em>html attribute</em></p>\n\n<ul>\n<li>FF    3.6+  </li>\n<li>FF for Android All Versions</li>\n<li>IE    10+  (starting with preview 2)</li>\n<li>Chrome 8+ </li>\n<li>Chrome For Android All versions</li>\n<li>Safari 5.0+</li>\n<li>iOS Safari 5.0+</li>\n<li>Android Browser 3.0+ (honeycomb on up)</li>\n<li>Opera 15.0+</li>\n<li>Opera Mobile 16.0+</li>\n<li>Opera Mini <em>None</em> (as of 8.0)</li>\n</ul>\n\n<p>The \"html5 proper\" way to specify async is with a  <code>&lt;script async src=\"...\"</code>, not <code>&lt;script async=\"true\"</code>.   However, initially browsers did not support this syntax, nor did they support setting the script property on referenced elements.  If you want this, the list changes:</p>\n\n<ul>\n<li>FF 4+</li>\n<li>IE 10+ (preview 2 and up)</li>\n<li>Chrome 12+</li>\n<li>Chrome For Android 32+</li>\n<li>Safari 5.1+</li>\n<li>No android versions</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 116
                },
                {
                    "body": "<p>You can also look at the <a href=\"http://www.browserscope.org/?category=network\" rel=\"nofollow\">Browserscope network</a> tests for current browser support.  There is an \"Async Scripts\" column.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There's two parts to this question, really.</p>\n\n<ol>\n<li><p>Q: Which browsers support the \"async\" attribute on a script tag in markup?</p>\n\n<p>A: IE10p2+, Chrome 11+, Safari 5+, Firefox 3.6+</p></li>\n<li><p>Q: Which browsers support the new spec that defines behavior for the \"async\" <em>property</em> in JavaScript, on a dynamically created script element?</p>\n\n<p>A: IE10p2+, Chrome 12+, Safari 5.1+, Firefox 4+</p></li>\n</ol>\n\n<p>As for Opera, they are very close to releasing a version which will support both types of async. I've been working with them closely on this, and it should come out soon (I hope!).</p>\n\n<p>More info on ordered-async (aka, \"async=false\") can be found here: <a href=\"http://wiki.whatwg.org/wiki/Dynamic_Script_Execution_Order\">http://wiki.whatwg.org/wiki/Dynamic_Script_Execution_Order</a></p>\n\n<p>Also, to test if a browser supports the new dynamic async property behavior: <a href=\"http://test.getify.com/test-async/\">http://test.getify.com/test-async/</a></p>\n",
                    "is_accepted": false,
                    "score": 54
                },
                {
                    "body": "<p>A comprehensive list of browser versions supporting the <code>async</code> parameter is available here: <a href=\"http://caniuse.com/#search=async\">http://caniuse.com/#search=async</a></p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>This is a nice and clear demo of async: <a href=\"http://ie.microsoft.com/testdrive/Performance/AsyncScripts/Default.html\" rel=\"nofollow\">http://ie.microsoft.com/testdrive/Performance/AsyncScripts/Default.html</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can keep track of which browsers support async (and defer) in the MDN website here:<br>\n<a href=\"https://developer.mozilla.org/en-US/docs/HTML/Element/script\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/HTML/Element/script</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Just had a look at the DOM (document.scripts[1].attributes) of this page that uses google analytics.\nI can tell you that google is using async=\"\".</p>\n\n<pre><code>[type=\"text/javascript\", async=\"\", src=\"http://www.google-analytics.com/ga.js\"]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>On December 1, 2009, Google announced support for <a href=\"http://googlecode.blogspot.com/2009/12/google-analytics-launches-asynchronous.html\">asynchronous Google Analytics tracking</a>.</p>\n\n<p>The asynchronous tracking is achieved using the async directive for the <code>&lt;script&gt;</code> tag.</p>\n\n<p><b>Which browsers support the async directive (<code>&lt;script async=\"async\" /&gt;</code>) and since which version?</b></p>\n",
            "last_activity_date": 1420044016,
            "question_id": 1834077,
            "score": 146,
            "tags": [
                "javascript",
                "html",
                "performance",
                "asynchronous",
                "google-analytics"
            ],
            "title": "Which browsers support &lt;script async=&quot;async&quot; /&gt;?"
        }
    ]
}
