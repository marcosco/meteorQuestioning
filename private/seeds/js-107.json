{
    "items": [
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Ember Documentation on the model hook: </p>\n\n<blockquote>\n  <p>\"A hook you can implement to convert the URL into the model for this\n  route.\"</p>\n</blockquote>\n\n<p>This explains why the model hook is just called on page refresh. But this confuses a lot of people :-). So, this is not the right hook in this case. I think you should use the setupController hook for this case. Try this:</p>\n\n<pre><code>App.PlaceRoute = Ember.Route.extend({\n    setupController: function (controller, model) {\n        console.log('place route called');\n\n        var place;\n        $.getJSON('https://api.foursquare.com/v2/venues/' + model.get('place_id') + '?client_id=nnn&amp;client_secret=nnn',\n            function (data) {\n                var v = data.response.venue;\n                place = App.Place.create({ id: v.id, name: v.name, lat: v.location.lat, lng: v.location.lng });\n            });\n\n        controller.set(\"model\", place);\n    }\n});\n</code></pre>\n\n<p>Additional 2 cents from myself: <strong>Why is the model hook just executed, when the app is entered via URL/direct browser navigation?</strong></p>\n\n<p>Ember has the assumption, that you do not necessarily make a call to the model hook, if you use <code>{{linkTo}}</code>. In your places template you use <code>{{#linkTo 'place' place}} {{place.name}} {{/linkTo}}</code>. You are passing a place object to your route. <strong>Ember assumes that this is the same object, that you would get when executing your model hook.</strong> So from Embers View there is no need to call the model hook. So if you want to perform retrieval logic even when you use <code>linkTo</code>, use the <code>setupController hook</code>.</p>\n",
                    "is_accepted": true,
                    "score": 30
                },
                {
                    "body": "<p>Based on mavilein's answer, but shorter and suitable for Ember CLI with Ember Data...</p>\n\n<pre><code>import Ember from 'ember';\n\nexport default Ember.Route.extend({\n  setupController: function( controller, model ) {\n    controller.set( \"model\", this.store.fetch( 'place', model.id ) );\n  },\n});\n</code></pre>\n\n<p>Also note that the fetch method is only available from Ember Data 1.0.0-beta.12.</p>\n\n<p><a href=\"http://emberjs.com/api/data/classes/DS.Store.html#method_fetch\" rel=\"nofollow\">http://emberjs.com/api/data/classes/DS.Store.html#method_fetch</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I just started learning EMber.js (bought the PeepCode screencast), and am learning quite smoothly from it, but ran into a problem when trying to write my first Ember app.</p>\n\n<p>Here's the (nested) route mapping:</p>\n\n<pre><code>App.Router.map(function () {\n    this.resource('bases', { path: '/' }, function () {\n        this.resource('base', { path: ':base_id' }, function () {\n            this.resource('places', function () {\n                this.resource('place', { path: ':place_id' });\n            });\n        });\n    });\n});\n</code></pre>\n\n<p>This allows urls like this: domain.com/#/yokota-ab-japan/places/4c806eabd92ea093ea2e3872</p>\n\n<p><code>yokota-ab-japan</code> is the id of a base (an Air Force base in Japan)\n<code>4c806eabd92ea093ea2e3872</code> is the id of a venue on Foursquare</p>\n\n<p>When the places route is hit, I setup the data with a call to the foursquare api, iterate over the json to create an array of App.Place objects, and return that array.</p>\n\n<pre><code>App.PlacesRoute = Ember.Route.extend({\n    model: function () {\n        var placesData = Ember.A();\n        $.getJSON('https://api.foursquare.com/v2/venues/search?ll=35.744771,139.349456&amp;query=ramen&amp;client_id=nnn&amp;client_secret=nnn&amp;v=20120101',\n            function (data) {\n                $.each(data.response.venues, function (i, venues) {\n                    placesData.addObject(App.Place.create({ id: venues.id, name: venues.name, lat: venues.location.lat, lng: venues.location.lng }));\n                });\n            });\n\n        return placesData;\n    }\n});\n</code></pre>\n\n<p>That seems to work well. I display the placesData array using this template:</p>\n\n<pre><code>&lt;script type=\"text/x-handlebars\" data-template-name=\"places\"&gt;\n    &lt;div&gt;\n        {{#each place in controller}}\n            {{#linkTo 'place' place}}\n                {{place.name}}\n            {{/linkTo}}\n        {{/each}}\n    &lt;/div&gt;\n\n    {{outlet}}\n&lt;/script&gt;\n</code></pre>\n\n<p>The <code>linkTo</code> links to the individual place, where I want to show more details about a place. Here's the route I setup to pull data about the single place, populate a single App.Place object, and return it:</p>\n\n<pre><code>App.PlaceRoute = Ember.Route.extend({\n    model: function (params) {\n        console.log('place route called');\n\n        var place;\n        $.getJSON('https://api.foursquare.com/v2/venues/' + params.place_id + '?client_id=nnn&amp;client_secret=nnn',\n            function (data) {\n                var v = data.response.venue;\n                place = App.Place.create({ id: v.id, name: v.name, lat: v.location.lat, lng: v.location.lng });\n            });\n\n        return place;\n    }\n});\n</code></pre>\n\n<p><strong>My problem is, <code>PlaceRoute</code> doesn't get called when the user clicks a link to it, but it does get called when the page is refreshed on this route.</strong></p>\n\n<p>According to the PeepCode Ember.js screencast (at ~12:25 into the video) it states that \"controllers rarely ever make calls to data, route objects handle that\", so I think I'm correct in putting my ajax calls in the routes (I've seen so many differing tutorials online, but since Peepcode consulted with the Ember.js creators, I went with it as my primary learning source).</p>\n\n<p>If this isn't correct, or could be done better, please let me know.</p>\n",
            "last_activity_date": 1417800400,
            "question_id": 15678817,
            "score": 18,
            "tags": [
                "javascript",
                "ajax",
                "json",
                "model-view-controller",
                "ember.js"
            ],
            "title": "Why isn&#39;t my ember.js route model being called?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>According to the doc: <a href=\"http://developer.android.com/reference/android/webkit/WebView.html\">Android doc</a>\nSince Android 4.2 you have to annotate your method with @JavascriptInterface (and your method has to be public).</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>From the Android 4.2 documentation:</p>\n\n<blockquote>\n  <p>Caution: If you've set your targetSdkVersion to 17 or higher, you must add the @JavascriptInterface annotation to any method that you want available your web page code (the method must also be public). If you do not provide the annotation, then the method will not accessible by your web page when running on Android 4.2 or higher.</p>\n</blockquote>\n\n<p>Source: <a href=\"http://developer.android.com/guide/webapps/webview.html\">Android WebView Doc</a></p>\n",
                    "is_accepted": true,
                    "score": 40
                },
                {
                    "body": "<p>And, if you are using Proguard, remember to add this</p>\n\n<pre><code>-keepclassmembers class * {\n    @android.webkit.JavascriptInterface &lt;methods&gt;;\n}\n\n-keepattributes JavascriptInterface\n-keep public class com.mypackage.MyClass$MyJavaScriptInterface\n-keep public class * implements com.mypackage.MyClass$MyJavaScriptInterface\n-keepclassmembers class com.mypackage.MyClass$MyJavaScriptInterface { \n    &lt;methods&gt;; \n}\n</code></pre>\n\n<p>If it's still not OK, add this</p>\n\n<pre><code>-keepattributes *Annotation*\n</code></pre>\n\n<p>Note: your MyJavaScriptInterface must be Public class</p>\n\n<p>Ref#: <a href=\"http://stackoverflow.com/questions/6271485/android-proguard-javascript-interface-fail?rq=1\">Android Proguard Javascript Interface Fail</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Proguard config that works for me with target API 17+:</p>\n\n<pre><code>-keep @interface android.webkit.JavascriptInterface\n-keepclassmembers class * {\n    @android.webkit.JavascriptInterface &lt;methods&gt;;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am facing a serious bug of android OS Jelly Bean 4.2, here in my program I am using JavaScript to get the height of webpage and it is perfectly working from android 2.2 to 4.1 but when I tried to use the same code in android 4.2 so the JavaScript interface not working.</p>\n\n<p>How can I fix this issue?</p>\n",
            "last_activity_date": 1407190037,
            "question_id": 13775320,
            "score": 18,
            "tags": [
                "javascript",
                "android",
                "css",
                "webview"
            ],
            "title": "Javascript interface not working with android 4.2"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>When you use <code>.on()</code> at the document level, you're waiting for the event to bubble all the way up to that point. The event handler for any intermediate container will already have been called.</p>\n\n<p>Event \"bubbling\" is the process by which the browser looks for event handlers registered with parents of the element that was the actual original recipient of the event. It works upwards in the DOM tree.  The document level is the <strong>last</strong> level checked.  Thus, your handler registered with <code>.on()</code> won't run until that level is reached. In the meantime, the other event handler at the \"outer\" level is reached first and it is executed by the browser.</p>\n\n<p>Thus, that <code>return false;</code> in the handler registered with <code>.on()</code> is pretty much useless, as would be a call to <code>event.stopPropagation()</code>. Beyond that, mixing native event handler registration with the work that a library like jQuery will do is probably a really bad idea unless you seriously know what you're doing.</p>\n\n<p>There was <a href=\"http://stackoverflow.com/questions/8995008/jquery-on-stoppropagation-not-working\">a question asked almost exactly like this one</a> just a little while ago today.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>Look at the <code>addEventListener</code> version:</p>\n\n<pre><code>document.getElementById('outer').addEventListener('mouseup', function (event) {\n    alert('This alert should not show up!');\n}, false);\n</code></pre>\n\n<p>That works fine because the third argument is <code>useCapture</code>, which specifies whether or not the capture phase of the event should be used.</p>\n\n<p>When you switch to the jQuery version:</p>\n\n<pre><code>$('#outer').on('mouseup', function (event) {\n    alert('This alert should not show up!');\n}, false);\n</code></pre>\n\n<p>I think what is happening is the third argument simply <em>overrides</em> your event handler function and causes the event handler to do nothing but <code>return false;</code> which is clearly not what is meant to happen.</p>\n\n<p>From the <a href=\"http://api.jquery.com/on/\">jQuery docs</a> (emphasis added):</p>\n\n<blockquote>\n  <p>A function to execute when the event is triggered. <strong>The value false is\n  also allowed as a shorthand for a function that simply does return\n  false</strong>.</p>\n</blockquote>\n\n<p>Remove the <code>false</code> argument and the jQuery version will work correctly too:</p>\n\n<pre><code>$('#outer').on('mouseup', function (event) {\n    alert('This alert should not show up!');\n});\n</code></pre>\n\n<p>Note that the <code>alert</code> <em>should</em> show up, so the <code>addEventListener</code> approach is working correctly. See @Pointy's answer for why that is.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>Can someone explain me why is there a difference in the order in which the event handlers are being executed depending on how they have been attached? In the example below I'm using the <code>.on()</code> and <code>.addEventListener()</code> methods to handle a specific event on different <code>DOM</code> elements.</p>\n\n<p><strong>jsfiddle</strong>: <a href=\"http://jsfiddle.net/etsS2/\">http://jsfiddle.net/etsS2/</a></p>\n\n<p>I thought that in this particular example the order in which the event handlers are going to be executed will depend on the <code>event-bubbling</code> - so starting from the original event <code>target</code> and moving up to the <code>document</code> element.</p>\n\n<pre><code>document.getElementById('outer').addEventListener('mouseup', function (event) {\n//$('#outer').on('mouseup', function (event) {\n    alert('This alert should not show up!');\n}, false);\n</code></pre>\n\n<p>If I uncomment the <code>on();</code> version everything works as expected - is there a difference in how <code>jQuery</code> handles events contrary to plain <code>JavaScript</code>?</p>\n",
            "last_activity_date": 1327449790,
            "question_id": 8996015,
            "score": 18,
            "tags": [
                "javascript",
                "jquery",
                "event-handling"
            ],
            "title": "jQuery .on(); vs JavaScript .addEventListener();"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You have to set an unconventional parameter to get the SO API to work.  Rather than the conventional <code>callback</code>, you need to pass a <code>jsonp</code> parameter.</p>\n\n<p>Furthermore, you can't do <code>POST</code> with JSONP.</p>\n\n<pre><code>$.ajax({                                                                                                                                                                                                        \n    type: 'GET',                                                                                                                                                                                                 \n    url: 'http://api.stackoverflow.com/1.1/stats',                                                                                                                                              \n    dataType: 'jsonp',                                                                                                                                                                                                \n    success: function() { console.log('Success!'); },                                                                                                                                                                                       \n    error: function() { console.log('Uh Oh!'); },\n    jsonp: 'jsonp'                                                                                                                                                \n});\n</code></pre>\n\n<hr>\n\n<p>It is not possible to do cross-domain AJAX using the conventional XMLHTTPRequest.  This is for security reasons (it's call the same-origin policy).</p>\n\n<p>There is a workaround.  <code>script</code> tags are not subject to this restriction.  This means that you can insert a <code>script</code> tag into the document that calls a URL.  If you define a globally-accessible function in your script and tell the remote server what that function is called, the server can pass code that wraps the data to be sent in a call to that function.</p>\n\n<p>The difficulty you had here is with the StackOverflow API.  Conventionally, you would use the <code>callback</code> argument in your request, to tell the server what your function is called.  However, StackOverflow's API asks you to use the <code>jsonp</code> parameter instead.</p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>Try this URL: <a href=\"http://api.stackoverflow.com/1.1/stats?jsonp=callme\">http://api.stackoverflow.com/1.1/stats?jsonp=callme</a></p>\n\n<p>\"callme\" is the name of your callback function  - in your GLOBAL NAMESPACE (window object).</p>\n\n<p>By the way, if you are running Firefox and have the JSONView add-on installed you can test the above URL (and yours for comparison) directly.</p>\n\n<p>Result from calling the URL:</p>\n\n<pre><code>callme({\n  \"statistics\": [\n...\n  ]\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>So I'm trying to make a request to the Stack Exchange API with the following jQuery code:</p>\n\n<pre><code>$.ajax({                                                                                                                                                                                                        \n    type: 'POST',                                                                                                                                                                                                 \n    url: 'http://api.stackoverflow.com/1.1/stats',                                                                                                                                              \n    dataType: 'jsonp',                                                                                                                                                                                                \n    success: function() { console.log('Success!'); },                                                                                                                                                                                       \n    error: function() { console.log('Uh Oh!'); }                                                                                                                                                              \n});   \n</code></pre>\n\n<p>But when I open the file on my machine, in either FireFox or Chrome, and make the request, I get this error:</p>\n\n<pre><code>Resource interpreted as Script but transferred with MIME type application/json.\nUncaught SyntaxError: Unexpected token :\nUh Oh!\n</code></pre>\n\n<p>I don't have a clue what's going on. I know the Stack Exchange API Gzips its responses, would this cause any trouble? </p>\n",
            "last_activity_date": 1390173331,
            "question_id": 6046008,
            "score": 18,
            "tags": [
                "javascript",
                "ajax",
                "jquery",
                "stackexchange-api"
            ],
            "title": "JSONP request returning error: &quot;Uncaught SyntaxError: Unexpected token :&quot;"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p><strong>update</strong></p>\n\n<p>Since jQueryMobile beta2 there is an event to do this. <code>.trigger('create')</code> on an element to cause everything inside it to be painted correctly.</p>\n\n<p>Another question that is not a duplicate, but requires an answet I posted over 10 times :)</p>\n\n<p>[old answer]</p>\n\n<p>try <code>.page()</code></p>\n\n<p>More details in my faq:\n<a href=\"http://jquerymobiledictionary.pl/faq.html\">http://jquerymobiledictionary.pl/faq.html</a></p>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>I'm not sure if this helps but when adding dynamic elements I was using .page() in the sucess ajax call itself (example <a href=\"http://stackoverflow.com/questions/5597036/jqm-jquerymobile-problem-with-ajax-content-listviewrefresh-not-working\">here</a> and <a href=\"http://stackoverflow.com/questions/5249250/jqm-jquerymobile-dynamically-added-elements-not-displaying-correctly-and-css-is\">here</a>) but I found that it was not working as expected. I found that in the ajax call it's better to refresh the element (if it's a form element) to use <a href=\"http://jquerymobile.com/demos/1.0a4.1/#docs/forms/../../docs/forms/../../docs/forms/docs-forms.html\" rel=\"nofollow\">these documented methods</a>:</p>\n\n<ul>\n<li><p>Checkboxes:</p>\n\n<pre><code>$(\"input[type='checkbox']\").attr(\"checked\",true).checkboxradio(\"refresh\");\n</code></pre></li>\n<li><p>Radios:</p>\n\n<pre><code>$(\"input[type='radio']\").attr(\"checked\",true).checkboxradio(\"refresh\");\n</code></pre></li>\n<li><p>Selects:</p>\n\n<pre><code>var myselect = $(\"select#foo\");\nmyselect[0].selectedIndex = 3;\nmyselect.selectmenu(\"refresh\");\n</code></pre></li>\n<li><p>Sliders:</p>\n\n<pre><code>$(\"input[type=range]\").val(60).slider(\"refresh\");\n</code></pre></li>\n<li><p>Flip switches (they use slider):</p>\n\n<pre><code>var myswitch = $(\"select#bar\");\nmyswitch[0].selectedIndex = 1;\nmyswitch .slider(\"refresh\");\n</code></pre></li>\n</ul>\n\n<p>and for adding a non-form element use .page()</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I needed a way to dynamically refresh a JQM page after it had been initialized. I found that if I removed the data attribute \"page\" during the \"pagehide\" event, the next time the JQM page was displayed it was re-initialzed.</p>\n\n<pre><code>$('#testing').live('pagehide', function (e) {\n    $.removeData(e.target, 'page');\n}); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Refreshing the whole page worked for me:</p>\n\n<pre><code>$('#pageId').page('destroy').page();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>JQuery Mobile now supports .trigger(\"create\"); which will resolve this for you</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>$('#pageId').page('destroy').page(); \n</code></pre>\n\n<p>works for entire control groups that are generated, let alone radio input children.</p>\n\n<p>-Mike</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>For me only <code>.page()</code> worked (without the <code>.page('destroy')</code>).</p>\n\n<p>E.g.:</p>\n\n<pre><code>$('my-control-group-id').page();\n</code></pre>\n\n<p>Amnon</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try calling .trigger(\"create\") on the element with the new content.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I little bit off topic. I wanted to be able to stop jqm from creating first default page div on init as backbone wraps elements in divs anyway.  I wanted to dynamically insert pages to the DOM and then call jqm to create its classes and widgets. I finally did this like this: </p>\n\n<pre><code> &lt;head&gt;\n &lt;script src=\"jquery-1.8.3.js\"&gt;&lt;/script&gt;\n &lt;script type='javascript'&gt;\n $(document).on(\"mobileinit\", function () {  \n $.mobile.autoInitializePage = false;       \n }\n &lt;/script&gt;\n &lt;script src=\"jquery.mobile-1.3.0-beta.1.min.js\"&gt;&lt;/script&gt;\n &lt;/head&gt;\n &lt;body&gt;\n ....... dynamically add your content ..........\n\n &lt;script type='javascript'&gt;\n $.mobile.initializePage() \n &lt;/script&gt;\n &lt;/body&gt;\n</code></pre>\n\n<p>and my hole jqm config (which you put before jqm.js)</p>\n\n<pre><code>$(document).on(\"mobileinit\", function () {\n  $.mobile.ajaxEnabled = false;\n  $.mobile.hashListeningEnabled = false;\n  $.mobile.pushStateEnabled = false;\n  $.mobile.linkBindingEnabled = false; // delegating all the events to chaplin\n  $.mobile.changePage.defaults.changeHash = false;\n\n  $.mobile.defaultDialogTransition = \"none\";\n  $.mobile.defaultPageTransition = \"slidedown\";\n  $.mobile.page.prototype.options.degradeInputs.date = true;\n  $.mobile.page.prototype.options.domCache = false;\n  $.mobile.autoInitializePage = false;\n\n  $.mobile.ignoreContentEnabled=true;\n}); \n</code></pre>\n\n<p>So far Backbone and JQM been working fine. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It worked for me when I called .trigger('create') on the enclosing div element. See example below:</p>\n\n<p>In .html file:</p>\n\n<pre><code>&lt;div id=\"status-list\" data-role=\"fieldcontain\"&gt;\n    &lt;fieldset data-role=\"controlgroup\"&gt;\n        &lt;legend&gt;Choose as many snacks as you'd like:&lt;/legend&gt;\n            &lt;input type=\"checkbox\" name=\"checkbox-1a\" id=\"checkbox-1a\"/&gt;\n            &lt;label for=\"checkbox-1a\"&gt;Cheetos&lt;/label&gt;\n    &lt;/fieldset&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>in .js file:</p>\n\n<pre><code>$(\"#status-list\").trigger('create');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try use <strong>enhanceWithin()</strong> method. This should be method of any jQuery object while using jQuery Mobile.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm using jQuery Mobile and Backbone JS for a project. It's mostly working, using jQuery Mobile's event 'pagebeforeshow' to trigger the correct Backbone View. In the Backbone View for that particular jQuery Mobile page, that's where it's doing all the dynamic things needed. Some of the things the views do is pull in certain bits using Underscore's templating system.</p>\n\n<p>This is all great until where I pulling in form bits using the templating system. For example, a set of dynamic radio buttons (which are generated from a Backbone Collection). These radio buttons I want to style up using what jQuery Mobile has to offer. At the moment, jQuery Mobile is not picking up these dynamically injected radio buttons. I solved this issue previously when doing sliders by just calling the jQuery Mobile widget \"slider()\" method again and it seemed to refresh them... This doesn't seem to be the case with these radio buttons.</p>\n\n<p>In the Backbone View, I tried calling the widget methods again:</p>\n\n<pre><code>$(this.el).find(\"input[type='radio']\").checkboxradio();\n$(this.el).find(\":jqmData(role='controlgroup')\").controlgroup();\n</code></pre>\n\n<p>I tried them the other way around too, but it seemed I need to do it this way for the grouping styling to work etc. But this just doesn't seem right! ...doing this also caused errors when I clicked on the radio buttons, saying: \"cannot call methods on checkboxradio prior to initialization; attempted to call method 'refresh'\"?</p>\n\n<p>It seems there should be a way in jQuery Mobile to re-initialize the page or something?! I noticed there is a 'page' widget in the source code.</p>\n\n<p>How does jQuery Mobile handle forms/elements being injected into the DOM after the page is made? Is there a clean way of handling how it makes up the forms? There must be a clean way of calling on the forms to render 'the jQuery Mobile way' without it just relying on data attribute tags in the base HTML?</p>\n\n<p>Any help or insight into this problem would be greatly appreciated... I'm very much on this quest of trying to get Backbone JS and jQuery Mobile to work nicely together.</p>\n\n<p>Many thanks, James</p>\n",
            "last_activity_date": 1425285705,
            "question_id": 5651776,
            "score": 18,
            "tags": [
                "javascript",
                "jquery",
                "jquery-mobile",
                "backbone.js"
            ],
            "title": "jQuery Mobile rendering problems with content being added after the page is initialized"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Use a setTimeout function</p>\n\n<pre><code>$('.file a').live('mouseenter', function() {\nsetTimeout(function(){\n    $('#download').stop(true, true).fadeIn('fast');\n}, 1000);\n}).live('mouseleave', function() {\n    $('#download').stop(true, true).fadeOut('fast');\n});\n</code></pre>\n\n<p>setTimeout will execute the code inside the function after the specified miliseconds (in this case 1000). </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You need to use <a href=\"https://developer.mozilla.org/en/window.setTimeout\"><code>setTimeout()</code></a> in this case because of how <a href=\"http://api.jquery.com/delay/\"><code>.delay()</code></a> works (and your inability to cancel it).</p>\n\n<pre><code>$('.file a').live('mouseenter', function() {\n  $.data(this, 'timer', setTimeout(function() {\n      $('#download').stop(true, true).fadeIn('fast');\n  }, 1000));\n}).live('mouseleave', function() {\n  clearTimeout($.data(this, 'timer'));\n  $('#download').stop(true, true).fadeOut('fast');\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/nick_craver/5uUzE/\">You can give it a try here</a>.</p>\n\n<p>If you use <a href=\"http://api.jquery.com/delay/\"><code>.delay()</code></a> it'll dequeue the next animation for the element, <em>regardless of if you cleared that queue earlier</em>.  So you need a timeout that you <em>can</em> cancel, which the above does by manually calling <a href=\"https://developer.mozilla.org/en/window.setTimeout\"><code>setTimeout()</code></a> and storing the result with <a href=\"http://api.jquery.com/jQuery.data/\"><code>$.data()</code></a> so you can clear it later, via <a href=\"https://developer.mozilla.org/en/window.clearTimeout\"><code>clearTimeout()</code></a>.</p>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>you can use this on jquery without using delay event .</p>\n\n<pre><code>$('.file a').hover(function() {\n  time = setTimeout(function() {\n     $('#download').fadeIn();\n  },1000);\n},function(){\n    clearTimeout(time);\n});\n</code></pre>\n\n<p>1000 is your time that after it $('#download') will fade in .</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I was looking for the answer to a similar question, and I found that .animate() could also be used to handle this, and it obeys .stop()</p>\n\n<p>It would look something like this: </p>\n\n<pre><code>$('.file a').live('mouseenter', function() {\n    $('#download')\n        .stop(true, true)\n        .animate({opacity:0}, 1000);            // one second delay\n        .animate({opacity:1}, 'fast', 'swing');\n}).live('mouseleave', function() {\n    $('#download')\n        .stop(true, true)\n        .animate({opacity:0}, 'slow', 'swing');\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<pre><code>$('.file a').live('mouseenter', function() {\n    $('#download').stop(true, true).fadeIn('fast');\n}).live('mouseleave', function() {\n    $('#download').stop(true, true).fadeOut('fast');\n});\n</code></pre>\n\n<p>i want the mouseenter function to have a stop() and a DELAY of like a 1sec.\nSo if i hover over #download the fadeIn should start 1second delayed. If i mouseout meanwhile the fadeIn shouldn't start. Get me?</p>\n\n<p>I don't really know how to do that! any ideas?\nregards matt</p>\n",
            "last_activity_date": 1420736898,
            "question_id": 3329197,
            "score": 18,
            "tags": [
                "javascript",
                "jquery",
                "hover",
                "delay"
            ],
            "title": "delay() or timeout with stop()?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Assuming your html is defined like this:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html ng-app=\"sandbox-app\"&gt;\n&lt;head&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"todo.js\"&gt;&lt;/script&gt;\n    &lt;link rel=\"stylesheet\" href=\"todo.css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;Todo&lt;/h2&gt;\n&lt;div ng-controller=\"TodoCtrl\"&gt;\n    &lt;ol&gt;\n...\n    &lt;/ol&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>You can make your backend connect to a rest api using basic auth like this:</p>\n\n<pre><code>var app = angular.module('sandbox-app', []);\napp.config(function($httpProvider) {\n\n});\n\napp.factory('Base64', function() {\n    var keyStr = 'ABCDEFGHIJKLMNOP' +\n            'QRSTUVWXYZabcdef' +\n            'ghijklmnopqrstuv' +\n            'wxyz0123456789+/' +\n            '=';\n    return {\n        encode: function (input) {\n            var output = \"\";\n            var chr1, chr2, chr3 = \"\";\n            var enc1, enc2, enc3, enc4 = \"\";\n            var i = 0;\n\n            do {\n                chr1 = input.charCodeAt(i++);\n                chr2 = input.charCodeAt(i++);\n                chr3 = input.charCodeAt(i++);\n\n                enc1 = chr1 &gt;&gt; 2;\n                enc2 = ((chr1 &amp; 3) &lt;&lt; 4) | (chr2 &gt;&gt; 4);\n                enc3 = ((chr2 &amp; 15) &lt;&lt; 2) | (chr3 &gt;&gt; 6);\n                enc4 = chr3 &amp; 63;\n\n                if (isNaN(chr2)) {\n                    enc3 = enc4 = 64;\n                } else if (isNaN(chr3)) {\n                    enc4 = 64;\n                }\n\n                output = output +\n                        keyStr.charAt(enc1) +\n                        keyStr.charAt(enc2) +\n                        keyStr.charAt(enc3) +\n                        keyStr.charAt(enc4);\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n            } while (i &lt; input.length);\n\n            return output;\n        },\n\n        decode: function (input) {\n            var output = \"\";\n            var chr1, chr2, chr3 = \"\";\n            var enc1, enc2, enc3, enc4 = \"\";\n            var i = 0;\n\n            // remove all characters that are not A-Z, a-z, 0-9, +, /, or =\n            var base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n            if (base64test.exec(input)) {\n                alert(\"There were invalid base64 characters in the input text.\\n\" +\n                        \"Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\\n\" +\n                        \"Expect errors in decoding.\");\n            }\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n\n            do {\n                enc1 = keyStr.indexOf(input.charAt(i++));\n                enc2 = keyStr.indexOf(input.charAt(i++));\n                enc3 = keyStr.indexOf(input.charAt(i++));\n                enc4 = keyStr.indexOf(input.charAt(i++));\n\n                chr1 = (enc1 &lt;&lt; 2) | (enc2 &gt;&gt; 4);\n                chr2 = ((enc2 &amp; 15) &lt;&lt; 4) | (enc3 &gt;&gt; 2);\n                chr3 = ((enc3 &amp; 3) &lt;&lt; 6) | enc4;\n\n                output = output + String.fromCharCode(chr1);\n\n                if (enc3 != 64) {\n                    output = output + String.fromCharCode(chr2);\n                }\n                if (enc4 != 64) {\n                    output = output + String.fromCharCode(chr3);\n                }\n\n                chr1 = chr2 = chr3 = \"\";\n                enc1 = enc2 = enc3 = enc4 = \"\";\n\n            } while (i &lt; input.length);\n\n            return output;\n        }\n    };\n});\n\n//here's where YOUR code is finally accessed\nfunction TodoCtrl($scope, $http, Base64) {\n\n    $http.defaults.headers.common = {\"Access-Control-Request-Headers\": \"accept, origin, authorization\"}; //you probably don't need this line.  This lets me connect to my server on a different domain\n    $http.defaults.headers.common['Authorization'] = 'Basic ' + Base64.encode('admin' + ':' + 'abc12345');\n    $http({method: 'GET', url: 'http://localhost:8888/app/api/v1/pets'}).\n            success(function(data, status, headers, config) {\n                $scope.pets = data;\n                // this callback will be called asynchronously\n                // when the response is available\n            }).\n            error(function(data, status, headers, config) {\n                alert(data);\n                // called asynchronously if an error occurs\n                // or server returns response with an error status.\n            });\n\n}\n</code></pre>\n\n<p>Note the majority of this code is the <code>Base64</code> method.  Ideally that could just be a library you import.  </p>\n\n<hr>\n\n<p>For me, this always reports a 401 before it actually works.  I believe this is a bug with the angular code but I'm not sure.  I've created an issue here: <a href=\"https://github.com/angular/angular.js/issues/3406\">https://github.com/angular/angular.js/issues/3406</a></p>\n",
                    "is_accepted": true,
                    "score": 27
                }
            ],
            "body": "<p>How can I get basic auth working in AngularJs?  I've googled and the resources aren't working for me.  I'm <em>very</em> new to AngularJS</p>\n",
            "last_activity_date": 1395158708,
            "question_id": 17959563,
            "score": 17,
            "tags": [
                "javascript",
                "angularjs",
                "basic-authentication"
            ],
            "title": "How do I get basic auth working in angularjs?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>try to use <code>global: false</code> in your ajax request like:</p>\n\n<pre><code> $.ajax({\n   url: \"test.html\",\n   global: false,\n   // ...\n });\n</code></pre>\n\n<p>source:: <a href=\"http://docs.jquery.com/Ajax_Events\" rel=\"nofollow\">http://docs.jquery.com/Ajax_Events</a></p>\n\n<p>Look for Global Events.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It's possible and not difficult to do.</p>\n\n<p>You just need to setup your global error handler (<code>.ajaxError</code>) to receive a few of the parameters that jQuery can provide to it:</p>\n\n<pre><code>$(\"div.log\").ajaxError(function(evt, xhr, settings) {\n    if(settings.suppressErrors) {\n        return;\n    }\n\n    // Normal processing\n});\n</code></pre>\n\n<p>After this, you can add <code>suppressErrors: true</code> to the settings of any AJAX request you make, and if it fails the error handler will return without doing what it normally does.</p>\n\n<p><strong><a href=\"http://jsfiddle.net/RjmSx/\">See it in action</a></strong>.</p>\n",
                    "is_accepted": true,
                    "score": 40
                },
                {
                    "body": "<p>When you look at this if statement from the jquery/ajax source <a href=\"https://github.com/jquery/jquery/blob/master/src/ajax.js#L579-582\">https://github.com/jquery/jquery/blob/master/src/ajax.js#L579-582</a> , which is one of many of the same kind, it is clear that your problem can not be solved by a jquery parameter alone.</p>\n\n<p>My suggestion would be to:</p>\n\n<ul>\n<li><p>set global to false, like Vaibhav Gupta said</p></li>\n<li><p>map your global handlers to local in the specific ajax call and trigger the global event through the $.event.trigger method</p></li>\n</ul>\n\n<p>Sample:</p>\n\n<pre><code>$.ajax({\n    url: \"test.html\",\n    global: false,\n    beforeSend: function(){$.event.trigger('ajaxStart');},\n    complete: function(){$.event.trigger('ajaxStop');},\n    error: your_error_handler\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You can set <code>$.event.global.ajaxError</code> to <code>false</code> to disable invoking the global error callback temporarily. Use the <code>error</code> and <code>complete</code> callbacks of your special request to set the flags:</p>\n\n<pre><code>$.ajax({\n    url: 'some.domain.com/',\n}).error(function(jXHR){\n    // Disable global error logging\n    $.event.global.ajaxError = false;\n}).complete(function(){\n    // Enable global error logging\n    $.event.global.ajaxError = true;\n});\n</code></pre>\n\n<p>An example is available on <a href=\"http://jsfiddle.net/VZBH3/1/\" rel=\"nofollow\">jsFiddle</a>.</p>\n\n<p>That being presented, I want to add that I would still prefer Jon's proposal. This technique requires to set the flag at 2 places of which you could forget one and and up to have the global handlers disabled accidentally. The other reason is that Jon's technique should be guaranteed to work across jQuery releases where setting some internal flags is not reliable.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Suppose that I have some global Ajax event handlers defined (ajaxStart, ajaxStop, and ajaxError). Usually I am fine with that, but for one request, I want to disable the ajaxError handler but still run the ajaxStart and ajaxStop handlers as usual. The <a href=\"http://api.jquery.com/jQuery.ajax/\">jQuery ajax function documentation</a> mentions the \"global\" parameter that can be set to false and passed to the $.ajax function to disable all global Ajax event handlers, but they don't mention any way to only disable some global handlers.</p>\n\n<p>I can prevent the ajaxError handler by doing a test on the \"url\" property of the ajaxSettings object that is passed to the ajaxError function, but that seems somewhat clumsy. Does anyone here know of a way to disable the ajaxError function from running that would be clear to someone looking \nat the place where the $.ajax function is being called?</p>\n\n<p>I can provide a simple example if anyone wants to see it.</p>\n",
            "last_activity_date": 1316723189,
            "question_id": 7436195,
            "score": 17,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "Disabling some jQuery global Ajax event handlers for a request"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>To get the DOM from a specific tab, you would need to use <a href=\"http://code.google.com/chrome/extensions/messaging.html\">content scripts communications</a>. For example we need to send a request from the <a href=\"http://code.google.com/chrome/extensions/extension.html#method-sendRequest\">extension</a> to your content script via <a href=\"http://code.google.com/chrome/extensions/browserAction.html\">popup</a>, so in the popup.html you do something like this:</p>\n\n<pre><code>chrome.tabs.getSelected(null, function(tab) {\n  // Send a request to the content script.\n  chrome.tabs.sendRequest(tab.id, {action: \"getDOM\"}, function(response) {\n    console.log(response.dom);\n  });\n});\n</code></pre>\n\n<p>Now in the content script, we need to <a href=\"http://code.google.com/chrome/extensions/extension.html#event-onRequest\">listen for those events</a> coming from the extension, so in some file we named dom.js</p>\n\n<pre><code>chrome.extension.onRequest.addListener(function(request, sender, sendResponse) {\n if (request.action == \"getDOM\")\n   sendResponse({dom: \"The dom that you want to get\"});\n else\n   sendResponse({}); // Send nothing..\n});\n</code></pre>\n\n<p>Now remember to setup your <a href=\"http://code.google.com/chrome/extensions/manifest.html\">manifest</a> to include the content script and tab permission.</p>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>I'm developing an extension for Google Chrome browser.\nI could not figure out how to access the current tab DOM object from the \"popup.html\" page. \nany suggestions?</p>\n",
            "last_activity_date": 1380870351,
            "question_id": 1964225,
            "score": 17,
            "tags": [
                "javascript",
                "google-chrome"
            ],
            "title": "Accessing Current Tab DOM Object from &quot;popup.html&quot;?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You might want to look into the DOMNodeInserted event for Firefox/Opera/Safari and the onpropertychange event for IE. It probably wouldn't be too hard to utilize these events but it might be a little hack-ish. Here is some javascript event documentation: <a href=\"http://help.dottoro.com/larrqqck.php\" rel=\"nofollow\">http://help.dottoro.com/larrqqck.php</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can listen for changes to DOM elements <em>(your div for example)</em> by binding onto <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-MutationEvent\" rel=\"nofollow\"><strong>DOMCharacterDataModified</strong></a> tested in chrome but doesn't work in IE see a <a href=\"http://jsfiddle.net/DGHbf/\" rel=\"nofollow\"><strong>demo here</strong></a><br/>\n<em>Clicking the button causes a change in the div which is being watched, which in turn fills out another div to show you its working...</em></p>\n\n<hr>\n\n<p>Having a bit more of a look <a href=\"http://stackoverflow.com/users/246142/shiki\"><strong>Shiki</strong></a>'s answer to <em><a href=\"http://stackoverflow.com/questions/2712124/jquery-listen-to-changes-within-a-div-and-act-accordingly\">jquery listen to changes within a div and act accordingly</a></em> looks like it should do what you  want:</p>\n\n<pre><code>$('#idOfDiv').bind('contentchanged', function() {\n    // do something after the div content has changed\n    alert('woo');\n});\n</code></pre>\n\n<p>In your function that updates the div:</p>\n\n<pre><code>$('#idOfDiv').trigger('contentchanged');\n</code></pre>\n\n<p>See this as a <a href=\"http://jsfiddle.net/DGHbf/1/\" rel=\"nofollow\"><strong>working demo here</strong></a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The most effective way I've found is to bind to the <code>DOMSubtreeModified</code> event. It works well with both jQuery's <code>$.html()</code> and via standard JavaScript's <code>innerHTML</code> property.</p>\n\n<pre><code>$('#content').bind('DOMSubtreeModified', function(e) {\n  if (e.target.innerHTML.length &gt; 0) {\n    // Content change handler\n  }\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/hnCxK/\">http://jsfiddle.net/hnCxK/</a></p>\n\n<p>When called from jQuery's <code>$.html()</code>, I found the event fires twice: once to clear existing contents and once to set it. A quick <code>.length</code>-check will work in simple implementations.</p>\n\n<p>It's also important to note that the event will <strong>always</strong> fire when set to an HTML string (ie <code>'&lt;p&gt;Hello, world&lt;/p&gt;'</code>). And that the event will only <strong>fire when changed</strong> for plain-text strings.</p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>There is a neat javascript library, mutation-summary by google, that lets you observe dom changes concisely. The great thing about it, is that if you want, you can be informed only of the actions that actually made a difference in the DOM, to understand what I mean you should watch the very informative video on the project's homepage.</p>\n\n<p>link:\n<a href=\"http://code.google.com/p/mutation-summary/\" rel=\"nofollow\">http://code.google.com/p/mutation-summary/</a></p>\n\n<p>jquery wrapper:\n<a href=\"https://github.com/joelpurra/jquery-mutation-summary\" rel=\"nofollow\">https://github.com/joelpurra/jquery-mutation-summary</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I have an ajax callback which injects html markup into a footer div.</p>\n\n<p>What I can't figure out is how to create a way to monitor the div for when it's contents change. Placing the layout logic I'm trying to create in the callback isn't an option as each method (callback and my layout div handler) shouldn't know about the other.</p>\n\n<p>Ideally I'd like to see some kind of event handler akin to <code>$('#myDiv').ContentsChanged(function() {...})</code> or <code>$('#myDiv').TriggerWhenContentExists( function() {...})</code></p>\n\n<p>I found a plugin called watch and an improved version of that plugin but could never get either to trigger. I tried \"watching\" everything I could think of (i.e. height property of the div being changed via the ajax injection) but couldn't get them to do anything at all.</p>\n\n<p>Any thoughts/help?\nThanks\njas</p>\n",
            "last_activity_date": 1420007497,
            "question_id": 1960919,
            "score": 17,
            "tags": [
                "javascript",
                "jquery-plugins",
                "jquery",
                "javascript-events"
            ],
            "title": "jQuery watch for domElement changes?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I ran into this issue a while ago. What is happening is you are on page 1, scrolled down the page I imagine, then click a button to go to page 2.  The router then doesn't readjust your scroll position when you go to the next page. I fixed this by scrolling to top on all route changes.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Angular UI-Router recently updated it's app so that it automatically scrolls down to new views loaded by default.  This was causing my app's pages to load scrolled down.  To turn this off simply add the following attribute to your ui-view:</p>\n\n<pre><code>&lt;div ui-view=\"header\" autoscroll=\"true\"&gt;&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 25
                },
                {
                    "body": "<p>here is a possible solution, i used a workoround, since auto scrolling wasnt working for me, so i forced my view to scroll to top. Hope this helps.</p>\n\n<pre><code>app.run(['$window', '$rootScope', '$location' ,'$cookieStore', '$state', 'CacheManager',  '$timeout', function($window, $rootScope, $location, $cookieStore, $state,CacheManager, $timeout){\n\n\n$rootScope.$on('$viewContentLoaded', function(){\n\nvar interval = setInterval(function(){\n  if (document.readyState == \"complete\") {\n      window.scrollTo(0, 0);\n      clearInterval(interval);\n  }\n},200);\n\n});\n\n\n\n}]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>in the run block add:</p>\n\n<pre><code>$rootScope.$on('$routeChangeSuccess', function () {\n  $anchorScroll();\n });\n</code></pre>\n\n<p>Of course you have to inject the $anchorScroll dependency</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>For the life of me, I cannot figure out why this home page loads at the bottom.  Is this an angular ui-router, angular, javascript or CSS issue?  I've been stuck on this for two hours and not knowing why my html page loads at the bottom instead of the top is really killing my self-esteem as a programmer :/</p>\n\n<p>Here is the home page:  [ URL Redacted ]</p>\n\n<p><em><strong>UPDATE</em></strong> --\nI solved this issue.  It was with Angular UI-Router.  See my answer below for the simple fix.</p>\n\n<p>I use Angular and Angular UI-Router and the set up looks like this...</p>\n\n<p><strong>default.jade</strong></p>\n\n<pre><code>  doctype html\n  html(lang='en', xmlns='http://www.w3.org/1999/xhtml', xmlns:fb='https://www.facebook.com/2008/fbml', itemscope='itemscope', itemtype='http://schema.org/Product')\n  include ../includes/head\n  body(ng-controller=\"RootController\")\n  block content\n  include ../includes/foot\n</code></pre>\n\n<p><strong>index.jade</strong></p>\n\n<pre><code>extends layouts/default\n\nblock content\n  section.container\n    div(ui-view=\"header\")\n    div(ui-view=\"content\")\n    div(ui-view=\"footer\")\n</code></pre>\n\n<p><strong>Angular Config.js</strong></p>\n\n<pre><code>window.app.config(function($stateProvider, $urlRouterProvider) {\n// For any unmatched url, redirect to \"/\"\n$urlRouterProvider.otherwise(\"/\");\n// Now set up the states\n$stateProvider\n    .state('home', {\n      url: \"/\",\n      views: {\n        \"header\":    { templateUrl: \"views/header/home.html\"   },\n        \"content\":   { templateUrl: \"views/content/home.html\"  },\n        \"footer\":    { templateUrl: \"views/footer/footer.html\" }\n      },\n      resolve: { factory: setRoot }\n    })\n    .state('signin', {\n      url: \"/signin\",\n      views: {\n        \"header\":    { templateUrl: \"views/header/signin.html\"   },\n        \"content\":   { templateUrl: \"views/content/signin.html\"  },\n        \"footer\":    { templateUrl: \"views/footer/footer.html\" }\n      },\n      resolve: { factory: setRoot }\n    })\n</code></pre>\n",
            "last_activity_date": 1417625165,
            "question_id": 21711939,
            "score": 16,
            "tags": [
                "javascript",
                "css",
                "angularjs",
                "express",
                "angular-ui-router"
            ],
            "title": "Can&#39;t figure out why page loads at bottom? Angular UI-Router autoscroll Issue"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You are adding a text element inside a circle, that won't work. You can add groups under the svg element and then append the circle and a text in each group:</p>\n\n<pre><code>// Create the groups under svg\nvar gnodes = svg.selectAll('g.gnode')\n  .data(graph.nodes)\n  .enter()\n  .append('g')\n  .classed('gnode', true);\n\n// Add one circle in each group\nvar node = gnodes.append(\"circle\")\n  .attr(\"class\", \"node\")\n  .attr(\"r\", 5)\n  .style(\"fill\", function(d) { return color(d.group); })\n  .call(force.drag);\n\n// Append the labels to each group\nvar labels = gnodes.append(\"text\")\n  .text(function(d) { return d.name; });\n\nforce.on(\"tick\", function() {\n  // Update the links\n  link.attr(\"x1\", function(d) { return d.source.x; })\n    .attr(\"y1\", function(d) { return d.source.y; })\n    .attr(\"x2\", function(d) { return d.target.x; })\n    .attr(\"y2\", function(d) { return d.target.y; });\n\n  // Translate the groups\n  gnodes.attr(\"transform\", function(d) { \n    return 'translate(' + [d.x, d.y] + ')'; \n  });    \n\n});\n</code></pre>\n\n<p>A fork of your fiddle with this strategy is <a href=\"http://jsfiddle.net/pnavarrc/RRUzZ/20/\">here</a></p>\n",
                    "is_accepted": true,
                    "score": 25
                }
            ],
            "body": "<p>I am trying to add text label to nodes in d3 Force Directed Graph, there seems to be an issue.\nThis is my <a href=\"http://jsfiddle.net/draditya91/RRUzZ/\">Fiddle</a>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/qVAx8.gif\" alt=\"enter image description here\"></p>\n\n<p>When I add the node name like this:</p>\n\n<pre><code>node.append(\"text\")\n    .attr(\"class\", \"word\")\n    .attr(\"dy\", \".35em\")\n    .text(function(d) {\n        console.log(d.name);\n        return d.name;\n    });\n</code></pre>\n\n<p>There's no change but the names are getting logged.</p>\n\n<p>When i tried using <a href=\"http://mbostock.github.com/d3/talk/20110921/bounding.html\">bounding box</a> , the node labels appeared but the nodes are stacked up on the top-left corner of box while the node links are fine.This <a href=\"http://jsfiddle.net/draditya91/RRUzZ/3/\">fiddle</a> is the outcome of that effort i put in. Can anyone tell me what am i doing wrong?</p>\n",
            "last_activity_date": 1402393705,
            "question_id": 18164230,
            "score": 16,
            "tags": [
                "javascript",
                "svg",
                "d3.js",
                "label",
                "force-layout"
            ],
            "title": "Add text label to d3 node in Force directed Graph and resize on hover"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I can tell from your error report you have a $watch for a changeCounter variable, and this watcher function:</p>\n\n<pre><code>function $locationWatch() {\n    var oldUrl = $browser.url();\n    if (!changeCounter || oldUrl != $location.absUrl()) {\n        changeCounter++;\n        $rootScope.$evalAsync(function () {\n            if ($rootScope.$broadcast('$locationChangeStart', $location.absUrl(), oldUrl)\n                .defaultPrevented) {\n                $location.$$parse(oldUrl);\n            } else {\n                $browser.url($location.absUrl(), $location.$$replace);\n                $location.$$replace = false;\n                afterLocationChange(oldUrl);\n            }\n        });\n    }\n    return changeCounter;\n};\n</code></pre>\n\n<p>And the changeCounter gets it's value incremented if $browser.url() doesn't equal $location.absUrl(). As the $watch function can only do 10 loops of change/reaction, it will err after those 10 iterations. As you are changing the value you are watching, it eventually breaks.</p>\n\n<p>I would log those values - $location.absUrl() and $browser.url(), and see why the match in other browsers, but not in ie.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I had the same issue with error which looked the same. Chrome\\FF worked fine, but IE failed. I've clicked on some links in my app and sometimes got this error and sometimes not.</p>\n\n<p>1) In my view I had few links which looked like this:</p>\n\n<pre><code>&lt;a href=\"#\" ng-click=\"addIP(ip)\"&gt;Add some IP&lt;/a&gt;\n</code></pre>\n\n<p>2) Click handler for those links added new object into IpRanges collection like this:</p>\n\n<pre><code>$scope.IpRanges.push(ip);\n</code></pre>\n\n<p>3) Collection itself was binded on view by ng-repeat, and I thought that somehow IE could not handle this situation well - probably order of binding\\adding\\applying events wasn't incorrect or else... Also after click on links I had # symbol added to url, and sometimes it blinked, and then I've got an error. So I removed href attribute and everything worked fine:</p>\n\n<pre><code>&lt;a href=\"\" ng-click=\"addCurrentIP()\"&gt;Add as allowed IP&lt;/a&gt;\n</code></pre>\n\n<p>Probably it's better to use spans or divs for similar situations.</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>Tiago Rold\u00e3o is definitely right. I had exact the same issue. After debug, I realized in my code I have</p>\n\n<pre><code>location.hash = \"#/app/\" + id;\n</code></pre>\n\n<p>which causes the infinitely loop issue. After some research, I found this</p>\n\n<pre><code>$location.path(\"/apps/\" + id);\n</code></pre>\n\n<p>which solves my issue perfectly.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<h2>TLDR</h2>\n\n<p>If you are using <a href=\"https://github.com/angular-ui/ui-router\" rel=\"nofollow\"><code>ui-router</code></a> then you can also use</p>\n\n<pre><code>$state.go('details', {id:item.ID});\n</code></pre>\n\n<h2>Background</h2>\n\n<p>I was using the following function to navigate from a list view to a details view so that you can click anything with <code>ng-click=\"details(item)\"</code>, in my case <code>tr</code>'s in the list:</p>\n\n<pre><code>$scope.details = function (item) {\n    $window.location.href = \"#/details/\" + item.ID;\n}\n</code></pre>\n\n<p>But I was getting the dreaded <code>10 $digest() iterations reached</code> in IE.</p>\n\n<h2>FYI</h2>\n\n<p>I placed a breakpoint in AngularJS v1.2.0rc1 angular.js line 7650 following Tiago's answer.</p>\n\n<pre><code>// update browser\nvar changeCounter = 0;\n$rootScope.$watch(function $locationWatch() {\n  var oldUrl = $browser.url();\n  var currentReplace = $location.$$replace;\n\n  if (!changeCounter || oldUrl != $location.absUrl()) {\n    changeCounter++; /* &lt;-- breakpoint here, line 7650 */\n    $rootScope.$evalAsync(function() {\n      if ($rootScope.$broadcast('$locationChangeStart', $location.absUrl(), oldUrl).\n          defaultPrevented) {\n        $location.$$parse(oldUrl);\n      } else {\n        $browser.url($location.absUrl(), currentReplace);\n        afterLocationChange(oldUrl);\n      }\n    });\n  }\n  $location.$$replace = false;\n\n  return changeCounter;\n});\n</code></pre>\n\n<h2>Results</h2>\n\n<p>Output from Chrome</p>\n\n<ul>\n<li>The breakpoint was only hit once the details page was loading and once only. </li>\n<li><code>oldUrl</code> (i.e. <code>$browser.url()</code> was reporting the old url (i.e. the list one) </li>\n<li><code>$location.absUrl()</code> was reporting the details url.</li>\n</ul>\n\n<p>Output from IE7,8</p>\n\n<ul>\n<li>The breakpoint was hit continuously. </li>\n<li><code>oldUrl</code> (i.e. <code>$browser.url()</code> was reporting the new url (i.e. the details one) </li>\n<li><code>$location.absUrl()</code> was still reporting the list url.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I had the same issue using AngularJS v1.2.13 in IE9, IE10, when calling $window.history.back() (especially in Windows Phone).</p>\n\n<p>It seems the root cause is that $window.history.back() in IE changes the href right before the $locationWatch() is fired hence oldUrl would contain the new Url and that throws off the angular into an infinite $digest.</p>\n\n<p>The immediate work around is to replace the calls to $window.history.back() with the following:</p>\n\n<pre><code>setTimeout(function () \n{\n    $window.history.back();\n}, 0);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I'm new to Angular and I'm stuck with a issue relating IE.</p>\n\n<p>Here is the IE Error that I'm getting.</p>\n\n<pre><code>Webpage error details\n\nUser Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)\nTimestamp: Thu, 13 Dec 2012 04:00:46 UTC\n\n\nMessage: 10 $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: [[\"fn: function $locationWatch() {\\n      var oldUrl = $browser.url();\\n\\n      if (!changeCounter || oldUrl != $location.absUrl()) {\\n\\tchangeCounter++;\\n\\t$rootScope.$evalAsync(function() {\\n\\t  if ($rootScope.$broadcast('$locationChangeStart', $location.absUrl(), oldUrl).\\n\\t      defaultPrevented) {\\n\\t    $location.$$parse(oldUrl);\\n\\t  } else {\\n\\t    $browser.url($location.absUrl(), $location.$$replace);\\n\\t    $location.$$replace = false;\\n\\t    afterLocationChange(oldUrl);\\n\\t  }\\n\\t});\\n      }\\n\\n      return changeCounter;\\n    }; newVal: 7; oldVal: 6\"],[\"fn: function $locationWatch() {\\n      var oldUrl = $browser.url();\\n\\n      if (!changeCounter || oldUrl != $location.absUrl()) {\\n\\tchangeCounter++;\\n\\t$rootScope.$evalAsync(function() {\\n\\t  if ($rootScope.$broadcast('$locationChangeStart', $location.absUrl(), oldUrl).\\n\\t      defaultPrevented) {\\n\\t    $location.$$parse(oldUrl);\\n\\t  } else {\\n\\t    $browser.url($location.absUrl(), $location.$$replace);\\n\\t    $location.$$replace = false;\\n\\t    afterLocationChange(oldUrl);\\n\\t  }\\n\\t});\\n      }\\n\\n      return changeCounter;\\n    }; newVal: 8; oldVal: 7\"],[\"fn: function $locationWatch() {\\n      var oldUrl = $browser.url();\\n\\n      if (!changeCounter || oldUrl != $location.absUrl()) {\\n\\tchangeCounter++;\\n\\t$rootScope.$evalAsync(function() {\\n\\t  if ($rootScope.$broadcast('$locationChangeStart', $location.absUrl(), oldUrl).\\n\\t      defaultPrevented) {\\n\\t    $location.$$parse(oldUrl);\\n\\t  } else {\\n\\t    $browser.url($location.absUrl(), $location.$$replace);\\n\\t    $location.$$replace = false;\\n\\t    afterLocationChange(oldUrl);\\n\\t  }\\n\\t});\\n      }\\n\\n      return changeCounter;\\n    }; newVal: 9; oldVal: 8\"],[\"fn: function $locationWatch() {\\n      var oldUrl = $browser.url();\\n\\n      if (!changeCounter || oldUrl != $location.absUrl()) {\\n\\tchangeCounter++;\\n\\t$rootScope.$evalAsync(function() {\\n\\t  if ($rootScope.$broadcast('$locationChangeStart', $location.absUrl(), oldUrl).\\n\\t      defaultPrevented) {\\n\\t    $location.$$parse(oldUrl);\\n\\t  } else {\\n\\t    $browser.url($location.absUrl(), $location.$$replace);\\n\\t    $location.$$replace = false;\\n\\t    afterLocationChange(oldUrl);\\n\\t  }\\n\\t});\\n      }\\n\\n      return changeCounter;\\n    }; newVal: 10; oldVal: 9\"],[\"fn: function $locationWatch() {\\n      var oldUrl = $browser.url();\\n\\n      if (!changeCounter || oldUrl != $location.absUrl()) {\\n\\tchangeCounter++;\\n\\t$rootScope.$evalAsync(function() {\\n\\t  if ($rootScope.$broadcast('$locationChangeStart', $location.absUrl(), oldUrl).\\n\\t      defaultPrevented) {\\n\\t    $location.$$parse(oldUrl);\\n\\t  } else {\\n\\t    $browser.url($location.absUrl(), $location.$$replace);\\n\\t    $location.$$replace = false;\\n\\t    afterLocationChange(oldUrl);\\n\\t  }\\n\\t});\\n      }\\n\\n      return changeCounter;\\n    }; newVal: 11; oldVal: 10\"]]\nLine: 7859\nChar: 6\nCode: 0\nURI: http://localhost:8080/__assets__/lib/angular/angular.js\n</code></pre>\n\n<p>This is not happening in any other browser but IE 8 and IE 9.</p>\n\n<p>I have a watch looking at a content filtering object which includes a location filter. </p>\n\n<p>My question with this is why doesn't it happen on any other browser but IE and what should I do to get rid of this. Thanks in advance.</p>\n",
            "last_activity_date": 1401291154,
            "question_id": 13853844,
            "score": 16,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "Angular JS: IE Error: 10 $digest() iterations reached. Aborting"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>What sort of sugar are you looking for? The raw DOM api always worked fine for me. If you are really adopting this idea that the templating engines are no good in terms of performance, don't use innerHTML if you want to efficiently build up a DOM tree. What I tend to do is just create elements manually using document.createElement. My templates are created by writing helper functions that create collection of nodes and populate them with the data by setting the .innerText property. I can then cache the references to nodes which I wish to refer to frequently so that I don't have to traverse the DOM tree to find these nodes again.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Transparency: </p>\n\n<p><a href=\"https://github.com/leonidas/transparency/\">https://github.com/leonidas/transparency/</a></p>\n\n<p>PURE:</p>\n\n<p><a href=\"http://beebole.com/pure/documentation/\">http://beebole.com/pure/documentation/</a></p>\n\n<p>Plates</p>\n\n<p><a href=\"https://github.com/flatiron/plates\">https://github.com/flatiron/plates</a></p>\n\n<p>Why all this:</p>\n\n<p><a href=\"http://blog.nodejitsu.com/micro-templates-are-dead\">http://blog.nodejitsu.com/micro-templates-are-dead</a></p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>Distal</p>\n\n<p><a href=\"http://code.google.com/p/distal\">http://code.google.com/p/distal</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>soma-template is a new one.</p>\n\n<p>Pure DOM manipulation, a lot of features, natural syntax, fully extensible with other libraries such as underscore.string, function calls with parameters, helpers, watchers. Capability to update only some nodes if needed, templates inside the DOM itself.</p>\n\n<p><a href=\"http://soundstep.github.com/soma-template/\" rel=\"nofollow\">http://soundstep.github.com/soma-template/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This is good comparison about 7 famous JS template engine: <a href=\"http://blog.stevensanderson.com/2012/08/01/rich-javascript-applications-the-seven-frameworks-throne-of-js-2012/\" rel=\"nofollow\">http://blog.stevensanderson.com/2012/08/01/rich-javascript-applications-the-seven-frameworks-throne-of-js-2012/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am looking for a new Javascript template engine to replace old jQuery Template for my client side templating needs.</p>\n\n<p>I'd prefer approach where the template engine deals with DOM trees instead of text strings and later dumps the content of the cooked string into <code>innerHTML</code>. This is better performance wise and I find DOM manipulation more proper way of constructing more of DOM tree. </p>\n\n<p>What options I do have for Javascript template engine which would directly create DOM trees instead of being text based engines? I like Mustache.js's logicless approach, but it seems to operate on strings only. Native jQuery integration would also be a nice feature.</p>\n",
            "last_activity_date": 1379035930,
            "question_id": 9282315,
            "score": 16,
            "tags": [
                "javascript",
                "jquery",
                "templates",
                "dom",
                "mustache"
            ],
            "title": "DOM tree based Javascript template engines"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Option 4: Don't use closure compiler.</p>\n\n<p>People in the node community don't tend to use it. You don't need to minify node.js source code, that's silly.</p>\n\n<p>There's simply no good use for minification. </p>\n\n<p>As for the performance benefits of closure, I personally doubt it actually makes your programs faster.</p>\n\n<p>And of course there's a cost, debugging compiled JavaScript is a nightmare</p>\n",
                    "is_accepted": false,
                    "score": -20
                },
                {
                    "body": "<p>I have been using the Closure Compiler with Node for a project I haven't released yet. It has taken a bit of tooling, but it has helped catch many errors and has a pretty short edit-restart-test cycle.</p>\n\n<p>First, I use <a href=\"http://plovr.com/\">plovr</a> (which is a project that I created and maintain) in order to use the Closure Compiler, Library, and Templates together. I write my Node code in the style of the Closure Library, so each file defines its own class or collection of utilities (like <code>goog.array</code>).</p>\n\n<p>The next step is to create a bunch of externs files for the Node functions you want to use. I published some of these publicly at:</p>\n\n<p><a href=\"https://github.com/bolinfest/node-google-closure-latitude-experiment/tree/master/externs/node/v0.4.8\">https://github.com/bolinfest/node-google-closure-latitude-experiment/tree/master/externs/node/v0.4.8</a></p>\n\n<p>Though ultimately, I think that this should be a more community driven thing because there are a lot of functions to document. (It's also annoying because some Node functions have optional middle arguments rather than last arguments, making the type annotations complicated.) I haven't started this movement myself because it's possible that we could do some work with the Closure Complier to make this less awkward (see below).</p>\n\n<p>Say you have created the externs file for the Node namespace <code>http</code>. In my system, I have decided that anytime I need <code>http</code>, I will include it via:</p>\n\n<pre><code>var http = require('http');\n</code></pre>\n\n<p>Though I do not include that <code>require()</code> call in my code. Instead, I use the <code>output-wrapper</code> feature of the Closure Compiler the prepend all of the <code>require()</code>s at the start of the file, which when declared in plovr, in my current project looks like this:</p>\n\n<pre><code>\"output-wrapper\": [\n  // Because the server code depends on goog.net.Cookies, which references the\n  // global variable \"document\" when instantiating goog.net.cookies, we must\n  // supply a dummy global object for document.\n  \"var document = {};\\n\",\n\n  \"var bee = require('beeline');\\n\",\n  \"var crypto = require('crypto');\\n\",\n  \"var fs = require('fs');\\n\",\n  \"var http = require('http');\\n\",\n  \"var https = require('https');\\n\",\n  \"var mongodb = require('mongodb');\\n\",\n  \"var nodePath = require('path');\\n\",\n  \"var nodeUrl = require('url');\\n\",\n  \"var querystring = require('querystring');\\n\",\n  \"var SocketIo = require('socket.io');\\n\",\n  \"%output%\"\n],\n</code></pre>\n\n<p>In this way, my library code never calls Node's <code>require()</code>, but the Compiler tolerates the uses of things like <code>http</code> in my code because the Compiler recognizes them as externs. As they are not true externs, they have to be prepended as I described.</p>\n\n<p>Ultimately, after talking about this <a href=\"https://groups.google.com/d/topic/closure-compiler-discuss/jws6kzCp4LI/discussion\">on the discussion list</a>, I think the better solution is to have a new type annotation for namespaces that would look something like:</p>\n\n<pre><code>goog.scope(function() {\n\n    /** @type {~NodeHttpNamesapce} */\n    var http = require('http');\n\n    // Use http throughout.\n\n});\n</code></pre>\n\n<p>In this scenario, an externs file would define the <code>NodeHttpNamespace</code> such that the Closure Compiler would be able to typecheck properties on it using the externs file. The difference here is that you could name the return value of <code>require()</code> whatever you wanted because the type of <code>http</code> would be this special namespace type. (Identifying a \"jQuery namespace\" for <code>$</code> is a similar issue.) This approach would eliminate the need to name your local variables for Node namespaces consistently, and would eliminate the need for that giant <code>output-wrapper</code> in the plovr config.</p>\n\n<p>But that was a digression...once I have things set up as described above, I have a shell script that:</p>\n\n<ol>\n<li>Uses plovr to build everything in <code>RAW</code> mode.</li>\n<li>Runs <code>node</code> on the file generated by plovr.</li>\n</ol>\n\n<p>Using <code>RAW</code> mode results in a large concatenation of all the files (though it also takes care of translating Soy templates and even CoffeeScript to JavaScript). Admittedly, this makes debugging a pain because the line numbers are nonsense, but has been working well enough for me so far. All of the checks performed by the Closure Compiler have made it worth it.</p>\n",
                    "is_accepted": false,
                    "score": 45
                },
                {
                    "body": "<p>The svn HEAD of closure compiler seems to have <a href=\"http://www.nonblocking.io/2011/12/experimental-support-for-common-js-and.html\">support for AMD</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I replaced my old approach with a way simpler approach:</p>\n\n<p><strong>New approach</strong></p>\n\n<ul>\n<li>No require() calls for my own app code, only for Node modules</li>\n<li>I need to concatenate server code to a single file before I can run or compile it</li>\n<li>Concatenating and compiling is done using <a href=\"https://github.com/blaise-io/xssnake/blob/master/build/server.js\" rel=\"nofollow\">a simple grunt script</a></li>\n</ul>\n\n<p>Funny thing is that I didn't even had to add an extern for the <code>require()</code> calls. The Google Closure compiler understands that automagically. I did have to <a href=\"https://github.com/blaise-io/xssnake/tree/master/build/externs\" rel=\"nofollow\">add externs for nodejs modules that I use.</a></p>\n\n<p><strong>Old approach</strong></p>\n\n<p><strike></p>\n\n<p>As requested by OP, I will elaborated on my way of compiling node.js code with Google Closure Compiler. </p>\n\n<p>I was inspired by the way bolinfest solved the problem and my solution uses the same principle. The difference is that I made one node.js script that does everything, including inlining modules (bolinfest's solution lets GCC take care of that). This makes it more automated, but also more fragile.</p>\n\n<p>I just added code comments to every step I take to compile server code. See this commit: <a href=\"https://github.com/blaise-io/xssnake/commit/da52219567b3941f13b8d94e36f743b0cbef44a3\" rel=\"nofollow\">https://github.com/blaise-io/xssnake/commit/da52219567b3941f13b8d94e36f743b0cbef44a3</a></p>\n\n<p>To summarize:</p>\n\n<ol>\n<li>I start with my main module, the JS file that I pass to Node when I want to run it.<br>\nIn my case, this file is <a href=\"https://github.com/blaise-io/xssnake/blob/master/server/start.js\" rel=\"nofollow\">start.js</a>.</li>\n<li>In this file, using a regular expression, I detect all <code>require()</code> calls, including the assignment part.<br>\nIn start.js, this matches one require call: <code>var Server = require('./lib/server.js');</code></li>\n<li>I retrieve the path where the file exists based on the file name, fetch its contents as a string, and remove module.exports assignments within the contents.</li>\n<li>Then I replace the require call from step 2 with the contents from step 3. Unless it is a core node.js module, then I add it to a list of core modules that I save for later.</li>\n<li>Step 3 will probably contain more <code>require()</code> call, so I repeat step 3 and 4 recursively until all <code>require()</code> calls are gone and I'm left with one huge string containing all code.</li>\n<li>If all recursion has completed, I compile the code using the REST API.<br>\nYou could also use the offline compiler.<br>\nI have externs for every core node.js module. <a href=\"http://www.dotnetwise.com/Code/Externs/\" rel=\"nofollow\">This tool is useful for generating externs</a>.</li>\n<li>I preprend the removed core.js module <code>require</code> calls to the compiled code.</li>\n</ol>\n\n<hr>\n\n<p>Pre-Compiled code.<br>\nAll <code>require</code> calls are removed. All my code is flattened.<br>\n<a href=\"http://pastebin.com/eC2rVMiN\" rel=\"nofollow\">http://pastebin.com/eC2rVMiN</a></p>\n\n<p>Post-Compiled code.<br>\nNode.js core <code>require</code> calls have been prepended manually.<br>\n<a href=\"http://pastebin.com/uB8CaejN\" rel=\"nofollow\">http://pastebin.com/uB8CaejN</a></p>\n\n<hr>\n\n<p>Why you should not do it this way:</p>\n\n<ol>\n<li>It uses regular expressions (not a parser or tokenizer) for detecting <code>require</code> calls, inlining and removing <code>module.exports</code>. This is fragile, as it does not cover all syntax variations.</li>\n<li>When inlining, all module code is added to the global namespace. This is against the principles of Node.js, where every file has its own namespace, and this will cause errors if you have two different modules with the same global variables.</li>\n<li>It does not improve the speed of your code that much, since V8 also performs a lot of code optimizations like inlining and dead code removal.</li>\n</ol>\n\n<p>Why you should:</p>\n\n<ol>\n<li>Because it does work when you have consistent code.</li>\n<li>It will detect errors in your server code when you enable verbose warnings.</li>\n</ol>\n\n<p></strike></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Closure Library on Node.js in 60 seconds.</p>\n\n<p>It's supported, check <a href=\"https://code.google.com/p/closure-library/wiki/NodeJS\" rel=\"nofollow\">https://code.google.com/p/closure-library/wiki/NodeJS</a>.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Are there any projects that used node.js and closure-compiler (CC for short) together?</p>\n\n<p>The official CC recommendation is to compile all code for an application together, but when I compile some simple node.js code which contains a <code>require(\"./MyLib.js\")</code>, that line is put directly into the output, but it doesn't make any sense in that context.</p>\n\n<p>I see a few options:</p>\n\n<ol>\n<li>Code the entire application as a single file. This solves the problem by avoiding it, but is bad for maintenance.</li>\n<li>Assume that all files will be concatenated before execution. Again this avoids the problem, but makes it harder to implement a un-compiled debug mode.</li>\n<li>I'd like to get CC to \"understand\" the node.js require() function, but that probably can't be done without editing the compiler itself, can it?</li>\n</ol>\n",
            "last_activity_date": 1401387849,
            "question_id": 8287597,
            "score": 16,
            "tags": [
                "javascript",
                "node.js",
                "require",
                "google-closure-compiler"
            ],
            "title": "Getting closure-compiler and Node.js to play nice"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Make a new <code>Image</code></p>\n\n<pre><code>var img = new Image();\n</code></pre>\n\n<p>Set the <code>src</code></p>\n\n<pre><code>img.src = your_src\n</code></pre>\n\n<p>Get the <code>width</code> and the <code>height</code></p>\n\n<pre><code>//img.width\n//img.height\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 32
                },
                {
                    "body": "<p>Following code add image attribute <strong>height</strong> and <strong>width</strong> to each image on the page.</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\"\"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Untitled&lt;/title&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction addImgAttributes()\n{\n    for( i=0; i &lt; document.images.length; i++)\n    { \n        width = document.images[i].width;\n        height = document.images[i].height;\n        window.document.images[i].setAttribute(\"width\",width);\n        window.document.images[i].setAttribute(\"height\",height);\n\n    }\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=\"addImgAttributes();\"&gt;\n&lt;img src=\"2_01.jpg\"/&gt;\n&lt;img src=\"2_01.jpg\"/&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>var img = new Image();\n\nimg.onload = function(){\n  var height = img.height;\n  var width = img.width;\n\n  // code here to use the dimensions\n}\n\nimg.src = url;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>Similar question asked and answered using JQuery here:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/11442712/javascript-function-to-return-width-height-of-remote-image-from-url\">Javascript - Function to return width/height of remote image from url</a></p>\n\n<pre><code>function getMeta(url){\n  $(\"&lt;img/&gt;\").attr(\"src\", url).load(function(){\n     s = {w:this.width, h:this.height};\n     alert(s.w+' '+s.h);      \n  }); \n}\n\ngetMeta(\"http://page.com/img.jpg\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I only have a URL to an image. I need to determine the height and width of this image using only JavaScript. The image cannot be visible to the user on the page. How can I get its dimensions?</p>\n",
            "last_activity_date": 1418152684,
            "question_id": 5633264,
            "score": 16,
            "tags": [
                "javascript",
                "html",
                "image"
            ],
            "title": "JavaScript: Get image dimensions"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>My question is, if, in this day and age, we should be required to cater for users that don't have javascript enabled?</p>\n</blockquote>\n\n<p>Yes, definitely, <em>if</em> the AJAX functionality is core to the working of your site. If you don't, you are effectively denying users who don't have Javascript enabled access to your website, and although this is a rather small proportion (&lt;5% I believe), it means that they won't be able to use your site at all, because the core functions are not available to them.</p>\n\n<p>Of course if you're doing more trivial things with AJAX that just enhance the user experience but are not actually central to the core functionality of the site, then this probably isn't necessary.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Depends really.</p>\n\n<p>I personally switch off JavaScript all the time because I don't trust lots of sites.</p>\n\n<p>However, since you users have explicitly asked for your application, you can assume they will trust it and there is no point in doing extra work.</p>\n\n<p>More, if you have that strong AJAX-affinity requirement, the question seems odd enough.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This question comes up a couple times per week here, and you have enough rep you should know that.  Did you search?</p>\n\n<p>Anyway, the thing here is that there are a lot more users on the public internet who may have trouble with javascript than you think:</p>\n\n<ul>\n<li>Mobile browsers (smartphones) often have very poor or buggy javascript implementations.  These will often show up in statistics on the side of those that <em>do</em> support javascript, even though they in effect don't.</li>\n<li>Things like NoScript are becoming more popular, so you should at least have a nice initial page for those users.</li>\n<li>If your customer is in any way part of the U.S. Goverment, you are legally required to support screen readers, which typically don't do javascript.</li>\n<li><strong>Google</strong> and other search engines won't run your scripts when indexing the site.  You need to work well enough without javascript to allow for that.</li>\n</ul>\n\n<p>Of course, you need to know your audience.  You might be doing work for a corporate intranet where you <em>know</em> that <em>everyone</em> has javascript (though even here I'd argue that there's a growing trend where these sites are made available to teleworkers with unknown/unrestricted browsers), or you might be building an app for the blind community where <em>no one</em> has it.  In the case of the public internet, you can typically figure that about 95% of your users will support it in some fashion (source cited by someone else in one of the links below).  But that number isn't as high as it sounds.  Turn it around, and if you don't support javascript you're turning away one visitor for every 20.</p>\n\n<p>See these:  </p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/121108/how-many-people-disable-javascript\">http://stackoverflow.com/questions/121108/how-many-people-disable-javascript</a></li>\n<li><a href=\"http://stackoverflow.com/questions/822872/do-web-sites-really-need-to-cater-for-browsers-that-dont-have-javascript-enabled\">http://stackoverflow.com/questions/822872/do-web-sites-really-need-to-cater-for-browsers-that-dont-have-javascript-enabled</a>></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 35
                },
                {
                    "body": "<p>I think that depends on the type of web application you are going to build. For example in an e-commerce application the checkout process should propably work without java script because there are some people who deactivate js for checking out (in our experience). In a web 2.0 application in my opinion it isn't necessary to support non-js browser experience. \nDeveloping for both also complicates the development process and is more cost intensive. you have double your web test efforts (testing with and without js) and also think different in the planning phase.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think it depends on the market segment you're aiming for, if you're going for a tech crowd -such as Stackoverflow.com, or perhaps slashdot- then you're probably fine in expecting users to have JS installed and active.</p>\n\n<p>Other sites, with a medially tech-aware audience, may suffer from users knowing enough about JS-based exploits to have deactivated JS, but with not enough knowledge to enable Scriptblock (or other browser-equivalent).</p>\n\n<p>The non-tech aware audience are probably with the tech-crowd, since they possibly just don't know how to disable JS -or why they may want to- regardless of the risk.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You should weigh the options and ask yourself:</p>\n\n<p>1) what percentage of users will have javascript turned off.  (according to <a href=\"http://www.w3schools.com/browsers/browsers%5Fstats.asp\">this site</a>, only 5% of the world has it turned off or not available.)\n2) will those users be willing to turn it on\n3) of those that aren't willing to turn it on, or switch to another browser or device that has javascript enabled, is the lost revenue more than the effort to build a separate non-javascript version?</p>\n\n<p>Instinctively, I say most times the answer is no, don't waste the time building two sites.  </p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>In short, you should cater to <em>spiders</em> without JavaScript enabled, but only to the degree necessary to index the data that you want to expose to the public. Your browser requirements of IE7+ and FF3+ exclude far more people than the total number of people who disable JavaScript. And of those who do disable it, the vast majority know how to enable it when necessary.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I asked myself the same question the other day and came up with the answer that in order to use my application one <strong>must have Javascript enabled</strong>. I also checked various Ajax powered sites. Even Stackoverflow.</p>\n\n<p>But considering this fact I also believe that you do need to support some degree of <em>prehistoric</em> applications. The main idea is to not let application break when users don't have enabled Javascript. Application should still display relevant data, but its functionality would be limited.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is an issue that I was thinking about just a few days ago. Here is some information</p>\n\n<ul>\n<li>In Google Chrome there is no way (menu/option) inside the browser to turn off Javascript.</li>\n<li>Many websites including those from leading names like Google, etc., will not work without Javascript.</li>\n<li>According to stats over 95% of visitors have Javascript enabled now.</li>\n</ul>\n\n<p>These stats made me think. Do I have to break my back writing a lot of background code and everything for users who have disabled Javascript?</p>\n\n<p>My conclusion was this. Yes, I have to include Javascript support, but not at the cost of sanity. I.e. I can afford to give it a low priority.</p>\n\n<p>So I am going to have support for non-javascript browsing, but I will build most of it after my site is deployed.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>This is a bit like beating a dead horse, but I'll have a go at it, sure.</p>\n\n<p>I think there could be two basic approaches to this:</p>\n\n<p>1.</p>\n\n<p>Using ajax (and, basically,\njavascript) to enhance the experience\nof the users, while making sure, that\nall of the application's features\nwork without javascript. </p>\n\n<p>When I am\n   following this principle, I develop the\n   interface in two phases - first\n   without considering javascript at all\n   (say, using a framework, that doesn't\n   know about javascript) and then\n   augment certain workflows by adding\n   ajax-y validation (don't like pure js\n   validation, sorry) and so on.</p>\n\n<p>This means, if the user has javascript disabled, your app shall in no way break or become unusable for him.</p>\n\n<p>2.</p>\n\n<p>Using javascript to its fullest, \"no javascript - no go\" style. If javascript is not available, the user will not be able to use your application at all. It is important to note, that, in my opinion, there is no middle ground, - if you are trying to be in both worlds at once, you are doing too much extra work. Removing the constraints of supporting no-javascript users, obviously adds more opportunities to create a richer user experience. And it makes <em>creating</em> that experience much easier.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>To add to some of the old discussion on this page. Google is now searching JavaScript: <a href=\"http://www.i-programmer.info/news/81-web-general/4248-google-now-searches-javascript.html\" rel=\"nofollow\">http://www.i-programmer.info/news/81-web-general/4248-google-now-searches-javascript.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>We're developing a web application that is going to be used by external clients on the internet. The browsers we're required to support are IE7+ and FF3+. One of our requirements is that we use AJAX wherever possible. Given this requirement I feel that we shouldn't have to cater for users without javascript enabled, however others in the team disagree.</p>\n\n<p>My question is, if, in this day and age, we should be required to cater for users that don't have javascript enabled?</p>\n",
            "last_activity_date": 1368587013,
            "question_id": 1084065,
            "score": 16,
            "tags": [
                "javascript",
                "browser"
            ],
            "title": "Should your website work without JavaScript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I recommending using <code>monitorEvents</code>.  It's a function provide by the javascript console in both <a href=\"http://developer.apple.com/library/safari/#documentation/appleapplications/Conceptual/Safari_Developer_Guide/DebuggingYourWebsite/DebuggingYourWebsite.html\">web inspector</a> and <a href=\"http://getfirebug.com/wiki/index.php/Command_Line_API#monitorEvents.28object.5B.2C_types.5D.29\">firebug</a> that prints out all events that are generated by an element.  Here's an example of how you'd use it:</p>\n\n<pre><code>monitorEvents($(\"input\")[0]);\n</code></pre>\n\n<p>In your case, both Firefox and Opera generate an <a href=\"https://developer.mozilla.org/en/DOM/window.oninput\"><code>input</code></a> event when the user selects an item from the autocomplete drop down.  In IE7-8 and Chrome a <a href=\"http://msdn.microsoft.com/en-us/library/ms536912%28v=vs.85%29.aspx\"><code>change</code></a> event is produced after the user changes focus.  Unfortunately chrome does not generates any similar events, so you are stuck with listening to blur events and manually checking if a text change has occurred.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>I don't think you need an event for this: this happens only once, and there is no good browser-wide support for this, as shown by @xavi 's answer.</p>\n\n<p>Just add a function after loading the body that checks the fields once for any changes in the default value, or if it's just a matter of copying a certain value to another place, just copy it to make sure it is initialized properly.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As <a href=\"http://stackoverflow.com/a/8548572/1032370\">Xavi</a> explained, there's no a solution 100% cross-browser for that, so I created a trick on my own for that (5 steps to go on):\n<br>\n<strong>1.</strong> I need a couple of new arrays:</p>\n\n<pre><code>window.timeouts     = new Array();\nwindow.memo_values  = new Array();\n</code></pre>\n\n<p><br>\n<strong>2.</strong> on focus on the input text I want to trigger (in your case \"email\", in my example \"name\") I set an Interval, for example using jQuery (not needed thought):</p>\n\n<pre><code>jQuery('#name').focus(function ()\n{\n    var id = jQuery(this).attr('id');\n    window.timeouts[id] = setInterval('onChangeValue.call(document.getElementById(\"'+ id +'\"), doSomething)', 500);\n});\n</code></pre>\n\n<p><br>\n<strong>3.</strong> on blur I remove the interval: (always using jQuery not needed thought), and I verify if the value changed</p>\n\n<pre><code>jQuery('#name').blur(function ()\n{\n    var id = jQuery(this).attr('id');\n    onChangeValue.call(document.getElementById(id), doSomething);\n    clearInterval(window.timeouts[id]);\n    delete window.timeouts[id];\n});\n</code></pre>\n\n<p><br>\n<strong>4.</strong> Now, the main function which check changes is the following</p>\n\n<pre><code>function onChangeValue(callback)\n{\n    if (window.memo_values[this.id] != this.value)\n    {\n        window.memo_values[this.id] = this.value;\n\n        if (callback instanceof Function)\n        {\n            callback.call(this);\n        }\n        else\n        {\n            eval( callback );\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Important note:</strong> you can use \"this\" inside the above function, referring to your triggered input HTML element. An id must be specified in order to that function to work, and you can pass a function, or a function name or a string of command as a callback.</p>\n\n<p><br>\n<strong>5.</strong> Finally you can do something when the input value is changed, even when a value is selected from a autocomplete dropdown list</p>\n\n<pre><code>function doSomething()\n{\n    alert('got you! '+this.value);\n}\n</code></pre>\n\n<p><strong>Important note:</strong> again you use \"this\" inside the above function referring to the your triggered input HTML element.\n<br><br>\n<strong>WORKING FIDDLE!!!</strong><br>\nI know it sounds complicated, but it isn't.<br>\nI prepared a <a href=\"http://jsfiddle.net/CNw3d/\" rel=\"nofollow\">working fiddle</a> for you, the input to change is named \"name\" so if you ever entered your name in an online form you might have an autocomplete dropdown list of your browser to test.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Add \"blur\". works in all browsers!</p>\n\n<pre><code>$(\"input\").on('blur keyup change click', function () {\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a pretty simple form.  When the user types in an input field, I want to update what they've typed somewhere else on the page.  This all works fine.  I've bound the update to the <code>keyup</code>, <code>change</code> and <code>click</code> events.</p>\n\n<p>The only problem is if you select an input from the browser's autocomplete box, it does not update.  Is there any event that triggers when you select from autocomplete (it's apparently neither <code>change</code> nor <code>click</code>).  Note that if you select from the autocomplete box and the <em>blur</em> the input field, the update will be triggered.  I would like for it to be triggered as soon as the autocomplete .</p>\n\n<p>See: <a href=\"http://jsfiddle.net/pYKKp/\">http://jsfiddle.net/pYKKp/</a> (hopefully you have filled out a lot of forms in the past with an input named \"email\").</p>\n\n<h3>HTML:</h3>\n\n<pre><code>&lt;input name=\"email\" /&gt; \n&lt;div id=\"whatever\"&gt;&amp;lt;whatever&gt;&lt;/div&gt; \n</code></pre>\n\n<h3>CSS:</h3>\n\n<pre><code>div { \n    float: right; \n} \n</code></pre>\n\n<h3>Script:</h3>\n\n<pre><code>$(\"input\").on('keyup change click', function () { \n   var v = $(this).val(); \n    if (v) { \n     $(\"#whatever\").text(v);   \n    }  \n    else { \n        $(\"#whatever\").text('&lt;whatever&gt;'); \n    } \n}); \n</code></pre>\n",
            "last_activity_date": 1400181557,
            "question_id": 8548533,
            "score": 15,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "autocomplete"
            ],
            "title": "Any event triggered on autocomplete?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>function SelectAnimal()\n{\n    var animals = document.getElementById('Animals');\n    var animalsToFind = document.getElementById('AnimalToFind');\n    // get the options length\n    var len = animals.options.length;\n    for(i = 0; i &lt; len; i++)\n    {\n      // check the current option's text if it's the same with the input box\n      if (animals.options[i].innerHTML == animalsToFind.value)\n      {\n         animals.selectedIndex = i;\n         break;\n      }     \n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>function SelectAnimal() {\n    var sel = document.getElementById('Animals');\n    var val = document.getElementById('AnimalToFind').value;\n    for(var i = 0, j = sel.options.length; i &lt; j; ++i) {\n        if(sel.options[i].innerHTML === val) {\n           sel.selectedIndex = i;\n           break;\n        }\n    }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 29
                },
                {
                    "body": "<pre><code>&lt;script type=\"text/javascript\"&gt;\n     function SelectAnimal(){\n         //Set selected option of Animals based on AnimalToFind value...\n         var animalTofind = document.getElementById('AnimalToFind');\n         var selection = document.getElementById('Animals');\n\n        // select element\n        for(var i=0;i&lt;selection.options.length;i++){\n            if (selection.options[i].innerHTML == animalTofind.value) {\n                selection.selectedIndex = i;\n                break;\n            }\n        }\n     }\n&lt;/script&gt;\n</code></pre>\n\n<p>setting the selectedIndex property of the select tag will choose the correct item. it is a good idea of instead of comparing the two values (options innerHTML &amp;&amp; animal value) you can use the indexOf() method or regular expression to select the correct option despite casing or presense of spaces</p>\n\n<pre><code>selection.options[i].innerHTML.indexOf(animalTofind.value) != -1;\n</code></pre>\n\n<p>or using <code>.match(/regular expression/)</code></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>You can set the index by this code :</p>\n\n<p>sel.selectedIndex = 0;</p>\n\n<p>but remember a caution in this practice, You would not be able to call the server side onclick method if you select the previous value selected in the drop down..</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How to set selectedIndex of select element using display text as reference?</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;input id=\"AnimalToFind\" type=\"text\" /&gt;\n&lt;select id=\"Animals\"&gt;\n    &lt;option value=\"0\"&gt;Chicken&lt;/option&gt;\n    &lt;option value=\"1\"&gt;Crocodile&lt;/option&gt;\n    &lt;option value=\"2\"&gt;Monkey&lt;/option&gt;\n&lt;/select&gt;\n&lt;input type=\"button\" onclick=\"SelectAnimal()\" /&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    function SelectAnimal()\n    {\n        //Set selected option of Animals based on AnimalToFind value...\n    }\n &lt;/script&gt;\n</code></pre>\n\n<p>Is there any other way to do this without a loop? You know, I'm thinking of a built-in JavaScript code or something. Also, I don't use jQuery...</p>\n",
            "last_activity_date": 1376361809,
            "question_id": 6210390,
            "score": 15,
            "tags": [
                "javascript",
                "selectedindex"
            ],
            "title": "JavaScript - How to set selectedIndex of select element using display text?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I used a variation of the above but instead of printing html I built a form and submitted it to the 3rd party url:</p>\n\n<pre><code>    var mapForm = document.createElement(\"form\");\n    mapForm.target = \"Map\";\n    mapForm.method = \"POST\"; // or \"post\" if appropriate\n    mapForm.action = \"http://www.url.com/map.php\";\n\n    var mapInput = document.createElement(\"input\");\n    mapInput.type = \"text\";\n    mapInput.name = \"addrs\";\n    mapInput.value = data;\n    mapForm.appendChild(mapInput);\n\n    document.body.appendChild(mapForm);\n\n    map = window.open(\"\", \"Map\", \"status=0,title=0,height=600,width=800,scrollbars=1\");\n\nif (map) {\n    mapForm.submit();\n} else {\n    alert('You must allow popups for this map to work.');\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>Thank you <strong><em>php-b-grader</em></strong>. I improved the code, it is not necessary to use <strong>window.open()</strong>, the <strong>target</strong> is already specified in the <strong>form</strong>.</p>\n\n<pre><code>// Create a form\nvar mapForm = document.createElement(\"form\");\nmapForm.target = \"_blank\";    \nmapForm.method = \"POST\";\nmapForm.action = \"abmCatalogs.ftl\";\n\n// Create an input\nvar mapInput = document.createElement(\"input\");\nmapInput.type = \"text\";\nmapInput.name = \"variable\";\nmapInput.value = \"lalalalala\";\n\n// Add the input to the form\nmapForm.appendChild(mapInput);\n\n// Add the form to dom\ndocument.body.appendChild(mapForm);\n\n// Just submit\nmapForm.submit();\n</code></pre>\n\n<p>for target options --> <a href=\"http://www.w3schools.com/tags/att_form_target.asp\">w3schools - Target</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>thanks php-b-grader !</p>\n\n<p>below the generic function for window.open pass values using POST:</p>\n\n<p>function windowOpenInPost(actionUrl,windowName, windowFeatures, keyParams, valueParams) {</p>\n\n<pre><code> var mapForm = document.createElement(\"form\");\n var milliseconds = new Date().getTime();\n windowName = windowName+milliseconds;\n    mapForm.target = windowName;\n    mapForm.method = \"POST\";\n    mapForm.action = actionUrl;\n\n    if (keyParams &amp;&amp; valueParams &amp;&amp; (keyParams.length == valueParams.length)){\n        for (var i = 0; i &lt; keyParams.length; i++){\n        var mapInput = document.createElement(\"input\");\n            mapInput.type = \"hidden\";\n            mapInput.name = keyParams[i];\n            mapInput.value = valueParams[i];\n            mapForm.appendChild(mapInput);\n\n        }\n        document.body.appendChild(mapForm);\n    }\n\n\n    map = window.open('', windowName, windowFeatures);\n\nif (map) {\n    mapForm.submit();\n} else {\n    alert('You must allow popups for this map to work.');\n}}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><em>Thanks guys</em> The code helped me to fulfill my requirement.\nI have made some modifications and using a form i completed this. Here is my code-</p>\n\n<p><em>Need a 'target' attribute for 'form' thats it !</em></p>\n\n<p><strong>Form</strong></p>\n\n<pre><code>&lt;form id=\"view_form\" name=\"view_form\" method=\"post\" action=\"view_report.php\"  target=\"Map\" &gt;\n  &lt;input type=\"text\" value=\"&lt;?php echo $sale-&gt;myvalue1; ?&gt;\" name=\"my_value1\"/&gt;\n&lt;input type=\"text\" value=\"&lt;?php echo $sale-&gt;myvalue2; ?&gt;\" name=\"my_value2\"/&gt;\n      &lt;input type=\"button\" id=\"download\" name=\"download\" value=\"View report\" onclick=\"view_my_report();\"   /&gt; \n      &lt;/form&gt;\n</code></pre>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>function view_my_report()\n      {     \nvar mapForm = document.getElementById(\"view_form\");             map=window.open(\"\",\"Map\",\"status=0,title=0,height=600,width=800,scrollbars=1\");\nif (map) {\n    mapForm.submit();\n} else {\n    alert('You must allow popups for this map to work.');\n}\n          }\n</code></pre>\n\n<p>Thanks- Full code is explained showing normal form and form elements. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Even though this question was long time ago, thanks all for the inputs that helping me out a similar problem. \nI also made a bit modification based on the others' answers here and making multiple inputs/valuables into a Single Object (json); and hope this helps someone.</p>\n\n<p>js:</p>\n\n<pre><code>//example: params={id:'123',name:'foo'};\n\nmapInput.name = \"data\";\nmapInput.value = JSON.stringify(params); \n</code></pre>\n\n<p>php:</p>\n\n<pre><code>$data=json_decode($_POST['data']); \n\necho $data-&gt;id;\necho $data-&gt;name;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a javascript function that uses window.open to call another page and returning the result.</p>\n\n<p>Here is the section of my code:</p>\n\n<pre><code>var windowFeatures = \"status=0, toolbar=0, location=0, menubar=0, directories=0, resizable=1, scrollbars=1\";\nwindow.open ('http://www.domain.com/index.php?p=view.map&amp;coords=' + encodeURIComponent(coords), 'JobWindow', windowFeatures);\n</code></pre>\n\n<p>My problem now is that I am passing to much data for the GET to handle and I need to pass it using the POST method.</p>\n\n<p>How can I convert the code above to open the page using the POST method without implement forms all over the page (the page lists 100's of orders with a list of suppliers - I am trying to map the suppliers)</p>\n",
            "last_activity_date": 1423166770,
            "question_id": 5684303,
            "score": 15,
            "tags": [
                "javascript",
                "post",
                "get",
                "window"
            ],
            "title": "Javascript window.open pass values using POST"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>This uses a proprietry Microsoft feature called <a href=\"http://msdn.microsoft.com/en-us/library/121hztk3%28v=vs.71%29.aspx\">conditional compilation</a>. As far as non-Microsoft browsers are concerned, it is a comment (but they don't need the shiv).</p>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>It's a hack  that uses IE's strange way of not considering <code>/*@</code> a comment.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here some more <a href=\"http://www.javascriptkit.com/javatutors/conditionalcompile.shtml\" rel=\"nofollow\">info</a> and the <a href=\"http://msdn.microsoft.com/en-us/library/121hztk3%28v=vs.71%29.aspx\" rel=\"nofollow\">source</a>.</p>\n\n<p>It is a comment - multiline comment. All browsers suports comments ( // or /*  ... */ ) in JavaScript. But only IE checks for the @ in the comment and recognize the part of the script for the conditional compilation. This is for usage of the non-standart Microsoft features.</p>\n\n<p>There is also conditional comments<a href=\"http://msdn.microsoft.com/en-us/library/ms537512%28v=vs.85%29.aspx\" rel=\"nofollow\"><sup>MSDN</sup></a> in HTML, which will be removed in IE10.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>This script <a href=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\" rel=\"nofollow\">http://html5shiv.googlecode.com/svn/trunk/html5.js</a> looks like a big comment, but it works. Why /*@ doesn't behave like a comment?</p>\n",
            "last_activity_date": 1336518182,
            "question_id": 5596109,
            "score": 15,
            "tags": [
                "javascript",
                "comments"
            ],
            "title": "Why /*@ isn&#39;t a comment in JavaScript?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Assuming your <code>&lt;a&gt;</code> tag has no content, add a class to it tag with a <code>position:relative; top:-50px;</code></p>\n\n<p>Depending on your document, you my also have to wrap it in an absolute <code>&lt;div&gt;</code> </p>\n\n<p>This should be cross-browser compatible if implemented correctly.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is the test I've done locally and it works fine in FF 3.6</p>\n\n<pre><code>&lt;html&gt;\n\n    &lt;body style='margin:0; padding:0;'&gt;\n        &lt;div style='position:fixed; height:50px; background-color:#F00; width:100%'&gt;\n        Fixed header\n        &lt;/div&gt;\n        &lt;div style='padding-top:50px'&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;&lt;a href='#linkhere'&gt;Go to anchor&lt;/a&gt;&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;\n                &lt;a name='linkhere' style='position:relative; top:-75px;'&gt;&lt;/a&gt;\n            Link here&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n            &lt;div style='height:100px; margin-top:10px; background-color:#0F0'&gt;Blah&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>This worked a treat for me, based on the above suggestion:</p>\n\n<pre><code>&lt;a name=\"[my-anchor-name]\" class=\"anchor\"&gt;&lt;/a&gt;\n\n.anchor{\n    position:relative;\n    top:-30px; */or whatever value you need*/\n    }\n</code></pre>\n\n<p>HTH :0)</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>This code works on Firefox, Chrome, IE and probably others too:</p>\n\n<pre><code>&lt;a id=\"comment-3\" class=\"shifted_anchor\"&gt;&amp;nbsp;&lt;/a&gt;\n&lt;div&gt;\n    ... comment ...\n&lt;/div&gt;\n</code></pre>\n\n<p>Where this is the stylesheet:</p>\n\n<pre><code>a.shifted_anchor {\n  position: relative;\n  top: -35px;\n  margin: 0;\n  padding: 0;\n  float: left;\n}\n</code></pre>\n\n<p>The key is the <code>float</code> attribute: we use it to avoid the extra vertical space caused by <code>&amp;nbsp;</code>, which in turn is needed for cross-browser compatibility.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>So I combined a couple of the ideas here and came up with one that works well for me and across all browsers. The empty anchors do not seem to work well with webkit browsers, definitely doesn't work on Chrome. Adding a pseudo element to the anchor fixes this without breaking layouts.</p>\n\n<pre><code>a.anchor { position: relative; top: - $offsetHeight; visibility: hidden; }\na.anchor:before {\n  content:\"\";\n  float: left;\n  height: 0px;\n}\n</code></pre>\n\n<p>Just replace <code>$offsetHeight</code> with whatever you need.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Adding \"display: block;\" worked out for me:</p>\n\n<pre><code>&lt;a name=\"[my-anchor-name]\" class=\"anchor\"&gt;&lt;/a&gt;\n\n.anchor {\n    position:relative;\n    top:-50px;\n    display: block;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>.anchor{\n  display: block;\n  height: 115px; &lt;!--same height as header--&gt;\n  margin-top: -115px; &lt;!--same height as header--&gt;\n  visibility: hidden;\n}\n\n&lt;span class=\"anchor\"&gt;&lt;/span&gt;\n&lt;div&gt;content...&lt;/div&gt;\n</code></pre>\n\n<p>from <a href=\"http://www.pixelflips.com/blog/anchor-links-with-a-fixed-header/\" rel=\"nofollow\">http://www.pixelflips.com/blog/anchor-links-with-a-fixed-header/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have an url with an anchor that is working okay such as</p>\n\n<pre><code>site.com/item/id#comment-233\n</code></pre>\n\n<p>When opened, the anchor will be positioned at exactly the top of the page.</p>\n\n<p>How do I change the starting point? Let's say I want it to be 50px down from the top. </p>\n\n<p>The reason I'm needing this is because I have fixed layers at the top of the page, so the comment is appearing overlapped behind the fixed header div. </p>\n\n<p>Just in case, because of cross-browser compliance I prefer a solution that does not involve changing the container of the comment to fixed and positioning top minus the height of the header. </p>\n",
            "last_activity_date": 1398576911,
            "question_id": 4996330,
            "score": 15,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css"
            ],
            "title": "Changing default starting position of #anchor"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>You can use labels over markers, <a href=\"http://econym.org.uk/gmap/label.htm\" rel=\"nofollow\">here is a tutorial about GIcon.label</a>.</p>\n\n<p>You can also use <a href=\"http://code.google.com/apis/maps/documentation/javascript/v2/reference.html#GMarker.openInfoWindow\" rel=\"nofollow\">GMarker.openInfoWindow</a>.</p>\n\n<p>Tip: <a href=\"http://econym.org.uk/gmap/\" rel=\"nofollow\">This is the best tutorial</a> I found about google maps api (of course after <a href=\"http://code.google.com/apis/maps/documentation/javascript/v2/basics.html\" rel=\"nofollow\">Official documentation</a>) </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Just found this tutorial: <a href=\"http://biostall.com/adding-number-or-letters-to-google-maps-api-markers\" rel=\"nofollow\">http://biostall.com/adding-number-or-letters-to-google-maps-api-markers</a></p>\n\n<p>It doesn't look like the best solution, but it does work.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>icon: 'http://chart.apis.google.com/chart?chst=d_map_pin_letter&amp;chld=1|FE6256|000000'\n</code></pre>\n\n<p>Looks fine with 1-digit and 2-digit numbers</p>\n\n<p>(from Mauro's link)</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Best solution would be to pass a remote or local image and text to a server side script through a url. When plotting the markers, you would use this url as the icon's value, and the server side script return a copy of your supplied image (never saved on the server mind you) with the text baked into image. Thus you could render numbers or text on custom marker images real-time as you drop them on the map.</p>\n\n<p>Here is the tutorial on how to do this. - <a href=\"http://www.devinrolsen.com/google-maps-marker-icons-with-numbers-using-php-gd/\" rel=\"nofollow\">http://www.devinrolsen.com/google-maps-marker-icons-with-numbers-using-php-gd/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>&lt;hr/&gt;\n1. add Google maps script To _Layout page.&lt;br/&gt;\n     &amp;lt;script type=\"text/javascript\" src=\"http://maps.google.com/maps/api/js?sensor=false\"&amp;gt;   &amp;lt;/script &amp;gt;\n&lt;hr/&gt;\n2. Add script to your view page.\n\n  &amp;lt;script type=\"text/javascript\" &amp;gt;&lt;br/&gt;\n   var mapLocation = [['Lucknow', 26.74561, 80.859375],&lt;br/&gt;\n                    ['New Delhi', 28.613459, 77.695313],&lt;br/&gt;\n                    ['Jaipur', 26.980829, 75.849609],&lt;br/&gt;\n                    ['Ahmedabad', 22.674847, 72.333984],&lt;br/&gt;\n                    ['Mumbai', 18.760713, 73.015135]];&lt;br/&gt;\n    $(document).ready(function () { initialize(); });\n</code></pre>\n\n<p>//At view initialize load default map <br/></p>\n\n<pre><code>function initialize() {&lt;br/&gt;\n        var latLng = new google.maps.LatLng(22.917923, 76.992188);&lt;br/&gt;\n        var myOptions = { center: latLng, zoom: 10,\n            mapTypeId: google.maps.MapTypeId.ROADMAP\n        };&lt;br/&gt;\n        var map = new google.maps.Map(document.getElementById(\"map_canvas\"), myOptions);\n\n        setMarker(map, mapLocation);\n    }\n\nfunction setMarker(map, mapLoc) {\n    for (i = 0; i &lt; mapLoc.length; i++) {\n        var loca = mapLoc[i];\n        var myLanLat = new google.maps.LatLng(loca[1], loca[2]);\n        var marker = new google.maps.Marker({\n            position: myLanLat,\n            icon:'https://chart.googleapis.com/chart?chst=d_map_pin_letter&amp;chld='+ ( i     + 1) +'|FF776B|000000',\n            shadow:'https://chart.googleapis.com/chart?chst=d_map_pin_shadow',\n            map: map,\n            tittle: loca[0],\n            zIndex: loca[3]\n        });\n    }\n}\n</code></pre>\n\n<p></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>while creating marker use the \n\n&lt;script&gt;\nvar marker = new google.maps.Marker({\n            position: myLanLat,\n            icon:'icon: 'https://chart.googleapis.com/chart?chst=d_map_pin_letter&amp;chld='+ (position) +'|FF776B|000000',\n            map: map,\n                  });\n&lt;script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The link above ('<a href=\"http://chart.apis.google.com/chart?chst=d_map_pin_letter&amp;chld=1|FE6256|000000\" rel=\"nofollow\">http://chart.apis.google.com/chart?chst=d_map_pin_letter&amp;chld=1|FE6256|000000</a>') can't be used via SSL. To generate and store the number images locally:</p>\n\n<pre><code>for i in {1..99}; do curl -o ./${i}_map_icon.png  \"http://chart.apis.google.com/chart?chst=d_map_pin_letter&amp;chld=${i}|FE6256|000000\"; echo $i; done\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How can I display a number in the marker on a google map?  I want to do server side clustering and I need to display how many points the cluster represents.</p>\n",
            "last_activity_date": 1396041080,
            "question_id": 2890670,
            "score": 15,
            "tags": [
                "javascript",
                "google-maps",
                "gis",
                "google-maps-markers"
            ],
            "title": "Google maps: place number in marker?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>So, is there any other way to submit an HTML form using JavaScript?</p>\n</blockquote>\n\n<p><strong>Update</strong>: Take the advice of Jerome (elsewhere in this thread). I'll leave this answer up for historical interest, but it isn't as nice or reliable as Jerome's solution.</p>\n\n<p>The following approach is ugly, but works. </p>\n\n<pre><code>    var x = document.forms.example;\n    var f = document.createElement('form');\n    f.action = x.action;\n    f.method = x.method;\n    f.enctype = x.enctype;\n    for (var i = 0; i &lt; x.elements.length; i++) {\n        var el = x.elements[i];\n        if (el.name !== \"submit\") {\n            f.appendChild(el);\n        }\n    }\n    x.parentNode.replaceChild(f,x);\n    f.submit();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Create another form in JavaScript, and apply its <code>submit()</code> method on your original form:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;script&gt;\n        function hack() {\n            var form = document.createElement(\"form\");\n            var myForm = document.example;\n            form.submit.apply(myForm);\n        }\n    &lt;/script&gt;\n\n    &lt;form name=\"example\" id=\"example\" method=\"get\" action=\"\"&gt;\n        &lt;input type=\"hidden\" value=\"43\" name=\"hid\"&gt;\n        &lt;button \n          type=\"button\" \n          name=\"submit\" \n          onclick=\"hack();return false;\"\n        &gt;Submit&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><code>form.submit</code> is the reference to a fresh and clean submit method, and then you use <code>apply(myForm)</code> to execute it with the original form.</p>\n",
                    "is_accepted": true,
                    "score": 27
                },
                {
                    "body": "<p>In Firefox</p>\n\n<pre><code>formElement.constructor\n</code></pre>\n\n<p>returns \"HTMLFormElement\". So you can submit the form by using:</p>\n\n<pre><code>HTMLFormElement.prototype.submit.call(formElement)\n</code></pre>\n\n<p>You can extend this to other browsers as well:</p>\n\n<pre><code>formElement.constructor.prototype.submit.call(formElement)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The best idea is to not name a submit button 'submit', but you can get around it-</p>\n\n<pre><code>function reallysubmitform(n){\n n= n || 0;\n var f= document.forms[n];\n f.onsubmit= function(){\n  return true\n };\n var sub= f.elements['submit'];\n if(sub &amp;&amp; sub.type== 'submit') sub.click();\n else f.submit();\n}\n</code></pre>\n\n<p><strong>reallysubmitform()</strong></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Submiting a form using JavaScript <strong>cannot by design be safe</strong>.</p>\n\n<p>Your users can browse your web site on their phone, have disabled JavaScript, tweaked the source of your page, or using <a href=\"http://en.wikipedia.org/wiki/Lynx_%28web_browser%29\" rel=\"nofollow\">Lynx</a>.</p>\n\n<p>In any case, for accessibility purposes, you will need the good  old HTML submit button and some input checks on the server side.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For a form named submit just calling its buttons click function works for me.</p>\n\n<pre><code>document.forms[0].submit.click();  //where submit here is just the name of the button/input tied to the form.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a way to submit an HTML form using <a href=\"http://en.wikipedia.org/wiki/JavaScript\">JavaScript</a> that is guaranteed to work in all situations?</p>\n\n<p>I elaborate. The common approach seems to be:</p>\n\n<pre><code>formElement.submit()\n</code></pre>\n\n<p>That is all good and well except for one thing. Fields of a form are available as attributes of <code>formElement</code>, so if there is a field with <strong>name</strong> or <strong>id</strong> \"text1\", it can be accessed as <code>formElement.text1</code>.</p>\n\n<p>This means that if an elements is called \"submit\" (be it its <strong>name</strong> or its <strong>id</strong>), then <code>formElement.submit()</code> will not work. This is because <code>formElement.submit</code> won't be a method of the form, but the field with that name. Unfortunately, it's fairly common that submit buttons have a \"submit\" name or id.</p>\n\n<p>Two examples to illustrate my point. First, the following will NOT work, because an element of the form has name \"submit\":</p>\n\n<pre><code>&lt;form name=\"example\" id=\"example\" action=\"/\"&gt;\n  &lt;button type=\"button\" name=\"submit\" onclick=\"document.example.submit(); return false;\"&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>The following will work though. The only difference is that I have removed the name \"submit\" from the form:</p>\n\n<pre><code>&lt;form name=\"example\" id=\"example\" action=\"/\"&gt;\n  &lt;button type=\"button\" onclick=\"document.example.submit(); return false;\"&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>So, is there any other way to submit an HTML form using JavaScript?</p>\n",
            "last_activity_date": 1355065752,
            "question_id": 1999891,
            "score": 15,
            "tags": [
                "javascript",
                "html",
                "forms"
            ],
            "title": "How to reliably submit an HTML form with JavaScript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can loop through the characters and use the <code>charCodeAt</code> function to get their UTF-16 values, then constructing a string with them.</p>\n\n<p>Here's some code I constructed that is much better than the code on the site you've linked, and should be easier to understand:</p>\n\n<pre><code>function string_as_unicode_escape(input) {\n    function pad_four(input) {\n        var l = input.length;\n        if (l == 0) return '0000';\n        if (l == 1) return '000' + input;\n        if (l == 2) return '00' + input;\n        if (l == 3) return '0' + input;\n        return input;\n    }\n    var output = '';\n    for (var i = 0, l = input.length; i &lt; l; i++)\n        output += '\\\\u' + pad_four(input.charCodeAt(i).toString(16));\n    return output;\n}\n</code></pre>\n\n<p>Let's break it down.</p>\n\n<ol>\n<li><code>string_as_unicode_escape</code> takes one argument, <code>input</code>, which is a string.</li>\n<li><code>pad_four</code> is an internal function that does one thing; it pads strings with leading <code>'0'</code> characters until the length is at least four characters long.</li>\n<li>Start off by defining <code>output</code> as an empty string.</li>\n<li>For each character in the string, append <code>\\u</code> to the <code>output</code> string. Take the UTF-16 value of the character with <code>input.charCodeAt(i)</code>, then convert it to a hexadecimal string with <code>.toString(16)</code>, then pad it with leading zeros, then append the result to the <code>output</code> string.</li>\n<li>Return the <code>output</code> string.</li>\n</ol>\n\n<p>As Tim Down commented, we can also add <code>0x10000</code> to the <code>charCodeAt</code> value and then <code>.slice(1)</code> the string resulting from calling <code>.toString(16)</code>, to achieve the padding effect.</p>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>var hex=new Array('0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f');</p>\n\n<pre><code>    function stringEncode()\n    {\n        var x=document.getElementById(\"from_text\");\n\n\n        var preescape=\"\" + x.value;\n        var escaped=\"\";\n\n        var i=0;\n        for(i=0;i&lt;preescape.length;i++)\n        {\n            escaped=escaped+encodeChar(preescape.charAt(i));\n        }\n\n        //x=document.getElementById(\"to_text\");\n\n                    x.value=escaped;\n        //alert(\"Codigo: \"+escapeHtml(escaped));\n        //document.getElementById('string_example').innerHTML=\"&lt;b&gt;String example with text&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;String s=\\\"\"+escapeHtml(escaped)+\"\\\";&lt;br/&gt;&lt;br/&gt;\";\n    }\n\n\n    function escapeHtml(unsafe) {\n       return unsafe\n                .replace(/&amp;/g, \"&amp;amp;\")\n                .replace(/&lt;/g, \"&amp;lt;\")\n                .replace(/&gt;/g, \"&amp;gt;\")\n                .replace(/\"/g, \"&amp;quot;\")\n                .replace(/'/g, \"&amp;#039;\");\n            }\n\n            function encodeChar(original)\n            {\n                    var found=true;\n                    var thecharchar=original.charAt(0);\n                    var thechar=original.charCodeAt(0);\n                    switch(thecharchar) {\n                                    case '\\n': return \"\\\\n\"; break; //newline\n                                    case '\\r': return \"\\\\r\"; break; //Carriage return\n                                    case '\\'': return \"\\\\'\"; break;\n                                    case '\"': return \"\\\\\\\"\"; break;\n                                    case '\\\\': return \"\\\\\\\\\"; break;\n                                    case '\\t': return \"\\\\t\"; break;\n                                    case '\\b': return \"\\\\b\"; break;\n                                    case '\\f': return \"\\\\f\"; break;\n\n                                    default:\n                                            found=false;\n                                            break;\n                            }\n                            if(!found)\n                            {\n                                    if(thechar&gt;127) {\n                                            var c=thechar;\n                                            var a4=c%16;\n                                            c=Math.floor(c/16); \n                                            var a3=c%16;\n                                            c=Math.floor(c/16);\n                                            var a2=c%16;\n                                            c=Math.floor(c/16);\n                                            var a1=c%16;\n                                    //  alert(a1);\n                                            return \"\\\\u\"+hex[a1]+hex[a2]+hex[a3]+hex[a4]+\"\";        \n                                    }\n                                    else\n                                    {\n                                            return original;\n                                    }\n                            }\n\n\n            }\n</code></pre>\n\n<p>//------------------------ lo llamarias con </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Could anyone guide me on how to convert char to hex in javascript?<br/><br/>\nFor example:</p>\n\n<blockquote>\n  <p>\"\u5165\u529b\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306f\u7bc4\u56f2\u5916\u3067\u3059\u3002\" <br/>to\n  <br/>\"\\u5165\\u529B\\u3055\\u308C\\u305F\\u30C7\\u30FC\\u30BF\\u306F\\u7BC4\\u56F2\\u5916\\u3067\\u3059\\u3002\"</p>\n</blockquote>\n\n<p><a href=\"http://code.cside.com/3rdpage/us/javaUnicode/converter.html\">This site does it</a></p>\n\n<p>However I can not figure it out.</p>\n\n<p>Any suggestion.</p>\n\n<p>Thanks, Sarbbottam</p>\n",
            "last_activity_date": 1380614419,
            "question_id": 5786483,
            "score": 14,
            "tags": [
                "javascript",
                "char",
                "hex"
            ],
            "title": "Char to Hex in javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I believe you're correct.</p>\n\n<p>In <a href=\"http://www.stevesouders.com/blog/2008/12/27/coupling-async-scripts/\" rel=\"nofollow\">Steve's own examples</a> he does not set the async attribute before attaching the script tag to the head element.</p>\n\n<p>My understanding of the <a href=\"http://dev.w3.org/html5/spec/Overview.html#attr-script-async\" rel=\"nofollow\">async atttribute</a> is that it's a way of signaling to the browser that you don't intend to manipulate the page by using document.write so that it can continue rendering instead of halting to load the script. See the documentation for the <a href=\"https://developer.mozilla.org/en/html/element/script\" rel=\"nofollow\">script element at mdc</a> which contains a bit more on the document.write/async issues.</p>\n\n<p>Note that with your technique you shouldn't use document.write anyway since you've got no way of knowing where in the page lifetime your script will be loaded.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Interesting - I think it turns out that I was wrong in my assumptions.</p>\n\n<p>Based on this thread in the jQuery developers' forum:</p>\n\n<p><a href=\"http://forum.jquery.com/topic/jquery-ajax-async-vs-html5-script-async\" rel=\"nofollow\">http://forum.jquery.com/topic/jquery-ajax-async-vs-html5-script-async</a></p>\n\n<p>it looks like the <code>async</code> property has been discovered to have an effect on dynamically-appended scripts, at least in Firefox (and potentially Opera, though it doesn't yet support the property).</p>\n\n<p>The forum thread also cites Google's asynchronous tracking code implementation, which, although it appears to make use of the <code>async</code> property in the appropriate context, actually appears to get the syntax wrong. Google uses:</p>\n\n<pre><code>ga.async = true;\n</code></pre>\n\n<p>when apparently that doesn't work; the proper method would be to use either:</p>\n\n<pre><code>ga.async = 'async';\n</code></pre>\n\n<p>or</p>\n\n<pre><code>ga.setAttribute('async', 'async');\n</code></pre>\n\n<p>So, based on my current understanding, not all browsers will actually execute dynamically-appended scripts immediately upon their insertion into the DOM in all cases; Firefox (and eventually Opera) will need the <code>async</code> property to be set to ensure that this always happens.</p>\n\n<p>More info on Firefox's implementation of <code>async</code> here:</p>\n\n<p><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=503481\" rel=\"nofollow\">https://bugzilla.mozilla.org/show_bug.cgi?id=503481</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>I believe the currently accepted answer is incorrect (see my comments on it) so I figured I should add my own.</p>\n\n<p>The question was does <code>s.async = true</code> have a use for dynamically inserted scripts, or are these loaded asynchronously already.  The answer is they <em>aren't</em> loaded asynchronously in all browsers, as explained <a href=\"https://developer.mozilla.org/en/html/element/script\">here</a> (thanks to Markus Olsson for the link)</p>\n\n<blockquote>script-inserted scripts execute asynchronously in IE and WebKit, but synchronously in Opera and pre-4.0 Firefox. In Firefox 4.0, the async DOM property defaults to true for script-created scripts, so the default behavior matches the behavior of IE and WebKit.</blockquote>\n\n<p>In browsers that support <code>async</code> but don't already default to asynchronous loading (for example, Firefox 3.6), <code>async = true</code> makes a difference.</p>\n\n<p>(The above link confirms that async is supported in Gecko 1.9.2, the layout engine used by Firefox 3.6)</p>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>This question is sort of a tangent to <a href=\"http://stackoverflow.com/questions/1834077/which-browsers-support-script-async-async\">Which browsers support &lt;script async=&quot;async&quot; /&gt;?</a>.</p>\n\n<p>I've seen a few scripts lately that do something like this:</p>\n\n<pre><code>var s = document.createElement('script');\ns.type = 'text/javascript';\ns.async = true;\ns.src = 'http://www.example.com/script.js';\ndocument.getElementsByTagName('head')[0].appendChild(s);\n</code></pre>\n\n<p>This is a common way to add a script to the DOM dynamically, which, IIRC from Steve Souders's book \"<a href=\"http://rads.stackoverflow.com/amzn/click/0596522304\">Even Faster Web Sites</a>,\" prompts all modern browsers to load the script asynchronously (i.e., not blocking page rendering or downloading of subsequent assets).</p>\n\n<p>If I'm correct in that, does the <code>s.async = true</code> statement have any use? Wouldn't it be redundant, even for the browser(s) that support that property, since dynamically appended a script should already trigger asynchronous downloading?</p>\n",
            "last_activity_date": 1388793108,
            "question_id": 3408805,
            "score": 14,
            "tags": [
                "javascript",
                "asynchronous",
                "pageload",
                "page-load-time"
            ],
            "title": "Is the &quot;async&quot; attribute/property useful if a script is dynamically added to the DOM?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You might want to check out this page: <a href=\"http://pajhome.org.uk/crypt/md5/\" rel=\"nofollow\">http://pajhome.org.uk/crypt/md5/</a></p>\n\n<p>However, if protecting the password is important, you should really be using something like SHA256 (MD5 is not cryptographically secure iirc). Even more, you might want to consider using TLS and getting a cert so you can use https.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"https://code.google.com/p/crypto-js/\" rel=\"nofollow\">crypto-js</a> is a rich javascript library containing many cryptography algorithms.</p>\n\n<p>All you have to do is just call <code>CryptoJS.MD5(password)</code></p>\n\n<pre><code>$.post(\n  'includes/login.php', \n  { user: username, pass: CryptoJS.MD5(password) },\n  onLogin, \n  'json' );\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>You could check my <a href=\"http://github.com/valums/V.Framework/blob/master/V.Security.js\" rel=\"nofollow\">md5 hashing function</a> implementation, which also works with 4-byte characters.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If someone is sniffing your plain-text HTTP traffic (or cache/cookies) for passwords just turning the password into a hash won't  help - The hash password can be \"replayed\" just as well as plain-text. The client would need to hash the password with something somewhat random (like the date and time)\nSee the section on \"AUTH CRAM-MD5\" here: \n<a href=\"http://www.fehcom.de/qmail/smtpauth.html\">http://www.fehcom.de/qmail/smtpauth.html</a></p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>In response to jt. You are correct, the HTML with just the password is susceptible to the Man in the middle attack. However, you can seed it with a GUID from the server ... </p>\n\n<pre><code>$.post(\n  'includes/login.php', \n  { user: username, pass: $.md5(password + GUID) },\n   onLogin, \n  'json' );\n</code></pre>\n\n<p>This would defeat the Man-In-The middle ... in that the server would generate a new GUID for each attempt.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I would suggest you to use CryptoJS in this case.</p>\n\n<p>Basically CryptoJS is a growing collection of standard and secure cryptographic algorithms implemented in JavaScript using best practices and patterns. They are fast, and they have a consistent and simple interface.</p>\n\n<p>So In case you want calculate hash(MD5) of your password string then do as follows :</p>\n\n<pre><code>&lt;script src=\"http://crypto-js.googlecode.com/svn/tags/3.0.2/build/rollups/md5.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    var passhash = CryptoJS.MD5(password).toString();\n\n    $.post(\n      'includes/login.php', \n      { user: username, pass: passhash },\n      onLogin, \n      'json' );\n&lt;/script&gt;\n</code></pre>\n\n<p>So this script will post hash of your password string to the server.</p>\n\n<p>For further info and support on other hash calculating algorithms you can visit at:</p>\n\n<p><a href=\"http://code.google.com/p/crypto-js/\">http://code.google.com/p/crypto-js/</a> </p>\n",
                    "is_accepted": false,
                    "score": 10
                }
            ],
            "body": "<p>I have a jquery dialog modal box pop up for logging into my website.  When a user clicks login it does a post request to a login.php file as follows:</p>\n\n<pre><code>$.post(\n      'includes/login.php', \n      { user: username, pass: password },\n      onLogin, \n      'json' );\n</code></pre>\n\n<p>How do I do an md5 on that password before putting it in the post request?  Also, I have the user's passwords stored in a MySQL database using MD5(), so I would like to just compare the stored version of the password with the MD5 of the password submitted.  Thanks to anyone that replies.</p>\n",
            "last_activity_date": 1425021063,
            "question_id": 1962299,
            "score": 14,
            "tags": [
                "javascript",
                "jquery",
                "post",
                "passwords",
                "md5"
            ],
            "title": "How to use MD5 in javascript to transmit a password"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>IE doesn't support the target property, they use srcElement instead.</p>\n\n<p>Change:</p>\n\n<pre><code>if (e.target.id != 'show_calender')\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>if ((e.target || e.srcElement).id != 'show_calender')\n</code></pre>\n\n<p>You may also need to add this to the beginning of your function:</p>\n\n<pre><code>if (!e) e = window.event\n</code></pre>\n\n<p>Your final code would look like this:</p>\n\n<pre><code>function check(e) { \n    if (!e) e = window.event;\n    var obj = document.getElementById('calendar_widget');\n\n    if (obj != 'null') {\n        if ((e.target || e.srcElement).id != 'show_calender')\n                obj.style.display='none';\n    }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 33
                },
                {
                    "body": "<p>IE does not pass an event object as a parameter, the event object is accessed as a global identifier called <code>event</code>.  Also it doesn't use the term target, instead it uses <code>srcElement</code>.</p>\n\n<p>Hence the equivalent code for IE is:-</p>\n\n<pre><code> function check()\n { \n\n    var obj = document.getElementById('calendar_widget');\n\n    if (obj != 'null')\n    {\n        if (event.srcElement.id != 'show_calender')\n            obj.style.display='none';\n    }\n }\n</code></pre>\n\n<p>Its for this reason that Javascript frameworks such as JQuery are so popular.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You've got a classic event handling cross-browser problem. I'd advice using a library such as <a href=\"http://www.prototypejs.org/\" rel=\"nofollow\">Prototype</a>, <a href=\"http://jquery.com/\" rel=\"nofollow\">JQuery</a>, <a href=\"http://developer.yahoo.com/yui/\" rel=\"nofollow\">YUI</a> or <a href=\"http://mootools.net/\" rel=\"nofollow\">MooTools</a> for handling this in a much easier and straightforward manner. The problem is that IE does not pass the event object. Instead it can be found as a global object.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Internet Explorer doesn't pass the event object to the event handler - it sets it as a property of the window object instead. Also, it uses <code>srcElement</code> instead of <code>target</code>. Try</p>\n\n<pre><code>\ndocument.click = check;\n\nfunction check(e)\n{ \n    var target = e ? e.target : window.event.srcElement;\n    var obj = document.getElementById('calendar_widget');\n\n    if (obj != 'null')\n    {\n        if (target.id != 'show_calender')\n                obj.style.display='none';\n    }\n}\n\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<pre><code>document.click = check;\n\nfunction check(e)\n{ \n    var obj = document.getElementById('calendar_widget');\n\n    if (obj != 'null')\n    {\n    \tif (e.target.id != 'show_calender')\n    \t\tobj.style.display='none';\n    }\n}\n</code></pre>\n\n<p>Error is in Internet Explorer: e.target.id is undefined.</p>\n",
            "last_activity_date": 1247837370,
            "question_id": 1143196,
            "score": 14,
            "tags": [
                "javascript",
                "internet-explorer"
            ],
            "title": "IE e.target.id is not working"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>EDIT: now, adapting Jason's answer, it works:</p>\n\n<p>We need to make a closure for the values. Here's one way:</p>\n\n<pre><code>function bindAccessors(o, property, value) {\n  var _value = value;\n  o[\"get\" + property] = function() {\n    return _value;\n  };\n  o[\"set\" + property] = function(v) {\n    _value = v;\n  };\n}\n</code></pre>\n\n<p>Then the User constructor looks like this:</p>\n\n<pre><code>function User( properties ) {\n  for (var i in properties ) {\n    bindAccessors(this, i, properties[i]);\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>As written in the OP, <code>this</code> in the loop is not referring to the User object as it should be. If you capture that variable outside the loop, you can make it work:</p>\n\n<pre><code>function User( properties ) {\n  // Iterate through the properties of the object, and make sure\n  // that it's properly scoped (as discussed previously)\n var me = this;\n for ( i in properties ) { (function(){\n  // Create a new getter for the property\n  me[ \"get\" + i ] = function() {\n    return properties[i];\n  };\n  // Create a new setter for the property\n  me[ \"set\" + i ] = function(val) {\n    properties[i] = val;\n  };\n // etc\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I found something that seems to be the answer, its all about context. Using the anonymous function inside the for, changes the context making 'this' refer to the window object, strange isn't it?</p>\n\n<p>so:</p>\n\n<pre><code>function User( properties ) {\n\n  for ( var i in properties ) { \n     // here this == User Object\n    (function(){\n     // inside this anonymous function this == window object\n    this[ \"get\" + i ] = function() {\n      return properties[i];\n    };\n\n    this[ \"set\" + i ] = function(val) {\n      properties[i] = val;\n    };\n    })(); \n  }\n}\n</code></pre>\n\n<p>I don't know why that function changes the context of execution, I'm not sure it should do that, anyway you can test it running the code there and trying window.getname() and it magically works! :S</p>\n\n<p>The solution as sated before is changing the context, it can be done like J Cooper said, passing the variable 'me' and making the function a closure or you can do this:</p>\n\n<pre><code>(function(){\n     // inside this anonymous function this == User because we called it with 'call'\n    this[ \"get\" + i ] = function() {\n      return properties[i];\n    };\n\n    this[ \"set\" + i ] = function(val) {\n      properties[i] = val;\n    };\n }).call(this);\n</code></pre>\n\n<p>Anyway, I'm still getting 44 when running 'getname'... any ideas?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Maybe the variable <strong>i</strong> is \"closured\" with the last value in the iteration (\"age\")? Then all getters and setters will access properties[\"age\"].</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>you probably want something like this, which is more readable: (closures are easy to learn once you get some practice) </p>\n\n<pre><code>function User( properties ) {\n  // helper function to create closures based on passed-in arguments:\n  var bindGetterSetter = function(obj,p,properties)\n  {\n    obj[\"get\"+p]=function() { return properties[p]; }\n    obj[\"set\"+p]=function(val) { properties[p]=val; return this; }\n  };\n  for (var p in properties)\n    bindGetterSetter(this, p, properties);\n}\n</code></pre>\n\n<p>I also added \"return this;\" so you can do:</p>\n\n<pre><code>u=new User({a: 1, b:77, c:48});\nu.seta(3).setb(20).setc(400)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I started this post with the sole purpose of learning why that things happened, and I finally did. So in case there's someone else interested in the \"whys\" here they are:</p>\n\n<p><strong>Why does 'this' changes inside the anonymous function?</strong></p>\n\n<p>A new function, even if it is an anonymous, declared inside an object or another function ALWAYS CHANGES THE SCOPE, in this case returning to the global scope (window)</p>\n\n<p><em>Solution:</em> all stated in the post, I think the clearer is executing the anonymous function with .call(this)</p>\n\n<p><strong>Why getname() always returns the age?</strong></p>\n\n<p>While the anonymous function gets executed right away, the getters/setters get executed for the first time when they are called. In that moment, the value of <strong>i</strong> will always be the last because it has already iterated for all the properties... and will always return properties[i] which is the last value, in this case the age.</p>\n\n<p><em>Solution:</em> save the i value in a variable like this</p>\n\n<pre><code> for ( i in properties ) { (function(){ \n  var j = i\n  //from now on use properties[j]\n</code></pre>\n\n<p>That's basically it, if I'm wrong in anything I said please correct me, since I'm trying to learn this...</p>\n\n<p>Thanks again.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p><strong>I think it's best not to use the <code>new</code> keyword at all when working in JavaScript.</strong></p>\n\n<p>This is because if you then instantiate the object <strong>without</strong> using the new keyword (ex: <code>var user = User()</code>) by mistake, <em>very bad things will happen...</em>reason being that in the function (if instantiated without the <code>new</code> keyword), the <code>this</code> will refer to the <strong>global object</strong>, ie the <code>window</code>...</p>\n\n<p>So therefore, I suggest a better way on how to use class-like objects.</p>\n\n<p>Consider the following example :</p>\n\n<pre><code>var user = function (props) {\n    var pObject = {};\n    for (p in props) {\n    \t(function (pc) {\n    \t\tpObject['set' + pc] = function (v) {\n    \t\t\tprops[pc] = v;\n    \t\t\treturn pObject;\n    \t\t}\n    \t\tpObject['get' + pc] = function () {\n    \t\t\treturn props[pc];\n    \t\t}\n    \t})(p);\n    }\n    return pObject;\n}\n</code></pre>\n\n<p>In the above example, I am creating a new object inside of the function, and then attaching getters and setters to this newly created object.</p>\n\n<p>Finally, I am returning this newly created object. <em>Note that the the <code>this</code> keyword is not used anywhere</em></p>\n\n<p>Then, to 'instantiate' a <code>user</code>, I would do the following:</p>\n\n<pre><code>var john = user({name : 'Andreas', age : 21});\njohn.getname(); //returns 'Andreas'\njohn.setage(19).getage(); //returns 19\n</code></pre>\n\n<p><strong>The best way to avoid falling into pitfalls is by not creating them in the first place</strong>...In the above example, I am avoiding the <code>new</code> keyword pitfall (<em>as i said, not using the <code>new</code> keyword when it's supposed to be used will cause bad things to happen</em>) by <strong>not using <code>new</code> at all.</strong></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I just modified the code a bit like this.. This one should work.. This is same as setting me=this;  But a closure is required to set the value of each property properly, else the last value will be assigned to all properties.</p>\n\n<pre><code>    // Create a new user object that accepts an object of properties\n    var User = function( properties ) {\n      // Iterate through the properties of the object, and make sure\n      // that it's properly scoped (as discussed previously)\n      var THIS = this;\n      for ( var i in properties ) { (function(i){\n      // Create a new getter for the property\n      THIS[ \"get\" + i ] = function() {\n        return properties[i];\n      };\n      // Create a new setter for the property\n      THIS[ \"set\" + i ] = function(val) {\n        properties[i] = val;\n      };\n    })(i); }\n    }\n\n    // Create a new user object instance and pass in an object of\n    // properties to seed it with\n    var user = new User({\n      name: \"Bob\",\n      age: 44\n    });\n\n// Just note that the name property does not exist, as it's private\n// within the properties object\nalert( user.name == null );\n\n// However, we're able to access its value using the new getname()\n// method, that was dynamically generated\nalert( user.getname() == \"Bob\" );\n\n// Finally, we can see that it's possible to set and get the age using\n// the newly generated functions\nuser.setage( 22 );\nalert( user.getage() == 22 );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm reading \"<a href=\"http://jspro.org/\">Pro Javascript Techniques</a>\" from John Resig, and I'm confused with an example. This is the code:</p>\n\n<pre><code>// Create a new user object that accepts an object of properties\nfunction User( properties ) {\n  // Iterate through the properties of the object, and make sure\n  // that it's properly scoped (as discussed previously)\n  for ( var i in properties ) { (function(){\n  // Create a new getter for the property\n  this[ \"get\" + i ] = function() {\n    return properties[i];\n  };\n  // Create a new setter for the property\n  this[ \"set\" + i ] = function(val) {\n    properties[i] = val;\n  };\n})(); }\n}\n\n// Create a new user object instance and pass in an object of\n// properties to seed it with\nvar user = new User({\n  name: \"Bob\",\n  age: 44\n});\n\n// Just note that the name property does not exist, as it's private\n// within the properties object\nalert( user.name == null );\n\n// However, we're able to access its value using the new getname()\n// method, that was dynamically generated\nalert( user.getname() == \"Bob\" );\n\n// Finally, we can see that it's possible to set and get the age using\n// the newly generated functions\nuser.setage( 22 );\nalert( user.getage() == 22 );\n</code></pre>\n\n<p>Now running that on Firebug console (on FF3) throws that user.getname() is not a function. I tried doing this:</p>\n\n<pre><code>var other = User\nother()\nwindow.getname() --&gt; this works!\n</code></pre>\n\n<p>And it worked!</p>\n\n<p>Any idea why? thanks everybody!</p>\n\n<p>PS: I strongly recommend this book.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>doing:</p>\n\n<pre><code>var me = this;\n</code></pre>\n\n<p>seems to work a bit better, but when executing \"getname()\" it returns '44' (the second property)...</p>\n\n<p>also I find it strange that it worked on the window object without modification...</p>\n\n<p>and a third question, what's the difference between PEZ solution and the original? (he doesn't use an anonymous function)</p>\n\n<p>Thanks to everyone for the feedback! +1</p>\n",
            "last_activity_date": 1320042086,
            "question_id": 377716,
            "score": 14,
            "tags": [
                "javascript",
                "metaprogramming"
            ],
            "title": "Javascript automatic getter/setters (John Resig Book)"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>One thing you can do is, you might have subfolders for each projects. So, install mongoose in that subfolders and require() mongoose from own folders in each sub applications. Not from the project root or from global. So one sub project, one mongoose installation and one mongoose instance.</p>\n\n<pre><code>-app_root/\n--foo_app/\n---db_access.js\n---foo_db_connect.js\n---node_modules/\n----mongoose/\n--bar_app/\n---db_access.js\n---bar_db_connect.js\n---node_modules/\n----mongoose/\n</code></pre>\n\n<p>In foo_db_connect.js</p>\n\n<pre><code>var mongoose = require('./node_modules/mongoose');\nmongoose.connect('mongodb://localhost/foo_db');\nmodule.exports = exports = mongoose;\n</code></pre>\n\n<p>In bar_db_connect.js</p>\n\n<pre><code>var mongoose = require('./node_modules/mongoose');\nmongoose.connect('mongodb://localhost/bar_db');\nmodule.exports = exports = mongoose;\n</code></pre>\n\n<p>In db_access.js files</p>\n\n<pre><code>var mongoose = require(\"./foo_db_connect.js\"); // bar_db_connect.js for bar app\n</code></pre>\n\n<p>Now, you can access multiple databases with mongoose.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>According to <a href=\"http://mongoosejs.com/docs/connections.html#multiple_connections\">the fine manual</a>, <code>createConnection()</code> <em>can</em> be used to connect to multiple databases.</p>\n\n<p>However, you need to create separate models for each connection/database:</p>\n\n<pre><code>var conn      = mongoose.createConnection('mongodb://localhost/testA');\nvar conn2     = mongoose.createConnection('mongodb://localhost/testB');\n\n// stored in 'testA' database\nvar ModelA    = conn.model('Model', new mongoose.Schema({\n  title : { type : String, default : 'model in testA database' }\n}));\n\n// stored in 'testB' database\nvar ModelB    = conn2.model('Model', new mongoose.Schema({\n  title : { type : String, default : 'model in testB database' }\n}));\n</code></pre>\n\n<p>I'm pretty sure that you can share the schema between them, but you have to check to make sure.</p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>I wrote <a href=\"https://github.com/xpepermint/mongoose-glue\" rel=\"nofollow\">mongoose-glue</a> module for that purpose.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm doing a Node.js project that contains sub projects. One sub project will have one Mongodb database and Mongoose will be use for wrapping and querying db. But the problem is </p>\n\n<ul>\n<li>Mongoose doesn't allow to use multiple databases in single mongoose instance as the models are build on one connection.</li>\n<li><p>To use multiple mongoose instances, Node.js doesn't allow multiple module instances as it has caching system in require(). I know disable module caching in Node.js but I think it is not the good solution as it is only need for mongoose. </p>\n\n<p>I've tried to use createConnection() and openSet() in mongoose, but it was not the solution.</p>\n\n<p>I've tried to deep copy the mongoose instance( <a href=\"http://blog.imaginea.com/deep-copy-in-javascript/\">http://blog.imaginea.com/deep-copy-in-javascript/</a> ) to pass new mongoose instances to the sub project, but it throwing \"RangeError: Maximum call stack size exceeded\". </p></li>\n</ul>\n\n<p>I want to know is there anyways to use multiple database with mongoose or any workaround for this problem? Because I think mongoose is quite easy and fast. Or any other modules as recommendations?</p>\n",
            "last_activity_date": 1411197181,
            "question_id": 19474712,
            "score": 13,
            "tags": [
                "javascript",
                "database",
                "node.js",
                "mongodb",
                "mongoose"
            ],
            "title": "Mongoose and multiple database in single node.js project"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The bad news, that there is no new debug capabilities in comparison to WP7/IE9. Please take a look on <a href=\"http://stackoverflow.com/questions/5198808/how-do-i-debug-internet-explorer-on-windows-phone-7\">How do I debug Internet Explorer on Windows Phone 7?</a> since we are in exactly the same situation on WP8.</p>\n\n<p>What I personally use on daily basis</p>\n\n<ol>\n<li><p>Debug your app in IE10 Desktop as much as possible</p></li>\n<li><p><a href=\"http://people.apache.org/~pmuellr/weinre/docs/latest/\">Weinre</a> remote debugger. <a href=\"https://vimeo.com/47159911\">Demo video.</a> You can use the following app based on Weinre to simplify its usage (no local setup needed) - <a href=\"https://github.com/sgrebnov/IeMobileDebugger\">IeMobileDebugger src</a> or <a href=\"http://www.windowsphone.com/s?appid=dd032799-1fd9-4ba5-9135-4589908063e7\">link to Store</a></p>\n\n<p>Supports</p>\n\n<p>Html traversing\nHtml node styles, properties, metrics\nReading console output\nExecuting js on device side from console (including intellisense)\nDynamic script injection - ability to debug live sites</p>\n\n<p>Not supported</p>\n\n<p>js breakpoints</p></li>\n<li><p>For javascript line by line debugging use <a href=\"http://lexandera.com/aardwolf/\">aardwolf</a>. <a href=\"https://vimeo.com/58078616\">Demo with VS integration</a>.</p></li>\n<li><p>To redirect console trace to Visual Studio output and be able to use console.log(\"some message\") for tracing</p></li>\n</ol>\n\n<p>index.html:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    window.console = {\n        log: function (str) { window.external.Notify(str); }\n    };\n\n    // output errors to console log\n    window.onerror = function (e) {\n        console.log(\"window.onerror ::\" + JSON.stringify(e));\n    };\n\n    console.log(\"Installed console !\");\n&lt;/script&gt;\n</code></pre>\n\n<p>MainPage.xaml.cs</p>\n\n<pre><code>private void Browser_Loaded(object sender, RoutedEventArgs e)\n{\n    Browser.IsScriptEnabled = true;\n    // Add your URL here\n    Browser.Navigate(new Uri(MainUri, UriKind.Relative));\n\n    Browser.ScriptNotify += (s, arg) =&gt;\n    {\n        Debug.WriteLine(arg.Value);\n    };           \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>While not a full solution, Lauri Piispanen's <a href=\"https://github.com/lauripiispanen/consolelog.js\" rel=\"nofollow\">consolelog.js</a>, a nodejs-based remote JS console logger could help you.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>FWIW: Windows Phone 8.1 finally supports remote debugging. See <a href=\"http://blogs.msdn.com/b/visualstudioalm/archive/2014/04/04/diagnosing-mobile-website-issues-on-windows-phone-8-1-with-visual-studio.aspx\">http://blogs.msdn.com/b/visualstudioalm/archive/2014/04/04/diagnosing-mobile-website-issues-on-windows-phone-8-1-with-visual-studio.aspx</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>IE10 has some wonderful enhancements in the HTML5 compliance area but remains a bear to develop JavaScript HTML5 when running on the WP8 as there is no way to debug the app except console messages.</p>\n\n<p>Is there a remote debugging experience available for IE10 running on WP8 like the WebKit phone browsers have(see my video at <a href=\"http://www.youtube.com/watch?v=GNAjzFpNEj4\">http://www.youtube.com/watch?v=GNAjzFpNEj4</a> for example). When this is in place with a USB cable to desktop Safari debugging Javascript apps on IOS is easy as breakpoints can be set and variables examined in the remote debugger . I am hoping the same capabilities are in IE10 and would appreciate any information on where to enable these very much needed capabilities.</p>\n",
            "last_activity_date": 1400512533,
            "question_id": 14567491,
            "score": 13,
            "tags": [
                "javascript",
                "windows-phone-8",
                "internet-explorer-10"
            ],
            "title": "Windows Phone 8 IE10 Javascript debugging"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>May be it depends on environment variables -- try to use full path to node instead of just \"nodejs\".\nIt worked for me on Mac OS (e.g. /usr/local/node instead of just node)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>{\n    \"cmd\": [\"node\",\"$file\"]\n}\n</code></pre>\n\n<p>works perfectly for me in windows and it shows the output in the sublime window. Although I dont know how to stop the server after from sublime, I have to search and kill the node process.</p>\n\n<p>Also, check node is in your PATH ;)</p>\n\n<p>Hope it works for you.</p>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>If all else fails, check Node Supervisor....... you only need to change the code and the server will reboot it self so you can see the changes live =)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Tested on Ubuntu Linux.  Use a file selector as below:</p>\n\n<pre><code>{\n  \"cmd\": [\"node\", \"$file\"],\n  \"selector\": \"*.js\"\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The method #2 of the link below solved for me:</p>\n\n<p><a href=\"http://www.wikihow.com/Create-a-Javascript-Console-in-Sublime-Text\" rel=\"nofollow\">http://www.wikihow.com/Create-a-Javascript-Console-in-Sublime-Text</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Mac users, type <code>which node</code> in terminal. It outputs the path of the node executable, which in most cases is <code>/usr/local/bin/node</code>. Now create a new build system (<code>Tools &gt; Build System &gt; New Build System</code>) with the following settings in Sublime Text.      </p>\n\n<pre><code>{   \n  \"cmd\": [\"/usr/local/bin/node\", \"$file\"],   \n  \"selector\": \"source.js\"   \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>Here is a tip for Windows,</p>\n\n<p>Most of the answers from this thread is correct but none is complete and at least no answer tells about how to kill existing Node process even if you are able to run node in sublime. So eventually if either of above approach worked for you, You will end up manually killing Node always.</p>\n\n<p>Here is What I have done for 'Windows':</p>\n\n<ol>\n<li>Open Sublime Text, Goto \"Tools\" -> \"Build System\" -> \"New Build System\"</li>\n<li>Above will open a new file, paste below content there, and save it as nodejs.xxx ( use default extension):\n{\n\"cmd\": [\"c:/test.bat\",\"$file\"]\n}</li>\n<li>Create a file ( c:/test.bat ) and paste this content (both of 2 lines) there:</li>\n</ol>\n\n<p>taskkill /F /IM \"node.exe\"\n\"c:/Program Files/nodejs/node.exe\" %1</p>\n\n<ol>\n<li>Save it, Switch to Sublime Text and select \"Tools\" -> \"Build System\" -> \"nodejs\"</li>\n<li>open any Nodejs Exectuable file and Hit CTRL+B.</li>\n<li>You're good to go. :)</li>\n</ol>\n\n<p>Enjoy noding.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Normally</p>\n\n<pre><code>\"cmd\":[\"node\",$file]\n</code></pre>\n\n<p>would work. However there is no way to stop the server than.\nI've found out the best solution which opens server in new console and the closes it automatically.\nI also works fine with supervisors or node-inspector</p>\n\n<pre><code>\"cmd\" : [\"start\", \"cmd.exe\", \"/C\", \"node\", \"$file\"]\n</code></pre>\n\n<p>I hope It'll help</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I can only see the console output only if the file exists/saved on disk. (for anonymous file I don't see the output either)</p>\n\n<p>Hope this helps </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I justed started learning JavaScript. While doing that, I got tired of embedding my JavaScript code into an HTML document in order to run it in the browser. I thought it would be nice to just run my scripts right in Sublime's console, so I wouldn't have to leave the editor. Therefore I was trying to create a JavaScript build system, since Sublime doesn't come with one.</p>\n\n<p>My idea was to use Node.js as the JavaScript interpreter. I installed it with the package manager of Linux Mint. As far as I can say it works just fine. Let's say I have a file <i>test.js</i> containing the following line of JavaScript code: <pre>console.log(\"Hello World\");</pre></p>\n\n<p>When I run <pre>nodejs /path/to/test.js</pre> in my console, I get: <pre>Hello World</pre>\nHowever, I don't get this to work with Sublime. I created a new Build system by clicking <i>Tools / Build System / New Build System</i>. I then typed in the following lines: <pre>{\n    \"cmd\": [\"nodejs\", \"$file\"]\n}</pre> As far as I know, this one line is the JSON representation of the following command: <pre>nodejs /path/to/current/file.ext</pre> Like I said, if I run this manually in the console, it works just fine. If I press F7 in Sublime, which is the shortcut for <i>Build</i>, Sublime's console shows up. It's empty though.</p>\n\n<p>There's another weird thing. Even though the (non-existing) output of Sublime's console indicates that the build system isn't configured to correctly work with Node.js, I got some Node.js errors displayed when I accidentally tried to run non-JS files such as the <i>Node.sublime-build</i> file. This is the output displayed in Sublime's console: <pre>\n/home/baerenfaenger/.config/sublime-text-2/Packages/User/Node.sublime-build:2\n    \"cmd\": [\"nodejs\", \"$file\"]\n      ^</p>\n\n<p>module.js:434\n  var compiledWrapper = runInThisContext(wrapper, filename, true);\n                        ^\nSyntaxError: Unexpected token :\n    at Module._compile (module.js:434:25)\n    at Object..js (module.js:464:10)\n    at Module.load (module.js:353:32)\n    at Function._load (module.js:311:12)\n    at Array.0 (module.js:484:10)\n    at EventEmitter._tickCallback (node.js:190:39)\n[Finished in 0.1s with exit code 1]</pre>\nSo why do I not get any output when executing actual JavaScript code? Thank you in advance!</p>\n",
            "last_activity_date": 1424397816,
            "question_id": 14427520,
            "score": 13,
            "tags": [
                "javascript",
                "node.js",
                "sublimetext2"
            ],
            "title": "Node.js build system in Sublime Text 2"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You are correct when you say that you need to reload the data when the state changes, in that you will have to have the javascript undo the changes made or render the contents again from the original state.</p>\n\n<p>This will probably better suit your agenda:\n<a href=\"https://github.com/thorsteinsson/jquery-routes\" rel=\"nofollow\">https://github.com/thorsteinsson/jquery-routes</a></p>\n\n<h2>Edit:</h2>\n\n<p>You might also consider using backbone.js (http://backbonejs.org/) as it will help you create structure and abstract code in a way that makes it easier to understand what needs to be done.</p>\n\n<p>Backbone comes with it's own url router and so called views.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It turns out I needed to update the page on statechange using History.js, not poState as I'd thought. below is my full (and working) code for anyone who may be having the same issue:</p>\n\n<pre><code>    var History = window.History;\n    var origTitle = document.title;\n\n    if ( !History.enabled ) { return false; }\n    History.pushState({state:$(this).attr('data-state'),leftcol:$('#left_col').html()}, origTitle, $(this).attr(\"href\"));           // save initial state to browser history\n\n    function updateContent(data) {\n        if(data == null) return;                    // check if null (can be triggered by Chrome on page load)\n        $('#left_col').html(data);              // replace left col with new (or old from history) data\n        History.pushState({state:$(this).attr('data-state'),leftcol:$('#left_col').html()}, origTitle, $(this).attr(\"href\"));           // save this state to browser history\n    }\n\n    History.Adapter.bind(window,'statechange',function(){           // use this NOT popstate (history.JS)\n        var State = History.getState();\n        //History.log(State.data, State.title, State.url);\n        updateContent(State.data.leftcol);                                          // call update content with data for left col from saved state\n    });\n\n    $('.ajaxload').live(\"click\", function() {                                   // attach click event, get html and send it to updateContent\n        $.get($(this).attr(\"rel\"), updateContent);\n        return false;\n    });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I'm using history.JS (latest) with Jquery (latest) to load and replace just a portion of a website, this is all working, currently I'm only trying to get it working in modern browsers so I'm not fiddling with the hash changes.</p>\n\n<p>Everything seems to work, however when I click the back button on the browser (latest FF &amp; Chrome) the page does not change (although the url and title do change). I've had a google and a look on here but I can't see what is happening. </p>\n\n<p>Looking on stack overflow I found this page: <a href=\"http://stackoverflow.com/questions/7949040/do-not-understand-history-js\">Do not understand History.js</a> which seems to be asking a similar question. I've add the loaded contents of the #left_col (which is the div being replaced) to the state data, but I'm not really sure where to go from there, I know I need to reload that data when the state changes, but I can't see how.</p>\n\n<pre><code>var History = window.History; \nvar origTitle = document.title;\nif ( !History.enabled ) {\n    return false;\n}\n\nHistory.Adapter.bind(window,'statechange',function(){ \n    var State = History.getState();     \n    History.log(State.data, State.title, State.url);\n});\n\n$('.ajaxload').live(\"click\", function() {\n    History.pushState({state:1,leftcol:$('#left_col').html()}, origTitle, $(this).attr(\"href\"));\n    $('#left_col').load($(this).attr(\"rel\"));\n    return false;\n});\n</code></pre>\n\n<p>I'd really appreciate any help!</p>\n\n<h2>update:</h2>\n\n<p>I managed to get the page to change on the user clicking back, but it doesn't load the right state (it seems to go two states back rather than one), the code I've added to the above code is:</p>\n\n<pre><code>window.addEventListener('popstate', function(event) {\n    var State = History.getState(); \n    $('#left_col').html(State.data.leftcol);\n});\n</code></pre>\n",
            "last_activity_date": 1340661284,
            "question_id": 11146397,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "history.js"
            ],
            "title": "JQuery &amp; history.js back button not working"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Unless you are calling that .bind() function after that markup is loaded onto the page, you need to use another function like .live() or preferably if using a recent version of jQuery, .on() because .bind() only targets DOM elements already present when run whereas .live() and .on() give you different scope options for keeping track of elements added to the page.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Do this.</p>\n\n<pre><code> $(document).on(\"click\",\".sframe\",function(e){\n var seat_number = this.id.match(/\\d/g);\n alert(seat_number); \n });\n</code></pre>\n\n<p>or</p>\n\n<pre><code> $(document).delegate(\".sframe\",\"click\",function(e){\n var seat_number = this.id.match(/\\d/g);\n alert(seat_number); \n\n });\n</code></pre>\n\n<p>Edit:</p>\n\n<p><strong>As of jQuery 1.7, the .live() method is deprecated. Use .on() to attach event handlers. Users of older versions of jQuery should use .delegate().</strong></p>\n",
                    "is_accepted": true,
                    "score": 35
                },
                {
                    "body": "<p>you have to re-attach the event handlers to the dynamically added elements into the DOM. <code>.live</code> method was used widely but now its deprecated. In jQuery version 1.7+ you can use <a href=\"http://api.jquery.com/on/\"><strong><code>.on</code></strong></a> or alternatively you can use <a href=\"http://api.jquery.com/delegate/\"><strong><code>.delegate</code></strong></a></p>\n\n<pre><code>$(document).on(\"click\",\".sframe\",function(e){\n\n});\n</code></pre>\n\n<p>using delegate</p>\n\n<pre><code>$(document).delegate(\".sframe\",\"click\",function(e){\n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>the subject is pretty descriptive of my problem, I am assuming it won't work this way, is there a way to make it work? (workaround)?</p>\n\n<p>Here is the code that is loaded via AJAX:</p>\n\n<pre><code>&lt;div&gt;\n&lt;div id=\"s0frame\" class=\"sframe\"&gt;&lt;/div&gt;\n&lt;div id=\"s1frame\" class=\"sframe\"&gt;&lt;/div&gt;\n&lt;div id=\"s2frame\" class=\"sframe\"&gt;&lt;/div&gt;\n&lt;div id=\"s3frame\" class=\"sframe\"&gt;&lt;/div&gt;\n&lt;div id=\"s4frame\" class=\"sframe\"&gt;&lt;/div&gt;\n&lt;div id=\"s5frame\" class=\"sframe\"&gt;&lt;/div&gt;\n&lt;div id=\"chatframe\" class=\"chat alpha60\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is my click event:</p>\n\n<pre><code>$('.sframe').bind('click', function() { \n    var seat_number = this.id.match(/\\d/g);\n    alert(seat_number); \n});\n</code></pre>\n",
            "last_activity_date": 1380292619,
            "question_id": 9272438,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "jQuery click() event not firing on AJAX loaded HTML elements"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It's a good question! +1 from me for it.</p>\n\n<p>There are no direct way to detect inside of <code>dataInit</code> whether it is called from Add or Edit form. In the same way if you use multiple editing mode (like <a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aform_editing\">form editing</a> and <a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3ainline_editing\">inline editing</a>) and multiple searching modes (<a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aadvanced_searching\">advance searching</a> dialog and <a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3atoolbar_searching\">the searching toolbar</a>) there are no direct way to detect in which place the control are used.</p>\n\n<p>As the workaround you can use the following. You can define a variable which you can set in the different value inside of an event which will be called in both Add and Edit form <strong>before</strong> the <code>dataInit</code> will be called. To tell the trust you have not so large choice. It's the <a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aform_editing#events\">beforeInitData</a> event only. So you can do like following</p>\n\n<pre><code>var myGrid = $(\"#list\"),\n    inEdit;\n\n$(\"#list\").jqGrid({\n    // all parameters of the jqGrid definition\n});\nmyGrid.jqGrid('navGrid', '#pager',\n  { del: false, search: false },\n  { // Edit\n      recreateForm: true,\n      beforeInitData: function () {\n          inEdit = true;\n      }\n  },\n  { // Add\n      recreateForm: true,\n      beforeInitData: function () {\n          inEdit = false;\n      }\n  });\n</code></pre>\n\n<p>I used <a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki%3aform_editing#properties\">recreateForm:true</a> property additionally to be sure that on every opening of the Add or Edit grid the form created new and the <code>dataInit</code> be called.</p>\n\n<p>In <a href=\"http://www.ok-soft-gmbh.com/jqGrid/SimpleLocalGridWithDataInitSourceDetect.htm\">the demo</a> the Add form looks like</p>\n\n<p><img src=\"http://i.stack.imgur.com/6XJjA.png\" alt=\"enter image description here\"></p>\n\n<p>Here the <code>dataInit</code> for the \"Notes\" write just the text \"in Add\" in the corresponding control. The \"Inv. No\" is the field which hold the id. The corresponding <code>&lt;input&gt;</code> control of the Add/Edit form is disabled. So the user can't make any changes. In case of \"Add\" dialog the method <code>$.jgrid.randId()</code> will be used to generate new unique id value.</p>\n\n<p>The corresponding Edit form are like on the picture below:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Yevbk.png\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": true,
                    "score": 20
                }
            ],
            "body": "<p>How I can differentiate in the dataInit event wether am I adding new data or editing it?</p>\n\n<p>Thanks in advance.</p>\n",
            "last_activity_date": 1352878891,
            "question_id": 6973896,
            "score": 13,
            "tags": [
                "javascript",
                "jqgrid"
            ],
            "title": "jqgrid differentiate in dataInit add and edit forms"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Something like this? <a href=\"http://www.quirksmode.org/css/textoverflow.html\">http://www.quirksmode.org/css/textoverflow.html</a></p>\n\n<p><strong>Text-Overflow</strong></p>\n\n<blockquote>\n  <p>The text-overflow declaration allows\n  you to deal with clipped text: that\n  is, text that does not fit into its\n  box. The ellipsis value causes three\n  periods to be appended to the text.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>Check out this article.\n<a href=\"http://www.switchonthecode.com/tutorials/javascript-tutorial-how-to-auto-ellipse-text\">http://www.switchonthecode.com/tutorials/javascript-tutorial-how-to-auto-ellipse-text</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>On a website I am working on users can add a heading to a section of a page.A simple example:</p>\n\n<pre><code>M11-001 - loss of container and goods from Manchester\n</code></pre>\n\n<p>With some headings the content can be quite in-depth. In reality, for the heading at least, this content isn't always needed. The first few words would suffice to differentiate between records. </p>\n\n<p>I could just set overflow:hidden to the div and ruthlessly cut of anything outside of the set width. </p>\n\n<p>I would prefer to add ... To the end. Like so:</p>\n\n<pre><code>M11-001 - loss of container...\n</code></pre>\n\n<p>So three full-stops would be added after either X width or X characters. </p>\n\n<p>Is this possible with CSS, or maybe JavaScript?</p>\n",
            "last_activity_date": 1303152700,
            "question_id": 5707420,
            "score": 13,
            "tags": [
                "javascript",
                "css",
                "xhtml",
                "text",
                "html"
            ],
            "title": "Cut off text in a div if it exceeds set width?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It sets <code>this</code> as the context from which the query is performed.</p>\n\n<p>An equivalent (and slightly more efficient) way to write it is:</p>\n\n<pre><code>return $(this).find('strong').length == 2;\n</code></pre>\n\n<p>When I say equivalent, I mean behind the scenes, it is actually flipped around into the version above.</p>\n\n<p>If you remove the <code>'strong'</code>, you won't have a valid selector. You'll be doing:</p>\n\n<pre><code>return $(this).find('').length == 2;\n</code></pre>\n\n<p>Looks like it just returns an empty jQuery object, which means <code>length</code> will be <code>0</code>, so you won't get any elements out of the <code>.filter()</code>.</p>\n",
                    "is_accepted": true,
                    "score": 30
                },
                {
                    "body": "<p>If you remove STRONG tag, it would check if any of LI contain string 1 character long, regardless if they encapsulated within STRONG tag.\nIn this case no results would be highlighted.\nSelectors like $('strong', this) and $(this).find('strong') are pretty much the same.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\" src=\"jquery.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;ul&gt;\n  &lt;li&gt;&lt;strong&gt;list&lt;/strong&gt; item 1 -\n    one strong tag&lt;/li&gt;\n  &lt;li&gt;&lt;strong&gt;list&lt;/strong&gt; item &lt;strong&gt;2&lt;/strong&gt; -\n    two &lt;span&gt;strong tags&lt;/span&gt;&lt;/li&gt;\n  &lt;li&gt;list item 3&lt;/li&gt;\n  &lt;li&gt;list item 4&lt;/li&gt;\n  &lt;li&gt;list item 5&lt;/li&gt;\n  &lt;li&gt;list item 6&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n$('li').filter(function(index) {\n  return $('strong', this).length == 1;\n}).css('background-color','red');\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Given the HTML above, what's the meaning of the comma in the selector below?</p>\n\n<pre><code>return $('strong', this).length == 2;\n</code></pre>\n\n<p>What will happen if I remove the word 'strong'?</p>\n",
            "last_activity_date": 1400635175,
            "question_id": 4543336,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "jquery-selectors",
                "comma"
            ],
            "title": "What&#39;s the meaning of the comma in a jQuery selector"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You are trying to access properties of ele before you've established if those properties exist. Try this kind of evidence chain:</p>\n\n<pre><code>if (ele.attributes &amp;&amp; ele.attributes[attr] &amp;&amp; typeof ele.attributes[attr] == 'undefined')\n</code></pre>\n\n<p>etc.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>With regard to your question's update, you could try this. </p>\n\n<p>It may be overkill, but if <code>getAttribute()</code> and the dot notation don't return a result, it iterates through the <code>attributes</code> object to try to find a match.</p>\n\n<p><strong>Example:</strong> <a href=\"http://jsfiddle.net/4ZwNs/\">http://jsfiddle.net/4ZwNs/</a></p>\n\n<pre><code>var funcs = {\n    getAttr: function(ele, attr) {\n        var result = (ele.getAttribute &amp;&amp; ele.getAttribute(attr)) || null;\n        if( !result ) {\n            var attrs = ele.attributes;\n            var length = attrs.length;\n            for(var i = 0; i &lt; length; i++)\n                if(attrs[i].nodeName === attr)\n                    result = attrs[i].nodeValue;\n        }\n        return result;\n    }\n};\n\nvar result = funcs.getAttr(el, 'hash');\n</code></pre>\n\n<p>It's up to you to do some cross-browser testing, though. :o)</p>\n\n<hr>\n\n<p>Using <code>ele.attributes</code>, you need to access them by index, as in:</p>\n\n<pre><code>ele.attributes[0].nodeName;   // \"id\" (for example)\nele.attributes[0].nodeValue;  // \"my_id\" (for example)\n</code></pre>\n\n<p>Trying to pass <code>attributes</code> an attribute name appears to return a value whose <code>typeof</code> is <code>object</code>, so your <code>else</code> code is running even though <code>ele.attributes[attr]</code> doesn't give you the value you want.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>For the vast majority of cases you can simply use the built in <code>getAttribute</code> function.</p>\n\n<p>e.g.</p>\n\n<pre><code>ele.getAttribute(attr)\n</code></pre>\n\n<p>According to <a href=\"http://www.quirksmode.org/dom/w3c_core.html\">QuirksMode</a> this should work on all major browsers (IE >= 6 included), with a minor exception:</p>\n\n<p>In IE5-7, accessing the <code>style</code> attribute gives an object, and accessing the <code>onclick</code> attribute gives an anonymous function wrapped around the actual content.</p>\n",
                    "is_accepted": false,
                    "score": 12
                }
            ],
            "body": "<p>trying to determine a decent, cross browser method for obtaining attributes with javascript? assume javascript library use (jQuery/Mootools/etc.) is not an option.</p>\n\n<p>I've tried the following, but I frequently get \"attributes\" is null or not an object error when IE tries to use the \"else\" method. Can anyone assist?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n//...\n    getAttr: function(ele, attr) {\n      if (typeof ele.attributes[attr] == 'undefined'){\n        return ele.getAttribute(attr);\n      } else {\n        return ele.attributes[attr].nodeValue;\n      }\n    },\n//...\n&lt;/script&gt;\n\n\n&lt;div&gt;\n &lt;a href=\"http://www.yo.com#foo\"&gt;Link&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>using the above html, in each browser, how do I getAttr(ele, <strong>'href'</strong>)? (assume selecting the ele node isn't an issue)</p>\n",
            "last_activity_date": 1355478987,
            "question_id": 3755227,
            "score": 13,
            "tags": [
                "javascript"
            ],
            "title": "Cross-browser, javascript getAttribute() method?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Heres a simple looking websockets example: <a href=\"http://www.dashdashverbose.com/2010/02/nodejs-websockets-stoopid-easy-comet.html\" rel=\"nofollow\">http://www.dashdashverbose.com/2010/02/nodejs-websockets-stoopid-easy-comet.html</a>\nI assume your max amount of users would depend mostly upon your connection and server software.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>On the server side, you'll need a script that can tell whether or not there is new content (eg: messages) based on a timestamp (eg: last request). On the client side, you have two options:</p>\n\n<p><a href=\"http://ajaxpatterns.org/Periodic_Refresh\" rel=\"nofollow\">Polling aka Periodic Refresh</a>:</p>\n\n<p>This basically means having your client poll the server in intervals to check whether or not there is new data. What you want is to keep your requests and responses as light as possible. It could also help if run the script handling these requests in a separate process.</p>\n\n<p>It will be up to you to tweak the interval to one that's acceptable for both the server and the user. You can also use a <a href=\"http://ajaxpatterns.org/Heartbeat\" rel=\"nofollow\">Heartbeat</a> to tell whether or not the user is still active, so you can stop polling the server if the user left the window open but is off the computer.</p>\n\n<p><a href=\"http://ajaxpatterns.org/HTTP_Streaming\" rel=\"nofollow\">HTTP Streaming aka \"Comet\"</a>: </p>\n\n<p>Using this will require some more setup; but this is basically a long-lived connection from the client to the server and the server can \"push\" content to the client when necessary.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<h2>Client Side</h2>\n\n<p>For any program that needs to poll the server I would recommend <a href=\"http://en.wikipedia.org/wiki/WebSockets\">WebSockets</a>. </p>\n\n<p>I wrote an <a href=\"http://joshuakehn.com/2010/9/22/WebSocket-Tutorial-with-Nodejs.html\">extremely basic WebSocket tutorial</a>. I also used the web-socket-js code to implement a FlashSocket that will make it work across Firefox, IE 8+, and Chrome, as well as any browser that supports WebSockets.</p>\n\n<p>I don't believe that polling would be a good choice for a chat application. While it would work, the request overhead would be much higher then using a WebSocket. The tradeoff (benefit) is that more browsers support it.</p>\n\n<p>Also, hitting a MySQL database to see if there are messages is going to incur a good deal of DB overhead. I would recommend using a MySQL database for chat logs, and only keep a limited number of \"back\" messages on hand for new connections. Then simply broadcast new messages to all connected clients. The frontend application would then take the message and append it to chat window.</p>\n\n<h2>Server Side</h2>\n\n<p>Node.js is an evented server-side JavaScript framework. While it is still young, several very interesting applications have been coded in it. The Node.js people setup a <a href=\"http://chat.nodejs.org/\">chat program</a> (not WebSockets) the source of which <a href=\"http://github.com/ry/node_chat\">has been made available</a>. That would be a very good place to start if not wanting to write it from scratch.</p>\n\n<p>There is a <a href=\"http://code.google.com/p/phpwebsocket/\">PHP WebSocket</a> implementation. Depending on your requirements it could be used just fine. Having coded in both Node.js and PHP I would say I think Node.js is a better fit for this. </p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>You could also try out <a href=\"http://www.icepush.org/product/overview.html\" rel=\"nofollow\">IcePush</a> - it is an ajax framework for pushing messages FROM the server TO the javascript client. This would be a perfect match for a chatclient!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you are a java developer, you can use <a href=\"http://jwebsocket.org/\" rel=\"nofollow\">jwebsocket</a> to implement the server. there are various examples on their site to start with as I'm also going through some of them.<br><br/>\n<b>Briefly from their website</b><br/>\njWebSocket is provided to you to create innovative HTML5 based streaming and communication applications on the web. HTML5 WebSockets will replace the existing XHR approaches as well as Comet services by a new flexible and ultra high speed bidirectional TCP socket communication technology. jWebSocket is an open source Java and JavaScript implementation of the HTML5 WebSocket protocol with a huge set of extensions.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm wondering what's the right way to code a chat application for thousands of users.</p>\n\n<p><strong>I'm just confused how will I be able to ping the server using AJAX every second or maybe less and check if there are new records in MySQL, etc with an acceptable amount of server(s) load.</strong></p>\n\n<p>I'm currently thinking about coding this using jQuery, PHP and MySQL.</p>\n\n<p>Please advice. Your help would be greatly appreciated.</p>\n",
            "last_activity_date": 1366878413,
            "question_id": 3682198,
            "score": 13,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "node.js",
                "comet"
            ],
            "title": "Writing a chat application"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I think you can use the <a href=\"https://developer.mozilla.org/en/using_files_from_web_applications\" title=\"HTML File API\">\"HTML File API\"</a> to load from file and a \"Data URI\" (http://en.wikipedia.org/wiki/Data_URI_scheme) to save.</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I'm working on a simple TODO list app based on localStorage HTML5 feature:</p>\n\n<p><a href=\"http://hamen.github.com/webnotes/\">http://hamen.github.com/webnotes/</a></p>\n\n<p>I'm wondering if it's possible to import/export data in some way. How could I provide an \"Export note/Import note\" feature to make users being able to save their note on their HD and import them in another browser profile?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1335899364,
            "question_id": 2845603,
            "score": 13,
            "tags": [
                "javascript",
                "html5",
                "local-storage"
            ],
            "title": "Import/Export HTML5 localStorage data"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p>On modern browsers: set <code>position: relative</code> on the container <code>div</code>, <code>position: absolute</code> on the third div. Then you can position it to the top and bottom of the container the same time: <code>top: 0px</code>, <code>bottom: 0px;</code></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You could also use faux columns by adding a vertically repeating background image to the CSS making the columns appear toy the space - this gives the appear. You could add this image to the div that wraps the three columns or to the body tag.</p>\n\n<p>If these columns a going to have content in them it's probably worth adding some as the columns will behave differently.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can hide the overflow in the containing DIV:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;style&gt;\n        *{margin:0;padding:0;}\n        html,body{height:100%;}\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div style=\"overflow:hidden;height:100%\"&gt;\n        &lt;div style=\"height:100px;background-color:#ddd\"&gt;&lt;/div&gt;\n        &lt;div style=\"height:25px;background-color:#eee\"&gt;&lt;/div&gt;\n        &lt;div style=\"height:100%;background-color:#ccc\"&gt;&amp;nbsp;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Note that content might dissapear when resizing the window using this technique.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In jQuery, you can try something like this:</p>\n\n<pre><code>$(function() {\n    $(window).resize(function() {\n        $('div:last').height($(window).height() - $('div:last').offset().top);\n    });\n    $(window).resize();\n});\n</code></pre>\n\n<p>Whenever the window is resized, the last div's height is modified so that the div extends to the bottom of the page. Window's resize method is called on page load so that the div is resized immediately.</p>\n\n<p>If you substract the top offset of the div from the height of the window, you are left with the maximum height available. If you have margins, borders of padding applied, you might have to adjust the value which is substracted, for example:</p>\n\n<pre><code>$('div:last').height($(window).height() - $('div:last').offset().top - 30);\n</code></pre>\n\n<p>Assuming you want the div 30px from the bottom of the window.</p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>You can use pure CSS <code>height:100%</code> (where 100% is the height of the visible area in the window) values in quirks mode by not using DOCTYPE at all or using IE-faulty HTML 4.0 DOCTYPE (without the .dtd url)</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\"&gt;\n&lt;html&gt;\n&lt;body style=\"margin:0; padding:0; overflow:hidden;\"&gt;\n&lt;div style=\"height: 100%; background: red\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>You can ditch the <code>&lt;!DOCTYPE..</code> entirely, it still would have the same effect. <code>overflow:hidden</code> declaration in body style is to get rid of the empty scrollbar in IE. But remember - this is <strong>quirks mode</strong> which means that you are on unpredictable territory, CSS box model differs from browser to browser!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>html style=\"height:100%\"&gt;\n&lt;head&gt;\n    &lt;style type=\"css\"&gt;\n        html , body {\n                width:100%; \n                height:100%;\n                padding:0px;\n                margin:0px;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body style=\"height:100%;padding:0px;margin:0px;\"&gt;\n    &lt;div style=\"height:100%;\"&gt;\n        &lt;div style=\"height:100px;background-color:#ddd\"&gt;&amp;nbsp;&lt;/div&gt;\n        &lt;div style=\"height:25px;background-color:#eee\"&gt;&amp;nbsp;&lt;/div&gt;\n        &lt;div style=\"position:fixed;top:125px;height:100%;width:100%;background-color:#ccc\"&gt;&amp;nbsp;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Perhaps this could work?! But I don't know whats happens if there is to mutch text...</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Simply don't worry about it if your goal is to have the colour fill the bottom.</p>\n\n<p>Set the colour of the outer div, and let the third one resize its height however it wants as content goes in.</p>\n\n<pre><code>&lt;html style=\"height:100%\"&gt;\n&lt;head&gt;\n    &lt;style type=\"css\"&gt;\n        html , body {\n                width:100%; height:100%;\n                padding:0px;\n                margin:0px;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body style=\"height:100%;padding:0px;margin:0px;\"&gt;\n    &lt;div style=\"height:100%;width:100%;background-color:#ccc\"&gt;\n        &lt;div style=\"height:100px;background-color:#ddd\"&gt;&amp;nbsp;&lt;/div&gt;\n        &lt;div style=\"height:25px;background-color:#eee\"&gt;&amp;nbsp;&lt;/div&gt;\n        &lt;div style=\"\"&gt;&amp;nbsp;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The property 'height: 100%;' will instruct browsers to take the 100 per cent of the available screen space for that particular div, which means that your browser will check the browsing space size and return it to the CSS engine without checking whether there are any elements inside it.</p>\n\n<p>The only workaround that I see to fit here is to use the solution provided by David to use 'position: absolute; bottom: 0;' for that div.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>it a bit ugly, but it works..</p>\n\n<pre><code> &lt;html style=\"height:100%\"&gt;\n    &lt;head&gt;\n    \t&lt;style type=\"css\"&gt;\n    \t\thtml , body {\n        \t\t\twidth:100%;\n        \t\t\theight:100%;\n        \t\t\tpadding:0px;\n        \t\t\tmargin:0px;\n    \t\t}\n    \t&lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body style=\"height:100%;padding:0px;margin:0px;\"&gt;\n    \t&lt;div style=\"width:100%;height:100%;\"&gt;\n    \t\t&lt;div style=\"width:100%;height:100px;background-color:#ddd;\"&gt;&amp;nbsp;&lt;/div&gt;\n    \t\t&lt;div style=\"width:100%;height:25px;background-color:#eee;\"&gt;&amp;nbsp;&lt;/div&gt;\n    \t\t&lt;div style=\"width:100%;height:100%;background-color:#ccc;margin-bottom:-1000em;padding-bottom:1000em;\"&gt;&amp;nbsp;&lt;/div&gt;\n    \t&lt;/div&gt;\n    &lt;/body&gt;\n &lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's a litle jquery fix I have done: </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;test&lt;/title&gt;\n&lt;script src=\"jquery-1.3.2.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function() {\n        var heightToFill = $(\"#parentDiv\").height() - $(\"#firstDiv\").height() - $(\"#secondDiv\").height();\n        $(\"#thirdDiv\").height(heightToFill);\n    });\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body style=\"height: 100%; padding: 0px; margin: 0px;\"&gt;\n&lt;div id=\"parentDiv\" style=\"height: 100%; width: 100%; position:absolute;\"&gt;\n    &lt;div id=\"firstDiv\" style=\"height: 100px; background-color: #ddd\"&gt;\n        &amp;nbsp;&lt;/div&gt;\n    &lt;div id=\"secondDiv\" style=\"height: 25px; background-color: #eee\"&gt;\n        &amp;nbsp;&lt;/div&gt;\n    &lt;div id=\"thirdDiv\" style=\"background-color: #ccc;\"&gt;\n        &amp;nbsp;a&lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>$(window).resize(function(){\n        $('.elastic').each(function(i,n){\n        var ph = $(this).parent().height();\n        var pw = $(this).parent().width();\n        var sh = 0; \n        var s = $(this).siblings().each(function(i,n){\n            sh += $(this).height();\n        })\n        $(this).height(ph-sh);\n        sh = 0, ph = 0, s=0;\n\n    }); \n});\n</code></pre>\n\n<p>put the following on on your script tag or external javascript.\nthen change &nbsp;</p>\n\n<p>when you resize the window... it will automatically fit its height to available space on the bottom. you could have as many divs as you like however you can only have one elastic inside that parent. couldnt be bothered to calculate multiple elastics :) hope it helps</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>$(document).ready(function() {\n    var heightToFill = $(\"#parentDiv\").height() - $(\"#firstDiv\").height() - $(\"#secondDiv\").height();\n    $(\"#thirdDiv\").height(heightToFill);\n\n    $(window).resize(function(){  var heightToFill = $(\"#parentDiv\").height() - $(\"#firstDiv\").height() - $(\"#secondDiv\").height();\n    $(\"#thirdDiv\").height(heightToFill);\n});\n</code></pre>\n\n<p>This should be included in case the browser is resized....</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to make the last/third div to be filled the whole remaining space. I given the 100% height but there is scroll bar is coming, which i dont want to show. I there any CSS solution for same. if not possible from css then the jQuery/JS solution will be fine.</p>\n\n<pre><code>&lt;html style=\"height:100%\"&gt;\n&lt;head&gt;\n    &lt;style type=\"css\"&gt;\n    \thtml , body {\n    \t\twidth:100%; height:100%;\n    \t\tpadding:0px;\n    \t\tmargin:0px;\n    \t}\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body style=\"height:100%;padding:0px;margin:0px;\"&gt;\n    &lt;div style=\"height:100%;width:100%\"&gt;\n    \t&lt;div style=\"height:100px;background-color:#ddd\"&gt;&amp;nbsp;&lt;/div&gt;\n    \t&lt;div style=\"height:25px;background-color:#eee\"&gt;&amp;nbsp;&lt;/div&gt;\n    \t&lt;div style=\"display:block;height:100%;background-color:#ccc\"&gt;&amp;nbsp;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1351374444,
            "question_id": 1818467,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css"
            ],
            "title": "How to apply 100% height to div?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You best bet to do this is to set an Expires header in IIS on the folders you want the content cached. This will tell most modern browsers and proxies to cache this static content. In IIS 6:</p>\n\n<ol>\n<li>Right click on the folder (example CSS or JS) you want to be cached by the browser.</li>\n<li>Click properties</li>\n<li>Go to the HTTP Headers Tab</li>\n<li>Check \"Enabled content expiration\"</li>\n<li>Set some long period for expiration, like \"Expires after 90 days\"</li>\n</ol>\n\n<p>Yahoo Developer's Blog <a href=\"http://developer.yahoo.net/blog/archives/2007/05/high%5Fperformanc%5F2.html\" rel=\"nofollow\">talks about this technique</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Unless you configure IIS to give asp.net control of js/css/image requests it won't see them by default, hence your best plan (for long term maintainability) is to deliberately tweak the response headers at your firewall/trafficmanager/server <em>or</em> (better and what most of the world does at this point) to version your files <em>in path,</em> i.e:</p>\n\n<p>Instead of writing this in your mark-up:</p>\n\n<pre><code>http://www.foo.com/cachingmakesmesad.css\n</code></pre>\n\n<p>Use this:</p>\n\n<pre><code>http://www.foo.com/cachingmakesmesad.css?v1\n</code></pre>\n\n<p>..and change the version number when you need to effectively clear cache. If that's every time then you could even append a GUID or datestamp instead, but I can't think of any occasion where I would want to do that really.</p>\n\n<p><hr /></p>\n\n<p>I thought your question was anti-cache but re-reading it I see I wasted a good answer there :P</p>\n\n<p>Long story short, browsers are normally very aggressively pro-caching \"simple\" resources so you shouldn't have to worry about this, but if you did want to do something about it you would have to have access to a firewall/trafficmanager/IIS for the reasons above (ASP.NET won't be given a chance by default).</p>\n\n<p><em>However...</em> there is no way you can absolutely force caching, and nor should you. What is and isn't cached is rightfully the decision of the end-user, all you can do is strongly request.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Its worth bearing in mind that even without Cache-Control or Expires headers most browsers will cache content such as JS and CSS.   What should happen though is the browser <em>should</em> request the resource every time its needed but will typically get a \"304 Unmodified\" response and the browser then uses the cached item.  This is can still be quite costly since its a round trip to the server but the resource itself isn't sent so the bytes transfered is limited.</p>\n\n<p>IE left with no specific instructions regarding caching will by default use its own heuristics to determine if it should even bother to re-request an item its cached.  This despite not being explicitly told that it can cache a resource.  Its hueristics are based on the Last-Modified date of the resource, the older its the less likely it'll have changed now is its typical reasoning.  Very wooly.</p>\n\n<p>Frankly if you want to make a site perfomant you need to have control over such cache settings.  If you don't have access to these settings then don't wouldn't worry about performance. Just inform the sponsor that it may not perform well because they haven't facilitated a platform that lets you deliver that.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>In .net you can set up your JavaScript, CSS and Images as embedded resources.\n.Net will then handle the file expiration for you.\nThe downside to this approach is that you have to do a new build for each set of changes (this might be an upside, depending on your deployment and workflow).</p>\n\n<p>You could also use ETags, but from what I understand in some cases it doesn\u2019t work well if you have mix of <a href=\"http://developer.yahoo.net/blog/archives/2007/07/high%5Fperformanc%5F11.html\" rel=\"nofollow\">IIS and apache Webservers hosting your images</a>, (or if you plan to switch in the future).</p>\n\n<p>You can just make sure the file date is newer, and let the server handle it for you, but you\u2019ve got to make sure the server is configured correctly.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Another technique is to stores you static images, css and js on another server (such as a <a href=\"http://en.wikipedia.org/wiki/Content%5FDelivery%5FNetwork\">CDN</a>) which has the Expires header set properly. The advantage of this is two-fold:</p>\n\n<ol>\n<li>The expires header will encourage browsers and proxies to cache these static files</li>\n<li>The CDN will offload from your server serving up static files.</li>\n<li>By using another domain name for your static content, browsers will download faster. This is because <a href=\"http://code.google.com/speed/page-speed/docs/rtt.html\">serving resources from four or five different hostnames increases parallelization of downloads</a>.</li>\n<li>If the CDN is configured properly and uses <a href=\"http://code.google.com/speed/page-speed/docs/request.html#ServeFromCookielessDomain\">cookieless domain</a> then you don't have unnecessary cookies going back and forth.</li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>You can cache static content by adding following code in web.config</p>\n\n<pre><code> &lt;system.webServer&gt;\n    &lt;staticContent&gt;\n      &lt;clientCache httpExpires=\"Tue, 12 Apr 2016 00:00:00 GMT\" cacheControlMode=\"UseExpires\" /&gt;\n    &lt;/staticContent&gt;\n&lt;/system.webServer&gt;\n</code></pre>\n\n<p>See the <a href=\"http://www.iis.net/configreference/system.webserver/staticcontent/clientcache\" rel=\"nofollow\">clientCache documentation</a> for more details. </p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Any suggestions on how to do browser caching within a asp.net application. I've found some different methods online but wasn't sure what would be the best. Specifically, I would like to cache my CSS and JS files. They do change, however, it is usually once a month at the most. </p>\n",
            "last_activity_date": 1396534159,
            "question_id": 955792,
            "score": 13,
            "tags": [
                "asp.net",
                "javascript",
                "css",
                "iis",
                "caching"
            ],
            "title": "Browser Caching in ASP.NET application"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Add <code>\u201cdata-no-turbolink\u201d to the &lt;body&gt; tag</code> of the the page you want it disabled on </p>\n\n<p>If you have a shared layout file which i am assuming you do, you can do an if statement and check the params[:controller] and params[:action] and just add it to the one area</p>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>Here's a slightly more general solution:</p>\n\n<p>In <code>/app/views/layouts/application.html.erb</code>, replace the <code>&lt;body&gt;</code> tag with this:</p>\n\n<pre><code>&lt;body \n  &lt;% if content_for?(:body_attributes) %&gt;\n    &lt;%= yield(:body_attributes) %&gt; \n  &lt;% end %&gt;&gt;\n</code></pre>\n\n<p>Now, if you want to disable turbolinks in a particular view, e.g. <code>/app/views/home/index.html.erb</code>, you can add this to the file:</p>\n\n<pre><code>  &lt;% content_for(:body_attributes) do %&gt;\n    data-no-turbolink=\"true\"\n  &lt;% end %&gt;\n</code></pre>\n\n<p>and that will end up rendering as:</p>\n\n<pre><code>&lt;body data-no-turbolink=\"true\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is an alternative way to code this up, I just choose which  tag to display based on the controller name.</p>\n\n<pre><code>    &lt;html&gt;\n      &lt;head&gt;&lt;/head&gt;\n      &lt;% if controller.controller_name == 'subscriptions' %&gt;\n        &lt;body data-no-turbolink&gt;\n      &lt;% else %&gt;\n        &lt;body &gt;\n      &lt;% end %&gt;\n\n     Add the rest of my body here...\n\n     &lt;/body&gt;\n   &lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to make a JS snippet works in a concrete page with Rails 4 and Turbolinks. I've tried with the standard solution:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n    var ready = function() {\n        // Bla bla\n    };\n\n    $(document).ready(ready);\n    $(document).on('page:load', ready);\n&lt;/script&gt;\n</code></pre>\n\n<p>But it doesn't seem to work. My snippet is something like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  function ismready() \n  {\n    var API_KEY = \"api key\";\n    var roomId  = \"room id\";\n    var ism = new Ismuser(API_KEY, roomId);\n    ism.init({\n      board: {\n        layer: \"board\"\n      },\n      video: {\n        camsContainer: \"guest\"\n      },\n      chat: {\n        layer: \"chat\"\n      },\n      moderator: true,\n    });\n  }\n&lt;/script&gt;\n&lt;script src=\"http://assets.ismuser.com/v0.4/js/ismuser.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>The snippet doesn't work as expected (even with the standard solution) and finally I just want to disable Turbolinks in this page.</p>\n\n<p>How can i do it?</p>\n\n<p>-- Solution</p>\n\n<pre><code>&lt;% content_for :body do %&gt;\n    &lt;% if controller.controller_name == 'home' &amp;&amp; controller.action_name == 'demo1' %&gt;\n        &lt;body data-no-turbolink=\"true\"&gt;\n    &lt;% end %&gt;\n&lt;% end %&gt;\n</code></pre>\n",
            "last_activity_date": 1421207344,
            "question_id": 22326473,
            "score": 12,
            "tags": [
                "javascript",
                "ruby-on-rails",
                "ruby",
                "turbolinks"
            ],
            "title": "Rails 4: disable Turbolinks in a specific page"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Instead of linking to the .PDF file, instead do something like </p>\n\n<pre><code>&lt;a href=\"pdf_server.php?file=pdffilename\"&gt;Download my eBook&lt;/a&gt;\n</code></pre>\n\n<p>which outputs a custom header, opens the PDF (binary safe) and prints the data to the user's browser, then they can choose to save the PDF despite their browser settings. The pdf_server.php should look like this:</p>\n\n<pre><code>header(\"Content-Type: application/octet-stream\");\n\n$file = $_GET[\"file\"] .\".pdf\";\nheader(\"Content-Disposition: attachment; filename=\" . urlencode($file));   \nheader(\"Content-Type: application/force-download\");\nheader(\"Content-Type: application/octet-stream\");\nheader(\"Content-Type: application/download\");\nheader(\"Content-Description: File Transfer\");            \nheader(\"Content-Length: \" . filesize($file));\nflush(); // this doesn't really matter.\n$fp = fopen($file, \"r\");\nwhile (!feof($fp))\n{\n    echo fread($fp, 65536);\n    flush(); // this is essential for large downloads\n} \nfclose($fp);\n</code></pre>\n\n<p><strong>EDIT:</strong> The only way to add headers to a request from inside a browser (client-side) is use the <a href=\"http://en.wikipedia.org/wiki/XMLHttpRequest\" rel=\"nofollow\">XmlHttpRequest</a> setRequestHeader method.</p>\n\n<pre><code>xhr.setRequestHeader('custom-header', 'value');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Tested to work in chrome:</p>\n\n<pre><code>function toBinaryString(data) {\n    var ret = [];\n    var len = data.length;\n    var byte;\n    for (var i = 0; i &lt; len; i++) { \n        byte=( data.charCodeAt(i) &amp; 0xFF )&gt;&gt;&gt; 0;\n        ret.push( String.fromCharCode(byte) );\n    }\n\n    return ret.join('');\n}\n\n\nvar xhr = new XMLHttpRequest;\n\nxhr.open( \"GET\", \"/test.pdf\" ); //I had test.pdf this on my local server\n\n\nxhr.addEventListener( \"load\", function(){\n    var data = toBinaryString(this.responseText);\n    data = \"data:application/pdf;base64,\"+btoa(data);\n    document.location = data;\n}, false);\n\nxhr.setRequestHeader(\"magic\", \"header\" );\nxhr.overrideMimeType( \"application/octet-stream; charset=x-user-defined;\" );\nxhr.send(null);\n</code></pre>\n\n<p>You can change application/pdf to application/octet-stream to have download prompt. But it's pretty easy to download from the chrome's reader as well.</p>\n\n<p>In firefox nothing happens I guess it's because I don't have a plugin to deal with <code>application/pdf</code> installed. Changing to application/octet-stream will prompt a dl.</p>\n\n<p>With IE I suppose you need some kind of VBScript/ActiveX hackery</p>\n\n<p>If the file is huge, using data uri might crash the browser, in that case you can use BlobBuilder and Object URLs.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I have an unusual requirement. Essentially I need a way so that, when the user clicks on a link or button, they will receive a PDF. The tricky part here is that the server won't process the request <em>at all</em> unless a custom header is sent with it (otherwise it deems the person logged out and sends them to the login screen).</p>\n\n<p>At the moment the way the header works cannot be changed so please don't dwell on it; it will get changed in the future and is an internal application that I have no control over.</p>\n\n<p>The options I have explored:</p>\n\n<ul>\n<li>Using an iframe or simply opening a new window with some sort of path that will return the PDF. This can't work because I cannot specify the required header for the PDF and would be redirected before reaching the PDF itself.</li>\n<li>Using a form and submitting the request can't work because I can't\nadd any custom headers to forms (only XHR and plugins can, AFAIK).</li>\n<li>Using XHR can't work because, while it can add the header and\nretrieve the file, there is no way to save it on the client side.</li>\n</ul>\n\n<p>It would appear my only options at this point are essentially:</p>\n\n<ul>\n<li>Use some sort of plugin such as Flash or Silverlight to request the file.</li>\n<li>Force the change of the requirement much earlier than expected so that a header is no longer required.</li>\n</ul>\n\n<p>Is there anything I am missing here? I'm hoping someone can either verify my findings or point me to something I missed because, as far as I can tell, there isn't really anything I can do here.</p>\n\n<p>EDIT: This seems apt and confirms what I was thinking: <a href=\"http://stackoverflow.com/questions/4750461/xmlhttprequest-to-open-pdf-in-browser\">XMLHttpRequest to open PDF in browser</a></p>\n",
            "last_activity_date": 1336574233,
            "question_id": 10516463,
            "score": 12,
            "tags": [
                "javascript",
                "html",
                "forms",
                "http",
                "header"
            ],
            "title": "Request a file with a custom header"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Find a JavaScript interpreter that has Python bindings. (Try Rhino? V8? SeaMonkey?). When you have found one, it should come with examples of how to use it from python.</p>\n\n<p>Python itself, however, does not include a <em>JavaScript interpreter</em>.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>To interact with JavaScript from Python I use webkit, which is the browser renderer behind Chrome and Safari. There are <a href=\"http://www.pyside.org/docs/pyside/PySide/QtWebKit/index.html\" rel=\"nofollow\">Python bindings to webkit through Qt</a>. In particular there is a function for executing JavaScript called <a href=\"http://www.pyside.org/docs/pyside/PySide/QtWebKit/QWebFrame.html#PySide.QtWebKit.PySide.QtWebKit.QWebFrame.evaluateJavaScript\" rel=\"nofollow\">evaluateJavaScript()</a>.</p>\n\n<p>Here is a full <a href=\"http://blog.sitescraper.net/2010/06/scraping-javascript-webpages-in-python.html\" rel=\"nofollow\">example to execute JavaScript and extract the final HTML</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can eventually get the JavaScript from the page and execute it through some interpreter (such as v8 or Rhino). However, you can get a good result in a way easier way by using some functional testing tools, such as <a href=\"http://seleniumhq.org/\" rel=\"nofollow\">Selenium</a> or <a href=\"http://splinter.cobrateam.info\" rel=\"nofollow\">Splinter</a>. These solutions launch a browser and effectively load the page - it can be slow but assures that the expected browser displayed content will be available.</p>\n\n<p>For example, consider the HTML document below:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Test&lt;/title&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            function addContent(divId) {\n                var div = document.getElementById(divId);\n                div.innerHTML = '&lt;em&gt;My content!&lt;/em&gt;';\n            }\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;p&gt;The element below will receive content&lt;/p&gt;\n        &lt;div id=\"mydiv\" /&gt;\n        &lt;script type=\"text/javascript\"&gt;addContent('mydiv')&lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The script below will use Splinter. Splinter will launch Firefox and after the complete load of the page it will get the content added to a div by JavaScript:</p>\n\n<pre><code>from splinter.browser import Browser\nimport os.path\n\nbrowser = Browser()\nbrowser.visit('file://' + os.path.realpath('test.html'))\nelements = browser.find_by_css(\"#mydiv\")\ndiv = elements[0]\nprint div.value\n\nbrowser.quit()\n</code></pre>\n\n<p>The result will be the content printed in the stdout.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>An interesting alternative I discovered recently is the Python <a href=\"https://pypi.python.org/pypi/python-bond\" rel=\"nofollow\">bond</a> module, which can be used to communicate with a NodeJs process (v8 engine).</p>\n\n<p>Usage would be very similar to the <a href=\"https://code.google.com/p/pyv8/\" rel=\"nofollow\">pyv8</a> bindings, but you can <em>directly</em> use any NodeJs library without modification, which is a major selling point for me.</p>\n\n<p>Your python code would look like this:</p>\n\n<pre><code>val = js.call('add2', var1, var2)\n</code></pre>\n\n<p>or even:</p>\n\n<pre><code>add2 = js.callable('add2')\nval = add2(var1, var2)\n</code></pre>\n\n<p>Calling functions though is definitely slower than pyv8, so it greatly depends on your needs. If you need to use an <code>npm</code> package that does a lot of heavy-lifting, <code>bond</code> is great. You can even have more nodejs processes running in parallel.</p>\n\n<p>But if you just need to call a bunch of JS functions (for instance, to have the same validation functions between the browser/backend), <code>pyv8</code> will definitely be a lot faster.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am working on a web-scraping project. One of the website, I am working has the data coming from Javascript.</p>\n\n<p>There was a suggestion in one of my earlier question, that I can directly call the Javascript from Python.</p>\n\n<p>Any idea how to do it? I was not able to figure out how to call the Javascript function for instance in Python.</p>\n\n<p>For example :\nIf JS function is defined as : <code>add_2(var,var2)</code></p>\n\n<p>How do we call the same function from Python ? Any useful reference would be highly appreciated.</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1410624440,
            "question_id": 8284765,
            "score": 12,
            "tags": [
                "javascript",
                "python",
                "screen-scraping",
                "web-scraping"
            ],
            "title": "Call Javascript function from Python"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The scroll bars for body and window are different and you have to make sure you aren't scrolling on the window object.  Here is a jsfiddle that illustrates the issue you are probably encountering.  </p>\n\n<p><a href=\"http://jsfiddle.net/keroger2k/DQuKr/1/\" rel=\"nofollow\">jsfiddle</a></p>\n\n<p>I'm not for sure if you can change the 'el' to the document.window object, but I don't think that would be a good solution anyway.  I would say your best bet is to either use CSS like I've done to help you with the body element or to create a div inside the body and reference that verse the body tag.  </p>\n\n<p>Good luck.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I don't think that the <code>body</code> element will fire a scroll event unless you explicitly give it a scrollbar by setting set its <code>overflow</code> property to <code>scroll</code> in CSS. From the jQuery docs:</p>\n\n<blockquote>\n  <p>The scroll event is sent to an element when the user scrolls to a different place in the element. It applies to window objects, but also to scrollable frames and elements with the overflow CSS property set to scroll (or auto when the element's explicit height or width is less than the height or width of its contents).</p>\n</blockquote>\n\n<p>Assuming that you aren't explicitly giving the <code>body</code> element a scrollbar with <code>overflow:scroll</code> and/or a fixed height, the <code>scroll</code> event you want to listen for is probably being fired by the <code>window</code> object, not the <code>body</code>.</p>\n\n<p>I think the best approach here is to drop the Backbone event binding (which is really just a shorthand, and only works on events within the <code>view.el</code> element) and bind directly to the window in <code>initialize()</code>:</p>\n\n<pre><code>initialize: function() {\n    _.bindAll(this, 'detect_scroll');\n    // bind to window\n    $(window).scroll(this.detect_scroll);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>I think the problem is that Backbone uses event delegation to capture events, that is it attaches listeners to the <code>this.$el</code>, and that the <code>scroll</code> event does not bubble up by definition.\nSo, if the <code>scroll</code> event occurs for a child (or descendant) of <code>this.$el</code>, then this event can not be observed at <code>this.$el</code>.</p>\n\n<p>The reason it works for <code>click</code>, is just because <code>click</code> bubbles up.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I had same issue and this is how I implemented it</p>\n\n<pre><code>var MyView = Backbone.View.extend({\nel: $('body'),\ninitialize: function() {\n    $(window).scroll(function() {\n        if ($(window).scrollTop()!=0 &amp;&amp; $(window).scrollTop() == $(document).height() - $(window).height()) {\n            if (mpListModel.get('next')) {\n                var res = confirm('Next page?');\n                if (res==true) {\n                    myView.fetch()\n                }\n            }\n        }\n    });\n},\nevents: {},\nfetch: function() {\n    //fetch stuff\n}\n</code></pre>\n\n<p>});\nvar myView = MyView();</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a following view</p>\n\n<pre><code>var FullWindow = Backbone.View.extend({\n  initialize: function() {\n    _.bindAll(this, 'detect_scroll');\n  },\n\n  // bind the events\n  events : {\n    \"scroll\" : \"detect_scroll\"\n  },\n\n  detect_scroll: function() {\n    console.log('detected');\n  }\n});\n</code></pre>\n\n<p>and I initialize it via</p>\n\n<pre><code>var full_window = new FullWindow({el:$('body')});\n</code></pre>\n\n<p>But I don't think it's working.</p>\n\n<p>When I change the events to</p>\n\n<pre><code>events : {\n  \"click\" : \"detect_scroll\"\n},\n</code></pre>\n\n<p>It's fine.</p>\n\n<p>What's wrong?</p>\n",
            "last_activity_date": 1407433318,
            "question_id": 7634529,
            "score": 12,
            "tags": [
                "javascript",
                "backbone.js"
            ],
            "title": "Backbone.js detecting scroll event"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Imagine you have site with many ajax requests. There is a change in design. Now before each request you want to display some custom loading gif. You neeed to change all the code where there is an ajax request or you can use proxy pattern.</p>\n\n<pre><code>var proxied = jQuery.ajax; // Preserving original function\njQuery.ajax = function() { \n    jQuery(\"#loading\").dialog({modal: true});\n    return proxied.apply(this, arguments);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>In general - Proxy Pattern comes to control access to a resource. By doing so it can solve several potential issues:</p>\n\n<ol>\n<li>prevent incorrect or malicious use of the resource</li>\n<li>prevent/control access to a resource that is too expensive to create</li>\n</ol>\n\n<p>jQuery use the term rather loosely, but their idea is that you override/hide the existing method (in their example <code>jQuery.fn.setArray</code>) while adding more functionality to it. </p>\n\n<pre><code>(function() { // envelop everyting in anonymous immediately called function \n  var proxied = jQuery.fn.setArray; // save current method\n  jQuery.fn.setArray = function() { // override the method\n    console.log(this, arguments); // add functionality\n    return proxied.apply(this, arguments); // call original method and return \n                                           // its result\n  };\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here's one example of a proxy pattern used to record what listeners are being set: <a href=\"http://stackoverflow.com/questions/6667544/why-does-google-1-record-my-mouse-movements/6668055#6668055\">Why does Google +1 record my mouse movements?</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>At Javascript Patters book, Stoyan Stefanov describes this pattern as so:</p>\n\n<blockquote>\n  <p>In the proxy pattern, one object acts as an interface to another object. The proxy sits between the client of an object and the object itself and protects the access to that object.</p>\n</blockquote>\n\n<p>This pattern may look overhead but it's useful for perfomance purposes. The proxy servers as a guardian of the object (also called \"real subject\") and tries to have the real subject do as little work as possible.</p>\n\n<p><strong>A real example</strong></p>\n\n<p>The proxy pattern is useful when the real subject does something expensive. In web\napplications, one of the most expensive operations you can do is a network request, so\nit makes sense to combine HTTP requests as much as possible.</p>\n\n<p>You can see an example here: <a href=\"http://www.jspatterns.com/book/7/proxy.html\">http://www.jspatterns.com/book/7/proxy.html</a>. (take a look at the source code).</p>\n\n<p>You have a list of videos on the page. When the user clicks a video title, the area\nbelow the title expands to show more information about the video and also enables the\nvideo to be played. The detailed video information and the URL of the video are not\npart of the page; they need to be retrieved by making a web service call. The web service\ncan accept multiple video IDs, so we can speed up the application by making fewer\nHTTP requests whenever possible and retrieving data for several videos at one time.</p>\n\n<p>The <strong>videos</strong> object doesn't call the <strong>HTTP</strong> service directly but calls the <strong>proxy</strong> instead. The proxy then waits before forwarding the request. If other calls from videos come in the 50ms waiting period, they will be merged into one. A delay of 50ms is pretty much imperceptible for the user but can help combine requests and speed up the experience when clicking \u201ctoggle\u201d and expanding more than one video at once. It also reduces the server load significantly since the web server has to handle a smaller number of requests.</p>\n\n<p><em><strong>Without proxy</em></strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/HSUQe.jpg\" alt=\"Without proxy\"></p>\n\n<p><em><strong>Proxy</em></strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/YxCpk.jpg\" alt=\"With Proxy\"></p>\n\n<p><em><strong>Proxy as a cache</em></strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/6E3ru.jpg\" alt=\"As a cache\"></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>The Proxy pattern provides a surrogate or placeholder object for another object and controls access to this other object.</p>\n\n<p>In object-oriented programming, objects do the work they advertise through their interface (properties and methods). Clients of these objects expect this work to be done quickly and efficiently. However, there are situations where an object is severely constrained and cannot live up to its responsibility. Typically this occurs when there is a dependency on a remote resource (resulting in network latency) or when an object takes a long time to load.</p>\n\n<p>In situations like these you apply the Proxy pattern and create a proxy object that \u2018stands in\u2019 for the original object. The Proxy forwards the request to a target object. The interface of the Proxy object is the same as the original object and clients may not even be aware they are dealing with a proxy rather than the real object.</p>\n\n<p><img src=\"http://i.stack.imgur.com/RgK0Q.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong>Client</strong> -- In sample code: the run() function</p>\n\n<ul>\n<li>calls Proxy to request an operation.</li>\n</ul>\n\n<p><strong>Proxy</strong> -- In sample code: GeoProxy</p>\n\n<ul>\n<li><p>provides an interface similar to the real object</p></li>\n<li><p>maintains a reference that lets the proxy access the real object</p></li>\n<li><p>handles requests and forwards these to the real object</p></li>\n</ul>\n\n<p><strong>RealSubject</strong> -- In sample code: GeoCoder</p>\n\n<ul>\n<li>defines the real object for which service is requested</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I've come across the notion of 'Proxy Pattern' today on jQuery.com, but could not make anything of it. Apparently it is of great use, but I do not understand the idea at all, it sounds alien to me. Could someone please explain it to me in simple terms, \"as if I were a 3 year old\"? </p>\n",
            "last_activity_date": 1377059084,
            "question_id": 7379732,
            "score": 12,
            "tags": [
                "javascript"
            ],
            "title": "What is a JavaScript &quot;Proxy Pattern&quot;?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The problem is encoding and storing binary data in javascript strings. There's a pretty good section on this under Buffers at <a href=\"http://nodejs.org/api.html\">http://nodejs.org/api.html</a>.</p>\n\n<p>Unfortunately, the easiest way to fix this involved changing the request npm. I had to add <code>response.setEncoding('binary');</code> on line 66 just below <code>var buffer;</code> in /path/to/lib/node/.npm/request/active/package/lib/main.js. This will work fine for this request but not others. You might want to hack it so that this is only set based on some other passed option.</p>\n\n<p>I then changed <code>var buf = new Buffer(body)</code> to <code>var buf = new Buffer(body, 'binary');</code>. After this, everything worked fine.</p>\n\n<p>Another way to do this, if you really didn't want to touch the request npm, would be to pass in an object that implements Writable Stream in the responseBodyStream argument to request. This object would then store the streamed data from the response in it's own buffer. Maybe there is a library that does this already... i'm not sure.</p>\n\n<p>I'm going to leave it here for now, but feel free to comment if you want me to clarify anything.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p><strong>Check out comments. New solution at <a href=\"http://gist.github.com/583836\">http://gist.github.com/583836</a></strong></p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>The following code (available at <a href=\"https://gist.github.com/804225\">https://gist.github.com/804225</a>)</p>\n\n<pre><code>var URL = require('url'),\n    sURL = 'http://nodejs.org/logo.png',\n    oURL = URL.parse(sURL),\n    http = require('http'),\n    client = http.createClient(80, oURL.hostname),\n    request = client.request('GET', oURL.pathname, {'host': oURL.hostname})\n;\n\nrequest.end();\nrequest.on('response', function (response)\n{\n    var type = response.headers[\"content-type\"],\n        prefix = \"data:\" + type + \";base64,\",\n        body = \"\";\n\n    response.setEncoding('binary');\n    response.on('end', function () {\n        var base64 = new Buffer(body, 'binary').toString('base64'),\n            data = prefix + base64;\n        console.log(data);\n    });\n    response.on('data', function (chunk) {\n        if (response.statusCode == 200) body += chunk;\n    });\n});\n</code></pre>\n\n<p>should also produce a data URI without requiring any external modules. </p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>Using Node v0.2.0 I am trying to fetch an image from a server, convert it into a base64 string and then embed it on the page in an image tag. I have the following code:</p>\n\n<pre><code>var express = require('express'),\nrequest = require('request'),\nsys = require('sys');\n\nvar app = express.createServer(\n    express.logger(),\n    express.bodyDecoder()\n);\n\napp.get('/', function(req, res){\n\n    if(req.param(\"url\")) {\n        var url = unescape(req.param(\"url\"));\n        request({uri:url}, function (error, response, body) {\n          if (!error &amp;&amp; response.statusCode == 200) {\n\n                var data_uri_prefix = \"data:\" + response.headers[\"content-type\"] + \";base64,\";\n                var buf = new Buffer(body);\n                var image = buf.toString('base64');\n\n                image = data_uri_prefix + image;\n\n                res.send('&lt;img src=\"'+image+'\"/&gt;');\n\n          }\n        });\n    }\n});\n\napp.listen(3000);\n</code></pre>\n\n<p>Note: This code requires \"<a href=\"http://expressjs.com/\">express</a>\" and \"<a href=\"http://github.com/mikeal/node-utils/tree/master/request/\">request</a>\". And of course, <a href=\"http://nodejs.org/\">node</a>. If you have npm installed, it should be as simple as \"npm install express\" or \"npm install request\".</p>\n\n<p>Unfortunately, this doesn't work as expected. If I do the conversion with the <a href=\"http://www.google.co.uk/intl/en_com/images/srpr/logo1w.png\">Google logo</a>, then I get the following at the beginning of the string:</p>\n\n<blockquote>\n  <p>77+9UE5HDQoaCgAAAA1JSERSAAABEwAAAF8IAwAAAO+/ve+/ve+/vSkAAAMAUExURQBzCw5xGiNmK0t+U++/vQUf77+9BiHvv70WKO+/vQkk77+9D</p>\n</blockquote>\n\n<p>However if I use an online <a href=\"http://www.opinionatedgeek.com/dotnet/tools/base64encode/\">Base64 encoder</a> with the same image, then it works perfectly. The string starts like this:</p>\n\n<blockquote>\n  <p>iVBORw0KGgoAAAANSUhEUgAAARMAAABfCAMAAAD8mtMpAAADAFBMVEUAcwsOcRojZitLflOWBR+aBiGQFiipCSS8DCm1Cya1FiyNKzexKTjDDSrLDS</p>\n</blockquote>\n\n<p>Where am I going wrong that this isn't working correctly? I have tried so many different js base64 implementations and they all don't work in the same way. The only thing I can think of is that I am trying to convert the wrong thing into base64, but what should I convert if that is the case?</p>\n",
            "last_activity_date": 1301417843,
            "question_id": 3709391,
            "score": 12,
            "tags": [
                "javascript",
                "image",
                "node.js",
                "base64"
            ],
            "title": "Node.js base64 encode a downloaded image for use in data URI"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Yes, it should continue to propagate.  Events have no real attachment to the event they fired on, except for the <code>target</code> property.  When you remove the element, the internal code propagating the event should not have any \"awareness\" that the original element has gone from the visible document. </p>\n\n<p>As an aside, using <code>removeChild</code> will not delete an element right away, it just detaches it from the document tree.  An element should only be deleted/garbage collected when there are no references to it.  Therefore, it's possible that the element could still be referred to via the <code>event.target</code> property and even re-inserted before being garbage collected.  <strike>I haven't tried it though, so it's just speculation.</strike> </p>\n\n<p><hr/>\nT.J. Crowder's comment made me decide to knock up a quick example. I was right on both counts, it does bubble and you can still get a reference to the removed node using <code>event.target</code>.  </p>\n\n<p><a href=\"http://jsbin.com/ofese/2/\">http://jsbin.com/ofese/2/</a></p>\n\n<p><hr/>\nAs T.J. discovered, that is not the case in IE.  But the DOM Level 2 Events specification <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-flow-bubbling\">does define it as correct behavior</a> [emphasis mine]:.</p>\n\n<blockquote>\n  <p>Events which are designated as bubbling will initially proceed with the same event flow as non-bubbling events. The event is dispatched to its target EventTarget and any event listeners found there are triggered. Bubbling events will then trigger any additional event listeners found by following the EventTarget's parent chain upward, checking for any event listeners registered on each successive EventTarget. This upward propagation will continue up to and including the Document. EventListeners registered as capturers will not be triggered during this phase. <strong>The chain of EventTargets from the event target to the top of the tree is determined before the initial dispatch of the event. If modifications occur to the tree during event processing, event flow will proceed based on the initial state of the tree.</strong></p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><strong>Empirically:</strong> It depends on what browser you're using; IE cancels the event, everything else (as far as I can tell) continues it. See the test pages and discussion below.</p>\n\n<p><strong>Theoretically:</strong> <a href=\"http://stackoverflow.com/users/94197/andy-es-head\">Andy E's head</a> helpfully <a href=\"http://stackoverflow.com/questions/2732818/if-you-delete-a-dom-element-do-any-events-that-started-with-that-element-continu/2732838#2732838\">found</a> that <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-flow-bubbling\" rel=\"nofollow\">DOM2 says the event should continue</a> because bubbling should be based on the <em>initial</em> state of the tree. So the behavior of the majority is correct, IE's on its own here. Quelle surprise.</p>\n\n<p><strong>But:</strong> Whether that relates to what you're seeing is another question indeed. You're watching for clicks on a parent element of the table, and what you suspect is that very rarely, when you click the table, there's a race condition with an Ajax completion that replaces the table and the click gets lost. That race condition can't exist within the Javascript interpreter because for now, Javascript on browsers is single-threaded. (Worker threads are coming, though&nbsp;&mdash; whoo hoo!) But in theory, the click could happen and get queued by a non-Javascript UI thread in the browser, then the ajax could complete and replace the element, and then the queued UI event gets processed and doesn't happen at all or doesn't bubble because the element no longer has a parent, having been removed. Whether that can actually happen will depend a <em>lot</em> on the browser implementation. If you're seeing it on any open source browsers, you might look at their source for queuing up UI events for processing by the interpreter. But that's a different matter than actually removing the element with code <em>within</em> the event handler as I have below.</p>\n\n<p><strong>Empirical results for the does-bubbling-continue aspect:</strong></p>\n\n<p>Tested Chrome 4 and Safari 4 (e.g., WebKit), Opera 10.51, Firefox 3.6, IE6, IE7, and IE8. IE was the only one that cancelled the event when you removed the element (and did so consistently across versions), none of the others did. Doesn't seem to matter whether you're using DOM0 handlers or more modern ones.</p>\n\n<p><strong>UPDATE:</strong>\nOn testing, IE9 and IE10 continue the event, so IE noncompliance with spec stops at IE8.</p>\n\n<p>Test page using DOM0 handlers:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-type\" content=\"text/html;charset=UTF-8\"&gt;\n&lt;title&gt;Test Page&lt;/title&gt;\n&lt;style type='text/css'&gt;\nbody {\n    font-family: sans-serif;\n}\n#log p {\n    margin:     0;\n    padding:    0;\n}\n&lt;/style&gt;\n&lt;script type='text/javascript'&gt;\nwindow.onload = pageInit;\n\nfunction pageInit() {\n    var parent, child;\n\n    parent = document.getElementById('parent');\n    parent.onclick = parentClickDOM0;\n    child = document.getElementById('child');\n    child.onclick = childClickDOM0;\n}\n\nfunction parentClickDOM0(event) {\n    var element;\n    event = event || window.event;\n    element = event.srcElement || event.target;\n    log(\"Parent click DOM0, target id = \" + element.id);\n}\n\nfunction childClickDOM0(event) {\n    log(\"Child click DOM0, removing\");\n    this.parentNode.removeChild(this);\n}\n\nfunction go() {\n}\n\nvar write = log;\nfunction log(msg) {\n    var log = document.getElementById('log');\n    var p = document.createElement('p');\n    p.innerHTML = msg;\n    log.appendChild(p);\n}\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;&lt;div&gt;\n&lt;div id='parent'&gt;&lt;div id='child'&gt;click here&lt;/div&gt;&lt;/div&gt;\n&lt;hr&gt;\n&lt;div id='log'&gt;&lt;/div&gt;\n&lt;/div&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Test page using <code>attachEvent</code>/<code>addEventListener</code> handlers (via Prototype):</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-type\" content=\"text/html;charset=UTF-8\"&gt;\n&lt;title&gt;Test Page&lt;/title&gt;\n&lt;style type='text/css'&gt;\nbody {\n    font-family: sans-serif;\n}\n#log p {\n    margin:     0;\n    padding:    0;\n}\n&lt;/style&gt;\n&lt;script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/prototype/1.6.1.0/prototype.js'&gt;&lt;/script&gt;\n&lt;script type='text/javascript'&gt;\ndocument.observe('dom:loaded', pageInit);\nfunction pageInit() {\n    var parent, child;\n\n    parent = $('parent');\n    parent.observe('click', parentClick);\n    child = $('child');\n    child.observe('click', childClick);\n}\n\nfunction parentClick(event) {\n    log(\"Parent click, target id = \" + event.findElement().id);\n}\n\nfunction childClick(event) {\n    log(\"Child click, removing\");\n    this.remove();\n}\n\nfunction go() {\n}\n\nvar write = log;\nfunction log(msg) {\n    $('log').appendChild(new Element('p').update(msg));\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;&lt;div&gt;\n&lt;div id='parent'&gt;&lt;div id='child'&gt;click here&lt;/div&gt;&lt;/div&gt;\n&lt;hr&gt;\n&lt;div id='log'&gt;&lt;/div&gt;\n&lt;/div&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>It's been quite some time since I originally posted this question.  Although T.J.Crowder's answer was very informative (as was Andy E's), and told me it <em>should</em> work, I continued to see a problem.  I put it aside for some time, but revisited it today when I encountered the same issue again in another web application.</p>\n\n<p>I played around with it for a while, and I came to realize how to duplicate the problem every-time (at least in FF3.6 and Chrome 8).  The problem wasn't that the event bubble was getting cancelled, or lost when the DOM element was removed.  Instead, the problem is that if the element is changed <em>between</em> mousedown and mouseup, the 'click' does not fire.  </p>\n\n<p>Per the <a href=\"https://developer.mozilla.org/en/DOM/element.onclick\">Mozilla Development Network</a>:</p>\n\n<blockquote>\n  <p>The click event is raised when the user clicks on an element. The click event will occur after the mousedown and mouseup events.</p>\n</blockquote>\n\n<p>So, when you have a DOM element that is changing at all, you can encounter this problem.  And I erroneously believed the event bubble was being lost.  It just happens that if you have a frequently updating element, you see it more often (which is my case) and are less likely to pass it off as a fluke.</p>\n\n<p>Additional testing (see the <a href=\"http://jsfiddle.net/belorion/sQtrY/2/\">example</a> on jsfiddle) shows that if one clicks, holds the button down and waits for the DOM element to change, and then releases the button, we can observe (in the jquery live context):</p>\n\n<ul>\n<li>The 'click' event does <em>not</em> fire</li>\n<li>The 'mousedown' event fires for the first node</li>\n<li>The 'mouseup' event fires for the updated node</li>\n</ul>\n\n<p>EDIT: Tested in IE8.  IE8 fires mousedown for first node, mouseup for updated node, but <em>does</em> in fact fire 'click', using the updated node as the event source.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>What behavior should I expect if I delete a DOM element that was used to start an event bubble, or whose child started the event bubble - will it continue to bubble if the element is removed?</p>\n\n<p>For example - lets say you have a table, and want to detect click events on the table cells.  Another piece of JS has executed an AJAX request that will eventually replace the table, in full, once the request is complete.</p>\n\n<p>What happens if I click the table, and immediately after the table gets replaced by a successful completion of an AJAX request?  I ask because I am seeing some behavior where the click events don't seem to be bubbling - but it is hard to duplicate.  </p>\n\n<p>I am watching the event on a parent element of the table (instead of attaching the event to every TD), and it just doesn't seem to reach it sometimes.</p>\n\n<p><strong>EDIT</strong>: Encountered this problem again, and finally got to the root of it.  Was not a event-bubbling issue at all!  See my answer below for details.</p>\n",
            "last_activity_date": 1380928136,
            "question_id": 2732818,
            "score": 12,
            "tags": [
                "javascript",
                "dom",
                "javascript-events",
                "event-bubbling"
            ],
            "title": "If you delete a DOM element, do any events that started with that element continue to bubble?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I don't believe that Safari 3.2 supports rendering text in the canvas.</p>\n\n<p>According to <a href=\"http://bottledtext.blogspot.com/2009/03/firefox-31b2-safari-4-beta-and-html-5.html\">this blog</a>, Safari 4 beta supports rending text to the canvas, based on the <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#text\">HTML 5 canvas text APIs</a>.</p>\n\n<p><strong>edit</strong>: I have confirmed that the following snippet works in Safari 4 beta:</p>\n\n<pre><code>&lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;\n&lt;script&gt;\n    var context = document.getElementById(\"canvas\").getContext(\"2d\");\n    context.fillText(\"Hello, world!\", 10, 10);\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>This isn't ideal, and it looks like you are fine waiting, but for reference, there's a library called <a href=\"http://www.netzgesta.de/dev/text/\" rel=\"nofollow\">strokeText</a> that does its own font  rendering. It works in Firefox 1.5+, Opera 9+, Safari (I don't know what versions) and IE6+ (using VML instead of canvas).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If you really want to use the HTML5 text methods, you should try this library :\n<a href=\"http://code.google.com/p/canvas-text/\" rel=\"nofollow\">http://code.google.com/p/canvas-text/</a> </p>\n\n<p>and the demos are here :\n<a href=\"http://canvas-text.googlecode.com/svn/trunk/examples/index.html\" rel=\"nofollow\">http://canvas-text.googlecode.com/svn/trunk/examples/index.html</a></p>\n\n<p>It is still in alpha stage, so any bug report and feedback are welcome !:)</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I am using <code>&lt;canvas&gt;</code> tag to draw the Facebook logo, but the image, the text is stretched.</p>\n\n<pre><code>&lt;div class=\"content1\"&gt;\n   &lt;canvas id = \"e\" class=\"myCanvas\"&gt;\n    &lt;script&gt;\n        var canvas = document.getElementById(\"e\");\n        var context = canvas.getContext(\"2d\");\n        context.fillStyle = \"white\";\n        context.font = \"normal 64px Facebook Letter Faces\";\n        context.fillText(\"facebook\",10, 100);\n    &lt;/script&gt;\n     FACEBOOK\n     &lt;/canvas&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS file:</p>\n\n<pre><code>.content1\n{\n    float:left;\n    position:relative;\n    width:180px;\n    height:120px;\n}\n\n.myCanvas\n{\n    float:right;\n    position:relative;\n    width:170px;\n    height:60px;\n    margin-right:5px;\n    margin-top:70px;\n    background-color:#044692;\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've been experimenting with using the <code>&lt;canvas&gt;</code> tag for drawing simple diagrams and charts, and so far it's pretty easy to work with.  I have one issue thought.  I can't figure out how to draw text on a <code>&lt;canvas&gt;</code> in Safari.  In Firefox 3.0, I can do this:</p>\n\n<pre><code>Chart.prototype.drawTextCentered = function(context, text, x, y, font, color) {\n  if (context.mozDrawText) {\n    context.save();\n    context.fillStyle = color;\n    context.mozTextStyle = font;\n    x -= 0.5 * context.mozMeasureText(text);\n    context.translate(x, y);\n    context.mozDrawText(text);\n    context.restore();\n  }\n}\n</code></pre>\n\n<p>I've seen reference to a <code>fillText()</code> method in Apple's Safari docs, but it doesn't appear to be supported in Safari 3.2.  Is this just something that's currently missing, or is it some well-kept secret?</p>\n",
            "last_activity_date": 1342769157,
            "question_id": 719848,
            "score": 12,
            "tags": [
                "javascript",
                "safari",
                "canvas"
            ],
            "title": "How do you draw text on a &lt;canvas&gt; tag in Safari"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I've found the following solution: <a href=\"http://stackoverflow.com/questions/13922002/ckeditor-inline-edit\">ckeditor inline edit</a></p>\n\n<p>I'm using the blur event</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'm sure there are many ways to pull this off, but here's my solution.  I'm using the Smarty Template Engine, but this technique should work with vanilla HTML too.</p>\n\n<p>First off, here's an example of some HTML stored in my template file named \"dog_fleas.tpl\":</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"/js/ckeditor/ckeditor.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/js/admin/mycms.js\"&gt;&lt;/script&gt;\n&lt;div&gt;\n  &lt;div id=\"flea-blurb\" tpl=\"/templates/dog_fleas.tpl\" contenteditable=\"true\"&gt;\n    &lt;h1&gt;My Dog Has Fleas&lt;/h1&gt;\n    &lt;p&gt;This text is editable via the CMS!&lt;/p&gt;\n  &lt;/div&gt;\n  &lt;p&gt;This text is not editable&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The javascript (mycms.js) to handle the inline editing is:</p>\n\n<pre><code>$(document).ready(function() {\n\n    CKEDITOR.disableAutoInline = true;\n\n    $(\"div[contenteditable='true']\" ).each(function( index ) {\n\n        var content_id = $(this).attr('id');\n        var tpl = $(this).attr('tpl');\n\n        CKEDITOR.inline( content_id, {\n            on: {\n                blur: function( event ) {\n                    var data = event.editor.getData();\n\n                    var request = jQuery.ajax({\n                        url: \"/admin/cms-pages/inline-update\",\n                        type: \"POST\",\n                        data: {\n                            content : data,\n                            content_id : content_id,\n                            tpl : tpl\n                        },\n                        dataType: \"html\"\n                    });\n\n                }\n            }\n        } );\n\n    });\n\n});\n</code></pre>\n\n<p>The above code does a few things:</p>\n\n<ol>\n<li>It converts any div tag with the attribute contenteditable = \"true\" to inline-editable.</li>\n<li>After content is edited (on blur), the editable element id, tpl filename, and edited content are sent to the server via an ajax call.</li>\n</ol>\n\n<p>The tpl attribute is necessary in my situation to identify the file being edited.  The element id specifies which element was modified.  </p>\n\n<p>Although my example only contains one editable region, this code supports multiple editable regions in a single file.</p>\n\n<p>On the server-side, here's my PHP code.  I'm using a framework, so my $this->_POST() functions might look a little unusual, but hopefully you get the idea:</p>\n\n<pre><code>    // Get the posted parameters\n    $new_content = $this-&gt;_POST('content');\n    $content_id  = $this-&gt;_POST('content_id');\n    $tpl_filename = $this-&gt;_POST('tpl');\n\n    // Get the contents of the .tpl file to edit\n    $file_contents = file_get_contents(APPPATH . 'views' . $tpl_filename);\n\n    // create revision as a backup in case of emergency\n    $revised_filename = str_replace('/', '.', $tpl_filename);\n    $revised_filename = ltrim ($revised_filename, '.');\n    file_put_contents(APPPATH . 'views/templates/revisions/' . $revised_filename . '.' . time(), $file_contents);\n\n    // Prepare to match the DIV tag\n    // Credit to: http://stackoverflow.com/questions/5355452/using-a-regular-expression-to-match-a-div-block-having-a-specific-id\n    $re = '% # Match a DIV element having id=\"content\".\n        &lt;div\\b             # Start of outer DIV start tag.\n        [^&gt;]*?             # Lazily match up to id attrib.\n        \\bid\\s*+=\\s*+      # id attribute name and =\n        ([\\'\"]?+)          # $1: Optional quote delimiter.\n        \\b' . $content_id . '\\b        # specific ID to be matched.\n        (?(1)\\1)           # If open quote, match same closing quote\n        [^&gt;]*+&gt;            # remaining outer DIV start tag.\n        (                  # $2: DIV contents. (may be called recursively!)\n          (?:              # Non-capture group for DIV contents alternatives.\n          # DIV contents option 1: All non-DIV, non-comment stuff...\n            [^&lt;]++         # One or more non-tag, non-comment characters.\n          # DIV contents option 2: Start of a non-DIV tag...\n          | &lt;            # Match a \"&lt;\", but only if it\n            (?!          # is not the beginning of either\n              /?div\\b    # a DIV start or end tag,\n            | !--        # or an HTML comment.\n            )            # Ok, that &lt; was not a DIV or comment.\n          # DIV contents Option 3: an HTML comment.\n          | &lt;!--.*?--&gt;     # A non-SGML compliant HTML comment.\n          # DIV contents Option 4: a nested DIV element!\n          | &lt;div\\b[^&gt;]*+&gt;  # Inner DIV element start tag.\n            (?2)           # Recurse group 2 as a nested subroutine.\n            &lt;/div\\s*&gt;      # Inner DIV element end tag.\n          )*+              # Zero or more of these contents alternatives.\n        )                  # End 2$: DIV contents.\n        &lt;/div\\s*&gt;          # Outer DIV end tag.\n        %isx';\n\n    if (preg_match($re, $file_contents, $matches))\n    {\n        $content_to_replace = $matches[0];\n\n        $replacement_content = $content_to_replace;\n\n        // Replace the inner content of $replacement_content with $new_content\n        $replacement_content = preg_replace('/(&lt;div(?:.*?)&gt;)(?:.*)(&lt;\\/div&gt;)/msi',\"$1\" . $new_content . \"$2\", $replacement_content);\n\n        // Now replace the content_to_replace with $replacement content in the HTML\n        $new_file_contents = str_replace($content_to_replace, $replacement_content, $file_contents);\n\n        // write out the new .tpl file\n        file_put_contents(APPPATH . 'views' . $tpl_filename, $new_file_contents);\n    }\n</code></pre>\n\n<p>The PHP code above is basically loading the HTML, locating the div tag with the proper id, then replacing the contents of that div tag with the content sent down via the ajax call.  The HTML is then re-saved to the server.  I also include some code to store backup revisions just in case things go terribly wrong.</p>\n\n<p>I realize that regular expressions aren't always the best solution.  In my case, it was difficult to use the PHP Dom Object Model because my HTML content isn't valid HTML.  You might look into using the Dom Object Model instead if your system is simpler than mine.</p>\n\n<p>I hope this helps!</p>\n",
                    "is_accepted": true,
                    "score": 16
                }
            ],
            "body": "<p>I can't work out how to grab the edited data from a CKEditor instance and post it to a url.</p>\n\n<p>I'm looking at something this:</p>\n\n<p><a href=\"http://nightly.ckeditor.com/3995/samples/inlineall.html\">http://nightly.ckeditor.com/3995/samples/inlineall.html</a></p>\n\n<p>and I can't work out how the changes can be saved. Can I post the newly edited data to be posted to a PHP along with the ID of the element being edited?</p>\n\n<p>Similarly to this:</p>\n\n<pre><code>editor.on('configLoaded', function(){\n    // do some stuff\n});\n</code></pre>\n\n<p>I was hoping I could do something like this:</p>\n\n<pre><code>editor.on('clickAway', function(e){\n    id = e.id();\n    // do some ajax stuff\n});\n</code></pre>\n\n<p>But I can't seem to find anything, anywhere.</p>\n\n<p>Has anyone worked out how to do this?</p>\n\n<p>Thank you.</p>\n",
            "last_activity_date": 1377438791,
            "question_id": 13603575,
            "score": 11,
            "tags": [
                "javascript",
                "ajax",
                "ckeditor"
            ],
            "title": "ckeditor inline save/submit"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>A good article was written here about how to get VJET and Chrome Dev Tools working. <a href=\"http://jonathan-whywecanthavenicethings.blogspot.com/2011_08_01_archive.html\" rel=\"nofollow\">http://jonathan-whywecanthavenicethings.blogspot.com/2011_08_01_archive.html</a></p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>The default <code>javascript</code> editor for <code>Eclipse</code> has very poor <code>outlining</code> and <code>code completion</code>. As a result of this, for any modern javascript application like <code>ExtJS</code> or <code>NodeJS</code> where you need to write a lot of object literal statements, Eclipse becomes pretty useless. And it is <a href=\"http://stackoverflow.com/questions/11309953/eclipse-javascript-editor-2012-with-full-outliner-support\">impossible to ask</a> how to do this properly.</p>\n\n<p>Now I found that <a href=\"https://www.ebayopensource.org/index.php/VJET/HomePage\">Ebay Open Source</a> seems to have tools that are specifically designed to replace this flaw in the standard editors, both for javascript in general as <a href=\"https://www.ebayopensource.org/index.php/VJET/NodeJS\">for NodeJS specifically</a>.</p>\n\n<p>Installing the normal NodeJS <code>V8 debugger</code> on a default <code>WDT</code> install of <code>Eclipse</code> <a href=\"https://github.com/joyent/node/wiki/Using-Eclipse-as-Node-Applications-Debugger\">is pretty straightforward</a>, and apart from setting up some <a href=\"http://code.google.com/p/chromedevtools/wiki/FeatureDebugOnRealFiles\">script mapping</a>, it's easy to get to work.</p>\n\n<p>But when I tried installing <code>VJET</code>, stuff just didn't work. No code assist at all, no debugging anymore, nothing. VJET mode was set as default for debugging and stuff, but when I couldn't get it to work, I couldn't find any option to switch back to normal Eclipse/JS Editor/V8 Debugger either. Even when I removed all VJET stuff, my Eclipse installation was bombed and a complete wipe of the workspace and home configuration + downloads finally fixed this.</p>\n\n<p>So I was hoping that anyone could explain:\n<strong>What are the exact steps to getting VJET to work for Node.JS development in Eclipse</strong>, and possibly how can one switch between 'VJET' mode and 'default' mode?</p>\n",
            "last_activity_date": 1346223370,
            "question_id": 12072633,
            "score": 11,
            "tags": [
                "javascript",
                "eclipse",
                "node.js",
                "object-literal",
                "vjet"
            ],
            "title": "How do I properly run the VJET development tools for NodeJS on Eclipse?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You could use this simple schema to achieve that goal. Just convert the color from RGB to HSV form. You can use this <a href=\"http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript\" rel=\"nofollow\">link</a> .\nThen use this pseudo code;</p>\n\n<pre><code>rr = (color&gt;&gt;16)&amp;0xFF;\ngg = (color&gt;&gt;8)&amp;0xFF;\nbb = color &amp; 0xFF;\n\nsomeBrightColor = 0xFFFFFF;\nsomeDarkColor = 0x000000;\n\nhsvColor = rgbToHsv( rr, gg, bb );\n//\n//hsv is array: [h,s,v]...all values in [0,1]\n//\n//color is from dark range, if hsv &lt; 0.5, so we need bright color to draw text, because    in dark color bright color 'will be more visible'.  \nif( hsvColor[2] &lt;= 0.5 )\n  textColor = someBrightColor ;\n//this is opposite case , when in more bright color, the dark color 'will be more visible'\nelse\n  textColor = someDarkColor ;\n</code></pre>\n\n<p>Also you could divide [0,1] range into more parts. And instead of defining 2 colors (someBrightColor,someDarkColor) , define more colors. My suggested method is 'how bright is background color , thas text color must be dark, and vice versa'. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I linked another Question to this topic in the comments.<br>\n<a href=\"http://stackoverflow.com/questions/1664140/js-function-to-calculate-complementary-colour\">JS function to calculate complementary colour?</a></p>\n\n<p>As Tejasva said you need to need to convert RGB to HSL, complement the Hue and convert it back.</p>\n\n<p>I implemented the linked answer as a sample. Please upvote the original poster if this was helpful for you, because they provided the solution in fact.</p>\n\n<p><strong>Sample</strong><br>\n<a href=\"http://jsfiddle.net/pLZ89/2/\" rel=\"nofollow\">http://jsfiddle.net/pLZ89/2/</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can invert the background color and use it as foreground color. The following algorithm produces results identical to the \"Image > Adjustments > Invert\" color command in Photoshop:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function invertColor(hexTripletColor) {\r\n    var color = hexTripletColor;\r\n    color = color.substring(1);           // remove #\r\n    color = parseInt(color, 16);          // convert to integer\r\n    color = 0xFFFFFF ^ color;             // invert three bytes\r\n    color = color.toString(16);           // convert to hex\r\n    color = (\"000000\" + color).slice(-6); // pad with leading zeros\r\n    color = \"#\" + color;                  // prepend #\r\n    return color;\r\n}\r\n/*\r\n * Demonstration\r\n */\r\nfunction randomColor() {\r\n    var color;\r\n    color = Math.floor(Math.random() * 0x1000000); // integer between 0x0 and 0xFFFFFF\r\n    color = color.toString(16);                    // convert to hex\r\n    color = (\"000000\" + color).slice(-6);          // pad with leading zeros\r\n    color = \"#\" + color;                           // prepend #\r\n    return color;\r\n}\r\n$(function() {\r\n    $(\".demolist li\").each(function() {\r\n        var c1 = randomColor();\r\n        var c2 = invertColor(c1);\r\n        $(this).text(c1 + \" \" + c2).css({\r\n            \"color\": c1,\r\n            \"background-color\": c2\r\n        });\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body { font: bold medium monospace; }\r\n.demolist { margin: 0; padding: 0; list-style-type: none; overflow: hidden; }\r\n.demolist li { float: left; width: 5em; height: 5em; text-align: center; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul class=\"demolist\"&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that this is not a bullet-proof solution. Colors that are close to 50% brightness and/or saturation will not produce sufficient contrast.</p>\n\n<p><a href=\"http://jsfiddle.net/salman/f9Re3/\" rel=\"nofollow\"><strong>Demo on jsFiddle</strong></a></p>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>Here is a very small way to complement the hex value\n//hex value like \"aa00cc\"</p>\n\n<pre><code>function complementHex(hexValue){\n    var reqHex = \"\";\n    for(var i=0;i&lt;6;i++){\n        reqHex = reqHex + (15-parseInt(hexValue[i],16)).toString(16);\n    }\n    return reqHex;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>A bit late to the party, but IMO all text should either be light or dark.  Colored text is for links.</p>\n\n<p>Here's a coffeescript function I've written to decide which to use:</p>\n\n<pre><code>is_light = (hex_color) -&gt;\n  c = hex_color.replace(/^#/,'')\n  sum = parseInt(c[0]+c[1], 16)\n  sum += parseInt(c[2]+c[3], 16)\n  sum += parseInt(c[4]+c[5], 16)  \n  log \"sum is #{sum}\"\n  sum &gt; 382.6\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Salaman's code is good but sometimes his inversion is not readable enough.\nI use <a href=\"http://en.wikipedia.org/wiki/YCbCr#JPEG_conversion\" rel=\"nofollow\">YCbCr</a> and just change gray scale.</p>\n\n<pre><code>function invertColor(rgb) {\n    var yuv = rgb2yuv(rgb);\n    var factor = 90;\n    var threshold = 100;\n    yuv.y = clamp(yuv.y + (yuv.y &gt; threshold ? -factor : factor));\n    return yuv2rgb(yuv);\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/1t0heesf/1/\" rel=\"nofollow\">jsfiddle demo</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Users can set the background-color of a button through a textbox that accept RGB hexadecimal notation: <code>ff00ff</code>, <code>ccaa22</code>, etc. So I need to set the text color to the opposite. Not sure about the terminology (opposite color) but the idea is assure readability.</p>\n",
            "last_activity_date": 1420706951,
            "question_id": 9600295,
            "score": 11,
            "tags": [
                "javascript",
                "text",
                "colors",
                "background"
            ],
            "title": "Automatically change text color to assure readability"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>It is NOT possible to get what parameters a javascript function is written to accept without manually examining the code to see what it expects or what it looks for.  That is simply not required to be written into the definition of the function.   Javascript parameters may or may not be named in the function declaration.</p>\n\n<p>For example, this is a perfectly legal javascript function definition:</p>\n\n<pre><code>$.fn.when = function() {\n   // accepts one or more promises as arguments\n   for (var i = 0; i &lt; arguments.length; i++) {\n       // process each arguments[i] here\n   }\n}\n</code></pre>\n\n<p>As you can see by this example, it is not require to name arguments passed to a Javascript function because they can be accessed via the <code>arguments</code> object.</p>\n\n<p>You can determine how many arguments a function has named/declared.  If you have a function:</p>\n\n<pre><code>function nameMyArguments(index, count) {\n    // code here\n}\n</code></pre>\n\n<p>then <code>nameMyArguments.length</code> will return how many declared/named arguments there are.   Of course, it is not required that all of those are passed when the function is called and it is not required than any arguments are named because javascript functions can access arguments, even when none are named in the function declaration.</p>\n\n<p>You can however get all the arguments that are passed to a javascript function.  Every javascript function has an array-like object available inside the function called <code>arguments</code>.  It has <code>arguments.length</code> which tells you how many arguments were passed and you can access each one that is passed with <code>arguments[0]</code>, <code>arguments[1]</code>, etc...</p>\n\n<pre><code>function showMyArguments() {\n    for (var i = 0; i &lt; arguments.length; i++) {\n        console.log(arguments[i]);\n    } \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Suppose your function name is <code>foo</code></p>\n\n<blockquote>\n  <p>Is it possible to get all of the arguments a Javascript function is\n  written to accept?    </p>\n</blockquote>\n\n<p><code>arguments[0]</code> to <code>arguments[foo.length-1]</code></p>\n\n<blockquote>\n  <p>If not, is it possible to get the number of arguments?    </p>\n</blockquote>\n\n<p><code>foo.length</code> would work</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>JavaScript is a dialects of ECMAScript, according to ECMAScript standard, a function is also a object, and when a function is called, function can access arguments object, this arguments is array-like object, it has length property, so you can use arguments.length to traverse all arguments passed to this function.\nvisit <a href=\"http://interglacial.com/javascript_spec/a-13.html#a-13.2.1\" rel=\"nofollow\">http://interglacial.com/javascript_spec/a-13.html#a-13.2.1</a> for more details.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Now when you say <em>outside the body of the function</em> I can only imagine that you want to know what the names of the parameters are?  Because as far as the values go, you already know what arguments you are passing.  Other answers have said you can get the length of the function, which is the number of parameters it explicitly declares.  Now if you want to know the <em>names</em> outside the function, how about the <code>toString</code> hack?</p>\n\n<p>Consider</p>\n\n<pre><code>function f(oh, hi, there) {\n    return hi + there / oh;\n}\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>alert(f);\n</code></pre>\n\n<p>What do you see? RIght, just regex them out!  Okay, SORRY to bring this up. Perhaps it is not standard ECMAScript, but it, uh, works in Chrome....</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is what I think you are looking for :</p>\n\n<pre><code> function ftest (a,b,c) { }\n var args = ftest.toString ().match (/function\\s*\\w*\\s*\\((.*?)\\)/)[1].split (/\\s*,\\s*/);\n</code></pre>\n\n<p>args will be an array of the names of the arguments of test i.e. ['a', 'b', 'c']</p>\n\n<p>In response to the popularity of this answer I have made it more robust and provided \ntest cases in this fiddle : <a href=\"http://jsfiddle.net/jstoolsmith/ntFST/\">http://jsfiddle.net/jstoolsmith/ntFST/</a></p>\n\n<pre><code> var args = ftest.toString ().match (/^\\s*function\\s+(?:\\w*\\s*)?\\((.*?)\\)/);\n args = args ? (args[1] ? args[1].trim ().split (/\\s*,\\s*/) : []) : null;\n</code></pre>\n\n<p>The value is args will be an array of the parameter names if the <code>ftest</code> is a function.\nThe array will be empty if <code>ftest</code> has not parameters. The value of <code>args</code> will be <code>null</code>\nif <code>ftest</code> fails the regular expression match, i.e it is not a function.</p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>it is possible get all the formal parameter name of a javascript:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var FN_ARGS = /^function\\s*[^\\(]*\\(\\s*([^\\)]*)\\)/m;\nvar FN_ARG_SPLIT = /,/;\nvar FN_ARG = /^\\s*(_?)(\\S+?)\\1\\s*$/;\nvar STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n\nfunction formalParameterList(fn) {\n   var fnText,argDecl;\n   var args=[];\n   fnText = fn.toString().replace(STRIP_COMMENTS, '');\n   argDecl = fnText.match(FN_ARGS); \n\n   var r = argDecl[1].split(FN_ARG_SPLIT);\n   for(var a in r){\n      var arg = r[a];\n      arg.replace(FN_ARG, function(all, underscore, name){\n         args.push(name);\n      });\n   }\n   return args;\n }\n</code></pre>\n\n<p>this can be tested this way :</p>\n\n<pre><code> var expect = require('expect.js');\n expect( formalParameterList(function() {} )).to.eql([]);\n expect( formalParameterList(function () {} )).to.eql([]);\n expect( formalParameterList(function /*  */ () {} )).to.eql([]);\n expect( formalParameterList(function (/* */) {} )).to.eql([]);\n expect( formalParameterList(function ( a,   b, c  ,d /* */, e) {} )).to.eql(['a','b','c','d','e']);\n</code></pre>\n\n<p>Note:\n   This technique is use with the $injector of AngularJs and implemented in the annotate function. (see <a href=\"https://github.com/angular/angular.js/blob/master/src/auto/injector.js\">https://github.com/angular/angular.js/blob/master/src/auto/injector.js</a> and the corresponding unit test in <a href=\"https://github.com/angular/angular.js/blob/master/auto/injectorSpec.js\">https://github.com/angular/angular.js/blob/master/auto/injectorSpec.js</a> )</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>check only required chars. with func.toString().regex you checked full length.so if function is class with 500 lines of code...</p>\n\n<pre><code>function getParams(func){\n    var str=func.toString();\n    var len = str.indexOf(\"(\");\n    return str.substr(len+1,str.indexOf(\")\")-len -1).replace(/ /g,\"\").split(',')\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is it possible to get all of the arguments a Javascript function <strong>is written to</strong> accept? (I know that all Javascript function arguments are \"optional\")? If not, is it possible to get the number of arguments? For example, in PHP, one could use:</p>\n\n<pre><code>$class = new ReflectionClass('classNameHere');\n$methods = $class-&gt;getMethods();\nforeach ($methods as $method) {\n    print_r($method-&gt;getParameters());\n}\n</code></pre>\n\n<p>... or something like that, I haven't touched PHP in a while so the example above may not be correct.</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT: Unfortunately, I have to be able to get the arguments <strong>outside</strong> of the body of the function... Sorry for the lack of clarification, but thanks for the current answers!</p>\n",
            "last_activity_date": 1415205434,
            "question_id": 6921588,
            "score": 11,
            "tags": [
                "javascript",
                "reflection",
                "methods"
            ],
            "title": "Is it possible to reflect the arguments of a Javascript function?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Attaching listeners is quite easy:</p>\n\n<pre><code>procedure MouseDownCallback(const Event: ICefDomEvent);\nbegin\n  ShowMessage('Mouse down on '+Event.Target.Name);\nend;\n\nprocedure AttachMouseDownListenerProc(const Doc: ICefDomDocument);\nbegin\n  Doc.Body.AddEventListenerProc('mousedown', True, MouseDownCallback);\nend;\n\nprocedure TMainForm.Button1Click(Sender: TObject);\nbegin\n  ChromiumComponent.Browser.MainFrame.VisitDomProc(AttachMouseDownListenerProc);\nend;\n</code></pre>\n\n<p>Regarding the extended functions for getting JavaScript results directly: the trunk doesn't contain them (yet?). Seems to be work in progress.</p>\n\n<p><strong>Edit</strong>:</p>\n\n<p>Getting rid of polling via <strong>extensions</strong>:</p>\n\n<p>It is indeed possible for your JavaScript code to call back into your Delphi code using extensions. Furthermore you can send values from JavaScript to Delphi - this could be used to transfer results without the need to poll.</p>\n\n<p>First in your <code>initialization</code> section register the extension, which creates a JavaScript object later to be used when calling back:</p>\n\n<pre><code>procedure RegisterExtension;\nvar\n  Code:string;\nbegin\n\n  Code :=\n   'var cef;'+\n   'if (!cef)'+\n   '  cef = {};'+\n   'if (!cef.test)'+\n   '  cef.test = {};'+\n   '(function() {'+\n   '  cef.test.__defineGetter__(''test_param'', function() {'+\n   '    native function GetTestParam();'+\n   '    return GetTestParam();'+\n   '  });'+\n   '  cef.test.__defineSetter__(''test_param'', function(b) {'+\n   '    native function SetTestParam();'+\n   '    if(b) SetTestParam(b);'+\n   '  });'+\n   '  cef.test.test_object = function() {'+\n   '    native function GetTestObject();'+\n   '    return GetTestObject();'+\n   '  };'+\n   '})();';\n\n  CefRegisterExtension('example/v8', Code, TMyHandler.Create as ICefv8Handler);\nend;\n\ninitialization\n  RegisterExtension;\n</code></pre>\n\n<p><code>TMyHandler</code>'s <code>Execute</code> will be invoked later. <code>TMyHandler</code> is defined as</p>\n\n<pre><code>TMyHandler = class(TCefv8HandlerOwn)\nprotected\n  function Execute(const name: ustring; const obj: ICefv8Value;\n    const arguments: TCefv8ValueArray; var retval: ICefv8Value;\n    var exception: ustring): Boolean; override;\nend;\n</code></pre>\n\n<p>The implementation for demonstration purposes is simple for now:</p>\n\n<pre><code>function TMyHandler.Execute(const name: ustring; const obj: ICefv8Value; const arguments: TCefv8ValueArray; var retval: ICefv8Value; var exception: ustring): Boolean;\nbegin\n  ShowMessage('Execute!');\nend;\n</code></pre>\n\n<p>Now to test calling into Delphi from JavaScript simply do:</p>\n\n<pre><code>ChromiumComponent.Browser.MainFrame.ExecuteJavaScript('cef.test.test_object().GetMessage();', 'about:blank', 0);\n</code></pre>\n\n<p>This should display the message box saying \"Execute!\".</p>\n\n<p>I pulled the demo script from a sample named <strong>cefclient</strong> which you can find in the <strong>\\demos\\cefclient</strong> folder in the component root dir. The extension sample code is a bit hidden and mingled with other demo code. But of special interest for us is the implementation of <code>TExtension.Execute</code> (the equivalent to my <code>TMyHandler.Execute</code>). There you can find how to determine which function is being called and how to pass parameters. (<a href=\"http://code.google.com/p/delphichromiumembedded/source/browse/trunk/demos/cefclient/cefclient.dpr\">Link to the code.</a>)</p>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I have successfully embedded Chromium into my Delphi 6 projects with the help of <a href=\"http://code.google.com/p/delphichromiumembedded/\">Delphi Chromium Embedded</a>.  Now I want to be able to execute Javascript code and the have results returned to my host Delphi app.  My current method is to call ExecuteJavascript() and use a DOM element that the Javascript call writes its results to, and poll that element in a TTimer method from Delphi to retrieve the results.  However, I read about using native functions and V8 extensions to have the Javascript call \"call back\" into my Delphi code as a way to receive results instead:</p>\n\n<p><a href=\"http://magpcss.org/ceforum/viewtopic.php?f=7&amp;t=180\">http://magpcss.org/ceforum/viewtopic.php?f=7&amp;t=180</a></p>\n\n<p>I would like to try this and I also would like to know how to attach Delphi based event listeners to DOM elements in the web page (onblur, onmousedown, etc.).  I am looking for some samples that would show me how to do these two things if anyone knows where to find them.</p>\n",
            "last_activity_date": 1312189638,
            "question_id": 6893029,
            "score": 11,
            "tags": [
                "javascript",
                "delphi",
                "chromium",
                "embedded-v8"
            ],
            "title": "How to expose &quot;native functions&quot; to Javascript in a web page using Chromium and Delphi 6?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The <code>for</code> ... <code>in</code> loop iterates over the keys (properties) of an object.<br>\nIt is not intended to be used for arrays.</p>\n\n<p>It will also iterate over properties inherited from the object's <code>prototype</code>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Douglas Crockford recommends in <a href=\"http://oreilly.com/catalog/9780596517748/\">JavaScript: The Good Parts</a>  to avoid using the <code>for in</code> statement.</p>\n\n<p>If you use <code>for in</code> to loop over property names in an object, the <strong><em>results are not ordered</em></strong>.</p>\n\n<p>The <code>for in</code> loop is best for iterating over <strong>name-value</strong> pairs, and the <code>for each</code> loop best for iterating over values i.e arrays.</p>\n\n<p>E.g,</p>\n\n<pre><code>var o = {'name':'Batman', 'age':33, 'city':'Gotham City'};\n   for (var p in o) {\n        console.log(p+': '+o[p]);\n    }\n</code></pre>\n\n<p>There\u2019s no way we can get the property name if we were to use the For Each Loop for the above object.</p>\n\n<hr>\n\n<p><strong>Note :</strong> </p>\n\n<ol>\n<li>The <em>For in</em> Loop is best for name-value pairs.   </li>\n<li>The <em>For Each</em> Loop is best for iterable values. Eg: arrays, and objects if you are not interested in the name of the property.</li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>Javascript <code>for</code>..<code>in</code> loops always return the index/name, not the value. To get what you want, you should use</p>\n\n<pre><code>var myArr = [{a:1, b:2}, {c:3, d:4}];\n\nfor (var index in myArr) {\n    console.log( myArr[index] );\n}\n</code></pre>\n\n<p>However, as said before, the <code>for</code>..<code>in</code> statement should be use with caution, and its not intented to be used with an array. You should a <code>for</code> loop instead</p>\n\n<pre><code>var myArr = [{a:1, b:2}, {c:3, d:4}];\n\nfor( var i=0, l=myArr.length; i&lt;l; i++ ) {\n    console.log( myArr[i] );\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<pre><code>var myArr = [{a:1, b:2}, {c:3, d:4}];\n\nfor (var item in myArr) {\n    console.log(item);\n}\n</code></pre>\n\n<p>Item returns the key (ex: 0, 1) instead of the object itself. Why?</p>\n",
            "last_activity_date": 1309724620,
            "question_id": 6565281,
            "score": 11,
            "tags": [
                "javascript"
            ],
            "title": "Iterating over array of objects javascript - odd behaviour?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You would need a timed loop on the client side that would save the form every x seconds/minutes. A crude way of doing this would be to have a <code>setTimeout</code> javascript function that collects the form's field values and updates the model via an update (PUT in Rails' case) AJAX request.</p>\n\n<p><strong>Example</strong></p>\n\n<p>Here's a crude way of doing it (i.e. there might be a better way):</p>\n\n<pre><code>// repeat every 10 seconds\nvar repeatTime = 10 * 1000; \n\nfunction updateModel(){\n    // get field values (using jQuery, etc.)\n    // make ajax request using these field values \n    //(make sure put parameters match model attribute names)\n    console.log('updated');\n    setTimeout(updateModel, repeatTime); // start call over again\n}\n\nsetTimeout(updateModel, repeatTime);\n</code></pre>\n\n<p>I included the <code>console.log</code> so that you can test this out in Firebug right now and see that the <code>updateModel</code> executes every 10 seconds. I would recommend using jQuery to generate the <code>PUT</code> AJAX requests.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "\n\n<pre class=\"lang-js prettyprint-override\"><code>setInterval(function(){\n  var form = $('#my-form-id');\n  var method = form.attr('method').toLowerCase();      // \"get\" or \"post\"\n  var action = form.attr('action');                    // url to submit to\n  $[method](action, form.serialize(), function(data){\n    // Do something with the server response data      \n    // Or at least let the user know it saved\n  });\n},10000);                                              // do it every 10 seconds\n</code></pre>\n\n<p>If you don't want to use the method of the form, but always want to use 'post', then use:</p>\n\n<pre><code>$.post(action, form.serialize(), ... );\n</code></pre>\n\n<p>And, if you want to supply your own action for the autosave that is different from the action for the actual save:</p>\n\n<pre><code>$.post(\"/autosave/comments\", form.serialize(), ... );\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>Why not do this purely on the client, using a local database (or whatever)? That should reduce complexity, server load and bandwidth usage.</p>\n\n<p>Permanent or per-session storage -- whatever's appropriate -- and you can save after every keystroke: no need for setTimeout().</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How to implement a periodical save of a form in the background? Same kinda thing that gmail does.  </p>\n",
            "last_activity_date": 1331039246,
            "question_id": 5804528,
            "score": 11,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Periodically autosave form"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>For FireFox/Safari/Chrome you can use window.stop():</p>\n\n<pre><code>window.frames[0].stop()\n</code></pre>\n\n<p>For IE, you can do the same thing with document.execCommand('Stop'):</p>\n\n<pre><code>window.frames[0].document.execCommand('Stop')\n</code></pre>\n\n<p>For a cross-browser solution you could use:</p>\n\n<pre><code>if (navigator.appName == 'Microsoft Internet Explorer') {\n  window.frames[0].document.execCommand('Stop');\n} else {\n  window.frames[0].stop();\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>The whole code should be like this, (unclenorton's line was missing a bracket)</p>\n\n<pre><code>if (typeof (window.frames[0].stop) === 'undefined'){\n    //Internet Explorer code\n    setTimeout(function() {window.frames[0].document.execCommand('Stop');},1000);\n}else{\n    //Other browsers\n    setTimeout(function() {window.frames[0].stop();},1000);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Merely, </p>\n\n<pre><code>document.getElementById(\"myiframe\").src = '';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a way in javascript of stopping an iframe in the middle of loading a page? The reason I need to do this is I have a background iframe streaming data from a web server (via a Comet style mechanism) and I need to be able to sever the connection at will.</p>\n\n<p>Any ideas welcome.</p>\n",
            "last_activity_date": 1381416582,
            "question_id": 2207501,
            "score": 11,
            "tags": [
                "javascript",
                "dom",
                "iframe",
                "comet"
            ],
            "title": "Stopping a iframe from loading a page using javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You cannot attach DOM events to things other than DOM objects (elements). The <code>canvas</code> is a DOM element, the things you are drawing to the canvas are not. They become a part of the canvas as pixels of an img.</p>\n\n<p>In order to detect a click on a specific point on your canvas you must attach the click event on the canvas element, and then compare the x/y coordinates of the click event with the coordinates of your canvas.</p>\n\n<p>This was answered in: \"<a href=\"http://stackoverflow.com/questions/55677/how-do-i-get-the-coordinates-of-a-mouse-click-on-a-canvas-element\">How do I get the coordinates of a mouse click on a canvas element?</a>\"</p>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>If you're gonna be drawing basic structures, I suggest you make use of inline svg.</p>\n\n<p>In this case, all the svg elements become DOM elements and you can attach separate events to each of them.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have a canvas tag to create a graphic. At each section of my line, I have a \"dot\" to enable a 'mouseover' and display more detail.</p>\n\n<p>Everything works fine when I don't add an event listener to this dot.</p>\n\n<p>Firebug is warning me : s.addEventListener is not a function...</p>\n\n<p>Is it possible to create dynamic event listener? (I'm new to Javascript)</p>\n",
            "last_activity_date": 1358868711,
            "question_id": 1532739,
            "score": 11,
            "tags": [
                "javascript",
                "javascript-events",
                "html5",
                "canvas"
            ],
            "title": "addEventListener in Canvas tag"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Perhaps this answer will point you in the right direction?</p>\n\n<p>I found it by Google-ing \"Javascript draw lines between divs\".</p>\n\n<p><a href=\"http://stackoverflow.com/questions/6278152/drawing-a-line-between-two-draggable-divs\">Drawing a line between two draggable divs</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I don't know why you want to avoid jQuery,\nif you want to avoid using any prefab libraries for this kind of construction, you will have an ugly hassle getting the coordinates right on all the different browsers... </p>\n\n<p>I would use jquery or <a href=\"http://en.wikipedia.org/wiki/Comparison_of_JavaScript_frameworks\" rel=\"nofollow\">some other js framework supporting your targeted user agents</a> thus you get a hold on the coordinates with a single api for most common user agents.  </p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Is using an image as the bottom border for that div class out of the question?  If your diagonal line always has to be the same size/color, etc... that would be a non-jQuery option you could use.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is simple without jQuery. Here's a JS fiddle (I admit I lost track of time messing around with it).</p>\n\n<p><a href=\"http://jsfiddle.net/kDs2Q/45/\">http://jsfiddle.net/kDs2Q/45/</a></p>\n\n<p>This won't work with IE8 or below because of CSS limitations.</p>\n\n<pre><code>function getOffset( el ) { // return element top, left, width, height\n    var _x = 0;\n    var _y = 0;\n    var _w = el.offsetWidth|0;\n    var _h = el.offsetHeight|0;\n    while( el &amp;&amp; !isNaN( el.offsetLeft ) &amp;&amp; !isNaN( el.offsetTop ) ) {\n        _x += el.offsetLeft - el.scrollLeft;\n        _y += el.offsetTop - el.scrollTop;\n        el = el.offsetParent;\n    }\n    return { top: _y, left: _x, width: _w, height: _h };\n}\n\nfunction connect(div1, div2, color, thickness) { // draw a line connecting elements\n    var off1 = getOffset(div1);\n    var off2 = getOffset(div2);\n    // bottom right\n    var x1 = off1.left + off1.width;\n    var y1 = off1.top + off1.height;\n    // top right\n    var x2 = off2.left + off2.width;\n    var y2 = off2.top;\n    // distance\n    var length = Math.sqrt(((x2-x1) * (x2-x1)) + ((y2-y1) * (y2-y1)));\n    // center\n    var cx = ((x1 + x2) / 2) - (length / 2);\n    var cy = ((y1 + y2) / 2) - (thickness / 2);\n    // angle\n    var angle = Math.atan2((y1-y2),(x1-x2))*(180/Math.PI);\n    // make hr\n    var htmlLine = \"&lt;div style='padding:0px; margin:0px; height:\" + thickness + \"px; background-color:\" + color + \"; line-height:1px; position:absolute; left:\" + cx + \"px; top:\" + cy + \"px; width:\" + length + \"px; -moz-transform:rotate(\" + angle + \"deg); -webkit-transform:rotate(\" + angle + \"deg); -o-transform:rotate(\" + angle + \"deg); -ms-transform:rotate(\" + angle + \"deg); transform:rotate(\" + angle + \"deg);' /&gt;\";\n    //\n    // alert(htmlLine);\n    document.body.innerHTML += htmlLine;\n}\n</code></pre>\n\n<ul>\n<li>The Distance Formula</li>\n<li>Finding the Center Of Two Points</li>\n<li>Finding the Angle Between Two Points</li>\n<li>CSS Transform:Rotate</li>\n<li>HTML Element offset[Width|Height|Top|Left] properties</li>\n</ul>\n\n<p><strong>Edit (for others with the same problem)</strong>:</p>\n\n<p>If you need to, for example, create a line from two corners that are not the top right and bottom right divs, go to this section of the code:</p>\n\n<pre><code>// bottom right\nvar x1 = off1.left + off1.width;\nvar y1 = off1.top + off1.height;\n// top right\nvar x2 = off2.left + off2.width;\nvar y2 = off2.top;\n</code></pre>\n\n<p>where you see <code>+ off1.width</code> and <code>+ off1.height</code>, that means that the code is calculating the position of the bottom or the right of the div. Remove the <code>+ off1.width</code> or the <code>+ off1.height</code> to get the left or the top of the div.</p>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>There is a way to do it without jQ.</p>\n\n<ol>\n<li>Find the position of your divs using offset.</li>\n<li>Find the slope</li>\n<li>draw <code>1x1px</code> points from start to end position using the slope in your loop.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm currently trying to draw a diagonal line between the bottom right corner of one div to the top right corner of another. If possible, I would like to do it without jQuery. Is this possible?</p>\n",
            "last_activity_date": 1372235742,
            "question_id": 8672369,
            "score": 10,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "How to draw a line between two divs?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>For Questions 1 and 3:</p>\n\n<p>A closure style defenition in the ex.js will allow those public functions and vars/exposed.</p>\n\n<p>My thought is, it is better to return \"ex\" from the anomyous function with the functions and vars we need to expose. </p>\n\n<p>for Q3. Those ( private )variables defined and used in returned function is still avaialble to the function and can  be used through the exposed function ( property of closure ).</p>\n\n<p>If the external script include is in the  section or at the top of the file, the ex should be available before document.ready and should be usable straight away.</p>\n\n<p>You are making me think :) Will update the post as I dig further in to this. Very good Questions. :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In you design, you won't have access to private vars/funcs define in that lambda function, because it only return a object, or you want to use <code>new</code>?</p>\n\n<p>1.Without the <code>()</code>,  <code>ex</code> is a function not the object the functions returns.</p>\n\n<p>2.no need, except you want to pass some parameters for initialization. e.g.</p>\n\n<pre><code>ex.my = (function(name) {var my_name = name;})('bar');\n</code></pre>\n\n<p>3.I think you mean this private method.</p>\n\n<pre><code>ex = (function() {\n    var foo = 'bar';\n    return {\n        show: function() {alert(foo);}\n    }\n})();\n</code></pre>\n\n<p>In the case above, only ex can access foo.</p>\n\n<p>4.no need, <code>$(document).ready()</code> is called when everything is ready, if you already loaded ex.js, the initialization is done.</p>\n\n<blockquote>\n  <p>Everything inside it will load as soon as the DOM is loaded and before the page contents are loaded</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>1. The <code>function(){ return{}}</code> is a closure to add \"privacy\" to the variables and functions you don't want to be accessible anywhere else but within the scope of that function. The parentheses around the function <code>(function(){})</code> create a function expression. They are used, because the parser will complain when you try to execute a function immediately <code>function(){}()</code> without passing any argument to <code>()</code>.</p>\n\n<p>2. If you want <code>subA</code> or any other extending object to have its own subfunctions, then yes, you have to declare it like that, but not neccesarly a clousure though.</p>\n\n<p>You can do</p>\n\n<pre><code>ex.subA = function(x, y){\n    return x+y;\n}\n</code></pre>\n\n<p>which can be called <code>var sum = ex.subA(2, 3);</code></p>\n\n<p>Or you can do</p>\n\n<pre><code>ex.subA = (function(){\n\n    return {\n        add: function(x, y){\n            return x+y;\n        },\n        multiply: function(x, y){\n            return x*y;\n        }\n    }\n})();\n</code></pre>\n\n<p>Then call it <code>var sum = ex.subA.add(2, 3); var multiplication = ex.subA.multiply(2,3);</code></p>\n\n<p>There are many ways to do this.</p>\n\n<p>3. Yes, it is true. You can make the private functions public. The closure won't allow any other way to do it.</p>\n\n<p>4. If you would like to alias, yes you can assign it to a variable. However, there is no need to. It will work fine the way you are describing it.</p>\n\n<p>Read <a href=\"http://addyosmani.com/blog/essential-js-namespacing/\" rel=\"nofollow\"><strong>Essential JavaScript Namespacing Patterns</strong></a> to understand some fundamentals and patterns in javascript namespacing.</p>\n\n<hr>\n\n<blockquote>\n  <p>Is the first if statement in subA.js any different from var ex = ex ||\n  {}; Which is better?</p>\n</blockquote>\n\n<p>First of, the if statement should be <code>if(typeof ex == 'undefined')</code>, the <code>typeof</code> returns a string. There isn't any need to check if <code>ex</code> is false.</p>\n\n<p>Yes, it is different. The if statement will not do any variable assignment if the variable <code>ex</code> is already defined. Therefore, the if statement is better.</p>\n\n<blockquote>\n  <p>What js code style standards do you use?</p>\n</blockquote>\n\n<p>Depends on the scope of the project, but mostly deep object extending with a helper function.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I wish to make my javascript more more modular by splitting it up into different files and giving each file a 'sub' namespace like so.</p>\n\n<p><strong>subA.js</strong></p>\n\n<pre><code>if(typeof ex == \"undefined\") {\n    var ex = {};\n}\n\nex.subA = function() {\n//all functions of subA here\n}\n</code></pre>\n\n<p>And same for subB etc.</p>\n\n<p>At the moment I have 1 file, <strong>ex.js</strong></p>\n\n<pre><code>var ex = (function() {\n    //private vars/funcs\n    return {\n        //public vars/funcs\n    }\n})();\n</code></pre>\n\n<p>It looks like I should move most of my functions to subA.js and subB.js but still include ex.js at the start, with subA.js and subB.js afterwards. </p>\n\n<p>I have a number of questions.</p>\n\n<ol>\n<li><p>I'm having a hard time remembering how I made the initial namespacing file, ex.js. It looks like the anonymous function is there to make everything private initially, but I can't remember why it needs to be enclosed in parentheses and then executed straight away with the <code>();</code> at the end.</p></li>\n<li><p>Following on from q1, should my sub files be in the same format as ex.js, ie, have the anon function wrapped in parentheses and executed straight away?</p></li>\n<li><p>It looks like the sub files will only have access to the public functions of <code>ex</code>, is this true? If it is, how can I allow my sub files access to the private functions as well?</p></li>\n<li><p>In my HTML file, in my document.ready function (jQuery), should I be initialising ex to a variable or can I call each function individually by going \n<br></p></li>\n</ol>\n\n<pre>$(document).ready(function() {\n    ex.doSomething();\n    ex.doSomethingElse();\n}</pre>\n\n<p>Is there a difference between the two? I think that when ex.js is included, a global variable ex is created straight away (due to the anonymous function being executed straight away), so I shouldn't need to redefine it in document.ready. </p>\n\n<ol>\n<li><p>Is the first if statement in subA.js any different from <code>var ex = ex || {};</code> Which is better?</p></li>\n<li><p>What js code style standards do you use?</p></li>\n</ol>\n\n<p>If you read through all this you already deserve an upvote, cheers.</p>\n",
            "last_activity_date": 1332830000,
            "question_id": 7684452,
            "score": 10,
            "tags": [
                "javascript",
                "jquery",
                "inheritance",
                "module",
                "namespaces"
            ],
            "title": "Javascript Namespacing"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>How about something like this:</p>\n\n<pre><code>&lt;script&gt;\nfunction changeQueryVariable(keyString, replaceString) {\n    var query = window.location.search.substring(1);\n    var vars = query.split(\"&amp;\");\n    for (var i = 0; i &lt; vars.length; i++) {\n        var pair = vars[i].split(\"=\");\n        if (pair[0] == keyString) {\n            vars[i] = pair[0] + \"=\" replaceString\n        }\n    }\n    return vars.join(\"&amp;\");\n}\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>UpdatE: Make it into a nice function for you:  <a href=\"http://jsfiddle.net/wesbos/KH25r/1/\" rel=\"nofollow\">http://jsfiddle.net/wesbos/KH25r/1/</a></p>\n\n<pre><code>function swapOutSource(url, newSource) {\n    params = url.split('&amp;');\n    var src = params[0].split('=');\n    params.shift();\n    src[1] = newSource;\n    var newUrl = ( src.join('=') + params.join('&amp;')); \n    return newUrl; \n}\n</code></pre>\n\n<p>Then go at it!</p>\n\n<pre><code>var newUrl = swapOutSource(\"http://localhost/mysite/includes/phpThumb.php?src=http://media2.jupix.co.uk/v3/clients/4/properties/795/IMG_795_1_large.jpg&amp;w=592&amp;aoe=1&amp;q=100\",\"http://link/to/new.jpg\");\n\n\nconsole.log(newUrl);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Wouldn't this be a better solution?</p>\n\n<pre><code>var text = 'http://localhost/mysite/includes/phpThumb.php?src=http://media2.jupix.co.uk/v3/clients/4/properties/795/IMG_795_1_large.jpg&amp;w=592&amp;aoe=1&amp;q=100';\nvar newSrc = 'www.google.com';\nvar newText = text.replace(/(src=).*?(&amp;)/,'$1' + newSrc + '$2');\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>added some clarity in code and kept 'src' in the resulting link</p>\n\n<p><code>$1</code> represents first part within the <code>()</code> (i.e) <code>src=</code> and <code>$2</code> represents the second part within the <code>()</code> (i.e) <code>&amp;</code>, so this indicates you are going to change the value between <code>src</code> and <code>&amp;</code>. More clear, it should be like this: </p>\n\n<pre><code>src='changed value'&amp; // this is to be replaced with your original url\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>I combined the other answers and made sure to handle the special cases:</p>\n\n<ul>\n<li>Parameter does not exist in the original url</li>\n<li>The parameter is the only parameter</li>\n<li>The parameter is first or last</li>\n<li>The new parameter value is the same as the old</li>\n</ul>\n\n<p>This is my solution:</p>\n\n<pre><code>function replaceUrlParam(url, paramName, paramValue){\n    var pattern = new RegExp('('+paramName+'=).*?(&amp;|$)')\n    var newUrl=url\n    if(url.search(pattern)&gt;=0){\n        newUrl = url.replace(pattern,'$1' + paramValue + '$2');\n    }\n    else{\n        newUrl = newUrl + (newUrl.indexOf('?')&gt;0 ? '&amp;' : '?') + paramName + '=' + paramValue \n    }\n    return newUrl\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>In addition to @stenix, this worked perfectly to me</p>\n\n<pre><code> url =  window.location.href;\n    paramName = 'myparam';\n        paramValue = $(this).val();\n        var pattern = new RegExp('('+paramName+'=).*?(&amp;|$)') \n        var newUrl = url.replace(pattern,'$1' + paramValue + '$2');\n        var n=url.indexOf(paramName);\n        alert(n)\n        if(n == -1){\n            newUrl = newUrl + (newUrl.indexOf('?')&gt;0 ? '&amp;' : '?') + paramName + '=' + paramValue \n        }\n        window.location.href = newUrl;\n</code></pre>\n\n<p>Here no need to save the \"url\" variable, just replace in current url</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is modified stenix's code, it's not perfect but it handles cases where there is a param in url that contains provided parameter, like:</p>\n\n<pre><code>/search?searchquery=text and 'query' is provided.\n</code></pre>\n\n<p>In this case searchquery param value is changed.</p>\n\n<p>Code:</p>\n\n<pre><code>function replaceUrlParam(url, paramName, paramValue){\n    var pattern = new RegExp('(\\\\?|\\\\&amp;)('+paramName+'=).*?(&amp;|$)')\n    var newUrl=url\n    if(url.search(pattern)&gt;=0){\n        newUrl = url.replace(pattern,'$1$2' + paramValue + '$3');\n    }\n    else{\n        newUrl = newUrl + (newUrl.indexOf('?')&gt;0 ? '&amp;' : '?') + paramName + '=' + paramValue\n    }\n    return newUrl\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you look closely you'll see two surprising things about URLs:  (1) they  seem simple, but the details and corner cases are actually hard, (2) Amazingly JavaScript doesn't provide a full API for making working with them any easier.   I think a full-fledged library is in order to avoid people re-inventing the wheel themselves or copying some random dude's clever, but likely buggy regex code snippet.   Maybe try URI.js (<a href=\"http://medialize.github.io/URI.js/\" rel=\"nofollow\">http://medialize.github.io/URI.js/</a>)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've been looking for an efficient way to do this but haven't been able to find it, basically what I need is that given this url for example:</p>\n\n<pre><code>http://localhost/mysite/includes/phpThumb.php?src=http://media2.jupix.co.uk/v3/clients/4/properties/795/IMG_795_1_large.jpg&amp;w=592&amp;aoe=1&amp;q=100\n</code></pre>\n\n<p>I'd like to be able to change the URL in the <code>src</code> parameter with another value using javascript or jquery, is this possible?</p>\n\n<p>Thanks in advance.</p>\n",
            "last_activity_date": 1422281755,
            "question_id": 7171099,
            "score": 10,
            "tags": [
                "javascript",
                "jquery",
                "url",
                "url-parameters"
            ],
            "title": "How to replace url parameter with javascript/jquery?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Depending on validation and browser type, you sometimes need a <code>document.documentElement</code> to navigate around a DOM.</p>\n\n<p>The <code>$('body')</code> function probably jumps to the body directly, while the <code>$(document)</code> refers to the document parent only, without including the <code>.documentElement</code> property.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The way events are tracked, you can only trigger or receive events on the same document.</p>\n\n<p>try</p>\n\n<pre><code>window.parent.$(window.parent.document).trigger('complete');\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>You might try adding a triggering function in the parent document, then calling it as a regular function from the iframe. This should ensure you're triggering the event in the right document context.</p>\n\n<pre><code>// In Parent\nfunction triggerComplete(){\n  $(document).trigger('complete');\n}\n\n// In iFrame\nwindow.parent.triggerComplete();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>check this solution, its very tricky</p>\n\n<p>top.frames['frame_name'].document.getElementById('Processing').style.display = 'none'; </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Why is the following not working:</p>\n\n<pre><code>//iframe:\nwindow.parent.$(document).trigger('complete');\n\n//parent window:\n$(document).bind('complete', function(){\n  alert('Complete');\n});\n</code></pre>\n\n<p>while the following IS working:</p>\n\n<pre><code>//iframe:\nwindow.parent.$('body').trigger('complete');\n\n//parent window:\n$('body').bind('complete', function(){\n  alert('Complete');\n});\n</code></pre>\n\n<p>?</p>\n",
            "last_activity_date": 1296487784,
            "question_id": 4601325,
            "score": 10,
            "tags": [
                "javascript",
                "jquery",
                "javascript-events"
            ],
            "title": "Trigger events in iframe&#39;s parent window"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>you can achive by using <code>focus</code> function as used below </p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n&lt;!--\nfunction popitup(url) {\n    newwindow=window.open(url,'name','height=200,width=150');\n    if (window.focus) {newwindow.focus()}\n\n      if (!newwindow.closed) {newwindow.focus()}\n    return false;\n}\n\n// --&gt;\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>You can close the popup before you open it if you check to see if the popup is already open when you call the function.</p>\n\n<pre><code>var popup;\n\u200bfunction openPop() { \n    if (\"close\" in popup) popup.close();\n    popup = window.open(\"http://stackoverflow.com\", \"test\", \"width=200, height=200\");\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\n}\n</code></pre>\n\n<p>\u200bThis will ensure the popup always appears on top.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>focusedWindow = window.open('two.html','two').focus();\n</code></pre>\n\n<p>Directly append the focus() to the window.open protoype</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Check your Firefox 2 settings at </p>\n\n<ol>\n<li>Go to  Tools -> Options -> Content </li>\n<li>Make sure \"Enable JavaScript\" is turned on. </li>\n<li>Next to \"Enable JavaScript\", click the \"Advanced\" button. </li>\n<li>Make sure that there is a check-mark in the box \n   [x]  Raise or lower windows </li>\n</ol>\n\n<p>If the setting \"Raise or lower windows\" is turned off, then \nthis disables the window.focus() method. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>window = window.open('two.html','two');\nwindow.document.getElementsByTagName(\"body\")[0].focus(); //focus the body rather than the window.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>My empiric solution that always works:</p>\n\n<pre><code>setTimeout('detail.focus()', 1);\n</code></pre>\n\n<p>Appending <code>.focus()</code> right after open does not always work, nor calling a <code>.focus()</code> without setTimeout.</p>\n\n<p>I know it's ugly (wanted to get rid of it right now, after some years, with no success), and I do not know the exact reasons why and how, but it works.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>setTimeout(function () { \n  window.open('PageName', '', 'height=560,width=1120,resizable=no,left=100,top=50,screenX=100,screenY=50'); \n}, 100);\n</code></pre>\n\n<p>-> This code is use for giving focus on newly open window.\n-> Put it in javascript.('setTimeout is inbuilt function of javascript')\n-> Many time happen that when popup window is opened, it will go behind the old window, So above is very useful to focus for new window.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It is a one liner solution, use focus on your pop up var:</p>\n\n<pre><code>popup=window.open('two.html','two');\npopup.focus();\n</code></pre>\n\n<p>This will always open your pop up window even if it is not closed.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have two pages  one.html and two.html</p>\n\n<p>i am opening a new window using following code </p>\n\n<pre><code>//here popup is a global variable\npopup=window.open('two.html','two');\n</code></pre>\n\n<p>for the first time a popup window open successfully and get the focus but \nif i try to open it again without closing already opened popup then two.html is not getting focus for the second time.</p>\n\n<p>note: i have set popup window's name as 'two'</p>\n",
            "last_activity_date": 1405696377,
            "question_id": 2965754,
            "score": 10,
            "tags": [
                "javascript",
                "popup"
            ],
            "title": "set the focus of a popup window everytime"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<h2>Useful tool</h2>\n\n<p><a href=\"https://github.com/arthursw/paper.js/blob/persistence/dist/paper.js\" rel=\"nofollow\">My branch of paper.js</a> could help, but it is maybe not the best fit for you.</p>\n\n<p>It enables you to prevent paper.js to redraw everything every frames (use <code>paper.view.persistence = 1;</code>). </p>\n\n<p>This way you have better control over what to clear and should be redrawn: for example when you move a shape, you can clear the area where it was (using native canvas drawRect for instance), \nand update it once it is moved (use <code>path.needsUpdate();</code>).</p>\n\n<h2>Drawback</h2>\n\n<p>The problems come when shapes intersect. If you want to modify a shape which intersect another one, you will have to update both. Same thing if the second shape intersects a third one, and so one and so forth. </p>\n\n<p>So you need a recursive function, not hard to code, but it can be costly if there are many complexe shapes intersecting, and so you might not gain performances in this case.</p>\n\n<h2>(Update) Bitmap caching</h2>\n\n<p>As suggested by <a href=\"http://stackoverflow.com/users/1814486/nicholas-kyriakides\">Nicholas Kyriakides</a> in the <a href=\"http://stackoverflow.com/a/27686960/719276\">following answer</a>, Bitmap caching is a very good solution.</p>\n\n<h2>One canvas per shape</h2>\n\n<p>An alternative would be to draw each shape on a separate canvas (working as layers). This way you can freely clear and redraw each shape independently. You can detach the onFrame event of the views which are not changing (all canvas except the one on which the user is working). This should be easier, but it leads to other small problems such as sharing the same project view parameters (in the case of zoom), and it might be costly with many shapes (which means many canvas).</p>\n\n<h2>Static and dynamic canvas</h2>\n\n<p>A (probably) better approach would be to have only two canvas, one for the static shapes, and one for the active shape. The static shapes canvas would contain all shapes (expect the one being edited) and would be redrawn just when the user start and stop editing the active shape. When the user starts editing a shape it would be transferred from the static canvas to the dynamic one, and the the other way when the user stops.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I'm answering my own question -</p>\n\n<hr>\n\n<p>This can be done with rasterization in a process similar to <a href=\"http://fabricjs.com/svg-caching/\" rel=\"nofollow\">Bitmap Caching</a>.</p>\n\n<p>The issue with high-node count designs is that rendering them causes the rendering engine to groan. Javascript has to traverse their nodes and blit those pixels on the canvas. </p>\n\n<h2>Render a bitmap but keep the original shape below, hidden</h2>\n\n<blockquote>\n  <p>The solution is to replace the vectors with images,rasterizing them -\n  only when rendering, but still keeping the original shape below it's\n  image copy, in a hidden state only when inactive(<em>not being currently\n  manipulated</em>).</p>\n</blockquote>\n\n<p>On clicking the images - we remove them and toggle the visibility of the original shape. This way inactive shapes are rendered as images and active shapes are <em>released</em> from their bitmap representation and act as vectors, free to be manipulated around. When not active they just sit there invinsible with their Raster copy on top of them.</p>\n\n<p>This allows the engine to keep the vector representation of the shapes but avoids rendering them as vectors - instead images that look similar to them are layered on top of them. </p>\n\n<p>1000's of path commands are essentially replaced by a single image - but only when rendering - the original path actually exists as an object in the Scene Graph, or whatever type of DOM you are using</p>\n\n<h2>Rasterize in groups</h2>\n\n<p>The trick is to perform the rasterization <em>in groups</em> - group 10-15 shapes together and rasterize them as a single image. This keeps the raster count low. On clicking an image - we can release the whole group or just the item that was clicked on.</p>\n\n<h2>Attach click handlers on the group and hit-test the hidden path below</h2>\n\n<p>When rasterizing a group, we can simply attach a <code>click</code> handler on it, so when clicked we toggle bitmap with vector. Images do not behave the same as vectors when hit testing - images are <code>squares</code> by nature and cannot be assymetrically hit-tested. While a vector considers it's edges to be on it's path boundaries - an image considers it's boundaries to be it's whole bounding box. The solution is when clicking on the image to actually hit-test the click point with the vector path below the image - if it returns true then perform a release.</p>\n\n<p>The rest are optimizations and making the whole thing smart - Currently I allow my users to press a button and perform this optimization to all the shapes on the canvas - Maybe this can be done in a more automatic/intuitive way.</p>\n\n<p>Anyway here's the code for it, but this only applies within Paper.js. The whole concept however is easy to apply to other libraries as well, as long as they allow rasterization, grouping and hit-testing shapes.</p>\n\n<pre><code>var rasterGroupCounter = 0;\nfunction cacheItems() {\n\n    var children = paper.project.activeLayer.children; //get all items in the project\n\n    window['rasterGroup' + String(rasterGroupCounter)] = new paper.Group;\n    var thisGroup = window['rasterGroup' + String(rasterGroupCounter)];\n\n    for (var i = 0; i &lt; children.length; i++) {\n        thisGroup.addChild(children[i]) // add items to group\n    }\n\n    var thisImg =  thisGroup.rasterize(72); //rasterize the group\n    thisGroup.visible = false; //hide the original `vector` group.\n\n    //attach click handler on image\n    thisImg.attach('mousedown', function(event) {\n        if (thisGroup.contains(event.point)) { //hit test with hidden vector group\n            thisImg.remove(); \n            thisGroup.visible = true;\n        }\n    });\n    rasterGroupCounter++\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p><strong>I am building a CAD app that runs in a browser.</strong> </p>\n\n<ul>\n<li><p>C.A.D stands for <a href=\"http://en.wikipedia.org/wiki/Computer-aided_design\" rel=\"nofollow\"><em>Computer Aided Design</em>.</a> </p></li>\n<li><p>Illustrator, CorelDraw,AutoCAD etc are all examples of CAD apps.</p></li>\n</ul>\n\n<hr>\n\n<p>It's based on <a href=\"http://paperjs.org\" rel=\"nofollow\">Paper.js</a>, a very neat Canvas library that allows you to manipulate vectors.</p>\n\n<p>Paper.js is more than great. \nThere is a plethora of features to use, it's creators are really helpful in answering questions/bug fixing and it's generally a very easy-to-use and professionaly maintained library.  New features also come in at a good pace and it's easy to update to newer versions of the library.</p>\n\n<h2>The major issue I am having at the moment is performance.</h2>\n\n<p>The CAD-app targets laser-cutting. </p>\n\n<ul>\n<li><p>Laser-cutting has the advantage of being able to cut intricate\ndesigns out of materials, hence the app should be able to handle very\nhigh-node count designs.</p></li>\n<li><p>Unfortunately the app cannot handle such high-node count designs. It\ngets extremely cludgy after >50 000 nodes designs and it's generally\nnot the kind of a responsive tool that a designer would want to use\nin those scenarios.</p></li>\n<li><p>I have the impression that Paper.js is somewhat optimized as a library\nand I already started thinking that the app has stumbled upon\nfundamental limitations of Javascript speed/Browser developement VS\nnative desktop C++ applications.</p></li>\n</ul>\n\n<p><strong>The question</strong></p>\n\n<p>Therefore I need to think of a ''hack'' that will allow my app to be responsive in scenarios like the one described above. Are there some <em>classroom examples</em> of optimizing large node-count documents editing in CAD apps?</p>\n\n<blockquote>\n  <p><strong>E.G:</strong> I thought of rasterizing paths that are not directly selected and worked on, save their path data into LocalStorage and as soon as\n  the user clicks on them to manipulate them, to re-import back their\n  path data. That would minimize the memory usage on non-worked-on\n  items.</p>\n</blockquote>\n\n<p><s>Unfortunately rasterizing,saving and reimporting is also a bottleneck. So this solution is less than optimal.</s></p>\n\n<p><strong>Edit:</strong> Rasterizing could be a viable solution, see below</p>\n\n<p><strong>I would like to hear of more ideas like the one described above, if anyone can help.</strong></p>\n",
            "last_activity_date": 1423944279,
            "question_id": 23884074,
            "score": 9,
            "tags": [
                "javascript",
                "performance",
                "graphics",
                "paperjs"
            ],
            "title": "CAD-in-a browser, HTML5 Canvas and performance limitations of Javascript/browser development"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Try this(in controller): </p>\n\n<pre><code>$scope.notFooFilter = function(item)\n{\n    return (item.type !== 'foo');\n};\n</code></pre>\n\n<p>And in HTML markup:</p>\n\n<pre><code>&lt;div ng-repeat=\"item in items| filter:notFooFilter\"&gt;{{item.type}}&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Filter works on arrays but you have an object literal.  </p>\n\n<p>So you can either convert your object literal into an array or create your own filter than takes in the object literal.</p>\n\n<p>If you don't need those index values then converting to an array may be your best bet( \nHere's a fiddle with the array working: <a href=\"http://jsfiddle.net/NqA8d/3/\">http://jsfiddle.net/NqA8d/3/</a>):</p>\n\n<pre><code>$scope.items = [{\n    \"type\": \"foo\",\n        \"name\": \"blah\"\n}, {\n    \"type\": \"bar\"\n}, {\n    \"type\": \"foo\"\n}, {\n    \"type\": \"baz\"\n}, {\n    \"type\": \"test\"\n}];\n</code></pre>\n\n<p>In case you'd like to do a filter, here's one way to do that:</p>\n\n<pre><code>myApp.filter('myFilter', function () {\n    return function (items, search) {\n        var result = [];\n        angular.forEach(items, function (value, key) {\n            angular.forEach(value, function (value2, key2) {\n                if (value2 === search) {\n                    result.push(value2);\n                }\n            })\n        });\n        return result;\n\n    }\n});\n</code></pre>\n\n<p>And that fiddle:  <a href=\"http://jsfiddle.net/NqA8d/5/\">http://jsfiddle.net/NqA8d/5/</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Although I agree that converting your object might be the best option here, you can also use this filter function:</p>\n\n<pre><code>angular.module('app').filter('objectByKeyValFilter', function () {\nreturn function (input, filterKey, filterVal) {\n    var filteredInput ={};\n     angular.forEach(input, function(value, key){\n       if(value[filterKey] &amp;&amp; value[filterKey] !== filterVal){\n          filteredInput[key]= value;\n        }\n     });\n     return filteredInput;\n}});\n</code></pre>\n\n<p>like this:</p>\n\n<pre><code>&lt;div ng-repeat=\"(key, value) in data | objectByKeyValFilter:'type':'foo'\"&gt;{{key}}{{value.type}}&lt;/div&gt; \n</code></pre>\n\n<p>See also the <a href=\"http://plnkr.co/edit/4ZMJqM5HaEUQYXuWWa6I?p=options\">Plunker</a>.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Little late to answer, but this might help :</p>\n\n<p>If you want to filter on a grandchild (or deeper) of the given object, you can continue to build out your object hierarchy. For example, if you want to filter on 'thing.properties.title', you can do the following:</p>\n\n<pre><code>&lt;div ng-repeat=\"thing in things | filter: { properties: { title: title_filter } }\"&gt;\n</code></pre>\n\n<p>You can also filter on multiple properties of an object just by adding them to your filter object:</p>\n\n<pre><code>&lt;div ng-repeat=\"thing in things | filter: { properties: { title: title_filter, id: id_filter } }\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I have an object with a series of object properties that is in the following similar structure (which is the way the data is coming back from a service):</p>\n\n<pre><code>{\n  \"1\": {\n    \"type\": \"foo\",\n    \"name\": \"blah\"\n  },\n  \"2\": {\n    \"type\": \"bar\"\n  },\n  \"3\": {\n    \"type\": \"foo\"\n  },\n  \"4\": {\n    \"type\": \"baz\"\n  },\n  \"5\": {\n    \"type\": \"test\"\n  }\n}\n</code></pre>\n\n<p>When I do a ng-repeat, I can iterate over all 5 of these object, something like:</p>\n\n<pre><code>&lt;div ng-repeat=\"item in items\"&gt;{{item.type}}&lt;/div&gt;\n</code></pre>\n\n<p>However, <strong>what I really want to do is iterate only over those items that are NOT the type \"foo\"</strong>, namely 3 iterations instead of 5. I know that filters can somehow be leveraged to do this, but I am not sure how. I tried the following:</p>\n\n<pre><code>&lt;div ng-repeat=\"item in items| !filter:{type:'foo'}\"&gt;{{item.type}}&lt;/div&gt;\n</code></pre>\n\n<p>but this doesn't work. In fact, even doing the following to limit to just 2 objects(those with item.type===\"foo\"), it doesn't work and does 5 iterations:</p>\n\n<pre><code>&lt;div ng-repeat=\"item in items| filter:{type:'foo'}\"&gt;{{item.type}}&lt;/div&gt;\n</code></pre>\n\n<p>In essence, I want to do something similar to:</p>\n\n<pre><code>&lt;div ng-repeat=\"item in items\" ng-if=\"item.type !=='foo'&gt;{{item.type}}&lt;/div&gt;\n</code></pre>\n\n<p>However, I know that one doesn't work.</p>\n",
            "last_activity_date": 1420701038,
            "question_id": 19849806,
            "score": 9,
            "tags": [
                "javascript",
                "templates",
                "angularjs",
                "loops"
            ],
            "title": "Angular filter a object by it&#39;s properties"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can very easily solve this by a cookie. There is a lot of simplified libraries, like <a href=\"https://github.com/carhartl/jquery-cookie\">https://github.com/carhartl/jquery-cookie</a> as I use in the example below :</p>\n\n<pre><code>&lt;script src=\"https://raw.github.com/carhartl/jquery-cookie/master/jquery.cookie.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>add the following code to a script section (<code>#accordion2</code> refers to the modfied twitter bootstrap example, I list afterwards)</p>\n\n<pre><code>$(document).ready(function() {\n    var last=$.cookie('activeAccordionGroup');\n    if (last!=null) {\n        //remove default collapse settings\n        $(\"#accordion2 .collapse\").removeClass('in');\n        //show the last visible group\n        $(\"#\"+last).collapse(\"show\");\n    }\n});\n\n//when a group is shown, save it as the active accordion group\n$(\"#accordion2\").bind('shown', function() {\n    var active=$(\"#accordion2 .in\").attr('id');\n    $.cookie('activeAccordionGroup', active)\n});\n</code></pre>\n\n<p>And you are done! Here a modified version of the example at <a href=\"http://twitter.github.com/bootstrap/javascript.html#collapse\">http://twitter.github.com/bootstrap/javascript.html#collapse</a> with clickable links, when you go back - the last shown accordion group opens up automatically</p>\n\n<pre><code>&lt;div class=\"accordion\" id=\"accordion2\"&gt;\n  &lt;div class=\"accordion-group\"&gt;\n    &lt;div class=\"accordion-heading\"&gt;\n      &lt;a class=\"accordion-toggle\" data-toggle=\"collapse\" data-parent=\"#accordion2\" href=\"#collapseOne\"&gt;\n        Collapsible Group Item #1\n      &lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div id=\"collapseOne\" class=\"accordion-body collapse in\"&gt;\n      &lt;div class=\"accordion-inner\"&gt;\n        Link : &lt;a href=\"http://google.com\"&gt;google.com&lt;/a&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"accordion-group\"&gt;\n    &lt;div class=\"accordion-heading\"&gt;\n      &lt;a class=\"accordion-toggle\" data-toggle=\"collapse\" data-parent=\"#accordion2\" href=\"#collapseTwo\"&gt;\n        Collapsible Group Item #2\n      &lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div id=\"collapseTwo\" class=\"accordion-body collapse\"&gt;\n      &lt;div class=\"accordion-inner\"&gt;\n        Link : &lt;a href=\"http://stackoverflow.com\"&gt;stackoverflow.com&lt;/a&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"accordion-group\"&gt;\n    &lt;div class=\"accordion-heading\"&gt;\n      &lt;a class=\"accordion-toggle\" data-toggle=\"collapse\" data-parent=\"#accordion2\" href=\"#collapseThree\"&gt;\n        Collapsible Group Item #3\n      &lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div id=\"collapseThree\" class=\"accordion-body collapse\"&gt;\n      &lt;div class=\"accordion-inner\"&gt;\n        Link : &lt;a href=\"http://cryptozoologynews.blogspot.com/\"&gt;cryptozoology news&lt;/a&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>I tried the technique suggested above and it worked for me (sort of) but calling .collapse(\"show\") seemed to break the accordion toggle behavior in some instances. Opening first panel would leave previously opened panel in open state. I got round this with jQuery by adding class \"in\" instead:</p>\n\n<pre><code>$(document).ready(function() {\n    var last=$.cookie('activeAccordionGroup');\n    if (last!=null) {\n        //remove default collapse settings\n        $(\"#accordion .panel-collapse\").removeClass('in');\n        //show the account_last visible group\n        $(\"#\" + last).addClass(\"in\");\n    }\n});\n</code></pre>\n\n<p>Otherwise, thanks davidkonrad putting me on right track.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Thanks for this, found it very helpful, but if you are using Bootstrap 3 &amp; latest jquery, this works: </p>\n\n<pre><code>$(\"#accordion\").on('shown.bs.collapse', function()\n{\n   ...\n});\n</code></pre>\n\n<p>Hope this saves others some time.... </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In <strong>Bootstrap 3.x.x</strong> you have to use the following script to save the last open state in cookies.</p>\n\n<p><strong>HTML Markup</strong></p>\n\n<pre><code>&lt;div class=\"panel-group\" id=\"accordion\"&gt;\n    &lt;div class=\"panel panel-default\"&gt;\n        &lt;div class=\"panel-heading\"&gt;\n            &lt;h4 class=\"panel-title\"&gt;\n                &lt;a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseOne\"&gt;Collapsible Group\n                    Item #1 &lt;/a&gt;\n            &lt;/h4&gt;\n        &lt;/div&gt;\n        &lt;div id=\"collapseOne\" class=\"panel-collapse collapse in\"&gt;\n            &lt;div class=\"panel-body\"&gt;\n                Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson\n                ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food\n                truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put\n                a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim\n                keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.\n                Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table,\n                raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus\n                labore sustainable VHS.\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"panel panel-default\"&gt;\n        &lt;div class=\"panel-heading\"&gt;\n            &lt;h4 class=\"panel-title\"&gt;\n                &lt;a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseTwo\"&gt;Collapsible Group\n                    Item #2 &lt;/a&gt;\n            &lt;/h4&gt;\n        &lt;/div&gt;\n        &lt;div id=\"collapseTwo\" class=\"panel-collapse collapse\"&gt;\n            &lt;div class=\"panel-body\"&gt;\n                Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson\n                ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food\n                truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put\n                a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim\n                keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.\n                Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table,\n                raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus\n                labore sustainable VHS.\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"panel panel-default\"&gt;\n        &lt;div class=\"panel-heading\"&gt;\n            &lt;h4 class=\"panel-title\"&gt;\n                &lt;a data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseThree\"&gt;Collapsible\n                    Group Item #3 &lt;/a&gt;\n            &lt;/h4&gt;\n        &lt;/div&gt;\n        &lt;div id=\"collapseThree\" class=\"panel-collapse collapse\"&gt;\n            &lt;div class=\"panel-body\"&gt;\n                Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson\n                ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food\n                truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put\n                a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim\n                keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident.\n                Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table,\n                raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus\n                labore sustainable VHS.\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Jquery</strong></p>\n\n<pre><code>  $(document).ready(function () {\n        //when a group is shown, save it as the active accordion group\n        $(\"#accordion\").on('shown.bs.collapse', function () {\n            var active = $(\"#accordion .in\").attr('id');\n            $.cookie('activeAccordionGroup', active);\n          //  alert(active);\n        });\n        $(\"#accordion\").on('hidden.bs.collapse', function () {\n            $.removeCookie('activeAccordionGroup');\n        });\n        var last = $.cookie('activeAccordionGroup');\n        if (last != null) {\n            //remove default collapse settings\n            $(\"#accordion .panel-collapse\").removeClass('in');\n            //show the account_last visible group\n            $(\"#\" + last).addClass(\"in\");\n        }\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm using Bootstrap \"collapse\" plugin to make an accordion for a long list of links. The accordion-body tag includes \"collapse\" so all the groups are collapsed when the page loads.  When you open a group and click on a link, it takes you to a new page to see some detail and then you click a back link or the browser back to return to the list.  Unfortunately, when you return the accordion is back in its collapsed state and you have to open the group again and find where you were.  I anticipate a lot of this back and forth navigation and this behavior is going to be frustrating.</p>\n\n<p>Is there some way to preserve the user's place and go back to it, or just prevent the page from reloading or the javascript from firing again.</p>\n\n<p>I thought the solution might be along these lines, but not sure.\n<a href=\"http://stackoverflow.com/questions/10918801/twitter-bootstrap-adding-a-class-to-the-open-accordion-title\">Twitter bootstrap: adding a class to the open accordion title</a></p>\n",
            "last_activity_date": 1407827914,
            "question_id": 12733238,
            "score": 9,
            "tags": [
                "javascript",
                "jquery",
                "twitter-bootstrap",
                "twitter-bootstrap-3"
            ],
            "title": "Retain Twitter Bootstrap Collapse state on Page refresh/Navigation"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p><a href=\"http://api.jquery.com/jQuery.browser/\" rel=\"nofollow\">jQuery.browser</a></p>\n\n<p><code>jQuery.browser</code>\nand \n<code>jQuery.browser.version</code></p>\n\n<p>is your way to go...</p>\n\n<p><strong>EDIT:</strong> As jQuery.browser is  deprecated in  ver 1.9, So Use Jquery <strong><a href=\"https://github.com/jquery/jquery-migrate/\" rel=\"nofollow\">Migrate Plugin</a></strong> for that matter.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>In c# you your browser name using:</p>\n\n<pre><code>System.Web.HttpBrowserCapabilities browser = Request.Browser;\n</code></pre>\n\n<p>For details see a link.<br></p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/3yekbd5b%28v=vs.100%29.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/3yekbd5b%28v=vs.100%29.aspx</a></p>\n\n<p>and in Client side:<br></p>\n\n<p><strong>JQuery:</strong><br></p>\n\n<pre><code>jQuery.browser\n</code></pre>\n\n<p>For details see a link:</p>\n\n<p><a href=\"http://api.jquery.com/jQuery.browser/\" rel=\"nofollow\">http://api.jquery.com/jQuery.browser/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><code>Sys.Browser.agent == Sys.Browser.InternetExplorer</code> is another way to check browser detail.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>The browser discloses it in <code>navigator.userAgent</code>. If you're using jQuery, you're better off using <a href=\"http://api.jquery.com/jQuery.browser/\" rel=\"nofollow\"><code>jQuery.browser</code></a> as @Rab Nawaz said. However, as the API documentation says, it's better to check for feature support if possible. Quoting the documentation:</p>\n\n<blockquote>\n  <p>We recommend against using this property; please try to use feature detection instead (see <a href=\"http://api.jquery.com/jQuery.support/\" rel=\"nofollow\">jQuery.support</a>). jQuery.browser may be moved to a plugin in a future release of jQuery.</p>\n</blockquote>\n\n<p>Here is a code example:</p>\n\n<pre><code>function isIE() {\n    if (window.jQuery) {\n        return jQuery.browser.msie || false;\n    } else {\n        // adapted from jQuery's source:\n        return navigator.userAgent.toLowerCase().indexOf('msie') &gt;= 0;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It's all about what you really want to do, but in times to come and right now, the best way is avoid <strong>browser detection</strong> and check for features. like <strong>Canvas</strong>, <strong>Audio</strong>, <strong>WebSockets</strong>, etc through simple javascript calls or in your CSS, for me your best approach is use a tool like <a href=\"http://modernizr.com/\" rel=\"nofollow\">ModernizR</a>:</p>\n\n<blockquote>\n  <p>Unlike with the traditional\u2014but highly unreliable\u2014method of doing \u201cUA sniffing,\u201d which is detecting a browser by its (user-configurable) <code>navigator.userAgent</code> property, <strong>Modernizr does actual feature detection</strong> to reliably discern what the various browsers can and cannot do. </p>\n</blockquote>\n\n<p>If using CSS, you can do this:</p>\n\n<pre><code>.no-js .glossy,\n.no-cssgradients .glossy {\n    background: url(\"images/glossybutton.png\");\n}\n\n.cssgradients .glossy {\n    background-image: linear-gradient(top, #555, #333);\n}\n</code></pre>\n\n<p>as it will load and append all features as a class name in the <code>&lt;html&gt;</code> element and you will be able to do as you wish in terms of CSS.</p>\n\n<p>And you can even load files upon features, for example, load a polyfill js and css if the browser does not have native support</p>\n\n<pre><code>Modernizr.load([\n  // Presentational polyfills\n  {\n    // Logical list of things we would normally need\n    test : Modernizr.fontface &amp;&amp; Modernizr.canvas &amp;&amp; Modernizr.cssgradients,\n    // Modernizr.load loads css and javascript by default\n    nope : ['presentational-polyfill.js', 'presentational.css']\n  },\n  // Functional polyfills\n  {\n    // This just has to be truthy\n    test : Modernizr.websockets &amp;&amp; window.JSON,\n    // socket-io.js and json2.js\n    nope : 'functional-polyfills.js',\n    // You can also give arrays of resources to load.\n    both : [ 'app.js', 'extra.js' ],\n    complete : function () {\n      // Run this after everything in this group has downloaded\n      // and executed, as well everything in all previous groups\n      myApp.init();\n    }\n  },\n  // Run your analytics after you've already kicked off all the rest\n  // of your app.\n  'post-analytics.js'\n]);\n</code></pre>\n\n<p>a simple example of requesting features from javascript:</p>\n\n<blockquote>\n  <p><a href=\"http://jsbin.com/udoyic/1\" rel=\"nofollow\">http://jsbin.com/udoyic/1</a></p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>JavaScript side - you can get browser name like this way...</p>\n\n<pre><code>if(window.navigator.appName == \"\")\n</code></pre>\n\n<p>thanks.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>This is pure <strong>JavaScript solution</strong>. Which I was required.<br>\nI tried on different browsers. It is working fine. Hope it helps.  </p>\n\n<p><a href=\"http://www.javascripter.net/faq/browsern.htm\">How do I detect the browser name ?</a></p>\n\n<p>You can use the <code>navigator.appName</code> and <code>navigator.userAgent</code> properties. The <code>userAgent</code> property is more reliable than <code>appName</code> because, for example, Firefox (and some other browsers) may return the string \"Netscape\" as the value of <code>navigator.appName</code> for compatibility with Netscape Navigator. </p>\n\n<p>Note, however, that <code>navigator.userAgent</code> may be spoofed, too \u2013 that is, clients may substitute virtually any string for their <code>userAgent</code>. Therefore, whatever we deduce from either <code>appName</code> or <code>userAgent</code> should be taken with a grain of salt.</p>\n\n<pre><code>var nVer = navigator.appVersion;\nvar nAgt = navigator.userAgent;\nvar browserName  = navigator.appName;\nvar fullVersion  = ''+parseFloat(navigator.appVersion); \nvar majorVersion = parseInt(navigator.appVersion,10);\nvar nameOffset,verOffset,ix;\n\n// In Opera, the true version is after \"Opera\" or after \"Version\"\nif ((verOffset=nAgt.indexOf(\"Opera\"))!=-1) {\n   browserName = \"Opera\";\n   fullVersion = nAgt.substring(verOffset+6);\n   if ((verOffset=nAgt.indexOf(\"Version\"))!=-1) \n     fullVersion = nAgt.substring(verOffset+8);\n}\n// In MSIE, the true version is after \"MSIE\" in userAgent\nelse if ((verOffset=nAgt.indexOf(\"MSIE\"))!=-1) {\n   browserName = \"Microsoft Internet Explorer\";\n   fullVersion = nAgt.substring(verOffset+5);\n}\n// In Chrome, the true version is after \"Chrome\" \nelse if ((verOffset=nAgt.indexOf(\"Chrome\"))!=-1) {\n   browserName = \"Chrome\";\n   fullVersion = nAgt.substring(verOffset+7);\n}\n// In Safari, the true version is after \"Safari\" or after \"Version\" \nelse if ((verOffset=nAgt.indexOf(\"Safari\"))!=-1) {\n   browserName = \"Safari\";\n   fullVersion = nAgt.substring(verOffset+7);\n   if ((verOffset=nAgt.indexOf(\"Version\"))!=-1) \n     fullVersion = nAgt.substring(verOffset+8);\n}\n// In Firefox, the true version is after \"Firefox\" \nelse if ((verOffset=nAgt.indexOf(\"Firefox\"))!=-1) {\n    browserName = \"Firefox\";\n    fullVersion = nAgt.substring(verOffset+8);\n}\n// In most other browsers, \"name/version\" is at the end of userAgent \nelse if ( (nameOffset=nAgt.lastIndexOf(' ')+1) &lt; (verOffset=nAgt.lastIndexOf('/')) ) {\n    browserName = nAgt.substring(nameOffset,verOffset);\n    fullVersion = nAgt.substring(verOffset+1);\n    if (browserName.toLowerCase()==browserName.toUpperCase()) {\n       browserName = navigator.appName;\n    }\n}\n// trim the fullVersion string at semicolon/space if present\nif ((ix=fullVersion.indexOf(\";\"))!=-1)\n    fullVersion=fullVersion.substring(0,ix);\nif ((ix=fullVersion.indexOf(\" \"))!=-1)\n    fullVersion=fullVersion.substring(0,ix);\n\nmajorVersion = parseInt(''+fullVersion,10);\nif (isNaN(majorVersion)) {\n    fullVersion  = ''+parseFloat(navigator.appVersion); \n    majorVersion = parseInt(navigator.appVersion,10);\n}\n\ndocument.write(''\n                +'Browser name  = '+browserName+'&lt;br&gt;'\n                +'Full version  = '+fullVersion+'&lt;br&gt;'\n                +'Major version = '+majorVersion+'&lt;br&gt;'\n                +'navigator.appName = '+navigator.appName+'&lt;br&gt;'\n                +'navigator.userAgent = '+navigator.userAgent+'&lt;br&gt;');\n</code></pre>\n\n<p><a href=\"http://www.javascripter.net/faq/browsern.htm\">From the source javascripter.net</a>  </p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>Is there any object/method that will give me information on the browser, client side?</p>\n\n<p>For example, I need to detect IE browser. I am using:</p>\n\n<pre><code>function st_IsIE()\n{\n    if(navigator.appName.indexOf(\"Microsoft Internet Explorer\") != -1)\n    {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>Is there a better way?</p>\n",
            "last_activity_date": 1394791741,
            "question_id": 12489546,
            "score": 9,
            "tags": [
                "javascript",
                "browser",
                "cross-browser"
            ],
            "title": "How to get browser&#39;s name client side?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>the way to do this is the bracket notation, <a href=\"http://jsfiddle.net/TSXA8/\">which works here</a></p>\n\n<pre><code>var test = {\n    \"id\": \"109\",\n    \"No. of interfaces\": \"4\"\n}\nalert(test[\"No. of interfaces\"]);\u200b //4\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 21
                }
            ],
            "body": "<p>I have following json object:</p>\n\n<pre><code>{ \"id\": \"109\",\n  \"No. of interfaces\": \"4\" }\n</code></pre>\n\n<p>Following lines work fine:</p>\n\n<pre><code>alert(obj.id);\nalert(obj[\"id\"]);\n</code></pre>\n\n<p>But if keys have spaces then I cannot access their values e.g.</p>\n\n<pre><code>alert(obj.\"No. of interfaces\"); //Syntax error\nalert(obj[\"No. of interfaces\"]); //Return 'undefined'\n</code></pre>\n\n<p>How can I access values, whose key names have spaces? Is it even possible?</p>\n",
            "last_activity_date": 1335339757,
            "question_id": 10311361,
            "score": 9,
            "tags": [
                "javascript",
                "json"
            ],
            "title": "Accessing JSON object keys having spaces"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>It's not an either one or the other type of situation; generally you will need to do both. </p>\n\n<p>Doing it client side will probably be slower, as the server still needs to figure out all the data but the client needs to render it; this will involve multiple requests (most likely) and DOM manipulation is slow (especially on older browsers).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If SEO is your concern, things are simple: JS is not indexed.</p>\n\n<p>There also are UI issues: if JS is not enabled, no JS-dependent stuff will load.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Doing it client side means:</p>\n\n<ol>\n<li>Doing it in lots of different environments instead of a single one</li>\n<li>Having it break whenever a user comes along without JS (for whatever reason)</li>\n<li>Having it fail to work for the vast majority of bots (including search engines)</li>\n<li>Investing development time in converting all your logic</li>\n<li>Requiring the browser to make additional requests to the server, slowing down load times</li>\n</ol>\n\n<p>When deciding if you should do something client side instead of server side, as a rule of thumb ask yourself two questions:</p>\n\n<ol>\n<li>Would the user benefit from getting instant feedback in response to them doing something? e.g. An error message for improper data in a form they are trying to submit. If so, then doing it client side would be beneficial. </li>\n<li>Can it be done server side? If so, do it server side first as it is more reliable (and for non-cosmetic things, harder to interfere with). <a href=\"http://icant.co.uk/articles/pragmatic-progressive-enhancement/\">Build on things that work</a>.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>Best practice would be to produce any necessary markup on the server side. Reasons for this include:</p>\n\n<p><strong>SEO:</strong> Most crawler bots won't parse Javascript, so they'll skip over anything crucial that you're generating with addElement.</p>\n\n<p><strong>Accessibility:</strong> Your site should basically functional without Javascript. Consider people who might be browsing your site on Kindles, older Blackberries, Nokias or other feature phones with data. They don't need all the fancy styles and effects, but they should at least be able to get around your site.</p>\n\n<p><strong>Consistency:</strong> JS can add yet another level of cross-browser variability. Why rely on client-side rendering of necessary markup? Do it server-side.</p>\n\n<p>Of course, this advice can be taken in stride if you're developing an all-JS desktop app or using something like the <a href=\"http://www.sencha.com/products/touch/\" rel=\"nofollow\">Sencha Touch</a> framework.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>One possibility would be to detect what kind of user is viewing your site :</p>\n\n<ul>\n<li><p>If it's a bot: parse on the server-side, you may just output what is needed by the bot, without graphical things,...</p></li>\n<li><p>If it's a mobile : show a mobile optimized version, using something like Sencha Touch, as Charlie pointed out</p></li>\n<li><p>If it's a standard browser, without javascript : render the page on the server side</p></li>\n<li><p>If it's a standard browser, with javascript enables : just send the data from server side (or load it with Ajax) and render the data from the client-side</p></li>\n</ul>\n\n<p>You may use something like <a href=\"http://mustache.github.com/\" rel=\"nofollow\">Mustache</a>, wich is a template engine running on many server-side languages (PHP, Ruby, Java,... but also on Javascript, enabling client-side page rendering!</p>\n\n<p>And try to use a Javascript framework like <a href=\"http://jquery.com/\" rel=\"nofollow\">jQuery</a>, <a href=\"http://mootools.net/\" rel=\"nofollow\">Mootools</a>, <a href=\"http://www.dojotoolkit.org/\" rel=\"nofollow\">Dojo</a> or <a href=\"http://www.sencha.com/products/extjs/\" rel=\"nofollow\">ExtJS</a>, they will help you to write code that will run on every browser.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>PHP is good for some things, including Handlebars type templating, and fast server-side content replacement. But it is also not great for some things, like single page applications and games, real-time updates to websites. Those things are where JavaScript is strong.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Typically when I put together dynamically generated HTML markup, I've been using PHP to store the information and then looping through that to create elements on the page. One example is navigation; create an array of objects and then loop through them to echo the markup. This helps out a lot for times that I might have to make minor (or major) changes during development or maintenance.</p>\n\n<p>Lately I've been wondering if I should use JavaScript to do this instead. Same principle, but using addElement.</p>\n\n<p>Just wanted to get some opinions on this; pros, cons, php vs js, seo considerations, etc.</p>\n\n<p>Thanks folks!</p>\n",
            "last_activity_date": 1414112814,
            "question_id": 6106402,
            "score": 9,
            "tags": [
                "php",
                "javascript",
                "html",
                "seo"
            ],
            "title": "PHP vs JavaScript For Dynamic HTML Pages"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can use the Mobile Safari user agent string to detect mobile safari server-side, see: <a href=\"http://stackoverflow.com/questions/186734/how-do-i-detect-mobile-safari-server-side-using-php\">How do I detect Mobile Safari server side using PHP?</a></p>\n\n<hr />\n\n<p>You can also do this in JavaScript:</p>\n\n<pre><code>if(navigator.userAgent.match(/(iPhone|iPod|iPad)/i))\n</code></pre>\n\n<p>See <a href=\"http://davidwalsh.name/detect-iphone\" rel=\"nofollow\">iPhone &amp; iPod Detection Using JavaScript</a> for more information.</p>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>You can use <a href=\"http://detectmobilebrowser.com/\" rel=\"nofollow\">Detect Mobile Browser</a> (it has a library for javascript).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>you can also try this</p>\n\n<pre><code>if (navigator.userAgent.match(/like Mac OS X/i)) {\n                alert('Hi, you\\'re browsing from an iOS device.');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a jQuery script I'm using on a site to allow fixed position background images on iPhone/iPad/iPod. However it seems to be clashing with another script I am using on the site that enlarges background images full screen. Luckily they're independent of each other, I don't need the clashing background image script to work on iOS devices and vice versa.</p>\n\n<p>Is there a way I can specifically target IOS devices to serve a JS file? I initially thought about using some kind of IF statement and doing it on window size but that started to get a bit complicated and affects other non-IOS devices. It just needs to run something like this...</p>\n\n<p>...\"if IOS device then load scroll.js\"</p>\n\n<p>I know device/browser sniffing is frowned upon but I can't think of another way around this problem.</p>\n",
            "last_activity_date": 1364910569,
            "question_id": 4875914,
            "score": 9,
            "tags": [
                "javascript",
                "jquery",
                "ios"
            ],
            "title": "Loading JS script for only iOS devices?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p><strong>The Range and Selection Objects</strong></p>\n\n<p>Use the <a href=\"https://developer.mozilla.org/en/DOM/Selection\" rel=\"nofollow\"><strong>selection</strong></a> and <strong><a href=\"https://developer.mozilla.org/En/DOM/Range\" rel=\"nofollow\">range objects</a></strong>.  These contain all kinds of information about the current selection, and where it lies within the node tree.</p>\n\n<p><strong>Fair Warning:</strong>\nIt's not entirely impossible to do what you're describing, but if you get very fancy, you'll be in pretty deep water of <strong>browser quirks and incompatibilities</strong>.  You're going to have to do a lot of <strong>object detection</strong>, checking to make sure you've got consistent values and methods. Incrementally check all of your browsers as you develop.  Good luck!</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>If all you need to do is insert HTML at the current selection / insertion point, that is doable.  Off the top of my head (to get you started):</p>\n\n<p>In IE, use document.selection.createRange().pasteHTML(theNewHTML).</p>\n\n<p>In other browsers, you should be able to use document.execCommand(\"InsertHTML\", ...).</p>\n\n<p>I've used these kinds of techniques only in editable iframes/documents, not divs, but these calls should work if the div is focused, I believe.</p>\n\n<p>As another answer warned, it gets ugly if you want finer-grained control, like inserting text in other places.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>You can also use a round-about method using insertImage.  You insert a fake image (or a small one) using the execCommand \"insertImage\", then you use Javascript to replace the innerHTML to add the text.</p>\n\n<p>For example:</p>\n\n<pre><code>iFrame.focus()\niFrame.document.execCommand(\"insertImage\", \"\", \"fakeimage.jpg\")\niFrame.document.body.innerHTML=iFrame.document.body.innerHTML.replace(\"&lt;img src=\\\"fakeimage.jpg\\\"&gt;\", \"MY CUSTOM &lt;b&gt;HTML&lt;/b&gt; HERE!\")\n</code></pre>\n\n<p>Whereas iFrame is equal to the id of the intended iFrame.  Or, you could use a DIV layer by using document.getElementById(\"IDofDIVlayer\").innerHTML</p>\n\n<p>Be sure to focus before calling the execCommand, otherwise it may not work in IE.</p>\n\n<p>This method works in IE too.  Tested.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's a cross-browser example, adapted from <a href=\"http://stackoverflow.com/a/6691294/96100\">this answer</a> to work with iframes.</p>\n\n<pre><code>function pasteHtmlAtCaret(html, selectPastedContent, iframe) {\n    var sel, range;\n    var win = iframe ? iframe.contentWindow : window;\n    var doc = win.document;\n    if (win.getSelection) {\n        // IE9 and non-IE\n        sel = win.getSelection();\n        if (sel.getRangeAt &amp;&amp; sel.rangeCount) {\n            range = sel.getRangeAt(0);\n            range.deleteContents();\n\n            // Range.createContextualFragment() would be useful here but is\n            // only relatively recently standardized and is not supported in\n            // some browsers (IE9, for one)\n            var el = doc.createElement(\"div\");\n            el.innerHTML = html;\n            var frag = doc.createDocumentFragment(), node, lastNode;\n            while ( (node = el.firstChild) ) {\n                lastNode = frag.appendChild(node);\n            }\n            var firstNode = frag.firstChild;\n            range.insertNode(frag);\n\n            // Preserve the selection\n            if (lastNode) {\n                range = range.cloneRange();\n                range.setStartAfter(lastNode);\n                if (selectPastedContent) {\n                    range.setStartBefore(firstNode);\n                } else {\n                    range.collapse(true);\n                }\n                sel.removeAllRanges();\n                sel.addRange(range);\n            }\n        }\n    } else if ( (sel = doc.selection) &amp;&amp; sel.type != \"Control\") {\n        // IE &lt; 9\n        var originalRange = sel.createRange();\n        originalRange.collapse(true);\n        sel.createRange().pasteHTML(html);\n        if (selectPastedContent) {\n            range = sel.createRange();\n            range.setEndPoint(\"StartToStart\", originalRange);\n            range.select();\n        }\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a problem where I need to insert a text (string, may or may not have html tags) to a div. It has to be a div and not a textarea.</p>\n\n<p>Is there anyway to do that? First of all, I need to get the cursor position, then inserting the text in that position.</p>\n\n<p>It's similar to function insertAdjacentText, but it can only insert before or after a tag, and only works in IE.</p>\n\n<p>Refer to this URL: <a href=\"http://yart.com.au/test/iframe.aspx\" rel=\"nofollow\">http://yart.com.au/test/iframe.aspx</a>. Note how you can position the cursor in the div, we need to add text at the cursor location.</p>\n",
            "last_activity_date": 1395771446,
            "question_id": 252151,
            "score": 9,
            "tags": [
                "javascript",
                "cursor",
                "contenteditable"
            ],
            "title": "Insert text in Javascript contenteditable div"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Best way that we could find without going crazy was to proxy the self-join relationship with the relationship object, then just map that to the user. </p>\n\n<p>So if a user has many \"users\" through follows then you can do:</p>\n\n<pre><code>App.User = DS.Model.extend\n  name: DS.attr('string')\n  follows: DS.hasMany('App.Follow')\n  followers:(-&gt;\n    @get('follows').map((data)-&gt; App.User.find(data.get('followedUserId')))\n  ).property('follows.@each')\n\nApp.Follow = Ds.Model.extend\n  user: DS.belongsTo('App.User')\n  followedUserId: DS.attr('string')\n</code></pre>\n\n<p>Hope that helps! </p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>Does anyone have any suggestions on how to manually create a self-join relationship using ember-data? </p>\n\n<p>If, for example, a user had many followers (other users), what would be the simplest way to build this data structure into ember-data?</p>\n",
            "last_activity_date": 1354729678,
            "question_id": 13727512,
            "score": 8,
            "tags": [
                "javascript",
                "ember.js",
                "ember-data"
            ],
            "title": "Self-Join with Ember-Data"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>See the <a href=\"https://github.com/phonegap/phonegap-plugins/tree/master/Android/SMSPlugin\" rel=\"nofollow\">Phonegap SMS Plugin</a> to send SMS messages.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>here is the <a href=\"https://github.com/javatechig/phonegap-sms-plugin\" rel=\"nofollow\">phonegap-sms-plugin</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>try to make somthing like this:</p>\n\n<pre><code>&lt;a href=\"smsto:000000000\"&gt; sms number&lt;/a&gt;\n</code></pre>\n\n<p>it works for me on Android device.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've been trying to play with Phonegap and created a small application in HTML/Javascript to send an SMS. I tried this code <code>window.location.href = 'sms:XXXXXXXX06?body=Testing'</code> which opens up a screen to manually send the sms which I want to automate. </p>\n\n<p>Please note that I create an android app by uploading my project source code to <a href=\"http://build.phonegap.com\">build.phonegap.com</a>, so I can not modify the <code>.apk</code> source. </p>\n\n<p>Is it possible to do it in Javascript only?</p>\n",
            "last_activity_date": 1404472986,
            "question_id": 11916704,
            "score": 8,
            "tags": [
                "javascript",
                "cordova",
                "phonegap-plugins"
            ],
            "title": "Is it possible to send SMS from phonegap HTML/Javascript application using Phone SMS API?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You right, using <code>new</code> is considered harmful as it doesn't place enough emphasis on OO in JavaScript being prototypical. The main issue is that acts too much like classical classes and one <em>should not</em> think about <code>class</code>. One should think about Object's and creating new Objects with existing objects as blueprints. </p>\n\n<p><code>new</code> is a remnant of the days where JavaScript accepted a Java like syntax for gaining \"popularity\".</p>\n\n<p>These days <em>we</em> do Prototypical OO with <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/create\" rel=\"nofollow\"><code>Object.create</code></a> and use the <a href=\"https://github.com/kriskowal/es5-shim\" rel=\"nofollow\">ES5 shim</a>.</p>\n\n<p>There is no need for <code>new</code> anymore.</p>\n\n<p>Before the days of ES5 being commonly implemented (only FF3.6 and IE8 are slacking) we used <code>new</code> because we had little choice. <code>someFunction.prototype</code> was the way to do prototypical inheritance.</p>\n\n<p>I recently wrote up a <a href=\"http://stackoverflow.com/questions/6337879/oop-programming-in-javascript-with-node-js/6339819#6339819\">\"nice\" demonstration of <code>Object.create</code></a> although I still need to iron out some kinks in the usage. The important thing is to separate Objects from factory functions.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>I don't find that <code>new</code> obscures the prototypical nature of the language for me. Granted I've now spent some years getting to know the language well (having made the mistake originally of diving in and starting writing code <em>without a clue</em> how the language actually worked, to my initial cost).</p>\n\n<p>I find <code>new</code> expressive in a way that prefixing \"new\" on function names or using a helper function, etc., isn't:</p>\n\n<pre><code>var fido      = new Dog();          // Simple, clear\nvar rover     = Dog();              // Very unclear (fortunately people mostly don't do this, but I've seen it)\nvar scruffles = newDog();           // Clearer, but hacky\nvar fifi      = Object.create(Dog); // (Crockford) Verbose, awkward, not esp. clear\n</code></pre>\n\n<p>Whether it's prototypical or class-based (and most of that doesn't relate to the <code>new</code> keyword at all), I still think best in terms of functionality grouped together into building blocks (objects or classes or whatever) and then specific objects I can muck about without affecting those building blocks. For me, <code>new</code> as a means of clearly identifying my intent is neither classy or prototypical, it's just clear.</p>\n\n<p>For me, <code>new</code> is just as vital a part of JavaScript as prototypes themselves are, as the wonderfully dexterous functions are. The is is no conflict.</p>\n\n<p>And speaking practically, there are a <em>lot</em> more programmers out there used to using <code>new</code> to create new instances of things than not, and it's a widespread practice in the JavaScript community despite Crockford's efforts (don't misunderstand, I have a lot of respect for Crockford). If I'm staffing up a project, I don't want the retraining hassles.</p>\n\n<p>This is not to say that the way that you define hierarchies of prototypical objects in JavaScript is a thing of beauty and a joy forever. It's a royal pain, especially without the ECMAScript5 enhancements. But define a helper function to help you wire up your hierarchies (whatever you want to call them), and you're done.</p>\n\n<p>[And yes, the whole thing about constructor functions being called without <code>new</code> really is a red herring (you <em>did</em> say you didn't think it was a main point either). You almost never see it happen in the real world. Actually, some of what JavaScript does with that is quite nice (the way <code>String</code> and <code>Number</code> cast, for instance); other parts (what <code>Date</code> does <em>**shudder**</em>) are not so nice...]</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>My biggest problem with <code>new</code> is that it violates the Open/Closed principle. Because of the way that <code>new</code> manipulates the value of <code>this</code>, constructors are closed for extension, which means if you need to extend it, you must modify it, possibly breaking callers in the process.</p>\n\n<p>Some examples of how factories can be extended that <code>new</code> doesn't allow:</p>\n\n<ul>\n<li><p>Hide the details of object creation. (The rest of these are examples of why you might want to do that)</p></li>\n<li><p>Store mutable prototypes and init functions on the factory object, accessible with <code>this</code>. (With <code>new</code>, <code>this</code> always refers to the newly created object).</p></li>\n<li><p>Extend the pool of possible object types by allowing you to add capabilities to the factory object (extensible polymorphism).</p></li>\n<li><p>Redefine the meaning of <code>this</code> during instantiation with <code>.call()</code> or <code>.apply()</code> (extending code-reuse).</p></li>\n<li><p>Return a proxy to a new object in another memory space (iframe, window, different machine).</p></li>\n<li><p>Conditionally return a reference to an existing object (Actually, you can do that with <code>new</code> and constructors, but then <code>this</code> is meaningless and misleading inside the constructor because a new instance gets allocated and then thrown away if you return something other than a new object).</p></li>\n<li><p>Enable changes to instantiation strategy without breaking callers.</p></li>\n</ul>\n\n<p><em>Note: I'm constantly irritated that I can't easily use any of these strategies with <code>Backbone.js</code> because it forces you to use <code>new</code>, unless you wrap it, but then you close off its standard inheritance mechanism. By way of contrast, I have never found myself irritated that jQuery uses a factory function to instantiate jQuery-wrapped DOM collections.</em></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Reading through the following <a href=\"http://stackoverflow.com/questions/383402/is-javascript-s-new-keyword-considered-harmful\">question</a>, I feel the majority of the answers miss the point of why some people (Crockford) choose not to use the \"new\" keyword.  It's not to prevent accidental calling of a function without the \"new\" keyword. </p>\n\n<p>According to the following <a href=\"http://javascript.crockford.com/prototypal.html\" rel=\"nofollow\">article</a> by Crockford regarding prototypal inheritance, he implements an object creation technique that more clearly demonstrates the prototypal nature of JS.  This technique is now even implemented in <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/create\" rel=\"nofollow\">JS 1.8.5</a>.</p>\n\n<p>His argument against using new can be more clearly summed up as:</p>\n\n<p><em>\"This indirection was intended to make the language seem more familiar to classically trained programmers, but failed to do that, as we can see from the very low opinion Java programmers have of JavaScript. JavaScript's constructor pattern did not appeal to the classical crowd. It also obscured JavaScript's true prototypal nature. As a result, there are very few programmers who know how to use the language effectively.\"</em></p>\n\n<p>I don't necessarily consider \"new\" harmful, but I do agree that it does \"obscure JavaScript's true prototypal nature,\" and therefore I do have to agree with Crockford on this point.</p>\n\n<p>What is your opinion of using a \"clearer\" prototypal object creation technique, over using the \"new\" keyword?</p>\n",
            "last_activity_date": 1366467881,
            "question_id": 6374809,
            "score": 8,
            "tags": [
                "javascript"
            ],
            "title": "Is JavaScript &#39;s \u201cnew\u201d Keyword Considered Harmful (Part 2)?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Remove the Html.EnableClientValidation(); and goto your web config, and make sure you have an appSetting that looks like the below:</p>\n\n<pre><code>&lt;add key=\"ClientValidationEnabled\" value=\"true\"/&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In ASP.NET MVC 3 the jquery validation plugin is the default for performing client-side validation. So you could remove all <code>Microsoft*.js</code> scripts from your project. You only need the following:</p>\n\n<pre><code>&lt;script src=\"@Url.Content(\"~/Scripts/jquery-1.4.4.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.unobtrusive.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>and remove the <code>Html.EnableClientValidation();</code> call. Client validation is enabled in web.config:</p>\n\n<pre><code>&lt;appSettings&gt;\n    &lt;add key=\"ClientValidationEnabled\" value=\"true\" /&gt;\n    &lt;add key=\"UnobtrusiveJavaScriptEnabled\" value=\"true\" /&gt;\n&lt;/appSettings&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>Try adding the following lines to your view.</p>\n\n<pre><code>HtmlHelper.ClientValidationEnabled = true;\nHtmlHelper.UnobtrusiveJavaScriptEnabled = true;\n</code></pre>\n\n<p>Along with including jquery-1.4.4.js, jquery.validate.js, jquery.validate.unobtrusive.js</p>\n\n<p>I get it to work for my app but it seems not to kick in until I put in a bad value. For example </p>\n\n<pre><code>[Required(ErrorMessageResourceType = typeof(Resources.WValidation), ErrorMessageResourceName = \"TestCountRequired\")]\n        [Range(1, Int32.MaxValue, ErrorMessageResourceType = typeof(Resources.WValidation), ErrorMessageResourceName = \"TestCountRange\")]\n        public int? TestCountThreshold { get; set; }\n</code></pre>\n\n<p>then i put in a 0 on the front-end and after that client side validation works flawlessly. I would like for validation to work for initial blank text boxes... It seems incorrect for the validation to wait until there is an attempted bad value.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm using MVC3 with Razor.<br>\nI've included the following in my _Layout.cshtml:  </p>\n\n\n\n<pre><code>&lt;script src=\"@Url.Content(\"~/Scripts/jquery.validate.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/MicrosoftMvcAjax.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/MicrosoftMvcValidation.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"@Url.Content(\"~/Scripts/MicrosoftAjax.js\")\" type=\"text/javascript\"&gt;&lt;/script&gt;  \n</code></pre>\n\n<p>My form looks like:  </p>\n\n<pre><code>  @{\n       ViewBag.Title = \"Register\"; \n       Html.EnableClientValidation();\n   }  \n   @using (Html.BeginForm(\"Register\"))\n   {\n      &lt;fieldset&gt;\n        &lt;p&gt;\n            @Html.LabelFor(o =&gt; o.Email)\n            @Html.TextBoxFor(o =&gt; o.Email)\n            @Html.ValidationMessageFor(o =&gt; o.Email)\n        &lt;/p&gt;\n  ...\n &lt;/fieldset&gt;\n}\n</code></pre>\n\n<p>My ViewModel has DataAnnotations (and implements IValidatableObject), and it validates during controller action. However I cannot seem to be able to use JS validation on the clientside without posting the form.</p>\n\n<p>What am I missing?</p>\n",
            "last_activity_date": 1298069389,
            "question_id": 4706174,
            "score": 8,
            "tags": [
                "javascript",
                "validation",
                "asp.net-mvc-3",
                "razor"
            ],
            "title": "MVC3 Client side validation not working"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>If <code>.hiddenContent</code> is a div you won't be able to use blur, that only works on text inputs. <code>mouseout</code> may be an alternative, and <code>$(this)</code> is what I think you are looking for in this case:</p>\n\n<pre><code>$('.hiddenContent').mouseout(function() {\n    $(this).hide();\n});\n</code></pre>\n\n<h3>Hide on clicking elsewhere</h3>\n\n<p>If you want to hide the div when you click outside the element you must watch for clicks all over the body of the page:</p>\n\n<pre><code>$('body').click(function() {\n    // Hide all hidden content\n    $('.hiddenContent').hide();\n});\n</code></pre>\n\n<p>And then provide and exception for when you are clicking on the actually hidden content itself, and when you want to open it:</p>\n\n<pre><code>$('.hiddenContent').click(function(e) { e.stopPropagation() });\n\n$('.openHide').click(function(e) {\n    $(this).next('.hiddenContent').toggle();\n    // this stops the event from then being caught by the body click binding\n    e.stopPropagation();\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<ol>\n<li>On the click on the span the div should be toggled</li>\n<li>On the body click the div should be hidden</li>\n<li>On the click on the div, the event should not be propagated to the body</li>\n<li><p>On the click on the span the event should not be propagated to the body</p>\n\n<pre><code>$(document).ready(function() {    \n   $('.openHide').click(function(e) {\n        $('.hiddenContent').toggle();\n        e.stopPropagation();\n   });\n\n   $(document.body).click(function() {\n        $('.hiddenContent').hide();\n   });\n\n   $('.hiddenContent').click(function(e) {\n        e.stopPropagation();\n   });\n});\n</code></pre></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 22
                }
            ],
            "body": "<p>I have a jQuery function where when an element is clicked a hidden div shows. </p>\n\n<pre><code>$('.openHide').click(function(){\n    $(this).next('.hiddenContent').toggle();\n});\n</code></pre>\n\n<p>I need to modify it s that I could close this div if I click back not just on the first element. Possibly on Blur, but I am not sure how to indicate the element...</p>\n\n<pre><code>$('.hiddenContent').blur(function() {\n    $('.hiddenContent').parent().children('.hiddenContent').hide();\n});\n</code></pre>\n\n<p>Here's my HTML:</p>\n\n<pre><code>&lt;span class=\"openHide\"&gt;text here&lt;/span&gt;\n&lt;div style=\"display:none\" class=\"hiddenContent\"&gt;\n     hidden content here\n&lt;/div&gt;\n</code></pre>\n",
            "last_activity_date": 1367389620,
            "question_id": 4629774,
            "score": 8,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "Hide div on blur"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt; \n    //This redirects iPhone users to the iPhone-friendly site\n    if ((navigator.userAgent.indexOf('iPhone') != -1) ||\n    (navigator.userAgent.indexOf('iPod') != -1)) {\n        document.location = \"http://i.yoursite.com\";\n    }\n</code></pre>\n\n<p></p>\n\n<p>This script checks for iPhone or iPod in the userAgent and then executes an action.  Give this a try.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>searching on the net there are two common ways of achieving this.\nMy favorite though is in PHP its just so clean? wow. :D</p>\n\n<p><strong>In PHP you can write</strong></p>\n\n<pre><code>&lt;?php\n\nfunction isIphone($user_agent=NULL) {\n    if(!isset($user_agent)) {\n        $user_agent = isset($_SERVER['HTTP_USER_AGENT']) ? $_SERVER['HTTP_USER_AGENT'] : '';\n    }\n    return (strpos($user_agent, 'iPhone') !== FALSE);\n}\n\nif(isIphone()) {\n    header('Location: http://www.yourwebsite.com/phone');\n    exit();\n}\n\n// ...THE REST OF YOUR CODE HERE\n\n?&gt;\n</code></pre>\n\n<p><strong>and in javascript you can write</strong></p>\n\n<pre><code>var agent = navigator.userAgent;\nvar isIphone = ((agent.indexOf('iPhone') != -1) || (agent.indexOf('iPod') != -1)) ;\nif (isIphone) {\n    window.location.href = 'http://www.yourwebsite.com/phone';\n}\n</code></pre>\n\n<p>Hope that helps.</p>\n\n<p><strong>PK</strong></p>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>Although I like the answers here, I think its better to use the following ...</p>\n\n<p><a href=\"http://www.htaccesstools.com/articles/detect-and-redirect-iphone/\" rel=\"nofollow\">http://www.htaccesstools.com/articles/detect-and-redirect-iphone/</a></p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_USER_AGENT} iPhone\nRewriteRule .* http://iphone.example.com/ [R]\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>RewriteEngine on\nRewriteCond %{HTTP_USER_AGENT} iPhone\nRewriteCond %{REQUEST_URI} !^/my-iPhone-site/\nRewriteRule .* /my-iPhone-site/ [R]\n</code></pre>\n\n<p>This is a .htaccess alternative, which means leaves you more room to deal with php :) hope it helps </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The conventional wisdom is that iOS devices have a user agent for Safari and a user agent for the UIWebView. This assumption is incorrect as iOS apps can and do customize their user agent. The main offender here is Facebook.</p>\n\n<p>Compare these user agent strings from iOS devices:</p>\n\n<pre><code># iOS Safari\niPad: Mozilla/5.0 (iPad; CPU OS 5_1 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Version/5.1 Mobile/9B176 Safari/7534.48.3\niPhone: Mozilla/5.0 (iPhone; CPU iPhone OS 5_0 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Version/5.1 Mobile/9A334 Safari/7534.48.3\n\n# UIWebView\niPad: Mozilla/5.0 (iPad; CPU OS 5_1 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Mobile/98176\niPhone: Mozilla/5.0 (iPhone; U; CPU iPhone OS 4_1 like Mac OS X; en-us) AppleWebKit/532.9 (KHTML, like Gecko) Mobile/8B117\n\n# Facebook UIWebView\niPad: Mozilla/5.0 (iPad; U; CPU iPhone OS 5_1_1 like Mac OS X; en_US) AppleWebKit (KHTML, like Gecko) Mobile [FBAN/FBForIPhone;FBAV/4.1.1;FBBV/4110.0;FBDV/iPad2,1;FBMD/iPad;FBSN/iPhone OS;FBSV/5.1.1;FBSS/1; FBCR/;FBID/tablet;FBLC/en_US;FBSF/1.0]\niPhone: Mozilla/5.0 (iPhone; U; CPU iPhone OS 5_1_1 like Mac OS X; ru_RU) AppleWebKit (KHTML, like Gecko) Mobile [FBAN/FBForIPhone;FBAV/4.1;FBBV/4100.0;FBDV/iPhone3,1;FBMD/iPhone;FBSN/iPhone OS;FBSV/5.1.1;FBSS/2; tablet;FBLC/en_US]\n</code></pre>\n\n<p>Note that on the iPad, the Facebook UIWebView's user agent string includes 'iPhone'.</p>\n\n<p><strong>The old way to identify iPhone in JavaScript:</strong></p>\n\n<pre><code>IS_IPHONE = navigator.userAgent.match(/iPhone/i) != null) || (navigator.userAgent.match(/iPod/i) != null);\n</code></pre>\n\n<p>If you were to go with this approach for detecting iPhone, you would end up with IS_IPHONE being true if a user comes from Facebook on an iPad. That could create some odd behavior!</p>\n\n<p><strong>The correct way to identify iPhone in JavaScript:</strong></p>\n\n<pre><code>IS_IPAD = navigator.userAgent.match(/iPad/i) != null;\nIS_IPHONE = (navigator.userAgent.match(/iPhone/i) != null) || (navigator.userAgent.match(/iPod/i) != null);\nif (IS_IPAD) {\n  IS_IPHONE = false;\n}\n</code></pre>\n\n<p>We declare IS_IPHONE to be false on iPads to cover for the bizarre Facebook UIWebView iPad user agent. This is one example of how user agent sniffing is unreliable. The more iOS apps that customize their user agent, the more issues user agent sniffing will have. If you can avoid user agent sniffing (hint: CSS Media Queries), DO IT.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Late, indirect answer to this question, but I found it useful.</p>\n\n<p>Instead of redirecting mobile users, consider using responsive CSS design to deliver desktop and mobile users the same content with two different styles.  This helps avoid splitting and duplicating code.  You can code responsive CSS from scratch, or use prepackaged frameworks like Twitter Bootstrap.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>is there a script to detect, if the visitor use iphone (whatever it's browser, may iphone Safari, iPhone for Opera or etc.)?</p>\n\n<p>Then will shutdown some some of my JavaScript.</p>\n\n<p>Thanks...</p>\n",
            "last_activity_date": 1372119022,
            "question_id": 3827466,
            "score": 8,
            "tags": [
                "php",
                "javascript",
                "iphone",
                "html",
                "mobile-safari"
            ],
            "title": "Detect iPhone Browser"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Facebook's like buttons use metadata that are embedded in the HTML markup of a single page. It would work in theory if your URL's produce different metadata when accessed by curl (i.e. without JavaScript, which I believe is not possible since the hash portion is not seen server-side, so there is no way to act on hash string values server side).</p>\n\n<p>So having said that, I would assume that Facebook Like buttons don't behave differently for different hash strings. A look at the facebook documentation (which mostly sucks) doesnt mention this, but the facebook developer forums seem to confirm this: <a href=\"http://forum.developers.facebook.com/viewtopic.php?pid=240151\">http://forum.developers.facebook.com/viewtopic.php?pid=240151</a></p>\n\n<p>However, all is not lost. You can specify the URL of a like button, so just set the URL to be the SEO-friendly URL of the same page: <a href=\"http://developers.facebook.com/docs/reference/plugins/like\">http://developers.facebook.com/docs/reference/plugins/like</a></p>\n\n<h1>UPDATE - Clarifying from the comments</h1>\n\n<p>So, now that we know you have static versions of the hash string URLS. Before, you were most likely placing like buttons on the page with this code:</p>\n\n<p><strong>XFBML:</strong></p>\n\n<pre><code>&lt;fb:like show_faces=\"false\" width=\"450\"&gt;&lt;/fb:like&gt;\n</code></pre>\n\n<p>Instead, you should be specifying the SEO version of the URL. For example, when you're on <strong>mysite.com/articles#story4</strong>, the code should look like:</p>\n\n<p><strong>XFBML:</strong></p>\n\n<pre><code>&lt;fb:like href=\"mysite.com/articles/story/4\" show_faces=\"false\" width=\"450\"&gt;&lt;/fb:like&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Facebook will drop everything following the hash tag.\nWhat you need to do is send your request escaping # symbol encoding it in %23</p>\n\n<pre><code>&lt;iframe src=\"http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fmysite.com%2Farticles%2F%23story1\" scrolling=\"no\" frameborder=\"0\" allowTransparency=\"true\" style=\"border:none; overflow:hidden; width:450px; height:px\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Facebook mostly* supports <a href=\"https://developers.google.com/webmasters/ajax-crawling/docs/specification\" rel=\"nofollow\">Google's ajax-crawling spec</a>, so that if the fragment starts with an exclamation mark, then Facebook will do the following conversion for the request, so that the server can get the fragment and serve the expected content.</p>\n\n<blockquote>\n  <p><a href=\"https://myapp.com/#!/post/2\" rel=\"nofollow\">https://myapp.com/#!/post/2</a>   =>   <a href=\"https://myapp.com/?_escaped_fragment_=/post/2\" rel=\"nofollow\">https://myapp.com/?_escaped_fragment_=/post/2</a></p>\n</blockquote>\n\n<p>(According to Google's spec the user should never see the ugly url, so i assume that Facebook will always store these urls in the \"exclamation mark\" format.)</p>\n\n<p>Serving the proper content for these requests is often non-trivial. See more <a href=\"https://developers.google.com/webmasters/ajax-crawling/docs/html-snapshot\" rel=\"nofollow\">here</a>.</p>\n\n<p>*The meta tag trigger does not work. I tested it on 2012/08/18.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>What does Facebook make of 'Like' buttons in a ajax web app if they are referring to the same page but with a different # string?</p>\n\n<p>Does it treat them as different pages to 'like'?</p>\n\n<p>for example if i get 4 like clicks:</p>\n\n<pre><code>mysite.com/articles#story1\nmysite.com/articles#story2\nmysite.com/articles#story3\nmysite.com/articles#story4\n</code></pre>\n\n<hr>\n\n<p>what will come up in the users' newsfeed</p>\n\n<pre><code>4 people like mysite.com/articles\n</code></pre>\n\n<p>or</p>\n\n<pre><code>dave likes mysite.com/articles#story1\ntom likes mysite.com/articles#story2\nben likes mysite.com/articles#story3\nnick likes mysite.com/articles#story4\n</code></pre>\n\n<hr>\n\n<p>are there any other things to think about with FB and # strings?</p>\n",
            "last_activity_date": 1345307044,
            "question_id": 3467296,
            "score": 8,
            "tags": [
                "javascript",
                "ajax",
                "facebook"
            ],
            "title": "Facebook &#39;Like&#39; buttons and # URL strings?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>I think there's no way to do that, unless you pass the value of the JavaScript var on the URL, but it's a ugly workaround.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Java script plays on browser where java code is server side thing so you can't simply do this.</p>\n\n<p>What you can do is submit the calculated variable from javascript to server by form-submission, or using URL parameter or using AJAX calls and then you can make it available on server</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"hiddenField\"/&gt;\n</code></pre>\n\n<p>make sure this fields lays under <code>&lt;form&gt;</code> </p>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>document.getElementById(\"hiddenField\").value=yourCalculatedVariable;\n</code></pre>\n\n<p>on server you would get this as a part of <code>request</code></p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>You need to read something about a JSP's lifecycle. Try this: <a href=\"http://en.wikipedia.org/wiki/File:JSPLife.png\" rel=\"nofollow\">http://en.wikipedia.org/wiki/File:JSPLife.png</a></p>\n\n<p>JavaScript runs on the client, but in order to change the jsp, you need access to the server. This can be done through Ajax(http://en.wikipedia.org/wiki/Ajax_%28programming%29).</p>\n\n<p>Here are some Ajax-related links: <a href=\"http://www.openjs.com/articles/ajax_xmlhttp_using_post.php\" rel=\"nofollow\">http://www.openjs.com/articles/ajax_xmlhttp_using_post.php</a></p>\n\n<p><a href=\"http://www.w3schools.com/ajax/tryit.asp?filename=tryajax_first\" rel=\"nofollow\">http://www.w3schools.com/ajax/tryit.asp?filename=tryajax_first</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>you cant do it.. because jsp is compiled and converted into html server side whereas javascript is executed on client side.\nyou may set the value to a hidden html element and send to servlet in request just in case you want to use for further</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As JavaScript is client side and JSP is Server side.</p>\n\n<p>So Javascript does not execute until it gets to the browser,\nBut Java executes on the server.\nSo, Java does not know the value of the JavaScript variable.</p>\n\n<p>However you assign value of Java variable to JavaScript variable.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The answer is You can't. Java (in your case JSP) is a server-side scripting language, which means that it is compiled and executed before all javascript code. You can assign javascript variables to JSP variables but not the other way around. If possible, you can have the variable appear in a QueryString or pass it via a form (through a hidden field), post it and extract the variable through JSP that way. But this would require resubmitting the page.</p>\n\n<p>Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>JavaScript is fired on client side. and Jsp is serverside So I can say that its impossible.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Ello there,</p>\n\n<p>I'm trying to assign the value of a javascript variable to a java variable. But I don't have clue how to do this? Say for example I have this:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n   &lt;script type=\"text/javascript\"&gt;\n       function return variable(){\n          var a = \"hello\";\n          return a;\n       }\n   &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;%\n   //The java code\n   String b = //how do I get that javascript variable here?\n%&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1391501377,
            "question_id": 8268356,
            "score": 7,
            "tags": [
                "java",
                "javascript",
                "jsp",
                "variables"
            ],
            "title": "Assign JavaScript variable to Java Variable in JSP"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Don't forget about</p>\n\n<ul>\n<li>Screen Size</li>\n<li>Allowed Cookies</li>\n<li>Allowed Java</li>\n<li>Mobile or Desktop</li>\n<li>Language</li>\n</ul>\n\n<p>And here is useful link with data-mining demo:  </p>\n\n<p><a href=\"http://javascriptsource.com/user-details/browser-properties.html\">http://javascriptsource.com/user-details/browser-properties.html</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I'm trying to compile a list of information that is accessible via javascript such as:</p>\n\n<ul>\n<li>Geo-location</li>\n<li>IP address</li>\n<li>Browser software</li>\n<li>Exit location</li>\n<li>Entrance location</li>\n</ul>\n\n<p>I understand that a user can alter any of this information and that it's reliability is purely trust related, but I am still interested in what other information can be mined from the client.</p>\n\n<p>Your help is appreciated.</p>\n",
            "last_activity_date": 1321608872,
            "question_id": 8180296,
            "score": 7,
            "tags": [
                "javascript",
                "data-mining",
                "data-retrieval"
            ],
            "title": "What information can we access from the client?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>The Google probably allows this API only called through its own Javascript API which you load from maps.google.com served Javascript file. The lack of Access-Control-Allow-Origin header tells that you should not use the API otherwise through Javascript.</p>\n\n<p>Alternatively you can simply write a server-side proxy function which calls Google API and passes the result forward to your own $.getJSON call, but this would be probably against the Terms of Service. </p>\n\n<p><a href=\"http://www.daniweb.com/web-development/php/code/216729\" rel=\"nofollow\">http://www.daniweb.com/web-development/php/code/216729</a></p>\n\n<p>(disclaimer: I have not read the API spec for this particular function call)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To make cross-domain AJAX calls like this, you should use JSONP with a callback.  However, <a href=\"https://groups.google.com/group/google-maps-api-web-services/browse_thread/thread/f20475e777479d2e?pli=1\" rel=\"nofollow\">Google doesn't provide a JSONP interface for Autocomplete</a>.</p>\n\n<p>You might be able to use <a href=\"http://code.google.com/apis/maps/documentation/javascript/reference.html#Autocomplete\" rel=\"nofollow\">this Autocomplete class</a> instead, though it doesn't seem possible to style the dropdown.</p>\n\n<p><strong>EDIT</strong> There may be a way to do this.  Check out the <a href=\"http://code.google.com/p/geo-autocomplete/\" rel=\"nofollow\">geo-autocomplete jQuery Plugin</a>.  It has <a href=\"http://geo-autocomplete.googlecode.com/svn/trunk/demo/index.html\" rel=\"nofollow\">two</a> <a href=\"http://geo-autocomplete.googlecode.com/svn/trunk/demo/ui.demo.html\" rel=\"nofollow\">demos</a>.  I haven't given this a proper look over yet however.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This is a cross domain request. Browsers by default block responses from cross domain sites. You need to use jsonp as the datatyoe. Just google the same and you can see how it can be done using the jquery API. Stack overflow has questions around these too.</p>\n\n<p>Under the same origin policy, a web page served from server1.example.com cannot normally connect to or communicate with a server other than server1.example.com. An exception is the HTML element. Taking advantage of the open policy for elements, some pages use them to retrieve Javascript code that operates on dynamically-generated JSON-formatted data from other origins. This usage pattern is known as JSONP.</p>\n\n<p>Note that Google Places is not JSONP compliant so I used the Google Places JavaScript API instead.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can bypass this issue by using PHP.</p>\n\n<p>In your PHP script use file_get_contents to query the URL like this:</p>\n\n<p>$suggestions = json_decode(file_get_contents('https://maps.googleapis.com/maps/api/place/autocomplete/json?input=blabla&amp;sensor=false&amp;types=establishment&amp;radius=10000')</p>\n\n<p>You can then just use an AJAX request to your PHP script which will return the results effectively bypassing the cross domain constraint.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There are two ways to access the Google Maps Autocomplete API.</p>\n\n<p>The first is via the <a href=\"http://code.google.com/apis/maps/documentation/javascript/reference.html#Autocomplete\" rel=\"nofollow\"><code>google.maps.places.Autocomplete</code></a> class. This provides all the necessary implementation in Javascript. However, you have complete control over styling. Use the <code>pac-container</code> and <code>pac-item</code> CSS classes.</p>\n\n<p>The second is via the <a href=\"http://code.google.com/apis/maps/documentation/places/autocomplete.html\" rel=\"nofollow\">Autocomplete Web Service</a>. This is not accessible via the browser because of <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\" rel=\"nofollow\">same origin policy</a> (there is no JSONP API). This is the most flexible way to access Autocomplete results.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can intercept the <a href=\"http://remysharp.com/2007/10/08/what-is-jsonp/\" rel=\"nofollow\" title=\"JSONP\">JSONP</a> results that are returned by the <a href=\"https://developers.google.com/maps/documentation/javascript/reference#Autocomplete\" rel=\"nofollow\" title=\"google.maps.places.Autocomplete\">google.maps.places.Autocomplete</a> functionality and use them as you see fit. </p>\n\n<p>Basically you redefine the appendChild method on the head element, and then monitor the javascript elements that the Google autocomplete code inserts into the DOM for JSONP. As javascript elements are added, you override the JSONP callbacks that Google defines in order to get access to the raw autocomplete data.</p>\n\n<p>It's a bit of a hack, here goes (I'm using jQuery but it's not necessary for this hack to work):</p>\n\n<pre><code>//The head element, where the Google Autocomplete code will insert a tag \n//for a javascript file.\nvar head = $('head')[0];  \n//The name of the method the Autocomplete code uses to insert the tag.\nvar method = 'appendChild';  \n//The method we will be overriding.\nvar originalMethod = head[method];\n\nhead[method] = function () {\n  if (arguments[0] &amp;&amp; arguments[0].src &amp;&amp; arguments[0].src.match(/GetPredictions/)) {  //Check that the element is a javascript tag being inserted by Google.\n    var callbackMatchObject = (/callback=([^&amp;]+)&amp;|$/).exec(arguments[0].src);  //Regex to extract the name of the callback method that the JSONP will call.\n    var searchTermMatchObject = (/\\?1s([^&amp;]+)&amp;/).exec(arguments[0].src);  //Regex to extract the search term that was entered by the user.\n    var searchTerm = unescape(searchTermMatchObject[1]);\n    if (callbackMatchObject &amp;&amp; searchTermMatchObject) {\n      var names = callbackMatchObject[1].split('.');  //The JSONP callback method is in the form \"abc.def\" and each time has a different random name.\n      var originalCallback = names[0] &amp;&amp; names[1] &amp;&amp; window[names[0]] &amp;&amp; window[names[0]][names[1]];  //Store the original callback method.\n      if (originalCallback) {\n        var newCallback = function () {  //Define your own JSONP callback\n          if (arguments[0] &amp;&amp; arguments[0][3]) {\n            var data = arguments[0][4];  //Your autocomplete results\n            //SUCCESS! - Limit results here and do something with them, such as displaying them in an autocomplete dropdown.\n          }\n        }\n\n        //Add copy all the attributes of the old callback function to the new callback function. This prevents the autocomplete functionality from throwing an error.\n        for (name in originalCallback) {  \n          newCallback[name] = originalCallback[name];\n        }\n        window[names[0]][names[1]] = newCallback;  //Override the JSONP callback\n      }\n    }\n\n  //Insert the element into the dom, regardless of whether it was being inserted by Google.\n  return originalMethod.apply(this, arguments);\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use the Places Library from the Google Maps Javascript API:\n<a href=\"https://developers.google.com/maps/documentation/javascript/places#places_autocomplete\" rel=\"nofollow\">Javascript Places Autocomplete</a></p>\n\n<p>The Places API is different from the Maps API.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is a code snippet for future readers who come across this scenario.</p>\n\n<p>Using the \"Places API\" rather than the \"Maps API\", this code snippet fills in my form elements (including the input that is used to autocomplete) with returned data from Google.</p>\n\n<pre><code>/* Use google place API to auto complete the address field and populate form inputs */\nfunction addressAutoComplete(){\n    var planAddress = document.getElementById('mps_planaddress'),\n        planCity = document.getElementById('mps_plancity'),\n        planCounty = document.getElementById('mps_plancounty'),\n        planZip = document.getElementById('mps_planzip'),\n        planSub = document.getElementById('mps_plansubdivision'),\n        options = {\n            componentRestrictions: {country: 'us'}\n    };\n    autocomplete = new google.maps.places.Autocomplete(planAddress, options);\n    // After the user selects the address\n    google.maps.event.addListener(autocomplete, 'place_changed', function() {\n        planSub.focus();\n        var place = autocomplete.getPlace();\n        planAddress.value = place.name;\n        planCity.value = place.address_components[2].long_name;\n        planCounty.value = place.address_components[3].long_name;\n        planZip.value = place.address_components[6].long_name;\n    });\n}\n</code></pre>\n\n<p>Put a listener on the autocomplete for \"place_changed\" (they chose something from the list) and then fill in the inputs with the data returned. </p>\n\n<p>All of this is listed on the <a href=\"https://developers.google.com/maps/documentation/javascript/places#places_autocomplete\" rel=\"nofollow\">Place Library Google page</a>. </p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm trying to use the Google Places autocomplete API to pre-fill a form on a web application with Establishment data to ease data-entry. The API is pretty straightforward, but it doesn't seem to want to accept the XHR.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$.getJSON(\"https://maps.googleapis.com/maps/api/place/autocomplete/json\",{\n  input: input.term,\n  sensor: false,\n  types: 'establishment',\n  location: '40.01496,-105.27029',\n  radius: 10000,\n  key: Config.googleplaceskey\n},function(places_response){\n    //Some other code.\n});\n</code></pre>\n\n<p>I get this in the console:</p>\n\n<p><code>XMLHttpRequest cannot load <a href=\"https://maps.googleapis.com/maps/api/place/autocomplete/json?input=At&amp;sensor=false&amp;types=establishment&amp;location=40.01496%2C-105.27029&amp;radius=10000&amp;key=AIzaSyDKzUgcLklQE\">https://maps.googleapis.com/maps/api/place/autocomplete/json?input=At&amp;sensor=false&amp;types=establishment&amp;location=40.01496%2C-105.27029&amp;radius=10000&amp;key=AIzaSyDKzUgcLklQE</a>_U5494vHq_SzrFakNHugaQ. Origin <a href=\"http://localhost:8086\">http://localhost:8086</a> is not allowed by Access-Control-Allow-Origin.</code></p>\n\n<p>Is this somehow not what the API is meant for? Anyone know a workaround, or some kind of extra parameter(s) I could send to make it work?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Here's the link to the API documentation for this call. The parent docs actually even have JavaScript JSON-parsing examples. Really confusing why this would be shut down on the server side.</p>\n\n<p><a href=\"http://code.google.com/apis/maps/documentation/places/autocomplete.html\">http://code.google.com/apis/maps/documentation/places/autocomplete.html</a></p>\n",
            "last_activity_date": 1391030229,
            "question_id": 6803521,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "json",
                "google-api",
                "xmlhttprequest"
            ],
            "title": "Can Google Maps/Places &#39;autocomplete&#39; API be used via AJAX?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Check out this jquery plugin if you are using jquery\n<a href=\"http://github.com/valums/file-uploader\" rel=\"nofollow\">http://github.com/valums/file-uploader</a></p>\n\n<p>Hope it helps.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try using the <a href=\"http://www.w3.org/TR/FileAPI/#dfn-slice\" rel=\"nofollow\"><code>Blob.slice</code></a> method to split the <code>Blob</code> up into multiple chunks, and send each one as a separate request.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>Today, with chrome 31 (windows), xhr.send(file) will <strong>not</strong> read the whole file into memory. The fact is, I try  to xhr.send 100mb file and look at task manager for chrome memory usage - it grows only slightly during 100mb file upload.</p>\n\n<p>As a side note, <code>xhr.send(file)</code> fits better for PUT upload, for POST more appropriate would be FormData:</p>\n\n<pre><code>  var formData = new FormData();\n  formData.append(\"thefile\", file);\n  xhr.send(formData);\n</code></pre>\n\n<p>Using FormData however, increases upload time by some 50% - probably because of the base64 encoding.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I am trying to upload big files with drag and drop. I have this piece of Javascript code:</p>\n\n<pre><code>xhr = new XMLHttpRequest();\nxhr.open('POST', url, true);\nxhr.setRequestHeader('X-File-Name', file.name);\nxhr.setRequestHeader('X-File-Size', file.size);\nxhr.setRequestHeader('Content-Type', file.type);\nxhr.send(file);\n</code></pre>\n\n<p>where <code>url</code> is a string of the target url and <code>file</code> is a <code>Blob</code> (according to <a href=\"http://www.w3.org/TR/XMLHttpRequest2/#the-send-method\">http://www.w3.org/TR/XMLHttpRequest2/#the-send-method</a>) which I have retrieved after a file drag-drop. This code works in Chrome 12, Safari 5 and Firefox 4 and sends the raw contents of the file in the body of the HTTP request.</p>\n\n<p>However, if the file is big enough the request is never sent. Instead, the <code>XMLHttpRequest</code> object fires and error event (without any useful message). This limit is 86Mb in my environment, but it varies from machine to machine. </p>\n\n<p>The javascript console of Chrome shows the message:</p>\n\n<pre><code>POST http://localhost/xfiles/xfiles.php undefined (undefined)\n</code></pre>\n\n<p>which has nothing to do with my code (which works perfectly with smaller files). </p>\n\n<p>It seems that the browser reads the entire file in memory and before sending it. Probably there is an out of memory exception or something like that that stops the process. In any case, there no HTTP request is sent, so it is certain that the server's limits have nothing to do with this problem.</p>\n\n<p>Anyway, <strong>reading the entire file is a waste of resources</strong>.</p>\n\n<p>Is there any method to send the file in a streaming fashion, byte by byte, without having to store it in the memory first?</p>\n",
            "last_activity_date": 1386590019,
            "question_id": 6454365,
            "score": 7,
            "tags": [
                "javascript",
                "upload",
                "streaming",
                "xmlhttprequest"
            ],
            "title": "Send a file with XmlHttpRequest: Streaming?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Yes, you should use addClass and removeClass to change the styling. In your css, define a couple of different classes and switch between them.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try using multiple styles </p>\n\n<pre><code>.FooSmall\n{\n  width:20px;\n}\n.FooBig\n{\n  width:40px;\n}\n\n$('#theTarget').removeClass('FooSmall').addClass('FooBig');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You should be selecting an element with jQuery. You're aware that you aren't selecting the CSS class itself, correct?</p>\n\n<p>Once you have an element with class=\"Foo\", you can select it as you have, and either set css properties manually like you're trying to do, or you can use add class like so:</p>\n\n<p>\n    $(\".Foo\").addClass('Foo');</p>\n\n<p>Granted of course, since you're selecting the same class that you're adding, it doesn't really make sense.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><a href=\"http://api.jquery.com/css/\"><code>jQuery.css</code></a> will find all <em>existing</em> elements on the page that have the <code>Foo</code> class, and then set their <em>inline</em> style <code>width</code> to <code>40px</code>.</p>\n\n<p>In other words, this doesn't create or change a css rule -- if you dynamically add an element with the <code>Foo</code> class, it would still have a width of <code>20px</code>, because its inline style hasn't been set to override the default CSS rule.</p>\n\n<p>Instead, you should use <a href=\"http://api.jquery.com/addClass/\"><code>addClass</code></a> and <a href=\"http://api.jquery.com/removeClass/\"><code>removeClass</code></a> and control the styles in your static CSS.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>You <em>can</em> change a CSS style rule.  You need to look at:</p>\n\n<p><code>document.styleSheets</code> collection<br>\n<code>styleSheet.cssRules</code> property (or <code>styleSheet.rules</code> for IE7 and IE8)<br>\n<code>rule.selectorText</code> property<br>\n<code>rule.style</code> property</p>\n\n<p>For example:</p>\n\n<pre><code>var ss = document.styleSheets[0];\nvar rules = ss.cssRules || ss.rules;\nvar fooRule = null;\nfor (var i = 0; i &lt; rules.length; i++)\n{\n    var rule = rules[i];\n    if (/(^|,) *\\.Foo *(,|$)/.test(rule.selectorText))\n    {\n        fooRule = rule;\n        break;\n    }\n}\nfooRule.style.width = \"40px\";\n</code></pre>\n\n<p>Working demo: <a href=\"http://jsfiddle.net/kdp5V/\">jsfiddle.net/kdp5V</a></p>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p>I got thsi example in CSS api help in JQuery API.</p>\n\n<p>this worked for me : <a href=\"http://jsfiddle.net/LHwL2/\" rel=\"nofollow\">http://jsfiddle.net/LHwL2/</a></p>\n\n<p>for complete help read the css api at <a href=\"http://api.jquery.com/css/\" rel=\"nofollow\">http://api.jquery.com/css/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>you could add the styling manually to the header with jquery:</p>\n\n<pre><code>  $('header').append('&lt;style id=\"addedCSS\" type=\"text/css\"&gt;.Foo {width:40px;}&lt;/style&gt;');\n</code></pre>\n\n<p>then change it on an event like e.g. so:</p>\n\n<pre><code>  $(window).resize(function(){\n     $('#addedCSS').text('.Foo {width:80px;}');\n  });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I have a class in CSS</p>\n\n<pre><code>.Foo\n{\n  width:20px;\n}\n</code></pre>\n\n<p>Using Jquery I would like to do something similar to this on an event:</p>\n\n<pre><code>$(\".Foo\").css(\"width\", \"40px\");\n</code></pre>\n\n<p>This doesn't work. Is this the wrong approach? Should I use addClass() and removeClass()?</p>\n\n<p>EDIT: I figured out my problem. This command does in fact work. In my particular application I hadn't created the elements using the class before I used the command, so when they were created nothing was changed. </p>\n\n<p>Basically this command doesn't change the CSS style rule, just the elements using the class.</p>\n",
            "last_activity_date": 1388092679,
            "question_id": 6115325,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "css"
            ],
            "title": "Change CSS rule in class using JQuery"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This is possible using the <a href=\"http://docs.jquery.com/Plugins/Validation/Validator/element\"><code>.element(selector)</code></a> function of <code>validator</code>. What you're going to do is iterate through each element on the active tab and call that function on the input. This will trigger validation on each element in turn, showing the validation message.</p>\n\n<pre><code>$(\".nexttab\").click(function() {\n    var valid = true;\n    var i = 0;\n    var $inputs = $(this).closest(\"div\").find(\"input\");\n\n    $inputs.each(function() {\n        if (!validator.element(this) &amp;&amp; valid) {\n            valid = false;\n        }\n    });\n\n    if (valid) {\n        $(\"#tabs\").tabs(\"select\", this.hash);\n    }\n});\n</code></pre>\n\n<p>Additionally, you'll probably want to run similar code when a user clicks a tab to go to a new set of inputs, instead of clicking \"next\". </p>\n\n<p>Here's a working example: <a href=\"http://jsfiddle.net/c2y6r/\">http://jsfiddle.net/c2y6r/</a></p>\n\n<p><strong>Update:</strong> Here's another way you could do it, canceling the <code>select</code> event upon invalid form elements:</p>\n\n<pre><code>var validator = $(\"#myForm\").validate();\nvar tabs = $(\"#tabs\").tabs({\n    select: function(event, ui) {\n        var valid = true;\n        var current = $(this).tabs(\"option\", \"selected\");\n        var panelId = $(\"#tabs ul a\").eq(current).attr(\"href\");\n\n        $(panelId).find(\"input\").each(function() {\n            console.log(valid);\n            if (!validator.element(this) &amp;&amp; valid) {\n                valid = false;\n            }\n        });\n\n        return valid;\n    }\n});\n</code></pre>\n\n<p>However, now you have to consider allowing the user to go back when they've entered invalid data into the current page. On the other hand, you get the bonus of keeping all the validation code inside of one function which gets fired if the person clicks a tab or your next link.</p>\n\n<p>Example: <a href=\"http://jsfiddle.net/c2y6r/1/\">http://jsfiddle.net/c2y6r/1/</a></p>\n\n<p><strong>Update 2</strong>, if you want to allow people to navigate backwards through the tab interface:</p>\n\n<pre><code>var tabs = $(\"#tabs\").tabs({\n    select: function(event, ui) {\n        var valid = true;\n        var current = $(this).tabs(\"option\", \"selected\");\n        var panelId = $(\"#tabs ul a\").eq(current).attr(\"href\");\n\n        if (ui.index &gt; current) {\n\n            $(panelId).find(\"input\").each(function() {\n                console.log(valid);\n                if (!validator.element(this) &amp;&amp; valid) {\n                    valid = false;\n                }\n            });\n        }\n\n        return valid;\n    }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I'm new to jQuery and I'm trying to use it and the validation plugin (http://docs.jquery.com/Plugins/Validation) to create a multi-part form with multiple tabs for different sections. Right now I have it where there are multiple tabs and the \"Next\" button switches to the next tab. </p>\n\n<p>The problem I'm having is that when I finally submit on the last page, the form validates properly but if there are errors on the other page the user isn't notified, and validation really only happens once \"submit\" is clicked. </p>\n\n<p>How would I validate each  individually when I click \"Next\"? I don't really want to create multiple forms or keep track of hidden fields :S Any suggestions?</p>\n\n<p>Thanks!</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n    //....stuff\n    //tabs\n    var tabs = $(\"#tabs\").tabs();\n    $(\".nexttab\").click(function() {\n        //var selected = $(\"#tabs\").tabs(\"option\", \"selected\");\n        //$(\"#tabs\").tabs(\"option\", \"selected\", selected + 1);\n        $(\"#tabs\").tabs(\"select\", this.hash);\n    });\n\n    //use link to submit form instead of button\n    $(\"a[id=submit]\").click( function(){\n        $(this).parents(\"form\").submit();\n    });\n\n    //form validation\n    var validator = $(\"#myForm\").validate();    \n});\n&lt;/script&gt;\n\n&lt;form class=\"cmxform\" id=\"myForm\" method=\"post\" action=\"\"&gt;\n    &lt;div id=\"tabs\"&gt;\n        &lt;ul&gt;\n            &lt;li&gt;&lt;a href=\"#general\"&gt;General&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#tab2\"&gt;&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n\n        &lt;div id=\"general\"&gt;\n             ....stuff...\n            &lt;p&gt;\n                &lt;a class=\"nexttab navbutton\" href=\"#tab2\"&gt;&lt;span&gt;Next&lt;/span&gt;&lt;/a&gt;  \n            &lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div id=\"tab2\"&gt;\n            &lt;h2&gt;Tab2&lt;/h2&gt;\n            &lt;p&gt;\n                &lt;a class=\"nexttab navbutton\" href=\"#general\"&gt;&lt;span&gt;Prev&lt;/span&gt;&lt;/a&gt;\n                &lt;a class=\"submit navbutton\" id=\"submit\" href=\"#\"&gt;&lt;span&gt;Submit&lt;/span&gt;&lt;/a&gt;\n            &lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Edit:</p>\n\n<p>@Andrew:</p>\n\n<p>I did some combination of your 2nd example and disabling tabs. Seems to work, aside from having the page refresh re-disable the tabs.</p>\n\n<pre><code>var tabs = $(\"#tabs\").tabs({\n\n    disabled: [1,2,3,4,5],\n\n    select: function(event, ui) {\n        var valid = true;\n        var current = $(this).tabs(\"option\", \"selected\");\n        var panelId = $(\"#tabs ul a\").eq(current).attr(\"href\");\n\n        if(ui.index &gt; current)\n        {\n            $(panelId).find(\"input\").each(function() {\n                //console.log(valid);\n\n                if (!validator.element(this) &amp;&amp; valid) {\n                    valid = false;\n                }\n            });\n\n        }\n\n        return valid;\n    }   \n\n});\n</code></pre>\n\n<p>In combination with:</p>\n\n<pre><code>$(\".nexttab\").click(function() {\n    var selected = $(\"#tabs\").tabs(\"option\", \"selected\");\n    $(\"#tabs\").tabs(\"enable\", selected+1);\n    $(\"#tabs\").tabs(\"option\", \"selected\", selected + 1);\n});\n</code></pre>\n",
            "last_activity_date": 1346273199,
            "question_id": 5643500,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "forms",
                "tabs",
                "jquery-validate"
            ],
            "title": "Jquery validation multiple tabs, validate one at a time?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Events are delegated to this.el when the view is initialized. So you need to:</p>\n\n<ul>\n<li>Create the view by giving the constructor the \"el\" option to specify the element</li>\n<li>Define el, tag, id, classname on your view to create or find on the page your element directly.</li>\n<li>Append your rendered view to the \"el\" element of the view</li>\n<li>Make sure you do not replace the \"el\" element after the view creation</li>\n</ul>\n\n<p>For the last item, if you have to do it, you can call delegateEvents once more to re-delegate the event on your view.</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>My approach in these scenarios is to add <code>delegateEvents()</code> in render of each view that has an event, like the following:</p>\n\n<pre><code>  $(this.el).empty();\n  $(this.el).html(this.template({}));\n  this.delegateEvents(); // this will bind all events ONCE AGAIN\n</code></pre>\n\n<p>This is perfect for views specially created dynamically i.e. views that are declared new under each click or so...</p>\n",
                    "is_accepted": false,
                    "score": 11
                }
            ],
            "body": "<p>I'm using Backbone.js and sometimes the <a href=\"http://documentcloud.github.com/backbone/#View-delegateEvents\" rel=\"nofollow\">views events</a> do not get bound correctly.</p>\n\n<p>I can check the event binding situation with <code>$(viewselector).data()</code> in jQuery. Most of the time there are events, sometimes there aren't!</p>\n\n<p>Are there any known things I should watch out for that can cause this?</p>\n",
            "last_activity_date": 1408792788,
            "question_id": 5125958,
            "score": 7,
            "tags": [
                "javascript",
                "javascript-events",
                "backbone.js"
            ],
            "title": "Backbone.js views delegateEvents do not get bound (sometimes)"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>The easiest way is to create a hidden form on your page using django that doesn't do anything. Then use JavaScript to fetch the form and specifically the token input out of the form. Lastly, insert or copy that token input into the form you are dynamically generating.</p>\n\n<p>Here are two examples of how you might publish the token for JavaScript.</p>\n\n<pre><code>&lt;input id=\"csrf_token\" value=\"{{ csrf_token }}\"/&gt;\n\n&lt;script type=\"text/javascript\"&gt;\nvar CSRF_TOKEN = document.getElementById('csrf_token').value;\n&lt;/script&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar CSRF_TOKEN = \"{{ csrf_token }}\";\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Does the view you are <code>POST</code>ing to also respond to <code>GET</code>? In that the JS code can make a <code>GET</code> request to the view in question and parse the output to extract the CSRF token. My JS-fu is weak and I am not sure how best you can do the parsing from the client side. </p>\n\n<p>For a <em>broadly</em> related example see <a href=\"http://stackoverflow.com/q/3623925/140185\">this question</a>. In this case the user was attempting to <code>POST</code> using a Python script and failing for the same reason. The solution was the same, except he had to do it from a Python script rather than JavaScript. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The best solution I've found for my particular case is to simply use the @csrf_exempt decorator, detailed here:</p>\n\n<p><a href=\"http://docs.djangoproject.com/en/dev/ref/contrib/csrf/#exceptions\" rel=\"nofollow\">http://docs.djangoproject.com/en/dev/ref/contrib/csrf/#exceptions</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>A better solution is to generate the code of the js file from a view/template.</p>\n\n<p>Then, in the view you can set the csrf token up in the context like so...</p>\n\n<pre><code>from django.core.context_processors import csrf\ncontext = RequestContext(request)\ncontext.update(csrf(request))\n</code></pre>\n\n<p>Then, in the template, you can use <code>{{ csrf_token }}</code> to get the raw value of the csrf token, and then use that to build a hidden field into your form with the name <code>csrfmiddlewaretoken</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Another option would be to adapt the cookie/header based solution shown in <a href=\"http://docs.djangoproject.com/en/dev/ref/contrib/csrf/#ajax\" title=\"Django Docs\">the Django docs</a> with Ext - preferable if you have a lot of templates and don't want to change every single one.</p>\n\n<p>Just drop the following snippet in your overrides.js (or wherever you put global modifications):</p>\n\n<pre><code>Ext.Ajax.on('beforerequest', function (conn, options) {\n   if (!(/^http:.*/.test(options.url) || /^https:.*/.test(options.url))) {\n     if (typeof(options.headers) == \"undefined\") {\n       options.headers = {'X-CSRFToken': Ext.util.Cookies.get('csrftoken')};\n     } else {\n       options.headers.extend({'X-CSRFToken': Ext.util.Cookies.get('csrftoken')});\n     }                        \n   }\n}, this);\n</code></pre>\n\n<p><em>(edit: Ext already has cookie reading function, no need to duplicate it)</em></p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>This may not be ideal, but it was the fastest solution for me.  In my main template at the bottom of the \"body\", I added a javascript function to my library.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    MyToolkit.Utils.getCSRFToken = function () {\n         return \"{% csrf_token %}\";\n    };\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This will use the csrf token or auto generate a new one if needed. It will handle all form submits on the page. If you have off-site forms you'll need to make sure they don't run this code.</p>\n\n<pre><code>&lt;script&gt;\n$(document).on('submit', 'form[method=post]', function(){\n  if(!document.cookie.match('csrftoken=([a-zA-Z0-9]{32})')) {\n    for(var c = ''; c.length &lt; 32;) c += 'abcdefghijklmnopqrstuvwxyz'.charAt(Math.random() * 26)\n    document.cookie = 'csrftoken=' + c + '; path=/'\n  }\n  if(!this.csrfmiddlewaretoken) $(this).append('&lt;input type=\"hidden\" name=\"csrfmiddlewaretoken\"&gt;')\n  $(this.csrfmiddlewaretoken).val(document.cookie.match('csrftoken=([a-zA-Z0-9]{32})')[1])\n})\n&lt;/script&gt;\n</code></pre>\n\n<p>requires jQuery 1.7+</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I recently upgraded to Django 1.2.3 and my upload forms are now broken. Whenever I attempt to upload, I receive a \"CSRF verification failed. Request aborted.\" error message.</p>\n\n<p>After reading <a href=\"http://docs.djangoproject.com/en/dev/ref/contrib/csrf/#how-to-use-it\">Django's documentation</a> on this subject, it states that I need to add the {% csrf_token %} template tag within the HTML <code>&lt;form&gt;</code> in my template. Unfortunately, my <code>&lt;form&gt;</code> is generated via JavaScript (specifically, ExtJs's \"html\" property on a Panel).</p>\n\n<p>Long story short, how do I add the required CSRF token tag to my <code>&lt;form&gt;</code> when my <code>&lt;form&gt;</code> is not included in a Django template?</p>\n",
            "last_activity_date": 1390586738,
            "question_id": 3764589,
            "score": 7,
            "tags": [
                "javascript",
                "django",
                "extjs",
                "csrf",
                "django-csrf"
            ],
            "title": "How do I include Django 1.2&#39;s CSRF token in a Javascript-generated HTML form?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The team at Facebook has spent considerable time documenting this, I would suggest you start there:</p>\n\n<p><a href=\"http://developers.facebook.com/docs/guides/web#login\" rel=\"nofollow\">http://developers.facebook.com/docs/guides/web#login</a><br>\n<a href=\"http://developers.facebook.com/docs/authentication/\" rel=\"nofollow\">http://developers.facebook.com/docs/authentication/</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>If possible, I would do like <a href=\"http://forum.developers.facebook.com/viewtopic.php?pid=192324\" rel=\"nofollow\">dracolytch writes here</a> and create a level of abstraction for both OpenID and Facebook. He is willing to share his code.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Those links are what Facebook likes to call \"Badges.\" Go to your profile. Scroll all the way to the bottom. On the lower left hand column you should see a link that says \"Create Profile Badge.\" Click that. From there you can edit a Badge to show the info you'd like. At the end, it will give you some html code that you can copy and paste into another website or blog. When people click on your Badge, they will get sent directly to your Facebook info box.\nSource(s):</p>\n\n<p><a href=\"http://www.facebook.com/badges.php\" rel=\"nofollow\">http://www.facebook.com/badges.php</a></p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I have made a website on which a user has to log in using a username and password. I have seen these in so many website, we can connect through facebook account. And I want to add the same to my web site. How is it possible,using php sdk or the javascript sdk?</p>\n",
            "last_activity_date": 1393797775,
            "question_id": 3012203,
            "score": 7,
            "tags": [
                "php",
                "javascript",
                "facebook",
                "facebook-php-sdk"
            ],
            "title": "How to login in website using facebook id"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You could recompose the full url using a bit of javascript :</p>\n\n<pre><code>function parseLink(link) {\n    var baseUrl = location.href.substring(0,location.href.lastIndexOf('/'));\n    if (link.indexOf('/') != -1) {\n        link = link.substring(link.lastIndexOf('/')); \n    } else {\n        link = \"/\"+ link;\n    }\n    var fullUrl = baseUrl + link;\n    return fullUrl\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>YES, you can rely!</p>\n\n<p>Once when people was using simple javascript (no jQuery) many asked the opposite of what you are asking, they wanted to get the real url as written in the href attribute and not the full one, in such case they used to simply do:</p>\n\n<pre><code>my_a_dom_node.getAttribute('href', 2); //works both IE/FF\n</code></pre>\n\n<p>Then it came jQuery that helped people not to waste their time in finding out they would need such code and jQuery always returns the real url as written in the href attribute. </p>\n\n<p>It's funny that now someone is asking how to get the full url because jQuery returns the one written in the href attribute.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>Yes, you can rely on this. </p>\n\n<p>Looking through the jQuery (1.4.2) source code, I see the <code>jQuery.attr()</code> function being used (condensed to the relevant parts):</p>\n\n<pre><code>jQuery.extend({\n  // ...\n  attr: function( elem, name, value, pass ) {\n    // ...\n\n    var attr = !jQuery.support.hrefNormalized &amp;&amp; notxml &amp;&amp; special ?\n               // Some attributes require a special call on IE\n               elem.getAttribute( name, 2 ) :\n               elem.getAttribute( name );\n\n    // Non-existent attributes return null, we normalize to undefined\n    return attr === null ? undefined : attr;    \n  }\n});\n</code></pre>\n\n<p>So it\u00b4effectively calls <code>elem.getAttribute('href')</code> which returns the actual attribute value, while the <code>href</code> property by design returns the canonical URL.</p>\n\n<p>However, there is a reference to <code>jQuery.support.hrefNormalized</code>, of which the jQuery support site has to say:</p>\n\n<blockquote>\n  <ul>\n  <li><code>hrefNormalized</code>: Is equal to true if the <code>.getAttribute()</code> method retrieves\n  the <code>href</code> attribute of elements\n  unchanged, rather than normalizing it\n  to a fully-qualified URL. (It is\n  currently false in IE, the URLs are\n  normalized). DOM l3 spec</li>\n  </ul>\n</blockquote>\n\n<p>This basically means that jQuery finds out browser behavior on its own and adapts accordingly to provide a consistent result.</p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>I would like to have a confirmation on some point.</p>\n\n<p>My goal is to always get the same string (which is the URI in my case) while reading the href property from a link. Example:</p>\n\n<p><code>&lt;a href=\"test.htm\" /&gt;</code> with base_url = <a href=\"http://domain.name/\">http://domain.name/</a></p>\n\n<p><code>&lt;a href=\"../test.htm\" /&gt;</code> with base_url = <a href=\"http://domain.name/domain/\">http://domain.name/domain/</a></p>\n\n<p><code>&lt;a href=\"http://domain.name/test.htm\" /&gt;</code> with base_url = any folder from <a href=\"http://domain.name/\">http://domain.name/</a></p>\n\n<p>I need to get <code>http://domain.name/test.htm</code> from the 3 situations above (or any other identical string).</p>\n\n<p>After some tests, it appears that  <code>my_a_dom_node.href</code> always return the full-qualified URI, including the <a href=\"http://domaine.name\">http://domaine.name</a>, which should be okay for what I want. </p>\n\n<p>jQuery has a different behaviour and <code>$(my_a_dom_node).attr('href')</code> returns the content (text) that appears inside the HTML. So my trick is to use <code>$(my_a_dom_node).get(0).href</code> to get the full URI.</p>\n\n<p>The question is: can I rely on this?</p>\n",
            "last_activity_date": 1349459516,
            "question_id": 2639070,
            "score": 7,
            "tags": [
                "javascript",
                "hyperlink"
            ],
            "title": "Get the full URI from the href property of a link"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can get direct pixel access with canvas.getImageData() and .putImageData(). You can also serialize images to a data URL with canvas.toDataURL() for posting to a server.</p>\n\n<p>This only works in newer browsers.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Besides the <code>getImageData</code> method, you can use <code>canvas.toDataURL()</code> to get an data-URL-encoded PNG. If you need to serialize to a string, it would save having to convert the raw data to a string manually. You could deserialize by creating an image and setting the src to the data URL, then drawing it to a canvas.</p>\n\n<p>[Edited to account for asynchronous loading (suggested by olliej).]</p>\n\n<pre><code>function serialize(canvas) {\n    return canvas.toDataURL();\n}\n\nfunction deserialize(data, canvas) {\n    var img = new Image();\n    img.onload = function() {\n        canvas.width = img.width;\n        canvas.height = img.height;\n        canvas.getContext(\"2d\").drawImage(img, 0, 0);\n    };\n\n    img.src = data;\n}\n</code></pre>\n\n<p>If I remember correctly, some older versions of Safari, and maybe Opera didn't support <code>toDataURL</code>, but the more recent versions do.</p>\n",
                    "is_accepted": false,
                    "score": 11
                }
            ],
            "body": "<p>Can you serialize/deserialize a canvas object in javascript?</p>\n",
            "last_activity_date": 1240259743,
            "question_id": 766137,
            "score": 7,
            "tags": [
                "javascript",
                "html5",
                "canvas"
            ],
            "title": "Javascript Canvas Serialization/Deserialization?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I think I understand what you're asking, at least part of it!</p>\n\n<p>Starting with the error, the reason you are seeing that is because you have instructed jest to not mock the Indicator module so all the internals are as you have written them. If you want to test that particular function is called, I'd suggest you create a mock function and use that instead...</p>\n\n<pre><code>var React = require('react/addons');\nvar Indicator = require('../Indicator.js');\nvar TestUtils = React.addons.TestUtils;\n\nvar refresh = jest.genMockFunction();\nIndicator.refresh = refresh; // this gives you a mock function to query\n</code></pre>\n\n<p>The next thing to note is you are actually re-assigning the Indicator variable in your example code so for proper behaviour I'd rename the second variable (like below)</p>\n\n<pre><code>var indicatorComp = TestUtils.renderIntoDocument(&lt;Indicator /&gt;);\n</code></pre>\n\n<p>Finally, if you want to test something that changes over time, use the TestUtils features around timer manipulation (<a href=\"http://facebook.github.io/jest/docs/timer-mocks.html\" rel=\"nofollow\">http://facebook.github.io/jest/docs/timer-mocks.html</a>). In your case I think you can do:</p>\n\n<pre><code>jest.runAllTimers();\n\nexpect(refresh).toBeCalled();\n</code></pre>\n\n<p>Alternatively, and perhaps a little less fussy is to rely on the mock implementations of setTimeout and setInterval to reason about your component:</p>\n\n<pre><code>expect(setInterval.mock.calls.length).toBe(1);\nexpect(setInterval.mock.calls[0][1]).toBe(1000);\n</code></pre>\n\n<p>One other thing, for any of the above changes to work, I think you'll need to manually trigger the onChange method as your component will initially be working with a mocked version of your Store so no change events will occur. You'll also need to make sure that you've set jest to ignore the react modules otherwise they will be automatically mocked too.</p>\n\n<h2>Full proposed test</h2>\n\n<pre><code>jest.dontMock('../Indicator');\n\ndescribe('Indicator', function() {\n  it('waits 1 second for each tick', function() {\n    var React = require('react/addons');\n    var TestUtils = React.addons.TestUtils;\n\n    var Indicator = require('../Indicator.js');\n    var refresh = jest.genMockFunction();\n    Indicator.refresh = refresh;\n\n    // trigger the store change event somehow\n\n    expect(setInterval.mock.calls.length).toBe(1);\n    expect(setInterval.mock.calls[0][1]).toBe(1000);\n\n  });\n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It looks like you're on the right track. Just to make sure everyone's on the same page for this answer, let's get some terminology out of the way.</p>\n\n<p><strong>Mock</strong>: A function with behavior controlled by the unit test. You usually swap out real functions on some object with a mock function to ensure that the mock function is correctly called. Jest provides mocks for every function on a module automatically unless you call <code>jest.dontMock</code> on that module's name.</p>\n\n<p><strong>Component Class</strong>: This is the thing returned by <code>React.createClass</code>. You use it to create component instances (it's more complicated than that, but this suffices for our purposes).</p>\n\n<p><strong>Component Instance</strong>: An actual rendered instance of a component class. This is what you'd get after calling <code>TestUtils.renderIntoDocument</code> or many of the other <code>TestUtils</code> functions.</p>\n\n<hr>\n\n<p>In your updated example from your question, you're generating mocks and attaching them to the component <em>class</em> instead of an <em>instance</em> of the component. In addition, you only want to mock out functions that you want to monitor or otherwise change; for example, you mock <code>_onChange</code>, but you don't really want to, because you want it to behave normally\u2014it's only <code>refresh</code> that you want to mock.</p>\n\n<p>Here is a proposed set of tests I wrote for this component; comments are inline, so post a comment if you have any questions. The full, working source for this example and test suite is at <a href=\"https://github.com/BinaryMuse/so-jest-react-mock-example/tree/master\">https://github.com/BinaryMuse/so-jest-react-mock-example/tree/master</a>; you should be able to clone it and run it with no problems. Note that I had to make some minor guesses and changes to the component as not all the referenced modules were in your original question.</p>\n\n<pre><code>/** @jsx React.DOM */\n\njest.dontMock('../indicator');\n// any other modules `../indicator` uses that shouldn't\n// be mocked should also be passed to `jest.dontMock`\n\nvar React, IndicatorComponent, Indicator, TestUtils;\n\ndescribe('Indicator', function() {\n  beforeEach(function() {\n    React = require('react/addons');\n    TestUtils = React.addons.TestUtils;\n    // Notice this is the Indicator *class*...\n    IndicatorComponent = require('../indicator.js');\n    // ...and this is an Indicator *instance* (rendered into the DOM).\n    Indicator = TestUtils.renderIntoDocument(&lt;IndicatorComponent /&gt;);\n    // Jest will mock the functions on this module automatically for us.\n    TriggerAnAction = require('../action');\n  });\n\n  it('waits 1 second foreach tick', function() {\n    // Replace the `refresh` method on our component instance\n    // with a mock that we can use to make sure it was called.\n    // The mock function will not actually do anything by default.\n    Indicator.refresh = jest.genMockFunction();\n\n    // Manually call the real `_onChange`, which is supposed to set some\n    // state and start the interval for `refresh` on a 1000ms interval.\n    Indicator._onChange();\n    expect(Indicator.state.elapsed).toBe(30);\n    expect(setInterval.mock.calls.length).toBe(1);\n    expect(setInterval.mock.calls[0][1]).toBe(1000);\n\n    // Now we make sure `refresh` hasn't been called yet.\n    expect(Indicator.refresh).not.toBeCalled();\n    // However, we do expect it to be called on the next interval tick.\n    jest.runOnlyPendingTimers();\n    expect(Indicator.refresh).toBeCalled();\n  });\n\n  it('decrements elapsed by one each time refresh is called', function() {\n    // We've already determined that `refresh` gets called correctly; now\n    // let's make sure it does the right thing.\n    Indicator._onChange();\n    expect(Indicator.state.elapsed).toBe(30);\n    Indicator.refresh();\n    expect(Indicator.state.elapsed).toBe(29);\n    Indicator.refresh();\n    expect(Indicator.state.elapsed).toBe(28);\n  });\n\n  it('calls TriggerAnAction when elapsed reaches zero', function() {\n    Indicator.setState({elapsed: 1});\n    Indicator.refresh();\n    // We can use `toBeCalled` here because Jest automatically mocks any\n    // modules you don't call `dontMock` on.\n    expect(TriggerAnAction).toBeCalled();\n  });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<h1>Original</h1>\n\n<p>First of all, I am following the <a href=\"https://github.com/facebook/flux\">Flux</a> architecture.</p>\n\n<p>I have an indicator that shows a number of seconds, ex: 30 seconds. Every one second it shows 1 second less, so 29, 28, 27 till 0. When arrives to 0, I clear the interval so it stops repeating. Moreover, I trigger an action. When this action gets dispatched, my store notifies me. So when this happens, I reset the interval to 30s and so on. Component looks like:</p>\n\n<pre><code>var Indicator = React.createClass({\n\n  mixins: [SetIntervalMixin],\n\n  getInitialState: function(){\n    return{\n      elapsed: this.props.rate\n    };\n  },\n\n  getDefaultProps: function() {\n    return {\n      rate: 30\n    };\n  },\n\n  propTypes: {\n    rate: React.PropTypes.number.isRequired\n  },\n\n  componentDidMount: function() {\n    MyStore.addChangeListener(this._onChange);\n  },\n\n  componentWillUnmount: function() {\n    MyStore.removeChangeListener(this._onChange);\n  },\n\n  refresh: function(){\n    this.setState({elapsed: this.state.elapsed-1})\n\n    if(this.state.elapsed == 0){\n      this.clearInterval();\n      TriggerAnAction();\n    }\n  },\n\n  render: function() {\n    return (\n      &lt;p&gt;{this.state.elapsed}s&lt;/p&gt;\n    );\n  },\n\n  /**\n   * Event handler for 'change' events coming from MyStore\n   */\n  _onChange: function() {\n    this.setState({elapsed: this.props.rate}\n    this.setInterval(this.refresh, 1000);\n  }\n\n});\n\nmodule.exports = Indicator;\n</code></pre>\n\n<p>Component works as expected. Now, I want to test it with Jest. I know I can use renderIntoDocument, then I can setTimeout of 30s and check if my component.state.elapsed is equal to 0 (for example).</p>\n\n<p>But, what I want to test here are different things. I want to test <strong>if refresh function is called</strong> . Moreover, I'd like to test that when my elapsed state is 0, <strong>it triggers my TriggerAnAction()</strong>. Ok, for the first thing I tried to do:</p>\n\n<pre><code>jest.dontMock('../Indicator');\n\ndescribe('Indicator', function() {\n  it('waits 1 second foreach tick', function() {\n\n    var React = require('react/addons');\n    var Indicator = require('../Indicator.js');\n    var TestUtils = React.addons.TestUtils;\n\n    var Indicator = TestUtils.renderIntoDocument(\n      &lt;Indicator /&gt;\n    );\n\n    expect(Indicator.refresh).toBeCalled();\n\n  });\n});\n</code></pre>\n\n<p>But I receive the following error when writing npm test:</p>\n\n<pre><code>Throws: Error: toBeCalled() should be used on a mock function\n</code></pre>\n\n<p>I saw from ReactTestUtils a <a href=\"http://facebook.github.io/react/docs/test-utils.html#mockcomponent\">mockComponent</a> function but given its explanation, I am not sure if it is what I need.</p>\n\n<p>Ok, in this point, I am stuck. Can anybody give me some light on how to test that two things I mentioned above?</p>\n\n<hr>\n\n<h1>Update 1, based on Ian answer</h1>\n\n<p>That's the test I am trying to run (see comments in some lines):</p>\n\n<pre><code>jest.dontMock('../Indicator');\n\ndescribe('Indicator', function() {\n  it('waits 1 second foreach tick', function() {\n\n    var React = require('react/addons');\n    var Indicator = require('../Indicator.js');\n    var TestUtils = React.addons.TestUtils;\n\n    var refresh = jest.genMockFunction();\n    Indicator.refresh = refresh;\n\n    var onChange = jest.genMockFunction();\n    Indicator._onChange = onChange;\n\n    onChange(); //Is that the way to call it?\n\n    expect(refresh).toBeCalled(); //Fails\n    expect(setInterval.mock.calls.length).toBe(1); //Fails\n\n    // I am trying to execute the 1 second timer till finishes (would be 60 seconds)\n    jest.runAllTimers();\n\n    expect(Indicator.state.elapsed).toBe(0); //Fails (I know is wrong but this is the idea)\n    expect(clearInterval.mock.calls.length).toBe(1); //Fails (should call this function when time elapsed is 0)\n\n  });\n});\n</code></pre>\n\n<p>I am still misunderstanding something...</p>\n",
            "last_activity_date": 1409366830,
            "question_id": 25533036,
            "score": 6,
            "tags": [
                "javascript",
                "reactjs",
                "react",
                "reactjs-flux",
                "jestjs"
            ],
            "title": "Test a React Component function with Jest"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Loop over the X axis and for each iteration compute the Y position using a sine function on the current X value.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The following will add a one-cycle sine wave to your SVG graph:</p>\n\n<pre><code>var XMAX = 500;\nvar YMAX = 500;\n\n// Create path instructions\nvar path = [];\nfor (var x = 0; x &lt;= XMAX; x++) {\n    var angle = (x / XMAX) * Math.PI * 2;  // angle = 0 -&gt; 2\u03c0\n    var y = Math.sin(angle) * (YMAX / 2) + (YMAX / 2);\n    // M = move to, L = line to\n    path.push((x == 0 ? 'M' : 'L') + x + ',' + y);\n}\n\n// Create PATH element\nvar pathEl = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\npathEl.setAttribute('d', path.join(' ') );\npathEl.style.stroke = 'blue';\npathEl.style.fill = 'none';\n\n// Add it to svg element\ndocument.querySelector('svg').appendChild(pathEl);\n\n\u200b    \u200b\n</code></pre>\n\n<p>Here's the <a href=\"http://jsfiddle.net/yhd3R/2/\" rel=\"nofollow\">jsfiddle you can run</a>.</p>\n\n<p>This uses a <a href=\"http://www.w3.org/TR/SVG/paths.html\" rel=\"nofollow\">PATH element</a> made up of 'lineto' (straight line) commands.  This works because, not surprisingly, it contains many (500) small line segments.  You could simplify the path to have fewer points by using bezier curves to draw the segments, but this complicates the code.  And you asked for simple. :)</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Here is a proof of concept that adds multiple <code>line</code> elements to the SVG element:</p>\n\n<pre><code>var svg = document.getElementById('sine_wave').children[0];\nvar origin = { //origin of axes\n    x: 100,\n    y: 100\n};\nvar amplitude = 10; // wave amplitude\nvar rarity = 1; // point spacing\nvar freq = 0.1; // angular frequency\nvar phase = 0; // phase angle\n\nfor (var i = -100; i &lt; 1000; i++) {\n    var line = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n\n    line.setAttribute('x1', (i - 1) * rarity + origin.x);\n    line.setAttribute('y1', Math.sin(freq*(i - 1 + phase)) * amplitude + origin.y);\n\n    line.setAttribute('x2', i * rarity + origin.x);\n    line.setAttribute('y2', Math.sin(freq*(i + phase)) * amplitude + origin.y);\n\n    line.setAttribute('style', \"stroke:black;stroke-width:1\");\n\n    svg.appendChild(line);\n}\n</code></pre>\n\n<p>Here is a demonstration: <a href=\"http://jsfiddle.net/HyTad/\" rel=\"nofollow\">http://jsfiddle.net/HyTad/</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>An alternative to straight-line approximations would be a B\u00e9zier approximation. A pretty good approximation of the first quarter of one period is a cubic B\u00e9zier curve with the following control points:</p>\n\n<pre><code> 0   0\n1/2 1/2\n 1   1\n\u03c0/2  1\n</code></pre>\n\n<p><a href=\"http://tinkerbin.com/MAbDfNB6\" rel=\"nofollow\">Watch the demonstration</a>.</p>\n\n<p><strong>Edit:</strong>\nEven more exact approximations are possible with the following control points:</p>\n\n<pre><code>0                    0\n0.512286623256592433 0.512286623256592433\n1.002313685767898599 1\n1.570796326794896619 1\n</code></pre>\n\n<p>(See NominalAnimal's explanations in the comments)</p>\n\n<p>An approximation that exactly interpolates the slope and curvature in the spline's endpoints is</p>\n\n<pre><code>       0                0 \n(6\u2212(3/2\u03c0\u22123)\u00b2)/6  (6\u2212(3/2\u03c0\u22123)\u00b2)/6\n       1                1\n      \u03c0/2               1\n</code></pre>\n\n<p>(<a href=\"http://mathb.in/1447\" rel=\"nofollow\">See derivation</a>)</p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>What would be the simplest solution to draw sine waves in SVG?\nI guess sine waves should be repeated in a simple loop with JavaScript... :)</p>\n\n<p>Here are the X-Y coordinates as a good start... :)</p>\n\n<p><a href=\"http://jsbin.com/adaxuy/1/edit\">http://jsbin.com/adaxuy/1/edit</a></p>\n\n<pre><code>&lt;svg&gt;\n  &lt;line x1=\"0\" y1=\"250\" x2=\"500\" y2=\"250\"\n        style=\"stroke:black;stroke-width:1\"/&gt;\n  &lt;line x1=\"250\" y1=\"0\" x2=\"250\" y2=\"500\"\n        style=\"stroke:black;stroke-width:1\"/&gt;\n&lt;/svg&gt;\n</code></pre>\n",
            "last_activity_date": 1363108788,
            "question_id": 13932704,
            "score": 6,
            "tags": [
                "javascript",
                "html5",
                "svg"
            ],
            "title": "How to draw sine waves with SVG (+JS)?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>So I've written a couple of answers regarding using <code>parse()</code> and <code>set()</code> to instantiate and populate sub-models and sub-collections (nested data). However, I haven't seen a really comprehensive answer that consolidates some of the many practices I've seen. I tend to ramble a bit when I write a lot so I might digress a little but this might be useful for people going through similar kinds of issues.</p>\n\n<p>There are a couple ways to do this. Using the <code>parse()</code> is one. Manipulating the <code>set()</code> is another. Instantiating these in your <code>initialize()</code> is another one. Doing it all outside of the Path model is another (e.g. <code>path = new Path(); path.nodes = new NodeCollection();</code> etc.)</p>\n\n<p>A second consideration is this. Do you want the nodes and edge collections to be model attributes? Or model properties?</p>\n\n<p>Oh so many choices. A lot of freedom but sometimes (to our frustration) it makes it more difficult to determine the \"right way.\"</p>\n\n<p>Since this comes up kind of often, I'm going to make a long post and go through these one by one. So bear with me as I continue to update this answer.</p>\n\n<p><strong>Doing it outside of the models - simple and straight-forward</strong></p>\n\n<p>This is usually an easy way to add nested models and collections when you only need it on a particular model or collection.</p>\n\n<pre><code>path = new PathModel();\n\npath.nodes = new NodeCollection();\npath.edge = new EdgeCollection();\n\n// Continue to set up the nested data URL, etc.\n</code></pre>\n\n<p>This is the simplest way and works well when you're dealing with one time models and collections that don't need to have a definition. Although you could easily produce these models in some method (e.g. view method) that constructs this object before doing anything with it.</p>\n\n<p><strong>Using <code>initialize()</code> Sub-model / collections in every model</strong></p>\n\n<p>If you know that every instance of a certain model will always have a sub-model or sub-collection, the easiest way to set things up would be to utilize the <code>initialize()</code> function.</p>\n\n<p>For example, take your Path model:</p>\n\n<pre><code>Path = Backbone.Model.extend({\n    initialize: function() {\n        this.nodes = new NodeCollection();\n        this.paths = new PathCollection();\n\n        // Maybe assign a proper url in relation to this Path model\n        // You might even set up a change:id listener to set the url when this\n        // model gets an id, assuming it doesn't have one at start.\n        this.nodes.url = this.id ? 'path/' + this.id + '/nodes' : undefined;\n        this.paths.url = this.id ? 'path/' + this.id + '/paths' : undefined;\n    }\n});\n</code></pre>\n\n<p>Now your sub-collections can be fetched like <code>path.nodes.fetch()</code> and it will route to the correct URL. Easy peasy.</p>\n\n<p><strong>Using <code>parse()</code> for instantiating and setting sub-data</strong></p>\n\n<p>Perhaps, it gets a little more tricky if you don't want to assume every model is going to have a nodes and edge collections. Maybe you want nested models/collections only if the <code>fetch()</code> sends back such data. This is the case where using <code>parse()</code> can come in handy.</p>\n\n<p>The thing with <code>parse()</code> is that it takes ANY json server response and can properly namespace and deal with it before passing it to the model <code>set()</code> function. So, we can check to see if a model or collection raw data is included and deal with it before reducing the response down to parent model attributes.</p>\n\n<p>For example, maybe from our server we get this response:</p>\n\n<pre><code>// Path model JSON example with nested collections JSON arrays\n{\n    'name':'orange site',\n    'url':'orange.com',\n    'nodes':[\n        {'id':'1', 'nodeColor':'red'},\n        {'id':'2', 'nodeColor':'white'},\n        {'id':'3', 'nodeColor':'blue'}\n    ],\n    'edge':[\n        {'id':'1', 'location':'north'},\n        {'id':'1', 'location':'south'},\n        {'id':'1', 'location':'east'}\n    ]\n}\n</code></pre>\n\n<p>With the default <code>parse()</code> Backbone will gobble this up and assign your path model attributes 'nodes' and 'edge' with an array() of data (not collections.) So we want to make sure that our <code>parse()</code> deals with this appropriately.</p>\n\n<pre><code>parse: function(response) {\n\n    // Check if response includes some nested collection data... our case 'nodes'\n    if (_.has(response, 'nodes')){\n\n         // Check if this model has a property called nodes\n        if (!_.has(this, 'nodes')) {  // It does not...\n            // So instantiate a collection and pass in raw data\n            this.nodes = new NodeCollection(response.nodes);\n        } else {\n            // It does, so just reset the collection\n            this.nodes.reset(response.nodes);\n        }\n\n        // Assuming the fetch gets this model id\n        this.nodes.url = 'path/' + response.id + '/nodes';  // Set model relative URL\n\n        // Delete the nodes so it doesn't clutter our model attributes\n        delete response.nodes;\n    }\n\n    // Same for edge...\n\n    return response;\n}\n</code></pre>\n\n<p>You can also use a customized <code>set()</code> to deal with your sub-data. After much going back and forth between which is better, manipulating <code>set()</code> or doing it in <code>parse()</code> I've decided that I like to use <code>parse()</code> more. But I'm open to other people's thoughts on this.</p>\n\n<p><strong>Using <code>set()</code> to deal with your sub-data</strong></p>\n\n<p>While <code>parse()</code> relies on either fetching the data or passing data into a collection with the option <code>parse:true</code> some people find it preferential to change the <code>set()</code> function. Again, I'm not sure there is a correct choice but here is how that would work.</p>\n\n<pre><code>set: function(attributes, options) {\n    // If we pass in nodes collection JSON array and this model has a nodes attribute\n    // Assume we already set it as a collection\n    if (_.has(attributes, 'nodes') &amp;&amp; this.get(\"nodes\")) {\n        this.get('nodes').reset(attributes.nodes);\n        delete attributes.nodes;\n    } else if (_.has(attributes, 'nodes') &amp;&amp; !this.get('nodes')) {\n        this.set('nodes', new NodeCollection(attributes.nodes));\n        delete attributes.nodes;\n    }\n\n    return Backbone.Model.prototype.set.call(this, attributes, options);\n}\n</code></pre>\n\n<p>So if we already have an attribute and it is a collection, we <code>reset()</code> it. If we have an attribute but it isn't a collection, we instantiate it. It's important to make sure you correctly translate the JSON array of sub-data into a collection before you pass it to the prototype <code>set()</code>. Backbone, doesn't interpret the JSON array as a collection and you'll only get a straight-up array.</p>\n\n<p>So in a nut shell, you got many many options on how to go about. Again, currently I favor a mix of using <code>initialize()</code> when I know something will always have those sub-models/collections and <code>parse()</code> when the situation only calls for possible nested data on <code>fetch()</code> calls.</p>\n\n<p><strong>Regarding that question of yours... (Oh yeah, there was a question)</strong></p>\n\n<p>You can allow Path to instantiate sub-models from a hash in a variety of ways. I just gave you 4. You CAN use parse if you want, if you know you're going to be <code>fetch()</code> the path model OR maybe even a pathCollection... <code>pathCollection.fetch({parse:true})</code> Is there a convention? Maybe maybe not. I like to use a combination of ways depending on the context in which I think I'll be using the models/collections.</p>\n\n<p>I'm very open to discussion on some of these practices and whether they are good or bad. They are just many solutions I've come across on Stack and incorporated into my own working habits and they seem to work just fine for me. :-)</p>\n\n<p><strong>Get yourself a coffee and a pat on the back, that was a long read.</strong></p>\n",
                    "is_accepted": true,
                    "score": 21
                }
            ],
            "body": "<p>I think I have a pretty simple problem that is just pretty difficult to word and therefore hard to find a solution for. Setup:</p>\n\n<ul>\n<li>PathCollection is a Backbone.Collection of Paths</li>\n<li>Path is a Backbone.Model which contains NodeCollection (which is a Backbone.Collection) and EdgeCollection (which is a Backbone.Collection).</li>\n</ul>\n\n<p>When I fetch PathCollection</p>\n\n<pre><code>paths = new PathCollection()\npaths.fetch()\n</code></pre>\n\n<p>obviously, Paths get instantiated. However, I'm missing the spot where I can allow a Path to instantiate its submodels from the attribute hashes. I can't really use parse, right? Basically im looking for the entry point for a model when its instantiated and set with attributes. I feel like there must be some convention for it.</p>\n",
            "last_activity_date": 1347291373,
            "question_id": 12350218,
            "score": 6,
            "tags": [
                "javascript",
                "backbone.js"
            ],
            "title": "Cast/initialize submodels of a Backbone Model"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You have to make a <code>GET</code> or <code>POST</code> request to the script from JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>PHP code is run on the server before the response is sent; JavaScript is run after, in the browser. You can't set a PHP variable from JavaScript because there are no PHP variables in the browser, where JavaScript if running. You'll have to use an AJAX request from JavaScript to a PHP script that stores whatever information it is you want to get.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can't directly do that, since JavaScript runs on the client-side and PHP gets executed on the server-side.</p>\n\n<p>You would need to execute the JavaScript first and then send the result to the server via a FORM or AJAX call.</p>\n\n<p>Here's what that might look like:</p>\n\n<p>PHP</p>\n\n<pre><code>$parameter = \"this is a php variable\";\necho \"var myval = foo(\" . parameter . \");\";\n</code></pre>\n\n<p>JavaScript</p>\n\n<pre><code>var myval = foo(\"this is a php variable\"); // generated by PHP\n\n$.ajax({\n  type: 'POST',\n  url: 'yourphpfile.php',\n  data: {'variable': myval},\n});\n</code></pre>\n\n<p>Receiving PHP (yourphpfile.php)</p>\n\n<pre><code>$myval = $_POST['variable'];\n// do something\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>You cannot pass a js variable to php <em>code</em>.<br>\nPHP happens to run on the server, a thousand miles away from client, where js is run.</p>\n\n<p>So, you can only call a php script, using js or regular hyperlink. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>var a = \"Result: \"+ &lt;?php echo json_encode($parameter); ?&gt;;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/406316/how-to-pass-a-variable-data-from-javascript-to-php-and-vice-versa\">How to pass a variable / data from javascript to php and vice versa?</a>  </p>\n</blockquote>\n\n\n\n<p>I have a file of php and javascript code. I want to set a php variable to be the result of a javascript function which takes a php variable as a parameter. For example: </p>\n\n<pre><code>$parameter = \"this is a php variable\";\n$phpVar = echo \"foo(\" . parameter . \");\";\n</code></pre>\n\n<p>I know you cannot do a \"= echo\", is there another way I can do this?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1400513970,
            "question_id": 9623593,
            "score": 6,
            "tags": [
                "php",
                "javascript"
            ],
            "title": "Pass javascript variable to php code?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>There are a number of XML libraries for node.js listed at <a href=\"http://github.com/ry/node/wiki/modules#parsers-xml\" rel=\"nofollow\">http://github.com/ry/node/wiki/modules#parsers-xml</a></p>\n\n<p>If memory serves, the one that has the most traction is <a href=\"http://github.com/polotek/libxmljs\" rel=\"nofollow\">http://github.com/polotek/libxmljs</a>, which appears to be MIT licensed.</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>I recently released <a href=\"https://github.com/wezm/node-genx\" rel=\"nofollow\">node-genx</a>, a wrapper around a small C-library called <a href=\"http://www.tbray.org/ongoing/When/200x/2004/02/20/GenxStatus\" rel=\"nofollow\">Genx</a> that provides fast and valid xml generation in node.js.</p>\n\n<p>Installation is simply:</p>\n\n<pre><code>npm install genx\n</code></pre>\n\n<p>I have posted some <a href=\"http://www.wezm.net/technical/2011/01/generating-xml-with-node-js/\" rel=\"nofollow\">examples of using it</a> to generate an Atom feed and a <a href=\"http://sphinxsearch.com/docs/manual-1.10.html#xmlpipe2\" rel=\"nofollow\">Sphinx xmlpipe2</a> stream on my blog.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I've found Ariel Flesler's XMLWriter constructor function to be a good start for creating XML from scratch (in memory), take a look at this </p>\n\n<p><a href=\"http://flesler.blogspot.com/2008/03/xmlwriter-for-javascript.html\" rel=\"nofollow\">http://flesler.blogspot.com/2008/03/xmlwriter-for-javascript.html</a></p>\n\n<p>Example</p>\n\n<pre><code>function test(){    \n   // XMLWriter will use DOMParser or Microsoft.XMLDOM\n   var v = new  XMLWriter();\n   v.writeStartDocument(true);\n   v.writeElementString('test','Hello World');\n   v.writeAttributeString('foo','bar');\n   v.writeEndDocument();\n   console.log( v.flush() );\n}\n</code></pre>\n\n<p>Result</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\" standalone=\"true\" ?&gt;\n&lt;test foo=\"bar\"&gt;Hello World&lt;/test&gt;\n</code></pre>\n\n<p>A couple of caveats, it doesn't escape strings and the syntax can get <a href=\"http://demos.flesler.com/XMLWriter/\" rel=\"nofollow\">coyote++</a> ugly. You can download it from the author's site or from \n<a href=\"https://github.com/alexandern/XMLWriter\" rel=\"nofollow\">https://github.com/alexandern/XMLWriter</a> (includes escaping and bug fix for the standalone attribute)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This lib for Node.js is very stable and easy to use: <a href=\"https://github.com/minchenkov/simple-xml-writer\" rel=\"nofollow\">https://github.com/minchenkov/simple-xml-writer</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've created two functions as follows:</p>\n\n<pre><code>function loadXMLDoc(filename){\n  if (window.XMLHttpRequest){\n      xhttp=new XMLHttpRequest();\n  }\n  else {\n  xhttp=new ActiveXObject(\"Microsoft.XMLHTTP\"); // code for IE 5-6\n  }\n  xhttp.open(\"GET\",filename,false);\n  xhttp.send();\n  return xhttp.responseXML;\n}\n</code></pre>\n\n<p>And, to write the XML into a local file call the following function.</p>\n\n<pre><code>function writeXML() \n    {\n        var xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n        var fso = new ActiveXObject(\"Scripting.FileSystemObject\");\n        var FILENAME=\"D:/YourXMLName/xml\";\n        var file = fso.CreateTextFile(FILENAME, true);\n        file.WriteLine('&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\\n');\n        file.WriteLine('&lt;PersonInfo&gt;\\n');\n        file.WriteLine('&gt;&lt;/Person&gt;\\n');\n        } \n        file.WriteLine('&lt;/PersonInfo&gt;\\n');\n        file.Close();\n    } \n</code></pre>\n\n<p>I hope this helps, or else you can try <a href=\"http://flesler.blogspot.in/2008/03/xmlwriter-for-javascript.html\" rel=\"nofollow\">Ariel Flesler's XMLWriter</a> for creating XML in memory.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am doing some server side coding with JavaScript (node.js) and I would like to write valid xml.</p>\n\n<p>I found two libs, but I am sure there are more/better!?</p>\n\n<ul>\n<li><a href=\"http://goessner.net/download/prj/jsonxml/\">http://goessner.net/download/prj/jsonxml/</a> (LGPL)</li>\n<li>not yet released: <a href=\"https://sourceforge.net/projects/jsonix\">https://sourceforge.net/projects/jsonix</a> (LGPL)</li>\n</ul>\n\n<p>Requirements: open source (for commercial usage)</p>\n\n<p>Would be cool if the project is fast, small and simple to use (in that order). And I would like to have a bit lower level access ala</p>\n\n<pre><code>doc.addElement('xy').addAttr('name', 'bob');\n</code></pre>\n",
            "last_activity_date": 1405410786,
            "question_id": 4065365,
            "score": 6,
            "tags": [
                "javascript",
                "xml",
                "serverside-javascript"
            ],
            "title": "Libraries to write xml with JavaScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Take a look here:</p>\n\n<p><a href=\"http://docs.jquery.com/Tutorials%3aMouse_Position\" rel=\"nofollow\">http://docs.jquery.com/Tutorials:Mouse_Position</a></p>\n\n<p>EDIT:\nThe jquery docs page above is broken. Here is an alternate:</p>\n\n<p><a href=\"http://api.jquery.com/event.pageX/\" rel=\"nofollow\">http://api.jquery.com/event.pageX/</a></p>\n\n<p><code>event.pageX</code> and <code>event.pageY</code> should give you mouse position</p>\n\n<pre><code>$(\"#drag\").draggable({\n    stop: function(event, ui){\n        var x = event.pageX - ui.offset.left;\n        var y = event.pageY - ui.offset.top;       \n    }\n});\n</code></pre>\n\n<p>EDIT: here's an example showing how to track the mouse position relative to the element you are dragging <a href=\"http://jsfiddle.net/87fqr/1/\" rel=\"nofollow\">http://jsfiddle.net/87fqr/1/</a></p>\n\n<p>ANOTHER EDIT:</p>\n\n<p>This should work if you want the position of the mouse relative to the droppable:</p>\n\n<pre><code>$(\"#db_tables\").droppable({\n    activeClass: \"ui-state-default\",\n    hoverClass: \"ui-state-hover\",\n    drop: function( event, ui ) {\n            var offset = $(this).offset(),\n            x = event.pageX - offset.left,\n            y = event.pageY - offset.top; \n        $('&lt;div style=\"margin-top:' + y + 'px; margin-left:' + x + 'px; \"&gt;&lt;/div&gt;' ).html( ui.draggable.html() ).appendTo( this );\n    }\n});\n</code></pre>\n\n<p>More complete example here: <a href=\"http://jsfiddle.net/87fqr/2/\" rel=\"nofollow\">http://jsfiddle.net/87fqr/2/</a></p>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>I am using jquery ui for drag and drop. I am trying to get mouse position relative to div, here is my code:</p>\n\n<pre><code>$( \"#db_tables \" ).droppable({\n  activeClass: \"ui-state-default\",\n  hoverClass: \"ui-state-hover\",\n  drop: function( event, ui ) {\n    var x = ui.position.left - ui.offset.left; // tired event.pageX - this.offsetLeft;\n    var y = ui.position.top - ui.offset.top; // tired event.pageY - this.offsetTop;\n    $( '&lt;div style=\"margin-top:' + y   + 'px; margin-left:' + x   + 'px; \"&gt;&lt;/div&gt;' ).html( ui.draggable.html() ).appendTo( this );\n  }\n});\n</code></pre>\n\n<p>But the position of dropped div is not correct, Can anybody please tell me what is wrong with code?</p>\n",
            "last_activity_date": 1401493543,
            "question_id": 3824332,
            "score": 6,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Mouse position relative to div"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You can take a look at <a href=\"http://unixpapa.com/js/dyna.html\">dynamic script loading</a>. Here's an excerpt from the article:</p>\n\n<pre><code>var head = document.getElementsByTagName('head')[0];\nvar script = document.createElement('script');\nscript.type = 'text/javascript';\nscript.src = 'helper.js';\nhead.appendChild(script);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>Google offers centrally hosted versions of the major javascript libraries like jQuery. They can be dynamically loaded using the google loader.</p>\n\n<p><a href=\"http://code.google.com/apis/ajaxlibs/documentation/\" rel=\"nofollow\">http://code.google.com/apis/ajaxlibs/documentation/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is similar to Darin's solution, except it doesn't make any variables.</p>\n\n<pre><code>document.getElementsByTagName('head')[0].appendChild(document.createElement(\"script\")).src = \"helper.js\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I'd suggest you take a look at labJS. It's a library made specifically to load Javascript. As they say...\"The core purpose of LABjs is to be an all-purpose, on-demand JavaScript loader, capable of loading any JavaScript resource, from any location, into any page, at any time.\"</p>\n\n<p>See <a href=\"http://labjs.com/\" rel=\"nofollow\">the labJS home page</a> for more information.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><strong>For external domain JS link</strong> </p>\n\n<pre><code>var loadJs = function(jsPath) { \n    var s = document.createElement('script');\n    s.setAttribute('type', 'text/javascript');\n    s.setAttribute('src', jsPath);\n    document.getElementsByTagName('head')[0].appendChild(s);\n};\nloadJs('http://other.com/other.js'); \n</code></pre>\n\n<p><strong>For same domain JS link (Using jQuery)</strong> </p>\n\n<pre><code>var getScript = function(jsPath, callback) {\n    $.ajax({\n        dataType:'script',\n        async:false,\n        cache:true,\n        url:jsPath,\n        success:function(response) {\n            if (callback &amp;&amp; typeof callback == 'function') callback();\n        }\n    });\n};\ngetScript('js/other.js', function() { functionFromOther(); }); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>is there anyway to load other JS files from within a single JS file. I would like to point my individual pages \"ITS\" js file and that js file would load jquery, other js files.</p>\n\n<p>I know i can just pop all these into the html  i.e. \n\n<p>I was thinking of separations of concerns so i was wondering if anything exists already without me reinventing the wheel....</p>\n\n<p>That i would just need  to edit home.js to change what other js (jquery etc) are loaded for home.htm ... home.htm would just point to home.js</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1271380364,
            "question_id": 1618351,
            "score": 6,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "loading js files dynamically via another js file?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You could always do:</p>\n\n<pre><code>var t=0; // the height of the highest element (after the function runs)\nvar t_elem;  // the highest element (after the function runs)\n$(\"*\",elem).each(function () {\n    $this = $(this);\n    if ( $this.outerHeight() > t ) {\n        t_elem=this;\n        t=$this.outerHeight();\n    }\n});\n</code></pre>\n\n<p>Edited to make it work again.</p>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>If the div element is smaller than it's children, the children are probably floating. Can you allow the div to be as large as children?</p>\n\n<p>If you can, add a clearing element at the bottom to make the div wrap it's children:</p>\n\n<pre><code>&lt;div id=\"someParent\"&gt;\n    &lt;p&gt;test&lt;/p&gt;\n    &lt;img src=\"test1.png\" alt=\"test1\" style=\"float: left\" /&gt;\n    &lt;img src=\"test2.png\" alt=\"test2\" style=\"float: left\" /&gt;\n    &lt;div style=\"clear: both;\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Or apply a <a href=\"http://stackoverflow.com/questions/211383/which-method-of-clearfix-is-best\">clearfix</a> CSS solution to do pretty much the same thing but without extra markup or a clearing div.</p>\n\n<p>The containing div will then get the same height as the highest child element, and you can get it by:</p>\n\n<pre><code>$(\"#someParent\").height();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I found this snippet which seems more straight forward and shorter at <a href=\"http://css-tricks.com/snippets/jquery/equalize-heights-of-divs\" rel=\"nofollow\">http://css-tricks.com/snippets/jquery/equalize-heights-of-divs</a></p>\n\n<pre><code>var maxHeight = 0;\n\n$(yourelemselector).each(function(){\n   if ($(this).height() &gt; maxHeight) { maxHeight = $(this).height(); }\n});\n\n$(yourelemselector).height(maxHeight);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>In my case I had to use it with a responsive design so I made it work with window resize.</p>\n\n<pre><code>function fixHeight(elem){\n    var maxHeight = 0;\n    $(elem).css('height','auto');\n    $(elem).each(function(){\n       if ($(this).height() &gt; maxHeight) { maxHeight = $(this).height(); }\n    });\n    $(elem).height(maxHeight);\n}\n\n$(window).resize(function () {\n    fixHeight('.myelement');\n});\n$(document).ready(function(e) {\n    fixHeight('.myelement');\n});\n</code></pre>\n\n<p>I hope this will help someone !</p>\n\n<p>Happy coding guys ! :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I need a function to get the height of the highest element inside a div.</p>\n\n<p>I have an element with many others inside (dynamically generated), and when I ask for the height of the container element using $(elem).height(), I get a smaller height than some of the contents inside it. \nSome of the elements inside are images that are bigger than the size this element says to have.</p>\n\n<p>I need to know the highest element so I can get it's height.</p>\n",
            "last_activity_date": 1411058047,
            "question_id": 1076231,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "dom",
                "height"
            ],
            "title": "How to get height of the highest children element in javascript/jQuery?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Why don't you use Firefox (I assume you're using Firefox) to remember your credentials using the Password Manager?</p>\n\n<p>I found this link: <a href=\"http://www.peej.co.uk/articles/http-auth-with-html-forms.html\" rel=\"nofollow\">HTTP Authentication with HTML Forms</a>.  Looks like you can use javascript to do HTTP authentication.  I don't think you can have Greasemonkey interrupt when you are first navigating to a URL though.  You might have to setup some sort of launching point that you can use to have greasemonkey automatically redirect + login.  For example, you can have the local page that takes the destination URL in the query string, have Greasemonkey automatically do the authenticate + redirect.  The only problem is that you'll have to wrap the site bookmarks with your launching page for the bookmarks you use as entry points.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>HTTP authentication information is sent on every request, not just to log in.  The browser will cache the login information for the session after you log in the first time.  So, you don't really save anything by trying to check if you are already logged in.</p>\n\n<p>You could also forget about greasemonkey altogether and just give your login into on the url like so:</p>\n\n<pre><code>http://username:password@host/\n</code></pre>\n\n<p>Of course, saving this in a bookmark may be a security risk, but not more-so than saving your password in the browser.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It is possible to log in using HTTP authentication by setting the \"Authorization\" HTTP header, with the value of this header set to the string \"basic username:password\", but with the \"username:password\" portion of the string Base 64 encoded.  </p>\n\n<p><a href=\"http://frontier.userland.com/stories/storyReader%242159\" rel=\"nofollow\">http://frontier.userland.com/stories/storyReader$2159</a></p>\n\n<p>A bit of researching found that GreaseMonkey has a a function built into it where you can send GET / POST requests to the server called GM_xmlhttpRequest </p>\n\n<p><a href=\"http://diveintogreasemonkey.org/api/gm_xmlhttprequest.html\" rel=\"nofollow\">http://diveintogreasemonkey.org/api/gm_xmlhttprequest.html</a></p>\n\n<p>So putting it all together (and also getting this JavaScript code to convert strings into base64 I get the following</p>\n\n<p><a href=\"http://www.webtoolkit.info/javascript-base64.html\" rel=\"nofollow\">http://www.webtoolkit.info/javascript-base64.html</a></p>\n\n<pre><code>var loggedInText = document.getElementById('metanav').firstChild.firstChild.innerHTML;\nif (loggedInText != \"logged in as jklp\") {\n    var username = 'jklp';\n    var password = 'jklpPass';\n    var base64string = Base64.encode(username + \":\" + password);\n\n    GM_xmlhttpRequest({\n        method: 'GET',\n        url: 'http://foo.com/trac/login',\n        headers: {\n            'User-agent': 'Mozilla/4.0 (compatible) Greasemonkey/0.3',\n            'Accept': 'application/atom+xml,application/xml,text/xml',\n            'Authorization':'Basic ' + base64string,\n        }\n    });\n}\n</code></pre>\n\n<p>So when I now visit the site, it traverses the DOM and if I'm not logged in, it automagically logs me in.  </p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>\"http://username:password@host/\" doesn't work on IE, FireFox works ok.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've got quite a few GreaseMonkey scripts that I wrote at my work which automatically log me into the internal sites we have here.  I've managed to write a script for nearly each one of these sites except for our time sheet application, which uses HTTP authentication.  </p>\n\n<p>Is there a way I can use GreaseMonkey to log me into this site automatically?</p>\n\n<p>Edit: I am aware of the store password functionality in browsers, but my scripts go a step further by checking if I'm logged into the site when it loads (by traversing HTML) and then submitting a post to the login page.  This removes the step of having to load up the site, entering the login page, entering my credentials, then hitting submit</p>\n",
            "last_activity_date": 1336720650,
            "question_id": 49158,
            "score": 6,
            "tags": [
                "javascript",
                "http",
                "authentication",
                "greasemonkey",
                "http-authentication"
            ],
            "title": "GreaseMonkey script to auto login using HTTP authentication"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Using <code>querySelectorAll</code> as suggested by @JanDvorak (and his answer should be accepted for thinking of that), you can write your own expression, making <code>.is(':invalid')</code> valid ?</p>\n\n<pre><code>jQuery.extend(jQuery.expr[':'], {\n    invalid : function(elem, index, match){\n        var invalids = document.querySelectorAll(':invalid'),\n            result = false,\n            len = invalids.length;\n\n        if (len) {\n            for (var i=0; i&lt;len; i++) {\n                if (elem === invalids[i]) {\n                    result = true;\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n});\n</code></pre>\n\n<p>now you can do :</p>\n\n<pre><code>if( $(e.target).is(':invalid') ){ ... }\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/qAmKa/2/\"><strong>FIDDLE</strong></a></p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p><code>:invalid</code> is, indeed, not a valid jQuery selector (pseudoclass).</p>\n\n<p>According to <a href=\"https://developer.mozilla.org/en-US/docs/CSS/%3ainvalid\">the link you posted</a>, however, it is a valid CSS selector (not supported in IE&lt;10).</p>\n\n<p><a href=\"http://jsfiddle.net/qAmKa/\">A fiddle by Adeneo</a> shows that, as suspected, while it doesn't work in jQuery, it can be used via the native <code>querySelector</code>/<code>querySelectorAll</code> methods. So, while this doesn't work:</p>\n\n<pre><code>if($(e.target).is(\":invalid\"))  //SyntaxError\n</code></pre>\n\n<p>This does (except in IE&lt;10):</p>\n\n<pre><code>if(~[].indexOf.call(document.querySelectorAll(\":invalid\"),e.target))\n</code></pre>\n\n<p>This should work as well (in the future or after the neccessary shimming; see <a href=\"http://caniuse.com/#feat=matchesselector\">caniuse</a>):</p>\n\n<pre><code>if(e.target.matches(\":invalid\"))\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I get the following console message:</p>\n\n<pre><code>[16:04:01.292] Error: Syntax error, unrecognized expression: unsupported pseudo: invalid @ http://localhost:8080/assets/js/jquery-1.9.1.min.js:4\n</code></pre>\n\n<p>When I try something like:</p>\n\n<p><code>if( $(e.target).is(':invalid') ){ ... }</code></p>\n\n<p>How do I fix this?</p>\n\n<p>Here's an example: <a href=\"http://jsfiddle.net/L4g99/\" rel=\"nofollow\">http://jsfiddle.net/L4g99/</a> - try changing the jQuery version (stops working after 1.9)</p>\n",
            "last_activity_date": 1365138793,
            "question_id": 15820780,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "jquery-selectors"
            ],
            "title": "jQuery support &quot;:invalid&quot; selector"
        }
    ]
}
