{
    "items": [
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<h2>Solution 1</h2>\n\n<p>You can loop backwards, with something like the following:</p>\n\n<pre><code>var searchInput, i;\n\nsearchInput = [\"this\", \"is\", \"a\", \"test\"];\ni = searchInput.length;\nwhile (i--) {\n    if (searchInput[i].length &lt; 4) {\n        searchInput.splice(i, 1);\n    }\n}\n</code></pre>\n\n<p><strong>DEMO:</strong> <a href=\"http://jsfiddle.net/KXMeR/\">http://jsfiddle.net/KXMeR/</a></p>\n\n<p>This is because iterating incrementally through the array, when you splice it, the array is modified in place, so the items are \"shifted\" and you end up skipping the iteration of some. Looping backwards (with a <code>while</code> or even a <code>for</code> loop) fixes this because you're not looping in the direction you're splicing.</p>\n\n<hr>\n\n<h2>Solution 2</h2>\n\n<p>At the same time, it's usually faster to generate a new array instead of modifying one in place. Here's an example:</p>\n\n<pre><code>var searchInput, newSearchInput, i, j, cur;\n\nsearchInput = [\"this\", \"is\", \"a\", \"test\"];\nnewSearchInput = [];\nfor (i = 0, j = searchInput.length; i &lt; j; i++) {\n    cur = searchInput[i];\n    if (cur.length &gt; 3) {\n        newSearchInput.push(cur);\n    }\n}\n</code></pre>\n\n<p>where <code>newSearchInput</code> will only contain valid length items, and you still have the original items in <code>searchInput</code>.</p>\n\n<p><strong>DEMO:</strong> <a href=\"http://jsfiddle.net/RYAx2/\">http://jsfiddle.net/RYAx2/</a></p>\n\n<hr>\n\n<h2>Solution 3</h2>\n\n<p>In addition to the second solution above, a similar, newer <code>Array.prototype</code> method is available to handle that better: <code>filter</code>. Here's an example:</p>\n\n<pre><code>var searchInput, newSearchInput;\n\nsearchInput = [\"this\", \"is\", \"a\", \"test\"];\nnewSearchInput = searchInput.filter(function (value, index, array) {\n    return (value.length &gt; 3);\n});\n</code></pre>\n\n<p><strong>DEMO:</strong> <a href=\"http://jsfiddle.net/qky7D/\">http://jsfiddle.net/qky7D/</a></p>\n\n<hr>\n\n<p><strong>References:</strong></p>\n\n<ul>\n<li><code>Array.prototype.filter</code> - <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter</a></li>\n<li><code>Array.prototype.filter</code> browser support - <a href=\"http://kangax.github.io/es5-compat-table/#Array.prototype.filter\">http://kangax.github.io/es5-compat-table/#Array.prototype.filter</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 34
                },
                {
                    "body": "<p>You can also use <a href=\"http://api.jquery.com/jQuery.grep/\" rel=\"nofollow\">$.grep</a> function to filter an array:</p>\n\n<pre><code>var timer, searchInput;\n$('#searchFAQ').keyup(function () {\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n        searchInput = $('#searchFAQ').val().split(/\\s+/g); // match is okay too\n        searchInput = $.grep(searchInput, function(el) {\n            return el.length &gt;= 4;\n        });\n        console.log(searchInput);\n    }, 500);\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/dfsq/4Wdp9/\" rel=\"nofollow\">http://jsfiddle.net/dfsq/4Wdp9/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var myArr = [0,1,2,3,4,5,6];\n</code></pre>\n\n<p><strong>Problem statement:</strong></p>\n\n<pre><code>myArr.splice(2,1);\n\n  \\\\ [0, 1, 3, 4, 5, 6];\n</code></pre>\n\n<p>now 3 moves at second position and length is reduced by 1 which creates problem.</p>\n\n<p><strong>Solution:</strong> A simple solution would be iterating in reverse direction when splicing.</p>\n\n<pre><code>var i = myArr.length;\nwhile (i--) {\n    // do your stuff\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to implement a kind of jQuery live search.\nBut before sending the input to the server I'd like to remove all items in my array which have 3 or less characters (because in the german language, those words usually can be ignored in terms of searching)\nSo <code>[\"this\", \"is\", \"a\", \"test\"]</code> becomes <code>[\"this\", \"test\"]</code></p>\n\n<pre><code>$(document).ready(function() {\nvar timer, searchInput;\n$('#searchFAQ').keyup(function() {\n    clearTimeout(timer);\n    timer = setTimeout(function() {\n        searchInput = $('#searchFAQ').val().match(/\\w+/g);\n        if(searchInput) {\n            for (var elem in searchInput) {\n                if (searchInput[elem].length &lt; 4) {\n                    //remove those entries\n                    searchInput.splice(elem, 1);\n                }\n            }\n            $('#output').text(searchInput);\n            //ajax call here\n        }\n    }, 500);\n});\n});\n</code></pre>\n\n<p>Now my problem is that not all items get removed in my for loop. \nIf I for example typ \"this is a test\" \"is\" gets removed, \"a\" stays.\n<a href=\"http://jsfiddle.net/4Wdp9/\">JSFIDDLE</a></p>\n\n<p>I think the problem is the for loop because the indexes of the array change if I remove an item with splice, so it goes on with the \"wrong\" index.</p>\n\n<p>Perhaps anybody could help me out?</p>\n",
            "last_activity_date": 1420630477,
            "question_id": 16217333,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "arrays",
                "for-loop",
                "splice"
            ],
            "title": "Remove items from array with splice in for loop"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>After a quick <a href=\"http://jibbering.com/faq/notes/type-conversion/\" rel=\"nofollow\">google to make sure my suspicions were true</a>, I came to this conclusion. Using the <code>+</code> operator to convert to a number is faster, because no mathematical operations occur after type-casting, whereas using the <code>*=</code> approach means that after <code>after</code> is converted, it will be multiplied by <code>1</code>.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Yes. Both <a href=\"http://es5.github.io/#x11.4.6\">Unary Operator <code>+</code></a> and <a href=\"http://es5.github.io/#x11.5\">Multiplicative Operators</a> such as <code>*</code> (called from <a href=\"http://es5.github.io/#x11.13.2\">Compound Assignment</a> <code>op=</code>) invoke the internal <a href=\"http://es5.github.io/#x9.3\"><code>ToNumber</code></a> algorithm.</p>\n\n<p>You can even use a 3rd option by statically calling the <a href=\"http://es5.github.io/#x15.7.1.1\"><code>Number</code> constructor</a>: </p>\n\n<pre><code>after = Number(after);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>Note: In some instances after = after-0 invokes different behaviour than after = after+0 I've noticed it with dates.</p>\n\n<p>This is tested in Chrome v39 only:</p>\n\n<pre><code>var date = new Date(2000,0,1);\ndate += date; //\"Sat Jan 01 2000 00:00:00 GMT+0000 (GMT Standard Time)Sat Jan 01 2000 00:00:00 GMT+0000 (GMT Standard Time)\"\nvar date2 = new Date(2000,0,1);\ndate2 + 0; //\"Sat Jan 01 2000 00:00:00 GMT+0000 (GMT Standard Time)0\"\ndate2 - 0; //946684800000\ndate2 * 1; //946684800000\n</code></pre>\n\n<p>I don't know what is defined in the JS spec, but with dates, because both the date and the number can be cast to a string, and the + operator works on a string, then Chrome goes with a string concatenation. Because the - operator has no string equivalent, it falls back to number comparison.</p>\n\n<p>I've found this useful when coercing dates into numbers for comparisons</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have often seen the trick</p>\n\n<pre><code>after = +after;\n</code></pre>\n\n<p>to coerce the variable <code>after</code> to a number. Reading through the <a href=\"https://github.com/joyent/node/blob/master/lib/timers.js#L188\">Node.JS source</a> I found another method:</p>\n\n<pre><code>after *= 1; // coalesce to number or NaN\n</code></pre>\n\n<p>Are the two methods strictly equivalent in their behaviour?</p>\n",
            "last_activity_date": 1419324741,
            "question_id": 15865346,
            "score": 7,
            "tags": [
                "javascript"
            ],
            "title": "Coerce to number"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can try following sample\n<a href=\"http://jsfiddle.net/xKJB8/3/\">http://jsfiddle.net/xKJB8/3/</a></p>\n\n<pre><code>&lt;img id=\"preview\" src=\"http://www.gravatar.com/avatar/0e39d18b89822d1d9871e0d1bc839d06?s=128&amp;d=identicon&amp;r=PG\"&gt;\n&lt;canvas id=\"myCanvas\" /&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>var c = document.getElementById(\"myCanvas\");\nvar ctx = c.getContext(\"2d\");\nvar img = document.getElementById(\"preview\");\nctx.drawImage(img, 10, 10);\nalert(c.toDataURL());\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>You can also use the FileReader class : </p>\n\n<pre><code>    var reader = new FileReader();\n    reader.onload = function (e) {\n        var data = this.result;\n    }\n    reader.readAsDataURL( file );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>@httpete here is the code I have been using:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;script type=\"text/javascript\"&gt;\n     function doProcess(file){\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        var data = this.result;\n      }\n      reader.readAsDataURL( file );\n     }\n    &lt;/script&gt;\n  &lt;/head&gt;\n\n  &lt;body &gt;\n    &lt;input type=\"button\" value=\"click\" onClick=\"doProcess('https://www.google.com.br/logos/2012/clara_schuman-2012-hp.jpg')\" /&gt;\n    &lt;canvas id=\"mcanvas\" height=\"500\" width=\"500\"&gt;&lt;/canvas&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I am getting  </p>\n\n<pre><code>Failed to execute 'readAsDataURL' on 'FileReader': The argument is not a Blob.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a registration form where users can choose an avatar. They have 2 possibilities:</p>\n\n<ol>\n<li>Choose a default avatar</li>\n<li>Upload their own avatar</li>\n</ol>\n\n<p>In my HTML page I have this.</p>\n\n<pre><code>&lt;img id=\"preview\" src=\"img/default_1.png\"&gt;\n</code></pre>\n\n<p>It displays the chosen avatar.\nI use the File Api to let users upload their own image.\nThat makes the src of the HTML image to something like this.</p>\n\n<pre><code>&lt;img id=\"preview\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgA... /&gt;\n</code></pre>\n\n<p>When they post the registration form. The data will be sent to a REST service.\nI can send the base64 encoded data when a user uploaded an avatar himself. But how do I handle the default avatar? It is an url instead of base64 encoded data.</p>\n",
            "last_activity_date": 1408717919,
            "question_id": 15760764,
            "score": 7,
            "tags": [
                "javascript",
                "html",
                "image",
                "base64"
            ],
            "title": "How to get base64 encoded data from html image"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The PeerConnection won't start gathering candidates until you call setLocalDescription(); the information supplied to setLocalDescription tells PeerConnection how many candidates need to be gathered. (This behavior for setLocalDescription is indicated in its definition at <a href=\"http://tools.ietf.org/html/draft-ietf-rtcweb-jsep-03#section-4.2.4\">http://tools.ietf.org/html/draft-ietf-rtcweb-jsep-03#section-4.2.4</a>)</p>\n\n<p>Here's what a complete flow looks like for establishing a connection between two PeerConnections in the same browser window (adding of MediaStreams omitted to focus on the signaling):</p>\n\n<pre><code>var pc1, pc2, offer, answer;\n\npc1 = new webkitRTCPeerConnection(options);\npc2 = new webkitRTCPeerConnection(options);\n\npc1.onicecandidate = function(candidate) {\n  pc2.addIceCandidate(candidate);\n};\n\npc2.onicecandidate = function(candidate) {\n  pc1.addIceCandidate(candidate);\n};\n\npc1.createOffer(onOfferCreated, onError);\n\nfunction onError(err) {\n  window.alert(err.message);\n}\n\nfunction onOfferCreated(description) {\n  offer = description;\n  pc1.setLocalDescription(offer, onPc1LocalDescriptionSet, onError);\n}\n\nfunction onPc1LocalDescriptionSet() {\n  // after this function returns, pc1 will start firing icecandidate events\n  pc2.setRemoteDescription(offer, onPc2RemoteDescriptionSet, onError);\n}\n\nfunction onPc2RemoteDescriptionSet() {\n  pc2.createAnswer(onAnswerCreated, onError);\n}\n\nfunction onAnswerCreated(description) {\n  answer = description;\n  pc2.setLocalDescription(answer, onPc2LocalDescriptionSet, onError);\n}\n\nfunction onPc2LocalDescriptionSet() {\n  // after this function returns, you'll start getting icecandidate events on pc2\n  pc1.setRemoteDescription(answer, onPc1RemoteDescriptionSet, onError);\n}\n\nfunction onPc1RemoteDescriptionSet() {\n  window.alert('Yay, we finished signaling offers and answers');\n}\n</code></pre>\n\n<p>Since you included a mozPeerConnection in your question, I'll note that Firefox does not currently generate 'trickle candidates'. This means that it will include its candidate addresses as 'c' lines in the offer/answer, and the onicecandidate callback will never be called. </p>\n\n<p>The downside to this approach is that Firefox must wait for all of its candidates to be gathered before creating its offer/answer (a process which can involve contacting STUN and TURN servers and waiting for either the responses or for the requests timeout).</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I'm having trouble understanding webRTC with it's PeerConnection and 'onicecandidate' event. </p>\n\n<p>As far as I understand it you <strong>must</strong> initiate a peerconnection using a STUN (or TURN) server, because it will send you back your ICE candidate for communication with another peer. </p>\n\n<p>I've seen examples leaving the server parameter of the PeerConnection object out, which I don't understand as well, but let's just say it does need the server parameter.</p>\n\n<p>So, when I write down the following code:</p>\n\n<pre><code>    var pc, ice = { \"iceServers\": [{ \"url\": \"stun:stun.l.google.com:19302\" }] };\nif(typeof mozRTCPeerConnection === 'function') {\n\n    pc = new mozRTCPeerConnection(ice);\n}\nelse {\n    console.log('google');\n    pc = new webkitRTCPeerConnection(ice);\n}\n\n\npc.onicecandidate  = function(event) { \n    console.log(event);\n}\n</code></pre>\n\n<p>I expect that the 'onicecandidate' event will fire, but it doesn't work. I tried other public STUN servers as well, but nothing happens. So I assume there is probably something wrong with my comprehension :)</p>\n",
            "last_activity_date": 1364407130,
            "question_id": 15484729,
            "score": 7,
            "tags": [
                "javascript",
                "webrtc",
                "stun"
            ],
            "title": "why doesn&#39;t &quot;onicecandidate&quot; work?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><strong><a href=\"http://jsfiddle.net/jEqEv/1/\" rel=\"nofollow\">jsFiddle Demo</a></strong></p>\n\n<p>Take advantage of the tools available. You can navigate down the DOM from the element you already have stored in pItems. The first image tag, you will alter the src. This will work:</p>\n\n<pre><code>pItems[i].getElementsByTagName(\"img\")[0].src = kissSource;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If I understand you correctly, you want to convert say \":)\" to an emoticon. To do that, you need to parse the text and replace those characters with an img element. So you want to do something like:</p>\n\n<pre><code>&lt;script&gt;\n\nfunction toArray(collection) {\n  var arr = [];\n  for (var i=0, iLen=collection.length; i&lt;iLen; i++) {\n    arr[i] = collection[i];\n  }\n  return arr;\n}\n\nfunction replaceTextWithEmoticon(el) {\n  var re0 = /\\:\\)/g;\n  var emo0 = document.createElement('img');\n  emo0.src = 'https://mail.google.com/mail/e/35D'; \n  var node, txt, frag;\n  var nodes = toArray(el.childNodes);\n\n  for (var i=0, iLen=nodes.length; i&lt;iLen; i++) {\n    node = nodes[i];\n\n    // If it's an element node, process the content\n    if (node.nodeType == 1) {\n      replaceTextWithEmoticon(node);\n\n    // If it's a text node, look for matching text and replace with emoticon\n    } else if (node.nodeType == 3 &amp;&amp; re0.test(node.data)) {\n      txt = node.data.split(re0);\n      frag = document.createDocumentFragment();\n\n      for (var j=0, jLen=txt.length - 1; j&lt;jLen; j++) {\n\n        frag.appendChild(document.createTextNode(txt[j]));\n        frag.appendChild(emo0.cloneNode(false));\n      }\n\n      if (txt[j] &amp;&amp; txt[j].length) {\n        frag.appendChild(document.createTextNode(txt[j]));\n      }\n    }\n    node.parentNode.replaceChild(frag, node);\n  }\n}\n\n&lt;/script&gt;\n\n&lt;p id=\"p0\"&gt;here is a smily:) and another two:):)&lt;/p&gt;\n&lt;button onclick=\"\n  replaceTextWithEmoticon(document.getElementById('p0'));\n\"&gt;Replace with emoticon&lt;/button&gt;\n</code></pre>\n\n<p>The above needs to be modified to deal with multiple different emoticons in each text node, but I think you get the idea.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I'm not sure how to comment on other's posts but if you add a filter to @RobG response it will get you there. (PS: I did submit a code edit suggestion)</p>\n\n<pre><code>....\nvar nodes = toArray(el.childNodes);\n\nif (node.nodeName != \"#text\") //will allow embedded &lt;b&gt; &lt;img&gt; &lt;a&gt; etc to work.\n   continue;\n\nfor (var i=0, iLen=nodes.length; i&lt;iLen; i++) {\n   ....\n\n&lt;p id=\"p0\"&gt;here is a smily:) and &lt;b&gt;another&lt;/b&gt; &lt;a href=\"www.google.com\"&gt;google&lt;/a&gt; two:):) &lt;i&gt;italics&lt;/i&gt;&lt;/p&gt;\n    ....\n</code></pre>\n\n<p>Or if you want to expressly look for certain elements to skip such as <code>&lt;B&gt;</code> or <code>&lt;IMG&gt;</code> or <code>&lt;A&gt;</code> etc.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is the same issue I have to obtain the full review on my Addon (<a href=\"https://addons.mozilla.org/en-US/firefox/addon/imagezone/\" rel=\"nofollow\">ImageZone</a>).</p>\n\n<p>I think is not a good idea for you to use innerHTML, since you will lost all event listeners registered on the targets node. I think you could use a code like this:</p>\n\n<pre><code>var treeWalker = document.createTreeWalker(\n node,\n NodeFilter.SHOW_ALL,\n { acceptNode:function (node) {\n         return node.nodeType == Node.TEXT_NODE ? \n                  NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT;\n }},false);\n\n or just\n\nvar treeWalker = document.createTreeWalker(\n node,\n NodeFilter.SHOW_TEXT,\n { acceptNode:function (node) {return NodeFilter.FILTER_ACCEPT; }},false);\n\n while(treeWalker.nextNode()) {\n     var n=walker.currentNode;\n     var text=n.nodeValue;\n     var a= text.split(/(--- your emoticon regexp code ---))/g);\n     if (a.length &gt; 1){\n         n.insertAfter(document.createTextNode(a[0]));\n         var img=document.createElement(\"img\");\n         switch (a[1]){\n             case '...': img.setAttribute('src','...'); break;\n         } \n         // or img.setAttribute('src',emos_srcs[a[1]]);\n\n         n.insertAfter(img);\n         n.insertAfter(document.createTextNode(a[2]));\n         n.parentNode.removeChild(n);\n     }\n\n }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<h1>Working Solution</h1>\n\n<p>Based on your recent comment to @Giuseppe, and your malformed  styling that you borrowed from my post the only solution would be to avoid recursion or iterating through the text strings looking for matching elements for your regEx.</p>\n\n<ol>\n<li>Apply the regex to your string as you are proposing. </li>\n<li>Once finished build a DOM from that string using a HTMLify string parser</li>\n<li>Replace the node with the new DOM node built from the string.</li>\n</ol>\n\n<p>NB: This is also useful when pulling in AJAX HTML page and you need to parse the HTML results in a temporary DOM object but don't want to merely dump the contents into a the  innerHTML of a newly created element.  Also note that using createDocumentFragment will not be suitable as you cannot navigate a fragment like a DOM tree.</p>\n\n<p>The steps sound hard but there are a few great posts on Stackoverflow which make it easy!<br>\nAfter doing research for you and running into <a href=\"https://developer.mozilla.org/en-US/docs/Code_snippets/HTML_to_DOM#Using_a_hidden_browser_element_to_parse_HTML_to_a_window.27s_DOM\" rel=\"nofollow\">a now obsolete solution</a> and <a href=\"http://stackoverflow.com/questions/2579666/getelementsbytagname-equivalent-for-textnodes\">dom parsers which won't work for you</a> I came across a solution from @rob-w: <a href=\"http://stackoverflow.com/questions/9250545/javascript-domparser-access-innerhtml-and-other-properties/9251106#9251106\">a dom parser</a></p>\n\n<p>Your code would include the DOM parser from @rob-w link plus:</p>\n\n<pre><code>     /* \n      * DOMParser HTML extension \n      * 2012-02-02 \n      * \n      * By Eli Grey, http://eligrey.com \n      * Public domain. \n      * NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK. \n      */\n     /*! @source https://gist.github.com/1129031 */\n     /*global document, DOMParser*/ \n             (function (DOMParser) {\n         \"use strict\";\n         var DOMParser_proto = DOMParser.prototype;\n         var real_parseFromString = DOMParser_proto.parseFromString;\n\n         // Firefox/Opera/IE throw errors on unsupported types  \n         try {\n             // WebKit returns null on unsupported types  \n             if ((new DOMParser).parseFromString(\"\", \"text/html\")) {\n                 // text/html parsing is natively supported  \n                 return;\n             }\n         } catch (ex) {}\n\n         DOMParser_proto.parseFromString = function (markup, type) {\n             if (/^\\s*text\\/html\\s*(?:;|$)/i.test(type)) {\n                 var doc = document.implementation.createHTMLDocument(\"\");\n                 var doc_elt = doc.documentElement;\n                 var first_elt;\n\n                 doc_elt.innerHTML = markup;\n                 first_elt = doc_elt.firstElementChild;\n\n                 if (doc_elt.childElementCount === 1 &amp;&amp; first_elt.localName.toLowerCase() === \"html\") {\n                     doc.replaceChild(first_elt, doc_elt);\n                 }\n\n                 return doc;\n             } else {\n                 return real_parseFromString.apply(this, arguments);\n             }\n         };\n     }(DOMParser));\n\n     autostyle = function (str) {\n         var boldPattern = /(?![^&lt;]*&lt;\\/a&gt;)(^|&lt;.&gt;|[\\s\\W_])\\*(\\S.*?\\S)\\*($|&lt;\\/.&gt;|[\\s\\W_])/g;\n         var italicsPattern = /(?![^&lt;]*&lt;\\/a&gt;)(^|&lt;.&gt;|[\\s\\W])_(\\S.*?\\S)_($|&lt;\\/.&gt;|[\\s\\W])/g;\n         var strikethroughPattern = /(?![^&lt;]*&lt;\\/a&gt;)(^|&lt;.&gt;|[\\s\\W_])-(\\S.*?\\S)-($|&lt;\\/.&gt;|[\\s\\W_])/gi;\n         var underlinePattern = /(?![^&lt;]*&lt;\\/a&gt;)(^|&lt;.&gt;|[\\s\\W_])!(\\S.*?\\S)!($|&lt;\\/.&gt;|[\\s\\W_])/gi;\n         str = str.replace(strikethroughPattern, '$1&lt;s&gt;$2&lt;/s&gt;$3');\n         str = str.replace(italicsPattern, '$1&lt;i&gt;$2&lt;/i&gt;$3');\n         str = str.replace(boldPattern, '$1&lt;b&gt;$2&lt;/b&gt;$3');\n         str = str.replace(underlinePattern, '$1&lt;u&gt;$2&lt;/u&gt;$3');\n         return str;\n     };\n\n     emoticonRegexFunction = function(str) {\n         //do something\n         return str;\n     }\n\n     RegexWithoutInnerHTML = function () {\n         pItems = document.getElementsByTagName('p');\n         for (var k = 0; k &lt; pItems.length; k++) {\n             var str = pItems[k].textContent;\n             str = autostyle(str);\n             str = emoticonRegexFunction(str);\n             var doc = new DOMParser().parseFromString('&lt;p&gt;' + str + '&lt;/p&gt;', 'text/html');\n             pItems[k].parentNode.replaceChild(doc.getElementsByTagName('p')[0], pItems[k]);\n             //       pItems[k].innerHTML = str;  //&lt;-now do not need innerHTML\n         }\n     };\n</code></pre>\n\n<p>Full working example on jsbin at: <a href=\"http://jsbin.com/itiwek/12/edit\" rel=\"nofollow\">http://jsbin.com/itiwek/12/edit</a></p>\n\n<p>Enjoy.</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I'm writing a plugin which will convert emoticons to images in a text block for a particular site.  The easy answer is to use regular expressions to detect the trigger text on the innerHTML and insert the img tag, then pipe the string back to the dom element in the <em>innerHTML</em> part.  The DOM element block may already have anchor <code>&lt;a&gt;</code> and/or text formatting <code>&lt;b&gt;,&lt;i&gt;,&lt;u&gt;</code> in the innerHTML part.</p>\n\n<p>For example </p>\n\n<pre><code>    var textBlock = pItems[i].innerHTML;\n    var kissSource = 'https://mail.google.com/mail/e/35D';\n    textBlock = textBlock.replace(/(^|[^&amp;lt;]|[^&amp;gt;]):\\*/g, \"&lt;img class='emoticon' src='\" + kissSource + \"' /&gt;\");\n --&gt;      pItems[i].innerHTML = textBlock;  //&lt;-can I avoid this to be in compliance with Mozilla addons reqmnts\n</code></pre>\n\n<p>I searched for quite a few hours on how I might convert a DOM (or HTML string) to XML (I know: HTML!=XLM <a href=\"http://stackoverflow.com/questions/5472162/how-to-read-html-as-xml\">How to read HTML as XML?</a> but perhaps a portion of a div?)  which in turn could be converted to JSON who in turn .. could be converted back into a DOM following: \n<a href=\"https://developer.mozilla.org/en-US/docs/XUL/School_tutorial/DOM_Building_and_HTML_Insertion?redirectlocale=en-US&amp;redirectslug=XUL_School%2FDOM_Building_and_HTML_Insertion#JSON_Templating\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/XUL/School_tutorial/DOM_Building_and_HTML_Insertion?redirectlocale=en-US&amp;redirectslug=XUL_School%2FDOM_Building_and_HTML_Insertion#JSON_Templating</a></p>\n\n<p>I do not know jQuery, so please if it is possible with javascript that would be ideal.</p>\n\n<p>Should I be solving this problem without running the regular expression against the innerHTML thus avoiding the problme?</p>\n\n<p>Thanks so much, JennaS</p>\n",
            "last_activity_date": 1363817473,
            "question_id": 15422494,
            "score": 7,
            "tags": [
                "javascript",
                "xml-serialization",
                "firefox-addon"
            ],
            "title": "innerHTML: How To Avoid"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You can't use <code>$.get</code> because that does an ajax call, which will be cross-origin and thus blocked by the <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\">Same Origin Policy</a>, and the Twitter API you're trying to access doesn't support <a href=\"http://www.w3.org/TR/access-control/\">Cross-Origin Resource Sharing</a> (or if it does, it doesn't allow either origin <code>null</code> or <code>http://jsbin.com</code>, which is the one I tried).</p>\n\n<p>The API does support <a href=\"http://en.wikipedia.org/wiki/JSONP#JSONP\">JSONP</a> (which is not a true ajax call), though, so just changing the <code>$.get</code> to an <code>$.ajax</code> specifying <code>JSONP</code> works:</p>\n\n<pre><code>$.ajax({\n  url: url,\n  dataType: \"jsonp\",\n  success: function (data) {\n    console.log(data)\n    alert(data);\n  }\n});\n</code></pre>\n\n<p><a href=\"http://jsbin.com/igivok/1\">Live Example</a> | <a href=\"http://jsbin.com/igivok/1/edit\">Source</a></p>\n",
                    "is_accepted": true,
                    "score": 20
                }
            ],
            "body": "<p>I saw some examples of cross domain with ajax but it doesn't work.</p>\n\n<pre><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"fr\" lang=\"fr\"&gt;\n    &lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n\n    &lt;title&gt;&lt;/title&gt;\n        &lt;script src=\"http://code.jquery.com/jquery-1.9.1.min.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n        &lt;script type=\"text/javascript\" &gt;\n    $(document).ready(function () {\n            var url = \"http://api.twitter.com/1/statuses/user_timeline.json?screen_name=AssasNet&amp;include_rts=1\";\n\n            $.get(url, function (data) {\n        console.log(data)\n        alert(data);\n        });\n        });\n\n        &lt;/script&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I try on chrome and the following error is given:</p>\n\n<pre><code>XMLHttpRequest cannot load http://api.twitter.com/1/statuses/user_timeline.json?screen_name=AssasNet&amp;include_rts=1. Origin null is not allowed by Access-Control-Allow-Origin. \n</code></pre>\n",
            "last_activity_date": 1363114529,
            "question_id": 15369577,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "cross domain jquery get"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I can\u2019t speak to the part of your code that renders the pdf into a canvas, but I do see some problems.</p>\n\n<ul>\n<li><em>Every</em> resetting canvas.width or canvas.height automatically clears the canvas contents.  So in the top section, your clearRect is not needed because the canvas is cleared by canvas.width prior to your every page.render.  </li>\n<li>More importantly, in the bottom section, all your previous pdf drawings are cleared by every canvas resizing (oops!).</li>\n<li>getImageData() gets an <strong>array</strong> where each pixel is represented by 4 consecutive elements of that array (red then green then blue then alpha). Since getImageData() is an array, so it doesn\u2019t have a pages[i].width or pages[i].height\u2014it only has a pages[i].length.  That array length cannot be used to determine widths or heights.</li>\n</ul>\n\n<p>So to get you started, I would start by changing your code to this <strong>(very, very untested!):</strong></p>\n\n<pre><code>var pdf = null;\nPDFJS.disableWorker = true;\nvar pages = new Array();\n//Prepare some things\nvar canvas = document.getElementById('cv');\nvar context = canvas.getContext('2d');\nvar scale = 1.5;\nvar canvasWidth=0;\nvar canvasHeight=0;\nvar pageStarts=new Array();\npageStarts[0]=0;\n\nPDFJS.getDocument(url).then(function getPdfHelloWorld(_pdf) {\n    pdf = _pdf;\n    //Render all the pages on a single canvas\n    for(var i = 1; i &lt;= pdf.numPages; i ++){\n        pdf.getPage(i).then(function getPage(page){\n            var viewport = page.getViewport(scale);\n            // changing canvas.width and/or canvas.height auto-clears the canvas\n            canvas.width = viewport.width;\n            canvas.height = viewport.height;\n            page.render({canvasContext: context, viewport: viewport});\n            pages[i-1] = context.getImageData(0, 0, canvas.width, canvas.height);\n            // calculate the width of the final display canvas\n            if(canvas.width&gt;maxCanvasWidth){\n              maxCanvasWidth=canvas.width;\n            }\n            // calculate the accumulated with of the final display canvas\n            canvasHeight+=canvas.height;\n            // save the \"Y\" starting position of this pages[i]\n            pageStarts[i]=pageStarts[i-1]+canvas.height;\n            p.Out(\"pre-rendered page \" + i);\n        });\n    }\n\n\n    canvas.width=canvasWidth; \n    canvas.height = canvasHeight;  // this auto-clears all canvas contents\n    for(var i = 0; i &lt; pages.length; i++){\n        context.putImageData(pages[i], 0, pageStarts[i]);\n    }\n\n});\n</code></pre>\n\n<p><strong>Alternatively, here\u2019s  a more traditional way of accomplishing your task:</strong></p>\n\n<p>Use a single \u201cdisplay\u201d canvas and allow the user to \u201cpage through\u201d each desired page.</p>\n\n<p>Since you already start by drawing each page into a canvas, why not keep a separate, hidden canvas for each page.  Then when the user wants to see page#6, you just copy the hidden canvas#6 onto your display canvas.</p>\n\n<p>The Mozilla devs use this approach in their pdfJS demo here: <a href=\"http://mozilla.github.com/pdf.js/web/viewer.html\" rel=\"nofollow\">http://mozilla.github.com/pdf.js/web/viewer.html</a></p>\n\n<p>You can check out the code for the viewer here: <a href=\"http://mozilla.github.com/pdf.js/web/viewer.js\" rel=\"nofollow\">http://mozilla.github.com/pdf.js/web/viewer.js</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>This is not an answer, but a whole HTML data such that the information may be more complete. The goal is to use a minimal pdf.js solution to display multiple pdf pages because the <a href=\"https://github.com/mozilla/pdf.js/tree/master/examples/helloworld\" rel=\"nofollow\">helloworld example</a> can render only one page. The following JavasScript is not working, hope that someone may solve the problem.</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=utf-8&gt;\n&lt;!-- Use latest PDF.js build from Github --&gt;\n&lt;script src=https://raw.github.com/mozilla/pdf.js/gh-pages/build/pdf.js&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;canvas id=the-canvas style=\"border:1px solid black\"&gt;&lt;/canvas&gt;\n\n&lt;script&gt;\nvar pdf = null;\nPDFJS.disableWorker = true;\nvar pages = new Array();\nvar canvas = document.getElementById('the-canvas');\nvar context = canvas.getContext('2d');\nvar scale = 1.5;\nvar canvasWidth = 0;\nvar canvasHeight = 0;\nvar pageStarts = new Array();\npageStarts[0] = 0;\nvar url = 'pdfjs.pdf';\n\nPDFJS.getDocument(url).then(function getPdfHelloWorld(_pdf) {\n  pdf = _pdf;\n  //Render all the pages on a single canvas\n  for(var i=1; i&lt;=pdf.numPages; i++) {\n    pdf.getPage(i).then(function getPage(page) {\n      var viewport = page.getViewport(scale);\n      canvas.width = viewport.width;    // changing canvas.width and/or canvas.height auto-clears the canvas\n      canvas.height = viewport.height;\n      page.render({canvasContext:context, viewport:viewport});\n      pages[i-1] = context.getImageData(0, 0, canvas.width, canvas.height);\n      if(canvas.width&gt;canvasWidth) {  // calculate the width of the final display canvas\n        canvasWidth = canvas.width;\n      }\n      canvasHeight += canvas.height;   // calculate the accumulated with of the final display canvas\n      pageStarts[i] = pageStarts[i-1] + canvas.height;    // save the \"Y\" starting position of this pages[i]\n    });\n  }\n  canvas.width = canvasWidth;\n  canvas.height = canvasHeight;  // this auto-clears all canvas contents\n  for(var i=0; i&lt;pages.length; i++) {\n    context.putImageData(pages[i], 0, pageStarts[i]);\n  }\n});\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The PDF operations are asynchronous at all stages. This means you also need to catch the promise at the last render as well. If you not catch it you will only get a blank canvas as the rendering isn't finished before the loop continues to the next page.</p>\n\n<p>Tip: I would also recommend that you use something else than <code>getImageData</code> as this will store uncompressed bitmap, for example the data-uri instead which is compressed data.</p>\n\n<p>Here is a slightly different approach eliminating the for-loop and uses the promises better for this purpose:</p>\n\n<p><strong><a href=\"http://jsfiddle.net/epistemex/LUNaJ/\">LIVE FIDDLE</a></strong> </p>\n\n<pre><code>var canvas = document.createElement('canvas'), // single off-screen canvas\n    ctx = canvas.getContext('2d'),             // to render to\n    pages = [],\n    currentPage = 1,\n    url = 'path/to/document.pdf';              // specify a valid url\n\nPDFJS.getDocument(url).then(iterate);   // load PDF document\n\n/* To avoid too many levels, which easily happen when using chained promises,\n   the function is separated and just referenced in the first promise callback\n*/\n\nfunction iterate(pdf) {\n\n    // init parsing of first page\n    if (currentPage &lt;= pdf.numPages) getPage();\n\n    // main entry point/function for loop\n    function getPage() {\n\n        // when promise is returned do as usual\n        pdf.getPage(currentPage).then(function(page) {\n\n            var scale = 1.5;\n            var viewport = page.getViewport(scale);\n\n            canvas.height = viewport.height;\n            canvas.width = viewport.width;\n\n            var renderContext = {\n                canvasContext: ctx,\n                viewport: viewport\n            };\n\n            // now, tap into the returned promise from render:\n            page.render(renderContext).then(function() {\n\n                // store compressed image data in array\n                pages.push(canvas.toDataURL());\n\n                if (currentPage &lt; pdf.numPages) {\n                    currentPage++;\n                    getPage();        // get next page\n                }\n                else {\n                    done();           // call done() when all pages are parsed\n                }\n            });\n        });\n    }\n\n}\n</code></pre>\n\n<p>When you then need to retrieve a page you simply create an image element and set the data-uri as source:</p>\n\n<pre><code>function drawPage(index, callback) {\n    var img = new Image;\n    img.onload = function() {\n        /* this will draw the image loaded onto canvas at position 0,0\n           at the optional width and height of the canvas.\n           'this' is current image loaded \n        */\n        ctx.drawImage(this, 0, 0, ctx.canvas.width, ctx.canvas.height);\n        callback();          // invoke callback when we're done\n    }\n    img.src = pages[index];  // start loading the data-uri as source\n}\n</code></pre>\n\n<p>Due to the image loading it will be asynchronous in nature as well which is why we need the callback. If you don't want the asynchronous nature then you could also do this step (creating and setting the image element) in the render promise above storing image elements instead of data-uris.</p>\n\n<p>Hope this helps!</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I am trying to read an entire .pdf Document using PDF.js and then render all the pages on a single canvas.</p>\n\n<p>My idea: render each page onto a canvas and get the ImageData (context.getImageData()), clear the canvas do the next page. I store all the ImageDatas in an array and once all pages are in there I want to put all the ImageDatas from the array onto a single canvas.</p>\n\n<pre><code>var pdf = null;\nPDFJS.disableWorker = true;\nvar pages = new Array();\n    //Prepare some things\n    var canvas = document.getElementById('cv');\n    var context = canvas.getContext('2d');\n    var scale = 1.5;\n    PDFJS.getDocument(url).then(function getPdfHelloWorld(_pdf) {\n        pdf = _pdf;\n        //Render all the pages on a single canvas\n        for(var i = 1; i &lt;= pdf.numPages; i ++){\n            pdf.getPage(i).then(function getPage(page){\n                var viewport = page.getViewport(scale);\n                canvas.width = viewport.width;\n                canvas.height = viewport.height;\n                page.render({canvasContext: context, viewport: viewport});\n                pages[i-1] = context.getImageData(0, 0, canvas.width, canvas.height);\n                context.clearRect(0, 0, canvas.width, canvas.height);\n                p.Out(\"pre-rendered page \" + i);\n            });\n        }\n\n    //Now we have all 'dem Pages in \"pages\" and need to render 'em out\n    canvas.height = 0;\n    var start = 0;\n    for(var i = 0; i &lt; pages.length; i++){\n        if(canvas.width &lt; pages[i].width) canvas.width = pages[i].width;\n        canvas.height = canvas.height + pages[i].height;\n        context.putImageData(pages[i], 0, start);\n        start += pages[i].height;\n    }\n    });\n</code></pre>\n\n<p>So from the way I understnad thing this should work, right?\nWhen I run this I end up with the canvas that is big enought to contain all the pages of the pdf but doesn't show the pdf...</p>\n\n<p>Thank you for helping.</p>\n",
            "last_activity_date": 1399388611,
            "question_id": 15341010,
            "score": 7,
            "tags": [
                "javascript",
                "html5-canvas",
                "getimagedata",
                "pdf.js",
                "putimagedata"
            ],
            "title": "Render .pdf to single Canvas using pdf.js and ImageData"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Your idea is mine too. In the tick function you could add additional forces. This is my suggestion (not tested):</p>\n\n<pre><code>force.on('tick', function(e) {\n\n  node\n    .each(calcBorderDistance)\n    .attr('transform', function(d) {\n      d.x -= e.alpha*(1/Math.pow(d.borderDistance.x,2);\n      d.y -= e.alpha*(1/Math.pow(d.borderDistance.y,2);\n      return 'translate(' + d.x + ',' + d.y + ')'; // Move node\n    });\n});\n\nfunction calcBorderdistance(d) {\n  // Insert code here to calculate the distance to the nearest border of your shape\n  var x = ..., y = ...;\n  d.borderDistance = {'x':x,'y':y};\n}\n</code></pre>\n\n<p>I have the inverse quadratic distance to the nearest border function loosely based on the formulas in excelent paper <a href=\"http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.20.5663&amp;rep=rep1&amp;type=pdf\" rel=\"nofollow\">Drawing Graphs Nicely using Simulated Annealing</a>. Following picture illustrates how methods from this paper affect drawing nodes bounded by a box:</p>\n\n<p><img src=\"http://i.stack.imgur.com/dHamb.png\" alt=\"enter image description here\"></p>\n\n<p>And this picture illustrate case with different constraints, involving links between nodes:</p>\n\n<p><img src=\"http://i.stack.imgur.com/xToK9.png\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I was wondering if there is a way to create a force directed layout with d3.js and restrict it by an arbitrary shape in such a way that </p>\n\n<ul>\n<li>all the nodes are equivalently distributed <strong>within</strong> the shape and</li>\n<li>the distance between the border and the nodes is equally to the distance between the nodes</li>\n</ul>\n\n<p>I hope there is already such a solution out there. Otherwise my idea is to start with the force directed layout and check the distances from the nodes to the borders in each iteration. Any suggestions from yourside?</p>\n",
            "last_activity_date": 1390133140,
            "question_id": 15100060,
            "score": 7,
            "tags": [
                "javascript",
                "d3.js",
                "force-layout"
            ],
            "title": "d3.js force directed layout constrained by a shape"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>There doesn't seem to be any History API support detection in the ember source.</p>\n\n<p>So if you set <code>location</code> to <code>history</code>, and there's no support, your routing will probably fail.</p>\n\n<p>If you intend to support old browsers, safest bet is like you said:</p>\n\n<pre><code>if (window.history &amp;&amp; window.history.pushState) {\n    App.Router.reopen({\n      location: 'history'\n    });\n}\n</code></pre>\n\n<h2>UPDATE 23 Jan 2014</h2>\n\n<p>You can now use <code>location:'auto'</code> if you enable <code>ember-routing-auto-location</code> feature in canary.</p>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<p>Ember documentation <a href=\"http://emberjs.com/guides/routing/specifying-the-location-api/\">states</a> that it can be set to use the History API for routing rather than hash-based fragments by using:</p>\n\n<pre><code>App.Router.reopen({\n  location: 'history'\n});\n</code></pre>\n\n<p>But I can find no mention of what will happen if a browser doesn't support the History API. Will it fall back to using a hash like History.js?</p>\n\n<p>If not, should I check for History API support and switch history implementation to hash if it isn't supported?</p>\n",
            "last_activity_date": 1390494774,
            "question_id": 15056877,
            "score": 7,
            "tags": [
                "javascript",
                "ember.js",
                "router",
                "history.js",
                "html5-history"
            ],
            "title": "Does Ember routing fall back to using a hash if browser doesn&#39;t support the History API?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Right, this is a trick that takes advantage of the fact that arguments are an enumerable list. It works on other enumerable lists too (for example nodelists).</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>From the <a href=\"http://es5.github.com/#x15.4.4.10\" rel=\"nofollow\">EcmaScript specification on <code>Array.prototype.slice</code></a>:</p>\n\n<blockquote>\n  <p><em>NOTE</em> The <code>slice</code> function is intentionally generic; it does not require that its <code>this</code> value be an Array object. Therefore it can be transferred to other kinds of objects for use as a method. Whether the <code>slice</code> function can be applied successfully to a host object is implementation-dependent.</p>\n</blockquote>\n\n<p>And so, <code>slice</code> works on every object that has a <code>length</code> property (like <code>Arguments</code> objects). And even for those that do not, it then just returns an empty array.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>Why does applying the slice method to the javascript <code>arguments</code> value as follows <code>Array.prototype.slice.call(arguments)</code> convert it to an array? If slice is used on arrays, and <code>arguments</code> is not an array, then how does this work? Is it just a special case when <code>slice</code> is applied to arguments?</p>\n",
            "last_activity_date": 1358200684,
            "question_id": 14327339,
            "score": 7,
            "tags": [
                "javascript",
                "arrays",
                "arguments",
                "slice"
            ],
            "title": "why does array slice convert javascript arguments to array"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Streetmap and arcserver can solve a vehicle routing problem but it's not free. Read more here: <a href=\"http://www.esri.com/data/streetmap\" rel=\"nofollow\">http://www.esri.com/data/streetmap</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I don't know if Google Static Maps count as a map, but it should, since it's a Map and from Google.\nYou could calculate the route and then show it as an image from Static Maps. No extra map loading times required. Only one image.</p>\n\n<p><a href=\"https://developers.google.com/maps/documentation/staticmaps/#Paths\" rel=\"nofollow\">https://developers.google.com/maps/documentation/staticmaps/#Paths</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Unfortunately for the Distance Matrix API, Google strictly says you NEED to display the map in your application:</p>\n\n<blockquote>\n  <blockquote>\n    <p>Use of the Distance Matrix API must relate to the display of information on a Google Map; for example, to determine origin-destination pairs that fall within a specific driving time from one another, before requesting and displaying those destinations on a map. Use of the service in an application that doesn't display a Google map is prohibited.\n    <a href=\"http://developers.google.com/maps/documentation/distancematrix/#Limits\">http://developers.google.com/maps/documentation/distancematrix/#Limits</a></p>\n  </blockquote>\n</blockquote>\n\n<p>However, what I think is more useful for your need is <a href=\"http://developers.google.com/maps/documentation/directions/\">Google Directions API</a>. The directions API allows you to cover your requirements.</p>\n\n<blockquote>\n  <p>The total distance is returned in the JSON object from the request.</p>\n  \n  <p>You can select upto as many different locations to find distances between using the <a href=\"http://developers.google.com/maps/documentation/directions/#Waypoints\">Waypoints</a> in your search request. The distances between these locations are then returned in each \"<a href=\"http://developers.google.com/maps/documentation/directions/#Legs\">leg</a>\".</p>\n  \n  <p>You can obtain the average distance from multiple different routes to your destination by specifying the <code>alternatives</code> parameter in your search request to <code>true</code>. See: <a href=\"http://developers.google.com/maps/documentation/directions/#RequestParameters\">http://developers.google.com/maps/documentation/directions/#RequestParameters</a></p>\n  \n  <p>Best of all, there is no requirement from Google to display the Google Map in your application when using this service.</p>\n</blockquote>\n\n<p>I should also mention the drawbacks to this service, if you choose to use it.</p>\n\n<ol>\n<li>The request time it takes to process your request will be slightly longer than if you were to use the Distance Matrix API.</li>\n<li>You'll have a lot of unneeded data in the return object, for instance the individual \"steps\" of the route in the returned json object is not necessary based on your application requirements.</li>\n</ol>\n\n<p>Given the drawbacks, I'd still highly recommend looking into the Directions API for your application.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Many developers have been able to do this with the Bing Maps REST routing service <a href=\"http://msdn.microsoft.com/en-us/library/ff701705.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/ff701705.aspx</a>. It requires a bit more development but works well. Here is an example: <a href=\"http://code.msdn.microsoft.com/Bing-Maps-trip-optimizer-c4e037f7\" rel=\"nofollow\">http://code.msdn.microsoft.com/Bing-Maps-trip-optimizer-c4e037f7</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am working on a quote calculator that will generate a quote based on mileage between various locations (amongst other conditionals). Up until two days ago, I had planned to use Google's Distance Matrix service until I discovered:</p>\n\n<blockquote>\n  <p><strong>Display of a Google Map</strong></p>\n  \n  <p>Use of the Distance Matrix service must relate to the display of information on a Google Map; for example, to determine origin-destination pairs that fall within a specific driving time from one another, before requesting and displaying those destinations on a map. Use of the service in an application that doesn't display a Google map is prohibited.</p>\n</blockquote>\n\n<p>I had hoped to use only the services that I require:</p>\n\n<blockquote>\n  <p><strong><em>- Distance by Road Measurement between up to three different locations</em></strong></p>\n  \n  <p><strong><em>- Address Autocomplete Service usable on an input box</em></strong></p>\n  \n  <p><strong><em>- Accurate, reliable service that can provide multiple different routes to create an average distance</em></strong></p>\n</blockquote>\n\n<p>I know there are other methods available for this, but I doubt many can be as accurate and reliable as Google, I've found it challenging to find anything comparable to Google Maps for the purposes I require. </p>\n\n<p>So, unless you guys can point me to something that I can use, my only option is to use a Google Map where I don't need it, adding additional loading time and altering the UX design I had planned.</p>\n\n<p>Are there any free services available for what I require (preferably with a JS API)?</p>\n\n<p><em>On a slightly different note</em></p>\n\n<p>If I do use a Google map, would it have to be displayed immediately, or could I hide it and add an option to 'Show On Map', and have it .slideToggle revealed?</p>\n",
            "last_activity_date": 1410526213,
            "question_id": 13733191,
            "score": 7,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3"
            ],
            "title": "Alternatives to Googles Distance Matrix service?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You need to fiddle with the inner workings of <code>v8</code>.  See: <a href=\"http://code.google.com/p/v8/wiki/JavaScriptStackTraceApi\">the wiki entry about the JavaScript Stack Trace API</a>.</p>\n\n<p>I've based a little test on some code in <a href=\"https://github.com/joyent/node/commit/007b7181e307a8d52970947d2b6432a2addd9ef0\">a proposed commit</a> and it seems to work.  You end up with an absolute path.</p>\n\n<pre><code>// omfg.js\n\nmodule.exports = omfg\n\nfunction omfg() {\n  var caller = getCaller()\n  console.log(caller.filename)\n}\n\n// private\n\nfunction getCaller() {\n  var stack = getStack()\n\n  // Remove superfluous function calls on stack\n  stack.shift() // getCaller --&gt; getStack\n  stack.shift() // omfg --&gt; getCaller\n\n  // Return caller's caller\n  return stack[1].receiver\n}\n\nfunction getStack() {\n  // Save original Error.prepareStackTrace\n  var origPrepareStackTrace = Error.prepareStackTrace\n\n  // Override with function that just returns `stack`\n  Error.prepareStackTrace = function (_, stack) {\n    return stack\n  }\n\n  // Create a new `Error`, which automatically gets `stack`\n  var err = new Error()\n\n  // Evaluate `err.stack`, which calls our new `Error.prepareStackTrace`\n  var stack = err.stack\n\n  // Restore original `Error.prepareStackTrace`\n  Error.prepareStackTrace = origPrepareStackTrace\n\n  // Remove superfluous function call on stack\n  stack.shift() // getStack --&gt; Error\n\n  return stack\n}\n</code></pre>\n\n<p>And a test that includes <code>omfg</code> module:</p>\n\n<pre><code>#!/usr/bin/env node\n// test.js\n\nvar omfg = require(\"./omfg\")\n\nomfg()\n</code></pre>\n\n<p>And you will get on the console the absolute path of <code>test.js</code>.</p>\n\n<hr>\n\n<p><strong>EXPLANATION</strong></p>\n\n<p>This is not so much a \"node.js\" issue as it is a \"v8\" issue.</p>\n\n<p>See: <a href=\"http://code.google.com/p/v8/wiki/JavaScriptStackTraceApi#Stack_trace_collection_for_custom_exceptions\">Stack Trace Collection for Custom Exceptions</a></p>\n\n<p><a href=\"https://github.com/joyent/node/blob/c3ca783525c3de368572a12e627e56090e49f594/deps/v8/src/messages.js#L1112\"><code>Error.captureStackTrace(error, constructorOpt)</code></a> adds to the <code>error</code> parameter a <code>stack</code> property, which evaluates by default to a <code>String</code> (by way of <a href=\"https://github.com/joyent/node/blob/c3ca783525c3de368572a12e627e56090e49f594/deps/v8/src/messages.js#L1052\"><code>FormatStackTrace</code></a>).  If <code>Error.prepareStackTrace(error, structuredStackTrace)</code> is a <code>Function</code>, then it is called instead of <code>FormatStackTrace</code>.</p>\n\n<p>So, we can override <code>Error.prepareStackTrace</code> with our own function that will return whatever we want--in this case, just the <code>structuredStackTrace</code> parameter.</p>\n\n<p>Then, <code>structuredStackTrace[1].receiver</code> is an object representing the caller.</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>Or instead of fiddling with inner workings of the V8 engine, you use module.parent.filename to get absolute path to the module that required your module. As demonstrated here: <a href=\"https://gist.github.com/capaj/a9ba9d313b79f1dcd9a2\" rel=\"nofollow\">https://gist.github.com/capaj/a9ba9d313b79f1dcd9a2</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Here is some sample code from three files:</p>\n\n<pre><code>// foo.js\nvar myFunc = require(\"./myFunc\");\nfunction foo(){\n   myFunc(\"message\");\n}\n\n// bar.js\nvar myFunc = require(\"./myFunc\");\nfunction bar(){\n   myFunc(\"message\");\n}\n\n// myFunc.js\nmodule.exports = myFunc;\nfunction myFunc(arg1){\n   console.log(arg1);\n   // Here I need the file path of the caller function\n   // For example, \"/path/to/foo.js\" and \"/path/to/bar.js\"\n}\n</code></pre>\n\n<p>I need to get the file path of the caller function dynamically, without any extra argument passing, for <code>myFunc</code>.</p>\n",
            "last_activity_date": 1415751626,
            "question_id": 13227489,
            "score": 7,
            "tags": [
                "javascript",
                "node.js"
            ],
            "title": "How can one get the file path of the caller function in node.js?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>There are a few ways, some more advanced than others, but in your case ng-hide does the trick.  See <a href=\"http://jsfiddle.net/roytruelove/g75XQ/3/\" rel=\"nofollow\">http://jsfiddle.net/roytruelove/g75XQ/3/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can deffer init of angular app using manual initialization, instead of auto init with <code>ng-app</code> attribute.</p>\n\n<pre><code>angular.element(document).ready(function() {\n       callService(function () {\n          angular.bootstrap(document);\n       });\n   });\n</code></pre>\n\n<p>where <code>callService</code> is your function performing ajax call and accepting success callback, which will init angular app.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>As I said in the comments, it would be a lot easier to handle an unloaded state in your controller, you can benefit from $q to make this very straightforward: \n<a href=\"http://jsfiddle.net/g/g75XQ/4/\" rel=\"nofollow\">http://jsfiddle.net/g/g75XQ/4/</a></p>\n\n<p>if you want to make something in the controller when user is loaded: <a href=\"http://jsfiddle.net/g/g75XQ/6/\" rel=\"nofollow\">http://jsfiddle.net/g/g75XQ/6/</a></p>\n\n<p>EDIT: To delay the route change until some data is loaded, look at this answer: <a href=\"http://stackoverflow.com/questions/11972026/delaying-angularjs-route-change-until-model-loaded-to-prevent-flicker\">Delaying AngularJS route change until model loaded to prevent flicker</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>even better than manually bootstrapping (which is not always a bad idea either).</p>\n\n<p>angular.module('myApp', ['app.services'])\n   .run(function(myservice) {\n      //stuff here.\n   });</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The correct way to achieve that is using resolve property on routes definition:\nsee <a href=\"http://docs.angularjs.org/api/ngRoute.%24routeProvider\" rel=\"nofollow\">http://docs.angularjs.org/api/ngRoute.$routeProvider</a></p>\n\n<p>then create and return a promise using the $q service; also use $http to make the request and on response, resolve the promise.</p>\n\n<p>That way, when route is resolved and controller is loaded, the result of the promise will be already available and not flickering will happen.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>My problem is that i need a service loaded before the controller get called and the template get rendered.\n<a href=\"http://jsfiddle.net/g75XQ/2/\">http://jsfiddle.net/g75XQ/2/</a></p>\n\n<p><strong>Html:</strong></p>\n\n<pre><code>&lt;div ng-app=\"app\" ng-controller=\"root\"&gt;\n    &lt;h3&gt;Do not render this before user has loaded&lt;/h3&gt;            \n    {{user}}\n&lt;/div&gt;\n\u200b\n</code></pre>\n\n<p><strong>JavaScript:</strong></p>\n\n<pre><code>angular.module('app', []).\nfactory('user',function($timeout,$q){\n    var user = {};            \n    $timeout(function(){//Simulate a request\n        user.name = \"Jossi\";\n    },1000);\n    return user;\n}).\ncontroller('root',function($scope,user){\n\n    alert(\"Do not alert before user has loaded\");\n    $scope.user = user;\n\n});\n\u200b\n</code></pre>\n\n<p>\u200b</p>\n",
            "last_activity_date": 1378738669,
            "question_id": 12657389,
            "score": 7,
            "tags": [
                "javascript",
                "synchronization",
                "sync",
                "angularjs"
            ],
            "title": "AngularJS load service then call controller and render"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>As you know, \"AMD\" (Asynchronous Module Definition (AMD)) is a specific API.  There are many AMD-compatible \"loaders\", including RequireJS, curl.js and Dojo (among others).</p>\n\n<p>Just as frameworks like JQuery and Dojo give you an API over raw Javascript; a program that uses AMD:</p>\n\n<p>1) requires you an AMD-compatible .js library, </p>\n\n<p>2) demands certain programming \"rules\" and \"conventions\", and</p>\n\n<p>3) Ultimately sits \"on top\" of Javascript, which runs on your \"Javascript engine\" (be it IE, Chrome, Firefox - whatever).</p>\n\n<p>Here are a couple of links I found useful:</p>\n\n<ul>\n<li><p><a href=\"https://www.ibm.com/developerworks/mydeveloperworks/blogs/94e7fded-7162-445e-8ceb-97a2140866a9/entry/loading_jquery_with_dojo_1_7_amd_loader2?lang=en\">https://www.ibm.com/developerworks/mydeveloperworks/blogs/94e7fded-7162-445e-8ceb-97a2140866a9/entry/loading_jquery_with_dojo_1_7_amd_loader2?lang=en</a></p></li>\n<li><p><a href=\"http://dojotoolkit.org/reference-guide/1.8/loader/amd.html\">http://dojotoolkit.org/reference-guide/1.8/loader/amd.html</a></p></li>\n<li><p><a href=\"http://blog.millermedeiros.com/amd-is-better-for-the-web-than-commonjs-modules/\">http://blog.millermedeiros.com/amd-is-better-for-the-web-than-commonjs-modules/</a></p></li>\n<li><p><a href=\"http://addyosmani.com/writing-modular-js/\">http://addyosmani.com/writing-modular-js/</a></p></li>\n</ul>\n\n<p>PS:\nTo answer your immediate question, the latter link has a bit of discussion about \"require()\" and \"dynamically_loaded dependencies\".  </p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>This might be helpful, though it explains using Curl: <a href=\"http://davidwalsh.name/curljs\" rel=\"nofollow\">http://davidwalsh.name/curljs</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>So I've been using require.js for while now, but I realized that I actually don't know how it works under the hood. It says that it's an AMD loader. </p>\n\n<p>I do understand that CommonJS is synchronous, which means that it blocks execution of other codes while it's being loaded. On the other hand, AMD is asynchronous. This is where I get confused.</p>\n\n<p>When I define a module, it has to load a,b,c in order to execute the callback. How does asynchronous work here? </p>\n\n<ol>\n<li>Isn't it synchronous when it has to load those three dependencies first?</li>\n<li>Does it mean that AMD loads a,b,c asynchronously then checks to see if those files are loaded (doesn't care about the order) then execute the callback?</li>\n</ol>\n\n\n\n<pre><code>define(\"name\",[\"a\",\"b\",\"c\"], function(a,b,c){\n\n});\n</code></pre>\n",
            "last_activity_date": 1402368835,
            "question_id": 12117935,
            "score": 7,
            "tags": [
                "javascript",
                "amd"
            ],
            "title": "How do AMD loaders work under the hood?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>try this:</p>\n\n<pre><code>function CDList(){\n    List.call( this )\n    this.Add = function(Artist){\n        this.Items.push(Artist)\n    }\n}\n</code></pre>\n\n<p>you need to call the superconstructor...</p>\n\n<p>I like <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Inheritance_Revisited\" rel=\"nofollow\">this article of the mdn network about javascript inheritance</a>. I tried this method/technique and it works very fine in all browsers I tested (Chrome, Safari, IE8+, FF)..</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>There is only one Array because you only create one. This array is attached to the prototype of \"CDList\" and therefore shared between all instances.</p>\n\n<p>To solve this problem: don't attach it to the prototype, but to the instance. This can only be done at construction time:</p>\n\n<pre><code>// This is the constructor of the parent class!\nfunction List() {\n    this.Items = new Array();\n}\n\n// Add methods to the prototype, not to the instance (\"this\")\nList.prototype.Add = function() { alert('please implement in object'); };\n\n// Constructor of the child\nfunction CDList() {\n    List.call(this); // &lt;-- \"super();\" equivalent = call the parent constructor\n}\n\n// \"extends\" equivalent = Set up the prototype chain\n// Create a new, temporary function that has no other purpose than to create a\n// new object which can be used as the prototype for \"CDList\". You don't want to\n// call \"new List();\", because List is the constructor and should be called on\n// construction time only. Linking the prototypes directly does not work either,\n// since this would mean that overwriting a method in a child overwrites the\n// method in the parents prototype = in all child classes.\nvar ctor = function() {};\nctor.prototype = List.prototype;\nCDList.prototype = new ctor();\nCDList.prototype.constructor = CDList;\n\n// Overwrite actions\nCDList.prototype.Add = function(Artist) {\n    this.Items.push(Artist);\n};\n</code></pre>\n\n<p>Demo: <a href=\"http://jsfiddle.net/9xY2Y/1/\">http://jsfiddle.net/9xY2Y/1/</a></p>\n\n<hr>\n\n<p>The general concept is: Stuff that each instance must have its own copy of (like the \"Items\" array in this case) must be created and attached to \"this\" (= the instance) at construction time, i.e. when doing <code>new List()</code> or <code>new CDList()</code>. Everything that can be shared across instances can be attached to the prototype. This essentially means that properties like the \"Add\" function are created exactly one time and are then used by all instances (what caused the original issue).</p>\n\n<p>When linking prototypes, you must not directly link them (usually), e.g.:</p>\n\n<pre><code>CDList.prototype = List.prototype;\nDVDList.prototype = List.prototype;\n\n// Now add a new function to \"CDList\"\nCDList.prototype.Foo = function() {\u00a0alert('Hi'); };\n</code></pre>\n\n<p>Because the prototypes of the three functions \"List\", \"CDList\" and \"DVDList\" got directly linked to each other, they all point to one prototype object, and that is <code>List.prototype</code>. So, if you add something to <code>CDList.prototype</code> you actually add it to <code>List.prototype</code> - which also is the prototype of \"DVDList\".</p>\n\n<pre><code>var dvd = new DVDList();\ndvd.Foo(); // &lt;-- alerts \"hi\" (oops, that wasn't intended...)\n</code></pre>\n\n<p>What does the trick is to link the prototype to a new instance of the parent class:</p>\n\n<pre><code>CDList.prototype = new List();\n</code></pre>\n\n<p>This creates a new object of type \"List()\" with the special feature that the prototype of the function \"List()\" is linked to the new object, enabling you to call properties of the prototype directly on the object:</p>\n\n<pre><code>var l = new List();\nalert( l.hasOwnProperty(\"Add\") );  // &lt;-- yields \"false\" - the object l has no\n                                   // property \"Add\"\nl.Add(\"foo\"); // &lt;-- works, because the prototype of \"List\" has a property \"Add\"\n</code></pre>\n\n<p>However, remember that we intended to use the body of the function \"List()\" to create stuff like this array \"Items\" on a per-instance basis? It is the place where you put any \"constructor\" code, e.g.</p>\n\n<pre><code>function User(userId) {\n    $.getJSON('/user/' + userId, ...\n}\n\nfunction Admin() {}\nAdmin.prototype = new User( // ... now what?\n</code></pre>\n\n<p>One very clean solution is to use another function to create a prototype-object:</p>\n\n<pre><code>var ctor = function() {}; // &lt;-- does nothing, so its super safe\n                          // to do \"new ctor();\"\n</code></pre>\n\n<p>It is now okay to directly link the prototypes, because we will never add anything to <code>ctor.prototype</code>:</p>\n\n<pre><code>ctor.prototype = List.prototype;\n</code></pre>\n\n<p>If we then do:</p>\n\n<pre><code>CDList.prototype = new ctor();\n</code></pre>\n\n<p>the prototype of \"CDList()\" becomes a new object of type \"ctor\", that has no own properties  but can be extended, e.g. by a new \"Add\" function:</p>\n\n<pre><code>CDList.prototype.Add = function() { /* CD specific code! */ };\n</code></pre>\n\n<p>However, if you do not add an \"Add\" property to this new prototype object, the prototype of \"ctor()\" kicks in - which is the prototype of \"List()\". And that's the desired behavior.</p>\n\n<p>Also, the code in \"List()\" is now only executed whenever you do <code>new List()</code> or when you call it directly from another function (in a child class via <code>List.call(this);</code>).</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I'm trying to have a generic 'List' class, which will have:</p>\n\n<ul>\n<li>Property:  Items - which would be an array of 'what-ever'</li>\n<li>Method: Add() - which would be abstract and implemented by the specific 'List' object</li>\n<li>Method: Count() - which returns the number of 'items'</li>\n</ul>\n\n<p>and then create sub-classes which will inherit from 'List'</p>\n\n<pre><code>//Class 'List'\nfunction List(){\n    this.Items = new Array();\n    this.Add = function(){ alert('please implement in object') }\n}\n\n//Class CDList - which inherits from 'List'\nfunction CDList(){\n    this.Add = function(Artist){\n        this.Items.push(Artist)\n    }\n}\nCDList.prototype = new List();\nCDList.prototype.constructor = CDList;\n\n//Create a new CDList object\nvar myDiscs = new CDList();\nmyDiscs.Add('Jackson');\nmyDiscs.Count()  &lt;-- this should be 1\n\n\n//Create a second CDList object\nvar myDiscs2 = new CDList();\nmyDiscs2.Add('Walt');\nmyDiscs2.Add('Disney');\nmyDiscs2.Count()  &lt;-- this should be 2\n</code></pre>\n\n<p>..but this seems to create a shared 'Items' list for all 'CDList' instances. I need to somehow have a new inherited instance of the 'Items' list for each 'CDList' instance.</p>\n\n<p>How can I do this ?</p>\n\n<p>*I'm using in this example the 'Items' list as an example. I'd like to be able to have in my sub-classes a new instance for any type of inherited property - not necessarily an Array object.</p>\n\n<p>Thanks in adv guys!</p>\n",
            "last_activity_date": 1345411123,
            "question_id": 12027282,
            "score": 7,
            "tags": [
                "javascript",
                "inheritance",
                "properties"
            ],
            "title": "Javascript property inheritance"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Because <code>keyup</code> happens when any key is released on your keyboard, that's what fires the event.  Chrome just triggers this event when a document doesn't have focus, apparently, when using a snippet.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You could filter for the keycode ...if that helps...13 is enter key</p>\n\n<pre><code>$(document).on('keyup', function(event){\n  if( parseInt(event.keyCode,10) !== 13 ){\n      alert(\"Hey\");\n  } \n});\u200b\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This happens because once you hit enter in the omnibox, the focus turns to the page. If you tried the same thing with <code>onkeydown</code>, the omnibox would change nothing, because as you said, it isn't a part of the document. One way to filter the omnibox's false event out would be to check that every <code>keyup</code> has a pair keydown.</p>\n\n<pre><code>&lt;script&gt;\nvar down = false;\ndocument.addEventListener('keydown', function (){\n    down = true;\n}, false);\n\ndocument.addEventListener('keyup', function (){\n    if(down === true){\n        alert('It was from the page!');\n    }\n    else{\n        alert('Omnibox. Ignore it.');\n    }\n    down = false;\n}, false);\n\n&lt;/script&gt;\n</code></pre>\n\n<p><strike><a href=\"http://pastehtml.com/raw/c9d7kwd2j.html#typeHereAndHitEnter\" rel=\"nofollow\">Demo.</a></p>\n\n<p>Make your own HTML page and try it preferably, because PasteHTML.com stuffs it into an iframe. For it to work correctly there, click on the text first to give the iframe focus.</strike></p>\n\n<p><a href=\"http://dl.dropbox.com/u/32930499/chromeOmniEnter.html#TypeHereAndHitEnter\" rel=\"nofollow\">Demo.</a>\nRemember to use your mouse to focus on the omnibox and type, not a keyboard shortcut. (That fires the onkeydown event, creating a false positive)</p>\n\n<p><strong>Update:</strong> As of Chrome 35, this doesn't happen anymore. I don't know which version they fixed it on, however.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>The solution for Chrome is simple: use <code>keypress</code> instead of <code>keyup</code>. This doesn't work in all cases (IE), so you may have to add a conditional to switch the type depending on the browser. However, this will solve your issue.</p>\n\n<p>Note that looking for a specific keycode may negate your issue. Good luck.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>A possible solution is to slightly delay the \"keyup\" event handler registration. This will skip the first \"spurious\" trigger that seems to happen in Chrome and Safari.</p>\n\n<pre><code>$(function() {\n    setTimeout(\n        function() {\n            console.log(\"Delayed event attachment\");\n            $(document).bind('keyup', log);\n        }, 10);\n});\n\nfunction log(e) {\n    console.log(e.target.localName);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In chrome browser, when using this snippet:</p>\n\n<pre><code>  $(document).on('keyup', function(){\n    alert(\"Hey\");\n  });\n</code></pre>\n\n<p>Every time I press <code>enter</code> in the url bar (for example when I cut and paste the url of the page itself) the event listener fires.\nWhy does it happen?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>It surprised me because url bar is not in <code>document</code> (maybe in <code>window</code>?) and firefox does not have this behaviour. When I look for <code>e.target</code>, Chrome Inspector shows <code>body</code>.</p>\n\n<p>I thought this could be caused by event bubbling so I tried this:</p>\n\n<pre><code>  $(document).on('keyup', function(e){\n    e.stopPropagation();\n    alert(\"Hey\");\n  });\n</code></pre>\n\n<p>But it doesn't work.\nHow can I prevent it from being triggered?</p>\n",
            "last_activity_date": 1396535088,
            "question_id": 11991062,
            "score": 7,
            "tags": [
                "javascript",
                "google-chrome",
                "jquery"
            ],
            "title": "Keyup event listener fires when enter is pressed on Chrome&#39;s Ominbox"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>insert the script dynamically via <code>document.createElement('script')</code>, then when you set the URL, you can use <code>new Date().getTime()</code> to append the extra parameter.</p>\n\n<p>if you are worried about your javascript executing before the script is loaded, you can use the <code>onload</code> callback of the script element (note that there are a few hoops to jump for IE though)`</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Load scripts manually or with jQuery <a href=\"http://api.jquery.com/jQuery.getScript/\" rel=\"nofollow\">http://api.jquery.com/jQuery.getScript/</a>. It also provides option to prevent chaching</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>&lt;script type=\"text/javascript\"&gt;\n(function(){ \n     var randomh=Math.random();\n     var e = document.getElementsByTagName(\"script\")[0];\n     var d = document.createElement(\"script\");\n     d.src = \"//site.com/js.js?x=\"+randomh+\"\";\n     d.type = \"text/javascript\"; \n     d.async = true;\n     d.defer = true;\n     e.parentNode.insertBefore(d,e);\n })();\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You can replace the source of the script doing this with pure Javascript</p>\n\n<pre><code>// get first script\nvar script = document.getElementsByTagName('script')[0]\nvar new = document.createElement(\"script\");\n// add the source with a timestamp\nnew.src = 'yoursource.js?' + new Date.getTime().toString();\nnew.type = 'text/javascript'\nscript.parentNode.insertBefore(new,script);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you can't user server side code then you can use getScript method to do the same.</p>\n\n<pre><code>$(document).ready(function(){\n  var randomNum = Math.ceil(Math.random() * 999999);\n  var jsfile = 'scripts/yourfile.js?v=' + randomNum;\n  $.getScript(jsfile, function(data, textStatus, jqxhr) { });\n});\n</code></pre>\n\n<p>Reference URL: <a href=\"http://api.jquery.com/jQuery.getScript/\" rel=\"nofollow\">http://api.jquery.com/jQuery.getScript/</a></p>\n\n<p>(Please don't forget to mark as answer.)</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I want to append a random number or a timestamp at the end of the javascript file source path in  so that every time the page reloads it should download a fresh copy.</p>\n\n<p>it should be like</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"/js/1.js?v=1234455\"/&gt;\n</code></pre>\n\n<p>How can i generate and append this number? This is a simple HTML page, so cant use any PHP or JSP related code</p>\n",
            "last_activity_date": 1342179345,
            "question_id": 11467873,
            "score": 7,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "How to append timestamp to the java script file in &lt;script&gt; tag url to avoid caching"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Inside an IFrame the browser automatically renders the website page as if it were in a separate page, it behaves in the same manner as if for example you resized the browser... the web page will be displayed as it was designed whether that is a fluid design on fixed dimensions or whatever... you cannot force a different rendering behavior on the site. You could however programmatically modify the page's markup.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>What you can do is set specific width and height to your iframe (for example these could be equal to your window dimensions) and then applying a scale transformation to it. The scale value will be the ratio between your window width and the dimension you wanted to set to your iframe.</p>\n\n<p>E.g.</p>\n\n<pre><code>&lt;iframe width=\"1024\" height=\"768\" src=\"http://www.bbc.com\" style=\"-webkit-transform:scale(0.5);-moz-transform-scale(0.5);\"&gt;&lt;/iframe&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>On mobile browsers, this is done using media queries to change the CSS for different screen sizes. The same thing will work in desktop browsers, so long as you don't still care about old versions IE. The following example hides a side bar when you window or iFrame is under 600px wide.</p>\n\n<pre><code>@media (max-width: 600px) {\n  .facet_sidebar {\n    display: none;\n  }\n}\n</code></pre>\n\n<p>More details can be found at this link.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Media_queries\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Media_queries</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Tip for 1 website resizing the height. But you can change to 2 websites.</p>\n\n<p>Here is my code to resize an iframe with an external website. You need insert a code into the parent (with iframe code) page and in the external website as well, so, this won't work with you don't have access to edit the external website.</p>\n\n<ul>\n<li>local (iframe) page: just insert a code snippet</li>\n<li>remote (external) page: you need a \"body onload\" and a \"div\" that holds all contents. And body needs to be styled to \"margin:0\"</li>\n</ul>\n\n<p>Local:</p>\n\n<pre><code>&lt;IFRAME STYLE=\"width:100%;height:1px\" SRC=\"http://www.remote-site.com/\" FRAMEBORDER=\"no\" BORDER=\"0\" SCROLLING=\"no\" ID=\"estframe\"&gt;&lt;/IFRAME&gt;\n\n&lt;SCRIPT&gt;\nvar eventMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\";\nvar eventer = window[eventMethod];\nvar messageEvent = eventMethod == \"attachEvent\" ? \"onmessage\" : \"message\";\neventer(messageEvent,function(e) {\n  if (e.data.substring(0,3)=='frm') document.getElementById('estframe').style.height = e.data.substring(3) + 'px';\n},false);\n&lt;/SCRIPT&gt;\n</code></pre>\n\n<p>You need this \"frm\" prefix to avoid problems with other embeded codes like Twitter or Facebook plugins. If you have a plain page, you can remove the \"if\" and the \"frm\" prefix on both pages (script and onload).</p>\n\n<p>Remote:</p>\n\n<p>You need jQuery to accomplish about \"real\" page height. I cannot realize how to do with pure JavaScript since you'll have problem when resize the height down (higher to lower height) using body.scrollHeight or related. For some reason, it will return always the biggest height (pre-redimensioned).</p>\n\n<pre><code>&lt;BODY onload=\"parent.postMessage('frm'+$('#master').height(),'*')\" STYLE=\"margin:0\"&gt;\n&lt;SCRIPT SRC=\"path-to-jquery/jquery.min.js\"&gt;&lt;/SCRIPT&gt;\n&lt;DIV ID=\"master\"&gt;\nyour content\n&lt;/DIV&gt;\n</code></pre>\n\n<p>So, parent page (iframe) has a 1px default height. The script inserts a \"wait for message/event\" from the iframe. When a message (post message) is received and the first 3 chars are \"frm\" (to avoid the mentioned problem), will get the number from 4th position and set the iframe height (style), including 'px' unit.</p>\n\n<p>The external site (loaded in the iframe) will \"send a message\" to the parent (opener) with the \"frm\" and the height of the main div (in this case id \"master\"). The \"*\" in postmessage means \"any source\".</p>\n\n<p>Hope this helps. Sorry for my english.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a webpage with 2 iFrames in it. Both of them are with fixed width and height. I am loading external websites inside them. How can I resize those external websites width to fit with the iFrame (like mobile browsers does by changing viewport)?</p>\n",
            "last_activity_date": 1400094966,
            "question_id": 11382473,
            "score": 7,
            "tags": [
                "javascript",
                "html",
                "css",
                "iframe",
                "web"
            ],
            "title": "Resize external website content to fit iFrame width"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Totally untested code, but did you tried something like this?</p>\n\n<pre><code>function drawbackground(canvas, context, onload){\n\n    var imagePaper = new Image();\n\n\n        imagePaper.onload = function(){\n\n\n            context.drawImage(imagePaper,100, 20, 500,500);\n            onload(canvas, context);\n        };\n\n      imagePaper.src = \"images/main_timerand3papers.png\";\n}\n</code></pre>\n\n<p>and then call the method like this...</p>\n\n<pre><code> drawbackground(canvas, context, drawlines);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>Change your image onload to something like this:</p>\n\n<pre><code>imagePaper.onload = function () {\n    context.drawImage( imagePaper, 100, 20, 500, 500 );\n    drawLines( canvas, context );\n};\n</code></pre>\n\n<p>Then make sure you remove the earlier call to <code>drawLines</code>.</p>\n\n<p>The important take away to this solution, is that the <code>onload</code> function will be executed sometime in the future, whereas the drawLines function is executed immediately. You must always be careful of how you structure your callbacks, especially when nesting them.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>To be more efficient, assuming you are going to be doing multiple redraws of this line or lines, would be to set the CSS <code>background-image</code> of the canvas to be your image.</p>\n\n<pre><code>&lt;canvas style=\"background-image:url('images/main_timerand3papers.png');\"&gt;&lt;/canvas&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Or you can try this: </p>\n\n<pre><code>drawbackground(canvas, context);\ncontext.globalCompositeOperation = 'destination-atop';\ndrawlines(canvas, context);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am trying to draw a line on top of an image background - in an HTML5 Canvas .\nHowever always the line gets drawn behind the image . Actually the line gets drawn first and then the pictures get drawn - irrespective of how I call the functions. </p>\n\n<p>How do I bring the line to the top of the image ? </p>\n\n<pre><code>var canvas = document.getElementById(\"myCanvas\");\n        var context = canvas.getContext(\"2d\");\n            context.clearRect(0, 0, canvas.width, canvas.height);\ndrawbackground(canvas, context); \ndrawlines(canvas, context); \n\n\nfunction drawbackground(canvas, context){\n\n    var imagePaper = new Image();\n\n\n        imagePaper.onload = function(){\n\n\n            context.drawImage(imagePaper,100, 20, 500,500);\n        };\n\n      imagePaper.src = \"images/main_timerand3papers.png\";\n}\n\n\n\nfunction drawlines(canvas, context){\n\n\n            context.beginPath();\n            context.moveTo(188, 130);\n            context.bezierCurveTo(140, 10, 388, 10, 388, 170);\n            context.lineWidth = 10;\n            // line color\n            context.strokeStyle = \"black\";\n            context.stroke();\n}\n</code></pre>\n",
            "last_activity_date": 1412134271,
            "question_id": 10623678,
            "score": 7,
            "tags": [
                "javascript",
                "html5",
                "animation",
                "canvas",
                "html5-canvas"
            ],
            "title": "HTML5 Canvas - How to Draw a line over an image background?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The circular reference problem happens in some browsers when you put a reference to a DOM object on a DOM object as a property on that DOM object.  Then, you have two DOM objects pointing at each other.  Removing a DOM object with a custom property on it doesn't clear that custom property.  A garbage collector that isn't that smart doesn't realize that this DOM reference doesn't count so it gets stuck and there are several ways that this can lead to leaks.</p>\n\n<p><code>.data()</code> solves this problem because the <code>.data()</code> data is NOT on the DOM object.  It's just a javascript data structure that can be associated with the DOM object via a unique string ID.</p>\n\n<p>The one confusing part of this is that when you read with <code>.data(\"key\")</code> and the <code>key</code> isn't found in the javascript <code>.data()</code> data structure, then and only then, jQuery will look for an attribute on the DOM object called <code>\"data-key\"</code>.  But whenever you write with <code>.data(\"key\", \"myData\")</code>, it never writes to the DOM object, only to the javascript data structure.</p>\n\n<p>Thus, since <code>.data()</code> never writes the data to the DOM object, there can't be any of these types of circular references that some browsers have trouble with.</p>\n\n<p>There are some other useful things to know about the <code>.data()</code> data structure.  When you use jQuery's <code>.remove()</code> to remove elements from the DOM or when you call <code>$(elem).html(\"new html\")</code>, jQuery clears the <code>.data()</code> data on any removed items.  This is one case where it's good not to mix jQuery with plain javascript.  If you're using <code>.data()</code>, then you should always remove items from the DOM using jQuery functions so <code>.data()</code> is cleaned up appropriately.  Otherwise, you can get memory leaks this way (both the <code>.data()</code> data can leak and any removed DOM objects that are referenced in the <code>.data()</code> can leak.  But, if you only use jQuery methods for removing items from the DOM (including the replacing of innerHTML), then jQuery will clean things up appropriately and there will be no leaks.</p>\n\n<p>A fairly simple way to see how it works is to create a couple line script with a non-minimized version of jQuery and then just step through a call to <code>$(elem).data(\"key\", \"whatever\")</code> in the debugger and watch how it works.</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I have read an <a href=\"http://stackoverflow.com/a/2744432/575527\"><em>why it's better</em></a> and <a href=\"http://stackoverflow.com/a/2744417/575527\"><em>how it's implemented</em></a>. But what i don't really understand is <strong><em>how does it break the circular reference?</em></strong>.</p>\n\n<p>how does it break the reference circle?</p>\n\n<pre><code>$(div1).data('item', div2);\n$(div2).data('item', div1);\n</code></pre>\n\n<p>like example, the divs above point to each other, how is it prevented? I have a hunch, but i just want to make sure if my hunch is right.</p>\n",
            "last_activity_date": 1366220418,
            "question_id": 10004593,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "circular-reference"
            ],
            "title": "How jQuery data() breaks circular reference"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>Is it that there's a difference between a variable that has not been defined and one that has been defined but which has a value of undefined?</p>\n</blockquote>\n\n<p><strong>Yes</strong>. A undeclared variable will throw a <code>ReferenceError</code> when used in an expression, which is what you're seeing.</p>\n\n<pre><code>if (x) { // error, x is undeclared\n\n}\n</code></pre>\n\n<p>Compared to;</p>\n\n<pre><code>var y; // alert(y === undefined); // true\n\nif (y) { // false, but no error\n\n}\n</code></pre>\n\n<blockquote>\n  <p>That seems completely unintuitive.</p>\n</blockquote>\n\n<p><strong>Meh</strong>... what I find unintuitive:</p>\n\n<pre><code>if (y) // error, y is undeclared\n\nvar x = {};\n\nif (x.someUndeclaredAttribute) // no error... someUndeclaredAttribute is implictly undefined.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>In strict mode, it is an error:</p>\n\n<pre><code>function a() {\n  \"use strict\";\n  if (!banana) alert(\"no banana\"); // throws error\n}\n</code></pre>\n\n<p>It's always really been better to make an explicit test for globals:</p>\n\n<pre><code>if (!window['banana']) alert(\"no banana\");\n</code></pre>\n\n<p>It doesn't make sense to perform such a test for non-global variables. (That is, testing to see whether the variable is defined that way; it's fine to test to see whether a defined variable has a truthy value.)</p>\n\n<p><em>edit</em> I'll soften that to say that it <em>rarely</em> makes sense to thusly test for the existence of non-globals.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Checking for undefined works for variables that have no value associated but if the variable itself hasn't been declared you can run into these reference issues.</p>\n\n<pre><code>if (typeof elem === \"undefined\")\n</code></pre>\n\n<p>This is a far better check as doesn't run the risk of the reference issue as typeof isn't a method but a keyword within JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>When a variable is declared and not initialized or it's used with declaration, its value is \"undefined\". The browser complains exactly when this undefined variable is referenced. Here \"reference\" means some piece of javascript code is trying to visit an attribute or method of it. For example, if \"elem\" is undefined, this will throw an exception:</p>\n\n<pre><code>elem.id = \"BadElem\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h2>What is a ReferenceError?</h2>\n\n<p>As defined by ECMAScript 5, a <a href=\"http://es5.github.com/#x15.11.6.3\"><code>ReferenceError</code></a> indicates that an invalid reference has been detected. That doesn't say much by itself, so let's dig a little deeper.</p>\n\n<p>Leaving aside strict mode, a <code>ReferenceError</code> occurs when the scripting engine is instructed to get the value of a reference that it <a href=\"http://es5.github.com/#IsUnresolvableReference\">cannot resolve the <em>base value</em></a> for:</p>\n\n<blockquote>\n  <p>A Reference is a resolved name binding. A Reference consists of three\n  components, the base value, the referenced name and the Boolean valued\n  strict reference flag. The base value is either undefined, an Object,\n  a Boolean, a String, a Number, or an environment record (10.2.1). A\n  base value of undefined indicates that the reference could not be\n  resolved to a binding. The referenced name is a String.</p>\n</blockquote>\n\n<p>When we are referencing a property, the base value is the object whose property we are referencing. When we are referencing a variable, the base value is unique for each execution context and it's called an <em>environment record</em>. When we reference something that is neither a property of the base object value nor a variable of the base environment record value, a <code>ReferenceError</code> occurs.</p>\n\n<p>Consider what happens when you type <code>foo</code> in the console when no such variable exists: you get a <code>ReferenceError</code> because the <em>base value</em> is <em>not resolvable</em>. However, if you do <code>var foo; foo.bar</code> then you get a <code>TypeError</code> instead of a <code>ReferenceError</code> -- a subtle perhaps but very significant difference. This is because the <em>base value</em> was successfully resolved; however, it was of type <code>undefined</code>, and <code>undefined</code> does not have a property <code>bar</code>.</p>\n\n<h2>Guarding against ReferenceError</h2>\n\n<p>From the above it follows that to catch a ReferenceError before it occurs you have to make sure that the base value is resolvable. So if you want to check if <code>foo</code> is resolvable, do</p>\n\n<pre><code>if(this.foo) //...\n</code></pre>\n\n<p>In the global context, <code>this</code> equals the <code>window</code> object so doing <code>if (window.foo)</code> is equivalent. In other execution contexts it does not make as much sense to use such a check because by definition it's an execution context your own code has created -- so you should be aware of which variables exist and which do not.</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>or you use try/catch:</p>\n\n<pre><code>try { x } catch(err){}\n</code></pre>\n\n<p>This way you're not doing anything in case of an error but at least your script won't jump off the cliff...</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's an example of <a href=\"http://stackoverflow.com/users/50079/jon\">Jon's</a> explanation regarding environment records:</p>\n\n<pre><code>var bar = function bar() {\n    if (!b) { // will throw a reference error.\n    }\n},\nfoo = function foo() {\n    var a = false;\n\n    if (a) {\n        var b = true;\n    }\n\n    if (!b) { // will not throw a reference error.\n    }\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Everything I've ever read indicates that in Javascript, the boolean value of an undefined variable is False. I've used code like this hundreds of times:</p>\n\n<pre><code>if (!elem) {\n   ...\n}\n</code></pre>\n\n<p>with the intent that if \"elem\" is undefined, the code in the block will execute. It usually works, but on occasion the browser will throw an error complaining about the undefined reference. This seems so basic, but I can't find the answer. </p>\n\n<p>Is it that there's a difference between a variable that has not been defined and one that has been defined but which has a value of undefined? That seems completely unintuitive.</p>\n",
            "last_activity_date": 1393590265,
            "question_id": 9981104,
            "score": 7,
            "tags": [
                "javascript"
            ],
            "title": "Why does an undefined variable in Javascript sometimes evaluate to false and sometimes throw an uncaught ReferenceError?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Try</p>\n\n<pre><code>$(document).scrollTop(\"...\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><code>$(jQuery.browser.webkit ? \"body\": \"html\").animate({ scrollTop: myTop }, myDur);</code></p>\n\n<p>Webkit browsers (Chrome/Safari, both Mac and Win) use \"body\", others (FF/Opera/IE 7-9) use \"html\"</p>\n\n<p>Gotta love browser detection.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>You need to apply <code>scrollTop</code> to either <code>body</code> or <code>html</code> depending on the browser, but there's no harm applying it to both. Since <code>.scrollTop()</code> applies to the <em>first</em> element in the set, but <code>.animate()</code> applies to all elements, you can do this:</p>\n\n<pre><code>$('body, html').animate({\n  scrollTop: 1000\n}, 'fast');\n</code></pre>\n\n<p>If you want the change to apply immediately, change the speed (<code>'fast'</code>) to <code>0</code>. Alternatively, you can use the following, but I like the above syntax better:</p>\n\n<pre><code>$('body, html').each(function() { $(this).scrollTop(1000); });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In Chrome and Safari, <code>$(\"body\").scrollTop(1000)</code> goes where expected.</p>\n\n<p>In IE and FF, nothing happens.</p>\n\n<p>In IE and FF, <code>$(window).scrollTop(1000)</code> works, but they go to different places. It also works in Chrome and Safari, but they both go to a different place as well. They seems to be up to 300-500 pixels off.</p>\n\n<p>Is there any consistent way to set the scrollTop property that works cross browser, and if not, why doesn't jQuery abstract this?</p>\n\n<p>I'd like to animate it as well, which works fine in Chrome and Safari, but not in the other browsers.</p>\n\n<p>Is my only option to do browser detection? (bad practice) Or is there some better way?</p>\n",
            "last_activity_date": 1409880125,
            "question_id": 9041406,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "scrolltop"
            ],
            "title": "jQuery scrollTop inconsistent across browsers"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Depending on the protocol used by your website, http, https, spdy, etc, it will use the same protocol than your website is using. In other words it will use the currently used protocol.</p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4978235/absolute-urls-omitting-the-protocol-scheme-in-order-to-preserve-the-one-of-the\">Absolute URLs omitting the protocol (scheme) in order to preserve the one of the current page</a>  </p>\n</blockquote>\n\n\n\n<p>I recently noticed that the embed codes for the \"like\" and \"tweet\" buttons don't include the http protocol. For example:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"//platform.twitter.com/widgets.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;(function(d, s, id) {\n  var js, fjs = d.getElementsByTagName(s)[0];\n  if (d.getElementById(id)) {return;}\n  js = d.createElement(s); js.id = id;\n  js.src = \"//connect.facebook.net/en_US/all.js#xfbml=1&amp;appId=555\";\n  fjs.parentNode.insertBefore(js, fjs);\n}(document, 'script', 'facebook-jssdk'));&lt;/script&gt;\n</code></pre>\n\n<p>Why do they do this?</p>\n",
            "last_activity_date": 1390424297,
            "question_id": 8343942,
            "score": 7,
            "tags": [
                "javascript",
                "http",
                "url",
                "protocol-relative"
            ],
            "title": "What is the effect of starting a url with &quot;//&quot;, and leaving out &quot;http:&quot;"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Attach an event handler to the submit event of the form. Make sure it cancels the default action.</p>\n\n<p>Quirks Mode has <a href=\"http://www.quirksmode.org/js/introevents.html\" rel=\"nofollow\">a guide to event handlers</a>, but you would probably be better off using a library to simplify the code and iron out the differences between browsers. All the major ones (such as <a href=\"http://developer.yahoo.com/yui/\" rel=\"nofollow\">YUI</a> and <a href=\"http://jquery.com/\" rel=\"nofollow\">jQuery</a>) include event handling features, and there is a large collection of <a href=\"http://microjs.com/#events\" rel=\"nofollow\">tiny event libraries</a>.</p>\n\n<p>Here is how you would do it in YUI 3:</p>\n\n<pre><code>&lt;script src=\"http://yui.yahooapis.com/3.4.1/build/yui/yui-min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    YUI().use('event', function (Y) {\n        Y.one('form').on('submit', function (e) {\n            // Whatever else you want to do goes here\n            e.preventDefault();\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Make sure that <a href=\"http://icant.co.uk/articles/pragmatic-progressive-enhancement/\" rel=\"nofollow\">the server will pick up the slack</a> if the JavaScript fails for any reason.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Use the <code>onsubmit</code> event to execute JavaScript code when the form is submitted. You can then return false or call the event's <code>preventDefault</code> method to disable the form submission.</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;script&gt;\nfunction doSomething() {\n    alert('Form submitted!');\n    return false;\n}\n&lt;/script&gt;\n\n&lt;form onsubmit=\"return doSomething();\" class=\"my-form\"&gt;\n    &lt;input type=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This works, but it's best not to litter your HTML with Javascript, just as you shouldn't write lots of inline CSS rules. Many Javascript frameworks facilitate this separation of concerns. In jQuery, you bind an event using Javascript code like so:</p>\n\n<pre><code>&lt;script&gt;\n$('.my-form').on('submit', function () {\n    alert('Form submitted!');\n    return false;\n});\n&lt;/script&gt;\n\n&lt;form class=\"my-form\"&gt;\n    &lt;input type=\"submit\" value=\"Submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>I know it's a little late for this. But I always thoguth that the best way to create event handlers is directly from javascript. Kind of like not applying inline css styles.<br /><br /><code>function validate(){<br />//do stuff<br />}<br /><br />\nfunction init(){<br /> document.getElementById('form').onsubmit = validate;<br />}<br /><br />\nwindows.onload = init;\n</code></p>\n\n<p>That way you don't have a bunch of event handlers throughout your html.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I would like to run a javascript function when a form is submitted. The issue right now is that everything is being appended to the URL as if it was using method=get. I would like it to stay on the current page and only run the javascript function.</p>\n\n<p>I was wondering what the best practice (or what you do), to avoid having the page reload and parameters be sent.</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1407855680,
            "question_id": 8082846,
            "score": 7,
            "tags": [
                "javascript",
                "html",
                "forms"
            ],
            "title": "Form Submit Execute Javascript Best Practice?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Because the body of the anonymous function isn't procedural as you might expect.</p>\n\n<p>Rather it's an object with properties.  And you're allowed forward references - that is, code in one function can refer to properties that are defined later on in the object.</p>\n\n<p>Since you have duplicate definitions of the same property, the latter one takes precedence, effectively overwriting the first.  So your snippet is equivalent to (removing the first, overridden definition):</p>\n\n<pre><code>(function() { \n    return f();\n    function f(){ alert(2); }\n})();\n</code></pre>\n\n<p>and at this point it should come as no surprise to you that the alert contains <code>2</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This gets into what happens when execution enters a function: Leaving out a lot of detail, all function <em>declarations</em> (the style you've used) are processed, and only <em>after</em> that does step-by-step code execution occur. So your <code>return</code> statement has no impact on which function declaration is chosen. And the declaration chosen is always the last one in source code order (this is covered&nbsp;&mdash; in wonderfully turgid prose&nbsp;&mdash; in <a href=\"http://es5.github.com/#x10.5\" rel=\"nofollow\">Section 10.5</a> of the specification).</p>\n\n<p>The result would be fundamentally different if you used function <em>expressions</em>, which are evaluated as part of step-by-step code:</p>\n\n<pre><code>(function() { \n    var f;\n    f = function(){ alert(1); };\n    return f();\n    f = function(){ alert(2); };\n})();\n</code></pre>\n\n<p>This code is technically incorrect (because you have code following a <code>return</code> that will always be followed), but it illustrates the difference: You see the <code>alert(1)</code> happen rather than the <code>alert(2)</code>, because those <em>expressions</em> are not evaluated until they're reached.</p>\n\n<p>You can read more about what happens when execution enters a function (declarations aren't the only thing that are done prior to the first step-by-step code) in Sections <a href=\"http://es5.github.com/#x10.4.3\" rel=\"nofollow\">10.4.3</a> and <a href=\"http://es5.github.com/#x10.5\" rel=\"nofollow\">10.5</a> of the specification.</p>\n\n<hr>\n\n<p>And with your new knowledge, a quiz: What happens here? (Note: <strong>Never</strong> do this.)</p>\n\n<pre><code>function foo() {\n\n    if (true) {\n        function bar() {\n            alert(1);\n        }\n    }\n    else {\n        function bar() {\n            alert(2);\n        }\n    }\n\n    bar();\n}\n\nfoo();\n</code></pre>\n\n<p>The answer is: <strong><em>It varies, don't do that.</em></strong> Some engines will use the first <code>bar</code>, other engines will use the second, and others will call it a syntax error. This is because this actually <strong>is</strong> an error, and so engines are free to do what they think best. If you look closely at the language grammar, you'll see that it's invalid to put function <em>declarations</em> inside branches within their immediately-containing scope. They must be at the top level of that scope. With your new understanding of declarations, the reason should be obvious: They're not related to the flow of execution within the scope, and so naturally you can't choose them based on that flow of execution.</p>\n\n<p>So what happens in the real world? Sadly, usually not an error if you're in \"loose\" mode (not strict). Some engines (Chrome's V8 for example, as of this writing) will ignore the flow control statements and just pick the last function declared (and so you get the counter-intuitive result that the <em>second</em> <code>bar</code> function is used), other engines (Firefox's SpiderMonkey, IE11's JScript) effectively rewrite your code on the fly turning those declarations into expressions instead, and so you get the first <code>bar</code>. E.g., it will vary by engine. The good news is that if you try this in <em>strict</em> mode, all three of those (V8, SpiderMonkey, and IE11's JScript) will <em>fail</em> rather than picking one (V8 and SpiderMonkey with nice clear error messages in the console; JScript with just the surprising \"<code>bar</code> is undefined\", but...).</p>\n\n<p>If you want to do something <em>like</em> the above, but valid and consistent across engines, use expressions:</p>\n\n<pre><code>function foo() {\n    var bar;\n\n    if (true) {\n        bar = function() {\n            alert(1);\n        };\n    }\n    else {\n        bar = function() {\n            alert(2);\n        };\n    }\n\n    bar();\n}\n\nfoo();\n</code></pre>\n\n<p>There's a fun exploration of this on <a href=\"http://kangax.github.com/nfe/\" rel=\"nofollow\">kangax's <em>Named Function Expressions Demystified</em> page</a>.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>Because code is first parsed, the f() function is underwritten, than it is executed, and the last f() function is called.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There is something that is called \"hoisting\" - it's a corollary of scope/function activation resolution process (without going into too much details).</p>\n\n<p>What that means is that at entering the scope of the function of variable and function declarations are processed and stored as if they were made at the beginning of the scope. The assignment parts are left where they are.</p>\n\n<p>So the following code:</p>\n\n<pre><code>function()\n{\n    console.log(a)\n    var a = 5;\n}\n</code></pre>\n\n<p>will print \"undefined\", and that is because, simply put, it is equivalent to:</p>\n\n<pre><code>function()\n{\n    var a;\n    console.log(a)\n    a = 5;\n}\n</code></pre>\n\n<p>In you example - there is an important thing to remember - these are function <strong>declarations</strong> - so they are processed as any variable would be, but since they \"contain\" the function body, then the whole declaration (including equivalent of <code>a = 5</code>) is \"hoisted\". </p>\n\n<p>During that variables processing stage - if there already has been processed a variable of the same name - it's value and attributes are replaced.</p>\n\n<p>So you code is equivalent to:</p>\n\n<pre><code>(function() { \n    function f(){ alert(2); }\n    return f();\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have the following JavaScript code:</p>\n\n<pre><code>(function() { \n    function f(){ alert(1); }\n    return f();\n    function f(){ alert(2); }\n})();\n</code></pre>\n\n<p>Can you explain why the alert pops up with 2 and not 1?</p>\n\n<p>Thanks,</p>\n",
            "last_activity_date": 1414597281,
            "question_id": 8036140,
            "score": 7,
            "tags": [
                "javascript"
            ],
            "title": "Why does second function declaration win even though I return before it?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Assuming your regular expression is correct:</p>\n\n<p>inside your script tags</p>\n\n<pre><code>function validateEmail(emailField){\n        var reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n\n        if (reg.test(emailField.value) == false) \n        {\n            alert('Invalid Email Address');\n            return false;\n        }\n\n        return true;\n\n}\n</code></pre>\n\n<p>in your textfield:</p>\n\n<pre><code>&lt;input type=\"text\" onblur=\"validateEmail(this);\" /&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>Are you also validating server-side?  This is very important.</p>\n\n<p>Using regular expressions for e-mail isn't considered best practice since it's almost impossible to properly encapsulate all of the standards surrounding email.  If you do have to use regular expressions I'll usually go down the route of something like:</p>\n\n<pre><code>^.+@.+$\n</code></pre>\n\n<p>which basically checks you have a value that contains an @.  You would then back that up with verification by sending an e-mail to that address.</p>\n\n<p>Any other kind of regex means you risk turning down completely valid e-mail addresses,  other than that I agree with the answer provided by @Ben.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>First off - I'd recommend the email validator RegEx from Hexillion: <a href=\"http://hexillion.com/samples/\" rel=\"nofollow\">http://hexillion.com/samples/</a></p>\n\n<p>It's pretty comprehensive - :</p>\n\n<pre><code>^(?:[\\w\\!\\#\\$\\%\\&amp;\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&amp;\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$\n</code></pre>\n\n<p>I think you want a function in your JavaScript like:</p>\n\n<pre><code>function validateEmail(sEmail) {\n  var reEmail = /^(?:[\\w\\!\\#\\$\\%\\&amp;\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&amp;\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$/;\n\n  if(!sEmail.match(reEmail)) {\n    alert(\"Invalid email address\");\n    return false;\n  }\n\n  return true;\n\n}\n</code></pre>\n\n<p>In the HTML input you need to trigger the event with an onblur - the easy way to do this is to simply add something like:</p>\n\n<pre><code>&lt;input type=\"text\" name=\"email\" onblur=\"validateEmail(this.value);\" /&gt;\n</code></pre>\n\n<p>Of course that's lacking some sanity checks and won't do domain verification (that has to be done server side) - but it should give you a pretty solid JS email format verifier.</p>\n\n<p>Note: I tend to use the <code>match()</code> string method rather than the <code>test()</code> RegExp method but it <em>shouldn't</em> make any difference.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The result in <code>isEmailValid</code> can be used to test whether the email's syntax is valid.</p>\n\n<pre><code>var validEmailRegEx = /^[A-Z0-9_'%=+!`#~$*?^{}&amp;|-]+([\\.][A-Z0-9_'%=+!`#~$*?^{}&amp;|-]+)*@[A-Z0-9-]+(\\.[A-Z0-9-]+)+$/i\nvar isEmailValid = validEmailRegEx.test(\"Email To Test\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>function validateEmail(email) { \n    var re = /^(([^&lt;&gt;()[\\]\\\\.,;:\\s@\\\"]+(\\.[^&lt;&gt;()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n} \n</code></pre>\n\n<p>To validate email id in javascript above code works.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have requirement i.e validating entered email address when user comeout from the textbox.\nI have googled for this but i got form validatation jscript i don't want form validatation.\nI want textbox validatation i have writen below jscript but \"if email invalid it's not returning the same page\" </p>\n\n<pre><code> function validate(email) {\n\n            var reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n            //var address = document.getElementById[email].value;\n            if (reg.test(email) == false) \n            {\n                alert('Invalid Email Address');\n                return (false);\n            }\n }\n</code></pre>\n",
            "last_activity_date": 1403669767,
            "question_id": 7635533,
            "score": 7,
            "tags": [
                "javascript"
            ],
            "title": "Validate email address textbox using JavaScript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Does this answer your question?\n<a href=\"http://stackoverflow.com/questions/3115982/how-to-check-javascript-array-equals\">how to check javascript array equals?</a></p>\n\n<pre><code>var equal = array1.compareArrays(array2);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can try this <code>JSON.stringify(array1)===JSON.stringify(array2);</code> if you want the order also to be identical in both the arrays.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://www.breakingpar.com/bkp/home.nsf/0/87256B280015193F87256BFB0077DFFD\" rel=\"nofollow\">http://www.breakingpar.com/bkp/home.nsf/0/87256B280015193F87256BFB0077DFFD</a></p>\n\n<p>Have a look here, the second example is a function that does exactly that.</p>\n\n<p>A similar function that does the same thing can be found at the bottom of this page.</p>\n\n<p><a href=\"http://zeeohemgee.blogspot.com/2006/07/comparing-and-copying-arrays-in.html\" rel=\"nofollow\">http://zeeohemgee.blogspot.com/2006/07/comparing-and-copying-arrays-in.html</a></p>\n\n<p>Hope this helps</p>\n\n<p>Cheers</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<ol>\n<li>Check the length of both arrays</li>\n<li>Loop through the first array, compare each variable to the second array.</li>\n</ol>\n\n<p>If <code>1</code> and <code>2</code> are both the same, your array is equal.</p>\n\n<h2>Function to compare objects/arrays:</h2>\n\n<p>Looping through true arrays can be achieved through <code>for(var i=0; i&lt;array.length; i++)</code>.<br />\nWalking through the properties of such an object can be done by <code>for(var i in object)</code>.</p>\n\n<pre><code>function recursiveCompare(obj, reference){\n    if(obj === reference) return true;\n    if(obj.constructor !== reference.constructor) return false;\n    if(obj instanceof Array){\n         if(obj.length !== reference.length) return false;\n         for(var i=0, len=obj.length; i&lt;len; i++){\n             if(typeof obj[i] == \"object\" &amp;&amp; typeof reference[j] == \"object\"){\n                 if(!recursiveCompare(obj[i], reference[i])) return false;\n             }\n             else if(obj[i] !== reference[i]) return false;\n         }\n    }\n    else {\n        var objListCounter = 0;\n        var refListCounter = 0;\n        for(var i in obj){\n            objListCounter++;\n            if(typeof obj[i] == \"object\" &amp;&amp; typeof reference[i] == \"object\"){\n                if(!recursiveCompare(obj[i], reference[i])) return false;\n            }\n            else if(obj[i] !== reference[i]) return false;\n        }\n        for(var i in reference) refListCounter++;\n        if(objListCounter !== refListCounter) return false;\n    }\n    return true; //Every object and array is equal\n}\n</code></pre>\n\n<p>If you don't understand the function, feel free to request an explanation at the comments.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>With Javascript, you can't check if arrays are equals, but you can compare them like this:</p>\n\n<pre><code>var arr1 = ['alcohol', 'soft', 'hot'],\n    arr2 = ['apple', 'pear'],\n    arr3 = ['soft', 'hot', 'alcohol'];\n\nfunction isSame(a1, a2){\n    return !(a1.sort() &gt; a2.sort() || a1.sort() &lt; a2.sort());\n}\n\nconsole.log( isSame(arr1, arr2) ); //false\nconsole.log( isSame(arr1, arr3) ); //true\n</code></pre>\n\n<p>The <code>sort</code> put all elements in the same order, and if both <code>&lt;</code> and <code>&gt;</code> comparisons are false it means both are the same.</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>There are two arrays in JavaScript, they are both in the following format:</p>\n\n<pre><code>[{'drink':['alcohol', 'soft', 'hot']}, {'fruit':['apple', 'pear']}];\n</code></pre>\n\n<p>I need to detect if the two arrays are equal or not. they are considered equal if they contain the same elements in a different order. How can I make that?</p>\n",
            "last_activity_date": 1419941380,
            "question_id": 7593590,
            "score": 7,
            "tags": [
                "javascript",
                "arrays",
                "string",
                "equality"
            ],
            "title": "How to detect array equality in JavaScript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The canvas <code>width</code> and <code>height</code> attributes are separate from the same canvas's <code>width</code> and <code>height</code> styles. The <code>width</code> and <code>height</code> attributes are the size of the canvas's rendering surface, in pixels, whereas its styles choose a location in the document where the browser should draw the content from the rendering surface. It just so happens that the default value for the <code>width</code> and <code>height</code> styles, <em>if they're not specified</em>, is the rendering surface's width and height. So you're right about #1: there's no reason to wrap it in a div. You can set percentage values for all of the styles on your canvas element, just like any other element.</p>\n\n<p>For #3, it's pretty easy (and cross-browser) to get the size of things with clientWidth and clientHeight, as long as you're not using padding on your canvas element.</p>\n\n<p>I coded up the slightly simplified version <a href=\"http://jsbin.com/elosil/3\">here</a>.</p>\n\n<p>For #4, you're right about being out of luck. It's possible to check before setting width and height and leave the canvas alone if it doesn't need resizing, which would eliminate some of the redraws, but you can't get rid of all of them.</p>\n\n<p>EDIT: Portman pointed out I messed up the centering style. Updated version <a href=\"http://jsbin.com/elosil/4\">here</a>.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>Alright. Here is the technique that i ve used to implement the same.</p>\n\n<p>Suppose you have the canvas height=400, for the window's height=480, and you want to change the height of it relatively if the window's height changes to 640.</p>\n\n<pre><code>canvas = document.getElementById(\"canvas\"); \ncanvas.height=window.innerHeight*400/480;\n</code></pre>\n\n<p>p.s: do not initialize the height of the canvas inside the html tag.</p>\n\n<p>Make use of 'window.innerHeight' (which returns the height of the browser's window.. similarly 'window.innerWidth') any where you want to calculate the relative positions on the window.</p>\n\n<p>Hope you got what you needed.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Like said by sethobrien a <code>canvas</code> element has <strong>TWO</strong> pairs width/height of attributes.</p>\n\n<ol>\n<li><p><code>canvas.width</code> / <code>canvas.height</code> are about the size in pixel of the buffer that will contains the result of drawing commands.</p></li>\n<li><p><code>canvas.style.width</code> / <code>canvas.style.height</code> are about the size used to show the canvas object in the browser window and they can be in any of the units supported by css.</p></li>\n</ol>\n\n<p>You can indeed set <code>canvas.width</code> and <code>canvas.height</code> just once, do the drawing in the canvas, setting the style size parameters in percentage and then forget about redrawing the canvas content. Of course this means that the browser will just do the scaling itself like for a regular image loaded from the network so the visible result will show pixel scaling artifacts.</p>\n\n<p>You only need to redrawing the canvas content after the resize of the canvas element only if you want pixel-perfect results.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>The HTML5 <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#the-canvas-element\"><code>&lt;canvas&gt;</code></a> element does not accept relative sizes (percent) for its <code>width</code> and <code>height</code> properties. </p>\n\n<p>What I'm trying to accomplish is to have my canvas sized relative to the window. This is what I've come up with so far, but I'm wondering if there is a better way that is:</p>\n\n<ol>\n<li>Simpler</li>\n<li>Does not require wrapping the <code>&lt;canvas&gt;</code> in a <code>&lt;div&gt;</code>. </li>\n<li>Not dependent on jQuery (I use it to get the width/height of the parent div)</li>\n<li>Ideally, doesn't redraw on browser resize (but I think that might be a requirement)</li>\n</ol>\n\n<p>See below for the code, which draws a circle in the middle of the screen, 40% wide up to a maximum of 400px. </p>\n\n<p>Live demo: <a href=\"http://jsbin.com/elosil/2\">http://jsbin.com/elosil/2</a></p>\n\n<p>Code:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Canvas of relative width&lt;/title&gt;\n    &lt;style&gt;\n        body { margin: 0; padding: 0; background-color: #ccc; }\n        #relative { width: 40%; margin: 100px auto; height: 400px; border: solid 4px #999; background-color: White; }\n    &lt;/style&gt;\n    &lt;script language=\"javascript\" type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        function draw() {\n            // draw a circle in the center of the canvas\n            var canvas = document.getElementById('canvas');\n            var relative = document.getElementById('relative');\n            canvas.width = $(relative).width();\n            canvas.height = $(relative).height();\n            var w = canvas.width;\n            var h = canvas.height;\n            var size = (w &gt; h) ? h : w; // set the radius of the circle to be the lesser of the width or height;\n            var ctx = canvas.getContext('2d');\n            ctx.beginPath();\n            ctx.arc(w / 2, h / 2, size/2, 0, Math.PI * 2, false);\n            ctx.closePath();\n            ctx.fill();\n        }\n\n        $(function () {\n            $(window).resize(draw);\n        });\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=\"draw()\"&gt;\n    &lt;div id=\"relative\"&gt;\n        &lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1374578371,
            "question_id": 7169879,
            "score": 7,
            "tags": [
                "javascript",
                "html5",
                "canvas"
            ],
            "title": "Relatively sizing HTML Canvas"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can try to manipulate the visible URL using <code>pushState()</code> method (see <a href=\"https://developer.mozilla.org/en/DOM/Manipulating_the_browser_history#The_pushState%28%29.c2.a0method\" rel=\"nofollow\">documentation</a>, you may wish to read also about <a href=\"https://developer.mozilla.org/en/DOM/window.onpopstate\" rel=\"nofollow\"><code>onpopstate</code> event</a>).</p>\n\n<p>That way you can change the URL in a way you wish.</p>\n\n<p>Some demonstration on how to change URL without page reloading is here: <a href=\"http://html5demos.com/history\" rel=\"nofollow\">http://html5demos.com/history</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use the HTML5 <a href=\"http://dev.w3.org/html5/spec/history.html#dom-history-pushstate\">pushState API</a> to achieve this. However, only the newest browsers support it and IE doesn't even support it yet in IE9. There was no way to do this previsouly. However, there is a convention that you would use location.hash to indicate a page which's state was modified by an ajax request.  For more information on how to use url hashes to indicate state on your page you might want to have a look at <a href=\"http://code.google.com/intl/de-DE/web/ajaxcrawling/docs/getting-started.html\">this</a>.</p>\n\n<p>There is a library, <a href=\"https://github.com/balupton/history.js\">History.js</a>, which can be used for transition to pushState. It's API is very close to the pushState API, but it will transparently provide a hash fragement fallback if the browser does not support pushState.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>Your content is being loaded via AJAX, so perhaps the URL should have it's <em>hash fragment</em> modified - see <a href=\"http://code.google.com/web/ajaxcrawling/docs/specification.html\" rel=\"nofollow\">http://code.google.com/web/ajaxcrawling/docs/specification.html</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I want to add some <code>GET</code> parameters to the page URL. I am loading content like this:</p>\n\n<pre><code>$(\"#content\").load(\"shop.pl #content .product\", $.param({categ:1)}));\n</code></pre>\n\n<p>How can I change the URL to have the same parameter <code>?categ=1</code>?</p>\n",
            "last_activity_date": 1312544231,
            "question_id": 6955430,
            "score": 7,
            "tags": [
                "javascript",
                "ajax",
                "jquery"
            ],
            "title": "Change url on ajax request"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>An object:</p>\n\n<pre><code>var myobj = {\n  \"managaner\": [\"Prateek\",\"Rudresh\",\"Prashant\"],\n  \"employee\": [\"namit\",\"amit\",\"sushil\"],\n  \"hr\": [\"priya\",\"seema\",\"nakul\"]\n}\n\nalert(myobj['employee'][1]); // Outputs \"amit\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>You can use <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array\">arrays</a> to store list of data ; and <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object\">objects</a> for key-value</p>\n\n<p><br>\nIn you case, you'd probably use both :</p>\n\n<pre><code>var data = {\n    'manager': [\"Prateek\",\"Rudresh\",\"Prashant\"], \n    'employee': [\"namit\",\"amit\",\"sushil\"], \n    'hr': [\"priya\",\"seema\",\"nakul\"]\n};\n</code></pre>\n\n<p>Here, <code>data</code> is an object ; which contains three arrays.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>Yes there is:</p>\n\n<pre><code>var theArray = {};\ntheArray[\"manager\"] = [\"Prateek\",\"Rudresh\",\"Prashant\"];\ntheArray[\"employee\"] = [\"namit\",\"amit\",\"sushil\"];\ntheArray[\"hr\"] = [\"priya\",\"seema\",\"nakul\"];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Yes!</p>\n\n<p>See <a href=\"http://rick.measham.id.au/javascript/hash.htm\" rel=\"nofollow\">here</a> and <a href=\"http://www.codeproject.com/Articles/117002/Javascript-Dictionary\" rel=\"nofollow\">here</a> for good examples.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Even you can use stuff as below :-</p>\n\n<pre><code>var obj = new Object();\n\nobj.name = 'Jatin';\nobj.place = 'Delhi';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>A normal object will do:</p>\n\n<pre><code>var a = {\n    key1: \"value1\",\n    key2: [\"value2.1\",\"value2.2\"]\n    /*etc*/\n}\n</code></pre>\n\n<p>Access with:</p>\n\n<pre><code>a.key1\na[\"key1\"]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Or use JSON like this. A little change of your pseudo code, but it will be serchable and extendable.</p>\n\n<pre><code>var Person = [\n{\n    \"name\": \"Prateek\",\n    \"position\": \"manager\"},\n{\n    \"name\": \"James\",\n    \"position\": \"employee\"}\n\n];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>you could store them in an array of objects:</p>\n\n<pre><code>    var Staff = [\n       { name: 'Prateek', role: manager },\n       { name: 'Rudresh', role: manager },\n       { name: 'Prashant', role: manager },\n       { name: 'Namit', role: employee },\n       { name: 'Amit', role: employee },\n       { name: 'Sushil', role: employee },\n       { name: 'Priya', role: hr },\n       { name: 'Seema', role: hr },\n       { name: 'Nakul', role: hr },\n    ];\n</code></pre>\n\n<p>adding an ID attribute might be useful too depending on your application. i.e</p>\n\n<pre><code>    { id: 223, name: 'Prateek', role: manager },\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I want to store information like:</p>\n\n<p><em>Pseudo-Code</em></p>\n\n<pre><code>array(manager) = {\"Prateek\",\"Rudresh\",\"Prashant\"};\narray(employee) = {\"namit\",\"amit\",\"sushil\"};\narray(hr) = {\"priya\",\"seema\",\"nakul\"};\n</code></pre>\n\n<p>What kind of data structure can I use?</p>\n",
            "last_activity_date": 1424402569,
            "question_id": 6771763,
            "score": 7,
            "tags": [
                "javascript"
            ],
            "title": "Is there any key/value pair structure in JavaScript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It looks to me as if you are not using a delegate on your UIWebView. If you set a delegate and put the call to the Javascript into the \"- (void)webViewDidFinishLoad:(UIWebView *)webView \" method, it works fine: </p>\n\n<pre><code>UIWebView *wv = [[UIWebView alloc] initWithFrame:CGRectMake(0.0, 0.0, 700.0, 700.0)];\n[self.view addSubview:wv];\nwv.delegate = self;\n[wv loadHTMLString:@\"&lt;html&gt;&lt;head&gt;&lt;script type='text/javascript'&gt;function sample() {alert('Paznja');}&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;TEST&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;\" baseURL:nil];\n[wv release];\n</code></pre>\n\n<p>and in the same class:</p>\n\n<pre><code>- (void)webViewDidFinishLoad:(UIWebView *)webView {\n   [webView stringByEvaluatingJavaScriptFromString:@\"sample()\"];\n}\n</code></pre>\n\n<p>When I run this code, the alert message works fine.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>Additional note, if you are expecting an object back from the javascript function rather than a string then do the following:</p>\n\n<pre><code>NSString *json = [self.webView stringByEvaluatingJavaScriptFromString:@\"JSON.stringify(TestMethod())\"];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to call a javascript function from loaded local html file in <code>UIWebView</code>\nbut it deosn't respond</p>\n\n<p>it look like this</p>\n\n<pre><code>NSString *script=[NSString stringWithFormat:@\"sample()\"];\n\nif (tekst.loading) {\n    NSLog(@\"Loading\");\n} else {\n    NSLog(@\"Fully loaded\");\n    [tekst stringByEvaluatingJavaScriptFromString:script];\n}\n</code></pre>\n\n<p>and in html</p>\n\n<pre><code>&lt;head&gt;\n....\n&lt;script type='text/javascript'&gt;\nfunction sample() {\nalert('Paznja');\n}\n&lt;/script&gt;\n...\n&lt;/head&gt; \n</code></pre>\n",
            "last_activity_date": 1408459125,
            "question_id": 6656544,
            "score": 7,
            "tags": [
                "javascript",
                "iphone",
                "xcode"
            ],
            "title": "stringByEvaluatingJavaScriptFromString does not work"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>For Internet Explorer, you can use the <a href=\"http://msdn.microsoft.com/en-us/library/ms536359(v=vs.85).aspx\">empty method</a> of the document.selection object:</p>\n\n<blockquote>\n  <p>document.selection.empty();</p>\n</blockquote>\n\n<p>For a cross-browser solution, see this answer:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/6186844/clear-a-selection-in-firefox/6187098#6187098\">clear a selection in firefox</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>function clearSelection() {\n    if ( document.selection ) {\n        document.selection.empty();\n    } else if ( window.getSelection ) {\n        window.getSelection().removeAllRanges();\n    }\n}\n</code></pre>\n\n<p>This will clear a selection in regular HTML content in any major browser. It won't clear a selection in a text input or <code>&lt;textarea&gt;</code> in Firefox.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>Here's a version that will clear any selection, including within text inputs and textareas:</p>\n\n<p>Demo: <a href=\"http://jsfiddle.net/SLQpM/1/\">http://jsfiddle.net/SLQpM/1/</a></p>\n\n<pre><code>function clearSelection() {\n    var sel;\n    if ( (sel = document.selection) &amp;&amp; sel.empty ) {\n        sel.empty();\n    } else {\n        if (window.getSelection) {\n            window.getSelection().removeAllRanges();\n        }\n        var activeEl = document.activeElement;\n        if (activeEl) {\n            var tagName = activeEl.nodeName.toLowerCase();\n            if ( tagName == \"textarea\" ||\n                    (tagName == \"input\" &amp;&amp; activeEl.type == \"text\") ) {\n                // Collapse the selection to the end\n                activeEl.selectionStart = activeEl.selectionEnd;\n            }\n        }\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>Is there a function in javascript to just deselect all selected text? I figure it's got to be a simple global function like <code>&lt;code&gt;document.body.deselectAll();&lt;/code&gt;</code> or something.</p>\n",
            "last_activity_date": 1360456707,
            "question_id": 6562727,
            "score": 7,
            "tags": [
                "javascript",
                "selection"
            ],
            "title": "Is there a function to deselect all text using JavaScript?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Evaluating the expression into a value (e.g. involving a function call) is always done left to right.</p>\n\n<p>However, once you are comparing two values, they are not converted into primitives in order to do the actual comparison in a left to right fashion. Try the following in Chrome, for example:</p>\n\n<pre><code>var l = {valueOf: function() { alert(\"L\"); }};\nvar r = {valueOf: function() { alert(\"R\"); }};\n\nl &lt; r; //alerts \"L\", then \"R\"\nl &gt; r; //alerts \"R\", then \"L\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I'm not sure what your use-case is, but this might be an option:</p>\n\n<pre><code>function add() {\n  var retval = 0;\n  for (var i = 0; i &lt; arguments.length; i++) {\n    retval += arguments[i];\n  }\n  return retval;\n}\n\nfunction echoNum(num) {\n  alert(\"Num: \" + num);\n  return num;\n}\n\nalert(\"Result: \" + add(echoNum(1), echoNum(2)));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf\" rel=\"nofollow\">ECMAScript 5</a> specifies the order of evaluation of the operands for all operators. In the case of every operator in your code snip the evaluation order is left-to-right. I'm not sure anyone could answer about the behavior of <em>all</em> browsers though.</p>\n\n<p>Edit: See also <a href=\"http://www.ecma-international.org/publications/files/ECMA-ST-ARCH/ECMA-262,%203rd%20edition,%20December%201999.pdf\" rel=\"nofollow\">ECMAScript 3.</a> Evaluation order is defined the same way.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Operator precedence and order of evaluation are two entirely different things.  In the expression \"sqrt(9) + sqrt(16) * sqrt(25)\" it is misleading to say that \"the multiplication is done first.\".  It is correct to say \"multiplication takes precedence over addition.\". </p>\n\n<p>The operations are:</p>\n\n<ol>\n<li>sqrt(9)</li>\n<li>sqrt(16)</li>\n<li>sqrt(25)</li>\n<li>4 * 5</li>\n<li>3 + 20</li>\n</ol>\n\n<p>The first three could be done in any order, or -- gasp -- <em>simultaneously</em> if you have a four-core CPU and a browser that can take advantage of it.  1 must be done before 5, 2 and 3 must be done before 4, and 4 must be done before 5.  There are no other guarantees.</p>\n\n<p>In the expression \"a &amp;&amp; (b / a)\", JavaScript guarantees that a is evaluated first and b / a is not evaluated if a is zero.  Many other languages including Fortran do not guarantee this, and can get a division-by-zero exception.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Which of the following expressions will always precede  left to right in all browsers(particularly IE6+, F3+, Opera 9+, Chrome)?  For example the window should always alert <code>first function</code> then <code>second function</code>.  In C they always suggest not to depend on the order of the evaluation  of expressions.  Is the same true for JavaScript or is Operator Precedence consistent?</p>\n\n<pre><code>function first(){\n    alert('first function');\n    return 0;\n}\nfunction second(){\n    alert('second function');\n    return 23;\n}\nfirst() + second();\nfirst() - second();\nfirst() * second();\nfirst() / second();\nfirst() &lt; second();\nfirst() &gt; second();\n</code></pre>\n\n<p>Using <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Operators/Operator_Precedence\" rel=\"nofollow\">mozilla</a> it appears function evaluation should be consistent in all browsers, but obviously the standard isn't always followed.</p>\n\n<h2>Testing</h2>\n\n<p>After some test on browsershots.org it appears all browsers follow the standard.<br>\nGenerally \nThe exception is when relying on the the <code>valueOf</code> method in javascript.  <code>ValueOf</code> definitely appears to be called backwards in specific cases for google chrome.</p>\n\n<pre><code>// The following alerts second then first in google chrome\nfirst.valueOf = function(){alert('first');};\nsecond.valueOf = function(){alert('second');};\nfirst &gt; second;\n</code></pre>\n",
            "last_activity_date": 1337964060,
            "question_id": 5944593,
            "score": 7,
            "tags": [
                "javascript",
                "evaluation"
            ],
            "title": "Javascript evaluation order for operators"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Keeping track of all the transformation information like you are presumably doing is what several others so far have done (like cake.js and my own library, for two). I think doing this will pretty much be an inevitability for any large canvas library.</p>\n\n<p>Ilmari of cake.js even complained to mozilla:\n<a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=408804\">https://bugzilla.mozilla.org/show_bug.cgi?id=408804</a></p>\n\n<p>You could instead call save/restore around your clear method:</p>\n\n<pre><code>// I have lots of transforms right now\nctx.save();\nctx.setTransform(1,0,0,1,0,0);\n// Will always clear the right space\nctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);\nctx.restore();\n// Still have my old transforms\n</code></pre>\n\n<p>Won't that satisfy your case?</p>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>For those who care to track their full context transforms, here's my code for doing so in an on-demand, per-context basis. This is prefaced with the usage that shows how to clear the full rectangle based on the transformed coordinates. You can see <a href=\"http://phrogz.net/tmp/canvas_zoom_to_cursor.html\" rel=\"nofollow\">the code in use</a> on my website.</p>\n\n<pre><code>window.onload = function(){\n  var canvas = document.getElementsByTagName('canvas')[0];\n  var ctx = canvas.getContext('2d');\n  trackTransforms(ctx);\n  function redraw(){\n    var p1 = ctx.transformedPoint(0,0);\n    var p2 = ctx.transformedPoint(canvas.width,canvas.height);\n    ctx.clearRect(p1.x,p1.y,p2.x-p1.x,p2.y-p1.y);\n    // ... \n  }\n}\n\n\n// Adds ctx.getTransform(), returning an SVGMatrix\n// Adds ctx.transformedPoint(x,y), returning an SVGPoint\nfunction trackTransforms(ctx){\n  var svg = document.createElementNS(\"http://www.w3.org/2000/svg\",'svg');\n  var xform = svg.createSVGMatrix();\n  ctx.getTransform = function(){ return xform; };\n\n  var savedTransforms = [];\n  var save = ctx.save;\n  ctx.save = function(){\n    savedTransforms.push(xform.translate(0,0));\n    return save.call(ctx);\n  };\n  var restore = ctx.restore;\n  ctx.restore = function(){\n    xform = savedTransforms.pop();\n    return restore.call(ctx);\n  };\n\n  var scale = ctx.scale;\n  ctx.scale = function(sx,sy){\n    xform = xform.scaleNonUniform(sx,sy);\n    return scale.call(ctx,sx,sy);\n  };\n  var rotate = ctx.rotate;\n  ctx.rotate = function(radians){\n    xform = xform.rotate(radians*180/Math.PI);\n    return rotate.call(ctx,radians);\n  };\n  var translate = ctx.translate;\n  ctx.translate = function(dx,dy){\n    xform = xform.translate(dx,dy);\n    return translate.call(ctx,dx,dy);\n  };\n  var transform = ctx.transform;\n  ctx.transform = function(a,b,c,d,e,f){\n    var m2 = svg.createSVGMatrix();\n    m2.a=a; m2.b=b; m2.c=c; m2.d=d; m2.e=e; m2.f=f;\n    xform = xform.multiply(m2);\n    return transform.call(ctx,a,b,c,d,e,f);\n  };\n  var setTransform = ctx.setTransform;\n  ctx.setTransform = function(a,b,c,d,e,f){\n    xform.a = a;\n    xform.b = b;\n    xform.c = c;\n    xform.d = d;\n    xform.e = e;\n    xform.f = f;\n    return setTransform.call(ctx,a,b,c,d,e,f);\n  };\n  var pt  = svg.createSVGPoint();\n  ctx.transformedPoint = function(x,y){\n    pt.x=x; pt.y=y;\n    return pt.matrixTransform(xform.inverse());\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I want to zoom and pan an HTML5 Canvas by transforming the context using <code>translate()</code> and <code>scale()</code>, clearing the canvas, and then redrawing. Note that I am explicitly <em>not</em> calling <code>save()</code> and <code>restore()</code> around my transformations.</p>\n\n<p>If I perform the standard <code>ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height)</code> then the entire visible canvas will not be cleared; downscaling or panning may cause this initial rectangle to not exactly cover the drawing area.</p>\n\n<p>If I perform the Webkit-friendly clearing method...</p>\n\n<pre><code>var w=canvas.width;\ncanvas.width = 0;\ncanvas.width = w;\n</code></pre>\n\n<p>...then the cumulative transformation of the context is reset.</p>\n\n<p>How can I best clear the entire canvas context without losing my transformation?</p>\n",
            "last_activity_date": 1301849868,
            "question_id": 5526486,
            "score": 7,
            "tags": [
                "javascript",
                "html5",
                "canvas"
            ],
            "title": "Clear entire, transformed HTML5 Canvas while preserving context transform"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>when used without label, break only break the current loop, in your case the innermost for. So now j = 6, the condition is now wrong, and the loops continues for 40 more incrementation.</p>\n\n<p>When you put a label, break go to the \"level\" of the label, so the two for loops are skipped.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Without a label, <code>break</code> will break out of the inner loop. With a label you can stop execution of nested loops.</p>\n\n<p>See the examples:</p>\n\n<p><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Statements/label\" rel=\"nofollow\">https://developer.mozilla.org/en/JavaScript/Reference/Statements/label</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Using <code>break</code> without a label breaks the innermost loop which is currently executing.</p>\n\n<p>Using <code>break</code> with a label <code>foo</code> breaks the <strong>statement</strong> labeled <code>foo</code>.</p>\n\n<p><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Statements/break\" rel=\"nofollow\">MDN <code>break</code> docs</a>:</p>\n\n<blockquote>\n  <p>The <code>break</code> statement includes an optional label that allows the program to break out of a labeled statement. The <code>break</code> statement needs to be nested within this labelled statement. The labelled statement can be any <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Statements/block\" rel=\"nofollow\">block</a> statement; it does not have to be preceded by a loop statement.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The first one is only breaking your \"j\" loop. After it breaks it, it returns to your \"i\" loop, and increments \"i\" to 6. Once \"i\" is 6, it returns to the \"j\" loop and the if condition is no longer met. So it continues to add up \"num\".</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>the break is given in only inner for loop.\nso it breaks only inner for loop when i = j = 5.\nbut the outer loop continues to revolve 10 times.\nso when i=j=5 the loop will revolve only 5 times     and in rest of all cases it will revolve 10 times.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>when you use break without label , it only breaks the inner loop that is (i=5 j=6) ,(i=5 j=7) ,(i=5 j=8) ,(i=5 j=9)  only and loop again starts with (i=6 j=0) to (i=9 j=9)  and also count (num ++) startsthats why it show result as 95. </p>\n\n<p>bt when you use break with label i.e. break outermost , it breaks out from the loop label as outermost (i.e the outer loop), thats why6 it gives output as 55</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var num = 0;\n    for(var i = 0; i &lt; 10; i++){\n       for(var j = 0; j &lt; 10 ; j++){\n          if(i == 5 &amp;&amp; j == 5){\n             break;\n          }\n        num++;\n       }\n    }\n\n    alert(num);\n&lt;/script&gt;\n</code></pre>\n\n<p>In the above code,i expect the result to be 55 but why the result is 95.</p>\n\n<p>But why if i added that the label, the result become 55?Can someone tell me thanks!!</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var num = 0;\n    outermost:\n    for(var i = 0; i &lt; 10; i++){\n       for(var j = 0; j &lt; 10 ; j++){\n          if(i == 5 &amp;&amp; j == 5){\n             break outermost;\n          }\n        num++;\n       }\n    }\n\n    alert(num);\n&lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1380667639,
            "question_id": 5118965,
            "score": 7,
            "tags": [
                "javascript",
                "label",
                "break"
            ],
            "title": "what the difference between break with label and without label in javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Flash can't always play MP4s if they are not indexed in the way it wants. </p>\n\n<p>To fix your file, just download this: <a href=\"http://renaun.com/blog/code/qtindexswapper/\">QTIndexSwapper</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>As you are encoding your own videos and using FFmpeg, I suggest using 'qt-faststart'. </p>\n\n<p>This is a useful tool included with FFmpeg that rearranges a file with H.264 video, \"such that the moov atom is in front of the data, thus facilitating network streaming\". Basically, it allows web movies to start playing before they are completely downloaded. </p>\n\n<p>Enable it with the following the ffmpeg directory:</p>\n\n<pre><code>cd ~/ffmpeg\nmake tools/qt-faststart\n</code></pre>\n\n<p>Usage (after your ffmpeg encoding):</p>\n\n<pre><code>qt-faststart input.foo output.foo\n</code></pre>\n\n<p>This should allow your player to play the video while it is still downloading.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>I wanted to expand a little on John Dyer's comment and say that using <strong>QTIndexSwapper isn't just for the Flash</strong> fallback / fallfoward functionality of MediaElement.js but also works for the non-Flash player.</p>\n\n<p>The problem I had was in the non-Flash player my .mp4 file was having to load the full video before it'd start playing (I didn't check the Flash version until after I had it working without Flash) and QTIndexSwapper solved the problem.</p>\n\n<p>I wanted to point this out as when I first read the comment I thought it applied only to Flash and didn't try it straight away. Not that I'm taking anything away from John Dyer as it was his comment which solved my problem in the end, I just wanted to add to it so hopefully others won't make my mistake.</p>\n\n<p>If anyone is interested I wrote a <a href=\"http://blog.neilnand.co.uk/2013/02/mediaelementjs-loads-full-video-before.html\" rel=\"nofollow\">blog post about this problem</a> and about a PHP class which should fix it too.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I tried qt-faststart with my own MP4 (h264+AAC) encoded files and was always getting an \"<strong>last atom in file was not a moov atom</strong>\" error message (and no output file). I was then assuming my files were ok and searched for the problem elsewere. After hours of testing, my assumption proved to be wrong - indeed, it seems <strong>my files had no moov-atom at all</strong>, not at the beginning nor at the end!</p>\n\n<p>To succesfully fix this I used ffmpeg first to \"regenerate\" the file - that is, remux the original h264+AAC tracks into a new MP4 file without reencoding it:</p>\n\n<pre><code>ffmpeg -i souce_file.mp4 -acodec copy -vcodec copy target_file_1.mp4\n</code></pre>\n\n<p>After this, the new file should have its proper moov-atom at the end. So now you can use qt-faststart in order to move it to the beginning, as Kit explained in his answer:</p>\n\n<pre><code>qt-faststart target_file_1.mp4 target_file_2.mp4\n</code></pre>\n\n<p>After doing that, mediaelement plays all my videos just right after clicking on the play button, when the file starts downloading! :)</p>\n\n<p>If your problem is you already have all your files in a youtube-like site, your hosting is Linux-based, ffmpeg is not there and you cannot compile it on your own, you my find it useful getting a static build of ffmpeg. You can find that here:</p>\n\n<p><a href=\"http://ffmpeg.gusari.org/static/\" rel=\"nofollow\">http://ffmpeg.gusari.org/static/</a> (32 bit)\nor here:\n<a href=\"http://dl.dropbox.com/u/24633983/ffmpeg/index.html\" rel=\"nofollow\">http://dl.dropbox.com/u/24633983/ffmpeg/index.html</a> (64 bit)</p>\n\n<p>Unfortunately, on the 32-bit build I used there was no qt-faststart, not as binary nor as source code. In this case you can download it from ffmpeg SVN and compile it directly with gcc. I did it succesfully in my ultra-el-cheapo shared hosting. It doesn't seem to have any build dependencies. Or you can even try <a href=\"http://www.saformedia.net/files/ffmpeg_static/qt-faststart\" rel=\"nofollow\">my own qt-faststart binary build</a> and see if it works for you.</p>\n\n<p><strong>EDIT:</strong> I've just discovered that in newer versions there's no need for qt-faststart at all. You can encode directly with ffmpeg using the following option:</p>\n\n<pre><code>-movflags +faststart \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm having an issue will MediaElement.js (my flash video player) not playing my .m4V video files (encoded using ffmpeg) until the video is <strong>fully loaded</strong>. </p>\n\n<p>I have tested this with various third party video files that appear to play straight away before they have completely loaded. Only my files do not :(</p>\n\n<p>When played using the html5 video solution they play straight away, just not on the flash fallback.</p>\n\n<p>Could this be to do with the settings the video is being encoded at? I don't see any other reason.</p>\n\n<p>CODE:</p>\n\n<pre><code>&lt;video id=\"player1\" src='BriefTour.m4v' type=\"video/mp4\" preload=\"none\"&gt;&lt;/video&gt;\n\n&lt;script&gt;\nvar videoPlayer = MediaElement('player1',{\n  success:function(me){me.play();}              \n});\n&lt;/script&gt;\n</code></pre>\n\n<p>As you can see I am specifying no option, the player is on default settings.</p>\n\n<p>Hope someone has encoutered this before and can help me out!</p>\n",
            "last_activity_date": 1365279316,
            "question_id": 5058917,
            "score": 7,
            "tags": [
                "javascript",
                "flash",
                "video",
                "video-streaming",
                "m4v"
            ],
            "title": "MediaElement.js - Flash Video Wont Play Until Fully Loaded"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>This is a <a href=\"http://code.google.com/p/chromium/issues/detail?id=7731\">known bug</a>. Here's the workaround from that link:</p>\n\n<blockquote>\n  <p>This is not a bug. WebKit is just more\n  strict. You must instantiate a new\n  <code>Image()</code> object before the replacement,\n  like this: </p>\n\n<pre><code>var photo = document.getElementById('image_id');\nvar img = new Image();\nimg.addEventListener('load', myFunction, false);\nimg.src = 'http://newimgsource.jpg';\nphoto.src = img.src;\n</code></pre>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>I think your problem here is just that you are assigning the onload event after you change the src value, so once the image has already been loaded to the cache, the browser load's it before the assignment of the event. Means that instead of doing this:</p>\n\n<pre><code>myImageObject.src = \"something.png\";\nmyImageObject.onload = myCallback;\n</code></pre>\n\n<p>do this:</p>\n\n<pre><code>myImageObject.onload = myCallback;\nmyImageObject.src = \"something.png\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>To add to Matt Ball's answer, consider img.onload instead of img.addEventListener().</p>\n\n<pre><code>var photo = document.getElementById('image_id');\nvar img = new Image();\nimg.onload = myFunction;\nimg.src = 'http://newimgsource.jpg';\nphoto.src = img.src;\n</code></pre>\n\n<p>img.onload is easier to read and works better across user agents.  </p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I have an <code>&lt;img&gt;</code> element and I'm changing its <code>src</code> attribute. The element has an <code>onload</code> handler function attached. Each time i change the src attribute and the image loads the handler function should run. </p>\n\n<p>In Chrome and Safari, if I assign the same src as the one before, the handler function is not run. Before assigning that same src as before i've tried <code>imgElement.src=''</code>, <code>imgElement.src= null</code>, <code>imgElement.src='notExistingFile.jpg'</code> and none of it works.</p>\n\n<p>Please help. Anyone had this problem before?</p>\n\n<p><strong>Edit</strong>: it worked by doing imgElement.src = '' before assigning the same src as before:</p>\n\n<pre><code>imgElement.src = '';\nimgElement.src = 'image.jpg';\n</code></pre>\n",
            "last_activity_date": 1400958134,
            "question_id": 5024111,
            "score": 7,
            "tags": [
                "javascript",
                "image",
                "webkit",
                "onload"
            ],
            "title": "javascript, image onload() doesnt fire in webkit if loading same image"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The <code>500 (internal server error)</code> means something went wrong on the server's side.  It could be several things, but I would start by verifying that the URL and parameters are correct.  Also, make sure that whatever handles the request is expecting the request as a GET and not a POST.</p>\n\n<p>One useful way to learn more about what's going on is to use a tool like <a href=\"http://www.fiddler2.com/fiddler2/\">Fiddler</a> which will let you watch all HTTP requests and responses so you can see exactly what you're sending and the server is responding with.</p>\n\n<p>If you don't have a compelling reason to write your own Ajax code, you would be far better off using a library that handles the Ajax interactions for you.  <a href=\"http://jquery.com/\">jQuery</a> is one option.</p>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>This may be an incorrect parameter to your SOAP call; look at the format of the parameter(s) in the 'data:' json section - this is the payload you are passing over - parameter and data wrapped in JSON format.</p>\n\n<p>Google Chrome's debugging toolbar has some good tools to verify parameters and look at error messages - for example, start with the Console tab and click on the URL which errors or click on the network tab.  You will want to view the message's headers, response etc...</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Uncomment the following line : <b>[System.Web.Script.Services.ScriptService]</b></p>\n\n<p>Service will start working fine.      </p>\n\n<p>[WebService(Namespace = \"<a href=\"http://tempuri.org/\" rel=\"nofollow\">http://tempuri.org/</a>\")]</p>\n\n<p><br/></p>\n\n<p>[WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]</p>\n\n<p><br/>\n// To allow this Web Service to be called from script, using ASP.NET AJAX,\n uncomment the following line. \n   <br/></p>\n\n<p><b>[System.Web.Script.Services.ScriptService]</b></p>\n\n<p><br/></p>\n\n<p>public class WebService : System.Web.Services.WebService \n{</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am trying to learn AJAX for this project at work. I have a site that loads medications that a patient is taking.</p>\n\n<p>I call this AJAX function up recursively so that it will append a new table containing a single medication and 7 days worth of history. I am having issues getting the code to execute in FF and IE. Works perfectly fine in chrome. I had alerts displaying the xmlhttp.status and this is what i got...</p>\n\n<blockquote>\n  <p>xmlhttp.status==500 (internal server\n  error).</p>\n</blockquote>\n\n<p>I commented out all of my recursion so it is narrowed down to this tid bit of code. ( x keeps track of the number of meds so i know when to stop) </p>\n\n<pre><code>function LoadMeds()\n\n\n  if ( x == MaxMedCount )\n  {\n      document.getElementById(\"the_day\").value = parseInt(document.getElementById(\"the_day\").value)+7; \n  }\n  if ( x == (MaxMedCount - 1) )\n  {\n      document.getElementById(\"x\").value = x + 1;\n      show();\n  }\n  else\n  { \n\n      if (window.XMLHttpRequest)\n      {// code for IE7+, Firefox, Chrome, Opera, Safari\n          xmlhttp=new XMLHttpRequest();\n      }\n      else\n      {// code for IE6, IE5\n          xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n      }\n      xmlhttp.onreadystatechange=function()\n      {\n          try \n          {      \n              if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n              {     \n                  var div = document.createElement('div');\n                  div.innerHTML= xmlhttp.responseText;\n                  document.getElementById('MedTable').appendChild(div);\n                  document.getElementById(\"the_med_\").value = the_med_;\n\n              }\n\n          }\n          catch(e)\n          {\n              alert(\"Error\");  \n          }\n      }\n      xmlhttp.open(\"GET\",\"URL with variables passed\",true);\n      xmlhttp.send();     \n      document.getElementById(\"x\").value = x + 1;\n  } \n</code></pre>\n\n<p>if more code is needed just let me know </p>\n\n<p>Picture cant be provided im a noob =(</p>\n\n<p>Thanks again to all who can help this problem has been stuck with me for a couple of days now.</p>\n",
            "last_activity_date": 1402402832,
            "question_id": 4789613,
            "score": 7,
            "tags": [
                "javascript",
                "ajax",
                "xmlhttp"
            ],
            "title": "Ajax - 500 Internal Server Error"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You are creating an infinite recursion!</p>\n\n<pre><code>function duplicate()\n{\n    var div = duplicate(\"div\");\n</code></pre>\n\n<p>The function is calling itself over and over again. Use <a href=\"https://developer.mozilla.org/En/DOM/Node.cloneNode\"><code>cloneNode()</code></a>:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"duplicater0\"&gt; \nduplicate EVERYTHING INSIDE THIS DIV\n&lt;/div&gt;\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>var i = 0;\n\nfunction duplicate() {\n    var original = document.getElementById('duplicater' + i);\n    var clone = original.cloneNode(true); // \"deep\" clone\n   clone.id = \"duplicater\" + ++i; // there can only be one element with an ID\n    clone.onclick = duplicate; // event handlers are not cloned\n    original.parentNode.appendChild(clone);\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/kXmpY/\"><strong>Working DEMO</strong></a></p>\n\n<p>Or without IDs:</p>\n\n<pre><code>function duplicate() {\n    var clone = this.cloneNode(true); // \"deep\" clone\n    clone.id = \"\"; // there can only be one element with an ID\n    clone.onclick = duplicate; // event handlers are not cloned\n    this.parentNode.appendChild(clone);\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>If you want to clone the div on button click, you can use a slightly different version:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;button id=\"button\" onlick=\"duplicate()\"&gt;Click me&lt;/button&gt;\n&lt;div id=\"duplicater\"&gt; \n    duplicate EVERYTHING INSIDE THIS DIV\n&lt;/div&gt;\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>var i = 0;\nvar original = document.getElementById('duplicater');\n\nfunction duplicate() {\n    var clone = original.cloneNode(true); // \"deep\" clone\n    clone.id = \"duplicater\" + ++i;\n    // or clone.id = \"\"; if the divs don't need an ID\n    original.parentNode.appendChild(clone);\n}\n</code></pre>\n\n<p>If you are not in a form, you should use <code>&lt;button&gt;</code> instead of <code>&lt;input type=\"button\"&gt;</code>.</p>\n\n<p><a href=\"http://jsfiddle.net/kXmpY/1/\"><strong>Working DEMO 2</strong></a></p>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>Can you change the div to a class?\nIf so, then <a href=\"http://jsbin.com/eneta4\" rel=\"nofollow\">this</a> might work for you:</p>\n\n<pre><code># application.js\n$(function(){\n  $('.photo:last').after('&lt;a href=\"#\" id=\"new_resource\"&gt;Add another image&lt;a/&gt;&lt;br/&gt;');\n\n  $('a[href=#]').click(function(){\n    $(this).before($('.photo:last').clone());\n\n    $('.photo:last input').each(function(){\n      $(this).removeAttr(\"value\");\n    });\n\n    $('.photo:last input[type=hidden]').remove();\n\n    return false;\n  });\n})\n\n#html\n&lt;div class=\"photo\"\n  &lt;label&gt;label&lt;/label&gt;  \n  &lt;input type=\"file\"&gt;&lt;/input&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Edit the code <a href=\"http://jsbin.com/eneta4/edit\" rel=\"nofollow\">here</a>: </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want a div to be duplicated when a button is clicked.\nI though something like this; but it's not working. \nCan anyone help me?</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div id=\"duplicater\"&gt; \nduplicate EVERYTHING INSIDE THIS DIV\n&lt;/div&gt;\n</code></pre>\n\n<p>JAVASCRIPT</p>\n\n<pre><code>function duplicate()\n{\nvar div = duplicate(\"div\");\n    div.id = \"duplicater\";\ndiv.appendChild(duplicate(\"duplicater\"));\n}\n</code></pre>\n",
            "last_activity_date": 1419355880,
            "question_id": 4427094,
            "score": 7,
            "tags": [
                "javascript",
                "html",
                "copy",
                "duplicates"
            ],
            "title": "How can i duplicate a div onclick with javascript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><a href=\"http://jsfiddle.net/EGpmj/\" rel=\"nofollow\">The basic API still seems to work.</a></p>\n\n<p><a href=\"http://jsfiddle.net/YEGbM/1/\" rel=\"nofollow\">However, it doesn't seem to work on the window.</a></p>\n\n<p>So, the API for accessing jQuery-assigned events hasn't really changed; it just no longer applies to the window. That doesn't exactly sound like an intentional decision, and the <a href=\"http://blog.jquery.com/2010/11/11/jquery-1-4-4-release-notes/\" rel=\"nofollow\">1.4.3 -> 1.4.4 changelog</a> makes no mention of it.</p>\n\n<p>Sounds like a bug, and it might have to do with the recent changes to <code>data</code> now being able to access HTML5 <code>data-</code> attributes. Consider <a href=\"http://bugs.jquery.com/newticket\" rel=\"nofollow\">filing a ticket</a> for it :/</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There was a change in jQuery 1.4.3+ for event types, to avoid object name collisions, for <code>window</code> (or any other plain object) use the key <code>\"__events__\"</code> instead, like this:</p>\n\n<pre><code>var events = $(window).data('__events__');\n</code></pre>\n\n<p><a href=\"https://github.com/jquery/jquery/blob/1.4.4/src/event.js#L63\">The same <code>__events__</code> key is used for any objects that don't have a <code>.nodeType</code> property</a> (which <code>window</code> doesn't, so it's treated like a plain object here).</p>\n\n<hr>\n\n<p>To be clear that this was a conscious, intentional change, it's included in <a href=\"http://blog.jquery.com/2010/10/16/jquery-143-released/\">the jQuery 1.4.3 release notes</a>:</p>\n\n<blockquote>\n  <p><strong>JavaScript Objects</strong><br>\n  A number of changes were made to when .data() is used on JavaScript objects (or, more accurately, anything that isn\u2019t a DOM node). To start whenever you set data on a JavaScript object the data is set directly on the object \u2013 instead of going into the internal data object store. Additionally events that are attached to objects are put in a new <code>__events__</code> property that is actually a function. This was done to allow events to be attached directly to an object, be garbage collected when the object is collected, and not be serialized by a JSON serializer. These changes should make jQuery\u2019s data and event systems much more useful on JavaScript objects.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I recently upgraded our project's jQuery file from <code>1.4.2</code> to <code>1.4.4</code> and it appears that as of <code>1.4.3</code> the way we have been using <code>jQuery.data</code> has stopped working.</p>\n\n<p>We have this code:</p>\n\n<pre><code>var events = $(window).data('events');\n\nif (events.scroll)\nif (!events.scroll.include(handler))\n  $(window).scroll(handler);\n</code></pre>\n\n<p>the purpose is to prevent this particular handler from being bound multiple times.</p>\n\n<p>In <code>1.4.2</code>, this works fine. In <code>1.4.4</code>, <code>events</code> is undefined. </p>\n\n<pre><code>function handler() {\n  //do something\n}\n\n$(document).ready(function(){\n  $(window).scroll(handler);\n  $('div#test').scroll(handler);\n\n  $(window).data('events') -&gt; undefined\n  $('div#test').data('events') -&gt; Object\n});\n</code></pre>\n\n<p>What changed with this API? How should I list events for <code>window</code>?</p>\n\n<hr>\n\n<p>I have changed the first line to this:</p>\n\n<pre><code>var events = $(window).data('__events__').events;\n</code></pre>\n\n<p>a bit messy-looking, but the ability to wire events to plain objects is compelling.</p>\n",
            "last_activity_date": 1291259459,
            "question_id": 4331076,
            "score": 7,
            "tags": [
                "javascript",
                "javascript-events",
                "jquery"
            ],
            "title": "jQuery.data no longer works with window?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can <code>return</code> the <a href=\"https://developer.mozilla.org/en/Window.confirm\"><code>confirm()</code></a> (which returns <code>true</code>/<code>false</code>), like this:</p>\n\n<pre><code>&lt;a href=\"mysite.de/xy/delete\" onClick=\"return confirm('You sure??');\"&gt;Delete&lt;/a&gt;\n</code></pre>\n\n<p><a href=\"http://www.jsfiddle.net/nick_craver/eJzXX/\">You can test it here</a></p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>Consider what happens if the user has javascript disabled, or if google comes along and spiders the link. Will your entity be deleted?</p>\n\n<p>A better way would be to post a form to delete.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Better (though far from ideal!): turn it around. Don't let the link do anything, unless you got JavaScript:</p>\n\n<pre><code>&lt;a href=\"#\" \n  onclick=\"if confirm('Sure?') { window.location='http://mysite.de/xy/delete';}\"&gt;\n    Click to delete\n&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>There is another solution, there is a jQuery plugin that does exactly that and leaves you with clean HTML code: <a href=\"https://github.com/myclabs/jquery.confirm\" rel=\"nofollow\"><strong>jquery.confirm</strong></a></p>\n\n<p>Example:</p>\n\n<pre><code>&lt;a href=\"home\" class=\"confirm\"&gt;Go to home&lt;/a&gt;\n</code></pre>\n\n<p>JS code:</p>\n\n<pre><code>$(\".confirm\").confirm();\n</code></pre>\n\n<p>If the user confirms, he is redirected to the link of the <code>&lt;a&gt;</code>, else nothing happens.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want to add a confirm dialog to a delete button to ask the user whether it is ok or not deleting the selected item.</p>\n\n<p>If not, nothing should happend, else a url should be executed.</p>\n\n<p>I know how to realize this via some javascript code but I am looking for a solution that has less code. I mean e.g. :</p>\n\n<pre><code>&lt;a href=\"mysite.de/xy/delete\" onClick=\"...\"&gt;Delete&lt;/a&gt;\n</code></pre>\n\n<p>Is it possible to put the whole functionality in the onClick element without having some extra javascript in the header?</p>\n",
            "last_activity_date": 1368646013,
            "question_id": 4292455,
            "score": 7,
            "tags": [
                "javascript",
                "html",
                "javascript-events"
            ],
            "title": "Javascript confirm dialog"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Use the <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/global_objects/string/charat\"><code>charAt</code></a> method.  As far as client or server, it depends on the context.  But you should not trust client input.</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p><strong>JavaScript:</strong></p>\n\n<pre><code>js&gt; s=\"Hello\";\nHello\njs&gt; for (c in s) {\n  print(s[c]);\n}\nH\ne\nl\nl\no\n</code></pre>\n\n<p><strong>Python:</strong></p>\n\n<pre><code>&gt;&gt;&gt; s = 'Hello'\n&gt;&gt;&gt; for c in s:\n...   print c\n... \nH\ne\nl\nl\no\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>Not sure if this is cross-browser safe, but you can use array-like indexing:</p>\n\n<pre><code>\"Hello\"[0] -&gt; \"H\"\n</code></pre>\n\n<p>The syntax is exactly the same in Python.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h2>Let me summarize the possibilities</h2>\n\n<p>given:</p>\n\n<pre><code>var string = \"HAI\";\n/* and */\nvar index = 1; // number \u2208 [0..string.length), rounded down to integer\n</code></pre>\n\n<ul>\n<li><code>string.charAt(index)</code> returns <code>\"A\"</code> (<a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/charAt\">preferred</a>)</li>\n<li><code>string[index]</code> returns <code>\"A\"</code> (<a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String#Character_access\">non-standard</a>)</li>\n<li><code>string.substring(index, index+1)</code> returns <code>\"A\"</code> (<a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/substring\">over-complex solution but works</a>)</li>\n<li><code>string.substr(index, 1)</code> returns <code>\"A\"</code> (<a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/substr\">non-standard approach to above</a>)</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 23
                }
            ],
            "body": "<p>I've a string (let's say \"Hello World\") and I want to save the first characters of it in different variables (ex. character1 = \"H\", character2 = \"e\"...).</p>\n\n<p>How do I get the nth character in the string?</p>\n\n<p>Thanks!</p>\n\n<p>Bonus: \nHow could I do it with Python? Would it be better than doing it client-side?</p>\n",
            "last_activity_date": 1290755847,
            "question_id": 4282798,
            "score": 7,
            "tags": [
                "javascript"
            ],
            "title": "How to get nth character in a string in Javascript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I think the only way you can do it is like this:</p>\n\n<pre><code>&lt;form method=\"post\" action=\"/gethostname\"&gt;\n    &lt;label for=\"hostname\"&gt;What is your hostname?&lt;/label&gt;\n    &lt;input type=\"text\" name=\"hostname\" id=\"hostname\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>But I would suggest you don't really need it, it's not like you can do anything useful with the information.  If you just want a string to identify with the user's machine then you can make something up.</p>\n\n<p>If what you're really after is the FQDN then I would suggest it's still not really that useful to you, but for that you need <a href=\"http://en.wikipedia.org/wiki/Reverse_DNS_lookup\">Reverse DNS lookup</a>.  If you're on a VPS or similar you can probably configure your box to do this for you, but note that it'll likely take a few seconds so it's not a good idea to do it as part of a response.  Also note, you'll not be getting the user's machine's FQDN in most cases but that of their router.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>I think this might help you. That's not exactly the client hostname but the ip address.</p>\n\n<pre><code>function getClientAddress(req) {\n  return req.headers['x-forwarded-for'] || req.connection.remoteAddress;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>You can use the 'dns' module to do a reverse dns lookup:</p>\n\n<pre><code>require('dns').reverse('12.12.12.12', function(err, domains) {\n    if(err) {\n        console.log(err.toString());\n        return;\n    }\n    console.log(domains);\n});\n</code></pre>\n\n<p>See: <a href=\"http://nodejs.org/docs/v0.3.1/api/all.html#dns.reverse\">http://nodejs.org/docs/v0.3.1/api/all.html#dns.reverse</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>if you are using express,</p>\n\n<p>then you can do as follows,</p>\n\n<pre><code>var express = require(\"express\"); \nvar app = express.createServer();\napp.listen(8080);\n\napp.get(\"/\", function (req, res){\n    console.log(\"REQ:: \"+req.headers.host);\n    res.end(req.headers.host);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can also achieve the same if you're using socket.io in the following manner:</p>\n\n<pre><code>// Setup an example server\nvar server = require('socket.io').listen(8080);\n\n// On established connection\nserver.sockets.on('connection', function (socket) {\n\n    // Get server host\n    var host = socket.handshake.headers.host;\n\n    // Remove port number together with colon\n    host = host.replace(/:.*$/,\"\");\n\n    // To test it, output to console\n    console.log(host);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>is it possible to get <em>hostname</em> in Node.js?</p>\n\n<p><strong>This is how I get client's IP:</strong></p>\n\n<pre><code>var ip = request.header('x-forwarded-for');\n</code></pre>\n\n<p><strong>So, how do I get client's hostname?</strong></p>\n\n<pre><code>var hostname = request.header('???');\n</code></pre>\n\n<p>Thanks for reply!</p>\n",
            "last_activity_date": 1379110436,
            "question_id": 4255264,
            "score": 7,
            "tags": [
                "javascript",
                "node.js"
            ],
            "title": "Getting client hostname in Node.js"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>I'd say this is a bug, doubly so because there's already logic preventing a \u2018deadlock\u2019 from happening when both slider handles are at the minimum / far left position:</p>\n\n<pre><code>// workaround for bug #3736 (if both handles of a range are at 0,\n// the first is always used as the one with least distance,\n// and moving it is obviously prevented by preventing negative ranges)\nif( o.range === true &amp;&amp; this.values(1) === o.min ) {\n  index += 1;\n  closestHandle = $( this.handles[index] );\n}\n</code></pre>\n\n<p>It looks like <a href=\"http://bugs.jqueryui.com/ticket/3736\" rel=\"nofollow\">ticket #3736</a> is still open, with mentioning of the specific problem you're seeing.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Ah, I like it to eat through 11k libs, don't you too? :)</p>\n\n<p><strong>Note:</strong> The following is for jQuery UI 1.8.5</p>\n\n<p>Anyways, here's a pretty clean solution:  </p>\n\n<pre><code>// add some stuff to the slider instance\nthis._handleIndex = null;\nthis._handleStartValue = -1; \n\n// remember the starting values in _mouseCapture\nthis._handleStartValue = this.values( this._handleIndex ); \nthis._mouseDownOffset = this._normValueFromMouse( { x: event.pageX, y: event.pageY } );\n\n\n// modify _mouseDrag\noldValue = this.values( this._handleIndex ),\ncurValue;\n\ncurValue = this.values(this._handleIndex);\nif ( curValue === oldValue &amp;&amp; this._handleStartValue !== -1 ) {\n    if ( normValue - this._mouseDownOffset &gt; 0\n         &amp;&amp; ( curValue === this.values( ( this._handleIndex + 1 ) % 2 ) )\n         &amp;&amp; oldValue === this._handleStartValue) {\n\n        this._handleIndex = (this._handleIndex + 1) % 2;\n    }\n\n} else {\n    this._handleStartValue = - 1\n}\n\n// reset everything in _mouseStop\nthis._handleIndex = null;\nthis._handleStartValue = -1; \n</code></pre>\n\n<p>And that's all there is to it, oh how it works, of course:  </p>\n\n<ol>\n<li>Save the starting mouse offset as well as the value of the initially select handle</li>\n<li>When dragging compare the old value to the current value of the active handle and also check whether the start position is valid</li>\n<li>In case there's no difference we check whether there would be a difference if the active handle could be dragged further</li>\n<li>If that's the case we check whether both handles have the same value, that means they're on top of each other</li>\n<li>Now we check if the the currently selected handle hasn't been dragged yet</li>\n<li>And finally if all that is true, we switch the handles</li>\n<li>In case the user now changes the value we invalidate our start position so that there's no more switching between the handles</li>\n</ol>\n\n<p>And for your pleasure here's a <code>diff</code>:  </p>\n\n<pre><code>9960c9960,9962\n&lt; \n---\n&gt;       \n&gt;       this._handleIndex = null;\n&gt;       this._handleStartValue = -1; \n10215a10218,10219\n&gt;         this._handleStartValue = this.values( this._handleIndex ); \n&gt;       this._mouseDownOffset = this._normValueFromMouse( { x: event.pageX, y: event.pageY } );\n10243c10247,10249\n&lt;           normValue = this._normValueFromMouse( position );\n---\n&gt;           normValue = this._normValueFromMouse( position ),\n&gt;           oldValue = this.values( this._handleIndex ),\n&gt;           curValue;\n10246c10252,10263\n&lt; \n---\n&gt;       curValue = this.values(this._handleIndex);\n&gt;       if ( curValue === oldValue &amp;&amp; this._handleStartValue !== -1 ) {\n&gt;           if ( normValue - this._mouseDownOffset &gt; 0\n&gt;                &amp;&amp; ( curValue === this.values( ( this._handleIndex + 1 ) % 2 ) )\n&gt;                &amp;&amp; oldValue === this._handleStartValue) {\n&gt;             \n&gt;               this._handleIndex = (this._handleIndex + 1) % 2;\n&gt;           }\n&gt;         \n&gt;       } else {\n&gt;           this._handleStartValue = - 1\n&gt;       }\n10257a10275,10276\n&gt;       this._handleStartValue = -1; \n&gt;       this._handleIndex = null;\n</code></pre>\n\n<p>Save it to <code>ui.diff</code> then do <code>patch -i ui.diff jquery-ui.js</code>.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>With apologies to Ivo there, whose <a href=\"http://stackoverflow.com/questions/4239458/jquery-ui-sliders-select-overlapping-sliders-based-on-dragging-direction/4249476#4249476\">excellent answer</a> there I'm sure took a lot of effort to create. The problem is that I couldn't apply that solution, because I'm already on 1.8.6, I can't find the 1.8.5 sources anywhere to apply it to, and somehow I just couldn't get the patch to work for 1.8.6, even when I tried adding in the lines manually.</p>\n\n<p>The following is my solution to the problem. It is simpler than Ivo's, but that might be because of differences between the two point releases. The solution is as follows: </p>\n\n<ol>\n<li>Splice in an additional variable to keep track of the original values</li>\n<li>When the conditions are met, (two handles, same value, new value larger than current), to flip an internal variable (<code>_handleIndex</code>) around, causing the maximum handle to be used for reference for the internal <code>_slide</code> function instead of the first. </li>\n</ol>\n\n<p>The <code>diff</code> is as follows: </p>\n\n<pre><code>46a47,48\n&gt;       \n&gt;       this._originalVal;\n310a313,314\n&gt;       \n&gt;       this._originalVal = this.values();\n323a328,331\n&gt;       \n&gt;       if(this._originalVal[0] === this._originalVal[1] &amp;&amp; normValue &gt; this._originalVal[0]){\n&gt;           this._handleIndex = 1;\n&gt;       }\n</code></pre>\n\n<p>The first part should be inserted into the initialising area, where the variables are declared, the second into the <code>_mouseCapture</code> function right before the call to <code>_slide</code>, and the last part into the <code>_mouseDrag</code> function, also right before the call to <code>_slide</code>. </p>\n\n<p><strong>Here's a working example with the patch: <a href=\"http://www.jsfiddle.net/HcGXZ/\" rel=\"nofollow\">http://www.jsfiddle.net/HcGXZ/</a></strong></p>\n\n<p>A copy of the patched jQuery UI 1.8.6 Slider file can be found here: <a href=\"http://dl.dropbox.com/u/1722364/jQuery%20UI%20Slider%20Patch/jquery.ui.slider.patched.js\" rel=\"nofollow\">http://dl.dropbox.com/u/1722364/jQuery%20UI%20Slider%20Patch/jquery.ui.slider.patched.js</a></p>\n\n<p>As always, this patch has not been extensively tested and is not guaranteed to work for all scenarios. </p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I tried <a href=\"http://stackoverflow.com/questions/4239458/jquery-ui-sliders-select-overlapping-sliders-based-on-dragging-direction/4254932#4254932\">Yi Jiang's solution</a> with 1.8.12 and it broke on a slider with a single handle, but worked perfectly after I changed</p>\n\n<pre><code>this._originalVal = this.values();\n</code></pre>\n\n<p>to</p>\n\n<pre><code>this._originalVal = this.options.values === null ? this.value() : this.values();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Another solution:\nTest for both values and if they are the same, return to the last step.</p>\n\n<pre><code> $(\"#slider\").slider({ \n            range:true, \n            min:0, \n            max:250,\n            step: 25,\n            slide: function( event, ui ) {\n                if (ui.values[0] == ui.values[1]){\n                    return false;\n                }else{\n                    $( \"#amount\" ).html( \"&amp;euro;\" + ui.values[0] + \" - &amp;euro;\" + ui.values[1] );\n                }\n            }\n      });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's a new version for jQuery UI 1.10.2</p>\n\n<p>Patch file: <a href=\"http://pastebin.com/Dsxw8NYR\" rel=\"nofollow\">http://pastebin.com/Dsxw8NYR</a></p>\n\n<p>Complete file: <a href=\"http://pastebin.com/ibSpAAX1\" rel=\"nofollow\">http://pastebin.com/ibSpAAX1</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Put this into the initialising area, where the variables are declared:</p>\n\n<pre><code>this._originalVal;\n</code></pre>\n\n<p>Put this into the <code>_mouseCapture</code> function right before the call to <code>_slide</code>:</p>\n\n<pre><code>this._originalVal = this.values();\n</code></pre>\n\n<p>And this into the <code>_mouseDrag</code> function, also right before the call to <code>_slide</code></p>\n\n<pre><code>if (this._originalVal[0] === this._originalVal[1]\n      &amp;&amp; normValue &gt; this._originalVal[0]) {\n    this._handleIndex = 1;\n} else if (this._originalVal[0] === this._originalVal[1]\n             &amp;&amp; normValue &lt; this._originalVal[0]) {\n    this._handleIndex = 0;\n}\n</code></pre>\n\n<p>I just added an <code>else if</code> to the above code; it's working fine in jQuery 1.8.14 for \nboth left and right button handlers.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have this simple jQuery UI Slider setup with a range and a two default values that overlap. The entire thing (with a few bells and whistles) can be found in this jsfiddle: <a href=\"http://jsfiddle.net/yijiang/XeyGS/\">http://jsfiddle.net/yijiang/XeyGS/</a></p>\n\n<pre><code>$('#slider').slider({\n    min: 1,\n    max: 11,\n    range: true,\n    values: [4, 4]\n});\n</code></pre>\n\n<p>The problem with this is that when you attempt the drag the single visible handle to the right, it fails, because jQuery UI always places the minimum handle on top. This is obviously bad, for a number of reasons. </p>\n\n<p>Is there a way to allow jQuery UI to choose which handle to drag depending on which direction the user starts dragging? </p>\n",
            "last_activity_date": 1386821714,
            "question_id": 4239458,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui",
                "jquery-ui-slider"
            ],
            "title": "jQuery UI Sliders - Select overlapping sliders based on dragging direction"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It appears as though it is expecting that you are trying to add encoded HTML but it's detecting it as malformed.<br>\nDoes \n<code>var div = document.createElement('div'); div.innerHTML = \"&amp;amp;raquo;\";</code> do what you need?</p>\n\n<p>Per Comment:  <code>var dv = document.createElement('div'); dv.innerHTML = \"&amp;#187;\"; document.getElementById('test').appendChild(dv);</code></p>\n\n<p>I got the encoded character <a href=\"http://www.opinionatedgeek.com/dotnet/tools/htmlencode/encode.aspx\" rel=\"nofollow\">here</a>.</p>\n\n<p>You're right about <code>&amp;raquo;</code> being valid encoded HTML.  I can only guess it's a limitation of the browser.  </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'm answering my own question.</p>\n\n<p>The short answer: it's because of browser limitation.</p>\n\n<p>If a page is recognized as XHTML by certain browsers, only a subset of named character entities allowed by the standard are supported for innerHTML assignment.</p>\n\n<p>Specifically in my testing, it seems that in Mozilla and Webkit, only <code>&amp;quot;</code>, <code>&amp;amp;</code>, <code>&amp;lt;</code> and <code>&amp;gt;</code> are allowed in innerHTML assignment. </p>\n\n<p>My testing code is available here: <a href=\"https://gist.github.com/673901\">https://gist.github.com/673901</a></p>\n\n<p>XHTML is a \"better\" and cleaner version of HTML reformulated in XML. XHTML 1.1 was supposed to be the successor and future of HTML. However, this is unlikely to happen with the adoption of HTML5.</p>\n\n<p>Unlike HTML, which requires a dedicated HTML parser, an XHTML document can be parsed by a general XML parser. At least in mozilla and webkit, XHTML and HTML go through different code paths. It's understandable that the HTML code path is where most effort goes to and also better tested because there are far more HTML documents out there than XHTML.</p>\n\n<p>It is worth noting that whether a document is recognized as XHTML is determined by the effective MIME type rather than the document content.</p>\n\n<p>The conclusion is that if you are working with XHTML, make sure you convert named entities to numeric entities (e.g. <code>&amp;nbsp;</code> -> <code>&amp;#160;</code>) before assigning to .innerHTML.</p>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>On this page <a href=\"http://blog.zacharyvoase.com/2010/11/11/sockets-and-nodes-i/\" rel=\"nofollow\">http://blog.zacharyvoase.com/2010/11/11/sockets-and-nodes-i/</a>, running the following code in javascript console will throw an Exception.</p>\n\n<pre><code>var div = document.createElement('div'); div.innerHTML = \"&amp;raquo;\";\n</code></pre>\n\n<ul>\n<li>Chrome 8.0.552.28 Mac: Error: INVALID_STATE_ERR: DOM Exception 11  </li>\n<li>Firebug in Firefox 3.6.12 Mac: NS_ERROR_DOM_SYNTAX_ERR An invalid or illegal string was specified  </li>\n<li>Safari 5.0.2 Mac: Error: NO_MODIFICATION_ALLOWED_ERR: DOM Exception 7<br>\nOpera: works fine</li>\n</ul>\n\n<p>But it works fine in all other pages I tried. My questions are <strong>what's special about the page</strong> and <strong>why does chrome and firefox throw an exception</strong>?</p>\n\n<p>Writing the character directly without using entity works fine.</p>\n\n<pre><code>var div = document.createElement('div'); div.innerHTML = \"\u00bb\";\n</code></pre>\n\n<p>Using other entities also works, e.g.</p>\n\n<pre><code>var div = document.createElement('div'); div.innerHTML = \"&amp;lt;\";\n</code></pre>\n",
            "last_activity_date": 1422997341,
            "question_id": 4162270,
            "score": 7,
            "tags": [
                "javascript",
                "html",
                "innerhtml"
            ],
            "title": "DOM Exception when assigning HTML entities to innerHTML"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Cross domain ajax requests are forbidden by protocol. And yes, subdomains too.</p>\n\n<p>Read here: <a href=\"http://www.ajax-cross-domain.com/\" rel=\"nofollow\">http://www.ajax-cross-domain.com/</a> It might help;</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You cannot do cross-domain ajax requests. That includes subdomains. However, it is possible to use <a href=\"http://en.wikipedia.org/wiki/JSON#JSONP\" rel=\"nofollow\">JSONP</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>shazmo said this in a earlier post:</p>\n\n<blockquote>\n  <p>Cross domain is entirely a different\n  subject. But cross sub-domain is\n  relatively easy.</p>\n  \n  <p>More info here:\n  <a href=\"http://www.tomhoppe.com/index.php/2008/03/cross-sub-domain-javascript-ajax-iframe-etc/\">http://www.tomhoppe.com/index.php/2008/03/cross-sub-domain-javascript-ajax-iframe-etc/</a></p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Shameless plug, but this may help:\n<a href=\"http://alexn.org/blog/2011/03/24/cross-domain-requests.html\" rel=\"nofollow\">http://alexn.org/blog/2011/03/24/cross-domain-requests.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>yes, you can cross domain ajax calls, check cross-origin resource sharing:\n<a href=\"http://en.wikipedia.org/wiki/Cross-Origin_Resource_Sharing\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Cross-Origin_Resource_Sharing</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I know this is an old post, I provided a detailed example for cross domain ajax request using JSONP, hopefully it helps those who is in trouble:</p>\n\n<p><a href=\"http://www.shanison.com/2012/05/11/cross-domain-ajax-request/\" rel=\"nofollow\">http://www.shanison.com/2012/05/11/cross-domain-ajax-request/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I guess I found the link that  @Patrick had posted and it had become broken</p>\n\n<p><a href=\"http://hoppeweb.blogspot.com/2008/03/cross-sub-domain-javascript-ajax-iframe.html\" rel=\"nofollow\">http://hoppeweb.blogspot.com/2008/03/cross-sub-domain-javascript-ajax-iframe.html</a></p>\n\n<p>to avoid happening this again I will just try to re-post it)</p>\n\n<p>The idea is setting up an iframe html on one domain and then calling that iframe from the page on the other subdomain. Both parent page and the iframe inside it should have the same <code>document.domain</code>.</p>\n\n<pre><code>document.domain = \"example.com\"\n</code></pre>\n\n<p>once done, those two pages act like they are on the same domain.</p>\n\n<p>the rest, just copy-pasted ((</p>\n\n<blockquote>\n  <p>For example, for pulling in text, setup your page on\n  www.yourdomain.com and set document.domain to yourdomain.com. If you\n  are trying to pull in an html page using Ajax from img.yourdomain.com,\n  setup a page that, will become the iframe, to do the ajax pull. After\n  that pull is complete set the document.domain to yourdomain.com. In\n  your page on www. create an iframe which has the src set to your page\n  on img. Since document.domain is set, any functions on the parent page\n  are available to be called via the iframe. Lets say you want to put\n  your newly \"ajaxed\" html into a div on the parent page, you can do\n  that via \"parent.getElementById('yourDivName').innerHTML =\n  Response.Text\".</p>\n  \n  <p>If you are pulling in XML, you can setup the page/iframe relationship\n  the same as above. That iframe will make the ajax call to the XML on\n  img.yourdomain.com and do something with it, lets say turn it into an\n  array. Once that is completed, set the document.domain on the iframe\n  page. At this point, the parent page can access that array on its\n  iframe via \"iframeName.arrayName\". Alternatively you can have an array\n  read on the parent page for this information and pass it to the parent\n  from the iframe via \"parent.arrayName = iframeArray\".</p>\n</blockquote>\n\n<p>originally by @Tom Hoppe</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a way to make an Ajax request to </p>\n\n<p>s3-ap-southeast-1.s3.amazonaws.com (to S3 API) </p>\n\n<p>from </p>\n\n<p>s3.amazonaws.com </p>\n\n<p>(from where a JavaScript app that is hosted at)?</p>\n",
            "last_activity_date": 1421741095,
            "question_id": 4106993,
            "score": 7,
            "tags": [
                "javascript",
                "ajax"
            ],
            "title": "Ajax cross-sub-domain requests?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<pre><code>java -jar path/to/closure-compiler/build/compiler.jar \\ \n--js input_one.js \\ \n--js input_two.js \\ \n... \\ \n--js_output_file compiled_output.js \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>Assuming that you\u2019ve installed the Closure Compiler with Homebrew on a Mac, you can also concatenate all files and then pipe them to to Closure (this should also work the <code>java -jar</code> way, but I haven\u2019t verified it):</p>\n\n<pre><code>cat $(ls scripts/*.js) | closure-compiler --js_output_file main.js\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I tried Orbits' answer, but It didn't really work perhaps the version I use is a newer version. The command I use is :</p>\n\n<pre><code>java -jar compiler.jar --js file1.js file2.js file3.js  --js_output_file --js_output_file compiled_output.js. \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>You can use KjsCompiler: <a href=\"https://github.com/knyga/kjscompiler\" rel=\"nofollow\">https://github.com/knyga/kjscompiler</a>\n. Compiles multiple JavaScript files with Google Closure Compiler application in a right order</p>\n\n<p>How to solve your problem:\n1. Add annotations to js files, like this:</p>\n\n<p><code>/**\n* @depends {lib/somefile.js}\n**/</code>\nIf you do not care about compilation chain, you can ignore this step.\n2. <code>java -jar kjscompile.jar</code></p>\n\n<p>You can look for example here: <a href=\"https://github.com/knyga/kjscompiler/tree/master/examples\" rel=\"nofollow\">https://github.com/knyga/kjscompiler/tree/master/examples</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here are five globbing techniques for including multiple input files, with documentation extracted from the <a href=\"https://github.com/google/closure-compiler/blob/master/src/com/google/javascript/jscomp/CommandLineRunner.java\" rel=\"nofollow\"><code>CommandLineRunner</code></a> class:</p>\n\n<hr>\n\n<p><strong>(1)</strong> This is a variation of <a href=\"http://stackoverflow.com/q/4043402#comment25381287_13916065\">muka's technique</a>, removing the <code>--js</code> flag, which is not needed:</p>\n\n<pre><code>java -jar compiler.jar \\\n    --js_output_file build/out.js `find ./src/*.js`\n</code></pre>\n\n<p>From the docs:</p>\n\n<blockquote>\n  <p>The <code>--js</code> flag name is optional, because args are interpreted as files by default.</p>\n</blockquote>\n\n<p>This will include all <code>.js</code> files in <code>/src/</code>, but won't include any files in subdirectories of <code>/src/</code>.</p>\n\n<hr>\n\n<p><strong>(2)</strong> Similar to <strong>1</strong>, but will include all <code>.js</code> files in <code>/src/</code> <em>and all its subdirectories</em>:</p>\n\n<pre><code>java -jar compiler.jar \\\n    --js_output_file build/out.js `find ./src/ -name '*.js'`\n</code></pre>\n\n<hr>\n\n<p><strong>(3)</strong> Similar to <strong>2</strong>, but uses <code>xargs</code>:</p>\n\n<pre><code>find ./src/ -name '*.js' \\\n    | xargs java -jar compiler.jar \\\n                --js_output_file build/out.js \\\n                --manage_closure_dependencies\n</code></pre>\n\n<p>From the docs:</p>\n\n<blockquote>\n  <p>It is convenient to leverage the additional arguments feature when using the\n  Closure Compiler in combination with <code>find</code> and <code>xargs</code>:</p>\n\n<pre><code>find MY_JS_SRC_DIR -name '*.js' \\\n    | xargs java -jar compiler.jar --manage_closure_dependencies\n</code></pre>\n  \n  <p>The <code>find</code> command will produce a list of '*.js' source files in\n  the <code>MY_JS_SRC_DIR</code> directory while <code>xargs</code> will convert them\n  to a single, space-delimited set of arguments that are appended to the\n  <code>java</code> command to run the Compiler.</p>\n  \n  <p>Note that it is important to use the\n  <code>--manage_closure_dependencies</code> option in this case because the\n  order produced by <code>find</code> is unlikely to be sorted correctly with\n  respect to <code>goog.provide()</code> and <code>goog.requires()</code>.</p>\n</blockquote>\n\n<hr>\n\n<p><strong>(4)</strong> The <a href=\"https://github.com/google/closure-compiler/releases/tag/v20140625\" rel=\"nofollow\">v20140625</a>\nrelease added support for the <code>**</code> (globstar) wildcard, which recursively\nmatches all subdirectories.</p>\n\n<p>For example, this will include all <code>.js</code> files in <code>/src/</code> and all its subdirectories:</p>\n\n<pre><code>java -jar compiler.jar \\\n    --js_output_file build/out.js './src/**.js'\n</code></pre>\n\n<p>More info <a href=\"https://github.com/google/closure-compiler/pull/454\" rel=\"nofollow\">here</a>. From the docs:</p>\n\n<blockquote>\n  <p>You may also use minimatch-style glob patterns. For example, use:</p>\n\n<pre><code>--js='**.js' --js='!**_test.js'\n</code></pre>\n  \n  <p>to recursively include all js files that do not end in _test.js</p>\n</blockquote>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html#getPathMatcher(java.lang.String)\" rel=\"nofollow\">Java docs</a>:</p>\n\n<blockquote>\n  <p>The following rules are used to interpret glob patterns:</p>\n  \n  <ul>\n  <li>The <code>*</code> character matches zero or more characters of a name component without crossing directory boundaries.</li>\n  <li>The <code>**</code> characters matches zero or more characters crossing directory boundaries.</li>\n  </ul>\n</blockquote>\n\n<hr>\n\n<p><strong>(5)</strong> The <a href=\"https://github.com/google/closure-compiler/releases/tag/v20140625\" rel=\"nofollow\">v20140625</a>\nrelease also added a new feature: if the input path is a directory, then all <code>.js</code> files\nin that directory and all subdirectories will be included.</p>\n\n<p>For example, this will include all <code>.js</code> files in <code>/src/</code> and all its subdirectories:</p>\n\n<pre><code>java -jar compiler.jar \\\n    --js_output_file build/out.js './src/'\n</code></pre>\n\n<p>More info <a href=\"https://github.com/google/closure-compiler/pull/454\" rel=\"nofollow\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I would like to Compress all my file <code>.js</code> in a same directory in one file with Google Closure Compiler in a command line.</p>\n\n<p>For one file it's :</p>\n\n<pre><code>java -jar compiler.jar --js test.js --js_output_file final.js\n</code></pre>\n\n<p>But I didn't find in the doc how put my other file at the end of <code>final.js</code> without write over the last compress file ?</p>\n\n<p>I would like something like that : </p>\n\n<pre><code>java -jar compiler.jar --js --option *.js --js_output_file final.js\n</code></pre>\n\n<p>It's possible or must I do a programm who add all file in a file and after compress it ?\nThank you if you can help me !</p>\n",
            "last_activity_date": 1413994041,
            "question_id": 4043402,
            "score": 7,
            "tags": [
                "javascript",
                "compression",
                "google-closure-compiler"
            ],
            "title": "Compress all file .js with Google Closure Compiler Application in one File"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>the short answer is yes - javascript and jquery events fired based on a given keypress would probably work best.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>You need to listen for keypresses while the menu is open, the have your code move the selected position.</p>\n\n<p>8 = backspace, 13 = return, 27 = esc, 40 = down, 38 = up etc. These are just ASCII values of the keypresses.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Easiest way would be adding <a href=\"http://www.alistapart.com/articles/accesskeys/\" rel=\"nofollow\">accesskeys</a> to the menu links. It's a feature designed for exactly that function.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use <code>accesskey</code> attribute for anchor tag:</p>\n\n<pre><code>&lt;a href=\"something.html\" accesskey=\"s\"&gt;[S]omething&lt;/a&gt;\n</code></pre>\n\n<p>but keyboard shortcut to use this differs across all the browsers:</p>\n\n<ul>\n<li><strong>IE</strong>: Alt + <em>accesskey</em>, Enter</li>\n<li><strong>FireFox</strong>: Alt + Shift + <em>accesskey</em> </li>\n<li><strong>Opera</strong>: Shift + Esc + <em>accesskey</em></li>\n<li><strong>Chrome</strong>: Alt + <em>accesskey</em></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Key events:<br>\n<a href=\"http://api.jquery.com/keypress/\" rel=\"nofollow\">http://api.jquery.com/keypress/</a><br>\n<a href=\"http://api.jquery.com/keydown/\" rel=\"nofollow\">http://api.jquery.com/keydown/</a><br>\n<a href=\"http://api.jquery.com/keyup/\" rel=\"nofollow\">http://api.jquery.com/keyup/</a></p>\n\n<p>CSS Menu, tab accessible:<br>\n<a href=\"http://carroll.org.uk/sandbox/suckerfish/bones2.html\" rel=\"nofollow\">http://carroll.org.uk/sandbox/suckerfish/bones2.html</a></p>\n\n<p>The latter works by using the :focus pseudo-element. I've come across some caveats with the method described in the article, but it works.</p>\n\n<p>The former (set) is self-explanatory.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Give this menu script a try, one that I built for our state portal in Minnesota.  It's keyboard-accessible (tab key to navigate through all levels), shows the path structure in which you're traversing down through, and supports up to a total of five levels (including the top level).</p>\n\n<p><a href=\"http://code.google.com/p/keyboard-accessible-jquery-menu/\" rel=\"nofollow\">Top Menu: keyboard-accessible jquery menu</a>.</p>\n\n<p>It is presently limited to just a top, horizontal style navigation, but future versions will make it extensible to either a vertically or horizontally oriented menu.</p>\n\n<p>It also has limited touch support (a little buggy with the iPhone/iPad), but I'm working on that as well to be more widely supported.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is there a way to build keyboard accessible dropdown menus on web sites?  Our current web application has standard hover menus, but this really slows down our data entry clerks (who are accustomed to desktop apps where there's a keyboard accessible menu and no need to use a mouse).  </p>\n\n<p>We figured out how to show the menu with a keyboard shortcut, but I'm not sure how to select one of the entries (such as by using the first letter of the menu entry like in most desktop apps).  </p>\n\n<p><strong>Edit</strong> - a link to a site that does this, or some other type of example, would be REALLY helpful</p>\n",
            "last_activity_date": 1346264781,
            "question_id": 3945490,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css"
            ],
            "title": "Keyboard accessible web dropdown menus?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I can't get it to work on <code>$.get()</code> because it has no <code>complete</code> event.</p>\n\n<p>I suggest to use <code>$.ajax()</code> like this,</p>\n\n<pre><code>$.ajax({\n    url: 'http://www.example.org',\n    data: {'a':1,'b':2,'c':3},\n    dataType: 'xml',\n    complete : function(){\n        alert(this.url)\n    },\n    success: function(xml){\n    }\n});\n</code></pre>\n\n<h1><a href=\"http://jsfiddle.net/Tu6Zr/\" rel=\"nofollow\">craz demo</a></h1>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>Since jQuery.get is just a shorthand for jQuery.ajax, another way would be to use the latter one's <code>context</code> option, as stated in the <a href=\"https://api.jquery.com/jquery.ajax/\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p>The <code>this</code> reference within all callbacks is the object in the context option passed to <code>$.ajax</code> in the settings; if context is not specified, this is a reference to the Ajax settings themselves.</p>\n</blockquote>\n\n<p>So you would use\n</p>\n\n<pre><code>$.ajax('http://www.example.org', {\n  dataType: 'xml',\n  data: {'a':1,'b':2,'c':3},\n  context: {\n    url: 'http://www.example.org'\n  }\n}).done(function(xml) {alert(this.url});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have the code:</p>\n\n<pre><code>$.get('http://www.example.org', {a:1,b:2,c:3}, function(xml) {}, 'xml');\n</code></pre>\n\n<p>Is there a way, to fetch the url it used to make the request after the request has been made(in the callback or otherwise)?</p>\n\n<p>I would want the output:</p>\n\n<pre><code>http://www.example.org?a=1&amp;b=2&amp;c=3\n</code></pre>\n",
            "last_activity_date": 1414409421,
            "question_id": 3828104,
            "score": 7,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "How to get request url in a jQuery $.get/ajax request"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Do you plan to extend default DOM elements? If so, please don't. Juriy Zaytsev (aka Kangax) clearly describes why not in <a href=\"http://perfectionkills.com/whats-wrong-with-extending-the-dom/\"><strong>What\u2019s wrong with extending the DOM</strong></a>.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Yes, unfortunately. It would be lovely to be able to add functionality by fiddling the DOM prototypes, but in practice it's just not reliable given today's technology.</p>\n\n<p><code>Document</code>, <code>Element</code> and others etc may be \u2018host objects\u2019 implemented by the browser with no ability to fiddle with their prototypes. Host objects may potentially have many other weird behaviours that a native JavaScript object wouldn't. DOM Nodes are host objects in IE6-7 and many older, niche and mobile browsers.</p>\n\n<p>Even if they are implemented as native-JavaScript objects, there is no standard (yet) that described where the constructor-function for them is to be found, for you to go fishing about in the <code>.prototype</code>. <code>Document</code>, <code>Element</code> and so on are just W3 DOM interface names, they say nothing about what the implementation objects are to be found.</p>\n\n<p>It happens that modern browsers (IE8 native mode and recent versions of Firefox, Opera and WebKit) do make constructor-functions available so you can start adding methods to <code>Document</code> or <code>HTMLElement</code>. But even then, there are differences between what objects are exposed, as not every browser provides the DOM interfaces with implementations under the same names. (The subinterfaces/implementations of <code>NodeList</code> are particularly troublesome.)</p>\n\n<p>You can see how DOM prototyping has worked in practice by looking at the Prototype.js framework. When it works, it's super smooth. But because you can't prototype everywhere, you end up with some extremely ugly stuff where the framework has to deal with places prototyping won't work by copying methods into every instance of a Node. And then you've got the situation where your code might forget it needs to force this \u2018augmentation\u2019 and so it might work or not work depending on whether some other function happened to augment the same node before. This leads to really horrible browser-specific, interaction-order-specific, race-condition-prone debugging pain.</p>\n\n<p>If you can limit your prototyping work to a few well-supported interfaces, and give up on all but the latest browsers, you can probably get away with it.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>Are there general reasons not to deal with Document's and Element's prototype?</p>\n\n<p>I like to create my own little framework, because my current project doesn't need the mass of features of the existing frameworks.</p>\n\n<p>I don't need to support browsers which don't support Element/Document-constructor and also will not execute scripts that are not under my control.</p>\n\n<p>So would you recommend to extend the prototype or should I go the usual way and create own objects from Element/Document?</p>\n",
            "last_activity_date": 1424973999,
            "question_id": 3826599,
            "score": 7,
            "tags": [
                "javascript",
                "prototype",
                "constructor",
                "document",
                "element"
            ],
            "title": "General reasons not to deal with Document&#39;s and Element&#39;s prototype"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>That's wonky, and seems to be IE-only (but so is VML).  If the parent element has a height specified, you can attach the mouseout handler to the parent... but it sounds like that won't work in your situation.  Your best alternative is to use mouseover on adjacent elements to hide it:</p>\n\n<pre><code>$(function()\n{\n    $(\"li\").mouseover(function()\n    {\n        $(\"li\").css(\"border-color\", \"black\");\n        $(this).css(\"border-color\", \"red\");\n        this.parentNode.appendChild(this);\n    });\n});\n</code></pre>\n\n<p>Or SVG.  You can use z-index in SVG.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I was able to get it working with nested divs and a mouseenter event on the parent:</p>\n\n<pre><code>&lt;div id=\"frame\"&gt;\n  &lt;div class='box'&gt;&lt;/div&gt;\n  &lt;div class='box'&gt;&lt;/div&gt;\n  &lt;div class='box'&gt;&lt;/div&gt;\n  &lt;div class='box'&gt;&lt;/div&gt;\n&lt;/div&gt;\n...\n$('#frame').mouseenter(function() {\n     $(\".box\").css(\"border-color\", \"black\");\n});\n</code></pre>\n\n<p>Here's a working version using Raphael:</p>\n\n<p><a href=\"http://jsfiddle.net/xDREx/\" rel=\"nofollow\">http://jsfiddle.net/xDREx/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The problem is that <strong>IE handles <code>mouseover</code> differently</strong>, because it behaves like <code>mouseenter</code> and <code>mousemove</code> combined on an element. In other browsers it's just <code>mouseenter</code>.</p>\n\n<p>So even after your mouse has entered the target element and you've changed it's look and reappended it to it's parent <code>mouseover</code> will still fire for every movement of the mouse, the element gets reappended again, which prevents other event handlers from being called.</p>\n\n<p>The solution is to <strong>emulate the correct <code>mouseover</code></strong> behavior so that actions in <code>onmouseover</code> are executed only once.</p>\n\n<pre><code>$(\"li\").mouseover( function() {\n    // make sure these actions are executed only once\n    if ( this.style.borderColor != \"red\" ) {\n        this.style.borderColor = \"red\";\n        this.parentNode.appendChild(this);\n    }\n});\n</code></pre>\n\n<p><strong>Examples</strong></p>\n\n<ol>\n<li><a href=\"http://jsbin.com/obesa4/2/\" rel=\"nofollow\">Extented demo of yours</a></li>\n<li><a href=\"http://jsbin.com/uyoho/10/\" rel=\"nofollow\">Example</a> demonstrating the  <code>mouseover</code> difference between browsers (bonus: native javascript)</li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>I modified @galambalazs' answer because I found that it failed if I hovered really quickly over the li elements, as some of the elements would still retain the <code>mouseover</code> effect.</p>\n\n<p>I came up with a solution that removes the hover state on elements that failed to trigger the <code>mouseover</code> event by pushing these elements to a stack whenever the <code>mouseover</code> even is triggered. Anytime either the <code>mouseover</code> or <code>mouseout</code> event is called, I pop the elements from this array and remove the styles placed on it:</p>\n\n<pre><code>$(function(){\n\n    // Track any hovered elements\n    window.hovered = [];\n\n    $(\"li\").mouseover(function() {\n        // make sure that these actions happen only once\n        if ( $(this).css(\"border-color\") != \"red\" ) {\n            resetHovered ();  // Reset any previous hovered elements\n            $(this).css(\"border-color\",\"red\");\n            this.parentNode.appendChild(this);\n            hovered.push(this);\n        }\n    });\n\n    $(\"li\").mouseout(function(){\n        resetHovered();  // Reset any previous hovered elements\n    });\n\n    // Reset any elements on the stack\n    function resetHovered () {\n        while ( hovered.length &gt; 0 ) {\n            var elem = hovered.pop();\n            $(elem).css(\"border-color\",\"black\");\n        }\n    }\n});\n</code></pre>\n\n<p>I've tested this solution with IE 11. A functional example can be found <a href=\"http://jsbin.com/obesa4/15\" rel=\"nofollow\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In a library I am using I have the task of moving an element to the front of the dom when it is hovered over. (I make it bigger so I need to see it, then shrink it back when mouse out).</p>\n\n<p>The library I am using has neat solution which uses appendChildren on the active element to move it to the end its parent so further towards the end of the dom and in turn on top.</p>\n\n<p>The problem is I believe that because the element you are moving is the one you are hovering over the mouseout event is lost. Your mouse is still over the node but the mouseout event isn't being fired.</p>\n\n<p>I have stripped the functionality down to confirm the issue. It works fine in firefox but not in any version of IE. I'm using jquery here for speed. Solutions can be in plain old javascript..which would be a preference as it might need to go back up stream.</p>\n\n<p><strong>I can't use z-index here as the elements are vml, the library is Raphael and I am using the toFront call. Sample using ul/li to show issue in a simple example</strong></p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"js/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;style&gt;\n    li\n    {\n        border:1px solid black;\n    }\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;ul&gt;&lt;li&gt;Test 1&lt;/li&gt;&lt;/ul&gt;\n&lt;ul&gt;&lt;li&gt;Test 2&lt;/li&gt;&lt;/ul&gt;\n&lt;ul&gt;&lt;li&gt;Test 3&lt;/li&gt;&lt;/ul&gt;\n&lt;ul&gt;&lt;li&gt;Test 4&lt;/li&gt;&lt;/ul&gt;\n&lt;script&gt;\n$(function(){\n    $(\"li\").mouseover(function(){\n        $(this).css(\"border-color\",\"red\");\n        this.parentNode.appendChild(this);\n    });\n\n    $(\"li\").mouseout(function(){\n        $(this).css(\"border-color\",\"black\");\n    });\n});\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Edit:</strong> Here is a link to a js paste bin to see it in action. <a href=\"http://jsbin.com/obesa4\" rel=\"nofollow\">http://jsbin.com/obesa4</a></p>\n\n<p>*<em>Edit 2: *</em> See all comments on all answers before posting as lots more info in that.</p>\n",
            "last_activity_date": 1400880502,
            "question_id": 3686132,
            "score": 7,
            "tags": [
                "javascript",
                "javascript-events",
                "mouseevent",
                "raphael",
                "mouseout"
            ],
            "title": "Move active element loses mouseout event in internet explorer"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Well, of course there are implementation bugs, the most serious that I've had to deal with are on JScript, the Microsoft implementation of the standard, for example:</p>\n\n<p>Identifier of FunctionExpressions should be accessible only in the inner scope of the function itself:</p>\n\n<pre><code>(function foo() {\n  alert(typeof foo); // \"function\"\n})();\n\nalert(typeof foo);  // should be \"undefined\", on IE shows \"function\"\n</code></pre>\n\n<p>The bug is present on all current IE versions, it has just been fixed on IE9 Previews.</p>\n\n<p>And actually is even worse, it creates two function objects, for example:</p>\n\n<pre><code>var foo = function bar() {};\n\nif (typeof bar != 'undefined') { // the case of IE\n  alert(foo === bar); // false!!!\n}\n</code></pre>\n\n<p>Another well known JScript bug is the <a href=\"https://developer.mozilla.org/en/ECMAScript_DontEnum_attribute\" rel=\"nofollow\">\"DontEnum Bug\"</a>, if an object in its scope chain contains a property that is not enumerable (has the <code>{ DontEnum }</code> attribute), if the property is shadowed on other object, it will stay as non-enumerable, for example:</p>\n\n<pre><code>var dontEnumBug = {toString:'foo'}.propertyIsEnumerable('toString');\n</code></pre>\n\n<p>It will evaluate to <code>false</code> on IE, this causes problems when using the <code>for-in</code> statement, because the properties will not be visited.</p>\n\n<p>JScript is the implementation that has the largest number of problems -although the IE9 implementation is getting really way better-.</p>\n\n<p>Recommended article:</p>\n\n<ul>\n<li><a href=\"http://wiki.ecmascript.org/lib/exe/fetch.php?id=resources%3Aresources&amp;cache=cache&amp;media=resources%3ajscriptdeviationsfromes3.pdf\" rel=\"nofollow\">JScript deviations from ES3</a><sub>pdf</sub></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>Can someone point out the differences in implementation of ECMAScript 3rd edition in today's browsers? (Chrome, Safari, IE8, FF)</p>\n\n<p>Are we safe when using ECMAScript 3 standards (and not the extensions that FF and IE have to JScript and JavaScript)?</p>\n",
            "last_activity_date": 1284064622,
            "question_id": 3679233,
            "score": 7,
            "tags": [
                "javascript",
                "cross-browser"
            ],
            "title": "Are there still ECMAScript 3 implementation differences in major browsers?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Just loop over the <code>arguments</code> object: <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Functions_and_function_scope/Arguments\" rel=\"nofollow\">https://developer.mozilla.org/en/JavaScript/Reference/Functions_and_function_scope/Arguments</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Use <strong>arguments</strong> variable.</p>\n\n<pre><code>function TestMe()\n{\n   var args = arguments;\n\n   for (var a in args)\n   {\n     alert(args[a]);\n   }\n}\n</code></pre>\n\n<p>Now you can pass any number of arguments to <code>TestMe</code> function:</p>\n\n<pre><code>TestMe(1);\nTestMe(1,2,3);\nTestMe(1,2,3,4,5,6);\nTestMe.apply(this, [1,2,3,4,5]); \n</code></pre>\n\n<p>etc.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can use the keyword <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Functions_and_function_scope/Arguments\"><code>arguments</code></a> which is an array of the passed arguments, like this:</p>\n\n<pre><code>function myFunc() {\n   if(arguments.length &gt; 0)     //be sure to check if there are any...\n     var arg1 = arguments[0];\n}\n</code></pre>\n\n<p><strong>However</strong>, a much better approach is to accept an object, e.g.:</p>\n\n<pre><code>function myFunc(settings) {\n   settings = settings || {};   //in case it was called as just: myfunc()\n   var something = settings.something || \"default value\";\n}\n</code></pre>\n\n<p>You'd call it like this:</p>\n\n<pre><code>myFunc({ something: \"value\", somethingElse: \"otherValue\" });\n</code></pre>\n\n<p>This approach allows you to accept any number of arguments as well, but also have any optional, without a bunch of <code>myFunc(null, null, null, \"value\")</code> type calls to provide only the parameter you want, plus they're named making this <em>much</em> more maintainable IMO.  <a href=\"http://jsfiddle.net/nick_craver/7NZ7M/1/\">Here's an edited version of the plugin to demonstrate this</a>.</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>Yes this is possible, here's an example :</p>\n\n<pre><code>function myfunct()\n{\n\n  var arguments = myfunct.arguments;\n\n  for (var i = 0; i &lt; arguments.length; i++)\n        {\n\n                alert(\"Argument \" + i + \" value = \" + arguments[i]);\n\n            }\n\n}\n</code></pre>\n\n<p>You can call this fonction by any number of arguments :</p>\n\n<pre><code>myfunct(\"foo\");\n\nmyfunct(\"foo\",\"bar\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I would like the below function to be more flexible and accept multiple callbacks to other functions if they are defined in the arguments.</p>\n\n<pre><code>$(function() {\n                function icisDashBox(colorElem, thisWidth, thisHeight, completeCallBack) {\n\n                    $(colorElem).colorbox({\n                        transition: 'none',\n                        innerWidth: thisWidth,\n                        innerHeight: thisHeight,\n                        opacity: '0.5',\n                        onOpen:function(){ \n\n                            },\n                        onLoad:function(){ \n\n                            },\n                        onComplete:function(){ \n                            $('#cboxLoadedContent').wrap('&lt;div id=\"icis_dialog_msg\" /&gt;'); \n\n                            completeCallBack();\n\n                            },\n                        onCleanup:function(){ \n\n                            },      \n                        onClosed: function() {\n                           $('#cboxLoadedContent').unwrap(); \n                        }\n                    });\n                }\n\n                icisDashBox('.example9', '500', '500', completeFunction);\n\n                function completeFunction() {\n\n                    var fooClass = $(\"#colorbox\").addClass(\"FOO\");\n\n                    var barClass = $(\"#colorbox\").addClass(\"BAR\");\n\n                    var ajaxCnt = $.ajax({\n                                   type: \"GET\",\n                                   url: \"http://www.payso.me.uk\",\n                                   dataType: \"html\",\n                                   success: function(data){\n                                     $(\"#colorbox\").addClass(\"AJAX SUCCESS\");\n                                   }\n                                 });\n\n                    return {\n\n                        x : fooClass,\n                        y : barClass,\n                        z : ajaxCnt\n\n                    };\n                }\n            });\n</code></pre>\n\n<p>So in an ideal world my function would look like this without explicitly declaring any arguments:</p>\n\n<pre><code>function icisDashBox() { function code here }\n</code></pre>\n\n<p>Is this possible?  Also if the arguments are not defined how do i handle that?</p>\n\n<p>For example if one call to the function has several callbacks defined and another only has one is there a way of handling the lack of presence of callbacks.</p>\n\n<p>Cheers,</p>\n\n<p>:)</p>\n",
            "last_activity_date": 1282997642,
            "question_id": 3583044,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "function"
            ],
            "title": "Allowing javascript function to accept any number of arguments"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The following code inside the iframe document will prevent it from scrolling:</p>\n\n<pre><code>document.onkeydown = function(evt) {\n    evt = evt || window.event;\n    var keyCode = evt.keyCode;\n    if (keyCode &gt;= 37 &amp;&amp; keyCode &lt;= 40) {\n        return false;\n    }\n};\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>This works except IE:</p>\n\n<pre><code>window.top.document.onkeydown = function(evt) {\n    evt = evt || window.event;\n    var keyCode = evt.keyCode;\n    if (keyCode &gt;= 37 &amp;&amp; keyCode &lt;= 40) {\n        return false;\n    }\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This code does the trick:</p>\n\n<p><strong>JavaScript</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  function focusOnIframe(iFrameID) {\n    if (frames[iFrameID]!=undefined)\n      frames[iFrameID].focus(); // Works in all browser, except Firefox\n    else\n      document.getElementById(iFrameID).focus();  // Works in Firefox\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>HTML (example)</strong></p>\n\n<pre><code>&lt;input type=\"button\" id=\"setfocus\" value=\"Set focus\" onclick=\"focusOnIframe('myiframe')\" /&gt;\n\n&lt;p&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;&lt;/p&gt;  &lt;!-- Just some filler --&gt;\n\n&lt;iframe id=\"myiframe\" src=\"yourpage.html\"&gt;&lt;/iframe&gt;\n\n&lt;p&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;Bla&lt;br /&gt;&lt;/p&gt;  &lt;!-- Just some filler --&gt;\n</code></pre>\n\n<p>I've tested it in Firefox 3.6.6, Iron 5.0.380, Opera 10.60, IE 6 and IE 8.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>how can i prevent a html page from scrolling when arrow keys are pressed if a iframe inside it is focused?</p>\n\n<p>im gettting this error in chrome</p>\n\n<p>The iframe is focused, i know its focused. the parent scrolls anyway.</p>\n",
            "last_activity_date": 1285893134,
            "question_id": 3208021,
            "score": 7,
            "tags": [
                "javascript",
                "html",
                "scroll"
            ],
            "title": "prevent scrolling with arrow keys"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>From: <a href=\"http://www.svgopen.org/2009/papers/12-Using_Canvas_in_SVG/#d4e105\" rel=\"nofollow\">http://www.svgopen.org/2009/papers/12-Using_Canvas_in_SVG/#d4e105</a></p>\n\n<blockquote>\n  <p>The reason why you cannot use an SVG\n  image element as source for the\n  drawImage method is simple, but\n  painful: the current Canvas\n  specification does not (yet) allow to\n  reference SVGImageElement as source\n  for drawImage and can only cope with\n  HTMLImageElement, HTMLCanvasElement\n  and HTMLVideoelement. This\n  short-coming will hopefully be\n  addressed during the process of\n  defining \"SVG in HTML5\" behavior and\n  could be extended to allow\n  SVGSVGElement as well. The xhtml:img\n  element in listing 3 uses\n  visibility:hidden as we do not want it\n  to interfere with its visible copy on\n  the Canvas.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>Yes, you can't do that directly, but you can use <a href=\"http://code.google.com/p/canvg/\" rel=\"nofollow\" title=\"canvg\">canvg</a> for that, I mean, to draw SVG to Canvas, and get data url from Canvas. It's not without bugs, especially for complex gradients processing, but I had some positive experience with it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>var dataUrl = 'data:image/svg+xml,'+encodeURIComponent(svgString);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>first download a js library svg_todataurl.js and include it</p>\n\n<p>then just paste this code</p>\n\n<pre><code>var SVGtopngDataURL = document.getElementById(\"svg_element_id\").toDataURL(\"image/png\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to load an svg image into canvas for pixel manipulation\nI need a method like <code>toDataURL</code> or <code>getImageData</code> for svg</p>\n\n<p>on Chrome/Safari I can try doing it through and image and canvas</p>\n\n<pre><code>var img = new Image()\nimg.onload = function(){\n  ctx.drawImage(img,0,0) //this correctly draws the svg image to the canvas! however...\n  var dataURL = canvas.toDataURL(); //SECURITY_ERR: DOM Exception 18\n  var data = ctx.getImageData(0,0,img.width, img.height).data //also SECURITY_ERR: DOM Exception 18\n  }\n  img.src = \"image.svg\" //that is an svg file. (same domain as html file :))\n</code></pre>\n\n<p>But I get security errors. \nAny other way?</p>\n\n<p>Here is a live demo of the problem <a href=\"http://clstff.appspot.com/gist/462846\">http://clstff.appspot.com/gist/462846</a> (you can view source)</p>\n",
            "last_activity_date": 1398703342,
            "question_id": 3173048,
            "score": 7,
            "tags": [
                "javascript",
                "html5",
                "canvas",
                "svg"
            ],
            "title": "Is there an equivalent of canvas&#39;s toDataURL method for SVG?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You could have markers for each point on the polygon, these markers could have drag and at the end of each drag, the polygon could be redrawn.</p>\n\n<p>You could also have a marker in the center of the polygon representing the polygon as a whole, when you move that marker, every marker could be moved by the same amount to maintain the shape.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I found the Google Maps V2 Polygon Implementation to be very limiting for the needs I have had and solved it by creating a custom overlay.  My group is currently stuck on IE6 so I have yet to migrate over to Google Maps V3 - but taking a quick look at the API shows that you could probably do a similar thing that I did in V2 with V3.</p>\n\n<p>Essentially the idea is:</p>\n\n<ol>\n<li>Create a Custom Overlay</li>\n<li>Populate it with your own SVG/VML Polygons and attach a drag event to this custom polygon object</li>\n</ol>\n\n<hr>\n\n<p>Custom Overlays:</p>\n\n<p>Here is some information to get you started on making your own custom overlay:</p>\n\n<p><a href=\"http://code.google.com/apis/maps/documentation/javascript/overlays.html#CustomOverlays\">http://code.google.com/apis/maps/documentation/javascript/overlays.html#CustomOverlays</a></p>\n\n<hr>\n\n<p>Creating your own \"Dragable\" Polygon Object:</p>\n\n<p>Once you get that down you'll want to add your own polygons to the custom overlay instead of using GPolygons.  I went through the painful process of learning SVG/VML and writing a library to bridge SVG/VML together - you could do that, but I would recommend starting by trying to use another library such as Rapha\u00ebl.</p>\n\n<p><a href=\"http://raphaeljs.com/\">http://raphaeljs.com/</a></p>\n\n<p>Using Rapha\u00ebl will save you a whole lot of time trying to figure out how to get cross-browser Vector Graphic (Polygon) functionality - and best of all it supports drag events already, here is an example from their library:</p>\n\n<p><a href=\"http://raphaeljs.com/graffle.html\">http://raphaeljs.com/graffle.html</a></p>\n\n<p>Once you have a custom overlay and you are able to throw some Rapha\u00ebl objects onto it the last step is to translate the coordinates you want from a Lat/Lng value to a Pixel value.  This is available in the MapCanvasProjection of V3:</p>\n\n<p><a href=\"http://code.google.com/apis/maps/documentation/javascript/reference.html#MapCanvasProjection\">http://code.google.com/apis/maps/documentation/javascript/reference.html#MapCanvasProjection</a></p>\n\n<p>You can use fromLatLngToDivPixel to figure out what the actual pixel values are for the points on your Raphael polygon, draw it, then add it to the overlay with a drag event.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Okay - so after seeing the website you are trying to implement I started to feel like Raphael may not be necessary because it is a pretty heavy JS Library - and if you are only trying to draw a rectangle polygon I thought, why not just do it with a single lightweight DIV instead?</p>\n\n<p>However I think the Raphael solution would still hold water for many other cases - so I think I'll just post another possible answer.</p>\n\n<p>Here is a working example I threw together:</p>\n\n<p><a href=\"http://www.johnmick.net/drag-div-v3/\" rel=\"nofollow\">http://www.johnmick.net/drag-div-v3/</a></p>\n\n<p>Feel free to take a look at the source:</p>\n\n<p><a href=\"http://www.johnmick.net/drag-div-v3/js/main.js\" rel=\"nofollow\">http://www.johnmick.net/drag-div-v3/js/main.js</a></p>\n\n<p>Essentially we do the following</p>\n\n<ol>\n<li>Create the Custom Overlay</li>\n<li>Create the draggable div polygon and, using jQuery UI, make it draggable </li>\n<li>Tie an event that listens to when the dragging has stopped that updates the LatLng position of the rectangle</li>\n<li>Add the object to the Custom Overlay</li>\n<li>Implement the draw function to redraw the rectangle during zooms and pans</li>\n</ol>\n\n<p>Currently I am only storing one LatLng value for the Rectangle (being the top left corner) - you could easily extend this example to store all 4 points of the rectangle and have the shape dynamically resize itself on zooms.  You may want to do that, otherwise as users zoom out they will get a climate report for a larger and larger area.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's how I do it. Find the approximate center of the polygon, and add a marker, then add a drag listener to the marker.  On lat/lng change, subtract the difference from the original marker lat/lng, subtract the difference to each of the paths, then, set the original position to the new position.  Make sure that in your javascript api call that you have library=geometry,drawing </p>\n\n<pre><code>google.maps.event.addListener(draw, 'overlaycomplete', function(shape) {\n// POLYGON\n      if (shape.type == 'polygon') {\n        var bounds = new google.maps.LatLngBounds(); var i;  \n        var path = shape.overlay.getPath();\n        for (i = 0; i &lt; path.length; i++) { bounds.extend(path.getAt(i)); }\n        shape.latLng = bounds.getCenter();\n        marker = getMarker(map,shape);\n        shape.overlay.marker = marker;\n        markers.push(marker); \n      }\n      google.maps.event.addListener(marker, 'drag', function(event) {\n         shape.overlay.move(event.latLng, shape, path);\n      });\n\n          google.maps.event.addListener(shape.overlay, 'rightclick', function() {\n            this.setMap(null);\n            this.marker.setMap(null);\n            draw.setDrawingMode('polygon');\n          });\n\n  });\n}\ngoogle.maps.Polygon.prototype.move = function(latLng, shape, p) {\n    var lat = latLng.lat();\n    var lng = latLng.lng();\n\n    latDiff = shape.latLng.lat()-lat;\n    lngDiff = shape.latLng.lng()-lng;\n\n   for (i = 0; i &lt; p.length; i++) {\n    pLat = p.getAt(i).lat();\n    pLng = p.getAt(i).lng();\n    p.setAt(i,new google.maps.LatLng(pLat-latDiff,pLng-lngDiff));\n   }\n   shape.latLng = latLng; \n}\nfunction getMarker(map,shape){\n  var infowindow = new google.maps.InfoWindow();\n  if(shape.type=='polygon'){ latLng = shape.latLng; }\n  marker = new google.maps.Marker({\n              position: latLng,\n              map:map,\n              draggable:true,\n              clickable: true,\n              animation: google.maps.Animation.DROP\n            });\n           shape.overlay.marker = marker;\n           shape.overlay.bindTo('center',marker,'position');\n           google.maps.event.addListener(marker, 'click', (function(marker) {\n            return function() {\n              infowindow.setContent('polygon');\n              infowindow.open(map, marker);\n              toggleBounce(marker);\n            }\n          })(marker));\n          google.maps.event.addListener(infowindow,'closeclick', (function(marker) {      \n            return function() {\n            marker.setAnimation(null);\n            }\n          })(marker));\n return marker;\n}\n</code></pre>\n\n<p>If you have any questions, feel free to contact me. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Since version 3.11 (dated Jan 22, 2013) it's possible to just set the <code>draggable</code> property onto the <code>google.maps.Polygon</code> instance; see <a href=\"http://www.bram.us/2013/02/15/google-maps-v3-draggable-polygon/\" rel=\"nofollow\">this example</a>.</p>\n\n<p>If you want to programmatically move a polygon, you'll need <a href=\"http://www.bram.us/2013/02/16/google-maps-v3-move-polygon/\" rel=\"nofollow\">a custom Google Maps Extension which I wrote</a>, as the API does not provide such a method.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>The <a href=\"http://code.google.com/apis/maps/documentation/javascript/reference.html#Polygon\">Google Maps API</a> for a Polygon does not offer a drag method.</p>\n\n<p>What would be an efficient way of implementing such a feature (i.e., sufficiently optimised so that it would not kill a four year old laptop)?</p>\n\n<p>Thank you!</p>\n",
            "last_activity_date": 1361042724,
            "question_id": 3114476,
            "score": 7,
            "tags": [
                "javascript",
                "google-maps",
                "user-interface",
                "drag-and-drop",
                "polygon"
            ],
            "title": "Drag (move) a polygon using Google Maps v3"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Storing the selected range is simple. The following will return only the first selected range (Firefox at least supports multiple selections):</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\nfunction getSelectionRange() {\n    var sel;\n    if (window.getSelection) {\n        sel = window.getSelection();\n        if (sel.rangeCount) {\n            return sel.getRangeAt(0);\n        }\n    } else if (document.selection) {\n        return document.selection.createRange();\n    }\n    return null;\n}\n\nvar range;\n\n&lt;/script&gt;\n&lt;input type=\"button\" onclick=\"range = getSelectionRange();\"\n    value=\"Store selection\"&gt;\n</code></pre>\n\n<p><code>range</code> will have properties <code>startContainer</code> (the node containing the start of the range), <code>startOffset</code> (an offset within the start container node: a character offset in the case of text nodes and child offset in elements), <code>endContainer</code> and <code>endOffset</code> (equivalent behvaiour to the start properties). <code>Range</code> is well documented by <a href=\"http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html\">its specification</a> and <a href=\"https://developer.mozilla.org/en/DOM/range\">MDC</a>.</p>\n\n<p>In IE, <code>range</code> will contain a <code>TextRange</code>, which works very differently. Rather than nodes and offsets, TextRanges are concerned with characters, words and sentences. Microsoft's site has some documentation: <a href=\"http://msdn.microsoft.com/en-us/library/ms533042%28VS.85%29.aspx\">http://msdn.microsoft.com/en-us/library/ms533042%28VS.85%29.aspx</a>, <a href=\"http://msdn.microsoft.com/en-us/library/ms535872%28VS.85%29.aspx\">http://msdn.microsoft.com/en-us/library/ms535872%28VS.85%29.aspx</a>.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>From my <a href=\"http://stackoverflow.com/questions/2950038\">previous question</a> for selecting specific html text,\nI have gone through <a href=\"http://www.quirksmode.org/dom/range_intro.html\">this link</a> to understand range in html string.</p>\n\n<p>Actually I am confused here very much.\nMy question is as follows.</p>\n\n<p>For selecting a specific text on html page. We need to follow this steps.</p>\n\n<p>assumed html</p>\n\n<pre><code>&lt;h4 id=\"entry1196\"&gt;&lt;a\n    href=\"http://radar.oreilly.com/archives/2007/03/call_for_a_blog_1.html\"\n    class=\"external\"&gt;Call for a Blogger's Code of Conduct&lt;/a&gt;&lt;/h4&gt;\n\n&lt;p&gt;Tim O'Reilly calls for a Blogger Code of Conduct. His proposals are:&lt;/p&gt;\n\n&lt;ol&gt;\n    &lt;li&gt;Take responsibility not just for your own words, but for the\n        comments you allow on your blog.&lt;/li&gt;\n    &lt;li&gt;Label your tolerance level for abusive comments.&lt;/li&gt;\n    &lt;li&gt;Consider eliminating anonymous comments.&lt;/li&gt;\n&lt;/ol&gt;\n</code></pre>\n\n<p>java script to make selection by range</p>\n\n<pre><code>var range = document.createRange();  // create range\nvar startPar = [the p node];         // starting parameter \nvar endLi = [the second li node];    // ending parameter\nrange.setStart(startPar,13);         // distance from starting parameter.\nrange.setEnd(endLi,17);              // distance from ending parameter\nrange.select();                      // this statement will make selection\n</code></pre>\n\n<p>I want to do this in invert way. I mean, assume that selection is done by user on browser (safari). My question is that How can we get starting node ( as we have 'the p node' here ) &amp; ending node ( as we have 'the second li node' here ) and the range as well (as we have 13,17 here) ?</p>\n\n<p>Please help me.</p>\n\n<p>Thanks in advance for sharing your great knowledge.</p>\n\n<p>Sagar</p>\n\n<p><strong>Edit : my efforts (From <a href=\"http://stackoverflow.com/questions/2887101\">this question</a>)</strong></p>\n\n<pre><code>    var sel = window.getSelection();\n\n    if (sel.rangeCount &lt; 1) {\n        return;\n    }\n    var range = sel.getRangeAt(0);\n    var startNode = range.startContainer, endNode = range.endContainer;\n\n    // Split the start and end container text nodes, if necessary\n    if (endNode.nodeType == 3) {\n        endNode.splitText(range.endOffset);\n        range.setEnd(endNode, endNode.length);\n    }\n\n    if (startNode.nodeType == 3) {\n        startNode = startNode.splitText(range.startOffset);\n        range.setStart(startNode, 0);\n    }\n</code></pre>\n\n<p>But, yet I am confused about getting like, if selected is first paragraph or second or third, or selected is in first heading or second heading or what....</p>\n",
            "last_activity_date": 1289633826,
            "question_id": 2955244,
            "score": 7,
            "tags": [
                "javascript",
                "html",
                "select",
                "range",
                "dhtml"
            ],
            "title": "html - selection range - getting the range + starting node + ending node + distance"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Use</p>\n\n<pre><code>$(\"#result-div\").html(data);\n</code></pre>\n\n<p><code>html()</code> utilizes jQuery's <code>empty</code> method which works very hard to prevent memory leaks.</p>\n\n<p>have you tried:</p>\n\n<pre><code>delete data;\n</code></pre>\n\n<hr>\n\n<p>I'm thinking there are other performance issues in your code causing the sluggishness. Is your return data using png's with alpha transparency? I've seen that kill IE6 (when the alpha filter is applied) and slow down IE7 considerably.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You can force garbage collection in IE by using the <strong>CollectGarbage</strong> function, e.g.</p>\n\n<pre><code>if (typeof(CollectGarbage) == \"function\")\n    CollectGarbage();\n</code></pre>\n\n<p>The JScript garbage collector is described in detail in this blog entry: <a href=\"http://blogs.msdn.com/ericlippert/archive/2003/09/17/53038.aspx\">http://blogs.msdn.com/ericlippert/archive/2003/09/17/53038.aspx</a></p>\n\n<p>As the blog says, the GC is not predictable, so <strong>delete data</strong> or <strong>data = null</strong> will <em>not</em> reclaim the memory immediately, but it eventually will reclaim it.</p>\n\n<hr>\n\n<p>But I doubt that your performance penalty is really caused by the memory usage; I think that it is a problem with DOM rendering.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>If somebody interested not only in IE:</p>\n\n<p>To force garbage collection in Gecko: </p>\n\n<pre><code>window.QueryInterface(Components.interfaces.nsIInterfaceRequestor)\n  .getInterface(Components.interfaces.nsIDOMWindowUtils)\n  .garbageCollect();\n</code></pre>\n\n<p><a href=\"http://adblockplus.org/blog/different-ways-to-force-garbage-collection\" rel=\"nofollow\">Link</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have a page with chained drop-downs.  Choosing an <code>option</code> from the first <code>select</code> populates the second, and choosing an <code>option</code> from the second <code>select</code> returns a table of matching results using the <code>innerHtml</code> function on an empty <code>div</code> on the page.</p>\n\n<p>The problem is, once I've made my selections and a considerable amount of data is brought onto the page, all subsequent Javascript on the page runs exceptionally slowly.  It seems as if all the data I pulled back via AJAX to populate the <code>div</code> is still hogging a lot of memory.  I tried setting the return object which contains the AJAX results to <code>null</code> after calling <code>innerHtml</code> but with no luck.</p>\n\n<p>Firefox, Safari, Chrome and Opera all show no performance degradation when I use Javascript to insert a lot of data into the DOM, but in IE it is very apparent.  To test that it's a Javascript/DOM issue rather than a plain old IE issue, I created a version of the page that returns all the results on the initial load, rather than via AJAX/Javascript, and found IE had no performance problems.</p>\n\n<p>FYI, I'm using jQuery's jQuery.get method to execute the AJAX call.</p>\n\n<p><strong>EDIT</strong> This is what I'm doing:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction onFinalSelection() {\n  var searchParameter = jQuery(\"#second-select\").val();\n  jQuery.get(\"pageReturningAjax.php\",\n  {SEARCH_PARAMETER: searchParameter},\n  function(data) {\n    jQuery(\"#result-div\").get(0).innerHtml = data;\n   //jQuery(\"#result-div\").html(data); //Tried this, same problem\n    data = null;\n  },\n  \"html\");\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>I want to note that this only becomes an issue when the return <code>data</code> is quite large.  It is directly related to the size, as I am able to see moderate slowdown for medium size results and only major slowdown when it is a few hundred records + being returned.</p>\n",
            "last_activity_date": 1336738990,
            "question_id": 2760285,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "internet-explorer"
            ],
            "title": "How can I force Javascript garbage collection in IE? IE is acting very slow after AJAX calls &amp; DOM manipulation"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I'm liking that I can get so much mileage out of <a href=\"http://stackoverflow.com/questions/1104321/how-to-assign-event-callbacks-iterating-an-array-in-javascript-jquery/1104440#1104440\">this answer</a>.</p>\n\n<p>If you need help applying that answer, let me know.</p>\n\n<h2>EDIT</h2>\n\n<p>Sure.  Let's look at your original code.</p>\n\n<pre><code>//timeout to recheck \nsetTimeout(function(){\n    alert('test '+no);\n}, 500);\n</code></pre>\n\n<p>See that anonymous function? The one you pass into <code>setTimeout()</code>? It isn't called until the timer says so - which at 500ms is <em>well after</em> the loop has exited.</p>\n\n<p>What you're hoping for is for <code>no</code> to be evaluated \"in place\" but its not - it's evaluated at the time the function is called.  By that point, <code>no</code> is 2.  </p>\n\n<p>In order to get around this, we need a function that executes during the iteration of the loop, which itself will return a function that <code>setTimeout()</code> can use in the way we expect it to.</p>\n\n<pre><code>setTimeout(function( value )\n{\n  // 'value' is closed by the function below\n  return function()\n  {\n    alert('test ' + value );\n  }\n}( no ) // Here's the magic\n, 500 );\n</code></pre>\n\n<p>Since we create anonymous function and immediately call it, a new scope has been created in which we can close off variables.  And that scope closes around <code>value</code>, not <code>no</code>.  Since <code>value</code> receives a new (ahem) value for each loop, each of these <a href=\"http://en.wikipedia.org/wiki/Closure_%28computer_science%29\" rel=\"nofollow\">lambdas</a> has it's own value - the one we want it to.</p>\n\n<p>So when setTimeout() fires, it's executing the function returned from our closure function.</p>\n\n<p>I hope that explains it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is essentially the same as your fix, but using a different syntax to achieve the scoping adjustment.</p>\n\n<pre><code>/*Test scope problem*/\nfor (var i = 1; i &lt; 3; i++) {\n  //declare variables \n  var no = i;\n  //verify no \n  alert('setting ' + no);\n\n  //timeout to recheck\n  (function() {\n    var n = no;\n    setTimeout(function() { \n      alert('test ' + n);\n    }, 500);\n  })();\n} \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Javascript does not have lexical scoping(the for-loop does not create a new scope), and your solution is the standard workaround. Another way to write this might be:</p>\n\n<pre><code>[1, 2].forEach(function(no){\n    //verify no\n    alert('setting '+no);\n\n    //timeout to recheck \n    setTimeout(function(){\n        alert('test '+no);\n    }, 500);\n})\n</code></pre>\n\n<p>forEach() was introduce in ECMAScript 5 and is present in modern browsers but not IE. You can use <a href=\"http://github.com/airportyh/ecma5array\" rel=\"nofollow\">my library</a> to emulate it though.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>JavaScript does not have block scope, and variable declarations are hoisted. These facts together mean that your code is equivalent to:</p>\n\n<pre><code>var no;\n\n/*Test scope problem*/\nfor(var i=1; i&lt;3; i++){\n    //declare variables\n    no = i;\n    //verify no\n    alert('setting '+no);\n\n    //timeout to recheck \n    setTimeout(function(){\n        alert('test '+no);\n    }, 500);\n}\n</code></pre>\n\n<p>By the time your timeout function executes, the loop is long finished, with <code>no</code> retaining its final value of 2.</p>\n\n<p>A way around this would be to pass the current value of <code>no</code> into a function that creates a fresh callback for each call to <code>setTimeout</code>. Creating a new function each time means each setTimeout callback is bound to a different execution context with its own set of variables.</p>\n\n<pre><code>var no;\n\n/*Test scope problem*/\nfor(var i=1; i&lt;3; i++){\n    //declare variables\n    no = i;\n    //verify no\n    alert('setting '+no);\n\n    //timeout to recheck \n    setTimeout( (function(num) {\n            return function() {\n                alert('test '+num);\n            };\n        })(no), 500);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<pre><code>/*Test scope problem*/\nfor(var i=1; i&lt;3; i++){\n    //declare variables\n    var no = i;\n    //verify no\n    alert('setting '+no);\n\n    //timeout to recheck \n    setTimeout(function(){\n        alert('test '+no);\n    }, 500);\n}\n</code></pre>\n\n<p>it alerts \"setting 1\" and \"setting 2\" as expected, but after the timeout it outputs \"test 2\" twice - for some reason the variable \"no\" is not reset after the first loop...</p>\n\n<p>i've found only an \"ugly\" workaround...</p>\n\n<pre><code>/*Test scope problem*/\nvar func=function(no){\n    //verify no\n    alert('setting '+no);\n\n    //timeout to recheck \n    setTimeout(function(){\n        alert('test '+no);\n    }, 500);\n}\nfor(var i=1; i&lt;3; i++){\n    func(i);\n}\n</code></pre>\n\n<p>Any ideas on how to workaround this problem in a more direct way? or is this the only way?</p>\n",
            "last_activity_date": 1272471857,
            "question_id": 2731123,
            "score": 7,
            "tags": [
                "javascript"
            ],
            "title": "javascript var declaration within loop"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>As a commenter already mentioned, JavaScript is single threaded, so you can't get race conditions.</p>\n\n<p>What may trip you up however, is the fact that the UI will not update itself based on JavaScript, until a thread is finished. This means that the entire method must finish, including all code after you call <code>html(...)</code>, before the browser will render the content.</p>\n\n<p>If your code after calling <code>html(...)</code> relies on the layout of the page being recalculated before continuing, you can do something like this:</p>\n\n<pre><code>$(\"#divToChange\").html(newHTML);\nsetTimeout(function() {\n    // Insert code to be executed AFTER\n    // the page renders the markup\n    // added using html(...) here\n}, 1);\n</code></pre>\n\n<p>Using <code>setTimeout(...)</code> with a time of <code>1</code> in JavaScript defers execution until after the current JavaScript code in the calling function finishes and the browser has updated the UI. This may solve your problem, though it is difficult to tell unless you can provide a reproducible example of the error you're getting.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I'm using jQuery to change the HTML of a tag, and the new HTML can be a very long string. </p>\n\n<p><code>$(\"#divToChange\").html(newHTML);</code></p>\n\n<p>I then want to select elements created in the new HTML, but if I put the code immediately following the above line it seems to create a race condition with a long string where the changes that html() is making may not necessarily be finished rendering. In that case, trying to select the new elements won't always work.</p>\n\n<p>What I want to know is, is there an event fired or some other way of being notified when changes to html() have finished rendering ? I came across the jQuery watch plugin, which works alright as workaround but it's not ideal. Is there a better way ? </p>\n",
            "last_activity_date": 1270280170,
            "question_id": 2570061,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "innerhtml"
            ],
            "title": "How can I tell when changes to jquery html() have finished?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You cannot do it with just method, unless you use some javascript framework like jquery which supports it ..</p>\n\n<pre><code>string s = '&lt;div id=\"myDiv\"&gt;&lt;/div&gt;'\nvar htmlObject = $(s); // jquery call\n</code></pre>\n\n<p>but still, it would not be found by the <code>getElementById</code> because for that to work the element must be in the DOM... just creating in the memory does not insert it in the dom.</p>\n\n<p>You would need to use <code>append</code> or <code>appendTo</code> or <code>after</code> etc.. to put it in the dom first..</p>\n\n<p>Of'course all these can be done through regular javascript but it would take more steps to accomplish the same thing... and the logic is the same in both cases..</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<pre><code>var s = '&lt;div id=\"myDiv\"&gt;&lt;/div&gt;';\nvar htmlObject = document.createElement('div');\nhtmlObject.innerHTML = s;\nhtmlObject.getElementById(\"myDiv\").style.marginTop = something;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>In addition to Gaby aka's method, we can find elements inside <code>htmlObject</code> in this way -</p>\n\n<pre><code>htmlObj.find(\"#box\").html();\n</code></pre>\n\n<p>Fiddle is available here - <a href=\"http://jsfiddle.net/ashwyn/76gL3/\" rel=\"nofollow\">http://jsfiddle.net/ashwyn/76gL3/</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If the browser that you are planning to use is Mozilla (Addon development) (not sure of chrome) you can use the following method in Javascript</p>\n\n<pre><code>function DOM( string )\n{\n    var {Cc, Ci} = require(\"chrome\");\n    var parser = Cc[\"@mozilla.org/xmlextras/domparser;1\"].createInstance(Ci.nsIDOMParser);\n    console.log(\"PARSING OF DOM COMPLETED ...\");\n    return (parser.parseFromString(string, \"text/html\"));\n};\n</code></pre>\n\n<p>Hope this helps</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Had the same issue. I used a dirty trick like so:</p>\n\n<pre><code>var s = '&lt;div id=\"myDiv\"&gt;&lt;/div&gt;';\nvar temp = document.createElement('div');\ntemp.innerHTML = s;\nvar htmlObject = temp.firstChild;\n</code></pre>\n\n<p>Now, you can add styles the way you like:</p>\n\n<pre><code>htmlObject.style.marginTop = something;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>can I convert a string to a html object?\nlike:</p>\n\n<pre><code>string s = '&lt;div id=\"myDiv\"&gt;&lt;/div&gt;';\nvar htmlObject = s.toHtmlObject;\n</code></pre>\n\n<p>so that i can later on get it by id and do some changing in its style</p>\n\n<pre><code>var ho = document.getElementById(\"myDiv\").style.marginTop = something;\n</code></pre>\n\n<p>Thanx a million in advance,\nLina</p>\n",
            "last_activity_date": 1400280420,
            "question_id": 2522422,
            "score": 7,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "converting a javascript string to a html object"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You have to break up long actions into smaller ones and perform them in turns. This will also allow a better progress indication.</p>\n\n<p><a href=\"http://www.sonofsofaman.com/hobbies/code/settimeout.asp\">http://www.sonofsofaman.com/hobbies/code/settimeout.asp</a></p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>In firefox's address bar type about:config</p>\n\n<p>You want to change dom.max_script_run_time to be large enough for your scripts to run.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>You can use the script from this question to break processing long lists into smaller chunks:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/210821/#210994\">http://stackoverflow.com/questions/210821/#210994</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>See in blog of Nicholas C. Zakas\nWhat determines that a script is long-running? (at 2009/01/05)</p>\n\n<p>Speed up your JavaScript, Part 1\n<a href=\"http://www.nczonline.net/blog/2009/01/13/speed-up-your-javascript-part-1/\" rel=\"nofollow\">http://www.nczonline.net/blog/2009/01/13/speed-up-your-javascript-part-1/</a></p>\n\n<p>there are the reasons and the ways how to avoid the dialog</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The below code solved that problem for me...</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n   function downloadJSAtOnload() {\n   var element = document.createElement(\"script\");\n   element.src = \"deferredfunctions.js\";\n   document.body.appendChild(element);\n   }\n   if (window.addEventListener)\n   window.addEventListener(\"load\", downloadJSAtOnload, false);\n   else if (window.attachEvent)\n   window.attachEvent(\"onload\", downloadJSAtOnload);\n   else window.onload = downloadJSAtOnload;\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to benchmark some Javascript code in the browser, but it may trigger Firefox's \"Warning: Unresponsive script\" popup.  This allows the user to click \"Stop script\" in the event that the browser is caught in a runaway function.  While the pop-up is displayed, the currently running function has been halted.  This isn't ideal, so is there a way to run my benchmarks differently such that Firefox doesn't popup this warning and ruin my results?</p>\n",
            "last_activity_date": 1360067666,
            "question_id": 1917380,
            "score": 7,
            "tags": [
                "javascript",
                "firefox"
            ],
            "title": "How to avoid the Unresponsive Script popup in Firefox with long running Javascript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It's as simple as:</p>\n\n<pre><code>options[selectedIndex].id\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Without making too many assumptions (i.e. <em>select</em> is a valid SELECT Element),</p>\n\n<pre><code>var options = select.options;\nvar id      = options[options.selectedIndex].id;\nvar value   = options[options.selectedIndex].value;\n</code></pre>\n\n<p>or,</p>\n\n<pre><code>var options = select.options;\nvar value   = (options.selectedIndex != -1) ? options[selectedIndex].value : null;\nvar id      = (options.selectedIndex != -1) ? options[selectedIndex].id : null;\n</code></pre>\n\n<p>Always check for <em>falsity</em> (or values that evaluate to <em>false</em>). Ex 2 sets variables to <em>null</em> (if there is nothing selected).</p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>to get the selected value from HTML select:</p>\n\n<p><code>options[selectedIndex].value</code></p>\n\n<p>what if i want to get the <code>\"id\"</code> on the selected option?</p>\n",
            "last_activity_date": 1260844715,
            "question_id": 1904827,
            "score": 7,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "How to get selected option ID?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<pre><code>var canEditContent= 'contentEditable' in document.body;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>The best way to check for a certain feature is to actually <em>test</em> for that feature on an element that you know should support it, like this:</p>\n\n<pre><code>if(element.contentEditable != null)\n    // then it's supported\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if(typeof(element.contentEditable) != 'undefined')\n   // same thing.. but with typeof you can be more specific about the type of property you need to find\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>The best solution for my scenario (similar to yours) I came up with is below. It's not probably bulletproof, but covers most of the situations:</p>\n\n<pre><code>var ua = navigator.userAgent;\nvar android_version = ua.match(/Android ([0-9\\.]+)/);\nvar div = document.createElement(\"DIV\");\n\nif( typeof(div.contentEditable) == 'undefined' ||\n  (/(iPhone|iPod|iPad)/i.test(ua) &amp;&amp; /OS [1-4]_\\d like Mac OS X/i.test(ua)) ||\n  (android_version!=null &amp;&amp; parseFloat(android_version[1])&lt;3 ) ||\n  (/(Opera Mobi)/i.test(ua))\n) {\n  // doesn't support contenteditable\n} else {\n  // supports contenteditable\n}\n</code></pre>\n\n<p>You can test it out in <a href=\"http://jsfiddle.net/PksJw/\" rel=\"nofollow\">this jsFiddle</a>.</p>\n\n<p>Notice: Depending on your needs and purpose, you might need to detect IE version as well, because it's support of contenteditable is ... \"not ideal\" :-) Most of the pains is dealt by super library Rangy.js.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>bobince's answer works for the most part but, as has been said, you will need user agent sniffing to exclude iOS and Android versions that don't bring up the software keyboard. I'm currently using something like this:</p>\n\n<pre><code>function isContentEditable() {\n    var canEditContent = 'contentEditable' in document.body;\n    if (canEditContent) {\n        var webkit = navigator.userAgent.match(/(?:iPad|iPhone|Android).* AppleWebKit\\/([^ ]+)/);\n        if (webkit &amp;&amp; parseInt(webkit[1]) &lt; 534) {\n            return false;\n        }\n    }\n    return canEditContent;\n}\n</code></pre>\n\n<p>This should stop older iOS and Android devices from returning true. It still has one problem though: physical keyboards. If, for example, a device is running Android 2.3 but has a physical keyboard then the user will be able to use contentEditable but this function will return false. Physical keyboards are quite rare though.</p>\n\n<p>More commonly, on some devices it may be possible for the user to bring up the on screen keyboard by pressing and holding the menu button. Obviously this isn't really something you should expect your users to know about.</p>\n\n<p>You could mitigate these issues slightly by having some way for the user to manually override the sniffing part of the detection script. You could implement this in the isContentEditable function by adding an override check to \"if (canEditContent)\". However, Implementing the UI for this might present more of a challenge ;).</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I've been searching for this for a couple of days now and so far, the best I can come up with is checking the list below.  I really don't like to check for support based on User-Agent, especially since it can be spoofed.  I've also heard of at least one instance where the list below is incorrect (noted below).</p>\n\n<ul>\n<li>Is Internet Explorer?</li>\n<li>Is WebKit? <em>(But I've read that mobile Safari doesn't support it)</em></li>\n<li>Is Opera?</li>\n<li>Is Gecko and version >= 1.9? <em>(meaning Firefox 3 or later)</em></li>\n</ul>\n\n<p>Is there a better method based on testing for support directly via JavaScript, or is this pretty much the only way to test for support?</p>\n",
            "last_activity_date": 1370019482,
            "question_id": 1882205,
            "score": 7,
            "tags": [
                "javascript",
                "html",
                "cross-browser",
                "contenteditable"
            ],
            "title": "How do I detect support for contentEditable via JavaScript?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You write a cookie and try to read back: this way, you'll know if cookies are enabled.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Yes! <a href=\"http://www.quirksmode.org/js/cookies.html\">Read this excellent article about using cookies with JavaScript</a></p>\n\n<p>Here's an excerpted code example.</p>\n\n<pre><code>function createCookie(name,value,days) {\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime()+(days*24*60*60*1000));\n        var expires = \"; expires=\"+date.toGMTString();\n    }\n    else var expires = \"\";\n    document.cookie = name+\"=\"+value+expires+\"; path=/\";\n}\n\nfunction readCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for(var i=0;i &lt; ca.length;i++) {\n        var c = ca[i];\n        while (c.charAt(0)==' ') c = c.substring(1,c.length);\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n    }\n    return null;\n}\n\nfunction eraseCookie(name) {\n    createCookie(name,\"\",-1);\n}\n</code></pre>\n\n<p>And as for testing whether they are enabled. I like jldupont's answer.</p>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<p>you can use <code>navigator.cookieEnabled</code> but I'm not sure if it's supported by all browsers.</p>\n\n<p>\nFor more information about cookies, check <a href=\"http://www.w3schools.com/JS/js_cookies.asp\" rel=\"nofollow\">this</a>\n</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<blockquote>\n  <p>Can I check if cookies are enabled for example?</p>\n</blockquote>\n\n<p>Yes, but not as easily as you think. <code>navigator.cookieEnabled</code> is a very general flag which does not cover exactly under what circumstances you may set a cookie.</p>\n\n<p>For example, it's possible for session cookies to be allowed but persistent cookies blocked. So you're not really going to know whether a cookie-set will succeed unless you go ahead and try it, by setting a dummy <code>document.cookie</code> and then reading <code>document.cookie</code> back to see if it took.</p>\n\n<p>In many browsers a persistent cookie will be downgraded to a session cookie when persistent cookies are disabled. But not IE, which will simply block it. You can try to detect that by setting both a persistent and a session cookie to <code>document.cookie</code> and seeing which if any survives.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The W3Schools <a href=\"http://www.w3schools.com/JS/js_cookies.asp\" rel=\"nofollow\">JavaScript Cookies</a> code has a bug in it.  In the function setCookie this line:  </p>\n\n<p>exdate.setDate(exdate.getDate()+expiredays);</p>\n\n<p>JavaScript Date Object Properties:<br>\ngetDate() - Returns the day of the month (from 1-31)<br>\n...<br>\ngetTime() - Returns the number of milliseconds since midnight Jan 1, 1970<br>\n... </p>\n\n<p>getDate() plus the number of days is not going to work.  I think it should be something like this:  </p>\n\n<p>expire = expiredays * 1000 * 60 * 60 * 24; // convert to milliseconds<br>\nvar exdate = new Date( today.getTime() + (expire) );</p>\n\n<p>The cookie libraries at TechPatterns.com <a href=\"http://techpatterns.com/downloads/javascript_cookies.php\" rel=\"nofollow\">Javascript Cookie Script Get Cookie, Set Cookie, Delete Cookie Functions</a> work better (#1 in Google results isn't always the best). </p>\n\n<p>I tested code from both pages in IE8 and the first one caused my cookie to have an expire date of 1/1/2038 1:00 AM.  The code from the second example set my cookie expire date to exactly 1 day from the time I tested it, just as expected.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There's a great article on quirksmode about cookie manipulation via JavaScript:\n<a href=\"http://www.quirksmode.org/js/cookies.html\" rel=\"nofollow\">http://www.quirksmode.org/js/cookies.html</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Exactly what are the restrictions for handling browser cookies from javascript? Can I check if cookies are enabled for example?</p>\n",
            "last_activity_date": 1363018848,
            "question_id": 1704991,
            "score": 7,
            "tags": [
                "javascript",
                "cookies",
                "client-side"
            ],
            "title": "Can I modify or add cookies from JavaScript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<blockquote>\n  <p><code>QUnit.testStart(name)</code> is called whenever a new test batch of assertions starts running. <code>name</code> is the string name of the test batch.</p>\n</blockquote>\n\n<p>See <a href=\"http://docs.jquery.com/QUnit#Integration%5Finto%5FBrowser%5FAutomation%5FTools\">the documentation</a> for more info.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<h2>Registering a QUnit Callback</h2>\n\n<pre><code>var mySetupFunc(details){/* setup code */}\nQUnit.testStart(mySetupFunc);\n</code></pre>\n\n<hr>\n\n<h2>Callback Details</h2>\n\n<p>As of QUnit version 1.10.0pre-A, each registered <a href=\"http://api.qunitjs.com/category/callbacks/\">callback</a> will receive a hash as the first (and only) parameter. I've named mine 'details' in the example above. The contents of the hash vary by callback.  Here's a list of information in each hash.</p>\n\n<p><strong><a href=\"http://api.qunitjs.com/QUnit.begin/\">begin</a></strong><br>\n<em>(start of all tests)</em></p>\n\n<pre><code>{}  /* empty hash */\n</code></pre>\n\n<p><strong><a href=\"http://api.qunitjs.com/QUnit.done/\">done</a></strong><br>\n<em>(end of all tests)</em></p>\n\n<ul>\n<li>failed: (int) total tests failed </li>\n<li>passed: (int) total tests passed</li>\n<li>total: (int) total tests run </li>\n<li>runtime: (int) how long tests took to run in milliseconds</li>\n</ul>\n\n<p><strong><a href=\"http://api.qunitjs.com/QUnit.log/\">log</a></strong><br>\n<em>(called within the ok() methods, etc)</em></p>\n\n<ul>\n<li>result: (boolean) true if good, false if failed</li>\n<li>message: (string) whatever message you passed to ok()</li>\n</ul>\n\n<p><strong><a href=\"http://api.qunitjs.com/QUnit.testStart/\">testStart</a></strong><br>\n<em>(called at the start of each test)</em></p>\n\n<ul>\n<li>name: the name of the test (first argument passed to test() or asyncTest())</li>\n<li>module: the name of the module (if you haven't called the module() method, this will be undefined)</li>\n</ul>\n\n<p><strong><a href=\"http://api.qunitjs.com/QUnit.testDone/\">testDone</a></strong><br>\n<em>(called at the end of each test)</em></p>\n\n<ul>\n<li>name: (string) the name of the test (first argument passed to test() or asyncTest())</li>\n<li>module: (string) the name of the module (will be undefined if you never called module())</li>\n<li>failed: (int) count of assertions that failed</li>\n<li>passed: (int) count of assertions that succeeded</li>\n<li>total: (int) count of all assertions in the test</li>\n</ul>\n\n<p><strong><a href=\"http://api.qunitjs.com/QUnit.moduleStart/\">moduleStart</a></strong><br>\n<em>(called at the start of each module)</em></p>\n\n<ul>\n<li>module: the name of the module</li>\n</ul>\n\n<p><strong><a href=\"http://api.qunitjs.com/QUnit.moduleDone/\">moduleDone</a></strong><br>\n<em>(called at the end of each test)</em></p>\n\n<ul>\n<li>module: (string) the name of the module</li>\n<li>failed: (int) count of assertions that failed (total for all tests in module)</li>\n<li>passed: (int) count of assertions that succeeded (total for all tests in module)</li>\n<li>total: (int) count of all assertions in the module</li>\n</ul>\n\n<hr>\n\n<h2>Examples</h2>\n\n<pre><code>// There's probably a more elegant way of doing this, \n// but these two methods will add a row to a table for each test showing how long\n// each test took.  \nvar profileStartTime = null;\n\nfunction startTimer(details) {\n  profileStartTime = new Date();\n}\n\nfunction stopTimer(details) {\n  var stopDate = new Date();\n  var duration = stopDate - profileStartTime;\n  jQuery('#profiling').append(\n    \"&lt;tr&gt;&lt;td&gt;\" \n    + (details.module ? details.module + \":\" : \"\") \n    + details.name \n    + \"&lt;\\/td&gt;&lt;td class='duration'&gt;\" \n    + duration \n    + \"&lt;\\/td&gt;&lt;\\/tr&gt;\");\n}\n\nQUnit.testStart(startTimer);\nQUnit.testDone(stopTimer);\n</code></pre>\n\n<p>My html table that is reference above looks like this:</p>\n\n<pre><code>&lt;div style='margin: 10px 0;'&gt;\n  &lt;table summary='profiling' class='profiling_table'&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt;Test Name&lt;/th&gt;\n      &lt;th&gt;Duration&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody id='profiling'&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Perry Tew's answer helped me greatly in solving this issue for myself, and if anyone is interested I wrote an encapsulated events object that will setup all the events for you to just hook into. See below: <br></p>\n\n<p><strong>Please note that <code>console.log()</code> doesn't work on all browsers!</strong></p>\n\n<pre><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.21/jquery-ui.min.js\"&gt;&lt;/script&gt;    \n&lt;script src=\"lib/qunit-1.9.0.js\"&gt;&lt;/script&gt;\n&lt;script src=\"lib/jquery.mockjax.js\"&gt;&lt;/script&gt;\n\n&lt;!-- QUnit Events --&gt;\n&lt;script&gt;\n\n    var testSetup = {\n\n        begin       : function (data) /* before any tests start */ {\n            console.log(\"begin: [\" + new Date().toLocaleTimeString() + \"]\");\n        },\n        moduleStart : function (data) /* before the start of each module */ {\n            console.log(\"-------\\n  moduleStart:\", data.name);\n        },\n        testStart   : function (data) /* before the start of each test */ {\n            console.log(\"    testStart:\", data.name);\n        },\n        log         : function (data) /* called after every assertion */ {\n            console.log(\"      log:\", data.message);\n        },\n        testDone    : function (data) /* after each test */ {\n            console.log(\"    testDone:\", data);\n        },\n        moduleDone  : function (data) /* after each module */ {\n            console.log(\"  moduleDone:\", data);\n        },\n        done        : function (data) /* all tests done */ {\n            console.log(\"done:\", data);\n        },\n\n        init : function () {\n            QUnit.begin = testSetup.begin;\n            QUnit.moduleStart = testSetup.moduleStart;\n            QUnit.testStart = testSetup.testStart;\n            QUnit.log = testSetup.log;\n            QUnit.testDone = testSetup.testDone;\n            QUnit.moduleDone = testSetup.moduleDone;\n            QUnit.done = testSetup.done;\n            console.log(\"\\n======== QUnit events initialized ==========\");\n        }\n    };\n\n$(document).ready(testSetup.init);\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>What is the equivalent of nUnits <code>[SetUp]</code> attribute for qUnit?</p>\n",
            "last_activity_date": 1416997766,
            "question_id": 1683416,
            "score": 7,
            "tags": [
                "javascript",
                "tdd",
                "nunit",
                "qunit"
            ],
            "title": "How do I run a function before each test when using qUnit?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Did you try capturing parens:</p>\n\n<pre><code>(\"\\\\[(.*)]\");\n</code></pre>\n\n<p>This should return the pattern within the brackets as a  captured match in the returned array</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can't.  Javascript doesn't support lookbehinds.</p>\n\n<p>You'll have to either use a capture group or trim off the brackets.</p>\n\n<p>By the way, you probably don't want a greedy <code>.*</code> in your regex.  Try this:</p>\n\n<pre><code>\"\\\\[.*?]\"\n</code></pre>\n\n<p>Or better, this:</p>\n\n<pre><code>\"\\\\[[^\\\\]]*]\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>if you're not set on entirely using RegEx, there's always the string.replace() function.  e.g: string.replace('[','');</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use grouping. I've added a <code>?</code> to make the matching \"ungreedy\", as this is probably what you want.</p>\n\n<pre><code>var matches = mystring.match(/\\[(.*?)\\]/);\n\nif (matches) {\n    var submatch = matches[1];\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>Since javascript doesn't support captures, you have to hack around it. Consider this alternative which takes the opposite approach. Rather that capture what is inside the brackets, remove what's outside of them. Since there will only ever be one set of brackets, it should work just fine. I usually use this technique for stripping leading and trailing whitespace.</p>\n\n<pre><code>mystring.replace( /(^.*\\[|\\].*$)/g, '' );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I need to return just the text contained within square brackets in a string. I have the following regex, but this also returns the square brackets:</p>\n\n<pre><code>var matched = mystring.match(\"\\\\[.*]\");\n</code></pre>\n\n<p>A string will only ever contain one set of square brackets, e.g.:</p>\n\n<pre><code>Some text with [some important info]\n</code></pre>\n\n<p>I want matched to contain 'some important info', rather than the '[some important info]' I currently get.</p>\n",
            "last_activity_date": 1393854619,
            "question_id": 1493027,
            "score": 7,
            "tags": [
                "javascript",
                "regex",
                "string"
            ],
            "title": "Javascript - return string between square brackets"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Is this what you are trying to do?</p>\n\n<pre><code>function SomeClass()\n{\n  if (document.getElementById(\"MY_DIV_ID\").style.display == \"none\")\n  {\n\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>You are looking for one solution to two different scenarios.</p>\n\n<p>The first scenario is getting the cascaded/computed style for a css property. See <a href=\"http://stackoverflow.com/questions/1048336/cant-access-css-selectors-properties-from-javascript/1048382#1048382\">this answer</a> for how to do that.</p>\n\n<p>The second scenario is detecting if any of an element's <em>parents</em> are hidden. This requires traversing and is cumbersome and slow.</p>\n\n<p>You can take the solution <a href=\"http://groups.google.com/group/jquery-dev/browse%5Fthread/thread/e18b399b36d03f4f\">outlined here</a> (and employed by jQuery/Sizzle since <a href=\"http://dev.jquery.com/browser/tags/1.3.2/src/selector.js#L961\">1.3.2</a>), and just read the dimensions of the element:</p>\n\n<pre><code>var isVisible = element.offsetWidth &gt; 0 || element.offsetHeight &gt; 0;\n</code></pre>\n\n<p>If it has dimensions then it is visible in the sense that it takes up some rectangular space (however small) in the document. Note that this technique still has <a href=\"http://groups.google.com/group/jquery-dev/browse%5Fthread/thread/0334b35ecd875253\">some downsides</a> for certain elements in certain browsers, but should work in most cases.</p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>This is the quickest and easiest way to determine if an element is visible.  It is even how <a href=\"http://jquery.com\" rel=\"nofollow\">jQuery</a> does it.</p>\n\n<pre><code>function isVisible(elem) {\n  return elem.offsetWidth &gt; 0 || elem.offsetHeight &gt; 0;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Each case will need its own check and you need to know the ID of that element. First, grab the element (just doing this to make the code readable):</p>\n\n<pre><code>var MyElementName = document.getElementById(\"MyElementName\");\n</code></pre>\n\n<p>Then do your checks:</p>\n\n<p><strong>Case 1:</strong></p>\n\n<pre><code> if (MyElementName.style.display == \"none\")\n</code></pre>\n\n<p><strong>Case 2</strong>, looking at the parent, checking FF first: </p>\n\n<pre><code>if ((MyElementName.previousSibling.nodeType == 3 )\n    &amp;&amp; (MyElementName.parentNode.nextSibling.style.display == \"none\"))\n</code></pre>\n\n<p>then for other browsers:</p>\n\n<pre><code>else (MyElementName.parentNode.style.display == \"none\")\n</code></pre>\n\n<p><strong>Case 3</strong>, look for an applied css class:</p>\n\n<pre><code>if (MyElementName.className = \"SomeClass\")\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm interested in a way to check whether an element has display:none style explicility (ie style=\"display:none\"), has a class that has (or inherits) this style, or one of its parents is hidden (and my element inherits this)</p>\n\n<p>Case1:</p>\n\n<pre><code>&lt;body&gt;&lt;div&gt;&lt;span style=\"display:none;\"&gt;Some hidden text&lt;/span&gt;&lt;/div&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;body&gt;&lt;div style=\"display:none;\"&gt;&lt;span&gt;Some hidden text&lt;/span&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Case2:</p>\n\n<pre><code>SomeClass {   display:none;   }\n&lt;body&gt;&lt;div class=\"SomeClass\"&gt;&lt;span&gt;Some hidden text&lt;/span&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Thanks,</p>\n",
            "last_activity_date": 1392135037,
            "question_id": 1343237,
            "score": 7,
            "tags": [
                "javascript",
                "css"
            ],
            "title": "How to check element&#39;s visibility via javascript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>When an element is selected it gets the <code>ui-selected</code> class added.</p>\n\n<p>So you could get all selected elements with <code>$(\".ui-selected\")</code></p>\n\n<p>This might not work exactly but I think the idea would be something like this:</p>\n\n<pre><code>$('#content_td_account').selectable({\n  filter: 'li:not(\".non_draggable\")',\n  selecting: function(event, ui) { \n    var p = $(this).parent();\n    $(\".ui-selected\").each(obj, function() {\n      if(obj.parent() == p) {\n        // get rad\n      }\n    });\n  }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>this will solve your problem:</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n    $(function() {\n        $(\"#selectable\").selectable({\n            stop: function(){\n                var result = $(\"#select-result\").empty();\n                $(\".ui-selected\", this).each(function(){\n                    var index = $(\"#selectable li\").index(this);\n                    result.append(\" #\" + (index + 1));\n                });\n            }\n        });\n    });\n    &lt;/script&gt;\n\n\n&lt;div class=\"demo\"&gt;\n\n&lt;p id=\"feedback\"&gt;\nYou've selected: &lt;span id=\"select-result\"&gt;none&lt;/span&gt;.\n&lt;/p&gt;\n\n&lt;ol id=\"selectable\"&gt;\n    &lt;li class=\"ui-widget-content\"&gt;Item 1&lt;/li&gt;\n    &lt;li class=\"ui-widget-content\"&gt;Item 2&lt;/li&gt;\n    &lt;li class=\"ui-widget-content\"&gt;Item 3&lt;/li&gt;\n    &lt;li class=\"ui-widget-content\"&gt;Item 4&lt;/li&gt;\n    &lt;li class=\"ui-widget-content\"&gt;Item 5&lt;/li&gt;\n    &lt;li class=\"ui-widget-content\"&gt;Item 6&lt;/li&gt;\n&lt;/ol&gt;\n</code></pre>\n\n<p>check out <a href=\"http://jqueryui.com/demos/selectable/#serialize\" rel=\"nofollow\">http://jqueryui.com/demos/selectable/#serialize</a> for more info</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You have to use selected and unselected event which are fired for every selected item in group  selection.</p>\n\n<pre><code>var selected = new Array();\n$(\"#selectable\").selectable({\n    selected: function(event, ui){            \n        selected.push(ui.selected.id);\n    },\n    unselected: function(event, ui){\n        //ui.unselected.id\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>the ui argument in that event is the reference to the elemenent,\nif it was the selected event ui.selected event will be the elemennt, if it was unselect unselected.ui.....etc</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>By using <code>:last</code> or <code>:first</code> the selection is not the first selected but the first in order of <code>li</code></p>\n\n<p>This is the solution I managed:</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;ol class=\"selectable\"&gt;                            \n     &lt;li class=\"ui-widget-content\" \n        id=\"selectable_1\"\n        value=\"1\"\n     &gt; First Selectable &lt;/li&gt;\n     &lt;li class=\"ui-widget-content\" \n        id=\"selectable_2\"\n        value=\"2\"\n     &gt; Second Selectable &lt;/li&gt;\n&lt;/ol&gt;  \n</code></pre>\n\n<p>In this code I gave the <code>li</code> an id and a value, thus making them available to the <code>ui</code> property of the selecting event</p>\n\n<p>JAVASCRIPT</p>\n\n<pre><code>//A place to put the last one\nvar last_selected_value;\nvar last_selected_id;\n\n\n$( \".selectable\" ).selectable({\n    selecting: function(event, ui) {\n\n        //In the selection event we can know wich is the last one, by getting the id on\n        //the ui.selecting.property\n\n        last_selected_value = ui.selecting.value;\n        last_selected_id = ui.selecting.id;\n    },\n    stop: function(event, ui) {\n\n        //Here the event ends, so that we can remove the selected\n        // class to all but the one we want\n\n        $(event.target).children('.ui-selected').not(\"#\" + last_selected_id)\n            .removeClass('ui-selected');\n\n        //We can also put it on a input hidden\n        $( \"#roles_hidden\" ).val(last_selected_value);\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am looking for info on the event and ui objects the jquery selectable events: \"selecting\", and \"start\" take as parameters. I cannot find this in the documentation and looping through the properties is no help.</p>\n\n<pre><code>  $('#content_td_account').selectable({\n                                      filter: 'li:not(\".non_draggable\")',\n                                      selecting: function(event, ui) { \n\n                                      }\n\n                                       });\n</code></pre>\n\n<p>Specifically I want to find what  elements are being selected and check them to see if their parent elements are the same or not. I assumed this would be in the ui object some where. </p>\n",
            "last_activity_date": 1349039874,
            "question_id": 1303294,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui",
                "jquery-plugins"
            ],
            "title": "how to find selected elements with Jquery UI selectable"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>Perhaps using custom attributes, so for a user's list element, add attributes for the variables:</p>\n\n<pre><code>&lt;li uid=\"theuserid\" ustatus=\"thestatus\"&gt;&lt;/li&gt;\n</code></pre>\n\n<p>The values can then be got with the attr function:</p>\n\n<pre><code>$(\"li\").attr(\"uid\")\n</code></pre>\n\n<p>And </p>\n\n<pre><code>$(\"li\").attr(\"ustatus\")\n</code></pre>\n\n<p><strong>Note:</strong> The selectors will need to be changed, obviously</p>\n\n<p>Please note that there are differing opinions on the use of custom attributes - however, this should be fine for every major browser. It is also the least complex solution I can think of. It doesn't require jumping to sibling elements to get data, or finding elements nearby, which can all add a small amount of overhead to processing - I try to minimise the amount of extra bloat I add to the DOM when doing such things.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>There are various ways of doing it depending on the kind of data you are storing and how much information you are storing in the page in general. It's best to devise a consistent scheme so you can write a simple library call to do the work. For example,</p>\n\n<p>You can store data in the class of a particular element. This may require additional wrapper elements in order to be able to provide an additional class to drive your CSS. This also restricts the storable content format. User ID may well fit into a class attribute.</p>\n\n<p>You can store data in an unused href of a Javascript activated link. This has the additional feature of showing the data in the status bar as part of the URL on rollover. For instance you can store '#userid' or even just 'userid' in the href.</p>\n\n<p>You can store data in additional elements. For instance you can have a nested div with a class that indicates storage which also triggers CSS to take the element out of the display. This is the most general and extensive support you can probably arrange in page.</p>\n\n<p>Rather than a nested div you could also use nested input tags with type=\"hidden\". This is kind of more expected / traditional and doesn't require CSS to take them out of the display. You can use the id attribute to identify these inputs, or you can use the location on the page. For instance, put them inside the link that the user clicks and then just search inside the current link in the onclick handler.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>jQuery Data</strong></p>\n\n<p>If you want to store custom data against a jQuery object, use the <a href=\"http://docs.jquery.com/Core/data\" rel=\"nofollow\">data function</a>.</p>\n\n<pre><code>$('#myField').data('name', 'Jack');\nvar name = $('#myField').data('name');\n</code></pre>\n\n<p><strong>HTML5 data-* Attributes</strong></p>\n\n<p>You can also use the HTML5 <code>data-*</code> attributes, though the APIs for accessing these are only partially supported by the different browsers. <a href=\"http://html5doctor.com/html5-custom-data-attributes/\" rel=\"nofollow\">Here's some more information about that</a>.</p>\n\n<pre><code>&lt;div data-userid=\"123\" class=\"user-row\"&gt;\n</code></pre>\n\n<p>programmatically:</p>\n\n<pre><code>$('#myElement').attr('data-fruit', 'apple');\n// or\ndocument.getElementById('myElement').dataset.fruit = 'apple';\n</code></pre>\n\n<p><strong>Hidden Fields</strong></p>\n\n<p>If you want to do things the old browser-compatible way and stuff the metadata directly into your html, you can use hidden fields. It's a bit cruder but easy enough to do.</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"UserID\" value=\"[userid]\" /&gt;\n</code></pre>\n\n<p>You can easily use <a href=\"http://docs.jquery.com/Selectors\" rel=\"nofollow\">jQuery selectors</a> to query your list and find html blocks that contain user items that have the relevant hidden fields that match the metadata you are querying for.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There is jQuery's data function</p>\n\n<pre><code>$('li').data('userid',uid); // sets the value of userid\nuid = $('li').data('userid'); // retrieves the value of userid\n</code></pre>\n\n<p>official documentation: <a href=\"http://docs.jquery.com/Data\">http://docs.jquery.com/Data</a></p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>In this case, I think custom attributes might be overkill. You can store the user-id in the <em>id</em>-attribute, since there will only be one instance of the user in the list, right? Also, the status of the user could be stored in the <em>class</em>-attribute. In this way, each user could be given different styling in CSS, such as green for active, yellow for a non-activated account, and red for a suspended account.</p>\n\n<p>The code for fetching the status will, however, be a little more complex compared to using a custom attribute (But only if you also want to have multiple classes). On a more positive note, the HTML will validate with this approach whereas it would not with custom attributes.</p>\n\n<pre><code>&lt;ul id=\"userList\"&gt;\n    &lt;li id=\"uid123\" class=\"active\"&gt;UserName X&lt;/li&gt;\n    &lt;li id=\"uid456\" class=\"suspended\"&gt;Mr. Troll&lt;/li&gt;\n&lt;/ul&gt;\n\n/**\n * Simple function for searching (strict) for a value in an array\n * @param array arr The array to look in\n * @param mixed val The value to look for in arr. Note that the value is looked for using strict comparison\n * @return boolean true if val is found in arr, else false\n */\nfunction searchArray(arr, val) {\n    for(var i = 0, len = arr.length; i &lt; len; i++) {\n        if(arr[i] === val) {\n            return true;\n        }\n    }\n    return false;\n}\n\n/**\n * Gets a known status from a string of class names. Each class name should be separated\n * by a space.\n * @param string classNames The string to check for a known status\n * @return string|false The status if found in classNames, else false\n */\nfunction getStatus(classNames) {\n    // The different statuses a user can have. Change this into your own!\n    var statuses = ['active', 'suspended', 'inactive'], \n        nameArr = classNames.split(\" \");\n    for(var i = 0, nameLen = nameArr.length; i &lt; nameLen; i++) {\n        // If we find a valid status among the class names, return it\n        if(searchArray(statuses, nameArr[i])) {\n            return nameArr[i];\n        }\n    }\n    return false; // We didn't find any known status in classNames\n}\n\nvar id = $(\"li\").attr(\"id\"); // Fetches the id for the first user\nvar status = getStatus($(\"li\").attr(\"class\")); // Fetches the status of the first user\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>To answer the question of \"how to get it into the document in the first place\", I suggest a layout similar to this:</p>\n\n<pre><code>&lt;ul id=\"users\"&gt;\n    &lt;li id=\"someUserId\" class=\"someStatus\"&gt;Some Username&lt;/li&gt;\n    &lt;li id=\"someOtherUserId\" class=\"someOtherStatus\"&gt;Some Username&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>This allows you to easily select a lot of info about your users:  </p>\n\n<pre><code>$('#users &gt; li') // all user elements\n$('.someStatus') // all users of a particular status\n</code></pre>\n\n<p>Then in your event handlers it's also easy to get the current status:</p>\n\n<pre><code>$(this).attr('class') //get current status once you have a user element selected.\n</code></pre>\n\n<p>Another alternative is to dump javascript to the page and simply have it use the jquery <code>data</code> functionality to store the data as soon as the page loads.   You'd still need an id on the element in order to find the right one though.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The <a href=\"http://plugins.jquery.com/project/metadata\" rel=\"nofollow\">metadata</a> plugin to jquery is your answer.</p>\n\n<pre><code>&lt;html &gt;\n&lt;head&gt;\n&lt;script src=\"/js/jquery-1.3.2.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/js/jquery.metadata.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;ul&gt;\n&lt;li type=\"text\" class=\"{UID:'1',status:'alive'}\"&gt;Adam&lt;/li&gt;\n&lt;li type=\"text\" class=\"{UID:'2',status:'alive'}\"&gt;Bob&lt;/li&gt;\n&lt;li type=\"text\" class=\"{UID:'3',status:'alive'}\"&gt;Carol&lt;/li&gt;\n&lt;/ul&gt;\n&lt;script&gt;\n$('li').each(function(){window.console.log($(this).metadata().UID)});\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There is a lot of debate as to what is best to use. You can store the data a lot of ways, and they all make someone happy - custom attributes will of course not validate if you use XHTML, and using classes to store one or two bits of data is clumsy at best and only gets worse with the amount of things you want to know. Personally, not only am I not a big fan of XHTML,  I am also not much of a validation nazi, so I recommend going with the custom attributes.</p>\n\n<p>There is, however, an option that reconciles custom attributes with standards: <code>data-</code> attributes. As John Resig (the author of jQuery) <a href=\"http://ejohn.org/blog/html-5-data-attributes/\" rel=\"nofollow\">writes about in his blog</a>, this is a new attribute being introduced in HTML5 that allows you to specify <a href=\"http://dev.w3.org/html5/spec/Overview.html#custom-data-attribute\" rel=\"nofollow\">custom data attributes</a> with the <code>data-</code> prefix. So a perfectly valid element might look like this:</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;li data-userid='5' data-status='active'&gt;Paolo Bergantino&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>This has the upside that while you are still using custom attributes which <em>may</em> be bad if you are using XHTML, your code is going to age very well as this is the way that we will be storing data related to a particular item in the future. </p>\n\n<p>Some further reading is <a href=\"http://unspace.ca/discover/attributes/\" rel=\"nofollow\">Attributes > Classes: Custom DOM Attributes for Fun and Profit.</a></p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>I'm working on a web application that uses ajax to communicate to the server.\nMy specific situation is the following:</p>\n\n<p>I have a list of users lined out in the html page. On each of these users i can do the following: change their 'status' or 'remove' them from the account.</p>\n\n<p>What's a good practice for storing information in the page about the following:</p>\n\n<ul>\n<li>the user id</li>\n<li>the current status of the user</li>\n</ul>\n\n<p>P.S.: I'm using jQuery.</p>\n",
            "last_activity_date": 1318329014,
            "question_id": 934463,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "html &amp; javascript: How to store data referring to html elements"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You might look into <a href=\"http://markitup.jaysalvat.com/home/\" rel=\"nofollow\">markItUp!</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I think that you should not use markdown if you are looking for anchor references. Try the following Creole Wiki markup parsers:</p>\n\n<ul>\n<li>A prototype Javascript Creole 0.4 parser can be found at <a href=\"http://www.meatballsociety.org/Creole/0.4/\" rel=\"nofollow\">MeatballSociety</a></li>\n<li><a href=\"http://sourceforge.net/projects/jscreole/\" rel=\"nofollow\">JavaScript Creole 1.0 Wiki Markup Parser</a>, based on the above </li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Textile hast a builtin \"footnote\" mechanism:</p>\n\n<pre><code>.. AJAX[1] ...\n\nfn1. Asynchronous JavaScript and XML ..\n</code></pre>\n\n<p>As of <a href=\"https://github.com/netcarver/textile\" rel=\"nofollow\">Textile 2.2</a> there's also a \"notelist\" feature: <a href=\"http://textile.sitemonks.com/?eg=notes#results\" rel=\"nofollow\">textile.sitemonks.com/?eg=notes</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I need a javascript library to convert structured ascii text to html on the fly.\nI am especially interested in the following point:</p>\n\n<p>I would like do use anchored links inside pages, see <a href=\"http://www.w3.org/TR/REC-html40/struct/links.html#h-12.1.1\">http://www.w3.org/TR/REC-html40/struct/links.html#h-12.1.1</a></p>\n\n<p>Which library for structured text would support this or if it is not supported could be easily extended (i could write an extension)? </p>\n\n<p>Can you make a suggestion for a good and simple syntax for structured ascii text for \"in page links\"?</p>\n\n<pre><code>&lt;a href=\"#jumpend\"&gt;jump to the end&lt;/a&gt;\n...some body text...\n&lt;a name=\"jumpend\"&gt;this is the end&lt;/a&gt;\n</code></pre>\n\n<p>I like the way links are written in \"markdown\", so how could the name anchor in a to be written extension be expressed in a nice way?</p>\n\n<p>Which libraries do you know or can you recommend? Should be multi browser, good and easy to read and extend clean source code, actively maintained. </p>\n\n<p>I am presently having a look at the JavaScript Markdown library \"Showdown\": <a href=\"http://attacklab.net/showdown/\">http://attacklab.net/showdown/</a></p>\n",
            "last_activity_date": 1373815684,
            "question_id": 895135,
            "score": 7,
            "tags": [
                "javascript",
                "markdown",
                "textile"
            ],
            "title": "JavaScript libraries for Markdown, Textile and others; Anchor references"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Why not just make a very short lived session cookie that is reset with each page load, then add a tracking cookie. When the user returns you notice the tracking cookie but no session cookie. Expire the session and clear everything up at that point.</p>\n\n<p>Pop up blockers will prevent your session clean up when it blocks the onUnload window open, because this is something spammers use.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Looks like GWT does have an event for exactly this.</p>\n\n<p><a href=\"http://google-web-toolkit.googlecode.com/svn/javadoc/1.6/com/google/gwt/user/client/Window.ClosingEvent.html\">ClosingEvent</a>.</p>\n\n<p>Looks like you need to implement a <a href=\"http://google-web-toolkit.googlecode.com/svn/javadoc/1.6/com/google/gwt/user/client/Window.ClosingHandler.html\" title=\"ClosingHandler\">ClosingHandler</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>This is how the closing event works:</p>\n\n<pre><code>Window.addWindowClosingHandler(new Window.ClosingHandler()\n{\n @Override\n public void onWindowClosing(ClosingEvent event)\n {\n  event.setMessage(\"Are you sure?\");\n }\n});\n</code></pre>\n\n<p>Then GWT gives the user a chance to say yes or no. Of course you can also add a test in there to see if they've got any unsaved data or whatever you want. Not setting the message or setting it to null doesn't do anything.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The way to do that is to use the <code>Window.addWindowClosingHandler</code> like @Carnell and @BillLyons said. But I use an additional technique to detect if the browser has been closed or if the page is being visited again (by refresh or back navigation).</p>\n\n<p>Following there's an utility class that can help you. Just call the lines below in your <code>onModuleLoad</code> to test.</p>\n\n<p><strong>The use example</strong>:</p>\n\n<pre><code>@Override\npublic void onModuleLoad() {\n    if (BrowserCloseDetector.get().wasClosed()) {\n        GWT.log(\"Browser was closed.\");\n    }\n    else {\n        GWT.log(\"Refreshing or returning from another page.\");\n    }\n}\n</code></pre>\n\n<p><strong>The utility class</strong>:</p>\n\n<pre><code>import com.google.gwt.user.client.Cookies;\nimport com.google.gwt.user.client.Window;\n\npublic class BrowserCloseDetector {\n    private static final String COOKIE = \"detector\";\n    private static BrowserCloseDetector instance;\n\n    private BrowserCloseDetector() {\n        Window.addWindowClosingHandler(new Window.ClosingHandler() {\n            public void onWindowClosing(Window.ClosingEvent closingEvent) {\n                Cookies.setCookie(COOKIE, \"\");\n            }\n        });\n    }\n\n    public static BrowserCloseDetector get() {\n        return (instance == null) ? instance = new BrowserCloseDetector() : instance;\n    }\n\n    public boolean wasClosed() {\n        return Cookies.getCookie(COOKIE) == null;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am writing an application in GWT and I need to detect when a user navigates away from my application or when he closes the browser window (onUnload event) and do a logout (session invalidation and few other cleanup tasks). The logout action is performed by a servlet. </p>\n\n<p>I am currently doing this by hooking into the onUnload() event and opening a new window pointed to the logout servlet. </p>\n\n<p>Is there a better way to do this? Any other suggestions are welcome.</p>\n",
            "last_activity_date": 1361406481,
            "question_id": 888483,
            "score": 7,
            "tags": [
                "javascript",
                "gwt",
                "logout",
                "onunload"
            ],
            "title": "Best way to detect browser closing/navigation to other page and do logout"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I've had to do this on occasion; it's not too tough:</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>function resizeGrid() {\n   // do whatever you need here, e.g.:\n   myGrid.resize();\n   myGrid.update();\n}\n\ndojo.addOnLoad(function() {\n   dojo.connect(window, \"onresize\", resizeGrid);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I have the same kind of problem. I tried a solution similar to Ryan Corradini's.</p>\n\n<p>It is only OK for first display. If I change the window size, the resize function is correctly called, but the grid's size stays unchanged.</p>\n\n<p>Please note my particular conditions: in the resize function, I have to set the height attribute of the grid (resize+update only seems not enough).</p>\n\n<p>HTML looks like :</p>\n\n<pre><code>&lt;div id=\"msgItems\" dojoType=\"dijit.layout.ContentPane\" region=\"center\"\n style=\"padding:2px;\"&gt;\n&lt;form id=\"msgDefForm\" name=\"msgDefForm\" dojoType=\"dijit.form.Form\"&gt;\n&lt;div style=\"display:none;\"&gt;&lt;input type=\"text\" name=\"msgName\" id=\"msgName\" dojoType=\"dijit.form.TextBox\"&gt;&lt;/input&gt;\n&lt;/div&gt;\n\n&lt;table dojoType=\"dojox.grid.DataGrid\" jsId=\"msgGrid\" id=\"msgGrid\"\nrowsPerPage=\"10\" rowSelector=\"5px\" singleClickEdit=\"false\" loadingMessage=\"Loading message content\"  \nerrorMessage=\"Error while loading the message content\" selectable=\"true\"  &gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th field=\"zone\" width=\"8em\" cellType=\"dojox.grid.cells.Select\" options=\"properties, values\" editable=\"true\"&gt;Zone&lt;/th&gt;\n      &lt;th field=\"property\" width=\"auto\" editable=\"true\"&gt;Property&lt;/th&gt;\n      &lt;th field=\"value\" width=\"auto\" editable=\"true\"&gt;Value&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n&lt;/table&gt;\n\n&lt;/form&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>JS looks like :</p>\n\n<pre><code>... in startOnLoad :\ndojo.connect( window, \"onresize\", msgGridResized);\nmsgGridResized ();\n...\n\nfunction msgGridResized () {\n    var cont = dojo.byId(\"msgItems\")\n    var h = cont.clientHeight - 4;\n    if (h &gt;= 0){\n    \tvar grd = dijit.byId(\"msgGrid\");\n    \tgrd.attr(\"height\", h+\"px\" );\n    \tgrd.resize();\n    \tgrd.update();\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Haven't got time to try this out for you but can't you just dojo.connect to the TitlePane's resize event and in the handler resize the grid or set the size of the grid using percentages in the declaration/markup?</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a dojo Grid widget inside a TitlePane with it's width set to 100%. </p>\n\n<p>The TitlePane is in a liquid layout so it's width changes with the browser window size. The problem I am having is that when the parent window expands (or contracts) the grid itself does not change it's width. I can get it to resize itself by calling render() on the grid, but how can I detect that the parent window has resized so that I know to redraw the grid widget?</p>\n",
            "last_activity_date": 1376488687,
            "question_id": 870199,
            "score": 7,
            "tags": [
                "javascript",
                "dojo"
            ],
            "title": "Automatically Resize dojo dijit.Grid widget when it&#39;s parent container resizes"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Maybe <a href=\"http://stackoverflow.com/questions/568719/is-monitoring-location-hash-a-solution-for-history-in-xhr-apps\">this question</a> is usefull to you. In the question I linked to a testpage, where location.hash is used to keep track of the history. I am currently using this method in a testsite and experienced problems with Opera (truncates a location.hash value at the question mark, you'll have to use: <code>location.href.split(/#/)[1]</code>) and of course IE (needs an iframe). In IE with iframe the history is saved for the current session only. If you load another page in the same window/tab and use the back button to go back to the AJAX page, the previous history is lost. It's not that big a deal for me, but may be annoying. I understood that IE8s history should behave like expected with location.hash, it even should have a hashchange handler.</p>\n\n<p>I think most of the frameworks use the same technique (monitoring location.hash for changes, using an iframe for IE). I didn't want to use a framework, because I'm using my own home brew small framework and regular frameworks contain too much functionallity I'll never use.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I had the similar problem a while ago building a flash only site. We tried:</p>\n\n<ul>\n<li><a href=\"http://code.google.com/p/reallysimplehistory/\">Really Simple History</a> (which had some problems in combination of safari and flash)</li>\n<li><a href=\"http://extjs.com\">ExtJS</a> which has a <a href=\"http://extjs.com/deploy/dev/docs/?class=Ext.History\">history component</a> which worked great for us. (<a href=\"http://extjs.com/deploy/dev/examples/history/history.html\">Demo</a>) [Beside we have used this framework already for other projects.]</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>jQuery History is my preferred choice. It can be found here: <a href=\"http://www.balupton.com/projects/jquery-history/\" rel=\"nofollow\">http://www.balupton.com/projects/jquery-history/</a> Provide cross browser support, binding to hashes, overloading hashes, all the rest.</p>\n\n<p>There is also an Ajax extension for it called jQuery Ajaxy, allowing it to easily upgrade your webpage into a proper Ajax application without need for server side changes and remaining SEO and JS-Disabled friendly: <a href=\"http://www.balupton.com/projects/jquery-ajaxy/\" rel=\"nofollow\">http://www.balupton.com/projects/jquery-ajaxy/</a></p>\n\n<p>This is the solution chosen by such sites as <a href=\"http://wbhomes.com.au/\" rel=\"nofollow\">http://wbhomes.com.au/</a> and <a href=\"http://www.balupton.com\" rel=\"nofollow\">http://www.balupton.com</a></p>\n\n<p>Overall they are both well documented, supported and feature rich. They've also won a bounty question here <a href=\"http://stackoverflow.com/questions/3205900/how-to-show-ajax-requests-in-url/3276206#3276206\">http://stackoverflow.com/questions/3205900/how-to-show-ajax-requests-in-url/3276206#3276206</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm seeking a javascript history framework to handle navigation inside a page when the user selects multiple options which change the page behaviour.</p>\n\n<p>There are multiple artefacts on the page that change the data loading of the page and I'd like to store this as a stacked set of behaviour. In a wider sense, I'd like to add this as a toolkit to my future web projects for the same reasons.</p>\n\n<p>I'm primarily writing in ASP.NET with JQuery but I'm only really worried about JQuery for now. I do write other projects in PHP, Python and Perl (depending on the gig) so it would have to be platform agnostic.</p>\n\n<p>I've been looking on the net and have found a few but only one (covered on OReilly) looked like it would fit the bill. I have started playing with it but I wanted to know what toolkits other people were using and what others would recommend.</p>\n\n<p>So if you have any experience of history frameworks, handling the back button (etc) in Ajax I'd love to hear about what you've used and how it worked out. It would really help me make a final choice on library.</p>\n\n<p>Thanks,</p>\n\n<p>S</p>\n",
            "last_activity_date": 1284803752,
            "question_id": 657310,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "hashchange"
            ],
            "title": "Experiences with Javascript History Frameworks"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Found this possibly related blog post: <a href=\"http://blogs.msdn.com/ie/archive/2008/04/23/what-happened-to-operation-aborted.aspx\" rel=\"nofollow\">http://blogs.msdn.com/ie/archive/2008/04/23/what-happened-to-operation-aborted.aspx</a></p>\n\n<p>Or this: <a href=\"http://weblogs.asp.net/infinitiesloop/archive/2006/11/02/Dealing-with-IE-_2600_quot_3B00_Operation-Aborted_2600_quot_3B002E00_-Or_2C00_-how-to-Crash-IE.aspx\" rel=\"nofollow\">http://weblogs.asp.net/infinitiesloop/archive/2006/11/02/Dealing-with-IE-_2600_quot_3B00_Operation-Aborted_2600_quot_3B002E00_-Or_2C00_-how-to-Crash-IE.aspx</a></p>\n\n<p><a href=\"http://www.google.com/search?rlz=1C1GGLS_en-USUS297&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=internet+explorer+script+tag+operation+aborted\" rel=\"nofollow\">Seems to be pretty common</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>There was a related question earlier today</strong>:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/266585/operation-aborted-error-in-ie7\"><strong>Operation Aborted Error in IE</strong></a></p>\n\n<p>This is a common problem.</p>\n\n<p>It occurs in IE when a script tries to modify the DOM before the page is finished loading.  </p>\n\n<p>Take a look at what sort of scripts are executing.  You'll find that something is getting started before the page is finished loading.  You can use the window.onload event to correct the problem (or one of the onDomReady library functions).</p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>This comes up a lot with Google Maps (used to drive me bonkers because it's hard to debug). One simple solution is to add the <code>defer</code> attribute to your script tags. They don't validate that way, but hey, this is real life we're talking about.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I was able to fix this problem on a few pages I was having trouble with today.</p>\n\n<p>If you have JavaScript that modified the DOM anywhere within the body of the page, try moving it below the <code>&lt;/body&gt;</code> tag.</p>\n\n<p><strong>Example:</strong></p>\n\n<p>Change</p>\n\n<pre><code>...\n&lt;script&gt;highlightSearchTerms();&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>To</p>\n\n<pre><code>...\n&lt;/body&gt;\n&lt;script&gt;highlightSearchTerms();&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Just elaborating Keparo's answer.</p>\n\n<p>You can put your script inside one of the following functions(as per the library you are using) and that will resolve the issue.</p>\n\n<pre>\nprototype.js:\ndocument.observe(\u2019dom:loaded\u2019, function () { /* your script goes here */ }),\n\njquery:\njQuery(document).ready(function () { /* your script goes here */ })\n\nmootools:\ndocument.addEvent(\u2019domloaded\u2019, function () { /* your script goes here */ })\n</pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I recently added JQuery's date-picker control to a project. In Internet Exploder, I get the following error message:</p>\n\n<blockquote>\n  <p>Internet Explorer cannot open the\n  Internet site</p>\n  \n  <p><a href=\"http://localhost/\">http://localhost/</a></p>\n  \n  <p>Operation aborted</p>\n</blockquote>\n\n<p>What is causing this problem?</p>\n",
            "last_activity_date": 1256210816,
            "question_id": 267160,
            "score": 7,
            "tags": [
                "javascript",
                "internet-explorer",
                "operation-aborted"
            ],
            "title": "What is the &quot;Operation Aborted&quot; error in Internet Explorer?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>You can use the index() method to check if an element exists in a list, so would the following work?</p>\n\n<pre><code>var someDiv = $('#div');\n\n$('a').click(function() {\n    if ($(this).parents().index(someDiv) &gt;= 0) {\n        alert('boo');\n    }\n}\n</code></pre>\n\n<p>From <a href=\"http://docs.jquery.com/Core/index#subject\" rel=\"nofollow\">#index reference</a>.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>Along those lines, parents() optionally accepts a selector itself:</p>\n\n<pre><code>$('a').click(function() {\n  if ($(this).parents(\"#div\").length) {\n    alert('boo');\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>One way would be to use the filter function</p>\n\n<pre><code>$('a').click(function() {\n    $(this).parents().filter(function() {\n       return this == someDiv[0];\n    }).each(function() {\n       alert('foo');\n    })\n}\n</code></pre>\n\n<p>I think you may also be able to get away with using jQuery.inArray</p>\n\n<pre><code>if ($.inArray( someDiv, $(this).parents() ) ) {\n        alert('boo');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Would you not get the result you want from simply using a CSS selector?</p>\n\n<pre><code>$( '#div a' ).click( function() { ... } );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Checking for <code>(this).parents().index(someDiv) &gt;= 0</code>, as @Gareth suggests, will work just fine.</p>\n\n<p>However, using the <a href=\"http://plugins.jquery.com/project/ancestry\">jQuery ancestry plugin</a> is <strong>way faster / more efficient</strong>.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>var someDiv = $('#div');\n\n$('a').click(function() {\n    if ($.inArray($(this).parents().get(), someDiv.get(0)) {\n        alert('boo');\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var $element = $('a');\nwhile ($element &amp;&amp; !$element.is('someDiv')) {\n   var $element = $element.parent();\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'd like to check ancestry using two jQuery objects. They don't have IDs, and are only going to be available as jQuery objects (or DOM nodes if you called <code>get()</code>). jQuery's  <code>is()</code> only works with expressions, so this code would be ideal but will not work:</p>\n\n<pre><code>var someDiv = $('#div');\n\n$('a').click(function() {\n    if ($(this).parents().is(someDiv)) {\n        alert('boo');\n    }\n}\n</code></pre>\n\n<p>Just want to see if one element is a child of another and I'd like to avoid stepping back into DOM land if possible.</p>\n",
            "last_activity_date": 1283320328,
            "question_id": 245241,
            "score": 7,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "jQuery ancestors using jQuery objects"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>As per <a href=\"http://weblogs.asp.net/scottgu/archive/2006/12/19/tip-trick-how-to-run-a-root-site-with-the-local-web-server-using-vs-2005-sp1.aspx\" rel=\"nofollow\">ScottGu</a>,</p>\n\n<p>One tip to take advantage of is the relative path fix-up support provided by the head runat=\"server\" control.  You can use this within Master Pages to easily reference a .CSS stylesheet that is re-used across the entire project (regardless of whether the project is root referenced or a sub-application):</p>\n\n<p>The path fix-up feature of the head control will then take the relative .CSS stylesheet path and correctly output the absolute path to the stylesheet at runtime regardless of whether it is a root referenced web-site or part of a sub-application.  </p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Have you tried:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src='&lt;%= Page.ResolveClientUrl(\"~/javascript/actions.js\") %&gt;'&gt;&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Use the ScriptManager server control:</p>\n\n<pre><code>  &lt;asp:ScriptManager ID=\"myScriptManager\" runat=\"server\"&gt;\n    &lt;Scripts&gt;\n      &lt;asp:ScriptReference Path = \"~/javascript/actions.js\" /&gt; \n      &lt;asp:ScriptReference Path = \"~/javascript/jquery/jquery-1.2.6.min.js\" /&gt;\n    &lt;/Scripts&gt;\n  &lt;/asp:ScriptManager&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>Our base Masterpage has something like the following</p>\n\n<pre><code>  &lt;head runat=\"server\"&gt;\n   &lt;title&gt;&lt;/title&gt;\n\n   &lt;script type=\"text/javascript\" src=\"&lt;%= Page.ResolveClientURL(\"~/javascript/actions.js\")%&gt;\"&gt;&lt;/script&gt;\n   &lt;script type=\"text/javascript\" src=\"&lt;%= Page.ResolveClientURL(\"~/javascript/jquery/jquery-1.2.6.min.js\")%&gt;\"&gt;&lt;/script&gt;\n   &lt;asp:contentplaceholder id=\"cph_htmlhead\" runat=\"server\"&gt;\n\n   &lt;/asp:contentplaceholder&gt;\n  &lt;/head&gt;\n</code></pre>\n\n<p>If this Masterpage is the Masterpage for an ASPX page things work fine.</p>\n\n<p>If this Masterpage is the Masterpage for a child Masterpage and then a new ASPX page uses the child Masterpage as it's MasterPage we see:</p>\n\n<p>Server Error in '' Application. </p>\n\n<p>The Controls collection cannot be modified because the control contains code blocks (i.e. &lt;% ... %>).</p>\n\n<p><strong>What is the preferred way to include global resources (Javascript/CSS) in a base Masterpage preserving tilde(~) style relative pathing?</strong></p>\n",
            "last_activity_date": 1341422835,
            "question_id": 183859,
            "score": 7,
            "tags": [
                "asp.net",
                "javascript",
                "master-pages",
                "relative-path",
                "nesting"
            ],
            "title": "Preferred way to include relative reference to JavaScript in VS 2008 nested Masterpage"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>This CSS snippet should remove the vertical scrollbar:</p>\n\n<pre><code>body {\noverflow-x: hidden;\noverflow-y: hidden;\n}\n</code></pre>\n\n<p>I'm not sure yet about having it take up as much vertical space as it needs, but I'll see if I can't figure it out.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This should set the IFRAME height to its content's height:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nthe_height = document.getElementById('the_iframe').contentWindow.document.body.scrollHeight;\ndocument.getElementById('the_iframe').height = the_height;\n&lt;/script&gt;\n</code></pre>\n\n<p>You may want to add <code>scrolling=\"no\"</code> to your IFRAME to turn off the scrollbars.</p>\n\n<p><em>edit:</em> Oops, forgot to declare <code>the_height</code>.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>Adding a DOCTYPE declaration to the IFRAME source document will help to calculate the correct value from the line</p>\n\n<pre><code>document.getElementById('the_iframe').contentWindow.document.body.scrollHeight\n</code></pre>\n\n<p>see <a href=\"http://www.w3.org/QA/2002/04/valid-dtd-list.html\" rel=\"nofollow\">W3C DOCTYPE for examples</a></p>\n\n<p>I was having problems with both IE and FF as it was rendering the iframe document in 'quirks' mode, until I added the DOCTYPE.</p>\n\n<p>FF/IE/Chrome support: The .scrollHeight doesnt work with Chrome so I have come up with a javascript example using jQuery to set all IFRAME heights on a page based on the iframes content. NOTE: This is for reference pages within the your current domain.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function(){\n        $('iframe').each(function(){\n            var context = $(this);\n            context.load(function(event){ // attach the onload event to the iframe  \n                var body = $(this.contentWindow.document).find('body');\n                if (body.length &gt; 0 &amp;&amp; $(body).find('*').length &gt; 0) { // check if iframe has contents\n                    context.height($(body.get(0)).height() + 20);\n                } else {\n                    context.hide(); // hide iframes with no contents\n                }\n            });\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The workaround is not to use <code>&lt;iframe&gt;</code> and preprocess code on server-side.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Also check out this thread: <a href=\"http://stackoverflow.com/questions/754519/how-does-the-diggbar-dynamically-resize-its-iframes-height-based-on-content-not\">http://stackoverflow.com/questions/754519/how-does-the-diggbar-dynamically-resize-its-iframes-height-based-on-content-not</a>.</p>\n\n<p>It addresses the same question.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I would like to have an iframe take as much vertical space as it needs to display its content and not display a scrollbar. Is it at all possible ?</p>\n\n<p>Are there any workarounds?</p>\n",
            "last_activity_date": 1248136950,
            "question_id": 34655,
            "score": 7,
            "tags": [
                "javascript",
                "html",
                "css",
                "iframe"
            ],
            "title": "Making an iframe take vertical space"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>as per your stacktrace, it seems you are using ff 33.1 with selenium 2.43.1, so it wont support. Please upgrade your selenium version to 2.44 to enable tests on ff-33.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>As far as I understand (with the help of several points raised here), disabling javascript is killing the javascript webdriver itself. Is it true?</p>\n</blockquote>\n\n<p>Yes. Note that WebDriver itself runs as a Firefox extension, so its code isn't affected by you disabling JavaScript. However, the error message indicates that Selenium is attempting to run some code in the context of the webpage. For that it injects a <code>&lt;script&gt;</code> tag into the webpage and puts the contents of <code>evaluate.js</code> into it. Then it waits for that script to set a flag indicating that it is ready - something that never happens of course because scripts aren't running in that webpage.</p>\n\n<blockquote>\n  <p>If yes, what are my options or workarounds?</p>\n</blockquote>\n\n<p>The important question is what Selenium is trying to run there. Your traceback is merely indicating that some code is calling <code>executeScript()</code> or <code>executeAsyncScript()</code>. I couldn't find any implied calls to either method in the Selenium codebase (at least not in any files related to Firefox web driver). Given that Selenium is open source, you should be able to debug it and add a breakpoint on <code>org.openqa.selenium.remote.RemoteWebDriver.executeScript()</code> and <code>org.openqa.selenium.remote.RemoteWebDriver.executeAsyncScript()</code> - that way you will actually see the script being executed there. Alternatively, you can also recompile <code>RemoteWebDriver.java</code> and make it produce debugging output.</p>\n\n<p>Looking into how these methods are implemented, there might also be another way: telling Selenium that JavaScript is disabled. This should work via capabilities:</p>\n\n<pre><code>'javascriptEnabled': false,\n</code></pre>\n\n<p>According to documentation this capability only works on HTMLUnitDriver, yet Selenium will always consider it and from the source code specifying it for Firefox seems possible. With this capability any calls executing scripts on web pages will fail early.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Found an alternative solution/workaround - <a href=\"https://addons.mozilla.org/en-us/firefox/addon/noscript/\" rel=\"nofollow\">\"NoScript Security Suite\" firefox extension</a>.</p>\n\n<p>It disables javascript per-domain and, by default, it does it for all sites except listed in the whitelist. This makes the webdriver run without problems, open up a web page, then the extension disables javascript for this particular site and I see the contents of the <code>noscript</code> tag.</p>\n\n<p>Here's the protractor config:</p>\n\n<pre><code>'use strict';\n\nvar helper = require('./disabledJavascript.helper.js');\n\nexports.config = {\n    seleniumAddress: 'http://localhost:4444/wd/hub',\n\n    capabilities: helper.getFirefoxProfile(),\n    chromeOnly: false,\n\n    specs: [\n        'disabledJavascript.spec.js'\n    ],\n\n    framework: 'jasmine',\n\n    allScriptsTimeout: 20000,\n\n    baseUrl: 'http://localhost:9001',\n\n    jasmineNodeOpts: {\n        showColors: true,\n        isVerbose: true,\n        includeStackTrace: true\n    }\n};\n</code></pre>\n\n<p>where <code>disabledJavascript.helper.js</code> contains:</p>\n\n<pre><code>'use strict';\n\nvar q = require('q');\nvar FirefoxProfile = require('firefox-profile');\n\nexports.getFirefoxProfile = function() {\n    var deferred = q.defer();\n    var firefoxProfile = new FirefoxProfile();\n\n    firefoxProfile.addExtension('./test/e2e/disabledJavascript/noscript.xpi', function () {\n        firefoxProfile.encoded(function(encodedProfile) {\n            var capabilities = {\n                'firefox_profile' : encodedProfile,\n                'browserName': 'firefox'\n            };\n            deferred.resolve(capabilities);\n        });\n    });\n\n    return deferred.promise;\n};\n</code></pre>\n\n<p>where <code>noscript.xpi</code> is a downloaded \"Noscript\" extension.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is what actually happened.</p>\n\n<p>As it turns out, after exploring the source code of <code>protractor</code> and selenium js webdriver, the key problem is not in the js webdriver or <code>protractor</code>, it was in the way my test was written.</p>\n\n<p>There is a setting called <a href=\"https://github.com/angular/protractor/blob/0bbfd2b6d38392938781d846ad37b5a0fd964004/lib/protractor.js#L1057-L1066\" rel=\"nofollow\"><code>ignoreSynchronization</code></a> which by default is <code>false</code>:</p>\n\n<pre><code>  /**\n   * If true, Protractor will not attempt to synchronize with the page before\n   * performing actions. This can be harmful because Protractor will not wait\n   * until $timeouts and $http calls have been processed, which can cause\n   * tests to become flaky. This should be used only when necessary, such as\n   * when a page continuously polls an API using $timeout.\n   *\n   * @type {boolean}\n   */\n  this.ignoreSynchronization = false;\n</code></pre>\n\n<p>And I was not setting it to <code>true</code> which made <code>protractor</code> to try synchronizing with the page and execute client side scripts, which <a href=\"https://code.google.com/p/selenium/source/browse/javascript/firefox-driver/js/evaluate.js\" rel=\"nofollow\"><code>evaluate.js</code></a> is responsible for.</p>\n\n<p>The solution was so simple I could not imagine - just setting <code>ignoreSynchronization</code> to <code>true</code> solved the problem:</p>\n\n<pre><code>'use strict';\n\nrequire('jasmine-expect');\n\ndescribe('Disabled Javascript', function () {\n    beforeEach(function () {\n        browser.ignoreSynchronization = true;\n        browser.get('index.html');\n    });\n\n    it('should show disabled js', function () {\n        var element = browser.findElement(by.tagName('noscript'));\n        expect(element.getText()).toEqual('Please enable Javascript and try again.');\n    });\n});\n</code></pre>\n\n<p>Hope this would help somebody in the future.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>One of our internal applications (written in <em>angularjs</em>) has a special error box appearing if javascript is disabled in the browser (using <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/noscript?redirectlocale=en-US&amp;redirectslug=HTML%2FElement%2Fnoscript\" rel=\"nofollow\"><code>noscript</code></a>), similar to the one on stackoverflow:</p>\n\n<p><img src=\"http://i.stack.imgur.com/QZaVk.png\" alt=\"enter image description here\">\nI'm trying to write an automated test for it, but having difficulties.</p>\n\n<p>We are using <code>protractor</code>, but I'm pretty sure this is not about it. Here is the protractor configuration file:</p>\n\n<pre><code>'use strict';\n\nvar helper = require('./helper.js');\n\nexports.config = {\n    seleniumAddress: 'http://localhost:4444/wd/hub',\n    baseUrl: 'http://localhost:9001',\n\n    capabilities: helper.getFirefoxProfile(),\n\n    framework: 'jasmine',\n    allScriptsTimeout: 20000,\n\n    jasmineNodeOpts: {\n        showColors: true,\n        isVerbose: true,\n        includeStackTrace: true\n    }\n};\n</code></pre>\n\n<p>where <code>helper.js</code> is:</p>\n\n<pre><code>var q = require('q');\nvar FirefoxProfile = require('firefox-profile');\n\nexports.getFirefoxProfile = function() {\n    var deferred = q.defer();\n\n    var firefoxProfile = new FirefoxProfile();\n    firefoxProfile.setPreference(\"javascript.enabled\", false);\n    firefoxProfile.encoded(function(encodedProfile) {\n        var capabilities = {\n            'browserName': 'firefox',\n            'firefox_profile' : encodedProfile,\n            'specs': [\n                '*.spec.js'\n            ]\n        };\n        deferred.resolve(capabilities);\n    });\n\n    return deferred.promise;\n};\n</code></pre>\n\n<p>As you see, we are setting <code>javascript.enabled</code> firefox preference to <code>false</code> which has been proven to work if you manually open up <code>about:config</code> in firefox, change it to <code>false</code> - you would see the contents of <code>noscript</code> section.</p>\n\n<p>But, when I run the tests, I am getting the following error:</p>\n\n<blockquote>\n  <p>Exception thrown org.openqa.selenium.WebDriverException: waiting for\n  evaluate.js load failed</p>\n</blockquote>\n\n<p>Here is the <a href=\"https://gist.github.com/alecxe/8247dd77d55ea34c8916\" rel=\"nofollow\">complete traceback</a>.</p>\n\n<p>FYI, selenium <code>2.44.0</code> and firefox <code>33.1.1</code> are used.</p>\n\n<p>As far as I understand (with the help of several points raised <a href=\"http://yizeng.me/2014/01/08/disable-javascript-using-selenium-webdriver/\" rel=\"nofollow\">here</a>), <strong>disabling javascript is killing the javascript webdriver itself</strong>. Is it true? If yes, what are my options or workarounds?</p>\n\n<hr>\n\n<p>Notes: </p>\n\n<ul>\n<li><p>in case of chrome, in the past it was possible to disable javascript via <a href=\"http://peter.sh/experiments/chromium-command-line-switches/#disable-javascript\" rel=\"nofollow\"><code>--disable-javascript</code> command-line argument</a>, but <a href=\"https://code.google.com/p/selenium/issues/detail?id=3175\" rel=\"nofollow\">not</a> <a href=\"https://code.google.com/p/selenium/issues/detail?id=6672\" rel=\"nofollow\">anymore.</a></p></li>\n<li><p>this leads to a workaround number 0 - downgrade chrome to an old version which supported the command-line flag - this would be a not-tested plan B</p></li>\n<li><p>setting <code>javascript.enabled=false</code> firefox preference works with <em>python selenium bindings</em>:</p>\n\n<pre><code>from selenium import webdriver\n\nprofile = webdriver.FirefoxProfile()\nprofile.set_preference('javascript.enabled', False)\ndriver = webdriver.Firefox(firefox_profile=profile)\n\ndriver.get('https://my_internal_url.com')\n# no errors and I can assert the error is present\n</code></pre></li>\n</ul>\n\n<p><sup>I'm open to any suggestions and can provide you with any additional information.</sup></p>\n",
            "last_activity_date": 1417578413,
            "question_id": 27099250,
            "score": 6,
            "tags": [
                "javascript",
                "firefox",
                "testing",
                "selenium-webdriver",
                "protractor"
            ],
            "title": "Running Selenium WebDriver tests with JavaScript disabled"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>(Note: As per Sharky's feedback, I've included code to detect backspaces)</p>\n\n<p>So, I've seen these questions frequently on SO, and have recently run into the issue of controlling back button functionality myself. After a few days of searching for the best solution for my application (Single-Page with Hash Navigation), I've come up with a simple, cross-browser, library-less system for detecting the back button.</p>\n\n<p>Most people recommend using:</p>\n\n<pre><code>window.onhashchange = function() {\n //blah blah blah\n}\n</code></pre>\n\n<p>However, this function will also be called when a user uses on in-page element that changes the location hash. Not the best user experience when your user clicks and the page goes backwards or forwards.</p>\n\n<p>To give you a general outline of my system, I'm filling up an array with previous hashes as my user moves through the interface. It looks something like this:</p>\n\n<pre><code>function updateHistory(curr) {\n    window.location.lasthash.push(window.location.hash);\n    window.location.hash = curr;\n}\n</code></pre>\n\n<p>Pretty straight forward. I do this to ensure cross-browser support, as well as support for older browsers. Simply pass the new hash to the function, and it'll store it for you and then change the hash (which is then put into the browser's history).</p>\n\n<p>I also utilise an in-page back button that moves the user between pages using the <code>lasthash</code> array. It looks like this:</p>\n\n<pre><code>function goBack() {\n    window.location.hash = window.location.lasthash[window.location.lasthash.length-1];\n    //blah blah blah\n    window.location.lasthash.pop();\n}\n</code></pre>\n\n<p>So this will move the user back to the last hash, and remove that last hash from the array (I have no forward button right now).</p>\n\n<p>So. How do I detect whether or not a user has used my in-page back button, or the browser button?</p>\n\n<p>At first I looked at <code>window.onbeforeunload</code>, but to no avail - that is only called if the user is going to change pages. This does not happen in a single-page-application using hash navigation.</p>\n\n<p>So, after some more digging, I saw recommendations for trying to set a flag variable. The issue with this in my case, is that I would try to set it, but as everything is asynchronous, it wouldn't always be set in time for the if statement in the hash change. <code>.onMouseDown</code> wasn't always called in click, and adding it to an onclick wouldn't ever trigger it fast enough.</p>\n\n<p>This is when I started to look at the difference between <code>document</code>, and <code>window</code>. My final solution was to set the flag using <code>document.onmouseover</code>, and disable it using <code>document.onmouseleave</code>.</p>\n\n<p>What happens is that while the user's mouse is inside the document area (read: the rendered page, but excluding the browser frame), my boolean is set to <code>true</code>. As soon as the mouse leaves the document area, the boolean flips to <code>false</code>.</p>\n\n<p>This way, I can change my <code>window.onhashchange</code> to:</p>\n\n<pre><code>window.onhashchange = function() {\n    if (window.innerDocClick) {\n        window.innerDocClick = false;\n    } else {\n        if (window.location.hash != '#undefined') {\n            goBack();\n        } else {\n            history.pushState(\"\", document.title, window.location.pathname);\n            location.reload();\n        }\n    }\n}\n</code></pre>\n\n<p>You'll note the check for <code>#undefined</code>. This is because if there is no history available in my array, it returns <code>undefined</code>. I use this to ask the user if they want to leave using a <code>window.onbeforeunload</code> event.</p>\n\n<p>So, in short, and for people that aren't necessarily using an in-page back button or an array to store the history:</p>\n\n<pre><code>document.onmouseover = function() {\n    //User's mouse is inside the page.\n    window.innerDocClick = true;\n}\n\ndocument.onmouseleave = function() {\n    //User's mouse has left the page.\n    window.innerDocClick = false;\n}\n\nwindow.onhashchange = function() {\n    if (window.innerDocClick) {\n        //Your own in-page mechanism triggered the hash change\n    } else {\n        //Browser back button was clicked\n    }\n}\n</code></pre>\n\n<p>And there you have it. a simple, three-part way to detect back button usage vs in-page elements with regards to hash navigation.</p>\n\n<p>EDIT:</p>\n\n<p>To ensure that the user doesn't use backspace to trigger the back event, you can also include the following (Thanks to @thetoolman on <a href=\"http://stackoverflow.com/questions/1495219/how-can-i-prevent-the-backspace-key-from-navigating-back\">this Question</a>):</p>\n\n<pre><code>    $(function(){\n    /*\n     * this swallows backspace keys on any non-input element.\n     * stops backspace -&gt; back\n     */\n    var rx = /INPUT|SELECT|TEXTAREA/i;\n\n    $(document).bind(\"keydown keypress\", function(e){\n        if( e.which == 8 ){ // 8 == backspace\n            if(!rx.test(e.target.tagName) || e.target.disabled || e.target.readOnly ){\n                e.preventDefault();\n            }\n        }\n    });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>How do you definitively detect whether or not the user has pressed the back button in the browser? </p>\n\n<p>How do you enforce the use of an in-page back button inside a single page web application using a <code>#URL</code> system? </p>\n\n<p>Why on earth don't browser back buttons fire their own events!?</p>\n",
            "last_activity_date": 1410519962,
            "question_id": 25806608,
            "score": 6,
            "tags": [
                "javascript",
                "cross-browser",
                "single-page-application",
                "back"
            ],
            "title": "How to Detect Browser Back Button event - Cross Browser"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The way I got rid of this error message is to add <code>https://accounts.google.com</code> to the <code>AUTHORIZED JAVASCRIPT ORIGINS</code> in your OAuth client settings in Cloud Developers Console under API &amp; auth -> Credentials.</p>\n\n<p><strong>Update</strong></p>\n\n<p>That actually didn't fix it and the problem resurfaced again when I switched to using <code>gapi.auth.signIn</code> instead of <code>gapi.login.render</code>. The problem as described in the comments in <a href=\"https://plus.google.com/+JamesCridland/posts/PixJ4MC5wqt\" rel=\"nofollow\">this post</a> was that serialization of the <code>g-oauth-window</code> attribute of the <code>authResult</code> when sending it to your backend. Removing that parameter or sending just the attributes you need fixed it for me.</p>\n\n<pre><code>var signInCallback = function(authResult) {\n  delete authResult['g-oauth-window'];\n  ajaxCallToBackend(authResult);\n};\n</code></pre>\n\n<p>Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I'm implementing Google+ Sign-In's hybrid / one-time auth code flow and experiencing this error in Chrome's JS console after the sign-in prompts and granting the app permission, presumably when Google's code tries to call back to the button:</p>\n\n<p><code>Uncaught SecurityError: Blocked a frame with origin \"https://ww2.fa.org\" from accessing a frame with origin \"https://accounts.google.com\". Protocols, domains, and ports must match.</code></p>\n\n<p>This does not seem to occur in Safari or IE and a similar permission error occurs sometimes in Firefox, but is reproducible more often than not in Chrome. Refreshing the frame with the sign-in button (after following the google-side prompts) will usually result in the refreshed button \"knowing\" that the sign-in was successful a call to the success handler... it should <em>always</em> work without a refresh, but just doesn't.</p>\n\n<p>Any thoughts? The sign-in is at <a href=\"https://ww2.fa.org/gauth/\">https://ww2.fa.org/gauth/</a> and it only requests the email scope if you're inclined to take a look!\ufeff</p>\n",
            "last_activity_date": 1413494888,
            "question_id": 25065194,
            "score": 6,
            "tags": [
                "javascript",
                "django",
                "authentication",
                "google-plus",
                "google-oauth"
            ],
            "title": "Google+ Sign-In - Uncaught SecurityError"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>If you want your components to be reusable, I encourage you to pack everything in an independent jar. If using Servlet 3.0, you'll be able to easily access the web resources putting them in <em>META-INF/resources</em>. Provide the jar a <em>faces-config.xml</em> and you'll make it JSF annotation scannable:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>components\n    \\-(Your cource code)\nMETA-INF \n    \\-faces-config.xml\n    \\-resources (This ends up in docroot)\n        \\-resources\n            \\-js (Here they go your js files)\n            \\-comp (Here your composite components)\n            \\-css (Here your css)\n</code></pre>\n\n<p>Later on, you'll have to take care of avoiding the specific ids in your composites, as JSF modifies them while rendering. Your best is to pass the current component reference to your JS functions:</p>\n\n<pre class=\"lang-xhtml prettyprint-override\"><code>&lt;h:inputText styleClass=\"myInputStyle\" onclick=\"showInputText(this)\" /&gt;\n</code></pre>\n\n<p>Just refer to included CSS styles and JS functions.</p>\n\n<p>Last but not least, be careful when including the jar as a web resource, if the file paths remain in conflict with the ones in your web app, they won't be included.</p>\n\n<p><strong>See also:</strong></p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/4732965/exposing-resources-from-jar-files-in-web-applications-tomcat7\">Exposing resources from jar files in web applications (Tomcat7)</a></li>\n<li><a href=\"http://stackoverflow.com/questions/7663818/how-to-reference-jsf-managed-beans-which-are-provided-in-a-jar-file\">How to reference JSF managed beans which are provided in a JAR file?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/6045307/how-can-i-know-the-id-of-a-jsf-component-so-i-can-use-in-javascript\">How can I know the id of a JSF component so I can use in Javascript</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>You can include into the facelets wich uses your component an external javascript file by adding the following code:</p>\n\n<pre><code>    &lt;script src=\"#{request.contextPath}/jspath/yourjs.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Within the component when you generate the XHTML output give an Id to your menu entries e.g. </p>\n\n<pre><code>    &lt;h:outputText id=\"myid\" value=\"#{bean.value}\"/&gt;\n</code></pre>\n\n<p>and in yourjs.js</p>\n\n<pre><code>    $(document).ready(function() {\n\n    $(\"#myid\").click(function(){\n    // dostuff\n    });\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am developing a JSF Custom Component, using the information I found on the following book <a href=\"http://www.apress.com/9781430250104\" rel=\"nofollow\">Pro JSF and HTML5 by Apress</a>.</p>\n\n<p>So far, I successfully developed: </p>\n\n<ul>\n<li>the java class to obtain the data to be rendered in the component</li>\n<li>the java component class</li>\n<li>the java renderer class</li>\n<li>the taglib file</li>\n<li>an example page to render the taglib</li>\n</ul>\n\n<p>Everything is working fine, the component is successfully rendered.</p>\n\n<p>Now <em>I would like to add javascript events and behaviour to the rendered elements</em>, more specifically, the purpose of my custom component is to render a menu on a web page, and I would like to ad a dropdown effects to the menu entry. I know how to code the whole thing, in JavaScript, what I don't know is:</p>\n\n<p><strong>What is the best practice to add javascript events and behaviour to the element rendered within a custom component?</strong> </p>\n\n<p>Where should the JS files be placed? How do I bind the events to the elements? Is it done in the render class, or after, on the web pages?</p>\n\n<p>Thanks, I'm willing to provide more specific information about my code, if required.</p>\n\n<hr>\n\n<p>Java Component Class</p>\n\n<p><strong>Note:</strong> <em>The CosmoMenu class is just a bean. It basically stores a menu tree (a label, an id and a set of children, if any).</em></p>\n\n<pre><code>package components;\n\nimport com.google.gson.Gson;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonParser;\nimport domain.CosmoMenu;\nimport javax.faces.component.FacesComponent;\nimport javax.faces.component.UIComponentBase;\n\n\n@FacesComponent(CosmoMenuComponent.COMPONENT_TYPE)\npublic class CosmoMenuComponent extends UIComponentBase{\n\n  /** Component family of {@link CosmoMenuComponent}.        */\n  public static final String COMPONENT_FAMILY = \"CosmoMenu\";\n\n  /** Component type of {@link CosmoMenuComponent}.          */ \n  public static final String COMPONENT_TYPE = \"CosmoMenu\";    \n\n  @Override\n  public String getFamily(){\n      return CosmoMenuComponent.COMPONENT_FAMILY;\n  }\n\n\n  private CosmoMenu theMenu;    \n\n  public CosmoMenu getMenu(){\n\n      Gson gson = new Gson();\n      JsonParser jsonParser = new JsonParser();\n      CosmoMenuAPI myApi = new CosmoMenuAPI();\n\n      String strMenu = myApi.getMenu();\n      JsonElement jEl = jsonParser.parse(strMenu);\n\n      theMenu = gson.fromJson(jEl, CosmoMenu.class);\n      return theMenu;      \n  }\n}\n</code></pre>\n",
            "last_activity_date": 1404240426,
            "question_id": 24510729,
            "score": 6,
            "tags": [
                "javascript",
                "jsf",
                "custom-component",
                "taglib"
            ],
            "title": "JSF Best Practice: Custom Components and JavaScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>In order to have the drop event occur on a div element, you must cancel the <code>ondragenter</code> and <code>ondragover</code> events.  Using jquery and your code provided...</p>\n\n<pre><code>$('.drop').on('drop dragdrop',function(){\n    alert('dropped');\n});\n$('.drop').on('dragenter',function(){\n    event.preventDefault();\n    $(this).html('drop now').css('background','blue');\n})\n$('.drop').on('dragleave',function(){\n    $(this).html('drop here').css('background','red');\n})\n$('.drop').on('dragover',function(){\n    event.preventDefault();\n})\n</code></pre>\n\n<p>For more information, check out <a href=\"https://developer.mozilla.org/en-US/docs/DragDrop/Drag_Operations#droptargets\" rel=\"nofollow\">the MDN page</a>.</p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>It seems the drop event is not triggering when I would expect.</p>\n\n<p>I assume that the drop event fires when an element that is being dragged is releases above the target element, but this doesn't seem to the the case.</p>\n\n<p>What am I misunderstanding?</p>\n\n<p><a href=\"http://jsfiddle.net/LntTL/\">http://jsfiddle.net/LntTL/</a></p>\n\n<pre><code>$('.drop').on('drop dragdrop',function(){\n    alert('dropped');\n});\n$('.drop').on('dragenter',function(){\n    $(this).html('drop now').css('background','blue');\n})\n$('.drop').on('dragleave',function(){\n    $(this).html('drop here').css('background','red');\n})\n</code></pre>\n",
            "last_activity_date": 1416518899,
            "question_id": 21339924,
            "score": 6,
            "tags": [
                "javascript",
                "events",
                "javascript-events",
                "drag-and-drop"
            ],
            "title": "Drop event not firing in chrome"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<h3>Answer for those who wants to hack CSS transitioning zooming to get applied on background-size: cover; <br /><br />\n\n-- if not, than read the second section for standard ways to achieve such effect</h3>\n\n<pre><code>&lt;div class=\"wrap\"&gt;\n    &lt;div&gt;&lt;/div&gt;\n    &lt;p&gt;hello&lt;/p&gt;\n&lt;/div&gt;\n\n\nhtml, body {\n    height: 100%;\n}\n\ndiv.wrap {\n    height: 33%;\n    width: 33%;\n    overflow: hidden;\n    position: relative;\n}\n\ndiv.wrap &gt; div {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    -moz-transition: all .5s;\n    -webkit-transition: all .5s;\n    transition: all .5s;\n    -moz-transform: scale(1,1);\n    -webkit-transform: scale(1,1);\n    transform: scale(1,1);\n    background-image: url('http://pimg.tradeindia.com/00288122/b/0/Our-Valuable-Client-List-Click-on-Image-.jpg');\n    -moz-background-size: cover;\n    -webkit-background-size: cover;\n    background-size: cover;\n    z-index: -1;\n}\n\ndiv.wrap:hover &gt; div {\n    -moz-transform: scale(2,2);\n    -webkit-transform: scale(2,2);\n    transform: scale(2,2);    \n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/s3hWj/4/\"><strong>Demo</strong></a> <em>(Using <code>background-size: cover;</code> to transition/zoom the element)</em></p>\n\n<p>As you said that transitioning the <code>cover</code> size is necessary, so I came up with the trick which I had told you previously, here I have a child element nested under <code>position: relative;</code> element where am having the child element set to <code>position: absolute;</code> with <code>background-image</code> having <code>background-size</code> set to <code>cover</code> and then on <code>hover</code> of parent, I zoom in the element using the <code>transform: scale(2,2);</code> property.</p>\n\n<p>Also, a crucial thing while working with this solution is that we need to set the <code>z-index</code> of the <code>position: absolute;</code> element lower than what the elements you will be placing inside, so it will act like a <code>background</code></p>\n\n<hr>\n\n<h3>Answer for those who want to go clean with HTML and CSS</h3>\n\n<p>You cannot animate a <code>background-size</code> if it's value is <code>cover</code> so either you will need <code>px</code> or <code>%</code>, or you can also use an <code>img</code> tag with <code>transform: scale(2,2);</code> property.</p>\n\n<p><a href=\"http://jsfiddle.net/s3hWj/\"><strong>Demo</strong></a></p>\n\n<pre><code>div {\n    height: 200px;\n    width: 200px;\n    background: url('http://pimg.tradeindia.com/00288122/b/0/Our-Valuable-Client-List-Click-on-Image-.jpg');\n    background-size: 100% 100%;\n    -moz-transition: all .5s;\n    -webkit-transition: all .5s;\n    transition: all .5s;\n}\n\ndiv:hover {\n    background-size: 150% 150%;\n}\n</code></pre>\n\n<hr>\n\n<p>If you want to stick with <code>background-size: cover;</code> than you will have to wrap entire element inside a wrapper element having fixed dimensions with <code>overflow: hidden;</code> and than scale the child element on <code>hover</code> of parent element.</p>\n\n<hr>\n\n<p>As you commented, for an <code>img</code> tag example, you can use <code>transform: scale(2,2);</code> to achieve that with the parent element set to <code>overflow: hidden;</code></p>\n\n<p><a href=\"http://jsfiddle.net/s3hWj/3/\"><strong>Demo 2</strong></a></p>\n\n<pre><code>div {\n    height:300px;\n    width: 300px;\n    overflow: hidden;\n}\n\ndiv img {\n    -moz-transition: all .5s;\n    -webkit-transition: all .5s;\n    transition: all .5s;\n    -moz-transform: scale(1,1);\n    -webkit-transform: scale(1,1);\n    transform: scale(1,1);\n}\n\ndiv:hover img {\n    -moz-transform: scale(2,2);\n    -webkit-transform: scale(2,2);\n    transform: scale(2,2);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<pre><code>&lt;script&gt;\n    function animate(){\n        document.getElementById('a').style.webkitTransitionDuration='1s';\n        document.getElementById('a').style.backgroundSize=\"200% 200%\";\n    }\n&lt;/script&gt;\n&lt;div id=\"a\" onmouseover=\"animate()\" style=\"width: 200px; height: 70px; border: 1px solid; background: url('http://www.wpclipart.com/food/fruit/apple/apples_4/apple_honeycrisp_small.png') no-repeat;background-size: 100% 100%; \"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>You can do something like this for webkit browsers.</p>\n\n<p><a href=\"http://jsfiddle.net/HW2uj/\" rel=\"nofollow\">Demo Here</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here the code how to animate the zoom in functionality for background images. </p>\n\n<p><a href=\"http://devble.com/zoom-in-background-image-of-a-div-on-mouseover/\" rel=\"nofollow\"> <h2>Demo</h2></a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want a div element to stretch across that is 33% width with a background image done in css </p>\n\n<pre><code>background-image:url(); background-size:cover \n</code></pre>\n\n<p>How do I animate a zoom-in of the image of the background in the div on mouseover or mouseneter, is there a plugin that can do this? The background div has to use background-size:cover because it's an elastic page.</p>\n\n<p>I don't have a fiddle yet cos I don't know where or how to start</p>\n",
            "last_activity_date": 1391661447,
            "question_id": 21300673,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "css",
                "css3",
                "background-image"
            ],
            "title": "how do I zoom a background image on a div with background-size"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The code you are trying to add will not work, as <code>_gaq</code> was an array used to push the tracking beacons to in the older Google Analytics (GA) version. But the HTML5 BoilerPlate (H5BP), in its latest version you seem to be using, has updated itself to make use of Universal Analytics (UA), the next version of GA which Google has released. This can be seen from the protocol-relative URL <code>//www.google-analytics.com/analytics.js</code> and also the docs for the latest version. Unfortunately, it seems the <a href=\"https://github.com/h5bp/html5-boilerplate/blob/v4.3.0/doc/extend.md\" rel=\"nofollow\">doc you mentioned</a> hasn't been updated, as the link given at the H5BP for the <a href=\"http://mathiasbynens.be/notes/async-analytics-snippet\" rel=\"nofollow\">source</a> of the optimised GA code, has itself been updated with code for <a href=\"http://mathiasbynens.be/notes/async-analytics-snippet#universal-analytics\" rel=\"nofollow\">UA</a> and that is what the H5BP source is now using.</p>\n\n<p>Consequently, your additional source code extending the use of the <code>_gaq</code> object will not work, as you are not using <code>ga.js</code> which has functions to process the data pushed to the <code>_gaq</code> object from GA, but the <code>analytics.js</code> for UA, which does not initialise any such object as <code>_gaq</code> or have functions to process the data pushed to <code>_gaq</code>.</p>\n\n<p>But, before upgrading itself to use <code>analytics.js</code> (UA), H5BP had a GA version of the script, like this (I got this, courtesy of a friend who used to work with H5BP):</p>\n\n<pre><code>&lt;!-- Google Analytics: change UA-XXXXX-X to be your site's ID. --&gt;\n    &lt;script&gt;\n        var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']]; //here the _gaq was initialised\n        (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];\n        g.src='//www.google-analytics.com/ga.js';\n        s.parentNode.insertBefore(g,s)}(document,'script'));\n    &lt;/script&gt;\n</code></pre>\n\n<p>Ideally, this should replace the lines of code you mentioned, namely</p>\n\n<pre><code>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=\n    function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;\n    e=o.createElement(i);r=o.getElementsByTagName(i)[0];\n    e.src='//www.google-analytics.com/analytics.js';\n    r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));\n    ga('create','UA-XXXXX-X');ga('send','pageview');\n</code></pre>\n\n<p>If you did that, then your use of the code </p>\n\n<pre><code>if (typeof _gaq !== \"undefined\" &amp;&amp; _gaq !== null) {\n$(document).ajaxSend(function(event, xhr, settings){\n    _gaq.push(['_trackPageview', settings.url]);\n});\n}\n</code></pre>\n\n<p>and so on which use <code>_gaq</code> will work.</p>\n\n<p>Also remember that the H5BP code you are currently using is best, as Google is phasing out GA in a move to make Universal Analytics the future of analytics. The older code I have mentioned no longer works (or will stop working in the near future, depending on Google). Read more about this at <a href=\"https://developers.google.com/analytics/devguides/collection/upgrade/guide\" rel=\"nofollow\">UA Upgrade Center</a>.</p>\n\n<p>Keep in mind that the current H5BP uses UA (analytics.js) code which is an optimised form of what Google provides, as found <a href=\"http://mathiasbynens.be/notes/async-analytics-snippet#universal-analytics\" rel=\"nofollow\">here</a>.</p>\n\n<p>That explains why the scripts mentioned in <code>extend.md</code> won't work on the H5BP you seem to be working on, an a possible workaround by implementing the old code. What you need is a way to track AJAX etc. with the script you do have in place. For that, each time an AJAX request completes, you can simply record a <em>virtual pageview.</em> You can find a similar scenario <a href=\"http://stackoverflow.com/questions/21032351/analytics-on-a-bootstrap-modal-with-pageview-and-time-related-metrics/\">here</a>. There the asker applies the tracking to the opening of a modal. You can apply the same technique to track AJAX calls and retreives of a page or partial page. The <em>VURL</em> as I've specified in the answer can be, in your case, <code>/virtual/ajax/url-of-page-retrieved-via-ajax</code>.</p>\n\n<p>If you do not wish to send virtual pageviews, you can also send customised events for each AJAX request. Read more about event tracking in UA <a href=\"https://developers.google.com/analytics/devguides/collection/analyticsjs/events\" rel=\"nofollow\">here</a>.</p>\n\n<p>If you want to know what the arguments of the function you specified stand for, you can read <a href=\"http://www.alfajango.com/blog/track-jquery-ajax-requests-in-google-analytics/\" rel=\"nofollow\">here</a>. This is where the script in the <code>extend.md</code> file you mentioned was taken. An attempt to modify the script for use with UA would probably look like this:</p>\n\n<pre><code>(function ($) {\n  // Log all jQuery AJAX requests to Google Analytics\n  $(document).ajaxSend(function(event, xhr, settings){ \n    ga('send','pageview',settings.url.pathname);\n  });\n})(jQuery);\n</code></pre>\n\n<p>The <code>ajaxSend()</code> method is a callback which is fired every time a jQuery AJAX call is completed. Remember the word <code>jQuery</code> here. This only works for jQuery AJAX requests. <code>xhr</code> generally stands for XMLHttpRequest. I think it assumes one knows what a jQuery AJAX call is, I'm not very knowledgeable about that.</p>\n\n<p>To track Javascript errors using UA, a similar script would be:</p>\n\n<pre><code>(function(window){\nvar undefined,\n    link = function (href) {\n        var a = window.document.createElement('a');\n        a.href = href;\n        return a;\n    };\nwindow.onerror = function (message, file, line, column) {\n    var host = link(file).hostname;\n    ga('send','event',\n        (host == window.location.hostname || host == undefined || host == '' ? '' : 'external ') + 'error',\n        message, file + ' LINE: ' + line + (column ? ' COLUMN: ' + column : ''),\n        {'nonInteraction': 1});\n    };\n}(window));\n</code></pre>\n\n<p>This collects likewise: Event Category will be <code>host+error</code>, Action will be the error message, and label will point to where the error occurred (line no, filename, etc.).</p>\n\n<p>Tracking page scroll is also very similar:</p>\n\n<pre><code>$(function(){\nvar isDuplicateScrollEvent,\n    scrollTimeStart = new Date,\n    $window = $(window),\n    $document = $(document),\n    scrollPercent;\n\n$window.scroll(function() {\n        scrollPercent = Math.round(100 * ($window.height() + $window.scrollTop())/$document.height());\n        if (scrollPercent &gt; 90 &amp;&amp; !isDuplicateScrollEvent) { //page scrolled to 90%\n//If you want to track for page scroll for some other percentage of scroll, you\n//can edit the number 90, or write additional conditional ga('send',...) calls\n//inside this block and vary the label accordingly, specifying the percentage\n//of scroll.\n            isDuplicateScrollEvent = 1;\n            ga('send','event','scroll',\n            'Window: ' + $window.height() + 'px; Document: ' + $document.height() + 'px; Time: ' + Math.round((new Date - scrollTimeStart )/1000,1) + 's',\n            {'nonInteraction':1}\n        );\n        }\n    });\n});\n</code></pre>\n\n<p>Here, Event Category will be <code>scroll</code>, Action will be thw Window, height and document, and time. If you want to track scroll as an interactive event (which means if you want a user to be tracked as a non-bounce user if he scrolls) you can remove the line <code>{'nonInteraction':1}</code></p>\n\n<p>Hope that helps! :)</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>I have several ajax calls on my site. With Google Analytics Universal I use</p>\n\n<pre><code>$.ajax({\n    ...\n    success: function (data) {\n        ga('send','pageview','/virtual/....');\n    },\n    ...\n});\n</code></pre>\n\n<p>Using of <code>/virtual/</code> makes filtering easier if I want to separate date with or without ajax calls</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I am trying to install the <code>google analytics augments</code> identified in the <code>extend.md</code> file of H5BP (<a href=\"https://github.com/h5bp/html5-boilerplate/blob/v4.3.0/doc/extend.md\">https://github.com/h5bp/html5-boilerplate/blob/v4.3.0/doc/extend.md</a>)</p>\n\n<p>It states that the \"optimised\" google analytics JS snippet includes the following code:</p>\n\n<pre><code>var _gaq = [['_setAccount', 'UA-XXXXX-X'], ['_trackPageview']];\n</code></pre>\n\n<p>and that additional augments such as <code>track jquery AJAX requests</code>, <code>track javascript errors</code> and <code>track page scroll</code> should be added after  <code>_gaq</code> is defined.</p>\n\n<p>In fact, the snippet included with the current version of H5BP does not make reference to <code>_gaq</code> as a variable:</p>\n\n<pre><code>        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=\n        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;\n        e=o.createElement(i);r=o.getElementsByTagName(i)[0];\n        e.src='//www.google-analytics.com/analytics.js';\n        r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));\n        ga('create','UA-XXXXX-X');ga('send','pageview');\n</code></pre>\n\n<p>This creates an undefined error when trying to use any of the H5BP extensions. E.g. </p>\n\n<pre><code>if (typeof _gaq !== \"undefined\" &amp;&amp; _gaq !== null) {\n    $(document).ajaxSend(function(event, xhr, settings){\n        _gaq.push(['_trackPageview', settings.url]);\n    });\n}\n</code></pre>\n\n<p>Will not work as _gaq is not defined.</p>\n\n<p>How are these augments intended to be implemented? Can someone provide a working example showing a full implementation of all the extensions?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1389761697,
            "question_id": 21033205,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "google-analytics",
                "html5boilerplate"
            ],
            "title": "How to extend google analytics to track AJAX etc (as per H5BP docs)"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<h2>Try this out:- <a href=\"http://jsfiddle.net/adiioo7/c8fFU/13/\" rel=\"nofollow\">http://jsfiddle.net/adiioo7/c8fFU/13/</a></h2>\n\n<p>You can update the sentence effect depending upon your requirement. Currently it is using fadein/fadeout.</p>\n\n<p><strong>JS:-</strong></p>\n\n<pre><code>$(function () {\n    var hello = ['jupiter', 'a', 'aklsjdlfajklsdlkf', 'asdf'];\n    var used = ['jupiter'];\n    var greeting = $('#what');\n    var item;\n    var sentence = $('#sentence');\n\n    function hey() {\n        item = hello[Math.floor(Math.random() * hello.length)];\n        if (hello.length != used.length) {\n            while (jQuery.inArray(item, used) != -1) {\n                item = hello[Math.floor(Math.random() * hello.length)];\n            }\n            used.push(item);\n        } else {\n            used.length = 0;\n            item = hello[Math.floor(Math.random() * hello.length)];\n            used.push(item);\n        }\n        greeting.html(item);\n        greeting.animate({\n            \"opacity\": \"1\"\n        }, 1500);\n\n        sentence.fadeIn(1500);\n    }\n\n    window.setInterval(function () {\n        sentence.fadeOut(1500);\n        greeting.animate({\n            \"opacity\": \"0\"\n        }, 1500);\n        setTimeout(hey, 1500);\n    }, 5000);\n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>When you set new word for your sentence, you can save #what width and then make an animation with this width too. Like this:</p>\n\n<pre><code>// declare as global variable and update when you set new word\nvar width = greeting.css('width'); \n// animation\ngreeting.animate({\n            \"opacity\": \"0\", \"width\": width\n        }, 1500, function(){\n        });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><img src=\"http://i.stack.imgur.com/jsVSo.gif\" alt=\"Fade animate text with jQuery by Roko C.B.\"></p>\n\n<p><a href=\"http://jsbin.com/fade-animate-text-with-jQuery/\" rel=\"nofollow\">http://jsbin.com/fade-animate-text-with-jQuery/</a></p>\n\n<pre><code>&lt;p id=\"sentence\"&gt;We provide &lt;span id=\"swap\"&gt;&lt;/span&gt; for your business.&lt;/p&gt;\n</code></pre>\n\n<p><a href=\"/questions/tagged/css\" class=\"post-tag\" title=\"show questions tagged 'css'\" rel=\"tag\">css</a></p>\n\n<pre><code>#swap {\n    vertical - align: top;\n    width: 0;\n    height: 3em;\n /* needed. px, em or any other */;\n}\n\n#swap &gt; span {\n    position: absolute;\n}\n</code></pre>\n\n<p><a href=\"/questions/tagged/jquery\" class=\"post-tag\" title=\"show questions tagged 'jquery'\" rel=\"tag\">jquery</a></p>\n\n<pre><code>var txt = ['code', 'solutions', 'design', 'awesomeness'],\n    n = txt.length,\n    $swap = $('#swap'),\n    $span,\n    c = -1;\n\n// CREATE SPANS INSIDE SPAN\nfor(var i=0; i&lt;txt.length; i++) $swap.append($('&lt;span /&gt;',{text:txt[i]}));\n// HIDE AND COLLECT THEM\n$span = $(\"span\", $swap).hide(); \n\n(function loop(){\n    c = ++c % n;\n    $swap.animate({width: $span.eq( c ).width() });\n    $span.stop().fadeOut().eq(c).fadeIn().delay(1000).show(0, loop);\n}()); \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p><em>Not to brag but...</em> </p>\n\n<h2><a href=\"http://jsfiddle.net/exdVk/\" rel=\"nofollow\">Best one you'll see</a></h2>\n\n<h2>CSS:</h2>\n\n<pre><code>span {\n    float: left;\n}\n#what {\n    margin: 0 3px;\n}\n</code></pre>\n\n<h2>HTML:</h2>\n\n<pre><code>&lt;span class=\"cf\"&gt;hello this is a sentence &lt;/span&gt;&lt;span id=\"what\" class=\"cf\"&gt;jupiter&lt;/span&gt;&lt;span class=\"cf\"&gt; that changes like this:&lt;/span&gt;\n</code></pre>\n\n<h2>Javascript:</h2>\n\n<pre><code>$(function () {\n    var hello = ['jupiter', 'a', 'aklsjdlfajklsdlkf', 'asdf'];\n    var used = ['jupiter'];\n    var greeting = $('#what');\n    var item;\n\n    function hey() {\n\n        item = hello[Math.floor(Math.random() * hello.length)];\n        if (hello.length != used.length) {\n            while (jQuery.inArray(item, used) != -1) {\n                item = hello[Math.floor(Math.random() * hello.length)];\n            }\n            used.push(item);\n        } else {\n            used.length = 0;\n            item = hello[Math.floor(Math.random() * hello.length)];\n            used.push(item);\n        }\n        greeting.text(item);\n        greeting.animate({\n            \"width\": \"toggle\",\n                \"opacity\": 1\n        }, 1500);\n    }\n\n    window.setInterval(function () {\n        greeting.animate({\n            \"width\": \"toggle\",\n                \"opacity\": 0\n        }, {\n            duration: 1500,\n            complete: setTimeout(hey, 1500)\n        });\n    }, 5000);\n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I have had the same problem and went with a different approach, not fading but typing: <a href=\"http://jsfiddle.net/jZNnW/\" rel=\"nofollow\">jsfiddle demo</a></p>\n\n<pre><code>function type($el, text, position) {\n    if (text.length &gt;= position) {\n        var rchars = 'qbvol'; // typo chars\n        if (position % 3 == 0 &amp;&amp; Math.random() &gt; .85) { // insert typo!\n            var typo;\n            var chr = text.substr(position, 1);\n            if (chr == chr.toUpperCase()) { typo = chr.toLowerCase(); }\n            else { typo = rchars.substr(Math.floor(Math.random() * rchars.length), 1); }\n            $el.text(text.substring(0, position - 1) + typo + '_');\n            setTimeout(function() { type($el, text, position - 1); }, 200)\n        }\n        else {\n            $el.text(text.substring(0, position) + '_');\n            setTimeout(function() { type($el, text, position + 1); }, 150)\n        }\n    }\n    else {\n        setTimeout(function() { $el.text(text); }, 400)\n    }\n}\n</code></pre>\n\n<p>It basically inserts your new text on the page, with a nice caret and typo to make it look like someone is typing it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a very simple website problem. I have a sentence in which one word fades out, and is replaced by another word in an array. However, since the words all vary in length, the sentence width abruptly changes and it looks choppy. How can I animate the width? I tried adding a transition to the container of the sentence in css but that didn't work. I applied the transition as <code>1.5s all linear</code>, so it should be animating the width as well as everything else whenever there is change. Any ideas?</p>\n\n<p><a href=\"http://jsfiddle.net/c8fFU/11/\" rel=\"nofollow\"><strong>JSFiddle</strong></a></p>\n\n<p>EDIT: Sorry if I was unclear, I only want to fade out the word, not the entire sentence. I'm trying to animate the width to fit the new word. I don't want to change/add any elements, just solve with the current tags in place. Also, the objects pulled from the array need to be random. Just trying to think of some creative scripting :)</p>\n",
            "last_activity_date": 1424297370,
            "question_id": 20695877,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "animation"
            ],
            "title": "How to fade - animate and change text, word in title / sentence"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The hangouts app uses a \"panel\" type window to achieve its behaviour, see Abraham's answer on <a href=\"http://stackoverflow.com/questions/9487446/how-to-build-an-chrome-extension-like-google-hangouts\">How to build an chrome extension like Google Hangouts</a>. Essentially, when you open a window, add type=\"panel\" parameter:</p>\n\n<pre><code>chrome.windows.create({ url: 'https://mobile.twitter.com/', type: 'panel' });\n</code></pre>\n\n<p>Regarding the error you mentioned, this is because you are using the Beta Chrome build, and it has realised that the feature is not available in this version, and is advising you that you need a dev channel or trunk release. Find out more about Chrome release channels here: <a href=\"http://www.chromium.org/getting-involved/dev-channel\" rel=\"nofollow\">http://www.chromium.org/getting-involved/dev-channel</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I'm trying to create a Chrome package App with an icon in the system menu bar as explain here : <a href=\"https://docs.google.com/document/d/1QhhfR33Y28Yqnnoa_Sl3fnZK_mKtwt4dZe6kNyJ_MjU/edit\">https://docs.google.com/document/d/1QhhfR33Y28Yqnnoa_Sl3fnZK_mKtwt4dZe6kNyJ_MjU/edit</a> , </p>\n\n<p>The Google Hangout App can implement this feature (it's not exactly the same behavior) but I don't find any good documentation to do the same.</p>\n\n<p>In the manifest page of Google Packaged App, we can see the field \"system_indicator\". Is it what I'm looking for ? When I try to set this field to an url of an icon, Chrome return me this error :</p>\n\n<blockquote>\n  <p>'system_indicator' requires Google Chrome dev channel or newer, but this is the beta channel.</p>\n</blockquote>\n\n<p>I've also found this old page from the chromium project : <a href=\"http://www.chromium.org/developers/design-documents/extensions/proposed-changes/apis-under-development/system-indicator-api\">http://www.chromium.org/developers/design-documents/extensions/proposed-changes/apis-under-development/system-indicator-api</a></p>\n\n<p>So my question is simple : can I build this feature for my app ? And if yes, how ?</p>\n\n<p>Thank you for your help ! :-) </p>\n",
            "last_activity_date": 1385852977,
            "question_id": 20306548,
            "score": 6,
            "tags": [
                "javascript",
                "google-chrome",
                "chromium",
                "google-chrome-app"
            ],
            "title": "How to use &quot;system_indicator&quot; in the manisfet of a Chrome Packaged App?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>There was already the question on <a href=\"http://stackoverflow.com/questions/18827570/jquery-mobile-vs-angularjs-page-navigation\">SO</a> to compare <code>AngularJS</code> and <code>jQuery Mobile</code>.</p>\n\n<p>And in the <a href=\"http://stackoverflow.com/a/18829123/502950\">answer</a> you can find some information - it is kind of further reading for you.</p>\n\n<p>And the arcticle <a href=\"http://simonguest.com/2013/04/08/jquery-mobile-and-angularjs-working-together/\" rel=\"nofollow\">jQuery Mobile and AngularJS Working Together</a> should give you answe to your question. It has some advices, for example:</p>\n\n<blockquote>\n  <p>Load jQM libs before AngularJS</p>\n</blockquote>\n\n<p>or</p>\n\n<blockquote>\n  <p>Let jQM handle the URL routing</p>\n</blockquote>\n\n<p>etc.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>A very basic example:</p>\n\n<p>html:</p>\n\n<pre><code>&lt;body ng-app='myApp'&gt;\n    &lt;div data-role=\"page\" ng-controller='myCtrl'&gt;\n        &lt;ul data-role=\"listview\"&gt;\n            &lt;li ng-repeat='car in cars'&gt;&lt;a href=\"{{car}}.html\"&gt;{{car}}&lt;/a&gt;\n\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>js:</p>\n\n<pre><code>var app = angular.module('myApp', []);\n\napp.controller('myCtrl', function ($scope) {\n    $scope.cars = [\n        'acura', 'audi', 'BMW'\n    ];\n});\n</code></pre>\n\n<p>working demo: <a href=\"http://jsfiddle.net/eZdNm/\" rel=\"nofollow\">http://jsfiddle.net/eZdNm/</a></p>\n\n<p>The main problem with jQuery mobile and AngularJS is they both want to control page routing. You can find out more by searchng jQuery mobile and Angular in google. </p>\n\n<p>Yes, if you only want a ready to go / mobile friendly UI. I would suggest other more CSS based frameworks such as bootstrap.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Are there other possibilities to style an <code>AngularJS</code> application in a mobile friendly way then <code>CSS</code>?</p>\n\n<p>I am planning an mobile app and want to use AngularJS for the logic and data binding but i don't want to style everything on my own with <code>CSS</code>.</p>\n\n<p>The <code>AngularJS</code> FAQ says that it uses <code>jQuery</code>:</p>\n\n<blockquote>\n  <p>Does Angular use the jQuery library?\n  Yes, Angular can use jQuery if it's present in your app when the application is being bootstrapped. If jQuery is not present in your script path, Angular falls back to its own implementation of the subset of jQuery that we call jQLite.</p>\n  \n  <p>Due to a change to use on()/off() rather than bind()/unbind(), Angular 1.2 only operates with jQuery 1.7.1 or above.</p>\n</blockquote>\n\n<p>but there is no informtaion I have found in FAQ  in which way <code>AngularJS + jQuery</code> can be used.</p>\n\n<p>As you can see I have tried to get the information using AngularsJS FAQ, but could not found it.</p>\n\n<p>Have you found some example(s) of <code>AngularJS</code> with <code>jQuery Mobile</code> for styling?</p>\n",
            "last_activity_date": 1385630978,
            "question_id": 20239560,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "css",
                "angularjs",
                "jquery-mobile"
            ],
            "title": "AngularsJS + jQuery Mobile"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>you can use something like this:</p>\n\n<pre><code>$(this).addClass('someClass');\n\n$(Selector).trigger('ClassChanged')\n\n$(otherSelector).bind('ClassChanged', data, function(){//stuff });\n</code></pre>\n\n<p>but otherwise, no, there's no predefined function to fire an event when a class changes. </p>\n\n<p>Read more about triggers <a href=\"http://api.jquery.com/trigger/#eventdata\" rel=\"nofollow\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Use <code>trigger</code> to fire your own event. When ever you change class  add trigger with name</p>\n\n<p><strong><a href=\"http://jsfiddle.net/satinder_singh1/GZxUK/3/\" rel=\"nofollow\">DEMO</a></strong></p>\n\n<pre><code>$(\"#main\").on('click', function () {\n    $(\"#chld\").addClass(\"bgcolorRed\").trigger(\"cssFontSet\");\n});\n\n$('#chld').on('cssFontSet', function () {\n\n    alert(\"Red bg set \");\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There is no event raised when a class changes. The alternative is to manually raise an event when you programatically change the class:</p>\n\n<pre><code>$someElement.on('event', function() {\n    $('#myDiv').addClass('submission-ok').trigger('classChange');\n});\n\n// in another js file, far, far away\n$('#myDiv').on('classChange', function() {\n     // do stuff\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I would like to have something like:</p>\n\n<pre><code>$('#myDiv').bind('class \"submission ok\" added'){\n    alert('class \"submission ok\" has been added');\n});\n</code></pre>\n",
            "last_activity_date": 1421067995,
            "question_id": 19401633,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "javascript-events"
            ],
            "title": "how to fire event on class change using jquery?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>To satisfy CORS, you can host your images on a CORS friendly site like dropbox.com</p>\n\n<p>Then the security error will not be triggered if you speify image.crossOrigin=\"anonymous\":</p>\n\n<pre><code>    var image=new Image();\n    image.onload=function(){\n    }\n    image.crossOrigin=\"anonymous\";\n    image.src=\"https://dl.dropboxusercontent.com/u/139992952/stackoverflow/colorhouse.png\";\n</code></pre>\n\n<p>Here is code and a Fiddle:  <a href=\"http://jsfiddle.net/m1erickson/4djSr/\">http://jsfiddle.net/m1erickson/4djSr/</a></p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" media=\"all\" href=\"css/reset.css\" /&gt; &lt;!-- reset css --&gt;\n&lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery.min.js\"&gt;&lt;/script&gt;\n\n&lt;style&gt;\n    body{ background-color: ivory; }\n    #canvas{border:1px solid red;}\n&lt;/style&gt;\n\n&lt;script&gt;\n$(function(){\n\n    var canvas=document.getElementById(\"canvas\");\n    var ctx=canvas.getContext(\"2d\");\n\n    var image=new Image();\n    image.onload=function(){\n        ctx.drawImage(image,0,0);\n\n        // desaturation colors\n        var imgData=ctx.getImageData(0,0,canvas.width,canvas.height);\n        var data=imgData.data;\n\n        for(var i = 0; i &lt; data.length; i += 4) {\n          var grayscale= 0.33*data[i]+0.5*data[i+1]+0.15*data[i+2];\n          data[i]=grayscale;\n          data[i+1]=grayscale;\n          data[i+2]=grayscale;\n        }\n\n        // write the modified image data\n        ctx.putImageData(imgData,0,0);\n\n    }\n    image.crossOrigin=\"anonymous\";\n    image.src=\"https://dl.dropboxusercontent.com/u/139992952/stackoverflow/colorhouse.png\";\n\n\n\n}); // end $(function(){});\n&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;canvas id=\"canvas\" width=140 height=140&gt;&lt;/canvas&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>Enabling CORS on the server side is a way out, But that's if you have access to the server side. That way the server serves CORS enabled images.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>im writing a script (or editing and hacking things together) to edit the look of images on a page. I know the basics of javascript but this is my first time looking at canvas. so bear with me</p>\n\n<p>I'm getting this error: </p>\n\n<p><strong>Unable to get image data from canvas because the canvas has been tainted by cross-origin data.</strong> </p>\n\n<p>so heres my code snippet throwing the error:</p>\n\n<pre><code>var canvas = document.createElement('canvas'),\n            context = canvas.getContext('2d'),\n            height = img.naturalHeight || img.offsetHeight || img.height,\n            width = img.naturalWidth || img.offsetWidth || img.width,\n            imgData;\n\n\n        canvas.height = height;\n        canvas.width = width;\n        context.drawImage(img, 0, 0);\n\n        console.log(context);\n        try {\n            imgData = context.getImageData(0, 0, width, height);\n        } catch(e) {}\n</code></pre>\n\n<p>now i found this post :</p>\n\n<p><a href=\"http://bolsterweb.com/2012/06/grabbing-image-data-external-source-canvas-element/\">http://bolsterweb.com/2012/06/grabbing-image-data-external-source-canvas-element/</a></p>\n\n<p>but i have no idea how to make it fit my needs..</p>\n\n<p>I know its all due to security and all that - but is there a work around to make it all happen?</p>\n\n<p>Thanks</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Oh wait.. the error is because you can't getImageData.. so is there away to make it 'local'</p>\n",
            "last_activity_date": 1425765885,
            "question_id": 18474727,
            "score": 6,
            "tags": [
                "javascript",
                "canvas",
                "cors"
            ],
            "title": "canvas has been tainted by cross-origin data work around"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>try this</p>\n\n<pre><code>encodeURIComponent(str).replaceAll(/'/g, \"%27\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><code>encodeURIComponent</code> escapes all characters except the following: </p>\n\n<blockquote>\n  <p>alphabetic, decimal digits, - _ . ! ~ * ' ( )</p>\n</blockquote>\n\n<p>If you wish to use an encoding compatible with RFC 3986 (which reserves <code>!</code>, <code>'</code>, <code>(</code>, <code>)</code>, and <code>*</code>), you can use:</p>\n\n<pre><code>function rfc3986EncodeURIComponent (str) {  \n    return encodeURIComponent(str).replace(/[!'()*]/g, escape);  \n}\n</code></pre>\n\n<p>You can get more information on this <a href=\"http://mdn.beonex.com/en/JavaScript/Reference/Global_Objects/encodeURIComponent.html\">on MDN</a>.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>To answer your question, on why <code>'</code> and the other chars mentioned above are not encoded by encodeURIComponent, the short answer is that they only need to be encoded in certain URI schemes and the decision to encode them depends on the scheme you're using.</p>\n\n<p>To quote RFC 3986:</p>\n\n<blockquote>\n  <p>URI producing applications should percent-encode data octets that\n  correspond to characters in the reserved set unless these characters\n  are specifically allowed by the URI scheme to represent data in that\n  component.  If a reserved character is found in a URI component and no\n  delimiting role is known for that character, then it must be\n  interpreted as representing the data octet corresponding to that\n  character's encoding in US-ASCII.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>The <strong>escape()</strong> function, was deprecated and replaced by <strong>encodeURIComponent</strong> but <strong>encodeURIComponent</strong> doesn't encode single quote/apostrophe character. Which I need to escape the apostrophes in a persons surname (E.g. 'O'Neill') in an AJAX form. Why would they remove the ability of something they were trying to improve?</p>\n\n<p>EDIT: </p>\n\n<p>So here is a code example to explain the problem more thoroughly. So as you can see the surname 'O'Neill' contains an apostrophe that needs to be escaped when passing the variable in the url. But this would also happen in other places in the form, for instance if an address entered was 'Billy's Tavern'.</p>\n\n<pre><code>&lt;input id='surname' value=\"O'Neill\"&gt;                        \n&lt;script&gt;\nvar get_url = '?surname='+encodeURIComponent($('#surname').val());\n$.ajax({\n    url: get_url\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>My current solution, using a custom function. My question was just to ask why there is a need for a custom function.</p>\n\n<pre><code>&lt;script&gt;\nfunction customEncodeURIComponent(URI) {\n    return encodeURIComponent(URI).replace(/'/g, \"%27\");\n}\n&lt;/script&gt;\n\n&lt;input id='surname' value=\"O'Neill\"&gt;\n&lt;script&gt;\nvar get_url = '?surname='+customEncodeURIComponent($('#surname').val());\n$.ajax({\n    url: get_url\n});\n&lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1386289106,
            "question_id": 18251399,
            "score": 6,
            "tags": [
                "javascript",
                "ajax"
            ],
            "title": "Why doesn&#39;t encodeURIComponent encode sinlge quotes/apostrophes?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<pre><code>// Init TinyMCE\n$('#content').tinymce({\n    setup : function(ed)\n    {\n        ed.on('init', function() \n        {\n            this.getDoc().body.style.fontSize = '12px';\n            this.getDoc().body.style.fontFamily = 'serif';\n        });\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>maybe too late but...</p>\n\n<pre><code>$('.tinymce').tinymce({\n    setup : function(ed) {\n        ed.onInit.add(function(ed) {\n            ed.execCommand(\"fontName\", false, \"Arial\");\n            ed.execCommand(\"fontSize\", false, \"2\");\n        });\n    }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I've successfully changed the default font inside the editor using the documentation <a href=\"http://www.tinymce.com/wiki.php/Configuration3x%3acontent_css\" rel=\"nofollow\">here</a> but that leaves me with a problem. The original default font no longer works in the font drop down list.</p>\n\n<p>Original default: Verdana<br>\nNew default: MyCustomFont</p>\n\n<p>When I type into the editor I see my MyCustomFont font by default. If I try to change that to Verdana (original default) nothing happens. I can change it to any font family except Verdana. I noticed also that when I select MyCustomFont in the drop down list the content gets surrounded with a span with inline styles. This does not happen with the original default font (hence why nothing happens).</p>\n\n<p>It seems to me like there's a key piece of documentation missing - how to tell the editor (the font feature in particular) that the font I've defined by default in the css is the default font.</p>\n\n<p>I've Googled quite a bit but had no results. Everybody else seems to be settling for the documentation mentioned above. Am I the only one having this problem? If not, please help! :)</p>\n\n<p>Please note, the answers to <a href=\"http://stackoverflow.com/questions/3342994/change-default-font-type-size-in-tinymce\">this</a> question do not answer my question. </p>\n",
            "last_activity_date": 1387202632,
            "question_id": 17924141,
            "score": 6,
            "tags": [
                "javascript",
                "css",
                "fonts",
                "tinymce",
                "font-face"
            ],
            "title": "Changing the default font family in TinyMCE"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The <code>webkit-playsinline</code> attribute works for HTML5 video on iOS4+ but only when you save the webpage to your home screen as a webapp. If you are using mobile Safari it will always open fullscreen.</p>\n\n<p>Theres a small blurb about its support here:\n<a href=\"http://developer.apple.com/library/ios/#documentation/uikit/reference/UIWebView_Class/Reference/Reference.html\">http://developer.apple.com/library/ios/#documentation/uikit/reference/UIWebView_Class/Reference/Reference.html</a></p>\n\n<p>I've also seen on recent versions of Android that inline video playback does work within its native browser.</p>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>The <code>&lt;video&gt;</code> tag attribute <code>webkit-playsinline</code> supposedly prevents the default go to fullscreen behavior of HTML5 videos.  </p>\n\n<p>I added this attribute to my video tag and checked mobile safari and chrome on iOS6 iPhone and it doesn't work. The video still goes fullscreen. <a href=\"http://stackoverflow.com/questions/5054560/can-i-avoid-the-native-fullscreen-video-player-with-html5-on-iphone-or-android\">This is similar to others' experiences as described on SO two years ago.</a></p>\n\n<p>What mobile browsers as of today, June 13th, 2013 does this attribute <code>webkit-playsinline</code> work?</p>\n",
            "last_activity_date": 1388427530,
            "question_id": 17090906,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "html5",
                "html5-video",
                "fullscreen"
            ],
            "title": "&quot;webkit-playsinline&quot; video tag attribute"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You can handle this with javascript in your page.<br>\nFirst create a function:</p>\n\n<pre><code>function closeMessage() {\n    return \"Are you sure you want to leave this page\";\n}\n</code></pre>\n\n<p>After that assign this method:</p>\n\n<pre><code>window.onbeforeunload = closeMessage;\n</code></pre>\n\n<p>Please let me know if was helpfull</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You need to catch the event for closing the browser and use it to do whatever you wanna do. Here is the code that worked for me.</p>\n\n<pre><code>        &lt;script type=\"text/javascript\"&gt;\n          window.onbeforeunload = function (e) {\n               var e = e || window.event;\n               if (e) e.returnValue = 'Browser is being closed, is it okay?';//for IE &amp; Firefox\n               return 'Browser is being closed, is it okay?';// for Safari and Chrome\n           };\n        &lt;/script&gt;\n</code></pre>\n\n<p>Hope this helps..</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If I get you correctly, you want to know when a tab/window is effectively closed. Well, afaik your only way in Javascript to detect that kind of stuff are onunload &amp; onbeforeunload events.\nThose events are also fired when you leave a site over a link or your browsers back button. So this is the best answer I can give, I don't think you can natively detect a pure close in Javascript. Correct me if I'm wrong here.you can go through <a href=\"http://stackoverflow.com/questions/9941354/browser-tab-close-detection-using-javascript-or-any-other-language\">browser-tab-close-detection-using-javascript-or-any-other-language</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This works perfect.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/3888902/javascript-detect-browser-close-tab-close-browser\">javascript detect browser close tab/close browser</a></p>\n\n<pre><code>&lt;body onbeforeunload=\"ConfirmClose()\" onunload=\"HandleOnClose()\"&gt;\n\nvar myclose = false;\n\nfunction ConfirmClose()\n{\n    if (event.clientY &lt; 0)\n    {\n        event.returnValue = 'You have closed the browser. Do you want to logout from your application?';\n        setTimeout('myclose=false',10);\n        myclose=true;\n    }\n}\n\nfunction HandleOnClose()\n{\n    if (myclose==true) \n    {\n        //the url of your logout page which invalidate session on logout \n        location.replace('/contextpath/j_spring_security_logout') ;\n    }   \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I had a lot of problems with this myself and the only thing that works is: \"window.onbeforeunload\" event from javascripts but the problem is this gets executed a lot more than when you'd expect. So basicly if your working with a master page etc I don't think it can be done.</p>\n\n<p>I think it's best you try to approach this differently because else your closing message will show up to often.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a ASP.NET web app with a MasterPage and contents page, from the MasterPage when I click a <code>MenuItem</code> to open a new aspx Page. if I want to close the new page browser tab, I want to show a popup or a dialog that alert the user that he is closing the browser tab. I dont know how to detect the close browserTab button.\nI used the following code in the new aspx page:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function CloseWindow() {\n        alert('closing');\n        window.close();\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>new page code behind:</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n    Page.ClientScript.RegisterOnSubmitStatement(typeof(Page), \"closePage\", \"window.onunload = CloseWindow();\");\n}\n</code></pre>\n\n<p>Thanx in Advantage.</p>\n",
            "last_activity_date": 1384165427,
            "question_id": 16584663,
            "score": 6,
            "tags": [
                "c#",
                "javascript",
                "asp.net",
                "clientscript"
            ],
            "title": "how to detect the Page Close Event with ASP.NET"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<pre><code>(function () {\n    console.log(\"Child\");\n    Parent.call(this, arguments);\n    this.prototype = Object.create(Parent.prototype);\n})();\n</code></pre>\n\n<p><code>this</code> refers to <code>window</code>, because you wrapped your code into a function. Remove the wrapping function or pass <code>this</code> as argument.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You're not using the module pattern in the correct way. Somehow, your \"constructor\" is called as an immediately-invoked function expression (<a href=\"http://benalman.com/news/2010/11/immediately-invoked-function-expression/\" rel=\"nofollow\">IIFE</a>), and the module closure is not. It should be the other way round.</p>\n\n<p>Also, you can't assign to <code>this.prototype</code>. To create the prototype object from which all instances will inherit, you will need to assign to the <code>prototype</code> property of the <em>constructor function</em> (the <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/this\" rel=\"nofollow\"><code>this</code> keyword</a> even pointed to the global <code>window</code> object in your case).</p>\n\n<p>And you should return the constructor function, not the prototype object, from the IIFE as soon as you have it.</p>\n\n<pre><code>Parent = (function () {\n    // constructor\n    function construct () {\n        console.log(\"Parent\");\n    };\n\n    // public functions\n    construct.prototype.test = function () {\n        console.log(\"test parent\");\n    };\n    construct.prototype.test2 = function () {\n        console.log(\"test2 parent\");\n    };\n\n    return construct;\n})();\n\n\nChild = (function () {\n    // constructor\n    function construct() {\n        console.log(\"Child\");\n        Parent.apply(this, arguments);\n    }\n\n    // make the prototype object inherit from the Parent's one\n    construct.prototype = Object.create(Parent.prototype);\n    // public functions\n    construct.prototype.test = function() {\n        console.log(\"test Child\");\n    };\n\n    return construct;\n})();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I'm trying to implement the inheritance with the module pattern in this way:</p>\n\n<pre><code>Parent = function () {\n\n    //constructor\n    (function construct () {\n        console.log(\"Parent\");\n    })();\n\n    // public functions\n    return this.prototype = {\n\n        test: function () {\n            console.log(\"test parent\");\n        },\n\n\n        test2: function () {\n            console.log(\"test2 parent\");\n        }\n\n    };\n};\n\n\nChild = function () {\n\n    // constructor\n    (function () {\n        console.log(\"Child\");\n        Parent.call(this, arguments);\n        this.prototype = Object.create(Parent.prototype);\n    })();\n\n\n    // public functions\n    return this.prototype = {\n\n        test: function()\n        {\n            console.log(\"test Child\");\n        }\n\n    }\n\n};\n</code></pre>\n\n<p>but I can't to call from child's instance the <code>test2()</code>. </p>\n\n<pre><code>var c = new Child();\nc.test2(); // c.test2 is not a function\n</code></pre>\n\n<p>What I wrong?</p>\n",
            "last_activity_date": 1371903704,
            "question_id": 15436533,
            "score": 6,
            "tags": [
                "javascript",
                "inheritance",
                "module-pattern"
            ],
            "title": "Inheritance and module pattern"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>By using provide(), you can inject a new $rootScope:</p>\n\n<pre><code>describe('in rootValGetter', inject(function ($rootScope) {\n    var scope;\n    var testRootValGetter;\n\n    beforeEach(function () {\n\n        scope = $rootScope.$new();\n\n        module(function ($provide) {\n            $provide.value('$rootScope', scope);\n        });\n\n        inject(function ($injector) {\n            testRootValGetterService = $injector.get('rootValGetterService');\n        });\n    });\n\n    it('getVal returns the value from $rootScope', function() {\n        var value = 12345;\n\n        scope.specialValue = value;\n\n        expect(testRootValGetterService.getVal()).toBe(value);\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Include <code>angular-mocks.js</code>, then use <a href=\"https://docs.angularjs.org/api/ngMock/function/angular.mock.inject\" rel=\"nofollow\"><code>angular.mock.inject</code></a>: </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>...\nvar $rootScope;\nbeforeEach(inject(function(_$rootScope_) {\n  $rootScope = _$rootScope_;\n}));\n...\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Suppose I have a service that depends on a value in $rootScope, as with the following (trivial) service:</p>\n\n<pre><code>angular.module('myServices', [])\n.factory('rootValGetterService', function() {\n    return {\n        getVal: function () {\n            return $rootScope.specialValue;\n        }\n    };\n});\n</code></pre>\n\n<p>If I want to unit test this by putting a value in $rootScope, what is the best way to go about it?</p>\n",
            "last_activity_date": 1417182764,
            "question_id": 15416006,
            "score": 6,
            "tags": [
                "javascript",
                "unit-testing",
                "dependency-injection",
                "angularjs",
                "jasmine"
            ],
            "title": "How do I inject $rootScope into an AngularJS unit test?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>The event should also have a property \"source\" that can be compared to the iframes \"contentWindow\" property.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I have found the solution from here: <a href=\"http://stackoverflow.com/questions/8500276/how-to-share-a-data-between-a-window-and-a-frame-in-javascript\">How to share a data between a window and a frame in JavaScript</a></p>\n\n<p>Parent:</p>\n\n<pre><code>var frames = document.getElementsByTagName('iframe');\nfor (var i = 0; i &lt; frames.length; i++) {\n    if (frames[i].contentWindow === event.source) {\n        $(frames[i]).height(event.data); //the height sent from iframe\n        break;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Yes, you can identify the IFRAME which did the <code>postMessage</code>. There are different situations:</p>\n\n<ul>\n<li><p>the source IFRAME has the <strong>same-origin URL</strong> (e.g. <code>http://example.com/</code>) as the Window which receives the message: the IFRAME is identified using</p>\n\n<p><code>myIFRAME.contentWindow == event.source</code></p></li>\n<li><p>the source IFRAME has a <strong>same-origin but relative URL</strong> (e.g. <code>/myApp/myPage.html</code>) to the parent HTML page: the IFRAME is identified using </p>\n\n<p><code>myIFRAME.contentWindow == event.source.parent</code></p></li>\n<li><p>the source IFRAME has a <strong>cross-origin URL</strong> (e.g. <code>http://example.com/</code>) different of the page which receives the message (e.g <code>http://example.org/</code>): the above methods do not work (the comparison is always <code>false</code> and accessing properties of <code>event.source</code> lead to <code>Access Denied</code>errors) and the IFRAME must be identified based on its origin domain; </p>\n\n<p><code>myIFRAME.src.indexOf(event.origin)==0</code></p></li>\n</ul>\n\n<p>In order to manage these three different situations, I'm using the following:</p>\n\n<pre><code>var sourceFrame = null; // this is the IFRAME which send the postMessage\nvar myFrames = document.getElementsByTagName(\"IFRAME\");\nvar eventSource = event.source; // event is the event raised by the postMessage\nvar eventOrigin = event.origin; // origin domain, e.g. http://example.com\n\n// detect the source for IFRAMEs with same-origin URL\nfor (var i=0; i&lt;myFrames.length; i++) {\n    var f = myFrames[i];\n    if (f.contentWindow==eventSource || // for absolute URLs\n        f.contentWindow==eventSource.parent) { // for relative URLs\n        sourceFrame = f;\n        break;\n    }\n}\n\n// detect the source for IFRAMEs with cross-origin URL (because accessing/comparing event.source properties is not allowed for cross-origin URL)\nif (sourceFrame==null) {\n    for (var i=0; i&lt;myFrames.length; i++) {\n        if (myFrames[i].src.indexOf(eventOrigin)==0) {\n            sourceFrame = myFrames[i];\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>For cross-domain URLs, note that we cannot differentiate the true source if <code>event.origin</code> is a domain common to more than one IFRAMEs. </p>\n\n<p>Some people use <code>===</code> instead of <code>==</code> but I did not found any difference in this context, so I'm using the shortest comparator.</p>\n\n<p>This implementation has been tested and works under:</p>\n\n<ul>\n<li>MSIE 9</li>\n<li>Firefox 17</li>\n</ul>\n\n<p>As an alternative (suggested by Griffin), you could use a IFRAME src with an unique idenfitier (e.g. timestamp), and the IFRAME'd web application will send back the this unique identifier in the posted messages. While the IFRAME identification would be simpler, this approach requires to modify the IFRAME'd web application (which is not always possible). This also may lead to security issues (e.g. the IFRAME'd web application tries to guess the unique identifier of other IFRAMEs applications).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If the source iframe is nested in more than one parent iframe, then you will need to recurse over the window.frames property of each iframe and compare it against the messageEvent#source property. </p>\n\n<p>For example, if the message is generated by iframe#level3 of this Dom.</p>\n\n<pre><code>&lt;iframe Id=level1&gt;\n   &lt;iframe Id=level2&gt;\n       &lt;iframe Id=level3 /&gt;\n   &lt;/iframe&gt;\n&lt;/iframe&gt;\n</code></pre>\n\n<p>You should be able to find the index of the ancestor iframe in the current window using.  </p>\n\n<pre><code>FindMe = event.source\nFrameIndex = find(window)\nframes[FrameIndex].frameElement ==     getElByTagName(iframe)[FrameIndex] \n\nfunction find(target){\n    for (i=0; I&lt; target.frames.length; i ++)\n       if(target.frames[i] == FindMe ||   find(target.frames[i]))\n           return i\n    return false \n}\n</code></pre>\n\n<p>Its important to note that</p>\n\n<p>The Window.frames property is not restricted  by cross domain policy</p>\n\n<p>This technique will work regardless of how deeply nested the source iframe happens to be </p>\n\n<p>window.frames is a collection of window objects not iframe  elements. </p>\n\n<p>access to the propetties s of the memebers of the window.frames collection is resttictred by Same Origin (I.e you may not be able to access  the frameElement or location properties of window.frames[i]</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>i have an idea to solve this issue. when you create the iframe give a name/id to the iframe. .</p>\n\n<p>and, in the script inside iframe send the message as object which will look like</p>\n\n<pre><code>window.parent.postMessage({\"height\" : $('.widget').outerHeight(), \"frmname\" : window.name}, '*');\n</code></pre>\n\n<p>in the parent listener, </p>\n\n<pre><code>eventer(messageEvent, function(e) {`enter code here`\n    $(e.data.frmname).height(e.data.height);\n}, false);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm working on a website with cross-domain iframes that are resized to the correct height using postMessage. The only problem I'm having is identifying which iframe has which height. The way I've currently got it set up is that when one iframe sends its height to the parent, all the iframes' heights are changed.</p>\n\n<p>Parent:</p>\n\n<pre><code>var eventMethod = window.addEventListener ? \"addEventListener\" : \"attachEvent\";\nvar eventer = window[eventMethod];\nvar messageEvent = eventMethod == \"attachEvent\" ? \"onmessage\" : \"message\";\n\neventer(messageEvent, function(e) {\n    $('iframe').height(e.data);\n}, false);\n</code></pre>\n\n<p>Iframe:</p>\n\n<pre><code>var updateHeight = function() {\n    if(window.parent) {\n        window.parent.postMessage($('.widget').outerHeight(), '*');\n    }\n};\n</code></pre>\n\n<p>Is there some way to identify which iframe sent the <code>message</code> event?</p>\n",
            "last_activity_date": 1425948583,
            "question_id": 15329710,
            "score": 6,
            "tags": [
                "javascript",
                "html5",
                "iframe",
                "cross-domain",
                "postmessage"
            ],
            "title": "postMessage Source IFrame"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Just enable the Gzip compression on your Apache and everything will be automatically done. </p>\n\n<p>Probably you will have to store the string in a .js file as a json and enable gzip for js mime type.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I remember that I used <a href=\"https://github.com/dankogai/js-deflate\" rel=\"nofollow\">js-deflate</a> for off-linne JS app with large databases (needed due to limitations of local storage) and worked perfectly. It depends on <a href=\"https://github.com/dankogai/js-base64\" rel=\"nofollow\">js-base64</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>And another library or site is this one, although it has few examples it has some thorough test cases that can be seen.</p>\n\n<p><a href=\"https://github.com/imaya/zlib.js\">https://github.com/imaya/zlib.js</a></p>\n\n<p>Here are some of the complex test cases\n<a href=\"https://github.com/imaya/zlib.js/blob/master/test/browser-test.js\">https://github.com/imaya/zlib.js/blob/master/test/browser-test.js</a>\n<a href=\"https://github.com/imaya/zlib.js/blob/master/test/browser-plain-test.js\">https://github.com/imaya/zlib.js/blob/master/test/browser-plain-test.js</a></p>\n\n<p>The code example seems very compact. Just these two lines of code...</p>\n\n<pre><code>// compressed = Array.&lt;number&gt; or Uint8Array\nvar gunzip = new Zlib.Gunzip(compressed);\nvar plain = gunzip.decompress();\n</code></pre>\n\n<p>If you look here <a href=\"https://github.com/imaya/zlib.js/blob/master/bin/gunzip.min.js\">https://github.com/imaya/zlib.js/blob/master/bin/gunzip.min.js</a> you see they have the packed js file you will need to include. You might need to include one or two of the others in <a href=\"https://github.com/imaya/zlib.js/blob/master/bin\">https://github.com/imaya/zlib.js/blob/master/bin</a>. </p>\n\n<p>In any event get those files into your page and then feed the GUnzip objects your pre-gzipped data from the server and then it will be as expected.</p>\n\n<p>You will need to download the data and get it into an array yourself using other functions. I do not think they include that support.</p>\n\n<p>So try these examples of download from <a href=\"https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/Sending_and_Receiving_Binary_Data\">https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/Sending_and_Receiving_Binary_Data</a></p>\n\n<pre><code>function load_binary_resource(url) {\n  var req = new XMLHttpRequest();\n  req.open('GET', url, false);\n  req.overrideMimeType('text\\/plain; charset=x-user-defined');\n  req.send(null);\n  if (req.status != 200) return '';\n  return req.responseText;\n}\n\n// Each byte is now encoded in a 2 byte string character. Just AND it with 0xFF to get the actual byte and then feed that to GUnzip...\nvar filestream = load_binary_resource(url);\nvar abyte = filestream.charCodeAt(x) &amp; 0xff; // throw away high-order byte (f7)\n</code></pre>\n\n<p>=====================================\nAlso there is Node.js</p>\n\n<p>Question is similar to \n<a href=\"http://stackoverflow.com/questions/10308110/simplest-way-to-download-and-unzip-files-in-node-js-cross-platform\">Simplest way to download and unzip files in Node.js cross-platform?</a></p>\n\n<p>There is this example code at nodejs documentation. I do not know how much more specific it gets than that...\n<a href=\"http://nodejs.org/api/zlib.html\">http://nodejs.org/api/zlib.html</a></p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I am developing a web page containing Javascript. This js uses static string data (about 1-2 MB) which is stored in a flat file. I could compress it with gzip or any other algorithm to reduce the transfer load.</p>\n\n<p>Would it be possible to fetch this binary file with Ajax and decompress it into a string (which I could split later) in the client browser. If yes, how can I achieve this? Does anyone have a code example?</p>\n",
            "last_activity_date": 1361153020,
            "question_id": 14727856,
            "score": 6,
            "tags": [
                "javascript",
                "text-files",
                "unzip"
            ],
            "title": "Fetching zipped text file and unzipping in client browers, feasible in Javascript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You need to change this line:</p>\n\n<pre><code>html = jQuery(result);\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>html = jQuery('&lt;div&gt;').html(result);\n</code></pre>\n\n<p>And actually, even better you should declare this as a local variable:</p>\n\n<pre><code>var html = jQuery('&lt;div&gt;').html(result);\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<p>When you do <code>jQuery(result)</code>, jQuery pulls the children of the <code>&lt;body&gt;</code> element and returns a wrapper around those elements, as opposed to returning a jQuery wrapper for the <code>&lt;html&gt;</code> element, which I tend to agree would be pretty dumb.</p>\n\n<p>In your case, the <code>&lt;body&gt;</code> of sidebar.html contains several elements and some text nodes.  Therefore the jQuery object that is returned is a wrapper for those several elements and text nodes.</p>\n\n<p>When you use <code>.find()</code>, it searches the <em>descendants</em> of the elements wrapped by the jQuery object that you call it on.  In your case, the <code>&lt;div id=\"a\"&gt;</code> is <em>not</em> one of these because it is actually <em>one of</em> the selected elements of the wrapper, and cannot be a descendant of itself.</p>\n\n<p>By wrapping it in a <code>&lt;div&gt;</code> of your own, then you push those elements \"down\" a level.  When you call <code>.find()</code> in my fixed code above, it looks for descendants of that <code>&lt;div&gt;</code> and therefore finds your <code>&lt;div id=\"a\"&gt;</code>.</p>\n\n<p><strong>Comment</strong></p>\n\n<p>If your <code>&lt;div id=\"a\"&gt;</code> was not at the top level, i.e. an immediate child of the <code>&lt;body&gt;</code>, then your code would have worked.  To me this is inconsistent and therefore incorrect behaviour.  To solve this, jQuery should generate the container <code>&lt;div&gt;</code> for you, when it is working its <code>&lt;body&gt;</code> content extraction magic.</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>Try this :</p>\n\n<pre><code>$.get(url,function(content) {\n    var content = $(content).find('div.contentWrapper').html();\n    ...\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I would like page.html to ajax-request the content of side.html and extract the content of two of its divs. But I cannot find the correct way to parse the response, despite everything I tried. </p>\n\n<p>Here is side.html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Useless&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"a\"&gt;ContentA&lt;/div&gt;\n&lt;div id=\"b\"&gt;ContentB&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and here is page.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Useless&lt;/title&gt;\n&lt;script type='text/javascript' src='jquery-1.9.0.min.js'&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\nHello\n&lt;script type=\"text/javascript\"&gt;\njQuery.ajax({\n        url: \"side.html\",\n        success: function(result) {\n            html = jQuery(result);\n\n            alert(html.find(\"div#a\").attr(\"id\"));\n            alert(html.find(\"div#a\").html());\n            alert(html.find(\"div#a\"));\n\n        },\n    });\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I access this page, I get no error, and the three alert()s yield undefined, undefined and [object Object]. What am I doing wrong? Example is live <a href=\"http://xuneo.com/jqueryproblem/\">here</a>.</p>\n",
            "last_activity_date": 1402064340,
            "question_id": 14683736,
            "score": 6,
            "tags": [
                "javascript",
                "ajax",
                "jquery"
            ],
            "title": "Get the content of another page&#39;s div with jQuery Ajax"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>A Simple Arithmetic Sequence:</p>\n\n<p>Divide the linear position by the width.  That's your Y-coordinate.  Multiply that Y-coordinate by the width, and subtract that value from the linear position.  The result is the X coordinate.</p>\n\n<p>Also note, you will have to divide the linear position by 4 since it is RGBA.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>This should work</p>\n\n<pre><code>var x = (Math.floor(i / 4) % 4);\nvar y = Math.floor(Math.floor(i/this.el.width)/4);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Corrected and tested version of code:\n</p>\n\n<pre><code>var x = (i / 4) % this.el.width;\nvar y = Math.floor((i / 4) / this.el.width);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I am iterating over some image data pulled from a <code>canvas</code> like so:</p>\n\n<pre><code>var imageData = this.context.getImageData(0, 0, this.el.width, this.el.height);\nvar data = imageData.data;\n\nfor (var i = data.length; i &gt;= 0; i -= 4) {\n    if (data[i + 3] &gt; 0) {\n        data[i] = this.colour.R;\n        data[i + 1] = this.colour.G;\n        data[i + 2] = this.colour.B;\n    }\n}\n</code></pre>\n\n<p>How do I calculate the current X and Y pixel coordinates that I am at?</p>\n",
            "last_activity_date": 1386446304,
            "question_id": 13660723,
            "score": 6,
            "tags": [
                "javascript",
                "html5-canvas"
            ],
            "title": "Get X and Y pixel coordinates when iterating over HTML5 canvas getImageData"
        }
    ]
}
