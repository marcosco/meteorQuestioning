{
    "items": [
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<pre><code>function test() {  alert(arguments.callee.name); } \nb = test; \nb();\n</code></pre>\n\n<p>outputs \"test\" (in Chrome, Firefox and probably Safari)</p>\n\n<p>If you want to get name from outside you may parse it out of:</p>\n\n<pre><code>b.toString();\n</code></pre>\n\n<p>but I think name property of function object might be what you need:</p>\n\n<pre><code>alert(b.name);\n</code></pre>\n\n<p>this however does not seem work for IE and Opera so you are left with parsing it out manually in those browsers.</p>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>There's no standard way to get the name of a function. Some browsers, notably Firefox and recent WebKit-based browsers, support a non-standard <code>name</code> property on <code>Function</code> objects, but no current version of IE does. The only option this leaves you is trying to parse the name from the function's string representation, which is <strong>not a good idea</strong>. There's a (long) discussion here about it: <a href=\"http://groups.google.com/group/comp.lang.javascript/browse_frm/thread/b85dfb2f2006c9f0\">http://groups.google.com/group/comp.lang.javascript/browse_frm/thread/b85dfb2f2006c9f0</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>One interesting way I'm experimenting with is a declaration like the following:</p>\n\n<pre><code>var test1 = function test1(){\n    alert(1);\n};\n</code></pre>\n\n<p>It's a little hacky, but what ends up happening is <code>test1</code> is a local variable that holds a <code>[Function: test1]</code> object.</p>\n\n<p>Here's what happens when you use code based on it:</p>\n\n<pre><code>test1(); //runs the function as expected\nconsole.log(test1.name); //prints 'test1'\n</code></pre>\n\n<p>So if you do the following:</p>\n\n<pre><code>obj1.func = test1;\n</code></pre>\n\n<p>You'll then be able to reference <code>obj1.func.name</code> and it'll return <code>'test1'</code>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's what I use to put class names in error messages.  It includes code to get the name of functions, which works in most browsers.</p>\n\n<p>Obviously, there is no standard way that always works, so you should always provide a name that can be used if no other name is found.</p>\n\n<pre><code>var nameFromToStringRegex = /^function\\s?([^\\s(]*)/;\n\n/**\n * Gets the classname of an object or function if it can.  Otherwise returns the provided default.\n *\n * Getting the name of a function is not a standard feature, so while this will work in many\n * cases, it should not be relied upon except for informational messages (e.g. logging and Error\n * messages).\n *\n * @private\n */\nfunction className(object, defaultName) {\n    var result = \"\";\n    if (typeof object === 'function') {\n        result = object.name || object.toString().match(nameFromToStringRegex)[1];\n    } else if (typeof object.constructor === 'function') {\n        result = className(object.constructor, defaultName);\n    }\n    return result || defaultName;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You could convert your function into a string <code>(fn + '')</code> and split it later at <em>whitespace and open bracket</em> <code>/\\s|\\(/</code>.</p>\n\n<pre><code>var getFunctionName = function (fn) {\n   return (fn + '').split(/\\s|\\(/)[1];\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is probably the best way to do it:</p>\n\n<pre><code>var myfunc = function () {};\nvar funcName = myfunc.constructor.name;\n</code></pre>\n\n<p>This can be done outside the execution of the function, and you can check within the context of the browser console.</p>\n\n<p>Happy coding!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The best thing to do is:</p>\n\n<pre><code>function functionName(fun) {\n  var ret = fun.toString();\n  ret = ret.substr('function '.length);\n  ret = ret.substr(0, ret.indexOf('('));\n  return ret;\n}\n</code></pre>\n\n<p>Note: Using <code>Function.caller</code> is non-standard and <code>arguments.callee</code> is forbidden in strict mode.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Does anyone know if there is a way to get JavaScript function name. For example I got a function like </p>\n\n<pre><code>function test1(){\nalert(1);\n}\n</code></pre>\n\n<p>I have it in my head section. Then I create an object obj1 and put my function there</p>\n\n<pre><code>obj1.func = test1;\n</code></pre>\n\n<p>When I call a method in obj1 object, do I have any way to get my function name (test1) inside of this method, except parsing the source (<code>this.func.toString()</code>) of the function.</p>\n",
            "last_activity_date": 1424347106,
            "question_id": 3178892,
            "score": 19,
            "tags": [
                "javascript"
            ],
            "title": "Get function name in JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If its local (localhost), then for security reasons you have to have the full path.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I can reproduce it; to \"reset\" the page to get the error again, just add a random GET parameter to the OP's URL.</p>\n\n<p>I'm getting a different error in IE8: <code>The object does not support this method or property</code>\n(or its english equivalent, it's a german IE)</p>\n\n<p>It's fired by this line in jquery.js: <code>return new window.XMLHttpRequest();</code></p>\n\n<p>Interestingly, it's in the following block:</p>\n\n<pre><code>/*\n        timeout: 0,\n        data: null,\n        username: null,\n        password: null,\n        traditional: false,\n        */\n        // Create the request object; Microsoft failed to properly\n        // implement the XMLHttpRequest in IE7 (can't request local files),\n        // so we use the ActiveXObject when it is available\n        // This function can be overriden by calling jQuery.ajaxSetup\n        xhr: window.XMLHttpRequest &amp;&amp; (window.location.protocol !== \"file:\" || !window.ActiveXObject) ?\n            function() {\n                return new window.XMLHttpRequest();\n            } :\n            function() {\n                try {\n                    return new window.ActiveXObject(\"Microsoft.XMLHTTP\");\n                } catch(e) {}\n            },\n</code></pre>\n\n<p>I'm baffled and don't understand the logic behind it, though. </p>\n\n<p>Anybody got any ideas?</p>\n\n<p>Could it be the doctype? Can you try a different (HTML) one?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>From the post on jquerys forum <a href=\"http://forum.jquery.com/topic/obscure-ie-bug-in-jquery-1-4\">here</a>, you have to have the content type meta as the first item in your head tag.</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.1//EN\" \"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\"&gt; \n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"de\"&gt; \n    &lt;head&gt; \n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n        &lt;script type=\"text/javascript\" src=\"/ietest/jquery.js\"&gt;&lt;/script&gt; \n        &lt;script type=\"text/javascript\" src=\"/ietest/test.js\"&gt;&lt;/script&gt;  \n    &lt;/head&gt; \n    &lt;body&gt; \n        &lt;a href=\"#\"&gt;Test&lt;/a&gt;\n    &lt;/body&gt; \n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 23
                }
            ],
            "body": "<p>I try to do an AJAX call with jQuery and <code>$.post</code> in Internet Explorer, but all I get is an error saying \"Permission denied\". The problem is kinda weird since it occurs only when I access a page after I was on any other page. </p>\n\n<p>For instance I type the URL in the adress line and let IE load the page. Then I click on a button so the script should start loading JSON data. (The script providing the data lies on the same server and I access it with a relative URL, so using a different domain is not the problem here. Even tried to use a absolute URL with the same host part.)</p>\n\n<p>But when I refresh the page then and try it again it works! Same thing when I come to that page from another page. At first nothing works, but when I click \"refresh\" everything is fine. </p>\n\n<p>IE gives me the error message \"Permission denied\" while in every other browser I don't notice this behaviour. Since I have tried many things and still cannot imagine where the problem lies I'd like to ask you what you think the problem might be?</p>\n\n<p><strong>edit:</strong>\nA small example:</p>\n\n<p><strong>test.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.1//EN\" \"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\"&gt; \n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"de\"&gt; \n    &lt;head&gt; \n        &lt;script type=\"text/javascript\" src=\"/ietest/jquery.js\"&gt;&lt;/script&gt; \n        &lt;script type=\"text/javascript\" src=\"/ietest/test.js\"&gt;&lt;/script&gt; \n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt; \n    &lt;/head&gt; \n    &lt;body&gt; \n        &lt;a href=\"#\"&gt;Test&lt;/a&gt;\n    &lt;/body&gt; \n&lt;/html&gt;\n</code></pre>\n\n<p><strong>ajax.html</strong></p>\n\n<pre><code>It works!\n</code></pre>\n\n<p><strong>test.js</strong></p>\n\n<pre><code>$(document).ready(function(){\n    $( 'a' ).click(function(){\n        $.post( '/ietest/ajax.html', function( data ) {\n            alert( data );\n        });\n    });\n});\n</code></pre>\n\n<p>Try it here: <a href=\"http://t1318.greatnet.de/ietest/test.html\">http://t1318.greatnet.de/ietest/test.html</a></p>\n",
            "last_activity_date": 1353529693,
            "question_id": 2960153,
            "score": 19,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "internet-explorer"
            ],
            "title": "&quot;Permission denied&quot; with Internet Explorer and jQuery"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This should work (from a few alterations to your code above).</p>\n\n<pre><code>function tableCreate(){\nvar body=document.getElementsByTagName('body')[0];\nvar tbl=document.createElement('table');\ntbl.style.width='100%';\ntbl.setAttribute('border','1');\nvar tbdy=document.createElement('tbody');\nfor(var i=0;i&lt;3;i++){\n    var tr=document.createElement('tr');\n    for(var j=0;j&lt;2;j++){\n        if(i==2 &amp;&amp; j==1){\n                break\n                 } else {\n        var td=document.createElement('td');\n        td.appendChild(document.createTextNode('\\u0020'))\n        i==1&amp;&amp;j==1?td.setAttribute('rowSpan','2'):null;\n        tr.appendChild(td)\n        }\n    }\n    tbdy.appendChild(tr);\n}\ntbl.appendChild(tbdy);\nbody.appendChild(tbl)\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>Slightly shorter code using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableElement.insertRow\" rel=\"nofollow\"><code>instertRow</code></a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLTableRowElement.insertCell\" rel=\"nofollow\"><code>insertCell</code></a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function tableCreate(){\r\n    var body = document.body,\r\n        tbl  = document.createElement('table');\r\n    tbl.style.width  = '100px';\r\n    tbl.style.border = \"1px solid black\";\r\n\r\n    for(var i = 0; i &lt; 3; i++){\r\n        var tr = tbl.insertRow();\r\n        for(var j = 0; j &lt; 2; j++){\r\n            if(i == 2 &amp;&amp; j == 1){\r\n                break;\r\n            } else {\r\n                var td = tr.insertCell();\r\n                td.appendChild(document.createTextNode('Cell'));\r\n                td.style.border = \"1px solid black\";\r\n                if(i == 1 &amp;&amp; j == 1){\r\n                    td.setAttribute('rowSpan', '2');\r\n                }\r\n            }\r\n        }\r\n    }\r\n    body.appendChild(tbl);\r\n}\r\ntableCreate();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Also, this doesn't use some \"bad practices\", such as setting a <code>border</code> attribute instead of using CSS, and it accesses the <code>body</code> through <code>document.body</code> instead of <code>document.getElementsByTagName('body')[0]</code>;</p>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;body&gt;\n        &lt;p id=\"p1\"&gt;\n            &lt;b&gt;Enter the no of row and column to create table:&lt;/b&gt;\n            &lt;br/&gt;&lt;br/&gt;\n            &lt;table&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;No. of Row(s) &lt;/th&gt;\n                    &lt;th&gt;No. of Column(s)&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;&lt;input type=\"text\" id=\"row\" value=\"4\" /&gt; X&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=\"text\" id=\"col\" value=\"7\" /&gt;Y&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n            &lt;br/&gt;\n            &lt;button id=\"create\" onclick=\"create()\"&gt;create table&lt;/button&gt;\n        &lt;/p&gt;\n        &lt;br/&gt;&lt;br/&gt;\n        &lt;input type=\"button\" value=\"Reload page\" onclick=\"reloadPage()\"&gt;\n        &lt;script&gt;\n            function create() {\n                var row = parseInt(document.getElementById(\"row\").value);\n                var col = parseInt(document.getElementById(\"col\").value);\n\n                var tablestart=\"&lt;table id=myTable border=1&gt;\";\n                var tableend = \"&lt;/table&gt;\";\n                var trstart = \"&lt;tr bgcolor=#ff9966&gt;\";\n                var trend = \"&lt;/tr&gt;\";\n                var tdstart = \"&lt;td&gt;\";\n                var tdend = \"&lt;/td&gt;\";\n                var data=\"data in cell\";\n                var str1=tablestart + trstart + tdstart + data + tdend + trend + tableend;\n                document.write(tablestart);\n\n                for (var r=0;r&lt;row;r++) {\n                    document.write(trstart);\n                    for(var c=0; c&lt;col; c++) {\n                        document.write(tdstart+\"Row.\"+r+\" Col.\"+c+tdend);\n                    }\n                }\n\n                document.write(tableend);\n                document.write(\"&lt;br/&gt;\");\n                var s=\"&lt;button id=\"+\"delete\"+\" onclick=\"+\"deleteTable()\"+\"&gt;Delete top Row &lt;/button&gt;\";\n                document.write(s);\n                var relod=\"&lt;button id=\"+\"relod\"+\" onclick=\"+\"reloadPage()\"+\"&gt;Reload Page &lt;/button&gt;\";\n                document.write(relod);\n            }\n            function deleteTable() {\n                var dr=0;\n                if(confirm(\"It will be deleted..!!\")) {\n                    document.getElementById(\"myTable\").deleteRow(dr);\n                }\n            }\n            function reloadPage(){\n                location.reload();\n            }\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=ISO-8859-1\"&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;table id=\"myTable\" cellpadding=\"2\" cellspacing=\"2\" border=\"1\" onclick=\"tester()\"&gt;\n\n    &lt;/table&gt;\n&lt;script&gt;\nvar student;\nfor(var j=0;j&lt;10;j++)\n    {\n student = {\n            name : \"Name\"+j,\n            rank: \"Rank\"+j,\n            stuclass:\"Class\"+j,\n           }; \n var table = document.getElementById(\"myTable\");\n var row = table.insertRow(j);\n var cell1 = row.insertCell(0);\n var cell2 = row.insertCell(1); \n var cell3 = row.insertCell(2);\n\ncell1.innerHTML =student.name,\ncell2.innerHTML =student.rank,\ncell3.innerHTML=student.stuclass;\n    }\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a JavaScript function which creates a table with 3 rows 2 cells.<br/>\nCould anybody tell me how I can create the table below using my function (i need to do this for my situation)?</p>\n\n<p>My HTML:</p>\n\n<pre><code>&lt;table width=\"100%\" border=\"1\"&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n    &lt;td rowspan=\"2\"&gt;&amp;nbsp;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>  function tableCreate() {\n        //body reference \n        var body = document.getElementsByTagName(\"body\")[0];\n\n        // create elements &lt;table&gt; and a &lt;tbody&gt;\n        var tbl     = document.createElement(\"table\");\n        var tblBody = document.createElement(\"tbody\");\n\n        // cells creation\n        for (var j = 0; j &lt;= 2; j++) {\n            // table row creation\n            var row = document.createElement(\"tr\");\n\n            for (var i = 0; i &lt; 2; i++) {\n                // create element &lt;td&gt; and text node \n                //Make text node the contents of &lt;td&gt; element\n                // put &lt;td&gt; at end of the table row\n             var cell = document.createElement(\"td\");    \n                  var cellText = document.createTextNode(\"cell is row \"+j+\", column \"+i); \n\n                cell.appendChild(cellText);\n                row.appendChild(cell);\n            }\n\n            //row added to end of table body\n            tblBody.appendChild(row);\n        }\n\n        // append the &lt;tbody&gt; inside the &lt;table&gt;\n        tbl.appendChild(tblBody);\n        // put &lt;table&gt; in the &lt;body&gt;\n        body.appendChild(tbl);\n        // tbl border attribute to \n        tbl.setAttribute(\"border\", \"2\");\n    }\n</code></pre>\n",
            "last_activity_date": 1417687852,
            "question_id": 14643617,
            "score": 18,
            "tags": [
                "javascript",
                "html",
                "table"
            ],
            "title": "Create table using Javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You'll have to do your own testing about whether or not your particular scenario works with the time you have in <code>unload</code>, but making the AJAX request is pretty fast, since AJAX is asynchronous.  You just send the request and then you're done!  (Maybe you'll have to clear the request object you just created, though.)</p>\n\n<p>If you wanted to verify that the AJAX request made it, then you'd have to worry more/use the <code>async:false</code> option (like <a href=\"http://stackoverflow.com/q/2274949/393280\">this discussion</a> indicates).  But, just sending is a quick boom-and-you're-done operation.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>We have a case where we needed that. It's a report page that needs serious memory on the server so we wanted to free it immediately as soon as they left the page. We created a frameset and added the unload handler there. The most reliable way was to set the src of an image to the freeing script. We actually used both the unload and onbeforeunload for cross browser compatibility. It didn't work in web kit nightlies but management was OK with that. </p>\n\n<p>However, that was not my proposed solution. I would use a heartbeat approach which involves more work but is much more robust.</p>\n\n<p>Your page should send out periodical heartbeat requests. Each request sets the last heartbeat from a page. You then need a thread that runs on the server and clears memory if the last heartbeat was too long ago.</p>\n\n<p>This doesn't solve the problem of leaving the page up for a long time. For that you need some monitoring for user activity and leave that page after a period of inactivity (make sure you confirm with the user) </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This method is fairly reliable, if your server is fast enough to respond. Something to really watch out for though. If you close the browser and send AJAX request on unload event, there's a very good chance that the response isn't going to come back from the server in time before the window object is destroyed. What happens in this case (at least with IE) is that it will orphan your connection object and not terminate it correctly until the connection timeout is hit. If your server doesn't have connection keep-alive turned on, after you close 2 windows (while still having another window open), you will run out of open connections to the server (for IE6-7, for IE8 - 6 windows) and you will not be able to open your website until your connection timeout is hit.</p>\n\n<p>I ran into a situation like that before were I was opening a popup window that was sending an AJAX request on unload, it was very reliable, but it was plagued by the issued described above, and it took really long time for me to track it down and understand what's going on. After that, what I did, is I made sure that opening window would have the same code to call server, and on every unload checked for the opener and ran the code there if it was present. </p>\n\n<p>It seems that if you close the very last browser window, IE will destroy connection properly, but if one other window is open, it will not.</p>\n\n<p>P.S. And just to comment on the answer above, AJAX is not really async. At least JS implementation of it isn't. After you send a request, you JS code is still going to be waiting for response from the server. It's not going to block your code execution, but since the server might take a while to response (or long enough for Windows to terminate IE window object) you might and probably will run into the problem described above.</p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>Have you tried to use</p>\n\n<pre><code>var i = new Image(1,1); \ni.src='http://...'\n</code></pre>\n\n<p>And just returning some empty image from server. I think it should be reliable, script will block. BTW: nice to add timestamp to prevent caching.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I had a case in which I only needed to notify server side about the unload and didn't care about the response.</p>\n\n<p>If thats your case you can <a href=\"http://www.php.net/manual/en/function.ignore-user-abort.php\" rel=\"nofollow\">ignore_user_abort</a> and then you know it'll happen \"reliably\"</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I need a method to monitor user edit sessions, and one of the solutions I'm reviewing will have me using an <code>unload</code> event to send an ajax request to inform the server of the end of the edit session. (See: <a href=\"http://stackoverflow.com/questions/3530165/monitoring-user-sessions-to-prevent-editing-conflict\">http://stackoverflow.com/questions/3530165/monitoring-user-sessions-to-prevent-editing-conflict</a>)</p>\n\n<p>My (rather limited) reading on the <code>unload</code> event indicate that the codes attached to this handler has to run quickly, and as such is usually used for clearing objects to prevent memory leaks. </p>\n\n<p>My question is, can this work reliably enough for this purpose? </p>\n\n<p>PS. I know about the <code>async: false</code> option. </p>\n",
            "last_activity_date": 1404291183,
            "question_id": 3584288,
            "score": 18,
            "tags": [
                "javascript",
                "ajax",
                "events",
                "reliability"
            ],
            "title": "Can the unload Event be Used to Reliably fire ajax Request?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can make templateName a property and then work out what template to use based on the content. </p>\n\n<p>For example, this uses instanceof to set a template based on the type of object:</p>\n\n<pre><code>App.ItemView = Ember.View.extend({\n    templateName: function() {\n        if (this.get(\"content\") instanceof App.Foo) {\n            return \"foo-item\";\n        } else {\n            return \"bar-item\";\n        }\n    }.property().cacheable()\n});\n</code></pre>\n\n<p>Here's a fiddle with a working example of the above: <a href=\"http://jsfiddle.net/rlivsey/QWR6V/\">http://jsfiddle.net/rlivsey/QWR6V/</a></p>\n",
                    "is_accepted": true,
                    "score": 60
                },
                {
                    "body": "<p>Based on the solution of @rlivsey, I've added the functionality to change the template when a property changes, see <a href=\"http://jsfiddle.net/pangratz666/ux7Qa/\">http://jsfiddle.net/pangratz666/ux7Qa/</a></p>\n\n<pre><code>App.ItemView = Ember.View.extend({\n    templateName: function() {\n        var name = Ember.getPath(this, 'content.name');\n        return (name.indexOf('foo') !== -1) ? 'foo-item' : 'bar-item';\n    }.property('content.name').cacheable(),\n\n    _templateChanged: function() {\n        this.rerender();\n    }.observes('templateName')\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                }
            ],
            "body": "<p>I would like to store different objects in the same controller content array and render each one using an appropriate view template, but ideally the same view</p>\n\n<p>I am outputting a list objects using the code below. They are currently identical, but I would like to be able to use different ones</p>\n\n<pre><code>&lt;script type=\"text/x-handlebars\"&gt;\n  {{#each App.simpleRowController}}\n    {{view App.SimpleRowView class=\"simple-row\" contentBinding=\"this\"}}\n  {{/each}}\n&lt;/script&gt;\n</code></pre>\n\n<p>A cut down version of the view is below. The other functions I haven't included could be used an any of the objects, regardless of model. So I would ideally have one view (although I have read some articles about mixins that could help if not)</p>\n\n<pre><code>&lt;script&gt;\nApp.SimpleRowView = Em.View.extend({\n  templateName: 'simple-row-preview',\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>My first few tests into allowing different object types ended up with loads of conditions within 'simple-row-preview' - it looked terrible!</p>\n\n<p>Is there any way of dynamically controlling the templateName or view used while iterating over my content array?</p>\n\n<p>thanks!</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Thanks very much to the two respondents. The final code in use on the view is below. Some of my models are similar and I liked the idea of being able to switch between template (or a sort of 'state') in my App. </p>\n\n<pre><code>&lt;script&gt;\nApp.SimpleRowView = Em.View.extend({\n  templateName: function() {\n    return Em.getPath(this, 'content.template');\n  }.property('content.template').cacheable(),\n  _templateChanged: function() {\n    this.rerender();\n  }.observes('templateName'),\n  // etc.\n});\n&lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1365707814,
            "question_id": 9999064,
            "score": 17,
            "tags": [
                "javascript",
                "ember.js"
            ],
            "title": "ember.js - select view template by model type/object value"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p><a href=\"http://alastairc.ac/2010/03/detecting-touch-based-browsing/\" rel=\"nofollow\">http://alastairc.ac/2010/03/detecting-touch-based-browsing/</a></p>\n\n<pre><code>function isTouchDevice() {\n   var el = document.createElement('div');\n   el.setAttribute('ongesturestart', 'return;'); // or try \"ontouchstart\"\n   return typeof el.ongesturestart === \"function\";\n}\n</code></pre>\n\n<p>and here</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/2607248/optimize-website-for-touch-devices\">Optimize website for touch devices</a> and</li>\n<li><a href=\"http://stackoverflow.com/questions/3514784/best-way-to-detect-handheld-device-in-jquery\">What is the best way to detect a handheld device in jQuery?</a></li>\n<li><a href=\"http://stackoverflow.com/questions/4817029/whats-the-best-way-to-detect-a-touch-screen-device-using-javascript\">What&#39;s the best way to detect a &#39;touch screen&#39; device using JavaScript?</a></li>\n<li><a href=\"https://hacks.mozilla.org/2013/04/detecting-touch-its-the-why-not-the-how/\" rel=\"nofollow\">Mozilla.org Detecting touch: it\u2019s the \u2018why\u2019, not the \u2018how\u2019</a></li>\n</ul>\n\n<p>There may be detection in <a href=\"http://jquerymobile.com/\" rel=\"nofollow\">jquery for mobile</a> and <a href=\"http://jqtouch.com/\" rel=\"nofollow\">jtouch</a> </p>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p><a href=\"http://www.modernizr.com/\" rel=\"nofollow\">http://www.modernizr.com/</a> might also help.</p>\n\n<p>From here: <a href=\"http://stackoverflow.com/questions/4817029/whats-the-best-way-to-detect-a-touch-screen-device-using-javascript\">What&#39;s the best way to detect a &#39;touch screen&#39; device using JavaScript?</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Include <a href=\"http://www.modernizr.com/\">modernizer</a>, which is a tiny feature detection library. Then you can use something like below.</p>\n\n<pre><code>if (Modernizr.touch){\n   // bind to touchstart, touchmove, etc and watch `event.streamId`\n} else {\n   // bind to normal click, mousemove, etc\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Jqtouch is best option for creating and dealing with iphone Ipdad Web apps, there is many method including checking iphone , ipad , other mobile touch screens.</p>\n\n<p>A jQuery plugin for mobile web development on the iPhone, Android, iPod Touch, and other forward-thinking devices.</p>\n\n<p><a href=\"http://jqtouch.com/\" rel=\"nofollow\">http://jqtouch.com/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Check out this <a href=\"http://www.sitepoint.com/adapting-an-interface-for-touch-devices/\" rel=\"nofollow\">post</a>, it gives a really nice code snippet for what to do when touch devices are detected or what to do if touchstart event is called:</p>\n\n<pre><code>$(function(){\n  if(window.Touch) {\n    touch_detect.auto_detected();\n  } else {\n    document.ontouchstart = touch_detect.surface;\n  }\n}); // End loaded jQuery\nvar touch_detect = {\n  auto_detected: function(event){\n    /* add everything you want to do onLoad here (eg. activating hover controls) */\n    alert('this was auto detected');\n    activateTouchArea();\n  },\n  surface: function(event){\n    /* add everything you want to do ontouchstart here (eg. drag &amp; drop) - you can fire this in both places */\n    alert('this was detected by touching');\n    activateTouchArea();\n  }\n}; // touch_detect\nfunction activateTouchArea(){\n  /* make sure our screen doesn't scroll when we move the \"touchable area\" */\n  var element = document.getElementById('element_id');\n  element.addEventListener(\"touchstart\", touchStart, false);\n}\nfunction touchStart(event) {\n  /* modularize preventing the default behavior so we can use it again */\n  event.preventDefault();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><code>document.createEvent(\"TouchEvent\")</code> will not work on desktop-devices. So you can use it inside an if statement.</p>\n\n<p><strong>EDIT</strong> This method could produce errors on non-touch devices. I would prefer checking for <code>ontouchstart</code>  in <code>document.documentElement</code></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>if (\"ontouchstart\" in document.documentElement)\n{\n  alert(\"It's a touch screen device.\");\n}\nelse\n{\n alert(\"Others devices\");\n}\n</code></pre>\n\n<p>most simple code i found after browsing a lot here and there</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>If you use <a href=\"http://modernizr.com/\" rel=\"nofollow\">Modernizr</a>, it is very easy to use <code>Modernizr.touch</code> as mentioned earlier.</p>\n\n<p>However, I prefer using a combination of <code>Modernizr.touch</code> and user agent testing, just to be safe.</p>\n\n<pre><code>var deviceAgent = navigator.userAgent.toLowerCase();\n\nvar isTouchDevice = Modernizr.touch || \n(deviceAgent.match(/(iphone|ipod|ipad)/) ||\ndeviceAgent.match(/(android)/)  || \ndeviceAgent.match(/(iemobile)/) || \ndeviceAgent.match(/iphone/i) || \ndeviceAgent.match(/ipad/i) || \ndeviceAgent.match(/ipod/i) || \ndeviceAgent.match(/blackberry/i) || \ndeviceAgent.match(/bada/i));\n\nif (isTouchDevice) {\n        //Do something touchy\n    } else {\n        //Can't touch this\n    }\n</code></pre>\n\n<p>If you don't use Modernizr, you can simply replace the <code>Modernizr.touch</code> function above with <code>('ontouchstart' in document.documentElement)</code></p>\n\n<p>Also note that testing the user agent <code>iemobile</code> will give you broader range of detected Microsoft mobile devices than <code>Windows Phone</code>.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/6262584/how-to-determine-if-the-client-is-a-touch-device\">Also see this SO question</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>is there any nice and clean method or trick to find out if the user is on a touch-device or not? </p>\n\n<p>I know there is stuff like\n<code>var isiPad = navigator.userAgent.match(/iPad/i) != null;</code></p>\n\n<p>but I simply wonder if there is a trick to generally determine if the user is on Touch device?\nBecause there are a lot more touch devices and tablets out there then just iPads.</p>\n\n<p>thank you.</p>\n",
            "last_activity_date": 1393766243,
            "question_id": 6262584,
            "score": 17,
            "tags": [
                "javascript",
                "jquery",
                "touch",
                "tablet"
            ],
            "title": "How to determine if the client is a touch device"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>First you need a handle on a file. You need to get it somehow either through ajax or through server-side behaviour.</p>\n\n<p>You need to tell use where the file is. How you plan to get it and what serverside code your using.</p>\n\n<p>Once you have you can use <code>JSON.parse(string)</code> on it. You can include the <a href=\"https://github.com/douglascrockford/JSON-js\">json2.js</a> file if you need to support older browsers.</p>\n\n<p>If you use jQuery you can also try <a href=\"http://api.jquery.com/jQuery.parseJSON/\"><code>jQuery.parseJSON</code></a> for parsing instead.</p>\n\n<p>An option for remotely getting json would be using <a href=\"http://api.jquery.com/jQuery.getJSON/\"><code>jQuery.getJSON</code></a></p>\n\n<p>To load it you can either use <a href=\"http://en.wikipedia.org/wiki/JSON#JSONP\">JSONP</a> or some kind of library with ajax functionality like <a href=\"http://api.jquery.com/jQuery.ajax/\"><code>jQuery.ajax</code></a> or <a href=\"http://www.prototypejs.org/learn/introduction-to-ajax\"><code>Ajax.Request</code></a>. It can be done in raw javascript but that's just ugly and re-inventing the wheel.</p>\n\n<pre><code>$.getJSON(\"document.json\", function(data) {\n    console.log(data);\n    // data is a JavaScript object now. Handle it as such\n\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 38
                }
            ],
            "body": "<p>First off, I am a newcomer to the Javascript realm. I have a JSON file, such as the following:</p>\n\n<pre><code>{\"markers\": [\n  {\n   \"abbreviation\": \"SPA\",\n   \"latitude\":-13.32,\n   \"longitude\":-89.99,\n   \"markerImage\": \"flags/us.png\",\n   \"information\": \"South Pole\",\n  },\n\n.... lots more of these in between ....\n\n{\n   \"abbreviation\": \"ALE\",\n   \"latitude\":-62.5,\n   \"longitude\":82.5,\n   \"markerImage\": \"flags/us.png\",\n   \"information\": \"Alert\",\n  },\n] }\n</code></pre>\n\n<p>I have been doing a lot of research as to how I can bring this file back into my script only to find ways to encode strings into JSON files. Basically, I want to read this file through javascript, something like this... (I know this isn't how you code)</p>\n\n<pre><code>object data = filename.json  \ndocument.write(data.markers.abbreviation[1])\n</code></pre>\n\n<p>Can someone please give me clear instruction on how to go about doing this. Remember, I am a newcomer and need specifics since I'm not up to par with the javascript jargon.</p>\n",
            "last_activity_date": 1337682360,
            "question_id": 4828207,
            "score": 17,
            "tags": [
                "javascript",
                "json"
            ],
            "title": "How to use a JSON file in javascript"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>I would just use a try-catch</p>\n\n<pre><code>var x = 0;\n\ntry\n{\n    x = v;\n}\ncatch(err)\n{\n    x = 10;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If <code>v</code> evaluates to false (for example, <code>0</code>, <code>null</code>, <code>false</code>) then it won't work. You can manually check for undefined:</p>\n\n<pre><code>var x = v !== undefined ? v : 10;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>That Opera article gives a poor description of what is happening. </p>\n\n<p>While it is true that <code>x</code> will get the value of <code>10</code> if <code>v</code> is <code>undefined</code>. It is also true that <code>x</code> will be <code>10</code> if <code>v</code> has <em>any</em> \"falsey\" value.</p>\n\n<p>The \"falsey\" values in javascript are:</p>\n\n<ul>\n<li><code>0</code></li>\n<li><code>null</code></li>\n<li><code>undefined</code></li>\n<li><code>NaN</code></li>\n<li><code>\"\"</code> (empty string)</li>\n<li><code>false</code></li>\n</ul>\n\n<p>So you can see that there are many cases in which <code>x</code> will be set to <code>10</code> besides just <code>undefined</code>.</p>\n\n<p><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Operators/Logical_Operators\">Here's some documentation</a> detailing the logical operators. (This one is the \"logical OR\".) It gives several examples of its usage for such an assignment.</p>\n\n<p>Quick example: <a href=\"http://jsfiddle.net/V76W6/\">http://jsfiddle.net/V76W6/</a></p>\n\n<pre><code>var v = 0;\n\nvar x = v || 10;\n\nalert( x ); // alerts 10\n</code></pre>\n\n<p>Assign <code>v</code> any of the falsey values that I indicated above, and you'll get the same result.</p>\n",
                    "is_accepted": true,
                    "score": 39
                },
                {
                    "body": "<p>Here is how to get it working:</p>\n\n<pre><code>var v;         //declare v as undefined\n//  v = 5;     //if uncommented x will be 5   \n\nvar x = v || 10;\nalert(x);      //output: 10\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/uLLtu/1/\" rel=\"nofollow\">http://jsfiddle.net/uLLtu/1/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var x = v || 10;\n</code></pre>\n\n<p>That operator (the <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Operators/Logical_Operators\" rel=\"nofollow\">\"logical\" or \"short-circuit\" OR operator</a>) would normally check the value of <code>v</code>, and if it is a \"falsy\" value (<em>i.e.</em> it would fail as a condition used in an if statement), <code>10</code> becomes the value of <code>x</code>, otherwise <code>v</code> does (and if <code>10</code> were a function, it would never be executed).</p>\n\n<p><code>undefined</code>, <code>null</code>, and <code>0</code> are all examples of falsy values that a variable can hold (yes, even the first one), and the operator (or if statement) acts accordingly. In contrast, all objects and arrays (not including null) are \"truthy\" values, which allows for such things as this (used in the Google Analytics tracker code):</p>\n\n<pre><code>var _gaq = _gaq || []; // Makes a new array _gaq if it is not already there\n</code></pre>\n\n<p>However, if the referenced variable is <strong>not even declared</strong> anywhere within the scope chain, then a JavaScript exception will occur.</p>\n\n<p>One way to avoid this is by declaring all your global variables from the start:</p>\n\n<pre><code>var iAmAGlobalVariable;  // Holds the value undefined by default\n</code></pre>\n\n<p>If this is not possible, you should use the <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Operators/Special/typeof\" rel=\"nofollow\"><code>typeof</code> operator</a>. It does not attempt to evaluate its operand, and thus an exception will not occur:</p>\n\n<pre><code>var x;\nif(typeof v != 'undefined' &amp;&amp; v) {\n    x = v;\n} else {\n    x = 10;\n}\n</code></pre>\n\n<p>Or even better, if you know that the variable would be a global variable, you can treat it as a property of the global (window) object:</p>\n\n<pre><code>var x = window.v || 10;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I would use triple equals with ternary in a function for this.</p>\n\n<pre><code>function myTest(x){\n return x === undefined ? true: false;\n}    \n</code></pre>\n\n<p>Only returns true if x is undefined</p>\n\n<p>See\n(<a href=\"http://www.impressivewebs.com/why-use-triple-equals-javascipt/\" rel=\"nofollow\">http://www.impressivewebs.com/why-use-triple-equals-javascipt/</a>)\nand\n(<a href=\"http://jsfiddle.net/V76W6/\" rel=\"nofollow\">http://jsfiddle.net/V76W6/</a>)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have been doing some reading lately one article I read was from Opera.</p>\n\n<p><a href=\"http://dev.opera.com/articles/view/javascript-best-practices/\">http://dev.opera.com/articles/view/javascript-best-practices/</a></p>\n\n<p>In that article they write this:</p>\n\n<blockquote>\n  <p>Another common situation in JavaScript\n  is providing a preset value for a\n  variable if it is not defined, like\n  so:</p>\n</blockquote>\n\n<pre><code>if(v){\n  var x = v;\n} else {\n  var x = 10;\n}\n</code></pre>\n\n<blockquote>\n  <p>The shortcut notation for this is the\n  double pipe character:</p>\n</blockquote>\n\n<pre><code>var x = v || 10;\n</code></pre>\n\n<p>For some reason I cant get this to work for me. Is it really possible to check to see if v is defined, if not x = 10?</p>\n\n<p>--Thanks.\nBryan</p>\n",
            "last_activity_date": 1385042441,
            "question_id": 4576867,
            "score": 17,
            "tags": [
                "javascript"
            ],
            "title": "Javascript || or operator with a undefinded variable"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><code>scrollHeight</code> should be the total height of content. <code>scrollTop</code> specifies the pixel offset into that content to be displayed at the top of the element's client area.</p>\n\n<p>So you really want (still using jQuery):</p>\n\n<pre><code>$(\"#thediv\").each( function() \n{\n   // certain browsers have a bug such that scrollHeight is too small\n   // when content does not fill the client area of the element\n   var scrollHeight = Math.max(this.scrollHeight, this.clientHeight);\n   this.scrollTop = scrollHeight - this.clientHeight;\n});\n</code></pre>\n\n<p>...which will set the scroll offset to the last <code>clientHeight</code> worth of content.</p>\n",
                    "is_accepted": true,
                    "score": 30
                },
                {
                    "body": "<p>Using a loop to iterate over a jQuery of one element is quite inefficient. When selecting an ID, you can just retrieve the first and unique element of the jQuery using get() or the [] notation.</p>\n\n<pre><code>var div = $(\"#thediv\")[0];\n\n// certain browsers have a bug such that scrollHeight is too small\n// when content does not fill the client area of the element\nvar scrollHeight = Math.max(div.scrollHeight, div.clientHeight);\ndiv.scrollTop = scrollHeight - div.clientHeight;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p><a href=\"https://developer.mozilla.org/en/DOM/element.scrollIntoView\"><code>scrollIntoView</code></a></p>\n\n<blockquote>\n  <p>The <strong>scrollIntoView</strong> method scrolls the element into view. </p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<pre><code>$(\"#thediv\").scrollTop($(\"#thediv\")[0].scrollHeight);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I had a div wrapping 3 divs that were floating left, and whose contents were being resized.  It helps to turn funky-colored borders/background on for the div-wrapper when you try to resolve this.  The problem was that the resized div-content was overflowing outside the div-wrapper (and bled to underneath the area of content below the wrapper).  </p>\n\n<p>Resolved by using @Shog9's answer above.  As applied to my situation, this was the HTML layout:</p>\n\n<pre><code>&lt;div id=\"div-wrapper\"&gt;\n  &lt;div class=\"left-div\"&gt;&lt;/div&gt;\n  &lt;div id=\"div-content\" class=\"middle-div\"&gt;\n  Some short/sweet content that will be elongated by Jquery.\n  &lt;/div&gt;\n  &lt;div class=\"right-div\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This was the my jQuery to resize the div-wrapper:</p>\n\n<pre><code>&lt;script&gt;\n$(\"#div-content\").text(\"a very long string of text that will overflow beyond the width/height of the div-content\");\n//now I need to resize the div...\nvar contentHeight = $('#div-content').prop('scrollHeight')\n$(\"#div-wrapper\").height(contentHeight);\n&lt;/script&gt;\n</code></pre>\n\n<p>To note, $('#div-content').prop('scrollHeight') produces the height that the wrapper needs to resize to.  Also I am unaware of any other way to obtain the scrollHeight an actual jQuery function; Neither of $('#div-content').scrollTop() and $('#div-content').height would produce the real content-height values.  Hope this helps someone out there!</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I've got a div that uses overflow:auto to keep the contents inside the div as it is resized and dragged around the page. I'm using some ajax to retrieve lines of text from the server, then append them to the end of the div, so the content is growing downwards. Every time this happens, I'd like to use JS to scroll the div to the bottom so the most recently added content is visible, similar to the way a chat room or command line console would work.</p>\n\n<p>So far I've been using this snippet to do it (I'm also using jQuery, hence the $() function):</p>\n\n<pre><code>$(\"#thediv\").scrollTop = $(\"#thediv\").scrollHeight;\n</code></pre>\n\n<p>However it's been giving me inconsistent results. Sometimes it works, sometimes not, and it completely ceases to work if the user ever resizes the div or moves the scroll bar manually.</p>\n\n<p>The target browser is Firefox 3, and it's being deployed in a controlled environment so it doesn't need to work in IE at all.</p>\n\n<p>Any ideas guys? This one's got me stumped. Thanks!</p>\n",
            "last_activity_date": 1414690656,
            "question_id": 13362,
            "score": 17,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "html",
                "scroll"
            ],
            "title": "Scrolling Overflowed DIVs with JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>It's because you're telling jQuery that you're expecting <a href=\"http://en.wikipedia.org/wiki/JSONP#JSONP\">JSON-P</a>, not <a href=\"http://json.org\">JSON</a>, back. But the return is JSON. JSON-P is horribly mis-named, named in a way that causes no end of confusion. It's a <em>convention</em> for conveying data to a function via a <code>script</code> tag. In contrast, JSON is a data format.</p>\n\n<p>Example of JSON:</p>\n\n<pre><code>{\"foo\": \"bar\"}\n</code></pre>\n\n<p>Example of JSON-P:</p>\n\n<pre><code>yourCallback({\"foo\": \"bar\"});\n</code></pre>\n\n<p>JSON-P works because JSON is a subset of JavaScript literal notation. JSON-P is nothing more than a promise that if you tell the service you're calling what function name to call back (usually by putting a <code>callback</code> parameter in the request), the response will be in the form of <code>functionname(data)</code>, where <code>data</code> will be \"JSON\" (or more usually, a JavaScript literal, which may not be the <em>quite</em> the same thing). You're meant to use a JSON-P URL in a <code>script</code> tag's <code>src</code> (which jQuery does for you), to get around the <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\">Same Origin Policy</a> which prevents ajax requests from requesting data from origins other than the document they originate in (unless the server supports <a href=\"http://www.w3.org/TR/access-control/\">CORS</a> and your browser does as well).</p>\n",
                    "is_accepted": true,
                    "score": 28
                },
                {
                    "body": "<p>in case the server does not support the <code>cross domain</code> request you can:</p>\n\n<ol>\n<li>create a server side proxy</li>\n<li>do ajax request to your proxy which in turn will get <code>json</code> from the service, and</li>\n<li>return the response and then you can manipulate it ...</li>\n</ol>\n\n<p>in php you can do it like this</p>\n\n<p>proxy.php contains the following code</p>\n\n<pre><code>&lt;?php\n\nif(isset($_POST['geturl']) and !empty($_POST['geturl'])) {\n$data = file_get_contents($_POST['geturl']);\nprint $data;\n}\n\n?&gt;\n</code></pre>\n\n<p>and you do the ajax request to you proxy like this</p>\n\n<pre><code>&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(function(){\n$(\"#btn\").click(function(){\nalert(\"abt to do ajax\");\n\n$.ajax({\nurl:'proxy.php',\ntype:\"POST\",\ndata:{geturl:'http://api-v3.deezer.com/1.0/search/album/?q=beethoven&amp;index=2&amp;nb_items=2&amp;output=json'},\nsuccess:function(data){\nalert(\"success\");\nalert(data);\n}    \n});    \n});   \n});\n&lt;/script&gt;\n</code></pre>\n\n<p>tried and tested i get the json response back...</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>At last i have found the solution. First of all, the webmethods in a webservice or page doesn't work for me, it always returns xml, in local works fine but in a service provider like godaddy it doesn't.</p>\n\n<p>My solution was to create an <code>.ahsx</code>, a handler in .net and wrap the content with the jquery callback function that pass the jsonp, and it works .</p>\n\n<pre><code>[System.Web.Script.Services.ScriptService]\npublic class HandlerExterno : IHttpHandler\n{\n    string respuesta = string.Empty;\n\n    public void ProcessRequest ( HttpContext context )\n    {\n\n\n       string  calls=  context.Request.QueryString[\"callback\"].ToString();\n\n         respuesta = ObtenerRespuesta();\n        context.Response.ContentType = \"application/json; charset=utf-8\";\n        context.Response.Write( calls +\"(\"+    respuesta +\")\");\n    }\n\n    public bool IsReusable\n    {\n        get\n        {\n            return false;\n        }\n    }\n\n    [System.Web.Services.WebMethod]\n    private string ObtenerRespuesta ()\n    {\n\n\n\n        System.Web.Script.Serialization.JavaScriptSerializer j = new System.Web.Script.Serialization.JavaScriptSerializer();\n\n\n        Employee[] e = new Employee[2];\n        e[0] = new Employee();\n        e[0].Name = \"Ajay Singh\";\n        e[0].Company = \"Birlasoft Ltd.\";\n        e[0].Address = \"LosAngeles California\";\n        e[0].Phone = \"1204675\";\n        e[0].Country = \"US\";\n        e[1] = new Employee();\n        e[1].Name = \"Ajay Singh\";\n        e[1].Company = \"Birlasoft Ltd.\";\n        e[1].Address = \"D-195 Sector Noida\";\n        e[1].Phone = \"1204675\";\n        e[1].Country = \"India\";\n\n        respuesta = j.Serialize(e).ToString();\n        return respuesta;\n\n    }\n\n}//class\n\npublic class Employee\n{\n    public string Name\n    {\n        get;\n        set;\n    }\n    public string Company\n    {\n        get;\n        set;\n    }\n    public string Address\n    {\n        get;\n        set;\n    }\n    public string Phone\n    {\n        get;\n        set;\n    }\n    public string Country\n    {\n        get;\n        set;\n    }\n}\n</code></pre>\n\n<p>And here is the call with jquery: </p>\n\n<pre><code>$(document).ready(function () {\n    $.ajax({\n        // url: \"http://www.wookmark.com/api/json\",\n        url: 'http://www.gjgsoftware.com/handlerexterno.ashx',\n        dataType: \"jsonp\",\n\n\n        success: function (data) {\n            alert(data[0].Name);\n        },\n        error: function (data, status, errorThrown) {\n            $('p').html(status + \"&gt;&gt;  \" + errorThrown);\n        }\n    });\n});\n</code></pre>\n\n<p>and works perfectly</p>\n\n<p>Gabriel</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>when i try to get JSON from <a href=\"http://api-v3.deezer.com/1.0/search/album/?q=beethoven&amp;index=2&amp;nb_items=2&amp;output=json\">http://api-v3.deezer.com/1.0/search/album/?q=beethoven&amp;index=2&amp;nb_items=2&amp;output=json</a> with:</p>\n\n<pre><code>(jQuery 1.6.2)\n\n$.ajax({\n    type: \"GET\",\n    url: url,\n    dataType: \"jsonp\",\n    success: function (result) {\n        alert(\"SUCCESS!!!\");\n    },\n    error: function (xhr, ajaxOptions, thrownError) {\n        alert(xhr.statusText);\n        alert(xhr.responseText);\n        alert(xhr.status);\n        alert(thrownError);\n    }\n});\n</code></pre>\n\n<p>I get: <code>parsererror; 200; undefined; jquery162******************** was not called</code></p>\n\n<p>but with the JSON from <a href=\"http://search.twitter.com/search.json?q=beethoven&amp;callback=?&amp;count=5\">http://search.twitter.com/search.json?q=beethoven&amp;callback=?&amp;count=5</a> works fine.\nBoth are valid JSON formats. So what is this error about?</p>\n\n<p><strong>[UPDATE]</strong></p>\n\n<p>@3ngima, i have implemented this in asp.net, it works fine:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: \"WebService.asmx/GetTestData\",\n    data: \"{}\",\n    contentType: \"application/json; charset=utf-8\",\n    dataType: \"json\",\n    success: function (result) {\n        alert(result.d);\n    }\n});\n</code></pre>\n\n<p>WebService.asmx:</p>\n\n<pre><code>[WebMethod]\npublic string GetTestData()\n{\n    try\n    {\n        var req = System.Net.HttpWebRequest.Create(\"http://api-v3.deezer.com/1.0/search/album/?q=beethoven&amp;index=2&amp;nb_items=2&amp;output=json\");\n        using (var resp = req.GetResponse())\n        using (var stream = resp.GetResponseStream())\n        using (var reader = new System.IO.StreamReader(stream))\n        return reader.ReadToEnd();\n    }\n    catch (Exception) { return null; }\n}\n</code></pre>\n",
            "last_activity_date": 1397691973,
            "question_id": 6643838,
            "score": 16,
            "tags": [
                "javascript",
                "jquery",
                "json",
                "parse-error"
            ],
            "title": "jQuery.ajax() parsererror"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>JSON has no functions as data types. You can only serialize strings, numbers, objects and arrays (and <code>null</code>) <em>(edit)</em>  and booleans :)</p>\n\n<p>You could create your own <code>toJson</code> method, only passing the data that really has to be serialized:</p>\n\n<pre><code>Person.prototype.toJson = function() {\n    return JSON.stringify({age: this.age});\n};\n</code></pre>\n\n<p>Similar for deserializing: </p>\n\n<pre><code>Person.fromJson = function(str) {\n    var data = JSON.parse(json);\n    return new Person(data.age);\n};\n</code></pre>\n\n<p>The usage would be:</p>\n\n<pre><code>var serialize = p1.toJson();\nvar _p1 = Person.fromJson(serialize);\nalert(\"Is old: \" + _p1.isOld());\n</code></pre>\n\n<hr>\n\n<p>To reduce the amount of work, you could consider to store all the data that needs to be serialized in a special \"data\" property for each <code>Person</code> instance. For example:</p>\n\n<pre><code>function Person(age) {\n    this.data = {\n        age: age\n    };\n    this.isOld = function (){\n        return this.data.age &gt; 60 ? true : false;\n    }\n}\n</code></pre>\n\n<p>then serializing and deserializing is merely calling <code>JSON.stringify(this.data)</code> and setting the data of an instance would be <code>instance.data = JSON.parse(json)</code>.</p>\n\n<p>This would keep the <code>toJson</code> and <code>fromJson</code> methods simple but you'd have to adjust your other functions.</p>\n\n<hr>\n\n<p>Side note:</p>\n\n<p>You should add the <code>isOld</code> method to the prototype of the function:</p>\n\n<pre><code>Person.prototype.isOld = function() {}\n</code></pre>\n\n<p>Otherwise, every instance has it's own instance of that function which also increases memory.</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>The browser's native JSON API may not give you back your idOld function after you call JSON.stringify, <em>however</em>, if can stringify your JSON yourself (maybe use <a href=\"https://github.com/douglascrockford/JSON-js\" rel=\"nofollow\">Crockford's json2.js</a> instead of browser's API), then if you have a string of JSON e.g.</p>\n\n<pre><code>var person_json = \"{ \\\"age:\\\" : 20, \\\"isOld:\\\": false, isOld: function() { return this.age &gt; 60; } }\";\n</code></pre>\n\n<p>then you can call </p>\n\n<pre><code>eval(\"(\" + person + \")\") \n</code></pre>\n\n<p>, and you will get back your function in the json object.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Hello Guyz if you wish to know about serializing with JS you can also refer \n<a href=\"http://www.formget.com/javascript-serialize/\" rel=\"nofollow\">http://www.formget.com/javascript-serialize/</a></p>\n\n<p>Hope you will like it</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I wrote <strong>serialijse</strong> because I faced the same problem as you.</p>\n\n<p>you can find it at <a href=\"https://github.com/erossignon/serialijse\" rel=\"nofollow\">https://github.com/erossignon/serialijse</a></p>\n\n<p>It can be used in nodejs or in a browser and can serve to serialize and deserialize a complex set of objects from one context (nodejs) to the other (browser) or vice-versa.</p>\n\n<pre><code>var s = require(\"serialijse\");\n\n\nvar assert = require(\"assert\");\n\n\n// testing serialization of a simple javascript object with date\nfunction testing_javascript_serialization_object_with_date() {\n\n    var o = {\n        date: new Date(),\n        name: \"foo\"\n    };\n    console.log(o.name, o.date.toISOString());\n\n    // JSON will fail as JSON doesn't preserve dates\n    try {\n        var jstr = JSON.stringify(o);\n        var jo = JSON.parse(jstr);\n        console.log(jo.name, jo.date.toISOString());\n    } catch (err) {\n        console.log(\" JSON has failed to preserve Date during stringify/parse \");\n        console.log(\"  and has generated the following error message\", err.message);\n    }\n    console.log(\"\");\n\n\n\n    var str = s.serialize(o);\n    var so = s.deserialize(str);\n    console.log(\" However Serialijse knows how to preserve date during serialization/deserialization :\");\n    console.log(so.name, so.date.toISOString());\n    console.log(\"\");\n}\ntesting_javascript_serialization_object_with_date();\n\n\n// serializing a instance of a class\nfunction testing_javascript_serialization_instance_of_a_class() {\n\n    function Person() {\n        this.firstName = \"Joe\";\n        this.lastName = \"Doe\";\n        this.age = 42;\n    }\n\n    Person.prototype.fullName = function () {\n        return this.firstName + \" \" + this.lastName;\n    };\n\n\n    // testing serialization using  JSON.stringify/JSON.parse\n    var o = new Person();\n    console.log(o.fullName(), \" age=\", o.age);\n\n    try {\n        var jstr = JSON.stringify(o);\n        var jo = JSON.parse(jstr);\n        console.log(jo.fullName(), \" age=\", jo.age);\n\n    } catch (err) {\n        console.log(\" JSON has failed to preserve the object class \");\n        console.log(\"  and has generated the following error message\", err.message);\n    }\n    console.log(\"\");\n\n    // now testing serialization using serialijse  serialize/deserialize\n    s.declarePersistable(Person);\n    var str = s.serialize(o);\n    var so = s.deserialize(str);\n\n    console.log(\" However Serialijse knows how to preserve object classes serialization/deserialization :\");\n    console.log(so.fullName(), \" age=\", so.age);\n}\ntesting_javascript_serialization_instance_of_a_class();\n\n\n// serializing an object with cyclic dependencies\nfunction testing_javascript_serialization_objects_with_cyclic_dependencies() {\n\n    var Mary = { name: \"Mary\", friends: [] };\n    var Bob = { name: \"Bob\", friends: [] };\n\n    Mary.friends.push(Bob);\n    Bob.friends.push(Mary);\n\n    var group = [ Mary, Bob];\n    console.log(group);\n\n    // testing serialization using  JSON.stringify/JSON.parse\n    try {\n        var jstr = JSON.stringify(group);\n        var jo = JSON.parse(jstr);\n        console.log(jo);\n\n    } catch (err) {\n        console.log(\" JSON has failed to manage object with cyclic deps\");\n        console.log(\"  and has generated the following error message\", err.message);\n    }\n\n    // now testing serialization using serialijse  serialize/deserialize\n    var str = s.serialize(group);\n    var so = s.deserialize(str);\n    console.log(\" However Serialijse knows to manage object with cyclic deps !\");\n    console.log(so);\n    assert(so[0].friends[0] == so[1]); // Mary's friend is Bob\n}\ntesting_javascript_serialization_objects_with_cyclic_dependencies();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have many js objects in my application, something like:</p>\n\n<pre><code>function Person(age) {\n    this.age = age;\n    this.isOld = function (){\n        return this.age &gt; 60 ? true : false;\n    }\n}\n// before serialize, ok\nvar p1 = new Person(77);\nalert(\"Is old: \" + p1.isOld());\n\n// after, got error Object #&lt;Object&gt; has no method 'isOld'\nvar serialize = JSON.stringify(p1);\nvar _p1 = JSON.parse(serialize);\nalert(\"Is old: \" + _p1.isOld());\n</code></pre>\n\n<p>See in <a href=\"http://jsfiddle.net/8FQzm/1/\">jsfiddle</a>.</p>\n\n<p>My question is: is there a best pratice/pattern/tip to recover my object in same type it was before serialization? (instances of class Person, in this case)</p>\n\n<hr>\n\n<p>Details: In my \"real world\" application, I have a complex structure (a tree, that may have different types). I'm using JSON to serialize in localStorage HTML5 object. </p>\n\n<p>Thanks a lot!</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Requirements that a have:</p>\n\n<ul>\n<li>Optimize disk usage: I have a big tree of objects in memory. So, I don't want to store functions.</li>\n<li>Solution can use jQuery and another lib to serialize/unserialize.</li>\n</ul>\n\n<p>Note: you're so fast guys, thanks again :)</p>\n",
            "last_activity_date": 1414131505,
            "question_id": 6487699,
            "score": 16,
            "tags": [
                "javascript",
                "serialization",
                "local-storage",
                "jsonserializer"
            ],
            "title": "Best way to serialize/unserialize objects in javascript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I think <a href=\"http://code.google.com/p/svgweb/\">SVGWeb</a> is the way to go, even if it is based on Flash as VML is far from being  fast enough for lots of applications.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p><a href=\"http://code.google.com/p/svgweb/\">Google's SVG Web</a> does this.  According to the project website:</p>\n\n<blockquote>\n  <p>SVG Web is a JavaScript library which\n  provides SVG support on many browsers,\n  including Internet Explorer, Firefox,\n  and Safari. Using the library plus\n  native SVG support you can instantly\n  target ~95% of the existing installed\n  web base.</p>\n</blockquote>\n\n<p>Whilst it's described as a JavaScript library it also requires Flash 9+.  This isn't usually a problem, but if you're in a corporate environment with old Flash or no Flash on the workstations it's not going to work.</p>\n\n<p>Also, it is still in Alpha which could be a problem, depending on what your project is.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>Adobe provides scripts to automatically detect, install, and redirect you back to your original site:</p>\n\n<p><a href=\"http://support.adobe.com/devsup/devsup.nsf/docs/51780.htm\" rel=\"nofollow\">http://support.adobe.com/devsup/devsup.nsf/docs/51780.htm</a></p>\n\n<p><a href=\"http://www.adobe.com/svg/workflow/autoinstall.html\" rel=\"nofollow\">http://www.adobe.com/svg/workflow/autoinstall.html</a></p>\n\n<p>I have been using this fairly successfully on my site.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The <a href=\"http://raphaeljs.com/\">Rapha\u00ebl\u2014JavaScript Library</a> can help you out there.</p>\n\n<p>Rapha\u00ebl uses the SVG W3C Recommendation and VML as a base for creating graphics and supports Firefox 3.0+, Safari 3.0+, Opera 9.5+ and Internet Explorer 6.0+. </p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>There are two more js-libraries which use vml to render svgs in IE:</p>\n\n<ul>\n<li><a href=\"http://www.amplesdk.com/\">Ample SDK</a> (where it should be possible to easily integrate existing svg files)</li>\n<li><a href=\"http://www.dojotoolkit.org/book/dojo-book-0-9/part-5-dojox/dojox-gfx\">DojoX GFX</a> from the Dojo Toolkit</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>A more low tech solution would be to use something like svg_alike (insert conflict of interest notification here :)). It checks for the SVG support, then if it doesn't find it it replaces all SVG images with PNGs. </p>\n\n<p><a href=\"https://github.com/forwardadvance/svg_alike\" rel=\"nofollow\">https://github.com/forwardadvance/svg_alike</a></p>\n\n<p>You lose the advantages of smooth vector zooming, and retina support, but IE8 users are unlikely to make use of these features anyway. </p>\n\n<p>The advantage is that you don't have to convert your images into JavaScript. I think it provides 80% of the value for 5% of the work.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Does anybody know of a comprehensive library to make SVG work with IE (7 and 8 in particular)?</p>\n\n<p>I wanted something Javascript which could be included in my web page and which would silently convert all my SVG to VML in a fashion similar to what excanvas does for Canvas.</p>\n",
            "last_activity_date": 1384866433,
            "question_id": 1427051,
            "score": 16,
            "tags": [
                "javascript",
                "html",
                "internet-explorer",
                "canvas",
                "svg"
            ],
            "title": "How to make SVG work with IE?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>This is working for sure in Firefox 4 on Ubuntu Linux.\n<a href=\"http://javascript.internet.com/forms/validate-date.html\" rel=\"nofollow\">http://javascript.internet.com/forms/validate-date.html</a>\nIt validates the input and if possible it correts it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It appears to be working fine for mm/dd/yyyy format dates, example:</p>\n\n<p><a href=\"http://jsfiddle.net/niklasvh/xfrLm/\" rel=\"nofollow\">http://jsfiddle.net/niklasvh/xfrLm/</a></p>\n\n<p>The only problem I had with your code was the fact that:</p>\n\n<pre><code>var ExpiryDate = document.getElementById(' ExpiryDate').value;\n</code></pre>\n\n<p>Had a space inside the brackets, before the element ID. Changed it to:</p>\n\n<pre><code>var ExpiryDate = document.getElementById('ExpiryDate').value;\n</code></pre>\n\n<p>Without any further details regarding the type of data that isn't working, there isn't much else to give input on.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I think Niklas has the right answer to your problem. Besides that, I think the following date validation function is a little bit easier to read:</p>\n\n<pre><code>// Validates that the input string is a valid date formatted as \"mm/dd/yyyy\"\nfunction isValidDate(dateString)\n{\n    // First check for the pattern\n    if(!/^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/.test(dateString))\n        return false;\n\n    // Parse the date parts to integers\n    var parts = dateString.split(\"/\");\n    var day = parseInt(parts[1], 10);\n    var month = parseInt(parts[0], 10);\n    var year = parseInt(parts[2], 10);\n\n    // Check the ranges of month and year\n    if(year &lt; 1000 || year &gt; 3000 || month == 0 || month &gt; 12)\n        return false;\n\n    var monthLength = [ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];\n\n    // Adjust for leap years\n    if(year % 400 == 0 || (year % 100 != 0 &amp;&amp; year % 4 == 0))\n        monthLength[1] = 29;\n\n    // Check the range of the day\n    return day &gt; 0 &amp;&amp; day &lt;= monthLength[month - 1];\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<p>Use the following regular expression to validate:</p>\n\n<pre><code>var date_regex = /^(0[1-9]|1[0-2])\\/(0[1-9]|1\\d|2\\d|3[01])\\/(19|20)\\d{2}$/ ;\nif(!(date_regex.test(testDate)))\n{\nreturn false;\n}\n</code></pre>\n\n<p>This is working for me for MM/dd/yyyy.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>All credits go to elian-ebbing</p>\n\n<p>Just for the lazy ones here I also provide the customized the function for the format <strong>yyyy-mm-dd</strong></p>\n\n<pre><code>function isValidDate(dateString)\n{\n    // First check for the pattern\n    var regex_date = /^\\d{4}\\-\\d{1,2}\\-\\d{1,2}$/;\n\n    if(!regex_date.test(dateString))\n    {\n        return false;\n    }\n\n    // Parse the date parts to integers\n    var parts   = dateString.split(\"-\");\n    var day     = parseInt(parts[2], 10);\n    var month   = parseInt(parts[1], 10);\n    var year    = parseInt(parts[0], 10);\n\n    // Check the ranges of month and year\n    if(year &lt; 1000 || year &gt; 3000 || month == 0 || month &gt; 12)\n    {\n        return false;\n    }\n\n    var monthLength = [ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];\n\n    // Adjust for leap years\n    if(year % 400 == 0 || (year % 100 != 0 &amp;&amp; year % 4 == 0))\n    {\n        monthLength[1] = 29;\n    }\n\n    // Check the range of the day\n    return day &gt; 0 &amp;&amp; day &lt;= monthLength[month - 1];\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Find in the below code which enables to perform the date validation for any of the supplied format to validate start/from and end/to dates. There could be some better approaches but have come up with this. <strong>Note supplied date format and date string go hand in hand.</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function validate() {\n\n        var format = 'yyyy-MM-dd';\n\n        if(isAfterCurrentDate(document.getElementById('start').value, format)) {\n            alert('Date is after the current date.');\n        } else {\n            alert('Date is not after the current date.');\n        }\n        if(isBeforeCurrentDate(document.getElementById('start').value, format)) {\n            alert('Date is before current date.');\n        } else {\n            alert('Date is not before current date.');\n        }\n        if(isCurrentDate(document.getElementById('start').value, format)) {\n            alert('Date is current date.');\n        } else {\n            alert('Date is not a current date.');\n        }\n        if (isBefore(document.getElementById('start').value, document.getElementById('end').value, format)) {\n            alert('Start/Effective Date cannot be greater than End/Expiration Date');\n        } else {\n            alert('Valid dates...');\n        }\n        if (isAfter(document.getElementById('start').value, document.getElementById('end').value, format)) {\n            alert('End/Expiration Date cannot be less than Start/Effective Date');\n        } else {\n            alert('Valid dates...');\n        }\n        if (isEquals(document.getElementById('start').value, document.getElementById('end').value, format)) {\n            alert('Dates are equals...');\n        } else {\n            alert('Dates are not equals...');\n        }\n        if (isDate(document.getElementById('start').value, format)) {\n            alert('Is valid date...');\n        } else {\n            alert('Is invalid date...');\n        }\n    }\n\n    /**\n     * This method gets the year index from the supplied format\n     */\n    function getYearIndex(format) {\n\n        var tokens = splitDateFormat(format);\n\n        if (tokens[0] === 'YYYY'\n                || tokens[0] === 'yyyy') {\n            return 0;\n        } else if (tokens[1]=== 'YYYY'\n                || tokens[1] === 'yyyy') {\n            return 1;\n        } else if (tokens[2] === 'YYYY'\n                || tokens[2] === 'yyyy') {\n            return 2;\n        }\n        // Returning the default value as -1\n        return -1;\n    }\n\n    /**\n     * This method returns the year string located at the supplied index\n     */\n    function getYear(date, index) {\n\n        var tokens = splitDateFormat(date);\n        return tokens[index];\n    }\n\n    /**\n     * This method gets the month index from the supplied format\n     */\n    function getMonthIndex(format) {\n\n        var tokens = splitDateFormat(format);\n\n        if (tokens[0] === 'MM'\n                || tokens[0] === 'mm') {\n            return 0;\n        } else if (tokens[1] === 'MM'\n                || tokens[1] === 'mm') {\n            return 1;\n        } else if (tokens[2] === 'MM'\n                || tokens[2] === 'mm') {\n            return 2;\n        }\n        // Returning the default value as -1\n        return -1;\n    }\n\n    /**\n     * This method returns the month string located at the supplied index\n     */\n    function getMonth(date, index) {\n\n        var tokens = splitDateFormat(date);\n        return tokens[index];\n    }\n\n    /**\n     * This method gets the date index from the supplied format\n     */\n    function getDateIndex(format) {\n\n        var tokens = splitDateFormat(format);\n\n        if (tokens[0] === 'DD'\n                || tokens[0] === 'dd') {\n            return 0;\n        } else if (tokens[1] === 'DD'\n                || tokens[1] === 'dd') {\n            return 1;\n        } else if (tokens[2] === 'DD'\n                || tokens[2] === 'dd') {\n            return 2;\n        }\n        // Returning the default value as -1\n        return -1;\n    }\n\n    /**\n     * This method returns the date string located at the supplied index\n     */\n    function getDate(date, index) {\n\n        var tokens = splitDateFormat(date);\n        return tokens[index];\n    }\n\n    /**\n     * This method returns true if date1 is before date2 else return false\n     */\n    function isBefore(date1, date2, format) {\n        // Validating if date1 date is greater than the date2 date\n        if (new Date(getYear(date1, getYearIndex(format)), \n                getMonth(date1, getMonthIndex(format)) - 1, \n                getDate(date1, getDateIndex(format))).getTime()\n            &gt; new Date(getYear(date2, getYearIndex(format)), \n                getMonth(date2, getMonthIndex(format)) - 1, \n                getDate(date2, getDateIndex(format))).getTime()) {\n            return true;\n        } \n        return false;                \n    }\n\n    /**\n     * This method returns true if date1 is after date2 else return false\n     */\n    function isAfter(date1, date2, format) {\n        // Validating if date2 date is less than the date1 date\n        if (new Date(getYear(date2, getYearIndex(format)), \n                getMonth(date2, getMonthIndex(format)) - 1, \n                getDate(date2, getDateIndex(format))).getTime()\n            &lt; new Date(getYear(date1, getYearIndex(format)), \n                getMonth(date1, getMonthIndex(format)) - 1, \n                getDate(date1, getDateIndex(format))).getTime()\n            ) {\n            return true;\n        } \n        return false;                \n    }\n\n    /**\n     * This method returns true if date1 is equals to date2 else return false\n     */\n    function isEquals(date1, date2, format) {\n        // Validating if date1 date is equals to the date2 date\n        if (new Date(getYear(date1, getYearIndex(format)), \n                getMonth(date1, getMonthIndex(format)) - 1, \n                getDate(date1, getDateIndex(format))).getTime()\n            === new Date(getYear(date2, getYearIndex(format)), \n                getMonth(date2, getMonthIndex(format)) - 1, \n                getDate(date2, getDateIndex(format))).getTime()) {\n            return true;\n        } \n        return false;\n    }\n\n    /**\n     * This method validates and returns true if the supplied date is \n     * equals to the current date.\n     */\n    function isCurrentDate(date, format) {\n        // Validating if the supplied date is the current date\n        if (new Date(getYear(date, getYearIndex(format)), \n                getMonth(date, getMonthIndex(format)) - 1, \n                getDate(date, getDateIndex(format))).getTime()\n            === new Date(new Date().getFullYear(), \n                    new Date().getMonth(), \n                    new Date().getDate()).getTime()) {\n            return true;\n        } \n        return false;                \n    }\n\n    /**\n     * This method validates and returns true if the supplied date value \n     * is before the current date.\n     */\n    function isBeforeCurrentDate(date, format) {\n        // Validating if the supplied date is before the current date\n        if (new Date(getYear(date, getYearIndex(format)), \n                getMonth(date, getMonthIndex(format)) - 1, \n                getDate(date, getDateIndex(format))).getTime()\n            &lt; new Date(new Date().getFullYear(), \n                    new Date().getMonth(), \n                    new Date().getDate()).getTime()) {\n            return true;\n        } \n        return false;                \n    }\n\n    /**\n     * This method validates and returns true if the supplied date value \n     * is after the current date.\n     */\n    function isAfterCurrentDate(date, format) {\n        // Validating if the supplied date is before the current date\n        if (new Date(getYear(date, getYearIndex(format)), \n                getMonth(date, getMonthIndex(format)) - 1, \n                getDate(date, getDateIndex(format))).getTime()\n            &gt; new Date(new Date().getFullYear(),\n                    new Date().getMonth(), \n                    new Date().getDate()).getTime()) {\n            return true;\n        } \n        return false;                \n    }\n\n    /**\n     * This method splits the supplied date OR format based \n     * on non alpha numeric characters in the supplied string.\n     */\n    function splitDateFormat(dateFormat) {\n        // Spliting the supplied string based on non characters\n        return dateFormat.split(/\\W/);\n    }\n\n    /*\n     * This method validates if the supplied value is a valid date.\n     */\n    function isDate(date, format) {                \n        // Validating if the supplied date string is valid and not a NaN (Not a Number)\n        if (!isNaN(new Date(getYear(date, getYearIndex(format)), \n                getMonth(date, getMonthIndex(format)) - 1, \n                getDate(date, getDateIndex(format))))) {                    \n            return true;\n        } \n        return false;                                      \n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>Below is the HTML snippet</p>\n\n<pre><code>&lt;input type=\"text\" name=\"start\" id=\"start\" size=\"10\" value=\"\" /&gt;\n&lt;br/&gt;\n&lt;input type=\"text\" name=\"end\" id=\"end\" size=\"10\" value=\"\" /&gt;\n&lt;br/&gt;\n&lt;input type=\"button\" value=\"Submit\" onclick=\"javascript:validate();\" /&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to validate the <em>date format</em> on an input using the format <code>mm/dd/yyyy</code>.</p>\n\n<p>I found below codes in one site and then used it but it doesn't work:</p>\n\n<pre><code>function isDate(ExpiryDate) { \n    var objDate,  // date object initialized from the ExpiryDate string \n        mSeconds, // ExpiryDate in milliseconds \n        day,      // day \n        month,    // month \n        year;     // year \n    // date length should be 10 characters (no more no less) \n    if (ExpiryDate.length !== 10) { \n        return false; \n    } \n    // third and sixth character should be '/' \n    if (ExpiryDate.substring(2, 3) !== '/' || ExpiryDate.substring(5, 6) !== '/') { \n        return false; \n    } \n    // extract month, day and year from the ExpiryDate (expected format is mm/dd/yyyy) \n    // subtraction will cast variables to integer implicitly (needed \n    // for !== comparing) \n    month = ExpiryDate.substring(0, 2) - 1; // because months in JS start from 0 \n    day = ExpiryDate.substring(3, 5) - 0; \n    year = ExpiryDate.substring(6, 10) - 0; \n    // test year range \n    if (year &lt; 1000 || year &gt; 3000) { \n        return false; \n    } \n    // convert ExpiryDate to milliseconds \n    mSeconds = (new Date(year, month, day)).getTime(); \n    // initialize Date() object from calculated milliseconds \n    objDate = new Date(); \n    objDate.setTime(mSeconds); \n    // compare input date and parts from Date() object \n    // if difference exists then date isn't valid \n    if (objDate.getFullYear() !== year || \n        objDate.getMonth() !== month || \n        objDate.getDate() !== day) { \n        return false; \n    } \n    // otherwise return true \n    return true; \n}\n\nfunction checkDate(){ \n    // define date string to test \n    var ExpiryDate = document.getElementById(' ExpiryDate').value; \n    // check date and print message \n    if (isDate(ExpiryDate)) { \n        alert('OK'); \n    } \n    else { \n        alert('Invalid date format!'); \n    } \n}\n</code></pre>\n\n<p>Any suggestion about what could be wrong?</p>\n",
            "last_activity_date": 1417822210,
            "question_id": 6177975,
            "score": 15,
            "tags": [
                "javascript",
                "validation",
                "date"
            ],
            "title": "How to validate date with format &quot;mm/dd/yyyy&quot; in JavaScript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>See section 7:</p>\n\n<blockquote>\n  <p>There are two goal symbols for the lexical grammar. The InputElementDiv symbol is used in those syntactic grammar contexts where a leading division (/) or division-assignment (/=) operator is permitted. The InputElementRegExp symbol is used in other syntactic grammar contexts. </p>\n  \n  <p>NOTE There are no syntactic grammar contexts where both a leading division or division-assignment, and a leading RegularExpressionLiteral are permitted. This is not affected by semicolon insertion (see 7.9); in examples such as the \n  following: </p>\n\n<pre><code>a = b \n/hi/g.exec(c).map(d); \n</code></pre>\n  \n  <p>where the first non-whitespace, non-comment character after a LineTerminator is slash (/) and the syntactic context allows division or division-assignment, no semicolon is inserted at the LineTerminator. That is, the above example is interpreted in \n  the same way as: </p>\n\n<pre><code>a = b / hi / g.exec(c).map(d); \n</code></pre>\n</blockquote>\n\n<p>I agree, it's confusing and there should be one top-level grammar expression rather than two.</p>\n\n<hr>\n\n<p>edit:</p>\n\n<blockquote>\n  <p>But there's nothing explaining when to use which.</p>\n</blockquote>\n\n<p>Maybe the simple answer is staring us in the face: try one and then try the other. Since they are not both permitted, at most one will yield an error-free match.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can only know how to interpret the / by also implementing a syntax parser. Whichever lex path arrives at a valid parse determines how to interpret the character. Apparently, this is something they had considered fixing, but didn't.\nMore reading here:\n<a href=\"http://www-archive.mozilla.org/js/language/js20-2002-04/rationale/syntax.html#regular-expressions\" rel=\"nofollow\">http://www-archive.mozilla.org/js/language/js20-2002-04/rationale/syntax.html#regular-expressions</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>JSLint appears to expect a regular expression if the preceding token is one of</p>\n\n<pre><code>(,=:[!&amp;|?{};\n</code></pre>\n\n<p>Rhino always returns a DIV token from the lexer.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It's actually fairly easy, but it requires making your lexer a little smarter than usual.</p>\n\n<p>The division operator must follow an expression, and a regular expression literal can't follow an expression, so in all other cases you can safely assume you're looking at a regular expression literal.</p>\n\n<p>You already have to identify Punctuators as multiple-character strings, if you're doing it right.  So look at the previous token, and see if it's any of these:</p>\n\n<pre><code>. ( , { } [ ; , &lt; &gt; &lt;= &gt;= == != === !== + - * % ++ --\n&lt;&lt; &gt;&gt; &gt;&gt;&gt; &amp; | ^ ! ~ &amp;&amp; || ? : = += -= *= %= &lt;&lt;= &gt;&gt;= &gt;&gt;&gt;=\n&amp;= |= ^= / /=\n</code></pre>\n\n<p>For most of these, you now know you're in a context where you can find a regular expression literal.  Now, in the case of <code>++ --</code>, you'll need to do some extra work.  If the <code>++</code> or <code>--</code> is a pre-increment/decrement, then the <code>/</code> following it starts a regular expression literal; if it is a post-increment/decrement, then the <code>/</code> following it starts a DivPunctuator.</p>\n\n<p>Fortunately, you can determine whether it is a \"pre-\" operator by checking <em>its</em> previous token.  First, post-increment/decrement is a restricted production, so if <code>++</code> or <code>--</code> is preceded by a linebreak, then you know it is \"pre-\".  Otherwise, if the previous token is any of the things that can precede a regular expression literal (yay recursion!), then you know it is \"pre-\".  In all other cases, it is \"post-\".</p>\n\n<p>Of course, the <code>)</code> punctuator doesn't <em>always</em> indicate the end of an expression - for example <code>if (something) /regex/.exec(x)</code>.  This is tricky because it <em>does</em> require some semantic understanding to disentangle.</p>\n\n<p>Sadly, that's not quite all.  There are some operators that are not Punctuators, and other notable keywords to boot.  Regular expression literals can also follow these.  They are:</p>\n\n<pre><code>new delete void typeof instanceof in do return case throw else\n</code></pre>\n\n<p>If the IdentifierName you just consumed is one of these, then you're looking at a regular expression literal; otherwise, it's a DivPunctuator.</p>\n\n<p>The above is based on the ECMAScript 5.1 specification (as found <a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\" rel=\"nofollow\">here</a>) and does not include any browser-specific extensions to the language.  But if you need to support those, then this should provide easy guidelines for determining which sort of context you're in.</p>\n\n<p>Of course, most of the above represent very silly cases for including a regular expression literal.  For example, you can't actually pre-increment a regular expression, even though it is syntactically allowed.  So most tools can get away with simplifying the regular expression context checking for real-world applications.  JSLint's method of checking the preceding character for <code>(,=:[!&amp;|?{};</code> is probably sufficient.  But if you take such a shortcut when developing what's supposed to be a tool for lexing JS, then you should make sure to note that.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I am currently developing a <a href=\"https://github.com/highsource/javascript-codemodel/blob/master/parser/src/main/javacc/ecmascript-262.jj\" rel=\"nofollow\">JavaScript/ECMAScript 5.1 parser</a> with JavaCC. <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-7\" rel=\"nofollow\">RegularExpressionLiteral</a> and <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-7.9\" rel=\"nofollow\">Automatic Semicolon Insertion</a> are two things which make me crazy in ECMAScript grammar. This question and an answers were invaluable for the regex question. In this answer I'd like to put my own findings together.</p>\n\n<p><strong>TL;DR</strong> In JavaCC, use <a href=\"http://www.engr.mun.ca/~theo/JavaCC-FAQ/javacc-faq-moz.htm#tth_sEc3.11\" rel=\"nofollow\">lexical states</a> and <a href=\"http://www.engr.mun.ca/~theo/JavaCC-FAQ/javacc-faq-moz.htm#tth_sEc3.12\" rel=\"nofollow\">switch them from the parser</a>.</p>\n\n<hr>\n\n<p>Very important is what Thom Blake wrote:</p>\n\n<blockquote>\n  <p>The division operator must follow an expression, and a regular\n  expression literal can't follow an expression, so in all other cases\n  you can safely assume you're looking at a regular expression literal.</p>\n</blockquote>\n\n<p>So you actually need to understand if it was an expression or not <em>before</em>. This is trivial in the parser but very hard in the lexer.</p>\n\n<p>As Thom <a href=\"http://stackoverflow.com/a/11766233/303810\">pointed out</a>, in many (but, unfortunately, not all) cases you can understand if it was an expression by \"looking\" at the last token. You have to consider punctuators as well as keywords.</p>\n\n<p>Let's start with keywords. The following keywords cannot precede a <code>DivPunctuator</code> (for example, you cannot have <code>case /5</code>), so if you see a <code>/</code> after these, you have a <code>RegularExpressionLiteral</code>:</p>\n\n<pre><code>case\ndelete\ndo\nelse\nin\ninstanceof\nnew\nreturn\nthrow\ntypeof\nvoid\n</code></pre>\n\n<p>Next, punctuators. The following punctuators cannot precede a <code>DivPunctuator</code> (ex. in  <code>{ /a...</code> the symbol <code>/</code> can never start a division):</p>\n\n<pre><code>{       (       [   \n.   ;   ,   &lt;   &gt;   &lt;=\n&gt;=  ==  !=  === !== \n+   -   *   %       \n&lt;&lt;  &gt;&gt;  &gt;&gt;&gt; &amp;   |   ^\n!   ~   &amp;&amp;  ||  ?   :\n=   +=  -=  *=  %=  &lt;&lt;=\n&gt;&gt;= &gt;&gt;&gt;=    &amp;=  |=  ^=\n    /=\n</code></pre>\n\n<p>So if you have one of these and see <code>/...</code> after this, then this can never be a <code>DivPunctuator</code> and therefore must be a <code>RegularExpressionLiteral</code>.</p>\n\n<p>Next, if you have:</p>\n\n<pre><code>/\n</code></pre>\n\n<p>And <code>/...</code> after that it also must be a <code>RegularExpressionLiteral</code>. If there were no space between these slashes (i.e.  <code>// ...</code>), this must have handled as a <code>SingleLineComment</code> (\"maximal munch\").</p>\n\n<p>Next, the following punctuator may only end an expression:</p>\n\n<pre><code>]\n</code></pre>\n\n<p>So the following <code>/</code> must start a <code>DivPunctuator</code>.</p>\n\n<p>Now we have the following remaining cases which are, unfortunately, ambiguous:</p>\n\n<pre><code>}\n)\n++\n--\n</code></pre>\n\n<p>For <code>}</code> and <code>)</code> you have to know if they end an expression or not, for <code>++</code> and <code>--</code> - they end an <code>PostfixExpression</code> or start an <code>UnaryExpression</code>.</p>\n\n<p>And I have come to the conclusion that it is very hard (if not impossible) to find out in the lexer. To give you a sense of that, a couple of examples.</p>\n\n<p>In this example:</p>\n\n<pre><code>{}/a/g\n</code></pre>\n\n<p><code>/a/g</code> is a <code>RegularExpressionLiteral</code>, but in this one:</p>\n\n<pre><code>+{}/a/g\n</code></pre>\n\n<p><code>/a/g</code> is a division.</p>\n\n<p>In case of <code>)</code> you can have a division:</p>\n\n<pre><code>('a')/a/g\n</code></pre>\n\n<p>as well as a <code>RegularExpressionLiteral</code>:</p>\n\n<pre><code>if ('a')/a/g\n</code></pre>\n\n<p>So, unfortunately, it looks like you can't solve it with the lexer alone. Or you'll have to bring in so much grammar into the lexer so it's no lexer anymore. </p>\n\n<p>This is a problem.</p>\n\n<hr>\n\n<p>Now, a possible solution, which is, in my case JavaCC-based.</p>\n\n<p>I am not sure if you have similar features in other parser generators, but JavaCC has a <a href=\"http://www.engr.mun.ca/~theo/JavaCC-FAQ/javacc-faq-moz.htm#tth_sEc3.11\" rel=\"nofollow\">lexical states</a> feature which can be used to switch between \"we expect a <code>DivPunctuator</code>\" and \"we expect a <code>RegularExpressionLiteral</code>\" states. For instance, in <a href=\"https://code.google.com/p/yaji-ecmascript-interpreter/source/browse/trunk/yaji-ecmascript-interpreter/src/FESI/Parser/EcmaScript.jjt\" rel=\"nofollow\">this grammar</a> the <code>NOREGEXP</code> state means \"we don't expect a <code>RegularExpressionLiteral</code> here\".</p>\n\n<p>This solves part of the problem, but not the ambiguous <code>)</code>, <code>}</code>, <code>++</code> and <code>--</code>.</p>\n\n<p>For this, you'll need to be able to switch lexical states from the parser. This is possible, see the following question in <a href=\"http://www.engr.mun.ca/~theo/JavaCC-FAQ\" rel=\"nofollow\">JavaCC FAQ</a>:</p>\n\n<blockquote>\n  <p><a href=\"http://www.engr.mun.ca/~theo/JavaCC-FAQ/javacc-faq-moz.htm#tth_sEc3.12\" rel=\"nofollow\">Can the parser force a switch to a new lexical state?</a></p>\n  \n  <p>Yes, but it is very easy to create bugs by doing so. </p>\n</blockquote>\n\n<p>A lookahead parser may have already gone too far in the token stream (i.e. already read <code>/</code> as a <code>DIV</code> or vice versa).</p>\n\n<p>Fortunately there seems to be a way to make switching lexical states a bit safer:</p>\n\n<blockquote>\n  <p><a href=\"http://www.engr.mun.ca/~theo/JavaCC-FAQ/javacc-faq-moz.htm#tth_sEc3.13\" rel=\"nofollow\">Is there a way to make SwitchTo safer?</a></p>\n</blockquote>\n\n<p>The idea is to make a \"backup\" token stream and push tokens read during lookahead back again.</p>\n\n<p>I think that this should work for <code>}</code>, <code>)</code>, <code>++</code>, <code>--</code> as they are normally found in LOOKAHEAD(1) situations, but I am not 100% sure of that. In the worst case the lexer may have already tried to parse <code>/</code>-starting token as a <code>RegularExpressionLiteral</code> and failed as it was not terminated by another <code>/</code>.</p>\n\n<p>In any case, I see no better way of doing that. The next good thing would be probably to drop the case altogether (like <code>JSLint</code> and many others did), document and just not parse these types of expressions. <code>{}/a/g</code> does not make much sense anyway.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Javascript has a tricky grammar to parse.  Forward-slashes can mean a number of different things: division operator, regular expression literal, comment introducer, or line-comment introducer.  The last two are easy to distinguish: if the slash is followed by a star, it starts a multiline comment.  If the slash is followed by another slash, it is a line-comment.</p>\n\n<p>But the rules for disambiguating division and regex literal are escaping me.  I can't find it in the <a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf\">ECMAScript standard</a>.  There the lexical grammar is explicitly divided into two parts, InputElementDiv and InputElementRegExp, depending on what a slash will mean.  But there's nothing explaining when to use which.</p>\n\n<p>And of course the dreaded semicolon insertion rules complicate everything.</p>\n\n<p>Does anyone have an example of clear code for lexing Javascript that has the answer?</p>\n",
            "last_activity_date": 1416896861,
            "question_id": 5519596,
            "score": 15,
            "tags": [
                "javascript",
                "lexer"
            ],
            "title": "When parsing Javascript, what determines the meaning of a slash?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can define the <a href=\"https://developer.mozilla.org/en/DOM/Event/UIEvent/KeyEvent\"><em>KeyEvent</em> object</a> if it doesn\u2019t exist:</p>\n\n<pre><code>if (typeof KeyEvent == \"undefined\") {\n    var KeyEvent = {\n        DOM_VK_CANCEL: 3,\n        DOM_VK_HELP: 6,\n        DOM_VK_BACK_SPACE: 8,\n        DOM_VK_TAB: 9,\n        DOM_VK_CLEAR: 12,\n        DOM_VK_RETURN: 13,\n        DOM_VK_ENTER: 14,\n        DOM_VK_SHIFT: 16,\n        DOM_VK_CONTROL: 17,\n        DOM_VK_ALT: 18,\n        DOM_VK_PAUSE: 19,\n        DOM_VK_CAPS_LOCK: 20,\n        DOM_VK_ESCAPE: 27,\n        DOM_VK_SPACE: 32,\n        DOM_VK_PAGE_UP: 33,\n        DOM_VK_PAGE_DOWN: 34,\n        DOM_VK_END: 35,\n        DOM_VK_HOME: 36,\n        DOM_VK_LEFT: 37,\n        DOM_VK_UP: 38,\n        DOM_VK_RIGHT: 39,\n        DOM_VK_DOWN: 40,\n        DOM_VK_PRINTSCREEN: 44,\n        DOM_VK_INSERT: 45,\n        DOM_VK_DELETE: 46,\n        DOM_VK_0: 48,\n        DOM_VK_1: 49,\n        DOM_VK_2: 50,\n        DOM_VK_3: 51,\n        DOM_VK_4: 52,\n        DOM_VK_5: 53,\n        DOM_VK_6: 54,\n        DOM_VK_7: 55,\n        DOM_VK_8: 56,\n        DOM_VK_9: 57,\n        DOM_VK_SEMICOLON: 59,\n        DOM_VK_EQUALS: 61,\n        DOM_VK_A: 65,\n        DOM_VK_B: 66,\n        DOM_VK_C: 67,\n        DOM_VK_D: 68,\n        DOM_VK_E: 69,\n        DOM_VK_F: 70,\n        DOM_VK_G: 71,\n        DOM_VK_H: 72,\n        DOM_VK_I: 73,\n        DOM_VK_J: 74,\n        DOM_VK_K: 75,\n        DOM_VK_L: 76,\n        DOM_VK_M: 77,\n        DOM_VK_N: 78,\n        DOM_VK_O: 79,\n        DOM_VK_P: 80,\n        DOM_VK_Q: 81,\n        DOM_VK_R: 82,\n        DOM_VK_S: 83,\n        DOM_VK_T: 84,\n        DOM_VK_U: 85,\n        DOM_VK_V: 86,\n        DOM_VK_W: 87,\n        DOM_VK_X: 88,\n        DOM_VK_Y: 89,\n        DOM_VK_Z: 90,\n        DOM_VK_CONTEXT_MENU: 93,\n        DOM_VK_NUMPAD0: 96,\n        DOM_VK_NUMPAD1: 97,\n        DOM_VK_NUMPAD2: 98,\n        DOM_VK_NUMPAD3: 99,\n        DOM_VK_NUMPAD4: 100,\n        DOM_VK_NUMPAD5: 101,\n        DOM_VK_NUMPAD6: 102,\n        DOM_VK_NUMPAD7: 103,\n        DOM_VK_NUMPAD8: 104,\n        DOM_VK_NUMPAD9: 105,\n        DOM_VK_MULTIPLY: 106,\n        DOM_VK_ADD: 107,\n        DOM_VK_SEPARATOR: 108,\n        DOM_VK_SUBTRACT: 109,\n        DOM_VK_DECIMAL: 110,\n        DOM_VK_DIVIDE: 111,\n        DOM_VK_F1: 112,\n        DOM_VK_F2: 113,\n        DOM_VK_F3: 114,\n        DOM_VK_F4: 115,\n        DOM_VK_F5: 116,\n        DOM_VK_F6: 117,\n        DOM_VK_F7: 118,\n        DOM_VK_F8: 119,\n        DOM_VK_F9: 120,\n        DOM_VK_F10: 121,\n        DOM_VK_F11: 122,\n        DOM_VK_F12: 123,\n        DOM_VK_F13: 124,\n        DOM_VK_F14: 125,\n        DOM_VK_F15: 126,\n        DOM_VK_F16: 127,\n        DOM_VK_F17: 128,\n        DOM_VK_F18: 129,\n        DOM_VK_F19: 130,\n        DOM_VK_F20: 131,\n        DOM_VK_F21: 132,\n        DOM_VK_F22: 133,\n        DOM_VK_F23: 134,\n        DOM_VK_F24: 135,\n        DOM_VK_NUM_LOCK: 144,\n        DOM_VK_SCROLL_LOCK: 145,\n        DOM_VK_COMMA: 188,\n        DOM_VK_PERIOD: 190,\n        DOM_VK_SLASH: 191,\n        DOM_VK_BACK_QUOTE: 192,\n        DOM_VK_OPEN_BRACKET: 219,\n        DOM_VK_BACK_SLASH: 220,\n        DOM_VK_CLOSE_BRACKET: 221,\n        DOM_VK_QUOTE: 222,\n        DOM_VK_META: 224\n    };\n}\n</code></pre>\n\n<p>See also <a href=\"http://www.w3.org/TR/2001/WD-DOM-Level-3-Events-20010410/DOM3-Events.html#events-Events-KeyEvent\"><em>KeyEvent</em> in DOM Level 3</a>.</p>\n",
                    "is_accepted": true,
                    "score": 31
                },
                {
                    "body": "<p>try this\n<a href=\"http://www.asquare.net/javascript/tests/KeyCode.html\" rel=\"nofollow\">http://www.asquare.net/javascript/tests/KeyCode.html</a> :)</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>When testing a JavaScript in Firefox 3.5, I have access to constants such as <code>KeyEvent.DOM_VK_D</code>, but not in Google Chrome. Is there a cross-browser way of accessing these constants?</p>\n",
            "last_activity_date": 1298309453,
            "question_id": 1465374,
            "score": 15,
            "tags": [
                "javascript",
                "javascript-events",
                "cross-browser"
            ],
            "title": "JavaScript event.keyCode constants"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Try this - <a href=\"http://jsfiddle.net/dKRGE/3/\">http://jsfiddle.net/dKRGE/3/</a></p>\n\n<pre><code>$(\"#phone\").mask(\"(99) 9999?9-9999\");\n\n$(\"#phone\").on(\"blur\", function() {\n    var last = $(this).val().substr( $(this).val().indexOf(\"-\") + 1 );\n\n    if( last.length == 3 ) {\n        var move = $(this).val().substr( $(this).val().indexOf(\"-\") - 1, 1 );\n        var lastfour = move + last;\n        var first = $(this).val().substr( 0, 9 );\n\n        $(this).val( first + '-' + lastfour );\n    }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>Actually the correct answer is on <a href=\"http://jsfiddle.net/HDakN/\" rel=\"nofollow\">http://jsfiddle.net/HDakN/</a></p>\n\n<p>Zoltan answer will allow user entry \"(99) 9999\" and then leave the field incomplete</p>\n\n<pre><code>$(\"#phone\").mask(\"(99) 9999-9999?9\");\n\n\n$(\"#phone\").on(\"blur\", function() {\n    var last = $(this).val().substr( $(this).val().indexOf(\"-\") + 1 );\n\n    if( last.length == 5 ) {\n        var move = $(this).val().substr( $(this).val().indexOf(\"-\") + 1, 1 );\n\n        var lastfour = last.substr(1,4);\n\n        var first = $(this).val().substr( 0, 9 );\n\n        $(this).val( first + move + '-' + lastfour );\n    }\n});\u200b\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Using jQuery Mask Plugin there is two possible ways to implement it:</p>\n\n<p>1- Following Anatel's recomendations:\n<a href=\"https://gist.github.com/3724610/5003f97804ea1e62a3182e21c3b0d3ae3b657dd9\" rel=\"nofollow\">https://gist.github.com/3724610/5003f97804ea1e62a3182e21c3b0d3ae3b657dd9</a></p>\n\n<p>2- Or without following Anatel's recomendations:\n<a href=\"https://gist.github.com/igorescobar/5327820\" rel=\"nofollow\">https://gist.github.com/igorescobar/5327820</a></p>\n\n<p>All examples above was coded using jQuery Mask Plugin and it can be downloaded at:\n<a href=\"http://igorescobar.github.io/jQuery-Mask-Plugin/\" rel=\"nofollow\">http://igorescobar.github.io/jQuery-Mask-Plugin/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>var $phone = $(\"#input_id\");\nvar maskOptions = {onKeyPress: function(phone) {\n    var masks = ['(00) 0000-0000', '(00) 00000-0000'];\n    mask = phone.match(/^\\([0-9]{2}\\) 9/g)\n        ? masks[1]\n        : masks[0];\n    $phone.mask(mask, this);\n}};\n$phone.mask('(00) 0000-0000', maskOptions);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>With jquery.mask.js</strong></p>\n\n<p><a href=\"http://jsfiddle.net/brynner/f9kd0aes/\" rel=\"nofollow\">http://jsfiddle.net/brynner/f9kd0aes/</a></p>\n\n<p>HTML</p>\n\n<pre><code>&lt;input type=\"text\" class=\"phone\" maxlength=\"15\" value=\"85999998888\"&gt;\n&lt;input type=\"text\" class=\"phone\" maxlength=\"15\" value=\"8533334444\"&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>// Function\nfunction phoneMask(e){\n    var s=e.val();\n    var s=s.replace(/[_\\W]+/g,'');\n    var n=s.length;\n    if(n&lt;11){var m='(00) 0000-00000';}else{var m='(00) 00000-00000';}\n    $(e).mask(m);\n}\n\n// Type\n$('body').on('keyup','.phone',function(){   \n    phoneMask($(this));\n});\n\n// On load\n$('.phone').keyup();\n</code></pre>\n\n<p><strong>Only jQuery</strong></p>\n\n<p><a href=\"http://jsfiddle.net/brynner/6vbrqe6z/\" rel=\"nofollow\">http://jsfiddle.net/brynner/6vbrqe6z/</a></p>\n\n<p>HTML</p>\n\n<pre><code>&lt;p class=\"phone\"&gt;85999998888&lt;/p&gt;\n&lt;p class=\"phone\"&gt;8599998888&lt;/p&gt;\n</code></pre>\n\n<p>jQuery</p>\n\n<pre><code>$('.phone').text(function(i, text) {\n    var n = (text.length)-6;\n    if(n==4){var p=n;}else{var p=5;}\n    var regex = new RegExp('(\\\\d{2})(\\\\d{'+p+'})(\\\\d{4})');\n    var text = text.replace(regex, \"($1) $2-$3\");\n    return text;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a problem masking an input with jQuery, this input contains a phone number.</p>\n\n<p>There are 2 possible formats:</p>\n\n<ol>\n<li><code>(XX)XXXX-XXXX</code>  </li>\n<li><code>(XX)XXXXX-XXXX</code></li>\n</ol>\n\n<p>Is there any way to mask it accepting both cases?</p>\n\n<p>EDIT:</p>\n\n<p>I tried:</p>\n\n<pre><code>$(\"#phone\").mask(\"(99) 9999-9999\"); \n$(\"#telf1\").mask(\"(99) 9999*-9999\");    \n$(\"#telf1\").mask(\"(99) 9999?-9999\"); \n</code></pre>\n\n<p>But it doesn't works as I would like.</p>\n\n<p>The closest one was (xx)xxxx-xxxxx. </p>\n\n<p>I would like to get (xx)xxxx-xxxx when I type the 10th number, and (xx)xxxxx-xxxx when I type the 11th. Is it posible?</p>\n",
            "last_activity_date": 1423853621,
            "question_id": 11633726,
            "score": 14,
            "tags": [
                "javascript",
                "jquery",
                "input",
                "mask"
            ],
            "title": "Phone mask with jquery"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Yes, using the new FileWriter API.</p>\n\n<p><a href=\"http://www.w3.org/TR/file-writer-api/\">http://www.w3.org/TR/file-writer-api/</a></p>\n\n<p>You can see the current browser support here: <a href=\"http://caniuse.com/#feat=filesystem\">http://caniuse.com/#feat=filesystem</a></p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>As far as I know, you can't write to files from HTML5, because giving a web page access to the user's files would be a security risk.</p>\n\n<p>If you just need to store some data so your page can access it later, HTML5 does have something called Web Storage which can do that.</p>\n\n<p>Or you could store the data in cookies (if it's very small) or on the server.</p>\n",
                    "is_accepted": false,
                    "score": -7
                },
                {
                    "body": "<p>Yes it is possible to read &amp; write files using HTML5+JS.</p>\n\n<p>Link to get you started - <a href=\"http://www.html5rocks.com/en/tutorials/file/filesystem/\" rel=\"nofollow\">Exploring FileSystem API</a></p>\n\n<p>I also wrote an article a while back for SpeckyBoy on the same topic that you might find useful - <a href=\"http://speckyboy.com/2012/10/30/getting-to-grips-with-the-html5-file-api-2/\" rel=\"nofollow\">http://speckyboy.com/2012/10/30/getting-to-grips-with-the-html5-file-api-2/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Assuming your end goal is to let the user save your file somewhere where they will find it, as when right-clicking a link and choosing \"Save As...\", there isn't wide browser coverage for those APIs yet, likely due to security considerations.</p>\n\n<p>What you can do, however \u2013 APIs or not \u2013 is cheesing it with a link to a <a href=\"http://en.wikipedia.org/wiki/Data_URI_scheme\"><code>data:</code> uri</a> with a <code>download</code> attribute specifying your suggested filename. For instance:</p>\n\n<pre><code>&lt;a id=\"save\" download=\"earth.txt\" href=\"data:text/plain,mostly harmless&amp;#10;\"&gt;Save&lt;/a&gt;\n</code></pre>\n\n<p>When clicked, at least in Chrome, this will save a file containing the text <code>mostly harmless</code> (and a trailing newline) as <code>earth.txt</code> in your download directory. To set the file contents from javascript instead, call this function first:</p>\n\n<pre><code>function setSaveFile(contents, file_name, mime_type) {\n  var a = document.getElementById('save');\n  mime_type = mime_type || 'application/octet-stream'; // text/html, image/png, et c\n  if (file_name) a.setAttribute('download', file_name);\n  a.href = 'data:'+ mime_type +';base64,'+ btoa(contents || '');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                }
            ],
            "body": "<p>I wonder if there is any way I can write to files from HTML5/JS? In the broswer ...</p>\n",
            "last_activity_date": 1405520121,
            "question_id": 4309958,
            "score": 14,
            "tags": [
                "javascript",
                "html5",
                "io"
            ],
            "title": "Can I write files with HTML5/JS?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Actually what you did is destroy the parent (page A) of the created window (Popup), so it has no more reference to the original parent therefore you can't get a direct reference.</p>\n\n<p>The only solution I can think of is using a browser that offers you added javascript capability to cycle through active windows (tabs) and find one that has a special property (ie: your reloaded page A) that gets recognized by the popup.</p>\n\n<p>Unfortunately I guess only firefox has some added capability or extension that gives you this flexibility. (it is also a security risk though)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>AFAIK, no there isn't.. </p>\n\n<p>A kind-of-dirty-but-i-guess-it-will-work hack would be to periodically reset the reference on the parent window from within the popup using window.opener, with something like this code:</p>\n\n<pre>\n\n    setInterval(function() {\n        if(window.opener) {\n            window.opener.document.myPopupWindow = window\n        }\n    }, 100)\n\n</pre>\n\n<p>In the parent window, you'll be able to access document.myPopupWindow, even after a reload (well, 100ms after the reload). This should work cross browser.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>var playerUrl = 'http://my.player...';\nvar popupPlayer= window.open('', 'popupPlayer', 'width=150,height=100') ;\nif(popupPlayer.location.href == 'about:blank' ){\n    popupPlayer.location = playerUrl ;\n}\npopupPlayer.focus();\n</code></pre>\n\n<p>It will open a blank window with a unique name. Since the url is blank, the content of the window will not be reloaded. </p>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>This should work. Add this code in the popup:</p>\n\n<pre><code>function updateOpener() {\n    if (window.opener)\n        window.opener.document.myPopupWindow = window;\n    else\n        setTimeout(updateOpener, 100);\n}\n\nupdateOpener(); \n</code></pre>\n\n<p>And this in onload of the parent window. To make sure myPopupWindow have been set wait 100 ms before accessing it.</p>\n\n<pre><code>setTimeout(function() {\n    if (document.myPopupWindow) \n        document.myPopupWindow.focus();\n}, 100);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>We've got the following situation, running from a single domain:</p>\n\n<p>Page A uses <code>window.open()</code> to open a named window (a popup player). <code>window.open()</code> gives page A a reference to the window.</p>\n\n<p>User now reloads page A. The reference to the named window is lost. Using <code>window.open()</code> to \"find\" the window has the unfortunate side effect of reloading it (undesirable). Is there any other way to get a reference to this window?</p>\n",
            "last_activity_date": 1410505773,
            "question_id": 2455158,
            "score": 14,
            "tags": [
                "javascript",
                "window.open"
            ],
            "title": "Find window previously opened by window.open"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>An ajax request for the image would return almost immediately if it is cached.  Then use setTimeout to determine if its not ready and cancel the request so you can requeue it for later.  </p>\n\n<p><strong>Update:</strong></p>\n\n<pre><code>var lqueue = [];\n$(function() {\n  var t,ac=0;\n  (t = $(\"img\")).each(\n    function(i,e)\n    {\n      var rq = $.ajax(\n      {\n        cache: true,\n        type: \"GET\",\n        async:true,\n        url:e.alt,\n        success: function() { var rq3=rq; if (rq3.readyState==4) { e.src=e.alt; } },\n        error: function() { e.src=e.alt; }\n      });\n\n      setTimeout(function()\n      {\n        var k=i,e2=e,r2=rq;\n        if (r2.readyState != 4)\n        {\n          r2.abort();\n          lqueue.push(e2);\n        }\n        if (t.length==(++ac)) loadRequeue();\n      }, 0);\n    }\n  );\n});\n\nfunction loadRequeue()\n{\n  for(var j = 0; j &lt; lqueue.length; j++) lqueue[j].src=lqueue[j].alt;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>after some reseach, I found a solution :</p>\n\n<p>The idea is to log the cached images, binding a log function on the images 'load' event.\nI first thought to store sources in a cookie, but it's not reliable if the cache is cleared without the cookie. Moreover, it adds one more cookie to HTTP requests...</p>\n\n<p>Then i met the magic : <strong>window.localStorage</strong> (<a href=\"http://msdn.microsoft.com/en-us/library/cc197062%28VS.85%29.aspx\">details</a>)</p>\n\n<blockquote>\n  <p>The localStorage  attribute provides\n  persistent storage areas for domains</p>\n</blockquote>\n\n<p>Exactly what i wanted :). This attribute is standardized in HTML5, and it's already works on nearly all recent browsers (FF, Opera, Safari, IE8, Chrome).</p>\n\n<p>Here is the code (without handling window.localStorage non-compatible browsers):</p>\n\n<pre><code>var storage = window.localStorage;\nif (!storage.cachedElements) {\n    storage.cachedElements = \"\";\n}\n\nfunction logCache(source) {\n    if (storage.cachedElements.indexOf(source, 0) &lt; 0) {\n        if (storage.cachedElements != \"\") \n            storage.cachedElements += \";\";\n        storage.cachedElements += source;\n    }\n}\n\nfunction cached(source) {\n    return (storage.cachedElements.indexOf(source, 0) &gt;= 0);\n}\n\nvar plImages;\n\n//On DOM Ready\n$(document).ready(function() {\n    plImages = $(\".postLoad\");\n\n    //log cached images\n    plImages.bind('load', function() {\n        logCache($(this).attr(\"src\"));\n    });\n\n    //display cached images\n    plImages.each(function() {\n        var source = $(this).attr(\"alt\")\n        if (cached(source))\n            $(this).attr(\"src\", source);\n    });\n});\n\n//After page loading\n$(window).bind('load', function() {\n    //display uncached images\n    plImages.each(function() {\n        if ($(this).attr(\"src\") == \"\")\n            $(this).attr(\"src\", $(this).attr(\"alt\"));\n    });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>I have a remark about your empty image sources. You wrote:</p>\n\n<blockquote>\n  <p>So i render the page with empty image sources with the source specified in the \"alt\" attribute. I insert image sources after the \"window.onload\" event, and it works great.</p>\n</blockquote>\n\n<p>I've ran into problems with this in the past, because in some browsers empty <code>src</code> attributes cause extra requests. Here's what they do (copied from <a href=\"http://developer.yahoo.com/performance/rules.html#emptysrc\" rel=\"nofollow\">Yahoo! performance rules</a>, there's also a <a href=\"http://www.nczonline.net/blog/2009/11/30/empty-image-src-can-destroy-your-site/\" rel=\"nofollow\">blog post</a> on that issue with more detail):</p>\n\n<ul>\n<li>Internet Explorer makes a request to the directory in which the page is located.</li>\n<li>Safari and Chrome make a request to the actual page itself.</li>\n<li>Firefox 3 and earlier versions behave the same as Safari and Chrome, but version 3.5 addressed this issue[bug 444931] and no longer sends a request.</li>\n<li>Opera does not do anything when an empty image src is encountered.</li>\n</ul>\n\n<p>We also use a lot of jQuery on our site, and it has not always been possible to avoid empty image tags. I've chosen to use a 1x1 px transparent gif like so: <code>src=\"t.gif\"</code> for images that I only insert after pageload. It is very small and gets cached by the browser. This has worked very well for us.</p>\n\n<p>Cheers, Oliver</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Just in case others may come across the same issue. some of the solutions provided here (namely storing the cache info in a local browser data storage) could break for two reasons. Firstly if cache of the image expires and secondly if the cache is cleared by the user. Another approach would be to set the source of image to an placeholder. Then changing the source to the image path/name. This way it becomes the responsibility of the browser to check its own cache. Should work with most browsers regardless of their API. </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p><strong>Short version question :</strong>\nIs there navigator.mozIsLocallyAvailable equivalent function that works on all browsers, or an alternative?</p>\n\n<p><strong>Long version :)</strong></p>\n\n<p>Hi,\nHere is my situation :\nI want to implement an HtmlHelper extension for asp.net MVC that handle image post-loading easily (using jQuery).</p>\n\n<p>So i render the page with empty image sources with the source specified in the \"alt\" attribute.\nI insert image sources after the \"window.onload\" event, and it works great.</p>\n\n<p>I did something like this :</p>\n\n<pre><code>$(window).bind('load', function() {\n    var plImages = $(\".postLoad\");\n    plImages.each(function() {\n        $(this).attr(\"src\", $(this).attr(\"alt\"));\n    });\n});\n</code></pre>\n\n<p><strong>The problem is :</strong> After the first loading, post-loaded images are cached. But if the page takes 10 seconds to load, the cached post-loaded images will be displayed after this 10 seconds.</p>\n\n<p>So i think to specify image sources on the \"document.ready\" event if the image is cached to display them immediatly.</p>\n\n<p>I found this function : navigator.mozIsLocallyAvailable to check if an image is in the cache. Here is what I've done with jquery :</p>\n\n<pre><code>//specify cached image sources on dom ready\n$(document).ready(function() {\n    var plImages = $(\".postLoad\");\n    plImages.each(function() {\n        var source = $(this).attr(\"alt\")\n        var disponible = navigator.mozIsLocallyAvailable(source, true);\n        if (disponible)\n            $(this).attr(\"src\", source);\n    });\n});\n\n//specify uncached image sources after page loading\n$(window).bind('load', function() {\n        var plImages = $(\".postLoad\");\n        plImages.each(function() {\n        if ($(this).attr(\"src\") == \"\")\n            $(this).attr(\"src\", $(this).attr(\"alt\"));\n    });\n});\n</code></pre>\n\n<p>It works on Mozilla's DOM but it doesn't works on any other one. I tried navigator.isLocallyAvailable : same result.</p>\n\n<p>Is there any alternative?</p>\n",
            "last_activity_date": 1369988938,
            "question_id": 2446740,
            "score": 14,
            "tags": [
                "javascript",
                "jquery",
                "caching",
                "lazy-loading"
            ],
            "title": "Post-loading : check if an image is in the browser cache"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You could attach a listener to a container (the body or the form) and then use the event parameter to react to the change. You get all the listener goodness but only have to attach one for the container instead of one for every element. </p>\n\n<pre><code>$('body').change(function(event){\n    /* do whatever you want with event.target here */\n    console.debug(event.target); /* assuming firebug */\n });\n</code></pre>\n\n<p>The event.target holds the element that was clicked on.</p>\n\n<p><a href=\"http://www.sitepoint.com/blogs/2008/07/23/javascript-event-delegation-is-easier-than-you-think/\" rel=\"nofollow\">SitePoint</a> has a nice explanation here of event delegation:</p>\n\n<blockquote>\n  <p>JavaScript event delegation is a simple technique by which you add a single event handler to a parent element in order to avoid having to add event handlers to multiple child elements.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Mozilla-engined browsers support <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Object/watch\" rel=\"nofollow\">Object.watch</a>, but I'm not aware of a cross-browser compatible equivalent.</p>\n\n<p>Have you profiled the page with Firebug to get an idea of exactly what's causing the slowness, or is \"lots of event handlers\" a guess?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As far as I know, there are no events fired on Object attribute changes (edit: except, apparently, for <code>Object.watch</code>).</p>\n\n<p>Why not use event delegation wherever possible? That is, events on the form rather than on individual form elements, capturing events as they bubble up?</p>\n\n<p>For instance (my jQuery is rusty, forgive me for using Prototype instead, but I'm sure you'll be able to adapt it easily):</p>\n\n<pre><code>$(form).observe('change', function(e) {\n    // To identify changed field, in Proto use e.element()\n    // but I think in jQuery it's e.target (as it should be)\n});\n</code></pre>\n\n<p>You can also capture <code>input</code> and <code>keyup</code> and <code>paste</code> events if you want it to fire on text fields before they lose focus. My solution for this is usually:</p>\n\n<ol>\n<li><strong>Gecko/Webkit-based browsers:</strong> observe <code>input</code> on the <code>form</code>.</li>\n<li><strong>Also in Webkit-based browsers:</strong> observe <code>keyup</code> and <code>paste</code> events on <code>textarea</code>s (they do not fire <code>input</code> on <code>textarea</code>s for some reason).</li>\n<li><strong>IE:</strong> observe <code>keyup</code> and <code>paste</code> on the <code>form</code></li>\n<li>Observe <code>change</code> on the <code>form</code> (this fires on <code>select</code>s).</li>\n<li>For <code>keyup</code> and <code>paste</code> events, compare a field's current value against its default (what its value was when the page was loaded) by comparing a text field's <code>value</code> to its <code>defaultValue</code></li>\n</ol>\n\n<p>Edit: Here's example code I developed for preventing unmodified form submission and the like:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/194101/what-is-the-best-way-to-track-changes-in-a-form-via-javascript#194347\">http://stackoverflow.com/questions/194101/what-is-the-best-way-to-track-changes-in-a-form-via-javascript#194347</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>jQuery is just amazing. Although you could take a look to ASP.NET AJAX Preview.</p>\n\n<p>Some features are just .js files, no dependency with .NET. May be you could find usefull the observer pattern implementation.</p>\n\n<pre><code>var o = { foo: \"Change this string\" };\n\nSys.Observer.observe(o);\n\no.add_propertyChanged(function(sender, args) {\n    var name = args.get_propertyName();\n    alert(\"Property '\" + name + \"' was changed to '\" + sender[name] + \"'.\");\n});\n\no.setValue(\"foo\", \"New string value.\");\n</code></pre>\n\n<p>Also, Client Side templates are ready to use for some interesting scenarios.</p>\n\n<p>A final note, this is fully compatible with jQuery (not problem with $)</p>\n\n<p>Links: <a href=\"http://www.codeplex.com/aspnet/Wiki/View.aspx?title=AJAX\" rel=\"nofollow\">Home page</a>, <a href=\"http://www.codeplex.com/aspnet/Release/ProjectReleases.aspx?ReleaseId=14924\" rel=\"nofollow\">Version I currently use</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Thanks for the comments guys. I've gone with the following:</p>\n\n<pre><code>var EntriesRegistry = (function(){\n\n\tvar instance = null;\n\n\tfunction __constructor() {\n\n\t\tvar\n\t\t\tself = this,\n\t\t\tobservations = {};\n\n\t\tthis.set = function(n,v)\n\t\t{\n\t\t\tself[n] = v;\n\n\t\t\tif( observations[n] )\n\t\t\t\tfor( var i=0; i &lt; observations[n].length; i++ )\n\t\t\t\t\tobservations[n][i].apply(null, [v, n]);\n\n\t\t}\n\n\t\tthis.get = function(n)\n\t\t{\n\t\t\treturn self[n];\n\t\t}\n\n\t\tthis.observe = function(n,f)\n\t\t{\n\n\t\t\tif(observations[n] == undefined)\n\t\t\t\tobservations[n] = [];\n\n\t\t\tobservations[n].push(f);\n\t\t}\n\n\t}\n\n\treturn new function(){\n\t\tthis.getInstance = function(){\n\t\t\tif (instance == null)\n\t\t\t{\n\t\t\t\tinstance = new __constructor();\n\t\t\t\tinstance.constructor = null;\n\t\t\t}\n\t\t\treturn instance;\n\t\t}\n\t}\n})();\n\nvar entries = EntriesRegistry.getInstance();\n\nvar test = function(v){ alert(v); };\n\nentries.set('bob', 'meh');\n\nentries.get('bob');\n\nentries.observe('seth', test);\n\nentries.set('seth', 'dave');\n</code></pre>\n\n<p>Taking on-board your comments, I'll be using event delegation on the form objects to update the registry and trigger the registered observing methods.</p>\n\n<p>This is working well for me so far... can you guys see any problems with this?</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>I was searching for the same thing and hitted your question... none of the answers satisfied my needs so I came up with this solution that I would like to share:</p>\n\n<pre><code>var ObservedObject = function(){\n    this.customAttribute = 0\n    this.events = {}\n    // your code...\n}\nObservedObject.prototype.changeAttribute = function(v){\n     this.customAttribute = v\n     // your code...\n     this.dispatchEvent('myEvent')\n}\nObservedObject.prototype.addEventListener = function(type, f){\n    if(!this.events[type]) this.events[type] = []\n    this.events[type].push({\n        action: f,\n        type: type,\n        target: this\n    })\n}\nObservedObject.prototype.dispatchEvent = function(type){\n    for(var e = 0; e &lt; this.events[type].length; ++e){\n        this.events[type][e].action(this.events[type][e])\n    }\n}\nObservedObject.prototype.removeEventListener = function(type, f){\n    if(this.events[type]) {\n        for(var e = 0; e &lt; this.events[type].length; ++e){\n            if(this.events[type][e].action == f)\n                this.events[type].splice(e, 1)\n        }\n    }\n}\n\nvar myObj = new ObservedObject()\n\nmyObj.addEventListener('myEvent', function(e){// your code...})\n</code></pre>\n\n<p>It's a simplification of the DOM Events API and works just fine!\nHere is a more complete <a href=\"http://jsfiddle.net/nNfFv/\" rel=\"nofollow\">example</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm working on a fiddly web interface which is mostly built with JavaScript. Its basically one (very) large form with many sections. Each section is built based on options from other parts of the form. Whenever those options change the new values are noted in a \"registry\" type object and the other sections re-populate accordingly.</p>\n\n<p>Having event listeners on the many form fields is starting to slow things down, and refreshing the whole form for each change would be too heavy/slow for the user.</p>\n\n<p>I'm wondering whether its possible to add listeners to the registry object's attributes rather than the form elements to speed things up a bit? And, if so, could you provide/point me to some sample code?</p>\n\n<p>Further information:</p>\n\n<ul>\n<li>This is a plug-in for jQuery, so any functionality I can build-on from that library would be helpful but not essential.</li>\n<li>Our users are using IE6/7, Safari and FF2/3, so if it is possible but only for \"modern\" browsers I'll have to find a different solution.</li>\n</ul>\n",
            "last_activity_date": 1362082792,
            "question_id": 240592,
            "score": 14,
            "tags": [
                "javascript",
                "javascript-events"
            ],
            "title": "Is it possible to listen for changes to an object&#39;s attributes in JavaScript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>In Firefox, it does appear to be a race between layout completing and the CSS transition.  Chrome is much more predictable.  If I set the class name on a <code>setTimeout()</code>, Chrome always works, Firefox only works if the <code>setTimeout()</code> time is long.</p>\n\n<p>With this code in Firefox (even using the <code>setTimeout()</code>), the text shows immediately:</p>\n\n<pre><code>function f() {\n    var a = document.createElement('a');\n    a.id = 'id';\n    a.innerHTML = ' fading in?';\n    document.getElementsByTagName('p')[0].appendChild(a);\n    // at this point I expect the span element to be with opacity=0\n\n    setTimeout(function() {\n        a.className = 'fadeIn';\n    }, 10);\n    return false;\n}\n</code></pre>\n\n<p>But, if I force a reflow by requesting a property that can only be returned after layout, it then starts to work in Firefox:</p>\n\n<pre><code>function f() {\n    var a = document.createElement('a');\n    a.id = 'id';\n    a.innerHTML = ' fading in?';\n    document.getElementsByTagName('p')[0].appendChild(a);\n    // at this point I expect the span element to be with opacity=0\n\n    // request property that requires layout to force a layout\n    var x = a.clientHeight;\n    setTimeout(function() {\n        a.className = 'fadeIn';\n    }, 10);\n    return false;\n}\n</code></pre>\n\n<p>Furthermore, once I've request that property to force a layout, I can even remove the <code>setTimeout()</code> and the animation works in Firefox.</p>\n\n<pre><code>function f() {\n    var a = document.createElement('a');\n    a.id = 'id';\n    a.innerHTML = ' fading in?';\n    document.getElementsByTagName('p')[0].appendChild(a);\n    // at this point I expect the span element to be with opacity=0\n\n    // request property that requires layout to force a layout\n    var x = a.clientHeight;\n    a.className = 'fadeIn';\n    return false;\n}\n</code></pre>\n\n<p>You can see this last one work here in both Chrome and Firefox: <a href=\"http://jsfiddle.net/jfriend00/phTdt/\">http://jsfiddle.net/jfriend00/phTdt/</a></p>\n\n<p>And, here's an article that discusses the phenomenon: <a href=\"http://gent.ilcore.com/2011/03/how-not-to-trigger-layout-in-webkit.html\">http://gent.ilcore.com/2011/03/how-not-to-trigger-layout-in-webkit.html</a></p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>I found a nicer way to trigger layout and make transitions work just after appending the element to the DOM:</p>\n\n<pre><code>window.getComputedStyle(element).cssText;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><code>requestAnimationFrame()</code> (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window.requestAnimationFrame\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/window.requestAnimationFrame</a>) appears to work across Firefox, Chrome and Safari. A more reliable, logical solution that <code>setTimeout()</code>. For older browsers (IE8), it will require a Polyfill (naturally, the transition won't occur, but the CSS will still change).</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I cannot find a way to use css transitions on newly created dom elements.</p>\n\n<p>let's say I have an empty html document.</p>\n\n<pre><code>&lt;body&gt;\n    &lt;p&gt;&lt;a href=\"#\" onclick=\"return f();\"&gt;click&lt;/a&gt;&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>I also have this css</p>\n\n<pre><code>#id {\n    -moz-transition-property: opacity;\n    -moz-transition-duration: 5s;\n    opacity: 0;\n}\n\n#id.class {\n    opacity: 1;\n}\n</code></pre>\n\n<p>and this js</p>\n\n<pre><code>function f() {\n    var a = document.createElement('a');\n    a.id = 'id';\n    a.text = ' fading in?';\n    document.getElementsByTagName('p')[0].appendChild(a);\n    // at this point I expect the span element to be with opacity=0\n\n    a.className = 'class';\n    // now I expect the css transition to go and \"fade in\" the a        \n\n    return false;\n}\n</code></pre>\n\n<p>but, as you can see on <a href=\"http://jsfiddle.net/gwxkW/1/\">http://jsfiddle.net/gwxkW/1/</a> when you click the element appears instantaneously.</p>\n\n<p>If I try to set the class in a <code>timeout()</code> i <em>often</em> find the result, but to me it seems more a race between javascript and the css engine. Is there some specific event to listen? I tried to use <code>document.body.addEventListener('DOMNodeInserted', ...)</code> but it's not working.</p>\n\n<p>How can I apply css transitions on newly created elements? </p>\n",
            "last_activity_date": 1419279603,
            "question_id": 12088819,
            "score": 13,
            "tags": [
                "javascript",
                "css",
                "firefox",
                "css3",
                "css-transitions"
            ],
            "title": "css transitions on new elements"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I agree with with @Sirko. Preferably, you <em>should</em> use feature-detection instead. An alternative to to <a href=\"http://modernizr.com/\" rel=\"nofollow\">Modernizr</a> would be jQuery's <a href=\"http://api.jquery.com/jQuery.support/\" rel=\"nofollow\"><code>$.support()</code></a> function. It's not <em>exactly</em> the same thing, but it may suit your needs.</p>\n\n<p>If you insist on browser-detection, you can write your own script using jQuery's <a href=\"http://api.jquery.com/jQuery.browser/\" rel=\"nofollow\"><code>$.browser()</code></a> function.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use <code>navigator</code> object for this and in that you can use <code>userAgent</code> property like</p>\n\n<pre><code> if (navigator.userAgent.indexOf('Firefox') != -1 &amp;&amp; parseFloat(navigator.userAgent.substring(navigator.userAgent.indexOf('Firefox') + 8)) &gt;= 3.6){//Firefox\n //Allow\n }else if (navigator.userAgent.indexOf('Chrome') != -1 &amp;&amp; parseFloat(navigator.userAgent.substring(navigator.userAgent.indexOf('Chrome') + 7).split(' ')[0]) &gt;= 15){//Chrome\n //Allow\n }else if(navigator.userAgent.indexOf('Safari') != -1 &amp;&amp; navigator.userAgent.indexOf('Version') != -1 &amp;&amp; parseFloat(navigator.userAgent.substring(navigator.userAgent.indexOf('Version') + 8).split(' ')[0]) &gt;= 5){//Safari\n //Allow\n }else{\n // Block\n }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 33
                }
            ],
            "body": "<p>does anyone have a script for checking for old browsers. It would have to follow this criteria:</p>\n\n<ol>\n<li><p>Allow firefox 3.6 or up</p></li>\n<li><p>Allow Google Chrome 15 and up</p></li>\n<li><p>Allow Safari 5 or up</p></li>\n<li><p>Block IE and opera</p></li>\n<li><p>Block all other browsers</p></li>\n</ol>\n",
            "last_activity_date": 1367271254,
            "question_id": 10257810,
            "score": 13,
            "tags": [
                "javascript",
                "browser",
                "cross-browser"
            ],
            "title": "Javascript check browser"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>HTML inside canvas is not possible, but maybe you could position your elements absolutely so that they are \"floating\" over the canvas, but not inside it.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I don't believe you can 'put' HTML content inside a canvas tag. Whatever you put in there will actually be displayed if the browser <em>doesn't</em> support <code>&lt;canvas&gt;</code>.</p>\n\n<p>You can, however, position your buttons absolutely over top of a canvas or render areas in your canvas that 'look' like buttons and handle the events yourself (a lot of work).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Given that the <a href=\"http://dev.w3.org/html5/spec/the-canvas-element.html#the-canvas-element\">canvas element</a> has a <a href=\"http://dev.w3.org/html5/spec/content-models.html#transparent\">transparent content model</a>, it may contain <em>fallback</em> elements which are displayed in the event that the <code>canvas</code> element is unsupported. They will <strong>not</strong> be displayed if the canvas <em>is</em> supported.</p>\n\n<p>You can position HTML elements relative to the canvas' parent to have the buttons \"hovering\" over the canvas. A <a href=\"http://dev.w3.org/html5/spec/interactive-elements.html#menus\">menu element</a> could be an appropriately semantic element to render a list of controls, depending on the context:</p>\n\n<sub>HTML:</sub>\n\n<pre><code>&lt;div id=\"container\"&gt;\n  &lt;canvas id=\"viewport\"&gt;\n  &lt;/canvas&gt;\n  &lt;menu id=\"controls\"&gt;\n  &lt;/menu&gt;\n&lt;/div&gt;\n</code></pre>\n\n<sub>CSS:</sub>\n\n<pre><code>#container\n{\n  height: 400px;\n  position: relative;\n  width: 400px;\n}\n#viewport\n{\n  height: 100%;\n  width: 100%;\n}\n#controls\n{\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  width: 100%;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>HTML inside of canvas is not possible.<br>\nBut if you really want to use buttons, why don't you try positioning the buttons on top of the canvas?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can put the button on top of the <code>canvas</code> by giving the canvas a <code>z-index</code> which is lower than the <code>z-index</code> of the button:</p>\n\n<pre><code>&lt;canvas style=\"z-index:1\"&gt;&lt;/canvas&gt;\n&lt;input type=\"button\" style=\"z-index:2; position:absolute; top:x; left:y\" value=\"test\"/&gt;\n</code></pre>\n\n<p>where <code>x</code> and <code>y</code> are numbers.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I want to make the buttons for the game I'm making as real HTML buttons, but they need to be inside the canvas.</p>\n\n<p>How would I go about doing this?</p>\n",
            "last_activity_date": 1420293449,
            "question_id": 4797748,
            "score": 12,
            "tags": [
                "javascript",
                "html",
                "css",
                "html5",
                "canvas"
            ],
            "title": "Can I put an HTML button inside the canvas?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Sure. Remember the load needs to be added before the src attribute.</p>\n\n<pre><code>$('&lt;img /&gt;').load( function(){\n  console.log('loaded');\n}).attr('src', imgUrl);\n</code></pre>\n\n<p>If you have defined the image tag in the markup then your stuck with when the window load event fires to be sure the image has come down the wire.</p>\n",
                    "is_accepted": true,
                    "score": 27
                },
                {
                    "body": "<p>Another option, if it suits you: The <a href=\"http://www.w3schools.com/jsref/jsref%5Fonload.asp\" rel=\"nofollow\">onload event</a> occurs immediately after a page or an image is loaded.</p>\n\n<p>Such as:</p>\n\n<pre><code>&lt;img ... onload=\"alert('test');\" /&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>$('img.beacon').load()\n</code></pre>\n\n<p>Will not always work correctly, ussually I do this:</p>\n\n<pre><code>$.fn.imageLoad = function(fn){\n    this.load(fn);\n    this.each( function() {\n        if ( this.complete &amp;&amp; this.naturalWidth !== 0 ) {\n            $(this).trigger('load');\n        }\n    });\n}\n</code></pre>\n\n<p>The above code also covers cases where the image has finished loading before the script is executed. This can happen when you define the image in the markup. </p>\n\n<p>Use like this:</p>\n\n<pre><code>&lt;img src='http://example.com/image.png' class='beacon' /&gt;\n&lt;script type='text/javascript'&gt;\n$(document).ready(function(){ //document.ready not really necessary in this case\n   $('img.beacon').imageLoad(function(){\n      //do stuff\n   });\n});\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>You could use the <a href=\"http://docs.jquery.com/Events/load\" rel=\"nofollow\">onload</a> event which fires when the entire page has finished loading.</p>\n\n<pre><code>$(window).load(function(){\n  //everything is loaded\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>   &lt;script type=\"text/javascript\"&gt;\n   $().ready(function() {\n\n       $('img#beacon').attr('src', 'http://sstatic.net/so/img/so/logo.png')\n            .load(function() { alert('Image Loaded'); })\n            .error(function() { alert('Error Loading Image'); });\n   });\n   &lt;/script&gt;\n</code></pre>\n\n<p>This will load the Stackoverflow logo.</p>\n\n<p>If it loads successfully, the alert('Image Loaded'); is performed</p>\n\n<p>if it fails, the alert('Error Loading Image'); is performed</p>\n\n<p>of course, either of these can be replaced with your own functions.</p>\n\n<p>As a new user, it refused my image tag; but the image tag should only contain the id='beacon' attribute; unless you want to add a class. We're setting the 'src' attribute in code here, typically images that you are monitoring for completion have src values that are set programatically anyway. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here's a simple javascript code that works on all browsers:</p>\n\n<pre><code>var myImage = new Image();\n\nmyImage.onload = function() {\n    var image_width = myImage.width;\n    var image_height = myImage.height;\n    $('#pictureEl').html('&lt;img width=\"'+ image_width +'\" height=\"'+ image_height +'\" src='+ myImage.src + '&gt;&lt;/img&gt;');   \t\t\n};\n\nmyImage.src = myUrl;\n</code></pre>\n\n<p>A jQuery snippet must be doing the same thing, under the hood.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>If I have a beacon:</p>\n\n<pre><code>&lt;img src=\"http://example.com/beacon\" /&gt;\n</code></pre>\n\n<p>I want a method to be called once the beacon request finishes. Something like:</p>\n\n<pre><code>&lt;script&gt;\n    $(\"img.beacon\").load(function() {\n        // do stuff knowing the beacon is done\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Is it possible? Is it in jQuery?</p>\n",
            "last_activity_date": 1272064123,
            "question_id": 1257385,
            "score": 12,
            "tags": [
                "javascript",
                "jquery",
                "image"
            ],
            "title": "JavaScript: Know when an image is fully loaded"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>If you're open to using other technology, try using less: <a href=\"http://lesscss.org/\" rel=\"nofollow\">http://lesscss.org/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>jQuery('.simpleClass').css('margin-left', (jQuery('#accordian').width() / 2) - (jQuery('.simpleColor').width() / 2) + 'px');\n</code></pre>\n\n<p>Should do what you are wanting.  But you need to do something like this in javascript, you can't do it in pure CSS unless the widths for #accordian and .simpleColor are known in advance (and thus calculated in advance).</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It is not possible to do mathematic operations inside CSS natively.  You could use JavaScript to change CSS properties on page load, but this is a pain and must be done every page load making your page slow.</p>\n\n<p>You'll need to use a CSS preprocessor like <a href=\"http://lesscss.org/#-operations\">LESS</a>, <a href=\"http://learnboost.github.com/stylus/\">Stylus</a>, or <a href=\"http://sass-lang.com/\">SASS</a>.</p>\n\n<p>The bonus to using either of these languages is that you can generate actual CSS stylesheets from them.  You also get benefits like functions, mixins, variable, and more.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I believe the CSS should be pure style definition. I dont like to mix some calculations with that. I would do that in my javascript</p>\n\n<pre><code>var accWidth=parseInt($(\"#accordion\").css(\"width\").replace(\"px\",\"\"));\nvar simpWidth=parseInt($(\".simpleColor\").css(\"width\").replace(\"px\",\"\"));\nvar marginLeft=((accWidth/2)-(simpWidth/2));       \n$(\".simpleClass\").css(\"margin-left\",marginLeft);\n</code></pre>\n\n<p>Working sample <a href=\"http://jsfiddle.net/mzTRw/19/\" rel=\"nofollow\">http://jsfiddle.net/mzTRw/19/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There's a CSS function called <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/calc\">calc</a> that is starting to get pretty good support. The syntax works as followed:</p>\n\n<pre><code>width: calc(50% - 100px);\n</code></pre>\n\n<p>(Note that the whitespace around the operators is significant)</p>\n\n<p>This allows true dynamic computational support in CSS. With a preprocessor, you can only combine static lengths with static lengths, and relative lengths with relative ones.</p>\n\n<p>Calc is supported since Chrome 19, Firefox 4, and IE9. The feature isn't quite widely supported enough to use it widely, but it will be not too far into the future and it's something to remember and look forward to.</p>\n",
                    "is_accepted": true,
                    "score": 30
                },
                {
                    "body": "<p>See this Example.. He has used much math in css.</p>\n\n<p><a href=\"http://codepen.io/schoenwaldnils/pen/DLiyr\" rel=\"nofollow\">http://codepen.io/schoenwaldnils/pen/DLiyr</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have jquery accorion id <code>#accordion</code> and some of the content inside header class name <code>.simpleColor</code>. Now I want to give a calculated margin to .simpleColor. In pseudo...it looks something like this,</p>\n\n<pre><code>.simpleClass {\n    margin-left: ((#accordion.width/2) - (.simpleColor.width/2));\n}\n</code></pre>\n\n<p>I am open to use any other technology such as javascript to achieve this if it is possible.</p>\n",
            "last_activity_date": 1390895426,
            "question_id": 10378292,
            "score": 11,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "css3"
            ],
            "title": "Is it possible to do mathematics inside CSS?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Rewriting your supplied pseudo-code into JavaScript:</p>\n\n<pre><code>function line(x0, y0, x1, y1){\n   var dx = Math.abs(x1-x0);\n   var dy = Math.abs(y1-y0);\n   var sx = (x0 &lt; x1) ? 1 : -1;\n   var sy = (y0 &lt; y1) ? 1 : -1;\n   var err = dx-dy;\n\n   while(true){\n     setPixel(x0,y0);  // Do what you need to for this\n\n     if ((x0==x1) &amp;&amp; (y0==y1)) break;\n     var e2 = 2*err;\n     if (e2 &gt;-dy){ err -= dy; x0  += sx; }\n     if (e2 &lt; dx){ err += dx; y0  += sy; }\n   }\n}\n</code></pre>\n\n<p>Note that comparing floats directly may fail as you step (though it shouldn't when stepping by integer amounts, it might if either end point is non-integer), so instead of directly comparing the end points you might want to use an epsilon:</p>\n\n<pre><code>if (Math.abs(x0-x1)&lt;0.0001 &amp;&amp; Math.abs(y0-y1)&lt;0.0001) break;\n</code></pre>\n\n<p>This will necessarily slow you down, however, so only do this if you are dealing with non-integers.</p>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>You can take a look at a Codeproject article titled <a href=\"http://www.codeproject.com/KB/scripting/javascriptlinedrawing.aspx\" rel=\"nofollow\"><strong>\"Drawing lines in Mozilla based browsers and the Internet Explorer\"</strong></a>. </p>\n\n<p>It contains a detail-oriented Javascript implementation of the Bresenham algorithm with explanations.</p>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>Alternatively, if the goal is simply to draw lines inside the browser, then <code>&lt;canvas&gt;</code> tag comes with prebuilt drawing methods (<a href=\"http://jsfiddle.net/M6sht/\" rel=\"nofollow\">a working sample</a>):</p>\n\n<pre><code>&lt;canvas id=\"canvas\" width=\"300\" height=\"300\"&gt;&lt;/canvas&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\n    var canvas = document.getElementById(\"canvas\"); \n    var ctx = canvas.getContext(\"2d\");\n\n    ctx.moveTo(0,300);\n    ctx.lineTo(150,150);\n    ctx.strokeStyle = \"#000000\";\n    ctx.stroke();\n\n&lt;/script&gt;\n</code></pre>\n\n<p>The only downside to <code>&lt;canvas&gt;</code> is IE which does not support it in versions below 9 but as <a href=\"http://stackoverflow.com/users/405017/phrogz\">Phrogz</a> points out in comments, <a href=\"http://code.google.com/p/explorercanvas/\" rel=\"nofollow\"><strong>explorercanvas</strong></a> provides a way around that restriction by emulating <code>&lt;canvas&gt;</code> calls with VML.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I need a fast algorithm for calculating coordinates for a line between two points. I tried to find good JavaScript Bresenham implementation, but there are too many and quite confusing publications. In wikipedia - <a href=\"http://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm\">here</a> the fastest and most simple form (no divisions and error calculation for both directions) is presented in pseudocode like this:</p>\n\n<pre><code> function line(x0, y0, x1, y1)\n   dx := abs(x1-x0)\n   dy := abs(y1-y0) \n   if x0 &lt; x1 then sx := 1 else sx := -1\n   if y0 &lt; y1 then sy := 1 else sy := -1\n   err := dx-dy\n\n   loop\n     setPixel(x0,y0)\n     if x0 = x1 and y0 = y1 exit loop\n     e2 := 2*err\n     if e2 &gt; -dy then \n       err := err - dy\n       x0 := x0 + sx \n     if e2 &lt;  dx then \n       err := err + dx\n       y0 := y0 + sy \n   end loop\n</code></pre>\n\n<p>Do you know of a simple and robust JavaScript Bresenham implementation based on this pseudocode?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Thanks everybody! This is what I came with at the end:</p>\n\n<pre><code>  function calcStraightLine (startCoordinates, endCoordinates) {\n    var coordinatesArray = new Array();\n    // Translate coordinates\n    var x1 = startCoordinates.left;\n    var y1 = startCoordinates.top;\n    var x2 = endCoordinates.left;\n    var y2 = endCoordinates.top;\n    // Define differences and error check\n    var dx = Math.abs(x2 - x1);\n    var dy = Math.abs(y2 - y1);\n    var sx = (x1 &lt; x2) ? 1 : -1;\n    var sy = (y1 &lt; y2) ? 1 : -1;\n    var err = dx - dy;\n    // Set first coordinates\n    coordinatesArray.push(new Coordinates(y1, x1));\n    // Main loop\n    while (!((x1 == x2) &amp;&amp; (y1 == y2))) {\n      var e2 = err &lt;&lt; 1;\n      if (e2 &gt; -dy) {\n        err -= dy;\n        x1 += sx;\n      }\n      if (e2 &lt; dx) {\n        err += dx;\n        y1 += sy;\n      }\n      // Set coordinates\n      coordinatesArray.push(new Coordinates(y1, x1));\n    }\n    // Return the result\n    return coordinatesArray;\n  }\n</code></pre>\n",
            "last_activity_date": 1355983523,
            "question_id": 4672279,
            "score": 11,
            "tags": [
                "javascript",
                "algorithm",
                "bresenham"
            ],
            "title": "Bresenham algorithm in Javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I believe timers (setInterval()) are suspended when the app enters the background. You could do something like:</p>\n\n<pre><code>var lastFired = new Date().getTime();\nsetInterval(function() {\n    now = new Date().getTime();\n    if(now - lastFired &gt; 5000) {//if it's been more than 5 seconds\n        alert(\"onfocus\");\n    }\n    lastFired = now;\n}, 500);\n</code></pre>\n\n<p>You may need to adjust those time intervals to suite your needs.</p>\n\n<p>But, most likely, if it has been long enough to need a refresh (a few days) safari will probably reload the page because it is out of memory.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>The <a href=\"http://www.w3.org/TR/2011/WD-page-visibility-20110602/#pv-page-preview\" rel=\"nofollow\">Page Visibility API</a> would probably offer a solution to this Problem. I guess this API has not been implemented in Mobile Safari yet, at least I haven't found any documentation for an iOS implementation. However, an Implementation has been commited to the Webkit Trunk, so there is a chance that it will be supported by future Versions of Mobile Safari.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Since the problem is with mobile safari and it supports popstate event, you can use this event to detect when the user is back</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use the <code>pageshow</code> and <code>pagehide</code> events.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n        window.addEventListener(\"pageshow\", function(evt){\n            alert('show');\n        }, false);\n        window.addEventListener(\"pagehide\", function(evt){\n            alert('hide');\n        }, false);\n&lt;/script&gt;\n</code></pre>\n\n<p><a href=\"https://developer.apple.com/library/mac/documentation/AppleApplications/Reference/SafariWebContent/HandlingEvents/HandlingEvents.html\" rel=\"nofollow\">https://developer.apple.com/library/mac/documentation/AppleApplications/Reference/SafariWebContent/HandlingEvents/HandlingEvents.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can I build a webpage which is able to monitor when the page gets the focus, especially when Safari is in the background and the user switches Safari back to the foreground.</p>\n\n<p>The code below does not fire the event when switching to Safari on an iPhone</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;script type=\"text/javascript\"&gt;\n      window.onfocus = function() { alert(\"onfocus\"); };\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n\n    Main text\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>According <a href=\"http://www.quirksmode.org/dom/events/index.html\">http://www.quirksmode.org/dom/events/index.html</a> : Safari iPhone does not fire the event when the window gains the focus. </p>\n\n<p>So my question is still: how to detect by using javascript on a webpage within Safari for iPhone that the window receives the focus?</p>\n",
            "last_activity_date": 1416520139,
            "question_id": 4656387,
            "score": 11,
            "tags": [
                "javascript",
                "iphone",
                "ios",
                "javascript-events",
                "mobile-safari"
            ],
            "title": "How to detect in iOS webapp when switching back to Safari from background?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Tada! Timeago: <a href=\"http://timeago.yarp.com/\">http://timeago.yarp.com/</a></p>\n\n<p>Oh hang on - without plugins? Why's that then? I guess you could open up the plugin file and hack the guts out of it.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Well it's pretty easy if you aren't overly concerned with accuracy. What wrong with the trivial method?</p>\n\n<pre><code>function timeDifference(current, previous) {\n\n    var msPerMinute = 60 * 1000;\n    var msPerHour = msPerMinute * 60;\n    var msPerDay = msPerHour * 24;\n    var msPerMonth = msPerDay * 30;\n    var msPerYear = msPerDay * 365;\n\n    var elapsed = current - previous;\n\n    if (elapsed &lt; msPerMinute) {\n         return Math.round(elapsed/1000) + ' seconds ago';   \n    }\n\n    else if (elapsed &lt; msPerHour) {\n         return Math.round(elapsed/msPerMinute) + ' minutes ago';   \n    }\n\n    else if (elapsed &lt; msPerDay ) {\n         return Math.round(elapsed/msPerHour ) + ' hours ago';   \n    }\n\n    else if (elapsed &lt; msPerMonth) {\n        return 'approximately ' + Math.round(elapsed/msPerDay) + ' days ago';   \n    }\n\n    else if (elapsed &lt; msPerYear) {\n        return 'approximately ' + Math.round(elapsed/msPerMonth) + ' months ago';   \n    }\n\n    else {\n        return 'approximately ' + Math.round(elapsed/msPerYear ) + ' years ago';   \n    }\n}\n</code></pre>\n\n<p>Working example <a href=\"http://jsfiddle.net/shooter/YXUwF/\">here</a>. </p>\n\n<p>You might want to tweak it to handle the singular values better (e.g. <code>1 day</code> instead of <code>1 days</code>) if that bothers you.</p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>Here is exact mimic of twitter time ago without plugins:</p>\n\n<pre><code>  function timeSince(timeStamp) {\n    var now = new Date(),\n      secondsPast = (now.getTime() - timeStamp.getTime()) / 1000;\n    if(secondsPast &lt; 60){\n      return parseInt(secondsPast) + 's';\n    }\n    if(secondsPast &lt; 3600){\n      return parseInt(secondsPast/60) + 'm';\n    }\n    if(secondsPast &lt;= 86400){\n      return parseInt(secondsPast/3600) + 'h';\n    }\n    if(secondsPast &gt; 86400){\n        day = timeStamp.getDate();\n        month = timeStamp.toDateString().match(/ [a-zA-Z]*/)[0].replace(\" \",\"\");\n        year = timeStamp.getFullYear() == now.getFullYear() ? \"\" :  \" \"+timeStamp.getFullYear();\n        return day + \" \" + month + year;\n    }\n  }\n</code></pre>\n\n<p>Gist <a href=\"https://gist.github.com/timuric/11386129\" rel=\"nofollow\">https://gist.github.com/timuric/11386129</a></p>\n\n<p>Fiddle <a href=\"http://jsfiddle.net/qE8Lu/1/\" rel=\"nofollow\">http://jsfiddle.net/qE8Lu/1/</a></p>\n\n<p>Hope it helps.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>For anyone interested, I ended up creating a Handlebars helper to do this.\nUsage:</p>\n\n<pre><code>    {{#beautify_date}}\n        {{timestamp_ms}}\n    {{/beautify_date}}\n</code></pre>\n\n<p>Helper:</p>\n\n<pre><code>    Handlebars.registerHelper('beautify_date', function(options) {\n        var timeAgo = new Date(parseInt(options.fn(this)));\n\n        if (Object.prototype.toString.call(timeAgo) === \"[object Date]\") {\n            if (isNaN(timeAgo.getTime())) {\n                return 'Not Valid';\n            } else {\n                var seconds = Math.floor((new Date() - timeAgo) / 1000),\n                intervals = [\n                    Math.floor(seconds / 31536000),\n                    Math.floor(seconds / 2592000),\n                    Math.floor(seconds / 86400),\n                    Math.floor(seconds / 3600),\n                    Math.floor(seconds / 60)\n                ],\n                times = [\n                    'year',\n                    'month',\n                    'day',\n                    'hour',\n                    'minute'\n                ];\n\n                var key;\n                for(key in intervals) {\n                    if (intervals[key] &gt; 1)  \n                        return intervals[key] + ' ' + times[key] + 's ago';\n                    else if (intervals[key] === 1) \n                        return intervals[key] + ' ' + times[key] + ' ago';\n                }\n\n                return Math.floor(seconds) + ' seconds ago';\n            }\n        } else {\n            return 'Not Valid';\n        }\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p><strong>I'm looking for a nice JS snippet to convert a normal timestamp (eg from twitter API) to a nice user friendly relative time (eg 2 seconds ago, one week ago etc).</strong></p>\n\n<p>Anyone care to share some of their favourite methods (preferably not using plugins)?</p>\n",
            "last_activity_date": 1413924533,
            "question_id": 6108819,
            "score": 10,
            "tags": [
                "javascript",
                "datetime",
                "time",
                "relative-date"
            ],
            "title": "Javascript timestamp to relative time (eg 2 seconds ago, one week ago etc), best methods?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Great news, I found a true solution to switching/changing videos in HTML5 video tags via JavaScript without using the annoying hack I tried to explain! It's unbelievably simple and it just took a LOT of experimenting with IE. Below is the code in its simplest form to work in IE:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;body&gt;\n    &lt;video id='videoPlayer' width=\"320\" height=\"240\" controls=\"controls\"&gt;\n       &lt;source id='mp4Source' src=\"movie.mp4\" type=\"video/mp4\" /&gt;\n       &lt;source id='oggSource' src=\"movie.ogg\" type=\"video/ogg\" /&gt;\n    &lt;/video&gt;\n\n&lt;!-- You MUST give your sources tags individual ID's for the solution to work. --&gt;\n\n    &lt;script&gt;\n      var player = document.getElementById('videoPlayer');\n\n      var mp4Vid = document.getElementById('mp4Source');\n\n      player.pause();\n\n      // Now simply set the 'src' attribute of the mp4Vid variable!!!!\n      // (...using the jQuery library in this case)\n\n      $(mp4Vid).attr('src', \"/pathTo/newVideo.mp4\");\n\n      player.load();\n      player.play();\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And there you have it. Unbelievably simple -- tested and working in IE8, and IE9...\nIf you are having any problems, please let me know.</p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I have literally read every stackoverflow thread regarding changing the video tag source dynamically via javascript in IE9, including the useful but not agreed upon posts <a href=\"http://stackoverflow.com/questions/7878367/video-tag-not-working-in-ie-9/7905151#7905151\">here</a> and <a href=\"http://stackoverflow.com/questions/6080433/unable-to-change-source-of-video-tag-via-javascript-on-ie9\">here</a>, but do feel like there is another solution. Here is the very basic example of what I'm trying to do:</p>\n\n<pre><code>    var video = document.getElementById('video');\n    //now, use either of the lines of code below to change source dynamically\n\n    video.src = \"nameOfVideo\";\n    //or use...\n    video.setAttribute(\"src\", \"nameOfVideo\");\n</code></pre>\n\n<p>Both of these lines of code are hated thoroughly by Internet Explorer, notably because the src is most definitely being changeed after being checked with a simple video.getAttribute, even though IE is not actually doing anything to switch the video.</p>\n\n<p>Yes, there are claims that with IE, you MUST have the src's listed with the HTML in order to change them after the page has loaded, BUT I have definitely found a thread on stackoverflow that proposed a solution via simple JavaScript. (To my disappointment, I can no longer find the thread that did so....and I've searched everywhere, believe me).</p>\n\n<p>With all that said, if anyone can provide a solution WITHOUT the use of placing all of the video src's within the HTML and instead, dynamically setting/creating the src's using JavaScript as shown above, I would be extremely grateful.</p>\n\n<p>(Or, if you could point me in the direction of the 'missing' overflow thread that tests if the attribute exists in IE, and then somehow set the src via javascript, that will also be appreciated).</p>\n",
            "last_activity_date": 1404510628,
            "question_id": 12151606,
            "score": 9,
            "tags": [
                "javascript",
                "internet-explorer",
                "html5-video",
                "setattribute"
            ],
            "title": "setAttribute and video.src for changing video tag source not working in IE9"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>What is your definition of \"not very good\"?</p>\n\n<p>All my sites use:</p>\n\n<pre><code>&lt;noscript&gt;\n  &lt;meta http-equiv=\"refresh\" content=\"0; url=http://www.sadtrombone.com/\" /&gt;\n&lt;/noscript&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Make the no-JavaScript version of the site the default. Include a small script in there to redirect to the scripted site.</p>\n\n<p>Or, abandon the use of a redirect entirely and go with <a href=\"http://en.wikipedia.org/wiki/Progressive_enhancement\">Progressive Enhancement</a></p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<pre><code>&lt;noscript&gt;\n    &lt;p&gt;This site is best viewed with Javascript. If you are unable to turn on Javascript, please use this &lt;a href=\"http://sitewithoutjavascript.com\"&gt;site&lt;/a&gt;.&lt;/p&gt;\n&lt;/noscript&gt;\n</code></pre>\n\n<p>Some people purposely disable Javascript, and you might want to give them a chance to turn it on before redirecting them.</p>\n",
                    "is_accepted": false,
                    "score": 40
                },
                {
                    "body": "<p>I wouldn't do client-side redirection, as that might seem annoying to the user. Instead, what I would do is use <code>&lt;noscript&gt;</code> to show the content of this JS-less site on the same page. It may be more work, but it would definitely be a smoother experience. </p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Use this code that I came up with:</p>\n\n<pre><code>&lt;noscript&gt;\n  &lt;style&gt;html{display:none;}&lt;/style&gt;\n  &lt;meta http-equiv=\"refresh\" content=\"0.0;url=nojs/index.php\"&gt;\n&lt;/noscript&gt;\n</code></pre>\n\n<p>It uses style to block what's on the page so then people won't notice anything before it redirects. The only thing that annoys me is that I want something better than meta refresh as that can be blocked on some browsers like IE. A PHP header isn't really a solution as you can't put it in a <code>noscript</code> tag as it will just ignore it and write it out straight away. </p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>I came up with a better solution than having to redirect the user as meta-refresh can be disabled in IE.</p>\n\n<p>Put this in the HEAD:</p>\n\n<p><code>&lt;style&gt;div#body{display:none;}&lt;/style&gt;</code></p>\n\n<p>Put this in the BODY:</p>\n\n<p><code>&lt;noscript&gt;NO JAVASCRIPT CONTENT HERE&lt;/noscript&gt;</code></p>\n\n<p><code>&lt;noscript&gt;&lt;div id=\"body\"&gt;&lt;/noscript&gt;JAVASCRIPT CONTENT HERE&lt;noscript&gt;&lt;/div&gt;&lt;/noscript&gt;</code></p>\n\n<p>That way the tags are where they're meant to be.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I have a site which relies heavily on javaScript. I created a mirror site, which has all the JS as well as all the elements that require JS removed. What is a good, easy way to redirect users to the mirror site if they don't have javaScript enabled?</p>\n\n<p>I tried this, but it doesn't seem very good:</p>\n\n<pre><code>&lt;noscript&gt;\n  &lt;meta http-equiv=\"refresh\" content=\"0; URL=nojs/index.php\"&gt;\n&lt;/noscript&gt;\n</code></pre>\n\n<p>I also tried to putting header-redirect into the noscript tag, but that didn't work.</p>\n",
            "last_activity_date": 1361388522,
            "question_id": 2489376,
            "score": 9,
            "tags": [
                "javascript",
                "redirect"
            ],
            "title": "How to redirect if javaScript is disabled?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>You should check out <a href=\"http://www.jquery.com\">jQuery</a>. It has a rich base of <a href=\"http://docs.jquery.com/Ajax\">AJAX functionality</a> that can give you the power to do all of this. You can load in an external page, and parse it's HTML content with intuitive <a href=\"http://docs.jquery.com/Selectors\">CSS-like selectors</a>.</p>\n\n<p>An example using $.get();</p>\n\n<pre><code>$.get(\"anotherPage.html\", {}, function(results){\n  alert(results); // will show the HTML from anotherPage.html\n  alert($(results).find(\"div.scores\").html()); // show \"scores\" div in results\n});\n</code></pre>\n\n<p>For external domains I've had to author a local PHP script that will act as a middle-man. jQuery will call the local PHP script passing in another server's URL as an argument, the local PHP script will gather the data, and jQuery will read the data from the local PHP script.</p>\n\n<pre><code>$.get(\"middleman.php\", {\"site\":\"http://www.google.com\"}, function(results){\n  alert(results); // middleman gives Google's HTML to jQuery\n});\n</code></pre>\n\n<p>Giving middleman.php something along the lines of </p>\n\n<pre><code>&lt;?php\n\n  // Do not use as-is, this is only an example.\n  // $_GET[\"site\"] set by jQuery as \"http://www.google.com\"\n  print file_get_contents($_GET[\"site\"]);\n\n?&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>You will need to write a proxy on the server to do this. And all requests will be to your server and then your server will load html and send it back to client. And there are no good way to implement this via javascript only.<br />\njQuery contains functionality to load JSON data or external scripts using XmlHttpRequest but this functionality can not be used for html pages. Also you may check <a href=\"http://groups.google.com/group/jquery-en/browse_thread/thread/130a8df99afdf9c4/82d6431c96cd14f5\" rel=\"nofollow\">this thread</a> of jQuery mailing list.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Write a proxy script that forwards along the http request from your domain, this will bypass the XMLHttpRequest restrictions.</p>\n\n<p>If your using PHP, simply use cURL to request and read the page, then simply spit out the html as if it was from you domain.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can also use a iframe to emulate an ajax request. This saves you the mess of having to code a Backend solution for a Frontend problem. Here is an example:</p>\n\n<pre><code>function setUploadEvent(typeComponet){\n       var eventType = \"\";\n       var iframe = document.getElementById(\"iframeId\");\n       try{\n           /* for Mozilla / Opera9 */\n           if (/(?!.*?compatible|.*?webkit)^mozilla|opera/i.test(navigator.userAgent)) {\n                eventType = \"onload\";\n           }else{\n           /* IE  */\n                eventType = \"onreadystatechange\";\n           }\n\n           iframe[eventType] = function(){\n                var doc = iframe.contentDocument || iframe.contentWindow.document;\n                var response = doc.body.innerHTML; /* or what ever content you are looking for */\n             }\n           }\n       catch(e){\n           alert(\"Error loading content\")}\n       }\n</code></pre>\n\n<p>That should do the trick. Please note that the Browser detection line is not the cleanest, you should absolutely use the ones provided in all the most common JS frameworks (Prototype, JQuery, etc)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>&lt;script language=\"JavaScript\" type=\"text/javascript\" src=\"http://www.example.com/hello.js\">&lt;/script></p>\n\n<p>You add the data into hello.js in as an array, JSON or similar. Example:\nvar daysInMonth = new Array(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);</p>\n\n<p>Getting a JavaScript from another server doesn't much simpler.. :-)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>$.get(); can get data from <em>jsbin.com</em> but i don't know why it can't get data from another site like google.com</p>\n\n<blockquote>\n  <p>$.get('http://jsbin.com/ufotu5', {},\n  function(results){  alert(results); \n  });</p>\n</blockquote>\n\n<p>demo: <a href=\"http://jsfiddle.net/Xj234/\" rel=\"nofollow\">http://jsfiddle.net/Xj234/</a>\ntested with firefox, chrome and safari.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is rather easy... if you know the 'secret' trick almost nobody shares..</p>\n\n<p>It's called Yahoo yql...</p>\n\n<p>So in order to regain 'power to the user' (and returning to the convenient mantra: 'never accept no'), just use <a href=\"http://query.yahooapis.com/\" rel=\"nofollow\">http://query.yahooapis.com/</a> (instead of a php? proxy serverside script).<br>\njQuery would not be strictly needed.</p>\n\n<p><strong>EXAMPLE 1:</strong><br>\nUsing the SQL-like command:   </p>\n\n<pre><code>select * from html \nwhere url=\"http://stackoverflow.com\" \nand xpath='//div/h3/a'\n</code></pre>\n\n<p>The following link will scrape SO for the newest questions (bypassing cross-domain security bull$#!7):<br>\n<a href=\"http://query.yahooapis.com/v1/public/yql?q=select%20title%20from%20html%20where%20url%3D%22http%3A%2F%2Fstackoverflow.com%22%20and%0A%20%20%20%20%20%20xpath%3D%27%2F%2Fdiv%2Fh3%2Fa%27%0A%20%20%20%20&amp;format=json&amp;callback=cbfunc\" rel=\"nofollow\">http://query.yahooapis.com/v1/public/yql?q=select%20title%20from%20html%20where%20url%3D%22http%3A%2F%2Fstackoverflow.com%22%20and%0A%20%20%20%20%20%20xpath%3D%27%2F%2Fdiv%2Fh3%2Fa%27%0A%20%20%20%20&amp;format=json&amp;callback=cbfunc</a></p>\n\n<p>As you can see this will return a JSON array (one can also choose xml) and calling the callback-function: <code>cbfunc</code>.</p>\n\n<p>Indeed, as a 'bonus' you also <a href=\"http://stackoverflow.com/a/1732454/588079\">save a kitten</a> every time you did not need to regex data out of 'tag-soup'.     </p>\n\n<p>Do you hear your little mad scientist inside yourself starting to giggle?     </p>\n\n<p>Then see <a href=\"http://stackoverflow.com/a/12080097/588079\">this answer</a> for more info (and don't forget it's comments for more examples).</p>\n\n<p>Good Luck!</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Thanks a lot, this is really a good trick. I did in this way:</p>\n\n<p>test.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script&gt;\nfunction loadXMLDoc()\n{\nif (window.XMLHttpRequest)\n  {// code for IE7+, Firefox, Chrome, Opera, Safari\n  xmlhttp=new XMLHttpRequest();\n  }\nelse\n  {// code for IE6, IE5\n  xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");\n  }\nxmlhttp.onreadystatechange=function()\n  {\n  if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200)\n    {\n    document.getElementById(\"myDiv\").innerHTML=xmlhttp.responseText;\n    }\n  }\nxmlhttp.open(\"GET\",\"sp.php\",true);\nxmlhttp.send();\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;h2&gt;Using the XMLHttpRequest object&lt;/h2&gt;\n&lt;div id=\"myDiv\"&gt;&lt;/div&gt;\n&lt;button type=\"button\" onclick=\"loadXMLDoc()\"&gt;Change Content&lt;/button&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>sp.php</p>\n\n<pre><code>&lt;?php\n  print file_get_contents(\"http://your.url.com/you-can-use-cross-domain\");\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can I make requests to other server(s) (i.e. get a page from any desired server) with a JavaScript within the user's browser? There are limitations in place to prevent this for methods like XMLHttpRequest, are there ways to bypass them or other methods?</p>\n\n<p>That is a general question, specifically I want to check a series of random websites and see if they contain a certain element, so I need the HTML content of a website without downloading any additional files; all that in a JavaScript file, <em>without any forwarding or proxy mechanism on a server</em>.</p>\n\n<p>(Note: one way is using Greasemonkey and its GM_xmlhttpRequest.)</p>\n",
            "last_activity_date": 1375938987,
            "question_id": 578095,
            "score": 9,
            "tags": [
                "javascript"
            ],
            "title": "How to get data with JavaScript from another server?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If you're using JavaScript (not KML) to populate your map, you can use <a href=\"http://code.google.com/p/google-maps-utility-library-v3/wiki/Libraries\" rel=\"nofollow\">http://code.google.com/p/google-maps-utility-library-v3/wiki/Libraries</a> for some things, including these sorts of markers.  It doesn't do <em>everything</em> that the deprecated API does, but it's certainly useful and valuable.  It's maintained by a bunch of Google employees.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>I know I might be late to the party, but here is something I just found which might be some sort of a replacement:</p>\n\n<p><a href=\"http://code.google.com/p/google-maps-icons/wiki/NumericIcons\" rel=\"nofollow\">http://code.google.com/p/google-maps-icons/wiki/NumericIcons</a></p>\n\n<p>which linked me to this site:\n<a href=\"http://mapicons.nicolasmollet.com\" rel=\"nofollow\">http://mapicons.nicolasmollet.com</a></p>\n\n<p>I guess it might be better to start caching the icons you are using from google to your own server (not sure what the licence is and if its possible legally)</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can try <a href=\"https://code.google.com/p/google-maps-utility-library-v3/wiki/Libraries#Marker_With_Label\" rel=\"nofollow\">Labeled Markers</a>!</p>\n\n<p>It's a very cool add-on.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p><a href=\"https://developers.google.com/chart/image/docs/gallery/dynamic_icons\">https://developers.google.com/chart/image/docs/gallery/dynamic_icons</a></p>\n\n<p>Im using this to create markers, e.g: <a href=\"http://chart.apis.google.com/chart?chst=d_map_pin_letter&amp;chld=%E2%80%A2|FF9900\">http://chart.apis.google.com/chart?chst=d_map_pin_letter&amp;chld=%E2%80%A2|FF9900</a></p>\n\n<p>or even</p>\n\n<pre><code>return new google.maps.MarkerImage(\"http://chart.apis.google.com/chart?chst=d_map_pin_letter&amp;chld=%E2%80%A2|\" + hexColor,\n            new google.maps.Size(21, 34),\n            new google.maps.Point(0,0),\n            new google.maps.Point(10, 34));\n</code></pre>\n\n<p>But the title says</p>\n\n<blockquote>\n  <p>Image Charts (Deprecated)</p>\n</blockquote>\n\n<p>Does anyone know for how long it will be usable? Are there any alternatives?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1407962343,
            "question_id": 11318672,
            "score": 8,
            "tags": [
                "javascript",
                "html",
                "google-visualization"
            ],
            "title": "Google charts dynamic icons deprecated. Alternatives?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Code below does not include the case with moving from the bottom (read patrick's comment below). Also it alows multiple event execution, due to several concurent <code>onscroll</code> events (in most browsers you won't see that most of the time).</p>\n\n<pre><code>$(document).ready(function(){\n    $(window).scroll(function() {\n        //check if your div is visible to user\n        // CODE ONLY CHECKS VISIBILITY FROM TOP OF THE PAGE\n        if ($(window).scrollTop() + $(window).height() &gt;= $('#your_element').offset().top) {\n            if(!$('#your_element').attr('loaded')) {\n                //not in ajax.success due to multiple sroll events\n                $('#your_element').attr('loaded', true);\n\n                //ajax goes here\n                //by theory, this code still may be called several times\n            }\n        }\n    });\n});\n</code></pre>\n\n<p><strong>Proper solution</strong>, that takes into consideration scrolling from bottom <a href=\"http://stackoverflow.com/a/10211585/1030113\">here</a>.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>I was looking for this to load advertising from my openX server only when the advertising should be visible. I'm using the iFrame version of openX which is loaded in a div. The answer here put me on my way to solving this problem, but the posted solution is a bit too simple. First of all, when the page is not loaded from the top (in case the user enters the page by clicking 'back') none of the divs are loaded. So you'll need something like this:</p>\n\n<pre><code>$(document).ready(function(){\n   $(window).scroll(lazyload);\n   lazyload();\n});\n</code></pre>\n\n<p>also, you'll need to know what defines a visible div. That can be a div that's fully visible or partially visible. If the bottom of the object is greater or equal to the top of the window AND the top of the object is smaller or equal to the bottom of the window it should be visible (or in this case: loaded). Your function lazyload may look like this:</p>\n\n<pre><code>function lazyload(){\n   var wt = $(window).scrollTop();    //* top of the window\n   var wb = wt + $(window).height();  //* bottom of the window\n\n   $(\".ads\").each(function(){\n      var ot = $(this).offset().top;  //* top of object (i.e. advertising div)\n      var ob = ot + $(this).height(); //* bottom of object\n\n      if(!$(this).attr(\"loaded\") &amp;&amp; wt&lt;=ob &amp;&amp; wb &gt;= ot){\n         $(this).html(\"here goes the iframe definition\");\n         $(this).attr(\"loaded\",true);\n      }\n   });\n}\n</code></pre>\n\n<p>Tested on all major browsers and even on my iPhone, works like a charm!!</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Here is a solution that lazy loads images when they come within 500px of view. It can be adapted to load other types of content. The images themselves have an attribute <code>data-lazy=\"http://...\"</code> with the image url in it, and then we just put a dummy transparent image for the <code>src</code> attribute.</p>\n\n<pre><code>var pixelLoadOffset = 500;\nvar debouncedScroll = debounce(function () {\n    var els = app.getSelector(el, 'img[data-lazy]');\n    if (!els.length) {\n        $(window).unbind('scroll', debouncedScroll);\n        return;\n    }\n    var wt = $(window).scrollTop();    //* top of the window\n    var wb = wt + $(window).height();  //* bottom of the window\n\n    els.each(function () {\n        var $this = $(this);\n        var ot = $this.offset().top;  //* top of object\n        var ob = ot + $this.height(); //* bottom of object\n        if (wt &lt;= ob + pixelLoadOffset &amp;&amp; wb &gt;= ot - pixelLoadOffset) {\n            $this.attr('src', $this.attr('data-lazy')).removeAttr('data-lazy');\n        }\n    });\n}, 100);\n$(window).bind('scroll', debouncedScroll);\n</code></pre>\n\n<p>The debounce function I'm using is as follows:</p>\n\n<pre><code>function debounce(func, wait, immediate) {\n    var timeout;\n    return function () {\n        var context = this, args = arguments;\n        clearTimeout(timeout);\n        timeout = setTimeout(function () {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        }, wait);\n        if (immediate &amp;&amp; !timeout) func.apply(context, args);\n    };\n}\n</code></pre>\n\n<p>You need to keep in mind that this isn't very effective on iOS, as the scroll event doesn't fire until <em>after</em> the user has finished scrolling, by which time they will already have seen the blank content.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to enable a lazy loading for the contents of my website.</p>\n\n<p>Just like Jquery Image loading <a href=\"http://www.appelsiini.net/projects/lazyload\">http://www.appelsiini.net/projects/lazyload</a> that is valid only for images.</p>\n\n<p>I want to do it for the content (DIV's).</p>\n\n<p>Suppose we have a long page then i want to download the div as they becomes visible.</p>\n\n<p>I will download the content using JSON or PageMethods. But i want the code that will execute the function for loading contents.</p>\n\n<p>So whether we can somehow find this that div is visible only scrolling down.</p>\n\n<p>Means i need to use some scroll events but dont know how.</p>\n\n<p>ANy help is appreciated.</p>\n",
            "last_activity_date": 1402049294,
            "question_id": 8192651,
            "score": 8,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Load (Lazy Loading) a Div whenever the DIV gets visible for the first time"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>The getNextNode will skip your desired endNode recursively if its a parent node. </p>\n\n<p>Perform the conditional break check inside of the getNextNode instead:</p>\n\n<pre><code>var getNextNode = function(node, skipChildren, endNode){\n  //if there are child nodes and we didn't come from a child node\n  if (endNode == node) {\n    return null;\n  }\n  if (node.firstChild &amp;&amp; !skipChildren) {\n    return node.firstChild;\n  }\n  if (!node.parentNode){\n    return null;\n  }\n  return node.nextSibling \n         || getNextNode(node.parentNode, true, endNode); \n};\n</code></pre>\n\n<p>and in while statement:</p>\n\n<pre><code>while (startNode = getNextNode(startNode, endNode));\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Here's an implementation I came up with to solve this:</p>\n\n<pre><code>function getNextNode(node)\n{\n    if (node.firstChild)\n        return node.firstChild;\n    while (node)\n    {\n        if (node.nextSibling)\n            return node.nextSibling;\n        node = node.parentNode;\n    }\n}\n\nfunction getNodesInRange(range)\n{\n    var start = range.startContainer;\n    var end = range.endContainer;\n    var commonAncestor = range.commonAncestorContainer;\n    var nodes = [];\n    var node;\n\n    // walk parent nodes from start to common ancestor\n    for (node = start.parentNode; node; node = node.parentNode)\n    {\n        nodes.push(node);\n        if (node == commonAncestor)\n            break;\n    }\n    nodes.reverse();\n\n    // walk children and siblings from start until end is found\n    for (node = start; node; node = getNextNode(node))\n    {\n        nodes.push(node);\n        if (node == end)\n            break;\n    }\n\n    return nodes;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The <a href=\"http://code.google.com/p/rangy/\" rel=\"nofollow\">Rangy library</a> has a <a href=\"http://code.google.com/p/rangy/wiki/RangyRange#Methods\" rel=\"nofollow\"><code>Range.getNodes([Array nodeTypes[, Function filter]])</code> function</a>. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>below code solve your problem </p>\n\n<pre><code>    &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n&lt;title&gt;payam jabbari&lt;/title&gt;\n&lt;script src=\"http://code.jquery.com/jquery-2.0.2.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n\n$(document).ready(function(){\n    var startNode = $('p.first').contents().get(0);\nvar endNode = $('span.second').contents().get(0);\nvar range = document.createRange();\nrange.setStart(startNode, 0);\nrange.setEnd(endNode, 5);\nvar selection = document.getSelection();\nselection.addRange(range);\n// below code return all nodes in selection range. this code work in all browser\nvar nodes = range.cloneContents().querySelectorAll(\"*\");\nfor(var i=0;i&lt;nodes.length;i++)\n{\n   alert(nodes[i].innerHTML);\n}\n});\n&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;div&gt;\n\n&lt;p class=\"first\"&gt;Even a week ago, the idea of a Russian military intervention in Ukraine seemed far-fetched if not totally alarmist. But the arrival of Russian troops in Crimea over the weekend has shown that he is not averse to reckless adventures, even ones that offer little gain. In the coming days and weeks&lt;/p&gt;\n\n&lt;ol&gt;\n    &lt;li&gt;China says military will respond to provocations.&lt;/li&gt;\n    &lt;li &gt;This Man Has Served 20 &lt;span class=\"second\"&gt; Years\u2014and May Die\u2014in &lt;/span&gt; Prison for Marijuana.&lt;/li&gt;\n    &lt;li&gt;At White House, Israel's Netanyahu pushes back against Obama diplomacy.&lt;/li&gt;\n&lt;/ol&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I made 2 additional fixes based on MikeB's answer to improve the accuracy of the selected nodes.</p>\n\n<p>I'm particularly testing this on select all operations, other than range selection made by dragging the cursor along text spanning across multiple elements.</p>\n\n<p>In Firefox, hitting select all (CMD+A) returns a range where it's startContainer &amp; endContainer is the contenteditable div, the difference is in the startOffset &amp; endOffset where it's respectively the index of the first and the last child node.</p>\n\n<p>In Chrome, hitting select all (CMD+A) returns a range where it's startContainer is the first child node of the contenteditable div, and the endContainer is the last child node of the contenteditable div.</p>\n\n<p>The modifications I've added work around the discrepancies between the two. You can see the comments in the code for additional explanation.</p>\n\n<pre><code>function getNextNode(node) {\n    if (node.firstChild)\n        return node.firstChild;\n\n    while (node) {\n        if (node.nextSibling) return node.nextSibling;\n        node = node.parentNode;\n    }\n}\n\nfunction getNodesInRange(range) {\n\n    // MOD #1\n    // When the startContainer/endContainer is an element, its\n    // startOffset/endOffset basically points to the nth child node\n    // where the range starts/ends.\n    var start = range.startContainer.childNodes[range.startOffset] || range.startContainer;\n    var end = range.endContainer.childNodes[range.endOffset] || range.endContainer;\n    var commonAncestor = range.commonAncestorContainer;\n    var nodes = [];\n    var node;\n\n    // walk parent nodes from start to common ancestor\n    for (node = start.parentNode; node; node = node.parentNode)\n    {\n        nodes.push(node);\n        if (node == commonAncestor)\n            break;\n    }\n    nodes.reverse();\n\n    // walk children and siblings from start until end is found\n    for (node = start; node; node = getNextNode(node))\n    {\n        // MOD #2\n        // getNextNode might go outside of the range\n        // For a quick fix, I'm using jQuery's closest to determine\n        // when it goes out of range and exit the loop.\n        if (!$(node.parentNode).closest(commonAncestor)[0]) break;\n\n        nodes.push(node);\n        if (node == end)\n            break;\n    }\n\n    return nodes;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to get all the DOM nodes that are within a range object, what's the best way to do this?</p>\n\n<pre><code>var selection = window.getSelection(); //what the user has selected\nvar range = selection.getRangeAt(0); //the first range of the selection\nvar startNode = range.startContainer;\nvar endNode = range.endContainer;\nvar allNodes = /*insert magic*/;\n</code></pre>\n\n<p>I've been been thinking of a way for the last few hours and came up with this:</p>\n\n<pre><code>var getNextNode = function(node, skipChildren){\n    //if there are child nodes and we didn't come from a child node\n    if (node.firstChild &amp;&amp; !skipChildren) {\n    \treturn node.firstChild;\n    }\n    if (!node.parentNode){\n    \treturn null;\n    }\n    return node.nextSibling \n    \t|| getNextNode(node.parentNode, true);\n};\n\nvar getNodesInRange = function(range){\n    var startNode = range.startContainer.childNodes[range.startOffset]\n    \t\t|| range.startContainer;//it's a text node\n    var endNode = range.endContainer.childNodes[range.endOffset]\n    \t\t|| range.endContainer;\n\n    if (startNode == endNode &amp;&amp; startNode.childNodes.length === 0) {\n    \treturn [startNode];\n    };\n\n    var nodes = [];\n    do {\n    \tnodes.push(startNode);\n    }\n    while ((startNode = getNextNode(startNode)) \n    \t\t&amp;&amp; (startNode != endNode));\n    return nodes;\n};\n</code></pre>\n\n<p>However when the end node is the parent of the start node it returns everything on the page. I'm sure I'm overlooking something obvious? Or maybe going about it in totally the wrong way.</p>\n\n<p><a href=\"https://developer.mozilla.org/en/DOM/range\">MDC/DOM/range</a></p>\n",
            "last_activity_date": 1422312902,
            "question_id": 667951,
            "score": 8,
            "tags": [
                "javascript",
                "dom",
                "range",
                "traversal"
            ],
            "title": "How to get nodes lying inside a range with javascript?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I haven't done that before, but I believe you want to play with the <code>index.php</code> file located in the <code>exporting-server</code> folder.\nBy default Highcharts provides (for free) a web service but you can modify that and create your own web service for exporting, or do whatever you want with the chart.  Look at these instructions which can be found here <a href=\"http://www.highcharts.com/docs/export-module/setting-up-the-server\" rel=\"nofollow\">Export module</a>:</p>\n\n<p>\"If you want to set up this web service on your own server, the index.php file that handles the POST is supplied in the download package inside the /exporting-server directory.</p>\n\n<ol>\n<li>Make sure that PHP and Java is installed on your server.</li>\n<li>Upload the index.php file from the /exporting-server directory in\nthe download package to your server.</li>\n<li>In your FTP program, create directory called temp in the same\ndirectory as index.php and chmod this new directory to 777\n(Linux/Unix servers only).</li>\n<li>Download Batik from <a href=\"http://xmlgraphics.apache.org/batik/#download\" rel=\"nofollow\">http://xmlgraphics.apache.org/batik/#download</a>.\nFind the binary distribution for your version of jre</li>\n<li>Upload batik-rasterizer.jar and the entire lib directory to a\nlocation on your web server. In the options in the top of the\nindex.php file, set the path to batik-rasterier.jar.</li>\n<li>In your chart options, set the exporting.url option to match your\nPHP file location. \"</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I just implement this using Nobita's method. I was creating a survey that showed the user's results in a chart, uploaded the image to my server and then sent out an email with the image in it. Here's a few things to note.</p>\n\n<p>I had to make a few updates to the highcharts/exporting-server/index.php file which are the following:</p>\n\n<p>I changed the directory from \"temp\" to something else and just note that it is in 4 different locations.</p>\n\n<p>I had to change shell_exec() adding \"-XX:MaxHeapSize=256m\" because it was giving me an error:</p>\n\n<pre><code>$output = shell_exec(\"java -XX:MaxHeapSize=256m -jar \". BATIK_PATH .\" $typeString -d $outfile $width /mypathhere/results/$tempName.svg\");\n</code></pre>\n\n<p>If you want it to download that image you can leave the following alone:</p>\n\n<pre><code>header(\"Content-Disposition: attachment; filename=$filename.$ext\");\nheader(\"Content-Type: $type\");\necho file_get_contents($outfile);\n</code></pre>\n\n<p>But, I changed this because I wanted to send back the path to the image, so I deleted the above and replace this with the image path (<em>Note that I'm just using the temporary name.</em>):</p>\n\n<pre><code>echo \"/mypathhere/results/$tempName.$ext\";\n</code></pre>\n\n<p>Also, this file is deleting the svg file and also the new file you made. You need to remove the code that deletes the file:</p>\n\n<pre><code>unlink($outfile);\n</code></pre>\n\n<p>And you can also delete the line before it if you want to keep the svg file.</p>\n\n<p>Make sure to include highcharts/js/modules/exporting.js</p>\n\n<p>Then, in your JS you can do something like the following:</p>\n\n<pre><code>var chart = new Highcharts.Chart();    \nvar imageURL = '';\nvar svg = chart.getSVG();\nvar dataString = 'type=image/jpeg&amp;filename=results&amp;width=500&amp;svg='+svg;\n$.ajax({\n    type: 'POST',\n    data: dataString,\n    url: '/src/js/highcharts/exporting-server/',\n    async: false,\n    success: function(data){\n        imageURL = data;\n    }\n});\n</code></pre>\n\n<p>The URL you are posting to is the new version of the /exporting-server/index.php. Then, you can use the imageURL however you like.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>It could be done really easy with <a href=\"http://phantomjs.org\"><code>PhantomJS</code></a>. You can render <code>Highchart</code> chart and save it to SVG, PNG, JPEG or PDF. The example below renders a demo <code>Highcharts</code> diagram to SVG and PDF at the same time:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var system = require('system');\nvar page = require('webpage').create();\nvar fs = require('fs');\n\n// load JS libraries\npage.injectJs(\"js/jquery.min.js\");\npage.injectJs(\"js/highcharts/highcharts.js\");\npage.injectJs(\"js/highcharts/exporting.js\");\n\n// chart demo\nvar args = {\n    width: 600,\n    height: 500\n};\n\nvar svg = page.evaluate(function(opt){\n    $('body').prepend('&lt;div id=\"container\"&gt;&lt;/div&gt;');\n\n    var chart = new Highcharts.Chart({\n        chart: {\n            renderTo: 'container',\n            width: opt.width,\n            height: opt.height\n        },\n        exporting: {\n            enabled: false\n        },\n        title: {\n            text: 'Combination chart'\n        },\n        xAxis: {\n            categories: ['Apples', 'Oranges', 'Pears', 'Bananas', 'Plums']\n        },\n        yAxis: {\n            title: {\n                text: 'Y-values'\n            }\n        },\n        labels: {\n            items: [{\n                html: 'Total fruit consumption',\n                style: {\n                    left: '40px',\n                    top: '8px',\n                    color: 'black'\n                }\n            }]\n        },\n        plotOptions: {\n            line: {\n                dataLabels: {\n                    enabled: true\n                },\n                enableMouseTracking: false\n            },\n            series: {\n                enableMouseTracking: false, \n                shadow: false, \n                animation: false\n            }\n        },\n        series: [{\n            type: 'column',\n            name: 'Andrii',\n            data: [3, 2, 1, 3, 4]\n        }, {\n            type: 'column',\n            name: 'Fabian',\n            data: [2, 3, 5, 7, 6]\n        }, {\n            type: 'column',\n            name: 'Joan',\n            data: [4, 3, 3, 9, 0]\n        }, {\n            type: 'spline',\n            name: 'Average',\n            data: [3, 2.67, 3, 6.33, 3.33],\n            marker: {\n                lineWidth: 2,\n                lineColor: 'white'\n            }\n        }, {\n            type: 'pie',\n            name: 'Total consumption',\n            data: [{\n                name: 'Andrii',\n                y: 13,\n                color: '#4572A7'\n            }, {\n                name: 'Fabian',\n                y: 23,\n                color: '#AA4643'\n            }, {\n                name: 'Joan',\n                y: 19,\n                color: '#89A54E'\n            }],\n            center: [100, 80],\n            size: 100,\n            showInLegend: false,\n            dataLabels: {\n                enabled: false\n            }\n        }]\n    });\n\n    return chart.getSVG();\n},  args);\n\n// Saving SVG to a file\nfs.write(\"demo.svg\", svg);\n// Saving diagram as PDF\npage.render('demo.pdf');\n\nphantom.exit();\n</code></pre>\n\n<p>If you save the code as <code>demo.js</code>, then just run <code>bin/phantomjs demo.js</code> to generate <code>demo.svg</code> and <code>demo.pdf</code></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You can try this</p>\n\n<pre><code> var chart = $('#yourchart').highcharts();\n    svg = chart.getSVG();   \n    var base_image = new Image();\n    svg = \"data:image/svg+xml,\"+svg;\n    base_image.src = svg;\n    $('#mock').attr('src', svg);\n</code></pre>\n\n<p>Take html of Mock and send to DB or save only the binary code .</p>\n\n<p><a href=\"http://angulartutorial.blogspot.in/2014/03/save-highchart-as-binary-image.html\" rel=\"nofollow\">Save highchart as binary image</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>With highcharts, you have a built-in button to download the current chart (example: <a href=\"http://www.highcharts.com/demo/\">http://www.highcharts.com/demo/</a>, this button: <img src=\"http://i.stack.imgur.com/11wRg.png\" alt=\"arrow\">). You can save it as PNG, JPEG, PDF or SVG.</p>\n\n<p>What I'd like to do is to create a link that <strong>saves the image on the server, instead of downloading it</strong>. How could I do that ?</p>\n\n<p>I suppose that I have to modify the <code>exportChart</code> function in the exporting.src.js file. It looks like this (but I don't know javascript enough to do that) :</p>\n\n<pre><code>exportChart: function (options, chartOptions) {\n        var form,\n            chart = this,\n            svg = chart.getSVG(chartOptions);\n\n        // merge the options\n        options = merge(chart.options.exporting, options);\n\n        // create the form\n        form = createElement('form', {\n            method: 'post',\n            action: options.url\n        }, {\n            display: NONE\n        }, doc.body);\n\n        // add the values\n        each(['filename', 'type', 'width', 'svg'], function (name) {\n            createElement('input', {\n                type: HIDDEN,\n                name: name,\n                value: {\n                    filename: options.filename || 'chart',\n                    type: options.type,\n                    width: options.width,\n                    svg: svg\n                }[name]\n            }, null, form);\n        });\n\n        // submit\n        form.submit();\n\n        // clean up\n        discardElement(form);\n    },\n</code></pre>\n",
            "last_activity_date": 1424987857,
            "question_id": 8802528,
            "score": 7,
            "tags": [
                "javascript",
                "image",
                "highcharts"
            ],
            "title": "How to save an image of the chart on the server with highcharts?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This isn't possible. You can tweak their appearance a bit using a set of predefined option parameters or you can implement your custom map control that provides the same functionality as the zoom control. \nFor more information see <a href=\"http://code.google.com/apis/maps/documentation/javascript/controls.html\" rel=\"nofollow\">this page</a>.</p>\n\n<p>UPDATED: Link fixed. Thanks for the feedback!</p>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>After hours searching I found the solution\nJust make sure you replace your API ID!\nEnjoy!</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\" /&gt;\n    &lt;style type=\"text/css\"&gt;\n      html { height: 100% }\n      body { height: 100%; margin: 0; padding: 0 }\n      #map-canvas { height: 60%; width:60%; margin:20px auto; border:1px solid; padding-left:100px; }\n    &lt;/style&gt;\n    &lt;script type=\"text/javascript\"\n      src=\"https://maps.googleapis.com/maps/api/js?key=YOUR-MAP_API-ID&amp;sensor=false&amp;region=AU\"&gt;\n    &lt;/script&gt;\n\n\n\n&lt;script type=\"text/javascript\"&gt;\n\nfunction HomeControl(controlDiv, map) {\n\n google.maps.event.addDomListener(zoomout, 'click', function() {\n   var currentZoomLevel = map.getZoom();\n   if(currentZoomLevel != 0){\n     map.setZoom(currentZoomLevel - 1);}     \n  });\n\n   google.maps.event.addDomListener(zoomin, 'click', function() {\n   var currentZoomLevel = map.getZoom();\n   if(currentZoomLevel != 21){\n     map.setZoom(currentZoomLevel + 1);}\n  });\n\n}\n\nvar map;\nvar markersArray = [];\n\n\nfunction initialize() {\n\n  var mapDiv = document.getElementById('map-canvas');\n  var myLatlng = new google.maps.LatLng(-33.90224, 151.20215);\n  var mapOptions = {\n    zoom: 15,\n    center: myLatlng,\n    Marker: true,\n    panControl: false,\n    zoomControl: false,\n    streetViewControl: false,\n    overviewMapControl: false,\n     mapTypeControl: false,\n     mapTypeControl: false,\n    mapTypeId: google.maps.MapTypeId.ROADMAP\n  }\n\n  map = new google.maps.Map(mapDiv, mapOptions);\n  var marker = new google.maps.Marker({\n      position: myLatlng,\n      map: map,\n      title:\"Hello World!\"\n  });\n\n  // Create the DIV to hold the control and\n  // call the HomeControl() constructor passing\n  // in this DIV.\n  var homeControlDiv = document.createElement('div');\n  var homeControl = new HomeControl(homeControlDiv, map);\n\n}\n\ngoogle.maps.event.addDomListener(window, 'load', initialize);    \n\n&lt;/script&gt;\n\n&lt;/head&gt;\n\n\n\n\n  &lt;body&gt;\n    &lt;div id=\"map-canvas\"&gt;&lt;/div&gt;\n    &lt;div id=\"zoomout\" style=\"border:1px solid; width:150px; heoght:50px; cursor:pointer; margin-bottom:20px;\"&gt;ZOOM ME OUT&lt;/div&gt;\n    &lt;div id=\"zoomin\" style=\"border:1px solid; width:150px; heoght:50px;cursor:pointer;\"&gt;ZOOM ME IN&lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I did it in the CSS way:</p>\n\n<pre><code>#map-container .gm-style &gt; .gmnoprint &gt; .gmnoprint { background: url(/images/map-zoom-controls.png) no-repeat center center !important; width: 42px !important; height: 68px !important; }\n#map-container .gm-style &gt; .gmnoprint &gt; .gmnoprint &gt; div &gt; img { display: none !important; }\n#map-container .gm-style &gt; .gmnoprint &gt; .gmnoprint div[title=\"Zoom in\"] { top: 2px !important; left: 2px !important; width: 38px !important; height: 31px !important; }\n#map-container .gm-style &gt; .gmnoprint &gt; .gmnoprint div[title=\"Zoom out\"] { top: 35px !important; left: 2px !important; width: 38px !important; height: 30px !important; }\n</code></pre>\n\n<p>This is for a image that has:\nwidth: 42px;\nheight: 68px;</p>\n\n<p>Make your own adjustments.</p>\n\n<p><strong>ATTENTION</strong></p>\n\n<p>This applies only if you are using English version because of the title attributes.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I am late at the party, but here is my  two cents.</p>\n\n<p>You have basically two options: </p>\n\n<p><strong>Option 1:</strong> You either create the controls using HTML/CSS yourself, which you can then place over the map to the correct position using position absolute or similar means. Even though this works in production, I don't like this, because your HTML/CSS for the element doesn't load at the same time than the map is displayed. Also you are separating your HTML/CSS code for the controls so it is harder to reuse the same map at different pages. e.g. \"Did I forgot to add the controls?\"</p>\n\n<p><strong>Option 2:</strong> You create <strong><a href=\"https://developers.google.com/maps/documentation/javascript/controls#CustomControls\" rel=\"nofollow\">a custom control</a></strong> which looks and feels the zoom controllers you like. Below is an code about this in practice.</p>\n\n<p>In short, you need to first disable the normal UI controllers by calling: </p>\n\n<pre><code>var mapOptions = {\n    zoom: 12,\n    center: chicago,\n    /* Disabling default UI widgets */\n    disableDefaultUI: true // &lt;-- see this line\n}\n</code></pre>\n\n<p>And then you just create the controller and use it. </p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>... \n&lt;div id=\"map-canvas\"&gt;&lt;/div&gt;\n...\n</code></pre>\n\n<p><strong>CSS:</strong></p>\n\n<pre><code>html, body, #map-canvas {\n    height: 100%;\n    margin: 0px;\n    padding: 0px;\n}\n</code></pre>\n\n<p><strong>JavaScript:</strong></p>\n\n<pre><code>var map;\nvar chicago = new google.maps.LatLng(41.850033, -87.6500523);\n\n/**\n * The ZoomControl adds +/- button for the map\n *\n */\nfunction ZoomControl(controlDiv, map) {\n\n  // Creating divs &amp; styles for custom zoom control\n  controlDiv.style.padding = '5px';\n\n  // Set CSS for the control wrapper\n  var controlWrapper = document.createElement('div');\n  controlWrapper.style.backgroundColor = 'white';\n  controlWrapper.style.borderStyle = 'solid';\n  controlWrapper.style.borderColor = 'gray';\n  controlWrapper.style.borderWidth = '1px';\n  controlWrapper.style.cursor = 'pointer';\n  controlWrapper.style.textAlign = 'center';\n  controlWrapper.style.width = '32px'; \n  controlWrapper.style.height = '64px';\n  controlDiv.appendChild(controlWrapper);\n\n  // Set CSS for the zoomIn\n  var zoomInButton = document.createElement('div');\n  zoomInButton.style.width = '32px'; \n  zoomInButton.style.height = '32px';\n  /* Change this to be the .png image you want to use */\n  zoomInButton.style.backgroundImage = 'url(\"http://placehold.it/32/00ff00\")';\n  controlWrapper.appendChild(zoomInButton);\n\n  // Set CSS for the zoomOut\n  var zoomOutButton = document.createElement('div');\n  zoomOutButton.style.width = '32px'; \n  zoomOutButton.style.height = '32px';\n  /* Change this to be the .png image you want to use */\n  zoomOutButton.style.backgroundImage = 'url(\"http://placehold.it/32/0000ff\")';\n  controlWrapper.appendChild(zoomOutButton);\n\n  // Setup the click event listener - zoomIn\n  google.maps.event.addDomListener(zoomInButton, 'click', function() {\n    map.setZoom(map.getZoom() + 1);\n  });\n\n  // Setup the click event listener - zoomOut\n  google.maps.event.addDomListener(zoomOutButton, 'click', function() {\n    map.setZoom(map.getZoom() - 1);\n  });  \n\n}\n\nfunction initialize() {\n  var mapDiv = document.getElementById('map-canvas');\n\n  var mapOptions = {\n    zoom: 12,\n    center: chicago,\n    /* Disabling default UI widgets */\n    disableDefaultUI: true\n  }\n\n  map = new google.maps.Map(mapDiv, mapOptions);\n\n  // Create the DIV to hold the control and call the ZoomControl() constructor\n  // passing in this DIV.\n  var zoomControlDiv = document.createElement('div');\n  var zoomControl = new ZoomControl(zoomControlDiv, map);\n\n  zoomControlDiv.index = 1;\n  map.controls[google.maps.ControlPosition.TOP_LEFT].push(zoomControlDiv);\n}\n\ninitialize();\n</code></pre>\n\n<p>Note: This code doesn't contain any fancy icons and a like, just placeholders. Therefore, you might need to tune it to fit your needs. Moreover, remember to add HTML5 normal tags and script include for the google maps api v3 javascript. I added only <code>&lt;div id=\"map-canvas\"&gt;&lt;/div&gt;</code> because a need for rest of the body is pretty obvious.</p>\n\n<p>To see it live: <strong><a href=\"http://jsfiddle.net/maunovaha/jptLfhc8/\" rel=\"nofollow\">Here is working jsfiddle example</a></strong></p>\n\n<p>Cheers.</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>How can I customize the google maps api (v3 javascript) zoom buttons to my own image.</p>\n",
            "last_activity_date": 1425938703,
            "question_id": 7916555,
            "score": 7,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3"
            ],
            "title": "Custom Google Map API V3 Zoom Buttons"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar closing = true;\n$(function () {\n    $(\"a,input[type=submit]\").click(function () { closing = false; });\n    $(window).unload(function () {\n        if (closing) {\n            jQuery.ajax({ url: \"http://localhost:49591/Account/LogOff\", async: false });\n        }\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>Call the logout.aspx when window closes using javascript + jquery. Do whatever you want to do in the logout.aspx page load event.</p>\n\n<p>The above snippet will have to be added in your master page's html.</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>You can have a button for the \"logout\" case.</p>\n\n<p>Unfortunately, there is no reliable way to be notified if the user closes their browser.  Other than client-side page unload, which you've said you don't want, about the only other option is periodic Ajax-based polling; both are ugly and notoriously unreliable.</p>\n\n<p>In general, server-side timeouts are a better approach.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Isn't this what Session_OnEnd in global.asax is for?</p>\n\n<p>This event isn't triggered when the browser is closed.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want to do some functionality on log-out, if the user  directly closed his browser then same functionality want to do, we can not do on page unload because there are more than 100 pages in my website because this will work on redirection from each page</p>\n\n<p>Thank You</p>\n",
            "last_activity_date": 1309414334,
            "question_id": 1824421,
            "score": 7,
            "tags": [
                "c#",
                "asp.net",
                "javascript"
            ],
            "title": "Detect Browser Close on Asp.net"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>a similar solution using jquery would be:</p>\n\n<pre><code>$(window).scroll(function () {\n  $('.header').css('position','fixed');\n});\n</code></pre>\n\n<p>This turns the header into a fixed position element immediately on scroll</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is a JS fiddle <a href=\"http://jsfiddle.net/ke9kW/1/\" rel=\"nofollow\">http://jsfiddle.net/ke9kW/1/</a></p>\n\n<p>As the others say, set the header to fixed, and start it with display: none</p>\n\n<p>then jQuery</p>\n\n<pre><code>$(window).scroll(function () {\n  if ( $(this).scrollTop() &gt; 200 &amp;&amp; !$('header').hasClass('open') ) {\n    $('header').addClass('open');\n    $('header').slideDown();\n   } else if ( $(this).scrollTop() &lt;= 200 ) {\n    $('header').removeClass('open');\n    $('header').slideUp();\n  }\n});\n</code></pre>\n\n<p>where 200 is the height in pixels you'd like it to move down at. The addition of the open class is to allow us to run an elseif instead of just else, so some of the code doesn't unnecessarily run on every scrollevent, save a lil bit of memory</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong><a href=\"http://jsfiddle.net/ianclark001/wELFH/\" rel=\"nofollow\">Here's a start</a></strong>. Basically, we copy the header on load, and then check (using <code>.scrollTop()</code> or <code>window.scrollY</code>) to see when the user scrolls beyond a point (e.g. 200pixels). Then we simply toggle a class (in this case <code>.down</code>) which moves the original into view. </p>\n\n<p>Lastly all we need to do is apply a <code>transition: top 0.2s ease-in</code> to our clone, so that when it's in the <code>.down</code> state it slides into view. Dunked does it better, but with a little playing around it's easy to configure</p>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>header {\n  position: relative;\n  width: 100%;\n  height: 60px;\n}\n\nheader.clone {\n  position: fixed;\n  top: -65px;\n  left: 0;\n  right: 0;\n  z-index: 999;\n  transition: 0.2s top cubic-bezier(.3,.73,.3,.74);\n}\n\nbody.down header.clone {\n  top: 0;\n}\n</code></pre>\n\n<p><em>either</em> <strong>Vanilla JS</strong> (polyfill as required)</p>\n\n<pre><code>var sticky = {\n  sticky_after: 200,\n  init: function() {\n    this.header = document.getElementsByTagName(\"header\")[0];\n    this.clone = this.header.cloneNode(true);\n    this.clone.classList.add(\"clone\");\n    this.header.insertBefore(this.clone);\n    this.scroll();\n    this.events();\n  },\n\n  scroll: function() {\n    if(window.scrollY &gt; this.sticky_after) {\n      document.body.classList.add(\"down\");\n    }\n    else {\n      document.body.classList.remove(\"down\");\n    }\n  },\n\n  events: function() {\n    window.addEventListener(\"scroll\", this.scroll.bind(this));\n  }\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", sticky.init.bind(sticky));\n</code></pre>\n\n<p><em>or</em> <strong>jQuery</strong></p>\n\n<pre><code>$(document).ready(function() {\n  var $header = $(\"header\"),\n      $clone = $header.before($header.clone().addClass(\"clone\"));\n\n  $(window).on(\"scroll\", function() {\n    var fromTop = $(\"body\").scrollTop();\n    $('body').toggleClass(\"down\", (fromTop &gt; 200));\n  });\n});\n</code></pre>\n\n<hr>\n\n<h1>Newer Reflections</h1>\n\n<p>Whilst the above answers the OP's original question of <em>\"How does Dunked achieve this effect?\"</em>, I wouldn't recommend this approach. For starters, copying the entire top navigation could be pretty costly, and there's no real reason why we can't use the original (with a little bit of work). </p>\n\n<p>Furthermore, Paul Irish and others, have <a href=\"http://www.paulirish.com/2012/why-moving-elements-with-translate-is-better-than-posabs-topleft/\" rel=\"nofollow\">written about</a> how animating with <code>translate()</code> is better than animating with <code>top</code>. Not only is it more performant, but it also means that you don't need to know the exact height of your element. The above solution would be modified with the following <a href=\"http://jsfiddle.net/ianclark001/wELFH/147/\" rel=\"nofollow\">(See JSFiddle)</a>:</p>\n\n<pre><code>header.clone {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  transform: translateY(-100%);\n  transition: 0.2s transform cubic-bezier(.3,.73,.3,.74);\n}\n\nbody.down header.clone {\n  transform: translateY(0);\n}\n</code></pre>\n\n<p>The only drawback with using transforms is, that whilst <a href=\"http://caniuse.com/#feat=transforms2d\" rel=\"nofollow\">browser support is pretty good</a>, you'll probably want to add vendor prefixed versions to maximize compatibility.</p>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>Add debouncing, for efficiency <a href=\"http://davidwalsh.name/javascript-debounce-function\" rel=\"nofollow\">http://davidwalsh.name/javascript-debounce-function</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's is quite a list of <strong>jQuery plugins</strong> that will help achieve similar effect: <a href=\"http://jquery-plugins.net/tag/sticky-scroll\" rel=\"nofollow\">http://jquery-plugins.net/tag/sticky-scroll</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>i saw a cool sticky header on this website:\n<a href=\"http://dunked.com/\" rel=\"nofollow\">http://dunked.com/</a> <em>(no longer active, <a href=\"https://web.archive.org/web/20130815092145/http://dunked.com\" rel=\"nofollow\">view archived site</a>)</em></p>\n\n<p>When you scroll down the sticky header comes down from the top.</p>\n\n<p>I looked at the code, but it looks really complicated. I only understand this:\nThe normal header was cloned with JS and when you scroll down the page it animates from top.</p>\n\n<p>I have made the structure, but i don't know how to do this in js:\n<a href=\"http://jsfiddle.net/\" rel=\"nofollow\">http://jsfiddle.net/</a></p>\n\n<p>Hope you can help me. Thanks!</p>\n",
            "last_activity_date": 1423731298,
            "question_id": 18382496,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "header",
                "sticky"
            ],
            "title": "Sticky Header after scrolling down"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This question has been asked today: <a href=\"http://stackoverflow.com/questions/2582831/highlight-the-text-of-the-dom-range-element\">highlight the text of the DOM range element,</a></p>\n\n<p>Here's my answer: </p>\n\n<p>The following should do what you want. In non-IE browsers it turns on designMode, applies a background colour and then switches designMode off again.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Fixed to work in IE 9.</p>\n\n<pre><code>function makeEditableAndHighlight(colour) {\n    sel = window.getSelection();\n    if (sel.rangeCount &amp;&amp; sel.getRangeAt) {\n        range = sel.getRangeAt(0);\n    }\n    document.designMode = \"on\";\n    if (range) {\n        sel.removeAllRanges();\n        sel.addRange(range);\n    }\n    // Use HiliteColor since some browsers apply BackColor to the whole block\n    if (!document.execCommand(\"HiliteColor\", false, colour)) {\n        document.execCommand(\"BackColor\", false, colour);\n    }\n    document.designMode = \"off\";\n}\n\nfunction highlight(colour) {\n    var range, sel;\n    if (window.getSelection) {\n        // IE9 and non-IE\n        try {\n            if (!document.execCommand(\"BackColor\", false, colour)) {\n                makeEditableAndHighlight(colour);\n            }\n        } catch (ex) {\n            makeEditableAndHighlight(colour)\n        }\n    } else if (document.selection &amp;&amp; document.selection.createRange) {\n        // IE &lt;= 8 case\n        range = document.selection.createRange();\n        range.execCommand(\"BackColor\", false, colour);\n    }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I've got a script that changes the background colour of text that has been selected. However i'm encountering an issue when the text is selected across multiple elements/tags. </p>\n\n<p>The code that i've got is:</p>\n\n<pre><code>var text = window.getSelection().getRangeAt(0);\nvar colour = document.createElement(\"hlight\");\ncolour.style.backgroundColor = \"Yellow\";\ntext.surroundContents(colour);\n</code></pre>\n\n<p>And the error being output is:</p>\n\n<pre><code>Error: The boundary-points of a range does not meet specific requirements. =\nNS_ERROR_DOM_RANGE_BAD_BOUNDARYPOINTS_ERR\nLine: 7\n</code></pre>\n\n<p>I believe this is to do with the getRange() function though i'm not too sure how to proceed since I am a beginner at javascript.</p>\n\n<p>Is there any other way I can replicate what I am trying to achieve?</p>\n\n<p>Many thanks. </p>\n",
            "last_activity_date": 1303648108,
            "question_id": 2584301,
            "score": 4,
            "tags": [
                "javascript",
                "getselection"
            ],
            "title": "getSelection &amp; surroundContents across multiple tags"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>This will not work on anything less that Internet Explorer 10 ... <code>FileReader()</code> support isn't introduced until IE10 .. it will work with Chrome 7 and Firefox 3.6</p>\n\n<p><a href=\"https://developer.mozilla.org/en/DOM/FileReader\" rel=\"nofollow\">See the docs for support of FileReader</a> or <a href=\"http://caniuse.com/filereader\" rel=\"nofollow\">caniuse.com here</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"http://plungjan.name/test/previewjq.html\" rel=\"nofollow\"><strong>Demo</strong></a></p>\n\n<p>Tested on several browsers, Chrome, Fx, Safari 6 (could someone test 5?)</p>\n\n<p>Works on my IE8 on XP without any changes in settings but as @Gunasekaran mentions later on this page you may need to </p>\n\n<blockquote>\n  <p>Open Tools->internet option-> security tab-> custom level - locate the setting \"Include local directory path when uploading files to a server\" and click on Enable.</p>\n</blockquote>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=utf-8 /&gt;\n&lt;title&gt;Image preview&lt;/title&gt;\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\nvar blank=\"http://upload.wikimedia.org/wikipedia/commons/c/c0/Blank.gif\";\nfunction readURL(input) {\n    if (input.files &amp;&amp; input.files[0]) {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n            $('#img_prev')\n            .attr('src', e.target.result)\n            .height(200);\n        };\n\n        reader.readAsDataURL(input.files[0]);\n    }\n    else {\n      var img = input.value;\n        $('#img_prev').attr('src',img).height(200);\n    }\n    $(\"#x\").show().css(\"margin-right\",\"10px\");\n}\n$(document).ready(function() {\n  $(\"#x\").click(function() {\n    $(\"#img_prev\").attr(\"src\",blank);\n    $(\"#x\").hide();  \n  });\n});\n&lt;/script&gt;\n&lt;!--[if IE]&gt;\n&lt;script src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n&lt;style&gt;\narticle, aside, figure, footer, header, hgroup,\nmenu, nav, section { display: block; }\n#x { display:none; position:relative; z-index:200; float:right}\n#previewPane { display: inline-block; }\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;section&gt;\n&lt;input type='file' onchange=\"readURL(this);\" /&gt;&lt;br/&gt;\n&lt;span id=\"previewPane\"&gt;\n&lt;img id=\"img_prev\" src=\"#\" alt=\"your image\" /&gt;\n&lt;span id=\"x\"&gt;[X]&lt;/span&gt;\n&lt;/span&gt;\n&lt;/section&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<hr>\n\n<p>Looks like this in IE8 on XP:</p>\n\n<p><img src=\"http://i.stack.imgur.com/bxEwq.png\" alt=\"Example\"></p>\n\n<p>A newer method is <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL\" rel=\"nofollow\">createObjectURL</a> which I have not implemented</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>In reply to last response of @user1315468\nIE8 needs a security settings change: </p>\n\n<p>Open Tools->internet option-> security tab-> custom level \nlocate the setting \"Include local directory path when uploading files to a server\" and click on Enable. </p>\n\n<p>After this change, you can reopen the browser with mplungjan's demo link.\nHope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>**I have Pasted the complete working code for all browsers..</p>\n\n<p>NOTE: sometimes Internet Explorer may block scripts,so inorder to view the image click on the prompt and \"Allow blocked content\".Below is the working code...**</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js\"&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;form name=\"form2\"&gt;\n\n&lt;div&gt;\n&lt;input type=\"file\"  name=\"myFile\"   id=\"myFile\" onchange=\"readURL(this);\"&gt;&lt;/input&gt;\n&lt;/div&gt;\n\n&lt;div&gt;\n&lt;img id=\"previewImg\" src=\"#\" /&gt;\n&lt;/div&gt;\n\n&lt;/form&gt;\n&lt;script&gt;\n\nfunction readURL(input) {\n\nif (input.files &amp;&amp; input.files[0]) {\n    var reader = new FileReader();\n\n    reader.onload = function (e) {\n        $('#previewImg')\n            .attr('src', e.target.result)\n            .width(130);\n    }\nreader.readAsDataURL(input.files[0]);\n\n}else{\n          var filename = \"\";\n         filename = \"file:\\/\\/\"+input.value;\n         document.form2.previewImg.src=filename;\n         document.form2.previewImg.style.width=\"130px\";\n\n }\n}\n &lt;/script&gt;   \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>FileReader sounds great to read content of image or file.\nBut consider that file that you were reading was 20MB big, reading it as dataURL is going to create a JS object which is tat big. How do you avoid that ?</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Have the followig questions and need answers regarding the following script that will Preview a Photo before upload. The script is from <a href=\"http://jsbin.com/uboqu3/edit#javascript,html\" rel=\"nofollow\">http://jsbin.com/uboqu3/edit#javascript,html</a> </p>\n\n<p>1) The script works for Firefox, no good for IE. How to make it works for IE?</p>\n\n<p>2) It does not have a method to delete the photo. Needs something like a small image \"X\" installed on the Preview Photo, clicking this \"X\" will delete the photo. Can anyone supply this solution?</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\nfunction readURL(input) {\n    if (input.files &amp;&amp; input.files[0]) {\n        var reader = new FileReader();\n\n        reader.onload = function (e) {\n            $('#img_prev')\n            .attr('src', e.target.result)\n            .height(200);\n        };\n\n        reader.readAsDataURL(input.files[0]);\n    }\n}\n&lt;/script&gt;\n\n&lt;meta charset=utf-8 /&gt;\n&lt;title&gt;JS Bin&lt;/title&gt;\n&lt;!--[if IE]&gt;\n&lt;script src=\"http://html5shiv.googlecode.com/svn/trunk/html5.js\"&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n&lt;style&gt;\narticle, aside, figure, footer, header, hgroup,\nmenu, nav, section { display: block; }\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;input type='file' onchange=\"readURL(this);\" /&gt;\n&lt;img id=\"img_prev\" src=\"#\" alt=\"your image\" /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1391034105,
            "question_id": 10206648,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "upload"
            ],
            "title": "Image Upload with Preview and Delete"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Both handlers get called.</p>\n\n<p>You may be thinking of <a href=\"http://www.quirksmode.org/js/events%5Fearly.html\" rel=\"nofollow\">inline event binding</a> (eg <code>\"onclick=...\"</code>), where a big drawback is only one handler may be set for an event.</p>\n\n<p>jQuery conforms to the <a href=\"http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-registration-html40\" rel=\"nofollow\">DOM Level 2 event registration model</a>:</p>\n\n<blockquote>\n  <p>The DOM Event Model allows\n  registration of multiple event\n  listeners on a single EventTarget. To\n  achieve this, event listeners are no\n  longer stored as attribute values</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Both handlers will run, the jQuery event model allows multiple handlers on one element, therefore a later handler does not override an older handler.</p>\n\n<p><a href=\"http://api.jquery.com/bind/#entry-longdesc\">The handlers will execute in the order in which they were bound</a>.</p>\n",
                    "is_accepted": true,
                    "score": 72
                },
                {
                    "body": "<p>Suppose that you have two handlers, <em>f</em> and <em>g</em>, and want to make sure that they are executed in a known and fixed order, then just encapsulate them:</p>\n\n<pre><code>$(\"...\").click(function(event){\n  f(event);\n  g(event);\n});\n</code></pre>\n\n<p>In this way there is (from the perspective of jQuery) only <em>one</em> handler, which calls <em>f</em> and <em>g</em> in the specified order.</p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>You should be able to use chaining to execute the events in sequence, e.g.:</p>\n\n<pre><code>$('#target')\n  .bind('click',function(event) {\n    alert('Hello!');\n  })\n  .bind('click',function(event) {\n    alert('Hello again!');\n  })\n  .bind('click',function(event) {\n    alert('Hello yet again!');\n  });\n</code></pre>\n\n<p>I guess the below code is doing the same</p>\n\n<pre><code>$('#target')\n      .click(function(event) {\n        alert('Hello!');\n      })\n      .click(function(event) {\n        alert('Hello again!');\n      })\n      .click(function(event) {\n        alert('Hello yet again!');\n      });\n</code></pre>\n\n<p>Source: <a href=\"http://www.peachpit.com/articles/article.aspx?p=1371947&amp;seqNum=3\">http://www.peachpit.com/articles/article.aspx?p=1371947&amp;seqNum=3</a></p>\n\n<p><a href=\"http://api.jquery.com/bind/\">TFM</a> also says:</p>\n\n<blockquote>\n  <p>When an event reaches an element, all handlers bound to that event\n  type for the element are fired. If there are multiple handlers\n  registered, they will always execute in the order in which they were\n  bound. After all handlers have executed, the event continues along the\n  normal event propagation path.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There is a workaround to guarantee that one handler happens after another: attach the second  handler to a containing element and let the event bubble up. In the handler attached to the container, you can look at event.target and do something if it's the one you're interested in.</p>\n\n<p>Crude, maybe, but it definitely should work.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Made it work successfully using the 2 methods: Stephan202's encapsulation and multiple event listeners. I have 3 search tabs, let's define their input text id's in an Array:</p>\n\n<pre><code>var ids = new Array(\"searchtab1\", \"searchtab2\", \"searchtab3\");\n</code></pre>\n\n<p>When the content of searchtab1 changes, I want to update searchtab2 and searchtab3. Did it this way for encapsulation:</p>\n\n<pre><code>for (var i in ids) {\n    $(\"#\" + ids[i]).change(function() {\n        for (var j in ids) {\n            if (this != ids[j]) {\n                $(\"#\" + ids[j]).val($(this).val());\n            }\n        }\n    });\n}\n</code></pre>\n\n<p>Multiple event listeners:</p>\n\n<pre><code>for (var i in ids) {\n    for (var j in ids) {\n        if (ids[i] != ids[j]) {\n            $(\"#\" + ids[i]).change(function() {\n                $(\"#\" + ids[j]).val($(this).val());\n            });\n        }\n    }\n}\n</code></pre>\n\n<p>I like both methods, but the programmer chose encapsulation, however multiple event listeners worked also. We used Chrome to test it.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><strong>jQuery's .bind() fires in the order it was bound</strong>:</p>\n\n<blockquote>\n  <p>When an event reaches an element, all handlers bound to that event\n  type for the element are fired. If there are multiple handlers\n  registered, they will always execute in the order in which they were\n  bound. After all handlers have executed, the event continues along the\n  normal event propagation path.</p>\n</blockquote>\n\n<p>Source: <a href=\"http://api.jquery.com/bind/\">http://api.jquery.com/bind/</a></p>\n\n<p>Because jQuery's other functions (ex. <code>.click()</code>) are shortcuts for <code>.bind('click', handler)</code>, I would guess that they are also triggered in the order they are bound.</p>\n",
                    "is_accepted": false,
                    "score": 14
                }
            ],
            "body": "<h2>jQuery question</h2>\n\n<p>What happens if I bind two event handlers to same event and same element:</p>\n\n<p>For example:</p>\n\n<pre><code>var elem = $(\"...\")\nelem.click(...);\nelem.click(...);\n</code></pre>\n\n<p>Later wins or both handlers will be run?</p>\n",
            "last_activity_date": 1377879472,
            "question_id": 1491718,
            "score": 57,
            "tags": [
                "javascript",
                "jquery",
                "event-handling"
            ],
            "title": "jQuery: more than one handler for same event"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>considering you made a new Date object, I wouldn't worry about it. The reason being, if you try this code:</p>\n\n<pre><code>var myDate = new Date(1331869050000);\nalert(typeof myDate.getMonth != 'undefined')    //true\n</code></pre>\n\n<p>This will determine that you are inheriting the Date objects methods and that in fact, Date IS defined.</p>\n\n<p>If you would like further investigation, take a look at <a href=\"http://stackoverflow.com/questions/1353684/detecting-an-invalid-date-date-instance-in-javascript\">this</a> post.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<blockquote>\n  <p><em>\"I'm still curious as to what it means when it says Invalid Date\"</em></p>\n</blockquote>\n\n<p>That's simply the <code>toString</code> value of the <code>prototype</code> object of the <code>Date</code> constructor function.</p>\n\n<hr>\n\n<pre><code>Date.prototype.toString(); // \"Invalid Date\"\n</code></pre>\n\n<hr>\n\n<p>You can override it if you like...</p>\n\n<pre><code>Date.prototype.toString = function() { return \"I like turtles.\" };\n\nvar myDate = new Date(1331869050000);\nmyDate.__proto__; // I like turtles.\n</code></pre>\n\n<hr>\n\n<p>A little off topic, but <code>__proto__</code> is in the current working draft for the next version of ECMAScript, codename Harmony.</p>\n\n<p><a href=\"http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts\">http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts</a></p>\n\n<blockquote>\n  <ul>\n  <li>Added section B.3.1 with specifies <code>__proto__</code> feature.</li>\n  </ul>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 53
                }
            ],
            "body": "<p>I know <code>__proto__</code> is deprecated (or not part of the standard) and all that but I'm still curious as to what it means when it says Invalid Date when I look at the <code>__proto__</code> value of..</p>\n\n<pre><code>var myDate = new Date(1331869050000);\n</code></pre>\n",
            "last_activity_date": 1331834634,
            "question_id": 9725299,
            "score": 52,
            "tags": [
                "javascript",
                "google-chrome-devtools"
            ],
            "title": "Why does Chrome Dev Tool show a dates __proto__ as Invalid Date?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<pre><code>document.getElementById(\"myspan\").innerHTML=\"newtext\";\n</code></pre>\n\n<p><strong>EDIT</strong>\nFor modern browsers :</p>\n\n<pre><code>document.getElementById(\"myspan\").textContent=\"newtext\";\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 103
                },
                {
                    "body": "<pre><code>document.getElementById('myspan').innerHTML = 'newtext';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>Using <em>innerHTML</em> is <strong>SO NOT RECOMMENDED</strong>.\nInstead, you should create a textNode. This way, you are \"binding\" your text and you are not, at least in this case, vulnerable to an XSS attack.</p>\n\n<pre><code>document.getElementById(\"myspan\").innerHTML = \"sometext\"; //INSECURE!!\n</code></pre>\n\n<p>The right way:</p>\n\n<pre><code>span = document.getElementById(\"myspan\");\ntxt = document.createTextNode(\"your cool text\");\nspan.innerText = txt.textContent;\n</code></pre>\n\n<p>For more information about this vulnerability:\n<a href=\"https://www.owasp.org/index.php/Cross-site_Scripting_(XSS)\">Cross Site Scripting (XSS) - OWASP</a></p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>If you are the one supplying the text and no part of the text is supplied by the user (or some other source that you don't control), then setting <code>innerHTML</code> is fine:</p>\n\n<pre><code>// * Fine for hardcoded text strings like this one or strings you otherwise \n//   control.\n// * Not OK for user-supplied input or strings you don't control unless\n//   you know what you are doing and have sanitized the string first.\ndocument.getElementById('myspan').innerHTML = 'newtext';\n</code></pre>\n\n<p>However, as others note, if you are not the source for any part of the text string, using <code>innerHTML</code> can subject you to content injection attacks like XSS if you're not careful to properly sanitize the text first.</p>\n\n<p>If you are using input from the user, here is one way to do it securely while also maintaining cross-browser compatibility:</p>\n\n<pre><code>var span = document.getElementById('myspan');\nspan.innerText = span.textContent = 'newtext';\n</code></pre>\n\n<p>Firefox doesn't support <code>innerText</code> and IE8 doesn't support <code>textContent</code> so you need to use both if you want to maintain cross-browser compatibility.</p>\n\n<p>And if you want to avoid reflows (caused by <code>innerText</code>) where possible:</p>\n\n<pre><code>var span = document.getElementById('myspan');\nif ('textContent' in span) {\n    span.textContent = 'newtext';\n} else {\n    span.innerText = 'newtext';\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Here's another way:</p>\n\n<pre><code>var myspan = document.getElementById('myspan');\n\nif (myspan.innerText) {\n    myspan.innerText = \"newtext\";\n}\nelse\nif (myspan.textContent) {\n        myspan.textContent = \"newtext\";   \n}\n</code></pre>\n\n<p>The innerText property will be detected by Safari, Google Chrome and MSIE while the textContent is needed for Firefox. This solution tests to see if a browser supports either of these properties and if so, assigns the \"newtext\". </p>\n\n<p>Live demo: <a href=\"http://jsfiddle.net/duy8zvmm/1/\" rel=\"nofollow\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>If I have a span, say:</p>\n\n<pre><code>&lt;span id=\"myspan\"&gt; hereismytext &lt;/span&gt;\n</code></pre>\n\n<p>How do I use javascript to change \"hereismytext\" to \"newtext\"</p>\n",
            "last_activity_date": 1421839251,
            "question_id": 1358810,
            "score": 52,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "How do I change the text of a span element in javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Using <code>window.location.href</code> it's not possible to send a POST request.</p>\n\n<p>What you have to do is to set up a <code>form</code> tag with data fields in it, set the <code>action</code> attribute of the form to the URL and the <code>method</code> attribute to POST, then call the <code>submit</code> method on the <code>form</code> tag.</p>\n",
                    "is_accepted": false,
                    "score": 37
                },
                {
                    "body": "<p>Add a form to your HTML, something like this:</p>\n\n<pre><code>&lt;form style=\"display: hidden\" action=\"/the/url\" method=\"POST\" id=\"form\"&gt;\n  &lt;input type=\"hidden\" id=\"var1\" name=\"var1\" value=\"\"/&gt;\n  &lt;input type=\"hidden\" id=\"var2\" name=\"var2\" value=\"\"/&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and use JQuery to fill these values (of course you can also use javascript to do something similar)</p>\n\n<pre><code>$(\"#var1\").val(value1);\n$(\"#var2\").val(value2);\n</code></pre>\n\n<p>Then finally submit the form</p>\n\n<pre><code>$(\"#form\").submit();\n</code></pre>\n\n<p>on the server side you should be able to get the data you sent by checking <code>var1</code> and <code>var2</code>, depends on what server-side language your using.</p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>Short answer: no. <code>window.location.href</code> is not capable of passing POST data.</p>\n\n<p>Somewhat more satisfying answer: You can use this function to clone all your form data and submit it.</p>\n\n<pre><code>var submitMe = document.createElement(\"form\");\nsubmitMe.action = \"YOUR_URL_HERE\"; // Remember to change me\nsubmitMe.method = \"post\";\nsubmitMe.enctype = \"multipart/form-data\";\nvar nameJoiner = \"_\";\n// ^ The string used to join form name and input name\n//   so that you can differentiate between forms when\n//   processing the data server-side.\nsubmitMe.importFields = function(form){\n    for(k in form.elements){\n        if(input = form.elements[k]){\n            if(input.type!=\"submit\"&amp;&amp;\n                     (input.nodeName==\"INPUT\"\n                    ||input.nodeName==\"TEXTAREA\"\n                    ||input.nodeName==\"BUTTON\"\n                    ||input.nodeName==\"SELECT\")\n                     ){\n                var output = input.cloneNode(true);\n                output.name = form.name + nameJoiner + input.name;\n                this.appendChild(output);\n            }\n        }\n    }\n}\n</code></pre>\n\n<ul>\n<li>Do <code>submitMe.importFields(form_element);</code> for each of the three forms you want to submit.  </li>\n<li>This function will add each form's name to the names of its child inputs (If you have an <code>&lt;input name=\"email\"&gt;</code> in <code>&lt;form name=\"login\"&gt;</code>, the submitted name will be <code>login_name</code>.  </li>\n<li>You can change the <code>nameJoiner</code> variable to something other than <code>_</code> so it doesn't conflict with your input naming scheme.</li>\n<li>Once you've imported all the necessary forms, do <code>submitMe.submit();</code></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can use GET instead of pass, but don't use this method for important values, </p>\n\n<pre><code>function passIDto(IDval){    \nwindow.location.href = \"CustomerBasket.php?oridd=\" +  IDval ;\n}   \n</code></pre>\n\n<p>In the CustomerBasket.php</p>\n\n<pre><code>&lt;?php\n  $value = $_GET[\"oridd\"];\n  echo  $value;\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>When using window.location.href, I'd like to pass POST data to the new page I'm opening.  is this possible using JavaScript and jQuery?</p>\n",
            "last_activity_date": 1390647580,
            "question_id": 2367979,
            "score": 42,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "pass post data with window.location.href"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<pre><code>first String = aaaaaaaaaa = 10 letters\nsecond String = aaaaa = 5 letters\n\nfirst five letters are similar\na+a\na+a\na+a\na+a\na+a\na\na\na\na\na\n\n\n( &lt;similar_letters&gt; * 200 ) / (&lt;letter_count_first_string&gt; + &lt;letter_count_second_string&gt;)\n\n( 5 * 200 ) / (10 + 5);\n= 66.6666666667\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>It would indeed seem the function uses different logic depending of the parameter order. I think there are two things at play.</p>\n\n<p>First, see this example:</p>\n\n<pre><code>echo similar_text('test','wert'); // 1\necho similar_text('wert','test'); // 2\n</code></pre>\n\n<p>It seems to be that it is testing \"how many times any distinct char on param1 is found in param2\", and thus result would be different if you swap the params around. It has been reported as a <a href=\"https://bugs.php.net/bug.php?id=62648\" rel=\"nofollow\">bug</a>, which hasn't been confirmed by anyone.</p>\n\n<p>Now, the above is the <em>same</em> for both PHP and javascript implementations - paremeter order has an impact, so saying that JS code wouldn't do this is wrong. I think it is <em>possible</em> to argue that as intended behaviour. Not sure if it is.</p>\n\n<p>Second - what doesn't seem correct is the MYSQL/PHP word example. With that, javascript version gives 3 irrelevant of the order of params, whereas PHP gives 2 and 3 (and due to that, percentage is equally different). Now, the phrases \"PHP IS GREAT\" and \"WITH MYSQL\" should have 5 characters in common, irrelevant of which way you compare: H, I, S and T, one each, plus one for empty space. In order they have 3 characters, 'H', ' ' and 'S', so if you look at the ordering, correct answer should be 3 both ways. I modified the C code to a runnable version, and added some output, so one can see what is happening there (<a href=\"http://codepad.org/hEGu5ujC\" rel=\"nofollow\">codepad link</a>):</p>\n\n<pre><code>#include&lt;stdio.h&gt;\n\n/* {{{ php_similar_str\n */\nstatic void php_similar_str(const char *txt1, int len1, const char *txt2, int len2, int *pos1, int *pos2, int *max)\n{\n  char *p, *q;\n  char *end1 = (char *) txt1 + len1;\n  char *end2 = (char *) txt2 + len2;\n  int l;\n\n  *max = 0;\n  for (p = (char *) txt1; p &lt; end1; p++) {\n    for (q = (char *) txt2; q &lt; end2; q++) {\n      for (l = 0; (p + l &lt; end1) &amp;&amp; (q + l &lt; end2) &amp;&amp; (p[l] == q[l]); l++);\n      if (l &gt; *max) {\n        *max = l;\n        *pos1 = p - txt1;\n        *pos2 = q - txt2;\n      }\n    }\n  }\n}\n/* }}} */\n\n\n/* {{{ php_similar_char\n */\nstatic int php_similar_char(const char *txt1, int len1, const char *txt2, int len2)\n{\n  int sum;\n  int pos1, pos2, max;\n\n  php_similar_str(txt1, len1, txt2, len2, &amp;pos1, &amp;pos2, &amp;max);\n\n  if ((sum = max)) {\n    if (pos1 &amp;&amp; pos2) {\n      printf(\"txt here %s,%s\\n\", txt1, txt2);\n      sum += php_similar_char(txt1, pos1,\n                  txt2, pos2);\n    }\n    if ((pos1 + max &lt; len1) &amp;&amp; (pos2 + max &lt; len2)) {\n      printf(\"txt here %s,%s\\n\", txt1+ pos1 + max, txt2+ pos2 + max);\n      sum += php_similar_char(txt1 + pos1 + max, len1 - pos1 - max,\n                  txt2 + pos2 + max, len2 - pos2 - max);\n    }\n  }\n\n  return sum;\n}\n/* }}} */\nint main(void)\n{\n    printf(\"Found %d similar chars\\n\",\n        php_similar_char(\"PHP IS GREAT\", 12, \"WITH MYSQL\", 10));\n    printf(\"Found %d similar chars\\n\",\n        php_similar_char(\"WITH MYSQL\", 10,\"PHP IS GREAT\", 12));\n    return 0;\n}\n</code></pre>\n\n<p>the result is output:</p>\n\n<pre><code>txt here PHP IS GREAT,WITH MYSQL\ntxt here P IS GREAT, MYSQL\ntxt here IS GREAT,MYSQL\ntxt here IS GREAT,MYSQL\ntxt here  GREAT,QL\nFound 3 similar chars\ntxt here WITH MYSQL,PHP IS GREAT\ntxt here TH MYSQL,S GREAT\nFound 2 similar chars\n</code></pre>\n\n<p>So one can see that on the first comparison, the function found 'H', ' ' and 'S', but not 'T', and got the result of 3. The second comparison found 'I' and 'T' but not 'H', ' ' or 'S', and thus got the result of 2.</p>\n\n<p>The reason for these results can be seen from the output: algorithm takes the first letter in the first string that second string contains, counts that, and <em>throws away the chars before that from the second string</em>. That is why it misses the characters in-between, and that's the thing causing the difference when you change the character order.</p>\n\n<p>What happens there might be intentional or it might not. However, that's not how javascript version works. If you print out the same things in the javascript version, you get this:</p>\n\n<pre><code>txt here: PHP, WIT\ntxt here: P IS GREAT,  MYSQL\ntxt here: IS GREAT, MYSQL\ntxt here: IS, MY\ntxt here:  GREAT, QL\nFound 3 similar chars\ntxt here: WITH, PHP \ntxt here: W, P\ntxt here: TH MYSQL, S GREAT\nFound 3 similar chars\n</code></pre>\n\n<p>showing that javascript version does it in a different way. What the javascript version does is that it finds 'H', ' ' and 'S' being in the same order in the first comparison, and the same 'H', ' ' and 'S' also on the second one - so in this case the order of params doesn't matter.</p>\n\n<p>I'd argue that javascript version is more correct way of doing it, but that's up for speculation. In any case, as the javascript is meant to duplicate the code of PHP function, it needs to behave identically - which is why I submitted bug report based on analysis of @Khez and the fix. Kudos there.</p>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>This was actually a very interesting question, thank you for giving me a puzzle that turned out to be very rewarding.</p>\n\n<p>Let me start out by explaining how <strong>similar_text</strong> actually works.</p>\n\n<hr>\n\n<h2>Similar Text: The Algorithm</h2>\n\n<p>It's a recursion based <a href=\"http://en.wikipedia.org/wiki/Divide_and_conquer_algorithm\" rel=\"nofollow\">divide and conquer algorithm</a>. It works by first finding <strong>the longest common string between the two inputs</strong> and breaking the problem into subsets around that string.</p>\n\n<p>The examples you have used in your question, actually all perform <strong>only one iteration of the algorithm</strong>. The only ones not using one iteration and the ones giving different results are from the <a href=\"http://php.net/manual/en/function.similar-text.php#109507\" rel=\"nofollow\">php.net comments</a>.</p>\n\n<p>Here is a simple example to understand the main issue behind simple_text and hopefully give some insight into how it works.</p>\n\n<hr>\n\n<h2>Similar Text: The Flaw</h2>\n\n<pre><code>eeeefaaaaafddddd\nddddgaaaaagbeeee\n\nIteration 1:\nMax    = 5\nString = aaaaa\nLeft : eeeef and ddddg\nRight: fddddd and geeeee\n</code></pre>\n\n<p>I hope the flaw is already apparent. It will only check <em>directly to the left and to the right of the longest matched string</em> in both input strings. This example</p>\n\n<pre><code>$s1='eeeefaaaaafddddd';\n$s2='ddddgaaaaagbeeee';\n\necho similar_text($s1, $s2).'|'.similar_text($s2, $s1);\n// outputs 5|5, this is due to Iteration 2 of the algorithm\n// it will fail to find a matching string in both left and right subsets\n</code></pre>\n\n<p>To be honest, I'm uncertain how this case should be treated. It can be seen that only 2 characters are different in the string.\nBut both <strong>eeee</strong> and <strong>dddd</strong> are on opposite ends of the two strings, uncertain what <a href=\"http://en.wikipedia.org/wiki/Natural_language_processing\" rel=\"nofollow\">NLP</a> enthusiasts or <a href=\"http://en.wikipedia.org/wiki/Plagiarism\" rel=\"nofollow\">other literary</a> experts have to say about this specific situation.</p>\n\n<hr>\n\n<h2>Similar Text: Inconsistent results on argument swapping</h2>\n\n<p>The different results you were experiencing based on input order was due to the way the alogirthm actually behaves (as mentioned above).\nI'll give a final explination on what's going on.</p>\n\n<pre><code>echo similar_text('test','wert'); // 1\necho similar_text('wert','test'); // 2\n</code></pre>\n\n<p>On the first case, there's only one Iteration:</p>\n\n<pre><code>test\nwert\n\nIteration 1:\nMax    = 1\nString = t\nLeft :  and wer\nRight: est and \n</code></pre>\n\n<p>We only have one iteration because empty/null strings return 0 on recursion. So this ends the algorithm and we have our result: 1</p>\n\n<p>On the second case, however, we are faced with multiple Iterations:</p>\n\n<pre><code>wert\ntest\n\nIteration 1:\nMax    = 1\nString = e\nLeft : w and t\nRight: rt and st\n</code></pre>\n\n<p>We already have a common string of length 1. The algorithm on the left subset will end in 0 matches, but on the right:</p>\n\n<pre><code>rt\nst\n\nIteration 1:\nMax    = 1\nString = t\nLeft : r and s\nRight:  and \n</code></pre>\n\n<p>This will lead to our new and final result: 2</p>\n\n<p>I thank you for this very informative question and the opportunity to dabble in C++ again.</p>\n\n<hr>\n\n<h2>Similar Text: <a href=\"http://phpjs.org/functions/similar_text/\" rel=\"nofollow\">JavaScript Edition</a></h2>\n\n<p>The short answer is: <strong>The javascript code is not implementing the correct algorithm</strong></p>\n\n<pre><code>sum += this.similar_text(first.substr(0, pos2), second.substr(0, pos2));\n</code></pre>\n\n<p>Obviously it should be <code>first.substr(0,pos1)</code></p>\n\n<p><strong>Note:</strong> The JavaScript code has been fixed by <a href=\"https://github.com/eis\" rel=\"nofollow\">eis</a> in a <a href=\"https://github.com/kvz/phpjs/commit/587643eaaf07eb582cd3fc8df91fe7636d4cdcab#diff-bf1f73ce4cb7506e83763aabc6c4cb1e\" rel=\"nofollow\">previous commit</a>. Thanks <a href=\"http://stackoverflow.com/users/365237/eis\">@eis</a></p>\n\n<p>Demystified!</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>Description\nint similar_text ( string $first , string $second [, float &amp;$percent ] )</p>\n\n<p>This calculates the similarity between two strings as described in Oliver [1993]. Note that this implementation does not use a stack as in Oliver's pseudo code, but recursive calls which may or may not speed up the whole process. Note also that the complexity of this algorithm is O(N**3) where N is the length of the longest string.\nParameters</p>\n\n<p>first</p>\n\n<pre><code>The first string.\n</code></pre>\n\n<p>second</p>\n\n<pre><code>The second string.\n</code></pre>\n\n<p>percent</p>\n\n<pre><code>By passing a reference as third argument, similar_text() will calculate the similarity in percent for you.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I just found the similar_text function and was playing around with it, but the percentage output always suprises me. See the examples below. </p>\n\n<p>I tried to find information on the algorithm used as mentioned on <a href=\"http://php.net/manual/en/function.similar-text.php\">php: <code>similar_text()</code><sup><em>Docs</em></sup></a>:</p>\n\n<pre><code>&lt;?php\n$p = 0;\nsimilar_text('aaaaaaaaaa', 'aaaaa', $p);\necho $p . \"&lt;hr&gt;\";\n//66.666666666667\n//Since 5 out of 10 chars match, I would expect a 50% match\n\nsimilar_text('aaaaaaaaaaaaaaaaaaaa', 'aaaaa', $p);\necho $p . \"&lt;hr&gt;\";\n//40\n//5 out of 20 &gt; not 25% ?\n\nsimilar_text('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa', 'aaaaa', $p);\necho $p . \"&lt;hr&gt;\"; \n//9.5238095238095 \n//5 out of 100 &gt; not 5% ?\n\n\n//Example from PHP.net\n//Why is turning the strings around changing the result?\n\nsimilar_text('PHP IS GREAT', 'WITH MYSQL', $p);\necho $p . \"&lt;hr&gt;\"; //27.272727272727\n\nsimilar_text('WITH MYSQL', 'PHP IS GREAT', $p);\necho $p . \"&lt;hr&gt;\"; //18.181818181818\n\n?&gt;\n</code></pre>\n\n<p>Can anybody explain how this actually works?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Thanks to the comments I found that the percentage is actually calculated using the number of similar charactors * 200 / length1 + lenght 2</p>\n\n<pre><code>Z_DVAL_PP(percent) = sim * 200.0 / (t1_len + t2_len);\n</code></pre>\n\n<p>So that explains why the percenatges are higher then expected. With a string with 5 out of 95 it turns out 10, so that I can use.</p>\n\n<pre><code>similar_text('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa', 'aaaaa', $p);\necho $p . \"&lt;hr&gt;\"; \n//10\n//5 out of 95 = 5 * 200 / (5 + 95) = 10\n</code></pre>\n\n<p>But I still cant figure out why PHP returns a different result on turning the strings around. The JS code provided by dfsq doesn't do this. Looking at the source code in PHP I can only find a difference in the following line, but i'm not a c programmer. Some insight in what the difference is, would be appreciated.</p>\n\n<p>In JS:</p>\n\n<pre><code>for (l = 0;(p + l &lt; firstLength) &amp;&amp; (q + l &lt; secondLength) &amp;&amp; (first.charAt(p + l) === second.charAt(q + l)); l++);\n</code></pre>\n\n<p>In PHP: (php_similar_str function)</p>\n\n<pre><code>for (l = 0; (p + l &lt; end1) &amp;&amp; (q + l &lt; end2) &amp;&amp; (p[l] == q[l]); l++);\n</code></pre>\n\n<p>Source:</p>\n\n<pre><code>/* {{{ proto int similar_text(string str1, string str2 [, float percent])\n   Calculates the similarity between two strings */\nPHP_FUNCTION(similar_text)\n{\n  char *t1, *t2;\n  zval **percent = NULL;\n  int ac = ZEND_NUM_ARGS();\n  int sim;\n  int t1_len, t2_len;\n\n  if (zend_parse_parameters(ZEND_NUM_ARGS() TSRMLS_CC, \"ss|Z\", &amp;t1, &amp;t1_len, &amp;t2, &amp;t2_len, &amp;percent) == FAILURE) {\n    return;\n  }\n\n  if (ac &gt; 2) {\n    convert_to_double_ex(percent);\n  }\n\n  if (t1_len + t2_len == 0) {\n    if (ac &gt; 2) {\n      Z_DVAL_PP(percent) = 0;\n    }\n\n    RETURN_LONG(0);\n  }\n\n  sim = php_similar_char(t1, t1_len, t2, t2_len);\n\n  if (ac &gt; 2) {\n    Z_DVAL_PP(percent) = sim * 200.0 / (t1_len + t2_len);\n  }\n\n  RETURN_LONG(sim);\n}\n/* }}} */ \n\n\n/* {{{ php_similar_str\n */\nstatic void php_similar_str(const char *txt1, int len1, const char *txt2, int len2, int *pos1, int *pos2, int *max)\n{\n  char *p, *q;\n  char *end1 = (char *) txt1 + len1;\n  char *end2 = (char *) txt2 + len2;\n  int l;\n\n  *max = 0;\n  for (p = (char *) txt1; p &lt; end1; p++) {\n    for (q = (char *) txt2; q &lt; end2; q++) {\n      for (l = 0; (p + l &lt; end1) &amp;&amp; (q + l &lt; end2) &amp;&amp; (p[l] == q[l]); l++);\n      if (l &gt; *max) {\n        *max = l;\n        *pos1 = p - txt1;\n        *pos2 = q - txt2;\n      }\n    }\n  }\n}\n/* }}} */\n\n\n/* {{{ php_similar_char\n */\nstatic int php_similar_char(const char *txt1, int len1, const char *txt2, int len2)\n{\n  int sum;\n  int pos1, pos2, max;\n\n  php_similar_str(txt1, len1, txt2, len2, &amp;pos1, &amp;pos2, &amp;max);\n\n  if ((sum = max)) {\n    if (pos1 &amp;&amp; pos2) {\n      sum += php_similar_char(txt1, pos1,\n                  txt2, pos2);\n    }\n    if ((pos1 + max &lt; len1) &amp;&amp; (pos2 + max &lt; len2)) {\n      sum += php_similar_char(txt1 + pos1 + max, len1 - pos1 - max,\n                  txt2 + pos2 + max, len2 - pos2 - max);\n    }\n  }\n\n  return sum;\n}\n/* }}} */\n</code></pre>\n\n<p>Source in Javascript: <a href=\"http://phpjs.org/functions/similar_text/\">similar text port to javascript</a></p>\n",
            "last_activity_date": 1409901579,
            "question_id": 14136349,
            "score": 36,
            "tags": [
                "php",
                "javascript",
                "c"
            ],
            "title": "How does similar_text work?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>With jQuery</p>\n\n<pre><code>$('#aspnetForm').unbind('submit');\n</code></pre>\n\n<p>And then proceed to add your own.</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>To do this without any libraries:</p>\n\n<pre><code>document.getElementById(\"aspnetForm\").onsubmit = null;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 50
                },
                {
                    "body": "<p>Try this, this is working for me:</p>\n\n<pre><code>$('#aspnetForm').removeAttr('onsubmit').submit(function() {   \n    alert(\"My new submit function justexecuted!\"); \n});\n</code></pre>\n\n<p>See <a href=\"http://joshuaclayton.github.com/code/2009/06/08/handling-jquery-and-onsubmit.html\">this</a> for more details.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>For jQuery, if you are binding event handlers with .live, you can use .die to unbind all instances that were bound with .live.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Given the following HTML fragment:</p>\n\n<pre><code>&lt;form id=\"aspnetForm\" onsubmit=\"alert('On Submit Run!'); return true;\"&gt;\n</code></pre>\n\n<p>I need to remove/clear the handler for the onsubmit event and register my own using jQuery or any other flavor of JavaScript usage.  </p>\n",
            "last_activity_date": 1371413411,
            "question_id": 803936,
            "score": 36,
            "tags": [
                "javascript",
                "html",
                "javascript-events"
            ],
            "title": "How to Clear/Remove JavaScript Event Handler?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>You can't refresh without the warning; refresh instructs the browser to repeat the last action. It is up to the browser to choose whether to warn the user if repeating the last action involves resubmitting data.</p>\n\n<p>You could re-navigate to the same page with a fresh session by doing:</p>\n\n<pre><code>window.location = window.location.href;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 56
                },
                {
                    "body": "<p>If you are at the stage where you are finished with the post data and simply want to view the page again afresh, you could just use a window.location and even maybe append a random string as a query paramater to guarantee a new version of the page. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Just changing <code>window.location</code> in JavaScript is <strong>dangerous</strong> because the user could still hit the <strong>back button</strong> and resubmit the post, which could have unexpected results (such as a <strong>duplicate purchase</strong>). PRG is a much better solution</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Post/Redirect/Get\">Use the Post/Redirect/Get (PRG) pattern</a></p>\n\n<blockquote>\n  <p>To avoid this problem, many web applications use the PRG pattern \u2014 instead of returning an HTML page directly, the POST operation returns a redirection command (using the HTTP 303 response code (sometimes 302) together with the HTTP \"Location\" response header), instructing the browser to load a different page using an HTTP GET request. The result page can then safely be bookmarked or reloaded without unexpected side effects.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 39
                },
                {
                    "body": "<p>hi if you use GET method instead of POST then we can't the form filed values. If you use window.opener.location.href = window.opener.location.href; then we can fire the db and we can get the value but only thing is the JSP is not refreshing eventhough the scriplet having the form values</p>\n\n<p>Regards\nPalani</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>how about window.location.replace(window.location.href);</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>To bypass POST warning you must reload page with full URL. Works fine.</p>\n\n<pre><code>window.location.href = window.location.protocol +'//'+ window.location.host + window.location.pathname;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<pre><code>&lt;html:form name=\"Form\" type=\"abc\" action=\"abc.do\" method=\"get\" onsubmit=\"return false;\"&gt;\n</code></pre>\n\n<p><code>method=\"get\"</code> - resolves the problem.</p>\n\n<p><code>if method=\"post\"</code> then only warning comes.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use JavaScript:</p>\n\n<pre><code>window.location.assign(document.URL);\n</code></pre>\n\n<p>Worked for me on Firefox and Chrome</p>\n\n<p>check this link: <a href=\"http://www.codeproject.com/Tips/433399/PRG-Pattern-Post-Redirect-Get\" rel=\"nofollow\">http://www.codeproject.com/Tips/433399/PRG-Pattern-Post-Redirect-Get</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had some problems with anchor/hash-urls (including #) not reloading using the solution from Rex... </p>\n\n<p>So I finally ended up by removing the hash part: </p>\n\n<pre><code>window.location = window.location.href.split(\"#\")[0];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I want to reload a page using:</p>\n\n<pre><code>window.location.reload(true);\n</code></pre>\n\n<p>But I receive the POSTDATA warning because the refresh function want to resend previous POST form data. How can I refresh my page without this warning?</p>\n\n<p>UPDATED: I have no control of the project! I can't workaround the POST itself!</p>\n",
            "last_activity_date": 1413974816,
            "question_id": 570015,
            "score": 32,
            "tags": [
                "javascript",
                "refresh",
                "reload",
                "postdata"
            ],
            "title": "How do I reload a page without a POSTDATA warning in Javascript?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>In all cases you are doing an anonymous function. I think 1 is the same as 2.\nIn the third case you are passing jQuery as an argument. This is done when you want to encapsulate jQuery within your function's scope.</p>\n\n<p>For instance, in your application, jQuery var could be jQuery. But within your anonymous function you may want to use it as $.</p>\n\n<pre><code>(function ($) {\n    //Here jQuery is $\n    var Book = $(document.body).text();    \n\n})(jQuery);\n\n//Out of your function, you user jQuery as jQuery (in this example)\nvar Book = jQuery(document.body).text();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>These all are self executing functions. Now days also known as Immediately Invoked Function Expressions (IIFE).  </p>\n\n<p>First two are exactly same with slightly different syntax and third is passing a <code>parameter</code> as jQuery object. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>All three examples are <strong>Immediately Invoked Function Expressions</strong> (<a href=\"http://benalman.com/news/2010/11/immediately-invoked-function-expression/\" rel=\"nofollow\">IIFE</a>).</p>\n\n<p>The only difference is that in the third example <code>jQuery</code> is being passed in as a variable allowing you to use it within the IIFE using its dollar naming convention. e.g.</p>\n\n<pre><code>(function ($) {\n  var Book = 'hello';\n  $('#bookelement').html(Book);\n})(jQuery);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>In fact, all three are self executing function's and ti really depends on what you are needing to do.</p>\n\n<p>The only difference between is between 3. 1 and 2 are the same.</p>\n\n<p>The difference with 3 is that you are passing a reference to jquery as an argument. Now all functions inside this annoyomus function have access to jque</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As the other answers pointed out they are all self executing anonymous function or immediate anonymous functions.</p>\n\n<p>The third example is use to create aliases for variables outside the function. This is a good way to prevent name conflicts and creating code where it's possible to easily change a module used in the function. It's essentially a form of dependency injection.</p>\n\n<pre><code>(function (doc, win, $, myModule) {\n    // Code\n}(document, window, jQuery, window.MYAPP.myModule));\n</code></pre>\n\n<p><code>doc</code>, <code>win</code>, <code>$</code> and <code>myModule</code> are injected variables. With this pattern it's trivial to change any of the injected components. Like this</p>\n\n<pre><code>(function (doc, win, $, myModule) {\n    // Code\n}(document, window, jQuery, window.MYAPP.myModule2)); //Use myModule2 instead myModule\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This is called a closure to avoid conflicts with other libraries such as <em><code>mootools</code></em> which are using <code>$</code>. This way you can ensure to use <code>$</code> in that function with passing <code>jQuery</code> as a param.</p>\n\n<pre><code>(function ($) {\n   $(function () { // Here in this block you can use '$' in place of jQuery\n    .......\n   });\n})(jQuery); //&lt;----passing jquery to avoid any conflict with other libraries.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Immediately-invoked function expressions (IIFE) is one of the core JavaScript features. Its main aim is not to clutter the namespaces with disposable functions and variables. </p>\n\n<p>if you use a variable or a function only once, you don't need to make it available for the rest of the code (therefore you make a private access, for example). In case of functions, you may just let them be anonymous, just like the following: </p>\n\n<pre><code>(function(){\n  console.log(\"Hello symfony world!\");\n}());\n</code></pre>\n\n<p><a href=\"http://designpepper.com/blog/drips/an-introduction-to-iifes-immediately-invoked-function-expressions\">Please check with this link</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Like every other answer has said, in the third function you are passing <code>JQuery</code> to the function.</p>\n\n<p>I would like to take a moment and explain why the first two are the same.</p>\n\n<p>When you create a function, the name of that function is really a <a href=\"http://en.wikipedia.org/wiki/Function_pointer\" rel=\"nofollow\">function pointer.</a> For instance, in <code>function foo(){}</code>, <code>foo</code> is a pointer to the function that you just made (which explains stuff like <a href=\"http://stackoverflow.com/questions/2326072/javascript-function-pointer-assignment\">this</a>). You dereference that pointer (and thus execute the function) by adding parenthesis at the end of the function name: <code>foo()</code>.  </p>\n\n<p>So if we look at that code again, in number one, first you create the function:</p>\n\n<pre><code>function () {\n\n    var Book = 'hello';\n\n}\n</code></pre>\n\n<p>And then you dereference it, effectively executing the function: <code>()</code></p>\n\n<p>In the second example, you surround the entirety of the function creation in parenthesis:</p>\n\n<pre><code>(function () {\n\n    var Book = 'hello';\n\n})\n</code></pre>\n\n<p>This ensures that you perform the creation operation before your next command, which is to dereference the function again: <code>()</code>. The parenthesis in this case are not really necessary, as the function will be created before it is executed anyway.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>What are the difference among -</p>\n\n<p><strong>First :-</strong></p>\n\n<pre><code>(function () {\n\n    var Book = 'hello';\n\n}());\n</code></pre>\n\n<p><strong>Second:-</strong></p>\n\n<pre><code>(function () {\n\n    var Book = 'hello';\n\n})();\n</code></pre>\n\n<p>First and second are similar some how in work..</p>\n\n<p><strong>Third :-</strong></p>\n\n<pre><code>(function ($) {\n\n    var Book = 'hello';\n\n})(jQuery);\n</code></pre>\n\n<p>What pattern I need to use and where in my coding.. Third module pattern I have seen while I was reading a article related to backboneJS.</p>\n\n<p><strong>What I understood from Third one \"self executing function with the argument \u201cjQuery\u201d\" ....</strong></p>\n\n<p>Can any please give me some idea about Immediately Invoked Function Expressions <strong>(IIFE)</strong>.</p>\n\n<p>Thanks !!</p>\n",
            "last_activity_date": 1382371035,
            "question_id": 19491650,
            "score": 31,
            "tags": [
                "javascript",
                "jquery",
                "iife"
            ],
            "title": "self executing function jquery vs javascript difference"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You are correct. $ is a part of the name of the variable.<br>\nThis is not perl or PHP :)</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>There are 27 letters in the alphabet as far as JavaScript is concerned. a-z and $. Anywhere you can use a letter in JavaScript you can use $ as that letter. (<em>&lt;c> Fellgall @ <a href=\"http://www.webdeveloper.com/forum/showthread.php?t=186546\">http://www.webdeveloper.com/forum/showthread.php?t=186546</a></em>)</p>\n\n<p>In your example $val and val will be two different variable names.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>syom - in my case, i use the $ prefix to indicate that it's a variable that is referenced by jquery. It's purely a part of the variable and not a reserved character. </p>\n\n<p>keeps it easy to identify in long code runs..</p>\n\n<p>jim</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>No real difference.. </p>\n\n<p>It is usally used to signify a variable holding a jquery or other javascript framework  object, because they can have shorthand <code>$</code> function..</p>\n\n<p>It is just easier to identify the type of the contents.. </p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><strong>The <code>$</code> in the variable name is only part of the name</strong>, but the <strong>convention</strong> is to use it to start variable names when the variable represents a jQuery object.</p>\n\n<pre><code>var $myHeaderDiv = $('#header');\nvar myHeaderDiv = document.getElementById('header');\n</code></pre>\n\n<p>Now later in your code, you know the <code>$myHeaderDiv</code> is already a jQuery object, so you can call jQuery functions:</p>\n\n<pre><code>$myHeaderDiv.fade();\n</code></pre>\n\n<h3>To get from the DOM-variable to the jQuery variable:</h3>\n\n<pre><code>var $myHeaderDiv = jQuery(myHeaderDiv); //assign to another variable\njQuery(myHeaderDiv).fade(); //use directly\n\n//or, as the $ is aliased to the jQuery object if you don't specify otherwise:\nvar $myHeaderDiv = jQuery(myHeaderDiv); //assign\n$(myHeaderDiv).fade(); //use\n</code></pre>\n\n<h3>To get from the jQuery variable to the DOM-variable.</h3>\n\n<pre><code>var myHeaderDiv = $myHeaderDiv.get(0);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 57
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicates:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/205853/why-would-a-javascript-variable-start-with-a-dollar-sign\">Why would a javascript variable start with a dollar sign?</a><br>\n  <a href=\"http://stackoverflow.com/questions/2880926/jquery-what-is-the-difference-between-var-test-and-var-test\">JQuery : What is the difference between &ldquo;var test&rdquo; and &ldquo;var $test&rdquo;</a>  </p>\n</blockquote>\n\n\n\n<p>What is the difference between this two ways of initializing variables?</p>\n\n<pre><code>var $val = 'something'\n\n     OR\n\nvar val = 'something'\n</code></pre>\n\n<p>as I see they are the same thing.</p>\n\n<p>Maybe in this case <code>$</code> is only the part of name in variable?\n(it will become a meaningless question in that case:/)</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1280572898,
            "question_id": 3360858,
            "score": 28,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Why use $ in the name of javascript variables?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Well, the linked document does say that</p>\n\n<blockquote>\n  <p>localStorage is the same as globalStorage[location.hostname], with the exception of <strong>being scoped to an HTML5 origin</strong> (scheme + hostname + non-standard port)</p>\n</blockquote>\n\n<p>I don't want to claim that I understand 100% what that means, but the bit in brackets would suggest that the URL needs to have certain properties - in particular that the scheme and hostname are what Firefox considers an HTML 5 origin.  I suspect that <code>file:///</code> URLs don't match this, while your <code>http://127.0.0.1/</code> does.</p>\n\n<p><em>edit</em>: Looking at the W3C's <a href=\"http://www.w3.org/TR/html5/browsers.html#origin-0\">description of the Origin property</a>, step 7 looks like it might be causing the problem.  Depending on how the <code>localStorage</code> handling is implemented, it may be expecting a 3-tuple as returned by step 12, but for a <code>file://</code> URL the return value may be just about anything.</p>\n\n<p><s>So, er, I suppose it is by design.</s>  On reflection, chances are that this isn't really by design; there's no reason why <code>localStorage</code> <em>shouldn't</em> work for <code>file://</code> URLs.  It might just be a case of the output of one browser-specific implementation not matching the expectations of another.</p>\n\n<p>As for workarounds, would <code>globalStorage</code> not do what you want here?</p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>It seems a bug:  <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=507361\"><strong>Bug 507361 -  localStorage doesn't work in file:/// documents</strong></a><br>\nHope is fixed soon!</p>\n\n<p>2011-09-13: Bug fixed, implemented in 'Mozilla8'. I tested this with Firefox 8 and it works now.</p>\n",
                    "is_accepted": true,
                    "score": 21
                }
            ],
            "body": "<p>So I'm toying around with HTML 5 and the localStorage and I'm noticing that my values only get stored when I run the page in Firefox on the local host (i.e. <a href=\"http://127.0.0.1:8000/test/index.html\" rel=\"nofollow\">http://127.0.0.1:8000/test/index.html</a>), but when I run the file locally (file:///C:/test/index.html) my values don't get stored. Safari 4 has no problems with both setups. \nSo does anybody know if this is by design -> <a href=\"https://developer.mozilla.org/en/DOM/Storage\" rel=\"nofollow\">DOM Storage on the Mozilla Developer Center</a> </p>\n\n<blockquote>\n  <p>(Firefox 2 permitted access to storage\n  objects higher in the domain hierarchy\n  than the current document. This is no\n  longer allowed in Firefox 3, for\n  security reasons. In addition, this\n  proposed addition to HTML 5 has been\n  removed from the HTML 5 specification\n  in favor of localStorage, which is\n  implemented in Firefox 3.5.)</p>\n</blockquote>\n\n<p>Or if there is a workaround?<br>\nI wonder because offline storage that works only online sounds silly :P</p>\n\n<p>If anybody wonders, the code is as easy as it gets:</p>\n\n<pre><code>function save()\n{\n localStorage.setItem('foo','bar');\n}\n\nfunction load()\n{\n var test = localStorage.getItem('foo');\n alert(test);\n}\n</code></pre>\n",
            "last_activity_date": 1341063601,
            "question_id": 1492942,
            "score": 27,
            "tags": [
                "javascript",
                "firefox",
                "safari",
                "html5"
            ],
            "title": "Is &quot;localStorage&quot; in Firefox only working when the page is online?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>if(self==top)\n</code></pre>\n\n<p>is true if a window is not a frame/iframe</p>\n\n<p>if you like to see if the parent window of the given window is a frame, use </p>\n\n<pre><code>if(parent==top)\n</code></pre>\n\n<p>It's a simple comparision of top(the most top window of the window-hierarchy) and another window-object(what <code>self</code> or <code>parent</code> are)</p>\n",
                    "is_accepted": true,
                    "score": 52
                },
                {
                    "body": "<pre><code>var isInIFrame = (window.location != window.parent.location);\nif(isInIFrame==true){\n    // iframe\n}\nelse {\n    // no iframe\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>Check if <code>window.frameElement</code> is not null and see if its nodeName property is \"IFRAME\":</p>\n\n<pre><code>var isInIframe = window.frameElement &amp;&amp; window.frameElement.nodeName == \"IFRAME\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p><strong>How can I tell from a page within an iframe, if the parent itself is also within an iframe?</strong></p>\n\n<p><em><strong>Explaination:</em></strong></p>\n\n<p>My home page <code>home.html</code> contains an iframe</p>\n\n<pre><code>&lt;iframe src=\"sample.html\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>I need to detect if home.html (ie: parent of sample.html) is within an iframe.</p>\n\n<p>Codes in sample.html</p>\n\n<pre><code>if(self==window)\n{\n    alert('home.html is not in iframe');\n}\nelse\n{\n    alert('home.html is in iframe');\n}\n</code></pre>\n\n<p>My Question is not a duplicate. Its a differnt case. Help me. </p>\n\n<p>Thanks in advance</p>\n",
            "last_activity_date": 1398290504,
            "question_id": 4594492,
            "score": 26,
            "tags": [
                "javascript",
                "jquery",
                "iframe"
            ],
            "title": "to check parent window is iframe or not"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The directive in question is new in 1.1.1; you can see it working using <a href=\"http://jsbin.com/ibosub/11/edit\">JS Bin snippet</a>.</p>\n\n<pre><code>&lt;textarea cols=\"30\" rows=\"10\" ng-model=\"text\" ng-trim=\"false\"&gt;&lt;/textarea&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 37
                },
                {
                    "body": "<p>Fallback for angular 1.0.x</p>\n\n<pre><code>var app = angular.module('app', []);\n\napp.directive('ngTrim', function() {\n    return {\n        require: 'ngModel',\n        priority: 300,\n        link: function(scope, iElem, iAttrs, ngModel) {\n            if (iAttrs.ngTrim === 'false') {\n                // Be careful here. We override any value comming from the previous\n                // parsers to return the real value in iElem\n                ngModel.$parsers.unshift(function() {\n                    return iElem.val();\n                });\n            }\n        }\n    }\n});\n\nangular.bootstrap(document, ['app']);\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/vXCnj/3/\" rel=\"nofollow\">http://jsfiddle.net/vXCnj/3/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've found some strange behavior: angular trims model values by default. And quick googling doesn't help me to solve this problem. I've found <code>ng-no-trim</code> directive proposals, <code>ng-trim</code> and so on. But nothing works.</p>\n\n<p>I've provided a little snippet that represents this issue below.</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>function Ctrl($scope) {\n  $scope.text='';\n\n  $scope.$watch('text', function (newValue) {\n    console.log(newValue);\n  });\n}\n</code></pre>\n\n<p>Also you could try this snippet <a href=\"http://jsbin.com/ibosub/1/edit\">here</a>.</p>\n\n<p>I've added a textarea that is in sync with model <code>text</code>. But it doesn't react for watching when add new trailing spaces or break the line to new one.</p>\n\n<p>What could I do to turn off this behavior? Thanks.</p>\n",
            "last_activity_date": 1401214731,
            "question_id": 14958418,
            "score": 24,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "How to disable trimming of inputs in AngularJS?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can always give regular expression as string, i.e. <code>\"ReGeX\" + testVar + \"ReGeX\"</code>. You'll possibly have to escape some characters inside your string (e.g., double quote), but for most cases it's equivalent.</p>\n\n<p>You can also use <code>RegExp</code> constructor to pass flags in (<a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/RegExp\" rel=\"nofollow\">see the docs</a>).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>var regex = new RegExp(\"ReGeX\" + testVar + \"ReGeX\");\n...\nstring.replace(regex, \"replacement\");\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 42
                },
                {
                    "body": "<p>You can use the RegExp object:</p>\n\n<pre><code>var regexstring = \"whatever\";\nvar regexp = new RegExp(regexstring, \"gi\");\nvar str = \"whateverTest\";\nvar str2 = str.replace(regexp, \"other\");\ndocument.write(str2);\n</code></pre>\n\n<p>Then you can construct <code>regexstring</code> in any way you want. </p>\n\n<p>You can read more about it <a href=\"http://www.regular-expressions.info/javascript.html\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>To build a regular expression from a variable in JavaScript, you'll need to use the <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/RegExp\" rel=\"nofollow\"><code>RegExp</code></a> constructor with a string parameter.</p>\n\n<pre><code>function reg(input) {\n    var flags;\n    //could be any combination of 'g', 'i', and 'm'\n    flags = 'g';\n    return new RegExp('ReGeX' + input + 'ReGeX', flags);\n}\n</code></pre>\n\n<p>of course, this is a very naive example. It assumes that <code>input</code> is has been properly escaped for a regular expression. If you're dealing with user-input, or simply want to make it more convenient to match special characters, you'll need to <a href=\"http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\">escape special characters</a>:</p>\n\n<pre><code>function regexEscape(str) {\n    return str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&amp;')\n}\n\nfunction reg(input) {\n    var flags;\n    //could be any combination of 'g', 'i', and 'm'\n    flags = 'g';\n    input = regexEscape(input);\n    return new RegExp('ReGeX' + input + 'ReGeX', flags);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>So for example:</p>\n\n<pre><code>function(input){\n    var testVar = input;\n    string = ...\n    string.replace(/ReGeX + testVar + ReGeX/, \"replacement\")\n}\n</code></pre>\n\n<p>But this is of course not working :)\nIs there any way to do this?</p>\n",
            "last_activity_date": 1386543332,
            "question_id": 4029109,
            "score": 23,
            "tags": [
                "javascript",
                "regex",
                "variables"
            ],
            "title": "Javascript Regex: How to put a variable inside a regular expression?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>You can use the the <a href=\"http://docs.jquery.com/Events/click\">click</a> function to trigger the click event on the selected element.</p>\n\n<p>Example:</p>\n\n<pre><code>$( 'selector for your link' ).click ();\n</code></pre>\n\n<p>You can learn about various selectors in jQuery's <a href=\"http://docs.jquery.com/Selectors\">documentation</a>.</p>\n\n<p>EDIT: like the commenters below have said; this only works on events attached with jQuery, inline or in the style of \"element.onclick\". It does not work with addEventListener, and it will not follow the link if no event handlers are defined.\nYou could solve this with something like this:</p>\n\n<pre><code>var linkEl = $( 'link selector' );\nif ( linkEl.attr ( 'onclick' ) === undefined ) {\n    document.location = linkEl.attr ( 'href' );\n} else {\n    linkEl.click ();\n}\n</code></pre>\n\n<p>Don't know about addEventListener though.</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>Easy! Just use jQuery's <a href=\"http://docs.jquery.com/Events/click\">click</a> function:</p>\n\n<pre><code>$(\"#theElement\").click();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>At first see this <a href=\"http://stackoverflow.com/questions/1236067/test-if-event-handler-is-bound-to-an-element-in-jquery\">question</a> to see how you can find if a link has a jQuery handler assigned to it.</p>\n\n<p>Next use:</p>\n\n<pre><code>$(\"a\").attr(\"onclick\")\n</code></pre>\n\n<p>to see if there is a javascript event assigned to it.</p>\n\n<p>If any of the above is true, then call the click method. If not, get the link:</p>\n\n<pre><code>$(\"a\").attr(\"href\")\n</code></pre>\n\n<p>and follow it.</p>\n\n<p>I am afraid I don't know what to do if addEventListener is used to add an event handler. If you are in charge of the full page source, use only jQuery event handlers.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just </p>\n\n<pre><code>$(\"#your_item\").trigger(\"click\");\n</code></pre>\n\n<p>using .trigger() you can simulate many type of events, just passing it as the parameter.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>All this might not help say when you use rails remote form button to simulate click to. I tried to port nice event simulation from prototype here: <a href=\"https://github.com/sergeych/jsnippets/blob/master/simulate_event.js\" rel=\"nofollow\">my snippets</a>. Just did it and it works for me.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this</p>\n\n<pre><code>function submitRequest(buttonId) {\n    if (document.getElementById(buttonId) == null\n            || document.getElementById(buttonId) == undefined) {\n        return;\n    }\n    if (document.getElementById(buttonId).dispatchEvent) {\n        var e = document.createEvent(\"MouseEvents\");\n        e.initEvent(\"click\", true, true);\n        document.getElementById(buttonId).dispatchEvent(e);\n    } else {\n        document.getElementById(buttonId).click();\n    }\n}\n</code></pre>\n\n<p>and you can use it like</p>\n\n<pre><code>submitRequest(\"target-element-id\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Why not just the good ol' javascript? </p>\n\n<p><code>$('#element')[0].click()</code></p>\n",
                    "is_accepted": false,
                    "score": 15
                }
            ],
            "body": "<p>I want to simulate a click on any link on a page using JavaScript. If that link has some function binded to its 'onclick' event (by any other JS I don't have any control over), then that function must be called otherwise the link should behave in the normal manner and open a new page. </p>\n\n<p>I am not sure that just checking the value of the 'onclick' handler would suffice. I want to build this so that it works on any link element. </p>\n\n<p>I have no control over what function maybe binded to the onclick event of the link using whichever JS library (not necessarily jQuery) or by simply using JavaScript.</p>\n\n<p>EDIT: With the help of the answers below, it looks like it is possible to check for event handlers attached using jQuery or using the <code>onclick</code> attribute. How do I check for event handlers attached using <code>addEventListener</code> / any other JS library so that it is foolproof?</p>\n",
            "last_activity_date": 1364257759,
            "question_id": 1839363,
            "score": 22,
            "tags": [
                "javascript",
                "jquery",
                "onclick"
            ],
            "title": "Simulating a click in jQuery/JavaScript on a link"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Multiply the result by <code>180/Math.PI</code> to convert from radians to degrees.</p>\n\n<p>You could also define your own functions:</p>\n\n<pre><code>function sinDeg(num) {return Math.sin(num/180*Math.PI);};\n</code></pre>\n\n<p>and so on.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>You can use a function like this to do the conversion:</p>\n\n<pre><code>function toDegrees (angle) {\n  return angle * (180 / Math.PI);\n}\n</code></pre>\n\n<p>Note that functions like <code>sin</code>, <code>cos</code>, and so on <em>do not return angles</em>, they take angles as input. It seems to me that it would be more useful to you to have a function that converts a degree input to radians, like this:</p>\n\n<pre><code>function toRadians (angle) {\n  return angle * (Math.PI / 180);\n}\n</code></pre>\n\n<p>which you could use to do something like <code>tan(toRadians(45))</code>.</p>\n",
                    "is_accepted": true,
                    "score": 46
                },
                {
                    "body": "<p>Create your own conversion function that applies the needed math, and invoke those instead. <a href=\"http://en.wikipedia.org/wiki/Radian#Conversion_between_radians_and_degrees\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Radian#Conversion_between_radians_and_degrees</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>When I'm working with math in JS I would like its trig functions to use degree values instead of radian values. How would I do that?</p>\n",
            "last_activity_date": 1395452241,
            "question_id": 9705123,
            "score": 21,
            "tags": [
                "javascript",
                "math"
            ],
            "title": "How can I get sin, cos, and tan to use degrees instead of radians?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<pre><code> window.open('your_url', 'popup_name','height=' + screen.height + ',width=' + screen.width + ',resizable=yes,scrollbars=yes,toolbar=yes,menubar=yes,location=yes')\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Checkout this jquery window plugin: <a href=\"http://fstoke.me/jquery/window/\" rel=\"nofollow\">http://fstoke.me/jquery/window/</a></p>\n\n<pre><code>// create a window\nsampleWnd = $.window({\n   .....\n});\n\n// resize the window by passed w,h parameter\nsampleWnd.resize(screen.width, screen.height);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var params = [\n    'height='+screen.height,\n    'width='+screen.width,\n    'fullscreen=yes' // only works in IE, but here for completeness\n].join(',');\n     // and any other options from\n     // https://developer.mozilla.org/en/DOM/window.open\n\nvar popup = window.open('http://www.google.com', 'popup_window', params); \npopup.moveTo(0,0);\n</code></pre>\n\n<p>Please refrain from opening the popup unless the user really wants it, otherwise they will curse you and blacklist your site. ;-)</p>\n\n<p><strong>edit</strong>: Oops, as Joren Van Severen points out in a comment, this may not take into account taskbars and window decorations (in a possibly browser-dependent way). Be aware. It seems that ignoring height and width (only param is <code>fullscreen=yes</code>) seems to work on Chrome and perhaps Firefox too; the original 'fullscreen' functionality has been disabled in Firefox for being obnoxious, but has been replaced with maximization. This directly contradicts information on the same page of <a href=\"https://developer.mozilla.org/en/DOM/window.open\">https://developer.mozilla.org/en/DOM/window.open</a> which says that window-maximizing is impossible. This 'feature' may or may not be supported depending on the browser.</p>\n",
                    "is_accepted": true,
                    "score": 41
                },
                {
                    "body": "<p>If I use Firefox  then <code>screen.width</code> and <code>screen.height</code> works fine but in IE and Chrome they  don't work properly instead it opens with the minimum size.</p>\n\n<p>And yes I tried giving too large numbers too like <code>10000</code> for both <code>height</code> and <code>width</code> but not exactly the maximized effect.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm using Javascript's <code>self.open()</code> to open a link in a new window and i'd like that window to be maximized. I tried the <code>fullscreen=yes</code> option, which really doesn't do what I want. I am using below code:</p>\n\n<pre><code>self.open(pageLoc,popUpName,'height=1600,width=1800,resizable=yes,scrollbars=yes,toolbar=yes,menubar=yes,location=yes'); \n</code></pre>\n\n<p>If i also mention <code>fullscreen=yes</code>, then window opens up like you press F11. But i don't want it that. What i want is when i double click on <strong>IE</strong> and click maximize icon on top right corner.</p>\n\n<p>As i have given the <code>height</code> and <code>width</code> value so large, it is close to maximized window but not actual maximized window. (the reason i am saying this because\n    even now if i click maximize button, it further expans little bit)</p>\n",
            "last_activity_date": 1374721914,
            "question_id": 10297168,
            "score": 20,
            "tags": [
                "javascript",
                "internet-explorer"
            ],
            "title": "How to open maximized window with Javascript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You should always run untrusted code in a separate process, which is exactly what the sandbox module does. A simple reason is that <code>vm.runInNewContext('while(true){}', {})</code> will freeze node.</p>\n\n<p>It starts by spawning a separate process, which will later send the result serialized to JSON on its stdout. The parent process continues executing regardless of what the child does and can trigger a timeout.</p>\n\n<p>The untrusted code is then wrapped in a closure with <a href=\"https://developer.mozilla.org/en/JavaScript/Strict_mode\">strict mode</a> (in regular JavaScript, you can use <code>arguments.callee.caller</code> to access data outside of your scope). Finally, a very limited <code>global</code> object is passed to prevent access to node's API. The untrusted code can only do basic computation and has no access to files or sockets.</p>\n\n<p>While you should read sandbox's code as an inspiration, I wouldn't recommend using it as is:</p>\n\n<ul>\n<li>The code is getting old and hasn't been updated for 7 months.</li>\n<li>The Child Process module in node already provides most of the features you need, especially <a href=\"http://nodejs.org/api/child_process.html#child_process_child_process_fork_modulepath_args_options\">child_process.fork()</a>.</li>\n<li>The IPC channel provided by child_process.fork probably has better performances.</li>\n</ul>\n\n<p>For increased security, you could also consider using <a href=\"http://code.google.com/p/setuid-sandbox/\">setuid-sandbox</a>. It's the code used by Google Chrome to prevent tab processes from accessing the file system. You would have to make a native module, but this <a href=\"http://code.google.com/p/setuid-sandbox/source/browse/example.c\">example</a> seems straightforward.</p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>What are the options for running (possibly malicious) user-submitted scripts in node.js, securely?  I.e. in an environment that prevents code from accessing sensitive data and APIs?</p>\n\n<p><code>vm.runInNewContext(userScript, {})</code> is a tempting starting point... but it seems like there are <a href=\"https://github.com/joyent/node/issues/1469\">known issues</a> there.</p>\n\n<p>The <a href=\"https://github.com/gf3/sandbox\">sandbox module</a> looks interesting, but uses <code>runInNewContext()</code> as well so I'm a bit leery of it.</p>\n",
            "last_activity_date": 1343998993,
            "question_id": 7446729,
            "score": 19,
            "tags": [
                "javascript",
                "node.js",
                "v8"
            ],
            "title": "How to run user-submitted scripts securely in a node.js sandbox?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Copy pasted from google first result:</p>\n\n<pre><code>// Browser Window Size and Position\n// copyright Stephen Chapman, 3rd Jan 2005, 8th Dec 2005\n// you may copy these functions but please keep the copyright notice as well\nfunction pageWidth() \n{\nreturn window.innerWidth != null? window.innerWidth : document.documentElement &amp;&amp; document.documentElement.clientWidth ?  document.documentElement.clientWidth : document.body != null ? document.body.clientWidth : null;\n} \nfunction pageHeight() \n{\nreturn  window.innerHeight != null? window.innerHeight : document.documentElement &amp;&amp; document.documentElement.clientHeight ?  document.documentElement.clientHeight : document.body != null? document.body.clientHeight : null;\n} \nfunction posLeft() \n{\nreturn typeof window.pageXOffset != 'undefined' ? window.pageXOffset :document.documentElement &amp;&amp; document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ? document.body.scrollLeft : 0;\n} \nfunction posTop() \n{\nreturn typeof window.pageYOffset != 'undefined' ?  window.pageYOffset : document.documentElement &amp;&amp; document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ? document.body.scrollTop : 0;\n} \nfunction posRight() \n{\nreturn posLeft()+pageWidth();\n} \nfunction posBottom() \n{\nreturn posTop()+pageHeight();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>For IE: </p>\n\n<p><strong>X</strong> - <a href=\"http://msdn.microsoft.com/en-us/library/ms534389(VS.85).aspx\"><code>window.screenLeft</code></a><br />\n<strong>Y</strong> - <a href=\"http://msdn.microsoft.com/en-us/library/ms534390(VS.85).aspx\"><code>window.screenTop</code></a></p>\n\n<p>For everything else:</p>\n\n<p><strong>X</strong> - <a href=\"https://developer.mozilla.org/en/DOM/window.screenX\"><code>window.screenX</code></a><br />\n<strong>Y</strong> - <a href=\"https://developer.mozilla.org/en/Window.screenY\"><code>window.screenY</code></a></p>\n\n<p>Keep in mind, <a href=\"http://www.quirksmode.org/dom/w3c_cssom.html\">implementations vary</a>. Beware of multi-monitor setups...</p>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>Take a look at the following properties:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en/DOM/window.screen.height\">window.screen.height</a>: Returns the height of the screen in pixels.  </li>\n<li><a href=\"https://developer.mozilla.org/en/DOM/window.screen.top\">window.screen.top</a>: Returns the distance in pixels from the top side of the current screen.  </li>\n<li><a href=\"https://developer.mozilla.org/en/DOM/window.screen.width\">window.screen.width</a>: Returns the width of the screen.  </li>\n<li><a href=\"https://developer.mozilla.org/en/DOM/window.screen.left\">window.screen.left</a>: Returns the distance in pixels from the left side of the main screen to the left side of the current screen.</li>\n</ul>\n\n<p>(These won't give you the window size or position, but may allow you to correctly interpret them when operating on a system with multiple monitors)</p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>For various silly reasons, I'd like to be able to detect the rectangle of the browser window on screen.  Title bar and all.</p>\n\n<p>Is this possible, or is JavaScript limited to the view port of its page?</p>\n\n<p><strong>Edit:</strong> I may have been unclear, but view port is the portion of the page that's visible in the window. This may not be a term commonly used with browsers, but it's common in graphics. </p>\n",
            "last_activity_date": 1381945245,
            "question_id": 504052,
            "score": 19,
            "tags": [
                "javascript"
            ],
            "title": "Determining position of the browser window in JavaScript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><strong>Update</strong></p>\n\n<p>If your popover is going to have a selector that is consistent then you can make use of <code>selector</code> property of popover constructor.</p>\n\n<pre><code>var popOverSettings = {\n    placement: 'bottom',\n    container: 'body',\n    html: true,\n    selector: '[rel=\"popover\"]', //Sepcify the selector here\n    content: function () {\n        return $('#popover-content').html();\n    }\n}\n\n$('body').popover(popOverSettings);\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/RRGnb/\">Demo</a></strong></p>\n\n<p>Other ways:</p>\n\n<ol>\n<li>(<strong>Standard Way</strong>) Bind the popover again to the new items being inserted. Save the popoversettings in an external variable.  </li>\n<li>Use <code>Mutation Event</code>/<code>Mutation Observer</code> to identify if a particular element has been inserted on to the <code>ul</code> or an element.</li>\n</ol>\n\n<h3>Source</h3>\n\n<pre><code>var popOverSettings = { //Save the setting for later use as well\n    placement: 'bottom',\n    container: 'body',\n    html: true,\n    //content:\" &lt;div style='color:red'&gt;This is your div content&lt;/div&gt;\"\n    content: function () {\n        return $('#popover-content').html();\n    }\n\n}\n\n$('ul').on('DOMNodeInserted', function () { //listed for new items inserted onto ul\n    $(event.target).popover(popOverSettings);\n});\n\n$(\"button[rel=popover]\").popover(popOverSettings);\n$('.pop-Add').click(function () {\n    $('ul').append(\"&lt;li class='project-name'&gt;     &lt;a&gt;project name 2        &lt;button class='pop-function' rel='popover'&gt;&lt;/button&gt;     &lt;/a&gt;   &lt;/li&gt;\");\n});\n</code></pre>\n\n<p>But it is not recommended to use <a href=\"http://www.w3.org/TR/DOM-Level-3-Events/#event-type-DOMNodeInserted\">DOMNodeInserted</a> Mutation Event for performance issues as well as support. This has been <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/DOM/Events/Mutation_events?redirectlocale=en-US&amp;redirectslug=DOM%2FMutation_events\">deprecated</a> as well. So your best bet would be to save the setting and bind after you update with new element.</p>\n\n<h3><a href=\"http://jsfiddle.net/re29p/\">Demo</a></h3>\n\n<p>Another recommended way is to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\">MutationObserver</a> instead of MutationEvent according to MDN, but again support in some browsers are unknown and performance a concern.</p>\n\n<pre><code>MutationObserver = window.MutationObserver || window.WebKitMutationObserver;\n// create an observer instance\nvar observer = new MutationObserver(function (mutations) {\n    mutations.forEach(function (mutation) {\n        $(mutation.addedNodes).popover(popOverSettings);\n    });\n});\n\n// configuration of the observer:\nvar config = {\n     attributes: true, \n     childList: true, \n     characterData: true\n};\n\n// pass in the target node, as well as the observer options\nobserver.observe($('ul')[0], config);\n</code></pre>\n\n<h3><a href=\"http://jsfiddle.net/zJnqx/\">Demo</a></h3>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>I did this and it works for me. \n\"content\" is placesContent object. not the html content!</p>\n\n<pre><code>var placesContent = $('#placescontent');\n$('#places').popover({\n        trigger: \"click\",\n        placement: \"bottom\",\n        container: 'body',\n        html : true,\n        content : placesContent,\n    });\n\n$('#places').on('shown.bs.popover', function(){\n  $('#addPlaceBtn').on('click', addPlace);\n}\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;div id=\"placescontent\"&gt;&lt;div id=\"addPlaceBtn\"&gt;Add&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm using Twitter Bootstrap's popover on the dynamic list. The list item has a button, when I click the button, it should show up popover. It works fine when I tested on non-dynamic.  </p>\n\n<p>this is my JavaScript for non-dynamic list</p>\n\n<pre><code>$(\"button[rel=popover]\").popover({ \n    placement : 'right',\n    container : 'body',\n    html : true,\n    //content:\" &lt;div style='color:red'&gt;This is your div content&lt;/div&gt;\"\n    content: function() {\n      return $('#popover-content').html();\n    }\n\n    })\n    .click(function(e) {\n        e.preventDefault();\n});\n</code></pre>\n\n<p>However, It doesn't work well on dynamic list. It can show up when I click the button \"twice\" and only show up one of list items I click fist time. </p>\n\n<p>MY html: </p>\n\n<pre><code> &lt;ul id=\"project-list\" class=\"nav nav-list\"&gt;\n   &lt;li class='project-name'&gt;\n     &lt;a &gt;project name 1\n         &lt;button class=\"pop-function\" rel=\"popover\" &gt;&lt;/button&gt;\n     &lt;/a&gt;\n   &lt;/li&gt;\n   &lt;li class='project-name'&gt;\n     &lt;a&gt;project name 2\n        &lt;button class=\"pop-function\" rel=\"popover\" &gt;&lt;/button&gt;\n     &lt;/a&gt;\n   &lt;/li&gt;\n\n &lt;/ul&gt;\n\n&lt;div id=\"popover-content\" style=\"display:none\"&gt;\n    &lt;button class=\"pop-sync\"&gt;&lt;/button&gt;\n    &lt;button class=\"pop-delete\"&gt;&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>My JavaScript for dynamic:</p>\n\n<pre><code>$(document).on(\"click\", \"#project-list li\" , function(){\n   var username = $.cookie(\"username\");\n   var projectName = $(this).text()\n   $(\"li.active\").removeClass(\"active\");\n   $(this).addClass(\"active\");\n   console.log(\"username: \" +username + \" project name: \"+projectName );\n});\n\n\n$(document).on(\"click\", \"button[rel=popover]\", function(){\n    $(this).popover({ \n       placement : 'right',\n       container : 'body',\n       html : true,\n    content: function() {\n       return $('#popover-content').html();\n        }\n\n    }).click(function(e){\n    e.preventDefault();\n    })\n\n});\n\n\n//for close other popover when one popover button click\n$(document).on(\"click\", \"button[rel=popover]\" , function(){\n\n        $(\"button[rel=popover]\").not(this).popover('hide');\n });\n</code></pre>\n\n<p>I have searched similar problems, but I still can't find the one to solve my problem.  If anyone has some ideas, please let me know. Thanks your help. </p>\n",
            "last_activity_date": 1401869708,
            "question_id": 16990573,
            "score": 18,
            "tags": [
                "javascript",
                "jquery",
                "dom",
                "twitter-bootstrap",
                "popover"
            ],
            "title": "How to bind bootstrap popover on dynamic elements"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yes it's JavaScript.</p>\n\n<p>It uses the <a href=\"http://en.wikipedia.org/wiki/Canvas_element\"><code>&lt;canvas&gt;</code></a> element.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>(function () {\n    var c = !0,\n        d = !1;\n    try {\n        window.google || (window.google = {});\n        google.doodle || (google.doodle = {});\n        var f = google.doodle,\n            h, j, k, l, m, n, o = 0,\n            p = 23,\n            q, r, s, u, v, w, x, y = 142,\n            z = 356,\n            A = 311,\n            B = 0,\n            C = 0,\n            D = 30,\n            E = 15,\n            F = d,\n            G, H = d,\n            I = d,\n            J = {\n                back: {\n                    src: \"/logos/2012/sundback12-hp-s.png\",\n                    height: 31,\n                    width: 24,\n                    x: 0,\n                    y: 0\n                },\n                s: {\n                    src: \"/logos/2012/sundback12-hp-l.jpg\",\n                    height: 120,\n                    width: 186,\n                    x: 0,\n                    y: 0\n                },\n                F: {\n                    src: \"/logos/2012/sundback12-hp-l.jpg\",\n                    height: 120,\n                    width: 186,\n                    x: 186,\n                    y: 0\n                },\n                i: {\n                    src: \"/logos/2012/sundback12-hp-s.png\",\n                    height: 60,\n                    width: 28,\n                    x: 24,\n                    y: 0\n                },\n                top: {\n                    src: \"/logos/2012/sundback12-hp-s.png\",\n                    height: 23,\n                    width: 8,\n                    x: 52,\n                    y: 0\n                },\n                G: {\n                    src: \"/logos/2012/sundback12-hp-s.png\",\n                    height: 7,\n                    width: 15,\n                    x: 60,\n                    y: 0\n                },\n                B: {\n                    src: \"/logos/2012/sundback12-hp-s.png\",\n                    height: 7,\n                    width: 15,\n                    x: 75,\n                    y: 0\n                }\n            },\n            K = function () {\n                google.psy &amp;&amp; google.nav &amp;&amp; google.nav.go ? google.nav.go(\"/search?q=Gideon+Sundback&amp;ct=sundback12-hp&amp;oi=ddle\") : window.location.href = \"/search?q=Gideon+Sundback&amp;ct=sundback12-hp&amp;oi=ddle\"\n            },\n            L = function (a, b, g, i, e) {\n                a.beginPath();\n                a.moveTo(b, g);\n                a.lineTo(i, e);\n                a.stroke()\n            },\n            M = function (a, b, g) {\n                var i = document.createElement(\"canvas\"),\n                    e = i.getContext(\"2d\"),\n                    t = j.createLinearGradient(0, 0, 0, g);\n                t.addColorStop(0, \"#f5f5f5\");\n                t.addColorStop(1, \"#f1f1f1\");\n                e.fillStyle = t;\n                e.fillRect(1, 1, b - 2, g - 2);\n                e.lineWidth = 1;\n                e.strokeStyle = \"#d0d0d0\";\n                L(e, 1, 0, b - 1, 0);\n                L(e, b, 1, b, g - 1);\n                L(e, b - 1, g, 1, g);\n                L(e, 0, g - 1, 0, 1);\n                e.fillStyle = \"#444\";\n                e.textAlign = \"center\";\n                e.font = \"bold 11px Arial,sans-serif\";\n                e.fillText(a, b / 2, g * 2 / 3);\n                return i\n            },\n            N = function (a, b) {\n                var g = document.createElement(\"canvas\"),\n                    i = g.getContext(\"2d\");\n                i.fillStyle = \"#fff\";\n                i.fillRect(0, 0, b, 29);\n                i.lineWidth = 1;\n                i.strokeStyle = \"#c0c0c0\";\n                L(i, 0, 0, b, 0);\n                i.strokeStyle = \"#d9d9d9\";\n                L(i, 0, 29, b, 29);\n                var e = a ? 0 : b;\n                L(i, e, 0, e, 29);\n                return g\n            },\n            O = \"move,-ie-grabbing,-moz-grabbing,-o-grabbing,-webkit-grabbing,grabbing\".split(\",\"),\n            aa = \"move,-ie-grab,-moz-grab,-o-grab,-webkit-grab,grab\".split(\",\"),\n            P = function (a, b) {\n                if (a) for (var g in b) a.style.cursor = b[g]\n            },\n            ba = function (a) {\n                if (!H &amp;&amp; !Q()) {\n                    F = H = c;\n                    google.listen(window, \"mouseup\", R);\n                    google.listen(window, \"mousemove\", S);\n                    h.style.zIndex = \"2000\";\n                    P(h, O);\n                    k &amp;&amp; P(k, O);\n                    l.q.blur();\n                    google.psy &amp;&amp; K();\n                    T();\n                    S(a)\n                }\n            },\n            R = function () {\n                if (!I &amp;&amp; H) {\n                    I = c;\n                    F = d;\n                    h.style.cursor = \"auto\";\n                    if (k) k.style.cursor = \"auto\";\n                    ca()\n                }\n            },\n            S = function (a) {\n                if (F) {\n                    a ? a.stopPropagation &amp;&amp; a.stopPropagation() : window.event.cancelBubble = c;\n                    a.preventDefault ? a.preventDefault() : a.returnValue = d;\n                    a = a || window.event;\n                    G = !a ? [0, 0] : [(a.clientX || a.targetTouches &amp;&amp; a.targetTouches[0] &amp;&amp; a.targetTouches[0].clientX || 0) + (document.body.scrollLeft || document.documentElement.scrollLeft || 0), (a.clientY || a.targetTouches &amp;&amp; a.targetTouches[0] &amp;&amp; a.targetTouches[0].clientY || 0) + (document.body.scrollTop || document.documentElement.scrollTop || 0)];\n                    a = B;\n                    B = Math.max(0, G[1] - o - 30 - J.i.height);\n                    if (f.z &gt; 0) {\n                        f.z--;\n                        var b = B - a;\n                        Math.abs(b) &gt; 50 &amp;&amp; (B = a + b * 0.25)\n                    }\n                    U()\n                }\n            },\n            T = function () {\n                var a = document.getElementById(\"mgmhppd\");\n                o = a ? a.offsetHeight : 0;\n                a = o + 30;\n                h.style.top = a + \"px\";\n                var b = document.getElementById(\"ftby\");\n                if (b &amp;&amp; b.parentNode) p = b.parentNode.offsetHeight;\n                h.height = x = document.body.clientHeight - (o + (H ? 0 : 30 + p));\n                var b = 833,\n                    g = document.getElementById(\"gbqf\");\n                g &amp;&amp; (b = Math.max(b, g.offsetWidth));\n                h.width = v = Math.max(b, document.body.clientWidth);\n                w = v / 2;\n                G || (G = [0, 0]);\n                G[0] = w;\n                if (k) {\n                    b = k.style;\n                    b.top = h.style.top;\n                    b.left = w - 236 + \"px\";\n                    if (l) b.height = google.style.getPageOffsetTop(l) - a + \"px\"\n                }\n                da();\n                U()\n            },\n            V = function (a) {\n                a.addColorStop(0, \"rgba(255,255,255,0)\");\n                a.addColorStop(0.01, \"#eee\");\n                a.addColorStop(0.55, \"#fff\");\n                a.addColorStop(0.58, \"#b1b1b1\");\n                a.addColorStop(0.68, \"#dedede\");\n                a.addColorStop(0.98, \"#dedede\");\n                a.addColorStop(0.99, \"rgba(255,255,255,0)\")\n            },\n            da = function () {\n                q = w - C + 1;\n                r = w + C;\n                s = q - 42;\n                u = r + 42\n            },\n            U = function () {\n                if (j) {\n                    j.clearRect(0, 0, v, x);\n                    var a = s - B,\n                        b = u + B;\n                    j.fillStyle = \"#fff\";\n                    f.g || j.fillRect(0, 0, v, x);\n                    j.beginPath();\n                    j.moveTo(0, 0);\n                    j.lineTo(a, 0);\n                    j.arc(a, B, B + 21, -Math.PI / 2, 0, d);\n                    j.lineTo(s, x);\n                    j.lineTo(0, x);\n                    j.lineTo(0, 0);\n                    j.fill();\n                    j.beginPath();\n                    j.moveTo(v, 0);\n                    j.lineTo(b, 0);\n                    j.arc(b, B, B + 21, -Math.PI / 2, Math.PI, c);\n                    j.lineTo(u, x);\n                    j.lineTo(v, x);\n                    j.lineTo(v, 0);\n                    j.fill();\n                    W(J.s, -42, y, c);\n                    W(J.F, -42, y, d);\n                    if (H) {\n                        W(J.v, 0, A, c);\n                        W(J.w, 0, A, d)\n                    }\n                    if (H) {\n                        var g = !l || l.q.dir != \"rtl\";\n                        W(J.search, -57, z, g);\n                        W(J.C, -57, z, !g)\n                    }\n                    g = j.createRadialGradient(a, B, B, a, B, B + 42);\n                    V(g);\n                    j.fillStyle = g;\n                    j.fillRect(a, 0, B + 42, B);\n                    a = j.createRadialGradient(b, B, B, b, B, B + 42);\n                    V(a);\n                    j.fillStyle = a;\n                    j.fillRect(r, 0, B + 42, B);\n                    a = j.createLinearGradient(s, 0, q, 0);\n                    V(a);\n                    j.fillStyle = a;\n                    j.fillRect(s, B, 42, x - B);\n                    a = j.createLinearGradient(u, 0, r, 0);\n                    V(a);\n                    j.fillStyle = a;\n                    j.fillRect(r, B, 42, x - B);\n                    a = J.B.height + 5;\n                    for (b = 0; b &lt; x; b = b + a) {\n                        W(J.G, 3, b + a / 2, c);\n                        W(J.B, 3, b, d)\n                    }\n                    a = A - 50;\n                    a = Math.min(1, (a - (B - 50)) / a);\n                    if (H &amp;&amp; a &gt; 0) {\n                        j.save();\n                        j.globalAlpha = a;\n                        W(J.v, 0, A, c);\n                        W(J.w, 0, A, d);\n                        j.restore()\n                    }\n                    X(J.back, r - J.back.width / 2, B);\n                    j.save();\n                    a = 0;\n                    G &amp;&amp; (a = Math.atan((w - G[0]) / J.i.height));\n                    j.translate(r + a * 6, B + 12 + Math.abs(a) * 6);\n                    j.rotate(a);\n                    X(J.i, 0 - J.i.width / 2, 0);\n                    j.restore();\n                    X(J.top, r - J.top.width / 2, B + 5)\n                }\n            },\n            X = function (a, b, g) {\n                b &gt; h.width || g &gt; h.height || j.drawImage(a.a, a.x, a.y, a.width, a.height, b, g, a.width, a.height)\n            },\n            W = function (a, b, g, i) {\n                var e = i ? q : r;\n                if (g &gt; B) {\n                    e = i ? e + b - a.width : e - b;\n                    X(a, e, g)\n                } else {\n                    var t = 0;\n                    B != 0 &amp;&amp; (t = (B - g) / B);\n                    b = B + 42 + b;\n                    if (i) {\n                        b = b - a.width;\n                        e = e - 42 - B + Math.cos(t) * b\n                    } else e = e + 42 + B - Math.cos(t) * b;\n                    j.save();\n                    j.translate(e, B - Math.sin(t) * b);\n                    j.rotate(Math.PI * 2 + (i ? -t : t));\n                    X(a, 0, 0);\n                    j.restore()\n                }\n            },\n            ea = function () {\n                google.psy || Y()\n            },\n            Z = function (a) {\n                var b = document.getElementById(\"hplogo-i\");\n                if (b) b.style.display = a ? \"\" : \"none\"\n            },\n            Y = function (a) {\n                window.clearTimeout(f.A);\n                if (n &amp;&amp; m) n.style.position = m.style.position = \"\";\n                if (h &amp;&amp; (!a || !google.psy &amp;&amp; google.browser.product.FIREFOX)) h.style.display = \"none\";\n                if (k) k.style.display = \"none\";\n                Z(c);\n                google.unlisten(window, \"resize\", T);\n                google.unlisten(window, \"mouseup\", R);\n                google.unlisten(window, \"mousemove\", S)\n            },\n            fa = function () {\n                if (google.msg) {\n                    f.o &amp;&amp; google.msg.unlisten(40, f.o);\n                    f.o = function () {\n                        H || Y();\n                        f.g = c;\n                        google.msg.unlisten(40, f.o);\n                        f.p ? Y() : U();\n                        return c\n                    };\n                    google.msg.listen(40, f.o);\n                    f.k &amp;&amp; google.msg.unlisten(64, f.k);\n                    f.k = function () {\n                        T();\n                        google.msg.unlisten(64, f.k);\n                        return c\n                    };\n                    google.msg.listen(64, f.k);\n                    f.n &amp;&amp; google.msg.unlisten(67, f.n);\n                    f.n = function () {\n                        H || Y();\n                        google.msg.unlisten(67, f.n);\n                        return c\n                    };\n                    google.msg.listen(67, f.n)\n                }\n            },\n            Q = function () {\n                var a = window.location.href;\n                return a.indexOf(\"#\") &gt; -1 &amp;&amp; /[^a-z]q=/.test(a) ? c : d\n            },\n            $ = function () {\n                if (!f.D &amp;&amp; google.dstr &amp;&amp; google.rein) {\n                    f.D = c;\n                    google.dstr.push(ea);\n                    google.rein.push($)\n                }\n                f.cpDestroy = Y;\n                f.cpInit = $;\n                a: {\n                    for (var a = document.forms, b = [\"f\", \"gs\", \"tsf\", \"gbqf\"], g = 0, i; i = b[g++];) if (i = a[i]) {\n                        l = i;\n                        break a\n                    }\n                    l = null\n                }\n                m = l.btnK;\n                n = l.btnI;\n                if (!(a = !l)) if (!(a = !l.q)) if (!(a = l.q.value.length &gt; 0)) if (!(a = Q())) {\n                    h = document.getElementById(\"hplogo-z\");\n                    if (!h) {\n                        h = document.createElement(\"canvas\");\n                        document.body.appendChild(h)\n                    }\n                    if (h.getContext) {\n                        j = h.getContext(\"2d\");\n                        Z(d);\n                        h.id = \"hplogo-z\";\n                        a = h.style;\n                        a.left = \"0\";\n                        a.position = \"absolute\";\n                        a.display = \"\";\n                        a.visibility = \"\";\n                        a.zIndex = \"-1\";\n                        if (k = document.getElementById(\"hplogo-c\")) {\n                            k.onmouseover = U;\n                            k.onmousedown = ba;\n                            k.ontouchstart = ba;\n                            k.style.display = \"\";\n                            P(k, aa)\n                        }\n                        a = c\n                    } else a = d;\n                    a = !a\n                }\n                if (a) Z(c);\n                else {\n                    window.clearTimeout(f.A);\n                    C = B = 0;\n                    E = 15;\n                    D = 30;\n                    I = H = d;\n                    f.g = d;\n                    f.p = d;\n                    f.z = 5;\n                    f.g = d;\n                    fa();\n                    for (var e in J) {\n                        a = J[e];\n                        if (a.src) {\n                            a.a = new Image;\n                            a.a.onload = U;\n                            a.a.src = a.src\n                        }\n                    }\n                    if (l &amp;&amp; n &amp;&amp; m) {\n                        J.search = {\n                            a: M(m.innerText || m.textContent || m.value, m.offsetWidth, m.offsetHeight),\n                            height: m.offsetHeight,\n                            width: m.offsetWidth,\n                            x: 0,\n                            y: 0\n                        };\n                        J.C = {\n                            a: M(n.innerText || n.textContent || n.value, n.offsetWidth, n.offsetHeight),\n                            height: n.offsetHeight,\n                            width: n.offsetWidth,\n                            x: 0,\n                            y: 0\n                        };\n                        e = Math.floor(google.style.getWidth(l.q) / 2);\n                        J.v = {\n                            a: N(c, e),\n                            height: 29,\n                            width: e,\n                            x: 0,\n                            y: 0\n                        };\n                        J.w = {\n                            a: N(d, e),\n                            height: 29,\n                            width: e,\n                            x: 0,\n                            y: 0\n                        }\n                    }\n                    google.listen(window, \"resize\", T);\n                    T();\n                    y = Math.max(0, google.style.getPageOffsetTop(l) - o - 15 - J.s.height - 30);\n                    z = google.style.getPageOffsetTop(m) - o - 30;\n                    A = google.style.getPageOffsetTop(l) - o - 30;\n                    if (l &amp;&amp; n &amp;&amp; m) {\n                        b = google.style.getWidth(n) - google.style.getWidth(m);\n                        a = e = 42;\n                        b &gt; 0 ? e = e + b : a = a - b;\n                        b = l.q.dir != \"rtl\";\n                        n.style.position = m.style.position = \"relative\";\n                        n.style[b ? \"left\" : \"right\"] = e + \"px\";\n                        m.style[b ? \"right\" : \"left\"] = a + \"px\"\n                    }\n                    U()\n                }\n            },\n            ca = function () {\n                B = B + D;\n                D = D + 2;\n                G[0] = G[0] + (w - G[0]) * 0.3;\n                if (B &gt; x) {\n                    C = C + E;\n                    E = E + 5;\n                    da()\n                }\n                U();\n                if (C &lt; w) f.A = window.setTimeout(ca, 30);\n                else {\n                    G[0] = w;\n                    f.p = c;\n                    if (google.psy &amp;&amp; f.g) Y();\n                    else {\n                        Y(c);\n                        K()\n                    }\n                }\n            };\n        google.x ? google.x({\n            id: \"DOODLE\"\n        }, $) : $()\n    } catch (ga) {\n        google.ml(ga, d, {\n            cause: \"DOODLE\"\n        })\n    };\n})();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 21
                }
            ],
            "body": "<p>Is the Gideon Sundback google doodle implemented in javascript ?</p>\n\n<p>I tried to trace through firebug, but could not really \"get\" its implementation details ?</p>\n\n<p>Any thoughts on how it might be implemented ?</p>\n",
            "last_activity_date": 1347111543,
            "question_id": 10295980,
            "score": 18,
            "tags": [
                "javascript",
                "css",
                "google-doodle"
            ],
            "title": "Is the Gideon Sundback zipper doodle[Google,24th April] completely javascript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<ul>\n<li><p>Short polling (a.k.a. AJAX based timer): </p>\n\n<p>Pros: simpler, not server consuming (if the time between requests is long).<br>\nCons: bad if you need to be notified WHEN the server event happens with no delay.\n<a href=\"http://www.innowhere.com:8080/itsnat/feashow_servlet?itsnat_doc_name=feashow.main&amp;feature=feashow.core.listeners.timers.ex\">Example</a> (<a href=\"http://www.itsnat.org\">ItsNat</a> based)</p></li>\n<li><p>Long polling (a.k.a. Comet based on XHR)</p>\n\n<p>Pros: you are notified WHEN the server event happens with no delay.\nCons: more complex and more server resources used.\n<a href=\"http://www.innowhere.com:8080/itsnat/feashow_servlet?itsnat_doc_name=feashow.main&amp;feature=feashow.core.listeners.cometNotifier.default\">Example</a> (ItsNat based)</p></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>Just for the sake of argument.</p>\n\n<p>Both are http request (xhr), and its at least partially untrue it uses more server resources (depends totally on technology, will explain later).</p>\n\n<h3>Short polling.</h3>\n\n<p>Lot of request that are processed as they come on server. Creates a lot of traffic (uses resources, but frees them as soon as response is send back):</p>\n\n<pre><code>00:00:00 C-&gt; Is the cake ready? \n00:00:01 S-&gt; No, wait.\n00:00:01 C-&gt; Is the cake ready?\n00:00:02 S-&gt; No, wait.\n00:00:02 C-&gt; Is the cake ready? \n00:00:03 S-&gt; Yeah. Have some lad.\n00:00:03 C-&gt; Is the other cake ready? ..\n</code></pre>\n\n<h3>Long polling</h3>\n\n<p>One request goes to server and client is waiting for the response to come (its unresolved). In case of Server with php/apache would mean a spawned thread to handle, that reserve resources, till its done. So the traffic is smaller, but you eat up your resources fast (or rather you block resources). But if you use for example Node (or any other async approach - c++ qt for example), you can potentially minimize the resource usage a lot (store response object for http request and use it when the work is ready)</p>\n\n<pre><code>12:00 00:00:00 C-&gt; Is the cake ready? \n12:00 00:00:03 S-&gt; Yeah.Hame some lad.\n12:00 00:00:03 C-&gt; Is the cake ready? \n</code></pre>\n\n<p>If you compare that to short polling, you will see that potentially in short poll you used more transfer, but during those 3s you actually take 1,5s of processing time (means something could execute in between your calls). In case for long poll the same resources were used all the time. Now usually php with all libs starts with 4MB memory - then you have a framework 4-20MB. Assume you have 1024MB RAM available (free). Say lets be pessimistic and assume that you will use 25 MB per one php instace. It means you can get only as much as 40 long polled connection scripts. </p>\n\n<p>Its precisely the reason why you could serve potentially a lot more with Node, as node would not spawn its instances (unless you want to use workers etc), so with same memory you could probably get easily to 10k connections hanging. You would get a spike in the CPU as they will come, and when they will potentially be released, but when they are idle its like they are not there (you pay only for the memory structures you would keep in node/c++).</p>\n\n<h3>Websocket</h3>\n\n<p>Now if you want to send few things, whenever they are in or out of client, go for the websockets (ws protocol). First call is size of http request, but later you send just the messages, from the client to server (new questions) and server to client(answers or pushes - can even do broadcast for all connected clients). There are php websocekts libs but again, use some different technology - node or c++ preferably.</p>\n\n<p>Some libs, like socket.io have a hierarchy of its own, so when websocket fails, it goes back to long or short polling. </p>\n\n<h3>When to use.</h3>\n\n<p><strong>Short polling</strong> - well, never ^^.</p>\n\n<p><strong>Long polling</strong> - potentially when you are exchanging single call with server, and server is doing some work in background. Also when you won't query server on the same page anymore. Also when you are not using php as layer to handle the long polled connection (node/c++ can be a simple middle layer). Note long polling can be really beneficial, but only when you make it so.</p>\n\n<p><strong>Websocket</strong> - you potentially will exchange more then one or two calls with server, or something might come from server you did not expected / asked, like notification of email or something. You should plan different \"rooms\", depend on functionalities. Embrace the event based nature of javascript ;]</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm building a real-time web application As far as I know, the most popular choices are short-polling and long-polling. What are the advantages and disadvantages might there be for measuring one over the other?</p>\n",
            "last_activity_date": 1422464041,
            "question_id": 4642598,
            "score": 18,
            "tags": [
                "javascript",
                "http",
                "comet",
                "real-time",
                "long-polling"
            ],
            "title": "Short-polling vs Long-polling for real time web applications?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>The answer is <a href=\"http://www.java2s.com/Code/JavaScript/Event/Shiftkeypressed.htm\" rel=\"nofollow\">here</a></p>\n\n<pre><code>function isShiftPressed(event){\n    if (event.shiftKey==1){\n        return true;\n    }else{\n        return false;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I believe you need a keydown event as well to check for the SHIFT key, <a href=\"http://www.quirksmode.org/js/keys.html\" rel=\"nofollow\">http://www.quirksmode.org/js/keys.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Look at the shiftKey property of the event object which will tell you if shift was held while the key was pressed.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Test for the enter keycode (13) and if shift key was pressed.</p>\n\n<pre><code>...onkeyup = function(e) {\n    if (e.keyCode == 13)\n    {\n        if (e.shiftKey === true)\n        {\n            // new line\n        }\n        else\n        {\n            // run your function\n        }\n        return false;\n    }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<pre><code>element.onkeydown = \n  function(o){o=o||event;if(o.shiftKey &amp;&amp; o.keyCode == 13){/* shift + enter pressed */}}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm doing it for texarea. A function should be called when the user press <kbd>Enter</kbd>, but nothing should be done when <kbd>Shift</kbd> + <kbd>Enter</kbd> be pressed.</p>\n\n<p>I try to simulate here a feature that many IM communicators have: sending a message on <kbd>Enter</kbd> but also adding multiple lines using <kbd>Shift</kbd> + <kbd>Enter</kbd>.</p>\n",
            "last_activity_date": 1306771881,
            "question_id": 6178431,
            "score": 17,
            "tags": [
                "javascript",
                "javascript-events"
            ],
            "title": "How to catch enter keypress on textarea but not shift+enter?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Just about what it means in any other context. When you make an ajax call, it doesn't block until it returns.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Asynchronous means that the script will send a request to the server, and continue it's execution without waiting for the reply. As soon as reply is received a browser event is fired, which in turn allows the script to execute associated actions.</p>\n\n<p>Ajax knows when to pull data from server, because you tell it when to do it.</p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>Browsers do not give access to threading model, so we have just a single thread to handle the User Interface. So, all the modifications in the application is in the same thread.</p>\n\n<p>Fortunately, the browsers exposes several async API's, like XHR(XMLHttpRequest), also known as AJAX. When you register a event handler for some object, the action for this object will be executed in another thread and the browser will trigger the event in the main thread.</p>\n\n<p>So async mean that the browser won't wait for when the main thread is free to perform the action</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>What does Asynchronous means in Ajax? and also how does Ajax know when to pull data without server polling?</p>\n",
            "last_activity_date": 1394473756,
            "question_id": 3393751,
            "score": 17,
            "tags": [
                "javascript",
                "ajax",
                "asynchronous"
            ],
            "title": "What does Asynchronous means in Ajax?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>During your postback for the update panel, in the server code, use ClientScriptManager to add some new script to the page, something like this:</p>\n\n<pre><code>ClientScriptManager.RegisterStartupScript(\n       typeof(page1), \n       \"CssFix\", \n       \"javascriptFunctionName()\", \n        true);\n</code></pre>\n\n<p>Encapsulate your javascript in a named function that matches the third argument there, and it should execute when the postback returns.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Adding an add_pageLoaded handler can also work.</p>\n\n<pre><code>Sys.WebForms.PageRequestManager.getInstance().add_pageLoaded(PageLoadedHandler);\n</code></pre>\n\n<p>Note: the handler will fire for any callback, but you can use <code>sender._postBackSettings.panelID</code> to filter when you want your function called.</p>\n\n<p>More samples:</p>\n\n<ul>\n<li><a href=\"http://blog.jeromeparadis.com/archive/2007/03/01/1501.aspx\">http://blog.jeromeparadis.com/archive/2007/03/01/1501.aspx</a></li>\n<li><a href=\"http://zeemalik.wordpress.com/2007/11/27/how-to-call-client-side-javascript-function-after-an-updatepanel-asychronous-ajax-request-is-over/\">http://zeemalik.wordpress.com/2007/11/27/how-to-call-client-side-javascript-function-after-an-updatepanel-asychronous-ajax-request-is-over/</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>You can also bind to an event in client side code (JavaScript) every time an UpdatePanel has finished like this:</p>\n\n<pre><code>        Sys.WebForms.PageRequestManager.getInstance().add_endRequest(function(){myFunction();});\n</code></pre>\n\n<p>So in this case myFunction(); will be called every time an UpdatePanel postback has occurred. If you execute this code when the page is loaded the function will be called on the correct time.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Add the code in the same form you placed your Script Manager.</p>\n\n<p>Code Behind:</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n    if (ScriptManager1.IsInAsyncPostBack)\n    {\n        StringBuilder sb = new StringBuilder();\n        sb.Append(\"&lt;script language='javascript' type='text/javascript'&gt;\");\n        sb.Append(\"Sys.Application.add_load(func);\");\n        sb.Append(\"function func() {\");\n        sb.Append(\"Sys.Application.remove_load(func);\");\n        sb.Append(\"alert('I am Batman!');\");\n        sb.Append(\"}\");\n        sb.Append(\"&lt;/script&gt;\");\n        ScriptManager.RegisterStartupScript(this, GetType(), \"script\", sb.ToString(), false);\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Most simple way is to use MSAjax pageLoad Event in your javascript code :</p>\n\n<pre><code>&lt;script&gt; \n   ///&lt;summary&gt;\n   ///  This will fire on initial page load, \n   ///  and all subsequent partial page updates made \n   ///  by any update panel on the page\n   ///&lt;/summary&gt;\n   function pageLoad(){ alert('page loaded!') }  \n&lt;/script&gt;\n</code></pre>\n\n<p>I have used it many times, it works like charm. Most important thing is don't confuse it with document.ready function (which will be executed only once after the page Document Object Model (DOM) is ready for JavaScript code to execute),yet pageLoad Event will get executed every time the update panel refreshes. </p>\n\n<p>Source: <a href=\"http://stackoverflow.com/questions/9026496/running-script-after-update-panel-ajax-asp-net\">Running script after Update panel AJAX asp.net</a></p>\n",
                    "is_accepted": false,
                    "score": 21
                }
            ],
            "body": "<p>I have a pageLoad function which sets some css on an .ascx control that I cannot change. On page load everything is fine, but when an update panel updates the control, my css is no longer applied. How can I rerun my function after the page updates?</p>\n\n<pre><code> $(function() {\n        $(\"textarea\").attr(\"cols\", \"30\");\n        $(\"input.tbMarker\").css({ \"width\": \"100px\" }).attr(\"cols\",\"25\");\n    });\n</code></pre>\n\n<p>This obviously only runs on the initial page load. How can I run it after an update?</p>\n",
            "last_activity_date": 1370629121,
            "question_id": 1190549,
            "score": 17,
            "tags": [
                "asp.net",
                "javascript",
                "jquery",
                "updatepanel"
            ],
            "title": "How can I run some javascript after an update panel refreshes?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The main difference is when you're declaring variables inside a function. If you use <code>var</code> when you're declaring a variable inside a function, then that variable becomes a local variable. However, if you don't use <code>var</code>, then the variable becomes a global variable no matter where you declare it (inside or outside a function).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>delete is only effective on an object's properties. It has no effect on variable or function names.</p>\n\n<p>In your case x = 42; declares variable X and makes it the property of the Global object. So it returns true. </p>\n\n<p>And var y = 43; declares a global variable which is not part of any object so it returns false. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h1>Declared and undeclared global variables</h1>\n\n<p>The mechanism for storing and accessing them is the same, but JavaScript treats them differently in some cases based on the value of the <code>configurable</code> attribute (described below). In regular usage, they should behave the same.</p>\n\n<h2>Both exist in the global object</h2>\n\n<p>Below are some comparisons of <em>declared</em> and <em>undeclared</em> global variables.</p>\n\n<pre><code>var declared = 1;  // Explicit global variable (new variable)\nundeclared   = 1;  // Implicit global variable (property of default global object)\n\nwindow.hasOwnProperty('declared')    // true\nwindow.hasOwnProperty('undeclared')  // true\n\nwindow.propertyIsEnumerable('declared')    // true\nwindow.propertyIsEnumerable('undeclared')  // true\n\nwindow.declared     // 1\nwindow.undeclared   // 1\n\nwindow.declared   = 2;\nwindow.undeclared = 2;\n\ndeclared     // 2\nundeclared   // 2\n\ndelete declared     // false\ndelete undeclared   // true\ndelete undeclared   // true (same result if delete it again)\n\ndelete window.declared     // false\ndelete window.undeclared   // true (same result if delete it yet again)\ndelete window.undeclared   // true (still true)\n</code></pre>\n\n<p>Both <em>declared</em> and <em>undeclared</em> global variables are properties of the <code>window</code> object (the default global object). Neither one is inherited from a different object through the prototype chain. They both exist directly in the <code>window</code> object (since <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/hasOwnProperty\"><code>window.hasOwnProperty</code></a> returns <code>true</code> for both).</p>\n\n<h2>The configurable attribute</h2>\n\n<p>For <em>declared</em> global variables, the <code>configurable</code> attribute is <code>false</code>. For <em>undeclared</em> global variables, it's <code>true</code>. The value of the <code>configurable</code> attribute can be retrieved using the <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\"><code>getOwnPropertyDescriptor</code></a> method, as shown below.</p>\n\n<pre><code>var declared = 1;\nundeclared = 1;\n\n(Object.getOwnPropertyDescriptor(window, 'declared')).configurable     // false\n(Object.getOwnPropertyDescriptor(window, 'undeclared')).configurable   // true\n</code></pre>\n\n<p>If the <code>configurable</code> attribute of a property is true, the attributes of the property can be changed using the <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty\"><code>defineProperty</code></a> method, and the property can be deleted using the <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/delete\"><code>delete</code></a> operator. Otherwise, the attributes cannot be changed, and the property cannot be deleted in this manner.</p>\n\n<p>In <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Functions_and_function_scope/Strict_mode\">non-strict mode</a>, the <code>delete</code> operator returns <code>true</code> if the property is configurable, and returns <code>false</code> if it's non-configurable.</p>\n\n<h2>Summary</h2>\n\n<p><strong>Declared global variable</strong></p>\n\n<ul>\n<li>Is a property of the default global object (<code>window</code>)</li>\n<li>The property attributes <em>cannot</em> be changed.</li>\n<li><em>Cannot</em> be deleted using the <code>delete</code> operator</li>\n</ul>\n\n<p><strong>Undeclared global variable</strong></p>\n\n<ul>\n<li>Is a property of the default global object (<code>window</code>)</li>\n<li>The property attributes <em>can</em> be changed.</li>\n<li><em>Can</em> be deleted using the <code>delete</code> operator</li>\n</ul>\n\n<h2>See also</h2>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/delete\">delete operator</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/defineProperty\">Object.defineProperty</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\">Object.getOwnPropertyDescriptor</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/hasOwnProperty\">hasOwnProperty</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Functions_and_function_scope/Strict_mode\">Strict mode</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 14
                }
            ],
            "body": "<p>What is the major difference between JavaScript declared and undeclared variables, since\nthe delete operator doesn't work on declared variables?</p>\n\n<pre><code> var y = 43;     // declares a new variable\n x = 42;\n\n delete x;       // returns true  (x is a property of the global object and can be deleted)\n delete y;       // returns false (delete doesn't affect variable names) \n</code></pre>\n\n<p>Why does this happen? Variables declared globally are also the properties of the window object, so why can't it be deleted?</p>\n",
            "last_activity_date": 1366050088,
            "question_id": 15985875,
            "score": 16,
            "tags": [
                "javascript",
                "variables",
                "global-variables",
                "variable-declaration"
            ],
            "title": "Effect of declared and undeclared variables"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>Well, there is:\n    <code>&lt;!--\nterminated by\n    --&gt;</code>\nfor HTML, but scripts will ignore this.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>HTML is static content so the server reads whatever you have written in the file unless you comment it out. For a dynamic file like what you are asking for you need to use php which can do this type of thing.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>What you are asking makes no logical sense.  Simply for two reasons:</p>\n\n<ul>\n<li>Data is ALREADY sent to the user (HTML / JS) so even tho if you COULD hide content, the data would sitll be there for a user to see (if they view source for instance).</li>\n<li>Why would you stop 'execution' of a page?  It loads simple html structure and reults in a visual display, you should focus on the server site (php for instance) to hide or not send the content in the first place.</li>\n</ul>\n\n<p>If you want to visually hide elements tho, you could use CSS styles (hide divs or the like) with simply adding <code>style=\"display:none;\"</code> to a div like so:</p>\n\n<pre><code>&lt;div style=\"display:none;\"&gt;\nThis text will be downloaded by the user, but hidden from view due to CSS inline style\n&lt;/div&gt;\n</code></pre>\n\n<p>If you want to add commenting (thats just for your reference), then use comment formatting:</p>\n\n<pre><code>&lt;!-- this is a comment and will not show up to a user --&gt;\n</code></pre>\n\n<p>Reference for comments: <a href=\"http://htmlhelp.com/reference/wilbur/misc/comment.html\" rel=\"nofollow\">http://htmlhelp.com/reference/wilbur/misc/comment.html</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You could do <code>window.stop();</code> for most browsers besides Internet Explorer. For IE, I had to use <code>document.execCommand('Stop');</code></p>\n\n<p>Tim</p>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>If you already have html comments on your page, @bukko's solution doesn't fully work.  Stuff after the html comment will get rendered normally.</p>\n\n<p>Something else to try is:</p>\n\n<pre><code>document.write('&lt;script type=\"text/undefined\"&gt;')\n</code></pre>\n\n<p>The rest of the document gets interpreted as part of the script tag, and because the script isn't <code>text/javascript</code>, it gets ignored.</p>\n\n<p>Worked for me, thought I'd share it.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>put window.Stop() wherever you want to stop the page from getting renderred</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>window.stop(); //works in all browsers but IE    \nif ($.browser.msie) {document.execCommand(\"Stop\");}; //works in IE, \n</code></pre>\n\n<p>document.execCommand works in IE, however it does stop some of FF, NS and some other browsers' functions. Like displaying GIF's animation for example. Using \"if browser is IE\" makes these two codes work perfectly in all browsers.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Just not much related to the question, but I thought it may be useful for some persons. If you want to jump to other page during page loading use <code>window.location = \"somepage.html\";</code> or you can redirect users to the previous page: <code>window.history.go(-1);</code> Useful in JavaScript conditional statements</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you are using ASP or PHP, HTTP protocol automatically stops but HTTPS protocol don't  stop automatically.</p>\n\n<p>To stop it use:</p>\n\n<p>In ASP:</p>\n\n<pre><code>dim r= accept.secure.protocol\nr.onload=window.callback('c')\n\n//to firefox,opera,safari\n\nnew clientObject(r).access()\n// to chrome,ie\n\nforEachElement(a==null);\n</code></pre>\n\n<p>PHP code:</p>\n\n<pre><code>$a.window ;\n</code></pre>\n\n<p>All this scripts sends the browserstring \"elementcast\" by post method</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is there in HTML (javascript) or other static html tech\ncan:</p>\n\n<ul>\n<li>Stop page loading (if browser does not download yet) </li>\n<li>Stop page rendering (from where the code placed)</li>\n<li>Stop javascript executed (from where the code placed)</li>\n</ul>\n\n<p>Simply put, is there a code like</p>\n\n<pre><code>&lt;script&gt;window.StopWhateverBelow()&lt;/script&gt;\n</code></pre>\n\n<p>To let browser totally ignore whatever below the code.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I understand the browser may already download the whole thing. What I want is, from the code, page should stopped, for example: if I put the code just after <code>&lt;body&gt;</code> visitor should see blank page, if I put the code in middle of the page, page should be just half like you pressed <strong>ESC</strong></p>\n\n<p><strong>ANSWER</strong></p>\n\n<p>As bukko suggested, comments done the trick. But not full, just half\nIf you put <code>&lt;!--</code> in html page, the rest will be ignored. And in Javascript</p>\n\n<pre><code>document.write('&lt;!--');\n</code></pre>\n\n<p>Done the trick.</p>\n\n<p><strong>For about make sense:</strong></p>\n\n<p>Here is how this code make sense: when you page load some offpage script, the script is dynamic. When the script code found something wrong (or match some condition), you have one more option to stop the page from rendering, loading, download...</p>\n",
            "last_activity_date": 1396248601,
            "question_id": 8943219,
            "score": 16,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "How to stop page load in html static page"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Yeah, the way you have is the way to do it.  The DOM does not save the previous states of DIVs, so you need to save that yourself.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You have basically three options.</p>\n\n<ol>\n<li>Remember your original markup, as you do with your <code>originalState</code> variable above.</li>\n<li>Use AJAX to re-request the markup. You can do this easily if you have server side code using the <code>$.ajax()</code> method in jQuery.</li>\n<li>Cause the page to reload.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use the data attribute to save the state rather than a variable</p>\n\n<pre><code>$('#some_div').data('old-state', $('#some_div').html());\n$('#some_div').html($('#some_div').data('old-state'));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I would <strong>clone</strong> the element, instead of saving the content. Then use <a href=\"http://api.jquery.com/replaceWith/\">replaceWith</a> to restore it:</p>\n\n<pre><code>var divClone = $(\"#some_div\").clone(); // Do this on $(document).ready(function() { ... })\n\n$(\"#some_div\").html(\"Yeah all good mate!\"); // Change the content temporarily\n\n// Use this command if you want to keep divClone as a copy of \"#some_div\"\n$(\"#some_div\").replaceWith(divClone.clone()); // Restore element with a copy of divClone\n\n// Any changes to \"#some_div\" after this point will affect the value of divClone\n$(\"#some_div\").replaceWith(divClone); // Restore element with divClone itself\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 37
                },
                {
                    "body": "<p>Somewhat more elegant?</p>\n\n<pre><code>var originalState = $(\"#some_div\").clone();\n$(\"#some_div\").replaceWith(originalState);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>What you're doing is not optimal. The best solution would be this:</p>\n\n<p>When the form gets successfully submitted, just <code>hide()</code> the FORM element, and <code>show()</code> the message (which is initially hidden). And then, later, just <code>show()</code> the FORM element and <code>hide()</code> the message.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have a DIV with a form in it. When users submit the form and it gets successfully submitted, I replace the form with a simple \"everything is good now\" message:</p>\n\n<pre><code>$(\"#some_div\").html(\"Yeah all good mate!\");\n</code></pre>\n\n<p>Is there a good way to \"reset\" the div to its \"original state\" as per the HTML it has arrived with? I can only think of actually doing something like this:</p>\n\n<pre><code>//before I change the DIV\nvar originalState = $(\"#some_div\").html();\n//manipulate the DIV\n//...\n//push the state back\n$(\"#some_div\").html(originalState);\n</code></pre>\n\n<p>It doesn't look very elegant - I guess there is a better solution for this, no?</p>\n",
            "last_activity_date": 1398543134,
            "question_id": 5557641,
            "score": 16,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "manipulation"
            ],
            "title": "How can I &quot;reset&quot; &lt;div&gt; to its original state after it has been modified by JavaScript?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>One method would be:</p>\n\n<pre><code>var text = $(this).val();\ntext = text.replace(/&lt;/g, \"&amp;lt;\").replace(/&gt;/g, \"&amp;gt;\");\n$(\"#output\").html(text);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>text = text.replace(/&lt;/g, '&amp;lt;').replace(/&gt;/g, '&amp;gt;').replace(/\\n/g, '&lt;br/&gt;');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>There is no way to do this in one method call, you'll have to either chain calls together, or write a function that manually does what you need.</p>\n\n<pre><code>var s = \"&lt;&gt;\\n\";\ns = s.replace(\"&lt;\", \"&amp;lt;\");\ns = s.replace(\"&gt;\", \"&amp;gt;\");\ns = s.replace(\"\\n\", \"&lt;br/&gt;\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For the tags, you should be able to just set the content with <code>.text()</code> instead of <code>.html()</code>.</p>\n\n<p><strong>Example:</strong> <a href=\"http://jsfiddle.net/Phf4u/1/\" rel=\"nofollow\">http://jsfiddle.net/Phf4u/1/</a></p>\n\n<pre><code>var textarea = $('textarea').val().replace(/&lt;br\\s?\\/?&gt;/, '\\n');\n\n$(\"#output\").text(textarea);\n</code></pre>\n\n<p>...or if you just wanted to remove the <code>&lt;br&gt;</code> elements, you could get rid of the <code>.replace()</code>, and temporarily make them DOM elements.</p>\n\n<p><strong>Example:</strong> <a href=\"http://jsfiddle.net/Phf4u/2/\" rel=\"nofollow\">http://jsfiddle.net/Phf4u/2/</a></p>\n\n<pre><code>var textarea = $('textarea').val();\n\ntextarea = $('&lt;div&gt;').html(textarea).find('br').remove().end().html();\n\n$(\"#output\").text(textarea);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You could extend the String object with your own function that does what you need (useful if there's ever missing functionality):</p>\n\n<pre><code>String.prototype.replaceArray = function(find, replace) {\n  var replaceString = this;\n  for (var i = 0; i &lt; find.length; i++) {\n    replaceString = replaceString.replace(find[i], replace[i]);\n  }\n  return replaceString;\n};\n</code></pre>\n\n<p>For global replace you could use regex:</p>\n\n<pre><code>String.prototype.replaceArray = function(find, replace) {\n  var replaceString = this;\n  var regex; \n  for (var i = 0; i &lt; find.length; i++) {\n    regex = new RegExp(find[i], \"g\");\n    replaceString = replaceString.replace(regex, replace[i]);\n  }\n  return replaceString;\n};\n</code></pre>\n\n<p>To use the function it'd be similar to your PHP example:</p>\n\n<pre><code>var textarea = $(this).val();\nvar find = [\"&lt;\", \"&gt;\", \"\\n\"];\nvar replace = [\"&amp;lt;\", \"&amp;gt;\", \"&lt;br/&gt;\"];\ntextarea = textarea.replaceArray(find, replace);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 35
                },
                {
                    "body": "<p>You might want to look into a JS library called phpJS.</p>\n\n<p>It allows you to use the str_replace function similarly to how you would use it in PHP. There are also plenty more php functions \"ported\" over to JavaScript.</p>\n\n<p><a href=\"http://phpjs.org/functions/str_replace:527\" rel=\"nofollow\">http://phpjs.org/functions/str_replace:527</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It's late but you can do :</p>\n\n<pre><code>String.prototype.htmlProtect = function() {\n  var replace_map;\n\n  replace_map = {\n    '\\n': '&lt;br /&gt;',\n    '&lt;': '&amp;lt;',\n    '&gt;': '&amp;gt;'\n  };\n  return this.replace(/[&lt;&gt;\\n]/g, function(match) { // be sure to add every char in the pattern\n    return replace_map[match];\n  });\n};\n</code></pre>\n\n<p>and then :</p>\n\n<pre><code>var myString = \"&lt;b&gt;tell me a story, \\n&lt;i&gt;bro'&lt;/i&gt;\";\nvar myNewString = myString.htmlProtect();\n// &amp;lt;b&amp;gt;tell me a story, &lt;br /&gt;&amp;lt;i&amp;gt;bro'&amp;lt;/i&amp;gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code> String.prototype.replaceArray = function (find, replace) {\n     var replaceString = this;\n     for (var i = 0; i &lt; find.length; i++) {\n         // global replacement\n         var pos = replaceString.indexOf(find[i]);\n         while (pos &gt; -1) {\n             replaceString = replaceString.replace(find[i], replace[i]);\n             pos = replaceString.indexOf(find[i]);\n         }\n     }\n     return replaceString;\n };\n     var textT = \"Hello world,,,,, hello people.....\";\n     var find = [\".\",\",\"];\n     var replace = ['2', '5'];\n     textT = textT.replaceArray(find, replace);\n</code></pre>\n\n<p>// result: Hello world55555 hello people22222</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there an easy equivalent to this in JavaScript?</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>$find = array(\"&lt;\", \"&gt;\", \"\\n\");\n$replace = array(\"&amp;lt;\", \"&amp;gt;\", \"&lt;br/&gt;\");\n\n$textarea = str_replace($find, $replace, $textarea); \n</code></pre>\n\n<p>This is using PHP's <code>str_replace</code>, which allows you to use an array of words to look for and replace. Can I do something like this using JavaScript / jQuery?</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>...\nvar textarea = $(this).val();\n\n// string replace here\n\n$(\"#output\").html(textarea);\n...\n</code></pre>\n",
            "last_activity_date": 1401521881,
            "question_id": 5069464,
            "score": 16,
            "tags": [
                "javascript",
                "jquery",
                "replace"
            ],
            "title": "Replace multiple strings at once"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Try encoding the query parameter with <code>encodeURIComponent()</code></p>\n\n<pre><code>data:\"q=\"+encodeURIComponent( query )\n</code></pre>\n\n<p>as bobince very correctly noted in his comment, if you use the object notation to pass parameters to the ajax method it will handle the encoding itself..</p>\n\n<p>so </p>\n\n<pre><code>data:{ q : query }\n</code></pre>\n\n<p>will make jQuery handle the encoding ..</p>\n",
                    "is_accepted": true,
                    "score": 42
                },
                {
                    "body": "<p>I know this is an old post but I had this problem recently and I'd like to contribute just in case someone else has the same problem.\nI'm using PHP but I'm sure there's an option on every serverside language. It was just a couple of things:</p>\n\n<ol>\n<li><p>Make sure you're sending the right headers on your ajax response by adding header('Content-Type: text/html; charset=utf-8'); This must be your first line. If you have any errors saying that headers have been sent already or something like that is because somewhere in your code you are outputing an extra space or something before sending the header so check your code.</p></li>\n<li><p>When you build your response in your server, make sure you convert all your chars to the correspondig HTML char using echo htmlentities($your-string, null, 'utf-8); Because even after telling IE that you are sending utf-8 data, it seems like IE forgets that or it doesn't simply assume anything so adding this to your code will ensure the right output.</p></li>\n</ol>\n\n<p>Thanks all for your help.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'we read this post hoping it would solve the problem I had came across and that had to do with utf8 conversions.</p>\n\n<p>In my case it turned out that the server engine (node.js) calculating the Content-length of the data with the data considered to be raw and not utf8, thus two character extended chars in uft8 was calculated as if they where one char resulting in the server sending one character too little.</p>\n\n<p>See what I did to solve it here: <a href=\"http://stackoverflow.com/questions/13915915/not-well-formed-json-when-sending-to-couchdb/13915917#13915917\">Not well formed Json when sending to CouchDB</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am sending UTF-8, japanese text, to my server.\nIt works in Firefox.  My access.log and headers are:</p>\n\n<pre><code>/ajax/?q=%E6%BC%A2%E5%AD%97\nAccept-Charset  ISO-8859-1,utf-8;q=0.7,*;q=0.7\nContent-Type    application/x-www-form-urlencoded; charset=UTF-8\n</code></pre>\n\n<p>Howeer, in IE8, my access.log says:</p>\n\n<pre><code>/ajax/?q=??\n</code></pre>\n\n<p>For some reason, IE8 is turning my AJAX call into question marks.  Why!? I added the scriptCharset and ContentType according to some tutorials, but still no luck.</p>\n\n<p>And this is my code:</p>\n\n<pre><code>$.ajax({\n    method:\"get\",\n    url:\"/ajax/\",\n    scriptCharset: \"utf-8\" ,\n    contentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n    data:\"q=\"+query ...,\n    ...\n    })\n</code></pre>\n",
            "last_activity_date": 1376416307,
            "question_id": 2473316,
            "score": 16,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "utf-8",
                "internet-explorer-8"
            ],
            "title": "JQuery AJAX is not sending UTF-8 to my server, only in IE"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Regular expressions:</p>\n\n<pre><code>var numberPattern = /\\d+/g;\n\n'something102asdfkj1948948'.match( numberPattern )\n</code></pre>\n\n<p>This would return an object with two elements inside, '102' and '1948948'. Operate as you wish. If it doesn't match any it will return null.</p>\n\n<p>Assuming you're not dealing with complex decimals, this should suffice I suppose.</p>\n",
                    "is_accepted": true,
                    "score": 45
                },
                {
                    "body": "<p>I guess you want to get number(s) from the string. In which case, you can use the following:</p>\n\n<pre><code>// Returns an array of numbers located in the string\nfunction get_numbers(input) {\n    return input.match(/[0-9]+/g);\n}\n\nvar first_test = get_numbers('something102');\nvar second_test = get_numbers('something102or12');\nvar third_test = get_numbers('no numbers here!');\n\nalert(first_test); // [102]\nalert(second_test); // [102,12]\nalert(third_test); // null\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You could also strip all the non-digit characters (<code>\\D</code> or <code>[^0-9]</code>):</p>\n\n<pre><code>'abc123cdef4567hij89'.replace(/\\D/g, '');\n// returns '123456789'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 42
                },
                {
                    "body": "<p>The answers given don't actually match your question, which implied a <em>trailing</em> number. Also, remember that you're getting a string back; if you actually <strong>need</strong> a number, cast the result:</p>\n\n<pre><code>item=item.replace('^.*\\D(\\d*)$', '$1');\nif (!/^\\d+$/.test(item)) throw 'parse error: number not found';\nitem=Number(item);\n</code></pre>\n\n<p>If you're dealing with numeric item ids on a web page, your code could also usefully accept an <code>Element</code>, extracting the number from its <code>id</code> (or its first parent with an <code>id</code>); if you've an <code>Event</code> handy, you can likely get the <code>Element</code> from that, too.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>If I have a string \"something12\" or \"something102\".</p>\n\n<p>How would I use regex in javascript to return\njust the numbers parts??</p>\n\n<p>Malcolm</p>\n",
            "last_activity_date": 1425447092,
            "question_id": 1183903,
            "score": 16,
            "tags": [
                "javascript",
                "regex"
            ],
            "title": "Regex using javascript to return just numbers"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Currently SVG tags don't support dynamic addition of tags, at least in Chrome. It doesn't even display the new rect, nor would it even if you just added it directly with the DOM or JQuery.append(). <a href=\"http://jsfiddle.net/7AztC/\" rel=\"nofollow\">Have a look at just trying to do it with JQuery</a></p>\n\n<pre><code>// this doesn't even work right. Slightly different error than yours.\n$(function() {\n    $('svg').append('&lt;rect top=\"20\" left=\"20\" height=\"10\" width=\"10\" style=\"fill: #ff00ff\" /&gt;');\n});\n</code></pre>\n\n<p>My guess is you're going to see some really crazy behavior no matter what you do in this manner, you're going to see some crazy stuff. It seems like it's an issue with the browser, and not so much Angular. <a href=\"http://www.chromium.org/for-testers/bug-reporting-guidelines\" rel=\"nofollow\">I'd recommend reporting it to the Chromium project</a>.</p>\n\n<p>EDIT:</p>\n\n<p>It looks like it might work if you add it via the DOM 100% programmatically: <a href=\"http://stackoverflow.com/questions/2544686/how-to-make-chrome-redraw-svg-dynamically-added-content\">How to make Chrome redraw SVG dynamically added content?</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p><strong>Angular 1.3 Update!</strong></p>\n\n<p>My original answer below was a giant hack at best. What you should really do is update to Angular 1.3 and set the <code>templateNamespace:'svg'</code> property on your directive. Look below at @Josef Pfleger answer for an example: <a href=\"http://stackoverflow.com/questions/13641105/including-svg-template-in-angularjs-directive/27675374#27675374\">Including SVG template in Angularjs directive</a></p>\n\n<hr>\n\n<p><strong>Old Answer</strong></p>\n\n<p>In case anyone comes across this in the future, I was able to create a compile function that works with svg templates. Its a bit ugly right now, so refactoring help is much appreciated.</p>\n\n<p>live example: <a href=\"http://plnkr.co/edit/DN2M3M?p=preview\" rel=\"nofollow\">http://plnkr.co/edit/DN2M3M?p=preview</a></p>\n\n<pre><code>app.service('svgService', function(){\n\n    var xmlns = \"http://www.w3.org/2000/svg\";\n    var compileNode = function(angularElement){\n      var rawElement = angularElement[0];\n\n      //new lines have no localName\n      if(!rawElement.localName){\n        var text = document.createTextNode(rawElement.wholeText);\n        return angular.element(text);\n      }\n      var replacement = document.createElementNS(xmlns,rawElement.localName);\n      var children = angularElement.children();\n\n      angular.forEach(children, function (value) {\n        var newChildNode = compileNode(angular.element(value));\n        replacement.appendChild(newChildNode[0]);\n      });\n\n      if(rawElement.localName === 'text'){\n        replacement.textContent = rawElement.innerText;\n      }\n\n      var attributes = rawElement.attributes;\n      for (var i = 0; i &lt; attributes.length ; i++) {\n        replacement.setAttribute(attributes[i].name, attributes[i].value);\n      }\n\n      angularElement.replaceWith(replacement);\n\n      return angular.element(replacement);\n    };\n\n    this.compile = function(elem, attrs, transclude) {\n      compileNode(elem);\n\n      return function postLink(scope, elem,attrs,controller){\n//        console.log('link called');\n      };\n    }\n  })\n</code></pre>\n\n<p>use case:</p>\n\n<pre><code>app.directive('ngRectAndText', function(svgService) {\n  return {\n    restrict: 'E',\n    template: \n    '&lt;g&gt;'\n    + '&lt;rect x=\"140\" y=\"150\" width=\"25\" height=\"25\" fill=\"red\"&gt;&lt;/rect&gt;'\n    + '&lt;text x=\"140\" y=\"150\"&gt;Hi There&lt;/text&gt;'\n    + '&lt;/g&gt;'\n    ,\n    replace: true,\n    compile: svgService.compile\n  };\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Using an innerHTML shim for SVG (aka \"innerSVG\") provides another piece of this puzzle, as an alternative to Jason More's insightful answer. I feel this innerHTML/innerSVG approach is more elegant because it does not require a special compile function like Jason's answer, but it has at least one drawback: it does not work if \"replace: true\" is set on the directive. (The innerSVG approach is discussed here: <a href=\"http://stackoverflow.com/questions/9723422/is-there-some-innerhtml-replacement-in-svg-xml\">Is there some innerHTML replacement in SVG/XML?</a>)</p>\n\n<pre><code>// Inspiration for this derived from a shim known as \"innerSVG\" which adds\n// an \"innerHTML\" attribute to SVGElement:\nObject.defineProperty(SVGElement.prototype, 'innerHTML', {\n  get: function() {\n    // TBD!\n  },\n  set: function(markup) {\n    // 1. Remove all children\n    while (this.firstChild) {\n      this.removeChild(this.firstChild);\n    }\n\n    // 2. Parse the SVG\n    var doc = new DOMParser().parseFromString(\n        '&lt;svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"&gt;'\n        + markup\n        + '&lt;/svg&gt;',\n        'application/xml'\n    );\n\n    // 3. Import the parsed SVG and grab the childNodes\n    var contents = this.ownerDocument.importNode(doc.documentElement, true).childNodes;\n\n    // 4. Append the childNodes to this node\n    // Note: the following for loop won't work because as items are appended,\n    // they are removed from contents (you'd end up with only every other\n    // element getting appended and the other half remaining still in the\n    // original document tree):\n    //for (var i = 0; i &lt; contents.length; i++) {\n    //  this.appendChild(contents[i]);\n    //}\n    while (contents.length) {\n      this.appendChild(contents[0]);\n    }\n  },\n  enumerable: false,\n  configurable: true\n});\n</code></pre>\n\n<p>Here's a Plunker to try: <a href=\"http://plnkr.co/edit/nEqfbbvpUCOVC1XbTKdQ?p=preview\" rel=\"nofollow\">http://plnkr.co/edit/nEqfbbvpUCOVC1XbTKdQ?p=preview</a></p>\n\n<p>The reason why this works is: SVG elements live within the XML namespace, <a href=\"http://www.w3.org/2000/svg\" rel=\"nofollow\">http://www.w3.org/2000/svg</a>, and as such, they must either be parsed with DOMParser() or instantiated with createElementNS() (as in Jason's answer), both of which can set the namespace appropriately. It would be nice if this process of using SVG was as easy as HTML, but unfortunately their DOM structures are subtly different which results in the need to supply our own innerHTML shim. Now, if we could also get \"replace: true\" to work with this, that will be something good!</p>\n\n<p>EDIT: Updated the appendChild() loop to workaround contents changing while loop runs.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>angular doesn't pay attentention to namespaces when creating elements (though elements seem to be cloned with namepsace of a parent), so new directives inside <code>&lt;svg&gt;</code> won't work without a custom compile function.</p>\n\n<p>Something like the following can get around the issue by doing the creation of the dom elements itself.  For this to work, you need to have <code>xmlns=\"http://www.w3.org/2000/svg\"</code> as an attribute on the root element of <code>template</code> and your template must be valid XML (having only one root element).</p>\n\n<pre><code>directiveGenerator = function($compile) {\n  var ret, template;\n  template = \"&lt;g xmlns=\\\"http://www.w3.org/2000/svg\\\"&gt; +\n             \"&lt;rect top=\\\"20\\\" left=\\\"20\\\" height=\\\"10\\\" width=\\\"10\\\" style=\\\"fill: #ff00ff\\\" /&gt;\" +\n             \"&lt;/g&gt;\";\n  ret = {\n    restrict: 'E',\n    compile: function(elm, attrs, transclude) {\n      var templateElms;\n      templateElms = (new DOMParser).parseFromString(template, 'application/xml');\n      elm.replaceWith(templateElms.documentElement);\n      return function(scope, elm, attrs) {\n        // Your link function\n      };\n    }\n  };\n  return ret;\n};\n\nangular.module('svg.testrect', []).directive('testrec', directiveGenerator);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There is a <code>templateNamespace</code> property you can set to <code>svg</code>:</p>\n\n<pre><code>module.directive('testrect', function() {\n    return {\n        restrict: 'E',\n        templateNamespace: 'svg',\n        template: '&lt;rect .../&gt;',\n        replace: true\n    };\n});\n</code></pre>\n\n<p>Here is a <a href=\"https://docs.angularjs.org/api/ng/service/$compile\" rel=\"nofollow\">link</a> to the documentation.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<pre><code>&lt;div ng-app=\"testrectApp\"&gt;\n&lt;svg&gt;\n    &lt;rect height=\"10\" width=\"10\" style=\"fill: #00ff00\" /&gt;\n    &lt;testrect /&gt;\n&lt;/svg&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And this is my directive</p>\n\n<pre><code>module.directive('testrect', function() {\n    return {\n        restrict: 'E',\n        template: '&lt;rect top=\"20\" left=\"20\" height=\"10\" width=\"10\" style=\"fill: #ff00ff\" /&gt;',\n        replace: true\n    };\n});\n</code></pre>\n\n<p>But this is what the element ends up looking like in the browser. The fill twice is not a typo.</p>\n\n<pre><code>&lt;rect top=\"20\" left=\"20\" height=\"10\" width=\"10\" style=\"fill: #ff00ff;fill: #ff00ff\"&gt;&lt;/rect&gt;\n</code></pre>\n\n<p>Here's a jsfiddle <a href=\"http://jsfiddle.net/RG2CF/\">http://jsfiddle.net/RG2CF/</a></p>\n\n<p>Is what I'm trying to do not possible or am I doing something wrong?</p>\n\n<p>Thanks</p>\n\n<p>EDIT: I should add that the issue may have to do with the fact that the template svg rect is namespaced to xhtml instead of svg, but I'm unsure of how I can force this or namespace it back to svg, if that is actually the solution.</p>\n",
            "last_activity_date": 1421330750,
            "question_id": 13641105,
            "score": 15,
            "tags": [
                "javascript",
                "svg",
                "angularjs"
            ],
            "title": "Including SVG template in Angularjs directive"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You're sharing the single <code>i</code> variable among all of the callbacks.</p>\n\n<p>Because Javascript closures capture variables by reference, the callbacks will always use the current value of <code>i</code>.  Therefore, when jQuery calls the callbacks after the loop executes, <code>i</code> will always be <code>2</code>.</p>\n\n<p>You need to reference <code>i</code> as the parameter to a separate function.</p>\n\n<p>For example:</p>\n\n<pre><code>function sendRequest(i) {\n    $.get('http://www.google.com/', function() {\n        alert(i);\n    });\n}\n\nfor (var i = 0; i &lt; 2; i++) {\n    sendRequest(i);\n}\n</code></pre>\n\n<p>This way, each callback will have a separate closure with a separate <code>i</code> parameter.</p>\n",
                    "is_accepted": true,
                    "score": 27
                },
                {
                    "body": "<p>It appears that you've created a closure inside your loop  The Mozilla Developers Reference has a <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Working_with_Closures#Creating_closures_in_loops.3a_A_common_mistake\" rel=\"nofollow\">good section</a> about this.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>What's occurring here is your AJAX request <code>$.get</code> is completing after the loop has completed. Because of this, <code>i</code> ends up being the final variable it's set to when the iterations complete, being 2. This is just a weird JavaScript gotcha, and has nothing to do with jQuery.</p>\n\n<p>One thing you can do is queue up these calls asynchronously so that iteration halts until the current AJAX request completes. If you don't want to do that, you can capture the variable <code>i</code> in a <code>function</code> closure in each iteration. </p>\n\n<p>Something like this:</p>\n\n<pre><code>for ( var i = 0; i &lt; 2; i++ )\n    (function(iter){\n        $.get('http://www.google.com/', function(){\n            alert( iter );\n        });\n    })(i); // Capture i\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Alternative to SLaks' answer</p>\n\n<pre><code>$(function() {\n    for (var i=0; i&lt;2; i++) {\n        $.get('http://www.google.com/', function(i) {\n            return function() { alert(i); }\n        }(i));\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>An alternative solution to this is to take your callback and literally make it a named function.</p>\n\n<p><strong>Why would I want to do this?</strong><br>\nIf a function is doing something where a variable needs to take new scope then it's likely the anonymous function warrants breaking out into a new function. This will also ensure that extra complexity is not introduced to your code by having to copy variables or wrap callbacks. You're code will remain simple and self descriptive.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>function getGoogleAndAlertIfSuccess(attemptNumber) {\n    $.get('http://www.google.com/', function() {\n        alert(attemptNumber);\n    });\n}\n\nfunction testGoogle() {\n    for (var i=0; i&lt;2; i++) {\n        getGoogleAndAlertIfSuccess(i);\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I expected the code below to alert \"0\" and \"1\", but it alert \"2\" twice. I don't understand the reason.  Don't know if it is a problem of jQuery. Also, please help me to edit title and tags of this post if they are inaccurate.</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            $(function() {\n                for (var i=0; i&lt;2; i++) {\n                    $.get('http://www.google.com/', function() {\n                        alert(i);\n                    });\n                }\n            });\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1396555049,
            "question_id": 2853601,
            "score": 15,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "scope of variables in JavaScript callback functions"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Most of them don't handle Javascript in any way. <em>(At least, all the major search engines' crawlers don't.)</em></p>\n\n<p>This is why it's still important to have your site gracefully handle navigation without Javascript.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Most don't handle JavaScript at all. They ignore all JavaScript. It's best to have a sitemap that navigates around.</p>\n\n<p>Some, (like Google's) are a little bit smarter. They're not going to run your javascript, but they will look at it, and might make some decisions based on that. They might hit your AJAX server or something.</p>\n\n<p>If you want to ensure that certain pages get indexed. Take a look at your robots.txt file, and make a good sitemap</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Robots.txt\">http://en.wikipedia.org/wiki/Robots.txt</a></p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Sitemap\">http://en.wikipedia.org/wiki/Sitemap</a></p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Precisely what Ben S said. And anyone accessing your site with Lynx won't execute JavaScript either. If your site is intended for general public use, it should generally be usable without JavaScript.</p>\n\n<p>Also, related: if there are pages that you would want a search engine to find, and which would normally arise only from JavaScript, you might consider generating static versions of them, reachable by a crawlable site map, where these static pages use JavaScript to load the current version when hit by a JavaScript-enabled browser (in case a human with a browser follows your site map). The search engine will see the static form of the page, and can index it.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Crawlers doesn't parse Javascript to find out what it does.</p>\n\n<p>They may be built to recognise some classic snippets like  <code>onchange=\"window.location.href=this.options[this.selectedIndex].value;\"</code> or <code>onclick=\"window.location.href='blah.html';\"</code>, but they don't bother with things like content fetched using AJAX. At least not yet, and content fetched like that will always be secondary anyway.</p>\n\n<p>So, Javascript should be used only for additional functionality. The main content taht you want the crawlers to find should still be plain text in the page and regular links that the crawlers easily can follow.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I have tested this by putting pages on my site only reachable by Javascript and then observing their presence in search indexes.</p>\n\n<p>Pages on my site which were reachable only by Javascript were subsequently indexed by Google.</p>\n\n<p>The content was reached through Javascript with a 'classic' technique or constructing a URL and setting the window.location accordingly.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>crawlers can handle javascript or ajax calls if they are using some kind of frameworks like 'htmlunit' or 'selenium'</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Today a lot of content on Internet is generated using JavaScript (specifically by background AJAX calls). I was wondering how web crawlers like Google handle them. Are they aware of JavaScript? Do they have a built-in JavaScript engine? Or do they simple ignore all JavaScript generated content in the page (I guess quite unlikely). Do people use specific techniques for getting their content indexed which would otherwise be available through background AJAX requests to a normal Internet user? </p>\n",
            "last_activity_date": 1351234055,
            "question_id": 1785083,
            "score": 15,
            "tags": [
                "javascript",
                "web-crawler"
            ],
            "title": "how do web crawlers handle javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Don't use <code>onclick</code> or any HTML event attributes because they are evil.  Use JavaScript because it is good.</p>\n\n<pre><code>document.querySelector('a').addEventListener('click', function (event) {\n    javascript.function();\n    event.preventDefault();\n});\n</code></pre>\n\n<p>Do you <em>really</em> want to use <code>onclick</code>?  Use it like so: <code>onclick=\"javascript.function(); return false;\"</code></p>\n\n<p>I doubt <code>javascript.function()</code> will do anything, but I'm sure you know the real function name.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You already have what you need, with a minor syntax change:</p>\n\n<pre><code>&lt;a href=\"www.mysite.com\" onclick=\"return theFunction();\"&gt;Item&lt;/a&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    function theFunction () {\n        // return true or false, depending on whether you want to allow the `href` property to follow through or not\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>The default behavior of the <code>&lt;a&gt;</code> tag's <code>onclick</code> and <code>href</code> properties is to execute the <code>onclick</code>, then follow the <code>href</code> as long as the <code>onclick</code> doesn't return <code>false</code>, canceling the event (or the event hasn't been prevented)</p>\n",
                    "is_accepted": true,
                    "score": 25
                },
                {
                    "body": "<p>Use <a href=\"http://jquery.com\" rel=\"nofollow\">jQuery</a>. You need to capture the <code>click</code> event and then go on to the website.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;a href=\"#\" id=\"myHref\"&gt;Click me&lt;/a&gt;\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>$(\"#myHref\").on('click', function() {\n   alert (\"inside onclick\");\n   window.location = \"http://www.google.com\";\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'd like to ask about HTML tag </p>\n\n<pre><code>&lt;a href=\"www.mysite.com\" onClick=\"javascript.function();\"&gt;Item&lt;/a&gt;\n</code></pre>\n\n<p>How to make this <strong>a</strong> tag working with <strong>href</strong> and <strong>onClick</strong>? (prefer onClick running first then href)</p>\n",
            "last_activity_date": 1360814521,
            "question_id": 14867558,
            "score": 14,
            "tags": [
                "javascript",
                "html",
                "tags",
                "onclick",
                "href"
            ],
            "title": "HTML tag &lt;a&gt; want to add both href and onclick working"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You can draw one canvas into another with <code>ctx.drawImage(other_canvas,0,0)</code></p>\n\n<p>If you do that in the right order, you will have all the canvas contents correctly layered in one of them.</p>\n\n<p>If you want to <em>save</em> the image, you can call <code>canvas.toDataURL()</code> to get the contents as a base64 encoded PNG file.</p>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<p>I have 3 layers of canvas - 1 is matrix, 2 &amp; 3 is graphics, how to preserve them in one image?</p>\n\n<pre><code>&lt;div style=\"position: relative;\"&gt;\n &lt;canvas id=\"matix\" width=\"100\" height=\"100\" \n   style=\"position: absolute; left: 0; top: 0; z-index: 0;\"&gt;&lt;/canvas&gt;\n &lt;canvas id=\"layer1\" width=\"100\" height=\"100\" \n   style=\"position: absolute; left: 0; top: 0; z-index: 0;\"&gt;&lt;/canvas&gt;\n &lt;canvas id=\"layer2\" width=\"100\" height=\"100\" \n   style=\"position: absolute; left: 0; top: 0; z-index: 1;\"&gt;&lt;/canvas&gt;\n&lt;/div&gt;\n</code></pre>\n",
            "last_activity_date": 1403108066,
            "question_id": 3750580,
            "score": 14,
            "tags": [
                "javascript",
                "html5",
                "canvas"
            ],
            "title": "Save many canvas element as image"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Uh, nevermind. Found an amazing modification to the jquery color plugin. </p>\n\n<p><a href=\"http://pioupioum.fr/sandbox/jquery-color/\" rel=\"nofollow\">http://pioupioum.fr/sandbox/jquery-color/</a></p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<h1><strong>Using CSS3 animation</strong> (no javascript)</h1>\n\n<p>You can also achieve the same effect using CSS3 animation. See below,</p>\n\n<p><strong>Step 1:</strong> Create a keyframe for your animation</p>\n\n<pre><code>@keyframes color_up {\n    from {\n        background-color: rgba(0,0,0,0.2);\n    }\n    to {\n        background-color: rgba(0,255,0,0.4);\n    }\n}\n</code></pre>\n\n<p><strong>Step 2:</strong> Use the animation rules.</p>\n\n<pre><code>  animation-name: color_up;\n  animation-duration: 2s;\n  animation-iteration-count: infinite;\n  animation-direction: alternate;\n  animation-timing-function: ease-in-out;\n</code></pre>\n\n<p><strong>DEMO:</strong> <a href=\"http://jsfiddle.net/2Dbrj/3/\">http://jsfiddle.net/2Dbrj/3/</a></p>\n\n<h1><strong>Using jQuery</strong></h1>\n\n<p>jQuery now supports <strong><a href=\"http://jqueryui.com/animate/\">color</a> animation</strong> with <strong>RGBA</strong> support as well. This actually animates from one color to other. </p>\n\n<pre><code>$(selector).animate({\n  backgroundColor: 'rgba(0,255,0,0.4)'\n});\n</code></pre>\n\n<p><strong>DEMO</strong>: <a href=\"http://jsfiddle.net/2Dbrj/2/\">http://jsfiddle.net/2Dbrj/2/</a></p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>use <a href=\"http://code.jquery.com/ui/1.10.3/jquery-ui.js\" rel=\"nofollow\">jquery UI</a> for handle that, <code>$(object).animate({color : 'rgba(0,0,0,.2)'},500)</code></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Does anyone know if jQuery can handle an animation like:</p>\n\n<pre>rgba(0,0,0,0.2) \u2192 rgba(0,255,0,0.4)</pre>\n\n<p>I know there is a <a href=\"http://github.com/jquery/jquery-color/blob/master/jquery.color.js\">plugin</a> to handle color animations, but this might be too modern?</p>\n",
            "last_activity_date": 1389814573,
            "question_id": 3242368,
            "score": 14,
            "tags": [
                "javascript",
                "jquery",
                "animation"
            ],
            "title": "jQuery + RGBA color animations"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><code>url</code> isn't an object on the Marker class.  But there's nothing stopping you adding that as a property to that class.  I'm guessing whatever example you were looking at did that too.  Do you want a different URL for each marker?  What happens when you do:</p>\n\n<pre><code>for (var i = 0; i &lt; locations.length; i++) \n{\n    var flag = new google.maps.MarkerImage('markers/' + (i + 1) + '.png',\n      new google.maps.Size(17, 19),\n      new google.maps.Point(0,0),\n      new google.maps.Point(0, 19));\n    var place = locations[i];\n    var myLatLng = new google.maps.LatLng(place[1], place[2]);\n    var marker = new google.maps.Marker({\n        position: myLatLng,\n        map: map,\n        icon: flag,\n        shape: shape,\n        title: place[0],\n        zIndex: place[3],\n        url: \"/your/url/\"\n    });\n\n    google.maps.event.addListener(marker, 'click', function() {\n        window.location.href = marker.url;\n    });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can add a specific url to each point, e.g.:</p>\n\n<pre><code>var points = [\n    ['name1', 59.9362384705039, 30.19232525792222, 12, 'www.google.com'],\n    ['name2', 59.941412822085645, 30.263564729357767, 11, 'www.amazon.com'],\n    ['name3', 59.939177197629455, 30.273554411974955, 10, 'www.stackoverflow.com']\n];\n</code></pre>\n\n<p>Add the url to the marker values in the for-loop:</p>\n\n<pre><code>var marker = new google.maps.Marker({\n    ...\n    zIndex: place[3],\n    url: place[4]\n});\n</code></pre>\n\n<p>Then you can add just before to the end of your for-loop:</p>\n\n<pre><code>google.maps.event.addListener(marker, 'click', function() {\n    window.location.href = this.url;\n});\n</code></pre>\n\n<p>Also see this <a href=\"http://fiddle.jshell.net/bTujZ/\">example</a>.</p>\n",
                    "is_accepted": true,
                    "score": 27
                }
            ],
            "body": "<p>I want to open a new window by clicking at marker using google map api 3.\nunfortunately, there are not so many examples at google api. I found out this code: </p>\n\n<pre><code>google.maps.event.addListener(marker, 'click', function() {\nwindow.location.href = marker.url;\n});\n</code></pre>\n\n<p>How to use it, when I create markers with a loop?\nI tried it in many ways with no afford.</p>\n\n<p>This is my code (I made it simple and short):</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\" /&gt;\n&lt;style type=\"text/css\"&gt;\n  html { height: 100% }\n  body { height: 100%; margin: 0; padding: 0 }\n  #map_canvas { height: 100% }\n&lt;/style&gt;\n&lt;script type=\"text/javascript\" src=\"http://maps.googleapis.com/maps/api/js?sensor=false\"&gt;\n&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar points = [\n    ['name1', 59.9362384705039, 30.19232525792222, 12],\n    ['name2', 59.941412822085645, 30.263564729357767, 11],\n    ['name3', 59.939177197629455, 30.273554411974955, 10]\n    ];\n function setMarkers(map, locations) {\nvar shape = {\ncoord: [1, 1, 1, 20, 18, 20, 18 , 1],\n    type: 'poly'\n };\nfor (var i = 0; i &lt; locations.length; i++) \n    {\n    var flag = new google.maps.MarkerImage('markers/' + (i + 1) + '.png',\n      new google.maps.Size(17, 19),\n      new google.maps.Point(0,0),\n      new google.maps.Point(0, 19));\n    var place = locations[i];\n    var myLatLng = new google.maps.LatLng(place[1], place[2]);\n    var marker = new google.maps.Marker({\n        position: myLatLng,\n        map: map,\n        icon: flag,\n        shape: shape,\n        title: place[0],\n        zIndex: place[3]\n    });\n    } \n}\nfunction initialize() {\nvar myOptions = {\n    center: new google.maps.LatLng(59.91823239768787, 30.243222856188822),\n    zoom: 12,\n    mapTypeId: google.maps.MapTypeId.ROADMAP\n    };\nvar map = new google.maps.Map(document.getElementById(\"map_canvas\"),myOptions);\nsetMarkers(map, points);\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=\"initialize()\"&gt;\n&lt;div id=\"map_canvas\" style=\"width:50%; height:50%\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>How to open url by clicking at marker with code above?</p>\n\n<p>I would very appreciate tips and descriptions.</p>\n",
            "last_activity_date": 1422759379,
            "question_id": 8769966,
            "score": 13,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3",
                "google-maps-markers"
            ],
            "title": "google map api: open url by clicking at marker"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>There is no property for video element for getting the playing status. But there is one event \"playing\" which will be triggered when it starts to play. Event \"ended\" is triggered when it stops playing.</p>\n\n<p>So the solution is </p>\n\n<ol>\n<li>decalre one variable <strong>videoStatus</strong></li>\n<li>add event handlers for different events of video</li>\n<li>update <strong>videoStatus</strong> using the event handlers</li>\n<li>use <strong>videoStatus</strong> to identify the status of the video</li>\n</ol>\n\n<p>This page will give you a better idea about video events. Play the video on this page and see how events are triggered.<br>\n<a href=\"http://www.w3.org/2010/05/video/mediaevents.html\" rel=\"nofollow\">http://www.w3.org/2010/05/video/mediaevents.html</a></p>\n\n<p><strong>Note : This answer was given in 2011. Please check for other updated documentation on HTML5 video before proceeding.</strong></p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>I encountered a similar problem where I was not able to add event listeners to the player until <em>after</em> it had already started playing, so @Diode's method unfortunately would not work. My solution was check if the player's \"paused\" property was set to true or not. This works because \"paused\" is set to true even before the video ever starts playing and after it ends, not just when a user has clicked \"pause\".</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It seems to me like you could just check for <code>!stream.paused</code>.</p>\n",
                    "is_accepted": false,
                    "score": 42
                },
                {
                    "body": "<pre><code>jQuery(document).on('click', 'video', function(){\n        if (this.paused) {\n            this.play();\n        } else {\n            this.pause();\n        }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Here is what we are using at <a href=\"http://www.develop.com/webcasts\" rel=\"nofollow\">http://www.develop.com/webcasts</a> to keep people from accidentally leaving the page while a video is playing or paused.</p>\n\n<pre><code>$(document).ready(function() {\n\n    var video = $(\"video#webcast_video\");\n    if (video.length &lt;= 0) {\n        return;\n    }\n\n    window.onbeforeunload = function () {\n        var htmlVideo = video[0];\n        if (htmlVideo.currentTime &lt; 0.01 || htmlVideo.ended) {\n            return null;\n        }\n\n        return \"Leaving this page will stop your video.\";\n    };\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I just looked at the link @tracevipin added (<a href=\"http://www.w3.org/2010/05/video/mediaevents.html\" rel=\"nofollow\">http://www.w3.org/2010/05/video/mediaevents.html</a>), and I saw a property named \"paused\".</p>\n\n<p>I have ust tested it and it works just fine.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>this is my code - by calling the function play() the video plays or pauses and the button image is changed. \nby calling the function volume() the volume is turned on/off and the button image also changes.</p>\n\n<pre><code>function play(){ \nvar video = document.getElementById('slidevideo'); \nif(video.paused) {\nvideo.play()\nplay_img.src = 'img/pause.png'; \n}\nelse {\nvideo.pause()\nplay_img.src = 'img/play.png';\n}\n}\n\n\n\nfunction volume(){ \nvar video = document.getElementById('slidevideo');\nvar img = document.getElementById('volume_img');\nif(video.volume &gt; 0) {\nvideo.volume = 0\nvolume_img.src = 'img/volume_off.png';  \n}\nelse {\nvideo.volume = 1\nvolume_img.src = 'img/volume_on.png';\n}\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've looked through a couple of questions to find out if an HTML5 element is playing, but can't find the answer. I've looked at the W3 documentation and it has an event named \"playing\" but I can't seem to get it to work.</p>\n\n<p>This is my current code:</p>\n\n<pre><code>var stream = document.getElementsByTagName('video');\n\nfunction pauseStream() {\n  if (stream.playing) {\n    for (var i = 0; i &lt; stream.length; i++) {\n      stream[i].pause();\n      $(\"body &gt; header\").addClass(\"paused_note\");\n      $(\".paused_note\").text(\"Stream Paused\");\n      $('.paused_note').css(\"opacity\", \"1\");\n    }\n  }\n}\n</code></pre>\n",
            "last_activity_date": 1418560130,
            "question_id": 8599076,
            "score": 13,
            "tags": [
                "javascript",
                "html5",
                "video",
                "javascript-events",
                "html5-video"
            ],
            "title": "Detect if HTML5 Video element is playing"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>1) Use different status code than 301 (2**) (if request by ajax) and handle redirection on client side:</p>\n\n<pre><code>var STATUS = {\n  REDIRECT: 280\n};\n\n$.post('/redirected', {}, function(response, status, request) {\n  if (status == STATUS.REDIRECT) {\n    // you need to return the redirect url\n    location.href = response.redirectUrl;\n  } else {\n    $('#content').html(request.responseText);\n  }\n});\n</code></pre>\n\n<p>2) DO NOT REDIRECT:</p>\n\n<p>I use that in \"redirect pattern\" = redirecting after post request (you don't want to allow user to refresh the post request, etc..)</p>\n\n<p>With ajax request, this is not necessary, so when the post request is ajax, I do forward instead (just forward to different controller - depends on your server-side framework, or what you are using...). POST requests are not cached by browsers.</p>\n\n<p>Actually, I don't know what's the reason you need that, so this might not be so useful for you. This is helpful when server returns different responses for ajax requests than common requests, because when browser redirect ajax request, the redirected request is not XMLHttpRequest...</p>\n\n<p><em>[updated]</em></p>\n\n<p>You can access headers (of redirected request) like that:</p>\n\n<pre><code>$.post('redirected', {}, function(r, s, req) {\n  req.getAllResponseHeaders();\n  req.getResponseHeader('Location');\n});\n</code></pre>\n\n<p>There should be 'Location' header, but it depends on the server, which headers are sent back...</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I know that you can't, when using an XMLHttpRequest, intercept a redirect or prevent it, as the browser will transparently follow it, but is it possible to either</p>\n\n<p>A. Determine whether a request redirected, or</p>\n\n<p>B. Determine <em>where</em> it redirected to? (assuming that the response gives no hints)</p>\n\n<p>Example code:</p>\n\n<pre><code>$.post(\"/my-url-that-redirects/\", {}, \n    function(response, statusCode, xmlHttpRequest){\n        //Somehow grab the location it redirected to\n    }\n);\n</code></pre>\n\n<p>In my case, firebug will first show a POST to the url, then a GET to the redirected url. Can that GET location be captured?</p>\n",
            "last_activity_date": 1292584339,
            "question_id": 4465547,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "xmlhttprequest"
            ],
            "title": "Capture redirect location of javascript XMLHttpRequest"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><strong>Solved! Website is up just installing Dotnet framework 4.5 on server</strong></p>\n\n<hr>\n\n<p>Actually I didn't find a way to force programmatically browsers User agent string (this was the original question).  But repaired website with 0 code.. </p>\n\n<p>Just made lot of tests and on one server I found out that website was working, on other server it wasn't.  </p>\n\n<p>The \"<em>good server</em>\" was a Win2012, and \"<em>bad servers</em>\" were Win2008. On Win2012 Aspnet 4.5 was running, and on Win2008 it wasn't.</p>\n\n<p>I <strong>installed dotnet framework 4.5</strong> on <em>bad servers</em> too, and everything started working!</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>I also faced the same problem in my 2003 windows server with .net framework 4.0 and after a long research i found the below is helpful...</p>\n\n<p>I created App_Browsers folder and put a browser file named as ie.browser and pasted the below browser definition text and it started working</p>\n\n<pre><code>&lt;browsers&gt;\n&lt;browser id=\"IE11\" parentID=\"Mozilla\"&gt;\n&lt;identification&gt;\n  &lt;userAgent match=\"Trident\\/7.0; rv:(?'version'(?'major'\\d+)(\\.(?'minor'\\d+)?)(?'letters'\\w*))(?'extra'[^)]*)\" /&gt;\n  &lt;userAgent nonMatch=\"IEMobile\" /&gt;\n&lt;/identification&gt;\n&lt;capture&gt;\n  &lt;userAgent match=\"Trident/(?'layoutVersion'\\d+)\" /&gt;\n&lt;/capture&gt;\n&lt;capabilities&gt;\n  &lt;capability name=\"browser\"              value=\"IE\" /&gt;\n  &lt;capability name=\"layoutEngine\"         value=\"Trident\" /&gt;\n  &lt;capability name=\"layoutEngineVersion\"  value=\"${layoutVersion}\" /&gt;\n  &lt;capability name=\"extra\"                value=\"${extra}\" /&gt;\n  &lt;capability name=\"isColor\"              value=\"true\" /&gt;\n  &lt;capability name=\"letters\"              value=\"${letters}\" /&gt;\n  &lt;capability name=\"majorversion\"         value=\"${major}\" /&gt;\n  &lt;capability name=\"minorversion\"         value=\"${minor}\" /&gt;\n  &lt;capability name=\"screenBitDepth\"       value=\"8\" /&gt;\n  &lt;capability name=\"type\"                 value=\"IE${major}\" /&gt;\n  &lt;capability name=\"version\"              value=\"${version}\" /&gt;\n&lt;/capabilities&gt;\n &lt;/browser&gt;\n\n&lt;!-- Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11,0) like Gecko --&gt;\n&lt;browser id=\"IE110\" parentID=\"IE11\"&gt;\n&lt;identification&gt;\n  &lt;capability name=\"majorversion\" match=\"11\" /&gt;\n&lt;/identification&gt;\n\n&lt;capabilities&gt;\n  &lt;capability name=\"ecmascriptversion\"    value=\"3.0\" /&gt;\n  &lt;capability name=\"jscriptversion\"       value=\"5.6\" /&gt;\n  &lt;capability name=\"javascript\"           value=\"true\" /&gt;\n  &lt;capability name=\"javascriptversion\"    value=\"1.5\" /&gt;\n  &lt;capability name=\"msdomversion\"         value=\"${majorversion}.${minorversion}\" /&gt;\n  &lt;capability name=\"w3cdomversion\"        value=\"1.0\" /&gt;\n  &lt;capability name=\"ExchangeOmaSupported\" value=\"true\" /&gt;\n  &lt;capability name=\"activexcontrols\"      value=\"true\" /&gt;\n  &lt;capability name=\"backgroundsounds\"     value=\"true\" /&gt;\n  &lt;capability name=\"cookies\"              value=\"true\" /&gt;\n  &lt;capability name=\"frames\"               value=\"true\" /&gt;\n  &lt;capability name=\"javaapplets\"          value=\"true\" /&gt;\n  &lt;capability name=\"supportsCallback\"     value=\"true\" /&gt;\n  &lt;capability name=\"supportsFileUpload\"   value=\"true\" /&gt;\n  &lt;capability name=\"supportsMultilineTextBoxDisplay\" value=\"true\" /&gt;\n  &lt;capability name=\"supportsMaintainScrollPositionOnPostback\" value=\"true\" /&gt;\n  &lt;capability name=\"supportsVCard\"        value=\"true\" /&gt;\n  &lt;capability name=\"supportsXmlHttp\"      value=\"true\" /&gt;\n  &lt;capability name=\"tables\"               value=\"true\" /&gt;\n  &lt;capability name=\"supportsAccessKeyAttribute\"    value=\"true\" /&gt;\n  &lt;capability name=\"tagwriter\"            value=\"System.Web.UI.HtmlTextWriter\" /&gt;\n  &lt;capability name=\"vbscript\"             value=\"true\" /&gt;\n&lt;/capabilities&gt;\n  &lt;/browser&gt;\n&lt;/browsers&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                }
            ],
            "body": "<p>My website is broken in IE11. </p>\n\n<p>We all know that HTML tags allow developer to force IE compatibility mode; in example</p>\n\n<pre><code>&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=8, IE=9\" /&gt;\n</code></pre>\n\n<p>worked great and solved the visualization problems for IE10.</p>\n\n<p>But actually on IE11, even if <code>Compatibility mode</code> is set to <code>IE9</code>, <code>User agent string</code> is set to <code>default</code> and javascript doesn't work.\nChanging manually <code>User agent string</code> to <code>IE10</code> solved my problems.</p>\n\n<p>For shure I'm going to solve the real problems that cause website errors, but actually <strong>I need a fast, programatic way to force  \"User agent string\" to IE10</strong>, since I can't contact every user.</p>\n\n<p>Can someone help?</p>\n",
            "last_activity_date": 1392220525,
            "question_id": 20120941,
            "score": 12,
            "tags": [
                "javascript",
                "internet-explorer",
                "cross-browser",
                "compatibility",
                "internet-explorer-11"
            ],
            "title": "Force IE 11 &quot;User agent string&quot; using tags"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Accessing the variable with window or any other global accessor won't work because the variable is not globally accessible. But you can use can use eval to evaluate any expression:</p>\n\n<pre><code>&lt;script&gt;\nfunction test(){\n   var j = 1; \n   alert(eval(\"j\"));\n}\n\ntest();\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>No, because the variable is only accessible from within the execution contexts that contain the variable's scope.</p>\n\n<p>Put another way, the only way you can access <code>j</code> is if you are accessing it from something in the scope of <code>test</code> -- via an inner function, or whatever. This is because <code>j</code>, in a sense, doesn't exist to objects with a wider scope, like the global object. If it were otherwise, then variable names would have to globally unique.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I'm not aware of anything built into JavaScript to reference local variables like that (though there probably should be considering all variables are internally referenced by strings).</p>\n\n<p>I'd suggest keeping all your variables in an object if you really need to access by string:</p>\n\n<pre><code>var variables = {\n    \"j\": 1\n};\nalert(variables[\"j\"]);\n</code></pre>\n\n<p>Update: It kind of bugs me that there's no way to do this like you want. Internally the variable is a mutable binding in the declarative environment records. Properties are bound to the object they're a property of through the object's environment records, but there's actually a way to access them using brackets. Unfortunately, there's no way to access the declarative environment records the same way.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>What about:</p>\n\n<pre><code>&lt;script&gt;\n    function Func(){\n        var fn = arguments.callee;\n        fn.j = 99;\n        console.log(fn['j']);\n    }\n    Func();\n    console.log(window['j']); //not global\n    console.log(Func['j']); //but not private\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>No, this isn't possible in general. JavaScript resolves identifiers inside a function using the scope chain; there's no single object that contains all the variables in scope, and the objects in the scope chain are inaccessible from JavaScript running in the page.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/598878/how-can-i-access-local-scope-dynamically-in-javascript\">How can I access local scope dynamically in javascript?</a>  </p>\n</blockquote>\n\n\n\n<p>Hi all.<br>\nWe all know that you can access a property of a javascript object by it's name using the [] syntax.. e.g. ob['nameOfProperty'].</p>\n\n<p>Can you do the same for a local variable?  Another answer <a href=\"http://stackoverflow.com/questions/1920867/javascript-get-local-variable-dynamicly-by-name-string\">here</a> suggested the answer is to use window['nameOfVar'].  However, this only worked for the poster as he was defining variables at window-level scope.</p>\n\n<p>I assume that this must be possible in general, as Firefox's Firebug (which I believe is written in javascript) can show local and closure variables. Is there some hidden language feature I'm not aware of? </p>\n\n<p>Specifically, here's what I want to do:</p>\n\n<pre><code>&lt;script&gt;\n var i = 4;\n console.log(window['i']); // this works..\n\n function Func(){\nvar j = 99;\n\n     // try to output the value of j from its name as a string\nconsole.log(window['j']); // unsurprisingly, this doesn't work\n }\n\n\n Func();\n&lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1267128768,
            "question_id": 2336508,
            "score": 12,
            "tags": [
                "javascript",
                "function",
                "variables",
                "local",
                "closures"
            ],
            "title": "Javascript: Get access to local variable or variable in closure by its name"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Had a lot of fun finding a solution for this question!</p>\n\n<pre><code>&lt;!-- Use CSS to replace link text with flag icons --&gt;\n&lt;ul class=\"translation-links\"&gt;\n  &lt;li&gt;&lt;a href=\"#\" class=\"spanish\" data-lang=\"Spanish\"&gt;Spanish&lt;/a&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;a href=\"#\" class=\"german\" data-lang=\"German\"&gt;German&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;!-- Code provided by Google --&gt;\n&lt;div id=\"google_translate_element\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n  function googleTranslateElementInit() {\n    new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE, autoDisplay: false}, 'google_translate_element');\n  }\n&lt;/script&gt;\n&lt;script src=\"//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n&lt;!-- Flag click handler --&gt;\n&lt;script type=\"text/javascript\"&gt;\n    $('.translation-links a').click(function() {\n      var lang = $(this).data('lang');\n      var $frame = $('.goog-te-menu-frame:first');\n      if (!$frame.size()) {\n        alert(\"Error: Could not find Google translate frame.\");\n        return false;\n      }\n      $frame.contents().find('.goog-te-menu2-item span.text:contains('+lang+')').get(0).click();\n      return false;\n    });\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>@mogelbrod code isn't always working so I hacked it a bit.</p>\n\n<p>If user is logged in Google Account, Google will detect it's language and automatically translate language text so you won't be able to fire event on desired element because data-lang attribute won't be correct!</p>\n\n<p>Users that aren't logged in Google Account and American / English users will have this.\n<img src=\"http://i.stack.imgur.com/bO7Yx.png\" alt=\"en\"></p>\n\n<p>And for example; Croatian users will have this.</p>\n\n<p><img src=\"http://i.stack.imgur.com/ruhq0.png\" alt=\"hr\"></p>\n\n<p>In this case it's better to map language order. For example from above, that would be</p>\n\n<blockquote>\n  <p>0 - English</p>\n  \n  <p>1 - French</p>\n  \n  <p>2 - German</p>\n  \n  <p>3 - Italian</p>\n</blockquote>\n\n<p>HTML:</p>\n\n<p>Note the data-placement property (you can change element order, but preserve placement as above).</p>\n\n<pre><code>&lt;div class=\"translation-icons\" style=\"visibility:hidden\"&gt;\n    &lt;a href=\"#\" class=\"eng\" data-placement=\"0\"&gt;eng icon&lt;/a&gt;\n    &lt;a href=\"#\" class=\"fra\" data-placement=\"1\"&gt;fra icon&lt;/a&gt;\n    &lt;a href=\"#\" class=\"ger\" data-placement=\"2\"&gt;ger icon&lt;/a&gt;\n    &lt;a href=\"#\" class=\"ita\" data-placement=\"3\"&gt;ita icon&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>JS:\nI had to change find selector. Note that when user choses language, there's no more \"Choose Language\" element in #google_translate_element div so I had to handle that, too.</p>\n\n<p>Also it's good not to show icons until all scripts (google translate) are loaded.</p>\n\n<pre><code>$(window).load(function () {\n\n    $('.translation-icons').css('visibility', 'visible');\n\n        $('.translation-icons a').click(function(e) {\n            e.preventDefault();\n            var placement = $(this).data('placement');\n            var lang_num = $('.translation-icons a').length;\n            var $frame = $('.goog-te-menu-frame:first');\n\n            if (!$frame.size()) {\n                alert(\"Error: Could not find Google translate frame.\");\n                return false;\n            }\n\n            var langs = $('.goog-te-menu-frame:first').contents().find('a span.text');\n\n            if(langs.length != lang_num) placement = placement+1;\n\n            langs.eq(placement).click();\n            return false;\n        });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>@mogelbrod, I used your code above and it worked perfectly on Chrome, tried it on Firefox and Safari, did not work. The span.click event doesn't fire the event handler of google translate. </p>\n\n<p>I came up with another method I just wanna share by using the google select instead the iframe-based plugin. </p>\n\n<pre><code>&lt;!-- Use CSS to replace link text with flag icons --&gt;\n&lt;ul class=\"translation-links\"&gt;\n  &lt;li&gt;&lt;a href=\"#\" class=\"spanish\" data-lang=\"Spanish\"&gt;Spanish&lt;/a&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;a href=\"#\" class=\"german\" data-lang=\"German\"&gt;German&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;!-- Code provided by Google --&gt;\n&lt;div id=\"google_translate_element\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n  function googleTranslateElementInit() {\n    new google.translate.TranslateElement({pageLanguage: 'en', autoDisplay: false}, 'google_translate_element'); //remove the layout\n  }\n&lt;/script&gt;\n&lt;script src=\"//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n\n&lt;script type=\"text/javascript\"&gt;\n    function triggerHtmlEvent(element, eventName) {\nvar event;\nif(document.createEvent) {\n    event = document.createEvent('HTMLEvents');\n    event.initEvent(eventName, true, true);\n    element.dispatchEvent(event);\n} else {\n    event = document.createEventObject();\n    event.eventType = eventName;\n    element.fireEvent('on' + event.eventType, event);\n}\n}\n            &lt;!-- Flag click handler --&gt;\n        $('.translation-links a').click(function(e) {\n  e.preventDefault();\n  var lang = $(this).data('lang');\n  $('#google_translate_element select option').each(function(){\n    if($(this).text().indexOf(lang) &gt; -1) {\n        $(this).parent().val($(this).val());\n        var container = document.getElementById('google_translate_element');\n        var select = container.getElementsByTagName('select')[0];\n        triggerHtmlEvent(select, 'change');\n    }\n});\n});\n\n        &lt;/script&gt;\n</code></pre>\n\n<p>Tested on: Chrome (win &amp; Mac), Safari(Win &amp; Mac), FireFox (win) and IE8</p>\n\n<p>By the way, the issue of the span.click event I encountered on Firefox and Safari could be solved by using the triggerHtmlEvent function above, I haven't tried it though. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><em>Now no scripting is required!</em></p>\n\n<p>Add the tag <code>#googtrans(TO_LANG_CODE)</code> to the address that your respective flag links to.</p>\n\n<p>Here <code>TO_LANG_CODE</code> is the language code for the language you want.\nThis assumes the page uses Google Website Translator as in the question and your original language can be automatically identified.</p>\n\n<p>Identifying the original language can help avoid errors, to do so use the form <code>#googtrans(FROM_LANG_CODE|TO_LANG_CODE)</code>.</p>\n\n<p>Example:<BR>\n<a href=\"http://nykopingsguiden.se/#googtrans%28se|es%29\" rel=\"nofollow\">http://nykopingsguiden.se/#googtrans(se|es)</a> translates the Swedish page <BR><a href=\"http://nykopingsguiden.se\" rel=\"nofollow\">http://nykopingsguiden.se</a> from Swedish to Spanish.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>default language issue sorted with the following code</p>\n\n<pre><code>if(lang!=\"English\"){\n        $frame.contents().find('.goog-te-menu2-item span.text:contains('+lang+')').get(0).click();\n    }else{\n        console.log($frame2.contents().find('.goog-te-banner .goog-te-button button').get(0));\n        $frame2.contents().find('.goog-te-banner .goog-te-button button').get(1).click();\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To implement a totally backend solution (before the <em>translate.js</em> included) you just can create a php file which contains</p>\n\n<pre><code>&lt;?php setcookie('googtrans', '/en'); header('location:index.html')?&gt;\n</code></pre>\n\n<p>If you want your page in spanish you just add other php file like:</p>\n\n<pre><code>&lt;?php setcookie('googtrans', '/en/es'); header('location:index.html')?&gt;\n</code></pre>\n\n<p>Finally link this file to any 'a' tag</p>\n\n<pre><code>&lt;a href=\"defaultLang.php\"&gt;&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Currently, I'm using the simple Google Translate drop-down menu found here:\n<a href=\"http://translate.google.com/translate_tools\">http://translate.google.com/translate_tools</a></p>\n\n<p>I'd like to also be able to click on some flag icons I have and trigger the same javascript calls that the text-based links in the google translate widget.</p>\n\n<p>Anyone have ideas on how to accomplish this?  I can't figure out how to make clicking on the flags initiate the same behavior as clicking on the google translate text links.</p>\n",
            "last_activity_date": 1421250638,
            "question_id": 10486833,
            "score": 11,
            "tags": [
                "javascript",
                "google-translate"
            ],
            "title": "Implementing Google Translate with custom flag icons"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It doesn't remember the value at all. The event <code>e</code> is new each time <code>onclick</code> is fired. The problem is you're <strong>always</strong> cancelling the event bubbling:</p>\n\n<pre><code>if(foo) {\n    e.stopPropagation();\n} else {\n    e.cancelBubble = true;\n}\n</code></pre>\n\n<ul>\n<li><code>e.stopPropagation</code> is the W3C method\nof preventing event bubbling.</li>\n<li><code>e.cancelBubble</code> is the Microsoft\nmethod to prevent event bubbling.</li>\n</ul>\n\n<p>They're both the same. So you're cancelling bubbling of events every time. More reading <a href=\"http://www.quirksmode.org/js/events_order.html\">here</a>. </p>\n\n<p>You'll need to change your method so that it only cancels bubbling if your criteria are met:</p>\n\n<pre><code>document.getElementById(\"object\").onclick = function(e) {\n\n    if(e &amp;&amp; e.stopPropagation &amp;&amp; someCriteriaToStopBubbling === true) \n    {\n        e.stopPropagation();\n    } \n    else if (someCriteriaToStopBubbling === true)\n    {\n          e = window.event;\n          e.cancelBubble = true;\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong>\nBear in mind that in your current code, <code>if (e &amp;&amp; e.stopPropagation)</code> will always be true if the browser supports <code>stopPropagation</code>. If it goes into the second brace for <code>cancelBubble</code>, it will not remember the value last set. See <a href=\"http://jsfiddle.net/DgwSA/\">this fiddle</a>. </p>\n\n<p>Basically, to summarise, in your code you're cancelling propagation every time after every click. You have to put some criteria into the function to determine whether or not to cancel the propagation up the element hierarchy.</p>\n",
                    "is_accepted": true,
                    "score": 24
                }
            ],
            "body": "<p>With <code>object.stopPropagation()</code> I can stop event bubbling but how can I re-enable it?</p>\n\n<p>Is there a pre defined function in js something like <code>object.startPropagation</code>?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>The Problem is that the JS remembers if you click on the \"object\" than stop Event Bubbling always even after I don't want it, so I would like to stop it:</p>\n\n<pre><code>document.getElementById(\"object\").onclick = function(e){\n    if(e &amp;&amp; e.stopPropagation) {\n        e.stopPropagation();\n    } else {\n          e = window.event;\n          e.cancelBubble = true;\n    }\n}\n</code></pre>\n",
            "last_activity_date": 1295441834,
            "question_id": 4735006,
            "score": 11,
            "tags": [
                "javascript",
                "events",
                "event-bubbling",
                "event-propagation"
            ],
            "title": "Javascript : How to enable stopPropagation?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Silverlight in a winform app just sounds like bad news. It would mean you are running to different CLR's in a single app and would have to deal with alot of added complexity to make it work. If possible consider using the full WPF within your app instead here is a <a href=\"http://blog.paranoidferret.com/index.php/2008/06/24/wpf-tutorial-using-wpf-in-winforms/\" rel=\"nofollow\">link</a> showing you how.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Have a look at <a href=\"http://www.blendables.com/labs/Desklighter/Default.aspx\" rel=\"nofollow\">Desklighter</a>. Not exactly what you are looking for but it does proof that it should be possible?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think using the Windows Forms WebBrowser control is your best bet.  To do this, you'll need your Silverlight app on a webpage, then you point your WebBrowser at the page's URI.</p>\n\n<p>To keep your WebBrowser control from acting like IE, I'd recommend setting the following:</p>\n\n<pre><code>webBrowser.AllowNavigation = false;\nwebBrowser.AllowWebBrowserDrop = false;\nwebBrowser.IsWebBrowserContextMenuEnabled = false;\nwebBrowser.WebBrowserShortcutsEnabled = false;\n</code></pre>\n\n<p>Calling methods on your form from within Silverlight is easy enough to do.  To start, you need a class that has all the methods you want to call from Silverlight.  You can use your form itself or another object, but you need to mark the class with the [ComVisible(true)] attribute.  Then you assign your object to the WebBrowser.ObjectForScripting property.  This exposes your object as \"window.external\" on the webpage.</p>\n\n<pre><code>[ComVisible(true)]\npublic partial class Form1 : Form\n{\n    ......\n    webBrowser.ObjectForScripting = this;\n    ......\n    public void CallMeInForm(string something)\n    {\n        MessageBox.Show(\"Silverlight said: \" + something);\n    }\n}\n</code></pre>\n\n<p>That's it for inside your Windows Forms project.  Inside of your Silverlight app, you need to pick up this ObjectForScripting and invoke methods on it.  To call the method in my example above, use the following lines:</p>\n\n<pre><code>using System.Windows.Browser;\n......\nScriptObject myForm = (ScriptObject)HtmlPage.Window.GetProperty(\"external\");\nmyForm.Invoke(\"CallMeInForm\", \"testing 1 2 3\");\n</code></pre>\n\n<p>The Invoke command lets you pass any number and type of parameters to your function, although I suspect it wouldn't like it very much if you try passing complex datatypes around.  But if you needed to do so, you could always use serialization.</p>\n\n<p>Calling Silverlight functions from your form seems to be the tricker direction.  I haven't figured this one out completely yet.</p>\n\n<p>In your Silverlight app, you also expose functions to the webpage.  To do this, use the HtmlPage.RegisterScriptableObject() function.  Again, you can pass in any class with methods you want to expose.  For a method to be exposed, though, you have to mark it with the [ScriptableMember] attribute.</p>\n\n<pre><code>HtmlPage.RegisterScriptableObject(\"Page\", this);\n......\n[ScriptableMember]\npublic void CallMeInSilverlight(string message)\n{\n    HtmlPage.Window.Alert(\"The form said: \" + message);\n}\n</code></pre>\n\n<p>At this point, your method is exposed to JavaScript on the page and you could call it like so, assuming you added <code>id=\"silverlightControl\"</code> to your <code>&lt;object&gt;</code> element:</p>\n\n<pre><code>document.getElementById('silverlightControl').Content.Page.CallMeInSilverlight(\"testing 1 2 3\");\n</code></pre>\n\n<p>Notice the <code>Page</code> property?  That's what the call to <code>RegisterScriptableObject()</code> gave us.  Now, let's wrap this into a tidy JavaScript method:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function CallMe(message) {\n        var control = document.getElementById('silverlightControl');\n        control.Content.Page.CallMeInSilverlight(message);\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>And now we can call the <code>CallMe()</code> method from the Windows Forms app like so:</p>\n\n<pre><code>public void CallToSilverlight()\n{\n    webBrowser.InvokeScript(\"CallMe\", new object[] { \"testing 1 2 3\" });\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>If all you <em>really</em> need to do is host Silverlight in a desktop app, I'd suggest you check out <a href=\"http://jmorrill.hjtcentral.com/\" rel=\"nofollow\">Jeremiah Morrill</a>'s <a href=\"http://silverlightviewport.codeplex.com/\" rel=\"nofollow\">SilverlightViewport</a> project. It allows you to embed a Silverlight application in a WPF or XNA app. It's still very alpha, but you might find it useful.</p>\n\n<p>Here's a picture to wet your appetite:</p>\n\n<p><img src=\"http://i3.codeplex.com/Project/Download/FileDownload.aspx?ProjectName=silverlightviewport&amp;DownloadId=97946\"/></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I would like to host a silverlight control in winforms via a winforms browser, but for it to work I need some way for the forms to talk to the silverlight, and also the other way around.  Would it be possible to somehow have the two interact with each other using JavaScript as a middleman?  I.e., have the form speak to the browser's javascript, and have that speak to the silverlight control?  Is there a better way?  Or even a way at all?    (other than compiling the code as silverlight and wpf)</p>\n",
            "last_activity_date": 1298144798,
            "question_id": 198360,
            "score": 11,
            "tags": [
                "c#",
                "javascript",
                "wpf",
                "winforms",
                "silverlight"
            ],
            "title": "Silverlight Hosted in Winforms"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It seems you have another entry point into your application somewhere other than your data-main script (js/main.js). Even if it's a subsequent script in the same page, you cannot depend on your data-main script being completed before the next script runs, <a href=\"https://github.com/jrburke/requirejs/issues/546\">since it's loaded with async attribute</a>.</p>\n\n<pre><code>&lt;script data-main=\"js/main\" src=\"js/lib/require.js\"&gt;&lt;/script&gt;\n&lt;!-- foo.js might run before js/main.js !!! --&gt;\n&lt;script src=\"js/foo.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>You can prove this by adding a console.log statement at the end of js/main.js and one in foo.js (or whatever). Normally you will see the one from js/main.js and then foo.js , but in that 1 out of 50 case you'll see them happen in the other order.</p>\n\n<p>There are several strategies to deal with this:</p>\n\n<p><strong>1 - Do all your app initiation and subsequent require's from your data-main script</strong></p>\n\n<p>Applies to single-page apps, of course. All in one file:</p>\n\n<pre><code>require.config({\n  // snip\n});\nrequire(['mymodule'], function( mymodule ) {\n  // do stuff\n});\n</code></pre>\n\n<p><strong>2 - Use an inline script right after the require.js script tag</strong></p>\n\n<p>Instead of having the above script inside a separate file referenced by data-main, just have a 2nd script tag right below. This is the first example <a href=\"http://requirejs.org/docs/api.html#config\">listed in the docs</a>.</p>\n\n<p>Applies mostly to single-page-apps</p>\n\n<p><strong>3 - Load your require config into global variable prior to the require.js script tag</strong></p>\n\n<p>Second example <a href=\"http://requirejs.org/docs/api.html#config\">listed in the docs</a>.</p>\n\n<pre><code>&lt;script&gt;\n    var require = {\n        paths: { // define them}\n        shim: { // define them }\n    };\n&lt;/script&gt;\n&lt;script src=\"scripts/require.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Applies mostly to single-page-apps</p>\n\n<p><strong>4 - Nest your require calls to load the the config first</strong></p>\n\n<p>This works best for multi-page apps and is the one recommended in <a href=\"https://github.com/requirejs/example-multipage-shim\">the multi-page shim app example</a></p>\n\n<pre><code>&lt;script src=\"js/lib/require.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    //Load common code that includes config, then load the app\n    //logic for this page. Do the require calls here instead of\n    //a separate file so after a build there are only 2 HTTP\n    //requests instead of three.\n    require(['./js/common'], function (common) {\n        //js/common sets the baseUrl to be js/ so\n        //can just ask for 'app/main1' here instead\n        //of 'js/app/main1'\n        require(['app/main1']);\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Related questions <a href=\"http://stackoverflow.com/questions/15184631/requirejs-configuring-require-before-loading-data-main\">here</a>, <a href=\"http://stackoverflow.com/questions/13637042/requirejs-does-not-run-data-main-script-before-loading-required-modules\">here</a>, and <a href=\"http://stackoverflow.com/questions/15386939/how-to-wait-when-data-main-is-loaded-with-require-js-before-executing-script\">here</a></p>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<p>My application use require.js, I have a random bug (happens 1 time for 50 reload)\nRequire.js write in the console : </p>\n\n<blockquote>\n  <p>Failed to load resource: the server responded with a status of 404 (Not Found) </p>\n</blockquote>\n\n<p>Indeed, require.js try to include jquery from a wrong directory...\nI don't know why, most of the time the application works fine...</p>\n\n<p>My config is pretty simple :</p>\n\n<pre><code>require.config({\n  shim: {\n    underscore: {\n      exports: '_'\n    },\n    backbone: {\n      deps: ['underscore', 'jquery'],\n      exports: 'Backbone'\n    },\n    animate_from_to: {\n      deps: ['jquery']\n    },\n    bootstrap: {\n      deps: ['jquery']\n    },\n    zoom: {\n      deps: ['jquery']\n    },\n    shop_util: {\n      deps: ['jquery']\n    },\n    pricer: {\n      deps: ['jquery']\n    },\n    filter: {\n      deps: ['jquery']\n    },\n    paginator: {\n      deps: ['jquery']\n    },\n  },\n  paths: {\n    bootstrap:        'lib/bootstrap',\n    jquery:           'lib/jquery-1.9.1',\n    zoom:             'lib/jquery.zoom.min',\n    animate_from_to:  'lib/jquery.animate_from_to-1.0.min',\n    backbone:         'lib/backbone.min',\n    underscore:       'lib/underscore.min',\n    text:             'lib/require-text',\n    shop_util:  'lib/shop_util',\n    pricer:           'lib/pricer',\n    filter:           'lib/filter',\n    paginator:        'lib/paginator',\n  }\n\n});\n</code></pre>\n\n<p>Thank you</p>\n",
            "last_activity_date": 1370962779,
            "question_id": 17026036,
            "score": 10,
            "tags": [
                "javascript",
                "jquery",
                "requirejs"
            ],
            "title": "Require.js bug random Failed to load resource"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>you're probably drawing the image a lot more times than you are expecting to. try adding a counter and output the number to an alert or to a div in the page to see how many times the image is being drawn.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Without actual working code we can only speculate as to why.</p>\n\n<p>If you're sending the same image over and over you're making a new image every time. This is bad. You'd want to do something like this:</p>\n\n<pre><code>var images = {}; // a map of all the images\n\nws.onmessage = function(evt)\n{\n    var received_msg = evt.data;\n    var display_image;\n    var src = 'data:image/bmp;base64,'+received_msg;\n    // We've got two distinct scenarios here for images coming over the line:\n    if (images[src] !== undefined) {\n      // Image has come over before and therefore already been created,\n      // so don't make a new one!\n      display_image = images[src];\n      display_image.onload = function () {\n          context.drawImage(this, 0, 0);\n      }\n    } else {\n      // Never before seen image, make a new Image()\n      display_image = new Image();\n      display_image.onload = function () {\n          context.drawImage(this, 0, 0);\n      }\n      display_image.src = src;\n      images[src] = display_image; // save it for reuse\n    }\n}\n</code></pre>\n\n<p>There are more efficient ways to write that (I'm duplicating onload code for instance, and I am not checking to see if an image is already complete). I'll leave those parts up to you though, you get the idea.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>That's very interesting. This is worth reporting as a bug to the various browser vendors (my feeling is that it shouldn't happen). You might responses along the lines of \"Don't do that, instead do such and such\" but at least then you'll know the right answer and have an interesting thing to write up for a blog post (more people will definitely run into this issue).</p>\n\n<p>One thing to try is unsetting the image src (and onload handler) right after the call to drawImage. It might not free up all the memory but it might get most of it back.</p>\n\n<p>If that doesn't work, you could always create a pool of image objects and re-use them once they have drawn to the canvas. That's a hassle because you'll have to track the state of those objects and also set your pool to an appropriate size (or make it grow/shrink based on traffic).</p>\n\n<p>Please report back your results. I'm very interested because I use a similar technique for one of the tightPNG encoding in <a href=\"https://github.com/kanaka/noVNC\" rel=\"nofollow\">noVNC</a> (and I'm sure others will be interested too).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I don't believe this is a bug. The problem seems to be that the images are stacked on top of each other. So to clear up the memory, you need to use clearRect() to clear your canvas before drawing the new image in it.</p>\n\n<p>ctx.clearRect(0, 0, canvas.width, canvas.height);</p>\n\n<p><a href=\"http://simonsarris.com/blog/346-how-you-clear-your-canvas-matters\" rel=\"nofollow\">How to clear your canvas matters</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have created a webpage that receives base64 encoded bitmaps over a Websocket and then draws them to a canvas.  It works perfectly.  Except, the browser's (whether Firefox, Chrome, or Safari) memory usage increases with each image and never goes down.  So, there must be a memory leak in my code or some other bug.  If I comment out the call to context.drawImage, the memory leak does not occur (but then of course the image is never drawn).  Below are snippets from my webpage.  Any help is appreciated.  Thanks!  </p>\n\n<pre><code>// global variables\nvar canvas;\nvar context;\n\n...\n\nws.onmessage = function(evt)\n{\n    var received_msg = evt.data;\n    var display_image = new Image();\n    display_image.onload = function ()\n    {\n        context.drawImage(this, 0, 0);\n    }\n    display_image.src = 'data:image/bmp;base64,'+received_msg;\n}\n\n...\n\ncanvas=document.getElementById('ImageCanvas');\ncontext=canvas.getContext('2d');\n\n...\n\n&lt;canvas id=\"ImageCanvas\" width=\"430\" height=\"330\"&gt;&lt;/canvas&gt;\n</code></pre>\n\n<hr>\n\n<p>UPDATE 12/19/2011</p>\n\n<p>I can work around this problem by dynamically creating/destroying the canvas every 100 images or so with createElement/appendChild and removeChild.  After that, I have no more memory problems with Firefox and Chrome.</p>\n\n<p>However, Safari still has a memory usage problem, but I think it is a different problem, unrelated to Canvas.  There seems to be an issue with repeatedly changing the \"src\" of the image in Safari, as if it will never free this memory.</p>\n\n<pre><code>display_image.src = 'data:image/bmp;base64,'+received_msg;  \n</code></pre>\n\n<p>This is the same problem described on the following site: <a href=\"http://waldheinz.de/2010/06/webkit-leaks-data-uris/\">http://waldheinz.de/2010/06/webkit-leaks-data-uris/</a></p>\n\n<hr>\n\n<p>UPDATE 12/21/2011</p>\n\n<p>I was hoping to get around this Safari problem by converting my received base64 string to a blob (with a \"dataURItoBlob\" function that I found on this site) and back to a URL with window.URL.createObjectURL, setting my image src to this URL, and then later freeing the memory by calling window.URL.revokeObjectURL.  I got this all working, and Chrome and Firefox display the images correctly.  Unfortunately, Safari does not appear to have support for BlobBuilder, so it is not a solution I can use.  This is strange, since many places including the O'Reilly \"Programming HTML5 Applications\" book state that BlobBuilder is supported in Safari/WebKit Nightly Builds.  I downloaded the latest Windows nightly build from <a href=\"http://nightly.webkit.org/\">http://nightly.webkit.org/</a> and ran WebKit.exe but BlobBuilder and WebKitBlobBuilder are still undefined.</p>\n\n<hr>\n\n<p>UPDATE 01/03/2012</p>\n\n<p>Ok, I finally fixed this by decoding the base64-encoded data URI string with atob() and then creating a pixel data array and writing it to the canvas with putImageData (see <a href=\"http://beej.us/blog/2010/02/html5s-canvas-part-ii-pixel-manipulation/\">http://beej.us/blog/2010/02/html5s-canvas-part-ii-pixel-manipulation/</a>).  Doing it this way (as opposed to constantly modifying an image's \"src\" and calling drawImage in the onload function), I no longer see a memory leak in Safari or any browser.  </p>\n",
            "last_activity_date": 1340387053,
            "question_id": 8538917,
            "score": 10,
            "tags": [
                "javascript",
                "html5",
                "canvas",
                "safari",
                "websocket"
            ],
            "title": "Data URI leak in Safari (was: Memory Leak with HTML5 canvas)"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Instead of calling the service with AJAX, use Javascript to build an image element and point it to the service directly...</p>\n\n<pre><code>var img = document.createElement(\"IMG\");\nimg.src = \"http://url/to/service\";\nimg.alt = \"ALT TEXT\";\ndocument.body.appendChild(img);\n</code></pre>\n\n<p>Just make sure the service sets the content type properly.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Following links may be helpful to you.</p>\n\n<ol>\n<li><a href=\"http://www.irt.org/script/955.htm\" rel=\"nofollow\">link1</a></li>\n<li><a href=\"http://www.greywyvern.com/code/php/binary2base64\" rel=\"nofollow\">link2</a></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>You would probably want to create a data-uri from your data and put it in the src attribute of an img element</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Data_URI_scheme\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Data_URI_scheme</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I realize this is an old thread, but I managed to do this through an AJAX call on a web service and thought I'd share...</p>\n\n<ul>\n<li><p>I have an image in my page already:  </p>\n\n<pre><code> &lt;img id=\"ItemPreview\" src=\"\" /&gt;\n</code></pre></li>\n<li><p>AJAX:</p>\n\n<pre><code>$.ajax({\n        type: 'POST',\n        contentType: 'application/json; charset=utf-8',\n        dataType: 'json',\n        timeout: 10000,\n        url: 'Common.asmx/GetItemPreview',\n        data: '{\"id\":\"' + document.getElementById(\"AwardDropDown\").value + '\"}',\n        success: function (data) {\n            if (data.d != null) {\n                var results = jQuery.parseJSON(data.d);\n                for (var key in results) {\n                    //the results is a base64 string.  convert it to an image and assign as 'src'\n                    document.getElementById(\"ItemPreview\").src = \"data:image/png;base64,\" + results[key];\n                }\n            }\n        }\n    });\n</code></pre></li>\n</ul>\n\n<p>My 'GetItemPreview' code queries a SQL server where I have an image stored as a base64 string and returns that field as the 'results':</p>\n\n<pre><code>     string itemPreview = DB.ExecuteScalar(String.Format(\"SELECT [avatarImage] FROM [avatar_item_template] WHERE [id] = {0}\", DB.Sanitize(id)));\n     results.Add(\"Success\", itemPreview);\n     return json.Serialize(results);\n</code></pre>\n\n<p>The magic is in the AJAX call at this line:</p>\n\n<pre><code>     document.getElementById(\"ItemPreview\").src = \"data:image/png;base64,\" + results[key];\n</code></pre>\n\n<p>Enjoy!</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Just send it back as a <code>Base64</code> then just:</p>\n\n<pre><code>var sig = new Image;\nsig.src = 'data:image/png;base64,' + $('#Signature').val();\n</code></pre>\n\n<p>In my case I am using a <code>Hidden</code> <code>Input</code> with an <code>Id</code> of <code>Signature</code> to store that <code>Base64</code> data</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is JavaScript source to decode PNG, JPEG and GIF image bytes, using the Data URI scheme:</p>\n\n<pre><code>Images.decodeArrayBuffer = function(buffer, onLoad) {\n    var mime;\n    var a = new Uint8Array(buffer);\n    var nb = a.length;\n    if (nb &lt; 4)\n        return null;\n    var b0 = a[0];\n    var b1 = a[1];\n    var b2 = a[2];\n    var b3 = a[3];\n    if (b0 == 0x89 &amp;&amp; b1 == 0x50 &amp;&amp; b2 == 0x4E &amp;&amp; b3 == 0x47)\n        mime = 'image/png';\n    else if (b0 == 0xff &amp;&amp; b1 == 0xd8)\n        mime = 'image/jpeg';\n    else if (b0 == 0x47 &amp;&amp; b1 == 0x49 &amp;&amp; b2 == 0x46)\n        mime = 'image/gif';\n    else\n        return null;\n    var binary = \"\";\n    for (var i = 0; i &lt; nb; i++)\n        binary += String.fromCharCode(a[i]);\n    var base64 = window.btoa(binary);\n    var image = new Image();\n    image.onload = onLoad;\n    image.src = 'data:' + mime + ';base64,' + base64;\n    return image;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Using Javascript, I'm doing an AJAX call to a WCF service and it is returning a byte array.  How can I convert that to an image and display it on the web page? </p>\n",
            "last_activity_date": 1423827025,
            "question_id": 4564119,
            "score": 10,
            "tags": [
                "javascript",
                "image"
            ],
            "title": "(Javascript) Convert Byte[] to image"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>As you say you can already insert an  tag at the caret, I'm going to start from there. The first thing to do is to give your  tag an id when you insert it. You should then have something like this:</p>\n\n<p><code>&lt;div contenteditable='true' id='status'&gt;I went shopping with &lt;a href='#' id='atagid'&gt;Jane&lt;/a&gt;&lt;/div&gt;</code></p>\n\n<p>Here is a function that should place the cursor just after the  tag.</p>\n\n<pre><code>function setCursorAfterA()\n{\n    var atag = document.getElementById(\"atagid\");\n    var parentdiv = document.getElementById(\"status\");\n    var range,selection;\n    if(window.getSelection) //FF,Chrome,Opera,Safari,IE9+\n    {\n        parentdiv.appendChild(document.createTextNode(\"\"));//FF wont allow cursor to be placed directly between &lt;a&gt; tag and the end of the div, so a space is added at the end (this can be trimmed later)\n        range = document.createRange();//create range object (like an invisible selection)\n        range.setEndAfter(atag);//set end of range selection to just after the &lt;a&gt; tag\n        range.setStartAfter(atag);//set start of range selection to just after the &lt;a&gt; tag\n        selection = window.getSelection();//get selection object (list of current selections/ranges)\n        selection.removeAllRanges();//remove any current selections (FF can have more than one)\n        parentdiv.focus();//Focuses contenteditable div (necessary for opera)\n        selection.addRange(range);//add our range object to the selection list (make our range visible)\n    }\n    else if(document.selection)//IE 8 and lower\n    { \n        range = document.body.createRange();//create a \"Text Range\" object (like an invisible selection)\n        range.moveToElementText(atag);//select the contents of the a tag (i.e. \"Jane\")\n        range.collapse(false);//collapse selection to end of range (between \"e\" and \"&lt;/a&gt;\").\n        while(range.parentElement() == atag)//while ranges cursor is still inside &lt;a&gt; tag\n        {\n             range.move(\"character\",1);//move cursor 1 character to the right\n        }\n        range.move(\"character\",-1);//move cursor 1 character to the left\n        range.select()//move the actual cursor to the position of the ranges cursor\n    }\n    /*OPTIONAL: \n    atag.id = \"\"; //remove id from a tag\n    */\n}\n</code></pre>\n\n<p><strong>EDIT:</strong>\nTested and fixed script. It definitely works in IE6, chrome 8, firefox 4, and opera 11. Don't have other browsers on hand to test, but it doesn't use any functions that have changed recently so it should work in anything that supports contenteditable.</p>\n\n<p>This button is handy for testing:\n<code>&lt;input type='button' onclick='setCursorAfterA()' value='Place Cursor After &amp;lt;a/&amp;gt; tag' &gt;</code></p>\n\n<p>Nico</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You could use <a href=\"http://code.google.com/p/rangy/\">my Rangy library</a>, which attempts with some success to normalize browser range and selection implementations. If you've managed to insert the <code>&lt;a&gt;</code> as you say and you've got it in a variable called <code>aElement</code>, you can do the following:</p>\n\n<pre><code>var range = rangy.createRange();\nrange.setStartAfter(aElement);\nrange.collapse(true);\nvar sel = rangy.getSelection();\nsel.removeAllRanges();\nsel.addRange(range);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I got interested in this, so I've written the starting point for a full solution. The following uses my <a href=\"http://code.google.com/p/rangy/\" rel=\"nofollow\">Rangy library</a> with its <a href=\"http://code.google.com/p/rangy/wiki/SelectionSaveRestoreModule\" rel=\"nofollow\">selection save/restore module</a> to save and restore the selection and normalize cross browser issues. It surrounds all matching text (@whatever in this case) with a link element and positions the selection where it had been previously. This is triggered after there has been no keyboard activity for one second. It should be quite reusable.</p>\n\n<pre><code>function createLink(matchedTextNode) {\n    var el = document.createElement(\"a\");\n    el.style.backgroundColor = \"yellow\";\n    el.style.padding = \"2px\";\n    el.contentEditable = false;\n    var matchedName = matchedTextNode.data.slice(1); // Remove the leading @\n    el.href = \"http://www.example.com/?name=\" + matchedName;\n    matchedTextNode.data = matchedName;\n    el.appendChild(matchedTextNode);\n    return el;\n}\n\nfunction shouldLinkifyContents(el) {\n    return el.tagName != \"A\";\n}\n\nfunction surroundInElement(el, regex, surrounderCreateFunc, shouldSurroundFunc) {\n    var child = el.lastChild;\n    while (child) {\n        if (child.nodeType == 1 &amp;&amp; shouldSurroundFunc(el)) {\n            surroundInElement(child, regex, surrounderCreateFunc, shouldSurroundFunc);\n        } else if (child.nodeType == 3) {\n            surroundMatchingText(child, regex, surrounderCreateFunc);\n        }\n        child = child.previousSibling;\n    }\n}\n\nfunction surroundMatchingText(textNode, regex, surrounderCreateFunc) {\n    var parent = textNode.parentNode;\n    var result, surroundingNode, matchedTextNode, matchLength, matchedText;\n    while ( textNode &amp;&amp; (result = regex.exec(textNode.data)) ) {\n        matchedTextNode = textNode.splitText(result.index);\n        matchedText = result[0];\n        matchLength = matchedText.length;\n        textNode = (matchedTextNode.length &gt; matchLength) ?\n            matchedTextNode.splitText(matchLength) : null;\n        surroundingNode = surrounderCreateFunc(matchedTextNode.cloneNode(true));\n        parent.insertBefore(surroundingNode, matchedTextNode);\n        parent.removeChild(matchedTextNode);\n    }\n}\n\nfunction updateLinks() {\n    var el = document.getElementById(\"editable\");\n    var savedSelection = rangy.saveSelection();\n    surroundInElement(el, /@\\w+/, createLink, shouldLinkifyContents);\n    rangy.restoreSelection(savedSelection);\n}\n\nvar keyTimer = null, keyDelay = 1000;\n\nfunction keyUpLinkifyHandler() {\n    if (keyTimer) {\n        window.clearTimeout(keyTimer);\n    }\n    keyTimer = window.setTimeout(function() {\n        updateLinks();\n        keyTimer = null;\n    }, keyDelay);\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;p contenteditable=\"true\" id=\"editable\" onkeyup=\"keyUpLinkifyHandler()\"&gt;\n    Some editable content for @someone or other\n&lt;/p&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm working on a jQuery plugin that will allow you to do <code>@username</code> style tags, like Facebook does in their status update input box.</p>\n\n<p>My problem is, that even after hours of researching and experimenting, it seems REALLY hard to simply move the caret. I've managed to inject the <code>&lt;a&gt;</code> tag with someone's name, but placing the caret after it seems like rocket science, specially if it's supposed work in all browsers. </p>\n\n<p>And I haven't even looked into replacing the typed <code>@username</code> text with the tag yet, rather than just injecting it as I'm doing right now... lol</p>\n\n<p>There's a ton of questions about working with contenteditable here on Stack Overflow, and I think I've read all of them, but they don't really cover properly what I need. So any more information anyone can provide would be great :)</p>\n",
            "last_activity_date": 1408208037,
            "question_id": 2798142,
            "score": 9,
            "tags": [
                "javascript",
                "contenteditable",
                "caret"
            ],
            "title": "Tag-like autocompletion and caret/cursor movement in contenteditable elements"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>In order to check Ie11  , you can use this :  ( tested)</p>\n\n<p><code>!(window.ActiveXObject) &amp;&amp; \"ActiveXObject\" in window</code></p>\n\n<p>I have all VMS of IE : </p>\n\n<p><img src=\"http://i.stack.imgur.com/JvkyG.jpg\" alt=\"enter image description here\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/jVpEE.jpg\" alt=\"enter image description here\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/eo4C2.jpg\" alt=\"enter image description here\"></p>\n\n<p><img src=\"http://i.stack.imgur.com/rbubj.jpg\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>To detect MSIE (v6 - v7 - v8 - v9 - v10 - v11) easily :)</p>\n\n<pre><code>if (navigator.userAgent.indexOf('MSIE') !== -1 || navigator.appVersion.indexOf('Trident/') &gt; 0) {\n   // MSIE\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>And how I implemented this </p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  !(window.ActiveXObject) &amp;&amp; \"ActiveXObject\"\n  function isIE11(){\n    return !!navigator.userAgent.match(/Trident.*rv[ :]*11\\./);\n  }\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I use the following function to detect version 9, 10 and 11 of IE:</p>\n\n<pre><code>function ieVersion() {\n    var ua = window.navigator.userAgent;\n    if (ua.indexOf(\"Trident/7.0\") &gt; 0)\n        return 11;\n    else if (ua.indexOf(\"Trident/6.0\") &gt; 0)\n        return 10;\n    else if (ua.indexOf(\"Trident/5.0\") &gt; 0)\n        return 9;\n    else\n        return 0;  // not IE9, 10 or 11\n}  \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I know IE 11 has different user agent string than all other IE</p>\n\n<pre><code> Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv 11.0) like Gecko\n</code></pre>\n\n<p>I have tried to detect IE 11 with answer specified for this question'</p>\n\n<p><a href=\"http://stackoverflow.com/questions/18684099/jquery-fail-to-detect-ie-11\">Jquery fail to detect IE 11</a></p>\n\n<p>Thats <code>!!navigator.userAgent.match(/Trident\\/7\\./)</code></p>\n\n<p>But I am getting error \n<code>Object not found and needs to be re-evaluated.</code></p>\n\n<p>Then I openede developer console in IE11 and tried to access some predefined javascript objects, I am still getting same error.</p>\n\n<p>I have tried</p>\n\n<p><code>navigator.userAgent</code></p>\n\n<p><code>window.navigator</code></p>\n\n<p><code>console.log('test');</code></p>\n\n<p>Anyone have any idea about it ?</p>\n",
            "last_activity_date": 1416599034,
            "question_id": 21825157,
            "score": 8,
            "tags": [
                "javascript",
                "internet-explorer",
                "internet-explorer-11"
            ],
            "title": "Internet Explorer 11 detection"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You need a way to refer your script by. How else do you expect to know which script you want? If you only have one script, you could always do</p>\n\n<pre><code>var myScript = document.getElementsByTagName(\"script\")[0];\n</code></pre>\n\n<p>to get a DOM element of the first script on your page. Or you could use jQuery and loop through your script to do something with each:</p>\n\n<pre><code>$(\"script\").each(function() {\n    alert($(this).html());\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use the attribute selector to get a script with a specific <code>src</code>, then <code>parent('div')</code> to jump to its containing <code>div</code> element.</p>\n\n<pre><code>var parentDiv = $('script[src=\"path/to/script.js\"]').parent('div');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As mentioned in <a href=\"http://stackoverflow.com/a/9210011/938089?what-is-the-current-element-in-javascript\">What is the current element in Javascript?</a>, the current <code>&lt;script&gt;</code> element is also the last <code>&lt;script&gt;</code> element, <strong>at the time of execution</strong>.</p>\n\n<p>The answer also applies to your case, since the load of the external script is not deferred (through the <code>async</code> or <code>defer</code> attribute).</p>\n\n<pre><code>var scriptTag = document.getElementsByTagName('script');\nscriptTag = scriptTag[scriptTag.length - 1];\nvar parentTag = scriptTag.parentNode;\n</code></pre>\n\n<p>Most browsers (even IE6) support <a href=\"https://developer.mozilla.org/en/DOM/document.scripts\"><code>document.scripts</code></a>. Firefox supports this object as of version 9. So, the following code can also be used:</p>\n\n<pre><code>var scriptTag = document.scripts[document.scripts.length - 1];\nvar parentTag = scriptTag.parentNode;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<p>I have a similar problem like posted <a href=\"http://stackoverflow.com/questions/2982598/obtaining-a-reference-do-the-scripts-parent-element\">here</a> but instead of obtain the parent id, how Can I get a reference to the script parent without having to code an id for the script tag? </p>\n\n<p>For example, I have the following code injected to a website:</p>\n\n<pre><code>&lt;div&gt;\n     some other html tags\n     &lt;script src=\"http://path_to_my_script.js\"&gt;&lt;/script&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>What I need is that in my <code>path_to_my_script.js</code> file I can get a reference to the outer <code>div</code>.</p>\n\n<p>There is a catch and is that the code will be copied&amp;pasted in several places in the same webpage, which makes an identifier useless. </p>\n\n<p>There is any chance to do that without to code an id in the entire code?</p>\n\n<p>If the solution is with jQuery the better :D</p>\n\n<p>Thanks in advance.</p>\n",
            "last_activity_date": 1335345946,
            "question_id": 10299846,
            "score": 8,
            "tags": [
                "javascript",
                "jquery",
                "reference"
            ],
            "title": "Obtain a reference to &lt;script&gt; parent element"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Communication between an iframe and parent document is not possible for cross-origin resources. It will only work if the iframe and the containing page are from the same host, port and protocol - e.g. <a href=\"http://example.com:80/1.html\">http://example.com:80/1.html</a> and <a href=\"http://example.com:80/2.html\">http://example.com:80/2.html</a></p>\n\n<p>For cross-origin resources, you can make use of <code>window.postMessage</code> to communicate between the two, but this is only useful if the browser supports this method and if you have control over both resources. There is more detailed information about <code>window.postMessage</code> on the MDC page: <a href=\"https://developer.mozilla.org/en/DOM/window.postMessage\">https://developer.mozilla.org/en/DOM/window.postMessage</a></p>\n\n<p><strong>Edit - assuming both resources are from the same origin</strong></p>\n\n<p>In the iframe, window.parent refers to the global object of the parent document, not the document object itself. I believe you would need to use <code>parent.document.getElementById</code></p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>Assuming that <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\">same origin policy</a> is not a problem, you can use <code>parent.document</code> to access the elements, and manipulate them.</p>\n\n<p><a href=\"http://jsfiddle.net/salman/uVDgN/show/\">Demo here</a>, <a href=\"http://jsfiddle.net/salman/uVDgN/\">source of outer frame here</a>, <a href=\"http://jsfiddle.net/salman/tye5R/\">source of iframe here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<blockquote>\n  <p>Communication between an iframe and parent document is not possible\n  for cross-origin resources</p>\n</blockquote>\n\n<p>that is in so many ways wrong, i dont even WANT to know where to begin. Of course cross-domain requests and algorith-exchanges have a long history, it is both well documented and working now, one might start JSON-request or even simple XMLHttp-Requests via JQuery, for example, you can even load whole .js-files AND inject them into your code - injecting code in remote sources will of course need an appropriate interface; one may achieve such a thing via communication with the responsible persons, just ask them nicely and maybe they'll cooperate if your project makes sense and has its use.</p>\n\n<p>To answer the question : accessing whole documents would raise the need for transferring it beforehand - i would recommend XML for that purpose because the DOM-tree and XML are nearly interchangeable. Load the tree via <a href=\"http://api.jquery.com/jQuery.get/\" rel=\"nofollow\">.get</a> (<a href=\"http://api.jquery.com/jQuery.ajax/\" rel=\"nofollow\">.ajax</a> for remote hosts), <a href=\"http://api.jquery.com/appendTo/\" rel=\"nofollow\">append</a> it to <strong>this</strong> and access it just like you want ... sounds easy and if you got some experience it IS easy. If you ever read \"cross-domain\" and \"not possible\" in the same sentence again you might as well ignore the poster - there are many people out there who dont know what they're talking about ;-)</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I have a file: <strong>1.html</strong> and an <strong>iframe</strong> inside it.<br>\nI want to access an element (lets say myelement) which exists in <strong>1.html</strong> (outside of iframe) from the <strong>iframe</strong>.<br>\nHow can I do that?<br>\nI tried:  </p>\n\n<pre><code>top.getElementById(\"myelement\")\ntop.document.getElementById(\"myelement\")  \nparent.getElementById(\"myelement\")\nparent.document.getElementById(\"myelement\")\n</code></pre>\n\n<p>but it didn't work!!</p>\n",
            "last_activity_date": 1331800959,
            "question_id": 5604839,
            "score": 8,
            "tags": [
                "javascript",
                "iframe"
            ],
            "title": "Accessing an element outside of iframe"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Sure, in the event handler for the scroll event, fire off a setTimeout for 100 or 200 milliseconds later.  Have that setTimeout function you set inside of the scroll event handler do the positioning logic you mention above.  Also have the scroll event handler clear any timeouts set by itself.  This way, the last time the scroll event fires, the setTimeout function will get to complete as the scroll event has not cleared it.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The code: </p>\n\n<pre><code>var scrollTimeout = null;\nvar scrollendDelay = 500; // ms\n\n$(window).scroll(function() {\n    if ( scrollTimeout === null ) {\n        scrollbeginHandler();\n    } else {\n        clearTimeout( scrollTimeout );\n    }\n    scrollTimeout = setTimeout( scrollendHandler, scrollendDelay );\n});\n\nfunction scrollbeginHandler() {\n    // this code executes on \"scrollbegin\"\n    document.body.style.backgroundColor = \"yellow\";\n}\n\nfunction scrollendHandler() {\n    // this code executes on \"scrollend\"\n    document.body.style.backgroundColor = \"gray\";\n    scrollTimeout = null;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>As you are already using jQuery, have a look at <a href=\"http://benalman.com/projects/jquery-dotimeout-plugin/\"><strong>Ben Alman's <em>doTimeout</em> plugin</strong></a> which already handles the <a href=\"http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/\"><em>debouncing</em></a> of methods (which is what you are after).</p>\n\n<p>Example shamelessly stolen from his website:</p>\n\n<pre><code>$(window).scroll(function(){\n   $.doTimeout( 'scroll', 250, function(){\n      // do something computationally expensive\n   });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>This would be a scenario, where vanilla JavaScript would be useful.</p>\n\n<pre><code>var yourFunction = function(){\n  // do something computationally expensive\n}\n\n$(window).scroll(function(){\n  yfTime=setTimeout(\"yourFunction()\",250);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is basically the same as \u0160ime Vidas' answer, but less comlex:</p>\n\n<pre><code>var scrollTimeout = null;\n$(window).scroll(function(){\n    if (scrollTimeout) clearTimeout(scrollTimeout);\n    scrollTimeout = setTimeout(function(){yourFunctionGoesHere()},500);\n});\n</code></pre>\n\n<p>500 is the delay. Should be ok for mouse scroll.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to figure out a way to do this. I have a list of boxes, each about <code>150px</code> high. I am using javascript (and jquery) and want that, after a user scrolls down a page, the page will auto scroll so that the boxes line up with the rest of the page (that is to say, if the user scrolls and the y position of the page is not divisible by 150, it will scroll to that nearest point). </p>\n\n<p>Now, I at the moment, I know I can activate an event using the <code>.scroll()</code> jquery event, and I can make it move to a certain point using <code>.scrollTop()</code>. But every pixel the user moves the scroll bar activates the whole function. So is there a way to delay the function from firing until the user hasn't scrolled, and if they should begin to scroll again, the function will halt?</p>\n",
            "last_activity_date": 1409757742,
            "question_id": 4289473,
            "score": 8,
            "tags": [
                "javascript",
                "jquery",
                "user-interface",
                "scroll"
            ],
            "title": "Javascript: do an action after user is done scrolling"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Fundamentally you want to prevent to major types of attacks</p>\n\n<ul>\n<li>Dictionary attacks</li>\n<li>Brute force attacks</li>\n</ul>\n\n<p>To prevent the first, you want to consider passwords containing common words weak.  To prevent the second, you want to encourage passwords of reasonable length (8+ characters is common) and with a reasonably large character set (include letters, numbers, and special characters).  If you consider lower case and upper case letters to be different, that increases the character set substantially.  However, this creates a usability issue for some user communities so you need to balance that consideration.</p>\n\n<p>A quick google search turned up solutions that account for brute force attacks (complex password) but not for dictionary attacks.  PHP Password Strength Meter from <a href=\"http://www.webresourcesdepot.com/10-password-strength-meter-scripts-for-a-better-registration-interface/\" rel=\"nofollow\">this list of strength checkers</a> runs the check server-side, so it could be extended to check a dictionary.</p>\n\n<p>EDIT:</p>\n\n<p>By the way... you should also limit the number of login attempts per user.  This will make both types of attacks less likely.  Effective but not-user-friendly is to lock an account after X bad attempts and require a password reset.  More user friendly but more effort is to throttle time between login attempts.  You can also require <a href=\"http://www.captcha.net/\" rel=\"nofollow\">CAPTCHA</a> after the first few login attempts (which is something that Stack Overflow requires after too many edits, or for very new users).</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Basically you probably want to use Regular Expressions to validate the length and complexity of the password.</p>\n\n<p>A good example doing this using javascript can be found here:</p>\n\n<p><a href=\"http://marketingtechblog.com/programming/javascript-password-strength/\" rel=\"nofollow\">http://marketingtechblog.com/programming/javascript-password-strength/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This has grown to my general brain dump of best practices for working with passwords in PHP/MySQL.\nThe ideas presented here are generally not my own, but the best of what I've found to date.\n<hr>\nEnsure you are using SSL for all operations involving user information.  All pages that involve these forms should check they are being called via HTTPS, and refuse to work otherwise.</p>\n\n<p>You can eliminate most attacks by simply limiting the number of failed logins allowed.</p>\n\n<p>Allow for relatively weak passwords, but store the number of failed logins per user and require a captcha or password verification by email if you exceed it.  I set my max failures to 5.</p>\n\n<p>Presenting login failures to the user needs to be carefully thought out as to not provide information to attackers.\nA failed login due to a non existent user should return the same message as a failed login due to a bad password.  Providing a different message will allow attackers to determine valid user logins.</p>\n\n<p>Also make sure you return exactly the same message in the event of a failure for too many logins with a valid password, and a failure with too many logins and a bad password.  Providing a different message will allow attackers to determine valid user passwords.  A fair number of users when forced to reset their password will simply put it back to what it was.</p>\n\n<p>Unfortunately limiting the number of logins allowed per IP address is not practical.  Several providers such as AOL and most companies proxy their web requests.  Imposing this limit will effectively eliminate these users.\n<hr>\nI've found checking for dictionary words before submit to be inefficient as either you have to send a dictionary to the client in javascript, or send an ajax request per field change.  I did this for a while and it worked ok, but didn't like the traffic it generated.</p>\n\n<p>Checking for inherently weak passwords minus dictionary words IS practical client side with some simple javascript.</p>\n\n<p>After submit, I check for dictionary words, and username containing password and vice versa server side.  Very good dictionaries are readily downloadable and the testing against them is simple.  One gotcha here is that to test for a dictionary word, you need to send a query against the database, which again contains the password.  The way I got around this was to encrypt my dictionary before hand with a simple encryption and end positioned SALT and then test for the encrypted password.  Not ideal, but better than plain text and only on the wire for people on your physical machines and subnet.</p>\n\n<p>Once you are happy with the password they have picked encrypt it with PHP first, then store.  The following password encryption function is not my idea either, but solves a number of problems.  Encrypting within PHP prevents people on a shared server from intercepting your unencrypted passwords.  Adding something per user that won't change (I use email as this is the username for my sites) and add a hash (SALT is a short constant string I change per site) increases resistance to attacks.  Because the SALT is located within the password, and the password can be any length, it becomes almost impossible to attack this with a rainbow table.\nAlternately it also means that people can't change their email and you can't change the SALT without invalidating everyone's password though.</p>\n\n<p>EDIT:  I would now recommend using <a href=\"http://www.openwall.com/phpass/\">PhPass</a> instead of my roll your own function here, or just forget user logins altogether and use <a href=\"http://www.openidenabled.com/php-openid/\">OpenID</a> instead.</p>\n\n<pre><code>function password_crypt($email,$toHash) {\n  $password = str_split($toHash,(strlen($toHash)/2)+1);\n  return hash('sha256', $email.$password[0].SALT.$password[1]); \n}\n</code></pre>\n\n<p>My Jqueryish client side password meter.  Target should be a div.  It's width will change between 0 and 100 and background color will change based on the classes denoted in the script.  Again mostly stolen from other things I've found:</p>\n\n<pre><code>$.updatePasswordMeter = function(password,username,target) {\n$.updatePasswordMeter._checkRepetition = function(pLen,str) {\nres = \"\"\nfor ( i=0; i&lt;str.length ; i++ ) {\n    repeated=true;\n    for (j=0;j &lt; pLen &amp;&amp; (j+i+pLen) &lt; str.length;j++)\n        repeated=repeated &amp;&amp; (str.charAt(j+i)==str.charAt(j+i+pLen));\n    if (j&lt;pLen) repeated=false;\n    if (repeated) {\n        i+=pLen-1;\n        repeated=false;\n    }\n    else {\n        res+=str.charAt(i);\n    };\n};\nreturn res;\n};\nvar score = 0;\nvar r_class = 'weak-password';\n//password &lt; 4\nif (password.length &lt; 4 || password.toLowerCase()==username.toLowerCase()) { \ntarget.width(score + '%').removeClass(\"weak-password okay-password good-password strong-password\"\n).addClass(r_class);\n  return true;\n} \n//password length\nscore += password.length * 4;\nscore += ( $.updatePasswordMeter._checkRepetition(1,password).length - password.length ) * 1;\nscore += ( $.updatePasswordMeter._checkRepetition(2,password).length - password.length ) * 1;\nscore += ( $.updatePasswordMeter._checkRepetition(3,password).length - password.length ) * 1;\nscore += ( $.updatePasswordMeter._checkRepetition(4,password).length - password.length ) * 1;\n//password has 3 numbers\nif (password.match(/(.*[0-9].*[0-9].*[0-9])/))  score += 5; \n\n//password has 2 symbols\nif (password.match(/(.*[!,@,#,$,%,^,&amp;,*,?,_,~].*[!,@,#,$,%,^,&amp;,*,?,_,~])/)) score += 5; \n\n//password has Upper and Lower chars\nif (password.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/))  score += 10; \n\n//password has number and chars\nif (password.match(/([a-zA-Z])/) &amp;&amp; password.match(/([0-9])/))  score += 15; \n//\n//password has number and symbol\nif (password.match(/([!,@,#,$,%,^,&amp;,*,?,_,~])/) &amp;&amp; password.match(/([0-9])/))  score += 15; \n\n//password has char and symbol\nif (password.match(/([!,@,#,$,%,^,&amp;,*,?,_,~])/) &amp;&amp; password.match(/([a-zA-Z])/))  score += 15; \n\n//password is just a nubers or chars\nif (password.match(/^\\w+$/) || password.match(/^\\d+$/) )  score -= 10; \n\n//verifing 0 &lt; score &lt; 100\nscore = score * 2;\nif ( score &lt; 0 )  score = 0;\nif ( score &gt; 100 )  score = 100;\nif (score &gt; 25 ) r_class = 'okay-password';\nif (score &gt; 50  ) r_class = 'good-password';\nif (score &gt; 75 ) r_class = 'strong-password';\ntarget.width(score + '%').removeClass(\"weak-password okay-password good-password strong-password\"\n).addClass(r_class);\nreturn true;\n};\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>I can't think of a specific algorithm to check the strengh of a password. What we do is we define several criterion and when the password respect a criteria, we add 1 to its score. When the password reach a threshold, the password is strong. Otherwise it is weak. </p>\n\n<p>You can define many different level of strengh if with different throeshold, or you can define different value for a specific criteria. For example, if a password has 5 character, we add 1, but if it got 10, then we add 2.</p>\n\n<p>here is a list of criterion to check for</p>\n\n<p>Length (8 to 12 is ok, more is better)\nContains lowercase letter\nContains uppercase letter\nThe upper case letter is NOT the first one.\nContains number\nContains symbols\nthe last character is NOT a human like symbol (ex : . or !)\nDoes not look like a dictionnary word. Some wise password crack contains library of word and letter substitutes (like Library --> L1br@ry )</p>\n\n<p>Hope that help.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As Daren Schwenke pointed it out, <strong>you'd better work on the security yourself and not put this in the user hands</strong>. </p>\n\n<p>But it's good to provide some hints to the user of how strong his password is, because <strong>the best way to get a password is still social engenering</strong>. </p>\n\n<p>So you can hack a little client side script that checks the user password strenght as a courtesy indicator, in real time. It blocks nothing, but gives him a good warm feeling when it turns green :-)</p>\n\n<p>Basically what you must check is commom sense : check if the password contains letters, numbers and non alphabetical caracters, in a reasonable quantity.</p>\n\n<p>You can hack your own algo very easily : just make 10 / 10 mark :</p>\n\n<ul>\n<li>0 is a zero lenght password;</li>\n<li>+2 for every 8 caracters in the password (15 is supposed to be a safe lenght);</li>\n<li>+1 for the use of a letter, +2 for the use of 2 letters;</li>\n<li>+1 for the use of a number, +2 for the use of 2 numbers;</li>\n<li>+1 for the use of a non alphabetical caracters, +2 for 2.</li>\n</ul>\n\n<p>You don't need to check for godlike passwords (are there capitalized letters, where are positioned the special caracters, etc), your users are not in the bank / military / secret service / monthy python movies industry, are they ?</p>\n\n<p>You can code that in an hour in without crazy javascript skills.</p>\n\n<p>And anyway, valid the password and move all the security code on the server side. If you can delegate authentification (e.g : open ID), even better.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I was looking for an effective algorithm that can give me an accurate idea of how strong a password is.</p>\n\n<p>I found that several different websites use several different algorithms as I get different password strength ratings on different websites.</p>\n",
            "last_activity_date": 1359153474,
            "question_id": 1614811,
            "score": 7,
            "tags": [
                "php",
                "javascript",
                "password-protection"
            ],
            "title": "How do I measure the strength of a password?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You may want to start from <a href=\"http://javascript.internet.com/page-details/copy-selected-text.html\" rel=\"nofollow\">http://javascript.internet.com/page-details/copy-selected-text.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You are in for a bumpy ride, but this is quite possible. The main problem is that IE and W3C expose completely different interfaces to selections so if you want cross browser functionality then you basically have to write the whole thing twice. Also, some basic functionality is missing from both interfaces.</p>\n\n<p>Mozilla developer connection has the story on <a href=\"https://developer.mozilla.org/en/DOM/window.getSelection\">W3C selections</a>. Microsoft have their system <a href=\"http://msdn.microsoft.com/en-us/library/ms535869%28VS.85%29.aspx\">documented on MSDN</a>. I recommend starting at PPK's <a href=\"http://www.quirksmode.org/dom/range%5Fintro.html\">introduction to ranges</a>.</p>\n\n<p>Here are some basic functions that I believe work: </p>\n\n<pre><code>// selection objects will differ between browsers\nfunction getSelection () {\n  return ( msie ) \n    ? document.selection\n    : ( window.getSelection || document.getSelection )();\n}\n\n// range objects will differ between browsers\nfunction getRange () {\n  return ( msie ) \n      ? getSelection().createRange()\n      : getSelection().getRangeAt( 0 )\n}\n\n// abstract getting a parent container from a range\nfunction parentContainer ( range ) {\n  return ( msie )\n      ? range.parentElement()\n      : range.commonAncestorContainer;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>There is a much shorter way if you just want the range.</p>\n\n<pre><code>function getRange(){\n    return (navigator.appName==\"Microsoft Internet Explorer\")\n        ? document.selection.createRange().parentElement()\n        : (getSelection||document.getSelection)().getRangeAt(0).commonAncestorContainer\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>My <a href=\"http://code.google.com/p/rangy\" rel=\"nofollow\">Rangy</a> library will get your part of the way there by unifying the different APIs in IE &lt; 9 and all other major browsers, and by providing a <code>getNodes()</code> function on its Range objects:</p>\n\n<pre><code>function getSelectedNodes() {\n    var selectedNodes = [];\n    var sel = rangy.getSelection();\n    for (var i = 0; i &lt; sel.rangeCount; ++i) {\n        selectedNodes = selectedNodes.concat( sel.getRangeAt(i).getNodes() );\n    }\n    return selectedNodes;\n}\n</code></pre>\n\n<p>Getting the selected text is pretty easy in all browsers. In Rangy it's just</p>\n\n<pre><code>var selectedText = rangy.getSelection().toString();\n</code></pre>\n\n<p>Without Rangy:</p>\n\n<pre><code>function getSelectedText() {\n    var sel, text = \"\";\n    if (window.getSelection) {\n        text = \"\" + window.getSelection();\n    } else if ( (sel = document.selection) &amp;&amp; sel.type == \"Text\") {\n        text = sel.createRange().text;\n    }\n    return text;\n}\n</code></pre>\n\n<p>As for the character offsets, you can do something like this for any node <code>node</code> in the selection. Note this does not necessarily represent the visible text in the document because it takes no account of collapsed spaces, text hidden via CSS, text positioned outside the normal document flow via CSS, line breaks implied by <code>&lt;br&gt;</code> and block elements, plus other subtleties.</p>\n\n<pre><code>var sel = rangy.getSelection();\nvar selRange = sel.getRangeAt(0);\nvar rangePrecedingNode = rangy.createRange();\nrangePrecedingNode.setStart(selRange.startContainer, selRange.startOffset);\nrangePrecedingNode.setEndBefore(node);\nvar startIndex = rangePrecedingNode.toString().length;\nrangePrecedingNode.setEndAfter(node);\nvar endIndex = rangePrecedingNode.toString().length;\nalert(startIndex + \", \" + endIndex);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This returns the selected nodes as I understand it:\nWhen I have</p>\n\n<pre><code>&lt;p&gt; ... &lt;/p&gt;&lt;p&gt; ... &lt;/p&gt;&lt;p&gt; ... &lt;/p&gt;&lt;p&gt; ... &lt;/p&gt;&lt;p&gt; ... &lt;/p&gt;...\n&lt;p&gt; ... &lt;/p&gt;&lt;p&gt; ... &lt;/p&gt;&lt;p&gt; ... &lt;/p&gt;&lt;p&gt; ... &lt;/p&gt;&lt;p&gt; ... &lt;/p&gt;\n</code></pre>\n\n<p>a lot of nodes and I select only a few then I want only these nodes to be in the list.</p>\n\n<pre><code>function getSelectedNodes() {\n  // from https://developer.mozilla.org/en-US/docs/Web/API/Selection\n  var selection = window.getSelection();\n  if (selection.isCollapsed) {\n    return [];\n  };\n  var node1 = selection.anchorNode;\n  var node2 = selection.focusNode;\n  var selectionAncestor = get_common_ancestor(node1, node2);\n  if (selectionAncestor == null) {\n    return [];\n  }\n  return getNodesBetween(selectionAncestor, node1, node2);\n}\n\nfunction get_common_ancestor(a, b)\n{\n    // from http://stackoverflow.com/questions/3960843/how-to-find-the-nearest-common-ancestors-of-two-or-more-nodes\n    $parentsa = $(a).parents();\n    $parentsb = $(b).parents();\n\n    var found = null;\n\n    $parentsa.each(function() {\n        var thisa = this;\n\n        $parentsb.each(function() {\n            if (thisa == this)\n            {\n                found = this;\n                return false;\n            }\n        });\n\n        if (found) return false;\n    });\n\n    return found;\n}\n\nfunction isDescendant(parent, child) {\n     // from http://stackoverflow.com/questions/2234979/how-to-check-in-javascript-if-one-element-is-a-child-of-another\n     var node = child;\n     while (node != null) {\n         if (node == parent) {\n             return true;\n         }\n         node = node.parentNode;\n     }\n     return false;\n}\n\nfunction getNodesBetween(rootNode, node1, node2) {\n  var resultNodes = [];\n  var isBetweenNodes = false;\n  for (var i = 0; i &lt; rootNode.childNodes.length; i+= 1) {\n    if (isDescendant(rootNode.childNodes[i], node1) || isDescendant(rootNode.childNodes[i], node2)) {\n      if (resultNodes.length == 0) {\n        isBetweenNodes = true;\n      } else {\n        isBetweenNodes = false;\n      }\n      resultNodes.push(rootNode.childNodes[i]);\n    } else if (resultNodes.length == 0) {\n    } else if (isBetweenNodes) {\n      resultNodes.push(rootNode.childNodes[i]);\n    } else {\n      return resultNodes;\n    }\n  };\n if (resultNodes.length == 0) {\n    return [rootNode];\n  } else if (isDescendant(resultNodes[resultNodes.length - 1], node1) || isDescendant(resultNodes[resultNodes.length - 1], node2)) {\n    return resultNodes;\n  } else {\n    // same child node for both should never happen\n    return [resultNodes[0]];\n  }\n}\n</code></pre>\n\n<p>The code should be available at: <a href=\"https://github.com/niccokunzmann/spiele-mit-kindern/blob/gh-pages/javascripts/feedback.js\" rel=\"nofollow\">https://github.com/niccokunzmann/spiele-mit-kindern/blob/gh-pages/javascripts/feedback.js</a></p>\n\n<p>I posted this answer here because I would have liked to find it here. </p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>When selecting a block of text (possibly spanning across many DOM nodes), is it possible to extract the selected text and nodes using Javascript?</p>\n\n<p>Imagine this HTML code:</p>\n\n<pre><code>&lt;h1&gt;Hello World&lt;/h1&gt;&lt;p&gt;Hi &lt;b&gt;there!&lt;/b&gt;&lt;/p&gt;\n</code></pre>\n\n<p>If the user initiated a mouseDown event starting at \"World...\" and then a mouseUp even right after \"there!\", I'm hoping it would return:</p>\n\n<pre><code>Text : { selectedText: \"WorldHi there!\" },\nNodes: [ \n  { node: \"h1\", offset: 6, length: 5 }, \n  { node: \"p\", offset: 0, length: 16 }, \n  { node: \"p &gt; b\", offset: 0, length: 6 } \n]\n</code></pre>\n\n<p>I've tried putting the HTML into a textarea but that will only get me the selectedText. I haven't tried the <code>&lt;canvas&gt;</code> element but that may be another option.</p>\n\n<p>If not JavaScript, is there a way this is possible using a Firefox extension? </p>\n",
            "last_activity_date": 1422285015,
            "question_id": 361130,
            "score": 5,
            "tags": [
                "javascript",
                "firefox",
                "xhtml",
                "firefox-addon",
                "selection"
            ],
            "title": "Get selected text and selected nodes on a page?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Put a text input within a div, then check for keypresses (such as the comma or space key), if it matches the key append a new span with the tag details to the div with jQuery.</p>\n\n<p>I can provide more detail or an example if needed but it should be fairly straightforward to code.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Something similar like StackOverflow does:</p>\n\n<p><img src=\"http://i.stack.imgur.com/OPpRe.jpg\" alt=\"enter image description here\"></p>\n\n<ul>\n<li>Allow alphanumeric and <code>+-.#</code>  <sub>(<code>^</code>excludes) (This will also trim whitespaces!)</sub></li>\n<li>Convert to lowercase</li>\n<li>Create automatically the Tag Box on <em>focusOut</em> <kbd>Enter</kbd> <kbd>,</kbd> <sub>(add more if needed, separate keyCode value with <code>|</code>)</sub></li>\n<li>Delete Tag Box with a click</li>\n</ul>\n\n<p><strong><a href=\"http://jsbin.com/iyewas/73/edit\">jsBin demo</a></strong></p>\n\n<p>jQuery:</p>\n\n<pre><code>$(function(){\n\n  $('#tags input').on('focusout',function(){    \n    var txt= this.value.replace(/[^a-zA-Z0-9\\+\\-\\.\\#]/g,'');\n    if(txt) {\n      $(this).before('&lt;span class=\"tag\"&gt;'+ txt.toLowerCase() +'&lt;/span&gt;');\n    }\n    this.value=\"\";\n  }).on('keyup',function( e ){\n    // if: comma,enter (delimit more keyCodes with | pipe)\n    if(/(188|13)/.test(e.which)) $(this).focusout();     \n  });\n\n  $('#tags').on('click','.tag',function(){\n     if(confirm(\"Really delete this tag?\")) $(this).remove(); \n  });\n\n});\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>  &lt;div id=\"tags\"&gt;\n    &lt;span class=\"tag\"&gt;php&lt;/span&gt;\n    &lt;span class=\"tag\"&gt;c#&lt;/span&gt;\n    &lt;span class=\"tag\"&gt;jQuery&lt;/span&gt;\n    &lt;input type=\"text\" value=\"\" placeholder=\"Add a tag\" /&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>#tags{\n  float:left;\n  border:1px solid #ccc;\n  padding:5px;\n  font-family:Arial;\n}\n#tags span.tag{\n  cursor:pointer;\n  display:block;\n  float:left;\n  color:#fff;\n  background:#689;\n  padding:5px;\n  padding-right:25px;\n  margin:4px;\n}\n#tags span.tag:hover{\n  opacity:0.7;\n}\n#tags span.tag:after{\n position:absolute;\n content:\"x\";\n border:1px solid;\n padding:0 4px;\n margin:3px 0 10px 5px;\n font-size:10px;\n}\n#tags input{\n  background:#eee;\n  border:0;\n  margin:4px;\n  padding:7px;\n  width:auto;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>You don't necessarily need to reinvent the wheel here. A number of libraries/plugins for this purpose already exist, one of which is Guillermo Rauch's <a href=\"http://www.devthought.com/projects/mootools/textboxlist/\" rel=\"nofollow\">TextboxList</a>. You can find a demonstration <a href=\"http://www.devthought.com/wp-content/projects/mootools/textboxlist/Demo/\" rel=\"nofollow\">here</a>. It already has autocomplete support and a pretty extensive API, which is what the major hurdles in any implementation of this are going to be.</p>\n\n<p>The original implementation used MooTools, but you can find a jQuery version by golive <a href=\"https://github.com/golive/TextboxList\" rel=\"nofollow\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am working on a web application that allows users to post content by tags but the thing is, how would I make a nice block around a tag if its separated by a <strong>comma</strong> and the text field value would still be the same only the view to the user would differ.</p>\n\n<p>An example would be such as YouTube or StackOverflow, for now I don't need it to check a database or anything.</p>\n\n<p>Thanks! </p>\n",
            "last_activity_date": 1376632289,
            "question_id": 14083272,
            "score": 4,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "How to make a &quot;tags box&quot; using jQuery (with text input field + tags separated by comma)"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Fortunately, this is not possible, for obvious privacy reasons.</p>\n\n<p>The closest that you can do is in the application, have an activity that has an <code>&lt;intent-filter&gt;</code> for some URL structure, and have a link in the mobile Web site to a matching URL. </p>\n\n<p>If the user clicks the link and the app is installed, the activity will be a chooser option for the user. </p>\n\n<p>If the user clicks the link and the app is not installed, or they choose to stick with their Web browser from the chooser, whatever Web page exists at that URL will be displayed (E.g., instructions of how to download the app).</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>The following link contains a workaround to detect if an application is installed on an android device or not. If it is installed, the app is opened. Otherwise, a custom page opens up that may ask the user to install that app first before hitting the url.</p>\n\n<p><a href=\"https://gist.github.com/pulletsforever/2662899\" rel=\"nofollow\">https://gist.github.com/pulletsforever/2662899</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There is a way to achieve this. Found <a href=\"http://stackoverflow.com/questions/6888867/detect-from-browser-if-a-specific-application-is-installed-in-android/12901352#12901352\">this</a> answer</p>\n\n<p>You cannot detect if a particular application is installed, for security and privacy reasons. But you can do a trick to open the app if it's installed or open its Google Play page if it isn't.</p>\n\n<p>To do that, you must create an intent-filter on your app's main activity, to open it when a given URL is called. Like this:</p>\n\n<pre><code>&lt;activity android:name=\".MainActivity &gt;\n    &lt;intent-filter&gt;\n        &lt;data\n            android:host=\"www.myurl.com\"\n            android:pathPrefix=\"/openmyapp\"\n            android:scheme=\"http\" &gt;\n        &lt;/data&gt;\n\n        &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n\n        &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n        &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n        &lt;category android:name=\"android.intent.category.VIEW\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt; \n</code></pre>\n\n<p>Explaining: when the user navigates to <a href=\"http://www.myurl.com/openmyapp\" rel=\"nofollow\">http://www.myurl.com/openmyapp</a>, if the app is installed, an intent will be created and the Activity will be shown.</p>\n\n<p>But what if the user doesn't have the app installed? Then you need to create a redirect page on your <a href=\"http://www.myurl.com/openmyapp/index.html\" rel=\"nofollow\">http://www.myurl.com/openmyapp/index.html</a>. When the user reaches this address, your server must redirect to market://details?id=com.your.app.package.</p>\n\n<p>This way, when no Intent is created after the user navigates to <a href=\"http://www.myurl.com/openmyapp\" rel=\"nofollow\">http://www.myurl.com/openmyapp</a>, the webserver will call another URL. That URL, in turn, will open Google Play on the device, directly on the app's page.</p>\n\n<p>Hope it helps.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a requirement like this and something similar to that has been implemented by Android Pit app-store.</p>\n\n<p>I need to check if the Android app has been installed on the device using a mobile web page (PHP and JS), and if installed launch the app immediately.</p>\n\n<p>These are the intermediate pages used by Android pit. </p>\n\n<p><strong>When app has not been installed</strong> - <a href=\"http://www.androidpit.com/en/android/market/app-center-mobile?pname=com.ocito.laredoute\" rel=\"nofollow\">http://www.androidpit.com/en/android/market/app-center-mobile?pname=com.ocito.laredoute</a></p>\n\n<p><strong>When app has been already installed</strong> - <a href=\"http://www.androidpit.com/en/qrdl/com.mobage.ww.a692.Bahamut_Android\" rel=\"nofollow\">http://www.androidpit.com/en/qrdl/com.mobage.ww.a692.Bahamut_Android</a></p>\n\n<p>Does anyone know how to implement this. Please help</p>\n",
            "last_activity_date": 1417618447,
            "question_id": 12856773,
            "score": 4,
            "tags": [
                "php",
                "javascript",
                "android",
                "jquery"
            ],
            "title": "Detect if Android app has been installed on the device using a mobile web page - PHP and JS"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>By default Chrome extensions do not run in Incognito mode. You have to explicitly enable the extension to run in Incognito.</p>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>This is a known bug with the official Chromecast JavaScript library. Instead of failing silently, it dumps these error messages in all non-Chrome browsers as well as Chrome browsers where the Chromecast extension isn't present.</p>\n\n<p>The Chromecast team have indicated they <a href=\"https://code.google.com/p/google-cast-sdk/issues/detail?id=309\">won't fix this bug</a>.</p>\n\n<p>Update [Nov 13, 2014]: The problem has now been acknowledged by Google. A member of the Chromecast team seems to suggest the issue will be bypassed by a change the team is currently working on.</p>\n\n<p>Update 2 [Feb 17, 2015]: The team claim there's nothing they can do to remove the error logs as it's a standard Chrome network error and they are still working on a long-term fix. Public comments on the bug tracker were closed with that update.</p>\n",
                    "is_accepted": true,
                    "score": 102
                },
                {
                    "body": "<p>If you want to temporarily get rid of these console errors (like I did) you can install the extension here: <a href=\"https://chrome.google.com/webstore/detail/google-cast/boadgeojelhgndaghljhdicfkmllpafd/reviews?hl=en\">https://chrome.google.com/webstore/detail/google-cast/boadgeojelhgndaghljhdicfkmllpafd/reviews?hl=en</a></p>\n\n<p>I left a review asking for a fix. You can also do a bug report via the extension (after you install it) here. Instructions for doing so are here: <a href=\"https://support.google.com/chromecast/answer/3187017?hl=en\">https://support.google.com/chromecast/answer/3187017?hl=en</a> </p>\n\n<p>I hope Google gets on this. I need my console to show my errors, etc. Not theirs. </p>\n",
                    "is_accepted": false,
                    "score": 12
                }
            ],
            "body": "<p>I'm having error running chrome cast sender in Chrome Incognito or if chrome cast extension is not installed. </p>\n\n<pre><code>Failed to load resource: net::ERR_ADDRESS_UNREACHABLE chrome-extension://boadgeojelhgndaghljhdicfkmllpafd/cast_sender.js\nFailed to load resource: net::ERR_ADDRESS_UNREACHABLE chrome-extension://dliochdbjfkdbacpmhlcpmleaejidimm/cast_sender.js\nFailed to load resource: net::ERR_ADDRESS_UNREACHABLE chrome-extension://hfaagokkkhdbgiakmmlclaapfelnkoah/cast_sender.js\nFailed to load resource: net::ERR_ADDRESS_UNREACHABLE chrome-extension://fmfcbgogabcbclcofgocippekhfcmgfj/cast_sender.js\nFailed to load resource: net::ERR_ADDRESS_UNREACHABLE chrome-extension://enhhojjnijigcajfphajepfemndkmdlo/cast_sender.js\nNo cast extension found\n</code></pre>\n\n<p>Google cast sender is trying to send ajax requests for local \"cast_sender.js\". Should this happen or there's a better way to check if chrome-cast sender extension exists (not by requesting ajax request)?</p>\n\n<p>I believe these ajax requests are a way of asking if chrome cast extension exists. I there a better way to check if chrome cast extension exists?</p>\n",
            "last_activity_date": 1424196952,
            "question_id": 24490323,
            "score": 56,
            "tags": [
                "javascript",
                "google-chrome-extension",
                "chromecast"
            ],
            "title": "Google chrome cast sender error if chrome cast extension is not installed or using incognito"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>JSLint tests one particular person's (Douglas Crockford) opinions regarding what makes good JavaScript code. Crockford is very good, but some of his opinions are anal retentive at best, like the underscore rule, or the use of the increment/decrement operators.</p>\n\n<p>Many of the issues being tagged by JSLint in the above output are issues that Crockford feels leads to difficult to maintain code, or they are things that he feels has led him to doing 'clever' things in the past that can be hard to maintain.</p>\n\n<p>There are some things Crockford identifies as errors that I agree with though, like the missing semicolons thing. Dropping semicolons forces the browser to guess where to insert the end-of-statement token, and that can sometimes be dangerous (it's always slower). And several of those errors are related to JSLint not expecting or supporting multiple assignments like jQuery does on line 24.</p>\n\n<p>If you've got a question about a JSLint error, e-mail Crockford, he's really good about replying, and with his reply, you'll at least know why JSLint was implemented that way.</p>\n\n<p>Oh, and just because a library is popular doesn't mean it's code is any good. JQuery is popular because it's a relatively fast, easy to use library. That it's well implemented is rather inconsequential to it's popularity among many. However, you should certainly be reading more code, we all should.</p>\n\n<p>JSLint can be very helpful in identifying problems with the code, even if JQuery doesn't pass the standards it desires.</p>\n",
                    "is_accepted": true,
                    "score": 102
                },
                {
                    "body": "<p>JSLint helps you catch problems, it isn't a test of validity or a replacement for thinking. jQuery is pretty advanced as js goes, which makes such a result understandable. I mean the first couple of lines are speed hacks, no wonder the most rigid js parser is going have a couple of errors.</p>\n\n<p>In any case, the assumption that popular code is perfectly correct code or even 'good' is flawed. JQuery code is good, and you can learn a lot of from reading it. You should still run your stuff through JSLint, if only because it's good to hear another opinion on what you've written. </p>\n\n<p>From JSLint's description:</p>\n\n<blockquote>\n  <p>JSLint takes a JavaScript source and scans it. If it finds a problem, it returns a message describing the problem and an approximate location within the source. The problem is not necessarily a syntax error, although it often is. JSLint looks at some style conventions as well as structural problems. It does not prove that your program is correct. It just provides another set of eyes to help spot problems.</p>\n  \n  <p>JSLint defines a professional subset of JavaScript, a stricter language than that defined by Edition 3 of the ECMAScript Language Specification. The subset is related to recommendations found in Code Conventions for the JavaScript Programming Language.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>If you're not actively developing jQuery itself, why even run JSLint over it at all? If it works, it works, and you don't have to worry about it.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The jQuery developers' goals are not the same as your goals.  jQuery is built for speed and compactness and achieving those goals trumps readability and maintainability.  </p>\n\n<p>Crockford's  tests in JSLint have more to do with achieving something that he would feel comfortable taking home to meet his mother, which is a valid concern if you will be married to your code for some time.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The purpose of JsLint is clearly stated in the FAQ [1]:</p>\n\n<p>\"JSLint defines a professional subset of JavaScript, a stricter language than that defined by Edition 3 of the ECMAScript Language Specification. The subset is related to recommendations found in Code Conventions for the JavaScript Programming Language.\" </p>\n\n<p>Now if you are confused: ECMA3 is already a subset of the JS capabilities provided by any of todays JS interpreters (see [2] for an overview of the relation between JavasScript and ECMAScript versions)</p>\n\n<p>To answer the quesition \"what good is JSlint\":\n * use JsLint to verify you are using a \"safe\" subset of Javascript that is unlikly to break accross JS implementations.\n * use Jslint to verify you followed the crockford code conventions [4]</p>\n\n<ul>\n<li>[1] <a href=\"http://www.jslint.com/lint.html\" rel=\"nofollow\">http://www.jslint.com/lint.html</a></li>\n<li>[2] https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/JavaScript_Overview#Relationship_between_JavaScript_Versions_and_ECMAScript_Editions</li>\n<li>[3] https://developer.mozilla.org/en/New_in_JavaScript_1.7#Avoiding_temporary_variables</li>\n<li>[4] <a href=\"http://javascript.crockford.com/code.html\" rel=\"nofollow\">http://javascript.crockford.com/code.html</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>\"jQuery is very popular so it must have a certain degree of good coding.\"</p>\n\n<p>One would like to hope this is the case with jQuery, but unfortunately it's not really true. jQuery is useful and popular, but it is not a well written JavaScript library. David Mark recently posted a scathing critique of jQuery in comp.lang.javascript that examines a large number of examples of the poor code found in jQuery:</p>\n\n<p><a href=\"http://groups.google.com/group/comp.lang.javascript/msg/37cb11852d7ca75c?hl=en&amp;\">http://groups.google.com/group/comp.lang.javascript/msg/37cb11852d7ca75c?hl=en&amp;</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I've found one case where JSLint is very, very useful: when you grab one of those big-arse libraries that float around the 'Net, then another, then again one other, you soon find yourself loading 50k of Javascript on every new page load (caching may help, but it's not a cure-all solution).</p>\n\n<p>What would you do then? Compress those libraries. But your host doesn't do compression for non-html file! So what? You use a Javascript compressor.</p>\n\n<p>The best I've found is Dean Edward's; I used it to compress John Fraser's Showdown (a Markdown for Javascript library), but unfortunately, the compression broke the code. Since Showdown isn't supported anymore, I had to correct it myself - and JSlint was invaluable for that.</p>\n\n<p>In short, JSlint is useful to prepare your JS code for heavy duty compression.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you like to daisy-chain methods like jQuery allows you, you might appreciate YUI3.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>JQuery is of course not the best thing in the world. That's already clear when you look at the notation. The dollar parentheses combination is really bad for your eyes. Programming should be clear and simple. JQuery is far from that. That reason is enough for me not to use it. That it's not properly written doesn't surprise me and only underscores my thoughts on this JavaScript library.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>So I have been exploring different methods to clean up and test my JavaScript. I figured just like any other language one way to get better is to read good code. jQuery is very popular so it must have a certain degree of good coding. </p>\n\n<p>So why when I run jQuery through JSLint's validation it gives me this message:</p>\n\n<blockquote>\n  <p>Error:</p>\n  \n  <p>Problem at line 18 character 5:\n  Expected an identifier and instead saw\n  'undefined' (a reserved word).</p>\n  \n  <p>undefined,</p>\n  \n  <p>Problem at line 24 character 27:\n  Missing semicolon.</p>\n  \n  <p>jQuery = window.jQuery = window.$ =\n  function( selector, context ) {</p>\n  \n  <p>Problem at line 24 character 28:\n  Expected an identifier and instead saw\n  '='.</p>\n  \n  <p>jQuery = window.jQuery = window.$ =\n  function( selector, context ) {</p>\n  \n  <p>Problem at line 24 character 28:\n  <strong><em>Stopping, unable to continue. (0%\n  scanned)</em></strong>.</p>\n</blockquote>\n\n<p>This was done using <a href=\"http://jslint.com/\">JSLint</a> and <a href=\"http://jqueryjs.googlecode.com/files/jquery-1.3.1.js\">jquery-1.3.1.js</a></p>\n",
            "last_activity_date": 1294700873,
            "question_id": 505251,
            "score": 36,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "What good is JSLint if jQuery fails the validation"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Yes, it ensures that <code>_gaq</code> is defined, so that <code>_gaq.push()</code> never fails.</p>\n\n<p>I would not mess with the name of the variables in GA's code... do you have any reason to? Does it conflict with any of your variables? (Then I would change mine...)</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>This means that if _gaq is already defined it use that else it declares an empty array. With push you can override settings. If the _gaq object wasnt defined the 2 \"lines\" after that would result in an error.</p>\n\n<p>Yes the _gaq object is expect in the script which you include in the code there (ga.js).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Yes, it does exactly what you think it does :)\nIt is a shorthand for</p>\n\n<pre><code>if(!_gaq){ var _gaq = [] }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Using <code>||</code> in assignment is a common programming trick which takes advantage of the evaluation direction of the operator, which is left to right. That means that it evaluates the left side first. Then, and <strong>only if that is false</strong> (or a false equivalent), does it evaluate the right side.</p>\n\n<p>You can also take advantage of the <code>||</code> or <code>&amp;&amp;</code> operators in a simple if statement, so that</p>\n\n<pre><code>if (a &gt; 5) {\n  do_a();\n}\n\nif (!some_boolean) {\n  do_b();\n}\n</code></pre>\n\n<p>become</p>\n\n<pre><code>a &gt; 5 &amp;&amp; do_a();\nsome_boolean || do_b(); // Note that the negation operator `!` is gone!\n</code></pre>\n\n<p>which are both way nicer to look at.</p>\n\n<p>The reason languages allow this, is because it is a waste of time evaluating the right side if the left side will make the entire line fail anyways. So it just ignores it unless it's needed.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>This line is there to allow multiple GA snippets in the same page. It ensures that the second snippet doesn't overwrite a _gaq defined by the first.</p>\n\n<p>GA asynchronous tracking works by first defining _gaq as an array. This array acts like a queue, which allows you to push (append) configuration and tracking \"commands\" (like _trackPageview) onto the end of the queue. Your commands are stored in this array until ga.js fully downloads.</p>\n\n<p>When ga.js is ready, it executes all the commands in the _gaq array and replaces _gaq with an object. This object also has a push method, but instead of queueing up commands, it executes them immediately, because ga.js is available to process them.</p>\n\n<p>This mechanism allows you to make configuration and tracking commands without knowing if the browser has finished downloading ga.js. This is needed because the async snippet downloads ga.js without blocking other code on the page from running. Things would get hairy if that other code (your configuration commands) needed to know the state of ga.js being downloaded.</p>\n\n<p>All of this absolutely <strong>does</strong> depend on the use of the name _gaq. You shouldn't try to name it if you want asynchronous tracking to work.</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>EDIT:</p>\n\n<p>i will add more detail</p>\n\n<p>_gaq is simply a javascript array, as first defined. you add events to it, such as event tracking callbacks</p>\n\n<p>when the ga.js script is loaded, however, google takes this array and turns it into an object, that ga uses.</p>\n\n<p>this is why you push functions into the _gaq array, then call the ga.js script after you;re done constructing the array. </p>\n\n<p>gaq is google analytics queue. it's a stack for GA methods, like event tracking, page attribution, etc. you use the push() method to put GA stuff on there. reduces event interference, everyone should do this, or at least learn the concept.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Sorry to answer late, but I read the accepted answer and I think that it misses the most important thing. So I'll try to explain what I understood :</p>\n\n<p>First, it has been explained but the answer needs to be complete so I explain it too, the code begin with:</p>\n\n<pre><code>var _gaq = _gaq || [];\n</code></pre>\n\n<p>It ensures that _gaq is defined. If it is not defined, it is initialized to an empty array.</p>\n\n<p>Think it like the equivalent:</p>\n\n<pre><code>var _gaq;\n/* ... */\nif(!_gaq)\n  _gaq = [];\n</code></pre>\n\n<p>The javascript value <code>undefined</code> is \"falsish\"/\"falsy\", ie it evaluates to false when converted to a boolean, so _gaq is initialized with <code>[]</code>  in this case.</p>\n\n<p>What's important to note is that :</p>\n\n<ul>\n<li>if _gaq contains an array at this stage, _gaq is \"trueish\", so it will keep it's value (and not be emptied)</li>\n<li>if _gaq contains another type of object at this stage, _gaq can also keep its value</li>\n</ul>\n\n<p>Well, I re-explained, as well as I can, something already explained. Most people experienced with javascript had already understood it. <strong>However, the interesting part is not only the start!</strong></p>\n\n<pre><code>_gaq.push(['command', 'argument']); // is very interesting too\n</code></pre>\n\n<p>If _gaq is an array, you will all guess that the item <code>['command', 'argument']</code> is appended to the array. Google analytics store this in its queue for further processing. The array _gaq is used as a queue.</p>\n\n<p>But the really interesting part is that<code>_gaq.push(/*...*/)</code> can be done without having an array named _gaq. It is just a method call, and non arrays can also have a \"<code>push</code>\" method.</p>\n\n<p>It \"opens new possibilities\". Here is a summary of one:</p>\n\n<ul>\n<li>As long as the external javascript file is not asynchronously loaded, _gaq is an array used as a queue.</li>\n<li>The external ga.js then process the queue.</li>\n<li>ga.js then replaces _gaq by an object which provides a push method.</li>\n<li>Once _gaq is replaced by an object, the <code>_gaq.push(/*...*/)</code> commands don't need to be deferred anymore, they can be executed.</li>\n</ul>\n\n<p>For those who missed the asynchronous script loading part, it is:</p>\n\n<pre><code>(function() { \n  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; \n  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; \n  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); \n})();\n</code></pre>\n\n<p>Using temporarily an array as a queue and the push method is great code. It is a very interesting way to cope with the fact that when <code>_gaq.push(/*...*/)</code> is executed, we don't always now if the dependency has been asynchronously loaded yet or not.</p>\n\n<p>Another related interesting way of managing this kind of problems is the <a href=\"http://stackoverflow.com/questions/22716542/google-analytics-code-explanation\">new Google Analytics \"isogram\" snippet</a>: <code>ga(/*...*/)</code> looks even more intuitive for calls that <code>_gaq.push(/*...*/)</code>, but it still copes with the joys related to loading dependencies in an asynchronous way.</p>\n\n<blockquote>\n  <p>Can anybody explain what this is for?</p>\n</blockquote>\n\n<p>I hope my answer above has done it. What I wanted to share here is that the first line is done in a particular way to fit with the whole thing: initialization that never harms if done twice, smart use of push method...</p>\n\n<blockquote>\n  <p>does Google Analytics rely on a global object named _gaq?</p>\n</blockquote>\n\n<p>Yes it does, when using this ga.js snippet.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The Async Tracking code in Google Analytics looks like this: </p>\n\n<pre><code>var _gaq = _gaq || []; \n_gaq.push(['_setAccount', 'UA-XXXXX-X']); \n_gaq.push(['_trackPageview']); \n\n(function() { \n  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; \n  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; \n  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); \n})(); \n</code></pre>\n\n<p>About The first line:</p>\n\n<pre><code>var _gaq = _gaq || []; \n</code></pre>\n\n<p>I think it ensures that if <code>_gaq</code> is already defined we should use it otherwise we should an array. </p>\n\n<p>Can anybody explain what this is for?</p>\n\n<p>Also, does it matter if <code>_gaq</code> gets renamed? In other words, does Google Analytics rely on a global object named <code>_gaq</code>?</p>\n",
            "last_activity_date": 1418173423,
            "question_id": 2538252,
            "score": 35,
            "tags": [
                "javascript",
                "google-analytics"
            ],
            "title": "What is &quot;var _gaq = _gaq || []; &quot; for?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>As far as the exclamation mark goes, that is not magic.\nIt converts the result to a true/false.</p>\n\n<p>Your problem may be that your anonymous function has an error inside it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The second form <code>function () {}</code> is a <em>statement</em>. The <code>!</code> operator converts this into an <em>expression</em>. You will also find cases where people use <code>-</code> or <code>+</code> before the <code>function</code> keyword.</p>\n\n<p>When you have an expression evaluating to a function, you can call that function by using the <code>()</code> operator.</p>\n\n<p>Another (perhaps easier to understand) way to achieve the save same effect is with another set of parenthesis:</p>\n\n<pre><code>( function(x) { body; } )(arg);\n</code></pre>\n\n<p>By placing the function inside the parenthesis, you again convert it to an expression, which evaluates to a function. This function is called with <code>arg</code> as an argument.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You'll have to wrap the function in a parenthesis.</p>\n\n<pre><code>(function ( $ ) { ... }) ( window.jQuery )\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>When the keyword <code>function</code> is met in a statement position (as the first token in a statement), the function declaration is expressed as a <em>function statement</em>. Function statements are hoisted to the top of the scope, cannot be immediately invoked and must have a name.</p>\n\n<p>When the keyword is met in an expression position (i.e. not as the first token in a statement, in your example <code>!</code> is the first token), the function declaration is expressed as a <em>function expression</em>, which may be anonymous and returns the value of the newly created function. Since it returns the value of the newly created function, you may immediately invoke it by adding parenthesis after it.</p>\n\n<p>Wrapping the declaration inside parenthesis does the same but is more common than prefixing it with a <code>!</code> or <code>+</code>:</p>\n\n<pre><code>(function () {\n    ...\n}());\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 48
                },
                {
                    "body": "<p>this sounds like a javascript syntax bug: </p>\n\n<p>a named function could be a statement however, an anonymous function just consider it as an expression.</p>\n\n<p>Pro:\nyou can do <code>function() { ... }()</code></p>\n\n<p>Con:\nyou cannot do <code>function() { ... }</code></p>\n\n<p>But why people would want to define a anonymous function without invoking it? So the con is not really a concern.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I was reading JS sources from Twitter &mdash; on my way to improve my JS knowledge base, when I came across the strange way of calling anonymous function:</p>\n\n<pre><code>!function( $ ) {\n    ...\n}( window.jQuery );\n</code></pre>\n\n<p>... and this works! :)</p>\n\n<p>It's obvious to everyone, that this:</p>\n\n<pre><code>function ( $ ) { ... } ( window.jQuery )\n</code></pre>\n\n<p>does not work (Syntax error), while this one is correct:</p>\n\n<pre><code>(function ( $ ) { .... })( window.jQuery )\n</code></pre>\n\n<p>Can anyone please explain this magic (why case with <code>!function</code> works)?</p>\n",
            "last_activity_date": 1349912283,
            "question_id": 9091289,
            "score": 33,
            "tags": [
                "javascript",
                "anonymous-function"
            ],
            "title": "Javascript anonymous function call"
        }
    ]
}
