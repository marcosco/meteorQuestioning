{
    "items": [
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<pre><code>$('#textarea').blur()\n</code></pre>\n\n<p>Documentation at: <a href=\"http://api.jquery.com/blur/\">http://api.jquery.com/blur/</a></p>\n",
                    "is_accepted": true,
                    "score": 188
                },
                {
                    "body": "<p>Guess you are looking for .focusout()</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>So you can do this</p>\n\n<pre><code>$('#textarea').attr('enable',false)\n</code></pre>\n\n<p>try it and give feedback</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Based on your question, I believe the answer is how to <em>trigger a blur</em>, not just (or even) set the event:</p>\n\n<pre><code> $('#textArea').trigger('blur');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>How can I unfocus a textarea or input? I couldn't find a <code>$('#my-textarea').unfocus();</code> method?</p>\n",
            "last_activity_date": 1369797406,
            "question_id": 857245,
            "score": 99,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Is there a jQuery unfocus method?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<pre><code>new_row.className = \"aClassName\";\n</code></pre>\n\n<p>EDIT: Heres more info on that property:  <a href=\"http://www.w3schools.com/jsref/prop_html_classname.asp\">className</a></p>\n",
                    "is_accepted": true,
                    "score": 101
                }
            ],
            "body": "<p>How to add class for the ('div');</p>\n\n<pre><code>var new_row = document.createElement( 'div' );\n</code></pre>\n",
            "last_activity_date": 1329181390,
            "question_id": 1115310,
            "score": 55,
            "tags": [
                "javascript"
            ],
            "title": "Javascript - How to add div class to createElement"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>In JavaScript, <code>null</code> means something very different than <code>undefined</code>.</p>\n\n<p>Your JSON output should reflect what is used and needed by your application in the specific context of using the JSON data.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>You should definitely include it  if there is any need to distinguish between <code>null</code> and <code>undefined</code> since those have two different meanings in Javascript. You can think of <code>null</code> as meaning the property is unknown or meaningless, and <code>undefined</code> as meaning the property doesn't exist.</p>\n\n<p>On the other hand, if there is no need for anyone to make that distinction then go ahead and leave it out.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>The second will save a small amount on bandwidth, but if that were a concern you would also use indexed arrays instead of filling the JSON with keys. Clearly, <code>[\"Foo Bar\",\"Joe Blow\"]</code> is much shorter than what you have now.</p>\n\n<p>In terms of usability, I don't think it makes any difference. In both cases, <code>if(json.isbn)</code> will skip to the <code>else</code>. There is usually no need to distinguish between <code>null</code> (no value) and <code>undefined</code> (no given value).</p>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>I am a fan of always including null explicitly as that carries meaning.\nWhile omitting a property leaves ambiguity.</p>\n\n<p>As long as your protocol with the server is agreed upon any of the above can work, but if you pass nulls from the server I believe that makes your APIs more flexible later.</p>\n\n<p>Should also mention that javascript's hasOwnProperty function gives you further insight.</p>\n\n<pre><code>/* if true object DOES contain the property with *some* value */\nif( objectFromJSON.hasOwnProperty( \"propertyName\" ) )\n\n/* if true object DOES contain the property and it has been set to null */\nif( jsonObject.propertyName == null )\n\n/* if true object either DOES NOT contain the property\n   OR\n   object DOES contain the property and it has been set to undefined */\nif( jsonObject.propertyName == undefined )\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 32
                }
            ],
            "body": "<p>I'm creating an API that returns results as JSON. Is there a current best practice for whether we should include keys in the result when the value is null?  For example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    \"title\":\"Foo Bar\",\n    \"author\":\"Joe Blow\",\n    \"isbn\":null\n}\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    \"title\":\"Foo Bar\",\n    \"author\":\"Joe Blow\"\n}\n</code></pre>\n\n<p>Since the second is smaller I am leaning towards this style, but I'm not sure if there is a preferred style or not. From a client perspective it seems like both styles would be functionally equivalent. Any pros or cons to each?</p>\n",
            "last_activity_date": 1377212838,
            "question_id": 11003424,
            "score": 40,
            "tags": [
                "javascript",
                "json",
                "null",
                "undefined"
            ],
            "title": "Should JSON include null values"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>If you use relative paths ( and the content is on the same domain) then the content should use whichever protocol the page was requested in.</p>\n\n<p>However if you are going across domain to a CDN or resource site, or if you need to use absolute paths, then you will need to use server side script to change the links, or always use https://</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use protocol-relative paths.</p>\n\n<p>Thus not</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"http://example.com/style.css\"&gt;\n&lt;script src=\"http://example.com/script.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>but so</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"//example.com/style.css\"&gt;\n&lt;script src=\"//example.com/script.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>then it will use the protocol of the parent page.</p>\n",
                    "is_accepted": true,
                    "score": 54
                },
                {
                    "body": "<p>nute &amp; James Westgate are right when comenting on the later answer.</p>\n\n<p>If we take a look at miscelanous industry-grade external javascript includes, the successfull ones use both document.location.protocol sniffing and script element injection tu use the proper protocol.</p>\n\n<p>So you could use something like :</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  var protocol = (\n      (\"https:\" == document.location.protocol) \n      ? \"https\" \n      : \"http\"\n  );\n  document.write(\n      unescape(\n          \"%3Cscript\"\n              + \" src='\"\n                  + protocol \n                  + \"://\"\n                  + \"your.domain.tld\"\n                  + \"/your/script.js\"\n              + \"'\"\n              + \" type='text/javascript'\n          + \"%3E\"\n          + \"%3C/script%3E\"\n      ) // this HAS to be escaped, otherwise it would \n        // close the actual (not injected) &lt;script&gt; element\n  );\n&lt;/script&gt;\n</code></pre>\n\n<p>The same can be done for external CSS includes.</p>\n\n<p>And by the way: be careful to only use relative url() path in your CSS, if any, otherwise you might still get the \"mixed secure and unsecure\" warning....</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In contradiction to the escaped response (which will also work) you could skip that part and use the correct way to add nodes to your dom tree:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" language=\"javascript\"&gt;\n    var fileref=document.createElement('script');\n    fileref.setAttribute(\"type\",\"text/javascript\");\n    fileref.setAttribute(\"src\", document.location.protocol + '//www.mydomain.com/script.js');\n    document.getElementsByTagName(\"head\")[0].appendChild(fileref);\n&lt;/script&gt;\n</code></pre>\n\n<p>But the protocol-relative path would be the way to go.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am adding an external CSS file and an external JS file to my headers and footers.\nWhen loading an HTTPS page, some browsers complain that I am loading unsecured content.</p>\n\n<p>Is there an easy way to make the browser load the external content via HTTPS when the page itself is HTTPS?</p>\n",
            "last_activity_date": 1362046881,
            "question_id": 2725523,
            "score": 40,
            "tags": [
                "javascript",
                "html",
                "css",
                "https"
            ],
            "title": "How to Include CSS and JS files via HTTPS when needed?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>I cannot find any interface to access the real live value.</p>\n</blockquote>\n\n<p>If you can't get the value from <code>window.getComputedStyle</code>, it seems that it would be impossible.</p>\n\n<p>More importantly, while it can do it, I think this might be abusing CSS since you're breaking the barrier between content and presentation at this point. </p>\n\n<p>Check out this related question <a href=\"http://stackoverflow.com/questions/2435513/what-are-good-uses-of-css-content-property\">What are good uses of css \u201cContent\u201d property?</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>I cannot find any interface to access the real live value. [of the counter]</p>\n</blockquote>\n\n<p>Yeah. I don't think there is one. Sorry.</p>\n\n<p>The only thing I can think of would be to go through every element (including its <code>:before</code>/<code>:after</code> pseudo-elements) before the element in the document, looking for counters and adding up how many there are.</p>\n\n<p>Obviously that's hideous. If you're going to try to reproduce the browser's own <code>counter</code> mechanism it would probably be easier (and much more compatible, given IE&lt;=7's lack of counter/content support) to just replace it with your own script-based counters. eg. something along the lines of:</p>\n\n<pre><code>&lt;a href=\"#prettypicture\"&gt;this&lt;/a&gt;\n\n&lt;div class=\"counter level=0\"&gt;...&lt;/div&gt;\n&lt;img id=\"prettypicture\" class=\"counter level=1\" alt=\"ooo, pretty\"/&gt;\n</code></pre>\n\n\n\n<pre><code>window.onload= function() {\n    var counters= Node_getElementsByClassName(document.body, 'counter');\n    var indices= [];\n    for (var counteri= 0; counteri&lt;counters.length; counteri++) {\n        var counter= counters[counteri];\n\n        var level= Element_getClassArgument(counter, 'level');\n        while (indices.length&lt;=level)\n            indices.push(0);\n        indices[level]++;\n        indices= indices.slice(level+1);\n        var text= document.createTextNode('Figure '+indices.join('.'));\n        counter.parentNode.insertBefore(text, counter.nextSibling);\n\n        if (counter.id!=='') {\n            for (var linki= document.links.length; linki--&gt;0;) {\n                var link= document.links[i];\n                if (\n                    link.hostname===location.hostname &amp;&amp; link.pathname===location.pathname &amp;&amp;\n                    link.search===location.search &amp;&amp; link.hash==='#'+counter.id\n                ) {\n                    var text= document.createTextNode('('+indices.join('.')+')');\n                    link.parentNode.insertBefore(text, link.nextSibling);\n                }\n            }\n        }\n    }\n};\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>I would port your css to Javascript, this enables you to get the figure caption and also you get greater browser coverage. Using jQuery you'd do something like this:</p>\n\n<pre><code>$(function() {\n  var section = 0;\n  $(\".section\").each(function() {\n    section++;\n    var figure = 0;\n    $(this).find(\"img.figure\").each(function() {\n      figure++;\n      var s = \"Fig. \" + section + \".\" + figure;\n      $(this).attr({alt:s}).after(s);\n    });\n  });\n});\n</code></pre>\n\n<p>Then you could do:</p>\n\n<pre><code>&lt;div class=\"section\"&gt;blabla &lt;img id=\"foo\" src=\"http://www.example.com/foo.jpg\"&gt;&lt;/div&gt;\n&lt;p&gt;Lorem ipsum dolor sit amet &lt;a href=\"#foo\" class=\"figurereference\"&gt;see here&lt;/a&gt;&lt;/p&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n  $(function() {\n    $(\"a.figurereference\").each(function() {\n      var selector = $(this).attr(\"href\");\n      var $img = $(selector);\n      var s = $(this).text() + \" (\" + $img.attr(\"alt\") + \")\";\n      $(this).text(s);\n    });\n  });\n&lt;/script&gt;\n</code></pre>\n\n<p>Though I agree that doing this using CSS would be very neat.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>read this:</p>\n\n<blockquote>\n  <ul>\n  <li><a href=\"http://www.w3.org/TR/CSS2/generate.html#propdef-content\">http://www.w3.org/TR/CSS2/generate.html#propdef-content</a></li>\n  </ul>\n  \n  <p>Generated content does not alter the\n  document tree. In particular, it is\n  not fed back to the document language\n  processor (e.g., for reparsing).</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <ul>\n  <li><a href=\"https://developer.mozilla.org/en/CSS/Getting_Started/Content\">https://developer.mozilla.org/en/CSS/Getting_Started/Content</a></li>\n  </ul>\n  \n  <p>Content specified in a stylesheet does not become part of the DOM.</p>\n</blockquote>\n\n<p>so for this reason the <a href=\"http://www.quirksmode.org/dom/getstyles.html\">getComputedStyle</a> <strong>will never work in this case</strong>; i think the only way, is to perform a classic <strong>loop through</strong>  as someone has described below!</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I'm not sure how it's implemented, but jquery .css() selector appears to work for this on the latest version of safari, chrome and firefox.</p>\n\n<pre><code>.foo { content: 'hello'; }\n</code></pre>\n\n<p>...</p>\n\n<pre><code>var value = $('.foo').css('content').toString();\n</code></pre>\n\n<p>Here's a pen of it live in action to inject SVG icons directly from the css; <a href=\"http://codepen.io/shadowmint/pen/unvLB\" rel=\"nofollow\">http://codepen.io/shadowmint/pen/unvLB</a></p>\n\n<p>(notice that the content value must be escaped; ie. '1'; using content: 1 won't work)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I generate the numbering of my headers and figures with CSS's <code>counter</code> and <code>content</code> properties:</p>\n\n<pre><code>img.figure:after {\n  counter-increment: figure;\n  content: \"Fig. \" counter(section) \".\" counter(figure);\n}\n</code></pre>\n\n<p>This (appropriate browser assumed) gives a nice labelling \"Fig. 1.1\", \"Fig. 1.2\" and so on following any image.</p>\n\n<p><em>Question:</em> How can I access this from Javascript? The question is twofold in that I'd like to access <em>either</em> the current value of a certain counter (at a certain DOM node) <em>or</em> the value of the CSS generated content (at a certain DOM node) <em>or</em>, obviously, both information.</p>\n\n<p><em>Background:</em> I'd like to append to links back-referencing to figures the appropriate number, like this:</p>\n\n<pre><code>&lt;a href=\"#fig1\"&gt;see here&lt;/h&gt;\n------------------------^ \" (Fig 1.1)\" inserted via JS\n</code></pre>\n\n<p>As far as I can see, it boils down to this problem:\nI <em>could</em> access <code>content</code> or <code>counter-increment</code> via <code>getComputedStyle</code>:</p>\n\n<pre><code>var fig_content = window.getComputedStyle(\n                    document.getElementById('fig-a'),\n                    ':after').content;\n</code></pre>\n\n<p>However, this is not the <em>live</em> value, but the one declared in the stylesheet. I cannot find any interface to access the <em>real</em> live value. In the case of the counter, there isn't even a real CSS property to query.</p>\n\n<p><strong>Edit:</strong> Digging deeper and deeper through the DOM specs, I found <a href=\"http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-Counter\">the DOM Level 2 Style Counter interface</a>. This seems to a) allow access to the current counter value and b) be implemented in Firefox, at least. However, I have no idea on how to use it. My current approach died tragically after this Firebug output:</p>\n\n<pre><code>// should return a DOM 2 Counter interface implementation...\nwindow.getComputedStyle(fig_a_element, ':after')\n      .getPropertyCSSValue(\"counter-increment\")[0]\n      .getCounterValue();\n\n[Exception... \"Modifications are not allowed for this document\" code: \"7\"\n nsresult: \"0x80530007 (NS_ERROR_DOM_NO_MODIFICATION_ALLOWED_ERR)\"\n location: \"http://localhost/countertest.html Line: 71\"]\n</code></pre>\n\n<p>Any idea, how this could be brought to life would be highly appreciated.</p>\n\n<p><strong>Edit 2:</strong> Apparently I misinterpreted the Counter object of DOM Level 2 Style. It, too, has no property to return the current counter value. This makes the above approach invalid.</p>\n\n<p>New approach: Is there a possibility to read the content of a pseudo-element via the DOM? That is, can I select the pseudo-element (<code>treeWalker</code> comes to mind) and then get its <code>nodeValue</code>? (If you start to type <em>'jQuery'</em> now, please reconsider to change that term into <em>'Sizzle'</em>...)</p>\n",
            "last_activity_date": 1407288748,
            "question_id": 2651739,
            "score": 39,
            "tags": [
                "javascript",
                "css",
                "dom",
                "counter"
            ],
            "title": "How to access CSS generated content with JavaScript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Yes, you can apply CSS to SVG, but you need to match the element, just as when styling HTML.  If you just want to apply it to all SVG paths, you could use, for example:</p>\n\n<pre><code>\u200bpath {\n    fill: blue;\n}\u200b\n</code></pre>\n\n<p>External CSS appears to override the path's <code>fill</code> attribute, at least in WebKit and Gecko-based browsers I tested.  Of course, if you write, say, <code>&lt;path style=\"fill: green\"&gt;</code> then that will override external CSS as well.</p>\n",
                    "is_accepted": false,
                    "score": 57
                },
                {
                    "body": "<p>if you want to change color by hovering in the element, try this:</p>\n\n<pre><code>path:hover{\n  fill:red;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                }
            ],
            "body": "<p>I have the following code:</p>\n\n<pre><code>  &lt;span&gt;\n     &lt;svg height=\"32\" version=\"1.1\" width=\"32\" xmlns=\"http://www.w3.org/2000/svg\" style=\"overflow: hidden; position: relative; left: -0.0166626px; top: -0.983337px;\"&gt;\n        &lt;desc&gt;&lt;/desc&gt;\n        &lt;defs/&gt;\n        &lt;path style=\"\" fill=\"#333333\" stroke=\"none\" d=\"M15.985,5.972C8.422,5.972,2.289999999999999,10.049,2.289999999999999,15.078C2.289999999999999,17.955,4.302999999999999...............1,27.68,22.274Z\"/&gt;\n      &lt;/svg&gt;&amp;nbsp;\n  &lt;/span&gt;\n</code></pre>\n\n<p>Is it possible to change the fill color of the SVG path with CSS or some other means without actually changing it inside the path tag?</p>\n",
            "last_activity_date": 1422042328,
            "question_id": 9529300,
            "score": 37,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "svg"
            ],
            "title": "Can I change the fill color of an svg path with CSS?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Javascript doesn't have it, as you point out.</p>\n\n<p>A quick search came up with:</p>\n\n<pre><code>function strcmp ( str1, str2 ) {\n    // http://kevin.vanzonneveld.net\n    // +   original by: Waldo Malqui Silva\n    // +      input by: Steve Hilder\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // +    revised by: gorthaur\n    // *     example 1: strcmp( 'waldo', 'owald' );\n    // *     returns 1: 1\n    // *     example 2: strcmp( 'owald', 'waldo' );\n    // *     returns 2: -1\n\n    return ( ( str1 == str2 ) ? 0 : ( ( str1 &gt; str2 ) ? 1 : -1 ) );\n}\n</code></pre>\n\n<p>from <a href=\"http://kevin.vanzonneveld.net/techblog/article/javascript_equivalent_for_phps_strcmp/\">http://kevin.vanzonneveld.net/techblog/article/javascript_equivalent_for_phps_strcmp/</a></p>\n\n<p>Of course, you could just add localeCompare if needed:</p>\n\n<pre><code>if (typeof(String.prototype.localeCompare) === 'undefined') {\n    String.prototype.localeCompare = function(str, locale, options) {\n        return ((this == str) ? 0 : ((this &gt; str) ? 1 : -1));\n    };\n}\n</code></pre>\n\n<p>And use <code>str1.localeCompare(str2)</code> everywhere, without having to worry wether the local browser has shipped with it. The only problem is that you would have to add support for <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare#Example%3a_Checking_for_support_for_locales_and_options_arguments\"><code>locales</code> and <code>options</code></a> if you care about that.</p>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<p>how about</p>\n\n<pre><code>str1.localeCompare(str2)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 47
                },
                {
                    "body": "<p>How about:</p>\n\n<pre><code>String.prototype.strcmp = function(s) {\n    if (this &lt; s) return -1;\n    if (this &gt; s) return 1;\n    return 0;\n}\n</code></pre>\n\n<p>Then, to compare s1 with 2:</p>\n\n<pre><code>s1.strcmp(s2)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/q/14677060/1397061\"><code>localeCompare()</code> is slow</a>, so if you don't care about the \"correct\" ordering of non-English-character strings, try your original method or the cleaner-looking:</p>\n\n<pre><code>str1 &lt; str2 ? -1 : str1 &gt; str2\n</code></pre>\n\n<p>This is an order of magnitude faster than <code>localeCompare()</code> on my machine.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Try this more compact and easy to undestand statement</p>\n\n<pre><code>   (a&gt;b)-(a&lt;b)\n</code></pre>\n\n<p>It is approx. 50% slower than</p>\n\n<pre><code>(a&lt;b)?-1:((a&gt;b)?1:0)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Can anyone verify this for me? JavaScript does not have a version of strcmp(), so you have to write out something like:</p>\n\n<pre><code> ( str1 &lt; str2 ) ? \n            -1 : \n             ( str1 &gt; str2 ? 1 : 0 );\n</code></pre>\n\n<p>As this question is really just me complaining, I wouldn't normally waste your time with it, but I wasted 30 minutes looking for such a function (who wants people pointing at your code and laughing \"This doof re-implemented strcmp!\"), so I thought it might be nice for there to be a page on the Web (like stackoverflow) explicitly states so.</p>\n",
            "last_activity_date": 1416994819,
            "question_id": 1179366,
            "score": 37,
            "tags": [
                "javascript",
                "string",
                "strcmp"
            ],
            "title": "Is there a JavaScript strcmp()?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You need to double escape any RegExp characters (once for the slash in the string and once for the regexp):</p>\n\n<pre><code>  \"$TESTONE $TESTONE\".replace( new RegExp(\"\\\\$TESTONE\",\"gm\"),\"foo\")\n</code></pre>\n\n<p>Otherwise, it looks for the end of the line and 'TESTONE' (which it never finds).</p>\n\n<p>Personally, I'm not a big fan of building regexp's using strings for this reason.  The level of escaping that's needed could lead you to drink.  I'm sure others feel differently though and like drinking when writing regexes.</p>\n",
                    "is_accepted": true,
                    "score": 55
                },
                {
                    "body": "<p>Your regex pattern should have the g modifier:</p>\n\n<pre><code>var pattern = /[somepattern]+/g;\n</code></pre>\n\n<p>notice the g at the end. it tells the replacer to do a global replace.</p>\n\n<p>Also you dont need to use the RegExp object you can construct your pattern as above. Example pattern:</p>\n\n<pre><code>var pattern = /[0-9a-zA-Z]+/g;\n</code></pre>\n\n<p>a pattern is always surrounded by / on either side - with modifiers after the final /, the g modifier being the global.</p>\n\n<p><strong>EDIT:</strong> Why does it matter if pattern is a variable? In your case it would function like this (notice that pattern is still a variable):</p>\n\n<pre><code>var pattern = /[0-9a-zA-Z]+/g;\nrepeater.replace(pattern, \"1234abc\");\n</code></pre>\n\n<p>But you would need to change your replace function to this:</p>\n\n<pre><code>this.markup = this.markup.replace(pattern, value);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>In terms of pattern interpretation, there's no difference between the following forms:</p>\n\n<ul>\n<li><code>/pattern/</code></li>\n<li><code>new RegExp(\"pattern\")</code></li>\n</ul>\n\n<p>If you want to replace a literal string using the <code>replace</code> method, I think you can just pass a string instead of a regexp to <code>replace</code>.</p>\n\n<p>Otherwise, you'd have to escape any regexp special characters in the pattern first - maybe like so:</p>\n\n<pre><code>function reEscape(s) {\n    return s.replace(/([.*+?^$|(){}\\[\\]])/mg, \"\\\\$1\");\n}\n\n// ...\n\nvar re = new RegExp(reEscape(pattern), \"mg\");\nthis.markup = this.markup.replace(re, value);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 32
                }
            ],
            "body": "<p>Given this function:</p>\n\n<pre><code>function Repeater(template) {\n\n    var repeater = {\n\n        markup: template,\n\n        replace: function(pattern, value) {\n            this.markup = this.markup.replace(pattern, value);\n        }\n\n    };\n\n    return repeater;\n\n};\n</code></pre>\n\n<p>How do I make <code>this.markup.replace()</code> replace globally? Here's the problem. If I use it like this:</p>\n\n<pre><code>alert(new Repeater(\"$TEST_ONE $TEST_ONE\").replace(\"$TEST_ONE\", \"foobar\").markup);\n</code></pre>\n\n<p>The alert's value is \"foobar $TEST_ONE\".</p>\n\n<p>If I change <code>Repeater</code> to the following, then nothing in replaced in Chrome:</p>\n\n<pre><code>function Repeater(template) {\n\n    var repeater = {\n\n        markup: template,\n\n        replace: function(pattern, value) {\n            this.markup = this.markup.replace(new RegExp(pattern, \"gm\"), value);\n        }\n\n    };\n\n    return repeater;\n\n};\n</code></pre>\n\n<p>...and the alert is <code>$TEST_ONE $TEST_ONE</code>.</p>\n",
            "last_activity_date": 1372607939,
            "question_id": 1162529,
            "score": 37,
            "tags": [
                "javascript",
                "regex",
                "replace"
            ],
            "title": "JavaScript replace/regex"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>No, I cannot think of a reason against using singletons with require.js.</p>\n\n<p>Your module definition should export the singleton. The way you do it is fine, since it's a singleton you might be also able to avoid the <code>new</code>. I use something like</p>\n\n<pre><code>define(function (require) {\n    var singleton = function () {\n        return {\n            ...\n        };\n    };\n    return singleton();\n});\n</code></pre>\n\n<p>The first <code>require</code> to the module will load and export it. Some other module requiring your singleton will just reuse the already exported one.</p>\n",
                    "is_accepted": true,
                    "score": 29
                }
            ],
            "body": "<p>I plan to use the following pattern to make use of the requireJS based module to act as a singleton. Please notice that <strong>classA</strong> returns an instance of type 'classA', whereas the rest of the classes <strong>classB, classC, and main</strong> return the type of the class from the module. All of these are classes based on the MooTools Class.</p>\n\n<p>The idea is to use the <strong>classA</strong> as a globally available singleton, the methods are just fillers. Any thoughts if this is an acceptable pattern to use?</p>\n\n<p>Will this come back to bite me at a later stage? I haven't tried to run r.js on the project yet, so I am a bit worried, and look for some advise.</p>\n\n<pre><code>    // classA.js\n    define([], function() {\n        var classA = new Class({\n\n            initialize: function (regionId) {\n                // perform some Initialization.\n                this.data = null;\n            },\n\n            doSomething: function(param) {\n                // some thing.\n                this.data = param;\n            }\n        };\n\n        return new classA();\n    });\n\n    // classB.js\n    define([\"classA\"], function(classA) {\n        var classB = new Class({\n\n            initialize: function (regionId) {\n                // perform some Initialization.\n            },\n\n            doSomethingElse: function() {\n                // some thing.\n                classA.doSomething(\"Go back to Work Now!\");\n            }\n        };\n\n        return classB;\n    });\n\n\n    // classC.js\n    define([\"classA\"], function(classA) {\n        var classB = new Class({\n\n            initialize: function (regionId) {\n                // perform some Initialization.\n            },\n\n            doSomethingElse: function() {\n                // some thing.\n                classA.doSomething(\"Time to Play!\");\n            }\n        };\n\n        return classC;\n    });\n\n\n    // main.js\n    define([\"classA\", \"classB\", \"classC\"], function(classA, classB, classC) {\n        var main = new Class({\n\n            initialize: function (regionId) {\n                // perform some Initialization.\n                this.b = new classB();\n                this.c = new classC();\n            },\n\n            doEverything: function() {\n                // some thing.\n                this.b.doSomethingElse();\n                classA.doSomething(\"Nap Time!\");\n            }\n        };\n\n        return main;\n    });\n</code></pre>\n\n<p>Thanks much in advance...</p>\n",
            "last_activity_date": 1425329629,
            "question_id": 9733201,
            "score": 35,
            "tags": [
                "javascript",
                "requirejs"
            ],
            "title": "Is it a bad practice to use the requireJS module as a singleton?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>The answer here is very simple:</p>\n\n<p>You're already containing it in double quotes, so there's no need to escape it with <code>\\</code>.</p>\n\n<p>If you want to escape single quotes in a single quote string:</p>\n\n<pre><code>var string = 'this isn\\'t a double quoted string';\nvar string = \"this isn\\\"t a single quoted string\";\n//           ^         ^ same types, hence we need to escape it with a backslash\n</code></pre>\n\n<p>or if you want to escape <code>\\'</code>, you can escape the bashslash to <code>\\\\</code> and the quote to <code>\\'</code> like so:</p>\n\n<pre><code>var string = 'this isn\\\\\\'t a double quoted string';\n//                    vvvv\n//                     \\ ' (the escaped characters)\n</code></pre>\n\n<p>However, if you contain the string with a different quote type, you don't need to escape:</p>\n\n<pre><code>var string = 'this isn\"t a double quoted string';\nvar string = \"this isn't a single quoted string\";\n//           ^        ^ different types, hence we don't need escaping\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 39
                },
                {
                    "body": "<p>You can escape a <code>'</code> in JavaScript like <code>\\'</code></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>You should always consider what the browser will see by the end. In this case, it will see this:</p>\n\n<pre><code>&lt;img src='something' onmouseover='change(' ex1')' /&gt;\n</code></pre>\n\n<p>In other words, the \"onmouseover\" attribute is just <code>change(</code>, and there's another \"attribute\" called <code>ex1')'</code> with no value.</p>\n\n<p>The truth is, HTML does not use <code>\\</code> for an escape character. But it does recognise <code>&amp;quot;</code> and <code>&amp;apos;</code> as escaped quote and apostrophe, respectively.</p>\n\n<p>Armed with this knowledge, use this:</p>\n\n<pre><code>document.getElementById(\"something\").innerHTML = \"&lt;img src='something' onmouseover='change(&amp;quot;ex1&amp;quot;)' /&gt;\";\n</code></pre>\n\n<p>... That being said, you could just use JavaScript quotes:</p>\n\n<pre><code>document.getElementById(\"something\").innerHTML = \"&lt;img src='something' onmouseover='change(\\\"ex1\\\")' /&gt;\";\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 38
                },
                {
                    "body": "<p>Since the values are actually inside of an HTML attribute, you should use <code>&amp;apos;</code></p>\n\n<pre><code>\"&lt;img src='something' onmouseover='change(&amp;apos;ex1&amp;apos;)' /&gt;\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>    document.getElementById(\"something\").innerHTML = \"&lt;img src=\\\"something\\\" onmouseover=\\\"change('ex1')\\\" /&gt;\";\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>    document.getElementById(\"something\").innerHTML = '&lt;img src=\"something\" onmouseover=\"change(\\'ex1\\')\" /&gt;';\n</code></pre>\n\n<p>It should be work..</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Okay, I am basically doing this</p>\n\n<pre><code>document.getElementById(\"something\").innerHTML = \"&lt;img src='something' onmouseover='change(\\'ex1\\')' /&gt;\";\n</code></pre>\n\n<p>I don't want double quotes (\") where I put the \\' I only want a single quote so I am trying to not make it put a double when it is used. I am trying to reach this in the final outcome.</p>\n\n<pre><code>&lt;img src=\"something\" onmouseover=\"change('ex1')\" /&gt;\n</code></pre>\n\n<p>escaping isn't working for me.</p>\n",
            "last_activity_date": 1397054544,
            "question_id": 16134910,
            "score": 34,
            "tags": [
                "javascript",
                "html",
                "escaping"
            ],
            "title": "How to escape a single quote ( &#39; ) in javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>There are two options:</p>\n\n<p>First option is to create directive that will render several tags and replace source tag (<a href=\"http://jsfiddle.net/vittore/LzRwj/\" rel=\"nofollow\">jsfiddle</a>)</p>\n\n<pre><code>&lt;div multi &gt;&lt;/div&gt;\n\nangular.module('components').directive('multi', function ($compile) {\nreturn {\n    restrict: 'A',\n    scope : {\n       first : '=',\n       last : '=',\n    },        \n    terminal:true,\n\n    link: function (scope, element, attrs) {\n       var tmpl = '', arr = [0,1,2,3]\n\n       // this is instead of your repeater\n       for (var i in arr) {\n          tmpl +='&lt;div&gt;another div&lt;/div&gt;'\n       }\n\n       var newElement = angular.element(tmpl);\n       $compile(newElement)(scope);\n       element.replaceWith(newElement); \n    }\n})\n</code></pre>\n\n<p>Second option is to use updated source code of angular that enables comment style ngRepeat directive (<a href=\"http://plnkr.co/edit/pBskLN?p=preview\" rel=\"nofollow\">plnkr</a>)</p>\n\n<pre><code>&lt;body ng-controller=\"MainCtrl\"&gt;\n &lt;div ng-init=\"arr=[0,1,2]\" &gt;&lt;/div&gt;\n   &lt;!-- directive: ng-repeat i in arr --&gt;\n     &lt;div&gt;{{i}}&lt;/div&gt;\n     &lt;div&gt;{{ 'foo' }}&lt;/div&gt;  \n   &lt;!-- /ng-repeat --&gt;\n\n   {{ arr }}\n\n  &lt;div ng-click=\"arr.push(arr.length)\"&gt;add&lt;/div&gt;\n&lt;/body&gt;  \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>We now have a proper support for this, please see: </p>\n\n<p><a href=\"https://github.com/angular/angular.js/commit/e46100f7097d9a8f174bdb9e15d4c6098395c3f2\">https://github.com/angular/angular.js/commit/e46100f7097d9a8f174bdb9e15d4c6098395c3f2</a></p>\n\n<p>with this change you can now do:</p>\n\n<pre><code>&lt;table&gt;\n  &lt;tr ng-repeat-start=\"item in list\"&gt;\n      &lt;td&gt;I get repeated&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr ng-repeat-end&gt;\n      &lt;td&gt;I also get repeated&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 64
                },
                {
                    "body": "<p>To answer Andre's question above on more than 2 levels of ng-repeat in a table, you can use multiple ng-repeat-start to accomplish this.</p>\n\n<pre><code>&lt;tr ng-repeat-start=\"items in list\"&gt;\n   &lt;td&gt;{{items.title}}&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr ng-repeat-start=\"item in items\"&gt;\n   &lt;td&gt;{{item.subtitle}}&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr ng-repeat-end ng-repeat=\"value in item.values\"&gt;\n   &lt;td&gt;{{value.col1}}&lt;/td&gt;\n   &lt;td&gt;{{value.col2}}&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr ng-repeat-end&gt;&lt;/tr&gt;\n</code></pre>\n\n<p>Here is a <a href=\"http://plnkr.co/edit/HNRAdQnXfhvY2fm4pxGH?p=preview\" rel=\"nofollow\">plunker</a> example </p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>This question has been partly addressed here: <a href=\"http://stackoverflow.com/questions/12979205/angular-js-ng-repeat-across-multiple-trs?answertab=active\">Angular.js ng-repeat across multiple trs</a></p>\n\n<p>However that is just a work-around really, it doesn't actually address the core issue, which is: how can one use ng-repeat across multiple elements without a wrapper?</p>\n\n<p>For example, jquery.accordion requires you to repeat an h3 and div element, how could one do this with ng-repeat?</p>\n",
            "last_activity_date": 1400254528,
            "question_id": 16900050,
            "score": 33,
            "tags": [
                "javascript",
                "jquery",
                "angularjs",
                "angularjs-ng-repeat"
            ],
            "title": "Angular.js ng-repeat across multiple elements"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>When you remove the <code>div</code>, that removes the display panel and the map will disappear. To remove the map instance, just make sure that your reference to the map is set to <code>null</code> and that any references to other parts of the map are set to <code>null</code>. At that point, JavaScript garbage collection will take care of cleaning up, as described in: <a href=\"http://stackoverflow.com/q/4324133/1314132\">javascript garbage collection</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I guess you're talking about <code>addEventListener</code>. When you remove the DOM elements, some browsers leak these events and doesn't remove them. This is why jQuery does several things when removing an element:</p>\n\n<ul>\n<li>It removes the events when it can using <code>removeEventListener</code>. That means it's keeping an array with the event listeners it added on this element.</li>\n<li>It deletes the attributes about events (<code>onclick</code>, <code>onblur</code>, etc) using <code>delete</code> on the DOM element when <code>addEventListener</code> is not available (still, it has an array where it stores the events added).</li>\n<li>It sets the element to <code>null</code> to avoid IE 6/7/8 memory leaks.</li>\n<li>It then removes the element.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I would have suggested removing the content of the map div and using <code>delete</code> on the variable holding the reference to the map, and probably explicitly <code>delete</code>ing any event listeners.</p>\n\n<p>There is <a href=\"http://code.google.com/p/gmaps-api-issues/issues/detail?id=3803\" rel=\"nofollow\">an acknowledged bug</a>, though, and this may not work.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I'm adding a second answer on this question, because I don't want to remove the back and forth we had via follow-up comments on my previous answer.</p>\n\n<p>But I recently came across some information that directly addresses your question and so I wanted to share. I don't know if you are aware of this, but during the <a href=\"https://www.youtube.com/watch?v=rUYs765QX-8&amp;feature=plcp\">Google Maps API Office Hours May 9 2012 Video</a>, Chris Broadfoot and Luke Mahe from Google discussed <em>this very question</em> from stackoverflow. If you set the video playback to 12:50, that is the section where they discuss your question.</p>\n\n<p>Essentially, they admit that it is a bug, but also add that they don't really support use cases that involve creating/destroying successive map instances. They strongly recommend creating a single instance of the map and reusing it in any scenario of this kind. They also talk about setting the map to null, and explicitly removing event listeners. You expressed concerns about the event listeners, I thought just setting the map to null would suffice, but it looks like your concerns are valid, because they mention event listeners specifically. They also recommended completely removing the DIV that holds the map as well.</p>\n\n<p>At any rate, just wanted to pass this along and make sure it is included in the stackoverflow discussion and hope it helps you and others-</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>As google doesnt provide gunload() for api v3 better use iframe in html and assign map.html as a source to this iframe. after use make src as null. That will definitely free the memory consumed by map.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Since apparently you cannot really destroy map instances, a way to reduce this problem if </p>\n\n<ul>\n<li>you need to show several maps at once on a website</li>\n<li>the number of maps may change with user interaction</li>\n<li>the maps need to be hidden and re-shown together with other components (ie they do not appear in a fixed position in the DOM)</li>\n</ul>\n\n<p>is keeping a pool of map instances.\nThe pool keeps tracks of instances being used, and when it is requested a new instance, it checks if any of the available map instances is free: if it is, it will return an existing one, if it is not, it will create a new map instance and return it, adding it to the pool. This way you will only have a maximum number of instances equal to the maximum number of maps you ever show simultaneously on screen.\nI'm using this code (it requires jQuery):</p>\n\n<pre><code>var mapInstancesPool = {\n pool: [],\n used: 0,\n getInstance: function(options){\n    if(mapInstancesPool.used &gt;= mapInstancesPool.pool.length){\n        mapInstancesPool.used++;\n        mapInstancesPool.pool.push (mapInstancesPool.createNewInstance(options));\n    } else { \n        mapInstancesPool.used++;\n    }\n    return mapInstancesPool.pool[mapInstancesPool.used-1];\n },\n reset: function(){\n    mapInstancesPool.used = 0;\n },\n createNewInstance: function(options){\n    var div = $(\"&lt;div&gt;&lt;/div&gt;\").addClass(\"myDivClassHereForStyling\");\n    var map =   new google.maps.Map(div[0], options);\n    return {\n        map: map,\n        div: div\n    }\n }\n}\n</code></pre>\n\n<p>You pass it the starting map options (as per the second argument of google.maps.Map's constructor), and it returns both the map instance (on which you can call functions pertaining to google.maps.Map), and the container , which you can style using the class \"myDivClassHereForStyling\", and you can dinamically append to the DOM.\nIf you need to reset the system, you can use mapInstancesPool.reset(). It will reset the counter to 0, while keeping all existing instances in the pool for reuse.\nIn my application I needed to remove all maps at once and create a new set of maps, so there's no function to recycle a specific map instance: your mileage may vary.\nTo remove the maps from the screen, I use jQuery's detach, which doesn't destroy the map's container .</p>\n\n<p>By using this system, and using</p>\n\n<pre><code>google.maps.event.clearInstanceListeners(window);\ngoogle.maps.event.clearInstanceListeners(document);\n</code></pre>\n\n<p>and running</p>\n\n<pre><code>google.maps.event.clearInstanceListeners(divReference[0]);\ndivReference.detach()\n</code></pre>\n\n<p>(where divReference is the div's jQuery object returned from the Instance Pool)\non every div I'm removing, I managed to keep Chrome's memory usage more or less stable, as opposed to it increasing every time I delete maps and add new ones.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The <a href=\"https://code.google.com/p/gmaps-api-issues/issues/detail?id=3803#c32\" rel=\"nofollow\">official answer</a> is you don't. Map instances in a single page application should be reused and not destroyed then recreated.</p>\n\n<p>For some single page applications, this may mean re-architecting the solution such that once a map is created it may be hidden or disconnected from the DOM, but it is never destroyed/recreated.</p>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I recently developed an html5 mobile application. The application was a single page where navigation hash change events replaced the entire DOM. One section of the application was a Google Map using API v3. Before the map div is removed from the DOM, I want to remove any event handlers/listeners and free up as much memory as possible as the user may not return to that section again.</p>\n\n<p>What is the best way to destroy a map instance?</p>\n",
            "last_activity_date": 1422892950,
            "question_id": 10485582,
            "score": 30,
            "tags": [
                "javascript",
                "google-maps-api-3"
            ],
            "title": "What is the Proper Way to Destroy a Map Instance?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I thought this would be solved by using an ember addon and postprocess hook, i published an addon, </p>\n\n<p>To install run: <code>npm install ember-cli-compass --save-dev</code> inside your project.</p>\n\n<p>Configure in your <code>Brocfile.js</code>.</p>\n\n<pre><code>/* global require, module */\n\nvar EmberApp = require('ember-cli/lib/broccoli/ember-app');\n\nvar app = new EmberApp({\n    compass: {\n        outputStyle: 'expanded',\n        relativeAssets: false,\n        sassDir: 'assets',\n        imagesDir: 'images',\n        cssDir: 'assets'\n    }\n});\n\nmodule.exports = app.toTree();\n</code></pre>\n\n<p>This seems to do what you want but i am not sure. Also i needed to change <code>public/images</code> to just <code>images</code>, because <code>public/images</code> folder copies into <code>dist/images</code>. Maybe that's the issue and you don't need an addon.</p>\n\n<p>I hope this fixs your problem.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p><em>Update</em> - 20140614:</p>\n\n<p>After not getting any answers to this question, or on github,\nI decided to come up with my own solution to the problem.\nI was using compass for a number of things,\nbut its main utility was in its ability to generated image sprites.\nMost other things could be accomplished using pure SCSS.</p>\n\n<p>Thus, I wrote <a href=\"https://github.com/bguiz/broccoli-sprite\">broccoli-sprite</a>.\nThis, used in conjunction with ember-cli's built in support for SCSS\nusing <a href=\"https://github.com/joliss/broccoli-sass\">broccoli-sass</a>,\nwas able to meet my needs.</p>\n\n<p><a href=\"https://github.com/bguiz/broccoli-sprite\"><img src=\"https://nodei.co/npm/broccoli-sprite.png?compact=true\" alt=\"NPM\"></a></p>\n\n<p>You can <a href=\"http://blog.bguiz.com/post/88719320815/broccoli-sprite-released\">read more about the process here</a>.</p>\n\n<p>Now I am thus no longer interested in integrating compass into my ember-cli app.\nAs my solution does not directly answer the question (as it does not use compass),\nI consider this question <strong>to be unanswered</strong>.\nSince this question might yet benefit others in the community who wish to do so,\nI am leaving this open, and will still honour the bounty!</p>\n\n<p><em>Update</em> - 20140620:</p>\n\n<p>Bounty has expired.</p>\n\n<hr>\n\n<p><em>Original question</em>:</p>\n\n<p>In an <a href=\"https://github.com/stefanpenner/ember-cli\">ember-cli</a> app,\nusing <a href=\"https://github.com/g13013/broccoli-compass\">broccoli-compass</a>,\nhow can it be configured such that the generated CSS references image file paths correctly, including generated image file paths?</p>\n\n<p>Using compass, the following SCSS:</p>\n\n<pre><code>@import\"icon/*.png\";\n@include all-icon-sprites;\n</code></pre>\n\n<p>&hellip; will generate a single <code>.png</code> file with all of the images in the <code>icon</code> folder, and CSS for displaying each.</p>\n\n<p>I would like to be able to do the same via compass within ember-cli,\nwhich uses <a href=\"https://github.com/broccolijs/broccoli\">broccoli</a> \nto build its asset pipeline.</p>\n\n<ul>\n<li>Must work within ember-cli - that is, it must be built when ember serve or ember build is run </li>\n<li>Must use compass to generate image sprites from a folder of images </li>\n<li>The images generated should be copied to the assets folder </li>\n<li>The generated CSS should point to images located in the assets folder, not to a temporary tree folder</li>\n</ul>\n\n<hr>\n\n<h3>What I have attempted so far:</h3>\n\n<p><strong>#1</strong></p>\n\n<pre><code>app.styles = function() {\n  var tree = this.appAndDependencies();\n  return compileCompass(tree, {\n    outputStyle: 'expanded',\n    relativeAssets: false,\n    sassDir: this.name+'/styles',\n    imagesDir: 'public/images',\n    // imagesDir: this.name+'/styles/images',\n    cssDir: '/assets',\n  });\n};\n</code></pre>\n\n<p>When I do this, the <code>compass</code> command fails because it cannot locate the image files within the tree.</p>\n\n<p><strong>#2</strong></p>\n\n<pre><code>app.styles = function() {\n  var tree = this.appAndDependencies();\n  return compileCompass(tree, {\n    outputStyle: 'expanded',\n    relativeAssets: false,\n    sassDir: this.name+'/styles',\n    // imagesDir: 'public/images',\n    imagesDir: this.name+'/styles/images',\n    cssDir: '/assets',\n  });\n};\n</code></pre>\n\n<p>Just to try things out, I copy the image files into the styles directory.\nThis time the compass command succeeds, but,\nthe generated CSS references image files that do not exist.\nThe generated images do not appear to get copied into the assets folder as expected (\nor anywhere else for that matter):</p>\n\n<pre><code>$tree tmp/output\ntmp/output/\n\u251c\u2500\u2500 assets\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.css\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 app.js\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 qunit.css\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 qunit.js\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 vendor.css\n\u251c\u2500\u2500 images\n\u251c\u2500\u2500 index.html\n\u251c\u2500\u2500 testem.js\n\u2514\u2500\u2500 tests\n    \u2514\u2500\u2500 index.html\n\n3 directories, 8 files\n</code></pre>\n\n<hr>\n\n<p><em>Details</em>:</p>\n\n<p>SCSS that I would like to be able to compile (for sprite generation):</p>\n\n<pre><code>@import\"compass/utilities/sprites\";\n$icon-layout: smart;\n$icon-sprite-dimensions: true;\n@import\"icon/*.png\";\n@include all-icon-sprites;\n@import\"compass/css3/images\";\n</code></pre>\n\n<hr>\n",
            "last_activity_date": 1405856590,
            "question_id": 24074351,
            "score": 28,
            "tags": [
                "javascript",
                "css",
                "ember.js",
                "compass-sass",
                "broccolijs"
            ],
            "title": "How to generate image sprites in ember-cli using compass?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><code>.id</code> saves the the function call overhead. (which is very small, but you asked. ) </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>According to <a href=\"http://jsperf.com/el-getattribute-id-vs-el-id\" rel=\"nofollow\">this jsPerf test</a> <code>getAttribute</code> is more slow than <code>id</code> property.</p>\n\n<p><strong>PS</strong></p>\n\n<p>Oddly enough both statements perform very bad on IE8 (compared to other browsers).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Always use the properties unless you have a specific reason not to.</p>\n\n<ul>\n<li><code>getAttribute()</code> and <code>setAttribute()</code> are broken in older IE (and compatibility mode in later versions)</li>\n<li>properties are more convenient (in particular, those corresponding to boolean attributes)</li>\n</ul>\n\n<p>There are <a href=\"http://stackoverflow.com/a/7590937/96100\">some exceptions</a>:</p>\n\n<ul>\n<li>accessing attributes of <code>&lt;form&gt;</code> elements</li>\n<li>accessing custom attributes (although I'd discourage using custom attributes at all)</li>\n</ul>\n\n<p>I've written about this subject a few times on SO:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/a/7010268/96100\">http://stackoverflow.com/a/7010268/96100</a></li>\n<li><a href=\"http://stackoverflow.com/a/4456805/96100\">http://stackoverflow.com/a/4456805/96100</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><code>getAttribute</code> retrieves the <em>attribute</em> of a DOM element, while <code>el.id</code> retrieves the <em>property</em> of this DOM element. They are not the same.</p>\n\n<p>Most of the time, DOM properties are synchronized with attributes.</p>\n\n<p>However, the synchronization <em>does not guarantee the same value</em>. A classic example is between <code>el.href</code> and <code>el.getAttribute('href')</code> for an anchor element.</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;a href=\"/\" id=\"hey\"&gt;&lt;/a&gt;\n&lt;script&gt;\nvar a = document.getElementById('hey')\na.getAttribute('href') // \"/\"\na.href // Full URL except for IE that keeps '/'\n&lt;/script&gt;\n</code></pre>\n\n<p>This behavior happens because according to the <a href=\"http://www.w3.org/TR/REC-html40/struct/links.html#adef-href\">W3C</a>, the href attribute must be a well-formed link. Most browsers respect this standard (guess who doesn't?).</p>\n\n<p>There is another case for the <code>input</code>'s <code>checked</code> property. The DOM property returns <code>true</code> or <code>false</code> while the attribute returns the string <code>\"checked\"</code> or an empty string.</p>\n\n<p>And then, there are some properties that are synchronized <em>one-way only</em>. The best example is the <code>value</code> property of an <code>input</code> element. Changing its value through the DOM property will not change the attribute (edit: check the first comment for more precision).</p>\n\n<p>Because of these reasons, I'd suggest you keep using the DOM <em>properties</em>, and not the attributes, as their behavior differs between the browsers.</p>\n\n<p>In reality, there are only two cases where you need to use the attributes:</p>\n\n<ol>\n<li>A custom HTML attribute, because it is not synced to a DOM property.</li>\n<li>To access a built-in HTML attribute, which is not synced from the property, and you are sure you need the attribute (for example, the original <code>value</code> of an <code>input</code> element).</li>\n</ol>\n\n<p>If you want a more detailed explaination, I strongly suggest you read <a href=\"http://javascript.info/tutorial/attributes-and-custom-properties\">this page</a>. It will take you a few minutes only, but you will be delighted by the information (which I summed up here).</p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p><code>getAttribute('attribute')</code> normally returns the attribute value as a string, exactly as defined in the HTML source of the page.</p>\n\n<p>However, <code>element.attribute</code> could return a normalized or calculated value of the attribute. Examples:</p>\n\n<ul>\n<li><code>&lt;a href=\"/foo\"&gt;&lt;/a&gt;</code>\n<ul>\n<li>a.href will contain <em>full</em> URL</li>\n</ul></li>\n<li><code>&lt;input type=\"checkbox\" checked&gt;</code>\n<ul>\n<li>input.checked will be true (boolean)</li>\n</ul></li>\n<li><code>&lt;input type=\"checkbox\" checked=\"bleh\"&gt;</code>\n<ul>\n<li>input.checked will be true (boolean)</li>\n</ul></li>\n<li><code>&lt;img src='http://dummyimage.com/64x64/000/fff'&gt;</code>\n<ul>\n<li>img.width will be 0 (number) <em>before the image is loaded</em></li>\n<li>img.width will be 64 (number) when image (or first few bytes of it) is loaded</li>\n</ul></li>\n<li><code>&lt;img src='http://dummyimage.com/64x64/000/fff' width=\"50%\"&gt;</code>\n<ul>\n<li>img.width will be the <em>calculated</em> 50%</li>\n</ul></li>\n<li><code>&lt;img src='http://dummyimage.com/32x32/000/fff' style='width: 50px'&gt;</code>\n<ul>\n<li>img.width will be 50 (number)</li>\n</ul></li>\n<li><code>&lt;div style='background: lime;'&gt;&lt;/div&gt;</code>\n<ul>\n<li>div.style will be an object</li>\n</ul></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Expressions like <code>Element.getAttribute(\"id\")</code> and <code>Element.id</code> return the same thing.</p>\n\n<p>Which one should be used when we need attributes of an HTMLElement object?</p>\n\n<p>Is there any cross browser issue with these methods like <code>getAttribute()</code> and <code>setAttribute()</code>?</p>\n\n<p>Or any impact on performance between directly accessing object properties vs using these attribute methods?</p>\n",
            "last_activity_date": 1405872934,
            "question_id": 10280250,
            "score": 27,
            "tags": [
                "javascript",
                "html",
                "dom"
            ],
            "title": "getAttribute() versus Element object properties?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You're looking for:</p>\n\n<pre><code>-webkit-animation-fill-mode: forwards;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 96
                },
                {
                    "body": "<p>Isn't your issue that you're setting the webkitAnimationName back to nothing so that's resetting the CSS for your object back to it's default state.  Won't it stay where it ended up if you just remove the setTimeout function that's resetting the state?</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I learned today that there is a limit you want to use for the fill-mode. This is from an Apple dev. Rumor is * around * six, but not certain.\nAlternatively, you can set the initial state of your class to how you want the animation to end, then * initialize * it at from / 0% .</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I just posted a similar answer, and you probably want to have a look at:</p>\n\n<p><a href=\"http://www.w3.org/TR/css3-animations/#animation-events-\" rel=\"nofollow\">http://www.w3.org/TR/css3-animations/#animation-events-</a></p>\n\n<p>You can find out aspects of an animation, such as start and stop, and then, once say the 'stop' event has fired you can do whatever you want to the dom.  I tried this out some time ago, and it can work, but I'd guess you're going to be restricted to webkit for the time being (but you've probably accepted that already).  Btw, since I've posted the same link for 2 answers, I'd offer this general advice: check out the W3C - they pretty much write the rules and describe the standards.  Also, the webkit development pages are pretty key.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think this article might explain a thing or two:</p>\n\n<p><a href=\"http://24ways.org/2010/real-animation-using-javascript-css3-and-html5-video\" rel=\"nofollow\">http://24ways.org/2010/real-animation-using-javascript-css3-and-html5-video</a></p>\n\n<p>The trick is that you get an event on animation end form css (how that work but you do). So use that to repeat your animation or even reverse it :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The best way seems to put the final state at the main part of css. Like here, i put width to <code>220px</code>, so that it finally becomes <code>220px</code>. But starting to <code>0px;</code></p>\n\n<pre><code>div.menu-item1 {\n  font-size: 20px;\n  border: 2px solid #fff;\n  width: 220px;\n  animation: slide 1s;\n  -webkit-animation: slide 1s; /* Safari and Chrome */\n}\n@-webkit-keyframes slide { /* Safari and Chrome */\n  from {width:0px;}\n  to {width:220px;}\n}  \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a 4 part CSS3 animation(webkit) playing on click  - but the last part of the animation is meant to take it off the screen. However, it always goes back to its original state once it has played. Anyone know how I can stop it on its last css frame (100%), or else how to get rid of the whole div it is in once it has played. If there is a css way that would be great, but a javascript solution would be just as helpful.</p>\n\n<p>Many thanks - Nick</p>\n\n<p>The code im using is below:</p>\n\n<pre><code> &lt;style&gt;\n    @-webkit-keyframes colorchange {\n     0% {\n       -webkit-transition: \n       -webkit-transform: scale(1.0) rotate(0deg);\n\n     }\n     50% {\n\n       -webkit-transform: rotate(340deg) translate(-300px,0px)\n\n     }\n\n     100% {\n           -webkit-transform: scale(0.5) rotate(5deg) translate(1140px,-137px);\n     }\n    }\n\n    &lt;/style&gt;\n\n\n\n&lt;script&gt;\nfunction rotate( box )\n{box3.style.webkitAnimationName = 'colorchange'; box3.style.webkitAnimationDuration = '4s'; box3.transitionTimingFunction='linear';\n\n     setTimeout(function() {\n                box3.style.webkitAnimationName = '';\n           }, 4000);\n        }\n\n\n&lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1403272713,
            "question_id": 4359627,
            "score": 27,
            "tags": [
                "javascript",
                "animation",
                "css3"
            ],
            "title": "Stopping a CSS3 Animation on last frame"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Theoretically, you can convert it back. You'd have to write your own DOM traversal code and convert the HTML back to Markdown.</p>\n\n<p>Generally Markdown is thought to be the human readable/writable source of the information that is converted to HTML for further markup and styling.</p>\n\n<p>HTML can be much more complex than Markdown and can be indefinitely nested and partitioned into tags. This is why it's so questionable to write a general purpose converter which reliably converts HTML back to Markdown. Just imagine all the whitespace and paragraphs going bye-bye and possibly causing a terrible mess for the human eye.</p>\n\n<p>My suggestion is: Unless you generate originating HTML yourself and know what it consists of, don't convert it back to Markdown. Keep the Markdown version all the time and convert to HTML when needed.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I've started a project to do this:</p>\n\n<p><a href=\"http://domchristie.github.com/to-markdown/\">http://domchristie.github.com/to-markdown/</a></p>\n\n<p>It's still in its early stages, so has not been heavily tested, but it's a start. </p>\n\n<p>Feedback/contributions welcome.</p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>I have also collaborated on a project on github that does this. At this moment, it is only tested in browser. </p>\n\n<p><a href=\"https://github.com/hgilani/html2markdown\" rel=\"nofollow\">html2markdown</a></p>\n\n<p>I have done a lot of testing on web. Added ton of unit tests. Still not perfect but works nicely. Feedback welcome and I will be happy to receive pull requests or fix any defects you find.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Although not a markdown converter, <a href=\"http://goessner.net/articles/wiky/\" rel=\"nofollow\">wiky</a> does a decent job in converting HTML to wiki markup and vice versa.<br>\nThis is written in JS and does the conversion in just one line. This does a decent job in converting HTML obtained from a WYSIWYG editor to wiki markup which can then be passed over to backend for further processing.<br>\nWell as commented before not all HTML tags can be converted, therefore you might have to strip or escape those HTML tags before saving.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>There is showdown.js to convert markdown to HTML, and <a href=\"http://michelf.com/projects/php-markdown/\">PHP Markdown</a> to convert markdown to and from HTML. My question is, is there javascript library to convert HTML to markdown?</p>\n",
            "last_activity_date": 1362030542,
            "question_id": 2671930,
            "score": 27,
            "tags": [
                "javascript",
                "html",
                "markdown"
            ],
            "title": "Is there javascript to convert HTML to markdown?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>setInterval(function () {document.getElementById(\"myButtonId\").click();}, 1000);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 64
                },
                {
                    "body": "<pre><code>document.getElementById('youridhere').click()\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This will give you some control over the clicking, and looks tidy</p>\n\n<pre><code>&lt;script&gt;\nvar timeOut = 0;\nfunction onClick(but)\n{\n    //code\n    clearTimeout(timeOut);\n    timeOut = setTimeout(function (){onClick(but)},1000);\n}\n&lt;/script&gt;\n&lt;button onclick=\"onClick(this)\"&gt;Start clicking&lt;/button&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>How to click a button every second using JavaScript?</p>\n",
            "last_activity_date": 1392436995,
            "question_id": 4515944,
            "score": 26,
            "tags": [
                "javascript",
                "button",
                "event-handling"
            ],
            "title": "Click a button every second"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p><strong>UPDATE</strong>\nIn angular 1.2 ng-bind-html-unsafe is deprecated.</p>\n\n<p>Use-</p>\n\n<pre><code>&lt;span ng-bind-html=\"myContent\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p>and in controller use-</p>\n\n<pre><code>$scope.myContent= $sce.trustAsHtml(stuff.content);\n</code></pre>\n\n<hr>\n\n<p>You need to tell angular to not escape it.  It's a dangerous operation, so you need to explicitly state you are making an unsafe request.</p>\n\n<pre><code>&lt;span ng-bind-html-unsafe=\"stuff.content\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p>sorry, typo, plunk here: <a href=\"http://plnkr.co/edit/yG79IZUI5i97UZj40ddn?p=preview\">http://plnkr.co/edit/yG79IZUI5i97UZj40ddn?p=preview</a></p>\n",
                    "is_accepted": false,
                    "score": 39
                },
                {
                    "body": "<p>So maybe you want to have this in your index.html to load the library, script, and initialize the app with a view:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;body ng-app=\"yourApp\"&gt;\n    &lt;div class=\"span12\"&gt;\n      &lt;div ng-view=\"\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;script src=\"http://code.angularjs.org/1.2.0-rc.2/angular.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"script.js\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Then yourView.html could just be:</p>\n\n<pre><code>&lt;div&gt;\n  &lt;h1&gt;{{ stuff.h1 }}&lt;/h1&gt;\n  &lt;p&gt;{{ stuff.content }}&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>scripts.js could have your controller with data $scope'd to it.</p>\n\n<pre><code>angular.module('yourApp')\n    .controller('YourCtrl', function ($scope) {\n      $scope.stuff = {\n        'h1':'Title',\n        'content':\"A paragraph...\"\n      };\n    });\n</code></pre>\n\n<p>Lastly, you'll have to config routes and assign the controller to view for it's $scope (i.e. your data object)</p>\n\n<pre><code>angular.module('yourApp', [])\n.config(function ($routeProvider) {\n  $routeProvider\n    .when('/', {\n      templateUrl: 'views/yourView.html',\n      controller: 'YourCtrl'\n    });\n});\n</code></pre>\n\n<p>I haven't tested this, sorry if there's a bug but I think this is the Angularish way to get data</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You shoud follow the Angular docs and use $sce - $sce is a service that provides Strict Contextual Escaping services to AngularJS. Here is a docs: <a href=\"http://docs-angularjs-org-dev.appspot.com/api/ng.directive:ngBindHtmlUnsafe\" rel=\"nofollow\">http://docs-angularjs-org-dev.appspot.com/api/ng.directive:ngBindHtmlUnsafe</a></p>\n\n<p>Let's take an example with asynchroniously loading Eventbrite login button</p>\n\n<p>In your controller:</p>\n\n<pre><code>someAppControllers.controller('SomeCtrl', ['$scope', '$sce', 'eventbriteLogin', \n  function($scope, $sce, eventbriteLogin) {\n\n    eventbriteLogin.fetchButton(function(data){\n      $scope.buttonLogin = $sce.trustAsHtml(data);\n    });\n  }]);\n</code></pre>\n\n<p>In your view just add:</p>\n\n<pre><code>&lt;span ng-bind-html=\"buttonLogin\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p>In your services:</p>\n\n<pre><code>someAppServices.factory('eventbriteLogin', function($resource){\n   return {\n        fetchButton: function(callback){\n            Eventbrite.prototype.widget.login({'app_key': 'YOUR_API_KEY'}, function(widget_html){\n                callback(widget_html);\n            })\n      }\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>To do this, I use a custom filter. </p>\n\n<p>In my app:</p>\n\n<pre><code>myApp.filter('rawHtml', ['$sce', function($sce){\n  return function(val) {\n    return $sce.trustAsHtml(val);\n  };\n}]);\n</code></pre>\n\n<p>Then, in the view:</p>\n\n<pre><code>&lt;h1&gt;{{ stuff.title}}&lt;/h1&gt;\n\n&lt;div ng-bind-html=\"stuff.content | rawHtml\"&gt;&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>This is my template</p>\n\n<pre><code>&lt;div class=\"span12\"&gt;\n        &lt;ng:view&gt;&lt;/ng:view&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and this is my view template</p>\n\n<pre><code>&lt;h1&gt;{{ stuff.title}}&lt;/h1&gt;\n\n{{stuff.content }}\n</code></pre>\n\n<p>Now i am getting the <code>content</code> as html and i want to display that in view.</p>\n\n<p>but all i am getting is raw html code . how can i render that as actual html</p>\n",
            "last_activity_date": 1409038315,
            "question_id": 15754515,
            "score": 23,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "How to render html with angular templates"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You might want to try:</p>\n\n<pre><code>document.documentElement.clientHeight;\n</code></pre>\n\n<p>Or can use <a href=\"http://api.jquery.com/height/\">jQuery's <code>.height()</code></a> method:</p>\n\n<pre><code>$(window).height();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 39
                },
                {
                    "body": "<p>I made a simple shim for IE8 and others:</p>\n\n<ul>\n<li><code>window.innerWidth</code></li>\n<li><code>window.innerHeight</code></li>\n<li><code>window.scrollX</code></li>\n<li><code>window.scrollY</code></li>\n<li><code>document.width</code></li>\n<li><code>document.height</code></li>\n</ul>\n\n<p><strong>559 bytes</strong></p>\n\n<pre><code>(function(d,b){var c=b.documentElement;var a=b.body;var e=function(g,h,f){if(typeof g[h]===\"undefined\"){Object.defineProperty(g,h,{get:f})}};e(d,\"innerWidth\",function(){return c.clientWidth});e(d,\"innerHeight\",function(){return c.clientHeight});e(d,\"scrollX\",function(){return d.pageXOffset||c.scrollLeft});e(d,\"scrollY\",function(){return d.pageYOffset||c.scrollTop});e(b,\"width\",function(){return Math.max(a.scrollWidth,c.scrollWidth,a.offsetWidth,c.offsetWidth,a.clientWidth,c.clientWidth)});e(b,\"height\",function(){return Math.max(a.scrollHeight,c.scrollHeight,a.offsetHeight,c.offsetHeight,a.clientHeight,c.clientHeight)});return e}(window,document));\n</code></pre>\n\n<p>For updates, take a look at this gist: <a href=\"https://gist.github.com/yckart/9128d824c7bdbab2832e\" rel=\"nofollow\">yckart/9128d824c7bdbab2832e</a></p>\n\n<pre><code>(function (window, document) {\n\n  var html = document.documentElement;\n  var body = document.body;\n\n  var define = function (object, property, getter) {\n    if (typeof object[property] === 'undefined') {\n      Object.defineProperty(object, property, { get: getter });\n    }\n  };\n\n  define(window, 'innerWidth', function () { return html.clientWidth });\n  define(window, 'innerHeight', function () { return html.clientHeight });\n\n  define(window, 'scrollX', function () { return window.pageXOffset || html.scrollLeft });\n  define(window, 'scrollY', function () { return window.pageYOffset || html.scrollTop });\n\n  define(document, 'width', function () { return Math.max(body.scrollWidth, html.scrollWidth, body.offsetWidth, html.offsetWidth, body.clientWidth, html.clientWidth) });\n  define(document, 'height', function () { return Math.max(body.scrollHeight, html.scrollHeight, body.offsetHeight, html.offsetHeight, body.clientHeight, html.clientHeight) });\n\n  return define;\n\n}(window, document));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p><strong>Javascript method to get full window height..:</strong></p>\n\n<pre><code>window.outerHeight;\n</code></pre>\n\n<p><strong>Javascript methods to get full document height..:</strong></p>\n\n<pre><code>document.body.clientHeight;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>document.body.offsetHeight;\n</code></pre>\n\n<p><strong>Javascript methods to get visible document area height..:</strong></p>\n\n<p>this is height of window without bars.</p>\n\n<pre><code>window.innerHeight;\n</code></pre>\n\n<p><strong>jQuery methods to get visible document area height and window without bars area height too..:</strong></p>\n\n<pre><code>$(window).height();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$(window).outerHeight();\n</code></pre>\n\n<p><strong>jQuery methods to get full document height..:</strong></p>\n\n<pre><code>$(document).height();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>$(document).outerHeight();\n</code></pre>\n\n<p>that's all, I hope will help you :)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Use following in your <code>document.ready</code> and define <code>innerHeight</code> explicitly.</p>\n\n<pre><code>window.innerHeight = window.innerHeight || document.documentElement.clientHeight\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I searched on because n o n e  of the here posted functions seemed to work, i always got the windowviewheight not the documents full height...</p>\n\n<p>this works in all browsers I've tested...also iexplore 8:</p>\n\n<pre><code>var D = document;\nvar myHeight = Math.max(\n    D.body.scrollHeight, D.documentElement.scrollHeight,\n    D.body.offsetHeight, D.documentElement.offsetHeight,\n    D.body.clientHeight, D.documentElement.clientHeight\n);\n\nalert(myHeight); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have some calculations that rely on <code>window.innerHeight</code>. But as I have found out this is not available in any IE before IE9.  All the other options I have looked at don't even come close to the figure I get when I use <code>window.innerHeight</code>.</p>\n\n<p>Does anybody have a work around?</p>\n",
            "last_activity_date": 1417736889,
            "question_id": 10173236,
            "score": 23,
            "tags": [
                "javascript",
                "jquery",
                "internet-explorer-8"
            ],
            "title": "window.innerHeight ie8 alternative"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>prototype allows you to add methods and properties to a class and it will apply it not only to the class, but also any current object instances of that class. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<blockquote>\n  <p>...I had assumed that maybe the prototype meant that it shared the same object instead of just creating a new object each time...</p>\n</blockquote>\n\n<p>It does. There's one prototype object that is shared among all instances created from the constructor.</p>\n\n<blockquote>\n  <p>...however, it obviously isn't the case since both apple1 and apple2 have different colors, still (after running said script).</p>\n</blockquote>\n\n<p>For certain types (for example number, boolean, null, undefined, or string), when you change a property that exists on the prototype object via <code>this.color</code> for example, it will create a <code>color</code> property on the instance. The prototype remains unaffected so that new instances  will have the default color defined in the prototype.</p>\n\n<p>If you had updated a member of an Array or an Object that was referenced by a property of the prototype object, the change would be seen among all instances.</p>\n\n<blockquote>\n  <p>...Why is the latter code not recommended?</p>\n</blockquote>\n\n<p>Because you're constructing new identical functions with the creation of each new instance instead of sharing one instance of the functions via the prototype object.</p>\n\n<hr>\n\n<p>To expand a little more, I'd point out that when your function is called as a constructor by using the <code>new</code> keyword, <code>this</code> in the constructor <em>is</em> the new instance. So any property you add to <code>this</code> is being added to the instance.</p>\n\n<pre><code>var Apple = function() {\n      // Here \"this\" is the object being constructed. As such, we're adding\n      //   a property \"rotten\" to every instance created\n    this.rotten = false;\n};\n\n   // adding a \"color\" property to the prototype object\nApple.prototype.color = \"red\";\n\n   // set the property \"color\" on the instance to the value of \"new_color\"\nApple.prototype.changeColor = function(new_color) {\n    this.color = new_color;\n};\n   // first check to see if this instance has its own \"color\" property. If so,\n   //    use it. If not, look at the prototype object to see if it exists.\nApple.prototype.getColor = function() {\n    alert('color: '+this.color);\n};\n\n// two new instances each have their own \"rotten\" property, and don't have a\n//    \"color\" property. Both share the prototype object, so if \"color\" is \n//    requested, it will come from there\nvar apple1 = new Apple(); \nvar apple2 = new Apple();\n\n// This will add an \"color\" property to the \"apple2\" instance\napple2.changeColor(\"green\");\n\n// Doesn't have a \"color\" property, so it looks to the prototype object\napple1.getColor();\n\n// Has a \"color\" property, so it uses that instead of the \"color\" on the prototype\napple2.getColor();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 25
                }
            ],
            "body": "<p>I realize this has been asked hundreds of times, however, I can't seem to grasp the concept of \"why\" prototypes in JavaScript are proper, as apposed to imitating classes (yes, I know JavaScript is a prototypical based language - I've gathered that much).</p>\n\n<p>Like many other people striving to make JavaScript an everyday language that I use, I'm use to the regular OOP class style, as I've played around in Java (and used classes in ActionScript as well as PHP). However, while I <em>think</em> I understand how prototypes work, I can't seem to understand why they're needed.</p>\n\n<p>Here's my sample script of how I'm currently understanding prototypes in JavaScript:</p>\n\n<pre><code>var Apple = function() {\n    // An apple?\n};\n\nApple.prototype.color = \"red\";\n\nApple.prototype.changeColor = function(new_color) {\n    this.color = new_color;\n};\nApple.prototype.getColor = function() {\n    alert('color: '+this.color);\n};\n\nvar apple1 = new Apple();\nvar apple2 = new Apple();\napple2.changeColor(\"green\");\napple1.getColor();\napple2.getColor();\n</code></pre>\n\n<p>...I had assumed that maybe the prototype meant that it shared the same object instead of just creating a new object each time - however, it obviously isn't the case since both apple1 and apple2 have different colors, still (after running said script).</p>\n\n<p>Then I wrote it in what's more of a object-oriented script:</p>\n\n<pre><code>var Apple = function() {\n    this.color = \"red\";\n\n    this.changeColor = function(new_color) {\n        this.color = new_color;\n    };\n    this.getColor = function() {\n        alert('color: '+this.color);\n    };\n};\n\nvar apple1 = new Apple();\nvar apple2 = new Apple();\napple2.changeColor(\"green\");\napple1.getColor();\napple2.getColor();\n</code></pre>\n\n<p>With the exact same results (as expected). ...Why is the latter code not recommended? I have no problem using prototypes (assuming I used them correctly), but I need to understand the concept of \"why\".</p>\n\n<p>...Any help?</p>\n",
            "last_activity_date": 1296365010,
            "question_id": 4841175,
            "score": 23,
            "tags": [
                "javascript",
                "oop",
                "class",
                "prototype"
            ],
            "title": "Trying to understand the point of prototypes in JavaScript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>The way I did it was:</p>\n\n<pre><code>&lt;div class=\"progressbar\"&gt;&lt;span style=\"position:absolute; margin-left:10px; margin-top:2px&gt;45% or whatever text you want to put in here&lt;/span&gt;&lt;/div&gt;\n</code></pre>\n\n<p>You can adjust the margin-top and margin-left so that the text is in the center of the progress bar.\nThen you apply the progressbar plugin for the elements which have class progressbar in the javascript section of the page</p>\n\n<p>Hope this help</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Instead of introducing another element (<code>span</code>) and a new style, leverage what is already there like this:</p>\n\n<pre><code>var myPer = 35;\n$(\"#progressbar\")\n    .progressbar({ value: myPer })\n    .children('.ui-progressbar-value')\n    .html(myPer.toPrecision(3) + '%')\n    .css(\"display\", \"block\");\n</code></pre>\n\n<p>The <code>css(\"display\", \"block\")</code> is to handle the case where the value is 0 (jQuery UI sets a <code>display: none</code> on the element when the value is 0).</p>\n\n<p>If you look at the source of <a href=\"http://jqueryui.com/demos/progressbar/\" rel=\"nofollow\" title=\"the demo\">The demo</a>, you'll notice that a <code>&lt;div class=\"ui-progressbar-value\"&gt;</code> is added. You can simply override this class in your own CSS, like:</p>\n\n<pre><code>.ui-progressbar-value {\n    font-size: 13px;\n    font-weight: normal;\n    line-height: 18px;\n    padding-left: 10px;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<p>This solution allows for a flexible width based on the text as well as centering the text, styling the text, etc. Works in Chrome, FF, IE8, and IE8 in compatibility mode. Didn't test IE6.</p>\n\n<p>Html:</p>\n\n<pre><code> &lt;div class=\"progress\"&gt;&lt;span&gt;70%&lt;/span&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Script:</p>\n\n<pre><code>$(\".progress\").each(function() {\n    $(this).progressbar({\n        value: 70\n    }).children(\"span\").appendTo(this);\n});\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.progress.ui-progressbar {position:relative;height:2em;}\n.progress span {position:static;margin-top:-2em;text-align:center;display:block;line-height:2em;padding-left:10px;padding-right:10px;}\n.progress[aria-valuenow=\"0\"] span {margin-top:0px;}\u200b\n</code></pre>\n\n<p>Working sample: <a href=\"http://jsfiddle.net/hasYK/\" rel=\"nofollow\">http://jsfiddle.net/hasYK/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>After fiddling around with some solutions, based on the answers here, I've ended up with this one:</p>\n\n<p>Html:</p>\n\n<pre><code>&lt;div id=\"progress\"&gt;&lt;span class=\"caption\"&gt;Loading...please wait&lt;/span&gt;&lt;/div&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>$(\"#progress\").children('span.caption').html(percentage + '%');\n</code></pre>\n\n<p>(To be called inside the function that updates the progressbar value)</p>\n\n<p>CSS:</p>\n\n<pre><code>#progress {\n  height: 18px;\n}\n\n#progress .ui-progressbar {\n  position: relative;\n}\n\n#progress .ui-progressbar-value {\n  margin-top: -20px;\n}\n\n#progress span.caption {\n  display: block;\n  position: static;\n  text-align: center;\n}\n</code></pre>\n\n<p>Advantages:</p>\n\n<ul>\n<li>Caption is centered with no harcoded positioning (necessary if caption width changes dinamically)</li>\n<li>No JS strange manipulation</li>\n<li>Simple and minimal CSS</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I used this:</p>\n\n<pre><code>&lt;div id=\"progressbar\" style=\"margin: 0px 0px 16px 0px; \"&gt;&lt;span style=\"position: absolute;text-align: center;width: 269px;margin: 7px 0 0 0; \"&gt;My %&lt;/span&gt;&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've set up a simple jQuery UI ProgressBar:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(function() {\n        $(\"#progressbar\").progressbar({\n                value: 35\n        });\n    });\n&lt;/script&gt;\n&lt;div id=\"progressbar\"&gt;  &lt;/div&gt;\n</code></pre>\n\n<p>Among other things, I'd like to display some text in the progress-bar (for starters, I'd just use the \"value\"). </p>\n\n<p>I can't seem to get this to work.</p>\n\n<p>Bonus Question: How do I format the displayed text (e.g. color, alignment)?</p>\n",
            "last_activity_date": 1402963585,
            "question_id": 1476542,
            "score": 23,
            "tags": [
                "javascript",
                "jquery-ui",
                "progress-bar"
            ],
            "title": "Display value in jQueryUI ProgressBar"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Just replace all the commas with a blank.</p>\n\n<p>You can follow this:\n<a href=\"http://blog.techsaints.com/2007/06/25/javascript-how-to-remove-all-commas-from-a-number/\" rel=\"nofollow\">http://blog.techsaints.com/2007/06/25/javascript-how-to-remove-all-commas-from-a-number/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can set up your textbox to have an <strong>onblur()</strong> function so when the user attempts to leave the textbox, you then remove the commas from the value by using the javascript <strong>replace</strong> function</p>\n\n<p><strong>example</strong>:</p>\n\n<pre><code>  function checkNumeric(objName)\n  {\n    var lstLetters = objName;\n\n    var lstReplace = lstLetters.replace(/\\,/g,'');\n  }  \n</code></pre>\n\n<p>With input tag here:</p>\n\n<pre><code>&lt;input type=\"text\" onblur=\"checkNumeric(this);\" name=\"nocomma\" size=\"10\" maxlength=\"10\"/&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 31
                },
                {
                    "body": "<p>A quick and dirty way is to use the String.replace() method:</p>\n\n<pre><code>var rawstring = '1,200,000';\nvar cleanstring = rawstring.replace(/[^\\d\\.\\-\\ ]/g, '');\n</code></pre>\n\n<p>This will set cleanstring to: <code>1200000</code>.  Assuming you are using US formatting, then the following conversions will occur:</p>\n\n<pre><code>1234 --&gt; 1234\n1,234 --&gt; 1234\n-1234 --&gt; -1234\n-1,234 --&gt; -1234\n1234.5 --&gt; 1234.5\n1,234.5 --&gt; 1234.5\n-1,234.5 --&gt; -1234.5\n1xxx234 --&gt; 1234\n</code></pre>\n\n<p>If you are in other locales that invert the '.' and ',', then you'll have to make that change in the regex.</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<blockquote>\n  <p>I have a javascript function that accepts a number and performs a mathematical operation on the number. </p>\n</blockquote>\n\n<p>Let me know if the function below ever produces output that is not a valid Number. </p>\n\n<p>Note: the 2nd parameter is purely optional, and it is to specify the number of allowed decimal places (if needed); it defaults to 2 decimal places.</p>\n\n<pre><code>function unComma( val, dec )\n{    \n    var newVal\t\t= 0, \n    \tdefaultVal\t= 0,\t\t\n    \tdec\t\t= (dec || 2);\n\n    if ( !val )\n    \treturn defaultVal;\n\n    val = val.toString().replace(/,/g, '');\n\n    if ( !val )\n    \treturn defaultVal;\n\n    newVal = parseFloat(val);\n\n    if ( isNaN(newVal) )\n    \treturn defaultVal;\n\n    newVal = +( newVal.toFixed(dec) );\n\n    return ( newVal || defaultVal );\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a javascript function that accepts a number and performs a mathematical operation on the number.  However, the number I'm passing in could have a comma in it, and from my limited experience with Javascript I am having problems working with that value.  It doesn't seem to treat that as a numeric type.</p>\n\n<p>What's the easiest was to take a parameter with a value of 1,000 and convert it to a numeric 1000?</p>\n",
            "last_activity_date": 1365610274,
            "question_id": 832829,
            "score": 23,
            "tags": [
                "javascript",
                "regex"
            ],
            "title": "Numbers with commas in Javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>For me the following explanatory snippet worked. Perhaps you shouldn't use <code>'</code> for header name?</p>\n\n<pre><code>{\n   headers: { \n      Authorization: \"Basic \" + getAuthDigest(), \n      Accept: \"text/plain\" \n   }\n}\n</code></pre>\n\n<p>I'm using <code>$http.ajax()</code>, though I wouldn't expect that to be a game changer.</p>\n",
                    "is_accepted": false,
                    "score": -6
                },
                {
                    "body": "<p>I took what you had, and added another <code>X-Testing</code> header</p>\n\n<pre><code>var config = {headers:  {\n        'Authorization': 'Basic d2VudHdvcnRobWFuOkNoYW5nZV9tZQ==',\n        'Accept': 'application/json;odata=verbose',\n        \"X-Testing\" : \"testing\"\n    }\n};\n\n$http.get(\"/test\", config);\n</code></pre>\n\n<p>And in the Chrome network tab, I see them being sent. </p>\n\n<pre><code>GET /test HTTP/1.1\nHost: localhost:3000\nConnection: keep-alive\nAccept: application/json;odata=verbose\nX-Requested-With: XMLHttpRequest\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_3) AppleWebKit/537.22 (KHTML, like Gecko) Chrome/25.0.1364.172 Safari/537.22\nAuthorization: Basic d2VudHdvcnRobWFuOkNoYW5nZV9tZQ==\nX-Testing: testing\nReferer: http://localhost:3000/\nAccept-Encoding: gzip,deflate,sdch\nAccept-Language: en-US,en;q=0.8\nAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3\n</code></pre>\n\n<p>Are you not seeing them from the browser, or on the server?  Try the browser tooling or a debug proxy and see what is being sent out.</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>What you see for OPTIONS request is fine. Authorisation headers are not exposed in it.</p>\n\n<p>But in order for basic auth to work you need to add: <code>withCredentials = true;</code> to your <code>var config</code>.</p>\n\n<p>From the AngularJS <a href=\"http://docs.angularjs.org/api/ng.%24http\" rel=\"nofollow\">$http documentation</a>:</p>\n\n<blockquote>\n  <p><strong>withCredentials</strong> - <code>{boolean}</code> - whether to to set the <code>withCredentials</code>\n  flag on the XHR object. See <a href=\"https://developer.mozilla.org/en/http_access_control#section_5\" rel=\"nofollow\">requests with credentials</a> for more\n  information.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>And what's the answer from the server? It should reply a 204 and then really send the GET you are requesting.</p>\n\n<p>In the OPTIONS the client is checking if the server allows CORS requests. If it gives you something different than a 204 then you should configure your server to send the correct Allow-Origin headers.</p>\n\n<p>The way you are adding headers is the right way to do it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>my suggestion will be add a function call settings like this\ninside the function check the header which is appropriate for it. I am sure it will definitely work. it is perfectly working for me.</p>\n\n<pre><code>function getSettings(requestData) {\n    return {\n        url: requestData.url,\n        dataType: requestData.dataType || \"json\",\n        data: requestData.data || {},\n        headers: requestData.headers || {\n            \"accept\": \"application/json; charset=utf-8\",\n            'Authorization': 'Bearer ' + requestData.token\n        },\n        async: requestData.async || \"false\",\n        cache: requestData.cache || \"false\",\n        success: requestData.success || {},\n        error: requestData.error || {},\n        complete: requestData.complete || {},\n        fail: requestData.fail || {}\n    };\n}\n</code></pre>\n\n<p>then call your data like this</p>\n\n<pre><code>    var requestData = {\n        url: 'API end point',\n        data: Your Request Data,\n        token: Your Token\n    };\n\n    var settings = getSettings(requestData);\n    settings.method = \"POST\"; //(\"Your request type\")\n    return $http(settings);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am a novice to angular.js, and I am trying to add some headers to a request:</p>\n\n<pre><code>   var config = {headers: {\n            'Authorization': 'Basic d2VudHdvcnRobWFuOkNoYW5nZV9tZQ==',\n            'Accept': 'application/json;odata=verbose'\n        }\n    };\n\n   $http.get('https://www.example.com/ApplicationData.svc/Malls(1)/Retailers', config).success(successCallback).error(errorCallback);\n</code></pre>\n\n<p>I've looked at all the documentation, and this seems to me like it should be correct.</p>\n\n<p>When I use a local file for the URL in the <code>$http.get</code>, I see the following HTTP request on the network tab in Chrome:</p>\n\n<pre><code>GET /app/data/offers.json HTTP/1.1\nHost: www.example.com\nConnection: keep-alive\nCache-Control: max-age=0\nIf-None-Match: \"0f0abc9026855b5938797878a03e6889\"\nAuthorization: Basic Y2hhZHN0b25lbWFuOkNoYW5nZV9tZQ==\nAccept: application/json;odata=verbose\nX-Requested-With: XMLHttpRequest\nIf-Modified-Since: Sun, 24 Mar 2013 15:58:55 GMT\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.22 (KHTML, like Gecko) Chrome/25.0.1364.172 Safari/537.22\nX-Testing: Testing\nReferer: http://www.example.com/app/index.html\nAccept-Encoding: gzip,deflate,sdch\nAccept-Language: en-US,en;q=0.8\nAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3\n</code></pre>\n\n<p>As you can see, both of the headers were added correctly. But when I change the URL to the one shown in the <code>$http.get</code> above (except using the real address, not example.com), then I get:</p>\n\n<pre><code>OPTIONS /ApplicationData.svc/Malls(1) HTTP/1.1\nHost: www.datahost.net\nConnection: keep-alive\nAccess-Control-Request-Method: GET\nOrigin: http://mpon.site44.com\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.22 (KHTML, like Gecko) Chrome/25.0.1364.172 Safari/537.22\nAccess-Control-Request-Headers: accept, origin, x-requested-with, authorization, x-testing\nAccept: */*\nReferer: http://mpon.site44.com/app/index.html\nAccept-Encoding: gzip,deflate,sdch\nAccept-Language: en-US,en;q=0.8\nAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.3\n</code></pre>\n\n<p>The only difference in code between these two is one is for the first the URL is a local file, and for the second the URL is a remote server. If you look at the second Request header, there is no Authentication header, and the <code>Accept</code> appears to be using a default instead of the one specified. Also, the first line now says <code>OPTIONS</code> instead of <code>GET</code> (although <code>Access-Control-Request-Method</code> is <code>GET</code>).</p>\n\n<p>Any idea what is wrong with the above code, or how to get the additional headers included using when not using a local file as a data source?</p>\n",
            "last_activity_date": 1420629105,
            "question_id": 15598917,
            "score": 22,
            "tags": [
                "javascript",
                "angularjs",
                "http-headers"
            ],
            "title": "Adding a custom header to HTTP request using angular.js"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You nee the /g for <a href=\"http://www.regular-expressions.info/javascript.html\">global matching</a></p>\n\n<p><code>replace(/\\n/g, \"&lt;br /&gt;\");</code></p>\n\n<p>This works for me</p>\n\n<pre><code>&lt;textarea id=\"x\"&gt;\nLine 1\n\n\nLine 2\n\n\n\n\nLine 3\n&lt;/textarea&gt;\n&lt;script&gt;\nvar messagetoSend = document.getElementById('x').value.replace(/\\n/g, \"&lt;br /&gt;\");\nalert(messagetoSend);\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>It seems some visitors of this question have text with the breaklines escaped as </p>\n\n<blockquote>\n  <p>some text<b>\\r\\n</b>over more than one line\"</p>\n</blockquote>\n\n<p>In that case you need to escape the slashes:</p>\n\n<p><code>replace(/\\\\r\\\\n/g, \"&lt;br /&gt;\");</code></p>\n",
                    "is_accepted": true,
                    "score": 46
                },
                {
                    "body": "<p>Use a regular expression for <code>.replace()</code>.:</p>\n\n<pre><code>messagetoSend = messagetoSend.replace(/\\n/g, \"&lt;br /&gt;\");\n</code></pre>\n\n<p>If those linebreaks were made by windows-encoding, you will also have to replace the <code>carriage return</code>.</p>\n\n<pre><code>messagetoSend = messagetoSend.replace(/\\r\\n/g, \"&lt;br /&gt;\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Handles either type of line break</p>\n\n<pre><code>str.replace(new RegExp('\\r?\\n','g'), '&lt;br /&gt;');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                }
            ],
            "body": "<pre><code>var messagetoSend = $.trim(document.getElementById(\"msgText\").value);\nmessagetoSend = messagetoSend.replace(\"\\n\", \"&lt;br /&gt;\");\nalert(messagetoSend);\n</code></pre>\n\n<p>Given input:</p>\n\n<pre><code>Line 1\n\n\nLine 2\n\n\n\n\nLine 3\n</code></pre>\n\n<p>This alerts:</p>\n\n<pre><code>Line 1&lt;br /&gt;\n\n\nLine 2\n\n\n\n\nLine 3\n</code></pre>\n\n<p>When I expect it to alert:</p>\n\n<pre><code>Line 1&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Line 2&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Line 3\n</code></pre>\n",
            "last_activity_date": 1385061288,
            "question_id": 5076466,
            "score": 22,
            "tags": [
                "javascript",
                "regex",
                "replace"
            ],
            "title": "JavaScript replace \\n with &lt;br /&gt;"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Yes, absolutely.</p>\n\n<p>I do this in Java, should be fairly simple to do in JavaScript too.</p>\n\n<p>First, you'll need to break the colors up into RGB components.</p>\n\n<p>Then calculate the differences between start and finish of the components.</p>\n\n<p>Finally, calculate percentage difference and multiply by the start color of each component, then add it to the start color.</p>\n\n<p>Assuming you can get the RGB values, this should do it:</p>\n\n<pre><code>var diffRed = endColor.red - startColor.red;\nvar diffGreen = endColor.green - startColor.green;\nvar diffBlue = endColor.blue - startColor.blue;\n\ndiffRed = (diffRed * percentFade) + startColor.red;\ndiffGreen = (diffGreen * percentFade) + startColor.green;\ndiffBlue = (diffBlue * percentFade) + startColor.blue;\n</code></pre>\n\n<p>The \"percentFade\" is a floating decimal, signifying how far to fade into the \"endColor\".  1 would be a full fade (thus creating the end color).  0 would be no fade (the starting color).</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>You can retrieve the list of elements.  I'm not familiar with jQuery, but prototypejs has Element.childElements() which will return an array.  Once you know the length of the array, you can determine how much to change the pixel components for each step.  Some of the following code I haven't tested out in the form I'm presenting it in, but it should hopefully give you an idea.</p>\n\n<pre><code>function hex (c) {\n  var s = \"0123456789abcdef\";\n  var i = parseInt (c);\n  if (i == 0 || isNaN (c))\n    return \"00\";\n  i = Math.round (Math.min (Math.max (0, i), 255));\n  return s.charAt ((i - i % 16) / 16) + s.charAt (i % 16);\n}\n\n/* Convert an RGB triplet to a hex string */\nfunction convertToHex (rgb) {\n  return hex(rgb[0]) + hex(rgb[1]) + hex(rgb[2]);\n}\n\n/* Remove '#' in color hex string */\nfunction trim (s) { return (s.charAt(0) == '#') ? s.substring(1, 7) : s }\n\n/* Convert a hex string to an RGB triplet */\nfunction convertToRGB (hex) {\n  var color[];\n  color[0] = parseInt ((trim(hex)).substring (0, 2), 16);\n  color[1] = parseInt ((trim(hex)).substring (2, 4), 16);\n  color[2] = parseInt ((trim(hex)).substring (4, 6), 16);\n}\n\n\n/* The start of your code. */\nvar start = convertToRGB ('#000000');    /* The beginning of your gradient */\nvar end   = convertToRGB ('#ffffff');    /* The end of your gradient */\nvar arr = $('.gradientList').childElements();\nvar len = arr.length();                  /* The number of colors to compute */\nvar alpha = 0.5;                         /* Alpha blending amount */\n\nfor (i = 0; i &lt; len; i++) {\n    var c = [];\n\n    c[0] = start[0] * alpha + (1 - alpha) * end[0];\n    c[1] = start[1] * alpha + (1 - alpha) * end[1];\n    c[2] = start[2] * alpha + (1 - alpha) * end[2];\n\n    /* Set the background color of this element */\n    arr[i].setStyle ({ 'background-color': convertToHex (c) });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I created a JS library, <a href=\"https://github.com/anomal/RainbowVis-JS\">RainbowVis-JS</a> to solve this general problem. You just have to set the number of items using <code>setNumberRange</code> and set the start and end colour using <code>setSpectrum</code>.  Then you get the hex colour code with <code>colourAt</code>.</p>\n\n<pre><code>var numberOfItems = 8;\nvar rainbow = new Rainbow(); \nrainbow.setNumberRange(1, numberOfItems);\nrainbow.setSpectrum('red', 'black');\nvar s = '';\nfor (var i = 1; i &lt;= numberOfItems; i++) {\n    var hexColour = rainbow.colourAt(i);\n    s += '#' + hexColour + ', ';\n}\ndocument.write(s); \n// gives:\n// #ff0000, #db0000, #b60000, #920000, #6d0000, #490000, #240000, #000000, \n</code></pre>\n\n<p>You are welcome to look at the library's source code. :)</p>\n",
                    "is_accepted": false,
                    "score": 44
                },
                {
                    "body": "<p>Not such mighty but in most cases working and you do not have to include any other libraries except jQuery for the following code: </p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"colors\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>function rainbow(value, s, l, max, min, start, end) {\n    value = ((value - min) * (start - end) / max)+end;\n    return 'hsl(' + value + ','+s+'%,'+l+'%)';\n}\n\nfunction createRainbowDiv(start,end){\n    var gradient = $(\"&lt;div&gt;\").css({display:\"flex\", \"flex-direction\":\"row\",height:\"100%\"});\n    for (var i = start; ((i &lt;= end) &amp;&amp; (i &gt;= start)) || ((i &gt;= end) &amp;&amp; (i &lt;= start)); \n        i += (end-start) / Math.abs(end-start)){\n            gradient.append($(\"&lt;div&gt;\").css({float:\"left\",\"background-color\":rainbow(i, 100,50, Math.max(start,end), Math.min(start,end), start,end),flex:1}));\n    }\n\n    return gradient;\n}\n\n$(\"#colors\").append(createRainbowDiv(0,150));\n$(\"#colors\").css(\"width\",\"100%\").css(\"height\",\"10px\");\n</code></pre>\n\n<p>This should make an div that contains a rainbow. See <a href=\"http://jsfiddle.net/rootandy/54rV7/\" rel=\"nofollow\">http://jsfiddle.net/rootandy/54rV7/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I use this function based on @desau answer:</p>\n\n<pre><code> getGradientColor = function(start_color, end_color, percent) {\n   // strip the leading # if it's there\n   start_color = start_color.replace(/^\\s*#|\\s*$/g, '');\n   end_color = end_color.replace(/^\\s*#|\\s*$/g, '');\n\n   // convert 3 char codes --&gt; 6, e.g. `E0F` --&gt; `EE00FF`\n   if(start_color.length == 3){\n     start_color = start_color.replace(/(.)/g, '$1$1');\n   }\n\n   if(end_color.length == 3){\n     end_color = end_color.replace(/(.)/g, '$1$1');\n   }\n\n   // get colors\n   var start_red = parseInt(start_color.substr(0, 2), 16),\n       start_green = parseInt(start_color.substr(2, 2), 16),\n       start_blue = parseInt(start_color.substr(4, 2), 16);\n\n   var end_red = parseInt(end_color.substr(0, 2), 16),\n       end_green = parseInt(end_color.substr(2, 2), 16),\n       end_blue = parseInt(end_color.substr(4, 2), 16);\n\n   // calculate new color\n   var diff_red = end_red - start_red;\n   var diff_green = end_green - start_green;\n   var diff_blue = end_blue - start_blue;\n\n   diff_red = ( (diff_red * percent) + start_red ).toString(16).split('.')[0];\n   diff_green = ( (diff_green * percent) + start_green ).toString(16).split('.')[0];\n   diff_blue = ( (diff_blue * percent) + start_blue ).toString(16).split('.')[0];\n\n   // ensure 2 digits by color\n   if( diff_red.length == 1 )\n     diff_red = '0' + diff_red\n\n   if( diff_green.length == 1 )\n     diff_green = '0' + diff_green\n\n   if( diff_blue.length == 1 )\n     diff_blue = '0' + diff_blue\n\n   return '#' + diff_red + diff_green + diff_blue;\n };\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>getGradientColor('#FF0000', '#00FF00', 0.4);\n=&gt; \"#996600\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Using javascript with or without Jquery, I need to a create a gradient of colours based on a start and finish color. Is this possible to do programmatically?</p>\n\n<p>The end colour is only ever going to be darker shade of the start colour and it's for an unordered list which I have no control over the number of li items. I'm looking for a solution that allows me to pick a start and end color, convert the hex value into RGB so it can be manipulated in code. The starting RGB values gets incremented by a step value calculated based upon the number of items.</p>\n\n<p>so if the list had 8 items then the it needs to increment the seperate Red Green Blue values in 8 steps to achieve the final colour. Is there a better way to do it and if so where can I find some sample code? </p>\n",
            "last_activity_date": 1419958411,
            "question_id": 3080421,
            "score": 22,
            "tags": [
                "javascript",
                "jquery",
                "colors",
                "rgb",
                "gradient"
            ],
            "title": "Javascript color gradient"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The browser displays the loading state when there is an element in the document which is loading. Ajax requests are made entirely from within JavaScript; the document is not affected and so the loading state isn't triggered.</p>\n\n<p>On the other hand, most of Facebook's requests are made by inserting a <code>&lt;script&gt;</code> tag into the document, pointing to a JavaScript file containing the data they want. (Essentially JSONP, except they use a different format.) The browser will displaying its loading state because the <code>&lt;script&gt;</code> tag is an unloaded element in the document.</p>\n\n<p>This technique/JSONP can expose your site to security risks if you're not careful, because cross-site requests are allowed. Facebook deals with this by generating random URLs for each resource, which are sent to the browser in the initial page load.</p>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>Facebook use iframes for communication when they want the browser 'busy' status to appear. \nYou can use iframes to do cross domain ajax by having the iframe call functions in the parent window.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Facebook uses a tool they developed called Big Pipe to basically stream their site to the client in chunks. They send an initial script tag with a bare DOM to the client, and the script loads modules on the page asynchronously - the idea being the client is presenting module 1 while the server is fetching module 2, therefore improving load time. </p>\n\n<p>On top of that, they use a technique called <strong>long polling</strong>. With HTTP 1.1 they can take advantage of a persistent connection and not have to worry about timeouts. When the page is rendered, the client-side script makes an AJAX request to Facebook to essentially \"listen\" for an event. It will sit there and listen until an event happens. In the meantime, the browser will appear to be \"loading\" data. </p>\n\n<p>When an event is triggered on Facebook's end (say someone commented on your wall post), FB will send that response back to the client to fire the respective callbacks (like popping up a little tool-tip letting you know about the comment) and IMMEDIATELY send another request to FB to listen for the next event.</p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>In order to keep the IM Client logged in at all times Facebook avoids full page loads by using AJAX to load its pages before inserting them into the document.</p>\n\n<p>However, during Facebook AJAX requests the browser appears to be visibly loading; the reload button changes to an X, and the progress indicator built into the browser indicates loading/waiting etc)</p>\n\n<p>I've been able to implement AJAX based navigation successfully, but my browser doesn't show any indication of loading (since the requests are asynchronous)  how do Facebook do it?</p>\n",
            "last_activity_date": 1327947504,
            "question_id": 8915772,
            "score": 21,
            "tags": [
                "javascript",
                "ajax",
                "facebook",
                "html5",
                "pushstate"
            ],
            "title": "How does Facebook show browser loading progress during AJAX Page Loads?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Have you tried the <a href=\"https://github.com/pivotal/jasmine/blob/master/src/console/ConsoleReporter.js\">ConsoleRepoter</a></p>\n\n<pre><code>jasmine.getEnv().addReporter(new jasmine.ConsoleReporter(console.log));\n</code></pre>\n\n<p>According to the code Jasmine has the ConsoleReporter class that executes a print function (in this case console.log) that should do what you need.</p>\n\n<p>If all else fails you could just use this as a starting point to implement your own console.log reporter.</p>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>In newest <a href=\"https://github.com/pivotal/jasmine/tree/master/dist\">version of Jasmine (2.0)</a> if you want to get test output to console you need to add following lines.</p>\n\n<pre><code>var ConsoleReporter = jasmineRequire.ConsoleReporter();\nvar options = {\n   timer: new jasmine.Timer, \n   print: function () {\n      console.log.apply(console,arguments)\n}};\nconsoleReporter = new ConsoleReporter(options); // initialize ConsoleReporter\njasmine.getEnv().addReporter(consoleReporter); //add reporter to execution environment\n</code></pre>\n\n<p>Output to html is included by default however so if you don't want html output at all you have to edit your boot.js file and remove relevant lines from there. If you want to customize how output is displayed in console edit file console.js.\n<a href=\"https://github.com/pivotal/jasmine/issues/493#issuecomment-31630393\">Source</a></p>\n",
                    "is_accepted": false,
                    "score": 11
                }
            ],
            "body": "<p><br/>\nI am using Jasmine (BDD Testing Framework for JavaScript) in my firefox add-on to test the functionality of my code.</p>\n\n<p>The problem is that jasmine is outputing the test results to an HTML file,what I need is to Firebug Console or other solution to output the results. </p>\n",
            "last_activity_date": 1391162349,
            "question_id": 7157999,
            "score": 21,
            "tags": [
                "javascript",
                "firefox-addon",
                "javascript-framework",
                "jasmine"
            ],
            "title": "Output jasmine test results to the console"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>HTML encoding is simply replacing <code>&amp;</code>, <code>\"</code>, <code>'</code>, <code>&lt;</code> and <code>&gt;</code> chars with their entity equivalents. Order matters, if you don't replace the <code>&amp;</code> chars first, you'll double encode some of the entities:</p>\n\n<pre><code>if (!String.prototype.encodeHTML) {\n  String.prototype.encodeHTML = function () {\n    return this.replace(/&amp;/g, '&amp;amp;')\n               .replace(/&lt;/g, '&amp;lt;')\n               .replace(/&gt;/g, '&amp;gt;')\n               .replace(/\"/g, '&amp;quot;')\n               .replace(/'/g, '&amp;apos;');\n  };\n}\n</code></pre>\n\n<p><sub>As @Johan B.W. de Vries pointed out, this will have issues with the tag names, I would like to clarify that I made the assumption that this was being used for the <code>value</code> <em>only</em></sub></p>\n\n<p>Conversely if you want to decode HTML entities<sup><a href=\"http://underscorejs.org/#escape\">1</a></sup>, make sure you decode <code>&amp;amp;</code> to <code>&amp;</code> after everything else so that you don't double decode any entities:</p>\n\n<pre><code>if (!String.prototype.decodeHTML) {\n  String.prototype.decodeHTML = function () {\n    return this.replace(/&amp;apos;/g, \"'\")\n               .replace(/&amp;quot;/g, '\"')\n               .replace(/&amp;gt;/g, '&gt;')\n               .replace(/&amp;lt;/g, '&lt;')\n               .replace(/&amp;amp;/g, '&amp;');\n  };\n}\n</code></pre>\n\n<p><sub><a href=\"http://underscorejs.org/#escape\">1</a> just the basics, not including <code>&amp;copy;</code> to <code>\u00a9</code> or other such things</sub></p>\n\n<hr>\n\n<p>As far as libraries are concerned. <a href=\"http://underscorejs.org/#escape\">Underscore.js</a> (or <a href=\"http://lodash.com/docs#escape\">Lodash</a> if you prefer) provides an <code>_.escape</code> method to perform this functionality.</p>\n",
                    "is_accepted": true,
                    "score": 39
                },
                {
                    "body": "<p>Technically, &amp;, &lt; and > aren't valid XML entity name characters. If you can't trust the key variable, you should filter them out.</p>\n\n<p>If you want them escaped as HTML entities, you could use something like <a href=\"http://www.strictly-software.com/htmlencode\" rel=\"nofollow\">http://www.strictly-software.com/htmlencode</a> .</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you have jQuery, here's a simple solution:</p>\n\n<pre><code>  String.prototype.htmlEscape = function() {\n    return $('&lt;div/&gt;').text(this.toString()).html();\n  };\n</code></pre>\n\n<p>Use it like this:</p>\n\n<p><code>\"&lt;foo&amp;bar&gt;\".htmlEscape();</code> -> <code>\"&amp;lt;foo&amp;amp;bar&amp;gt\"</code></p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>This might be a bit more efficient with the same outcome:</p>\n\n<pre><code>function escapeXml(unsafe) {\n    return unsafe.replace(/[&lt;&gt;&amp;'\"]/g, function (c) {\n        switch (c) {\n            case '&lt;': return '&amp;lt;';\n            case '&gt;': return '&amp;gt;';\n            case '&amp;': return '&amp;amp;';\n            case '\\'': return '&amp;apos;';\n            case '\"': return '&amp;quot;';\n        }\n    });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In JavaScript (server side nodejs) I'm writing a program which generates xml as output.</p>\n\n<p>I am building the xml by concatenating a string:</p>\n\n<pre><code>str += '&lt;' + key + '&gt;';\nstr += value;\nstr += '&lt;/' + key + '&gt;';\n</code></pre>\n\n<p>The problem is: What if <code>value</code> contains characters like <code>'&amp;'</code>, <code>'&gt;'</code> or <code>'&lt;'</code>?\nWhat's the best way to escape those characters?</p>\n\n<p>or is there any javascript library around which can escape XML entities?</p>\n",
            "last_activity_date": 1421397158,
            "question_id": 7918868,
            "score": 19,
            "tags": [
                "javascript"
            ],
            "title": "how to escape xml entities in javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You will need a <a href=\"http://en.wikipedia.org/wiki/Reverse_geocoding\" rel=\"nofollow\">Reverse Geocoder</a> service.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>    var geocoder = new google.maps.Geocoder();\n    geocoder.geocode({'latLng': &lt;YOURLATLNGRESPONSEFROMGEO&gt;}, function(results, status) {\n            if (status == google.maps.GeocoderStatus.OK) {\n                if (results[0]) {\n                    var loc = getCountry(results);\n                }\n            }\n        });\n\n    function getCountry(results)\n    {\n        for (var i = 0; i &lt; results[0].address_components.length; i++)\n        {\n        var shortname = results[0].address_components[i].short_name;\n        var longname = results[0].address_components[i].long_name;\n        var type = results[0].address_components[i].types;\n        if (type.indexOf(\"country\") != -1)\n        {\n            if (!isNullOrWhitespace(shortname))\n            {\n                return shortname;\n            }\n            else\n            {\n                return longname;\n            }\n        }\n    }\n\n}\n\nfunction isNullOrWhitespace(text) {\n    if (text == null) {\n        return true;\n    }\n    return text.replace(/\\s/gi, '').length &lt; 1;\n}\n</code></pre>\n\n<p>This is what I use :)</p>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>If you just want the country, here's a much simpler approach using <a href=\"http://ws.geonames.org\"><code>ws.geonames.org</code></a> rather than Google:</p>\n\n<pre><code>if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(function(position) {\n        $.getJSON('http://ws.geonames.org/countryCode', {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude,\n            type: 'JSON'\n        }, function(result) {\n            alert(result.countryName);\n        });\n    });\n}\u200b\n</code></pre>\n\n<p>Normally I would say that using a Google service would mean greater reliability, but with so many Google services being retired lately it's probably a good idea to look at some other solutions.</p>\n\n<hr>\n\n<p>By the way, I did some experiments using all the free geocoding services I could find. It returns the country and the name of the service responsible as soon as one of them finds an acceptable result.</p>\n\n<p>Feel free to play with it via JSFiddle: <a href=\"http://jsfiddle.net/hippietrail/2H72s/\">Deferred look up country code via multiple geolocation webapis</a></p>\n",
                    "is_accepted": false,
                    "score": 16
                }
            ],
            "body": "<p>I'm familiar with HTML5 geolocation for returning rough coordinates of the user\u2019s location.</p>\n\n<p>However, how can I return the name of the country that their coordinates are in?</p>\n",
            "last_activity_date": 1381859296,
            "question_id": 6747833,
            "score": 19,
            "tags": [
                "javascript",
                "html5",
                "geolocation"
            ],
            "title": "How can I find a user\u2019s country using HTML5 geolocation?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Use split on string:</p>\n\n<pre><code>var array = coolVar.split(/-/);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Use the Javascript string split() function.</p>\n\n<pre><code>var coolVar = '123-abc-itchy-knee';\nvar partsArray = coolVar.split('-');\n\n// Will result in partsArray[0] == '123', partsArray[1] == 'abc', etc\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 55
                },
                {
                    "body": "<p>as amber and sinan have noted above, the javascritp '.split' method will work just fine. Just pass it the string separator(-) and the string that you intend to split('123-abc-itchy-knee') and it will do the rest.</p>\n\n<pre><code>    var coolVar = '123-abc-itchy-knee';\n    var coolVarParts = coolVar.split('-'); // this is an array containing the items\n\n    var1=coolVarParts[0]; //this will retrieve 123\n</code></pre>\n\n<p>To access each item from the array just use the respective index(indices start at zero).</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm just curious how I go about splitting a variable into a few other variables.</p>\n\n<p>For example, say I have the following javascript:</p>\n\n<pre><code>var coolVar = '123-abc-itchy-knee';\n</code></pre>\n\n<p>And I wanted to split that into 4 variables, how does one do that?</p>\n\n<p>To wind up with an array where</p>\n\n<pre><code>array[0] == 123\nand\narray[1] == abc\n</code></pre>\n\n<p>etc would be cool.</p>\n\n<p>Or (a variable for each part of the string)</p>\n\n<pre><code>var1 == 123  \nand \nvar2 == abc \n</code></pre>\n\n<p>Could work... either way. How do you split a javascript string? </p>\n",
            "last_activity_date": 1340065823,
            "question_id": 1216505,
            "score": 19,
            "tags": [
                "javascript"
            ],
            "title": "How to parse a string in javascript?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Because of memory limits for JavaScript on mobile devices, it's likely to take too long for practical use, if it is possible with purely JS.</p>\n\n<p>I don't know exactly how the Appcelerator API works with external native libraries, but your best bet is to pass the image data to the native code (Objective-C or Java) and then use a lower-level library (like <a href=\"http://code.google.com/p/iphone-qrcode/\" rel=\"nofollow\">iphone-qrcode</a>) to parse the QR code, then pass the result back to the JS execution context.</p>\n\n<p>This has the added advantage of working offline, which a remote service could not do.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you want a proof-of-concept, then here it is - a <a href=\"http://htmlfive.appspot.com/static/tracker1.html\" rel=\"nofollow\">motion tracker</a> written in pure Javascript. </p>\n\n<p>However, support for it is not widespread right now. Only FF and the latest Webkit builds support it afaik.</p>\n\n<p>Just noticed that you wanted this for a mobile device. Then absolutely go with a remote service. It will be really taxing even on the most high end devices assuming they even support it, which I highly doubt.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I bet it's possible, but it would be a challenge. Someone's written an <a href=\"http://github.com/yanbe/qrcode-as\">AS3 library for reading QR codes</a>. I'd start by reading up on <a href=\"https://developer.mozilla.org/En/HTML/Canvas/Pixel_manipulation_with_canvas\">image manipulation in Canvas</a>.</p>\n\n<p>If you go down the remote API route, <a href=\"http://api.qrcode.kaywa.com/\">Kaywa</a> have an API you may be able to use. </p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>There's a javascript <a href=\"http://en.sourceforge.jp/projects/jpqr/\" rel=\"nofollow\">library</a> already, however the comments are mostly in Japanese and there's no documentation.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There is a JavaScript reader for HTML5 capable browsers:</p>\n\n<p><a href=\"http://www.webqr.com\">http://www.webqr.com</a></p>\n\n<p>Works on the latest Firefox and Chrome.</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>I've found a working opensource javascript-jquery based <a href=\"https://github.com/jeromeetienne/jquery-qrcode\" rel=\"nofollow\">QR code generator</a></p>\n\n<p>The good thing about this one is that it does not call any remote service and its lightweight.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>You can use the <code>getUserMedia</code> API to get video from the webcam and you could put it into a canvas element and use the canvas to read the pixels and decode a QR code.  </p>\n\n<p>I don't know of a library to decode QR codes but here is <a href=\"http://badassjs.com/post/654334959/barcode-scanning-in-javascript\" rel=\"nofollow\">one library</a> that can do bar codes.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm doing a bit of preliminary research on an upcoming project and I have a quick question that I figure I'll throw up here while I look elsewhere, in case anyone has any experience with this.</p>\n\n<p>The question is simple: is it possible to read a QR code using JavaScript? Is there a remote service to which I can pass a bitmap object from a camera and do it that way? Are there currently any libraries that allow this?</p>\n\n<p>The project is going to be deployed to various mobile devices and we'd like to try to use Appcelerator to make it work. I know Appcelerator does expose the Camera API on its host devices, but whatever we do with it has to be able to parse QR codes. Is this something that can be done?</p>\n\n<p>Thanks in advance!\nmyk</p>\n",
            "last_activity_date": 1352915568,
            "question_id": 2566972,
            "score": 17,
            "tags": [
                "php",
                "javascript",
                "augmented-reality",
                "qr-code",
                "appcelerator"
            ],
            "title": "JavaScript QR Code Reader - can it be done? Or, Remote Service?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>In general innerHTML is faster. Check this out, a <a href=\"http://www.quirksmode.org/dom/innerhtml.html\" rel=\"nofollow\">benchmark across many platforms</a>:</p>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>Hmmm... interestingly, I just did a test in Firefox 3, and a deep clone seems to be about 3 times faster than going the innerHTML route.</p>\n\n<p>I'm sure innerHTML is still faster than individual DOM operations, but at least for deep cloning, cloneNode(true) seems to be better optimized.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Let's test!</p>\n\n<p>I added the following code to a copy of StackOverflow's Questions page (removing existing scripts first, and running from scratch with one of the timeit()s uncommented each time around, three runs of 100 ops:</p>\n\n<pre><code>function timeit(f) {\n    var start= new Date();\n    for (var i=100; i--&gt;0;) {\n        f();\n    }\n    return new Date()-start;\n}\n\nvar c= document.getElementById('content');\nvar clones= [];\n\n//alert('cloneNode: '+timeit(function() {\n//    clones.push(c.cloneNode(true));\n//}))\n\n//alert('innerHTML: '+timeit(function() {\n//    var d= document.createElement('div');\n//    d.innerHTML= c.innerHTML;\n//    clones.push(d);\n//}))\n</code></pre>\n\n<p>Here are the results running on a VirtualBox on a Core 2 Q9300:</p>\n\n<pre><code>IE7\ncloneNode: 3238, 3235, 3187\ninnerHTML: 8442, 8468, 8552\n\nFirefox3\ncloneNode: 1294, 1315, 1289\ninnerHTML: 3593, 3636, 3580\n\nSafari3\ncloneNode: 207, 273, 237\ninnerHTML: 805, 818, 786\n\nChrome1\ncloneNode: 329, 377, 426\ninnerHTML: 2327, 2536, 2865\n\nOpera10\ncloneNode: 801, 791, 771\ninnerHTML: 1852, 1732, 1672\n</code></pre>\n\n<p>So cloneNode(true) is much faster than copying innerHTML. Of course it was always going to be; serialising a DOM to text and then re-parsing it from HTML is hard work. The reason DOM child operations are usually slow is that you're inserting/moving them one-by-one; all-at-once DOM operations like cloneNode don't have to do that.</p>\n\n<p>Safari manages to do the innerHTML op amazingly quickly, but still not nearly as quickly as it does cloneNode. IE is, as expected, a dog.</p>\n\n<p>So, auto -1s all round to everyone who said innerHTML would Obviously Be Faster without considering what the question was actually doing.</p>\n\n<p>And yes, jQuery uses innerHTML to clone. Not because it's faster though\u2009\u2014\u2009read the source:</p>\n\n<pre><code>// IE copies events bound via attachEvent when\n// using cloneNode. Calling detachEvent on the\n// clone will also remove the events from the orignal\n// In order to get around this, we use innerHTML.\n</code></pre>\n\n<p>jQuery uses Element.attachEvent() to implement its own event system, so naturally it needs to avoid that bug. If you don't need to, you can avoid the overhead.</p>\n\n<p>[Off-topic aside: Then again, I think holding jQuery up as the pinnacle of Best Practice may be a bit mistaken, especially given the next line:</p>\n\n<pre><code>html.replace(/ jQuery\\d+=\"(?:\\d+|null)\"/g, \"\")\n</code></pre>\n\n<p>That's right\u2009\u2014\u2009jQuery adds its own arbitrary attributes to HTML elements, and then needs to get rid of them when it clones them (or otherwise gives access to their markup, such as through the $().html() method). This is ugly enough, but then it thinks the best way to do that is processing HTML using regular expression, which is the kind of basic mistake you'd expect more from na\u00efve 1-reputation SO questioners than the author of the Second Coming Best JS Framework Evar.</p>\n\n<p>Hope you didn't have the string \u201cjQuery1=\"2\"\u201d anywhere in your text content, 'cos if so you just mysteriously lost it. Thanks jQuery! Thus ends the off-topic aside.]</p>\n",
                    "is_accepted": true,
                    "score": 36
                }
            ],
            "body": "<p>I'm trying to figure out the most performant way of deep-cloning a DOM tree within the browser.</p>\n\n<p>If I start out with</p>\n\n<pre><code>var div = document.getElementById(\"source\");\nvar markup = div.innerHTML;\n</code></pre>\n\n<p>What will be faster,</p>\n\n<pre><code>var target = div.cloneNode(true);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>var target = document.cloneNode(false);\ntarget.innerHTML = markup;\n</code></pre>\n\n<p>I understand the browser platform may make a big difference here, so any information about how these compare in the real world would be appreciated.</p>\n",
            "last_activity_date": 1237918072,
            "question_id": 676249,
            "score": 17,
            "tags": [
                "javascript",
                "dom",
                "dhtml"
            ],
            "title": "Deep cloning vs setting of innerHTML: what&#39;s faster?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>var x = y !== undefined ? y : 1;\n</code></pre>\n\n<p>Note that <code>var x = y || 1;</code> would assign <code>1</code> for any case where <code>y</code> is falsy (e.g. <code>false</code>, <code>0</code>, <code>\"\"</code>), which may be why it \"didn't work\" for you. Also, if <code>y</code> is a global variable, if it's truly not defined you may run into an error unless you access it as <code>window.y</code>.</p>\n\n<hr>\n\n<p>As vol7ron suggests in the comments, you can also use <code>typeof</code> to avoid the need to refer to global vars as <code>window.&lt;name&gt;</code>:</p>\n\n<pre><code>var x = typeof y != \"undefined\" ? y : 1;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 30
                },
                {
                    "body": "<pre><code>y = (y != undefined) ? y : x;\n</code></pre>\n\n<p>The parenthesis are not necessary, I just add them because I think it's easier to read this way. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Another way to write it shortly</p>\n\n<pre><code>bePlanVar = !!((bePlanVar == false));\n\n// is equivalent to\n\nbePlanVar = (bePlanVar == false) ? true : false;\n\n// and \n\nif (bePlanVar == false) {\n    bePlanVar = true;\n} else {\n    bePlanVar = false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I'm wondering if there's a shorter way to write this:</p>\n\n<pre><code>var x = 1;\nif(y != undefined) x = y;\n</code></pre>\n\n<p>I initially tried <code>x = y || 1</code>, but that didn't work. What's the correct way to go about this?</p>\n",
            "last_activity_date": 1369339371,
            "question_id": 9864634,
            "score": 16,
            "tags": [
                "javascript",
                "shorthand"
            ],
            "title": "Shorthand if/else statement Javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I think there is a stub method in the latest chrome dev (12.0.742.16 dev) but i can't get it to do anything on Mac OSX. At least I thought I saw it. I just checked and the method doesn't seem to be there anymore. Here is the webkit bug report for implementing getUserMedia: <a href=\"https://bugs.webkit.org/show_bug.cgi?id=56586\" rel=\"nofollow\">https://bugs.webkit.org/show_bug.cgi?id=56586</a></p>\n\n<p>I think the only working implementation at the moment is in Opera for Android. <a href=\"http://my.opera.com/core/blog/2011/03/23/webcam-orientation-preview\" rel=\"nofollow\">http://my.opera.com/core/blog/2011/03/23/webcam-orientation-preview</a></p>\n\n<p>The chrome/webkit method is webkitGetUserMedia but it isn't implemented yet.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The latest opera desktop build has support for getUserMedia()\nSee here: <a href=\"http://labs.opera.com/news/2011/10/19/\" rel=\"nofollow\">http://labs.opera.com/news/2011/10/19/</a></p>\n\n<p>It's just a waiting game for other browsers to implement this. Now that opera has support, \nthe other should soon follow.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There is a whole article on it here <a href=\"http://dev.opera.com/articles/view/playing-with-html5-video-and-getusermedia-support/\">http://dev.opera.com/articles/view/playing-with-html5-video-and-getusermedia-support/</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Chrome Dev Channel JUST added WebRTC support, so NOW what you're asking here actually becomes plausible. See: <a href=\"https://groups.google.com/forum/#!topic/discuss-webrtc/LuY7zYLA8sA\" rel=\"nofollow\">https://groups.google.com/forum/#!topic/discuss-webrtc/LuY7zYLA8sA</a></p>\n\n<p>Basically, you must use the webkit prefixe: webkitGetUserMedia() although documentation on this method is scarce, I'm currently trying to piece together a working demo of it.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Since last night (3 May 2012) getUserMedia() in Chrome Canary takes an object not a string.</p>\n\n<p>To try it out, you can run the following code from the console on any page (like <a href=\"http://www.samdutton.com/pageVisibility\" rel=\"nofollow\">this one</a>) with a video element:</p>\n\n<pre><code>navigator.webkitGetUserMedia(\n  {\"video\": true, \"audio\": true}, \n  function(s){\n    document.querySelector('video').src = \n      window.webkitURL.createObjectURL(s);\n  }, \n  function(e){console.log(e);}\n);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I am currently running Chrome 11 and trying to access <code>getUserMedia</code> for HTML5 native audio and video stream support but I am getting an error saying that <code>navigator.getUserMedia</code> is undefined. If it's not supported, how do I access it or do I need to wait until Chrome incorporates it?</p>\n\n<p>This is the the code I was using to test <code>getUserMedia</code> which I found</p>\n\n<pre><code> &lt;h1&gt;Snapshot Kiosk&lt;/h1&gt;\n &lt;section id=\"splash\"&gt;\n  &lt;p id=\"errorMessage\"&gt;Loading...&lt;/p&gt;\n &lt;/section&gt;\n &lt;section id=\"app\" hidden&gt;\n  &lt;p&gt;&lt;video id=\"monitor\" autoplay&gt;&lt;/video&gt; &lt;canvas id=\"photo\"&gt;&lt;/canvas&gt;\n  &lt;p&gt;&lt;input type=button value=\"&amp;#x1F4F7;\" onclick=\"snapshot()\"&gt;\n &lt;/section&gt;\n &lt;script&gt;\n  navigator.getUserMedia('video user', gotStream, noStream);\n  var video = document.getElementById('monitor');\n  var canvas = document.getElementById('photo');\n  function gotStream(stream) {\n    video.src = URL.getObjectURL(stream);\n    video.onerror = function () {\n      stream.stop();\n      noStream();\n    }\n    video.onloadedmetadata = function () {\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      document.getElementById('splash').hidden = true;\n      document.getElementById('app').hidden = false;\n    }\n  }\n  function noStream() {\n    document.getElementById('errorMessage').textContent = 'No camera available.';\n  }\n  function snapshot() {\n    canvas.getContext('2d').drawImage(video, 0, 0);\n  }\n &lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1336119899,
            "question_id": 5845306,
            "score": 16,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "How do I access navigator.getUserMedia()?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Yes this is very sensible, WEBRTC is the next biggest thing when it comes to real time communications!  What makes it so sensible is that it's done in Javascript.  It is growing by the millions and being supported on many more platforms as times go by.  It's low cost &amp; high quality!</p>\n\n<p>I'm not here to bash you or anything, but webrtc blows Node out of the water any day.</p>\n\n<p>Choose webrtc, you know you want to ;)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Completely sensible. </p>\n\n<p>WebRTC is low latency P2P networking in the browser.  If the user's browser has DataChannel support then you could use a library like WebTorrent <a href=\"https://github.com/feross/webtorrent\" rel=\"nofollow\">https://github.com/feross/webtorrent</a>.  </p>\n\n<p>Also have a look at Sharefest's implementation: <a href=\"https://www.sharefest.me/\" rel=\"nofollow\">https://www.sharefest.me/</a> it's very similar to the idea you're looking for. </p>\n\n<p>To get started, have a look at the HTML5 Rocks WebRTC tutorial: <a href=\"http://www.html5rocks.com/en/tutorials/webrtc/basics/\" rel=\"nofollow\">http://www.html5rocks.com/en/tutorials/webrtc/basics/</a>.  Also the SimpleWebRTC library is quite handy: <a href=\"http://simplewebrtc.com/\" rel=\"nofollow\">http://simplewebrtc.com/</a>  </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Yes, that is what webRTC is for: exchanging data between browsers without a server. To make this work you might want to think out some management plan on the server that manages the connections (as one client needs to tell the other client 'hey I am here, connect to me..'), and thinking about what pieces of the data are on which client, when a client needs to connect to someone else.</p>\n\n<p>As a tip: I made a server in nodejs using websockets (and nodejs plugin: 'ws') to communicate between clients until an RTC is set up so they can stream audio. It is really easy to do all this stuff, but a pain to refine.</p>\n\n<p>As I can read from your question, you have no experience using webRTC. Just to give you a head start, this is the right order of things that need to happen to make an RTC:</p>\n\n<pre><code>Client 1                        Server       Client 2\nCreate an RTC object\nCreate offer\nset localdescription = offer                 Create RTC object                   \nsend offer -------------------&gt;       ------&gt;set remote description to offer\n                                             Create answer\n                                             local description = answer\nset remote description&lt;--------       &lt;------send answer\n\nThis goes both directions:\nonicecandidate send ----------&gt;       ------&gt;set ICE candidate\n\nConnection done!\n</code></pre>\n\n<p>For exchanging this connection data my advice is to go with websockets. Both clients open a websocket, and whenever one client sends something, you can take the websocket connection (it's an object) from the other client and send things. Using XHR's you can only let the browser connect, ask for data, and if the data is not there retry in x seconds.</p>\n\n<p>sum: Using and setting up webRTC for peer to peer connections is fairly easy, but managing who shall connect to who is gonna be a lot of trouble.</p>\n\n<p>Edit:\nMy idea would be that the first client connects to the server, and receives it's data either by an XHR or websockets or something like that. If you want browser compatibility, you might want to go with <a href=\"http://socket.io\" rel=\"nofollow\">socket.io</a>, but that wouldn't really matter since only chrome and firefox support webRTC (afaik). Then you simply connect from your browser to the sever. If you do plan on having multiple exchanges at the same a session ID would be fairly handy, so that you can just exchange that with the people that need to download it.</p>\n\n<p>On the server side, the websockets returns an object 'containing' the current connection. So if client 1 would connect, you store that inside an object with the ID we made. If client 2 would connect, you can store that too. Then you can just take the websocket object from the first client and do <code>.send('your message')</code>.</p>\n\n<p>Now for real how I would do it. I will use (ws) to determine the connection over a websocket, (http) for http request and (rtc) for webRTC. <code>pc</code> is your peer connection object: <code>window.dc = new RTCDataChannel(ICEServers);</code>. <code>sdp</code> means <code>SessionDescriptionProtocol</code>, </p>\n\n<ol>\n<li>A client connects to your server and downloads the neccessarry files (http) (I mean the webpage, scripts and css, not the file you want to share.)</li>\n<li>The client requests a new session. (ws)</li>\n<li><p>the server creates an instance of the session inside an object.</p>\n\n<p>var sessID = Math.random().toString(36).substring(12, 16);<br>\nsessions[sessID] = {};</p></li>\n<li><p>You send this session ID to the client (ws), so it can send this to other people (using mail etc). The other user connects to the server(http)(ws), but does not request an ID, it sends it.</p></li>\n<li>When the server receives this it sends both the first client and this client a message containing that both parties are ready. The sending client creates a new webRTC object, and creates a new offer (it stores this offer in dc.setLocalOffer(sdp)). It sends this to the server (ws) and the server sends this to client 2 (ws). Now the client stores it using <code>dc.setRemoteDescription(sdp)</code>, and creates an answer. (<code>dc.createAnswer()</code>), sets this answer(<code>dc.setLocalDescription(sdp)</code>. This answer is sent to client one. Now you can use the datachannel.</li>\n</ol>\n\n<p>I don't know how the datachannel exacly works, as I have only been <a href=\"http://codetank.herokuapp.com/mp.html\" rel=\"nofollow\">working with PeerConnection</a>, which is especially for audio and video streams. You can use this to find out how to make the connection. The code for this is in <a href=\"https://github.com/MarijnS95/codetank\" rel=\"nofollow\">my repo</a>. There is a lot more code inside as this is for a 'profielwerkstuk' (some workpiece for school, which I made with a friend). The things that are interesting for you to look at are server.js (this is the nodejs server, used for exchanging the sdp and ICE candidates). The webpage is in htdocs/mp.html (not really interesting), and the piece of javascript code for doing this all is on <a href=\"https://github.com/MarijnS95/codetank/blob/master/htdocs/scripts/rtc.js\" rel=\"nofollow\">htdocs/scripts/rtc.js</a>. </p>\n\n<p>For more information you might want to look at <a href=\"http://simpl.info/rtcdatachannel/\" rel=\"nofollow\">this example</a>, and at the <a href=\"http://www.html5rocks.com/en/tutorials/webrtc/basics/#toc-rtcdatachannel\" rel=\"nofollow\">explainments here</a></p>\n\n<p>There is already <a href=\"https://www.sharefest.me/\" rel=\"nofollow\">'something you want'</a>, and it uses a lot of code to make this possible. \nAlso please note that stackoverflow is to ask questions, not to ask for ready made code. If you want that, take a look at carreers 2.0, and find someone who wants to do this for you.</p>\n\n<p>Edit 2:\nNow I see your answer, I think the best way to go is to store all the connections inside an array inside your session object, and go for connecting client 1 -> 2, 2-> 3, 3-> 4 etc. But well then you have issues with parts and such. Think about torrenting, where you connect to multiple people and download small parts from each. It is really hard, yes, and I don't think someone has already done something so big (apart from sharefest). If you really want to make this you will need to do the most yourself. Take some time to think about how you would solve this, and use stackoverflow (or other information sites) to look for how to setup rtc and such.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I'm looking for a cheapo solution to realtime scaling for many users in 1 channel.</p>\n\n<p>I'm using sockjs but scaling is pretty annoying when talking about really large numbers.</p>\n\n<p>I'm thinking about using webrtc to decrease cost with p2p. Instead of the server connecting to all users it would connect to only limited number of users who would then distribute their data to the p2p network through webrtc. Is this sensible? What's the easiest way to implement?</p>\n\n<p>The information is not private and a few seconds &lt;5s of latency is acceptable.</p>\n",
            "last_activity_date": 1390134455,
            "question_id": 18833920,
            "score": 15,
            "tags": [
                "javascript",
                "webrtc"
            ],
            "title": "WebRTC for realtime scaling"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I use anonymous functions for three reasons:</p>\n\n<ol>\n<li>If no name is needed, why add a name to whatever namespace you're in.  </li>\n<li>Anonymous functions are declared inline and inline functions have advantages in that they can access variables in the parent scopes.  Yes, you can put a name on an anonymous function, but that's usually pointless if it's declared inline.   So inline has a significant advantage and if you're doing inline, there's little reason to put a name on it.</li>\n<li>The code seems more self-contained and readable when handlers are defined right inside the code that's calling them.  You can read the code in almost sequential fashion rather than having to go find the function with that name.</li>\n</ol>\n\n<p>I do try to avoid deep nesting of anonymous functions because that can be hairy to understand and read.  Usually when that happens, there's a better way to structure the code (sometimes with a loop, sometimes with a data table, etc...)  and named functions isn't usually the solution there either.</p>\n\n<p>I guess I'd add that if a callback starts to get more than about 15-20 lines long and it doesn't need direct access to variables in the parent scope, I would be tempted to give it a name and break it out into it's own named function declared elsewhere.  There is definitely a readability point here where a non-trivial function that gets long is just more maintainable if it's put in its own named unit.  But, most callbacks I end up with are not that long and I find it more readable to keep them inline.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>I prefer named functions myself, but for me it comes down to one question:</p>\n\n<p><em><strong>Will I use this function anywhere else?</em></strong></p>\n\n<p>If the answer is yes, I name/define it.  If not, pass it as an anonymous function.</p>\n\n<p>If you only use it once, it doesn't make sense to crowd the global namespace with it. In today's complex front-ends, the number of named functions that could have been anonymous grows quickly (easily over 1000 on really intricate designs), resulting in (relatively) large performance gains by preferring anonymous functions.</p>\n\n<p>However, code maintainability is also extremely important. Each situation is different. If you're not writing a lot of these functions to begin with, there's no harm in doing it either way. It's really up to your preference.</p>\n\n<p>Another note about names. Getting in the habit of defining long names will really hurt your file size. Take the following example.</p>\n\n<p>Assume both of these functions do the same thing:</p>\n\n<pre><code>function addTimes(time1, time2)\n{\n    // return time1 + time2;\n}\n\nfunction addTwoTimesIn24HourFormat(time1, time2)\n{\n    // return time1 + time2;\n}\n</code></pre>\n\n<p>The second tells you exactly what it does in the name. The first is more ambiguous.  However, there are 17 characters of difference in the name.  Say the function is called 8 times throughout the code, that's <strong>153 extra bytes</strong> your code didn't need to have. Not colossal, but if it's a habit, extrapolating that to 10s or even 100s of functions will easily mean a few KB of difference in the download.</p>\n\n<p>Again however, maintainability needs to be weighed against the benefits of performance. This is the pain of dealing with a scripted language.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Well, just to be clear for the sake of my arguments, the following are all anonymous functions/function expressions in my book:</p>\n\n<pre><code>var x = function(){ alert('hi'); },\n\nindexOfHandyMethods = {\n   hi: function(){ alert('hi'); },\n   high: function(){\n       buyPotatoChips();\n       playBobMarley();\n   }\n};\n\nsomeObject.someEventListenerHandlerAssigner( function(e){\n    if(e.doIt === true){ doStuff(e.someId); }\n} );\n\n(function namedButAnon(){ alert('name visible internally only'); })()\n</code></pre>\n\n<p>Pros:</p>\n\n<ul>\n<li><p>It can reduce a bit of cruft, particularly in recursive functions (where you could (should actually since arguments.callee is deprecated) still use a named reference per the last example internally), and makes it clear the function only ever fires in this one place.</p></li>\n<li><p>Code legibility win: in the example of the object literal with anon funcs assigned as methods, it would be silly to add more places to hunt and peck for logic in your code when the whole point of that object literal is to plop some related functionality in the same conveniently referenced spot. When declaring public methods in a constructor, however, I do tend to define labeled functions inline and then assign as references of this.sameFuncName. It lets me use the same methods internally without the 'this.' cruft and makes order of definition a non-concern when they call each other.</p></li>\n<li><p>Useful for avoiding needless global namespace pollution - internal namespaces, however, shouldn't ever be that broadly filled or handled by multiple teams simultaneously so that argument seems a bit silly to me.</p></li>\n<li><p>I agree with the inline callbacks when setting short event handlers. It's silly to have to hunt for a 1-5 line function, especially since with JS and function hoisting, the definitions could end up anywhere, not even within the same file. This could happen by accident without breaking anything and no, you don't always have control of that stuff. Events always result in a callback function being fired. There's no reason to add more links to the chain of names you need to scan through just to reverse engineer simple event-handlers in a large codebase and the stack trace concern can be addressed by abstracting event triggers themselves into methods that log useful info when debug mode is on and fire the triggers. I'm actually starting to build entire interfaces this way.</p></li>\n<li><p>Useful when you WANT the order of function definition to matter. Sometimes you want to be certain a default function is what you think it is until a certain point in the code where it's okay to redefine it. Or you want breakage to be more obvious when dependencies get shuffled.</p></li>\n</ul>\n\n<p>Cons:</p>\n\n<ul>\n<li><p>Anon functions can't take advantage of function hoisting. This is a major difference. I tend to take heavy advantage of hoisting to define my own explicitly named funcs and object constructors towards the bottom and get to the object definition and main-loop type stuff right up at the top. I find it makes the code easier to read when you name your vars well and get a broad view of what's going on before ctrl-Fing for details only when they matter to you. Hoisting can also be a huge benefit in heavily event-driven interfaces where imposing a strict order of what's available when can bite you in the butt. Hoisting has its own caveats (like circular reference potential) but it is a very useful tool for organizing and making code legible when used right.</p></li>\n<li><p>Legibility/Debug. Absolutely they get used way too heavily at times and it can make debug and code legibility a hassle. Codebases that rely heavily on JQ, for instance, can be a serious PITA to read and debug if you don't encapsulate the near-inevitable anon-heavy and massively overloaded args of the $ soup in a sensible way. JQuery's hover method for instance, is a classic example of over-use of anon funcs when you drop two anon funcs into it, since it's easy for a first-timer to assume it's a standard event listener assignment method rather than one method overloaded to assign handlers for one or two events. <code>$(this).hover(onMouseOver, onMouseOut)</code> is a lot more clear than two anon funcs.</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Just to add one bit of spice into the mix for self-referencing temporary functions.</p>\n\n<pre><code>(function recursion(iteration){\n    if (iteration &gt; 0) {\n      console.log(iteration);\n      recursion(--iteration);\n    } else {\n      console.log('done');\n    }\n})(20);\n\nconsole.log('recursion defined? ' + (typeof recursion === 'function'));\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/Yq2WD/\" rel=\"nofollow\">http://jsfiddle.net/Yq2WD/</a></p>\n\n<p>This is nice when you want to have an immediately invoked function that references itself but does not add to the global namespace.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm new-ish to JavaScript.  I understand many of the concepts of the language, I've been reading up on the prototype inheritance model, and I'm whetting my whistle with more and more interactive front-end stuff.  It's an interesting language, but I'm always a bit turned off by the callback spaghetti that is typical of many non-trivial interaction models.</p>\n\n<p>Something that has always seemed strange to me is that in spite of the readability nightmare that is a nest of JavaScript nested callbacks, the one thing that I very rarely see in many examples and tutorials is the use of predefined named functions as callback arguments.  I'm a Java programmer by day, and <a href=\"http://projects.haykranen.nl/java/\">discarding the stereotypical jabs about Enterprise-y names for units of code</a> one of the things I've come to enjoy about working in a language with a strong selection of featureful IDE's is that using meaningful, if long, names can make the intent and meaning of code much clearer without making it more difficult to actually be productive.  So why not use the same approach when writing JavaScript code?</p>\n\n<p>Giving it thought, I can come up with arguments that are both for and against this idea, but my naivety and newness to the language impairs me from reaching any conclusions as to why this would be good at a technical level.</p>\n\n<h2>Pros:</h2>\n\n<ul>\n<li>Flexibility.  An asynchronous function with a callback paramater could be reached by one of many different code paths and it could be harried to have to write a named function to account for every single possible edge case.</li>\n<li>Speed.  It plays heavily in to the hacker mentality.  Bolt things on to it until it works.</li>\n<li>Everyone else is doing it</li>\n<li>Smaller file sizes, even if trivially so, but every bit counts on the web.</li>\n<li>Simpler AST? I would assume that anonymous functions are generated at runtime and so the JIT won't muck about with mapping the name to instructions, but I'm just guessing at this point.</li>\n<li>Quicker dispatching?  Not sure about this one either.  Guessing again.</li>\n</ul>\n\n<h2>Cons:</h2>\n\n<ul>\n<li>It's hideous and unreadable</li>\n<li>It adds to the confusion when you're nested nuts deep in a swamp of callbacks (which, to be fair, probably means you're writing poorly constructed code to begin with, but it's quite common).</li>\n<li>For someone without a functional background it can be a bizarre concept to grok</li>\n</ul>\n\n<p>With so many modern browsers showing the ability to execute JavaScript code much faster than before, I'm failing to see how any trivial sort of performance gain one might get out using anonymous callbacks would be a necessity.  It seems that, if you are in a situation where using a named function is feasible (predictable behavior and path of execution) then there would be no reason not to.</p>\n\n<p>So are there any technical reasons or gotchas that I'm not aware of that makes this practice so commonplace for a reason?</p>\n",
            "last_activity_date": 1392135580,
            "question_id": 10273185,
            "score": 15,
            "tags": [
                "javascript",
                "coding-style",
                "callback",
                "anonymous-function",
                "code-readability"
            ],
            "title": "What are the benefits to using anonymous functions instead of named functions for callbacks and paramaters in JavaScript event code?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Something like this should get you started:</p>\n\n<pre><code>var timeout;\n$('input[type=text]').keypress(function() {\n    if(timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n    }\n\n    timeout = setTimeout(myFunction, 5000)\n})\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 32
                },
                {
                    "body": "<p>Although it doesn't use jQuery, you could also have a look at the debouncing function described <a href=\"http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/\" rel=\"nofollow\">here</a>.</p>\n\n<p>Steve</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is great, but remember that you need to enable this code after the documents loads and after the function loads to clear the timeout.</p>\n\n<p>Here is the complete code:</p>\n\n<pre><code>var timeout;\n$(document).ready(function(){\n  $('input[type=text]').keypress(function() {\n      if(timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n      }\n      timeout = setTimeout(myFunction, 5000);\n  });\n});\n\nvar myFunction = new function() { \n  alert('myFunction is running');\n  clearTimeout(timeout); // this way will not run infinitely\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have a form with an <code>&lt;input type=text /&gt;</code> and I want to call a javascript function after 5 seconds of the last key press, and every time a new key is pressed, this timer should reset and only call the function after 5 seconds.</p>\n\n<p>How can I do this?</p>\n\n<p>I'm using jQuery.</p>\n\n<p>thanks!</p>\n",
            "last_activity_date": 1317413162,
            "question_id": 693849,
            "score": 15,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Call a javascript function after 5 sec of last key press"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can use an <a href=\"http://en.wikipedia.org/wiki/XMLHttpRequest\">XMLHttpRequest</a> object to do this. Here's a simple example</p>\n\n<pre><code>var req = new XMLHttpRequest();  \nreq.open('GET', 'http://www.mydomain.com/', false);   \nreq.send(null);  \nif(req.status == 200)  \n   dump(req.responseText);\n</code></pre>\n\n<p>Once loaded, you can perform your parsing/scraping by using <a href=\"https://developer.mozilla.org/En/Core%5FJavaScript%5F1.5%5FReference/Global%5FObjects/RegExp\">javascript regular expressions</a> on the req.responseText member.  </p>\n\n<h2>More detail...</h2>\n\n<p>In practice you need to do a little more to get the XMLHttpRequest object in a cross platform manner, e.g.:</p>\n\n<pre><code>var ua = navigator.userAgent.toLowerCase();\nif (!window.ActiveXObject)\n  req = new XMLHttpRequest();\nelse if (ua.indexOf('msie 5') == -1)\n  req = new ActiveXObject(\"Msxml2.XMLHTTP\");\nelse\n  req = new ActiveXObject(\"Microsoft.XMLHTTP\");\n</code></pre>\n\n<h2>Or use a library...</h2>\n\n<p>Alternatively, you can save yourself all the bother and just use a library like <a href=\"http://docs.jquery.com/Ajax\">jQuery</a> or <a href=\"http://www.prototypejs.org/api/ajax\">Prototype</a> to take care of this for you.</p>\n\n<h2>Same-origin policy may bite you though...</h2>\n\n<p>Note that due to the <a href=\"http://www.w3.org/TR/XMLHttpRequest/#same-origin\">same-origin policy</a>, the page you request must be from the same domain as the page making the request. If you want to request a remote page, you will have to proxy that via a server side script.</p>\n\n<p>Another possible workaround is to use Flash to make the request, which does allow cross-domain requests if the target site grants permission with a suitably configured crossdomain.xml file.</p>\n\n<p>Here's a nice article on the subject of the same-origin policy:</p>\n\n<ul>\n<li><a href=\"http://taossa.com/index.php/2007/02/08/same-origin-policy/\">Same-Origin Policy Part 1: Why we\u2019re stuck with things like XSS and XSRF/CSRF</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>You could open the new window in an iframe:</p>\n\n<p><a href=\"http://www.w3schools.com/TAGS/tag_iframe.asp\" rel=\"nofollow\">http://www.w3schools.com/TAGS/tag_iframe.asp</a></p>\n\n<p>Although note that Javascript access is limited if the site you open is from a different URL. This is to prevent cross-site scripting attacks:</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Cross-site_scripting\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Cross-site_scripting</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You would use AJAX.  This would make a Get request to the URL in question and return the response HTML.  Jquery makes this very easy e.g.</p>\n\n<pre><code>$.get(\"test.php\");\n</code></pre>\n\n<p><a href=\"http://docs.jquery.com/Ajax\" rel=\"nofollow\">http://docs.jquery.com/Ajax</a></p>\n\n<p>Andrew</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I know JavaScript can open a link in a new window but is it possible to open a webpage without opening it in a window or displaying it to the user? What I want to do is parse that webpage for some text and use it as variables. </p>\n\n<p>Is this possible <strong>without</strong> any help from server side languages? If so, please send me in a direction I can achieve this.</p>\n\n<p>Thanks all</p>\n",
            "last_activity_date": 1235823547,
            "question_id": 597907,
            "score": 15,
            "tags": [
                "javascript",
                "regex",
                "parsing",
                "webpage"
            ],
            "title": "Open webpage and parse it using JavaScript"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>as long as you know the x and y position that falls on the particular monitor you can do:</p>\n\n<pre><code>var x = 0;\nvar y = 0;\nvar myWin = window.open(''+self.location,'mywin','left='+x+',top='+y+',width=500,height=500,toolbar=1,resizable=0');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>You can't specify the monitor, but you can specify the position of the popup window as being relative to the where the click caused the window to popup. </p>\n\n<p>Use the getMouseXY() function to get values to pass as the left and top args to the window.open() method. (the left and top args only work with V3 and up browsers).</p>\n\n<p>window.open docs:\n<a href=\"http://www.javascripter.net/faq/openinga.htm\">http://www.javascripter.net/faq/openinga.htm</a></p>\n\n<pre><code>function getMouseXY( e ) {\n    if ( event.clientX ) { // Grab the x-y pos.s if browser is IE.\n        CurrentLeft = event.clientX + document.body.scrollLeft;\n        CurrentTop  = event.clientY + document.body.scrollTop;\n    }\n    else {  // Grab the x-y pos.s if browser isn't IE.\n        CurrentLeft = e.pageX;\n        CurrentTop  = e.pageY;\n    }  \n    if ( CurrentLeft &lt; 0 ) { CurrentLeft = 0; };\n    if ( CurrentTop  &lt; 0 ) { CurrentTop  = 0; };  \n\n    return true;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p><em>If</em> you know the resolution of each monitor, you could estimate this.\nA bad idea for a public website, but might be useful if you know (for some odd reason) that this scenario will always apply.</p>\n\n<p>Relative position to the mouse (as said above) or to the original browser window could also be useful, Though you'd have to suppose the user uses the browser maximized (which is not necessarily true).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is something I shamelessly reverse engineered from the Facebook oauth API. Tested on a primary and secondary monitor in Firefox/Chrome.</p>\n\n<pre><code>function popup_params(width, height) {\n    var a = typeof window.screenX != 'undefined' ? window.screenX : window.screenLeft;\n    var i = typeof window.screenY != 'undefined' ? window.screenY : window.screenTop;\n    var g = typeof window.outerWidth!='undefined' ? window.outerWidth : document.documentElement.clientWidth;\n    var f = typeof window.outerHeight != 'undefined' ? window.outerHeight: (document.documentElement.clientHeight - 22);\n    var h = (a &lt; 0) ? window.screen.width + a : a;\n    var left = parseInt(h + ((g - width) / 2), 10);\n    var top = parseInt(i + ((f-height) / 2.5), 10);\n    return 'width=' + width + ',height=' + height + ',left=' + left + ',top=' + top + ',scrollbars=1';\n}   \n\nwindow.open(url, \"window name\", \"location=1,toolbar=0,\" + popup_params(modal_width, modal_height));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<pre><code>// Pops a window relative to the current window position\nfunction popup(url, winName, xOffset, yOffset) {\n  var x = (window.screenX || window.screenLeft || 0) + (xOffset || 0);\n  var y = (window.screenY || window.screenTop || 0) + (yOffset || 0);\n  return window.open(url, winName, 'top=' +y+ ',left=' +x))\n}\n</code></pre>\n\n<p>Call it like the following and it will open on top of the current window</p>\n\n<pre><code>popup('http://www.google.com', 'my-win');\n</code></pre>\n\n<p>Or make it slightly offset</p>\n\n<pre><code>popup('http://www.google.com', 'my-win', 30, 30);\n</code></pre>\n\n<p>The point is that window.screenX/screenLeft give you the position in relationship to the entire desktop, not just the monitor.</p>\n\n<p>window.screen.left would be the ideal candidate to give you the information you need. The problem is that it's set when the page is loaded and the user could move the window to the other monitor.</p>\n\n<p><strong>More research</strong> </p>\n\n<p>A final solution to this problem (beyond just offsetting from the current window position) requires knowing the dimensions of the screen that the window is in. Since the screen object doesn't update as the user moves a window around, we need to craft our own way of detecting the current screen resolution. Here's what I came up with</p>\n\n<pre><code>/**\n * Finds the screen element for the monitor that the browser window is currently in.\n * This is required because window.screen is the screen that the page was originally\n * loaded in. This method works even after the window has been moved across monitors.\n * \n * @param {function} cb The function that will be called (asynchronously) once the screen \n * object has been discovered. It will be passed a single argument, the screen object.\n */\nfunction getScreenProps (cb) {\n    if (!window.frames.testiframe) {\n      var iframeEl = document.createElement('iframe');\n      iframeEl.name = 'testiframe';\n      iframeEl.src = \"about:blank\";\n      iframeEl.id = 'iframe-test'\n      document.body.appendChild(iframeEl);\n    }\n\n    // Callback when the iframe finishes reloading, it will have the \n    // correct screen object\n    document.getElementById('iframe-test').onload = function() {\n      cb( window.frames.testiframe.screen );\n      delete document.getElementById('iframe-test').onload;\n    };\n    // reload the iframe so that the screen object is reloaded\n    window.frames.testiframe.location.reload();\n};\n</code></pre>\n\n<p>So if you wanted to always open the window at the top left of whatever monitor the window is in, you could use the following:</p>\n\n<pre><code>function openAtTopLeftOfSameMonitor(url, winName) {\n  getScreenProps(function(scr){\n    window.open(url, winName, 'top=0,left=' + scr.left);\n  })\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I ran into this issue recently and finally found a way to position the pop up window on the screen that it's triggered from. Take a look at my solution on my github page here: <a href=\"https://github.com/svignara/windowPopUp\" rel=\"nofollow\">https://github.com/svignara/windowPopUp</a></p>\n\n<p>The trick is in using the <code>window.screen</code> object, which returns <code>availWidth</code>, <code>availHeight</code>, <code>availLeft</code> and <code>availTop</code> values (as well as <code>width</code> and <code>height</code>). For a complete list of the variables in the object and what these variables represent look at <a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.screen\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/DOM/window.screen</a>.</p>\n\n<p>Essentially, my solution finds the values of the <code>window.screen</code> whenever the trigger for the popup is clicked. This way I know for sure which monitor screen it's being clicked from. The <code>availLeft</code> value takes care of the rest. Here's how:</p>\n\n<blockquote>\n  <blockquote>\n    <p>Basically if the first available pixel from the left (<code>availLeft</code>) is negative, that's telling us there is a monitor to the left of the \"main\" monitor. Likewise, if the first available pixel from left is greater than 0, this means one of 2 things:</p>\n    \n    <ol>\n    <li>The monitor is to the right of the \"main\" monitor, OR</li>\n    <li>There is some \"junk\" on the left side of the screen (possibly the application dock or windows start menu)</li>\n    </ol>\n  </blockquote>\n</blockquote>\n\n<p>In either case you want the offset of your popup to start from after the available pixel from the left.</p>\n\n<pre><code>offsetLeft = availableLeft + ( (availableWidth - modalWidth) / 2 )\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Open centered window on current monitor, working also with Chrome:</p>\n\n<pre><code>function popupOnCurrentScreenCenter(url, title, w, h) {\n    var dualScreenLeft = typeof window.screenLeft !== \"undefined\" ? window.screenLeft : screen.left;\n    var dualScreenTop = typeof window.screenTop !== \"undefined\" ? window.screenTop : screen.top;\n\n    var width = window.innerWidth ? window.innerWidth :\n        document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n    var height = window.innerHeight ? window.innerHeight :\n        document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\n    var left = ((width / 2) - (w / 2)) + dualScreenLeft;\n    var top = ((height / 2) - (h / 2)) + dualScreenTop;\n    var newWindow =\n        window.open(url, title, 'scrollbars=yes, width=' + w + ', height=' + h + ', top=' + top + ', left=' + left);\n\n    // Puts focus on the newWindow\n    if (window.focus) {\n        newWindow.focus();\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Scenario:</p>\n\n<ol>\n<li>The user has two monitors.</li>\n<li>Their browser is open on the secondary monitor.</li>\n<li>They click a link in the browser which calls window.open() with a specific top and left window offset.</li>\n<li>The popup window always opens on their primary monitor.</li>\n</ol>\n\n<p>Is there any way in JavaScript to get the popup window to open on the same monitor as the initial browser window (the opener)?</p>\n",
            "last_activity_date": 1414160759,
            "question_id": 57652,
            "score": 15,
            "tags": [
                "javascript",
                "multiple-monitors"
            ],
            "title": "How do I get JavaScript to open a popup window on the current monitor"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You should handle the <code>input</code> and <code>propertychange</code> events.<br>\n<a href=\"http://jsfiddle.net/SLaks/nt4SD/\">Demo</a>.</p>\n",
                    "is_accepted": true,
                    "score": 45
                },
                {
                    "body": "<p>You're right. The paste event is firing before the value of the input changes. Try wrapping your handler in a timeout:</p>\n\n<pre><code>setTimeout(function() { $(\"#attack-max-capacity\").text(getMaxCapacity()); }, 0);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Replace the bind event with .live and it should work, like this:</p>\n\n<pre><code>$(\"#attack-navy\"+unit.ID+\"-number\").live('paste', function(){\n            alert(\"paste detected\");\n            $(\"#attack-max-capacity\").text(getMaxCapacity());\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Allright, SO i have an input box and I need to do things everytime it changes, I am having trouble doing it for mouse paste. Here is the code I have</p>\n\n<pre><code>$(\"#attack-navy\"+unit.ID+\"-number\").bind('paste', function(){\n            alert(\"paste detected\");\n            $(\"#attack-max-capacity\").text(getMaxCapacity());\n});\n</code></pre>\n\n<p>the getMaxCapacity() function return number entered * 30 for now;</p>\n\n<p>Here is the scenario when\n<br />1: I paste 3, it will not change (i still see the alert)\n<br />2: Then when i paste 5, it will be 90(3 * 30)\n<br />3: Then if i paste 10 it will be 150(5 * 30), and so on. </p>\n\n<p>I think its doing the handler before the paste actually occurs. Any ideas on what I can do? (.change will not work, it must happen as soon as u paste)</p>\n",
            "last_activity_date": 1310295533,
            "question_id": 5278808,
            "score": 14,
            "tags": [
                "javascript",
                "jquery",
                "event-handling",
                "mouseevent",
                "paste"
            ],
            "title": "Jquery / JS bind &quot;paste&quot; event handler to input textbox"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>I read somewhere that there are security restrictions with Javascript that stops you from interacting with the OS. I've had good success with ZeroClipboard in the past (http://code.google.com/p/zeroclipboard/), but it does use Flash. The Bitly website uses it quite effectively: <a href=\"http://bit.ly/\" rel=\"nofollow\">http://bit.ly/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can copy to clipboard using <a href=\"http://code.google.com/chrome/extensions/experimental.clipboard.html\" rel=\"nofollow\">Experimental Clipboard API</a>, but it is available only in the dev branch of a browser and not enabled by default (<a href=\"http://code.google.com/chrome/extensions/experimental.html\" rel=\"nofollow\">more info</a>).</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>You can't copy a read only bit of text using <code>execCommand(\"Copy\")</code>, it has to be an editable text area. The solution is to create a text input element and copy the text from there. Unfortunately you can't hide that element using <code>display: none</code> or <code>visibility: hidden</code> as that will also stop the select/copy command from working. However, you can 'hide' it using negative margins. Here's what I did in a Chrome Extension popup that obtains a short url. This is the bit of the code that re-writes the popup window with the shorturl (quick and dirty approach ;-)):</p>\n\n<pre><code>document.body.innerHTML = '&lt;p&gt;&lt;a href=\"'+shortlink+'\" target=\"_blank\" &gt;'+shortlink+'&lt;/a&gt;&lt;form style=\"margin-top: -35px; margin-left: -500px;\"&gt;&lt;input type=\"text\" id=\"shortlink\" value=\"'+shortlink+'\"&gt;&lt;/form&gt;&lt;/p&gt;'\ndocument.getElementById(\"shortlink\").select()\ndocument.execCommand(\"Copy\") \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I'm using this simple function to copy any given plaintext to the clipboard (Chrome only, uses jQuery):</p>\n\n<pre><code>// Copy provided text to the clipboard.\nfunction copyTextToClipboard(text) {\n    var copyFrom = $('&lt;textarea/&gt;');\n    copyFrom.text(text);\n    $('body').append(copyFrom);\n    copyFrom.select();\n    document.execCommand('copy');\n    copyFrom.remove();\n}\n\n// Usage example\ncopyTextToClipboard('This text will be copied to the clipboard.');\n</code></pre>\n\n<p>Due to the fast append-select-copy-remove sequence, it doesn't seem to be necessary to hide the textarea or give it any particular CSS/attributes. At least on my machine, Chrome doesn't even render it to screen before it's removed, even with very large chunks of text.</p>\n\n<p>Note that this will <em>only</em> work within a Chrome extension/app. If you're using a v2 manifest.json you should declare the 'clipboardWrite' permission there; this is mandatory for apps and recommended for extensions.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>I found that the following works best, as it lets you specify mimetype for the copied data:</p>\n\n<pre><code>copy: function(str, mimetype) {\n  document.oncopy = function(event) {\n    event.clipboardData.setData(mimetype, str);\n    event.preventDefault();\n  };\n  document.execCommand(\"Copy\", false, null);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>All credit goes to joelpt, but in case anyone else needs this to work in pure javascript without jQuery (I did), here's an adaptation of his solution:</p>\n\n<pre><code>function copyTextToClipboard(text) {\n  var copyFrom = document.createElement(\"textarea\");\n  copyFrom.textContent = text;\n  var body = document.getElementsByTagName('body')[0];\n  body.appendChild(copyFrom);\n  copyFrom.select();\n  document.execCommand('copy');\n  body.removeChild(copyFrom);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I'm making an extension for Google Chrome and I have hit a snag.  </p>\n\n<p>I need to copy a readonly textarea's content to the clipboard on click in the popup. Does anyone know the best way to go about this with pure Javascript and no Flash? I also have jQuery loaded in the extension, if that helps any. My current (non-working) code is...  </p>\n\n<pre><code>function copyHTMLCB() {\n$('#lb_html').select();\n$('#lb_html').focus();\ntextRange = document.lb_html_frm.lb_html.createTextRange();\ntextRange.execCommand(\"RemoveFormat\");\ntextRange.execCommand(\"Copy\");\nalert(\"HTML has been copied to your clipboard.\"); }\n</code></pre>\n",
            "last_activity_date": 1377562936,
            "question_id": 3436102,
            "score": 14,
            "tags": [
                "javascript",
                "clipboard",
                "google-chrome-extension"
            ],
            "title": "Copy to Clipboard in Chrome Extension"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>OK - for starters, you should use Ems for as many measurements as you can in your UI. At the very least, size all of your text elements with Ems (rather than pixels or %'s). If possible, setting the width of layout blocks in Ems will help the app scale in proportion, too. If you can set all your dimensions in Ems, your entire app will be visually scalable.</p>\n\n<p>The key to Ems is that they're sized relative to the font size of their parent element - which means you can adjust the size of all the text in proportion, by adjusting the font-size of the body element (since everything is relative to the body).</p>\n\n<p>The last step is to use a piece of javascript to detect the width of the viewport, and set the font-size of the body accordingly. Depending on how fine-grained you want to control the scale, you can either use classes on the body element to set up a set of pre-defined values, or directly manipulate the font-size itself. I'd tend to use pre-determined sizes if possible to make testing easier.</p>\n\n<p>I'd use a javascript library to make the detection of the viewport width easier - it's notoriously different in different browsers. With jQuery, the code could look like:</p>\n\n<pre><code>$(function(){\n  var viewPortWidth = $(window).width();\n\n  if (viewPortWidth &gt; 1900) {$('body').addClass('extraWide')}\n  else if (viewPortWidth &gt; 1400) {$('body').addClass('wide')}\n  else if (viewPortWidth &gt; 1000) {$('body').addClass('standard')}\n  else if (viewPortWidth &gt; 700) {$('body').addClass('narrow')}\n  else {$('body').addClass('extraNarrow')}\n\n});\n</code></pre>\n\n<p>And the CSS:</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n\n  body {font-size:62.5%;}  /* Set the size of 1em to 10px in all browsers */\n\n  body.extraWide {font-size:85%;}\n  body.wide {font-size:75%;}\n\n  body.narrow {font-size:50%;}\n  body.extraNarrow {font-size:40%;}\n\n&lt;/style&gt;\n</code></pre>\n\n<p>Those values can be tweaked however you like, of course, and you can set up as many divisions as you want. This is very much a quick-and-dirty solution, but should do the trick.</p>\n\n<p><em>A note</em> - the javascript code shown will only set the scale once when the page is loaded - it won't adjust it when you change the size of your window. That's a possible addition, but there are bigger considerations before heading down that track. Personally, I'd even think about setting the scale value in a cookie, to keep the user's experience consistent throughout their session, rather than rescaling on every page load.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>If you're interested in / able to use <strong>CSS3</strong> then there is a pure CSS solution - <strong>media queries</strong> >> <a href=\"http://www.w3.org/TR/css3-mediaqueries/\">http://www.w3.org/TR/css3-mediaqueries/</a></p>\n\n<p>So for example, the CSS:</p>\n\n<pre><code>@media screen and (min-device-width: 800px) { ... }\n</code></pre>\n\n<p>...allows you to specify different styles for the page when displayed on a 800px screen or greater. Obviously you can vary this as you like - powerful stuff</p>\n\n<p>You may also want to consider the prewritten javascript at the end of this link ...\n<a href=\"http://www.themaninblue.com/experiment/ResolutionLayout/#\">http://www.themaninblue.com/experiment/ResolutionLayout/#</a></p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>Beejamin's answer worked as expected, I added a set timeout so it would scale in real time. It doesn't reverse scale though.</p>\n\n<pre><code>$(document).ready(function() {scaleFont();});\n\n    function scaleFont() {\n\n      var viewPortWidth = $(window).width();\n\n      if (viewPortWidth &gt; 1900) {$('body').addClass('extraWide')}\n      else if (viewPortWidth &gt; 1400) {$('body').addClass('wide')}\n      else if (viewPortWidth &gt; 1000) {$('body').addClass('standard')}\n      else if (viewPortWidth &gt; 700) {$('body').addClass('narrow')}\n      else {$('body').addClass('extraNarrow')}\n\n      setTimeout(scaleFont, 100); \n    }\n</code></pre>\n\n<p><strong>EDIT: SOLVED REVERSE EFFECT</strong></p>\n\n<pre><code>$(document).ready(function() {scaleFont();});\n\n    function scaleFont() {\n\n      var viewPortWidth = $(window).width();\n\n      if (viewPortWidth &gt;= 1900) {$('body').addClass('extraWide').removeClass('wide, standard, narrow, extraNarrow')}\n      else if (viewPortWidth &gt;= 1400) {$('body').addClass('wide').removeClass('extraWide, standard, narrow, extraNarrow')}\n      else if (viewPortWidth &gt;= 1000) {$('body').addClass('standard').removeClass('extraWide, wide, narrow, extraNarrow')}\n      else if (viewPortWidth &gt;= 700) {$('body').addClass('narrow').removeClass('extraWide, standard, wide, extraNarrow')}\n      else {$('body').addClass('extraNarrow').removeClass('extraWide, standard, wide, narrow')}\n\n\n      setTimeout(scaleFont, 100); \n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Heres a simpler and no-jquery solution:</p>\n\n<pre><code>onresize=onload=function(){document.body.style.fontSize=window.innerWidth+\"px\"}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>A better version (for me) of the solution provided by japanFour:</p>\n\n<pre><code>$(document).ready(function() {\n   scaleFont();\n});\n$(window).resize(function() {\n   scaleFont();\n});\n\n\nfunction scaleFont() {\n\n  var viewPortWidth = $(window).width();\n\n  if (viewPortWidth &gt;= 1900) {$('body').attr('class','extraWide');}\n  else if (viewPortWidth &gt;= 1400) {$('body').attr('class','wide');}\n  else if (viewPortWidth &gt;= 1000) {$('body').attr('class','');}\n  else if (viewPortWidth &gt;= 700) {$('body').attr('class','narrow');}\n  else {$('body').attr('class','extraNarrow');}\n}\n</code></pre>\n\n<p>So it resizes only if window is resized (avoiding <code>setTimout</code>), and you give <code>body</code> only the exact class it needs</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here would be my approach (with removing actual classes + Drupal 7 jQuery):</p>\n\n<pre><code>(function ($) {\n$(document).ready(function() {\n\n\nvar bodyClassArr = new Array('extraWide', 'wide', 'normal', 'narrow', 'extraNarrow', 'mobile');\n\nfunction setBodyClass(){\n  // remove previous classes\n  for(x in bodyClassArr){\n      if($('body').hasClass(bodyClassArr[x])){ $('body').removeClass(bodyClassArr[x]); }\n  }\n  var viewPortWidth = $(window).width();\n  if (viewPortWidth &gt; 1900) { $('body').addClass('extraWide'); }\n  else if (viewPortWidth &gt; 1400) { $('body').addClass('wide'); }\n  else if (viewPortWidth &gt; 1000) { $('body').addClass('normal'); }\n  else if (viewPortWidth &gt; 700) { $('body').addClass('narrow'); }\n  else if (viewPortWidth &lt; 700) { $('body').addClass('mobile'); }\n  else { $('body').addClass('normal'); }\n};\nsetBodyClass();\n\n$(window).resize(function() { setBodyClass(); });\n\n}); // jquery end\n}(jQuery));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I know this in quite an old question, but I will be answering anyways due to this being a question that could be searched upon a lot.</p>\n\n<p>There is actually another approach other than Media Queries which is also pure CSS:</p>\n\n<hr>\n\n<p><strong>Viewport units:</strong> <code>vw</code>, <code>vh</code>, <code>vmin</code>, <code>vmax</code>.</p>\n\n<p>These are length units representing 1% of the viewport size for viewport width (vw), height (vh), the smaller of the two (vmin), or the larger of the two (vmax).</p>\n\n<p>So for example you could use:</p>\n\n<p><strong>CSS:</strong></p>\n\n<pre><code>body {\n    font-size:5vmin;\n}\n</code></pre>\n\n<p>This sets the font-size of the entire document to 5% of the smallest viewport size (the width or the height). So for instance on an iPad (1024 x 768 px) the <code>font-size</code> will be <strong>38,4 px</strong> <em>(5% of 768 px because this is the smallest size of either viewport sizes)</em>. </p>\n\n<hr>\n\n<p><strong>As great as this may sound it yet comes with a few issues that should be taken into consideration:</strong></p>\n\n<ul>\n<li><strong>Chrome</strong> does not support viewport units for <code>border widths</code>, <code>column gaps</code>, <code>transform values</code>, <code>box shadows</code> or in <code>calc()</code> until <em>Version 34</em>;</li>\n<li><strong>Safari</strong> &amp; <strong>iOS Safari</strong> <em>(both 6 and 7)</em> does <strong>not</strong> support viewport units\nfor <code>border widths</code>, <code>column gaps</code>, <code>transform values</code>, <code>box shadows</code> or in\n<code>calc()</code>;</li>\n<li><strong>iOS 7 Safari</strong> sets viewport unit values to 0 if the page has been left and is returned to after 60 seconds;</li>\n<li><strong>Internet Explorer 9</strong> in print-mode interprets vh as pages. 30vh = 30 pages;</li>\n<li><strong>iOS 7 Safari</strong> recalculates widths set in vh as vw, and heights set in vw as vh, when orientation changes.</li>\n</ul>\n\n<p><strong>Source:</strong> <a href=\"http://caniuse.com/#feat=viewport-units\" rel=\"nofollow\">http://caniuse.com/#feat=viewport-units</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am creating a web-based app that will be displayed on television and other large monitors. I am wanting a quick and easy way to increase the font size to fit the window size. The text is dynamic.</p>\n\n<p>Any help is greatly appreciated. ;)</p>\n",
            "last_activity_date": 1414151165,
            "question_id": 3146395,
            "score": 14,
            "tags": [
                "javascript",
                "css",
                "fonts",
                "font-size"
            ],
            "title": "How do I increase the font size based on the window width?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>They're using a combination of CSS and JavaScript. The flip animation is powered by a <a href=\"http://css-tricks.com/css-sprites/\">CSS Sprite</a>-like technique.</p>\n\n<p>First of all, they have a very tall image called <code>filmstrip.png</code> that contains every flip \"state\" for each number (0 to 9; have a look at <a href=\"http://i.stack.imgur.com/jwaVW.png\">a scaled-down detail</a> and you'll see what I mean).</p>\n\n<p>Then, in the HTML, each digit is made up of three nested elements:</p>\n\n<ul>\n<li><p>The first is a container element, which has its <code>width</code> and <code>height</code> set to the dimensions of a single flip \"state\", and its <code>overflow</code> set to <code>hidden</code>. This element is positioned relatively.</p></li>\n<li><p>The second element is positioned absolutely (and because the first element is positioned relatively, this second element is positioned absolutely <em>relative</em> to the first element).</p></li>\n<li><p>The third element has its <code>background-image</code> set to <code>filmstrip.png</code>, and its <code>width</code> and <code>height</code> set to the dimensions of this image.</p></li>\n</ul>\n\n<p>The JavaScript then seems to rapidly change the <code>top</code> property of the second element, causing different parts of <code>filmstrip.png</code> to be exposed one after another, thus resulting in a flip animation.</p>\n\n<p>Steve</p>\n\n\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<p>Here it is, ready to be implemented in your own webpage\n<a href=\"http://cnanney.com/journal/code/apple-style-counter-revisited/\">http://cnanney.com/journal/code/apple-style-counter-revisited/</a></p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>While searching for the same thing I found a commercial product offering this functionality: <a href=\"http://codecanyon.net/item/gaur-countdown-with-animation/2665769?ref=oberto\" rel=\"nofollow\">Sprite Countdown Flip</a>.</p>\n\n<p>Note: I'm not affiliated with this product; but it's well done and might be useful to someone.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've made a counter that works great with very minimal javascript to give it a little \"brain\":<br>\n<a href=\"http://codepen.io/vsync/pen/dlwgj\" rel=\"nofollow\"><strong>http://codepen.io/vsync/pen/dlwgj</strong></a></p>\n\n<h2>JADE:</h2>\n\n<pre><code>.numCounter(data-value='1839471')\n  b\n  span ,\n  b\n  b\n  b\n  span ,\n  b\n  b\n  b\n</code></pre>\n\n<h2>SCSS:</h2>\n\n<pre><code>$digitHeight : 70px;\n$speed       : .4s;\n\n.numCounter{ \n  display:inline-block; \n  height:$digitHeight; \n  line-height:$digitHeight; \n  color:#F1F1F1; \n  text-shadow:0 0 2px #fff;\n  font-weight:bold; \n  white-space:normal;\n  font-size:$digitHeight/1.5;\n  &gt; b{\n    display:inline-block; \n    width:$digitHeight/1.4; \n    height:100%; \n    margin:0 0.1em;\n    border-radius:8px;\n    background:#191919; \n    text-align:center;\n    box-shadow:1px 1px rgba(white,.05), 1px 1px 5px #111 inset; \n    overflow:hidden;\n    &amp;:before{ \n        content:' 0 1 2 3 4 5 6 7 8 9 '; \n        display:block; \n        word-break:break-all;\n        word-break:break-word; \n        transition:$speed cubic-bezier(.12,.78,.52,1.2); \n    }\n    @for $i from 1 through 9{\n        &amp;.d#{$i}:before{ margin-top:-$digitHeight * $i; }\n    }\n  }\n  &gt; span{ \n    display:inline-block; \n    font-size:1.1em; \n    opacity:0.4;\n    line-height:1.8; \n    padding:0; \n    vertical-align:top;\n    text-shadow:none;\n  }\n} \n</code></pre>\n\n<p>It looks great and performs live very well, and it it count from any number to any number.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I would like to include a flip counter on my site, similar to what Apple was using for their <a href=\"http://www.macrumors.com/2009/04/10/apple-launches-1-billion-app-countdown-promotion/\">1 billion app countdown</a>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/cHLPq.jpg\" alt=\"enter image description here\"></p>\n\n<p>Can anyone get their JavaScript to work standalone?</p>\n\n<p><em><strong>If anyone can provide working code, that would be great.</em></strong></p>\n",
            "last_activity_date": 1406566345,
            "question_id": 746353,
            "score": 14,
            "tags": [
                "javascript",
                "animation",
                "counter",
                "flip"
            ],
            "title": "JavaScript Flip Counter"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Here is a simple directive that will scroll to an element on click:</p>\n\n<pre><code>myApp.directive('scrollOnClick', function() {\n  return {\n    restrict: 'A',\n    link: function(scope, $elm) {\n      $elm.on('click', function() {\n        $(\"body\").animate({scrollTop: $elm.offset().top}, \"slow\");\n      });\n    }\n  }\n});\n</code></pre>\n\n<p>Demo: <a href=\"http://plnkr.co/edit/yz1EHB8ad3C59N6PzdCD?p=preview\">http://plnkr.co/edit/yz1EHB8ad3C59N6PzdCD?p=preview</a></p>\n\n<p>For help creating directives, check out the videos at <a href=\"http://egghead.io\">http://egghead.io</a>, starting at #10 \"first directive\".</p>\n\n<p><strong>edit</strong>: To make it scroll to a specific element specified by a href, just check <code>attrs.href</code>.</p>\n\n<pre><code>myApp.directive('scrollOnClick', function() {\n  return {\n    restrict: 'A',\n    link: function(scope, $elm, attrs) {\n      var idToScroll = attrs.href;\n      $elm.on('click', function() {\n        var $target;\n        if (idToScroll) {\n          $target = $(idToScroll);\n        } else {\n          $target = $elm;\n        }\n        $(\"body\").animate({scrollTop: $target.offset().top}, \"slow\");\n      });\n    }\n  }\n});\n</code></pre>\n\n<p>Then you could use it like this: <code>&lt;div scroll-on-click&gt;&lt;/div&gt;</code> to scroll to the element clicked.  Or <code>&lt;a scroll-on-click href=\"#element-id\"&gt;&lt;/div&gt;</code> to scroll to element with the id.</p>\n",
                    "is_accepted": true,
                    "score": 39
                },
                {
                    "body": "<p>Thanks Andy for the example, this was very helpful. I ended implementing a slightly different strategy since I am developing a single-page scroll and did not want Angular to refresh when using the hashbang URL. I also want to preserve the back/forward action of the browser. </p>\n\n<p>Instead of using the directive and the hash, I am using a $scope.$watch on the $location.search, and obtaining the target from there. This gives a nice clean anchor tag</p>\n\n<p><code>&lt;a ng-href=\"#/?scroll=myElement\"&gt;My element&lt;/a&gt;</code></p>\n\n<p>I chained the watch code to the my module declaration in app.js like so:</p>\n\n<pre><code>.run(function($location, $rootScope) {\n   $rootScope.$watch(function() { return $location.search() }, function(search) { \n     var scrollPos = 0;\n     if (search.hasOwnProperty('scroll')) {\n       var $target = $('#' + search.scroll);\n       scrollPos = $target.offset().top;\n     }   \n     $(\"body,html\").animate({scrollTop: scrollPos}, \"slow\");\n   });\n})\n</code></pre>\n\n<p>The caveat with the code above is that if you access by URL directly from a different route, the DOM may not be loaded in time for jQuery's $target.offset() call. The solution is to nest this code within a $viewContentLoaded watcher. The final code looks something like this:</p>\n\n<pre><code>.run(function($location, $rootScope) {\n  $rootScope.$on('$viewContentLoaded', function() {\n     $rootScope.$watch(function() { return $location.search() }, function(search) {\n       var scrollPos = 0 \n       if (search.hasOwnProperty('scroll')) {\n         var $target = $('#' + search.scroll);\n         var scrollPos = $target.offset().top;\n       }\n       $(\"body,html\").animate({scrollTop: scrollPos}, \"slow\");                                                                                                                                                                    \n     });  \n   });    \n })\n</code></pre>\n\n<p>Tested with Chrome and FF</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is a better directive in case you would like to use it:</p>\n\n<p>you can scroll to any element in the page:</p>\n\n<pre><code>.directive('scrollToItem', function() {                                                      \n    return {                                                                                 \n        restrict: 'A',                                                                       \n        scope: {                                                                             \n            scrollTo: \"@\"                                                                    \n        },                                                                                   \n        link: function(scope, $elm,attr) {                                                   \n\n            $elm.on('click', function() {                                                    \n                $('html,body').animate({scrollTop: $(scope.scrollTo).offset().top }, \"slow\");\n            });                                                                              \n        }                                                                                    \n    }})     \n</code></pre>\n\n<p>Usage (for example click on div 'back-to-top' will scroll to id scroll-top):</p>\n\n<pre><code>&lt;a id=\"top-scroll\" name=\"top\"&gt;&lt;/a&gt;\n&lt;div class=\"back-to-top\" scroll-to-item scroll-to=\"#top-scroll\"&gt; \n</code></pre>\n\n<p>It's also supported by chrome,firefox,safari and IE cause of the html,body element .</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>In order to animate to a specific element inside a scroll container (fixed DIV)</p>\n\n<pre><code>/*\n    @param Container(DIV) that needs to be scrolled, ID or Div of the anchor element that should be scrolled to\n    Scrolls to a specific element in the div container\n*/\nthis.scrollTo = function(container, anchor) {\n    var element = angular.element(anchor);\n    angular.element(container).animate({scrollTop: element.offset().top}, \"slow\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to get a quick nav to work correctly. It's floating on the side. When they click on  a link, it takes them to that ID on the page. I'm following this <a href=\"http://blog.teamtreehouse.com/smooth-scrolling-in-jquery-quick-tip\">guide from Treehouse</a>.\nThis is what I have for the scrolling:</p>\n\n<pre><code>$(\"#quickNav a\").click(function(){\n    var quickNavId = $(this).attr(\"href\");\n    $(\"html, body\").animate({scrollTop: $(location).offset().top}, \"slow\");\n    return false;\n});\n</code></pre>\n\n<p>I initially placed it before the <code>&lt;/body&gt;</code>. But I seem to be running into a race condition where that was firing before the quickNav compiled (it has a <code>ng-hide</code> placed on it, not sure if that's causing it - but it is within the DOM).</p>\n\n<p>If I run that block of code in the console, then the scrolling works as expected. </p>\n\n<p>I figured it'd be more effective to move this into the controller - or more likely within a directive. But I'm not having luck accomplishing that. <strong>How can I get this block of code to work with AngularJS?</strong></p>\n",
            "last_activity_date": 1424165122,
            "question_id": 17284005,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "angularjs",
                "scroll",
                "anchor"
            ],
            "title": "ScrollTo function in AngularJS"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>SVG provides a native function called <code>.getPointAtLength()</code> which returns a the x and y values  of a path at any length you pass at it.</p>\n\n<p>You would need to iterate through the length of the line until you find the corresponding y position. Here is how you would do it in D3:</p>\n\n<pre><code>var svg = d3.select(\"#line\").append(\"svg\")\nvar path = \n    svg.append(\"path\")\n      .attr(\"d\", \"M0,168L28,95.99999999999997L56,192L84,71.99999999999997L112,120L140,192L168,240L196,168L224,48L252,24L280,192L308,120L336,24L364,168L392,95.99999999999997L420,168L448,95.99999999999997L476,192L504,71.99999999999997L532,120L560,192L588,216L616,168L644,48L672,24L700,192L728,120L756,24L784,192L812,71.99999999999997\")\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"black\");\n\nvar circle = \n    svg.append(\"circle\")\n      .attr(\"cx\", 100)\n      .attr(\"cy\", 350)\n      .attr(\"r\", 3)\n      .attr(\"fill\", \"red\");\n\nvar pathEl = path.node();\nvar pathLength = pathEl.getTotalLength();\nvar BBox = pathEl.getBBox();\nvar scale = pathLength/BBox.width;\nvar offsetLeft = document.getElementById(\"line\").offsetLeft;\nvar randomizeButton = d3.select(\"button\");\n\nsvg.on(\"mousemove\", function() {\n  var x = d3.event.pageX - offsetLeft; \n  var beginning = x, end = pathLength, target;\n  while (true) {\n    target = Math.floor((beginning + end) / 2);\n    pos = pathEl.getPointAtLength(target);\n    if ((target === end || target === beginning) &amp;&amp; pos.x !== x) {\n        break;\n    }\n    if (pos.x &gt; x)      end = target;\n    else if (pos.x &lt; x) beginning = target;\n    else                break; //position found\n  }\n  circle\n    .attr(\"opacity\", 1)\n    .attr(\"cx\", x)\n    .attr(\"cy\", pos.y);\n});\n</code></pre>\n\n<p>You can see a demo here: <a href=\"http://bl.ocks.org/3824661\">http://bl.ocks.org/3824661</a></p>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>I have a graph, and I want the line representing the graph to show a circle at the x coordinate when hovering on top of the svg area. This circle should follow the path of the line that represents the curve. The problem is that I don't know how to do this.</p>\n\n<p>The code below shows how far I have succeded, and it indeed adds a circle to the document at the right x coordinate. Now, what do I replace the question mark with?</p>\n\n<pre><code>    svg.on(\"mousemove\", function() {\n        d3.select(\"path.line\")\n          .style(\"stroke-width\", \"2.5px\");\n\n         svg.append(\"svg:circle\")\n            .attr(\"cx\", Math.floor(event.offsetX-m[1]))\n            .attr(\"cy\", ?)\n            .attr(\"r\", \"10\")\n            .attr(\"fill\", \"red\");\n    });\n</code></pre>\n",
            "last_activity_date": 1349234619,
            "question_id": 12431595,
            "score": 13,
            "tags": [
                "javascript",
                "svg",
                "d3.js"
            ],
            "title": "How do I return y coordinate of a path in d3.js?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>In order to add a label to the map you need to create a custom overlay. The sample at <a href=\"http://blog.mridey.com/2009/09/label-overlay-example-for-google-maps.html\" rel=\"nofollow\">http://blog.mridey.com/2009/09/label-overlay-example-for-google-maps.html</a> uses a custom class, <code>Layer</code>, that inherits from <code>OverlayView</code> (which inherits from <code>MVCObject</code>) from the Google Maps API. He has a revised version (adds support for visibility, zIndex and a click event) which can be found here: <a href=\"http://blog.mridey.com/2011/05/label-overlay-example-for-google-maps.html\" rel=\"nofollow\">http://blog.mridey.com/2011/05/label-overlay-example-for-google-maps.html</a></p>\n\n<p><strong><em>The following code is taken directly from Marc Ridey's Blog (the revised link above).</em></strong></p>\n\n<p><strong>Layer class</strong></p>\n\n<pre><code>// Define the overlay, derived from google.maps.OverlayView\nfunction Label(opt_options) {\n  // Initialization\n  this.setValues(opt_options);\n\n\n  // Label specific\n  var span = this.span_ = document.createElement('span');\n  span.style.cssText = 'position: relative; left: -50%; top: -8px; ' +\n  'white-space: nowrap; border: 1px solid blue; ' +\n  'padding: 2px; background-color: white';\n\n\n  var div = this.div_ = document.createElement('div');\n  div.appendChild(span);\n  div.style.cssText = 'position: absolute; display: none';\n};\nLabel.prototype = new google.maps.OverlayView;\n\n\n// Implement onAdd\nLabel.prototype.onAdd = function() {\n  var pane = this.getPanes().overlayImage;\n  pane.appendChild(this.div_);\n\n\n  // Ensures the label is redrawn if the text or position is changed.\n  var me = this;\n  this.listeners_ = [\n    google.maps.event.addListener(this, 'position_changed', function() { me.draw(); }),\n    google.maps.event.addListener(this, 'visible_changed', function() { me.draw(); }),\n    google.maps.event.addListener(this, 'clickable_changed', function() { me.draw(); }),\n    google.maps.event.addListener(this, 'text_changed', function() { me.draw(); }),\n    google.maps.event.addListener(this, 'zindex_changed', function() { me.draw(); }),\n    google.maps.event.addDomListener(this.div_, 'click', function() {\n      if (me.get('clickable')) {\n        google.maps.event.trigger(me, 'click');\n      }\n    })\n  ];\n};\n\n// Implement onRemove\nLabel.prototype.onRemove = function() {\n this.div_.parentNode.removeChild(this.div_);\n\n // Label is removed from the map, stop updating its position/text.\n for (var i = 0, I = this.listeners_.length; i &lt; I; ++i) {\n   google.maps.event.removeListener(this.listeners_[i]);\n }\n};\n\n// Implement draw\nLabel.prototype.draw = function() {\n var projection = this.getProjection();\n var position = projection.fromLatLngToDivPixel(this.get('position'));\n\n var div = this.div_;\n div.style.left = position.x + 'px';\n div.style.top = position.y + 'px';\n div.style.display = 'block';\n\n this.span_.innerHTML = this.get('text').toString();\n};\n</code></pre>\n\n<p><strong>Usage</strong></p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\"&gt;\n    &lt;title&gt;\n      Label Overlay Example\n    &lt;/title&gt;\n    &lt;script type=\"text/javascript\" src=\"http://maps.google.com/maps/api/js?sensor=false\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"label.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n      var marker;\n\n\n      function initialize() {\n        var latLng = new google.maps.LatLng(40, -100);\n\n\n        var map = new google.maps.Map(document.getElementById('map_canvas'), {\n          zoom: 5,\n          center: latLng,\n          mapTypeId: google.maps.MapTypeId.ROADMAP\n        });\n\n\n        marker = new google.maps.Marker({\n          position: latLng,\n          draggable: true,\n          zIndex: 1,\n          map: map,\n          optimized: false\n        });\n\n\n        var label = new Label({\n          map: map\n        });\n        label.bindTo('position', marker);\n        label.bindTo('text', marker, 'position');\n        label.bindTo('visible', marker);\n        label.bindTo('clickable', marker);\n        label.bindTo('zIndex', marker);\n\n\n        google.maps.event.addListener(marker, 'click', function() { alert('Marker has been clicked'); })\n        google.maps.event.addListener(label, 'click', function() { alert('Label has been clicked'); })\n      }\n\n\n      function showHideMarker() {\n        marker.setVisible(!marker.getVisible());\n      }\n\n\n      function pinUnpinMarker() {\n        var draggable = marker.getDraggable();\n        marker.setDraggable(!draggable);\n        marker.setClickable(!draggable);\n      }\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body onload=\"initialize()\"&gt;\n    &lt;div id=\"map_canvas\" style=\"height: 200px; width: 200px\"&gt;&lt;/div&gt;\n    &lt;button type=\"button\" onclick=\"showHideMarker();\"&gt;Show/Hide Marker&lt;/button&gt;\n    &lt;button type=\"button\" onclick=\"pinUnpinMarker();\"&gt;Pin/Unpin Marker&lt;/button&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I can't guarantee it's the simplest, but I like <a href=\"http://google-maps-utility-library-v3.googlecode.com/svn/tags/markerwithlabel/1.0.1/\"><strong>MarkerWithLabel</strong></a>. As shown in <a href=\"http://google-maps-utility-library-v3.googlecode.com/svn/tags/markerwithlabel/1.0.1/examples/basic.html\"><strong>the basic example</strong></a>, CSS styles define the label's appearance and options in the JavaScript define the content and placement.</p>\n\n<pre><code> .labels {\n   color: red;\n   background-color: white;\n   font-family: \"Lucida Grande\", \"Arial\", sans-serif;\n   font-size: 10px;\n   font-weight: bold;\n   text-align: center;\n   width: 60px;     \n   border: 2px solid black;\n   white-space: nowrap;\n }\n</code></pre>\n\n<p>JavaScript: </p>\n\n<pre><code> var marker = new MarkerWithLabel({\n   position: homeLatLng,\n   draggable: true,\n   map: map,\n   labelContent: \"$425K\",\n   labelAnchor: new google.maps.Point(22, 0),\n   labelClass: \"labels\", // the CSS class for the label\n   labelStyle: {opacity: 0.75}\n });\n</code></pre>\n\n<p>The only part that may be confusing is the labelAnchor. By default, the label's top left corner will line up to the marker pushpin's endpoint. Setting the labelAnchor's x-value to half the width defined in the CSS width property will center the label. You can make the label float above the marker pushpin with an anchor point like <code>new google.maps.Point(22, 50)</code>.</p>\n\n<p>In case access to the links above are blocked, I copied and pasted the <a href=\"http://google-maps-utility-library-v3.googlecode.com/svn/tags/markerwithlabel/1.0.1/src/markerwithlabel_packed.js\">packed source</a> of MarkerWithLabel into this <a href=\"http://jsfiddle.net/yV6xv/36/\"><strong>JSFiddle demo</strong></a>. I hope JSFiddle is allowed in China :|</p>\n",
                    "is_accepted": true,
                    "score": 25
                },
                {
                    "body": "<p>the above solutions wont work on ipad-2 </p>\n\n<p>recently I had an safari browser crash issue while plotting the markers even if there are less number of markers. Initially I was using marker with label (markerwithlabel.js) library\nfor plotting the marker , when i use google native marker it was working fine even with large number of markers but i want customized markers , so i refer the above solution given by jonathan but still the crashing issue is not resolved after doing lot of research i came to know about <a href=\"http://nickjohnson.com/b/google-maps-v3-how-to-quickly-add-many-markers\" rel=\"nofollow\">http://nickjohnson.com/b/google-maps-v3-how-to-quickly-add-many-markers</a> this blog\nand now my map search is working smoothly on ipad-2 :)</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am new to JS and the Google API and I am trying to make multiple markers each with a label. </p>\n\n<p>From little snippets I've been looking at, there was no simple way to attach a label to a marker in Google Maps API v3. Between Google and stackoverflow searches, everyone used a roundabout procedure that involved creating or editing the label class.</p>\n\n<p>I just want to figure out how to attach a label to each marker in a simple way since I am just starting to learn JS/ Google API v3.</p>\n\n<p>Thanks</p>\n\n<p>EDIT #3:\nOkay I finally figured out what was wrong and correctly implemented multiple markers with labels using Lilina's code. Apparently we both defined the var map differently and that itself makes both our codes unable to synchronize well. </p>\n\n<p>I have an additional question now that I am able to use labels for each marker.\nI want to be able to hide markers and their labels based on the zoom level that the user is at.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/11045562/google-maps-api-v3-different-markers-labels-on-different-zoom-levels\">Google Maps API v3 - Different markers/labels on different zoom levels</a></p>\n",
            "last_activity_date": 1419505576,
            "question_id": 11043587,
            "score": 13,
            "tags": [
                "javascript",
                "html",
                "google-maps",
                "google-maps-api-3"
            ],
            "title": "Google Maps API v3 marker with label"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Probably because the actual indexOf implementation is doing a lot more than just looping through the array.  You can see the Firefox internal implementation of it here:</p>\n\n<p><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\">https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf</a></p>\n\n<p>There are several things that can slow down the loop that are there for sanity purposes:</p>\n\n<ul>\n<li>The array is being re-cast to an Objet</li>\n<li>The <code>fromIndex</code> is being cast to a Number</li>\n<li>They're using <code>Math.max</code> instead of a ternary</li>\n<li>They're using <code>Math.abs</code></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>indexOf does a bunch of type-checking and validation that the for loop and while loop ignore.  </p>\n\n<p>Here's the indexOf algorithm:</p>\n\n<p><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\" rel=\"nofollow\">https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf</a></p>\n\n<p><b>Edit: My guess is indexOf is faster for big arrays because it caches the length of the array before looping through it.</b></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Run the test one more time with the edits I've made. </p>\n\n<p>I've increased the size of the array, and made the index you're searching for larger as well. It seems in large arrays indexOf may be a faster choice.</p>\n\n<p><a href=\"http://jsperf.com/js-for-loop-vs-array-indexof/11\" rel=\"nofollow\">http://jsperf.com/js-for-loop-vs-array-indexof/11</a></p>\n\n<p><strong>EDIT: Based on more tests, indexOf seems to run faster than a for loop in the version of Safari I'm using (5.0.3) and slower in just about everything else.</strong></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Why is looping through an Array so much faster than JavaScript's native <code>indexOf</code>?  Is there an error or something that I'm not accounting for?  I expected native implementations would be faster.</p>\n\n<pre><code>                For Loop        While Loop      indexOf\nChrome 10.0     50,948,997      111,272,979     12,807,549\nFirefox 3.6     9,308,421       62,184,430      2,089,243\nOpera 11.10     11,756,258      49,118,462      2,335,347   \n</code></pre>\n\n<p><a href=\"http://jsperf.com/js-for-loop-vs-array-indexof/10\">http://jsperf.com/js-for-loop-vs-array-indexof/10</a></p>\n",
            "last_activity_date": 1373903148,
            "question_id": 6682951,
            "score": 13,
            "tags": [
                "javascript",
                "performance"
            ],
            "title": "Why is looping through an Array so much faster than JavaScript&#39;s native `indexOf`?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>That's a case where you should use <code>if</code> clauses.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can't.  JS Interpreters require you to compare against the switch statement (e.g. there is no \"case when\" statement).  If you really want to do this, you can just make <code>if(){ .. } else if(){ .. }</code> blocks.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>If that's what you want to do, it would be better to use <code>if</code> statements.  For example:</p>\n\n<pre><code>if(liCount == 0){\n    setLayoutState('start');\n}\nif(liCount&lt;=5 &amp;&amp; liCount&gt;0){\n    setLayoutState('upload1Row');\n}\nif(liCount&lt;=10 &amp;&amp; liCount&gt;5){\n    setLayoutState('upload2Rows');\n}             \nvar api = $('#UploadList').data('jsp');\n    api.reinitialise();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You want to use if statements:</p>\n\n<pre><code>if (liCount === 0) {\n    setLayoutState('start');\n} else if (liCount &lt;= 5) {\n    setLayoutState('upload1Row');\n} else if (liCount &lt;= 10) {\n    setLayoutState('upload2Rows');\n}\n$('#UploadList').data('jsp').reinitialise();  \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You've <em>way</em> overcomplicated that. Write it with if statements instead like this:    </p>\n\n<pre><code>if(liCount == 0)\n    setLayoutState('start');\nelse if(liCount&lt;=5)\n    setLayoutState('upload1Row');\nelse if(liCount&lt;=10)\n    setLayoutState('upload2Rows');\n\n$('#UploadList').data('jsp').reinitialise();\n</code></pre>\n\n<p>Or, if <a href=\"http://stackoverflow.com/questions/5464362/javascript-using-a-condition-in-switch-case/5464415#5464415\">ChaosPandion</a> is trying to optimize as much as possible:</p>\n\n<pre><code>setLayoutState(liCount == 0 ? 'start' :\n               liCount &lt;= 5 ? 'upload1Row' :\n               liCount &lt;= 10 ? 'upload2Rows' :\n               null);\n\n$('#UploadList').data('jsp').reinitialise();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Your code does not work because it is not doing what you are expecting it to do.  Switch blocks take in a value, and compare each case to the given value, looking for equality.  Your comparison value is an integer, but most of your case expressions resolve to a boolean value.</p>\n\n<p>So, for example, say <code>liCount = 2</code>.  Your first case will not match, because <code>2 != 0</code>.  Your second case, <code>(liCount&lt;=5 &amp;&amp; liCount&gt;0)</code> evaluates to <code>true</code>, but <code>2 != true</code>, so this case will not match either.</p>\n\n<p>For this reason, as many others have said, you should use a series of <code>if...then...else if</code> blocks to do this.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>if the possible values are integers you can bunch up cases.\nOtherwise, use ifs.</p>\n\n<pre><code>var api, tem;\n\nswitch(liCount){\n    case 0:\n    tem= 'start';\n    break;\n    case 1: case 2: case 3: case 4: case 5:\n    tem= 'upload1Row';\n    break;\n    case 6: case 7: case 8: case 9: case 10:\n    tem= 'upload2Rows';\n    break;\n    default:\n    break;\n}\nif(tem) setLayoutState((tem);\napi= $('#UploadList').data('jsp');\napi.reinitialise();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This works:</p>\n\n<pre><code>switch (true) {\n    case liCount == 0:\n        setLayoutState('start');\n        var api = $('#UploadList').data('jsp');\n        api.reinitialise();\n        break;\n    case liCount&lt;=5 &amp;&amp; liCount&gt;0:\n        setLayoutState('upload1Row');\n        var api = $('#UploadList').data('jsp');\n        api.reinitialise();\n        break;\n    case liCount&lt;=10 &amp;&amp; liCount&gt;5:\n        setLayoutState('upload2Rows');\n        var api = $('#UploadList').data('jsp');\n        api.reinitialise();\n        break;\n    case liCount&gt;10:\n        var api = $('#UploadList').data('jsp');\n        api.reinitialise();\n        break;                  \n}\n</code></pre>\n\n<p>A previous version of this answer considered the parentheses to be the culprit. In truth, the parentheses are irrelevant here - the only thing necessary is <code>switch(true){...}</code> and for your case expressions to evaluate to booleans.</p>\n\n<p>It works because, the value we give to the switch is used as the basis to compare against. Consequently, the case expressions, also evaluating to booleans will determine which case is run. Could also turn this around, and pass <code>switch(false){..}</code> and have the desired expressions evaluate to false instead of true.. but personally prefer dealing with conditions that evaluate to truthyness. However, it does work too, so worth keeping in mind to understand what it is doing. </p>\n\n<p>Eg: if liCount is 3, the first comparison is <code>true === (liCount == 0)</code>, meaning the first case is false. The switch then moves on to the next case <code>true === (liCount&lt;=5 &amp;&amp; liCount&gt;0)</code>. This expression evaluates to true, meaning this case is run, and terminates at the <code>break</code>. I've added parentheses here to make it clearer, but they are optional, depending on the complexity of your expression. </p>\n\n<p>It's pretty simple, and a neat way (if it fits with what you are trying to do) of handling a long series of conditions, where perhaps a long series of <code>\u00ecf() ... else if() ... else if () ...</code> might introduce a lot of visual noise or fragility. </p>\n\n<p>Use with caution, because it is a non-standard pattern, despite being valid code.</p>\n",
                    "is_accepted": false,
                    "score": 40
                },
                {
                    "body": "<pre><code>switch (true) {\n  case condition0:\n    ...\n    break;\n  case condition1:\n    ...\n    break;\n}\n</code></pre>\n\n<p>will work in JavaScript as long as your conditions return proper <code>boolean</code> values, but it doesn't have many advantages over <code>else if</code> statements.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Sorry for that dumb question.\nHow can I use a condition for a case in the javascript switch-case language element?\nLike in the example below, a case should match when the variable <code>liCount</code> is &lt;=5 and >0; however, my code does not work:</p>\n\n<pre><code>switch (liCount) {\n    case 0:\n        setLayoutState('start');\n        var api = $('#UploadList').data('jsp');\n        api.reinitialise();\n        break;\n    case (liCount&lt;=5 &amp;&amp; liCount&gt;0):\n        setLayoutState('upload1Row');\n        var api = $('#UploadList').data('jsp');\n        api.reinitialise();\n        break;\n    case (liCount&lt;=10 &amp;&amp; liCount&gt;5):\n        setLayoutState('upload2Rows');\n        var api = $('#UploadList').data('jsp');\n        api.reinitialise();\n        break;\n    case (liCount&gt;10):\n        var api = $('#UploadList').data('jsp');\n        api.reinitialise();\n        break;                  \n}\n</code></pre>\n\n<p>Thanks for any advice!</p>\n",
            "last_activity_date": 1416783074,
            "question_id": 5464362,
            "score": 13,
            "tags": [
                "javascript",
                "condition",
                "select-case"
            ],
            "title": "javascript: using a condition in switch case "
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>One idea would be to use Firebug console for interactively experimenting with you scripts and then moving only the tested parts into the your code. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Try <a href=\"http://www.jslint.com/\" rel=\"nofollow\">JSlint</a></p>\n\n<p>It's a great utility for debugging Javascript. If you're using the jQuery library, there is a plugin being developed and was just recently released, similarly called <a href=\"http://james.padolsey.com/javascript/jquery-lint/\" rel=\"nofollow\">jQuery Lint</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Douglas Crockford's Jslint: <a href=\"http://www.jslint.com/\">http://www.jslint.com/</a></p>\n\n<p>But be warned, it will hurt your feelings ;-)</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Javascript is run by the browser. I'm not sure there are are 'compilers' so to speak.</p>\n\n<p>One thing you could try is Firefox with Firebug addon installed. You can easily refresh the page, get error listing, including line numbers, etc. Easy way to debug.</p>\n\n<p>Also - If you are willing, using Visual Studio 2008 (or the <a href=\"http://www.microsoft.com/express/Web/\" rel=\"nofollow\">free web developer version</a>) gives you Javascript intellisense, including jQuery support. This will help you immensely in keeping your code clean as you go.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://www.javascriptlint.com/\">http://www.javascriptlint.com/</a></p>\n\n<p>Here are some common mistakes that JavaScript Lint looks for:</p>\n\n<ul>\n<li>Missing semicolons at the end of a line.</li>\n<li>Curly braces without an if, for, while, etc.</li>\n<li>Code that is never run because of a return, throw, continue, or break.</li>\n<li>Case statements in a switch that do not have a break statement.</li>\n<li>Leading and trailing decimal points on a number.</li>\n<li>A leading zero that turns a number into octal (base 8).</li>\n<li>Comments within comments.</li>\n<li>Ambiguity whether two adjacent lines are part of the same statement.</li>\n<li>Statements that don't do anything.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>The Eclipse IDE (with the JSEclipse plugin) identifies nearly all of our syntax problems.</p>\n\n<p>I suggest one of the better editors is <a href=\"http://www.jetbrains.com/idea/features/javascript_editor.html\" rel=\"nofollow\">IntelliJ</a>, but it's not free.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you are using Textmate (mac) you can install <a href=\"http://github.com/subtleGradient/javascript-tools.tmbundle\" rel=\"nofollow\">this bundle</a></p>\n\n<p>It is mainly jslint, that will check your JS syntax.<br />\nAnd it contains some other goodies like various compression tools  </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>J</kbd> in firefox, if you don't catch your mistakes until runtime. Of course firebug works better, but this is a quick way.</p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p><strong><a href=\"http://code.google.com/chrome/devtools/\" rel=\"nofollow\">Chrome</a></strong> : <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>J</kbd> : this will bring up the JavaScript console. You can click the scripts tab to review page scripts.</p>\n\n<p><strong><a href=\"http://getfirebug.com/\" rel=\"nofollow\">FireFox</a></strong> : Install firebug and run it to get a similar console to the above stated chrome utilities.</p>\n\n<p><strong>IDE</strong> : You may wish to use <a href=\"http://wiki.netbeans.org/JavaScript\" rel=\"nofollow\">netbeans</a> or <a href=\"http://www.eclipse.org/downloads/packages/eclipse-ide-javascript-web-developers/heliosr\" rel=\"nofollow\">Eclipse</a> which both offer syntax highlighting and code completion for JavaScript. These will indicate syntax errors at code time.</p>\n\n<p><strong><a href=\"http://www.jslint.com/\" rel=\"nofollow\">jslint</a>/<a href=\"http://jshint.com/\" rel=\"nofollow\">jshint</a></strong> : These tools offer code suggestions to improve your code quality and reduce the possibility of errors (logic) but will also break on syntax and other errors.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I find JSHint, + its vim plugin are very useful. Light weight of vim and still be able to track the syntax errors of the javascript. </p>\n\n<p><a href=\"https://github.com/walm/jshint.vim\" rel=\"nofollow\">https://github.com/walm/jshint.vim</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use the <a href=\"http://esprima.org/demo/validate.html\" rel=\"nofollow\">Esprima</a> JavaSript parser (the link is a online code editor ready to use).</p>\n\n<p>I believe it's currently the best ready-to-use <strong>js parser in js</strong>, that's why I'm using it in my <a href=\"http://liveditor.com\" rel=\"nofollow\"><strong>LIVEditor</strong></a> project (code editor for the html/css/js with <strong>real-time preview</strong>).</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am writing a JavaScript section of code and am making huge amounts of silly mistakes in the syntax.  But the only way to find what line the error is on is to start commenting out the section of code I just wrote and reload it into the browser to narrow down where my missing ');' is.</p>\n\n<p>How do you \"compile\" a JavaScript source to make sure it is syntactically correct so that I can debug it in the browser?</p>\n",
            "last_activity_date": 1372332978,
            "question_id": 2120093,
            "score": 13,
            "tags": [
                "javascript"
            ],
            "title": "How to find Javascript syntax errors"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>I just made an iterative implementation of the algorithm: <a href=\"http://jsfiddle.net/ht22q/\" rel=\"nofollow\">http://jsfiddle.net/ht22q/</a>. It passes your test cases.</p>\n\n<pre><code>function splitUp(arr, n) {\n    var rest = arr.length % n, // how much to divide\n        restUsed = rest, // to keep track of the division over the elements\n        partLength = Math.floor(arr.length / n),\n        result = [];\n\n    for(var i = 0; i &lt; arr.length; i += partLength) {\n        var end = partLength + i,\n            add = false;\n\n        if(rest !== 0 &amp;&amp; restUsed) { // should add one element for the division\n            end++;\n            restUsed--; // we've used one division element now\n            add = true;\n        }\n\n        result.push(arr.slice(i, end)); // part of the array\n\n        if(add) {\n            i++; // also increment i in the case we added an extra element for division\n        }\n    }\n\n    return result;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>maybe this</p>\n\n<pre><code>function split(a, n) {\n    var len = a.length,out = [], i = 0;\n    while (i &lt; len) {\n        var size = Math.ceil((len - i) / n--);\n        out.push(a.slice(i, i += size));\n    }\n    return out;\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/X9zqw/\">http://jsfiddle.net/X9zqw/</a></p>\n",
                    "is_accepted": true,
                    "score": 38
                },
                {
                    "body": "<p>Recursive approach, not tested.</p>\n\n<pre><code>function splitArray(array, parts, out) {\n    var\n        len = array.length\n        , partLen\n\n    if (parts &lt; len) {\n        partLen = Math.ceil(len / parts);\n        out.push(array.slice(0, partLen));\n        if (parts &gt; 1) {\n            splitArray(array.slice(partLen), parts - 1, out);\n        }\n    } else {\n        out.push(array);\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I made it this way, it works...</p>\n\n<pre><code>function splitArray(array, parts) {\n    if (parts&lt; array.length &amp;&amp; array.length &gt; 1 &amp;&amp; array != null) {\n        var newArray = [];\n        var counter1 = 0;\n        var counter2 = 0;\n\n        while (counter1 &lt; parts) {\n            newArray.push([]);\n            counter1 += 1;\n        }\n\n        for (var i = 0; i &lt; array.length; i++) {\n            newArray[counter2++].push(array[i]);\n            if (counter2 &gt; parts - 1)\n                counter2 = 0;\n        }\n\n        return newArray;\n    } else \n        return array;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Another recursive works quite well, it is less ugly</p>\n\n<pre><code>function nSmaller(num, arr, sliced) {\n\n    var mySliced = sliced || [];\n    if(num === 0) {\n        return sliced;\n    }\n\n    var len = arr.length,\n        point = Math.ceil(len/num),\n        nextArr = arr.slice(point);\n\n    mySliced.push(arr.slice(0, point));\n    nSmaller(num-1, nextArr, mySliced);\n\n    return(mySliced);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function split(arr, n) {\r\n  var res = [];\r\n  while (arr.length) {\r\n    res.push(arr.splice(0, n));\r\n  }\r\n  return res;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Imagine I have an JS array like this:</p>\n\n<pre><code>var a = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];\n</code></pre>\n\n<p>What I want is to split that array into N smaller arrays. For instance:</p>\n\n<pre><code>split_list_in_n(a, 2)\n[[1, 2, 3, 4, 5, 6], [7, 8, 9, 10, 11]]\n\nFor N = 3:\n[[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11]]\n\nFor N = 4:\n[[1, 2, 3], [4, 5, 6], [7, 8, 9], [10, 11]]\n\nFor N = 5:\n[[1, 2, 3], [4, 5], [6, 7], [8, 9], [10, 11]]\n</code></pre>\n\n<p>For Python, I have this:</p>\n\n<pre><code>def split_list_in_n(l, cols):\n    \"\"\" Split up a list in n lists evenly size chuncks \"\"\"\n    start = 0\n    for i in xrange(cols):\n        stop = start + len(l[i::cols])\n        yield l[start:stop]\n        start = stop\n</code></pre>\n\n<p>For JS, the best right solution that I could come up with is a recursive function, but I don't like it because it's complicated and ugly. This inner function returns an array like this [1, 2, 3, null, 4, 5, 6, null, 7, 8], and then I have to loop it again and split it manually. (My first attempt was returning this: [1, 2, 3, [4, 5, 6, [7, 8, 9]]], and I decided to do it with the null separator).</p>\n\n<pre><code>function split(array, cols) {\n    if (cols==1) return array;\n    var size = Math.ceil(array.length / cols);\n    return array.slice(0, size).concat([null]).concat(split(array.slice(size), cols-1));\n}\n</code></pre>\n\n<p>Here's a jsfiddle of that: <a href=\"http://jsfiddle.net/uduhH/\">http://jsfiddle.net/uduhH/</a></p>\n\n<p>How would you do that? Thanks!</p>\n",
            "last_activity_date": 1411817487,
            "question_id": 8188548,
            "score": 12,
            "tags": [
                "javascript",
                "arrays"
            ],
            "title": "Splitting a JS array into N arrays"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Escaping the hyphen using <code>\\-</code> is the correct way.</p>\n\n<p>I have verified that the expression <code>/^[a-zA-Z0-9.\\-_]+$/</code> does allow hyphens. You can also use the <code>\\w</code> class to shorten it to <code>/^[\\w.\\-]+$/</code>.</p>\n\n<p>(Putting the hyphen last in the expression actually causes it to not require escaping, as it then can't be part of a range, however you might still want to get into the habit of always escaping it.)</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Escaping using <code>\\-</code> should be fine, but you can also try putting it at the beginning or the end of the character class. This should work for you:</p>\n\n<pre><code>/^[a-zA-Z0-9._-]+$/\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p><code>\\-</code> should work to escape the <code>-</code> in the character range. Can you quote what you tested when it didn't seem to? Because it seems to work: <a href=\"http://jsbin.com/odita3\" rel=\"nofollow\">http://jsbin.com/odita3</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The \\- maybe wasn't working because you passed the whole stuff from the server with a string. If that's the case, you should at first escape the \\ so the server side program can handle it too.</p>\n\n<ul>\n<li>In a server side string: \\\\-</li>\n<li>On the client side: \\-</li>\n<li>In regex (covers): -</li>\n</ul>\n\n<p>Or you can simply put at the and of the [] brackets.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<pre><code>$.validator.addMethod('AZ09_', function (value) { \n    return /^[a-zA-Z0-9.-_]+$/.test(value); \n}, 'Only letters, numbers, and _-. are allowed');\n</code></pre>\n\n<p>When I use somehting like <code>test-123</code> it still triggers as if the hyphen is invalid. I tried <code>\\-</code> and <code>--</code></p>\n",
            "last_activity_date": 1284337402,
            "question_id": 3697202,
            "score": 12,
            "tags": [
                "javascript",
                "jquery",
                "regex",
                "testing",
                "validation"
            ],
            "title": "Including a hyphen in a regex character bracket?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Add variables <code>last_posX</code> and <code>last_posY</code> to account for the change in position when you have translated. update them on dragend so that next time a drag event is captured it takes into account where the last drag ended</p>\n\n<pre><code>var posX=0, posY=0,\n    scale=1, last_scale,\n    last_posX=0, last_posY=0,\n    max_pos_x=0, max_pos_y=0;\n\nhammertime.on('touch drag transform dragend', function(ev) {\n    switch(ev.type) {\n        case 'touch':\n            last_scale = scale;\n            break;\n\n        case 'drag':\n            if(scale != 1){\n                    posX = last_posX + ev.gesture.deltaX;\n                    posY = last_posY + ev.gesture.deltaY;\n                    if(posX &gt; max_pos_x){\n                        posX = max_pos_x;\n                    }\n                    if(posX &lt; -max_pos_x){\n                        posX = -max_pos_x;\n                    }\n                    if(posY &gt; max_pos_y){\n                        posY = max_pos_y;\n                    }\n                    if(posY &lt; -max_pos_y){\n                        posY = -max_pos_y;\n                    }\n            }else{\n                posX = 0;\n                posY = 0;\n                saved_posX = 0;\n                saved_posY = 0;\n            }\n            break;\n\n        case 'transform':\n            scale = Math.max(1, Math.min(last_scale * ev.gesture.scale, 10));\n            max_pos_x = Math.ceil((scale - 1) * rect.clientWidth / 2);\n            max_pos_y = Math.ceil((scale - 1) * rect.clientHeight / 2);\n            if(posX &gt; max_pos_x){\n                posX = max_pos_x;\n            }\n            if(posX &lt; -max_pos_x){\n                posX = -max_pos_x;\n            }\n            if(posY &gt; max_pos_y){\n                posY = max_pos_y;\n            }\n            if(posY &lt; -max_pos_y){\n                posY = -max_pos_y;\n            }\n            break;\n        case 'dragend':\n            last_posX = posX &lt; max_pos_x ? posX: max_pos_x;\n            last_posY = posY &lt; max_pos_y ? posY: max_pos_y;\n            break;\n    }\n\n    // transform!\n    var transform =\n            \"translate3d(0, 0, 0) \" +\n            \"scale3d(1, 1, 0) \"; \n    if(scale != 1){\n        transform =\n            \"translate3d(\"+posX+\"px,\"+posY+\"px, 0) \" +\n            \"scale3d(\"+scale+\",\"+scale+\", 0) \";\n    }\n\n    rect.style.transform = transform;\n    rect.style.oTransform = transform;\n    rect.style.msTransform = transform;\n    rect.style.mozTransform = transform;\n    rect.style.webkitTransform = transform;\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>For Hammer 2.0+ I have taken @DGS answer and changed it to suit what I was doing with Cordova and Intel XDK so it's pure javascript and Hammer 2.0 for webkit. My implementation allows you to zoom and drag at the same time, not independent of each other as above, and provides for a more native feel. It also implements the double tap to zoom in (and to zoom back out). I have it set to zoom between .999 and 4, but you can do as you like just changing those values. So if you just copy and paste this it will probably do what you expect it to (on webkit). Thanks to Eight Media and @DGS for getting me started! Feel free to improve it SO.</p>\n\n<pre><code>function hammerIt(elm) {\nhammertime = new Hammer(elm, {});\nhammertime.get('pinch').set({\n    enable: true\n});\nvar posX = 0,\n    posY = 0,\n    scale = 1,\n    last_scale = 1,\n    last_posX = 0,\n    last_posY = 0,\n    max_pos_x = 0,\n    max_pos_y = 0,\n    transform = \"\",\n    el = elm;\n\nhammertime.on('doubletap pan pinch panend pinchend', function(ev) {\n    if (ev.type == \"doubletap\") {\n        transform =\n            \"translate3d(0, 0, 0) \" +\n            \"scale3d(2, 2, 1) \";\n        scale = 2;\n        last_scale = 2;\n        try {\n            if (window.getComputedStyle(el, null).getPropertyValue('-webkit-transform').toString() != \"matrix(1, 0, 0, 1, 0, 0)\") {\n                transform =\n                    \"translate3d(0, 0, 0) \" +\n                    \"scale3d(1, 1, 1) \";\n                scale = 1;\n                last_scale = 1;\n            }\n        } catch (err) {}\n        el.style.webkitTransform = transform;\n        transform = \"\";\n    }\n\n    //pan    \n    if (scale != 1) {\n        posX = last_posX + ev.deltaX;\n        posY = last_posY + ev.deltaY;\n        max_pos_x = Math.ceil((scale - 1) * el.clientWidth / 2);\n        max_pos_y = Math.ceil((scale - 1) * el.clientHeight / 2);\n        if (posX &gt; max_pos_x) {\n            posX = max_pos_x;\n        }\n        if (posX &lt; -max_pos_x) {\n            posX = -max_pos_x;\n        }\n        if (posY &gt; max_pos_y) {\n            posY = max_pos_y;\n        }\n        if (posY &lt; -max_pos_y) {\n            posY = -max_pos_y;\n        }\n    }\n\n\n    //pinch\n    if (ev.type == \"pinch\") {\n        scale = Math.max(.999, Math.min(last_scale * (ev.scale), 4));\n    }\n    if(ev.type == \"pinchend\"){last_scale = scale;}\n\n    //panend\n    if(ev.type == \"panend\"){\n    last_posX = posX &lt; max_pos_x ? posX : max_pos_x;\n    last_posY = posY &lt; max_pos_y ? posY : max_pos_y;\n    }\n\n    if (scale != 1) {\n        transform =\n            \"translate3d(\" + posX + \"px,\" + posY + \"px, 0) \" +\n            \"scale3d(\" + scale + \", \" + scale + \", 1)\";\n    }\n\n    if (transform) {\n        el.style.webkitTransform = transform;\n    }\n});\n</code></pre>\n\n<p>To implement just call it with hammerIt(document.getElementById(\"imagid\")); after the element has loaded. You can call this on as many elements as you like.</p>\n\n<p>Cheers!</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I am trying to implement pinch to zoom using hammer.js</p>\n\n<p>Here's my HTML-</p>\n\n<pre><code> &lt;script src=\"//cdnjs.cloudflare.com/ajax/libs/hammer.js/1.0.5/hammer.min.js\"&gt;&lt;/script&gt;\n\n&lt;div id=\"pinchzoom\"&gt;\n        &lt;div&gt;\n            &lt;img id=\"rect\" src=\"http://blog.gettyimages.com/wp-content/uploads/2013/01/Siberian-Tiger-Running-Through-Snow-Tom-Brakefield-Getty-Images-200353826-001.jpg\" width=\"2835\" height=\"4289\" ondragstart=\"return false\" alt=\"\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Here's my SCRIPT</p>\n\n<pre><code>var hammertime = Hammer(document.getElementById('pinchzoom'), {\n        transform_always_block: true,\n        transform_min_scale: 1,\n        drag_block_horizontal: false,\n        drag_block_vertical: false,\n        drag_min_distance: 0\n    });\n\n    var rect = document.getElementById('rect');\n\n    var posX=0, posY=0,\n        scale=1, last_scale,\n        rotation= 1, last_rotation;\n\n    hammertime.on('touch drag transform', function(ev) {\n        switch(ev.type) {\n            case 'touch':\n                last_scale = scale;\n                last_rotation = rotation;\n                break;\n\n            case 'drag':\n                posX = ev.gesture.deltaX;\n                posY = ev.gesture.deltaY;\n                break;\n\n            case 'transform':\n                rotation = last_rotation + ev.gesture.rotation;\n                scale = Math.max(1, Math.min(last_scale * ev.gesture.scale, 10));\n                break;\n        }\n\n        // transform!\n        var transform =\n                //\"translate3d(\"+posX+\"px,\"+posY+\"px, 0) \" +\n                \"scale3d(\"+scale+\",\"+scale+\", 0) \";\n\n\n        rect.style.transform = transform;\n        rect.style.oTransform = transform;\n        rect.style.msTransform = transform;\n        rect.style.mozTransform = transform;\n        rect.style.webkitTransform = transform;\n    });\n</code></pre>\n\n<p>It works fine but I am not able to scroll the image. On uncommenting transform3d it works but image looses its position on drag. I can't use jQuery.</p>\n",
            "last_activity_date": 1421096420,
            "question_id": 18011099,
            "score": 11,
            "tags": [
                "javascript",
                "jquery",
                "pinchzoom",
                "hammer.js"
            ],
            "title": "Pinch to zoom using Hammer.js"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>i wrote my own touch handler events.maybe this helps you</p>\n\n<p>it checks for:</p>\n\n<p>fast click : 'fc'</p>\n\n<p>swipe left : 'swl'</p>\n\n<p>swipe right : 'swr'</p>\n\n<p>swipe up : 'swu'</p>\n\n<p>swipe down : 'swd'</p>\n\n<p>each check initializes it's correspondent event.but you can scroll and do whatever else you do normally. you just have some new events. </p>\n\n<p>you need swl swr, i aslo suggest to use fc (fastclick) for click events... it's much faster than normal click.</p>\n\n<pre><code>window.onload=function(){\n(function(d){\n var\n ce=function(e,n){var a=document.createEvent(\"CustomEvent\");a.initCustomEvent(n,true,true,e.target);e.target.dispatchEvent(a);a=null;return false},\n nm=true,sp={x:0,y:0},ep={x:0,y:0},\n touch={\n  touchstart:function(e){sp={x:e.touches[0].pageX,y:e.touches[0].pageY}},\n  touchmove:function(e){nm=false;ep={x:e.touches[0].pageX,y:e.touches[0].pageY}},\n  touchend:function(e){if(nm){ce(e,'fc')}else{var x=ep.x-sp.x,xr=Math.abs(x),y=ep.y-sp.y,yr=Math.abs(y);if(Math.max(xr,yr)&gt;20){ce(e,(xr&gt;yr?(x&lt;0?'swl':'swr'):(y&lt;0?'swu':'swd')))}};nm=true},\n  touchcancel:function(e){nm=false}\n };\n for(var a in touch){d.addEventListener(a,touch[a],false);}\n})(document);\n//EXAMPLE OF USE\nvar h=function(e){console.log(e.type,e)};\ndocument.body.addEventListener('fc',h,false);// 0-50ms vs 500ms with normal click\ndocument.body.addEventListener('swl',h,false);\ndocument.body.addEventListener('swr',h,false);\ndocument.body.addEventListener('swu',h,false);\ndocument.body.addEventListener('swd',h,false);\n}\n</code></pre>\n\n<p>in this case h is my handler for every type of evnet and i add the handlers to the body.</p>\n\n<p>for what i understand your question you just have to write</p>\n\n<pre><code>YOURELEMENT.addEventListener('swr',YOURSWIPERIGHTFUNCTION,false);\nYOURELEMENT.addEventListener('swl',YOURSWIPELEFTFUNCTION,false);\n</code></pre>\n\n<p>to handle multiple elements and the same function... just add one handler.</p>\n\n<p>so if you have</p>\n\n<pre><code>&lt;ul id=\"ul\"&gt;&lt;li&gt;1&lt;/li&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;3&lt;/li&gt;&lt;/ul&gt;\n</code></pre>\n\n<p>you do:</p>\n\n<pre><code>var deleteli=function(e){\n var li=e.target;\n console.log('deleting '+li.textContent);\n}\ndocument.getElementById('ul').addEventListener('swl',deleteli,false);\n</code></pre>\n\n<p>same for fc &amp; swr</p>\n\n<p>there is a bug in ios: don't use alert() .. it will execute 2 times.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>All of these codes need improvement (like most of the codes that you can find on touch manipulation).</p>\n\n<p>When playing with touch event, keep in mind that user have <strong>more than one finger</strong>, that a touch has an <strong>identifier</strong> and that <code>touches</code> list represent all current touches on the surface, even touches <strong>that have not moved</strong>.</p>\n\n<p>So the process is relatively simple:</p>\n\n<ol>\n<li><p>ontouchstart: get the first changed touch (not <code>event.originalEvent.touches</code> property, but <code>event.originalEvent.changedTouches</code> one). Register its identifier with <code>event.originalEvent.changedTouches[0].identifier</code> and touch properties to look for (<code>pageX</code>/<code>pageY</code> or <code>clientX</code>/<code>clientY</code> that are pretty usefull in combination with <code>DOMElement.getBoundingClientRect()</code> method);</p></li>\n<li><p>ontouchmove: make sure that the current touch is in the changedTouches list with <code>event.originalEvent.changedTouches.identifiedTouch( identifier )</code>. If it return nothing, that means that the user has moved another touch (not the one you are looking for). Also register touch properties to look for and do whatever you want with.</p></li>\n<li><p>ontouchend: again, you must be sure the current touch is in changedTouches list. Do the job with touch properties and finally discard your current touch identifier.</p></li>\n</ol>\n\n<p>If you want to do it stronger, consider multiple touches (not only one) to observe.</p>\n\n<p>More information about TouchEvent, TouchList and Touch on: <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Touch_events\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Touch_events</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There is a \"bug\" in the accepted answer. If you don't use Chrome on Android but the build in browser or a \"webview\" (For a html5-hybrid-app) for example, then the swipe is not being detected.</p>\n\n<p>I found out that the event doesn't fire, because of the normal scroll behavior. So adding \"e.preventDefault();\" in touchmove would fix it or the fix from Eric Fuller in the accepted answer.</p>\n\n<p>It's a nice snipped but in a mobile WebApp or Website this could result in a bad scroll stuttering, because the touch-events are observed the whole time.</p>\n\n<p>So I decided to build something new. It's not as comfortable like to have new event listeners, but it's comfortable enough for my needs and it's performat.</p>\n\n<pre><code>function detectswipe(el,func) {\n  swipe_det = new Object();\n  swipe_det.sX = 0;\n  swipe_det.sY = 0;\n  swipe_det.eX = 0;\n  swipe_det.eY = 0;\n  var min_x = 20;  //min x swipe for horizontal swipe\n  var max_x = 40;  //max x difference for vertical swipe\n  var min_y = 40;  //min y swipe for vertical swipe\n  var max_y = 50;  //max y difference for horizontal swipe\n  var direc = \"\";\n  ele = document.getElementById(el);\n  ele.addEventListener('touchstart',function(e){\n    var t = e.touches[0];\n    swipe_det.sX = t.screenX; \n    swipe_det.sY = t.screenY;\n  },false);\n  ele.addEventListener('touchmove',function(e){\n    e.preventDefault();\n    var t = e.touches[0];\n    swipe_det.eX = t.screenX; \n    swipe_det.eY = t.screenY;    \n  },false);\n  ele.addEventListener('touchend',function(e){\n    //horizontal detection\n    if ((((swipe_det.eX - min_x &gt; swipe_det.sX) || (swipe_det.eX + min_x &lt; swipe_det.sX)) &amp;&amp; ((swipe_det.eY &lt; swipe_det.sY + max_y) &amp;&amp; (swipe_det.sY &gt; swipe_det.eY - max_y)))) {\n      if(swipe_det.eX &gt; swipe_det.sX) direc = \"r\";\n      else direc = \"l\";\n    }\n    //vertical detection\n    if ((((swipe_det.eY - min_y &gt; swipe_det.sY) || (swipe_det.eY + min_y &lt; swipe_det.sY)) &amp;&amp; ((swipe_det.eX &lt; swipe_det.sX + max_x) &amp;&amp; (swipe_det.sX &gt; swipe_det.eX - max_x)))) {\n      if(swipe_det.eY &gt; swipe_det.sY) direc = \"d\";\n      else direc = \"u\";\n    }\n\n    if (direc != \"\") {\n      if(typeof func == 'function') func(el,direc);\n    }\n    direc = \"\";\n  },false);  \n}\n\nmyfunction(el,d) {\n  alert(\"you swiped on element with id '\"+el+\"' to \"+d+\" direction\");\n}\n</code></pre>\n\n<p>To use the function just use it like</p>\n\n<pre><code>detectswipe('an_element_id',myfunction);\n\ndetectswipe('an_other_element_id',my_other_function);\n</code></pre>\n\n<p>If a swipe is detected the function \"myfunction\" is called with parameter element-id and \"l,r,u,d\" (left,right,up,down).</p>\n\n<p>Example: <a href=\"http://jsfiddle.net/rvuayqeo/1/\" rel=\"nofollow\">http://jsfiddle.net/rvuayqeo/1/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I need to detect and react to left/right-swipes, but want to give the user the ability to scroll on the same element, so as long as he moves his finger only left/right with a maximum up/down movement of X pixels, it should not scroll, but when he exceeds X, it should scroll.</p>\n\n<p>So what I did is:</p>\n\n<pre><code>var startX, startY, $this = $(this);\nfunction touchmove(event) {\n        var touches = event.originalEvent.touches;\n        if (touches &amp;&amp; touches.length) {\n            var deltaX = touches[0].pageX - startX;\n            var deltaY = touches[0].pageY - startY;\n            if (Math.abs(deltaY) &gt; 50) {\n                $this.html('X: ' + deltaX + '&lt;br&gt; Y: ' + deltaY + '&lt;br&gt;TRUE');\n                $this.unbind('touchmove', touchmove);\n                return true;\n            } else {\n                $this.html('X: ' + deltaX + '&lt;br&gt; Y: ' + deltaY);\n                event.preventDefault();\n            }\n        }\n    }\n\n    function touchstart(event) {\n        var touches = event.originalEvent.touches;\n        if (touches &amp;&amp; touches.length) {\n            startX = touches[0].pageX;\n            startY = touches[0].pageY;\n            $this.bind('touchmove', touchmove);\n        }\n        //event.preventDefault();\n    }\n</code></pre>\n\n<p>But I doesn't restore the ability to scroll in the \"if\" case... </p>\n\n<p>Thanks for any tips.</p>\n",
            "last_activity_date": 1416866839,
            "question_id": 17567344,
            "score": 11,
            "tags": [
                "javascript",
                "jquery",
                "touch",
                "swipe"
            ],
            "title": "Detect left/right-swipe on touch-devices, but allow up/down-scrolling"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>you can use for css first-child pseudo classes if the element is a first child in a div table or body..etc</p>\n\n<p>you can use jquery's nth child() function.</p>\n\n<p><a href=\"http://api.jquery.com/nth-child-selector/\" rel=\"nofollow\">http://api.jquery.com/nth-child-selector/</a></p>\n\n<p>example from jquery.com</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;style&gt;\n\n  div { float:left; }\n  span { color:blue; }\n  &lt;/style&gt;\n  &lt;script src=\"http://code.jquery.com/jquery-1.4.4.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div&gt;&lt;ul&gt;\n    &lt;li&gt;John&lt;/li&gt;\n    &lt;li&gt;Karl&lt;/li&gt;\n    &lt;li&gt;Brandon&lt;/li&gt;\n\n  &lt;/ul&gt;&lt;/div&gt;\n  &lt;div&gt;&lt;ul&gt;\n    &lt;li&gt;Sam&lt;/li&gt;\n  &lt;/ul&gt;&lt;/div&gt;\n\n  &lt;div&gt;&lt;ul&gt;\n    &lt;li&gt;Glen&lt;/li&gt;\n    &lt;li&gt;Tane&lt;/li&gt;\n    &lt;li&gt;Ralph&lt;/li&gt;\n\n    &lt;li&gt;David&lt;/li&gt;\n  &lt;/ul&gt;&lt;/div&gt;\n&lt;script&gt;$(\"ul li:nth-child(2)\").append(\"&lt;span&gt; - 2nd!&lt;/span&gt;\");&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>my 2 cents if I understood the question correctly.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>function fullPath(el){\n  var names = [];\n  while (el.parentNode){\n    if (el.id){\n      names.unshift('#'+el.id);\n      break;\n    }else{\n      if (el==el.ownerDocument.documentElement) names.unshift(el.tagName);\n      else{\n        for (var c=1,e=el;e.previousElementSibling;e=e.previousElementSibling,c++);\n        names.unshift(el.tagName+\":nth-child(\"+c+\")\");\n      }\n      el=el.parentNode;\n    }\n  }\n  return names.join(\" &gt; \");\n}\n\nconsole.log(  fullPath( $('input')[0] ) );\n// \"#search &gt; DIV:nth-child(1) &gt; INPUT:nth-child(1)\"\n</code></pre>\n\n<p>This seems to be what you are asking for<strike>, but you may realize that this is not guaranteed to uniquely identify only one element. (For the above example, all the sibling inputs would be matched as well.)</strike></p>\n\n<p><strong>Edit</strong>: Changed code to use <code>nth-child</code> instead of CSS classes to properly disambiguate for a single child.</p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>Use FireFox with FireBug installed.</p>\n\n<ul>\n<li>Right-click any element</li>\n<li>Select \"Inspect Element\"</li>\n<li>Right click the element in the HTML tree</li>\n<li>Select \"Copy XPath\" or \"Copy CSS Path\"</li>\n</ul>\n\n<p>Output for the permalink to this answer (XPath):</p>\n\n<blockquote>\n  <p>/html/body/div[4]/div[2]/div[2]/div[2]/div[3]/table/tbody/tr/td[2]/table/tbody/tr/td/div/a</p>\n</blockquote>\n\n<p>CSS Path:</p>\n\n<blockquote>\n  <p>html body.question-page div.container div#content div#mainbar div#answers div#answer-4588287.answer table tbody tr td table.fw tbody tr td.vt div.post-menu a</p>\n</blockquote>\n\n<hr>\n\n<p>But regarding this comment:</p>\n\n<blockquote>\n  <p>my final intent is to create a css\n  selector for the object ...</p>\n</blockquote>\n\n<p>If that is your intent, there may be an easier way through JavaScript:</p>\n\n<pre><code>var uniquePrefix = 'isThisUniqueEnough_';\nvar counterIndex = 0;\nfunction addCssToElement(elem, cssText){\n    var domId;\n    if(elem.id)domId=elem.id;\n    else{\n        domId = uniquePrefix + (++counterIndex);\n        elem.id = domId;\n    }\n    document.styleSheets[0].insertRule(\"#\"+domId+\"{\"+cssText+\"}\");\n}\n</code></pre>\n\n<p>The last line may need to be implemented differently for different browsers. Did not test.</p>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>I'm trying to modify a page through JavaScript/CSS (much like Stylish or Greasemonkey do). This is a very complex page (that I didn't build, or can't modify pre-render), which makes constructing the CSS selector hard to do (manually looking at document structure). How can I achieve this?</p>\n",
            "last_activity_date": 1426232592,
            "question_id": 4588119,
            "score": 11,
            "tags": [
                "javascript",
                "dom",
                "css-selectors"
            ],
            "title": "Get element&#39;s CSS selector (without element ID)"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>Use Visual Studio 2008.</p>\n\n<p>The Web Development Helper from Nikhilk is useful as is the Internet Explorer Developer Toolbar (http://www.microsoft.com/en-us/download/details.aspx?id=18359). They are not as good as FireBug though :-(</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>I've used IE WebDeveloper. It's not free and not as nice as Firebug, but got the job done for me. <a href=\"http://www.ieinspector.com/dominspector/index.html\" rel=\"nofollow\">http://www.ieinspector.com/dominspector/index.html</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Though not strictly debuggers, these are useful tools for your arsenal</p>\n\n<ul>\n<li><a href=\"http://www.debugbar.com/\">http://www.debugbar.com/</a></li>\n<li><a href=\"http://projects.nikhilk.net/WebDevHelper/\">http://projects.nikhilk.net/WebDevHelper/</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The only other debugger for Javascript in the IE context is Visual Studio but it'll cost you.  What problems are you having with script debugger that leads to think you need a better debugger?</p>\n\n<p>I suspect that what you are after are the additional features that aren't specifically about debugging javascript but analysing the HTML DOM that has been modified by the javascript and the monitoring of the conversation with the server.</p>\n\n<p>The <a href=\"http://www.microsoft.com/en-us/download/details.aspx?id=18359\" rel=\"nofollow\">IE developer tool bar</a> I find particularly invaluable for debugging web apps as is <a href=\"http://www.fiddlertool.com/fiddler/\" rel=\"nofollow\">fiddler</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can download the <a href=\"http://www.microsoft.com/express/vwd/\" rel=\"nofollow\">Microsoft Visual Web Developer 2008 Express Edition</a> for free.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I would try and go for <a href=\"http://www.my-debugbar.com/wiki/\" rel=\"nofollow\">DebugBar</a>. It's not as nice as Firebug, but it's very useful for javascript debugging...</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There is a <a href=\"http://notetodogself.blogspot.com/2008/08/debug-javascript-in-ie.html\" rel=\"nofollow\">blog post</a> that goes over most of the known ways to debug javascript in IE, with pros and cons. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Great article mkoryak</p>\n\n<p>I used visual studio web developer as in this linked article\n<a href=\"http://www.berniecode.com/blog/2007/03/08/how-to-debug-javascript-with-visual-web-developer-express/\" rel=\"nofollow\">http://www.berniecode.com/blog/2007/03/08/how-to-debug-javascript-with-visual-web-developer-express/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is there a better way to debug JavaScript than MS Script Editor? Like FireBug, but not like FireBug Lite.</p>\n\n<p>Thanks,</p>\n",
            "last_activity_date": 1271442484,
            "question_id": 170164,
            "score": 11,
            "tags": [
                "javascript",
                "internet-explorer",
                "firebug"
            ],
            "title": "Debugging javascript in IE?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<h2>Edit 2014-01-28:</h2>\n\n<p>New readers, make sure you check out <a href=\"http://stackoverflow.com/a/21386201/81723\">Zac's answer below</a>.</p>\n\n<p>He has a much neater solution that will let you define and instantiate a scoped function in the class definition using the fat arrow syntax.</p>\n\n<p>The only thing I will add is that, in regard to <strong>option 5</strong> in Zac's answer, it's possible to specify the method signature and return type without any repetition using this syntax:</p>\n\n<pre><code>public myMethod = (prop1: number): string =&gt; {\n    return 'asdf';\n}\n</code></pre>\n\n<h2>Edit 2013-05-28:</h2>\n\n<p>The syntax for defining a function property type has changed (since TypeScript version 0.8).</p>\n\n<p>Previously you would define a function type like this:</p>\n\n<pre><code>class Test {\n   removeRow: (): void;\n}\n</code></pre>\n\n<p>This has now changed to:</p>\n\n<pre><code>class Test {\n   removeRow: () =&gt; void;\n}\n</code></pre>\n\n<p>I have updated my answer below to include this new change.</p>\n\n<p><em>As a further aside:</em> If you need to define multiple function signatures for the same function name (e.g. runtime function overloading) then you can use the object map notation (this is used extensively in the jQuery descriptor file):</p>\n\n<pre><code>class Test {\n    removeRow: {\n        (): void;\n        (param: string): string;\n    };\n}\n</code></pre>\n\n<hr>\n\n<p>You need to define the signature for <code>removeRow()</code> as a property on your class but assign the implementation in the constructor.</p>\n\n<p>There are a few different ways you can do this.</p>\n\n<h2>Option 1</h2>\n\n<pre><code>class Test {\n\n    // Define the method signature here.\n    removeRow: () =&gt; void;\n\n    constructor (){\n        // Implement the method using the fat arrow syntax.\n        this.removeRow = () =&gt; {\n            // Perform your logic to remove the row.\n            // Reference `this` as needed.\n        }\n    }\n\n}\n</code></pre>\n\n<p>If you want to keep your constructor minimal then you can just keep the <code>removeRow</code> method in the class definition and just assign a proxy function in the constructor:</p>\n\n<h2>Option 2</h2>\n\n<pre><code>class Test {\n\n    // Again, define the method signature here.\n    removeRowProxy: () =&gt; void;\n\n    constructor (){\n        // Assign the method implementation here.\n        this.removeRowProxy = () =&gt; {\n            this.removeRow.apply(this, arguments);\n        }\n    }\n\n    removeRow(): void {\n        // ... removeRow logic here.\n    }\n\n}\n</code></pre>\n\n<h2>Option 3</h2>\n\n<p>And finally, if you're using a library like underscore or jQuery then you can just use their utility method to create the proxy:</p>\n\n<pre><code>class Test {\n\n    // Define the method signature here.\n    removeRowProxy: () =&gt; void;\n\n    constructor (){\n        // Use jQuery to bind removeRow to this instance.\n        this.removeRowProxy = $.proxy(this.removeRow, this);\n    }\n\n    removeRow(): void {\n        // ... removeRow logic here.\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p>Then you can tidy up your <code>deleteItem</code> method a bit:</p>\n\n<pre><code>// Specify `Function` as the callback type.\n// NOTE: You can define a specific signature if needed.\ndeleteItem(removeRowCallback: Function ): void {\n    $.ajax(action, {\n        data: { \"id\": id },\n        type: \"POST\"\n    })\n\n    // Pass the callback here.\n    // \n    // You don't need the fat arrow syntax here\n    // because the callback has already been bound\n    // to the correct scope.\n    .done(removeRowCallback)\n\n    .fail(() =&gt; {\n        alert(\"There was an error!\");\n    });\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>UPDATE: See Sly's updated answer.  It incorporates an improved version of the options below.</p>\n\n<p>ANOTHER UPDATE: Generics</p>\n\n<p>Sometimes you want to specify a generic type in a function signature without having to specify it on the the whole class.  It took me a few tries to figure out the syntax, so I thought it might be worth sharing:</p>\n\n<pre><code>class MyClass {  //no type parameter necessary here\n\n     public myGenericMethod = &lt;T&gt;(someArg:string): QPromise&lt;T&gt; =&gt; {\n\n         //implementation here...\n\n     }\n}\n</code></pre>\n\n<p><strong>Option 4</strong></p>\n\n<p>Here are a couple more syntaxes to add to Sly_cardinal's answer.  These examples keep the function declaration and implementation in the same place:</p>\n\n<pre><code>class Test {\n\n      // Define the method signature AND IMPLEMENTATION here.\n      public removeRow: () =&gt; void = () =&gt; {\n\n        // Perform your logic to remove the row.\n        // Reference `this` as needed.\n\n      }\n\n      constructor (){\n\n      }\n</code></pre>\n\n<p>}</p>\n\n<p>or</p>\n\n<p><strong>Option 5</strong></p>\n\n<p>A little more compact, but gives up explicit return type (the compiler should infer the return type anyway if not explicit):</p>\n\n<pre><code>class Test {\n\n      // Define implementation with implicit signature and correct lexical scope.\n      public removeRow = () =&gt; {\n\n        // Perform your logic to remove the row.\n        // Reference `this` as needed.\n\n      }\n\n      constructor (){\n\n      }\n</code></pre>\n\n<p>}</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>This is sort of a cross post from another answer (<a href=\"http://stackoverflow.com/questions/12756423/is-there-an-alias-for-this-in-typescript/22567957#22567957\">Is there an alias for &#39;this&#39; in TypeScript?</a>). I re-applied the concept using the examples from above. I like it better than the options above because it explictly supports \"this\" scoping to both the class instance as well as the dynamic context entity that calls the method.</p>\n\n<p>There are two versions below. I like the first one because the compiler assists in using it correctly (you won't as easily try to misuse the callback lambda itself <em>as</em> the callback, because of the explicitly typed parameter).</p>\n\n<p>Test it out:\n<a href=\"http://www.typescriptlang.org/Playground/\" rel=\"nofollow\">http://www.typescriptlang.org/Playground/</a></p>\n\n<pre><code>class Test {\n\n    private testString: string = \"Fancy this!\";\n\n    // Define the method signature here.\n    removeRowLambdaCallback(outerThis: Test): {(): void} {\n        alert(\"Defining callback for consumption\");\n        return function(){\n            alert(outerThis.testString); // lexically scoped class instance\n            alert(this); // dynamically scoped context caller\n            // Put logic here for removing rows. Can refer to class\n            // instance as well as \"this\" passed by a library such as JQuery or D3.\n        }\n    }\n    // This approach looks nicer, but is more dangerous\n    // because someone might use this method itself, rather\n    // than the return value, as a callback.\n     anotherRemoveRowLambdaCallback(): {(): void} {\n        var outerThis = this;\n        alert(\"Defining another callback for consumption\");\n        return function(){\n            alert(outerThis.testString); // lexically scoped class instance\n            alert(this); // dynamically scoped context caller\n            // Put logic here for removing rows. Can refer to class\n            // instance as well as \"this\" passed by a library such as JQuery or D3.\n        }\n    }\n}\n\nvar t = new Test();\nvar callback1 = t.removeRowLambdaCallback(t);\nvar callback2 = t.anotherRemoveRowLambdaCallback();\n\ncallback1();\ncallback2();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a TypeScript class, with a function that I intend to use as a callback:</p>\n\n<pre><code>removeRow(_this:MyClass): void {\n    ...\n    // 'this' is now the window object\n    // I must use '_this' to get the class itself\n    ...\n}\n</code></pre>\n\n<p>I pass it in to another function</p>\n\n<pre><code>this.deleteRow(this.removeRow);\n</code></pre>\n\n<p>which in turn calls a jQuery Ajax method, which if successful, invokes the callback like this:</p>\n\n<pre><code>deleteItem(removeRowCallback: (_this:MyClass) =&gt; void ): void {\n    $.ajax(action, {\n        data: { \"id\": id },\n        type: \"POST\"\n    })\n    .done(() =&gt; {\n        removeRowCallback(this);\n    })\n    .fail(() =&gt; {\n        alert(\"There was an error!\");\n    });\n}\n</code></pre>\n\n<p>The only way I can preserve the 'this' reference to my class is to pass it on to the callback, as demonstrated above. It works, but it's pants code. If I don't wire up the 'this' like this (sorry), then any reference to this in the callback method has reverted to the Window object. Because I'm using arrow functions all the way, I expected that the 'this' would be the class itself, as it is elsewhere in my class.</p>\n\n<p>Anyone know how to pass callbacks around in TypeScript, preserving lexical scope?</p>\n",
            "last_activity_date": 1396109886,
            "question_id": 14471975,
            "score": 10,
            "tags": [
                "javascript",
                "callback",
                "typescript"
            ],
            "title": "How can I preserve lexical scope in TypeScript with a callback function"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The viewport object has the information you need to make a bounds object. Something like this:</p>\n\n<pre><code>var bounds = new google.maps.LatLngBounds(\n    new google.maps.LatLng(results[0].geometry.viewport.southwest.lat, results[0].geometry.viewport.southwest.lng),\n    new google.maps.LatLng(results[0].geometry.viewport.northeast.lat, results[0].geometry.viewport.northeast.lng)\n);\n</code></pre>\n\n<p>Then you can use fitBounds on that new bounds object, just like you're doing for the returned bounds object. Like this:</p>\n\n<pre><code>map.fitBounds(bounds);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Right. After trying both methods and testing, it comes out that:  </p>\n\n<ol>\n<li>the <code>geometry.bounds</code> object is \"optionnaly returned\" as the doc says</li>\n<li>we don't exactly know what the <code>geometry.bounds</code> object is based on</li>\n<li><code>geometry.bounds</code> \"may not match the recommended viewport\" and often doesn't</li>\n<li><code>geometry.bounds</code> returns a square or rectangle of any size and shape while the viewport functions always return a rectangle with the same aspect ratio (around 1.43), whatever your map container dimensions are, as far as I tested.</li>\n</ol>\n\n<p>Below is the example of San Francisco, CA, mentioned in the doc.<br>\nIn red using <code>geometry.bounds</code> and in blue using the viewport functions.</p>\n\n<p><img src=\"http://i.stack.imgur.com/GbBsj.png\" alt=\"San Francisco, CA\"></p>\n\n<p>The solution is simple enough and is reliable.</p>\n\n<pre><code>var resultBounds = new google.maps.LatLngBounds(\n\n    results[0].geometry.viewport.getSouthWest(), \n    results[0].geometry.viewport.getNorthEast()\n);\n\nmap.fitBounds(resultBounds);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p><strong>Goal</strong>: I want to have a custom search (geocode) function and be able to list and click\neach result and display it on the map.</p>\n\n<p><strong>Wanted</strong>: Adjust map bounds / zoom level accordingly, i.e. searching for \"MA, USA\" should zoom the map to let me see the whole Massachusetts state, while searching for \"Boston, MA, USA\" should zoom on the Boston area. When listing multiple results, the same should apply when clicking on a result.</p>\n\n<p><strong>Issue</strong>: I can use the geometry.bounds object with fitBounds - but - some results you get using the geocoder do not have that geometry.bounds object.</p>\n\n<p>A quick example: searching for \"Boston\" returns</p>\n\n<p>Boston, MA, USA<br>\nBoston, IN, USA<br>\nBoston, KY, USA<br>\nBoston, GA 31626, USA<br>\nBoston, Salem, VA 22713, USA<br>\nBoston, NY 14025, USA  </p>\n\n<p>Both \"Boston, KY\" and \"Boston NY 14025\" do not have bounds.</p>\n\n<p><strong>Question</strong>: Is there a reliable way to display any geocoder result on a map at the appropriate zoom\nlevel?</p>\n\n<p>Right now I am using something like that but I find this ugly and it doesn't solve the zoom issue</p>\n\n<pre><code>if (results[0].geometry.bounds) {\n\n    map.fitBounds(results[0].geometry.bounds);\n\n} else {\n\n    map.setCenter(results[0].geometry.location);\n    // eventually set zoom here to some middle-range value (ugly)\n}\n</code></pre>\n",
            "last_activity_date": 1403263030,
            "question_id": 9491114,
            "score": 10,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3",
                "google-geocoder",
                "fitbounds"
            ],
            "title": "Google Maps API v3 - Geocoder results issue with bounds"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>There are lots of libraries and tools that do async chaining and control-flow for you and they mostly come in two main flavours:</p>\n\n<ol>\n<li><p><strong>Control-flow libraries</strong></p>\n\n<p>For example, see <a href=\"https://github.com/caolan/async\">async</a>, <a href=\"https://github.com/substack/node-seq\">seq</a> and <a href=\"https://github.com/creationix/step\">step</a> (callback based) or <a href=\"https://github.com/kriskowal/q\">Q</a> and <a href=\"https://github.com/coolaj86/futures\">futures</a> (promise based). The main advantage of these is that they are just plains JS libraries that ease the pain of async programming.</p>\n\n<p>In my personal experience, promise-based libraries tend to lead to code that looks more like usual synchronous code, since you return values using \"return\" and since promise values can be passed and stored around, similarly to real values.</p>\n\n<p>On the other hand, continuation-based code is more low level since it manipulates code paths explicitely. This can possibly allow for more flexible control flow and better integration with existing libraries, but it might also lead to more boilerplaty and less intuitive code.</p></li>\n<li><p><strong>Javascript CPS compilers</strong></p>\n\n<p>Extending the language to add native support for coroutines/generators lets you write asynchronous code in a very straightforward manner and plays nice with the rest of the language meaning you can use Javascript if statements, loops etc instead of needing to replicate them with functions. This also means that its very easy to convert previously sync code into an async version. However, there is the obvious disadvantage that not every browser will run your Javascript extension so you will need to add a compilation step in your build proccess to convert your code to regular JS with callbacks in continuation-passing-style. Anyway, one promising alternative is the generators in the Ecmascript 6 spec - while only firefox supports them natively as of now, there are projects such as <a href=\"http://facebook.github.io/regenerator/\">regenerator</a> and <a href=\"https://github.com/google/traceur-compiler\">Traceur</a> to compile them back to callbacks. There are also other projects that create their own async syntax (since es6 generators hadn't come up back then). In this category, you will find things such as <a href=\"http://tamejs.org/\">tamejs</a> and <a href=\"http://maxtaco.github.com/coffee-script/\">Iced Coffeescript</a>. Finally, if you use Node.js there you could also take a look at <a href=\"https://bjouhier.wordpress.com/2012/03/11/fibers-and-threads-in-node-js-what-for/\">Fibers</a>.</p></li>\n</ol>\n\n<hr>\n\n<p><strong>My recomendation:</strong></p>\n\n<p>If you just want something simple that won't complicate your build proccess, I would recomend going with whatever control-flow library best fits your personal style and the libraries you already use.</p>\n\n<p>However, if you expect to write lots of complicated and deeply-integrated asynchronous code, I would strongly recommend at least looking into a compiler-based alternative.</p>\n",
                    "is_accepted": true,
                    "score": 21
                }
            ],
            "body": "<p>I'm trying to find the best way to create async calls when each call depends on the prior call to have completed. At the moment I'm chaining the methods by recursively calling a defined process function as illustrated below.</p>\n\n<p>This is what I'm currently doing.</p>\n\n<pre><code>var syncProduct = (function() {\n    var done, log;\n    var IN_CAT = 1, IN_TITLES = 2, IN_BINS = 3;\n    var state = IN_CAT;\n    var processNext = function(data) {\n        switch(state) {\n            case IN_CAT:\n                SVC.sendJsonRequest(url(\"/api/lineplan/categories\"), processNext);\n                state = IN_TITLES;\n                break;\n            case IN_TITLES:\n                log((data ? data.length : \"No\") + \" categories retrieved!\");\n                SVC.sendJsonRequest(url(\"/api/lineplan/titles\"), processNext);\n                state = IN_BINS;\n                break;\n            case IN_BINS:\n                log((data ? data.length : \"No\") + \" titles retrieved!\");\n                SVC.sendJsonRequest(url(\"/api/lineplan/bins\"), processNext);\n                state = IN_MAJOR;\n                break;\n            default:\n                log((data ? data.length : \"No\") + \" bins retrieved!\");\n                done();\n                break;\n        }\n    }\n    return {\n        start: function(doneCB, logCB) {\n            done = doneCB; log = logCB; state = IN_CAT;\n            processNext();\n        }\n    }\n})();\n</code></pre>\n\n<p>I would then call this as follows</p>\n\n<pre><code>var log = function(message) {\n    // Impl removed.\n}\n\nsyncProduct.start(function() {\n    log(\"Product Sync Complete!\");\n}, log);\n</code></pre>\n\n<p>While this works perfectly fine for me I can't help but think there has to be a better (simpler) way. What happens later when my recursive calls get too deep?</p>\n\n<p><strong>NOTE</strong>: I am not using javascript in the browser but natively within the Titanium framework, this is akin to Javascript for Node.js.</p>\n",
            "last_activity_date": 1389746464,
            "question_id": 9432587,
            "score": 10,
            "tags": [
                "javascript",
                "node.js",
                "titanium",
                "titanium-mobile",
                "serverside-javascript"
            ],
            "title": "What is the correct way to chain async calls in javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Just call this at the top of your files. Requires are in a shared space, so you can re-require the file multiple times and it will always reference the same version. If you want to be fancy you can create your own db module that does something like this, to prevent double creating clients:</p>\n\n<pre><code>// db.js\nvar db \nvar redis = require('redis')\nexports.connect = function() {\n  if (!db) db = redis.createClient()\n  return db\n}\n\nexports.disconnect = function() {\n  redis.quit()\n  db = null\n}\n\n\n// index.js\nvar dbHelper = require(.'/db')\nvar db = dbHelper.connect()\n\n// whatever other file\nvar dbHelper = require(.'/db')\nvar db = dbHelper.connect() // won't connect twice\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can either create an app global and hang the vars you want to share off that or you can use an initializer function in your routes file </p>\n\n<p>f.e.</p>\n\n<pre><code>// app.js\n\nvar app = express.createServer()\n  , db = require('redis').createClient();\n\nrequire('./routes').with(app, db);\n\n// routes.js\nmodule.exports.with = function(app, db) {\n  app.get('/',function(r,s) { s.end('Sweet');});\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I really liked Jamund's solution, but I would extend the concept to this:</p>\n\n<pre><code>// db.js\nvar redis = require('redis');\nmodule.exports = redis.createClient();\n\n// index.js\nvar db = require(.'/db')\n\n// whatever other file\nvar db = require(.'/db')\n// do something with db\ndb.disconnect();\n</code></pre>\n\n<p>both db on index and other file would get the same instance of the redis client</p>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<p>I just started using a new version of Express (2.5.5) that by default creates a <code>./routes</code> directory along with <code>./views</code> and <code>./public</code></p>\n\n<p>Inside of routes there is a <code>index.js</code> file which contains:</p>\n\n<pre><code>/*\n * GET home page.\n */\n\nexports.index = function(req, res){\n  res.render('index', { title: 'Express' })\n};\n</code></pre>\n\n<p>by default (after running <code>express</code> from the commandline) and this is the routes section in the main <code>app.js</code>:</p>\n\n<pre><code>// Routes\n\napp.get('/', routes.index);\n</code></pre>\n\n<p>I've set up a variable for a redis client in the main <code>app.js</code>:</p>\n\n<pre><code>var redis = require('redis'),\n    db = redis.createClient();\n</code></pre>\n\n<p>and I was wondering how I could access the methods of <code>db</code> (and whatever other modules I <code>require</code> in <code>app.js</code>) in the files contained in <code>./routes</code></p>\n\n<p>Thank you</p>\n",
            "last_activity_date": 1375112908,
            "question_id": 8931239,
            "score": 10,
            "tags": [
                "javascript",
                "node.js",
                "express"
            ],
            "title": "How to access variables declared in main app.js in seperate route files in node.js Express 2.5.5?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>jQuery and Sizzle optimize the <code>#id</code> selector <em><a href=\"https://github.com/jquery/jquery/blob/2a045f8269de9ef936bfaa2efbf71b9962385cf8/src/core.js#L144\"><sup>[source]</sup></a></em> to <code>document.getElementById(id)</code>. I think they aren't able to optimize it like this with the <code>tag#id</code>.</p>\n\n<p>The first is faster.</p>\n\n<p>BTW specifying the tag name for an <code>#id</code> selector is over-specifying, as there can be only one tag with a given id on the document. Over-specifying is slower <a href=\"https://code.google.com/speed/page-speed/docs/rendering.html#UseEfficientCSSSelectors\">even in CSS</a>.</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<pre><code>var div = $('#someId'); //should be faster\n</code></pre>\n\n<p>jQuery will use <code>getElementById()</code> for the above selector</p>\n\n<pre><code>var div = $('div#someId'); //would probably preform slower due to finding all the divs first\n</code></pre>\n\n<p>jQuery will use <code>getElementsByTagName()</code>, then iterate though the array of elements for the above selector</p>\n\n<p>You should also remember, tag names should definately be used with class selectors (whenever possible)</p>\n\n<pre><code>var div = $('div.myclass') //faster than the statement below\n</code></pre>\n\n<p>versus</p>\n\n<pre><code>var div = $('.myclass') //slower\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you are using jQuery, you can assume a browser with <code>getElementById</code>.  <code>$('#someId')</code> can be converted to <code>document.getElementById('someId')</code>.  <code>$('div#someId')</code> won't be, so it will be faster to lose the tag name.</p>\n\n<p><a href=\"http://jsperf.com/tag-name-in-jquery-id-selectors\">jsPerf demonstrating this</a>. The difference is enormous.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>JsPerf: <a href=\"http://jsperf.com/jquery-id-vs-tagname-id\" rel=\"nofollow\">http://jsperf.com/jquery-id-vs-tagname-id</a></p>\n\n<p>The first one is going to be faster because it only has to check the id.  The second one runs the same check AND has to make sure the tagname is correct.  <code>div#id</code> won't give you the element with id <code>id</code> unless it is a <code>div</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Rather than speculating, let's measure it!</p>\n\n<p>Here's a test case with this page loaded, then matching a random element with both methods.</p>\n\n<p>Make sure you scroll right down to the bottom.</p>\n\n<p><a href=\"http://jsperf.com/which-jquery-sizzle-selector-is-faster#runner\">http://jsperf.com/which-jquery-sizzle-selector-is-faster#runner</a></p>\n\n<p>As you might expect, a plain id is faster than a tag qualified one (reduction to getElementByID). This is the same when using classes.</p>\n\n<p>Selecting by ID is massively faster than selecting by class, mainly as IDs are guaranteed to be unique.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>You can see from the source code here: <a href=\"http://code.jquery.com/jquery-1.6.2.js\" rel=\"nofollow\">http://code.jquery.com/jquery-1.6.2.js</a> in the function <code>init</code>.</p>\n\n<p>The fastest selector is <code>$('')</code> which just returns an empty jQuery object immediately.</p>\n\n<p><code>$('body')</code> is next, which jQuery converts to <code>document.body</code></p>\n\n<p>The next is <code>$('#id')</code> which uses <code>document.getElementById('id')</code>.</p>\n\n<p>Any other selector such as <code>$('div#id')</code> will just become a call to <code>$(document).find('div#id')</code>. <code>find()</code> is very complex compared to any of those other solutions and uses Sizzle JS to select the div.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have been reading more lately about the efficiency of the different selector engines. I know that jQuery uses the Sizzle engine and <a href=\"http://net.tutsplus.com/tutorials/javascript-ajax/14-helpful-jquery-tricks-notes-and-best-practices/\">this blog post</a> about some jQuery stuff mentioned that the Sizzle engine will break apart your selector into an array then parse left to right.</p>\n\n<blockquote>\n  <p>It then, from right to left, begins deciphering each item with regular expressions. What this also means is that the right-most part of your selector should be as specific as possible \u2014 for instance, an id or tag name. </p>\n</blockquote>\n\n<p>My question is whether it is more efficient to run a selector with <strong>just</strong> the ID specified or the tag name as well:</p>\n\n<pre><code>var div = $('#someId');\n//OR\nvar div = $('div#someId');\n</code></pre>\n\n<p>Since I write my CSS in the <code>div#someId</code> form I tend to do my selectors the same way, am I causing Sizzle to perform extra work (assuming <em>QuerySelectorAll</em> is unavailable)?</p>\n",
            "last_activity_date": 1314819687,
            "question_id": 7262116,
            "score": 10,
            "tags": [
                "javascript",
                "jquery",
                "performance",
                "sizzle"
            ],
            "title": "jQuery Selectors, efficiency"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>In the former case, function object is only created when that function is called.</p>\n</blockquote>\n\n<p>No, the functions are created regardless.</p>\n\n<p>Note that you can also do this:</p>\n\n<pre><code>function foo() {\n}\n\nfunction bar() {\n}\n\nvar Baz = {\n  foo: foo,\n  bar: bar\n};\n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>var Baz = (function() {\n    function foo() {\n    }\n\n    function bar() {\n    }\n\n    return {\n      foo: foo,\n      bar: bar\n    };\n})();\n</code></pre>\n\n<p>The primary purpose of putting the functions on <code>Baz</code> as properties is to make them available as \"methods\" on <code>Baz</code>. This might be for convenience, for \"namespacing\", etc. In your first form (and my first form above), if that code is at global scope, <code>foo</code> and <code>bar</code> are added to the global scope, which can get pretty crowded pretty fast (esp. on browsers). In your second example, the only global symbol is <code>Baz</code> because the functions are anonymous. In my final example above, the only global symbol is <code>Baz</code> but the functions <em>aren't</em> anonymous, they have names that debuggers and stack traces can show you (which is a good thing; <a href=\"http://blog.niftysnippets.org/2010/03/anonymouses-anonymous.html\">more here</a>).</p>\n\n<p>In terms of trying to optimize when functions get created, here's how it works: When execution enters a given <em>context</em> (the global context, or the context related to calling a function), these things are done:</p>\n\n<ol>\n<li>A behind-the-scenes <em>execution context</em> object is created.</li>\n<li>A behind-the-scenes <em>variable object</em> for that execution context is created.</li>\n<li>In the case of a function context:\n<ol>\n<li>A property is added to the variable object for <code>arguments</code> (the array-like thing you can use to access arguments)</li>\n<li>A property is added to the variable object for each of the function's named arguments, with the value of the argument</li>\n<li>If the function has a name, its name is added as a property of the variable object and has the value of the function object.</li>\n</ol></li>\n<li>Properties are created on the variable object for each variable declared with <code>var</code> in the execution context; their values are initially <code>undefined</code> (regardless of whether the <code>var</code> has an initializer on it).</li>\n<li>Every <em>function declaration</em> in the context is processed. (Function expressions are not processed yet; more on the difference below.) A property on the variable object for each function name is created and receives the function object as its value.</li>\n<li>Step-by-step code execution begins.\n<ul>\n<li>Like all expressions, function expressions are evaluated when they're encountered in the step-by-step flow.</li>\n<li><code>var</code> statements that have initializers (e.g., <code>var a = 2;</code>) are treated exactly like assignment statements (<code>a = 2;</code>); the <code>var</code> aspect of it was done much earlier. (<code>var</code> is <a href=\"http://blog.niftysnippets.org/2008/03/poor-misunderstood-var.html\">frequently misunderstood</a>. For instance, we had <a href=\"http://stackoverflow.com/questions/5740140/why-does-this-closure-scoped-variable-lose-its-value\">this question</a> just yesterday.)</li>\n</ul></li>\n</ol>\n\n<p>You'll note the difference above between function <em>declarations</em> and function <em>expressions</em>. You can tell which is which by looking to see whether you're using the result as a <em>right hand value</em>&nbsp;&mdash; that is, are you assigning the result to a variable, using it as the right-hand side of a property definition in an object literal, or passing it into a function. If you are, it's a function <em>expression</em>. If you're not, it's a function <em>declaration</em>.</p>\n\n<p>Function declaration example:</p>\n\n<pre><code>function foo() {\n}\n</code></pre>\n\n<p>Function expression example:</p>\n\n<pre><code>var foo = function() {\n};\n</code></pre>\n\n<p>Another:</p>\n\n<pre><code>var Baz = {\n    foo: function() { }\n};\n</code></pre>\n\n<p>(The <code>foo</code> line is a property declaration in an object literal that uses a function expression for the value.)</p>\n\n<p><em>Named</em> function expression example:</p>\n\n<pre><code>var f = function foo() {  // &lt;== Don't do this (more below)\n};\n</code></pre>\n\n<p>Named function expressions should be valid, but they're poorly-supported by implementations in the wild (particularly IE) and so for now they must be avoided. <a href=\"http://kangax.github.com/nfe/\">More here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 36
                }
            ],
            "body": "<p>Suppose I have functions like:</p>\n\n<pre><code>function foo() {\n\n}\n\nfunction bar() {\n\n}\n</code></pre>\n\n<p>I can write above as Object Literal notation:</p>\n\n<pre><code>var Baz = {\n  foo: function() {\n  },\n bar: function() {\n }\n};\n</code></pre>\n\n<p>As for as I understand in the later case, an instance of Baz will be created when the script loads regardless if any Baz function is ever called. In the former case, function object is only created when that function is called. Am I correct about these assumptions? </p>\n\n<p>If I am correct then the former would have higher performance (less memory) than the later in application where these functions are rarely called.\nBut the advantage of the later is that it gives greater modularity and lower global namespace pollution.</p>\n\n<p>What is your take on this from your professional experience?\nIs there a speed difference?</p>\n",
            "last_activity_date": 1374534197,
            "question_id": 5754538,
            "score": 10,
            "tags": [
                "javascript"
            ],
            "title": "JavaScript Object Literal notation vs plain functions and performance implications?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I'm sure you can just add this to parent.php:</p>\n\n<pre><code>var myPop = \"pop up window selector\"\nmyPop.onunload = function(){ \n  location.reload(); \n}; \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>To make this work in all major browsers, you need to handle the <code>unload</code> event handler in the pop-up and do the reloading in the main window. In the main window, add</p>\n\n<pre><code>function popUpClosed() {\n    window.location.reload();\n}\n</code></pre>\n\n<p>In the pop-up:</p>\n\n<pre><code>window.onunload = function() {\n    if (window.opener &amp;&amp; !window.opener.closed) {\n        window.opener.popUpClosed();\n    }\n};\n</code></pre>\n\n<p>So the answer to your question is generally no, if you need your code to work in all browsers, in particular IE.</p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>had similar problem to detect the closing popup in the parent window. I think the reason was\nin not setting the document.domain property.</p>\n\n<p>any way add to Tim Down answer the document.domain property for both window and popup like this:</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n        document.domain='&lt;?=$_SERVER['SERVER_NAME']?&gt;';\n    &lt;/script&gt; \n</code></pre>\n\n<p>and instead of </p>\n\n<pre><code> window.onunload = function() {\n     if (window.opener &amp;&amp; !window.opener.closed) {\n        window.opener.popUpClosed();\n     }\n };\n</code></pre>\n\n<p>I used in the popup :</p>\n\n<pre><code>     &lt;body onunload=\"window.opener.popUpClosed();\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The problem with Tim Down's method is that it doesn't answer the original question. The requirement is that you <strong>cannot</strong> add any code to the pop-up window.</p>\n\n<p>One solution that I've found, while not particularly elegant, is effective across all browsers I've tested on.</p>\n\n<p>You will be simply polling the newly created window object continuously, checking if it's still open.</p>\n\n<p>On parent window:</p>\n\n<pre><code>  var register;\n  var poll;\n\n  function isOpen(){\n      if(register.closed){alert(\"Closed!\"); clearInterval(poll);}\n  }\n\n\n  function create(){\n\n      register = window.open(\"http://www.google.com\",\"register\",\"width=425,height=550\");\n      poll=setInterval(\"isOpen()\",100); //Poll every 100 ms.\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Is there any way I can refresh the parent window when a popup window is closed without adding any javascript code to the popup window?</p>\n\n<p>I have a page parent.php on which users can click \"open popup\" to open a popup window. This popup window shows some flash content and its not possible for me to add something like </p>\n\n<pre><code>window.onunload = function(){ \n  window.opener.location.reload(); \n}; \n</code></pre>\n\n<p>to the popup window page markup.</p>\n\n<p>Is there any other method to achieve this?\nThanks</p>\n",
            "last_activity_date": 1312315319,
            "question_id": 4267830,
            "score": 10,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Refresh parent window when the pop-up window is closed"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Something like this (writing by memory)?</p>\n\n<pre><code>if (url.toUpper(url.substring(0, 7) != \"HTTP://\")\n  url = \"http://\" + url;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>A simple solution for what you want is the following:</p>\n\n<pre><code>var prefix = 'http://';\nif (s.substr(0, prefix.length) !== prefix)\n{\n    s = prefix + s;\n}\n</code></pre>\n\n<p>However there are a few things you should be aware of...</p>\n\n<p>The test here is case-sensitive. This means that if the string is initially <code>Http://example.com</code> this will change it to <code>http://Http://example.com</code> which is probably not what you want. You probably should also not modify any string starting with <code>foo://</code> otherwise you could end up with something like <code>http://https://example.com</code>.</p>\n\n<p>On the other hand if you receive an input such as <code>example.com?redirect=http://othersite.com</code> then you probably do want to prepend <code>http://</code> so just searching for <code>://</code> might not be good enough for a general solution.</p>\n\n<p><strong>Alternative approaches</strong></p>\n\n<ul>\n<li><p>Using a regular expression:</p>\n\n<pre><code>if (!s.match(/^[a-zA-Z]+:\\/\\//))\n{\n    s = 'http://' + s;\n}\n</code></pre></li>\n<li><p>Using a URI parsing library such as <a href=\"http://code.google.com/p/js-uri/\">JS-URI</a>.</p>\n\n<pre><code>if (new URI(s).scheme === null)\n{\n    s = 'http://' + s;\n}\n</code></pre></li>\n</ul>\n\n<p><strong>Related questions</strong></p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/2140627/javascript-equalsignorecase-case-insensitive-string-comparation\">Javascript equalsIgnoreCase: case insensitive string comparation</a></li>\n<li><a href=\"http://stackoverflow.com/questions/646628/javascript-startswith\">javascript startswith</a></li>\n<li><a href=\"http://stackoverflow.com/questions/736513/how-do-i-parse-a-url-into-hostname-and-path-in-javascript\">How do I parse a URL into hostname and path in javascript?</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 29
                },
                {
                    "body": "<p>You can use \"StartsWith\" a member of System.String.</p>\n\n<pre><code>if (url.ToUpper().StartsWith(\"HTTP://\"))\n{ \n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Lifted from the <a href=\"http://ablazex.com/linkenizer.html\" rel=\"nofollow\">Linkenizer</a> (Null won't mind)</p>\n\n<pre><code>link = (link.indexOf('://') == -1) ? 'http://' + link : link;\n</code></pre>\n\n<p>This will prepend <code>'http://'</code> to <code>link</code> if it can't find the <code>://</code> indicating protocol. This won't work well if <code>://</code> occurs elsewhere in the string, but it's good enough.</p>\n\n<p>Examples:</p>\n\n<pre><code>http://www.google.com -&gt; http://www.google.com\nftp://google.com      -&gt; ftp://google.com\nwww.google.com        -&gt; http://www.google.com\n</code></pre>\n\n<hr>\n\n<p>Since you said you are saving this URL, it would be a better idea to do this on the server-side, so clients who have js disabled won't mess up the links. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you also want to allow \"https://\", I would use a regular expression like this:</p>\n\n<pre><code>if (!/^https?:\\/\\//i.test(url)) {\n    url = 'http://' + url;\n}\n</code></pre>\n\n<p>If you're not familiar with regular expressions, here's what each part means.</p>\n\n<ul>\n<li><code>^</code> - Only match at the beginning of the string</li>\n<li><code>http</code> - Match the literal string \"http\"</li>\n<li><code>s?</code> - Optionally match an \"s\"</li>\n<li><code>:</code> - Match a colon</li>\n<li><code>\\/\\/</code> - Escape the \"/\" characters since they mark the beginning/end of the regular expression</li>\n<li>The \"i\" after the regular expression makes it case-insensitive so it will match \"HTTP://\", etc.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<pre><code>if (url.indexOf('http://') != 0)\n    url = 'http://' + url;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have an <code>input</code> field that saves a URL, I'd like this saved input to recognize when \"Http//\" is absent from the start of the variable but have no idea where to begin... is it possible to check only a portion of a string? - then have a function that will append if necessary?</p>\n",
            "last_activity_date": 1282511450,
            "question_id": 3543187,
            "score": 10,
            "tags": [
                "javascript",
                "html",
                "variables"
            ],
            "title": "Prepending &quot;http://&quot; to a URL that doesn&#39;t already contain &quot;http://&quot;"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The problem that those two lines try to avoid, is generally produced when you replace the <code>prototype</code> property of a Constructor Function, for example:</p>\n\n<pre><code>function Foo () {};\nFoo.prototype = {\n  bar: 'baz'\n};\n\nvar foo = new Foo();\nfoo.constructor === Object; // true, but `constructor` should refer to Foo\n</code></pre>\n\n<p>When <a href=\"http://bclary.com/2004/11/07/#a-13.2\">functions objects are created</a>, the <code>prototype</code> property is initialized with a new object, which contains a <code>constructor</code> property that refers to the function itself, e.g.:</p>\n\n<pre><code>function Bar () {};\nvar bar = new Bar();\nbar.constructor === Bar; // true\n</code></pre>\n\n<p>When you replace the <code>prototype</code> property with another object, this object has it's own <code>constructor</code> property, generally inherited from other constructor, or from <code>Object.prototype</code>.</p>\n\n<pre><code>var newObj = {};\nnewObj.constructor === Object;\n</code></pre>\n\n<p>Recommended articles:</p>\n\n<ul>\n<li><a href=\"http://joost.zeekat.nl/constructors-considered-mildly-confusing.html\">Constructors considered mildly confusing</a></li>\n<li><a href=\"http://www.3site.eu/doc/\">JavaScript Prototypal Inheritance</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 14
                }
            ],
            "body": "<p>I'm having some trouble understanding the IF clause at the end of this function from Pro JavaScript Design Patterns:</p>\n\n<pre><code>function extend(subClass, superClass) {\n    var F = function() {};\n    F.prototype = superClass.prototype;\n    subClass.prototype = new F();\n    subClass.prototype.constructor = subClass;\n\n    subClass.superclass = superClass.prototype;\n    if(superClass.prototype.constructor == Object.prototype.constructor) {\n        superClass.prototype.constructor = superClass;\n    }\n}\n</code></pre>\n\n<p>The book explains that these lines ensure that the superclass's constructor attribute is correctly set, even if the superclass is the Object class itself.  Yet, if I omit those three lines and do the following:</p>\n\n<pre><code>function SubClass() {};\nextend(SubClass, Object);\n\nalert(Object.prototype.constructor == Object);\n</code></pre>\n\n<p>The alert says 'true', which means the superclass's constructor is set correctly even without those last three lines.  Under what conditions, then, does this IF statement do something useful?</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1271882428,
            "question_id": 2686258,
            "score": 10,
            "tags": [
                "javascript"
            ],
            "title": "JavaScript inheritance extend function"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><a href=\"https://github.com/aheckmann/gridfs-stream\"><code>gridfs-stream</code></a> makes that pretty easy:</p>\n\n<pre><code>// `gfs` is a gridfs-stream instance\napp.post('/picture', function(req, res) {\n  req.pipe(gfs.createWriteStream({\n    filename: 'test'\n  }));\n  res.send(\"Success!\");\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I am trying to figure out how I can post an image directly to GridFS without storing it anywhere on the server as a temporary file first. </p>\n\n<p>I am using Postman (chrome ext.) to post a file, and I manage to store this post as a file using </p>\n\n<pre><code>req.pipe(fs.createWriteStream('./test.png'));\n</code></pre>\n\n<p>I am also able to store directly to GridFS from a readStream when the readStream is created from a file on the server. (see code)</p>\n\n<p>I have the following files, saveFromReq.js which listens for the POST and basically just passes this on to the savePic.js. </p>\n\n<p>saveFromReq.js:</p>\n\n<pre><code>var express = require('express');\nvar app = express();\nvar savePic = require('./savePic');\nvar fs = require('fs');\nvar GridStore = require('mongodb').GridStore;\nvar pic = './square.png';\nvar picID;\n\n\n\n//When the following\n\n //var pic = fs.createReadStream('./square.png', {autoClose: true});\n\n//is not commented out, and 'req' is replaced with 'pic' in the savePic function,\n//the file square.png is stored correctly to GridFS\n\napp.post('/picture', function(req, res){\n\n    savePic(req, function(id){});\n    res.writeHead(200, {'Content-Type': 'text' });\n    res.end(\"Sucsess!\\n\");\n\n});\n\napp.listen(process.env.PORT || 3413);\n</code></pre>\n\n<p>savePic.js:</p>\n\n<pre><code>var savePic = function(req, callback){\n\n\nvar Db = require('mongodb').Db,\n    MongoClient = require('mongodb').MongoClient,\n    Server = require('mongodb').Server,\n    ReplSetServers = require('mongodb').ReplSetServers,\n    ObjectID = require('mongodb').ObjectID,\n    Binary = require('mongodb').Binary,\n    GridStore = require('mongodb').GridStore,\n    Grid = require('mongodb').Grid,\n    Code = require('mongodb').Code,\n    BSON = require('mongodb').pure().BSON,\n    assert = require('assert');\n    fs = require('fs');\n\n    //When the following \n\n      //req.pipe(fs.createWriteStream('./test.png'));\n\n    //is not commented out, the correct image is stored to test.png, and \n    //the sequence after req.on(\"data\"... starts\n    //(That sequence does not start at all when this is commented out..)\n\nvar fileId = new ObjectID();\nvar db = new Db('testDB', new Server('localhost', 27017));\n// Establish connection to db\ndb.open(function(err, db) {\n\n\n  var gridStore = new GridStore(db, 'test', 'w');\n\n  //open \n  gridStore.open(function(err, gridStore) {\n    console.log(\"opened\");\n\n\n    req.on(\"data\", function (data) {\n        console.log(\"data recieved\");\n            gridStore.write(data, function (err, gridStore) {\n                if (err) {\n                    console.log(\"error writing file\");\n                }\n            });\n        });\n     req.on(\"end\", function () {\n            gridStore.close(function (err, gridStore) {\n                if (!err) {\n                    console.log(\"The file has been stored to database.\");\n                    db.close();\n                }\n            });\n        });\n           req.pipe(gridStore);\n\n\n      });\n\n\n\n\n});\ncallback(fileId);\n};\nmodule.exports = savePic;\n</code></pre>\n\n<p>Any Help would be greatly appreciated!</p>\n",
            "last_activity_date": 1388511668,
            "question_id": 20860005,
            "score": 9,
            "tags": [
                "javascript",
                "node.js",
                "mongodb",
                "gridfs",
                "gridfs-stream"
            ],
            "title": "Storing data stream from POST request in GridFS, express, mongoDB, node.js"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>At the moment there is no elegant way to do this. Reason being that - ngRepeat creates an associative array, which is called and not the JSON itself. Although the ECMAScript Standard mentions that:</p>\n\n<p><strong>The declaration order of object properties must be preserved, and iteration must happen in the same order.</strong></p>\n\n<p>But somehow, Angular guys overlooked it. This might get rectified in the later releases. </p>\n\n<p>I still think Angular's behaviour makes more sense. As objects often have more initialisation logic around them than arrays, I think it's fair to assume that the order often might not be what the user actually wants/expected, so forcing a specific sorting ensure the proper behaviour - especially when we also have to deal with older browsers.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Nice workaround found at google groups:</p>\n\n<pre><code>    &lt;div ng-repeat=\"key in notSorted(data)\" ng-init=\"value = data[key]\"&gt;\n         &lt;pre&gt;\n               key: {{key}}\n               value: {{value}}\n         &lt;/pre&gt;           \n    &lt;/div&gt;\n</code></pre>\n\n<p>And in scope:</p>\n\n<pre><code>    $scope.data = {\n        'key4': 'data4',\n        'key1': 'data1',\n        'key3': 'data3',\n        'key2': 'data2',\n        'key5': 'data5'\n    };\n\n    $scope.notSorted = function(obj){\n        if (!obj) {\n            return [];\n        }\n        return Object.keys(obj);\n    }\n</code></pre>\n\n<p>Working: <a href=\"http://jsfiddle.net/DnEXC/\">http://jsfiddle.net/DnEXC/</a></p>\n\n<p>Original: <a href=\"https://groups.google.com/forum/#!topic/angular/N87uqMfwcTs\">https://groups.google.com/forum/#!topic/angular/N87uqMfwcTs</a></p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>This answer using filter works best for me.</p>\n\n<p><a href=\"https://groups.google.com/d/msg/angular/N87uqMfwcTs/EGoY6O2gtzsJ\" rel=\"nofollow\">https://groups.google.com/d/msg/angular/N87uqMfwcTs/EGoY6O2gtzsJ</a></p>\n\n<p><a href=\"http://jsfiddle.net/er52h/1/\" rel=\"nofollow\">http://jsfiddle.net/er52h/1/</a></p>\n\n<pre><code>angular.module('myFilters', [])\n  .filter('keys', function() {\n    return function(input) {\n      if (!input) {\n        return [];\n      }\n      return Object.keys(input);\n    }\n  });\n</code></pre>\n\n<p>You can use like this:</p>\n\n<pre><code>&lt;div ng-repeat=\"key in data | keys\" ng-init=\"value = data[key]\"&gt;&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I am using this approach to override the alphabetical ordering:</p>\n\n<p><strong>Controller</strong>:</p>\n\n<pre><code>$scope.steps = {\n    \"basic-settings\": \"Basic Settings\",\n    \"editor\": \"Editor\",\n    \"preview-and-publish\": \"Preview &amp; Publish\"\n};\n\n// NOTE I realise this is a hacky way, but I need to override JS's alphabetical ordering\n$scope.stepsKeys = _.keys($scope.steps);\n\n$scope.activeStep = 0;\n</code></pre>\n\n<p><em>PLEASE NOTE that _.keys($scope.steps); is <strong>LoDash</strong> substituting Object.keys();</em></p>\n\n<p><strong>HTML</strong>:</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;li ng-repeat=\"key in stepsKeys\" ng-class=\"{active : stepsKeys[activeStep] == key}\"&gt;{{ steps[key] }}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Does anybody know how I can <strong>SKIP</strong> JSON ordering altogether when I use ng-repeat (in a painless way probably)?</p>\n\n<p>For example, my source JSON looks something like this -</p>\n\n<pre><code>{\n   \"title\": \"Title\",\n   \"description\": \"Description\",\n   \"moreInfo\": \"Moreinformation\"\n}\n</code></pre>\n\n<p>Once I use it in ng-repeat, it orders them alphabetically. Something like this -</p>\n\n<pre><code>{\n   \"description\": \"Description\",\n   \"moreInfo\": \"Moreinformation\",\n   \"title\": \"Title\"\n}\n</code></pre>\n\n<p>My ng-repeat looks something like this -</p>\n\n<pre><code>&lt;div ng-repeat=\"(key,data) in items\"&gt;\n   &lt;span class=\"one\"&gt; {{key}} &lt;/span&gt;\n   &lt;span class=\"two\"&gt; {{data}} &lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I've seen people having a separate array of the keys and using them to identify the JSON objects, ultimately avoiding alphabetical sorting. </p>\n\n<p>Is there an elegant way to do this?</p>\n",
            "last_activity_date": 1420125988,
            "question_id": 19287716,
            "score": 9,
            "tags": [
                "javascript",
                "jquery",
                "angularjs",
                "angularjs-ng-repeat"
            ],
            "title": "Skip ng-repeat JSON ordering in Angular JS"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The ajax call you made should not be able to redirect the whole page. It returns data to your asynchronous call only. If you want to perform a redirect, i</p>\n\n<p>the javascript way to redirect is with window.location</p>\n\n<p>So your ajax call should look like this:</p>\n\n<pre><code>&lt;script&gt;\n    $(document).ready(function () {\n        $('input[type=submit]').click(function (e) {\n            e.preventDefault();\n            $.ajax({\n                type: \"POST\",\n                url: '@Url.Action(\"_AddCategory\", \"Categories\")',\n                dataType: \"json\",\n                data: $('form').serialize(),\n                success: function (result) {\n                    window.location='@Url.Action(\"Categories\")';\n                },\n                error: function () {\n\n                }\n            });\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>In you action method, instead of returning a partial or redirect, return Json(true);</p>\n\n<pre><code>public ActionResult _AddCategory(CategoriesViewModel viewModel)\n{\n    if(//success)\n    {\n        return Json(true);\n    }\n    else\n    {\n        return Json(false);\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Don't redirect from controller actions that are invoked with AJAX. It's useless. You could return the url you want to redirect to as a JsonResult:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult _AddCategory(CategoriesViewModel viewModel)\n{\n    if(//success)\n    {\n        // DbOperations...\n        return Json(new { redirectTo = Url.Action(\"Categories\") });\n    }\n    else\n    {\n        // model state is not valid...\n        return PartialView(viewModel);\n    }\n}\n</code></pre>\n\n<p>and then on the client test for the presence of this url and act accordingly:</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: '@Url.Action(\"_AddCategory\", \"Categories\")',\n    data: $('form').serialize(),\n    success: function (result) {\n        if (result.redirectTo) { \n            // The operation was a success on the server as it returned\n            // a JSON objet with an url property pointing to the location\n            // you would like to redirect to =&gt; now use the window.location.href\n            // property to redirect the client to this location\n            window.location.href = result.redirectTo;\n        } else {\n            // The server returned a partial view =&gt; let's refresh\n            // the corresponding section of our DOM with it\n            $(\".categories_content_container\").html(result);\n        }\n    },\n    error: function () {\n\n    }\n});\n</code></pre>\n\n<p>Also notice that I have gotten rid of the <code>dataType: 'json'</code> parameter from your <code>$.ajax()</code> call. That's extremely important as we are not always returning JSON (in your case you were never returning JSON so this parameter was absolutely wrong). In my example we return JSON only in the case of a success and <code>text/html</code> (PartialView) in the case of failure. So you should leave jQuery simply use the <code>Content-Type</code> HTTP response header returned by the server to automatically deduce the type and parse the result parameter passed to your success callback accordingly.</p>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p><strong>Index.html (View)</strong></p>\n\n<pre><code>&lt;div class=\"categories_content_container\"&gt;\n    @Html.Action(\"_AddCategory\", \"Categories\")\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>_AddCategory.cshtml (PartialView)</strong></p>\n\n<pre><code>&lt;script&gt;\n    $(document).ready(function () {\n        $('input[type=submit]').click(function (e) {\n            e.preventDefault();\n            $.ajax({\n                type: \"POST\",\n                url: '@Url.Action(\"_AddCategory\", \"Categories\")',\n                dataType: \"json\",\n                data: $('form').serialize(),\n                success: function (result) {\n                    $(\".categories_content_container\").html(result);\n                },\n                error: function () {\n\n                }\n            });\n        });\n    });\n&lt;/script&gt;\n\n@using (Html.BeginForm())\n{\n    // form elements\n}\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>[HttpPost]\npublic ActionResult _AddCategory(CategoriesViewModel viewModel)\n{\n    if(//success)\n    {\n        // DbOperations...\n        return RedirectToAction(\"Categories\");\n    }\n    else\n    {\n        // model state is not valid...\n        return PartialView(viewModel);\n    }\n}\n</code></pre>\n\n<p>Question: If operation is success I expect that redirect to another page (Categories). But no action, no error message. If operatio is not success, it is working like my expected.</p>\n\n<p>How can I do this? How can I route another page with using ajax post?</p>\n\n<p>Thanks...</p>\n",
            "last_activity_date": 1403065843,
            "question_id": 14667274,
            "score": 9,
            "tags": [
                "javascript",
                "jquery",
                "asp.net-mvc",
                "asp.net-mvc-3",
                "asp.net-mvc-4"
            ],
            "title": "ASP.NET MVC Partial view ajax post?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Make sure your script is wrapped in a  <code>$(function() {})</code> wrapper.</p>\n\n<p>It looks like it is executing before the DOM is ready.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<h3>Description</h3>\n\n<p>This happens because the value of the input field (the selected filepath) does not change if you select the same file again.</p>\n\n<p>You can set the value in the <code>onChange()</code> event to an empty string and submit your form only if the value is not empty. Have a look at my sample and this <a href=\"http://jsfiddle.net/TmUmG/\">jsFiddle Demonstration</a>.</p>\n\n<h3>Sample</h3>\n\n<pre><code>$(\".attachmentsUpload input.file\").change(function () {\n    if ($(\".attachmentsUpload input.file\").val() == \"\") {\n        return;\n    }\n    // your ajax submit\n    $(\".attachmentsUpload input.file\").val(\"\");\n});\n</code></pre>\n\n<h2>Update</h2>\n\n<p>This, for any reason, does not work in IE9. You can replace the element to reset them. \n<strong>In this case you need jQuery <code>live()</code> to bind the event, because your input field will dynamically (re)created.</strong>\nThis will work in all browsers.</p>\n\n<p>I found this solution on the stackoverflow answer <a href=\"http://stackoverflow.com/questions/1043957/clearing-input-type-file-using-jquery\">Clearing input type='file' using jQuery</a></p>\n\n<pre><code>$(\".attachmentsUpload input.file\").live(\"change\", function () {\n    if ($(\".attachmentsUpload input.file\").val() == \"\") {\n        return;\n    }\n    // get the inputs value\n    var fileInputContent = $(\".attachmentsUpload input.file\").val();\n    // your ajax submit\n    alert(\"submit value of the file input field=\" + fileInputContent);\n    // reset the field\n    $(\".attachmentsUpload input.file\").replaceWith('&lt;input type=\"file\" class=\"file\" name=\"file\" /&gt;');\n});\u200b\n</code></pre>\n\n<h3>More Information</h3>\n\n<ul>\n<li><a href=\"http://api.jquery.com/live/\">jQuery.live()</a></li>\n<li><a href=\"http://api.jquery.com/replaceWith/\">jQuery.replaceWith()</a></li>\n</ul>\n\n<h2>Check out my updated <a href=\"http://jsfiddle.net/TmUmG/1/\">jsFiddle</a></h2>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>Based on dknaack answer, the clue is <strong>usage of jquery live to bind change event and resetting the input field after submit</strong>:</p>\n\n<pre><code>$(document).ready(function () {\n    $(\".attachmentsUpload input.file\").change(function () {\n        $('form').submit();  /* sync submit */\n        $(\".attachmentsUpload input.file\").replaceWith('&lt;input type=\"file\" class=\"file\" name=\"file\" /&gt;');\n    });\n});\n</code></pre>\n\n<p>The resetting must be performed <strong>after submit</strong> event is done. When the submit is <strong>async</strong>, reset the field for example in <strong>ajax success</strong> event.</p>\n\n<pre><code>$(document).ready(function () {\n    $(\".attachmentsUpload input.file\").change(function () {\n        $('form').submit();  /* async submit */\n    });\n});\n\n.ajaxForm({\n    ...\n    success: function (result) {\n        // reset the field - needed for IE to upload the same file second time                    \n        $this.find(\"input.file\").replaceWith('&lt;input type=\"file\" class=\"file\" name=\"file\" /&gt;');\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have simple piece of code to upload files:</p>\n\n<pre><code>$(document).ready(function () {\n    $(\".attachmentsUpload input.file\").change(function () {\n        $('form').submit();\n    });\n});\n\n&lt;form class=\"attachmentsUpload\" action=\"/UploadHandler.ashx\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n    &lt;input type=\"file\" class=\"file\" name=\"file\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>While I click on input and then select a file in dialog box, I'm submitting this file using ajax. This is not important part here. Important part is, that while I select the same file second time in the dialog box, just after submitting the first file, the .change() event does not fire in IE and Chrome. But while I choose different file, the event fires and works properly. Under Firefox it is firing all the time.</p>\n\n<p>How to workaround this, to work as expected (as in Firefox) ?</p>\n",
            "last_activity_date": 1348150050,
            "question_id": 10214947,
            "score": 9,
            "tags": [
                "javascript",
                "jquery",
                "internet-explorer",
                "firefox",
                "google-chrome"
            ],
            "title": "Upload files using input type=&quot;file&quot; field with .change() event not always firing in IE and Chrome"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You should be able to get it all from the cookies set by Google Analytics. They are stored as first party cookies so JavaScript running on a page will be able to read them. The number of visits can be obtained from the last part of the <code>__utma</code> cookie and the referrer can be taken from <code>__utmz</code>. The source is the <code>utmcsr</code> bit of <code>__utmz</code> while the medium comes from <code>utmcmd</code> and the keyword is <code>utmctr</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use the below code to generate the values you want within the browser, by reading browser cookies. </p>\n\n<p>I assume you have a function called <code>readCookie()</code>; I tend to use the one from <a href=\"http://www.quirksmode.org/js/cookies.html\">QuirksMode</a></p>\n\n<p><strong>For referral, medium, and campaign information:</strong></p>\n\n<pre><code>var utmz = readCookie('__utmz'); //using a cookie reading function\nvar vals = (function() {\n        var pairs = utmz.split('.').slice(4).join('.').split('|');\n        var ga = {};\n        for (var i = 0; i &lt; pairs.length; i++) {\n            var temp = pairs[i].split('=');\n                ga[temp[0]] = temp[1];\n        }\n        return ga;\n    })();\n\n//vals.utmcmd: medium (organic, referral, direct, etc)\n//vals.utmcsr: source (google, facebook.com, etc)\n//vals.utmcct: content (index.html, etc)\n//vals.utmccn: campaign \n//vals.utmctr: term (search term)\n//vals.utmgclid: adwords-only (value is irrelevant, but means its AdWords autotagged traffic, but it implies that medium=cpc, even though it'll be set to `(none)` or `(not%20set)`\n</code></pre>\n\n<p><strong>For pageview count and visit count:</strong> </p>\n\n<pre><code>var pageviews = readCookie('__utmz').split('.')[1];\nvar visits = readCookie('__utma').split('.').pop() //returns number of visits\n</code></pre>\n\n<p>Obviously, if <code>(+visits)===1</code>, then its a first time visitor. (Remember: values from cookies will be strings, so you'll need to cast them to numbers to <em>safely</em> do numeric comparisons, even though JS is loosely typed. </p>\n",
                    "is_accepted": true,
                    "score": 23
                }
            ],
            "body": "<p>Is it possible to get the following information about the current visitor using Google Analytics API with JavaScript?</p>\n\n<ul>\n<li>Referrer site ('Source' in GA)</li>\n<li>Paid or natural ('Medium' in GA)</li>\n<li>Keyword</li>\n<li>First time/returning</li>\n<li>Number of visits</li>\n</ul>\n\n<p>If it's not possible with Google Analytics API is there any other <strong>easy</strong> way to do it (apart from parsing HTTP Referer, storing the visits statistics in DB etc.)?</p>\n",
            "last_activity_date": 1416465916,
            "question_id": 5631830,
            "score": 9,
            "tags": [
                "javascript",
                "google-analytics",
                "referrer",
                "visitor-statistic"
            ],
            "title": "Get the referrer, paid/natural and keywords for the current visitor with Google Analytics"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Use the &lt;&lt; (bit shift) operator. Ex: 1 &lt;&lt; 2 == 4.</p>\n\n<p>I really think that the underlying implementation of JavaScript will use whatever endianess the platform it is running on is using. Since you cannot directly access memory in JavaScript you won't ever have to worry about how numbers are represented physically in memory. Bit shifting integer values always yield the same result no matter the endianess. You only see a difference when looking at individual bytes in memory using pointers.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>function swap16(val) {\n    return ((val &amp; 0xFF) &lt;&lt; 8)\n           | ((val &gt;&gt; 8) &amp; 0xFF);\n}\n</code></pre>\n\n<p>Explanation:</p>\n\n<ol>\n<li>Let's say that <code>val</code> is, for example, <code>0xAABB</code>.</li>\n<li>Mask <code>val</code> to get the LSB by <a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#AND\"><code>&amp;</code>ing</a> with <code>0xFF</code>: result is <code>0xBB</code>.</li>\n<li><a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#Bit_shifts\">Shift</a> that result 8 bits to the left: result is <code>0xBB00</code>.</li>\n<li><a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#Bit_shifts\">Shift</a> <code>val</code> 8 bits to the right: result is <code>0xAA</code> (the LSB has \"dropped off\" the right-hand side).</li>\n<li>Mask that result to get the LSB by <a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#AND\"><code>&amp;</code>ing</a> with <code>0xFF</code>: result is <code>0xAA</code>.</li>\n<li>Combine the results from steps 3 and step 5 by <a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#OR\"><code>|</code>ing</a> them together:<br>\n<code>0xBB00 | 0xAA</code> is <code>0xBBAA</code>.</li>\n</ol>\n\n<hr>\n\n<pre><code>function swap32(val) {\n    return ((val &amp; 0xFF) &lt;&lt; 24)\n           | ((val &amp; 0xFF00) &lt;&lt; 8)\n           | ((val &gt;&gt; 8) &amp; 0xFF00)\n           | ((val &gt;&gt; 24) &amp; 0xFF);\n}\n</code></pre>\n\n<p>Explanation:</p>\n\n<ol>\n<li>Let's say that <code>val</code> is, for example, <code>0xAABBCCDD</code>.</li>\n<li>Mask <code>val</code> to get the LSB by <a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#AND\"><code>&amp;</code>ing</a> with <code>0xFF</code>: result is <code>0xDD</code>.</li>\n<li><a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#Bit_shifts\">Shift</a> that result 24 bits to the left: result is <code>0xDD000000</code>.</li>\n<li>Mask <code>val</code> to get the second byte by <a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#AND\"><code>&amp;</code>ing</a> with <code>0xFF00</code>: result is <code>0xCC00</code>.</li>\n<li><a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#Bit_shifts\">Shift</a> that result 8 bits to the left: result is <code>0xCC0000</code>.</li>\n<li><a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#Bit_shifts\">Shift</a> <code>val</code> 8 bits to the right: result is <code>0xAABBCC</code> (the LSB has \"dropped off\" the right-hand side).</li>\n<li>Mask that result to get the second byte by <a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#AND\"><code>&amp;</code>ing</a> with <code>0xFF00</code>: result is <code>0xBB00</code>.</li>\n<li><a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#Bit_shifts\">Shift</a> <code>val</code> 24 bits to the right: result is <code>0xAA</code> (everything except the MSB has \"dropped off\" the right-hand side).</li>\n<li>Mask that result to get the LSB by <a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#AND\"><code>&amp;</code>ing</a> with <code>0xFF</code>: result is <code>0xAA</code>.</li>\n<li>Combine the results from steps 3, 5, 7 and 9 by <a href=\"http://en.wikipedia.org/wiki/Bitwise_operation#OR\"><code>|</code>ing</a> them together:<br>\n<code>0xDD000000 | 0xCC0000 | 0xBB00 | 0xAA</code> is <code>0xDDCCBBAA</code>.</li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 18
                }
            ],
            "body": "<p>I am receiving and sending a decimal representation of two little endian numbers. I would like to:</p>\n\n<ul>\n<li>shift one variable 8 bits left</li>\n<li>OR them</li>\n<li>shift a variable number of bits</li>\n<li>create 2 8 bit numbers representing the first and second half of the 16 bit number.</li>\n</ul>\n\n<p>javascript (according to <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Operators/Bitwise_Operators\">https://developer.mozilla.org/en/JavaScript/Reference/Operators/Bitwise_Operators</a>) uses big endian representation when shifting...</p>\n\n<p>endianness is a bit foreign to me (I am only 90 percent sure that my outlined steps are what i want.) so swapping is a bit dizzying. please help! I only really need to know how to swap the order in an efficient manner. (I can only think of using a for loop on a toString() return value)</p>\n",
            "last_activity_date": 1300272088,
            "question_id": 5320439,
            "score": 9,
            "tags": [
                "javascript",
                "endianness"
            ],
            "title": "How do I swap endian-ness (byte order) of a variable in javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<ol>\n<li>Get ID with jQuery</li>\n<li>Pass it to some script via AJAX</li>\n<li>Get your results back and do with them what you please</li>\n</ol>\n\n<p><a href=\"http://api.jquery.com/jQuery.ajax/\" rel=\"nofollow\">http://api.jquery.com/jQuery.ajax/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>here is the solution , </p>\n\n<pre><code>&lt;a href=\"#\" id=\"1\" class=\"push\"&gt;click&lt;/a&gt; \n</code></pre>\n\n<p>use a div on your modal body , like this </p>\n\n<pre><code>    &lt;div class=\"modal-body\"&gt;  \n\n             &lt;div class=\"something\" style=\"display:none;\"&gt;\n                    // here you can show your output dynamically \n             &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>now put data into the <code>.something</code> with ajax calling .please check <a href=\"http://api.jquery.com/jQuery.ajax/\">http://api.jquery.com/jQuery.ajax/</a> to know more about jquery ajax. </p>\n\n<pre><code>   $(function(){\n\n   $('.push').click(function(){\n      var essay_id = $(this).attr('id');\n\n       $.ajax({\n          type : 'post',\n           url : 'your_url.php', // in here you should put your query \n          data :  'post_id='+ essay_id, // here you pass your id via ajax .\n                     // in php you should use $_POST['post_id'] to get this value \n       success : function(r)\n           {\n              // now you can show output in your modal \n              $('#mymodal').show();  // put your modal id \n             $('.something').show().html(r);\n           }\n    });\n\n\n});\n\n   });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p><strong>Final solution</strong></p>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;div id=\"myModal\" class=\"modal hide fade\"&gt;\n    &lt;div class=\"modal-header\"&gt;\n      &lt;button class=\"close\" data-dismiss=\"modal\"&gt;&amp;times;&lt;/button&gt;\n      &lt;h3&gt;Title&lt;/h3&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-body\"&gt;            \n        &lt;div id=\"modalContent\" style=\"display:none;\"&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-footer\"&gt;\n      &lt;a href=\"#\" class=\"btn btn-info\" data-dismiss=\"modal\" &gt;Close&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/div&gt;  \n</code></pre>\n\n<p><strong>jQuery code:</strong></p>\n\n<pre><code>$(\"a[data-toggle=modal]\").click(function() \n{   \n    var essay_id = $(this).attr('id');\n\n    $.ajax({\n        cache: false,\n        type: 'POST',\n        url: 'backend.php',\n        data: 'EID='+essay_id,\n        success: function(data) \n        {\n            $('#myModal').show();\n            $('#modalContent').show().html(data);\n        }\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p><strong>Problem:</strong></p>\n\n<p>I would like to transfer by using jQuery a value in an link-attribute to PHP/SQL query.</p>\n\n<p><strong>HTML code:</strong></p>\n\n<pre><code>&lt;a data-toggle=\"modal\" href=\"#myModal\" id=\"1\"&gt;&lt;i class=\"pull-right icon-eye-open\"&gt;&lt;/i&gt;HTML&lt;/a&gt;\n</code></pre>\n\n<p><strong>PHP code:</strong></p>\n\n<pre><code>&lt;div id=\"myModal\" class=\"modal hide fade\"&gt;\n    &lt;div class=\"modal-header\"&gt;\n      &lt;button class=\"close\" data-dismiss=\"modal\"&gt;&amp;times;&lt;/button&gt;\n      &lt;h3&gt;Title&lt;/h3&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-body\"&gt;            \n        &lt;?php\n            $query = \"SELECT * FROM table WHERE id = ID FROM JQUERY HERE\";\n            $result = mysql_query($query) or die ('Error (' . mysql_errno() . ') ' . mysql_error());\n        ?&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-footer\"&gt;\n      &lt;a href=\"#\" class=\"btn btn-info\" data-dismiss=\"modal\" &gt;Close&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Scenario:</strong></p>\n\n<p>When the user clicks the link-element that has data-toggle=\"modal\" then jQuery should take the value of the id-attribute (which is 1 in this case) and send it to the SQL-query so that the SQL query would look like:</p>\n\n<pre><code>$query = \"SELECT * FROM table WHERE id = 1\";\n</code></pre>\n\n<p><strong>jQuery code:</strong></p>\n\n<pre><code>$(\"a[data-toggle=modal]\").click(function(){\n    var essay_id = $(this).attr('id');\n    //Find $essay set it to essay_id in PHP\n    //Alternatively create a $_SESSION['EID'] here\n});\n</code></pre>\n\n<p><strong>Question:</strong></p>\n\n<p>How do I use jQuery to set a variable ($essay) in PHP? or how can I create a session variable in PHP through jQuery?</p>\n",
            "last_activity_date": 1369423450,
            "question_id": 11003679,
            "score": 8,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "mysql",
                "sql"
            ],
            "title": "Dynamically load information to Twitter Bootstrap modal"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>short answer from client-side: NO, you have to get it from the server side.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can use <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date/getUTCDate\" rel=\"nofollow\"><code>getUTCDate()</code></a> and the related <code>getUTC...()</code> methods to access a time based off UTC time, and then convert.</p>\n\n<p>If you wish, you can use <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date/valueOf\" rel=\"nofollow\"><code>valueOf()</code></a>, which returns the number of seconds, in UTC, since the Unix epoch, and work with that, but it's likely going to be much more involved.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The <code>.getTimezoneOffset()</code> method should work. This will get the time between your time zone and GMT. You can then calculate to whatever you want.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If it's really important that you have the correct date and time; it's best to have a service on your server (which you of course have running in UTC) that returns the time. You can then create a new Date on the client and compare the values and if necessary adjust all dates with the offset from the server time.</p>\n\n<p>Why do this? I've had bug reports that was hard to reproduce because I could not find the error messages in the server log, until I noticed that the bug report was mailed two days <em>after</em> I'd received it. You can <em>probably</em> trust the browser to correctly handle time-zone conversion when being sent a UTC timestamp, but you obviously cannot trust the users to have their system clock correctly set. (If the users have their timezone incorrectly set too, there is not really any solution; other than printing the current server time in \"local\" time)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Date.getTimezoneOffset()</p>\n\n<p>The getTimezoneOffset() method returns the time difference between Greenwich Mean Time (GMT) and local time, in minutes.</p>\n\n<p>For example, If your time zone is GMT+2, -120 will be returned.</p>\n\n<p>Note: This method is always used in conjunction with a Date object.</p>\n\n<pre><code>var d = new Date()\nvar gmtHours = -d.getTimezoneOffset()/60;\ndocument.write(\"The local time zone is: GMT \" + gmtHours);\n//output:The local time zone is: GMT 11\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you know the UTC offset then you can pass it and get the time using following function:</p>\n\n<pre><code>function calcTime(city, offset) {\n    // create Date object for current location\n    var d = new Date();\n\n    // convert to msec\n    // subtract local time zone offset\n    // get UTC time in msec\n    var utc = d.getTime() - (d.getTimezoneOffset() * 60000);\n\n    // create new Date object for different city\n    // using supplied offset\n    var nd = new Date(utc + (3600000*offset));\n\n    // return time as a string\n    return \"The local time for city\"+ city +\" is \"+ nd.toLocaleString();\n}\n\nalert(calcTime('Bombay', '+5.5'));\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>I am using a javascript Date class &amp; trying to get the current date using getDate() method. But obviously it is loading system date &amp; time. I am running the code from India but I want to get the date &amp; time of UK using the same method. How can I do that ?</p>\n",
            "last_activity_date": 1404498378,
            "question_id": 8207655,
            "score": 8,
            "tags": [
                "javascript",
                "date",
                "time",
                "timezone"
            ],
            "title": "How to get Time of specific timezone using javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You have not sepcified the Method parameter on web invoke. See: <a href=\"http://msdn.microsoft.com/en-us/library/bb472541(v=vs.90).aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/bb472541(v=vs.90).aspx</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You encode the input parameter <code>player</code> of the method <code>TotalScore</code> in the wrong way.</p>\n\n<p>I recommend you to use <code>JSON.stringify</code> function from <a href=\"https://github.com/douglascrockford/JSON-js\">json2.js</a> to convert any JavaScript objects to JSON.</p>\n\n<pre><code>var myPlayer = {\n    Name: \"Simon\",\n    Score: 1000,\n    Club: {\n        Name: \"Tigers\",\n        Town: \"Glenelg\"\n    }\n};\n$.ajax({\n    type: \"POST\",\n    url: \"/wcfservice/wcfservice.svc/json/TotalScore\",\n    data: JSON.stringify({player:myPlayer}), // for BodyStyle equal to \n                                             // WebMessageBodyStyle.Wrapped or \n                                             // WebMessageBodyStyle.WrappedRequest\n    // data: JSON.stringify(myPlayer), // for no BodyStyle attribute\n                                       // or WebMessageBodyStyle.WrappedResponse\n    contentType: \"application/json; charset=utf-8\",\n    dataType: \"json\",\n    success: function(data, textStatus, xhr) {\n        alert(data.TotalScoreResult); // for BodyStyle = WebMessageBodyStyle.Wrapped\n                                      // or WebMessageBodyStyle.WrappedResponse\n        // alert(data); // for BodyStyle = WebMessageBodyStyle.WrappedRequest\n                        // or for no BodyStyle attributes\n    },\n    error: function (xhr, textStatus, ex) {\n        alert(\"Not Done\");\n    }\n});\n</code></pre>\n\n<p>If you change the <code>BodyStyle = WebMessageBodyStyle.Wrapped</code> attribute of the <code>TotalScore</code> method to <code>BodyStyle = WebMessageBodyStyle.WrappedRequest</code> you can change the <code>alert(data.TotalScoreResult)</code> in the <code>success</code> handle to <code>alert(data)</code>.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>I got the same problems (405 methods not allowed) using WCF POST JSON data. I found on this article below </p>\n\n<p><a href=\"http://blog.weareon.net/calling-wcf-rest-service-from-jquery-causes-405-method-not-allowed/\" rel=\"nofollow\">http://blog.weareon.net/calling-wcf-rest-service-from-jquery-causes-405-method-not-allowed/</a></p>\n\n<p>Hope this help!</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In a larger project I am having trouble getting a WCF service method to consume a JSON parameter. So I produced a smaller test case and the behaviour is echoed. If I debug the service I can see the parameter value is null at the service call. Fiddler confirms that the JSON is being sent and JsonLint confirms it is valid.</p>\n\n<p>Code below with annotations from debugging.</p>\n\n<pre><code>[ServiceContract]\npublic interface IWCFService\n{\n\n    [OperationContract]\n    [WebInvoke(BodyStyle = WebMessageBodyStyle.WrappedRequest,\n            ResponseFormat = WebMessageFormat.Json,\n            UriTemplate = \"getstring\")]\n\n    string GetString();\n\n    [OperationContract]\n    [WebInvoke(BodyStyle = WebMessageBodyStyle.WrappedRequest,\n        ResponseFormat = WebMessageFormat.Json,\n        UriTemplate = \"getplayer\")]\n    //[WebGet(BodyStyle = WebMessageBodyStyle.WrappedRequest,\n    //    ResponseFormat = WebMessageFormat.Json,\n    //    UriTemplate = \"getplayers\")]\n    Player GetPlayer();\n\n    [OperationContract]\n    [WebInvoke(BodyStyle = WebMessageBodyStyle.WrappedRequest,\n        ResponseFormat = WebMessageFormat.Json,\n        UriTemplate = \"getplayers\")]\n    List&lt;Player&gt; GetPlayers();\n\n    [OperationContract]\n    [WebInvoke(\n        Method = \"POST\",\n        BodyStyle = WebMessageBodyStyle.Wrapped,\n        ResponseFormat = WebMessageFormat.Json,\n        RequestFormat = WebMessageFormat.Json,\n        UriTemplate = \"totalscore\")]\n    string TotalScore(Player player);\n\n}\n</code></pre>\n\n<p>... and its implementation</p>\n\n<pre><code>public class WCFService : IWCFService\n{\n    public string GetString()\n    {\n        return \"hello from GetString\";\n    }\n\n    public Player GetPlayer()\n    {\n        return new Player()\n                {\n                    Name = \"Simon\", \n                    Score = 1000, \n                    Club = new Club()\n                            {\n                                Name = \"Tigers\", \n                                Town = \"Glenelg\"\n                            }\n                };\n    }\n\n    public List&lt;Player&gt; GetPlayers()\n    {\n        return new List&lt;Player&gt;()\n            {\n                new Player()\n                    {\n                        Name = \"Simon\", \n                        Score = 1000 , \n                        Club=new Club()\n                                {\n                                    Name=\"Tigers\", \n                                    Town = \"Glenelg\"\n                                }\n                    }, \n                new Player()\n                    {\n                        Name = \"Fred\", Score = 50,\n                        Club=new Club()\n                                {\n                                    Name=\"Blues\",\n                                    Town=\"Sturt\"\n                                }\n                    }\n            };\n    }\n\n    public string TotalScore(Player player)\n    {\n        return player.Score.ToString();\n    }\n}\n</code></pre>\n\n<p>Calling any of the first three methods works correctly (but no parameters as you'll note). Calling the last method (TotalScore) with this client code ...</p>\n\n<pre><code>function SendPlayerForTotal() {\n        var json = '{ \"player\":{\"Name\":\"' + $(\"#Name\").val() + '\"'\n            + ',\"Score\":\"' + $(\"#Score\").val() + '\"'\n            + ',\"Club\":\"' + $(\"#Club\").val() + '\"}}';\n\n        $.ajax(\n        {\n            type: \"POST\",\n            contentType: \"application/json; charset=utf-8\",\n            url: \"http://localhost/wcfservice/wcfservice.svc/json/TotalScore\",\n            data: json,\n            dataType: \"json\",\n            success: function (data) { alert(data); },\n            error: function () { alert(\"Not Done\"); }\n        });\n    }\n</code></pre>\n\n<p>... results in ...</p>\n\n<p>There was an error while trying to deserialize parameter <a href=\"http://tempuri.org/:player\">http://tempuri.org/:player</a>. The InnerException message was 'Expecting state 'Element'.. Encountered 'Text'  with name '', namespace ''. '.</p>\n\n<p>I have tried sending an unwrapped version of the JSON ...</p>\n\n<p>{\"Name\":\"Simon\",\"Score\":\"100\",\"Club\":\"Rigby\"}</p>\n\n<p>but at the service the parameter is null, and no formatter exceptions.</p>\n\n<p>This is the system.serviceModel branch of the service web.config:</p>\n\n<pre><code>&lt;system.serviceModel&gt;\n&lt;services&gt;\n    &lt;service name=\"WCFService.WCFService\" behaviorConfiguration=\"WCFService.DefaultBehavior\"&gt;\n        &lt;endpoint address=\"json\" binding=\"webHttpBinding\" contract=\"WCFService.IWCFService\" behaviorConfiguration=\"jsonBehavior\"/&gt;\n        &lt;endpoint address=\"mex\" binding=\"mexHttpBinding\" contract=\"IMetadataExchange\"/&gt;\n    &lt;/service&gt;\n&lt;/services&gt;\n\n&lt;behaviors&gt;\n    &lt;serviceBehaviors&gt;\n        &lt;behavior name=\"WCFService.DefaultBehavior\"&gt;\n            &lt;serviceMetadata httpGetEnabled=\"true\"/&gt;\n            &lt;serviceDebug includeExceptionDetailInFaults=\"true\"/&gt;\n        &lt;/behavior&gt;\n    &lt;/serviceBehaviors&gt;\n\n    &lt;endpointBehaviors&gt;\n        &lt;behavior name=\"jsonBehavior\"&gt;\n            &lt;webHttp/&gt;\n        &lt;/behavior&gt;             \n    &lt;/endpointBehaviors&gt;\n&lt;/behaviors&gt;\n</code></pre>\n\n<p></p>\n\n<p>And here is the Player DataContract.</p>\n\n<pre><code>[DataContract(Name = \"Player\")]\n    public class Player\n    {\n        private string _name;\n        private int _score;\n        private Club _club;\n\n        [DataMember]\n        public string Name { get { return _name; } set { _name = value; } }\n\n        [DataMember]\n        public int Score { get { return _score; } set { _score = value; } }\n\n        [DataMember]\n        public Club Club { get { return _club; } set { _club = value; } }\n\n    }\n</code></pre>\n\n<p>Any help greatly appreciated and if any other info is required, please let me know.</p>\n\n<p>Many thanks.</p>\n",
            "last_activity_date": 1349347634,
            "question_id": 5497412,
            "score": 8,
            "tags": [
                "javascript",
                "jquery",
                "wcf",
                "json",
                "nullreferenceexception"
            ],
            "title": "Consuming JSON in WCF service method"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You need to implement <code>GetIDsOfNames()</code> to do something sensible as that function will be called by client code before <code>Invoke()</code>.<br>\nIf you have your interfaces in a type library see <a href=\"http://msdn.microsoft.com/en-us/library/ms221434.aspx\" rel=\"nofollow\">here</a> for an example. If you want to use late-binding instead, you can use <a href=\"http://msdn.microsoft.com/en-us/library/ms221242.aspx\" rel=\"nofollow\"><code>DISPID</code>s</a> greater <code>DISPID_VALUE</code> and less than <code>0x80010000</code> (all values <code>&lt;= 0</code> and in the range <code>0x80010000</code> through <code>0x8001FFFF</code> are reserved):</p>\n\n<pre><code>HRESULT GetIDsOfNames(REFIID riid, LPOLESTR *rgszNames, UINT cNames, \n                      LCID lcid, DISPID *rgDispId)\n{\n    HR hr = S_OK;\n    for (UINT i=0; i&lt;cNames; ++i) {\n        if (validName(rgszNames)) {\n            rgDispId[i] = dispIdForName(rgszNames);\n        } else {\n            rgDispId[i] = DISPID_UNKNOWN;\n            hr = DISP_E_UNKNOWNNAME;\n        }\n    }\n    return hr;\n}\n\nHRESULT Invoke(DISPID dispIdMember, REFIID riid, LCID lcid, WORD wFlags, \n               DISPPARAMS *Params, VARIANT *pVarResult, EXCEPINFO *pExcepInfo, \n               UINT *puArgErr)\n{\n    if (wFlags &amp; DISPATCH_METHOD) {\n       // handle according to DISPID ...\n    }\n\n    // ...\n</code></pre>\n\n<p>Note that the <code>DISPID</code>s are not supposed to change suddenly, so e.g. a static <code>map</code> or constant values should be used.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I have embedded a web browser control in my c++ application. I want javascript running in the web browser control to be able to call a c++ function/method.</p>\n\n<p>I have found mentions of three ways to do this:</p>\n\n<ol>\n<li>Implement an ActiveX component that acts as a middle man. (Implementation details here: <a href=\"http://blogs.msdn.com/b/nicd/archive/2007/04/18/calling-into-your-bho-from-a-client-script.aspx\">http://blogs.msdn.com/b/nicd/archive/2007/04/18/calling-into-your-bho-from-a-client-script.aspx</a>)</li>\n<li>Use window.external. (Also discussed in the link above, but no implementation provided)</li>\n<li>Add a custom object to the window object</li>\n</ol>\n\n<p>I want to go with the third option, but I haven't found any working examples on how to do that. Can someone please show me how to do it, or link to a working example on the net somewhere.</p>\n\n<p>The closest to an example that I have found is the first reply by Igor Tandetnik in <a href=\"http://groups.google.com/group/microsoft.public.inetsdk.programming.webbrowser_ctl/browse_frm/thread/afb353de46bae2f8\">a thread in the webbrowser_ctl news group</a>. But I'm afraid I need more help than that.</p>\n\n<p>I'm embedding an IWebBrowser2 control and I am not using MFC, ATL or WTL.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Going by the pseudo-code given by Igor in the thread I linked earlier, and code found in the codeproject article \"<a href=\"http://www.codeproject.com/KB/COM/javascriptfromcpp.aspx?display=PrintAll\">Creating JavaScript arrays and other objects from C++</a>\" I've produced some code.</p>\n\n<pre><code>void WebForm::AddCustomObject(IDispatch *custObj, std::string name)\n{\n    IHTMLDocument2 *doc = GetDoc();\n    IHTMLWindow2 *win = NULL;\n    doc-&gt;get_parentWindow(&amp;win);\n\n    if (win == NULL) {\n        return;\n    }\n\n    IDispatchEx *winEx;\n    win-&gt;QueryInterface(&amp;winEx);\n\n    if (winEx == NULL) {\n        return;\n    }\n\n    int lenW = MultiByteToWideChar(CP_ACP, MB_PRECOMPOSED, name.c_str(), -1, NULL, 0);\n    BSTR objName = SysAllocStringLen(0, lenW);\n    MultiByteToWideChar(CP_ACP, MB_PRECOMPOSED, name.c_str(), -1, objName, lenW);\n\n    DISPID dispid; \n    HRESULT hr = winEx-&gt;GetDispID(objName, fdexNameEnsure, &amp;dispid);\n\n    SysFreeString(objName);\n\n    if (FAILED(hr)) {\n        return;\n    }\n\n    DISPID namedArgs[] = {DISPID_PROPERTYPUT};\n    DISPPARAMS params;\n    params.rgvarg = new VARIANT[1];\n    params.rgvarg[0].pdispVal = custObj;\n    params.rgvarg[0].vt = VT_DISPATCH;\n    params.rgdispidNamedArgs = namedArgs;\n    params.cArgs = 1;\n    params.cNamedArgs = 1;\n\n    hr = winEx-&gt;InvokeEx(dispid, LOCALE_USER_DEFAULT, DISPATCH_PROPERTYPUT, &amp;params, NULL, NULL, NULL); \n\n    if (FAILED(hr)) {\n        return;\n    }\n}\n</code></pre>\n\n<p>The code above runs all the way through, so everything looks alright that far.</p>\n\n<p>I call AddCustomObject when I receive the DISPID_NAVIGATECOMPLETE2 DWebBrowserEvents2 event passing this as <code>*custObj</code>:</p>\n\n<pre><code>class JSObject : public IDispatch {\nprivate:\n    long ref;\n\npublic:\n    // IUnknown\n    virtual HRESULT STDMETHODCALLTYPE QueryInterface(REFIID riid, void **ppv);\n    virtual ULONG STDMETHODCALLTYPE AddRef();\n    virtual ULONG STDMETHODCALLTYPE Release();\n\n    // IDispatch\n    virtual HRESULT STDMETHODCALLTYPE GetTypeInfoCount(UINT *pctinfo);\n    virtual HRESULT STDMETHODCALLTYPE GetTypeInfo(UINT iTInfo, LCID lcid,\n        ITypeInfo **ppTInfo);\n    virtual HRESULT STDMETHODCALLTYPE GetIDsOfNames(REFIID riid,\n        LPOLESTR *rgszNames, UINT cNames, LCID lcid, DISPID *rgDispId);\n    virtual HRESULT STDMETHODCALLTYPE Invoke(DISPID dispIdMember, REFIID riid,\n        LCID lcid, WORD wFlags, DISPPARAMS *Params, VARIANT *pVarResult,\n        EXCEPINFO *pExcepInfo, UINT *puArgErr);\n};\n</code></pre>\n\n<p>Noteworthy implementations might be</p>\n\n<pre><code>HRESULT STDMETHODCALLTYPE JSObject::QueryInterface(REFIID riid, void **ppv)\n{\n    *ppv = NULL;\n\n    if (riid == IID_IUnknown || riid == IID_IDispatch) {\n        *ppv = static_cast&lt;IDispatch*&gt;(this);\n    }\n\n    if (*ppv != NULL) {\n        AddRef();\n        return S_OK;\n    }\n\n    return E_NOINTERFACE;\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>HRESULT STDMETHODCALLTYPE JSObject::Invoke(DISPID dispIdMember, REFIID riid,\n    LCID lcid, WORD wFlags, DISPPARAMS *Params, VARIANT *pVarResult,\n    EXCEPINFO *pExcepInfo, UINT *puArgErr)\n{\n    MessageBox(NULL, \"Invoke\", \"JSObject\", MB_OK);\n    return DISP_E_MEMBERNOTFOUND;\n}\n</code></pre>\n\n<p>Unfortunately I never get the \"Invoke\" message box when I try to use the \"JSObject\" object from the javascript code.</p>\n\n<pre><code>JSObject.randomFunctionName();  // This should give me the c++ \"Invoke\" message\n                                // box, but it doesn't\n</code></pre>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>I implemented <code>GetIDsOfNames</code> like so:</p>\n\n<pre><code>HRESULT STDMETHODCALLTYPE JSObject::GetIDsOfNames(REFIID riid,\n    LPOLESTR *rgszNames, UINT cNames, LCID lcid, DISPID *rgDispId)\n{\n    HRESULT hr = S_OK;\n\n    for (UINT i = 0; i &lt; cNames; i++) {\n        std::map&lt;std::wstring, DISPID&gt;::iterator iter = idMap.find(rgszNames[i]);\n        if (iter != idMap.end()) {\n            rgDispId[i] = iter-&gt;second;\n        } else {\n            rgDispId[i] = DISPID_UNKNOWN;\n            hr = DISP_E_UNKNOWNNAME;\n        }\n    }\n\n    return hr;\n}\n</code></pre>\n\n<p>and this is my constructor</p>\n\n<pre><code>JSObject::JSObject() : ref(0)\n{\n    idMap.insert(std::make_pair(L\"execute\", DISPID_USER_EXECUTE));\n    idMap.insert(std::make_pair(L\"writefile\", DISPID_USER_WRITEFILE));\n    idMap.insert(std::make_pair(L\"readfile\", DISPID_USER_READFILE));\n}\n</code></pre>\n\n<p>with the DISPID_USER_* constants defined as private class members</p>\n\n<pre><code>class JSObject : public IDispatch {\nprivate:\n    static const DISPID DISPID_USER_EXECUTE = DISPID_VALUE + 1;\n    static const DISPID DISPID_USER_WRITEFILE = DISPID_VALUE + 2;\n    static const DISPID DISPID_USER_READFILE = DISPID_VALUE + 3;\n\n    // ...\n};\n</code></pre>\n\n<p><strong>EDIT 3, 4 and 5:</strong></p>\n\n<p>Moved to <a href=\"http://stackoverflow.com/questions/3754268/returning-string-to-javascript-from-c-function\">a separate question</a></p>\n\n<p><strong>EDIT 6:</strong></p>\n\n<p>Made <a href=\"http://stackoverflow.com/questions/3754268/returning-string-to-javascript-from-c-function\">a separate question</a> out of the \"returning a string\" edits. That way I can accept <a href=\"http://stackoverflow.com/users/168225/georg-fritzsche\">Georg's</a> reply as that answers the original question.</p>\n\n<p><strong>EDIT 7:</strong></p>\n\n<p>I have gotten a few requests for a fully working, self contained, example implementation. Here it is: <a href=\"https://github.com/Tobbe/CppIEEmbed\">https://github.com/Tobbe/CppIEEmbed</a>. Please fork and improve if you can :)</p>\n",
            "last_activity_date": 1313700042,
            "question_id": 3747414,
            "score": 8,
            "tags": [
                "javascript",
                "c++",
                "windows",
                "com",
                "iwebbrowser2"
            ],
            "title": "Calling C++ function from JavaScript script running in a web browser control"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>It's not possible, and it never will be, unless the user explicitly installs policy configurations.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p><strong>Update 2:</strong></p>\n\n<p>Since the site below is dead already, this discussion thread in apple.com's forum has the diagnosis and source code on how did that site retrieve the UDID thru mobileconfig.</p>\n\n<p><a href=\"https://discussions.apple.com/thread/3089948?start=0&amp;tstart=0\" rel=\"nofollow\">https://discussions.apple.com/thread/3089948?start=0&amp;tstart=0</a></p>\n\n<hr>\n\n<p><strong>Update</strong>: the site mentioned in this answer is no longer on-line; it's now just a placeholder full of ads. Leaving original message below for reference.</p>\n\n<hr>\n\n<p>Open <a href=\"http://whatismyudid.com/\" rel=\"nofollow\">http://whatismyudid.com/</a> in your iOS device</p>\n\n<p>it is possible through mobileconfig (<a href=\"http://developer.apple.com/library/ios/#documentation/NetworkingInternet/Conceptual/iPhoneOTAConfiguration/Introduction/Introduction.html\" rel=\"nofollow\">Over-the-Air Profile Delivery and Configuration</a>)</p>\n\n<p><a href=\"http://whatismyudid.com/device/start\" rel=\"nofollow\">http://whatismyudid.com/device/start</a>   &lt;- download their mobileconfig and take a look</p>\n",
                    "is_accepted": true,
                    "score": 27
                },
                {
                    "body": "<p>More simple, go on this url and get your UDID <a href=\"http://www.easy-udid.com\" rel=\"nofollow\">http://www.easy-udid.com</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can I Read UDID from Iphone with javascript on mobile safari?</p>\n",
            "last_activity_date": 1401568640,
            "question_id": 2072240,
            "score": 8,
            "tags": [
                "javascript",
                "iphone",
                "objective-c"
            ],
            "title": "Read UDID from Iphone with javascript on mobile safari"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The author of d3 <a href=\"https://github.com/mbostock/d3/wiki\">recommends</a> using <a href=\"https://github.com/shawnbot/aight\">aight</a> HTML5 shim/polyfill bundle for compatibility.</p>\n\n<p>The .map method in question is part of EcmaScript5 - and therefore <a href=\"http://kangax.github.io/es5-compat-table/#Array.prototype.map\">not available in IE8</a>.</p>\n\n<p>Mozilla provides <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map?redirectlocale=en-US&amp;redirectslug=JavaScript%2FReference%2FGlobal_Objects%2FArray%2Fmap\">a function you can drop in</a> to get this functionality. Good luck with IE8!</p>\n",
                    "is_accepted": true,
                    "score": 19
                }
            ],
            "body": "<p>I am using a Leaderboard from the following link</p>\n\n<p><a href=\"http://labs.juiceanalytics.com/leaderboard/index.html#2a65db98c6f451b7f071b630694bc350\">http://labs.juiceanalytics.com/leaderboard/index.html#2a65db98c6f451b7f071b630694bc350</a></p>\n\n<p>In this leaderboard d3.js and d3.csv.js are being used.\nThis leaderboard is working fine for me in all the browsers except IE8 and IE9.\nFor these browsers some error in scriptting is there with d3.js.\nI have searched it out well on internet but i didn't find any promising solution to make it work with IE8 or IE9.\nThe error which it is showing is that \"Object can't find the .map() method\", which is used in d3.js.\nGlad if somebody can help me out in this.</p>\n",
            "last_activity_date": 1390998323,
            "question_id": 16828501,
            "score": 7,
            "tags": [
                "javascript",
                "internet-explorer-8",
                "internet-explorer-9",
                "d3.js"
            ],
            "title": "Making d3.js compatible with IE8/IE9"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>John Resig posted a <a href=\"http://ejohn.org/files/sync/\" rel=\"nofollow\">synchronized animation sample</a> (no instructions, click a colored box). It might take some work to figure out how to apply it to your control, but it could be a good place to start.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I think your problem isn't timing but fractional division of a pixel.  If you try this code it looks smooth for handle 1 and 2 but not others in Firefox 3 but still looks jumpy in chrome.</p>\n\n<pre><code> active\n    .animate({ height: \"100px\" })\n    .siblings(\".section\")\n    .animate({ height: \"0px\" });\n</code></pre>\n\n<p>Have you thought about making the position of the elements static or absolute?  If your only moving the position of two elements you don't have to worry about the other ones jumping.  Give me a second and I'll try to make an example.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This does not solve running animations in parallel however it reproduces your expected behavior without the jitter. I placed section inside of handle to reduce the number of animations. You could use andSelf() to make the code smaller but it would be harder to read.  You will need to make some style tweaks.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Accordion Test&lt;/title&gt;\n    &lt;script type=\"text/javascript\" src=\"jquery.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n\n    $(document).ready(function(){\n        $(\"#accordion .handle\").click(function(){\n            var open = $(this).parent().children(\".section, .open\");\n            var active = $(this);\n\n            if (!active.hasClass(\"open\"))\n            {\n                if (active.hasClass(\"up\"))\n                {\n                  console.log(\"up\");\n                  active.animate({top:\"+=100\"}).removeClass(\"up\");\n                  active.nextAll(\".handle\").andSelf().filter(\".up\").animate({top:\"+=100\"}).removeClass(\"up\");\n                  $(\".section\", active).slideUp();\n                  $(\".section\", active.nextAll()).slideUp();\n                  $(\".section\", active.prev()).slideDown();\n                }\n                else\n                {\n                  active.prevAll(\".handle\").not(\".up\").animate({top:\"-=100\"}).addClass(\"up\");\n                  $(\".section\", active.prev()).slideDown();\n                }\n\n                open.removeClass(\"open\");\n                active.addClass(\"open\");\n            }\n        });\n    });\n\n    &lt;/script&gt;\n    &lt;style type=\"text/css\"&gt;\n        #accordion{\n            width: 200px;\n            position:relative;\n        }\n        #accordion .section{\n            width: 196px;\n            margin-left: 2px;\n            height: 100px;\n            background-color: #b9b9b9;\n            display:none;\n        }\n        #accordion .handle{\n            width: 200px;\n            height: 30px;\n            background-color: #d9d9d9;\n            border: 1px solid black;\n            cursor: pointer;\n            cursor: hand;\n            position: absolute;\n        }\n        #accordion .handle .header {\n            height: 30px;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div id=\"accordion\"&gt;\n    &lt;div id=\"s1\" class=\"section open\" style=\"display:block\"&gt;This is section 1&lt;/div&gt;\n\n    &lt;div class=\"handle open\" style=\"top:100;\"&gt;\n      &lt;div class=\"header\"&gt;handle 1&lt;/div&gt;\n      &lt;div class=\"section\"&gt;This is section 2&lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"handle\" style=\"top:130;\"&gt;\n      &lt;div class=\"header\"&gt;handle 2&lt;/div&gt;\n      &lt;div class=\"section\"&gt;This is section 3&lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"handle\" style=\"top:160;\"&gt;\n      &lt;div class=\"header\"&gt;handle 3&lt;/div&gt;\n      &lt;div class=\"section\"&gt;This is section 4&lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"handle\" style=\"top:190;\"&gt;\n      &lt;div class=\"header\"&gt;handle 4&lt;/div&gt;\n      &lt;div class=\"section\"&gt;This is section 5&lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"handle\" style=\"top:220;\"&gt;\n      &lt;div class=\"content\"&gt;handle 5&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><em>Update: I'm no longer using John Resig's syncAnimate plugin.  See my later answer for the final solution</em></p>\n\n<p>I just wanted to supply the final working solution that I'm employing on my project.  It uses the <a href=\"http://ejohn.org/files/sync/\" rel=\"nofollow\">syncAnimate plugin</a> that John Resig wrote (posted by Corbin March).</p>\n\n<p>This code will:</p>\n\n<ul>\n<li>Read and use the section height from CSS</li>\n<li>Allow you to set the animation duration, and default active section through an options object.</li>\n<li>Automatically detect handle position relative to section and adjusts accordingly.  So you move the handles above or below a section in the markup and not have to change the js code.</li>\n</ul>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"jquery.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"ui.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n    new Accordion(\"#accordion\", {active_tab: 0});\n});\n&lt;/script&gt;\n&lt;style type=\"text/css\"&gt;\n#accordion .handle{\n    width: 260px;\n    height: 30px;\n    background-color: orange;\n}\n#accordion .section{\n    width: 260px;\n    height: 445px;\n    background-color: #a9a9a9;\n    overflow: hidden;\n    position: relative;\n}\n\n&lt;/style&gt;\n\n&lt;div id=\"accordion\"&gt;\n    &lt;div class=\"section\"&gt;Section Code&lt;/div&gt;\n    &lt;div class=\"handle\"&gt;handle 1&lt;/div&gt;\n\n    &lt;div class=\"section\"&gt;Section Code&lt;/div&gt;\n    &lt;div class=\"handle\"&gt;handle 2&lt;/div&gt;\n\n    &lt;div class=\"section\"&gt;Section Code&lt;/div&gt;\n    &lt;div class=\"handle\"&gt;handle 3&lt;/div&gt;\n\n    &lt;div class=\"section\"&gt;Section Code&lt;/div&gt;\n    &lt;div class=\"handle\"&gt;handle 4&lt;/div&gt;\n\n    &lt;div class=\"section\"&gt;Section Code&lt;/div&gt;\n    &lt;div class=\"handle\"&gt;handle 5&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>ui.js</strong></p>\n\n<pre><code>Accordion = function(container_id, options){\n    this.init(container_id, options);\n}\n\n$.extend(Accordion.prototype, {\n    container_id: '',\n    options: {},\n    active_tab: 0,    \n    animating: false,\n    button_position: 'below',\n    duration: 250,\n    height: 100,\n\n    handle_class: \".handle\",\n    section_class: \".section\",\n\n    init: function(container_id, options){\n        var self = this;\n        this.container_id = container_id;\n        this.button_position = this.get_button_position();\n\n        // The height of each section, use the height specified in the stylesheet if possible\n        this.height = $(this.container_id + \" \" + this.section_class).css(\"height\");\n\n        if(options &amp;&amp; options.duration)    this.duration = options.duration;\n        if(options &amp;&amp; options.active_tab)  this.active_tab = options.active_tab;\n\n        // Set the first section to have a height and be \"open\"\n        // All the rest of the sections should have 0px height\n        $(this.container_id).children(this.section_class).eq(this.active_tab)\n            .addClass(\"open\")\n            .css(\"height\", this.height)\n            .siblings(this.section_class)\n            .css(\"height\", \"0px\");\n\n        // figure out the state of the handles\n        this.do_handle_logic($(this.container_id).children(this.handle_class).eq(this.active_tab));\n\n        // Set up an event handler to animate each section\n        $(this.container_id + \" \" + this.handle_class).mouseover(function(){\n\n            if(self.animating)\n                return;\n\n            self.animate($(this));\n        });\n    },\n\n    /*\n     * Determines whether handles are above or below their associated section\n     */     \n    get_button_position: function(){\n        return ($(this.container_id).children(\":first\").hasClass(this.handle_class) ? 'above' : 'below');\n    },\n\n    /*\n     * Animate the accordion from one node to another\n     */ \n    animate: function(handle){\n        var active_section = (this.button_position == 'below' ? handle.prev() : handle.next());    \n        var open_section = handle.siblings().andSelf().filter(\".open\");\n\n        if(active_section.hasClass(\"open\"))\n            return;\n\n        this.animating = true;\n\n        // figure out the state of the handles\n        this.do_handle_logic(handle);\n\n        // Close the open section\n        open_section\n            .syncAnimate(active_section, {\"height\": \"0px\"}, {queue:false, duration:this.duration}, '')\n            .removeClass(\"open\");\n\n        // Open the new section\n        active_section\n            .syncAnimate(open_section, {\"height\": this.height}, {queue:false, duration:this.duration}, '')\n            .addClass(\"open\");\n\n        var self = this;\n        window.setTimeout(function(){\n            self.animating = false;\n        }, this.duration);\n    },\n\n    /*\n     * Update the current class or \"state\" of each handle\n     */ \n    do_handle_logic: function(handle){\n        var all_handles = handle.siblings(\".handle\").andSelf();\n        var above_handles = handle.prevAll(this.handle_class);\n        var below_handles = handle.nextAll(this.handle_class);\n\n        // Remove all obsolete handles\n        all_handles\n            .removeClass(\"handle_on_above\")\n            .removeClass(\"handle_on_below\")\n            .removeClass(\"handle_off_below\")\n            .removeClass(\"handle_off_above\");\n\n        // Apply the \"on\" state to the current handle\n        if(this.button_position == 'below'){\n            handle\n                .addClass(\"handle_on_below\");\n        }\n        else{\n            handle\n                .addClass(\"handle_on_above\");\n        }\n\n        // Apply the off above/below state to the rest of the handles\n        above_handles\n            .addClass(\"handle_off_above\");\n\n        below_handles\n            .addClass(\"handle_off_below\");\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>One more answer, hopefully my last one...</p>\n\n<p>Unfortunately, John Resig's syncAnimate method is not quite up to snuff for the accordion-type animation I want to do.  While it works great on Firefox, I couldn't get it working smoothly on IE or Safari.</p>\n\n<p>With that said, I decided to bite the bullet and write my own animation engine that does simple parallel animations.  The class-code uses jquery functions but is not a jquery plugin.  Also, I've only set it up to do size/position animations, which is all I need.</p>\n\n<pre><code>ParallelAnimations = function(animations, opts){\n    this.init(animations, opts);\n};\n\n$.extend(ParallelAnimations.prototype, {\n    options: {\n        duration: 250\n    },\n    rules: {},\n\n    init: function(animations, opts){\n        // Overwrite the default options\n        $.extend(this.options, opts);\n\n        // Create a set of rules to follow in our animation\n        for(var i in animations){\n            this.rules[i] = {\n                element: animations[i].element,\n                changes: new Array()\n            };\n\n            for(var style in animations[i].styles){\n\n                // Calculate the start and end point values for the given style change\n                var from = this.parse_style_value(animations[i].element, style, \"\");\n                var to = this.parse_style_value(animations[i].element, style, animations[i].styles[style]);\n\n                this.rules[i].changes.push({\n                    from: from,\n                    to: to,\n                    style: style\n                });\n            }\n        }\n\n        this.start()\n    },\n\n    /*\n     * Does some parsing of the given and real style values\n     * Allows for pixel and percentage-based animations\n     */\n    parse_style_value: function(element, style, given_value){\n        var real_value = element.css(style);\n\n        if(given_value.indexOf(\"px\") != -1){\n            return {\n                amount: given_value.substring(0, (given_value.length - 2)),\n                unit: \"px\"\n            };\n        }\n\n        if(real_value == \"auto\"){\n            return {\n                amount: 0,\n                unit: \"px\"\n            };\n        }\n\n        if(given_value.indexOf(\"%\") != -1){\n            var fraction = given_value.substring(0, given_value.length - 1) / 100;\n\n            return {\n                amount: (real_value.substring(0, real_value.length - 2) * fraction),\n                unit: \"px\"\n            };\n        }\n\n        if(!given_value){\n            return {\n                amount: real_value.substring(0, real_value.length - 2),\n                unit: \"px\"\n            };\n        }\n    },\n\n    /*\n     * Start the animation\n     */\n    start: function(){\n        var self = this;\n        var start_time = new Date().getTime();\n        var freq = (1 / this.options.duration);\n\n        var interval = setInterval(function(){\n            var elapsed_time = new Date().getTime() - start_time;\n\n            if(elapsed_time &lt; self.options.duration){\n                var f = elapsed_time * freq;\n\n                for(var i in self.rules){\n                    for(var j in self.rules[i].changes){\n                        self.step(self.rules[i].element, self.rules[i].changes[j], f);\n                    }\n                }\n            }\n            else{\n                clearInterval(interval);\n\n                for(var i in self.rules){\n                    for(var j in self.rules[i].changes)\n                        self.step(self.rules[i].element, self.rules[i].changes[j], 1);\n                }\n            }\n        }, 10);\n    },\n\n    /*\n     * Perform an animation step\n     * Only works with position-based animations\n     */ \n    step: function(element, change, fraction){\n\n        var new_value;\n        switch(change.style){\n            case 'height':\n            case 'width':\n            case 'top':\n            case 'bottom':\n            case 'left':\n            case 'right':\n            case 'marginTop':\n            case 'marginBottom':\n            case 'marginLeft':\n            case 'marginRight':\n                new_value = Math.round(change.from.amount - (fraction * (change.from.amount - change.to.amount))) + change.to.unit;\n                break;\n        }\n\n        if(new_value)\n            element.css(change.style, new_value);\n    }\n});\n</code></pre>\n\n<p>Then the original Accordion class only needs to be modified in the animate method to make use of the new call.</p>\n\n<pre><code>Accordion = function(container_id, options){\n    this.init(container_id, options);\n}\n\n$.extend(Accordion.prototype, {\n    container_id: '',\n    options: {},\n    active_tab: 0,    \n    animating: false,\n    button_position: 'below',\n    duration: 250,\n    height: 100,\n\n    handle_class: \".handle\",\n    section_class: \".section\",\n\n    init: function(container_id, options){\n        var self = this;\n        this.container_id = container_id;\n        this.button_position = this.get_button_position();\n\n        // The height of each section, use the height specified in the stylesheet if possible\n        this.height = $(this.container_id + \" \" + this.section_class).css(\"height\");\n\n        if(options &amp;&amp; options.duration)    this.duration = options.duration;\n        if(options &amp;&amp; options.active_tab)  this.active_tab = options.active_tab;\n\n        // Set the first section to have a height and be \"open\"\n        // All the rest of the sections should have 0px height\n        $(this.container_id).children(this.section_class).eq(this.active_tab)\n            .addClass(\"open\")\n            .css(\"height\", this.height)\n            .siblings(this.section_class)\n            .css(\"height\", \"0px\");\n\n        // figure out the state of the handles\n        this.do_handle_logic($(this.container_id).children(this.handle_class).eq(this.active_tab));\n\n        // Set up an event handler to animate each section\n        $(this.container_id + \" \" + this.handle_class).mouseover(function(){\n\n            if(self.animating)\n                return;\n\n            self.animate($(this));\n        });\n    },\n\n    /*\n     * Determines whether handles are above or below their associated section\n     */     \n    get_button_position: function(){\n        return ($(this.container_id).children(\":first\").hasClass(this.handle_class) ? 'above' : 'below');\n    },\n\n    /*\n     * Animate the accordion from one node to another\n     */ \n    animate: function(handle){\n        var active_section = (this.button_position == 'below' ? handle.prev() : handle.next());    \n        var open_section = handle.siblings().andSelf().filter(\".open\");\n\n        if(active_section.hasClass(\"open\"))\n            return;\n\n        this.animating = true;\n\n        // figure out the state of the handles\n        this.do_handle_logic(handle);\n\n        // Close the open section\n        var arr = new Array();\n        arr.push({\n            element: open_section,\n            styles: {\n                \"height\": \"0px\"\n            }\n        });\n        arr.push({\n            element: active_section,\n            styles: {\n                \"height\": this.height\n            }\n        });\n        new ParallelAnimations(arr, {duration: this.duration});\n\n        var self = this;\n        window.setTimeout(function(){\n            open_section.removeClass(\"open\");\n            active_section.addClass(\"open\");\n            self.animating = false;\n        }, this.duration);\n    },\n\n    /*\n     * Update the current class or \"state\" of each handle\n     */ \n    do_handle_logic: function(handle){\n        var all_handles = handle.siblings(\".handle\").andSelf();\n        var above_handles = handle.prevAll(this.handle_class);\n        var below_handles = handle.nextAll(this.handle_class);\n\n        // Remove all obsolete handles\n        all_handles\n            .removeClass(\"handle_on_above\")\n            .removeClass(\"handle_on_below\")\n            .removeClass(\"handle_off_below\")\n            .removeClass(\"handle_off_above\");\n\n        // Apply the \"on\" state to the current handle\n        if(this.button_position == 'below'){\n            handle\n                .addClass(\"handle_on_below\");\n        }\n        else{\n            handle\n                .addClass(\"handle_on_above\");\n        }\n\n        // Apply the off above/below state to the rest of the handles\n        above_handles\n            .addClass(\"handle_off_above\");\n\n        below_handles\n            .addClass(\"handle_off_below\");\n    }\n});\n</code></pre>\n\n<p>The HTML is still called the same way:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Parallel Accordion Animation&lt;/title&gt;\n    &lt;script type=\"text/javascript\" src=\"jquery.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"ui.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function(){\n        new Accordion(\"#accordion\");\n    });\n    &lt;/script&gt;\n    &lt;style type=\"text/css\"&gt;\n    #accordion{\n        position: relative;\n    }\n    #accordion .handle{\n        width: 260px;\n        height: 30px;\n        background-color: orange;\n    }\n    #accordion .section{\n        width: 260px;\n        height: 445px;\n        background-color: #a9a9a9;\n        overflow: hidden;\n        position: relative;\n    }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div id=\"accordion\"&gt;\n    &lt;div class=\"section\"&gt;&lt;!-- --&gt;&lt;/div&gt;\n    &lt;div class=\"handle\"&gt;handle 1&lt;/div&gt;\n    &lt;div class=\"section\"&gt;&lt;!-- --&gt;&lt;/div&gt;\n    &lt;div class=\"handle\"&gt;handle 2&lt;/div&gt;\n    &lt;div class=\"section\"&gt;&lt;!-- --&gt;&lt;/div&gt;\n    &lt;div class=\"handle\"&gt;handle 3&lt;/div&gt;\n    &lt;div class=\"section\"&gt;&lt;!-- --&gt;&lt;/div&gt;\n    &lt;div class=\"handle\"&gt;handle 4&lt;/div&gt;\n    &lt;div class=\"section\"&gt;&lt;!-- --&gt;&lt;/div&gt;\n    &lt;div class=\"handle\"&gt;handle 5&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>There are a few things I may add in the future:\n - Queued Animations\n - Animations for other types of styles (colors,etc)</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>You can't do a parallel effect in jquery with proper queue and scope. Scriptaculous got it right with queue and scope where jQuery on the other hand has .queue and .animate that are basically useless combined. The only thing jQuery is good for out of the box is pushing some style attributes around on the dom whereas Scriptaculous covers the whole spectrum of what's possible with effects.</p>\n\n<p>You need to use Scriptaculous and John Resig should rethink jQuery.fx, he should have a look at scripty2.com while he's at it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Thanks Adam Plumb for a really great solution to parallel animations. I had a small problem with it though and that was that it somehow saved roles from earlier animations i fixed that by setting the rules to {} before adding them in the init function. It can probably be done in a better way though. I also added a callback function that is called when the animation have finished.</p>\n\n<pre><code>ParallelAnimations = function(animations, opts){\n    this.init(animations, opts);\n};\n\n$.extend(ParallelAnimations.prototype, {\n    options: {\n        duration: 250,\n        callback: null\n    },\n    rules: {},\n\n    init: function(animations, opts){\n        // Overwrite the default options\n        $.extend(this.options, opts);\n\n        // Create a set of rules to follow in our animation\n        this.rules = {}; // Empty the rules.\n        for(var i in animations){\n            this.rules[i] = {\n                element: animations[i].element,\n                changes: new Array()\n            };\n\n            for(var style in animations[i].styles){\n\n                // Calculate the start and end point values for the given style change\n                var from = this.parse_style_value(animations[i].element, style, \"\");\n                var to = this.parse_style_value(animations[i].element, style, animations[i].styles[style]);\n\n                this.rules[i].changes.push({\n                    from: from,\n                    to: to,\n                    style: style\n                });\n            }\n        }\n\n        this.start()\n    },\n\n    /*\n     * Does some parsing of the given and real style values\n     * Allows for pixel and percentage-based animations\n     */\n    parse_style_value: function(element, style, given_value){\n        var real_value = element.css(style);\n\n        if(given_value.indexOf(\"px\") != -1){\n            return {\n                amount: given_value.substring(0, (given_value.length - 2)),\n                unit: \"px\"\n            };\n        }\n\n        if(real_value == \"auto\"){\n            return {\n                amount: 0,\n                unit: \"px\"\n            };\n        }\n\n        if(given_value.indexOf(\"%\") != -1){\n            var fraction = given_value.substring(0, given_value.length - 1) / 100;\n\n            return {\n                amount: (real_value.substring(0, real_value.length - 2) * fraction),\n                unit: \"px\"\n            };\n        }\n\n        if(!given_value){\n            return {\n                amount: real_value.substring(0, real_value.length - 2),\n                unit: \"px\"\n            };\n        }\n    },\n\n    /*\n     * Start the animation\n     */\n    start: function(){\n        var self = this;\n        var start_time = new Date().getTime();\n        var freq = (1 / this.options.duration);\n\n        var interval = setInterval(function(){\n            var elapsed_time = new Date().getTime() - start_time;\n\n            if(elapsed_time &lt; self.options.duration){\n                var f = elapsed_time * freq;\n\n                for(var i in self.rules){\n                    for(var j in self.rules[i].changes){\n                        self.step(self.rules[i].element, self.rules[i].changes[j], f);\n                    }\n                }\n            }\n            else{\n                clearInterval(interval);\n\n                for(var i in self.rules){\n                    for(var j in self.rules[i].changes)\n                        self.step(self.rules[i].element, self.rules[i].changes[j], 1);\n                }\n                if(self.options.callback != null) {\n                    self.options.callback(); // Do Callback\n                }\n            }\n        }, 10);\n    },\n\n    /*\n     * Perform an animation step\n     * Only works with position-based animations\n     */ \n    step: function(element, change, fraction){\n\n        var new_value;\n        switch(change.style){\n            case 'height':\n            case 'width':\n            case 'top':\n            case 'bottom':\n            case 'left':\n            case 'right':\n            case 'marginTop':\n            case 'marginBottom':\n            case 'marginLeft':\n            case 'marginRight':\n                new_value = Math.round(change.from.amount - (fraction * (change.from.amount - change.to.amount))) + change.to.unit;\n                break;\n        }\n\n        if(new_value)\n            element.css(change.style, new_value);\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to create an accordion widget in jquery similar to <a href=\"http://jqueryui.com/demos/accordion/\">jquery's accordion plugin</a>, with the difference that I want the handles to appear below their respective content instead of above.  My accordion works by decreasing the height of the open content section while at the same time increasing the height of the clicked content section.  I've posted an example <a href=\"http://cobradragon.com/~adam/accordion/\">here</a>.  My problem is that the animations aren't started at exactly the same time, and there is a noticeable \"jump\" due to the slight delay before the second animation is started.</p>\n\n<p>Scriptaculous has a function called <a href=\"http://wiki.github.com/madrobby/scriptaculous/effect-parallel\">Effect.Parallel</a> that allows you to create an array of animation effects and execute them in parallel.  Unfortunately, I can't seem to find something similar with jquery.  </p>\n\n<p>Is there a way I can run precise parallel animations on separate divs in jquery?</p>\n\n<p>Edit: I'm as much interested in alternative methods of coding this accordion widget.  So if there is any other method people think would work I'm open to that.</p>\n",
            "last_activity_date": 1304064202,
            "question_id": 811750,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui"
            ],
            "title": "How can I get jquery to execute animations in exact parallel?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>what my fav search eng tells me</p>\n\n<p><a href=\"http://en.allexperts.com/q/Javascript-1520/Catching-browser-close-event.htm\" rel=\"nofollow\">http://en.allexperts.com/q/Javascript-1520/Catching-browser-close-event.htm</a></p>\n\n<p><a href=\"http://forums.devarticles.com/javascript-development-22/how-to-stop-browser-from-closing-using-javascript-8458.html\" rel=\"nofollow\">http://forums.devarticles.com/javascript-development-22/how-to-stop-browser-from-closing-using-javascript-8458.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The question isn't an unusual one.  Yet after 5 days searching the internet you still haven't found a satisfactory answer.  That in itself should be a fairly plain indicator.</p>\n\n<p>What I've found on the web is there is a serious aversion to the 'no can do' answer.  When something can't be done the normal response is to make no response.</p>\n\n<p>Bottom line is not only can what you are trying do not be done it should not be done.</p>\n\n<p>I think you need to go back to your seniors and explain to them that a Web UI is a <strong>guest</strong> hosted by a browser on a client machine.  This <em>guest</em> status is an important one.</p>\n\n<p>Would you want a guest in your home to have the power to enforce you to alert them when you want to go to the toilet?  No?</p>\n\n<p>Similarly the browser limits what info the guest UI is allowed to access.  Even if you found a workaround for the fact that browsers aren't giving up this info voluntarily, such clever hacks are fragile and likely to be constant source of bugs.</p>\n\n<p>Since its likely that the application was originally intended to be delivered via the browser before any code was cut, the fault lies with including the requirement in the first place.</p>\n\n<p>All we can do sympathise with you in being asked to perform an near impossible and certainly not sensible requirement.</p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>I believe there was some ways to do this in <em>some</em> browsers (and probably not very reliably) some years ago. Because I remember those awful massive spam-popups that spawned more popups as you closed one. But that's why it's not a good idea to allow scripts to detect this, and why browsers should prevent it and most modern browsers probably does.</p>\n\n<p>I was asked to do something similar for a survey invitation script; they wanted to ask the visitor if they would like to answer a survey about their website, and then the survey should pop up when they leave the site. The solution I found was to (repeatedly) explain the management that this was probably impossible, or at best <em>very</em> unreliable; and instead the survey should popup immediately (if the visitor agreed to take the survey) and the intro page should tell the visitor to leave this window open and go back to it after reviewing the page. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In your function:</p>\n\n<pre><code>document.onclick = function()\n    {\n        //To check if user is navigating from the page by clicking on a hyperlink.\n        if (event.srcElement.tagName == 'A')\n        \tblnShowMsg = false;\t//To not popup the warning message\n        else\n        \tblnShowMsg = true;    //To popup the warning message\n    }\n</code></pre>\n\n<p>blnShowMsg will be true for <em>any</em> click on your page except <em>sometimes</em> when the user click a link. I say sometimes because if event.srcElement.tagName doesn't work in some browser it will allways be true. And you have to add <em>lots</em> of cases to to allow using form controls etc...  Some browsers can even automatically reload a page, and I'm not sure if onload events will run then or not.</p>\n\n<p>But popping a warning about leaving the page (or similar) all the time is sure to annoy a lot of people, and they'll probably leave permanently... </p>\n\n<p>If you're making for instance a online program where it's critical that something is saved before leaving, I'll say that catching the before unload event is a little too late, better to make some kind of autosave (see Gmail) and/or some kind of non-obtrusive warning when the user mouseover the navigation menues without saving.</p>\n\n<p>But you can't force stupid users not to do anything stupid, on a web interface this is even more true because you have less controll: if the user <em>want</em> to terminate the program before saving they <em>will</em> find a way to do so, and they <em>will</em> call you and complain when the unsaved data dissapears ;P</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I have a method that is a bit clunky but it will work in most instances.</p>\n\n<p>Create a \"Holding\" popup page containing a FRAMESET with one, 100% single FRAME and place the normal onUnload and onbeforeUnload event handlers in the HEAD.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script language=\"Javascript\" type=\"text/javascript\"&gt;\n  window.onbeforeunload = exitCheck;\n  window.onunload = onCloseDoSomething;\n\n  function onCloseDoSomething()\n  {\n  alert(\"This is executed at unload\");\n  }\n\n  function exitCheck(evt)\n  {\n  return \"Any string here.\"}\n  &lt;/script&gt;\n  &lt;/head&gt;\n\n    &lt;frameset rows=\"100%\"&gt;\n    &lt;FRAME name=\"main\" src=\"http://www.yourDomain.com/yourActualPage.aspx\"&gt;\n    &lt;/frameset&gt;\n&lt;body&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Using this method you are free to use the actual page you want to see, post back and click hyperlinks without the outer frame onUnload or onbeforeUnload event being fired.</p>\n\n<p>If the outer frame is refreshed or actually closed the events will fire.</p>\n\n<p>Like i said, not full-proof but will get round the firing of the event on every postback.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<blockquote>\n  <blockquote>\n    <p>\"Thanks buddy, but I have already gone through that and didn't find much help there\n    too. My seniors are not happy with that solution as putting a flag on evry link of my \n    application is a complicated job and they fear of breaking the application. Any other \n    suggestions would be appreciated. Thanks once again.\"</p>\n  </blockquote>\n</blockquote>\n\n<p>If you use jQuery, you can add link flags automatically. The way I would handle your problem is when the user performs the \"dangerous\" actions, iterate all the page links that are \"dangerous\" and then bind events to them. </p>\n\n<pre><code>$(\"#dangerbutton\").click(function(){ \n  $(\"a\").not( safeList ).click(function()\n  {\n     var dest = $(this).attr('href');\n     someWarningFunction(function(){ \n         /* Stay where we are because user opted to stay */\n     },function(){ \n         /* Continue Following Link because user didn't mind */\n         window.location= dest; \n     });\n     return false;\n  });\n});\n</code></pre>\n\n<p>This way will <strong>only</strong> fire on link clicks <strong>on</strong> your page. Users have to get used to the fact that \"close window == cancel everything\" logic, because many use and trust that facility. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You <a href=\"http://www.mindfiresolutions.com/Warning-the-user-before-leaving-the-page-792.php\" rel=\"nofollow\">might</a> have seen in many of the web form pages to warn the user before closing the page.When somebody refreshes the page, then there is a chance for loosing all filled data. In that case it is very helpful.</p>\n\n<p>Page life cycle includes two events like onunload and onbeforeunload. For this case you need to bind the script function in window. Onbeforeunload so that it will be called when page is unloading.</p>\n\n<p>Again this warning should not be fired when you are actually submitting the page. For that set a boolean value (e.g. shouldsubmit) to submit the page.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Add this script to your HTML:  </p>\n\n<pre><code> window.onbeforeunload = function (e)\n        {\n\n            e = e || window.event;\n            var y = e.pageY || e.clientY;\n            if (y &lt; 0){\n            return \"Do You really Want to Close the window ?\"\n            }\n            else {\n            return \"Refreshing this page can result in data loss.\"; \n            }\n\n          }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>After being through numerous forums available on the net for last 5 days, I am still not able to completely track down the browser close event. My requirement is to generate a popup message, when user tries to close the browser.</p>\n\n<p>I have called my javascript function on body 'onbeforeunload' event. And I have hardcoded the conditions to check the mouse-coordinates for the red 'X' buton of browser, refresh, File-close or Alt-F4. </p>\n\n<p>My code works fine when browser window is Maximized, but fails if we shrink it after a limit. Please help me, if some body has already found the solution to a similar problem.</p>\n\n<p>Thank you. </p>\n\n<h3>Aggregated Responses of OP</h3>\n\n<hr>\n\n<p>Ok, just tell me if it is possible to detect if a user has clicked on the Refresh button of the browser. Also, Refresh can be triggered by Right-click - Refresh or Ctrl-R. My requirement is to make a variable false on Refresh. I am just able to do it on F5, but all other ways are still out of my reach. The same would be applied to Back buton.</p>\n\n<hr>\n\n<p>Hi ppl, Thanks for all who replied atleast. I have talked to my seniors regarding this and they have now understood and have compromised with the browser menu buttons. So now my task has become easy. Now, I am using a variable and making it true by default. As, I mentioned earlier I just have to catch the onbeforeunload and popup a message when user tries to leave. The message will not popup when user is navigating to other pages, as I have made the variable as false on all the links of my page using following piece of code:</p>\n\n<pre><code>document.onclick = function() {\n    //To check if user is navigating from the page by clicking on a hyperlink.\n    if (event.srcElement.tagName == 'A')\n        blnShowMsg = false; //To not popup the warning message\n    else\n        blnShowMsg = true; //To popup the warning message\n}\n</code></pre>\n\n<p>In my case still the message is shown when user does Refresh, back or goes to any link in Favorites, etc.</p>\n\n<hr>\n\n<p>Thanks buddy, but I have already gone through that and didn't find much help there too. My seniors are not happy with that solution as putting a flag on evry link of my application is a complicated job and they fear of breaking the application. Any other suggestions would be appreciated. Thanks once again.</p>\n\n<hr>\n\n<p>Is there no one who can think of a solution here!!! where are all the experts???</p>\n",
            "last_activity_date": 1322175420,
            "question_id": 181189,
            "score": 7,
            "tags": [
                "javascript"
            ],
            "title": "To detect if the user is closing the IE browser apart from onunload event, as it is triggerred when user does refresh etc"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><code>$http</code> service returns a <code>promise</code> which has two callback methods as shown below.</p>\n\n<pre><code>$http({method: 'GET', url: '/someUrl'}).\n  success(function(data, status, headers, config) {\n     var element = angular.element('&lt;a/&gt;');\n     element.attr({\n         href: 'data:attachment/csv;charset=utf-8,' + encodeURI(data),\n         target: '_blank',\n         download: 'filename.csv'\n     })[0].click();\n\n  }).\n  error(function(data, status, headers, config) {\n    // if there's an error you should see it here\n  });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>Most of the <a href=\"http://stackoverflow.com/questions/6668776/download-file-through-an-ajax-call-php\">references on the web</a> about this issue point out to the fact that you cannot download files via ajax call 'out of the box'. I have seen (hackish) solutions that involve <code>iframes</code> and also solutions like @dcodesmith's that work and are perfectly viable. </p>\n\n<p>Here's another solution I found that works in Angular and is very straighforward.</p>\n\n<p>In the <strong>view</strong>, wrap the <code>csv</code> download button with <code>&lt;a&gt;</code> tag the following way :</p>\n\n<pre><code>&lt;a target=\"_self\" ng-href=\"{{csv_link}}\"&gt;\n  &lt;button&gt;download csv&lt;/button&gt;\n&lt;/a&gt;\n</code></pre>\n\n<p>(Notice the <code>target=\"_self</code> there, it's crucial to disable Angular's routing inside the ng-app more about it <a href=\"http://stackoverflow.com/questions/11580004/angular-js-link-behaviour-disable-deep-linking-for-specific-urls\">here</a>)</p>\n\n<p>Inside youre <strong>controller</strong> you can define <code>csv_link</code> the following way :</p>\n\n<pre><code>$scope.csv_link = '/orders' + $window.location.search;\n</code></pre>\n\n<p>(the <code>$window.location.search</code> is optional and onlt if you want to pass additionaly search query to your server)</p>\n\n<p>Now everytime you click the button, it should start downloading.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am trying to stream a <code>csv</code> file from a node.js server. The server portion is very simple :</p>\n\n<pre><code>server.get('/orders' function(req, res) {\n  res.setHeader('content-type', 'text/csv');\n  res.setHeader('content-disposition', 'attachment; filename='orders.csv');\n  return orders.pipe(res); // assuming orders is a csv file readable stream (doesn't have to be a stream, can be a normal response)\n}\n</code></pre>\n\n<p>In my angular controller I am trying to do something like this </p>\n\n<pre><code>$scope.csv = function() {\n    $http({method: 'GET', url: '/orders'});\n};\n</code></pre>\n\n<p>This function is called when there's a click on a button with <code>ng-click</code> in my view :</p>\n\n<pre><code>&lt;button ng-click=\"csv()\"&gt;.csv&lt;/button&gt;\n</code></pre>\n\n<p>I have looked at other answers about downloading files from server in Angular, but didn't find anything that worked for me. Is there a common way to do this ? Seems like something that should be simple.</p>\n",
            "last_activity_date": 1410542597,
            "question_id": 20904151,
            "score": 6,
            "tags": [
                "javascript",
                "node.js",
                "angularjs",
                "http",
                "http-headers"
            ],
            "title": "Download text/csv content as files from server in Angular"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You forgot to send ID.</p>\n\n<p>//$id = $_POST['cid']; </p>\n\n<p><img src=\"http://i.stack.imgur.com/o4b5h.png\" alt=\"enter image description here\"></p>\n\n<p>Make Id to AUTO_INCREMENT and remove from code:</p>\n\n<blockquote>\n  <p>$id = $_POST['cid'];</p>\n</blockquote>\n\n<pre><code>mysql_query(\"INSERT INTO boxes (x, y, w, h)\n                         VALUES('$x', '$y', '$w', '$h')\n                       \") or die(mysql_error());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Backbone is based on a REST API: when saving/updating a model to the server, Backbone will send it serialized as JSON in the request body with a <code>POST</code> our <code>PUT</code> request. From <a href=\"http://backbonejs.org/#Sync\" rel=\"nofollow\">Backbone.sync documentation</a></p>\n\n<blockquote>\n  <p>With the default implementation, when Backbone.sync sends up a request\n  to save a model, its attributes will be passed, serialized as JSON,\n  and sent in the HTTP body with content-type application/json.</p>\n</blockquote>\n\n<p>This means that server-side you have to</p>\n\n<ul>\n<li>determine the type of request</li>\n<li>decode the serialized JSON</li>\n</ul>\n\n<p>Something like this should get you started</p>\n\n<pre><code>$request_method = strtolower($_SERVER['REQUEST_METHOD']);\n$data = null;\n\nswitch ($request_method) {\n    case 'post':\n    case 'put':\n        $data = json_decode(file_get_contents('php://input'));\n    break;\n}\n\n// print_r($data);\n\n// note that mysql_* functions are deprecated\n// http://php.net/manual/en/function.mysql-query.php\n// inserting with a PDO object, assuming an auto incremented id\n$sql = \"INSERT INTO boxes (x, y, w, h) VALUES(?, ?, ?, ?)\";\n$sth = $dbh-&gt;prepare($sql);\n$sth-&gt;execute(array(\n    $data-&gt;x,\n    $data-&gt;y,\n    $data-&gt;w,\n    $data-&gt;h\n));\n$id = $dbh-&gt;lastInsertId();\n</code></pre>\n\n<p>Check this page for a more thorough implementation of a REST API in PHP <a href=\"http://www.gen-x-design.com/archives/create-a-rest-api-with-php/\" rel=\"nofollow\">http://www.gen-x-design.com/archives/create-a-rest-api-with-php/</a></p>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>I have a backbone.js model with some defaults and an url:</p>\n\n<pre><code>var Box = Backbone.Model.extend({\n    url: \"./save.php\",\n    defaults: {\n        x: 0,\n        y: 0,\n        w: 1,\n        h: 1\n    }\n});\n</code></pre>\n\n<p>Then I have an instance of this model and I proceed to save it:</p>\n\n<pre><code>var box = new Box({ x:10, y:10, w:200, h:200 });\nbox.save();\n</code></pre>\n\n<p>Now I want to save this model into a MySQL database using a PHP script \"save.php\", it goes like this:</p>\n\n<pre><code>&lt;?php \n    include('connection.php');\n\n    $id = $_POST['cid'];\n    $x = $_POST['x'];\n    $y = $_POST['y'];\n    $w = $_POST['w'];\n    $h = $_POST['h'];\n\n    mysql_query(\"INSERT INTO boxes (id, x, y, w, h)\n                         VALUES('$id', '$x', '$y', '$w', '$h')\n                       \") or die(mysql_error());\n?&gt;\necho \"Data Inserted!\";\n</code></pre>\n\n<p>I have tried reading many tutorials but I cannot get this simple model save to work. Why is my code not working? Any ideas on how can this be solved?</p>\n\n<p>Thanks</p>\n\n<p><strong>EDIT: QUICK SOLUTION</strong></p>\n\n<p>In the php script, the correct way to obtain the information from the sent JSON object is as follows:</p>\n\n<pre><code>$box_data = json_decode(file_get_contents('php://input'));\n$x = $box_data-&gt;{'x'};\n$y = $box_data-&gt;{'y'};\n$w = $box_data-&gt;{'w'};\n$h = $box_data-&gt;{'h'};\n</code></pre>\n\n<p>And to store in in the database: </p>\n\n<pre><code>mysql_query(\"INSERT INTO boxes(id, x, y, w, h)\n            VALUES('', '$x', '$y', '$w', '$h') \") \nor die(mysql_error());\n</code></pre>\n\n<p>In this way one row will be inserted in the table \"boxes\" with the information of each one of the attributes of the backbone model Box.\nThe server request method in this case is POST and the id in the table \"boxes\" is set to auto-increment.</p>\n",
            "last_activity_date": 1370440932,
            "question_id": 10930789,
            "score": 6,
            "tags": [
                "php",
                "javascript",
                "mysql",
                "backbone.js"
            ],
            "title": "Insert Backbone.js model into MySQL database"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>you could use $.ajax instead, as it allows you to set the async option to false performing synchronous requests ... but this is not a very good thing to do :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The trick is to use the callbacks. You make one ajax call and on its success callback you make the next one. </p>\n\n<p>To do this just add them all to a queue and have a wrapper around it that sends them one by one.</p>\n\n<p>I wrote one a few days ago. I'll show you an implementation in a second.</p>\n\n<pre><code>// Buffer class. Has a public append method that expects some kind of Task.\n// Constructor expects a handler which is a method that takes a ajax task\n// and a callback. Buffer expects the handler to deal with the ajax and run\n// the callback when it's finished\nfunction Buffer(handler) {\n    var queue = [];\n\n    function run() {\n        var callback = function () {\n             // when the handler says it's finished (i.e. runs the callback)\n             // We check for more tasks in the queue and if there are any we run again\n             if (queue.length &gt; 0) {\n                  run();\n             }\n        }\n        // give the first item in the queue &amp; the callback to the handler\n        handler(queue.shift(), callback);\n    } \n\n    // push the task to the queue. If the queue was empty before the task was pushed\n    // we run the task.\n    this.append = function(task) {\n        queue.push(task);\n        if (queue.length === 1) {\n            run();\n        }\n    }\n\n}\n\n// small Task containing item &amp; url &amp; optional callback\nfunction Task(item, url, callback) {\n    this.item = item;\n    this.url = url;\n    this.callback = callback\n}\n\n// small handler that loads the task.url into the task.item and calls the callback \n// when its finished\nfunction taskHandler(task, callback) {\n    $(task.item).load(task.url, function() {\n        // call an option callback from the task\n        if (task.callback) task.callback();\n        // call the buffer callback.\n        callback();\n    });\n}\n\n// create a buffer object with a taskhandler\nvar buffer = new Buffer(taskHandler);\n\nfor (i = 0; i &lt; loadingItems.length; i++) {\n    // title attribute is the URL to get\n    var ajaxURL = loadingItems[i].attr(\"title\") + '?ajaxPageContent=';\n    buffer.append(new Task(loadingItems[i], ajaxURL));\n}\n</code></pre>\n\n<p>Apologies for the wall of code. Just implement your own Task and Handler. The Buffer will work as long as the handler calls the second argument (the callback) when it's finished handling the task.</p>\n\n<p>Then just pass it a task and a handler. The handler does the ajax and calls the callback from the buffer when the ajax returns.</p>\n\n<p>For your specific example if what your loading takes a long time then this will take a long time to load all 30. The point of ajax is to have the server do stuff in parallel.</p>\n\n<p>A far better solution in your case is to make 30 requests and then catch the results and make sure the results from your ajax calls are only appended to the dom in order. This involves using $.ajax and adding keeping track of order somehow. </p>\n\n<p>That way the server will do it as fast as it can and you can server it in order once you get it. Alternatively if the things your doing are fast then queuing them in a buffer has no penalty.</p>\n",
                    "is_accepted": true,
                    "score": 16
                }
            ],
            "body": "<p>Hello I am doing a Horizontal scrolling website like: <a href=\"http://vanityclaire.com/\">http://vanityclaire.com/</a></p>\n\n<p>However, rather than having one large HTML file, after the load of the homepage, I am ajaxing in the children of home, using jQuery .load().  </p>\n\n<p>At present I for-each div and ajax in ithe url that sits in the title. But the AJAX returns out of order, and as I add more pages don't fancy <em>spanging</em> the server with 30+ http:// requests.</p>\n\n<p>How do I synchronously do the AJAX calls, i.e. wait for the first to comeback before a request another, or even send two at a time.</p>\n\n<p>I have been scouring, and cannot figure out what I need.</p>\n\n<p>This is my HTML:</p>\n\n<pre><code>&lt;div id=\"mainLayout\" class=\"fullwidth scrollArea\"&gt;\n    &lt;div class=\"scrollItems\"&gt;\n      &lt;div id=\"page-1\" class=\"scrollItem\" title=\"/\"&gt;\n        &lt;div&gt;HOME PAGE CONTENT&lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div id=\"page-2\" class=\"scrollItem\" title=\"/Page2.html\"&gt;\n        &lt;div class=\"loading\"&gt; &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div id=\"page-3\" class=\"scrollItem\" title=\"/Page3.html\"&gt;\n        &lt;div class=\"loading\"&gt; &lt;/div&gt;\n      &lt;/div&gt;\n\n      &lt;div id=\"page-4\" class=\"scrollItem\" title=\"/Page4.html\"&gt;\n        &lt;div class=\"loading\"&gt; &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div id=\"page-5\" class=\"scrollItem\" title=\"/Page5.html\"&gt;\n        &lt;div class=\"loading\"&gt; &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>And my JS:</p>\n\n<pre><code>function s_loadingInitialPages() {\n    var loadingItems = new Array();\n    $(\".scrollArea .scrollItem\").each(function () {\n        if ($(this).attr('title') != '/') {\n            var oDelem = $(this);\n            loadingItems.push(oDelem);\n            //alert('test');\n        }\n    });\n\n    for (i = 0; i &lt; loadingItems.length; i++) {\n        // title attribute is the URL to get\n        var ajaxURL = loadingItems[i].attr(\"title\") + '?ajaxPageContent=';\n        $(loadingItems[i]).load(ajaxURL);\n\n    }\n}\n</code></pre>\n\n<p>Is there a plugin I can just keep adding functions to a queue, and let that handle it?</p>\n",
            "last_activity_date": 1295982831,
            "question_id": 4797566,
            "score": 6,
            "tags": [
                "javascript",
                "jquery-ui",
                "jquery-plugins",
                "jquery"
            ],
            "title": "Queue AJAX calls"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<h2>The problem</h2>\n\n<p>If you use Firebug and see where jQuery gets loaded you can see taht Google successfully loaded it. Why it doesn't seem to work? Because requests are asynchronous and while your script runs synchronously it executes all steps before the first script gets loaded.</p>\n\n<p>So:</p>\n\n<ol>\n<li>jQuery not present.</li>\n<li>Add SCRIPT element to load from Google (browser sends a request and continues execution of the script)</li>\n<li>jQuery not present add another source</li>\n<li>...</li>\n</ol>\n\n<p>etc etc.</p>\n\n<h2>Solution</h2>\n\n<p>What you should do is attach to <code>onLoad</code> event of your script loading elements and check for jQuery after they've loaded.</p>\n\n<p>Script executes lightning fast compared to sending a request out to some server on the internet and getting results back for processing.</p>\n\n<h2>Additional notes</h2>\n\n<p>As I've read you're going to have problems detecting 404s using this technique. Suggested way would be to use Ajax (XHR) and then attach script element and add received content to it. This would be the most reliable way of doing it for all browsers.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The problem with your script is that you're not waiting for the script to load before testing whether jQuery has been loaded.  Use something like this instead:</p>\n\n<pre><code>function loadScript(src, callback) {\n    var head=document.getElementsByTagName('head')[0];\n    var script= document.createElement('script');\n    script.type= 'text/javascript';\n    script.onreadystatechange = function () {\n        if (this.readyState == 'complete' || this.readyState == 'loaded') {\n            callback();\n        }\n    }\n    script.onload = callback;\n    script.src = src;\n    head.appendChild(script);\n}\n\nfunction isjQueryLoaded() {\n    return (typeof jQuery !== 'undefined');\n}\n\nfunction tryLoadChain() {\n    var chain = arguments;\n    if (!isjQueryLoaded()) {\n        if (chain.length) {\n            loadScript(\n                chain[0],\n                function() {\n                    tryLoadChain.apply(this, Array.prototype.slice.call(chain, 1));\n                }\n            );\n        } else {\n            alert('not loaded!');\n        }\n    } else {\n        alert('loaded!');\n    }\n}\n\ntryLoadChain(\n    'https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js',\n    'http://ajax.microsoft.com/ajax/jQuery/jquery-1.4.4.min.js',\n    'mine.js');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This works fairly well (from <a href=\"http://html5boilerplate.com/\">HTML5 Boilerplate</a>):</p>\n\n<pre><code>&lt;!-- Grab Google CDN's jQuery. fall back to local if necessary --&gt;\n&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js\"&gt;&lt;/script&gt;\n&lt;script&gt;!window.jQuery &amp;&amp; document.write(unescape('%3Cscript src=\"js/libs/jquery-1.4.2.js\"%3E%3C/script%3E'))&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Here is a pure javascript solution that starts out by detecting if jQuery is available. If not, it tries the CDN version. If that's not available, it tries the local version. Handles 404 errors. I use this in a solution that doesn't know whether the website has included jQuery.</p>\n\n<pre><code>&lt;script&gt;\nif (typeof jQuery === \"undefined\") {\n  loadjQuery(\"//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js\", verifyJQueryCdnLoaded);\n} else \n  main();\n\nfunction verifyJQueryCdnLoaded() {\n  if (typeof jQuery === \"undefined\")\n    loadjQuery(\"script/jquery-1.6.1.js\", main);\n  else\n    main();\n}\n\nfunction loadjQuery(url, callback) {\n  var script_tag = document.createElement('script');\n  script_tag.setAttribute(\"src\", url)\n  script_tag.onload = callback; // Run callback once jQuery has loaded\n  script_tag.onreadystatechange = function () { // Same thing but for IE\n    if (this.readyState == 'complete' || this.readyState == 'loaded') callback();\n  }\n  script_tag.onerror = function() {\n    loadjQuery(\"script/jquery-1.6.1.js\", main);\n  }\n  document.getElementsByTagName(\"head\")[0].appendChild(script_tag);\n}\n\nfunction main() {\n  if (typeof jQuery === \"undefined\")\n    alert(\"jQuery not loaded.\");\n\n  $(document).ready(function () {\n    // Rest of your code here...\n  });\n\n}\n\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Roger's answer is rediculous.  Here, use this instead, its 2 lines.</p>\n\n<pre><code>&lt;script&gt;window.jQuery || document.write('&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;\\/script&gt;')&lt;/script&gt; \n&lt;script&gt;window.jQuery || document.write('&lt;script src=\"Content/Scripts/jquery-1.9.1.min.js\"&gt;&lt;\\/script&gt;')&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p><strong>load jQuery from source</strong></p>\n\n<p>What I like to do is to drop my local jquery.js and have\nit hosted somewhere else. But what if Google is down? So\nlet's code a fallback that uses another source if jQuery\nis \"still\" not loaded...</p>\n\n<p>I made this test case but it does not seem to work, maybe\nsomeone can help me out:</p>\n\n<p><a href=\"http://jsfiddle.net/RBz4n\">http://jsfiddle.net/RBz4n</a></p>\n",
            "last_activity_date": 1369248319,
            "question_id": 4523263,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "document.write"
            ],
            "title": "load jQuery from external source if not loaded"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I've solved this with the following code:</p>\n\n<pre><code>function checkForInputTypeNumberBug(){\n  var dummy = document.createElement('input');\n  try {\n    dummy.type = 'number';\n  } catch(ex){\n    //Older IE versions will fail to set the type\n  }\n  if(typeof(dummy.setSelectionRange) != 'undefined' &amp;&amp; typeof(dummy.createTextRange) == 'undefined'){\n    //Chrome, Firefox, Safari, Opera only!\n    try {\n      var sel = dummy.setSelectionRange(0,0);\n    } catch(ex){\n      //This exception is currently thrown in Chrome v33.0.1750.146 as they have removed support\n      //for this method on number fields. Thus we need to revert all number fields to text fields.\n      $('input[type=number]').each(function(){\n        this.type = 'text';\n      });\n    }\n  }\n}\n$(document).ready(function(){\n  checkForInputTypeNumberBug();\n});\n</code></pre>\n\n<p>I've made it a standalone function as I have cases where the fields are loaded via AJAX and I need to be able to call the function on the fly.</p>\n\n<p>This code handles older IE versions where attempting to set the type will fail as well as handle the exception in Chrome (on a dummy element) so that pages can overcome this behavior change.</p>\n\n<p><strong>Update:</strong> As per @Andy E's suggestion around using the inputmode attribute (currently unsupported) I've created a bug to try and prioritize the implementation of inputmode before user agents remove the selection APIs: <a href=\"https://www.w3.org/Bugs/Public/show_bug.cgi?id=26695\" rel=\"nofollow\">https://www.w3.org/Bugs/Public/show_bug.cgi?id=26695</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Depending on the use case, there may be a more appropriate (albeit elaborate) workaround.  For instance, in order to add text at the current position of the cursor, you can do the following (tested in Chrome):</p>\n\n<pre><code>var len, pre, post,\n\n    // Currently focused element\n    a = document.activeElement,\n\n    // Get current selection\n    s = window.getSelection();\n\n// Delete any existing contents\ns.deleteFromDocument();\n\n// Keep moving selection backward until the length stops increasing\ndo {\n    len = String(s).length;\n    s.modify('extend', 'backward', 'line');\n}\nwhile (String(s).length !== len);\n\n// Store the selection, then delete it\npre = String(s);\ns.deleteFromDocument();\n\n// Keep moving selection forward until the length stops increasing\ndo {\n    len = String(s).length;\n    s.modify('extend', 'forward', 'line');\n}\nwhile (String(s).length !== len);\n\n// Store the selection, then delete it\npost = String(s);\ns.deleteFromDocument();\n\n// Recreate the contents with the new text added\na.setAttribute('value', a.defaultValue);\na.value = pre + txt + post;\n\n// Move the selection to after the new text\na.select();\ns = window.getSelection();\ns.collapseToEnd();\n\nwhile (len-- &gt; 0)\n    s.modify('move', 'backward', 'character');\n</code></pre>\n\n<p>There are limitations to this approach that might need even more elaborate solutions, too, such as when a different value is returned than text is selected (which may be the case for arabic domain names in a <code>type=\"email\"</code> input, for example).  </p>\n\n<p>Sadly, there's <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=85686\" rel=\"nofollow\">a bug</a> that prevents this workaround from working in Firefox/Gecko, but at least Firefox still allows Selection API on <code>&lt;input type=\"email\"&gt;</code>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I put the words \"regression bug\" in quotes as there is obviously some mixed opinions on this.  For full details track <a href=\"https://www.w3.org/Bugs/Public/show_bug.cgi?id=24796\">Bug 24796</a> in Bugzilla.</p>\n\n<p>In short <em>Google Chrome</em> implemented changes according to the latest version of the WhatWG specs: <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#input-type-attr-summary\">http://www.whatwg.org/specs/web-apps/current-work/multipage/the-input-element.html#input-type-attr-summary</a>\nthat <strong><em>removed</em></strong> the following properties and methods from <code>&lt;input type=\"number\"/&gt;</code> fields.</p>\n\n<p><strong>Properties:</strong></p>\n\n<ul>\n<li>selectionStart</li>\n<li>selectionEnd</li>\n</ul>\n\n<p><strong>Methods:</strong></p>\n\n<ul>\n<li>select()</li>\n<li>setSelectionRange(start, end)</li>\n</ul>\n\n<p>(there are others but these are the common key ones used)</p>\n\n<p>The methods are defined if you inspect a \"numeric\" instance of the <code>HTMLInputElement</code> however attempting to call the methods or request the properties will throw an exception. :-(</p>\n\n<p><em>IMHO</em> this is a bug (since functionality has been removed with nothing gained... and there are 1,000's of web sites/applications that provide extended behavior to these numeric input fields via JavaScript... but I digress (for those that wish to battle it out please use the bug post listed above))</p>\n\n<p><strong>TL;DR</strong></p>\n\n<p>For usability purposes I most certainly want and plan to continue using <code>&lt;input type=\"number\"/&gt;</code> fields as they provide a \"hint\" to the user agent that if on a mobile device (smartphone/tablet/?) that I would\nlike to present the <strong>numeric keyboard</strong> when the field is focused vs. the default alpha keyboard.</p>\n\n<p>However for the current version of Chrome (ver 33.0.1750.146) and any other browser that blindly implements this spec change I'd like to safely convert the rendered fields back to\n<code>&lt;input type=\"text\"/&gt;</code></p>\n\n<p>Notes:</p>\n\n<ul>\n<li>Attempting to change these fields on the fly when modifying their contents has proven unsuccessful as the field loses it's selection range when the type attribute is changed.</li>\n<li>I do have a workaround solution I came up with which I'll post shortly, but I wanted to ensure this question/answer was here for all developers that encounter this issue</li>\n</ul>\n",
            "last_activity_date": 1409343345,
            "question_id": 22381837,
            "score": 5,
            "tags": [
                "javascript",
                "google-chrome",
                "w3c",
                "html-input",
                "soft-keyboard"
            ],
            "title": "How to overcome WhatWG/W3C/Chrome version 33.0.1750.146 &quot;regression bug&quot; with &lt;input type=&quot;number&quot;/&gt; fields"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Here is the code using JavaScript to click the button in WebDriver:</p>\n\n<pre><code>WebDriver driver = new FirefoxDriver();\nJavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(\"document.getElementById('gbqfb').click();\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can't use WebDriver to do it in JavaScript, as WebDriver is a Java tool. However, you can execute JavaScript from Java using WebDriver, and you could call some JavaScript code that clicks on the button.</p>\n\n<pre><code>WebDriver driver; // Assigned elsewhere\nJavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(\"window.document.getElementById('gbqfb').click()\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Executing a click via JavaScript has some behaviors of which you should be aware. If, for example, the code bound to the <code>onclick</code> event of your element invokes <code>window.alert()</code>, you may find your Selenium code hanging, depending on the implementation of the browser driver. That said, you can use the <code>JavascriptExecutor</code> class to do this. My solution differs from others proposed, however, in that you can still use the WebDriver methods for locating the elements.</p>\n\n<pre><code>// Assume driver is a valid WebDriver instance that\n// has been properly instantiated elsewhere.\nWebElement element = driver.findElement(By.id(\"gbqfd\"));\nJavascriptExecutor executor = (JavascriptExecutor)driver;\nexecutor.executeScript(\"arguments[0].click();\", element);\n</code></pre>\n\n<p>You should also note that you might be better off using the <code>click()</code> method of the <code>WebElement</code> interface, but <a href=\"http://code.google.com/p/selenium/wiki/DesiredCapabilities\">disabling native events</a> before instantiating your driver. This would accomplish the same goal (with the same potential limitations), but not force you to write and maintain your own JavaScript.</p>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>I know this isn't JavaScript, but you can also physically use the mouse-click to click a dynamic Javascript anchor:</p>\n\n<pre><code>public static void mouseClickByLocator( String cssLocator ) {\n     String locator = cssLocator;\n     WebElement el = driver.findElement( By.cssSelector( locator ) );\n     Actions builder = new Actions(driver);\n     builder.moveToElement( el ).click( el );\n     builder.perform();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Not sure OP answer was really answered.</p>\n\n<pre><code>var driver = new webdriver.Builder().usingServer('serverAddress').withCapabilities({'browserName': 'firefox'}).build();\n\ndriver.get('http://www.google.com');\ndriver.findElement(webdriver.By.id('gbqfb')).click();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Cross browser testing java scripts </p>\n\n<pre><code>public class MultipleBrowser {\n\n    public WebDriver driver= null;\n    String browser=\"mozilla\";\n    String url=\"https://www.omnicard.com\";\n\n    @BeforeMethod\n    public void LaunchBrowser() {\n\n        if(browser.equalsIgnoreCase(\"mozilla\"))\n            driver= new FirefoxDriver();\n        else if(browser.equalsIgnoreCase(\"safari\"))\n            driver= new SafariDriver();\n        else if(browser.equalsIgnoreCase(\"chrome\"))\n            //System.setProperty(\"webdriver.chrome.driver\",\"/Users/mhossain/Desktop/chromedriver\");\n            driver= new ChromeDriver(); \n        driver.manage().timeouts().implicitlyWait(4, TimeUnit.SECONDS);\n        driver.navigate().to(url);\n    }\n\n}\n</code></pre>\n\n<p>but when you want to run firefox you need to chrome path disable, otherwise browser will launch but application may not.(try both way) .</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have the following HTML:</p>\n\n<pre><code>&lt;button name=\"btnG\" class=\"gbqfb\" aria-label=\"Google Search\" id=\"gbqfb\"&gt;&lt;span class=\"gbqfi\"&gt;&lt;/span&gt;&lt;/button&gt;\n</code></pre>\n\n<p>My following code for clicking \"Google Search\" button is working well using Java in WebDriver.</p>\n\n<pre><code>driver.findElement(By.id(\"gbqfb\")).click();\n</code></pre>\n\n<p>I want to use <a href=\"http://en.wikipedia.org/wiki/JavaScript\" rel=\"nofollow\">JavaScript</a> with WebDriver to click the button. How can I do it?</p>\n",
            "last_activity_date": 1412954965,
            "question_id": 11947832,
            "score": 5,
            "tags": [
                "java",
                "javascript",
                "button",
                "click",
                "selenium-webdriver"
            ],
            "title": "How to click a button in Selenium WebDriver using JavaScript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The creator of less.js added some features that should allow you to do something like this. Read the comments and the answers here: <a href=\"http://stackoverflow.com/questions/3175013/load-less-js-rules-dynamically\">Load less.js rules dynamically</a></p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>This less:</p>\n\n<pre><code>@color1: #123456;\n@color2: @color1 + #111111;\n\n.title { color: @color1; }\n.text { color: @color2; }\n</code></pre>\n\n<p>compiles to this CSS and this is all the browser knows about:</p>\n\n<pre><code>.title { color: #123456; }\n.text { color: #234567; }\n</code></pre>\n\n<p>So, now you're effectively saying you want to change dynamically to this:</p>\n\n<pre><code>.title { color: #ff0000; }\n</code></pre>\n\n<p>You can do that by reaching into the existing stylesheet with JS and changing the rule for <code>.title</code>.  Or, you can define an alternate rule in your original CSS:</p>\n\n<pre><code>.alternate.title { color: #ff0000; }\n</code></pre>\n\n<p>And, find all the objects with .title and add .alternate to them.  In jQuery, this would be as simple as:</p>\n\n<pre><code>$(\".title\").addClass(\".alternate\");\n</code></pre>\n\n<p>In plain JS, you'd need to use a shim to provide getElementsByClassName in a cross browser fashion and then use:</p>\n\n<pre><code>var list = document.getElementsByClassName(\"title\");\nfor (var i = 0, len = list.length; i &lt; len; i++) {\n    list[i].className += \" alternate\";\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Marvin,\nI wrote a function that does exactly what you're looking for, last night.</p>\n\n<p>I have created a fork on Github;\n<a href=\"https://github.com/hbi99/less.js/commit/6508fe89a6210ae3cd8fffb8e998334644e7dcdc\">https://github.com/hbi99/less.js/commit/6508fe89a6210ae3cd8fffb8e998334644e7dcdc</a></p>\n\n<p>Take a look at it. Since this is a recent addition, I'd like to hear your comments on the addition. This solution fits my needs perfectly and I think it will do the same for you.</p>\n\n<p>Here is a basic sample;</p>\n\n<h2>Sample LESS:</h2>\n\n<pre><code>@bgColor: black;\n@textColor: yellow;\nbody {background: @bgColor; color: @textColor;}\n</code></pre>\n\n<h2>From JS:</h2>\n\n<pre><code>less.modifyVars({\n  '@bgColor': 'blue',\n  '@textColor': 'red'\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<blockquote>\n  <p>load filename.less\n  load less.js\n  change less variable<br>\n    less.modifyVars({ variableName: new Value});\n    this example for bootstap\n    less.modifyVars({ 'brand-danger': '#428bca' });</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to change a less variable on client side. \nSay I have a less file</p>\n\n<pre><code>@color1: #123456;\n@color2: @color1 + #111111;\n\n.title { color: @color1; }\n.text { color: @color2; }\n</code></pre>\n\n<p>I want that user yo pick a color and change the value of @color1 and recompile css without reloading the page.</p>\n\n<p>Basically I'm looking for a js function, something like this</p>\n\n<pre><code>less_again({color1: '#ff0000'}) \n</code></pre>\n",
            "last_activity_date": 1395670258,
            "question_id": 7823204,
            "score": 4,
            "tags": [
                "javascript",
                "less"
            ],
            "title": "Dynamically changing less variables"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>An SVG <code>&lt;g&gt;</code> element does not have a size or area; it is a transparent container for all its descendants, and cannot intercept events for other elements (unless you are adding an event listener to be triggered during the 'capture phase').</p>\n\n<p>As a parent element, events bubble up to it; likely what you are seeing is that whatever event you're using to trigger the drag start (mousedown?) on the <code>&lt;rect&gt;</code> is also bubbling up to the <code>&lt;g&gt;</code> and starting a concurrent drag of <em>that</em>.</p>\n\n<p>To fix this, you want to stop your event from bubbling. In your event handler for the mousedown (or whatever) on the <code>&lt;rect&gt;</code> add:</p>\n\n<pre><code>function startDrag(evt){\n  // whatever your code is here\n  evt.stopPropagation();\n}\n</code></pre>\n\n<p><em>Without your actual code (or better, a pared-down test case) it's hard to know for sure, or help you further.</em></p>\n\n<hr>\n\n<p><strong>Edit</strong> Here's a working version of your simple example: <a href=\"http://jsfiddle.net/ZrCQE/2/\">http://jsfiddle.net/ZrCQE/2/</a></p>\n\n<p>Specifically, apparently <code>d3.event</code> is not the event itself, but an object with a <code>sourceEvent</code> property that references the actual event.</p>\n\n<pre><code>var dragGroup = d3.behavior.drag()\n  .on('dragstart', function() {\n    console.log('Start Dragging Group');\n  }).on('drag', function(d, i) {\n    d.x += d3.event.dx;\n    d.y += d3.event.dy;\n    d3.select(this).attr(\"transform\", \"translate(\"+d.x+\",\"+d.y+\")\");\n  });\n\nvar dragCircle = d3.behavior.drag()\n  .on('dragstart', function(){\n    d3.event.sourceEvent.stopPropagation();\n    console.log('Start Dragging Circle');\n  })\n  .on('drag', function(d,i){\n    d.cx += d3.event.dx;\n    d.cy += d3.event.dy;\n    d3.select(this).attr('cx', d.cx).attr('cy', d.cy)\n  });\n\nvar svg = d3.select('body').append('svg').attr('viewBox','-50 -50 300 300');\n\nvar g = svg.selectAll('g').data([{x:10,y:10}])\n  .enter().append('g').call(dragGroup);\n\ng.append('rect').attr('width', 100).attr('height', 100);\n\ng.selectAll('circle').data([{cx: 90,cy:80}])\n  .enter().append('circle')\n    .attr('cx', function(d){ return d.cx })\n    .attr('cy', function(d){ return d.cy })\n    .attr('r', 30)\n    .call(dragCircle);\u200b\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>I have a similar sort of issue (<a href=\"http://jsfiddle.net/j8RZN/1/\" rel=\"nofollow\">http://jsfiddle.net/j8RZN/1/</a>), except the suggested workaround does not seem to be helping. </p>\n\n<pre><code>userBox.data([userBox]).call(d3.behavior.drag() //makes the box to move\n//titleBox.data([userBox]).call(d3.behavior.drag()  //does not make the box move\n.on(\"dragstart\", function() {})\n.on(\"drag\", function(d, i) {\nconsole.log('box being dragged');\nd.attr(\"transform\", \"translate(\" + (d3.event.x) +  \",\" + (d3.event.y) + \")\");\n})\n.on(\"dragend\", function() {}));\n\ncircleDrag.call(d3.behavior.drag()\n.on(\"dragstart\", function() {})\n.on(\"drag\", function(d, i) {\n d3.event.sourceEvent.stopPropagation();\n console.log('small rectangle being dragged');\n})\n.on(\"dragend\", function() {}));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am nesting a lot of elements inside of a g element like so:</p>\n\n<pre><code>&lt;g&gt;\n    &lt;rect&gt;&lt;/rect&gt;\n    &lt;text&gt;&lt;/text&gt;\n    ...\n&lt;/g&gt;\n</code></pre>\n\n<p>However, there are some rects that I want to be able to have drag events of their own. The problem is that when you put stuff inside of a g tag, its size expands to contain those tags. So even though I can assign events there is no way they can be triggered because the g tag's event is somehow more important even though the rect is on top of it.</p>\n\n<p>Is there some sort of workaround that you guys know of? </p>\n\n<p>EDIT: Here's <a href=\"http://jsfiddle.net/ZrCQE/\" rel=\"nofollow\">a simple complete case</a> in its entirety. A rect and a circle inside a g. The g is draggable and the circle should be draggable too but is not.</p>\n\n<pre><code>var gDragBehav = d3.behavior.drag()\n    .on('drag', gDragDrag)\n\nfunction gDragDrag(d,i) {\n    d.x += d3.event.dx;\n    d.y += d3.event.dy;\n    d3.select(this)\n        .attr('x', d.x)\n        .attr('y', d.y)\n        .attr(\"transform\", \"translate(\" + d.x + \",\" + d.y + \")\");\n}\n\nvar circleDragBehav = d3.behavior.drag()\n    .on('drag', circleDragDrag);\n\nfunction circleDragDrag(d,i) {\n    console.log('dragging a circle')\n    d.cx += d3.event.dx;\n    d.cy += d3.event.dy;\n    d3.select(this)\n        .attr('cx', d.cx)\n        .attr('cy', d.cy)\n}\n\nvar svg = d3.select('body').append('svg')\n\nvar g = svg.selectAll('g').data([{x: 10, y:10}])\n    .enter().append('g').call( gDragBehav )\n\ng.append( 'rect' ).attr('width', 100 ).attr('height', 100 )\n\ng.selectAll( 'circle' ).data([{cx: 0, cy:0}])\n    .enter().append( 'circle' )\n    .attr('cx', function(d) { return d.cx } ).attr('cy', function(d) { return d.cy } )\n    .attr('r', 40 )\n    .call( circleDragBehav )\n</code></pre>\n\n<p>EDIT: Here's some of the code</p>\n\n<pre><code>var group = this.d3svg.selectAll('g' + '.' + this.className)\n  .attr('x', this.drawFuncs['x'] )\n  .attr('y', this.drawFuncs['y'] )\n  .attr(\"transform\", this.drawFuncs['translate'] )\n  .attr('class', this.className )\n  .call(gDragBehav)\n  .on( 'click', blockClickMenu )\n\nports = ['AtomicPort']\nfor ( port in ports ) {  \n  drawPort.call( this, group, ports[port] )\n}\n\nfunction drawPort( d3svg, portName, redraw ) {\n  d3svg.selectAll('rect.' + portName)\n    .data( function(d) { return d.ports[ portName ] } )\n    .enter().append('rect')\n    .attr('x', this.drawFuncs['x'] )\n    .attr('y', this.drawFuncs['y'] )\n    .attr('width', this.drawFuncs['width'] )\n    .attr('height', this.drawFuncs['height'] )\n    .attr('class', portName )\n    .call(portDragBehav)\n\n  var portDragBehav = d3.behavior.drag()\n    .on('drag', portDragDrag);\n\n  function portDragDrag(d,i) {\n    d.x += d3.event.dx;\n    d.y += d3.event.dy;\n    d3.select(this)\n      .attr('x', d.x)\n      .attr('y', d.y)\n    d3.event.stopPropagation();\n  }\n\n  var gDragBehav = d3.behavior.drag()\n    .on('dragstart', gDragStart)\n\n  function gDragDrag(d,i) {\n    d.x += d3.event.dx;\n    d.y += d3.event.dy;\n    d3.select(this)\n      .attr('x', d.x)\n      .attr('y', d.y)\n      .attr(\"transform\", \"translate(\" + d.x + \",\" + d.y + \")\");\n    d3.event.stopPropagation(); //Uncaught TypeError: Object #&lt;Object&gt; has no method 'stopPropagation'\n  }\n</code></pre>\n",
            "last_activity_date": 1375844097,
            "question_id": 10095979,
            "score": 3,
            "tags": [
                "javascript",
                "events",
                "svg",
                "d3.js"
            ],
            "title": "d3 click and drag event nesting"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This is kind of what @gov was talking about but basically I would just capture the submit of the form:</p>\n\n<pre><code>&lt;form id=\"myform\" onsubmit=\"return mySubmitHandler()\"&gt;\n</code></pre>\n\n<p>Then have a function to handle the submission:</p>\n\n<pre><code>function mySubmitHandler()\n{\n    // the following are just examples of what you could do\n    var q1val = jQuery('#q1').val();\n    var q2val = jQuery('#q2').val();\n    if(q1val + q2val &gt; 5)\n        jQuery('#success').show();\n    else\n        jQuery('#fail').show();\n    // end example\n    return false; // this keeps the form from doing a postback\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's an example makes it reasonably easy to add more questions once the initial javascript is in:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.1//EN\" \"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\"&gt;\n\n&lt;head&gt;\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n  $(\"button\").click(function(){\n    $(\"p\").hide();\n  });\n});\n\n$(document).ready(function(){\n  var a = $(\".question\");\n  a.each(function(index) {\n    var flip = $(this).find(\".flip\");\n    var panel = $(this).find(\".panel\");\n    flip.click(function(){\n      panel.slideDown(\"slow\");\n    });\n  });\n});\n&lt;/script&gt;\n&lt;style type=\"text/css\"&gt; \ndiv.panel,div.flip\n{\n  margin:0px;\n  padding:5px;\n  text-align:center;\n  background:#e5eecc;\n  border:solid 1px #c3c3c3;\n  width:140px;\n}\n\ndiv.panel\n{\n  display:none;\n}\ndiv.question\n{\n  float:left;\n}\ndiv.questions\n{\n  height: 80px;\n}\n&lt;/style&gt;\n&lt;title&gt;Javascript sample&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;p&gt;1) How many bits are in a byte?&lt;/p&gt;\n&lt;div class=\"questions\"&gt;\n\n&lt;div class=\"question\"&gt;\n &lt;div class=\"panel\"&gt;Wrong&lt;/div&gt;\n &lt;div class=\"flip\"&gt;7&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"question\"&gt;\n &lt;div class=\"panel\"&gt;Right&lt;/div&gt;\n &lt;div class=\"flip\"&gt;8&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt; \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Hey if you are looking for a readymade script then you can checkout this link <a href=\"http://www.thetutlage.com/downloads\" rel=\"nofollow\">www.thetutlage.com/downloads</a> .. from here you can download the quiz script . It works on php,ajax and jquery and also has an admin panel from where you can create multiple quizes.</p>\n\n<p>I love and believe you will like it aswell</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Check this link for creating <a href=\"http://www.funbutlearn.com/2013/05/create-dynamic-quiz-using-google-docs.html\" rel=\"nofollow\">Jquery quiz using Google Docs</a>. Self calculation of scores which instantly displays the result to users. Bit animated also.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Does anyone have an example of a quiz made with jQuery, without server-side processing of the results? After answering the questions, the result appears instantly. :)</p>\n",
            "last_activity_date": 1386875326,
            "question_id": 4464406,
            "score": 3,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Creating a Quiz with jQuery"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Why not call getTimezoneOffset on a date where you know daylight saving time is not in force?</p>\n\n<pre><code>javascript:alert(new Date('1/1/2009').getTimezoneOffset())\n</code></pre>\n\n<p>That will give 300 (5 hours).</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Note, that the first posted answer does only work in a half of all cases, thus not work at all on average.</p>\n\n<p>First january is known not to be in daylight saving time only in the northern hemisphere. However that's only half of the world.</p>\n\n<pre><code>var jan = new Date( 2009, 0, 1, 2, 0, 0 ), jul = new Date( 2009, 6, 1, 2, 0, 0 );\nvar offset = ( jan.getTime() % 24 * 60 * 60 * 1000 ) &gt; \n             ( jul.getTime() % 24 * 60 * 60 * 1000 )\n             ?jan.getTimezoneOffset() : jul.getTimezoneOffset();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                }
            ],
            "body": "<p>I'm trying to compare a GMT time offset from the operating system to a GMT time offset from Javascript's Date.getTimezoneOffset(). The problem is windows gives an offset based on EST while javascript gives an offset based on EDT. There is an hour difference between these two. Does anyone know how to make Javascript use the Standard Times like Windows? Thank you.</p>\n",
            "last_activity_date": 1270075185,
            "question_id": 1194933,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "Javascript&#39;s Date.getTimezoneOffset()"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<pre><code>var test = {'red':'#FF0000', 'blue':'#0000FF'};\ndelete test.blue; // or use =&gt; delete test['blue'];\nconsole.log(test);\n</code></pre>\n\n<p>this deletes test.blue</p>\n",
                    "is_accepted": false,
                    "score": 170
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/208105/how-to-remove-a-property-from-a-javascript-object\">How to remove a property from a javascript object</a>  </p>\n</blockquote>\n\n\n\n<p>How can I remove an item from an object?</p>\n\n<p>Like this:</p>\n\n<pre><code>var test = {'red':'#FF0000', 'blue':'#0000FF'};\ntest.remove('blue');\n</code></pre>\n",
            "last_activity_date": 1385402703,
            "question_id": 6295087,
            "score": 76,
            "tags": [
                "javascript",
                "object"
            ],
            "title": "Remove item from object"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><strong>The Short Version:</strong></p>\n\n<p>The Role Attribute may give future browsers a way to work intelligently with certain XML elements in a device-independent way.  For example, an unordered list that is marked with the role attribute of \"navigation\" can be interpreted intelligently on browsers in both desktop and handheld environments, allowing it to be displayed clearly in both environments.</p>\n\n<p><strong>The Long Version:</strong></p>\n\n<p>The XHTML Role Attribute defined in this specification allows the author to annotate XML Languages with machine-extractable semantic information about the purpose of an element. Use cases include accessibility, device adaptation, server-side processing, and complex data description. </p>\n\n<p>The attribute describes the role(s) the current element plays in the context of the document. This can be used, for example, by applications and assistive technologies to <em>determine the purpose of an element</em>. This could allow a user to make informed decisions on which actions may be taken on an element and activate the selected action in a <em>device independent way</em>. It could also be used as a mechanism for annotating portions of a document in a <em>domain specific way</em> (e.g., a legal term taxonomy). </p>\n\n<p>Example:</p>\n\n<pre><code>&lt;ul role=\"navigation sitemap\"&gt;\n    &lt;li href=\"downloads\"&gt;Downloads&lt;/li&gt;\n    &lt;li href=\"docs\"&gt;Documentation&lt;/li&gt;\n    &lt;li href=\"news\"&gt;News&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Given that the XHTML2 Working Group will cease to exist at the end of this year, there's no chance of this specification ever reaching release status in anything resembling its current form.  <a href=\"http://www.w3.org/News/2009#entry-6601\">http://www.w3.org/News/2009#entry-6601</a></p>\n",
                    "is_accepted": true,
                    "score": 48
                },
                {
                    "body": "<p>The document you refer to is part of the work of the now discontinued XHTML 2 working group. It is effectively obsolete.</p>\n\n<p>HTML5/XHTML5 also has a \"role\" attribute. Its definition is similar but somewhat more limited - its purpose is to indicate Accessible Rich Internet Applications (ARIA) roles, so that assistive technology such as screen readers can better inform users about the purpose of UI components (widgets), and also help them navigate the web page more easily.</p>\n\n<p>The list of valid roles for ARIA is available at <a href=\"http://www.w3.org/TR/wai-aria/#roles\">http://www.w3.org/TR/wai-aria/#roles</a> </p>\n",
                    "is_accepted": false,
                    "score": 31
                }
            ],
            "body": "<p>I have read w3's page on this <a href=\"http://www.w3.org/TR/xhtml-role/xhtml-role-diff.html\">here</a>, but it is still vague to me. Is the role attribute's purpose to clarify the code? Or will it be interpreted by some browsers or spiders? </p>\n\n<p>Can it be used as a dom selector using some javascript libraries (I am thinking that since the id attribute has to be unique, this could be use to identify multiple resources on a page)? </p>\n",
            "last_activity_date": 1260850865,
            "question_id": 1678238,
            "score": 51,
            "tags": [
                "javascript",
                "html",
                "xhtml"
            ],
            "title": "What is xhtml&#39;s role attribute? What do you use it for?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Do this.</p>\n\n<p>If your element is something like this..</p>\n\n<pre><code>&lt;input type=\"text\" id=\"mytext\"/&gt;\n</code></pre>\n\n<p>Your script would be</p>\n\n<pre><code>&lt;script&gt;\nfunction setFocusToTextBox(){\n    document.getElementById(\"mytext\").focus();\n}\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 90
                },
                {
                    "body": "<p>For plain Javascript, try the following:</p>\n\n<pre><code>window.onload = function() {\n  document.getElementById(\"TextBoxName\").focus();\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Usually when we focus on a textbox, we should also scroll into view</p>\n\n<pre><code>function setFocusToTextBox(){\n    var textbox = document.getElementById(\"yourtextbox\");\n    textbox.focus();\n    textbox.scrollIntoView();\n}\n</code></pre>\n\n<p>Check if it helps. </p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>For what it's worth,  you can use the <code>autofocus</code> attribute on HTML5 compatible browsers. Works even on IE as of version 10.</p>\n\n<pre><code>&lt;input name=\"myinput\" value=\"whatever\" autofocus /&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 27
                },
                {
                    "body": "<p>As mentioned earlier, <strong>document.forms</strong> works too.</p>\n\n<pre><code>function setFocusToTextBox( _element ) {\n  document.forms[ 'myFormName' ].elements[ _element ].focus();\n}\n\nsetFocusToTextBox( 0 );\n// sets focus on first element of the form\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If your code is:</p>\n\n<pre><code>&lt;input type=\"text\" id=\"mytext\"/&gt;\n</code></pre>\n\n<p>And If you are using JQuery, You can use this too:</p>\n\n<pre><code>&lt;script&gt;\nfunction setFocusToTextBox(){\n    $(\"#mytext\").focus();\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Keep in mind that you must draw the input first ( $(document).ready() )</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a web form with a text box in it. How do I go about setting focus to the text box by default?</p>\n\n<p>something like this:</p>\n\n<pre><code>&lt;body onload='setFocusToTextBox()'&gt;\n</code></pre>\n\n<p>so can anybody help me with it? I don't know how to set focus to the text box with JavaScript.</p>\n\n<pre><code>&lt;script&gt;\nfunction setFocusToTextBox(){\n//What to do here\n}\n&lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1426012337,
            "question_id": 17500704,
            "score": 47,
            "tags": [
                "javascript",
                "html",
                "textbox",
                "focus"
            ],
            "title": "JavaScript set focus to HTML form element"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>It is a <a href=\"http://productforums.google.com/forum/#!topic/chrome/1PgURxP9_-k\" rel=\"nofollow\">known bug</a> that got pushed with v32. I have not seen anything about fixing it yet though.</p>\n\n<p>It happens with any model window (which includes devtools) or when Chrome is running in app mode.</p>\n\n<p>Chrome isn't actually crashing and you can still continue to use it, but that will continually pop up with devtools open.</p>\n\n<p><strong>The issue has been fixed as of today's (1/28/2014) update. Version: 32.0.1700.102 m</strong></p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>I started getting this problem as well.</p>\n\n<p>In searching, I came accross this issue <a href=\"https://code.google.com/p/chromium/issues/detail?id=335248\" rel=\"nofollow\">https://code.google.com/p/chromium/issues/detail?id=335248</a>.</p>\n\n<p>As best I figured out, the bug is related to:</p>\n\n<ul>\n<li>Windows 7/8 with Aero Theme</li>\n<li>Scrollbars on pages (such as in the developer console)</li>\n<li>Pages with popups (in particular Window.open() calls)</li>\n</ul>\n\n<p>I guess they are slated to push the fix into version 33...and maybe leave the stable* 32 how it is (I hope not).</p>\n\n<p>So there are a few options:</p>\n\n<ul>\n<li>Switch away from Aero Theme until version 33 is in stable</li>\n<li>Upgrade to the beta channel, i.e. version 33</li>\n<li>Click on the Wait button every 30 seconds whenever the chrome developer tools is open (Don't try this at home).</li>\n</ul>\n\n<hr>\n\n<p>Update: </p>\n\n<p>Chrome has released a hotfix into the version 32 stable channel. <a href=\"http://googlechromereleases.blogspot.ro/2014/01/stable-channel-update_27.html\" rel=\"nofollow\">http://googlechromereleases.blogspot.ro/2014/01/stable-channel-update_27.html</a></p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>@elewinso, Alternate place to look for the same registry key to disable Chrome autoupdate is HKEY_LOCAL_MACHINE\\SOFTWARE\\Wow6432Node\\Google\\Update..</p>\n\n<p>Also, is there a way I can get notified when the next update happens? or, when can I remove this key?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The issue is resolved in Chrome Canary 34.0.1799.0. Read more:</p>\n\n<p><a href=\"https://code.google.com/p/chromium/issues/detail?can=2&amp;start=0&amp;num=100&amp;q=&amp;colspec=ID%20Pri%20M%20Iteration%20ReleaseBlock%20Cr%20Status%20Owner%20Summary%20OS%20Modified&amp;groupby=&amp;sort=&amp;id=335440\" rel=\"nofollow\">Issue 335248:  \"Page(s) Unresponsive\" error messages in 32+</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>upgrade chrome to Version 32.0.1700.102 m  this fixes the problem</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Chrome itself appears to work fine but I'm having problems with Developers Tools.  After a short period of time it becomes unresponsive and the following dialog pops up...  </p>\n\n<p><img src=\"http://i.stack.imgur.com/WObGG.png\" alt=\"enter image description here\"></p>\n\n<p>Is this a known bug, can or will it be fixed soon?  Also, the meantime what should I do, how can I roll back to older working version of Chrome?</p>\n\n<p>I use Chrome and Developer Tools extensively and this is causing a major headache, so any advise would be welcome.</p>\n",
            "last_activity_date": 1390983935,
            "question_id": 21184844,
            "score": 46,
            "tags": [
                "javascript",
                "google-chrome",
                "google-chrome-devtools"
            ],
            "title": "Chrome Developer Tools unresponsive since update 32.0.1700.76 m"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You can use the regular expression like:</p>\n\n<pre><code>var arr = element.split(/_(.*)/)\n</code></pre>\n\n<del>\nYou can use the second parameter which specifies the limit of the split.\ni.e:\n\n    var field = element.split('_', 1)[1];\n</del>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Javascript's <code>String.split</code> unfortunately has no way of limiting the actual number of splits. It has a second argument that specifies how many of the actual split items are returned, which isn't useful in your case. The solution would be to split the string, shift the first item off, then rejoin the remaining items::</p>\n\n<pre><code>var element = $(this).attr('class');\nvar parts = element.split('_');\n\nparts.shift(); // removes the first item from the array\nvar field = parts.join('_');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Use the greedy operator (?)</p>\n\n<pre><code>\"good_luck_buddy\".split(/_(.+)?/)[1]\n\"luck_buddy\"\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 73
                },
                {
                    "body": "<p>What do you need regular expressions and arrays for?</p>\n\n<pre><code>var string= string.substring(string.indexOf('_')+1)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 51
                },
                {
                    "body": "<p>I avoid RegExp at all costs. Here is another thing you can do:</p>\n\n<pre><code>\"good_luck_buddy\".split('_').slice(1).join('_')\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Mark F's solution is awesome but it's not supported by old browsers. Kennebec's solution is awesome and supported by old browsers but doesn't support regex.</p>\n\n<p>So, if you're looking for a solution that splits your string only once, that is supported by old browsers and supports regex, here's my solution:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>String.prototype.splitOnce = function(regex)\r\n{\r\n    var match = this.match(regex);\r\n    if(match)\r\n    {\r\n        var match_i = this.indexOf(match[0]);\r\n        \r\n        return [this.substring(0, match_i),\r\n        this.substring(match_i + match[0].length)];\r\n    }\r\n    else\r\n    { return [this, \"\"]; }\r\n}\r\n\r\nvar str = \"something/////another thing///again\";\r\n\r\nalert(str.splitOnce(/\\/+/)[1]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In my code I split a string based on <code>_</code> and grab the second item in the array.</p>\n\n<pre><code>var element = $(this).attr('class');\nvar field = element.split('_')[1];\n</code></pre>\n\n<p>Takes <code>good_luck</code> and provides me with <code>luck</code>. Works great!</p>\n\n<p>But, now I have a class that looks like <code>good_luck_buddy</code>. How do I get my javascript to ignore the second <code>_</code> and give me <code>luck_buddy</code>?</p>\n\n<p>I found this <code>var field = element.split(new char [] {'_'}, 2);</code> in a c# stackoverflow answer but it doesn't work. I tried it over at jsFiddle...</p>\n",
            "last_activity_date": 1422468638,
            "question_id": 4607745,
            "score": 44,
            "tags": [
                "javascript",
                "jquery",
                "regex"
            ],
            "title": "split string only on first instance of specified character"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><img src=\"http://i.stack.imgur.com/h67E3.png\" alt=\"\"></p>\n\n<p>That little pause icon in the lower left.  Should be black in color.  Click it to cycle through several breakpoint options.</p>\n",
                    "is_accepted": true,
                    "score": 86
                },
                {
                    "body": "<p>Also check that you haven't ticked \"Any XHR\" under XHR Breakpoints.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>To disable this on On Windows for Chrome.</p>\n\n<p>In \"Script\" button circled in red below, cycle to same state (\"Don't pause on Exceptions\")</p>\n\n<p><img src=\"http://i.stack.imgur.com/bRF4c.png\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had been debugging and forgotten to remove a breakpoint. </p>\n\n<p><img src=\"http://i.stack.imgur.com/D9ijX.png\" alt=\"Event Listener Breakpoints\"></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This can also cause the issue</p>\n\n<p>Break Point icon at top left should be blue like this(For Deactivate BreakPoints)</p>\n\n<p><img src=\"http://i.stack.imgur.com/D3NNj.jpg\" alt=\"enter image description here\"></p>\n\n<p>Should not grey like this</p>\n\n<p><img src=\"http://i.stack.imgur.com/vznYi.jpg\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Every time I refresh my web app with the Chrome Inspector open it pauses and takes me to the sources tab with a big red arrow icon pointing to some weird line inside jQuery.</p>\n\n<p>I see</p>\n\n<blockquote>\n  <p>Paused in debugger</p>\n</blockquote>\n\n<p>in the top-middle of the window, and</p>\n\n<blockquote>\n  <p>Paused on exception: DOMException</p>\n</blockquote>\n\n<p>in the Call Stack on the sources tab.</p>\n\n<p>As far as I'm aware, I haven't set any breakpoints and this code wasn't throwing exceptions before - so what's going on?</p>\n",
            "last_activity_date": 1423593478,
            "question_id": 5174968,
            "score": 40,
            "tags": [
                "javascript",
                "jquery",
                "google-chrome",
                "breakpoints",
                "google-chrome-devtools"
            ],
            "title": "Why is Chrome pausing on some line inside jQuery?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Check Safari <a href=\"http://developer.apple.com/library/safari/#documentation/UserExperience/Reference/TouchClassReference/Touch/Touch.html#//apple_ref/javascript/cl/Touch\" rel=\"nofollow\">developer reference on Touch class</a>.</p>\n\n<p>According to this, pageX/Y should be available - maybe you should check spelling? make sure it's <code>pageX</code> and not <code>PageX</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Kinda late, but you need to access the original event, not the jQuery massaged one.  Also, since these are multi-touch events, other changes need to be made:</p>\n\n<pre><code>$('#box').live('touchstart', function(e) {\n  var xPos = e.originalEvent.touches[0].pageX;\n});\n</code></pre>\n\n<p>If you want other fingers, you can find them in other indices of the touches list.</p>\n\n<p>UPDATE FOR NEWER JQUERY:</p>\n\n<pre><code>$(document).on('touchstart', '#box', function(e) {\n  var xPos = e.originalEvent.touches[0].pageX;\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 81
                },
                {
                    "body": "<p>I use this simple function for JQuery based project        </p>\n\n<pre><code>    var pointerEventToXY = function(e){\n      var out = {x:0, y:0};\n      if(e.type == 'touchstart' || e.type == 'touchmove' || e.type == 'touchend' || e.type == 'touchcancel'){\n        var touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];\n        out.x = touch.pageX;\n        out.y = touch.pageY;\n      } else if (e.type == 'mousedown' || e.type == 'mouseup' || e.type == 'mousemove' || e.type == 'mouseover'|| e.type=='mouseout' || e.type=='mouseenter' || e.type=='mouseleave') {\n        out.x = e.pageX;\n        out.y = e.pageY;\n      }\n      return out;\n    };\n</code></pre>\n\n<p>example:</p>\n\n<pre><code>$('a').on('mousedown touchstart', function(e){\n  console.log(pointerEventToXY(e)); // will return obj ..kind of {x:20,y:40}\n})\n</code></pre>\n\n<p>hope this will be usefull for you ;)</p>\n",
                    "is_accepted": false,
                    "score": 11
                }
            ],
            "body": "<p>I'm trying to get the X position with jQuery of a touchstart event, used with the live function?</p>\n\n<p>I.e.</p>\n\n<pre><code>$('#box').live('touchstart', function(e) { var xPos = e.PageX; } );\n</code></pre>\n\n<p>Now, this does work with 'click' as the event. How on earth (without using the <strong><em>alpha</em></strong> jQuery Mobile) do I get it with a touch event?</p>\n\n<p>Any ideas?</p>\n\n<p>Thanks for any help.</p>\n",
            "last_activity_date": 1390338040,
            "question_id": 4780837,
            "score": 37,
            "tags": [
                "javascript",
                "jquery",
                "events",
                "click",
                "touch"
            ],
            "title": "Is there an equivalent to e.PageX position for &#39;touchstart&#39; event as there is for click event?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>I was facing this issue recently, too. Since you can't change the browser's default behavior of showing the popup in case of a 401 (<em>basic</em> or <em>digest</em> authentication), there are two ways to fix this:</p>\n\n<ul>\n<li>Change the server response to not return 401. Return a 200 code instead and handle this in your JQuery client.</li>\n<li><p>Change the method that you're using for authorization to a custom value in your header. Browsers will display the popup for <em>Basic</em> and <em>Digest</em>. You have to change this on both the client and the server.</p>\n\n<p>headers : {\n   \"Authorization\" : \"BasicCustom\"\n}</p></li>\n</ul>\n\n<p>Please also take a lookg at <a href=\"http://stackoverflow.com/questions/5507234/how-to-use-basic-auth-and-jquery-and-ajax\">this</a> for an example of using JQuery with Basic Auth.</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>Alternatively, if you can customize your server response, you could return a 403 Forbidden.</p>\n\n<p>The browser will not open the authentication popup and the jquery callback will be called.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Return a generic 400 status code, and then process that client-side.</p>\n\n<p>Or you can keep the 401, and not return the WWW-Authenticate header, which is really what the browser is responding to with the authentication popup. If the WWW-Authenticate header is missing, then the browser won't prompt for credentials.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Make an /login url, than accept \"user\" and \"password\" parameters via GET and don't require basic auth. Here, use php, node, java, whatever and parse your passwd file and match parameters (user/pass) against it. If there is a match then redirect to <a href=\"http://user:pass@domain.com/\" rel=\"nofollow\">http://user:pass@domain.com/</a> (this will set credential on your browser) if not, send 401 response (without WWW-Authenticate header).</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>If you're using an IIS Server, you could setup IIS URL Rewriting (v2) to rewrite the WWW-Authentication header to None on the requested URL.</p>\n\n<p>Guide here: <a href=\"http://blogs.msdn.com/b/benjaminperkins/archive/2012/11/02/change-or-modify-a-response-header-value-using-url-rewrite.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/benjaminperkins/archive/2012/11/02/change-or-modify-a-response-header-value-using-url-rewrite.aspx</a></p>\n\n<p>The value you want to change is response_www_authenticate.</p>\n\n<p>If you need more info, add a comment and I'll post the web.config file.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can suppress basic auth popup with request url looking like this: </p>\n\n<pre><code>https://username:password@example.com/admin/...\n</code></pre>\n\n<p>If you get 401 error (wrong username or password) it will be correctly handled with jquery error callback. It can cause some security issues (in case of http protocol instead of https), but it's works.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I need to send authorization request using basic auth. I have successfully implemented this using jquery. However when I get 401 error basic auth browser popup is opened and jquery ajax error callback is not called.</p>\n",
            "last_activity_date": 1412606618,
            "question_id": 9859627,
            "score": 36,
            "tags": [
                "javascript",
                "jquery",
                "rest",
                "basic-authentication"
            ],
            "title": "How to prevent browser to invoke basic auth popup and handle 401 error using Jquery?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I had the same issue and could solve it by defining the form object in the scope of the modals controller. To get your code working put, for example, <code>$scope.form = {};</code> in the beginning of your controller and change your form tag to <code>&lt;form name=\"form.invitation\"&gt;</code>. Afterwards <code>$scope.form.invitation.$invalid</code> should be filled.</p>\n",
                    "is_accepted": true,
                    "score": 53
                },
                {
                    "body": "<p>The answer to the question of \"Why?\" is \"scoping\". <strong>tl;dr</strong> you created a new scope with the modal dialog which hid the scope's form object from your controller.</p>\n\n<p>If we simplify your code, we roughly get the following:</p>\n\n<pre><code>&lt;div ng-ctrl=\"organizeCtrl\"&gt;\n  &lt;modal-dialog&gt;\n    &lt;form name=\"invitationForm\"&gt;\n      &lt;input type=\"email\" ng-model=\"invitation.email\" placeholder=\"Enter email...\" /&gt;\n      &lt;input type=\"submit\" ng-click=\"sendInvitation()\" text=\"Invite!\" /&gt;\n      &lt;input type=\"button\" ng-click=\"cancel()\" text=\"Cancel  :(\" /&gt;\n    &lt;/form&gt;\n  &lt;/modal-dialog&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>(This is a very simplified version which <em>should</em> still have all of the core components.) Now, let's look at where scopes are created and what is injected in them.</p>\n\n<pre><code>&lt;div ng-ctrl=\"sendInvitationController\"&gt;\n&lt;!-- scope created above with \"invitation\" and \"sendInvitation\" from sendInvitationController --&gt;\n  &lt;modal-dialog&gt;\n  &lt;!-- scope created above for the modal dialog transclude --&gt;\n    &lt;form name=\"invitationForm\"&gt;\n    &lt;!-- add \"invitationForm\" to the modal dialog's scope --&gt;\n      &lt;input type=\"email\" ng-model=\"invitation.email\" placeholder=\"Enter email...\" /&gt;\n      &lt;input type=\"submit\" ng-click=\"sendInvitation()\" text=\"Invite!\" /&gt;\n      &lt;input type=\"button\" ng-click=\"cancel()\" text=\"Cancel  :(\" /&gt;\n    &lt;/form&gt;\n  &lt;/modal-dialog&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here, you can see that there is a new child scope created at the <code>&lt;modal-dialog&gt;</code> element and <em>that</em> is where the <code>invitationForm</code> object is actually added. That is why you can't see the object in the <code>sendInvitationController</code> but you can see it on the buttons for <code>ng-disabled</code>. If you want to be able to access the form construct outside of the <code>&lt;modal-dialog&gt;</code> element (e.g. in the <code>sendInvitationController</code>) you will need to pass that in the function call:</p>\n\n<pre><code>&lt;div ng-ctrl=\"organizeCtrl\"&gt;\n  &lt;modal-dialog&gt;\n    &lt;form name=\"invitationForm\"&gt;\n      &lt;input type=\"email\" ng-model=\"invitation.email\" placeholder=\"Enter email...\" /&gt;\n      &lt;input type=\"submit\" ng-click=\"sendInvitation(invitationForm)\" text=\"Invite!\" /&gt;\n      &lt;input type=\"button\" ng-click=\"cancel()\" text=\"Cancel  :(\" /&gt;\n    &lt;/form&gt;\n  &lt;/modal-dialog&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>With the controller accepting the invitation form as a parameter to the <code>sendInvitation</code> function:</p>\n\n<pre><code>app.controller('sendInvitationController', ['$targetOrganisationId', '$scope', ...,\n  function ($targetOrganisationId, $scope, ...) {\n  $scope.invitation = {\n    targetOrganisation: {\n      id: $targetOrganisationId\n    }\n  };\n  $scope.sendInvitation = function (form) {\n    if (form.$invalid) {\n      return false;\n    }\n    // send the invitation...\n  };\n}]);\n</code></pre>\n\n<p>@Robin identified the other solution, specifically to create an object rooted in the scope of the <code>sendInvitationController</code> and then attach the form directly to that object, relying on Angular's scope traversal mechanism to find the <code>form</code> object on the scope outside of the <code>&lt;modal-dialog&gt;</code> and attach the form object to that. Note that if you did not specify <code>$scope.form = {}</code> in the <code>sendInvitationController</code>, Angular would have created a new object for <code>form</code> on the scope for the <code>&lt;modal-dialog&gt;</code> and you still would not have been able to access it in the <code>sendInvitationController</code>.</p>\n\n<p>Hopefully this helps you or other people learning about Angular scoping.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p><strong>Update Nov 2014</strong>: starting from angular-ui-bootstrap <code>0.12.0</code> transclusion scope is merged with the controller's scope. There is no need to do anything. </p>\n\n<p><strong>Before 0.12.0</strong>:</p>\n\n<p>To put <code>invitationForm</code> directly in your parent controller scope you need to bypass transcluded scope this way:</p>\n\n<pre><code>&lt;form name=\"$parent.invitationForm\"&gt;\n</code></pre>\n\n<p>Above will automaticaly create form object in your parent controller. No need for pre-initialization stuff, long object paths or passing by event. Just access it with <code>$scope.invitationForm</code> once modal is opened. </p>\n",
                    "is_accepted": false,
                    "score": 24
                }
            ],
            "body": "<p>We have a page that opens a modal dialog with a form like below. However when we hit the controller that should handle the form action, the form object is undefined and I am too much of an Angular newbie to understand why...</p>\n\n<p>This is the parent page controller holds the function to open the modal dialog:</p>\n\n<pre><code>app.controller('organisationStructureController', ['$scope', ..., '$modal', function ($scope, ..., $modal) {\n\n    $scope.openInvitationDialog = function (targetOrganisationId) {\n      $modal.open({\n          templateUrl: 'send-invitation.html',\n          controller: 'sendInvitationController',\n          resolve: {$targetOrganisationId: function () {\n            return targetOrganisationId;\n          }\n          }\n        }\n      );\n    };\n</code></pre>\n\n<p>on a page like this:</p>\n\n<pre><code>// inside a loop over organisations\n&lt;a ng-click=\"openInvitationDialog({{organisation.id}})\"&gt;Invite new member&lt;/a&gt;\n</code></pre>\n\n<p>the invitation-dialog html looks like this:</p>\n\n<pre><code>    &lt;div class=\"modal-dialog\"&gt;\n        &lt;div class=\"modal-content\"&gt;\n            &lt;div class=\"modal-header\"&gt;\n                &lt;!-- ... --&gt;\n            &lt;/div&gt;\n            &lt;div class=\"modal-body\"&gt;\n                &lt;form name=\"invitationForm\"&gt;\n\n                    &lt;div class=\"form-group\"&gt;\n                        &lt;label for=\"email\" style=\"color:white;\"&gt;Email&lt;/label&gt;\n                        &lt;input type=\"email\" class=\"form-control\"  autocomplete=\"off\" placeholder=\"New member email\" id=\"email\" name=\"email\" ng-model=\"invitation.email\" required=\"true\"/&gt;\n                        &lt;span class=\"error animated fadeIn\" ng-show=\"invitationForm.email.$dirty &amp;&amp; invitationForm.email.$error.required\"&gt;Please enter an email address!&lt;/span&gt;\n                        &lt;span class=\"error animated fadeIn\" ng-show=\"invitationForm.email.$error.email\"&gt;Invalid email&lt;/span&gt;\n                    &lt;/div&gt;\n\n                    &lt;!-- ... --&gt;\n\n                    &lt;div class=\"modal-footer\"&gt;\n                        &lt;button type=\"button\" class=\"btn btn-default\" ng-click=\"cancel()\"&gt;Cancel&lt;/button&gt;\n                        &lt;button type=\"submit\" class=\"btn btn-primary\" ng-click=\"sendInvitation()\"&gt;Invite&lt;/button&gt;\n                    &lt;/div&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>The controller that should handle the invitation is somewhere else:</p>\n\n<pre><code>  app.controller('sendInvitationController', ['$targetOrganisationId', '$scope', ...,\n    function ($targetOrganisationId, $scope, ...) {\n\n    $scope.invitation = {\n      // ...\n      targetOrganisation: {\n        id: $targetOrganisationId\n      }\n    };\n\n    $scope.sendInvitation = function () {\n\n      // $scope.invitationForm is undefined\n      if ($scope.invitationForm.$invalid) {\n        return false;\n      }\n\n      // send the invitation...\n\n    };\n  }]);\n</code></pre>\n\n<p>So what's the correct way to get the form scope into the controller? </p>\n\n<p>Maybe I need to inject <code>$modal</code> into the <code>sendInvitationController</code> and add the <code>sendInvitation</code> function to it? But when I do that the action never enters the controller. Or do I have to add the function that handles the submit action to <code>$modal.open({ ...</code> instead of referencing the controller? Though I'd much prefer to have the sendInvitationController in its own file and scope.</p>\n\n<p>Thanks for any help!</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>We found several things that helped us build a workaround and might help someone answer the question itself:</p>\n\n<ol>\n<li>the <code>$scope.invitation</code> object is not undefined in the <code>sendInvitationController</code> but holds the correct data, while <code>$scope.invitationForm</code> remains undefined.</li>\n<li>inside the send-invitation.html we can access <code>$scope.invitationForm.$invalid</code> and do the validation right there: <code>&lt;button type=\"button\" ng-click=\"sendInvitation()\" ng-disabled=\"invitationForm.$invalid\"&gt;Invite&lt;/button&gt;</code></li>\n</ol>\n\n<p>So the question is: why does the binding of the <code>invitationForm</code> object to the <code>$scope</code> fail on submit while the form model binds correcetly?</p>\n",
            "last_activity_date": 1416854846,
            "question_id": 19312936,
            "score": 34,
            "tags": [
                "javascript",
                "forms",
                "angularjs",
                "modal-dialog"
            ],
            "title": "AngularJS modal dialog form object is undefined in controller"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>In short, the original purpose was to make a field which will be submitted with form's submit. Sometimes, there were need to store some information in hidden field(for example, id of user) and submit it with form's submit.</p>\n\n<p><em>From HTML September 22, 1995 specification</em></p>\n\n<blockquote>\n  <p>An INPUT element with `TYPE=HIDDEN' represents a hidden field.The user\n  does not interact with this field; instead, the VALUE attribute\n  specifies the value of the field. The NAME and VALUE attributes are\n  required.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<blockquote>\n  <p>I can only imagine of sending a value from the server to the client which is (unchanged) sent back to maintain a kind of a state.</p>\n</blockquote>\n\n<p>Precisely. In fact, it's still being used for this purpose today because HTTP as we know it today is still, at least fundamentally, a stateless protocol.</p>\n\n<p>This use case was actually first described in <a href=\"http://www.w3.org/TR/REC-html32#fields\">HTML 3.2</a> (I'm surprised HTML 2.0 didn't include such a description):</p>\n\n<blockquote>\n  <p><code>type=hidden</code><br>\n  These fields should not be rendered and provide a means for servers to store state information with a form. This will be passed back to the server when the form is submitted, using the name/value pair defined by the corresponding attributes. This is a work around for the statelessness of HTTP. Another approach is to use HTTP \"Cookies\".</p>\n\n<pre><code>&lt;input type=hidden name=customerid value=\"c2415-345-8563\"&gt;\n</code></pre>\n</blockquote>\n\n<p>While it's worth mentioning that HTML 3.2 became a W3C Recommendation only <em>after</em> JavaScript's initial release, it's safe to assume that hidden fields have pretty much always served the same purpose.</p>\n",
                    "is_accepted": true,
                    "score": 34
                },
                {
                    "body": "<p>I'll provide a simple Server Side Real World Example here, say if the records are looped and each record has a form with a delete button and you need to delete a specific record, so here comes the <code>hidden</code> field in action, else you won't get the reference of the record to be deleted in this case, it will be <code>id</code></p>\n\n<p>For example</p>\n\n<pre><code>&lt;?php\n    if(isset($_POST['delete_action'])) {\n        mysqli_query($connection, \"DELETE FROM table_name \n                                   WHERE record_id = \".$_POST['row_to_be_deleted']);\n                                   //Here is where hidden field value is used\n    }\n\n    while(condition) {\n?&gt;\n    &lt;span&gt;&lt;?php echo 'Looped Record Name'; ?&gt;\n    &lt;form method=\"post\"&gt;\n        &lt;input type=\"hidden\" name=\"row_to_be_deleted\" value=\"&lt;?php echo $record_id; ?&gt;\" /&gt;\n        &lt;input type=\"submit\" name=\"delete_action\" /&gt;\n    &lt;/form&gt;\n&lt;?php\n    }\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>basically hidden fields will be more useful and advantages to use with multi step form.\nwe can use hidden fields to pass one step information to next step using hidden and keep it forwarding till the end step.</p>\n\n<ol>\n<li>CSRF tokens.</li>\n</ol>\n\n<p>Cross-site request forgery (<a href=\"http://en.wikipedia.org/wiki/Cro...\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Cro...</a>) is a very common website vulnerability. Requiring a secret, user-specific token in all form submissions will prevent CSRF attacks since attack sites cannot guess what the proper token is and any form submissions they perform on the behalf of the user will always fail.</p>\n\n<ol>\n<li>Save state in multi-page forms.</li>\n</ol>\n\n<p>If you need to store what step in a multi-page form the user is currently on, use hidden input fields. The user doesn't need to see this information, so hide it in a hidden input field.</p>\n\n<p>General rule:\nUse the field to store anything that the user doesn't need to see, but that you want to send to the server on form submission.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The values of form elements including type='hidden' are submitted to the server when the form is posted. input type=\"hidden\" values are not visible in the page. Maintaining User IDs in hidden fields, for example, is one of the many uses. </p>\n\n<p>SO uses a hidden field for the upvote click. </p>\n\n<pre><code>&lt;input value=\"16293741\" name=\"postId\" type=\"hidden\"&gt;\n</code></pre>\n\n<p>Using this value, the server-side script can store the upvote.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am curious about the original purpose of the <code>&lt;input type=\"hidden\"&gt;</code> tag.</p>\n\n<p>Nowadays it is often used together with JavaScript to store variables in it which are sent to the server and things like that.</p>\n\n<ul>\n<li>HTML 2.0 was released in <a href=\"http://en.wikipedia.org/wiki/HTML#HTML_version_timeline\">November 1995</a>, containing already the <a href=\"http://www.w3.org/MarkUp/html-spec/html-spec_8.html#SEC8.1.2.6\">specification for input type=\"hidden\"</a></li>\n<li>JavaScript was released <a href=\"http://en.wikipedia.org/wiki/JavaScript#Version_history\">March 1996</a></li>\n</ul>\n\n<p>Therefore, the <code>&lt;input type=\"hidden\"&gt;</code> existed <strong>before</strong> JavaScript, so what was its original purpose? I can only imagine of sending a value from the server to the client which is (unchanged) sent back to maintain a kind of a state. Or do I get something wrong in the history of it and <code>&lt;input type=\"hidden\"&gt;</code> was always supposed to be used together with JavaScript?</p>\n\n<p>If possible, please also give references in your answers.</p>\n",
            "last_activity_date": 1410362708,
            "question_id": 16293741,
            "score": 33,
            "tags": [
                "javascript",
                "html",
                "history"
            ],
            "title": "Original purpose of &lt;input type=&quot;hidden&quot;&gt;?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Because JavaScript is a loosely typed language, it attempts to type cast your 1st side of the comparison to the other so that they would match each other.</p>\n\n<p>Any string which does not contain a number, becomes 0 when compared to an integer, and becomes true (Except in certain situations), when compared to a Boolean.</p>\n\n<p><strong><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Operators/Comparison_Operators\">Light reading material.</a></strong></p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p><code>txt</code> is not a <code>Boolean</code>, so it will never be <code>false</code>. It can be <code>undefined</code> though.</p>\n\n<pre><code>var txt =\"\\n\\t\\r\";\nif(txt !== undefined) { //or just: if (txt)\n    console.log(\"Variable is declared.\");\n} else {\n    console.log(\"Variable is not declared.\");\n}\n//=&gt; will log: 'Variable is declared.'\n</code></pre>\n\n<p>By the way, a <em>declared</em> variable may be <code>undefined</code> (e.g. <code>var txt;</code>).</p>\n\n<p>If you do a stricter comparison (without type coercion, using <code>===</code>), you'll see that</p>\n\n<pre><code>var txt = '\\n'; txt === 0; //=&gt; false\nvar txt = '\\r'; txt === 0; //=&gt; false\nvar txt = '\\t'; txt === 0; //=&gt; false\n</code></pre>\n\n<p><a href=\"http://javascript.crockford.com/style2.html\" rel=\"nofollow\">See also</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The reason is that <code>\"\\n\\t\\r\"</code> just as <code>\" \"</code> are treated as empty strings.\nIf you use <code>==</code> it will return <code>true</code> but if you use <code>===</code> it will return <code>false</code>.</p>\n\n<p>If you want to test for existence you should use something like</p>\n\n<pre><code>if(typeof strName !== 'undefined') {\n    /*do something with strName*/\n} else {\n    /*do something without it*/\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This behaviour might be surprising but can be explained by having a look at the <a href=\"http://es5.github.com/\">specification</a>.</p>\n\n<p>We have to look at the what happens when a comparison with the <a href=\"http://es5.github.com/#x11.9.1\"><em>equals</em> operator</a> is performed. The exact algorithm is defined in <a href=\"http://es5.github.com/#x11.9.3\">section 11.9.3</a>.</p>\n\n<hr>\n\n<h3><code>string == integer</code></h3>\n\n<p>The step we have to look at is #5:</p>\n\n<blockquote>\n  <p>5. If <code>Type(x)</code> is String and <code>Type(y)</code> is Number,<br>\n  return the result of the comparison <code>ToNumber(x) == y</code>.</p>\n</blockquote>\n\n<p>That means the string <code>\"\\n\"</code> (<code>\"\\r\"</code>, <code>\"\\t\"</code>) is converted to a number first and then compared against <code>0</code>.</p>\n\n<p>How is a string converted to a number? This is explained in <a href=\"http://es5.github.com/#x9.3.1\">section 9.3.1</a>. In short, we have:</p>\n\n<blockquote>\n  <p>The MV (mathematical value) of <code>StringNumericLiteral ::: StrWhiteSpace</code> is <code>0</code>.</p>\n</blockquote>\n\n<p>where <code>StrWhiteSpace</code> is defined as </p>\n\n<pre><code>StrWhiteSpace :::\n    StrWhiteSpaceChar StrWhiteSpace_opt\n\nStrWhiteSpaceChar :::\n    WhiteSpace\n    LineTerminator\n</code></pre>\n\n<p>This just means that the numerical value of strings containing white space characters and/or a line terminator is <code>0</code>.<br>\nWhich characters are considered as white space characters is defined in <a href=\"http://es5.github.com/#x7.2\">section 7.3</a>.</p>\n\n<hr>\n\n<h3><code>string == boolean</code></h3>\n\n<p>The step we have to look at is #7:</p>\n\n<blockquote>\n  <p>7. If Type(y) is Boolean, return the result of the comparison <code>x == ToNumber(y)</code>.</p>\n</blockquote>\n\n<p>How booleans are converted to numbers is pretty simple: <code>true</code> becomes <code>1</code> and <code>false</code> becomes <code>0</code>.</p>\n\n<p>Afterwards we are comparing a string against a number, which is explained above.</p>\n\n<hr>\n\n<p>As others have mentioned, strict comparison (<code>===</code>) can be used to avoid this \"problem\". Actually you should only be using the normal comparison if you know what you are doing and want this behaviour.</p>\n",
                    "is_accepted": true,
                    "score": 35
                },
                {
                    "body": "<p>Whenever you use the <code>== operator</code> and try to compare a string to a number, the string will first be converted to a number. Thus: <code>alert(\"\\n\\r\"==0) becomes: alert(Number(\"\\n\\r\")==0)</code>\nThe Number constructure is kind of interesting. It will first strip whitespace then decide if the number is a not a number or not. If <code>NaN</code>, then the result is \"<code>NaN</code>\". If the string is empty, then the result is 0.</p>\n\n<pre><code>alert(Number()) alerts 0\nalert(Number(\"\")) alerts 0\nalert(Number(\" \\n \\r \\n \\t\")) alerts 0\nalert(Number(\"blah\")) alerts NaN\nalert(Number(\"0xFF\")) alerts 255\nalert(Number(\"1E6\")) alerts 1000000\n</code></pre>\n\n<p>To check if the result is NaN use isNaN()</p>\n\n<pre><code>Thus: alert(isNaN(\"blah\")) alerts true\nThus: alert(isNaN(\"\")) alerts false\nThus: alert(isNaN(\"\\n\")) alerts false\nThus: alert(isNaN(\" \")) alerts false\n</code></pre>\n\n<p>however do note that NaN will never equal NaN: </p>\n\n<pre><code>var nan=Number(\"geh\");alert(nan==nan);  alerts false \n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>if you want to check if both sides are NaN, then you'd convert both to boolean values first like so: </p>\n\n<pre><code>var nan=Number(\"geh\");alert(!!nan==!!nan); alerts true\n</code></pre>\n\n<p><strong>or better yet</strong></p>\n\n<pre><code>var nan=Number(\"geh\");\nalert(isNaN(nan)&amp;&amp; isNaN(nan));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Today when I was doing some experiments with <code>==</code>, I accidentally found out that <code>\"\\n\\t\\r\" == 0</code>. How on earth does <code>\"\\n\\t\\r\"</code> equal to <code>0</code>, or <code>false</code>?</p>\n\n<p>What I did is:</p>\n\n<pre><code>var txt = \"\\n\";  //new line\ntxt == 0;        //it gives me true\n</code></pre>\n\n<p>And that really annoy me. So I did more:</p>\n\n<pre><code>var txt = \"\\r\";  //\"return\"\ntxt == 0;        //true\n\nvar txt = \"\\t\";  //\"tab\"\ntxt == 0;        //true\n</code></pre>\n\n<p>It does not make sense, at all. How's that happen? And more crazy is this:</p>\n\n<pre><code>//Checking for variable declared or not\n\nvar txt =\"\\n\\t\\r\";\nif(txt!=false){\n    console.log(\"Variable is declared.\");\n}else{\n    console.log(\"Variable is not declared.\");\n}\n</code></pre>\n\n<p>What it gives me is <code>Variable is not declared.</code></p>\n\n<p>How is it equal to <code>0</code>, or <code>false</code>???</p>\n",
            "last_activity_date": 1335774196,
            "question_id": 10376179,
            "score": 33,
            "tags": [
                "javascript"
            ],
            "title": "&#39;\\n\\t\\r&#39; == 0 is true?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>Try <code>window.localStorage!==undefined</code>:</p>\n\n<pre><code>if(window.localStorage!==undefined){\n    //Do something\n}else{\n    alert('Your browser is outdated!');\n}\n</code></pre>\n\n<p>You can also use <code>typeof window.localStorage!==\"undefined\"</code>, but the statement above already does it</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>if(typeof Storage !== \"undefined\")\n  {\n  // Yes! localStorage and sessionStorage support!\n  // Some code.....\n  }\nelse\n  {\n  // Sorry! No web storage support..\n  }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Try: </p>\n\n<pre><code>if(typeof window.localStorage != 'undefined') {\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You don't have to use modernizr, but you can use their method to detect if <code>localStorage</code> is supported</p>\n\n<p><a href=\"https://github.com/Modernizr/Modernizr/tree/master/src\" rel=\"nofollow\">modernizr at github</a><br>\n<a href=\"https://github.com/Modernizr/Modernizr/blob/master/feature-detects/storage/localstorage.js\" rel=\"nofollow\">test for <code>localStorage</code></a></p>\n\n<pre><code>// In FF4, if disabled, window.localStorage should === null.\n\n// Normally, we could not test that directly and need to do a\n//   `('localStorage' in window) &amp;&amp; ` test first because otherwise Firefox will\n//   throw bugzil.la/365772 if cookies are disabled\n\n// Also in iOS5 &amp; Safari Private Browsing mode, attempting to use localStorage.setItem\n// will throw the exception:\n//   QUOTA_EXCEEDED_ERRROR DOM Exception 22.\n// Peculiarly, getItem and removeItem calls do not throw.\n\n// Because we are forced to try/catch this, we'll go aggressive.\n\n// Just FWIW: IE8 Compat mode supports these features completely:\n//   www.quirksmode.org/dom/html5.html\n// But IE8 doesn't support either with local files\n\nModernizr.addTest('localstorage', function() {\n    var mod = 'modernizr';\n    try {\n        localStorage.setItem(mod, mod);\n        localStorage.removeItem(mod);\n        return true;\n    } catch(e) {\n        return false;\n    }\n});\n</code></pre>\n\n<p><em>updated with current source code</em></p>\n",
                    "is_accepted": true,
                    "score": 34
                },
                {
                    "body": "<blockquote>\n  <p><em>Also I don't want to use Modernizr since I am using only a few HTML5\n  features and loading a large script isn't worth it just to detect\n  support for those few things.</em></p>\n</blockquote>\n\n<p>To reduce Modernizr file size customize the file at <a href=\"http://modernizr.com/download/\" rel=\"nofollow\">http://modernizr.com/download/</a> to fit your needs.  A localStorage-only version of Modernizr comes in at 1.55KB.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Try catch will do the job :</p>\n\n<pre><code>    try{\n       localStorage.setItem(\"name\",name.value);\n       localStorage.setItem(\"post\",post.value);\n       }\n    catch(e){\n       alert(e.message);    \n       }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>if (window.localStorage){\n\n   alert('localStorage is supported');\n   window.localStorage.setItem(\"whatever\", \"string value\");\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This function works fine:</p>\n\n<pre><code>function supports_html5_storage(){\n    try {\n        return 'localStorage' in window &amp;&amp; window['localStorage'] !== null;\n    } catch(e) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>Source: <a href=\"http://diveintohtml5.info/detect.html#storage\">www.diveintohtml5.info</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>The following code alerts <code>ls exist</code> in IE7:</p>\n\n<pre><code>if(window.localStorage) {\n    alert('ls exists');\n} else {\n    alert('ls does not exist');\n}\n</code></pre>\n\n<p>IE7 doesn't really support local storage but this still alerts it does. Perhaps this is because I am using IE9 in IE7 browser and document modes using the IE9 developer tool. Or maybe this is just the wrong way to test if LS is supported. What is the right way?</p>\n\n<p>Also I don't want to use Modernizr since I am using only a few HTML5 features and loading a large script isn't worth it just to detect support for those few things.</p>\n",
            "last_activity_date": 1425663645,
            "question_id": 11214404,
            "score": 32,
            "tags": [
                "javascript",
                "html",
                "html5"
            ],
            "title": "How to detect if browser supports HTML5 Local Storage"
        }
    ]
}
