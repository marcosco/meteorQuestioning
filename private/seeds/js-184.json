{
    "items": [
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You can't do it via javascript, you need server side implementation.</p>\n\n<p>Here's the SO Post which should help:<br>\n<a href=\"http://stackoverflow.com/questions/1024910/allowing-user-to-download-from-my-site-through-response-writefile\">Allowing user to download from my site through Response.WriteFile()</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Since you've tagged it .NET, i'd say this is your best solution:</p>\n\n<pre><code>    Response.ClearContent();\n    Response.ClearHeaders();\n    Response.ContentType = \"application/pdf\";\n    Response.AddHeader(\"Content-Disposition\", \"attachment;filename=download.pdf\");\n    Response.WriteFile(Server.MapPath(\"~/files/myFile.pdf\"));\n    Response.Flush();\n    Response.Close();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p><a href=\"http://aspalliance.com/259%5FDownloading%5FFiles%5F%5FForcing%5Fthe%5FFile%5FDownload%5FDialog\" rel=\"nofollow\">http://aspalliance.com/259%5FDownloading%5FFiles%5F%5FForcing%5Fthe%5FFile%5FDownload%5FDialog</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Change the Content-Type to application/octet-stream.  You may find however, that some browsers will infer from the file extension that it should open as a PDF with your favorite PDF viewer.</p>\n\n<pre><code>Response.ContentType = \"application/octet-stream\";\n</code></pre>\n\n<p>Also, set the following:</p>\n\n<pre><code>Response.AppendHeader( \"content-disposition\", \"attachment; filename=\" + name );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Since your edit states that you're using PHP, here's how to do the same in PHP:</p>\n\n<pre><code>&lt;?php\nheader('Content-type: application/pdf');\nheader('Content-Disposition: attachment; filename=\"downloaded.pdf\"');\nreadfile('original.pdf');\n?&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>If you are getting a corrupted file error try this:</p>\n\n<pre><code>header('Pragma: public');\nheader('Expires: 0');\nheader('Cache-Control: must-revalidate, post-check=0, pre-check=0');\nheader('Cache-Control: private', false);\nheader('Content-Type: application/pdf');\nheader('Content-disposition: attachment; filename=' . basename($file));\nheader(\"Content-Transfer-Encoding:  binary\");\nheader('Content-Length: ' . filesize($file)); // provide file size\nheader('Connection: close');\nreadfile($file);\n</code></pre>\n\n<p>Where <code>$file</code> is the full <strong>path or url</strong> of the file.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In my project site, if I click on a link, the PDF opens in a new or parent window. Well I want a box to appear that prompts the user to download the file instead of opening it. </p>\n\n<p>Does anyone know of a simple JavaScript onClick event that will do this, in all browsers, with default settings?</p>\n\n<p>My server is PHP based.</p>\n",
            "last_activity_date": 1405720014,
            "question_id": 1804446,
            "score": 6,
            "tags": [
                "php",
                "javascript",
                "apache"
            ],
            "title": "Prompt user to download PDF file instead of opening"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Use bracket notation instead.</p>\n\n<pre><code>var name = otherObject.name;\nvar o = {};\no[name] = otherObject;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 14
                }
            ],
            "body": "<p>This is probably a no-brainer, but how can I make this happen:</p>\n\n<pre><code>var name = otherObject.name; //\"string\"\nvar o = { \n            name : otherObject\n        };\nalert(o[\"string\"].name);\n</code></pre>\n\n<p>Thanks in advance!</p>\n",
            "last_activity_date": 1340293446,
            "question_id": 1798446,
            "score": 6,
            "tags": [
                "javascript",
                "json",
                "variables"
            ],
            "title": "Javascript Objects: Dynamic variable names?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>As per <a href=\"http://stackoverflow.com/questions/1760192/which-way-is-better-to-define-javascript-regular-expressions/1760506#1760506\">J-P's answer</a> there <em>is</em> a slight difference, which sometimes could be important. The <em>intent</em> was that:</p>\n\n<pre><code>var re = /\\d+/;\n</code></pre>\n\n<p>be the same as:</p>\n\n<pre><code>var re = new RegExp(\"\\\\d+\");\n</code></pre>\n\n<p>but, oddly, in Firefox/Chrome it isn't <em>quite</em> the same (as demonstrated by his example with stateful expressions that are used multiple times).</p>\n\n<p>So, use the <code>RegExp</code> object would be my advice. And an excellent find by J-P.</p>\n\n<p>That being said, the major circumstance where you had to use <code>RegExp</code> over the literal syntax anyway was to dynamically create expressions, for example:</p>\n\n<pre><code>var s = \"[asdf]+\";\nvar re = new RegExp(\":\" + s + \":\", \"g\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>\"The RegExp() method allows you to dynamically construct the search pattern as a string, and is useful when the pattern is not known ahead of time.\" -<a href=\"http://www.javascriptkit.com/jsref/regexp.shtml\" rel=\"nofollow\">http://www.javascriptkit.com/jsref/regexp.shtml</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>According to the ES3 specification, they are slightly different in that the literal syntax (<code>/regex/</code>) will create a single <code>RegExp</code> object upon the initial scan:</p>\n\n<blockquote>\n  <p>A regular expression literal is an\n  input element that is converted to a\n  RegExp object (section 15.10) when it\n  is scanned. The object is created\n  before evaluation of the containing\n  program or function begins. Evaluation\n  of the literal produces a reference to\n  that object; it does not create a new\n  object.</p>\n</blockquote>\n\n<p>The error in that spec was acknowledged in ES4:</p>\n\n<blockquote>\n  <p>In ES3 a regular expression literal\n  like /ab/mg denotes a single unique\n  RegExp object that is created the \n  first time the literal is encountered\n  during evaluation.  In ES4 a new\n  RegExp object is created <strong><em>every time</em></strong> \n  the literal is encountered during\n  evaluation.</p>\n</blockquote>\n\n<p>Implementations vary across browsers. Safari and IE treat literals as per ES4, but Firefox and Chrome appear to treat them as per ES3. </p>\n\n<p>Try the following code in various browsers and you'll see what I mean:</p>\n\n<pre><code>function f() {\n    return /abc/g.test('abc');\n}\n\nalert(f()); // Alerts true\nalert(f()); // Alerts false in FF/Chrome\n</code></pre>\n\n<p>Compared with:</p>\n\n<pre><code>function f() {\n    return RegExp('abc', 'g').test('abc');\n}\n\nalert(f()); // Alerts true\nalert(f()); // Alerts true\n</code></pre>\n\n<p>Note, false is alerted because the function is still using the regex from the previous call of that function, the <code>lastIndex</code> of which was updated, meaning that it won't match the string <code>\"abc\"</code> anymore.</p>\n\n<p><hr></p>\n\n<p>Tip: the <code>new</code> operator is not required for <code>RegExp</code> to be instantiated. <code>RegExp()</code> by itself works the same...</p>\n\n<p><hr></p>\n\n<p>More info on the ES3/4 issue: <a href=\"http://stackoverflow.com/questions/1534098/regex-lastindex-unexpected-behaviour\">http://stackoverflow.com/questions/1534098/regex-lastindex-unexpected-behaviour</a></p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>Is it better to use the RegExp object or the inline style? And why?</p>\n",
            "last_activity_date": 1397273055,
            "question_id": 1760192,
            "score": 6,
            "tags": [
                "javascript",
                "browser"
            ],
            "title": "Are inline JavaScript regular expressions faster?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Move script to other file :)</p>\n\n<p>It is standard (and good) habit to separate style (into <code>.css</code> file), data (<code>.html</code>) and of course scripts to <code>.js</code> file.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Or you can protect the script from the xml validation like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt; \n//&lt;![CDATA[\n    if (user_age &gt; 15 &amp;&amp; user_age &lt; 91) {\n        // do soemthing\n    }\n//]]&gt;\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>put javascript in <code>&lt;![CDATA[...]]&gt;</code> section</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>All Javascript should be <a href=\"http://www.w3schools.com/xmL/xml%5Fcdata.asp\" rel=\"nofollow\">CDATA</a> in XHTML:</p>\n\n<pre><code>&lt;![CDATA[\nif (user_age &gt; 15 &amp;&amp; user_age &lt; 91)\n]]&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Here's the snippet of code that won't validate:</p>\n\n<pre><code>if (user_age &gt; 15 &amp;&amp; user_age &lt; 91)\n</code></pre>\n\n<p>It gets the following errors:</p>\n\n<blockquote>\n  <p>XML Parsing Error: StartTag: invalid element name</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>XML Parsing Error: xmlParseEntityRef: no name</p>\n</blockquote>\n\n<p>The first error is thrown for the \"less than\" and the second one is thrown twice, once for each ampersand.</p>\n\n<p>Replacing the above signs with <code>&amp;</code> and <code>&lt;</code> validates fine, but of course it completely ruins the function.</p>\n",
            "last_activity_date": 1326210088,
            "question_id": 1513871,
            "score": 6,
            "tags": [
                "javascript",
                "xhtml-1.0-strict"
            ],
            "title": "XHTML won&#39;t validate &amp;&amp; and &lt; in a JavaScript function"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>It's not clear what you mean by</p>\n\n<blockquote>\n  <p>Currently, the user is just transferred to the address of the PDF file.</p>\n</blockquote>\n\n<p>But I suggest a simple approach:</p>\n\n<pre><code>&lt;a href='http://example.com/download.pdf'&gt;Download PDF&lt;/a&gt;\n</code></pre>\n\n<p>The choice of <em>downloading</em> or <em>opening</em> a file is more a setting of the browser.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can force the browser to save the linked content by adding an HTTP header to the web server response:</p>\n\n<pre><code>Content-Disposition: attachment; filename=&lt;default filename to save as&gt;\n</code></pre>\n\n<p>On the other side, I don't really see the point in overriding the user's browser configuration, which usually tells if PDF documents should per default be opened in the browser, opened in a separate PDF viewer or saved to disk. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I don't believe there is a magical javascript/PHP solution to your problem, the vanilla HTML:</p>\n\n<pre><code>&lt;a href=\"docco.pdf\" title=\"this is a link to a pdf\"&gt;download the PDF&lt;/a&gt;\n</code></pre>\n\n<p>will do what is required, it will direct the browser to request the resource \"docco.pdf\", it is up to the browser (and any plugins) to do something with this.</p>\n\n<p>For example, there is a firefox addon \"<a href=\"https://addons.mozilla.org/en-US/firefox/addon/636\" rel=\"nofollow\">PDF download</a>\" that offers the user the choice of what to do with a popup.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Redirect to a PHP page with this code on it:</p>\n\n<pre><code>&lt;?php\nheader('Content-disposition: attachment; filename=movie.mpg');\nheader('Content-type: video/mpeg');\nreadfile('movie.mpg');\n?&gt;\n</code></pre>\n\n<p>your <code>&lt;a href</code> code will need to point to a specific page, and readfile will call your resource</p>\n\n<p><a href=\"http://www.boutell.com/newfaq/creating/forcedownload.html\">Further reading</a></p>\n\n<p>Just as a side note, I do agree that you should not override a browsers settings, but sometimes when the boss asks, you just have to do.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>If you're on Apache, you can drop this into your .htaccess:</p>\n\n<pre><code>&lt;Files *.pdf&gt;\n  Header set Content-Disposition attachment\n&lt;/Files&gt;\n</code></pre>\n\n<p>This will send all PDF documents as downloads. <a href=\"http://httpd.apache.org/docs/2.0/mod/mod_headers.html\">mod_headers</a> has to be enabled though.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You can use the HTML5 <code>download</code> attribute on your a tag.</p>\n\n<pre><code>&lt;a href=\"http://love4cats.com/kitten-catalogue.pdf\" download&gt;Download the CATalogue&lt;/a&gt;\n</code></pre>\n\n<p>You should check your analytics and make sure that your target browser supports the attribute. See the <a href=\"http://caniuse.com/#feat=download\" rel=\"nofollow\" title=\"caniuse.com feat=download\">caniuse.com entry</a> page for browser support. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>You can also use the following code:\n\n&lt;?php \n$file = filter_input(INPUT_GET, 'file');\n$filename = basename($file);\nheader(\"Content-Type: application/force-download\");\nheader(\"Content-Disposition: attachment; filename=\\\"{$filename}\\\";\");\nreadfile(\"your file path {$file}\");\n?&gt;\n</code></pre>\n\n<p>This will prompt any file extensions such as (.pdf,.docx,.zip,.csv,.txt,.html,.php and so on...) without directly opening into the new browser.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>When a user clicks a \"Download PDF\" link, I would like for the download prompt to appear and for the user to be able to download the file.</p>\n\n<p>Currently, the user is just transferred to the address of the PDF file.</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;a..[what goes here??]..&gt;Download PDF&lt;/a&gt;\n</code></pre>\n\n<p>It seems that there's a combination of JavaScript &amp; PHP needed to do this.</p>\n\n<p>Can anyone give an example?</p>\n",
            "last_activity_date": 1422815920,
            "question_id": 1509056,
            "score": 6,
            "tags": [
                "php",
                "javascript",
                "file",
                "download"
            ],
            "title": "How to create a link that triggers file download?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<pre><code>$('#ID').position().left\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Relative to the document:</p>\n\n<pre><code>$('#ID').offset().left\n</code></pre>\n\n<p>Relative to its offset parent:</p>\n\n<pre><code>$('#ID').position().left\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 18
                }
            ],
            "body": "<p>I'll try to explain what i'm trying to get. I've a div with position:fixed (at the bottom of a page) into that div, there is some other divs. What i want is to show another div (with absolute position) aligned to the right with those divs... in other words, i wan't to know the left position of the divs...</p>\n",
            "last_activity_date": 1374935949,
            "question_id": 1371379,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "using jQuery to get absolute or relative position position of a div"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<pre><code>$(\"#MonitorInformation\").text(\"Hello everyone\").css(\"color\", \"red\")\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>document.getElementById(\"MonitorInformation\").innerHTML = \"some text\";\ndocument.getElementById(\"MonitorInformation\").style.color = \"green\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var elem = document.getElementById(\"MonitorInformation\");\nelem.innerHTML = \"Setting different HTML content\";\nelem.style.color = \"Red\";\nelem.style.fontSize = \"large\";\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<pre><code>var myDiv = document.getElementById(\"MonitorInformation\");\nmyDiv.style.fontSize = \"11px\";\nmyDiv.style.color = \"blue\";\n</code></pre>\n\n<p>Take a look at the <a href=\"http://www.comptechdoc.org/independent/web/cgi/javamanual/javastyle.html\" rel=\"nofollow\">JavaScript Style Attributes</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I've abstracted a few methods, which could make them a little more useful for multiple invocations:</p>\n\n<pre><code>var el = document.getElementById(\"MonitorInformation\");\n\nfunction text( el, str ) {\n    if ( el.textContent ) {\n         el.textContent = str;\n    } else {\n         el.innerText = str;\n    }\n}\n\nfunction size ( el, str ) {\n     el.style.fontSize = str;\n}\n\nfunction color ( el, str ) {\n     el.style.color = str;\n}\n\nsize( el, '11px') \ncolor( el, 'red' )\ntext(el, 'Hello World')\n</code></pre>\n\n<p><strong>Note</strong>: The best practice to dynamically change this type of stuff would be by setting the styles in a seperate external selector: </p>\n\n<p>.message { color:red; font-size:1.1em; }</p>\n\n<p>And toggling the class name, .className+= 'message' ( or an abstracted function to add/remove classes ).</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>One of the easiest ways is to use a library like <a href=\"http://www.jquery.com\" rel=\"nofollow\">jQuery</a>. This handles all the differences in browser JavaScript implementations for you and gives you a nice, easy API to program against.</p>\n\n<p>Add a reference to jQuery using the following code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Then you can get a reference to your  element and modify it as follows:</p>\n\n<pre><code>$(\"#MonitorInformation\").css('font-size', '2em').css('color', '#FF0000');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Assuming your style values are not computed in the JS, there are two seperate ways parts to this:</p>\n\n<ol>\n<li>Presentation is best handled by CSS, so set up a style-rule using a class that contains the information about how you want the element to look.</li>\n<li>On the elements that you want to have the appearance, use Javascript to change the class attribute to match the class in your CSS.</li>\n</ol>\n\n<p>This has the benefits of making the JS easy - you only need to change one attribute (the class attribute is referenced with <code>element.className</code> in JS as 'class' is a reserved word). And that all the styling information is contained in one CSS file where it's easy to compare to the other styles and make changes.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Suppose I have the following line of code in html, how to set the text color and size inside \"MonitorInformation\" DIV element in a programming way using Javascript in an easy way? Sorry for my stupid, I figured a long time but cannot figure out. :-(</p>\n\n<pre><code>&lt;div id=\"MonitorInformation\"&gt;Connecting...wait&lt;/div&gt;\n</code></pre>\n\n<p>thanks in advance,\nGeorge</p>\n",
            "last_activity_date": 1394693455,
            "question_id": 1188843,
            "score": 6,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "set html text color and size using javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You'd better ask this in mongodb user's googlegroup.\nThe answer for your question is here <a href=\"http://groups.google.com/group/mongodb-user/msg/583d37ef41ef5cca?hl=en\" rel=\"nofollow\">http://groups.google.com/group/mongodb-user/msg/583d37ef41ef5cca?hl=en</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The following works for me from the mongo shell - so I'm not sure what happened above for you.  Try this and see if it works?  If so I would say grab the latest mongo code in case something used to be problematic.</p>\n\n<pre><code>x = { 'name': 'test', anotherdoc: { 'something': 'someval', somenum : 1 } }\n&gt; x\n{\"name\" : \"test\" , \"anotherdoc\" : {\"something\" : \"someval\" , \"somenum\" : 1}}\n&gt; collection = db.foo;\ntest.foo\n&gt; collection.insert(x)\n&gt; collection.find()\n{\"_id\" :  ObjectId( \"4a61b6711591f41f0f1bc5ff\")  , \"name\" : \"test\" , \"anotherdoc\" : {\"something\" : \"someval\" , \"somenum\" : 1}}\n&gt; x\n{\"name\" : \"test\" , \"anotherdoc\" : {\"something\" : \"someval\" , \"somenum\" : 1}}\n&gt; x._id\n&gt; x = collection.findOne()\n{\"_id\" :  ObjectId( \"4a61b6711591f41f0f1bc5ff\")  , \"name\" : \"test\" , \"anotherdoc\" : {\"something\" : \"someval\" , \"somenum\" : 1}}\n&gt; collection.update({'_id': x._id}, {$set: {'anotherdoc.something': 'somenewval'}} )\n&gt; collection.find()\n{\"_id\" :  ObjectId( \"4a61b6711591f41f0f1bc5ff\")  , \"name\" : \"test\" , \"anotherdoc\" : {\"somenum\" : 1 , \"something\" : \"somenewval\"}}\n&gt;\n</code></pre>\n\n<p>As mentioned above, the MongoDB forums probably get seen faster (or try IRC).</p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>Say I have a data structure something like this:</p>\n\n<pre><code>{\n    'name': 'test',\n    'anotherdoc': {\n        'something': 'someval',\n        'somenum': 1\n    }\n}\n</code></pre>\n\n<p>Now, say I wanted to set something. Initially, I though it would be done like so:</p>\n\n<pre><code>collection.update({'_id': myid}, {$set: {'anotherdoc.something': 'somenewval'});\n</code></pre>\n\n<p>This, however, seems to be incorrect. It does put some data in there, but it does so in an odd manner. It would, in this case, end up like so:</p>\n\n<pre><code>[\n    {\n        'name': 'test',\n        'anotherdoc': {\n            'something': 'someval',\n            'somenum': 1\n        }\n    },\n    ['anotherdoc.something', 'someval']\n]\n</code></pre>\n\n<p>Of course, not what I was looking for.</p>\n\n<p>Any help would be wonderful.</p>\n",
            "last_activity_date": 1346854573,
            "question_id": 1145956,
            "score": 6,
            "tags": [
                "javascript",
                "mongodb"
            ],
            "title": "Updating nested documents in mongodb"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>var window = {}\nvar document = {}\n</code></pre>\n\n<p>... of course, they won't do a lot of good unless you populate them with the properties that the script is trying to access.</p>\n\n<p>You can't just populate them with the standard browser APIs - most of them don't make sense outside the context of the browser.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The window and document objects are just provided by web-browsers and are not part of the <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\">ECMAScript standard</a> which Rhino implements. They are there to allow a script to access the current browser window and the HTML document. The document object is actually an implementation of the <a href=\"http://www.w3.org/DOM/\">W3C DOM</a>.</p>\n\n<p>Rhino is a pure implementation of ECMAScript/JavaScript 1.7 and therefore does not know anything about HTML pages, windows and browserstuff in general. It is a general purpose scripting language which just happens to be mostly embedded into a web browser and thus you can usually use the global objects provided by the browser.</p>\n\n<p>You can of course define some globally accessible objects with the names \"window\" and \"document\" which are just stubs which do nothing, but the script you want to execute probably uses some methods and/or properties on them, so this won't help you much. If you want to execute a script, which was written for execution in a browser environment, you need to provide a full \"browser\"-like environment.</p>\n\n<p>If that is possible and makes sense in a server context is another question...</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>See John Resig's blog: <a href=\"http://ejohn.org/blog/bringing-the-browser-to-the-server/\">Bringing the Browser to the Server</a></p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<ul>\n<li>I want to run some Javascript on my Java6 server - i.e. using the javax.script API, specifically the Rhino Script Engine. (Although another solution would be acceptable) </li>\n<li>The script file is created &amp; supported by a third party, so I don't want to download it and edit it in case it changes over time.</li>\n<li>The script directly references the 'window' object ( and probably the 'document' object etc. ) which Rhino does not <strike>seem to</strike> support.</li>\n</ul>\n\n<p>Can I do this, and if so, how?</p>\n",
            "last_activity_date": 1244475368,
            "question_id": 964392,
            "score": 6,
            "tags": [
                "java",
                "javascript",
                "javax.script"
            ],
            "title": "Can I create a &#39;window&#39; object for javascript running in the Java6 Rhino Script Engine"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Quoth Crockford (http://www.json.org/js.html):</p>\n\n<blockquote>\n  <p>To convert a JSON text into an object,\n  you can use the eval() function.\n  eval() invokes the JavaScript\n  compiler. Since JSON is a proper\n  subset of JavaScript, the compiler\n  will correctly parse the text and\n  produce an object structure. The text\n  must be wrapped in parens to avoid\n  tripping on an ambiguity in\n  JavaScript's syntax.</p>\n  \n  <p>var myObject = eval('(' + myJSONtext +\n  ')');</p>\n  \n  <p>The eval function is very fast.\n  However, it can compile and execute\n  any JavaScript program, so there can\n  be security issues. The use of eval is\n  indicated when the source is trusted\n  and competent. It is much safer to use\n  a JSON parser. ...</p>\n  \n  <p>To defend against this, a JSON parser\n  should be used. A JSON parser will\n  recognize only JSON text, rejecting\n  all scripts. In browsers that provide\n  native JSON support, JSON parsers are\n  also much faster than eval. It is\n  expected that native JSON support will\n  be included in the next ECMAScript\n  standard.</p>\n  \n  <p>var myObject = JSON.parse(myJSONtext,\n  reviver);</p>\n</blockquote>\n\n<p>And then he develops the JSON prototype in the rest of the article.</p>\n\n<p>The versions of Gecko used in Firefox 3 and 3.5 support JSON natively (<a href=\"https://developer.mozilla.org/En/JSON\" rel=\"nofollow\">https://developer.mozilla.org/En/JSON</a>), which may be useful if your project is limited to a recent Gecko-based application.</p>\n\n<hr>\n\n<p>As pointed out below, the interesting part about the text generator (not parser) is at <a href=\"https://github.com/douglascrockford/JSON-js/blob/master/json2.js\" rel=\"nofollow\">https://github.com/douglascrockford/JSON-js/blob/master/json2.js</a> and introduced with</p>\n\n<blockquote>\n  <p>A JSON stringifier goes in the opposite direction, converting JavaScript data structures into JSON text. JSON does not support cyclic data structures, so be careful to not give cyclical structures to the JSON stringifier.</p>\n  \n  <p>var myJSONText = JSON.stringify(myObject, replacer);</p>\n</blockquote>\n\n<p>Cyclic data structures and objects that aren't usefully serialized are obviously the only big caveats there.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It is worth mentioning that Anonymous's link (<a href=\"http://www.json.org/js.html\" rel=\"nofollow\">http://www.json.org/js.html</a>) will point you in the right direction because the page <em>also</em> includes information about how to stringify a JavaScript data structure into JSON text:</p>\n\n<blockquote>\nA JSON stringifier goes in the opposite direction, converting JavaScript data structures into JSON text.\n</blockquote>\n\n<p>In particular, look for the link at the bottom of the page that points to an open source JSON parser and JSON stringifier.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There are two sample methods in Crockford's library (as raised by @Anonymous):</p>\n\n<p>JSON string to object: </p>\n\n<pre><code>var obj = JSON.parse('{ \"property\":\"value\" }');\nalert (obj.property);\n\n// value\n</code></pre>\n\n<p>Object to JSON string: </p>\n\n<pre><code>var str = JSON.stringify({ \"property\":\"value\" })\nalert (str);\n\n//{ \"property\":\"value\" }\n</code></pre>\n\n<p>There are also built in methods to do this in most of the major frameworks.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>How can I convert a JavaScript object to a JSON string in a JavaScript function? I need the JSON string to pass to a JSP page.</p>\n",
            "last_activity_date": 1324892556,
            "question_id": 834030,
            "score": 6,
            "tags": [
                "javascript",
                "json",
                "jsp",
                "text"
            ],
            "title": "JS object to JSON string?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can't do a Response.Redirect because your javascript alert will never get displayed. Better to have your javascript code actually do a <code>windows.location.href='default.aspx'</code> to do the redirection after the alert is displayed. Something like this:</p>\n\n<pre><code>protected virtual void DisplayAlert(string message)\n{\n    ClientScript.RegisterStartupScript(\n      this.GetType(),\n      Guid.NewGuid().ToString(),\n      string.Format(\"alert('{0}');window.location.href = 'default.aspx'\", \n        message.Replace(\"'\", @\"\\'\").Replace(\"\\n\", \"\\\\n\").Replace(\"\\r\", \"\\\\r\")),\n        true);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>The DisplayAlert method adds the client script to the currently executing page request. When you call Response.Redirect, ASP.NET issues a HTTP 301 redirect to the browser, therefore starting a new page request where the registered client script no longer exists.</p>\n\n<p>Since your code is executing on the server-side, there is no way to display the alert client-side and perform the redirect.</p>\n\n<p>Also, displaying a JavaScript alert box can be confusing to a user's mental workflow, an inline message would be much more preferable. Perhaps you could add the message to the Session and display this on the Default.aspx page request.</p>\n\n<pre><code>protected void Save(..)\n{   \n    // Do save stuff\n    Session[\"StatusMessage\"] = \"The changes were saved Successfully\";\n    Response.Redirect(\"Default.aspx\");\n}\n</code></pre>\n\n<p>Then in Default.aspx.cs code behind (or a common base page class so this can happen on any page, or even the master page):</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n    if(!string.IsNullOrEmpty((string)Session[\"StatusMessage\"]))\n    {\n        string message = (string)Session[\"StatusMessage\"];\n        // Clear the session variable\n        Session[\"StatusMessage\"] = null;\n        // Enable some control to display the message (control is likely on the master page)\n        Label messageLabel = (Label)FindControl(\"MessageLabel\");\n        messageLabel.Visible = true;\n        messageLabel.Text = message;\n    }\n}\n</code></pre>\n\n<p>The code isn't tested but should point you in the right direction</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>protected void Save(..)\n{       \n    // Do save stuff    \n    ShowMessageBox();  \n} \n\nprivate void ShowMessageBox()\n{        \n    string sJavaScript = \"&lt;script language=javascript&gt;\\n\";        \n    sJavaScript += \"var agree;\\n\";        \n    sJavaScript += \"agree = confirm('Do you want to continue?.');\\n\";        \n    sJavaScript += \"if(agree)\\n\";        \n    sJavaScript += \"window.location = \\\"http://google.com\\\";\\n\";        \n    sJavaScript += \"&lt;/script&gt;\";      \n    Response.Write(sJavaScript);\n}  \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This works perfect:</p>\n\n<pre><code>string url = \"home.aspx\";\nClientScript.RegisterStartupScript(this.GetType(), \"callfunction\", \"alert('Saved Sucessfully.');window.location.href = '\" + url + \"';\",true);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm currently stuck. I have a webform with a button that registers or saves a record.\nWhat i'd like to is have it display a javascript alert and then redirect to a page.\nHere is the code i am using</p>\n\n<pre><code>protected void Save(..)\n{   \n    // Do save stuff\n    DisplayAlert(\"The changes were saved Successfully\");\n    Response.Redirect(\"Default.aspx\");\n}\n</code></pre>\n\n<p>This code just redirects without giving the prompt Saved Successfully.</p>\n\n<p>Here is my DisplayAlert Code</p>\n\n<pre><code> protected virtual void DisplayAlert(string message)\n    {\n        ClientScript.RegisterStartupScript(\n                        this.GetType(),\n                        Guid.NewGuid().ToString(),\n                        string.Format(\"alert('{0}');\", message.Replace(\"'\", @\"\\'\").Replace(\"\\n\", \"\\\\n\").Replace(\"\\r\", \"\\\\r\")),\n                        true\n                    );\n    }\n</code></pre>\n\n<p>Can anyone help me find a solution to this?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1328695621,
            "question_id": 782354,
            "score": 6,
            "tags": [
                "asp.net",
                "javascript",
                "redirect",
                "alert"
            ],
            "title": "Asp.net Webform Display Alert and redirect"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I'm guessing from 'partial page postback' you're working in Asp.net land.</p>\n\n<p>Try using </p>\n\n<pre><code>Sys.Application.add_load(function() { });\n</code></pre>\n\n<p>You should still be able to use all the normal jQuery stuff inside that func.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Some DOM elements are replaced when you do a partial postback, and of course, the new elements will loose jQuery bindings. You can use the ScriptManager class to register a script that will be executed after the partial postback finishes (have a look <a href=\"http://stackoverflow.com/questions/545290/does-the-clientscriptmanager-work-when-called-in-a-partial-postback\">here</a>)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can either tap into the <a href=\"http://msdn.microsoft.com/en-us/library/bb383810.aspx\">PageRequestManager</a> endRequestEvent:</p>\n\n<pre><code>Sys.WebForms.PageRequestManager.getInstance().add_endRequest(function(){});\n</code></pre>\n\n<p>Or if it is control events you're trying to attach, you can use jQuery <a href=\"http://docs.jquery.com/Events/live#typefn\">live events</a>. </p>\n\n<p>Another option is to do the event delegation manually. It is what the \"live\" event are doing under the covers. Attach the event handler to the document itself, then conditionally execute your method if the sender of the event was element you expect.</p>\n\n<pre><code>$(document).click(function(e){  \n    if($(e.target).is(\".collapseButton\")){  \n        $(this).find(\".collapsePanel\").slideToggle(500);  \n    }  \n})\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>Check out the \"live\" feature of jQuery 1.3 <a href=\"http://docs.jquery.com/Events/live\" rel=\"nofollow\">here</a>. You can add events to future elements as well as current elements on the page. This may simplify the code you'll need to write.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The most elegant solution (using jQuery 2.x) is this:</p>\n\n<p>Use the \"on\" event. Make sure you bind the event to the document and not to the element itself!</p>\n\n<p>Code example:</p>\n\n<pre><code>$(document).on('click', 'div.messages', function () {\n    console.log('click on div.messages');\n    return false;\n});\n</code></pre>\n\n<p>Put this code into document.ready for example.</p>\n\n<p>This works even if div.messages is changed or created inside an UpdatePanel. And it is never fired twice or more times at once.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can I rebind my events (jquery) when I perform a partial page postback?</p>\n\n<p>I am wiring everything up using:</p>\n\n<pre><code>$(document).ready(function(){};\n</code></pre>\n\n<p>After a partial page postback, my events are not firing.</p>\n",
            "last_activity_date": 1422034995,
            "question_id": 760833,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "binding",
                "postback"
            ],
            "title": "jquery needs to rebind events on partial page postback"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Use this:</p>\n\n<pre><code>            try {\n                Editor.execCommand(\"styleWithCSS\", 0, false);\n            } catch (e) {\n                try {\n                    Editor.execCommand(\"useCSS\", 0, true);\n                } catch (e) {\n                    try {\n                        Editor.execCommand('styleWithCSS', false, false);\n                    }\n                    catch (e) {\n                    }\n                }\n            }\n</code></pre>\n\n<p>Before any other execCommands.\nTested on ff3 ie7 ie8 safari chrome</p>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<p>I'm building a custom RTE that converts user input to a homebrewn markup, now idiot that I am I did this using an iframe with designMode = \"On\" and got it to work in firefox using styleWithCSS = false so that I could easily convert the <code>&lt;b&gt;</code> (yes... b :( ) into my markup which would then output the proper code instead of me having to read from <code>&lt;span style=\"...</code> now my problem is, I cant seem to find something that looks or acts like styleWithCSS = false for IE, Chrome or Opera, any suggestions are welcome.</p>\n",
            "last_activity_date": 1272201511,
            "question_id": 536132,
            "score": 6,
            "tags": [
                "javascript",
                "internet-explorer",
                "wysiwyg",
                "rte"
            ],
            "title": "styleWithCSS for IE"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You can use Comet programming techniques in PHP.  I think a good place to start is this <a href=\"http://www.zeitoun.net/articles/comet_and_php/start\">post</a>, describing how to implement Comet in PHP.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I come from more of a Java background.  In the last year or two, it's become somewhat popular to do <a href=\"http://en.wikipedia.org/wiki/Push_technology\" rel=\"nofollow\">server push</a> over HTTP using <a href=\"http://blogs.oracle.com/andi/entry/comet_basics\" rel=\"nofollow\">long-lived HTTP connections in Comet</a>.  It's an extremely useful technique.</p>\n\n<p>So I'm curious what the equivalent is with Apache + PHP + Javascript?  One option I see is just using straight AJAX calls (eg with jQuery) but I don't really know how Apache handles them or how I can implement such a thing on the serverside with PHP.  Any ideas?  Any good resources on this kind of thing?</p>\n",
            "last_activity_date": 1343677775,
            "question_id": 399366,
            "score": 6,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "ajax",
                "apache"
            ],
            "title": "Long-lived connections (asynchronous server push) with Apache/PHP/Javascript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You'll need to embed it as a javascript array declaration into the page.  There are a number of ways to do this, but it generally means turning the array into text that you write to the page, probably using the ClientScriptManager.</p>\n\n<p>I'm hoping for better javascript integration in a upcoming verison of ASP.Net.  Moving the <em>value</em> of a server variable &mdash;any server variable&mdash; to the client ought to be supported with a simple, one-line function call.  Not the back-flips we need right now.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>Convert it to string representation of a javascript array (\"['val1','val2','val3']\") and shove it into the value field of a hidden input. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Another way would be to use the RegisterArrayDeclaration method of the Page object (deprecated) or in the ClientScriptManager class. See <a href=\"http://msdn.microsoft.com/en-us/library/system.web.ui.clientscriptmanager.registerarraydeclaration.aspx\" rel=\"nofollow\">MSDN</a> for details.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Easiest way is to convert it to json. Then just put it at the top of the page in a variable. I've found this the best json implementation for .net: <a href=\"http://litjson.sourceforge.net/\" rel=\"nofollow\">http://litjson.sourceforge.net/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The way I do it is like this:</p>\n\n<p><strong>aspx:</strong></p>\n\n<pre><code>    private string buttonarray =  \"'but1','but2','but3','but4'\";\n\n    public string Buttonarray\n    {\n        get { return buttonarray; }\n    }\n</code></pre>\n\n<p><strong>javascript</strong></p>\n\n<pre><code>var buttonarray = new Array(&lt;%=Buttonarray%&gt;);\n</code></pre>\n\n<p>I hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How do I pass an array I have created on the server side onto the client side for manipulation by Javascript?</p>\n\n<p>Any pseudo code will help</p>\n",
            "last_activity_date": 1378285065,
            "question_id": 331146,
            "score": 6,
            "tags": [
                "asp.net",
                "javascript"
            ],
            "title": "How to pass array from Asp.net server side to Javascript function on client side"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I tried the <a href=\"http://sourceforge.net/projects/zupload/\" rel=\"nofollow\">ZUpload</a> Java applet.</p>\n\n<p>Pro's:</p>\n\n<ul>\n<li>The user interface works as easy as I could hope it to work.</li>\n<li>It is a Java applet with it's own GUI, but I was able to implement some Javascript callbacks in it to update progress information in HTML. I would be able to minimize the GUI further.</li>\n</ul>\n\n<p>Con's:</p>\n\n<ul>\n<li>When an upload failes (when the FTP server tells it it is to busy, please retry in a moment) it thinks the upload succeeded and goes on with the next file. I tried to catch the exceptions but was unable to do so because of either the way j-ftp is used in the applet or my own lack of knowledge.</li>\n<li>The project seems to be dead since 2003, so I don't expect any updates.</li>\n</ul>\n\n<p>So my conclusion it that it is not ready to be used in a production environment. I still need a better solution.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Technically, any swing app would work with only small modifications if you have access to the code. If your ready to offer an applet, maybe you could even use java web start (would require even less changes).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is exactly what <a href=\"http://www.enterprisedt.com/products/integralftp/overview.html\" rel=\"nofollow\">IntegralFTP</a> is - a Java applet wrapped by Javascript. The GUI is all implemented in Javascript, and so you can change it how you like. </p>\n\n<p>It supports SFTP, FTP and FTPS.</p>\n\n<p>You can use IntegralFTP from <a href=\"http://www.integralftp.com\" rel=\"nofollow\">http://www.integralftp.com</a>, or purchase from <a href=\"http://www.enterprisedt.com/products/integralftp/purchase.html\" rel=\"nofollow\">here</a>.</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>What about this one (seems to be opensource)?\n<a href=\"http://jupload.sourceforge.net/applet-basic-picture.html\" rel=\"nofollow\">http://jupload.sourceforge.net/applet-basic-picture.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>To be able to upload large files from a HTML page to a FTP server, I am looking for a Java/Flash FTP upload applet.</p>\n\n<p>I really like the way <a href=\"http://www.dhtmlx.com/docs/products/dhtmlxVault/index.shtml\">dhtmlxVault</a> works, but I need it to upload to a FTP server instead of a HTTP file upload.</p>\n\n<p>It would be really nice if the applet has no GUI of it's own, but instead is fully scriptable using Javascript so I can use HTML/CSS for it's appearance.</p>\n\n<p>I hopefully looked into <a href=\"http://developer.yahoo.com/yui/uploader/\">Yahoo!'s YUI Uploader</a> since it requires Flash, but the documentation only mentions HTTP upload and no FTP upload.</p>\n",
            "last_activity_date": 1364798497,
            "question_id": 285237,
            "score": 6,
            "tags": [
                "java",
                "javascript",
                "flash",
                "ftp",
                "applet"
            ],
            "title": "Does a Javascriptable FTP Upload Java/Flash Applet exist?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I don't think there is any way of detecting this without attempting to open a window, as popup blockers don't add anything that can be interrogated in JS.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Read <a href=\"http://www.visitor-stats.com/articles/detect-popup-blocker.php\" rel=\"nofollow\">Detect a popup blocker using Javascript</a>:</p>\n\n<p>Basically you check if the 'window.open' method returns a handler to a newly opened window.</p>\n\n<p>Looks like this:</p>\n\n<pre><code>&lt;script type=\"text/JavaScript\" language=\"JavaScript\"&gt;\n var mine = window.open('','','width=1,height=1,left=0,top=0,scrollbars=no');\n if(mine)\n    var popUpsBlocked = false\n else\n    var popUpsBlocked = true\n mine.close()\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>As others have commented, the only way to find out for sure is to try it.</p>\n\n<p>However, a good approximate answer to the question \u201cis a popup-blocker installed\u201d is, these days, \u201cyes\u201d. All recent browsers will block your pop-ups by default, so you'd better design your app to cope gracefully with this. Namely, don't try to window.open except in reaction to a user interaction (typically onclick), and you'll be fine.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Popups that are opened in response to an action by a user&mdash;such as clicking a link&mdash;shouldn't be blocked by popup blockers.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As others have said, you'll have to suck it and see, but checking for the resulting window object being non-\"falsy\" isn't sufficient for all browsers.</p>\n\n<p>Opera still returns a <code>Window</code> object when a popup is blocked, so you have to examine the object sufficiently to determine if it's a real window:</p>\n\n<pre><code>var popup = window.open(/* ... */);\nvar popupBlocked = (!popup || typeof popup.document.getElementById == \"undefined\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Is there a good way to determine if a person has a popup blocker enabled? I need to maintain a web application that unfortunately has tons of popups throughout it and I need to check if the user has popup blockers enabled.</p>\n\n<p>The only way I've found to do this is to open a window from javascript, check to see if it's open to determine if a blocker is enabled and then close it right away.</p>\n\n<p>This is slightly annoying since users who do not have it enabled see a small flash on the screen as the window opens and closes right away.</p>\n\n<p>Are there any other non-obtrusive methods for accomplishing this?</p>\n",
            "last_activity_date": 1421414266,
            "question_id": 250216,
            "score": 6,
            "tags": [
                "javascript",
                "browser",
                "popup"
            ],
            "title": "Popup detection before user logs in"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The library is probably telling the true. The problem is not that the readings are incorect but that the acutal display is incorect. As an example try:</p>\n\n<pre><code>&lt;div id=\"mydiv\" style=\"width: 100px; border-left: 100px black solid;\"&gt;&amp;nbsp;&lt;/div&gt;\n</code></pre>\n\n<p>then try to change the text inside the div to see what is happening. IE will display various values depending on the text inside while FF will display correctly. IE is trying to fill an 100px + something into a 100px space with various results.</p>\n\n<p>jQuery has two methods for width: .width and .outerWidth. .outerWidth will return the full width of the element. It also has the possiblity to get all the other properties (padding, border etc) like in the example bellow:</p>\n\n<pre><code>$(document).ready(function() {\n    alert(\"width=\" + $('#mydiv').width() \n    + \" outerWidth=\" + $('#mydiv').outerWidth() \n    + \" borderLeftWidth=\" + $('#mydiv').css(\"borderLeftWidth\"))\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>javascript:(function(){\n    var mode=document.compatmode,m;if(mode){\n    \tif(mode=='BackCompat')m='quirks';\n    \telse if(mode=='CSS1Compat')m='Standard';\n    \telse m='Almost Standard';\n    \talert('The page is rendering in '+m+' mode.');\n    }\n})();\n</code></pre>\n\n<p>that code will detect the mode for you.</p>\n\n<p>IE will also throw into quirks mode if ANYTHING but doctype is on the first line. Even a blank first line with doctype on the second line will cause quirks mode.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>@1</p>\n\n<pre><code>document.compatMode\n</code></pre>\n\n<p>\"CSS1Compat\" means \"<em>standards mode</em>\" and \"BackCompat\" means \"<em>quirks mode</em>\".</p>\n\n<p>@2</p>\n\n<p>offsetWidth property of a HTML elements gives its width on screen, in pixels.</p>\n\n<pre><code>&lt;div id=\"mydiv\" style=\"width: 250px; padding-left: 1px; border: 2px black solid\"&gt;hello&lt;/div&gt;\n\ndocument.getElementById('mydiv').offsetWidth\n//255 (standards) 250 (quirks)\n</code></pre>\n\n<p>A function that compensates the width for IE quirksmode has to check for the rendering mode then add borders and padding to the width;</p>\n\n<pre><code>function compensateWidth( el, targetWidth ){\n\n    var removeUnit = function( str ){\n    \tif( str.indexOf('px') ){\n    \t\treturn str.replace('px','') * 1;\n    \t}\n    \telse { //because won't work for other units... one may wish to implement \n    \t\treturn 0;\n    \t}\n    }\n    if(document.compatMode &amp;&amp; document.compatMode==\"BackCompat\"){\n    \tif(targetWidth &amp;&amp; el.offsetWidth &lt; targetWidth){\n    \t\tel.style.width = targetWidth;\n    \t}\n    \telse if (el.currentStyle){\n    \t\tvar borders = removeUnit(el.currentStyle['borderLeftWidth']) + removeUnit(el.currentStyle['borderRightWidth']);\n    \t\tvar paddings = removeUnit(el.currentStyle['paddingLeft']) + removeUnit(el.currentStyle['paddingRight']);\n    \t\tel.style.width = el.offsetWidth + borders + paddings +'px';\n    \t}\n    }\n\n}\n</code></pre>\n\n<p>Now there are two ways to use it:</p>\n\n<pre><code>var div = document.getElementById('mydiv')\n// will try to calculate target width, but won't be able to work with units other than px\ncompensateWidth( div );\n\n//if you know what the width should be in standards mode\ncompensateWidth( div, 254 );\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I've been scanning through all the popular js libraries, but I can't find one that has a width function for a DOM element that actually accounts for quirks mode in Internet Explorer. The issue is that padding and borders don't get counted in the the width when quirks mode is engaged. As far as I can tell this happens when the doctype is left out or the doctype is set to html 3.2.</p>\n\n<p>Obviously I could just set the doctype to something standards compliant, but this script can be embedded anywhere so I don't have control over the doctype.</p>\n\n<p>To break the problem down into smaller parts:</p>\n\n<p>1) How do you detect quirks mode?\n2) What's the best way to extract the border and padding from an element to compensate?</p>\n\n<p>Example with prototype:</p>\n\n<pre><code>&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;\n\n&lt;div id=\"mydiv\" style=\"width: 250px; pading-left: 1px; border: 2px black solid\"&gt;hello&lt;/div&gt;\n\n&lt;script&gt;\nalert($('mydiv').getWidth())\n&lt;/script&gt;\n\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>result:</p>\n\n<p>253 (ff)\n250 (ie)</p>\n\n<p>Thanks in advance!</p>\n",
            "last_activity_date": 1224596085,
            "question_id": 221307,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "css"
            ],
            "title": "Width of an element accounting for quirks mode in javascript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Personally, I like to take things in steps, so I would start by using both, like this:</p>\n\n<pre><code>jQuery.noConflict();\n\n// Put all your code in your document ready area\njQuery(document).ready(function($){\n  // Do jQuery stuff using $\n  $(\"div\").hide();\n});\n\n// Use Prototype with $(...), etc.\n$('someid').hide();\n</code></pre>\n\n<p>That way you don't have to convert all your old code at once, but can start using jquery on new stuff, and migrate your old Prototype code when ever it's convenient. I don't know the size of your project, so I can't say whether or not this applies to you, but Spolsky had a great article about \"The big rewrite\" and why it's such a bad idea in <a href=\"http://www.joelonsoftware.com/articles/fog0000000069.html\" rel=\"nofollow\">Things you should never do, Part 1</a>. It's well worth a read!</p>\n\n<p>For more on using jquery with Prototype, see <a href=\"http://docs.jquery.com/Using_jQuery_with_Other_Libraries\" rel=\"nofollow\">Using jQuery with other libraries</a> in the jquery docs.</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I have written a site in Prototype but want to switch to jQuery. Any ideas on how best make the switch?</p>\n",
            "last_activity_date": 1325110436,
            "question_id": 53555,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "prototypejs"
            ],
            "title": "How would you go about for switching a site from Prototype to jQuery"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Right now, protractor can only accept promise as capabilities if we are NOT using multicapabilities. The reason for this is because multiCapabilities runs each task in a new process, so the promise (function) cannot be passed (single capabilities work because we're not forking). </p>\n\n<p>Alternatively we could resolve capabilities in the launcher, before passing the resolved capabilities into the new processes; however, this will break the ability to set up proxies (<a href=\"https://github.com/angular/protractor/pull/1040\" rel=\"nofollow\">https://github.com/angular/protractor/pull/1040</a>), which relies on capability promises to be resolved after driverProvider setup.</p>\n\n<p>I can't think of an easy way of doing this (without large refactoring), but it is definitely doable. \nI created an issue for Protractor (<a href=\"https://github.com/angular/protractor/issues/1594\" rel=\"nofollow\">https://github.com/angular/protractor/issues/1594</a>). Please follow that and/or comment on it if this is something you need or you have other ideas to implement it.</p>\n\n<p>For now you would need to use the workaround you mentioned in your original question. </p>\n\n<p><strong>UPDATE</strong> </p>\n\n<p><a href=\"https://github.com/angular/protractor/pull/1629\" rel=\"nofollow\">https://github.com/angular/protractor/pull/1629</a> supports this. Starting in protractor 1.6 (or if you sync to master) you can pass in a function to <code>config.getMultiCapabilities</code> like <code>onPrepare</code> and <code>onCleanup</code>. This function can return a promise to <code>multiCapabilties</code> (i.e. array of <code>capabilities</code>). </p>\n\n<p>See <a href=\"https://github.com/angular/protractor/blob/master/spec/getCapabilitiesConf.js\" rel=\"nofollow\">https://github.com/angular/protractor/blob/master/spec/getCapabilitiesConf.js</a> for an example.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Following the <a href=\"https://github.com/angular/protractor/pull/1629\" rel=\"nofollow\">pull request</a> sent by @hankduan, here is how have I used <a href=\"https://github.com/angular/protractor/blob/master/spec/getCapabilitiesConf.js\" rel=\"nofollow\"><code>getMultiCapabilities()</code></a> to combine different capabilities where one of them is a promise (needed for <code>firefox-profile</code> to be set):</p>\n\n<pre><code>\"use strict\";\n\nvar FirefoxProfile = require(\"firefox-profile\");\nvar q = require(\"q\");\n\nexports.config = {\n    seleniumAddress: \"http://127.0.0.1:4444/wd/hub\",\n\n    getMultiCapabilities: function() {\n        var deferred = q.defer();\n\n        var multiCapabilities = [\n            {\n                browserName: \"chrome\",\n                specs: [\n                    \"footer.disabledCookies.spec.js\"\n                ],\n                chromeOptions: {\n                    prefs: {\n                        \"profile.default_content_settings.cookies\": 2\n                    }\n                }\n            },\n            {\n                browserName: \"chrome\",\n                specs: [\n                    \"*.spec.js\"\n                ],\n                exclude: [\n                    \"footer.disabledCookies.spec.js\",\n                    \"footer.disabledJavascript.spec.js\",\n                    \"footer.disabledFlash.spec.js\"\n                ]\n            },\n            {\n                browserName: \"chrome\",\n                specs: [\n                    \"footer.disabledFlash.spec.js\"\n                ],\n                chromeOptions: {\n                    args: [\n                        \"--disable-internal-flash\",\n                        \"--disable-bundled-ppapi-flash\",\n                        \"--disable-plugins-discovery\"\n                    ]\n                }\n            }\n        ];\n\n        // Wait for a server to be ready or get capabilities asynchronously.\n        setTimeout(function() {\n            var firefoxProfile = new FirefoxProfile();\n            firefoxProfile.setPreference(\"javascript.enabled\", false);\n            firefoxProfile.encoded(function (encodedProfile) {\n                var capabilities = {\n                    \"browserName\": \"firefox\",\n                    \"firefox_profile\": encodedProfile,\n                    \"specs\": [\n                        \"footer.disabledJavascript.spec.js\"\n                    ]\n                };\n                multiCapabilities.push(capabilities);\n                deferred.resolve(multiCapabilities);\n            });\n        }, 1000);\n\n        return deferred.promise;\n    },\n\n    ...\n\n};\n</code></pre>\n\n<p>Hope this would help somebody in the future.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>This is a follow-up to the <a href=\"http://stackoverflow.com/questions/25873378/set-firefox-profile-with-protractor\">Set firefox profile with protractor</a> topic. </p>\n\n<p>According to the <a href=\"https://github.com/juliemr/protractor-demo/tree/master/howtos/setFirefoxProfile\" rel=\"nofollow\"><code>setFirefoxProfile</code></a> howto, it is possible to set a firefox profile with a special <a href=\"https://github.com/juliemr/protractor-demo/blob/master/howtos/setFirefoxProfile/helper.js\" rel=\"nofollow\">\"helper\" js code</a> which uses <a href=\"https://www.npmjs.org/package/firefox-profile\" rel=\"nofollow\"><code>firefox-profile</code></a> and <a href=\"https://www.npmjs.org/package/q\" rel=\"nofollow\"><code>q</code></a> libraries to make an encoded firefox profile on the fly.</p>\n\n<p>This worked for me until I've tried to <em>use multiple browsers and configuring <a href=\"https://github.com/angular/protractor/blob/master/docs/browser-setup.md#testing-against-multiple-browsers\" rel=\"nofollow\"><code>multiCapabilities</code></a></em>:</p>\n\n<pre><code>exports.config = {\n    seleniumAddress: 'http://localhost:4444/wd/hub',\n\n    multiCapabilities: [\n        {\n            browserName: 'chrome',\n            specs: [\n                'footer.disabledCookies.spec.js'\n            ],\n            chromeOptions: {\n                prefs: {\n                    'profile.default_content_settings.cookies': 2\n                }\n            }\n        },\n\n        ...\n        // other capabilities here\n        ...\n\n        helper.getFirefoxProfile()    \n     },\n\n     ...\n}\n</code></pre>\n\n<p>With this setup I'm getting an error (full traceback <a href=\"https://gist.github.com/alecxe/db7d1d8f03cb66224998\" rel=\"nofollow\">here</a>):</p>\n\n<blockquote>\n  <p>Spec patterns did not match any files.</p>\n</blockquote>\n\n<p>As I understand, this means that the setup with firefox profile is missing <code>specs</code> key. In other words, it cannot find any tests to run.</p>\n\n<p>I've tried to <a href=\"https://gist.github.com/alecxe/5d6763c1e55a8a4c5747\" rel=\"nofollow\">include <code>specs</code> into the <code>capabilities</code> dictionary inside the helper itself</a>, but the error persists.</p>\n\n<p>How to fix the error and set firefox profile if using <code>multiCapabilities</code>? </p>\n\n<hr>\n\n<p><sup>As a workaround, I've created a separate protractor configuration file with only firefox configured (using <code>capabilities</code>) and set <code>grunt</code> to run protractor twice - one for this \"firefox with a profile\" config and the other one for all other browsers.</sup></p>\n",
            "last_activity_date": 1419116504,
            "question_id": 27264146,
            "score": 5,
            "tags": [
                "javascript",
                "angularjs",
                "firefox",
                "selenium",
                "protractor"
            ],
            "title": "Configuring multiple capabilities with promises"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The issue is that you are running this code from a module, wherein <code>var y = global;</code> actually defines <code>y</code> in <em>module scope</em>, not global scope.</p>\n\n<blockquote>\n  <p>In browsers, the top-level scope is the global scope. That means that\n  in browsers if you're in the global scope var something will define a\n  global variable. In Node this is different. The top-level scope is not\n  the global scope; var something inside a Node module will be local to\n  that module.</p>\n</blockquote>\n\n<p><a href=\"http://nodejs.org/api/globals.html#globals_global\" rel=\"nofollow\">http://nodejs.org/api/globals.html#globals_global</a></p>\n\n<p>So, two possible ways to get this to work in Node are:</p>\n\n<ol>\n<li>Run it as is in the node <a href=\"http://nodejs.org/api/repl.html\" rel=\"nofollow\">REPL</a></li>\n<li>Run it in a module, but replace <code>var y = global;</code> with just <code>y = global;</code></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I am trying to learn JavaScript from the Rhino book. I was trying to execute the following code from the book with regards to <code>eval()</code>. I am using node.js (v0.10.29) to execute the examples.</p>\n\n<pre><code>var geval = eval;                  // aliasing eval to geval\nvar x = 'global';                  // two global variables\nvar y = 'global';\n\nfunction f () {\n  var x = 'local';                 // define a local variable\n  eval('x += \"changed\";');         // direct eval sets the local variable\n  return x;\n}\n\nfunction g () {\n  var y = 'local';                 // define a local variable\n  geval('y += \"changed\";');        // indirect eval sets global variable\n  return y;\n}\n\nconsole.log(f(), x);               // =&gt; expected 'localchanged global'\nconsole.log(g(), y);               // =&gt; expected 'local globalchanged'\n</code></pre>\n\n<p>However, I get an <code>ReferenceError</code> inside the <code>g()</code> function when there is an attempt to use the <code>geval()</code> alias:</p>\n\n<pre><code>undefined:1\ny += \"changed\";\n^\nReferenceError: y is not defined\n    at eval (eval at g (/Users/codematix/Learning/learnjs/expressions.js:148:3), &lt;anonymous&gt;:1:1)\n    at eval (native)\n    at g (/Users/codematix/Learning/learnjs/expressions.js:148:3)\n    at Object.&lt;anonymous&gt; (/Users/codematix/Learning/learnjs/expressions.js:153:3)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Function.Module.runMain (module.js:497:10)\n    at startup (node.js:119:16) \n</code></pre>\n\n<p>From what I understand, when I alias <code>eval()</code> as <code>geval()</code>, the code in string passed is evaluated in global-scope as per ES5. However, I am running into the <code>ReferenceError</code> and unable to understand why.</p>\n\n<p>Although I would not consider <code>eval()</code> to be a critical feature, I definitely would like to understand why I am encountering this behavior.</p>\n\n<p>P.S. When I attempt to execute the same code in Google Chrome, it seems to work like a charm! Strange!</p>\n",
            "last_activity_date": 1404282217,
            "question_id": 24522719,
            "score": 5,
            "tags": [
                "javascript",
                "node.js",
                "scope",
                "eval",
                "ecmascript-5"
            ],
            "title": "Node.js Global eval, throwing ReferenceError"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can't sanitize client side. Anyone could always turn off JavaScript or change the values and submit them to your server. </p>\n\n<p>The server <em>needs</em> to double check that. Client side in my mind is really just a usability feature. So they know as they type whether they are wrong or right.</p>\n\n<p><em>In response to the edit:</em></p>\n\n<p>Most of them are convenience or provide functionality. For example <a href=\"http://bradwilson.typepad.com/blog/2010/10/mvc3-unobtrusive-validation.html\" rel=\"nofollow\">unobtrusive validation</a> will make my text boxes red if they put in an invalid number. That is nice, and I didn't need to post and check and then change the text box border blablablabla...</p>\n\n<p>But when they do post I still need to validate their data. I usually keep that in a core library which could be shared across applications (web, web service, mobile app, thick client etc)</p>\n\n<p>The usability validation varies platform to platform. But at the core, before any application trusts the data, it has to check it within its trust barrier. No one can change the value behind my <code>if</code> on the server, but anyone can change the value in their browser without tripping my JS. </p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Pagedown can run on the server as well as the client.</p>\n\n<p>For sanitizing html on the client, it makes more sense to sanitize on output rather than input. You wouldn't sanitize before <em>sending</em> data to a server, but you might sanitize after <em>recieving</em> data from a server.</p>\n\n<p>Imagine making a web-service call on the client and obtaining data from a third-party service. It could be passed through a sanitizer on the client before being rendered. The user could disable the sanitization on their own computer, but they're only hurting themselves.</p>\n\n<p>It's also useful outside of security reasons just to prevent user input accidentally modifying the formatting of the surrounding page. Such as when typing a html post with a real-time preview (like on StackOverflow).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>Not at all safe.</strong></p>\n\n<p>Client side sanitation/validation should be used for few reasons:</p>\n\n<ul>\n<li>easier and faster way to tell the non-malicious user what he did wrong</li>\n<li>decrease the number of times non-malicious user communicate with your server (in case of errors)</li>\n</ul>\n\n<p>Everything that you validate can be changed because the client is not controlled by you. Things like dev console, <a href=\"http://www.telerik.com/fiddler\" rel=\"nofollow\">fiddler</a>, wireshark allows you to manipulate the data in basically any way you want.</p>\n\n<p><strong>So only server is responsible for real sanitation/validation.</strong></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I believe there is a little misunderstanding about the purpose and nature of such \"sanitizers\".</p>\n\n<p>The purpose of a sanitizer (e.g. Angular's <code>ngSanitize</code>) is <strong>not</strong> to prevent \"bad\" data from being sent to the server-side. It is rather the other way around: A sanitizer is there to <strong>protect</strong> the non-malicious user from malicious data (being either a result of a security hole on the server side (yeah, no setup is perfect) or being fetched from other sources (ones that you are not in control of)).</p>\n\n<p>Of course, being a client-side feature, a sanitizer could be bypassed, but (since the sanitizer is there to protect the user (not the server)) bypassing it would only leave the bypasser unprotected (which you can't do anything about, nor shouldn't you care - it's their choice).</p>\n\n<p>Furthermore, sanitizers (can) have another (potentially more important) role: A sanitizer is a tool that helps the developer to better organize their code in a way that it is more easily testable for certain kinds of vulnerabilities (e.g. XSS attacks) and even helps in the actual code auditing for such kind of security holes.</p>\n\n<p>In my opinion, the <strong><a href=\"https://docs.angularjs.org/api/ng/service/%24sce\">Angular docs</a></strong> summarize the concept pretty neatly:</p>\n\n<blockquote>\n  <p>Strict Contextual Escaping (SCE) is a mode in which AngularJS requires bindings in certain contexts to result in a value that is marked as safe to use for that context.<br>\n  [...]<br>\n  SCE assists in writing code in way that (a) <strong>is secure by default</strong> and (b) makes <strong>auditing</strong> for security vulnerabilities such as XSS, clickjacking, etc. <strong>a lot easier</strong>.</p>\n  \n  <p>[...]<br>\n  In a more realistic example, one may be rendering user comments, blog articles, etc. via bindings. (HTML is just one example of a context where rendering user controlled input creates security vulnerabilities.)</p>\n  \n  <p>For the case of HTML, you might use a library, either on the client side, or on the server side, to sanitize unsafe HTML before binding to the value and rendering it in the document.</p>\n  \n  <p>How would you ensure that every place that used these types of bindings was bound to a value that was sanitized by your library (or returned as safe for rendering by your server?) How can you ensure that you didn't accidentally <strong>delete the line that sanitized</strong> the value, or <strong>renamed some properties/fields</strong> and forgot to update the binding to the sanitized value?</p>\n  \n  <p>To be secure by default, you want to ensure that any such bindings are disallowed unless you can determine that <strong>something explicitly says it's safe</strong> to use a value for binding in that context. You can then <strong>audit your code</strong> (a simple grep would do) to ensure that this is only done for those values that you can easily tell are safe - because they were received from your server, sanitized by your library, etc. You can <strong>organize your codebase to help with this</strong> - perhaps allowing only the files in a specific directory to do this. Ensuring that the internal API exposed by that code doesn't markup arbitrary values as safe then becomes <strong>a more manageable task</strong>.</p>\n</blockquote>\n\n<p><sub>\n<strong>Note 1:</strong> Emphasis is mine.<br>\n<strong>Note 2:</strong> Sorry for the lengthy quote, but I consider this to be a very improtant (as much as sensitive) matter and one that is too often misunderstood.\n</sub></p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I have been looking at Pagedown.js lately for the allure of using mark-down on my pages instead of ugly readonly textareas.</p>\n\n<p>I am extremely cautious though as it seems easy enough to dupe the sanitized converter.  I have seen some discussion around Angular.js and it's html bindings and also heard something when Knockout.js 3.0 came out that there had been a previous unsafeness to the html binding.</p>\n\n<p>It would seem all someone would need to do to disable the sanitizer in Pagedown.js for instance is something like -</p>\n\n<pre><code>var safeConverter = new Markdown.Converter();\n// safeConverter is open to script injection\n\nsafeConverter = Markdown.getSanitizingConverter();\n// safeConverter is now safe\n\n// Override the getSanitizingConverter pseudo-code\nMarkdown.getSanitizingConverter = function () {\n    return Markdown.Converter;\n};\n</code></pre>\n\n<p>and they could open a site up to script injection.  Is that not true?  </p>\n\n<p><strong>Edit</strong> </p>\n\n<p>Then why would libraries like that package a sanitizer to use client-side?  Sure they say don't render unsanitized html but the next line says use Markdown.Sanitizer..</p>\n\n<p>How is Angular not open to it with the sanitizer service or is that just a farce as well?</p>\n",
            "last_activity_date": 1400888763,
            "question_id": 23839173,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "angularjs",
                "knockout.js",
                "javascript-injection"
            ],
            "title": "How safe is client-side HTML Sanitization?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>This behaviour could come if you use implicit injection, instead of explicit declaring your dependencies. In my experience I faced this kind of problem with particular kind of Angular.js services that return instantiable class (for example to create abstract controller Classes or some other particular cases).</p>\n\n<p>For example: <a href=\"https://github.com/williamverdolini/discitur-web/blob/master/app/modules/main/DisciturBaseCtrl.js#L53\" rel=\"nofollow\">AbstractBaseControllerClass</a></p>\n\n<p>During minification I had the same problem. I solved using internal declaration of dependency injection.\nHope this helps</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Finally I've found the problem. And yes, it's a DI bug which I missed.</p>\n\n<p>To all who may be suffering from the same headache: array-format declaration must be done in <code>$routeProvider</code>'s <code>resolve</code> options as well. In my case (CoffeeScript ahead):</p>\n\n<pre><code>app.config (['$routeProvider', ($routeProvider) -&gt;\n  $routeProvider\n    .when '/',\n      templateUrl: 'views/main.html'\n      controller: 'MainCtrl'\n      resolve: \n        groups: ['GroupService', (GroupService) -&gt;  # I MISSED THIS\n          return GroupService.getAll()\n        ]\n        entries: ['EntryService', (EntryService) -&gt;  # AND THIS\n          return EntryService.getAll()\n        ]\n    # ...\n])\n</code></pre>\n\n<p>Hope this helps!</p>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>OK I'm officially bald now, after having been streching my hair out with this infamous problem: The minfied AngularJS app just doesn't work, with this error thown out:</p>\n\n<pre><code>Error: [$injector:unpr] Unknown provider: aProvider &lt;- a\nhttp://errors.angularjs.org/1.2.6/$injector/unpr?p0=aProvider%20%3C-%20a\n    at http://localhost/my-app/dist/scripts/1bde0e2e.vendor.js:4:11492\n    at http://localhost/my-app/dist/scripts/1bde0e2e.vendor.js:4:26946\n    at Object.c [as get] (http://localhost/my-app/dist/scripts/1bde0e2e.vendor.js:4:26250)\n    at http://localhost/my-app/dist/scripts/1bde0e2e.vendor.js:4:27041\n    at c (http://localhost/my-app/dist/scripts/1bde0e2e.vendor.js:4:26250)\n    at Object.d [as invoke] (http://localhost/my-app/dist/scripts/1bde0e2e.vendor.js:4:26496)\n    at http://localhost/my-app/dist/scripts/1bde0e2e.vendor.js:9:910\n    at Object.f [as forEach] (http://localhost/my-app/dist/scripts/1bde0e2e.vendor.js:4:11927)\n    at http://localhost/my-app/dist/scripts/1bde0e2e.vendor.js:9:856\n    at j (http://localhost/my-app/dist/scripts/1bde0e2e.vendor.js:5:27235) \n</code></pre>\n\n<p>Lots of other people had this problem as well, but looks like it could be fixed by declaring dependencies as an array instead of bare function parameters, like this:</p>\n\n<pre><code>angular.module('my-app').controller('LoginCtrl', [ '$scope', 'HttpService', function($scope, HttpService) { ... }]);\n</code></pre>\n\n<p>instead of this:</p>\n\n<pre><code>angular.module('my-app').controller('LoginCtrl', function($scope, HttpService) { ... });\n</code></pre>\n\n<p>But it doesn't work in my case. I checked all of my scripts (coffee and generated javascripts as well), they all use the proper array-style declaration.</p>\n\n<p>The problem doesn't come from extra packages apparently. I tried moving all extra package references out of <code>&lt;!-- bower:js --&gt;</code> block (so that they are not minified by grunt), yet the problem still remains. Which means, it's my code to blame... But then again, I've tried the (seems to be) only fix available, to no avail.</p>\n\n<p>Any hint, even on how to properly debug this? </p>\n\n<p>Thanks in advance!</p>\n",
            "last_activity_date": 1404682839,
            "question_id": 23130500,
            "score": 5,
            "tags": [
                "javascript",
                "angularjs",
                "coffeescript",
                "gruntjs"
            ],
            "title": "AngularJS Error: Unknown provider: aProvider &lt;- a"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I believe the order is something like this:</p>\n\n<ol>\n<li>Download HTML document</li>\n<li>Start <strong>HTML</strong> Parsing</li>\n<li>Start downloading external files (JavaScript, CSS, images) as they're encountered in the HTML</li>\n<li>Parse external files once they are downloaded (or if they are inline and don't require downloading)\n<ul>\n<li>if the files are <strong>scripts</strong>, then run them in the order they appear in the HTML\n<ul>\n<li>if they try to access the DOM right now, they will throw an error</li>\n<li>while they run, they will prevent any other rendering, which is why some scripts are put at the bottom of the body</li>\n</ul></li>\n<li>for <strong>CSS</strong> files, save the style rules in order they appear in the HTML</li>\n<li>if they're <strong>images</strong> then display them</li>\n<li>if the loading fails, then proceed without this file</li>\n</ul></li>\n<li>End HTML Parsing</li>\n<li>Create the <strong>DOM</strong> - including all the styles we have so far</li>\n<li>Execute the <strong>DOMContentLoaded</strong> event when the DOM is fully constructed and scripts are loaded and run\n<ul>\n<li>happens even if all other external files (images, css) are not done downloading (from step 4)</li>\n<li>in the Chrome F12 developer tools this is represented by a blue line on the Network view</li>\n<li>will start running anything you've added to this event, e.g. <code>window.addEventListener(\"DOMContentLoaded\", doStuff, true);</code></li>\n</ul></li>\n<li>Start painting the document to the display window (with any styles that have already loaded)</li>\n<li>Execute the <strong>window.onload</strong> event when <em>all</em> external files have loaded\n<ul>\n<li>in the Chrome F12 developer tools this is represented by a red line on the Network view</li>\n<li>this will start running the jQuery <strong>ready</strong> function <code>$(document).ready(function(){ ... });</code></li>\n<li>will start running any code you've added to this event, e.g. <code>window.addEventListener(\"load\", doStuff, true);</code></li>\n</ul></li>\n<li>Re-paint the document, including any new images and styles</li>\n</ol>\n\n<p>Note that the execution order of scripts that are dynamically added to your page (by other scripts) is complicated and basically indeterminate. (See the answers here <a href=\"http://stackoverflow.com/questions/8996852/load-and-execute-order-of-scripts\">load and execute order of scripts</a>)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I found this nice <a href=\"http://www.kirupa.com/html5/running_scripts_after_your_content_has_loaded.htm\">post at kirupa.com</a>, but I'd like to understand in deep the order of load, rendering and execution of elements like DOM, Scripts, CSS, Images, IFrames, etc.</p>\n\n<p>Until now I have understood the next order:</p>\n\n<ol>\n<li>DOM</li>\n<li>JS (I am guessing does not matter JS is inline or external, if it is external I guess DOM load is interrupted until the JS is loaded, rendered and executed)</li>\n<li>internal CSS? (Or is it rendered together DOM load.)</li>\n<li>external CSS</li>\n<li>external Images</li>\n</ol>\n\n<p>According the article <strong>'While external style sheets won't get loaded, both inline and external scripts will though.'</strong> but according <a href=\"https://developer.mozilla.org/en-US/docs/Web/Reference/Events/DOMContentLoaded\">MDM</a> <strong>'Stylesheet loads block script execution'</strong>. So scripts are loaded first but they are executed only after all css are available?</p>\n\n<p>I could think that order depends on the browser implementation or is there any standard to make this?</p>\n\n<p><strong>Does some expert would tell us the right order?</strong></p>\n\n<p>Thanks in advance!</p>\n",
            "last_activity_date": 1419027520,
            "question_id": 22083248,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "css",
                "definition"
            ],
            "title": "Which is the load, rendering and execution order of elements in a HTML page?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>works <a href=\"http://jsfiddle.net/faGTg/1/\">here</a></p>\n\n<p>You may want to try this construction to follow class changes:</p>\n\n<pre><code>scope.$watch(function() {return element.attr('class'); }, function(newValue){});\n</code></pre>\n\n<p>Please notice that adding/removing classes insight that watch will cause one additional call of adding class that wont change class attribute value. </p>\n\n<p>But I think the better approach will be using ng-class. For example in a moment you want to add a 'popupOn' class you are setting some scope value ($scope.popup = true) and then specify ng-class for parent and child element like so:</p>\n\n<pre><code>&lt;div ng-class={'has-error': (popup==true)}&gt;\n    &lt;div id=\"patient\" ng-class={'popupOn': (popup==true)}&gt;test&lt;/div&gt;\n    &lt;button ng-click=\"addClass()\"&gt;addClass&lt;/button&gt;\n    &lt;button ng-click=\"removeClass()\"&gt;removeClass&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>when you want to remove those classes you just set $scope.popup value to false</p>\n\n<p><a href=\"http://jsfiddle.net/yChUN/1/\">Fiddle with ng-class</a></p>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>So, i'm new to angular and I keep running into roadblocks. I guess I'm just stuck in jquery mindset even after reading the famous \"How do I think in AngularJS from a jQuery background\" question?</p>\n\n<p>Anyhow, what I want to do seems fairly basic, but I'm having issues:</p>\n\n<p>When a class is added to an element, i want to add another class to that element. When a class is removed, i want to remove an element. I'm basically mapping some bootstrap classes to some angular form validation classes but I can't figure out how to fire my code when a class is added/removed from an element (also making sure not to cause some infinite loop of class changing).</p>\n\n<p>Here is what I have thus far for my directive:</p>\n\n<pre><code>.directive('mirrorValidationStates', ['$log', function($log) {\n  function link(scope,element,attrs) {\n    scope.$watch(element.hasClass('someClass'), function(val) {\n      var classMap = {\n        'popupOn': 'has-error',\n        'ng-valid': 'has-success'\n      };\n\n      for (var key in classMap) {\n        if (element.hasClass(key)) {\n          $log.info(\"setting class \" + classMap[key]);\n          element.parent().addClass(classMap[key]);\n        } else {\n          $log.info(\"removing class \" + classMap[key]);\n          element.parent().removeClass(classMap[key]);\n        }\n      }\n    });\n  }\n  return {\n    link: link\n  };\n}]);\n</code></pre>\n\n<p>So basically, when popupOn is added to an element, I want to add the has-error bootstrap class to the parent element.\nWhen popupOn is removed, I want to remove has-error</p>\n\n<p>What am I missing to make this happen in angular? maybe something with ng-class and not use a directive?</p>\n\n<p>Thanks much!</p>\n",
            "last_activity_date": 1404297451,
            "question_id": 21693064,
            "score": 5,
            "tags": [
                "javascript",
                "angularjs",
                "angularjs-directive",
                "angular-ui-bootstrap"
            ],
            "title": "Monitor for class changing on element in AngularJS directive"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Dagg Nabbit gave the solution. Change</p>\n\n<pre><code>$('html,body').animate({scrollTop: divTag.offset().top},'slow');\n</code></pre>\n\n<p>to</p>\n\n<pre><code>$('html').animate({scrollTop: divTag.offset().top},'slow');\n</code></pre>\n\n<p>if you want to avoid the deprecation warning in Chrome. (<a href=\"http://stackoverflow.com/q/19635188/822138\">Why is <code>body.scrollTop</code> deprecated?</a>)</p>\n\n<p>It works because <code>documentElement</code> is the <code>html</code> node:</p>\n\n<pre><code>$('html')[0] === document.documentElement //-&gt; true\n$('body')[0] === document.body            //-&gt; true\n</code></pre>\n\n<p>But your code is working now (albeit with a warning) and it will keep working when Chrome removes the \"quirky\" behavior. You <strong>shouldn't</strong> change your code if you want to continue supporting browsers that use <code>body.scrollTop</code> to represent the scrolling viewport in standards mode (older Chrome and Safari, I think).</p>\n",
                    "is_accepted": true,
                    "score": 14
                }
            ],
            "body": "<p>I'm receiving the error:</p>\n\n<p>body.scrollTop is deprecated in strict mode. Please use 'documentElement.scrollTop' if in strict mode and 'body.scrollTop' only if in quirks mode. </p>\n\n<p>My code is:</p>\n\n<pre><code>$(document).ready(function(){\n\n    //Animates Scrolling to anchor\n    function scrollToAnchor(aid){\n        var divTag = $(\"div[name='\"+ aid +\"']\");\n        $('html,body').animate({scrollTop: divTag.offset().top},'slow');\n    }\n\n    //If Checking out as guest, scroll to Shipping Information\n    $(\"#ReadDescription\").click(function() {\n        scrollToAnchor('longdescreadmore');\n    });\n\n});\n</code></pre>\n\n<p>How can I edit my code to use this documentElement.ScrollTop?</p>\n",
            "last_activity_date": 1391646215,
            "question_id": 21268450,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "deprecated"
            ],
            "title": "body.scrollTop is deprecated in strict mode. Please use &#39;documentElement.scrollTop&#39; if in strict mode and &#39;body.scrollTop&#39; only if in quirks mode."
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Because that's how it's defined. Quoting the doc (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getTimezoneOffset\"><strong>MDN</strong></a>):</p>\n\n<blockquote>\n  <p>The time-zone offset is the difference, in minutes, between UTC and\n  local time. Note that this means that the <strong>offset is positive if the\n  local timezone is behind UTC and negative if it is ahead</strong>.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>Elaborating a bit on raina77ow's perfectly acceptable answer...</p>\n\n<p>First, understand that the main standards involved here are <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow\">ISO 8601</a> and <a href=\"http://www.ietf.org/rfc/rfc822.txt\" rel=\"nofollow\">RFC 822</a> (and its relatives <a href=\"http://www.ietf.org/rfc/rfc733.txt\" rel=\"nofollow\">733</a>, <a href=\"http://www.ietf.org/rfc/rfc1123.txt\" rel=\"nofollow\">1123</a> &amp; <a href=\"http://www.ietf.org/rfc/rfc2822.txt\" rel=\"nofollow\">2822</a>), which were all (in-part) derived from ANSI X3.51-1975.</p>\n\n<p>All of these standards use the convention of positive values being East of UTC/GMT and negative values being West of UTC/GMT.</p>\n\n<p>The only standard that I am aware of that has that reversed is POSIX (see the POSIX section of <a href=\"http://stackoverflow.com/tags/timezone/info\">the timezone tag wiki</a>, and <a href=\"http://www.ibm.com/developerworks/aix/library/au-aix-posix/index.html\" rel=\"nofollow\">this article</a>), and thus explains why the backwards compatibility Olson time zones like \"Etc/GMT+5\" have their sign inverted.  (Of course it's possible there are others usages and I am just unaware of them.)</p>\n\n<p>Believe it or not, JavaScript does it BOTH ways.  When used as a string (in either RFC 822 or ISO 8601 syntax) it uses hours and minutes with positive offsets <em>East</em> of UTC.  But when calling the <code>getTimezoneOffset()</code> method on the <code>Date</code> object, it returns whole minutes that are positive <em>West</em> of UTC.</p>\n\n<p>One can only speculate why this inconsistency exists.  The <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.9\" rel=\"nofollow\">ECMAScript spec</a> is full of issues like this.  Perhaps it's because when you see an offset in an ISO 8601 or RFC 822 string, that offset has <em>already</em> been applied.  But when you call <code>getTimezoneOffset()</code> it's the offset <em>to</em> apply to bring it back to UTC.</p>\n\n<p>For example, <code>2014-01-01T00:00:00-05:00</code> is equal to <code>2014-01-01T05:00:00Z</code>.  So <code>getTimezoneOffset()</code> would return <code>300</code>.  If you add 300 minutes to the original value, you get back to UTC.</p>\n\n<p>It's two sides to the same coin. See?</p>\n\n<p>In regards to whether or not that specific control is incorrect, I am not sure.  I'm not familiar with that particular control. I see in their docs the example of -0400 being equal to -240, which one might expect to be reversed, but then again it's a bit strange to have a value like -240 presented to a user.  Really, you shouldn't expose offsets to a user either way (IMHO).  You're much better off using a time zone picker control, like <a href=\"https://github.com/dosx/timezone-picker\" rel=\"nofollow\">this one</a> or <a href=\"http://www.timezonepicker.com/\" rel=\"nofollow\">this one</a>. </p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I noticed that for us on Eastern Time zone (\"America/New_York\") with timezone offset of <strong>\"-05:00\"</strong> Date.getTimezoneOffset() returns a <strong>positive</strong> number of 300. I would expect offset in minutes to be negative in areas to the West from Utc, and to be positive in areas to the east of Utc, but apparently it's \"flippded\".  What's the reasoning behind that decision?</p>\n\n<p><a href=\"http://momentjs.com/\" rel=\"nofollow\">http://momentjs.com/</a> follows the same rule and returns...</p>\n\n<pre><code>moment.parseZone(\"01/13/2014 3:38:00 PM +01:00\").zone()   // == -60\nmoment.parseZone(\"01/13/2014 3:38:00 PM -01:00\").zone()   // == 60\n</code></pre>\n\n<p>At the same time DateTimePicker <a href=\"http://trentrichardson.com/examples/timepicker/\" rel=\"nofollow\">http://trentrichardson.com/examples/timepicker/</a> does not flip numbers when setting its initial 'timezone' parameter. Is it wrong?</p>\n",
            "last_activity_date": 1392904964,
            "question_id": 21102435,
            "score": 5,
            "tags": [
                "javascript",
                "timezone",
                "datetimepicker",
                "momentjs",
                "timezoneoffset"
            ],
            "title": "Why does JavaScript Date.getTimezoneOffset() consider &quot;-05:00&quot; as a positive offset?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I have this setup correctly in my tests and your setup looks right, except for a few things.</p>\n\n<p>Make the following changes to your Karma config file:</p>\n\n<pre><code>ngHtml2JsPreprocessor = {\n  'moduleName': 'Templates',\n\n  // Function that transforms the path to look exactly like \n  // you have it in templateUrl in your Angular code\n  //\n  // Mine looks like this\n  cacheIdFromPath: function(filepath) {\n    return filepath.match(/views\\/.*/)[0]\n  }\n}\n</code></pre>\n\n<p>Then in your test's <code>beforeEach</code> include the <code>Templates</code> module that you specified in your Karma config above: <code>module('Templates')</code></p>\n\n<pre><code>beforeEach(function() {\n  module('Templates')\n})\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I am trying to test a Directive which uses external template. I tried all the following solutions with no luck:</p>\n\n<ul>\n<li><p><a href=\"http://stackoverflow.com/questions/19360083/angularjs-karma-ng-html2js-failed-to-instantiate-module-html\">ng-directive-testing</a></p></li>\n<li><p><a href=\"http://stackoverflow.com/questions/17223850/how-to-test-directives-that-use-templateurl-and-controllers\">How to test directives that use templateUrl and controllers?</a></p></li>\n<li><p><a href=\"http://stackoverflow.com/questions/19360083/angularjs-karma-ng-html2js-failed-to-instantiate-module-html\">AngularJS + Karma + Ng-html2js =&gt; Failed to instantiate module ...html</a></p></li>\n</ul>\n\n<p>I created a test directive (a simple div) and tested it using an inline 'template' and external 'templateUrl'. The inline solution works while the external doesn't:</p>\n\n<pre><code>   angular.module('AdUnit').directive('actionButton',function($location){\n        return{\n            scope:{\n                actionName: '@'\n            },\n            restrict: 'E',\n            //template: \"&lt;div ng-click='click()'&gt;action button&lt;/div&gt;\",\n            templateUrl: '/staticfiles/adunit/html/directives/actionButtonTemplate.html',\n            controller: ['$scope', function($scope){\n                $scope.click = function(){\n                    $scope.$emit('ACTION_CLICK', $scope.actionName);\n                }\n            }]\n\n        }\n    });\n\n\n\n    describe(\"Unit: Testing action button directive\", function() {\n    var elm, scope, linkFn;\n    beforeEach(\n        module('AdUnit')\n    );\n\n    beforeEach(module('/staticfiles/adunit/html/directives/actionButtonTemplate.html'));\n\n    beforeEach(inject(function($rootScope, $compile) {\n        elm = angular.element('&lt;action-button action-name=\"post-action-0\"&gt;&lt;/action-button&gt;');\n        scope = $rootScope;\n        linkFn = $compile(elm);\n        linkFn(scope);\n        scope.$digest(); // have to digest to bring html from templateCache\n        console.log('post compile',elm.html());// &lt;== the html here still have {{}}\n    }));\n\n    it('should show a thumb',function() {\n\n            console.log('post link',elm.html());// &lt;== the html is bound\n\n            expect(elm.text()).toBe(\"action button\");\n\n    });\n});\n</code></pre>\n\n<p>My Karma config file:</p>\n\n<pre><code>  module.exports = function(config) {\n  config.set({\n\n    // base path, that will be used to resolve files and exclude\n    basePath: '',\n\n\n    // frameworks to use\n    frameworks: ['jasmine'],\n\n\n    // list of files / patterns to load in the browser\n    files: [\n        'http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js',\n        'http://ajax.googleapis.com/ajax/libs/angularjs/1.2.5/angular.min.js',\n        'http://ajax.googleapis.com/ajax/libs/angularjs/1.2.5/angular-route.js',\n        'http://code.angularjs.org/1.0.6/angular-mocks.js',\n        '../html/*.html',\n        '../html/directives/*.html',\n        '../js/adUnit.js',\n        '../js/controllers/*.js',\n        '../js/directives/*.js',\n        '../js/services/*.js',\n        '../*.js',\n         '../**.*.js',\n         '**/*.tests.js'\n    ],\n\n    preprocessors : {\n        '../html/**/*.html': ['ng-html2js']\n    },\n\n     /* ngHtml2JsPreprocessor: {\n          'AdUnit': '/staticfiles/adunit/html/directives/actionButtonTemplate.html'\n          *//*moduleName: '/staticfiles/adunit/html/directives/internalPlayerTemplate.html'*//*\n      },*/\n\n    // list of files to exclude\n    exclude: [\n\n    ],\n\n\n    // test results reporter to use\n    // possible values: 'dots', 'progress', 'junit', 'growl', 'coverage'\n    reporters: ['progress'],\n\n\n    // web server port\n    port: 9876,\n\n\n    // enable / disable colors in the output (reporters and logs)\n    colors: true,\n\n\n    // level of logging\n    // possible values: config.LOG_DISABLE || config.LOG_ERROR || config.LOG_WARN || config.LOG_INFO || config.LOG_DEBUG\n    logLevel: config.LOG_INFO,\n\n\n    // enable / disable watching file and executing tests whenever any file changes\n    autoWatch: true,\n\n\n    // Start these browsers, currently available:\n    // - Chrome\n    // - ChromeCanary\n    // - Firefox\n    // - Opera (has to be installed with `npm install karma-opera-launcher`)\n    // - Safari (only Mac; has to be installed with `npm install karma-safari-launcher`)\n    // - PhantomJS\n    // - IE (only Windows; has to be installed with `npm install karma-ie-launcher`)\n    browsers: ['Chrome'],\n\n\n    // If browser does not capture in given timeout [ms], kill it\n    captureTimeout: 60000,\n\n\n    // Continuous Integration mode\n    // if true, it capture browsers, run tests and exit\n    singleRun: false\n  });\n};\n</code></pre>\n\n<p>I keep getting the following error:</p>\n\n<pre><code>Failed to instantiate module /staticfiles/adunit/html/directives/actionButtonTemplate.html due to:\nError: [$injector:nomod]\n</code></pre>\n\n<p>Any help will be appreciated!</p>\n\n<p><strong>EDIT</strong>: @MK Safi's answer solved my problem. I was missing the following:</p>\n\n<pre><code> ngHtml2JsPreprocessor: {\n     'moduleName': 'Templates',\n\n     // Function that transforms the path to look exactly like\n     // you have it in templateUrl in your Angular code\n     //\n     // Mine looks like this\n     cacheIdFromPath: function(filepath) {\n         return filepath.match(/\\/staticfiles\\/adunit\\/html\\/directives\\/.*\\.html/);\n     }\n  },\n</code></pre>\n\n<p>and before each test:</p>\n\n<pre><code> beforeEach(module('Templates'));\n</code></pre>\n\n<p>it is important for the regular expression to point to the same path as the directive's \"templateUrl\", since html2js will cache those templates using this path (see <a href=\"https://github.com/karma-runner/karma-ng-html2js-preprocessor\" rel=\"nofollow\">html2js</a> for more details about that)</p>\n",
            "last_activity_date": 1389536514,
            "question_id": 21074390,
            "score": 5,
            "tags": [
                "javascript",
                "unit-testing",
                "angularjs",
                "jasmine",
                "karma-runner"
            ],
            "title": "Angular.js unitest a Directive with external template using html2js - Fail to load templates"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>For correct form data usage you need to do 2 steps. </p>\n\n<p><strong>Preparations</strong></p>\n\n<p>You can give to the formData all form for processing</p>\n\n<pre><code>var form = $('form')[0]; // You need to use standart javascript object here\nvar formData = new FormData(form);\n</code></pre>\n\n<p>or specify exact data for formdata</p>\n\n<pre><code>var formData = new FormData();\nformData.append('section', 'general');\nformData.append('action', 'previewImg');\n// Main magic with files here\nformData.append('image', $('input[type=file]')[0].files[0]); \n</code></pre>\n\n<p><strong>Sending form</strong></p>\n\n<p>Ajax request with jquery will looks like this:</p>\n\n<pre><code>$.ajax({\n    url: 'Your url here',\n    data: formData,\n    // THIS MUST BE DONE FOR FILE UPLOADING\n    contentType: false,\n    processData: false,\n    // ... Other options like success and etc\n})\n</code></pre>\n\n<p>After this it will send ajax request like you submit regular form with <code>enctype=\"multipart/form-data\"</code></p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>I can't add a comment above as I do not have enough reputation, but the above answer was nearly perfect for me, except I had to add </p>\n\n<p>type: \"POST\" </p>\n\n<p>to the .ajax call. I was scratching my head for a few minutes trying to figure out what I had done wrong, that's all it needed and works a treat. So this is the whole snippet:</p>\n\n<p>Full credit to the answer above me, this is just a small tweak to that. This is just in case anyone else gets stuck and can't see the obvious.</p>\n\n<pre><code>  $.ajax({\n    url: 'Your url here',\n    data: formData,\n    type: \"POST\", //ADDED THIS LINE\n    // THIS MUST BE DONE FOR FILE UPLOADING\n    contentType: false,\n    processData: false,\n    // ... Other options like success and etc\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm not figuring out how to do this. I'm breaking my head from last 2 hours behind it.</p>\n\n<p>This is my html which I'm generating dynamically using drag and drop functionality.</p>\n\n<pre><code>&lt;form method=\"POST\" id=\"contact\" name=\"13\" class=\"form-horizontal wpc_contact\" novalidate=\"novalidate\" enctype=\"multipart/form-data\"&gt;\n&lt;fieldset&gt;\n    &lt;div id=\"legend\" class=\"\"&gt;\n        &lt;legend class=\"\"&gt;file demoe 1&lt;/legend&gt;\n        &lt;div id=\"alert-message\" class=\"alert hidden\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"control-group\"&gt;\n        &lt;!-- Text input--&gt;\n        &lt;label class=\"control-label\" for=\"input01\"&gt;Text input&lt;/label&gt;\n        &lt;div class=\"controls\"&gt;\n            &lt;input type=\"text\" placeholder=\"placeholder\" class=\"input-xlarge\" name=\"name\"&gt;\n            &lt;p class=\"help-block\" style=\"display:none;\"&gt;text_input&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=\"control-group\"&gt;  &lt;/div&gt;\n        &lt;label class=\"control-label\"&gt;File Button&lt;/label&gt;\n\n        &lt;!-- File Upload --&gt; \n        &lt;div class=\"controls\"&gt;\n            &lt;input class=\"input-file\" id=\"fileInput\" type=\"file\" name=\"file\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"control-group\"&gt;    \n\n        &lt;!-- Button --&gt; \n        &lt;div class=\"controls\"&gt;\n            &lt;button class=\"btn btn-success\"&gt;Button&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/fieldset&gt;\n&lt;/form&gt; \n</code></pre>\n\n<p>here this is my js code...</p>\n\n<pre><code>&lt;script&gt;\n    $('.wpc_contact').submit(function(event){\n        var formname = $('.wpc_contact').attr('name');\n        var form = $('.wpc_contact').serialize();               \n        // alert($(\"#fileInput\").val());\n        var FormData = new FormData($(form)[1]);\n        alert(FormData);\n        $.ajax({\n            url : '&lt;?php echo plugins_url(); ?&gt;'+'/wpc-contact-form/resources/js/tinymce.php',\n            data : {form:form,formname:formname,ipadd:ipadd,FormData:FormData},\n            type : 'POST',\n            processData: false,\n            contentType: false,\n            success : function(data){\n            alert(data); \n            }\n        });\n   }\n</code></pre>\n\n<p>can you walk me in right way how to use <strong>FormData</strong>.</p>\n",
            "last_activity_date": 1425016073,
            "question_id": 21044798,
            "score": 5,
            "tags": [
                "javascript",
                "php",
                "jquery",
                "ajax"
            ],
            "title": "How to use FormData for ajax file upload"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Having the same problem for last few hours. I used the api/services folder.\nIt may not be exactly what you need but it is an option. \nA good explanation is here. <a href=\"http://stackoverflow.com/questions/18447434/what-services-would-one-add-to-the-api-services-folder-in-sailsjs\">What services would one add to the api/services folder in sailsjs</a></p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>You can use <code>sails.controllers.yourControllerName.findStore()</code></p>\n\n<p>the <code>sails</code> global object has references to almost everything.</p>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>It's slightly annoying when you're just trying to build something quickly, but in the long run it forces good code organization practice (by making it harder to shove all business logic into a controller).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>One of the best ways to organize your code in Sails, at least for me and my team, has been to have all the real business logic in Services (/api/services). Those objects can be accessed globally from any controller.</p>\n\n<p>Also, a good practice is working with promises in services (as Sails use them on the model methods)</p>\n\n<p>Just create a Store service (StoreService.js), with your code:</p>\n\n<pre><code>module.exports = {\n  findStore: function(storeId) {\n    // here you call your models, add object security validation, etc...\n    return Store.findOne(storeId);\n  }\n};\n</code></pre>\n\n<p>Your Controllers should handle all that is related to requests, calling services, and returning apropriate responses.</p>\n\n<p>For example, in you example, the controller could have this:</p>\n\n<pre><code>module.exports = {\n  index: function(req, res) {\n    if(req.param('id')) {\n      StoreService.findStore(req.param('id'))\n        .then(res.ok)\n        .fail(res.badRequest);\n    } else {\n      res.badRequest('Missing Store id');\n    }\n  },\n  findStore: function(req, res) {\n    if(req.param('id')) {\n      StoreService.findStore(req.param('id'))\n        .then(res.ok)\n        .fail(res.badRequest);\n    } else {\n      res.badRequest('Missing Store id');\n    }\n  },\n};\n</code></pre>\n\n<p>That way, you have really simple controllers, and all business logic is managed by services.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>How come in sails you cannot access other controller methods from within another one? </p>\n\n<p>like this.</p>\n\n<pre><code>module.exports = \n\n   findStore: -&gt;\n       # do somthing\n\n   index: -&gt;\n      @findStore(); # Error: undefined\n</code></pre>\n\n<p>Compiled</p>\n\n<pre><code>module.exports = {\n  findStore: function() {},\n  index: function() {\n    return this.findStore(); // Error: undefined\n  }\n};\n</code></pre>\n\n<p>If you can't do this, then why not? how else should i be doing this...</p>\n",
            "last_activity_date": 1407367973,
            "question_id": 20735380,
            "score": 5,
            "tags": [
                "javascript",
                "node.js",
                "context",
                "controllers",
                "sails.js"
            ],
            "title": "sails.js access controller method from controller method"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This seems to be working for me.  </p>\n\n<p>I'm not sure if I could simplify it. The recursion in <code>scheduleNextJob</code> is necessary so the <code>running &lt; limit</code> and <code>limit++</code> always execute in the same tick.</p>\n\n<p><a href=\"https://gist.github.com/gaearon/7930162\" rel=\"nofollow\">Also available as a gist.</a></p>\n\n<pre><code>'use strict';\n\nvar Q = require('q');\n\n/**\n * Constructs a function that proxies to promiseFactory\n * limiting the count of promises that can run simultaneously.\n * @param promiseFactory function that returns promises.\n * @param limit how many promises are allowed to be running at the same time.\n * @returns function that returns a promise that eventually proxies to promiseFactory.\n */\nfunction limitConcurrency(promiseFactory, limit) {\n  var running = 0,\n      semaphore;\n\n  function scheduleNextJob() {\n    if (running &lt; limit) {\n      running++;\n      return Q();\n    }\n\n    if (!semaphore) {\n      semaphore = Q.defer();\n    }\n\n    return semaphore.promise\n      .finally(scheduleNextJob);\n  }\n\n  function processScheduledJobs() {\n    running--;\n\n    if (semaphore &amp;&amp; running &lt; limit) {\n      semaphore.resolve();\n      semaphore = null;\n    }\n  }\n\n  return function () {\n    var args = arguments;\n\n    function runJob() {\n      return promiseFactory.apply(this, args);\n    }\n\n    return scheduleNextJob()\n      .then(runJob)\n      .finally(processScheduledJobs);\n  };\n}\n\nmodule.exports = {\n  limitConcurrency: limitConcurrency\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I have a library that does this for you <a href=\"https://github.com/ForbesLindesay/throat\" rel=\"nofollow\">https://github.com/ForbesLindesay/throat</a></p>\n\n<p>You can use it via browserify or compile a standalone version by downloading it then doing:</p>\n\n<pre><code>npm install browserify -g\nbrowserify --standalone throat &lt; index.js &gt; throat.js\n</code></pre>\n\n<p>Then you can do</p>\n\n<pre><code>//remove this line if using standalone build\nvar throat = require('throat');\n\nfunction limitConcurrency(promiseFactory, limit) {\n  var fn = throat(promiseFactory, limit);\n  return function () {\n    return Q(fn.apply(this, arguments));\n  }\n}\n</code></pre>\n\n<p>You could just call <code>throat(promiseFactory, limit)</code> directly but that would return a <a href=\"https://github.com/then/promise\" rel=\"nofollow\">promise</a> promise rather than a Q promise.</p>\n\n<p>I also really like using it with array.map.</p>\n\n<pre><code>// only allow 3 parallel downloads\nvar downloadedItems = Q.all(items.map(throat(download, 3)));\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>The <a href=\"https://github.com/medikoo/deferred#deferred\" rel=\"nofollow\">Deferred</a> promise implementation has <a href=\"https://github.com/medikoo/deferred#limiting-concurrency\" rel=\"nofollow\"><code>gate</code></a> function which works exactly that way:</p>\n\n<pre><code>spawnProcess = deferred.gate(spawnProcess, 5);    \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I wrote a little library to do this: <a href=\"https://github.com/suprememoocow/qlimit\" rel=\"nofollow\">https://github.com/suprememoocow/qlimit</a></p>\n\n<p>It's extremely easy to use and is specifically designed to work with Q promises:</p>\n\n<pre><code>var qlimit = require('qlimit');\nvar limit = qlimit(2); // 2 being the maximum concurrency\n\n// Using the same example as above\nreturn Q.all(items.map(limit(function(item, index, collection) { \n  return performOperationOnItem(item);\n}));\n</code></pre>\n\n<p>It can also be used to limit concurrency to a specific resource, like this:</p>\n\n<pre><code>var qlimit = require('qlimit');\nvar limit = qlimit(2); // 2 being the maximum concurrency\n\nvar fetchSomethingFromEasilyOverwhelmedBackendServer = limit(function(id) {\n  // Emulating the backend service\n  return Q.delay(1000)\n    .thenResolve({ hello: 'world' }); \n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How do I write a method that limits Q promise concurrency?</p>\n\n<p>For instance, I have a method <code>spawnProcess</code>. It returns a Q promise.<br>\nI want no more than 5 process spawned at a time, but transparently to the calling code.</p>\n\n<p>What I need to implement is a function with signature</p>\n\n<pre><code>function limitConcurrency(promiseFactory, limit)\n</code></pre>\n\n<p>that I can call like</p>\n\n<pre><code>spawnProcess = limitConcurrency(spawnProcess, 5);\n\n// use spawnProcess as usual\n</code></pre>\n\n<p>I already started working on my version, but I wonder if anyone has a concise implementation that I can check against.</p>\n",
            "last_activity_date": 1417877250,
            "question_id": 20546373,
            "score": 5,
            "tags": [
                "javascript",
                "node.js",
                "concurrency",
                "promise",
                "q"
            ],
            "title": "How can I limit Q promise concurrency?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Have you tried <code>preventDefault()</code>?</p>\n\n<pre><code>$(\"btnSave\").click(function(e){\n    e.preventDefault();   \n    //..rest of the code\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you are using <code>s:submit</code> tag the rendered <code>HTML</code> output is either <code>input</code> or <code>button</code> tag but the type is <code>submit</code> except for the <code>image</code> type.  You can use the code to execute javascript onclick event that doesn't submit the form.</p>\n\n<pre><code>&lt;s:submit type=\"button\" onclick=\"return false;\"/&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I am using Struts2 framework in my application, I have one button on my JSP page. That is</p>\n\n<pre><code>&lt;s:submit type=\"button\" name=\"btnSave\" /&gt;\n</code></pre>\n\n<p>Now, I want this button to behave as normal HTML button type should not submit the form and execute the Scripting\nfunction on <code>onclick</code> event. That function submit the form using Ajax.</p>\n\n<p>But what happens is Struts2 convert it to</p>\n\n<pre><code>&lt;input type=\"submit\" id=\"add_btnSave\" name=\"btnSave\" value=\"Save\"/&gt;\n</code></pre>\n\n<p>And my form is submitted.</p>\n\n<p>1) If I use the HTML button tag it will mess the GUI. As theme of my form is Ajax.</p>\n\n<p>This is a <code>head</code> tag with script</p>\n\n<pre><code>&lt;head&gt;\n&lt;s:head theme=\"ajax\"/&gt;\n&lt;script type=\"text/javascript\"&gt;\n\n$(\"btnSave\").click(function(){\nalert(\"aaa\");\n$.ajax({\nurl:\ntype:\"POST\",\ndataType: \"json\",\nerror: function(XMLHttpRequest, textStatus, errorThrown){\nalert('Error ' + textStatus);\nalert(errorThrown);\nalert(XMLHttpRequest.responseText);\n},\nsuccess: function(){\nalert('SUCCESS');\n}\n});\n});\n&lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>My <code>body</code> tag is as followers :</p>\n\n<pre><code>&lt;body&gt;\n&lt;table border=\"1\" width=\"80%\" align=\"center\"&gt;\n&lt;tr&gt;\n&lt;td width=\"100%\"&gt;\n&lt;s:tabbedPanel id=\"EmpDetail\" useSelectedTabCookie=\"true\"&gt;\n&lt;s:div id=\"one\" label=\"Emp Reg.\" theme=\"ajax\" tabindex=\"0\" labelposition=\"top\"&gt;\n&lt;center&gt;\n&lt;s:form name=\"frmEmpReg\" namespace=\"/\" method=\"post\"&gt;\nEMPLOYEE REGISTRATIOM TAB&lt;br&gt;\n&lt;s:actionmessage /&gt;\n&lt;input type=\"hidden\" name=\"empbean.id\" value=\"&lt;s:property value=\"empbean.id\"/&gt;\"/&gt;\n&lt;s:textfield label=\"Employee First Name\" name=\"empbean.firstName\"&gt;&lt;/s:textfield&gt;\n&lt;s:textfield label=\"Employee Middle Name\" name=\"empbean.middleName\"&gt;&lt;/s:textfield&gt;\n&lt;s:textfield label=\"Employee Last Name\" name=\"empbean.lastName\"&gt;&lt;/s:textfield&gt;\n&lt;s:textfield label=\"Address\" name=\"empbean.address\"&gt;&lt;/s:textfield&gt;\n&lt;s:textfield label=\"State\" name=\"empbean.state\"&gt;&lt;/s:textfield&gt;\n&lt;s:textfield label=\"Employee Designation\" name=\"empbean.designation\"&gt;&lt;/s:textfield&gt;\n&lt;s:submit name=\"btnSave\" type=\"submit\" value=\"Save\" align=\"center\"/&gt;\n&lt;/s:form&gt;\n&lt;/center&gt;\n&lt;/s:div&gt;\n&lt;s:div&gt;\n..\n..\nOther Tabs\n&lt;/s:div&gt;\n&lt;/s:tabbedPanel&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>any one have any idea of handling it with Struts2 then please help.</p>\n\n<p>Your help will be really appreciated.</p>\n",
            "last_activity_date": 1385552606,
            "question_id": 20209645,
            "score": 5,
            "tags": [
                "java",
                "javascript",
                "ajax",
                "jsp",
                "struts2"
            ],
            "title": "How to use struts2 submit tag as button without submitting the form?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The second query is asynchronous so wrapping it in a <code>for</code> won't work.</p>\n\n<p><code>response.success</code> gets triggered before the second query finished so you are returning before actually waiting for the results. I would tell you to move <code>response.success</code> inside of the second <code>success</code> callback of <code>query2</code> but that won't work either since you are running an async operation synchronously inside a <code>for</code> so you will send the response in the first <code>success</code>.</p>\n\n<p><strong>Don't run an async operation inside a loop</strong>. It doesn't work.</p>\n\n<p>I'm not sure what you are trying to accomplish here but you'll have to instantiate a new <code>Query</code> for every call if you want to make as many queries as results.</p>\n\n<p>Again, I'm not sure what is exactly you are trying to do but here is a way you can do something like that:</p>\n\n<pre><code>    var adList = [];\n    var query = new Parse.Query(\"Campaigns\");\n    query.equalTo(\"isFeatured\", true);\n\n    query.find({\n        success: function(results)  {\n            var queries = [];\n\n            for (var i=0; i&lt;results.length; i++){\n                var query2 = new Parse.Query(\"QR\");\n                query2.equalTo(\"abc\",true);\n\n                var ad = [];\n                ad.push(results[i].get(\"Type\"));\n                ad.push(results[i].id);\n                adList.push(ad);\n                queries.push(query2);\n            }\n\n            var totalLength = results.length;\n\n            function makeQueries(qs){\n                qs.shift().first({\n                    success: function(currentResult) {\n                        // do stuff with currentResult\n                        if(qs.length){\n                            makeQueries(qs);\n                        } else {\n                            console.log('We successfully made ' + totalLength + ' queries')\n                            // we are done with the queries\n                            response.success(adList);\n                        }\n                    },\n                    error: function() {\n                        response.error('Error in inner queries n\u00ba' + totalLength - qs.length)\n                    }\n                });\n            }\n            makeQueries(queries);\n        },\n        error: function(){\n            response.error(\"failed\");\n        }\n    });\n</code></pre>\n\n<p>Bar in mind that Parse Cloud Code let you run code for aprox 5/7 seconds and this might be very slow if you have a lot of <code>results</code>.\nBtw, take a look a Parse's <code>matchesQuery</code> method.</p>\n\n<p>Example taken from their docs:</p>\n\n<pre><code>    var Post = Parse.Object.extend(\"Post\");\n    var Comment = Parse.Object.extend(\"Comment\");\n    var innerQuery = new Parse.Query(Post);\n    innerQuery.exists(\"image\");\n    var query = new Parse.Query(Comment);\n    query.matchesQuery(\"post\", innerQuery);\n    query.find({\n      success: function(comments) {\n        // comments now contains the comments for posts with images.\n      }\n    });        \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>I think the below code might help someone,</p>\n\n<pre><code>var adList = [];\nvar query2 = new Parse.Query(\"QR\");\nvar query = new Parse.Query(\"Campaigns\");\nquery.equalTo(\"isFeatured\", true);\n\nquery.find().then(function(results) {\n    var _ = require('underscore');\n    var promise = Parse.Promise.as();\n    _.each(results, function(resultObj) { \n        var ad = [];\n        ad.push(resultObj.get(\"Type\"));    //Adds \"Type\" to the ad array\n        ad.push(resultObj.id);     //gets the objectID and appends it to the arrayy\n\n        //second INNER QUERY\n        query2.equalTo(\"abc\", true);\n        adList.push(ad);\n        return query2.first().then(function(results) {\n            adList.push(5);\n        });\n    });\n    return promise;\n}).then(function() {\n    response.success(adList);\n}, function (error) {\n    response.error(\"Error \"+error.message);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is it possible to do nested queries in cloud code?</p>\n\n<p>I want to be able to do something like</p>\n\n<pre><code>var adList = [];\nvar query2 = new Parse.Query(\"QR\");\nvar query = new Parse.Query(\"Campaigns\");\nquery.equalTo(\"isFeatured\", true);\n\nquery.find({\nsuccess: function(results)  {\n    for (var i=0; i&lt;results.length; i++){\n        var ad = [];\n        ad.push(results[i].get(\"Type\"));    //Adds \"Type\" to the ad array\n        ad.push(results[i].id);     //gets the objectID and appends it to the arrayy\n\n          //second INNER QUERY\n        query2.equalTo(\"abc\", true);\n        adList.push(ad);\n        query2.first({\n            success: function(results){\n                adList.push(5);\n            },\n            error: function(){\n                response.error(\"inner fail\");\n            }\n        });\n\n    }\n\n    response.success(adList);  //adds all ad arrays to adList array\n},\nerror: function(){\n    response.error(\"failed\");\n}   \n});\n</code></pre>\n\n<p>I tried doing this, but the inner query never executes. Why?</p>\n",
            "last_activity_date": 1421909932,
            "question_id": 19777207,
            "score": 5,
            "tags": [
                "javascript",
                "parse.com"
            ],
            "title": "Nested queries using javascript in cloud code (Parse.com)"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>you only want one <code>ng-app</code> on a page, but you can insert your other modules as dependencies of the main <code>ng-app</code> module. </p>\n\n<pre><code>var app=angular.module('myNgAppName', ['searchModule']);\n</code></pre>\n\n<p>This will expose any directives , controllers etc you have in your <code>'searchModule'</code></p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>Yes you only want one ng-app per page, but you can create other modules and declare them as dependencies of your main app.</p>\n\n<pre><code>var app=angular.module('appModule'); //resuable module\n\nvar app=angular.module('myApp', ['appModule']); //in the HTML ng-app=\"myApp\"\n</code></pre>\n\n<p>So you can put re-usable stuff in appModule and use it in other projects. For example, I like to put my routing logic (i.e. re-routing users depending on their access levels) in a module that I reuse in other projects.</p>\n\n<p>Note: You might want to look into $provider <a href=\"http://docs.angularjs.org/api/AUTO\" rel=\"nofollow\">http://docs.angularjs.org/api/AUTO</a>.$provide if you want to use data from your re-usable (\"appModule\") module inside the config method of your ng-app (\"myApp\") module.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The limitations of the <code>ngApp</code> directive is just that, limitations of the directive, not AngularJS itself. Angular allow you to associate modules with multiple elements in a page, it even allows you to associate more than one module with each element.</p>\n\n<p>Referencing other modules from you module will work. Another approach that will work is using the <code>angular.bootstrap()</code> method. See: <a href=\"http://stackoverflow.com/a/18583329/984780\">http://stackoverflow.com/a/18583329/984780</a></p>\n\n<p>Finally you can create a directive that works like <code>ngApp</code> without it's limitations. It would work exactly the way it does in your markup code. That's what I did you can get the code here:</p>\n\n<p><a href=\"http://www.simplygoodcode.com/2014/04/angularjs-getting-around-ngapp-limitations-with-ngmodule/\" rel=\"nofollow\">http://www.simplygoodcode.com/2014/04/angularjs-getting-around-ngapp-limitations-with-ngmodule/</a></p>\n\n<p>The directive is called <code>ngModule</code>. Here's a code sample:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;script src=\"angular.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"angular.ng-modules.js\"&gt;&lt;/script&gt;\n        &lt;script&gt;\n          var moduleA = angular.module(\"MyModuleA\", []);\n          moduleA.controller(\"MyControllerA\", function($scope) {\n              $scope.name = \"Bob A\";\n          });\n\n          var moduleB = angular.module(\"MyModuleB\", []);\n          moduleB.controller(\"MyControllerB\", function($scope) {\n              $scope.name = \"Steve B\";\n          });\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div ng-modules=\"MyModuleA, MyModuleB\"&gt;\n            &lt;h1&gt;Module A, B&lt;/h1&gt;\n            &lt;div ng-controller=\"MyControllerA\"&gt;\n                {{name}}\n            &lt;/div&gt;\n            &lt;div ng-controller=\"MyControllerB\"&gt;\n                {{name}}\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div ng-module=\"MyModuleB\"&gt;\n            &lt;h1&gt;Just Module B&lt;/h1&gt;\n            &lt;div ng-controller=\"MyControllerB\"&gt;\n                {{name}}\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I want to be able to use multiple ng-app=\"{angular.module}\" directives on one page. I want to do this to make the bits of my app more modular. I figure, if I can create angular modules and plug several of them into one document, I could take those modules and plug them into other projects easily. </p>\n\n<p>I have seen people say that you can only use one ng-app directive on your page... is this true? Is it most accurate to say, \"one ng-app directive per view\"?</p>\n\n<p>I hope this is not the case, or if it is the case that there is still a best way to achieve a high degree of abstract modularity. </p>\n\n<p>Here are my modules/apps and their controllers...</p>\n\n<pre><code>var searchModj = angular.module('searchModule', []);\n\n\nvar controllers = {};\n\ncontrollers.SearchList = function ($scope){\n\n    $scope.coworkers = [\n            {name: 'Joe Bob', city: 'Ukrainia'},\n            {name: 'Adam Blobnovski', city: 'Logan' },\n            {name: 'Carlos Sanchez', city: 'Deerbushle'},   \n            {name: 'Martin Kellerweller', city: 'Uptown'},\n            {name: 'John Doe',  city: 'New York City'}\n        ];\n};\n\nsearchModj.controller(controllers);\n\n\n\nvar fruitModj = angular.module('fruiter', []);\n\n\n\ncontrollers.SomeFruit = function ($scope) {\n\n    $scope.fruits = ['apple', 'banana', 'pear'];\n\n};\n\nfruitModj.controller(controllers);\n</code></pre>\n\n<p>Ok, now here is the relevant part of my markup...</p>\n\n<pre><code>&lt;div ng-app=\"searchModule\"&gt;\n\n    &lt;div ng-controller=\"SearchList\"&gt;\n\n        Name: \n        &lt;br/&gt;\n        &lt;input type=\"text\" ng-model=\"name\" /&gt; \n        &lt;br/&gt;\n        &lt;ul&gt;\n            &lt;li ng-repeat=\"coworker in coworkers | filter:name\"&gt;{{ coworker.name }} - {{ coworker.city }}&lt;/li&gt;\n        &lt;/ul&gt;\n\n        &lt;p&gt;You are searching for &lt;em&gt;{{ name }}&lt;/em&gt;&lt;/p&gt;\n\n\n    &lt;/div&gt;\n\n\n&lt;/div&gt;\n\n&lt;div ng-app=\"fruiter\"&gt;\n    &lt;div ng-controller=\"SomeFruit\"&gt;\n\n        &lt;ul&gt;\n            &lt;li ng-repeat=\"fruit in fruits\"&gt;{{ fruits }}&lt;/li&gt;\n        &lt;/ul&gt;\n\n    &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>I think because it comes first in the document, my \"searchModule\" app works and the second app does not. When I comment out the first app, the second works. So it looks like I'm confirming my most unfortunate suspicions. Regardless... if this is the case, then what is the best approach I can bear in mind to make the functionality on my projects as modular as possible?  </p>\n",
            "last_activity_date": 1418133303,
            "question_id": 19666816,
            "score": 5,
            "tags": [
                "javascript",
                "angularjs",
                "angularjs-directive"
            ],
            "title": "Multiple ng-app directives on a page"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You do have to provide your own console log if using the JavaScriptCore framework from Mac or IOS.</p>\n\n<p>Here is some code that worked for me (sorry it is Objective-C rather than standard C as per your code above):</p>\n\n<pre><code>JSContext *javascriptContext  = [[JSContext alloc] init];\njavascriptContext[@\"consoleLog\"] = ^(NSString *message) {\n    NSLog(@\"Javascript log: %@\",message);\n};\n</code></pre>\n\n<p>Then you use it from Javascript by:</p>\n\n<pre><code>consoleLog(\"My debug message\");\n</code></pre>\n\n<p>Note that I have tried to define a vararg version (log taking multiple parameters) but I couldn't get this to work correctly across the framework api.</p>\n\n<p>Note that this solution uses features introduced with the new Objective-C API for the JavaScriptCore.framework introduced at the same time as IOS 7.  If you are looking for an intro to this well-integrated bridge between Objective-C and Javascript, check out the 2013 WWDC introduction \"Integrating JavaScript into Native Apps\" session on Apple's developer network: <a href=\"https://developer.apple.com/videos/wwdc/2013/?id=615\" rel=\"nofollow\">https://developer.apple.com/videos/wwdc/2013/?id=615</a></p>\n\n<p>Update to answer:</p>\n\n<p>For those of you wanting to maximise your javascript code reuse without refactoring, I've managed to get a version working that declares a log of the form <em>console.log()</em> :</p>\n\n<pre><code>JSContext *javascriptContext  = [[JSContext alloc] init];\n[javascriptContext evaluateScript:@\"var console = {}\"];\njavascriptContext[@\"console\"][@\"log\"] = ^(NSString *message) {\n    NSLog(@\"Javascript log: %@\",message);\n};\n</code></pre>\n\n<p>Then you use it from Javascript by:</p>\n\n<pre><code>console.log(\"My debug message\");\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I've put together a very simple program that uses JavaScriptCore to evaluate JS:</p>\n\n<pre><code>#import &lt;CoreFoundation/CoreFoundation.h&gt;\n#import &lt;JavaScriptCore/JavaScriptCore.h&gt;\n\nint main(int argc, const char * argv[])\n{\n    JSGlobalContextRef ctx = JSGlobalContextCreate(NULL);\n\n    FILE *f = fopen(argv[1],\"r\");\n    char * buffer = malloc(10000000);\n    fread(buffer,1,10000000,f);\n\n    CFStringRef strs = CFStringCreateWithCString(NULL, buffer, kCFStringEncodingASCII);\n\n    JSStringRef jsstr = JSStringCreateWithCFString(strs);\n    JSValueRef result = JSEvaluateScript(ctx, jsstr, NULL, NULL, 0, NULL);\n\n    double res  = JSValueToNumber(ctx, result, NULL);\n    JSGlobalContextRelease(ctx);\n\n    printf(\"%lf\\n\", res);\n    return 0;\n}\n</code></pre>\n\n<p>The idea here is that the last value is expected to be a <code>Number</code>, and that value is printed.  This works for valid javascript code, such as</p>\n\n<pre><code>var square = function(x) { return x*x; }; square(4)\n</code></pre>\n\n<p>However, if the code tries to perform a <code>console.log</code>, the program segfaults.  Is there a log function available in JSC or do I have to roll my own?</p>\n",
            "last_activity_date": 1396833519,
            "question_id": 19649932,
            "score": 5,
            "tags": [
                "javascript",
                "objective-c",
                "xcode",
                "osx",
                "core-foundation"
            ],
            "title": "JavaScriptCore console.log"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You need to anchor the expression to restrict the value to numbers only and I don't think you need the global modifier so you expression should become:</p>\n\n<pre><code>$scope.onlyNumbers = /^[\\u0030-\\u0039]+$/;\n</code></pre>\n\n<p>And even a better expression:</p>\n\n<pre><code>$scope.onlyNumbers = /^[0-9]+$/;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>To make it simpler <code>\\d</code> = any numeric value</p>\n\n<pre><code>$scope.onlyNumbers = /^\\d+$/;\n</code></pre>\n\n<p>Example: <a href=\"http://jsfiddle.net/TheSharpieOne/JPkER/1/\">http://jsfiddle.net/TheSharpieOne/JPkER/1/</a></p>\n",
                    "is_accepted": false,
                    "score": 16
                }
            ],
            "body": "<p>pattern to make an input text accept only numbers between 0-9.</p>\n\n<p>this is my pattern:</p>\n\n<pre><code>$scope.onlyNumbers = /[\\u0030-\\u0039]+/g;\n</code></pre>\n\n<p>for some reason,\nchars like '-' will be accepted even though it is not in the range i have declared.</p>\n\n<p>this is my input html:</p>\n\n<pre><code>  &lt;input style=\"width:40%;\" type=\"text\" name=\"phone\" ng-minlength=\"10\" ng-maxlength=\"15\" ng-model=\"register.phone\" placeholder='cell phone' ng-pattern=\"onlyNumbers\" required title=\"please enter cell phone\"&gt;\n</code></pre>\n\n<p>can someone help please?</p>\n",
            "last_activity_date": 1378998233,
            "question_id": 18746913,
            "score": 5,
            "tags": [
                "javascript",
                "regex",
                "angularjs"
            ],
            "title": "ng-pattern for only numbers will accept chars like &#39;-&#39; in angular.js"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Here's a working version. See it yourself.</p>\n\n<p>Tested on Chrome, Firefox, Opera.</p>\n\n<p>On my version of firefox, it does not support style.transition so I made it to fallback to vendor specific name if standard name is not available.</p>\n\n<p><a href=\"http://jsfiddle.net/eNCBz/5/\" rel=\"nofollow\">http://jsfiddle.net/eNCBz/5/</a></p>\n\n<pre><code>var el = document.querySelector('div');\n\nvar VENDORS = ['Moz', 'Webkit', 'Ms', 'O'];\n\nfunction getVendorSpecificName(el, prop) {\n    var style = el.style;\n    if (prop in style) {\n        return prop;\n    }\n    prop = ucfirst(prop);\n    for (var i = 0, l = VENDORS.length, name; i &lt; l; i++) {\n        name = VENDORS[i] + prop;\n        if (name in style) {\n            return name;\n        }\n    }\n    return null;\n}\n\nfunction ucfirst(str) {\n    return str &amp;&amp; str.charAt(0).toUpperCase() + str.substring(1);\n}\n\nfunction toCamelCase(str) {\n    return str.split('-').map(function (str, i) {\n        return i &gt; 0 ? ucfirst(str) : str;\n    }).join('');\n}\n\nfunction animateCss(el, prop, from, to, duration) {\n    var style = el.style,\n        camel = toCamelCase(prop),\n        vendorSpecific = getVendorSpecificName(el, camel);\n    if (!vendorSpecific) {\n        console.log(prop + ' is not supported by this browser');\n        return false;\n    }\n\n    var transitionPropName = getVendorSpecificName(el, 'transition');\n    if (!(transitionPropName in style)) {\n        console.log('transition is not supported by this browser');\n        return false;\n    }\n\n    style[vendorSpecific] = from;\n\n    setTimeout(function () {\n        style[transitionPropName] = prop + ' ' + duration + 's ease';\n        setTimeout(function () {\n            style[vendorSpecific] = to;\n        }, 1);\n    }, 1);\n    return true;\n}\n\nanimateCss(el, 'opacity', 0, 1, 2);\n</code></pre>\n\n<p>Let me explain what is going on:</p>\n\n<ul>\n<li><p>made some helper functions like ucfirst, toCamelCase</p>\n\n<ul>\n<li>style property uses camel case names</li>\n</ul></li>\n<li><p>try to find vendor specific style property name if standard name is not available</p></li>\n<li><p>utilize setTimeout function to make sure browser to redraw</p>\n\n<ul>\n<li>as far as I know, all browsers always redraw on timeout</li>\n</ul></li>\n</ul>\n\n<p>I tried to make it more generic function so other properties can be applied as well, such as color or  background.</p>\n\n<p>Hope this helps!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You shouldn't need too much JavaScript to achieve what you want, just use CSS keyframes and animations for the same effect.</p>\n\n<pre><code>div {\n    opacity: 0;\n}\n\ndiv.fadeIn {\n    -webkit-animation: fadeIn 2s forwards;\n    animation: fadeIn 2s forwards;\n}\n\n@keyframes fadeIn {\n    0% {opacity: 0;}\n    100% {opacity: 1;}\n}\n\n@-webkit-keyframes fadeIn {\n    0% {opacity: 0;}\n    100% {opacity: 1;}\n}\n</code></pre>\n\n<p>As shown in <a href=\"http://jsfiddle.net/Jhuy6/23/\" rel=\"nofollow\">this JsFiddle</a> it works either from page load (with class already added) or when dynamically adding the class to trigger the animation.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "\n\n<p>As the title implies, is there a proper way to set some initial CSS properties (or class) and tell the browser to transition these to another value?</p>\n\n<p>For example (<a href=\"http://jsfiddle.net/Jhuy6/\" rel=\"nofollow\">fiddle</a>):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var el = document.querySelector('div'),\n    st = el.style;\nst.opacity = 0;\nst.transition = 'opacity 2s';\nst.opacity = 1;\n</code></pre>\n\n<p>This will not animate the opacity of the element in Chrome 29/Firefox 23.  This is because (<a href=\"http://blog.alexmaccaw.com/css-transitions\" rel=\"nofollow\">source</a>):</p>\n\n<blockquote>\n  <p>[...] you\u2019ll find that if you apply both sets of properties, one immediately\n  after the other, then the browser tries to optimize the property\n  changes, ignoring your initial properties and preventing a transition.\n  Behind the scenes, browsers batch up property changes before painting\n  which, while usually speeding up rendering, can sometimes have adverse\n  affects.</p>\n  \n  <p>The solution is to force a redraw between applying the two sets of\n  properties. A simple method of doing this is just by accessing a DOM\n  element\u2019s <code>offsetHeight</code> property [...]</p>\n</blockquote>\n\n<p>In fact, the hack does work in the current Chrome/Firefox versions. Updated code (<a href=\"http://jsfiddle.net/Jhuy6/1/\" rel=\"nofollow\">fiddle</a> - click <code>Run</code> after opening the fiddle to run animation again):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var el = document.querySelector('div'),\n    st = el.style;\nst.opacity = 0;\nel.offsetHeight; //force a redraw\nst.transition = 'opacity 2s';\nst.opacity = 1;\n</code></pre>\n\n<p>However, this is rather hackish and is reported to not work on some android devices.</p>\n\n<p>Another <a href=\"http://stackoverflow.com/a/8213003/1331430\">answer</a> suggests using <code>setTimeout</code> so the browser has time to perform a redraw, but it also fails in that we don't know how long it will take for a redraw to take place. Guessing a decent number of milliseconds (30-100?) to ensure that a redraw occurred means sacrificing performance, unnecessarily idling in the hopes that the browser performs some magic in that little while.</p>\n\n<p>Through testing, I've found yet another solution which has been working great on latest Chrome, using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window.requestAnimationFrame\" rel=\"nofollow\"><code>requestAnimationFrame</code></a> (<a href=\"http://jsfiddle.net/Jhuy6/2/\" rel=\"nofollow\">fiddle</a>):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var el = document.querySelector('div'),\n    st = el.style;\nst.opacity = 0;\nrequestAnimationFrame(function() {\n    st.transition = 'opacity 2s';\n    st.opacity = 1;\n});\n</code></pre>\n\n<p>I assume that <code>requestAnimationFrame</code> waits until right before the beginning of the next repaint before executing the callback, hence the browser does not batch up the property changes. Not entirely sure here, but works nicely on Chrome 29.</p>\n\n<p><strong>Update:</strong> after further testing, the <code>requestAnimationFrame</code> method does not work very well on Firefox 23 - it seems to fail most of the time. (<a href=\"http://jsfiddle.net/Jhuy6/13/\" rel=\"nofollow\">fiddle</a>)</p>\n\n<p>Is there a proper or recommended (cross-browser) way of achieving this?</p>\n",
            "last_activity_date": 1390395151,
            "question_id": 18564942,
            "score": 5,
            "tags": [
                "javascript",
                "css",
                "css3",
                "css-transitions",
                "transition"
            ],
            "title": "Clean way to programmatically use CSS transitions from JS?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Unfortunately, you cannot (yet?) select this via the code.</p>\n\n<ul>\n<li><p>Mozilla Firefox beta: When the user accepts to share camera, he/she\nalso select what camera to share.</p></li>\n<li><p>Chrome beta: I have only been able to use the face camera. Could be\nconfigurable, but I do not know how\u2026</p></li>\n</ul>\n\n<p><strong>EDIT:</strong> In chrome it's possible to select the back facing camera programmatically. See the next answer by Probot in this thread.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>There's a solution where the user can select one of the cameras.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/18625007/enable-rear-camera-with-html5\">Enable rear camera with HTML5</a></p>\n\n<p>By evaluating <code>sourceInfo.facing</code> from the following code, you can select a camera ('user' or 'environment') (which works on current chrome >= 30): <a href=\"https://simpl.info/getusermedia/sources/\" rel=\"nofollow\">https://simpl.info/getusermedia/sources/</a></p>\n\n<pre><code>'use strict';\n\nvar videoElement = document.querySelector('video');\nvar audioSelect = document.querySelector('select#audioSource');\nvar videoSelect = document.querySelector('select#videoSource');\n\nnavigator.getUserMedia = navigator.getUserMedia ||\n  navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\n\nfunction gotSources(sourceInfos) {\n  for (var i = 0; i !== sourceInfos.length; ++i) {\n    var sourceInfo = sourceInfos[i];\n    var option = document.createElement('option');\n    option.value = sourceInfo.id;\n    if (sourceInfo.kind === 'audio') {\n      option.text = sourceInfo.label || 'microphone ' + (audioSelect.length + 1);\n      audioSelect.appendChild(option);\n    } else if (sourceInfo.kind === 'video') {\n      option.text = sourceInfo.label || 'camera ' + (videoSelect.length + 1);\n      videoSelect.appendChild(option);\n    } else {\n      console.log('Some other kind of source: ', sourceInfo);\n    }\n  }\n}\n\nif (typeof MediaStreamTrack === 'undefined'){\n  alert('This browser does not support MediaStreamTrack.\\n\\nTry Chrome Canary.');\n} else {\n  MediaStreamTrack.getSources(gotSources);\n}\n\n\nfunction successCallback(stream) {\n  window.stream = stream; // make stream available to console\n  videoElement.src = window.URL.createObjectURL(stream);\n  videoElement.play();\n}\n\nfunction errorCallback(error){\n  console.log('navigator.getUserMedia error: ', error);\n}\n\nfunction start(){\n  if (!!window.stream) {\n    videoElement.src = null;\n    window.stream.stop();\n  }\n  var audioSource = audioSelect.value;\n  var videoSource = videoSelect.value;\n  var constraints = {\n    audio: {\n      optional: [{sourceId: audioSource}]\n    },\n    video: {\n      optional: [{sourceId: videoSource}]\n    }\n  };\n  navigator.getUserMedia(constraints, successCallback, errorCallback);\n}\n\naudioSelect.onchange = start;\nvideoSelect.onchange = start;\n\nstart();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>While using getUserMedia API to access camera in desktop it will open web camera.of course it is help to video communication.but which camera is invoked when it is used in mobile device.Front cam or Rear cam?.is there needed code for selecting camera?</p>\n",
            "last_activity_date": 1421012663,
            "question_id": 18483160,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "getusermedia"
            ],
            "title": "Which Camera will open getUserMedia API in mobile Device? Front or Rear?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Your question is very incomplete. First, is that a mobile or desktop app? In both cases, the solution to your problem will strongly depend on the HTML engine that renders the pages: Webkit, Geko/Firefox, Trident/IE for example have their own method to produce the view that you want to save as an image.</p>\n\n<p>Anyway, you could start looking at how this Firefox plugin works: <a href=\"https://addons.mozilla.org/it/firefox/addon/pagesaver/\" rel=\"nofollow\">https://addons.mozilla.org/it/firefox/addon/pagesaver/</a></p>\n\n<p>It should do what you want to implement, look for its source code.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Check out <a href=\"http://html2canvas.hertzen.com/\">html2canvas</a>. A javascript framework that renders the page content on a canvas element. Saving the canvas as an image is as easy as:</p>\n\n<pre><code>var canvas = document.getElementById(\"mycanvas\");\nvar img    = canvas.toDataURL(\"image/png\");\ndocument.write('&lt;img src=\"'+img+'\"/&gt;');\n</code></pre>\n\n<p><a href=\"http://stackoverflow.com/a/3514404/887530\">source</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>In my app i have to provide a 'save as image' button. I want to save the html rendered on my webpage as an image in javascript. Suppose i have some html and on click of 'save as image' this html should be saved as an image.</p>\n",
            "last_activity_date": 1376912463,
            "question_id": 18312271,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "html5"
            ],
            "title": "javascript how to save html rendered on webpage as image"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>That's because data $watcher in ng-grid (incorrectly) compares the data object for reference, instead on object equality. You might remedy this by setting the third parameter to true in <a href=\"https://github.com/angular-ui/ng-grid/blob/master/ng-grid-2.0.7.debug.js#L3128\">data $watch function</a> (line 3128):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$scope.$parent.$watch(options.data, dataWatcher, true);\n</code></pre>\n\n<p><a href=\"http://plnkr.co/edit/ZWeyTm?p=preview\">Plunker</a></p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>If you don't feel like hacking into a 3rd party library, you could add the hack in your code using:</p>\n\n<pre><code>$scope.updateData = function() {\n  var data = angular.copy($scope.myData);\n  data.splice(data.length - 1, 1, {name: 'UPDATED', age: '4'})\n  $scope.myData = data;\n};\n</code></pre>\n\n<p><a href=\"http://plnkr.co/edit/OI80lO?p=preview\" rel=\"nofollow\">plunkr</a></p>\n\n<p>As @Stewie mentions, the problem is that for performance reasons <code>ngGrid</code> compares the data object superficially, and in the case of arrays, this is by reference. <code>ngGrid</code> also compares by the array length, so if the array doesn't change it's length the grid wont' get updated.</p>\n\n<p>This solution creates a copy of the array (different place in memory) so that when angularjs <code>$watcher</code> checks for changes it will find a different object and run the <code>ngGrid</code> update callback.</p>\n\n<p><strong>NOTE:</strong> Because this solution creates a copy of the data array on every call to <code>updateData</code>, it could lead to performance problems if your data is too big, also Javascript doesn't have a great garbage collection.</p>\n\n<p><strong>Old Incorrect Answer:</strong></p>\n\n<p><strike>\n<code>$timeout(angular.noop, 0);</code></p>\n\n<p>This simply sets a timeout to trigger a <code>$scope.$apply()</code> after the current one is done. A way of forcing a dirty check.</strike></p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I am trying to update <strong><a href=\"http://angular-ui.github.io/ng-grid/\" rel=\"nofollow\">ng-grid</a></strong> with array <code>splice</code>.\n I have a plunk <strong><a href=\"http://plnkr.co/edit/ZRFvvo?p=preview\" rel=\"nofollow\">here</a></strong>. </p>\n\n<p>Add button adds new row. Update button updates last item in the array. </p>\n\n<ol>\n<li>Select a row &amp; press update button. Nothing happens. </li>\n<li>Press add button. Now UI gets updated with new element &amp; as well as the previously updated element. </li>\n<li>Same behavior gets repeated again &amp; again.</li>\n</ol>\n\n<p>I tried <code>$scope.$apply</code>. I get: </p>\n\n<blockquote>\n  <p>\u201cError: $apply already in progress\u201d</p>\n</blockquote>\n\n<p>I even tried by placing <code>$scope.$apply</code> block inside a <code>setTimeout</code> call. Again the same error!</p>\n\n<p>Any pointers!</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1401390547,
            "question_id": 17529559,
            "score": 5,
            "tags": [
                "javascript",
                "angularjs",
                "angular-ui",
                "ng-grid"
            ],
            "title": "AngularJS/ng-grid - Updating array with splice doesn&#39;t updates UI"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>All constructors are instances of the global <code>Function</code> object:</p>\n\n<pre><code>function Foo(){ this.x = 1 }; // Dummy constructor function\n\nconsole.log(Foo instanceof Function) // =&gt; true; Foo is an instance of global Function constructor\n</code></pre>\n\n<p>All prototypes are instances of the global <code>Object</code> object:</p>\n\n<pre><code>console.log(Foo.prototype instanceof Object); // =&gt; true\n</code></pre>\n\n<p>When a constructor <code>Foo</code> is defined, it automatically has a <code>Foo.prototype</code> object attached to it, which you can think of as a \"blank\" object that itself, as per the above, inherits from the global <code>Object</code> object. In other words, the prototype of <code>Foo.prototype</code> is <code>Object.prototype</code>:</p>\n\n<pre><code>function Foo(){ this.x = 1 }; // Dummy constructor function\n\nconsole.log(Foo.prototype); // Foo (object); already exists\n\nconsole.log(Object.getPrototypeOf(Foo.prototype) === Object.prototype); // =&gt; true\n</code></pre>\n\n<p>Since <code>Foo.prototype</code> is a blank object, one would expect its constructor to be the global <code>Object</code> constructor function:</p>\n\n<pre><code>function Foo(){ this.x = 1 }; // Dummy constructor function\n\nconsole.log(Foo.prototype.constructor) // =&gt; function Foo() { this.x = 1; } ??\n\nconsole.log(Foo.prototype.constructor === Object.prototype.constructor); // =&gt; false\n</code></pre>\n\n<p>However this \"blank\" object has an explicit self-referential <code>constructor</code> property that points back to <code>function Foo(){ this.x = 1 }</code> and overwrites or \"masks\" the default constructor property you are expecting:</p>\n\n<pre><code>function Foo(){ this.x = 1 }; // Dummy constructor function\n\ndelete Foo.prototype.constructor; // Delete explicit constructor property\n\nconsole.log(Foo.prototype.constructor) // =&gt; function Object() { [native code] }\n\nconsole.log(Foo.prototype.constructor === Object.prototype.constructor); // =&gt; true\n</code></pre>\n\n<p>Therefore you can't use <code>obj.constructor.prototype</code> recursively to traverse the prototype chain and have to rely on the <code>Object.getPrototypeOf()</code> method.</p>\n\n<p>Here's a great <a href=\"http://i.imgur.com/IkxPv.png\" rel=\"nofollow\">visual reference</a>.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<blockquote>\n  <p>If I can use obj.constructor.prototype to access the prototype of an object</p>\n</blockquote>\n\n<p>You can't in general. Consider how this approach works:</p>\n\n<pre><code>var proto = MyConstructor.prototype;\n// has an (nonenumberable) property \"constructor\"\nproto.hasOwnProperty(\"constructor\"); // `true`\n// that points [back] to\nproto.constructor; // `function MyConstructor() {\u2026}`\n</code></pre>\n\n<p>As you see, that's a circular property structure. When you do</p>\n\n<pre><code>var o = new MyConstructor();\n// and access\no.constructor; // `function MyConstructor() {\u2026}`\n// then it yields the value that is inherited from `proto`\n// as `o` doesn't have that property itself:\no.hasOwnProperty(\"constructor\"); // `false`\n</code></pre>\n\n<p>But that only works for object like <code>o</code> that inherit the <code>constructor</code> property from their prototype object and where that has a useful value with something pointing to the prototype object. Think of</p>\n\n<pre><code>var o = {};\no.constructor = {prototype: o};\n</code></pre>\n\n<p>Oops. Accessing <code>o.constructor.prototype</code> yields <code>o</code> itself here, and it could have been any other nonsensical value. The structure actually is the same as above with <code>MyConstructor.prototype</code> - and if you access <code>proto.constructor.prototype.constructor.prototype[.constructor.prototype\u2026]</code> you won't get anything else than just <code>proto</code>.</p>\n\n<blockquote>\n  <p>then why can't I use <code>obj.constructor.prototype.constructor.prototype</code> to traverse the prototype chain and have to use <code>Object.getPrototypeOf</code>?</p>\n</blockquote>\n\n<p>Because you're trapped in the circular structure as <code>MyConstructor.prototype</code>) has that <code>constructor</code> property itself and not inherited from <code>Object.prototype</code>. For really getting the next object the true prototype chain, you have to use <code>Object.getPrototypeOf</code>.</p>\n\n<blockquote>\n<pre><code>var o = new MyConstructor();\nconsole.log(o.constructor.prototype) // MyConstructor\n</code></pre>\n</blockquote>\n\n<p>It should have been <code>MyConstructor.prototype</code> actually. Chrome console sometimes gets confused at displaying useful titles for unnamed objects though, and is not always correct.</p>\n\n<p>If you get its prototype, it should yield <code>Object.prototype</code>, and when you get the prototype of the <code>MyConstructor</code> function itself it should be <code>Function.prototype</code>. Notice that you can do the latter by <code>MyConstructor.constructor.prototype</code> again\u2026</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>If I can use <code>obj.constructor.prototype</code> to access the prototype of an object, then why can't I use <code>obj.constructor.prototype.constructor.prototype</code> to traverse the prototype chain and have to use <code>Object.getPrototypeOf</code>?</p>\n\n<pre><code>function MyConstructor()\n{\n    this.prop = 1;\n}\n\nvar o = new MyConstructor();\n\nconsole.log(o.constructor.prototype) // MyConstructor\n\nconsole.log(o.constructor.prototype.constructor.prototype) // MyConstructor?\n</code></pre>\n\n<p>Shouldn't it return the prototype of MyConstructor which is <code>function() { [native code] }</code> (in Chrome console)?</p>\n",
            "last_activity_date": 1372699287,
            "question_id": 17394802,
            "score": 5,
            "tags": [
                "javascript",
                "constructor",
                "prototype"
            ],
            "title": "Traversing prototype chain using constructor.prototype"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p><strong>UPDATE</strong></p>\n\n<h2>Some techniques that can be applied</h2>\n\n<p>Here are some optimization techniques that can be applied to make this work more fluent in FF and Safari as well.</p>\n\n<p>That being said: Chromes's canvas implementation is very good and much faster (at the moment) than the bone provided by Firefox and Safari. The new Opera uses the same engine as Chrome and is (about?) equally as fast as Chrome's.</p>\n\n<p>For this to work fine cross-browser some compromises needs to be made and as always <strong>quality</strong> will suffer.</p>\n\n<p>The techniques I try to demonstrate are:</p>\n\n<ul>\n<li>Cache a single gradient that is used as meta ball basis</li>\n<li>Cache everything if possible</li>\n<li>Render in half resolution</li>\n<li>Use drawImage to update main canvas</li>\n<li>Disable image smoothing</li>\n<li>Use integer coordinates and sizes</li>\n<li>Use <code>requestAnimationFrame</code></li>\n<li>Use <code>while</code> loops as often as you can</li>\n</ul>\n\n<h2>Bottlenecks</h2>\n\n<p>There is a high cost in generating a gradient for each metaball. So when we cache this once and for all we will just by doing that notice a huge improvement in performance.</p>\n\n<p>The other point is <code>getImageData</code> and <code>putImageData</code> and the fact that we need to use a high-level language to iterate over a low-level byte array. Fortunately the array is typed array so that helps a little but we won't be able to get much more out of it unless we sacrifice more quality.</p>\n\n<p>When you need to squeeze everything you can the so-called micro-optimizations becomes vital (these has an undeserved bad reputation IMO).</p>\n\n<p>From the impression of your post: You seem to be very close to have this working but from the provided code I cannot see what went wrong so-to-speak.</p>\n\n<p>In any case - Here is an actual implementation of this (based on the code you refer to):</p>\n\n<p><strong><a href=\"http://jsfiddle.net/AbdiasSoftware/95px6/\">ONLINE DEMO HERE</a></strong></p>\n\n<p><strong><a href=\"http://jsfiddle.net/AbdiasSoftware/95px6/show/\">ONLINE DEMO HERE IN SCREEN MODE</a></strong></p>\n\n<p>Pre-calculate variables in the initial steps - everything we can pre-calculate helps us later as we can use the value directly:</p>\n\n<pre><code>var ...,\n\n/// multiplicator for resolution (see comment below)\nfactor = 2,\nwidth = 500,\nheight = 500,\n\n/// some dimension pre-calculations\nwidthF = width / factor,\nheightF = height / factor,\n\n/// for the pixel alpha\nthreshold = 210,\nthresholdQ = threshold * 0.25,\n\n/// for gradient (more for simply setting the resolution)\ngrad,\ndia = 500 / factor,\nradius = dia * 0.5,\n\n...\n</code></pre>\n\n<p>We use a factor here to reduce the actual size and to scale the final render to on-screen canvas. For each 2 factor you save 4x pixels exponentially. I preset this to 2 in the demo and this works great with Chrome and good with Firefox. You might even be able to run factor of 1 (1:1 ratio) in both browsers on a better spec'ed machine than mine (Atom CPU).</p>\n\n<p><strong>Init the sizes of the various canvases:</strong></p>\n\n<pre><code>/// set sizes on canvases\ncanvas.width = width;\ncanvas.height = height;\n\n/// off-screen canvas\ntmpCanvas.width = widthF;\ntmpCanvas.height = heightF;\n\n/// gradient canvas\ngCanvas.width = gCanvas.height = dia\n</code></pre>\n\n<p>Then generate a single instance of a gradient that will be cached for the other balls later. Worth to notice: I initially used only this to draw all the balls but later decided to cache each ball as an image (canvas) instead of drawing and scaling.</p>\n\n<p>This has a memory penalty but increases the performance. If memory is of importance you can skip the caching of rendered balls in the loop that generates them and just <code>drawImage</code> the gradient canvas instead when you need to draw the balls.</p>\n\n<p><strong>Generate gradient:</strong></p>\n\n<pre><code>var grad = gCtx.createRadialGradient(radius, radius, 1, radius, radius, radius);\ngrad.addColorStop(0, 'rgba(0,0,255,1)');\ngrad.addColorStop(1, 'rgba(0,0,255,0)');\ngCtx.fillStyle = grad;\ngCtx.arc(radius, radius, radius, 0, Math.PI * 2);\ngCtx.fill();\n</code></pre>\n\n<p>Then in the loop that generates the various metaballs.</p>\n\n<p><strong>Cache the calculated and rendered metaball:</strong></p>\n\n<pre><code>for (var i = 0; i &lt; 50; i++) {\n\n    /// all values are rounded to integer values\n    var x = Math.random() * width | 0,\n        y = Math.random() * height | 0,\n        vx = Math.round((Math.random() * 8) - 4 + 0.5),\n        vy = Math.round((Math.random() * 8) - 4 + 0.5),\n        size = Math.round((Math.floor(Math.random() * 200) + 200) / factor),\n\n        /// cache this variant as canvas\n        c = document.createElement('canvas'),\n        cc = c.getContext('2d');\n\n    /// scale and draw the metaball\n    c.width = c.height = size;\n    cc.drawImage(gCanvas, 0, 0, size, size);\n\n    points.push({\n        x: x,\n        y: y,\n        vx: vx,\n        vy: vy,\n        size: size,\n        maxX: widthF + size,\n        maxY: heightF + size,\n        ball: c  /// here we add the cached ball\n    });\n}\n</code></pre>\n\n<p>Then we turn off interpolating for images that are being scaled - this gains even more speed.</p>\n\n<p>Note that you can also use CSS in some browsers to do the same as here.</p>\n\n<p><strong>Disable image smoothing:</strong></p>\n\n<pre><code>/// disable image smoothing for sake of speed\nctx.webkitImageSmoothingEnabled = false;\nctx.mozImageSmoothingEnabled = false;\nctx.msImageSmoothingEnabled = false;\nctx.oImageSmoothingEnabled = false;\nctx.imageSmoothingEnabled = false;  ///future...\n</code></pre>\n\n<p>Now the non-critical parts are done. The rest of the code utilizes these tweaks to perform better.</p>\n\n<p>The main loop now looks like this:</p>\n\n<pre><code>function animate() {\n\n    var len = points.length,\n        point;\n\n    /// clear the frame of off-sceen canvas\n    tmpCtx.clearRect(0, 0, width, height);\n\n    while(len--) {\n        point = points[len];\n        point.x += point.vx;\n        point.y += point.vy;\n\n        /// the checks are now exclusive so only one of them is processed    \n        if (point.x &gt; point.maxX) {\n            point.x = -point.size;\n        } else if (point.x &lt; -point.size) {\n            point.x = point.maxX;\n        }\n\n        if (point.y &gt; point.maxY) {\n            point.y = -point.size;\n        } else if (point.y &lt; -point.size) {\n            point.y = point.maxY;\n        }\n\n        /// draw cached ball onto off-screen canvas\n        tmpCtx.drawImage(point.ball, point.x, point.y, point.size, point.size);\n    }\n\n    /// trigger levels\n    metabalize();\n\n    /// low-level loop\n    requestAnimationFrame(animate);\n}\n</code></pre>\n\n<p>Using <code>requestAnimationFrame</code> squeezes a little more of the browser as it is intended to be more low-level and more efficient than just using a <code>setTimeout</code>.</p>\n\n<p>The original code checked for both edges - this is not necessary as a ball can only cross one edge at the time (per axis).</p>\n\n<p>The metabolize function is modified like this:</p>\n\n<pre><code>function metabalize(){\n\n    /// cache what can be cached\nvar imageData = tmpCtx.getImageData(0 , 0, widthF, heightF),\n        pix = imageData.data,\n        i = pix.length - 1,\n        p;\n\n    /// using a while loop here instead of for is beneficial\n    while(i &gt; 0) {\n    p = pix[i];\n        if(p &lt; threshold) {\n    pix[i] = p * 0.1667; // multiply is faster than div\n    if(p &gt; thresholdQ){\n        pix[i] = 0;\n    }\n        }\n    i -= 4;\n    }\n\n    /// put back data, clear frame and update scaled\n    tmpCtx.putImageData(imageData, 0, 0);\n    ctx.clearRect(0, 0, width, height);\n    ctx.drawImage(tmpCanvas, 0, 0, width, height);\n}\n</code></pre>\n\n<p>Some micro-optimizations that actually helps in this context.</p>\n\n<p>We cache the pixel value for alpha channel as we use it more than two times. Instead of <em>diving</em> on <code>6</code> we <em>multiply</em> with <code>0.1667</code> as multiplication is a tad faster.</p>\n\n<p>We have already cached <code>tresholdQ</code> value (25% of <code>threshold</code>). Putting the cached value inside the function would give a little more speed.</p>\n\n<p>Unfortunately as this method is based on the alpha channel we need to clear also the main canvas. This has a (relatively) huge penalty in this context. The optimal would be to be able to use solid colors which you could \"blit\" directly but I didn't look Into that aspect here.</p>\n\n<p>You could also had put the point data in an array instead of as objects. However, since there are so few this will probably not be worth it in this case.</p>\n\n<h2>In conclusion</h2>\n\n<p>I have probably missed one or two (or more) places which can be optimized further but you get the idea.</p>\n\n<p>And as you can see the modified code runs several times faster than the original code mainly due to the compromise we make here with quality and some optimizations particularly with the gradient.</p>\n\n<p><strong>Old answer removed</strong></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>There is scope of improvement in programming, in drawing particle section.</p>\n\n<p>instead of using </p>\n\n<pre><code>if(leftover &gt; 0) {\n        do {\n            this.process(i++);\n        } while(--leftover &gt; 0);\n    }\n</code></pre>\n\n<p>you can just use this</p>\n\n<pre><code>while(leftover &gt; 0) {\n        this.process(i++);\n        leftover --;\n   }\n</code></pre>\n\n<p>This will reduce one step of condition checking of if and also the (--)operator that decrements one value and checks. this will reduce the complexity </p>\n\n<p>with all do while you have (--) that can be removed, with simple statement this will reduce the Cyclomatic Complexity of this particular code and make this code faster.</p>\n\n<p>ultimately this will give the performance improvement with the faster processing of your code and less use of CPU and resources. although Ken's answer is also working one, I have created one more fiddle that is similar to your sample site with more speed.</p>\n\n<p><a href=\"http://jsfiddle.net/MarmeeK/djuVH/\" rel=\"nofollow\"><code>fiddle</code></a></p>\n\n<p>If any problem please leave a comment, and update fiddle with game code for performance check.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>this may help see  below</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"dat.gui.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n\nvar FizzyText = function() {\n  this.message = 'dat.gui';\n  this.speed = 0.8;\n  this.displayOutline = false;\n  this.explode = function() { ... };\n  // Define render logic ...\n};\n\nwindow.onload = function() {\n  var text = new FizzyText();\n  var gui = new dat.GUI();\n  gui.add(text, 'message');\n  gui.add(text, 'speed', -5, 5);\n  gui.add(text, 'displayOutline');\n  gui.add(text, 'explode');\n};\n\n&lt;/script&gt;\n</code></pre>\n\n<p>for more see this <a href=\"http://workshop.chromeexperiments.com/examples/gui/#1--Basic-Usage\" rel=\"nofollow\">link1</a> and <a href=\"http://code.google.com/p/dat-gui/\" rel=\"nofollow\">link2</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This loop is already pretty simple, uses stable types that JIT likes, so I don't think you can get significant improvement.</p>\n\n<p>I've eliminated <code>+3</code> and unrolled it a bit (assuming width*height is divisible by 4). I've added <code>|0</code> \"cast\" to integer that makes it sliiightly faster in V8.</p>\n\n<p>Overall it gave 10% improvement:</p>\n\n<pre><code>var i = (3 - 4)|0;\nvar n = (pix.length - 16)|0;\nwhile(i &lt; n) {\n    if (pix[i+=4] &lt; 210){\n        pix[i] = 0;\n    }\n    if (pix[i+=4] &lt; 210){\n        pix[i] = 0;\n    }\n    if (pix[i+=4] &lt; 210){\n        pix[i] = 0;\n    }\n    if (pix[i+=4] &lt; 210){\n        pix[i] = 0;\n    }\n}\n</code></pre>\n\n<p>If you need it to be massively faster, then maybe use lower-resolution canvas for the effect?</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to use the following effect on a HTML5 game: <a href=\"http://somethinghitme.com/projects/metaballs/\" rel=\"nofollow\">http://somethinghitme.com/projects/metaballs/</a></p>\n\n<p>But since its a game (as opposed to graphical demo)  I have tighter FPS requirements, I need time to calculate the physics and the some other things and my biggest bottleneck is the code for the metaballs.</p>\n\n<p>The following code is what I got after stripping the original code for performance, its not as pretty but it's enough for my purposes:</p>\n\n<pre><code>ParticleSpawner.prototype.metabilize = function(ctx) {\n    var imageData = this._tempCtx.getImageData(0,0,900,675),\n    pix = imageData.data;\n    this._tempCtx.putImageData(imageData,0,0);\n\n    for (var i = 0, n = pix.length; i &lt;n; i += 4) {\n        if(pix[i+3]&lt;210){\n            pix[i+3] = 0;\n        }\n    }\n\n    //ctx.clearRect(0,0,900,675);\n    //ctx.drawImage(this._tempCanvas,0,0);\n    ctx.putImageData(imageData, 0, 0);\n}\n</code></pre>\n\n<p>I had another loop on my code and I managed to increase its performance by using the technique described on the following link <a href=\"http://www.fatagnus.com/unrolling-your-loop-for-better-performance-in-javascript/\" rel=\"nofollow\">http://www.fatagnus.com/unrolling-your-loop-for-better-performance-in-javascript/</a> but using the same on this actually decreases the performance (maybe I did it wrong?)</p>\n\n<p>I also researched web workers to see if I could split the load (since the code runs for each pixel individually) but the example I found on this link <a href=\"http://blogs.msdn.com/b/eternalcoding/archive/2012/09/20/using-web-workers-to-improve-performance-of-image-manipulation.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/eternalcoding/archive/2012/09/20/using-web-workers-to-improve-performance-of-image-manipulation.aspx</a> actually runs slower when using web workers.</p>\n\n<p>What else can I do? Is there a way to remove the branching from the loop? Another way to unroll it? Or is this the best I can do?</p>\n\n<p>Edit:</p>\n\n<p>This is some of the surrounding code:</p>\n\n<pre><code>ParticleSpawner.prototype.drawParticles = function(ctx) {\n    this._tempCtx.clearRect(0,0,900,675);\n\n    var iterations = Math.floor(this._particles.getNumChildren() / 8);\n    var leftover = this._particles.getNumChildren() % 8;\n    var i = 0;\n\n    if(leftover &gt; 0) {\n        do {\n            this.process(i++);\n        } while(--leftover &gt; 0);\n    }\n\n    do {\n        this.process(i++);\n        this.process(i++);\n        this.process(i++);\n        this.process(i++);\n        this.process(i++);\n        this.process(i++);\n        this.process(i++);\n        this.process(i++);\n    } while(--iterations &gt; 0);\n\n    this.metabilize(ctx);\n\n}\n</code></pre>\n\n<p>and the process method:</p>\n\n<pre><code>ParticleSpawner.prototype.process = function(i) {\n    if(!this._particles.getChildAt(i)) return;\n    var bx = this._particles.getChildAt(i).x;\n    var by = this._particles.getChildAt(i).y;\n\n    if(bx &gt; 910 || bx &lt; -10 || by &gt; 685) {\n        this._particles.getChildAt(i).destroy();\n        return;\n    }\n\n    //this._tempCtx.drawImage(this._level._queue.getResult(\"particleGradient\"),bx-20,by-20);\n\n    var grad = this._tempCtx.createRadialGradient(bx,by,1,bx,by,20);\n    this._tempCtx.beginPath();\n\n    var color = this._particles.getChildAt(i).color;\n    var c = \"rgba(\"+color.r+\",\"+color.g+\",\"+color.b+\",\";\n\n    grad.addColorStop(0, c+'1.0)');\n    grad.addColorStop(0.6, c+'0.5)');\n    grad.addColorStop(1, c+'0)');\n\n    this._tempCtx.fillStyle = grad;\n    this._tempCtx.arc(bx, by, 20, 0, Math.PI*2);\n    this._tempCtx.fill();\n\n};\n</code></pre>\n\n<p>As can be seen, I tried using images instead of gradient shapes, but the performance was worse, I also tried to use ctx.drawImage instead of putImageData, but it loses the alpha and is not faster. I can't think of an alternative to achieve the desired effect. The current code runs perfectly on Google Chrome, but Safari and Firefox are really slow. Is there anything else I can try? Should I just give up on those browsers?</p>\n",
            "last_activity_date": 1378072966,
            "question_id": 17177748,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "optimization",
                "canvas"
            ],
            "title": "Increasing real-time performance on canvas&#39; effects"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>A Javascript object with duplicate keys is not a Javascript object. In fact, it is no more than a figment of your imagination. It is totally impossible.</p>\n\n<p>The only way to do this is with an array:</p>\n\n<pre><code>{\n     \"key1\" : \"value1\",\n     \"key2\" : [\"value2\", \"value3\", \"value4\"],\n     \"key3\" : \"value5\"\n}\n</code></pre>\n\n<p>jQuery will convert this into <code>key1=value1&amp;key2%5B%5D=value2&amp;key2%5B%5D=value3&amp;key2%5B%5D=value4&amp;key3=value5</code></p>\n\n<p>This is genuinely the only way to do this.* Is there a reason why your code cannot generate valid JSON?</p>\n\n<p><sub>* Except for writing your own parser that handles invalid JSON. But that would be breathtakingly stupid.</sub></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>From what I can see, <code>{\"a\": \"b\", \"a\": \"c\"}</code> actually is <em>valid</em> JSON according to <a href=\"http://www.ietf.org/rfc/rfc4627.txt\">RFC 4627</a>.</p>\n\n<blockquote>\n  <p>An object structure is represented as a pair of curly brackets\n     surrounding zero or more name/value pairs (or members).  A name is a\n     string.  A single colon comes after each name, separating the name\n     from the value.  A single comma separates a value from a following\n     name.  The names within an object <strong>SHOULD</strong> be unique.</p>\n</blockquote>\n\n<p>...where SHOULD means:</p>\n\n<blockquote>\n  <p>3. SHOULD.   This word, or the adjective \"RECOMMENDED\", mean that there\n     may exist valid reasons in particular circumstances to ignore a\n     particular item, but the full implications must be understood and\n     carefully weighed before choosing a different course.</p>\n</blockquote>\n\n<p>So yeah, basically you <em>can</em> do that, it is <em>legal</em>, but it's also a bad idea. Different JSON decoders will probably handle this situation differently and/or in undesiderable ways. Look at what the spec requires of parsers:</p>\n\n<blockquote>\n  <p>A JSON parser transforms a JSON text into another representation.  A\n     JSON parser <strong>MUST</strong> accept all texts that conform to the JSON grammar.\n     A JSON parser <strong>MAY</strong> accept non-JSON forms or extensions.</p>\n  \n  <p>An implementation <strong>may</strong> set limits on the size of texts that it\n     accepts.  An implementation <strong>may</strong> set limits on the maximum depth of\n     nesting.  An implementation <strong>may</strong> set limits on the range of numbers.\n     An implementation <strong>may</strong> set limits on the length and character contents\n     of strings.</p>\n</blockquote>\n\n<p>...but an implementation doesn't <em>have</em> to handle situations like this sanely. For example: </p>\n\n<pre><code># Python 2.7\n&gt;&gt;&gt; import json\n&gt;&gt;&gt; json.JSONDecoder().decode('{\"a\": \"b\", \"a\": \"c\"}')\n`{u'a': u'c'}`\n# Chrome 32\n&gt; JSON.parse('{\"a\": \"b\", \"a\": \"c\"}')\nObject {a: \"c\"}\n</code></pre>\n\n<p>...and other implementations may legally give you (in Python notation):</p>\n\n<ul>\n<li><pre>{\"a\": \"b\"}</pre></li>\n<li><pre>[(\"a\", \"b\"), (\"a\", \"c\")]</pre></li>\n<li><pre>[(\"a\", [\"b\", \"c\"])]</pre></li>\n<li><pre>[]</pre></li>\n<li><pre>42</pre></li>\n<li><pre>\"your JSON is bad and you should feel bad\"</pre></li>\n</ul>\n\n<p>...or just good old <a href=\"http://www.catb.org/jargon/html/N/nasal-demons.html\">nasal daemons</a>. Literally the only illegal thing for a JSON parser to do here is raise an exception.</p>\n\n<p>The last thing you want to do in your production code is to rely on weird side cases. So the last thing you want to do is exercise your right to form nominally legal but practically useless JSON. If you want to do that, you'll have to do it by hand - build your own abstract syntax trees, your own parsers, your own generators, generators for anybody who might want to consume your data...</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>I would do it only if the JSON parser on the other side accepts it properly, without dropping anything.  If you can show it dropping stuff, then you can look for another solution (like using an array, or generating the JSON by hand, or using a URL properly.  You need better test cases first for your server.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I know this will sound impossible but my boss told me I MUST send a JSON over an AJAX post call with jQuery that MUST HAVE DUPLICATE KEYS. the problem is that if I write something like this:</p>\n\n<pre><code>$.post(\"someurl\", {\n     \"key1\" : \"value1\",\n     \"key2\" : \"value2\",\n     \"key2\" : \"value3\",\n     \"key2\" : \"value4\",\n     \"key3\" : \"value5\"\n});\n</code></pre>\n\n<p>, jQuery will send the request as</p>\n\n<pre><code>someurl?key1=value1&amp;key2=value4&amp;key3=value5\n</code></pre>\n\n<p>all this because Javascript overwrites properties that have the same name. The JSON object is generated dynamically and I am NOT ALLOWED to use arrays in it. Can someone tell me how could I generate the JSON object dinamicaly and with duplicate keys?</p>\n\n<p>I would realy appreciate any help from you!</p>\n",
            "last_activity_date": 1424492711,
            "question_id": 17063257,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "json"
            ],
            "title": "Necessity for duplicate keys in JSON object"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can fetch scripts like this:</p>\n\n<pre><code>(function(d, t) {\n    var g = d.createElement(t), // create a script tag\n        s = d.getElementsByTagName(t)[0]; // find the first script tag in the document\n    g.src = 'your-script.js'; // set the source of the script to your script\n    s.parentNode.insertBefore(g, s); // append the script to the DOM\n}(document, 'script'));\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>use this</p>\n\n<pre><code>var js_script = document.createElement('script');\njs_script.type = \"text/javascript\";\njs_script.src = \"http://www.example.com/script.js\";\njs_script.async = true;\ndocument.getElementsByTagName('head')[0].appendChild(js_script);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's a jQuery getScript alternative with callback functionality:</p>\n\n<pre><code>function getScript(source, callback) {\n    var script = document.createElement('script');\n    var prior = document.getElementsByTagName('script')[0];\n    script.async = 1;\n    prior.parentNode.insertBefore(script, prior);\n\n    script.onload = script.onreadystatechange = function( _, isAbort ) {\n        if(isAbort || !script.readyState || /loaded|complete/.test(script.readyState) ) {\n            script.onload = script.onreadystatechange = null;\n            script = undefined;\n\n            if(!isAbort) { if(callback) callback(); }\n        }\n    };\n\n    script.src = source;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm trying to load JS scripts dynamically, but using jQuery is not an option.</p>\n\n<p>I checked jQuery source to see how <a href=\"http://api.jquery.com/jQuery.getScript/\">getScript</a> was implemented so that I could use that approach to load scripts using native JS. However, getScript only calls jQuery.get()</p>\n\n<p>and I haven't been able to find where the get method is implemented. </p>\n\n<p>So my question is, </p>\n\n<p>What's a reliable way to implement my own getScript method using native JavaScript? </p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1421516434,
            "question_id": 16839698,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "getscript"
            ],
            "title": "jQuery.getScript alternative in native JavaScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The problem seams to be that you are using the wrong ember/ember-data files combinations... this should work:</p>\n\n<p><a href=\"http://builds.emberjs.com.s3.amazonaws.com/ember-latest.js\">http://builds.emberjs.com.s3.amazonaws.com/ember-latest.js</a>\n<a href=\"http://builds.emberjs.com.s3.amazonaws.com/ember-data-latest.js\">http://builds.emberjs.com.s3.amazonaws.com/ember-data-latest.js</a></p>\n\n<p>you can get here the latest builds: <a href=\"http://builds.emberjs.com\">http://builds.emberjs.com</a></p>\n\n<p>hope it helps</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>i've setup this app with ember and i'm getting this weird message:</p>\n\n<p><strong>TypeError: Object # has no method 'reject'</strong></p>\n\n<p>here's my EmberJS app config:</p>\n\n<pre><code>App = Ember.Application.create();\n\nApp.Store = DS.Store.extend({\n    revision: 12,\n    adapter: DS.RESTAdapter.extend({\n        url: 'http://localhost:8080',\n        namespace: '6b86b273ff34fce19d6b804eff5a3f5747ada4eaa22f1d49c01e52ddb7875b4b'\n    })\n});\n\nApp.Router.map(function() {\n    this.resource('collections');\n});\n\nApp.IndexRoute = Ember.Route.extend({\n    redirect: function(){\n        this.transitionTo('collections');\n    }\n});\n\nApp.CollectionsRoute = Ember.Route.extend({\n    model: function(){\n        return App.Collection.find();\n    }\n});\n\nApp.Collection = DS.Model.extend({\n    name: DS.attr('string'),\n    createdAt: DS.attr('date')\n});\n</code></pre>\n\n<p>Any ideas? :(</p>\n",
            "last_activity_date": 1367627906,
            "question_id": 16368964,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "methods",
                "ember.js"
            ],
            "title": "EmberJS TypeError: Object #&lt;Object&gt; has no method &#39;reject&#39;"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>See the link in <a href=\"http://stackoverflow.com/questions/11354211/google-maps-query-parameter-clarification\">this Stackoverflow question</a></p>\n\n<p><a href=\"http://www.seomoz.org/ugc/everything-you-never-wanted-to-know-about-google-maps-parameters\">http://www.seomoz.org/ugc/everything-you-never-wanted-to-know-about-google-maps-parameters</a></p>\n\n<p>addr=</p>\n\n<p>Sets the starting point for directions searches. You can also add text into this in brackets to bold it in the directions sidebar.</p>\n\n<p>daddr=</p>\n\n<p>Sets the end point for directions searches, and again will bold any text added in brackets.You can also add \"+to:\" which will set via points. These can be added multiple times.</p>\n\n<p><a href=\"https://maps.google.com/maps?saddr=New%20York,NY&amp;daddr=Newark,NJ\">Example</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Here are some standard HTML links for different Google Maps functions. <a href=\"http://gearside.com/easily-link-to-locations-and-directions-using-the-new-google-maps/\" rel=\"nofollow\">I keep an updated post here.</a></p>\n\n<pre><code>//Spaces can be changed to \"+\" or encoded as \"%20\".\n\n//Linking to a location (No directions)\nhttps://www.google.com/maps?q=760+West+Genesee+Street+Syracuse+NY+13204\n\n//No starting point (User input required to generate directions).\nhttps://www.google.com/maps?daddr=760+West+Genesee+Street+Syracuse+NY+13204\n\n//With a set location as starting point (Automatically generates directions with no user input required).\nhttps://www.google.com/maps?saddr=760+West+Genesee+Street+Syracuse+NY+13204&amp;daddr=314+Avery+Avenue+Syracuse+NY+13204\n\n//With \"My Location\" as starting point (Automatically generates directions with no user input required).\nhttps://www.google.com/maps?saddr=My+Location&amp;daddr=760+West+Genesee+Street+Syracuse+NY+13204\n\n//Current Location to Latitude and Longitude\nhttps://www.google.com/maps?saddr=My+Location&amp;daddr=43.12345,-76.12345\n\n//Query search of a Latitude and Longitude\n//Also shows setting a default zoom level\nhttps://www.google.com/maps?ll=43.12345,-76.12345&amp;q=food&amp;amp;z=14\n\n//String search as destination\nhttps://www.google.com/maps?saddr=My+Location&amp;daddr=Pinckney+Hugo+Group\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>As of November 4, 2014 this works on iOS 8 on Safari on iPhone 5C:</p>\n\n<p><code>https://www.google.com/maps/dir/current+location/100 N Arlington Ave, Reno, NV 89509</code></p>\n\n<p>It will automatically open Google Maps if installed and take you to the directions chooser screen. Also note: it doesn't matter if you use <code>%20</code>, <code></code>, or <code>+</code> for spaces.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Been searching for an answer, can't find one. I'm using the Google Maps V3 API to get directions and a map. All this is OK ...</p>\n\n<p>But I want to provide a bog-standard A-tag link to the equivalent directions on Google maps itself. I have 2 postcodes. How can I generate a Google Maps directions URL based on 2 postcodes or my</p>\n\n<pre><code> google.maps.DirectionsService\n</code></pre>\n\n<p>I'm going to use the URL to produce a \"View on google maps\" button and a \"printable\" button.</p>\n\n<p>Cheers! Aiden</p>\n",
            "last_activity_date": 1415139106,
            "question_id": 16326143,
            "score": 5,
            "tags": [
                "javascript",
                "google-maps-api-3"
            ],
            "title": "Google Maps Directions API Equivalent URL"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>process.nextTick put the callback on the next tick that is going to be executed, not at the end of the tick queue.</p>\n\n<p>Node.js doc (<a href=\"http://nodejs.org/api/process.html#process_process_nexttick_callback\" rel=\"nofollow\">http://nodejs.org/api/process.html#process_process_nexttick_callback</a>) say:\n\"It typically runs before any other I/O events fire, but there are some exceptions.\"</p>\n\n<p>setTimeout(callback, 0) will probably work more like you describe.</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>You should certainly read the link fgascon provided, and perhaps </p>\n\n<p><a href=\"https://github.com/joyent/node/issues/3335\" rel=\"nofollow\">https://github.com/joyent/node/issues/3335</a>\nfor more background.</p>\n\n<p>Use process.nextTick for when you want to call some code before any IO, but after the calling context has returned (usually because you want to register listeners on an event emitter and need to return the created emitter before you can register anything).</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm having trouble understanding exactly how <code>process.nextTick</code> does its thing. I thought I understood, but I can't seem to replicate how I feel this should work:</p>\n\n<pre><code>var handler = function(req, res) {\n    res.writeHead(200, {'Content-type' : 'text/html'});\n    foo(function() {\n        console.log(\"bar\");\n    });\n    console.log(\"received\");\n    res.end(\"Hello, world!\");\n}\n\nfunction foo(callback) {\n    var i = 0;\n    while(i&lt;1000000000) i++;\n    process.nextTick(callback);\n}\n\nrequire('http').createServer(handler).listen(3000);\n</code></pre>\n\n<p>While <code>foo</code> is looping, I'll send over several requests, assuming that <code>handler</code> will be queued several times behind <code>foo</code> with <code>callback</code> being enqueued only when <code>foo</code> is finished.</p>\n\n<p>If I'm correct about how this works, I assume the outcome will look like this:</p>\n\n<pre><code>received\nreceived\nreceived\nreceived\nbar\nbar\nbar\nbar\n</code></pre>\n\n<p>But it doesn't, it's just sequential:</p>\n\n<pre><code>received\nbar\nreceived\nbar\nreceived\nbar\nreceived\nbar\n</code></pre>\n\n<p>I see that <code>foo</code> is returning before executing <code>callback</code> which is expected, but it seems that <code>callback</code> is NEXT in line, rather than at the end of the queue, behind all of the requests coming in. Is that the way it works? Maybe I'm just not understanding how exactly the event queue in node works. And please don't point me <a href=\"http://howtonode.org/understanding-process-next-tick\">here</a>. Thanks.</p>\n",
            "last_activity_date": 1367886058,
            "question_id": 16220710,
            "score": 5,
            "tags": [
                "javascript",
                "node.js",
                "callback",
                "eventqueue"
            ],
            "title": "understanding the node.js event queue and process.nextTick"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>With plain Javascript, the simplest is:</p>\n\n<pre><code>document.onkeypress = function (e) {\n    e = e || window.event;\n    // use e.keyCode\n};\n</code></pre>\n\n<p>But with this, you can only bind one handler for the event.</p>\n\n<p>In addition, you could use the following to be able to potentially bind multiple handlers to the same event:</p>\n\n<pre><code>addEvent(document, \"keypress\", function (e) {\n    e = e || window.event;\n    // use e.keyCode\n});\n\nfunction addEvent(element, eventName, callback) {\n    if (element.addEventListener) {\n        element.addEventListener(eventName, callback, false);\n    } else if (element.attachEvent) {\n        element.attachEvent(\"on\" + eventName, callback);\n    } else {\n        element[\"on\" + eventName] = callback;\n    }\n}\n</code></pre>\n\n<p>In either case, <code>keyCode</code> isn't consistent across browsers, so there's more to check for and figure out. Notice the <code>e = e || window.event</code> - that's a normal problem with Internet Explorer, putting the event in <code>window.event</code> instead of passing it to the callback.</p>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/DOM/Mozilla_event_reference/keypress\">https://developer.mozilla.org/en-US/docs/DOM/Mozilla_event_reference/keypress</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/DOM/EventTarget.addEventListener\">https://developer.mozilla.org/en-US/docs/DOM/EventTarget.addEventListener</a></li>\n</ul>\n\n<p>With jQuery:</p>\n\n<pre><code>$(document).on(\"keypress\", function (e) {\n    // use e.which\n});\n</code></pre>\n\n<p>Reference:</p>\n\n<ul>\n<li><a href=\"http://api.jquery.com/on/\">http://api.jquery.com/on/</a></li>\n</ul>\n\n<p>Other than jQuery being a \"large\" library, jQuery really helps with inconsistencies between browsers, especially with window events...and that can't be denied. Hopefully it's obvious that the jQuery code I provided for your example is much more elegant and shorter, yet accomplishes what you want in a consistent way. You should be able to trust that <code>e</code> (the event) and <code>e.which</code> (the key code, for knowing which key was pressed) are accurate. In plain Javascript, it's a little harder to know unless you do everything that the jQuery library internally does.</p>\n\n<p>Note there is a <code>keydown</code> event, that is different than <code>keypress</code>. You can learn more about them here: <a href=\"http://stackoverflow.com/questions/3396754/onkeypress-vs-onkeyup-and-onkeydown\">onKeyPress Vs. onKeyUp and onKeyDown</a></p>\n\n<p>As for suggesting what to use, I would definitely suggest using jQuery if you're up for learning the framework. At the same time, I would say that you should learn Javascript's syntax, methods, features, and how to interact with the DOM. Once you understand how it works and what's happening, you should be more comfortable working with jQuery. To me, jQuery makes things more consistent and is more concise. In the end, it's Javascript, and wraps the language.</p>\n\n<p>Another example of jQuery being very useful is with AJAX. Browsers are inconsistent with how AJAX requests are handled, so jQuery abstracts that so you don't have to worry.</p>\n\n<p>Here's something that might help decide:</p>\n\n<ul>\n<li><a href=\"http://www.jscripters.com/jquery-disadvantages-and-advantages/\">http://www.jscripters.com/jquery-disadvantages-and-advantages/</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>There are a few ways to handle that; Vanilla JavaScript can do it quite nicely:</p>\n\n<pre><code>function code(e) {\n    e = e || window.event;\n    return(e.keyCode || e.which);\n}\nwindow.onload = function(){\n    document.onkeypress = function(e){\n        var key = code(e);\n        // do something with key\n    };\n};\n</code></pre>\n\n<p>Or a more structured way of handling it:</p>\n\n<pre><code>(function(d){\n    var modern = (d.addEventListener), event = function(obj, evt, fn){\n        if(modern) {\n            obj.addEventListener(evt, fn, false);\n        } else {\n            obj.attachEvent(\"on\" + evt, fn);\n        }\n    }, code = function(e){\n        e = e || window.event;\n        return(e.keyCode || e.which);\n    }, init = function(){\n        event(d, \"keypress\", function(e){\n            var key = code(e);\n            // do stuff with key here\n        });\n    };\n    if(modern) {\n        d.addEventListener(\"DOMContentLoaded\", init, false);\n    } else {\n        d.attachEvent(\"onreadystatechange\", function(){\n            if(d.readyState === \"complete\") {\n                init();\n            }\n        });\n    }\n})(document);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have an idea for a game in javascript (I'm going to make it with EaselJS) and I'll have to detect keypresses. After looking around on the internet I've seen a lot of suggestions (use window.onkeypress, use jQuery, etc.) but for almost every option there's a counterargument. What do you guys suggest? Using jQuery for this sounds easy enough but I have virtually no experience with that library (and I'm not particulary a veteran at javascript either) so I'd rather avoid it. If jQuery is the best option, can someone give a good example (with explanation would be awesome) of how to do this?</p>\n\n<p>I guess this gets asked a lot but I couldn't find any clear answers. Thanks in advance!</p>\n",
            "last_activity_date": 1366308068,
            "question_id": 16089421,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "html5",
                "keyboard",
                "easeljs"
            ],
            "title": "Simplest way to detect keypresses in javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>How can I get the index of the object tha match a condition (without iterate along the array)?</p>\n</blockquote>\n\n<p>You cannot, <em>something</em> has to iterate through the array (at least once).</p>\n\n<p>If the condition changes a lot, then you'll have to loop through and look at the objects therein to see if they match the condition. However, on a system with ES5 features (or if you install a shim), that iteration can be done fairly concisely:</p>\n\n<pre><code>var index;\nyourArray.some(function(entry, i) {\n    if (entry.prop2 == \"yutu\") {\n        index = i;\n        return true;\n    }\n});\n</code></pre>\n\n<p>That uses the new(ish) <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-15.4.4.17\"><code>Array#some</code> function</a>, which loops through the entries in the array until the function you give it returns true. The function I've given it saves the index of the matching entry, then returns <code>true</code> to stop the iteration.</p>\n\n<p>Or of course, just use a <code>for</code> loop. Your various iteration options are covered in <a href=\"http://stackoverflow.com/questions/9329446/for-each-in-a-array-how-to-do-that-in-javascript/9329476#9329476\">this other answer</a>.</p>\n\n<p>But if you're always going to be using the same property for this lookup, and if the property values are unique, you can loop just once and create an object to map them:</p>\n\n<pre><code>var prop2map = {};\nyourArray.forEach(function(entry) {\n    prop2map[entry.prop2] = entry;\n});\n</code></pre>\n\n<p>(Or, again, you could use a <code>for</code> loop or any of <a href=\"http://stackoverflow.com/questions/9329446/for-each-in-a-array-how-to-do-that-in-javascript/9329476#9329476\">your other options</a>.)</p>\n\n<p>Then if you need to find the entry with <code>prop2 = \"yutu\"</code>, you can do this:</p>\n\n<pre><code>var entry = prop2map[\"yutu\"];\n</code></pre>\n\n<p>I call this \"cross-indexing\" the array. Naturally, if you remove or add entries (or change their <code>prop2</code> values), you need to update your mapping object as well.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Why do you not want to iterate exactly ? The new <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow\">Array.prototype.forEach</a> are great for this purpose!</p>\n\n<p>You can use a Binary Search Tree to find via a single method call if you want. This is a neat implementation of BTree and Red black Search tree in JS - <a href=\"https://github.com/vadimg/js_bintrees\" rel=\"nofollow\">https://github.com/vadimg/js_bintrees</a> - but I'm not sure whether you can find the index at the same time.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>With jQuery:</p>\n\n<pre><code>indexes = $.map(list, function(obj, index) {\n    if(obj.prop2 == \"yutu\") {\n        return index;\n    }\n})\n\nfirstIndex = indexes[0]\n</code></pre>\n\n<p>Without jQuery, slightly more complicated:</p>\n\n<pre><code>indexes = list.map(function(obj, index) {\n    if(obj.prop2 == \"yutu\") {\n        return index;\n    }\n}).filter(isFinite)\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>What TJ Crowder said, everyway will have some kind of hidden iteration,  with <a href=\"https://lodash.com/docs#findIndex\" rel=\"nofollow\">lodash</a> this becomes:</p>\n\n<pre><code>var index = _.findIndex(array, {prop2: 'yutu'})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have an array like this:</p>\n\n<pre><code>[{prop1:\"abc\",prop2:\"qwe\"},{prop1:\"bnmb\",prop2:\"yutu\"},{prop1:\"zxvz\",prop2:\"qwrq\"},...]\n</code></pre>\n\n<p>How can I get the index of the object tha match a condition (without iterate along the array)?</p>\n\n<p>For instance: for the <code>prop2==\"yutu\"</code>, I want to get index <code>1</code>.</p>\n\n<p>I saw the <code>.indexOf()</code> method but think it's used for simple arrays like: <code>[\"a1\",\"a2\",...]</code>\nI checked also the <code>$.grep()</code> but this returns me objects, not the index...</p>\n",
            "last_activity_date": 1422971042,
            "question_id": 15997879,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "arrays"
            ],
            "title": "Get the index of the object inside an array, matching a condition"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I'll start with the way I usually define classes:</p>\n\n<pre><code>function CustomDataType(a)\n{\n  this.a = a;\n  this.b = 2;\n}\nCustomDataType.prototype = {\n  doX : function () {}\n};\nvar obj = new CustomDataType(1);\n</code></pre>\n\n<p>I assign variables in the constructor because <code>F.prototype = { a : [1,2,3]; }</code> is problematic, the array will be shared between instances unless the property is reinitialized in the constructor (problematic for all non-primitive types). And it's also needed when the property somehow depends on the arguments to the constructor. I declare methods in the prototype so that they are shared between all instances, if you use inheritance it means you can have super calls, it will also lead to less memory usage since the method only has to be allocated once (though that probably isn't a big issue).</p>\n\n<p>I have never used <code>Object.create</code>, I don't see any reason to do to that unless you are into some insane dynamic hackery.</p>\n\n<p>I use object literals whenever it feels unnecessary to create a separate class for the objects, for instance if it's arguments to a methods (so callers don't have to explicitly instantiate something), or if it's some internal values that shouldn't be accessed by anyone else.</p>\n\n<p>Your factory is essentially the same as the object literal. I suppose it can be useful if you need to create some jsonesque structure and set some default values.</p>\n\n<p>I don't see why <code>new</code> would be dangerous or unnecessary, in what context did he say that?</p>\n\n<p>But I think a lot of it comes down to taste. Be consistent and don't complicate things.</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>Suppose you are creating the data type and expose its behavior. </p>\n\n<p>Can you give some examples of when would you use:</p>\n\n<ul>\n<li><p>a function &amp; new:</p>\n\n<pre><code>// define new data type\nvar CustomDataType= function(){ \n                      this.a='whatever';\n                      this.doX= function(){/*some code*/};\n                    }\n\n// create a new instance of our custom data type\nvar obj= new customDataType();\n</code></pre></li>\n<li><p>an object literal &amp; Object.create:</p>\n\n<pre><code>// define new data type\nvar customDataType = {\n                       a: 'whatever',\n                       doX: function(){/*some code*/}\n                     }\n\n// create a new instance of our custom data type\nvar obj= Object.create(customDataType);\n</code></pre></li>\n<li><p>a function that builds your object:</p>\n\n<pre><code>function customDataTypeFactory(options){\n  return {\n           a: 'whatever',\n           doX: function(){/*some code*/}\n         }\n};\n\n// create a new instance of our custom data type\nvar obj= customDataTypeFactory(options);\n</code></pre></li>\n</ul>\n\n<p>I feel this could be labeled duplicate for: <code>new</code> vs <code>Object.create</code> but my main interest is not in discussing which one is better but rather to know if there are specific use cases where one should be preferred over the others.</p>\n\n<p>I have read many posts on related questions and the book from Crockford: Javascript: the good parts. So far I have concluded that it is a matter of preference, tough the advice from Crockford resonates a lot with me  to me: \"try to avoid the features that are dangerous and unnecessary\"... I'm talking about <code>new</code>.</p>\n",
            "last_activity_date": 1417533271,
            "question_id": 15857682,
            "score": 5,
            "tags": [
                "javascript",
                "types"
            ],
            "title": "Javascript: what are some guidelines on how to define new data types?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Due to <a href=\"http://www.adequatelygood.com/JavaScript-Scoping-and-Hoisting.html\">hoisting</a>, this is what gets executed:</p>\n\n<pre><code>x = 1; \nalert(x); \nvar y = function() { \n    var x; // &lt;-- this gets hoisted up from where it was.\n\n    alert(x); \n    x = 2; \n    alert(x); \n} \ny();\n</code></pre>\n\n<p>At the start of function <code>y()</code>, the local variable <code>x</code> is declared but not initialized.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>The variable declaration in the function is hoisted to the top. So it technically looks like this:</p>\n\n<pre><code>var y = function() {\n    var x;\n\n    alert(x);\n\n    x = 2;\n};\n</code></pre>\n\n<p>The local variable overshadows the global one. That is why the alert returns <code>undefined</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Since scope in JavaScript is a function object. When you execute some code in a function(your code sample), \"alert(x)\" will find if there's any definition of \"x\" in the function. So, there's a \"var x = 2\" in this function. But the JavaScript runtime will explain your code like this:</p>\n\n<pre><code>x = 1; \nalert(x); \nvar y = function() { \n  var x;\n  alert(x); \n  x = 2; \n  alert(x); \n} \ny(); \n</code></pre>\n\n<p>So, the x in the second alert is \"undefined\" not \"1\". So when you declare some variable in a function, I recommend you to declare the variables in the top of your function.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<pre><code>x = 1; \nalert(x); \nvar y = function() { \n    alert(x); \n    var x = 2; \n    alert(x); \n} \ny(); \n</code></pre>\n\n<p>The result of the 3 alerts is: <code>1</code>, <code>undefined</code>, <code>2</code> (Chrome 25)</p>\n\n<p>My question is: why the second alert is undefined? Why not 1? Isn't there a global variable x?</p>\n",
            "last_activity_date": 1392824777,
            "question_id": 15765220,
            "score": 5,
            "tags": [
                "javascript",
                "variables",
                "global-variables"
            ],
            "title": "Why is my global variable shadowed before the local declaration?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>That's due to how AngularJS does dirty checking. Here's a <a href=\"http://stackoverflow.com/a/9693933/1095616\">definitive answer</a> to slow rendering with AngularJS.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You should look at <a href=\"https://github.com/pasvaz/bindonce\">bindonce</a> if you don't need to update the UI after the data has been bound to it.  <a href=\"https://github.com/pasvaz/bindonce\">bindonce</a> can also wait until an object has been loaded and then do the binding.  It will save you a bunch of time and reduce your <code>$watch()</code>es dramatically when used right.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Using this project: <a href=\"https://github.com/kamilkp/angular-vs-repeat\" rel=\"nofollow\">angular-vs-repeat</a> will boost up your performance.</p>\n\n<p>With this, the browser will render (thus angular will do its dirty-checking) to only so many elements that fit in the scrollable container where you render the elements. Demo <a href=\"http://kamilkp.github.io/angular-vs-repeat/\" rel=\"nofollow\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In AngularJS 1.3+, there is <a href=\"https://docs.angularjs.org/guide/expression#-event-\"><code>One-time binding</code></a> built-in:</p>\n\n<blockquote>\n  <p>The main purpose of one-time binding expression is to provide a way to\n  create a binding that gets deregistered and frees up resources once\n  the binding is stabilized. Reducing the number of expressions being\n  watched makes the digest loop faster and allows more information to be\n  displayed at the same time.</p>\n</blockquote>\n\n<p>In order to make the one-time binding, prepend <code>::</code> to the binding value:</p>\n\n<pre><code>&lt;div&gt;{{::name}}&lt;/div&gt; \n</code></pre>\n\n<p>Also see relevant discussions:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/18790333/angular-js-render-value-without-data-binding\">Angular JS - Render value without data-binding</a></li>\n<li><a href=\"http://stackoverflow.com/questions/9682092/databinding-in-angularjs\">Databinding in angularjs</a></li>\n<li><a href=\"http://stackoverflow.com/questions/18240168/genuinely-stop-a-element-from-binding-unbind-an-element-angularjs\">Genuinely stop a element from binding - unbind an element - AngularJS</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>Here's the fiddle:\n<a href=\"http://jsfiddle.net/D5h7H/7/\" rel=\"nofollow\">http://jsfiddle.net/D5h7H/7/</a></p>\n\n<p>It renders the following:</p>\n\n<pre><code>&lt;div ng-repeat=\"group in Model.Groups\"&gt;\n    &lt;span&gt;{{group.Name}}&lt;/span&gt;\n    &lt;div ng-repeat=\"filter in group.Filters\"&gt;\n        &lt;input type=\"checkbox\" ng-model=\"filter.enabled\"&gt;{{filter.Name}}\n        &lt;select ng-disabled=\"!filter.enabled\"&gt;\n            &lt;option ng-repeat=\"value in filter.Values\"&gt;{{value}}&lt;/option&gt;\n        &lt;/select&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>It's a list of filters that is loaded in json from the server and then rendered to the user (in an example json is generated right there in Fiddle). At the moment there are 6 groups of 30 filters in each with 15 option elements for each filter.</p>\n\n<p>In Firefox it now takes about 2 seconds to redraw the UI.</p>\n\n<p>Is this time ok for angular js? Is there anything I'm doing wrong that caused 2sec. rendering (cause 2000 elements doesn't look as a big number to me, but 2sec. is certainly big)?</p>\n",
            "last_activity_date": 1410232194,
            "question_id": 15183095,
            "score": 5,
            "tags": [
                "javascript",
                "angularjs",
                "performance",
                "pageload",
                "ng-bind"
            ],
            "title": "AngularJS really slow at rendering with about 2000 elements?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>In 1.9.1 you should use <code>mouseover</code></p>\n\n<pre><code>$(document).on(\"mouseover\", \"#cart-left\", function(){\n    $(\"#cart\").addClass('active');\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p><strong>The status of the <code>hover</code> shorthand</strong></p>\n\n<p>As of jQuery 1.8 the <code>hover</code> shorthand has been <em>deprecated</em>. See the <a href=\"http://api.jquery.com/on/\" rel=\"nofollow\">jQuery <code>on()</code> documentation</a>:</p>\n\n<blockquote>\n  <p>Deprecated as of jQuery 1.8: The name \"hover\" used as a shorthand for the string \"mouseenter mouseleave\"</p>\n</blockquote>\n\n<p>As of jQuery 1.9, the <code>hover</code> shorthand is <em>unsupported</em>. See the <a href=\"http://jquery.com/upgrade-guide/1.9/#hover-pseudo-event\" rel=\"nofollow\">jQuery 1.9 Upgrade Guide</a></p>\n\n<p><strong>Alternative</strong></p>\n\n<p>In your case, it means you should use the <code>mouseenter</code> event. For example:</p>\n\n<pre><code>$(document).on(\"mouseenter\", \"#cart-left\", function(){\n     $(\"#cart\").addClass('active');\n});\n</code></pre>\n\n<p>See <strong><a href=\"http://jsfiddle.net/R9HZp/2/\" rel=\"nofollow\">jsFiddle demo</a></strong></p>\n\n<p><strong>Making better usage of <code>on()</code></strong></p>\n\n<p>It's also worth noting that unless the selector passed to <code>on()</code> refers to elements that are added to the DOM dynamically (i.e. after page load), there's no need to <em>delegate</em> the handler to the <code>document</code>. Instead, in this case you can probably <em>bind</em> the handler function directly to the element like so:</p>\n\n<pre><code>$(\"#cart-left\").on(\"mouseenter\", function(){\n    $(\"#cart\").addClass('active');\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The problem is not on the \"on\" function, but rather the \"hover\" pseudo-event that has been deprecated (and removed) in 1.9.1: <a href=\"http://jquery.com/upgrade-guide/1.9/#hover-pseudo-event\" rel=\"nofollow\">http://jquery.com/upgrade-guide/1.9/#hover-pseudo-event</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have a function that works with jQuery 1.8.3 but when I upgrade to 1.9.1 it's not working anymore, but there's no change in documentation. Does somebody know how to fix this? </p>\n\n<pre><code>$(document).on(\"hover\", \"#cart-left\", function(){\n    $(\"#cart\").addClass('active');\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/michalcerny/R9HZp/\">http://jsfiddle.net/michalcerny/R9HZp/</a></p>\n\n<p>Thanks for support!</p>\n",
            "last_activity_date": 1360668081,
            "question_id": 14830064,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "jQuery function .on works in 1.8.3 but not in 1.9.1"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This code:</p>\n\n<pre><code>u.save();\nconsole.log(u.id);\nconsole.log(u.username);\nconsole.log(u.token);\nconsole.log(u.created);\n</code></pre>\n\n<p>Runs immediately... after that there is nothing to run and the queued ajax request begins. The response then comes a bit later and only at that point have the values changed. </p>\n\n<p>It also seems that those properties are not directly on the object, but the asynchronous processing of the save still holds in that you wouldn't get expected results even if you corrected that code to have <code>console.log(u.get(\"id\"))</code> etc.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I figured out the issue, although I'm still at a loss to explain <em>why</em> it's an issue at all. The web app that I'm building has an authentication process that requires an HTTP basic Authentication header to be passed with all requests.</p>\n\n<p>In order to make this work with Backbone, I overrode the Backbone.sync function and changed <a href=\"https://github.com/documentcloud/backbone/blob/master/backbone.js#L1398\" rel=\"nofollow\">line 1398</a> to add the header.</p>\n\n<p><strong>Original Code:</strong></p>\n\n<pre><code>var params = {type: type, dataType: 'json'};\n</code></pre>\n\n<p><strong>Modified Code:</strong></p>\n\n<pre><code>var params = {\n    type: type,\n    dataType: 'json',\n    headers: {\n        'Authorization': getAuthHash()\n    }\n};\n</code></pre>\n\n<p>The function getAuthHash() just returns a Base64 string that represents the appropriate authentication information.</p>\n\n<p>For some reason, the addition of this header makes the sync/save functions fail. If I take it out, everything works as you might expect it to.</p>\n\n<p>The bounty is still open, and I'll happily reward it to anybody who can explain why this is, as well as provide a solution to the problem.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>It looks like the problem was the way that I was adding the header to the request. There's a nice little JavaScript library <a href=\"https://github.com/fiznool/backbone.basicauth\" rel=\"nofollow\">available on Github</a> that solves this problem by correctly adding the HTTP Basic Auth header.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>Try to add a custom beforeSend method to the ajax request to add the custom header.</p>\n\n<p>For example:\n<a href=\"https://github.com/documentcloud/backbone/blob/master/backbone.js#L1424\" rel=\"nofollow\">https://github.com/documentcloud/backbone/blob/master/backbone.js#L1424</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>i have tested your code, its works fine for me.</p>\n\n<p>See Demo here, <code>jsfiddle.net/yxkUD/</code></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm working on a web application that is powered by a restful API written with Python's CherryPy framework. I started out writing the user interface with a combination of jQuery and server side templates, but eventually switched to Backbone.js because the jQuery was getting out of hand.</p>\n\n<p>Unfortunately, I'm having some problems getting my models to sync with the server. Here's a quick example from my code:</p>\n\n<pre><code>$(function() {\n    var User = Backbone.Model.extend({\n        defaults: {\n            id: null,\n            username: null,\n            token: null,\n            token_expires: null,\n            created: null\n        },\n\n        url: function() {\n            return '/api/users';\n        },\n\n        parse: function(response, options) {\n            console.log(response.id);\n            console.log(response.username);\n            console.log(response.token);\n            console.log(response.created);\n            return response;\n        }\n    });\n\n    var u = new User();\n    u.save({'username':'asdf', 'token':'asdf'}, {\n        wait: true,\n        success: function(model, response) {\n            console.log(model.get('id'));\n            console.log(model.get('username'));\n            console.log(model.get('token'));\n            console.log(model.get('created'));\n        }\n    });\n});\n</code></pre>\n\n<p>As you can probably tell, the idea here is to register a new user with the service. When I call <code>u.save();</code>, Backbone does indeed send a POST request to the server. Here are the relevant bits:</p>\n\n<p><strong>Request:</strong></p>\n\n<pre><code>Request URL: http://localhost:8080/api/users\nRequest Method: POST\nRequest Body: {\"username\":\"asdf\",\"token\":\"asdf\",\"id\":null,\"token_expires\":null,\"created\":null}\n</code></pre>\n\n<p><strong>Response:</strong></p>\n\n<pre><code>Status Code: HTTP/1.1 200 OK\nContent-Type: application/json\nContent-Length: 109\nResponse Body: {\"username\": \"asdf\", \"created\": \"2013-02-07T13:11:09.811507\", \"token\": null, \"id\": 14, \"token_expires\": null}\n</code></pre>\n\n<p>As you can see, the server successfully processes the request and sends back an <code>id</code> and a value for <code>created</code>. But for some reason, when my code calls <code>console.log(u.id);</code>, I get <code>null</code>, and when my code calls <code>console.log(u.created);</code>, I get <code>undefined</code>.</p>\n\n<p><strong>tl;dr</strong>: Why isn't Backbone.js persisting changes to my objects after a call to <code>save()</code>?</p>\n\n<p><strong>Edit:</strong> \nI've modified the above code so that the model properties are accessed using the get function in a <code>success</code> callback. This should solve any concurrency problems with the original code.</p>\n\n<p>I've also added some console logging in the model's <code>parse</code> function. Oddly enough, each of these is <code>undefined</code>... Does that mean that Backbone.js is failing to parse my response JSON?</p>\n\n<p><strong>Edit 2:</strong>\nA few days ago, I found out that issue was actually a custom header that I was adding to every request to enable HTTP Basic Authentication. See <a href=\"http://stackoverflow.com/a/15003301/591374\">this answer</a> for details.</p>\n",
            "last_activity_date": 1361977792,
            "question_id": 14752326,
            "score": 5,
            "tags": [
                "javascript",
                "backbone.js",
                "http-headers",
                "cherrypy",
                "http-basic-authentication"
            ],
            "title": "Adding HTTP Basic Authentication Header to Backbone.js Sync Function Prevents Model from Being Updated on Save()"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It will show up as a separate document, similar to an iframe. You can access it like this:</p>\n\n<pre><code>var svg = document.getElementById(\u2018graphics\u2019).contentDocument\n</code></pre>\n\n<p>Note that it is important to wait until the svg file is loaded; you might want to put your code in the <code>object</code> element\u2019s <code>onload</code> event handler, like this:</p>\n\n<pre><code>&lt;object data=\"graphics.svg\" type=\"image/svg+xml\" id=\"graphics\" /&gt;\n&lt;script&gt;\n  document.getElementById(\u2018graphics\u2019).addEventListener(\u2018load\u2019,function(){\n    var svg = document.getElementById(\u2018graphics\u2019).contentDocument\n    // do stuff, call functions, etc.\n  })\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I have an svg graphics inserted in the page with an embed or object tag:</p>\n\n<pre><code>&lt;object data=\"graphics.svg\" type=\"image/svg+xml\" id=\"graphics\" /&gt;\n</code></pre>\n\n<p>The image is loading properly and I can see its SVG structure with the browser debugger. I see all the elements ids and attributes but it seems to me there is no way to select those elements with my scripts on page:</p>\n\n<pre><code>$('#graphics path').length; // 0 (jQuery)\n$('path').length; // 0 anyway\n</code></pre>\n\n<p>Is it possible to browse the graphics elements as usual?</p>\n",
            "last_activity_date": 1400772505,
            "question_id": 14376732,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "object",
                "svg",
                "embed"
            ],
            "title": "Work with elements from embed or object tag"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Did you include the <strong>sticky shortcut script</strong> on top of your normal <code>waypoints.js</code>?</p>\n\n<pre><code>&lt;script src=\"path/to/waypoints.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"path/to/waypoints-sticky.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>See <a href=\"https://github.com/imakewebthings/jquery-waypoints/tree/master/shortcuts/sticky-elements\">Sources</a> and <a href=\"http://imakewebthings.com/jquery-waypoints/shortcuts/sticky-elements/\">Docs</a></p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>Another thing that can happen to users may be , the js adds the sticky css to the element but the css is empty.</p>\n\n<p>Adding :</p>\n\n<pre><code>.stuck{position: fixed; top: 0;}\n</code></pre>\n\n<p>to your css file will stick it.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I want to stick an element to the top of the page in WordPress, using <a href=\"http://imakewebthings.com/jquery-waypoints/\" rel=\"nofollow\">jQuery Waypoints</a> plugin.</p>\n\n<pre><code>&lt;script src=\"path/to/waypoints.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  $('#myelement').waypoint('sticky');\n&lt;/script&gt;\n</code></pre>\n\n<p>But the console says: </p>\n\n<blockquote>\n  <p>Error: The sticky method does not exist in jQuery Waypoints.</p>\n</blockquote>\n\n<p>Am I missing something?</p>\n",
            "last_activity_date": 1395432977,
            "question_id": 14282485,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "wordpress",
                "jquery-waypoints"
            ],
            "title": "jQuery Waypoints Error: The sticky method does not exist"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>i dont know if this is working but you could try to reset the state of the job to active, and save the job again:</p>\n\n<pre><code>job.on('failed', function() {\n  job.state('inactive').save();\n</code></pre>\n\n<p>Edit: setting state to inactive will correctly re-enqueue the task.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I am using <a href=\"https://github.com/LearnBoost/kue\">kue</a> for delayed jobs in my node.js application. </p>\n\n<p>I have some problems to figure out how I can restart a job using the API of kue without having to move the id of a job manually from the the list of failed jobs to the list of inactive jobs using redis commands.</p>\n\n<p>Is this possible using kue?</p>\n\n<p>I don't want to set a fixed number of retry attempts - I just want to retry specific jobs.</p>\n\n<p>Suggestions for a well maintained alternative to kue are also welcome.</p>\n",
            "last_activity_date": 1357990255,
            "question_id": 14280962,
            "score": 5,
            "tags": [
                "javascript",
                "node.js",
                "redis",
                "delayed-job",
                "kue"
            ],
            "title": "Node.js Kue how to restart failed jobs"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can access images as regular parts of some web-pages or download them separately by means of <code>XMLHTTPRequest</code>s. After this you can zip them in a single archive using <a href=\"http://stuartk.com/jszip/\" rel=\"nofollow\">JSZip</a> JavaScript library. The zip can be stored as a file without a \"Save As\" dialog (try the example on the site). Though I'm not sure why you need the <a href=\"https://developer.chrome.com/extensions/manifest.html#sandbox\" rel=\"nofollow\">sandbox</a>.</p>\n\n<p>There exist other JavaScript libraries for zipping, for example, some are mentioned in <a href=\"http://stackoverflow.com/questions/294297/javascript-implementation-of-gzip\">other SO answer</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use <a href=\"https://github.com/gildas-lormeau/zip.js\" rel=\"nofollow\">zip.js</a> for this. \nIt does already have API for fetching contents to be zipped from HTTP (cf. <a href=\"http://gildas-lormeau.github.com/zip.js/core-api.html#zip-reading\" rel=\"nofollow\">zip.HttpReader</a> constructor) and for writing generated zip on HTML5 filesystem (cf. <a href=\"http://gildas-lormeau.github.com/zip.js/core-api.html#zip-writer\" rel=\"nofollow\">zip.FileWriter</a> constructor).</p>\n\n<p>Here is an example using the <a href=\"http://gildas-lormeau.github.com/zip.js/fs-api.html\" rel=\"nofollow\">filesystem API</a>:</p>\n\n<p><code>index.html</code> file:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=\"UTF-8\"&gt;\n&lt;title&gt;Zip JSON data from the BBC into HTML5 FileSystem&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;script src=\"zip.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"zip-fs.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"zip-ext.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"example.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><code>example.js</code> file:</p>\n\n<pre><code>// create a zip virtual filesystem\nvar fs = new zip.fs.FS();\n\n// add some files into the zip filesystem \n\n// add the \"bbc-music.json\" file in the root directory\nfs.root.addHttpContent(\"bbc-music.json\", \n  \"http://www.bbc.co.uk/programmes/genres/music.json\");\n// add the \"bbc-learning.json\" file in the root directory\nfs.root.addHttpContent(\"bbc-learning.json\", \n  \"http://www.bbc.co.uk/programmes/genres/learning.json\");\n\n// create a file named \"test.zip\" in the root directory of the HTML5 filesystem \ncreateFile(\"test.zip\", function(fileEntry) {\n  // export the zip content into \"test.zip\" file\n  fs.root.exportFileEntry(fileEntry, function() {\n    console.log(\"done\");\n  });\n});\n\n// function to create a file in the HTML5 temporary filesystem\nfunction createFile(filename, callback) {\n  webkitRequestFileSystem(TEMPORARY, 4 * 1024 * 1024, function(fs) {\n    fs.root.getFile(filename, { create : true }, callback);\n  });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>Is it possible to download multiple images into the sandbox file system (without the \"save as\" dialog box, or at-max one saveas dialog)  ?</p>\n\n<p>after downloading them, i'd like to ZIP them into one.. is there any javascript archive library? </p>\n\n<p>Thanks in advance.. </p>\n",
            "last_activity_date": 1365532741,
            "question_id": 14180375,
            "score": 5,
            "tags": [
                "javascript",
                "google-chrome-extension",
                "download",
                "archive"
            ],
            "title": "Downloading multiple files and zip - Chrome extension"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>you can try to put your java script inside html page then use android java script function call might be helpful </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>One way, maybe not the most simple, is to use an HttpClient to read the data from the web server yourself, and then modify it and set it into the webview using</p>\n\n<pre><code>webview.loadData(mydata, \"text/html\", null);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I would use a combination of Phonegap and an interface for JavaScript.</p>\n\n<p>In the main .java file, in OnCreate(), include this:</p>\n\n<pre><code>super.appView.addJavascriptInterface(new Object()\n        {\n          public void setOutput()\n          {\n            // here the body of your method in Android\n          }\n        }, \"myInterface\");\n</code></pre>\n\n<p>And then, in the .js file, include this (you have to import Phonegap in the same file, obviously, to catch the onDeviceReady method):</p>\n\n<pre><code>function onDeviceReady() {\n        myInterface.setOutput();\n      }\n</code></pre>\n\n<p>This would trigger your method from JavaScript when the device is ready, during the first moment of the launch of the application.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>What about loading your page via javascript ?</p>\n\n<p>Create a blank html page in your assets, that include your script plus this little function (I'm using jquery for the sake of simplicity here, but you can use another framework or not framework at all).</p>\n\n<pre><code>window.loadPage = function (url) {\n    $.get(url, function(page) {\n        $('html').replace(page);\n    });\n};\n</code></pre>\n\n<p>Then, on your android app :</p>\n\n<pre><code>mWebView.loadUrl(\"javascript: loadPage('xxx.html')\");\n</code></pre>\n\n<p>Note : I didn't notice xxx.html could be in your assets too and not in a web server somewhere, in that case the ajax query will fail for security reasons, but you can forget the ajax request, read you html page in String from your android app and pass it as an argument to a slightly modified javascript function.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am using Android WebView to load some web pages. I need insert a piece of Javascript code to all the pages before they loaded.</p>\n\n<p>I am trying to inject them on WebViewClient onPageStart callback.</p>\n\n<pre><code>mWebView.getSettings().setJavaScriptEnabled(true);\nmWebView.setWebViewClient(new WebViewClient(){\n\n    @Override\n    public void onPageStarted(WebView view, String url, Bitmap favicon) {\n        loadUrl(\"javascript:var output='test string';\");\n        }\n})\n\nmWebView.loadUrl(\"xxx.html\");\n</code></pre>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;html&gt;\n&lt;script&gt;document.write(output);&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I expected My Js code loaded before HTML. But sometimes the JS code loaded after HTML.</p>\n\n<p>Is there any way could solve my issue?</p>\n",
            "last_activity_date": 1357845597,
            "question_id": 14064589,
            "score": 5,
            "tags": [
                "javascript",
                "android",
                "webview"
            ],
            "title": "Android WebView Inject Javascript before html loaded"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You don't resize the document but the window. This works :</p>\n\n<pre><code>window.addEventListener(\"resize\", function(){console.log('resize!')}, true);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Since you are trying to call this function on the resize of the window, you will want to bind the function to the window and not to the document.  To support versions of IE that are less than 9, you will want to use <code>attachEvent</code>.  Please note that <code>attachEvent</code> requires you to specify the <code>on</code> keyword.  Here is an example:</p>\n\n<pre><code>if(window.attachEvent) {\n    window.attachEvent('onresize', function() {\n        alert('attachEvent - resize');\n    });\n}\nelse if(window.addEventListener) {\n    window.addEventListener('resize', function() {\n        console.log('addEventListener - resize');\n    }, true);\n}\nelse {\n    //The browser does not support Javascript event binding\n}\n</code></pre>\n\n<p>Similarly, you can remove events in the same way</p>\n\n<pre><code>if(window.detachEvent) {\n    window.detachEvent('onresize', theFunction);\n}\nelse if(window.removeEventListener) {\n    window.removeEventListener('resize', theFunction);\n}\nelse {\n    //The browser does not support Javascript event binding\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I'm making a JS/PHP plugin for distribution. I want it to be as easy to install as this:</p>\n\n<pre><code>&lt;HTML&gt;\n&lt;HEAD&gt;\n&lt;TITLE&gt;Testing my Plugin&lt;/TITLE&gt;\n&lt;?php\n  include 'path/to/myPlugin.php';\n  echo getMyPluginHeadContent();\n?&gt;\n&lt;/HEAD&gt;\n&lt;BODY&gt;\n&lt;?php\n  buildPluginContent(\"Arguments will go here\");\n?&gt;\n&lt;/BODY&gt;\n&lt;/HTML&gt;\n</code></pre>\n\n<p>However, I want this plugin to attach a window resize listener <strong>without</strong> overriding <code>window.onresize</code>, in case there are any other scripts that also require the use of that method. <strong>Is there any javascript command like <code>document.addEventListener(\"resize\", myResizeMethod, true);</code>?</strong> I know that's not it, because that's not working, and the MDN and W3C are very vague about what arguments <code>addEventListener</code> takes.</p>\n\n<p><strong>I do not want an answer telling me to use <code>window.onresize = myResizeMethod</code> or <code>&lt;BODY ONRESIZE=\"myResizeMethod\"&gt;</code>, as these are not as plugin-friendly.</strong></p>\n",
            "last_activity_date": 1396367441,
            "question_id": 13651274,
            "score": 5,
            "tags": [
                "javascript",
                "plugins"
            ],
            "title": "How can I attach a window resize event listener in JavaScript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Give this a shot. I've used this in the past.\n<a href=\"https://github.com/valums/file-uploader\" rel=\"nofollow\">https://github.com/valums/file-uploader</a></p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Yes, HTML5 API supports this.</p>\n\n<p><a href=\"http://www.w3.org/TR/FileAPI/\">http://www.w3.org/TR/FileAPI/</a> </p>\n\n<pre><code>var _URL = window.URL || window.webkitURL;\n\n$(\"#file\").change(function(e) {\n\n    var image, file;\n\n    if ((file = this.files[0])) {\n\n        image = new Image();\n\n        image.onload = function() {\n\n            alert(\"The image width is \" +this.width + \" and image height is \" + this.height);\n        };\n\n        image.src = _URL.createObjectURL(file);\n\n\n    }\n\n});\u200b\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/xnkhN/\">DEMO</a> (tested on chrome)</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>You could check them before submitting form:</p>\n\n<pre><code>window.URL = window.URL || window.webkitURL;\n\n$(\"form\").submit( function( e ) {\n    var form = this;\n    e.preventDefault(); //Stop the submit for now\n                                //Replace with your selector to find the file input in your form\n    var fileInput = $(this).find(\"input[type=file]\")[0],\n        file = fileInput.files &amp;&amp; fileInput.files[0];\n\n    if( file ) {\n        var img = new Image();\n\n        img.src = window.URL.createObjectURL( file );\n\n        img.onload = function() {\n            var width = img.naturalWidth,\n                height = img.naturalHeight;\n\n            window.URL.revokeObjectURL( img.src );\n\n            if( width == 400 &amp;&amp; height == 300 ) {\n                form.submit();\n            }\n            else {\n                //fail\n            }\n        };\n    }\n    else { //No file was input or browser doesn't support client side reading\n        form.submit();\n    }\n\n});\n</code></pre>\n\n<p>This only works on modern browsers so you still have to check the dimensions on server side. You also can't trust\nthe client so that's another reason you must check them server side anyway.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have an upload control for uploading the images to the server, but before uploading I just want to make sure if the images are of correct dimensions. \nIs there anything on client side that can be done with javascript?</p>\n",
            "last_activity_date": 1416383526,
            "question_id": 13572129,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "file-upload",
                "client-side"
            ],
            "title": "Is it possible to check dimensions of image before uploading?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Faster as .js yes, but marginally. The reason being that it would be a static file so wouldn't need the processing time PHP will take.</p>\n\n<p>That said there's nothing wrong with feeding JavaScript through PHP like this. You could even come up with caching methods as well to reduce the processing impact.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<h1>My current code</h1>\n\n<p>I have started writing an API that loads, minifies and returns javascript files into one file using PHP. This is achieved by pointing to a PHP file from a <code>script</code> tag in HMTL like so:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://libraries.sinemaculammviii.com/jsapi.php\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>This <code>jsapi.php</code> page processes the javascript files and outputs the minified javascript, with the header:</p>\n\n<pre><code>header(\"Content-Type: text/javascript\");\n</code></pre>\n\n<h1>My Question</h1>\n\n<p>Is this a bad method to load javascript files? Would it be <strong>much</strong> faster and reliable to load the javascript files individually by simply pointing to the <code>.js</code> file in the <code>src</code> attribute?</p>\n\n<p>If you wish to see my code for the the full API, have a look at <a href=\"http://codereview.stackexchange.com/questions/18117/loading-javascript-libraries-with-php-api\">this</a>. The mentioned link also explains in detail what it is I am doing and why.</p>\n",
            "last_activity_date": 1352112285,
            "question_id": 13230411,
            "score": 5,
            "tags": [
                "php",
                "javascript",
                "api",
                "minify",
                "sinemacula"
            ],
            "title": "Generate Javascript file with PHP"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You are calling <code>drag</code> on the <code>rect</code> element, but you're transforming its parent: the <code>g</code> element. </p>\n\n<p>The problem is that the drag component uses the mouse location relative to the parent to determine the new <code>d3.event.x</code> and <code>d3.event.y</code>. So, if you move (i.e. <code>transform</code>) the parent while the user drags, things get messed up.</p>\n\n<p>The solution is to call <code>drag</code> on the same element that you are moving around; in this case the <code>g</code> element:</p>\n\n<pre><code>function draw() {\n  g = svg.selectAll(\"g\")\n    .data(blocks);\n\n  gEnter = g.enter().append(\"g\")\n    .call(drag);\n\n  g.attr(\"transform\", function(d) { return \"translate(\"+d.x+\",\"+d.y+\")\"; });\n\n  gEnter.append(\"rect\")\n    .attr(\"height\", 100)\n    .attr(\"width\", 100);\n}\n</code></pre>\n\n<p>See corrected Fiddle: <a href=\"http://jsfiddle.net/EMNGq/14/\">http://jsfiddle.net/EMNGq/14/</a></p>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>Nautat provided good solution for your case.</p>\n\n<p>My case is slightly more complicated. My data is bound below g-node I want to transform. In this case I cannot simply move .call(drag) to g-level.</p>\n\n<p>I submitted a pull request to make base coordinate space customisable:\n<a href=\"https://github.com/mbostock/d3/pull/1055\" rel=\"nofollow\">https://github.com/mbostock/d3/pull/1055</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I had the same issue as Darwin. The drag handler is on the child object that has D3 Data attached but the transform needs to be applied to the parent group (not d3). </p>\n\n<p>I solved it by setting the origin function to return x:0, y:0 and then using the x value in the event rather than the dx. </p>\n\n<p>e.g</p>\n\n<pre><code>var drag = d3.behavior.drag()\n    .origin(function(d,i) { return {x:0, y:0}; })\n    .on(\"drag\", function (d) {  movePosition(d3.event.x);   });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I'm trying to use d3.js's <code>d3.behavior.drag()</code> <code>drag</code> event to update my data model (without setting the element position immediately), then run my \"draw\" function to update all elements based on the updated model. Additionally, I'm using a translate <code>transform</code> on the containing group element in order to move all the elements associated with the dragged object (I removed the extra elements from the example linked below). This causes the dragged elements to stutter as it's dragged, which gets worse the faster you drag it.</p>\n\n<p>See <a href=\"http://jsfiddle.net/EMNGq/13/\">this stripped-down example on jsFiddle</a>.</p>\n\n<p>Here's the code of the example:</p>\n\n<pre><code>blocks = [\n  { x: 0, y: 0 }\n];\n\ndrag = d3.behavior.drag()\n  .origin(Object)\n  .on(\"drag\", function(d) {\n    d.x = d3.event.x;\n    d.y = d3.event.y;\n    draw();\n  });\n\nsvg = d3.select(\"body\")\n  .append(\"svg:svg\")\n  .attr(\"width\", 600)\n  .attr(\"height\", 600);\n\nfunction draw() {\n  g = svg.selectAll(\"g\")\n    .data(blocks);\n\n  gEnter = g.enter().append(\"g\");\n\n  g.attr(\"transform\", function(d) { return \"translate(\"+d.x+\",\"+d.y+\")\"; });\n\n  gEnter.append(\"rect\")\n    .attr(\"height\", 100)\n    .attr(\"width\", 100)\n    .call(drag);\n}\n\ndraw()\u200b;\n</code></pre>\n",
            "last_activity_date": 1369437117,
            "question_id": 13078535,
            "score": 5,
            "tags": [
                "javascript",
                "d3.js"
            ],
            "title": "&quot;Stuttering&quot; drag when using d3.behavior.drag() and transform"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Since you're using <code>FormData</code>, which is a fairly new technology, I'll show you something with new technologies as well.</p>\n\n<p>First, read the file with a <code>FileReader</code> object:</p>\n\n<pre><code>var fr = new FileReader(), buf, file = $('#fileUpload')[0].files[0];\nfr.onload = function(e) {\n    buf = new Uint8Array(e.target.result);\n};\nfr.readAsArrayBuffer(file);\n</code></pre>\n\n<p>Then you can create a <code>Blob</code> for each splitted part (<code>1e6</code> bytes long each):</p>\n\n<pre><code>for (var i = 0, blobs = []; i &lt; buf.length; i += 1e6)\n    blobs.push(new Blob([buf.subarray(i, i + 1e6)]));\n</code></pre>\n\n<p>Finally, you can add all your <code>Blob</code>s to your <code>FormData</code> object:</p>\n\n<pre><code>var formData = new FormData();\nfor (var i = 0; i &lt; blobs.length; i++)\n    formData.append(\"slice\" + i, blobs[i], file.name + \".part\" + i);\n</code></pre>\n\n<p>You should be ok. I haven't tested it, though.</p>\n\n<p>I don't know anything about the performance either. You can use <code>fr.readAsBinaryString</code> too,  thus making <code>e.target.result</code> a string. This way, you can create the <code>Blob</code>s using a simple <code>substring</code>/<code>slice</code>/<code>substr</code>/whatever, but I fear there could be some problems with Unicode characters and whatnot. Plus, maybe it's slower.</p>\n\n<p>Putting everything in a more coherent snippet:</p>\n\n<pre><code>$('#fileUpload').change(function() {\n    // If no file is selected, there's nothing to do\n    if (!this.files.length) return;\n\n    var fr = new FileReader(), file = this.files[0];\n    fr.onload = function(e) {\n        splitAndSendFile(new Uint8Array(e.target.result), file);\n    };\n    fr.readAsArrayBuffer(file);\n};\n\nfunction splitAndSendFile(dataArray, file) {\n    var i = 0, formData, blob;\n    for (; i &lt; dataArray.length; i += 1e6) {\n        blob = new Blob([dataArray.subarray(i, i + 1e6)]);\n        formData = new FormData();\n        formData.append(\"fileUpload\", blob, file.name + \".part\" + (i / 1e6));\n        $.ajax({\n            url: 'script.php',\n            type: 'POST',\n            data: formData,\n            processData: false,\n            contentType: false,\n            success: function(msg){\n                alert(\"Win: \" + msg);\n            },\n            error: function(bla, msg){\n                alert(\"Fail: \" + msg);\n            }\n        });\n    }\n}\n</code></pre>\n\n<p><strong>Note</strong>: <code>FormData.append</code> takes a third optional parameter, which should be the name of the file in case of <code>File</code> or <code>Blob</code> values. If not specified, <code>Blob</code>s may get unpredictable random file names.</p>\n\n<p>Probably that parameter isn't standard, and it's not mentioned in the <a href=\"https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest/FormData\">MDN artice</a>, but I used it in the snippet above nonetheless. Anyway, if you know what you're doing, you can have several options to specify the file name. For example, with <code>formData.append(\"filename\", file.name)</code> or sending a custom header in the request.</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I need to upload a part of a file (only the first MB). I've created a PHP script which uploads the whole file. The data (<code>formData</code> Object) is passed by a ajax call. </p>\n\n<p>My idea would be now to split the file with javascript (jquery). Is there any solution for my request?</p>\n\n<p>Current code:</p>\n\n<pre><code>function start(a){\n    //var fSize = $('#fileUpload')[0].files[0].size / 1024;\n    var formData = new FormData();    \n    formData.append( 'fileUpload', $('#fileUpload')[0].files[0] );\n    //AJAX\n    $.ajax({\n        url: 'script.php',\n        type: 'POST',\n        data: formData,\n        processData: false,\n        contentType: false,\n        success: function(msg){\n            alert(\"Win: \" + msg);\n        },\n        error: function(bla, msg){\n            alert(\"Fail: \" + msg);\n        }\n    });\n}\n</code></pre>\n",
            "last_activity_date": 1345578955,
            "question_id": 12055386,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "file",
                "upload",
                "split"
            ],
            "title": "Split file with JavaScript or jQuery"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If the image is broken, then <code>onload</code> event won't be fired, instead, the <code>onerror</code> event will be fired. So you need to do like this:</p>\n\n<pre><code>var img = new Image(),\nurl = 'http://something.com/images/something.gif';\n\nimg.onload = function() {\n  alert('successfully loaded');\n};\n\nimg.onerror = function() {\n  alert('broken image!');\n};\n\n$(img).attr('src', url);\n</code></pre>\n\n<p>Or with jQuery:</p>\n\n<pre><code>$(img).load(function() {\n  alert('successfully loaded');\n}).error(function() {\n  alert('broken image!');\n}).attr('src', url);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You HAVE to set the <code>onload</code> handler BEFORE you set the <code>.src</code> value.  </p>\n\n<p>In some versions of IE, if the image is in the browser cache, the load event will be fired immediately when the <code>.src</code> value is set.  If your load handler is not already in place, you will miss that event.</p>\n\n<p>Also, <code>naturalWidth</code> and <code>naturalHeight</code> are NOT supported in older versions of IE so they will always be undefined.  And, you should use <code>onerror</code> and <code>onabort</code> to catch the error conditions.</p>\n\n<p>There's no need to use jQuery for this.  You can just do this:</p>\n\n<pre><code>var img = new Image(),\n\nimg.onload = function() {\n    alert(\"loaded successfully\");\n}\nimg.onerror = img.onabort = function() {\n    alert(\"broken image\");\n}\n// only set .src AFTER event handlers are in place\nimg.src = 'http://something.com/images/something.gif';\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<pre><code>var url=\"http://something.com/images/something.gif\",\n    img=new Image;\nimg.onload=img.onerror=function(ev){\n  if(ev.type==\"load\")alert(\"successfully loaded\");\n  else if(ev.type==\"error\")alert(\"error loading\");\n}\nimg.src=url;\n// If image is cached then no `onload` or `onerror` can occur.\nif(img.complete){\n  alert(\"successfully loaded\");\n  img.onload=img.onerror=null;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am aiming to check if image has been loaded successfully. It has been working well in modern browsers but IE8 or 7 it is a terrible issue. Here is a sample code:</p>\n\n<pre><code>var img = new Image(),\n    url = 'http://something.com/images/something.gif';\n\n    $(img).attr('src', url).load(function() {\n        if (!this.complete || typeof this.naturalWidth == \"undefined\" || this.naturalWidth == 0) {\n            alert('broken image!');\n        } \n        else {\n            alert('successfully loaded');\n        }\n    } \n</code></pre>\n\n<p>Anyone has any idea to work around with this issue? Thanks in advace!</p>\n",
            "last_activity_date": 1345180666,
            "question_id": 12000016,
            "score": 5,
            "tags": [
                "javascript",
                "image",
                "internet-explorer"
            ],
            "title": "Image load not working with IE 8 or lower"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>jQuery have method clone()</p>\n\n<pre><code>var original = $(\"#original\");\nvar newClone = original.clone();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var div = document.getElementById('div_id'),\n    clone = div.cloneNode(true); // true means clone all childNodes and all event handlers\nclone.id = \"some_id\";\ndocument.body.appendChild(clone);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>Use it:</p>\n\n<p><strong>JQuery</strong></p>\n\n<pre><code>var clonedDiv = $('#yourDivId').clone();\nclonedDiv.attr(\"id\", \"newId\");\n$('#yourDivId').after(cloneDiv);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How can I using javascript make clone of some <code>&lt;div&gt;</code> and set his id different from original. Jquery  also will be nice.</p>\n",
            "last_activity_date": 1348387918,
            "question_id": 11985156,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Clone &lt;div&gt; and change id"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Try next code:</p>\n\n<pre><code>&lt;audio id=\"main_audio\" autoplay=\"autoplay\" preload=\"auto\" loop=\"loop\"&gt;\n    &lt;source src=\"sounds/bgmusic.mp3\" type=\"audio/mpeg\" /&gt;\n    &lt;source src=\"sounds/bgmusic.ogg\" type=\"audio/ogg\" /&gt;\n    &lt;embed id=\"main_audio_ie8\" hidden=\"true\" autostart=\"true\" loop=\"true\" src=\"sounds/bgmusic.mp3\" /&gt;\n&lt;/audio&gt;\n&lt;div id=\"controls\" class=\"controls\"&gt;\n    &lt;a id=\"playpause\" class=\"play\"&gt;Play/Pause&lt;/a&gt;\n&lt;/div&gt;\n&lt;script&gt;\n    var isPlaying = function(audio) {return !audio.paused;}\n    var a = document.getElementById('main_audio');\n    if(!(a.play instanceof Function)){\n        a = document.getElementById('main_audio_ie8');\n        isPlaying = function(audio) {return audio.playState==2;}\n    }\n    $('#playpause').on('click', function() {\n        if (isPlaying(a)) {\n            a.pause();\n        } else {\n            a.play();\n        }\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Another variant (code must work if WMPlayer.OCX exist on system; checked on Win2K+IE6SP1+WMP7, WinXP+IE6SP1+WMP9, WinXP+IE8+WMP11):</p>\n\n<pre><code>&lt;audio id=\"main_audio\" autoplay=\"autoplay\" preload=\"auto\" loop=\"loop\" volume=\"1.0\"&gt;\n    &lt;source src=\"sounds/bgmusic.mp3\" type=\"audio/mpeg\" /&gt;\n    &lt;source src=\"sounds/bgmusic.ogg\" type=\"audio/ogg\" /&gt;\n    &lt;object id=\"main_audio_ie8\" classid=\"clsid:6BF52A52-394A-11d3-B153-00C04F79FAA6\" style=\"display:none;\"&gt; \n        &lt;param name=\"URL\" value=\"sounds/bgmusic.mp3\" /&gt;\n        &lt;param name=\"uiMode\" value=\"invisible\" /&gt; \n        &lt;param name=\"autoStart\" value=\"true\" /&gt;\n        &lt;param name=\"volume\" value=\"100\" /&gt;\n        &lt;param name=\"playCount\" value=\"2147483647\" /&gt; &lt;!-- (Int32) 2^31-1==2147483647 - maximum allowed count (for 1 second length audio is equals to 68+ years) --&gt;\n    &lt;/object&gt; \n&lt;/audio&gt;\n&lt;div id=\"controls\" class=\"controls\"&gt;\n    &lt;a id=\"playpause\" class=\"play\"&gt;Play/Pause&lt;/a&gt;\n&lt;/div&gt;\n&lt;script type='text/javascript'&gt;\nwindow.onload=function(){\n    var isPlaying,a=document.getElementById('main_audio');\n    if(a.play instanceof Function)isPlaying=function(audio){return !audio.paused;};\n    else{\n        a=document.getElementById('main_audio_ie8');\n        isPlaying=function(audio){return audio.playState==3;};\n        a.play=function(){this.controls.play();}\n        a.pause=function(){this.controls.pause();}\n    }\n    document.getElementById('playpause').onclick=function() {\n        if (isPlaying(a)) {\n            a.pause();\n        } else {\n            a.play();\n        }\n    };\n};\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I'm creating pages for a small web-based game which must have some background music playing. Those pages should be compatible with most desktop browsers, including IE8 (but we can ignore the mobile browsers).</p>\n\n<p>Of course I'd like to allow the user to stop the music. And this is where it gets tricky.</p>\n\n<p>Here's what I use currently (with jQuery) :</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;audio id=\"main_audio\" autoplay=\"autoplay\" preload=\"auto\" loop=\"loop\"&gt;\n    &lt;source src=\"sounds/bgmusic.mp3\" type=\"audio/mpeg\" /&gt;\n    &lt;source src=\"sounds/bgmusic.ogg\" type=\"audio/ogg\" /&gt;\n    &lt;embed hidden=\"true\" autostart=\"true\" loop=\"true\" src=\"sounds/bgmusic.mp3\" /&gt;\n&lt;/audio&gt;\n&lt;div id=\"controls\" class=\"controls\"&gt;\n    &lt;a id=\"playpause\" class=\"play\"&gt;Play/Pause&lt;/a&gt;\n&lt;/div&gt;\n&lt;script&gt;\n    function isPlaying(audio) {return !audio.paused;}\n    var a = document.getElementById('main_audio');\n    $('#playpause').on('click', function() {\n        if (isPlaying(a)) {\n            a.pause();\n        } else {\n            a.play();\n        }\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>This works fine in all browsers, but IE. (I'm on Windows XP so testing on IE8 currently.)\nOn IE8, the audio starts playing (which is good) but the controls don't do anything so it's impossible to stop the music (and restart it).</p>\n\n<p>How can I make this script work for IE too? In other word, interact with the embed tag (but only in IE)?</p>\n",
            "last_activity_date": 1345098738,
            "question_id": 11953656,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "internet-explorer",
                "audio",
                "embed"
            ],
            "title": "Start/pause audio in an embed tag ? (IE8+)"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Try:</p>\n\n<pre><code>myStyleSheetRule.setAttribute('style', 'border-top-color:red !important');\n</code></pre>\n\n<p>This will add it inline.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Something like this should work:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div id=\"colored\"&gt;?&lt;/div&gt;\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\n</code></pre>\n\n<p><strong>Default stylesheet</strong></p>\n\n<pre><code>#colored {\n    border-top: 1px solid Black;\n}\u200b\n</code></pre>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>var all = document.styleSheets,\n    s = all[all.length - 1],\n    l = s.cssRules.length;\n\nif (s.insertRule) {\n    s.insertRule('#colored {border-top-color: Red !important}', l);\n} else {\n    //IE\n    s.addRule('#colored', 'border-top-color: Red !important', -1);\n}\u200b\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I've got a reference to a <code>CSSStyleRule</code> object in JavaScript and I want to update the style for <code>border-top-color</code> to <code>red !important</code>. If I assign the value <code>red</code>, no problems occur. If I assign the value <code>red !important</code>, the value is ignored (i.e. not assigned).</p>\n\n<pre><code>myStyleSheetRule.style.borderTopColor = 'red'; // success\nmyStyleSheetRule.style.borderTopColor = 'red !important'; // fail\n</code></pre>\n\n<p>How do I set the !important flag?</p>\n\n<p>Note that it has to be done via a stylesheet rule accessed programatically. In my use case, I can't assign a style attribute or anything else. I'm using Chrome on Windows 7.</p>\n",
            "last_activity_date": 1343721497,
            "question_id": 11733844,
            "score": 5,
            "tags": [
                "javascript",
                "css"
            ],
            "title": "How to add !important to a stylesheet rule using JavaScript?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This from a related answer to a question by bobince:</p>\n\n<blockquote>\n  <p>You're right to not want to be processing HTML with regex. It's also bad news to be assigning huge chunks of .html(); apart from the performance drawbacks of serialising and reparsing a large amount of HTML, you'll also lose unserialisable data like event listeners, form data and JS properties/references.</p>\n  \n  <p>Here's a plain JavaScript/DOM one that allows a RegExp pattern to match. jQuery doesn't really give you much help here since selectors can only select elements, and the \u2018:contains\u2019 selector is recursive so not too useful to us.</p>\n</blockquote>\n\n<pre><code>// Find text in descendents of an element, in reverse document order\n// pattern must be a regexp with global flag\n//\nfunction findText(element, pattern, callback) {\n    for (var childi= element.childNodes.length; childi--&gt;0;) {\n        var child= element.childNodes[childi];\n        if (child.nodeType==1) {\n            findText(child, pattern, callback);\n        } else if (child.nodeType==3) {\n            var matches= [];\n            var match;\n            while (match= pattern.exec(child.data))\n                matches.push(match);\n            for (var i= matches.length; i--&gt;0;)\n                callback.call(window, child, matches[i]);\n        }\n    }\n}\n\nfindText(document.body, /\\bBuyNow\\b/g, function(node, match) {\n    var span= document.createElement('span');\n    span.className= 'highlight';\n    node.splitText(match.index+6);\n    span.appendChild(node.splitText(match.index+3));\n    node.parentNode.insertBefore(span, node.nextSibling);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try <a href=\"http://api.jquery.com/filter/\" rel=\"nofollow\">filtering</a> the <code>body</code>'s <a href=\"http://api.jquery.com/contents/\" rel=\"nofollow\"><code>contents()</code></a> by <a href=\"https://developer.mozilla.org/en/nodeType\" rel=\"nofollow\">nodeType</a> to get only the Text Nodes, then replace them with jQuery-generated anchor elements (any extra text in these nodes will be kept as Text Node):</p>\n\n<pre><code>$('body').contents().filter(function() {\n    return this.nodeType === 3;\n}).each(function() {\n    $(this).replaceWith($(this).text().replace(/(00\\d+)/g, '&lt;a href=\"#$1\"&gt;$1&lt;/a&gt;'));\n});\n</code></pre>\n\n<h2><a href=\"http://jsfiddle.net/ult_combo/NATnr/4/\" rel=\"nofollow\"><strong>Fiddle</strong></a></h2>\n\n<p>As you know, most often it's not a good idea to parse HTML with Regex (look out for <a href=\"http://stackoverflow.com/a/1732454/1331430\">the ponies</a>, they are evil), but if you isolate a part of the HTML you want to parse and it follows a relatively simple pattern, it is a viable option.</p>\n\n<p><strong>edit:</strong> Included the <code>g</code> flag (<a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/RegExp/#Parameters\" rel=\"nofollow\">global modifier</a>) in your Regex to allow for matching multiple anchors inside a single Text Node.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>Give this a whirl.... Much cleaner!! ;)</p>\n\n<pre><code>$('input').each(function() {\n    var temp;\n       temp = $(this).val();\n       $(this).before('&lt;a href=\"#' + temp +'\"&gt;' +temp+ '&lt;/a&gt;');\n});\n$('body').contents().filter(function() {return this.nodeType == 3;}).remove();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The final solution ended up looking like this:</p>\n\n<pre><code>jQuery.fn.linker = function () {\n    $(this).contents()\n        .filter(function() { return this.nodeType != Node.TEXT_NODE; })\n        .each(function () { $(this).linker(); });\n    $(this).contents()\n        .filter(function() { return this.nodeType == Node.TEXT_NODE; })\n        .each(function () {\n            $(this).replaceWith(\n                $(this).text().replace(/(00\\d+)/g, '&lt;a href=\"#$1\"&gt;$1&lt;/a&gt;')\n            );\n        });\n}\n$(document).ready(function () {\n    $('body').linker();\n});\n</code></pre>\n\n<p>See the jsFiddle at work here: <a href=\"http://jsfiddle.net/fr4AL/4/\" rel=\"nofollow\">http://jsfiddle.net/fr4AL/4/</a></p>\n\n<p>Thanks to:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/11661408/jquery-how-to-wrap-regex-matched-plain-text-in-an-anchor-tag/11661508#11661508\">Fabricio's answer</a></li>\n<li><a href=\"http://stackoverflow.com/questions/298750/how-do-i-select-text-nodes-with-jquery\">How do I select text nodes with jQuery?</a></li>\n<li><a href=\"http://api.jquery.com/wrap/\" rel=\"nofollow\">http://api.jquery.com/wrap/</a></li>\n<li><a href=\"http://api.jquery.com/contents/\" rel=\"nofollow\">http://api.jquery.com/contents/</a></li>\n<li><a href=\"http://stackoverflow.com/questions/3103962/converting-html-string-into-dom-elements\">Converting HTML string into DOM elements?</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Suppose I have an HTML page that looks something like this:</p>\n\n<pre><code>&lt;html&gt;&lt;body&gt;\n00123\n&lt;input value=\"00123\"&gt;\n00456\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>And I want to use javascript/jQuery to make it look like this:</p>\n\n<pre><code>&lt;html&gt;&lt;body&gt;\n&lt;a href=\"#00123\"&gt;00123&lt;/a&gt;\n&lt;input value=\"00123\"&gt;\n&lt;a href=\"#00456\"&gt;00456&lt;/a&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Essentially I want to wrap regular expression matched plain strings in the document with HTML anchor tags. In this example, I want to do something like:</p>\n\n<pre><code>$('body').html($('body').html().replace(/(00\\d+)/, '&lt;a href=\"#$1\"&gt;$1&lt;/a&gt;'));\n</code></pre>\n\n<p>See the jsFiddle with this example: <a href=\"http://jsfiddle.net/NATnr/2/\" rel=\"nofollow\">http://jsfiddle.net/NATnr/2/</a></p>\n\n<p>The problem with this solution is that the text inside the <code>input</code> element is matched and replaced.</p>\n\n<p>Does anyone know how to only match and replace plain text in a document in this manner using javascript/jQuery?</p>\n",
            "last_activity_date": 1343321214,
            "question_id": 11661408,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "regex"
            ],
            "title": "jQuery: How to wrap RegEx matched plain text in an anchor tag?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Have you tried the same code on a browser supporting SVG to see if it's a problem with webview? Then try <a href=\"http://jsfiddle.net/plaliberte/HAXyd/\" rel=\"nofollow\">this example</a> using canvg or <a href=\"http://bl.ocks.org/2294676\" rel=\"nofollow\">this one</a> using DOM serialization. For server-side rendering, you could start with <a href=\"https://github.com/mbostock/d3/blob/master/examples/node-canvas/us-counties.js\" rel=\"nofollow\">this example</a> for how to render it to canvas server-side using Node.js.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've not tried a library, but have rendered a d3-produced SVG to a canvas following <a href=\"https://developer.mozilla.org/en/docs/HTML/Canvas/Drawing_DOM_objects_into_a_canvas\" rel=\"nofollow\">this</a>  post on MDN.</p>\n\n<p>This code is a quick mish-mash of the MDN and some jQuery, that'll you'll need to tidy up, and it has no error- or platfrom-checking, but it works, and I hope it helps.</p>\n\n<pre><code>$(document.body).append(\n    '&lt;canvas id=\"canvas\" width=\"'+diameter+'\" height=\"'+diameter+'\"&gt;&lt;/canvas&gt;'\n);\n\n// https://developer.mozilla.org/en/docs/HTML/Canvas/Drawing_DOM_objects_into_a_canvas\nvar el = $($('svg')[0]);\nvar svgMarkup = '&lt;svg xmlns=\"http://www.w3.org/2000/svg\"'\n+ ' class=\"'  + el.attr('class') +'\"'\n+ ' width=\"'  + el.attr('width') +'\"'\n+ ' height=\"' + el.attr('height') +'\"'\n+ '&gt;'\n+ $('svg')[0].innerHTML.toString()+'&lt;/svg&gt;';\nvar canvas = document.getElementById(\"canvas\");\nvar ctx = canvas.getContext(\"2d\");\nvar DOMURL = this.URL || this.webkitURL || this;\nvar img = new Image();\nvar svg = new Blob([svgMarkup], {type: \"image/svg+xml;charset=utf-8\"});\nvar url = DOMURL.createObjectURL(svg);\nimg.onload = function() {\n    ctx.drawImage(img, 0, 0);\n    alert('ok');\n    DOMURL.revokeObjectURL(url);\n};\nimg.src = url;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's one way you could write your svg to canvas (and then save the result as a png or whatever):</p>\n\n<pre><code>// Create an export button\nd3.select(\"body\")\n    .append(\"button\")\n    .html(\"Export\")\n    .on(\"click\",svgToCanvas);\n\nvar w = 100, // or whatever your svg width is\n    h = 100;\n\n// Create the export function - this will just export \n// the first svg element it finds\nfunction svgToCanvas(){\n    // Select the first svg element\n    var svg = d3.select(\"svg\")[0][0],\n        img = new Image(),\n        serializer = new XMLSerializer(),\n        svgStr = serializer.serializeToString(svg);\n\n    img.src = 'data:image/svg+xml;base64,'+window.btoa(svgStr);\n\n    // You could also use the actual string without base64 encoding it:\n    //img.src = \"data:image/svg+xml;utf8,\" + svgStr;\n\n    var canvas = document.createElement(\"canvas\");\n    document.body.appendChild(canvas);\n\n    canvas.width = w;\n    canvas.height = h;\n    canvas.getContext(\"2d\").drawImage(img,0,0,w,h);\n    // Now save as png or whatever\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Has anyone tried using a svg to canvas library when creating d3.js visualizations?  I've tried to use canvg.js and d3.js to convert svg to canvas from within an android 2.3 application webview, but when I call:</p>\n\n<pre><code>  svg.selectAll(\".axis\")\n      .data(d3.range(angle.domain()[1]))\n    .enter().append(\"g\")\n      .attr(\"class\", \"axis\")\n      .attr(\"transform\", function(d) { return \"rotate(\" + angle(d) * 180 / Math.PI + \")\"; })\n    .call(d3.svg.axis()\n      .scale(radius.copy().range([-5, -outerRadius]))\n      .ticks(5)\n      .orient(\"left\"))\n    .append(\"text\")\n      .attr(\"y\", \n        function (d) {\n          if (window.innerWidth &lt; 455){\n            console.log(\"innerWidth less than 455: \",window.innerWidth);\n            return -(window.innerHeight * .33);\n          }\n          else{\n            console.log(\"innerWidth greater than 455: \",window.innerWidth);\n            return -(window.innerHeight * .33);\n          }\n        })\n      .attr(\"dy\", \".71em\")\n      .attr(\"text-anchor\", \"middle\")\n      .text(function(d, i) { return capitalMeta[i]; })\n      .attr(\"style\",\"font-size:12px;\");\n</code></pre>\n\n<p>I get the error: Uncaught TypeError: Cannot call method 'setProperty' of null <a href=\"http://mbostock.github.com/d3/d3.js?2.5.0:1707\" rel=\"nofollow\">http://mbostock.github.com/d3/d3.js?2.5.0:1707</a></p>\n\n<p>Would some sort of headless browser application, or a server side js parser work?  Has anyone encountered this before?</p>\n",
            "last_activity_date": 1400111212,
            "question_id": 11567668,
            "score": 5,
            "tags": [
                "javascript",
                "node.js",
                "select",
                "svg",
                "d3.js"
            ],
            "title": "SVG to Canvas with d3.js"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>There is no default implementation.In fact, completely on your own is also very simple, please reference the following code\uff1a</p>\n\n<pre><code>//Pseudo code \nvar line = $(\"element_1\"),area = $(\"element_2\");\nif(selectvalue ===\"1\"){\n  line.show();\n  area.hide();\n}\nelse{\n  line.hide();\n  area.show();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can bind events to the select element and have them toggle the visibility of other form elements.</p>\n\n<p>Try this:</p>\n\n<pre><code>$(function() {\n\n    //The form\n    var form = new Backbone.Form({\n        schema: {\n            inputType: { type: 'Select', options: ['line', 'area'] },\n            line: 'Text',\n            area: 'TextArea'\n        }\n    }).render();\n\n    form.fields['area'].$el.hide();\n\n    form.on('inputType:change', function(form, editor) {         \n        form.fields['line'].$el.toggle();\n        form.fields['area'].$el.toggle();\n    });\n\n    //Add it to the page\n    $('body').append(form.el);\n});\n</code></pre>\n\n<p>Here's some live code: <a href=\"http://jsfiddle.net/shioyama/grn6y/\">http://jsfiddle.net/shioyama/grn6y/</a></p>\n\n<p>Derived from this: <a href=\"https://groups.google.com/d/topic/backbone-forms/X5eVdTZWluQ/discussion\">https://groups.google.com/d/topic/backbone-forms/X5eVdTZWluQ/discussion</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>First of all thanks to the guys of <a href=\"https://github.com/powmedia/backbone-forms\">backbone-forms</a> who made a tool which perfectly integrates in the backbone.js framework.</p>\n\n<p>I'm using backbone.js with the backbone-forms plugin, but I need to make conditional fields.</p>\n\n<p>Let's say I've the following form.\nI want to show (or not) a single line input with thext or a textarea according to the value selected in the <code>select</code>.</p>\n\n<pre><code>&lt;form method=\"post\" action=\"\"&gt;                  \n    &lt;select &gt; \n        &lt;option value=\"\" selected=\"selected\"&gt;choose one&lt;/option&gt;\n        &lt;option value=\"1\" &gt;line&lt;/option&gt;\n        &lt;option value=\"2\" &gt;area&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;input id=\"element_1\" /&gt; \n    &lt;textarea id=\"element_2\" &gt;&lt;/textarea&gt; \n&lt;/form&gt; \n</code></pre>\n\n<p>A behaviour like this one is implemented by default in backbone?</p>\n\n<p>If not, how can I implement it with javascript and backone-forms?</p>\n\n<p>thanks.</p>\n",
            "last_activity_date": 1343602168,
            "question_id": 11433314,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "forms",
                "backbone.js"
            ],
            "title": "backbone-forms with conditional fields"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>you can try as </p>\n\n<pre><code>$(document).ready(function () {\n\n        // Create Object\n        var items = [\n              { name: \"Item 1\", color: \"Green\", size: \"X-Large\" },\n              { name: \"Item 2\", color: \"Green\", size: \"X-Large\" },\n              { name: \"Item 3\", color: \"Green\", size: \"X-Large\" }];\n\n        // Convert Object to JSON\n        var jsonObject = JSON.stringify(items);\n\n        // Display JSON\n        $('#json').text(jsonObject);\n\n        // Convert JSON to CSV &amp; Display CSV\n        $('#csv').text(ConvertToCSV(jsonObject));\n    });\n</code></pre>\n\n<p>and a function ConvertToCSV</p>\n\n<pre><code>// JSON to CSV Converter\n        function ConvertToCSV(objArray) {\n            var array = typeof objArray != 'object' ? JSON.parse(objArray) : objArray;\n            var str = '';\n\n            for (var i = 0; i &lt; array.length; i++) {\n                var line = '';\n                for (var index in array[i]) {\n                    if (line != '') line += ','\n\n                    line += array[i][index];\n                }\n\n                str += line + '\\r\\n';\n            }\n\n            return str;\n        }\n</code></pre>\n\n<p><a href=\"http://www.zachhunter.com/2011/06/json-to-csv/\" rel=\"nofollow\">Source</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I am trying to convert a javascript object set in to csv format</p>\n\n<p>You can get the idea abt my Javascript object, if you put it in online JSON parser <a href=\"http://json.parser.online.fr/\">http://json.parser.online.fr/</a> </p>\n\n<p>This is how I tried to wrk it out... bt it flopped.. <a href=\"http://jsfiddle.net/fHQzC/11/\">http://jsfiddle.net/fHQzC/11/</a></p>\n\n<p>I am trying to take the whole values corresponding to the value \"term\"  and corresponding title in to csv format </p>\n\n<p>The expected output for is like </p>\n\n<pre><code>Time,Dec 9, 2012 \nNews,Germany,election, Egypt,Revolution, Japan, Earthquake\nPerson,Obama, Beckham\nTitle,Pearce Snubs Beckham                                \nTime,Dec 5, Birthday\nPerson, Lebron James\nNews,Italy,Euro 2012 Final\n</code></pre>\n\n<p>Title-Heats National Champions</p>\n\n<p>and is it possible to download the csv file in excel sheet the one I found in stack was nt really useful...</p>\n",
            "last_activity_date": 1388787456,
            "question_id": 11257062,
            "score": 5,
            "tags": [
                "javascript",
                "arrays",
                "json",
                "csv"
            ],
            "title": "converting json object to csv format in javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The only way, as it seems to me, would be to use eval. But as they say, eval is evil - but not in controlled environments. This is the way it is possible, but i don't recommend using eval, unless it is absolutely necessary.</p>\n\n<pre><code>var myObject = new MyObject();\nvar myString = \"myObject\";\nvar wantThisToWork = eval(myString).myproperty;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can use the <code>eval</code> function.</p>\n\n<pre><code>eval(myString).myproperty\n</code></pre>\n\n<p>Careful with eval, though, if this is something the user is inputting, it will execute any javascript code!</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If the variable is in the global scope, you can access it as a property of the global object</p>\n\n<pre><code>var a = \"hello world\";\nvar varName = \"a\";\nconsole.log( window[varName] ); // outputs hello world\nconsole.log( this[varName] ); // also works (this === window) in this case\n</code></pre>\n\n<p>However, if it's a local variable, the only way is to use <code>eval</code></p>\n\n<pre><code>function () {\n  var a = \"hello world\";\n  var varName = \"a\";\n  console.log( this[varName] ); // won't work\n  console.log( eval(varName) ); // Does work\n}\n</code></pre>\n\n<p>Unless you can put your dynamic variables into an object and access it like a property</p>\n\n<pre><code>function () {\n  var scope = {\n    a: \"hello world\";\n  };\n  var varName = \"a\";\n  console.log( scope[varName] ); // works\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Use <strong>eval()</strong></p>\n\n<pre><code>var myObject = {};\nmyObject.myproperty = \"Hello\";\nvar myString = \"myObject\";\n\nvar wantThisToWork = eval(myString).myproperty;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/6084858/javascript-use-variable-as-object-name\">Javascript use variable as object name</a>  </p>\n</blockquote>\n\n\n\n<p>How do I get JS to treat a string as a reference to a previously defined object? Simplified:</p>\n\n<pre><code>var myObject = new MyObject();\n\nvar myString = \"myObject\";\n\nvar wantThisToWork = myString.myproperty;\n</code></pre>\n",
            "last_activity_date": 1339177727,
            "question_id": 10953303,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "Javascript: interpret string as object reference?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can write a Handlebars helper to do this for you.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<pre><code> &lt;body&gt;\n   &lt;div id='displayArea'&gt;&lt;/div&gt;\n   &lt;script id=\"template\" type=\"text/x-handlebars-template\"&gt;\n    &lt;table border=\"2\"&gt;\n        &lt;thead&gt;\n        &lt;tr&gt;\n            {{#each Fields}}\n             &lt;th&gt;{{name}}&lt;/th&gt;\n            {{/each}}\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n          {{#each users}}\n          &lt;tr&gt;\n            {{#each ../Fields}}\n           &lt;td&gt;{{getName name ../this}}&lt;/td&gt;\n            {{/each}}\n          &lt;/tr&gt;\n         {{/each}}\n        &lt;/tbody&gt;\n     &lt;/table&gt;\n &lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    var User = function(attributes) {\n        this.attributes = attributes;\n    }\n\n    User.fields = [\n        {name: 'firstName'},\n        {name: 'lastName'},\n        {name: 'email'}\n    ]\n\n    User.prototype.get = function(key) {\n       return this.attributes[key];\n    }\n\n    User.all = [new User({firstName: 'Foo',lastName :'ooF',email : 'foo@gmail.com'}) , new User({firstName: 'Foo2'})];       //array of user\n\n    //handle bar functions to display\n    $(function(){\n       var template = Handlebars.compile($('#template').html());\n\n        Handlebars.registerHelper('getName',function(name,context){\n                          return context.get(name);\n          });\n        $('#displayArea').html(template({Fields :User.fields,users:User.all}));\n    });\n   &lt;/script&gt;\n  &lt;/body&gt;  \n</code></pre>\n\n<p>This will solve ur problem using helpers in handlebar JS</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>Say I have a <code>User</code> model in JavaScript that looks something like this:</p>\n\n<pre><code>var User = function(attributes) {\n  this.attributes = attributes;\n}\n\nUser.fields = [\n  {name: 'firstName'},\n  {name: 'lastName'},\n  {name: 'email'}\n]\n\nUser.prototype.get = function(key) {\n  return this.attributes[key];\n}\n\nUser.all = [new User({firstName: 'Foo'})];\n</code></pre>\n\n<p>And I want to run it through a Handlebars template that goes through each field on the <code>User</code> class, creates a header for it, and then for each user renders the values:</p>\n\n<pre><code>&lt;table&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      {{#each User.fields}}\n      &lt;th&gt;{{name}}&lt;/th&gt;\n      {{/each}}\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    {{#each User.all}}\n    &lt;tr&gt;\n      {{#each User.fields}}\n      &lt;td&gt;{{content.get(name)}}&lt;/td&gt;\n      {{/each}}\n    &lt;/tr&gt;\n    {{/each}}\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>My question is, how do I accomplish that internal part:</p>\n\n<pre><code>{{#each User.fields}}\n&lt;td&gt;{{content.get(name)}}&lt;/td&gt;\n{{/each}}\n</code></pre>\n\n<p>That's basically doing <code>user.get(field.name)</code>.  How can I do that in Handlebars, given I don't know the fields before hand and want this to be dynamic?</p>\n\n<p>Thanks for your help.</p>\n",
            "last_activity_date": 1337778873,
            "question_id": 10713559,
            "score": 5,
            "tags": [
                "javascript",
                "handlebars.js"
            ],
            "title": "How do you interpolate a dynamic {{property}} in Handlebars / Ember.js?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yo mate </p>\n\n<p>You should use the <a href=\"http://demos.kendoui.com/web/datasource/index.html\">dataSource</a> of the combobox.\ne.g.</p>\n\n<pre><code>var ds = $('#YourCombo').data().kendoComboBox.dataSource;\n</code></pre>\n\n<p>then you can modify the items like this</p>\n\n<pre><code>//someIndex is the index of the item in the dataSource\nds.data()[someIndex].set(\"text\",\"Cool! its changed\");\n</code></pre>\n\n<p>to add item or remove use the <strong>add</strong> and <strong>remove</strong> methods of the dataSource</p>\n\n<pre><code>ds.add({text:\"Test again!\",value:\"5\"});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>We used the Kendo UI DropDownList the first time without binding with knockout.\nVia jquery a usual html input is transformed into a KendoUI DropDownList.\nBut how can i remove/edit/add items to the options?</p>\n\n<p>If i modify the html inputs options via jquery it has no influence on the kendoui dropdown - even with a refresh call afterwards.</p>\n\n<p>Any ideas how to do this?\nThanks</p>\n",
            "last_activity_date": 1349123007,
            "question_id": 10336989,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "asp.net-mvc",
                "kendo-ui"
            ],
            "title": "How to modify KendoUI DropDownList items"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You could create a <code>hide</code> function on your view which removes the view when the callback is finished, see <a href=\"http://jsfiddle.net/7EuSC/\" rel=\"nofollow\">http://jsfiddle.net/7EuSC/</a></p>\n\n<p><strong>Handlebars</strong>:</p>\n\n<pre><code>&lt;script type=\"text/x-handlebars\" data-template-name=\"tmpl\" &gt;\n    &lt;button {{action \"hide\" }}&gt;hide&lt;/button&gt;\n\n    This is my test view which is faded in and out\n&lt;/script&gt;\u200b\n</code></pre>\n\n<p><strong>JavaScript</strong>:</p>\n\n<pre><code>Ember.View.create({\n    templateName: 'tmpl',\n\n    didInsertElement: function() {\n        this.$().hide().show(\"slow\");\n    },\n\n    _hideViewChanged: function() {\n        if (this.get('hideView')) {\n            this.hide();\n        }\n    }.observes('hideView'),\n\n    hide: function() {\n        var that = this;\n        this.$().hide(\"slow\", function() {\n            that.remove();\n        });\n    }\n}).append();\u200b\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>I know this already has the right answer, but I thought I'd pop something similar up in case anyone else finds this through Google like I did. </p>\n\n<p>One of my apps has a 'detail' section that always has the same content binding but changes the template for view/edit/etc modes. </p>\n\n<p>Because I'm using rerender() to achieve this and want the view to fade out then in again so it hides any glitchiness of the rerender function (as well as make it look nice) I have wrapped it in a  for animation purposes. </p>\n\n<pre><code>&lt;script&gt;\n_templateChanged: function(){\n  self = this;\n  $('#effects-wrapper').fadeOut('fast',function(){\n    self.rerender();\n    $(this).fadeIn('fast');\n  });            \n}.observes('template')\n&lt;/script&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;div id=\"effects-wrapper\"&gt;\n{{App.Views.Whatever}}\n&lt;/div&gt;\n</code></pre>\n\n<p>Perhaps not the best option, but also perhaps useful to someone</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Say I have a template which displays a view based on a property:</p>\n\n<pre><code>{{#if App.contentsAreVisible}}\n    {{view ToggleContents}}\n{{/if}}\n</code></pre>\n\n<p>This area is toggled by any number of other parts of the UI by setting <code>App.set(\"contentsAreVisible\", [true/false]);</code></p>\n\n<p>This all works fine. </p>\n\n<p>However, I now want to animate when the view is toggled. Hooking into <code>didInsertElement</code> works to animate showing the area, but I can't do the same in <code>willDestroyElement</code> because the element is removed as soon as that function returns, before the animation has a chance to run.</p>\n\n<pre><code>App.ToggleContents = Ember.View.extend({\n\n    // this works fine\n    didInsertElement: function(){\n        this.$().hide().show(\"slow\");\n    },\n\n    // this doesn't work\n    willDestroyElement: function(){\n        this.$().hide(\"slow\", function(){\n            // animation is complete, notify that the element can be removed\n        });\n    }\n});\n</code></pre>\n\n<p>Is there any way to tell the view to defer removing the element from the DOM until the animation is complete?</p>\n\n<p>Here's a fiddle with an interactive example: <a href=\"http://jsfiddle.net/rlivsey/RxxPU/\" rel=\"nofollow\">http://jsfiddle.net/rlivsey/RxxPU/</a></p>\n",
            "last_activity_date": 1336122009,
            "question_id": 9925171,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "ember.js"
            ],
            "title": "Deferring removal of a view so it can be animated"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You would need to keep track of the previous point and then draw a line between the new point and the previous.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Why not use canvas? It has a number of line drawing utilities:</p>\n\n<p><a href=\"http://www.w3schools.com/html5/html5_ref_canvas.asp\" rel=\"nofollow\">http://www.w3schools.com/html5/html5_ref_canvas.asp</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Check this out: <a href=\"http://jsfiddle.net/KodeKreachor/9DbP3/6/\" rel=\"nofollow\">http://jsfiddle.net/KodeKreachor/9DbP3/6/</a></p>\n\n<p>The following object on the given link contains the algorithm:</p>\n\n<pre><code>var drawer = new Drawer();\n</code></pre>\n\n<p>Let me know if you have any questions as to how I did it. The premise is based on Bresenham's line algorithm and should be compatible in older browsers as well.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>As @kand has mentioned, a Canvas is really the best tool for drawing.</p>\n\n<p>If you must use your <code>div</code> method, or if this is just for fun, you can extend your approach by saving the previous mouse position and then draw the intervening \"pixels\" needed to complete the line using, for example, <a href=\"https://en.wikipedia.org/wiki/Bresenham%27s_line_algorithm\" rel=\"nofollow\">Bresenham's line algorithm</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm working on a script that allows the user to draw with the mouse: \n<a href=\"http://jsfiddle.net/ujMGu/\" rel=\"nofollow\">http://jsfiddle.net/ujMGu/</a></p>\n\n<p><strong>The problem</strong>: If you move the mouse really fast it jerks and skips a few places. Is there any way to capture all the points without any skipping black spaces in between the drawing line?</p>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>#myid{background: none repeat scroll 0 0 #000000;\n    color: #FFFFFF;\n    display: block;\n    height: 1000px;\n    margin: 3%;\n    position: relative;\n    text-indent: -1100px;}\u200b\n</code></pre>\n\n<p><strong>JS/JQ</strong></p>\n\n<pre><code>$('#myid')\n.css('position','relative')\n.unbind().die()\n.bind('mousemove mouseover',function (e){\nvar top = parseInt(e.pageY)-$(this).offset().top;\nvar left= parseInt(e.pageX)-$(this).offset().left;\nvar pixel= $('&lt;div&gt;&lt;/div&gt;')\n  .css({\n      width:10,height:10,\n      background: '#fff',\n      position:'absolute',\n      top: top, left: left,\n      'border-radius': 2\n  });\n  $(this).append(pixel);\n});\u200b\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div id=\"myid\"&gt;&lt;/div&gt;\n</code></pre>\n",
            "last_activity_date": 1374152350,
            "question_id": 9587843,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "cursor"
            ],
            "title": "How can I prevent fast mouse movement from breaking a line in my drawing app?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>WebKit, and hence Chrome, is quite restrictive on when you can call <code>getData</code>.  You're not allowed to do it inside <a href=\"https://bugs.webkit.org/show_bug.cgi?id=58206#c7\"><code>dragstart</code> or <code>dragover</code></a>.  I think <a href=\"https://bugs.webkit.org/show_bug.cgi?id=23695\">this is the canonical bug</a>.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I'm currently working on a project at work using the HTML5 Drag and Drop API to provide added functionality including dragging items in and out of browsers. I am currently coming across issues which are specific to Chrome (otherwise only tested in Firefox, which works as expected).</p>\n\n<p>The issue is that I cannot use the <code>event.dataTransfer.getData(type)</code> method to return the data set on the <code>dragstart</code> event in any events except the <code>drop</code> event.</p>\n\n<p>I set the event like so, after binding to the <code>dragstart</code> event (which DOES fire):</p>\n\n<pre><code>event.dataTransfer.setData('text/plain', \"some string\")\n</code></pre>\n\n<p>Then in the <code>drop</code> event, I can get the data fine.</p>\n\n<pre><code>event.dataTransfer.getData('text/plain')\n</code></pre>\n\n<p>However I cannot use the same method as above on any other events (such as <code>dragover</code>). Even if I try and use the above method on the line after calling <code>setData()</code> (i.e., in the <code>dragstart</code> callback), then it will still return <code>undefined</code>.</p>\n\n<p>So, in Chrome, the issue is that <code>getData</code> in Chrome will always return <code>undefined</code>, except within the <code>drop</code> event callback.  (In Firefox, I can successfully get the correct data.)</p>\n\n<p>If you have the reference to the <code>dataTransfer</code> object of the same dragging element, then why should you not be able to get the data until it is dropped?</p>\n\n<p>Just wondering: </p>\n\n<ul>\n<li>Has anyone had this trouble with Chrome before? </li>\n<li>What workarounds are there? </li>\n<li>Or, is it something Chrome needs to fix?</li>\n</ul>\n\n<p>Resources:\n<a href=\"http://dev.w3.org/html5/spec/Overview.html#dnd\" rel=\"nofollow\">Specification for HTML5 drag and drop.</a></p>\n",
            "last_activity_date": 1420581925,
            "question_id": 9534677,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "drag-and-drop"
            ],
            "title": "HTML5 Drag and Drop getData() only works on drop event in Chrome?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>If you want to improve the default JavaScript experience in Visual Studio 2010 you need to install the JScript Extensions.</p>\n\n<p>In VS > <code>Tools &gt; Extension Manager &gt; Search for JScript</code></p>\n\n<p>You will then be able to install the following extensions:</p>\n\n<ul>\n<li>JScript Brace Matching Extension</li>\n<li>JScript Editor Extension</li>\n<li>JScript IntelliSense Para Extension</li>\n<li>JScript Outloning Extension</li>\n<li>JScript WOrk Highlighter Extension</li>\n</ul>\n\n<p>Good luck!</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Out of the box you have some support for JavaScript in Visual Studio 2010 but it doesn't really cut it.</p>\n\n<p>At the moment I am using <a href=\"http://www.jetbrains.com/resharper/whatsnew/index.html\" rel=\"nofollow\">Resharper 6.1</a> (Visual Studio plugin) which does cut it. It does exactly what you expect plus lots more. It's not free but I can advise it to anyone.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>I have found an Editor <a href=\"http://www.yaldex.com/Free_JavaScript_Editor.htm\" rel=\"nofollow\">\"Free JavaScript Editor</a>\" it has good intellisense support for javascript, it can tackle</p>\n\n<ul>\n<li>HTML</li>\n<li>CSS</li>\n<li>Javascript</li>\n</ul>\n\n<p>It was all that I need right nowt..!    :)</p>\n\n<p>Thanks for all the replies and input...</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I do Unity3D game development, and my primary IDE is MonoDevelop. MonoDevelop with Unity3D appears to have strong support for JavaScript.  Since I mostly do c#, I cannot say much about it, but you can play around with it.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I was delighted to see javascript intellisense in Visual studio 2010 , but I don't see everything inside a particular object through it , in the below code</p>\n\n<pre><code>if (document.images[i].parentNode.tagName == \"A\"\n</code></pre>\n\n<p>\"parentNode\" doesn't shows up in intellisense which made me think that I was typing wrong code ,but it do exists and Visual studio doesn't show it..</p>\n\n<p>How to fix this ?</p>\n\n<p><strong>Update Progress:<br/></strong></p>\n\n<ul>\n<li>Used NetBeans 7.1 it didn't helped me in JavaScript,</li>\n<li>Installed JScript Extensions for VStudio 2010 ,some improvements in js editing but no improved in Javascript intellisense,</li>\n</ul>\n",
            "last_activity_date": 1351849264,
            "question_id": 9281405,
            "score": 5,
            "tags": [
                "javascript",
                "asp.net",
                "visual-studio-2010",
                "javascript-intellisense"
            ],
            "title": "Lack of javascript intellisense in Visual Studio 2010"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Use a function expression, not a function declaration.</p>\n\n<pre><code>if(typeof myfunction != 'function'){\n   window.myfunction = function(){};\n}\n</code></pre>\n\n<p>(I'm using <code>window</code> since your last paragraph suggests you want a global function)</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>You should use strict comparison operator !==</p>\n\n<pre><code>if(typeof myfunction !== 'function'){\n    window.myfunction = function(){}; // for a global function or\n    NAMESPACE.myFucntion = function(){}; // for a function in NAMESPACE \n}\n</code></pre>\n\n<p>Also try to keep js functions inside namespaces, this way you avoid collisions with other js libraries in the future.</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>In php I'm writing the following</p>\n\n<pre><code>&lt;?php\nif(x != 0) {\necho \"function myfunction(){};\";    \n}\n?&gt;\n</code></pre>\n\n<p>In javascript I wish to test if the function exists and if not write out an empty function</p>\n\n<pre><code>if(typeof myfunction != 'function'){\n    function myfunction(){};\n}\n</code></pre>\n\n<p>This works great in firefox but, in chrome even if the typeof equals function it still goes into and creates the empty function.  I can't find a work around for chrome, i've tried if(!myfunction), if(typeof window.myfunction != 'function) but nothing seems to work here for chrome when everything seems to work in firefox.  Any ideas?</p>\n",
            "last_activity_date": 1326391574,
            "question_id": 8839112,
            "score": 5,
            "tags": [
                "javascript",
                "function",
                "typeof"
            ],
            "title": "if function does not exist write function - javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If I am not much mistaken you can't change this as this is (was originally) meant to protect the privacy of users avoiding anyway to upload files without explicit user permission/action.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<ol>\n<li><p>make sure your code is in <code>$(\"document\").ready(function(){... here..});</code> </p></li>\n<li><p>seems file inputs when wired up with <code>.live(\"change\", function(){});</code> dont quite work well </p></li>\n</ol>\n\n<p>the other styling stuff is something else but the CSS isn't all that complicated - <a href=\"http://www.quirksmode.org/dom/inputfile.html\" rel=\"nofollow\">beautiful file upload</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As said before, IE is very strict when submitting form containing file inputs. File inputs must be triggered with a real mouse click to allow the form submission. Additionnaly, there seems to be a bug with IE9 and file inputs.</p>\n\n<p>The good news is that there is a way to bypass the security restriction from IE using a label :</p>\n\n<ol>\n<li>Create a regular label tag linked to your file input. The label will trigger the input file as it normally does.</li>\n<li>Disguise the label as a button using CSS.</li>\n<li>The file input must be displayed (for IE8), but can be hidden using \"visibility: hidden\". IE8 will accept this hack.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 24
                }
            ],
            "body": "<p>I had a post here:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/8827137/change-acting-weird-in-ie9\">.change acting weird in IE9</a></p>\n\n<p>However, I have run into a new incident regarding the form handling of file upload and was curious if anyone has run into this issue.</p>\n\n<p>My original problem was that I could not get an onchange event to work and I thought perhaps it was an issue with my javascript, but I found that it has to do with the way that the form is being activated.</p>\n\n<p>I have a file input</p>\n\n<pre><code>&lt;input type=\"file\" name=\"abc\"/&gt;\n</code></pre>\n\n<p>now I've done 2 things. </p>\n\n<p>I've hidden the input and created a button (for better styling control) that activates the input.</p>\n\n<pre><code>&lt;button id=\"mybutton\"&gt;click to upload a pic&lt;/button&gt;\n&lt;input type=\"file\" name=\"abc\"/&gt;\n</code></pre>\n\n<p>and then the JS for the interaction between the two:</p>\n\n<pre><code>$(\"#mybutton\").click(function() {\n    $(\"Input[type=file]\").click()\n};\n</code></pre>\n\n<p>and of course a submit for the form (i use parent in this example, but you in my actual code I use the form id).</p>\n\n<pre><code>$(\"input[type=file]\").change(function() {\n  $(this).parent().submit();\n});\n</code></pre>\n\n<p>When I click \"mybutton\" the expected result does occur my browse window opens and lets me choose a file from my computer. Also when I change the file in all browsers other than IE the onchange event is fired. Now if I unhide the form and manually click the \"browse\" button and choose a file the onchange event is fired.  So basically the browser treats clicking the actual file button differently than doing a $(\"input[type=file]\").click()</p>\n\n<p>anyone know how to fix this?</p>\n",
            "last_activity_date": 1403837603,
            "question_id": 8838485,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "forms",
                "internet-explorer",
                "file-upload"
            ],
            "title": "IE9 file input triggering using Javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<pre><code>&lt;script&gt;  \n    $(document).ready(function()\n        var phpvalue = &lt;?php echo $var; ?&gt;\n    });\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<pre><code>&lt;script&gt;\n\nvar javascript_variable = &lt;?php echo $php_variable; ?&gt;;\n\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Instead of assigning values to hidden inputs, you could just generate JavaScript directly:</p>\n\n<pre><code>$script = &lt;&lt;&lt;EOT\n&lt;script&gt;\nvar phpvalue = $phpvalue;\n&lt;/script&gt;\nEOT;\necho $script;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>for the top example you do not need to use val you could use any attr you like. \nFor example</p>\n\n<pre><code>phpvalue=\"myvalue\"\n</code></pre>\n\n<p>then within jquery </p>\n\n<pre><code>$(\"#hiddeninput\").attr(\"phpvalue\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Like others already answered, just put a PHP tag whereever you would place the JS value, like <code>var foo = &lt;?= $php_value ?&gt;;</code> or <code>var foo = &lt;?php echo $php_value ?&gt;;</code>.</p>\n\n<p>If you want to use this in an external JavaScript file, you have to make sure .js files get parsed by PHP. If this is not an option for you (for example, your host doesn't allow it), I suggest you set the values in a <code>&lt;script&gt;</code> tag inside your <code>&lt;head&gt;</code> and then just reference thos variables from your external JavaScript. In that case, I would strongly suggest you namespace them like <code>var app_vars = { foo: &lt;?= $bar ?&gt; }</code> in order to not clutter the global object.</p>\n\n<p>Another way would be to retreive the values via Ajax. But the viability of this approach depends on your use case.</p>\n\n<p>And another hint: if you want to pass multiple variables or arrays, there's JSON baked into PHP since version 5.2:</p>\n\n<pre><code>&lt;?php\n    $my_complex_var = array(\n        'array' =&gt; array('foo', 'bar'),\n        'val2' =&gt; 'hello world'\n    );\n?&gt;\n&lt;script&gt;\n    var my_complex_js_var = &lt;?= json_encode($my_complex_var) ?&gt;\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>So far I know two ways to pass php variables to javascript.\nOne is by using </p>\n\n<pre><code>&lt;script&gt;  \n      $(document).ready(function()\n          phpvalue=$(\"#hiddeninput\").val()\n\n      })\n  &lt;/script&gt;\n\n&lt;input type=\"hidden\" id=\"hiddeninput\" value=\"phpvalue\"&gt;\n</code></pre>\n\n<p>And the other one is by having for example a button and using onclick</p>\n\n<pre><code>    &lt;script&gt;\n       function clickf(phpvalue) {\n\n       }\n    &lt;/script&gt;\n\n&lt;input type=\"submit\" onclick=\"clickf(&lt;?php echo phpvalue ?&gt;)\"&gt;\n</code></pre>\n\n<p>All of them work great but:</p>\n\n<ol>\n<li><p>Is there any other way that I'm missing?</p></li>\n<li><p>Which one is the \"best\"?</p></li>\n<li><p>Any chance that I can use   inside the script or the external js ?</p></li>\n</ol>\n",
            "last_activity_date": 1400513148,
            "question_id": 8758187,
            "score": 5,
            "tags": [
                "php",
                "javascript",
                "jquery"
            ],
            "title": "Pass PHP variables to Javascript/jquery"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Inside <code>getNum</code>, you're directly invoking the <code>getNum</code> function, causing the stack to exhaust. Replace the function call <code>getNum()</code> with the function reference <code>getNum</code>:</p>\n\n<pre><code>function getNum() // Gets triggered by page load so innerHTML works\n{\n    num += 7;     // Increase and assign variable\n    document.getElementById('counter').innerHTML = num;\n    setTimeout(getNum, 4000);   // &lt;-- The correct way\n}\n</code></pre>\n\n<p>Link to documentation of <a href=\"https://developer.mozilla.org/en/DOM/window.setTimeout\"><code>setTimeout</code></a>.</p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>You have syntax mistake inside setTimeout</p>\n\n<p><code>setTimeOut(getNum(), 4000);</code> Will call getNum expecting it will return a code to execute (And it will do it recursievly)</p>\n\n<p>Correct way is <code>setTimeOut('getNum()', 4000);</code> or <code>setTimeOut(function() { getNum(); }, 4000);</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The problem is your call to <code>setTimeout</code> is invoking <code>getNum</code> instead of scheduling it for execution.  This leads to infinite recursion and a stack overflow.  Try the following instead</p>\n\n<pre><code>setTimeout(getNum, 4000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p><code>setTimeOut</code> should be <code>setTimeout</code></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm trying to call my function every 4 seconds so it will increment a number live. For some reason I keep getting errors. Here's my code:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Recycle Counter&lt;/title&gt;\n&lt;script type=\"text/javascript\"&gt;\n    function rand(from, to)\n    {\n       return Math.floor(Math.random() * (to - from + 1) + from); // Generates random number\n    }   \n\n    var num = rand(10000, 100000);\n\n    function getNum() // Gets triggered by page load so innerHTML works\n    {\n        document.getElementById('counter').innerHTML = num + 7;\n        setTimeOut(getNum(), 4000);\n    }   \n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=\"getNum()\"&gt;\n    &lt;div id=\"counter\"&gt;\n\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1325701481,
            "question_id": 8731840,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "time"
            ],
            "title": "Maximum Call Stack Size Exceeded"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>$('#container img').load(function() {\n  // ...\n});\n</code></pre>\n\n<p>You'll want to set that up pretty close to the point at which the elements are introduced to the DOM, or else they might be loaded before you manage to attach the event handler.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Using jQuery:</p>\n\n<pre><code>$('#container img').load(function() {\n    alert('image loaded');\n});\n</code></pre>\n\n<p>Using simple javascript you can use the <code>onload</code> attribute:</p>\n\n<pre><code>&lt;img src=\"yourimage.gif\" onload=\"loadImage()\" /&gt;\n</code></pre>\n\n<p>The function will be:</p>\n\n<pre><code>function loadImage() {\n    alert(\"image loaded\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The only reliable way to listen to the load events of images that are in your HTML source is to specify an onload handler in the HTML:</p>\n\n<pre><code>&lt;div id=\"container\"&gt;\n     &lt;img onload=\"imageLoad()\" src=\"...\" /&gt;\n     &lt;img onload=\"imageLoad()\" src=\"...\" /&gt;\n     &lt;img onload=\"imageLoad()\" src=\"...\" /&gt;\n     &lt;img onload=\"imageLoad()\" src=\"...\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is because you can't attach event handlers to images in your page HTML until the image tags are loaded themselves (so they are present in the DOM).  Once those images tags are loaded, the source of the image is already being loaded and, if it's available quickly (like in the browser cache), it might get loaded before you can attach the event handler.  Thus, at best you can't be sure it will work and at worst, it won't work. In any case, it may not be reliable.</p>\n\n<p>Or, if you just want to know when all images are loaded in the page, you can use the load event for the whole document.  In jQuery, you can do that with <code>$(window).load(fn)</code>.</p>\n\n<p>Or, you can attach the load events and then check to see if any of the images are already loaded and count those as loaded.  I'm not sure if there's an official standard way to see if an image is already loaded or not, but I have found that if there is no width set in the HTML and there is a non-zero value for the <code>.width</code> attribute, then the image must be loaded because it's the loading of the image that causes the non-zero width value to get set.</p>\n\n<p>Your other option is to not put the images into the HTML of your page and add them dynamically and you can assign load handlers when you create the images before you assign the <code>.src</code> attribute.</p>\n\n<hr>\n\n<h2>Testing the Issue</h2>\n\n<p>To explore this a little further, I built a test bed in jsFiddle: <a href=\"http://jsfiddle.net/jfriend00/7FjdJ/\" rel=\"nofollow\">http://jsfiddle.net/jfriend00/7FjdJ/</a>.  It has four images in it and reports how many images are already loaded when $(document).ready() fires and reports how many images fire the <code>.load()</code> event.  The results show a variation in behavior from one browser to the next.</p>\n\n<p>In Chrome 15, if the images are already in the cache, I get no load events and all four are already loaded when <code>$(document).ready()</code> fires.  The behavior appears to vary depending upon how much content there is in the page after the images.</p>\n\n<p>In Safari 5, the first time I load the page, it reports 4 load events, 0 images already loaded.  The second time I load the page, it reports 0 load events, 4 images already loaded.</p>\n\n<p>In IE9, the images always appear to already be loaded and no load events fire, whether cached or not.</p>\n\n<p>In Firefox 7, the first time I load the page, I get 0 load events and 4 images already loaded.  The next time I load the page, I get 4 load events and 4 images already loaded.</p>\n\n<p>Also, since this is a timing issue, it wouldn't surprise me if the behavior depends upon the size of the images and speed of loading them as slow loading images could cause load events to fire late enough to be seen.  It may also depend upon how much content there is to load in the page after the images (e.g. how much work is to be done before document.ready can be fired).</p>\n\n<p>So, my conclusion is that the behavior of the <code>.load()</code> event handler when installed after the image has started loading is inconsistent from one browser to the next and from one situation to the next, thus you cannot count on it without other code to mitigate those differences (checking to see if the images are already loaded).</p>\n\n<hr>\n\n<p>There is another approach.  You can install the event handlers after the DOM has loaded and when installing the event handler, you can check if the image is already loaded.  Here's one way to do that:</p>\n\n<pre><code>&lt;div id=\"container\"&gt;\n     &lt;img src=\"...\" /&gt;\n     &lt;img src=\"...\" /&gt;\n     &lt;img src=\"...\" /&gt;\n     &lt;img src=\"...\" /&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n$(\"#container img\").each(function() {\n    if (this.complete) {\n        // this image already loaded\n        // do whatever you would do when it was loaded\n    } else {\n        $(this).load(function() {\n            // image now loaded\n        });\n    }\n}); \n</code></pre>\n\n<p></p>\n\n<p>Working demo: <a href=\"http://jsfiddle.net/jfriend00/6Cq4y/\" rel=\"nofollow\">http://jsfiddle.net/jfriend00/6Cq4y/</a></p>\n\n<p>What you will find in the demo is that if your browser cache has never seen this jsFiddle, then if will show 4 load events, but if the browser cache has already seen this jsFiddle, then it will get no load events and all the images will already be loaded by the time your javascript runs and it will see they are loaded in the <code>if (this.complete)</code> branch of the code. </p>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I have a container that has some images inside, I want to listen to the event of every image finish loaded.</p>\n\n<p>eg)</p>\n\n<pre><code>&lt;div id=\"container\"&gt;\n     &lt;img src=\"...\" /&gt;\n     &lt;img src=\"...\" /&gt;\n     &lt;img src=\"...\" /&gt;\n     &lt;img src=\"...\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I should got 4 times of the \"image loaded\" event.\nHow to do this?</p>\n",
            "last_activity_date": 1406340138,
            "question_id": 8570018,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "jquery: how to listen to the image loaded event of one container div?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>As far as I know you can do</p>\n\n<pre><code>if(typeof X == 'undefined')\n</code></pre>\n\n<p>But there are resources loader you might want to take a look at. And the answer given before me is also correct.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><code>if(jQuery)</code> should be enough, shouldn't it?</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>From <a href=\"http://www.satyakomatineni.com/akc/display?url=displaynoteimpurl&amp;ownerUserId=satya&amp;reportId=2129\" rel=\"nofollow\">here</a> </p>\n\n<pre><code>if(typeof jQuery == \"undefined\") { \n  document.write(\"undefined\"); \n}else{ \n   document.write(\"Exists\"); \n} \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>Process 1:</strong></p>\n\n<pre><code>if (jQuery) {  \n    // jQuery is loaded  \n} else {\n    // jQuery is not loaded\n}\n</code></pre>\n\n<p><strong>Process 2:</strong></p>\n\n<pre><code>if (typeof jQuery == 'undefined') {  \n    // jQuery is not loaded  \n} else {\n    // jQuery is loaded\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The variable called \"jQuery\" in your code has never been declared, so it will throw an error like \"xxx(variable name) is not defined\".</p>\n\n<p>You can use the <code>typeof</code> operator to check is a variable is undefined or not</p>\n\n<pre><code>if (typeof(jQuery) == \"undefined\")\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There are several solutions:</p>\n\n<ol>\n<li><p>Use <code>typeof</code>. It is a special operator and will never result in a <code>ReferenceError</code>. It evaluates to \"undefined\" for, well, the <code>undefined</code> value <em>or</em> for a variable which does not exist in context. I'm not a fan of it, but it seems very common.</p></li>\n<li><p>Use <code>window.jQuery</code>. This forces a \"property lookup\": property lookups never fail, and return <code>undefined</code> if said property does not exist. I've seen it used in some frameworks. Has the downside of assuming a context (usually <code>window</code>).</p></li>\n<li><p>Make sure the variable is \"declared\": <code>var jQuery; if (jQuery) { /* yay */ }</code>. Doesn't seem very common, but it is entirely valid. Note that <code>var</code> is just an annotation and is hoisted. In the global context this will create the \"jQuery\" property.</p></li>\n<li><p>Catch the <code>ReferenceError</code>. Honestly, I have never seen this nor do I recommend it, but it would work.</p></li>\n</ol>\n\n<p>Happy coding.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>You can use :\nif( typeof jQuery !== 'undefined')</p>\n\n<p>or</p>\n\n<p>Do what is recommended by mozilla</p>\n\n<p>if('jQuery' in window)</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/undefined\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/undefined</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I always thought I could just check an undefined var by comparing it to undefined, but this is the error I get in the chrome console :</p>\n\n<p><img src=\"http://i.stack.imgur.com/7JIQm.png\" alt=\"enter image description here\"></p>\n\n<p>How how do i check for the object jQuery being undefined ?</p>\n\n<p>EDIT :</p>\n\n<p><img src=\"http://i.stack.imgur.com/7JIQm.png\" alt=\"enter image description here\"></p>\n\n<p>if(jQuery) is giving me problems too</p>\n\n<p>EDIT :</p>\n\n<p>solution :</p>\n\n<p><code>if(window.jQuery)</code> works. \n<code>typeof(jQuery) == 'undefined'</code> works too.</p>\n\n<p>Could anyone explain why ?</p>\n",
            "last_activity_date": 1367531443,
            "question_id": 8531059,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "How to check if a variable or object is undefined?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>\"The time returned is in milliseconds so I need to convert it into something more useful.\" </p>\n\n<p>Are you getting the time back from a server or is this pure javascript?</p>\n\n<p>Some code would <em>really</em> help.  \"Something useful\" is kind of vague.</p>\n\n<p>Here is an example, I think this is what you are talking about.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n//Set the two dates\nvar millennium =new Date(2000, 0, 1) //Month is 0-11 in JavaScript\ntoday=new Date()\n//Get 1 day in milliseconds\nvar one_day=1000*60*60*24\n\n//Calculate difference btw the two dates, and convert to days\ndocument.write(Math.ceil((today.getTime()-millennium.getTime())/(one_day))+\n\" days has gone by since the millennium!\")\n\n&lt;/script&gt;\n4367 days has gone by since the millennium!\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Without code, it's hard to tell exactly which error you have, but I suspect you're doing exactly as you said: rounding up. If rounding down is not good enough for you, here's how to round to closest:</p>\n\n<pre><code>var time = date.getTime();\nif (time % 60000 &gt;= 30000) time += 60000;\n</code></pre>\n\n<p>and then continue with the calculation.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here you go:</p>\n\n<p><a href=\"http://jsfiddle.net/uNnfH/1\" rel=\"nofollow\">http://jsfiddle.net/uNnfH/1</a></p>\n\n<p>Or if you don't want to play with a running example, then:</p>\n\n<pre><code>window.minutesPerDay = 60 * 24;\n\nfunction pad(number) {\n    var result = \"\" + number;\n    if (result.length &lt; 2) {\n        result = \"0\" + result;\n    }\n\n    return result;\n}\n\nfunction millisToDaysHoursMinutes(millis) {\n    var seconds = millis / 1000;\n    var totalMinutes = seconds / 60;\n\n    var days = totalMinutes / minutesPerDay;\n    totalMinutes -= minutesPerDay * days;\n    var hours = totalMinutes / 60;\n    totalMinutes -= hours * 60; \n\n    return days + \".\" + pad(hours) + \".\" + pad(totalMinutes);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Something like this?</p>\n\n<pre><code>function dhm(t){\n    var cd = 24 * 60 * 60 * 1000,\n        ch = 60 * 60 * 1000,\n        d = Math.floor(t / cd),\n        h = Math.floor( (t - d * cd) / ch),\n        m = Math.round( (t - d * cd - h * ch) / 60000),\n        pad = function(n){ return n &lt; 10 ? '0' + n : n; };\n  if( m === 60 ){\n    h++;\n    m = 0;\n  }\n  if( h === 24 ){\n    d++;\n    h = 0;\n  }\n  return [d, pad(h), pad(m)].join(':');\n}\n\nconsole.log( dhm( 3 * 24 * 60 * 60 * 1000 ) );\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>Dunno how many answers you need, but here's another - just another take on a few answers that have already been given:</p>\n\n<pre><code>function msToDHM(v) {\n  var days = v / 8.64e7 | 0;\n  var hrs  = (v % 8.64e7)/ 3.6e6 | 0;\n  var mins = Math.round((v % 3.6e6) / 6e4);\n\n  return days + ':' + z(hrs) + ':' + z(mins);\n\n  function z(n){return (n&lt;10?'0':'')+n;}\n}\n</code></pre>\n\n<p>Take care with such calculations though, periods crossing daylight saving boundaries will cause issues. Always better to work in UTC and convert to local times for presentation.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Sounds like a job for <a href=\"http://momentjs.com/\" rel=\"nofollow\">Moment.js</a>.</p>\n\n<pre><code>var diff = new moment.duration(ms);\ndiff.asDays();     // # of days in the duration\ndiff.asHours();    // # of hours in the duration\ndiff.asMinutes();  // # of minutes in the duration\n</code></pre>\n\n<p>There are a ton of other ways to format durations in MomentJS. The <a href=\"http://momentjs.com/docs/\" rel=\"nofollow\">docs</a> are very comprehensive.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Dont know why but the others didn't worked for me so here is mine  </p>\n\n<pre><code>function dhm(ms){\n    days = Math.floor(ms / (24*60*60*1000));\n    daysms=ms % (24*60*60*1000);\n    hours = Math.floor((daysms)/(60*60*1000));\n    hoursms=ms % (60*60*1000);\n    minutes = Math.floor((hoursms)/(60*1000));\n    minutesms=ms % (60*1000);\n    sec = Math.floor((minutesms)/(1000));\n    return days+\":\"+hours+\":\"+minutes+\":\"+sec;\n}\n\nalert(dhm(500000));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm calculating the difference between 2 dates for which there are many differing examples available. The time returned is in milliseconds so I need to convert it into something more useful.  </p>\n\n<p>Most examples are for days:hours:minutes:seconds or hours:minutes, but I need <strong>days:hours:minutes</strong> so the seconds should be rounded up into the minutes.</p>\n\n<p>The method I'm currently using gets close but shows 3 days as 2.23.60 when it should show 3.00.00 so something is not quite right. As I just grabbed the current code from an example on the web, I'm open to suggestions for other ways of doing this.</p>\n\n<p>I'm obtaining the time in milliseconds by subtracting a start date from an end date as follows:-</p>\n\n<pre><code>date1 = new Date(startDateTime);\ndate2 = new Date(endDateTime);\nms = Math.abs(date1 - date2)\n</code></pre>\n\n<p>I basically need to take the ms variable and turn in into days.hours:minutes.</p>\n",
            "last_activity_date": 1426151534,
            "question_id": 8528382,
            "score": 5,
            "tags": [
                "javascript",
                "datetime"
            ],
            "title": "Javascript show milliseconds as days:hours:mins without seconds"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You've selected a fairly complex example to dissect. So lets do it in steps.</p>\n\n<ol>\n<li>The three parameter sets <code>{...},{...},{...}</code> will execute sequentially.</li>\n<li>Inside the first parameter set you will load jQuery from google's CDN, then when complete you test if jQuery actually loaded. If not (perhaps you are developing offline and the google CDN is not reachable), you load a local copy of jQuery. So these one is \"sequential\", but really only one of them will load.</li>\n<li>In the second parameter set you load <code>someplugin.js</code> and 'anotherplugin.js` simultaneously and asynchronously. So they will be downloaded in parallel. Its great when you can parallel 2 items at a time as that is the \"weakest link\" for browsers today (yup only IE, Every other browser will parallel 6-8 files at a time).</li>\n<li>In the third parameter set you load the google analytics script.</li>\n</ol>\n\n<p>Remember modernizr is a collection of tools. The included loader is actually just a repackaged <strong><em><a href=\"http://yepnopejs.com/\">yepnope</a></em></strong>. So you can google for more about yepnope.</p>\n\n<p>The idea with the sequential loads is to be able to ensure that dependencies load in order (example your jQuery plugins must load after jQuery framework). The purpose of the parallel downloads syntax in parameter set two is to speed up performance for multiple files that are not co-dependent (example you could load multiple jQuery plugins in parallel once jQuery is loaded as long as they don't depend on eachother).</p>\n\n<p>So to answer your question, your hypothesis #2 is correct. If you'd like to explore more using firebug, add some <code>console.log</code> statements in each parameter set's complete function. You should see the 3 groups complete sequentially every time. Now switch firebug onto the \"Net\" tab to watch the file requests go out. The files <code>someplugin.js</code> and 'anotherplugin.js` won't necessarily load in the same order everytime. The requests will go out in order, but there timing bars should overlap (showing them as parallel). Testing this locally will be hard because it'll be so fast. Put your two test files on a slow server somewhere or bias them the opposite of what you are expecting (make the first file 1mb and the second &lt;1kb) so you can see the overlapping downloads in the network monitor tab of firebug (this is just an artificial scenario for testing purposes, you could fill a file with repeated JS comments just to make an artificially slow file for testing).</p>\n\n<p><strong>EDIT:</strong> To clarify <em>a little more accurately</em>, I'd like to add a quote from the <a href=\"http://yepnopejs.com/\">yepnopejs.com</a> homepage. yepnopejs is the resource loader that is included (and aliased) inside modernizr:</p>\n\n<blockquote>\n  <p>In short, whatever order you put them in, that's the order that we\n  execute them in. The 'load' and 'both' sets of files are executed\n  after your 'yep' or 'nope' sets, but the order that you specificy\n  within those sets is also preserved. This doesn't mean that the files\n  always load in this order, but we guarantee that they execute in this\n  order. Since this is an asynchronous loader, we load everything all at\n  the same time, and we just delay running it (or injecting it) until\n  the time is just right.</p>\n</blockquote>\n\n<p>So yes, you could put jquery, followed by some plugins in the same Modernizr.load statement and they will be downloaded in parallel and injected into the DOM in the same order as specified in the arguments. The only thing you are giving up here is the ability to test if jQuery loaded successfully and perhaps grab a backup non-CDN version of jQuery if necessary. So it's your choice how critical fallback support is for you. (I don't have any sources, but I seem to recall that the google CDN has only gone down once in its entire lifetime)</p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I have the following:</p>\n\n<pre><code>Modernizr.load([\n{\n  load : '//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js',\n  complete : function () {\n    if ( !window.jQuery ){\n      Modernizr.load('/js/jquery-1.6.2.min.js');\n    }\n  }\n},\n{\n  load : [\"/js/someplugin.js\", \"/js/anotherplugin.js\"],\n  complete : function()\n  {\n    // do some stuff\n  }\n},\n{\n    load: ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js'\n}\n]};\n</code></pre>\n\n<p>I read that Modernizr loads scripts Asyncronously. But in the above example, which ones are loaded async?</p>\n\n<p>Do all of the following get loaded asyncronously?</p>\n\n<ol>\n<li>jquery.min.js</li>\n<li>someplugin.js</li>\n<li>anotherplugin.js</li>\n<li>ga.js</li>\n</ol>\n\n<p>Or is it a combination of async and ordered loading like this:</p>\n\n<ol>\n<li>jquery.min.js is loaded first</li>\n<li>Then someplugin.js and anotherplugin.js is loaded async</li>\n<li>finally, ga.js is loaded</li>\n</ol>\n\n<p>I'm having a hard time testing which case it is.</p>\n",
            "last_activity_date": 1324331659,
            "question_id": 8496652,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "asynchronous",
                "modernizr",
                "yepnope"
            ],
            "title": "Modernizr - Which scripts get loaded asyncronously?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Your code looks like it should work I use the function below if it helps</p>\n\n<pre><code> function getParam(name){\n    name = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\n    var regexS = \"[\\\\?&amp;]\"+name+\"=([^&amp;#]*)\";\n    var regex = new RegExp( regexS );\n    var results = regex.exec (window.location.href);\n    if (results == null)\n        return \"\";\n        else\n        return results[1];  \n}\n\nvar first = getParam(\"test\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Your approach should work. Here's my version for comparison: </p>\n\n<pre><code>var o = {\n    keys: [ ],\n   values: [ ]\n}\n\n/* \nYou could just use the window#location#search value to get the query sub-String of the currently loaded URL\n\n var q = window.location.search.substring(1) ; \n\nFor now we'll use a query String from a Google search for \"MDN window location\"\n*/\n\nq = \"q=mdn+window+location&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:de:official&amp;client=firefox-a\"\n\nfor( var i = 0 , a = q.split(\"&amp;\"), p ; i &lt; a.length ; i++ ) {\n    p = a[i] ;\n    if(  ( b = p.split(\"=\") )  !=  null ) {\n        o.keys[i] = b[0] ;\n        o.values[i] = b[1] ;\n    }\n}\n\n\nconsole.log(\"(!!) o: \" + o.toSource( ) ) ;\n</code></pre>\n\n<hr>\n\n<ul>\n<li><a href=\"http://jsfiddle.net/FVH3M/\" rel=\"nofollow\">try it on JSFiddle</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I use this function, and it rocks. I don't remember from where I took it, but it's a good one:</p>\n\n<pre><code>function gup(name) {\n    name = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\n    var regexS = \"[\\\\?&amp;]\" + name + \"=([^&amp;#]*)\";\n    var regex = new RegExp(regexS);\n    var results = regex.exec(window.location.href);\n    if (results == null)\n        return \"\";\n    else\n        return results[1];\n} \n</code></pre>\n\n<p>If you have a URL like <code>http://www.exmaple.com/path?p1=lkjsd234&amp;p2=klsjd987</code>, you can use:</p>\n\n<pre><code>alert(gup('p1')); // shows 'lkjsd234';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here is a condensed version of two of the answers above :</p>\n\n<pre><code>function gup (name) {\n  name = RegExp ('[?&amp;]' + name.replace (/([[\\]])/, '\\\\$1') + '=([^&amp;#]*)');\n  return (window.location.href.match (name) || ['', ''])[1];\n}\n</code></pre>\n\n<p>Easier to type, easier on processing and, IMHO easier to read. YMMV</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I am trying to get a url value using javascript, so far I can only get pure numbers, not mixed numbers with letters or just letters. I can't find any working examples of a function that allows for numbers with letters to be retrieved, just numbers. I am not using any non alphanumeric characters. An example value that I am trying to pass is \"42p316041610751874cm83p2306600132141\". </p>\n\n<pre><code>function getUrlVars()\n{\nvar vars = [], hash;\nvar hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&amp;');\nfor(var i = 0; i &lt; hashes.length; i++)\n{\n    hash = hashes[i].split('=');\n    vars.push(hash[0]);\n    vars[hash[0]] = hash[1];\n}\nreturn vars;\n}\n\n var first = getUrlVars()[\"test\"];\n</code></pre>\n\n<p>Any help would be great. Thanks.</p>\n",
            "last_activity_date": 1369247467,
            "question_id": 8460265,
            "score": 5,
            "tags": [
                "javascript",
                "url"
            ],
            "title": "Get a variable from url parameter using Javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can try using a simple counter.</p>\n\n<pre><code>// count how many times click event is triggered\nvar eventsFired = 0;\n$(document).ready(function(){\n    $(\"div#mask\").click(function() {\n        if (eventsFired == 0) {\n            $(\"div#intro\").fadeToggle('slow');\n            $(\"div#container\").fadeToggle('slow');\n            $(\"div#mask\").css(\"z-index\", \"-99\");\n            eventsFired++; // &lt;-- now equals 1, won't fire again until reload\n        }\n    });\n});\n</code></pre>\n\n<p>To <em>persist</em> this you will need to <a href=\"https://github.com/carhartl/jquery-cookie\">set a cookie</a>.  (e.g. <code>$.cookie()</code> if you use that plugin).</p>\n\n<pre><code>// example using $.cookie plugin\nvar eventsFired = ($.cookie('eventsFired') != null)\n    ? $.cookie('eventsFired')\n    : 0;\n\n$(document).ready(function(){\n    $(\"div#mask\").click(function() {\n        if (eventsFired == 0) {\n            $(\"div#intro\").fadeToggle('slow');\n            $(\"div#container\").fadeToggle('slow');\n            $(\"div#mask\").css(\"z-index\", \"-99\");\n            eventsFired++; // &lt;-- now equals 1, won't fire again until reload\n            $.cookie('eventsFired', eventsFired);\n        }\n    });\n});\n</code></pre>\n\n<p>To delete the cookie later on:</p>\n\n<pre><code>$.cookie('eventsFired', null);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Web pages are <em>stateless</em> in that they don't hold states between page refreshes. When you reload the page it has no clue what has happened in the past.</p>\n\n<p>Cookies to the rescue! You can <a href=\"http://www.quirksmode.org/js/cookies.html\" rel=\"nofollow\">use Javascript</a> (and <a href=\"http://www.electrictoolbox.com/jquery-cookies/\" rel=\"nofollow\">jQuery has some nice plugins</a> to make it easier) to store variables on the client's browser. Store a cookie when the mask is clicked, so that when the page is next loaded it never shows.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>this code with will work perfect for you and it is the standard way provided by jquery to bind events that you want to execute only once   </p>\n\n<pre><code> $(document).ready(function(){\n        $(\"div#mask\").one('click', function() {\n            $(\"div#intro\").fadeToggle('slow');\n            $(\"div#container\").fadeToggle('slow');\n            $(\"div#mask\").css(\"z-index\", \"-99\");\n        });\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just point to an empty function once it has been called.</p>\n\n<pre><code>var myFunc = function(){\n     myFunc = function(){}; // kill it\n     console.log('Done once!'); // your stuff here\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I've 3 divs (<code>#Mask #Intro #Container</code>) so if you click on Mask, Intro gets hidden and Container appears.\nThe problem is that I just want to load this only one time, not every time I refresh the page or anytime I click on the menu or a link, etc.</p>\n\n<p>How can I do this?</p>\n\n<p>This is the script I'm using for now:</p>\n\n<pre><code>$(document).ready(function(){\n    $(\"div#mask\").click(function() {\n        $(\"div#intro\").fadeToggle('slow');\n        $(\"div#container\").fadeToggle('slow');\n        $(\"div#mask\").css(\"z-index\", \"-99\");\n    });\n});\n</code></pre>\n\n<p>Thank you!</p>\n",
            "last_activity_date": 1402513605,
            "question_id": 8429020,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Call a function only once"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><code>getElementsByTagName</code> returns an array of elements.  You will need to grab the first element in that array before you can get <code>innerHTML</code> or anything else.</p>\n\n<pre><code>document.getElementsByTagName('head')[0].innerHTML\n</code></pre>\n\n<p>Instead of using <code>innerHTML</code> you may want to consider using <code>.childNodes</code> and the looping through to find comment nodes.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This will work in latest browsers but you will need to modify it to suit older browsers...</p>\n\n<pre><code>var commentNode = [].slice.call(document.head.childNodes).filter(function(node) {\n            return node.nodeType == 8;\n          })[0],\n    id = commentNode.data.match(/^\\s*(\\d+)/)[1];\n</code></pre>\n\n<p>To position it at the bottom corner of your screen...</p>\n\n<pre><code>var elem = document.createElement('div');\n\nelem.id = 'id-display';\n\nelem.appendChild(document.createTextNode(id));\n\ndocument.body.appendChild(elem);\n</code></pre>\n\n<p>...and a touch of CSS...</p>\n\n<pre><code>#id-display {\n    position: fixed;\n    bottom: 0;\n    right: 0;\n    background: #333;\n    color: #fff;\n    padding: 6px;\n}\n</code></pre>\n\n<p><a href=\"http://jsbin.com/oqidef/3/edit\">JSBin</a>.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>You want to select whatever element you're working with, lets call it <code>var ele;</code></p>\n\n<pre><code>var div = document.getElementsByTagName('div')[0];\n</code></pre>\n\n<p>Then you want to grab an array of all the child nodes inside ele, so <code>var nodes = div.childNodes;</code></p>\n\n<p>Then you loop through them for their node type, which for comments is \"8\" <a href=\"https://developer.mozilla.org/en/nodeType\" rel=\"nofollow\">as per the spec.</a></p>\n\n<pre><code>for (var i=0; i&lt;nodes.length; i++){\n    if (nodes[i].nodeType === 8) {\n        //Only comments go out to console.\n        console.log(nodes[i]);\n    }1\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/L5kRN/1/\" rel=\"nofollow\">Here's a demo for you.</a></p>\n\n<p>Please note, you are <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/\">NEVER TO EVER PARSE HTML WITH A REGULAR EXPRESSION</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have a page that begins as follows:</p>\n\n<pre><code>&lt;html&gt;\n        &lt;head&gt;\n        &lt;!-- 12036,2011-11-29/11:02 --&gt;\n        &lt;title&gt;Products &amp; Services&lt;/title&gt;\n</code></pre>\n\n<p>I would like to grab the 12036 number here and to display it within an absolutely positioned DIV at the bottom right of my screen. My intention here is to either to use it as a bookmarklet or as a Greasemonkey script. </p>\n\n<p>The purpose of this is that the number represents a PAGE ID that we use reference internally. </p>\n\n<p>I started off using: </p>\n\n<pre><code>var x = document.getElementsByTagName('head').innerHTML;\n</code></pre>\n\n<p>But I could not progress any further. </p>\n\n<p>Can anyone assist here?</p>\n",
            "last_activity_date": 1322541154,
            "question_id": 8305706,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "Javascript to grab Javascript comments within &lt;head&gt;"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>As I'm not currently that familiar with Rapael.js, I'd just suggest, in a generic JavaScript manner, that you could maybe create an changeRaphaelPathAttributeEvent, that you'd emit each time you'd like to change the paths, with the attribute changes as arguments to said event. And then attach event handlers to each of the paths that would carry out the attribute change, if that's possible.</p>\n\n<p>That way, you would get around the problem of having a loop access all the paths variables and change the attributes synchronously (which would directly affect the page's responsiveness while processing); the method would have a lower impact on the performance that the user experiences.</p>\n\n<p>Note: This is just a solution to get around the immediate performance hit. Maybe there are other solutions available of minimizing the amount of objects needed to access, that you should also consider (and that I'm not capable of telling you, as I don't know Raphael that well).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Did you write all the paths manually? I think is better if you put all the paths in an object. Then you can iterate the object and draw all the paths using, for example, <code>for in</code>. In that process you can give an internal ID to every path using <code>element.id = 'name'</code>. Once you have all the internal ID\u00b4s and the paths drawed, you can use the getById method: <code>getById('pathId')</code> If you are going to use Sets I recommend you to use Clousures, you can first declare the variables</p>\n\n<pre><code>var setName = Paper.Set()\n</code></pre>\n\n<p>and then push the paths in another loop</p>\n\n<pre><code>for (countie in Lousiana){\n    setName.push(countie)\n}\n</code></pre>\n\n<p>Then you have methods like <code>Paper.forEach()</code> if you want to apply some attributes to the elements. Or <code>Set.FotEach()</code>. Both take a callback function like argument, and then executes that function in each iteration.</p>\n\n<p>If you want to share your code it wouldn\u00b4t be a problem for me to  check it out and give  my opinion on how to solve some of the situations. I\u00b4m also working with maps, I\u00b4m developing an Educative Video Game, if you want I can also share my code with you, there aren\u00b4t that much documentation about Raphael, so it would be useful for me to see how are you using it and maybe the same for you. </p>\n\n<p>Bye!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To be honest, changing the attributes of 3000 items should be easy for any computer. <strike>Raphael uses a setInterval for each animated element. After the element's attribute is changed, the browser re-draws the entire page. This is 2999 un-necessary re-draws.</strike></p>\n\n<p>Here is what I would do: Instead of using the Raphael animation, use a loop to change each element. It is a little more complex, but it is faster. In addition, you can change the steps per second. If your animation is running too slow, just reduce the steps per second.</p>\n\n<p>Here is an example: <a href=\"http://jsfiddle.net/dqJps/25/\" rel=\"nofollow\">http://jsfiddle.net/dqJps/25/</a></p>\n\n<p>Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I don't know why, but <a href=\"http://d3js.org\" rel=\"nofollow\">D3.js</a> is more efficient when animating a large number of elements at once. You can make them both work seamlessly by creating a Raphael function that receives a set and returns the html objects you want to animate:</p>\n\n<pre><code>Raphael.st.nodes = function() {\n  var elements = [];\n  this.forEach(function (i) {\n     elements.push(i.node);\n  });\n  return elements;\n}\n</code></pre>\n\n<p>And then you let d3 take it from there</p>\n\n<pre><code>//circleholder is a Raphael set\nelements = circleholder.nodes()\nd3.selectAll(elements)\n  .transition()\n  .attr(\"fill\", function(d,i){return colours[randomNum(14)]})\n  .duration(ANIMATION_DELAY)\n</code></pre>\n\n<p>Here is the jsfiddle: <a href=\"http://jsfiddle.net/mFecs/\" rel=\"nofollow\">http://jsfiddle.net/mFecs/</a></p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p><strong>UPDATED QUESTION</strong>\nI've updated this to be a little more succinct..:</p>\n\n<p>In this fiddle: <a href=\"http://jsfiddle.net/pX2Xb/4/\" rel=\"nofollow\">http://jsfiddle.net/pX2Xb/4/</a> I have some raphael code that draws 3000 circles to a page. It then attempts to animate all circles at once (changes fill colour) over 10 seconds, which results in a clunky visual animation. Change the number of circles to 20 to see a much smoother animation for comparison.</p>\n\n<p>My questions are (a) is it possible for me to make the update to the 3000 elements smoother and (b) if so, what does the code to do that look like? </p>\n\n<p>Some notes:</p>\n\n<ul>\n<li>I'm willing to take a small timing hit if there's some way to optimise around this, but, for example, I would like <em>all</em> circles to at least have updated in 1.5x whatever the animation time is set to. So, if animation is 10 seconds, all circles should have changed in 15.</li>\n<li>3000 elements is roughly my limit at the moment, so I'd be happy with it working for that :) In saying that, if a solution can effectively handle more than that, for a general case, that'd be really great.</li>\n</ul>\n\n<p><strong>older details, in case it helps</strong></p>\n\n<p>I'm creating a large map of US counties, of which there are over 3000; I'm using <a href=\"http://en.wikipedia.org/wiki/File%3aUSA_Counties_with_FIPS_and_names.svg\" rel=\"nofollow\">this Wikipedia svg file</a> to get the relevant SVG paths to create the map, and am rendering the map using <a href=\"http://raphaeljs.com/\" rel=\"nofollow\">RaphaelJs</a>.</p>\n\n<p>Accordingly, I end up with over 3000 statements similar to the following:</p>\n\n<pre><code>    var cc_02130 = rsr.path(\"M 140.66674,.... 320.11635\"); // county path\n    cc_02130.attr({id: '02130',.. ..\"marker-start\": 'none'}); // init attrs\n</code></pre>\n\n<p>I'm also creating a <code>Paper.set()</code> object to hold all of these elements:</p>\n\n<pre><code>var myset = paper.set([cc_56039, cc_56040, cc_56041 ...])\n</code></pre>\n\n<p>Forgetting for a moment that the file actually generated here is quite large, I would very much appreciate suggestions of <em>how I can apply changes to the volume of objects detailed above, that is both quick and reasonably ok CPU wise</em> (possible a big ask). </p>\n\n<p>I'm definitely open to changing the structure of my code/objects, as long as I can individually change attributes of specific counties.\n For example, I would like to be able to apply a different colour to each path content in a second or two (for all 3000+).</p>\n\n<p>The challenge I'm facing is not how to apply the colour changes, animations, etc, but how to do this quickly and efficiently. Right now, my machine screams at me if I loop and apply changes over the 3000+ objects; as an alternative, I was using <code>setTimeout</code> to break the changes out into smaller chunks (maybe 10 at a go, with a 40 ms delay). Over 3000 items, this becomes quite slow, and still uses a lot of CPU.</p>\n\n<p>Thanks,\noli</p>\n",
            "last_activity_date": 1335021718,
            "question_id": 8239235,
            "score": 5,
            "tags": [
                "javascript",
                "svg",
                "visualization",
                "raphael"
            ],
            "title": "Smoothly animate attribute changes to ~3000 Raphael objects at once"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<pre><code>$('.sub-menu').hide();\n\n$(\"li:has(ul)\").click(function(){\n\n$(\"ul\",this).slideDown();\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/3nigma/KhNCV/2/\">http://jsfiddle.net/3nigma/KhNCV/2/</a></p>\n\n<p>OR</p>\n\n<pre><code>$('.sub-menu').hide();\n\n$(\"li:has(ul)\").click(function(){\n\n$(\"ul\",this).toggle('slow');\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/3nigma/KhNCV/4/\">http://jsfiddle.net/3nigma/KhNCV/4/</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Here's <a href=\"http://jsfiddle.net/2ws48/2/\" rel=\"nofollow\">your example working</a>. It's unclear why you need the <code>a</code> tags, as you could use cursor: pointer in the CSS to make the <code>li</code> appear clickable. I'll assume you want to do some spiffy hovering on them in IE that's CSS only? If not, you could simplify by removing them.</p>\n\n<p>Instead of doing hide() on .submenu, you should use CSS (parsed with DOM instead of onReady/load).</p>\n\n<pre><code>.sub-menu { display: none; }\n</code></pre>\n\n<p>And then here's you code to toggle the menus:</p>\n\n<pre><code>$('ul li a').click(function() {\n    $(this).parent().find('ul.sub-menu').toggle();\n    return false;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>$('li a').click(\nfunction() {\n    $(this).next().slideToggle();\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try this</p>\n\n<pre><code>$(function(){\n\n   //Hide all the sub menus\n   $('.sub-menu').hide();\n\n   $(\"li:has(ul)\").click(function(){\n      //Find the child ul and slideToggle\n      $(this).children(\"ul\").slideToggle();\n   });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>$('.sub-menu').hide();\n\n$(\"a\").click(function(){\n\n    $(this).parent().children(\"ul\").toggle();\n\n})\n</code></pre>\n\n<p>check out this link\n <a href=\"http://jsfiddle.net/KhNCV/6/\" rel=\"nofollow\">http://jsfiddle.net/KhNCV/6/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Could some one please help with code.</p>\n\n<p><strong>I want to show the submenu only when submenu parent is clicked.</strong> </p>\n\n<p>HTML</p>\n\n<pre><code>&lt;ul&gt;\n&lt;li&gt;&lt;a href=\"#\"&gt;Item&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#\"&gt;Item&lt;/a&gt;\n    &lt;ul class=\"sub-menu\"&gt;\n        &lt;li&gt;&lt;a href=\"#\"&gt;Submenu&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"#\"&gt;Submenu&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#\"&gt;Item&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#\"&gt;Item&lt;/a&gt;\n    &lt;ul class=\"sub-menu\"&gt;\n        &lt;li&gt;&lt;a href=\"#\"&gt;Submenu&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"#\"&gt;Submenu&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#\"&gt;Item&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>So if you click on the parent submenu will show.</p>\n\n<p>Here is fiddle link - <a href=\"http://jsfiddle.net/KhNCV/1/\">http://jsfiddle.net/KhNCV/1/</a></p>\n",
            "last_activity_date": 1321988848,
            "question_id": 8232176,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css"
            ],
            "title": "jQuery show submenu if parent have been clicked"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The one way to save is exporting as an image... You already found this solution, and it's the best one i think ;)</p>\n\n<pre><code>    var canvas = document.getElementById(\"mycanvas\");\n    var img    = canvas.toDataURL(\"image/png\");\n    document.write('&lt;img src=\"'+img+'\"/&gt;');\n</code></pre>\n\n<p>You can use different image types. Change the mimetype in this function:</p>\n\n<pre><code>    canvas.toDataURL(\"image/jpeg\");\n</code></pre>\n\n<p>An other way to save canvas data (into a PDF) is using the <a href=\"http://code.google.com/p/wkhtmltopdf/\">wkhtmltopdf Library</a></p>\n\n<p>Cheers. Frank</p>\n\n<p>frankneff.ch / @frankneff</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<pre><code>var c = document.getElementById(\"popup\");\nvar link = document.getElementById('cropImageLink');\nlink.setAttribute('download', 'MintyPaper.png');\nlink.setAttribute('href', c.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\"));\nlink.click();\n</code></pre>\n\n<p>I hope these code would be work. But first create Anchor tag in canvas tag whose id is 'cropImageLink'. than after check. but it's not working in IE browser </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>What are the different ways to save a canvas object? </p>\n\n<p>In my research, I've found two approaches:</p>\n\n<pre><code>var data = canvas.toDataURL();\nvar prev = window.location.href;\nwindow.location.href = data.replace(\"image/png\", \"image/octet-stream\");\nwindow.location.href = prev;\n</code></pre>\n\n<p>Another way is to take a snapshot.</p>\n\n<p>Are there other ways to do this?</p>\n\n<p>Is it possible to customize the download filename?</p>\n",
            "last_activity_date": 1409902820,
            "question_id": 8126623,
            "score": 5,
            "tags": [
                "javascript",
                "canvas",
                "download"
            ],
            "title": "Downloading Canvas element to an image"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>the white screen is an error with redirection - it's an xd_proxy.php call, can you confirm? \nIf so, you must update your connect.js code to the newest avaliable, and it will start to work again.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Facebook connect.js js api cannot work with a home screen webapps when using meta name=\"apple-mobile-web-app-capable\" content=\"yes\" (to remove all mobile safari ui)</p>\n\n<p>After it authenticates I am left with a white screen, I guess because it can't navigate back to the app screen.</p>\n\n<p>The code works fine in every desktop browser &amp; mobile safari.</p>\n\n<p>Any solutions that work with <a href=\"http://connect.facebook.net/en_US/all.js\" rel=\"nofollow\">http://connect.facebook.net/en_US/all.js</a>?</p>\n\n<p>EDIT: In my search I've found this question a few times on the fb boards. No one has voiced a good solution yet, even a closed bug with no helpful info <a href=\"http://bugs.developers.facebook.net/show_bug.cgi?id=15512\" rel=\"nofollow\">http://bugs.developers.facebook.net/show_bug.cgi?id=15512</a></p>\n",
            "last_activity_date": 1337528078,
            "question_id": 8060664,
            "score": 5,
            "tags": [
                "javascript",
                "iphone",
                "facebook-graph-api",
                "facebook"
            ],
            "title": "Facebook auth is broken for home screen webapps!+"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Shamelessly stolen by the page you link, it's quite trivial:</p>\n\n<pre><code>&lt;script&gt;\nfunction crisscross() {\n$('down-left').style.bottom = '-' + window.scrollY + 'px';\n$('down-right').style.bottom = '-' + window.scrollY + 'px';\n$('left').style.left = '-' + window.scrollY + 'px';\n$('right').style.right = '-' + window.scrollY + 'px';\n}\n&lt;/script&gt; \n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>Answering your comment:</p>\n\n<p>A) <code>window.scrollY</code> is the amount of vertical scroll of the page, you just absolute position your <code>#down</code> div with a reverse absolute position. If you don't understand it you should at least mess with it for a while to understand it or, better, learn how <code>window.scrollY</code> and jquery <code>$().style</code> work.</p>\n\n<p>B) It's not the amount of code you can put credits on... it's not stealing but simply not reinventing the wheel.</p>\n\n<p>C) Don't get the point, sorry, <code>#down-right</code> is what you are asking in your question: a <code>div</code> scrolling in the opposite direction of the scrollbar.</p>\n\n<p><strong>Edit again:</strong></p>\n\n<p>Don't forget to give a look at css too:</p>\n\n<pre><code>div#down-right {\n    bottom: 0;\n    position: fixed;\n    right: 6%;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>So basically, I'm creating a site that thats split into two columns. These columns are go the entre height of the browser and individually fill up 50% of the screen. Basic example:</p>\n\n<pre><code> -------------\n|      |      |\n|  up  | down |\n|      |      |\n -------------\n</code></pre>\n\n<p>I've designed this. Each column is a div and both scroll vertically. What I want is to be able to scroll either div and the scroll direction on the right goes the opposite way to the one on the left; but they scroll at the same time.</p>\n\n<p>I'd also like a single scrollbar on the right (like a normal vertical site) but when you scroll that, one side goes up and the other side goes down.</p>\n\n<p>Is anyone able to assist here? Or point me into a particular direction?</p>\n\n<p><strong>Example:</strong>\n<a href=\"http://buero-buero.org/\" rel=\"nofollow\">http://buero-buero.org/</a></p>\n",
            "last_activity_date": 1347362893,
            "question_id": 7912393,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "css",
                "scroll"
            ],
            "title": "Modify scroll direction"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You'll need to find out the height of the header and its position on the page then just show or hide the div depending on the scrollTop value using jquery.</p>\n\n<p>For example:</p>\n\n<pre><code>// Get the headers position from the top of the page, plus its own height\nvar startY = $('header').position().top + $('header').outerHeight();\n\n$(window).scroll(function(){\n    checkY();\n});\n\nfunction checkY(){\n    if( $(window).scrollTop() &gt; startY ){\n        $('.fixedDiv').slideDown();\n    }else{\n        $('.fixedDiv').slideUp();\n    }\n}\n\n// Do this on load just in case the user starts half way down the page\ncheckY();\n</code></pre>\n\n<p>Then you'll just need to set the .fixedDiv to position:fixed: top: 0; left: 0;</p>\n\n<p><strong>Edit:</strong> I've added a checkY() function that you can call whenever the page loads as well as on scroll. To hide it initially though, just use CSS.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>You might want to just show and hide your div rather than pseudo class AND hide and show</p>\n\n<p>initially:\n $(\"#mydiv\").hide();\nthen (on scroll):\n $(\"#mydiv\").show();</p>\n\n<p>set what you want your div to look like i.e. 0,0 and fixed</p>\n\n<p>Use the Keep It Simple method!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've updated your jsfiddle with something you can try.</p>\n\n<p>Try this:<br/>\n<a href=\"http://jsfiddle.net/nHnrd/10/\" rel=\"nofollow\">http://jsfiddle.net/nHnrd/10/</a></p>\n\n<p>Also, this article was helpful:<br/>\n<a href=\"http://www.wduffy.co.uk/blog/keep-element-in-view-while-scrolling-using-jquery/\" rel=\"nofollow\">http://www.wduffy.co.uk/blog/keep-element-in-view-while-scrolling-using-jquery/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I would like a <code>div</code> to appear and slide down once you scroll pass the header.</p>\n\n<p>Here's what it should look like:</p>\n\n<p><a href=\"http://www.space.com/11425-photos-supernovas-star-explosions.html\">http://www.space.com/11425-photos-supernovas-star-explosions.html</a></p>\n\n<p>Here's what I got so far but it's not working.</p>\n\n<p><a href=\"http://jsfiddle.net/nHnrd/\">http://jsfiddle.net/nHnrd/</a></p>\n",
            "last_activity_date": 1319660852,
            "question_id": 7905670,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "How to make div appear from the top when scrolling down?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>No, there is no Unicode Normalization feature used automatically on\u2014or even available to\u2014JavaScript as per ECMAScript 5. All characters remain unchanged as their original code points, potentially in a non-Normal Form.</p>\n\n<p>eg try:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var a= 'caf\u00e9';          // caf\\u00E9\n    var b= 'cafe\u0301';          // cafe\\u0301\n    alert(a+' '+a.length);  // caf\u00e9 4\n    alert(b+' '+b.length);  // cafe\u0301 5\n    alert(a==b);            // false\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Update:</strong> <a href=\"http://stackoverflow.com/a/20472868/96656\">ECMAScript 6 will introduce Unicode normalization for JavaScript strings.</a></p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>If you're using <code>node.js</code>, there is a <code>unorm</code> library for this.</p>\n\n<p><a href=\"https://github.com/walling/unorm\">https://github.com/walling/unorm</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>ECMAScript 6 introduces <code>String.prototype.normalize()</code> which takes care of Unicode normalization for you.</p>\n\n<p><a href=\"https://github.com/walling/unorm\" rel=\"nofollow\">unorm</a> is a JavaScript polyfill for this method, so that you can already use <code>String.prototype.normalize()</code> today even though not a single engine supports it natively at the moment.</p>\n\n<p>For more information on how and when to use Unicode normalization in JavaScript, see <a href=\"http://mathiasbynens.be/notes/javascript-unicode#accounting-for-lookalikes\" rel=\"nofollow\"><strong><em>JavaScript has a Unicode problem</strong> \u2013 Accounting for lookalikes</em></a>.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I'm under the impression that JavaScript interpreter assumes that the source code it is interpreting has already been normalized. What, exactly does the normalizing? It can't be the text editor, otherwise the plaintext representation of the source would change. Is there some \"preprocessor\" that does the normalization?</p>\n",
            "last_activity_date": 1415769464,
            "question_id": 7772553,
            "score": 5,
            "tags": [
                "javascript",
                "unicode"
            ],
            "title": "JavaScript Unicode normalization"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p><code>12096e5</code> is a magic number which is 14 days in milliseconds.</p>\n\n<pre><code>var fortnightAway = new Date(+new Date + 12096e5);\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/CT7Fm/\">jsFiddle</a>.</p>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<pre><code>var currentTime = new Date();\ncurrentTime.setDate(currentTime.getDate()+14);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Well, JS times are in millisecond, so adding two weeks would be a case of working out what two weeks is in milliseconds, and adding that value.</p>\n\n<pre><code>var twoWeeks = 1000 * 60 * 60 * 24 * 14;\nvar twoWeeksTime = new Date(new Date().getTime() + twoWeeks);\nvar formattedDate = twoWeeksTime.getDate() + '/' + (twoWeeksTime.getMonth()+1) + '/' + twoWeeksTime.getYear();\n</code></pre>\n\n<p>Of course, this method falls down if you need to add months, since they're variable in length, but it's fine for adding days and weeks.</p>\n\n<p>Alternatively, you use the <a href=\"http://www.datejs.com\" rel=\"nofollow\">DateJS library</a>, which has functionality for exactly this kind of thing (plus loads more).</p>\n\n<p>With DateJS, your code could look like this:</p>\n\n<pre><code>var twoWeeksTime = Date.today().add({ days: 14 });\nvar formattedDate = twoWeeks.TimetoString('dd/MM/yy');\n</code></pre>\n\n<p>Hope that helps.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>add the following prototype method</p>\n\n<pre><code>Date.prototype.addDays = function(days) {\n     this.setDate(this.getDate()+days);\n}\n</code></pre>\n\n<p>and than its very simple to use,</p>\n\n<pre><code>currentTime.addDays(5);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>have made a fidle for you <a href=\"http://jsfiddle.net/pramodpv/wfwuZ/\">http://jsfiddle.net/pramodpv/wfwuZ/</a></p>\n\n<pre><code>    Date.prototype.AddDays = function(noOfDays) {\n       this.setTime(this.getTime() + (noOfDays * (1000 * 60 * 60 * 24)));\n       return this;\n    }\n\n    Date.prototype.toString = function() {\n       return this.getMonth() + \"/\" + this.getDate() + \"/\" +  this.getFullYear().toString().slice(2); \n    }\n\n    $(function() {\n        var currentTime = new Date();\n        alert(currentTime.AddDays(14));\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>currentTime.setDate(currentTime.getDate()+14);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you are formatting a javascript date in a particular format, then I think you can have a look at this script <a href=\"http://blog.stevenlevithan.com/archives/date-time-format\" rel=\"nofollow\">http://blog.stevenlevithan.com/archives/date-time-format</a>. All you would need to do after including the script is this <code>new Date(+new Date + 1000* 60 * 60 * 24 * 14).format('dd/mm/yyyy')</code> and you would get the output <code>\"27/10/2011\"</code></p>\n\n<p>The script is pretty small, just above 1KB minified. This is the link to a working fiddle <a href=\"http://jsfiddle.net/naryad/GufvT/\" rel=\"nofollow\">http://jsfiddle.net/naryad/GufvT/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I use this to get the date: </p>\n\n<pre><code>var currentTime = new Date()\nvar month = currentTime.getMonth() + 1\nvar day = currentTime.getDate()\nvar year = currentTime.getFullYear()\nalert(month + \"/\" + day + \"/\" + year);\n</code></pre>\n\n<p>How can I add 2 weeks ? So instead of showing 10/13/2011, to show 10/27/2011 etc</p>\n\n<p>Here is the fiddle: <a href=\"http://jsfiddle.net/25wNa/\">http://jsfiddle.net/25wNa/</a></p>\n\n<p>I want the one input to have +14 days and the other +21</p>\n\n<p>Note: <strong>I'd like the format to be > 10/13/2011 &lt;.</strong></p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1318555982,
            "question_id": 7751936,
            "score": 5,
            "tags": [
                "javascript",
                "date"
            ],
            "title": "Javascript Date Plus 2 Weeks (14 days)"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>There is no way to implement MVC / Razor code in JS files.</p>\n\n<p>You should set variable data in your HTML (in the .cshtml files), and this is conceptually OK and does not violate separation of concerns (Server-generated HTML vs. client script code) because if you think about it, these variable values are a server concern.</p>\n\n<p>Take a look at this (partial but nice) workaround: <a href=\"http://stackoverflow.com/questions/1045451/using-inline-c-inside-javascript-file-in-mvc-framework/1045493#1045493\">Using Inline C# inside Javascript File in MVC Framework</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>What you could do is passing the razor tags in as a variable.</p>\n\n<p>In razor File></p>\n\n<pre><code>var currency = '@Model.Currency';\ndoAlert(currency);\n</code></pre>\n\n<p>in JS file ></p>\n\n<pre><code>function doAlert(curr){\n   alert(curr);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You could always try RazorJs.  It's pretty much solves not being able to use a model in your js files <a href=\"http://nuget.org/List/Packages/RazorJS\" rel=\"nofollow\">RazorJs</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try JavaScriptModel ( <a href=\"http://jsm.codeplex.com\" rel=\"nofollow\">http://jsm.codeplex.com</a> ):</p>\n\n<p>Just add the following code to your controller action:</p>\n\n<pre><code>this.AddJavaScriptVariable(\"Currency\", Currency);\n</code></pre>\n\n<p>Now you can access the variable \"Currency\" in JavaScript.</p>\n\n<p>If this variable should be available on the hole site, put it in a filter. An example how to use JavaScriptModel from a filter can be found in the documentation.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I tackled this problem using data attributes, along with jQuery. It makes for very readable code, and without the need of partial views or running static javascript through a ViewEngine. The JavaScript file is entirely static and will be cached normally.</p>\n\n<p><strong>Index.cshtml:</strong></p>\n\n<pre><code>@model Namespace.ViewModels.HomeIndexViewModel\n&lt;h2&gt;\n    Index\n&lt;/h2&gt;\n\n@section scripts\n{\n    &lt;script id=\"Index.js\" src=\"~/Path/To/Index.js\"\n        data-action-url=\"@Url.Action(\"GridData\")\"\n        data-relative-url=\"@Url.Content(\"~/Content/Images/background.png\")\"\n        data-sort-by=\"@Model.SortBy\n        data-sort-order=\"@Model.SortOrder\n        data-page=\"@ViewData[\"Page\"]\"\n        data-rows=\"@ViewData[\"Rows\"]\"&gt;&lt;/script&gt;\n}\n</code></pre>\n\n<p><strong>Index.js:</strong></p>\n\n<pre><code>jQuery(document).ready(function ($) {\n    // import all the variables from the model\n    var $vars = $('#Index\\\\.js').data();\n\n    alert($vars.page);\n    alert($vars.actionUrl); // Note: hyphenated names become camelCased\n});\n</code></pre>\n\n<p><strong>_Layout.cshtml (optional, but good habit):</strong></p>\n\n<pre><code>&lt;body&gt;\n    &lt;!-- html content here. scripts go to bottom of body --&gt;\n\n    @Scripts.Render(\"~/bundles/js\")\n    @RenderSection(\"scripts\", required: false)\n&lt;/body&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is it possible to access a Model property in an external Javascript file?</p>\n\n<p>e.g. In \"somescript.js\" file</p>\n\n<pre><code>var currency = '@Model.Currency';\nalert(currency);\n</code></pre>\n\n<p>On my View</p>\n\n<pre><code>&lt;script src=\"../../Scripts/somescript.js\" type=\"text/javascript\"&gt;\n</code></pre>\n\n<p>This doesn't appear to work, however if I put the javascript directly into the view inside script tags then it does work?  This means having to put the code in the page all the time instead of loading the external script file like this:</p>\n\n<pre><code>@model MyModel;\n\n&lt;script lang=, type=&gt;\nvar currency = '@Model.Currency';\nalert(currency);\n&lt;/script&gt;\n</code></pre>\n\n<p>Is there any way around this?</p>\n",
            "last_activity_date": 1380065768,
            "question_id": 7626662,
            "score": 5,
            "tags": [
                "c#",
                "javascript",
                "asp.net-mvc-3",
                "model",
                "razor"
            ],
            "title": "Access a Model property in a javascript file?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Use an incognito instance of chrome (ctrl+shift+n) to check the source, this mode won't use any cached files. With this you can check if your file is being cached on the client side.</p>\n\n<p>If it's on the client side make sure your server is not sending cache-control headers along with the JS file.</p>\n\n<p>If it's on the server then there's a ton of possibilities, maybe you have a reverse proxy, a physical load-balancer or some other type of caching mechanism.</p>\n\n<p><strong>Edit</strong> (question changed):</p>\n\n<p>Use <a href=\"https://chrome.google.com/webstore/detail/hplfkkmefamockhligfdcfgfnbcdddbg?hc=search&amp;hcp=main\" rel=\"nofollow\">this chrome extension</a> to check the headers being sent along with your .js files. There's probably a cache-control header set that instructs chrome to cache the resource.</p>\n\n<p>If you're on apache you can override this behaviour using an .htaccess file.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Yes. The resources are still cached. In my opinion a good practice to avoid this is to version your resources files in a url?parameter=value way.</p>\n\n<p>For example you should set the ulr to your js or css file like this: \n&lt; ... src=\"script.js?v=1\" .../> &lt; ... href=\"style.css?v=1 .. />\nand when any changes occured just change v=1 to v=2 ... </p>\n\n<p>that will not affect your code but will make your browser/proxy etc to redownload the resource</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I am not positive that no-cache <code>meta</code> tag is the way to go. It negates <strong>all</strong> caching and kind defeats the purpose of quickly accessible pages.</p>\n\n<p>Also, AFAIK, <code>meta</code> tag works per page, so if you have a page without it that references your JS - it will be cached.</p>\n\n<p>The widely acceptable way of preventing JS files (and, again, CSS) from being cached is to differentiate the requests for them:</p>\n\n<p>Say, you have:</p>\n\n<pre><code>&lt;script type=\u201dtext/JavaScript\u201d src=\u201dsomescript.js\u2033&gt;&lt;/script&gt;\n</code></pre>\n\n<p>this one will cache it (unless the above meta-tag is present.</p>\n\n<p>What you want to have is that on each page load the above line looks different (URL-wise) like so:</p>\n\n<pre><code>&lt;script type=\u201dtext/JavaScript\u201d src=\u201dsomescript.js?some-randomly-generated-string\u2033&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Same goes for CSS.</p>\n\n<p>If you were using some sort of JS network - it would take care of that for you had you given it some sort of \"no-cache\" configuration option.</p>\n\n<p>You, of course, can do it in pure JS too. Some sort of <code>Date</code> related string is an option.</p>\n\n<hr>\n\n<p>Now, normally, you would not want to negate all the caching, so the way to do so is to add a version parameter to your URL:</p>\n\n<pre><code>&lt;script type=\u201dtext/JavaScript\u201d src=\u201dsomescript.js?version=1.0.0\u2033&gt;&lt;/script&gt;\n</code></pre>\n\n<p>and manage your scripts from there.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>There is no need for any additional extension. Unless I am sorely mistaken, \"Chrome Developer Tools\" is built in in all Chrome versions (in beta and dev, for sure) and is accessible by pressing <strong>Ctrl-Shift-I</strong>. There, in \"Network\" tab, you can see all your requests, there content and headers.</p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I recently made a website and I made a change to a .js file, but when I delete the .js file from the FTP server and upload the new one, the new file doesn't show up on the website. I checked the source code behind the .js file on the website and it's not right, it's showing the source for the old file, not the new one even though the old one is gone. Is that because my browser cached the .js file?</p>\n\n<p>Note: I have this source</p>\n\n<pre><code>&lt;meta http-equiv=\"cache-control\" content=\"no-cache\" /&gt;\n</code></pre>\n\n<p>on my page to stop the browser from caching my page, and I know that works on the HTML, but with that source there, do the resource files still get cached?</p>\n\n<p>I don't have that line of code on my other pages, just my home page, but the .js file is still referenced on the other pages so perhaps that is how it is getting cached?</p>\n\n<p>Furthermore, is there a way to check your browsers cache? I use chrome.</p>\n\n<p>Edit: I just cleared my browsers cache and reloaded the website and the file worked as it should now, so that means the file did get cached. So now my question becomes how to I prevent a resource file from being cached?</p>\n",
            "last_activity_date": 1425037723,
            "question_id": 7538104,
            "score": 5,
            "tags": [
                "javascript",
                "caching",
                "google-chrome"
            ],
            "title": "Are the .js files being cached?"
        }
    ]
}
