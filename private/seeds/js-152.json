{
    "items": [
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p><strike><a href=\"https://dev.twitter.com/docs/api/1/get/statuses/user_timeline\">Twitter has a public API</a> which returns JSON, for example -</p>\n\n<p>A <code>GET</code> request to:</p>\n\n<p><code>https://api.twitter.com/1/statuses/user_timeline.json?include_entities=true&amp;include_rts=true&amp;screen_name=mralexgray&amp;count=1</code>, </strike></p>\n\n<p><strong>EDIT:</strong>  Removed due to twitter restricting their API with <code>OATH</code> requirements...</p>\n\n<pre><code>{\"errors\": [{\"message\": \"The Twitter REST API v1 is no longer active. Please migrate to API v1.1. https://dev.twitter.com/docs/api/1.1/overview.\", \"code\": 68}]}\n</code></pre>\n\n<p>Replacing it with a simple example of the <a href=\"http://developer.github.com/v3/\">Github API</a> - that returns a tree, of in this case, my repositories...</p>\n\n<blockquote>\n  <p><a href=\"https://api.github.com/users/mralexgray/repos\">https://api.github.com/users/mralexgray/repos</a></p>\n</blockquote>\n\n<p>I won't include the output, as it's long..  (returns 30 repos at a time) ...  But here is proof of it's tree-ed-ness.</p>\n\n<p><img src=\"http://i.stack.imgur.com/oHNX8.png\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>Tumblr has a <a href=\"http://www.tumblr.com/docs/en/api/v1\">public API</a> that provides JSON.  You can get a dump of posts using a simple url like <code>http://puppygifs.tumblr.com/api/read/json</code>.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The <a href=\"http://www.tumblr.com/docs/en/api/v2\" rel=\"nofollow\">Tumbler V2 API</a> provides a pure JSON response but requires jumping through a few hoops:</p>\n\n<ol>\n<li><a href=\"http://www.tumblr.com/oauth/register\" rel=\"nofollow\">Register an application</a></li>\n<li>Get your \"OAuth Consumer Key\" which you'll find when editing your application from <a href=\"http://www.tumblr.com/oauth/apps\" rel=\"nofollow\">the apps page</a></li>\n<li>Use any of <a href=\"http://www.tumblr.com/docs/en/api/v2\" rel=\"nofollow\">the methods</a> that only require an API Key for authentication as this can be passed in the URL, e.g. <a href=\"http://www.tumblr.com/docs/en/api/v2#posts\" rel=\"nofollow\">posts</a></li>\n<li>Enjoy your JSON response!</li>\n</ol>\n\n<p>Example URL: <a href=\"http://api.tumblr.com/v2/blog/puppygifs.tumblr.com/posts/photo?api_key=YOUR_KEY_HERE\" rel=\"nofollow\">http://api.tumblr.com/v2/blog/puppygifs.tumblr.com/posts/photo?api_key=YOUR_KEY_HERE</a></p>\n\n<p>Result showing tree structure in <a href=\"http://fiddler2.com\" rel=\"nofollow\">Fiddler</a>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/T8YVa.png\" alt=\"Screenshot\"></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Found one from Flickr that doesn't need registration / api.</p>\n\n<p>Basic sample, Fiddle: <a href=\"http://jsfiddle.net/Braulio/vDr36/\" rel=\"nofollow\">http://jsfiddle.net/Braulio/vDr36/</a></p>\n\n<p>More info: <a href=\"http://richardshepherd.com/how-to-use-jquery-with-a-json-flickr-feed-to-display-photos/\" rel=\"nofollow\">post</a></p>\n\n<p>Pasted sample</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div id=\"images\"&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>// Querystring, \"tags\" search term, comma delimited\nvar query = \"http://www.flickr.com/services/feeds/photos_public.gne?tags=soccer&amp;format=json&amp;jsoncallback=?\";\n\n\n// This function is called once the call is satisfied\n// http://stackoverflow.com/questions/13854250/understanding-cross-domain-xhr-and-xml-data\nvar mycallback = function (data) {\n\n    // Start putting together the HTML string\n    var htmlString = \"\";\n\n    // Now start cycling through our array of Flickr photo details\n    $.each(data.items, function(i,item){\n\n        // I only want the ickle square thumbnails\n        var sourceSquare = (item.media.m).replace(\"_m.jpg\", \"_s.jpg\");\n\n        // Here's where we piece together the HTML\n        htmlString += '&lt;li&gt;&lt;a href=\"' + item.link + '\" target=\"_blank\"&gt;';\n        htmlString += '&lt;img title=\"' + item.title + '\" src=\"' + sourceSquare;\n        htmlString += '\" alt=\"'; htmlString += item.title + '\" /&gt;';\n        htmlString += '&lt;/a&gt;&lt;/li&gt;';\n\n    });\n\n    // Pop our HTML in the #images DIV\n    $('#images').html(htmlString);\n};\n\n\n// Ajax call to retrieve data\n$.getJSON(query, mycallback);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><a href=\"https://registry.npmjs.us\" rel=\"nofollow\">https://registry.npmjs.us</a> is a mirror of the npmjs.org repository, which is a 100% json API with tons of public data available that can be thought of as a versioned hierarchy. So for example: </p>\n\n<ul>\n<li>Root: <a href=\"https://registry.npmjs.us\" rel=\"nofollow\">https://registry.npmjs.us</a>\n<ul>\n<li>Public Repository: <a href=\"https://registry.npmjs.us/public\" rel=\"nofollow\">https://registry.npmjs.us/public</a>\n<ul>\n<li>Package: <a href=\"https://registry.npmjs.us/public/xtuple\" rel=\"nofollow\">https://registry.npmjs.us/public/xtuple</a>\n<ul>\n<li>Version: <a href=\"https://registry.npmjs.us/public/xtuple/1.7.2\" rel=\"nofollow\">https://registry.npmjs.us/public/xtuple/1.7.2</a></li>\n</ul></li>\n<li>Package: <a href=\"https://registry.npmjs.us/public/congruence\" rel=\"nofollow\">https://registry.npmjs.us/public/congruence</a>\n<ul>\n<li>Version: <a href=\"https://registry.npmjs.us/public/congruence/1.5.0\" rel=\"nofollow\">https://registry.npmjs.us/public/congruence/1.5.0</a></li>\n<li>Version: <a href=\"https://registry.npmjs.us/public/congruence/1.5.1\" rel=\"nofollow\">https://registry.npmjs.us/public/congruence/1.5.1</a></li>\n<li>Version: <a href=\"https://registry.npmjs.us/public/congruence/1.5.2\" rel=\"nofollow\">https://registry.npmjs.us/public/congruence/1.5.2</a></li>\n</ul></li>\n</ul></li>\n</ul></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>JSON Test has some </p>\n\n<p>try its free and has other features too.</p>\n\n<p><a href=\"http://www.jsontest.com/\">http://www.jsontest.com/</a></p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>I'm working on a JavaScript dynamically loaded tree view user control. I'd like to test it with real world data.</p>\n\n<p>Does anybody know any public service with an API that provides access to hierarchical data in JSON format?</p>\n",
            "last_activity_date": 1406627652,
            "question_id": 8292050,
            "score": 26,
            "tags": [
                "javascript",
                "json",
                "testing",
                "treeview"
            ],
            "title": "Is there any publically accessible JSON data source to test with real world data?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It does not work anymore. Here is a very detailed article around the  <a href=\"http://www.mobilexweb.com/blog/safari-ios7-html5-problems-apis-review\">changes in IOS7</a></p>\n",
                    "is_accepted": true,
                    "score": 23
                }
            ],
            "body": "<p>Is it possible to hide the address bar in iOS 7?</p>\n\n<p>I am currently using the below to do this in iOS 6 but I just updated xCode and tested in iPhone Sim and iOS 7 Safari is not responding to this.</p>\n\n<p>js:</p>\n\n<pre><code>window.addEventListener(\"load\",function() {\n    // Set a timeout...\n    setTimeout(function(){\n        // Hide the address bar!\n        window.scrollTo(0, 1);\n    }, 0);\n});\n</code></pre>\n",
            "last_activity_date": 1379849089,
            "question_id": 18813476,
            "score": 24,
            "tags": [
                "javascript",
                "iphone",
                "ios",
                "safari",
                "mobile-safari"
            ],
            "title": "Is it possible to hide the address bar in iOS 7 Safari?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You could use this little known Javascript feature (<strong>arguments.callee</strong>):</p>\n\n<pre><code>MyApp.MyPanel = Ext.extend(Ext.Panel, {\n    constructor: function() {\n        // Do your thing\n        this.thing = 1;\n\n        // Call super\n        arguments.callee.superclass.constructor.apply(this, arguments);\n    }\n});\n</code></pre>\n\n<p>see <a href=\"https://developer.mozilla.org/En/Core%5FJavaScript%5F1.5%5FReference/Functions%5Fand%5Ffunction%5Fscope/arguments/callee\" rel=\"nofollow\">MDC documentation</a></p>\n\n<p>Edit: Actually, this isn't going to work with initComponent because it isn't the constructor.  I always override the constructor, personally (despite what Ext JS examples suggest). Will continue to think about this one a bit.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Yes indeed, <code>supr()</code> isn't documented. I've been looking forward to using it in ExtJS 3.0.0 (an Ext staff member replied in the forums, they had added it in that version), but it seems horribly broken.</p>\n\n<p>It currently does not traverse the inheritance hierarchy, but rather go up one level, then gets stuck on this level, loops endlessly and blows up the stack (IIRC). So, if you have two or more <code>supr()</code> in a row, your app will break. I have not found any useful information on <code>supr()</code> in neither the docs nor the forums.</p>\n\n<p>I don't know about the maintenance releases 3.0.x, since I did not get an support license ...</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>Here's a pattern I use, and been meaning to blog about it for a while.</p>\n\n<pre><code>Ext.ns('MyApp.MyPanel');\n\nMyApp.MyPanel = (function(){\n  var $this = Ext.extend(Ext.Panel, {\n    constructor: function() {\n        // Using a 'public static' value from $this\n        // (a reference to the constructor)\n        // and calling a 'private static' method\n        this.thing = $this.STATIC_PROP + privateStatic();\n        // Call super using $super that is defined after \n        // the call to Ext.extend\n        $super.constructor.apply(this, arguments);\n    },\n    initComponent: function() {\n        $super.initComponent.call(this);\n        this.addEvents([Events.SOMETHING]); // missing docs here\n    }\n  });\n  var $super = $this.superclass;\n\n  // This method can only be accessed from the class \n  // and has no access to 'this'\n  function privateStatic() {\n    return \"Whatever\";\n  }\n\n\n  /** \n    * This is a private non-static member\n    * It must be called like getThing.call(this);\n    */\n  function getThing() {\n     return this.thing;\n  }\n\n  // You can create public static properties like this\n  // refer to Events directly from the inside\n  // but from the outside somebody could also use it as\n  //  MyApp.MyPanel.Events.SOMETHING\n  var Events = $this.Events = {\n      SOMETHING: 'something'\n  }\n\n  return $this;\n})();\n\nMyApp.MyPanel.STATIC_STRING = 10;\n\n//Later somewhere\nvar panel = new MyApp.Mypanel();\npanel.on(MyApp.Mypanel.Events.SOMETHING, callback);\n</code></pre>\n\n<p>There are a lot of features you get using this pattern, but you don't have to use all of them</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I would simply change your code to:</p>\n\n<pre><code>var $cls = MyApp.MyPanel = Ext.extend(Ext.Panel, {\n  initComponent: function() {\n    // do something MyPanel specific here...\n    $cls.superclass.initComponent.call(this);\n  }\n});\n</code></pre>\n\n<p>That way you only keep a single reference of your class name, now $cls. Only use $cls within your class methods and you'll be fine.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I've came up with this solution a couple hours ago heheh... </p>\n\n<pre><code>function extend (parentObj, childObj) {\n    parentObj = parentObj || function () {};\n\n    var newObj = function () {\n        if (typeof this.initialize == 'function') {\n            this.initialize.apply(this, arguments);\n        }\n    }\n\n    newObj.prototype.__proto__ = parentObj.prototype;\n\n    for (var property in childObj) {\n        newObj.prototype[property] = childObj[property];\n    }\n\n    newObj.prototype.superclass = function (method) { \n        var callerMethod = arguments.callee.caller,\n            currentProto = this.constructor.prototype.__proto__;\n\n        while (callerMethod == currentProto[method]) {\n            currentProto = currentProto.__proto__;\n        } \n\n        return currentProto[method]; \n    };\n\n    return newObj;\n}\n</code></pre>\n\n<p>Then you can do:</p>\n\n<pre><code>var A = function () { \n    this.name = \"A Function!\";\n};\n\nA.prototype.initialize = function () {\n    alert(this.name);\n}\n\nvar B = extend(A, {\n    initialize: function () {\n        this.name = \"B Function!\";\n        this.superclass('initialize').apply(this);\n    }\n});\n\nvar C = extend(B, {\n    initialize: function () {\n        this.superclass('initialize').apply(this);\n    }\n});\n</code></pre>\n\n<p>Tested only with (Chromium 8.0.552.237 (70801) Ubuntu 10.10) \nand (Firefox 3.6.13).</p>\n\n<p>Hope this help someone, I was almost switching to GWT.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think this is solved in ExtJS 4 with callParent.</p>\n\n<pre><code>Ext.define('My.own.A', {\n    constructor: function(test) {\n        alert(test);\n    }\n});\n\nExt.define('My.own.B', {\n    extend: 'My.own.A',\n\n    constructor: function(test) {\n        alert(test);\n\n        this.callParent([test + 1]);\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 27
                }
            ],
            "body": "<p>All the ExtJS documentation and examples I have read suggest calling superclass methods like this:</p>\n\n<pre><code>MyApp.MyPanel = Ext.extend(Ext.Panel, {\n  initComponent: function() {\n    // do something MyPanel specific here...\n    MyApp.MyPanel.superclass.initComponent.call(this);\n  }\n});\n</code></pre>\n\n<p>I have been using this pattern for quite some time and the main problem is, that when you rename your class then you also have to change all the calls to superclass methods. That's quite inconvenient, often I will forget and then I have to track down strange errors.</p>\n\n<p>But reading the source of <code>Ext.extend()</code> I discovered, that instead I could use the <code>superclass()</code> or <code>super()</code> methods that <code>Ext.extend()</code> adds to the prototype:</p>\n\n<pre><code>MyApp.MyPanel = Ext.extend(Ext.Panel, {\n  initComponent: function() {\n    // do something MyPanel specific here...\n    this.superclass().initComponent.call(this);\n  }\n});\n</code></pre>\n\n<p>In this code renaming MyPanel to something else is simple - I just have to change the one line.</p>\n\n<p>But I have doubts...</p>\n\n<ul>\n<li><p>I haven't seen this documented anywhere and the old wisdom says, I shouldn't rely on undocumented behaviour.</p></li>\n<li><p>I didn't found a single use of these <code>superclass()</code> and <code>supr()</code> methods in ExtJS source code. Why create them when you aren't going to use them?</p></li>\n<li><p>Maybe these methods were used in some older version of ExtJS but are deprecated now? But it seems such a useful feature, why would you deprecate it?</p></li>\n</ul>\n\n<p>So, should I use these methods or not?</p>\n",
            "last_activity_date": 1358982179,
            "question_id": 1721935,
            "score": 24,
            "tags": [
                "javascript",
                "extjs",
                "extend",
                "extjs3",
                "superclass"
            ],
            "title": "Better way to call superclass method in ExtJS"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<pre><code>Ext.define('Store', {\n    model: 'Model',\n    extend: 'Ext.data.Store',\n    listeners: {\n        'beforesync': function(){\n            App.getController('somecontroller').onBeforeSync();\n        }\n    }\n});\n</code></pre>\n\n<p>App - your application object\nThe function onBeforeSync you can implement it in the controller ... this is the only way i could assign the event to the store and still implement the logic in the controll. I hope it helps</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I solved it by myself.</p>\n\n<p>I added the listener manually in the <code>render</code>-event of my Panel</p>\n\n<pre><code>Ext.getCmp('userPanel').down('gridpanel').getStore().addListener('write',this.finishedLoading, this);\n</code></pre>\n\n<p>Thank you for the help @nscrob.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/questions/7193392/extjs4-set-listener-for-store-events-in-a-controller/7202455#7202455\">Your way</a> is possible but it's not ideal, IMO. The better way is to use controllers's store getter. In your case the code would be something like this:</p>\n\n<pre><code>init : function () {\n    // every controller has getters for its stores.\n    // For store UsersStore getter would be getUsersStoreStore()\n    this.getUsersStoreStore().addListener('write',this.finishedLoading, this);\n    this.control({\n        // widgets event handlers\n    });\n},\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>Here is an alternative syntax to <a href=\"http://stackoverflow.com/a/7223173/20774\">Molecular Man's answer</a>.</p>\n\n<p>Instead of writing,</p>\n\n<pre><code>init : function () {\n    this.getUsersStoreStore().addListener('write',this.finishedLoading, this);\n    this.control({\n        // widgets event handlers\n    });\n},\n</code></pre>\n\n<p>You can write</p>\n\n<pre><code>init : function () {\n    this.getUsersStoreStore().on({\n        write: this.finishedLoading,\n        scope: this\n    });\n    this.control({\n        // widgets event handlers\n    });\n},\n</code></pre>\n\n<p>I think this alternative definition reads a little bit better.</p>\n\n<p>I took this from an <a href=\"http://stackoverflow.com/a/11870168/20774\">answer Izhaki</a> gave me.</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>As for Extjs 4.2.1, your initial way of accessing the store listener would actually work, if you were using the 'storeId' instead of the id and the 'listen' function instead of 'control':</p>\n\n<pre><code>Ext.define('DT.store.UsersStore', {\n    extend : 'Ext.data.Store',\n    model : 'DT.model.User',\n    storeId : 'myStore'\n    ....\n\ninit : function () {\n    this.listen({\n        store: {\n           '#myStore' : {\n               beforesync : this.doSomething,\n               ...\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Why not just relay the store's events? For example:</p>\n\n<p><code>this.getUsersGrid().relayEvents(this.getUsersStoreStore(), ['write'], 'store')</code></p>\n\n<p>And then be able to</p>\n\n<p><code>this.control('somegrid-selector': {storeWrite: function(){...}})</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h2>Hope this addition will help someone out there to avoid spending some hours on debugging the library core:</h2>\n\n<p>Related to this practice of accessing Ext.data.Store instance inside Controller using the controller's getter method: e.g. for the \"DT.store.UsersStore\" above using this.getUsersStoreStore():</p>\n\n<p>pay attention that if the store  is already associated in a view(e.g. was declared as the store property for a \"UsersGrid\" Grid.panel.Panel widget definition) then this <strong>getter method will retrieve in fact another instance of the same Store class and not the instance used by the widget!</strong> \n  The reason is that adding the store in the constructor configuration object like this:</p>\n\n<pre><code>stores: ['UsersStore']\n</code></pre>\n\n<p>will in fact add a new store instance in Ext.data.StoreManager.map hash so - supposing that 'UsersStore' is the only Store object instantiated so far  - the map keys now look like:</p>\n\n<pre><code>0: \"ext-empty-store\"\n1: \"UsersStore\"\n2: \"myStore\"\n</code></pre>\n\n<p>Now imagine you want to read some new data using your store'proxy and display this new data in the \"UsersGrid\" and you want to do all these when user clicks on something, so inside controller you will have a handler method for the user event with the code:</p>\n\n<pre><code>'user-selector' : {\n    click: function(){\n                     var oStoreReference = this.getUsersStoreStore();\n                         oStoreReference.load( {params:{} });\n            }\n    }\n</code></pre>\n\n<p>That call to get the reference will be translated internally in this.getStore('UsersStore') and will return a reference to the controller generated - 1: \"UsersStore\" - and not - 2: \"myStore\" - as one might expected. Furthermore, the load() call will load the UsersStore instance with the new Models and this will not be reflected in your grid view(because the grid is bound and listens to the events generated by \"myStore\" store instance).</p>\n\n<p>So better access the store by its itemId using the general getStore method: this.getStore('storeItemId')</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a controller with a store, a model, and some views.</p>\n\n<p>I need to listen for the <code>beforesync</code> and <code>write</code> event of the store in the controller, but I don't know how to set these listeners in the controllers <code>control</code>-function.</p>\n\n<p>My store looks like this : </p>\n\n<pre><code>Ext.define('DT.store.UsersStore', {\n    extend : 'Ext.data.Store',\n    model : 'DT.model.User',\n    id : 'myStore'\n    autoSync : true,\n    proxy : {\n        type : 'ajax',\n        api : {\n            read : '/load_entries',\n            update : '/update_entry'\n        },\n        reader : {\n            type : 'json',\n            root : 'user',\n            successProperty : 'success'\n        }\n    }\n});\n</code></pre>\n\n<p>Now I try to listen to the events in my controller : </p>\n\n<pre><code>...\ninit : function () {\n    this.control({\n        'myStore' : {\n            beforesync : this.doSomething,\n            write : this.doSomethingElse\n        }\n    });\n},\n...\n</code></pre>\n\n<p>My expected result is that the functions will be executed, when the events are fired.\nBut at this time nothing happens when they are fired.</p>\n\n<p>How can I get this to work?</p>\n",
            "last_activity_date": 1393000705,
            "question_id": 7193392,
            "score": 23,
            "tags": [
                "javascript",
                "model-view-controller",
                "extjs",
                "extjs4"
            ],
            "title": "Set listener for store events in a controller"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>jsDoc doesn't seem to like the \"define\" and \"require\" calls.</p>\n\n<p>So, we ended up using multiple tags to make the jsDoc tool to pick up the constructor and other specific class methods. Please have a look at the example below: \nI have just copy-pasted from my source-code and replaced it with your class name and method names. Hope it works for you.</p>\n\n<pre><code>    define([], function(Mediator){\n        /** \n         * Mediator class\n         * This is the interface class for user related modules\n         * @name Mediator\n         * @class Mediator\n         * @constructor\n         * @return Session Object\n         */\n\n        var channels = {};\n        if (!Mediator) Mediator = {};  \n\n        /**\n          * .... description goes here ...\n          * @name Mediator#subscribe\n          * @function \n          *\n          * @param {Number} channel  ..... \n          * @param {String} subscription ..............\n          * @example\n          * add the sample code here if relevent.\n          * \n          */        \n        Mediator.subscribe = function (channel, subscription) {   \n          if (!channels[channel]) channels[channel] = [];\n           channels[channel].push(subscription);\n        };\n\n        Mediator.publish = function (channel) {\n          if (!channels[channel]) return;\n          var args = [].slice.call(arguments, 1);\n          for (var i = 0, l = channels[channel].length; i &lt; l; i++) {\n            channels[channel][i].apply(this, args);\n          }\n        };\n\n    return Mediator;\n\n    });\n</code></pre>\n\n<p>Note: The above method of documenting JS-code worked out well for us while using jsDoc. Haven't got a chance to try jsDoc3.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><em>This is my first answer on SO, please let me know how I can improve future answers.</em></p>\n\n<h2>Your specific example</h2>\n\n<p>I've been searching for an answer for this for a good two days, and there doesn't seem to be a way to document RequireJS AMD modules automatically without some redundancy (like repeated function names). Karthrik's answer does a good job of generating the documentation, but if something gets renamed in the code the documentation will still be generated from what's in the jsDoc tags.</p>\n\n<p>What I ended up doing is the following, which is adjusted from Karthik's example. Note the <code>@lends</code> tag on line 1, and the removal of the <code>@name</code> tag from the jsDoc comment blocks.</p>\n\n<pre><code> define([], /** @lends Mediator */ function(Mediator){\n    /** \n     * Mediator class\n     * This is the interface class for user related modules\n     * @class Mediator\n     */\n\n    var channels = {};\n    if (!Mediator) Mediator = {};  \n\n    /**\n      * .... description goes here ...\n      * @function \n      *\n      * @param {Number} channel  ..... \n      * @param {String} subscription ..............\n      * @example\n      * add the sample code here if relevent.\n      * \n      */        \n    Mediator.subscribe = function (channel, subscription) {   \n      if (!channels[channel]) channels[channel] = [];\n       channels[channel].push(subscription);\n    };\n\n    Mediator.publish = function (channel) {\n      if (!channels[channel]) return;\n      var args = [].slice.call(arguments, 1);\n      for (var i = 0, l = channels[channel].length; i &lt; l; i++) {\n        channels[channel][i].apply(this, args);\n      }\n    };\n\nreturn Mediator;\n\n});\n</code></pre>\n\n<p>From what I understand, the <code>@lends</code> tag will interpret all jsDoc comments from the next following object literal as part of the class referenced by the <code>@lends</code> tag. In this case the next object literal is the one beginning with <code>function(Mediator) {</code>. The <code>@name</code> tag is removed so that jsDoc looks in the source code for function names, etc.</p>\n\n<p><em>Note: I've used the <code>@exports</code> tag at the same place as where I put the <code>@lends</code> tag. While that works, it'll create a module in the docs\u2026 and I only wanted to generate docs for the class. This way works for me!</em></p>\n\n<h2>General jsDoc references</h2>\n\n<ul>\n<li><a href=\"http://code.google.com/p/jsdoc-toolkit/wiki/TagReference\">jsdoc-toolkit Tag Reference</a> - Great reference for the tags in jsdoc-toolkit. Has a bunch of examples, too!</li>\n<li><a href=\"http://www.2ality.com/2011/08/jsdoc-intro.html\">2ality's jsDoc intro</a> - Comprehensive tutorial based on jsDoc-toolkit.</li>\n<li><a href=\"http://usejsdoc.org\">jsDoc3 reference</a> - Fairly incomplete, but has some examples.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>Taking the <a href=\"http://usejsdoc.org/howto-commonjs-modules.html\"><strong>link from Muxa's answer</strong></a>, we see that the documentation does specifically refer to RequireJS:</p>\n\n<blockquote>\n  <p>The RequireJS library provides a define method that allows you to write a function to return a module object. Use the @exports tag to document that all the members of an object literal should be documented as members of a module.</p>\n</blockquote>\n\n<h3>Module Example</h3>\n\n<pre><code>define('my/shirt', function () {\n   /** \n    * A module representing a shirt.\n    * @exports my/shirt\n    * @version 1.0\n    */\n    var shirt = {\n\n        /** A property of the module. */\n        color: \"black\",\n\n        /** @constructor */\n        Turtleneck: function(size) {\n            /** A property of the class. */\n            this.size = size;\n        }\n    };\n\n    return shirt;\n});\n</code></pre>\n\n<p>So in the above example, we see that jsdoc will parse a <code>my/shirt</code> <em>module</em> and document it as having two members: a property <code>color</code>, and also a class <code>Turtleneck</code>. The <code>Turtleneck</code> class will also be documented as having it's own property <code>size</code>.</p>\n\n<h3>Constructor Module Example</h3>\n\n<blockquote>\n  <p>Use the @alias tag simplify documenting a constructor-module in RequireJS.</p>\n</blockquote>\n\n<pre><code>/** \n * A module representing a jacket.\n * @module jacket\n */\ndefine('jacket', function () {\n    /**\n     * @constructor\n     * @alias module:jacket\n     */\n    var exports = function() {\n    }\n\n    /** Open and close your Jacket. */\n    exports.prototype.zip = function() {\n    }\n\n    return exports;\n});\n</code></pre>\n\n<p>The above is what you'd want to use if you are exporting a constructor function as the module which will be used as a class to instantiate objects. To sum up, I'm not sure about using the <code>@lends</code> and other tags/techniques that have been recommended. Instead, I would try to stick with the <code>@module</code>, <code>@exports</code>, and <code>@alias</code> tags used in the <a href=\"http://usejsdoc.org/howto-commonjs-modules.html\"><strong>documentation referencing RequireJS</strong></a>.</p>\n\n<p>I'm not sure how you should document your requirejs 'main' file. If I understand correctly, you are not actually defining any module there, but rather executing a one off function which depends on several modules.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>My AMD classes use a slightly different form, but JSDoc wasn't documenting them either so I thought I'd share what worked for me.</p>\n\n<p>Constructors in the global namespace are automatically added:</p>\n\n<pre><code>/**\n* @classdesc This class will be documented automatically because it is not in\n* another function.\n* @constructor\n*/\nfunction TestClassGlobal() {\n/**\n* This is a public method and will be documented automatically.\n*/\nthis.publicMethod = function() {\n};\n}\n</code></pre>\n\n<p>If you want this behavior on a constructor inside an AMD module, declare it either as <em>global</em> or a <em>member of a namespace</em>:</p>\n\n<pre><code>define([], function() {\n/**\n* @classdesc This won't be automatically documented unless you add memberof,\n* because it's inside another function.\n* @constructor\n* @memberof Namespace\n*/\nfunction TestClassNamespace() {\n}\n\n/**\n* @classdesc This won't be automatically documented unless you add global,\n* because it's inside another function.\n* @constructor\n* @global\n*/\nfunction TestClassForcedGlobal() {\n}\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have 2 types of Modules:</p>\n\n<p><strong>Require.js Main File</strong>:</p>\n\n<pre><code>    require.config({\n      baseUrl: \"/another/path\",\n      paths: {\n        \"some\": \"some/v1.0\"\n      },\n      waitSeconds: 15,\n      locale: \"fr-fr\"\n    });\n\n\n    require( [\"some/module\", \"my/module\", \"a.js\", \"b.js\"],\n      function(someModule,    myModule) {\n      }\n    );\n</code></pre>\n\n<p><strong>Mediator Pattern:</strong></p>\n\n<pre><code>define([], function(Mediator){\n\nvar channels = {};\nif (!Mediator) Mediator = {};  \n\nMediator.subscribe = function (channel, subscription) {   \n  if (!channels[channel]) channels[channel] = [];\n   channels[channel].push(subscription);\n};\n\nMediator.publish = function (channel) {\n  if (!channels[channel]) return;\n  var args = [].slice.call(arguments, 1);\n  for (var i = 0, l = channels[channel].length; i &lt; l; i++) {\n    channels[channel][i].apply(this, args);\n  }\n};\n\nreturn Mediator;\n\n});\n</code></pre>\n\n<p>How can i document this with jsdoc3 when possible with jsdoc too?</p>\n",
            "last_activity_date": 1401247242,
            "question_id": 10172381,
            "score": 21,
            "tags": [
                "javascript",
                "requirejs",
                "jsdoc",
                "js-amd"
            ],
            "title": "How to document a Require.js (AMD) Modul with jsdoc 3 or jsdoc?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Move any script to a <code>click</code> event handler instead, with a fallback page for users without JavaScript:</p>\n\n<pre><code>&lt;a href=\"foo.html\" onclick=\"someFunction(); return false\"&gt;click&lt;/a&gt;\n</code></pre>\n\n<p>The unobtrusive JS champions out there will probably object to the use of the <code>onclick</code> attribute, but the fact is that it works, it's the simplest way to add an event handler and the simplest way to provide an example. For better separation of concerns, you could instead use either a DOM0 <code>onclick</code> property, <code>addEventListener()</code> / <code>attachEvent()</code> or a library.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You may remove and  re-assign the onbeforeunload when hovering those links:</p>\n\n<pre><code>jQuery(\n  function($)\n  {\n      //store onbeforeunload for later use\n    $(window).data('beforeunload',window.onbeforeunload);  \n\n      //remove||re-assign onbeforeunload on hover \n    $('a[href^=\"javascript:\"]')\n      .hover( \n             function(){window.onbeforeunload=null;},\n             function(){window.onbeforeunload=$(window).data('beforeunload');}\n            );\n\n  }\n);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 28
                },
                {
                    "body": "<p>I just ran into a similar problem and found a very easy solution:</p>\n\n<pre><code>$(\"a\").mousedown(function() {\n    $(window).unbind();\n});\n</code></pre>\n\n<p>This will remove the onbeforeunload event just before the click event is triggered.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If the user mouse is on a link and they trigger refresh page with the keyboard or activate a link with the keyboard, the prompt won't show up. So Dr.Molle approach will not work in this rare case.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you include a bookmark symbol in the href of the a tag you should be able to still use the onclick event to include your JavaScript.</p>\n\n<pre><code>&lt;a href=\"#\" onclick='someFunction();'&gt;click&lt;/a&gt;\n</code></pre>\n\n<p>I\u2019ve run a number of tests and this appears to execute the JavaScript without triggering the onbeforeunload event. I\u2019d be curious to know if this works for others or if you still have the same problem after implementing a tags in this manner.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>(Like some of the other answers, this requires changing how the JavaScript is bound.  If that doesn't work for you, disregard.)</p>\n\n<p>I found that in IE 7 through IE 10, simply using jQuery .click() with <code>preventDefault</code> works without showing the <code>onbeforeunload</code> message (IE 11 does not show the <code>beforeunload</code> message for any of my test cases).  This is true whether the href is '#' or <code>javascript:void(0)</code>.  I expect the conclusion holds if <code>attachEvent</code>/<code>addEventListener</code> is used directly, but I didn't test that.</p>\n\n<p>There is a demo of the below at <a href=\"http://jsbin.com/tatufehe/1\" rel=\"nofollow\">http://jsbin.com/tatufehe/1</a> .  Both of the versions (in green) with <code>preventDefault</code> work (don't show the <code>beforeunload</code> dialog).  The one without <code>preventDefault</code> does show it (as a comparison).</p>\n\n<hr>\n\n<pre><code>$( document ).ready( function () {\n  $( 'a' ).click( function ( evt ) {\n    $( '#display' ).text( 'You clicked: ' + $( this ).text() );\n\n    if ( $(this).hasClass( 'withPreventDefault' ) ) {\n      evt.preventDefault();\n    }\n  } );\n})\n\nwindow.onbeforeunload = function () {\n  return \"Are you sure you want to leave?\";   \n};\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;p id=\"display\"&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a class=\"withPreventDefault\" href=\"#\"&gt;Number sign link *with* preventDefault&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a class=\"withPreventDefault\" href=\"javascript:void(0);\"&gt;JavaScript href link *with* preventDefault&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"javascript:void(0);\"&gt;JavaScript href link *without* preventDefault&lt;/a&gt;&lt;/p&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm building a fail safe for my form that is going to warn users that if they leave the page their form data will be lost (similar to what gmail does). </p>\n\n<pre><code>window.onbeforeunload = function () {    \n        if (formIsDirty) {\n            return \"You have unsaved data on this form. Don't leave!\";\n        }\n}\n</code></pre>\n\n<p>The above function works great in firefox, but in IE it is triggered by any href link, even ones that are links to javascript and not other pages. </p>\n\n<p>for example....</p>\n\n<pre><code>&lt;a href='javascript:someFunction();'&gt;click&lt;/a&gt;\n</code></pre>\n\n<p>I'm wondering if there is any way to get around this, as I do not want the user thinking that they are leaving the page when they are simply clicking a button on it. <strong>I do not have the option of rewriting all the various links</strong> as they are built in and numerous.</p>\n\n<p>Any ideas?</p>\n",
            "last_activity_date": 1402891762,
            "question_id": 7650063,
            "score": 21,
            "tags": [
                "javascript",
                "jquery",
                "internet-explorer",
                "onbeforeunload",
                "onunload"
            ],
            "title": "How can I prevent window.onbeforeunload from being triggered by javascript: href links in IE?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>try this:</p>\n\n<pre><code>$(\"#mySelect1\").find(\"option[text=\" + text1 + \"]\").attr(\"selected\", true);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Using the <a href=\"http://api.jquery.com/filter/\" rel=\"nofollow\">filter()</a> function seems to work in your test cases (tested in Firefox).\nThe selector would look like this:</p>\n\n<pre><code>$('#mySelect1 option').filter(function () {\n    return $(this).text() === 'Banana';\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>When an <code>&lt;option&gt;</code> isn't given a <code>value=\"\"</code>, the text becomes its <code>value</code>, so you can just use <a href=\"http://api.jquery.com/val/\"><code>.val()</code></a> on the <code>&lt;select&gt;</code> to set by value, like this:</p>\n\n<pre><code>var text1 = 'Monkey';\n$(\"#mySelect1\").val(text1);\n\nvar text2 = 'Mushroom pie';\n$(\"#mySelect2\").val(text2);\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/nick_craver/RB5wU/\">You can test it out here</a>, if the example is <em>not</em> what you're after and they actually have a value, use the <code>&lt;option&gt;</code> element's <code>.text</code> property to <a href=\"http://api.jquery.com/filter/\"><code>.filter()</code></a>, like this:</p>\n\n<pre><code>var text1 = 'Monkey';\n$(\"#mySelect1 option\").filter(function() {\n    return this.text == text1; \n}).attr('selected', true);\n\nvar text2 = 'Mushroom pie';\n$(\"#mySelect2 option\").filter(function() {\n    return this.text == text2; \n}).attr('selected', true);\u200b\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/nick_craver/RB5wU/1/\">You can test that version here</a>.</p>\n",
                    "is_accepted": true,
                    "score": 49
                },
                {
                    "body": "<p>The following works for text entries both with and without spaces:</p>\n\n<pre><code>$(\"#mySelect1\").find(\"option[text=\" + text1 + \"]\").attr(\"selected\", true);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In case someone google for this, the solutions above didn't work for me so i ended using \"pure\" javascript</p>\n\n<pre><code>document.getElementById(\"The id of the element\").value = \"The value\"\n</code></pre>\n\n<p>And that would set the value and make the current value selected in the combo box. Tested in firefox.</p>\n\n<p>it was easier than keep googling a solution for jQuery</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I tried a few of these things until I got one to work in both Firefox and IE. This is what I came up with.</p>\n\n<pre><code>$(\"#my-Select\").val($(\"#my-Select\" + \" option\").filter(function() { return this.text == myText }).val());\n</code></pre>\n\n<p>another way of writing it in a more readable fasion:</p>\n\n<pre><code>var valofText = $(\"#my-Select\" + \" option\").filter(function() {\n    return this.text == myText\n}).val();\n$(ElementID).val(valofText);\n</code></pre>\n\n<p>Pseudocode:</p>\n\n<pre><code>$(\"#my-Select\").val( getValOfText( myText ) );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I have been using the following code (with jQuery v1.4.2) to set the 'selected' attribute of a select list based on  its 'text' description rather than its 'value':</p>\n\n<pre><code>$(\"#my-Select option[text=\" + myText +\"]\").attr(\"selected\",\"selected\") ;\n</code></pre>\n\n<p>This code worked fine, until I noticed one select list on which it failed, depending on the text that was being matched. After some hair-pulling I realized that it was failing only in cases where the text was a single word (no spaces, no non-alpha characters). (All of my previous uses of this code had worked fine with select lists comprised solely of multi-word chemical names.)</p>\n\n<p>For example, within the one select list, it worked fine with:<br>\npharbitic acid<br>\n25-D-spirosta-3,5-diene<br>\npogostol (#Pogostemon#)   </p>\n\n<p>It failed with:<br>\nglucose<br>\nadenine</p>\n\n<p>I have tried any way I could think of to surround the text variable with quotes (both single and double) to no avail. (But why should a single word need quotes when a two word phrase does not?)</p>\n\n<p>I have tried hard coding the text in there and had the same result.</p>\n\n<p>This works:</p>\n\n<pre><code>$(\"#constituent option[text=#a#-allocryptopine]\").attr('selected', 'selected');\n</code></pre>\n\n<p>This works:</p>\n\n<pre><code>$(\"#constituent option[text=5-O-methylrisanrinol]\").attr('selected', 'selected');\n</code></pre>\n\n<p>This <strong>did not work</strong>: </p>\n\n<pre><code>$(\"#constituent option[text=adenine]\").attr('selected', 'selected');\n</code></pre>\n\n<p>I tried hard coding quotes. This <strong>did not work</strong>:</p>\n\n<pre><code>$(\"#constituent option[text='glucose']\").attr('selected', 'selected');\n</code></pre>\n\n<p>I could not get hard coded quotes (single or double) to work with <em>any</em> text at all.</p>\n\n<p>It's worth noting that quotes are acceptable when using the 'value' attribute. E.g., both of these work fine:</p>\n\n<pre><code>$(\"#constituent option[value='3']\").attr('selected', 'selected');\n\n$(\"#constituent option[value=3]\").attr('selected', 'selected');\n</code></pre>\n\n<p>Below is some code to demonstrate the problem. Two select lists, the first of which is comprised of simple words, the second of two word phrases. When the page loads it tries to set the value of each select list. The jQuery code works for the second list but not the first. (I tried putting a space in 'monkey' to get 'mon key' and it worked!)</p>\n\n<p>A working demo of the code below is <a href=\"http://snubian.com/test/select.html\">here</a>.</p>\n\n<p>I would greatly appreciate any insight into what I am doing wrong here. Or even an alternative selector syntax for using the  'text' attribute. Thanks in advance to all who have the time to assist.</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt; \n\n&lt;head&gt;\n\n  &lt;script type=\"text/javascript\" src=\"../js/jquery/jquery.js\"&gt;&lt;/script&gt;\n\n  &lt;script type=\"text/javascript\"&gt;\n\n  $(document).ready(function(){\n\n    var text1 = 'Monkey';\n    $(\"#mySelect1 option[text=\" + text1 + \"]\").attr('selected', 'selected');\n\n    var text2 = 'Mushroom pie';\n    $(\"#mySelect2 option[text=\" + text2 + \"]\").attr('selected', 'selected');        \n\n  });\n\n  &lt;/script&gt; \n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n  &lt;select id=\"mySelect1\"&gt;\n    &lt;option&gt;&lt;/option&gt;\n    &lt;option&gt;Banana&lt;/option&gt;\n    &lt;option&gt;Monkey&lt;/option&gt;\n    &lt;option&gt;Fritter&lt;/option&gt;\n  &lt;/select&gt; \n\n  &lt;select id=\"mySelect2\"&gt;\n    &lt;option&gt;&lt;/option&gt;\n    &lt;option&gt;Cream cheese&lt;/option&gt;\n    &lt;option&gt;Mushroom pie&lt;/option&gt;\n    &lt;option&gt;French toast&lt;/option&gt;\n  &lt;/select&gt; \n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1417817574,
            "question_id": 3644449,
            "score": 21,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "jQuery: Setting select list &#39;selected&#39; based on text, failing strangely"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Register a production task:</p>\n\n<pre><code>// on the dev server, only concat\ngrunt.registerTask('default', ['concat']);\n\n// on production, concat and minify\ngrunt.registerTask('prod', ['concat', 'min']);\n</code></pre>\n\n<p>On your dev server run <code>grunt</code> and on your production run <code>grunt prod</code>.</p>\n\n<p>You can setup finer grain targets per task as well:</p>\n\n<pre><code>grunt.initConfig({\n  min: {\n    dev: {\n      // dev server minify config\n    },\n    prod: {\n      // production server minify config\n    }\n  }\n});\ngrunt.registerTask('default', ['min:dev']);\ngrunt.registerTask('prod', ['min:prod']);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 45
                }
            ],
            "body": "<p>I am trying to set up my grunt.js file so it only runs the <code>min</code> task when running on my production server - when running on my local dev server I don't want to <code>min</code> my code with every change as it is unnecessary.</p>\n\n<p>Any ideas on how grunt.js can differentiate between dev/prod environments?</p>\n",
            "last_activity_date": 1355169307,
            "question_id": 13800205,
            "score": 20,
            "tags": [
                "javascript",
                "node.js",
                "npm",
                "gruntjs"
            ],
            "title": "Alternate grunt.js tasks for dev/prod environments"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I was trying to solve the exact same problem for he last few hour.</p>\n\n<p>Try initializing your server like that:</p>\n\n<pre><code>var app = express.createServer(\nexpress.cookieParser(),\nexpress.session({ secret: \"crazysecretstuff\"})\n  );\n</code></pre>\n\n<p>That should work.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If you're doing <code>app.use(app.router)</code> before the lines that set up the cookie and session handling, try moving it to after them. That fixed the same problem for me.</p>\n",
                    "is_accepted": false,
                    "score": 68
                },
                {
                    "body": "<p>I had same issue of getting undefined for session variable which I knew was set ok.</p>\n\n<p>In my case it turned out to be caused by cross origin request, I had forgotten the withCredentials header on the request.</p>\n\n<p>So for example in my client side Angular app I needed to do this:</p>\n\n<pre><code>var config = { withCredentials: true };\nreturn $http.get(appConfig.apiUrl + '/orders', config);\n</code></pre>\n\n<p>and in Express this:</p>\n\n<pre><code>res.header('Access-Control-Allow-Credentials', true);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>the <code>sessionSecret</code> in the configuration (config.json?) should be non-empty:</p>\n\n<p><code>sessionSecret: \"something other than an empty string\",</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>so I basically want to use sessions to store the users name and check to see if the user logged in or not. If not, the page will redirect to the login page.</p>\n\n<p>I am using Node.js,express,and couchDB.</p>\n\n<p>Here is how i set up my session so far</p>\n\n<pre><code>var MemoryStore = require('connect').session.MemoryStore;\napp.use(express.cookieParser());\napp.use(express.session({ \n    secret: \"keyboard cat\", \n    store: new MemoryStore({ \n        reapInterval: 60000 * 10\n    })\n}));\n</code></pre>\n\n<p>To store something in the session, i use the following code right?</p>\n\n<pre><code>req.session = {user:name);\n</code></pre>\n\n<p>So the session variable seems to work on my login page. I successfully store the user's name into the session However, when I try to access the session variable on another page, it gives me the error</p>\n\n<pre><code>Cannot read property 'user' of undefined\n</code></pre>\n\n<p>all i'm doing is:</p>\n\n<pre><code>if (req.session.user){\n</code></pre>\n\n<p>Why is this error happening? are sessions not global to the whole app? Or am I missing something entirely here.</p>\n\n<p>Thanks in advance!</p>\n",
            "last_activity_date": 1405377408,
            "question_id": 5599083,
            "score": 20,
            "tags": [
                "javascript",
                "session",
                "node.js",
                "express"
            ],
            "title": "how to use sessions in express, couchDB, and node.js"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You could store a reference to the original function, and then override it, with a function that calls back the original one, and adds the functionality you desire:</p>\n\n<pre><code>var originalFn = addToMe;\n\naddToMe = function () {\n  originalFn(); // call the original function\n  // other stuff\n};\n</code></pre>\n\n<p>You can do this because JavaScript <a href=\"https://developer.mozilla.org/En/Core%5FJavaScript%5F1.5%5FReference%3AFunctions\">functions</a> are <a href=\"http://en.wikipedia.org/wiki/First-class%5Ffunction\">first-class</a> objects.</p>\n\n<p><strong>Edit:</strong> If your function receives arguments, you should use <a href=\"https://developer.mozilla.org/en/Core%5FJavaScript%5F1.5%5FReference/Global%5FObjects/Function/apply\">apply</a> to pass them to the <em>original function</em>:</p>\n\n<pre><code>addToMe = function () {\n  originalFn.apply(this, arguments); // preserve the arguments\n  // other stuff\n};\n</code></pre>\n\n<p>You could also use an auto-executing function expression with an argument to store the reference of the original function, I think it is a little bit cleaner:</p>\n\n<pre><code>addToMe = (function (originalFn) {\n  return function () {\n    originalFn.apply(originalFn, arguments); // call the original function\n    // other stuff\n  };\n})(addToMe); // pass the reference of the original function\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 38
                }
            ],
            "body": "<p>I have a function I can't modify:</p>\n\n<pre><code>function addToMe() { doStuff(); }\n</code></pre>\n\n<p>Can I add to this function? <em>Obviously this syntax is terribly wrong but it's the general idea...</em></p>\n\n<pre><code>function addToMe() { addToMe() + doOtherStuff(); }\n</code></pre>\n",
            "last_activity_date": 1257131357,
            "question_id": 1659219,
            "score": 20,
            "tags": [
                "javascript",
                "function"
            ],
            "title": "Add to a javascript function"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<h3>jQuery 1.4+</h3>\n\n<p>You don't want to unwrap the span, you want to unwrap its contents:</p>\n\n<pre><code>$(\"span\").contents().unwrap();\n</code></pre>\n\n<p>Online Demo: <a href=\"http://jsbin.com/iyigi/edit\">http://jsbin.com/iyigi/edit</a></p>\n\n<h3>jQuery 1.2+</h3>\n\n<p>For earlier versions of jQuery, you could do the following:</p>\n\n<pre><code>$(\"span\").replaceWith(function () {\n    return $(this).text();\n});\n</code></pre>\n\n<p>Online Demo: <a href=\"http://jsbin.com/iyigi/40/edit\">http://jsbin.com/iyigi/40/edit</a></p>\n",
                    "is_accepted": true,
                    "score": 48
                },
                {
                    "body": "<p>Wouldn't a simple <code>$('#my-div').text ($('#my-div').text ())</code> suffice, without resorting to unwrapping?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>$(mydiv).html($(mydiv).text()) \n</code></pre>\n\n<p>should do the trick.</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I've got some html that looks like this:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;span class=\"red\"&gt;red text&lt;/span&gt; some more text &lt;span class=\"blue\"&gt;blue text&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>What I want to do is use jQuery to remove all the spans within the div regardless of attached class, but leave the text within the span tags behind. So the final result will be:</p>\n\n<pre><code>&lt;div&gt;\n    red text some more text blue text\n&lt;/div&gt;\n</code></pre>\n\n<p>I've tried to use the <code>unwrap()</code> method but it unwraps the div. I've also tried to remove the elements but that removes the elements and their text.</p>\n",
            "last_activity_date": 1404155172,
            "question_id": 2308366,
            "score": 19,
            "tags": [
                "javascript",
                "jquery",
                "dom-manipulation"
            ],
            "title": "Remove element with jQuery but leave text"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>$('#frameID').contentWindow.document.body.innerHTML\n  = '';</p>\n</blockquote>\n\n<p>As with any iframe, this only works if you're on the same domain.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>First, get the document of the frame:</p>\n\n<pre><code>var frame = $('#frameId').get(0);\nvar frameDoc = frame.contentDocument || frame.contentWindow.document;\n</code></pre>\n\n<p>Then, blank it:</p>\n\n<pre><code>frameDoc.getElementsByTagName('body')[0].innerHTML = \"\";\n</code></pre>\n\n<p>I think this should work too:</p>\n\n<pre><code>$('body', frameDoc).html(\"\");\n</code></pre>\n\n<p>Now, you might want to do something with any scripts that might be loaded in the head, but this should get you started.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The other solutions use <code>innerHTML</code>, which won't always work in XHTML. They also only clear <code>document.body</code> (anything in the <code>&lt;head&gt;</code> is still present). Here is a solution that uses the DOM:</p>\n\n<pre><code>var frame = document.getElementById(\"myFrame\"),\nframeDoc = frame.contentDocument || frame.contentWindow.document;\nframeDoc.removeChild(frameDoc.documentElement);\n</code></pre>\n\n<p>This solution uses <code>innerHTML</code>:</p>\n\n<pre><code>var frame = document.getElementById(\"myFrame\"),\nframeDoc = frame.contentDocument || frame.contentWindow.document;\nframeDoc.documentElement.innerHTML = \"\";\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<pre><code>$(\"#frameId\").contents().find(\"div#SomeDIVinsideFrame\").remove(); // removes some div content inside iframe\n\n$(\"#FrameId\").remove(); // removes frame\n</code></pre>\n\n<p>had same problem to show iframe news on <a href=\"http://www.livepage.info\" rel=\"nofollow\">http://www.livepage.info</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can trigger unload event of that iframe like</p>\n\n<pre><code>$('body').trigger('unload');\n</code></pre>\n\n<p>and then remove the iframe from the parent window and reload a new iframe with new src when needed.</p>\n\n<pre><code>$('#iframe_wrapper').html('');\n$('#iframe_wrapper').html('&lt;iframe src=\"...\"&gt;');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>function getContentFromIframe(iFrameName)\n{\n\nvar myIFrame = document.getElementById(iFrameName);\nvar content = myIFrame.contentWindow.document.body.innerHTML;\n\n//Do whatever you need with the content    \n\n}\n</code></pre>\n\n<p><strong>it will definitely work !!!!!!!!!!!!!!!!</strong></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this,</p>\n\n<pre><code>$(\"iframe\").contents().find(\"body\").html('');\n</code></pre>\n\n<p>It only clears innerHTML of your  tag inside  and not actually unload your iframe so you can reuse your iframe without reloading it and its working in all browsers and quite simple!!</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Removing and recreating the iframe is the smartest solution here (no offense towards the other answers).</p>\n\n<p>By removing only the <code>innerHTML</code> of the iframe you don't flush the variables stored, the bound eventListeners etc.</p>\n\n<p>Be careful with this, it might cause a lot of problems (like memory leaks, multiple triggers of the same event etc).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This worked for me, cleared everything within the iframe tag; body, head, html and all:</p>\n\n<pre><code>$(\"iframe\").contents().empty();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there anyway to unload a page that has been loaded inside an iframe? I do not want to  change the iframe src to a blank page if possible. I am basically looking for something that will do something like this <code>$('#frameID').attr(\"src\",\"\");</code> except that code does not seem to clear the previously loaded page.</p>\n\n<p>Is there a <code>\"unload\"</code> function that I can call which will reset the iframe so that it does not have any content loaded inside?</p>\n",
            "last_activity_date": 1392007686,
            "question_id": 1307165,
            "score": 19,
            "tags": [
                "javascript",
                "jquery",
                "events",
                "dom",
                "iframe"
            ],
            "title": "Unloading/Removing content from an iFrame"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>In general, the practice of User Agent sniffing and conditional compilation/comments are best avoided.  It is far better to use <a href=\"https://www.w3.org/community/webed/wiki/Optimizing_content_for_different_browsers%3a_the_RIGHT_way#Why_feature_detection_is_better\" rel=\"nofollow\">feature detection</a>, <a href=\"https://www.w3.org/community/webed/wiki/Optimizing_content_for_different_browsers%3a_the_RIGHT_way#Graceful_degradation\" rel=\"nofollow\">graceful degradation</a> , and <a href=\"https://www.w3.org/community/webed/wiki/Optimizing_content_for_different_browsers%3a_the_RIGHT_way#Progressive_enhancement\" rel=\"nofollow\">progressive enhancement</a> instead. However, for the few edge cases where it is more convenient for the developer to detect the browser version, you can use the following code snippets:</p>\n\n<p>This <code>if</code> statement will only execute on IE 10</p>\n\n<pre><code>// IF THE BROWSER IS INTERNET EXPLORER 10\nif (navigator.appVersion.indexOf(\"MSIE 10\") !== -1)\n{\n    window.alert('This is IE 10');\n}\n</code></pre>\n\n<p>This <code>if</code> statement will only execute on IE 11</p>\n\n<pre><code>// IF THE BROWSER IS INTERNET EXPLORER 11\nvar UAString = navigator.userAgent;\nif (UAString.indexOf(\"Trident\") !== -1 &amp;&amp; UAString.indexOf(\"rv:11\") !== -1)\n{\n    window.alert('This is IE 11');\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/Qz97n/\" rel=\"nofollow\">http://jsfiddle.net/Qz97n/</a></p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>The real way to detect this, without conditional comments and without User Agent sniffing is with conditional compilation:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var isIE10 = false;\n    /*@cc_on\n        if (/^10/.test(@_jscript_version)) {\n            isIE10 = true;\n        }\n    @*/\n    console.log(isIE10);\n&lt;/script&gt;\n</code></pre>\n\n<p>After running this code, you can use following anytime after:</p>\n\n<pre><code>if (isIE10) {\n    // Using Internet Explorer 10\n}\n</code></pre>\n\n<p>Reference: <a href=\"http://stackoverflow.com/questions/15819904/how-can-i-detect-ie10-from-js-when-browser-mode-is-ie9\">How can I detect IE10 from JS when browser mode is IE9?</a></p>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>To avoid minification of comments, you can use something like:</p>\n\n<pre><code>var IE = (function () {\n    \"use strict\";\n\n    var ret, isTheBrowser,\n        actualVersion,\n        jscriptMap, jscriptVersion;\n\n    isTheBrowser = false;\n    jscriptMap = {\n        \"5.5\": \"5.5\",\n        \"5.6\": \"6\",\n        \"5.7\": \"7\",\n        \"5.8\": \"8\",\n        \"9\": \"9\",\n        \"10\": \"10\"\n    };\n    jscriptVersion = new Function(\"/*@cc_on return @_jscript_version; @*/\")();\n\n    if (jscriptVersion !== undefined) {\n        isTheBrowser = true;\n        actualVersion = jscriptMap[jscriptVersion];\n    }\n\n    ret = {\n        isTheBrowser: isTheBrowser,\n        actualVersion: actualVersion\n    };\n\n    return ret;\n}());\n</code></pre>\n\n<p>And access the properties like <code>IE.isTheBrowser</code> and <code>IE.actualVersion</code> (which is translated from internal values of JScript versions).</p>\n",
                    "is_accepted": true,
                    "score": 33
                },
                {
                    "body": "<p>Here's a method for getting the current IE or the IE Version:</p>\n\n<pre><code>function IE(v) {\n  return RegExp('msie' + (!isNaN(v)?('\\\\s'+v):''), 'i').test(navigator.userAgent);\n}\n</code></pre>\n\n<p>Here's how you can use it:</p>\n\n<pre><code>if(IE())   alert('Internet Explorer!');\nif(IE(10)) alert('Internet Explorer 10!');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                }
            ],
            "body": "<p>How can I make a message box appear on page load if the user is using IE 10?</p>\n\n<pre><code>function ieMessage() {\n    alert(\"Hello you are using I.E.10\");\n}\n</code></pre>\n\n<p>My webpage is a JSF facelet (XHTML).</p>\n",
            "last_activity_date": 1406238976,
            "question_id": 16135814,
            "score": 18,
            "tags": [
                "javascript"
            ],
            "title": "Check for IE 10"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>This isn't a bug. Grunt no longer supports globbing in <code>dest</code> using that configuration. However, you can use the \"files array\" format, like this:</p>\n\n<pre><code>files: [\n  {\n    expand: true,\n    cwd: 'src',\n    src: ['*.less'],\n    dest: 'assets/css/',\n    ext: '.css'\n  }\n]\n</code></pre>\n\n<p>Also, if you use a library like Bootstrap and you want to build each LESS file (component) into a separate, individual CSS file, it's not very easy to accomplish \"out of the box\". The reason is that each LESS file would need to have its own <code>@import</code> statements for <code>variables.less</code> and <code>mixins.less</code> (and a couple of others like <code>forms.less</code> and <code>navbar.less</code>, since they are referenced in other files).</p>\n\n<p>To make this really easy, try the Grunt plugin, <a href=\"https://github.com/assemble/assemble-less\">assemble-less</a> (disclaimer: I'm one of the maintainers of the project, and I'm also on the core team for less.js). assemble-less is a fork of grunt-contrib-less by Tyler Kellen, but it adds some experimental features that will accomplish what you need (if you want stability, please stick with grunt-contrib-less). For example:</p>\n\n<pre><code>// Project configuration.\ngrunt.initConfig({\n\n  less: {\n    // Compile all targeted LESS files individually\n    components: {\n      options: {\n        imports: {\n          // Use the new \"reference\" directive, e.g.\n          // @import (reference) \"variables.less\";\n          reference: [\n            \"bootstrap/mixins.less\", \n            \"bootstrap/variables.less\" \n          ]\n        }\n      },\n      files: [\n        {\n          expand: true,\n          cwd: 'bootstrap/less',\n          // Compile each LESS component excluding \"bootstrap.less\", \n          // \"mixins.less\" and \"variables.less\" \n          src: ['*.less', '!{boot,var,mix}*.less'],\n          dest: 'assets/css/',\n          ext: '.css'\n        }\n      ]\n    }\n  }\n  ...\n}\n</code></pre>\n\n<p>The <code>imports</code> feature essentially prepends the specified <code>@import</code> statements onto the source files. The <code>reference</code> option allows you to \"reference\" other less files while only outputting styles that are specifically referenced via mixins or <code>:extend</code>. You might need to reference a few more files than shown here, since Bootstrap cross-references styles from other components, like forms.less, buttons.less, etc. (See <a href=\"https://github.com/assemble/assemble-less/blob/master/Gruntfile.js\">the Gruntfile in assemble-less</a> for examples.)</p>\n\n<p>So after running the <code>assemble-less</code> task with the configuration in the example above, the <code>assets/css</code> folder would have:</p>\n\n<ul>\n<li><code>alerts.css</code></li>\n<li><code>badges.css</code></li>\n<li><code>breadcrumbs.css</code></li>\n<li><code>button-groups.css</code></li>\n<li><code>buttons.css</code></li>\n<li><code>carousel.css</code></li>\n<li><code>close.css</code></li>\n<li><code>code.css</code></li>\n<li><code>component-animations.css</code></li>\n<li><code>dropdowns.css</code></li>\n<li><code>forms.css</code></li>\n<li><code>glyphicons.css</code></li>\n<li><code>grid.css</code></li>\n<li><code>input-groups.css</code></li>\n<li><code>jumbotron.css</code></li>\n<li><code>labels.css</code></li>\n<li><code>list-group.css</code></li>\n<li><code>media.css</code></li>\n<li><code>modals.css</code></li>\n<li><code>navbar.css</code></li>\n<li><code>navs.css</code></li>\n<li><code>normalize.css</code></li>\n<li><code>pager.css</code></li>\n<li><code>pagination.css</code></li>\n<li><code>panels.css</code></li>\n<li><code>popovers.css</code></li>\n<li><code>print.css</code></li>\n<li><code>progress-bars.css</code></li>\n<li><code>responsive-utilities.css</code></li>\n<li><code>scaffolding.css</code></li>\n<li><code>tables.css</code></li>\n<li><code>theme.css</code></li>\n<li><code>thumbnails.css</code></li>\n<li><code>tooltip.css</code></li>\n<li><code>type.css</code></li>\n<li><code>utilities.css</code></li>\n<li><code>wells.css</code></li>\n</ul>\n\n<p>There are other features that should help you with this, but the <strong><code>imports</code></strong> feature is super powerful since it allows you to add directives directly to the Gruntfile. </p>\n",
                    "is_accepted": true,
                    "score": 34
                },
                {
                    "body": "<p>I already installed \"assemble-less\". I need to compile every <code>/common/*.less</code> files into another folder <code>/css/*.css</code>. But before the 'less' compilation I need to include first <code>variables.less</code> and <code>mixins.less</code>. </p>\n\n<p><code>require</code> doesn't seem to work ?\nCompilation return error on the first mixin found :</p>\n\n<p><code>.box-shadow() is undefined in /xxx.less on line 19 and column 2...</code></p>\n\n<pre><code>module.exports = function(grunt) {\n\n    grunt.initConfig({\n\n        pkg: grunt.file.readJSON('package.json'),\n\n        less: {\n\n            development: {\n                options: {\n                concat: false,\n                require: [\"../common/mixins.less\"]\n            },\n                src:  '../common/*.less',\n                dest: 'css/'\n            }\n        },\n        shell: {\n            styledocco: {\n                command: 'styledocco -n \"es_styledoc\" css'              \n            }\n        },\n        watch: {\n            options: {\n                spawn: false,\n                livereload: true,\n            },\n            gruntfile: {\n                files: ['css/README.md','Gruntfile.js'],\n                //tasks: ['recess','shell']\n                tasks: ['less','shell']\n            },                  \n            stylesheets: {\n                files: ['../common/**/*.less', '../../layout/**/*.less' ],\n                //tasks: ['recess','shell']\n                tasks: ['less','shell']\n            }           \n        }   \n\n    });\n    grunt.loadNpmTasks('grunt-shell');  \n    grunt.loadNpmTasks('grunt-contrib-watch');\n    //grunt.loadNpmTasks('grunt-recess');\n    grunt.loadNpmTasks('assemble-less');\n    //grunt.loadNpmTasks('grunt-contrib-less'); \n\n    grunt.registerTask('default', [\n        //'recess'      \n        'less',\n        //'copy',   \n        'shell',        \n    ]);\n    grunt.registerTask('dev', ['watch']);\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I use grunt to convert all my less files into css files,using this:</p>\n\n<pre><code>less: {\n  development: {\n    files: {\n      \"css/*.css\": \"less/*.less\"\n    }\n  }\n}\n</code></pre>\n\n<p>This worked on version 0.3.0, but now that I have upgraded to v0.4.0 it doesn't work anymore.</p>\n\n<p>The following code (not using * in the destination) works on both versions, so the problem is with the star on the destination file.</p>\n\n<pre><code>less: {\n  development: {\n    files: {\n      \"css/test.css\": \"less/*.less\"\n    }\n  }\n}\n</code></pre>\n\n<p>Any idea ?</p>\n",
            "last_activity_date": 1413628358,
            "question_id": 15597839,
            "score": 18,
            "tags": [
                "javascript",
                "less",
                "gruntjs",
                "glob"
            ],
            "title": "grunt replace all less files into css files"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yep, take a look at the documentation: <a href=\"http://requirejs.org/docs/api.html#config\">http://requirejs.org/docs/api.html#config</a></p>\n\n<p>You need to call require.config() and set baseUrl.  Based on your example:</p>\n\n<pre><code>&lt;script src=\"scripts/require.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    require.config({\n        baseUrl: \"scripts\"\n    });\n\n    require( [ /*...*/ ], function(  /*...*/ ) {\n        /*...*/\n    });\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 32
                }
            ],
            "body": "<p>Can I use Require.js in development without using the <code>data-main</code> attribute to load in my initial script? ie. <code>&lt;script data-main=\"scripts/main\" src=\"scripts/require.js\"&gt;&lt;/script&gt;</code> I'm finding it difficult for me to work with this attribute in my development environment.</p>\n",
            "last_activity_date": 1383171526,
            "question_id": 12865630,
            "score": 18,
            "tags": [
                "javascript",
                "requirejs"
            ],
            "title": "Using Require.js without data-main"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Try to make use of the Image.complete property.</p>\n\n<pre><code>var img = new Image(w,h)\nimg.src = \"http://...\";\n</code></pre>\n\n<p>Now check periodically if <code>img.complete</code> is true and call some fallback mechanism shuold it still be <code>false</code> after n seconds.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can add an oneror handler:</p>\n\n<pre><code>&lt;img src=\"http://example.com/somejpg.jpg\"\n    onerror='this.onerror = null; this.src=\"./oops.gif\"' /&gt;\n</code></pre>\n\n<p>Note setting onerror to null in the handler so that the browser doesn't die if oops.gif can't be loaded for some reason.</p>\n",
                    "is_accepted": true,
                    "score": 30
                },
                {
                    "body": "<p>I use another method, because sometimes onerror fails me (I don't know exactly why):</p>\n\n<p>I Just set a background image via CSS rule, you need a min-height otherwise you can't see that propely</p>\n\n<pre><code>img.mayFail {\n    background: url('./oops.png') no-repeat center 0;\n    min-height: 200px;\n}\n</code></pre>\n\n<p>note that only the images with the 'mayFail' class get this treatment.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>What is the best way to set up a local fallback image if the external image does not load or takes too long to load.</p>\n",
            "last_activity_date": 1312195556,
            "question_id": 1588854,
            "score": 18,
            "tags": [
                "javascript",
                "jquery",
                "image",
                "fallback"
            ],
            "title": "Fallback image and timeout - External Content. Javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Try it like :</p>\n\n<pre><code>File.save(csvInput, function (content) {\n    var hiddenElement = document.createElement('a');\n\n    hiddenElement.href = 'data:attachment/csv,' + encodeURI(content);\n    hiddenElement.target = '_blank';\n    hiddenElement.download = 'myFile.csv';\n    hiddenElement.click();\n});\n</code></pre>\n\n<p>based on the most excellent answer in <a href=\"http://stackoverflow.com/questions/17836273/export-javascript-data-to-csv-file-without-server-interaction\">this question</a> </p>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>The last answer worked for me for a few months, then stopped recognizing the filename, as adeneo commented... Here is a fresh answer which is working for me:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/24080018/download-file-from-a-webapi-method-using-angularjs\">Download file from a WebAPI method using angularjs</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I used the below solution and it worked for me.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> if (window.navigator.msSaveOrOpenBlob) {\r\n   var blob = new Blob([decodeURIComponent(encodeURI(result.data))], {\r\n     type: \"text/csv;charset=utf-8;\"\r\n   });\r\n   navigator.msSaveBlob(blob, 'filename.csv');\r\n } else {\r\n   var a = document.createElement('a');\r\n   a.href = 'data:attachment/csv;charset=utf-8,' + encodeURI(result.data);\r\n   a.target = '_blank';\r\n   a.download = 'filename.csv';\r\n   document.body.appendChild(a);\r\n   a.click();\r\n }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>my API controller is returning a csv file as seen below:</p>\n\n<pre><code>    [HttpPost]\n    public HttpResponseMessage GenerateCSV(FieldParameters fieldParams)\n    {\n        var output = new byte[] { };\n        if (fieldParams!= null)\n        {\n            using (var stream = new MemoryStream())\n            {\n                this.SerializeSetting(fieldParams, stream);\n                stream.Flush();\n                output = stream.ToArray();\n            }\n        }\n        var result = new HttpResponseMessage(HttpStatusCode.OK) { Content = new ByteArrayContent(output) };\n        result.Content.Headers.ContentType = new MediaTypeHeaderValue(\"application/octet-stream\");\n        result.Content.Headers.ContentDisposition = new ContentDispositionHeaderValue(\"attachment\")\n        {\n            FileName = \"File.csv\"\n        };\n        return result;\n    }\n</code></pre>\n\n<p>and my angularjs that will send and receive the csv file is shown below:</p>\n\n<pre><code>$scope.save = function () {\n            var csvInput= extractDetails();\n\n            // File is an angular resource. We call its save method here which\n            // accesses the api above which should return the content of csv\n            File.save(csvInput, function (content) {\n                var dataUrl = 'data:text/csv;utf-8,' + encodeURI(content);\n                var hiddenElement = document.createElement('a');\n                hiddenElement.setAttribute('href', dataUrl);\n                hiddenElement.click();\n            });\n        };\n</code></pre>\n\n<p>In chrome, it downloads a file which is called <code>document</code> but has no file type extension.\nThe content of the file is <code>[Object object]</code>.</p>\n\n<p>In IE10, nothing is downloaded.</p>\n\n<p>What could i do to fix this? </p>\n\n<p>UPDATE:\nThis might work for you guys out there with the same problem: <a href=\"http://stackoverflow.com/questions/20303988/generate-csv-from-mvc-web-api-httpresponse-and-receive-it-by-angularjs-for-downl/20917641#20917641\">link</a></p>\n",
            "last_activity_date": 1419908082,
            "question_id": 20300547,
            "score": 17,
            "tags": [
                "javascript",
                "angularjs",
                "csv",
                "asp.net-web-api",
                "httpresponse"
            ],
            "title": "download csv file from web api in angular js"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Use jQuery's plugin <a href=\"http://uploadify.com\" rel=\"nofollow\">uploadify</a></p>\n\n<p>It's great plugin which has many options, and auto-upload, too</p>\n\n<pre><code>$(document).ready(function() {\n  $('#file_upload').uploadify({\n    'uploader'  : '/uploadify/uploadify.swf',\n    'script'    : '/uploadify/uploadify.php',\n    'cancelImg' : '/uploadify/cancel.png',\n    'folder'    : '/uploads',\n    'auto'      : true\n  });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Assuming you're using a form:</p>\n\n<pre><code>// select the file input (using a id would be faster)\n$('input[type=file]').change(function() { \n    // select the form and submit\n    $('form').submit(); \n});\n</code></pre>\n\n<p><strong>EDIT:</strong> <em>To keep this answer up-to-date:</em></p>\n\n<p>There is a nice way to upload files via AJAX without hacks described here:\n<a href=\"http://net.tutsplus.com/tutorials/javascript-ajax/uploading-files-with-ajax/\">http://net.tutsplus.com/tutorials/javascript-ajax/uploading-files-with-ajax/</a></p>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>just set the auto to true.. 'auto':true</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>After having chosen a file for upload, I want the file to be uploaded to database without the click of a button. How is this done using jQuery?<br></p>\n\n<p>I would like to choose a file like this:\n<a href=\"http://i.stack.imgur.com/0408T.gif\">http://i.stack.imgur.com/0408T.gif</a></p>\n\n<pre><code>&lt;input type=\"file\" valign=\"baseline\" /&gt;\n</code></pre>\n",
            "last_activity_date": 1353494217,
            "question_id": 6774143,
            "score": 17,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Start upload after choosing a file, using jQuery."
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><code>document.location.href</code> will give you the current URL, which you can then manipulate using JavaScript's string functions.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>For this I like to put <code>&lt;link&gt;</code> elements in the page's <code>&lt;head&gt;</code>, containing the URLs to use for requests. They can be generated by your server-side language so they always point to the right view:</p>\n\n<pre><code>&lt;link id=\"link-action-1\" href=\"${reverse_url ('action_1')}\"/&gt;\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>&lt;link id=\"link-action-1\" href=\"/my/web/root/action-1/\"/&gt;\n</code></pre>\n\n<p>and can be retrieved by Javascript with:</p>\n\n<pre><code>document.getElementById ('link-action-1').href;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>There's no way that the client can determine the webapp root without being told by the server as it has no knowledge of the server's configuration. One option you can try is to use the base element inside the head element, getting the server to generate it dynamically rather than hardcoding it (so it shows the relevant URL for each server):</p>\n\n<pre><code>&lt;base href=\"http://path/to/webapp/root/\" /&gt;\n</code></pre>\n\n<p>All URLs will then be treated as relative to this. You would therefore simply make your request to /data.json. You do however need to ensure that all other links in the application bear this in mind.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I include the following code in my libraries main entry point (main.php):</p>\n\n<pre><code>/**\n * Build current url, depending on protocal (http/https),\n * port, server name and path suffix\n */\n$site_root = 'http';\nif (isset($_SERVER[\"HTTPS\"]) &amp;&amp; $_SERVER[\"HTTPS\"] == \"on\") \n\t$site_root .= \"s\";\n$site_root .= \"://\" . $_SERVER[\"SERVER_NAME\"];\nif ($_SERVER[\"SERVER_PORT\"] != \"80\")\n\t$site_root .= \":\" . $_SERVER[\"SERVER_PORT\"];\n$site_root .= $g_config[\"paths\"][\"site_suffix\"];\n\n$g_config[\"paths\"][\"site_root\"] = $site_root;\n</code></pre>\n\n<p>$g_config is a global array containing configuration options. So site_suffix might look like: \"/sites_working/thesite/public_html\" on your development box, and just \"/\" on a server with a virtual host (domain name).</p>\n\n<p>This method is also good, because if somebody types in the IP address of your development box, it will use that same IP address to build the path to the javascript folder instead of something like \"localhost,\" and if you use \"localhost\" it will use \"localhost\" to build the URL.</p>\n\n<p>And because it also detects SSL, you wont have to worry about weather your resources will be sent over HTTP or HTTPS if you ever add SSL support to your server.</p>\n\n<p>Then, in your template, either use</p>\n\n<pre><code>&lt;link id=\"site_root\" href=\"&lt;?php echo $g_config[\"paths\"][\"site_root\"] ?&gt;\"/&gt;\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>&lt;script type = \"text/javascript\"&gt;\nvar SiteRoot = \"&lt;?php echo $g_config[\"paths\"][\"site_root\"]; ?&gt;\";\n&lt;/script&gt;\n</code></pre>\n\n<p>I suppose the latter would be faster.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If the script knows its own filename, you can use document.<strong>getElementsByTagName</strong>().  Iterate through the list until you find the script that matches yours, and extract the full (or relative) url that way. </p>\n\n<p>Here's an example:</p>\n\n<pre><code>function getScriptUrl ( name ) {\n    var scripts = document.getElementsByTagName('script');\n    var re = RegExp(\"(\\/|^)\" + name + \"$\");\n    var src;\n    for( var i = 0; i &lt; scripts.length; i++){\n        src = scripts[i].getAttribute('src');\n        if( src.match(re) )\n            return src;\n    }\n    return null;\n}\n\nconsole.log( 'found ' + getScriptUrl('demo.js') );\n</code></pre>\n\n<p>Take into consideration that this approach is subject to filename collisions.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have some code in a javascript file that needs to send queries back to the server. The question is, how do I find the url for the script that I am in, so I can build a proper request url for ajax.</p>\n\n<p>Ie. the same script is included on /, /help /whatever and so on, while it will always need to request from /data.json. Additionally, the same site is run on different servers, where the / folder might be placed differently. I have means to resolve the relative url where I include the Javascript (ez-publish template), but not within the javascript file itself.</p>\n\n<p>Are there small scripts that will work on all browsers made for this?</p>\n",
            "last_activity_date": 1314651907,
            "question_id": 108853,
            "score": 17,
            "tags": [
                "javascript",
                "html",
                "url"
            ],
            "title": "Relative urls for Javascript files"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The regular expression for this is really simple.  Just use a character class.  The hyphen is a special character in character classes, so it needs to be first:</p>\n\n<pre><code>/[-!$%^&amp;*()_+|~=`{}\\[\\]:\";'&lt;&gt;?,.\\/]/\n</code></pre>\n\n<p>You also need to escape the other regular expression metacharacters.</p>\n\n<p><strong>Edit:</strong>\nThe hyphen is special because it can be used to represent a range of characters.  This same character class can be simplified with ranges to this:</p>\n\n<pre><code>/[$-/:-?{-~!\"^_`\\[\\]]/\n</code></pre>\n\n<p>There are three ranges.  '$' to '/', ':' to '?', and '{' to '~'.  the last string of characters can't be represented more simply with a range: !\"^_`[].  </p>\n\n<p>Use an <a href=\"http://www.asciitable.com/\">ACSII table</a> to find ranges for character classes.</p>\n",
                    "is_accepted": true,
                    "score": 51
                },
                {
                    "body": "<ol>\n<li><p>See code below, you'll have to do it for each character and escape the special characters.</p>\n\n<p>/(!|\\$|%|\\^)/.test(password)</p></li>\n<li><p>Another solution would be to put the characters in an array and loop through each one and check if it's in the string.</p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": -3
                }
            ],
            "body": "<p>I'm trying to create a Regex test in JavaScript that will test a string to contain any of these characters:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>!$%^&amp;*()_+|~-=`{}[]:\";'&lt;&gt;?,./\n</code></pre>\n\n<p><strong>More Info If You're Interested :)</strong></p>\n\n<p>It's for a pretty cool password change application I'm working on. In case you're interested here's the rest of the code.</p>\n\n<p>I have a table that lists password requirements and as end-users types the new password, it will test an array of Regexes and place a checkmark in the corresponding table row if it... checks out :) I just need to add this one in place of the 4th item in the <code>validation</code> array.</p>\n\n<pre><code>var validate = function(password){\n    valid = true;\n\n    var validation = [\n        RegExp(/[a-z]/).test(password), RegExp(/[A-Z]/).test(password), RegExp(/\\d/).test(password), \n        RegExp(/\\W|_/).test(password), !RegExp(/\\s/).test(password), !RegExp(\"12345678\").test(password), \n        !RegExp($('#txtUsername').val()).test(password), !RegExp(\"cisco\").test(password), \n        !RegExp(/([a-z]|[0-9])\\1\\1\\1/).test(password), (password.length &gt; 7)\n    ]\n\n    $.each(validation, function(i){\n        if(this == true)\n            $('.form table tr').eq(i+1).attr('class', 'check');\n        else{\n            $('.form table tr').eq(i+1).attr('class', '');\n            valid = false\n        }\n    });\n\n    return(valid);\n\n}\n</code></pre>\n\n<p><strong>Yes, there's also corresponding server-side validation!</strong></p>\n",
            "last_activity_date": 1365756792,
            "question_id": 8359566,
            "score": 16,
            "tags": [
                "javascript",
                "jquery",
                "regex"
            ],
            "title": "Regex to Match Symbols: !$%^&amp;*()_+|~-=`{}[]:&quot;;&#39;&lt;&gt;?,./"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You could encode to Base64 and then implement a simple lossless compression algorithm, such as run-length encoding or Golomb encoding. This shouldn't be too hard to do and might give you a bit of ompression. </p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Golomb_coding#Encoding\">Golomb encoding</a></p>\n\n<p>I also found JsZip. I guess you could check the code and only use the algorithm, if it is compatible.</p>\n\n<p>Hope this helps.</p>\n\n<p><a href=\"http://jszip.stuartk.co.uk/\">http://jszip.stuartk.co.uk/</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><strong>\"when stored in localStorage, do they stay unicode?\"</strong></p>\n\n<p>The <a href=\"http://www.w3.org/TR/webstorage/#the-storage-interface\">Web Storage working draft</a> defines local storage values as DOMString. <a href=\"http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-C74D1578\">DOMStrings are defined</a> as sequences of 16-bit units using the <a href=\"http://en.wikipedia.org/wiki/UTF-16/UCS-2\">UTF-16 encoding</a>. So yes, they stay Unicode.</p>\n\n<p><strong>is there a way I could compress the string to use all of the data in a unicode byte</strong>...<strong>?</strong></p>\n\n<p>\"Base32k\" encoding should give you 15 bits per character.  A base32k-type encoding takes advantage of the full 16 bits in UTF-16 characters, but loses a bit to avoid tripping on double-word characters. If your original data is base64 encoded, it only uses 6 bits per character. Encoding those 6 bits into base32k should compress it to 6/15 = 40% of its original size. See <a href=\"http://lists.xml.org/archives/xml-dev/200307/msg00505.html\">http://lists.xml.org/archives/xml-dev/200307/msg00505.html</a> and <a href=\"http://lists.xml.org/archives/xml-dev/200307/msg00507.html\">http://lists.xml.org/archives/xml-dev/200307/msg00507.html</a>.</p>\n\n<p>For even further reduction in size, you can decode your base64 strings into their full 8-bit binary, compress them with some known compression algorithm (e.g. see <a href=\"http://stackoverflow.com/questions/294297/javascript-implementation-of-gzip\">javascript implementation of gzip</a>), and then base32k encode the compressed output.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/q/294297/143739\">This Stackoverflow Question</a> has an answer that may help. There is a link to a JavaScript compression library.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I recently had to save huge JSON objects in localStorage.</p>\n\n<p>Firstly, yeah, they do stay unicode. But don't try to save something like an object straight to local storage. It needs to be a string.</p>\n\n<p>Here are some compression techniques I used (that seemed to work well in my case), before converting my object to a string:</p>\n\n<p>Any numbers can be converted from a base of 10 to a base of 36 by doing something like (+num).toString(36). For example the number 48346942 will then be \"ss8qm\" which is (including the quotes) 1 character less. It is possible that the addition of the quotes will actually add to the character count. So the larger the number the better the payoff. To convert it back you would do something like parseInt(\"ss8qm\", 36).</p>\n\n<p>If you are storing an object with any key that will repeat it's best to create a lookup object where you assign a shortened key to the original. So, for the sake of example, if you have:</p>\n\n<pre><code>{\n    name: 'Frank',\n    age: 36,\n    family: [{\n        name: 'Luke',\n        age: 14,\n        relation: 'cousin'\n    }, {\n        name: 'Sarah',\n        age: 22,\n        relation: 'sister'\n    }, {\n        name: 'Trish',\n        age: 31,\n        relation: 'wife'\n    }]\n}\n</code></pre>\n\n<p>Then you could make it:</p>\n\n<pre><code>{\n    // original w/ shortened keys\n    o: {    \n        n: 'Frank',\n        a: 36,\n        f: [{\n            n: 'Luke',\n            a: 14,\n            r: 'cousin'\n        }, {\n            n: 'Sarah',\n            a: 22,\n            r: 'sister'\n        }, {\n            n: 'Trish',\n            a: 31,\n            r: 'wife'\n        }]\n    },\n\n    // lookup\n    l: {\n        n: 'name',\n        a: 'age',\n        r: 'relation',\n        f: 'family'\n    }\n}\n</code></pre>\n\n<p>Again, this pays off with size. And repetition. In my case it worked really well. But it depends on the subject.</p>\n\n<p>All of these require a function to shrink and one to expand back out.</p>\n\n<p>Also, I would recommend creating a class that is used to store &amp; retrieve data from local storage. I ran into there not being enough space. So the writes would fail. Other sites may also write to local storage which can take away some of that space. See <a href=\"http://stackoverflow.com/questions/2603682/is-anyone-else-receiving-a-quota-exceeded-err-on-their-ipad-when-accessing-locals\">this post</a> for more details.</p>\n\n<p>What I did, in the class I built, was first attempt to remove any item with the given key. Then attempt the setItem. These two lines are wrapped with a try catch. If it fails then it assumes the storage is full. It will then clear <em>everything</em> in localStorage in an attempt to make room for it. It will then, after the clear, attempt to setItem again. This, too, is wrapped in a try catch. Since it may fail if the string itself is larger than what localStorage can handle.</p>\n\n<p>EDIT: Also, you will come across the LZW compression a lot of people mention. I had implemented that, and it worked for small strings. But with large strings it would begin using invalid characters which resulted in corrupt data. So just be careful, and if you go in that direction test test test</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Base64 compression for javascript is very well explained <a href=\"http://j0rr1t.blogspot.com.es/2013/02/optimal-compression-for-client-side.html\" rel=\"nofollow\">at this blog</a>. Implementation is also <a href=\"https://github.com/venalis/VNLS/blob/master/src/vnls.string.js\" rel=\"nofollow\">available here</a> when using entire <a href=\"https://github.com/venalis/VNLS\" rel=\"nofollow\">framework</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using <code>localStorage</code> in a project, and it will need to store <em>lots</em> of data, mostly of type int, bool and string. I know that javascript strings are unicode, but when stored in <code>localStorage</code>, do they stay unicode? If so, is there a way I could compress the string to use all of the data in a unicode byte, or should i just use base64 and have less compression? All of the data will be stored as one large string.</p>\n\n<p>EDIT: Now that I think about it, base64 wouldn't do much compression at all, the data is already in base 64, <code>a-zA-Z0-9 ;:</code> is 65 characters.</p>\n",
            "last_activity_date": 1370939957,
            "question_id": 6865185,
            "score": 16,
            "tags": [
                "javascript",
                "unicode",
                "compression",
                "base64",
                "local-storage"
            ],
            "title": "javascript string compression with localStorage"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The timestamp is contained in the first 4 bytes of a mongoDB id (see: <a href=\"http://www.mongodb.org/display/DOCS/Object+IDs\">http://www.mongodb.org/display/DOCS/Object+IDs</a>).</p>\n\n<p>So your timestamp is:</p>\n\n<pre><code>timestamp = _id.toString().substring(0,8)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>date = new Date( parseInt( timestamp, 16 ) * 1000 )\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>As of Mongo 2.2, this has changed (see: <a href=\"http://docs.mongodb.org/manual/core/object-id/\">http://docs.mongodb.org/manual/core/object-id/</a>)</p>\n\n<p>You can do this all in one step inside of the mongo shell:</p>\n\n<pre><code>document._id.getTimestamp();\n</code></pre>\n\n<p>This will return a Date object.</p>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<h2>Get the timestamp from a mongoDB collection item, with walkthrough:</h2>\n\n<p>The timestamp is buried deep within the bowels of the mongodb object.  Follow along and stay frosty.</p>\n\n<p><strong>Login to mongodb shell</strong></p>\n\n<pre><code>ubuntu@ip-10-0-1-223:~$ mongo 10.0.1.223\nMongoDB shell version: 2.4.9\nconnecting to: 10.0.1.223/test\n</code></pre>\n\n<p><strong>Create your database by inserting items</strong></p>\n\n<pre><code>&gt; db.penguins.insert({\"penguin\": \"skipper\"})\n&gt; db.penguins.insert({\"penguin\": \"kowalski\"})\n&gt; \n</code></pre>\n\n<p><strong>Check if it is there:</strong></p>\n\n<pre><code>&gt; show dbs\nlocal      0.078125GB\npenguins   0.203125GB\n</code></pre>\n\n<p><strong>Lets make that database the one we are on now</strong></p>\n\n<pre><code>&gt; use penguins\nswitched to db penguins\n</code></pre>\n\n<p><strong>Get yourself an ISODate:</strong></p>\n\n<pre><code>&gt; ISODate(\"2013-03-01\")\nISODate(\"2013-03-01T00:00:00Z\")\n</code></pre>\n\n<p><strong>Print some json:</strong></p>\n\n<pre><code>&gt; printjson({\"foo\":\"bar\"})\n{ \"foo\" : \"bar\" }\n</code></pre>\n\n<p><strong>Get the rows back:</strong></p>\n\n<pre><code>&gt; db.penguins.find()\n{ \"_id\" : ObjectId(\"5498da1bf83a61f58ef6c6d5\"), \"penguin\" : \"skipper\" }\n{ \"_id\" : ObjectId(\"5498da28f83a61f58ef6c6d6\"), \"penguin\" : \"kowalski\" }\n</code></pre>\n\n<p><strong>We only want to inspect one row</strong></p>\n\n<pre><code>&gt; db.penguins.findOne()\n{ \"_id\" : ObjectId(\"5498da1bf83a61f58ef6c6d5\"), \"penguin\" : \"skipper\" }\n</code></pre>\n\n<p><strong>Get the _id of that row:</strong></p>\n\n<pre><code>&gt; db.penguins.findOne()._id\nObjectId(\"5498da1bf83a61f58ef6c6d5\")\n</code></pre>\n\n<p><strong>Get the timestamp from the _id object:</strong></p>\n\n<pre><code>&gt; db.penguins.findOne()._id.getTimestamp()\nISODate(\"2014-12-23T02:57:31Z\")\n</code></pre>\n\n<p><strong>Get the timestamp of the last added record:</strong></p>\n\n<pre><code>&gt; db.penguins.find().sort({_id:-1}).limit(1).forEach(function (doc){ print(doc._id.getTimestamp()) })\nTue Dec 23 2014 03:04:53 GMT+0000 (UTC)\n</code></pre>\n\n<p><strong>Example loop, print strings:</strong></p>\n\n<pre><code>&gt; db.penguins.find().forEach(function (doc){ print(\"hi\") })\nhi\nhi\n</code></pre>\n\n<p><strong>Example loop, same as find(), print the rows</strong></p>\n\n<pre><code>&gt; db.penguins.find().forEach(function (doc){ printjson(doc) })\n{ \"_id\" : ObjectId(\"5498dbc9f83a61f58ef6c6d7\"), \"penguin\" : \"skipper\" }\n{ \"_id\" : ObjectId(\"5498dbd5f83a61f58ef6c6d8\"), \"penguin\" : \"kowalski\" }\n</code></pre>\n\n<p><strong>Loop, get the system date:</strong></p>\n\n<pre><code>&gt; db.penguins.find().forEach(function (doc){ doc[\"timestamp_field\"] = new Date(); printjson(doc); })\n{\n        \"_id\" : ObjectId(\"5498dbc9f83a61f58ef6c6d7\"),\n        \"penguin\" : \"skipper\",\n        \"timestamp_field\" : ISODate(\"2014-12-23T03:15:56.257Z\")\n}\n{\n        \"_id\" : ObjectId(\"5498dbd5f83a61f58ef6c6d8\"),\n        \"penguin\" : \"kowalski\",\n        \"timestamp_field\" : ISODate(\"2014-12-23T03:15:56.258Z\")\n}\n</code></pre>\n\n<p><strong>Loop, get the date of each row:</strong></p>\n\n<pre><code>&gt; db.penguins.find().forEach(function (doc){ doc[\"timestamp_field\"] = doc._id.getTimestamp(); printjson(doc); })\n{\n        \"_id\" : ObjectId(\"5498dbc9f83a61f58ef6c6d7\"),\n        \"penguin\" : \"skipper\",\n        \"timestamp_field\" : ISODate(\"2014-12-23T03:04:41Z\")\n}\n{\n        \"_id\" : ObjectId(\"5498dbd5f83a61f58ef6c6d8\"),\n        \"penguin\" : \"kowalski\",\n        \"timestamp_field\" : ISODate(\"2014-12-23T03:04:53Z\")\n}\n</code></pre>\n\n<p><strong>Filter down to just the dates</strong></p>\n\n<pre><code>&gt; db.penguins.find().forEach(function (doc){ doc[\"timestamp_field\"] = doc._id.getTimestamp(); printjson(doc[\"timestamp_field\"]); })\nISODate(\"2014-12-23T03:04:41Z\")\nISODate(\"2014-12-23T03:04:53Z\")\n</code></pre>\n\n<p><strong>Filterdown further for just the strings:</strong></p>\n\n<pre><code>&gt; db.penguins.find().forEach(function (doc){ doc[\"timestamp_field\"] = doc._id.getTimestamp(); print(doc[\"timestamp_field\"]) })\nTue Dec 23 2014 03:04:41 GMT+0000 (UTC)\nTue Dec 23 2014 03:04:53 GMT+0000 (UTC)\n</code></pre>\n\n<p><strong>Print a bare date, get its type, assign a date:</strong></p>\n\n<pre><code>&gt; print(new Date())\nTue Dec 23 2014 03:30:49 GMT+0000 (UTC)\n&gt; typeof new Date()\nobject\n&gt; new Date(\"11/21/2012\");\nISODate(\"2012-11-21T00:00:00Z\")\n</code></pre>\n\n<p><strong>Convert instance of date to yyyy-MM-dd</strong></p>\n\n<pre><code>&gt; print(d.getFullYear()+\"-\"+(d.getMonth()+1)+\"-\"+d.getDate())\n2014-1-1\n</code></pre>\n\n<p><strong>get it in yyyy-MM-dd format for each row:</strong></p>\n\n<pre><code>&gt; db.penguins.find().forEach(function (doc){ d = doc._id.getTimestamp(); print(d.getFullYear()+\"-\"+(d.getMonth()+1)+\"-\"+d.getDate()) })\n2014-12-23\n2014-12-23\n</code></pre>\n\n<p><strong>the toLocaleDateString is briefer:</strong></p>\n\n<pre><code>&gt; db.penguins.find().forEach(function (doc){ d = doc._id.getTimestamp(); print(d.toLocaleDateString()) })\nTuesday, December 23, 2014\nTuesday, December 23, 2014\n</code></pre>\n\n<p><strong>Get each row in yyyy-MM-dd HH:mm:ss format:</strong></p>\n\n<pre><code>&gt; db.penguins.find().forEach(function (doc){ d = doc._id.getTimestamp(); print(d.getFullYear()+\"-\"+(d.getMonth()+1)+\"-\"+d.getDate() + \" \" + d.getHours() + \":\" + d.getMinutes() + \":\" + d.getSeconds()) })\n2014-12-23 3:4:41\n2014-12-23 3:4:53\n</code></pre>\n\n<p><strong>Get the date of the last added row:</strong></p>\n\n<pre><code>&gt; db.penguins.find().sort({_id:-1}).limit(1).forEach(function (doc){ print(doc._id.getTimestamp()) })\nTue Dec 23 2014 03:04:53 GMT+0000 (UTC)\n</code></pre>\n\n<p><strong>Drop the database when you are done:</strong></p>\n\n<pre><code>&gt; use penguins\nswitched to db penguins\n&gt; db.dropDatabase()\n{ \"dropped\" : \"penguins\", \"ok\" : 1 }\n</code></pre>\n\n<p><strong>Make sure it's gone:</strong></p>\n\n<pre><code>&gt; show dbs\nlocal   0.078125GB\ntest    (empty)\n</code></pre>\n\n<p>The aliens are coming, only your MongoDB proficiency can save us.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here is a quick php function for you all ;)</p>\n\n<pre><code>public static function makeDate($mongoId) {\n\n    $timestamp = intval(substr($mongoId, 0, 8), 16);\n\n    $datum = (new DateTime())-&gt;setTimestamp($timestamp);\n\n    return $datum-&gt;format('d/m/Y');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How do I get the timestamp from the MongoDB id?</p>\n",
            "last_activity_date": 1420990693,
            "question_id": 6452021,
            "score": 16,
            "tags": [
                "javascript",
                "mongodb"
            ],
            "title": "Getting timestamp from mongodb id"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I had to create a new style rule in the loaded style sheets. Seems to work great in chrome 5.0.342.9 beta (at least)</p>\n\n<pre><code>var lastSheet = document.styleSheets[document.styleSheets.length - 1];\nlastSheet.insertRule(\"@-webkit-keyframes \" + newName + \" { from { top: 0px; } to {top: \" + newHeight + \"px;} }\", lastSheet.cssRules.length);\n</code></pre>\n\n<p>and then assign the animation name using element.style</p>\n\n<pre><code>element.style.webkitAnimationName = newName;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>I wish I could credit for this, but here's a link to someone who managed to modify an existing animation, as opposed to creating a new animation.</p>\n\n<p><a href=\"http://gitorious.org/webkit/webkit/blobs/438fd0b118bd9c2c82b6ab23956447be9c24f136/LayoutTests/animations/change-keyframes.html\">http://gitorious.org/webkit/webkit/blobs/438fd0b118bd9c2c82b6ab23956447be9c24f136/LayoutTests/animations/change-keyframes.html</a></p>\n\n<p>I've ran this to verify that it does, indeed, work.</p>\n\n<h3>EDIT</h3>\n\n<p>So that link is dead and I don't trust Gitorious to maintain URLS anymore so here's a link to a JSFiddle I created to answer a similar question: <a href=\"http://jsfiddle.net/russelluresti/RHhBz/3/\">http://jsfiddle.net/russelluresti/RHhBz/3/</a></p>\n\n<p>This contains script to find an existing animation, update its values, and assign it to an element to make the animation occur. I have tested this in Chrome 18 and Safari 5.1</p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I would like to use webkit animation with @-webkit-keyframes but being able to dynamically modify the values on the rule, so that the animation is not static.\nAll the samples I found use a static @-webkit-frames, is there a way to customize with Javascript?</p>\n",
            "last_activity_date": 1335500419,
            "question_id": 2495829,
            "score": 16,
            "tags": [
                "javascript",
                "css",
                "webkit"
            ],
            "title": "dynamically modify webkit animation with javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I don't know if you've happened to see this particular question in the <a href=\"https://github.com/kripken/emscripten/wiki/FAQ\" rel=\"nofollow\">FAQ</a>, but in case you haven't:</p>\n\n<blockquote>\n  <p>Q. How do I link against system libraries like SDL, boost, etc.?</p>\n  \n  <p>A. System libraries that are included with emscripten - libc, libc++ (C++ STL) and SDL - are automatically included when you compile (and just the necessary parts of them). You don't even need -lSDL, unlike other compilers (but -lSDL won't hurt either).</p>\n  \n  <p>Other libraries not included with emscripten, <strong>like boost</strong>, you would need to compile yourself and link with your program, just as if they were a module in your project. For example, see how <a href=\"https://github.com/kripken/BananaBread/blob/master/cube2/src/web/Makefile\" rel=\"nofollow\">BananaBread links in libz</a>. (Note that in the specific case of boost, if you only need the boost headers, you don't need to compile anything.)</p>\n  \n  <p>Another option for libraries not included is to implement them as a JS library, like emscripten does for libc (minus malloc) and SDL (but not libc++ or malloc). See --js-library in emcc.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You could try to configure Boost libraries specifying <code>gcc</code> as toolset, as Emscripten recommends itself <a href=\"https://github.com/kripken/emscripten/wiki/Building-Projects\" rel=\"nofollow\">as being a drop-in replacement for gcc</a>. Also, I think it's better if you build Boost as static libraries for this case. Keep in mind that most of the Boost libraries are header-only, because they only define template classes/functions.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I finally managed to compile the needed libraries with emscripten. Here are the steps I followed.</p>\n\n<h1>Changes in emscripten</h1>\n\n<p>Edit <code>system/include/libcxx/climits</code> to add the following definitions (see <a href=\"http://github.com/kripken/emscripten/issues/531\">http://github.com/kripken/emscripten/issues/531</a>):</p>\n\n<pre><code>#ifndef CHAR_BIT\n# define CHAR_BIT __CHAR_BIT__\n#endif\n\n#ifndef CHAR_MIN\n# define CHAR_MIN (-128)\n#endif\n\n#ifndef CHAR_MAX\n# define CHAR_MAX 127\n#endif\n\n#ifndef SCHAR_MIN\n# define SCHAR_MIN (-128)\n#endif\n\n#ifndef SCHAR_MAX\n# define SCHAR_MAX 127\n#endif\n\n#ifndef UCHAR_MAX\n\n# define UCHAR_MAX 255\n#endif\n\n#ifndef SHRT_MIN\n# define SHRT_MIN (-32767-1)\n#endif\n\n#ifndef SHRT_MAX\n# define SHRT_MAX 32767\n#endif\n\n#ifndef USHRT_MAX\n# define USHRT_MAX 65535\n#endif\n\n#ifndef INT_MAX\n# define INT_MAX __INT_MAX__\n#endif\n\n#ifndef INT_MIN\n# define INT_MIN (-INT_MAX-1)\n# define INT_MIN (-INT_MAX-1)\n#endif\n\n#ifndef UINT_MAX\n# define UINT_MAX (INT_MAX * 2U + 1)\n#endif\n\n#ifndef LONG_MAX\n# define LONG_MAX __LONG_MAX__\n#endif\n\n#ifndef LONG_MIN\n# define LONG_MIN (-LONG_MAX-1)\n#endif\n\n#ifndef ULONG_MAX\n# define ULONG_MAX (LONG_MAX * 2UL + 1)\n#endif\n</code></pre>\n\n<p>Add the following line in <code>system/include/libcxx/cwchar</code></p>\n\n<pre><code>#include &lt;cstdio&gt;\n</code></pre>\n\n<h1>Compiling Boost as shared libraries</h1>\n\n<p>As suggested by npclaudiu, bootstrap the library using the gcc toolkit. Then edit <code>project-config.jam</code> to configure the compiler and replace:</p>\n\n<pre><code># Compiler configuration. This definition will be used unless\n# you already have defined some toolsets in your user-config.jam\n# file.\nif ! gcc in [ feature.values &lt;toolset&gt; ]\n{\n    using gcc ;\n}\n</code></pre>\n\n<p>with</p>\n\n<pre><code># Compiler configuration. This definition will be used unless\n# you already have defined some toolsets in your user-config.jam\n# file.\nif ! gcc in [ feature.values &lt;toolset&gt; ]\n{\n    using gcc : : \"/full/path/to/emscripten/em++\" ;\n}\n</code></pre>\n\n<p>Force <code>BOOST_HAS_SCHER_YIELD</code> in <code>boost/config/posix_features.hpp</code>, around the line 67.</p>\n\n<p>Then compile the libraries: <code>./b2 thread regex filesystem signals system</code></p>\n\n<h1>Compiling Boost as static libraries</h1>\n\n<p>Do all the above steps, then edit <code>tools/build/v2/tools/gcc.jam</code> and replace:</p>\n\n<pre><code>toolset.flags gcc.archive .AR $(condition) : $(archiver[1]) ;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>toolset.flags gcc.archive .AR $(condition) : \"/full/path/to/emscripten/emar\" ;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>toolset.flags gcc.archive .RANLIB $(condition) : $(ranlib[1]) ;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>toolset.flags gcc.archive .RANLIB $(condition) :\n  \"/full/path/to/emscripten/emranlib\" ;\n</code></pre>\n\n<p>Compile the libraries: <code>./b2 link=static variant=release threading=single runtime-link=static thread signals system filesystem regex</code></p>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I have a c++ project I would like to convert to a web application. For this purpose, I would like to use Emscripten to build the project.</p>\n\n<p>The project uses some external libraries. I managed to compile or find the JavaScript version of most libraries and now I am stuck with the Boost ones. Actually I do not even know how to start for Boost: they use a boostrap script to generate the files to build the libraries. It is possible to pass the toolset to this script but Emscripten is obviously not supported.</p>\n\n<p>My project uses the following parts of Boost: Thread, Regex, FileSystem, Signals, System. How can I compile these libraries using Emscripten?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Following the answer of npclaudiu, I bootstrapped the library with the gcc toolkit, then I edited <code>project-config.jam</code> to configure the compiler, replacing:</p>\n\n<pre><code># Compiler configuration. This definition will be used unless\n# you already have defined some toolsets in your user-config.jam\n# file.\nif ! gcc in [ feature.values &lt;toolset&gt; ]\n{\n    using gcc ;\n}\n</code></pre>\n\n<p>with</p>\n\n<pre><code># Compiler configuration. This definition will be used unless\n# you already have defined some toolsets in your user-config.jam\n# file.\nif ! gcc in [ feature.values &lt;toolset&gt; ]\n{\n    using gcc : : \"/full/path/to/em++\" ;\n}\n</code></pre>\n\n<p>Now, typing <code>./b2</code> effectively builds the libraries. Boost.Signals and Boost.System compile well. The others have some errors.</p>\n\n<p>Boost.Thread complains:</p>\n\n<pre><code>libs/thread/src/pthread/thread.cpp:503:27: error: use of undeclared identifier 'pthread_yield'\n        BOOST_VERIFY(!pthread_yield());\n                      ^\n</code></pre>\n\n<p>Boost.Regex complains a lot about CHAR_BIT to be undeclared but it seems to be a problem in emscripten:</p>\n\n<pre><code>In file included from libs/regex/build/../src/c_regex_traits.cpp:28:\nIn file included from ./boost/regex/v4/c_regex_traits.hpp:26:\nIn file included from ./boost/regex/v4/regex_workaround.hpp:35:\n/path/to/emscripten/system/include/libcxx/vector:1989:92: error: use of undeclared identifier 'CHAR_BIT'\nstatic const unsigned __bits_per_word = static_cast&lt;unsigned&gt;(sizeof(__storage_type) * CHAR_BIT);\n                                                                                       ^\n</code></pre>\n\n<p>Boost.FileSystem seems to fail due to emscripten too:</p>\n\n<pre><code>In file included from libs/filesystem/src/windows_file_codecvt.cpp:21:\n/path/to/emscripten/system/include/libcxx/cwchar:117:9: error: no member named 'FILE' in the global namespace\nusing ::FILE;\n      ~~^\n</code></pre>\n",
            "last_activity_date": 1364754169,
            "question_id": 15724357,
            "score": 15,
            "tags": [
                "javascript",
                "c++",
                "boost",
                "emscripten"
            ],
            "title": "Using Boost with Emscripten"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Yes of course you should use continous integration with client side libraries.</p>\n\n<p>I personally use <a href=\"http://phantomjs.org/\" rel=\"nofollow\">PhantomJS (headless webkit browser)</a> which is <a href=\"http://about.travis-ci.org/docs/user/gui-and-headless-browsers/\" rel=\"nofollow\">already installed in Travis-CI</a>. I think this is the better option for client-side stuff than NodeJs.</p>\n\n<p>If you use <a href=\"http://gruntjs.com/\" rel=\"nofollow\">Grunt</a>, it gets even easier to use, all you need is a simple grunt.js file, your tests that run in browser (I use <a href=\"http://qunitjs.com/\" rel=\"nofollow\">QUnit</a>), and a simple .travis.yml</p>\n\n<p><code>grunt.js</code>:</p>\n\n<pre><code>module.exports = function(grunt) {\n    // Project configuration.\n    grunt.initConfig({\n        qunit: {\n            files: ['test/index.html']\n        }\n    });\n\n    // Load plugin\n    grunt.loadNpmTasks('grunt-contrib-qunit');\n\n    // Task to run tests\n    grunt.registerTask('test', 'qunit');\n};\n</code></pre>\n\n<p><code>.travis.yml</code>:</p>\n\n<pre><code>before_script:\n  - sudo npm install -g grunt\n\nscript: grunt test --verbose --force\n</code></pre>\n\n<p>You can <a href=\"https://travis-ci.org/kort/kort/jobs/3266208\" rel=\"nofollow\">see it in action</a> at one of my projects (<a href=\"https://github.com/kort/kort\" rel=\"nofollow\">source at GitHub</a>).</p>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>I started with the answer from Odi and moved to gulp to get it working. If you specify node_js as your language in your travis file, travis will automatically run </p>\n\n<pre><code>npm install\n</code></pre>\n\n<p>followed by</p>\n\n<pre><code>npm test\n</code></pre>\n\n<p>The first will install any devDependencies specified in a package.json file, the second will run the script named \"test\" also from package.json. Below you'll find the three files I needed to have in the top level of my repo for travis to run a single qunit suite.</p>\n\n<p>.travis.yml</p>\n\n<pre><code>language: node_js\nnode_js:\n  - \"0.10\"\n</code></pre>\n\n<p>gulpfile.js</p>\n\n<pre><code>var gulp = require('gulp'),\n    qunit = require('gulp-qunit');\n\ngulp.task('default', function() {\n    return gulp.src('./tests/unit/unittests_nupic-js.html')\n        .pipe(qunit());\n});\n</code></pre>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"name\": \"nupic-js\",\n  \"version\": \"0.0.1\",\n  \"description\": \"JavaScript port of NuPIC\",\n  \"license\": \"GPL-3.0\",\n  \"repository\": \"iandanforth/nupic-js\",\n  \"bugs\": { \"url\" : \"http://github.com/iandanforth/nupic-js/issues\"\n  },\n  \"author\": {\n    \"name\": \"Ian Danforth\",\n    \"email\": \"iandanforth@gmail.com\"\n  },\n  \"engines\": {\n    \"node\": \"&gt;=0.10.0\"\n  },\n  \"scripts\": {\n    \"test\": \"gulp\"\n  },\n  \"keywords\": [\n    \"numenta\",\n    \"nupic\",\n    \"machine learning\"\n  ],\n  \"devDependencies\": {\n    \"gulp-qunit\": \"~0.2.1\",\n    \"gulp-util\": \"~2.2.14\",\n    \"gulp\": \"~3.5.1\"\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I'm not sure to use Travis-CI for my client-side JavaScript library or not, because it compiles with NodeJs on Travis-CI servers.</p>\n\n<p>I want to know is this a good approach to use some kind of <strong>continuous integration</strong> such as Travis-CI for client-side libraries or not?</p>\n",
            "last_activity_date": 1416332094,
            "question_id": 13412211,
            "score": 15,
            "tags": [
                "javascript",
                "continuous-integration",
                "travis-ci"
            ],
            "title": "Using Travis-CI for client-side JavaScript libraries?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I can't see that you're using the <code>SeatsCtrl</code>-controller anywhere? How is it being used? And have you verified that it is activated, and that the query is actually performed?</p>\n\n<p>The quickest way to check if SeatsCtrl is in use is to simply add a <code>console.log('SeatsCtrl actived!');</code> inside it. If it is not, then add <code>ng-controller=\"SeatsCtrl\"</code> to the <code>div</code>.</p>\n\n<p>You can also put a watch-and-log on the seats directly inside the controller just to make sure it is not an issue with scoping.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I have this problem too. I think it's a problem in Angular. There is a ticket on GitHub to <a href=\"https://github.com/angular/angular.js/issues/415\" rel=\"nofollow\">\"beef up $resource futures\"</a> which would probably address this issue, as what you really need is access to the promise object for the resource you have.</p>\n\n<p>Or, the watchers could wait to fire until the promise is resolved.</p>\n\n<p>In the meantime, a slightly more elegant way to fix this which doesn't require a timeout is to reassign the scope property that is being watched from the success callback on the $resource. This will cause the watcher to fire again at the appropriate time.</p>\n\n<p>A timeout with no delay is just putting the evaluation of the deferred function on the end of the current stack - in your case, your resource happened to be resolved by then, but this could be a problem if the server is having a case of the Mondays.</p>\n\n<p>Example:</p>\n\n<pre><code>$scope.myAttr = MyResource.fetch(\n  function (resource) { $scope.myAttr = new MyResource(angular.copy(resource)); }\n);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The issue is that watch compares the reference instead of the object by default.  Add ,true to the end to have it compare the value instead.</p>\n\n<pre><code>scope.$watch('seats', function(newval, oldval){\n                console.log(newval, oldval);\n                updateSeatInfo(scope,element);\n            }, true);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 47
                },
                {
                    "body": "<p>I had this problem too. It was due to the fact that my variable was at first not defined 'undefined' in the scope. Watch seems to not work on undefined variables. Seems obvious after-all.</p>\n\n<p>I was first trying to use watch to trigger when my variable would be effectively set by the controller. Example:</p>\n\n<pre><code>myApp.controller('Tree', function($scope, Tree) {\n\nTree.get({},\nfunction(data) { // SUCCESS\n    console.log(\"call api Tree.get succeed\");\n    $scope.treeData = data;\n},\n\nfunction(data) { // FAILURE\n    console.log(\"call api Tree.get failed\");\n    $scope.treeData = {};\n});\n});\n</code></pre>\n\n<p>I solved it by initializing my variable with an empty object before calling the service:</p>\n\n<pre><code>myApp.controller('Tree', function($scope, Tree) {\n\n$scope.treeData = {};      // HERE\n\nTree.get({},\nfunction(data) { // SUCCESS\n    console.log(\"call api Tree.get succeed\");\n    $scope.treeData = data;\n},\n\nfunction(data) { // FAILURE\n    console.log(\"call api Tree.get failed\");\n    $scope.treeData = {};\n});\n});\n</code></pre>\n\n<p>In that case watch was able to detect the change in the variable.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I'm having an issue with custom directives that's driving me crazy.\nI'm trying to create the following custom (attribute) directive:</p>\n\n<pre><code>angular.module('componentes', [])\n    .directive(\"seatMap\", function (){\n        return {\n            restrict: 'A',\n            link: function(scope, element, attrs, controller){\n\n                function updateSeatInfo(scope, element){\n                    var txt = \"\";\n                    for (var i in scope.seats)\n                        txt = txt + scope.seats[i].id + \" \";\n                    $(element).text(\"seat ids: \"+txt);\n                }\n\n                /* \n                    // This is working, but it's kind of dirty...\n                    $timeout(function(){updateSeatInfo(scope,element);}, 1000);\n                */\n\n                scope.$watch('seats', function(newval, oldval){\n                    console.log(newval, oldval);\n                    updateSeatInfo(scope,element);\n                });\n            }\n        }\n    });\n</code></pre>\n\n<p>This \"attribute-type\" directive (called seatMap) is trying to show a list of seat ids (e.g, for a theatre) which I'll fetch from the server via $resource service (see code below) into a div (element).</p>\n\n<p>I'm using it with this simple partial html:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;!-- This is actually working --&gt;\n    &lt;ul&gt;\n        &lt;li ng-repeat=\"seat in seats\"&gt;{{seat.id}}&lt;/li&gt;\n    &lt;/ul&gt;\n\n    &lt;!-- This is not... --&gt;\n    &lt;div style=\"border: 1px dotted black\" seat-map&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And this is the controller which is loading the scope:</p>\n\n<pre><code>function SeatsCtrl($scope, Seats) {\n    $scope.sessionId = \"12345\";\n    $scope.zoneId = \"A\";\n    $scope.seats = Seats.query({sessionId: $scope.sessionId, zoneId: $scope.zoneId});\n    $scope.max_seats = 4;\n}\n</code></pre>\n\n<p>Where \"Seats\" is a simple service using $resources to fetch a JSON from the server</p>\n\n<pre><code>angular.module('myApp.services', ['ngResource'])\n    .factory('Seats', function($resource){\n        return $resource('json/seats-:sessionId-:zoneId.json', {}, {});\n    })\n;\n</code></pre>\n\n<p>app.js (asientos_libres.html is the partial I've been using):</p>\n\n<pre><code>angular.module('myApp', ['myApp.filters', 'myApp.services', 'myApp.directives', 'componentes']).\n  config(['$routeProvider', function($routeProvider) {\n    $routeProvider.when('/view1', {templateUrl: 'partials/asientos_libres.html', controller: SeatsCtrl});\n    $routeProvider.otherwise({redirectTo: '/view1'});\n  }]);\n</code></pre>\n\n<p>The problem is, even though I set up a \"scope.$watch\" in the link function of the directive so that the scope can check whether \"seats\" attribute has changed to update the list of ids, it isn't working at the moment $scope.seats is changing in the controller (when we call \"query\").</p>\n\n<p>As you might see in the code, I made a try using $timeout to delay the launch of \"updateSeatInfo\", but I'm afraid it's not the smartest solution by far...</p>\n\n<p>I also tried to not to make a JSON request, but use a hard-coded dictionary in $scope.seats and it works, so it seems it's a matter of synchrony.</p>\n\n<p><em>Note: The updateSeatInfo is just a test function, the actual function I'll use is a bit more complex.</em></p>\n\n<p>Any idea about how to cope with it?</p>\n\n<p>Thank you a lot beforehand!</p>\n\n<p><strong>Edit 1:</strong> Added app.js, where I'm using router to call SeatsCtrl, thanks to Supr for the advice. However, I'm still having the same issue.</p>\n\n<p><strong>Edit 2: Solved!(?)</strong>\nOk! It seems I found a solution, which may not be the best, but it's working properly! :)\nAs far as I could see here <a href=\"http://docs.angularjs.org/api/ng.%24timeout\">http://docs.angularjs.org/api/ng.$timeout</a>, we can use $timeout (a wrapper over setTimeout) <strong>with no delay</strong>! This is great because we aren't artificially delaying the execution of our code inside $timeout, but we're making the directive not to run it until the asynchronous request has finished.</p>\n\n<p>Hope it will work for long-wait requests, too...</p>\n\n<p>If someone knows a better way to fix it, please tell!</p>\n",
            "last_activity_date": 1356788865,
            "question_id": 11135864,
            "score": 15,
            "tags": [
                "javascript",
                "json",
                "watch",
                "angularjs"
            ],
            "title": "$scope.$watch is not updating value fetched from $resource on custom directive"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>After some research I might shed some light on this issue - unfortunately there is no out-of-the-box solution.</p>\n\n<p><strong>In the CKEditor there are four ways a no-break space can occur</strong> (anybody knows more?):</p>\n\n<ol>\n<li><p><a href=\"http://docs.cksource.com/ckeditor_api/symbols/CKEDITOR.config.html#.fillEmptyBlocks\">Automatic filling of empty blocks</a>. This can be disabled in the config:</p>\n\n<pre><code>config.fillEmptyBlocks = false;\n</code></pre></li>\n<li><p><a href=\"http://docs.cksource.com/ckeditor_api/symbols/CKEDITOR.config.html#.tabSpaces\">Automatic insertion when pressing TAB-key</a>. This can be diabled in the config:</p>\n\n<pre><code>config.tabSpaces = 0;\n</code></pre></li>\n<li><p>Converting double spaces to SPACE+NBSP. <a href=\"http://ckeditor.com/comment/33942#comment-45910\">This is a browser behavior and will thus not be fixed by the CKEditor team</a>. It could be fixed serverside or by a clientside javascript onunload. Maybe this php is a start:</p>\n\n<pre><code>preg_replace('/\\s&amp;nbsp;\\s/i', ' ', $text);\n</code></pre></li>\n<li><p>By copy&amp;paste. If you paste a <a href=\"http://www.fileformat.info/info/unicode/char/a0/index.htm\">UTF-8 no-break space</a> or double-spaces CKEditor will convert it automatically. The only solution I see here is doing a regex as above. <code>config.forcePasteAsPlainText = true;</code> doesn't help.</p></li>\n</ol>\n\n<p>Summary: To get rid of all no-break spaces you need to write an additional function that cleans user input.</p>\n\n<p><em>Comments and further suggestions are greatly appreciated! (I'm using ckeditor 3.6.4)</em></p>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>If you're using PHP you can use the following :</p>\n\n<pre><code>preg_replace(\"/[\\&lt;]p[\\&gt;][\\s]+&amp;nbsp;[\\&lt;][\\/]p[\\&gt;]/\" , \" \" , $pre_comment);\n</code></pre>\n\n<p>This will remove : <code>\"&lt;p&gt;      &amp;nbsp;&lt;/p&gt;\"</code></p>\n\n<p>Enjoy :)</p>\n\n<p>Maxwell</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Add this to your <code>config.js</code></p>\n\n<pre><code>config.enterMode = CKEDITOR.ENTER_BR,\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>There is another way that a non breaking space character can occur. By simply entering a space at the end of a sentence.</p>\n\n<p>CKEditor escapes basic HTML entities along with latin and greek entities.</p>\n\n<p>Add these config options to prevent this (you can also add them in your config file):</p>\n\n<pre><code>CKEDITOR.on( 'instanceCreated', function( event ) {\n editor.on( 'configLoaded', function() {\n\n  editor.config.basicEntities = false;\n  editor.config.entities_greek = false; \n  editor.config.entities_latin = false; \n  editor.config.entities_additional = '';\n\n });\n});\n</code></pre>\n\n<p>These options will prevent CKEditor from escaping <code>nbsp gt lt amp ' \"</code> an other latin and greek characters.</p>\n\n<p>Sources:\n<a href=\"http://docs.ckeditor.com/#!/api/CKEDITOR.config\" rel=\"nofollow\">http://docs.ckeditor.com/#!/api/CKEDITOR.config</a>\n<a href=\"http://docs.ckeditor.com/source/plugin48.html#CKEDITOR-config-cfg-basicEntities\" rel=\"nofollow\">http://docs.ckeditor.com/source/plugin48.html#CKEDITOR-config-cfg-basicEntities</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I had the same problems creating some tables. What I saw was that if i created the tables with the css rule <code>align=\"left\"</code> the <code>&lt;p&gt;&amp;nbsp;&lt;/p&gt;</code> are added, but if i changed the css rule to <code>align=\"center\"</code> i could edit the paragraphs out and they were not added again.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try:</p>\n\n<blockquote>\n  <p>config.basicEntities = false;</p>\n</blockquote>\n\n<p>for me fixed the problem.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I noticed some text editing operations, like deleting a character (by hitting Backspace button) are spliting edited text node into two. Hitting Space Bar at the end of such newly created text node is always resulting into <code>&amp;nbsp;</code> instead of normal space. I am calling <code>normalize()</code> <a href=\"http://www.w3schools.com/jsref/met_node_normalize.asp\" rel=\"nofollow\">http://www.w3schools.com/jsref/met_node_normalize.asp</a> to changed element after change:</p>\n\n<pre><code>CKEDITOR.on('instanceReady', function (ck) {\n    ck.editor.on(\"change\", function (e) {\n        var sel = ck.editor.getSelection();\n        if (sel) {\n            var selected = sel.getStartElement();\n            if (selected &amp;&amp; selected.$)\n                sel.getStartElement().$.normalize();\n        }\n    });\n });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>in <strong>config.js</strong>:</p>\n\n<pre><code>CKEDITOR.editorConfig = function( config ) {\n  config.enterMode = CKEDITOR.ENTER_BR; // &lt;p&gt;&lt;/p&gt; to &lt;br /&gt;\n  config.entities = false;\n  config.basicEntities = false;\n};\n</code></pre>\n\n<p>It work for me, after you can print text with php: <code>html_entity_decode( $someText )</code>;</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can I disable CKEditor to get me every time <code>&amp;nbsp;</code>, when i don't want them? I'm using CKEditor with jQuery adapter. </p>\n\n<p>I don't want to have any <code>&amp;nbsp;</code> tags.</p>\n",
            "last_activity_date": 1421918255,
            "question_id": 9741620,
            "score": 15,
            "tags": [
                "javascript",
                "jquery",
                "ckeditor"
            ],
            "title": "CKEditor unwanted &amp;nbsp; characters"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Try experimenting with textfiles before implementing anything because I think that the following does not necessarily hold:</p>\n\n<blockquote>\n  <p>so I figured it would help keep the database smaller if I compressed the things it stores.</p>\n</blockquote>\n\n<p>That's because lossless compression algorithms are pretty good with repeating patterns (e.g whitespace).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To me it doesn't seem reasonable to compress a string using UTF-8 as the destination... It looks like just looking for trouble. I think it would be better to lose some compression and using plain 7-bit ASCII as the destination.</p>\n\n<p>In a toy <a href=\"http://raksy.dyndns.org/torus.html\" rel=\"nofollow\">4&nbsp;KB JavaScript demo</a> I wrote for fun I used an encoding for the result of compression that stores four binary bytes into five chars chosen from a subset of ASCII of 85 chars that is clean for embedding in a JavaScript string (85^5 is slightly more than 8^4, but still fits in the precision of JavaScript integers). This makes compressed data safe for example for <a href=\"http://en.wikipedia.org/wiki/JSON\" rel=\"nofollow\">JSON</a> without need of any escaping.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>At Piskvor's suggestion, I tested the code found in an answer to this question: <a href=\"http://stackoverflow.com/questions/294297/javascript-implementation-of-gzip\">JavaScript implementation of Gzip</a>\n(top-voted answer: LZW implementation) and found that:</p>\n\n<ol>\n<li>it works</li>\n<li>it reduces the size of the database by a factor of two</li>\n</ol>\n\n<p>... which is less than 5 but better than nothing! So I used that.</p>\n\n<p>(I wish I could have accepted an answer by Piskvor but it was only a comment).</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>I just released a small <a href=\"https://en.wikipedia.org/wiki/Lempel%E2%80%93Ziv%E2%80%93Welch\">LZW</a> implementation especially tailored for this very purpose as none of the existing implementations did meet my needs. </p>\n\n<ul>\n<li><p><a href=\"http://pieroxy.net/blog/pages/lz-string/index.html\">Here is the home page of the project</a></p></li>\n<li><p><a href=\"http://pieroxy.net/blog/pages/lz-string/demo.html\">Here is a link to a demo comparing it with LZMA level 1</a></p></li>\n</ul>\n\n<p>That's what I'm using going forward, and I will probably try to improve the library at some point.</p>\n",
                    "is_accepted": false,
                    "score": 16
                }
            ],
            "body": "<p>I'm looking for a JavaScript function that given a string returns a compressed (shorter) string.</p>\n\n<p>I'm developing a Chrome web application that saves long strings (HTML) to a local database. For testing purposes I tried to zip the file storing the database, and it shrank by a factor of five, so I figured it would help keep the database smaller if I compressed the things it stores.</p>\n\n<p>I've found an implementation of LZSS in JavaScript here: <a href=\"http://code.google.com/p/u-lzss/\">http://code.google.com/p/u-lzss/</a> (\"U-LZSS\").</p>\n\n<p>It seemed to work when I tested it \"by hand\" with short example strings (decode === encode), and it's reasonably fast too, in Chrome. But when given big strings (100 ko) it seems to garble/mix up the last half of the string.</p>\n\n<p>Is it possible that U-LZSS expects short strings and can't deal with larger strings? And would it be possible to adjust some parameters in order to move that upper limit?</p>\n",
            "last_activity_date": 1379098268,
            "question_id": 4570333,
            "score": 15,
            "tags": [
                "javascript",
                "google-chrome-extension",
                "lossless-compression"
            ],
            "title": "String compression in JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The word <em>server</em> is badly used. Those are different JavaScript implementations.</p>\n\n<p>Personally the only thing I'm doubtful about these implementations is about the low amount of system libraries. Most of them come with standard stuff (sockets, filesystem etc..) but lack support for Threads and concurrency. That's why I usually use <em>Rhino</em>, unless I care for speed.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It might help to describe what problem you are trying to solve. There are a lot of \"server-side\" JS implementations that fill various needs. An there also several \"server\" platforms built around these implementations. I wrote one implementation on top of Rhino and Java Servlets, called <a href=\"http:///www.mynajs.org\" rel=\"nofollow\">Myna</a>. Myna is for web applications, and I detailed some of its advantages in another <a href=\"http://stackoverflow.com/questions/1476967/pros-and-cons-of-serverside-javascript-implementation/1654694#1654694\">question</a>. </p>\n\n<p>Are you trying to deploy web applications? Are you trying to script existing code? Does your code need to start quickly from a commandline, or is it going to be implemented as a daemon?</p>\n\n<p>There are currently no clear winners in this space that do all of these things well, but there are good choices for specific needs.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think each solution has its own advantages/disadvantages</p>\n\n<p>here a list of SSJS solutions:</p>\n\n<ul>\n<li><p><strong>Aptana Jaxer</strong>:\nsadly abandoned</p></li>\n<li><p><strong>Sitepoint Persevere</strong>:\nbased on rhino -\ninclude JSDB, supports JSON Query -\nby Kris Zyp, the author of JSON Schema </p></li>\n<li><p><strong>RingoJS</strong>:\nbased on rhino -\nex Helma NG successor of Helma which existed from long time ago -\nmulti-thread -\nnice community -\ngreat actor on CommonJS</p></li>\n<li><p><strong>Narwhal</strong>:\ncan work on either spidermonkey, V8, or webkit JavaScriptCore -\nanother great actor on CommonJS -\ndefined the JSGI API in the Jack Server</p></li>\n<li><p><strong>Joyent NodeJS</strong>:\nbased on V8 \n(fast) -\nall is running in a single thread -\nall the code must be written using callbacks -\nlot of modules available via npm (Node Package Manager)</p></li>\n<li><p><strong>4D Wakanda</strong>:\nbased on Webkit JavaScriptCore aka SFX or Nitro (which has been faster than V8 and could be faster again) -\ninclude an NoSQL Object oriented JavaScript datastore with a native REST API -\nmulti-threaded -\nprovides a studio with a debugger, a Model Designer, and a GUI Designer -\nprovides a Framework with Widgets directly bindable to the datastore and between each others</p></li>\n<li><p><strong>APE project</strong>: based on spidermonkey - a Push engine to synchronize in live data between many visitor browsers </p></li>\n<li><p><strong>10gen MongoDB</strong>: A NoSQL Document store allowing code in either Erlang &amp; JavaScript (using spidermonkey)</p></li>\n<li><p><strong>Apache CouchDB</strong>: Another NoSQL Document store also allowing code in either Erlang &amp; JavaScript (using spidermonkey)</p></li>\n</ul>\n\n<p>See a <a href=\"http://www.slideshare.net/alexandre_morgaut/state-of-the-art-server-side-javascript-web5-2012\" rel=\"nofollow\">Server-Side JavaScript presentation</a> with some history, benchmarks, &amp; descriptions</p>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>I've been wondering to try out server-side javascript for a while. And I'm finding a good amount of servers, like:\n<a href=\"http://nodejs.org/\">Node.js</a> <a href=\"http://en.wikipedia.org/wiki/Rhino_%28JavaScript_engine%29\">Rhino</a> <a href=\"http://en.wikipedia.org/wiki/SpiderMonkey_%28Javascript_engine%29\">SpiderMonkey</a> among others. </p>\n\n<p>Could anyone with experience on server-side javascript, tell me which are the best engines? and why? I like the Node.js because it's based on Google's V8 engine. And seems easy to use. But some feedback on what you would choose would be great.</p>\n\n<p>Edit:</p>\n\n<p><a href=\"http://four.livejournal.com/1019177.html\">Some benchmarks for Node.</a></p>\n\n<p>I'm thinking on going with this one but feedback is still welcome.</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1394198615,
            "question_id": 1992367,
            "score": 15,
            "tags": [
                "javascript",
                "serverside-javascript"
            ],
            "title": "Best server-side javascript servers"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>What I usually do is put the URL in either an <code>&lt;input type=\"hidden\" /&gt;</code> element, or in the <code>rel=\"\"</code> attribute.</p>\n\n<p>Then, when writing the JS (using <a href=\"http://jquery.com\" rel=\"nofollow\">jQuery</a> below) I do:</p>\n\n<pre><code>$('div#show_more').click(function () {\n    var url = $(this).attr('rel');\n    // or\n    var url = $('#more_url').val();\n\n    $.get(url, function () { /* ... */ });\n});\n</code></pre>\n\n<p>Nonstandard attributes are well supported by all major browsers and hidden elements don't have to be in forms.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>What's wrong with putting JavaScript in your templates?</p>\n\n<p>You often want to call an initialisation function in your HTML template anyway, so why not pass it an object containing URLs you'll be using?</p>\n\n<pre><code>&lt;script&gt;\nMYGLOBAL.mymodule.init({\n    fancy_ajax_url: '{% url fancy %}',\n    fancier_ajax_url: '{% url fancier %}'\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>If you find yourself passing a lot of variable this way, or wanting to use logic in your JavaScript that you do in your HTML templates, then why not render your script through Django's templating engine? Remember, Django templates are not just for HTML documents - often it helps to use templates for plain text, XML, <a href=\"http://en.wikipedia.org/wiki/JSON\">JSON</a>, and yes even JavaScript. Worried about performance? Then cache the result.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p><a href=\"https://github.com/mlouro/django-js-utils\">https://github.com/mlouro/django-js-utils</a></p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>I created a mechanism that builds a list of url patterns in your Django project and outputs that in a Javascript file. It is a fork of django-js-utils. </p>\n\n<p>The repo link is here:\n<a href=\"https://github.com/Dimitri-Gnidash/django-js-utils\">https://github.com/Dimitri-Gnidash/django-js-utils</a> </p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Try creating javascript helper functions (in django template) for generating url string. In simple form they could look like this:</p>\n\n<pre><code>function generete_some_url(id){\n    return \"{% url some_url itemid=112233 %}\".replace(\"112233\", id);\n}\n</code></pre>\n\n<p>Maybe this has some other implications but I think it should work.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>First, you should name your url:</p>\n\n<pre><code>url(r'^blog/(?P&lt;item_id&gt;\\d+)/$', 'blog.ajax.remove_item', name='blog-item'),\n</code></pre>\n\n<p>Then you could pass urls as variables to your module:</p>\n\n<pre><code>&lt;script src=\"{{ STATIC_URL }}js/my-module.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(function(){\n    MyModule.init('{% url blog-item item.id %}');\n});\n&lt;/script&gt;\n</code></pre>\n\n<pre><code>// js/my-module.js\nvar MyModule = {\n    init: function(url) {\n        console.log(url);\n    }\n};\n</code></pre>\n\n<p>You could use tokens in your url:</p>\n\n<pre><code>&lt;script src=\"{{ STATIC_URL }}js/my-module.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(function(){\n    MyModule.init(\"{% url blog-item item_id='0000' %}\");\n});\n&lt;/script&gt;\n</code></pre>\n\n<pre><code>// js/my-module.js\nvar MyModule = {\n    init: function(url) {\n        var id = 1;\n        this._url = url;\n        console.log(this.url(id));\n    },\n    url: function(id) {\n        return this._url.replace('0000', id);\n    }\n};\n</code></pre>\n\n<p>Notice that your token should match the regex type to resolve successfully (I can't use <code>{item_id}</code> as token because it's defined with <code>\\d+</code>).</p>\n\n<p>I was a little bit unsatisfied with this solution and I ended by writing my own application to handle javascript with django: <a href=\"http://pypi.python.org/pypi/django.js\" rel=\"nofollow\">django.js</a>. With this application, I can do:</p>\n\n<pre><code>{% load js %}\n{% django_js %}\n{% js \"js/my-module.js\" %}\n</code></pre>\n\n<pre><code>// js/my-module.js\nvar MyModule = {\n    init: function() {\n        var id = 1;\n        console.log(Django.url('blog-item', id));\n    }\n};\n\n$(function(){\n    MyModule.init();\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>We created a small app called <a href=\"https://github.com/version2/django-js-reverse\" rel=\"nofollow\">django-js-reverse</a> for this purpose.</p>\n\n<p>For example you can retrieve a named url</p>\n\n<p>urls.py:</p>\n\n<blockquote>\n  <p>url(r'^/betterliving/(?P[-\\w]+)/(?P\\d+)/$', 'get_house', name='betterliving_get_house'),</p>\n</blockquote>\n\n<p>in javascript like:</p>\n\n<blockquote>\n  <p>Urls.betterliving_get_house('house', 12)</p>\n</blockquote>\n\n<p>result:</p>\n\n<blockquote>\n  <p>/betterliving/house/12/</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can remove the parameters from the URL, and pass the dynamic parts as query parameters:</p>\n\n<pre><code>  $('#add-choice-button').on('click', function () {\n    var thing_id = $(this).closest('.thing').attr('data-item-id');\n    $.get('{% url 'addThing' %}?t='+thing_id, function (data) {\n      ...\n    });\n  });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In my project I have a lot of <a href=\"http://en.wikipedia.org/wiki/Ajax_%28programming%29\">Ajax</a> methods, with external client-side scripts (I don't want to include JavaScript into templates!) and changing URLs is kind of pain for me because I need to change URLs in my Ajax calls manually. </p>\n\n<p>Is there is some way to emulate the behavior of <code>{% url %}</code> templatetag in JavaScript? </p>\n\n<p>For example, print urlpatterns starting with <code>^ajax</code> and later in scripts replace patterns with their actual values? </p>\n\n<p>That's what on my mind, and my question is - are there any common practices to do things like that? Maybe some reusable applications? Also I will be happy to read any advices and relevant thoughts you have.</p>\n\n<p><strong>Update 1:</strong>\nI'm talking about computed URLs, not static ones:</p>\n\n<pre><code>url(r'^ajax/delete/(?P&lt;type&gt;image|audio)/(?P&lt;item_id&gt;\\d+)/from/set/(?P&lt;set_id&gt;\\d+)/$', 'blog.ajax.remove_item_from_set'),\n</code></pre>\n",
            "last_activity_date": 1400999195,
            "question_id": 1795701,
            "score": 15,
            "tags": [
                "javascript",
                "django",
                "url",
                "reverse"
            ],
            "title": "Django reverse() for JavaScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I would make the div's positioning to absolute and then set them where you want. Then get their position with this function:</p>\n\n<pre><code>//Get the absolute position of a DOM object on a page\nfunction findPos(obj) {\n    var curLeft = curTop = 0;\n    if (obj.offsetParent) {\n    \tdo {\n    \t\tcurLeft += obj.offsetLeft;\n    \t\tcurTop += obj.offsetTop;\n    \t} while (obj = obj.offsetParent);\n    }\n    return {x:curLeft, y:curTop};\n}\n</code></pre>\n\n<p>When you have their position, add it to half their width/height, and you will have the position of their center on the page. Now find the position of the canvas and substract it from the previously found numbers. If you draw a line between those two points, it should link the two divs. In case it's not clear, here's how I would code it:</p>\n\n<pre><code>var centerX = findPos(document.getElementById('x'));\ncenterX.x += document.getElementById('x').style.width;\ncenterX.y += document.getElementById('x').style.height;\nvar centerZ = findPos(document.getElementById('Z'));\ncenterZ.x += document.getElementById('z').style.width;\ncenterZ.y += document.getElementById('z').style.height;\n//Now you've got both centers in reference to the page\nvar canvasPos = findPos(document.getElementById('canvas'));\ncenterX.x -= canvasPos.x;\ncenterX.y -= canvasPos.y;\ncenterZ.x -= canvasPos.x;\ncenterZ.y -= canvasPos.y;\n//Now both points are in reference to the canvas\nvar ctx = document.getElementById('canvas').getContext('2d');\nctx.beginPath();\nctx.moveTo(centerX.x, centerX.y);\nctx.lineTo(centerZ.x, centerZ.y);\nctx.stroke();\n//Now you should have a line between both divs. You should call this code each time the position changes\n</code></pre>\n\n<p><strong>EDIT</strong>\nBy the way, using the findPos function you can also set the initial position of the divs relatively to the canvas (here at (30; 40)):</p>\n\n<pre><code>var position = {x: 30, y: 40};\nvar canvasPos = findPos(document.getElementById('canvas'));\nvar xPos = canvasPos.x + position.x;\nvar yPos = canvasPos.y + position.y;\ndocument.getElementById('x').style.left = xPos+\"px\";\ndocument.getElementById('x').style.top = yPos+\"px\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I have n <code>&lt;div</code>>s, each with <code>&lt;h1</code>> title and <code>&lt;ul</code>> list of items in.</p>\n\n<p>I would like to float these over a canvas and draw lines from <code>&lt;div id=\"x\"</code>> list item y to <code>&lt;div id=\"z\"</code>>. I am using jQuery UI to make the <code>&lt;div</code>>s draggable.</p>\n\n<p>The canvas element is part way down the page (a paragraph of text and some form elements precede it) but I can change this if necessary.</p>\n\n<p>[edit]</p>\n\n<p>I tagged the question with graph, but let me add this link: <a href=\"http://en.wikipedia.org/wiki/Graph%5F%28mathematics%29\">Graph_(mathematics)</a> :-)</p>\n",
            "last_activity_date": 1364518052,
            "question_id": 1104295,
            "score": 15,
            "tags": [
                "javascript",
                "jquery",
                "graph",
                "canvas"
            ],
            "title": "jQuery - use canvas to draw lines between divs"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I recommend you to take a look at <a href=\"http://en.wikipedia.org/wiki/Real_Time_Media_Flow_Protocol\">RTMFP protocol</a> in Adobe Flash Player - it seems you can build something close to what you're asking with it.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>I was looking for the same thing, this library looks apealing:\n<a href=\"http://h3xstream.github.com/rtmfp-api/\">rtmfp-api/</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>What options does a web developer currently have for implementing client-side peer-to-peer systems in the web browser? Some hypothetical examples might be a file-sharing service that bypasses the web-server after clients find eachother, or a chat service.</p>\n\n<h3>What I know about:</h3>\n\n<ul>\n<li><p>the site chatroulette uses\nsome flash technology as discussed\n<a href=\"http://stackoverflow.com/questions/2643291/architecture-of-chatroulette\">here</a>.</p></li>\n<li><p>And I am also aware of <a href=\"http://www.opera.com/press/releases/2009/06/16/\">Opera\nUnity</a> which extends the browser\nmodel to encompass both a client and\na server, as well as this firefox <a href=\"https://addons.mozilla.org/en-US/firefox/addon/pow-plain-old-webserver/\">plugin</a> which works similarly</p></li>\n<li><p>I also just came across <a href=\"http://www.nonblocking.io/2008/12/universalcomet-making-every-client.html\">this blog\npost</a> related to the Joose js\nframework, but am not yet sure if it\nis relevant here.</p></li>\n<li><p>Support for this <em>kind of thing</em> seems like it might or might not be supported by websockets in  HTML5 and has been discussed <a href=\"http://stackoverflow.com/questions/2628565/html5-vs-flash-full-comparison-chart-anywhere\">here</a> and <a href=\"http://stackoverflow.com/questions/1032006/will-html5-allow-web-apps-to-make-peer-to-peer-http-connections\">here</a> and <a href=\"http://stackoverflow.com/questions/4118272/do-websockets-allow-for-p2p-browser-to-browser-communication\">here</a>.</p></li>\n</ul>\n",
            "last_activity_date": 1338481910,
            "question_id": 4807685,
            "score": 14,
            "tags": [
                "javascript",
                "flash",
                "html5",
                "p2p",
                "stratus"
            ],
            "title": "What techniques are available to do P2P in the browser?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>See <a href=\"http://stackoverflow.com/questions/490618/multiple-javascript-css-files-best-practices\">Multiple javascript/css files: best practices?</a> and <a href=\"http://www.cforcoding.com/2009/05/supercharging-javascript.html\">Supercharging Javascript in PHP</a>.</p>\n\n<p>The short answer is that you want to minimize external HTTP requests. The best way to do that is to force the browser to cache files you server until they change. You do this by versioning the files and providing a far future Expires header. When the filename changes (by changing the version) the browser will get the new version.</p>\n\n<p>If you do this then multiple Javascript files don't really matter. But if you force the client to download 27 JS files on each and every page with no caching then reducing the number of files can make a substantial difference. Of course this is still inferior to effective caching/versioning strategies.</p>\n\n<p>Another more recent issue to consider is <a href=\"http://www.phpied.com/iphone-caching/\">iphone caching</a>:</p>\n\n<blockquote>\n  <p>iPhone will not cache components\n  bigger than 15K (was 25K in the\n  previous experiment)</p>\n</blockquote>\n\n<p>So in some circumstances combining files can be detrimental.</p>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>If you have many javascript files, it can help to combine them and to minify them.  By combining them into a single file, you reduce the number of connections and files that need to be downloaded from your site.  By minifying them, you actually reduce the size of the files by removing white space, comments, and so forth.  Take a look at JSMin and YUI Compressor.</p>\n\n<p>Edit:\nAs other commenters indicate, combining files really only makes sense if users are actively using features from all the files.  It wouldn't make sense to combine a large and rarely used javascript file in with all your commonly used functions.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can also take a look at <a href=\"http://jscompress.com/\" rel=\"nofollow\">http://jscompress.com/</a>, a online JavaScript compression tool.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I've read that merging several multiple javascript files into a single file improves performance, is that true? </p>\n\n<p>If so, is there an easy and error-free way of merging them, or perhaps an online-tool that automatically does that?</p>\n\n<p>Many thanks.</p>\n",
            "last_activity_date": 1410429661,
            "question_id": 1950441,
            "score": 14,
            "tags": [
                "javascript",
                "performance",
                "merge"
            ],
            "title": "Merging multiple javascript files"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Don't assign to an event handler directly: use the subscribe model <strong>addEventListener</strong> / <strong>attachEvent</strong> instead (which also have remove pairs!).</p>\n\n<p>Good introduction <a href=\"http://www.quirksmode.org/js/events%5Fadvanced.html\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>Use a wrapper around <a href=\"https://developer.mozilla.org/En/DOM:element.addEventListener\" rel=\"nofollow\">addEventListener</a> (DOM supporting browsers) or <a href=\"http://msdn.microsoft.com/en-us/library/ms536343%28VS.85%29.aspx\" rel=\"nofollow\">attachEvent</a> (IE).</p>\n\n<p>Note that if you ever want to store a value in a variable without overwriting the old value, you can use <a href=\"http://www.jibbering.com/faq/faq%5Fnotes/closures.html\" rel=\"nofollow\">closures</a>.</p>\n\n<pre><code>function chain(oldFunc, newFunc) {\n  if (oldFunc) {\n    return function() {\n      oldFunc.call(this, arguments);\n      newFunc.call(this, arguments);\n    }\n  } else {\n    return newFunc;\n  }\n}\n\nobj.method = chain(obj.method, newMethod);\n</code></pre>\n\n<p>In <a href=\"http://en.wikipedia.org/wiki/Aspect-oriented%5Fprogramming\" rel=\"nofollow\">Aspect Oriented Programming</a>, this is known as \"<a href=\"http://en.wikipedia.org/wiki/Advice%5Fin%5Faspect-oriented%5Fprogramming\" rel=\"nofollow\">advice</a>\".</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>how about setting <code>oldClick = links[i].onclick or an empty function</code>. Like so</p>\n\n<pre><code>var oldOnClick = links[i].onclick || function() { return true; };\n\nlinks[i].onclick = function (e)\n   {\n       if (!oldOnClick())\n           return false;\n       //&lt;do some work&gt;\n       return true;\n   }\n</code></pre>\n\n<p>Or you could use <code>attachEvent</code> and <code>addEventListener</code> as others have recommended</p>\n\n<pre><code>function addEvent(obj, type, fn) {\n        if (obj.addEventListener)\n                obj.addEventListener(type, fn, false);\n        else if (obj.attachEvent)\n                obj.attachEvent('on' + type, function() { return fn.apply(obj, [window.event]);});\n}\n</code></pre>\n\n<p>and use like so</p>\n\n<pre><code>addEvent(links[i], 'click', [your function here]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Using JQuery, the following code works:</p>\n\n<pre><code>function adaptLinks(table, sortableTable)\n{\n\t$('a[href]').click(function (e)\n\t{\n\t\tif(!e.isDefaultPrevented())\n\t\t{\n\t\t\t&lt;do some work&gt;\n\t\t}\n\t});\n}\n</code></pre>\n\n<p>This requires using an extra library but avoids some issues that exist with addEventListener/attachEvent (like the latter's problem with <a href=\"http://www.quirksmode.org/js/events%5Fadvanced.html\" rel=\"nofollow\"><em>this</em> references</a>).</p>\n\n<p>There is just one pitfall: if the original <em>onClick</em> handler is assigned using \"normal\" JavaScript, the line</p>\n\n<pre><code>...\nif(!e.isDefaultPrevented())\n...\n</code></pre>\n\n<p>will always resolve to <strong>true</strong>, even in case the original handler canceled the event by returning false. To fix this, the original handler has to use JQuery as well.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You need to create a closure to preserve the original <code>onclick</code> value of each link:</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"alert('hi');return false;\"&gt;Hi&lt;/a&gt;\n&lt;a href=\"#\" onclick=\"alert('there');return true;\"&gt;There&lt;/a&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction adaptLinks() {\n    var links = document.getElementsByTagName('a');\n    for (i = 0; i != links.length; i++) {\n        links[i].onclick = (function () {\n            var origOnClick = links[i].onclick;\n            return function (e) {\n                if (origOnClick != null &amp;&amp; !origOnClick()) {\n                    return false;\n                }\n                // do new onclick handling only if\n                // original onclick returns true\n                alert('some work');\n                return true;\n            }\n        })();\n    }\n}\nadaptLinks();\n&lt;/script&gt;\n</code></pre>\n\n<p>Note that this implementation only performs the new onclick handling if the original onclick handler returns true. That's fine if that's what you want, but keep in mind you'll have to modify the code slightly if you want to perform the new onclick handling even if the original handler returns false.</p>\n\n<p>More on closures at the <a href=\"http://www.jibbering.com/faq/faq_notes/closures.html\">comp.lang.javascript FAQ</a> and from <a href=\"http://www.crockford.com/javascript/private.html\">Douglas Crockford</a>.</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>This function should be usable (event listeners approach):</p>\n\n<pre><code>function addEventListener(element, eventType, eventHandler, useCapture) {\n    if (element.addEventListener) {\n        element.addEventListener(eventType, eventHandler, useCapture);\n        return true;\n    } else if (element.attachEvent) {\n        return element.attachEvent('on' + eventType, eventHandler);\n    }\n    element['on' + eventType] = eventHandler;\n}\n</code></pre>\n\n<p>or you can save some more code adding this function (if you need to add the same event listener to many elements):</p>\n\n<pre><code>function addClickListener(element) {\n    addEventListener(element, 'click', clickHandler, false);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had problems with overloading in the simple way - this page was a great resource \n<a href=\"http://www.quirksmode.org/js/events_advanced.html\" rel=\"nofollow\">http://www.quirksmode.org/js/events_advanced.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to modify all links on a page so they perform some additional work when they are clicked.</p>\n\n<p>A trivial approach might be something like this:</p>\n\n<pre><code>function adaptLinks()\n{\n\tvar links = document.getElementsByTagName('a');\n\tfor(i = 0; i != links.length; i++)\n\t{\n\t\tlinks[i].onclick = function (e)\n\t\t{\n\t\t\t&lt;do some work&gt;\n\t\t\treturn true;\n\t\t}\n\t}\n}\n</code></pre>\n\n<p>But some of the links already have an <em>onClick</em> handler that should be preserved. I tried the following:</p>\n\n<pre><code>function adaptLinks()\n{\n\tvar links = document.getElementsByTagName('a');\n\tfor(i = 0; i != links.length; i++)\n\t{\n\t\tvar oldOnClick = links[i].onclick;\n\t\tlinks[i].onclick = function (e)\n\t\t{\n\t\t\tif(oldOnClick != null &amp;&amp; !oldOnClick())\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t&lt;do some work&gt;\n\t\t\treturn true;\n\t\t}\n\t}\n}\n</code></pre>\n\n<p>But this doesn't work because <em>oldOnClick</em> is only evaluated when the handler is called (it contains the value of the <strong>last</strong> link as this point).</p>\n",
            "last_activity_date": 1331753084,
            "question_id": 891989,
            "score": 14,
            "tags": [
                "javascript",
                "jquery",
                "onclick"
            ],
            "title": "JavaScript: Adding an onClick handler without overwriting the existing one"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>First of all, typeof is an operator, not a function, so you don't need the parentheses.  Secondly, access the object's prototype.</p>\n\n<pre><code>alert( typeof Array.prototype.push );\nalert( typeof Array.prototype.foo );\n</code></pre>\n\n<p>When you execute <code>typeof Array.push</code> you are testing if the Array object itself has a push method, not if instances of Array have a push method.</p>\n",
                    "is_accepted": true,
                    "score": 27
                },
                {
                    "body": "<blockquote>\n  <p>And it does work fine in Firefox</p>\n</blockquote>\n\n<p>That's only by coincidence! You can't generally expect a prototype's method to also exist on the constructor function.</p>\n\n<blockquote>\n<pre><code>if(typeof(Array().push) == 'undefined')\n</code></pre>\n</blockquote>\n\n<p>This was nearly right except you forget <code>new</code>, a perennial JavaScript gotcha. <code>new Array().push</code>, or <code>[].push</code> for short, would correctly check an instance had the method you wanted.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The proper way to check if a property exists:</p>\n\n<pre><code>if ('property' in objectVar)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 39
                },
                {
                    "body": "<p>The <code>.hasOwnProperty</code> can be accessed on the Array's proptotype, if <code>typeof</code> is not idiomatic enough.</p>\n\n<pre>\n<code>\nif (Array.prototype.hasOwnProperty('push')) {\n    // Native array has push property\n}\n</code>\n</pre>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I thought this would be as easy as:</p>\n\n<pre><code>if(typeof(Array.push) == 'undefined'){\n  //not defined, prototype a version of the push method\n  // Firefox never gets here, but IE/Safari/Chrome/etc. do, even though\n  // the Array object has a push method!\n}\n</code></pre>\n\n<p>And it does work fine in Firefox, <strong><em>but not in IE, Chrome, Safari, Opera</em></strong>, they return all properties/methods of the native Array object as 'undefined' using this test.</p>\n\n<p>The .hasOwnProperty( prop ) method only works on instances... so it doesn't work, but by trial and error I noticed that this works.</p>\n\n<pre><code>//this works in Firefox/IE(6,7,8)/Chrome/Safari/Opera\nif(typeof(Array().push) == 'undefined'){\n  //not defined, prototype a version of the push method\n}\n</code></pre>\n\n<p>Is there anything wrong with using this syntax to determine if a property/method exists on a <em>Native Object / ~\"JavaScript Class\"~</em>, or is there a better way to do this?</p>\n",
            "last_activity_date": 1374081627,
            "question_id": 595766,
            "score": 14,
            "tags": [
                "javascript",
                "methods",
                "properties",
                "native",
                "typeof"
            ],
            "title": "How to determine if Native JavaScript Object has a Property/Method?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>A working example of the below code is also on <a href=\"http://jsfiddle.net/vPELX/2/\">jsfiddle.net</a>.</p>\n\n<p>Some notes:</p>\n\n<ul>\n<li>Uses the <a href=\"https://developers.google.com/youtube/iframe_api_reference\">iframe_api</a>, not the <a href=\"https://developers.google.com/youtube/js_api_reference\">javascript_api</a></li>\n<li>The YT.Player constructor is minimal because you are building the iframe yourself.</li>\n<li>The \"playerVars\" are included as iframe URL parameters.</li>\n<li>The parameter \"enablejsapi=1\" is set.</li>\n</ul>\n\n<h3>Example Markup</h3>\n\n<pre><code>&lt;script src=\"http://www.youtube.com/iframe_api\"&gt;&lt;/script&gt;\n\n&lt;a style=\"display: block;\" class=\"video-thumb\" id=\"HuGbuEv_3AU\" href=\"#\"&gt;\n    Megadeth: Back In The Day\n&lt;/a&gt;  \n&lt;a style=\"display: block;\" class=\"video-thumb\" id=\"jac80JB04NQ\" href=\"#\"&gt;\n    Judas Priest: Metal Gods\n&lt;/a&gt; \n&lt;a style=\"display: block;\" class=\"video-thumb\" id=\"_r0n9Dv6XnY\" href=\"#\"&gt;\n    Baltimora: Tarzan Boy\n&lt;/a&gt;   \n\n&lt;div id=\"container\"&gt;&lt;/div&gt;\n&lt;div id=\"log\"&gt;--Logging enabled--&lt;/div&gt;\n</code></pre>\n\n<h3>The JavaScript</h3>\n\n<pre><code>function log(msg) {\n    jQuery('#log').prepend(msg + '&lt;br/&gt;');\n}\n\nfunction onPlayerStateChange(event) {\n    switch(event.data) {\n        case YT.PlayerState.ENDED:\n            log('Video has ended.');\n            break;\n        case YT.PlayerState.PLAYING:\n            log('Video is playing.');\n            break;\n        case YT.PlayerState.PAUSED:\n            log('Video is paused.');\n            break;\n        case YT.PlayerState.BUFFERING:\n            log('Video is buffering.');\n            break;\n        case YT.PlayerState.CUED:\n            log('Video is cued.');\n            break;\n        default:\n            log('Unrecognized state.');\n            break;\n    }\n}\n\njQuery(document).ready(function($) {\n    $('.video-thumb').click(function() {\n\n        var vidId = $(this).attr('id');\n        $('#container').html('&lt;iframe id=\"player_'+vidId+\n            '\" width=\"420\" height=\"315\" src=\"http://www.youtube.com/embed/'+\n            vidId+'?enablejsapi=1&amp;autoplay=1&amp;autohide=1&amp;showinfo=0\" '+\n            'frameborder=\"0\" allowfullscreen&gt;&lt;/iframe&gt;');\n\n        new YT.Player('player_'+vidId, {\n            events: {\n                'onStateChange': onPlayerStateChange\n            }\n        });\n    });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 19
                }
            ],
            "body": "<p>I inject YouTube iframe to a div in document ready and bind it to click:</p>\n\n<pre><code>jQuery(document).ready(function($) {\n    jQuery('.video-thumb').click(function(){\n        ...\n        $('#player').html('&lt;iframe width=\"761\" height=\"421\" src=\"http://www.youtube.com/embed/' + $(this).attr('videoid') + '?rel=0&amp;wmode=transparent\" frameborder=\"0\" allowfullscreen&gt;&lt;/iframe&gt;');\n        ...\n    }\n }\n</code></pre>\n\n<p>And I want to do a callback when video ends. I have read about <a href=\"http://stackoverflow.com/questions/7853904/how-to-detect-when-a-youtube-video-finishes-playing\">onYouTubePlayerAPIReady</a>, but it has to be put outside document ready.</p>\n\n<p>I have tried to load video player by this construction outside document ready:</p>\n\n<pre><code>var player;\nfunction onYouTubePlayerAPIReady() {\n    player = new YT.Player('player', {\n      height: '421',\n      width: '761',\n      videoId: '',\n      playerVars: { autoplay: 1, autohide: 1, showinfo: 0 },\n      events: {\n        'onReady': onPlayerReady,\n        'onStateChange': onPlayerStateChange\n      }\n    });\n}\n</code></pre>\n\n<p>but I got some issues:</p>\n\n<ul>\n<li>showinfo:0 didn't work, still got other video thumbnails in the end</li>\n<li>I don't know how to change video id (and reinit the video?)</li>\n<li>more script errors than first method (injecting iframe)</li>\n</ul>\n\n<p>I prefer using first method, but how to create video ends callback? Thanks.</p>\n",
            "last_activity_date": 1347314110,
            "question_id": 12107202,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "callback",
                "youtube",
                "youtube-api"
            ],
            "title": "YouTube (injected) video ends callback"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>May you could use something like this:</p>\n\n<pre><code>body:not(.loaded) #slider img {\n  display:none;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;body onload=\"document.body.className += ' loaded';\"&gt;\n</code></pre>\n\n<p>Awesome layout btw.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Don't delay loading parts of your site - what if the background image were to have an error in transmission and never arrive?  Your scripts would never load.</p>\n\n<p>Instead, if you really dislike the \"white\" flash, set the background color of the document to a more pleasing color, more in line with your background image.  You can do so in the same css  style:</p>\n\n<pre><code>body {\n    background: #EDEBED url(myGrayBackgroundImage.jpg);\n}\n</code></pre>\n\n<p>It's simple, has virtually no cost, won't break, and won't delay things from downloading unnecessarily.  It looks like you're already doing something like this - I wouldn't change it.  I don't think anybody has the expectation that your site look a certain way <em>before</em> it loads.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>Since the html page loads first, you can include a style tag that has an embedded image in it. This way you can be 100% sure that the image has loaded before anything is displayed. </p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;      \n    background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIA...);\n&lt;/style&gt;\n</code></pre>\n\n<p>There are may ways to encode an image. Here's one of them: <a href=\"http://www.base64-image.de/\" rel=\"nofollow\">http://www.base64-image.de/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The problem is, on most sites on the web, there are background images. They take time to load. Ordinarily, it wouldn't be a problem if the images were optimized, and small enough. However, on some of my sites, the javascript files find their way to load before anything else on the page, <strong>even though they're in the footer</strong>! This creates a white \"flash\" before the background image loads. Why is my javascript loading first before anything else? I'm having this problem on many sites, and I see it everywhere. Here's the site I'm currently working on:</p>\n\n<p><a href=\"http://www.bridgecitymedical.com/wordpress/\">http://www.bridgecitymedical.com/wordpress/</a></p>\n\n<p>Thanks!</p>\n\n<p>tl;dr How can I defer loading of javascript on my websites so that the background image loads before anything else, thus preventing that white \"flash\" before the browser finishes downloading the image.</p>\n",
            "last_activity_date": 1381449366,
            "question_id": 7411541,
            "score": 13,
            "tags": [
                "javascript",
                "css",
                "jquery-deferred"
            ],
            "title": "How to prevent the white &#39;flash&#39; on page load created by background image loading delay?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You should try the jTube jquery youtube library.  It makes it pretty easy to do basic calls like this. Download / view code at: <a href=\"https://github.com/monkeecreate/jTube/blob/master/jTube/jquery.jTube.js\" rel=\"nofollow\">https://github.com/monkeecreate/jTube/blob/master/jTube/jquery.jTube.js</a></p>\n\n<p>Use like:</p>\n\n<pre><code>$.jTube({\n    request: 'user',\n    requestValue: 'defvayne23',\n    requestOption: 'uploads',\n    success: function(videos){\n        ...code here\n    }\n});\n</code></pre>\n\n<p>View more samples: <a href=\"https://github.com/defvayne23/jTube\" rel=\"nofollow\">https://github.com/defvayne23/jTube</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>While I don't really know what the problem you're facing is, to answer your question about how to get information from a youtube video, I made a quick example I below.</p>\n\n<p>Having the youtube video code get variable in php: $_GET['v'].</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n        &lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-1.5.1.min.js\"&gt;&lt;/script&gt;\n        &lt;script type= \"text/javascript\"&gt;\n        function getYouTubeInfo() {\n                $.ajax({\n                        url: \"http://gdata.youtube.com/feeds/api/videos/&lt;?php echo $_GET['v']; ?&gt;?v=2&amp;alt=json\",\n                        dataType: \"jsonp\",\n                        success: function (data) {parseresults(data)}\n                });\n        }\n\n        function parseresults(data) {\n                var title = data.entry.title.$t;\n                var description = data.entry.media$group.media$description.$t;\n                var viewcount = data.entry.yt$statistics.viewCount;\n                var author = data.entry.author[0].name.$t;\n                $('#title').html(title);\n                $('#description').html('&lt;b&gt;Description&lt;/b&gt;: ' + description);\n                $('#extrainfo').html('&lt;b&gt;Author&lt;/b&gt;: ' + author + '&lt;br/&gt;&lt;b&gt;Views&lt;/b&gt;: ' + viewcount);\n        }\n\n$(document).ready(function () {\n        getYouTubeInfo();\n});\n        &lt;/script&gt;\n        &lt;title&gt;YouTube&lt;/title&gt;\n&lt;/head&gt;\n&lt;body bgcolor=\"grey\"&gt;\n        &lt;div align=\"center\"&gt;\n                &lt;br/&gt;&lt;br/&gt;\n                &lt;div id=\"title\" style=\"color: #dddddd\"&gt;Could not find a title&lt;/div&gt;&lt;br/&gt;\n                &lt;iframe title=\"Youtube Video Player\" width=\"640\" height=\"390\" src=\"http://www.youtube.com/embed/&lt;?php echo $_GET['v']; ?&gt;?fs=1&amp;autoplay=1&amp;loop=0\" frameborder=\"0\" allowfullscreen style=\"border: 1px solid black\"&gt;&lt;/iframe&gt;\n                &lt;br/&gt;&lt;br/&gt;\n                &lt;div id=\"description\" style=\"width:400px; background-color: #dddddd; font-size:10px; text-align:left;\"&gt;Could not find a description&lt;/div&gt;\n                &lt;div id=\"extrainfo\" style=\"width:400px; background-color: #dddddd; font-size:10px; text-align:left;\"&gt;Could not find extra information&lt;/div&gt;\n        &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This prints title above embedded video (iframe), and description, views and author beneath.</p>\n\n<p>I don't know what more you want to do (listinfo, numberformat), but I'd guess you can work it out from here.</p>\n\n<p>Hope this helps.</p>\n\n<p>Tom</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Since the youtube API does not allow more than 50 comments to be returned on a single request, you'll need to add a URL parameter called \"start-index\", which tells youtube that you want to get comments from there onwards. Below is an example. I've made it so that as long as the response JSON returns 50 comments, it calls the function again for the next 50 comments.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n        &lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-1.5.1.min.js\"&gt;&lt;/script&gt;\n        &lt;script type= \"text/javascript\"&gt;\n        function getYouTubeInfo() {\n                $.ajax({\n                        url: \"http://gdata.youtube.com/feeds/api/videos/&lt;?php echo $_GET['v']; ?&gt;?v=2&amp;alt=json\",\n                        dataType: \"jsonp\",\n                        success: function (data) { parseresults(data); }\n                });\n        }\n\n        function parseresults(data) {\n                var title = data.entry.title.$t;\n                var description = data.entry.media$group.media$description.$t;\n                var viewcount = data.entry.yt$statistics.viewCount;\n                var author = data.entry.author[0].name.$t;\n                $('#title').html(title);\n                $('#description').html('&lt;b&gt;Description&lt;/b&gt;: ' + description);\n                $('#extrainfo').html('&lt;b&gt;Author&lt;/b&gt;: ' + author + '&lt;br/&gt;&lt;b&gt;Views&lt;/b&gt;: ' + viewcount);\n                getComments(data.entry.gd$comments.gd$feedLink.href + '&amp;max-results=50&amp;alt=json', 1);\n        }\n\n        function getComments(commentsURL, startIndex) {\n                $.ajax({\n                        url: commentsURL + '&amp;start-index=' + startIndex,\n                        dataType: \"jsonp\",\n                        success: function (data) {\n                        $.each(data.feed.entry, function(key, val) {\n                                $('#comments').append('&lt;br/&gt;Author: ' + val.author[0].name.$t + ', Comment: ' + val.content.$t);\n                        });\n                        if ($(data.feed.entry).size() == 50) { getComments(commentsURL, startIndex + 50); }\n                        }\n                });\n        }\n\n        $(document).ready(function () {\n                getYouTubeInfo();\n        });\n        &lt;/script&gt;\n        &lt;title&gt;YouTube&lt;/title&gt;\n&lt;/head&gt;\n&lt;body bgcolor=\"grey\"&gt;\n        &lt;div align=\"center\"&gt;\n                &lt;br/&gt;&lt;br/&gt;\n                &lt;div id=\"title\" style=\"color: #dddddd\"&gt;Could not find a title&lt;/div&gt;&lt;br/&gt;\n                &lt;iframe title=\"Youtube Video Player\" width=\"640\" height=\"390\" src=\"http://www.youtube.com/embed/&lt;?php echo $_GET['v']; ?&gt;?fs=1&amp;autoplay=1&amp;loop=0\" frameborder=\"0\" allowfullscreen style=\"border: 1px solid black\"&gt;&lt;/iframe&gt;\n                &lt;br/&gt;&lt;br/&gt;\n                &lt;div id=\"description\" style=\"width:400px; background-color: #dddddd; font-size:10px; text-align:left;\"&gt;Could not find a description&lt;/div&gt;\n                &lt;div id=\"extrainfo\" style=\"width:400px; background-color: #dddddd; font-size:10px; text-align:left;\"&gt;Could not find extra information&lt;/div&gt;\n                &lt;div id=\"comments\" style=\"width:400px; background-color: #dddddd; font-size:10px; text-align:left;\"&gt;Could not find comments&lt;/div&gt;\n        &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>If you have any more questions or you get stuck with this code, don't hesitate to ask again :-)</p>\n\n<p>Good luck,\nTom</p>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<pre><code>    &lt;script type= \"text/javascript\"&gt;\nvar url = \"http://gdata.youtube.com/feeds/api/videos/VA770wpLX-Q?v=2&amp;amp;alt=json-in-script&amp;amp;callback=\";\nvar title;\nvar description;\nvar viewcount;\nvar views;\nvar author;\n$.getJSON(url,\n    function(data){\n        title = data.entry.title.$t;\n        description = data.entry.media$group.media$description.$t;\n        viewcount = data.entry.yt$statistics.viewCount;\n        views = numberFormat (viewcount);\n        author = data.entry.author[0].name.$t;\n        listInfo (title,description,author,views);\n});\n\n&lt;/script&gt;\n</code></pre>\n\n<p>So thats my code to get information from a single video, after the info is received it calls this function to display it:</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\nfunction listInfo (title,description,author,views) {\n    var html = ['&lt;dl&gt;'];\n      html.push('&lt;dt&gt;','&lt;span class=\"titleStyle\"&gt;', title,'&lt;/span&gt;&lt;span class=\"descriptionStyle\"&gt;',description, '&lt;/span&gt;&lt;span class=\"authorStyle\"&gt;',author,'&lt;/span&gt;&lt;span class=\"viewsStyle\"&gt;',' Views:',views,'&lt;/span&gt;&lt;/dt&gt;');\n\n    html.push('&lt;/dl&gt;');\n    document.getElementById(\"agenda\").innerHTML = html.join(\"\");\n}\n     function numberFormat(nStr,prefix){\n    var prefix = prefix || '';\n    nStr += '';\n    x = nStr.split('.');\n    x1 = x[0];\n    x2 = x.length &gt; 1 ? '.' + x[1] : '';\n    var rgx = /(\\d+)(\\d{3})/;\n    while (rgx.test(x1))\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\n    return prefix + x1 + x2;\n}\n  &lt;/script&gt;\n</code></pre>\n\n<p>After that it puts the definition List into a div, which I have inside a table</p>\n\n<pre><code>&lt;table width=\"485\"&gt;&lt;tr&gt;&lt;td&gt;&lt;div id=\"agenda\"&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n</code></pre>\n\n<p>all of this information is found in the body, I can't seem to get it to work, I've been trying for a week now, and I can't find any way to make it work</p>\n",
            "last_activity_date": 1382280248,
            "question_id": 5194619,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "data",
                "youtube",
                "youtube-api"
            ],
            "title": "Getting Youtube Video Information using javascript/jquery"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>What's stopping you from using JavaScript and jQuery UI like this right now?</p>\n\n<p>To the best of my knowledge, loading a web page in a current-generation web browser requires an (X)HTML document, but nothing's preventing you from making that document a stub and building your application entirely in JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Let's see if I understand the question.  Instead of</p>\n\n<pre><code>&lt;script&gt;\n  $(function(){\n    $('a').button();\n  });\n&lt;/script&gt;\n&lt;body&gt;\n  &lt;button id=\"foo\"&gt;Foo&lt;/button&gt;\n  &lt;button id=\"bar\"&gt;Bar&lt;/button&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>You want</p>\n\n<pre><code>&lt;script&gt;\n  $(function(){\n    $('body').append($('&lt;button&gt;').attr('{ id: \"foo\" }').html('Foo').button());\n    $('body').append($('&lt;button id=\"bar\"&gt;Bar&lt;/button&gt;').button());\n  });\n&lt;/script&gt;\n&lt;body&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Does that meet your needs? At the end of the day you'll still need to specify the details of the button (where it goes, its text, what happens when you click it) no matter what the syntax is.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"http://www.dhtmlx.com/\" rel=\"nofollow\">DHTMLX</a> is similar to ExtJS, which unfortunately includes sharing some of its disadvantages.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I don't think a suitable DSL exists at the moment, the closest thing I can think of is CoffeeScript</p>\n\n<p><a href=\"http://jashkenas.github.com/coffee-script/\" rel=\"nofollow\">http://jashkenas.github.com/coffee-script/</a></p>\n\n<p>It would also be a good starting point to build from.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>As \"Mr. Shiny and New\" pointed out the following code would work:</p>\n\n<pre><code>$('body').append($('&lt;button&gt;').attr('{ id: \"foo\" }').html('Foo').button());\n</code></pre>\n\n<p>However the style you are looking for can be accieved by using the appendTo() function:</p>\n\n<pre><code>$('&lt;button id=\"foo\"&gt;&lt;/button&gt;')\n    .button({\n        label: \"Hello world!\",\n    }).click(function () {\n        //doSomething\n\n    }).appendTo('#test');\n</code></pre>\n\n<p>Furthermore the code above returns the \"button\" object which allows you to assign the object to a variable for future reuse:</p>\n\n<pre><code>// set up the button\nvar a = $('&lt;button/&gt;').button({\n    label: 'Hello world!'\n}).offset({\n    top: 80,\n    left: 120\n}).width(180).height(24)\n.click(function () {\n    // dosomething\n}).appendTo('body');\n\n// hide then show and rename (if it takes your fancy)\na.hide(300, function () {\n    a.show(300, function () {\n        a.button( \"option\" , {\n            label: 'Hello to the world again!'\n        });\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The closest thing that I found is <a href=\"http://www.activejs.org/activeview/ActiveView/Builder/tag/index.html\" rel=\"nofollow\">ActiveView</a> builder from <a href=\"http://www.activejs.org/\" rel=\"nofollow\">ActiveJs</a>. No widget supoport though</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You should take a look at Google Closure:</p>\n\n<p><a href=\"http://code.google.com/closure/\" rel=\"nofollow\">http://code.google.com/closure/</a></p>\n\n<p>In my opinion, it matches exactly what you are asking for.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is there a project (open source) that takes the widgets and plugins for <a href=\"http://jqueryui.com/home\" rel=\"nofollow\">jQuery UI</a> but allows us to use them without setting up any HTML?</p>\n\n<p>Kinda like <a href=\"http://www.sencha.com/products/js/\" rel=\"nofollow\">Ext-js</a> and <a href=\"http://www.sproutcore.com/community/\" rel=\"nofollow\">Sproutcore</a>, but without the acidental complexity and lack of fluidity, and more like <a href=\"http://cappuccino.org/\" rel=\"nofollow\">Cappuccino</a>, but without requiring a Mac and the horrible load times from Objective-j (which also has no IDE support). Also, more like <a href=\"http://ukijs.org/\" rel=\"nofollow\">Ukijs</a>, but with more widgets. And kinda like <a href=\"http://pyjs.org/\" rel=\"nofollow\">Pyjamas</a> and <a href=\"http://code.google.com/webtoolkit/\" rel=\"nofollow\">GWT</a>, but without the lack of widgets, pre-compiling step, and/or Java. For example:</p>\n\n<pre><code>uki({\n  view: \"Button\", text: \"Hello world!\",\n  rect: \"120 80 180 24\",\n  click: function() { alert(this.text());\n}).attachTo( document.getElementById(\"test\") );\n</code></pre>\n\n<p>The reason I'm taking jQuery is because it is the only web framework that supports all <a href=\"http://designingwebinterfaces.com/essential_controls\" rel=\"nofollow\">30 essential controls</a> (given with <a href=\"http://wiki.jqueryui.com/Essential-Controls-List\" rel=\"nofollow\">enough plugins</a>).</p>\n",
            "last_activity_date": 1319748600,
            "question_id": 3323347,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "user-interface",
                "jquery-ui"
            ],
            "title": "jQuery UI without HTML"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<pre><code>var resolver = Promise.defer();\nsetTimeout(function() {\n    resolver.resolve(something); // Resolve the value\n}, 5000);\nreturn resolver.promise;\n</code></pre>\n\n<p>This line is quite often used in the <a href=\"https://github.com/petkaantonov/bluebird/blob/master/API.md\">documentation</a>.</p>\n\n<p>Be aware that this is usually an anti-pattern to use that. But if you know what you're doing, <code>Promise.defer()</code> is a way to get the resolver that is similar Q's way.</p>\n\n<p><strong>It is, however, discouraged to use this method. Bluebird has even deprecated it.</strong></p>\n\n<p>Instead, you should use this way:</p>\n\n<pre><code>return new Promise(function(resolve, reject) {\n    // Your code\n});\n</code></pre>\n\n<p>See the relevant documentation bits: <a href=\"https://github.com/petkaantonov/bluebird/blob/master/API.md#promisedefer---promiseresolver\">Promise.defer()</a> and <a href=\"https://github.com/petkaantonov/bluebird/blob/master/API.md#new-promisefunctionfunction-resolve-function-reject-resolver---promise\">new Promise()</a>.</p>\n\n<hr>\n\n<p>After the update of your question, here is your issue: you're reusing the same promise to resolve several values. <strong>A promise can only be resolved once.</strong> It means you have to use <code>Promise.defer()</code> as many times as you have promises.</p>\n\n<p>That said, after seeing more of your code, it seems you're really using anti-patterns. One advantage of using promises is error handling. For your case, you'd just need the following code:</p>\n\n<pre><code>var gitControl = Promise.promisifyAll(Main.gitControl);\nvar promises = [];\npromises.push(gitControl.gitAddAsync(fileObj.filename, updateIndex));\nreturn promises;\n</code></pre>\n\n<p><strong>This should be enough to handle your use case.</strong> It is a lot clearer, and it also has the advantage of <strong>really</strong> handling the errors correctly.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>Florian provided a good answer For the sake of your original question, there are several ways to start a chain with Bluebird.</p>\n\n<p>One of the simplest is calling <code>Promise.resolve()</code> on nothing:</p>\n\n<pre><code>var queue = Promise.resolve();//resolve a promise with nothing or cast a value\n//OR\nPromise.try(function(...){\n    return ...//chain here\n});\n</code></pre>\n\n<p>So you can do:</p>\n\n<pre><code>var queue    = Promise.resolve()\n    promises = [];\nqueue = queue.then(function () {\n    return Main.gitControl.gitAdd(fileObj.filename, updateIndex);\n});\n\n// Here more promises are added to queue in the same way used above...\npromises.push(queue);\nreturn Promise.all(promises).then(function () {\n   // ...\n});\n</code></pre>\n\n<p>Although, personally I'd do something like:</p>\n\n<pre><code>//arr is your array of fileObj and updateIndex\n\nPromise.map(arr,function(f){ return Main.gitControl.gitAdd(f.filename,f.updateIndex).\n    then (function(result){\n        //results here\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                }
            ],
            "body": "<p>With Q I can define a new promise with:</p>\n\n<pre><code>var queue = q();\n</code></pre>\n\n<p>But with Bluebird if I do:</p>\n\n<pre><code>var queue = new Promise();\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>TypeError: the promise constructor requires a resolver function\n</code></pre>\n\n<p>How can I get the same result that I had with Q?</p>\n\n<p>This is a snippet of my code:</p>\n\n<pre><code>var queue    = q()\n    promises = [];\nqueue = queue.then(function () {\n    return Main.gitControl.gitAdd(fileObj.filename, updateIndex);\n});\n// Here more promises are added to queue in the same way used above...\npromises.push(queue);\nreturn Promise.all(promises).then(function () {\n   // ...\n});\n</code></pre>\n",
            "last_activity_date": 1409162676,
            "question_id": 22684643,
            "score": 12,
            "tags": [
                "javascript",
                "promise",
                "q",
                "bluebird"
            ],
            "title": "Define empty Bluebird promise like in Q"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>create a function and pass the tableID to it</p>\n\n<pre><code> function passing_id_to_excel(tableID){ \n  var myTableid =\n document.getElementById(tableID) //remaining code }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I recommend another Format method. the John Resig micro-template is a very good and simple tool for do what you need. (<a href=\"http://ejohn.org/blog/javascript-micro-templating/\">ejohn microtemplating</a>)</p>\n\n<pre><code>(function(){\n  var cache = {};\n\n  this.tmpl = function tmpl(str, data){\n    // Figure out if we're getting a template, or if we need to\n    // load the template - and be sure to cache the result.\n    var fn = !/\\W/.test(str) ?\n      cache[str] = cache[str] ||\n        tmpl(document.getElementById(str).innerHTML) :\n\n      // Generate a reusable function that will serve as a template\n      // generator (and which will be cached).\n      new Function(\"obj\",\n        \"var p=[],print=function(){p.push.apply(p,arguments);};\" +\n\n        // Introduce the data as local variables using with(){}\n        \"with(obj){p.push('\" +\n\n        // Convert the template into pure JavaScript\n        str.replace(/[\\r\\t\\n]/g, \" \")\n              .split(\"{{\").join(\"\\t\")\n              .replace(/((^|}})[^\\t]*)'/g, \"$1\\r\")\n              .replace(/\\t=(.*?)}}/g, \"',$1,'\")\n              .split(\"\\t\").join(\"');\")\n              .split(\"}}\").join(\"p.push('\")\n              .split(\"\\r\").join(\"\\\\'\")\n              + \"');}return p.join('');\");\n\n    // Provide some basic currying to the user\n    return data ? fn( data ) : fn;\n  };\n})();\n</code></pre>\n\n<p>It is very simple to use. This allows not only show variables between HTML but also execute JavaScript code</p>\n\n<p>Your template string need some modification to work with this microtemplate.</p>\n\n<pre><code>{{for(var i=0; i&lt;tables.length;i++){ }}\n    &lt;table&gt;\n        {{=tables[i]}}\n    &lt;/table&gt;\n{{ } }}\n</code></pre>\n\n<p>finally only need to select all the tables that appear in your example</p>\n\n<pre><code>document.getElementsByTagName(\"table\");\n</code></pre>\n\n<p>you can see how it works <a href=\"http://jsfiddle.net/Scipion/P8rpn/1/\">http://jsfiddle.net/Scipion/P8rpn/1/</a></p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<ol>\n<li>Add a checkbox for each table.  Use javascript to process those that are checked.</li>\n<li>In case if you just want to convert every table, you could use <code>$('table').each(function() { do something })</code>.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>Excel Export Script works on IE7+ , Firefox and Chrome\n===========================================================\n\n\n\nfunction fnExcelReport()\n    {\n             var tab_text=\"&lt;table border='2px'&gt;&lt;tr bgcolor='#87AFC6'&gt;\";\n             var textRange; var j=0;\n          tab = document.getElementById('headerTable'); // id of table\n\n\n          for(j = 0 ; j &lt; tab.rows.length ; j++) \n          {     \n                tab_text=tab_text+tab.rows[j].innerHTML+\"&lt;/tr&gt;\";\n                //tab_text=tab_text+\"&lt;/tr&gt;\";\n          }\n\n          tab_text=tab_text+\"&lt;/table&gt;\";\n          tab_text= tab_text.replace(/&lt;A[^&gt;]*&gt;|&lt;\\/A&gt;/g, \"\");//remove if u want links in your table\n          tab_text= tab_text.replace(/&lt;img[^&gt;]*&gt;/gi,\"\"); // remove if u want images in your table\n                      tab_text= tab_text.replace(/&lt;input[^&gt;]*&gt;|&lt;\\/input&gt;/gi, \"\"); // reomves input params\n\n               var ua = window.navigator.userAgent;\n              var msie = ua.indexOf(\"MSIE \"); \n\n                 if (msie &gt; 0 || !!navigator.userAgent.match(/Trident.*rv\\:11\\./))      // If Internet Explorer\n                    {\n                           txtArea1.document.open(\"txt/html\",\"replace\");\n                           txtArea1.document.write(tab_text);\n                           txtArea1.document.close();\n                           txtArea1.focus(); \n                            sa=txtArea1.document.execCommand(\"SaveAs\",true,\"Say Thanks to Sumit.xls\");\n                          }  \n                  else                 //other browser not tested on IE 11\n                      sa = window.open('data:application/vnd.ms-excel,' + encodeURIComponent(tab_text));  \n\n\n                      return (sa);\n                            }\n\n    Just Create a blank iframe\n\n        &lt;iframe id=\"txtArea1\" style=\"display:none\"&gt;&lt;/iframe&gt;\n\n    Call this function on\n\n        &lt;button id=\"btnExport\" onclick=\"fnExcelReport();\"&gt; EXPORT \n        &lt;/button&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p><br />I'm trying to convert HTML tables to Excel, i have tried with a JavaScript function which converts a simple table to Excel, it is working fine. If I have multiple tables how will I be able to add all the table data into the Excel file. here's what I tried. I've created 2 tables and given table index <code>testTable</code> and <code>testTable1</code>.</p>\n\n<p>How will i pass these 2 table ids to the JavaScript function on click of the button? right now on click of the button only the first table is exported to Excel as I'm passing only <code>'testTable'</code>. how will i be able to export multiple tables eg: <code>testTable</code>, <code>testTable1</code> into Excel?</p>\n\n<p>Here's the JavaScript:</p>\n\n<pre><code>&lt;script&gt;\n\nvar tableToExcel = (function() {\nvar uri = 'data:application/vnd.ms-excel;base64,'\n, template = '&lt;html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"&gt;&lt;head&gt;&lt;!--[if gte mso 9]&gt;    \n&lt;xml&gt;\n&lt;x:ExcelWorkbook&gt;&lt;x:ExcelWorksheets&gt;&lt;x:ExcelWorksheet&gt;&lt;x:Name&gt;{worksheet}\n&lt;/x:Name&gt;&lt;x:WorksheetOptions&gt;&lt;x:DisplayGridlines/&gt;&lt;/x:WorksheetOptions&gt;\n&lt;/x:ExcelWorksheet&gt;&lt;/x:ExcelWorksheets&gt;\n&lt;/x:ExcelWorkbook&gt;\n&lt;/xml&gt;\n&lt;![endif]--&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;table&gt;{table}&lt;/table&gt;&lt;/body&gt;&lt;/html&gt;'\n, base64 = function(s) { return window.btoa(unescape(encodeURIComponent(s))) }\n, format = function(s, c) { return s.replace(/{(\\w+)}/g, function(m, p) { return c[p]; }) }\nreturn function(table, name) {\nif (!table.nodeType) table = document.getElementById(table)\nvar ctx = {worksheet: name || 'Worksheet', table: table.innerHTML}\nwindow.location.href = uri + base64(format(template, ctx))\n}\n})()\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Here's the HTML part, </p>\n\n<pre><code>&lt;table id=\"testTable\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;ACP&lt;/th&gt;\n            &lt;th&gt;OEMCP&lt;/th&gt;\n            &lt;th&gt;Unix&lt;br&gt;\n                NT 3.1&lt;/th&gt;\n            &lt;th&gt;Unix&lt;br&gt;\n                NT 3.51&lt;/th&gt;\n            &lt;th&gt;Unix&lt;br&gt;\n                95&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n&lt;/table&gt;\n&lt;table id=\"testTable1\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;ACP&lt;/th&gt;\n            &lt;th&gt;OEMCP&lt;/th&gt;\n            &lt;th&gt;Windows&lt;br&gt;\n                NT 3.1&lt;/th&gt;\n            &lt;th&gt;Windows&lt;br&gt;\n                NT 3.51&lt;/th&gt;\n            &lt;th&gt;Windows&lt;br&gt;\n                95&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Please let me know, how this can be done?<br />\nThanks </p>\n",
            "last_activity_date": 1417111941,
            "question_id": 15224002,
            "score": 12,
            "tags": [
                "javascript",
                "html",
                "html5",
                "excel",
                "export-to-excel"
            ],
            "title": "JavaScript - export HTML table data into Excel"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>First, <strong>increase the charge strength</strong> and <strong>reduce the link distance</strong>. Doing so places a greater emphasis on global structure rather than local connections. Also, if you increase the charge strength enough, the repulsive charge will push even directly-connected nodes farther apart, thus effectively increasing the link distance while giving better overall structure. (The downside of a stronger charge force is that graph initialization is more chaotic, but this shouldn\u2019t be a problem for static layouts.)</p>\n\n<p><a href=\"http://bl.ocks.org/3311124\"><img src=\"http://i.stack.imgur.com/feYPL.png\" width=\"229\"></a></p>\n\n<p>Second, you may need to <strong>increase the number of iterations</strong> or <strong>add custom forces</strong> to get better results. Force layouts often work well on arbitrary graphs, but there\u2019s no guarantee that they will produce an optimal (or even good) result. For any graph where you can make simplifying assumptions (for example, <a href=\"http://mbostock.github.com/d3/talk/20110921/parent-foci.html\">trees</a>), there may be additional forces or constraints that you can apply to encourage the simulation to converge onto a better solution.</p>\n",
                    "is_accepted": true,
                    "score": 21
                }
            ],
            "body": "<p>I have a working code example (only the <code>&lt;script type=\"text/javascript\"&gt;</code> part) of a static graph using <code>d3.js</code> as below:</p>\n\n<pre><code>        /* Create graph data */\n        var nodes = [];\n        for (var i = 0; i &lt; 13; i++) \n        {\n            var datum = {\n                \"value\": i\n            };\n            nodes.push(datum);\n        }\n\n        var links = [{\"source\": 0, \"target\": 1},\n                     {\"source\": 1, \"target\": 2},\n                     {\"source\": 2, \"target\": 0},\n                     {\"source\": 1, \"target\": 3},\n                     {\"source\": 3, \"target\": 2},\n                     {\"source\": 3, \"target\": 4},\n                     {\"source\": 4, \"target\": 5},\n                     {\"source\": 5, \"target\": 6},\n                     {\"source\": 5, \"target\": 7},\n                     {\"source\": 6, \"target\": 7},\n                     {\"source\": 6, \"target\": 8},\n                     {\"source\": 7, \"target\": 8},\n                     {\"source\": 9, \"target\": 4},\n                     {\"source\": 9, \"target\": 11},\n                     {\"source\": 9, \"target\": 10},\n                     {\"source\": 10, \"target\": 11},\n                     {\"source\": 11, \"target\": 12},\n                     {\"source\": 12, \"target\": 10}];\n\n        /* Create force graph */\n        var w = 800;\n        var h = 500;\n\n        var size = nodes.length;\n        nodes.forEach(function(d, i) { d.x = d.y = w / size * i});\n\n        var svg = d3.select(\"body\").append(\"svg\")\n                    .attr(\"width\", w)\n                    .attr(\"weight\", h);\n\n        var force = d3.layout.force()\n                      .nodes(nodes)\n                      .links(links)\n                      .linkDistance(200)\n                      .size([w, h]);\n\n        setTimeout(function() {\n\n            var n = 400\n            force.start();\n            for (var i = n * n; i &gt; 0; --i) force.tick();\n            force.stop();\n\n            svg.selectAll(\"line\")\n               .data(links)\n               .enter().append(\"line\")\n               .attr(\"class\", \"link\")\n               .attr(\"x1\", function(d) { return d.source.x; })\n               .attr(\"y1\", function(d) { return d.source.y; })\n               .attr(\"x2\", function(d) { return d.target.x; })\n               .attr(\"y2\", function(d) { return d.target.y; });\n\n            svg.append(\"svg:g\")\n               .selectAll(\"circle\")\n               .data(nodes)\n               .enter().append(\"svg:circle\")\n               .attr(\"class\", \"node\")\n               .attr(\"cx\", function(d) { return d.x; })\n               .attr(\"cy\", function(d) { return d.y; })\n               .attr(\"r\", 15);\n\n            svg.append(\"svg:g\")\n               .selectAll(\"text\")\n               .data(nodes)\n               .enter().append(\"svg:text\")\n               .attr(\"class\", \"label\")\n               .attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\n               .attr(\"text-anchor\", \"middle\")\n               .attr(\"y\", \".3em\")\n               .text(function(d) { return d.value; });\n\n        }, 10);\n</code></pre>\n\n<p>and it produces this rather scrambled layout:</p>\n\n<p><img src=\"http://i.stack.imgur.com/AzjjJ.png\" alt=\"enter image description here\"></p>\n\n<p>While it is technically the correct graph, the ideal layout should be something like this (ignoring the different visual graphics):</p>\n\n<p><img src=\"http://i.stack.imgur.com/Z9YCF.png\" alt=\"enter image description here\"></p>\n\n<p>Note that the layout should be fixed so that reloading the page does not change the positioning of each node; the layout should also be static, in that there is no animation effect and the nodes are not draggable. Both requirements are already achieved in the script above.</p>\n\n<p>So how should I further configure this <code>d3</code> script to produce a layout shown in the second image?</p>\n",
            "last_activity_date": 1390146525,
            "question_id": 11894057,
            "score": 12,
            "tags": [
                "javascript",
                "graph",
                "svg",
                "d3.js",
                "force-layout"
            ],
            "title": "Configure fixed-layout static graph in d3.js"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>putting <code>onclick=\"\"</code> inside your markup feels dirty -- mixing presentation with content.  I'd recommend you add a <code>&lt;script&gt;</code> block and put the <code>require</code> in it, and once inside the callback, and inside another inner <code>$(document).ready()</code> if necessary then wire up your event handlers in the normal way: <code>$('#node').click(...)</code>.  If you can do this generically enough that it's applicable to multiple pages, then put it inside an external file that is minified, combined, and cached.  But typically these things end up being page-specific, so a <code>&lt;script&gt;</code> tag at the bottom of the page is a good solution to avoid yet another external resource request.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>One benefit from using AMD is to drop the need for namespaces. Trying to create them again with RequireJS will go against the patterns AMD promotes.</p>\n\n<p>With regard to using <code>main.js</code>, this is only really appropriate when you have a single page app and all your code be reference from one place. You're free to make additional calls to require and load other modules as you need them.</p>\n\n<p>Using your example from above, you could approach it this way:</p>\n\n<p><strong>foo.js</strong></p>\n\n<pre><code>define(['jquery'], function($) {\n\n    // Some set up \n    // code here\n\n    // Return module with methods\n    return {\n        bar: function() {\n\n        }\n    }\n\n\n});\n</code></pre>\n\n<p><strong>page.js</strong></p>\n\n<pre><code>require(['foo'], function(foo) {\n\n    // jQuery loaded by foo module so free to use it\n    $('.button').on('click', function(e) {\n        foo.bar();\n        e.preventDefault();\n    });\n\n});\n</code></pre>\n\n<p>Then in your page request the page.js file with require. </p>\n\n<p>Using your example above:</p>\n\n<pre><code>require({\n    // config stuff here\n}, [ 'page' ]);\n</code></pre>\n\n<p>Or loading it in the page further down:</p>\n\n<pre><code>&lt;script&gt;\n    require(['page']);\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>Some additional points</strong></p>\n\n<ul>\n<li><p>Using the pattern above, page.js could easily require many other\nmodules to load other page related functionality.</p></li>\n<li><p>Where before you would attach members to your global namespace, you\nnow split that code into separate modules that can be re-used on\nany page. All without reliance on a global object.</p></li>\n<li><p>Using require this way to attach events to your DOM elements will\nmost likely <a href=\"http://requirejs.org/docs/download.html#domReady\">rely on the DOM Ready module</a> provided by RequireJS</p></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>You can also set the reference on javascript's window class.</p>\n\n<p>At the bottom of the application module <code>window.MyApi = MyApi;</code></p>\n\n<p><code>&lt;a class=\"button\" href=\"#\" onclick=\"MyApi.foo();\"&gt;&lt;/a&gt;</code></p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>I'm changing a project from an \"old\" browser-style module structure to a \"new\" browser-<strong>or</strong>-<em>server-side-javascript</em> module structure with <a href=\"http://requirejs.org/\">require.js</a>.</p>\n\n<p>On the client I'm using an offsite hosted jQuery, so I started from the example they give in the <a href=\"https://github.com/jrburke/require-jquery/blob/master/README.md\">\"use priority config\"</a> technique of the README:</p>\n\n<pre><code>&lt;title&gt;My Page&lt;/title&gt;\n&lt;script src=\"scripts/require.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\nrequire({\n    baseUrl: 'scripts',\n    paths: {\n        jquery: 'http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min',\n        jqueryui: ...,\n        ...\n        ... // bunch more paths here\n    },\n    priority: ['jquery']\n}, [ 'main' ]);\n&lt;/script&gt;\n</code></pre>\n\n<p>This is actually working all right.  But I'd like to export functionality from main to the HTML webpage itself.  For instance:</p>\n\n<pre><code>&lt;a class=\"button\" href=\"#\" onclick=\"MyApi.foo();\"&gt;\n    &lt;img src=\"foo.png\" alt=\"foo\" /&gt;Click for: &lt;b&gt;Foo!&lt;/b&gt;\n&lt;/a&gt;\n</code></pre>\n\n<p>Before fitting into the AMD module pattern, I'd exposed functionality from my various files by creating a dictionary object in the global space:</p>\n\n<pre><code>// main.js\n\nvar MyApi = {};\n\njQuery(document).ready(function($) {\n    // ...unexported code goes here...\n\n    // export function via MyApi\n    MyApi.foo = function() {\n        alert(\"Foo!\");\n    };\n});\n</code></pre>\n\n<p>But I don't know what the right approach in require.js is.  Is it okay to put in the HTML more <code>require</code> statements inside of <code>&lt;script&gt;</code> tags, and then name modules so that it can be used from within the webpage?  Or should this always be done dynamically inside of main.js, like <code>$('#foobutton').click(...)</code>?</p>\n",
            "last_activity_date": 1339373780,
            "question_id": 10302724,
            "score": 12,
            "tags": [
                "javascript",
                "html",
                "module",
                "requirejs"
            ],
            "title": "Calling methods in RequireJs modules from HTML elements such as onclick handlers"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>you can wrap your require with another require\nthe plugin will be loaded first, and afterwards you can do your app.</p>\n\n<pre><code>require([\"myCustomTastyPiePlugin.js\"], function () {\n    //This callback is called after the one script finish loading.\n\n    require([\"one.js\", \"two.js\", \"three.js\"], function () {\n        //This callback is called after the three scripts finish loading.\n\n        // all your code goes here...\n\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><strong>UPDATE:</strong> I have forked an AMD compatible backbone-tastypie called <a href=\"https://github.com/adamscybot/backbone-tastypie-amd\">backbone-tastypie-amd.</a></p>\n\n<p>While sander's solution would work, its a little annoying to do the whole nested require thing every time you want backbone.</p>\n\n<p>backbone-tastypie is what is called a \"traditional script\". You can solve the issue in 4 ways.</p>\n\n<ol>\n<li><p>Make backbone-tastypie AMD compatible yourself. You can do this in one of two ways. Option 1 would be to never include backbone directly - only backbone-tastypie. Then modify backbone tastypie to ensure backbone is required.</p>\n\n<pre><code>var root = this;\nvar Backbone = root.Backbone;\nif (!Backbone &amp;&amp; (typeof require !== 'undefined')) Backbone = require('backbone').Backbone;\n</code></pre>\n\n<p>However this isn't very nice because essentially it will start downloading backbone after backbone-tastypie has loaded (synchronous). It also doesn't give requirejs the full understanding of how these modules relate, and thats the point right? So lets wrap backbone-tastypie in a define():</p>\n\n<pre><code>(function (factory) {\n        if (typeof define === 'function' &amp;&amp; define.amd) {\n                // AMD. Register as an anonymous module.\n                define(['backbone'], factory);\n        } else {\n                // RequireJS isn't being used. Assume backbone is loaded in &lt;script&gt; tags\n                factory(Backbone);\n        }\n}(function (Backbone) {\n        //Backbone-tastypie contents\n}));\n</code></pre>\n\n<p>This is by far the best option out of everything in this answer. RequireJS knows about the dependencies and it can resolve them, download them and evaluate them correctly. It's worth noting that Backbone itself loads underscore using option 1 and does not define itself as a module, which is pretty bad. You can get the AMD optimised version of backbone <a href=\"https://github.com/jrburke/backbone/blob/optamd3\">right here.</a> Assuming you are using this AMD version you can now go right ahead and require backbone-tastypie in your app (either by requiring it in a define() or the actual require() function). You dont have to include backbone or underscore either, as those dependencies are resolved by requirejs. </p></li>\n<li><p>Use the require.js <a href=\"http://requirejs.org/docs/download.html#order\">ordering plugin</a>. This forces things to load in order (still asynchronous in some respects as it downloads them whenever, but evaluates in correct order)</p>\n\n<pre><code>require([\"order!backbone.js\", \"order!backbone-tastypie.js\"], function () {\n     //Your code\n});\n</code></pre></li>\n<li><p>Put backbone.js in the <a href=\"https://requirejs.org/docs/api.html#config-priority\">priority config</a>. This forces backbone and its dependencies to always load first no matter what.</p></li>\n<li><p>Append backbone-tastypie to the same file as backbone.js. Every time backbone is loaded, so is backbone tastypie. Hacky? Yes. But this is very similar to the recommended way of using  <a href=\"https://github.com/jrburke/require-jquery\">jquery with requireJS</a> (jquery plugins need jquery to be loaded - much like backbone-tastypie needs backbone to be loaded).</p></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>The following should work with RequireJS 2.1.0+ assuming you've set up the paths correctly.</p>\n\n<pre><code>require.config({\n  shim: {\n    'underscore': {\n      exports: '_'\n    },\n    'backbone': {\n      deps: ['underscore','jquery'],\n      exports: 'Backbone'\n    },\n    'backbone-tastypie': {\n      deps: ['backbone']\n    }\n  }\n);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I'm using require.js to help organize my Backbone.js based application.</p>\n\n<p>I'm trying to figure out the right way to use a 3rd party javascript library that is not AMD compatible with require.js</p>\n\n<p>The library in questions is <a href=\"https://github.com/PaulUithol/backbone-tastypie/blob/master/backbone_tastypie/static/js/backbone-tastypie.js\">backbone-tastypie.js</a>.  Basically what the library does is monkeypatch some of the prototype methods of Backbone to provide simpler support for the TastyPie Django REST framework.  It does this by directly manipulating the Backbone object in the global namespace.</p>\n\n<p>However, since I'm using Backbone.js as a require.js module, it isn't available when this library tries to access it.</p>\n\n<p>How can I go about importing this backbone-tastypie in the scope of Backbone?</p>\n",
            "last_activity_date": 1361416401,
            "question_id": 8675874,
            "score": 12,
            "tags": [
                "javascript",
                "backbone.js",
                "requirejs",
                "tastypie"
            ],
            "title": "Using non-AMD compatible javascript module with require.js?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>In Mac OS X terms it is called a \u201cpredicate editor\u201d, and can be found in Mail.app and iTunes. I had need for one a while ago, and scoured the web from end to end without finding one. I ended up building my own using jQuery, and it looks like this (text is in norwegian, sorry):</p>\n\n<p><img src=\"http://i.stack.imgur.com/rrGOM.png\" alt=\"Javascript predicat editor\"></p>\n\n<p>Sadly this is used in an internal project and the source code is not available as it is very application-specific. There is a need for a free component like this though, so if I get around to it I will try to clean this up and release it.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>No mainstream tool out there for PHP... except the ones we make for ourselves :)...Its easy to implement a decent one... Just need to decide where you will store the rules... I had built one for myself with the Rule definition stored in XML ... Then updated it a few months back to store that in JSON .... You write \"smarty like\" templates for the output you want... 2 cases where I used this was for an Active Record implementation as well as PDF generation ... the move to JSON was because most of the newer usage scenarios were related to throwing out javascript for  the pages to consume...</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This here should be exactly what you're looking for?</p>\n\n<ul>\n<li>Demo: <a href=\"https://github.com/chrisjpowers/business-rules\" rel=\"nofollow\">https://github.com/chrisjpowers/business-rules</a></li>\n<li>Code: <a href=\"https://github.com/chrisjpowers/business-rules\" rel=\"nofollow\">https://github.com/chrisjpowers/business-rules</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This fits the bill: (jquery) <a href=\"https://github.com/oruen/predicate-builder\" rel=\"nofollow\">predicate-builder</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><a href=\"https://packagist.org/packages/ruler/ruler\" rel=\"nofollow\">https://packagist.org/packages/ruler/ruler</a></p>\n\n<p><a href=\"https://github.com/bobthecow/Ruler\" rel=\"nofollow\">https://github.com/bobthecow/Ruler</a></p>\n\n<p>This is very similar to magento one and we are going to use it in our laravel application.more guidance for implementation you can find there.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I would like to add a feature to a web app I am developing to allow the user to create rules with an expression builder. Such as the one used in Magento (picture in link below).</p>\n\n<p><a href=\"http://i.stack.imgur.com/ZWgcG.png\">http://i.stack.imgur.com/ZWgcG.png</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/jLNgu.png\" alt=\"enter image description here\"></p>\n\n<p>I want to allows them to be able to create the expressions or if statements using column names from a table in a Database, then be able to do comparisons and what not. The expression built in the user interface would then evaluate to code that would be evaluated by a PHP script or Javascript or Perl</p>\n\n<p>I searched the web for things like this that are javascript (ajax) based. I figures there has to be a module or something out on the internet somewhere for jQuery or something similar, but I haven't been able to find anything. I am also not quite sure what something like this is called besides \"Expression Builder\". If there is something like this out there it would save me a lot of time compared to writing it from scratch.</p>\n",
            "last_activity_date": 1425984219,
            "question_id": 7031805,
            "score": 12,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "ajax",
                "dojo"
            ],
            "title": "jQuery (or any web tool) Nested Expression Builder"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>1 solution in psuedocode:</p>\n\n<pre><code>OnKeyPress()\n    txt = getTxt\n    sleep(200)\n    newTxt = getTxt\n    if (txt == newTxt)  // nothing has been typed so do something\n       run my thing\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You really ought to look at using the jQuery <a href=\"http://bassistance.de/jquery-plugins/jquery-plugin-autocomplete/\" rel=\"nofollow\">autocomplete</a> plugin.  I find this plugin to be very useful and it already does what you need.  Look particularly at the delay <a href=\"http://docs.jquery.com/Plugins/Autocomplete/autocomplete#url%5For%5Fdataoptions\" rel=\"nofollow\">option</a>, which you can customize to change how long the plugin waits after a keystroke to run.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Easy, using <a href=\"https://developer.mozilla.org/en/DOM%3awindow.setTimeout\"><code>setTimeout</code></a>.  Of course you only want one timer going at once, so it's important to use <a href=\"https://developer.mozilla.org/en/DOM%3awindow.clearTimeout\"><code>clearTimeout</code></a> at the beginning of the function...</p>\n\n<pre><code>$(function() {\n  var timer;\n  $(\"#searchMe\").keyup(function() {\n    clearTimeout(timer);\n    var ms = 200; // milliseconds\n    var val = this.value;\n    timer = setTimeout(function() {\n      lookup(val);\n    }, ms);\n  });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 31
                },
                {
                    "body": "<p>I have found the best success when attaching the event to keypress, keydown, and keyup inputs.  Safari/FireFox/IE all seem to handle special keypresses (delete, backspace, etc.) a bit differently but using all events together seems to cover it.  The only way that running all events works though is to use setTimeout so that when they all fire it just resets the timer and ultimately the callback only gets executed once.</p>\n\n<pre><code>var delay = 200;\nvar search_timer = null;\n$(\"#searchMe\").keydown(function(e) {\n    if(search_timer) {\n        clearTimeout(search_timer);\n    }\n    search_timer = setTimeout(lookup, delay);\n});\n$(\"#searchMe\").keypress(function(e) {\n    if(search_timer) {\n        clearTimeout(search_timer);\n    }\n    search_timer = setTimeout(lookup, delay);\n});\n$(\"#searchMe\").keyup(function(e) {\n    if(search_timer) {\n        clearTimeout(search_timer);\n    }\n    search_timer = setTimeout(lookup, delay);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>this one is happy   </p>\n\n<pre><code> $(document).ready(function(){\n\n   $(\"#searchMe\").keyup(function () {\n\n  try{window.clearTimeout(timeoutID);}catch(e){}\n  timeoutID = window.setTimeout(run, 2000); //delay\n\n  function run()\n  {      //dowhatev\n    var text = $(\"#searchMe\").val();\n    //$(\"#showit\").html(text);       \n  }     \n });   \n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You may be interested in my <a href=\"http://phrogz.net/jquery-bind-delayed-get\" rel=\"nofollow\"><code>bindDelayed</code></a> jQuery mini-plugin. It:</p>\n\n<ul>\n<li>Allows you to specify a delay before kicking off the request</li>\n<li>Automatically cancels any previous requests that were scheduled to go off</li>\n<li>Automatically cancels any in-air XHR requests that were in progress when you make your request</li>\n<li>Only invokes your callback for the latest request\n<ul>\n<li><em>If the user types \"s\", waits long enough for the request to go out, and then types \"a\", and the response for \"s\" comes back before the response for \"sa\" you won't have to deal with it.</em></li>\n</ul></li>\n</ul>\n\n<p>The answer to the original question using <code>bindDelayed</code> would look like so:</p>\n\n<pre><code>// Wait 200ms before sending a request,\n// avoiding, cancelling, or ignoring previous requests\n$('#searchMe').bindDelayed('keyup',200,'/RPCsearch.php',function(){\n  // Construct the data to send with the search each time\n  return {queryString:this.value};\n},function(html){\n  // Use the response, secure in the knowledge that this is the right response\n  $(\"#suggestions\").html(html).show();\n},'html','post');\n</code></pre>\n\n<p>In case my site is down, here's the plugin code for Stack Overflow posterity:</p>\n\n<pre><code>(function($){\n  // Instructions: http://phrogz.net/jquery-bind-delayed-get\n  // Copyright:    Gavin Kistner, !@phrogz.net\n  // License:      http://phrogz.net/js/_ReuseLicense.txt\n  $.fn.bindDelayed = function(event,delay,url,dataCallback,callback,dataType,action){\n    var xhr, timer, ct=0;\n    return this.on(event,function(){\n      clearTimeout(timer);\n      if (xhr) xhr.abort();\n      timer = setTimeout(function(){\n        var id = ++ct;\n        xhr = $.ajax({\n          type:action||'get',\n          url:url,\n          data:dataCallback &amp;&amp; dataCallback(),\n          dataType:dataType||'json',\n          success:function(data){\n            xhr = null;\n            if (id==ct) callback.call(this,data);\n          }\n        });\n      },delay);\n    });\n  };\n})(jQuery);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I've got a search input which sends data from an input to a php file as I type. The php file does a search on my database and shows up a list of search options. You know, the ajax style live searching.</p>\n\n<p>My problem is, if you type something really fast, it might just conduct a search off of the first 1 or 2 letters even though another 10 have been typed. This causes a few problems.</p>\n\n<p>My jquery looks a bit like this:</p>\n\n<pre><code>$(document).ready(function(){\n$('#searchMe').keyup(function(){\n\n\tlookup(this.value);\n\n});\n});\n</code></pre>\n\n<p>and </p>\n\n<pre><code>function lookup(searchinput) {\n\n\n\n if(searchinput.length == 0) {\n    // Hide the suggestion box.\n    $(\"#suggestions\").hide();\n } else {\n\n$('#loading').fadeIn();\n\n\n    $.post(\"/RPCsearch.php\", {queryString: \"\"+searchinput+\"\"}, function(data){\n        if(data.length &gt; 0) {\n            $(\"#suggestions\").html(data).show();\n            $('#loading').fadeOut();\n        }\n    });\n}\n} // lookup\n</code></pre>\n\n<p>So I'm just curious, how can I make it so that my script waits until I've finished typing before running the function? My logic says something like if a key hasn't been pressed for 200 micro seconds, run the function, otherwise hold up a bit.</p>\n\n<p>How is this done?</p>\n",
            "last_activity_date": 1382604563,
            "question_id": 1171582,
            "score": 12,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "How do I make my live jQuery search wait a second before performing the search?"
        },
        {
            "answer_count": 20,
            "answers": [
                {
                    "body": "<p>Yes, definitely learn Javascript before you learn one of the libraries about. It's the whole walk-before-you-can-run thing.</p>\n",
                    "is_accepted": true,
                    "score": 31
                },
                {
                    "body": "<p>Unless you want to really get into javascript, I think you'd be better off learning enough JS to leverage one of the tried and tested javascript libraries out there.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Yes, absolutely you should learn JavaScript if you are doing web development.  I highly recommend <a href=\"http://rads.stackoverflow.com/amzn/click/0596517742\">JavaScript: The Good Parts</a>, by Doug Crockford.  And, JQuery is a great framework to use (this site uses it) -- it kind of depends on what you are trying to do -- YUI and ExtJS are also very nice.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Learning a second programming language is always good. \nBy the sound of it, JavaScript is a language that you use, to it will be of practical use too. As a web dev, it has been recommended to me in a review that i learn at least basic JavaScript.</p>\n\n<p>A library such as jQuery is essential for web development thse days, so you could learn that too.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I don't think a lot of deliberate learning makes sense (but of course you need some basic knowledge), but I also think after some years of web development you'll become pretty proficient in the language anyway :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>One thing nice about JavaScript is that it is quite different from mainstream languages such as C#, VB.NET or Java. Learning it, especially if you have occasions to use it, will give you another insight on programming, and that's always good. I think it's worth learning it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Javascript is one of those languages that spending a few hours learning will probably teach you 99% of what you will ever really use.  I would imagine you are at the point in your learning of javascript that you know more than enough now and just learn one or more of the frameworks now.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you are a webdev then yes, you should be proficient with Javascript. Javascript is a major part of making web apps as interactive as desktop apps. </p>\n\n<p>With that being said, learn to use one of the cross-browser compatible libraries like JQuery, Prototype, etc. We do not need to have any more single browser crud created using Javascript, just because any real man/woman rolls their own.</p>\n\n<p>A few things to learn in Javascript:\n1. Basic syntax\n2. The various flavours of function declaration. \n3. Passing functions around and how to use passed in functions.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I recommend Jeremy Keith's books: <a href=\"http://rads.stackoverflow.com/amzn/click/1590595335\" rel=\"nofollow\">DOM Scripting</a> and <a href=\"http://bulletproofajax.com/\" rel=\"nofollow\">Bulletproof Ajax</a>. After you become more fluent in JS I would recommend a JS library(I use jQuery, but that is not important).</p>\n\n<p>JS is important to learn. You cannot use a framework without the proper understanding of how it works. That is doing things backwards.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I would recommend brushing up on your non-frameworked javascript first.  Refreshing/learning basic concepts of dom manipulation and what not.  Like learning how to build a linked list, stack or queue in C++ before learning how to use the STL (standard template libraries).</p>\n\n<p>In addition to brushing up on straight javascript, it might be good to get into a framework that doesn't abstract and change the way things work so much, for instance Prototype.  You code with it very much the same way you code with straight javascript.  Read through the Prototype code, learn how to make classes, and do some fancy stuff.  From experience, I can say reading through the Prototype.js helped me learn alot.</p>\n\n<p>After messing around a bit, then I'd say go for jQuery.  If jQuery didn't, literally, change the way you write code I'd say go for it first, but learning how to build classes and js inheritance and what not can be a very important lesson for someone who wants to become fluent in JS.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you are doing web development then at some point you are going to get exposed to Javascript or <a href=\"http://en.wikipedia.org/wiki/ECMAScript\" rel=\"nofollow\">ECMAScript</a> at some point in your career for any one of a number of reasons. At a minimum you should know enough Javascript to be able to be able to validate user input; however, the web is moving in the direction of using more an more Ajax so you should also know enough Javascript to properly leverage one of the major libraries out there such as <a href=\"http://jquery.com/\" rel=\"nofollow\">jQuery</a>.</p>\n\n<p>As some of the other users have noted, you can learn most of what you need of Javascript on a day to day basis in a single day or a couple of afternoons. If you want to get more advanced with Javascript then you are going to have to invest much more time in learning the language but odds are that unless you seek out this type of work that you are not going to encounter something that a preexisting library doesn't already exist for.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>i thing you should have a good knoloedge base of language specification and DOM (Document Object Model). it means,you shoud know how  find/create \"page object\" an edit properties. Also you should have an idea of \"object oriented\" javascript tecniques, which the starting point of a lot of framework. you don't need learn specific framework if you don't use it. simple keep in mind generic base concept!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Hands down yes. There's a reason that Google have made such a big fuss about the <a href=\"http://searchsoa.techtarget.com/news/article/0,289142,sid26_gci1328625,00.html\" rel=\"nofollow\">V8 JS engine for Chrome</a>, why Mozilla are working on <a href=\"http://arstechnica.com/news.ars/post/20080822-firefox-to-get-massive-javascript-performance-boost.html\" rel=\"nofollow\">TraceMonkey</a> for Firefox and why Webkit have been working on <a href=\"http://webkit.org/blog/214/introducing-squirrelfish-extreme/\" rel=\"nofollow\">Squirrelfish</a> for a while (now Squirrelfish extreme). It's because JS is becoming more popular by the day.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Make sure you add these sites to your bookmarks:</p>\n\n<p><a href=\"http://developer.mozilla.org/En\">Mozilla's developer site</a>: This contains the reference to the Javascript API in Mozilla. This will help you make sure you're writing code that Firefox understands.</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/ie/default.aspx\">IE's site in Microsoft Developer Network</a>: The same, for IE.</p>\n\n<p><a href=\"http://www.w3.org/TR/DOM-Level-2-HTML/html.html\">W3's reference of DOM for HTML</a>: In most web applications today, the Javascript code manipulates the DOM, which is an internal keeping track of the objects displayed on screen (but you already knew that, right ?) This is the reference to the DOM API. It is language neutral, which means it does not target Javascript, but these methods exist in Javascript too.</p>\n\n<p><a href=\"http://javascript.crockford.com/\">Douglas Crockford' site</a>: Doug Crockford is THE MAN when it comes down to Javascript. The articles in his page are a must read. Because Javascript has closures and first-class functions, he believes it is closer to Lisp and Scheme than to other languages. And he teaches you how to greatly improve your code with these language features.</p>\n\n<p><a href=\"http://developer.yahoo.com/\">Yahoo Developer network</a>: You may also want to check this. I'm not a regular visitor to this site, though, so I can't really say much about it.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>Learning javascript is recommended for any web application developer. Why?</p>\n\n<ul>\n<li>You will better understand the <strong>possibilities, limitations and dangers</strong> related to developing a web application</li>\n<li>It is a boost for your career, if you are working on a web application that has a <strong>user interface</strong>.</li>\n</ul>\n\n<p>However, learning javascript is usually a <strong>trade-off</strong> between a programming language and another. You should consider whether javascript is relevant for your career or project.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If all you want is to do some simple UI-effects and the like, I suggest you just pick a library and go for it! </p>\n\n<p>Using libraries eliminates all the flawed implementations of JavaScript and provides you with an API which is the same across all browsers. And if you're working together with others it is also a great way of implementing code-standards and best practices.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><a href=\"http://shouldilearnjavascript.com\">The answer is simple.</a></p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>I'll go with the opposite answer most are putting out there. Learning javascript as a developer these days is almost pointless. The language is similar enough to java/C# that it's syntax and semantics shouldn't be lost on you.</p>\n\n<p>What you should learn is jQuery.</p>\n\n<p>As you use jQuery you'll pick up the most common things you'll ever need from javascript anyway. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you're involved with the Web in anyway then the answer is \"Yes, always\".  Maybe an embedded or system's programmer could get by without JavaScript, but not a webdev.</p>\n\n<p>Most of the libraries are designed to alleviate some of the pain of interacting with a multitude of browsers.  They will not abstract away core JavaScript functionality.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Yes, you should learn JavaScript. Sooner or later you will need to use it!</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am a .NET webdev using ASP.NET, C# etc... I \"learned\" javascript in college 5+ years ago and can do basic jobs with it. But I wonder if it is useful to become proficient in it.</p>\n\n<p>Why should I learn Javascript?\nIs it more advantageous then learning JQuery or a different <a href=\"http://stackoverflow.com/questions/913/what-javascript-library-would-you-choose-for-a-new-project-and-why\">library</a>?</p>\n",
            "last_activity_date": 1272155603,
            "question_id": 114807,
            "score": 12,
            "tags": [
                "javascript"
            ],
            "title": "Should I learn/become proficient in Javascript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Once you've got hold of the text nodes containing the text you want highlighted, it's easy. How you get those depends on how generic you need this to be. As it is at the moment, before the user has edited it, the following will work:</p>\n\n<pre><code>var mainDiv = document.getElementById(\"main\");\nvar startNode = mainDiv.firstChild.firstChild;\nvar endNode = mainDiv.childNodes[2].firstChild;\n\nvar range = document.createRange();\nrange.setStart(startNode, 6); // 6 is the offset of \"world\" within \"Hello world\"\nrange.setEnd(endNode, 7); // 7 is the length of \"this is\"\nvar sel = window.getSelection();\nsel.removeAllRanges();\nsel.addRange(range);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 21
                }
            ],
            "body": "<p>I've got a <code>contenteditable</code> div and a few paragraphs in it.</p>\n\n<p>Here's my code:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"main\" contenteditable=\"true\" \n             style=\"border:solid 1px black; width:300px; height:300px\"&gt;\n            &lt;div&gt;Hello world!&lt;/div&gt;\n            &lt;div&gt;\n                &lt;br&gt;\n            &lt;/div&gt;\n            &lt;div&gt;This is a paragraph&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Assuming a situation, I want a code to make a range selection which will contain the string \"world! This is\" (\"world! This is\" will get highlighted).</p>\n\n<p>How can I do it? I only need it to work in webkit browsers, specifically Google Chrome.</p>\n",
            "last_activity_date": 1404936526,
            "question_id": 3771824,
            "score": 11,
            "tags": [
                "javascript",
                "selection",
                "range"
            ],
            "title": "Select range in contenteditable div"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You do it using a good way, and that's pretty fast considering other manners.</p>\n\n<p>An alternate, supposely clean solution is to build in javascript the DOM elements you are to use, by calling several </p>\n\n<blockquote>\n  <p>document.createElement(tagName);</p>\n</blockquote>\n\n<p>But your code will rapidly grow, in my thought, for nothing.</p>\n\n<p>Another one, my favorite way to achieve DOM creation, is to place inside the HTML body the code you want to copy, give it a className and / or an id like \"template\" which will additionally ( using css ) hide it, and then process it as needed on event by getting the element back, cloning it, and setting property you want before appending where it belongs</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>If I understand you well, your question is about initializing large strings the way you'll do that in PHP (or Perl for that matter)? For long (multiline) string I use:</p>\n\n<pre><code>var blankRow = [\n     'a line',\n     'another line',\n     'still more lines',\n     'lines lines lines',\n     '... etc'\n    ].join('')\n</code></pre>\n\n<p>You can also use a backslash for continuation, but that can get kind of messy:</p>\n\n<pre><code>var blankRow = 'a line\\\nanother line\\\nstill more lines\\\nlines lines lines\\\n... etc';\n</code></pre>\n\n<p>EDIT based on comment: I'm lazy too! So I use this for escaping:</p>\n\n<pre><code>function qs(str){\n    str = str || this || '';\n    return \"'\"+str+\"'\";\n}\n\nfunction qd(str){\n    str = str || this || '';\n    return '\"'+str+'\"';\n\n}\n\nString.prototype.qs = qs;\nString.prototype.qd = qd;\n\n// applied:\nvar blankRow = [\n         'a line',\n         'another '+qd('line'),\n         'still more lines',\n         'lines '+'lines'.qs()+ ' lines',\n         '... etc'\n        ].join('');\n</code></pre>\n\n<p>Problem with being lazy: it's pretty hard work to persist ones lazyness</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<blockquote>\n  <p>is it the best practice?</p>\n</blockquote>\n\n<p>No. In fact you've got HTML-injection problems leading to bugs, and in the worst case where the injected strings may contain user-submitted content, XSS security holes.</p>\n\n<p>When you put plain text content and attribute values into an HTML string, you <em>must</em> HTML-encode them. In PHP, you have to call <code>htmlspecialchars()</code> on strings going into HTML to do it. In JavaScript, you don't get a built-in HTML-escaping function, so you have to make your own, eg. by using <code>s.replace(/&amp;/g, '&amp;amp;').replace(/&lt;/g, '&amp;lt;').replace(/\"/g, '&amp;quot;')</code> on the string going into the HTML.</p>\n\n<blockquote>\n  <p>onclick=\"someFunc(\\'{STRING}\\');\"</p>\n</blockquote>\n\n<p>That's a whole new level of escaping mess. In a JavaScript string literal inside an event handler attribute, you would have to JS-encode the string (<code>\\</code>-escaping <code>'</code> and <code>\\</code> plus a few Unicode characters for completeness) <em>and</em> then HTML-encode the results. Otherwise the string can break out of its string-literal delimiter and inject arbitrary JS code. Avoid inline event handler attributes in all cases, but especially in templating.</p>\n\n<p>Creating page content with HTML strings sucks. You are very likely to make escaping errors and compromise the security of your application. Use DOM-like methods instead and you don't have to worry about this. You seem to be using jQuery, so try the jQuery 1.4 element creation shortcuts:</p>\n\n<pre><code>$('&lt;tr&gt;').append(\n    $('&lt;td&gt;').append(\n        $('&lt;a&gt;', {\n            href: o.link,\n            text: o.word,\n            onclick: function() {\n                someFunc(o.string);\n            }\n        })\n    )\n);\n</code></pre>\n\n<p>or, keep your blank row actually inside the document as HTML, but then hide it (<code>display: none</code>) or detach it from the document at start time (<code>removeChild</code> or jQuery <code>detach</code>). Then when you want a new row, clone the blank row and make the changes you need:</p>\n\n<pre><code>var blankRow= $('#blankRow').detach();\n\n    ...\n\nvar newRow= blankRow.clone();\nvar link= newRow.find('td&gt;a');\nlink.attr('href': o.link);\nlink.text(o.word);\nlink.click(function() {\n    someFunc(o.string);\n});\n</code></pre>\n\n<p>If you must create content from string templates, ensure your templating function HTML-escapes every replacement by default, and attach events by selecting nodes inside the parsed content to call <code>click(function() { ... })</code> on. Or use event delegation (eg. jQuery <code>live()</code>) to handle events without having to bind to new nodes when added.</p>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>Hey guys.  I'm building a web application (using prototype) at the moment that requires the addition of large chunks of HTML into the DOM.  Most of these are rows that contain elements with all manner of attributes.</p>\n\n<p>Currently I keep a blank row of html in a variable and </p>\n\n<pre><code>var blankRow = '&lt;tr&gt;&lt;td&gt;'\n    +'&lt;a href=\"{LINK}\" onclick=\"someFunc(\\'{STRING}\\');\"&gt;{WORD}&lt;/a&gt;'\n    +'&lt;/td&gt;&lt;/tr&gt;';\n\nfunction insertRow(o) {\n    newRow = blankRow\n        .sub('{LINK}',o.link)\n        .sub('{STRING}',o.string)\n        .sub('{WORD}',o.word);\n    $('tbodyElem').insert( newRow );\n}\n</code></pre>\n\n<p>Now that works all well and dandy, but is it the best practice?</p>\n\n<p>I have to update the code in the blankRow when I update code on the page, so the new elements being inserted are the same.  It gets sucky when I have like 40 lines of HTML to go in a blankRow and then I have to escape it too.</p>\n\n<p>Is there an easier way?  I was thinking of urlencoding and then decoding it before insertion but that would still mean a blankRow and lots of escaping.</p>\n\n<p>What would be mean would be a eof function a la PHP et al.</p>\n\n<pre><code>$blankRow = &lt;&lt;&lt;EOF\ntext\ntext\nEOF;\n</code></pre>\n\n<p>That would mean no escaping but it would still need a blankRow.</p>\n\n<p>What do you do in this situation?</p>\n\n<h1>SOLVED</h1>\n\n<p>Ended up using a DOMBuilder in prototype.  No other libraries were needed:</p>\n\n<pre><code>$w('a div p span img table thead td th tr tbody tfoot input').each(function(e) {\n        window['$' + e] = function() {\n            return new Element(e, arguments[0]);\n        }\n});\n\nnewPart = $div({id: 'partition-4'})\n    .insert( $p()\n        .insert('&lt;b&gt;Stuff&lt;/b&gt;')\n    )\n    .insert( $p({\n        id: 'a-p'})\n        .insert('&lt;b&gt;More stuff&lt;/b&gt;')\n    );\n\n$('parentDiv').insert(newPart);\n</code></pre>\n\n<p>See my solution <a href=\"http://pastebin.com/Du5Ejjjj\">here</a> or <a href=\"http://gist.github.com/402668\">here</a></p>\n",
            "last_activity_date": 1308798020,
            "question_id": 2839844,
            "score": 11,
            "tags": [
                "javascript",
                "html",
                "ajax",
                "dom"
            ],
            "title": "Best practice for inserting large chunks of HTML into elements with Javascript?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>there are some applets for this in the oekaki world: <a href=\"http://hp.vector.co.jp/authors/VA016309/spainter/index_en.html\" rel=\"nofollow\">Shi painter</a>, <a href=\"http://www.chibipaint.com/\" rel=\"nofollow\">Chibipaint</a> or <a href=\"http://hp.vector.co.jp/authors/VA016309/paintbbs/pbbs.html\" rel=\"nofollow\">PaintBBS</a>. <a href=\"http://code.google.com/p/oekakiapplet/\" rel=\"nofollow\">Here</a> you have php classes for integration.</p>\n\n<p>Drawings produced by these applets can have quite good quality. If you register in <a href=\"http://www.oekakicentral.com\" rel=\"nofollow\">oekakicentral.com</a> you can see all the galleries and some drawings have an animation link that shows how was it drawn (it depends on the applet), so you can compare the possibilities of the applets. Some of them are open source.</p>\n\n<p>Edit: See also <a href=\"http://mugtug.com/sketchpad/\" rel=\"nofollow\">this</a> made in HTML 5.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Have a look at <a href=\"http://www.mainada.net/inputdraw/\" rel=\"nofollow\">&lt;InputDraw/&gt;</a>: a flash component that turns freehand drawing into SVG. Then you could send back the generated SVG to your server.</p>\n\n<p>It's free for non commercial use. According to their site, commercial use price is <a href=\"http://www.mainada.net/inputdraw/buy\" rel=\"nofollow\">29\u20ac</a>. It's not open source though.</p>\n\n<p>IMHO it's worth a look.</p>\n\n<p>Alternatively, you implement something based on <a href=\"http://code.google.com/p/svg-edit/\" rel=\"nofollow\">svg-edit</a> which is open source and uses jQuery (<a href=\"http://svg-edit.googlecode.com/svn/tags/stable/editor/svg-editor.html\" rel=\"nofollow\">demo</a>). If requires the <a href=\"http://code.google.com/chrome/chromeframe/\" rel=\"nofollow\">Google Frame Plugin</a> for IE6+ support though.</p>\n\n<p>EDIT: I just found the <a href=\"http://code.google.com/p/svg-freehand-signature/\" rel=\"nofollow\">svg-freehand-signature</a> project (<a href=\"http://narendra.sisodiya.googlepages.com/signature.html\" rel=\"nofollow\">demo</a>) that captures your handwritten signature and sends it to a server as a SVG using POST. It's distributed as a <a href=\"http://svg-freehand-signature.googlecode.com/files/svg-signature.zip\" rel=\"nofollow\">straight-forward and self-contained zip</a> (works out of the box with Safari and Firefox, you may want to combine it with <a href=\"http://code.google.com/p/svgweb/\" rel=\"nofollow\">svgweb</a> that <a href=\"http://codinginparadise.org/projects/svgweb/samples/demo.html\" rel=\"nofollow\">brings SVG support to Internet Explorer</a>).</p>\n\n<p>EDIT: I successfully combined <a href=\"http://canvas.cesaroliveira.net/\" rel=\"nofollow\">Cesar Oliveira's canvaslol</a> (just look at the source of the page to see how it works) with <a href=\"http://code.google.com/p/explorercanvas/\" rel=\"nofollow\">ExplorerCanvas</a> to have something on IE. You can also have a look at <a href=\"http://annevankesteren.nl/2006/08-paintr21\" rel=\"nofollow\">Anne van Kesteren's Paintr</a> experiment.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I doubt you'll get anything higher resolution than the \"onmousemove\" event gives you, without writing an efficient assembler program on some embedded system custom built for the purpose.  You run inside an OS, you play by the OS's rules, which means you're limited by the frequency of the timeslices an OS will give you. (usually about 100 per second, fluxuating depending on load) I've not used a tablet that can overcome the \"polygon\" problem, and I've used some high end tablets. Photoshop overcomes the problem with cubic interpolation. </p>\n\n<p>That is, unless, you have a very special tablet that will capture many movement events and queue them up to some internal buffer, and send a whole packet of coordinates at a time when it dispatches data to the OS. I've looked at tablet api's though, and they only give one set of coordinates at a time, so if this is going to happen, you'll need custom hardware, and a custom driver, and custom apis that can handle packets of multiple coordinates.</p>\n\n<p>Or you could just use a damned <a href=\"https://developer.mozilla.org/en/Canvas%5Ftutorial\">canvas tag</a>, the <a href=\"https://developer.mozilla.org/en/DOM/window.onmousemove\">onmousemove</a> event, <a href=\"https://developer.mozilla.org/en/DOM/event.pageX\">event.pageX|pageY</a> some <a href=\"http://local.wasp.uwa.edu.au/~pbourke/miscellaneous/interpolation/\">cubic interpolation</a>, the <a href=\"http://www.nihilogic.dk/labs/canvas2image/\">\"toDataURI\" api</a> of canvas, post the result to your php script, and then just say you did all that other fancy stuff. </p>\n\n<p>onmousemove, in my tests, will give you one event per pixel of movement, limited only by the speed of the event loop in the browser. You'll get sparse data points (polygons) with fast movement and that's as good as it gets without a huge research grant and a hardware designer. Deal.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p><a href=\"http://markup.io/\" rel=\"nofollow\">markup.io</a> is doing that with an algorithm applied after the mouseup.</p>\n\n<p>I asked a similar question recently, and got interesting but not satisfying answers: <a href=\"http://stackoverflow.com/questions/5329661/is-there-any-way-to-accelerate-the-mousemove-event\">Is there any way to accelerate the mousemove event?</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Are there any advanced solutions for capturing a hand drawing (from a tablet, touch screen or iPad like device) on a web site in JavaScript, and storing it on server side?</p>\n\n<p>Essentially, this would be a simple mouse drawing canvas with the specialty that its <strong>resolution (i.e. the number of mouse movements it catches per second) needs to be very high,</strong> otherwise round lines in the drawing will become \"polygonal\" when moving the pen / mouse fast:</p>\n\n<p><img src=\"http://i.stack.imgur.com/SGdoK.png\" alt=\"enter image description here\"></p>\n\n<p>(if this weren't the case, the inputDraw solution suggested by @Gregory would be 100% perfect.)</p>\n\n<p>It would also have to have a high level of graphical quality, i.e. <strong>antialias the penstroke</strong>. Nothing fancy here but a MS Paint style, 1x1 Pixel stroke won't cut it.</p>\n\n<p>I find this a very interesting thing in general, seeing as Tablet PCs are becoming at least a bit more common. (Not that they get the attention I feel they deserve).</p>\n\n<p>Any suggestions are highly appreciated. I would prefer an Open Source solution, but I am also open to proprietary solutions like ActiveX controls or Java Applets.</p>\n\n<p>FF4, Chrome support is a must; Opera, IE8/9 support is desired.</p>\n\n<blockquote>\n  <p>Please note that most \"canvas\" libraries around, and most answers to other questions similar to mine, refer to <strong>programmatically</strong> drawing onto a canvas. This is <strong>not</strong> what I am looking for. I am looking for something that records the actual pen or mouse movements of the user drawing on a certain area.</p>\n</blockquote>\n\n<!---->\n\n<blockquote>\n  <p>Starting a bounty out of curiosity whether anything has changed during the time since this question was asked.</p>\n</blockquote>\n",
            "last_activity_date": 1301784212,
            "question_id": 1815512,
            "score": 11,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "tablet-pc"
            ],
            "title": "Recording and storing high-res hand drawing "
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I found the solution for iOS 7. Use the following meta tag in your HTML pages:</p>\n\n<pre><code>&lt;meta name=\"viewport\" content=\"width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, target-densityDpi=device-dpi\" /&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>I faced the same issue. In my case i am using jquery mobile and to solve this issue i added the attribute \"<strong>autofocus</strong>\" to the input field. <br>This seems to simulate a first tap on the field whereas the tap by the user opens the keyboard and he will be able to write to the field.\n<br>\nHope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>senchaI have a webapp with a registration form, Using the safari everything is working , But for some reason when adding the page to home screen(using ios webview) the issue appear .\nWhen we click on the input field the keyboard is not zooming to the specific field who was selected and in order to start writing to text field i need to press again on the text field .\nI am using sencha.</p>\n",
            "last_activity_date": 1385990668,
            "question_id": 19110144,
            "score": 10,
            "tags": [
                "javascript",
                "html",
                "extjs",
                "webview",
                "ios7"
            ],
            "title": "ios7 issues with webview focus when using keyboard html"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>If I understand your setup correctly, you can run Ant build step providing it with the location of your <code>build.xml</code>, top-level target, and <code>-D</code> parameters (if any). <a href=\"http://wiki.mxunit.org/display/default/Continuous+Integration+--+ANT+-+The+Glue+between+Jenkins+and+your+Tests\" rel=\"nofollow\">This</a> may be of some help. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>So, I have finally managed to figure this out.</p>\n\n<p>Here's my end-to-end implementation:</p>\n\n<ol>\n<li><p>Install PhantomJS (<a href=\"http://phantomjs.org/\" rel=\"nofollow\">http://phantomjs.org/</a>) - I installed this in my build/tools folder</p></li>\n<li><p>Install the PhantomJS QUnit Runner script (<a href=\"https://gist.github.com/1588423\" rel=\"nofollow\">https://gist.github.com/1588423</a>) - also installed this in my build/tools folder</p></li>\n<li><p>Added the following target to my build.xml file:</p></li>\n</ol>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;target name=\"qunit\" description=\"runs QUnit tests using PhantomJS\"&gt;\n      &lt;!-- QUnit Javascript Unit Tests --&gt;\n      &lt;echo message=\"Executing QUnit Javascript Unit Tests...\"/&gt;\n      &lt;apply executable=\"path-to-your-phantomjs-bin-folder/phantomjs\" &gt;\n        &lt;arg value=\"-path-to-your-build-tools/qunit-runner.js\" /&gt;\n        &lt;arg line=\"--qunit path-to-your-qunit-folder/qunit.js --tests path-to-your-test-folder --juni path-where-you-want-to-write-the-JUnit-style-output/qunit-results.xml\" /&gt;\n        &lt;fileset dir=\"${basedir}/${dir.test}\" includes=\"tests.js\" /&gt;\n        &lt;srcfile/&gt;\n      &lt;/apply&gt;\n    &lt;/target&gt;\n</code></pre>\n\n<ol>\n<li><p>Under my Jenkins project config, I now invoke Ant with \"minify qunit\"</p></li>\n<li><p>I point Jenkins to the JUnit-style output XML file</p></li>\n</ol>\n\n<p>And, here is the workflow:</p>\n\n<ol>\n<li>Check changes into my repo</li>\n<li>Jenkins will poll GitHub for changes</li>\n<li>If there are any changes, Jenkins will pull down</li>\n<li>Ant will be invoked, doing the build, then running my unit tests</li>\n<li>The test results will be published in a JUnit-like XML format</li>\n<li>Jenkins will analyse this output file. If no tests failed, the build will be marked as \"Success\". If any tests failed, the build will be marked as \"Unstable\"</li>\n<li>Jenkins will deploy the web changes</li>\n<li>Jenkins will cleanup the work-area</li>\n</ol>\n\n<p>PS: At the moment, you have to manually delete the JUnit-type XML output file. I will fix this later.</p>\n\n<p>PS: Download the customized qunit.js (<a href=\"https://gist.github.com/2488794\" rel=\"nofollow\">https://gist.github.com/2488794</a>)</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>I've written an Ant task specifically for this</p>\n\n<p><a href=\"https://github.com/philmander/ant-jstestrunner\" rel=\"nofollow\">https://github.com/philmander/ant-jstestrunner</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Qunit itself now maintains a phantomjs runner:</p>\n\n<p><a href=\"https://github.com/jquery/qunit/tree/master/addons/phantomjs\" rel=\"nofollow\">https://github.com/jquery/qunit/tree/master/addons/phantomjs</a></p>\n\n<p>So assuming you've already installed phantomjs, grab <em>runner.js</em> from the link above (or get it using bower/whatever js package manager), put it somewhere jenkins can find it, and then use:</p>\n\n<pre><code>phantomjs path/to/runner.js path/to/your/qunit_tests.html\n</code></pre>\n\n<p>It gives minimal output like this:</p>\n\n<pre><code>$ phantomjs superlists/static/tests/runner.js accounts/static/tests/tests.html \nTook 29ms to run 11 tests. 11 passed, 0 failed.\n</code></pre>\n\n<p>Or like this if it fails:</p>\n\n<pre><code>$ phantomjs superlists/static/tests/runner.js accounts/static/tests/tests.html \nTest failed: sinon tests of navigator.id.watch: watch sees current user\n    Failed assertion: check user, expected: current user, but was: baz\n    at file:///home/harry/superlists/superlists/static/tests/qunit.js:556\n    at file:///home/harry/superlists/accounts/static/tests/tests.html:69\n    at file:///home/harry/superlists/superlists/static/tests/qunit.js:203\n    at file:///home/harry/superlists/superlists/static/tests/qunit.js:361\n    at process (file:///home/superlists/superlists/static/tests/qunit.js:1453)\n    at file:///home/harry/superlists/superlists/static/tests/qunit.js:479\nTook 29ms to run 11 tests. 10 passed, 1 failed.\n</code></pre>\n\n<p>No junit-xml integration, but at least it returns an error code if it fails, so it'll fail the build in jenkins...</p>\n\n<pre><code>$ echo $?\n1\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is it possible to execute my QUnit (javascript) unit tests from Jenkins? My build script is Apache Ant. Would Jenkins execute this as a separate Build Step, or would I need to add something in the config of my Ant build script?</p>\n",
            "last_activity_date": 1395409332,
            "question_id": 10275476,
            "score": 10,
            "tags": [
                "javascript",
                "ant",
                "build",
                "jenkins",
                "qunit"
            ],
            "title": "Running QUnit tests with Jenkins and Apache Ant?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Let me prefix this by saying it is NOT a good idea to do this.</p>\n\n<p>But, You can spawn a shell and use web-sockets or XMLHttpRequests to push keypresses to the spawned server process. Here's a working example of one that runs on windows. Unfortunately, I didn't get around to hooking up / figuring out Ctrl+c. But, you should get the gist of it.</p>\n\n<pre><code>  require(\"underscore\");\n\n  var Server = {},\n      express = require(\"express\"),\n      path = require(\"path\"),\n      sys = require(\"sys\"),\n      application_root = __dirname;\n\n  global.Server = Server;\n  Server.root = application_root;\n  global.app = express();\n\n  Server.setup = require(\"./lib/setup.js\").setup({\n    //redis: require(\"./lib/redis-client\").createClient(),\n    app: app, \n    //mongoose : require(\"mongoose\"),\n    io : require(\"socket.io\"),\n    express : express,\n    port: 1773,\n    paths : {\n      views :  path.join(application_root,\"app\",\"views\"),\n      root : path.join(application_root,\"public\"),\n      controllers : path.join(application_root,\"app\",\"controllers\"),\n      models : path.join(application_root,\"app\",\"models\")\n    }\n  });\n\n  var proc = require('child_process'),\n      cmd;\n\n  app.socket.on('connection', function(socket) {\n    if (!cmd) {\n      //console.log('spawning cmd');\n      cmd = proc.spawn('cmd');\n\n      //console.log(cmd?'CMD started':'CMD not started');\n\n      if (cmd.stdout) {\n        //console.log('stdout present');\n        cmd.stdout.on('data',function(data) {\n          if (data) {\n            //console.log(\"data: \"+data);\n            socket.emit('cmd', \"\"+data);\n          }\n        });\n      }\n      if (cmd.stderr) {\n        cmd.stderr.on('data', function(data) {\n          //console.log('stderr present');\n          if (data) {\n            socket.emit('cmd', \"\"+data);\n          }\n        });\n      }\n\n      cmd.on('exit', function() {\n        //console.log('cmd exited');\n        socket.emit('cmd', '[CMD Shutdown]');\n        if (cmd) {\n          cmd.kill();\n          cmd = null;\n        }\n      });\n    }\n\n    socket.on('sendCmd', function(data) {\n      if (data &amp;&amp; data.buffer) {\n        var kB = data.buffer.replace(\"\\r\",\"\\n\");\n        if (cmd &amp;&amp; cmd.stdin) {\n          cmd.stdin.write(kB);\n        }\n      }\n    });\n\n    socket.on('disconnect', function() {\n      console.log('connection closed');\n      if (cmd) {\n        cmd.stdin.end(); //.kill();\n        if (cmd) {\n          cmd.kill();\n          cmd = null;\n        }\n      }\n    });\n  });\n</code></pre>\n\n<p>Edit: Actually, this is a portion of a working example. It's missing the client side where you capture and send the keystrokes to the server. But, it should give you the general idea.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The full linux is <a href=\"http://docker.io\">http://docker.io</a>, the rest is <a href=\"https://github.com/Runnable/dockworker\">https://github.com/Runnable/dockworker</a></p>\n\n<p>We're not simulating the terminal but as Kyle says, replicating the terminal over websockets (with an ajax fallback).</p>\n\n<p>In the browser we're using <a href=\"https://github.com/chjj/term.js\">https://github.com/chjj/term.js</a> which was derived from Fabrice Bellard's emulator.  It handles the output, and also the keystroke capture.</p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I have read about Fabrice Bellard's linux simulation in browser.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/6030407/how-does-linux-emulator-in-javascript-by-fabrice-bellard-work\">How does Linux emulator in Javascript by Fabrice Bellard work?</a></p>\n\n<p>Today I stumbled upon this site, where they are simulating full linux terminal in browser, I am able to run python, perl etc. I know they are running their site on node.js, but I couldn't figure out how they exactly simulating the terminal.</p>\n\n<p><a href=\"http://runnable.com/UWRl3KlLuONCAACG/read-files-from-filesystem-in-python\">http://runnable.com/UWRl3KlLuONCAACG/read-files-from-filesystem-in-python</a></p>\n",
            "last_activity_date": 1388191470,
            "question_id": 19561188,
            "score": 9,
            "tags": [
                "javascript",
                "python",
                "linux",
                "node.js",
                "simulator"
            ],
            "title": "Simulating linux terminal in browser"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Try Below..!!</p>\n\n<pre><code>var pop = window.open(\"about:blank\", \"new_window_123\", \"height=150,width=150\");\n\n// Detect pop blocker\nsetTimeout(function() {\nif(!pop || pop.closed || pop.closed == \"undefined\" || pop == \"undefined\" || parseInt(pop.innerWidth) == 0 || pop.document.documentElement.clientWidth != 150 || pop.document.documentElement.clientHeight != 150){\npop &amp;&amp; pop.close();\nalert(\"Popups must be enabled.\");\n}else{\nalert(\"Popups is enabled.\");\npop &amp;&amp; pop.close();\n}}, 1000);\n</code></pre>\n\n<p>Look on below question</p>\n\n<p><a href=\"http://stackoverflow.com/questions/668286/detect-blocked-popup-in-chrome\">Detect blocked popup in Chrome</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/8802409/how-do-i-detect-whether-popups-are-blocked-in-chrome\">How do I detect whether popups are blocked in chrome</a></p>\n\n<p>On Google It will more help you..</p>\n\n<p><a href=\"https://www.google.com/search?q=how+to+detect+a+blocked+popup+in+chrome\" rel=\"nofollow\">https://www.google.com/search?q=how+to+detect+a+blocked+popup+in+chrome</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Finally, it success by combining different answer from Stackoverflow's member<br>\nThis code worked for me &amp;  tested in <code>IE, Chrome &amp; Firefox</code></p>\n\n<pre><code>var popup = window.open(winPath,winName,winFeature,true);\n setTimeout( function() {\n    if(!popup || popup.outerHeight === 0) {\n        //First Checking Condition Works For IE &amp; Firefox\n        //Second Checking Condition Works For Chrome\n        alert(\"Popup Blocker is enabled! Please add this site to your exception list.\");\n         window.location.href = 'warning.html';\n    } else {\n        //Popup Blocker Is Disabled\n        window.open('','_self');\n        window.close();\n    } \n}, 25);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>I know this is \"resolved\", but this simple code worked for me detecting \"Better Popup Blocker\" extension in Chrome:</p>\n\n<pre><code>  if (!window.print) {\n    //display message to disable popup blocker\n  } else {\n    window.print();\n  }\n}\n</code></pre>\n\n<p>Ockham's razor! Or am I missing something and it couldn't possibly be this simple?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had used this method to open windows from js and not beeing blocked by Chrome.\n<a href=\"http://en.nisi.ro/blog/development/javascript/open-new-window-window-open-seen-chrome-popup/\" rel=\"nofollow\">http://en.nisi.ro/blog/development/javascript/open-new-window-window-open-seen-chrome-popup/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I found it much more effective to use try-catch as follows: </p>\n\n<pre><code>var popup = window.open(winPath,winName,winFeature,true);\ntry {\n    popup.focus();\n} catch (e) {\n    alert('popup blocked!');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have searched many issue in stack overflow and <strong>might be duplicate</strong> here  <a href=\"http://stackoverflow.com/questions/2914/how-can-i-detect-if-a-browser-is-blocking-a-popup\">Detect Popup</a></p>\n\n<p>But <code>not helped for me</code> while testing in <strong>Chrome</strong> (tested v26.0.1410.64)<br>\nFollowing Approach <code>Worked in IE and Firefox</code> but <code>not in Chrome</code>   </p>\n\n<pre><code>var popup = window.open(winPath,winName,winFeature,true);\n if (!popup || popup.closed || typeof popup.closed=='undefined'){\n       //Worked For IE and Firefox\n        alert(\"Popup Blocker is enabled! Please add this site to your exception list.\");\n        window.location.href = 'warning.html';\n } else {\n        //Popup Allowed\n        window.open('','_self');\n        window.close();\n} \n</code></pre>\n\n<p>Any better solution that works for Chrome also? </p>\n",
            "last_activity_date": 1413815447,
            "question_id": 16538991,
            "score": 9,
            "tags": [
                "javascript",
                "jquery",
                "google-chrome",
                "popup-blocker"
            ],
            "title": "How do I detect popup blocker in Chrome?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The handler you pass to your <code>__watch</code> function is missing a <code>return</code> statement.</p>\n\n<pre><code>this._watch = function(DOMelement, propertyName) {\n    //__watch triggers when the property changes\n    this.__watch(propertyName, function(property, value) {\n        $(DOMelement).val(value);\n        return value;\n    })\n\n}\n</code></pre>\n\n<p>Because <code>newval</code> is set to what's returned from the handler, it'll be <code>undefined</code> without that.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Please try <a href=\"http://jsfiddle.net/bpH6Z/4/\" rel=\"nofollow\">http://jsfiddle.net/bpH6Z/4/</a></p>\n\n<p>I've updated your redefined getter/setter in Object.prototype.__watch,\nalso currently your handler needs to return the new value.</p>\n\n<p>Update: Now your handler isn't required to return the newly set value.</p>\n\n<p>Current code:</p>\n\n<pre><code>//Got this great piece of code from https://gist.github.com/384583\nObject.defineProperty(Object.prototype, \"__watch\", {\n    enumerable: false,\n    configurable: true,\n    writable: false,\n    value: function(prop, handler) {\n        var val = this[prop],\n            getter = function() {\n                return val;\n            },\n            setter = function(newval) {\n                val = newval;\n                handler.call(this, prop, newval);\n                return newval;\n            };\n\n        if (delete this[prop]) { // can't watch constants\n            Object.defineProperty(this, prop, {\n                get: getter,\n                set: setter,\n                enumerable: true,\n                configurable: true\n            });\n        }\n    }\n});\n\nvar Controller = function () {\n    //The property is changed whenever the dom element changes value\n    //TODO add a callback ?\n    this._bind = function (DOMelement, propertyName) {\n        //The next line is commented because priority is given to the model\n        //this[propertyName] = $(DOMelement).val();\n        var _ctrl = this;\n        $(DOMelement).on(\"change input propertyChange\", function(e) {\n            e.preventDefault();\n            _ctrl[propertyName] = DOMelement.val();\n        });\n\n    };\n\n    //The dom element changes values when the propertyName is setted\n    this._watch = function(DOMelement, propertyName) {\n        //__watch triggers when the property changes\n        this.__watch(propertyName, function(property, value) {\n            $(DOMelement).val(value);\n        });\n    };\n};\n\nvar ctrl = new Controller();\nctrl.secret = 'null';\nctrl._bind($('#text1'), 'secret'); // I want the model to reflect changes in #text1\nctrl._watch($('#text2'), 'secret'); // I want the dom element #text2 to reflect changes in the model\n$('#button1').click(function() {\n    $('#output').html('Secret is : ' + ctrl.secret); //This gives problems\n});\n</code></pre>\n\n<p>Current HTML:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n    value: &lt;input type=\"text\" id=\"text1\" /&gt;&lt;br /&gt;\n    copy: &lt;input type=\"text\" id=\"text2\" /&gt;&lt;br /&gt;\n    &lt;input type=\"button\" id=\"button1\" value=\"View value\"&gt;&lt;br /&gt;\n    &lt;span id=\"output\"&gt;&lt;/span&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>I have enhanced it for multi-watchers.</p>\n\n<p><a href=\"http://jsfiddle.net/liyuankui/54vE4/\" rel=\"nofollow\">http://jsfiddle.net/liyuankui/54vE4/</a></p>\n\n<pre><code>//The dom element changes values when the propertyName is setted\nthis._watch = function(DOMelement, propertyName) {\n    //__watch triggers when the property changes\n    if(watchList.indexOf(DOMelement)&lt;0){\n        watchList.push(DOMelement);\n    }\n    this.__watch(propertyName, function(property, value) {\n        for(var i=0;i&lt;watchList.length;i++){\n            var watch=watchList[i];\n            $(watch).val(value);\n            $(watch).html(value);\n        }\n    });\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>out of curiosity and to increase my knowledge, i wanted to implement some kind of two way data binding between dom elements and javascript variables.</p>\n\n<p>I was lucky enough to find an excellent answer to half of my problem here @ stackoverflow which led me to this gist <a href=\"https://gist.github.com/384583\">https://gist.github.com/384583</a>, but i still can't get the thing done at 100%.</p>\n\n<p>Here's an <strong>example of my code</strong>:\n<a href=\"http://jsfiddle.net/bpH6Z/\">http://jsfiddle.net/bpH6Z/</a></p>\n\n<p>If you try to run the fiddle and click on \"view Value\" you will get <strong>undefined</strong>, while i want to get the actual value of the object's attribute.</p>\n\n<p>I am probably doing something wrong due to my lack of experience with javascript, but do you have any idea why i can't properly read the attribute 'secret' after the _bind() and _watch() calls?</p>\n\n<p><strong>DISCLAIMER</strong>: as i said, i'm doing this because i want better knowledge of javascript, and i am not going to write my framework. So any \"USE FRAMEWORK X\" is completely useless, as i could get the job done with angularjs.</p>\n",
            "last_activity_date": 1403093112,
            "question_id": 11904039,
            "score": 9,
            "tags": [
                "javascript",
                "jquery",
                "data-binding"
            ],
            "title": "Plain Javascript bidirectional Data binding"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Use <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/defineProperty\" rel=\"nofollow\"><code>Object.defineProperty()</code></a> on <code>Subclass.prototype</code>. There are also <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/DefineGetter\" rel=\"nofollow\"><code>__defineGetter__</code></a>  and <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/DefineSetter\" rel=\"nofollow\"><code>__defineSetter__</code></a> available on some browsers, but they are deprecated. For your example, it would be:</p>\n\n<pre><code>Object.defineProperty(Subclass.prototype, \"myProperty\", {\n    get: function myProperty() {\n        // code\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 39
                },
                {
                    "body": "<p>Using an object literal declaration (simplest way):</p>\n\n<pre><code>var o = {\n    a: 7,\n    get b() {\n        return this.a + 1;\n    },\n    set c(x) {\n        this.a = x / 2\n    }\n};\n</code></pre>\n\n<p>Using <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object/defineProperty\" rel=\"nofollow\"><code>Object.defineProperty</code></a> (on modern browsers that support ES5):</p>\n\n<pre><code>Object.defineProperty(o, \"myProperty\", {\n    get: function myProperty() {\n        // code\n    }\n});\n</code></pre>\n\n<p>Or using <code>__defineGetter__</code> and <code>__defineSetter__</code> (<strong>DEPRECATED</strong>):</p>\n\n<pre><code>var d = Date.prototype;\nd.__defineGetter__(\"year\", function() { return this.getFullYear(); });\nd.__defineSetter__(\"year\", function(y) { this.setFullYear(y); });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 16
                }
            ],
            "body": "<p>Following <a href=\"http://stackoverflow.com/questions/10580158/making-subclass-with-prototype-and-proto\">my previous question</a> on how to do subclassing in Javascript, I'm making a subclass of a superclass like so:</p>\n\n<pre><code>function inherits(Child,Parent) {\n    var Tmp = function {};\n    Tmp.prototype = Parent.prototype;\n    Child.prototype = new Tmp();\n    Child.prototype.constructor = Child;\n}\n/* Define subclass */\nfunction Subclass() {\n    Superclass.apply(this,arguments);\n    /* other initialisation */\n}\n/* Set up inheritance */\ninherits(Subclass,Superclass);\n/* Add other methods */\nSubclass.prototype.method1 = function ... // and so on.\n</code></pre>\n\n<p>My question is, <strong>how do I define a setter/getter on the prototype with this syntax?</strong></p>\n\n<p>I used to do:</p>\n\n<pre><code>Subclass.prototype = {\n    __proto__: Superclass.prototype,\n    /* other methods here ... */\n\n    get myProperty() {\n        // code.\n    }\n}\n</code></pre>\n\n<p>But obviously the following won't work:</p>\n\n<pre><code>Subclass.prototype.get myProperty() { /* code */ }\n</code></pre>\n\n<p>I'm using GJS (GNOME Javascript), and the engine is meant to be the more-or-less same as the Mozilla Spidermonkey one. My code is not intended for a browser so as long as it's supported by GJS (I guess that means Spidermonkey?), I don't mind if it's not cross-compatible.</p>\n",
            "last_activity_date": 1423262929,
            "question_id": 10592753,
            "score": 9,
            "tags": [
                "javascript",
                "getter"
            ],
            "title": "How to define setter/getter on prototype"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Why not do it server side in some kind of web service using a more appropriate language like C? Times will then be time for one round trip (less than 9 seconds), plus the time for the server to calculate the result using some BigInt library in native code. This is likely to be much faster.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I use \"%\" for modular (mod) and \"/\" for integer division. Let function f(p,g,x,r) calculate (r*g^x)%p on the condition that r&lt;p and g&lt;p. f() can be implemented as:</p>\n\n<pre><code>bigint_t f(p,g,x,r) {\n  bigint_t i, z = g, y;\n  for (i = 1; i &lt; x; ++i) {\n    y = z; z *= g;\n    if (z &gt; p) break;\n  }\n  if (i &gt;= x - 1) return r*z%p; // g^x*r%p = g^x*r\n  else return f(p,y,x/i,g^(x%i)*r%p); // reduce to (r*g^(x%i)%p)*(g^i)^(x/i)%p\n}\n</code></pre>\n\n<p>This routine involves a little more calculation, but each integer is less than 4096 bits which is usually much smaller than g^x. I believe this could be more efficient than the direct calculation. Also note that g^(x%i) can be calculated in a faster manner because we have calculated g^(i+1).</p>\n\n<p>EDIT: see <a href=\"http://stackoverflow.com/questions/1503007/sum-of-series-11-22-33-nn-mod-m/1503062#1503062\">this post</a>. Mehrdad gives the right (and better) solution.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Would some other client side technology that's callable from JS, such as a Java applet or Flash movie, be acceptable? BigInt's <a href=\"http://en.wikipedia.org/wiki/Montgomery%5Freduction\" rel=\"nofollow\">approach</a> is already fairly fast. You can tweak BigInt, or you can try a <a href=\"http://www.ccrwest.org/gordon/fast.pdf\" rel=\"nofollow\">different algorithm</a>, but you probably won't get an order of magnitude improvement.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Try this Montgomery modular reduction from <a href=\"http://code.google.com/p/bi2php/\" rel=\"nofollow\">http://code.google.com/p/bi2php/</a> on JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I'd love to see the source code to your modified BigInt library - is it available anywhere?</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>My problem is to compute <code>(g^x) mod p</code> quickly in JavaScript, where <code>^</code> is exponentiation, <code>mod</code> is the modulo operation. All inputs are nonnegative integers, <code>x</code> has about 256 bits, and <code>p</code> is a prime number of 2048 bits, and <code>g</code> may have up to 2048 bits.</p>\n\n<p>Most of the software I've found that can do this in JavaScript seems to use the JavaScript BigInt library (<a href=\"http://www.leemon.com/crypto/BigInt.html\">http://www.leemon.com/crypto/BigInt.html</a>). Doing a single exponentiation of such size with this library takes about 9 seconds on my slow browser (Firefox 3.0 with SpiderMonkey). I'm looking for a solution which is at least 10 times faster. The obvious idea of using square-and-multiply (exponentiation by squaring, <a href=\"http://en.wikipedia.org/wiki/Exponentiation%5Fby%5Fsquaring\">http://en.wikipedia.org/wiki/Exponentiation_by_squaring</a>) is too slow for 2048-bit numbers: it needs up to 4096 multiplications.</p>\n\n<p>Upgrading the browser is not an option. Using another programming language is not an option. Sending the numbers to a web service is not an option.</p>\n\n<p>Is there a faster alternative implemented?</p>\n\n<p>Update: By doing some extra preparations (i.e. precomputing a few hundred powers) as recommended by the article <a href=\"http://www.ccrwest.org/gordon/fast.pdf\">http://www.ccrwest.org/gordon/fast.pdf</a> mentioned in outis' answer below, it is possible do to a 2048-bit modular exponentiation using only at most 354 modular multiplications. (The traditional square-and-multiply method is much slower: it uses maximum 4096 modular multiplications.) Doing so speeds up the modular exponentiation by a factor of 6 in Firefox 3.0, and by a factor of 4 in Google Chrome. The reason why we are not getting the full speedup of 4096/354 is that BigInt's modular exponentation algorithm is already faster than square-and-multiply, because it uses Montgomery reduction (<a href=\"http://en.wikipedia.org/wiki/Montgomery%5Freduction\">http://en.wikipedia.org/wiki/Montgomery_reduction</a>).</p>\n\n<p>Update: Starting from BigInt's code, it seems worthwhile doing two levels of hand-optimized (and inlined) Karatsuba multiplication (<a href=\"http://en.wikipedia.org/wiki/Karatsuba%5Falgorithm\">http://en.wikipedia.org/wiki/Karatsuba_algorithm</a>), and only then revert to the base-32768 O(n^2) multiplication implemented in BigInt. This speeds up multiplications by a factor of 2.25 for 2048-bit integers. Unfortunately, the modulo operation does not become faster.</p>\n\n<p>Update: Using the modified Barrett reduction defined in <a href=\"http://www.lirmm.fr/arith18/papers/hasenplaugh-FastModularReduction.pdf\">http://www.lirmm.fr/arith18/papers/hasenplaugh-FastModularReduction.pdf</a> and Karatsuba multiplication and precomputing powers (as defined in <a href=\"http://www.ccrwest.org/gordon/fast.pdf\">http://www.ccrwest.org/gordon/fast.pdf</a>), I can get down the time needed for a single multiplication from 73 seconds to 12.3 seconds in Firefox 3.0. This seems to be the best I can do, but it is still too slow.</p>\n\n<p>Update: The ActionScript 2 (AS2) interpreter in the Flash Player isn't worth using, because it seems to be slower than the JavaScript interpreter in Firefox 3.0: for Flash Player 9, it seems to be 4.2 times slower, and for Flash Player 10, it seems to be 2.35 times slower. Does anybody know the speed difference between ActionScript2 and ActionScript3 (AS3) for number chrunching?</p>\n\n<p>Update: The ActionScript 3 (AS3) interpreter in Flash Player 9 isn't worth using because it has just about the same speed as the JavaScript int Firefox 3.0.</p>\n\n<p>Update: The ActionScript 3 (AS3) interpreter in Flash Player 10 can be up to 6.5 times faster than the JavaScript interpreter in Firefox 3.0 if <code>int</code> is used instead of <code>Number</code>, and <code>Vector.&lt;int&gt;</code> is used instead of <code>Array</code>. At least it was 2.41 times faster for 2048-bit big integer multiplication. So it might be worth doing the modular exponentiation in AS3, executing it in Flash Player 10 if available. Please note that this is still slower than V8, the JavaScript interpreter of Google Chrome. See <a href=\"http://ptspts.blogspot.com/2009/10/javascript-and-actionscript-performance.html\">http://ptspts.blogspot.com/2009/10/javascript-and-actionscript-performance.html</a> for a speed comparison of various programming language and JavaScript implementations.</p>\n\n<p>Update: There is a very fast Java solution, which can be called from the browser's JavaScript if the Java plugin is installed. The following solution is about 310 times faster than the pure JavaScript implementation using BigInt.</p>\n\n<pre><code>&lt;body&gt;hi0\n&lt;script type=\"text/javascript\"&gt;\ndocument.body.innerHTML += '&lt;br&gt;hi1';\nif ('object'==typeof java) {\n  var x = new java.math.BigInteger(\"123456789123456789\", 10);\n  var p = new java.math.BigInteger(\"234567891234567891\", 10);\n  var g = new java.math.BigInteger(\"3\", 10);\n  var v = x.modPow(x, p);\n  document.body.innerHTML += '&lt;br&gt;' + v.toString();\n  document.body.innerHTML += '&lt;br&gt;' + v.toString(16);\n} else {\n  document.body.innerHTML += '&lt;br&gt;java plugin not installed';\n}\n&lt;/script&gt;&lt;/body&gt;\n</code></pre>\n\n<p>Can anyone translate this code to Silverlight (C#)?</p>\n",
            "last_activity_date": 1303209390,
            "question_id": 1450608,
            "score": 9,
            "tags": [
                "javascript",
                "primes",
                "modulo",
                "discrete-mathematics",
                "exponentiation"
            ],
            "title": "Fastest modular exponentiation in JavaScript"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>The jQuery library should be included in the <code>&lt;head&gt;</code> part of your page:</p>\n\n<pre><code>&lt;script src=\"/js/jquery-1.3.2.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Your own code should come after this. JavaScript is loaded linearly and synchronously, so you don't have to worry about it as long as you include the scripts in order.</p>\n\n<p>To make your code execute when the DOM has finished loading (because you can't really use much of the jQuery library until this happens), do this:</p>\n\n<pre><code>$(function () {\n    // Do stuff to the DOM\n    $('body').append('&lt;p&gt;Hello World!&lt;/p&gt;');\n});\n</code></pre>\n\n<p>If you're mixing JavaScript frameworks and they are interfering with each other, you may need to use jQuery like this:</p>\n\n<pre><code>jQuery(function ($) { // First argument is the jQuery object\n    // Do stuff to the DOM\n    $('body').append('&lt;p&gt;Hello World!&lt;/p&gt;');\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Place your code after the jquery and do this</p>\n\n<pre><code>$(document).ready( { // your code } );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There could be two issues.  First, you need to make sure that jQuery is included before any scripts that use it.  This can be tricky if you have javascript embedded in partials.  If you load jQuery in the header and all of your other script in a script block at the end of the body, you can be sure that jQuery is loaded before your other code.  I try to put everything at the end of the body, with jQuery being the first script loaded.</p>\n\n<p>Second, you need to make sure that the DOM is fully loaded before trying to use it in your scripts.  jQuery provides a ready method for this.  Wrap your code inside the ready method and you can be (more) sure that the DOM is available for you to work with.  Not all images may be loaded, but you should be ok with most everything else.  For images you may have to take more pains to make sure that they are loaded if that is critical to your code.</p>\n\n<pre><code>&lt;script type='text/javascript' src='.../path-to-jquery/jquery.js'&gt;&lt;/script&gt;\n$(document).ready( function() {\n   ...your code here...\n});\n</code></pre>\n\n<p>or (shorthand)</p>\n\n<pre><code>&lt;script type='text/javascript' src='.../path-to-jquery/jquery.js'&gt;&lt;/script&gt;\n$(function() {\n   ... your code here...\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In general, you just use the following basic \"document loaded\" test in jquery. Straight from the <a href=\"http://docs.jquery.com/Tutorials:Getting%5FStarted%5Fwith%5FjQuery\" rel=\"nofollow\">beginners jquery tutorial</a>:</p>\n\n<pre><code> $(document).ready(function() {\n   // do stuff when DOM is ready\n });\n</code></pre>\n\n<p>I can think of any reason why this should not work, there are certainly millions of sites using jquery that relies on precisely this bit of code.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>When a browser encounters a <code>script</code> element it blocks which means that as long as you have a <code>script</code> element that loads jQuery <em>before</em> any script that wants to use jQuery, you should be fine, e.g.</p>\n\n<pre><code>&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    // jQuery is available\n\n    $(document).ready(function(){\n        // ...\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>See <a href=\"http://stackoverflow.com/questions/19035/javascript-load-order\">JavaScript Load Order</a> for some additional commentary on this topic.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There are several answers already, each of them work great but all of them depend on making sure jQuery is downloaded synchronously before any dependencies try to use it.  This approach is very safe, but it can also present an inefficiency in that no other resources can be downloaded/run while the jQuery library script is being downloaded and parsed.  If you put jQuery in the head using an embedded  tag, the users browser will be sitting idle while downloading and processing jQuery when it could be doing other things like downloading images, downloading other scripts, etc.  </p>\n\n<p>If you are looking for speedy responsiveness on startup, every millisecond counts.</p>\n\n<p>A huge help to me over the last year or so has been Steve Souders, first when he was at Yahoo, and now at Google.  If you have time, check out his slides for <a href=\"http://sites.google.com/site/io/even-faster-web-sites\">Even Faster Web Sites</a> and <a href=\"http://stevesouders.com/hpws/rules.php\">High Performance Web Sites</a>. Excellent.  For a huge paraphrase, continue here.</p>\n\n<p>When attaching javascript files to the DOM, it has been found that putting an inline &lt;script&gt; tag in the &lt;head&gt; of the document causes most browsers to block while that file is being downloaded and parsed.  IE8 and Chrome are exceptions.  To get around this, you can create a \"script\" element via document.createElement, set the appropriate attributes, and then attach it to the document head.  This approach does not block in any major browser.  </p>\n\n<pre><code>&lt;script type='text/javascript'&gt;\n    // Attaching jQuery the non-blocking way.\n    var elmScript = document.createElement('script');\n    elmScript .src = 'jQuery.js'; // change file to your jQuery library\n    elmScript .type = 'text/javascript';        \n    document.getElementsByTagName('head')[0].appendChild( elmScript );\n&lt;/script&gt;\n</code></pre>\n\n<p>This ensures that jQuery, while downloading and parsing, is not blocking the downloading and parsing of any other images or javascript files.  But this could present a problem if you have a script that depends on jQuery finishes its download before jQuery does.  jQuery won't be there and you will get an error saying $ or jQuery is undefined.</p>\n\n<p>So, to ensure that your code will run, you have to do some dependency checking.  If your dependencies are not met, wait for a little while and try again.</p>\n\n<pre><code>&lt;script type='text/javascript'&gt;\nrunScript();\n\nfunction runScript() {\n    // Script that does something and depends on jQuery being there.\n    if( window.$ ) {\n        // do your action that depends on jQuery.\n    } else {\n        // wait 50 milliseconds and try again.\n        window.setTimeout( runScript, 50 );\n    }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Like I said earlier, there are no problems with the approaches shown before, they are all valid and all work.  But this method will ensure that you are not blocking the download of other items on the page while waiting for jQuery.  </p>\n\n<p>This approach will work for any file, so if you have to include 10 js files, you can attach each of them using this method.  You just have to make sure your check function checks for every dependency before running.</p>\n",
                    "is_accepted": false,
                    "score": 39
                }
            ],
            "body": "<p>I have a web page. When this web page is loaded, I want to execute some JavaScript. This JavaScript uses JQuery. However, it appears that when the page is loaded, the jQuery library has not been fully loaded. Because of this, my JavaScript does not execute properly. </p>\n\n<p>What are some best practices for ensuring that your jQuery library is loaded before executing your JavaScript? </p>\n",
            "last_activity_date": 1247575496,
            "question_id": 1116983,
            "score": 9,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "JavaScript - How do I make sure a jQuery is loaded?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I found the answer here:</p>\n\n<p><a href=\"http://benknowscode.wordpress.com/2012/11/20/selecting-ranges-with-the-jquery-ui-datepicker/\">http://benknowscode.wordpress.com/2012/11/20/selecting-ranges-with-the-jquery-ui-datepicker/</a></p>\n\n<p>Great tutorial</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Your script was exactly what I was looking for. I forked your original fiddle and made only a slight adjustment to your onSelect to get it to work the way that you wanted.</p>\n\n<pre><code>onSelect: function(dateText, inst) {\n    var date1 = $.datepicker.parseDate($.datepicker._defaults.dateFormat, $(\"#input1\").val());\n    var date2 = $.datepicker.parseDate($.datepicker._defaults.dateFormat, $(\"#input2\").val());\n    var selectedDate = $.datepicker.parseDate($.datepicker._defaults.dateFormat, dateText);\n\n\n    if (!date1 || date2) {\n        $(\"#input1\").val(dateText);\n        $(\"#input2\").val(\"\");\n        $(this).datepicker();\n    } else if( selectedDate &lt; date1 ) {\n        $(\"#input2\").val( $(\"#input1\").val() );\n        $(\"#input1\").val( dateText );\n        $(this).datepicker();\n    } else {\n        $(\"#input2\").val(dateText);\n        $(this).datepicker();\n    }\n}\n</code></pre>\n\n<p>What was missing from your original section was simply a check to compare the current selected date value to the one that was already captured.</p>\n\n<p>Here is my forked fiddle:\n<a href=\"http://jsfiddle.net/sWbfk/\">http://jsfiddle.net/sWbfk/</a></p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Dude, your code is really what I needed!</p>\n\n<p>And with Jamie Layne's correction, I decided to use it to make a plugin.</p>\n\n<p>Here is the link for jsfiddle: <a href=\"http://jsfiddle.net/dxLRm/35/\" rel=\"nofollow\">http://jsfiddle.net/dxLRm/35/</a> (link updated 2014/01/01)</p>\n\n<p>Since I have to show some code, here is what I have:</p>\n\n<pre><code>(function ($) {\n$.prototype.rangedatepicker = function (o,x,y) {\n    var dp = $.datepicker,\n        cl = dp.markerClassName,\n        di = 'data-rdp-i',\n        df = 'data-rdp-f';\n\n    switch(o)\n    {\n        case 'option':\n            return $(this).datepicker('option');\n        case 'hide':\n            return $(this).datepicker('hide');\n        case 'show':\n            return $(this).datepicker('show');\n        case 'getInitialDate':\n            return dp.parseDate($(this).eq(0).datepicker('option','dateFormat'),$(this).eq(0).attr(di)||'');\n        case 'getFinalDate':\n            return dp.parseDate($(this).eq(0).datepicker('option','dateFormat'),$(this).eq(0).attr(df)||'');\n        case 'getRange':\n            var ini=dp.parseDate($(this).eq(0).datepicker('option','dateFormat'),$(this).eq(0).attr(di)||''),\n                fin=dp.parseDate($(this).eq(0).datepicker('option','dateFormat'),$(this).eq(0).attr(df)||'');\n            return (!ini&amp;&amp;!fin)?null:[ini,fin];\n        case 'getNumDays':\n            var ini=dp.parseDate($(this).eq(0).datepicker('option','dateFormat'),$(this).eq(0).attr(di)||''),\n                fin=dp.parseDate($(this).eq(0).datepicker('option','dateFormat'),$(this).eq(0).attr(df)||'');\n            return (ini+0==0||fin+0==0)?0:Math.round((fin-ini)/86400000)+1;\n        case 'removeRange':\n            return $(this).attr(di,'').attr(df,'').datepicker('setDate',null);\n        case 'destroy':\n            return $(this).removeAttr(di).removeAttr(df).datepicker('destroy');\n        case 'serialize':\n            return this[0].id+'_initial='+this[0].getAttribute(di)+'&amp;'+this[0].id+'_final='+this[0].getAttribute(df);\n        default:\n        var defaults={\n            allowSelectOneDay: false,\n            alwaysSetDateToFirstDay: true,\n            rangeEnabled: true,\n            rangeClass: 'ui-state-default ui-state-active'//'dp-highlight'\n        };\n            o = $.extend({}, defaults, $.datepicker._defaults, o);\n        return $(this).each(function () {\n            if (!$.datepicker) return;\n            var t = this,\n                hd = !! ((' ' + t.className + ' ').indexOf(' ' + cl + ' ') + 1);\n            $(t).datepicker($.extend({}, o, {\n                beforeShowDay: function (d) {\n                    if (o.rangeEnabled) {\n                        var d1 = dp.parseDate(o.dateFormat, t.getAttribute(di) || ''),\n                            d2 = dp.parseDate(o.dateFormat, t.getAttribute(df) || ''),\n                            y = (function (d) {\n                                try {\n                                    return o.beforeShowDay.call(t, d);\n                                } catch (e) {}\n                            })(d) || [true, '', null],\n                            x = ((y &amp;&amp; y[0] !== false) || !y) &amp;&amp; d1 &amp;&amp; ((d.getTime() == d1.getTime()) || (d2 &amp;&amp; d &gt;= d1 &amp;&amp; d &lt;= d2));\n                        return (!d1||!d2)?y||[true,'',null]:[y[0]&amp;&amp;x, (x ? o.rangeClass || defaults.rangeClass : '') + (y[1] ? ' ' + y[1] : ''), y[2]];\n                    } else {\n                        return (function (d) {\n                            try {\n                                return o.beforeShowDay.call(t, d);\n                            } catch (e) {}\n                        })(d) || [true, '', null];\n                    }\n                },\n                onSelect: function (dt, x) {\n                    if (o.rangeEnabled) {\n                        var i = t.getAttribute(di) || '',\n                            f = t.getAttribute(df) || '',\n                            d1 = dp.parseDate(o.dateFormat, i),\n                            d2 = dp.parseDate(o.dateFormat, f),\n                            s = dp.parseDate(o.dateFormat, dt);\n                        if ((dt == i &amp;&amp; dt == f) || (!o.allowSelectOneDay &amp;&amp; ((dt == i &amp;&amp; !f) || (dt == f &amp;&amp; !i)))) {\n                            t.removeAttribute(di);\n                            t.removeAttribute(df);\n                            $(t).datepicker('setDate', null);\n                        } else if (!d1 || d2) {\n                            t.setAttribute(di, dt);\n                            t.removeAttribute(df);\n                            o.alwaysSetDateToFirstDay &amp;&amp; $(t).datepicker('setDate', s);\n                        } else if (s &lt; d1) {\n                            t.setAttribute(df, i);\n                            t.setAttribute(di, dt);\n                            o.alwaysSetDateToFirstDay &amp;&amp; $(t).datepicker('setDate', s);\n                        } else {\n                            t.setAttribute(df, dt);\n                            o.alwaysSetDateToFirstDay &amp;&amp; $(t).datepicker('setDate', d1);\n                        }\n                    } else {\n                        t.removeAttribute(di);\n                        t.removeAttribute(df);\n                        $(t).datepicker('setDate', dp.parseDate(o.dateFormat, dt));\n                    }\n\n                    try {\n                        if($(t).datepicker('getDate'))o.onSelect.call(t, dt, x);\n                    } catch (e) {}\n                }\n            }));\n        });\n    }\n};\n})(window.jQuery);\n</code></pre>\n\n<p>You should access the fiddle and read the list of things to do!</p>\n\n<p>Any idea or piece of code is appreciated!</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I created a date range picker using jquery ui where you can use the same inline calendar to make both of your date selections.</p>\n\n<p>See my fiddle here: <a href=\"http://jsfiddle.net/kVsbq/4/\">http://jsfiddle.net/kVsbq/4/</a></p>\n\n<p>JS</p>\n\n<pre><code>$(\".datepicker\").datepicker({\n    minDate: 0,\n    numberOfMonths: [12, 1],\n    beforeShowDay: function (date) {\n        var date1 = $.datepicker.parseDate($.datepicker._defaults.dateFormat, $(\"#input1\").val());\n        var date2 = $.datepicker.parseDate($.datepicker._defaults.dateFormat, $(\"#input2\").val());\n        return [true, date1 &amp;&amp; ((date.getTime() == date1.getTime()) || (date2 &amp;&amp; date &gt;= date1 &amp;&amp; date &lt;= date2)) ? \"dp-highlight\" : \"\"];\n    },\n    onSelect: function (dateText, inst) {\n        var date1 = $.datepicker.parseDate($.datepicker._defaults.dateFormat, $(\"#input1\").val());\n        var date2 = $.datepicker.parseDate($.datepicker._defaults.dateFormat, $(\"#input2\").val());\n        if (!date1 || date2) {\n            $(\"#input1\").val(dateText);\n            $(\"#input2\").val(\"\");\n            $(this).datepicker();\n        } else {\n            $(\"#input2\").val(dateText);\n            $(this).datepicker();\n        }\n    }\n});\n</code></pre>\n\n<p>What I want to be able to do is a range selector like this: <a href=\"http://jsfiddle.net/D3wLX/1/\">http://jsfiddle.net/D3wLX/1/</a> </p>\n\n<p>If you select an earlier date then the earlier date is automatically made the first date in the range and the middle dates are highlighted. Right now on my original jquery ui solution it will just put the earlier date in the second input and not highlight the dates in  between.</p>\n",
            "last_activity_date": 1406641651,
            "question_id": 16092288,
            "score": 8,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui",
                "jquery-ui-datepicker",
                "date-range"
            ],
            "title": "Date range picker on jquery ui datepicker"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>use <code>pushState</code>:</p>\n\n<pre><code>window.history.pushState(\"\", \"\", '/newpage');\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 32
                },
                {
                    "body": "<p>If you want to know exactly what they using, it's <strong>Backbone.js</strong> (see lines <code>4574</code> and <code>4981</code>). It's all mixed up in there with the jQuery source, but these are the relevant lines of the <a href=\"http://backbonejs.org/docs/backbone.html#section-108\" rel=\"nofollow\">annotated <code>Backbone.Router</code> source</a> documentation page:</p>\n\n<p>The <a href=\"https://github.com/documentcloud/backbone/blob/master/backbone.js#L1029\" rel=\"nofollow\">support checks</a>:</p>\n\n<pre><code>  this._wantsPushState = !!this.options.pushState;\n  this._hasPushState = !!(this.options.pushState &amp;&amp; window.history &amp;&amp; window.history.pushState);\n</code></pre>\n\n<p>The <code>route</code> function:</p>\n\n<pre><code>route: function(route, name, callback) {\n    Backbone.history || (Backbone.history = new History);\n\n    if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n\n    if (!callback) callback = this[name];\n\n    Backbone.history.route(route, _.bind(function(fragment) {\n        var args = this._extractParameters(route, fragment);\n\n        callback &amp;&amp; callback.apply(this, args);\n\n        this.trigger.apply(this, ['route:' + name].concat(args));\n\n        Backbone.history.trigger('route', this, name, args);\n    }, this));\n\n    return this;\n},\n</code></pre>\n\n<p>Choosing between <a href=\"https://github.com/documentcloud/backbone/blob/master/backbone.js#L1043\" rel=\"nofollow\">hash and push state</a>s:</p>\n\n<pre><code>// Depending on whether we're using pushState or hashes, and whether\n// 'onhashchange' is supported, determine how we check the URL state.\nif (this._hasPushState) {\n    Backbone.$(window).bind('popstate', this.checkUrl);\n} else if (this._wantsHashChange &amp;&amp; ('onhashchange' in window) &amp;&amp; !oldIE) {\n    Backbone.$(window).bind('hashchange', this.checkUrl);\n} else if (this._wantsHashChange) {\n    this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n}\u200b\n</code></pre>\n\n<p>More on what they're up to:</p>\n\n<pre><code>// If we've started off with a route from a `pushState`-enabled browser,\n// but we're currently in a browser that doesn't support it...\nif (this._wantsHashChange &amp;&amp; this._wantsPushState &amp;&amp; !this._hasPushState &amp;&amp; !atRoot) {\n    this.fragment = this.getFragment(null, true);\n    this.location.replace(this.root + this.location.search + '#' + this.fragment);\n\n    // Return immediately as browser will do redirect to new url\n    return true;\n\n    // Or if we've started out with a hash-based route, but we're currently\n    // in a browser where it could be `pushState`-based instead...\n} else if (this._wantsPushState &amp;&amp; this._hasPushState &amp;&amp; atRoot &amp;&amp; loc.hash) {\n    this.fragment = this.getHash().replace(routeStripper, '');\n    this.history.replaceState({}, document.title, this.root + this.fragment);\n}\n\nif (!this.options.silent) return this.loadUrl();\n</code></pre>\n\n<p>And the <a href=\"https://github.com/documentcloud/backbone/blob/master/backbone.js#L1132\" rel=\"nofollow\">coup 'd grace</a>:</p>\n\n<pre><code>// If pushState is available, we use it to set the fragment as a real URL.\nif (this._hasPushState) {\n     this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n}\n</code></pre>\n\n<p>You should read the annotated Backbone.js link I provided at the top. Very informative.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I would like to know how to change the url without redirecting like on this website <a href=\"http://dekho.com.pk/ads-in-lahore\">http://dekho.com.pk/ads-in-lahore</a>\nwhen we click on tabs the url changes but the page dosent reload completely. There are other questions on stackoverflow indicating that it is not possible but i would like to know how the above mentioned website have implemented it.\nThanks</p>\n",
            "last_activity_date": 1347796414,
            "question_id": 12446317,
            "score": 8,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "redirect"
            ],
            "title": "change url without redirecting using javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>DOM manipulation should be in a directive instead of the controller.  I would define a <code>focusInput</code> directive and use it on the button:</p>\n\n<pre><code>&lt;div class=\"button\" focus-input&gt;{{element.name}}&lt;/div&gt;   \n</code></pre>\n\n<p>Directive:</p>\n\n<pre><code>app.directive('focusInput', function($timeout) {\n  return {\n    link: function(scope, element, attrs) {\n      element.bind('click', function() {\n        $timeout(function() {\n          element.parent().parent().find('input')[0].focus();\n        });\n      });\n    }\n  };\n});\n</code></pre>\n\n<p><a href=\"http://plnkr.co/edit/96ZnWZZ0EU2VipioBpgC?p=preview\">Plunker</a></p>\n\n<p>Since <a href=\"http://docs.angularjs.org/api/angular.element\">jqLite</a> is rather limited in terms of DOM traversal methods, I had to use <code>parent().parent()</code>.  You may wish to use jQuery or some JavaScript methods. </p>\n\n<p>As you already found out, <code>$timeout</code> is needed so that the <code>focus()</code> method is called after the browser renders (i.e., finishes handling the click event).</p>\n\n<p><code>find('input')[0]</code> gives us access to the DOM element, allowing us to use the JavaScript <code>focus()</code> method (rather than <code>find('input').focus()</code> which would require jQuery).</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>I've been having a look at AngularJS recently and came across a similar situation.</p>\n\n<p>I was working to update the Todo example application from the main angular page to add an \"edit\" mode when you double click on a todo item.</p>\n\n<p>I was able to solve my issue using a model/state-based approach. If your application works in a similar way (you want to set focus on a field when some condition on the model is true) then this might work for you too.</p>\n\n<p>My approach is to set the <code>model.editing</code> property to <code>true</code> when the user double-clicks on the todo label - this shows the editable input and hides the regular non-editable label and checkbox.\nWe also have a custom directive called <code>focusInput</code> that has a watch on the same <code>model.editing</code> property and will set focus on the text field when the value changes:</p>\n\n<pre><code>&lt;li ng-repeat=\"todo in todos\"&gt;\n\n    &lt;div&gt;\n        &lt;!-- Regular display view. --&gt;\n        &lt;div ng-show=\"todo.editing == false\"&gt;\n            &lt;label class=\"done-{{todo.done}}\" ng-dblclick=\"model.editing = true\"&gt;\n                &lt;input type=\"checkbox\" ng-model=\"todo.done\"/&gt;{{todo.text}}\n            &lt;/label&gt;\n        &lt;/div&gt;\n\n        &lt;!-- Editable view. --&gt;\n        &lt;div ng-show=\"todo.editing == true\"&gt;\n            &lt;!--\n                - Add the `focus-input` directive with the statement \"todo.editing == true\".\n                  This is the element that will receive focus when the statement evaluates to true.\n\n                - We also add the `todoBlur` directive so we can cancel editing when the text field loses focus.\n            --&gt;\n            &lt;input type=\"text\" ng-model=\"todo.text\" focus-input=\"todo.editing == true\" todo-blur=\"todo.editing = false\"/&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/li&gt;\n</code></pre>\n\n<p>Here is the <code>focusInput</code> directive that will set focus on the current element when some condition evaluates to <code>true</code>:</p>\n\n<pre><code>angular.module('TodoModule', [])\n    // Define a new directive called `focusInput`.\n    .directive('focusInput', function($timeout){\n        return function(scope, element, attr){\n\n            // Add a watch on the `focus-input` attribute.\n            // Whenever the `focus-input` statement changes this callback function will be executed.\n            scope.$watch(attr.focusInput, function(value){\n                // If the `focus-input` statement evaluates to `true`\n                // then use jQuery to set focus on the element.\n                if (value){\n                    $timeout(function(){\n                        element.select();\n                    });\n                }\n            });\n\n        };\n    })\n    // Here is the directive to raise the 'blur' event.\n    .directive('todoBlur', [\n        '$parse', function($parse){\n            return function(scope, element, attr){\n\n                var fn = $parse(attr['todoBlur']);\n                return element.on('blur', function(event){\n\n                    return scope.$apply(function(){\n                        return fn(scope, {\n                            $event: event\n                        });\n                    });\n\n                });\n\n            };\n        }\n    ]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I had to create an account just to provide the easy answer.</p>\n\n<pre><code>//Add a bool to your controller's scope that indicates if your element is focused\n... //ellipsis used so I don't write the part you should know\n$scope.userInputActivate = false;\n...\n//Add a new directive to your app stack\n...\n.directive('focusBool', function() { \n    return function(scope, element, attrs) {\n        scope.$watch(attrs.focusBool, function(value) {\n            if (value) $timeout(function() {element.focus();});\n        });\n    }\n})\n...\n\n&lt;!--Now that our code is watching for a scope boolean variable, stick that variable on your input element using your new directive, and manipulate that variable as desired.--&gt;\n...\n&lt;div class=\"button\" ng-click=\"userInputActivate=true\"&gt;...&lt;/div&gt;\n...\n&lt;input type=\"text\" focus-Bool=\"userInputActivate\"&gt;\n...\n</code></pre>\n\n<p>Be sure to reset this variable when you aren't using the input.  You can add an ng-blur directive easy enough to change it back, or another ng-click event that resets it to false.  Setting it to false just gets it ready for next time.  Here is an ng-blur directive example I found in case you have trouble finding one.</p>\n\n<pre><code>.directive('ngBlur', ['$parse', function($parse) {\n    return function(scope, element, attr) {\n        var fn = $parse(attr['ngBlur']);\n        element.bind('blur', function(event) {\n        scope.$apply(function() {\n            fn(scope, {$event:event});\n        });\n    });\n    }\n}]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here is what I have come up with. I started with Mark Rajcok's solution above and then moved to make it easy to re-use. It's configurable and does not require any code in your controller. Focus is pure presentation aspect and should not require controller code </p>\n\n<p><strong>html:</strong></p>\n\n<pre><code> &lt;div id=\"focusGroup\"&gt;\n     &lt;div&gt;\n         &lt;input type=\"button\" value=\"submit\" pass-focus-to=\"focusGrabber\" focus-parent=\"focusGroup\"&gt;\n     &lt;/div&gt;\n     &lt;div&gt;\n         &lt;input type=\"text\" id=\"focusGrabber\"&gt;\n     &lt;/div&gt; \n &lt;/div&gt;\n</code></pre>\n\n<p><strong>directive:</strong></p>\n\n<pre><code>chariotApp.directive('passFocusTo', function ($timeout) {\n    return {\n        link: function (scope, element, attrs) {\n            element.bind('click', function () {\n                $timeout(function () {\n                    var elem = element.parent();\n                    while(elem[0].id != attrs.focusParent) {\n                        elem = elem.parent();\n                    }\n                    elem.find(\"#\"+attrs.passFocusTo)[0].focus();\n                });\n            });\n        }\n    };\n});\n</code></pre>\n\n<p><strong>assumption:</strong></p>\n\n<ul>\n<li>Your giver and taker are close by.</li>\n<li>when using this multiple times on one page id's used are unique or give and taker are in an isolated branch of the DOM.  </li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Here is a directive that triggers a focus event on a target dom element:</p>\n\n<p>AngularJs Directive:</p>\n\n<pre><code>app.directive('triggerFocusOn', function($timeout) {\n    return {\n        link: function(scope, element, attrs) {\n            element.bind('click', function() {\n                $timeout(function() {\n                    var otherElement = document.querySelector('#' + attrs.triggerFocusOn);\n\n                    if (otherElement) {\n                        otherElement.focus();\n                    }\n                    else {\n                        console.log(\"Can't find element: \" + attrs.triggerFocusOn);\n                    }\n                });\n            });\n        }\n    };\n});\n</code></pre>\n\n<p>The html:</p>\n\n<pre><code>&lt;button trigger-focus-on=\"targetInput\"&gt;Click here to focus on the other element&lt;/button&gt;\n&lt;input type=\"text\" id=\"targetInput\"&gt;\n</code></pre>\n\n<p>A live example on <a href=\"http://plnkr.co/edit/f3A0KnLj8nAVcD3WQziJ?p=preview\" rel=\"nofollow\">Plunker</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have this angular code:</p>\n\n<pre><code>&lt;div class=\"element-wrapper\" ng-repeat=\"element in elements\"&gt;\n  &lt;div class=\"first-wrapper\"&gt;\n     &lt;div class=\"button\" ng-click=\"doSomething(element,$event)\"&gt;{{element.name}}&lt;/div&gt;   \n  &lt;/div&gt;\n  &lt;div class=\"second-wrapper\"&gt;\n    &lt;input type=\"text\" value=\"{{element.value}}\"&gt;    \n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>What I want to happen:</strong> when the user clicks the button - the input element will be focused.</p>\n\n<p><strong>How do I find the input element after I click the button element and focus it?</strong></p>\n\n<p>I can do a function that looks like this:</p>\n\n<pre><code>function doSomething(element,$event) {\n  //option A - start manipulating in the dark:\n  $event.srcElement.parentNode.childNodes[1]\n\n  //option B - wrapping it with jQuery:\n   $($event.srcElement).closest('.element-wrapper').find('input').focus();\n}\n</code></pre>\n\n<p>Neither of them  work - Is there a nicer Angular way to do it? Using functions such as <code>.closest()</code> and <code>.find()</code> as in jQuery?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I found this hack to be working <strong>(but it still doesn't seem like the correct solution)</strong>:</p>\n\n<pre><code>function doSomething(element,$event) {\n   setTimeout(function(){\n     $($event.srcElement).closest('.element-wrapper').find('input').focus();\n   },0)\n}\n</code></pre>\n\n<p>I am wrapping it with setTimeout so after Angular finishes all of its manipulations it focuses on the input element.</p>\n",
            "last_activity_date": 1398366850,
            "question_id": 15518772,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "angularjs"
            ],
            "title": "Easy dom manipulation in AngularJS - click a button, then set focus to an input element"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You just need to return the model from the <code>model</code> method:</p>\n\n<pre><code>TravelClient.TourSeatsRoute = Ember.Route.extend({\n  model: function(params) {\n    return TravelClient.Tour.find(params.tour_id);\n  }\n});\n</code></pre>\n\n<p>And then in your template you can do the following where <code>controller</code> is the context:</p>\n\n<pre><code>{{model.seats}}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I'm still new to EmberJS but I would've written my router and routes like this.</p>\n\n<p>I'm not sure that you need to wrap the <em>post</em> resource inside the <em>posts</em> resource. Note the double plurals in ToursSeatsRoute</p>\n\n<pre><code>TravelClient.Router.map(function() {\n  this.resource('tours', function() {        \n    this.route('/:tour_id/seats');        \n  });\n});\n</code></pre>\n\n<p>This would give you the following urls:</p>\n\n<p>/tours  - you could map this to an ArrayController</p>\n\n<p>/tours/:tour_id/seats  - you could map this to an ObjectController</p>\n\n<pre><code>TravelClient.ToursSeatsRoute = Ember.Route.extend({\n  model: function(params) {\n    console.log(params); \n    return TravelClient.Tour.find(params.tour_id);\n  }\n});\n</code></pre>\n\n<p>Give it a go? Or maybe put your code a in a JSFiddle?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you're using ember-1.0-pre.4+, the params are only returned for the specific route you're on, not the whole URL. There's some <a href=\"https://github.com/emberjs/ember.js/issues/1769\" rel=\"nofollow\">discussion about this here</a>.</p>\n\n<p>I believe the desired approach at this time is to use <code>this.modelFor</code> passing the name of the parent resource you've set up in the parent route. So in your case, it would be:</p>\n\n<pre><code>TravelClient.TourSeatsRoute = Ember.Route.extend({\n  model: function() {\n    return this.modelFor(\"tour\");\n  }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 19
                }
            ],
            "body": "<p>Cheers! I've got routes:</p>\n\n<pre><code>TravelClient.Router.map(function() {\n  this.resource('tours', function() {\n    this.resource('tour', { path: ':tour_id' }, function(){\n      this.route('seats');\n    });   \n  });\n});\n</code></pre>\n\n<p>And a template:</p>\n\n<pre><code>  &lt;script type=\"text/x-handlebars\" data-template-name=\"tour/seats\"&gt;\n    {{...}}\n  &lt;/script&gt;\n</code></pre>\n\n<p>Seats is an attribute of Tour object:</p>\n\n<pre><code>TravelClient.Tour.find(1).get('seats');\n12\n</code></pre>\n\n<p>And I extend my TourSeats route like this:</p>\n\n<pre><code>TravelClient.TourSeatsRoute = Ember.Route.extend({\n  model: function(params) {\n    return TravelClient.Tour.find(params.tour_id).get('seats');\n  }\n});\n</code></pre>\n\n<p>Question: how to render tour's seats in template?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>My fixtures looks like that:</p>\n\n<pre><code>TravelClient.Store = DS.Store.extend({\n  revision: 11,\n  adapter: 'DS.FixtureAdapter'\n});\n\nTravelClient.Tour = DS.Model.extend({\n  title: DS.attr('string'),\n  description: DS.attr('string'),\n  seats: DS.attr('number')\n});\n\nTravelClient.Tour.FIXTURES = [{\n  id: 1,\n  title: \"Brighton, England\",\n  description: \"Lorem ipsum dolor ... .\",\n  seats: 12\n},...\n</code></pre>\n\n<p>And I've changed my route extend to this:</p>\n\n<pre><code>TravelClient.TourSeatsRoute = Ember.Route.extend({\n  model: function(params) {\n    return TravelClient.Tour.find(params.tour_id);\n  }\n});\n</code></pre>\n\n<p>And in template:</p>\n\n<pre><code>  &lt;script type=\"text/x-handlebars\" data-template-name=\"tour/seats\"&gt;\n    {{tour.seats}}\n  &lt;/script&gt;\n</code></pre>\n\n<p><strong>UPDATE 2:</strong></p>\n\n<pre><code>  &lt;script type=\"text/x-handlebars\" data-template-name=\"tour/seats\"&gt;\n    {{controller.model.seats}}\n  &lt;/script&gt;\n</code></pre>\n\n<p>and it gives undefind back.\nAfter some debugging I founded out, that there is no any id in params and params is empty, thats why I can't get the right model in TourSeatsRoute function.</p>\n",
            "last_activity_date": 1424528747,
            "question_id": 14642340,
            "score": 7,
            "tags": [
                "javascript",
                "model-view-controller",
                "web-applications",
                "ember.js"
            ],
            "title": "Ember.js nested routes"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Something like a:</p>\n\n<pre><code>function predicatBy(prop){\n   return function(a,b){\n      if( a[prop] &gt; b[prop]){\n          return 1;\n      }else if( a[prop] &lt; b[prop] ){\n          return -1;\n      }\n      return 0;\n   }\n}\n\n//Usage\nyourArray.sort( predicatBy(\"age\") );\nyourArray.sort( predicatBy(\"name\") );\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 34
                },
                {
                    "body": "<p>See this example \n<a href=\"http://jsfiddle.net/W8Byu/1/\" rel=\"nofollow\">http://jsfiddle.net/W8Byu/1/</a></p>\n\n<p>What I have done is stored the sort column Name in a variable and used in Sort function.</p>\n\n<pre><code> var sortColumnName = \"Name\";\n\n function SortByName(x,y) {\n      return ((x[sortColumnName]  == y[sortColumnName]) ? 0 : ((x[sortColumnName]&gt;    y[sortColumnName]) ? 1 : -1 ));\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can sort arrays by any field with <a href=\"http://github.com/agershun/alasql\" rel=\"nofollow\">Alasql</a> library:</p>\n\n<pre><code>var data = [{\"name\":\"John\", \"age\":\"16\"}, {\"name\":\"Charles\", \"age\":\"26\"}];\n\nvar res1 = alasql('SELECT * FROM ? ORDER BY name',[data]);\nvar res2 = alasql('SELECT * FROM ? ORDER BY age',[data]);\nvar res3 = alasql('SELECT * FROM ? ORDER BY age, name',[data]);\nvar res4 = alasql('SELECT * FROM ? ORDER BY age DESC, name ASC',[data]);\n</code></pre>\n\n<p>Try this example <a href=\"http://jsfiddle.net/agershun/bajjuhoz/1/\" rel=\"nofollow\">in jsFiddle</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I found out how to sort a JSON array at <a href=\"http://www.devcurry.com/2010/05/sorting-json-array.html\">http://www.devcurry.com/2010/05/sorting-json-array.html</a></p>\n\n<p>Now I want to sort it in a generic way; so that my sorting function knows which attribute to sort by. </p>\n\n<p>For example if my array is </p>\n\n<pre><code>    [{\"name\":\"John\", \"age\":\"16\"}, {\"name\":\"Charles\", \"age\":\"26\"}] \n</code></pre>\n\n<p>I want to avoid writing different if cases to know if I should sort by name or age. I just want to pass a parameter 'name' or 'age' and my sorting function should know what to do.</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1418898244,
            "question_id": 11099610,
            "score": 7,
            "tags": [
                "javascript",
                "arrays",
                "json",
                "sorting"
            ],
            "title": "Generic way of sorting JSON array by attribute"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>If you want to do this purely with CSS, then you have to know the size of each image ahead of time. For example, in <a href=\"http://jsfiddle.net/PHCJf/\" rel=\"nofollow\">this demo</a>:</p>\n\n<p><img src=\"http://f.cl.ly/items/0l2N0o0T011A0u2j012M/Screen%20shot%202011-02-13%20at%2019.46.16.png\" alt=\"screenshot\"></p>\n\n<p>I have a 20px grid, and the image has a height of 150px, so I have wrapped the image in a container with a height of 160px. This requires extra markup:</p>\n\n<pre><code>&lt;div class=figure&gt;\n  &lt;div class=image-wrap style=\"height:160px\"&gt;\n    &lt;img width=150 height=150&gt;\n  &lt;/div&gt;\n  &lt;p class=caption&gt;Figure 1\n&lt;/div&gt;\n</code></pre>\n\n<p>Perhaps such markup could be generated by a WordPress plugin, which receives the image markup and the minimum height and outputs a grid-aligned <code>div</code> wrapper. (I am unfamiliar with WordPress.)</p>\n\n<p>The alternative would be to use JavaScript, which has been addressed in <a href=\"http://stackoverflow.com/questions/1762950\">this similar question</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>(edited -- new and improved solution)</p>\n\n<p>I don't know if WordPress provides any way to generate wrapper divs around images, but if it does, then this should work.  It is fairly robust in the face of different text scales and image sizes, though you may need to adjust the length of the generated-content string of alternating spaces and non-breaking spaces, depending on how tall or short your images tend to be.</p>\n\n<p>The way this works is that it uses a negative margin to make the outer image wrapper just enough wider than the inner wrapper, so that one non-breaking space will fit on one line before a wrap will occur, and then it generates a string of alternating non-breaking and normal spaces that fills up one line at a time down the right edge, before spilling onto the line below.  Finally, a negative margin equal to one line-height counteracts the partially-filled line of spaces below the image.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;style&gt;\n    .html {\n        line-height: 1.25em;\n    }\n    .p {\n        margin: 0;\n        padding: 0;\n    }\n    .section,\n    .imginner {\n        width: 20em;\n    }\n    .section {\n        float: left;\n        margin: 0.5em;\n        background-color: #eeeeff;\n    }\n    .fakeimage {\n        background-color: #ffeeee;\n    }\n    .imgouter {\n      margin-right: -0.5em;\n      background-color: #eeffee;\n      margin-bottom: -1.25em; /* minus 1 line-height */\n    }\n    .imgouter:after {\n        content:'\\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0  \\00a0'\n    }\n    .imginner {\n      float: left;\n      background-color: #ffffdd;\n    }\n  &lt;/style&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div class='section'&gt;\n    Some text text text text text text.\n    Some text text text text text text.\n    &lt;div class='imgouter'&gt;\n      &lt;div class='imginner'&gt;\n        &lt;div class='fakeimage' style=\"width:145px; height:92px\"&gt;\n          (image here)\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    Some text text text text text text.\n    Some text text text text text text.\n    Some text text text text text text.\n  &lt;/div&gt;\n  &lt;div class='section'&gt;\n    Some text text text text text text.\n    Some text text text text text text.\n    Some text text text text text text.\n    Some text text text text text text.\n    Some text text text text text text.\n    Some text text text text text text.\n    Some text text text text text text.\n    Some text text text text text text.\n    Some text text text text text text.\n    Some text text text text text text.\n    Some text text text text text text.\n    Some text text text text text text.\n    Some text text text text text text.\n    Some text text text text text text.\n  &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I cannot guarantee that any of this will work, but it may be worth a try:</p>\n\n<p>If you can guarantee that all images heights are specified in <code>em</code>, you can set the font-size of the <code>img</code> elements to be the same as the <code>line-height</code> to make sure that all properly inserted images are sized properly:</p>\n\n<pre><code>html\n{\n  font-size: 15px;\n  line-height: 18px;\n}\n\nimg\n{\n  font-size: 18px;\n  line-height: 18px;\n}\n</code></pre>\n\n<p>Alternatively, you can try floating images within paragraphs so that the image is wrapped with correct rhythm.</p>\n\n<pre><code>&lt;p&gt;&lt;img ... /&gt; Lorem ipsum dolor sit amet...&lt;/p&gt;\n</code></pre>\n\n<p>And finally, the pure CSS you'd-have-to-be-crazy-to-implement-this method:</p>\n\n<ol>\n<li>Calculate the line-spacing you're using</li>\n<li>Make sure it comes out to a whole pixel (otherwise this will never work).</li>\n<li>Make sure all heights are specified uniformly: <code>&lt;img height=\"100\"</code> vs <code>&lt;img height=\"100px\"</code></li>\n<li>Write an obscene number of CSS rules:</li>\n</ol>\n\n\n\n<pre><code>img[height$=\"1\"]\n{\n  margin-bottom: 9px;\n}\nimg[height$=\"2\"]\n{\n  margin-bottom: 8px;\n}\n...etc...\n</code></pre>\n\n<p>Note, this works just fine for 10, and other multiples of 10 and 5, but it'll be a royal pain for pretty much everything else.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'd suggest using a CSS framework like Foundation or Bootstrap and Compass+SCSS to help with this. I've actually done some work to setup Foundation with a decent default set of Vertical Rhythm rules, which you can use straight out of the box. I have a blog post up which explains it and has a link to a pull-request on Github.</p>\n\n<p><a href=\"http://lucisferre.net/2012/10/08/getting-into-vertical-rhythm/\" rel=\"nofollow\">http://lucisferre.net/2012/10/08/getting-into-vertical-rhythm/</a></p>\n\n<p>With that you can generate some decent base CSS for your typography and other page elements. Or you can just apply the technique to your existing CSS. It's a bit tedious but it isn't all that hard.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>@PaBLoX, I believe it is entirely possible to achieve vertical rhythm using only CSS. The real question is, \"can you create a reusable vertical-rhythm boilerplate using only CSS?\". Every project is different, uses different font families, etc.  Although vertical rhythm is supposed to be based on math driven by inputs, the variables change with each project. You might not need \"blog-style\" vertical rhythm on a shopping site...</p>\n\n<p>In any case, it's been a while since this question was asked, but if you or anyone else wants to see an example (attempt) at creating a boilerplate for vertical-rhythm, here is the repo on github: <a href=\"https://github.com/jonschlinkert/vertical-rhythm\" rel=\"nofollow\">https://github.com/jonschlinkert/vertical-rhythm</a></p>\n\n<p>It's a starting point. I suspect the project will eventually consist of a few different boilerplates for different needs.  </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In my opinion a pure css soluition is impossible. Take for instance a table. A table cell has by default a little bit of padding so it's content is readable. You could try and make each table cell exactly the right height, but that will be hard. Also, adding for instance a bottom border somewere will also add to the height of the element, which means you have to reckon with it. I love the way that Compass's vertical rhythm tools help maintain a vertical rhythm, but for inline images and for instance tables I found that pure CSS is lacking. For that reason I wrote a simple jquery plugin that could help with this, find it here: <a href=\"https://github.com/dagomar/rhythm.js\" rel=\"nofollow\">https://github.com/dagomar/rhythm.js</a></p>\n\n<p>Only drawback is that for inline elements to work, it will need an offset, I haven't figured out yet if that can be automated. The offset you can only find by testing it out, I found that an offset of 6 (default) works the best for baselines from 21-24 pixels, but it may be that font-size has an influence. For now, as a proof of concept I found that it works extremely well. It works also for responsive images (window.resize). Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm developing a typography oriented wordpress theme[1], and I'm getting troubles with the in-line images.</p>\n\n<p>I can control every element and adjust it's line height, bottom margin, ecc, to keep the vertical rhythm. But since images pasted through the editor can have any height, they obviously disrupt all the following content.</p>\n\n<p>So the question is if it's possible using margin, padding, both or another solution, to make sure that independent of the image size it will adjust to the baseline.</p>\n\n<p>I know there are some alternatives like make all images turn to a multiple of the line height, that way I can keep the rhythm. Other option would be use javascript, not ideal, but if there's no css solution, I'll have to consider it.</p>\n\n<p>[1] As you can see, this is a css related issue rather than a wordpress one, that's why I'm posting this question here.</p>\n",
            "last_activity_date": 1361618175,
            "question_id": 4986944,
            "score": 7,
            "tags": [
                "javascript",
                "css",
                "typography",
                "vertical-rhythm"
            ],
            "title": "Is it possibly to keep vertical rhythm using only css?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Check <a href=\"http://krystalware.com/Products/SlickUpload/\" rel=\"nofollow\">http://krystalware.com/Products/SlickUpload/</a></p>\n\n<p>Free trial never ends, but it puts a little \"powered by\" notice on your site.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I found a few different options out there.  I haven't used any of them, but I will most likely look into the 3rd option here in the near future.</p>\n\n<ul>\n<li><a href=\"http://en.fileuploadajax.subgurim.net/\" rel=\"nofollow\">http://en.fileuploadajax.subgurim.net/</a></li>\n<li><a href=\"http://ajaxuploader.com/\" rel=\"nofollow\">http://ajaxuploader.com/</a></li>\n<li><a href=\"http://mattberseth.com/blog/2008/07/aspnet%5Ffile%5Fupload%5Fwith%5Frealti.html\" rel=\"nofollow\">http://mattberseth.com/blog/2008/07/aspnet_file_upload_with_realti.html</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>You can use my <a href=\"http://valums.com/ajax-upload/\" rel=\"nofollow\">AJAX Upload plugin</a> that allows you to use any element for file upload and doesn't require flash.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have asp.net 3.5 website, and i want to put an ajax uploader, but i want this ajax uploader to:</p>\n\n<ol>\n<li>don't refresh the page while/after uploading</li>\n<li>easy to integrate</li>\n<li>free</li>\n<li>Not swf upload control</li>\n<li>i will use it in uploading images, so want a simple way to get the uploaded image file name, and be able to tell it in which folder to upload to.</li>\n</ol>\n\n<p>any one know a good one?</p>\n",
            "last_activity_date": 1244748644,
            "question_id": 614945,
            "score": 6,
            "tags": [
                ".net",
                "asp.net",
                "javascript",
                "ajax"
            ],
            "title": "Whats the best, most simple ajax file uploader?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<h3>Problem(s)</h3>\n\n<ul>\n<li>The <code>Base</code> class constructor is called once and only once.<br/>\nthis.prototype = new baseClass;</li>\n<li>Privileged methods will refer to the same <code>this</code> object across instances because those methods are created within the constructor (which was called only once).</li>\n</ul>\n\n<h3>Problem(s) based on a matter of opinion</h3>\n\n<ul>\n<li>You should try to avoid modifying native prototypes (ie. <code>Function.prototype</code>) if you plan on working alongside JavaScript that you do not own.</li>\n</ul>\n\n<h3>Solution</h3>\n\n<ul>\n<li>Call the constructor and parent constructor(s) for each new instance that is created.</li>\n<li>Inherit the parent prototype chain (not a instance of a the parent class).</li>\n<li>Maintain a 1:1 ratio of number of instances created to the number of calls the constructor(s) in the prototype chain.</li>\n</ul>\n\n<h3>Final solution to Max's problem</h3>\n\n<p>Please pay special attention to the <code>inherits</code> function and the <code>ParentClass.call(this, title);</code> line.\nConstructors to look for are <code>ParentClass</code> and <code>ChildClass</code></p>\n\n<pre><code>/**\n * Allows a child constructor to safely inherit the parent constructors prototype chain.\n * @type {Function}\n * @param {!Function} childConstructor\n * @param {!Function} parentConstructor\n */\nfunction inherits(childConstructor, parentConstructor){\n    var TempConstructor = function(){};\n    TempConstructor.prototype = parentConstructor.prototype; // Inherit parent prototype chain\n\n    childConstructor.prototype = new TempConstructor(); // Create buffer object to prevent assignments directly to parent prototype reference.\n    childConstructor.prototype.constructor = childConstructor; // Reset the constructor property back the the child constructor\n};\n\n//////////////////////////////////////\n/** @constructor */\nfunction ParentClass(title) {\n    this.setTitle(title);\n\n    var randId_ = Math.random();\n    /** @return {number} */\n    this.getPrivlegedRandId = function()\n        {return randId_;};\n};\n\n/** @return {string} */\nParentClass.prototype.getTitle = function()\n    {return this.title_;};\n\n/** @param {string} value */\nParentClass.prototype.setTitle = function(value)\n    {this.title_ = value;};\n\n//////////////////////////////////////    \n/**\n * @constructor\n * @param {string} title\n * @param {string} name \n */\nChildClass = function (name, title) {\n    ParentClass.call(this, title); // Call the parent class constructor with the required arguments\n\n    this.setName(name);\n}\ninherits(ChildClass, ParentClass); // Inherit the parent class prototype chain.\n\n/** @return {string} */\nChildClass.prototype.getName = function()\n    {return this.name_;};\n\n /** @param {string} value */\nChildClass.prototype.setName = function(value)\n    {this.name_ = value;};\n</code></pre>\n\n<h2>Down the rabbit hole</h2>\n\n<p>For those who are curious why that works vs simply memorizing it the <code>inherits</code> function.</p>\n\n<h3>How properties are resolved using the prototype chain</h3>\n\n<p>When a property is not found at the instance level, JavaScript will try to resolve the missing property by searching through the instance constructors prototype chain.  If the property is not found in the first prototype object, it will search the parent prototype object and so on all the way up to <code>Object.prototype</code>.  If it can't find it within <code>Object.prototype</code> then an error will be thrown.</p>\n\n<h3>Calling the parent constructor from child constructor : Attempt #1</h3>\n\n<pre><code>// Bad\nvar ChildConstructor = function(arg1, arg2, arg3){\n    var that = new ParentConstructor(this, arg1, arg2, arg3);\n    that.getArg1 = function(){return arg1};\n    return that;\n}\n</code></pre>\n\n<p>Any varible that is created using <code>new ChildConstructor</code> will return an instance of <code>ParentConstructor</code>.\nThe <code>ChildConstructor.prototype</code> will be not be used.</p>\n\n<h3>Calling the parent constructor from child constructor : Attempt #2</h3>\n\n<pre><code>// Good\nvar ChildConstructor = function(arg1, arg2, arg3){\n    ParentConstructor.call(this, arg1, arg2, arg3);\n}\n</code></pre>\n\n<p>Now constructor and the parent constructor is called appropriately.  However, only methods defined within the constructor(s) will exist.  Properties on the parent prototypes will not be used because they have not yet been linked to the child constructors prototype.</p>\n\n<h3>Inheriting the parent prototype : Attempt #1</h3>\n\n<pre><code>// Bad\nChildConstructor.prototype = new ParentConstructor();\n</code></pre>\n\n<p>The parent constructor will either be called only once or one too many times depending on whether or not <code>ParentConstructor.call(this)</code> is used.</p>\n\n<h3>Inheriting the parent prototype attempt #2</h3>\n\n<pre><code>// Bad\nChildConstructor.prototype = ParentConstructor.prototype;\n</code></pre>\n\n<p>Though this technically works, any assignments to <code>ChildConstructor.prototype</code> will also be assigned to <code>ParentConstructor.prototype</code> because Objects are passed by reference and not by copy.</p>\n\n<h3>Inheriting the parent prototype attempt #3</h3>\n\n<pre><code>// Almost there\nvar TempConstructor = function(){};\nTempConstructor.prototype = ParentConstructor.prototype;\nChildConstructor.prototype = new TempConstructor();\n</code></pre>\n\n<p>This allows you to assign properties to <code>ChildConstructor.prototype</code> because it is an instance of a temporary anonymous function.\nProperties that are not found on the instance of <code>TempConstructor</code> will then check it's prototype chain for the property, so you have successfully inherited the parent prototype.  The only problem is that <code>ChildConstructor.prototype.constructor</code> is now pointing to <code>TempConstructor</code>.</p>\n\n<h3>Inheriting the parent prototype attempt #4</h3>\n\n<pre><code>// Good\nvar TempConstructor = function(){};\nTempConstructor.prototype = ParentConstructor.prototype;\nChildConstructor.prototype = new TempConstructor();\nChildConstructor.prototype.constructor = ChildConstructor;\n</code></pre>\n\n<h3>All Together</h3>\n\n<pre><code>var ParentConstructor = function(){\n};\n\n\nvar ChildConstructor = function(){\n    ParentConstructor.call(this)\n};\n\nvar TempConstructor = function(){};\nTempConstructor.prototype = ParentConstructor.prototype;\nChildConstructor.prototype = new TempConstructor();\nChildConstructor.prototype.constructor = ChildConstructor;\n</code></pre>\n\n<p>You've successfully inherited from the parent class!  Let's see if we can do better.</p>\n\n<h3>The inherits function</h3>\n\n<pre><code>function inherits(childConstructor, parentConstructor){\n    var TempConstructor = function(){};\n    TempConstructor.prototype = parentConstructor.prototype; // Inherit parent prototype chain\n\n    childConstructor.prototype = new TempConstructor(); // Create buffer object to prevent assignments directly to parent prototype reference.\n    childConstructor.prototype.constructor = childConstructor; // Reset the constructor property back the the child constructor (currently set to TempConstructor )\n};\n\n\nvar ParentConstructor = function(){\n};\n\n\nvar ChildConstructor = function(){\n    ParentConstructor.call(this)\n};\ninherits(ChildConstructor, ParentConstructor);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 20
                }
            ],
            "body": "<p>I'm creating two objects (Inherits), both inherit from Base.\nThe second object's property assignment overrides the value in the first object.</p>\n\n<p>Any thoughts? How to make a proper inheritance so that Base class will contain common members for its inheritance descendants, but the descendants could assign values of their own without interfering each other.</p>\n\n<pre><code>var testParams1 = { title: \"john\" };\nvar testParams2 = { title: \"mike\" };\n\nFunction.prototype.inheritsFrom = function (baseClass)\n{\n    this.prototype = new baseClass;\n    this.prototype.constructor = this;\n    this.prototype.base = baseClass.prototype;\n    return this;\n};\n\nfunction Base() {\n    this.viewModel = {};\n    this.viewModel.title = (function ()\n    {\n        var savedVal = \"\";\n        return function (newVal)\n        {\n            if (typeof (newVal) === \"undefined\")\n            {\n                return savedVal;\n            }\n            savedVal = newVal;\n        };\n    })();\n}\nfunction Inherits(params) {\n    this.viewModel.title(params.title);\n}\n\nInherits.inheritsFrom(Base);\n\n///// preparing code:\nvar testObj1 = new Inherits(testParams1);\nvar testObj2 = new Inherits(testParams2);\n\n///// testing code:\nequals(testObj1.viewModel.title(), testParams1.title, \"first instance ok\"); // returns \"john\"\nequals(testObj2.viewModel.title(), testParams2.title, \"second instance ok\");  // also returns \"john\"\n</code></pre>\n",
            "last_activity_date": 1414509558,
            "question_id": 14564155,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "Javascript prototypal inheritance - descendants override each other"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>It doesn't seem like there is a lot of need for a piece of middleware, the platform already takes care of most of the boring stuff, it won't really get easier by using further abstractions.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I have spent a lot of time evaluating different options. <a href=\"http://craftyjs.com/\">Crafty</a> is my favorite and the one I'm using for my current project. <a href=\"http://www.limejs.com/\">LimeJS</a> is pretty good but it relies on the <a href=\"http://code.google.com/closure/\">Closure</a> framework, which I'm not a fan of. I also liked both <a href=\"http://easeljs.com/\">EaselJS</a> and <a href=\"http://code.google.com/p/casualjs/\">CasualJS</a> a lot.</p>\n\n<p>btw one of the most \"professional\" options is <a href=\"http://impactjs.com/\">Impact</a>, so you should take a look at that one too. However it doesn't provide many of the features that the various open-source libraries do, and the features Impact provides that the other libraries don't aren't really that valuable. For example, if you need a physics engine for your game (and a platform game probably does) then you can easily integrate <a href=\"http://box2d-js.sourceforge.net/\">Box2D</a> on your own. <a href=\"http://box2d-js.sourceforge.net/index2.html\">another Box2D link</a></p>\n\n<p>That said, doing things from scratch without using a 3rd-party library is not a bad option. The free ebook <a href=\"http://diveintohtml5.info/canvas.html\">Dive Into HTML5</a> does a great job of explaining how the Canvas element works. The thing is, there are a lot of graphics features that a good graphics library will provide that aren't built-in: a display heirarchy allowing Z-order and attaching objects to each other, animation through both tweening objects and spritesheets, mouse events so that you can click on objects, etc..</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong> It's been over a year since I posted that answer and the situation has changed slightly (this <em>is</em> a nascent area of technology.) Although Crafty is still a great choice, in the past year EaselJS has picked up a lot of momentum (especially considering <a href=\"http://www.adobe.com/devnet/createjs.html\">Adobe hopped on the EaselJS train</a>.) I'm gonna switch to that tool for future projects (also note that it has a <a href=\"http://www.createjs.com/#!/EaselJS\">new website</a>)</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>I had some experience with <a href=\"http://gamequery.onaluf.org/\" rel=\"nofollow\">gameQuery</a> and made a side scrolling jump and avoid <a href=\"http://www.thehappyegg.co.uk/free-ranger.html\" rel=\"nofollow\">game</a> for a company in the UK. I learnt a lot and had great fun doing it. The gameQuery engine provides basic sprite sheet animation (you are limited in sprite sheet layout), layers, a game loop and some basic collision detection (bounding box only). It targets the DOM and ties you into it heavily which may not be what you want. I gather other libraries allow you to switch implementation? </p>\n\n<p>I agree with jhocking in that you should leverage as much pre-written stuff as you can. LimeJS comes with a javascipt implementation of Box2d, the engine that was used to make Angry Birds. I can't really comment on Google Closure but if its good enough for Google its good enough for me. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You might want to check out CopperCube.  It's an IDE for 3D HTML5 and Flash development.  Commercial, but not too expensive.  Focused on 3D, so makes heavy use of WebGL<br>\n<a href=\"http://www.ambiera.com/coppercube\" rel=\"nofollow\">CopperCube - a 3D editor for WebGL and Flash, Mac OS X, Windows and mobile apps</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Can anybody please guide me with the best engine for game development in HTML5?</p>\n\n<p>It is simple jumping and surface detection game. The theme is like jumping and go above the tree tops.</p>\n\n<p>What you suggest in this case?</p>\n\n<p>I am targeting Android and iOS devices for the game. In order to save memory, should I write my custom JavaScript or go for a library? Which library do you suggest?</p>\n",
            "last_activity_date": 1406028561,
            "question_id": 7376727,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "box2d",
                "box2d-iphone"
            ],
            "title": "HTML 5 game development tools"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>What exactly seems hacky about it? Seems like a perfectly valid way of doing something.</p>\n\n<p>I guess an alternative would be <a href=\"http://docs.djangoproject.com/en/dev/topics/serialization/\" rel=\"nofollow\">serialising</a> to json and sending it back to a javascript <a href=\"http://plugins.jquery.com/project/tempest\" rel=\"nofollow\">templating</a> snippet. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><em>No matter what</em>, you're going to need at least two things:</p>\n\n<ol>\n<li><p>Your javascript code to make the call (you have this)</p></li>\n<li><p>Server side code to handle the request (this is your view and url-config)</p></li>\n</ol>\n\n<p>There is absolutely nothing \"hacky\" about this.</p>\n\n<p>The third thing, your template file, is optional - but is generally good practice. You want to separate your markup from the code, for many reasons.</p>\n\n<p>So I think you've got the right idea. Carry on.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It kinda depends what you want to do I think. Ajax being quite a wide range of scenarios from Google Maps to a simple auto-complete varys greatly in complexity and the best approach.</p>\n\n<p>However, there are some useful things you can do that help.</p>\n\n<p>1) Template level</p>\n\n<p>Make sure you have \"django.core.context_processors.request\" in your TEMPLATE_CONTEXT_PROCESSORS setting. Then you can do this;</p>\n\n<pre><code>{% if not request.is_ajax %}\n&lt;html&gt;\n  &lt;head&gt;\n  ...\n  &lt;/head&gt;\n  &lt;body&gt;\n  ...\n{% endif %}\nactual content\n{% if not request.is_ajax %}\n&lt;/body&gt;\n&lt;/html&gt;\n{% endif %}\n</code></pre>\n\n<p>Basically then say this page is /test/ you can do a browser request and get the full content or a request via JavaScript and just get the content. There is a blogpost somewhere that explains this in more detail but I can't find it at the moment.</p>\n\n<p>2) In the view</p>\n\n<p>In the template we are just accessing the request object in the template. In the view you can do very similar things.</p>\n\n<pre><code>def my_view(request):\n    if requst.is_ajax():\n        # handle for Ajax requests\n\n    # otherwise handle 'normal' requests\n    return HttpResponse('Hello world')\n</code></pre>\n\n<p>The above methods don't really do it differently than you do but allow you to re-use views and write it bit more concisely. I wouldn't really say what you are doing is wrong or hacky but you could write it to make it more concise and re-use the templates and views.</p>\n\n<p>say for example you could have just one template and if its a Ajax request have it only return the section that will need to be updated. In your case it would be the tables views.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I am quite late, but I want to document how to combine and adapt the solutions presented by <a href=\"http://stackoverflow.com/questions/1491618/a-better-way-to-do-ajax-in-django/1491693#1491693\">d0ugal</a>\nin a way, that it will resolve a much cleaner template-code.</p>\n\n<p>I have a model representing contact persons. </p>\n\n<p>The (generic) view to get one ContactPerson looks like this:</p>\n\n<pre><code>def contcactperson_detail_view(request, name):\n    try:\n        person = ContactPerson.objects.get(slug=name)\n    except:\n       raise Http404\n    if request.is_ajax():\n        return contcactperson_detail_view_ajax(request, person)\n    return list_detail.object_detail(\n            request,\n            queryset = ContactPerson.objects.all(),\n            object_id = person.id,\n            template_object_name = \"contactperson\",\n        )\n\n@render_to('cms/contactperson_detail_ajax.html')    \ndef  contcactperson_detail_view_ajax(request, person):\n    return {'contactperson':person, 'is_ajax':True}\n</code></pre>\n\n<p>The template to render the view that handles one ContactPerson is called <code>contcactperson_detail_view.html</code>:</p>\n\n<pre><code>{% extends \"index.html\" %}\n{% block textpane %}\n\n&lt;h1 id=\"mainheader\"&gt;{{ contactperson.first_name }} {{ contactperson.family_name  }} &lt;/h1&gt;\n&lt;div class=\"indentation\"&gt;&amp;nbsp;&lt;/div&gt; \n{% include 'cms/contactperson_detail_photo.html' %}                                                                                                          \n&lt;div id=\"text_pane\"&gt;\n\n{% include 'cms/contactperson_detail_textpane.html' %}\n&lt;/div&gt;\n{% endblock %}\n</code></pre>\n\n<p>It includes two sub-templates</p>\n\n<pre><code>contactperson_detail_textpane.html\n\n\n&lt;p&gt;{{ contactperson.description }}&lt;/p&gt;\n&lt;ul&gt;\n    &lt;li&gt;\n        &lt;dl&gt;\n            &lt;dt&gt;Email&lt;/dt&gt;\n            &lt;dd&gt;\n                {{ contactperson.mail }}\n            &lt;/dd&gt;\n        &lt;/dl&gt;\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;dl&gt;\n            &lt;dt&gt;Contact Person for&lt;/dt&gt;\n            &lt;dd&gt;\n                &lt;ul&gt;\n                {% for c in contactperson.categories.all %}\n                    &lt;li&gt;&lt;a href=\"{% url category-view c.slug %}\"&gt;{{ c }}&lt;/a&gt;&lt;/li&gt;\n                {% endfor %}\n                &lt;/ul&gt;\n            &lt;/dd&gt;\n        &lt;/dl&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>and <code>contactperson_detail_photo.html</code></p>\n\n<pre><code>{% with contactperson.photo.detailphoto as pic %} \n    {% with pic.url as pic_url %}    \n    &lt;div {% if not is_ajax %}id='imageContainer'{% endif %} style=\"float: right;padding-right:0.5em; \n                                    padding-bottom: 1em; padding-left:0.5em;clear:both; \n                                    width:{{ pic.width }}px\"&gt;   \n        &lt;div style=\"width:{{ pic.width}}px\"&gt;                       \n                &lt;img style=\"clear:both\" src=\"{{ pic_url }}\" alt=\"{{ i.name }}\"/&gt; \n        &lt;/div&gt;                                                                                                                    \n    &lt;/div&gt;   \n    {% endwith %}\n{% endwith %}\n</code></pre>\n\n<p>this 3 templates will be used, if the request isn't ajax.</p>\n\n<p>But if the request is ajax, <code>contcactperson_detail_view</code> will return the view <code>contcactperson_detail_view_ajax</code>, that uses the template <code>contactperson_detail_ajax.html</code> for rendering. And this template looks like this:</p>\n\n<pre><code>&lt;h1&gt;{{ contactperson.first_name }} {{ contactperson.family_name  }}&lt;/h1&gt;\n{% include 'cms/contactperson_detail_photo.html' %}                                                                                                          \n{% include 'cms/contactperson_detail_textpane.html' %}\n</code></pre>\n\n<p>So it uses the same sub-templates but isn't extending anything, therefore only the needed markup delivered. As the ajax view passes <code>is_ajax = True</code> to the template, it can be used to adjust minor things, like setting correct id-attributes.</p>\n\n<p>No context-processor or additional url-conf needed.</p>\n\n<p>Finally the Javascript code:</p>\n\n<pre><code>$(\"#contact_person_portlet a\").click(function(event){\n       event.preventDefault();\n       $.ajax({\n           type: \"GET\",\n           url: event.target.getAttribute('href'),\n           success: function(msg){\n               overlay(msg);\n           }\n        });\n    });\n</code></pre>\n\n<p>Hope that it will be useful for some people. If so, please leave a comment!</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>The other day I wrote some AJAX for a Django app that i have been working on.</p>\n\n<p>I come from Ruby on Rails, so I haven't done much in the way of raw JS.</p>\n\n<p>So based on Rails' partials, I something similar to the following in a sort of pseudocode, don't sweat the details:</p>\n\n<p>1) JS function using prototype's Ajax.Updater ('tablediv' being the id of the table i wanted to update Ajaxily, and url pointing to the proper django view)</p>\n\n<pre><code> function updateTable(){\n       new Ajax.Updater('tablediv',url {params: params....etc\n</code></pre>\n\n<p>2) django view that got new data to populate the table with:</p>\n\n<pre><code> def ajaxTable\n     objects = Objects.object.all...\n     return render_to_response('ajaxtable.html',objects)\n</code></pre>\n\n<p>3) ajaxtable.html was just a sort of Rails \"partial\" so basically a table w/o <code>&lt;table&gt;</code> <code>&lt;/table&gt;</code> ...:</p>\n\n<pre><code>   &lt;th&gt;{{object.data}}&lt;/th&gt;\n   &lt;td&gt;{{object.moredata}}&lt;/td&gt;\n</code></pre>\n\n<p>so to my actual question:</p>\n\n<p>This seemed hacky to me, I sort of threw it together after getting tired of searching online for what i wanted.</p>\n\n<p>Is this the way it's done? It works fine, I just don't know enough to know, you know?</p>\n",
            "last_activity_date": 1258148704,
            "question_id": 1491618,
            "score": 5,
            "tags": [
                "javascript",
                "python",
                "ajax",
                "django"
            ],
            "title": "a better way to do ajax in django"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I propose you to use some small loader which will chain and do stuff for you. For example like this one:</p>\n\n<pre><code>function loadScripts(array,callback){\n    var loader = function(src,handler){\n        var script = document.createElement(\"script\");\n        script.src = src;\n        script.onload = script.onreadystatechange = function(){\n        script.onreadystatechange = script.onload = null;\n        \thandler();\n        }\n        var head = document.getElementsByTagName(\"head\")[0];\n        (head || document.body).appendChild( script );\n    };\n    (function(){\n        if(array.length!=0){\n        \tloader(array.shift(),arguments.callee);\n        }else{\n        \tcallback &amp;&amp; callback();\n        }\n    })();\n}\n</code></pre>\n\n<p>This script should help you to build the script tags and call your callback when all files are loaded. Invoke is pretty easy:</p>\n\n<pre><code>loadScripts([\n   \"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\",\n   \"http://ajax.googleapis.com/ajax/libs/prototype/1.6.1.0/prototype.js\"\n],function(){\n    alert('All things are loaded');\n});\n</code></pre>\n\n<p>Hope this will help</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>Since scriptaculous requires prototype, you will have to chain the listeners, with whatever method you use to load these scripts.</p>\n\n<p>There are various script loaders available to load scripts in parallel, as fast as possible, e.g. <a href=\"http://labjs.com\" rel=\"nofollow\">LABjs</a>, but none is going to help much in this scenario.</p>\n\n<p>If you end up having 10-20 scripts to load, I would recommend combining the scripts beforehand, using a tool such as a <a href=\"http://github.com/nzakas/combiner\" rel=\"nofollow\">Combiner</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Because of a bug in Internet Explorer the recursive loader program from nemisj is not working correct in IE. Can be solved by setting a delay on the recursive call like:</p>\n\n<pre><code>\nfunction loadScripts(array,callback){  \n    var loader = function(src,handler){  \n        var script = document.createElement(\"script\");  \n        script.src = src;  \n        script.onload = script.onreadystatechange = function(){  \n          script.onreadystatechange = script.onload = null;  \n          <b>if(/MSIE ([6-9]+\\.\\d+);/.test(navigator.userAgent))window.setTimeout(function(){handler();},8,this);  \n          else handler();  </b>\n        }  \n        var head = document.getElementsByTagName(\"head\")[0];  \n        (head || document.body).appendChild( script );  \n    };  \n    (function(){  \n        if(array.length!=0){  \n                loader(array.shift(),arguments.callee);  \n        }else{  \n                callback && callback();  \n        }  \n    })();  \n}  \n</code></pre>\n\n<p>This small hack does it, and often is the solution in IE, when an unexplainable problem occurs, which is too often.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I need to add prototype and then add scriptaculous and get a callback when they are both done loading. I am currently loading prototype like so:</p>\n\n<pre><code>var script = document.createElement(\"script\");\nscript.src = \"http://ajax.googleapis.com/ajax/libs/prototype/1.6.1.0/prototype.js\";\nscript.onload = script.onreadystatechange = callback;\ndocument.body.appendChild( script );\n</code></pre>\n\n<p>I could do this by chaining the callbacks, but that seems like poor practice ( I don't want a silly chain of 20 callback methods when I need to load more scripts). Ideas?</p>\n",
            "last_activity_date": 1325024605,
            "question_id": 1866717,
            "score": 4,
            "tags": [
                "javascript",
                "dom",
                "prototypejs",
                "scriptaculous"
            ],
            "title": "document.createElement(&#39;script&#39;)... adding two scripts with one callback"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>If you have a div with a picture inside, like this:</p>\n\n<pre><code>&lt;div style=\"width: 1000px\"&gt;\n&lt;img src=\"truck.png\" id=\"truck\" style=\"margin-left: -100px\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is an jQuery example to slide the picture over the div/screen:</p>\n\n<pre><code>function moveTruck(){\n    $('#truck').animate(\n        {'margin-left': '1000px'}, \n        3000, // Animation-duration\n        function(){\n            $('#truck').css('margin-left','-100px');\n            moveTruck();\n        });\n    }\n\nmoveTruck();\n</code></pre>\n\n<p>Hope that works out...</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong><a href=\"http://jsfiddle.net/PPVda/\" rel=\"nofollow\">Here's an example of the following code.</a></strong></p>\n\n<p>This is relatively simple with jQuery using the <code>position:absolute</code> CSS property and the <code>.animation()</code><sup><a href=\"http://api.jquery.com/animate/\" rel=\"nofollow\">[DOCS]</a></sup> method callback.  You will basically be animating the <code>left</code> CSS property over a period of time within a named function, then call that function in the animation callback when the animation is complete, like so:</p>\n\n<pre><code>var animateTruck = function () {\n\n    $('#truck').css('left','-50px')\n               .animate({'left':$(window).width()},\n                        4000,\n                        'linear',\n                        function(){\n                            animateTruck();\n                        });\n};\n\nanimateTruck();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here's a JSFiddle sample <a href=\"http://www.jsfiddle.net/XpAjZ/\">http://www.jsfiddle.net/XpAjZ/</a></p>\n\n<p>More on jQuery animate: <a href=\"http://api.jquery.com/animate/\">http://api.jquery.com/animate/</a></p>\n\n<p>Demonstration shows 2 boxes animated across the screen at different speeds etc.  (See fiddle)</p>\n\n<p>Relevant jQuery Code: </p>\n\n<pre><code>var animateMe = function(targetElement, speed){\n\n    $(targetElement).css({left:'-200px'});\n    $(targetElement).animate(\n        {\n        'left': $(document).width() + 200\n        },\n        {\n        duration: speed,\n        complete: function(){\n            animateMe(this, speed);\n            }\n        }\n    );\n\n};\nanimateMe($('#object1'), 5000);\nanimateMe($('#object2'), 3000);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>How could you do this, yet have the content box slowly move back and forth across the width of the screen (not going through the screen and starting back at the other side)?</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p><a href=\"http://templates.joomlart.com/ja_events/\" rel=\"nofollow\">continuous movement</a></p>\n\n<p>I would like to recreate the truck moments in the above site , It is done in mootools. How would I code this, is there a jQuery plugin to do this?</p>\n\n<p>So animate an object from beginning to end of screen and then it starts over again. How would I do this jQuery</p>\n\n<p>Any help will e appreciated</p>\n",
            "last_activity_date": 1410987672,
            "question_id": 4822524,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "jquery-animate"
            ],
            "title": "continuous movement animation with jquery"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><code>.size()</code> is <strong>not</strong> a native JS function of <code>Array</code> (at least not in any browser that I know of).</p>\n\n<p><code>.length</code> <strong>should</strong> be used.</p>\n\n<hr>\n\n<h1>If</h1>\n\n<p><code>.size()</code> <strong><em>does</em></strong> work on your page, make sure you do not have any extra libraries included like <a href=\"http://prototypejs.org/doc/latest/language/Array/prototype/size/\">prototype</a> that is mucking with the <code>Array</code> prototype. </p>\n\n<h2>or</h2>\n\n<p>There might be some plugin on your browser that is mucking with the <code>Array</code> prototype.</p>\n",
                    "is_accepted": false,
                    "score": 55
                },
                {
                    "body": "<h2>Array.size() is not a valid method</h2>\n\n<p><strong>Always use the length property</strong></p>\n\n<p>There is a library or script adding the size method to the array prototype since this is not a native array method. This is commonly done to add support for a custom getter. An example of using this would be when you want to get the size in memory of an array (which is the only thing I can think of that would be useful for this name).</p>\n\n<p>Underscore.js unfortunately defines a <code>size</code> method which actually returns the length of an object or array. Since unfortunately the length property of a function is defined as the number of named arguments the function declares they had to use an alternative and size was chosen (count would have been a better choice).</p>\n",
                    "is_accepted": true,
                    "score": 90
                },
                {
                    "body": "<p><code>.size()</code> is jQuery's, much probably you're either confusing with or took from someone else who had imported the jQuery library to his project.</p>\n\n<p>If you'd have <a href=\"http://jquery.com/\" rel=\"nofollow\">jQuery</a> imported and you'd write like <code>$(array).size()</code>, it would return the array length.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>What is the difference between the two?</p>\n\n<p>So I know that <code>array.size()</code> is a function while <code>array.length</code> is a property. Is there a usecase for using one over the other? Is one more efficient (I would imagine <code>.length</code> to be significantly faster as it is a property rather then a method call?) Why would one ever use the slower option? Are there some browsers that are incompatible with one or the other?</p>\n\n<pre><code>  var x = [];\n  console.log(x.size());\n  console.log(x.length);\n  console.log(x.size()==x.length);\n  x =[1,2,3];\n  console.log(x.size());\n  console.log(x.length);\n  console.log(x.size()==x.length);\n</code></pre>\n\n<p>Will print:</p>\n\n<pre><code>  0, 0, true\n  3, 3, true\n</code></pre>\n",
            "last_activity_date": 1416390208,
            "question_id": 14202601,
            "score": 69,
            "tags": [
                "javascript",
                "arrays"
            ],
            "title": "Array.size() vs Array.length"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>in the project explorer window (where all the classes are) switch from \"packages\" view to \"project\" view. then all files, not just classes are displayed</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Okay, it appears I need to manually create a Java module (File->New Module) inside the project to actually see the \"proper\" directory view. I do wonder why it didn't show up when I created it with the project.</p>\n\n<p>Thanks for your time guys/gals</p>\n",
                    "is_accepted": true,
                    "score": 67
                },
                {
                    "body": "<p>I've been struggling with this same problem and found another reason why directories may not show up correctly.  Make sure the \"Content Root\" is correct.</p>\n\n<ul>\n<li>Click on the project</li>\n<li>select \"File\"->\"Project \"Structure\"</li>\n<li>select \"modules\" from the left column, and select a module.</li>\n</ul>\n\n<p>on the sources tab you will see the current \"Content Root\" along with a button to add a new content root.</p>\n\n<p>make sure that content root is correct.  When in the project structure view you will only see files below the \"Content Root\".  I'm fairly new to IntelliJ but I think of the content root as the basedir in ant terms.</p>\n\n<p>These instructions are for IntelliJ 9.x</p>\n\n<p>Hope this helps someone.</p>\n",
                    "is_accepted": false,
                    "score": 35
                },
                {
                    "body": "<p>The same problem had me going crazy for a couple of hours as well, coming from Netbeans where I could just start a new project and import any source tree. My project is PHP/JS and has nothing to do with Java, so it was not intuitive to have to create a Java module, just so I could see my files listed.</p>\n\n<p>I found the solution (covered above) <a href=\"http://devnet.jetbrains.net/message/5275178#5275178\" rel=\"nofollow\">here</a> for more insight. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Current more straightforward logic:</p>\n\n<ul>\n<li>remove the .idea/ folder</li>\n<li>select in Idea File -> New project.</li>\n<li>in left menu select Web Module, and then set up project folder</li>\n<li>you're done!</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>Here is how I was able to \"display\" all folders in my project:</p>\n\n<ol>\n<li><p>Somehow get to the Project Settings page (for me it was right-click the project then select Modules)</p></li>\n<li><p>Make sure the Sources tab is selected</p></li>\n<li><p>You should see a section in the middle entitled \"Excluded Folders\" under Source\\Folders\"</p></li>\n<li><p>Click on the X next to it to remove it from being excluded and it becomes visible.</p></li>\n</ol>\n\n<p>Hope it this helps.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I found the solution thanks to <a href=\"http://stackoverflow.com/users/2132461/thurman-sanders\">Thurman Sanders</a> and decided to post a more clear answer, in case it helps anyone else. I know an answer like this would have saved me 5 minutes of fumbling around.</p>\n\n<h2>Problem</h2>\n\n<p>Some folders are excluded, by default. In most cases, this is exactly what you want. Other times, you need to see your \"build\" or \"target\" folder, for example.</p>\n\n<h2>Solution</h2>\n\n<p>Make Intellij stop excluding the folder you want to see</p>\n\n<ol>\n<li>Open the Module Settings\n<ul>\n<li>select the module and press <kbd>F4</kbd></li>\n<li>or right click the module and choose \"open module settings\"</li>\n<li>or press <kbd>cmd</kbd><kbd>;</kbd> to open project settings, then select your module</li>\n</ul></li>\n<li>Follow the steps in the picture, below:\n<ul>\n<li>select the 'sources' tab</li>\n<li>select the folder you want to see</li>\n<li>disable the 'excluded' option</li>\n</ul></li>\n<li>Press OK\n<ul>\n<li>When you're done, the folder will turn orange and finally be visible in the project view!</li>\n</ul></li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/qvNRB.png\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>I think this is happening to you as intellij's Project window has the  'Compact Empty Middle Packages'  option as checked by default. You will find this option under Setting section of the Projects tab. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><code>File -&gt; Invalidate Caches / Restart</code> worked for me.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just use <code>File \u00bb New Project \u00bb Static Web</code>.  All your files and directories will show up.</p>\n\n<p><img src=\"http://i.stack.imgur.com/90voB.png\" alt=\"IntelliJ IDEA New Project dialog\"> </p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I've been trying out IntelliJ IDEA for JavaScript editing and I'm liking it so far, but I'm having a small problem with a new project.</p>\n\n<p>I can't seem to be able to get IDEA to display the directories in the project dir in the Project view. Even if I manually add a directory, it refuses to display it.</p>\n\n<p>I think this probably has something to do with the fact that it tries to apply Java conventions, but when I imported an old Eclipse project, it showed all directories just fine.</p>\n\n<p>Do I have to use Eclipse to create projects and import in IDEA to get the directories visible, or is there some other trick?</p>\n\n<p>IDEA version 8.1.3, the code is just a plain bunch of HTML and JS files not in any kind of a Java environment.</p>\n",
            "last_activity_date": 1415261325,
            "question_id": 1147336,
            "score": 68,
            "tags": [
                "javascript",
                "intellij-idea"
            ],
            "title": "How to get IntelliJ IDEA to display directories?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>document.getElementById(\"mydiv\").offsetWidth\n</code></pre>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en/DOM/element.offsetWidth\">element.offsetWidth (MDC)</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 98
                },
                {
                    "body": "<p>Can can also search the DOM using ClassName. For example: \ndocument.getElementsByClassName(\"myDiv\")</p>\n\n<p>This will return an array.  If there is one in particular you are interested in. For example: \nvar divWidth = document.getElementsByClassName(\"myDiv\")[0].clientWidth;</p>\n\n<p>divWidth will now be equal to the the width of the first element in your div array.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use <code>clientWidth</code> or <code>offsetWidth</code> <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CSS_Object_Model/Determining_the_dimensions_of_elements\" rel=\"nofollow\">Mozilla developer network reference</a></p>\n\n<p>It would be like:</p>\n\n<pre><code>document.getElementById(\"yourDiv\").clientWidth; \n</code></pre>\n\n<p>or </p>\n\n<pre><code>document.getElementById(\"yourDiv\").offsetWidth;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How do you find the current width of a div in a cross browser compatible way?</p>\n\n<p>EDIT: Without using a library like JQuery</p>\n",
            "last_activity_date": 1415034032,
            "question_id": 4787527,
            "score": 65,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "How to find the width of a div"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Use CSS <code>cursor: pointer</code> if I remember correctly.</p>\n\n<p>Either in your CSS file:</p>\n\n<pre><code>.link_cursor\n{\n    cursor: pointer;\n}\n</code></pre>\n\n<p>Then just add the following HTML to any elements you want to have the link cursor: <code>class=\"link_cursor\"</code> (the preferred method.)</p>\n\n<p>Or use inline CSS:</p>\n\n<pre><code>&lt;a style=\"cursor: pointer;\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<blockquote>\n  <p>style=\"cursor: pointer;\"</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just add this to your global CSS style:</p>\n\n<pre><code>a { cursor: pointer; }\n</code></pre>\n\n<p>This way you're not dependent on the browser default cursor style anymore.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>in your css file add this....</p>\n\n<pre><code>a:hover {\n cursor:pointer;\n}\n</code></pre>\n\n<p>if you don't have a css file, add this to the HEAD of your HTML page</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n a:hover {\n  cursor:pointer;\n }\n&lt;/style&gt;\n</code></pre>\n\n<p>also you can use the href=\"\" attribute by returning false at the end of your javascript.</p>\n\n<pre><code>&lt;a href=\"\" onclick=\"doSomething(); return false;\"&gt;a link&lt;/a&gt;\n</code></pre>\n\n<p>this is good for many reasons. SEO or if people don't have javascript, the href=\"\" will work. e.g.</p>\n\n<pre><code>&lt;a href=\"nojavascriptpage.html\" onclick=\"doSomething(); return false;\"&gt;a link&lt;/a&gt;\n</code></pre>\n\n<p>@see <a href=\"http://www.alistapart.com/articles/behavioralseparation\">http://www.alistapart.com/articles/behavioralseparation</a></p>\n\n<p><em>Edit: Worth noting @BalusC's <a href=\"http://stackoverflow.com/a/2409858/179015\">answer</a> where he mentions <code>:hover</code> is not necessary for the OP's use case. Although other style can be add with the <code>:hover</code> selector.</em></p>\n",
                    "is_accepted": true,
                    "score": 64
                },
                {
                    "body": "<p>Give them all a common class (for instance link). Then add in css-file:</p>\n\n<pre><code>.link { cursor: pointer; }\n</code></pre>\n\n<p>Or as @mxmissile suggested, do it inline with style=\"cursor: pointer;\"</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>create a class with the following CSS and add it to your tags with onclick events:</p>\n\n<pre><code>cursor:pointer;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is how change the cursor from an arrow to a hand when you hover over a given <code>object</code> (myObject).</p>\n\n<pre><code>myObject.style.cursor = 'pointer';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a lot of <code>&lt;a&gt;</code> html tags without the <code>href</code> attribute for making <code>onclick</code> javascript calls. These links do not have a pointer style of cursor. They have text style cursor.</p>\n\n<p>How can I set the cursor style to pointer for links without using the <code>href</code> attribute?</p>\n\n<p>I know I can add href=\"#\". I have this in a lot of places in the html document, and would like to know how to make cursor style pointer for links without using the <code>href</code> attribute.</p>\n",
            "last_activity_date": 1394735961,
            "question_id": 2409836,
            "score": 40,
            "tags": [
                "javascript",
                "html",
                "css",
                "hyperlink",
                "cursor"
            ],
            "title": "how to set cursor style to pointer for links without hrefs"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>$.delay is used to delay animations in a queue, not halt execution.</p>\n\n<p>Instead of using a while loop, you need to recursively call a method that performs the check every second using <code>setTimeout</code>:</p>\n\n<pre><code>var check = function(){\n    if(condition){\n        // run when condition is met\n    }\n    else {\n        setTimeout(check, 1000); // check again in a second\n    }\n}\n\ncheck();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 70
                },
                {
                    "body": "<p>JavaScript <code>setTimeout</code> is a very good solution:</p>\n\n<pre><code>function funcx()\n   {\n   // your code here\n   // break out here if needed\n   setTimeout(funcx, 3000);\n   }\n\nfuncx();\n</code></pre>\n\n<p>The <code>delay</code> function in jQuery is mostly used for delaying animations in a jQuery animation queue.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p><code>delay()</code> doesn't halt the flow of code then re-run it. There's no practical way to do that in JavaScript. Everything has to be done with functions which take callbacks such as <code>setTimeout</code> which others have mentioned.</p>\n\n<p>The purpose of jQuery's <code>delay()</code> is to make an animation queue wait before executing. So for example <code>$(element).delay(3000).fadeIn(250);</code> will make the element fade in after 3 seconds.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>jQuery's <code>delay</code> function is meant to be used with effects and effect queues, see the <a href=\"http://api.jquery.com/delay/\" rel=\"nofollow\"><code>delay</code> docs</a> and the example therein:</p>\n\n<pre><code>$('#foo').slideUp(300).delay(800).fadeIn(400);\n</code></pre>\n\n<p>If you want to observe a variable for changes, you could do something like</p>\n\n<pre><code>(function() {\n    var oberverInterval = setInterval(function() {\n        if (/* check for changes here */) {\n           clearInterval(observerInterval);\n           // do something here\n        }\n    }\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Javascript is an asynchronous programming language so you can't stop the execution for a of time; the only way you can [pseudo]stop an execution is using setTimeout() that is not a delay but a \"delayed function callback\".</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can also just delay some operation this way:</p>\n\n<pre><code>setTimeout(function (){\n\n  // Something you want delayed.\n\n}, 5000); // How long do you want the delay to be (in milliseconds)? \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 86
                }
            ],
            "body": "<p>I can't get the <code>.delay</code> method working in jQuery:</p>\n\n<pre><code>$.delay(3000); // not working\n$(queue).delay(3000); // not working\n</code></pre>\n\n<p>I'm using a while loop to wait until an uncontrolled changing value is greater than or equal to another and I can't find any way to hault execution for X seconds.</p>\n",
            "last_activity_date": 1420843837,
            "question_id": 8896327,
            "score": 39,
            "tags": [
                "javascript",
                "jquery",
                "delay",
                "wait",
                "seconds"
            ],
            "title": "jQuery: Wait/Delay 1 second without executing code"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Make sure you declare the variable on \"root\" level, outside any code blocks.</p>\n\n<p>You could also remove the <code>var</code> altogether, although that is <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Variables\"><strong>not recommended</strong></a> and will throw a \"strict\" warning.</p>\n\n<p>According to the <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Variables#Variable_Scope\"><strong>documentation at MDC</strong></a>, you can set global variables using <code>window.variablename</code>.</p>\n",
                    "is_accepted": false,
                    "score": 27
                },
                {
                    "body": "<p>My guess is that the <code>system-status</code> element is declared after the variable declaration is run. Thus, at the time the variable is declared, it is actually being set to null?</p>\n\n<p>You should declare it only, then assign its value from an <code>onLoad</code> handler instead, because then you will be sure that it has properly initialized (loaded) the element in question.</p>\n\n<p><em>You could also try putting the script at the bottom of the page (or at least somewhere after the <code>system-status</code> element is declared) but it's not guaranteed to always work.</em></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Declare systemStatus in an outer scope and assign it in an onload handler.</p>\n\n<pre><code>systemStatus = null;\n\nfunction onloadHandler(evt) {\n    systemStatus = document.getElementById(\"....\");\n}\n</code></pre>\n\n<p>Or if you don't want the onload handler, put your script tag at the bottom of your HTML.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>It really depends on where your JavaScript code is located.</p>\n\n<p>The problem is probably caused by the DOM not being loaded when the line</p>\n\n<pre><code>var systemStatus = document.getElementById(\"system-status\");\n</code></pre>\n\n<p>is executed. You could try calling this in an onload event, or ideally use a DOM ready type event from a JavaScript framework.</p>\n",
                    "is_accepted": false,
                    "score": 37
                },
                {
                    "body": "<p>A global variable would be best expressed in an external JavaScript file:</p>\n\n<pre><code>var system_status;\n</code></pre>\n\n<p>Make sure that this has not been used anywhere else. Then to access the variable on your page, just reference it as such. Say, for example, you wanted to fill in the results on a textbox,</p>\n\n<pre><code>document.getElementById(\"textbox1\").value = system_status;\n</code></pre>\n\n<p>To ensure that the object exists, use the document ready feature of jQuery.</p>\n\n<p>Example:</p>\n\n<pre><code>$(function() {\n    $(\"#textbox1\")[0].value = system_status;\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>To define a global variable which is based off a DOM element a few things must be checked. First, if the code is in the <code>&lt;head&gt;</code> section, then the DOM will not loaded on execution. In this case, an event handler must be placed in order to set the variable after the DOM has been loaded, like this:</p>\n\n<pre><code>var systemStatus;\nwindow.onload = function(){ systemStatus = document.getElementById(\"system_status\"); };\n</code></pre>\n\n<p>However, if this script is inline in the page as the DOM loads, then it can be done as long as the DOM element in question has loaded above where the script is located. This is because javascript executes synchronously. This would be valid:</p>\n\n<pre><code>&lt;div id=\"system_status\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n var systemStatus = document.getElementById(\"system_status\");\n&lt;/script&gt;\n</code></pre>\n\n<p>As a result of the latter example, most pages which run scripts in the body save them until the very end of the document. This will allow the page to load, and then the javascript to execute which in most cases causes a visually faster rendering of the DOM.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting\" rel=\"nofollow\">This article</a> is the answer to such problems! ;) Read it carefully!</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>When I use code like this, it works fine:</p>\n\n<pre><code>function removeWarning() {\n    var systemStatus = document.getElementById(\"system-status\");\n    systemStatus.innerHTML = \"\";\n}\n\nfunction indicateInvalidUsername() {\n    var systemStatus = document.getElementById(\"system-status\");\n    systemStatus.innerHTML = \"Invalid username\";\n}\n</code></pre>\n\n<p>However, when I then want to move the <code>systemStatus</code> to be a global variable, it doesn't work:</p>\n\n<pre><code>var systemStatus = document.getElementById(\"system-status\");\n\nfunction removeWarning() {\n    systemStatus.innerHTML = \"\";\n}\n\nfunction indicateInvalidUsername() {\n    systemStatus.innerHTML = \"Invalid username\";\n}\n</code></pre>\n\n<p>What am I supposed to be doing here?</p>\n",
            "last_activity_date": 1396742495,
            "question_id": 2291252,
            "score": 38,
            "tags": [
                "javascript",
                "global-variables"
            ],
            "title": "Variable not accessible when initialized outside function"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>From <a href=\"http://ecma-international.org/ecma-262/5.1/#sec-15.9.1.1\">the spec, &sect;15.9.1.1</a>:</p>\n\n<blockquote>\n  <p>A Date object contains a Number indicating a particular instant in time to within a millisecond. Such a Number is called a time value. A time value may also be NaN, indicating that the Date object does not represent a specific instant of time.</p>\n  \n  <p>Time is measured in ECMAScript in milliseconds since 01 January, 1970 UTC. In time values leap seconds are ignored. It is assumed that there are exactly 86,400,000 milliseconds per day. ECMAScript Number values can represent all integers from \u20139,007,199,254,740,992 to 9,007,199,254,740,992; this range suffices to measure times to millisecond precision for any instant that is within approximately 285,616 years, either forward or backward, from 01 January, 1970 UTC.</p>\n  \n  <p>The actual range of times supported by ECMAScript Date objects is slightly smaller: exactly \u2013100,000,000 days to 100,000,000 days measured relative to midnight at the beginning of 01 January, 1970 UTC. This gives a range of 8,640,000,000,000,000 milliseconds to either side of 01 January, 1970 UTC.</p>\n  \n  <p>The exact moment of midnight at the beginning of 01 January, 1970 UTC is represented by the value +0.</p>\n</blockquote>\n\n<p>The third paragraph being the most relevant. Based on that paragraph, we can get the precise earliest date per spec from <code>new Date(-8640000000000000)</code>, which is Tuesday, April 20th, 271,821 BCE.</p>\n",
                    "is_accepted": true,
                    "score": 54
                }
            ],
            "body": "<p>I was wondering which is the minimum and the maximum date allowed for a Javascript <code>Date</code> object. I found that the minimum date is something like 200000 b.C., but I couldn't get any reference about it.</p>\n\n<p>Does anyone know the answer? I just hope that it doesn't depend on the browser.</p>\n\n<p>An answer in \"epoch time\" (= milliseconds from 1970-01-01 00:00:00 UTC+00) would be the best.</p>\n",
            "last_activity_date": 1342555870,
            "question_id": 11526504,
            "score": 35,
            "tags": [
                "javascript"
            ],
            "title": "Minimum and maximum date"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The following are all equivalent in functionality (though not speed):</p>\n\n<ul>\n<li><code>var a0 = $($('.answer')[0]);</code></li>\n<li><code>var a0 = $('.answer').first();</code> - see <a href=\"http://api.jquery.com/first/\">http://api.jquery.com/first/</a></li>\n<li><code>var a0 = $('.answer:first');</code> - see <a href=\"http://api.jquery.com/first-selector/\">http://api.jquery.com/first-selector/</a></li>\n<li><code>var a0 = $('.answer').eq(0);</code> - see <a href=\"http://api.jquery.com/eq/\">http://api.jquery.com/eq/</a></li>\n<li><code>var a0 = $('.answer:eq(0)');</code> - see <a href=\"http://api.jquery.com/eq-selector/\">http://api.jquery.com/eq-selector/</a></li>\n</ul>\n\n<p><strong>Which is the best?</strong><br>\nIt <a href=\"http://stackoverflow.com/questions/4262928/jquery-what-is-faster-selectors-or-methods/4262951#4262951\">has been hypothesized</a> that the selector versions <em>should</em> be faster than the method versions (and the logic makes some sense) but I have not yet found a reliable cross-browser, multi-document benchmark that proves this to be true.</p>\n\n<p><em>And in some cases you cannot use the selector, as you have a jQuery object resulting from chained results and must later pare it down.</em></p>\n\n<p><strong>Edit</strong>: Based on the excellent information from @yc's tests below, following are the current (2011-Feb-4) test results summarized and compared against a baseline of <code>.answer:first</code>:</p>\n\n<pre>\n          :first  :eq(0)  .first()  .eq(0)  $($('...')[0])\nChrome 8+   100%     92%      224%    266%       367%\n   FF 3.6   100%    100%      277%    270%       309%\n  FF 4.0b   100%    103%      537%    521%       643%\n Safari 5   100%     93%      349%    352%       467%\n Opera 11   100%    103%      373%    374%       465%\n     IE 8   100%    101%     1130%   1246%      1767%\n iPhone 4   100%     95%      269%    316%       403%\n=====================================================\n Weighted   100%     92%      286%    295%       405%\n    Major   100%     95%      258%    280%       366%\n</pre>\n\n<ul>\n<li>The <strong>Weighted</strong> line shows the performance weighted by the number of tests per browser; popular browsers (among those testing) are counted more strongly.</li>\n<li>The <strong>Major</strong> line shows the same, only including non-beta releases of the major desktop browsers.</li>\n</ul>\n\n<p>In summary: the hypothesis is (currently) wrong. The methods are significantly faster than the Sizzle selectors, and with almost no exception the OP's code <code>$($('.answer')[0])</code> is the fastest of them all!</p>\n",
                    "is_accepted": true,
                    "score": 55
                },
                {
                    "body": "<p>Use the <a href=\"http://api.jquery.com/first-selector/\" rel=\"nofollow\"><code>:first</code></a> selector or the <a href=\"http://api.jquery.com/first/\" rel=\"nofollow\"><code>.first</code></a> filter method:</p>\n\n<pre><code>$(\".answer:first\");\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>$(\".answer\").first();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>It's probably StackOverflow suicide to go against an accepted answer with 25 upvotes, but I'm going to do it anyways, since accuracy matters. I can't speak to the elegance aspect, but the performance aspect here actually can make a huge difference.</p>\n\n<p>It looks like, <a href=\"http://jsperf.com/selecting-the-first/#run\" rel=\"nofollow\">from a set of JavaScript testing</a>, that your original method is actually the <em>most</em> efficient one, and contrary to the hypothesizing that the accepted answer linked to, non-CSS Sizzle selectors tend to be <em>much</em> less efficient than method selectors. There's a reason for that. The <code>$('.answer')</code> can use the browser native <code>getElementsByClass()</code> without having to manually traverse the results. The <code>:first</code> selector complicates that. In this instance, using the sizzle selectors seems to slow the selection by a factor of between 4-5. </p>\n\n<p>I'd argue that, with jQuery, performance should trump elegance, and all evidence (every single browser I've tested so far!) seems to indicate that OP's inelegant solution is the fastest by a fair amount. </p>\n\n<p>Here are the results of the browsers with the most test runs:</p>\n\n<p><img src=\"http://i.stack.imgur.com/fmPTn.png\" alt=\"enter image description here\"></p>\n\n<p>(The numbers are 'operations per second', so higher numbers are faster, lower numbers are slower.)</p>\n",
                    "is_accepted": false,
                    "score": 73
                }
            ],
            "body": "<p>Suppose I want to get the first element amongst all the elements of the class \".answer\"</p>\n\n<pre><code>$($(\".answer\")[0])\n</code></pre>\n\n<p>I can do the above, but what is the best balance between elegance and speed?</p>\n\n<p>*changed the question to reflect the current discussion</p>\n",
            "last_activity_date": 1363356112,
            "question_id": 4837876,
            "score": 35,
            "tags": [
                "javascript",
                "jquery",
                "performance",
                "jquery-selectors"
            ],
            "title": "Most appropriate way to get this: $($(&quot;.answer&quot;)[0])"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It's getting a reference to the global object, in order to assign <code>doT</code> to it. This is generally done because with a JavaScript library/framework/etc, its one global identifier needs to be exposed to the <em>outside world</em>.</p>\n\n<p>As for why it's not simply <code>window.doT = doT;</code>, it's because the global object isn't always <code>window</code>, for example, in a non-browser environment. It's also possible to have <code>window</code> assigned to somewhere else at the point this code is executed.</p>\n\n<h3>How it works</h3>\n\n<p>If <code>this</code> is already <em>truthy</em>, for example, an object such as <code>window</code>, it will return that. It's likely it will be <code>window</code> (at least in the browser), as a plain function call should have its <code>ThisBinding</code> set to the global object. Otherwise, it will execute <code>eval()</code> in the global scope because an indirect call to <code>eval()</code> will set its scope to global, as opposed to the calling environment's scope. </p>\n\n<p>To achieve an indirect call, you have to invoke <code>eval()</code> indirectly, i.e. you can't just call it with <code>eval()</code>. You can use <code>(0, eval)</code> to invoke it. This relies on the comma operator returning the last evaluated expression, in this case <code>eval</code>. It doesn't matter what the preceding operands are. Similarly, <code>(0||eval)()</code> would work.</p>\n\n<p>As for why the body is <code>this</code>, that is the argument to <code>eval()</code>, that is the code to be executed as a string. It will return the <code>this</code> in the global scope, which is always the global object.</p>\n\n<p>It's not really relevant nowadays, but in older IEs, you'd need to use <code>execScript()</code> to execute code in the global scope. I can't remember exactly what versions of IE this was necessary for.</p>\n",
                    "is_accepted": true,
                    "score": 42
                }
            ],
            "body": "<p>Looking at the doT.js source:</p>\n\n<p><a href=\"https://raw.github.com/olado/doT/master/doT.js\">https://raw.github.com/olado/doT/master/doT.js</a></p>\n\n<p>What does this do?</p>\n\n<pre><code>(function(){ return this || (0,eval)('this'); }()).doT = doT;\n</code></pre>\n\n<p>To me it looks like it's creating a global var, <code>window.doT</code>. If that's all it's doing, then why not:</p>\n\n<pre><code>window.doT = doT;\n</code></pre>\n\n<p>?</p>\n",
            "last_activity_date": 1416100371,
            "question_id": 14119988,
            "score": 33,
            "tags": [
                "javascript",
                "dot.js"
            ],
            "title": "return this || (0,eval)(&#39;this&#39;);"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>This might help:</p>\n\n<pre><code>$(\".pane .delete\").click(function(){\n\t$(this).parents(\".pane\").animate({ opacity: 'hide' }, \"slow\");\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can't animate <code>visibility</code>. Either something is visible, or it's not (event 1% opaque items are 'visible'). It's much like half-existing - doesn't make sense. You're likely better off animating the opacity (via .fadeTo() etc).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>you can use after animate\nfunc ,css func</p>\n\n<pre><code>animate().css({visibility: \"visible\"})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You could set the opacity to 0.0 (i.e. \"invisible\") and visibility to visible (to make the opacity relevant), then animate the opacity from 0.0 to 1.0 (to fade it in):</p>\n\n<pre><code>$('ul.load_details').css({opacity: 0.0, visibility: \"visible\"}).animate({opacity: 1.0});\n</code></pre>\n\n<p>Because you set the opacity to 0.0, it's invisible despite being set to \"visible\". The opacity animation should give you the fade-in you're looking for.</p>\n\n<p>Or, of course, you could use the <code>.show()</code> or <code>.fadeTo()</code> animations.</p>\n\n<p>EDIT: <em>Volomike</em> is correct. CSS of course specifies that <code>opacity</code> takes a value between 0.0 and 1.0, not between 0 and 100. Fixed.</p>\n",
                    "is_accepted": true,
                    "score": 49
                },
                {
                    "body": "<p>Maybe you are just looking to show or hide an element:</p>\n\n<pre><code>$('ul.load_details').show();\n$('ul.load_details').hide();\n</code></pre>\n\n<p>Or do you want to show/hide element using animation (this doesn't make sense of course as it will not fade):</p>\n\n<pre><code>$('ul.load_details').animate({opacity:\"show\"});\n$('ul.load_details').animate({opacity:\"hide\"});\n</code></pre>\n\n<p>Or do you want to really fade-in the element like this:</p>\n\n<pre><code>$('ul.load_details').animate({opacity:1});\n$('ul.load_details').animate({opacity:0});\n</code></pre>\n\n<p>Maybe a nice tutorial will help you get up to speed with jQuery:</p>\n\n<p><a href=\"http://www.webdesignerwall.com/tutorials/jquery-tutorials-for-designers/\" rel=\"nofollow\">http://www.webdesignerwall.com/tutorials/jquery-tutorials-for-designers/</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This is what worked for me (based on <a href=\"http://stackoverflow.com/a/1031973/4872\">@Alan's answer</a>)</p>\n\n<pre><code>        var foo = $('ul.load_details'); // or whatever\n        var duration = \"slow\";  // or whatever\n\n        if (foo.css('visibility') == 'visible') {\n            foo.css({ opacity: 1 }).animate({ opacity: 0 }, duration, function () {\n                foo.css({ visibility: \"hidden\" });\n            });\n        } else {\n            foo.css({ opacity: 0 }).animate({ opacity: 1 }, duration).css({ visibility: \"visible\" });\n        }\n</code></pre>\n\n<p>When the <code>foo</code> element is visible, then slowly change the opacity to zero (via <code>animate</code>) and then wait until that's done before setting <code>foo</code>'s visibility to be hidden.  Otherwise, if set to hidden during the animate process then the fading out effect will not happen since it's hidden immediately.</p>\n\n<p>Alternatively, you can use the simpler, cleaner <a href=\"http://api.jquery.com/fadeTo/\" rel=\"nofollow\">fadeTo()</a>:</p>\n\n<pre><code>        var foo = $('ul.load_details'); // or whatever\n        var duration = \"slow\";  // or whatever\n\n        if (foo.css('visibility') == 'visible') {\n            foo.fadeTo(duration, 0, function () {\n                foo.css({ visibility: \"hidden\" });\n            });\n        } else {\n            foo.fadeTo(duration, 1).css({ visibility: \"visible\" });\n        }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm having some trouble with finding the visibility param for JQuery.</p>\n\n<p>Basically... the code below does nothing.</p>\n\n<pre><code>$('ul.load_details').animate({\n\tvisibility: \"visible\"\n    },1000);\n</code></pre>\n\n<p>There's nothing wrong with the animate code (I replaced visibility with fontSize and it was fine. I just can't seem to find the correct param name equivalent for \"visibility\" in css.</p>\n",
            "last_activity_date": 1363840288,
            "question_id": 1031927,
            "score": 33,
            "tags": [
                "javascript",
                "jquery",
                "css"
            ],
            "title": "Fading visibility of element using jQuery"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Take a look at the blog post <em><a href=\"http://schotime.net/blog/index.php/2008/06/19/jquery-ajax-aspnet-and-dates/\" rel=\"nofollow\">jQuery, Ajax, ASP.NET and dates</a></em>.</p>\n\n<p>It details how to work with ASP.NET MVC and jQuery to pass dates via JSON between the server and client side.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Not everyone agrees with me that it's a good idea, but I find myself most often returning formatted strings instead of proper dates. See <em><a href=\"http://encosia.com/2009/04/27/how-i-handle-json-dates-returned-by-aspnet-ajax/\" rel=\"nofollow\">How I handle JSON dates returned by ASP.NET AJAX</a></em>.  </p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>If you are not tied to the MS JSON serializer you could use <a href=\"http://www.codeplex.com/Json\">Json.NET</a>. It comes with an IsoDateTimeConverter to handle issues with serializing dates. This will serialize dates into an <a href=\"http://en.wikipedia.org/wiki/ISO%5F8601\">ISO 8601</a> formatted string.  </p>\n\n<p>For instance, in our project serializing <code>myObject</code> is handled via the following code.</p>\n\n<pre><code>JsonNetResult jsonNetResult = new JsonNetResult();\njsonNetResult.Formatting = Formatting.Indented;\njsonNetResult.SerializerSettings.Converters.Add(new IsoDateTimeConverter());\njsonNetResult.Data = myObject;\n</code></pre>\n\n<p>If you decide to take the Json.NET plunge you'll also want to grab <a href=\"http://james.newtonking.com/archive/2008/10/16/asp-net-mvc-and-json-net.aspx\">JsonNetResult</a> as it returns an ActionResult that can be used in ASP.NET MVC application.  It's quite easy to use.</p>\n\n<p>For more info see: <a href=\"http://james.newtonking.com/archive/2009/02/20/good-date-times-with-json-net.aspx\">Good (Date)Times with Json.NET</a></p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>It may be ugly, but it works:</p>\n\n<pre><code> var epoch = (new RegExp('/Date\\\\((-?[0-9]+)\\\\)/')).exec(d);\n $(\"#field\").text((new Date(parseInt(epoch[1]))).toDateString());\n</code></pre>\n\n<p>Probably, it is not necessary to match the whole string, and just (-?[0-9]+) is enough...</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>After playing with the Json.NET library, I'm wondering why you would choose to use the IsoDateTimeConverter over the JavascriptDateTimeConverter.</p>\n\n<p>I found this to be easier to use with the <a href=\"http://en.wikipedia.org/wiki/Ext_JS\" rel=\"nofollow\">Ext&nbsp;JS</a> interfaces that I was using when serializing dates from an MVC Controller.  </p>\n\n<pre><code>JsonNetResult jsonNetResult = new JsonNetResult();\njsonNetResult.Formatting = Formatting.Indented;\njsonNetResult.SerializerSettings.Converters.Add(new JavaScriptDateTimeConverter());\njsonNetResult.Data = myObject; \n</code></pre>\n\n<p>I'm getting this data back into an Ext.data.JsonStore which is able to get the returned value as a date without me having to specify a date format to parse with.</p>\n\n<pre><code>        store:new Ext.data.JsonStore({\n            url: pathContext + '/Subject.mvc/Notices',\n            baseParams: { subjectId: this.subjectId },\n            fields: [\n               {name: 'Title'},\n               {name: 'DateCreated', type: 'date' }\n            ]\n        }),\n</code></pre>\n\n<p>The JSON returned looks like this:</p>\n\n<pre><code>[{\"Title\":\"Some title\",\"DateCreated\":new Date(1259175818323)}]\n</code></pre>\n\n<p>There isn't any reason to convert to ISO 8601 format and back if you don't have to.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This was found in <a href=\"http://stackoverflow.com/questions/206384/how-to-format-json-date\">another post</a> on Stack&nbsp;Overflow:</p>\n\n<pre><code>var date = new Date(parseInt(jsonDate.substr(6))); \n</code></pre>\n\n<p>The substr function takes out the \"/Date(\" part, and the parseInt function gets the integer and ignores the \")/\" at the end. The resulting number is passed into the Date constructor.</p>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>Auto convert dates on the client side (if you use jQuery)</p>\n\n<p>--</p>\n\n<p>You didn't specify it, but since you're using <a href=\"http://en.wikipedia.org/wiki/ASP.NET_MVC_Framework\" rel=\"nofollow\">ASP.NET MVC</a> you could be using jQuery. If you do, converting to actual dates just became simpler if you use code provided on <a href=\"http://erraticdev.blogspot.com/2010/12/converting-dates-in-json-strings-using.html\" rel=\"nofollow\">this blog post</a>. The code extends jQuery's <code>$.parseJSON()</code> functionality, so it automatically converts ISO and ASP.NET date strings to actual JavaScript dates.</p>\n\n<p>I use it with ASP.NET MVC, and it works like a charm. The best part is that it's also backwards compatible. Existing code that uses <code>$.parseJSON()</code> will work just like before (and actually work the same), but if you provide the second parameter and set its value to <code>true</code>, all dates will get automatically converted for you.</p>\n\n<p>The extension uses native browser JSON support where applicable and also works in others that don't. Modern browsers support this functionality anyway.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/206384\">Format a Microsoft JSON date?</a></p>\n</blockquote>\n\n\n\n<p>The ASP.NET function <code>Json()</code> formats and returns a date as</p>\n\n<pre><code>{\"d\":\"\\/Date(1240718400000)\\/\"}\n</code></pre>\n\n<p>which has to be dealt with on the client side which is problematic. What are your suggestions for approaches to sending date values back and forth?</p>\n",
            "last_activity_date": 1415531844,
            "question_id": 1263732,
            "score": 31,
            "tags": [
                "javascript",
                "asp.net-mvc",
                "json",
                "datetime",
                "json.net"
            ],
            "title": "How to pass a JSON date value via ASP.NET MVC using JSON.NET?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You can use <code>.offset()</code> to get the offset compared to the <code>document</code> element and then use the <code>scrollTop</code> property of the <code>window</code> element to find how far down the page the user has scrolled:</p>\n\n<pre><code>var scrollTop     = $(window).scrollTop(),\n    elementOffset = $('#my-element').offset().top,\n    distance      = (elementOffset - scrollTop);\n</code></pre>\n\n<p>The <code>distance</code> variable now holds the distance from the top of the <code>#my-element</code> element and the top-fold.</p>\n\n<p>Here is a demo: <a href=\"http://jsfiddle.net/Rxs2m/\">http://jsfiddle.net/Rxs2m/</a></p>\n\n<p>Note that negative values mean that the element is above the top-fold.</p>\n",
                    "is_accepted": true,
                    "score": 81
                }
            ],
            "body": "<p>How do I determine the distance between the very top of a div to the top of the current screen?  I just want the pixel distance to the top of the current screen, not the top of the document.  I've tried a few things like <code>.offset()</code> and <code>.offsetHeight</code>, but I just can't wrap my brain around it.  Thanks!</p>\n",
            "last_activity_date": 1332799807,
            "question_id": 9880472,
            "score": 30,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Determine distance from the top of a div to top of window with javascript"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>infowindow is local variable and window is not available at time of close()</p>\n\n<pre><code>var latlng = new google.maps.LatLng(-34.397, 150.644);\nvar infowindow = null;\n\n...\n\ngoogle.maps.event.addListener(marker, 'click', function() {\n    if (infowindow) {\n        infowindow.close();\n    }\n    infowindow = new google.maps.InfoWindow();\n    ...\n});\n...\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 68
                },
                {
                    "body": "<p>Declare global variables:</p>\n\n<pre><code>var mapOptions;\nvar map;\nvar infowindow;\nvar marker;\nvar contentString;\nvar image;\n</code></pre>\n\n<p>In <code>intialize</code> use the map's <code>addEvent</code> method:</p>\n\n<pre><code>google.maps.event.addListener(map, 'click', function() {\n    if (infowindow) {\n        infowindow.close();\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>I had a dynamic loop that was creating the <code>infowindows</code> and markers based on how many were input into the CMS, so I didn't want to create a new <code>InfoWindow()</code> on every event click and bog it down with requests, if that ever arose.  Instead, I tried to know what the specific <code>infowindow</code> variable for each instance was going to be out of the set amount of locations I had, and then prompt Maps to close all of them before it opened the correct one.</p>\n\n<p>My array of locations was called locations, so the PHP I set up <strong><em>before</em></strong> the actual maps initilization to get my <code>infowindow</code> variable names was:</p>\n\n<pre><code>for($k = 0; $k &lt; count($locations); $k++) {\n        $infowindows[] = 'infowindow' . $k; \n} \n</code></pre>\n\n<p>Then after initialzing the map and so forth, in the script I had a PHP <code>foreach</code> loop creating the dynamic info windows using a counter:</p>\n\n<pre><code>//...javascript map initilization\n&lt;?php \n$i=0;\nforeach($locations as $location) {\n\n    ..//get latitudes, longitude, image, etc...\n\necho 'var mapMarker' . $i . ' = new google.maps.Marker({\n          position: myLatLng' . $i . ',\n          map: map,\n          icon: image\n      });';\n\necho 'var contentString' . $i . ' = \"&lt;h1&gt;' . $title[$i] . '&lt;/h1&gt;&lt;h2&gt;' . $address[$i] . '&lt;/h2&gt;' . $content[$i] .         '\";'; \necho 'infowindow' . $i . ' = new google.maps.InfoWindow({ ';\necho '    content: contentString' . $i . '\n          });';\n\necho 'google.maps.event.addListener(mapMarker' . $i . ', \"click\", function() { ';   \n    foreach($infowindows as $window) {  \n        echo $window . '.close();'; \n    }\n        echo 'infowindow' . $i . '.open(map,mapMarker'. $i . ');\n      });';\n\n$i++; \n}\n?&gt;\n...//continue with Maps script... \n</code></pre>\n\n<p>So, the point is, before I called the entire map script, I had an array with the names I knew were going to be outputted when an <code>InfoWindow()</code> was created, like <code>infowindow0, infowindow1, infowindow2, etc...</code></p>\n\n<p>Then, on the <code>click</code> event for each marker, the <code>foreach</code> loop goes through and says close all of them before you follow through with the next step of opening them.  It turns out looking like this:</p>\n\n<pre><code>google.maps.event.addListener(mapMarker0, \"click\", function() {\n    infowindow0.close();\n    infowindow1.close();\n    infowindow2.close();\n    infowindow0.open(map,mapMarker0);\n}\n</code></pre>\n\n<p>Just a different way of doing things I suppose... but I hope it helps someone. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>For loops that creates <code>infowindows</code> dynamically, declare a <strong>global variable</strong> </p>\n\n<p><code>var openwindow;</code></p>\n\n<p>and then in the <code>addListener</code>function call (which is within the loop):</p>\n\n<pre><code>google.maps.event.addListener(marker&lt;?php echo $id; ?&gt;, 'click', function() {\nif(openwindow){\n    eval(openwindow).close();\n}\nopenwindow=\"myInfoWindow&lt;?php echo $id; ?&gt;\";\nmyInfoWindow&lt;?php echo $id; ?&gt;.open(map, marker&lt;?php echo $id; ?&gt;);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I have something like the following</p>\n\n<pre><code>function initMap()\n{\n    //...create new map here\n    var infowindow;\n    $('.business').each(function(el){\n        //...get lat/lng\n        var position = new google.maps.LatLng(lat, lng);\n        var content = \"contents go here\";\n        var title = \"titleText\";\n        var openWindowFn;\n        var closure = function(content, position){.\n            openWindowFn = function()\n            {\n                if (infowindow)\n                {\n                    infowindow.close();\n                }\n                infowindow = new google.maps.InfoWindow({\n                    position:position,\n                    content:content\n                });\n                infowindow.open(map, marker);\n            }\n        }(content, position);\n        var marker = new google.maps.Marker({\n            position:position,\n            map:map,\n            title:title.\n        });\n        google.maps.event.addListener(marker, 'click', openWindowFn);\n    }\n}\n</code></pre>\n\n<p>In my understanding, using a closure like that allows the capturing of variables and their values at the time of function declaration, rather than relying on global variables. So when <code>openWindowFn</code> is called later, on the first marker for example, the <code>content</code> and <code>position</code> variable have the values they did during the first iteration in the <code>each()</code> function. </p>\n\n<p>I'm not really sure how <code>openWindowFn</code> has <code>infowindow</code> in its scope. I'm also not sure I'm doing things right, but it works, even with multiple maps on one page (each map gets one open infowindow). </p>\n\n<p>If anyone has any insights, please comment. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I encourage you to try <a href=\"http://www.pittss.lv/jquery/gomap/index.php\" rel=\"nofollow\">goMap</a> jQuery plugin when working with Google Maps. For this kind of situation you can set hideByClick to true when creating markers:</p>\n\n<pre><code>$(function() { \n    $(\"#map\").goMap({ \n        markers: [{  \n            latitude: 56.948813, \n            longitude: 24.704004, \n            html: { \n                content: 'Click to marker', \n                popup:true \n            } \n        },{  \n            latitude: 54.948813, \n            longitude: 21.704004, \n            html: 'Hello!' \n        }], \n        hideByClick: true \n    }); \n}); \n</code></pre>\n\n<p>This is just one example, it has many features to offer like grouping markers and manipulating info windows.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am busy with a script that will make a google maps canvas on my website, with multiple markers. I want that when you click on a marker, a infowindow opens. I have done that, and the code is at the moment:</p>\n\n<pre><code> var latlng = new google.maps.LatLng(-34.397, 150.644);\n    var myOptions = {\n      zoom: 8,\n      center: latlng,\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    };\n    var map = new google.maps.Map(document.getElementById(\"map_canvas\"), myOptions);\n    function addMarker(map, address, title) {\n     geocoder = new google.maps.Geocoder();\n     geocoder.geocode( { 'address': address}, function(results, status) {\n        if (status == google.maps.GeocoderStatus.OK) {\n          map.setCenter(results[0].geometry.location);\n          var marker = new google.maps.Marker({\n     position: results[0].geometry.location,\n              map: map,\n              title:title\n    });\n    google.maps.event.addListener(marker, 'click', function() {\n     var infowindow = new google.maps.InfoWindow();\n            infowindow.setContent('&lt;strong&gt;'+title + '&lt;/strong&gt;&lt;br /&gt;' + address);\n             infowindow.open(map, marker);\n\n          });\n        } else {\n          alert(\"Geocode was not successful for the following reason: \" + status);\n        }\n     });\n    }\n    addMarker(map, 'Address', 'Title');\n addMarker(map, 'Address', 'Title');\n</code></pre>\n\n<p>This works 100%. But now i want that when one infowindow is open, and you want to open the second, the first one automaticly closes. But i haven't found a way to do that. infowindow.close(); won't help. Has someone an example or a solution to this problem?</p>\n",
            "last_activity_date": 1426141706,
            "question_id": 4539905,
            "score": 30,
            "tags": [
                "javascript",
                "google-maps-api-3"
            ],
            "title": "Close all infowindows in Google Maps API v3"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Give the button a higher z-index property than the hand-drawn image:</p>\n\n<pre><code>&lt;img src=\"hand_drawn_image.gif\" style=\"z-index: 4\"&gt;\n&lt;a href=\"#\" style=\"z-index: 5\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>however, make sure you test it in all major browsers. IE interprets z-index differently from FF.\nFor somebody to come up with more details, you would have to post more info, a link would be best.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Building on what Pekka Gaiser said, I think the following will work. Taking his example and reworking it:</p>\n\n<pre><code>&lt;a href=\"#\" style=\"z-index: 5\"&gt;\n    &lt;!-- Place image inside of you menu bar link --&gt;\n    &lt;img src=\"hand_drawn_image.gif\" style=\"z-index: 4\"&gt;\n    &lt;!-- Your link here --&gt;\n&lt;/a&gt;\n</code></pre>\n\n<p>Here you should be able to place an event on the underlying a-tag and, unless your image has an event, initiates a capture (!IE browsers) and then kills propagation of the event.</p>\n\n<p>If you need a bit more help, let us know a bit more about the situation.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>So I did this and it works in Firefox 3.5 on Windows XP.  It shows a box with some text, an image overlay, and a transparent div above that intercepts all clicks.</p>\n\n<pre><code>&lt;div id=\"menuOption\" style=\"border:1px solid black;position:relative;width:100px;height:40px;\"&gt;\nsometext goes here.\n&lt;!-- Place image inside of you menu bar link --&gt;\n&lt;img id=\"imgOverlay\" src=\"w3.png\" style=\"z-index:4;position:absolute;top:0px;left:0px;width:100px;height:40px;\" \\&gt;\n&lt;!-- Your link here --&gt;\n&lt;a href=\"javascript:alert('Hello!')\" &gt;\n&lt;div id=\"mylinkAction\" style=\"z-index:5;position:absolute;top:0px;left:0px;width:100px;height:40px;\"&gt;\n&lt;/div&gt;\n&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>What I've done:\nI've crafted a div and sized it to be what a menu option could be sized to, 100x40px (an arbitrary value, but it helps with illustrating the sample).</p>\n\n<p>The div has an image overlay, and a link overlay.  The link contains a div sized to be the same as the 'menuOption' div.  This way a user click is captured across the whole box.</p>\n\n<p>You will need to provide your own image when testing.  :)</p>\n\n<p>Caveat:\nIf you expect your menu button to respond to the user interaction (for example, changing color to simulate a button), then you will need extra code attached to the javascript you will invoke on the  tag, this extra code could address the 'menuOption' element through the DOM and change it's color.</p>\n\n<p>Also, there is no other way I know of that you can take a click event, and have it register on an element underneath a visible page element.  I've tried this as well this summer, and found no other solution but this.</p>\n\n<p>Hope this helps.</p>\n\n<p>PS:\nThe writeup on events at <a href=\"http://www.quirksmode.org/js/introevents.html\" rel=\"nofollow\">quirksmode</a> went a long way to help me understand how events behave in browsers.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If the image will be statically positioned, you can capture the click event from the image as it bubbles up, by placing the img tag inside the menu item element.</p>\n\n<pre><code>&lt;div onclick=\"menuclick()\"&gt;\n  &lt;img src=\"overlay.png\" style=\"position:absolute;\" /&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It might be too late for this, but the best solution I've found is with CSS Styling:</p>\n\n<pre><code>#reflection_overlay {\n    background-image:url(../img/reflection.png);\n    background-repeat:no-repeat;\n    width: 195px;\n    pointer-events:none;\n}\n</code></pre>\n\n<p>\"pointer-events\" attribute works pretty good and simple.</p>\n",
                    "is_accepted": true,
                    "score": 82
                }
            ],
            "body": "<p>I have a menu bar with hover effects, and now I want to place a transparent image with a circle and a \"handdrawn\" text over one of the menu items. If I use absolute positioning to place the overlay image above the menu item, the user will not be able to click the button and the hover effect will not work. </p>\n\n<p>Is there any way to somehow disable mouse interaction with this overlay image so that the menu will keep on working just as before even though it's beneath an image?</p>\n\n<p>Edit:</p>\n\n<p>Because the menu was generated with joomla I could not tweak just one of the menu items. And even if I could, I did not feel a javascript solution was appropriate. So in the end I \"marked\" the menu item with an arrow outside the menu-item element. Not as nice as I had wanted it to be, but it worked out okey anyway.</p>\n",
            "last_activity_date": 1324503905,
            "question_id": 1657319,
            "score": 29,
            "tags": [
                "javascript",
                "html",
                "css",
                "xhtml",
                "javascript-events"
            ],
            "title": "Ignore mouse interaction on overlay image"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>how about eval() ?</p>\n\n<p>var obj = eval(jsonString);</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Take a look at <a href=\"http://code.google.com/p/jquery-json/\" rel=\"nofollow\">JQuery-json</a> plugin</p>\n\n<pre><code>var thing = {plugin: 'jquery-json', version: 1.3};\n\nvar encoded = $.toJSON(thing);              //'{\"plugin\": \"jquery-json\", \"version\": 1.3}'\nvar name = $.evalJSON(encoded).plugin;      //\"jquery-json\"\nvar version = $.evalJSON(encoded).version;  // 1.3\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Did you look at the <a href=\"http://code.google.com/p/jquery-json/\" rel=\"nofollow\">jquery-json</a> plugin?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>use <pre><code>jQuery.getJSON(url, data, callback)</code></pre></p>\n\n<p>or pass \"json\" as the type parameter: <pre><code>jQuery.get( url, data, callback, type )</code></pre></p>\n\n<p>same applies to: <pre><code>jQuery.post( url, data, callback, type )</code></pre></p>\n\n<p><strong>*all in case you are fetching the \"string\" from an ajax request</strong></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The \"official\" json2.js script includes 2 methods: one that will safely parse any JSON string to an object (JSON.parse), and one that will convert an object to a JSON string (JSON.stringify)</p>\n\n<p>The script can be found here: <a href=\"https://github.com/douglascrockford/JSON-js\">https://github.com/douglascrockford/JSON-js</a></p>\n\n<p>In my post above, I suggested eval(), but there is actually a slightly better way to evaluate JSON (if you don't want to use the json2.js script):</p>\n\n<pre><code>var obj = (new Function(\"return \" + json))();\n</code></pre>\n\n<p>using the json2.js script:</p>\n\n<pre><code>var obj = JSON.parse(json);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>While you can use the the eval command, you need to check it for safety first.  I use:</p>\n\n<pre><code>var data = !(/[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]/.\n           test(source.replace(/\"(\\\\.|[^\"\\\\])*\"/g, '')))     \n           &amp;&amp; eval('(' + source + ')');\n</code></pre>\n\n<p>That should work (it's been adjusted a bit from the original).  The key point is that the JSON string is checked to prevent functions and other actual executable code from sneaking through.  (The first regex is the important bit).</p>\n\n<p>That said, the JSON plugin is very good.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>as of jquery 1.4.1 you can do this natively</p>\n\n<pre><code>jQuery.parseJSON\n</code></pre>\n\n<p><a href=\"http://api.jquery.com/jQuery.parseJSON/\">http://api.jquery.com/jQuery.parseJSON/</a></p>\n",
                    "is_accepted": false,
                    "score": 63
                }
            ],
            "body": "<p>I have a string in my db I want to pull into my page and convert to a JavaScript object.</p>\n\n<pre><code>[\n{id: 1,title: \"Long Event\",\n       start: new Date(2009, 5, 6, 14, 0),end: new Date(2009, 5, 11)},\n{id: 2,title: \"Repeating Event\",\n       start: new Date(2009, 5, 2)},\n{id: 3,title: \"Meeting\",\n       start: new Date(2009, 5, 20, 9, 0)},\n{id: 4,title: \"Click for Facebook\",\n       start: new Date(2009, 5, 27, 16),end: new Date(2009, 5, 29),\n       url: \"http://facebook.com/\"}\n]\n</code></pre>\n\n<p>How can I do this using jQuery?</p>\n",
            "last_activity_date": 1322201267,
            "question_id": 921374,
            "score": 29,
            "tags": [
                "javascript",
                "jquery",
                "json"
            ],
            "title": "How do I convert a JSON string to a JavaScript object in jQuery?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>It means you're attempting some form of cross origin access, which is unsafe -- while it may seem benign it's probably worth trying to find out why you're hitting it, if you use the nightlies or the Safari4 beta you can use the debugger in the web inspector, and make it break on all exceptions, which will let you see when it's actually attempting the cross-origin access.</p>\n\n<p>As for the hangs, if you can find some kind of reduced testcase it would be great if you could file them at <a href=\"http://bugs.webkit.org\" rel=\"nofollow\">http://bugs.webkit.org</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Safari's cross frame security is tighter than other browsers, I have done specific try/catch wrappers to handle these cases, if it otherwise works, great.</p>\n\n<p>Either way, would post the bug upstream as olliej suggests.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This is a red herring. The request still goes through and everything is working properly but WebKit still logs an exception.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm using Facebook Connect in my app. I have it working pretty well, but in the Safari Error console, I'm seeing errors like this:</p>\n\n<pre><code>Unsafe JavaScript attempt to access frame with URL http://...#... from frame with URL http://www.connect.facebook.com/extern/login_status.phpapi_key=..&amp;extern=2&amp;channel=http...xd_receiver.htm.\nDomains, protocols and ports must match.\n</code></pre>\n\n<p>The app seems to function ok, though we are seeing periodic hangs and other bad behavior from Safari. When I run other Facebook Connect apps, I sometimes see this error too, so I don't think this is a problem with our implementation. Is it safe to ignore this warning?</p>\n",
            "last_activity_date": 1300474363,
            "question_id": 858811,
            "score": 29,
            "tags": [
                "javascript",
                "safari",
                "facebook",
                "warnings"
            ],
            "title": "Unsafe JavaScript attempt to access frame warning in Safari"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Here's a potential solution based on the counting approach (I haven't tested it and there's no error trapping, but it should convey the idea).</p>\n\n<p>The basic strategy is: Acquire the count of how many records need to be updated, save each record asynchronously and a callback on success, which will decrement the count and close the DB if the count reaches 0 (when the last update finishes). By using <code>{safe:true}</code> we can ensure that each update is successful.</p>\n\n<p>The mongo server will use one thread per connection, so it's good to either a) close unused connections, or b) pool/reuse them.</p>\n\n<pre><code>db.open(function (err, db) {\n  db.collection('foo', function (err, collection) {\n    var cursor = collection.find({});\n    cursor.count(function(err,count)){\n      var savesPending = count;\n\n      if(count == 0){\n        db.close();\n        return;\n      }\n\n      var saveFinished = function(){\n        savesPending--;\n        if(savesPending == 0){\n          db.close();\n        }\n      }\n\n      cursor.each(function (err, doc) {\n        if (doc != null) {\n          doc.newkey = 'foo'; // Make some changes\n          db.save(doc, {safe:true}, saveFinished);\n        }\n      });\n    })\n  });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>I found that using counter may apply to simple scenario, but may be hard in complicated situations. Here is a solution that I come up by closing the database connection when database connection is idle:</p>\n\n<pre><code>var dbQueryCounter = 0;\nvar maxDbIdleTime = 5000; //maximum db idle time\n\nvar closeIdleDb = function(connection){\n  var previousCounter = 0;\n  var checker = setInterval(function(){\n    if (previousCounter == dbQueryCounter &amp;&amp; dbQueryCounter != 0) {\n        connection.close();\n        clearInterval(closeIdleDb);\n    } else {\n        previousCounter = dbQueryCounter;\n    }\n  }, maxDbIdleTime);\n};\n\nMongoClient.connect(\"mongodb://127.0.0.1:27017/testdb\", function(err, connection)(\n  if (err) throw err;\n  connection.collection(\"mycollection\").find({'a':{'$gt':1}}).toArray(function(err, docs) {\n    dbQueryCounter ++;\n  });   \n  //do any db query, and increase the dbQueryCounter\n  closeIdleDb(connection);\n));\n</code></pre>\n\n<p>This can be a general solution for any database Connections. maxDbIdleTime can be set as the same value as db query timeout or longer.</p>\n\n<p>This is not very elegant, but I can't think of a better way to do this. I use NodeJs to run a script that queries MongoDb and Mysql, and the script hangs there forever if the database connections are not closed properly.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I came up with a solution that involves a counter like this. It does not depend on a count() call nor does it wait for a time out. It will close the db after all the documents in each() are exhausted. </p>\n\n<pre><code>var mydb = {}; // initialize the helper object.\n\nmydb.cnt = {}; // init counter to permit multiple db objects.\n\nmydb.open = function(db) // call open to inc the counter.\n{\n  if( !mydb.cnt[db.tag] ) mydb.cnt[db.tag] = 1;\n  else mydb.cnt[db.tag]++;\n}; \n\nmydb.close = function(db) // close the db when the cnt reaches 0.\n{\n  mydb.cnt[db.tag]--;\n  if ( mydb.cnt[db.tag] &lt;= 0 ) {\n    delete mydb.cnt[db.tag];\n    return db.close();\n  }\n  return null;\n};\n</code></pre>\n\n<p>So that each time you are going to make a call like db.each() or db.save() you would use these methods to ensure the db is ready while working and closed when done.</p>\n\n<p>Example from OP:</p>\n\n<pre><code>foo = db.collection('foo');\n\nmydb.open(db); // *** Add here to init the counter.**  \nfoo.find({},function(err,cursor)\n{\n  if( err ) throw err; \n  cursor.each(function (err, doc)\n  {\n    if( err ) throw err;\n    if (doc != null) {\n      doc.newkey = 'foo';\n      mydb.open(db); // *** Add here to prevent from closing prematurely **\n      foo.save(doc, function(err,count) {\n        if( err ) throw err;\n        mydb.close(db); // *** Add here to close when done. **\n      }); \n    } else {\n      mydb.close(db); // *** Close like this instead. **\n    }\n  });\n});\n</code></pre>\n\n<p>Now, this assumes that the second to last callback from each makes it through the mydb.open() before the last callback from each goes to mydb.close().... so, of course, let me know if this is an issue.</p>\n\n<p>So: put a mydb.open(db) before a db call and put a mydb.close(db) at the return point of the callback or after the db call (depending on the call type).</p>\n\n<p>Seems to me that this kind of counter should be maintained within the db object but this is my current workaround. Maybe we could create a new object that takes a db in the constructor and wrap the mongodb functions to handle the close better.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's best to use a pooled connection and then call db.close() in cleanup function at the end of your application's life:</p>\n\n<pre><code>process.on('SIGINT', cleanup);\nprocess.on('SIGTERM', cleanup);\n</code></pre>\n\n<p>See <a href=\"http://mongodb.github.io/node-mongodb-native/driver-articles/mongoclient.html\" rel=\"nofollow\">http://mongodb.github.io/node-mongodb-native/driver-articles/mongoclient.html</a></p>\n\n<p>A bit old thread, but anyway.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Working with Nodejs and MongoDB through Node MongoDB native driver. Need to retrieve some documents, and make modification, then save them right back. This is an example:</p>\n\n<pre><code>db.open(function (err, db) {\n  db.collection('foo', function (err, collection) {\n    var cursor = collection.find({});\n    cursor.each(function (err, doc) {\n      if (doc != null) {\n        doc.newkey = 'foo'; // Make some changes\n        db.save(doc); // Update the document\n      } else {\n        db.close(); // Closing the connection\n      }\n    });\n  });\n});\n</code></pre>\n\n<p>With asynchronous nature, if the process of updating the document takes longer, then when cursor reaches the end of documents, database connection is closed. Not all updates are saved to the database.</p>\n\n<p>If the <code>db.close()</code> is omitted, all the documents are correctly updated, but the application hangs, never exits.</p>\n\n<p>I saw a post suggesting using a counter to track number of updates, when fall back to zero, then close the db. But am I doing anything wrong here? What is the best way to handle this kind of situation? Does <code>db.close()</code> have to be used to free up resource? Or does a new db connection needs to open?</p>\n",
            "last_activity_date": 1419683121,
            "question_id": 8373905,
            "score": 28,
            "tags": [
                "javascript",
                "mongodb",
                "node.js",
                "asynchronous"
            ],
            "title": "When to close MongoDB database connection in Nodejs"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Well, if you want to make <code>B.prototype</code> an object that inherits from <code>A.prototype</code>, without executing the <code>A</code> constructor, to avoid all possible side-effects, you could use a dummy constructor to do it, for example:</p>\n\n<pre><code>function tmp() {}\ntmp.prototype = A.prototype;\nB.prototype = new tmp();\nB.prototype.constructor = B;\n</code></pre>\n\n<p>You could create a function to encapsulate the logic of the creation of this new object, e.g.:</p>\n\n<pre><code>function inherit(o) {\n  function F() {}; // Dummy constructor\n  F.prototype = o; \n  return new F(); \n}\n\n//...\nB.prototype = inherit(A.prototype);\nB.prototype.constructor = B;\n</code></pre>\n\n<p>If you target modern browsers, you could use the ECMAScript 5 <code>Object.create</code> method for the same purpose, e.g.:</p>\n\n<pre><code>B.prototype = Object.create(A.prototype);\nB.prototype.constructor = B;\n//..\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>The problem is that you can't easily create a prototype object for <code>B</code> since invoking the constructor of <code>A</code> can't be done. This is due to the parameters for the constructor being unknown before <code>new B</code> is executed. You need a dummy constructor function to construct a prototype for <code>B</code> that links to <code>A</code>'s prototype.</p>\n\n<pre><code>B.prototype = (function(parent){\n    function protoCreator(){};\n    protoCreator.prototype = parent.prototype;\n    // Construct an object linking to A.prototype without calling constructor of A\n    return new protoCreator();\n})(A);\n</code></pre>\n\n<p>Once you've got the prototype object for <code>B</code> set up, you need to ensure to call the constructor of <code>A</code> in the constructor of <code>B</code>.</p>\n\n<pre><code>function B(x, y) {\n    // Replace arguments by an array with A's arguments in case A and B differ in parameters\n    A.apply(this, arguments);\n}\n</code></pre>\n\n<p>You should now be able to instantiate <code>B</code> by calling <code>new B(x, y)</code>.</p>\n\n<p>For a complete same including parameter validation in <code>A</code> see <a href=\"http://jsfiddle.net/bKUF6/\" rel=\"nofollow\">a jsFiddle</a>.</p>\n\n<p>In your original code you are setting <code>B.prototype.constructor = B</code>. I'm not getting why you are doing this. The <code>constructor</code> property does not influence the inheritance hierarchy for which the <code>prototype</code> property is responsible. If you want to have the named constructor contained in the <code>constructor</code> property you'd need to extend the code from above a little:</p>\n\n<pre><code>// Create child's prototype \u2013 Without calling A\nB.prototype = (function(parent, child){\n    function protoCreator(){\n        this.constructor = child.prototype.constructor\n    };\n    protoCreator.prototype = parent.prototype;\n    return new protoCreator();\n})(A, B);\n</code></pre>\n\n<p>Using the first definition of <code>B.prototype</code> you'd get the following results:</p>\n\n<pre><code>var b = new B(4, 6);\nb.constructor // A\nconsole.info(b instanceof A); // true\nconsole.info(b instanceof B); // true\n</code></pre>\n\n<p>With the <a href=\"http://jsfiddle.net/bKUF6/1/\" rel=\"nofollow\">extended version</a>, you'll get:</p>\n\n<pre><code>var b = new B(4, 6);\nb.constructor // B\nconsole.info(b instanceof A); // true\nconsole.info(b instanceof B); // true\n</code></pre>\n\n<p>The cause for the different output is that <code>instanceof</code> follows up the whole prototype chain of <code>b</code> and tries to find a matching prototype object for <code>A.prototype</code> or <code>B.prototype</code> (in the other call). The <code>b.constructor</code> prototype does refers to the function that was used to define the instances prototype. In case you wonder why it does not point to <code>protoCreator</code> this is because its prototype was overwritten with <code>A.prototype</code> during the creation of <code>B.prototype</code>. The extended definition as show in <a href=\"http://jsfiddle.net/bKUF6/1/\" rel=\"nofollow\">the updated example</a> fixes this <code>constructor</code> property to point to a more appropriate (because probably more expected) function.</p>\n\n<p>For daily use, I'd recommend to discard the idea of using the <code>constructor</code> property of instances entirely. Instead do use <code>instanceof</code> since its results are more predictable/expected.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Consider this:</p>\n\n<pre><code>function B( x, y ) {\n    var b = Object.create( new A( x, y ) );\n\n    // augment b with properties or methods if you want to\n\n    return b;\n}\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>var b = new B( 12, 13 );\n</code></pre>\n\n<p>Now <code>b</code> inherits from an instance of <code>A</code>, which in turn inherits from <code>A.prototype</code>.</p>\n\n<p><strong>Live demo:</strong> <a href=\"http://jsfiddle.net/BfFkU/\" rel=\"nofollow\">http://jsfiddle.net/BfFkU/</a></p>\n\n<hr>\n\n<p><code>Object.create</code> isn't implemented in IE8, but one can easily manually implement it:</p>\n\n<pre><code>if ( !Object.create ) {\n    Object.create = function ( o ) {\n        function F() {}\n        F.prototype = o;\n        return new F();\n    };\n}\n</code></pre>\n\n<p>This can be placed inside a <code>ie8.js</code> file which is loaded only for IE8 and below via conditional comments.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Using pure JavaScript to do inheritance, this is what I usually do:</p>\n\n<pre><code>function A() {}\nA.prototype.run = function () {};\n\nfunction B() {}\nB.prototype = new A;\nB.prototype.constructor = B;\n</code></pre>\n\n<p>Since there is no arguments to pass into the constructor, new A has nothing to complain about. Now, I haven't figured out a good way to do inheritance if the constructor has arguments to pass. For example,</p>\n\n<pre><code>function A(x, y) {}\nA.prototype.run = function () {};\n\nfunction B(x, y) {}\nB.prototype = new A;\nB.prototype.constructor = B;\n</code></pre>\n\n<p>I could pass some arbitrary values like:</p>\n\n<pre><code>B.prototype = new A(null, null);\n</code></pre>\n\n<p>In some cases, I may need to validate x and y in the constructor of A. In some extreme cases, I need throw errors when checking x or y. Then, there is no way for B to inherit from A using new A.</p>\n\n<p>Any suggestions? </p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1325082090,
            "question_id": 7533473,
            "score": 28,
            "tags": [
                "javascript",
                "inheritance",
                "prototype-programming"
            ],
            "title": "JavaScript inheritance: when constructor has arguments"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<pre><code>x |= y;\n</code></pre>\n\n<p>is equivalent to</p>\n\n<pre><code>x = x | y;\n</code></pre>\n\n<p>where <code>|</code> stands for <em>bitwise OR</em>.</p>\n",
                    "is_accepted": false,
                    "score": 45
                },
                {
                    "body": "<p>As with most assignment operators, it is equivalent to applying the operator using the lefthand value again:</p>\n\n<pre><code>a |= b\na = a | b\n</code></pre>\n\n<p>Just like</p>\n\n<pre><code>a += b\na = a + b\n</code></pre>\n\n<p>Look on <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/Assignment_Operators\">Moz Dev Net</a> for more.</p>\n\n<p>[Edit: Brain fail, mixed up | and ||. Need more coffee. Modified below]</p>\n\n<p>Since <code>|</code> is the Bitwise OR operator, the result of <code>a|b</code> will be the integer representing the bitstring with all the 1 bits of <code>a</code> and <code>b</code>. Note that javascript has no native int or bitstring types, so it will first cast <code>a</code> and <code>b</code> to int, then do a bitwise OR on the bits. So 9 | 2 in binary is 1001 | 0010 = 1011, which is 11, but 8|2 = 8.</p>\n\n<p>The effect is to add the flag bits of <code>b</code> into <code>a</code>. So if you have some flag <code>WEEVILFLAG=parseInt(00001000,2)</code> :</p>\n\n<pre><code>// a = parseInt(01100001,2)\nif(isWeevilish(a))\n    a |= WEEVILFLAG;\n// now a = parseInt(01101001,2)\n</code></pre>\n\n<p>will set that bit to 1 in a.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<pre><code>a[0] |= b\n</code></pre>\n\n<p>is basically</p>\n\n<pre><code>a[0] = a[0] | b\n</code></pre>\n\n<p>\"|\" is an <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/Bitwise_Operators\">or bitwise operator</a> (by the way: The MDN docs are really well written and really clear. If the OP is wanting to write and understand JS, then the MDN docs are a great resource.)</p>\n\n<p><strong>Update</strong>\nWhen <code>a[0]</code> is assigned <code>0</code>, <code>a[0]</code> in binary is <code>0000</code>. In the loop,</p>\n\n<ol>\n<li><p>b = 0</p>\n\n<pre><code>a[0] = 0 (base 10) = 0000 (base 2)\nb    = 0 (base 10) = 0000 (base 2)\n                   ---------------\na[0] | b           = 0000 (base 2) = 0 (base 10)\n</code></pre></li>\n<li><p>b = 1</p>\n\n<pre><code>a[0] = 0 (base 10) = 0000 (base 2)\nb    = 1 (base 10) = 0001 (base 2)\n                   ---------------\na[0] | b           = 0001 (base 2) = 1 (base 10)\n</code></pre></li>\n<li><p>b = 2</p>\n\n<pre><code>a[0] = 1 (base 10) = 0001 (base 2)\nb    = 2 (base 10) = 0010 (base 2)\n                   ---------------\na[0] | b           = 0011 (base 2) = 3 (base 10)\n</code></pre></li>\n<li><p>b = 3</p>\n\n<pre><code>a[0] = 3 (base 10) = 0011 (base 2)\nb    = 3 (base 10) = 0011 (base 2)\n                   ---------------\na[0] | b           = 0011 (base 2) = 3 (base 10)\n</code></pre></li>\n<li><p>b = 4</p>\n\n<pre><code>a[0] = 3 (base 10) = 0011 (base 2)\nb    = 4 (base 10) = 0100 (base 2)\n                   ---------------\na[0] | b           = 0111 (base 2) = 7 (base 10)\n</code></pre></li>\n<li><p>b = 5</p>\n\n<pre><code>a[0] = 7 (base 10) = 0111 (base 2)\nb    = 5 (base 10) = 0101 (base 2)\n                   ---------------\na[0] | b           = 0111 (base 2) = 7 (base 10)\n</code></pre></li>\n<li><p>b = 6</p>\n\n<pre><code>a[0] = 7 (base 10) = 0111 (base 2)\nb    = 6 (base 10) = 0110 (base 2)\n                   ---------------\na[0] | b           = 0111 (base 2) = 7 (base 10)\n</code></pre></li>\n<li><p>b = 7</p>\n\n<pre><code>a[0] = 7 (base 10) = 0111 (base 2)\nb    = 7 (base 10) = 0111 (base 2)\n                   ---------------\na[0] | b           = 0111 (base 2) = 7 (base 10)\n</code></pre></li>\n<li><p>b = 8</p>\n\n<pre><code>a[0] = 7 (base 10) = 0111 (base 2)\nb    = 8 (base 10) = 1000 (base 2)\n                   ---------------\na[0] | b           = 1111 (base 2) = 15 (base 10)\n</code></pre></li>\n<li><p>b = 9</p>\n\n<pre><code>a[0] = 15 (base 10) = 1111 (base 2)\nb    =  9 (base 10) = 1001 (base 2)\n                    ---------------\na[0] | b            = 1111 (base 2) = 15 (base 10)\n</code></pre></li>\n</ol>\n\n<p>At the end of the loop the value of <code>a[0]</code> is <code>15</code></p>\n",
                    "is_accepted": true,
                    "score": 65
                },
                {
                    "body": "<p>It works kind of like this if <code>b</code> is greater than <code>a</code>, <code>b</code> is added to <code>a</code>.</p>\n\n<p>What happens in reality is <code>a = a | b</code>, just as for other operators.\nThis means <code>a = a BITWISE OR b</code> which is explained <a href=\"http://stackoverflow.com/questions/9497845/generating-a-wanted-number-by-bitwise-or\">here</a>.</p>\n\n<p>For instance, this is the result of a few operations:</p>\n\n<pre><code>var a = 1;\na |= 2; // a = 3\na |= 2; // a = 3\na |= 4; // a = 7\n</code></pre>\n\n<p>I hope that helps.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Returns a one in each bit position for which the corresponding bits of either or both operands are ones. </p>\n\n<p>Code:\n    result = a | b;</p>\n\n<p><code>^</code> is the bitwise XOR operator, which returns a one for each position where one (not both) of the corresponding bits of its operands is a one. The next example returns 4 (0100): </p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I found the following code in a JS project:</p>\n\n<pre><code>var a = new Array();\na[0] = 0;\nfor (var b = 0; b &lt; 10; b++) {\n  a[0] |= b; \n}\n</code></pre>\n\n<p>What does the <code>|=</code> do in the body of the for loop?</p>\n\n<p>The code example is dubious, but has been presented <a href=\"http://www.html5rocks.com/en/tutorials/speed/v8/#toc-topic-numbers\">here</a> by V8 for an example of improved performance.</p>\n\n<p><strong>Updated Example</strong></p>\n\n<p>The above example is equivalent to <code>var a = [15];</code> for most intents and purposes.  A more realistic example for the <code>|=</code> operator would be to set up binary flags in a single variable, for example on a permission object:</p>\n\n<pre><code>//Set up permission masks\nvar PERMISSION_1_MASK = parseInt('0001',2);\nvar PERMISSION_2_MASK = parseInt('0010',2);\n..\n\n//Set up permissions\nuserPermissions = 0;\nuserPermissions |= hasPermissionOne &amp;&amp; PERMISSION_1_MASK;\nuserPermissions |= hasPermissionTwo &amp;&amp; PERMISSION_2_MASK;\n..\n\n//Use permissions\nif(userPermissions &amp; PERMISSION_1_MASK){\n    ..//Do stuff only allowed by permission 1\n}\n</code></pre>\n",
            "last_activity_date": 1350353843,
            "question_id": 12854644,
            "score": 27,
            "tags": [
                "javascript",
                "operator-keyword"
            ],
            "title": "What does the operator |= do in JavaScript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>It looks like the code at www.phoneformat.com combines everything necessary into a single .JS file: <a href=\"http://www.phoneformat.com/\">http://www.phoneformat.com/</a></p>\n\n<p>It seems this includes the Google boilerplate, the phone format database, and some helper functions.</p>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p>You can also use my lib.\n<a href=\"https://github.com/Gilshallem/phoneparser\" rel=\"nofollow\">https://github.com/Gilshallem/phoneparser</a></p>\n\n<p>Its only got one method but you can do a lot with it</p>\n\n<pre><code>parsePhone(\"12025550104\");\nresult: { countryCode:1, areaCode:202, number:5550104, countryISOCode:\"US\" }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I've got a <a href=\"https://github.com/Bluefieldscom/intl-tel-input/blob/master/lib/libphonenumber/build/utils.js\" rel=\"nofollow\">custom build</a> (currently 217KB) that I use for my <a href=\"https://github.com/Bluefieldscom/intl-tel-input\" rel=\"nofollow\">International Telephone Input</a> plugin, with plenty of helper functions exposed. Read <a href=\"https://github.com/Bluefieldscom/intl-tel-input/blob/master/lib/libphonenumber/src/utils.js\" rel=\"nofollow\">the source</a> for details.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am looking at using <a href=\"http://code.google.com/p/libphonenumber/\">http://code.google.com/p/libphonenumber/</a> for a well-established project. Today the project does not use Google's libraries for JavaScript, favoring jQuery, jQueryUI, requirejs, and so on.</p>\n\n<p>libphonenumber looks awesome ... except that the javascript version (svn co <a href=\"http://libphonenumber.googlecode.com/svn/trunk/javascript/\">http://libphonenumber.googlecode.com/svn/trunk/javascript/</a> libphonenumber-js) is laced with goog.require calls. If one runs the demo (libphonenumber-js/i18n/phonenumbers/demo.html if you checked out as suggested) it pulls in tons of google libraries from closure-library.googlecode.com :</p>\n\n<pre><code>GET base.js\nGET deps.js\nGET error.js\nGET string.js\nGET asserts.js\nGET array.js\nGET useragent.js\nGET browserfeature.js\nGET tagname.js\nGET classes.js\nGET math.js\nGET coordinate.js\nGET size.js\nGET object.js\nGET dom.js\nGET json.js\nGET util.js\nGET descriptor.js\nGET fielddescriptor.js\nGET message.js\nGET serializer.js\nGET objectserializer.js\nGET stringbuffer.js\nGET lazydeserializer.js\nGET pbliteserializer.js\n</code></pre>\n\n<p>I believe if I compile this using the closure compiler (\"If you give the use_closure_library parameter a value of true, the compiler looks for goog.require() statements in the source code and supplies the Closure Library code requested by any such statements.\", <a href=\"https://developers.google.com/closure/compiler/docs/api-ref\">https://developers.google.com/closure/compiler/docs/api-ref</a>) I can cut down the raw number of requests, but this still seems like a rather excessive amount of content for a phone number parser, even a full-featured one.</p>\n\n<p>My question has two possible answers:</p>\n\n<ol>\n<li>A way to use libphonenumber in JavaScript without having to pull in all the Google JavaScript base libraries</li>\n<li>An alternate standalone (as in doesn't have dozens of dependencies) first-class phone number processing library with both JavaScript and Java implementations </li>\n</ol>\n\n<p>Any and all suggestions most appreciated.</p>\n",
            "last_activity_date": 1411883458,
            "question_id": 11528017,
            "score": 27,
            "tags": [
                "javascript",
                "phone-number",
                "libphonenumber"
            ],
            "title": "libphonenumber standalone (without masses of google dependencies)? Alternate lib?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Actually in my version of Firefox (3.5 on Linux), if I type \"#%C3%BC\" as a hash in the URL, the URL itself actually <em>transforms</em> to unicode with \"#\u00fc\". But you have appeared to answered your own question -- in Firefox, the browser transforms entity escape codes in the URL, while in IE, it does not.</p>\n\n<p>My advice is actually this: Instead of putting \"#%C3%BC\" in the URL at all, just use full unicode in your hashes and URLs. Is that an option? It should work fine in any modern browser.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>You can use <a href=\"https://developer.mozilla.org/en/Core%5FJavaScript%5F1.5%5FReference/Global%5FFunctions/decodeURIComponent\" rel=\"nofollow\"><code>decodeURIComponent</code></a>, it will return <code>#\u00fc</code> in all cases:</p>\n\n<pre><code>decodeURIComponent('#%C3%BC'); // #\u00fc\ndecodeURIComponent('#\u00fc'); // #\u00fc\n</code></pre>\n\n<p>Try it out <a href=\"http://jsbin.com/awile#%C3%BC\" rel=\"nofollow\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Answering to my own question, my current solution is to parse <code>window.location.href</code> instead of using <code>window.location.hash</code>, because the former is always (i.e. in every browser) url-encoded. Therefore the <code>decodeURIComponent</code> function <em>CMS</em> proposed can always be used safely. <em>YUI</em> does the same, therefore it can't be that wrong...</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Unfortunately, this is a bug in Firefox as it decodes <code>location.hash</code> an extra time when it is accessed. For example, try this in Firefox:</p>\n\n<pre><code>location.hash = \"#%30\";\nlocation.hash === \"#0\"; // This is wrong, it should be \"#%30\"\n</code></pre>\n\n<p>The only cross-browser solution is to just use <code>(location.href.split(\"#\")[1] || \"\")</code> instead for getting the hash. Setting the hash using <code>location.hash</code> seems to work correctly for all browsers that support <code>location.hash</code> though.</p>\n",
                    "is_accepted": true,
                    "score": 28
                }
            ],
            "body": "<p>Does <code>window.location.hash</code> contain the encoded or decoded representation of the url part?</p>\n\n<p>When I open the same url (<code>http://localhost/something/#%C3%BC</code> where <code>%C3%BC</code>translates to <code>\u00fc</code>) in Firefox 3.5 and Internet Explorer 8, I get different values for <code>document.location.hash</code>:</p>\n\n<ul>\n<li>IE8: <code>#%C3%BC</code></li>\n<li>FF3.5: <code>#\u00fc</code></li>\n</ul>\n\n<p>Is there a way to get one variant in both browsers?</p>\n",
            "last_activity_date": 1280227986,
            "question_id": 1703552,
            "score": 27,
            "tags": [
                "javascript",
                "html",
                "url",
                "encoding",
                "fragment-identifier"
            ],
            "title": "Encoding of window.location.hash"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>The question is... Why are you moving away from MooTools is it fits your needs? Seems to me like MooTools was working fine, and there is nothing jQuery does that MooTools can't do. (The opposite isn't true).</p>\n\n<p>Unfortunately, jQuery is not built to support classical OOP as MooTools is so you will need to write your Classes as jQuery plugins.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Plugins sometimes do the trick.</p>\n\n<p>Of course, you could use just enough of mootools to get it's class/inheritance model.  With the implementation of <code>document.id</code> \"compatibility mode\" in 1.2.3 you can have your cake and eat it too (I think--haven't done it myself.)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You might find this approach useful to the task at stake: <a href=\"http://blog.virgentech.com/2009/06/building-object-oriented-jquery-plugin.html\">building an object-oriented jquery plugin.</a></p>\n\n<p>And this article on Ajaxian \"<a href=\"http://ajaxian.com/archives/jquery-class\">a real OO class system with jquery</a>\".</p>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>Hm... interesting. We have jQuery which imho is a great tool to interact with the DOM. It's a selection tool where you can write your own code (plugins) to modify selected items. You can interact here with your own (object oriented) code in a plugin to do something really cool.</p>\n\n<p>So why would you need extra OO capabilities in jQuery unless you want to be able to inherit from other jQuery plugins?</p>\n\n<p>Because you might have a plugin that allows you to do the following: </p>\n\n<pre><code>$(\".spiffyness\").yourSpiffyficationPlugin1();\n</code></pre>\n\n<p>And, while doing some really cool awesomeness already, you need more spiffyness on top of this.</p>\n\n<p>Therefore you want to inherit from your first plugin which results in:</p>\n\n<pre><code>$(\".spiffyness\").yourSpiffyficationPlugin2(); //plugin inherited from 1\n</code></pre>\n\n<p>But... wouldn't you get there too by doing this:</p>\n\n<pre><code>$(\".spiffyness\").yourSpiffyficationPlugin1().yourSpiffyficationPlugin2();\n</code></pre>\n\n<p>Where the second plugin just does this tiny (but awesome ;)) thing extra on top of the first one?</p>\n\n<p>In other words: is what you want, worth the effort for the sake of OO purism? Or is the jQuery pipe mechanism good enough and maybe everything you need?</p>\n\n<p>I would say that separation of responsibilities and/or your mootools mindset might be the real issue here. Let jQuery do what it is good at, use it's powerfull pipe mechanism, pipe your own plugins (which may contain tons of fancy OO stuff)... and you can have great results while your code is still clean.</p>\n\n<p>If you do think I am thinking too simple here, a good example of the essence of your point would be welcome! :-)</p>\n\n<p>And to be ahead of that, if you are doing something really advanced and you do not get away with simply doing something on top of something else, you're plugin could also delegate to one of your OO classes. E.g. like:</p>\n\n<pre><code>$.fn.totalAwesomeness = function(options) {\n  var defaults = {\n    mode: 1,\n    title: 'Awesome'\n  };\n  var opts = $.extend(defaults, options);\n  return this.each(function() {\n    var $this = $(this);\n    var handler = null;\n    if(defaults.mode == 1)\n       handler = new com.myStuff.class1($this);\n    else if(defaults.mode == 2)\n   handler = new com.myStuff.class2($this); //class2 inherits from class1 \n    handler.doMagic();\n  });\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can always also use moo4q - <a href=\"http://moo4q.com/\" rel=\"nofollow\">http://moo4q.com/</a> .  It adds MooTools class support to jQuery.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I wrote an article some time ago about jQuery object oriented plugins, hope it will be helpful </p>\n\n<p><a href=\"http://ajax911.com/jquery-object-oriented-plugins/\" rel=\"nofollow\">http://ajax911.com/jquery-object-oriented-plugins/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There are third party javascript class implementations that provide very powerful introspection capabilites. I would like to particularly highlight <a href=\"http://jsclass.jcoglan.com\" rel=\"nofollow\">JS.Class</a> and <a href=\"http://joose.it\" rel=\"nofollow\">Joose</a>.\nWhile JS.Class is modeled after Ruby, Joose is modeled after Moose. \nI am not a mootools user so I can not comment on their advantages/disadvantages with respect to mootools. But I would summarize their key features. </p>\n\n<p>JS.Class has a strong focus on simulating the Object oriented features of Ruby and does a pretty good job at that. It provides a powerful library modeled after the standard library of Ruby and also comes with a well integrated package management and testing framework. </p>\n\n<p>Joose, while provides no testing framework/package management facilites, excels in terms of \nadvanced attribute management facilities, filters and better introspection facilities.</p>\n\n<p>Both of them have really good documentation and can be used in browser as well as server.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I've just finished a very first release of my mini project: <a href=\"https://github.com/op1ekun/plOOgins\" rel=\"nofollow\">https://github.com/op1ekun/plOOgins</a>. It's all about writing OOP code to be used as Jquery plugins. It's not rocket science just a little something that we wanted to use at my workplace. Maybe it will help You a bit. Good luck!</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm working on a site and using JQuery for essentially the first time.  I've mostly used MooTools for previous projects, and I have a few widget classes I've written using the <a href=\"http://mootools.net/docs/core/Class/Class\">MooTools Class</a> structure.  I'd like to port them over to JQuery, but it looks to me like there is nothing similar to the MooTools functionality when it comes to object classes.</p>\n\n<p>I've searched around a bit, and haven't found much on it.  Digg appears to have <a href=\"http://code.google.com/p/digg/wiki/Class\">rolled their own</a>, but I'm not sure if this is something I should be using.  Is there a better way?  How object-oriented do people normally get with JQuery?  What's the usual method of encapsulating a UI widget (or any functional class structure)?</p>\n\n<p>I'll post a fake example of a possible MooTools widget class:</p>\n\n<pre><code>var ZombatWidget = new Class({\n    Extends: BaseWidget,\n    widgetPropertyX = 'prop1',\n    widgetPropertyY = 'prop2',\n    attach = function(el) {\n        var f = function() { \n            //do something widgety\n        };\n        el.addEvent('dblclick',f);\n        el.addClass('widgetized');\n    }\n});\n\nvar z = new ZombatWidget();\nz.attach($('widgetDiv'));\n</code></pre>\n\n<p>What I've got is a lot bigger than that, but you get the idea.  Do I need to convert this to the <code>prototype</code> method of class/inheritance structuring?  How would you write this kind of object class using JQuery?</p>\n",
            "last_activity_date": 1356809741,
            "question_id": 1250683,
            "score": 27,
            "tags": [
                "javascript",
                "jquery",
                "oop",
                "mootools"
            ],
            "title": "OO JQuery and classes"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>I've searched around a bit and kinda found out that you should re-set your value into the desired field after it is focussed on.</p>\n",
                    "is_accepted": true,
                    "score": 25
                },
                {
                    "body": "<p>How about something like this where you set the value of the input field to itself after focusing it?</p>\n\n<pre><code>$(\"#myinputfield\").focus().val($(\"#myinputfield\").val());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>Have you tried this?</p>\n\n<pre><code>var txt = $(\"#myinputfield\").val();\n$(\"#myinputfield\").focus();\n$(\"#myinputfield\").val( txt );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Other answers suggest setting the value of the input field to itself after focusing it. If in Firefox, the cursor appears at the start of the input and you want it at the end, then a slight modification is required. You will have to set the value as empty first and then set it to the previous value.</p>\n\n<pre><code>var value = $(\"#myinputfield\").val();\n$(\"#myinputfield\").focus().val('').val(value);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>function focusField(id){\n    var inputField = document.getElementById(id);\n    if (inputField != null &amp;&amp; inputField.value.length != 0){\n        if (inputField.createTextRange){\n            var FieldRange = inputField.createTextRange();\n            FieldRange.moveStart('character',inputField.value.length);\n            FieldRange.collapse();\n            FieldRange.select();\n        }else if (inputField.selectionStart || inputField.selectionStart == '0') {\n            var elemLen = inputField.value.length;\n            inputField.selectionStart = elemLen;\n            inputField.selectionEnd = elemLen;\n            inputField.focus();\n        }\n    }else{\n        inputField.focus();\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>$(document).ready(function() {\n    var $field = $(\"#formloginusername\"),\n        oldVal = $field.val();\n    $field.focus().val('').val(oldVal);\n});\n</code></pre>\n\n<p>DEMO: <a href=\"http://jsfiddle.net/X7Y8S/\" rel=\"nofollow\">http://jsfiddle.net/X7Y8S/</a></p>\n\n<p>i took the code &amp; demo from ahren's answer in other topic, i think it's helpful.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<pre><code>$(\"#myinputfield\").focus();\n</code></pre>\n\n<p>Doing that on an input field with it's value already set causes the current value to be selected. How can I focus the field without selecting the text?</p>\n",
            "last_activity_date": 1394571727,
            "question_id": 1756926,
            "score": 26,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "forms"
            ],
            "title": "Focus input field with JQuery without selecting current value text"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I had a similar issue once. A full error page was returned instead of a simple HTML snippet. We eventually fixed this by changing the logic, but here is one of the solutions I found:</p>\n\n<pre><code>document.open();\ndocument.write(responseText);\ndocument.close();\n</code></pre>\n\n<p>The reason we abandoned this is that on IE there were some problems. I didn't loose any time to investigate why, but it threw an 'Access denied' exception when attempting to write the string. I think there were some <code>&lt;meta&gt;</code> tags that confused IE, or maybe conditional comments, I'm not sure. (It worked when I used some simple pages...)</p>\n\n<p>Bottom line is: you shouldn't have to do this, but if there is nothing else you can do (like returning an url string) the code above might work. </p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Quite frankly, I think that approach is basically broken by design. You shouldn't have to make that decision at that place. For example, the ajax response could only signal that a whole new page should be loaded and the new content then be generated on a second (non-ajax) request to a new URL.</p>\n\n<p>In case you're forced to take the way you already go, and provided the response content is not very large, you could try Javascript-URIs. Basically, an URI in the form of <code>javascript:\"string\"</code> will load a new page which that string is the source code for. So, if <code>response</code> already is a string, just assigning <code>javascript:response</code> to <code>window.location.href</code> should suffice. Maybe you have to do some escaping beforehand. And I don't know, how cross-browser-compatible this approach is.</p>\n\n<pre><code>&lt;a href=\"javascript:response\"&gt;load&lt;/a&gt;\n</code></pre>\n\n<p>is also possible.</p>\n\n<p>A variant of this is building the URL not with the variable name, but with the actual string data. Like</p>\n\n<pre><code>function source2url(src) {\n    // make valid javascript string from source text\n    var esc1 = src\n        .replace(/\\\\/g, '\\\\\\\\')\n        .replace(/\\'/g, '\\\\\\'')\n        .replace(/\\x0A/g, '\\\\x0A')\n        .replace(/\\x0D/g, '\\\\x0D');\n\n    // make valid url from that\n    return \"javascript:'\" + encodeURIComponent(esc1) + \"'\";\n}\n\nwindow.location.href = source2url(response);\n</code></pre>\n\n<p>This will, of course, generate pretty large URIs. And you'll always have the Javascript-URI in the address bar.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>A similar approach is to use base64 encoding in a data URI. The <a href=\"http://en.wikipedia.org/wiki/Data_URI_scheme\">Wikipedia entry</a> explains how it works, including a javascript example. However, you'd have to <a href=\"http://stackoverflow.com/questions/246801/how-can-you-encode-to-base64-using-javascript\">base64-encode</a> the content somehow. (Note: You can use data URIs with or without the base64 encoding. You have to see what gives you shorter URIs for your specific content.)</p>\n",
                    "is_accepted": false,
                    "score": 27
                },
                {
                    "body": "<p>It's really easy if the response is valid XML.</p>\n\n<pre><code>var new_doc = (new DOMParser).parseFromString(response, \"application/xml\");\ndocument.replaceChild(document.adoptNode(new_doc.doctype), document.doctype);\ndocument.replaceChild(document.adoptNode(new_doc.documentElement), document.documentElement);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Since the request is for an updated answer, here's my solution using HTML5's <a href=\"http://www.w3.org/TR/html5/history.html\" rel=\"nofollow\">History API</a> with <a href=\"http://www.jquery.com\" rel=\"nofollow\">jQuery</a>. It should run easily by combining the PHP and HTML parts into one file.</p>\n\n<p>My solution allows for AJAX to return the following:</p>\n\n<ol>\n<li>A message through AJAX, which updates a <code>&lt;div&gt;</code> container.</li>\n<li>A URL, which causes the browser to redirect to the URL</li>\n<li>A complete HTML page, which calls the History API's <code>history.pushState()</code> to add the current URL to the browser's history and replaces the entire HTML on the page with the HTML returned from AJAX.</li>\n</ol>\n\n<h1>PHP</h1>\n\n<p>This is just a sample of what the PHP script will need to return when it is invoked via AJAX. It shows how to encode flags to determine whether the AJAX call should update the container or load a new page, and how to return its result via JSON through <a href=\"http://php.net/json_encode\" rel=\"nofollow\">json_encode</a>. For completeness, I named this script <strong><em>test.php</em></strong>.</p>\n\n<pre><code>&lt;?php\n// Random messages to return\n$messages = array(\n    'Stack Overflow',\n    'Error Message',\n    'Testing'\n);\n\n// If the page was requested via AJAX\nif( isset( $_POST['ajax']))\n{\n    $response = array(\n        'redirect' =&gt; // Flag to redirect\n            ( rand() % 2 == 0) ? true : false, \n        'load_html' =&gt; // Flag to load HTML or do URL redirect\n            ( rand() % 2 == 0) ? true : false,\n        'html' =&gt; // Returned HTML\n            '&lt;html&gt;&lt;head&gt;&lt;title&gt;AJAX Loaded Title&lt;/title&gt;&lt;/head&gt;&lt;body&gt;It works!&lt;/body&gt;&lt;/html&gt;',\n        'title' =&gt; 'History API previous title',\n        'message' =&gt; // Random message\n            $messages[ (rand() % count( $messages)) ]\n    );\n    echo json_encode( $response);\n    exit;\n}\n</code></pre>\n\n<h2>JS</h2>\n\n<p>Since I am using jQuery, lets start with that. The following submits an AJAX POST to the server, to the above PHP script at URL <strong><em>test.php</em></strong>. Note that it also sets the POST parameter <code>ajax</code> to be <code>true</code>, enabling the PHP script to detect that it received an AJAX request. The <code>dataType</code> field tells jQuery that the server's response will be in JSON, and that it should decode that JSON to a JSON object in the response callback. Finally, the <code>success</code> callback, which is fired when the AJAX response is successfully received, determines what to do based on the flags sent from the server.</p>\n\n<pre><code>$.ajax({\n    type: 'POST',\n    url: \"/test.php\",\n    data: {ajax : true},\n    dataType: \"json\",\n    success: function( json) {\n        if( json.redirect) {\n            if( json.load_html) {   \n                // If the History API is available  \n                if( !(typeof history.pushState === 'undefined')) {\n                    history.pushState( \n                        { url: redirect_url, title: document.title}, \n                        document.title, // Can also use json.title to set previous page title on server\n                        redirect_url\n                    );\n                }\n                // Output the HTML\n                document.open();\n                document.write( json.html);\n                document.close();\n            }\n            else {\n                window.location = redirect_url;\n            }\n        }\n        else {\n            $('#message').html( json.message);\n        }\n    },\n});\n</code></pre>\n\n<h2>HTML</h2>\n\n<p>Here is the complete HTML source of my tested file. I tested it in FF4 - FF8. Note that jQuery provides the <code>ready</code> method to prevent the JS from executing until the DOM is loaded. I've also used Google's hosting of jQuery, so you do not need to upload a copy of jQuery to your server to test this.</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n    &lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;title&gt;Default Page&lt;/title&gt;\n\n    &lt;script type=\"text/javascript\"\"&gt;        \n        $( document).ready( function() {\n            $('#ajax_link').click(  function() {\n                var redirect_url = \"/test.php\";\n                $.ajax({\n                    type: 'POST',\n                    url: \"/test.php\",\n                    data: {ajax : true},\n                    dataType: \"json\",\n                    success: function( json) {\n                        if( json.redirect) {\n                            if( json.load_html) {   \n                                // If the History API is available  \n                                if( !(typeof history.pushState === 'undefined')) {\n                                    history.pushState( \n                                        { url: redirect_url, title: document.title}, \n                                        document.title, // Can also use json.title to set previous page title on server\n                                        redirect_url\n                                    );\n                                }\n                                document.open();\n                                document.write( json.html);\n                                document.close();\n                            }\n                            else {\n                                window.location = redirect_url;\n                            }\n                        }\n                        else {\n                            $('#message').html( json.message);\n                        }\n                    },\n                });\n            })\n        });\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div id=\"message\"&gt;The default contents of the message&lt;/div&gt;\n    &lt;a id=\"ajax_link\" href=\"#\"&gt;Fire AJAX&lt;/a&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>as T-Bull say... the whole process is wrong here....</p>\n\n<p>you simply are over-complicating things and you know that infact:</p>\n\n<blockquote>\n  <p>I understand that the server can return a link instead of a page, but\n  in this case one additional stage will be needed on a client -\n  redirect and then populating the new page on the server.</p>\n</blockquote>\n\n<p>stop complicating and start do it well...</p>\n\n<ol>\n<li>Client open the page first time, so, track it <code>$_SESSION['tmp_client_id'] = 'client_'.session_id();</code> obviously is better if the client is already subscribed, anyway, put stuff in temp table OR into another session var etc... </li>\n<li>Client fill in the form;</li>\n<li>Client submit the form;</li>\n<li>Make the AJAX request;</li>\n<li>Store <code>$_POST</code> variable inside <code>tmp_client_tbl</code> with it's unique <code>tmp_client_id</code> OR just <code>$_SESSION['client_'.session_id()] = json_encode($_POST);</code></li>\n<li>Outcome #1 ? display message in a <code>&lt;/div&gt;</code></li>\n<li>Outcome #2 ? refresh page and check <code>if( isset($_SESSION['client_'.session_id()])) {</code> if so let's display the form again with filled fields: <code>} else {</code> display empty form;</li>\n<li><code>SELECT * FROM tmp_client_tbl WHERE tmp_client_id = '{$_SESSION['tmp_client_id']}'</code> OR <code>json_decode($_SESSION['client_'.session_id()]);</code></li>\n<li><code>$form_data = $mysql_rows;</code> OR <code>$json_array;</code></li>\n<li><code>foreach($form_data as $name =&gt; $value) { echo \"&lt;input name='$name' value='$value' /&gt;\"  }</code> in a ninja way that assume you have such kind of form builder array where <code>$form = array('text' =&gt; array('name','lastname'), 'select' =&gt; array('countries'), ... )</code>, OR simply by <code>&lt;input name='lastname' value='{$lastname}' /&gt;</code> where the fields values are pre-polutated with empty vars;</li>\n<li>time elapsed, error occurred, browser closed? <code>session_destroy();</code> or <code>unset($_SESSION['client_'.session_id()]);</code></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have an AJAX request that can have two possible outcomes:</p>\n\n<ol>\n<li>The server responds with a message which I should place in a <code>&lt;div&gt;</code></li>\n<li>The server responds with an HTML page, in this case I need to substitute current page with a new one and change the address (the client knows the address before a request). </li>\n</ol>\n\n<p>What would be the solution if I have the AJAX request that needs to handle both of these cases?</p>\n\n<pre><code> url = \"http://example.com\"\n ajax.request(callback)\n\n function callback(response) {\n     if (case2(response)) {\n           history.pushState({}, \"New page\", url);\n           document.innerHTML = response\n     } else {\n            updateDiv(response)\n     }\n }\n</code></pre>\n\n<p>I'm interested in a correct way to implement the first branch, or if the server can somehow compose a headers that will make browser to handle a response as a usual HTTP response and update a page location and content, something like redirect with given content. </p>\n\n<p>I understand that the server can return a link instead of a page, but in this case one additional stage will be needed on a client - redirect and then populating the new page on the server.</p>\n",
            "last_activity_date": 1323279949,
            "question_id": 5941933,
            "score": 25,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "ajax",
                "http"
            ],
            "title": "Update whole page on Ajax request"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>I personally prefer</p>\n\n<p><code>typeof callback === 'function' &amp;&amp; callback();</code></p>\n\n<p>The <code>typeof</code> command is dodgy however and should only be used for <code>\"undefined\"</code> and <code>\"function\"</code></p>\n\n<p>The problems with the <code>typeof !== undefined</code> is that the user might pass in a value that is defined and <em>not a function</em></p>\n",
                    "is_accepted": true,
                    "score": 35
                },
                {
                    "body": "<p>You can also do:</p>\n\n<pre><code>var noop = function(){}; // do nothing.\n\nfunction save (callback){\n   callback = callback || noop;\n   .....do stuff......\n};\n</code></pre>\n\n<p>It's specially useful if you happen to use the <code>callback</code> in a few places. </p>\n\n<p>Additionally if you are using <code>jQuery</code>, you already have a function like that, it's called <a href=\"http://api.jquery.com/jQuery.noop/\">$.noop</a></p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>If the criteria for running the callback is that whether its defined or not, then you're fine. Also, I suggest to check if its really a function in addition.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I got so tired of seeing that same snippet over and over I wrote this:</p>\n\n<pre><code>  var cb = function(g) {\n    if (g) {\n      var args = Array.prototype.slice.call(arguments); \n      args.shift(); \n      g.apply(null, args); \n    }\n  };\n</code></pre>\n\n<p>I've got hundred of functions doing things like</p>\n\n<pre><code>  cb(callback, { error : null }, [0, 3, 5], true);\n</code></pre>\n\n<p>or whatever...</p>\n\n<p>I'm skeptical of the whole \"make sure it's function\" strategy.  The only legitimate values are a function or falsy.  If someone passes in a non-zero number or a non-empty string, what are you going to do?  How does ignoring the problem solve it?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I have sinced moved to coffee-script and found default arguments is a nice way to solve this problem</p>\n\n<pre><code>doSomething = (arg1, arg2, callback = ()-&gt;)-&gt;\n    callback()\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It can easilly be done with <a href=\"https://github.com/zvictor/ArgueJs\" rel=\"nofollow\">ArgueJS</a>:</p>\n\n<pre><code>function save (){\n  arguments = __({callback: [Function]})\n.....do stuff......\n  if(arguments.callback){\n    callback();\n  };\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Simply do</p>\n\n<pre><code>if (callback) callback();\n</code></pre>\n\n<p>I prefer to call the callback if supplied, no matter what type it is. Don't let it fail silently, so the implementor knows he passed in an incorrect argument and can fix it.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>A valid function is based on the Function prototype, use:</p>\n\n<p><strong>if(callback instanceof Function)</strong> </p>\n\n<p>to be sure the callback is a function</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have some functions which I will want to ocasionally run a callback in but not always, is checking if the callback is defined/function a good style or is there a better way?</p>\n\n<p>example:</p>\n\n<pre><code>function save (callback){\n.....do stuff......\n   if(typeof callback !== 'undefined'){\n     callback();\n   };\n};\n</code></pre>\n",
            "last_activity_date": 1419619010,
            "question_id": 6792663,
            "score": 24,
            "tags": [
                "javascript",
                "coding-style",
                "callback"
            ],
            "title": "JavaScript Style : optional callbacks"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Nice code.<br>\n<b>EDIT:</b> (removed suggestion about adding <code>return false;</code>)<br></p>\n\n<p>Try setting a check within your <code>setTimeout</code> functions in stead of just clearing the Timeouts. (I find that clearing is much more effective for intervals in stead of simple 1-time setTimeout calls). Also, I would check to make sure the user isn't on a desktop browser before trying a native app protocol like my <code>app://</code> or <code>fb://</code> as those browsers will try to follow that location and end up displaying an error.</p>\n\n<p>Try:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Redirect Test&lt;/title&gt;\n    &lt;script type='text/javascript' src='//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js'&gt;&lt;/script&gt;\n    &lt;meta name='viewport' content='initial-scale = 1.0,maximum-scale = 1.0' /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;button&gt;Open Oreo&lt;/button&gt;\n&lt;script type='text/javascript'&gt;\nvar mobileExp = /android|avantgo|blackberry|blazer|compal|elaine|fennec|hiptop|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile|o2|opera mini|palm( os)?|plucker|pocket|pre\\/|psp|smartphone|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce; (iemobile|ppc)|xiino/i;\n\njQuery(function(){\n    jQuery( 'button' ).on( 'click', function(){\n\n        // Don't give desktop browsers a chance to fail on a nativeapp:// protocol\n        if(!mobileExp.test(navigator.userAgent)) {\n            window.location = \"https://www.facebook.com/oreo\";\n            return;\n        }\n\n        var clicked = +new Date, timeout = 100;\n\n        window.location = \"myapp://fbprofile/oreo\";\n\n        setTimeout(function(){\n            // If we're still here after a (timeout), try native facebook app\n            if (+new Date - clicked &lt; timeout*2){\n                console.log('clicked '+ (+new Date - clicked) +' ago- go to FB');\n                window.location = \"fb://profile/oreo\";\n            } else {\n                console.log('too late for facebook');\n            }\n            setTimeout(function(){\n                // If we're still here after another (timeout), try facebook web app\n                if (+new Date - clicked &lt; timeout*2){\n                    console.log('clicked '+ (+new Date - clicked) +' ago- go to browser');\n                    window.location = \"https://www.facebook.com/oreo\";\n                } else {\n                    console.log('too late for browser');\n                }\n            }, timeout);\n        }, timeout);\n    });\n});\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Of course, un-comment the console logs and do some experimenting with the value of <code>timeout</code>. This exact code tested successfully in IOS 6.1 Safari and Safari 6.0.2 Mac. Hope it helps!</p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I am looking for an event on mobile safari that will detect when the page has been hidden due to a redirect. I want to open my app directly if a user has it installed, then attempt facebook if it is installed, and if not then go to the webpage for that id.</p>\n\n<ol>\n<li>If 'myapp' is installed, then myapp is opened. But the safari tab still gets redirected to facebook.com</li>\n<li>If 'myapp' is not installed, but facebook is, then facebook ios app is opened. But the safari tab still gets redirected to facebook.com</li>\n</ol>\n\n<p>I've created a <a href=\"http://www.codenothing.com/dev/stackoverflow/deep-link/\">test link</a> with the following HTML/JS:</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n            &lt;title&gt;Redirect Test&lt;/title&gt;\n            &lt;script type='text/javascript' src='//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js'&gt;&lt;/script&gt;\n            &lt;meta name='viewport' content='initial-scale = 1.0,maximum-scale = 1.0' /&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    &lt;button&gt;Open Oreo&lt;/button&gt;\n    &lt;script type='text/javascript'&gt;\n    jQuery(function(){\n            jQuery( 'button' ).on( 'click', function(){\n                    var myid = null, fbid = null;\n\n                    // Watch for page leave to kill timers\n                    jQuery( window ).on( 'pagehide pageshow blur unload', function(){\n                            if ( myid ) {\n                                    clearTimeout( myid );\n                            }\n                            if ( fbid ) {\n                                    clearTimeout( fbid );\n                            }\n                    });\n\n                    window.location = \"myapp://fbprofile/oreo\";\n                    var myid = setTimeout(function(){\n\n                            // My app doesn't exist on device, open facebook\n                            window.location = \"fb://profile/oreo\";\n                            fbid = setTimeout(function(){\n\n                                    // Facebook doesn't exist on device, open facebook mobile\n                                    window.location = \"https://www.facebook.com/oreo\";\n                            }, 100);\n                    }, 100);\n            });\n    });\n    &lt;/script&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1360341802,
            "question_id": 14715535,
            "score": 23,
            "tags": [
                "javascript",
                "ios",
                "safari",
                "mobile-safari",
                "deep-linking"
            ],
            "title": "Mobile Safari Page unload/hide/blur for Deep Linking"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I don't use <code>requirejs</code> so I'm not sure what that syntax looks like, but this is what I do to run code both within <code>node</code> and the <code>browser</code>:</p>\n\n<p>For imports, determine if we are running in node or the browser:</p>\n\n<pre><code>var root =  typeof exports !== \"undefined\" &amp;&amp; exports !== null ? exports : window;\n</code></pre>\n\n<p>Then we can grab any dependencies correctly (they will either be available already if in the browser or we use <code>require</code>):</p>\n\n<pre><code>var foo = root.foo;\nif (!foo &amp;&amp; (typeof require !== 'undefined')) {\n    foo = require('./foo');\n}\n\nvar Bar = function() {\n    // do something with foo\n}\n</code></pre>\n\n<p>And then any functionality that needs to be used by other files, we export it to root:</p>\n\n<pre><code>root.bar = Bar;\n</code></pre>\n\n<p>As for examples, <code>GitHub</code> is a great source.  Just go and check out the code for your favorite library to see how they did it :)  I used <code>mocha</code> to test a javascript library that can be used in both the browser and node.  The code is available at <a href=\"https://github.com/bunkat/later\" rel=\"nofollow\">https://github.com/bunkat/later</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The reason your test isn't running is because <code>src/utils.js</code> is not a valid Node.js library.</p>\n\n<p>According to the RequireJS documentation, in order to co-exist with Node.js and the CommonJS require standard, you need to <a href=\"http://requirejs.org/docs/node.html#nodeModules\">add a bit of boilerplate</a> to the top of your <code>src/utils.js</code> file so RequireJS's <code>define</code> function is loaded.</p>\n\n<p>However, since RequireJS was designed to be able to require \"classic\" web browser-oriented source code, I tend to use the following pattern with my Node.js libraries that I also want running in the browser:</p>\n\n<pre><code>if(typeof require != 'undefined') {\n    // Require server-side-specific modules\n}\n\n// Insert code here\n\nif(typeof module != 'undefined') {\n    module.exports = whateverImExporting;\n}\n</code></pre>\n\n<p>This has the advantage of not requiring an extra library for other Node.js users and generally works well with RequireJS on the client.</p>\n\n<p>Once you get your code running in Node.js, you can start testing. I personally still prefer expresso over mocha, even though its the successor test framework.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>The Mocha documentation is lacking on how to set this stuff up, and it's perplexing to figure out because of all the magic tricks it does under the hood.</p>\n\n<p>I found the keys to getting browser files using <em>require.js</em> to work in Mocha under Node: Mocha <em>has</em> to have the files added to its suites with <code>addFile</code>: </p>\n\n<pre><code>mocha.addFile('lib/tests/Main_spec_node');\n</code></pre>\n\n<p>And second, use <code>beforeEach</code> with the optional callback to load your modules asynchronously:</p>\n\n<pre><code>describe('Testing \"Other\"', function(done){\n    var Other;\n    beforeEach(function(done){\n        requirejs(['lib/Other'], function(_File){\n            Other = _File;\n            done(); // #1 Other Suite will run after this is called\n        });\n    });\n\n    describe('#1 Other Suite:', function(){\n        it('Other.test', function(){\n            chai.expect(Other.test).to.equal(true);\n        });\n    });\n});\n</code></pre>\n\n<p>I created a bootstrap for how to get this all working: <a href=\"https://github.com/clubajax/mocha-bootstrap\" rel=\"nofollow\">https://github.com/clubajax/mocha-bootstrap</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I am trying to understand how to develop stand-alone Javascript code.  I want to write Javscript code with tests and modules, running from the command line.  So I have installed <code>node.js</code> and <code>npm</code> along with the libraries <code>requirejs</code>, <code>underscore</code>, and <code>mocha</code>.</p>\n\n<p>My directory structure looks like this:</p>\n\n<pre><code>&gt; tree .\n.\n\u251c\u2500\u2500 node_modules\n\u251c\u2500\u2500 src\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 utils.js\n\u2514\u2500\u2500 test\n    \u2514\u2500\u2500 utils.js\n</code></pre>\n\n<p>where <code>src/utils.js</code> is a little module that I am writing, with the following code:</p>\n\n<pre><code>&gt; cat src/utils.js \ndefine(['underscore'], function () {\n\n    \"use strict\";\n\n    if ('function' !== typeof Object.beget) {\n        Object.beget = function (o) {\n            var f = function () {\n            };\n            f.prototype = o;\n            return new f();\n        };\n    }\n\n});\n</code></pre>\n\n<p>and <code>test/utils.js</code> is the test:</p>\n\n<pre><code>&gt; cat test/utils.js \nvar requirejs = require('requirejs');\nrequirejs.config({nodeRequire: require});\n\nrequirejs(['../src/utils'], function(utils) {\n\n    suite('utils', function() {\n        test('should always work', function() {\n            assert.equal(1, 1);\n        })\n    })\n\n});\n</code></pre>\n\n<p>which I then try to run from the top level directory (so <code>mocha</code> sees the <code>test</code> directory):</p>\n\n<pre><code>&gt; mocha\n\nnode.js:201\n        throw e; // process.nextTick error, or 'error' event on first tick\n              ^\nError: Calling node's require(\"../src/utils\") failed with error: ReferenceError: define is not defined\n    at /.../node_modules/requirejs/bin/r.js:2276:27\n    at Function.execCb (/.../node_modules/requirejs/bin/r.js:1872:25)\n    at execManager (/.../node_modules/requirejs/bin/r.js:541:31)\n    ...\n</code></pre>\n\n<p>So my questions are:</p>\n\n<ul>\n<li>Is this the correct way to structure code?</li>\n<li>Why is my test not running?</li>\n<li>What is the best way to learn this kind of thing?  I am having a hard time finding good examples with Google.</li>\n</ul>\n\n<p>Thanks...</p>\n\n<p>[sorry - momentarily posted results from wrong code; fixed now]</p>\n\n<p>PS I am using requirejs because I also want to run this code (or some of it) from a browser, later.</p>\n\n<p><strong>Update / Solution</strong></p>\n\n<p>Something that is not in the answers below is that I needed to use <code>mocha -u tdd</code> for the test style above.  Here is the final test (which also requires assert) and its use:</p>\n\n<pre><code>&gt; cat test/utils.js \n\nvar requirejs = require('requirejs');\nrequirejs.config({nodeRequire: require});\n\nrequirejs(['../src/utils', 'assert'], function(utils, assert) {\n\n    suite('utils', function() {\n        test('should always work', function() {\n            assert.equal(1, 1);\n        })\n    })\n\n});\n&gt; mocha -u tdd\n\n  .\n\n  \u2714 1 tests complete (1ms)\n</code></pre>\n",
            "last_activity_date": 1363543893,
            "question_id": 9303945,
            "score": 23,
            "tags": [
                "javascript",
                "node.js",
                "npm",
                "requirejs",
                "mocha"
            ],
            "title": "Why do I see &quot;define not defined&quot; when running a Mocha test with RequireJS?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>JavaScript has a native history object.</p>\n\n<pre><code>window.history\n</code></pre>\n\n<p>Check the MDN for more info; <a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.history?redirectlocale=en-US&amp;redirectslug=window.history\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/DOM/window.history?redirectlocale=en-US&amp;redirectslug=window.history</a></p>\n\n<p>Not sure how good it's on multi-browser support tho.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Seems what I've called above is only for Gecko-type browsers.</p>\n\n<p>For other browsers try to use <code>history.js</code>; <a href=\"https://github.com/browserstate/history.js\" rel=\"nofollow\">https://github.com/browserstate/history.js</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is a solution with Angular. </p>\n\n<pre><code>myApp.run(function($rootScope, $route, $location){\n   //Bind the `$locationChangeSuccess` event on the rootScope, so that we dont need to \n   //bind in induvidual controllers.\n\n   $rootScope.$on('$locationChangeSuccess', function() {\n        $rootScope.actualLocation = $location.path();\n    });        \n\n   $rootScope.$watch(function () {return $location.path()}, function (newLocation, oldLocation) {\n        if($rootScope.actualLocation === newLocation) {\n            alert('Why did you use history back?');\n        }\n    });\n});\n</code></pre>\n\n<p>I am using a run block to kickstart this. First I store the actual location in $rootScope.actualLocation, then I listen to $locationChangeSuccess and when it happens I update actualLocation with the new value.</p>\n\n<p>In the $rootScope I watch for changes in the location path and if the new location is equal to previousLocation is because the $locationChangeSuccess was not fired, meaning the user has used the history back.</p>\n\n<p>Here is the <a href=\"http://jsfiddle.net/FdFgN/2/\">fiddle</a>.</p>\n",
                    "is_accepted": true,
                    "score": 31
                },
                {
                    "body": "<p>when pressing back button, angular fires only <strong>$routeChangeStart</strong> event, <strong>$locationChangeStart</strong> not fired.</p>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>If you want more precise solution (detecting back and forward) I extended solution delivered by <a href=\"http://stackoverflow.com/users/736482/bertrand\">Bertrand</a>:</p>\n\n<pre><code>$rootScope.$on('$locationChangeSuccess', function() {\n    $rootScope.actualLocation = $location.path();\n});\n\n\n$rootScope.$watch(function () {return $location.path()}, function (newLocation, oldLocation) {\n\n    //true only for onPopState\n    if($rootScope.actualLocation === newLocation) {\n\n        var back,\n            historyState = $window.history.state;\n\n        back = !!(historyState &amp;&amp; historyState.position &lt;= $rootScope.stackPosition);\n\n        if (back) {\n            //back button\n            $rootScope.stackPosition--;\n        } else {\n            //forward button\n            $rootScope.stackPosition++;\n        }\n\n    } else {\n        //normal-way change of page (via link click)\n\n        if ($route.current) {\n\n            $window.history.replaceState({\n                position: $rootScope.stackPosition\n            });\n\n            $rootScope.stackPosition++;\n\n        }\n\n    }\n\n });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Is it possible to detect that a user entered a page through using the history back button in his browser? Preferably I want to detect this action using angular.js.</p>\n\n<p>I do not want to use angular routing. It should also work if a user submits a form and after a successful submit to the server and a re-direct, it should also be possible if the user goes back to the form using the back button of the browser.</p>\n",
            "last_activity_date": 1389943987,
            "question_id": 15813850,
            "score": 22,
            "tags": [
                "javascript",
                "jquery",
                "angularjs"
            ],
            "title": "Detect history back using angular"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Combining your scripts as much as possible is better in my opinion.  Some browsers have to pause rendering while executing script blocks.  Check out answer at: <a href=\"http://stackoverflow.com/questions/6327407/javascript-performance-multiple-script-blocks-vs-single-bigger-block#answer-6327722\">Javascript Performance: Multiple script blocks Vs single bigger block.</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>With <em>inline</em> script like what you quoted, there's unlikely to be <em>much</em> difference; however, every time the browser's HTML parser encounters a <code>script</code> tag, it:</p>\n\n<ul>\n<li>Comes to a screeching halt</li>\n<li>Builds up a string of the the text in the tag up until the first time it sees the string <code>\"&lt;/script&gt;\"</code></li>\n<li>Hands that text off to the JavaScript interpreter, listening for output the interpreter sends it when you do a  <code>document.write</code></li>\n<li>Waits for the interpreter to finish</li>\n<li>Inserts the accumulated output received into the parsing stream</li>\n<li>Continues its parsing</li>\n</ul>\n\n<p>So increasing the number of times this sequence has to occur can, in theory, increase your page load time. It also affects the degree to which the parser can \"look ahead\" in the token stream, which may make it less efficient.</p>\n\n<p>All of which sounds really dramatic, but you'd have to profile a real page in the various browsers you care about to determine whether it had a real-world impact.</p>\n\n<p>So in summary, combine them as much as you reasonably can. If you can't reasonably combine a couple, don't worry about it too much until/unless you see a real-world problem.</p>\n\n<p>The above is for inline script. Naturally, if you have several <code>script</code> tags referring to a bunch of external JavaScript files, you'll also have the issue that each of those files has to be downloaded, and initiating an HTTP request is an expensive thing (comparatively) and so it's best, in a big way, to combine those into a single file.</p>\n\n<p>Some other things to consider:</p>\n\n<ul>\n<li>Having lots of <code>script</code> tags scattered throughout your HTML may make it difficult to do maintenance on the script</li>\n<li>Separating your HTML and script into separate files helps you limit the degree to which they're coupled, again aiding maintenance</li>\n<li>Putting script in a separate file makes it possible to run that file through minifiers/compressors/packers, minimizing the size of your code and removing comments, thus leaving you free to comment in your source code knowing those comments will be private</li>\n<li>Putting your scripts into external files gives you the opportunity to keep things separated by functionality, and then combine them into a single file for the page (compressed/minified/packed) for efficient delivery to the browser</li>\n</ul>\n\n<p>More:</p>\n\n<ul>\n<li><a href=\"http://developer.yahoo.com/performance/rules.html\">YUI's \"Best Practices for Speeding Up your Web Site\"</a></li>\n<li><a href=\"http://code.google.com/speed/page-speed/docs/rules_intro.html\">Google's \"Web Performance Best Practices\"</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>Some argue that it's best practice is to combine all scripts in a single script block or a single script file, load only the javascript that is really needed and load it as late as possible to not slow down the rendering of html.</p>\n\n<p>Apart from that i am sure that using a single script block loads faster than using multiple script blocks since they have to be evaluated individually. However this difference might not be recognizable.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Up to this point all of the JavaScript Code was in one  tag, this does not need to be the case.</p>\n\n<p>You can have as many  tags as you would like in a document.</p>\n\n<p>The  tags are processed as they are encountered.</p>\n\n<p>Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Is there any difference (performance, best practices, etc) between using a single script tag with embedded code in it, or using multiple script tags with the same code spread all over the HTML?</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;script&gt;\n    foo();\n&lt;/script&gt;\n...\n&lt;script&gt;\n    bar();\n&lt;/script&gt;\n</code></pre>\n\n<p>versus:</p>\n\n<pre><code>&lt;script&gt;\n    foo();\n    bar();\n&lt;/script&gt;\n</code></pre>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1308834643,
            "question_id": 6451156,
            "score": 22,
            "tags": [
                "javascript",
                "html",
                "script-tag"
            ],
            "title": "multiple versus single script tags"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>In my case (Ubuntu 11.10) I open the System Monitor and kill manually the <code>node</code> and <code>mongod</code> processes.</p>\n\n<p>Of course you can use also the terminal and kill these processes knowing their PID's.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>On OSX, go back to the term you opened to start meteor, and use <kbd>CTRL</kbd>+<kbd>C</kbd> to quit the process.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>I use this command:</p>\n\n<pre><code>kill -9 `ps ax | grep node | grep meteor | awk '{print $1}'`\n</code></pre>\n\n<p>Or, I run this if I'm on my local machine to kill remote processes:</p>\n\n<pre><code>ssh [user]@[server] &lt;&lt;'ENDSSH'\nkill -9 `ps ax | grep node | grep meteor | awk '{print $1}'`\nexit\nENDSSH\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>Similar to Fernando's response, if you're on OSX you can quit the processes <code>node</code> and <code>mongod</code> using Activity Monitor.</p>\n\n<p>quitting <code>node</code> will stop the server. The database will still be running and accepting incoming connections, so quitting <code>mongod</code> will turn off the database.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It's so simple in my case, I always have to terminal tabs open, one for launching Meteor/stoping it and the other one for working the commands. So to stop it I just do the universal <code>control+c</code> to stop the working process.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The only answer on this question I saw - go start another copy on the different port.\n<a href=\"http://stackoverflow.com/questions/10115931/switching-from-one-meteor-workspace-to-another\">Switching from one Meteor workspace to another</a>\nOkay, I see that I can run another one on the different port, BUT how to stop the first one?</p>\n",
            "last_activity_date": 1408896201,
            "question_id": 12238382,
            "score": 21,
            "tags": [
                "javascript",
                "meteor"
            ],
            "title": "How to stop Meteor?"
        }
    ]
}
