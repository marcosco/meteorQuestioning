{
    "items": [
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>According to the <a href=\"http://docs.jquery.com/UI/Droppable\">Jquery documentation on Selectors</a>.</p>\n\n<blockquote>\n  <p>All draggables that match the selector\n  will be accepted. If a function is\n  specified, the function will be called\n  for each draggable on the page (passed\n  as the first argument to the\n  function), to provide a custom filter.\n  The function should return true if the\n  draggable should be accepted.</p>\n</blockquote>\n\n<p>Thus, </p>\n\n<pre><code>$('.selector').droppable({ accept: '.special' });\n</code></pre>\n\n<p>in their example will only act as if something has been dropped on it if it has the class 'special'.  It looks like it can accept any <a href=\"http://docs.jquery.com/Selectors\">Jquery selector</a>.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>If I understand your question correctly, you want to conditionally accept the dropped element based on custom code. Aberon's answer is the typical case: you want to allow only certain draggable options to be dropped based on their class, and all others will revert. If that answers your question, then fine.</p>\n\n<p>However, there is a case for having the revert animation happen conditionally based on something more complex than a class match. In my own project, I am using drag-drop to add users to a group. If the dropped user is already in the group, I want the user helper element to revert back. Otherwise, I go ahead with an AJAX action to insert them. This is no substitute for back-end checking, but it's nice visual feedback.</p>\n\n<p>I have looked elsewhere for a simple answer to this. Note to JQuery maintainers: to me, the most straightforward way would be to add some property to the event object in the drop function, like this:</p>\n\n<pre><code>$('.target').droppable({\n\taccept: '.valid'\n\tdrop: function(event, ui) {\n\t\tif(isDropOK() == true) {\n\t\t\t// add child here\n\t\t} else {\n\t\t\tevent.revert = true;\n\t\t}\n\t}\n});\n</code></pre>\n\n<p>Sadly that doesn't work. Here's what does \"work\", though: set the draggable element to always revert, and then hide the helper if the condition is met. You can get a reference to the helper by looking for the only element on the page that has the class \".ui-draggable-dragging\". Here's an example, replace \"isDropOK()\" with your own logic:</p>\n\n<pre><code>$('.valid').draggable({\n\trevert: true,\n\thelper: 'clone',\n\topacity: 0.5\n});\n\n$('.target').droppable({\n\taccept: '.valid'\n\tdrop: function(event, ui) {\n\t\tif(isDropOK() == true) {\n\t\t\t$('.ui-draggable-dragging').hide();\n\t\t\t// add child here\n\t\t}\n\t}\n});\n</code></pre>\n\n<p>So to recap, every element will always revert unless you step in on the drop event and manually hide the helper. The revert animation will still happen, but your users won't see it. It's a little hack, but the end result seems to work all right.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Instead of using a class as accept, you can just use a function like\nand return true if it matches your criteria</p>\n\n<pre><code>$('#mydroppable').droppable(\n{\n    accept: function() { return true; },\n    drop: function () { alert(\"Dropped!\"); }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you want the droppable to accept a selection of elements you can do something like this:</p>\n\n<pre><code>$(\".droppable\").droppable({\n    accept: function(d) { \n        if(d.hasClass(\"foo\")||(d.attr(\"id\")==\"bar\")){ \n            return true;\n        }\n    }\n});\n</code></pre>\n\n<p>This droppable will accept elements with the class \"foo\" or an element with the id \"bar\"</p>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p>This is my solution:</p>\n\n<pre><code>var foo = true;\n\n$( \".draggable\" ).draggable({ \n                        revert: function(){if(foo == true){return true;}else{foo = true;}},\n                         });\n\n    $(\"#droppable\").droppable({\n        activeClass: \"ui-state-hover\",\n        hoverClass: \"ui-state-active\",\n        drop: function( event, ui ) {\n            if($this == $that){\n                foo = true;\n                alert(\"this will revert the draggable back to original position\");\n            }else{\n                foo = false;\n                alert(\"this will NOT revert the draggable back to original position\");\n            }\n        }\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is the solution that I use:</p>\n\n<pre><code>... accept: '#diva,#divb', ...\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I've figured out a solution that works based on the condition that no draggable should be placed in a droppable already occupied by another draggable:</p>\n\n<pre><code>$(\".placement\").droppable({\n    accept: function(elm) {\n        // only allow draggables to the placement if there's no other draggable \n        // in the droppable\n        if (!$(this).attr('isbusy'))\n            return true;\n    },\n    drop: function(event, ui) {\n        $(this).attr('isbusy', 'yeap'); // fill key with something\n\n        var draggable = $(ui.draggable[0]);\n        // free the draggable's previous droppable \n        if (draggable.attr('droppable')) {\n            $('#' + draggable.attr('droppable')).attr('isbusy', '');\n        }\n\n        // save the new draggable's droppable\n        draggable.attr('droppable', $(this).attr('id'));\n    },\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In addition to <a href=\"http://stackoverflow.com/a/2890339/2236166\">Alex answer</a> which is the best answer I found on this question, I like to add, that if you want to check for matching attributes between <code>droppable</code> and <code>draggable</code>, you can use the keyword <code>this</code> to access the droppable within your <code>accept</code> function. Here is a small example I recently used:</p>\n\n<pre><code>accept : function (draggable) {\n  var id_group_drop, id_group_drag;\n\n  //get the \"id_group\" stored in a data-attribute of the draggable\n  id_group_drag = $(draggable).attr(\"data-id-group\");\n\n  //get the \"id_group\" stored in a data-attribute of the droppable\n  id_group_drop = $(this).parent().attr(\"data-id-group\");\n\n  //compare the id_groups, return true if they match or false otherwise\n  return id_group_drop == id_group_drag;\n}\n</code></pre>\n\n<p>So the <code>draggable</code> is only accepted, when it's <code>id_group</code> (remember, just an example) matches with the <code>id_group</code> of the <code>droppable</code>, otherwise the <code>draggable</code> would be reverted. I think this could be a very common use-case, maybe this will help someone.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Can anyone tell me how can i write a function in accept condition and then how does it finds out that what to accept and what not to accept.\nFo r eg i want to accept div a and div b in accept condition.How can i write i through a function.</p>\n",
            "last_activity_date": 1397218771,
            "question_id": 1444469,
            "score": 16,
            "tags": [
                "javascript",
                "jquery",
                "droppable"
            ],
            "title": "jquery droppable accept"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><strong>Solved!</strong></p>\n\n<p>I decided to see what changing the <em>width</em> and <em>height</em> attributes I set in <code>javascript</code> to see how that affected the canvas size -- and it didn't. It changes the resolution. </p>\n\n<p>To get the result I wanted, I also had to set the <code>canvas.style.width</code> attribute, which changes the physical size of the <code>canvas</code>:</p>\n\n<pre><code>canvas.width=1000;//horizontal resolution (?) - increase for better looking text\ncanvas.height=500;//vertical resolution (?) - increase for better looking text\ncanvas.style.width=width;//actual width of canvas\ncanvas.style.height=height;//actual height of canvas\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The canvas element runs independent from the device or monitor's pixel ratio.</p>\n\n<p>On the iPad 3+, this ratio is 2.  This essentially means that your 1000px width canvas would now need to fill 2000px to match it's stated width on the iPad display.  Fortunately for us, this is done automatically by the browser.  On the other hand, this is also the reason why you see less definition on images and canvas elements that were made to directly fit their visible area.  Because your canvas only knows how to fill 1000px but is asked to draw to 2000px, the browser must now intelligently fill in the blanks between pixels to display the element at its proper size.</p>\n\n<p>I would highly recommend you read <a href=\"http://www.html5rocks.com/en/tutorials/canvas/hidpi/\">this article</a> from <a href=\"http://www.html5rocks.com\">HTML5Rocks</a> which explains in more detail how to create high definition elements.</p>\n\n<p>tl;dr?\nHere is an example (based on the above tut) that I use in my own projects to spit out a canvas with the proper resolution:</p>\n\n<pre><code>var PIXEL_RATIO = (function () {\n    var ctx = document.createElement(\"canvas\").getContext(\"2d\"),\n        dpr = window.devicePixelRatio || 1,\n        bsr = ctx.webkitBackingStorePixelRatio ||\n              ctx.mozBackingStorePixelRatio ||\n              ctx.msBackingStorePixelRatio ||\n              ctx.oBackingStorePixelRatio ||\n              ctx.backingStorePixelRatio || 1;\n\n    return dpr / bsr;\n})();\n\n\ncreateHiDPICanvas = function(w, h, ratio) {\n    if (!ratio) { ratio = PIXEL_RATIO; }\n    var can = document.createElement(\"canvas\");\n    can.width = w * ratio;\n    can.height = h * ratio;\n    can.style.width = w + \"px\";\n    can.style.height = h + \"px\";\n    can.getContext(\"2d\").setTransform(ratio, 0, 0, ratio, 0, 0);\n    return can;\n}\n\n//Create canvas with the device resolution.\nvar myCanvas = createHiDPICanvas(500, 250);\n\n//Create canvas with a custom resolution.\nvar myCustomCanvas = createHiDPICanvas(500, 200, 4);\n</code></pre>\n\n<p>Hope this helps!</p>\n",
                    "is_accepted": true,
                    "score": 26
                }
            ],
            "body": "<p>I am a total <em>n00b</em> with <code>HTML5</code> and am working with the <code>canvas</code> to render shapes, colors, and text. In my app, I have a <em>view adapter</em> that creates a canvas dynamically, and fills it with content. This works really nicely, except that my text is rendered very fuzzy/blurry/stretched. I have seen a lot of other posts on why defining the <em>width</em> and <em>height</em> in <code>CSS</code> will cause this issue, but I define it all in <code>javascript</code>.</p>\n\n<p>The relevant code (view <a href=\"http://jsfiddle.net/65maD/\">Fiddle</a>):</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div id=\"layout-content\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>var width = 500;//FIXME:size.w;\nvar height = 500;//FIXME:size.h;\n\nvar canvas = document.createElement(\"canvas\");\n//canvas.className=\"singleUserCanvas\";\ncanvas.width=width;\ncanvas.height=height;\ncanvas.border = \"3px solid #999999\";\ncanvas.bgcolor = \"#999999\";\ncanvas.margin = \"(0, 2%, 0, 2%)\";\n\nvar context = canvas.getContext(\"2d\");\n\n//////////////////\n////  SHAPES  ////\n//////////////////\n\nvar left = 0;\n\n//draw zone 1 rect\ncontext.fillStyle = \"#8bacbe\";\ncontext.fillRect(0, (canvas.height*5/6)+1, canvas.width*1.5/8.5, canvas.height*1/6);\n\nleft = left + canvas.width*1.5/8.5;\n\n//draw zone 2 rect\ncontext.fillStyle = \"#ffe381\";\ncontext.fillRect(left+1, (canvas.height*5/6)+1, canvas.width*2.75/8.5, canvas.height*1/6);\n\nleft = left + canvas.width*2.75/8.5 + 1;\n\n//draw zone 3 rect\ncontext.fillStyle = \"#fbbd36\";\ncontext.fillRect(left+1, (canvas.height*5/6)+1, canvas.width*1.25/8.5, canvas.height*1/6);\n\nleft = left + canvas.width*1.25/8.5;\n\n//draw target zone rect\ncontext.fillStyle = \"#004880\";\ncontext.fillRect(left+1, (canvas.height*5/6)+1, canvas.width*0.25/8.5, canvas.height*1/6);\n\nleft = left + canvas.width*0.25/8.5;\n\n//draw zone 4 rect\ncontext.fillStyle = \"#f8961d\";\ncontext.fillRect(left+1, (canvas.height*5/6)+1, canvas.width*1.25/8.5, canvas.height*1/6);\n\nleft = left + canvas.width*1.25/8.5 + 1;\n\n//draw zone 5 rect\ncontext.fillStyle = \"#8a1002\";\ncontext.fillRect(left+1, (canvas.height*5/6)+1, canvas.width-left, canvas.height*1/6);\n\n////////////////\n////  TEXT  ////\n////////////////\n\n//user name\ncontext.fillStyle = \"black\";\ncontext.font = \"bold 18px sans-serif\";\ncontext.textAlign = 'right';\ncontext.fillText(\"User Name\", canvas.width, canvas.height*.05);\n\n//AT:\ncontext.font = \"bold 12px sans-serif\";\ncontext.fillText(\"AT: 140\", canvas.width, canvas.height*.1);\n\n//AB:\ncontext.fillText(\"AB: 94\", canvas.width, canvas.height*.15);\n\n//this part is done after the callback from the view adapter, but is relevant here to add the view back into the layout.\nvar parent = document.getElementById(\"layout-content\");\nparent.appendChild(canvas);\n</code></pre>\n\n<p>The results I am seeing (in <em>Safari</em>) are much more skewed than shown in the Fiddle:</p>\n\n<p><strong>Mine</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/Dh51D.png\" alt=\"Rendered output in Safari\"></p>\n\n<p><strong>Fiddle</strong></p>\n\n<p><img src=\"http://i.stack.imgur.com/HuRUB.png\" alt=\"Rendered output on JSFiddle\"></p>\n\n<p>What am I doing incorrectly? Do I need a separate canvas for each text element? Is it the font? Am I required to first define the canvas in the HTML5 layout? Is there a typo? I am lost.</p>\n",
            "last_activity_date": 1396008014,
            "question_id": 15661339,
            "score": 15,
            "tags": [
                "javascript",
                "html5",
                "html5-canvas"
            ],
            "title": "How do I fix blurry text in my HTML5 canvas?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<pre><code>&lt;ul&gt;\n    &lt;li ng-repeat=\"item in items\" ng-switch=\"item.type\"&gt;\n       &lt;img ng-switch-when=\"user\" ng-src=\"item.src\"&gt;\n       &lt;a ng-switch-when=\"vehicle\"&gt;{{item.link}}&lt;/a&gt;\n       &lt;span ng-switch-when=\"animal\"&gt;{{item.name}}&lt;/span&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>API reference:<br>\n<a href=\"http://docs.angularjs.org/api/ng.directive:ngSwitch\">http://docs.angularjs.org/api/ng.directive:ngSwitch</a></p>\n",
                    "is_accepted": true,
                    "score": 24
                }
            ],
            "body": "<p>I have a list of items. An item can be a number of things, let's say the list is something like so :</p>\n\n<pre><code>[userObject , vehicleObject , userObject , animalObject , animalObject]\n</code></pre>\n\n<p>Now I want to render the list with ngRepeat directive that will use a template according to the type of the object (Polymorphic rendering). can this be done?</p>\n\n<p>maybe something like (<strong>ng-use</strong> is an <strong>hypothetically</strong> directive):</p>\n\n<pre><code>&lt;ul&gt;\n    &lt;li ng-repeat=\"item in items\"&gt;\n       &lt;img ng-use=\"item.type == 'user'\" ng-src=\"item.src\"&gt;\n       &lt;a ng-use=\"item.type == 'vehicle'\"&gt;{{item.link}}&lt;/a&gt;\n       &lt;span ng-use=\"item.type == 'animal'\"&gt;{{item.name}}&lt;/span&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n",
            "last_activity_date": 1358697215,
            "question_id": 14425497,
            "score": 15,
            "tags": [
                "javascript",
                "dom",
                "polymorphism",
                "angularjs",
                "rendering"
            ],
            "title": "AngularJS - ngRepeat with multiple object types"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I'll answer my own question just in case someone come to this page with the same problem.</p>\n\n<p>Nick Retallack's answer at this page <a href=\"http://stackoverflow.com/questions/6333814/how-does-the-paste-image-from-clipboard-functionality-work-in-gmail-and-google-c\">How does the paste image from clipboard functionality work in Gmail and Google Chrome 12+?</a> does exactly what I want.</p>\n\n<p>So the new piece of code is :</p>\n\n<pre><code>var items = e.clipboardData.items;\nif (items) {\n// Loop through all items, looking for any kind of image\n    for (var i = 0; i &lt; items.length; i++) {\n        if (items[i].type.indexOf(\"image\") !== -1) {\n            // We need to represent the image as a file,\n            var blob = items[i].getAsFile();\n\n            var reader = new FileReader();\n                reader.onload = function(event){\n                    createImage(event.target.result); //event.target.results contains the base64 code to create the image.\n                };\n                reader.readAsDataURL(blob);//Convert the blob from clipboard to base64\n            }\n        }\n    }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 20
                }
            ],
            "body": "<p>I am trying to implement a paste handler to get an image from user's clipboard. I want this to run only on Google Chrome, I am not worried with other browsers.</p>\n\n<p>This is a part of a method that I found on internet and I am trying to adapt it.</p>\n\n<pre><code>// Get the items from the clipboard\nvar items = e.clipboardData.items;\n    if (items) {\n    // Loop through all items, looking for any kind of image\n        for (var i = 0; i &lt; items.length; i++) {\n            if (items[i].type.indexOf(\"image\") !== -1) {\n                // We need to represent the image as a file,\n                var blob = items[i].getAsFile();\n                // and use a URL or webkitURL (whichever is available to the browser)\n                // to create a temporary URL to the object\n                var URLObj = window.URL || window.webkitURL;\n                var source = URLObj.createObjectURL(blob);\n                createImage(source);\n                }\n            }\n        }\n</code></pre>\n\n<p>The method works and I can show the image if I use my \"source\" as the src of a image object. The problem is that the image source in google chrome will be something like this: <code>blob:http://localhost:8080/d1328e65-ade2-45b3-a814-107cc2842ef9</code></p>\n\n<p>I need to send this image to the server, so I want to convert it to a base64 version. For example:   </p>\n\n<pre><code>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArgAAAAjCAIAAADwnO7RAAAKMWlDQ1BJQ0MgUHJvZmlsZQAASImdlndUU9kWh8+9N71QkhCKlNBraFICSA29SJEuKjEJEErAkAAiNkRUcERRkaYIMijggKNDkbEiioUBUbHrBBlE1HFwFBuWSWStGd+8ee/Nm98f935rn73P3Wfvfda6AJD8gwXCTFgJgAyhWBTh58WIjYtnYAcBDPAAA2wA4HCzs0IW+EYCmQJ82IxsmRP4F726DiD5+yrTP4zBAP+flLlZIjEAUJiM5/L42VwZF8k4PVecJbdPyZi2NE3OMErOIlmCMlaTc/IsW3z2mWUPOfMyhDwZy3PO4mXw5Nwn4405Er6MkWAZF+cI+LkyviZjg3RJhkDGb+SxGXxONgAoktwu5nNTZGwtY5IoMoIt43kA4EjJX/DSL1jMzxPLD8XOzFouEiSniBkmXFOGjZMTi+HPz03ni8XM...iCIBWnh+P9w9C+9eMzvhCl1iOElK09ruc2wqGhfH/uKEV30FlJkmRZJklydFuW/FdwhYFCkCBBggQJEuS/gWC4FCRIkCBBggQZlmCgECRIkCBBggQZlmCgECRIkCBBggQZFmzhwoXXWoYgQYIECRIkyHUK5vF4rrUMQYIECRIkSJDrFHLktYOCBAkSJEiQIP/NkLt3777WMgT5thLstwoSJEiQ7zxYsEUhyJWxbdu2u++++1pLESRIkCBBvl6Csx6CBAkSJEiQIMPy3dkMOsg3T7A5KkiQIEG+8wQDhSBXTjBQCBIkSJDvPMGuhyBBggQJEiTIsFwXLQr9H6bOjtYeP2mONbOj2Hut9y6/x+nlJSBCQnXkgG3Brh8Q4lqbOpAmPDqUGShex9lPDlfB4sU5I97b/8kuevygYUgYsAksAPg9fkbDQN/e1kNvVw76nfYeiTCG6sjLd5fv58rsFmxRCBIkSJDvPP8f+HtxbDVRPI8AAAAASUVORK5CYII=\n</code></pre>\n\n<p>In the first piece of code I have a blob object representing the file. How I can use it to create a base64 representation? I have tried a couple of methods but I am not getting the correct representation. </p>\n\n<p>Please, anyone can help me?</p>\n",
            "last_activity_date": 1386913045,
            "question_id": 11850970,
            "score": 15,
            "tags": [
                "javascript",
                "image",
                "google-chrome",
                "base64",
                "blob"
            ],
            "title": "Javascript: Blob object to base64"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>After a night's sleep, the solution came to me.</p>\n\n<p>I just need to call </p>\n\n<pre><code>d3.selectAll(\".chart\").selectAll(\"svg\").remove();\n</code></pre>\n\n<p>at the beginning of <code>plotSportData</code> which will grab any histograms nested under the <code>.chart</code> divs and remove them.  And if there's no elements to remove, it'll be a no-op.</p>\n",
                    "is_accepted": false,
                    "score": 12
                }
            ],
            "body": "<p>I'm adapting the <a href=\"http://square.github.com/crossfilter/\">Crossfilter</a> library to visualize some tweets i've been gathering from the <a href=\"http://www.london2012.com\">Olympics</a>.   I'm attempting to essentially extend the initial example in two ways:</p>\n\n<ol>\n<li>Instead of displaying lists of flights based on the original dataset, I want to display lists of items in another dataset keyed by items currently selected by crossfilter.</li>\n<li>Switch between different data sources and reload the histograms and tables.</li>\n</ol>\n\n<p>I've got part (1) working as planned.  However, part (2) is giving me some trouble.  I'm currently changing the dataset by either selecting a new \"sport\" to display or selecting a new summary algorithm.  When switching either of these, I believe that I should first remove the filters, charts, and lists previously created and displayed and then reload the new data.</p>\n\n<p>However, being somewhat new to front end visualizations, especially D3 and Crossfilter, I haven't figured out how to do this, nor am i sure how to even best phrase the question.</p>\n\n<p>I have a working example of my problem <a href=\"http://fozziethebeat.github.com/tweetolympics/\">here</a>.  Selecting a range on Date then switching from Archery to Fencing, then selecting reset shows a good example of what's wrong: not all of the new data is plotted.</p>\n\n<p><img src=\"http://i.stack.imgur.com/N7Fbt.png\" alt=\"Screen image of Fencing data after switching sports while filtering on Date\"></p>\n\n<p>As said, most of the code is pulled form the <a href=\"http://square.github.com/crossfilter/\">Crossfilter</a> example and a <a href=\"http://flowingdata.com/2012/08/02/how-to-make-an-interactive-network-visualization/\">Tutorial on making radial visualizations</a>.  Here's some of the key code chunks that I think are relevant:</p>\n\n<p>Selecting a new data source:</p>\n\n<pre><code>d3.selectAll(\"#sports a\").on(\"click\", function (d) {\n    var newSport = d3.select(this).attr(\"id\");\n    activate(\"sports\", newSport);\n    reloadData(activeLabel(\"sports\"), activeLabel(\"methods\"));\n});                          \n\nd3.selectAll(\"#methods a\").on(\"click\", function (d) {\n    var newMethod = d3.select(this).attr(\"id\");\n    activate(\"methods\", newMethod);\n    reloadData(activeLabel(\"sports\"), activeLabel(\"methods\"));\n}); \n</code></pre>\n\n<p>Reloading the data: </p>\n\n<pre><code>function reloadData(sportName, methodName) {\n    var filebase = \"/tweetolympics/data/tweet.\" + sportName + \".\" + methodName + \".all.\";\n    var summaryList, tweetList, remaining = 2;\n    d3.csv(filebase + \"summary.csv\", function(summaries) {\n        summaries.forEach(function(d, i) {\n           d.index = i;\n           d.group = parseInt(d.Group);\n           d.startTime = parseTime(d.Start);\n           d.meanTime = parseTime(d.Mean);\n        });\n        summaryList = summaries;\n        if (!--remaining)\n            plotSportData(summaryList, tweetList);\n    });\n\n    d3.csv(filebase + \"groups.csv\", function(tweets) {\n        tweets.forEach(function(d, i) {\n            d.index = i;\n            d.group = parseInt(d.Group);\n            d.date = parseTime(d.Time);\n        });\n        tweetList = tweets;\n        if (!--remaining)\n            plotSportData(summaryList, tweetList);\n    });\n}   \n</code></pre>\n\n<p>And loading the cross filter using the data:</p>\n\n<pre><code>function plotSportData(summaries, tweets) {\n\n    // Create the crossfilter for the relevant dimensions and groups.\n    var tweet = crossfilter(tweets),\n        all = tweet.groupAll(),\n        date = tweet.dimension(function(d) { return d3.time.day(d.date); }),\n        dates = date.group(),\n        hour = tweet.dimension(function(d) { return d.date.getHours() + d.date.getMinutes() / 60; }),\n        hours = hour.group(Math.floor),\n        cluster = tweet.dimension(function(d) { return d.group; }),\n        clusters = cluster.group();\n\n     var charts = [\n        // The first chart tracks the hours of each tweet.  It has the\n        // standard 24 hour time range and uses a 24 hour clock.\n        barChart().dimension(hour)\n                  .group(hours)\n                  .x(d3.scale.linear()\n                             .domain([0, 24])\n                             .rangeRound([0, 10 * 24])),\n        // more charts added here similarly...\n      ];\n\n    // Given our array of charts, which we assume are in the same order as the\n    // .chart elements in the DOM, bind the charts to the DOM and render them.\n    // We also listen to the chart's brush events to update the display.\n    var chart = d3.selectAll(\".chart\")\n                  .data(charts)\n                  .each(function(chart) { chart.on(\"brush\", renderAll)\n                                               .on(\"brushend\", renderAll); });\n\n    // Render the initial lists.\n    var list = d3.selectAll(\".list\")\n                 .data([summaryList]);\n\n    // Print the total number of tweets.\n    d3.selectAll(\"#total\").text(formatNumber(all.value()));\n\n    // Render everything..\n    renderAll();\n</code></pre>\n\n<p>My guess is that I should start <code>plotSportData</code> with something that clears out the old dataset, but i'm not sure what that something should look like.  Any suggestions or thoughts would be supremely appreciated.</p>\n",
            "last_activity_date": 1386752045,
            "question_id": 11824354,
            "score": 15,
            "tags": [
                "javascript",
                "visualization",
                "d3.js",
                "crossfilter"
            ],
            "title": "Redrawing histograms with Crossfilter and D3"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><a href=\"http://www.csgnetwork.com/gpsdistcalc.html\" rel=\"nofollow\">http://www.csgnetwork.com/gpsdistcalc.html</a></p>\n\n<p>Has nothing to do with coding btw</p>\n\n<p>EDIT\nif you're looking for some code</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1502590/calculate-distance-between-two-points-in-google-maps-v3\">Calculate distance between two points in google maps V3</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think you could do without any specific API, and calculate distance with plain Javascript:</p>\n\n<p><a href=\"http://www.movable-type.co.uk/scripts/latlong.html\" rel=\"nofollow\">This</a> site has good info about geographical calculations and Javascript sample for distance calculation.</p>\n\n<p>Ok, quick glance at Google API page and it seems, you could do it by:</p>\n\n<ol>\n<li>Call DirectionsService().route() to get <a href=\"http://code.google.com/intl/lv/apis/maps/documentation/javascript/reference.html#DirectionsResult\" rel=\"nofollow\">DirectionsResult</a> with routes</li>\n<li>For one or each route go through its legs property and calculate sum of distances</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This is primarily done with math outside of the google api, so you shouldn't need to use the API for anything other than finding the correct coordinates.</p>\n\n<p>Knowing that, here's a link to a previously answered question relating to Javascript.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/365826/calculate-distance-between-2-gps-coordinates/365853#365853\">calculate distance between 2 gps coordinates</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you're looking to use the v3 google maps API, here is a function to use:\nNote: you must add <code>&amp;libraries=geometry</code> to your script source</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"http://maps.google.com/maps/api/js?sensor=false&amp;libraries=geometry\"&gt;&lt;/script&gt;\n\nvar p1 = new google.maps.LatLng(45.463688, 9.18814);\nvar p2 = new google.maps.LatLng(46.0438317, 9.75936230000002);\n\nalert(calcDistance(p1, p2));\n\n//calculates distance between two points in km's\nfunction calcDistance(p1, p2){\n  return (google.maps.geometry.spherical.computeDistanceBetween(p1, p2) / 1000).toFixed(2);\n}\n\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 38
                },
                {
                    "body": "<p>Try this</p>\n\n<pre><code> CLLocationCoordinate2D coord1;\n coord1.latitude = 45.463688;\n coord1.longitude = 9.18814;\n CLLocation *loc1  = [[[CLLocation alloc] initWithLatitude:coord1.latitude longitude:coord1.longitude] autorelease];\n\n CLLocationCoordinate2D coord2;\n coord2.latitude = 46.0438317;\n coord2.longitude = 9.75936230000002;\n CLLocation *loc2  = [[[CLLocation alloc] initWithLatitude:46.0438317 longitude:9.75936230000002] autorelease];\n\n CLLocationDistance d1 = [loc1 distanceFromLocation:loc2];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have these coordinate :</p>\n\n<pre><code>(45.463688, 9.18814) \n(46.0438317, 9.75936230000002)\n</code></pre>\n\n<p>and I need (trought Google API V3, I think) to get the distance between those 2 points in metre. How can I do it? </p>\n",
            "last_activity_date": 1321304913,
            "question_id": 7997627,
            "score": 15,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3"
            ],
            "title": "Google Maps - How to get the distance between two point in metre?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I'd recommend you use something like <a href=\"http://videojs.com/\" rel=\"nofollow\">http://videojs.com/</a>, they use a Flash fallback and their syntax will give you the correct order of the formats that you should use for all browsers.</p>\n\n<p>It goes like this:</p>\n\n<pre><code>&lt;a href=\"http://video-js.zencoder.com/oceans-clip.mp4\"&gt;MP4&lt;/a&gt;,\n&lt;a href=\"http://video-js.zencoder.com/oceans-clip.webm\"&gt;WebM&lt;/a&gt;,\n&lt;a href=\"http://video-js.zencoder.com/oceans-clip.ogv\"&gt;Ogg&lt;/a&gt;\n</code></pre>\n\n<p>If the browser doesn't understand MP4, it goes to WebM, if it doesn't it goes to OGG, if it doesn't understand it, it goes to the Flash fallback.</p>\n\n<p>Think of it like font-family declarations in CSS.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can check codecs for different video types. There is also a great HTML5 feature detection library, <a href=\"http://www.modernizr.com/\">Modernizr</a>.</p>\n\n<pre><code>var testEl = document.createElement( \"video\" ),\n    mpeg4, h264, ogg, webm;\nif ( testEl.canPlayType ) {\n    // Check for MPEG-4 support\n    mpeg4 = \"\" !== testEl.canPlayType( 'video/mp4; codecs=\"mp4v.20.8\"' );\n\n    // Check for h264 support\n    h264 = \"\" !== ( testEl.canPlayType( 'video/mp4; codecs=\"avc1.42E01E\"' )\n        || testEl.canPlayType( 'video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"' ) );\n\n    // Check for Ogg support\n    ogg = \"\" !== testEl.canPlayType( 'video/ogg; codecs=\"theora\"' );\n\n    // Check for Webm support\n    webm = \"\" !== testEl.canPlayType( 'video/webm; codecs=\"vp8, vorbis\"' );\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 31
                }
            ],
            "body": "<p>I am making an application in HTML5 using the video tag, in the application the user chooses a video file and I play that file. This all happens locally because I only link to that file in the user's machine. </p>\n\n<p>I want to allow only formats the browser can play to be played in my application, and to show an error for unsupported formats. The problem is that different browsers can play different formats. </p>\n\n<p>I know I can check for the browser and match it with the formats I know it can play, but what if the browser updates to support another format? I'll have to update my application with the new information and meanwhile users won't be able to play supported formats. Is there a way to check just for the supported video formats?</p>\n",
            "last_activity_date": 1344431881,
            "question_id": 7451635,
            "score": 15,
            "tags": [
                "javascript",
                "html",
                "html5",
                "cross-browser",
                "html5-video"
            ],
            "title": "How to detect supported video formats for the HTML5 video tag?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The only difference that I notice is the <code>s.async=true;</code> in the Facebook method.</p>\n\n<blockquote>\n  <p>The <code>async</code> and <code>defer</code> attributes are boolean attributes that indicate how the script should be executed. </p>\n  \n  <p>There are three possible modes that can be selected using these attributes. <strong>If the <code>async</code> attribute is present, then the script will be executed asynchronously, as soon as it is available.</strong> If the <code>async</code> attribute is not present but the defer attribute is present, then the script is executed when the page has finished parsing. If neither attribute is present, then the script is fetched and executed immediately, before the user agent continues parsing the page.</p>\n</blockquote>\n\n<p>Source and Further reading: <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#attr-script-async\">Whatwg.org HTML 5: The script element</a></p>\n\n<p>As for the advantages, you may want to check what Google had to say on this last December:</p>\n\n<ul>\n<li><a href=\"http://googlecode.blogspot.com/2009/12/google-analytics-launches-asynchronous.html\">Google Analytics Launches Asynchronous Tracking</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>I played around with this and created a library for this that includes support for firing a callback when the script eventually loads.</p>\n\n<pre><code>Sigma.async_script_load('http://example.com/underscore-min.js', '_', function() {\n  _([1,2,3,2,3,1]).uniq();\n});\n</code></pre>\n\n<p><a href=\"https://github.com/ssoroka/sigma\" rel=\"nofollow\">https://github.com/ssoroka/sigma</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I noticed that there seems to be a couple of slightly different syntaxes for loading js files asynchronously, and I was wondering if there's any difference between the two, or if they both pretty much function the same. I'm guessing they work the same, but just wanted to make sure one method isn't better than the other for some reason. :)</p>\n\n<p><strong>Method One</strong></p>\n\n<pre><code>(function() {\n    var d=document,\n    h=d.getElementsByTagName('head')[0],\n    s=d.createElement('script');\n    s.type='text/javascript';\n    s.src='/js/myfile.js';\n    h.appendChild(s);\n})(); /* note ending parenthesis and curly brace */\n</code></pre>\n\n<p><br>\n<strong>Method Two (Saw this in Facebook's code)</strong></p>\n\n<pre><code>(function() {\n    var d=document,\n    h=d.getElementsByTagName('head')[0],\n    s=d.createElement('script');\n    s.type='text/javascript';\n    s.async=true;\n    s.src='/js/myfile.js';\n    h.appendChild(s);\n}()); /* note ending parenthesis and curly brace */\n</code></pre>\n",
            "last_activity_date": 1292290978,
            "question_id": 2774373,
            "score": 15,
            "tags": [
                "javascript",
                "asynchronous"
            ],
            "title": "asynchronous .js file loading syntax"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The issue is your first animating the div#GroupDiv so your initial check  <code>if (!$(\"#div2 .tab\").is(':animated'))</code> will be false until the groupDiv has finished animated and the callback is fired.</p>\n\n<p>You could maybe try   </p>\n\n<pre><code>if (!$(\"#div2 .tab\").is(':animated') &amp;&amp; !$(\"#GroupDiv\").is(':animated'))\n</code></pre>\n\n<p>however I doubt this will cover really quick clicking. The safest is to unbind the event using</p>\n\n<p><code>$(this).unbind('toggle').unbind('click');</code> </p>\n\n<p>as the first line inside the if and you can then do away with the animated check. The downside to this is you will have to rebind using the callback you are passing through to your custom animation functions.</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>You can easily disable your links while animation is running</p>\n\n<pre><code>$('a').click(function () {\n    if ($(':animated').length) {\n        return false;\n    }\n});\n</code></pre>\n\n<p>You can of course replace the <code>$('a')</code> selector to match only some of the links.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Animating something that can be clicked repeatedly is something to look out for because it is prone for errors. I take it that you Problem is that animations queue up and are executed even when you have stopped clicking. The way I solved it was to use the stop() function on an Element.</p>\n\n<p>Syntax: jQuery(selector).stop(clearQueue,gotoEnd) //both parameters are boolean\n<br><a href=\"http://docs.jquery.com/Effects/stop#clearQueuegotoEnd\" rel=\"nofollow\">More Info</a></p>\n\n<p>When I click on a button, I first stop the animation and clear the Queue, then i proceed to define the new animation on it. gotoEnd can stay false (default value) but you can try tochange it to true if you want, you might like the result.</p>\n\n<p>Usage Example: jQuery('button#clickMe').stop(true).animate({left:+=10}).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>you can unbind... but this should work too:</p>\n\n<pre><code>if (!$(\"#div2 .tab\").is(':animated') &amp;&amp; !$(\"#GroupDiv\").is(':animated')) return;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<h2>Question</h2>\n\n<p>The solution below is intended to slide down the <strong><em>groupDiv</em></strong> displaying <strong><em>div1</em></strong> and enough space for <strong><em>div2</em></strong> to slide in. It's all achieved by chaining the animations on the <strong><em>#Link.Click()</em></strong> element.</p>\n\n<p>It seems to <strong><em>bug out</em></strong>, though, when the <strong><em>link is clicked rapidly</em></strong>. Is there a way to prevent this? By perhaps disabling the Click function until the <strong><em>chained</em></strong> animations are complete? I currently have checks in place, but they don't seem to be doing the job :(</p>\n\n<p>Here's the code i'm using:</p>\n\n<h2>Custom animate functions.</h2>\n\n<p><hr /></p>\n\n<pre><code>//Slide up or down and fade in or out\njQuery.fn.fadeThenSlideToggle = function(speed, easing, callback) {\n    if (this.is(\":hidden\")) {\n    \tvisibilityCheck(\"show\", counter--);\n    \treturn this.slideDown({duration: 500, easing: \"easeInOutCirc\"}).animate({opacity: 1},700, \"easeInOutCirc\", callback);\n    } else {\n    \tvisibilityCheck(\"hide\", counter++);\n        return this.fadeTo(450, 0, \"easeInOutCirc\").slideUp({duration: 500, easing: \"easeInOutCirc\", complete: callback});\n    }\n};\n\n//Slide off page, or into overflow so it appears hidden.\njQuery.fn.slideLeftToggle = function(speed, easing, callback) {\n    if (this.css('marginLeft') == \"-595px\") {\n    \treturn this.animate({marginLeft: \"0\"}, speed, easing, callback);\n    } else {\n    \treturn this.animate({marginLeft: \"-595px\"}, speed, easing, callback);\n    }\n};\n</code></pre>\n\n<p><hr /></p>\n\n<h2>In the dom ready, i have this:</h2>\n\n<p><hr /></p>\n\n<pre><code>$('#Link').toggle(\n    function() {\n    \tif (!$(\"#div2 .tab\").is(':animated')) {\n    \t\t$(\"#GroupDiv\").fadeThenSlideToggle(700, \"easeInOutCirc\", function() {$('#div2 .tab').slideLeftToggle();});\n    \t}\n    },\n    function(){\n    \tif (!$(\"#groupDiv\").is(':animated')) {\n    \t\t$('#div2 .tab').slideLeftToggle(function() {$(\"#groupDiv\").fadeThenSlideToggle(700, \"easeInOutCirc\", callback);} );\n    \t}\n    }\n);\n</code></pre>\n\n<p><hr /></p>\n\n<h2>HTML structure is this:</h2>\n\n<p><hr /></p>\n\n<pre><code>&lt;div id=\"groupDiv\"&gt;\n     &lt;div id=\"div1\"&gt;\n          &lt;div class=\"tab\"&gt;&lt;/div&gt;\n     &lt;/div&gt;\n     &lt;div id=\"div2\"&gt;\n          &lt;div class=\"tab\"&gt;&lt;/div&gt;\n     &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n",
            "last_activity_date": 1333587657,
            "question_id": 1271828,
            "score": 14,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "jQuery - Disable Click until all chained animations are complete"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>you should use <a href=\"http://docs.angularjs.org/api/ng.%24route#reload\">$route.reload()</a> to force the reload.</p>\n\n<p>I don't know if is there a 'automatic' way to do this, but you can use ng-click on these links</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>You can try by adding a <code>_target='_self'</code> on the link. It will forces the page to reload.</p>\n\n<p>e.g.</p>\n\n<pre><code>&lt;a href=\"/Customer/Edit/{{customer.id}}\" target=\"_self\"&gt;{{customer.Name}}&lt;/a&gt;\n</code></pre>\n\n<p>I tested this on version 1.0.5 and 1.2.15 on IE and Firefox. Seem to be working fine.</p>\n\n<p>Here's more information from <a href=\"https://docs.angularjs.org/guide/%24location\">AngularJS site</a> :</p>\n\n<p><strong>Html link rewriting</strong></p>\n\n<p>When you use HTML5 history API mode, you will need different links in different browsers, but all you have to do is specify regular URL links, such as: </p>\n\n<pre><code>&lt;a href=\"/some?foo=bar\"&gt;link&lt;/a&gt;\n</code></pre>\n\n<p>When a user clicks on this link,</p>\n\n<ul>\n<li>In a legacy browser, the URL changes to <code>/index.html#!/some?foo=bar</code></li>\n<li>In a modern browser, the URL changes to <code>/some?foo=bar</code></li>\n</ul>\n\n<p>In cases like the following, links are not rewritten; instead, the browser will perform a full page reload to the original link.</p>\n\n<ul>\n<li><p>Links that contain target element\nExample: <code>&lt;a href=\"/ext/link?a=b\" target=\"_self\"&gt;link&lt;/a&gt;</code></p></li>\n<li><p>Absolute links that go to a different domain\nExample: <code>&lt;a href=\"http://angularjs.org/\"&gt;link&lt;/a&gt;</code></p></li>\n<li><p>Links starting with '/' that lead to a different base path when base is defined\nExample: <code>&lt;a href=\"/not-my-base/link\"&gt;link&lt;/a&gt;</code></p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>I'm not sure if it's the best solution, but you can set a parameter based on current time</p>\n\n<p>e.g.</p>\n\n<pre><code>&lt;a href=\"/Customer/Edit/{{customer.id}}&amp;refresh={{now}}\"&gt;{{customer.Name}}&lt;/a&gt;\n</code></pre>\n\n<p>where now is set on <code>$rootScope</code> after each <code>$routeChangeSuccess</code></p>\n\n<pre><code>$rootScope.$on('$routeChangeSuccess', function (event, current, previous) {\n    $rootScope.now = Date.now();\n});\n</code></pre>\n\n<p>This might be improved but it's working.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p><strong>Add a / (slash) to the defined url in the route configuration</strong></p>\n\n<p>I met a similar problem today, I have a link in my web page and when I click it, I want the ng-view reload each time, so that I can refresh data from server. But if the url location doesn't change, angular doesn't reload the ng-view.</p>\n\n<p>Finally, i found a solution to this problem. In my web page, I set the link href to:</p>\n\n<ul>\n<li><code>&lt;a href=\"#/test\"&gt;test&lt;/a&gt;</code></li>\n</ul>\n\n<p>But in the route config, I set:</p>\n\n<ul>\n<li><code>$routeProvider.when('/test/', {\ncontroller: MyController,\ntemplateUrl:'/static/test.html'\n});</code></li>\n</ul>\n\n<p>The different is the last slash in url. When I click <code>href=\"#/test\"</code> for the first time, angular redirect the url to <code>#/test/</code>, and load ng-view.  when i click it second time, because the current url is <code>#/test/</code>, it's not equal to the url in the link (<code>href=\"#/test\"</code>) I clicked, so Angular triggers the location change method and reloads the ng-view, in addition Angular redirects the url to <code>#/test/</code> again. next time i click the url, angular does the same thing again.  Which is exactly what I wanted.</p>\n\n<p>Hope this was useful for you.</p>\n",
                    "is_accepted": false,
                    "score": 32
                },
                {
                    "body": "<p>From <a href=\"http://stackoverflow.com/a/11267490/747134\">@Renan Tomal Fernandes answer</a>. following is an example</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;a href=\"#/something\" my-refresh&gt;&lt;/a&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>angular.module(\"myModule\",[]).\ndirective('myRefresh',function($location,$route){\n    return function(scope, element, attrs) {\n        element.bind('click',function(){\n            if(element[0] &amp;&amp; element[0].href &amp;&amp; element[0].href === $location.absUrl()){\n                $route.reload();\n            }\n        });\n    }   \n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>In my case if the url is same, nothing worked including $route.reload(), $location.path(),  $state.transitonTo() etc.</p>\n\n<p>So my approach was Using Dummy Page as follows,</p>\n\n<pre><code>if( oldLocation === newLocation ) {\n   // nothing worked ------------\n   // window.location.reload(); it refresh the whole page\n   // $route.reload();\n   // $state.go($state.$current, null, { reload: true });\n   // $state.transitionTo($state.current, $stateParams, {reload:true, inherit: false, notify: false } );\n   // except this one\n   $location.path('/dummy'); \n   $location.path($location.path());\n   $scope.$apply(); \n}\n</code></pre>\n\n<p>You need to make '/dummy' module somewhere, the module doesn't do anything, it only change url so that next $location.path() can be \napplied. Don't miss $scope.$apply()</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just tried adding this</p>\n\n<pre><code>$(window).on('popstate', function(event) {\n//refresh server data\n});\n</code></pre>\n\n<p>and it works fine</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I use routeProvider to define controlers and templates for my urls. </p>\n\n<p>When I click on the link, which has the same url as is the actual location, nothing happens. I would like the <code>reload()</code> method to be called if a user clicks on such a link even if the location hasn't changed. In other words, if I set the location to the same value, I would like it to behave the same as if I would set it to different value.</p>\n\n<p>Is there a way to configure routeProvider or locationProvider to do it automatically? Or what is the right approach to do this? This is stadard behaviour in round trip applications, but how to do it in angularjs?</p>\n\n<p>I've asked it on <a href=\"https://groups.google.com/forum/#!topic/angular/VcaYuIuGhCM\">google groups</a> as well.</p>\n\n<p>UPDATE:</p>\n\n<p>This question is getting lots of views, so I will try to explain how I solved my problem. </p>\n\n<p>I created a custom directive for linking in my app as Renan Tomal Fernandes suggested in comments. </p>\n\n<pre><code>angular.module('core.directives').directive('diHref', ['$location', '$route',\n        function($location, $route) {\n    return function(scope, element, attrs) {\n        scope.$watch('diHref', function() {\n            if(attrs.diHref) {\n                element.attr('href', attrs.diHref);\n                element.bind('click', function(event) {\n                    scope.$apply(function(){\n                        if($location.path() == attrs.diHref) $route.reload();\n                    });\n                });\n            }\n        });\n    }\n}]);\n</code></pre>\n\n<p>The directive is then used for all links in my app I want to have this functionality.</p>\n\n<pre><code>&lt;a di-href=\"/home/\"&gt;Home&lt;/a&gt;\n</code></pre>\n\n<p>What this directive does is that it sets the <code>href</code> attribute for you based on <code>di-href</code> attribute so angular can handle it like always and you can see the url when you hover over the link. Furthermore when user clicks on it and the link's path is the same as the current path it reloads the route.</p>\n",
            "last_activity_date": 1424405340,
            "question_id": 11267284,
            "score": 13,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "angularjs - refresh when clicked on link with actual url"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I'd prefer not to splice/pop/push with the urlHistory. How about redirect on pagebeforechange like so:</p>\n\n<pre><code>$(document).on(\"pagebeforechange\", function (e, data) {\n\n    var overrideToPage;\n\n    // some for-loop to go through the urlHistory TOP&gt;DOWN\n    for (var i = $.mobile.urlHistory.activeIndex - 1; i &gt;= 0; i--) {\n        // this checks if # = your target id. You probably need to adapt this;\n        if ($.mobile.urlHistory.stack[i].url = $('#yourPageId').attr('id')) {\n            // save and break\n            overrideToPage = $.mobile.urlHistory.stack[i].url;\n            break;\n        }\n        // set new Page\n        data.toPage = overrideToPage;\n    }\n});\n</code></pre>\n\n<p>This captures your back button changePage call and redirects to the page you want. You could also just set <em>data.toPage = winelist</em> directly of course.</p>\n\n<p>I'm only doing this with #internal pages, but it shoudn't be so hard to set this up with winelist.html etc.</p>\n\n<p>For more info, check the event page in the JQM <a href=\"http://jquerymobile.com/test/docs/api/events.html\" rel=\"nofollow\">docs</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Okay so the solution was close to the update I posted. The issue with the previous solution was that there were to many things bind-ed to the \"Back\" button. While my new bind action may have been working sometimes, the other actions would take place too, I tried <code>unbind()</code> but still no worky. </p>\n\n<p>My solution is a bit of smoke and mirrors. I check to see if the the previous page was the review page and then if so, I swap out the old back button for my new faux button with the history back step like so:</p>\n\n<pre><code>$('div#wine_detail').live('pageshow',function(event, ui){\n  var last = $.mobile.urlHistory.stack.length - 1;\n  var last_url = $.mobile.urlHistory.stack[last].url;\n  var review_url = /review/g;\n  if (last_url.match(review_url) )\n    {\n      $('a.ui-btn-left').replaceWith('&lt;a href=\"\" id=\"time_machine\" class=\"ui-btn-left ui-btn ui-btn-icon-left ui-btn-corner-all ui-shadow ui-btn-up-a\" data-icon=\"arrow-l\"&gt;&lt;span class=\"ui-btn-inner ui-btn-corner-all\"&gt;&lt;span class=\"ui-btn-text\"&gt;Back&lt;/span&gt;&lt;span class=\"ui-icon ui-icon-arrow-l ui-icon-shadow\"&gt;&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;');\n\n      $('#time_machine').bind( 'click', function( ) {  \n        console.log(\"click should be bound and going back in time...\")\n        window.history.go(-3);\n        });\n    }\n  else\n    {\n      console.log('err nope its: ' + last_url);\n    }\n</code></pre>\n\n<p>It looks exactly the same, and no one is the wiser. it could probably be improved by using the  the jQm method <code>pagebeforeshow</code> so user could never see the swap. Hope this helps someone.</p>\n",
                    "is_accepted": true,
                    "score": 0
                },
                {
                    "body": "<p>Why not have a back button in the header section of your page? Something like this:</p>\n\n<pre><code>&lt;div data-role=\"header\"&gt;\n    &lt;a data-direction=\"reverse\" data-role=\"button\" href=\"#winelist\" data-icon=\"back\"&gt;Back&lt;/a&gt;\n    &lt;h1&gt;Wine Detail&lt;/h1&gt;\n&lt;/div&gt;&lt;!-- /header --&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you have the situation that you want the close button refer to an arbitrary (not the last) page, you could also change first to the target page and open the dialog afterwards. Therefore the close button at the dialog will open the target page.</p>\n\n<pre><code>// First: change to the target page\n$.mobile.changePage('#target_page');\n</code></pre>\n\n<p>Afterwards open the dialog like this.</p>\n\n<pre><code>// Second: change to the dialog \nwindow.setTimeout(\n   // for some reason you have to wrap it in a timeout  \n   function(){\n      $.mobile.changePage('#dialog');\n   },\n   1\n);\n</code></pre>\n\n<p>Now you can open the dialog and the close button will open #target_page. </p>\n\n<p>Advantages:</p>\n\n<ul>\n<li>solution works for single dialogs rather than removing all close buttons from all dialogs</li>\n<li>seamless integration on a single point of code</li>\n<li>history manipulation is not needed</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I have seen similar issues before when using jquery mobile and it is addressed in the documentation. When setting up your Javascript \"at the beginning of your page\" use pageinit instead of ready or maybe in your case pageshow. I think this will address your issue without having to workaround the history queue.</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I'll start this off with I have researched a bit, but no solution that solves what seems like it should be a simple JQM modification.</p>\n\n<p>I have a wine review webapp that has the following view user flow:\n<a href=\"http://5buckchuck.com/\">http://5buckchuck.com/</a></p>\n\n<p>Wine type > Wine list > Wine Details > Wine review (redirect via django backto ) > Wine Details updated from review</p>\n\n<p>What I want to happen is when the user presses the back button it should go back to the wine list. What currently happens is the the Wine Detail view is reloaded. It takes pressing back three times to get back to the Wine List. :-(</p>\n\n<p>My thoughts to solve this were two:</p>\n\n<ol>\n<li><p>Splice the last 3 items from the history stack, if the last items in the history stack was  Wine Review. I had a hard time trying to introspect the last history object to get the pageURL. I have a feeling that this solution is a bit too fragile though.</p>\n\n<pre><code>var last_hist = $.mobile.urlHistory.getActive();\nlast_hist.data.pageURL;\n</code></pre></li>\n<li><p>The second thought was to override the back button behavior so that the back button from the Wine Detail view would always go back to the Wine list view</p>\n\n<pre><code>$('div#wine_detail').live('pageshow',function(event, ui){      \n  $(\"a.ui-btn-left\").bind(\"click\", function(){\n    location.replace(\"/wines/{{wine.wine_type}}/#\");\n  });   \n});\n</code></pre></li>\n</ol>\n\n<p>There is probably a better way to do this, but I'm a bit out of ideas. </p>\n\n<p>Update:\nSo I continue to hack on this with somewhat negligible results. On thing I have found was this is what I basically need to work: <code>window.history.go(-3)</code></p>\n\n<p>from the console it does exactly what I need.</p>\n\n<p>So I tried binding it the the back button like such:</p>\n\n<pre><code>$('div#wine_detail').live('pageshow',function(event, ui){\n  var last = $.mobile.urlHistory.stack.length - 1;\n  var last_url = $.mobile.urlHistory.stack[last].url;\n  var review_url = /review/g;\n   if (last_url.match(review_url) )\n     {\n       $('div#wine_detail a.ui-btn-left').bind( 'click', function( ) {  \n         console.log(\"click should be bound and going back in time...\")\n         window.history.go(-2);\n         });\n   }\n   else\n   {\n     console.log('err nope its: ' + last_url);\n   }\n });\n</code></pre>\n\n<p>No dice, something interupts the transaction...</p>\n",
            "last_activity_date": 1366944429,
            "question_id": 10262629,
            "score": 13,
            "tags": [
                "javascript",
                "django",
                "jquery-mobile",
                "browser-history"
            ],
            "title": "How to modify jQuery mobile history Back Button behavior"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It is quite clear that the terms \"background page\", \"popup\", \"content script\" are still causing you great confusion, so I strongly suggest a more in-depth look at the <strong><a href=\"https://developer.chrome.com/extensions/index.html\">Google Chrome Extensions Documentation</a></strong>.</p>\n\n<p>I am not going to get into any detail regarding what you have been doing wrong (its quite a few things). Regarding your question if content scripts or background pages are the way to go:</p>\n\n<p><strong>Content scripts</strong>: Definitely<br>\nContent scripts are definitely necessary, since they are the only component of an extension that has access to the web-page's DOM.</p>\n\n<p><strong>Background page / Popup</strong>: Maybe (probably max. 1 of the two)<br>\nDepending on what you are trying to achieve, you might need to have the content script pass the DOM content to either a background page or the popup for further processing.</p>\n\n<hr>\n\n<p>Let me repeat that I strongly recommend a more careful study of the available documentation !<br>\nThat said, here a sample extension that retrieves the DOM content on StackOverflow pages and sends it to the background page, which in turn prints it in the console:</p>\n\n<p><strong>background.js:</strong></p>\n\n<pre><code>/* Regex-pattern to check URLs against. \n   It matches URLs like: http[s]://[...]stackoverflow.com[...] */\nvar urlRegex = /^https?:\\/\\/(?:[^\\.]+\\.)?stackoverflow\\.com/;\n\n/* A function creator for callbacks */\nfunction doStuffWithDOM(domContent) {\n    console.log(\"I received the following DOM content:\\n\" + domContent);\n}\n\n/* When the browser-action button is clicked... */\nchrome.browserAction.onClicked.addListener(function(tab) {\n    /*...check the URL of the active tab against our pattern and... */\n    if (urlRegex.test(tab.url)) {\n        /* ...if it matches, send a message specifying a callback too */\n        chrome.tabs.sendMessage(tab.id, { text: \"report_back\" },\n                                doStuffWithDOM);\n    }\n});\n</code></pre>\n\n<p><strong>content.js:</strong></p>\n\n<pre><code>/* Listen for messages */\nchrome.runtime.onMessage.addListener(function(msg, sender, sendResponse) {\n    /* If the received message has the expected format... */\n    if (msg.text &amp;&amp; (msg.text == \"report_back\")) {\n        /* Call the specified callback, passing \n           the web-pages DOM content as argument */\n        sendResponse(document.all[0].outerHTML);\n    }\n});\n</code></pre>\n\n<p><strong>manifest.json:</strong></p>\n\n<pre><code>{\n    \"manifest_version\": 2,\n    \"name\":    \"Test Extension\",\n    \"version\": \"0.0\",\n    ...\n\n    \"background\": {\n        \"persistent\": false,\n        \"scripts\": [\"background.js\"]\n    },\n    \"content_scripts\": [{\n        \"matches\": [\"*://*.stackoverflow.com/*\"],\n        \"js\":      [\"content.js\"]\n    }],\n    \"browser_action\": {\n        \"default_title\": \"Test Extension\"\n    },\n\n    \"permissions\": [\"activeTab\"]\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 20
                }
            ],
            "body": "<p>I'm trying to access the activeTab DOM content from my popup. Here is my manifest:</p>\n\n<pre><code>{\n  \"manifest_version\": 2,\n\n  \"name\": \"Test\",\n  \"description\": \"Test script\",\n  \"version\": \"0.1\",\n\n  \"permissions\": [\n    \"activeTab\",\n    \"https://api.domain.com/\"\n  ],\n\n  \"background\": {\n    \"scripts\": [\"background.js\"],\n    \"persistent\": false\n  },\n  \"content_security_policy\": \"script-src 'self' 'unsafe-eval'; object-src 'self'\",\n\n  \"browser_action\": {\n    \"default_icon\": \"icon.png\",\n    \"default_title\": \"Chrome Extension test\",\n    \"default_popup\": \"index.html\"\n  }\n}\n</code></pre>\n\n<p>I'm really confused whether background scripts (event pages with persistence: false) or content_scripts are the way to go. I've read all the documentation and other SO posts and it still makes no sense to me.</p>\n\n<p>Can someone explain why I might use one over the other.</p>\n\n<p>Here is the background.js that I've been trying:</p>\n\n<pre><code>chrome.extension.onMessage.addListener(\n  function(request, sender, sendResponse) {\n    // LOG THE CONTENTS HERE\n    console.log(request.content);\n  }\n);\n</code></pre>\n\n<p>And I'm just executing this from the popup console:</p>\n\n<pre><code>chrome.tabs.getSelected(null, function(tab) {\n  chrome.tabs.sendMessage(tab.id, { }, function(response) {\n    console.log(response);\n  });\n});\n</code></pre>\n\n<p>I'm getting:</p>\n\n<pre><code>Port: Could not establish connection. Receiving end does not exist. \n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<pre><code>{\n  \"manifest_version\": 2,\n\n  \"name\": \"test\",\n  \"description\": \"test\",\n  \"version\": \"0.1\",\n\n  \"permissions\": [\n    \"tabs\",\n    \"activeTab\",\n    \"https://api.domain.com/\"\n  ],\n\n  \"content_scripts\": [\n    {\n      \"matches\": [\"&lt;all_urls&gt;\"],\n      \"js\": [\"content.js\"]\n    }\n  ],\n\n  \"content_security_policy\": \"script-src 'self' 'unsafe-eval'; object-src 'self'\",\n\n  \"browser_action\": {\n    \"default_icon\": \"icon.png\",\n    \"default_title\": \"Test\",\n    \"default_popup\": \"index.html\"\n  }\n}\n</code></pre>\n\n<p>content.js</p>\n\n<pre><code>chrome.extension.onMessage.addListener(\n  function(request, sender, sendResponse) {\n    if (request.text &amp;&amp; (request.text == \"getDOM\")) {\n      sendResponse({ dom: document.body.innertHTML });\n    }\n  }\n);\n</code></pre>\n\n<p>popup.html</p>\n\n<pre><code>chrome.tabs.getSelected(null, function(tab) {\n  chrome.tabs.sendMessage(tab.id, { action: \"getDOM\" }, function(response) {\n    console.log(response);\n  });\n});\n</code></pre>\n\n<p>When I run it, I still get the same error:</p>\n\n<pre><code>undefined\nPort: Could not establish connection. Receiving end does not exist. lastError:30\nundefined\n</code></pre>\n",
            "last_activity_date": 1388825299,
            "question_id": 19758028,
            "score": 12,
            "tags": [
                "javascript",
                "google-chrome-extension"
            ],
            "title": "Chrome Extension - Get DOM content"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The <code>sharedService</code> is being shared, but one angular app doesn't know that something updated in the other app so it doesn't kick off a <code>$digest</code>. You have to manually tell the <code>$rootScope</code> of each application to start a <code>$digest</code> by calling <code>$rootscope.$apply()</code></p>\n\n<p>Fiddle: <a href=\"http://jsfiddle.net/pvtpenguin/k9KM7/3/\">http://jsfiddle.net/pvtpenguin/k9KM7/3/</a></p>\n\n<pre><code>  angular.module('test-service', [])\n  .service('TestService', function($rootScope, $window){\n    var text = 'Initial state';\n    $window.rootScopes = $window.rootScopes || [];\n    $window.rootScopes.push($rootScope);\n\n    if (!!$window.sharedService){\n      return $window.sharedService;\n    }\n\n    $window.sharedService = {\n      change: function(newText){\n        text = newText;\n        angular.forEach($window.rootScopes, function(scope) {\n          if(!scope.$$phase) {\n              scope.$apply();\n          }\n        });\n      },\n      get: function(){\n        return text;\n      }\n    }\n\n    return $window.sharedService;\n  });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>I was trying to solve a similar problem. Sharing factories between apps running in different iFrames. I wanted any <code>$apply()</code> in any frame to cause a digest cycle in all other frames. Allowing simple <code>ng-clicks</code> bound directly to a factory method to update the view in all other frames. I created a module which handles the binding of scopes and sharing of factories:</p>\n\n<p><a href=\"http://plnkr.co/edit/NX66ER0oRpy9fzBrYuTi?p=preview\" rel=\"nofollow\">Click here to see plunkr</a></p>\n\n<p>Just include the module on each app:</p>\n\n<pre><code>angular.module('App', ['iFrameBind'])\n</code></pre>\n\n<p>And change any factory's return statement to return the shared version of that factory:</p>\n\n<pre><code>return sharedFactory.register('counter', service);\n</code></pre>\n\n<p>e.g.</p>\n\n<pre><code>.factory('counter', function (sharedFactory) {\n\n  var service;\n  var val = 0;\n\n  function inc() {\n    val++;\n  }\n\n  function dec() {\n    val--;\n  }\n\n  function value() {\n    return val;\n  }\n\n  service = {\n    inc: inc,\n    dec: dec,\n    value: value\n  };\n\n  return sharedFactory.register('counter', service);\n})\n\n.directive('counter', function (counter) {\n  return {\n    template: '{{counter.value()}} ' +\n              '&lt;button ng-click=\"counter.inc()\"&gt;Up&lt;/button&gt; ' +\n              '&lt;button ng-click=\"counter.dec()\"&gt;Down&lt;/button&gt; ',\n    restrict: 'E',\n    link: function postLink(scope) {\n      scope.counter = counter;\n    }\n  };\n});\n</code></pre>\n\n<p>Counter updates in both frames when click happens in either</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm building an ecommerce site (based on shopify) and I'm using multiple small angularjs apps to handle things such as a quick shopping cart, wishlists, filtering products and a few other smaller items. I initially used one big application (that had routing and everything), but it was a bit to restrictive when I didn't have a full REST API.</p>\n\n<p>There are a couple of services that I would like to share between the angular apps (the cart service, so I can have a quick add button that will reflect in the mini-cart and such), but I'm not sure of the best way (if there is a way) to go about this. Just sharing a module with the service doesn't keep the same state across the apps.</p>\n\n<p>I tried my hand at it, but I it doesn't seem to update state between both apps. The following is the javascript I tried using. It's also on jsfiddle with accompanying html: <a href=\"http://jsfiddle.net/k9KM7/1/\">http://jsfiddle.net/k9KM7/1/</a></p>\n\n<pre><code>angular.module('test-service', [])\n  .service('TestService', function($window){\n    var text = 'Initial state';\n\n    if (!!$window.sharedService){\n      return $window.sharedService;\n    }\n\n    $window.sharedService = {\n      change: function(newText){\n        text = newText;\n      },\n      get: function(){\n        return text;\n      }\n    }\n\n    return $window.sharedService;\n  });\n\nangular.module('app1', ['test-service'])\n  .controller('App1Ctrl', function($scope, TestService){\n    $scope.text = function(){ return TestService.get() }\n    $scope.change = function(){ TestService.change('app 1 activated') }\n  });\n\nangular.module('app2', ['test-service'])\n  .controller('App2Ctrl', function($scope, TestService){\n    $scope.text = function(){ return TestService.get() }\n    $scope.change = function(){ TestService.change('app 2 activated') }\n  });\n\nvar app1El = document.getElementById('app1');\nvar app2El = document.getElementById('app2');\n\nangular.bootstrap(app1El, ['app1', 'test-service']);\nangular.bootstrap(app2El, ['app2', 'test-service']);\n</code></pre>\n\n<p>Any help would be appreciated</p>\n",
            "last_activity_date": 1409911824,
            "question_id": 16725392,
            "score": 12,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "Share a single service between multiple angular.js apps"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The <code>!</code> is an ordinary logical negation.<br>\nThe <code>()</code> executes the function.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><em><strong>What the ! does</em></strong></p>\n\n<p>When you use <code>!</code>, the function becomes the single operand of the <em>unary (logical) NOT</em> operator. </p>\n\n<p>This forces the function to be evaluated as an expression, which allows it to be invoked immediately inline.</p>\n\n<hr>\n\n<p><em><strong>Other alternatives</em></strong></p>\n\n<p>You can do this with just about any operator. Here are some examples...</p>\n\n<pre><code>'invoke',function(){ /*code*/ }();\n1+function(){ /*code*/ }();\nvoid function(){ /*code*/ }();\n~function(){ /*code*/ }();\n+function(){ /*code*/ }();\n</code></pre>\n\n<p>Nice thing about some of these is that the meaning of the operator is not overloaded.</p>\n\n<hr>\n\n<p><em><strong>The problem with <code>()</code></em></strong></p>\n\n<p>When you use <code>()</code> around the function, you can hit some bugs that will crop up if you have more than one in a row without a semicolon separating them.</p>\n\n<pre><code>(function() {\n    alert('first');\n}())\n\n\n(function() {\n    alert('second');\n}())\n\n// TypeError: undefined is not a function\n</code></pre>\n\n<p>This will result in a <code>TypeError</code>, because the pair of outer <code>()</code> around the second function will be interpreted as intending to <em>call</em> a function. The first one doesn't return a function of course, so you're trying to call on <code>undefined</code>.</p>\n\n<hr>\n\n<p><em><strong>How using a different operator copes with (or avoids) the problem</em></strong></p>\n\n<p>Even an operator like <code>+</code>, which is overloaded to some degree won't cause an error.</p>\n\n<p>If you do this...</p>\n\n<pre><code>+function() {\n    alert('first');\n}()\n\n+function() {\n    alert('second');\n}()\n</code></pre>\n\n<p>The first <code>+</code> is interpreted as a <em>unary + operator</em>, and it converts the result returned from the first function, which in this case is <code>undefined</code> so it gets converted to <code>NaN</code>.</p>\n\n<p>The second <code>+</code> will be interpreted as the <em>addition operator</em>, and so will try to add <code>NaN</code> to the return result of the second function, which again here is <code>undefined</code>.</p>\n\n<p>The result of course is <code>NaN</code>, but it is harmless. There's no illegal code to throw an error.</p>\n\n<hr>\n\n<p><em><strong>Demonstration of how the operators interact with the functions</em></strong></p>\n\n<p>To prove this, just give each function a return value, then paste it into the console...</p>\n\n<pre><code>+function() {\n    alert('first');\n    return \"10\";\n}()\n\n+function() {\n    alert('second');\n    return 20;\n}()\n\n// 30\n</code></pre>\n\n<p>You'll get the two <code>alert</code>s, and then the console will show <code>30</code> because the first <code>+</code> operator converts the String <code>\"10\"</code> to the Number <code>10</code>, and the second <code>+</code> added the two results together.</p>\n",
                    "is_accepted": true,
                    "score": 38
                }
            ],
            "body": "<p>I've seen:</p>\n\n<pre><code>!function(){ //code }();\n</code></pre>\n\n<p>Used in several places to immediately execute an anonymous function.  Normally, it's used in lieu of:</p>\n\n<pre><code>(function(){ //code }())\n</code></pre>\n\n<p>Anyone know how the <code>!</code> actually makes the function execute?</p>\n",
            "last_activity_date": 1324997542,
            "question_id": 8611700,
            "score": 12,
            "tags": [
                "javascript"
            ],
            "title": "How exactly does !function(){}() work?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<h2>Demo: <a href=\"http://phrogz.net/SVG/screen_location_for_element.xhtml\">http://phrogz.net/SVG/screen_location_for_element.xhtml</a></h2>\n\n<pre><code>var svg = document.querySelector('svg');\nvar pt  = svg.createSVGPoint();\nfunction screenCoordsForRect(rect){\n  var corners = {};\n  var matrix  = rect.getScreenCTM();\n  pt.x = rect.x.animVal.value;\n  pt.y = rect.y.animVal.value;\n  corners.nw = pt.matrixTransform(matrix);\n  pt.x += rect.width.animVal.value;\n  corners.ne = pt.matrixTransform(matrix);\n  pt.y += rect.height.animVal.value;\n  corners.se = pt.matrixTransform(matrix);\n  pt.x -= rect.width.animVal.value;\n  corners.sw = pt.matrixTransform(matrix);\n  return corners;\n}\n</code></pre>\n\n<p>The magenta squares are absolutely-positioned divs in the HTML element, using screen space coordinates. When you drag or resize the rectangles this function is called and moves the corner divs over the four corners  (lines 116-126). Note that this works even when the rectangles are in arbitrary nested transformation (e.g. the blue rectangle) and the SVG is scaled (resize your browser window).</p>\n\n<p>For fun, drag one of the rectangles off the edge of the SVG canvas and notice the screen-space corners staying over the unseen dots.</p>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>You can also check for the existence of the <code>elm.getScreenBBox()</code> method, which does what it sounds like. It's defined in <a href=\"http://www.w3.org/TR/SVGTiny12/svgudom.html#svg__SVGLocatable_getScreenBBox\" rel=\"nofollow\">SVG Tiny 1.2</a>.</p>\n\n<p><a href=\"http://my.opera.com/MacDev_ed/blog/getting-screen-boundingboxes-in-svg\" rel=\"nofollow\">Here's a blogpost</a> I wrote about that, which includes a fallback implementation of <code>getScreenBBox</code> that should work in all browsers.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I am trying to get the screen pixel coordinates of a rectangle in SVG via java script.\nWhen the rectangle has been clicked, I can figure out its width, height, x and y position with getBBox().</p>\n\n<p>But these positions are the original positions. I want the screen position.</p>\n\n<p>For example if I manipulate the viewBox of the whole SVG, these getBBox coordinates are not any more the same than the screen pixels. Is there a function or way to get the\ncoordinates considering the current viewBox and the pixel size of svg element?</p>\n",
            "last_activity_date": 1340822068,
            "question_id": 5834298,
            "score": 12,
            "tags": [
                "javascript",
                "svg"
            ],
            "title": "Getting the Screen Pixel coordinates of a Rect element"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Run it in Firefox and check Tools | Error Console.  if setTimeout fails it may tell you why there.</p>\n\n<p>Also, try replacing <code>\"someFunction();\"</code> with <code>\"alert('hi')\"</code> (no semicolon) and see if that works.  If so, the problem is narrowed down significantly.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As a matter of best-practice, try not to use strings as parameters to <code>setTimeout</code> and <code>setInterval</code> because that will invoke <code>eval</code> ... Using the following form might also make this problem easier to understand/debug:</p>\n\n<pre><code>setInterval(function () {\n    // do stuff\n    // ...\n    // now wait 2 secs then call someFunction\n    setTimeout(someFunction, 2000);\n}, 10000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This is a perfect candidate for closures:</p>\n\n<pre><code>setInterval(\n    function ()\n    {\n       var myVar = document.getElementById(\"givenID\");\n       setTimeout(\n          function()\n          {\n              // myVar is available because the inner closure \n              // gets the outer closures scope\n              myVar.innerHTML = \"Junk\";\n          },2000);\n    }, 10000);\n</code></pre>\n\n<p>Your problem is scope related, and this would work around that.</p>\n",
                    "is_accepted": true,
                    "score": 31
                },
                {
                    "body": "<p>I had a similar problem. The issue was that I was trying to call a method from within itself through a setTimeout(). Something like this, WHICH DIDN'T WORK FOR ME:</p>\n\n<pre><code>function myObject() {\n\n   this.egoist = function() {\n      setTimeout( 'this.egoist()', 200 );\n   }\n\n}\n\nmyObject001 = new myObject();\nmyObject001.egoist();\n</code></pre>\n\n<p>The following ALSO DIDN'T WORK:</p>\n\n<pre><code>... setTimeout( egoist, 200 );\n... setTimeout( egoist(), 200 );\n... setTimeout( this.egoist, 200 );\n... setTimeout( this.egoist(), 200 );\n... setTimeout( function() { this.egoist() }, 200 );\n</code></pre>\n\n<p>The solution was to use with() statement like so:</p>\n\n<pre><code>function myObject() {\n\n   this.egoist = function() {\n      with (this) { setTimeout( function() { egoist() }, 200 );}\n   }\n\n}\n\nmyObject001 = new myObject();\nmyObject001.egoist();\n</code></pre>\n\n<p>Of course, this is an endless cycle, but the point I'm making here is different.</p>\n\n<p>Hope this helps :)</p>\n",
                    "is_accepted": false,
                    "score": 11
                }
            ],
            "body": "<p>I am trying to call a setTimeout from within a setInterval callback:</p>\n\n<pre><code>function callback()\n{\n   //assign myVar\n   var myVar = document.getElementById(\"givenID\");\n   //...\n   //now wait 2 secs then call some code that uses myVAr\n   setTimeout(\"myVar.innerHTML = 'TEST'\", 2000);\n}\n\nsetInterval(\"callback();\", 10000);\n</code></pre>\n\n<p>setInterval works as expected but setTimeout call is failing. I guess the problem is related to the fact that I am referencing a variable (myVar) that's not in scope.</p>\n\n<p>What's the best way to solve this?</p>\n",
            "last_activity_date": 1312040442,
            "question_id": 237350,
            "score": 12,
            "tags": [
                "javascript",
                "scope"
            ],
            "title": "How to solve Var out of scope within setTimeout call"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Event handlers are called \"outside\" Angular, so although your <code>$scope</code> properties will be updated, the view will not update because Angular doesn't know about these changes.</p>\n\n<p>Call <code>$scope.$apply()</code> at the bottom of your event handler. This will cause a <a href=\"http://docs.angularjs.org/guide/concepts#runtime\">digest cycle</a> to run, and Angular will notice the changes you made to the <code>$scope</code> (because of the <code>$watches</code> that Angular set up due to using <code>{{ ... }}</code> in your HTML) and update the view.</p>\n",
                    "is_accepted": true,
                    "score": 45
                }
            ],
            "body": "<p>I'm trying to making some custom elements with AngularJS's and bind some events to it, then I notice $scope.var won't update UI when used in a binding function. </p>\n\n<p>Here is a simplified example that describing the probelm:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html ng-app=\"test\"&gt;\n  &lt;head&gt;\n    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/angularjs/1.0.6/angular.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"script.js\"&gt;&lt;/script&gt;\n\n  &lt;/head&gt;\n  &lt;body&gt;\n\n&lt;div ng-controller=\"Ctrl2\"&gt;\n  &lt;span&gt;{{result}}&lt;/span&gt;\n  &lt;br /&gt;\n  &lt;button ng-click=\"a()\"&gt;A&lt;/button&gt;\n  &lt;button my-button&gt;B&lt;/button&gt;\n\n&lt;/div&gt;\n\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>function Ctrl2($scope) {\n    $scope.result = 'Click Button to change this string';\n    $scope.a = function (e) {\n        $scope.result = 'A';\n    }\n    $scope.b = function (e) {\n        $scope.result = 'B';\n    }\n}\n\nvar mod = angular.module('test', []);\n\nmod.directive('myButton', function () {\n    return function (scope, element, attrs) {\n        //change scope.result from here works\n        //But not in bind functions\n        //scope.result = 'B';\n        element.bind('click', scope.b);\n    }\n});\n</code></pre>\n\n<p>DEMO : <a href=\"http://plnkr.co/edit/g3S56xez6Q90mjbFogkL?p=preview\">http://plnkr.co/edit/g3S56xez6Q90mjbFogkL?p=preview</a></p>\n\n<p>Basicly, I bind <code>click</code> event to <code>my-button</code> and want to change <code>$scope.result</code> when user clicked button B (similar to <code>ng-click:a()</code> on button A). But the view won't update to the new <code>$scope.result</code> if I do this way.</p>\n\n<p>What did I do wrong? Thanks.</p>\n",
            "last_activity_date": 1405293814,
            "question_id": 16066170,
            "score": 11,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "AngularJS Directives: Change $scope not reflected in UI"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>If you consider a URL being external if either the scheme, host or port is different, you could do something like this:</p>\n\n<pre><code>function isExternal(url) {\n    var match = url.match(/^([^:\\/?#]+:)?(?:\\/\\/([^\\/?#]*))?([^?#]+)?(\\?[^#]*)?(#.*)?/);\n    if (typeof match[1] === \"string\" &amp;&amp; match[1].length &gt; 0 &amp;&amp; match[1].toLowerCase() !== location.protocol) return true;\n    if (typeof match[2] === \"string\" &amp;&amp; match[2].length &gt; 0 &amp;&amp; match[2].replace(new RegExp(\":(\"+{\"http:\":80,\"https:\":443}[location.protocol]+\")?$\"), \"\") !== location.host) return true;\n    return false;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 25
                },
                {
                    "body": "<p>I know the regex version has already been accepted but I would bet this is \"faster\" than doing that complex of a regex. <code>String.replace</code> is quite fast.</p>\n\n<pre><code>var isExternal = function(url) {\n    var domain = function(url) {\n        return url.replace('http://','').replace('https://','').split('/')[0];\n    };\n\n    return domain(location.href) !== domain(url);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>pseudosavant's answer didn't exactly work for me, so I improved it.</p>\n\n<pre><code>var isExternal = function(url) {\n    return !(location.href.replace(\"http://\", \"\").replace(\"https://\", \"\").split(\"/\")[0] === url.replace(\"http://\", \"\").replace(\"https://\", \"\").split(\"/\")[0]);   \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I've been using psuedosavant's method, but ran into a few cases where it triggered false positives, such as domain-less links ( <code>/about</code>, <code>image.jpg</code> ) and anchor links ( <code>#about</code> ). The old method would also give inaccurate results for different protocols ( <code>http</code> vs <code>https</code> ).</p>\n\n<p>Here's my slightly modified version:</p>\n\n<pre><code>var checkDomain = function(url) {\n  if ( url.indexOf('//') === 0 ) { url = location.protocol + url; }\n  return url.toLowerCase().replace(/([a-z])?:\\/\\//,'$1').split('/')[0];\n};\n\nvar isExternal = function(url) {\n  return ( ( url.indexOf(':') &gt; -1 || url.indexOf('//') &gt; -1 ) &amp;&amp; checkDomain(location.href) !== checkDomain(url) );\n};\n</code></pre>\n\n<p>Here are some tests with the updated function:</p>\n\n<pre><code>isExternal('http://google.com'); // true\nisExternal('https://google.com'); // true\nisExternal('//google.com'); // true (no protocol)\nisExternal('mailto:mail@example.com'); // true\nisExternal('http://samedomain.com:8080/port'); // true (same domain, different port)\nisExternal('https://samedomain.com/secure'); // true (same domain, https)\n\nisExternal('http://samedomain.com/about'); // false (same domain, different page)\nisExternal('HTTP://SAMEDOMAIN.COM/about'); // false (same domain, but different casing)\nisExternal('//samedomain.com/about'); // false (same domain, no protocol)\nisExternal('/about'); // false\nisExternal('image.jpg'); // false\nisExternal('#anchor'); // false\n</code></pre>\n\n<p>It's more accurate overall, and it even ends up being marginally faster, according to some basic <a href=\"http://jsperf.com/external-url-test\" rel=\"nofollow\">jsperf tests</a>. If you leave off the <code>.toLowerCase()</code> for case-insensitive testing, you can speed it up even more.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>What's the fastest method to detect if <code>my_var</code> (=url) is external (eg. compare with location.href)? </p>\n\n<pre><code>alert(location.href) // eg. sub.mydomain.com is internal\n\nvar my_var = \"http://www.wikipedia.com\"; // is external\n</code></pre>\n\n<p>Keep it simple, stupid.</p>\n",
            "last_activity_date": 1421943515,
            "question_id": 6238351,
            "score": 11,
            "tags": [
                "javascript",
                "jquery",
                "url",
                "location",
                "href"
            ],
            "title": "Fastest way to detect external URLs?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Whether a javascript file is cached depends on how your web server is setup, how the users browser is setup and also how any HTTP proxy servers between your server and the user are setup. The only bit you can control is how your server is setup.</p>\n\n<p>If you want the best chance of your javascript being cached then you server needs to be sending the right HTTP headers with the javascript file. Exactly how you do that depends on what web server you are using.</p>\n\n<p>Here are a couple of links that might help:</p>\n\n<p>Apache - <a href=\"http://httpd.apache.org/docs/2.0/mod/mod_expires.html\">http://httpd.apache.org/docs/2.0/mod/mod_expires.html</a></p>\n\n<p>IIS - <a href=\"http://www.microsoft.com/technet/prodtechnol/WindowsServer2003/Library/IIS/0fc16fe7-be45-4033-a5aa-d7fda3c993ff.mspx?mfr=true\">http://www.microsoft.com/technet/prodtechnol/WindowsServer2003/Library/IIS/0fc16fe7-be45-4033-a5aa-d7fda3c993ff.mspx?mfr=true</a></p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>The browser will automatically look after what it has in it's own cache. There are various mechanisms you can use for controlling it however.</p>\n\n<p>Look into the various HTTP caching headers, such as:</p>\n\n<ul>\n<li>Last-Modified</li>\n<li>Expires</li>\n<li>ETag</li>\n</ul>\n\n<p>The Expires header is the most critical of these when it comes to client-side caching. If you set a far future Expires header (eg, 10 years) the browser will not (in theory) not look to the server again for that file. Of course then you need a method of changing the file name when the contents of the the file change. Most people manage this by adding a build number to the file path.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The browser will take care of caching for you.</p>\n\n<p>When the cache is emptied depends partly on the browser settings and partly on the headers you send.  If you set an <code>Expires</code> header, then the browser shouldn't re-request the file until it has expired.  Reading about <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html\" rel=\"nofollow\">HTTP Headers</a> might help you.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>How can  I check for a javascript file in user's cache. If he refreshed the page or visits the site after sometime. I need not download that js file again. Does the js files get cleaned up after a site is closed. </p>\n",
            "last_activity_date": 1424032976,
            "question_id": 535940,
            "score": 11,
            "tags": [
                "javascript",
                "http",
                "web-applications",
                "browser",
                "caching"
            ],
            "title": "Check browser&#39;s cache for a js file"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The second argument on the <code>addEventListener()</code> function accepts <em>type function</em>. So you cannot pass <code>initialiseMediaPlayer();</code> because that is a function invocation.</p>\n\n<p>What you can do is:</p>\n\n<pre><code>var onDOMContentLoaded = function() {\n    initialiseMediaPlayer();\n};\ndocument.addEventListener(\"DOMContentLoaded\", onDOMContentLoaded, false);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>1). Yes there is great difference. The second version will throw an error. But even if you fix it like this:</p>\n\n<pre><code>document.addEventListener(\"DOMContentLoaded\", initialiseMediaPlayer(), false);\n</code></pre>\n\n<p><code>initialiseMediaPlayer</code> will not be called on <code>DOMContentLoaded</code> because <code>()</code> make it execute immediately, while you have to pass a referece to a <em>function</em>, not its result.</p>\n\n<p>2). Another significant difference is the <strong>context of invocation</strong>.</p>\n\n<pre><code>document.addEventListener(\"DOMContentLoaded\", initialiseMediaPlayer, false);\n</code></pre>\n\n<p><code>initialiseMediaPlayer</code> will be invoked in the context of <code>document</code> object. While the first version will be called in <code>Window</code> object context.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>in the first case</p>\n\n<pre><code>document.addEventListener(\"DOMContentLoaded\", function() {\n    initialiseMediaPlayer();\n}, false);\n</code></pre>\n\n<p>the anonymous function <code>function(){initialiseMediaPlayer();}</code> is registered to be triggered when the document's event 'DOMContentLoaded' gets triggered</p>\n\n<p>in the second case:</p>\n\n<pre><code>document.addEventListener(\"DOMContentLoaded\", initialiseMediaPlayer();, false);\n</code></pre>\n\n<p>what is registered as the event listener is the result of the expression <code>initialiseMediaPlayer()</code></p>\n\n<p>so, yes, there is a difference :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>document.addEventListener(\"DOMContentLoaded\", function() {\n    initialiseMediaPlayer();\n}, false);\n</code></pre>\n\n<p>Will execute <code>initialiseMediaPlayer</code> when the dom content is loaded.</p>\n\n<pre><code>document.addEventListener(\"DOMContentLoaded\", initialiseMediaPlayer();, false);\n</code></pre>\n\n<p>is a syntax error; if you remove the semicolon:</p>\n\n<pre><code>document.addEventListener(\"DOMContentLoaded\", initialiseMediaPlayer(), false);\n</code></pre>\n\n<p>calls <code>initialiseMediaPlayer</code> immediately, then passes the return value (which likely <em>isn't</em> a function) to <code>addEventListener</code>. This won't act as desired.</p>\n\n<hr>\n\n<p>You can do</p>\n\n<pre><code>    document.addEventListener(\"DOMContentLoaded\", initialiseMediaPlayer, false);\n</code></pre>\n\n<p>(remove the parentheses = function call). Then <code>initialiseMediaPlayer</code> will be executed on dom content loaded, and act as desired.</p>\n\n<p>However, unlike in the former case, <code>initialiseMediaPlayer</code> will actually receive the arguments given by the browser. Also, its return value is received by the browser. In case od <code>DOMContentLoaded</code>, most likely this doesn't matter much.</p>\n\n<p>You also avoid create one extra anonymous function if you pass <code>initialiseMediaPlayer</code> directly. Again, the effect is not really perceptible from the user's standpoint.</p>\n",
                    "is_accepted": true,
                    "score": 38
                }
            ],
            "body": "<p>I am new to Event Handlers and I have come across a code that is written below</p>\n\n<pre><code>document.addEventListener(\"DOMContentLoaded\", function() {\n    initialiseMediaPlayer();\n}, false);\n</code></pre>\n\n<p>Is there any difference in writing the same code as </p>\n\n<pre><code>document.addEventListener(\"DOMContentLoaded\", initialiseMediaPlayer();, false);\n</code></pre>\n\n<p>Ultimately we are calling the same function, so does it make a difference or is there some advantage in writing it in the manner above? </p>\n",
            "last_activity_date": 1362597372,
            "question_id": 15255801,
            "score": 10,
            "tags": [
                "javascript",
                "function",
                "addeventlistener"
            ],
            "title": "Javascript addEventListener function"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The <a href=\"https://developer.mozilla.org/en/docs/Drawing_text_using_a_canvas#fillText%28%29\" rel=\"nofollow\"><code>fillText()</code></a> method has an optional fourth argument, which is the <em>max width</em> to render the string.</p>\n\n<p>MDN's documentation says...</p>\n\n<blockquote>\n  <p><strong>maxWidth</strong></p>\n  \n  <p>Optional; the maximum width to draw.  If specified, and the string is\n  computed to be wider than this width, the font is adjusted to use a\n  more horizontally condensed font (if one is available or if a\n  reasonably readable one can be synthesized by scaling the current font\n  horizontally) or a smaller font.</p>\n</blockquote>\n\n<p>However, at the time of writing, this argument isn't supported well cross browser, which leads to the second solution using <a href=\"https://developer.mozilla.org/en/Drawing_text_using_a_canvas#measureText%28%29\" rel=\"nofollow\"><code>measureText()</code></a> to determine the dimensions of a string without rendering it.</p>\n\n<pre><code>var width = ctx.measureText(text).width;\n</code></pre>\n\n<p>Here is how I may do it...</p>\n\n<pre><code>var canvas = document.getElementById('canvas'),\n    ctx = canvas.getContext('2d');\n\n// Font sizes must be in descending order. You may need to use `sort()`\n// if you can't guarantee this, e.g. user input.\nvar fontSizes = [72, 36, 28, 14, 12, 10, 5, 2],\n    text = 'Measure me!';\n\n// Default styles.\nctx.textBaseline = 'top';\nctx.fillStyle = 'blue';\n\nvar textDimensions,\n    i = 0;\n\ndo {\n   ctx.font = fontSizes[i++] + 'px Arial';\n   textDimensions = ctx.measureText(text);        \n} while (textDimensions.width &gt;= canvas.width);\n\nctx.fillText(text, (canvas.width - textDimensions.width) / 2, 10);\u200b\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/52ECS/\" rel=\"nofollow\">jsFiddle</a>.</p>\n\n<p>I have a list of font sizes in descending order and I iterate through the list, determining if the rendered text will fit within the canvas dimensions.</p>\n\n<p>If it will, I render the text center aligned. If you must have padding on the left and right of the text (which will look nicer), add the padding value to the <code>textDimensions.width</code> when calculating if the text will fit.</p>\n\n<p>If you have a long list of font sizes to try, you'd be better off using a <a href=\"http://en.wikipedia.org/wiki/Binary_search_algorithm\" rel=\"nofollow\">binary search algorithm</a>. This will increase the complexity of your code, however.</p>\n\n<p>For example, if you have 200 font sizes, the linear iteration through the array elements will be O(n).</p>\n\n<p>The binary chop should be O(log n).</p>\n\n<p>Here is the <em>guts</em> of the function.</p>\n\n<pre><code>var textWidth = (function me(fontSizes, min, max) {\n\n    var index = Math.floor((min + max) / 2);\n\n    ctx.font = fontSizes[index] + 'px Arial';\n\n    var textWidth = ctx.measureText(text).width;\n\n    if (min &gt; max) {\n        return textWidth;\n    }\n\n    if (textWidth &gt; canvas.width) {\n        return me(fontSizes, min, index - 1);\n    } else {\n        return me(fontSizes, index + 1, max);\n    }\n\n})(fontSizes, 0, fontSizes.length - 1);\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/3JmfP/\" rel=\"nofollow\">jsFiddle</a>.</p>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>I have the next code and  it works perfectly for me. Maybe there is a little error but I don't need to have a list of font sizes. I just get the width with a font size and if it is too big I calculate a proportional size depending of the canvas width and padding (50)</p>\n\n<pre><code>ctx.font = FONT_SIZE+\"pt Verdana\";\nvar textWidth = ctx.measureText(markText).width;\nif(textWidth &gt; canvas.width - 50) {\n    ctx.font = parseInt(FONT_SIZE*(canvas.width-50)/textWidth)+\"pt Verdana\";\n    textWidth = ctx.measureText(markText).width;\n}\nctx.textBaseline = \"middle\";\nctx.fillStyle = \"rgba(255,255,255,0.5)\";\nctx.strokeStyle = \"rgba(0,0,0,0.5)\";\nvar xT = image.width / 2 - textWidth / 2;\nvar yT = image.height / 2;\nctx.fillText(markText, xT, yT);\nctx.strokeText(markText, xT, yT);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm drawing text in an HTML5 canvas on top of an image (a meme generator). I want to calculate a font size so that the string will span the entire width of the canvas. </p>\n\n<p>So basically, is there a way in JavaScript to determine what font size I should use for some string of a certain font for a given width?</p>\n",
            "last_activity_date": 1422703089,
            "question_id": 10099226,
            "score": 10,
            "tags": [
                "javascript",
                "html5",
                "text",
                "canvas",
                "fonts"
            ],
            "title": "Determine width of string in HTML5 canvas"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>In a brief, there are two key points:</p>\n\n<ul>\n<li>The <code>toString</code> method of an empty array returns an empty string.</li>\n<li>An empty string <em>coerces</em> to zero using the <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_11.4.6\">unary plus operator</a> or the <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_15.7.1\"><code>Number</code> constructor called as a function</a> (e.g. <code>+\"\" === 0;</code>).</li>\n</ul>\n\n<p>For example, we can use an object that defines a <code>toString</code> method, and returns an empty string to have an equivalent result:</p>\n\n<pre><code>var obj = { toString: function () { return \"\";} };\n+obj; //  0\nNumber(obj); // 0\n</code></pre>\n\n<p>This behavior is completely standard.</p>\n\n<p>Now the long answer:</p>\n\n<p>Both, the <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_11.4.6\">unary plus operator</a> and the <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_15.7.1\"><code>Number</code> constructor called as a function</a> internally use the <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_9.3\"><code>ToNumber</code></a> abstract operation.  </p>\n\n<p><code>ToNumber</code> will use two more internal operations, <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_9.1\"><code>ToPrimitive</code></a> and <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_9.1\"><code>[[DefaultValue]]</code></a>.</p>\n\n<p>When the <code>ToNumber</code> operation is applied to an Object, such the empty array in your example, it calls the <code>ToPrimitive</code> operation, to get a representative primitive value and call <code>ToNumber</code> again using that value <sup>[1]</sup>.</p>\n\n<p>The <code>ToPrimitive</code> operation receive two arguments, a Value (which is your array object), and a hint type, which in this case is \"Number\" since we want to make numeric conversion.</p>\n\n<p><code>ToPrimitive</code> calls the <code>[[DefaultValue]]</code> internal method, also with a \"Number\" hint type.</p>\n\n<p>Now, since the hint type we are using \"Number\", the <code>[[DefaultValue]]</code> internal method now will try to invoke first the <code>valueOf</code> method on the object.</p>\n\n<p>Array objects don't have a specific <code>valueOf</code> method, the method is the one inherited from <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_15.2.4.4\"><code>Object.prototype.valueOf</code></a>, and this method simply returns a reference to the <em>object</em> itself.</p>\n\n<p>Since the <code>valueOf</code> method didn't result in a <em>primitive value</em>, now the <code>toString</code> method is invoked, and it produces an empty string (which is a primitive value), then the <code>ToNumber</code> operation will try to do String-Number conversion and it finally end up with <code>0</code>  <sup>[1]</sup>.</p>\n\n<p>But now you might wonder, why an empty string coerces to zero?</p>\n\n<pre><code>+\"\"; // 0\n</code></pre>\n\n<p>There is a complete grammar that is used when the <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_9.3.1\"><code>ToNumber</code> internal operation is applied to a String type</a>, the <code>StringNumericLiteral</code> production.</p>\n\n<p>It has some differences between a NumericLiteral, and one of those differences is that:</p>\n\n<blockquote>\n  <p>A StringNumericLiteral that is empty or contains only white space is converted to +0.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>just when I thought I understood something about type conversion in JavaScript, I stumbled with this:</p>\n\n<pre><code>+[]; // 0\nNumber([]); // 0\n</code></pre>\n\n<p>My first thought was that I should get NaN, just like if I try to convert an empty object to number:</p>\n\n<pre><code>+{}; // NaN\nNumber({}); // NaN\n</code></pre>\n\n<p>I have been searching about this for a while without any success...</p>\n\n<p>Can somebody explain me why it gets converted to 0 and not to NaN?</p>\n\n<p>Is this behavior standard?</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1279783399,
            "question_id": 3306453,
            "score": 10,
            "tags": [
                "javascript",
                "type-conversion"
            ],
            "title": "Why an empty Array type-converts to zero? +[]"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>you would just print it out basically, and re-capture that information via javascript:</p>\n\n<pre><code>public function test() {\n    $somenumber = $this-&gt;input-&gt;post('someNumber');\n    if ($somenumber == 12) {\n        print \"Number is 12\";\n    } else {\n        print \"Number is not 12\";\n    }\n}\n</code></pre>\n\n<p>your javascript might look something like this:</p>\n\n<pre><code>var xhr;\nxhr = new XMLHTTPRequest();\nxhr.onreadystatechange = function() {\n    if (xhr.readyState == 4) {\n        // this is where the return information is\n        alert('Status: '+xhr.status+' Response: '+xhr.responseText);\n    }\n}\n\nxhr.open('POST', '/front/test');\nxhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\nxhr.send('someNumber=12');\n</code></pre>\n\n<p>the code above doesn't take into account browser specific issues, but should run on firefox/ie7 at least i believe.</p>\n\n<p>here's a jQuery example of all the above:</p>\n\n<pre><code>var options = {\n    'someNumber' : 12\n}\n\n$.post('/front/test', options, function(data) {\n    alert(data); // should print \"Number is 12\"\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>I've also found in CodeIgniter that 'XMLHTTPRequest' isn't returned in the response headers, when using the standard Javascript AJAX call as mentioned above. </p>\n\n<pre><code>$this-&gt;input-&gt;is_ajax_request();\n</code></pre>\n\n<p>The input helper doesn't ever return true unless you use jQuery to handle the AJAX POST request.</p>\n\n<p>I also tried the method in this article which didn't work: <a href=\"http://developer.practicalecommerce.com/articles/1810-The-Benefit-of-Putting-AJAX-and-CodeIgniter-PHP-Together\" rel=\"nofollow\">http://developer.practicalecommerce.com/articles/1810-The-Benefit-of-Putting-AJAX-and-CodeIgniter-PHP-Together</a></p>\n\n<p>This is what I used in the end:</p>\n\n<pre><code>    var query_params = $('#data-form').serialize();\n    $.ajax({\n        type: 'POST',       \n        url: 'process_this.php\",\n        data: queryParams,\n        context: document.body,\n\n    success: function(){\n        alert('complete'); // or whatever here\n    }\n</code></pre>\n\n<p>Possibly caused by a config issue to do with my CI install, haven't had time to investigate yet.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>It's kind of embarassing that I find it so difficult to learn JavaScript, but .. </p>\n\n<p>Let's say I have a really simple controller like this:</p>\n\n<pre><code>class front extends Controller {\n\n    public function __construct()\n    {\n    \tparent::Controller();\t\n    }\n\n    public function index()\n    {\n    \t//nothing!\n    }\n\n    public function test () {\n\n    \t$someNumber = $this-&gt;input-&gt;post('someNumber');\n\n    \tif ($someNumber == 12) { return TRUE; }\n\n    }\n\n}\n</code></pre>\n\n<p>Yes, that could probably be written better, haha. </p>\n\n<p>What I want to know is - how could I use JavaScript to submit a number in a form (I'll worry about validation and models later), how should I write my test() function so that it returns something readable by the JavaScript (I'm assuming return TRUE probably wouldn't work, perhaps XML or JSON or something like that?), and how do I access the data with the JavaScript? </p>\n\n<p>I know there are frameworks like jQuery that will help with this, but right now I'd just like to understand it at the simplest level and all the tutorials and guides I've found so far are way too in depth for me. An example in jQuery or whatever would be good too. </p>\n\n<p>Thanks a lot :)</p>\n",
            "last_activity_date": 1376882620,
            "question_id": 308054,
            "score": 10,
            "tags": [
                "php",
                "javascript",
                "ajax",
                "codeigniter"
            ],
            "title": "Learning how to use AJAX with CodeIgniter"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I ended up putting together this directive:</p>\n\n<pre><code>angular.module('myApp.directives', []).\n    directive('applyJqMobile', function() {\n        return function($scope, el) {\n            setTimeout(function(){$scope.$on('$viewContentLoaded', el.trigger(\"create\"))},1);\n        }\n    });\n</code></pre>\n\n<p>Then inside of each template, wrap the template content in a div and apply the directive there, i.e.:</p>\n\n<pre><code>&lt;div ng-controller=\"MyController\" apply-jq-mobile&gt;\n&lt;!-- Template Content to be jQ Mobilezed --&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This works, but because of the setTimeout, the content flashes for a split second when loading. I'm still working on figuring how how to get rid of the flash.</p>\n\n<p>To note, <em>without</em> the setTimeout in place, the data-role=\"listview\" wouldn't be styled (I'm guessing since it had to be populated by ng-repeat still), but any static content in the view <em>was</em> styled.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>For some reason, <em>el.trigger(\"create\")</em> doesn't work for me. After looking at the angularjs-jqm-adapter, I found it uses <em>el.<strong>parent()</strong>.trigger(\"create\")</em>, which it works for me. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'm pretty much working on the same thing (no jqm angular adapter). Here's my directive that gets triggered after the last element of the repeat:</p>\n\n<pre><code>Application.Directives.directive('jqmCollapsibleRepeat', function () {\n  return function (scope, element, attrs) {\n    if (scope.$last) {\n        $(element).parent().trigger(\"create\");\n    }\n  };\n});\n</code></pre>\n\n<p>and here's part of my view that uses it:</p>\n\n<pre><code>&lt;div data-role=\"collapsible\" data-collapsed=\"true\" data-transition=\"slide\" ng-repeat=\"document in documents\" jqm-collapsible-repeat&gt;\n    &lt;h3&gt;{{document.FileName}}&lt;/h3&gt;\n    ...\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For me this worked:</p>\n\n<p>html:</p>\n\n<pre><code>&lt;ul data-role=\"listview\" data-filter=\"true\" data-filter-placeholder=\"Suchen\" data-inset=\"true\"&gt;\n    &lt;li ng-repeat=\"alert in alerts\" li-jq-mobile&gt;\n        {{name}}\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>js:</p>\n\n<pre><code>angular.module('alertList', [])\n    .directive('liJqMobile', function() {\n        return function($scope, el) {\n            $scope.$on('$viewContentLoaded', el.parent().listview('refresh'));\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>for jqm pages and lists for me worked:</p>\n\n<p>For pages:</p>\n\n<pre><code>&lt;div applyjqmobile data-role=\"page\" &gt;\n</code></pre>\n\n<p>and for the list:</p>\n\n<pre><code>&lt;li lijqmobile ng-repeat=\"aviso in avisos\"  data-icon=\"false\" &gt;\n</code></pre>\n\n<p>And directives:</p>\n\n<pre><code>.directive('applyJqMobile', function() {\n    return function($scope, el) {\n        console.log('applyJqMobile');\n        $(el).hide();\n        setTimeout(function(){$scope.$on('$viewContentLoaded', el.parent().trigger(\"create\"))},1);\n        $(el).show();\n    }\n}).directive('liJqMobile', function() {\n    return function($scope, el) {\n      console.log('liJqMobile');\n      $(el).hide();\n      setTimeout(function(){ $scope.$on('$viewContentLoaded', el.parent().listview('refresh'))},1);\n      $(el).show();\n    }\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am learning AngularJS and have built a small application. Now that it's functionally complete, I'd like to style it up using jQuery Mobile.</p>\n\n<p>Originally I dropped in <a href=\"https://github.com/tigbro/jquery-mobile-angular-adapter\">tigbro's jquery-mobile-angular-adapter</a>, but ultimately decided it was more complicated and involved than I needed. I'm not after any fancy screen transitions or page management features in jQuery Mobile - I just want to use it for styling the application and let AngularJS handle the rest.</p>\n\n<p>I read <a href=\"http://coenraets.org/blog/2012/03/using-backbone-js-with-jquery-mobile/\">this post</a>, which has the same goal in mind, albeit with another framework, and contains a code snippet to disable the jQuery Mobile routing.</p>\n\n<p>I've applied that snippet to my application in this order of script loading, just before the close body tag:</p>\n\n<ol>\n<li>jQuery</li>\n<li>snippet</li>\n<li>jQuery Mobile</li>\n<li>AngularJS</li>\n</ol>\n\n<p>This snippet placement is the only one that works, or somewhat works anyway, in that anything in my index loads styled properly (header and main nav, basically), and my AngularJS routes work just fine, but any dynamically loaded templates that populate my ng-view, despite having jQuery Mobile data-roles (ul as listview, etc.), are not styled by jQuery Mobile; they're just plain HTML.</p>\n\n<p>Does anyone have an idea as to how I could get those dynamically loaded templates to also be styled?</p>\n\n<p>My index HTML structure looks like this:</p>\n\n<pre><code>&lt;body&gt;\n    &lt;div data-role=\"page\"&gt;\n        &lt;div data-role=\"header\" data-position=\"fixed\"&gt;\n            &lt;h1&gt;MyApp&lt;/h1&gt;\n                &lt;a href=\"#/home\"&gt;Home&lt;/a&gt;\n            &lt;a href=\"#/add_item\"&gt;Add&lt;/a&gt;\n        &lt;/div&gt;\n\n        &lt;div data-role=\"content\" ng-view&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;!-- Scripts --&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>And here's an example of one of my templates:</p>\n\n<pre><code>&lt;ul data-role=\"listview\" ng-controller=\"MyListCtrl\"&gt;\n    &lt;li ng:repeat=\"item in things\"&gt;\n        &lt;a href=\"#/item/{{ item.ID }}\"&gt;{{ item.title }}&lt;br/&gt;{{ formatDateForDisplay(item.addDate) }}&lt;/a&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Thank you!</p>\n",
            "last_activity_date": 1409004578,
            "question_id": 11461426,
            "score": 9,
            "tags": [
                "javascript",
                "jquery-mobile",
                "angularjs"
            ],
            "title": "AngularJS + jQuery Mobile w/ No Adapter &amp; Disabled Routing - Used For UI Styling Only"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>With the first method, you are declaring a single object. With the second, you are declaring a class from which you can instantiate (i.e. create) many different copies.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The difference is that the <code>thing1</code> object is associated with the <code>thing1</code> class, and will inherit (not literally) the <code>thing1</code> prototype.</p>\n\n<p>For example, you can later write </p>\n\n<pre><code>thing.prototype.initAndSend = function() { this.init(); this.send(); };\n</code></pre>\n\n<p>You will then be able to write <code>thing1.initAndSend()</code> without modifying <code>thing1</code>.  In addition, <code>thing1.constructor</code> will be equal to the <code>thing</code> method, whereas <code>{}.constructor</code> is equal to <code>Object</code>.</p>\n\n<p>By the way, standard convention is to capitalize class names.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>Case 2</strong> is referencing javascript <strong>class constructors</strong>.  A glaring difference is that the variable is not yet an object, so you cannot internally reference thing1.sanity.  You would have to initialize the class by creating an instance of said class prior to calling any internal members:</p>\n\n<pre><code>var myConstructor = function() {\n    this.sanity = 0;\n}\n\n// wont work\nalert(myConstructor.sanity);\n\n// works\nvar thing1 = new myConstructor();\nalert(thing1.sanity);\n</code></pre>\n\n<p>Here is an article going further in-depth than my quick example:</p>\n\n<p><a href=\"http://www.davidpirek.com/blog.aspx?n=JavaScript-Class-Constructor-vs.-Object-Literal%3A-Difference-in-Implementation-and-Inheritance\" rel=\"nofollow\">Class Constructors vs. Object Literals</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<h2>Static Objects /  Object Literals</h2>\n\n<p>Static objects, or object literals, don't require instantiation with the <code>new</code> operator and also behave like singletons.  Consider the following example:</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>var staticObject1 = {\n a: 123,\n b: 456\n};\nvar staticObject2 = staticObject1;\n\nstaticObject2.b = \"hats\";\nconsole.log(staticObject1, staticObject2);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Object a=123 b=456  Object a=123 b=456\nObject a=123 b=hats Object a=123 b=hats\n</code></pre>\n\n<p>Notice that changing <code>staticObject1.b</code> also affected <code>staticObject2.b</code>.  However, this may not always be the desired effect.  Many libraries, such as <a href=\"http://api.dojotoolkit.org/jsdoc/1.3.2/dojo.clone\">Dojo</a>, offer an object cloning method that can alleviate this situation if you want to make a copy of a static object.  Continuing the previous example, consider the following:</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>var staticObject3 = dojo.clone(staticObject1); // See the doc in the link above\nstaticObject1.a = \"pants\";\nconsole.log(staticObject1, staticObject2, staticObject3);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Object a=pants b=hats Object a=pants b=hats Object a=123 b=hats\n</code></pre>\n\n<p>Notice that the values of the members of <code>staticObject1</code> and <code>staticObject2</code> are the same, whereas <code>staticObject3</code> is not affected by changes to these other objects.</p>\n\n<p>Static objects are also useful for creating project or library namespaces, rather than filling up the global scope, and promotes compatibility like no one's business.</p>\n\n<p>This is useful when creating libraries that require portability or interoperability.  This can be seen in popular libraries such as Dojo, YUI and ExtJs, where all or most methods are called as <code>dojo.examplMethod()</code>, <code>YUI().exampleMethod()</code>, or <code>Ext.exampleMethod()</code> respectively. </p>\n\n<p>Static objects can also be considered loosely analogous to <code>struct</code>'s in C/C++.</p>\n\n<h2>Class Constructors / Instantiated Objects</h2>\n\n<p>Classes in JavaScript are based on prototypal inheritance, which is a far more complex subject and can be read about <a href=\"http://javascript.crockford.com/prototypal.html\">here</a>, <a href=\"https://developer.mozilla.org/en/Core%5FJavaScript%5F1.5%5FGuide/Inheritance\">here</a> and <a href=\"http://www.webreference.com/programming/javascript/prototypal%5Finheritance/\">here</a>.</p>\n\n<p>As opposed to static objects, this method of object creation gives the unique opportunity for private scope object members and methods because of JavaScript's closuer property.  Consider the following example of private class members:</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>var SomeObject = function() {\n    var privateMember = \"I am a private member\";\n    this.publicMember = \"I am a public member\";\n\n    this.publicMethod = function() {\n        console.log(privateMember, this.publicMember);\n    };\n};\n\nvar o = new SomeObject();\nconsole.log(typeof o.privateMember, typeof o.publicMember);\no.publicMethod();\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>undefined string\nI am a private member I am a public member\n</code></pre>\n\n<p>Notice that <code>typeof o.privateMember</code> is \"undefined\" and not accessible outside of the object, but is from within.  </p>\n\n<p>Private methods can also be made, but are not as straight forward yet are still simple to implement.  The issue lies in that the value of <code>this</code> inside of the private method defaults to <code>window</code> and one of two techniques must be applied to ensure that <code>this</code> refers to the object that we are working within, in this case, the instance of <code>SomeObject</code>.  Consider the following example:</p>\n\n<p><strong>Code:</strong> </p>\n\n<pre><code>var SomeObject = function() {\n    var privateMember = \"I am a private member\";\n    var privateMethod = function() {\n        console.log(this.publicMember);\n    };\n\n    this.publicMember = \"I am a public member\";\n    this.publicMethod = function() {\n        console.log(privateMember, this.publicMember);\n    };\n    this.privateMethodWrapper = function() {\n        privateMethod.call(this);\n    }\n};\n\nvar o = new SomeObject();\nconsole.log(typeof o.privateMethod, typeof o.publicMethod, typeof o.privateMethodWrapper);\no.privateMethodWrapper();\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>undefined function function\nI am a public member\n</code></pre>\n\n<p>Notice that withing <code>privateMethodWrapper()</code>, <code>privatemethod</code> was executed using <code>call</code> and passing in <code>this</code> for the function's context.  This is all fine; however, the following technique is preferable (in my opinion) as it simplifies the calling scope and produces identical results.  The previous example can be changed to the following:</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>var SomeObject = function() {\n    var self          = this;\n    var privateMember = \"I am a private member\";\n    var privateMethod = function() {\n        console.log(self.publicMember);\n    };\n\n    this.publicMember = \"I am a public member\";\n    this.publicMethod = function() {\n        console.log(privateMember, this.publicMember);\n    };\n    this.privateMethodWrapper = function() {\n        privateMethod();\n    }\n};\n\nvar o = new SomeObject();\nconsole.log(typeof o.privateMethod, typeof o.publicMethod, typeof o.privateMethodWrapper);\no.privateMethodWrapper();\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>undefined function function\nI am a public member\n</code></pre>\n\n<p>I am now going to go paste this into my blog.  Hope that helps ;)</p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>Functions are objects and also constructors (you can instantiate them using <code>new</code>).</p>\n\n<p>Hash-tables/Objects (<code>{}</code>) are not able to be instantiated, thus they are commonly used as data structures. And I am not so sure if it is wise to call them \"Objects\".</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I was just wondering about the difference between the following declaration of JavaScript objects. Specifically, the difference between thing object literal and thing1 object from thing class. </p>\n\n<h3>Code:</h3>\n\n<pre><code>var thing = {\n    sanity:0,\n    init:function(){\n        //code\n    },\n    send:function(){\n        //code\n    }\n}\n\nfunction thing(){\n    this.sanity = 0;\n    this.init = function(){\n        //code\n    };\n    this.send = function(){\n        //code\n    };\n}\n\nthing1 = new thing();\n</code></pre>\n",
            "last_activity_date": 1260069758,
            "question_id": 1704618,
            "score": 9,
            "tags": [
                "javascript",
                "object"
            ],
            "title": "What is the difference between var thing and function thing() in JavaScript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You have to use an array. That will store <code>x</code> and <code>y</code> like: </p>\n\n<pre><code>var coordinates = [0, 0];\ncoordinates = d3.mouse(this);\nvar x = coordinates[0];\nvar y = coordinates[1];\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>You can understand the click and drag function through this example very well.Hope it will helps..</p>\n\n<pre><code> var point = d3.mouse(this)\n  , p = {x: point[0], y: point[1] };\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/mdml/da37B/\" rel=\"nofollow\">http://jsfiddle.net/mdml/da37B/</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I suspect you might be trying some like:</p>\n\n<pre><code>var x = 0;\n\nsvg.on('mousemove', function () {\n   x = d3.mouse(this)[0];         \n});\n\nconsole.log(x);\n</code></pre>\n\n<p>Unless you have super fast hands, this will always write \"0\" to the console because the whole script executes while you are reaching for the mouse. Try putting your snippet directly into the console, move the mouse around and then type \"x\" into the console. You should see the latest x value.</p>\n\n<p>I hope this helps, but I may have misunderstood the question.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I just wanted to get the mouse position using D3 by using the following code:</p>\n\n<pre><code>var x = 0;\n\nsvg.on('mousemove', function () {\n   x = d3.mouse(this)[0];         \n});\n</code></pre>\n\n<p>but what I always get x=0!.\nBy using console.log(), I can see that x value is getting changed just inside the function() but out of it x got its initiate value=0.</p>\n\n<p>How can I save the x value and use it later in my application?</p>\n\n<p>Thanks guys,</p>\n",
            "last_activity_date": 1424707614,
            "question_id": 16770763,
            "score": 8,
            "tags": [
                "javascript",
                "d3.js"
            ],
            "title": "Mouse position in D3"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Sorry about my english. I'm using this library for drag/drop and it's great. Not sure if it's what you need, but it could help:</p>\n\n<p><a href=\"http://threedubmedia.com/code/event/drop/demo/selection\">http://threedubmedia.com/code/event/drop/demo/selection</a></p>\n\n<p><a href=\"http://threedubmedia.com/code/event/drag\">http://threedubmedia.com/code/event/drag</a></p>\n\n<p><a href=\"http://threedubmedia.com/code/event/drop\">http://threedubmedia.com/code/event/drop</a></p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>Even though you desire to use jquery 1.5, I will still recommend checking out the jquery-ui Draggable option (from the way I am interpreting your desire this seems like what you are attempting to accomplish).</p>\n\n<p><a href=\"http://jqueryui.com/demos/draggable/\" rel=\"nofollow\">http://jqueryui.com/demos/draggable/</a></p>\n\n<p>jquery-ui is always very fast to catch up with the newest release of jquery, and in a lot of cases will work fine.  I have found that jquery-ui tends to stay up-to-date with jquery better than any of the other add-ons I have found.</p>\n\n<p>With regards to wanting to know how this should be done, you can explore the uncompressed core of jquery rather easily.  It is quite well documented and pretty straightforward to read.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>The main problem is suppressing actual text selection, which seems kind of against the very nature of a web browser.</p>\n</blockquote>\n\n<p>The function you are looking for is e.preventDefault();</p>\n\n<pre><code>$(\"#inputform\").mousedown(function(e){\n    e.preventDefault();\n    //console.log('mousedown');\n}).mouseup(function(e){\n    e.preventDefault();\n    //console.log('mouseup');\n});\n</code></pre>\n\n<p>This just solves the problem of text selection. I can see various drag-select js scritps across the web but somehow I am unable to make them work.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to write a drag &amp; select functionality using HTML &amp; JavaScript. By that I mean that there will be a set of objects with arbitrary absolute positions. I want to be able drag the cursor over the area where they are laid out. Think of it as an RTS strategy (selecting units) or alternatively any vector graphics editor (selecting objects for moving them around and editing).</p>\n\n<p>First of all I'm aware of things that come up in the first few pages of Google &amp; SO. Therefore I'm by no means asking for googling those things for me and posting here some random links.</p>\n\n<p>Most of the solutions that I was able to find are in some way flawed. The main problem is suppressing actual text selection, which seems kind of against the very nature of a web browser. Some of the code snippets cause selection twinkling that I find very annoying. Some don't behave well across all the major browsers.</p>\n\n<p>I'm asking for recommendations of code/libraries that you actually used, or seen successfully used. </p>\n\n<p>The second thing is, that I'd like to actually understand the internals of JavaScript behind suppressing selection. How should it be done in theory. Is there any non-hackish way of achieving that?</p>\n\n<p>The closest that I was able to find is this:\n<a href=\"http://view.jquery.com/tags/ui/1.5b2/demos/ui.selectable.html\">http://view.jquery.com/tags/ui/1.5b2/demos/ui.selectable.html</a></p>\n\n<p>However it seems to be tightly coupled with jQuery UI, which in turn requires jQuery 1.3.x whereas I was really looking forward to using jQuery 1.5</p>\n",
            "last_activity_date": 1343129363,
            "question_id": 5851156,
            "score": 8,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui",
                "selection",
                "drag"
            ],
            "title": "JavaScript Drag &amp; Select functionality done right"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Use the DOM and modify the <code>data</code> of the appropriate <code>Text</code> nodes. E.g.</p>\n\n<pre><code>document.body.querySelector(\".number\").firstChild.data = \"dos\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>What you have works, but in your <code>myscript.js</code> you do not need the <code>&lt;script&gt;</code> tags.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Found the jinx with your code, use this instead:</p>\n\n<pre><code>document.body.innerHTML = document.body.innerHTML.replace(new RegExp(\"uno\", \"g\"), \"dos\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I have actually written this in jQuery: (Making sure you have the correct include tag)</p>\n\n<pre><code>var replaced = $(\"body\").html().replace(/text/g,'replace');\n$(\"body\").html(replaced);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>I took the example from JavaNut13 and Matt Curtis to create an alias hider extension for Reddit, and updated it for the new manifest 2. It looks for user on Reddit named \"user1\" and replaces it with \"nobody\". Modify as you need.</p>\n\n<p><strong>manifest.json</strong></p>\n\n<pre><code>{\n  \"name\": \"No Alias\",\n  \"version\": \"0.1\",\n  \"permissions\": [\n    \"http://www.reddit.com/*\"\n  ],\n  \"content_scripts\": [\n    {\n      \"matches\": [\"http://www.reddit.com/*\"],\n      \"js\": [\"myscript.js\"],\n      \"run_at\": \"document_end\"\n    }\n  ],\n  \"manifest_version\": 2\n}\n</code></pre>\n\n<p><strong>myscript.js</strong></p>\n\n<pre><code>document.body.innerHTML = document.body.innerHTML.replace(new RegExp(\"user1\", \"g\"), \"nobody\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I would like to create Google Chrome extension. Its job is to replace a word with another on all websites.</p>\n\n<p>I have the following manifest.json file:</p>\n\n<pre><code>{\n  \"name\": \"My extension\",\n  \"version\": \"1.0\",\n  \"background_page\": \"background.html\",\n  \"permissions\": [\n    \"tabs\", \"http://*/*\"\n  ],\n  \"content_scripts\": [\n    {\n      \"matches\": [\"http://*/*\"],\n      \"js\": [\"myscript.js\"],\n      \"run_at\": \"document_end\"\n    }\n  ]\n}\n</code></pre>\n\n<p>and the javascript in myscript.js is:</p>\n\n<pre><code>&lt; script type=\"text/javascript\" &gt;\n    document.body.innerHTML = document.body.innerHTML.replace(\"uno\", \"dos\");\n&lt; /script &gt;\n</code></pre>\n\n<p>However this does not function.. and I cannot find a way to debug the content script, only the background.html</p>\n",
            "last_activity_date": 1375638743,
            "question_id": 5797661,
            "score": 8,
            "tags": [
                "javascript",
                "google-chrome",
                "replace",
                "google-chrome-extension"
            ],
            "title": "Replace text in website with Chrome content script extension"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>You could do this one of two ways.  In PHP the easiest way would be 'polling'.  The newer neater method is using HTTP Push with a Comet server; but that's not so great for PHP.  </p>\n\n<p>To use polling ou simply update a table in the database with UserA's message flagged as to-be delivered to user b.  You have a script running every few seconds via ajax that polls the database for the message on userb's client.  If the message is there you populate it.  This is very inefficient.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I have a system that works well set in place. It basically has the set up like this:</p>\n\n<p>notification_id<br>\nuser_id<br>\nmodule<br>\naction_type<br>\nadded_by<br>\nread<br>\nread_date<br>\nadded</p>\n\n<p>This is a simple way of doing it. user_id is who it's for, added_by is the user id of whomever performed the action. Module is where it was performed at, and action_type is what happened (comment, deletion, added, etc). Read is if it's already been viewed, and read_date is when it was viewed.</p>\n\n<p>I then have a class that builds the verbiage based on what the values above are.</p>\n\n<p>I have then set up a crontab that will clean up old notifications in the database after so many days.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Comet server is not so simple to write in PHP, but it is possible to do so using sleeps.\nThere are also socket functions that can be useful:</p>\n\n<ul>\n<li><a href=\"http://php.net/manual/en/function.stream-socket-client.php\" rel=\"nofollow\">http://php.net/manual/en/function.stream-socket-client.php</a></li>\n<li><a href=\"http://php.net/manual/en/function.stream-socket-server.php\" rel=\"nofollow\">http://php.net/manual/en/function.stream-socket-server.php</a></li>\n</ul>\n\n<p>Note that you should be aware of time limit. Maybe you should stop hanging after some time and make a new request, unless you can disable time limit for these requests.</p>\n\n<p><strong>The solution may also depend on the environment. You probably can't do many useful things on usual shared webhosting.</strong></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As mentioned by akellehe, you could simply poll using Ajax to look for new content if your users are likely to remain on the same page for long periods of time.  If absolute real-time delivery isn't a necessity, it's a lot more efficient to check for new notifications when the page reloads -- especially if you cache (e.g. memcached) the total events awaiting a user and only invalidate that count in the event something is added to their notification queue.  This will save you a lot of empty-handed database queries.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I wouldn't advise using either polling or trying to implement a push based solution using PHP, if you are going to have any sizable traffic. What happens is that eventually all the PHP processes get blocked, and then you can't serve anymore web requests. </p>\n\n<p>Look into node.js, cometd or another push based solution. If you need something simple and need to get up and running quickly, I'd recommend <a href=\"http://pusherapp.com/\">http://pusherapp.com/</a>. They have a PHP client available and super simple API.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>i have done that :) </p>\n\n<p>try  <a href=\"http://onl9class.com/\" rel=\"nofollow\">Onl9class.com</a>\nregister with two id's and  make a post with one id and comment using other you will get a notification instantly </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Very much possible nowadays. I know this answer is coming very late but it will help those who will view this page for help. Check the link below for a great tutorial <a href=\"http://php.dzone.com/news/real-time-notifications-php\" rel=\"nofollow\">Real Time Notification Like Facebook</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can I put in place a facebook-like-notification system:\n - A userA writes a message to the userB\n - A listener on the database routes the message to the userB\n - On the userB interface, the message appears instantly</p>\n\n<p>How can I do that in php?</p>\n\n<p>Thank you very much,</p>\n\n<p>Regards</p>\n",
            "last_activity_date": 1377357460,
            "question_id": 3604210,
            "score": 8,
            "tags": [
                "php",
                "javascript",
                "database",
                "ajax",
                "notifications"
            ],
            "title": "A facebook-like-notification system in php"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>See <a href=\"http://code.google.com/p/google-code-prettify/\" rel=\"nofollow\">Google code pretify</a>.</p>\n\n<p>See this question for the <a href=\"http://stackoverflow.com/questions/51808/edit-control-on-stack-overflow\" rel=\"nofollow\">edit control that stackoverflow</a> uses.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here is a really interesting article about how to write one: (Even better, he gives the full source to a JavaScript formatter and colorizer.)</p>\n\n<p><a href=\"http://marijn.haverbeke.nl/codemirror/story.html\" rel=\"nofollow\">Implementing a syntax-higlighting JavaScript editor in JavaScript</a>\nor\nA brutal odyssey to the dark side of the DOM tree</p>\n\n<blockquote>\n  <p>How does one do decent syntax\n  highlighting? A very simple scanning\n  can tell the difference between\n  strings, comments, keywords, and other\n  code. But this time I wanted to\n  actually be able to recognize regular\n  expressions, so that I didn't have any\n  blatant incorrect behaviour anymore.</p>\n</blockquote>\n\n<p>Importantly, it handles regex correctly. Also of interest is that he used a continuation passing style lexer/parser instead of the more typical lex (or regex) based lexers that you'll see in the wild.</p>\n\n<p>As a bonus he discusses a lot of real-world issues you'll run into when working with JavaScript in the browser.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>I dont program a lot of javascript but JSEclipse has been pretty helpful for me in the past. It comes as an Eclipse plug-in.</p>\n\n<p>I've been using it for years for free</p>\n\n<p><a href=\"http://www.interaktonline.com/products/eclipse/jseclipse/overview/\" rel=\"nofollow\">http://www.interaktonline.com/products/eclipse/jseclipse/overview/</a></p>\n\n<p>I also rely heavily on FireBug for Firefox whenever I deal with Javascript</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can also try <a href=\"http://softwaremaniacs.org/soft/highlight/en/\" rel=\"nofollow\">http://softwaremaniacs.org/soft/highlight/en/</a> - it's fast, it supports not only javascript but many other languages. And if you need a live preview of how the highlighting will work, you can use setInterval to run the highlighting and show it in a separate box.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Although it has a steep learning curve, <a href=\"http://www.vim.org\" rel=\"nofollow\" title=\"Vim\">Vim</a> is the best editor out there, for any language. It has a GUI version, but really shines in terminal editing. Any time spent learning how to use this editor is not time wasted. It has syntax highlighting, as you're looking for, as well as thousands (literally) of other features and plugins.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The question might be better stated as \"What syntax-highlighting editor do you recommended to replace an html textarea in my web app?\" (Some of the other answers here deal with desktop apps or pure-syntax highlighters, not client-side editors)</p>\n\n<p>I also recommend <a href=\"http://marijn.haverbeke.nl/codemirror/\" rel=\"nofollow\">CodeMirror</a>, it's written in Javascript and supports lots of browsers. It uses a real parser (rather than regexps) so it can deal with complex problems like correctly highlighting escaped strings. The developer is also very responsive on the <a href=\"http://groups.google.com/group/codemirror\" rel=\"nofollow\">discussion group</a>.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Gotta go with <a href=\"http://mozillalabs.com/bespin/\" rel=\"nofollow\">Bespin</a> by Mozilla. It's built using HTML5 features (so it's quick and fast, but doesn't support legacy browsers though), but definitely amazing to use and beats everything I've come across - probably beacause it's Mozilla backing it, and they develop Firefox so yeah... There's also a <a href=\"http://www.balupton.com/sandbox/jquery-sparkle/demo/#bespin\" rel=\"nofollow\">jQuery Plugin which contains a extension for it</a> to make it a bit easier to use with jQuery.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Sorry to drag this back up but the best i have found in CodeMirror <a href=\"http://codemirror.net/\" rel=\"nofollow\">http://codemirror.net/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've found syntax highlighters that highlight pre-existing code, but I'd like to do it as you type with a WYSIWYG-style editor. I don't need auto-completed functions, just the highlighting.</p>\n\n<p>As a follow-up question, what is the WYSIWYG editor that stackoverflow uses?</p>\n\n<p>Edit: Thanks to the answer below, I found two that look like they might suit my needs:\n<a href=\"http://www.cdolivet.net/editarea/\" rel=\"nofollow\">EditArea</a> and <a href=\"http://codepress.sourceforge.net/\" rel=\"nofollow\">CodePress</a></p>\n\n<p>EDIT:  See this question also:<br />\n<a href=\"http://stackoverflow.com/questions/379185/free-syntax-highlighting-editor-control-in-javascript\">http://stackoverflow.com/questions/379185/free-syntax-highlighting-editor-control-in-javascript</a></p>\n",
            "last_activity_date": 1289998739,
            "question_id": 61655,
            "score": 8,
            "tags": [
                "javascript",
                "syntax-highlighting",
                "wysiwyg"
            ],
            "title": "Are there any JavaScript live syntax highlighters?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Here is the basic idea. You insert dummy element in the beginning of the selection and get the coordinates of that dummy html element. Then you remove it.</p>\n\n<pre><code>var range = window.getSelection().getRangeAt(0);\nvar dummy = document.createElement(\"span\");\nrange.insertNode(dummy);\nvar box = document.getBoxObjectFor(dummy);\nvar x = box.x, y = box.y;\ndummy.parentNode.removeChild(dummy);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I would like to position element above selected text. But I am not able to figure out the coordinates.</p>\n\n<pre><code>var sel = document.getSelection();\n  if(sel != null) {\n    positionDiv();\n}\n</code></pre>\n\n<p>Example: (image)</p>\n\n<p><img src=\"http://www.freeimagehosting.net/uploads/bf4035f29f.png\" alt=\"alt text\"></p>\n",
            "last_activity_date": 1270793897,
            "question_id": 2605133,
            "score": 7,
            "tags": [
                "javascript",
                "getselection"
            ],
            "title": "how do I get co-ordinates of selected text in an html using javascript document.getSelecttion()"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Your question amounts to \"how do I make this python into a webservice\".</p>\n\n<p>Probably the most lightweight ways to do that are <code>web.py</code> and <code>flask</code>. Check them out. </p>\n\n<p>If this is getting bigger, consider <code>django</code> with <code>tastypie</code> - that's a simple way to make a json-based api.</p>\n\n<p>Update: Apparently, there is also a python-javascript RPC framework called <a href=\"https://github.com/fergalwalsh/pico\" rel=\"nofollow\">Pico</a>, to which Felix Kling is a contributor. The intro says:</p>\n\n<blockquote>\n  <p>Literally add one line of code (import pico) to your Python module to\n  turn it into a web service that is accessible through the Javascript\n  (and Python) Pico client libararies.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Here's a \"hello world\" example of <a href=\"http://flask.pocoo.org/\">a flask web-application</a> that can serve static html and javascript files, search database using parameter from a javascript request, and return results to javascript as json:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import sqlite3\nfrom flask import Flask, jsonify, g, redirect, request, url_for\n\napp = Flask(__name__)\n\n@app.before_request\ndef before_request():\n    g.db = sqlite3.connect('database.db')\n\n@app.teardown_request\ndef teardown_request(exception):\n    if hasattr(g, 'db'):\n        g.db.close()\n\n@app.route('/')\ndef index():\n    return redirect(url_for('static', filename='page.html'))\n\n@app.route('/json-data/')\ndef json_data():\n    # get number of items from the javascript request\n    nitems = request.args.get('nitems', 2)\n    # query database\n    cursor = g.db.execute('select * from items limit ?', (nitems,))\n    # return json\n    return jsonify(dict(('item%d' % i, item)\n                        for i, item in enumerate(cursor.fetchall(), start=1)))\n\nif __name__ == '__main__':\n    app.run(debug=True, host='localhost', port=5001) # http://localhost:5001/\nelse:\n    application = app # for a WSGI server e.g.,\n    # twistd -n web --wsgi=hello_world.application --port tcp:5001:interface=localhost\n</code></pre>\n\n<p>The database setup code is from <a href=\"http://flask.pocoo.org/docs/patterns/sqlite3/#using-sqlite-3-with-flask\">Using SQLite 3 with Flask</a>.</p>\n\n<p><code>static/page.html</code> and <code>static/json-jquery.js</code> files are from <a href=\"http://www.jquery4u.com/json/ajaxjquery-getjson-simple/\">Ajax/jQuery.getJSON Simple Example</a>, where the javascript code is modified slightly to pass a different url and <code>nitems</code> parameter:</p>\n\n<pre><code>$(document).ready(function(){\n    $('#getdata-button').live('click', function(){\n        $.getJSON('/json-data', {'nitems': 3}, function(data) {\n            $('#showdata').html(\"&lt;p&gt;item1=\"+data.item1+\" item2=\"+data.item2+\" item3=\"+data.item3+\"&lt;/p&gt;\");\n        });\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I found finally an easier way than Flask. It's a Python framework called <a href=\"http://bottlepy.org/docs/dev/\" rel=\"nofollow\">Bottle</a> You only need to download the library from the official web site and put all its files in your working directory in order to import the library. You can also install it using the setup python program included to avoid carrying with the sourcecode everywhere. Then, for making your Web Service Server you can code it like this:</p>\n\n<pre><code>from bottle import hook, response, route, run, static_file, request\nimport json\nimport socket\nimport sqlite3\n\n#These lines are needed for avoiding the \"Access-Control-Allow-Origin\" errors\n@hook('after_request')\ndef enable_cors():\n    response.headers['Access-Control-Allow-Origin'] = '*'\n\n#Note that the text on the route decorator is the name of the resource\n# and the name of the function which answers the request could have any name\n@route('/examplePage')\ndef exPage():\n    return \"&lt;h1&gt;This is an example of web page&lt;/h1&gt;&lt;hr/&gt;&lt;h2&gt;Hope you enjoy it!&lt;/h2&gt;\"\n\n#If you want to return a JSON you can use a common dict of Python, \n# the conversion to JSON is automatically done by the framework\n@route('/sampleJSON', method='GET')\ndef mySample():\n    return { \"first\": \"This is the first\", \"second\": \"the second one here\", \"third\": \"and finally the third one!\" }\n\n#If you have to send parameters, the right sintax is as calling the resoure\n# with a kind of path, with the parameters separed with slash ( / ) and they \n# MUST to be written inside the lesser/greater than signs  ( &lt;parameter_name&gt; ) \n@route('/dataQuery/&lt;name&gt;/&lt;age&gt;')\ndef myQuery(name,age):\n    connection= sqlite3.connect(\"C:/folder/data.db\")\n    mycursor = connection.cursor()\n    mycursor.execute(\"select * from client where name = ? and age= ?\",(name, age))\n    results = mycursor.fetchall()\n    theQuery = []\n    for tuple in results:\n        theQuery.append({\"name\":tuple[0],\"age\":tuple[1]})\n    return json.dumps(theQuery)\n\n#If you want to send images in jpg format you can use this below\n@route('/images/&lt;filename:re:.*\\.jpg&gt;')\ndef send_image(filename):\n    return static_file(filename, root=\"C:/folder/images\", mimetype=\"image/jpg\")\n\n#To send a favicon to a webpage use this below\n@route('/favicon.ico')\ndef favicon():\n    return static_file('windowIcon.ico', root=\"C:/folder/images\", mimetype=\"image/ico\")\n\n#And the MOST important line to set this program as a web service provider is this\nrun(host=socket.gethostname(), port=8000)\n</code></pre>\n\n<p>Finally, you can call the REST web service of your Bottlepy app on  a Javascript client in this way:</p>\n\n<pre><code>var addr = \"192.168.1.100\"\nvar port = \"8000\"\n\nfunction makeQuery(name, age){\n    jQuery.get(\"http://\"+addr+\":\"+port+\"/dataQuery/\"+ name+ \"/\" + age, function(result){\n        myRes = jQuery.parseJSON(result);\n        toStore= \"&lt;table border='2' bordercolor='#397056'&gt;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&lt;strong&gt;age&lt;/strong&gt;&lt;/td&gt;&lt;/tr&gt;\";\n        $.each(myRes, function(i, element){\n            toStore= toStore+ \"&lt;tr&gt;&lt;td&gt;\"+element.name+\"&lt;/td&gt;&lt;td&gt;\" + element.age+ \"&lt;/td&gt;&lt;/td&gt;&lt;/tr&gt;\";\n        })\n        toStore= toStore+ \"&lt;/table&gt;\"\n        $('#theDataDiv').text('');\n        $('&lt;br/&gt;').appendTo('#theDataDiv');\n        $(toStore).appendTo('#theDataDiv');\n        $('&lt;br/&gt;').appendTo('#theDataDiv');\n    })\n}\n</code></pre>\n\n<p>I hope it could be useful for somebody else</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I'm trying to find out how to create a local connection between a Python server and a Javascript client using the JSON format for the data to be retrieved. Particularly, I need to make some queries on the HTML client side, send these queries to the server on JSON format and run them on the Python server side to search for data on a SQLite Database. And after getting the results from the database, send those results back to the client in JSON format too. </p>\n\n<p>By now, I just can run the query on Python and code it on JSON like this:</p>\n\n<pre><code>import sqlite3 as dbapi\nimport json\n\nconnection = dbapi.connect(\"C:/folder/database.db\")\nmycursor = connection.cursor()\nmycursor.execute(\"select * from people\")\nresults = []\nfor information in mycursor.fetchall():\n        results += information\n\nonFormat = json.dumps(results)\nprint(onFormat)\n</code></pre>\n\n<p>I know this code does something alike (in fact it runs), because it calls a service on a server which returns data in JSON format (but the server in this example is NOT Python):</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;style&gt;img{ height: 100px; float: left; }&lt;/style&gt;\n        &lt;script src=\"http://code.jquery.com/jquery-latest.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"images\"&gt;&lt;/div&gt;\n    &lt;script&gt;\n      $.getJSON(\"http://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?\",\n      {\n        tags: \"mount rainier\",\n        tagmode: \"any\",\n        format: \"json\"\n      },\n      function(data) {\n        $.each(data.items, function(i,item){\n          $(\"&lt;img/&gt;\").attr(\"src\", item.media.m).appendTo(\"#images\");\n          if ( i == 3 ) return false;\n        });\n      });&lt;/script&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>What I need is to know how should I run (locally) the python program to be an available running web-service and how should be the Javascript to retrieve the data from the python server. </p>\n\n<p>I've looking for this on internet everywhere but I didn't find this answer anywhere because the only answers they give are on how to code JSON inside Python or inside Javascript but not connecting both. Hope somebody can help me on this!!!</p>\n",
            "last_activity_date": 1345141982,
            "question_id": 11747527,
            "score": 6,
            "tags": [
                "javascript",
                "python",
                "json",
                "web-services",
                "sqlite"
            ],
            "title": "How to connect Javascript to Python sharing data with JSON format in both ways?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You seem to be directly writing the base64 representation to disk. You need to decode it first.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I had been wondering the same thing and had a look at finding an answer.<br>\nFrom what I can tell you have to convert the raw string you get from an atob to an unit8array and then you can append it to a blob.<br>\nHere's an example that converts an image to a canvas and then the data from the canvas to a blob and then the third images src is set to the uri of the blob....you should be able to add the fs stuff from there....<br>\n<a href=\"http://jsfiddle.net/PAEz/XfDUS/\" rel=\"nofollow\">http://jsfiddle.net/PAEz/XfDUS/</a><br>\n..sorry to not put the code here, but to be honest I couldnt figure out how to ;)  and anyways, JSFiddle is a nice way to play with it.</p>\n\n<p>References<br>\n<a href=\"https://gist.github.com/1032746\" rel=\"nofollow\">https://gist.github.com/1032746</a><br>\n<a href=\"http://code.google.com/p/html5wow/source/browse/src/demos/photo-gallery/js/utils.js\" rel=\"nofollow\">http://code.google.com/p/html5wow/source/browse/src/demos/photo-gallery/js/utils.js</a><br>\n<a href=\"http://stackoverflow.com/questions/934012/get-image-data-in-javascript\">Get image data in Javascript?</a><br>\n<a href=\"http://jsdo.it/tsmallfield/typed_array\" rel=\"nofollow\">http://jsdo.it/tsmallfield/typed_array</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You want <code>HTMLCanvasElement.toBlob</code> and then write the blob to a filesystem with the W3C filesystem API, but most browsers haven't implemented it yet.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've found a function that converts a data URL to a blob.</p>\n\n<p>Great for when you need to save a canvas image to the sandboxed FileSystem. Works in Chrome 13.</p>\n\n<pre><code>function dataURItoBlob(dataURI, callback) {\n    // convert base64 to raw binary data held in a string\n    // doesn't handle URLEncoded DataURIs\n    var byteString = atob(dataURI.split(',')[1]);\n\n    // separate out the mime component\n    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]\n\n    // write the bytes of the string to an ArrayBuffer\n    var ab = new ArrayBuffer(byteString.length);\n    var ia = new Uint8Array(ab);\n    for (var i = 0; i &lt; byteString.length; i++) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n\n    // write the ArrayBuffer to a blob, and you're done\n    var bb = new window.WebKitBlobBuilder(); // or just BlobBuilder() if not using Chrome\n    bb.append(ab);\n    return bb.getBlob(mimeString);\n};\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>window.requestFileSystem(window.PERSISTENT, 1024*1024, function(fs){\n    fs.root.getFile(\"image.png\", {create:true}, function(fileEntry) {\n        fileEntry.createWriter(function(fileWriter) {\n            fileWriter.write(dataURItoBlob(myCanvas.toDataURL(\"image/png\")));\n        }, errorHandler);\n    }, errorHandler);\n}, errorHandler);\n</code></pre>\n\n<p>Source trail:</p>\n\n<p><a href=\"http://mustachified.com/master.js\">http://mustachified.com/master.js</a><br>\nvia <a href=\"http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2011-April/031243.html\">http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2011-April/031243.html</a><br>\nvia <a href=\"https://bugs.webkit.org/show_bug.cgi?id=51652\">https://bugs.webkit.org/show_bug.cgi?id=51652</a><br>\nvia <a href=\"http://code.google.com/p/chromium/issues/detail?id=67587\">http://code.google.com/p/chromium/issues/detail?id=67587</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>There is now a canvas.toBlob() polyfill: <a href=\"https://github.com/eligrey/canvas-toBlob.js\" rel=\"nofollow\">https://github.com/eligrey/canvas-toBlob.js</a><br>\nOther interesting link: <a href=\"https://github.com/eligrey/BlobBuilder.js\" rel=\"nofollow\">https://github.com/eligrey/BlobBuilder.js</a></p>\n\n<p>So with these it become easy to save image from canvas:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://raw.github.com/eligrey/BlobBuilder.js/master/BlobBuilder.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"https://raw.github.com/eligrey/canvas-toBlob.js/master/canvas-toBlob.min.js\"&gt;&lt;/script&gt;\n...\ncanvas.toBlob(function(blob) {\n  fileWriter.write(blob);\n}, \"image/png\");\n</code></pre>\n\n<p>Here is a little example using the FileSaver: <a href=\"http://jsfiddle.net/JR5XE/\" rel=\"nofollow\">http://jsfiddle.net/JR5XE/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I am developing a chrome extension.</p>\n\n<p>I open an image file in canvas, I apply some changes to it, then I am trying to save it to the HTML5 filesystem api. </p>\n\n<p>First I get the dataURL from the canvas:</p>\n\n<pre><code>    var dataURL = canvas.toDataURL('image/png;base64'); \n</code></pre>\n\n<p>Then just the data:</p>\n\n<pre><code>    var image64 = dataURL.replace(/data:image\\/png;base64,/, '');\n</code></pre>\n\n<p>Then I make a Blob.</p>\n\n<pre><code>    var bb = new BlobBuilder();\n    bb.append(image64);\n    var blob = bb.getBlob('image/png');\n</code></pre>\n\n<p>Then I request the file system with the following function onInitFs();</p>\n\n<pre><code>    function onInitFs(fs) {\n      fs.root.getFile('image.png', {create: true}, function(fileEntry) {\n        // Create a FileWriter object for our FileEntry (log.txt).\n        fileEntry.createWriter(function(fileWriter) {\n        //WRITING THE BLOB TO FILE\n        fileWriter.write(blob);\n        }, errorHandler);\n      }, errorHandler);\n    }\n\n    window.requestFileSystem(window.PERSISTENT, 5*1024*1024, onInitFs, errorHandler);\n</code></pre>\n\n<p>This results in a corrupted file being written to the file system.</p>\n\n<p>I don't know what else I can do to make this work.</p>\n\n<p>Could someone please guide me in the right direction. </p>\n\n<p>The following are some of the sources to the functions I am using to accomplish this task.</p>\n\n<p><a href=\"http://dev.w3.org/html5/canvas-api/canvas-2d-api.html#todataurl-method\">http://dev.w3.org/html5/canvas-api/canvas-2d-api.html#todataurl-method</a></p>\n\n<p><a href=\"http://www.html5rocks.com/en/tutorials/file/filesystem/#toc-file-creatingempty\">http://www.html5rocks.com/en/tutorials/file/filesystem/#toc-file-creatingempty</a></p>\n\n<p>Thank You!</p>\n",
            "last_activity_date": 1327951591,
            "question_id": 6431281,
            "score": 6,
            "tags": [
                "javascript",
                "canvas",
                "filesystems",
                "blob",
                "filewriter"
            ],
            "title": "Save PNG Canvas Image to HTML5 Storage (JAVASCRIPT)?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You should just use the jquery resizable interaction : <a href=\"http://jqueryui.com/demos/resizable/\" rel=\"nofollow\">http://jqueryui.com/demos/resizable/</a></p>\n\n<p>It's easy enough to restrict the dragging areas so you can only resize horizontally (but I think what you actually need is a vertically resizable area)</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You may also checkout the <a href=\"http://layout.jquery-dev.net/\">UI.Layout jQuery plugin</a>. Here's a <a href=\"http://layout.jquery-dev.net/demos/simple.html\">demo</a>.</p>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>recently for a website I am working on I wanted to create a horizontal divider capable of resizing two elements on a page using jquery.</p>\n\n<p>Basically:</p>\n\n<p>Content</p>\n\n<p><em><strong></em>___</strong><em>Divider</em><strong><em>_</em>__<em>_</em>_</strong></p>\n\n<p>Content</p>\n\n<p>When: the divider is dragged, it should resize the \"Content\" elements either side of it to the users desired size.</p>\n\n<p>Here is what i have so far.</p>\n\n<pre><code>&lt;div id=\"WorkRequests\"&gt;&lt;/div&gt;\n&lt;div id=\"Divider\" style=\"height:10px; padding:5px; cursor:n-resize;\"&gt;&lt;hr /&gt;&lt;/div&gt;\n&lt;div id=\"WorkRequest_Ajax\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>And the script:</p>\n\n<pre><code>var totalHeight = $(\"#Divider\").parent().height();\n    function ResizePage(divPosition) {\n        var validDrag = true;\n\n        // Math\n        var minPercent = totalHeight * 0.25;\n        var minBuffer = totalHeight * 0.05;\n        var topHeight = divPosition.top - $(\"#content\").position().top;\n        var bottomHeight = (totalHeight - divPosition.top);\n\n        // Check Drag\n        if (topHeight &lt; minPercent) {\n            validDrag = false;\n            $(\"#WorkRequests\").height(minPercent + minBuffer);\n        }\n\n        if (bottomHeight &lt; minPercent) {\n            validDrag = false;\n            $(\"#WorkRequest_Ajax\").height(minPercent + minBuffer);\n        }\n\n        // Set Heights\n        if (validDrag) {\n            $(\"#WorkRequests\").height(topHeight);\n            $(\"#WorkRequest_Ajax\").height(bottomHeight);\n        }\n\n        return validDrag;\n    }\n\n    $(\"#Divider\").draggable({ axis: \"y\", drag: function (event, ui) { return ResizePage($(this).position()); } });\n</code></pre>\n\n<p>However when I drag the divider it simply jumps around and locks at either extremity, I have tried many different calculations etc, but I am afraid I just simply do not understand the factors in resizing both elements.</p>\n\n<p>So does anyone know a jquery plugin that will do this for me, or how i can fix my attempt?</p>\n\n<p>Thanks,\nAlex.</p>\n",
            "last_activity_date": 1298877437,
            "question_id": 5139096,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui",
                "asp.net-mvc-3"
            ],
            "title": "JQuery/JQueryUI hortizontal divider"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p><code>window.location.hash</code> should give you what you want.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>    var HashSearch = new function () {\n       var params;\n\n       this.set = function (key, value) {\n          params[key] = value;\n          this.push();\n       };\n\n       this.remove = function (key, value) {\n          delete params[key];\n          this.push();\n       };\n\n\n       this.get = function (key, value) {\n           return params[key];\n       };\n\n       this.keyExists = function (key) {\n           return params.hasOwnProperty(key);\n       };\n\n       this.push= function () {\n           var hashBuilder = [], key, value;\n\n           for(key in params) if (params.hasOwnProperty(key)) {\n               key = escape(key), value = escape(params[key]); // escape(undefined) == \"undefined\"\n               hashBuilder.push(key + ( (value !== \"undefined\") ? '=' + value : \"\" ));\n           }\n\n           window.location.hash = hashBuilder.join(\"&amp;\");\n       };\n\n       (this.load = function () {\n           params = {}\n           var hashStr = window.location.hash, hashArray, keyVal\n           hashStr = hashStr.substring(1, hashStr.length);\n           hashArray = hashStr.split('&amp;');\n\n           for(var i = 0; i &lt; hashArray.length; i++) {\n               keyVal = hashArray[i].split('=');\n               params[unescape(keyVal[0])] = (typeof keyVal[1] != \"undefined\") ? unescape(keyVal[1]) : keyVal[1];\n           }\n       })();\n    }\n</code></pre>\n\n<p><strong>Using it</strong>:</p>\n\n<p>Check if a \"hash key\" is present:</p>\n\n<pre><code> HashSearch.keyExists(\"thekey\");\n</code></pre>\n\n<p>Get the value for a hash key:</p>\n\n<pre><code> HashSearch.get('thekey');\n</code></pre>\n\n<p>Set the value for a hash key, and update the URL hash:</p>\n\n<pre><code> HashSearch.set('thekey', 'hey');\n</code></pre>\n\n<p>Remove a hash key from the URL:</p>\n\n<pre><code> HashSearch.remove('thekey');\n</code></pre>\n\n<p>Reload the hash into the local object:</p>\n\n<pre><code> HashSearch.load();\n</code></pre>\n\n<p>Push the current key value set to the URL hash:</p>\n\n<pre><code> HashSearch.push();\n</code></pre>\n\n<p>Note that when a key does not exist and you try to <code>get</code> it, it will returned <code>undefined</code>. However, a key could exist with no value -- for example <code>#key=val&amp;novalue</code> where novalue is a key with no value. If you do <code>HashSearch.get(\"novalue\")</code> it would also return <code>undefined</code>. In which case, you should use <code>HashSearch.keyExists(\"novalue\")</code> to verify that it is indeed a key.</p>\n",
                    "is_accepted": true,
                    "score": 25
                },
                {
                    "body": "<p>I use this, and it works just fine for me.  It's a little adjusing to a line I picked up somewhere, I believe on SO.  </p>\n\n<pre><code>getURLHashParameter : function(name) {\n\n        return decodeURI(\n            (RegExp('[#|&amp;]' + name + '=' + '(.+?)(&amp;|$)').exec(location.hash)||[,null])[1]\n        );\n    }, \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p><a href=\"http://benalman.com/projects/jquery-bbq-plugin/\" rel=\"nofollow\">jQuery BBQ</a> (back button and query) leverages the HTML5 hashchange event to allow simple, yet powerful bookmarkable #hash history. In addition, jQuery BBQ provides a full .deparam() method, along with both hash state management, and fragment / query string parse and merge utility methods.</p>\n\n<p>In short: This library allows you to dynamically change a hash \"query string\" within your page and have the URL match. It also allows you to dynamically pull values and normalizes working with the \"query string.\" Finally it will add the query strings into the history which allows the back button to function as a navigation between previous query hash values.</p>\n\n<p>A good move for UX would be to check out a library like jQuery BBQ :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In raw Javascript, how would one go about checking that a specific hash tag exists in a url, then grab the value?</p>\n\n<p>Example: <a href=\"http://www.example.com/index.html#hashtag1=value1&amp;#hashtag2=value2\">http://www.example.com/index.html#hashtag1=value1&amp;#hashtag2=value2</a></p>\n\n<p>I want to be able to grab the value of either <strong>hashtag1</strong> or <strong>hashtag2</strong>.</p>\n",
            "last_activity_date": 1327974685,
            "question_id": 3729150,
            "score": 6,
            "tags": [
                "javascript",
                "hashtag"
            ],
            "title": "Retrieve specific hash tag&#39;s value from url"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>The <code>{block:IndexPage}</code> block, as you have discovered, is for all index pages. To target only the first page you can use <code>{block:Post1}</code> inline or <code>{CurrentPage}</code> in script. <code>{block:Post1}</code> will display only on the page with the first post, which achieves what you want. The <code>&lt;div&gt;</code> can then be styled to put it wherever you want.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>{block:Post1}\n&lt;div class=\"mid2\"&gt;\n    &lt;div class=\"midLeft2\"&gt;  \n        &lt;p&gt;test&lt;/p&gt;\n    &lt;/div&gt;   \n&lt;/div&gt;\n{/block:Post1}  \n</code></pre>\n\n<p>Or:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script&gt;\nif( {CurrentPage} == 1 ) {\n    //display div\n};\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I ended up killing off the {Block:IndexPage} tag altogether and changing the original div callout to this:</p>\n\n<pre><code>&lt;div id=\"splashbox\" class=\"mid2\" style=\"display:none\"&gt;\n</code></pre>\n\n<p>Followed by this script:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nwindow.onload=showsplashbox();\nfunction showsplashbox() {\n   //alert('location identified as ' + location.href);\n   if (location.href == 'http://site.tumblr.com/' || location.href == 'http://site.tumblr.com') {\n           //alert('location match, show the block');\n           document.getElementById('splashbox').style.display='block';\n   }\n}\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 0
                },
                {
                    "body": "<p>This will work:</p>\n\n<pre><code>{block:IndexPage}\n  &lt;div id=\"index\"\n    {block:SearchPage}style=\"display: none;\"{/block:SearchPage}\n    {block:TagPage}style=\"display: none;\"{/block:TagPage}&gt;\n    This is displayed only on the index page.\n  &lt;/div&gt;\n{/block:IndexPage}\n</code></pre>\n\n<p>More info: <a href=\"http://ejdraper.com/post/280968117/advanced-tumblr-customization\">http://ejdraper.com/post/280968117/advanced-tumblr-customization</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I was was looking to show code on post pages, but not on the index, search, etc page (i.e. pages with multiple posts.  Thanks to the above, I figured out how to do it and wanted to share in case it helps somebody else.</p>\n\n<pre><code>&lt;div id=\"splashbox\" style=\"display:none\"&gt;\n      This is the content I wanted to show on the post pages only.\n&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\nwindow.onload=showsplashbox();\nfunction showsplashbox() {\n   //alert('location identified as ' + location.href);\n   if (self.location.href.indexOf(\"post\") &gt; -1 )  {\n           document.getElementById('splashbox').style.display='block';\n   }\n}\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can also do it just with CSS.</p>\n\n<pre><code>#box{\n  display:none;\n}\n\n.page1 #box{\n  display:block;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;body class=\"page{CurrentPage}\"&gt;\n  &lt;div id=\"box\"&gt;\n    Only displayed in first page.\n  &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><code>display:none</code> will hide it but thats, a hidden element can still mess with your layout.</p>\n\n<p>We could use the comment code* to turn the div into a comment that wont mess with anything.</p>\n\n<pre><code>*&lt;!-- comment --&gt;\n</code></pre>\n\n<p>ex.</p>\n\n<pre><code>{block:IndexPage}\n{block:SearchPage}&lt;!--{/block:SearchPage}\n{block:TagPage}&lt;!--{/block:TagPage}\n\n\n&lt;div style=\"width:400px; heigth:200px\"&gt;\nblah blah\n&lt;/div&gt;   \n\n\n\n{block:SearchPage}--&gt;{/block:SearchPage}\n{block:TagPage}--&gt;{/block:TagPage}\n{/block:IndexPage}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is solved by using div:not() operator.</p>\n\n<p>The HTML Markup will be</p>\n\n<pre><code>{block:IndexPage}\n&lt;div id=\"banner\"&gt;\n   &lt;div class=\"banner_{CurrentPage}\"&gt;\n      This Content will appear in only on home page\n   &lt;/div&gt;\n&lt;/div&gt;\n{/block:IndexPage}\n</code></pre>\n\n<p>Now add this CSS to </p>\n\n<pre><code>#banner div:not(.banner_1)\n{\n   display:none;\n}\n{block:SearchPage}\n    #banner\n    {\n       display:none;\n    }\n{/block:SearchPage}\n{block:TagPage}\n    #banner\n    {\n       display:none;\n    }\n{/block:TagPage}\n</code></pre>\n\n<p>The background: <code>{CurrentPage}</code> is a Tumblr theme variable which returns the page number of index pages (like 1, 2, 3, ...). Thus the home of any Tumblr blog is page number \"1\". Now I have defined the class of a div with this page number concatenated with a string \"banner_\" (Class can not be numeric. WTF why?) - making the class name \"banner_1\" on homepage. Next, in CSS, I have added <code>display:none</code> property to <code>:not</code> selector of that <code>banner_1</code> class div. Thus excluding div with <code>banner_1</code> class, all other div in under <code>#banner</code> div will disappear. Additionally, div with id <code>#banner</code> is hidden in search and tag pages.</p>\n\n<p>Note: <code>&lt;div id=\"#banner\" &gt;</code> is required. Without this, <code>:not</code> will hide all divs in the html.</p>\n\n<hr>\n\n<p>Warning: IE users (is there anyone left?) need to change their habit. This is only supported in FF, Chrome, Safari and Opera.</p>\n\n<p>I have implemented this in <a href=\"http://theteazone.tumblr.com/\" rel=\"nofollow\">http://theteazone.tumblr.com/</a> The Big Banner (Tea is a culture) is absent in <a href=\"http://theteazone.tumblr.com/page/2\" rel=\"nofollow\">http://theteazone.tumblr.com/page/2</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>{block:IndexPage}\n\n&lt;script&gt;\n   if( {CurrentPage} != 1 ) {document.write(\"&lt;!--\");};\n&lt;/script&gt;\n\n&lt;div id=\"banners\"&gt;\n   blablabla\n&lt;/div&gt; --&gt; \n\n{/block:IndexPage}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a fairly novice understanding of CSS and HTML, and I'm trying to do something that I think should be relatively simple (in a custom tumblr theme I'm creating), but I can't find a straightforward answer. I have a feeling there might be a super easy way to do what I want in JavaScript.</p>\n\n<p>I'd like to display a <code>DIV</code> <em>only</em> on the main index page (i.e. homepage) of the tumblr blog.  It seems the documentation tumblr provides allows you to do this to some extent (through the {Block:IndexPage} variable), but the problem is the code within this element displays on <em>all</em> index pages (i.e. instead of just showing up at the root level on /page/1, it will show up on subsequent \"index\" pages like /page/2, etc.</p>\n\n<p>Here's the code I have, which successfully does not show the div on permalink pages:</p>\n\n<pre><code>{block:IndexPage}\n    &lt;div class=\"mid2\"&gt;\n        &lt;div class=\"midLeft2\"&gt;  \n            &lt;p&gt;test&lt;/p&gt;\n        &lt;/div&gt;   \n    &lt;/div&gt;\n{/block:IndexPage}  \n</code></pre>\n\n<p>Any ideas? Any help is much appreciated!</p>\n",
            "last_activity_date": 1358437735,
            "question_id": 9030983,
            "score": 2,
            "tags": [
                "javascript",
                "html",
                "css",
                "tumblr"
            ],
            "title": "displaying a div only on tumblr blog homepage?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Using dialog methods:</p>\n\n<pre><code>$('.selectorUsedToCreateTheDialog').dialog('option', 'title', 'My New title');\n</code></pre>\n\n<p>Or directly, hacky though:</p>\n\n<pre><code>$(\"span.ui-dialog-title\").text('My New Title'); \n</code></pre>\n\n<p>For future reference, you can skip google with jQuery.  The jQuery API will answer your questions most of the time.  In this case, the <a href=\"http://api.jqueryui.com/dialog/#option-title\">Dialog API page</a>.  For the main library: <a href=\"http://api.jquery.com\">http://api.jquery.com</a> </p>\n",
                    "is_accepted": true,
                    "score": 175
                },
                {
                    "body": "<p>An enhancement of the hacky idea by Nick Craver to put custom HTML in a jquery dialog title:</p>\n\n<pre><code>var newtitle= '&lt;b&gt;HTML TITLE&lt;/b&gt;';\n$(\".selectorUsedToCreateTheDialog\").parent().find(\"span.ui-dialog-title\").html(newtitle);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I tried to implement the result of Nick which is:</p>\n\n<pre><code>$('.selectorUsedToCreateTheDialog').dialog('option', 'title', 'My New title');\n</code></pre>\n\n<p>But that didn't work for me because i had multiple dialogs on 1 page. In such a situation it will only set the title correct the first time. Trying to staple commands did not work:</p>\n\n<pre><code>    $(\"#modal_popup\").html(data);\n    $(\"#modal_popup\").dialog('option', 'title', 'My New Title');\n    $(\"#modal_popup\").dialog({ width: 950, height: 550);\n</code></pre>\n\n<p>I fixed this by adding the title to the javascript function arguments of each dialog on the page:</p>\n\n<pre><code>function show_popup1() {\n    $(\"#modal_popup\").html(data);\n    $(\"#modal_popup\").dialog({ width: 950, height: 550, title: 'Popup Title of my First Dialog'});\n}\n\nfunction show_popup2() {\n    $(\"#modal_popup\").html(data);\n    $(\"#modal_popup\").dialog({ width: 950, height: 550, title: 'Popup Title of my Other Dialog'});\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I have found simpler solution:</p>\n\n<pre><code>$('#clickToCreate').live('click', function() {\n     $('#yourDialogId')\n         .dialog({\n              title: \"Set the title to Create\"\n         })\n         .dialog('open'); \n});\n\n\n$('#clickToEdit').live('click', function() {\n     $('#yourDialogId')\n         .dialog({\n              title: \"Set the title To Edit\"\n         })\n         .dialog('open'); \n});\n</code></pre>\n\n<p>Hope that helps!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Even better!</p>\n\n<pre><code>    jQuery( \"#dialog\" ).attr('title', 'Error');\n    jQuery( \"#dialog\" ).text('You forgot to enter your first name');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I like to change the title from an UI Dialog after i have submitted a form in this UI Dialog. So in the callback-function after <code>load</code> i should suggest, but i've tried and googled without result.</p>\n\n<p>Has anyone an idea?</p>\n",
            "last_activity_date": 1425425775,
            "question_id": 2171763,
            "score": 67,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui",
                "jquery-dialog"
            ],
            "title": "jQuery ui dialog change title after load-callback"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Bootstrap has a few functions that can be called manually on modals:</p>\n\n<pre><code>$('#myModal').modal('toggle');\n$('#myModal').modal('show');\n$('#myModal').modal('hide');\n</code></pre>\n\n<p>You can see more here: <a href=\"http://getbootstrap.com/javascript/#modals\">Bootstrap modal component</a></p>\n\n<p>So you would need to change:</p>\n\n<pre><code>$('#my-modal').modal({\n    show: 'false'\n}); \n</code></pre>\n\n<p>to:</p>\n\n<pre><code>$('#myModal').modal('show'); \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 130
                },
                {
                    "body": "<p>In addition you can use via data attribute</p>\n\n<pre><code>&lt;button type=\"button\" data-toggle=\"modal\" data-target=\"#myModal\"&gt;Launch modal&lt;/button&gt;\n</code></pre>\n\n<p>In this particular case you don't need to use JS.</p>\n\n<p>You can see more here: <a href=\"http://getbootstrap.com/2.3.2/javascript.html#modals\">http://getbootstrap.com/2.3.2/javascript.html#modals</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>It's my way:<br><br>\n<strong>index.html.slim</strong><br>\nInserting button:</p>\n\n<pre><code>input.btn.btn-primary type=\"button\" data-toggle=\"modal\" data-target=\"#myModal\" value=\"Modal\"\n</code></pre>\n\n<p>Inserting modal window:<br></p>\n\n<pre><code>#myModal.modal.fade aria-hidden=\"true\" aria-labelledby=\"myModalLabel\" role=\"dialog\" tabindex=\"-1\"\n  .modal-dialog\n    .modal-content\n      .modal-header\n        button.close data-dismiss=\"modal\" type=\"button\"\n          span aria-hidden=\"true\"  &amp;times;\n          span.sr-only Close\n        h4#myModalLabel.modal-title Choose of route\n      .modal-body\n        = image_tag(\"map.png\")\n      .modal-footer\n        button.btn.btn-default data-dismiss=\"modal\" type=\"button\" Close\n        button.btn.btn-primary type=\"button\"  Save changes\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                }
            ],
            "body": "<p>I'm using Twitter's Bootstrap modal window functionality. When someone clicks submit on my form, I want to show the modal window upon clicking the \"submit button\" in the form.</p>\n\n<pre><code>&lt;form id=\"myform\" class=\"form-wizard\"&gt;\n    &lt;h2 class=\"form-wizard-heading\"&gt;BootStap Wizzard Form&lt;/h2&gt;\n    &lt;input type=\"text\" value=\"\"/&gt;\n    &lt;input type=\"submit\"/&gt;\n&lt;/form&gt;\n\n&lt;!-- Modal --&gt;\n&lt;div id=\"myModal\" class=\"modal hide fade\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\"&gt;\n    &lt;div class=\"modal-header\"&gt;\n        &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\"&gt;\u00d7&lt;/button&gt;\n        &lt;h3 id=\"myModalLabel\"&gt;Modal header&lt;/h3&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-body\"&gt;\n        &lt;p&gt;One fine body\u2026&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-footer\"&gt;\n        &lt;button class=\"btn\" data-dismiss=\"modal\" aria-hidden=\"true\"&gt;Close&lt;/button&gt;\n        &lt;button class=\"btn btn-primary\"&gt;Save changes&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>jQuery:</p>\n\n<pre><code>$('#myform').on('submit', function(ev) {\n    $('#my-modal').modal({\n        show: 'false'\n    }); \n\n\n    var data = $(this).serializeObject();\n    json_data = JSON.stringify(data);\n    $(\"#results\").text(json_data); \n    $(\".modal-body\").text(json_data); \n\n    // $(\"#results\").text(data);\n\n    ev.preventDefault();\n});\n</code></pre>\n",
            "last_activity_date": 1419955503,
            "question_id": 13183630,
            "score": 61,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "How to open a Bootstrap modal window using jQuery?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<pre><code>var partsOfStr = str.split(',');\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/split\"><code>split()</code></a></p>\n",
                    "is_accepted": false,
                    "score": 76
                },
                {
                    "body": "<pre><code>var array = string.split(',')\n</code></pre>\n\n<p>and good morning, too, since I have to type 30 chars ...</p>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<pre><code>&lt;script&gt;\n   var result;\n   result = \"1,2,3\".split(\",\") \n   console.log(result);\n&lt;/script&gt;\n</code></pre>\n\n<p>Prints the following in the console.</p>\n\n<pre><code>[\"1\", \"2\", \"3\"]\n</code></pre>\n\n<p>More info on <a href=\"http://www.w3schools.com/jsref/jsref_split.asp\" rel=\"nofollow\">W3Schools</a> describing the String Split function.</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>Use</p>\n\n<pre><code>YourCommaSeparatedString.split(',');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/96428/how-do-i-split-this-string-with-javascript\">How do I split this string with javascript?</a>  </p>\n</blockquote>\n\n\n\n<p>I want to split a comma separated string with JavaScript. How?</p>\n",
            "last_activity_date": 1416377585,
            "question_id": 5269856,
            "score": 44,
            "tags": [
                "javascript"
            ],
            "title": "How to split comma separated string using JavaScript?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Just a guess here, but it may be time for <a href=\"http://stackoverflow.com/questions/790703/tricks-to-refactor-a-piece-of-code-with-many-branches-if-then-else/790726#790726\">functional decomposition</a>. Functions should do <em>one</em> thing and do it well.</p>\n\n<p>Too many vars is suggestive of a function that's trying to do too much. Or a case where you should be using an array. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If the \"onevar\" option is set to true if only one var statement per function is allowed.</p>\n\n<pre><code>if (funct['(onevar)'] &amp;&amp; option.onevar) {\n    warning(\"Too many var statements.\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Javascript does not have block scope. In other languages with it (like c), if you declare a variable in the if statement, you can not access it outside of it, but in javascript you can. The author of JSLint believes it is a bad practice, since you (or other readers) might get confused and think that you can no longer access the variable, but you actually can. Therefore, you should declare all your variables at the top of the function.</p>\n",
                    "is_accepted": true,
                    "score": 86
                },
                {
                    "body": "<p>The idea is that you should use an object instead of individual vars. So where you have got:</p>\n\n<pre><code>var x = arg + 1,\n    y = cache.GetItem('xyz');\n</code></pre>\n\n<p>Change it to: </p>\n\n<pre><code>var dimensions = {};\ndimensions.x = arg + 1;\ndimensons.y = cache.GetItem('xyz');\ndimensions.request = ...\n</code></pre>\n\n<p>You can then access these variables through the object, its neater to have one object per function to contain that functions variables. Then you won't get the warning.</p>\n",
                    "is_accepted": false,
                    "score": -7
                },
                {
                    "body": "<p>Just declare your vars in one place like this:</p>\n\n<pre><code>var request,x,y;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The official reason <a href=\"http://www.jslint.com/lint.html#scope\">is here</a>, by Douglas Crockford.</p>\n\n<p>To quote:</p>\n\n<blockquote>\n  <p>In many languages, a block introduces a scope. Variables introduced in\n  a block are not visible outside of the block.</p>\n  \n  <p>In JavaScript, blocks do not introduce a scope. There is only\n  function-scope. A variable introduced anywhere in a function is\n  visible everywhere in the function. JavaScript's blocks confuse\n  experienced programmers and lead to errors because the familiar syntax\n  makes a false promise.</p>\n  \n  <p>JSLint expects blocks with function, if, switch, while, for, do, and\n  try statements and nowhere else.</p>\n  \n  <p>In languages with block scope, it is usually recommended that\n  variables be declared at the site of first use. But because JavaScript\n  does not have block scope, it is wiser to declare all of a function's\n  variables at the top of the function. It is recommended that a single\n  var statement be used per function. This can be declined with the vars\n  option.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>The reasoning is already described.</p>\n\n<p>Recommendation is to use this form:</p>\n\n<pre><code>var myVar1 = document.getElementById(\"myDiv1\"),\n  myVar2 = document.getElementById(\"myDiv2\");\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>var myVar1, myVar2;\nmyVar1 = document.getElementById(\"myDiv1\");\nmyVar2 = document.getElementById(\"myDiv2\");\n</code></pre>\n\n<p>But this doesn't look very nice, especially if you want to document vars.</p>\n\n<p>So you can just disable this warning temporarly:</p>\n\n<pre><code>  /*jslint vars: true*/\n  /**\n   * @returns {HTMLDivElement}\n   */\n  var myVar1 = document.getElementById(\"myDiv1\");\n  /**\n   * @returns {HTMLDivElement}\n   */\n  var myVar2 = document.getElementById(\"myDiv2\");\n  /*jslint vars: false*/\n</code></pre>\n\n<p>Warning: make sure that this is done at the top of a function.</p>\n\n<p>I think this is done because jslint couldn't reliably determine if vars were declared at the top of function or not.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>JSLint (with the onevar flag turned on) is flagging some javascript code that I have with the following:</p>\n\n<pre>Problem at line 5 character 15: Too many var statements.</pre>\n\n<p>I am happy to fix these errors, but I'd like to know, am I doing it for performance or because it is just a bad practice and has a greater potential to introduce bugs in my javascript code.  What is the reason behind the onevar flag?</p>\n\n<p>I did look at the JSLint docs for the <a href=\"http://www.jslint.com/lint.html#var\">var keyword</a> but it doesn't specifically talk about why multiple var statements in the same function are bad.</p>\n\n<p>Here is an attempt at an example.  Explain how the code will benefit from only having 1 var statement:</p>\n\n<pre><code>function Test(arg) {\n   var x = arg + 1,\n       y = cache.GetItem('xyz');\n   if (y !== null) {\n      // This is what would cause the warning in JSLint\n      var request = ajaxPost(/* Parameters here */);\n\n   }\n}\n</code></pre>\n",
            "last_activity_date": 1351602273,
            "question_id": 810313,
            "score": 43,
            "tags": [
                "javascript",
                "refactoring",
                "jslint"
            ],
            "title": "What is the reason behind JSLint saying there are &quot;too many var statements&quot;"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>In Firefox, IE, Safari and Chrome (not Opera) you can set the <code>debugger</code> directive.</p>\n\n<pre><code>// your JS code\n...\n// break here\ndebugger;\n</code></pre>\n\n<p>This is extremely useful with Firebug.</p>\n",
                    "is_accepted": false,
                    "score": 75
                }
            ],
            "body": "<p>I am currently debugging complex Javascript/AJAX code written with mootools with FireBug. I am looking for a way to stop the JS execution as if it was a breakpoint programmatically.</p>\n\n<p>Ex:</p>\n\n<pre><code>instructions ...\ndegugger.breakpoint(); // the execution stops here as if a breakpoint was\n                       // manually set\nother instructions ...\n</code></pre>\n\n<p>any idea?</p>\n",
            "last_activity_date": 1250079109,
            "question_id": 1265623,
            "score": 41,
            "tags": [
                "javascript",
                "debugging",
                "firebug",
                "breakpoints"
            ],
            "title": "Programmatically stop Javascript execution in FireFox/FireBug"
        },
        {
            "answer_count": 14,
            "answers": [
                {
                    "body": "<p>There's a write-up here that may be of use: <a href=\"http://www.codeproject.com/KB/scripting/FocusFirstInput.aspx\">Set Focus to First Input on Web Page</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>document.forms[0].elements[0].focus();\n</code></pre>\n\n<p>This can be refined using a loop to eg. not focus certain types of field, disabled fields and so on. Better may be to add a class=\"autofocus\" to the field you actually <em>do</em> want focused, and loop over forms[i].elements[j] looking for that className.</p>\n\n<p>Anyhow: it's not normally a good idea to do this on every page. When you focus an input the user loses the ability to eg. scroll the page from the keyboard. If unexpected, this can be annoying, so only auto-focus when you're pretty sure that using the form field is going to be what the user wants to do. ie. if you're Google.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>You also need to skip any hidden inputs.</p>\n\n<pre><code>for (var i = 0; document.forms[0].elements[i].type == 'hidden'; i++);\ndocument.forms[0].elements[i].focus();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>If you're using the <a href=\"http://www.prototypejs.org/\">Prototype</a> JavaScript framework then you can use the <a href=\"http://www.prototypejs.org/api/form/focusFirstElement\">focusFirstElement</a> method:</p>\n\n<pre><code>Form.focusFirstElement(document.forms[0]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Putting this code at the end of your <code>body</code> tag will focus the first visible, non-hidden enabled element on the screen automatically.  It will handle most cases I can come up with on short notice.</p>\n\n<pre><code>&lt;script&gt;\n    (function(){\n        var forms = document.forms || [];\n        for(var i = 0; i &lt; forms.length; i++){\n            for(var j = 0; j &lt; forms[i].length; j++){\n                if(!forms[i][j].readonly != undefined &amp;&amp; forms[i][j].type != \"hidden\" &amp;&amp; forms[i][j].disabled != true &amp;&amp; forms[i][j].style.display != 'none'){\n                    forms[i][j].focus();\n                    return;\n                }\n            }\n        }\n    })();\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can also try jQuery based method:</p>\n\n<pre><code>$(document).ready(function() {\n    $('form:first *:input[type!=hidden]:first').focus();\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 59
                },
                {
                    "body": "<p>The most comprehensive jQuery expression I found working is (through the help of over <a href=\"http://www.gerd-riesselmann.net/development/focus-first-form-field-with-jquery\">here</a>)</p>\n\n<pre><code>$(document).ready(function() {\n    $('input:visible:enabled:first').focus();\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Although this doesn't answer the question (requiring a common script), I though it might be useful for others to know that HTML5 introduces the 'autofocus' attribute:</p>\n\n<pre><code>&lt;form&gt;\n  &lt;input type=\"text\" name=\"username\" autofocus&gt;\n  &lt;input type=\"password\" name=\"password\"&gt;\n  &lt;input type=\"submit\" value=\"Login\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><a href=\"http://fortuito.us/diveintohtml5/forms.html#autofocus\">Dive in to HTML5</a> has more information.</p>\n",
                    "is_accepted": false,
                    "score": 64
                },
                {
                    "body": "<p>This gets the first of any visible common input, including textareas and select boxes.  This also makes sure they aren't hidden, disabled or readonly.  it also allows for a target div, which I use in my software (ie, first input inside of this form).</p>\n\n<pre><code>$(\"input:visible:enabled:not([readonly]),textarea:visible:enabled:not([readonly]),select:visible:enabled:not([readonly])\", \n    target).first().focus();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Tried lots of the answers above and they weren't working. Found this one at: <a href=\"http://www.kolodvor.net/2008/01/17/set-focus-on-first-field-with-jquery/#comment-1317\" rel=\"nofollow\">http://www.kolodvor.net/2008/01/17/set-focus-on-first-field-with-jquery/#comment-1317</a>\nThank you Kolodvor. </p>\n\n<pre><code>$(\"input:text:visible:first\").focus();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'm using this:</p>\n\n<pre><code>$(\"form:first *:input,select,textarea\").filter(\":not([readonly='readonly']):not([disabled='disabled']):not([type='hidden'])\").first().focus();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>With <code>AngularJS</code> :</p>\n\n<pre><code>angular.element('#Element')[0].focus();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This includes textareas and excludes radio buttons</p>\n\n<pre><code>$(document).ready(function() {\n    var first_input = $('input[type=text]:visible:enabled:first, textarea:visible:enabled:first')[0];\n    if(first_input != undefined){ first_input.focus(); }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For those who use JSF2.2+ and cannot pass autofocus as an attribute without value to it, use this:</p>\n\n<pre><code> p:autofocus=\"true\"\n</code></pre>\n\n<p>And add it to the namespace p (Also often used pt. Whatever you like).</p>\n\n<pre><code>&lt;html ... xmlns:p=\"http://java.sun.com/jsf/passthrough\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a simple way to <strong>set the focus</strong> (input cursor) of a web page <strong>on the first input element</strong> (textbox, dropdownlist, ...) on loading the page without having to know the id of the element?</p>\n\n<p>I would like to implement it as a common script for all my pages/forms of my web application.</p>\n\n<p><em>Thanks!</em></p>\n",
            "last_activity_date": 1413786513,
            "question_id": 277544,
            "score": 41,
            "tags": [
                "javascript",
                "html",
                "forms",
                "focus"
            ],
            "title": "How to set the focus to the first input element in an HTML form independent from the id?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It's a complete hack from messing with the leaflet.js source code, but it works (at least in jsFiddle) <a href=\"http://jsfiddle.net/C7Rp8/4/\">http://jsfiddle.net/C7Rp8/4/</a></p>\n\n<p>The idea is from Google Maps, to \"resize\" or \"redraw\" the map when its container div is resized.</p>\n\n<p>The changes I made are:</p>\n\n<p>add id <code>link3</code> to the small tab in HTML</p>\n\n<pre><code>&lt;a href=\"#lC\" data-toggle=\"tab\" id=\"link3\"&gt;tab3&lt;/a&gt;\n</code></pre>\n\n<p>add a listener to this tab inside <code>$(function() {</code></p>\n\n<pre><code>$(\"body\").on('shown','#link3', function() { \n  L.Util.requestAnimFrame(map.invalidateSize,map,!1,map._container);\n});\n</code></pre>\n\n<p>The requestAniMFrame line is taken from trackResize in leaflet.js</p>\n\n<p><strong>Update from the comments</strong>: Hi, I used map.invalidateSize(false); instead of L.Util.requestAnimFrame(... and this also seems to work. Just thought I'd point this out. Great answer though! \u2013 Herr Grumps</p>\n",
                    "is_accepted": true,
                    "score": 40
                },
                {
                    "body": "<p>Bootstrap 3 has custom namespaced events, and so previous answers would work with:</p>\n\n<pre><code>$(\"body\").on(\"shown.bs.tab\", \"#link3\", function() {\n    map.invalidateSize(false);\n});\n</code></pre>\n\n<p>Reference: <a href=\"http://getbootstrap.com/javascript/#tabs\">Bootstrap Tabs</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>I'm trying to use Leaflet.js to display a map inside a tabbed panel from Twitter Bootstrap, but is behaving in a strange way: </p>\n\n<p>When I click on the tab containing the panel there is a gray layer on top of the map. If I drag and move the map I get to see other tiles, but not the initial ones.</p>\n\n<p>Even more strange is that if I resize the browser, suddenly it works perfectly, until I reload again, so I would guess is a problem with the css, but I cannot find the problem.</p>\n\n<p>Also, placing the map outside of the tabbed panel works great.</p>\n\n<p>I tested in Firefox and Chrome, and both have the same issue.</p>\n\n<p>I created a test in jsfiddle to see it \"live\":  <a href=\"http://jsfiddle.net/jasalguero/C7Rp8/1/\">http://jsfiddle.net/jasalguero/C7Rp8/1/</a></p>\n\n<p>Any help is really appreciated!</p>\n",
            "last_activity_date": 1403024703,
            "question_id": 10762984,
            "score": 34,
            "tags": [
                "javascript",
                "css",
                "twitter-bootstrap",
                "leaflet"
            ],
            "title": "Leaflet map not displayed properly inside tabbed panel"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>Some browsers support <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\"><code>Array.indexOf()</code></a>.</p>\n\n<p>If not, you could augment the <code>Array</code> object via its prototype like so...</p>\n\n<pre><code>if (!Array.prototype.indexOf)\n{\n  Array.prototype.indexOf = function(searchElement /*, fromIndex */)\n  {\n    \"use strict\";\n\n    if (this === void 0 || this === null)\n      throw new TypeError();\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (len === 0)\n      return -1;\n\n    var n = 0;\n    if (arguments.length &gt; 0)\n    {\n      n = Number(arguments[1]);\n      if (n !== n) // shortcut for verifying if it's NaN\n        n = 0;\n      else if (n !== 0 &amp;&amp; n !== (1 / 0) &amp;&amp; n !== -(1 / 0))\n        n = (n &gt; 0 || -1) * Math.floor(Math.abs(n));\n    }\n\n    if (n &gt;= len)\n      return -1;\n\n    var k = n &gt;= 0\n          ? n\n          : Math.max(len - Math.abs(n), 0);\n\n    for (; k &lt; len; k++)\n    {\n      if (k in t &amp;&amp; t[k] === searchElement)\n        return k;\n    }\n    return -1;\n  };\n}\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf#Compatibility\">Source</a>.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>if(blockedTile.indexOf(\"118\") != -1)\n{  \n   // element found\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 71
                },
                {
                    "body": "<pre><code>if(array.indexOf(\"67\") != -1) // is in array\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Depending on the version of JavaScript you have available, you can use <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\" rel=\"nofollow\"><code>indexOf</code></a>:</p>\n\n<blockquote>\n  <p>Returns the first index at which a given element can be found in the array, or -1 if it is not present.</p>\n</blockquote>\n\n<p>Or <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow\"><code>some</code></a>:</p>\n\n<blockquote>\n  <p>Tests whether some element in the array passes the test implemented by the provided function.</p>\n</blockquote>\n\n<p>But, if you're doing this sort of existence check a lot you'd be better of using an Object to store your strings (or perhaps an object as well as the Array depending on what you're doing with your data).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>function in_array(needle, haystack){\n    var found = 0;\n    for (var i=0, len=haystack.length;i&lt;len;i++) {\n        if (haystack[i] == needle) return i;\n            found++;\n    }\n    return -1;\n}\nif(in_array(\"118\",array)!= -1){\n//is in array\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<h1>Use <a href=\"http://underscorejs.org/#indexOf\">Underscore.js</a></h1>\n\n<p>It <a href=\"http://underscorejs.org/test/test.html\">cross-browser compliant</a> and can perform a binary search if your data is sorted. </p>\n\n<h2><a href=\"http://underscorejs.org/#indexOf\">_.indexOf</a></h2>\n\n<blockquote>\n  <p>_.indexOf(array, value, [isSorted])  Returns the index at which value can be found in the array, or -1 if value is not present in the array.\n  Uses the native indexOf function unless it's missing. If you're\n  working with a large array, and you know that the array is already\n  sorted, pass true for isSorted to use a faster binary search.</p>\n</blockquote>\n\n<h2><a href=\"http://jsfiddle.net/9UFrS/2/\">Example</a></h2>\n\n<pre><code>//Tell underscore your data is sorted (Binary Search)\nif(_.indexOf(['2','3','4','5','6'], '4', true) != -1){\n    alert('true');\n}else{\n    alert('false');   \n}\n\n//Unsorted data works to!\nif(_.indexOf([2,3,6,9,5], 9) != -1){\n    alert('true');\n}else{\n    alert('false');   \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I'd use a different data structure, since array seem to be not the best solution.</p>\n\n<p>Instead of array, use an object as a hash-table, like so:</p>\n\n<p>(posted also in <a href=\"http://jsbin.com/kozepehe/1/edit?js,console\" rel=\"nofollow\">jsbin</a>)</p>\n\n<pre><code>var arr = [\"x\", \"y\", \"z\"];\nvar map = {};\nfor (var k=0; k &lt; arr.length; ++k) {\n  map[arr[k]] = true;\n}\n\nfunction is_in_map(key) {\n  try {\n    return map[key] === true;\n  } catch (e) {\n    return false;\n  }\n}\n\n\nfunction print_check(key) {\n  console.log(key + \" exists? - \" + (is_in_map(key) ? \"yes\" : \"no\"));\n}\n\nprint_check(\"x\");\nprint_check(\"a\");\n</code></pre>\n\n<p>Console output:</p>\n\n<pre><code>x exists? - yes\na exists? - no\n</code></pre>\n\n<p>That's a straight-forward solution. If you're more into an object oriented approach, then search Google for <a href=\"https://www.google.co.il/search?q=js%20hashtable\" rel=\"nofollow\">\"js hashtable\"</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Why don't you use Array.filter?</p>\n\n<pre><code>var array = ['x','y','z'];\narray.filter(function(item,index,array){return(item==YOURVAL)}).\n</code></pre>\n\n<p>Just copy that into your code, and here you go:</p>\n\n<pre><code>Array.prototype.inArray = function (searchedVal) {\nreturn this.filter(function(item,index,array){return(item==searchedVal)}).length==true\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Let's say I have this:</p>\n\n<pre><code>var blockedTile = new Array(\"118\", \"67\", \"190\", \"43\", \"135\", \"520\");\n</code></pre>\n\n<p>There's more array elements but those are just few for readability purposes. Anyways, I could do a \"for\" loop but it would do 500 loops everytime you click on the map... is there any other way to see if a certain string is in an array?</p>\n",
            "last_activity_date": 1412947906,
            "question_id": 5864408,
            "score": 33,
            "tags": [
                "javascript"
            ],
            "title": "JavaScript is in array"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>In JQuery you can call</p>\n\n<pre><code>$(\"form:first\").trigger(\"submit\")\n</code></pre>\n\n<p>Don't know if that is much better. I think form.submit(); is pretty universal.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can always <a href=\"http://docs.jquery.com/Events/submit\" rel=\"nofollow\">JQuery-ize</a> your form.submit, but it may just call the same thing:</p>\n\n<pre><code>$(\"form\").submit(); // probably able to affect multiple forms (good or bad)\n\n// or you can address it by ID\n$(\"#yourFormId\").submit();\n</code></pre>\n\n<p>You can also <a href=\"http://docs.jquery.com/Events/submit\" rel=\"nofollow\">attach</a> functions to the submit event, but that is a different concept.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>this.form.submit();\n</code></pre>\n\n<p>This is probably your best bet. Especially if you are not already using jQuery in your project, there is no need to add it (or any other JS library) just for this purpose.</p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>Your question in somewhat confusing in that that you don't explain what you mean by \"current element\".</p>\n\n<p>If you have multiple forms on a page with all kinds of input elements and a button of type \"submit\", then hitting \"enter\" upon filling any of it's fields will trigger submission of that form. You don't need any Javascript there.</p>\n\n<p>But if you have multiple \"submit\" buttons on a form and no other inputs (e.g. \"edit row\" and/or \"delete row\" buttons in table), then the line you posted could be the way to do it. </p>\n\n<p>Another way (no Javascript needed) could be to give different values to all your buttons (that are of type \"submit\"). Like this:</p>\n\n<pre><code>&lt;form action=\"...\"&gt;\n    &lt;input type=\"hidden\" name=\"rowId\" value=\"...\"&gt;\n    &lt;button type=\"submit\" name=\"myaction\" value=\"edit\"&gt;Edit&lt;/button&gt;\n    &lt;button type=\"submit\" name=\"myaction\" value=\"delete\"&gt;Delete&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>When you click a button only the form containing the button will be submitted, and only the value of the button you hit will be sent (along other input values).</p>\n\n<p>Then on the server you just read the value of the variable \"myaction\" and decide what to do.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think what you are looking for is something like this:</p>\n\n<pre><code>$(field).closest(\"form\").submit();\n</code></pre>\n\n<p>For example, to handle the onchange event, you would have this:</p>\n\n<pre><code>$(select your fields here).change(function() {\n    $(this).closest(\"form\").submit();\n});\n</code></pre>\n\n<p>If, for some reason you aren't using jQuery 1.3 or above, you can call <code>parents</code> instead of <code>closest</code>.</p>\n",
                    "is_accepted": true,
                    "score": 82
                },
                {
                    "body": "<p>Similar to <a href=\"http://stackoverflow.com/questions/418076/is-there-a-better-jquery-solution-to-this-form-submit/419111#419111\">Matthew's</a> answer, I just found that you can do the following:</p>\n\n<pre><code>$(this).closest('form').submit();\n</code></pre>\n\n<p>Wrong: The problem with using the parent functionality is that the field needs to be immediately within the form to work (not inside tds, labels, etc).</p>\n\n<p>I stand corrected: parent**s** (with an s) also works. Thxs Paolo for pointing that out.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>&lt;form method=\"get\"&gt;\n   &lt;p&gt;&lt;label&gt;Field Label\n      &lt;select onchange=\"this.form.submit();\"&gt;\n         &lt;option value=\"blah\"&gt;Blah&lt;/option&gt;\n            ....\n     &lt;/select&gt;\n     &lt;/label&gt;\n   &lt;/p&gt;\n    **&lt;!-- &lt;input name=\"submit\" type=\"submit\" /&gt; // name=\"submit_new_name\" --&gt;**\n  &lt;/form&gt;\n\n&lt;!-- \n\n   this.form.submit == this.form.elements['submit'];\n\n--&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I have found that using jQuery the best solution is</p>\n\n<pre><code>$(this.form).submit()\n</code></pre>\n\n<p>Using this statement jquery plugins (e.g. <a href=\"http://jquery.malsup.com/form\" rel=\"nofollow\">jquery form plugin</a>) works correctly and jquery DOM traversing overhead is minimized.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to trigger the submit event of the form the current element is in. A method I know works sometimes is:</p>\n\n<pre><code>this.form.submit();\n</code></pre>\n\n<p>I'm wondering if there is a better solution, possibly using jQuery, as I'm not 100% sure method works in every browser.</p>\n\n<p>Edit:</p>\n\n<p>The situation I have is, as follows:</p>\n\n<pre><code>&lt;form method=\"get\"&gt;\n    &lt;p&gt;&lt;label&gt;Field Label\n        &lt;select onchange=\"this.form.submit();\"&gt;\n            &lt;option value=\"blah\"&gt;Blah&lt;/option&gt;\n            ....\n        &lt;/select&gt;&lt;/label&gt;\n    &lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I want to be able to submit the form on change of the <code>&lt;select&gt;</code>.</p>\n\n<p>What I'm looking for is a solution that works on any field within any form without knowing the id or name on the form. <code>$('form:first')</code> and <code>$('form')</code> won't work because the form could be the third on the page. Also, I am using jQuery on the site already, so using a bit of jQuery is not a big deal.</p>\n\n<p>So, is there a way to have jQuery retrieve the form the input/select/textarea is in?</p>\n",
            "last_activity_date": 1392231929,
            "question_id": 418076,
            "score": 33,
            "tags": [
                "javascript",
                "jquery",
                "forms",
                "submit"
            ],
            "title": "Is there a better jQuery solution to this.form.submit();?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>It could have to do with the z-index master list on variables.less. In general, be sure that your variables.less file is correct and up-to-date.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>The most probable cause is that the content displaying over the popover has a higher <code>z-index</code>. Without the precise code/style, I can offer two options :</p>\n\n<p>You should try pinpointing the exact elements with a web inspector (usually F12 on your favorite browser) and check their actual <code>z-index</code>.</p>\n\n<p>If you find this value, you can set it <strong>lower than the popover</strong> which is <a href=\"https://github.com/twitter/bootstrap/blob/v2.2.2/less/variables.less#L145\" rel=\"nofollow\"><code>z-index: 1010;</code> by default</a></p>\n\n<hr />\n\n<p>Or the other approach, not as good, would be to increase the <code>z-index</code> of the popover. You can do that either with the <code>@zindexPopover</code> in the Less files or directly by overriding</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.popover {\n    z-index: 1010; /* A value higher than 1010 that solves the problem */\n}\n</code></pre>\n\n<hr />\n\n<p>If you can't find a solution, you should try reproducing the bug in something like <a href=\"http://jsfiddle.net/Sherbrow/vdWDQ/\" rel=\"nofollow\">this jsfiddle</a> - you will probably resolve the problem while trying to get the bug.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I just had a situation that was similar to this, involving the DataTables JQuery library with scrolling enabled.</p>\n\n<p>What turned out to be had nothing to do with Z-indices, but with one of the enclosing divs having the CSS overflow property set as hidden. </p>\n\n<p>I fixed it by adding an event to my element triggering the popover which also changed the overflow property of the responsible div to visible.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I was able to solve the problem by setting <code>data-container=\"body\"</code> on the html element</p>\n\n<p><em><code>HTML</code> example:</em> </p>\n\n<pre><code>&lt;a href=\"#\" data-toggle=\"tooltip\" data-container=\"body\" title=\"first tooltip\"&gt;\n    hover over me\n&lt;/a&gt;\n</code></pre>\n\n<p><em><code>JavaScript</code> example:</em></p>\n\n<pre><code>$('your element').tooltip({ container: 'body' }) \n</code></pre>\n\n<p>Discovered from this link: <a href=\"https://github.com/twitter/bootstrap/issues/5889\">https://github.com/twitter/bootstrap/issues/5889</a></p>\n",
                    "is_accepted": true,
                    "score": 110
                },
                {
                    "body": "<p>I had a similar issue with 2 fixed elements - even though the z-index heirachy was correct, the bootstrap tooltip was hidden behind the one element wth a lower z-index.</p>\n\n<p>Adding <code>data-container=\"body\"</code> resolved the issue and now works as expected.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is Working for me</p>\n\n<pre><code>$().popover({container: 'body'})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm working on a bootstrap site and after updating to bootstrap 2.2 from 2.0 everything worked except the popover.</p>\n\n<p>The popovers still show up fine, but they don't show up on top of all other elements. </p>\n\n<pre><code>&lt;div&gt; // this sits on top of the popover. this did not happen before cleaning up scripts.\n     &lt;div&gt;  //popover shows on top of this\n          &lt;div&gt; //popover shows on top of this\n               //link here with popover in it.\n          &lt;/div&gt;\n     &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Anyone have any idea on why the behavior of the popover changed, or how I can fix it? Thanks.</p>\n",
            "last_activity_date": 1426072782,
            "question_id": 14025438,
            "score": 31,
            "tags": [
                "javascript",
                "html",
                "twitter-bootstrap",
                "popover"
            ],
            "title": "bootstrap popover not showing on top of all elements"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>:javascript\n    $(document).ready( function() {\n      $('body').addClass( 'test' );\n    } );\n</code></pre>\n\n<p>Docs: <a href=\"http://haml-lang.com/docs/yardoc/file.HAML_REFERENCE.html#javascript-filter\">http://haml-lang.com/docs/yardoc/file.HAML_REFERENCE.html#javascript-filter</a></p>\n",
                    "is_accepted": true,
                    "score": 88
                },
                {
                    "body": "<p>So i tried the above :javascript which works :) However HAML wraps the generated code in CDATA like so:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  //&lt;![CDATA[\n    $(document).ready( function() {\n       $('body').addClass( 'test' );\n    } );\n  //]]&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>The following HAML will generate the typical  tag for including (for example) typekit or google analytics code. </p>\n\n<pre><code> %script{:type=&gt;\"text/javascript\"}\n  //your code goes here - dont forget the indent!\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You can actually do what Chris Chalmers does in his answer, but you must make sure that HAML doesn't parse the JavaScript. This approach is actually useful when you need to use a different type than <code>text/javascript</code>, which is was I needed to do for <code>MathJax</code>. </p>\n\n<p>You can use the <code>plain</code> filter to keep HAML from parsing the script and throwing an illegal nesting error:</p>\n\n<pre><code>%script{type: \"text/x-mathjax-config\"}\n  :plain\n    MathJax.Hub.Config({\n      tex2jax: {\n        inlineMath: [[\"$\",\"$\"],[\"\\\\(\",\"\\\\)\"]]\n      }\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I'm not up on my HAML. Wondering how I can write something like this to include in a template while I'm hacking on it, but in HAML?</p>\n\n<pre><code>&lt;script type='text/javascript'&gt;\n$(document).ready( function() {\n  $('body').addClass( 'test' );\n} );\n&lt;/script&gt;\n</code></pre>\n\n<p>Thanks in advance!</p>\n",
            "last_activity_date": 1411026049,
            "question_id": 9744169,
            "score": 30,
            "tags": [
                "javascript",
                "jquery",
                "haml"
            ],
            "title": "Include inline JS in HAML"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can do it via code-rewriting.  Rewrite every use of <code>for (p in o) body</code> to</p>\n\n<pre><code>for (p in o) {\n  if (!(/^__notenum_/.test(p) || o['__notenum_' + p])) {\n    body\n  } \n}\n</code></pre>\n\n<p>and then you can mark properties not enumerable by defining a <code>__notenum_...</code> property.  To be compatible you would have to tweak the above to make sure that <code>__notenum_propname</code> is defined at the same prototype level as <code>propname</code>, and if you use them, overwrite <code>eval</code> and <code>new Function</code> to rewrite.</p>\n\n<p>That's basically what <a href=\"http://code.google.com/p/google-caja/wiki/DifferencesBetweenES5Over3AndES5\" rel=\"nofollow\">ES5/3</a> does.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>If you do care a lot about IE8/IE7 then you can do</p>\n\n<pre><code>for (p in o) {\n   if (o.hasOwnProperty(p)) { body } \n}\n</code></pre>\n\n<p>There is no real \"hack\" alternative but this could be a work-around for simple cases</p>\n\n<p>The accepted answer doesn't really work for literals i.e. strings <code>\"\"</code>, numbers <code>3</code>, or booleans <code>true</code></p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p><a href=\"https://gist.github.com/Raynos/1672142\" rel=\"nofollow\"><strong>Partial.js</strong></a> by <a href=\"https://gist.github.com/Raynos\" rel=\"nofollow\"><strong><em>Jake Verbaten</em></strong></a> is the answer to it.</p>\n\n<p>The partial.js is as follows</p>\n\n<pre><code>/* partial non-enumerable property implementation\n\n  Adds a flag to a weakmap saying on obj foo property bar is not enumerable.\n\n  Then checks that flag in Object.keys emulation.\n*/\n\n// pd.Name :- https://github.com/Raynos/pd#pd.Name\nvar enumerables = pd.Name();\n\nObject.defineProperty = function (obj, name, prop) {\n    if (prop.enumerable === false) {\n         enumerables(obj)[name] = true;\n    }\n    ...\n};\n\nObject.keys = function (obj) {\n    var enumerabilityHash = enumerables(obj), keys = [];\n    for (var k in obj) {\n        if (obj.hasOwnProperty(k) &amp;&amp; !enumerabilityHash[k]) {\n             keys.push(k);\n        }\n    }\n    return keys;\n};\n\nObject.getOwnPropertyNames = function (obj) {\n    var keys = [];\n    for (var k in obj) { \n        if (obj.hasOwnProperty(k)) {\n             keys.push(k);\n        }\n    }\n};\n</code></pre>\n\n<p>I hope this helps the guys searching for this fix.</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>ES5 has a enumerable flag. <a href=\"http://jsfiddle.net/BjrTV/2/\">Example</a></p>\n\n<h2>Example</h2>\n\n<pre><code>var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor\n , pd = getOwnPropertyDescriptor(Object.prototype, \"toString\");\n\nassert(pd.enumerable === false, \"enumerability has the wrong value\");\n</code></pre>\n\n<h2>Partial implementation</h2>\n\n<p><a href=\"https://gist.github.com/1672142\">Partial implementation</a> is do-able by having <code>Object.keys</code> and <code>Object.getOwnPropertyNames</code> filter out new non-enumerable properties using the shimmed <code>Object.defineProperty</code>.</p>\n\n<h2>Introduction</h2>\n\n<p>This allows for properties to be non enumerable. This clearly means that <a href=\"http://jsfiddle.net/aGRDF/2/\">Example</a></p>\n\n<pre><code>for (var key in {}) {\n    assert(key !== \"toString\", \"I should never print\");\n}\n</code></pre>\n\n<p>This allows us to add properties to say <code>Object.prototype</code> (<a href=\"http://jsfiddle.net/aGRDF/1/\">Example</a>)</p>\n\n<pre><code>Object.defineProperty(Object.prototype, \"toUpperCaseString\", {\n    value: function toUpperCaseString() {\n        return this.toString().toUpperCase();\n    },\n    enumerable: false\n});\n\nfor (var key in {}) {\n    assert(key !== \"toUpperCaseString\", \"I should never print\");\n}\n\nconsole.log(({}).toUpperCaseString()); // \"[OBJECT OBJECT]\"\n</code></pre>\n\n<h2>Question</h2>\n\n<p>How can we emulate this in non-ES5 compliant browsers?</p>\n\n<p><a href=\"http://kangax.github.com/es5-compat-table/\">Browser compat table</a></p>\n\n<p>In this case we care about potentially solving this for </p>\n\n<ul>\n<li>IE &lt; 9 (IE8 only works on DOM objects)</li>\n<li>Firefox 3.6</li>\n<li>Safari 4</li>\n<li>Opera 11.5 (Opera 11.6 solves this).</li>\n</ul>\n\n<p>The <a href=\"https://github.com/kriskowal/es5-shim\">ES5-shim</a> does not have a solution for this.</p>\n\n<p>The ES5 shim has a <a href=\"https://gist.github.com/1664895\">solution for <em>most</em> ES5 features that will break your code</a> if it doesn't work.</p>\n\n<p>Is there any black magic that can be done with propiotory IE only APIs? Maybe with VBScript?</p>\n",
            "last_activity_date": 1398827901,
            "question_id": 8918030,
            "score": 30,
            "tags": [
                "javascript",
                "internet-explorer",
                "ecmascript-5",
                "emulate"
            ],
            "title": "Is it possible to emulate non-enumerable properties?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<pre><code>&gt;&gt;&gt; parseFloat(0.9999999.toFixed(4));\n1\n&gt;&gt;&gt; parseFloat(0.0009999999.toFixed(4));\n0.001\n&gt;&gt;&gt; parseFloat(0.0000009999999.toFixed(4));\n0\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 42
                },
                {
                    "body": "<p>Yes, there is a way. Use <code>parseFloat()</code>.</p>\n\n<pre><code>parseFloat((1.005).toFixed(15)) //==&gt; 1.005\nparseFloat((1.000000000).toFixed(15)) //==&gt; 1\n</code></pre>\n\n<p>See a live example here: <a href=\"http://jsfiddle.net/nayish/7JBJw/\">http://jsfiddle.net/nayish/7JBJw/</a></p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>As I understand, you want to remove the trailing zeros in the string that you obtained via <code>toFixed()</code>. This is a pure string operation:</p>\n\n<pre><code>var x = 1.1230000;\nvar y = x.toFixed(15).replace(/0+$/, \"\");  // ==&gt; 1.123\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p><code>Number(n.toFixed(15))  or +(n.toFixed(15))</code> will convert the 15 place decimal string to a number, removing trailing zeroes.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Mmmm, a little different answer, for cross browser too:</p>\n\n<pre><code>function round(x, n) {\n    return Math.round(x * Math.pow(10, n)) / Math.pow(10, n)\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you cast the return value to a number, those trailing zeroes will be dropped. This is also less verbose than parseFloat();</p>\n\n<pre><code>+(4.55555).toFixed(2);\n//-&gt; 4.56\n\n+(4).toFixed(2);\n//-&gt; 4\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>None of these really got me what I was looking for based on the question title, which was, for example, for 5.00 to be 5 and 5.10 to be 5.1. My solution was as follows:</p>\n\n<pre><code>num.toFixed(places).replace(/\\.?0+$/, '')\n\n'5.00'.replace(/\\.?0+$/, '') // 5\n'5.10'.replace(/\\.?0+$/, '') // 5.1\n'5.0000001'.replace(/\\.?0+$/, '') // 5.0000001\n'5.0001000'.replace(/\\.?0+$/, '') // 5.0001\n</code></pre>\n\n<p>Note: The regex only works if <code>places &gt; 0</code></p>\n\n<p>P.S. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toFixed</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Here's the scenario: I'm getting <code>.9999999999999999</code> when I should be getting <code>1.0</code>.<br>\nI can afford to lose a decimal place of precision, so I'm using <code>.toFixed(15)</code>, which kind of works.</p>\n\n<p>The rounding works, but the problem is that I'm given <code>1.000000000000000</code>.<br>\n<strong>Is there a way to round to a number of decimal places, but strip extra whitespace?</strong></p>\n\n<p>Note: <code>.toPrecision</code> isn't what I want; I only want to specify how many numbers after the decimal point.<br>\nNote 2: I can't just use <code>.toPrecision(1)</code> because I need to keep the high precision for numbers that actually have data after the decimal point. Ideally, there would be exactly as many decimal places as necessary (up to 15).</p>\n",
            "last_activity_date": 1419286520,
            "question_id": 7312468,
            "score": 30,
            "tags": [
                "javascript",
                "math",
                "floating-point",
                "rounding"
            ],
            "title": "JavaScript: Round to a number of decimal places, but strip extra zeros"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p><code>if ( $('.foo').parents('.parentSelector').length ) { // has parent }</code></p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>For a clean re-usable solution, consider extending the <code>jQuery.fn</code> object with a custom method used for determining the presence of a particular ancestor for any given element:</p>\n\n<pre><code>// Extend jQuery.fn with our new method\njQuery.extend( jQuery.fn, {\n    // Name of our method &amp; one argument (the parent selector)\n    within: function( pSelector ) {\n        // Returns a subset of items using jQuery.filter\n        return this.filter(function(){\n            // Return truthy/falsey based on presence in parent\n            return $(this).closest( pSelector ).length;\n        });\n    }\n});\n</code></pre>\n\n<p>This results in a new method, <code>$.fn.within</code>, that we can use to filter our results:</p>\n\n<pre><code>$(\"li\").within(\".x\").css(\"background\", \"red\");\n</code></pre>\n\n<p>This selects all list items on the document, and then filters to only those that have <code>.x</code> as an ancestor. Because this uses jQuery internally, you could pass in a more complicated selector:</p>\n\n<pre><code>$(\"li\").within(\".x, .y\").css(\"background\", \"red\");\n</code></pre>\n\n<p>This will filter the collection to items that descend from either <code>.x</code> or <code>.y</code>, or both.</p>\n\n<p>Fiddle: <a href=\"http://jsfiddle.net/jonathansampson/6GMN5/\">http://jsfiddle.net/jonathansampson/6GMN5/</a></p>\n",
                    "is_accepted": true,
                    "score": 47
                },
                {
                    "body": "<p>The easy way is this:</p>\n\n<pre><code>// all children of a specific parent match\n$('parentSelector').children();\n\n// All children matching a specific pattern, one level deep\n$('parentSelector &gt; childSelector');\n// or\n// $('parentSelector').children('childSelector');\n\n// All children matching a specific pattern, multiple levels deep\n$('parentSelector childSelector');\n// or\n// $('parentSelector').find('childSelector');\n</code></pre>\n\n<p>or did you really need something more complicated than that?</p>\n\n<p>Edit: If you already have an element, you can combine this with the parent() command, like so:</p>\n\n<pre><code>myElement.parents('parentSelector').find('childSelector'); // Will include self\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this </p>\n\n<pre><code>ul.myList &gt; li &gt; a\n</code></pre>\n\n<p>This selector selects only links that are direct children of list elements, which are\nin turn direct children of  elements that have the class myList. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If I understand your question correctly, this would do:</p>\n\n<pre><code>$.fn.hasAncestor = function(a) {\n    return this.filter(function() {\n        return !!$(this).closest(a).length;\n    });\n};\n\n$('.element').hasAncestor('.container').myAction();\n\n&lt;div class=\"container\"&gt;\n  &lt;span&gt;\n    &lt;strong class=\"element\"&gt;strong&lt;/strong&gt;\n  &lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 32
                },
                {
                    "body": "<pre><code>object.each(function(){\n    element = $(this);\n    if(element.parent().hasClass(\"x\")){\n        //do stuff\n    }\n});\n</code></pre>\n\n<p>this will affect every item in your object that has parent .x</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>$('body').hasParent('html') //true\n\n$('div#myDiv').hasParent($('body')) //true\n</code></pre>\n\n<h1>API:</h1>\n\n<pre><code>$.fn.hasParent=function(e){\n   return !$(this).parents(e).length\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>The JQuery \"has\" method effectively selects all elements where they have particular descendants.</p>\n\n<p>I want to select elements based on the fact they have particular ancestors. I know about parent([selector]) and parents([selector]) but these select the parents and not the children with the parents.</p>\n\n<p>So is there an ancestor equivalent of \"has\"?</p>\n\n<p><strong>Note:</strong> I already have the context of an element further down the hierarchy and I will be selecting based on this so I can't do a \"top down\" query.</p>\n\n<p><strong>Update</strong></p>\n\n<p>I've obviously explained myself really badly here, so I'll try and clarify:</p>\n\n<pre><code>&lt;ul class=\"x\"&gt;\n  &lt;li&gt;1&lt;/li&gt;\n  &lt;li&gt;2&lt;/li&gt;\n  &lt;li&gt;3&lt;/li&gt;\n&lt;/ul&gt;\n&lt;ul class=\"y\"&gt;\n  &lt;li&gt;4&lt;/li&gt;\n  &lt;li&gt;5&lt;/li&gt;\n  &lt;li&gt;6&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>I have a jQuery object that already consists of elements 2,3,4 and 5. I want to select those elements who have a parent with the class = x.</p>\n\n<p>Hope that makes more sense.</p>\n",
            "last_activity_date": 1417082817,
            "question_id": 2389540,
            "score": 29,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "jQuery &quot;hasParent&quot;"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<pre><code>#fblike iframe {\n    width: 95px !important;\n}\n\n#fblike .fb_edge_comment_widget iframe {\n    width: 330px !important;\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>&lt;div id=\"fblike\"&gt;&lt;fb:like show-faces=\"false\" layout=\"button_count\"&gt;&lt;/fb:like&gt;&lt;/div&gt;\n</code></pre>\n\n<p>This way both comment and like button iframes are fixed width. No funny effects. Hope it helps.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>As everyone probably knows by now, there is no easy way to do this. I did come up with a programatic kludge of sorts, though. And when I say kludge, I really mean it! I do not consider this ready for prime time, but someone may like to tinker with the concept and try to find something workable.</p>\n\n<p>The idea is that although you can't read the content width of the iframe, you can loop through a series of widths for the iframe itself until you find one that just barely prevents the text inside from wrapping. At that point, the text must touching the right-hand side of the iframe. In other words, we want to set the width of the iframe to 1px wider than the width that would cause the text to wrap.</p>\n\n<p>Detecting whether the text is wrapping is easy enough in principle -- you set the iframe width, wait for the FB code to adjust the content, and then read the height. If everything fit on one line, the height should be about 25px. More than that means the text has wrapped.</p>\n\n<p>The difficulty comes with the \"wait for the FB code to adjust the content\" part. I feel like there must be someway to force a \"redraw\" of the iframe, but so far I haven't found it. Calling FB.XFBML.parse() is obvious, but it doesn't seem to work. This is the part where I got stuck. I'm forcing the iframe to reload by setting its src attribute, which does the job but at a horrible price in speed. It is just meant as \"proof of concept\" at this point. Almost as good would be a simple way to know when any redraw was finished; I feel that should also be possible but my brain bogged down before I found anything simple.</p>\n\n<p>Anyway here is some test code if you want to give it a try. It takes forever to get the button in position, but it does at least work. I left everything visible during the loading process so you can see what it's doing, on a real page it would be better to keep things hidden until everything is ready. Also note that the alignment may be slightly off because I am adjusting the width 5px at a time. If things could be made faster it would be easy to use 1px instead. Even better would probably be a rough adjustment to get close, then a fine adjustment to get it perfect. Obviously lots of experimenting to do, for whoever might want to take it up.</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n&lt;head&gt;\n&lt;script type='text/javascript'&gt;\nvar likediv, likeframe;\nfunction loadcode(d, s, id)\n{\n  var js, fjs = d.getElementsByTagName(s)[0];\n  if (d.getElementById(id)) {return;}\n  js = d.createElement(s); js.id = id;\n  js.src = \"//connect.facebook.net/en_US/all.js#xfbml=1\";\n  fjs.parentNode.insertBefore(js, fjs);\n}\nfunction init()\n{\nloadcode(document, 'script', 'facebook-jssdk');\nlikediv=document.getElementById('d2');\nsetTimeout(initx, 10);\n}\nfunction initx()\n{\nlikeframe=likediv.getElementsByTagName('iframe')[0];\nif (!likeframe) { setTimeout(initx, 10); return; }\nlikeframe.style.width='225px';\nsetTimeout(shrink, 10);\n}\nfunction shrink()\n{\nlikeframe=likediv.getElementsByTagName('iframe')[0];\nvar currwidth=parseInt(likeframe.style.width);\nif (currwidth&gt;=500) return;\nnewwidth=currwidth+5;\nlikeframe.style.width=newwidth+'px';\nlikeframe.style.height='0';\nlikeframe.src=likeframe.src;\nsetTimeout(checkframe, 10);\n}\nfunction checkframe()\n{\nvar h=parseInt(likeframe.offsetHeight);\nif (h==0) setTimeout(checkframe, 10);\nelse if (h&gt;25) shrink();\n//else we are done; make the frame visible if we hid it earlier\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload='init()' style='margin:10px 50px'&gt;\n&lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n&lt;div style='text-align:right'&gt;Here is some right-aligned text to compare to.&lt;/div&gt;\n&lt;div id='d2' style='float:right;height:25px;overflow:hidden;border:1px dotted red'&gt;\n&lt;div class=\"fb-like\" data-send=\"false\" data-width=\"225\" data-show-faces=\"false\" data-action=\"recommend\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>EDIT: Did a little more experimenting, still an awkward workaround but faster than before:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n&lt;head&gt;\n&lt;script type='text/javascript'&gt;\nvar likediv, likeframe, targwidth;\nfunction loadcode(d, s, id)\n{\n  var js, fjs = d.getElementsByTagName(s)[0];\n  if (d.getElementById(id)) {return;}\n  js = d.createElement(s); js.id = id;\n  js.src = \"//connect.facebook.net/en_US/all.js#xfbml=1\";\n  fjs.parentNode.insertBefore(js, fjs);\n}\nfunction init()\n{\nloadcode(document, 'script', 'facebook-jssdk');\nlikediv=document.getElementById('d2');\nsetTimeout(initx, 10);\n}\nfunction initx()\n{\nlikeframe=likediv.getElementsByTagName('iframe')[0];\nif (!likeframe) { setTimeout(initx, 10); return; }\nlikeframe.style.width='225px';\nsetTimeout(shrink, 10);\n}\nfunction shrink()\n{\nlikeframe=likediv.getElementsByTagName('iframe')[0];\nvar currwidth=parseInt(likeframe.style.width);\nif (currwidth&gt;=500) return;\ntargwidth=currwidth+5;\nlikeframe.style.width='10px';\nlikeframe.style.height='0';\nsetTimeout(checkframe, 10);\n}\nfunction checkframe()\n{\nvar h=parseInt(likeframe.offsetHeight);\nif (h==0) { setTimeout(checkframe, 10); return; }\nlikeframe.style.width=targwidth+'px';\nlikeframe.style.height='0';\nsetTimeout(checkframe2, 10);\n}\nfunction checkframe2()\n{\nvar h=parseInt(likeframe.offsetHeight);\nif (h==0) setTimeout(checkframe2, 10);\nelse if (h&gt;25) shrink();\n//else we are done; make the frame visible if we hid it earlier\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload='init()' style='margin:10px 50px'&gt;\n&lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n&lt;div style='text-align:right'&gt;Here is some right-aligned text to compare to.&lt;/div&gt;\n&lt;div id='d2' style='float:right;height:25px;overflow:hidden;border:1px dotted red'&gt;\n&lt;div class=\"fb-like\" data-send=\"false\" data-width=\"225\" data-show-faces=\"false\" data-action=\"recommend\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>FINAL EDIT: This is the best I think this method is ever going to get; the code could certainly be tweaked but it's always going to take several seconds to run through the trial widths to find what works. But it's now quick enough (around 5 seconds) that it might actually be usable. BTW I am adding each new code version rather than replacing the old ones because I haven't done much cross-browser testing of this code and it's possible the higher-speed versions won't work for someone. Since it's all experimental code I think it's better to have the different versions available for fallback.</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n&lt;head&gt;\n&lt;script type='text/javascript'&gt;\nvar minwidth=225, maxwidth=500, finished=false, last_was_good=null;\nvar likediv, likeframe, targwidth, boundlow, boundhigh;\nfunction loadcode(d, s, id)\n{\n  var js, fjs = d.getElementsByTagName(s)[0];\n  if (d.getElementById(id)) {return;}\n  js = d.createElement(s); js.id = id;\n  js.src = \"//connect.facebook.net/en_US/all.js#xfbml=1\";\n  fjs.parentNode.insertBefore(js, fjs);\n}\nfunction init()\n{\nloadcode(document, 'script', 'facebook-jssdk');\nlikediv=document.getElementById('d2');\nsetTimeout(initx, 10);\n}\nfunction initx()\n{\nlikeframe=likediv.getElementsByTagName('iframe')[0];\nif (!likeframe) { setTimeout(initx, 10); return; }\nlikeframe.style.width=minwidth+'px';\nsetTimeout(trynewwidth, 1);\n}\nfunction trynewwidth()\n{\nif (last_was_good==null) { boundlow=minwidth; boundhigh=maxwidth; }\nelse if (last_was_good) boundhigh=targwidth;\nelse boundlow=targwidth;\nfinished=((boundhigh-boundlow)&lt;2);\nif (finished &amp;&amp; last_was_good) { done(); return; }\nif (finished &amp;&amp; !last_was_good) targwidth=boundhigh;\nelse targwidth=parseInt((boundlow+boundhigh)/2);\nsetTimeout(setwidth, 1);\n}\nfunction done()\n{\n//All finished, if we were hiding the div make it visible now\n}\nfunction setwidth()\n{\nlikeframe=likediv.getElementsByTagName('iframe')[0];\nlikeframe.style.width='10px';\nlikeframe.style.height='0';\nsetTimeout(checkframe, 10);\n}\nfunction checkframe()\n{\nvar h=parseInt(likeframe.offsetHeight);\nif (h==0) { setTimeout(checkframe, 10); return; }\nlikeframe.style.width=targwidth+'px';\nlikeframe.style.height='0';\nsetTimeout(checkframe2, 10);\n}\nfunction checkframe2()\n{\nvar h=parseInt(likeframe.offsetHeight);\nif (h==0) { setTimeout(checkframe2, 10); return; }\nif (finished) { done(); return; }\nlast_was_good=(h&lt;26);\nsetTimeout(trynewwidth, 1);\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload='init()' style='margin:10px 50px'&gt;\n&lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n&lt;div style='text-align:right'&gt;Here is some right-aligned text to compare to.&lt;/div&gt;\n&lt;div id='d2' style='float:right;height:25px;overflow:hidden;border:1px dotted red'&gt;\n&lt;div class=\"fb-like\" data-send=\"false\" data-width=\"225\" data-show-faces=\"false\" data-action=\"recommend\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you use the XFBML version of the Like button, along with the Facebook Javascript SDK, you can subscribe to the 'xfbml.render' event, and once that event fires, you can set the width of the like button iframe to some small value. (I use 50px.) The iframe will then auto-adjust its width as needed in order to display button and like count and whatever other elements, according to your config.</p>\n\n<p><a href=\"https://developers.facebook.com/docs/reference/javascript/\" rel=\"nofollow\">https://developers.facebook.com/docs/reference/javascript/</a></p>\n\n<p>The biggest obstacle to this solution is that you will need a Facebook App ID. You can get an App ID by creating an app here: <a href=\"https://developers.facebook.com/apps/\" rel=\"nofollow\">https://developers.facebook.com/apps/</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>CSS fix</p>\n\n<pre><code>.fb-like, \n.fb-like &gt; span,\n.fb-like &gt; span iframe {\n    max-width:273px;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'm personally using the following...</p>\n\n<pre><code>#fbook-like {\n    width: 50px !important; /*width of just the button*/\n    overflow: visible; /*so there is no cut off*/\n    vertical-align: top; /*bc all other like buttons align top*/\n}\n</code></pre>\n\n<p>What I've done here is put the fb button on the far right and so it aligns with my edge, and just the comments added (dynamic in width) will show past the edge.  I'm able to keep a good design while getting the comments showing, regardless of the length.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I had to face this same problem with the add-this plugin and solved in a similar way:</p>\n\n<pre><code>.addthis_button_facebook_like,\n.addthis_button_facebook_like span,\n.addthis_button_facebook_like span iframe {\n    max-width: 450px !important;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There are some FAQ answers that are worth reading when choosing a size.</p>\n\n<p><a href=\"https://developers.facebook.com/docs/plugins/like-button\" rel=\"nofollow\">https://developers.facebook.com/docs/plugins/like-button</a></p>\n\n<p>Although with that said it's still pretty cryptic : </p>\n\n<blockquote>\n  <p>\"The width of the plugin. The layout you choose affects the minimum\n  and default widths you can use, please see the FAQ below for more\n  details.\"</p>\n</blockquote>\n\n<h2>standard</h2>\n\n<blockquote>\n  <p>Minimum width: 225 pixels.</p>\n  \n  <p>Minimum increases by 40px if\n  action is 'recommend' by and increases by 60px if send is 'true'.</p>\n  \n  <p>Default width: 450 pixels. Height: 35 pixels (without photos) or 80\n  pixels (with photos). </p>\n</blockquote>\n\n<h2>box_count</h2>\n\n<blockquote>\n  <p>Minimum width: 55 pixels. Default\n  width: 55 pixels. Height: 65 pixels. </p>\n</blockquote>\n\n<h2>button_count</h2>\n\n<blockquote>\n  <p>Minimum width: 90\n  pixels. Default width: 90 pixels. Height: 20 pixels. </p>\n</blockquote>\n\n<h2>button</h2>\n\n<blockquote>\n  <p>Minimum\n  width: 47 pixels. Default width: 47 pixels. Height: 20 pixels.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm implementing the <a href=\"http://developers.facebook.com/docs/reference/plugins/like\">Facebook Like Button</a>, but I'm running into some trouble with the width. I'm using the JavaScript SDK implementation, not the direct iframe.</p>\n\n<p>According to the documentation, the default width is <code>450</code>. That's fine, and I understand that the width can be changed by way of the <code>width</code> attribute on the <code>&lt;fb:like&gt;</code> tag. However, my problem is that I really cannot specify a fixed width. Due to the nature of the button, the width is not constant in all states. For example, if no one has liked the page yet it displays \"Be the first of your friends to like this\"; if someone has, it displays \"XXX people like this. Be the first of your friends\"; and still if <em>you</em> have liked it, it displays \"You like this\" <em>or</em> \"You and XXX people like this.\" In other words, there are many states of the button, none of which share a constant width.</p>\n\n<p>This wouldn't be much of a problem if it weren't for the fact that I want to display the button floated on the right-hand side of a <code>&lt;div&gt;</code>. To be clearer, this is what I'm doing:</p>\n\n<pre><code>&lt;div id=\"wrapper\"&gt;\n    &lt;span class=\"fb-like\"&gt;&lt;fb:like show_faces=\"false\" width=\"450\" font=\"lucida grande\"\"&gt;&lt;/fb:like&gt;&lt;/span&gt;\n    ...\n&lt;/div&gt;\n&lt;style type=\"text/css\"&gt;\n.fblike {\n    display: inline-block;\n    padding: 0.5em;\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n#wrapper {\n    position: relative;\n}\n&lt;/style&gt;\n</code></pre>\n\n<p>This works fine, but the problem is that the iframe now has a <strong>constant width</strong> of 450 pixels. Since the iframe is left-aligned, when the text is shorter there is extra space to the right. I've tried various applications of <code>text-align: right</code> to no avail. And the problem is further compounded by the fact that this is really just fancy markup for an iframe that is added by the FB SDK, so I'm powerless to change any of its contents with CSS or JavaScript.</p>\n\n<p>I need a solution that will either (a) keep the width of the button area dynamic (i.e., it changes according to the content); or (b) right-align everything in the button area.</p>\n\n<p>Thanks for any help anyone can give me!</p>\n",
            "last_activity_date": 1400572623,
            "question_id": 4348235,
            "score": 28,
            "tags": [
                "javascript",
                "css",
                "facebook",
                "facebook-like",
                "facebook-javascript-sdk"
            ],
            "title": "How can I make the Facebook Like button&#39;s width automatically resize?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Isn't <a href=\"http://developer.mozilla.org/en/Rhino_Shell\" rel=\"nofollow\">Rhino Shell</a> what you are looking for?</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"http://ejohn.org/blog/javascript-engine-speeds/\" rel=\"nofollow\">This post</a> by John Resig says that there are shells for <a href=\"http://www.mozilla.org/projects/tamarin/\" rel=\"nofollow\">Tamarin (Firefox 4?)</a> and <a href=\"http://webkit.org/projects/javascript/index.html\" rel=\"nofollow\">JavaScriptCore (Safari 3)</a>. I'm not sure if they have auto completion though.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Rhino Shell since 1.7R2 has support for completion as well. You can find more information <a href=\"http://blog.norrisboyd.com/2009/03/rhino-17-r2-released.html\">here</a>.</p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>In Windows, you can run this file from the command prompt in cscript.exe, and it provides an simple interactive shell.  No completion.</p>\n\n<pre><code>// shell.js\n// ------------------------------------------------------------------\n//\n// implements an interactive javascript shell.\n//\n// from\n// http://kobyk.wordpress.com/2007/09/14/a-jscript-interactive-interpreter-shell-for-the-windows-script-host/\n//\n// Sat Nov 28 00:09:55 2009\n//\n\nvar GSHELL = (function () {\n\n    var numberToHexString = function (n) {\n        if (n &gt;= 0) {\n            return n.toString(16);\n        } else {\n            n += 0x100000000;\n            return n.toString(16);\n        }\n    };\n    var line, scriptText, previousLine, result;\n\n    return function() {\n        while(true) {\n            WScript.StdOut.Write(\"js&gt; \");\n            if (WScript.StdIn.AtEndOfStream) {\n                WScript.Echo(\"Bye.\");\n                break;\n            }\n            line = WScript.StdIn.ReadLine();\n            scriptText = line + \"\\n\";\n            if (line === \"\") {\n                WScript.Echo(\n                    \"Enter two consecutive blank lines to terminate multi-line input.\");\n                do {\n                    if (WScript.StdIn.AtEndOfStream) {\n                        break;\n                    }\n                    previousLine = line;\n                    line = WScript.StdIn.ReadLine();\n                    line += \"\\n\";\n                    scriptText += line;\n                } while(previousLine != \"\\n\" || line != \"\\n\");\n            }\n            try {\n                result = eval(scriptText);\n            } catch (error) {\n                WScript.Echo(\"0x\" + numberToHexString(error.number) + \" \" + error.name + \": \" +\n                             error.message);\n            }\n            if (result) {\n                try {\n                    WScript.Echo(result);\n                } catch (error) {\n                    WScript.Echo(\"&lt;&lt;&gt;&gt;\");\n                }\n            }\n            result = null;\n        }\n    };\n})();\n\nGSHELL();\n</code></pre>\n\n<p>If you want, you can augment that with other utility libraries, with a .wsf file.  Save the above to \"shell.js\", and save the following to \"shell.wsf\": </p>\n\n<pre><code>&lt;job&gt;\n    &lt;reference object=\"Scripting.FileSystemObject\" /&gt;\n    &lt;script language=\"JavaScript\" src=\"util.js\" /&gt;\n    &lt;script language=\"JavaScript\" src=\"shell.js\" /&gt;\n&lt;/job&gt;\n</code></pre>\n\n<p>...where util.js is: </p>\n\n<pre><code>var quit = function(x) { WScript.Quit(x);}\nvar say = function(s) { WScript.Echo(s); };\nvar echo = say;\nvar exit = quit;\nvar sleep = function(n) { WScript.Sleep(n*1000); };\n</code></pre>\n\n<p>...and then run shell.wsf from the command line.  </p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p><strong>edit</strong>: after using the node REPL a bit more, I've discovered this evaluation to be overly positive.  There are some serious problems with its implementation, including an inability to yank killed text, issues with editing lines that are longer than the terminal width, and some other problems.  It might be better to just use rhino.</p>\n\n<p>The <a href=\"http://nodejs.org/\" rel=\"nofollow\">node.js</a> <a href=\"http://en.wikipedia.org/wiki/REPL\" rel=\"nofollow\">REPL</a> (<code>node-repl</code> on a system with node installed) is the best terminal-based, system-context shell I've seen so far.  I'm comparing it to rhino and the built-in v8 shell.  It provides tab-completion and line editing history, as well as syntax-colouring of evaluations.  You can also import <a href=\"http://commonjs.org/\" rel=\"nofollow\">CommonJS</a> modules, or at least those modules implemented by node.</p>\n\n<p>Downside is that you have to build node.  This is not a huge deal, as building apps goes, but might be a challenge if you don't normally do such things.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p><a href=\"http://code.google.com/p/jslibs/\" rel=\"nofollow\">jslibs</a> (a standalone javascript runtime) could also be suitable for this purpose.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>For debugging and testing I'm searching for a JavaScript shell with auto completion and if possible object introspection (like ipython). The online <a href=\"http://www.squarefree.com/shell/\">JavaScript Shell</a> is really nice, but I'm looking for something local, without the need for an browser.</p>\n\n<p>So far I have tested the standalone JavaScript interpreter rhino, spidermonkey and google V8. But neither of them has completion. At least Rhino with jline and spidermonkey have some kind of command history via key up/down, but nothing more.</p>\n\n<p>Any suggestions?</p>\n\n<p>This question was asked again <a href=\"http://stackoverflow.com/questions/260787/javascript-shell\">here</a>.  It might contain an answer that you are looking for.</p>\n",
            "last_activity_date": 1420298997,
            "question_id": 41207,
            "score": 27,
            "tags": [
                "javascript"
            ],
            "title": "JavaScript interactive shell with completion"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Most recommended method is to put it before <code>&lt;/body&gt;</code> tag. <a href=\"http://developer.yahoo.com/performance/rules.html\">Yahoo performance article</a> also suggests that other than <a href=\"http://yslow.org/\">YSlow</a> and <a href=\"https://developers.google.com/speed/pagespeed/\">Page Speed</a> addons by Yahoo and Google respectively.</p>\n\n<p>Quoting from Yahoo article linked above:</p>\n\n<blockquote>\n  <p><strong>The problem caused by scripts is that they block parallel downloads.\n  The HTTP/1.1 specification suggests that browsers download no more\n  than two components in parallel per hostname.</strong> If you serve your images\n  from multiple hostnames, you can get more than two downloads to occur\n  in parallel. While a script is downloading, however, the browser won't\n  start any other downloads, even on different hostnames.</p>\n</blockquote>\n\n<p>When you put scripts in <code>&lt;head&gt;</code> tag, the browsers goes for them thereby keeping other stuff on hold until scripts are loaded which users will perceive like slow loading of the page. This is why you should put scripts at the bottom.</p>\n\n<p>As for:</p>\n\n<pre><code>$(document).ready(function(){//Code goes here});\n</code></pre>\n\n<p>It is fired when DOM is available and ready to be manipulated. If you put your code at the end, you won't necessarily need this but usually this is needed because you want to do something <em>as soon as</em> DOM is available for use.</p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>Although common practice, putting <code>script</code> tags in the <code>head</code> is not usually a good idea, as it holds up the rendering of your page until those scripts have been downloaded and processed (barring your use of <code>async</code> or <code>defer</code> and the browser supporting them).</p>\n\n<p>The usual recommendation is to put <code>script</code> tags at the very end of the <code>body</code> tag, e.g., just before <code>&lt;/body&gt;</code>. That way, all of the DOM elements above the script will be accessible (see links below). One caveat on that is that there can be a brief moment when your page has been rendered but your scripts not processed (yet), and if the user starts interacting with the page, they may do something to raise an event that your script hasn't had time to hook yet. So you need to be aware of that. This is one reason for <em>progressive enhancement</em>, which is the idea that the page will work without JavaScript, but work better with it. If you're doing a page/app that just won't work without JavaScript at all, you might include some <em>inline</em> script at the top of the <code>body</code> tag (e.g., <code>&lt;script&gt;minimal code here&lt;/script&gt;</code>) that hooks any bubbling events on <code>document.body</code> and either queues them for action when your script is loaded, or just asks the user to wait.</p>\n\n<p>Using features like jQuery's <code>ready</code> is fine, but not really necessary outside of libraries (e.g., if you're in control of where the <code>script</code> tags will be, you don't usually need to use it; but if you're writing a jQuery plug-in that needs to do something on load [which is relatively rare, normally they just wait to be called], you usually do).</p>\n\n<p>More reading:</p>\n\n<ul>\n<li><a href=\"http://developer.yahoo.com/performance/rules.html\">YUI Best Practices for Speeding Up your Website</a></li>\n<li><a href=\"http://groups.google.com/group/closure-library-discuss/browse_thread/thread/1beecbb5d6afcb41\">Google on when the DOM will be ready</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>It is possible to download javascripts in parallel by doing something like this:</p>\n\n<pre><code>(function () {\n    var ele = document.createElement('script');\n    ele.src = \"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\";\n    ele.id = \"JQuery\";\n    ele.onload = function () {\n        //code to be executed when the document has been loaded\n    };\n    document.getElementsByTagName('head')[0].appendChild(ele);\n})();\n</code></pre>\n\n<p>In the example it downloads minified JQuery v1.7.2 from Google, this is a good way to download JQuery since downloading it from Google is like using a CDN and if the user has been on a page that used the same file it might be cached and therefor doesn't need to be downloaded</p>\n\n<p>There is a really good Google tech talk about this here <a href=\"http://www.youtube.com/watch?v=52gL93S3usU&amp;feature=plcp\" rel=\"nofollow\">http://www.youtube.com/watch?v=52gL93S3usU&amp;feature=plcp</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>This question is just to clear some things up. Some things like this have been asked before, and this rounds them all up into one question - where should JavaScript go in the HTML document, or, more importantly, does it matter? So, one of the things I'm asking is, does</p>\n\n<pre><code>&lt;head&gt;\n&lt;script type=\"text/javascript\"&gt;\nalert(\"Hello world!\");\n&lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>at all differ (in terms of functionality) from</p>\n\n<pre><code>&lt;body&gt;\n&lt;!-- Code goes here --&gt;\n&lt;script type=\"text/javascript\"&gt;\nalert(\"Hello world!\");\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>More importantly, I want to focus on JS that modifies or uses elements from the DOM in any way. So I know that if you put something like <code>document.getElementById(\"test\").innerHTML = \"Hello world!\"</code> before <code>&lt;element id=\"test\"&gt;&lt;/element&gt;</code> in your body, then it won't work since the body is loaded from top to bottom, making the JS load first, which will then proceed to try to manipulate an element that doesn't exist yet. So it should, just like the above, either go in the <code>&lt;head&gt;</code> or just before the <code>&lt;/body&gt;</code> tag. The question is, aside from organisation and sorting, does it matter which one of these is chosen, and if so, in what way?</p>\n\n<p>Of course, there is also a third method - the jQuery way:</p>\n\n<pre><code>$(document).ready(function(){ /*Code goes here*/ });\n</code></pre>\n\n<p>That way, it doesn't matter where in the body you place the code, since it will only be executed when everything has loaded. The question here is, is it worth importing a huge JS library <em>just</em> to use a method the need for which could be replaced with an accurate placing of your scripts? I'd just like to clear things up a little here, if you would like to answer, go ahead! Summary: where should different kinds of scripts go - head or body, and/or does it matter? Is jQuery worth it just for the ready event?</p>\n",
            "last_activity_date": 1367389623,
            "question_id": 10994335,
            "score": 26,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "Javascript - head, body or jQuery?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Hiya is this what you are looking for bruv, If this is not what you are looking for then please let me know I will remove this post.</p>\n\n<p>Try this Jquery plugin: <a href=\"http://archive.plugins.jquery.com/project/client-detect\" rel=\"nofollow\">http://archive.plugins.jquery.com/project/client-detect</a></p>\n\n<p><strong>Demo:</strong> <a href=\"http://www.stoimen.com/jquery.client.plugin/\" rel=\"nofollow\">http://www.stoimen.com/jquery.client.plugin/</a></p>\n\n<p>This is based on quirksmode BrowserDetect a wrap for jQuery browser/os detection plugin.</p>\n\n<p>For keen readers: <a href=\"http://www.stoimen.com/blog/2009/07/16/jquery-browser-and-os-detection-plugin/\" rel=\"nofollow\">http://www.stoimen.com/blog/2009/07/16/jquery-browser-and-os-detection-plugin/</a> <strong>and</strong> <a href=\"http://www.quirksmode.org/js/support.html\" rel=\"nofollow\">http://www.quirksmode.org/js/support.html</a></p>\n\n<p>and more code around plugin reside here: <a href=\"http://www.stoimen.com/jquery.client.plugin/jquery.client.js\" rel=\"nofollow\">http://www.stoimen.com/jquery.client.plugin/jquery.client.js</a></p>\n\n<p>please let me know if this else, have a nice one, cheerios!</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/NavigatorID.platform\">window.navigator.platform</a> property is not spoofed when the userAgent string is changed.\nI tested on my Mac if I change the userAgent to iPhone or Chrome Windows, <em>navigator.platform</em> remains MacIntel.</p>\n\n<p><img src=\"http://i.stack.imgur.com/tcPW5.png\" alt=\"navigator.platform is not spoofed when the userAgent string is changed\"></p>\n\n<p>The property is also <em>read-only</em></p>\n\n<p><img src=\"http://i.stack.imgur.com/mwM99.png\" alt=\"navigator.platform is read-only\"></p>\n\n<hr>\n\n<p>I could came up with the following table</p>\n\n<blockquote>\n  <h3>Mac Computers</h3>\n  \n  <blockquote>\n    <p><code>Mac68K</code>      <em>Macintosh 68K system.</em><br>\n    <code>MacPPC</code>      <em>Macintosh PowerPC system.</em><br>\n    <code>MacIntel</code>        <em>Macintosh Intel system.</em>  </p>\n  </blockquote>\n  \n  <h3>iOS Devices</h3>\n  \n  <blockquote>\n    <p><code>iPhone</code>      <em>iPhone.</em><br>\n    <code>iPod</code>        <em>iPod Touch.</em><br>\n    <code>iPad</code>        <em>iPad.</em>  </p>\n  </blockquote>\n</blockquote>\n\n<hr>\n\n<p>Modern macs returns <code>navigator.platform == \"MacIntel\"</code> but to give some \"future proof\" don't use exact matching, hopefully they will change to something like <code>MacARM</code> or <code>MacQuantum</code> in future.</p>\n\n<pre><code>var isMac = navigator.platform.toUpperCase().indexOf('MAC')&gt;=0;\n</code></pre>\n\n<p>To include iOS that also use the \"left side\"</p>\n\n<pre><code>var isMacLike = navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)?true:false;\nvar isIOS = navigator.platform.match(/(iPhone|iPod|iPad)/i)?true:false;\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/Victornpb/WjqXB/4/\">http://jsfiddle.net/Victornpb/WjqXB/4/</a></p>\n\n<hr>\n\n<p>Since most O.S. use the close button on the right, you can just move the close button to the left when the user is on a MacLike O.S., otherwise isn't a problem if you put it on the most common  side, the right.</p>\n\n<p><strong>Live Demo:</strong> <a href=\"http://jsfiddle.net/Victornpb/jPwzV/\">http://jsfiddle.net/Victornpb/jPwzV/</a></p>\n\n<pre><code>if(isMacLike){\n  //close button on left side\n}\nelse{ //other O.S.\n  //close button on right side\n}\n</code></pre>\n\n<p><a href=\"http://www.nczonline.net/blog/2007/12/17/don-t-forget-navigator-platform/\">http://www.nczonline.net/blog/2007/12/17/don-t-forget-navigator-platform/</a></p>\n",
                    "is_accepted": true,
                    "score": 58
                },
                {
                    "body": "<p><strong>It's as simple as that:</strong></p>\n\n<pre><code>function isMacintosh() {\n  return navigator.platform.indexOf('Mac') &gt; -1\n}\n\nfunction isWindows() {\n  return navigator.platform.indexOf('Win') &gt; -1\n}\n</code></pre>\n\n<p>You can do funny things then like:</p>\n\n<pre><code>var isMac = isMacintosh();\nvar isPC = !isMacintosh();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>So I'm trying to move a \"close\" button to the left side when the user is on Mac and the right side when the user is on PC. Now I'm doing it by examining the user agent, but it can be too easily spoofed for reliable OS detection. Is there a surefire way to detect whether the OS on which the browser is running is Mac OS X or Windows? If not, what's better than user agent sniffing?</p>\n",
            "last_activity_date": 1420814032,
            "question_id": 10527983,
            "score": 26,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Best way to detect Mac OS X or Windows computers with JavaScript or jQuery"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>There is no direct support for multithreading in JavaScript. However you can achieve this by applying some ideas and method.</p>\n\n<p>There are methods like:</p>\n\n<pre><code>var id = window.timeout(\"javascript code\", time);\n</code></pre>\n\n<p>here the JavaScript code is called after the specifed time and we can use</p>\n\n<pre><code>window.clearTimeout(id);\n</code></pre>\n\n<p>for clearing.\nBy this we can achieve fake concurrency.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>q: how else can you achieve concurrency in Javascript</p>\n\n<p>You can use async or 'non-blocking' type methods. This has one of the major buzzes about the node.js system.\nIt's not exactly multithreaded, but it does tend to be faster.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://www.w3.org/TR/workers/\">Web Workers</a>. They\u2019re a W3C standard (well, a working draft at the moment) for exactly this, and require no plugins:</p>\n\n<blockquote>\n  <p>This specification defines an API that allows Web application authors to spawn background workers running scripts in parallel to their main page.</p>\n</blockquote>\n\n<p>The specification also discusses spreading workers across multiple cores, for true concurrency (this is handled invisibly by the browser\u2019s JavaScript engine):</p>\n\n<blockquote>\n  <p>With multicore CPUs becoming prevalent, one way to obtain better performance is to split computationally expensive tasks amongst multiple workers. In [one] example, a computationally expensive task that is to be performed for every number from 1 to 10,000,000 is farmed out to ten subworkers.</p>\n</blockquote>\n\n<p><code>yield()</code> and <code>setInterval()</code> only schedule things to happen later, they don\u2019t run concurrently with anything else.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<blockquote>\n  <p>I'm wondering - how else can you achieve multithreading in JavaScript? Any other important methods?</p>\n</blockquote>\n\n<p>You can have your code transformed into JavaScript code that doesn't have any explicit loops or direct function calls, instead code is divided into small <strong>units</strong> of execution that are managed by a threading engine. In my example code I show how a function with loops would be transformed but I've omitted the mechanism for function calls just to keep the example simple.</p>\n\n<p>The process of transformation basically works by <em>splitting</em> code at division points. These division points are function calls and loops (as demonstrated above). In the example I've used objects and keys but it may be much easier on the browser's JavaScript engines if the <em>units</em> stored the <em>stack</em> as an object variable (i.e. storing using <code>this.foo = bar</code> instead of <code>stack[\"foo\"] = bar</code>).</p>\n\n<p>For example the following code:</p>\n\n<pre><code>// Phoney method purely to demonstrate structure\nfunction Foo() {\n  var i,\n      sum = 0,\n      accumulator_list = [],\n      accumulator_modulus = [],\n      kMaxAccumulatorCount = 100;\n\n  // Calculate accumulations\n  for(i = 0; i &lt; kMaxAccumulatorCount; ++i) {\n    current_accumulator = GetNextAccumulator()\n    accumulator_list[i] = current_accumulator;\n    sum = sum + current_accumulator;\n  }\n\n  // Calculate accumulator modulus\n  for(i = 0; i &lt; kMaxAccumulatorCount; ++i) {\n    current_accumulator = accumulator_list[i];\n    accumulator_modulus[i] = current_accumulator % kMaxAccumulatorCount;\n  }\n}\n</code></pre>\n\n<p>... into something like this:</p>\n\n<pre><code>function Foo_A(caller,stack) {\n  var stack = {};\n  stack[\"i\"] = undefined;\n  stack[\"sum\"] = 0;\n  stack[\"accumulator_list\"] = [];\n  stack[\"accumulator_modulus\"] = [];\n  stack[\"kMaxAccumulatorCount\"] = 100;\n\n  stack[\"i\"] = 0;\n  return {caller: caller, stack: stack, next=Foo_B};\n}\n\nfunction Foo_B(caller, stack) {\n  stack[\"current_accumulator\"] = GetNextAccumulator();\n  stack[\"accumulator_list\"][stack[\"i\"]] = stack[\"current_accumulator\"];\n  stack[\"sum\"] = stack[\"sum\"] + stack[\"current_accumulator\"];\n\n  // For-loop condition satisfied ?\n  if(stack[\"i\"] &lt; stack[\"kMaxAccumulatorCount\"]) {\n    ++stack[\"i\"];\n    return {caller: caller, stack: stack, next:Foo_B};\n  } else {\n    // Initialise the next for loop.\n    stack[\"i\"] = 0;\n    return {caller: caller, stack: stack, next:Foo_C};\n  }\n}\n\nfunction Foo_C(caller, stack) {\n  stack[\"current_accumulator\"] = stack[\"current_accumulator\"][stack[\"i\"]];\n  stack[\"accumulator_modulus\"][stack[\"i\"]] = stack[\"current_accumulator\"] % stack[\"kMaxAccumulatorCount\"];\n\n  // For-loop condition satisfied ?\n  if(stack[\"i\"] &lt; stack[\"kMaxAccumulatorCount\"]) {\n    ++stack[\"i\"];\n    return {caller: caller, stack: stack, next:Foo_C};\n  } else {\n    // Function has finished so the next will be null. When the thread-engine sees this it simulates the behaviour of a return, pops its virtual stack and returns execution to the caller\n    return {caller: caller, stack: stack, next:null};\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><a href=\"http://keithwhor.github.io/multithread.js/\" rel=\"nofollow\">Multithread.js</a> is a library for really easy multithreading in JS that wraps Web Workers and does the majority of your work for you. :)</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm working on comparison for several different methods of implementing (real or fake) multithreading in JavaScript. As far as I know only webworkers and Google Gears WorkerPool can give you real threads (ie. spread across multiple processors with real parallel execution). I've found the following methods:</p>\n\n<ul>\n<li><p>switch between tasks using <code>yield()</code></p></li>\n<li><p>use <code>setInterval()</code> (or other non-blocking function) with threads waiting one for another</p></li>\n<li><p>use Google Gears WorkerPool threads (with a plugin)</p></li>\n<li><p>use html5 web workers</p></li>\n</ul>\n\n<p>I read related questions and found several variations of the above methods, but most of those questions are old, so there might be a few new ideas.</p>\n\n<p>I'm wondering - how else can you achieve multithreading in JavaScript? Any other important methods?</p>\n\n<p><strong>UPDATE:</strong> As pointed out in comments what I really meant was concurrency. </p>\n\n<p><strong>UPDATE 2:</strong> I found information that Silverlight + JScript supports multithreading, but I'm unable to verify this.</p>\n\n<p><strong>UPDATE 3:</strong> Google deprecated Gears: <a href=\"http://code.google.com/apis/gears/api_workerpool.html\">http://code.google.com/apis/gears/api_workerpool.html</a></p>\n",
            "last_activity_date": 1397133367,
            "question_id": 7639224,
            "score": 26,
            "tags": [
                "javascript",
                "multithreading",
                "google-gears",
                "web-worker"
            ],
            "title": "JavaScript multithreading"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>AFAIK, you can't. Whatever is in front of the colon in the object literal notation will be automatically interpreted as a string. You will need to construct your object beforehand, and use the square bracket notation.</p>\n\n<pre><code>var options = {}\noptions[self.settings.direction] = '+=' + self.displacement + 'px';\n$(selector).animate(options, \"slow\" , function () {});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 78
                },
                {
                    "body": "<p>Keep in mind you are defining an object there between the curly brackets. You can't use dots in property names. Assuming the displacement property is set somewhere else earlier, this will work for you:</p>\n\n<pre><code>$(selector).animate({settings: {direction: '+='+self.displacement+'px'}}, \"slow\" , function () {})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can access the string defined by a variable with toString().\nso :</p>\n\n<pre><code>var obj = new Object;\n\nobj.a = 0;\nobj.b = 1;\n\nvar a = \"b\";\n\nobj[\"a\"]; // will output 0\nobj[a.toString()] // will output 1\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>If the value is also a string you could use JSON.parse:</p>\n\n<pre><code>var a = 'key';\nvar b = 'value';\nvar test = JSON.parse('{\"' + a + '\":\"' + b + '\"}\"');\n//test = {key: 'value'}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>I am creating a plugin for Jquery and need to have a variable as a key in an object.</p>\n\n<pre><code>$(selector).animate({self.settings.direction: '+='+self.displacement+'px'}, \"slow\" , function () {});\n</code></pre>\n\n<p>this part causes the error: </p>\n\n<blockquote>\n  <p>self.settings.direction</p>\n</blockquote>\n\n<p>any ideas where my syntax is wrong?\nthank you</p>\n",
            "last_activity_date": 1368299381,
            "question_id": 6071471,
            "score": 26,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "javascript object variable key"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>It shouldn't be hard to test.</p>\n\n<p>If it's tree-based then making a <em>very</em> deep tree (via Javascript) should be a good test case.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The specific implementation isn't defined in the <a href=\"http://www.w3.org/TR/DOM-Level-2-Core/core.html#ID-getElBId\" rel=\"nofollow\">HTML spec</a> so it could easily vary browser to browser.  For example <a href=\"http://msdn.microsoft.com/en-us/library/ms536437%28VS.85%29.aspx\" rel=\"nofollow\">IE documentation</a> states </p>\n\n<blockquote>\n  <p>Returns a reference to the first object with the specified value of the ID  or NAME  attribute.</p>\n</blockquote>\n\n<p>so I'd be tempted to say it does a search (or it just throws out elements in cases of hash collisions).</p>\n\n<p><strong>EDIT</strong> Also keep in mind there are other data structures (like trees) that allow for access time somewhere between constant and linear.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Implementations are free to do whatever they like, but since <code>id</code> is defined as a unique value, it would seem sensible to use a hash map or similiar lookup mechanism rather than traversal. What seems sensible from the outside, though, may not be when you get into the plumbing of building a complex web browser with many (sometimes conflicting) imperatives.</p>\n\n<p>I did an easy <strong>but very simplistic</strong> test (see page at end of answer). It's <strong>very</strong> simplistic not least because we don't know that browsers don't cache previous results.</p>\n\n<p><strong>Chrome 4.1.249.1059</strong> reports:</p>\n\n<pre><code>ID: 0.0082ms per lookup\nTag: 0.0249ms per lookup\n</code></pre>\n\n<p>So, dramatically faster by ID than tag name.</p>\n\n<p><strong>IE7</strong> reports:</p>\n\n<pre><code>ID: 2.4438ms per lookup\nTag: 0.0437ms per lookup\n</code></pre>\n\n<p>So dramatically faster by tag name than ID (but remember IE7 has a <a href=\"http://blog.niftysnippets.org/2010/03/by-any-other-name-would-smell-as-sweet.html\">broken concept of <code>getElementById</code></a>; this is fixed in IE8).</p>\n\n<p><strong>IE8</strong> (on a <em>different machine</em>, don't compare absolutes, we're looking at diffs within the browser tested) reports:</p>\n\n<pre><code>ID: 1.1335ms per lookup\nTag: 0.0287ms per lookup\n</code></pre>\n\n<p>So about the same as IE7.</p>\n\n<p><strong>Firefox 3.6.3</strong> reports:</p>\n\n<pre><code>ID: 0.0042ms per lookup\nTag: 0.006ms per lookup\n</code></pre>\n\n<p>So it doesn't care that much (on repeated requests; <strong>again</strong>, it may be caching).</p>\n\n<p><strong>Opera 10.5.1</strong> reports:</p>\n\n<pre><code>ID: 0.006ms per lookup\nTag: 1.467ms per lookup\n</code></pre>\n\n<p>Dramatically faster by ID than tag name.</p>\n\n<p>Make of those results what you will. A more complex test case would be needed to really infer the mechanisms. Of course, in at least two of those cases (Firefox and Chrome), <strong>we can go look at the source</strong>. CMS kindly <a href=\"http://stackoverflow.com/questions/2711303/javascript-getelementbyid-lookups-hash-map-or-recursive-tree-traversal/2711517#2711517\">points us</a> to the <a href=\"http://svn.webkit.org/repository/webkit/trunk/WebCore/dom/Document.cpp\">WebKit</a> and <a href=\"http://hg.mozilla.org/releases/mozilla-1.9.2/file/5af70883c1de/content/base/src/nsDocument.cpp#l3932\">Firefox</a> implementations (and looking at it, my suspicion about caching may have been <a href=\"http://hg.mozilla.org/releases/mozilla-1.9.2/file/5af70883c1de/content/base/src/nsDocument.cpp#l3900\">on the money</a>).</p>\n\n<p>Test page:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-type\" content=\"text/html;charset=UTF-8\"&gt;\n&lt;title&gt;Test Page&lt;/title&gt;\n&lt;style type='text/css'&gt;\nbody {\n    font-family: sans-serif;\n}\n#log p {\n    margin:     0;\n    padding:    0;\n}\n&lt;/style&gt;\n&lt;script type='text/javascript'&gt;\nwindow.onload = pageInit;\nfunction pageInit() {\n    document.getElementById('btnGo').onclick = btnGoClick;\n}\nfunction btnGoClick() {\n\n    log(\"Testing...\");\n    setTimeout(run, 0);\n}\n\nfunction run() {\n    var count, time;\n\n    try {\n        // Warm up\n        testid(10);\n        testtag(10);\n\n        // Test\n        count = 10000\n        time = testid(count);\n        log(\"ID: \" + (time / count) + \"ms per lookup\");\n        time = testtag(count);\n        log(\"Tag: \" + (time / count) + \"ms per lookup\");\n    }\n    catch (e) {\n        log(\"Error: \" + (e.message ? e.message : String(e)));\n    }\n}\n\nfunction testid(count) {\n    var start;\n\n    start = new Date().getTime();\n    while (count-- &gt; 0) {\n        if (!document.getElementById('fred')) {\n            throw \"ID 'fred' not found\";\n        }\n    }\n    return new Date().getTime() - start;\n}\n\nfunction testtag(count) {\n    var start;\n\n    start = new Date().getTime();\n\n    while (count-- &gt; 0) {\n        if (document.getElementsByTagName('em').length == 0) {\n            throw \"Tag 'em' not found\";\n        }\n    }\n    return new Date().getTime() - start;\n}\n\nfunction log(msg) {\n    var log = document.getElementById('log');\n    log.innerHTML += \"&lt;p&gt;\" + msg + \"&lt;\\/p&gt;\";\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;&lt;div&gt;\n&lt;input type='button' id='btnGo' value='Go'&gt;\n&lt;div id='log'&gt;&lt;/div&gt;\n&lt;hr&gt;\n&lt;div&gt;test test&lt;span&gt;test&lt;span&gt;test&lt;span&gt;test&lt;span&gt;test&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;\n&lt;div&gt;test test&lt;span&gt;test&lt;span&gt;test&lt;span&gt;test&lt;span&gt;test&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;\n&lt;div&gt;test test&lt;span&gt;test&lt;span&gt;test&lt;span&gt;test&lt;span&gt;test&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;\n&lt;div&gt;test test&lt;span&gt;test&lt;span&gt;test&lt;span&gt;test&lt;span&gt;test&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;\n&lt;!-- repeat the above a couple of thousand times; I had about 2,200 --&gt;\n&lt;div&gt;test test&lt;span&gt;test&lt;span&gt;test&lt;span&gt;test&lt;span&gt;test&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;\n&lt;div&gt;test test&lt;span&gt;test&lt;span&gt;test&lt;span&gt;test&lt;em id='fred'&gt;test&lt;/em&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;\n&lt;/div&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>I know about the Firefox and WebKit DOM implementations, both of them use a hashtable to lookup the elements, digging into the source of them you can give a look to the internal implementations:</p>\n\n<p>WebKit implementation, <a href=\"http://svn.webkit.org/repository/webkit/trunk/WebCore/dom/Document.cpp\">Document.cpp</a>, uses the hashtable if the <code>id</code> is unique, otherwise it traverses the document to get the first match:</p>\n\n<pre><code>Element* Document::getElementById(const AtomicString&amp; elementId) const\n{\n    if (elementId.isEmpty())\n        return 0;\n\n    m_elementsById.checkConsistency();\n\n    Element* element = m_elementsById.get(elementId.impl());//&lt;-- hastable lookup\n    if (element)\n        return element;\n\n    if (m_duplicateIds.contains(elementId.impl())) {\n        // We know there's at least one node with this id,\n        // but we don't know what the first one is.\n        for (Node *n = traverseNextNode(); n != 0; n = n-&gt;traverseNextNode()) {\n            if (n-&gt;isElementNode()) {\n                element = static_cast&lt;Element*&gt;(n);\n                if (element-&gt;hasID() &amp;&amp;\n                element-&gt;getAttribute(element-&gt;idAttributeName()) == elementId) {\n                    m_duplicateIds.remove(elementId.impl());\n                    m_elementsById.set(elementId.impl(), element);\n                    return element;\n                }\n            }\n        }\n        ASSERT_NOT_REACHED();\n    }\n    return 0;\n}\n</code></pre>\n\n<p>Firefox implementation, <a href=\"http://hg.mozilla.org/releases/mozilla-1.9.2/file/5af70883c1de/content/base/src/nsDocument.cpp#l3932\">nsDocument.cpp</a></p>\n",
                    "is_accepted": false,
                    "score": 20
                }
            ],
            "body": "<p>Does the DOM have a hash-table of elements whose keys are the elements' ids?<br>\nI want to know if <code>document.getElementById</code> looks up a hash table or traverses the entire tree.<br>\nIs this behavior different across browsers?</p>\n",
            "last_activity_date": 1272264998,
            "question_id": 2711303,
            "score": 26,
            "tags": [
                "javascript",
                "dom",
                "getelementbyid"
            ],
            "title": "Javascript getElementById lookups - hash map or recursive tree traversal?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>Use ajax for portions of the page that needs to update, not the entire thing.  For that you should use templates.</p>\n\n<p>When you want to still preserve the back button for your various state changes on the page, combine them with # achors to alter the url (without forcing the browser to issue another GET).</p>\n\n<p>For example, gmail's looks like this:</p>\n\n<p>mail.google.com/#inbox/message-1234</p>\n\n<p>everything past the # was a page state change that happened via ajax.  If I press Back, I'll go to the inbox again (again, without another browser GET)</p>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<p>There are numerous ways the solve this problem using funky Javascript techniques, often involving iframes, but I think in this situation you need to question why you're using AJAX. Is it actually going to make the site any easier to use for the user? It sounds to me like you're using it cos you think its cool (which in itself isn't always a bad thing) not because it will actually add any value to your visitors. From any normal website, normal hyperlinked documents are nearly always the right thing for the primary navigation. Its what people expect and I wouldn't recommend you go around breaking those expectations based on some fancy technology.</p>\n\n<p>AJAX is awesome and allows you to do many great things, changing a websites navigation is not one of them.</p>\n\n<p>Well done for picking up on this problem though, theres a lot of sites out there that just go ahead with AJAX and don't even think about this!</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>AJAX is not the best solution for navigation for exactly the reason you describe. The hit for reloading the header and navbar is minimal compared to the hassle of breaking the browser's navigation UI.</p>\n\n<p>A more appropriate example of AJAX would be to allow users to play the game in the main window while they can browse through a list of other content in a nav pane. You could load additional items in the nav pane via AJAX without disturbing the gameplay. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I\u2019d stick with simple hyperlinks. Your page furniture shouldn\u2019t account for a big portion of the HTML, so it\u2019s not a big win excluding it from page requests. Making each resource addressable (i.e. a URL for each bit of content a user might be interested in) is a key design feature of the web. It means caching can work, and means users can share bookmarks. It makes Google work, as well as social bookmarking sites.</p>\n\n<p>Shaving a couple of HTML bytes off subsequent page changes isn\u2019t worth the effort, in my opinion.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you're going to enable AJAX, don't do it at the expense of having accessible URLs to every significant page on your site.  This is the backbone of a navigable site that people can use.</p>\n\n<p>When you shovel all your functionality into AJAX calls and callbacks, you're basically forcing your users into a single path to access the features and content that they want -- which is totally against how the web is meant to function.  People rely on the address bar and the back button.  If you override all your links so that your site is essentially a single page that only updates through AJAX, you're limiting your users' ability to navigate your site and find what they need.  It also stops your users from being able to share what they find (which, that's part of the point, right?).</p>\n\n<p>Think about a user's mental map of your site.  If they know they came in through the home page, then they went to search for something, then they landed on a games page, then they started playing a particular game, that's four distinct units of action that the user took.  They might have done a few other smaller, more insignificant actions on each of these pages -- but these are the main units.  When they click the Back button, they should expect to go back through the path they came in on.  If you are loading all these pages through AJAX calls, you're providing a site whose functionality runs contrary to what the user expects.</p>\n\n<p>Break your site out into every significant function (ie, search, home, profiles, games -- it'll be dictated by what your site is all about).  Anywhere you link to these pages, do it through a regular link and a static URL.  </p>\n\n<p>AJAX is fine.  But the art of it is knowing when to use it and when not to.  If you keep to the model I've sketched out above, your users will appreciate it.</p>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>Check out <a href=\"http://code.google.com/p/reallysimplehistory/\" rel=\"nofollow\">reallysimplehistory</a>.  The wiki hasn't been updated for 10 months, but I was just at the Ajax Experience 2008 and saw a <a href=\"http://ajaxexperience.techtarget.com/assets/documents/Brian_Dillard_Making_Friends_with_Browser.pdf\" rel=\"nofollow\">presentation</a> by Brian Dillard on it.  He says the 0.8 code is on his hard drive.  Hopefully, it will be downloadable soon.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Yo might want to check out; \"Really Simple History\" by Brad Neuberg...</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you're willing to give jQuery a shot, <a href=\"http://www.electricfairground.com/2009/10/01/restoring-conventional-page-navigation-to-your-javascript-application-with-jquery-history-plugin/\" rel=\"nofollow\">this tutorial might help</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Another solution: </p>\n\n<p><a href=\"http://www.aplusdesign.com.au/blog/ajax-pagination-back-button/\" rel=\"nofollow\">AJAX Pagination &amp; Back Button</a></p>\n\n<p>This seems to be the best one out there, works with JQuery &amp; Mootools. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Try this simple &amp; lightweight <a href=\"https://github.com/mtrpcic/pathjs\" rel=\"nofollow\">PathJS</a> lib. It allows to bind listeners directly to anchors.</p>\n\n<p>Example:</p>\n\n<pre><code>Path.map(\"#/page\").to(function(){\n    alert('page!');\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I run a browser based game at www.darknovagames.com. Recently, I've been working on reformatting the site with CSS, trying to get all of its pages to verify according to the HTML standard.</p>\n\n<p>I've been toying with this idea of having the navigation menu on the left AJAX the pages in (rather than taking the user to a separate page each time, requiring a reload of the title and nav bar, which almost never change) and I know that if I do so, I will probably break the Forward/Back buttons in the browser. My question I guess is, should I go ahead and AJAX the site, thus requiring the user to use the sites navigation to play the game, or should I leave the site as it currently stands, and use standard hyperlinks and things for navigation?</p>\n\n<p>The reason I ask I guess is that I built a forums system into the site, and a lot of times I would want to link say to a particular topic within the forums.</p>\n\n<p>I'm also open to suggestions. Is there a standard (preferably without traditional frames) way to make only the body area of the site reload, while still changing the URL so that users can bookmark and forward/back, etc? That could potentially solve my problem as well. I'm just asking for the best solution here, not an answer to a specific question. ^_^</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1398445504,
            "question_id": 163610,
            "score": 25,
            "tags": [
                "javascript",
                "html",
                "ajax",
                "navigation"
            ],
            "title": "AJAX and the Browser Back Button"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The first approach is preferred. This way you are explicitly defining the scope of your functions instead of polluting the global scope. There are no downsides of using the first approach. Only upsides :-)</p>\n\n<p>Conclusion: always use the first approach to define functions. The second is like javascript in the 90s, let's leave it rest in peace back in the past and use proper scoping.</p>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>In this specific case go with the first one. But if you Foo object gets really complex you might want to use another approach that will give you the opportunity to use a constructor. And also the first approach sometimes is not the best when it comes to the function's scope:</p>\n\n<pre><code>function Foo(appName){\n    this.name = appName;      \n}\n\nFoo.prototype.Bar = function(){\n   alert(this.name)\n}\n\nvar a = new Foo(\"baz\");\na.Bar();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There is no magic with namespace objects, nor will you necessarily have any issues if you use lots of global variables. \nThe main reason to use \"namespace\" objects is to reduce the potential for duplicate global variable names. A second reason is to group similar functions together for convenience, e.g:</p>\n\n<pre><code>// DOM functions are under myLib.dom\nmyLib.dom.someDOMFunction0;\nmyLib.dom.someDOMFunction2;\n\n// Utility functions are under myLib.util\nmyLib.util.someUtilityFunction0;\nmyLib.util.someUtilityFunction0;\n</code></pre>\n\n<p>Note that the above has exactly the same chance of duplicates as similarly global variables:</p>\n\n<pre><code>myLib_dom_someDOMFunction0;\nmyLib_dom_someDOMFunction1;\n\nmyLib_util_someUtilityFunction0;\nmyLib_util_someUtilityFunction1;\n</code></pre>\n\n<p>Of course the former is generally preferred because it seen as easier to work with. I'm not advocating that you adopt the second approach (I use the first), just pointing out that while there is an issue with creating lots of global variables, so\u2013called \"global namespace pollution\" is greatly overrated as a hazard.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Is it considered bad coding-practice to store functions in an object instead of just defining them (and therefore globally)?</p>\n\n<p>Consider:</p>\n\n<p>1.</p>\n\n<pre><code>Foo = {\n    bar: function() {\n        alert(\"baz\");\n    }   \n}\n</code></pre>\n\n<p><code>Foo.bar();</code></p>\n\n<p>vs.</p>\n\n<p>2.</p>\n\n<pre><code>function bar() {\n    alert(\"baz\");\n}\n</code></pre>\n\n<p><code>bar();</code></p>\n\n<p>Sure, it might be slightly less code for the second example, but when you start to get lots of functions - it will get messy.\nI find it way, way, cleaner to, for example, use <code>Game.update()</code> instead of using updateGame(); or similar. When getting deeper, like <code>Game.notify.admin(id)</code> and so on, it gives you even prettier code.</p>\n\n<p><strong>Is there any downsides by storing a function in an object?</strong></p>\n",
            "last_activity_date": 1361276433,
            "question_id": 8902687,
            "score": 24,
            "tags": [
                "javascript",
                "function",
                "design",
                "object"
            ],
            "title": "Javascript - Storing function in object - bad practice?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Assuming the 'populate_Colours' method is in the global namespace, you may use the following code, which exploits both that all object properties may be accessed as though the object were an associative array, and that all global objects are actually properties of the <code>window</code> host object.</p>\n\n<pre><code>var method_name = \"Colours\";\nvar method_prefix = \"populate_\";\n\n// Call function:\nwindow[method_prefix + method_name](arg1, arg2);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 61
                },
                {
                    "body": "<p>As Triptych points out, you can call any global scope function by finding it in the host object's contents.</p>\n\n<p>A cleaner method, which pollutes the global namespace much less, is to explicitly put the functions into an array directly like so:</p>\n\n<pre><code>var dyn_functions = [];\ndyn_functions['populate_Colours'] = function (arg1, arg2) { \n                // function body\n           };\ndyn_functions['populate_Shapes'] = function (arg1, arg2) { \n                // function body\n           };\n// calling one of the functions\nvar result = dyn_functions['populate_Shapes'](1, 2);\n// this works as well due to the similarity between arrays and objects\nvar result2 = dyn_functions.populate_Shapes(1, 2);\n</code></pre>\n\n<p>This array could also be a property of some object other than the global host object too meaning that you can effectively create your own namespace as many JS libraries such as jQuery do. This is useful for reducing conflicts if/when you include multiple separate utility libraries in the same page, and (other parts of your design permitting) can make it easier to reuse the code in other pages.</p>\n\n<p>You could also use an object like so, which you might find cleaner:</p>\n\n<pre><code>var dyn_functions = {};\ndyn_functions.populate_Colours = function (arg1, arg2) { \n                // function body\n           };\ndyn_functions['populate_Shapes'] = function (arg1, arg2) { \n                // function body\n           };\n// calling one of the functions\nvar result = dyn_functions.populate_Shapes(1, 2);\n// this works as well due to the similarity between arrays and objects\nvar result2 = dyn_functions['populate_Shapes'](1, 2);\n</code></pre>\n\n<p>Note that with either an array or an object, you can use either method of setting or accessing the functions, and can of course store other objects in there too. You can further reduce the syntax of either method for contant that isn't that synamic by using JS literal notation like so:</p>\n\n<pre><code>var dyn_functions = {\n           populate_Colours:function (arg1, arg2) { \n                // function body\n           };\n         , populate_Shapes:function (arg1, arg2) { \n                // function body\n           };\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Hi try this,</p>\n\n<pre><code> var callback_function = new Function(functionName);\n callback_function();\n</code></pre>\n\n<p>it will handle the parameters itself.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can reference my way:</p>\n\n<pre><code>webSocket.onmessage = function (msg) {\n    var obj = JSON.parse(msg.data);\n    if (obj.act == \"invoke\") {\n        eval(obj.target).apply(window,obj.args);\n    }\n};\n</code></pre>\n\n<p>Using a json to interpret dynamic call.</p>\n\n<p>In this example, json can be:</p>\n\n<pre><code>{\"act\":\"invoke\",\"target\":\"window.alert\",\"args\":[\"test\"]}\n</code></pre>\n\n<p>The json can simply generate from libs. e.g. Newtonsoft.Json(json.net)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am working on dynamically creating some Javascript that will be inserted into a web page as it's being constructed. </p>\n\n<p>The Javascript will be used to populate a listbox based on the selection in another listbox. When the selection of one listbox is changed it will call a method name based on the selected value of the listbox.</p>\n\n<p>For example:</p>\n\n<p>Listbox1 contains:</p>\n\n<p>Colours<br />\nShapes</p>\n\n<p>If 'Colours' is selected then it will call a \"populate_Colours\" method that populates another listbox.<br />\nTo clarify my question: how do I make that \"populate_Colours\" call in Javascript?</p>\n",
            "last_activity_date": 1417350204,
            "question_id": 969743,
            "score": 24,
            "tags": [
                "javascript",
                "dynamic",
                "methods"
            ],
            "title": "How do I call a dynamically-named method in Javascript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yes, <code>beforeunload</code> is more reliable, but be sure to assign it directly (not bound through jQuery), like this:</p>\n\n<pre><code>window.onbeforeunload = function() { /* do stuff */ };\n</code></pre>\n\n<p>The <code>unload</code> event itself wasn't meant for work to be done, only cleanup of objects...as garbage collectors get better and better, there's less reason for the browser to even fire the <code>unload</code> event.</p>\n\n<p>Also be aware that for your specific case you'd have to make a synchronous request to the server...otherwise the browser still won't wait for the AJAX call to complete.</p>\n",
                    "is_accepted": true,
                    "score": 33
                }
            ],
            "body": "<p>I want to post an message to the server when user navigate off from the current page, I am using .unload right now but the result is unreliable, even in its document is said true:</p>\n\n<blockquote>\n  <p>The exact handling of the unload event\n  has varied from version to version of\n  browsers. For example, some versions\n  of Firefox trigger the event when a\n  link is followed, but not when the\n  window is closed. In practical usage,\n  behavior should be tested on all\n  supported browsers, and contrasted\n  with the proprietary beforeunload\n  event.</p>\n</blockquote>\n\n<p>Should I use beforeunload event? Is it reliable?</p>\n",
            "last_activity_date": 1291725151,
            "question_id": 4376596,
            "score": 23,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "jquery: unload or beforeunload?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>you could make them all <code>#</code>'s.</p>\n\n<p>You would then need to add <code>return false;</code> to the end of any function that is called onclick of the anchor to not have the page jump up to the top.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Why have all the click events as <code>a href</code> links?</p>\n\n<p>If instead you <strong>use <code>span</code> tags</strong> with <code>:hover</code> CSS and the appropriate onclick events, this will get around the issue completely.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It does not cause problems but it's a trick to do the same as <code>PreventDefault</code></p>\n\n<p>when you're way down in the page and an anchor as:</p>\n\n<pre><code>&lt;a href=\"#\" onclick=\"fn()\"&gt;click here&lt;/a&gt;\n</code></pre>\n\n<p>you will jump to the top and the URL will have the anchor <code>#</code> as well, to avoid this we simply <code>return false;</code> or use <code>javascript:void(0);</code></p>\n\n<p>regarding your examples</p>\n\n<pre><code>&lt;a onclick=\"fn()\"&gt;Does not appear as a link, because there's no href&lt;/a&gt;\n</code></pre>\n\n<p>just do <code>a {text:decoration:underline;}</code> and you will have \"link a-like\"</p>\n\n<pre><code>&lt;a href=\"javascript:void(0)\" onclick=\"fn()\"&gt;fn is called&lt;/a&gt;\n&lt;a href=\"javascript:\" onclick=\"fn()\"&gt;fn is called too!&lt;/a&gt;\n</code></pre>\n\n<p>it's ok, but in your <code>function</code> at the end, just <code>return false;</code> to prevent the default behavior, you don't need to do anything more.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>When using <code>javascript:</code> in navigation the return value of the executed script, if there is one, becomes the content of a new document which is displayed in the browser.  The <code>void</code> operator in JavaScript causes the return value of the expression following it to return <em>undefined</em>, which prevents this action from happening.  You can try it yourself, copy the following into the address bar and press return:</p>\n\n<pre><code>javascript:\"hello\"\n</code></pre>\n\n<p>The result is a new page with only the word \"hello\".  Now change it to:</p>\n\n<pre><code>javascript:void \"hello\"\n</code></pre>\n\n<p>...nothing happens.</p>\n\n<p>When you write <code>javascript:</code> on its own there's no script being executed, so the result of that script execution is also <em>undefined</em>, so the browser does nothing. This makes the following more or less equivalent:</p>\n\n<pre><code>javascript:undefined;\njavascript:void 0;\njavascript:\n</code></pre>\n\n<p>With the exception that <em>undefined</em> can be overridden by declaring a variable with the same name.  Use of <code>void 0</code> is generally pointless, and it's basically been whittled down from <code>void functionThatReturnsSomething()</code>. </p>\n\n<p>As others have mentioned, it's better still to use <code>return false;</code> in the click handler than use the <code>javascript:</code> protocol.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p><strong>Using 'javascript:void 0' will do cause problem in IE</strong></p>\n\n<p>when you click the link, it will trigger <strong>onbeforeunload</strong> event of window !</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;a href=\"javascript:void(0);\" &gt;Click me!&lt;/a&gt;\n&lt;script&gt;\nwindow.onbeforeunload = function() {\n    alert( 'oops!' );\n};\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>This method seems ok in all browsers, if you set the onclick with a jQuery event:</p>\n\n<pre><code>&lt;a href=\"javascript:;\"&gt;Click me!&lt;/a&gt;\n</code></pre>\n\n<p>As said before, href=\"#\" with change the url hash and can trigger data re/load if you use a History (or ba-bbq) JS plugin.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Our web app is rendered totally on the browser.<br/>The server only talks to the browser through JSON messaging.</p>\n\n<p>As a result, we only need a single page for the app and mostly all the <code>&lt;a&gt;</code> tags do not have a real <code>href</code> pointing to other pages.</p>\n\n<p>In my quest of removing unnecessary things I was wondering if I can get rid of the zillions of <code>void(0)</code> we have in our code, as they seem useless:</p>\n\n<pre><code>&lt;a onclick=\"fn()\"&gt;Does not appear as a link, because there's no href&lt;/a&gt;\n&lt;a href=\"javascript:void(0)\" onclick=\"fn()\"&gt;fn is called&lt;/a&gt;\n&lt;a href=\"javascript:\" onclick=\"fn()\"&gt;fn is called too!&lt;/a&gt;\n</code></pre>\n\n<p><strong>Does anybody knows if using <code>href=\"javascript:\"</code> can cause a problem?</strong><br/>\nIt works even on IE7...</p>\n\n<p>Please don't spend your valuable time to tell me inline javascript is bad :)</p>\n",
            "last_activity_date": 1394021880,
            "question_id": 3666683,
            "score": 23,
            "tags": [
                "javascript"
            ],
            "title": "href=&quot;javascript:&quot; vs. href=&quot;javascript:void(0)&quot;"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>There are two approaches.  The first is to define a root Model that gets everything.  You override it's <code>parse()</code> method to create sub-collections and sub-models for nested attributes, and override the <code>toJSON()</code> method to convert back to the JSON structure, suitable for saving to the server.</p>\n\n<p>This is perfectly acceptable for small subcollections.  It takes a bit of programming, but if you can read the Backbone source code, how to do it should be, well, not obvious, but at least understandable.</p>\n\n<p>Or you can use <a href=\"https://github.com/PaulUithol/Backbone-relational\">Backbone Relational</a>, which does all the work for you.</p>\n",
                    "is_accepted": true,
                    "score": 28
                },
                {
                    "body": "<p>Renato was close but \"has\" and \"set\" will not be available yet. I believe Reckoner pointed out part of that. Also, you will need to delete the property from the response, else it will override the default value.</p>\n\n<pre><code>_.extend(Backbone.Model.prototype, {\n    parse: function(resp, xhr) {\n        var attr, model, models, collection, options;\n        for (var prop in resp) {\n            if (this.defaults &amp;&amp; this.defaults[prop]) {\n                attr = this.defaults[prop];\n                if (attr instanceof Backbone.Model) {\n                    model = attr.clone();\n                    model.set(resp[prop]);\n                    resp[prop] = model;\n                } else if (attr instanceof Backbone.Collection) {\n                    models = attr.map(function (model) { return model.clone(); });\n                    options = _.clone(attr.options);\n                    collection = new attr.constructor(models, options);\n                    collection.add(resp[prop]);\n                    resp[prop] = collection;\n                }\n            }\n        }\n        return resp;\n    }\n});\n</code></pre>\n\n<p>Hope that helps someone.</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>Is it possible to nest collections within models?</p>\n\n<p>I know that you can create new collections in the initialize callback of a model, and create references that you can pass back and forth between the collection and parent model.  But is it possible to set the collection as part of the model, such that the JSON it exports looks like this:</p>\n\n<pre><code>{\n  blah: 'blah',\n  myCollection: [\n      {\n         foo: 'asdf',\n         bar: 'qwer'\n      },\n      {\n         foo: 'asdf123',\n         bar: 'qwer123'\n      }\n  ]\n}\n</code></pre>\n\n<p>If not, how do you handle syncing a model with related collections to the backend?  Do you have to tap into backbone's sync and rebuild the JSON or is there something more seamless?</p>\n\n<p>Sorry if this question has been answered elsewhere.  I've looked around and seen some workarounds, but nothing that really answers what I'm looking for.</p>\n",
            "last_activity_date": 1375265901,
            "question_id": 7288475,
            "score": 22,
            "tags": [
                "javascript",
                "json",
                "backbone.js"
            ],
            "title": "Backbone - Collections nested in Models"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<h1>CSS</h1>\n\n<p>CSS is loaded in the <code>&lt;head&gt;</code> to prevent Flash Of Unstyled Content (FOUC), a situation where your page shows up with no styles for a split second. Loading them in the <code>&lt;head&gt;</code> is a minor sacrifice to ensure your page looks perfect when the content gets rendered.</p>\n\n<h1>JS</h1>\n\n<h3>General Case:</h3>\n\n<p>JS is loaded at the bottom for several (but not limited to the following) reasons:</p>\n\n<ul>\n<li><p>So that it does not block the loading of other resources and the rendering of the page.</p></li>\n<li><p>The traditional use of JS is for enhancement, like client-side validation and minor special effects. These are usually optional and do not affect the overall purpose of the page. Therefore they are loaded last.</p></li>\n<li><p>Adding scripts after the content ensures that the elements referred to by your scripts are safely accessed, because they're already on the DOM.</p></li>\n</ul>\n\n<h3>Exceptions:</h3>\n\n<p>But there are some exceptions to the rule like:</p>\n\n<ul>\n<li><p>\"Pre-flight libraries\" like Modernizr</p>\n\n<p>Modernizr applies classes on the <code>&lt;html&gt;</code> tag to signify availability of features, which can be used for JS and CSS purposes. Delaying this might cause sudden shift of style due to class addition, as well as broken JS because checking wasn't done earlier.</p></li>\n<li><p>CSS parsers like LESS/SASS and scripts that affect styles</p>\n\n<p>Remote LESS/SASS styles are loaded via AJAX, therefore the page renders regardless if the styles are ready or not. Loading them in the head will make them load the styles as early as possible to avoid FOUC.</p></li>\n<li><p>\"Bootloader libraries\" like RequireJS need to be loaded as early as possible to download the other scripts in parallel.</p></li>\n<li><p>Web apps need JS as a platform. It's best you load these libraries early in the head. Besides, in a webapp, there is minimal page content before the app runs.</p></li>\n</ul>\n\n<h3>Edge Cases:</h3>\n\n<p>There are two attributes of script worth mentioning here as well, and they are <a href=\"http://caniuse.com/#search=defer\" rel=\"nofollow\"><code>defer</code></a> and <a href=\"http://caniuse.com/#search=async\" rel=\"nofollow\"><code>async</code></a>. </p>\n\n<p>Basically, the idea is that a script tag with <code>defer</code> runs only after the DOM is parsed, and script tags with <code>async</code> loads scripts asynchronously without blocking the other operations. It would be implied that you can use scripts in the head, apply <code>async</code> to load them in parallel, and <code>defer</code> to assure the DOM is ready when executed, but each has it's own problems.</p>\n\n<p>Here's an <a href=\"https://developer.mozilla.org/en/HTML/Element/script#Attributes\" rel=\"nofollow\">MDN documentation</a> explaining more about what they are and <a href=\"http://stackoverflow.com/a/3982619/575527\">an answer</a> that pretty much speaks about their history, support and current status.</p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<h2>The Place of the &lt;script&gt; Element</h2>\n\n<p>The script elements block progressive page downloads.<br/>\nBrowsers download several components at a time, but when they encounter an external script, they stop further downloads until the script file is downloaded, parsed, and executed.<br/>\nThis hurts the overall page time, especially if it happens several times during a page load.<br/>\nTo minimize the blocking effect, you can place the script element toward the end of\nthe page, right before the closing  tag.<br/>\nThis way there will be no other resources for the script to block.\nThe rest of the page components will be downloaded and already engaging the user.<br/>\nThe worst antipattern is to use separate files in the head of the document:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;My App&lt;/title&gt;\n    &lt;!-- ANTIPATTERN --&gt;\n    &lt;script src=\"jquery.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"jquery.quickselect.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"jquery.lightbox.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"myapp.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n...\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>A better option is to combine all the files:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;My App&lt;/title&gt;\n    &lt;script src=\"all_20100426.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    ...\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And the best option is to put the combined script at the very end of the page:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;My App&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    ...\n    &lt;script src=\"all_20100426.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p><em>\u201cJavaScript Patterns, by Stoyan Stefanov\n(O\u2019Reilly). Copyright 2010 Yahoo!, Inc., 9780596806750.\u201d</em>\n    </p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I am confused about which JavaScript should be included where?</p>\n\n<p>For instance:</p>\n\n<ul>\n<li><p>Where should one include the jQuery libraries? In the <code>&lt;head&gt;</code> or before the closing <code>&lt;/body&gt;</code> element?</p></li>\n<li><p>If the JavaScript is defined at the bottom in the <code>&lt;body&gt;</code>, can it be used inline in the body?</p></li>\n<li><p>If it blocks parallel downloads, then why is it never said to include your CSS at the bottom?</p></li>\n</ul>\n",
            "last_activity_date": 1396596622,
            "question_id": 10661964,
            "score": 20,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css"
            ],
            "title": "What JavaScript should be included in the &lt;head&gt; and what included in the &lt;body&gt;?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Take a look at the demo at <a href=\"http://hacks.mozilla.org/2009/12/uploading-files-with-xmlhttprequest/\" rel=\"nofollow\">hacks.mozilla.org</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can find a (mozilla-specific explanation of the API on the <a href=\"https://developer.mozilla.org/en/Using_files_from_web_applications\" rel=\"nofollow\">Mozilla Development Center</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It doesn't allow accessing arbitrary local files.  It's more of a file upload improvement.  For instance, you can have some Javascript accept a drag-and-drop file initiated by the user of the browser.</p>\n\n<p>You can find the W3C spec on it <a href=\"http://dev.w3.org/2006/webapi/FileAPI/\" rel=\"nofollow\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The only files you can access are files dropped from the desktop or files that has been selected from an <code>&lt;input/&gt;</code> tag. See the demo I've written here: <a href=\"http://hacks.mozilla.org/2009/12/uploading-files-with-xmlhttprequest/\">http://hacks.mozilla.org/2009/12/uploading-files-with-xmlhttprequest/</a></p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>It's possible to write to local file system, but the user must complete a 'save as...' action. For now, no direct access to client file system. Take a look <a href=\"http://www.w3.org/TR/2011/WD-file-writer-api-20110419/#examples\" rel=\"nofollow\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I hear that Firefox 3.6 adds support for the HTML local file API (<a href=\"http://blog.mozilla.com/blog/2010/01/21/firefox-3-6-release/\" rel=\"nofollow\">Announcement here</a>).  </p>\n\n<p>Does this mean that I can access local files from javascript?  </p>\n\n<p>Can anyone point me to examples for reading / writing local files?  </p>\n\n<p>I would love to be able to read / write simple text files.</p>\n",
            "last_activity_date": 1356499193,
            "question_id": 2117845,
            "score": 20,
            "tags": [
                "javascript",
                "html5",
                "firefox3.6"
            ],
            "title": "HTML 5 File API"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p><a href=\"http://raphaeljs.com/\" rel=\"nofollow\">Raphael</a> looks really interesting too.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Mozilla Labs' <a href=\"http://labs.mozilla.com/bespin/\">Bespin</a> project currently uses their own toolkit called <a href=\"https://wiki.mozilla.org/Labs/Thunderhead\">Thunderhead</a>. It's written by and for the Bespin developers, but it's a separate project that could be used for anything. You will need a (free) Bespin account to try it, since there aren't any other projects that I know of that use it.</p>\n\n<p>I've never used it, but I know it uses the DOM and a subset of CSS plus it's own CSS-like properties. I doubt the API is very stable though since it's experimental and evolves with the needs of the Bespin developers.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Canvas is NOT SVG. Read this <a href=\"http://en.wikipedia.org/wiki/Canvas%5F%28HTML%5Felement%29\" rel=\"nofollow\">link</a></p>\n\n<p>Be aware that  is noy fully supported by all browsers</p>\n",
                    "is_accepted": false,
                    "score": -5
                },
                {
                    "body": "<p>Actually, I'm developing one :D</p>\n\n<p><a href=\"http://code.google.com/p/jsool/\" rel=\"nofollow\">http://code.google.com/p/jsool/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Take a look at <a href=\"http://www.amplesdk.com/\" rel=\"nofollow\">Ample SDK JavaScript UI Framework</a>. One of the UI technologies it enables cross-browser is XUL, styleable in CSS and programmable in JavaScript with XUL DOM or jQuery APIs. You can also create your own UI technology on top of the framework.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It seems, Cappuccino is what you want. But the speed isn't so impressive, not yet anyways. </p>\n\n<p><a href=\"http://cappuccino.org/learn/tutorials/\" rel=\"nofollow\">http://cappuccino.org/learn/tutorials/</a></p>\n\n<p>Take a look at the demos. I really hope the project will find the support it deserves.</p>\n\n<p>Getting a firm overview of the best frameworks out there took me over a month. I will write a summary shortly.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>kineticjs is a good one, uses layers dragndrop collisiondetection events sprites etc</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>EasleJS is a great framework!</p>\n\n<p><a href=\"http://www.createjs.com/#!/EaselJS\" rel=\"nofollow\">http://www.createjs.com/#!/EaselJS</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>KineticJS and Three.js are both good ones.  I am using KineticJS now and it makes life much easier especially for sprites/animations or general stuff you might use in games.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Are there any GUI toolkits built on top of HTML Canvas like swing,swt,gtk or qt? So that it is possible to build applications like applets or flex gui:s inside the html canvas.</p>\n",
            "last_activity_date": 1378365265,
            "question_id": 1572740,
            "score": 20,
            "tags": [
                "javascript",
                "html",
                "ajax",
                "user-interface",
                "canvas"
            ],
            "title": "Are there any GUI toolkits built on top of HTML Canvas like swing,swt,gtk or qt?"
        },
        {
            "answer_count": 13,
            "answers": [
                {
                    "body": "<p>Not that I know of.  The best I can think of is storing the value on an object that won't likely be modified.</p>\n\n<p>e.g.</p>\n\n<pre><code>navigator.pleaseDontChangeThis = 25;\n</code></pre>\n\n<p>It can still be changed, but most normal JS will have no need to set/change any values on the navigator object.  I personally use this to store a unique generated ID. ;-)</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>the <strong><a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Core_Language_Features#Constants\">const</a></strong> keyword?</p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p><strong>Conventions and good Documentation.</strong></p>\n\n<p>You can prefix your \"immutable\" variable with two (or more) underscores to indicate that is something not meant to be used by others and to avoid other people's variables clashing with yours.</p>\n\n<p>Maybe creating a 'namespace' like <code>__GLOBALNAMESPACE</code> (Ugly name, I know) and then adding your variables into it (eg <code>__GLOBALNAMESPACE.my_var</code>) and creating a method like this one to retrieve them: </p>\n\n<pre><code>getVariable(string name){\n  return __GLOBALNAMESPACE[name]\n}\n</code></pre>\n\n<p>Just my 2 cents.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use closure technique, MYGLOBALS is an object that has a function called getValue against the \"globals\" associative array that is out of scope for everything except MYGLOBALS instance.</p>\n\n<pre><code>var MYGLOBALS = function() {\n    var globals = {\n        foo : \"bar\",\n        batz : \"blah\"       \n    }\n    return { getValue : function(s) {\n            return globals[s];\n        }\n    }\n}();\nalert(MYGLOBALS.getValue(\"foo\"));  // returns \"bar\"\nalert(MYGLOBALS.getValue(\"notthere\")); // returns undefined\nMYGLOBALS.globals[\"batz\"] = 'hardeehar'; // this will throw an exception as it should\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>This would be much cleaner approach</p>\n\n<p><code></p>\n\n<pre><code>   var CONSTANTS = function() {\n        var constants = { } ; //Initialize Global Space Here\n        return {\n            defineConstant: function(name,value)\n            {\n                if(constants[name])\n                {\n                   throw \"Redeclaration of constant Not Allowed\";\n                }\n            },\n            getValue(name)\n            {\n               return constants[name];\n            }\n        } ;\n    }() ;\n    CONSTANTS.defineConstant('FOO','bar') ;\n    print(CONSTANTS.getValue('FOO')) ; //Returns bar\n    CONSTANTS.defineConstant('FOO','xyz') ; // throws exception as constant already defined\n    CONSTANTS.getValue('XYZ') ; //returns undefined\n</code></pre>\n\n<p></code></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Choose a variable name which is unlikely to be overwritten by accident and trust the programmer to not do stupid things. JavaScript is not Java, so don't pretend it was.</p>\n\n<p>Also, if what you really want to do is namespacing, use a self-executing function literal:</p>\n\n<pre><code>var myLibName = (function() {\n    var aPrivateVar;\n\n    function aPrivateFunction() {}\n\n    function accessorForPrivateVar() {\n        return aPrivateVar;\n    }\n\n    // public interface:\n    return {\n        getPrivateVar : accessorForPrivateVar\n    }\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>try this: </p>\n\n<pre><code>const whatEver = 'Hello World!!!';\n\nfunction foo(value){\n whatEver = value;\n}\n</code></pre>\n\n<p>then you would call it like so...</p>\n\n<pre><code>&lt;div onclick=\"foo('New Value');\"&gt;Change Me First&lt;/div&gt;\n&lt;div onclick=\"alert(whatEver);\"&gt;Then click me After: Should Be alert \"Hello World!!!\"&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>yes the const is short for constant or final in some languages. google \"javascript variable const\" or constant to double i have even tested it myself so</p>\n\n<pre><code>const yourVar = 'your value';\n</code></pre>\n\n<p>thats what you are looking for.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You might want to try out this <a href=\"http://dreamerslab.com/blog/en/hide-javascript-global-objects-with-jquery-secret-plugin/\" rel=\"nofollow\">jquery plugin</a>. It prevents you to create global objects in javascript :) </p>\n\n<h3>example code</h3>\n\n<p>Store data</p>\n\n<pre><code>// 'val' can be a string, integer, hash table, array, object\n$.secret( 'in', 'secretName', val );\n\n// or a function\n$.secret( 'in', 'secretName', function( arg1, arg2, arg3 ){\n  // do something here\n});\n</code></pre>\n\n<p>Use data; you can even use it in different files.</p>\n\n<pre><code>var lang = $.secret( 'out', 'lang' );\n</code></pre>\n\n<p>Call out a function</p>\n\n<pre><code>$.secret( 'call', 'secretName', [ arg1, arg2, arg3 ]);\n// or\n$.secret( 'call', 'secretName', arg );\n</code></pre>\n\n<p>Clear data</p>\n\n<pre><code>$.secret( 'clear', 'lang' );\n</code></pre>\n\n<p>source code is on <a href=\"https://github.com/dreamerslab/jquery.secret\" rel=\"nofollow\">github</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I know this question is old, but you could use Object.freeze(yourGlobalObjectHere);\nI just wrote a blog post about it <a href=\"http://tripleequals.blogspot.com/2011/07/how-do-you-make-object-final-in.html\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Javascript is object oriented, rather than making the variable <em>$public static</em>, consider making it private and then properly providing an acessor method for getting, but not setting it.</p>\n\n<p>e.g.</p>\n\n<pre><code>private var myGlobal : myType;\nfunction GetMyGlobal() : myType\n{\nreturn myGlobal;\n}\n</code></pre>\n\n<blockquote>\n  <p>There are ten different ways to solve any given problem, your way and the right way.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>what about this code by <a href=\"http://ejohn.org/\" rel=\"nofollow\">http://ejohn.org/</a> @ <a href=\"http://ejohn.org/blog/ecmascript-5-objects-and-properties/\" rel=\"nofollow\">http://ejohn.org/blog/ecmascript-5-objects-and-properties/</a></p>\n\n<p>Look like this actually works... I run some \"little\" testing and freeze the variables and attributes.</p>\n\n<blockquote>\n  <p>Freezing an object is the ultimate form of lock-down. Once an object\n  has been frozen it cannot be unfrozen \u2013 nor can it be tampered in any\n  manner. This is the best way to make sure that your objects will stay\n  exactly as you left them, indefinitely.</p>\n</blockquote>\n\n<pre><code>Object.freeze = function( obj ) {\n  var props = Object.getOwnPropertyNames( obj );\n\n  for ( var i = 0; i &lt; props.length; i++ ) {\n    var desc = Object.getOwnPropertyDescriptor( obj, props[i] );\n\n    if ( \"value\" in desc ) {\n      desc.writable = false;\n    }\n\n    desc.configurable = false;\n    Object.defineProperty( obj, props[i], desc );\n  }\n\n  return Object.preventExtensions( obj );\n};\n</code></pre>\n\n<p>Little example</p>\n\n<pre><code>var config = (function (__name) {\n    name: __name\n    var _local = {\n        Server: \"SomeText\",\n        ServerDate: \"SomeServerDate\",\n        JSDate : Util.today(),\n        User : {\n            user: \"1stUser\",\n            name: \"\",\n            email: \"\"\n        },        \n    }\n\n    /*Private Methods*/\n    function freezing(__array) {\n        $.each(__array, function (_index, _item) {\n            Object.freeze(_item);\n        });\n    }\n\n    /*Public Methods*/\n    var $r = {};\n\n    $r.info = function () {\n        return _local;\n    }\n\n    freezing([\n        _local,\n        _local.User\n    ]);\n\n\n    _local.User.user = \"newUser\"; //Trying to assing new value\n\n    //Remain with the same value as first declaration\n    console.log(_local.User.user); //--&gt; \"1stUser\"           \n    return $r;\n})(\"config\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>Object.defineProperty(window, 'CONSTANT_NAME', {value: CONSTANT_VALUE});\n\n// usage\nconsole.log(CONSTANT_NAME);\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\" rel=\"nofollow\"><code>Object.defineProperty()</code></a> creates a property with the following default attributes: </p>\n\n<ul>\n<li><p><strong><code>configurable</code></strong> true if and only if the type of this property descriptor may be changed and if the property may be deleted from the corresponding object.\n<strong>Defaults to false.</strong></p></li>\n<li><p><strong><code>enumerable</code></strong> true if and only if this property shows up during enumeration of the properties on the corresponding object. <strong>Defaults to false.</strong></p></li>\n<li><p><strong><code>writable</code></strong> true if and only if the value associated with the property may be changed with an assignment operator. <strong>Defaults to false.</strong></p></li>\n</ul>\n\n<p>if the \"constant\" is an object you might additionally want to make it immutable by freezing it. <code>obj =</code><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze\" rel=\"nofollow\"><code>Object.freeze(obj)</code></a>. have in mind that child-property-objects are not automatically frozen.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I think I know the answer but... is there any way to prevent a global variable from being modified by later-executing <code>&lt;script&gt;</code>? I know global variables are bad in the first place, but when necessary, is there a way to make it \"final\" or \"immutable\"? Hacks / creative solutions are welcome. Thanks</p>\n",
            "last_activity_date": 1424050400,
            "question_id": 664829,
            "score": 20,
            "tags": [
                "javascript"
            ],
            "title": "Javascript: final / immutable global variables?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The \"Step Out\" button can be used to quickly get you out of the JQuery code.</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p><strong>UPDATE 2</strong><br />\nThere has been an improvement in user flow of this feature in latest versions of chrome. Please refer to <a href=\"https://developer.chrome.com/devtools/docs/blackboxing\" rel=\"nofollow\">https://developer.chrome.com/devtools/docs/blackboxing</a></p>\n\n<p><strong>UPDATE 1</strong><br/>\nSince Chrome version 38, you no longer have to enable Developer Tools experiments. </p>\n\n<p><strong>Below details are only for history</strong><br/></p>\n\n<p>This is possible now in chrome version 30+. </p>\n\n<ol>\n<li>Enable \"Enable Developer Tools experiments\" from <code>chrome://flags/#enable-devtools-experiments</code>. (Yes, you need to type that where you type the URL)</li>\n<li>Relaunch chrome</li>\n<li>Click on settings icon in Chrome Developer Tools</li>\n<li>Go to Experiments section. Notice the WARNING ;) and then tick <code>Enable frameworks debugging support</code>. (You also might want to try <code>Show step-in candidates while debugging</code>)</li>\n<li>Now, close Chrome Dev Tools and again open it.</li>\n<li>Click on settings icon in Chrome Developer Tools</li>\n<li>In general section you will find \"Skip stepping through sources with particular names\". Tick that and provide <b>regex</b> for the javascript file names which you want to skip stepping into.</li>\n</ol>\n\n<p><img src=\"http://i.stack.imgur.com/bb0X3.png\" alt=\"Skip stepping into certain javascript files\"></p>\n\n<p>Source: <a href=\"http://www.divshot.com/blog/tips-and-tricks/ignoring-library-code-while-debugging-in-chrome/\" rel=\"nofollow\">Tips and Tricks: Ignoring library code while debugging in Chrome</a></p>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p>iSid I would like to point out that as of Chrome 38 you no longer need to enable the devtools experiments.  Instead if you go straight to the F12 developer tools -> settings -> general -> sources you will see the last item in there is manage framework blackboxing.  The good part is you can setup each framework on it's own line or you can throw together a generic catch all pattern like (firebug|angular|knockout|jquery|bootstrap|modernizr|respond)</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I am wondering, is there any way to omit a javascript file from Chrome Developer Tools debugger, so it will automatically skip over any function calls made to that script? </p>\n\n<p>I ask because my projects often include large libraries such as jQuery. When I step through javascript in Chrome Developer Tools while debugging, I have to step through jQuery's lib every time I make a jQuery call in my script. </p>\n\n<p>I end up having to set breakpoints one line after every call to the jQuery object. It's the only way I have found to skip past and it's very annoying.</p>\n",
            "last_activity_date": 1421736442,
            "question_id": 7827882,
            "score": 19,
            "tags": [
                "javascript",
                "jquery",
                "google-chrome-devtools"
            ],
            "title": "Avoid stepping through javascript file in Chrome Developer Tools?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>If you're using jQuery versions 1.4.3+:</p>\n\n<pre><code>$('selector').click(false);\n</code></pre>\n\n<p>If not:</p>\n\n<pre><code>$('selector').click(function(){return false;});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 33
                },
                {
                    "body": "<p>assuming your using click events, just unbind that one.</p>\n\n<p>example</p>\n\n<pre><code>if (current = 1){ \n    $('li:eq(2)').unbind(\"click\");\n}\n</code></pre>\n\n<p>EDIT:\nAre you currently binding a click event to your list somewhere?  Based on your comment above, I'm wondering if this is really what you're doing?  How are you enabling the click? Is it just an anchor(<code>&lt;a&gt;</code> tag) ?  A little more explicit information will help us answer your question.</p>\n\n<p>UPDATE:</p>\n\n<p>Did some playing around with the :eq() operator. <a href=\"http://jsfiddle.net/ehudokai/VRGfS/5/\">http://jsfiddle.net/ehudokai/VRGfS/5/</a></p>\n\n<p>As I should have expected it is a 0 based index operator.  So if you want to turn of the second element in your selection, where your selection is</p>\n\n<pre><code>$(\"#navigation a\")\n</code></pre>\n\n<p>you would simply add :eq(1) (the second index) and then .unbind(\"click\")  So:</p>\n\n<pre><code>if(current == 1){\n    $(\"#navigation a:eq(1)\").unbind(\"click\");\n}\n</code></pre>\n\n<p>Ought to do the trick.</p>\n\n<p>Hope this helps!</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>You can use unbind method to remove handler that has been attached...</p>\n\n<pre><code>if (current = 1){ \n   $('li:eq(2)').unbind('click');\n}\n</code></pre>\n\n<p>You can check what can unbind do ? <a href=\"http://api.jquery.com/unbind/\" rel=\"nofollow\">Unbind manual</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Raw Javascript can accomplish the same thing pretty quickly also:</p>\n\n<pre><code>document.getElementById(\"myElement\").onclick = function() { return false; } \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I just want to disable the ability for a user to click on an element for some condition.  Here is some of the code I am working with:</p>\n\n<pre><code>     $('#navigation a').bind('click',function(e){\n\n    var $this   = $(this);\n    var prev    = current;\n\n    current = $this.parent().index() + 1; // store the position in current\n\n    if (current == 1){\n    $(\"#navigation a:eq(1)\").unbind(\"click\"); // i want to disable the ability to click this element if current is 1\n    }\n    if (current &gt;= 2){\n    $(\"#navigation a:eq(1)\").bind(\"click\"); // this is wrong, but I want to rebind the click if current is greater than 1.  \n    }\n</code></pre>\n\n<p>}</p>\n",
            "last_activity_date": 1375822770,
            "question_id": 4589964,
            "score": 19,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "jquery - disable click"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>In the C++ version all variables declared in the script source (<code>result</code>, <code>primeNumberCounter</code>, <code>i</code>, <code>j</code>, <code>isPrime</code>, <code>start</code>, end, <code>time</code>) are <em>global</em> because script's top level scope is global scope.</p>\n\n<p>For optimizing compiler it is easy to allocate local variables into machine registers (or spill slots on stack) and keep track of their type. Working with global variables on the other hand requires constant memory accesses and type checks because V8 does not (currently) perform a register promotion optimization.</p>\n\n<p>If you wrap the source into an immediately called function difference should go away.</p>\n",
                    "is_accepted": true,
                    "score": 28
                }
            ],
            "body": "<p>Why Google's V8 JavaScript engine in my C++ addon works significantly slower than in Node.JS?</p>\n\n<p>I've tried to write some stupidly simple code for generating prime numbers in the JavaScript and ran it in V8 via my C++ addon and directly in Node.JS.</p>\n\n<p>I was quite shocked, because both should be using the same JavaScript engine and both have executed the same code (time in milliseconds, less is better):</p>\n\n<pre><code>V8 in Node.JS:  495517\nV8 in Node.JS C++ Addon:  623598\n</code></pre>\n\n<p>Here is the source of JavaScript module and source of C++ addon that runs same JavaScript code (and I think problem not in the interop, because measuring of time  works directly in JS):</p>\n\n<p><em>index.js</em>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var jsInNodeJsPrimeGeneratorBenchmark = require(\"./javascript.js\");\nvar jsInNativePrimeGeneratorBenchmark = require(\"./native\");\n\nconsole.log(\"V8 in Node.JS: \", jsInNodeJsPrimeGeneratorBenchmark.primeGeneratorBenchmark());\nconsole.log(\"V8 in Node.JS C++ Addon: \", jsInNativePrimeGeneratorBenchmark.primeGeneratorBenchmark());\n</code></pre>\n\n<p><em>javascript.js</em>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function primeGeneratorBenchmark() {\n    var result, primeNumberCounter, i, j, isPrime, start, end;\n\n    i = 3;\n    primeNumberCounter = 1;\n\n    start = Date.now();\n\n    while (primeNumberCounter &lt; 100000) {\n        isPrime = true;\n        for (j = 2; j &lt; i; j++) {\n            if (i % j === 0) {\n                isPrime = false;\n                break;\n            }\n        }\n\n        if (isPrime) {\n            result = i;\n            primeNumberCounter++;\n        }\n\n        i++;\n    }\n\n    end = Date.now();\n\n    return end - start;\n}\n\nexports.primeGeneratorBenchmark = primeGeneratorBenchmark;\n</code></pre>\n\n<p><em>native.cpp</em>:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;node.h&gt;\n\nv8::Handle&lt;v8::Value&gt; primeGeneratorBenchmark(const v8::Arguments &amp;arguments);\nvoid registerModule(v8::Handle&lt;v8::Object&gt; target);\n\nv8::Handle&lt;v8::Value&gt; primeGeneratorBenchmark(const v8::Arguments &amp;arguments) {\n    v8::HandleScope handleScope;\n\n    v8::Local&lt;v8::Context&gt; context = arguments.Holder()-&gt;CreationContext();\n\n    v8::Context::Scope scope(context);\n\n    const char *sourceStringC =\n        \"var result, primeNumberCounter, i, j, isPrime, start, end, time;\\n\"\n        \"i = 3;\\n\"\n        \"primeNumberCounter = 1;\\n\"\n        \"start = Date.now();\\n\"\n        \"while (primeNumberCounter &lt; 100000) {\\n\"\n        \"    isPrime = true;\\n\"\n        \"    for (j = 2; j &lt; i; j++) {\\n\"\n        \"        if (i % j === 0) {\\n\"\n        \"            isPrime = false;\\n\"\n        \"            break;\\n\"\n        \"        }\\n\"\n        \"    }\\n\"\n        \"    if (isPrime) {\\n\"\n        \"        result = i;\\n\"\n        \"        primeNumberCounter++;\\n\"\n        \"    }\\n\"\n        \"    i++;\\n\"\n        \"}\\n\"\n        \"end = Date.now();\\n\"\n        \"time = end - start;\\n\";\n\n    v8::Local&lt;v8::String&gt; sourceStringV8 = v8::String::New(sourceStringC);\n\n    v8::Local&lt;v8::Script&gt; script = v8::Script::Compile(sourceStringV8);\n    script-&gt;Run();\n\n    v8::Local&lt;v8::Value&gt; timeResult = v8::Context::GetCurrent()-&gt;Global()-&gt;Get(v8::String::New(\"time\"));\n\n    return handleScope.Close(timeResult);\n}\n\nvoid registerModule(v8::Handle&lt;v8::Object&gt; target) {\n    target-&gt;Set(v8::String::NewSymbol(\"primeGeneratorBenchmark\"), v8::FunctionTemplate::New(primeGeneratorBenchmark)-&gt;GetFunction());\n}\n\nNODE_MODULE(native, registerModule);\n</code></pre>\n",
            "last_activity_date": 1373903352,
            "question_id": 15393039,
            "score": 18,
            "tags": [
                "javascript",
                "c++",
                "performance",
                "node.js",
                "v8"
            ],
            "title": "Why V8 in Node.JS is faster than in my native C++ addon?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>It's a cruel hack, but looking at the <a href=\"https://github.com/mbostock/d3/blob/master/src/core/max.js\" rel=\"nofollow\">source code</a> for <code>d3.max</code>, your best bet might be to define a <code>d3.max1</code> that discards the first element by copying that code, but replacing <code>i=-1</code> with <code>i=0</code>. The code at that link is excerpted here. Note that I'm not a regular d3.js user, but from what I know of the library, you're going to want make sure your version has an <code>f.call</code> case like this function does, so that it can respond to live updates correctly.</p>\n\n<pre><code>d3.max = function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b;\n  if (arguments.length === 1) {\n    while (++i &lt; n &amp;&amp; ((a = array[i]) == null || a != a)) a = undefined;\n    while (++i &lt; n) if ((b = array[i]) != null &amp;&amp; b &gt; a) a = b;\n  } else {\n    while (++i &lt; n &amp;&amp; ((a = f.call(array, array[i], i)) == null || a != a)) a = undefined;\n    while (++i &lt; n) if ((b = f.call(array, array[i], i)) != null &amp;&amp; b &gt; a) a = b;\n  }\n  return a;\n};\n</code></pre>\n\n<p>Then it would just be <code>d3.max(d3.max1(a))</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Use this:</p>\n\n<pre><code>function arrmax(arrs) {\n    var toplevel = [];\n\n    var f = function(v) {\n        return !isNaN(v);\n    };\n\n    for (var i = 0, l = arrs.length; i&lt;l; i++) {\n        toplevel.push(Math.max.apply(window, arrs[i].filter(f)));\n    }\n    return Math.max.apply(window, toplevel);\n}\n</code></pre>\n\n<p>or better:</p>\n\n<pre><code>function arrmax(arrs) {\n    if (!arrs || !arrs.length) return undefined;\n    var max = Math.max.apply(window, arrs[0]), m,\n        f = function(v){ return !isNaN(v); };\n    for (var i = 1, l = arrs.length; i&lt;l; i++) {\n        if ((m = Math.max.apply(window, arrs[i].filter(f)))&gt;max) max=m;\n    }\n    return max;\n}\n</code></pre>\n\n<p>See <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow\">MDN</a> for Array.filter method details.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>// You can flatten an array and apply a function to each member</p>\n\n<pre><code>Array.prototype.flatten= function(fun){\n    if(typeof fun!= 'function') fun= '';\n    var A= [], L= this.length, itm;\n    for(var i= 0; i&lt;L; i++){\n        itm= this[i];\n        if(itm!= undefined){\n            if(!itm.flatten){\n                if(fun) itm= fun(itm);\n                if(itm) A.push(itm);\n            }\n            else A= A.concat(itm.flatten(fun));\n        }\n    }\n    return A;\n}\n</code></pre>\n\n<p>var a= [[\"yz\", 1, 2], [\"xy\", 20, 3]], max=-Infinity;</p>\n\n<p><strong>var max=Math.max.apply(a, a.flatten(Number))</strong></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you have a nested array of numbers (<code>arrays = [[1, 2], [20, 3]]</code>), nest <a href=\"https://github.com/mbostock/d3/wiki/Arrays#wiki-d3_max\">d3.max</a>:</p>\n\n<pre><code>var max = d3.max(arrays, function(array) {\n  return d3.max(array);\n});\n</code></pre>\n\n<p>Or equivalently, use <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/map\">array.map</a>:</p>\n\n<pre><code>var max = d3.max(arrays.map(function(array) {\n  return d3.max(array);\n}));\n</code></pre>\n\n<p>If you want to ignore string values, you can use <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/filter\">array.filter</a> to ignore strings:</p>\n\n<pre><code>var max = d3.max(arrays, function(array) {\n  return d3.max(array.filter(function(value) {\n    return typeof value === \"number\";\n  }));\n});\n</code></pre>\n\n<p>Alternatively, if you know the string is always in the first position, you could use <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/slice\">array.slice</a> which is a bit more efficient:</p>\n\n<pre><code>var max = d3.max(arrays, function(array) {\n  return d3.max(array.slice(1));\n});\n</code></pre>\n\n<p>Yet another option is to use an accessor function which returns <code>NaN</code> for values that are not numbers. This will cause d3.max to ignore those values. Conveniently, JavaScript's built-in <code>Number</code> function does exactly this, so you can say:</p>\n\n<pre><code>var max = d3.max(arrays, function(array) {\n  return d3.max(array, Number);\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 41
                },
                {
                    "body": "<p>If you now exactly what columns you want to test, you can use:</p>\n\n<pre><code>var columns = [\"ColumnA\", \"ColumnB\", \"ColumnC\"];\n\nvar max = selectedMax(columns,dataset);\nvar min = selectedMin(columns,dataset)\n\nfunction selectedMax(columns, dataset) {\n    var max;\n    columns.forEach(function(element, index, array) {\n        var tmpmax = d3.max(dataset, function(d) {\n            return +d[element];\n        });       \n        max = (tmpmax &gt; max || max === undefined) ? tmpmax : max;\n    });\n    return max;\n}\n\nfunction selectedMin(columns, dataset) {\n    var min;\n    columns.forEach(function(element, index, array) {\n        var tmpmin = d3.min(dataset, function(d) {\n            return +d[element];\n        });\n        min = (tmpmin &lt; min || min === undefined) ? tmpmin : min;\n    });  \nreturn min;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want to find the maximum of a nested array, something like this:</p>\n\n<pre><code>a = [[1,2],[20,3]]\nd3.max(d3.max(a)) // 20\n</code></pre>\n\n<p>but my array contains a text field that I want to discard:</p>\n\n<pre><code>a = [[\"yz\",1,2],[\"xy\",20,3]]\nd3.max(a) // 20\n</code></pre>\n",
            "last_activity_date": 1368014420,
            "question_id": 10564441,
            "score": 18,
            "tags": [
                "javascript",
                "d3.js"
            ],
            "title": "How to find the max/min of a nested array in javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<ul>\n<li><code>$(document).ready(function() {});</code></li>\n<li><code>$(function() {});</code></li>\n</ul>\n\n<p>The two statements are actually the exact same. So the second call is just a shortcut for the first.</p>\n\n<p>The <code>$</code> notation is again only a shortcut for <code>jQuery</code>. If you have loaded jQuery into your website you can use both. Especially if you don't load other JS librarys, which maybe also use the <code>$</code> sign. That brings us to your mentioned</p>\n\n<pre><code>(function($){\n}(jQuery));\n</code></pre>\n\n<p>call. What is done here is to make sure, that within your created function expression the <code>$</code> sign references to the <code>jQuery</code> object. You're calling that anonymous function (which has $ as parameter) and pass the <code>jQuery</code> object in.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>The two ways are equivalent, I personally prefer the second, <code>$(function() {});</code> it's just a <a href=\"http://github.com/jquery/jquery/blob/1.4.2/src/core.js#L152\">shortcut</a> for document ready.</p>\n\n<p>About the <code>new jQuery(document)...</code> construct, you don't really need to use the <code>new</code> operator, jQuery will use it internally if you don't.</p>\n\n<p>The argument that the <code>ready</code> handler function receives, is the jQuery object itself.</p>\n\n<p>That's quite useful where you have to run jQuery in compatibility mode with other libraries, for example:</p>\n\n<pre><code>jQuery(function ($) {\n  // use $ here\n});\n</code></pre>\n\n<p>The <code>$</code> argument inside the callback will refer to the jQuery object, outside that function it might refer to another library like PrototypeJS.</p>\n",
                    "is_accepted": true,
                    "score": 35
                },
                {
                    "body": "<p>I encourage to read some articles that are very useful to understand somethings in jQuery ( and of course in javascript ), this articles explain how to create a jQuery plugin, but reading it you will understand some basic and important things, like closures witch is the meaning in this (function($){}(jQuery)); statement.</p>\n\n<p><a href=\"http://www.authenticsociety.com/blog/jQueryPluginTutorial_Beginner\" rel=\"nofollow\">http://www.authenticsociety.com/blog/jQueryPluginTutorial_Beginner</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2662778/what-is-difference-of-function-and-document-readyfunction\">what is difference of  $(function(){ }); and $(document).ready(function() {  }) ;?</a>  </p>\n</blockquote>\n\n\n\n<p>what are the differences between $(document).ready(function() vs $(function(){<br>\nand should I write it in the $ form or the new jQuery(document).ready(function(){ way?\nif I have google api loaded is google.setOnLoadCallback(function() { a better way? or is it the same thing?</p>\n\n<p>I've also seen people use $(function($){\ncan somebody help me, I'm lost. I bugs me when I don't know the code I write. I guess I should read through the library. Are the all being defined as the same thing?</p>\n",
            "last_activity_date": 1282288703,
            "question_id": 3528509,
            "score": 18,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui"
            ],
            "title": "$(document).ready(function() VS $(function(){"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If the scope is in a controller, angular unbind for you. Else you can unbind your event by calling the returned function :</p>\n\n<pre><code>var myevent = $scope.$on('someEvents', handleSomeEvent);\nmyevent() ; // unbind the event\n</code></pre>\n\n<p><a href=\"http://docs.angularjs.org/api/ng/function/angular.bind\">http://docs.angularjs.org/api/ng/function/angular.bind</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>According to <a href=\"http://docs.angularjs.org/api/ng/type/%24rootScope.Scope\">Angular documentation on <code>$scope</code></a>:</p>\n\n<blockquote>\n  <p>'$destroy()' must be called on a scope when it is desired for the scope and its child scopes to be permanently detached from the parent and thus stop participating in model change detection and listener notification by invoking.</p>\n</blockquote>\n\n<p>Also </p>\n\n<blockquote>\n  <p>Removal also implies that the current scope is eligible for garbage collection.</p>\n</blockquote>\n\n<p>So it seems when <code>$destroy()</code> is called all the watchers and listeners get removed and the object which represented the scope becomes <code>eligible for garbage collection</code>.</p>\n\n<p>If we look at the <code>destroy()</code> <a href=\"https://github.com/angular/angular.js/blob/d7ecab775ceefcd55a23780d005ce1c39cd8651b/src/ng/rootScope.js#L696\">source code</a> we'll see a line :</p>\n\n<pre><code>forEach(this.$$listenerCount, bind(null, decrementListenerCount, this));\n</code></pre>\n\n<p>Which is supposed to remove all the listeners.</p>\n\n<p>As mentioned by @glepretre it applies to the watchers and listeners in the controller. The same doc page listed above says that:</p>\n\n<blockquote>\n  <p>Note that, in AngularJS, there is also a $destroy jQuery event, which can be used to clean up DOM bindings before an element is removed from the DOM.</p>\n</blockquote>\n\n<p>So if you have specific listeners in the directives you should listen to the <code>$destroy</code> event and do the necessary cleanup yourself</p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>As previously answered, Angular indeed takes care of cleaning things for you, whenever possible. So if you do <code>$scope.$on('someEvents', handleSomeEvent);</code>, once the scope is destroyed (eg when you go to another page/view in your app), the event is automatically removed.</p>\n\n<p>One important thing to note though, is that <code>$rootScope</code> is of course never destroyed, unless you quit your app. So if you do <code>$rootScope.$on('someEvents', handleSomeEvent);</code>, you may have to remove the event yourself, depending on where you listen to the event:</p>\n\n<ul>\n<li>if in a <code>controller</code> or <code>directive</code>, then you'll have to remove it manually, else each time you'll instantiate the <code>controller</code>, a new event will be attached, and so <code>handleSomeEvent</code> will be called many times</li>\n<li>if in a <code>service</code>, then you do not need to remove it manually, as services are always <code>singleton</code> (note that in Angular <code>service</code>, <code>factory</code>, ... all end up being the same thing)</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to figure out if angular base automatically unbinds watchers and scope events bound with <code>$scope.$on(...)</code> or <code>$scope.$watch(...)</code> when scope is <strong>destroyed</strong>?</p>\n\n<p>Suppose I have following code:</p>\n\n<pre><code>$scope.$on('someEvents', handleSomeEvent);\n$scope.$watch('someProperty', handleSomePropertyChange);\n</code></pre>\n\n<p>Do I need to manually unbind these watchers and events when $destroy event is triggered on scope?</p>\n",
            "last_activity_date": 1423789767,
            "question_id": 22169888,
            "score": 17,
            "tags": [
                "javascript",
                "angularjs",
                "angularjs-scope"
            ],
            "title": "angular.js $destroy event - should I manually unbind?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>First of all <code>on-screen visible area</code> is known as <code>Viewport</code>.</p>\n\n<p><img src=\"http://i.stack.imgur.com/cjKW2.png\" alt=\"image is took from OP and cleaned up in Photoshop\"></p>\n\n<blockquote>\n  <p><em>(image is taken from OP. Cleared and edited in <strong>Photoshop</strong>)</em></p>\n</blockquote>\n\n<hr>\n\n<p>So all you need is to detect all elements in your <code>Viewport</code>. </p>\n\n<p>This can be achieved using many plugins for jQuery, but I'll explain you on one example, which is called as <code>jQuery withInViewport</code></p>\n\n<p>Link to source and documentation on: <a href=\"https://github.com/patik/within-viewport\"><strong>[ withInViewport - Github ]</strong></a></p>\n\n<hr>\n\n<h1>Step 1:</h1>\n\n<p>Download plugins and include <code>jQuery</code> framework and <code>withInViewport</code> plugin in your script:</p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-1.7.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"withinViewport.js\"&gt;&lt;/script&gt;\n&lt;script src=\"jquery.withinViewport.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>.</p>\n\n<h1>Step 2:</h1>\n\n<p>Initialise function on <code>scroll</code> event:</p>\n\n<pre><code>$(window).bind(\"scroll\", function() {\n    //your code placeholder\n});\n</code></pre>\n\n<p>.</p>\n\n<h1>Step 3:</h1>\n\n<p>Use <code>withInViewport</code> selector to get all elements in you viewport and by each element add class to corresponding list-item in your <code>#timeline</code> container:</p>\n\n<pre><code>$(\"#elements &gt; div\").withinViewport().each(function() {\n   $('#timeline &gt; li[view-id=\"'+$(this)[0].id+'\"]').addClass('active');\n});\n</code></pre>\n\n<h1>Step 4:</h1>\n\n<p>Put all together:</p>\n\n<pre><code>$(window).bind(\"scroll\", function() {\n\n    //clear all active class\n    $('#timeline &gt; li').removeClass('active');\n\n    //add active class to timeline\n    $(\"#elements &gt; div\").withinViewport().each(function() {\n         $('#timeline &gt; li[view-id=\"'+$(this)[0].id+'\"]').addClass('active');\n    });\n});\n</code></pre>\n\n<p>.</p>\n\n<hr>\n\n<p>.</p>\n\n<p>Also this plugin gives you opportunity to set top, bottom, left and right offset for view-port.</p>\n\n<p><strong>See demo here</strong>: <a href=\"http://patik.com/code/within-viewport/\">http://patik.com/code/within-viewport/</a></p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>Best and easiest way to do this is with this plugin:</p>\n\n<p><a href=\"http://www.appelsiini.net/projects/viewport\" rel=\"nofollow\">http://www.appelsiini.net/projects/viewport</a></p>\n\n<p>Otherwise I think u'll be looking at a lot of work.</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I have a list of objects in DOM, which is longer than screen height area.</p>\n\n<p>I need to detect on-screen visible objects only to make something like timeline tree-view.  (<em>something like on the picture below</em>):</p>\n\n<p><img src=\"http://i.stack.imgur.com/eHo1M.png\" alt=\"enter image description here\"></p>\n\n<p><strong>My DOM looks like this:</strong></p>\n\n<pre><code>&lt;!-- elements visibility on screen to be DETECTED --&gt;\n&lt;div id=\"elements\"&gt;\n    &lt;div id=\"elem-1\"&gt;Lorem ipsum&lt;/div&gt;\n    &lt;div id=\"elem-2\"&gt;Lorem ipsum&lt;/div&gt;\n    &lt;div id=\"elem-3\"&gt;Lorem ipsum&lt;/div&gt;\n    &lt;div id=\"elem-4\"&gt;Lorem ipsum&lt;/div&gt;\n    &lt;div id=\"elem-5\"&gt;Lorem ipsum&lt;/div&gt;\n    &lt;div id=\"elem-6\"&gt;Lorem ipsum&lt;/div&gt;\n    &lt;div id=\"elem-7\"&gt;Lorem ipsum&lt;/div&gt;\n    &lt;div id=\"elem-8\"&gt;Lorem ipsum&lt;/div&gt;\n&lt;/div&gt;\n\n\n&lt;!--elements visibility on screen to be AFFECTED  --&gt;\n&lt;ul id=\"timeline\"&gt;\n    &lt;li view-id=\"elem-1\"&gt;Elem-1&lt;/li&gt;\n    &lt;li view-id=\"elem-2\"&gt;Elem-2&lt;/li&gt;\n    &lt;li view-id=\"elem-3\" class=\"active\"&gt;Elem-3&lt;/li&gt;\n    &lt;li view-id=\"elem-4\" class=\"active\"&gt;Elem-4&lt;/li&gt;\n    &lt;li view-id=\"elem-5\" class=\"active\"&gt;Elem-5&lt;/li&gt;\n    &lt;li view-id=\"elem-6\" class=\"active\"&gt;Elem-6&lt;/li&gt;\n    &lt;li view-id=\"elem-7\"&gt;Elem-7&lt;/li&gt;\n    &lt;li view-id=\"elem-8\"&gt;Elem-8&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>My goal is to detect IDs' of on-screen visible elements from <code>#elements</code> container and assign <code>active</code> class to corresponding elements in <code>#timeline</code> container.</p>\n\n<p>I need to do this process on <code>Scroll</code> event.</p>\n\n<p>Any ideas how to achieve this?</p>\n",
            "last_activity_date": 1382375112,
            "question_id": 19498068,
            "score": 17,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "dom"
            ],
            "title": "How to get on-screen visible element objects in jQuery?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>If you follow the stack, <code>this.installDependencies</code> eventually works its way down to <a href=\"https://github.com/yeoman/generator/blob/45258c0a48edfb917ecf915e842b091a26d17f3e/lib/actions/install.js#L36\">https://github.com/yeoman/generator/blob/45258c0a48edfb917ecf915e842b091a26d17f3e/lib/actions/install.js#L36</a>:</p>\n\n<pre><code>this.spawnCommand(installer, args, cb)\n  .on('error', cb)\n  .on('exit', this.emit.bind(this, installer + 'Install:end', paths))\n  .on('exit', function (err) {\n    if (err === 127) {\n      this.log.error('Could not find ' + installer + '. Please install with ' +\n                          '`npm install -g ' + installer + '`.');\n    }\n    cb(err);\n  }.bind(this));\n</code></pre>\n\n<p>Chasing this down further, <code>this.spawnCommand</code> comes from <a href=\"https://github.com/yeoman/generator/blob/master/lib/actions/spawn_command.js\">https://github.com/yeoman/generator/blob/master/lib/actions/spawn_command.js</a>:</p>\n\n<pre><code>var spawn = require('child_process').spawn;\nvar win32 = process.platform === 'win32';\n\n/**\n * Normalize a command across OS and spawn it.\n *\n * @param {String} command\n * @param {Array} args\n */\n\nmodule.exports = function spawnCommand(command, args) {\n  var winCommand = win32 ? 'cmd' : command;\n  var winArgs = win32 ? ['/c'].concat(command, args) : args;\n\n  return spawn(winCommand, winArgs, { stdio: 'inherit' });\n};\n</code></pre>\n\n<p>In other words, in your Generator's code, you can call <code>this.spawnCommand</code> anytime, and pass it the arguments you wish the terminal to run. As in, <code>this.spawnCommand('grunt', ['build'])</code>.</p>\n\n<p>So then the next question is where do you put that? Thinking linearly, you can only trust that <code>grunt build</code> will work after all of your dependencies have been installed. </p>\n\n<p>From <a href=\"https://github.com/yeoman/generator/blob/45258c0a48edfb917ecf915e842b091a26d17f3e/lib/actions/install.js#L67-69\">https://github.com/yeoman/generator/blob/45258c0a48edfb917ecf915e842b091a26d17f3e/lib/actions/install.js#L67-69</a>, \n<code>this.installDependencies</code> accepts a callback, so your code might look like this:</p>\n\n<pre><code>this.on('end', function () {\n  this.installDependencies({\n    skipInstall: this.options['skip-install'],\n    callback: function () {\n      this.spawnCommand('grunt', ['build']);\n    }.bind(this) // bind the callback to the parent scope\n  });\n});\n</code></pre>\n\n<p>Give it a shot! If all goes well, you should add some error handling on top of that new <code>this.spawnCommand</code> call to be safe.</p>\n",
                    "is_accepted": true,
                    "score": 31
                },
                {
                    "body": "<p>I've used Stephen's great answer, implemented in the following way with a custom event to keep things tidy.</p>\n\n<pre><code>MyGenerator = module.exports = function MyGenerator(args, options, config) {\n\n    this.on('end', function () {\n        this.installDependencies({\n            skipInstall: options['skip-install'],\n            callback: function() {\n                // Emit a new event - dependencies installed\n                this.emit('dependenciesInstalled');\n            }.bind(this)\n        });\n    });\n\n    // Now you can bind to the dependencies installed event\n    this.on('dependenciesInstalled', function() {\n        this.spawnCommand('grunt', ['build']);\n    });\n\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                }
            ],
            "body": "<p>I'm building a custom Yeoman generator that installs a lot of pre-processed language compilers like CoffeeScript, LESS and Jade. In the Gruntfile that my generator creates I have a build task which compiles everything. However, until that build task is run at least once, the compiled HTML, CSS and Javascript files don't exist, which can be confusing if I try to run the grunt watch/connect server after freshly scaffolding.</p>\n\n<p>What is the best way to have my generator run that Grunt build step at the end of the installation? The <code>end</code> event that's already being used to call <code>this.installDependencies</code> seems like the right place to do that, but how should I communicate with Grunt?</p>\n",
            "last_activity_date": 1396441657,
            "question_id": 18841273,
            "score": 17,
            "tags": [
                "javascript",
                "gruntjs",
                "yeoman",
                "yeoman-generator"
            ],
            "title": "How to run a Grunt task after my Yeoman generator finishes installing?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>From looking at the source of socket.io.js (couldn't find it in documentation anywhere), I found these two functions:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>removeListener = function(name, fn)\nremoveAllListeners = function(name)\n</code></pre>\n\n<p>I used <code>removeAllListeners</code> successfully in my app; you should be able to choose from these:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>socket.removeListener(\"news\", cbProxy);\nsocket.removeAllListeners(\"news\");\n</code></pre>\n\n<p>Also, I don't think your solution of <code>cbProxy = _blank</code> would actually work; that would only affect the <code>cbProxy</code> variable, not any actual socket.io event.</p>\n",
                    "is_accepted": true,
                    "score": 25
                },
                {
                    "body": "<p>I found that in socket.io 0.9.11 and Chrome24 socket.io removeListener doesn't work.</p>\n\n<p>this modified version works for me:</p>\n\n<pre><code>EventEmitter.prototype.removeListener = function (name, fn) {\n        if (this.$events &amp;&amp; this.$events[name]) {\n            var list = this.$events[name];\n\n            if (io.util.isArray(list)) {\n                var pos = -1;\n\n                for (var i = 0, l = list.length; i &lt; l; i++) {\n                    if (list[i].toString() === fn.toString() || (list[i].listener &amp;&amp; list[i].listener === fn)) {\n                        pos = i;\n                        break;\n                    }\n                }\n\n                if (pos &lt; 0) {\n                    return this;\n                }\n\n                list.splice(pos, 1);\n\n                if (!list.length) {\n                    delete this.$events[name];\n                }\n            } else  {\n                    if (list.toString() === fn.toString() || (list.listener &amp;&amp; list.listener === fn)) {\n\n                       delete this.$events[name];\n                    }\n            }\n        }\n\n        return this;\n    };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you want to create listeners that \"listens\" only once use <code>socket.once('news',func)</code>. Socket.io automatically will distroy the listener after the event happened - it's called \"volatile listener\".</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Socket.io version 0.9.16 implements <code>removeListener</code> but not <code>off</code>. </p>\n\n<p>You can use <code>removeListener</code> instead of <code>off</code> when unsubscribing, or simply implement <code>off</code> as follows:</p>\n\n<pre><code>  var socket = io.connect(url);\n  socket.off = socket.removeListener;\n</code></pre>\n\n<p>If you are using the Backbone <code>listenTo</code> event subscription approach, you'll need to implement the above as Backbone calls <code>off</code> when unsubscribing events.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Suppose there are objects making subscriptions to a socket server like so:</p>\n\n<p><code>socket.on('news', obj.socketEvent)</code></p>\n\n<p>These objects have a short life span and are frequently created, generating many subscriptions. This seems like a memory leak and an error prone situation which would intuitively be prevented this way:</p>\n\n<p><code>socket.off('news', obj.socketEvent)</code></p>\n\n<p>before the object is deleted, but alas, there isn't an <code>off</code> method in the socket. Is there another method meant for this?</p>\n\n<p><strong>Edit</strong>: having found no answer I'm assigning a blank method to overwrite the wrapper method for the original event handler, an example follows.</p>\n\n<pre><code>var _blank = function(){};\n\nvar cbProxy = function(){\n    obj.socketEvent.apply(obj, arguments)\n};\nvar cbProxyProxy = function(){\n    cbProxy.apply ({}, arguments)\n}\nsocket.on('news', cbProxyProxy);\n\n// ...and to unsubscribe \ncbProxy = _blank;\n</code></pre>\n",
            "last_activity_date": 1381849167,
            "question_id": 9418697,
            "score": 17,
            "tags": [
                "javascript",
                "socket.io",
                "publish-subscribe"
            ],
            "title": "How to unsubscribe from a socket.io subscription?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Assuming you mean \"file on a local filesystem\" when you say .json file.</p>\n\n<p>You'll need to save the json data formatted as jsonp, and use a <code>file:// url</code> to access it.</p>\n\n<p>Your HTML will look like this:</p>\n\n<pre><code>&lt;script src=\"file://c:\\\\data\\\\activity.jsonp\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n  function updateMe(){\n    var x = 0;\n    var activity=jsonstr;\n    foreach (i in activity) {\n        date = document.getElementById(i.date).innerHTML = activity.date;\n        event = document.getElementById(i.event).innerHTML = activity.event;\n    }\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>And the file c:\\data\\activity.jsonp contains the following line:</p>\n\n<pre><code>jsonstr = [ {\"date\":\"July 4th\", \"event\":\"Independence Day\"} ];\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>I am assuming obj is getjson response. hard coding for example.   </p>\n\n<pre><code>var obj={\"date\":\"July 4th\", \"event\":\"Independence Day\"};\nfor(var key in obj) {\n    var x=0;\n    while(x&lt;10){\n        $(\"#\"+key.toString()+x).html( obj[key]);\n        x++;\n    }\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/NfkAy/\" rel=\"nofollow\">Example</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var jsonString = JSON.stringify(myJsonObj);\nvar jsonObj = JSON.parse(jsonString);\n\nvar str=JSON.stringify(jsonObj[0].Name);\nalert(str);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>My script currently looks like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  function updateMe(){\n    var x = 0;\n    var jsonstr = '{\"date\":\"July 4th\", \"event\":\"Independence Day\"}';\n    var activity=JSON.parse(jsonstr);\n    while(x&lt;10){\n    date = document.getElementById(\"date\"+x).innerHTML = activity.date;\n    event = document.getElementById(\"event\"+x).innerHTML = activity.event;\n    x++;\n    }\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>Where date\"x\" and event\"x\" are a series of html tags.  This function runs when the page loads (onload).  My goal is to do this exact same thing, only from a local .json file as opposed to the hard code that I've got above.  I've already checked out <a href=\"http://api.jquery.com/jQuery.getJSON/\">http://api.jquery.com/jQuery.getJSON/</a>.</p>\n\n<p>The local .json file looks like this:</p>\n\n<pre><code>{\"date\":\"July 4th\", \"event\":\"Independence Day\"}\n</code></pre>\n\n<p>Any suggestions?</p>\n",
            "last_activity_date": 1391766057,
            "question_id": 6711002,
            "score": 17,
            "tags": [
                "javascript",
                "json",
                "getjson"
            ],
            "title": "How can I get javascript to read from a .json file?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>just set the hidden field with javascript\ndocument.getElementById('elementId').value = 'whatever';</p>\n\n<p>or do I miss something?</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>You can store it in a hidden field, OR store it in a javascript object (my preference) as the likely access will be via javascript.</p>\n\n<p>NOTE: since you have an array, this would then be accessed as <code>myvariable[0]</code> for the first element (as you have it).</p>\n\n<p>EDIT show example:</p>\n\n<pre><code>clip...\n            success: function(msg)\n            {\n                LoadProviders(msg);\n            },\n...\n\nvar myvariable =\"\";\n\nfunction LoadProviders(jdata)\n{\n  myvariable = jdata;\n};\nalert(myvariable[0].id);// shows \"15aea3fa\" in the alert\n</code></pre>\n\n<p>EDIT: Created this page:<a href=\"http://jsfiddle.net/GNyQn/\">http://jsfiddle.net/GNyQn/</a> to demonstrate the above.  This example makes the assumption that you have already properly returned your named string values in the array and simply need to store it per OP question.  In the example, I also put the values of the first array returned (per OP example) into a div as text.</p>\n\n<p>I am not sure why this has been viewed as \"complex\" as I see no simpler way to handle these strings in this array.</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>If you use the <a href=\"https://github.com/douglascrockford/JSON-js\">JSON Serializer</a>, you can simply store your object in string format as such</p>\n\n<pre><code>myHiddenText.value = JSON.stringify( myObject );\n</code></pre>\n\n<p>You can then get the value back with</p>\n\n<pre><code>myObject = JSON.parse( myHiddenText.value );\n</code></pre>\n\n<p>However, if you're not going to pass this value across page submits, it might be easier for you, and you'll save yourself a lot of serialization, if you just tuck it away as  a global javascript variable.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>You can use <code>input.value = JSON.stringify(obj)</code> to transform the object to a string.<br/>And when you need it back you can use <code>obj = JSON.parse(input.value)</code> </p>\n\n<p>The JSON object is available on modern browsers or you can use the json2.js library from <a href=\"http://json.org\">json.org</a></p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>It looks like the return value is in an array? That's somewhat strange... and also be aware that certain browsers will allow that to be parsed from a cross-domain request (which isn't true when you have a top-level JSON object).</p>\n\n<p>Anyway, if that is an array wrapper, you'll want something like this:</p>\n\n<pre><code>$('#my-hidden-field').val(theObject[0].id);\n</code></pre>\n\n<p>You can later retrieve it through a simple .val() call on the same field.  This honestly looks kind of strange though.  The hidden field won't persist across page requests, so why don't you just keep it in your own (pseudo-namespaced) value bucket? E.g.,</p>\n\n<pre><code>$MyNamespace = $MyNamespace || {};\n$MyNamespace.myKey = theObject;\n</code></pre>\n\n<p>This will make it available to you from anywhere, without any hacky input field management. It's also a lot more efficient than doing DOM modification for simple value storage.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Although I have seen the suggested methods used and working, I think that setting the value of an hidden field only using the JSON.stringify breaks the HTML...</p>\n\n<p>Here I'll explain what I mean:</p>\n\n<pre><code>&lt;input type=\"hidden\" value=\"{\"name\":\"John\"}\"&gt;\n</code></pre>\n\n<p>As you can see the first double quote after the open chain bracket could be interpreted by some browsers as:</p>\n\n<pre><code>&lt;input type=\"hidden\" value=\"{\" rubbish &gt;\n</code></pre>\n\n<p>So for a better approach to this I would suggest to use the <strong>encodeURIComponent</strong> function. Together with the JSON.stringify we shold have something like the following:</p>\n\n<pre><code>&gt; encodeURIComponent(JSON.stringify({\"name\":\"John\"}))\n&gt; \"%7B%22name%22%3A%22John%22%7D\"\n</code></pre>\n\n<p>Now that value can be safely stored in an input hidden type like so:</p>\n\n<pre><code>&lt;input type=\"hidden\" value=\"%7B%22name%22%3A%22John%22%7D\"&gt;\n</code></pre>\n\n<p>or (even better) using the data- attribute of the HTML element manipulated by the script that will consume the data, like so:</p>\n\n<pre><code>&lt;div id=\"something\" data-json=\"%7B%22name%22%3A%22John%22%7D\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Now to read the data back we can do something like:</p>\n\n<pre><code>&gt; var data = JSON.parse(decodeURIComponent(div.getAttribute(\"data-json\")))\n&gt; console.log(data)\n&gt; Object {name: \"John\"}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 20
                }
            ],
            "body": "<p>I was wondering if it's possible to store the return json in a hidden input field. For example this is what my json return:</p>\n\n<pre><code>[{\"id\":\"15aea3fa\",\"firstname\":\"John\",\"lastname\":\"Doe\"}]\n</code></pre>\n\n<p>I would like to just store the id in a hidden field so I can reference it later to do something with it.</p>\n\n<p>ex: I have something like this...  ... and would like jquery to return the value later to me like so ... var scheduletimeid = $('#HiddenForId').val(); ...</p>\n",
            "last_activity_date": 1377517373,
            "question_id": 3448831,
            "score": 17,
            "tags": [
                "javascript",
                "jquery",
                "json"
            ],
            "title": "store return json value in input hidden field"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><strong>Confirmed: IE10 does not support CORS images in an HTML 5 canvas.</strong> See\n<a href=\"http://stackoverflow.com/a/19734500/712765\">RReverser's answer</a> for a workaround.</p>\n\n<h3>Edit</h3>\n\n<p>Sorry, I haven't dealt with CORS images before and thought this question was about an AJAX request.</p>\n\n<p>According to <a href=\"https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes\" rel=\"nofollow\">Mozilla Developer Network</a> you need to set <code>image.crossOrigin</code> to <code>anonymous</code> or <code>use-credentials</code>.  Also, according to that page today, these attributes are not supported in IE, Safari, or Opera.  <a href=\"http://www.shangalulu.com/driver/test_canvas_taint.html\" rel=\"nofollow\">This test</a> was made to demonstrate that IE9 did not support it and it seems that same test still fails in IE10, so even if Safari and Opera have added support since the MDN article was written, it is quite possible that IE10 still lacks support.</p>\n\n<p>The only tip I can give you is that in general, allow-credentials is <a href=\"https://developer.mozilla.org/en-US/docs/HTTP/Access_control_CORS#Requests_with_credentials\" rel=\"nofollow\">incompatible</a> with a wildcard allow-origin. Either drop the allow-credentials or echo the request Origin in the allow-origin.  </p>\n\n<h3>Below is for AJAX calls, not image or video canvas resources</h3>\n\n<p>Early versions of IE10 were known to have AJAX bugs,</p>\n\n<ul>\n<li><a href=\"http://bugs.idsl.pl/ie/xhr.htm\" rel=\"nofollow\">http://bugs.idsl.pl/ie/xhr.htm</a></li>\n<li><a href=\"http://connect.microsoft.com/IE/feedback/details/771552/i-e-10-and-the-post-method\" rel=\"nofollow\">http://connect.microsoft.com/IE/feedback/details/771552/i-e-10-and-the-post-method</a></li>\n</ul>\n\n<p>so it could be another browser bug.  Then again, CORS is deceptively tricky to get right.  I recommend the following steps to debug CORS problems.</p>\n\n<ol>\n<li>Point the browser at <a href=\"http://test-cors.appspot.com/#technical\" rel=\"nofollow\">http://test-cors.appspot.com/#technical</a> to get a compatibility report.  If anything fails then you have a bug or lack of support for CORS in the browser.</li>\n<li>If everything passes, use the CORS headers the test is sending as a starting point to get your CORS request working.  Then change one header at a time and retest until you get the headers the way you want for your application or you run into a failure you cannot explain or work around.  </li>\n<li>If necessary, post a question about that one tiny change that breaks the CORS request, posting both the working \"before\" and the failing \"after\".  It always helps if you can include a runnable example. </li>\n</ol>\n\n<p>The complete code for the CORS test client and server (Python script for Google App Engine) is available at <a href=\"https://github.com/rapportive-oss/cors-test\" rel=\"nofollow\">https://github.com/rapportive-oss/cors-test</a> to get you started. </p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I have implemented  <a href=\"http://jsfiddle.net/WLTqG/29\" rel=\"nofollow\">your js fiddle</a>,<br>\nadded <code>img.crossorigin = \"Anonymous\"</code>\nas per my requirement <a href=\"http://jsfiddle.net/atluriajith/4AnLd\" rel=\"nofollow\">my Jsfiddle</a> here. It is working fine with chrome, firefox but failed with IE, Safari help me to get rid of this problem.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Unfortunately, IE10 still remains the only popular browser that doesn't support CORS for image drawn to Canvas even when CORS headers are properly set. But there is workaround for that via XMLHttpRequest:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var xhr = new XMLHttpRequest();\nxhr.onload = function () {\n    var url = URL.createObjectURL(this.response), img = new Image();\n    img.onload = function () {\n        // here you can use img for drawing to canvas and handling\n        // ...\n        // don't forget to free memory up when you're done (you can do this as soon as image is drawn to canvas)\n        URL.revokeObjectURL(url);\n    };\n    img.src = url;\n};\nxhr.open('GET', url, true);\nxhr.responseType = 'blob';\nxhr.send();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                }
            ],
            "body": "<p>I was under the impression that Internet Explorer 10 fully supported CORS, but now I'm not sure.</p>\n\n<p>We have a JS/HTML5 App that uses multiple domains, and reads image data. We are loading images in the JS from another domain, imageDraw()ing the image to our canvas, and then using getImageData on the canvas.  (We aren't using cross-domain XMLHttpRequests). For this to work we have had to set response headers on the server that's serving the images:</p>\n\n<pre><code>access-control-allow-origin: *\naccess-control-allow-credentials: true\n</code></pre>\n\n<p>And set this on the image object in the JS before loading: </p>\n\n<p><code>image.crossOrigin = 'Anonymous'; //Also tried lowercase</code></p>\n\n<p><strong>This is working fine for all new browsers, <em>apart from IE10</em> which is throwing security errors when we try to read the data.</strong></p>\n\n<pre><code>SCRIPT5022: SecurityError\n</code></pre>\n\n<p><strong>Is there something more that needs to be done for IE10 to treat these cross domain images as not tainting?</strong></p>\n\n<p>UPDATE:</p>\n\n<p>I noticed <a href=\"http://stackoverflow.com/a/14806095/324381\">this answer</a> to a previous question.  <strong>Interestingly <a href=\"http://jsfiddle.net/WLTqG/29/\">this JSFiddle</a> also does not work for IE10 - can anyone confirm that this does not work in their IE10?</strong></p>\n",
            "last_activity_date": 1403849073,
            "question_id": 16956295,
            "score": 16,
            "tags": [
                "javascript",
                "html5",
                "internet-explorer",
                "cors"
            ],
            "title": "IE10 and Cross-origin resource sharing (CORS) issues with Image / Canvas"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>You may be interested in checking out MongoDB, a JSON-style data store with full queryability.  Here is its <a href=\"http://www.mongodb.org/display/DOCS/Querying\" rel=\"nofollow\">query syntax:</a></p>\n\n<pre><code>db.users.find({'last_name': 'Smith'})\n</code></pre>\n\n<p>For your example question:</p>\n\n<pre><code>db.users.find({'sex': 'F', 'income' : {$gt : 60000}})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I've seen a few linq like javascript libraries in past google searches. </p>\n\n<p>Edit- here's a couple<br>\n<a href=\"http://linqjs.codeplex.com/\" rel=\"nofollow\">http://linqjs.codeplex.com/</a><br>\n<a href=\"http://jslinq.codeplex.com/\" rel=\"nofollow\">http://jslinq.codeplex.com/</a><br>\n<a href=\"http://jsinq.codeplex.com/\" rel=\"nofollow\">http://jsinq.codeplex.com/</a> &lt;-- <a href=\"http://kaijaeger.com/downloads/jsinq/playground/\" rel=\"nofollow\">really cool playground for this one\n</a> </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Check out <a href=\"http://jslinq.codeplex.com/\">jslinq</a>:</p>\n\n<pre><code>var myList = [\n            {FirstName:\"Chris\",LastName:\"Pearson\"},\n            {FirstName:\"Kate\",LastName:\"Johnson\"},\n            {FirstName:\"Josh\",LastName:\"Sutherland\"},\n            {FirstName:\"John\",LastName:\"Ronald\"},\n            {FirstName:\"Steve\",LastName:\"Pinkerton\"}\n            ];\n\nvar exampleArray = JSLINQ(myList)\n                   .Where(function(item){ return item.FirstName == \"Chris\"; })\n                   .OrderBy(function(item) { return item.FirstName; })\n                   .Select(function(item){ return item.FirstName; });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>There is also <a href=\"http://www.trentrichardson.com/jsonsql/\" rel=\"nofollow\">JsonSql</a> which seems to be similar like what you are looking for. Only problem is that it hasn't been updated in 12/30/2007.  Still the code is there to grab and play with.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Depending on what browsers/versions you must support, I would strive to use <a href=\"http://stackoverflow.com/questions/990869/where-can-i-learn-about-how-to-use-html5-for-client-side-database-apps\">HTML5 client-side SQL</a>, pushing my JSON data into one or more tables and harnessing the power of true SQL queries.</p>\n\n<p>Here's the draft spec: <a href=\"http://www.w3.org/TR/webdatabase/\" rel=\"nofollow\">http://www.w3.org/TR/webdatabase/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There is also a XPath style query called JSONPath that I like <a href=\"http://goessner.net/articles/JsonPath/\" rel=\"nofollow\">http://goessner.net/articles/JsonPath/</a></p>\n\n<p>And there is this <a href=\"http://code.google.com/p/jfunk/\" rel=\"nofollow\">http://code.google.com/p/jfunk/</a>\nWhich users jQuery style selectors to filter data</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I use Taffydb. \nTaffyDB is an opensouce library that brings database features into your JavaScript applications.\n<a href=\"http://taffydb.com/\">http://taffydb.com/</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I know the question is old but I just came here through a Google search. I'm just following a talk about <a href=\"https://github.com/agilosoftware/objeq\" rel=\"nofollow\">objeq</a>. Looks pretty promising and very much what you are searching for.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can try <a href=\"https://github.com/agershun/alasql\" rel=\"nofollow\">alasql.js</a>. It is pure JavaScript client-side SQL-server, where you can do queries over JSON objects. </p>\n\n<pre><code>   // Fill table with data\n   var data = [ { name: 'bill' , sex:'M', income:50000 },\n                { name: 'sara' , sex:'F', income:100000 }];\n\n   // Do the query\n   console.log(alasql(\"SELECT * FROM ? WHERE sex='F' AND income &gt; 60000\",[data]));\n</code></pre>\n\n<p>Try this in <a href=\"http://jsfiddle.net/agershun/38hj2uwy/40/\" rel=\"nofollow\">Fiddle</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-2.1.3.min.js\"&gt;&lt;/script&gt;\r\n\t&lt;script type=\"text/javascript\" src=\"linq.js\"&gt;&lt;/script&gt;\r\n\t&lt;script type=\"text/javascript\"&gt;\r\nvar jsonArray = [\r\n    { \"user\": { \"id\": 100, \"screen_name\": \"d_linq\" }, \"text\": \"to objects\" },\r\n    { \"user\": { \"id\": 130, \"screen_name\": \"c_bill\" }, \"text\": \"g\" },\r\n    { \"user\": { \"id\": 155, \"screen_name\": \"b_mskk\" }, \"text\": \"kabushiki kaisha\" },\r\n    { \"user\": { \"id\": 301, \"screen_name\": \"a_xbox\" }, \"text\": \"halo reach\" }\r\n]\r\n// [\"b_mskk:kabushiki kaisha\", \"c_bill:g\", \"d_linq:to objects\"]\r\nvar queryResult = Enumerable.From(jsonArray)\r\n    .Where(function (x) { return x.user.id &lt; 200 })\r\n    .OrderBy(function (x) { return x.user.screen_name })\r\n    .Select(function (x) { return x.user.screen_name + ':' + x.text })\r\n    .ToArray();\r\n// shortcut! string lambda selector\r\nvar queryResult2 = Enumerable.From(jsonArray)\r\n    .Where(\"$.user.id &lt; 200\")\r\n    .OrderBy(\"$.user.screen_name\")\r\n    .Select(\"$.user.screen_name + ':' + $.text\")\r\n    .ToArray();\r\n\r\nconsole.log(queryResult);\r\nconsole.log(queryResult2);\r\n\t&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Say our JSON data comes from a single MySQL table:</p>\n\n<pre><code>someJSON =    [ { name: 'bill' , sex:'M', income:50000 },\n                { name: 'sara' , sex:'F', income:100000 },\n                 ...\n               ];\n</code></pre>\n\n<p>And say the pseudo-code is: </p>\n\n<p><strong>\"Get all the person objects of all <code>sex:F</code> of <code>income</code> > 60000`\".</strong></p>\n\n<p>Are there any javascript libraries that would allow one to code such queries on this JSON data using a SQL or SQL-like syntax.</p>\n\n<p>In case you are curious, some context: </p>\n\n<p>I am making the front-end of a data analysis web service for my organization without knowing what the future backend will be. In the future they will migrate their data from MS Access tables to some-sort of MySQL-type database. Until then I am using static JSON files to start development and was thinking it may be helpful for them in the future to have my javascript queries appear as MySQL queries. (The current MS Access database is unreachable from the web.)    </p>\n",
            "last_activity_date": 1424986874,
            "question_id": 4720494,
            "score": 16,
            "tags": [
                "javascript",
                "jquery",
                "sql",
                "mysql",
                "json"
            ],
            "title": "Javascript libraries that allow for SQL-like queries on JSON data?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>According to <a href=\"http://stackoverflow.com/questions/468881/print-div-id-printarea-div-only\">this SO link</a> you can print a specific div with</p>\n\n<pre><code>w=window.open();\nw.document.write($('.report_left_inner').html());\nw.print();\nw.close();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Here is a pure css version <a href=\"http://jsfiddle.net/V9XzD/\">JSFIDDLE</a></p>\n\n<pre><code>&lt;div class=\"example-screen\"&gt;You only see me in the browser&lt;/div&gt;\n\n&lt;div class=\"example-print\"&gt;You only see me in the print&lt;/div&gt;\n\n.example-print {\n    display: none;\n}\n@media print {\n   .example-screen {\n       display: none;\n    }\n    .example-print {\n       display: block;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Below Code May Be Help You :</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script&gt;\nfunction printPage(id)\n{\n   var html=\"&lt;html&gt;\";\n   html+= document.getElementById(id).innerHTML;\n\n   html+=\"&lt;/html&gt;\";\n\n   var printWin = window.open('','','left=0,top=0,width=1,height=1,toolbar=0,scrollbars=0,status  =0');\n   printWin.document.write(html);\n   printWin.document.close();\n   printWin.focus();\n   printWin.print();\n   printWin.close();\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"block1\"&gt;\n&lt;table border=\"1\" &gt;\n&lt;/tr&gt;\n&lt;th colspan=\"3\"&gt;Block 1&lt;/th&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;th&gt;1&lt;/th&gt;&lt;th&gt;XYZ&lt;/th&gt;&lt;th&gt;athock&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n\n&lt;/div&gt;\n\n&lt;div id=\"block2\"&gt;\n    This is Block 2 content\n&lt;/div&gt;\n\n&lt;input type=\"button\" value=\"Print Block 1\" onclick=\"printPage('block1');\"&gt;&lt;/input&gt;\n&lt;input type=\"button\" value=\"Print Block 2\" onclick=\"printPage('block2');\"&gt;&lt;/input&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I came across another elegant solution for this:</p>\n\n<p>Place your printable part inside a div with an id like this:</p>\n\n<pre><code>&lt;div id=\"printableArea\"&gt;\n      &lt;h1&gt;Print me&lt;/h1&gt;\n&lt;/div&gt;\n\n&lt;input type=\"button\" onclick=\"printDiv('printableArea')\" value=\"print a div!\" /&gt;\n</code></pre>\n\n<p>Now let's create a really simple javascript:</p>\n\n<pre><code>function printDiv(divName) {\n     var printContents = document.getElementById(divName).innerHTML;\n     var originalContents = document.body.innerHTML;\n\n     document.body.innerHTML = printContents;\n\n     window.print();\n\n     document.body.innerHTML = originalContents;\n}\n</code></pre>\n\n<p>SOURCE : <a href=\"http://stackoverflow.com/a/7532581/1223045\">SO Answer</a></p>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>If you add and remove the innerHTML, all javascript, css and more will be loaded twice, and the events will fire twice (happened to me), is better hide content, using jQuery and css like this:</p>\n\n<pre><code>function printDiv(selector) {\n    $('body .site-container').css({display:'none'});\n    var content = $(selector).clone();\n    $('body .site-container').before(content);\n    window.print();\n    $(selector).first().remove();\n    $('body .site-container').css({display:''});\n}\n</code></pre>\n\n<p>The div \"site-container\" contain all site, so you can call the function like:</p>\n\n<pre><code>printDiv('.someDiv');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>I Want See This</strong></p>\n\n<p>Example <a href=\"http://jsfiddle.net/35vAN/\" rel=\"nofollow\">http://jsfiddle.net/35vAN/</a></p>\n\n<pre><code>    &lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\" src=\"http://jqueryjs.googlecode.com/files/jquery-1.3.1.min.js\" &gt; &lt;/script&gt; \n&lt;script type=\"text/javascript\"&gt;\n\n    function PrintElem(elem)\n    {\n        Popup($(elem).html());\n    }\n\n    function Popup(data) \n    {\n        var mywindow = window.open('', 'my div', 'height=400,width=600');\n        mywindow.document.write('&lt;html&gt;&lt;head&gt;&lt;title&gt;my div&lt;/title&gt;');\n        /*optional stylesheet*/ //mywindow.document.write('&lt;link rel=\"stylesheet\" href=\"main.css\" type=\"text/css\" /&gt;');\n        mywindow.document.write('&lt;/head&gt;&lt;body &gt;');\n        mywindow.document.write(data);\n        mywindow.document.write('&lt;/body&gt;&lt;/html&gt;');\n\n        mywindow.print();\n        mywindow.close();\n\n        return true;\n    }\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div id=\"mydiv\"&gt;\n    This will be printed. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque a quam at nibh adipiscing interdum. Nulla vitae accumsan ante. \n&lt;/div&gt;\n\n&lt;div&gt;\n    This will not be printed.\n&lt;/div&gt;\n\n&lt;div id=\"anotherdiv\"&gt;\n    Nor will this.\n&lt;/div&gt;\n\n&lt;input type=\"button\" value=\"Print Div\" onclick=\"PrintElem('#mydiv')\" /&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I want to print some HTML content, when the user clicks on a button. Once the user clicks on that button, the print dialog of the browser will open, but it will not print the webpage. Instead, it will print the some other HTML content which is not displayed on the page.</p>\n\n<p>While asking this question, there are few solutions coming into my mind. But I am not sure whether those are good ideas or something better can be done. One of those solutions are:\nI can keep this HTML content in a div and make it <code>display:</code> to print, but <code>display: none</code> to screen. All other elements on the webpage can be made to <code>display: none</code> for print and <code>display:</code> for the screen. And then call to print.</p>\n\n<p>Any better idea?</p>\n",
            "last_activity_date": 1415119789,
            "question_id": 16894683,
            "score": 15,
            "tags": [
                "javascript",
                "html",
                "css",
                "printing"
            ],
            "title": "How to print HTML content on click of a button, but not the page?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I think it's more or less an unsolved problem:\n<a href=\"https://github.com/jashkenas/coffee-script/issues/2779\">https://github.com/jashkenas/coffee-script/issues/2779</a> . Last meanigingful comment was from jwalton, a month ago. </p>\n\n<p>Still, it doesn't seem rocket science to add support for it, so it will probably come soon.</p>\n\n<p>Michael Ficarra (creator of CoffeeScript Redux) suggested using <a href=\"https://github.com/michaelficarra/commonjs-everywhere\">https://github.com/michaelficarra/commonjs-everywhere</a> .</p>\n\n<p>Two caveats:</p>\n\n<ul>\n<li>It only works for bundling CommonJS modules.</li>\n<li>It uses CoffeeScript Redux, which is still in beta (although working quite well it seems), and not 100% compatible with original CoffeeScript compiler. </li>\n</ul>\n\n<p>So this does not work for what you ask for specifically, \"concatenation\".</p>\n\n<h3>Added April 14</h3>\n\n<p>You might have luck with these: <a href=\"https://github.com/thlorenz/combine-source-map\">combine-source-map</a>  and/or <a href=\"https://github.com/thlorenz/generate-sourcemap\">generate-sourcemap</a>, both by same author.</p>\n\n<h3>Added April 26</h3>\n\n<p>This looks really simple: <a href=\"https://npmjs.org/package/mapcat\">https://npmjs.org/package/mapcat</a> . You just have to feed it the individual source map files generated by the coffee compiler.</p>\n\n<h3>Added May 16</h3>\n\n<p><a href=\"http://stackoverflow.com/users/96806/mariusz-nowak\">Mariusz Nowak</a> has just released <a href=\"https://github.com/medikoo/webmake-coffee\">webmake-coffee</a>. Like CommonJS Everywhere, it requires code to be organized as CommonJS modules. Unlike CommonJS everywhere, it uses regular CoffeeScript.</p>\n\n<p>It also seems the <a href=\"https://github.com/gruntjs/grunt-contrib-coffee\">Grunt Coffee-Script plugin</a> has had source-map support for concatenated files for quite a while (two months), effectively proving my original answer to be incorrect.</p>\n\n<p>The upcoming version 2.0 of Snockets will have support for it too. </p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>I ended up going with browserify using coffeeify as the transform option, and enabling browserify's debug option. I bundle up the app on each request for my main.js file, and any runtime errors show up in my original source with pretty decent accuracy. </p>\n\n<p>Sure beats mapping runtime errors in the concatenated/compiled js back to the coffee source with my eyeballs!</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I have written a grunt task that does this flawless. <a href=\"https://github.com/tarruda/grunt-coffee-build\" rel=\"nofollow\">Check it out</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I needed to annotate AngularJS code before minification, but <code>grunt-ng-annotate</code> didn't accept input source maps, thus I would not be able to use maps generated by the CoffeeScript compiler.</p>\n\n<p>Apparently, with <a href=\"https://github.com/floridoo/gulp-sourcemaps\" rel=\"nofollow\">gulp-sourcemaps</a> this is not an issue:</p>\n\n<pre><code>var gulp = require('gulp');\nvar $ = require('gulp-load-plugins')(); // loading gulp plugins lazily\n                                       // remember to include them in the package.json\n\ngulp.task('appJS', function() {\n  // concatenate compiled .coffee files and js files into build/app.js\n  gulp.src(['./app/**/*.js','./app/**/*.coffee'])\n    .pipe($.sourcemaps.init())\n    .pipe($['if'](/[.]coffee$/, $.coffee({bare: true}).on('error', $.util.log)))\n    .pipe($.concat('app.js'))\n    .pipe($.ngAnnotate())\n    .pipe($.uglify())\n    .pipe($.sourcemaps.write())\n    .pipe(gulp.dest('./build'))\n});\n</code></pre>\n\n<p>The same approach works in other situations, too. In my case, this is the only approach that worked.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Has any one had any success with this?</p>\n",
            "last_activity_date": 1409878650,
            "question_id": 15964826,
            "score": 15,
            "tags": [
                "javascript",
                "compiler-construction",
                "coffeescript",
                "source-maps"
            ],
            "title": "Generating source maps for multiple concatenated javascript files compiled from Coffeescript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><code>cancelBubble</code> is an IE-only Boolean property (not method) that serves the same purpose as the <code>stopPropagation()</code> method of other browsers, which is to prevent the event from moving to its next target (known as \"bubbling\" when the event is travelling from inner to outer elements, which is the only way an event travels in IE &lt; 9). IE 9 now supports <code>stopPropagation()</code> so <code>cancelBubble</code> will eventually become obsolete. In the meantime, the following is a cross-browser function to stop an event propagating:</p>\n\n<pre><code>function stopPropagation(evt) {\n    if (typeof evt.stopPropagation != \"undefined\") {\n        evt.stopPropagation();\n    } else {\n        evt.cancelBubble = true;\n    }\n}\n</code></pre>\n\n<p>In an event handler function, you could use it as follows:</p>\n\n<pre><code>document.getElementById(\"foo\").onclick = function(evt) {\n    evt = evt || window.event; // For IE\n    stopPropagation(evt);\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>You should read <a href=\"http://www.quirksmode.org/js/events_order.html\">Event order</a> - it covers this topic in depth.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>For compatibility with IE8 and older use <code>.cancelBubble</code> if <code>.stopPropogation()</code> is undefined:</p>\n\n<pre><code>if(ev.stopPropagation)ev.stopPropagation();\nelse ev.cancelBubble=true; // where ev is an event object\n</code></pre>\n\n<p>Read about in MSDN: <a href=\"http://msdn.microsoft.com/en-us/library/ff975961%28v=vs.85%29.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/ff975961%28v=vs.85%29.aspx</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>Can anyone please tell me difference in usage of <code>cancelBubble</code> and <code>stopPropagation</code> methods used in javascript.</p>\n",
            "last_activity_date": 1380046822,
            "question_id": 7596364,
            "score": 15,
            "tags": [
                "javascript",
                "javascript-events"
            ],
            "title": "Whats the difference between cancelBubble and stopPropagation?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Here is the way:</p>\n\n<pre><code>map.fitBounds(bounds);\nmap.setCenter(bounds.getCenter());\n</code></pre>\n\n<p>bounds is an array of the coordinates (markers). Every time when you place marker do something like:</p>\n\n<pre><code>bounds.extend(currLatLng);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Computing the right zoom to show all your markers isn't trivial. But there's a function for that: <code>GMap.fitBounds()</code> - you define a bound (for example, the most extreme points of all your marker coordinates) and it sets the map accordingly. See e.g. <a href=\"http://stackoverflow.com/questions/2494756/fitbounds-in-google-maps-api-v3-does-not-fit-bounds\">http://stackoverflow.com/questions/2494756/fitbounds-in-google-maps-api-v3-does-not-fit-bounds</a> (the answer!) for a good example. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As the other answers suggested, the <a href=\"http://code.google.com/apis/maps/documentation/javascript/reference.html#Map\"><code>fitBounds()</code></a> method should do the trick.</p>\n\n<p>Consider the following example, which will generate 10 random points on the North East USA, and applies the <code>fitBounds()</code> method:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt; \n&lt;head&gt; \n   &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"/&gt; \n   &lt;title&gt;Google Maps LatLngBounds.extend() Demo&lt;/title&gt; \n   &lt;script src=\"http://maps.google.com/maps/api/js?sensor=false\" \n           type=\"text/javascript\"&gt;&lt;/script&gt; \n&lt;/head&gt; \n&lt;body&gt; \n   &lt;div id=\"map\" style=\"width: 400px; height: 300px;\"&gt;&lt;/div&gt; \n\n   &lt;script type=\"text/javascript\"&gt; \n\n   var map = new google.maps.Map(document.getElementById('map'), { \n     mapTypeId: google.maps.MapTypeId.TERRAIN\n   });\n\n   var markerBounds = new google.maps.LatLngBounds();\n\n   var randomPoint, i;\n\n   for (i = 0; i &lt; 10; i++) {\n     // Generate 10 random points within North East USA\n     randomPoint = new google.maps.LatLng( 39.00 + (Math.random() - 0.5) * 20, \n                                          -77.00 + (Math.random() - 0.5) * 20);\n\n     // Draw a marker for each random point\n     new google.maps.Marker({\n       position: randomPoint, \n       map: map\n     });\n\n     // Extend markerBounds with each random point.\n     markerBounds.extend(randomPoint);\n   }\n\n   // At the end markerBounds will be the smallest bounding box to contain\n   // our 10 random points\n\n   // Finally we can call the Map.fitBounds() method to set the map to fit\n   // our markerBounds\n   map.fitBounds(markerBounds);\n\n   &lt;/script&gt; \n&lt;/body&gt; \n&lt;/html&gt;\n</code></pre>\n\n<p>Refreshing this example many times, no marker ever goes outside the viewport:</p>\n\n<p><img src=\"http://i.stack.imgur.com/npt9Z.jpg\" alt=\"fitBounds demo\"></p>\n",
                    "is_accepted": true,
                    "score": 38
                }
            ],
            "body": "<p>I think the title is enough, I don't even see how to do this for the V2 and V1 API :/</p>\n\n<p>Thanks :)</p>\n",
            "last_activity_date": 1292945655,
            "question_id": 3520810,
            "score": 15,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3"
            ],
            "title": "Zoom and center a Google Map according to its markers (JavaScript API V3)"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<pre><code>function AXOrNull(progId) {\n  try {\n    return new ActiveXObject(progId);\n  }\n  catch (ex) {\n    return null;\n  }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>Solution, try to invoke a new ActiveXObject:</p>\n\n<pre><code>\nfunction testForActiveX(){\n    tester = null;\n    try {\n        tester = new ActiveXObject('htmlfile');\n    }\n     catch (e) {\n        // catch the exception\n    }\n    if (tester) {\n        // ActiveX is installed\n        return true;\n    }\n    return false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>Is there a way to test if an ActiveX control is installed using Javascript?</p>\n",
            "last_activity_date": 1384386869,
            "question_id": 2178897,
            "score": 15,
            "tags": [
                "javascript",
                "activex"
            ],
            "title": "Test if an ActiveX control is installed with Javascript?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The rising DOM nodes count is the main sign of a memory leak (usually in the code of our page).\nSo you need to fight against it. The standard technique is described in the answer to <a href=\"http://stackoverflow.com/questions/11969062/tool-to-track-down-javascript-memory-leak/12061206\">this question.</a></p>\n\n<p>The snapshot content has too many details. And this 3 snapshot schema helps you to filter out not interesting part of the snapshot and shows only the candidates for a leak.</p>\n\n<p>Please be sure that you are running the latest version of chrome, as example Chrome Canary.\nIt should be a fresh instance with single tab without extensions.\nIt would be nice to have no error messages in console, no breakpoints and do not stop on an exception because all these things may affect the page and as a result the snapshot content.</p>\n\n<p><a href=\"https://plus.google.com/u/0/115133653231679625609/posts/hEMupRLRJSF\" rel=\"nofollow\">This post</a> might be interesting for you too.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<blockquote>\n  <p>I assumed that once the event listeners were properly disposed of that the DOM Node Count would just manage itself, but this doesn't seem to be the case.</p>\n</blockquote>\n\n<p>If I got you right you are trying to dispose of the node by removing listeners from it, is that the case?</p>\n\n<p>Note that adding event listener to a DOM node doesn't prevent the node from being garbage collected, the dependency is in opposite direction: while the node is alive the listener function will not be collected.</p>\n\n<blockquote>\n  <ul>\n  <li>Is there a proper way to dispose of DOM Nodes so that they will be properly garbage collected, or is this DOM Node Count a running total that will never decrease?</li>\n  </ul>\n</blockquote>\n\n<p>To make sure a DOM node can be garbage collected you should </p>\n\n<ol>\n<li>Remove the node from the document tree.</li>\n<li>Clear all references from javascript to the node <strong>AND</strong> to all nodes in the same subtree as reference from javascript to one of the nodes in the subtree will hold whole subtree.</li>\n</ol>\n\n<p>So it is not enough to just remove listeners from a node to make it collectable. Moreover, it is <strong>not necessary</strong> to remove listeners from a node if you want the node to be collected.</p>\n\n<p>The DOM node count should be decreasing when some nodes are collected by GC and destroyed. The number indicates current amount of DOM nodes that have been created but not destroyed so it shouldn't grow indefinitely unless there is a memory leak.</p>\n\n<blockquote>\n  <ul>\n  <li>Is the DOM Node Count even a reliable figure?</li>\n  </ul>\n</blockquote>\n\n<p>Yes. It should be a reliable figure as it is incremented whenever a new DOM node is created and decremented when it is destroyed. So the implementation is quite straightforward to trust it.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>It's fixed! - UPGRADE BACKBONE. (continue reading)</p>\n\n<h2>We upgraded from Backbone 0.9.2 to Backbone 0.9.10 and implemented the listenTo and stopListening on every view/model/collection. The results are OMGFANTASTIC.</h2>\n\n<p>After 7 minutes of running the same stress-test, these are the results:\n<img src=\"http://i.stack.imgur.com/Y7lK1.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Results</strong>: 7.0 minutes, 6,926 DOM Nodes (Without the timeline recording) and the Event Listener Count looks like <strong>BLUE BLADES OF GRASS</strong>. I'm shocked. The memory usage is also amazingly low in comparison to previous tests.</p>\n\n<p><strong>After 18 Minutes</strong>: The event listener count is the same, never surpassing 154 and the DOM Node Count stays below 25,000 the entire time! There are obviously some things slipping by (some non-backbone components that are still in use, most-likely) but the improvement is astounding.</p>\n\n<p><strong>Conclusion</strong>: Prior to this version of Backbone, we were not doing a very good job cleaning up listeners within Backbone itself. The listeners to the DOM were handled fine, but not between models/views/collections. Many of the callbacks involved were tied to Backbone Views which I guess prevented the garbage collector from freeing up the DOM Nodes. Lots of straggling event listeners/callbacks within Backbone (not just binding to the DOM) create a lot of straggling DOM Nodes that can't be garbage collected.</p>\n\n<p>If this isn't a good enough reason to upgrade Backbone, I don't know what is ;o</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>i found another way to avoid jank</p>\n\n<pre><code>render: function() {\n  this.$el.empty();\n  var container = document.createDocumentFragment();\n  // render each subview, appending to our root element\n  _.each(this._views, function(subview) {\n     container.appendChild(subview.render().el)\n  });\n  this.$el.append(container);\n}\n</code></pre>\n\n<p>refer it here <a href=\"http://ozkatz.github.io/avoiding-common-backbonejs-pitfalls.html\" rel=\"nofollow\">http://ozkatz.github.io/avoiding-common-backbonejs-pitfalls.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p><strong>Situation</strong>: I'm working on a pretty decently complex single page Backbone app that could potentially be running for 8-12+ hours straight. Because of this, there's a need to ensure that the application won't leak and have a reputation for crashing after X hours or slow down dramatically.</p>\n\n<p><strong>The Application</strong>: The app is built on <a href=\"http://backbonejs.org/\">Backbone</a> (mv*), <a href=\"http://zeptojs.com/\">Zepto</a> (similar to jquery), <a href=\"https://github.com/cujojs/curl\">Curl</a> (amd loader) &amp; <a href=\"http://mustache.github.com/\">Mustache</a> (templating).</p>\n\n<p><strong>Problem</strong>: I've just conquered the event listeners. The garbage collector seems to be doing a fine job cleaning these guys up, <strong>but the DOM Node Count won't stop climbing.</strong></p>\n\n<p><strong>Questions</strong>: </p>\n\n<ul>\n<li>Is there a proper way to dispose of DOM Nodes so that they will be properly garbage collected, or is this DOM Node Count a running total that will never decrease? </li>\n<li>Does anybody know of any of these frameworks to poorly handle DOM Nodes? Possibly Mustache?</li>\n<li>Is the DOM Node Count even a reliable figure?</li>\n</ul>\n\n<p>I'm really just looking for a head start on my adventure to stop these DOM Nodes from rising. Any help or guidance would be greatly appreciated (and accordingly upvoted).</p>\n\n<p>I assumed that once the event listeners were properly disposed of that the DOM Node Count would just manage itself, but this doesn't seem to be the case.</p>\n\n<h2>Tests</h2>\n\n<hr>\n\n<p><img src=\"http://i.stack.imgur.com/zPJgp.png\" alt=\"Poorly Managed DOM Node Count\"></p>\n\n<ul>\n<li><strong>First Test</strong>: 6.8 minutes, 110,000 DOM Nodes</li>\n</ul>\n\n<hr>\n\n<p><strong>Edit</strong>: Without the Timeline recording, I reran the same script to randomly mash links and took a screenshot at around the 7 minute mark. After GC came through I had these results.</p>\n\n<p><img src=\"http://i.stack.imgur.com/l3uIQ.png\" alt=\"Poorly Managed DOM Node Count\"></p>\n\n<ul>\n<li><strong>Second Test</strong>: 7.1 minutes, 141,000 DOM Nodes (Without the timeline recording)</li>\n</ul>\n\n<hr>\n\n<p><strong>Edit: After Fix</strong>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/DsnLH.png\" alt=\"DOM Node Count under control\">\n<strong>After Upgrade Backbone and using listenTo and stopListening everywhere</strong></p>\n\n<ul>\n<li><strong>7 minutes</strong>: 6,926 DOM Nodes (see marked answer below).</li>\n<li><strong>20 minutes</strong>: 6,000 DOM Nodes, 20 Event Listeners, Memory 20 MB.</li>\n<li><strong>25 minutes</strong>: 11,600 DOM Nodes, 44 Listeners, Memory 21.7 MB.</li>\n<li><strong>28 minutes</strong>: 9,000 DOM Nodes, 22 Event Listeners, Memory 21.7 MB.</li>\n<li><strong>30 minutes</strong>: 13,700 DOM Nodes, 123 Event Listeners, Memory 21.7.</li>\n<li><strong>31 minutes</strong>: 7,040 DOM Nodes, 30 Listeners, Memory 21.7.</li>\n</ul>\n",
            "last_activity_date": 1390529985,
            "question_id": 15126334,
            "score": 14,
            "tags": [
                "javascript",
                "backbone.js",
                "google-chrome-devtools",
                "mustache",
                "zepto"
            ],
            "title": "Backbone.js Memory Management, Rising DOM Node Count"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><strong>Update</strong></p>\n\n<p>KitKat added a public method for invoking javascript directly: <a href=\"http://developer.android.com/reference/android/webkit/WebView.html#evaluateJavascript%28java.lang.String,%20android.webkit.ValueCallback%3Cjava.lang.String%3E%29\" rel=\"nofollow\">evaluateJavascript()</a> </p>\n\n<p>For older apis, you could try a solution like below, but if I had to do this again I'd look at just building an compatibility method that on KitKat uses the above method and on older devices, uses reflection to drill down to a inner private method: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.0.4_r2.1/android/webkit/BrowserFrame.java#BrowserFrame.stringByEvaluatingJavaScriptFromString%28java.lang.String%29\" rel=\"nofollow\">BrowserFrame.stringByEvaluatingJavaScriptFromString()</a> </p>\n\n<p>Then you could call javascript directly without having to deal with loadUrl and adding <code>\"javascript: \"</code> to the script.</p>\n\n<p><strong>Old Answer</strong></p>\n\n<p>As requested by Alok Kulkarni, I'll give a rough overview of a possible workaround I thought of for this. I haven't actually tried it but in theory it should work. This code is going to be rough and is just to serve as an example.</p>\n\n<p>Instead of sending the calls down through loadUrl(), you queue your javascript calls and then have javascript pull them down. Some thing like:</p>\n\n<pre><code>private final Object LOCK = new Object();\nprivate StringBuilder mPendingJS;\n\npublic void execJS(String js) {\n    synchronized(LOCK) {\n        if (mPendingJS == null) {\n            mPendingJS = new StringBuilder();\n            mPendingJS.append(\"javascript: \");\n        }\n        mPendingJS\n            .append(js)\n            .append(\"; \");\n    }\n}\n</code></pre>\n\n<p>Instead of calling loadUrl() call that method. (For making this simple I used a synchronized block, but this might be better suited to a different route. Since javascript runs on its own thread, this will need to be thread safe in some way or another).</p>\n\n<p>Then your WebView would have an interface like this:</p>\n\n<pre><code>public class JSInterface {\n\n    public String getPendingJS() {\n        synchronized(LOCK) {\n            String pendingCommands = mPendingJS.toString();\n            mPendingJS.setLength(0);\n            mPendingJS.append(\"javascript: \");\n            return pendingCommands;\n        }\n    }\n\n}\n</code></pre>\n\n<p>That returns a String with the pending commands and clears them so they don't get returned again.</p>\n\n<p>You would add it to the WebView like this:</p>\n\n<p><code>mWebView.addJavascriptInterface(new JSInterface(), \"JSInterface\");</code></p>\n\n<p>Then in your javascript you would set some interval in which to flush the pending commands. On each interval it would call <code>JSInterface.getPendingJS()</code> which would return a String of all of the pending commands and then you could execute them.</p>\n\n<p>You could further improve this by adding a check in the execJS method to see if a EditText field exists in the WebView and is in focus. If there is one, then you would use this queueing method, but if there wasn't one in focus then you could just call loadUrl() like normal. That way it only uses this workaround when it actually needs to.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>I found a workaround!  <a href=\"http://stackoverflow.com/a/18776064/513038\">http://stackoverflow.com/a/18776064/513038</a></p>\n\n<p>(Also, stackoverflow culture question: would this be better as a comment, rather than a separate answer?)</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Regarding older APIs (pre 19), I used a similar method to the excepted answer, but slightly different.  </p>\n\n<p>First, I keep track of if the keyboard is displayed by using javascript in the webview like:   </p>\n\n<pre><code>document.addEventListener( \"focus\", function(e){        \n            // Report Keyboard Displayed to Java\n    }, true);\n\ndocument.addEventListener( \"blur\", function(e){        \n            // Report Keyboard Not Displayed to Java\n    }, true);\n</code></pre>\n\n<p>if the keyboard is displayed, and a js injection is attempted by the Android Java layer \u2013 I \u201cdefer\u201d that injection.  I add it to a string list, allow the user to finish up their input, and then upon the keyboard disappearing, I detect that and execute the backlog of injections. </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Since the way you call javascript on a WebView is through loadUrl(\"javascript: ... \"); The keyboard cannot stay open.</p>\n\n<p>The <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.0.3_r1/android/webkit/WebView.java#WebView.loadUrl%28java.lang.String%29\">loadUrl()</a> method calls <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.0.3_r1/android/webkit/WebView.java#WebView.loadUrlImpl%28java.lang.String,java.util.Map%29\">loadUrlImpl()</a> , which calls a method called <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.0.3_r1/android/webkit/WebView.java#WebView.clearHelpers%28%29\">clearHelpers()</a> which then calls <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.0.3_r1/android/webkit/WebView.java#WebView.clearTextEntry%28%29\">clearTextEntry()</a>, which then calls <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.0.3_r1/android/webkit/WebView.java#WebView.hideSoftKeyboard%28%29\">hideSoftKeyboard()</a> and then we become oh so lonely as the keyboard goes away.</p>\n\n<p>As far as I can see all of those are private and cannot be overridden.</p>\n\n<p>Has anyone found a workaround for this? Is there a way to force the keyboard to stay open or to call the javascript directly without going through loadUrl()?</p>\n\n<p>Is there anyway to override the WebView in a way to prevent (the private method) clearTextEntry() from being called?</p>\n",
            "last_activity_date": 1426195138,
            "question_id": 9303836,
            "score": 14,
            "tags": [
                "javascript",
                "android",
                "keyboard",
                "webview",
                "android-softkeyboard"
            ],
            "title": "WebView hides soft keyboard during loadUrl(), which means a keyboard cannot stay open while calling javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You can use the jQuery Mobile navbar styling but use your own click-handler so instead of changing pages the click will just hide/show the proper content on the same page.</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div data-role=\"navbar\"&gt;\n    &lt;ul&gt;\n        &lt;li&gt;&lt;a href=\"#\" data-href=\"a\"&gt;One&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"#\" data-href=\"b\"&gt;Two&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;&lt;!-- /navbar --&gt;\n&lt;div class=\"content_div\"&gt;onLoad Content&lt;/div&gt;\n&lt;div id=\"a\" class=\"content_div\"&gt;Some 'A' Content&lt;/div&gt;\n&lt;div id=\"b\" class=\"content_div\"&gt;Some 'B' Content&lt;/div&gt;\n</code></pre>\n\n<p>JAVASCRIPT</p>\n\n<pre><code>$(document).delegate('[data-role=\"navbar\"] a', 'click', function () {\n    $(this).addClass('ui-btn-active');\n    $('.content_div').hide();\n    $('#' + $(this).attr('data-href')).show();\n    return false;//stop default behavior of link\n});\n</code></pre>\n\n<p>CSS</p>\n\n<pre><code>.content_div {\n    display: none;\n}\n.content_div:first-child {\n    display: block;\n}\n</code></pre>\n\n<p>Here is a jsfiddle of the above code: <a href=\"http://jsfiddle.net/3RJuX/\" rel=\"nofollow\">http://jsfiddle.net/3RJuX/</a></p>\n\n<p>NOTE:</p>\n\n<ul>\n<li>Each of the links in the navbar have a \"data-href\" attribute set to the id of the div (or whatever container you want to use) that will be displayed.</li>\n</ul>\n\n<p><strong>Update</strong></p>\n\n<p>After 1 year I came back to this answer and noticed that the delegated event handler selector can be optimized a bit to utilize a class rather than an attribute (which is a lot faster of a lookup):</p>\n\n<pre><code>$(document).delegate('.ui-navbar a', 'click', function () {\n    $(this).addClass('ui-btn-active');\n    $('.content_div').hide();\n    $('#' + $(this).attr('data-href')).show();\n});\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>This code can be made to be more modular by using relative selectors rather than absolute ones (like <code>$('.content_div')</code>, as this will select all matching elements in the DOM rather than just ones relative to the button clicked).</p>\n\n<pre><code>//same selector here\n$(document).delegate('.ui-navbar ul li &gt; a', 'click', function () {\n\n    //un-highlight and highlight only the buttons in the same navbar widget\n    $(this).closest('.ui-navbar').find('a').removeClass('ui-navbar-btn-active');\n\n    //this bit is the same, you could chain it off of the last call by using two `.end()`s\n    $(this).addClass('ui-navbar-btn-active');\n\n    //this starts the same but then only selects the sibling `.content_div` elements to hide rather than all in the DOM\n    $('#' + $(this).attr('data-href')).show().siblings('.content_div').hide();\n});\u200b\n</code></pre>\n\n<p>This allows you to nest tabs and/or have multiple sets of tabs on a pages or pseudo-pages.</p>\n\n<p>Some documentation for the \"relative selectors\" used:</p>\n\n<ul>\n<li><code>.closest()</code> : <a href=\"http://api.jquery.com/closest\" rel=\"nofollow\">http://api.jquery.com/closest</a></li>\n<li><code>.siblings()</code> : <a href=\"http://api.jquery.com/siblings\" rel=\"nofollow\">http://api.jquery.com/siblings</a></li>\n</ul>\n\n<p>Here was an example: <a href=\"http://jsfiddle.net/Cfbjv/25/\" rel=\"nofollow\">http://jsfiddle.net/Cfbjv/25/</a> (It's offline now)</p>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<p>UPDATE: Check out my jsfiddle at <a href=\"http://jsfiddle.net/ryanhaney/eLENj/\" rel=\"nofollow\">http://jsfiddle.net/ryanhaney/eLENj/</a></p>\n\n<p>I just spent some time figuring this out, so I thought I would answer this.  Note I am using multi-page single file, YMMV.</p>\n\n<pre><code>&lt;div data-role=\"footer\" data-position=\"fixed\"&gt;\n    &lt;div data-role=\"navbar\"&gt;\n        &lt;ul&gt;\n            &lt;li&gt;&lt;a href=\"#page-1\" data-role=\"tab\" data-icon=\"grid\"&gt;Page 1&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#page-2\" data-role=\"tab\" data-icon=\"grid\"&gt;Page 2&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#page-3\" data-role=\"tab\" data-icon=\"grid\"&gt;Page 3&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n$(\"div[data-role=page]\").bind(\"pagebeforeshow\", function () {\n    // prevents a jumping \"fixed\" navbar\n    $.mobile.silentScroll(0);\n});\n\n$(\"a[data-role=tab]\").each(function () {\n        // bind to click of each anchor\n        var anchor = $(this);\n        anchor.bind(\"click\", function () {\n            // change the page, optionally with transitions\n            // but DON'T navigate...\n            $.mobile.changePage(anchor.attr(\"href\"), {\n                transition: \"none\",\n                changeHash: false\n        });\n\n        // cancel the click event\n        return false;\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>@Mike Bartlett </p>\n\n<p>I struggled with this myself but after breaking Jasper's code down it looks like there is a slight nuance from his posted code and that on the jsfiddle page. </p>\n\n<p>Where he has posted </p>\n\n<pre><code>$(document).delegate('[data-role=\"navbar\"] a', 'click', function () {\n$(this).addClass('ui-btn-active');\n$('.content_div').hide();\n$('#' + $(this).attr('data-href')).show(); });\n</code></pre>\n\n<p>I found it useful to change the last line to simply call whatever content you set the \"data-href\" value to be in your navbar.</p>\n\n<pre><code>$('div[data-role=\"navbar\"] a').live('click', function () {\n    $(this).addClass('ui-btn-active');\n    $('div.content_div').hide();\n    $($(this).attr('data-href')).show();\n  });\n</code></pre>\n\n<p>my navbar html then reads</p>\n\n<pre><code>&lt;div data-role=\"navbar\"&gt;\n&lt;ul&gt;\n    &lt;li&gt;&lt;a href=\"#\" data-href=\"#a\"&gt;One&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"#\" data-href=\"#b\"&gt;Two&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p></p>\n\n<p>Which is pretty much the same as his but for some reason I got no \"error loading page\" message. Hope that helps...</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Please refers this below link for all kind of nav bar in jquery</p>\n\n<p><a href=\"http://jquerymobile.com/demos/1.0rc2/docs/toolbars/docs-navbar.html\" rel=\"nofollow\">http://jquerymobile.com/demos/1.0rc2/docs/toolbars/docs-navbar.html</a></p>\n\n<pre><code>&lt;div data-role=\"navbar\"&gt;\n   &lt;ul&gt;\n    &lt;li&gt;&lt;a href=\"a.html\" class=\"ui-btn-active\"&gt;One&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=\"b.html\"&gt;Two&lt;/a&gt;&lt;/li&gt;\n   &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>thanks</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I liked @Ryan-Haney's answer, but thought I'd add my own rough draft in, if anyone can find a more efficient way of doing this, then please add a comment..  thanks</p>\n\n<p>I did it this way because I have a bunch of \"include\" files that get loaded into the DOM at runtime, so I couldn't hard-code that the n-th tab is highlighted/active for each page like Ryan could.  I also do have the luxury of having only a single tabbar in my app.</p>\n\n<pre><code>$(document).delegate('.ui-navbar a', 'tap', function ()\n{\n  $('.ui-navbar').find('li').find('a').removeClass('ui-btn-active');\n  $('.ui-navbar').find('li:nth-child(' + ($(this).parent().index() + 1) + ')').find('a').addClass('ui-btn-active');\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to have a tab-navigation in my jQuery Mobile project. I know I can use the data-role 'navbar' but I only want to change the content below that navbar without swiping to a new page. So far I could only have several different pages with the same navbar linking to each other but that's not what I want.</p>\n\n<p>Can anyone help me?</p>\n\n<p>Thank you in advance</p>\n",
            "last_activity_date": 1424690035,
            "question_id": 6849019,
            "score": 14,
            "tags": [
                "javascript",
                "jquery",
                "tabs",
                "jquery-mobile",
                "navbar"
            ],
            "title": "jQuery Mobile Navigation Tabs"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>There is the possibility of a <code>background-image</code> but it's difficult to maintain, and doesn't react to font size changes, which makes it the less optimal choice IMO.</p>\n\n<p>A better way in my opionion would be:</p>\n\n<ul>\n<li><p>Put a <code>&lt;span&gt;$&lt;/span&gt;</code> next to the input (before it, actually).</p></li>\n<li><p>give it <code>position: relative; left: 20px</code>. </p></li>\n<li><p>The $ sign then moves into the input field. </p></li>\n<li><p>Then, give the input field <code>padding-left: 24px</code>. </p></li>\n<li><p>Voil\u00e1! The $ sign is in the input field, does not obscure anything, and cannot be removed.</p></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 28
                },
                {
                    "body": "<p>Is this as a visual effect only? If yes you could apply that with CSS as a background image on the input.</p>\n\n<p>Afterwards, on the server, you can do whatever you want with the value (e.g prepend it with $).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Expanding on Pekka's answer, I used this on my page, but I automated it a little bit with jQuery. So for this example, all of the input fields that I want to put a $ symbol in, I give them a class of \"cost\".</p>\n\n<h2>CSS:</h2>\n\n<pre><code>&lt;style type=&amp;quot;text/css&amp;quot; media=\"screen\"&gt;\n.cost{\n    position: relative;\n    left: 20px;\n}\ninput.cost{\n    padding-left: 24px;\n}\n&lt;/style&gt;\n</code></pre>\n\n<h2>jQuery:</h2>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){    \n    $(\"#lcce form input.cost\").wrap('&lt;div class=&amp;quot;cost\"&gt;');\n    $(\"#lcce form input.cost\").before('&lt;span class=\"cost\"&gt;&lt;/span&gt;');\n});\n&lt;/script/&gt;\n</code></pre>\n\n<p>This will place the span with a class of \"cost\" right before your input, and also wrap a div around both the input, and the span, so they are ensured to be on the same line.</p>\n\n<p>If you don't have jQuery, you can get it from: <a href=\"http://jquery.com\" rel=\"nofollow\">jQuery.com</a></p>\n\n<p>Now I've got a quick question - I noticed that with this styling, in IE6,7, and 8, the $ symbol is not lined up correctly. Does anybody out there have a fix for this?</p>\n\n<p>Thank you! </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I too have been looking at different solutions for this.  Using css to indent the text with padding and putting a background image in that position is your best bet.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I did it like this:</p>\n\n<pre><code>$('#price').keypress(function(event) {\nvar code = (event.keyCode ? event.keyCode : event.which);\nif ($(this).val().indexOf('$') === -1){\n    document.getElementById(\"price\").value = \"$\" + $(this).val();\n  } else {\n    document.getElementById(\"price\").value = $(this).val();\n  }  \n});\n</code></pre>\n\n<p>with <code>&lt;input type=\"text\" id=\"price\"&gt;</code>.</p>\n\n<p>User can remove the dollar sign manually though if he/she wants to.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am looking for a way to 'fix' a dollar symbol $ to a text input box eg <code>&lt;input type=\"text\" value=\"$\" /&gt;</code> but make it not possible for the default value to be removed, so that whatever the user inputs, there is always a $ symbol 'prepending' input.</p>\n\n<p>Cheers</p>\n",
            "last_activity_date": 1379124274,
            "question_id": 2218434,
            "score": 14,
            "tags": [
                "javascript",
                "text",
                "input",
                "user-input"
            ],
            "title": "Fix a character to text input box using javascript/jquery"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Well, I'm assuming you don't keep an explicit reference to it since that would force it to stay allocated. </p>\n\n<p>The simplest test I could think of is actually allocating a lot of promises and not resolving them:</p>\n\n<pre><code>var $q = angular.injector([\"ng\"]).get(\"$q\");\nsetInterval(function () {\n    for (var i = 0; i &lt; 100; i++) {\n        var $d = $q.defer();\n        $d.promise;\n    }\n}, 10);\n</code></pre>\n\n<p>And then watching the heap itself. As we can see in the Chrome profiling tools, this accumulates the needed memory to allocate a 100 promises and  then just \"stays there\" at less than 15 megabyes for the whole <a href=\"http://jsfiddle.net/xvvgK/\">JSFIddle page</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/bXdVe.png\" alt=\"enter image description here\"></p>\n\n<p>From the other side, if we look at the <a href=\"https://github.com/angular/angular.js/blob/master/src/ng/q.js\"><code>$q</code> source code</a></p>\n\n<p>We can see that there is no reference from a global point to any particular promise but only from a promise to its callbacks. The code is very readable and clear. Let's see what if you do however have a reference from the callback to the promise. </p>\n\n<pre><code>var $q = angular.injector([\"ng\"]).get(\"$q\");\nconsole.log($q);\nsetInterval(function () {\n    for (var i = 0; i &lt; 10; i++) {\n        var $d = $q.defer();\n        (function ($d) { // loop closure thing\n            $d.promise.then(function () {\n                console.log($d);\n            });\n        })($d);\n    }\n}, 10);\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/ansG3.png\" alt=\"enter image description here\"></p>\n\n<p>So after the initial allocation - it seems like it's able to handle that as well :)</p>\n\n<p>We can also see some interesting patterns of GC if we let his last example run for a few more minutes. We can see that it takes a while - but it's able to clean the callbacks.</p>\n\n<p><img src=\"http://i.stack.imgur.com/wFB96.png\" alt=\"enter image description here\"></p>\n\n<p>In short - at least in modern browsers - you don't have to worry about unresolved promises as long as you don't have external references to them</p>\n",
                    "is_accepted": true,
                    "score": 38
                }
            ],
            "body": "<p>I have promise. I created it to cancel an ajax request if I need. But since I don't need to cancel that ajax, I've never resolved it and AJAX completed successfully.</p>\n\n<p>A simplified sinippet:</p>\n\n<pre><code>var defer = $q.defer();\n$http({url: ..., timeout: defer.promise}).success(function(data) { // do something });\n// Never defer.resolve() because I don't need to cancel that ajax. What happens to this promise after request?\n</code></pre>\n\n<p>Do never resolved promises like that cause memory leaks? Do you have any advice about how to manage promise lifecycle?</p>\n",
            "last_activity_date": 1406986278,
            "question_id": 20068467,
            "score": 13,
            "tags": [
                "javascript",
                "angularjs",
                "memory-leaks",
                "promise",
                "angular-promise"
            ],
            "title": "Angular.js - Do never resolved promises cause memory leak?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<ol>\n<li><a href=\"http://winstonwolf.pl/css,europe.html\">http://winstonwolf.pl/css,europe.html</a></li>\n<li><a href=\"http://davidlynch.org/js/maphilight/docs/demo_world.html\">http://davidlynch.org/js/maphilight/docs/demo_world.html</a></li>\n<li><a href=\"http://davidlynch.org/js/maphilight/docs/demo_usa.html\">http://davidlynch.org/js/maphilight/docs/demo_usa.html</a></li>\n<li><a href=\"http://www.netzgesta.de/mapper/\">http://www.netzgesta.de/mapper/</a></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p><a href=\"http://raphaeljs.com/australia.html\" rel=\"nofollow\">http://raphaeljs.com/australia.html</a></p>\n\n<p><a href=\"https://developers.google.com/chart/interactive/docs/gallery/geomap\" rel=\"nofollow\">https://developers.google.com/chart/interactive/docs/gallery/geomap</a></p>\n\n<p>or better non flash, but svg</p>\n\n<p><a href=\"https://developers.google.com/chart/interactive/docs/gallery/geochart?hl=pl\" rel=\"nofollow\">https://developers.google.com/chart/interactive/docs/gallery/geochart?hl=pl</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<ol>\n<li><a href=\"http://jvectormap.com\" rel=\"nofollow\">http://jvectormap.com</a> - jVectorMap consists of two modules: maps converter written in Python and jQuery plug-in which renders maps and provides JavaScript API to control them.</li>\n<li><a href=\"http://www.ourplaces.pl\" rel=\"nofollow\">http://www.ourplaces.pl</a></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Anybody know any jQuery plugin or any such thing in javascript, <a href=\"http://www.mapisland.com/europe_map.php\">similar to this</a>? Which can be used to select location/countries in maps...?</p>\n\n<p>I would not prefer flash, but still, if there is any for free with some customizable options/effects, it would do.</p>\n",
            "last_activity_date": 1418371318,
            "question_id": 2007431,
            "score": 13,
            "tags": [
                "javascript",
                "flash",
                "jquery-plugins",
                "user-interface",
                "dhtml"
            ],
            "title": "Location/country clickable maps"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>This is a pattern I use <em>alot</em>, works generally very well on all things relating to mousemove. The mouseup event is binded when the user clicks mousedown, this forces it to fire when the user lets go of the mouse button, no matter how much it's moved.</p>\n\n<pre><code>$('#element').mousedown(function(e) {\n\n    // You can record the starting position with\n    var start_x = e.pageX;\n    var start_y = e.pageY;\n\n    $().mousemove(function(e) {\n        // And you can get the distance moved by\n        var offset_x = e.pageX - start_x;\n        var offset_y = e.pageY - start_y;\n\n        return false;\n    });\n\n    $().one('mouseup', function() {\n        alert(\"This will show after mousemove and mouse released.\");\n        $().unbind();\n    });\n\n    // Using return false prevents browser's default,\n    // often unwanted mousemove actions (drag &amp; drop)\n    return false;\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>As of JQuery 1.4 you need to substitute $('document') for $().  In fact, I'm using this to make a menu inside a JQuery UI Dialog, which seems to trap mousemove events.  So I simply substitute my container div for $() (which looks something like $('#myContainerDiv')).  This seems to work fine too.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Don't forget to namespace your events otherwise all event handlers will be unbound:</p>\n\n<pre><code>$('#element').bind('mousedown.namespace', function(e) {\n    $(document).one('mouseup', function() {\n        callback_func();\n        $(document).unbind('mousedown.namespace');\n    });\n });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I've found that when I set my text as unselectable using the below CSS, the <code>mouseup</code> event is inhibited as well -- perhaps this will help someone else.</p>\n\n<pre><code>-moz-user-select: none;\n-khtml-user-select: none;\nuser-select: none;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I was having a similar issue with KineticJS objects. Using kinetic's <code>dragend</code> instead of <code>mouseup</code> solved the problem.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>It seems that mouseup events are only fired when they are not in conjunction with a mousemove.  In other words, push down on the left mouse button and let go, and mouseup is fired.  But if you drag across the image and then let go, no mouseup is fired.  Here is an example that shows this behavior:</p>\n\n<pre><code>&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;div id=\"Out\"&gt;\n    &lt;img id=\"Img\" src=\"http://sstatic.net/so/img/logo.png\" width=500&gt;\n&lt;/div&gt;\n&lt;script language=JavaScript&gt;\n    $(function() {\n        $(document).bind(\"mouseup\",function() {alert(\"UP\");});\n        //$(\"#Out\").bind(\"mouseup\",function() {alert(\"UP\");});\n        //$(\"#Img\").bind(\"mouseup\",function() {alert(\"UP\");});\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>If you load this, and click and let go, \"UP\" will alert.  However, if you drag and then let go, no UP is fired.</p>\n\n<p>How can I have mouseup fire when mousemove is completed, or how can I inspect the mousemove event to determine that the left mouse button is now off?</p>\n",
            "last_activity_date": 1388680588,
            "question_id": 1909760,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "javascript-events"
            ],
            "title": "How to get mouseup to fire once mousemove complete"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<pre><code>function to_ul (obj) {\n  // --------v create an &lt;ul&gt; element\n  var f, li, ul = document.createElement (\"ul\");\n  // --v loop through its children\n  for (f = 0; f &lt; obj.folder.length; f++) {\n    li = document.createElement (\"li\");\n    li.appendChild (document.createTextNode (obj.folder[f].title));\n    // if the child has a 'folder' prop on its own, call me again\n    if (obj.folder[f].folder) {\n      li.appendChild (to_ul (obj.folder[f].folder));\n    }\n    ul.appendChild (li);\n  }\n  return ul;\n}\n</code></pre>\n\n<p>Caveat: No error checking! If a 'title' or 'folder' is missing, the whole thing could blow up.</p>\n\n<p>Cheers,</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>@Boldewyn: I believe you can also use a For...In loop instead of a regular For loop to shorten the code a bit. Of course, I don't have much experience using this kind of loop, so please check my code snippet. </p>\n\n<pre><code>for (var i in obj.folder) {\n    li = document.createElement (\"li\");\n    li.appendChild (document.createTextNode (i.title));\n    // if the child has a 'folder' prop on its own, call me again\n    if (i.folder) {\n      li.appendChild (to_ul (i.folder));\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had a problem getting my browser to accept the data structure submitted by the OP, but here is a fully working example I've drawn up for my own, similar purposes.  Beside the function I provide the data structure as well, with name/branches instead of title/folder.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script&gt;\nfunction to_ul(branches) {\n    var ul = document.createElement(\"ul\");\n\n  for (var i=0, n=branches.length; i&lt;n; i++) {\n      var branch = branches[i];\n      var li = document.createElement(\"li\");\n\n        var text = document.createTextNode(branch.name);\n        li.appendChild(text);\n\n        if (branch.branches) {\n             li.appendChild(to_ul(branch.branches));\n        }\n\n        ul.appendChild(li);\n    }\n\n    return ul;\n}\n\nfunction renderTree() {\n  var treeEl = document.getElementById(\"tree\");\n\n    var treeObj = {\"root\": [{\n        \"name\": \"George &amp; Sarah Trede\",\n        \"branches\": [{\n          \"name\": \"George &amp; Frances Trede\",\n            \"branches\" : [{\n              \"name\": \"Mary (Trede) Jempty\"\n            },{\n              \"name\": \"Carol (Trede) Moeller\"\n            }]\n        },{\n          \"name\": \"Mary (Trede) Sheehan\"\n        },{\n          \"name\": \"Ward Trede\"\n        }]\n  }]};\n\n    treeEl.appendChild(to_ul(treeObj.root));\n}\n&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body onload=\"renderTree()\"&gt;\n&lt;div id=\"tree\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I've used <a href=\"http://beebole.com/pure/\" rel=\"nofollow\">PURE</a> with some success in the past for this kind of thing. </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Check out the jquery plugin JSON2HTML, it's a little simpler to use than PURE and I've used it on a couple of site's I've created.</p>\n\n<p><a href=\"http://json2html.com\" rel=\"nofollow\">http://json2html.com</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>function to_li(obj, name) {\n    var li = document.createElement(\"li\");\n    if (typeof(name) != \"undefined\") {\n        var strong = document.createElement(\"strong\");\n        strong.appendChild(document.createTextNode(name + \": \"));\n        li.appendChild(strong);\n    }\n    if (typeof(obj) != \"object\"){\n        li.appendChild(document.createTextNode(obj));\n    } else {\n        var ul = document.createElement (\"ul\");\n        for (var prop in obj){\n            ul.appendChild(to_li(obj[prop],prop));\n        }\n        li.appendChild(ul);\n    }\n    return li;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I would like to generate an HTML tree (preferably UL-LI) from the JSON example below. Does anyone have a <strong>simple</strong>, recursive JS function (not a framework) that can handle this specific structure? Thanks for your help!</p>\n\n<pre><code>{ \"folder\" : [ {\n    \"title\" : \"1\",\n    \"folder\" : [ {\n    \t\"title\" : \"1.1\",\n    \t\"folder\" : [ {\n    \t\t\"title\" : \"1.1.1\",\n    \t} , {\n    \t\t\"title\" : \"1.1.2\",\n    \t} ]\n    } ]\n} , {\n    \"title\" : \"2\",\n} ] }\n</code></pre>\n",
            "last_activity_date": 1397672545,
            "question_id": 1082928,
            "score": 13,
            "tags": [
                "javascript",
                "json"
            ],
            "title": "Convert JSON to HTML Tree"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Take a closer look at what Facebook is doing: you get a prompt if you click a link <em>on the page</em>, but nothing when entering a new URL in the address bar, clicking a bookmark, or navigating Back in your browser's history.</p>\n\n<p>If that works for you, it's easy enough to do: simply add a <code>click</code> event handler to every link on the page, and trigger your stylized confirmation from it. Since these handlers will get called prior to the <em>start</em> of any navigation events triggered from within the page itself, you can pretty much do whatever you want in the handler - save data, cancel the event entirely, record the intended destination and postpone it 'till after they confirm...</p>\n\n<p>However, if you do need or want to respond to navigation events triggered externally, you'll have to use <code>onbeforeunload</code>. And yes, the dialog is crappy, and you can't cancel the event - that's the price we pay for all the scandalous idiots abusing such features back in the '90s. Sorry...</p>\n",
                    "is_accepted": true,
                    "score": 25
                },
                {
                    "body": "<p>The selected answer is good but I still had to dig around for the details.  If you want to use the onbeforeunload event, here's some sample code:</p>\n\n<pre><code>&lt;script&gt;\nwindow.onbeforeunload= function() { return \"Custom message here\"; };\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>to improve on the answers of the others here I developed a great little script.</p>\n\n<pre><code>    $('.measurement_value').change(function() {\n        $(window).bind('beforeunload', function(){\n            return 'You have unsaved changes, are you sure you want to leave?';\n        });\n\n        $('#MeasurementAdminEditForm').submit(function(){\n            $(window).unbind('beforeunload');\n        });\n        $('#CancelButton').click(function(){\n            $(window).unbind('beforeunload');\n        });\n    });\n</code></pre>\n\n<p>On each of my form elements I give a class of 'measurement_value' and then only load the beforeunload if one of those elements change.  Furthermore I unload the beforeunload on submit of my form and on the click of the cancel button.</p>\n\n<p>hope this helps someone else.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I need to prompt a user to save their work when they leave a page. I've tried onbeforeunload but I need to show a styled prompt not the usual dialog box. Facebook has managed to achieve this (if you have a Facebook account, edit your profile info and go to another page without saving and you get a styled prompt). I've also tried jquery unload but there doesn't seem to be a way to stop the unload event from propagating. </p>\n",
            "last_activity_date": 1386716858,
            "question_id": 765996,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "Prompting user to save when they leave a page"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can use the redirection method as follow for this case (by detecting the user agent being chrome ios):</p>\n\n<pre><code>https://www.facebook.com/dialog/oauth?client_id={app-id}&amp;redirect_uri={redirect-uri}\n</code></pre>\n\n<p>See more info here <a href=\"https://developers.facebook.com/docs/facebook-login/login-flow-for-web-no-jssdk/\">https://developers.facebook.com/docs/facebook-login/login-flow-for-web-no-jssdk/</a></p>\n\n<p><em>Remark: I personnaly use the server OAuth in that case but this should do the trick and is quite simple</em></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>This is how I did it (fixing iOS chrome specifically)</p>\n\n<pre><code>// fix iOS Chrome\nif( navigator.userAgent.match('CriOS') )\n    window.open('https://www.facebook.com/dialog/oauth?client_id='+appID+'&amp;redirect_uri='+ document.location.href +'&amp;scope=email,public_profile', '', null);\nelse\n    FB.login(null, {scope: 'email,public_profile'});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This is working solution. Check video <a href=\"https://www.youtube.com/watch?v=i0zdxVaK59g\" rel=\"nofollow\">https://www.youtube.com/watch?v=i0zdxVaK59g</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is a complete workaround for your <a href=\"http://seanshadmand.com/2015/03/06/facebook-js-login-on-chrome-ios-workaround/\" rel=\"nofollow\">FB JS Auth on Chrome iOS issue</a> <a href=\"http://seanshadmand.com/2015/03/06/facebook-js-login-on-chrome-ios-workaround/\" rel=\"nofollow\">http://seanshadmand.com/2015/03/06/facebook-js-login-on-chrome-ios-workaround/</a></p>\n\n<p>JS functions to check auth, open FB auth page manually and refresh auth tokens on original page once complete:</p>\n\n<pre><code>function openFBLoginDialogManually(){\n  // Open your auth window containing FB auth page \n  // with forward URL to your Opened Window handler page (below)\n\n  var redirect_uri = \"&amp;redirect_uri=\" + ABSOLUTE_URI + \"fbjscomplete\";\n  var scope = \"&amp;scope=public_profile,email,user_friends\";\n  var url = \"https://www.facebook.com/dialog/oauth?client_id=\" + FB_ID + redirect_uri + scope;\n\n  // notice the lack of other param in window.open\n  // for some reason the opener is set to null\n  // and the opened window can NOT reference it\n  // if params are passed. #Chrome iOS Bug\n  window.open(url);\n\n}\n\nfunction fbCompleteLogin(){\n\n  FB.getLoginStatus(function(response) {\n    // Calling this with the extra setting \"true\" forces\n    // a non-cached request and updates the FB cache.\n    // Since the auth login elsewhere validated the user\n    // this update will now asyncronously mark the user as authed\n  }, true);\n\n}\n\nfunction requireLogin(callback){\n\n    FB.getLoginStatus(function(response) {\n        if (response.status != \"connected\"){\n            showLogin();\n        }else{\n            checkAuth(response.authResponse.accessToken, response.authResponse.userID, function(success){\n              // Check FB tokens against your API to make sure user is valid\n            });\n        }\n    });\n\n}\n</code></pre>\n\n<p>And the Opener Handler that FB auth forwards to and calls a refresh to the main page. Note the window.open in Chrome iOS has bugs too so call it correctly as noted above:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction handleAuth(){\n    // once the window is open \n    window.opener.fbCompleteLogin();\n    window.close();    \n}\n&lt;/script&gt;\n&lt;body onload=\"handleAuth();\"&gt;\n    &lt;p&gt;. . . &lt;/p&gt;\n&lt;/body&gt;\n&lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The Facebook OAuth popup is throwing an error in Chrome on iOS only. Both developers.facebook.com and google have turned up nothing about this. Ideas?</p>\n\n<p><img src=\"http://i.stack.imgur.com/JH8Un.png\" alt=\"screenshot of facebook oath popup on mobile chrome on ios\"></p>\n",
            "last_activity_date": 1425604043,
            "question_id": 16843116,
            "score": 12,
            "tags": [
                "javascript",
                "iphone",
                "ios",
                "facebook"
            ],
            "title": "Facebook OAuth &quot;Unsupported&quot; in Chrome on iOS"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You can overlay a big, semi-transparent <code>&lt;div&gt;</code> that takes all the clicks. Just append a new <code>&lt;div&gt;</code> to <code>&lt;body&gt;</code> with this style:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>.overlay {\n    background-color: rgba(1, 1, 1, 0.7);\n    bottom: 0;\n    left: 0;\n    position: fixed;\n    right: 0;\n    top: 0;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>something like:</p>\n\n<pre><code>    $('#doc').click(function(e){\n       e.preventDefault()\n       e.stopImmediatePropagation() //charles ma is right about that, but stopPropagation isn't also needed\n});\n</code></pre>\n\n<p>should do the job\nyou could also bind more mouse events with replacing for:\n<strong>edit</strong>:\nadd this in the feezing part</p>\n\n<pre><code>    $('#doc').bind('click mousedown dblclick',function(e){\n       e.preventDefault()\n       e.stopImmediatePropagation()\n});\n</code></pre>\n\n<p>and this in the unfreezing:</p>\n\n<pre><code>  $('#doc').unbind();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>To disable all mouse click</p>\n\n<pre><code>var event = $(document).click(function(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    e.stopImmediatePropagation();\n    return false;\n});\n\n// disable right click\n$(document).bind('contextmenu', function(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    e.stopImmediatePropagation();\n    return false;\n});\n</code></pre>\n\n<p>to enable it again:</p>\n\n<pre><code>$(document).unbind('click');\n$(document).unbind('contextmenu');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>The easiest way to freeze the UI would be to make the AJAX call synchronous.</p>\n\n<p>Usually synchronous AJAX calls defeat the purpose of using AJAX because it freezes the UI, but if you <em>want</em> to prevent the user from interacting with the UI, then do it.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can add a simple css3 rule in the body or in specific div, use \"pointer-events: none;\" property.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>After the user clicks on....\"log in\" button, and other events, I made a loading script -to let users know they have to wait (Until ajax replies back).</p>\n\n<p><strong>How can I COMPLETE disable ANY mouse clicks (right click, left click, double click, middle click, x click)</strong>, on <code>div id=\"doc\"</code>?\n<br />\n-I want to add that code to loading.js</p>\n\n<p><br /><br />\n<strong>HTML</strong></p>\n\n<pre><code>&lt;html&gt;\n...\n&lt;body&gt;\n&lt;div id=\"doc\"&gt;\n   &lt;div id=\"content\"&gt;\n   ...\n   &lt;input type=\"button\" value=\"Login\" id=\"login\" /&gt;\n   ...\n   &lt;/div id=\"content\"&gt;\n&lt;/div id=\"doc\"&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><br /><br />\n<strong>loading.js</strong></p>\n\n<pre><code>function load_bar(x)\n{\n    if (x==0)\n    {\n    $(document.body).css( {\"cursor\": \"default\"} );\n    $(\"body\").css( {\"cursor\": \"default\"} );\n    $(\"#loading\").css(\"visibility\", \"hidden\");\n//  $(\"#doc\").....ENABLE all clicks (left/right/etc)\n    }\n\n    else if (x==1)\n    {\n    $(document.body).css( {\"cursor\": \"wait\"} );\n    $(\"body\").css( {\"cursor\": \"wait\"} );\n    $(\"#loading\").css( {\"visibility\": \"visible\"} );\n//  $(\"#doc\").....DISABLE all clicks (left/right/etc)\n    }\n\n    else\n    {\n    return alert(\"Wrong argument!\");\n    }\n}\n</code></pre>\n\n<p><br /><br />\n<strong>jQuery</strong></p>\n\n<pre><code>$(document).ready(function()\n{\n//AJAX\n$(\"#login\").click(function()\n{\n    load_bar(1); //DISABLE clicks and show load_bar\n    $(\":input\").attr(\"disabled\", true);\n\n\n$.post( \n    ...\n    function(data)\n    {\n    ...\n    load_bar(0); //ENABLE clicks and hide load_bar\n    ...\n    } //END: if:else\n}); //END:$.post\n    ...\n}); //END:ajax\n}); //END:jQuery\n</code></pre>\n",
            "last_activity_date": 1409672735,
            "question_id": 8595909,
            "score": 12,
            "tags": [
                "javascript",
                "jquery",
                "onclick",
                "mouseevent"
            ],
            "title": "How to completley disable any MOUSE CLICK"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>There is a <a href=\"http://popcornjs.org\">Popcorn.js</a> plugin called <a href=\"https://github.com/rwldrn/popcorn.capture\">Popcorn.capture</a> which will allow you to create posters from any frame of your HTML5 video. </p>\n\n<p>There is a limitation that is imposed by the browser that prohibits reading pixel data of resources requested across domains (using the canvas API to record the current value of a frame). The source video must be hosted on the same domain as the script and html page that is requesting it for this approach to work.</p>\n\n<p>The code to create poster using this plugin is quite simple:</p>\n\n<pre><code>// This block of code must be run _after_ the DOM is ready\n// This will capture the frame at the 10th second and create a poster\nvar video = Popcorn( \"#video-id\" );\n\n// Once the video has loaded into memory, we can capture the poster\nvideo.listen( \"canplayall\", function() {\n\n  this.currentTime( 10 ).capture();\n\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I'm wondering if there's any straightforward way to achieve this effect, without needing backend code to extract a frame, save it as a jpg and database it somewhere.</p>\n\n<p>An effect whereby the first frame of the video just shows up as the poster when the video loads would be so helpful (it would only work if the browser can play back the video obviously, which might be a little different from how <code>poster</code> traditionally works, but that is not a concern.</p>\n",
            "last_activity_date": 1363076725,
            "question_id": 7323053,
            "score": 12,
            "tags": [
                "javascript",
                "html5",
                "html5-video",
                "poster"
            ],
            "title": "Dynamically using the first frame as poster in HTML5 video?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Here is the code I use to create a \"sticky\" sidebar. You'll need to modify the IDs to suit your markup.</p>\n\n<pre>\nvar sidebarScrollTop = 0;\n\n$(document).ready(function() {\n    sidebarScrollTop = $(\"#sidebar\").offset();\n\n    $(window).scroll(function () { \n        var docScrollTop = $('body,html').scrollTop();\n\n        if(docScrollTop > sidebarScrollTop.top) {\n            $(\"#sidebar\").css({ position: 'fixed', top: '0px' });\n        } else {\n            $(\"#sidebar\").css({ position: 'static' });\n        }\n    });\n});\n\n$(window).resize(function() {\n    sidebarScrollTop = $(\"#sidebar\").offset().top;\n});\n\n$(document).resize(function() {\n    sidebarScrollTop = $(\"#sidebar\").offset().top;\n});\n</pre>\n\n<p>Basically, all you need to do is change the <code>#sidebar</code> for the ID of the sidebar container. This code will see if the sidebar element is scrolled past the top of the screen. If it is, it changes it's position to <code>fixed</code>, and when it returns to being on the page again, the position is returned to <code>static</code> (default).</p>\n\n<p>The <code>$(document).resize()</code> and <code>$(window).resize()</code> functions will make sure the sidebar stays stick at the top of the page when the document/window is resized respectively. The document function will ensure the sidebar works properly even if you have jQuery animations changing the size of elements.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Thanks to everyone for being so quick to help</p>\n\n<p>this is what i wanted</p>\n\n<pre><code>$(document).ready(function() {\n    var theLoc = $('ul').position().top;\n    $(window).scroll(function() {\n        if(theLoc &gt;= $(window).scrollTop()) {\n            if($('ul').hasClass('fixed')) {\n                $('ul').removeClass('fixed');\n            }\n        } else { \n            if(!$('ul').hasClass('fixed')) {\n                $('ul').addClass('fixed');\n            }\n        }\n    });\n});\n</code></pre>\n\n<p>i got it from</p>\n\n<p><a href=\"http://www.defringe.com/\">http://www.defringe.com/</a></p>\n\n<p><a href=\"http://satbulsara.com/tests/\">http://satbulsara.com/tests/</a></p>\n\n<p>Thankss!!!!!</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>I wrote <a href=\"https://github.com/cheald/floatingFixed/blob/master/jquery.floatingFixed.js\" rel=\"nofollow\">this jQuery plugin</a> to do just that.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I am messing around with some jquery trying to get to grips with it.</p>\n\n<p>I have a ul nav which has a absolute position set but after I scroll the page down by 200 pixels i would like that to switch to position fixed so that the nav always stays on the page.</p>\n\n<p>How would I do this?</p>\n\n<p>below is the example I am working on</p>\n\n<p><a href=\"http://satbulsara.com/tests/\">http://satbulsara.com/tests/</a></p>\n",
            "last_activity_date": 1392936496,
            "question_id": 4907872,
            "score": 12,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "changing an elements css position after scrolling down the page"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>\"Loading, and immediately playing and pausing the player would be not my favorite method.\"</p>\n\n<p>I don't think there is any other method. </p>\n\n<p>In my case it works well, even for a satellite internet user.</p>\n\n<p>Here is my code :</p>\n\n<pre><code>// I set youtube player-ready event to a variable for irrelevant reasons\nfunction onYouTubePlayerReady(playerid) { \n    youtube_player_ready;\n}\nyoutube_player_ready = function(playerid) {\n\n    // load video\n    document.getElementById(playerid).cueVideoById(yt_video_id);\n    // mute video\n    document.getElementById(playerid).mute();\n    // play video to get meta data\n    document.getElementById(playerid).playVideo();\n\n    yt_get_duration[index] = function(){\n        // if duration is available\n        if (document.getElementById(playerid).getDuration() &gt; 0) {\n            // pause video\n            document.getElementById(playerid).pauseVideo();\n            // unmute\n            document.getElementById(playerid).unMute();\n            // save duration\n            video_duration = document.getElementById(playerid).getDuration();\n\n        }\n        // else keep trying\n        else {\n            setTimeout(yt_get_duration[index], 150)\n        }\n    }\n    // get duration\n    yt_get_duration[index]();\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<h1>Solution 1</h1>\n\n<p>You can use YouTube Data API to access most of the information about the video, including duration:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function youtubeFeedCallback(json){\n        document.write(json[\"data\"][\"duration\"] + \" second(s)\");\n    }\n&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"http://gdata.youtube.com/feeds/api/videos/4TSJhIZmL0A?v=2&amp;alt=jsonc&amp;callback=youtubeFeedCallback&amp;prettyprint=true\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/salman/4QPVG/\">Demo here</a></p>\n\n<p>When using jQuery you can use <code>$.getJSON()</code> to make things easier.</p>\n\n<h1>Solution 2</h1>\n\n<p>Seems like YouTube JavaScript API v3 allows you to get the <em>correct</em> duration inside the <code>onYouTubePlayerReady()</code> event. All you need to do is pass <code>&amp;version=3</code> when calling <code>swfobject.embedSWF()</code> method.</p>\n\n<p><a href=\"http://jsfiddle.net/salman/CS7sY/\">Demo here</a></p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>Using jQuery</p>\n\n<pre><code>var youTubeURL = 'http://gdata.youtube.com/feeds/api/videos/oHg5SJYRHA0?v=2&amp;alt=json';\nvar json = (function () {\n    $.ajax({\n        'async': false,\n        'global': false,\n        'url': youTubeURL,\n        'dataType': \"jsonp\", // necessary for IE9\n        crossDomain: true,\n        'success': function (data) {\n            var duration = data.entry.media$group.yt$duration.seconds;\n        }\n    });\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here one that converts the time over for you.</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\nfunction youtubeFeedCallback(json){\n\nvar totalSec = json[\"data\"][\"duration\"];\nvar hours = parseInt( totalSec / 3600 ) % 24;\nvar minutes = parseInt( totalSec / 60 ) % 60;\nvar seconds = totalSec % 60;\n\nvar result = (hours &lt; 1 ? \"\" : hours + \":\") + (minutes &lt; 1 ? \"0\" : minutes) + \":\" + (seconds  &lt; 10 ? \"0\" + seconds : seconds);\n\ndocument.write(result);\n}\n&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"http://gdata.youtube.com/feeds/api/videos/LzPWWpKlvqQ?v=2&amp;alt=jsonc&amp;callback=youtubeFeedCallback&amp;prettyprint=true\"&gt;&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm not able to get the correct video duration/length (in seconds) of a loaded/cued video via the getDuration() method of the YouTube Player API; the same method, however, returns a valid value once the video starts playing! Wondering how YouTube is able to show the valid duration of a loaded/cued video.</p>\n\n<p>When I load this HTML page with a 15 second video clip, I get the following debug output:</p>\n\n<p><strong>state = 5 duration = -0.000025</strong> </p>\n\n<p>When I hit the Play button, I get the following debug output:</p>\n\n<p><strong>state = 3 duration = 15,</strong></p>\n\n<p>Would greatly appreciate a solution or a workaround. Loading, and immediately playing and pausing the player would be not my favorite method.</p>\n\n<p>Many thanks in advance,\n/SD</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n  &lt;script type=\"text/javascript\"&gt;\n   var videoId;\n   videoId = 'http://www.youtube.com/v/4TSJhIZmL0A';    // bbc\n   // videoId = 'http://www.youtube.com/v/ezwyHNs_W_A'; // physics\n\n    function $(id) {\n      return document.getElementById(id);\n    }\n  &lt;/script&gt;\n\n  &lt;script src=\"http://www.google.com/jsapi\"&gt;&lt;/script&gt;\n  &lt;script&gt;\n    google.load(\"swfobject\", \"2.1\");\n  &lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n\n  &lt;table&gt;\n    &lt;tr&gt;&lt;td&gt;\n      &lt;div id=\"player\"&gt;\n        You need Flash player 8+ and JavaScript enabled to view this video.\n      &lt;/div&gt;\n\n    &lt;script&gt;\n        var ytplayer;\n\n        function myOnPlayerStateChange(state) {\n          switch(state) {\n            case 1:  // playing\n              $(\"out\").innerHTML += \" playing\";\n              break;\n            case 2:  // paused\n              $(\"out\").innerHTML += \" paused\";\n              break;\n            case 0:  // ended\n              $(\"out\").innerHTML += \" ended\";\n              break;      \n\n            case -1: // unstarted\n            case 3:  // buffering\n            case 5:  // cued\n              $(\"out\").innerHTML += \" state = \" + state;\n              break;\n            default: // unknown\n              $(\"out\").innerHTML += \" state = \" + state;\n              break;\n          }\n\n          $(\"out\").innerHTML += \" duration = \" + ytplayer.getDuration() + \",\";\n        }\n\n        function myOnPlayerError(errorCode) {\n          $(\"out\").innerHTML += \" Error occurred: \" + errorCode;\n        }\n\n        function onYouTubePlayerReady(playerId) {\n          ytplayer = ytplayer || $(playerId);\n          ytplayer.addEventListener(\"onStateChange\", \"myOnPlayerStateChange\");\n          ytplayer.addEventListener(\"onError\", \"myOnPlayerError\");\n        }\n\n        var params = { allowScriptAccess: \"always\", bgcolor: \"#cccccc\" };\n        var atts = { };\n\n        swfobject.embedSWF(videoId + \"?border=0&amp;amp;enablejsapi=1&amp;amp;playerapiid=\" + 'player', 'player', 425, 344, \"8\", null, null, params, atts);\n    &lt;/script&gt;\n    &lt;/td&gt;&lt;/tr&gt;\n  &lt;/table&gt;\n  &lt;div id=\"out\"&gt;&lt;/div&gt;\n  &lt;div id=\"err\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1414063676,
            "question_id": 2086260,
            "score": 12,
            "tags": [
                "javascript",
                "youtube",
                "youtube-api",
                "duration",
                "youtube-javascript-api"
            ],
            "title": "YouTube Player API: How to get duration of a loaded/cued video without playing it?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can get this effect with <code>jquery</code></p>\n\n<pre><code>$(function(){\n        // Check the initial Poistion of the Sticky Header\n        var stickyHeaderTop = $('#stickyheader').offset().top;\n\n        $(window).scroll(function(){\n                if( $(window).scrollTop() &gt; stickyHeaderTop ) {\n                        $('#stickyheader').css({position: 'fixed', top: '0px'});\n                        $('#stickyalias').css('display', 'block');\n                } else {\n                        $('#stickyheader').css({position: 'static', top: '0px'});\n                        $('#stickyalias').css('display', 'none');\n                }\n        });\n  });\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/uFq2k/\">DEMO HERE</a></strong></p>\n\n<p><em><strong>NOTE:</strong> Don't forget to include jquery library link in your page (assuming you as beginner)</em></p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-latest.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>I would add a comment here but I don't have enough reputation to do that. I was needing something similar in a project and I thought I'd share my changes to @Sowmya's answer. I cleaned the code up a bit and made the scroll effect a lot smoother. <a href=\"http://jsfiddle.net/uFq2k/1224/\" rel=\"nofollow\">JSfiddle</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function () {\r\n    // Check the initial Poistion of the Sticky Header\r\n    var stickyHeaderTop = $('#stickyheader').offset().top;\r\n\r\n    $(window).scroll(function () {\r\n        if ($(window).scrollTop() &gt; stickyHeaderTop) {\r\n            $('#stickyheader').css({\r\n                position: 'fixed',\r\n                top: '0px'\r\n            });\r\n            $('#othercontent').css('margin-top', $('#stickyheader').outerHeight(true) + parseInt($('#unstickyheader').css('marginBottom')));\r\n        } else {\r\n            $('#stickyheader').css({\r\n                position: 'static',\r\n                top: '0px'\r\n            });\r\n            $('#othercontent').css('margin-top', '0px');\r\n        }\r\n    });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n    font: 13px sans-serif;\r\n}\r\n#stickyheader {\r\n    width: 100%;\r\n    height: 40px;\r\n    background:black;\r\n    color:white;\r\n    margin-bottom: 10px;\r\n}\r\n#unstickyheader {\r\n    margin-bottom: 15px;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I wanted to stick the 2nd div when we scroll down the page and when the 2nd div meets the top boundary. When it's fixed, it should scroll along with the other pages. How can I achieve this?</p>\n\n<pre><code>#settings{\n    width:100%;\n    background:#383838;\n    height:60px;\n}\n#menu{\n    width:100%;\n    position:relative;\n    height:100px;\n    background:#aaa;\n}\n#body-content{\n    height:900px;\n    position:relative;\n}\n</code></pre>\n\n<p>and the HTML </p>\n\n<pre><code>&lt;body&gt;\n&lt;div id=\"top\"&gt;\n    &lt;div id=\"settings\"&gt;\n    &lt;/div&gt;\n    &lt;div id=\"menu\"&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\"body-content\"&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p>Here in this example <a href=\"http://jsfiddle.net/WBur3/\">http://jsfiddle.net/WBur3/</a> , the 2nd div should be fixed when we scroll the page. When we scroll up, should turn into the previous state itself. Please help me.</p>\n",
            "last_activity_date": 1420753325,
            "question_id": 14496240,
            "score": 11,
            "tags": [
                "javascript",
                "html",
                "css"
            ],
            "title": "how can I stick the div after scrolling down a little"
        }
    ]
}
