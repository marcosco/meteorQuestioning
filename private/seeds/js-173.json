{
    "items": [
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>A Simple Arithmetic Sequence:</p>\n\n<p>Divide the linear position by the width.  That's your Y-coordinate.  Multiply that Y-coordinate by the width, and subtract that value from the linear position.  The result is the X coordinate.</p>\n\n<p>Also note, you will have to divide the linear position by 4 since it is RGBA.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>This should work</p>\n\n<pre><code>var x = (Math.floor(i / 4) % 4);\nvar y = Math.floor(Math.floor(i/this.el.width)/4);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Corrected and tested version of code:\n</p>\n\n<pre><code>var x = (i / 4) % this.el.width;\nvar y = Math.floor((i / 4) / this.el.width);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I am iterating over some image data pulled from a <code>canvas</code> like so:</p>\n\n<pre><code>var imageData = this.context.getImageData(0, 0, this.el.width, this.el.height);\nvar data = imageData.data;\n\nfor (var i = data.length; i &gt;= 0; i -= 4) {\n    if (data[i + 3] &gt; 0) {\n        data[i] = this.colour.R;\n        data[i + 1] = this.colour.G;\n        data[i + 2] = this.colour.B;\n    }\n}\n</code></pre>\n\n<p>How do I calculate the current X and Y pixel coordinates that I am at?</p>\n",
            "last_activity_date": 1386446304,
            "question_id": 13660723,
            "score": 6,
            "tags": [
                "javascript",
                "html5-canvas"
            ],
            "title": "Get X and Y pixel coordinates when iterating over HTML5 canvas getImageData"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>IE doesn't supply file size information I'm afraid. You might be able to use HTML5 File API with IE10, see here:-</p>\n\n<p><a href=\"http://stackoverflow.com/questions/7279055/javascript-to-check-filesize-before-upload-in-internet-explorer\">Javascript to check filesize before upload in Internet Explorer</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>IE up to version 9 does not support the <a href=\"http://caniuse.com/fileapi\" rel=\"nofollow\">file API</a> which is needed to get the file size. IE10 does not support file size.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>you can do it like this using activeX</p>\n\n<pre><code>function getSize()\n{\n var myFSO = new ActiveXObject(\"Scripting.FileSystemObject\");\n var filepath = document.upload.file.value;\n var thefile = myFSO.getFile(filepath);\n var size = thefile.size;\n alert(size + \" bytes\");\n}\n</code></pre>\n\n<p>see here for more detail;</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1832415/how-validate-file-size-using-html-and-javascript-on-client-side\">how validate file size using HTML and Javascript on client side</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>IE doesn't support File API</p>\n\n<p>source : <a href=\"https://github.com/blueimp/jQuery-File-Upload/issues/147\" rel=\"nofollow\">https://github.com/blueimp/jQuery-File-Upload/issues/147</a></p>\n\n<p>have to use an ActiveX control to perform this action </p>\n\n<pre><code>function getSize()\n{\n var myFSO = new ActiveXObject(\"Scripting.FileSystemObject\");\n var filepath = document.upload.file.value;\n var thefile = myFSO.getFile(filepath);\n var size = thefile.size;\n alert(size + \" bytes\");\n}\n</code></pre>\n\n<p>source: <a href=\"http://www.sencha.com/forum/showthread.php?196859-File-Upload-Field-IE-Safari-Opera-fileInput-error.&amp;s=b124834725ae363759158268d91ac32c\" rel=\"nofollow\">http://www.sencha.com/forum/showthread.php?196859-File-Upload-Field-IE-Safari-Opera-fileInput-error.&amp;s=b124834725ae363759158268d91ac32c</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Thanks all ...\nI also get the info from everywhere that IE doesn't support this feature :(</p>\n\n<p>I had found a great plugin for file upload  <a href=\"http://blueimp.github.com/jQuery-File-Upload/\" rel=\"nofollow\">jQuery-File-Upload</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>document.getElementById('loadfile').addEventListener('change', checkFile, false);\n\nfunction checkFile(e) {\n    var file_list = e.target.files;\n    for (var i = 0, file; file = file_list[i]; i++) {\n        var fileExtension = file.name.split('.')[file.name.split('.').length - 1].toLowerCase();\n        var iConvert = (file.size / 1024).toFixed(2);\n\n        txt = \"File type : \" +fileExtension + \"\\n\";\n        if(file.size &gt; (1024 * 1024)){\n            txt += \"Size: \" + (file.size / (1024*1024)).toFixed(2) + \" MB \\n\";\n        } else {\n        txt += \"Size: \" + (file.size / 1024).toFixed(2) + \" KB \\n\";\n        }\n        alert(txt);\n    }\n}\n</code></pre>\n\n<p>see <a href=\"http://jsfiddle.net/har1236/aHebc/\" rel=\"nofollow\">filddle</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I used the following methode </p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;input type=\"file\" id=\"loadfile\" /&gt;\n</code></pre>\n\n<p><strong>JavaScript</strong></p>\n\n<pre><code>var file = document.getElementById('loadfile').files[0];\nalert( \"name \" +  file.name + \"Size \" +  file.size );\n</code></pre>\n\n<p>It works fine other browsers except IE :(\nHow to get in IE ?</p>\n",
            "last_activity_date": 1385099151,
            "question_id": 13512009,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "internet-explorer",
                "file-upload"
            ],
            "title": "How to get file size from clientside using javascript in IE?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>var style = window.getComputedStyle(document.getElementById(\"Example\"), null);\nstyle.getPropertyValue(\"height\");\n</code></pre>\n\n<p>The above version will work in modern browsers. Please check <code>currentStyle</code> for IE browsers.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>EDIT from comments:</p>\n\n<p><a href=\"http://jsfiddle.net/hTGCE/1/\" rel=\"nofollow\">http://jsfiddle.net/hTGCE/1/</a> (a bit more code then expected)</p>\n\n<p>in the internet you find functions like this:  </p>\n\n<pre><code>  function getRectangle(obj) {\n\n          var r = { top: 0, left: 0, width: 0, height: 0 };\n\n          if(!obj)\n             return r;\n\n          else if(typeof obj == \"string\")\n             obj = document.getElementById(obj);\n\n\n          if(typeof obj != \"object\")\n             return r;\n\n          if(typeof obj.offsetTop != \"undefined\") {\n\n             r.height = parseInt(obj.offsetHeight);\n             r.width  = parseInt(obj.offsetWidth);\n             r.left = r.top = 0;\n\n             while(obj &amp;&amp; obj.tagName != \"BODY\") {\n\n                r.top  += parseInt(obj.offsetTop);\n                r.left += parseInt(obj.offsetLeft);\n\n                obj = obj.offsetParent;\n             }\n          }\n          return r;\n       }\n</code></pre>\n\n<p>if you want to subtract the padding / border-width is set in the css-file and not dynamic in the style attribute:</p>\n\n<pre><code>    var elem = document.getElementById(id);\n    var borderWidth = 0;\n\n          try {\n             borderWidth = getComputedStyle(elem).getPropertyValue('border-top-width');\n\n             } catch(e) {\n\n             borderWidth = elem.currentStyle.borderWidth;\n          } \n    borderWidth = parseInt(borderWidth.replace(\"px\", \"\"), 10);\n</code></pre>\n\n<p>and with the padding the same. then you calculate it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>i had the same problem and found out there is no native cross plattform solution but the solution is easy though</p>\n\n<pre><code>var actual_h = element.offsetHeight;\n\n            if(parseInt(element.style.paddingTop.replace('px','')) &gt; 0){\n                actual_h=actual_h -  parseInt(element.style.paddingTop.replace('px',''));\n\n            }\n            if(parseInt(element.style.paddingBottom.replace('px','')) &gt; 0){\n                actual_h=actual_h -  parseInt(element.style.paddingBottom.replace('px',''));\n\n            }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>how to get an element's inner height, without padding and borders? </p>\n\n<p>no jQuery, just pure JS, and a cross-browser solution (IE7 included)</p>\n\n<p><img src=\"http://i.stack.imgur.com/1DEzf.png\" alt=\"enter image description here\"></p>\n",
            "last_activity_date": 1393367542,
            "question_id": 13435604,
            "score": 6,
            "tags": [
                "javascript",
                "dom"
            ],
            "title": "get element inner height"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I think you need to ask yourself: <em>why don't I know whether the images exist?</em></p>\n\n<p>I feel like you should not have this problem, or want to solve it in this way.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>try something like</p>\n\n<pre><code>objImg = new Image();\nobjImg.src = 'photo.gif';\n\nif(!objImg.complete)\n { \n      img.src = path2+'/'+imageToFind; //load other image\n  }else{\n     img.src = path1+'/'+imageToFind;\n  }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Use the onerror callback :</p>\n\n<pre><code>var img = new Image();\nimg.onerror = function(){\n   img = new Image(); // clean the error (depends on the browser)\n   img.onerror = function(){\n       console.log('not found at all !');\n   };\n   img.src = path2+'/'+imageToFind;\n};\nimg.src = path1+'/'+imageToFind;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You can pretty much rely on native <code>onload</code> and <code>onerror</code> event handlers which fire for <em>Image nodes</em>. So it could look like</p>\n\n<pre><code>var images = ['users/john/images/image01.jpg','users/mike/img/image01.jpg','some/more/path/image01.jpg'];\n\n(function _load( img ) {\n    var loadImage = new Image();\n\n    loadImage.onerror = function() {\n        // image could not get loaded, try next one in list\n        _load( images.shift() );\n    };\n    loadImage.onload = function() {\n        // this image was loaded successfully, do something with it\n    };\n\n    loadImage.src = img;\n}( images.shift() ));\n</code></pre>\n\n<p>This code probably does a little more than you actually asked for. You can basically but as much <em>image paths</em> as you wish into that array, the script will search the list until it could load one image successfully.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>what I need to do is simple to say but (for me) hard to do:</p>\n\n<p>using <strong>javascript</strong>, given an image name, ie \"image01.jpg\", I need to check if this image exists in a certain folder or path (local or on the web). If the image does not exist under that folder, I need to check if the same image exists in another folder.</p>\n\n<p>for example, with pseudo code</p>\n\n<pre><code>imageToFind = 'image01.jpg'\npath1 = 'users/john/images'\npath2 = 'users/mike/img'\n\nif path1+'/'+imageToFind exists\n    //do something\nelse\n    if path2+'/'+imageToFind exists\n        //do something\n    else\n        print('NOT FOUND')\n</code></pre>\n\n<p>what kind of approach do you suggest? I tryed to achieve this using ajax first, and then using javascript's Image() , but I failed in both these cases.</p>\n\n<p>Thanks in advance for any help, best regards</p>\n",
            "last_activity_date": 1351536207,
            "question_id": 13126612,
            "score": 6,
            "tags": [
                "javascript",
                "ajax",
                "image"
            ],
            "title": "Load image if found, else load another image"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>To do it in PHP: You have a couple of parameters to view your page, lets say <code>action</code> and <code>view-all</code>. You will (probably) access these already with <code>$action = $_GET['action']</code> or whatever, maybe setting a default value.</p>\n\n<p>Then you decide depending on that if you want to swich a variable like <code>$viewAll = $viewAll == 'Yes' ? 'No' : 'Yes'</code>.</p>\n\n<p>And in the end you just build the url with these values again like </p>\n\n<pre><code>$clickUrl = $_SERVER['PHP_SELF'] . '?action=' . $action . '&amp;view-all=' . $viewAll;\n</code></pre>\n\n<p>And thats it.  </p>\n\n<p>So you depend on the page status and not the users url (because maybe you decide later that $viewAll is Yes as default or whatever).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>function setGetParameter(paramName, paramValue)\n{\n    var url = window.location.href;\n    if (url.indexOf(paramName + \"=\") &gt;= 0)\n    {\n        var prefix = url.substring(0, url.indexOf(paramName));\n        var suffix = url.substring(url.indexOf(paramName));\n        suffix = suffix.substring(suffix.indexOf(\"=\") + 1);\n        suffix = (suffix.indexOf(\"&amp;\") &gt;= 0) ? suffix.substring(suffix.indexOf(\"&amp;\")) : \"\";\n        url = prefix + paramName + \"=\" + paramValue + suffix;\n    }\n    else\n    {\n    if (url.indexOf(\"?\") &lt; 0)\n        url += \"?\" + paramName + \"=\" + paramValue;\n    else\n        url += \"&amp;\" + paramName + \"=\" + paramValue;\n    }\n    window.location.href = url;\n}\n</code></pre>\n\n<p>Call the function above in your onclick event.</p>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>Some simple ideas to get you going:</p>\n\n<p>In PHP you can do it like this:</p>\n\n<pre><code>if (!array_key_exists(explode('=', explode('&amp;', $_GET))) {\n  /* add the view-all bit here */\n}\n</code></pre>\n\n<p>In javascript:</p>\n\n<pre><code>if(!location.search.match(/view\\-all=/)) {\n  location.href = location.href + '&amp;view-all=Yes';\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think something like this would work, upgrading the @Marc code:</p>\n\n<pre><code>//view-all parameter does NOT exist  \n$params = $_GET;  \nif(!isset($_GET['view-all'])){  \n  //Adding view-all parameter  \n  $params['view-all'] = 'Yes';  \n}  \nelse{  \n  //view-all parameter does exist!  \n  $params['view-all'] = ($params['view-all'] == 'Yes' ? 'No' : 'Yes');  \n}\n$new_url = $_SERVER['PHP_SELF'].'?'.http_build_query($params);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>though i take the url from an input, it's easy adjustable to the real url.</p>\n\n<pre><code>var value = 0;\n\n$('#check').click(function()\n{\n    var originalURL = $('#test').val();\n    var exists = originalURL.indexOf('&amp;view-all');\n\n    if(exists === -1)\n    {\n        $('#test').val(originalURL + '&amp;view-all=value' + value++);\n    }\n    else\n    {\n        $('#test').val(originalURL.substr(0, exists + 15) + value++);\n    }\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/8YPh9/31/\" rel=\"nofollow\">http://jsfiddle.net/8YPh9/31/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here's a way of accomplishing this. It takes the param name and param value, and an optional 'clear'. If you supply clear=true, it will remove all other params and just leave the newly added one - in other cases, it will either replace the original with the new, or add it if it's not present in the querystring.</p>\n\n<p>This is modified from the original top answer as that one broke if it replaced anything but the last value. This will work for any value, and preserve the existing order.</p>\n\n<pre><code>function setGetParameter(paramName, paramValue, clear)\n{\nclear = typeof clear !== 'undefined' ? clear : false;\nvar url = window.location.href;\nvar queryString = location.search.substring(1); \nvar newQueryString = \"\";\nif (clear)\n{\n    newQueryString = paramName + \"=\" + paramValue;\n}\nelse if (url.indexOf(paramName + \"=\") &gt;= 0)\n{\n    var decode = function (s) { return decodeURIComponent(s.replace(/\\+/g, \" \")); };\n    var keyValues = queryString.split('&amp;'); \n    for(var i in keyValues) { \n        var key = keyValues[i].split('=');\n        if (key.length &gt; 1) {\n            if(newQueryString.length &gt; 0) {newQueryString += \"&amp;\";}\n            if(decode(key[0]) == paramName)\n            {\n                newQueryString += key[0] + \"=\" + encodeURIComponent(paramValue);;\n            }\n            else\n            {\n                newQueryString += key[0] + \"=\" + key[1];\n            }\n        }\n    } \n}\nelse\n{\n    if (url.indexOf(\"?\") &lt; 0)\n        newQueryString = \"?\" + paramName + \"=\" + paramValue;\n    else\n        newQueryString = queryString + \"&amp;\" + paramName + \"=\" + paramValue;\n}\nwindow.location.href = window.location.href.split('?')[0] + \"?\" + newQueryString;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had a similar situation where I wanted to replace a URL query parameter. However, I only had one param, and I could simply replace it:</p>\n\n<pre><code>window.location.search = '?filter=' + my_filter_value\n</code></pre>\n\n<p>The <a href=\"http://www.w3schools.com/jsref/prop_loc_search.asp\" rel=\"nofollow\"><code>location.search</code> property</a> allows you to get or set the query portion of a URL.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>If the <code>&amp;view-all</code> parameter does NOT exist in the URL I need to add it to the end of the URL along with a value. If it DOES exist then I need to be able to just change the value without creating a new URL because it might, or might not, have other parameters before it.</p>\n\n<p>I found this function but I can't get it to work: <a href=\"http://stackoverflow.com/a/10997390/837705\">http://stackoverflow.com/a/10997390/837705</a></p>\n\n<p>Here is the code I have using the function above (which I can't get to work): <a href=\"http://jsfiddle.net/Draven/tTPYL/4/\">http://jsfiddle.net/Draven/tTPYL/4/</a></p>\n\n<p>I know how to append the parameter and value already:</p>\n\n<p><code>&lt;div onclick=\"javascript: window.location.assign(window.location.href+='&amp;view-all=Yes');\"&gt;Blah Blah&lt;/div&gt;</code></p>\n\n<p><strong>More Info:</strong></p>\n\n<p>If the URL is <code>http://www.domain.com/index.php?action=my_action</code> then the default \"&amp;view-all\" value would be \"Yes\" so the  URL they would be directed to when they click the button is <code>http://www.domain.com/index.php?action=my_action&amp;view-all=Yes</code>.<br><br></p>\n\n<p>If the URL is <code>http://www.domain.com/index.php?action=my_action&amp;view-all=Yes</code> then when they click the button it would change to <code>http://www.domain.com/index.php?action=my_action&amp;view-all=No\u200b\u200b\u200b</code></p>\n\n<p><strong>EDIT:</strong> Please give me examples. I don't know alot of JS, and I just can't think of a way to do it in PHP.</p>\n",
            "last_activity_date": 1421322308,
            "question_id": 13063838,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "append"
            ],
            "title": "Add / Change parameter of URL and redirect to the new URL"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This is an \"Answer your own question \u2013 <a href=\"http://blog.stackoverflow.com/2011/07/its-ok-to-ask-and-answer-your-own-questions/\">share your knowledge, Q&amp;A-style</a>\" -style answer, but if you have some better answer, please freely use your keyboard.</p>\n\n<p>I have used SO only a few days, so please don't downvote me to the gap. I got an interesting <a href=\"http://stackoverflow.com/a/12686570/1691517\">workaround idea</a> to this issue, which is based on variable-width strokes and masks.</p>\n\n<p>But let's start at your (or my) first idea. When we are going to erode (thin) graphical objects in SVG, the obvious first thought is to use erode filter:</p>\n\n<p>But because erode filter (and dilate as well) <a href=\"http://stackoverflow.com/a/12705125/1691517\">uses pixel data (the rasterized path)</a> the result is not good looking in all cases. In fact I have never seen a good-looking erode when used to filter vector objects. See the hat and mouth:</p>\n\n<p><img src=\"http://i.stack.imgur.com/iDqT0.png\" alt=\"Eroded image\"></p>\n\n<p>The dilate filter has similar problems (the nose is not nice and the baseball cap is scrappy and some other inconsistencies):</p>\n\n<p><img src=\"http://i.stack.imgur.com/Gr7p8.png\" alt=\"Dilated image\"></p>\n\n<p>All users of Adobe Illustrator know the nice path effects, which can be used to apply various path operations to shapes (objects). These effects doesn't change the original path data, they only create a modified copy of object. One of the most usable is <a href=\"http://help.adobe.com/en_US/illustrator/cs/using/WS714a382cdf7d304e7e07d0100196cbc5f-62c1a.html\">Offset Path Effect</a>, which can be used to set off from the selected object by a specified distance (or something similar). SVG:s erode and dilate filters have similarities with Illustrator's Offset Path Effect, but the quality is as a vector operation (versus bitmap) high.</p>\n\n<p>SVG format in it's current state, lacks support for Illustrator-like Offset Path, but it's possible to get the same functionality using variable-width strokes and masks as noted <a href=\"http://stackoverflow.com/a/12686570/1691517\">here</a>.</p>\n\n<p>Let's dive into the world of SVG masks. The dilate (or outset path or thicken) is possible to achieve by simply increasing a stroke width, but erode (or inset path or thinning) needs something more, for example masks. <i>In SVG, any graphics object or 'g' element can be used as an alpha mask for compositing the current object into the background</i> (<a href=\"http://www.w3.org/TR/SVG/masking.html#Masking\">W3C SVG 1.1 Recommendation</a>). </p>\n\n<p>The above means that not only object's fill can be used as a mask, but also a stroke. <strong>And adjusting the width of the stroke of the path that is used as a mask, we can control how much of the current object (into which the mask is applied using mask attribute) is masked out</strong>.</p>\n\n<p>Let's get an example of using mask. First we define a path in SVG:s defs element:</p>\n\n<pre><code>&lt;defs&gt;\n&lt;path id=\"head_path\" d=\"M133.833,139.777c1 ...clip... 139.777z\"/&gt;\n&lt;/defs&gt;\n</code></pre>\n\n<p>When we define a path in defs element, it eliminates the need for repeating the same data in other parts of document. The path's id attribute is used to refer to the path from some point(s) of the document.</p>\n\n<p>Now we can use this path data in mask:</p>\n\n<pre><code>&lt;defs&gt;\n...\n&lt;mask id=\"myMask\" maskUnits=\"userSpaceOnUse\"&gt;\n&lt;use xlink:href=\"#head_path\" fill=\"#FFFFFF\" stroke=\"#000000\" \nstroke-width=\"18\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/&gt;\n&lt;/mask&gt;\n...\n&lt;/defs&gt;\n</code></pre>\n\n<p>The 'use' element references to the 'path' element, whose id is 'head_path' and indicates that the graphical content (in this case only the path data) of 'head_path' element is included at this mask. <strong>The stroke-width that is defined on the above 'use' element will be the amount of offset (erode) effect</strong>. This amount is masked out of the element in case, which we are going to draw next.</p>\n\n<p>Okay, let's draw first the 'head' without masking to see how beautiful it is:</p>\n\n<pre><code>...\n&lt;/defs&gt;\n&lt;use x=\"5\" y=\"5\" xlink:href=\"#head_path\" fill=\"#4477FF\" stroke=\"black\"\nstroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/&gt;\n</code></pre>\n\n<p>This produces the following shape:</p>\n\n<p><img src=\"http://i.stack.imgur.com/e9nG0.png\" alt=\"Original shape\"></p>\n\n<p>Now test, what we can achieve using mask:</p>\n\n<pre><code>...\n&lt;/defs&gt;\n&lt;use x=\"5\" y=\"5\" xlink:href=\"#head_path\" fill=\"#22EE22\" stroke=\"black\"\nstroke-width=\"21\" stroke-linecap=\"round\" stroke-linejoin=\"round\"\nmask=\"url(#myMask)\"/&gt;\n</code></pre>\n\n<p>The above 'use' element is instructed to use 'myMask' as a mask and 'head_path' as a graphical content. The mask effect is applied to the 'use' element and the following shape is drawn:</p>\n\n<p><img src=\"http://i.stack.imgur.com/81q8D.png\" alt=\"Masked shape\"></p>\n\n<p>If we stack both on top of each, we can compare the original head to the masked head:</p>\n\n<p><img src=\"http://i.stack.imgur.com/rNudg.png\" alt=\"Original and masked shape\"></p>\n\n<p>Not bad at all? Let's compare the first attempt using SVG erode filtered version to the masked version:</p>\n\n<p><img src=\"http://i.stack.imgur.com/85L5F.png\" alt=\"Eroded vs masked\"></p>\n\n<p>The left one is erode-filtered and the right one is masked to imitate Illustrator-like Offset Path Effect. No odd artifacts in the hat and mouth!</p>\n\n<p>How about dilate then? Is there a way to remove the path unfidelity on nose and scrappiness of the baseball cap? Sure. And the method is really simple but sort of hack. Fortunately there is no need to use masks. Instead we can adjust stroke-width to achieve the desired effect. And because the stroke is already used for boldening, to get a black stroke around boldened shape (if ever wanted), we have to add an additional copy of element with a little wider stroke and lay it out below the boldened shape:</p>\n\n<pre><code>&lt;!-- To get the black stroke --&gt;\n&lt;use x=\"220\" y=\"5\" xlink:href=\"#head_path\" fill=\"red\" stroke=\"black\"\nstroke-width=\"24\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/&gt;\n&lt;!-- To get the boldened shape --&gt;\n&lt;use x=\"220\" y=\"5\" xlink:href=\"#head_path\" fill=\"red\" stroke=\"red\"\nstroke-width=\"21\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/&gt;\n</code></pre>\n\n<p>This produces the following shape:</p>\n\n<p><img src=\"http://i.stack.imgur.com/Wfalh.png\" alt=\"Offset Path Effect applied\"></p>\n\n<p>Here both the original shape and the one with our custom Offset Path Effect applied:</p>\n\n<p><img src=\"http://i.stack.imgur.com/oR53i.png\" alt=\"Original and Offset Path Effect applied\"></p>\n\n<p>How our custom boldening compares to dilate filter:</p>\n\n<p><img src=\"http://i.stack.imgur.com/iNVBc.png\" alt=\"Dilated vs Boldened\"></p>\n\n<p>The left one (above) is dilated using SVG:s dilate filter, the right one is boldened using our custom Offset Path Effect. Pretty nice, I like. Path follows faithfully the original path at the given distance and no signs of scrappiness on baseball cap.</p>\n\n<p>And finally let's pull all the wires together:\n<img src=\"http://i.stack.imgur.com/YTtW8.png\" alt=\"Dilate/Origina/Erode vs Offset Path Combined\"></p>\n\n<p>The left one (above) uses dilate/erode filter of SVG and the right one uses Illustrator-imitated Offset Path Effect, which is achieved using SVG mask and thicker strokes. Which one you would choose?</p>\n\n<p><strong>Conclusion</strong>: We are not forced to use Javascript or other scripts to thicken or thin graphical elements in SVG. Erode and Dilate filters of SVG may have some using purposes, but they are not well suitable for high-quality path \"modifications\". Masks are a little complicated to use, but after few experiments you get familiar with them. I really hope that SVG in the future would support Offset Path Effect natively, without using this like hacks.</p>\n\n<p>I jsfiddled the shapes used in these examples for you to play with filters and masks: <a href=\"http://jsfiddle.net/7Y4am/\">http://jsfiddle.net/7Y4am/</a><br>\n(Test at least to change stroke widths!)</p>\n\n<p>(Sorry my bad English, which get native speakers to laugh until die, but please remember, I belong to the 94% of humanity, who does not speak English natively. But fortunately we have Google Translate.)</p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I have a long time project: a basic vector graphic tool which runs in browser and uses SVG and Javascript (maybe you have seen somekind of these elsewhere). The tool has only very limited set of functions, because the audience is restricted and the purpose is very specific and in fact there are not allowed to be other functionality than what is explicitly allowed (you know). One missed feature is eroding (also known as inset or thin) and dilating (outset, thicken, bolden) polygons and other graphical elements.</p>\n\n<p>I have used Adobe Illustrator's Offset Path Effect many times and with it I can easily make copies of graphical objects that are thinned or thickened, without affecting the original object, which therefore can be nearly whatever supported by the program.</p>\n\n<p>I have tried to get the same functionality to function in SVG, but without success.</p>\n\n<p>I have tried the following:<br>\n- dilate and erode filters, but with not satisfying results (<a href=\"http://stackoverflow.com/questions/12702955/svg-dilate-erode-filter-vs-illustrator-offset-path\">please see the image here</a>)<br>\n- Server-side Python's Shapely library, but this workaround is too slow and allows to inset or outset only the basic polygons (<a href=\"http://stackoverflow.com/q/12684398/1691517\">description here</a>)<br>\n- to find javascript library / code / function, which could alter the path data of graphical elements, but found nothing for javascript  </p>\n\n<p>So is there any meaningful way to implement this like Offset Path Effect and how?</p>\n",
            "last_activity_date": 1349455908,
            "question_id": 12723832,
            "score": 6,
            "tags": [
                "javascript",
                "vector",
                "svg",
                "effect"
            ],
            "title": "How can I implement Offset Path Effect in SVG without using Javascript or dilate/erode filters?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Add you client side function name in onchange events of dropdown like below :</p>\n\n<pre><code>&lt;asp:DropDownList ID=\"DropDownSubject\" runat=\"server\" DataTextField=\"Word\" \n      AutoPostBack=\"True\" OnSelectedIndexChanged=\"SelectedChange\" \n      onchange=\"changeCursor()\"&gt;\n&lt;/asp:DropDownList&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>In Code behind</p>\n\n<pre><code>&lt;asp:DropDownList ID=\"DropDownSubject\" runat=\"server\" DataTextField=\"Word\" AutoPostBack=\"True\" \n         OnSelectedIndexChanged=\"SelectedChange\" onchange=\"YourChangeFun(this);\"&gt;\n&lt;/asp:DropDownList&gt;\n</code></pre>\n\n<p>In javascript</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n      function YourChangeFun(ddl)\n      {\n         alert(ddl.selectedIndex);\n      }\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>First change autopostback=\"false\" and give onchange=\"js function()\" and remove selected index change event.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How use selectedIndexChanged from asp.net dropdownlist in clientSide and ServerSide?</p>\n\n<p>In clientside i want call javascript funcition!</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction changeCursor() {\n    document.body.style.cursor=\"progress\";\n}\n&lt;/script&gt;\n\n&lt;asp:DropDownList ID=\"DropDownSubject\" runat=\"server\" DataTextField=\"Word\" AutoPostBack=\"True\" OnSelectedIndexChanged=\"SelectedChange\"&gt;\n&lt;/asp:DropDownList&gt;\n</code></pre>\n\n<p>SelectedChange is a name of function in clientside!</p>\n\n<p>Thanks for help!</p>\n",
            "last_activity_date": 1413655659,
            "question_id": 12517227,
            "score": 6,
            "tags": [
                "c#",
                "javascript",
                "asp.net",
                "drop-down-menu"
            ],
            "title": "How use selectedIndexChanged dropdownlist in clientSide and ServerSide"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Use != instead of = to unescape.</p>\n\n<p>In your case:</p>\n\n<pre><code>a.products(href!=\"&lt;%= id %&gt;\")\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>when using underscore template i want to interpolate a value in anchor's href attribute like</p>\n\n<pre><code>a(href= \"&lt;%= id %&gt;\", class='products') //underscore template in jade\n</code></pre>\n\n<p>but the out put is </p>\n\n<pre><code>&lt;a href=\"&amp;lt;% id %&amp;gt;\" class=\"products\"&gt; \n</code></pre>\n\n<p>so how to escape the &lt; and > sign , and interpolate the value correctly?</p>\n",
            "last_activity_date": 1350846306,
            "question_id": 12362290,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "templates",
                "escaping",
                "jade"
            ],
            "title": "how to escape &lt;&gt; in javascript underscore template?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You need to manually filter the child DataSources, so that only the necessary nodes are shown. Having different <code>dataTextField</code>s for the different levels makes it harder to grasp, so this code uses the <code>text</code> field only. Also, as this filtering is performed on the client-side, it assumes that you have loaded all nodes.</p>\n\n<pre><code>var treeview = $(\"#treeview\").data(\"kendoTreeView\"),\n    item = treeview.findByText(\"Item 1.3\"), // find the node that will be shown\n    dataItem = treeview.dataItem(item),\n    nodeText = dataItem.text;\n\n// loop through the parents of the given node, filtering them to only one item\nwhile (dataItem.parentNode()) {\n    dataItem = dataItem.parentNode();\n    dataItem.children.filter({ field: \"text\", operator: \"contains\", value: nodeText });\n    nodeText = dataItem.text;\n}\n\ntreeview.dataSource.filter({ field: \"text\", operator: \"contains\", value: nodeText });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>I found a way to make this happen just using jQuery selectors to hide and show the necessary child nodes.</p>\n\n<p>First thing is when you are creating your tree view, add this parameter to your options:</p>\n\n<p>loadOnDemand: false</p>\n\n<p>This way the tree will render out all the HTML of your child nodes before being requested, thereby allowing you to use jQuery to navigate through.</p>\n\n<p>Here is the jQuery code I have working that filters the nodes out that don't match, opens the group of nodes that do match, and shows them.</p>\n\n<pre><code>$(\"#searchTextInputField\").keyup(function () {\n\n        var filterText = $(\"#searchTextInputField\").val();\n\n        if(filterText !== \"\") {   \n            $(\"#myTree .k-group .k-group .k-in\").closest(\"li\").hide();\n            $(\"#myTree .k-group .k-group .k-in:contains(\" + filterText + \")\").each(function() {\n                $(this).closest(\"ul\").show();\n                $(this).closest(\"li\").show();\n            });\n        } else {\n            $(\"#myTree .k-group\").find(\"ul\").hide();\n            $(\"#myTree .k-group\").find(\"li\").show();\n        }\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>For more than 4 levels traverse all parents of type UL and LI and call show().</p>\n\n<pre><code>$(\"#filterText\").keyup(function (e) {\n    var filterText = $(this).val();\n\n    if (filterText !== \"\") {\n        $(\"#treeview-standards .k-group .k-group .k-in\").closest(\"li\").hide();\n        $(\"#treeview-standards .k-group .k-group .k-in:contains(\" + filterText + \")\").each(function () {\n            $(this).parents(\"ul, li\").each(function () {\n                $(this).show();\n            });\n        });\n    } else {\n        $(\"#treeview-standards .k-group\").find(\"ul\").hide();\n        $(\"#treeview-standards .k-group\").find(\"li\").show();\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>First of all. KendoTreeView is very low-level control compared to Teleriks RadDropDownTree from ASP.NET <a href=\"http://www.telerik.com/help/aspnet-ajax/dropdowntree-overview.html\" rel=\"nofollow\">http://www.telerik.com/help/aspnet-ajax/dropdowntree-overview.html</a> (i mean the js of course!)\nThe should have taken this to jquery/kendo... it needed to improve this filter, so \nif you prefer proper filtering on dataitem instead of \"findByText\", this does:</p>\n\n<p>.1) finds all dataitems\n.2) checks your conditions (here lowercase contains on value/text)\n.3) flag item, flag parents\n.4) clean up, remove nodes left in tree by parent</p>\n\n<pre><code>that.nodeFilter = { logic: \"or\", filters: [] };\nthat.nodeFilter.filters.push({ field: \"hidden\", operator: \"eq\", value: false });\ntree.element.find(\".k-in\").each(function () {\n    var dItem = tree.dataItem($(this).closest(\"li\"));\n    dItem.hidden = false;\n    if (dItem[that.options.dataValueField].toLowerCase().indexOf(searchTerm) != -1 ||\n        dItem[that.options.dataTextField].toLowerCase().indexOf(searchTerm) != -1) {\n        that.nodeFilter.filters.push({ field: that.options.dataValueField, operator: \"eq\", value: dItem[that.options.dataValueField] })\n        while (dItem.parentNode()) {\n            dItem = dItem.parentNode();\n            dItem.hidden = false;\n            that.nodeFilter.filters.push({ field: that.options.dataValueField, operator: \"eq\", value: dItem[that.options.dataValueField] })\n        }\n    } else {\n        dItem.hidden = true;\n    }\n});\ntree.dataSource.filter(that.nodeFilter);\ntree.element.find(\".k-in\").each(function () {\n    var node = $(this).closest(\"li\");\n    var dataItem = tree.dataItem(node);\n    if (dataItem.hidden) {\n        tree.remove(node);\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using the treeview of KendoUI and want to give the user the possibility to filter it. \nThere is even a demo that does what I want (http://demos.kendoui.com/web/treeview/api.html)</p>\n\n<p>The Problem is that the filter is only applied to the 1st hierarchy of the TreeView, so if the filter-text is present in a child but not the parent, then the child won't be displayed.</p>\n\n<p>Example:</p>\n\n<ul>\n<li>Item 1 </li>\n<li>Item 2\n<ul>\n<li>Item xzy</li>\n<li>Item abc</li>\n</ul></li>\n</ul>\n\n<p>If the search text would be \"abc\", no item would be displayed. Instead I would like to have the following result:</p>\n\n<ul>\n<li>Item 2\n<ul>\n<li>Item abc</li>\n</ul></li>\n</ul>\n\n<p>Does anyone know how to do this? This is the code I am using:</p>\n\n<pre><code>   var tree_view_data = new kendo.data.HierarchicalDataSource({\n        transport: {\n            read: {\n                url: \"getall/items\",\n                dataType: \"json\"\n            }\n        },\n        schema: {\n            model: {\n                children: \"ChildItems\"\n            }\n        }\n    });\n    //init tree view itself\n    var $treeview = $(\"#div-treeview\").kendoTreeView({\n        dataSource: tree_view_data,\n        dataTextField: [ \"Text\", \"ChildrenText\" ]\n    });\n\n    //allow filter of navigation tree\n    var refreshTree = function () {\n        tree_view_data.filter({\n            field: \"Text\", //if I would use \"ChildrenText\" here nothing be displayed at all if filtertext is set\n            operator: \"contains\",\n            value: $(\"#tree-text-search\").val()\n        });\n    };\n\n    $(\"#tree-text-search\").change(refreshTree).keyup(refreshTree);\n</code></pre>\n",
            "last_activity_date": 1415783432,
            "question_id": 12303235,
            "score": 6,
            "tags": [
                "javascript",
                "kendo-ui"
            ],
            "title": "KendoUI filter TreeView"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Your final version seems fine with the locationChangeSuccess, but for others reading this, I think you ruled out the $routeProvider too quickly. You can have one ng-view for the main content pane that changes with the path, and then other independent (\"static\") controllers/templates for the navigation pane and toolbar.</p>\n\n<p>Now to listen to route changes in these other 2 controllers:</p>\n\n<pre><code>$rootScope.$on('$routeChangeSuccess', function(evt, cur, prev) {\n    ...do what you have to do here, maybe set a $rootScope.path as you did\n})\n</code></pre>\n\n<p>All using native Angular functionality. I actually do this in <a href=\"http://provok.in\" rel=\"nofollow\">http://provok.in</a>, a website I built using Angular, and I have a similar layout (well, not exactly, but I have \"static\" sections and an ng-view for the main content, dynamically updated based on the path, by the routeProvider).</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I have an AngularJS single-page app displaying 3 views (which are actually 3 <a href=\"http://docs.angularjs.org/guide/directive\">directives</a>). To illustrate my question, let's assume my UI is identical to that of GMail and that my 3 views are:</p>\n\n<ul>\n<li><strong>Navigation Pane</strong> (left) -- where GMail displays folders like \"Inbox\", \"Drafts\"...</li>\n<li><strong>Toolbar</strong> (top right) -- where GMail displays buttons</li>\n<li><strong>Content Pane</strong> (bottom right) -- where GMail displays messages</li>\n</ul>\n\n<p>These 3 views need to update themselves whenever the path changes. For example:</p>\n\n<ul>\n<li>The Navigation Pane needs to highlight a specific item.</li>\n<li>The Toolbar needs to show/hide certain buttons.</li>\n<li>The Content Pane needs to load and display specific data from the server.</li>\n</ul>\n\n<p>What's the best way to do this in AngularJS?</p>\n\n<p>So far, I have:</p>\n\n<ol>\n<li>Ruled out the use of <a href=\"http://docs.angularjs.org/api/ng.%24routeProvider#when\">$routeProvider.when()</a> because I need to update three views, and <code>$routeProvider</code> only supports one <code>ngView</code>.</li>\n<li>Created a <strong>SERVICE</strong> that watches the current path and uses <a href=\"http://docs.angularjs.org/api/ng.%24rootScope.Scope#%24broadcast\">$rootScope.$broadcast()</a> to warn the controllers that the path changed.</li>\n<li>(OR, IN LIEU OF #2) Created a <strong>CONTROLLER</strong> that does the same as #2.</li>\n<li>Caught the event broadcasted by #2 or #3 with <a href=\"http://docs.angularjs.org/api/ng.%24rootScope.Scope#%24on\">$scope.$on()</a> (I do this in a view controller).</li>\n</ol>\n\n<p>This kind of works, but I have several issues:</p>\n\n<ul>\n<li>The \"path change\" event is often broadcasted BEFORE my event listeners are in place, especially at initial page load. This is probably due to the fact that my view templates are loaded from the server and the listeners can't be set up before the templates have finished loading.</li>\n<li>Isn't there a more efficient/automated way to watch for path changes in AngularJS? (See my code below, it seems pretty \"manual\".)</li>\n<li>Does the code that watches for path changes belong in a SERVICE or in CONTROLLER? (I'd lean towards a service, since a controller is more to add behavior to a view.)</li>\n<li>How to guarantee that my views will catch the \"path changed\" event? Should I use an event at all? (maybe I could store the path in a service, and have my views watch the service instead?)</li>\n</ul>\n\n<p>My code to watch for path changes (I put this in a service or in a controller):</p>\n\n<pre><code>var watchExpression = function() { return $location.path(); };\nvar listener = function(newPath, oldPath) {\n    // Broadcast event on $rootScope\n    $rootScope.$broadcast('PathChanged', newPath);\n};\n$rootScope.$watch(watchExpression, listener);\n</code></pre>\n\n<p>Then, in a view controller, I catch the event:</p>\n\n<pre><code>$scope.$on('PathChanged', function(event, path) {\n    // Update view based on new path.\n});\n</code></pre>\n\n<p>Any help appreciated. Thanks.</p>\n",
            "last_activity_date": 1344645765,
            "question_id": 11907489,
            "score": 6,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "How to broadcast path changes to all views in an AngularJS app?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You can run JSLint on JavaScript code using the below syntax:</p>\n\n<pre><code>var code = \"var a = 1 + 2;\";\nJSLINT(code);\n</code></pre>\n\n<p>And you can print the syntax tree as you have mentioned in the question.</p>\n\n<p>Now in your case, you need to read the JavaScript source from JavaScript files. You can make an AJAX call to read the source code of the JavaScript file into a variable. Then make a call to JSLINT as above passing that variable. A sample using jQuery would be like below.</p>\n\n<pre><code>$(function() {\n    // Include jslint.js\n    $('&lt;script src=\"http://localhost/yourapp/jslint.js\"&gt;').appendTo(\"head\");\n\n    // Read JavaScript file contents into 'code'\n    $.get('http://localhost/yourapp/somescript.js', function(code) {\n\n        // Run JSLINT over code\n            JSLINT(code);\n\n        // Print the parse tree\n        console.log(JSON.stringify(JSLINT.tree, [\n                    'string',  'arity', 'name',  'first',\n                    'second', 'third', 'block', 'else'\n                    ], 4));\n        });\n});\n</code></pre>\n\n<p>Depending on what you are trying to achieve, a standalone JavaScript console (eg. NodeJS) would be a better alternative than a browser console. I guess there exist Node packages for JSLint. But if you want to include it manually you can simply do it as below.</p>\n\n<p>First add the below line at the end of jslint.js</p>\n\n<pre><code>exports.JSLINT = JSLINT;\n</code></pre>\n\n<p>Then write your code in say mycode.js.</p>\n\n<pre><code>var fs = require(\"fs\");\nvar jslint = require(\"./jslint.js\");\n\nfs.readFile(\"./test.js\", function(err, code) {\n    var source = code.toString('ascii');    \n\n    jslint.JSLINT(source);\n\n    console.log(JSON.stringify(jslint.JSLINT.tree, [\n         'string',  'arity', 'name',  'first',\n         'second', 'third', 'block', 'else'\n        ], 4));\n},\"text\");\n</code></pre>\n\n<p>Then run your code from console as:</p>\n\n<pre><code>node mycode.js\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>Is it possible to run <code>JSLint</code> on one or more .js files by having JSLint loaded afterwards in the header from debugging/developer console in chrome or firefox?</p>\n\n<p>The reason that I want to do that is that I want to print in <code>console.log()</code> the parsing of <code>JSLint</code> in <code>JSON</code>,it says in documentation:</p>\n\n<pre><code>// You can obtain the parse tree that JSLint constructed while parsing. The\n// latest tree is kept in JSLINT.tree. A nice stringication can be produced\n// with\n//     JSON.stringify(JSLINT.tree, [\n//         'string',  'arity', 'name',  'first',\n//         'second', 'third', 'block', 'else'\n//     ], 4));\n</code></pre>\n",
            "last_activity_date": 1344602974,
            "question_id": 11884224,
            "score": 6,
            "tags": [
                "javascript",
                "json",
                "parsing",
                "jslint",
                "javascript-debugger"
            ],
            "title": "Run JSLint on a .js file from debugging console in chrome or firefox"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Use: <code>display:block;</code> and <code>display:none;</code></p>\n\n<h2><em><a href=\"http://jsfiddle.net/psvn9/400/\" rel=\"nofollow\">jsFiddle DEMO</a></em></h2>\n\n<p>Add this to your CSS:</p>\n\n<pre><code>#logo-scroll{ display:none; position:fixed; }\n</code></pre>\n\n<p>jQ:</p>\n\n<pre><code>var $logo = $('#logo-scroll');\n$(document).scroll(function() {\n    $logo.css({display: $(this).scrollTop()&gt;100 ? \"block\":\"none\"});\n});\n</code></pre>\n\n<p>BTW: on TC page it's just a <code>CSS</code> play with z-indexes. nothing more. all elements are visible at page load, it's just the scroll that makes appear a z-index lower element beneath the big logo.</p>\n\n<p>In <strong>plain</strong> <strong>Javascript</strong> would be like <strong><em><a href=\"http://jsfiddle.net/psvn9/649/\" rel=\"nofollow\">this</a></em></strong>:</p>\n\n<pre><code>var win = window,\n    docEl = document.documentElement,\n    $logo = document.getElementById('logo-scroll');\n\nwin.onscroll = function(){\n   var sTop = (this.pageYOffset || docEl.scrollTop)  - (docEl.clientTop || 0);\n   $logo.style.display =  sTop &gt; 100 ? \"block\":\"none\" ;\n};\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Well the question has already been answered. just adding a better example which might be useful for others and it's exactly what op wants.</p>\n\n<p><a href=\"http://www.virendrachandak.com/techtalk/make-a-div-stick-to-top-when-scrolled-to\" rel=\"nofollow\">code and demo</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I want to change the visibility of an element after the user scrolls down 100px.</p>\n\n<p>I have some code already,</p>\n\n<pre><code>var fixed = false;\n$(document).scroll(function() {\n    if( $(this).scrollTop() &gt;= 100 ) {\n        if( !fixed ) {\n            fixed = true;\n            $('#logo-scroll').css({position:'fixed', display:'visible !important'});\n        }\n    } else {\n        if( fixed ) {\n            fixed = false;\n            $('#logo-scroll').css({display:'none'});\n        }\n    }\n});\u200b\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/psvn9/\" rel=\"nofollow\">JSFiddle</a>.</p>\n\n<p>The code has two problems.</p>\n\n<ol>\n<li><p>It doesn't default to be invisible, I want it so it starts invisible.</p></li>\n<li><p>It doesn't repeat, when the user scrolls back up, it doesn't go back being invisible.</p></li>\n</ol>\n\n<p>More details,</p>\n\n<p>I want to make something like <a href=\"http://techcrunch.com/\" rel=\"nofollow\">this</a> header, but, as you can see, there's a certain point where you see <em>half</em> of the small logo, and a PART of the bigger one. It doesn't affect techcrunch much as the header is small, but on my site, it does. I have made everything, I just need to start it in <code>display:none</code>, and become visible after 100px.</p>\n",
            "last_activity_date": 1410744838,
            "question_id": 11434735,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "css"
            ],
            "title": "Change Element Style On Page Scroll"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Instead of using <code>eval</code>, and instead of manually copy/pasting into a separate file, you can dynamically load the JS directly into the page that generated it by using a <a href=\"http://en.wikipedia.org/wiki/Data_URI_scheme\">data uri</a> on a dynamically-created <code>&lt;script&gt;</code> element. With this approach, Chrome's Developer Tools (and Firebug) allow you to pick the data-URI as a script, turn on the Pretty Print, set breakpoints, and away you go.</p>\n\n<pre><code>var js = createMyJSCodeString();\naddCode(js); // Right now! Debuggable!\n\n// Dynamically evaluate JavaScript-as-string in the browser\nfunction addCode(js){\n  var e = document.createElement('script');\n  e.type = 'text/javascript';\n  e.src  = 'data:text/javascript;charset=utf-8,'+escape(js);\n  document.body.appendChild(e);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I<sup>*</sup> am using client-side JS to parse XML files and generate complex JS code to <code>eval</code> as a result. (Generating re-usable functions that are kicked off by a runtime.) However, I need to debug the code being generated, and would like to use Chrome's built-in breakpoints, stepping, watch windows, etc.</p>\n\n<p>Is there an easier way to do this than:</p>\n\n<ul>\n<li>Dump the generated JS string to the console and/or window.</li>\n<li>Copy the JavaScript</li>\n<li>(optional) Run the JS through a prettifier like <a href=\"http://jsbeautifier.org/\">JSBeautifier</a>.</li>\n<li>Paste the JS into a file that is loaded via <code>&lt;script src=\"...\"&gt;</code> in another web page.</li>\n</ul>\n\n<p><sup>* <em>actually, a friend of mine was doing this, not me</sup></em></p>\n",
            "last_activity_date": 1340899615,
            "question_id": 11248126,
            "score": 6,
            "tags": [
                "javascript",
                "debugging"
            ],
            "title": "Set breakpoints and debug eval&#39;d JavaScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It looks like you're using <a href=\"https://en.wikipedia.org/wiki/ElGamal_encryption\" rel=\"nofollow\">ElGamal</a> in your javascript code. I couldn't really find any implementation for ruby, alternatives are using <a href=\"http://www.cryptopp.com/\" rel=\"nofollow\">Crypto++</a> or <a href=\"https://www.gnu.org/software/libgcrypt/\" rel=\"nofollow\">libgcrypt</a> and writing some glue code.</p>\n\n<p>Ps: instead of that <code>kstr =</code> line, you can simply write <code>kstr = ar.pack 'N*'</code></p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I am working on a web application which must be able to encrypt data with ECC on the server side and decrypt it in the browser. The only library I have found that is capable of this in JS is SJCL. However, since ECC support in SJCL seems a bit abandoned at the moment, I have used a <a href=\"https://github.com/justindthomas/sjcl/tree/serialization\">fork</a>, which has key serialization support and a <a href=\"http://justinthomas.pro/crypto/test.html\">demo</a> for easier understanding.</p>\n\n<p>First, I generate an ECC key pair in JS:</p>\n\n<pre><code>keypair = sjcl.ecc.elGamal.generateKeys(384, 10);\ndocument.writeln(JSON.stringify(keypair.pub.serialize()));\n</code></pre>\n\n<p>This outputs something like:</p>\n\n<pre><code>{\"point\":[1110230655,241884220,775655552,-849225963,-883815628,-1984298210,-736346431,1387519594,-1810604283,-1235638489,1333314084,-1219216530,614640565,-1148742381,1038670260,1013716131,758346573,1162278003,1232401864,-1948620456,533899535,-1478577959,1853846180,-1553049184],\"curve\":384}\n</code></pre>\n\n<p>Then I have tried to convert this public key to a format understandable by OpenSSL.</p>\n\n<pre><code>ar = [1110230655,241884220,775655552,-849225963,-883815628,-1984298210,-736346431,1387519594,-1810604283,-1235638489,1333314084,-1219216530,614640565,-1148742381,1038670260,1013716131,758346573,1162278003,1232401864,-1948620456,533899535,-1478577959,1853846180,-1553049184]\n\n# ugly bit magic to somehow convert the above array into a proper byte array (in form of a string)\nkstr = [(ar.map { |i| (i&gt;=0)?('0'*(8-i.to_s(16).length)+i.to_s(16)):(\"%08X\" % (2**32-1+i+1)) }*'').upcase].pack(\"H*\")\n\n# opening a public key generated with the openssl cli tool showed a structure like this:\nalgokey = OpenSSL::ASN1::ObjectId 'id-ecPublicKey'\nalgovalue = OpenSSL::ASN1::ObjectId 'secp384r1'\nalgo = OpenSSL::ASN1::Sequence.new [algokey,algovalue]\n# for some reason OpenSSL seems to prepend 0x04 to all public keys\nkey = OpenSSL::ASN1::BitString.new \"\\x04#{kstr}\"\nroot = OpenSSL::ASN1::Sequence.new [algo,key]\n\npub = OpenSSL::PKey.read(root.to_der)\n</code></pre>\n\n<p>Until this point, my code works fine. That is, it does not produce any exceptions.</p>\n\n<p>However, when generating a shared secret with both libraries, I found that SJCL generated a 'tag' that was 96 bytes long, while OpenSSL emitted 48 bytes.</p>\n\n<p>Turns out my problem is that SJCL does not use plain ECDH. It uses something that seems to be ECMQV based on a quick google search. Therefore, the 'tag' SJCL output was a point on the curve (x and y coordinates of a point, 2*48 bytes), while what OpenSSL output was a shared secret (x coordinate of a point, as dictated by ECDH).</p>\n\n<p>My problem is that I don't know if there is any support for ECMQV in OpenSSL (there are some patent problems, if I'm correct). Even if there was, the ruby binding does not seem to support it.</p>\n\n<p>So my actual questions:</p>\n\n<ul>\n<li>are my findings documented above correct?</li>\n<li>if yes, does anyone know any other ruby library which I could use instead of OpenSSL, that supports ECMQV?</li>\n</ul>\n",
            "last_activity_date": 1340556144,
            "question_id": 11135420,
            "score": 6,
            "tags": [
                "javascript",
                "ruby",
                "cryptography",
                "openssl",
                "sjcl"
            ],
            "title": "Elliptic curve cryptography with SJCL in JS and OpenSSL in Ruby"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If you want to do a FB like timeline jQuery mansonry is quite good and with a bit of CSS is enough to create the core timeline. Then add what you want to it, I know there is even a tutorial out there for it but can't find it. <a href=\"http://masonry.desandro.com/\" rel=\"nofollow\">http://masonry.desandro.com/</a></p>\n\n<p>Otherwise there is <a href=\"https://github.com/chimericdream/jquery-vertical-timeline\" rel=\"nofollow\">this</a> project</p>\n\n<p>Here is the FB timeline <a href=\"http://www.9lessons.info/2012/01/facebook-timeline-design-using-jquery.html\" rel=\"nofollow\">tutorial</a>, not the best but help getting the basic in place</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I have a jQuery plugin to create a simple vertical timeline. See <a href=\"http://www.technotarek.com/timeliner/\" rel=\"nofollow\">this</a> for background and <a href=\"http://technotarek.com/timeliner/demo-future/timeliner-future.html\" rel=\"nofollow\">this</a> for a demo.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>I think this is what you are looking for <a href=\"https://github.com/balancemedia/Timeline\" rel=\"nofollow\">https://github.com/balancemedia/Timeline</a></p>\n\n<p>This uses <a href=\"http://isotope.metafizzy.co/\" rel=\"nofollow\">Isotope</a> to create series of events, in a vertically time-sorted structure.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I saw other questions about libraries to create timelines with Javascript. There are some libraries, but they create horizontal timelines, but I want to create a vertical. </p>\n\n<p>So, which is a good library to create vertical timelines?</p>\n\n<p>I don't want a timeline like Facebook with posts, but  a simple timeline with years and items like in <a href=\"http://stackoverflow.com/questions/4700419/alternative-to-simile-timeline-for-timeline-visualization\">this question</a>, but vertical instead of horizontal.</p>\n",
            "last_activity_date": 1413220303,
            "question_id": 10418534,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "charts",
                "timeline"
            ],
            "title": "Creating vertical timelines with Javascript/jQquery"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>As far as i know you need to link to it using an Iframe, otherwise it will not fire the events.</p>\n\n<pre><code>&lt;iframe src='http://yourwebserver.com/ga-code-application-start.html' width='0' height='0'/&gt;&lt;/iframe&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>So you need an iframe to put the file with GA snippet inside. The file must be on remote server, because Samsung Smart TV apps works on localhost and GA ignore calls from local.</p>\n\n<pre><code>  &lt;iframe name='ga' src=\"http://example.com/ga.html\" width=\"0\" height=\"0\"/&gt;\n</code></pre>\n\n<p>From the GA snippet you can remove the line, if you don't want GA to count trackPage on iframe load.</p>\n\n<pre><code>  _gaq.push(['_trackPageview']);\n</code></pre>\n\n<p>Then in the main script you add this function:</p>\n\n<pre><code>  var trackPage = function(url) {\n    if (window.ga &amp;&amp; window.ga._gaq)\n      window.ga._gaq.push(['_trackPageview', '/samsung' + url.replace(/ /g, \"_\")]);\n  };\n</code></pre>\n\n<p>So calling for example <code>trackPage(\"/sports/football/barcelona chelsea\")</code> somewhere in the app will produce GA track page with exact url:</p>\n\n<pre><code> /samsung/sports/football/barcelona_chelsea\n</code></pre>\n\n<p>It is very efficient - you can play with GA Real time and you can see how nice it works.\nAs GA works asynchronous the iframe never gets reloaded.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I would recommend - and ended up with- implementing your/my own, with for example an Ajax call with GET to Google Analytics like described here <a href=\"http://stackoverflow.com/a/24181771/174953\">http://stackoverflow.com/a/24181771/174953</a>\nEspecially since all needed parameters can be found in GA's own documentation <a href=\"https://developers.google.com/analytics/devguides/collection/protocol/v1/parameters#content\" rel=\"nofollow\">https://developers.google.com/analytics/devguides/collection/protocol/v1/parameters#content</a></p>\n\n<p>I discovered in Samsungs forums that the iframe option didn't work on all models, I believe not on 2013+</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to integrate Google Analytics in my Smart TV Application.</p>\n\n<p>It is a Javascript based application, and I have tried all the solutions available on the SamsungDForum, but no one works.</p>\n\n<p>In the  part of the main index.html file, I load Google Analytics:</p>\n\n<pre><code>&lt;script type='text/javascript' async='true' src='https://ssl.google-analytics.com/ga.js'&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Then, I am tracking the page entrance:</p>\n\n<pre><code>&lt;script type='text/javascript'&gt;\n    var _gaq = _gaq || [];\n    _gaq.push([ '_setAccount', 'UA-XXXXXXXX-X' ]);\n    _gaq.push([ '_setCustomVar', 1, 'Device Information', 'Samsung Smart TV' ]);\n    _gaq.push([ '_trackPageview' ]);\n    _gaq.push([ '_trackEvent', \"Application\", \"Start\" ]);\n&lt;/script&gt;\n</code></pre>\n\n<p>Unfortunately, I cannot see the page tracked inside my Analytics account. Real account id is not UA-XXXXXXXX-X, I am using the correct ID in actual code.</p>\n\n<p>What I am doing wrong?</p>\n",
            "last_activity_date": 1423593593,
            "question_id": 10280646,
            "score": 6,
            "tags": [
                "javascript",
                "google-analytics",
                "analytics",
                "samsung-smart-tv"
            ],
            "title": "Google Analytics and Samsung Smart TV Apps"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You should change the container div class in order to change the color.</p>\n\n<p>Example using .progress-danger for red color:</p>\n\n<pre><code>&lt;div class=\"progress progress-danger\"&gt;\n  &lt;div class=\"bar\" style=\"width: 60%;\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>More colors (just substitute button for progress in the class name).\n<a href=\"http://twitter.github.com/bootstrap/base-css.html#buttons\" rel=\"nofollow\">http://twitter.github.com/bootstrap/base-css.html#buttons</a></p>\n\n<p><strong>Update:</strong>\nIn order to add the class name at runtime with javascript take a look at <a href=\"http://snipplr.com/view/2181/\" rel=\"nofollow\">http://snipplr.com/view/2181/</a> or <a href=\"http://api.jquery.com/addClass/\" rel=\"nofollow\">http://api.jquery.com/addClass/</a> if you are using jQuery.</p>\n\n<p>Hope it helps.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Your code is actually working, just that the progress bar is actually using a gradient as a color instead of a solid <code>background-color</code> property. In order to change the background color, set the <code>background-image</code> to <code>none</code> and your color will be picked up:</p>\n\n<pre><code>$('#pb').css({\n    'background-image': 'none',\n    'background-color': 'red'\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>Do you mean how to change the colours into one another at runtime?</p>\n\n<p>I can only imagine you do as you have not marked anyone as being correct. In the case you do mean this, then have a look at this very minimal jsFiddle</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;div class=\"progress\"&gt;\n    &lt;div class=\"bar bar-success\" style=\"width: 0%; opacity: 1;\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>jQuery(document).ready( function(){\n    window.percent = 0;\n    window.progressInterval = window.setInterval( function(){\n        if(window.percent &lt; 100) {\n            window.percent++;\n            jQuery('.progress').addClass('progress-striped').addClass('active');\n            jQuery('.progress .bar:first').removeClass().addClass('bar')\n            .addClass ( (percent &lt; 40) ? 'bar-danger' : ( (percent &lt; 80) ? 'bar-warning' : 'bar-success' ) ) ;\n            jQuery('.progress .bar:first').width(window.percent+'%');\n            jQuery('.progress .bar:first').text(window.percent+'%');\n        } else {\n            window.clearInterval(window.progressInterval);\n            jQuery('.progress').removeClass('progress-striped').removeClass('active');\n            jQuery('.progress .bar:first').text('Done!');\n        }\n    }, 100 );\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/LewisCowles1986/U9xw6/\" rel=\"nofollow\">http://jsfiddle.net/LewisCowles1986/U9xw6/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There is now a bootstrap 3.2 progress bar designer tool.</p>\n\n<p><a href=\"http://bootstrapdesigntools.com/tools/bootstrap-progress-bar-designer/\" rel=\"nofollow\">http://bootstrapdesigntools.com/tools/bootstrap-progress-bar-designer/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using this progress bar :</p>\n\n<p><a href=\"http://twitter.github.com/bootstrap/components.html#progress\">http://twitter.github.com/bootstrap/components.html#progress</a></p>\n\n<p>And would like to give it a custom color, known only at runtime\n(so hardcoding it in the css or less file is not an option)</p>\n\n<p>I have tried this :</p>\n\n<pre><code>&lt;div class=\"progress\"&gt;\n  &lt;div id='pb' class=\"bar\" style=\"width: 80%\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n  $('#pb').css({'background-color': \"red\"})\n&lt;/script&gt;\n</code></pre>\n\n<p>without success.</p>\n",
            "last_activity_date": 1421857624,
            "question_id": 9952446,
            "score": 6,
            "tags": [
                "javascript",
                "css",
                "twitter-bootstrap"
            ],
            "title": "How to change the color of a bootstrap (twitter) progress bar at runtime"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I've seen questions like this <a href=\"http://stackoverflow.com/a/8235235/201952\">before</a> &ndash; this is <strong>completely insecure</strong> <a href=\"http://www.matasano.com/articles/javascript-cryptography/\">for a number of reasons</a>, foremost of which is the fact that it is impossible for a JavaScript client to verify that the server's key is authentic.</p>\n\n<p>In a nutshell, without SSL, you are vulnerable to man-in-the-middle attacks.  No browser-based JavaScript crypto implementation can overcome this fact.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>Is the shared key inside the webpage that the client downloads from the internet?\nIf so than anyone intercepting the webpage can see the shared password.</p>\n\n<p>Or is the shared key to be keyed in by the client into the webpage?\nIf so than anyone intercepting the webpage can inject their own malicious script into the webpage to secretly send the inputed key to a third party.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Your system is massively insecure, but I'm not trying to dissuade you or anyone from playing around with stuff like this. You should continue to. But it is vital that you consider anything you create to be a \"toy\" system that should never be considered or advertised as \"secure\".</p>\n\n<p>Let's break down the security question into two parts.</p>\n\n<ol>\n<li>How secure is the key exchange?</li>\n<li>How secure is the encryption you use once you've got a shared key?</li>\n</ol>\n\n<p>Let me answer (2) first as that will be the simplest. It will be terribly insecure unless you are smarter than all of the people who've worked on and studied TLS over the years. TLS before version 1.2 (which few sites use) is vulnerable to Chosen Ciphertext Attacks (CCAs) in principle and to the <a href=\"http://luxsci.com/blog/is-ssltls-really-broken-by-the-beast-attack-what-is-the-real-story-what-should-i-do.html\" rel=\"nofollow\">BEAST attack</a> in practice depending on cipher suit choice.  And SSL 2.0 is more badly broken.</p>\n\n<p>The point is that very very smart people, working on these protocols over years, got some things wrong. There is every reason to believe that you are I working on these sorts of things on our own will make huge mistakes. The basic encryption algorithms are fine. They aren't broken. But the protocols are.</p>\n\n<p>So if you haven't studied and fully understood all of the details of SSL, why they are there and how they have gone wrong in some cases, then it is almost certain that any protocol you devise will be terrible.</p>\n\n<p>Now to question (2). There are two issues with this. (a) Diffie-Hellman is not designed to provide the sorts of security you probably need; and (b) I don't think that you've implemented DH correctly. </p>\n\n<p>2.a:</p>\n\n<p>Diffie-Hellman Key exchange, when done right, is secure for key exchange, but it does nothing for authentication. This is why the question \"is it secure\" is often the wrong question. It is secure for some purposes, but massively insecure for others as it isn't designed for those other purposes.</p>\n\n<p>As <a href=\"http://stackoverflow.com/users/201952/josh3736\">Josh3737</a> pointed out, there is no way for the client and the server to know that they are talking to the right party. If Sam is the server and Charlie is the Client, there is nothing that stops Mallory from setting up her own server that masquerades as Sam. So Cathy can go through the key exchange with Mallory, thinking that she is talking to Sam. Mallory can pretend to be Charlie when talking to Sam.</p>\n\n<p>Once set up this way, Mallory can act as a Man In The Middle between Sam and Charlie. When Charlie sends data intended to Sam, Mallory will decrypt it using the shared key between C and M, read it (and possibly change it), and then re-encrypt it the the shared key between M and S and send that off to S.</p>\n\n<p>To solve the authentication problem, you need some sort of Public Key Infrastructure (PKI) and these are really a pain. The system of Certificate Authorities and such that we have with SSL/TLS is fraught with problems, but it remains the best system out there.</p>\n\n<p>2.b:</p>\n\n<p>A 512 bit public modulus along with 512 bit private keys are not strong enough. DH keys need to be bigger. I wouldn't go with anything less than 2048 bits. You might get away with 1024 bits you aren't worried about someone being able to break today's secrets five years from now.</p>\n\n<p>You didn't give enough information on how your primes were selected. Not every prime will work. You need to use a \"safe prime\" for your modulus, otherwise there are shortcuts available for an attacker to compute the discrete logarithm. </p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>If you want to get around the SSL cert and man in the middle problem, you can use the bitcoin blockchain. (Or an altcoin blockchain.)</p>\n\n<p>The Huge Caveat: the client has to either download or maintain an entire file of the blockchain.</p>\n\n<p>There are two public/private key pairs:</p>\n\n<p>CERTpublic     CERTprivate</p>\n\n<p>CLIENTpublic   CLIENTprivate</p>\n\n<p>NAME REGISTRATION:</p>\n\n<pre><code>Server -&gt; CERTpublic and name_to_register -&gt; Bitcoin Blockchain\n</code></pre>\n\n<p>AUTHENTICATED CONNECTION:</p>\n\n<pre><code>Client &lt;- CERTpublic &lt;- Bitcoin Blockchain\nClient -&gt; CERTpublic(CLIENTpublic) -&gt; Server or Adversary\nClient &lt;- No_response_or_incorrect &lt;- Adversary \nClient &lt;- CLIENTpublic(CERTprivate(content)) &lt;- Server\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>After watching a YouTube video on the <a href=\"http://www.youtube.com/watch?v=3QnD2c4Xovk\">Diffie-Hellman Key Exchange</a>, I wanted to try an implementation in JavaScript (Atwood's law).</p>\n\n<p>I sketched up an cipher on Node.js with the following rules:</p>\n\n<ul>\n<li><p>Step 1: Client and server agree on a shared key:</p>\n\n<ul>\n<li><p>Client &amp; server start with a 512bit prime public key pK</p></li>\n<li><p>Client generates a 512bit prime private key kC and sends powMod(3, kC, pK)</p></li>\n<li><p>Server generates a 512bit prime private key kS and sends powMod(3, kS, pK)</p></li>\n<li><p>Client &amp; Server use powMod(response, privatekey, pK) as the shared key</p></li>\n</ul></li>\n<li><p>Step 2: Communication</p>\n\n<ul>\n<li><p>Before a client sends data it is encrypted with the shared key using the Stanford Javascript Crypto Library (256bit AES, HMAC authentication, PBKDF2 password strengthening, and CCM authenticated-encryption.)</p></li>\n<li><p>Once the server decrypts the data with the shared key, it generates a new 512bit prime private key and sends it as a SJCL encrypted response.</p></li>\n<li><p>The client and server switch to a new shared key using powMod(3, prevSharedKey, newPrivKey)</p></li>\n</ul></li>\n</ul>\n\n<p>Now I have a few questions..</p>\n\n<p>How secure would such a system be in comparison with HTTPS or other algorithms?  What are the weakest points of such a system?</p>\n\n<p>In terms of security / practicality, would it be better to use 1024 bit keys for stronger security?  Are the HMAC/PBKDF2/CCM options overkill?  Is it worth modulating the shared key?  Thanks for reading!</p>\n",
            "last_activity_date": 1396012928,
            "question_id": 9833527,
            "score": 6,
            "tags": [
                "javascript",
                "node.js",
                "encryption",
                "aes",
                "diffie-hellman"
            ],
            "title": "Client-side encryption over HTTP with Diffie-Hellman Key Exchange and AES"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>There's a big difference between CouchDB and Couchbase, if I'm right Couchbase use CouchDB to store the data but do not offer/present the views and others nice functionality of CouchDB.</p>\n\n<p>I went through the different API (ruby, php) from the Couchbase website and the Couchbase server documentation and I didn't find anything about view or map-reduce.\nsee doc: <a href=\"http://www.couchbase.com/docs/couchbase-manual-1.8.pdf\" rel=\"nofollow\">http://www.couchbase.com/docs/couchbase-manual-1.8.pdf</a></p>\n\n<p>Couchbase looks more like a memcache server with a persistence layer powered by CouchDB, and maybe it does not fit your needs. The data that you can store within can be anything from int to something serialize such as JSON, but in this case you have to unserialize it on all ends.</p>\n\n<p>Why are you using Couchbase instead of CouchDB? I do not have experience of the older Couchbase versions but I know that these name, even if they are quite similar refer to different applications and maybe it do worth looking further if it's really the one you are thinking about.</p>\n\n<p><strong>Edit</strong>\nInteresting link: <a href=\"http://damienkatz.net/2012/01/the_future_of_couchdb.html\" rel=\"nofollow\">http://damienkatz.net/2012/01/the_future_of_couchdb.html</a> read the comments as well, lot of interesting stuff within. </p>\n\n<p>From the comment I understand that Damien Katz is now working on this new project called Couchbase but it's not CouchDB's last version but just another NoSQL database. </p>\n\n<p>So if you were used to CouchDB you could just use the last version of CouchDB. Or if you want to consider switching to Couchbase, look at the features, roadmap for 2.0, etc. and investigate if it does really fit your needs.</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>With respect to Cyprien, your question does have a real answer besides \"don't use Couchbase.\"</p>\n\n<p>Memcache allows many more data types than CouchDB. Specifically, you can Memcache an empty string, the string \"{\", the string \"0\", or the string \"{}\". Only the last one is a valid JSON object that you can use as a CouchDB document. AFAIK the way that Couchbase works is that if a string that you SET or ADD is the JSON representation of a valid CouchDB document, it stores it as a CouchDB document, otherwise it stores it as an attachment. [zIt's a design decision that I don't agree with (they could have just inserted a <code>$value</code> key into the CouchDB document) but it kind of makes sense given that you could be passing very large objects, actual attachments, over the protocol interface.] Regardless, the <code>\"$att_reason\": \"invalid_json\"</code> is your hint that this is happening.</p>\n\n<p>The upcoming version of Couchbase, 2.0, now in developer preview, exposes almost all of the CouchDB functionality, except for Couch Apps (which are irrelevant if you're using Erlang anyways). So if you want to use that, you'll want to pass JSON of objects over the Memcache interface, but note that then you lose Memcache's atomic shortcuts (you'd need to do a compare-and-swap, which requires an extra network hop).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The relationship between Couchbase and CouchDB is covered in detail here: <a href=\"http://www.couchbase.com/couchdb\" rel=\"nofollow\">http://www.couchbase.com/couchdb</a></p>\n\n<p>In short, Couchbase is aimed at the main NoSQL use-case: big data that must be available for end-user interaction. Things like session storage for ad-targeting, game data storage for fast growing social games. Or anywhere user demands can grow unexpectedly.</p>\n\n<p>Couchbase is horizontally scalable, CouchDB is not. To get the scalability and speed Couchbase offers, we've hat to cut back some of the features people like in CouchDB. It's a different set of tradeoffs, but the common denominator is the JSON and the map reduce index model.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>As of now, the only way i have worked with newer versions of <strong><a href=\"http://www.couchbase.com/\">CouchBase</a></strong>, is through a <strong><a href=\"http://code.google.com/p/memcached/wiki/Clients\">memcached Client</a></strong>. I use <strong><a href=\"http://www.erlang.org\">Erlang</a></strong> as the programming language and so i had grabbed myself an <strong><a href=\"http://github.com/joewilliams/merle/tree/master\">Erlang Memcached Client</a></strong>. I noticed that this client serialises and de-serialises erlang terms (both Key and Value) by converting them from and to binary using <code>erlang:term_to_binary/1 and erlang:binary_to_term/1</code> when sending and receiving data from <strong><a href=\"http://memcached.org/\">memcached</a></strong>.<br><br>\nWhile setting up CouchBase, we are asked to choose either memcached buckets or CouchBase buckets (vbuckets). Now, i chose CouchBase (because i needed persistence). I started interacting with the setup using the erlang memcached client and it is okay, i save erlang terms and get back erlang terms from the database. However, the problems begin here:<br><br>1. Because of data serialization, objects are received as attachments.Even if sent as JSON From Erlang, they are sent as binary data which makes no meaning to CouchBase (or Memcached ?)<pre>\n{ \n    \"_id\": \"mykey\",\n    \"_rev\": \"1-000010fb1a2b02ef0000000d59960000\",\n    \"$flags\": 38489, \n    \"$expiration\": 0,\n    \"$att_reason\": \"invalid_json\",\n    \"_attachments\": {\n    \"value\": {\n                \"content_type\": \"application/content-stream\",\n                \"revpos\": 2,\n                \"digest\": \"md5-n3mJhf2kKVQtkIunIbCJZQ==\",\n                \"length\": 13,\n                \"stub\": true\n            }\n        }\n    }\n</pre><br>2. As a result of this, this data cannot be searched, manipulated through <b><a href=\"http://guide.couchdb.org/draft/views.html\">CouchDB views</a></b>. The only way to get the data is by \"Key\", however nested an object may be. With original Couch DB, we could write <b><a href=\"http://wiki.apache.org/couchdb/Introduction_to_CouchDB_views\">Advanced Views, Map reduce</a></b> to search and manipulate JSON data in the database e.t.c<br><br>3. Hence, we cannot clearly use things like: <b><a href=\"http://couchapp.org/page/what-is-couchapp\">Couch Apps</a></b> and <b><a href=\"http://guide.couchdb.org/editions/1/en/managing.html\">Design Documents</a></b> with Couch Base as we used to do with Couch DB, because, these features are meant for JSON data processing within Couch.<br><br><b>Questions</b><br>1. I understand that CouchBase is looking at a different approach from CouchDB, however, as a developer i feel like a lot has been taken away from us. No more Couch Apps, Design Docs, Views, e.t.c ? <br>2. Probably, i am getting something wrong here, can some one please show me how i can still do all this with Couch Base as i did with original Couch DB ?<br>3. Is there any other way to insert, read or update data in Couch Base 1.8 and above, (using erlang) other than an Erlang memcached client ? This is because, there is data serialization which makes this data useless to other technologies within the same project as they may not be able to decode Erlang data Structures<br>4. In a multi-language project where we have PHP Developers, C++, Erlang, Ruby e.t.c. working with the same Couch Base instance (Database), with the data serialization, how are we supposed to access and understand data across all technologies ? <br><br> Someone assist point out the changes from CouchDB to Couch Base, explain why the new Couch Base is so tied up to Memcached to a point where by we have to use memcached clients to speak with CouchBase. Also, if there is another Erlang-to-CouchBase SDK which can help me speak JSON (and NOT serialized data) from and to Couch Base, i wish to lay my hands on it.<br><br><b><strong>** EDIT **</strong></b><br> Assume the following: CouchBase x86_64 1.8.0 and Erlang OTP R15B. I need to work with JSON data in Couch Base so that in a large multi-language project, our applications operate the same data set without having serialization challenges. Thank you</p>\n",
            "last_activity_date": 1344368324,
            "question_id": 9462995,
            "score": 6,
            "tags": [
                "java",
                "javascript",
                "python",
                "erlang",
                "couchdb"
            ],
            "title": "CouchBase mixed with Memcached, loss of most CouchDB philosophies and functionality?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I doubt that you will be able to decode jpeg 2000 and jpeg-ls in a reasonable time using just javascript.</p>\n\n<p>The best way to go is to look for a browser plugin that is able to display such images.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I believe <a href=\"https://github.com/mozilla/pdf.js\" rel=\"nofollow\">pdf.js</a> project can decode jpeg2000 images compressed in a pdf file. See this <a href=\"https://github.com/mozilla/pdf.js/blob/93ca387d1bbc5f824907aa5504d212e50280032a/src/stream.js#L872\" rel=\"nofollow\">comment</a> and this <a href=\"https://twitter.com/#!/pdfjs/status/160445587102240770\" rel=\"nofollow\">tweet</a>.</p>\n\n<p>Hope it helps.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Since JPEG 2000 images don't render natively in browsers, you'll probably have to convert them to something that browsers can render before using them on a web-page.  The easiest way to do this would be to just convert the images server side to some web-safe format then serve the converted images to the browser.  However, if you're determined to do it client side then, then there is an example of using JavaScript to decode JPEG 2000 images here: <a href=\"https://github.com/kripken/j2k.js/blob/master/examples/simple.html\" rel=\"nofollow\">https://github.com/kripken/j2k.js/blob/master/examples/simple.html</a>.</p>\n\n<p>This works using a JavaScript compilation of the <a href=\"http://www.openjpeg.org/\" rel=\"nofollow\">OpenJPEG</a> library, available <a href=\"http://www.syntensity.com/static/openjpeg.cc.js\" rel=\"nofollow\">here</a>.  This this is an automatic conversion it's not the nicest to use, but they supply the following function makes it's use a bit easier:</p>\n\n<pre><code>// Wrapper around OpenJPEG..\n//Converts the given j2k image array to RGB values that\n//can be put into a Canvas..\nfunction j2k_to_image(data) {\n    run();\n    _STDIO.prepare('image.j2k', data);\n    callMain(['-i', 'image.j2k', '-o', 'image.raw']);\n    return _STDIO.streams[_STDIO.filenames['image.raw']].data;\n}\n</code></pre>\n\n<p>Here <code>data</code> is expected to be JavaScript array of bytes (well JavaScript numbers with values between 0 and 255 inclusive) as in the <a href=\"http://www.syntensity.com/static/syntensity_lobby.j2k.js\" rel=\"nofollow\">example file</a>.  You could get this by converting the images to this form server side, or Ajaxing them in and treating the response as binary data (see <a href=\"https://developer.mozilla.org/En/XMLHttpRequest/Using_XMLHttpRequest\" rel=\"nofollow\">MDN's using XHR's</a> on how to do this for Firefox at least, other browsers probably need <a href=\"http://emilsblog.lerch.org/2009/07/javascript-hacks-using-xhr-to-load.html\" rel=\"nofollow\">different methods</a>).  The output of this function is then put into a Canvas element like so:</p>\n\n<pre><code>  output = j2k_to_image([255, 0, 123, ...]); //pass in the JPEG 2000 image as an array\n\n  var canvas = document.getElementById('canvas'); //get the canvas element (use whatever you actually need here!)\n  canvas.width = imageWidth;\n  canvas.height = imageHeight;\n\n  var ctx = canvas.getContext('2d');\n  var image = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\n  var componentSize = canvas.width*canvas.height;\n  for (var y = 0; y &lt; canvas.height; y++) {\n    for (var x = 0; x &lt; canvas.width; x++) {\n      var value = output[y*canvas.width + x];\n      var base = (y*canvas.width + x)*4;\n      image.data[base + 0] = output[0*componentSize + y*canvas.width + x];\n      image.data[base + 1] = output[1*componentSize + y*canvas.width + x];\n      image.data[base + 2] = output[2*componentSize + y*canvas.width + x];\n      image.data[base + 3] = 255; //the alpha part..\n    }\n  }\n  ctx.putImageData(image, 0, 0);\n</code></pre>\n\n<p>Since this uses the Canvas element means this won't work in IE8, but for that it might be possible to do something else.  For example, you could try getting the converted image data in the right format for a bitmap or some other simple IE compatible format, base64 encoding it then sticking it in as the source of an image element, see <a href=\"http://css-tricks.com/data-uris/\" rel=\"nofollow\">http://css-tricks.com/data-uris/</a> for examples of how to use data urls like this. </p>\n",
                    "is_accepted": false,
                    "score": 12
                }
            ],
            "body": "<p>I'm using HTML5 technology with the FileApi.</p>\n\n<p>My problem is very simple, but i'm searching since 2 days ago and I have not find anything on the web</p>\n\n<p>I have a DicomFile. I use the FileApi from HTML5 to break it down, and get all the information. Finally I get the image data in a byte array. \nThe problem is that I can not decode a JPEG2000 Image and show it in the browser (Chrome, FireFox, any). For example, if the image data is coded in JPEG format, I have no problem at all to show the image in the browser, but the problem is with JPEG2000 or JPEG-LS. I know that those Image formats aren't able to show in the web browers, but It must exist a library in Javascript to decode the image data that is in JPEG2000 or JPEG-LS.\nIt's very important and I am a bit desesperate.</p>\n\n<p>If I can not find any way to do this, I'll have to change all my work.</p>\n\n<p>Thank you very much in advance</p>\n",
            "last_activity_date": 1403195622,
            "question_id": 9296577,
            "score": 6,
            "tags": [
                "javascript",
                "decode",
                "dicom",
                "fileapi",
                "jpeg2000"
            ],
            "title": "Decode JPEG2000 bitarray image with Javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>First, I encourage you to read <a href=\"http://stackoverflow.com/a/8765254/405017\">this answer</a> to another question involving the HTML5 Canvas. You need to understand that there are no squares. In order to detect a click on a 'square', you would have to keep track of a mapping from each canvas coordinate to the square(s) that it logically contains, handle a single click event on the entire canvas, work out which square(s) you want to change, and then redraw the canvas with the changes you want.</p>\n\n<p>Then\u2014since you seem to have no objection to using a more appropriate technology\u2014I encourage you to do this in either HTML (where each 'square' is something like a <code>&lt;div&gt;</code> that is absolutely-positioned and sized and colored using CSS), or SVG (using <code>&lt;rect&gt;</code> if you need the squares to be able to be rotated, or want to introduce other shapes).</p>\n\n<p>HTML and SVG are both 'retained-mode' graphics mode systems, where drawing a shape 'retains' the concept of that shape. You can move the shape, change its colors, size, etc. and the computer will automatically redraw it for you. Moreover, and more importantly for your use case, you can (with both HTML and SVG):</p>\n\n<pre><code>function changeColor(evt){\n  var clickedOn = evt.target;\n  // for HTML\n  clickedOn.style.backgroundColor = '#f00';\n\n  // for SVG\n  clickedOn.setAttribute('fill','red');\n}\nmySquare.addEventListener('click',changeColor,false);\n</code></pre>\n\n<hr>\n\n<p><strong>Edit</strong>: I've created a simple implementation in JavaScript and HTML: <a href=\"http://jsfiddle.net/6qkdP/2/\">http://jsfiddle.net/6qkdP/2/</a></p>\n\n<p>Here's the core code, in case JSFiddle is down:</p>\n\n<pre><code>function clickableGrid( rows, cols, callback ){\n  var i=0;\n  var grid = document.createElement('table');\n  grid.className = 'grid';\n  for (var r=0;r&lt;rows;++r){\n    var tr = grid.appendChild(document.createElement('tr'));\n    for (var c=0;c&lt;cols;++c){\n      var cell = tr.appendChild(document.createElement('td'));\n      cell.innerHTML = ++i;\n      cell.addEventListener('click',(function(el,r,c,i){\n        return function(){ callback(el,r,c,i); }\n       })(cell,r,c,i),false);\n    }\n  }\n  return grid;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>EDIT: Using HTML elements rather than drawing these things on a canvas or using SVG is another option and quite possibly preferable.</p>\n\n<p><img src=\"http://i.stack.imgur.com/E87C7.png\" alt=\"enter image description here\"></p>\n\n<p>Following up on Phrogz's suggestions, see here for an SVG implementation:</p>\n\n<h2><a href=\"http://jsfiddle.net/CVVE6/11\" rel=\"nofollow\">jsfiddle example</a></h2>\n\n<pre><code>document.createSvg = function(tagName) {\n    var svgNS = \"http://www.w3.org/2000/svg\";\n    return this.createElementNS(svgNS, tagName);\n};\n\nvar numberPerSide = 20;\nvar size = 10;\nvar pixelsPerSide = 400;\n\n\n\nvar grid = function(numberPerSide, size, pixelsPerSide, colors) {\n    var svg = document.createSvg(\"svg\");\n    svg.setAttribute(\"width\", pixelsPerSide);\n    svg.setAttribute(\"height\", pixelsPerSide);\n    svg.setAttribute(\"viewBox\", [0, 0, numberPerSide * size, numberPerSide * size].join(\" \"));\n\n    for(var i = 0; i &lt; numberPerSide; i++) {\n        for(var j = 0; j &lt; numberPerSide; j++) {\n          var color1 = colors[(i+j) % colors.length];\n          var color2 = colors[(i+j+1) % colors.length];  \n          var g = document.createSvg(\"g\");\n          g.setAttribute(\"transform\", [\"translate(\", i*size, \",\", j*size, \")\"].join(\"\"));\n          var number = numberPerSide * i + j;\n          var box = document.createSvg(\"rect\");\n          box.setAttribute(\"width\", size);\n          box.setAttribute(\"height\", size);\n          box.setAttribute(\"fill\", color1);\n          box.setAttribute(\"id\", \"b\" + number); \n          g.appendChild(box);\n          var text = document.createSvg(\"text\");\n          text.appendChild(document.createTextNode(i * numberPerSide + j));\n          text.setAttribute(\"fill\", color2);\n          text.setAttribute(\"font-size\", 6);\n          text.setAttribute(\"x\", 0);\n          text.setAttribute(\"y\", size/2);\n          text.setAttribute(\"id\", \"t\" + number);\n          g.appendChild(text);\n          svg.appendChild(g);\n        }  \n    }\n    svg.addEventListener(\n        \"click\",\n        function(e){\n            var id = e.target.id;\n            if(id)\n                alert(id.substring(1));\n        },\n        false);\n    return svg;\n};\n\nvar container = document.getElementById(\"container\");\ncontainer.appendChild(grid(5, 10, 200, [\"red\", \"white\"]));\ncontainer.appendChild(grid(3, 10, 200, [\"white\", \"black\", \"yellow\"]));\ncontainer.appendChild(grid(7, 10, 200, [\"blue\", \"magenta\", \"cyan\", \"cornflowerblue\"]));\ncontainer.appendChild(grid(2, 8, 200, [\"turquoise\", \"gold\"]));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I want to draw a grid of 10 x 10 squares on a HTML5 canvas with number 1-100 displayed on the squares. Clicking a square should call a JavaScript function with the square's number passed as a variable to the function.</p>\n",
            "last_activity_date": 1394802906,
            "question_id": 9140101,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "html5",
                "canvas"
            ],
            "title": "Creating a Clickable Grid in a Web Browser"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Wrap it in an anonymous function wherein you pass it as extra argument.</p>\n\n<pre><code>&lt;h:commandLink value=\"do something boy!\"&gt;\n    &lt;f:ajax render=\"@form\" execute=\"@form\" listener=\"#{myBean.doStuff}\"\n        onevent=\"function(data) { showProgress(data, 'extraValue') }\" /&gt;\n&lt;/h:commandLink&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>function showProgress(data, extraParam) {\n    // Use \"data\" argument the usual way.\n    // The \"extraParam\" argument will contain \"extraValue\" in above example.\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 19
                }
            ],
            "body": "<p>In my <strong>JSF 2.0</strong> (on <strong>JBoss AS 7</strong>) project, I would like on my ajax submitted forms to display a little icon status triggered on begin and complete phases, to let the end user know that something is still happening.</p>\n\n<p>The <a href=\"http://www.primefaces.org/showcase/ui/pprAjaxStatus.jsf\">primefaces <code>p:ajaxStatus</code></a> is not useful here, as I'd like to have many different icons at different places in my page.</p>\n\n<p>I found a bit of the solution in this question: \"<a href=\"http://stackoverflow.com/questions/7043840/jsf-2-how-show-different-ajax-status-in-same-input\">How show different ajax status in same input?</a>\", but I still have a problem: in order to make my javascript function reusable, I need to provide an extra parameter to the call.</p>\n\n<p>I did something like this:</p>\n\n<pre><code>&lt;h:commandLink value=\"do something boy!\"&gt;\n    &lt;f:ajax render=\"@form\" execute=\"@form\" listener=\"#{myBean.doStuff}\"\n        onevent=\"showProgress\" /&gt;\n    &lt;f:param name=\"extraParam\" value=\"extraValue\" /&gt;\n&lt;/h:commandLink&gt;\n</code></pre>\n\n<p>and I can see the parameter \"extraParam\" sent to the server through the request, but in my javascript <code>showProgress</code> method I cannot recover it through the only given parameter.</p>\n\n<p>So my questions is: <strong>can I provide to my <code>f:ajax onevent</code> javascript method an additionnal parameter through <code>f:param</code> (or maybe <code>f:attribute</code>, or anything else)?</strong></p>\n",
            "last_activity_date": 1327945264,
            "question_id": 9067685,
            "score": 6,
            "tags": [
                "javascript",
                "ajax",
                "jsf-2"
            ],
            "title": "Passing extra parameter to f:ajax onevent function"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Couple of ideas.  First, I would use the chart <a href=\"http://www.highcharts.com/ref/#chart-events--redraw\" rel=\"nofollow\">redraw</a> event to know when the chart is being redrawn (say on a zoom).  Then second, explicitly place your images at the axis locations of interest.  To get those query directly out of the DOM.</p>\n\n<p>Using jQuery:</p>\n\n<pre><code>$('.highcharts-axis') //return an array of the two axis.\n</code></pre>\n\n<p>They will have svg \"text element\" children with (x, y) positions.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Building on Mark's suggestion using <code>redraw</code> event to position the images and using <code>load</code> event to create them. Adding them on <code>load</code> is necessary to make them available during export and you would not want to create new images on each <code>redraw</code> either.</p>\n\n<p>These chart events are used: </p>\n\n<pre><code>events: {\n    load: drawImages,\n    redraw: alignImages\n}\n</code></pre>\n\n<p>In the <code>drawImages</code> function I'm using the inverse translation for the xAxis to position the images on the chart:</p>\n\n<pre><code>x = chart.plotLeft + chart.xAxis[0].translate(i, false) - imageWidth / 2,\ny = chart.plotTop - imageWidth / 2;\n</code></pre>\n\n<p>and then adding them and setting a click handler, zIndex, pointer cursor:</p>\n\n<pre><code>chart.renderer.image('http://highcharts.com/demo/gfx/sun.png', x, y, imageWidth, imageWidth)\n    .on('click', function() {\n        location.href = 'http://example.com'\n    })\n    .attr({\n        zIndex: 100\n    })\n    .css({\n        cursor: 'pointer'\n    })\n   .add(); \n</code></pre>\n\n<p>In <code>alignImages</code> the <code>attr</code> function is used to set new x and y values for the images which are calculated the in the same way as in <code>drawImages</code>.</p>\n\n<p>Full example on <a href=\"http://jsfiddle.net/jnjqt/\">jsfiddle</a></p>\n\n<p>Screenshot:</p>\n\n<p><img src=\"http://i.stack.imgur.com/RZon1.png\" alt=\"screenshot\"></p>\n",
                    "is_accepted": true,
                    "score": 16
                }
            ],
            "body": "<p>I'm building in some custom functionality where users can click on data points in a line chart to add notes to that date. This is a bit misleading as the notes aren't actually attached to the metrics themselves but rather the date it lands on. In other words, if I have 6 series on one line chart that spans the dates 01/01/12 - 01/08/12, a single note on 01/05/12 will apply to all 6 series. So, as you can imagine clicking on a data point on one of the 6 series or the date 01/05/12 would mislead the user to believe that this note would be applied to that data point, not the entire date and any series that lands on that date.</p>\n\n<p>So, to remedy this usability issue I've decided that the best visual cue would be something like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/OJMR1.png\" alt=\"enter image description here\"></p>\n\n<p>There would be a clickable icon at the top of each xAxis gridLine that would need to scale with the xAxis gridLine (like if a user selects an area to zoom in on).</p>\n\n<p>Suggestions on best way to pull this off? I only need a suggestion for how best to add the icon to every line... I have all post-click functionality already built.</p>\n",
            "last_activity_date": 1406830849,
            "question_id": 8794682,
            "score": 6,
            "tags": [
                "javascript",
                "highcharts"
            ],
            "title": "Highcharts: Adding clickable image to every xAxis gridLine"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<h2>An alternative solution, without fooling around with Mustache.js</h2>\n\n<p>Instead of fooling around with mustache you might as well use a <code>&lt;ol&gt;&lt;/ol&gt;</code> instead of <code>&lt;ul&gt;&lt;/ul&gt;</code>, that will prefix each item with <code>index+1</code>.</p>\n\n<p><em>If you'd like you can use css to change the starting number to 0, and it will render exactly as you want. You can even change the <code>dot</code> after the number, to something such as <code>\" - \"</code>, and problem is solved.</em></p>\n\n<pre><code>&lt;ol&gt;\n  &lt;li&gt;Mercury&lt;/li&gt;\n  &lt;li&gt;Venus&lt;/li&gt;\n  &lt;li&gt;Earth&lt;/li&gt;\n  &lt;li&gt;Mars&lt;/li&gt;\n&lt;/ol&gt;\n</code></pre>\n\n<p>the above will render as:</p>\n\n<pre><code>1. Mercury\n2. Venus\n3. Earth\n4. Mars\n</code></pre>\n\n<hr>\n\n<h2>the Mustache.js way to do it</h2>\n\n<p>The proper method if you'd like to do it in mustache is to convert your array of strings to an array of objects, where index and string value is present.</p>\n\n<pre><code>// I wrote this from the back of my head, it's untested and not guaranteed\n// to work without modifications, though the theory behind it is valid.\n\n\nvar array     = [\"123\",\"stackoverflow\",\"abc\"];\nvar obj_array = [];\n\nfor (idx in array)\n   obj_array.push ({'index': idx, 'str': array[idx]});\n\nvar view     = {items: obj_array};\nvar template = \"&lt;ul&gt;{{#items}}&lt;li&gt;{{index}} - {{str}}&lt;/li&gt;{{/items}}&lt;/ul&gt;\";\nvar html     = Mustache.to_html(template,view);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>If you can use handlebars.js, then you can use the partial mentioned in this gist:\n<a href=\"https://gist.github.com/1048968\" rel=\"nofollow\">https://gist.github.com/1048968</a></p>\n\n<p>Ref: <a href=\"http://stackoverflow.com/questions/5021495/in-mustache-how-to-get-the-index-of-the-current-section\">In Mustache, How to get the index of the current Section</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Looking for a fast clean solution?</p>\n\n<h2>Simply add an <code>index</code> function</h2>\n\n<pre><code>var data = {\n    items: [{\n            name: Aliasghar\n            , grade: 19\n        }, {\n            name: Afagh\n            , grade: 20\n    }]\n    , index: function() {\n        return ++window['INDEX']||(window['INDEX']=0);\n    }\n}\n</code></pre>\n\n<p>and your template could be like this: </p>\n\n<pre><code>{{#items}}\n    {{index}} -- {{name}} is {{grade}}\n{{/items}}\n</code></pre>\n\n<hr>\n\n<h2>How it works</h2>\n\n<p>We add a <code>index: function(){}</code> to data and we use it as a normal function in template.\nThis function adds a key to the <code>window</code> object which is available globally; then increases it one by one.</p>\n\n<h2>To use with multiple lists</h2>\n\n<p>Please note that if you are using multiple templates one after another you need to either reset <code>window['INDEX']</code> or change it's key to something else like <code>window['YEKI_DIGE']</code>.\nAnother way of doing this is by adding a <code>resetIndex</code> function. Here is the way:</p>\n\n<pre><code>var data = {\n    items: [{\n            name: Aliasghar\n            , grade: 19\n        }, {\n            name: Afagh\n            , grade: 20\n    }]\n    , index: function() {\n        return ++window['INDEX']||(window['INDEX']=0);\n    }\n    , resetIndex: function() {\n        window['INDEX']=null;\n        return;\n    }\n}\n</code></pre>\n\n<p>and your template could be like this: </p>\n\n<pre><code>{{#items}}\n    {{index}} -- {{name}} is {{grade}}\n{{/items}}\n{{resetIndex}}\n</code></pre>\n\n<p>Inspired by this answer: <a href=\"http://stackoverflow.com/a/10208239/257479\">http://stackoverflow.com/a/10208239/257479</a> from <a href=\"http://stackoverflow.com/users/310359/dave\">dave</a> on <a href=\"http://stackoverflow.com/questions/5021495\">In Mustache, How to get the index of the current Section</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>If you want to access the index multiple times per item, I would suggest something like the following.</p>\n\n<pre><code>var data = {\n    items: [{\n        name: Aliasghar\n        , grade: 19\n    }, {\n        name: Afagh\n        , grade: 20\n    }]\n    , setUpIndex: function() {\n        return ++window['INDEX']||(window['INDEX']=0);\n    }\n    , getIndex: function() {\n        return window['INDEX'];\n    }\n    , resetIndex: function() {\n        window['INDEX']=null;\n        return;\n    }\n}\n</code></pre>\n\n<ul>\n<li>Use the <code>restIndex</code> function before iterating each list in Mustache. </li>\n<li>Use the <code>setUpIndex</code> function at the start of each list item to set up the index for that item.</li>\n<li>Use the <code>getIndex</code> item to access the index.</li>\n</ul>\n\n<p>As an example, consider this.</p>\n\n<pre><code>{{resetIndex}}\n{{#items}}\n    {{setUpIndex}}\n    {{getIndex}}. {{name}} is at index {{getIndex}}\n{{/items}}\n</code></pre>\n\n<p>Notice how you can access index more than once per item without getting the wrong value.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>This is what I'd like to do in Mustache.js but not seeing how with the documentation.</p>\n\n<pre><code>var view = {items:['Mercury','Venus','Earth','Mars']};\nvar template = \"&lt;ul&gt; {{#items}}&lt;li&gt;{{i}} - {{.}}&lt;/li&gt;{{/items}} &lt;/ul&gt;\";\nvar html = Mustache.to_html(template,view);\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;li&gt;0 - Mercury&lt;/li&gt;\n  &lt;li&gt;1 - Venus&lt;/li&gt;\n  &lt;li&gt;2 - Earth&lt;/li&gt;\n  &lt;li&gt;3 - Mars&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n",
            "last_activity_date": 1394090652,
            "question_id": 8567413,
            "score": 6,
            "tags": [
                "javascript",
                "iterator",
                "mustache"
            ],
            "title": "Index of an array element in Mustache.js"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>It looks like you imply that <code>.css()</code> method works like CSS attributes in a .css file. I don't think it works like that. But here are few alternatives:</p>\n\n<ol>\n<li><p>Use browser sniffing (why not? you already doing multi-browser CSS with vendor prefixes)</p></li>\n<li><p>Use actual stylesheet linked as <code>&lt;link /&gt;</code> tag</p></li>\n<li><p>Create <code>&lt;style&gt;</code> tag and add rules to it, dynamically.</p></li>\n<li><p>Use style attribute: <code>$('#my').attr('style', 'background: ...; bakground: ...; border-radius: ...; -moz-border-radius: ...;');</code></p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>You need to create a custom <code>$.cssHooks</code> (<a href=\"http://api.jquery.com/jQuery.cssHooks/\" rel=\"nofollow\">more info</a>) that determines which one is the correct form, \nby doing various tests --- or you could just use a css class with <code>$.fn.addClass</code>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>My advice would be to put your CSS into your stylesheet in it's own class, and simply add that class to your element instead. The browser itself will determine which of the <code>background-image</code> properties it supports, and will therefore only render that one.</p>\n\n<p>CSS</p>\n\n<pre><code>.gradient-bg {\n    background-color: #000;\n    background-image: -webkit-linear-gradient(top, #000, #fff);\n    background-image: linear-gradient(top, #000, #fff)\n}\n</code></pre>\n\n<p>jQuery</p>\n\n<pre><code>$(\".element\").addClass(\"gradient-bg\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Having multiple keys with the same name is not valid, and will generate an error in strict mode.</p>\n\n<p>Create a function/plugin which applies the properties of your <code>cssObj</code>. If a string-string pair is found, set a CSS property with the desired value.<br />\nIf an array is found, loop through it, and update the property with each value. If an invalid value is found, it's ignored.</p>\n\n<p><strong>DEMO: <a href=\"http://jsfiddle.net/RgfQw/\">http://jsfiddle.net/RgfQw/</a></strong></p>\n\n<pre><code>// Created a plugin for project portability\n(function($){\n    $.fn.cssMap = function(map){\n        var $element = this;\n        $.each(map, function(property, value){\n            if (value instanceof Array) {\n                for(var i=0, len=value.length; i&lt;len; i++) {\n                    $element.css(property, value[i]);\n                }\n            } else {\n                $element.css(property, value);\n            }\n        });\n    }\n})(jQuery);\n\n// Usage:\nvar cssObj = {\n    'background-color': '#000',\n    'background-image': ['-webkit-linear-gradient(top,#000,#fff)',\n                         'linear-gradient(top,#000,#fff)']\n};\n$(\".element\").cssMap(cssObj);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>There is a repository of cssHooks on github for most properties. Writing your own hook is tricky, lots of edge cases.</p>\n\n<p><a href=\"https://github.com/brandonaaron/jquery-cssHooks\" rel=\"nofollow\">https://github.com/brandonaaron/jquery-cssHooks</a></p>\n\n<p>For background image gradient, you'd need:</p>\n\n<p><a href=\"https://github.com/brandonaaron/jquery-cssHooks/blob/master/gradients.js\" rel=\"nofollow\">https://github.com/brandonaaron/jquery-cssHooks/blob/master/gradients.js</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I use jQuery's <code>.css()</code> method to apply styles to an element. I do this like so:</p>\n\n<pre><code>var cssObj = {\n    'background-color' : '#000',\n    'background-image': '-webkit-linear-gradient(top,#000,#fff)',\n    'background-image': 'linear-gradient(top,#000,#fff)'\n};\n\n$(\".element\").css(cssObj);\n</code></pre>\n\n<p>The problem with this is that obviously I use duplicate keys in the object, which is not cool.</p>\n\n<p>How can I solve this problem? I need to pass the CSS params with duplicate names to address most browsers.</p>\n",
            "last_activity_date": 1362685548,
            "question_id": 8457388,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "css"
            ],
            "title": "Build JavaScript Object to use with jQuery .css() (what about duplicate keys?)"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>try this instead:</p>\n\n<pre><code>myVideoTag = document.getElementById('video');\nmyVideoTag.addEventListener('progress', function(e) {\n    var percent = null;\n    // FF4+, Chrome\n    if (myVideoTag &amp;&amp; myVideoTag.buffered &amp;&amp; myVideoTag.buffered.length &gt; 0 &amp;&amp; myVideoTag.buffered.end &amp;&amp; myVideoTag.duration) {\n        percent = myVideoTag.buffered.end(0) / myVideoTag.duration;\n    } \n    // Some browsers (e.g., FF3.6 and Safari 5) cannot calculate target.bufferered.end()\n    // to be anything other than 0. If the byte count is available we use this instead.\n    // Browsers that support the else if do not seem to have the bufferedBytes value and\n    // should skip to there. Tested in Safari 5, Webkit head, FF3.6, Chrome 6, IE 7/8.\n    else if (myVideoTag &amp;&amp; myVideoTag.bytesTotal != undefined &amp;&amp; myVideoTag.bytesTotal &gt; 0 &amp;&amp; myVideoTag.bufferedBytes != undefined) {\n        percent = myVideoTag.bufferedBytes / myVideoTag.bytesTotal;\n    }\n\n    if (percent !== null) {\n        percent = 100 * Math.min(1, Math.max(0, percent));\n\n        // ... do something with var percent here (e.g. update the progress bar)\n\n    }\n\n}, false);\n</code></pre>\n\n<p>... comments copied from mediaelement.js, code as well but adjusted for easier display here. I omitted the code for Firefox 3.0 as it's less than relevant. \nworking fine in all current browsers</p>\n\n<p>PS: thx to John Dyer for mejs - great stuff ;)</p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I'm trying to detect when a video file has completed loading. i made it work successfully on firefox and safari but on chrome, buffered event behaves strange..\nso,\nin my local host chrome works fine but when i upload to server;</p>\n\n<ol>\n<li><p>buffer percentage stops about %50 but buffers %100,</p></li>\n<li><p>when page refreshed, percentage stay at %0 but it continues to buffering..</p></li>\n</ol>\n\n<p>here is my javascript</p>\n\n<pre><code>function loaded()\n        {\n            var v = document.getElementById('myVideo');\n            var r = v.buffered;\n            var total = v.duration;\n            var current=v.currentTime;\n            var start = r.start(0);\n                    var end = r.end(0); \n            var downloadPercent= Math.round((end / total)*100)\n            $(\"#loadProgress\").css('width',downloadPercent+ '%');\n\n                    if(downloadPercent==100){\n                $(\"#preloaderWrapper\").fadeOut(function(){\n                document.getElementById('myVideo').play();\n                clearInterval(ratoteLoad);\n                $(this).remove();                   \n                    });             \n            }       \n\n        }   \n\n            $('#myVideo').bind('progress', function() \n            {\n                loaded();\n            });\n</code></pre>\n\n<p>any idea?\nthank you</p>\n",
            "last_activity_date": 1323075963,
            "question_id": 8364313,
            "score": 6,
            "tags": [
                "javascript",
                "html5",
                "google-chrome",
                "video",
                "buffer"
            ],
            "title": "chrome html5 video buffered.end event"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><code>this</code> is in no way relevant to scope.</p>\n\n<pre><code>(function(){\n    (function(){\n        (function(){\n\n            (function(){\n            alert( this ); //global object\n            })()\n\n        }).bind({})()\n    }).apply({})\n}).call({})\n</code></pre>\n\n<p><code>this</code> is only resolved during the call time of the function and comes down to few simple rules.</p>\n\n<ol>\n<li>If the function is called as a property of some object, then that object will be <code>this</code> inside the function</li>\n<li>If the function is called as is, <code>this</code> will be undefined so under non strict mode it will be the global object</li>\n<li>If the function is called with <code>.call/.apply</code> then <code>this</code> is explicitly set by yourself.</li>\n</ol>\n\n<p>So as you can see, it would fall under rule #2, which resolves to <code>undefined</code>. And since there is no <code>\"use strict\";</code>:</p>\n\n<blockquote>\n  <p>set the ThisBinding to the global object</p>\n</blockquote>\n\n<p>Edit: I have now ran some quick tests in RingoJS and they infact put the \"global object\" inside the actual global object (as defined by standards) which is <code>ModuleScope</code>. Just because the actual global object in most js implementations has Object and String and so on, doesn't make an object global if it has those objects under it as well. The reason you can access <code>String</code> and <code>Object</code> in RingoJS is because they put them into the <code>ModuleScope</code> prototype:</p>\n\n<pre><code>var logs = require('ringo/logging').getLogger(\"h\");\n\nlogs.info( Object.getPrototypeOf( this ) === this.global );\n//true\n</code></pre>\n\n<p>Further proof that <code>ModuleScope</code> is the actual global object:</p>\n\n<pre><code>this.property = \"value\";\nlogs.info( property );\n//\"value\"\n</code></pre>\n\n<p>So nothing is gained from this kind of trickery, it doesn't fix anything:</p>\n\n<pre><code>function injectGlobal(){\nglobalProperty = \"value\"; // \"use strict\" would fix this!\n}\n\ninjectGlobal()\n\nlogs.info( globalProperty );\n//\"value\"\n</code></pre>\n\n<p>Rant over, <code>this</code> refers to the actual global object already according to the rules given earlier in this post. <code>this.global</code> is not the real global object as defined by standards, it's just a container.</p>\n\n<p>Additionally you could emulate this behavior in browsers:</p>\n\n<p>Consider scopehack.js</p>\n\n<pre><code>this.global = window.global || top.global || {};\n</code></pre>\n\n<p>Consider main.html:</p>\n\n<pre><code>&lt;script src=\"scopehack.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\nthis.global.helloWorld = \"helloWorld\"; //\"global scope\"\nthis.helloWorld = \"helloWorld\" //\"ModuleScope\"\n&lt;/script&gt;\n\n&lt;iframe src=\"module.html\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>And finally a \"module\" module.html:</p>\n\n<pre><code>&lt;script src=\"scopehack.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    with( this.global ) { //poor mans RhinoJS scope injection, doesn't work for writing\n        console.log( helloWorld ); //\"global scope\" - \"helloWorld\"\n        console.log( this.helloWorld ); //\"ModuleScope\" undefined\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>Which one is an actual global object in both module.html and main.html? It is still <code>this</code>. </p>\n\n<p>TLDR: </p>\n\n<pre><code>var obj = {\n\"String\": String,\n\"Object\": Object,\n.....\n};\n</code></pre>\n\n<p>Does not make <code>obj</code> the global object.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Implementation independant version is not trivial</p>\n\n<pre><code>(function (global) {\n    // javascript framework\n})(\n   this &amp;&amp; this.global || // ringoJS\n   typeof root !== \"undefined\" &amp;&amp; root || // node.js\n   typeof global !== \"undefined\" &amp;&amp; global || // more node.js\n   typeof GLOBAL !== \"undefined\" &amp;&amp; GLOBAL || // more node.js\n   typeof window !== \"undefined\" &amp;&amp; window || // browsers\n   this // either undefined or some global default?\n);\n</code></pre>\n\n<p>Your going to have to hard code in feature detection for every environment.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>After reading Esailija and Raynos' answers I understood that my code <code>this.global || this</code> will not work for all cases in node.js; and that it may even fail in browsers if a variable called <code>global</code> already exists in the global scope.</p>\n\n<p>Esailija pointed out that <code>this.global</code> is not really the <code>global</code> object, stating instead that <code>this</code> is the <code>global</code> object in RingoJS; and although I understand his arguments, for my purposes I require <code>this.global</code> and not <code>this</code>.</p>\n\n<p>Raynos suggested that I hard code feature detection for every CommonJS environment. However since I'm currently only supporting RingoJS and node.js, I only need to test for <code>global</code> and <code>window</code>. Hence I decided to stick with <code>this.global || this</code>.</p>\n\n<p>Nevertheless, as I said before <code>this.global || this</code> doesn't work for all cases in node.js as I understood from benvie's comments. In the node.js REPL I realized that I require <code>this</code> and not <code>this.global</code>. However, <code>this.global || this</code> expresses <code>this.global</code>. In a node.js module I require <code>this.global</code> and not <code>this</code>. However, it expresses <code>this</code> since <code>this.global</code> is <code>undefined</code>. Hence to solve this problem I finally decided to use the following code:</p>\n\n<pre><code>(function (global) {\n    // javascript framework\n})(typeof global !== \"undefined\" &amp;&amp; global || this);\n</code></pre>\n\n<p>The reason I'm using this code is because in node.js modules <code>this.global</code> is <code>undefined</code>. Hence we must use <code>global</code> directly. Thus we use <code>typeof global !== \"undefined\" &amp;&amp; global</code> to get the <code>global</code> object in both RingoJS and node.js; and we use <code>this</code> as the <code>global</code> object in browsers (<code>window</code>) and as a default fallback.</p>\n\n<p><strong>Note:</strong> I didn't provide any logic for finding the <code>global</code> object in the node.js REPL because I don't believe that my framework will be used directly within the REPL anyway. However, writing the logic to find it should be fairly trivial once one understands the complications of finding the <code>global</code> object in node.js as benvie pointed out. I know that I don't.</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to define the <code>global</code> object in JavaScript in a single line as follows:</p>\n\n<pre><code>var global = this.global || this;\n</code></pre>\n\n<p>The above statement is in the global scope. Hence in browsers the <code>this</code> pointer is an alias for the <code>window</code> object. Assuming that it's the first line of JavaScript to be executed in the context of the current web page, the value of <code>global</code> will always be the same as that of the <code>this</code> pointer or the <code>window</code> object.</p>\n\n<p>In CommonJS implementations, such as RingoJS and node.js the <code>this</code> pointer points to the current <code>ModuleScope</code>. However, we can access the <code>global</code> object through the property <code>global</code> defined on the <code>ModuleScope</code>. Hence we can access it via the <code>this.global</code> property.</p>\n\n<p>Hence this code snippet works in all browsers and in at least RingoJS and node.js, but I have not tested other CommomJS implementations. Thus I would like to know if this code will not yield correct results when run on any other CommonJS implementation, and if so how I may fix it.</p>\n\n<p>Eventually, I intend to use it in a lambda expression for my implementation independent JavaScript framework as follows (idea from jQuery):</p>\n\n<pre><code>(function (global) {\n    // javascript framework\n})(this.global || this);\n</code></pre>\n",
            "last_activity_date": 1322809226,
            "question_id": 8280137,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "node.js",
                "global",
                "commonjs"
            ],
            "title": "Defining an implementation independent version of the global object in JavaScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This is a technique to replace <code>setTimeout</code> and <code>setInterval</code> functions globally in a cross-browser fashion.</p>\n\n<blockquote>\n  <p><code>window.setTimeout</code>, when used as an lvalue (on the left side of the\n  assignment), does not walk the prototype chain, but on the right side,\n  it does. So this will always pull a property out of the prototype\n  chain and put it right on the object.</p>\n</blockquote>\n\n<p>See <a href=\"http://www.adequatelygood.com/2011/4/Replacing-setTimeout-Globally\">http://www.adequatelygood.com/2011/4/Replacing-setTimeout-Globally</a>.</p>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>I was studying the Twitter source code, and I came across the following snippet:</p>\n\n<pre><code>   window.setTimeout=window.setTimeout;window.setInterval=window.setInterval;\n</code></pre>\n\n<p>Why does Twitter redefine these functions?</p>\n\n<p>Edit:\nTo see the code, go to any twitter user page, open the source of the page, and you will see that snippet in the second block of javascript.</p>\n",
            "last_activity_date": 1320711594,
            "question_id": 8044433,
            "score": 6,
            "tags": [
                "javascript",
                "twitter",
                "settimeout",
                "setinterval"
            ],
            "title": "Why does Twitter redefine window.setTimeout and window.setInterval?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Your trying to inherit from <code>Function</code>. This is a right pain to do. I suggest you do the following instead</p>\n\n<p><a href=\"http://jsfiddle.net/EBGyP/6/\">Live Example</a></p>\n\n<pre><code>var Proto = Object.create(Function.prototype);\nObject.extend(Proto, {\n  constructor: function (d) {\n    console.log(\"construct, argument : \", d);\n    this.d = d; \n    // this is your constructor logic\n  },\n  call: function () {\n    console.log(\"call\", this.d);\n    // this get's called when you invoke the \"function\" that is the instance\n    return \"from call\";\n  },\n  method: function () {\n    console.log(\"method\");\n    // some method\n    return \"return from method\";\n  },\n  // some attr\n  attr: 42\n});\n</code></pre>\n\n<p>You want to create a prototype object that forms the basis of your \"class\". It has your generic methods/attributes. It also has a constructor that gets invoked on object construction and a call method that gets invoked when you call the function</p>\n\n<pre><code>var functionFactory = function (proto) {\n  return function () {\n    var f = function () {\n      return f.call.apply(f, arguments);      \n    };\n    Object.keys(proto).forEach(function (key) {\n      f[key] = proto[key];\n    });\n    f.constructor.apply(f, arguments);\n    return f;\n  }\n}\n</code></pre>\n\n<p>A function factory takes a prototype object and returns a factory for it. The returned function when called will give you a new function object that \"inherits\" from your prototype object.</p>\n\n<pre><code>var protoFactory = functionFactory(proto);\nvar instance = protoFactory();\n</code></pre>\n\n<p>Here you create your factory and then create your instance.</p>\n\n<p>However this isn't proper prototypical OO. we are just shallow copying properties of a prototype into a new object. So changes to the prototype will not reflect back to the original object.</p>\n\n<p>If you want real prototypical OO then you need to use a hack.</p>\n\n<pre><code>var f = function () {\n  // your logic here\n};\nf.__proto__ = Proto;\n</code></pre>\n\n<p>Notice how we use the non-standard deprecated <code>.__proto__</code> <em>and</em> we are mutating the value of <code>[[Prototype]]</code> at run-time which is considered evil.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>JS does not allow a constructor to return a function, even though functions are objects.  So you cant have an instantiation of a prototype that is itself executable. (Am I right in this? please correct if I'm not, it's an interesting question).</p>\n\n<p>Though you could do a factory function:</p>\n\n<pre><code>var makeCoolFunc = function() {\n  var f = function() { return 5 };\n  f.a = 123;\n  f.b = 'hell yes!'\n  return f;\n};\n\nvar func = makeCoolFunc();\nvar x = func();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I like that in javascript, I can create a function, and then add further methods and attributes to that function</p>\n\n<pre><code>myInstance = function() {return 5}\nmyInstance.attr = 10\n</code></pre>\n\n<p>I would like to create a class to generate these objects. I assume I have to inherit from the Function base class.</p>\n\n<p>In other words, I would like to: </p>\n\n<pre><code>var myInstance = new myFunctionClass()\nvar x = myInstance()\n// x == 5\n</code></pre>\n\n<p>But I don't know how to create the myFunctionClass. I have tried the following, but it does not work:</p>\n\n<pre><code>var myFunctionClass = function() {Function.call(this, \"return 5\")}\nmyFunctionClass.prototype = new Function()\nmyInstance = new myFunctionClass()\nmyInstance()\n// I would hope this would return 5, but instead I get\n// TypeError: Property 'myInstance' of object #&lt;Object&gt; is not a function\n</code></pre>\n\n<p>I also tried the more complicated (and more proper?) inheritance method found here: <a href=\"http://stackoverflow.com/questions/1595611/how-to-properly-create-a-custom-object-in-javascript/1598077\">How to &quot;properly&quot; create a custom object in JavaScript?</a>, with no more luck. I have also tried using the util.inherits(myFunctionClass, Function) found in node.js. Still no luck</p>\n\n<p>I have exhausted Google, and therefore feel that I must be missing something fundamental or obvious. Help would be greatly appreciated.</p>\n",
            "last_activity_date": 1320344470,
            "question_id": 7988566,
            "score": 6,
            "tags": [
                "javascript",
                "inheritance",
                "prototypal-inheritance",
                "function-object"
            ],
            "title": "javascript class inherit from Function class"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>There is no difference.</p>\n\n<p>However, if the key is not a valid identifier (eg, it's a keyword, or it has spaces or punctuation), quotes are required.</p>\n\n<p>Also, the <a href=\"http://json.org\">JSON standard</a> (which is not Javascript) always requires double-quotes.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>The main difference is that with quotes, you can use keys with spaces, js keywords, etc that are illegal as normal symbols.  That's why JSON requires them.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Without the quotes, the property name must be either a number, or a valid JavaScript identifier. With the quotes, you can use an arbitrary string. Quoting a string that's already a valid JS identifier is functionally identical to using just the identifier.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The <a href=\"http://stackoverflow.com/a/7986200/96656\">currently accepted answer</a> is incorrect:</p>\n\n<blockquote>\n  <p>However, if the key is not a valid identifier (eg, it's a keyword, or it has spaces or punctuation), quotes are required.</p>\n</blockquote>\n\n<p>The quotes aren\u2019t required if you use a numeric literal as a property name. Also, keywords and reserved words are valid identifier names, and all identifier names (not just <a href=\"http://mathiasbynens.be/notes/javascript-identifiers\" rel=\"nofollow\">identifiers</a>) are valid JavaScript property names.</p>\n\n<p>From <a href=\"http://mathiasbynens.be/notes/javascript-properties\" rel=\"nofollow\"><strong><em>Unquoted property names / object keys in JavaScript</em></strong></a>, my write-up on the subject:</p>\n\n<blockquote>\n  <p>Quotes can only be omitted if the property name is a numeric literal or <a href=\"http://mathiasbynens.be/notes/javascript-identifiers\" rel=\"nofollow\">a valid identifier name</a>.</p>\n  \n  <p>[\u2026]</p>\n  \n  <p>Bracket notation can safely be used for all property names.</p>\n  \n  <p>[\u2026]</p>\n  \n  <p>Dot notation can <em>only</em> be used when the property name is a valid identifier name. </p>\n</blockquote>\n\n<p>I also made a tool that will tell you if any given property name can be used without quotes and/or with dot notation. Try it at <a href=\"http://mothereff.in/js-properties\" rel=\"nofollow\">mothereff.in/js-properties</a>.</p>\n\n<p><a href=\"http://mothereff.in/js-properties#12e34\" rel=\"nofollow\"><img src=\"http://i.imgur.com/UYDEH.png\" alt=\"Screenshot\"></a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/4534404/in-javascript-what-is-the-difference-between-a-property-name-in-double-quotes\">In JavaScript, what is the difference between a property name in double-quotes (&ldquo;&rdquo;) and without?</a>  </p>\n</blockquote>\n\n\n\n<p>I'm not sure of the exact wording to use, but I have seen object assignments in javascript done two wasy</p>\n\n<pre><code>$('#test').dataTable({ fnInitComplete: myFunction });\n</code></pre>\n\n<p>and </p>\n\n<pre><code>$('#test').dataTable({ \"fnInitComplete\": myFunction });\n</code></pre>\n\n<p>Is there any actual difference between these, or any gotchas to be aware of?</p>\n",
            "last_activity_date": 1330970404,
            "question_id": 7986182,
            "score": 6,
            "tags": [
                "javascript",
                "variable-assignment"
            ],
            "title": "Is there any functional difference between using and not using quotes with javascript property name assignments?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>JavaScript is quite different from other \"Object Oriented\" languages, try forgetting what you know about other languages first, and learn how JavaScript works.</p>\n\n<p>A good introduction can be found at <a href=\"http://javascript.crockford.com/javascript.html\" rel=\"nofollow\">JavaScript:\nThe World's Most Misunderstood Programming Language</a> by Douglas Crockford, he also describes how inheritance works in JS <a href=\"http://javascript.crockford.com/inheritance.html\" rel=\"nofollow\">here</a>.</p>\n\n<p>EDIT: Trying to actually answer your question:\nQuestion 1, i don't understand at all... sorry.\nQuestion 2: Classical inheritance in JavaScript is fairly ugly, and I've never found a need for it either. What Crockford calls \"Parasitic Inheritance\" (the second link) I think solve this issue. Here the \"parent\" object is called inside the scope of the constructor.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>First off, kudos on understanding JavaScript's prototypical inheritance so well. You've clearly done your homework. Most people coming from a Java or C++ background tend to really struggle, but you've gotten past the worst of it.</p>\n\n<blockquote>\n  <p>Function <code>Base</code> expects an argument but I am passing nothing here.\n  What to do with data members in prototype object (<code>_n</code> in this example)?</p>\n</blockquote>\n\n<p>If you need to use <code>Base</code> as a base, you need to design it to accept zero arguments reasonably, or you need to call it with arguments when creating the base object for <code>Derived</code>. Those are basically your only two options.</p>\n\n<blockquote>\n  <p><code>Derived.prototype = new Base;</code> is creating an instance of <code>Base</code> and this will remain in memory always (assuming <code>Derived</code> is defined in global space). What to do if <code>Base</code> class is very costly and I don't want an extra object?</p>\n</blockquote>\n\n<p>It's just the same as <code>static</code> data in Java classes: Loading the class loads that data. If you're going to use <code>Base</code> as a base, you'd want to design it so it <em>doesn't</em> load a bunch of stuff it doesn't need (perhaps by handling the zero-argument version differently than the with-argument version).</p>\n\n<p>And it's that last approach (handling zero-argument construction differently than with-argument construction) that you usually see in \"class\" systems for JavaScript. Typically you'll see the actual constructor function used only to construct a raw object, and some other named function used to actually initialize instances (<code>initialize</code> is the name Prototype uses, and that I used when doing <a href=\"http://blog.niftysnippets.org/2009/09/simple-efficient-supercalls-in.html\" rel=\"nofollow\">my replacement/revision of Prototype's mechanism</a>). So the actual constructor function takes no arguments, but then you would initialize an instance by calling the <code>initialize</code> function (which in turn calls its base's <code>initialize</code> function). In most wrappers, that's handled for you under-the-covers.</p>\n\n<p>Making that constructor-vs-initializer mechanism work in practice requires some tricky plumbing because it requires \"supercalls\" (calls to the base's version of a function), and supercalls are awkward in JavaScript. (That&nbsp;&mdash; supercalls&nbsp;&mdash; is actually what the linked article is mostly about, but exploring an efficient approach to them also involved creating/updating an entire inheritance system. I <strong>really</strong> need to update that article so it doesn't use class-based terminology; it's still prototypical, it just provides that plumbing I was talking about.)</p>\n\n<p>Because external resources can disappear / get moved / etc. and Stack Overflow is meant to mostly stand alone, here's the end result of the iterations presented in <a href=\"http://blog.niftysnippets.org/2009/09/simple-efficient-supercalls-in.html\" rel=\"nofollow\">the article linked above</a>:</p>\n\n<pre><code>// Take IV: Explicitly handle mixins, provide a mixin for calling super when\n// working with anonymous functions.\n// Inspired by Prototype's Class class (http://prototypejs.org)\n// Copyright (C) 2009-2010 by T.J. Crowder\n// Licensed under the Creative Commons Attribution License 2.0 (UK)\n// http://creativecommons.org/licenses/by/2.0/uk/\nvar Helper = (function(){\n    var toStringProblematic,    // true if 'toString' may be missing from for..in\n        valueOfProblematic;     // true if 'valueOf' may be missing from for..in\n\n    // IE doesn't enumerate toString or valueOf; detect that (once) and\n    // remember so makeClass can deal with it. We do this with an anonymous\n    // function we don't keep a reference to to minimize what we keep\n    // around when we're done.\n    (function(){\n        var name;\n\n        toStringProblematic = valueOfProblematic = true;\n        for (name in {toString: true, valueOf: true}) {\n            if (name == 'toString') {\n                toStringProblematic = false;\n            }\n            if (name == 'valueOf') {\n                valueOfProblematic = false;\n            }\n        }\n    })();\n\n    // This function is used to create the prototype object for our generated\n    // constructors if the class has a parent class. See makeConstructor for details.\n    function protoCtor() { }\n\n    // Build and return a constructor; we do this with a separate function\n    // to minimize what the new constructor (a closure) closes over.\n    function makeConstructor(base) {\n\n        // Here's our basic constructor function (each class gets its own, a\n        // new one of these is created every time makeConstructor is called).\n        function ctor() {\n            // Call the initialize method\n            this.initialize.apply(this, arguments);\n            }\n\n        // If there's a base class, hook it up. We go indirectly through `protoCtor`\n        // rather than simply doing \"new base()\" because calling `base` will call the base\n        // class's `initialize` function, which we don't want to execute. We just want the\n        // prototype.\n        if (base) {\n            protoCtor.prototype = base.prototype;\n            ctor.prototype = new protoCtor();\n            protoCtor.prototype = {};   // Don't leave a dangling reference\n        }\n\n        // Set the prototype's constructor property so `this.constructor` resolves\n        // correctly\n        ctor.prototype.constructor = ctor;\n\n        // Flag up that this is a constructor (for mixin support)\n        ctor._isConstructor = true;\n\n        // Return the newly-constructed constructor\n        return ctor;\n    }\n\n    // This function is used when a class doesn't have its own initialize\n    // function; since it does nothing and can only appear on base classes,\n    // all instances can share it.\n    function defaultInitialize() {\n    }\n\n    // Get the names in a specification object, allowing for toString and\n    // valueOf issues\n    function getNames(members) {\n        var names,      // The names of the properties in 'members'\n            name,       // Each name\n            nameIndex;  // Index into 'names'\n\n        names = [];\n        nameIndex = 0;\n        for (name in members) {\n            names[nameIndex++] = name;\n        }\n        if (toStringProblematic &amp;&amp; typeof members.toString != 'undefined') {\n            names[nameIndex++] = 'toString';\n        }\n        if (valueOfProblematic &amp;&amp; typeof members.valueOf != 'undefined') {\n            names[nameIndex++] = 'valueOf';\n        }\n        return names;\n    }\n\n    // makeClass: Our public \"make a class\" function.\n    // Arguments:\n    // - base: An optional constructor for the base class.\n    // - ...:  One or more specification objects containing properties to\n    //         put on our class as members; or functions that return\n    //         specification objects. If a property is defined by more than one\n    //         specification object, the last in the list wins.\n    // Returns:\n    //     A constructor function for instances of the class.\n    //\n    // Typical use will be just one specification object, but allow for more\n    // in case the author is drawing members from multiple locations.\n    function makeClass() {\n        var base,       // Our base class (constructor function), if any\n            argsIndex,  // Index of first unused argument in 'arguments'\n            ctor,       // The constructor function we create and return\n            members,    // Each members specification object\n            names,      // The names of the properties in 'members'\n            nameIndex,  // Index into 'names'\n            name,       // Each name in 'names'\n            value,      // The value for each name\n            baseValue;  // The base class's value for the name\n\n        // We use this index to keep track of the arguments we've consumed\n        argsIndex = 0;\n\n        // Do we have a base?\n        if (typeof arguments[argsIndex] == 'function' &amp;&amp;\n            arguments[argsIndex]._isConstructor) {\n            // Yes\n            base = arguments[argsIndex++];\n        }\n\n        // Get our constructor; this will hook up the base class's prototype\n        // if there's a base class, and mark the new constructor as a constructor\n        ctor = makeConstructor(base);\n\n        // Assign the members from the specification object(s) to the prototype\n        // Again, typically there's only spec object, but allow for more\n        while (argsIndex &lt; arguments.length) {\n            // Get this specification object\n            members = arguments[argsIndex++];\n            if (typeof members == 'function') {\n                members = members();\n            }\n\n            // Get all of its names\n            names = getNames(members);\n\n            // Copy the members\n            for (nameIndex = names.length - 1; nameIndex &gt;= 0; --nameIndex) {\n                name = names[nameIndex];\n                value = members[name];\n                if (base &amp;&amp; typeof value == 'function' &amp;&amp; !value._isMixinFunction) {\n                    baseValue = base.prototype[name];\n                    if (typeof baseValue == 'function') {\n                            value.$super = baseValue;\n                    }\n                }\n                ctor.prototype[name] = value;\n            }\n        }\n\n        // If there's no initialize function, provide one\n        if (!('initialize' in ctor.prototype)) {\n            // Note that this can only happen in base classes; in a derived\n            // class, the check above will find the base class's version if the\n            // subclass didn't define one.\n            ctor.prototype.initialize = defaultInitialize;\n        }\n\n        // Return the constructor\n        return ctor;\n    }\n\n    // makeMixin: Our public \"make a mixin\" function.\n    // Arguments:\n    // - ...:  One or more specification objects containing properties to\n    //         put on our class as members; or functions that return\n    //         specification objects. If a property is defined by more than one\n    //         specification object, the last in the list wins.\n    // Returns:\n    //     A specification object containing all of the members, flagged as\n    //     mixin members.\n    function makeMixin() {\n        var rv,         // Our return value\n            argsIndex,  // Index of first unused argument in 'arguments'\n            members,    // Each members specification object\n            names,      // The names in each 'members'\n            value;      // Each value as we copy it\n\n        // Set up our return object\n        rv = {};\n\n        // Loop through the args (usually just one, but...)\n        argsIndex = 0;\n        while (argsIndex &lt; arguments.length) {\n            // Get this members specification object\n            members = arguments[argsIndex++];\n            if (typeof members == 'function') {\n                members = members();\n            }\n\n            // Get its names\n            names = getNames(members);\n\n            // Copy its members, marking them as we go\n            for (nameIndex = names.length - 1; nameIndex &gt;= 0; --nameIndex) {\n                name = names[nameIndex];\n                value = members[name];\n                if (typeof value == 'function') {\n                    value._isMixinFunction = true;\n                }\n                rv[name] = value;\n            }\n        }\n\n        // Return the consolidated, marked specification object\n        return rv;\n    }\n\n    // Return our public members\n    return {\n        makeClass: makeClass,\n        makeMixin: makeMixin\n        };\n})();\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var Parent = Helper.makeClass(function(){\n    function hierarchy() {\n        return \"P\";\n    }\n    return {hierarchy: hierarchy};\n});\nvar Child = Helper.makeClass(Parent, function(){\n    function hierarchy() {\n        return hierarchy.$super.call(this) + \" &lt; C\";\n    }\n    return {hierarchy: hierarchy};\n});\nvar GrandChild = Helper.makeClass(Child, function(){\n    function hierarchy() {\n        return hierarchy.$super.call(this) + \" &lt; GC\";\n    }\n    return {hierarchy: hierarchy};\n});\nvar gc = new GrandChild();\nalert(gc.hierarchy()); // Alerts \"P &lt; C &lt; GC\"\n</code></pre>\n\n<p>If you dn't like the <code>funcname.$super.call(...)</code> notation for supercalls, here's a mix-in that lets you use a shorter/clearer version instead (but at a runtime cost):</p>\n\n<pre><code>// Define our CallSuper mixin\nHelper.CallSuperMixin = makeMixin(function() {\n    function callSuper(ref) {\n        var f,          // The function to call\n            args,       // Arguments to pass it, if we have any\n            len,        // Length of args to pass\n            srcIndex,   // When copying, the index into 'arguments'\n            destIndex,  // When copying args, the index into 'args'\n            rv;         // Our return value\n\n        // Get the function to call: If they pass in a function, it's the\n        // subclass's version so look on $super; otherwise, they've passed\n        // in 'arguments' and it's on arguments.callee.$super.\n        f = typeof ref == 'function' ? ref.$super : ref.callee.$super;\n\n        // Only proceed if we have 'f'\n        if (f) {\n            // If there are no args to pass on, use Function#call\n            if (arguments.length == 1) {\n                rv = f.call(this);\n            } else {\n                // We have args to pass on, build them up.\n                // Note that doing this ourselves is more efficient on most\n                // implementations than applying Array.prototype.slice to\n                // 'arguments', even though it's built in; the call to it\n                // is expensive (dramatically, on some platforms).\n                len = arguments.length - 1;\n                args = new Array(len);\n                srcIndex = 1;\n                destIndex = 0;\n                while (destIndex &lt; len) {\n                    args[destIndex++] = arguments[srcIndex++];\n                }\n\n                // Use Function#apply\n                rv = f.apply(this, args);\n            }\n        }\n\n        // Done\n        return rv;    // Will be undefined if there was no 'f' to call\n    }\n\n    return {callSuper: callSuper};\n});\n</code></pre>\n\n<p>And again, I really need to update the terminology so it's not class-based. (And probably look at how ECMAScript5 lets us do things slightly differently, because it adds some useful stuff like direct control over prototypes.)</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<blockquote>\n  <p>But I don't like this line:</p>\n</blockquote>\n\n<p><code>Derived.prototype = new Base;</code></p>\n\n<p>Then replace it with </p>\n\n<p><code>Derived.prototype = Object.create(Base.prototype);</code></p>\n\n<p>See <code>Object.create</code> simply returns a new object whose <code>[[Prototype]]</code> is the first parameter you give it.</p>\n\n<p>It's basically saying <code>Derived</code> inherits from <code>Base</code> but don't call that damned constructor!</p>\n\n<blockquote>\n  <p>What to do with data members in prototype object (_n in this example)?</p>\n</blockquote>\n\n<p>When your chaining prototypes don't call the constructor! I wrote an <a href=\"http://raynos.org/blog/7/Doing-Object-Oriented-Javascript---part-3\" rel=\"nofollow\">JS OO part 3</a> article about this.</p>\n\n<p>It basically says that when you create objects you instantiate and initialize.</p>\n\n<pre><code>// instantiate\nvar o = Object.create(Base.prototype);\n// o now inherits all of Bases methods because o.[[Prototype]] === Base.prototype\n// o also inherits the constructor function (Base.prototype.constructor === Base)\n// initialize\no.constructor(10);\n</code></pre>\n\n<p>Now of course <code>new X</code> does both. Here's an over view of what new does</p>\n\n<pre><code>var new = function (constructor, ...args) {\n  var instance = Object.create(constructor.prototype);\n  instance.constructor(...args);\n  return instance;\n}\n</code></pre>\n\n<p>As you can see you don't want <code>new</code> because you don't want that constructor to be called (You don't need to initialize Derived.prototype).</p>\n\n<blockquote>\n  <p>Derived.prototype = new Base; is creating an instance of Base and this will remain in memory always (assuming Derived is defined in global space). What to do if Base class is very costly and I don't want an extra object?</p>\n</blockquote>\n\n<p>This concern with <code>Object.create</code> is void. instantiating an object is cheap. It just generates a new thing object whose internal <code>[[Prototype]]</code> property is a pointer to the prototype you pass in.</p>\n\n<p>The only thing that can be expensive is the constructor, and you don't call the constructor.</p>\n\n<p><strong>Minor Disclaimer:</strong></p>\n\n<p><code>Object.create</code> is ES5 and some legacy browsers (mainly IE8) don't support. However there's this lovely thing called the <a href=\"https://github.com/kriskowal/es5-shim\" rel=\"nofollow\">ES5-shim</a> that fixes these browsers and makes them behave like ES5.</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<blockquote>\n  <p>@@@ 2. Derived.prototype = new Base; is creating an instance of Base\n  and this will remain in memory always (assuming Derived is defined in\n  global space). What to do if Base class is very costly and I don't\n  want an extra object?</p>\n</blockquote>\n\n<p>Yea. This example is a inheritance-learning style. For using in your application, try:</p>\n\n<pre><code>    function F() {}\n    F.prototype = Base.prototype; // Linking to Base's prototype\n\n    Derived.prototype = new F(); // The least memory-consumption object.\n    Derived.prototype.constructor = Base; // Constructor reference correction\n</code></pre>\n\n<blockquote>\n  <p>@@@ 1. What to do with data members in prototype object (_n in this example)?</p>\n</blockquote>\n\n<p>Using the above prototype-chain, we are not creating any instance of Base. So, this question is invalidated.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am familiar with OOP concepts through the languages like C++, Java. Right now I am trying to learn JavaScript as a hobby, mainly due to the interest in WebGL. But I am having troubles with prototype based inheritance.</p>\n\n<p>Let's say I have a base class which accepts a parameter in constructor. And I need to extend this. The way I am doing this is shown below.</p>\n\n<pre><code>function Base(n) {\n    this._n = n;\n}\n\nBase.prototype.print = function() {\n    console.log(this._n);\n}\n\nfunction Derived(n) {\n    Base.call(this, n);\n}\n\nDerived.prototype = new Base;\nDerived.prototype.constructor = Derived;\n</code></pre>\n\n<p>Now this is what I understand: A single <code>Base</code> object is serving as the prototype of <code>Derived</code>. So all instances of <code>Derived</code> will inherit properties from this <code>Base</code> object, e.g. the <code>print</code> method. When I call <code>new Derived(10)</code> then a new object is created, function <code>Derived</code> is called in the context of this newly created object, i.e. <code>this</code> points to newly created object, and function <code>Base</code> is called from function <code>Derived</code>, and then <code>_n</code> is created and assigned the value 10. So if I create 5 <code>Derived</code> objects, all of them will have their own <code>_n</code> property. So far this is okay.</p>\n\n<p>But I don't like this line:</p>\n\n<pre><code>Derived.prototype = new Base;\n</code></pre>\n\n<p>Function <code>Base</code> expects an argument but I am passing nothing here. There is no point of passing a parameter here as this object will act as prototype of <code>Derived</code>. And I don't need any value of <code>_n</code> for this prototype object. But what if the function <code>Base</code> depends on the argument? Say, <code>Base</code> loads a resource and the path is passed as parameter. What to do then? </p>\n\n<p>To summarize, my questions are:</p>\n\n<ol>\n<li>What to do with data members in prototype object (<code>_n</code> in this example)? </li>\n<li><code>Derived.prototype = new Base;</code> is creating an instance of <code>Base</code> and this will remain in memory always (assuming <code>Derived</code> is defined in global space). What to do if <code>Base</code> class is very costly and I don't want an extra object? </li>\n</ol>\n",
            "last_activity_date": 1360919483,
            "question_id": 7944880,
            "score": 6,
            "tags": [
                "javascript"
            ],
            "title": "JS: Confusion about inheritance"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Will this work for you?</p>\n\n<p><a href=\"http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/DisplayWebContent/Tasks/JavaScriptFromObjC.html\" rel=\"nofollow\">http://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/DisplayWebContent/Tasks/JavaScriptFromObjC.html</a></p>\n\n<p>Taken from this page:</p>\n\n<p>You can also call JavaScript functions with arguments. Assume that you have written a JavaScript function which looks like this:</p>\n\n<pre><code>function addImage(image, width, height) { ... }\n</code></pre>\n\n<p>Its purpose is to add an image to a web page. It is called with three arguments: image, the URL of the image; width, the screen width of the image; and height, the screen height of the image. You can call this method one of two ways from Objective-C. The first creates the array of arguments prior to using the WebScriptObject bridge:</p>\n\n<pre><code>id win = [webView windowScriptObject];\n\n\n\nNSArray *args = [NSArray arrayWithObjects:\n                 @\"sample_graphic.jpg\",\n                 [NSNumber numberWithInt:320],\n                 [NSNumber numberWithInt:240],\n                  nil];\n\n[win callWebScriptMethod:@\"addImage\"\n            withArguments:args];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can easily call JavaScript from native code with a <code>UIWebView</code>:</p>\n\n<pre><code>[webView stringByEvaluatingJavaScriptFromString:@\"myJSFunction()\"];\n</code></pre>\n\n<p>To use the result of a function somewhere as an arg to a JS function:</p>\n\n<pre><code>NSString *stringData = getStringData(); // however you get it\n[webView stringByEvaluatingJavaScriptFromString:\n [NSString stringWithFormat:@\"myJSFunction(%@)\", stringData]];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Found the PhoneGap helper to accomplish this... Write javascript to the webView using:</p>\n\n<pre><code>    [super writeJavascript:@\"alert('it works');\"];\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>You should try this,</p>\n\n<pre><code>[webView stringByEvaluatingJavaScriptFromString:@\"sendSelectedDate()\"];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm hoping to be able to use PhoneGap for my app. I will have to build a custom protocol/plugin so that I can call Native methods from the Javascript. I know you can call a success function in the Javascript when the native code returns. </p>\n\n<p>What I need to be able to do is call a javascript function from the native code. Basically the app will connect to an OSX companion app over local network and when the OSX app send data to the iOS app it is processed in an Objective C method, I need to be able to send the result into the PhoneGap/javascript and do something with it in the WebView.</p>\n\n<p>Is this possible? I have only been able to find information about calling native from javascript not the other way around.</p>\n\n<p>Thanks, \nThomas</p>\n\n<p>Using the code from Answer below here:</p>\n\n<p>MyPhoneGapPlugin.m</p>\n\n<pre><code>- (void)onSocket:(AsyncSocket *)sock didConnectToHost:(NSString *)host port:(UInt16)port {\n    NSLog(@\"Connected To %@:%i.\", host, port);\n\n    NSString* jsString = [NSString stringWithFormat:@\"alert(connected to: %@);\", host];\n    [theWebView stringByEvaluatingJavaScriptFromString:jsString];\n\n    [self readWithTag:2];\n}\n</code></pre>\n\n<p>Giving me the error 'Unknown receiver 'theWebView' did you mean 'UIWebView'?</p>\n\n<p>UPDATE: Found the answer: using the phonegap helper I can write something like this... </p>\n\n<pre><code>    [super writeJavascript:@\"alert('connected');\"];\n</code></pre>\n",
            "last_activity_date": 1349529752,
            "question_id": 7719881,
            "score": 6,
            "tags": [
                "javascript",
                "objective-c",
                "events",
                "cordova",
                "cocoaasyncsocket"
            ],
            "title": "Can you call a javascript function from native code (not in a callback) using PhoneGap and iOS?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Your code is the correct and best way to do it.</p>\n\n<p>jQuery has <a href=\"http://api.jquery.com/remove/\" rel=\"nofollow\">what you're looking for</a>:</p>\n\n<pre><code>$(\"#someId\").remove();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It can seem a bit messy, but that is the standard way of removing an element from its parent. The DOM element itself can exist on its own, without a <code>parentNode</code>, so it makes sense that the <code>removeChild</code> method is on the parent.</p>\n\n<p>IMO a generic <code>.remove()</code> method on the DOM node itself might be misleading, afterall we're not removing the element from existence, just from its parent.</p>\n\n<p>You can always create your own wrappers for this functionality though. E.g.</p>\n\n<pre><code>function removeElement(element) {\n    element &amp;&amp; element.parentNode &amp;&amp; element.parentNode.removeChild(element);\n}\n\n// Usage:\nremoveElement( document.getElementById('some_element') );\n</code></pre>\n\n<p>Or, use a DOM library like <a href=\"http://jquery.com\">jQuery</a> which provides a bunch of wrappers for you, e.g. in jQuery:</p>\n\n<pre><code>$('#some_element').remove();\n</code></pre>\n\n<hr>\n\n<p>This <strong>edit</strong> is in response to your comment, in which you inquired about the possibility to extend native DOM implementation. This is considered a bad practice, so what we do instead, is create are own wrappers to contain the elements and then we create whatever methods we want. E.g.</p>\n\n<pre><code>function CoolElement(element) {\n    this.element = element;\n}\n\nCoolElement.prototype = {\n    redify: function() {\n        this.element.style.color = 'red';\n    },\n    remove: function() {\n        if (this.element.parentNode) {\n            this.element.parentNode.removeChild(this.element);\n        }\n    }\n};\n\n// Usage:\n\nvar myElement = new CoolElement( document.getElementById('some_element') );\n\nmyElement.redify();\nmyElement.remove();\n</code></pre>\n\n<p>This is, in essence, what jQuery does, although it's a little more advanced because it wraps collections of DOM nodes instead of just an individual element like above.</p>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>The DOM level 4 specs seems to have adopted the \"jQuery philosophy\" of doing several DOM changing operations (see <a href=\"https://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html#interface-element\" rel=\"nofollow\">https://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html#interface-element</a>). Remove is one of them:</p>\n\n<pre><code>var el = document.getElementById(\"myEl\");\nel.remove();\n</code></pre>\n\n<p>At this time, it's only supported in later version of Chrome, Opera, Firefox, but there are shims to patch this up if you want to use this functionality in production today:\n<a href=\"https://github.com/Raynos/DOM-shim\" rel=\"nofollow\">https://github.com/Raynos/DOM-shim</a></p>\n\n<p>Wether it's preferable to removeChild or not, I leave undebated for now. </p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>This is either very simple or impossible.</p>\n\n<p>I know I can do this:</p>\n\n<pre><code>var element = document.getElementById('some_element');\nelement.parentNode.removeChild(element);\n</code></pre>\n\n<p>...but it feels messy. Is there a tidier - and universally supported - way to do the same thing?</p>\n\n<p>It's seems - to me at least - like there should be something like this:</p>\n\n<pre><code>document.getElementById('some_element').remove();\n</code></pre>\n\n<p>...but that doesn't work, and searching Google/SO has not yielded any alternative.</p>\n\n<p>I know it doesn't matter that much, but <code>parentNode.removeChild()</code> just feels hacky/messy/inefficient/bad practice-y.</p>\n",
            "last_activity_date": 1391437796,
            "question_id": 7561277,
            "score": 6,
            "tags": [
                "javascript",
                "removechild"
            ],
            "title": "Remove an element from the DOM from reference to element only"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can use regex to do the split.</p>\n\n<p>Here is the link to regex in javascript <a href=\"http://www.w3schools.com/jsref/jsref_obj_regexp.asp\" rel=\"nofollow\">http://www.w3schools.com/jsref/jsref_obj_regexp.asp</a></p>\n\n<p>Here is the link to other post where the author have used regex for split <a href=\"http://stackoverflow.com/questions/812144/javascript-wont-split-using-regex\">Javascript won&#39;t split using regex</a></p>\n\n<p>From the first link if you note you can create a regular expression using</p>\n\n<p>?!n Matches any string that is not followed by a specific string n</p>\n\n<pre><code>[,]!\\\\\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Since regular expressions in JavaScript does not support <a href=\"http://www.regular-expressions.info/lookaround.html#lookbehind\" rel=\"nofollow\">lookbehinds</a>, I'm not going to cook up a giant hack to mimic this behavior. Instead, you can just <code>split()</code> on all commas (<code>,</code>) and then glue back the pieces that shouldn't have been split in the first place.</p>\n\n<p>Quick 'n' dirty <a href=\"http://jsfiddle.net/jensgram/THdhf/1/\" rel=\"nofollow\">demo</a>:</p>\n\n<pre><code>var str = 'a\\\\,bcde,fgh,ijk\\\\,lmno,pqrst\\\\,uv'.split(','), // Split on all commas\n    out = []; // Output\n\nfor (var i = 0, j = str.length - 1; i &lt; j; i++) { // Iterate all but last (last can never be glued to non-existing next)\n    var curr = str[i]; // This piece\n    if (curr.charAt(curr.length - 1) == '\\\\') { // If ends with \\ ...\n        curr += ',' + str[++i]; // ... glue with next and skip next (increment i)\n    }\n    out.push(curr); // Add to output\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here's the shortest thing I could come up with:</p>\n\n<pre><code>'a\\\\,bcde,fgh,ijk\\\\,lmno,pqrst\\\\,uv'.replace(/([^\\\\]),/g, '$1\\u000B').split('\\u000B')\n</code></pre>\n\n<p>The idea behind is to find every place where comma isn't prefixed with a backslash, replace those with string that is uncommon to come up in your strings and then split by that <em>uncommon</em> string.</p>\n\n<p>Note that <strong>backslashes</strong> before commas <strong>have to be escaped</strong> using another backslash. Otherwise, javascript treats form <code>\\,</code> as escaped comma and produce simply a comma out of it! In other words if you won't escape the backslash, javascript sees this: <code>a\\,bcde,fgh,ijk\\,lmno,pqrst\\,uv</code> as this <code>a,bcde,fgh,ijk,lmno,pqrst,uv</code>.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Another ugly hack around the lack of look-behinds:</p>\n\n<pre><code>function rev(s) {\n    return s.split('').reverse().join('');\n}\n\nvar s = 'a\\\\,bcde,fgh,ijk\\\\,lmno,pqrst\\\\,uv';\n\n// Enter bizarro world...\nvar r = rev(s);\n\n// Split with a look-ahead\nvar rparts = r.split(/,(?!\\\\)/);\n\n// And put it back together with double reversing.\nvar sparts = [ ];\nwhile(rparts.length)\n    sparts.push(rev(rparts.pop()));\n\nfor(var i = 0; i &lt; sparts.length; ++i)\n    $('#out').append('&lt;pre&gt;' + sparts[i] + '&lt;/pre&gt;');\n</code></pre>\n\n<p>Demo: <a href=\"http://jsfiddle.net/ambiguous/QbBfw/1/\" rel=\"nofollow\">http://jsfiddle.net/ambiguous/QbBfw/1/</a></p>\n\n<p>I don't think I'd do this in real life but it works even if it does make me feel dirty. Consider this a curiosity rather than something you should really use.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have this string:</p>\n\n<pre><code>a\\,bcde,fgh,ijk\\,lmno,pqrst\\,uv\n</code></pre>\n\n<p>I need a JavaScript function that will split the string by every <code>,</code> but only those that <strong>don't</strong> have a <code>\\</code> before them </p>\n\n<p>How can this be done?</p>\n",
            "last_activity_date": 1412191237,
            "question_id": 7329972,
            "score": 6,
            "tags": [
                "javascript",
                "regex",
                "string",
                "split"
            ],
            "title": "how to split a string in js with some exceptions"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>The <a href=\"http://expressjs.com/guide.html#res.contenttype%28%29\" rel=\"nofollow\">Express documentation</a> shows that it can do this if you pass in the file name.</p>\n\n<pre><code>var filename = 'path/to/image.png';\nres.contentType(filename);\n// Content-Type is now \"image/png\"\n</code></pre>\n\n<p><strong>[Edit]</strong></p>\n\n<p>Here's an example which serves files from a relative directory called <code>static</code> and automatically sets the content type based on the file served:</p>\n\n<pre><code>var express = require('express');\nvar fs      = require('fs');\n\nvar app = express.createServer();\n\napp.get('/files/:file', function(req, res) {\n  // Note: should use a stream here, instead of fs.readFile\n  fs.readFile('./static/' + req.params.file, function(err, data) {\n    if(err) {\n      res.send(\"Oops! Couldn't find that file.\");\n    } else {\n      // set the content type based on the file\n      res.contentType(req.params.file);\n      res.send(data);\n    }   \n    res.end();\n  }); \n});\n\napp.listen(3000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p><a href=\"https://github.com/senchalabs/connect/blob/master/lib/middleware/static.js\" rel=\"nofollow\">Connect</a> will automatically set the content type, unless you explicitly set it yourself. Here's the snippet that does it. It uses <a href=\"https://github.com/broofa/node-mime\" rel=\"nofollow\">mime.lookup</a> and mime.charsets.lookup</p>\n\n<pre><code>// mime type\ntype = mime.lookup(path);\n\n//&lt;SNIP&gt;....\n\n// header fields\nif (!res.getHeader('content-type')) {\n  var charset = mime.charsets.lookup(type);\n  res.setHeader('Content-Type', type + (charset ? '; charset=' + charset : ''));\n}\n</code></pre>\n\n<p>If this isn't working for you, post your code as your custom code is likely interfering with the default behavior somehow.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Express uses Connect, Connect uses Mime, and Mime includes the files <strong><em>mime.types</em></strong> (with default mime types from Apache) and <strong><em>node.types</em></strong> (with some further types contributed by node community). You could just customize one of these files within your copy of mime in node_modules to add your required content type, or Mime also has an API that lets you specify additional content-types or .types files to load from your code.</p>\n\n<p><a href=\"https://github.com/broofa/node-mime\" rel=\"nofollow\">https://github.com/broofa/node-mime</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Also, if you want to extend the mime-types that express(connect) knows about, you can do</p>\n\n<pre><code>express.static.mime.define({'text/plain': ['md']});\n</code></pre>\n\n<p>or</p>\n\n<pre><code>connect.static.mime.define({'text/plain': ['md']});\n</code></pre>\n\n<p>PS: the mime module is now located at <a href=\"https://github.com/broofa/node-mime\">https://github.com/broofa/node-mime</a></p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>Download this <a href=\"https://raw.githubusercontent.com/broofa/node-mime/master/types/mime.types\" rel=\"nofollow\">database</a> : mime.types: , then </p>\n\n<pre><code> var db_mimes=[],mime_ext=''\n$.get('mime.types',{},function(d){\n   var lines=d.split('\\n').filter(function(e){ /* filter which starts with #*/})\n\n    lines.forEach(function(line){\n       mime_ext=line.split(' ')\n        mime_ext[1].split(' ').forEach(function(ext){\n             db_mimes.push({e:ext,m:mime_ext[0]})\n         });\n       //create object for each line . i.e: {mime:'',extension}\n    });\n\n\n});\n</code></pre>\n\n<p>Then if you have fo example <code>var fname=\"myfile.png\"</code></p>\n\n<pre><code>var extension=fname.substr((~-this.lastIndexOf(\".\") &gt;&gt;&gt; 0) + 2) // get extension from name\nvar minme=db_mimes.filter(function(el){return el.e === extension})[0]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I know Express has the res.contentType() method, but how to set automatically content type based on path/file (including static content)?</p>\n",
            "last_activity_date": 1415784209,
            "question_id": 7109732,
            "score": 6,
            "tags": [
                "javascript",
                "node.js",
                "mime-types",
                "connect",
                "express"
            ],
            "title": "Express: Setting content-type based on path/file?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You should use <a href=\"http://msdn.microsoft.com/en-us/library/asz8zsxy.aspx\" rel=\"nofollow\">RegisterStartupScript</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can use registerstartupscript instead of registerclientscriptblock!</p>\n\n<p><strong>RegisterStartupScript</strong>\nWhen you use RegisterStartupScript, it will render your script after all the elements in the page (right before the form's end tag). This enables the script to call or reference page elements without the possibility of it not finding them in the Page's DOM</p>\n\n<p><strong>RegisterClientScriptBlock</strong>\nWhen you use RegisterClientScriptBlock, the script is rendered right after the Viewstate tag, but before any of the page elements. Since this is a direct script (not a function that can be called, it will immediately be executed by the browser. But the browser does not find the label in the Page's DOM at this stage and hence you should receive an \"Object not found\" error</p>\n\n<p><a href=\"http://stackoverflow.com/questions/666519/difference-between-registerstartupscript-and-registerclientscriptblock\">Difference between registerstartupscript and registerclientscriptblock</a></p>\n\n<pre><code>protected void Page_Load(object sender, System.EventArgs e)\n {\n      myScript = \"\\n&lt;script type=\\\"text/javascript\\\" language=\\\"Javascript\\\" id=\\\"EventScriptBlock\\\"&gt;\\n\";\n        myScript += \"alert('hi');\";\n        myScript += \"\\n\\n &lt;/script&gt;\";\n     Page.ClientScript.RegisterStartupScript(this.GetType(), \"myKey\", myScript, false);\n }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 25
                },
                {
                    "body": "<p>I have a feeling this is related to your asp.net/html markup.</p>\n\n<p>Do you have a form tag like so in your .aspx file?</p>\n\n<pre><code>&lt;form id=\"form1\" runat=\"server\"&gt;\n   ....\n&lt;/form&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Both <strong>RegisterStartupScript</strong> and <strong>RegisterClientScriptBlock</strong> will work.</p>\n\n<p>Problem lies in myScript (string variable).In myScript variable you need to use alert variable only, as whenever you use this, script tag will be added automatically to your page's HTML at runtime. To check this right on your page and see the source of the page.</p>\n\n<p>protected void Page_Load(object sender, EventArgs e)\n{\n            string myScript = string.Empty;</p>\n\n<pre><code>        //myScript = \"\\n&lt;script type=\\\"text/javascript\\\" language=\\\"Javascript\\\" id=\\\"EventScriptBlock\\\"&gt;\\n\";\n        string registerKey = \"alert('RegisterClientScriptBlock');\";\n        myScript = \"alert('RegisterStartupScript');\";\n        Page.ClientScript.RegisterStartupScript(this.GetType(), \"RegisterStartupScript\", myScript, true);\n        Page.ClientScript.RegisterClientScriptBlock(this.GetType(), \"RegisterClientScriptBlock\", registerKey, true);\n    }\n</code></pre>\n\n<p><em><strong>Note</em>:</strong> I have executed <strong>RegisterStartupScript</strong> first and than <strong>RegisterClientScriptBlock</strong>.But RegisterStartupScript alert will be executed at last, as it will be added at the end of the page.\nRegisterClientScriptBlock will always be added at the starting of the page.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Am I injecting this correctly,</p>\n\n<pre><code>        string myScriptName = \"EventScriptBlock\";\n        string myScript = string.Empty;\n\n        //Verify script isn't already registered\n        if (!ClientScript.IsClientScriptBlockRegistered(myScriptName))\n        {\n            Response.Write('b');\n            myScript = \"\\n&lt;script type=\\\"text/javascript\\\" language=\\\"Javascript\\\" id=\\\"EventScriptBlock\\\"&gt;\\n\";\n            myScript += \"alert('hi');\";\n            myScript += \"\\n\\n &lt;/script&gt;\";\n\n            ClientScript.RegisterClientScriptBlock(this.GetType(), myScriptName, myScript);\n        }\n</code></pre>\n\n<p>This is in my page load, but I never see an alert and I have no Javascript errors either.</p>\n",
            "last_activity_date": 1406297073,
            "question_id": 7046565,
            "score": 6,
            "tags": [
                "c#",
                "javascript",
                "asp.net"
            ],
            "title": "Inject Javascript from asp.net code behind files"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You want <a href=\"http://api.jquery.com/jQuery.ajaxSetup/\"><strong>ajaxSetup</strong></a></p>\n\n<pre><code> $.ajaxSetup({\n   url: \"/xmlhttp/\",\n   global: false,\n   type: \"POST\"\n\n });\n $.ajax({ data: myData });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>Try using <a href=\"http://api.jquery.com/jQuery.ajaxSetup\"><code>$.ajaxSetup()</code></a></p>\n\n<pre><code>$.ajaxSetup({\n  async: false\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                }
            ],
            "body": "<p>How can I modify the default values of options for the <a href=\"http://api.jquery.com/jQuery.ajax/\"><code>$.ajax()</code></a> function?</p>\n\n<p>Ideally to do something similar to:  </p>\n\n<pre><code>//set ajax async to false\n$(someSelector).load(url, data, function(){});\n//set ajax async to true\n</code></pre>\n\n<p>to allow me to carry out <code>.post()</code> synchronously.</p>\n",
            "last_activity_date": 1348666627,
            "question_id": 6849686,
            "score": 6,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "How to change $.ajax() default settings?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Use <a href=\"http://www.quirksmode.org/js/strings.html\">the concatenation operator</a> <code>+</code>, and the fact that numeric types will convert automatically into strings:</p>\n\n<pre><code>var a = 1;\nvar b = \"bob\";\nvar c = b + a;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>if you want to concatenate the string representation of the values of two variables, use the <code>+</code> sign :  </p>\n\n<pre><code>var var1 = 1;\nvar var2 = \"bob\";\nvar var3 = var2 + var1;//=bob1\n</code></pre>\n\n<p>But if you want to keep the two in only one variable, but still be able to access them later, you could make an object container:   </p>\n\n<pre><code>function Container(){\n   this.variables = [];\n}\nContainer.prototype.addVar = function(var){\n   this.variables.push(var);\n}\nContainer.prototype.toString = function(){\n   var result = '';\n   for(var i in this.variables)\n       result += this.variables[i];\n   return result;\n}\n\nvar var1 = 1;\nvar var2 = \"bob\";\nvar container = new Container();\ncontainer.addVar(var2);\ncontainer.addVar(var1);\ncontainer.toString();// = bob1\n</code></pre>\n\n<p>the advantage is that you can get the string representation of the two variables, bit you can modify them later :  </p>\n\n<pre><code>container.variables[0] = 3;\ncontainer.variables[1] = \"tom\";\ncontainer.toString();// = tom3\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can use the JavaScript String concat() Method,</p>\n\n<pre><code>var str1 = \"Hello \";\nvar str2 = \"world!\";\nvar res = str1.concat(str2); //will return \"Hello world!\"\n</code></pre>\n\n<p>Its syntax is:</p>\n\n<pre><code>string.concat(string1, string2, ..., stringX)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I would like to join a js variable together with another to create another variable name... so it would be look like;</p>\n\n<pre><code>for (i=1;i&lt;=2;i++){\n    var marker = new google.maps.Marker({\nposition:\"myLatlng\"+i,\nmap: map, \ntitle:\"title\"+i,\nicon: \"image\"+i\n}); \n}\n</code></pre>\n\n<p>and later on I have</p>\n\n<pre><code>myLatlng1=xxxxx;\nmyLatlng2=xxxxx;\n</code></pre>\n",
            "last_activity_date": 1403592742,
            "question_id": 5922647,
            "score": 6,
            "tags": [
                "javascript",
                "variables"
            ],
            "title": "How do I combine 2 javascript variables into a string"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>you want to use <a href=\"http://jquerymobile.com/demos/1.0a4.1/#docs/api/methods.html\" rel=\"nofollow\">.changPage()</a> function </p>\n\n<pre><code>$(\"[name=button_name]\").click(function() { \n    $.mobile.changePage('anotherPage.php?parm=123','slide',false,true);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You could do something like this:</p>\n\n<pre><code>$('#photo').ready(function () {\n    var photoId = window.location.hash.replace(\"#photo\", \"\");\n    $(\"#myphoto\").attr(\"src\", \"http://dummyimage.com/600x400/000/\" + photoId);\n    window.location.hash = \"#photo\";\n});\n</code></pre>\n\n<p>This will force jQuery to transition to the <code>#photo</code> page, however need to stop jQuery mobile from trying to load up <code>#photofff</code> first.  This ends up causing a quick flash on the page that there was an error loading the page and then the redirect to correct #hash tag.</p>\n\n<p><strong>Update</strong><br>\nIf you disable hash tracking on that page you should be able to remove the error message display.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $.mobile.hashListeningEnabled = false;\n&lt;/script&gt;\n\n$('#photo').ready(function () {\n    var photoId = window.location.hash.replace(\"#photo\", \"\");\n    $(\"#myphoto\").attr(\"src\", \"http://dummyimage.com/600x400/000/\" + photoId);\n    $.mobile.changePage(\"#photo\");\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use global event hooks and data- tags to process and store parameters for internal (i.e. between #blah -> #blah2) transitions:</p>\n\n<ol>\n<li><p>In your HTML you can go</p>\n\n<p>&lt; a href=\"#photo\" data-params=\"id=123\">....&lt; /a></p></li>\n<li><p>Intercept the clicks on all links and look for a specific data- element, say, data-params:</p>\n\n<pre><code>$('a').live('click',\n    function(e) {\n        params = $(e.target).jqmData(\"params\")\n    }\n)\n</code></pre></li>\n</ol>\n\n<p>In this case you are creating a global <strong>params</strong> object, which you should be able to access in a uniform manner from all your code.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you can structure your hashes like #photo?id=123, something like this can work:</p>\n\n<pre><code>$(\"#page\").live(\"pageinit\", function(e) {\n    var id = $(e.target).attr(\"data-url\").replace(/.*id=/, \"\");\n    //now you have the id, do page-rendering logic\n});\n</code></pre>\n\n<p>And to catch direct-links:</p>\n\n<pre><code>if (window.location.hash &amp;&amp; window.location.hash.indexOf(\"?\") !== -1) {\n    var pageID = window.location.hash.split(\"?\")[0];\n    $(pageID).trigger(\"pageinit\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Check this fix out:</p>\n\n<p><a href=\"https://github.com/flodev/jquery-mobile/commit/f3b2e5d84493f3b8b27f9f423863cab2a416007a\" rel=\"nofollow\">https://github.com/flodev/jquery-mobile/commit/f3b2e5d84493f3b8b27f9f423863cab2a416007a</a></p>\n\n<p>Had a similar issue but adding this one line of code to the jquery.mobile js file allowed me to pass parameters in the URL without having to add plugins and js routing solutions. </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm working in jQuery mobile, which is great. I have a question about supplying parameters inside the hash part of a URL. </p>\n\n<p>Here's some example code. In the <code>content</code> part of the home page, I'd like to be able to link to a page called e.g. '#photo-123' and have it load the 'photo' page below. I'd then extract the photo number from the URL, and load image 123.</p>\n\n<pre><code>  &lt;!-- Home page --&gt;\n    &lt;div data-role=\"page\" id=\"home\"&gt; \n        &lt;div data-role=\"header\"&gt;\n            &lt;h1&gt;Home&lt;/h1&gt; \n        &lt;/div&gt; \n        &lt;div data-role=\"content\"&gt;    \n            &lt;p&gt;&lt;a href=\"#photo\" data-role=\"button\"&gt;Photo ###&lt;/a&gt;&lt;/p&gt;  \n        &lt;/div&gt; \n    &lt;/div&gt; \n    &lt;!-- Photo page --&gt;\n    &lt;div data-role=\"page\" id=\"photo\"&gt;\n        &lt;div data-role=\"header\"&gt;\n            &lt;h1&gt;Photo ###&lt;/h1&gt;\n        &lt;/div&gt;\n        &lt;div data-role=\"content\"&gt;\n              &lt;img id=\"myphoto\" src=\"\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>This is so I can reuse the URL, i.e. the user can reload that page directly. </p>\n\n<p>Is it possible to pass parameters inside a hash URL with jQuery mobile? (or indeed with HTML generally - I know it's possible with e.g. the BBQ plugin, but I'd rather avoid plugins if possible)</p>\n",
            "last_activity_date": 1334754357,
            "question_id": 5791943,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "jquery-mobile"
            ],
            "title": "jQuery mobile: supply parameters in hash URL?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Javascript has a comma operator, like C does.  It evaluates each of the expressions, then returns the last one.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>I haven't seen this in Javascript before.  But in a number of other C'ish languages, it basically evaluates each of the expressions in the parentheses and returns the value of the last one.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<pre><code>var x = (1,2,3);\nalert(x);\n</code></pre>\n\n<p>this expression evaluates to 3. my question is:\nHow is this expression <strong>(1,2,3)</strong> called?? and why does it return 3??</p>\n\n<p>Thanks in advance!!</p>\n",
            "last_activity_date": 1299290319,
            "question_id": 5201118,
            "score": 6,
            "tags": [
                "javascript"
            ],
            "title": "Javascript expression in parentheses"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><a href=\"http://docs.jquery.com/Plugins/Authoring\">This article</a> discusses writing jQuery plugins/libraries in excruciating detail.</p>\n\n<p>What NOT to do:</p>\n\n<pre><code>(function( $ ){\n\n  $.fn.tooltip = function( options ) { // THIS };\n  $.fn.tooltipShow = function( ) { // IS   };\n  $.fn.tooltipHide = function( ) { // BAD  };\n  $.fn.tooltipUpdate = function( content ) { // !!!  };\n\n})( jQuery );\n</code></pre>\n\n<p>What to do:</p>\n\n<pre><code>(function( $ ){\n\n  var methods = {\n    init : function( options ) { // THIS },\n    show : function( ) { // IS   },\n    hide : function( ) { // GOOD },\n    update : function( content ) { // !!! }\n  };\n\n  $.fn.tooltip = function( method ) {\n\n    // Method calling logic\n    if ( methods[method] ) {\n      return methods[ method ].apply( this, Array.prototype.slice.call( arguments, 1 ));\n    } else if ( typeof method === 'object' || ! method ) {\n      return methods.init.apply( this, arguments );\n    } else {\n      $.error( 'Method ' +  method + ' does not exist on jQuery.tooltip' );\n    }    \n\n  };\n\n})( jQuery );\n</code></pre>\n\n<p>I also wrote a <a href=\"http://dvt.name/post/how-to-namespace-javascript/\">blog post</a> last year about various methods for namespacing in JavaScript (non-jQuery related).</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>It would depend on what the library does. </p>\n\n<ul>\n<li><p>If you're extending the functionality of instances of jQuery objects, you'd use <code>jQuery.fn</code> as was described very nicely by <a href=\"http://stackoverflow.com/users/243613/david-titarenco\">@David Titarenco</a> in <a href=\"http://stackoverflow.com/questions/4838876/javascript-namespace-with-jquery/4838907#4838907\">his answer</a>. </p></li>\n<li><p>If you're creating utilities that are meant to be seen as additions to those provided in <code>window.jQuery</code>, then I don't see a problem with using that namespace (as long as you're careful with naming).</p></li>\n<li><p>If it is really its own separate library that is <em>not</em> meant to be seen as an extension of jQuery, yet relies on functionality from jQuery, then definitely use your own namespace.</p></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>How do you manage namespace for a custom JavaScript library depends on jQuery?</p>\n\n<p>Do you create your own namespace, say <code>foo</code> and add your objects there? e.g. <code>foo.myClass, foo.myFunction</code></p>\n\n<p>Or do you add your objects to jQuery's namespace? e.g. <code>jQuery.myClass, jQuery.myFunction</code></p>\n\n<p>Which is the more common practice and why?</p>\n",
            "last_activity_date": 1334703039,
            "question_id": 4838876,
            "score": 6,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "JavaScript Namespace with jQuery"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You can try:</p>\n\n<p>1) call this:</p>\n\n<pre><code>[[UIApplication sharedApplication] setStatusBarHidden:YES animated:NO]\n</code></pre>\n\n<p>2) or this from your view controller.</p>\n\n<pre><code>[self setWantsFullScreenLayout:YES];\n</code></pre>\n\n<p>3) You can do it from the Interface Builder. Here's a video about it:\n<a href=\"http://www.youtube.com/watch?v=aPAChohC-4Q\">http://www.youtube.com/watch?v=aPAChohC-4Q</a></p>\n\n<p>4) Someone else asked the same thing and got some related answers:\n<a href=\"http://stackoverflow.com/questions/373791/fullscreen-uiview-with-status-bar-and-navigation-bar-overlay-on-the-top\">Fullscreen UIView with Status bar and Navigation Bar overlay on the top</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You can hide the status bar in Interface builder</p>\n\n<p>Where to find?\n<a href=\"http://cl.ly/3v460J1v3V3p2w3w2a0c\" rel=\"nofollow\">Screenshot link</a></p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>For iPhone simply add</p>\n\n<pre><code>&lt;key&gt;UIStatusBarHidden&lt;/key&gt;\n&lt;true /&gt;\n</code></pre>\n\n<p>in your <em>[appname]</em>-info.plist file</p>\n\n<p>For completeness if you also wish to roll out for android this solution worked well</p>\n\n<p>In the file where you change activity to droidgap </p>\n\n<pre><code>public class app extends DroidGap\n</code></pre>\n\n<p>Add the following import</p>\n\n<pre><code>import android.view.WindowManager;\n</code></pre>\n\n<p>And then append the following within the class method</p>\n\n<pre><code>public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FORCE_NOT_FULLSCREEN);\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n    WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n    super.loadUrl(\"file:///android_asset/www/index.html\");\n}\n</code></pre>\n\n<p>Hope this helps</p>\n\n<p>regards</p>\n",
                    "is_accepted": false,
                    "score": 33
                },
                {
                    "body": "<p>If you want to the app to load with the status bar initially hidden:</p>\n\n<ul>\n<li>[appname]-info.plist file</li>\n<li>Find \"Status bar is initially hidden\"\n<ul>\n<li>Add new row if it isn't already there</li>\n</ul></li>\n<li>Select 'YES' for the value</li>\n</ul>\n\n<p>\"Status bar is initially hidden\" is the key that is available at least in xcode 4.2 beta 5.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>For iOS7, you'll need to set the following setting in your [appname]-info.plist:</p>\n\n<p>'View controller-based status bar appearance' to NO (Boolean)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have been trying to get the status bar to go away as i want to put a fullscreen game in.\ni'm using phonegap for the iphone</p>\n\n<p>thanks in advance.</p>\n\n<p>p.s: i'm not that good with objective-c so please give simple answers.</p>\n",
            "last_activity_date": 1381290652,
            "question_id": 4833995,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "objective-c",
                "css",
                "cordova"
            ],
            "title": "no status bar in phone gap?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The script fails at this point because you are passing an invalid CSS value:</p>\n\n<pre><code>element.animate({\n          backgroundPosition: animStep + \" 0px\" /* evaluates to \"+=50px 0px\" */\n }, speed, animate);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>OK here  we go again :D</p>\n\n<p><a href=\"http://jsfiddle.net/c7rKV/1/\" rel=\"nofollow\">http://jsfiddle.net/c7rKV/1/</a></p>\n\n<p>Again identical to original however again just animating backgroundPositionX when in IE.</p>\n\n<p>Apologies on not actually looking at FF/Chrome last time.</p>\n\n<p>Additionally: this of course is not very graceful and Adam Prax is absolutely correct on what the problem is.  I just wanted to post a solution to it.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>According to jQuery, this is because, as stated on the <code>animate</code> documentation page:</p>\n\n<blockquote>\n  <p>All animated properties should be a\n  <strong>single numeric value</strong> (except as noted\n  below); properties that are\n  non-numeric cannot be animated using\n  basic jQuery functionality....</p>\n</blockquote>\n\n<p>So, in fact, in Firefox you are using undefined behavior.  The correct thing to do would be to animate on backgroundPositionX, however Firefox does not support this.</p>\n\n<p>There is, however, a jQuery plugin that does what you want:</p>\n\n<p><a href=\"http://plugins.jquery.com/project/backgroundPosition-Effect\" rel=\"nofollow\">http://plugins.jquery.com/project/backgroundPosition-Effect</a></p>\n\n<p><strong>Update</strong></p>\n\n<p>On closer inspection, the plugin does not support <code>+=</code> or <code>-=</code> formats.</p>\n\n<p>I hacked it into this example:</p>\n\n<p><strike>http://jsfiddle.net/CxqSs/</strike>  (See new example at bottom.)</p>\n\n<p>Could definitely use some cleanup, and should probably be added to that plug-in, but it works in both browsers and doesn't rely on undefined behavior.</p>\n\n<p>BTW, I don't know if it's worth noting, but if you leave this animation running a long time, it will eventually overflow the value and break.  This could be overcome by animating the full length of the background image and then resetting the offset to 0px in the callback before the next animate.  This would also avoid needing the <code>+=</code> format.</p>\n\n<p><strong>Also</strong>,</p>\n\n<p>It should be noted that <code>speed: 1, step: 1</code> and <code>speed: 50, step: 50</code> are equivalent.</p>\n\n<p>The reason they look different speeds is because</p>\n\n<ol>\n<li>There is more overhead in a speed of 1 (which is really a millisecond duration) because animate gets called more often.</li>\n<li><p>The default easing is \"swing\", meaning that the animation speeds up and slows down slightly throughout it's course, meaning that the overall speed is affected a bit.  You should change the easing to \"linear\" for your scrolling case:</p>\n\n<pre><code>var animate = function() {\n    element.animate({\n        ...\n    }, speed, \"linear\", animate);            \n};\n</code></pre></li>\n</ol>\n\n<p><strong>This means</strong> that you could use the backgroundPosition-Effect plugin, without the '+=', by setting your step to 2247 (the width of the image), like I stated above.</p>\n\n<p>And that <strong>finally</strong> brings us to... wait for it...</p>\n\n<p><a href=\"http://jsfiddle.net/zyQj3/20/\" rel=\"nofollow\">http://jsfiddle.net/zyQj3/20/</a></p>\n\n<p>Cross-platform, non-kludgy, non-overflowing, correctly easing, extra parameter-lacking, solution.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>If you check the source code of jQuery, you will see it uses <a href=\"https://github.com/jquery/jquery/blob/1.4.4/src/effects.js#L5\" rel=\"nofollow\">this regexp</a> to parse the parameter (which in your case is <code>+=50px 0px</code>). So it will see it as <code>+=</code> (increase) <code>50</code> (to fifty) <code>px 0px</code> (unit, append after the number). When trying to read the current value, <a href=\"https://github.com/jquery/jquery/blob/1.4.4/src/effects.js#L334\" rel=\"nofollow\">jQuery uses  parseFloat</a>, which just grabs the number at the start of the string. So it works perfectly, even if a multi-dimensional property is probably not what the jQuery programmers had in mind.</p>\n\n<p>Except that IE8 does not support getting the current value of <code>background-position</code>. There is <code>background-position-x</code> and <code>background-position-y</code> but no <code>background-position</code>. Duh. So your best bet is checking the browser type, and animating either <code>background-position</code> or <code>background-position-x</code> depending on that: <a href=\"http://jsfiddle.net/22UWW/\" rel=\"nofollow\">http://jsfiddle.net/22UWW/</a></p>\n\n<p>(There is actually a <a href=\"http://bugs.jquery.com/ticket/7681\" rel=\"nofollow\">jQuery bug report</a> about this, with a <a href=\"https://github.com/brandonaaron/jquery-cssHooks/blob/master/bgpos.js\" rel=\"nofollow\">more elegant solution</a>.)</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Why this example not working in IE <a href=\"http://jsfiddle.net/8RZVt/\">http://jsfiddle.net/8RZVt/</a></p>\n\n<p>I'm getting this error in IE8.</p>\n\n<pre><code>Message: Invalid argument.\nLine: 156\nChar: 295\nCode: 0\nURI: http://code.jquery.com/jquery-1.4.4.min.js\n</code></pre>\n",
            "last_activity_date": 1330994917,
            "question_id": 4655405,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "css",
                "xhtml",
                "cross-browser"
            ],
            "title": "jQuery example (in jsfiddle) working in firefox but not in IE8, 7"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>$(xml).find(\"user[sex='m'][state='CA'], user[sex='m'][state='NV']\")\n</code></pre>\n\n<p>Basically you chain the <code>sex</code> and <code>state</code> attributes together in a single simple selector (this would be your logical AND), and repeat them once per state (and this would be your logical OR).</p>\n\n<p>Test:</p>\n\n<pre><code>$(xml).find(\"user[sex='m'][state='CA'], user[sex='m'][state='NV']\")\n      .each(function() {\n          alert($(this).text() + \" - \" + $(this).attr('state'));\n      });\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Max - CA\nBob - NV\nJon - CA\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>You can combine multiple selectors, but your syntax isn't exactly correct:</p>\n\n<pre><code>$(xml).find(\"user[state='CA'],[state='NV']\")\n</code></pre>\n\n<p>This finds all &lt;user&gt; elements with the state \"CA\" and any other nodes (not necessarily &lt;user&gt;) with state \"NV\". What you want is:</p>\n\n<pre><code>$(xml).find(\"user[state=CA][sex=m],user[state=NV][sex=m]\")\n</code></pre>\n\n<p>If you don't want to repeat yourself:</p>\n\n<pre><code>$(xml).find(\"user\").filter(\"[state='CA'],[state='NV']\").filter(\"[sex='m']\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Given the following XML:</p>\n\n<pre><code>&lt;users&gt;\n    &lt;user state=\"CA\" sex=\"m\"&gt;Max&lt;/user&gt;\n    &lt;user state=\"AZ\" sex=\"f\"&gt;Jen&lt;/user&gt;\n    &lt;user state=\"OR\" sex=\"f\"&gt;Kim&lt;/user&gt;\n    &lt;user state=\"NV\" sex=\"m\"&gt;Bob&lt;/user&gt;\n    &lt;user state=\"CA\" sex=\"m\"&gt;Jon&lt;/user&gt;\n    &lt;user state=\"AZ\" sex=\"m\"&gt;Jim&lt;/user&gt;\n    &lt;user state=\"OR\" sex=\"f\"&gt;Joy&lt;/user&gt;\n    &lt;user state=\"NV\" sex=\"f\"&gt;Amy&lt;/user&gt;\n&lt;/users&gt;\n</code></pre>\n\n<p>Using jQuery, is there a way to select users who are male and are either from CA or NV, but without using the filter function? To be clear, I know that</p>\n\n<pre><code>$(xml).find(\"user[sex='m']\")\n</code></pre>\n\n<p>selects only male users, while</p>\n\n<pre><code>$(xml).find(\"user[state='CA'],[state='NV']\")\n</code></pre>\n\n<p>selects all users from either CA or NV. But I am not able to combine both of them with a logical AND within a single selector.</p>\n\n<p>Using the filter function, however, the following works:</p>\n\n<pre><code>$(xml).find(\"user\").filter(function() {\n    return $(this).attr('sex') == 'm' &amp;&amp; ($(this).attr('state') == 'CA' || $(this).attr('state') == 'NV')\n}).each(function() {\n    alert($(this).text());\n});\n</code></pre>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1291947255,
            "question_id": 4404995,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "attributes",
                "jquery-selectors"
            ],
            "title": "How do I combine logical OR with logical AND within a jQuery attribute selector?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You could iterate though the entire DOM and check all links to make sure they are <code>https://</code>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It looks like Mozilla's CSP (Content Security Policy), implemented in Firefox 4, partially solves this.  It can limit content loaded on your site to only SSL ports, and send a report back to a specified URL when the browser attempts to load something non-SSL.  It's only in Firefox 4 so far, but we have enough FF4 users that this can serve as a decent early warning system.</p>\n\n<p>Update 8/15: CSP is supported in Chrome too.  I've used this effectively in production as an early-warning system for mixed content errors.  It looks roughly like this:</p>\n\n<p>X-WebKit-CSP-Report-Only: default-src https: 'unsafe-inline' 'unsafe-eval'; report-uri /report_mixed_content; img-src https://* data: ; frame-src https://* about: javascript:</p>\n\n<p>Note that this is a very permissive header, intending to catch only mixed content errors.  You'll want to use X-Content-Security-Policy for Firefox.</p>\n\n<p>If you deploy this to a percentage of your users you'll get logs whenever you accidentally deploy a mixed content error.  To make this effective for Selenium tests you'd have to add a special test-mode handler for /report_mixed_content that causes the test to fail.</p>\n\n<p>For internal users, I have this always enabled in enforce mode (remove the -Report-Only).  This helps make sure other developers notice mixed content errors in new features before they get deployed.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>You can use <a href=\"https://github.com/bramus/mixed-content-scan\" rel=\"nofollow\">Mixed Content Scan</a>, a PHP CLI scripts I wrote which scans your site for Mixed Content.</p>\n\n<p>Run this script from the CLI, a such:</p>\n\n<pre><code>$ mixed-content-scan https://www.bram.us/\n</code></pre>\n\n<p>The script itself will start scanning and give feedback whilst running. When Mixed Content is found, the URLs causing Mixed Content warnings will be shown on screen:</p>\n\n<pre><code>$ mixed-content-scan https://www.bram.us/\n[2015-01-07 12:54:20] MCS.NOTICE: Scanning https://www.bram.us/ [] []\n[2015-01-07 12:54:21] MCS.INFO: 00000 - https://www.bram.us/ [] []\n[2015-01-07 12:54:22] MCS.INFO: 00001 - https://www.bram.us/projects/ [] []\n[2015-01-07 12:54:22] MCS.INFO: 00002 - https://www.bram.us/projects/mint-custom-title/ [] []\n[2015-01-07 12:54:23] MCS.INFO: 00003 - https://www.bram.us/projects/bramusicq/ [] []\n[2015-01-07 12:54:24] MCS.INFO: 00004 - https://www.bram.us/projects/gm_bramus/ [] []\n[2015-01-07 12:54:24] MCS.INFO: 00005 - https://www.bram.us/projects/js_bramus/ [] []\n[2015-01-07 12:54:26] MCS.INFO: 00006 - https://www.bram.us/projects/js_bramus/jsprogressbarhandler/ [] []\n[2015-01-07 12:54:27] MCS.INFO: 00007 - https://www.bram.us/projects/js_bramus/lazierload/ [] []\n[2015-01-07 12:54:27] MCS.INFO: 00008 - https://www.bram.us/projects/the-box-office/ [] []\n[2015-01-07 12:54:28] MCS.INFO: 00009 - https://www.bram.us/projects/tinymce-plugins/ [] []\n[2015-01-07 12:54:29] MCS.INFO: 00010 - https://www.bram.us/projects/tinymce-plugins/tinymce-classes-and-ids-plugin-bramus_cssextras/ [] []\n[2015-01-07 12:54:30] MCS.INFO: 00011 - https://www.bram.us/projects/flashlightboxinjector/ [] []\n\n...\n\n[2015-01-07 12:54:45] MCS.INFO: 00036 - https://www.bram.us/2007/06/04/accessible-expanding-and-collapsing-menu/ [] []\n[2015-01-07 12:54:45] MCS.ERROR: 00037 - https://www.bram.us/demo/projects/jsprogressbarhandler/ [] []\n[2015-01-07 12:54:45] MCS.WARNING: http://www.google-analytics.com/urchin.js [] []\n[2015-01-07 12:54:46] MCS.INFO: 00038 - https://www.bram.us/2008/07/11/ror-progress-bar-helper/ [] []\n[2015-01-07 12:54:46] MCS.INFO: 00039 - https://www.bram.us/2008/11/10/jsprogressbarhandler-033/ [] []\n[2015-01-07 12:54:47] MCS.ERROR: 00040 - https://www.bram.us/demo/projects/lazierload/ [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://farm2.static.flickr.com/1212/1285026452_0aeb38b6e6.jpg [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://farm2.static.flickr.com/1074/1273115418_a77357040a.jpg [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://farm2.static.flickr.com/1096/1273106588_91f7a736c6.jpg [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://farm2.static.flickr.com/1324/1216309045_31ca82f9d9.jpg [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://farm2.static.flickr.com/1262/1217169586_e4b2bfa7df.jpg [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://farm2.static.flickr.com/1149/1216304291_63fd48d9c4.jpg [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://farm2.static.flickr.com/1366/1216301505_51b3c590ff.jpg [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://farm2.static.flickr.com/1184/1216299847_c57975bed2.jpg [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://farm2.static.flickr.com/1085/1217158084_a9b059d25b.jpg [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://farm2.static.flickr.com/1040/1216293529_3b7c044815.jpg [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://farm2.static.flickr.com/1029/1084232736_5b8c023f46.jpg [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://farm2.static.flickr.com/1318/1043062251_17071a8cc7.jpg [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://farm2.static.flickr.com/1221/1043059543_05713e6156.jpg [] []\n[2015-01-07 12:54:47] MCS.WARNING: http://www.google-analytics.com/urchin.js [] []\n[2015-01-07 12:54:47] MCS.INFO: 00041 - https://www.bram.us/2011/09/30/css-regions-and-css-exclusions/ [] []\n[2015-01-07 12:54:47] MCS.INFO: 00042 - https://www.bram.us/2014/06/04/good-looking-shapes-gallery/ [] []\n\n...\n</code></pre>\n\n<p>It's also possible to pass in a file containing a list of URLs to scan, and to change the output to JSON. Ignore patterns are also supported.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm working on making a site fully functional under HTTPS.  As part of this, I'd like to ensure we never \"break the lock.\"  That is, we should never load non-SSL content on an SSL page, which can trigger a warning or other indicator depending on the browser.  To verify this is the case, I'd like to do two things:</p>\n\n<ol>\n<li>Write Selenium tests that verify various actions don't break the lock.</li>\n<li>Write logging code in JS that checks during a user session whether the lock is broken, and logs back to the server if it is.</li>\n</ol>\n\n<p>Is there any method that can be used in JS to check the broken / not broken state of the browser's HTTPS lock icon?  Or equivalently, the mixed / non-mixed state of the current page's content?</p>\n",
            "last_activity_date": 1423661421,
            "question_id": 4129496,
            "score": 6,
            "tags": [
                "javascript",
                "security",
                "ssl",
                "https",
                "selenium"
            ],
            "title": "Detect broken lock icon (mixed secure/insecure content) from Javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Try using Object Literal notation to specify your lookup like this:</p>\n\n<pre><code>var itemIds = {\n    \"item1\" : 15,\n    \"item2\" : 40\n    ...\n};\n</code></pre>\n\n<p>Access should still work like this:</p>\n\n<pre><code>var item1Value = itemIds[\"item1\"];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>What you're doing isn't an array - it's an object (objects in JavaScript are the equivalent-ish of associative arrays in PHP).</p>\n\n<p>You can use JavaScript object literal syntax:</p>\n\n<pre><code>var itemIds = {\n    item1: 15,\n    item2: 40,\n    item3: 72\n};\n</code></pre>\n\n<p>JavaScript object members can be accessed via dot notation or array subscript, like so:</p>\n\n<pre><code>itemIds.item1;\nitemIds['item1'];\n</code></pre>\n\n<p>You'll need to use the second option if you've got the member name as a string.</p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I have an autocomplete text box that users can type an item code into and need to find out what the id number of that item code is in javascript.</p>\n\n<p>An associative array is the way I would imagine it should be done, but the following seems a little long winded and I'm hoping someone has a better way to do it or shorthand of what I have below:</p>\n\n<pre><code>var itemIds = new Array();\nitemIds[\"item1\"] = 15;\nitemIds[\"item2\"] = 40;\nitemIds[\"item3\"] = 72;\n...\n\nfunction getItemId(code){\n    return itemIds[code];\n}\n</code></pre>\n",
            "last_activity_date": 1330570128,
            "question_id": 3831181,
            "score": 6,
            "tags": [
                "javascript",
                "arrays",
                "associative-array"
            ],
            "title": "Efficient syntax for populating a javascript associative array"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>This is happening because in your <code>&lt;html&gt;</code> you declared a XML Namespace (xmlns).  If the xmlns anchor is not breaking anything, just leave it there.</p>\n\n<p>Also, don't use <code>async:false</code>, make a callback function to be called on success.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>EDIT: Actually that just fixed the issue with that particular value... it started happening on other values where it used to be fine.</p>\n\n<p><strike>\nSomehow this fixed the issue.  </p>\n\n<p>Changed</p>\n\n<pre><code>jQuery(selector).html(valueToDisplay)\n</code></pre>\n\n<p>to </p>\n\n<pre><code>jQuery(selector).html(\n    function(index, oldHtml)  \n    {\n        return valueToDisplay;\n    }\n);\n</code></pre>\n\n<p>According to the doc, if I read it right it should be doing the same thing as I am not using oldHtml in the function. (http://api.jquery.com/html/).</p>\n\n<blockquote>\n  <p>From the doc: \"jQuery empties the element before calling the function; use the oldhtml argument to reference the previous content.\"\n  </strike></p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try changing <code>dataType</code> in your ajax call to <code>\"text\"</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Your selector represents something that is, or is in an <code>a</code> tag.</p>\n\n<p>A much more minimal version of your problem would be:</p>\n\n<p>html:</p>\n\n<pre><code>&lt;a id=\"test\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>js:</p>\n\n<pre><code>$('#test').html('&lt;p&gt;test&lt;/p&gt;');\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>&lt;a id=\"test\"&gt;&lt;p&gt;&lt;a xmlns=\"http://www.w3.org/1999/xhtml\"&gt;test&lt;/a&gt;&lt;/p&gt;&lt;/a&gt;\n</code></pre>\n\n<p>Change things around so you aren't putting <code>p</code> tags in an <code>a</code> tag, or do the following:</p>\n\n<pre><code>$('#test').empty().append('&lt;p&gt;test&lt;/p&gt;');\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Using .append() instead of .html() fixed the issue for me.  Never seen this before today.  Why is it adding the extra xmlns?  I tried changing my dataType to \"text\" as well, but it didn't work.  It was really messing up my CSS styles as well, but using .append() completely resolved the issue. Thanks!</p>\n\n<p><strong>UPDATE</strong>:  I needed to completely replace the content of my div with the result of an .ajax() query.  .append() by itself wasn't sufficient, as it would just add to the content, so I found another workaround:</p>\n\n<p>First clear the div:</p>\n\n<pre><code>$(\"#myDiv\").html(\"\");\n</code></pre>\n\n<p>Then, append the content using .append():</p>\n\n<pre><code>$(\"#myDiv\").append(\"My content\");\n</code></pre>\n\n<p>It's not perfect, but it works.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I would like to extend the answer, as of why is happening, and provide a workaround.\nDoing a GreaseMonkey script i was trying to change the content of an  element, perhaps not changing per se but adding more elements as the tag had only an IMG inside.</p>\n\n<p>Original:</p>\n\n<pre><code>&lt;a onclick=something&gt;&lt;img src=url&gt;&lt;/a&gt;\n</code></pre>\n\n<p>What i tried to do was to insert a DIV element that would wrap the already IMG and another new SPAN second child, so the objetive was to end up with this:</p>\n\n<pre><code>&lt;a onclick=something&gt;&lt;div&gt;&lt;img src=url&gt;&lt;span&gt;text&lt;/span&gt;&lt;/div&gt;&lt;/a&gt;\n</code></pre>\n\n<p>Using the innerHTML property it would be like this:</p>\n\n<pre><code>ANode.innerHTML = '&lt;div&gt;' + ANode.innerHTML + '&lt;span&gt;text&lt;/span&gt;&lt;/div&gt;';\n</code></pre>\n\n<p>but instead i got:</p>\n\n<pre><code>&lt;a onclick=something&gt;&lt;div&gt;&lt;a xmlns=\"http://www.w3.org/1999/xhtml\"&gt;&lt;img src=url&gt;&lt;span&gt;text&lt;/span&gt;&lt;/a&gt;&lt;/div&gt;&lt;/a&gt;\n</code></pre>\n\n<p>Looking at the answers here did help a bit although there's no real explanation. After a while i noticed something that does not happens with the example in the question, which now i believe is the key to this issue. I was the same as jfrobishow thinking where was it happening, i thought there was something wrong concatenating the ANode.innerHTML.</p>\n\n<p>Answering, at the original question, the part of narrowing it down to where does this happens, notice that the out-of-nowhere <code>&lt;A&gt;</code> was enclosing both the IMG and the new SPAN nodes, so this made me curious, the unwanted <code>&lt;A&gt;</code> was being added just before the DIV element was \"built\". So from this, the original example, and my following workaround you can notice that this happens when you insert a new BLOCK node inside an Anchor, as both DIV and P (original example) elements are BLOCK elements.</p>\n\n<p>(If you don't know what i mean by BLOCK is from the display property of an element <a href=\"http://www.w3schools.com/cssref/pr_class_display.asp\" rel=\"nofollow\">http://www.w3schools.com/cssref/pr_class_display.asp</a>)</p>\n\n<p>The obvious workaround is to replace the type of node you're inserting, to a non-block element, in my case the problem was the DIV i wanted, but of course it depends on the objective of your script, most of the things are there by design, i put a DIV because i needed it, so i fixed it turning that DIV into another SPAN ( which is an inline element) but i still needed to behave like a block element so put the style, this is what worked for me:</p>\n\n<pre><code>ANode.innerHTML = '&lt;span style=\"display:block;\"&gt;' + ANode.innerHTML + '&lt;span&gt;text&lt;/span&gt;&lt;/span&gt;';\n</code></pre>\n\n<p>So, plainly, this problem is not from scripting (Javascript for me) but from style (CSS) stuff.\nBTW, this happened at Firefox 3.6.18, notice this does not happens at Firefox 5.0.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The problem is placing block elements inside an anchor tag.\nThis is not valid HTML, even though most browsers will parse it fine.</p>\n\n<p>You just need to use a <code>&lt;span&gt;&lt;/span&gt;</code> element inside the anchor, instead of a <code>&lt;div&gt;</code> or <code>&lt;p&gt;</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>EDIT: This isn't happening because of the ajax call.  I changed it to use a value from a TinyMCE component for fun and I get the same thing.</p>\n\n<pre><code>content = tinyMCE.get('cComponent').getContent(); //content at this point is &lt;p&gt;test&lt;/p&gt;\nvalueToDisplay = content;\n</code></pre>\n\n<p>If I do:</p>\n\n<pre><code>jQuery(selector).html(valueToDisplay);\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>&lt;p&gt;&lt;a xmlns=\"http://www.w3.org/1999/xhtml\"&gt;test&lt;/a&gt;&lt;/p&gt;\n</code></pre>\n\n<hr>\n\n<p>Has anyone ever seen this before using Firefox 3.6.10 and jQuery 1.4.2, I am trying to change a link text using the result from a jQuery ajax call.</p>\n\n<p>I get the result expected from the ajax call:</p>\n\n<pre><code>function getValueToDisplay(fieldType){\n    var returnValue;\n    jQuery.ajax({\n        type: \"GET\",\n        url: \"index.cfm\",\n        async:false, \n        data: \"fieldtype=\"+fieldType,\n        success:function(response){\n            returnValue = response;\n    }                   \n    });\n    return returnValue;\n   }\n</code></pre>\n\n<p>If I check the value at this point I get the expected value</p>\n\n<pre><code>console.log(returnValue) //output this --&gt; &lt;p&gt;Passport Photo&lt;/p&gt;\n</code></pre>\n\n<p>However when I use jQuery(selector).html to insert it inside of an existing anchor </p>\n\n<p>I get:</p>\n\n<pre><code>&lt;p&gt;&lt;a xmlns=\"http://www.w3.org/1999/xhtml\"&gt;Passport Photo&lt;/a&gt;&lt;/p&gt;\n</code></pre>\n\n<p>I have been trying to figure out where that xmlns anchor is added but can't narrow it down to anything specific.</p>\n\n<p>EDIT: I have tried forcing dataType:\"html\" in the ajax call...no change.</p>\n",
            "last_activity_date": 1334336973,
            "question_id": 3736474,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "xmlns"
            ],
            "title": "Firefox add &lt;a xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I've come up with this code : </p>\n\n<pre><code>$(\"input[target]\").change(function(){\n            var target = $(\"[name='\"+$(this).attr(\"target\")+\"']\");\n            if($(this).is(\":checked\")){             \n                target.attr(\"oldvalue\",target.val()).val($(this).val());\n            }else{\n                target.val(target.attr(\"oldvalue\"));\n            }\n        });\n        $(\"select\").change(function(){\n            $(\"[target='\"+ $(this).attr(\"name\") +\"'][value='\"+ $(this).val() +\"']\").attr('checked', true);\n        });\n</code></pre>\n\n<p>And for the HTML format :</p>\n\n<pre><code>&lt;label&gt;&lt;input type=\"checkbox\" target=\"foo\" value=\"15\"/&gt; Check &lt;/label&gt;\n    &lt;select name=\"foo\"&gt;\n      &lt;option value=\"5\" selected=\"selected\"&gt;5&lt;/option&gt;\n      &lt;option value=\"15\"&gt;15&lt;/option&gt;\n      &lt;option value=\"25\"&gt;25&lt;/option&gt;\n    &lt;/select&gt;\n</code></pre>\n\n<p>So basically, all you have to do is to have a \"target\" attribute on an input, which should match the \"name\" attribute of the dropdown that you want to bind to. Set the value of the input too, which should select the value of its corresponding dropdown when it's checked.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here you go :-)</p>\n\n<p><a href=\"http://jsfiddle.net/balupton/cxcmf/\" rel=\"nofollow\">http://jsfiddle.net/balupton/cxcmf/</a></p>\n\n<hr>\n\n<pre><code>(function($){\n    /**\n     * jQuery.fn.dependsOn\n     * @version 1.0.1\n     * @date September 22, 2010\n     * @since 1.0.0, September 19, 2010\n     * @package jquery-sparkle {@link http://www.balupton/projects/jquery-sparkle}\n     * @author Benjamin \"balupton\" Lupton {@link http://www.balupton.com}\n     * @copyright (c) 2010 Benjamin Arthur Lupton {@link http://www.balupton.com}\n     * @license Attribution-ShareAlike 2.5 Generic {@link http://creativecommons.org/licenses/by-sa/2.5/\n     */\n    $.fn.dependsOn = function(source,value){\n        var $target = $(this),\n            $source = $(source),\n            source = $source.attr('name')||$source.attr('id');\n\n        // Add Data\n        var dependsOnStatus = $target.data('dependsOnStatus')||{};\n        dependsOnStatus[source] = false;\n        $target.data('dependsOnStatus',dependsOnStatus);\n\n        // Add Event\n        $source.change(function(){\n            var pass = false;\n            var $source = $(this); // so $source won't be a group for radios\n\n            // Determine\n            if ( (value === null) || (typeof value === 'undefined') ) {\n                // We don't have a value\n                if ( $source.is(':checkbox,:radio') ) {\n                    pass = $source.is(':selected:enabled,:checked:enabled');\n                }\n                else {\n                    pass = Boolean($source.val());\n                }\n            }\n            else {\n                // We do have a value\n                if ( $source.is(':checkbox,:radio') ) {\n                    pass = $source.is(':selected:enabled,:checked:enabled') &amp;&amp; ($source.val() == value);\n                }\n                else {\n                    pass = $source.val() == value;\n                }\n            }\n\n            // Update\n            var dependsOnStatus = $target.data('dependsOnStatus')||{};\n            dependsOnStatus[source] = pass;\n            $target.data('dependsOnStatus',dependsOnStatus);\n\n            // Determine\n            var passAll = true;\n            $.each(dependsOnStatus, function(i,v){\n                if ( !v ) {\n                    passAll = false;\n                    return false; // break\n                }\n            });\n            // console.log(dependsOnStatus);\n\n            // Adjust\n            if ( !passAll ) {\n                $target.attr('disabled','disabled').addClass('disabled');\n            }\n            else {\n                $target.removeAttr('disabled').removeClass('disabled');\n            }\n        }).trigger('change');\n\n        // Chain\n        return this;\n    };\n\n\n})(jQuery);\n</code></pre>\n\n<p>For an example:</p>\n\n<p><strong>Javascript:</strong></p>\n\n<pre><code>    $(function(){\n        $('#foo').dependsOn('#boo').dependsOn('#moo','test')\n            .dependsOn(\":radio[name=doo]\",'true');\n    });\n</code></pre>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;div&gt;\n    &lt;select name=\"foo\" id=\"foo\" &gt;\n        &lt;option value=\"5\" selected=\"selected\"&gt;5&lt;/option&gt;\n        &lt;option value=\"15\"&gt;15&lt;/option&gt;\n        &lt;option value=\"25\"&gt;25&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;input type=\"text\" name=\"moo\" id=\"moo\" /&gt;\n    &lt;input type=\"checkbox\" name=\"boo\" id=\"boo\" /&gt;\n    &lt;input type=\"radio\" name=\"doo\" value=\"false\" /&gt;\n    &lt;input type=\"radio\" name=\"doo\" value=\"true\" /&gt;\n    &lt;br/&gt;\n    Type test in the textbox and check the checkbox to enable the select.\n    &lt;br/&gt;\n    By &lt;a href=\"http://www.balupton.com\" target=\"_blank\"&gt;Benjamin \"balupton\" Lupton&lt;/a&gt;, for &lt;a href=\"http://stackoverflow.com/q/3731586/130638\" target=\"_blank\"&gt;a StackOverflow Question&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/questions/882406/jquery-disable-button-not-submit-until-field-validates-validation-plugin\">http://stackoverflow.com/questions/882406/jquery-disable-button-not-submit-until-field-validates-validation-plugin</a> </p>\n\n<p><a href=\"http://stackoverflow.com/questions/879842/jquery-enable-disable-show-hide-button-w-select-options-get-remaining-option-va\">http://stackoverflow.com/questions/879842/jquery-enable-disable-show-hide-button-w-select-options-get-remaining-option-va</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/877328/jquery-disable-select-options-based-on-radio-selected-need-support-for-all-brows\">http://stackoverflow.com/questions/877328/jquery-disable-select-options-based-on-radio-selected-need-support-for-all-brows</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm searching for a jQuery plugin that does this.</p>\n\n<p>for example:</p>\n\n<pre><code>&lt;label&gt;&lt;input type=\"checkbox\" depends_on=\"foo=5\" name=\"boo\" ... /&gt; Check &lt;/label&gt;\n&lt;select name=\"foo\" ... &gt;\n  &lt;option value=\"5\" selected=\"selected\"&gt;5&lt;/option&gt;\n  &lt;option value=\"15\"&gt;15&lt;/option&gt;\n  &lt;option value=\"25\"&gt;25&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>so the checkbox would only be enabled if the \"5\" option is selected below.</p>\n\n<p>or</p>\n\n<pre><code>&lt;select name=\"foo\" depends_on=\"boo\" ... &gt;\n  &lt;option value=\"5\" selected=\"selected\"&gt;5&lt;/option&gt;\n  &lt;option value=\"15\"&gt;15&lt;/option&gt;\n  &lt;option value=\"25\"&gt;25&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;label&gt;&lt;input type=\"checkbox\" name=\"boo\" ... /&gt; Check &lt;/label&gt;\n</code></pre>\n\n<p>In this case the select should only enabled if \"boo\" is checked.</p>\n\n<p>I managed to come up with a code that does something like this:</p>\n\n<pre><code>$(\"*[depends_on]\").each(function(){\n\n  var source = $(this);\n  var dep = $(this).attr('depends_on');\n  var target = dep.split(\"=\");\n\n  $(\"*[name='\"+target[0]+\"']:not(:hidden)\").change(function(){\n    if($(this).attr('checked')) {\n     source.removeClass('disabled');\n     source.removeAttr('disabled');\n    }\n    else{\n     source.attr('disabled', 'disabled');\n     source.addClass('disabled');\n    }\n\n  }).change();\n\n});\n</code></pre>\n\n<p>seems to work ok for selects that depend on radios, but I want to implement this for any type of input or combination (or at least most of them), without having to write separate code for each type of input.</p>\n\n<p>anyway, is anyone aware of such a plugin? or maybe have suggestions to my code above? :)</p>\n",
            "last_activity_date": 1297060395,
            "question_id": 3731586,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "forms",
                "input"
            ],
            "title": "jQuery - disable input field based on another field selected value"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can try this regex :</p>\n\n<pre><code>([^/]*)\\.[^.]*$\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var url = \"http://example.com/index.htm\";\nvar filename = url.match(/([^\\/]+)(?=\\.\\w+$)/)[0];\n</code></pre>\n\n<p>Let's go through the regular expression:</p>\n\n<pre><code>[^\\/]+    # one or more character that isn't a slash\n(?=       # open a positive lookahead assertion\n  \\.      # a literal dot character\n  \\w+     # one or more word characters\n  $       # end of string boundary\n)         # end of the lookahead\n</code></pre>\n\n<p>This expression will collect all characters that aren't a slash that are immediately followed (thanks to the <a href=\"http://www.regular-expressions.info/lookaround.html\">lookahead</a>) by an extension and the end of the string -- or, in other words, everything after the last slash and until the extension.</p>\n\n<p>Alternately, you can do this without regular expressions altogether, by finding the position of the last <code>/</code> and the last <code>.</code> using <a href=\"http://www.w3schools.com/jsref/jsref_lastIndexOf.asp\"><code>lastIndexOf</code></a> and getting a <a href=\"http://www.w3schools.com/jsref/jsref_substring.asp\"><code>substring</code></a> between those points:</p>\n\n<pre><code>var url = \"http://example.com/index.htm\";\nvar filename = url.substring(url.lastIndexOf(\"/\") + 1, url.lastIndexOf(\".\"));\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 28
                },
                {
                    "body": "<p>tested and works, even for pages without file extension.</p>\n\n<pre><code>var re = /([\\w\\d_-]*)\\.?[^\\\\\\/]*$/i;\n\nvar url = \"http://stackoverflow.com/questions/3671522/regex-capture-filename-from-url-without-file-extention\";\nalert(url.match(re)[1]); // 'regex-capture-filename-from-url-without-file-extention'\n\nurl = 'http://gunblad3.blogspot.com/2008/05/uri-url-parsing.html';\nalert(url.match(re)[1]); // 'uri-url-parsing'\n</code></pre>\n\n<p><code>([\\w\\d_-]*)</code> get a string containing letters, digits, underscores or hyphens.<br>\n<code>\\.</code>? perhaps the string is followed by a period.<br>\n<code>[^\\\\\\/]*$</code> but certainly not followed by a slash or backslash till the very end.<br>\n<code>/i</code> oh yeh, ignore case.  </p>\n",
                    "is_accepted": false,
                    "score": 14
                }
            ],
            "body": "<p>So I am trying to create a Javascript Regex that captures the filename without the file extension.  I have read the other posts here and <em>'goto this page:</em> <a href=\"http://gunblad3.blogspot.com/2008/05/uri-url-parsing.html\">http://gunblad3.blogspot.com/2008/05/uri-url-parsing.html</a>' seems to be the default answer. This doesn't seem to do the job for me.  So here is how I'm trying to get the regex to work:</p>\n\n<ol>\n<li>Find the last forward slash '/' in the subject string.</li>\n<li>Capture everything between that slash and the next period.</li>\n</ol>\n\n<p>The closest I could get was : <strong>\\/([^\\/]<em>).\\w</em>$</strong>  Which on the string <strong>'http://example.com/index.htm'</strong> exec() would capture <strong>/index.htm</strong> and <strong>index</strong>.  </p>\n\n<p>I need this to only capture <em>index</em>.  Any and all help would be appreciated!</p>\n",
            "last_activity_date": 1283978725,
            "question_id": 3671522,
            "score": 6,
            "tags": [
                "javascript",
                "regex",
                "url"
            ],
            "title": "REGEX: Capture Filename from URL without file extention"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If you're controlling the iframe entirely client-side, and never need to make server-side requests with that iframe, it's proably easier to style a div to appear like an iframe (look into the <code>overflow</code> property), where you'll have far simpler and more direct control to the DOM contents of that div.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You could look into <a href=\"http://en.wikipedia.org/wiki/Data_URI\"><code>data:</code>URIs</a>.</p>\n\n<pre><code>&lt;iframe src=\"data:text/html, .... URLencoded HTML data ....\"&gt;\n</code></pre>\n\n<p>alternatively</p>\n\n<pre><code>&lt;iframe src=\"data:text/html;base64, .... base64 encoded HTML data ....\"&gt;\n</code></pre>\n\n<p>The scheme is supported by IE >= 8 <a href=\"http://msdn.microsoft.com/en-us/library/cc848897%28VS.85%29.aspx\">(MSDN source)</a>, Firefox, Safari 3+ and Opera.</p>\n\n<p>It has differing length limits. Opera is said to cut off at about 4 kilobytes; Internet Explorer at 32 kilobytes. Firefox has no explicit length limit.</p>\n\n<p>More on data URIs and tools for converting at <a href=\"https://developer.mozilla.org/en/data_URIs\">Mozilla Developer Central</a> </p>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>following code should do what you want.</p>\n\n<p>you can leave the src attribute empty.</p>\n\n<pre><code>var yourcontent=\"&lt;div&gt;your stuff&lt;/div&gt;\";\nwindow.frames['frame_name'].document.write=yourcontent;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>I try to add dynamically an iframe to a web page using JavaScript. I would like to know if that's possible to set the src attribute of my iframe without using another html file via an URL.\nI mean is there a way to \"fake\" the html for the src attribute file with a JS variable where we I can set my code (which is JS itself) ?\nI would use the DOM createElement to create the iframe in jQuery.</p>\n\n<p>Thanks !</p>\n",
            "last_activity_date": 1281560852,
            "question_id": 3462758,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "iframe"
            ],
            "title": "Is it possible to &quot;fake&quot; the src attribute of an iframe?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Simply position the Rapha\u00ebl canvas over the top of the image element using normal CSS techniques:</p>\n\n<pre><code>#wrapper {\n    position: relative;\n    padding: 0;\n    outline: 1px solid #999;\n}\n#wrapper img {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n#canvas {\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n</code></pre>\n\n<p>Then nest your elements like this:</p>\n\n<pre><code>&lt;div id=\"wrapper\"&gt;\n    &lt;img src=\"myimage.jpg\"&gt;\n    &lt;div id=\"canvas\"&gt;  \n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"http://www.boogdesign.com/examples/svg/image.html\" rel=\"nofollow\">Here's a full example</a>.</p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>z-index:2 or some high number for the raphael \"paper\" div (aka your raphael canvas... which you refer to by:</p>\n\n<p>var paper = Raphael('somediv', 100, 400)   </p>\n\n<p>so just go to your css and at #somediv make sure you put it's z-index lower and then put your text div's z-index higher...</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Can I put a Raphael.js canvas over an <code>IMG</code> element? What should I do make this layout work?</p>\n",
            "last_activity_date": 1392742730,
            "question_id": 3407333,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "css",
                "raphael"
            ],
            "title": "Drawing over an image using Raphael.js"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This is a stab in the dark since I don't fully understand your problem, but I think you might be having a problem with <code>file:</code> URLs, which are not treated as having <em>any</em> origin.  I'm not sure it's even <em>possible</em> to authorize CORS from a file URL.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>So you need to set an ajax prefilter in your model/collection in order to use CORS. Otherwise it doesn't send the cookie.</p>\n\n<pre><code>$.ajaxPrefilter( function( options, originalOptions, jqXHR ) {\n    options.xhrFields = {\n      withCredentials: true\n    };\n});\n</code></pre>\n\n<p>I put this in my Model/Collection initialize function.   </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>These are the conditions to be met to make CORS working with secured services:</p>\n\n<ul>\n<li>Service response should contain header <code>Access-Control-Allow-Credentials: true</code> (see <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Requests_with_credentials\" rel=\"nofollow\">Requests with credentials</a> and <a href=\"http://stackoverflow.com/a/19744754/267197\">Cannot use wildcard in Access-Control-Allow-Origin when credentials flag is true</a>).</li>\n<li>Service response header <code>Access-Control-Allow-Origin</code> should not be <code>*</code>. The idea is to return the value passed by client in header <code>Origin</code> (see examples in <a href=\"http://stackoverflow.com/a/11077890/267197\">this post</a>).</li>\n<li>According to specification, <code>OPTIONS</code> method should return HTTP code 200, thus it cannot be secured (see <a href=\"http://evolpin.wordpress.com/2012/10/12/the-cors/\" rel=\"nofollow\">The CORS</a>).</li>\n<li>For methods <code>PUT</code>/<code>POST</code> that need to pass certain request headers to service (like <code>Content-Type</code> or <code>Accept</code>), these headers need to be listed in <code>Access-Control-Allow-Headers</code> (see <a href=\"http://stackoverflow.com/a/21092411/267197\">jQuery AJAX fails to work when headers are specified</a>)</li>\n<li>JavaScript should set this <code>XMLHttpRequest</code> property: <code>xhr.withCredentials = true;</code> (as answered by <strong>Kirby</strong>)</li>\n</ul>\n\n<p>Altogether configuration for Apache:</p>\n\n<pre><code># Static content:\nSetEnvIf      Request_URI     \".*\"                            no-jk\n# RESTful service:\nSetEnvIf      Request_URI     \"^/backend/\"                    !no-jk\nSetEnvIf      Request_Method  \"OPTIONS\"                       no-jk\n# Fallback value:\nSetEnv        http_origin     \"*\"\nSetEnvIf      Origin          \"^https?://(localhost|.*\\.myconpany\\.org)(:[0-9]+)?$\" http_origin=$0\n\nHeader        set Access-Control-Allow-Credentials    \"true\"\nHeader        set Access-Control-Allow-Origin         \"%{http_origin}e\"\nHeader        set Access-Control-Allow-Methods        \"GET,POST,PUT,DELETE\"\nHeader        set Access-Control-Allow-Headers        \"Content-Type, Accept\"\n\nJkMount /* loadbalancer\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<h2>CORS with <code>file://</code></h2>\n\n<p>If you have problems by allowing origins from the <code>file://</code> protocol, according to <a href=\"http://tools.ietf.org/html/rfc6454\" rel=\"nofollow\">The Web Origin Concept</a> it should be done the same way as any other origins. <em>I could not find information about the browser support, but I think every browser which is supporting CORS does support this one either.</em></p>\n\n<p>The Web Origin Concept tells us the following about the file URI scheme:</p>\n\n<pre><code>   4.  If uri-scheme is \"file\", the implementation MAY return an\n       implementation-defined value.\n\n          NOTE: Historically, user agents have granted content from the\n          file scheme a tremendous amount of privilege.  However,\n          granting all local files such wide privileges can lead to\n          privilege escalation attacks.  Some user agents have had\n          success granting local files directory-based privileges, but\n          this approach has not been widely adopted.  Other user agents\n          use globally unique identifiers for each file URI, which is\n          the most secure option.\n</code></pre>\n\n<p>According to <a href=\"http://en.wikipedia.org/wiki/File_URI_scheme\" rel=\"nofollow\">wikipedia</a> the domain by the file URI scheme is localhost. It is omittable by the address bar, but I don't think it is omittable in the allow origin headers. So if your browser implementation allows origin with a file URI scheme, then you should add <code>file://localhost</code> to your allowed origins, and everything should work properly after that. </p>\n\n<p>This was how it should work, now meet reality:</p>\n\n<ul>\n<li>I tested with current firefox 29.0.1, and it did not work. However the <code>file://</code> protocol is transformed into <code>null</code> origin by this implementation. So by firefox the <code>null</code> works. I tried with a wider domain list, but I did not manage to allow multiple domains. It seems like firefox does not support a list with multiple domains currently.</li>\n<li>I tested with chrome 35.0.1916, it works the same way as firefox did.</li>\n<li>I tested with msie 11.0.9600. By request from the file protocol it always shows an <code>allow blocked content</code> button, even by not allowing the null origin. By other domains it works the same way as the previous browsers.</li>\n</ul>\n\n<h2>HTTP basic auth:</h2>\n\n<p>The credentials part I tried out with PHP and HTTP basic auth.</p>\n\n<p><strong><a href=\"http://test.loc\" rel=\"nofollow\">http://test.loc</a></strong><br>\n<em>Displays :-) when logged in and :-( when unauthorized.</em></p>\n\n<pre><code>&lt;?php\n\nfunction authorized()\n{\n    if (empty($_SERVER['PHP_AUTH_USER']) || empty($_SERVER['PHP_AUTH_PW']))\n        return false;\n    return ($_SERVER['PHP_AUTH_USER'] == 'username' &amp;&amp; $_SERVER['PHP_AUTH_PW'] == 'password');\n}\n\nfunction unauthorized()\n{\n    header('HTTP/1.1 401 Unauthorized');\n    header('WWW-Authenticate: Basic realm=\"Restricted Area\"');\n    echo '&lt;a href=\"http://test.loc\"&gt;:-(&lt;/a&gt;';\n}\n\nif (!isset($_GET['logout']) &amp;&amp; authorized()) {\n    echo '&lt;a href=\"http://test.loc?logout=1\"&gt;:-)&lt;/a&gt;';\n} else\n    unauthorized();\n</code></pre>\n\n<p>So this code changes the location by login and logout.</p>\n\n<h2>Cross domain CORS with HTTP basic auth</h2>\n\n<p><strong><a href=\"http://todo.loc\" rel=\"nofollow\">http://todo.loc</a></strong><br>\n<em>Gets the content of <a href=\"http://test.loc\" rel=\"nofollow\">http://test.loc</a> with <strong>cross domain</strong> XHR and displays it.</em> </p>\n\n<pre><code>cross domain ajax&lt;br /&gt;\n&lt;script&gt;\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', \"http://test.loc\", true);\n    xhr.withCredentials = true;\n    xhr.onreadystatechange = function (){\n        if (xhr.readyState==4) {\n            document.body.innerHTML += xhr.responseText;\n        }\n    };\n    xhr.send();\n&lt;/script&gt;\n</code></pre>\n\n<p>Requires headers by <a href=\"http://test.loc\" rel=\"nofollow\">http://test.loc</a>:</p>\n\n<pre><code>Access-Control-Allow-Origin: http://todo.loc\nAccess-Control-Allow-Credentials: true\n</code></pre>\n\n<h2>Cross scheme CORS with HTTP basic auth</h2>\n\n<p><strong>file:///path/x.html</strong><br>\n<em>Gets the content of <a href=\"http://test.loc\" rel=\"nofollow\">http://test.loc</a> with <strong>cross scheme</strong> XHR and displays it.</em> </p>\n\n<pre><code>cross scheme ajax&lt;br /&gt;\n&lt;script&gt;\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', \"http://test.loc\", true);\n    xhr.withCredentials = true;\n    xhr.onreadystatechange = function (){\n        if (xhr.readyState==4) {\n            document.body.innerHTML += xhr.responseText;\n        }\n    };\n    xhr.send();\n&lt;/script&gt;\n</code></pre>\n\n<p>Requires headers by <a href=\"http://test.loc\" rel=\"nofollow\">http://test.loc</a>:</p>\n\n<pre><code>Access-Control-Allow-Origin: null\nAccess-Control-Allow-Credentials: true\n</code></pre>\n\n<h2>Conclusion:</h2>\n\n<p>I tested cross-sheme CORS with credentials called from <code>file://</code> and it works pretty well in firefox, chrome and msie.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>this is driving me nutters.</p>\n\n<p>jQuery 1.4.2, windows XP sp3</p>\n\n<p>Here is my test.</p>\n\n<p>Load firefox 3.5+</p>\n\n<p><a href=\"http://plungjan.name/test/testcors.html\">http://plungjan.name/test/testcors.html</a></p>\n\n<p>works</p>\n\n<p>Save the file to harddisk and run from there</p>\n\n<p>From my office the external works and the internal does not</p>\n\n<p>What is also interesting is that I cannot run both in one go.</p>\n\n<p>Background:\nI do a <strong>GET</strong> to an internal web service that uses <a href=\"http://www.w3.org/TR/cors/\">CORS</a>. \nPlease do <strong>NOT</strong> post any answers about FF not handling cross domain request when it does since v3.5 as detailed <a href=\"https://developer.mozilla.org/en/http_access_control\">here</a> and <a href=\"http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/\">here</a></p>\n\n<p>It works in IE8 and FF3.6.6 from one server to the other and now almost from file system (file:///) to service.\n<strong>Only</strong> from file system and <strong>only</strong> when FF 3.6.6 needs to negotiate <strong>(the user is already logged in, authorised and sends the credentials!)</strong> do I not get the data after negotiation. jQuery xhr returns status 0 and no data/responseText or whatever\nSeems to me, jQuery reacts and saves the xhr from the 401 rather than from the 200 OK later</p>\n\n<p>Here is the result I get at the end of the communication when I alert the XHR object:</p>\n\n<pre><code>Status:success \nData:[] \nXHR: \nsome native functions,\nreadyState:4 \nstatus:0\nresponseXML:null \nresponseText: \nwithCredentials:true\n</code></pre>\n\n<p>if I make a call to the same server but without needing credentials, the data is returned just fine cross domain</p>\n\n<p>So the communication is as follows:</p>\n\n<pre><code>GET /restapplicationusingcors/authenticationneeded-internal/someid\nAccept: application/json\nAccept-Language: en\n.\n.\nOrigin: null\nCookie: LtpaToken=...\n</code></pre>\n\n<p>the return is </p>\n\n<pre><code>HTTP/1.1 401 Unauthorized\nServer: Apache\nPragma: No-cache\nCache-Control: no-cache\nExpires: Thu, 01 Jan 1970 01:00:00 CET\nWWW-Authenticate: Negotiate\nConnection: close\nTransfer-Encoding: chunked\nContent-Type: text/html\n</code></pre>\n\n<p>Then FF sends</p>\n\n<pre><code>GET /restapplicationusingcors/authenticationneeded-internal/someid HTTP/1.1\nHost: myhost.myintranet.bla\nUser-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.6) Gecko/20100625 Firefox/3.6.6\nAccept: application/json\nAccept-Language: en\nAccept-Encoding: gzip,deflate\nAccept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7\nKeep-Alive: 115\nConnection: keep-alive\nOrigin: null\nCookie: LtpaToken=....\nAuthorization: Negotiate ....\n</code></pre>\n\n<p>and is rewarded with the file I need, but cannot get at in FF:</p>\n\n<pre><code>HTTP/1.1 200 OK\nDate: Tue, 20 Jul 2010 12:08:39 GMT\nPragma: No-cache\nCache-Control: no-cache, max-age=600, s-maxage=3600\nExpires: Thu, 01 Jan 1970 01:00:00 CET\nX-Powered-By: ...\nContent-Disposition: inline;filename=nnnnnn.json\nContent-Language: en\nAccess-Control-Allow-Origin: ...\nKeep-Alive: timeout=6, max=70\nConnection: Keep-Alive\nTransfer-Encoding: chunked\nContent-Type: application/json;charset=UTF-8\n</code></pre>\n\n<p>THE DATA SENT FROM THE SERVER IS <strong>NOT</strong> IN THE XHR OBJECT </p>\n\n<p>Here is my code</p>\n\n<pre><code>function getJSON(url,func,lang) {\n  accept = 'application/json';\n  lang=lang?lang:\"*\";\n  // gruesome hack to handle that APPENDS the mime header to */* !!!\n  // NOW HANDLED by first setting Accept to \"\" !!! \n//  if ($.browser.msie &amp;&amp; url.indexOf('serveAsMime')==-1)  {\n//    url+= '?serveAsMime='+accept;\n//  }\n  if (currentRequest != null) currentRequest.abort();\n  var requestObjectJSON =   {\n    url    : url,\n//    dataType: \"json\",\n    method : 'get',\n    beforeSend: function(xhr){\n      xhr.setRequestHeader('Accept', \"\"); // IE hack\n      xhr.setRequestHeader('Accept', accept);\n      xhr.setRequestHeader('Accept-Language', lang);\n      if (url.indexOf('-internal') !=-1) {\n        try {\n          xhr.withCredentials = true;\n          alert('set credentials') \n        }\n        catch(e) {\n          alert('cannot set xhr with credentials')\n        }\n      }\n    },\n\n    success: function(data,status,xhr) {\n      var responseText = xhr.responseText;\n      var responseJSON = xhr.responseJSON;\n\n\n      var t = \"\";\n      try{\n        for (var o in xhr) t += '\\n'+o+':'+xhr[o];\n      }\n      catch(e) {\n        if (e.message.indexOf('.channel')==-1)alert(e.message);\n      }\n      alert('Status:'+status+'\\nData:['+data+']\\nXHR:'+t);\n      func(responseText);\n    },\n  }\n  currentRequest = $.ajax(requestObjectJSON);\n}\n</code></pre>\n",
            "last_activity_date": 1401220688,
            "question_id": 3290068,
            "score": 6,
            "tags": [
                "javascript",
                "json",
                "authentication",
                "jquery",
                "cors"
            ],
            "title": "Please help test a CORS issue in Firefox jQuery ajax when 401"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You need to actually add the marker to the map using the addOverlay method:</p>\n\n<pre><code>var point = new GLatLng(...);\nmap.addOverlay(new GMarker(point));\n</code></pre>\n\n<p>You can also add instances of the Marker class to your map:</p>\n\n<pre><code>map.addOverlay(marker);\n</code></pre>\n\n<p>See the Map Overlays docs:</p>\n\n<p><a href=\"http://code.google.com/apis/maps/documentation/javascript/v2/overlays.html\" rel=\"nofollow\">http://code.google.com/apis/maps/documentation/javascript/v2/overlays.html</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You may want to consider the following example:</p>\n\n<p>Using the <a href=\"http://code.google.com/apis/maps/documentation/javascript/v2/\" rel=\"nofollow\">V2 API</a>:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt; \n&lt;head&gt; \n  &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"/&gt; \n  &lt;title&gt;Google Maps API Geocoding Demo&lt;/title&gt; \n  &lt;script src=\"http://maps.google.com/maps?file=api&amp;amp;v=2&amp;amp;sensor=false\"\n          type=\"text/javascript\"&gt;&lt;/script&gt; \n&lt;/head&gt; \n&lt;body onunload=\"GUnload()\"&gt; \n\n  &lt;div id=\"map_canvas\" style=\"width: 400px; height: 300px\"&gt;&lt;/div&gt; \n\n  &lt;script type=\"text/javascript\"&gt; \n\n    // Prepare this list from ColdFusion\n    var locations = [\n       'New York, NY',\n       'Los Angeles, CA',\n       'Chicago, IL',\n       'Houston, TX',\n       'Phoenix, AZ'\n    ];\n\n    if (GBrowserIsCompatible()) {\n       var map = new GMap2(document.getElementById(\"map_canvas\"));\n\n       var geocoder = new GClientGeocoder();\n       var index = 0;\n\n       var geocoderFunction = function () { \n          geocoder.getLatLng(locations[index], function (point) {    \n             if (point) {\n                map.addOverlay(new GMarker(point));                \n             }\n\n             // Call the geocoder with a 100ms delay\n             index++;\n             if (locations.length &gt; index) {\n                setTimeout(geocoderFunction, 100);\n             }\n          });\n       }\n\n       map.setCenter(new GLatLng(38.00, -100.00), 3);\n\n       // Launch the geocoding process\n       geocoderFunction();\n    }\n  &lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Using the <a href=\"http://code.google.com/apis/maps/documentation/javascript/\" rel=\"nofollow\">V3 API</a>:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt; \n&lt;head&gt; \n  &lt;meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"/&gt; \n  &lt;title&gt;Google Maps API Geocoding Demo&lt;/title&gt; \n  &lt;script src=\"http://maps.google.com/maps/api/js?sensor=false\" \n          type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;/head&gt; \n&lt;body&gt; \n\n  &lt;div id=\"map_canvas\" style=\"width: 400px; height: 300px\"&gt;&lt;/div&gt; \n\n  &lt;script type=\"text/javascript\"&gt; \n\n    // Prepare this list from ColdFusion\n    var locations = [\n       'New York, NY',\n       'Los Angeles, CA',\n       'Chicago, IL',\n       'Houston, TX',\n       'Phoenix, AZ'\n    ];\n\n    var mapOpt = { \n       mapTypeId: google.maps.MapTypeId.TERRAIN,\n       center: new google.maps.LatLng(38.00, -100.00),\n       zoom: 3\n    };\n\n    var map = new google.maps.Map(document.getElementById(\"map_canvas\"), mapOpt);\n\n    var geocoder = new google.maps.Geocoder();\n    var index = 0;\n\n    var geocoderFunction = function () { \n       geocoder.geocode({ 'address': locations[index] }, function (results, status) {\n          if (status == google.maps.GeocoderStatus.OK) {\n             new google.maps.Marker({\n                map: map, \n                position: results[0].geometry.location\n             });             \n          }\n\n          // Call the geocoder with a 100ms delay\n          index++;\n          if (locations.length &gt; index) {\n             setTimeout(geocoderFunction, 100);\n          }\n       });\n    }\n\n    // Launch the geocoding process\n    geocoderFunction();\n  &lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>All you need to do is to render the JavaScript array <code>locations</code> from ColdFusion, instead of using the hardcoded one in the example.</p>\n\n<p>Screenshot from the above example:</p>\n\n<p><img src=\"http://i.imgur.com/LEGKR7M.png\" alt=\"Google Maps API Geocoding Demo\"></p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I'm trying to make a small application that takes a city &amp; state and geocodes that address to a lat/long location. Right now I am utilizing Google Map's API, ColdFusion, and SQL Server. Basically the city and state fields are in a database table and I want to take those locations and get marker put on a Google Map showing where they are. </p>\n\n<p>This is my code to do the geocoding, and viewing the source of the page shows that it is correctly looping through my query and placing a location (\"Omaha, NE\") in the address field, but no marker, or map for that matter, is showing up on the page:</p>\n\n<pre><code>function codeAddress() {\n&lt;cfloop query=\"GetLocations\"&gt;\n    var address = document.getElementById(&lt;cfoutput&gt;#Trim(hometown)#,#Trim(state)#&lt;/cfoutput&gt;).value;\n      if (geocoder) {\n         geocoder.geocode( {&lt;cfoutput&gt;#Trim(hometown)#,#Trim(state)#&lt;/cfoutput&gt;: address}, function(results, status) {\n         if (status == google.maps.GeocoderStatus.OK) {\n             var marker = new google.maps.Marker({\n             map: map, \n             position: results[0].geometry.location,\n             title: &lt;cfoutput&gt;#Trim(hometown)#,#Trim(state)#&lt;/cfoutput&gt;\n             });\n         } else {\n            alert(\"Geocode was not successful for the following reason: \" + status);\n            }\n         });\n      }     \n&lt;/cfloop&gt; }\n</code></pre>\n\n<p>And here is the code to initialize the map:</p>\n\n<pre><code>var geocoder;\nvar map;\n\nfunction initialize() {\n    geocoder = new google.maps.Geocoder();\n    var latlng = new google.maps.LatLng(42.4167,-90.4290);\n    var myOptions = {\n      zoom: 5,\n      center: latlng,\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    }\n    var marker = new google.maps.Marker({\n          position: latlng,\n          map: map,\n          title: \"Test\"\n      });\n    map = new google.maps.Map(document.getElementById(\"map_canvas\"), myOptions);\n}\n</code></pre>\n\n<p>I do have a map working that uses lat/long that was hard coded into the database table, but I want to be able to just use the city/state and convert that to a lat/long. Any suggestions or direction? Storing the lat/long in the database is also possible, but I don't know how to do that within SQL.</p>\n",
            "last_activity_date": 1406169451,
            "question_id": 2899506,
            "score": 6,
            "tags": [
                "javascript",
                "sql-server",
                "google-maps",
                "coldfusion",
                "geocoding"
            ],
            "title": "Loading city/state from SQL Server to Google Maps?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>When does function inner get created? during execution time or parsing time of outer anonymous function?</p>\n</blockquote>\n\n<p>One is created each time the outer function is executed.</p>\n\n<blockquote>\n  <p>What is in the scope chain of function inner?</p>\n</blockquote>\n\n<p>When you execute it, that execution gets a variable object (technically the spec calls this the \"binding object of the variable environment\"); that's backed by the variable object created for the outer function call that created <code>inner</code>; that's backed by the global variable object. So:</p>\n\n<pre>+------------------------------+\n| global variable obj          |\n+------------------------------+\n    ^\n    |\n   +-----------------------------+\n   | variable obj for outer call |\n   +-----------------------------+\n       ^\n       |\n      +-----------------------------+\n      | variable obj for inner call |\n      +-----------------------------+\n</pre>\n\n<blockquote>\n  <p>What is in the execution context of function inner?</p>\n</blockquote>\n\n<p>Every function call gets its own execution context. I'm not quite sure I understand what's being asked here.</p>\n\n<p>You can read up on all of this stuff (if you're willing to wade through the treacle of turgid prose) in Section 10 of <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\" rel=\"nofollow\">the spec</a>, and in particular <a href=\"http://es5.github.com/#x10.4.3\" rel=\"nofollow\">section 10.4.3</a>: <em>\"Entering Function Code\"</em>.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>The <code>inner</code> function gets created just before the anonymous function is executed, by the <a href=\"http://bclary.com/2004/11/07/#a-10.1.3\">Variable Instantiation</a> process.</p>\n\n<p>The <a href=\"http://bclary.com/2004/11/07/#a-13.2\"><code>[[Scope]]</code></a> of <code>inner</code> when it's executed contains:</p>\n\n<ol>\n<li>The empty Variable Object of <code>inner</code> (it's empty because there are no variable/function declarations inside it)</li>\n<li>The Variable Object of the anonymous function, which contains <code>x</code>, <code>y</code> and <code>inner</code>.</li>\n<li>The Global Object, that will contain <code>a</code> and other properties...</li>\n</ol>\n\n<pre>\n    Global (3)          Anonymous VO (2)       inner VO (1)\n   ________              ________              ________\n  | a = 1  | &lt;--------- | x = 2  | &lt; -------- |        |\n  | ...    |            | y = 3  |             \u00af\u00af\u00af\u00af\u00af\u00af\u00af\u00af \n   \u00af\u00af\u00af\u00af\u00af\u00af\u00af\u00af             | inner  |\n                         \u00af\u00af\u00af\u00af\u00af\u00af\u00af\u00af \n</pre>\n\n<p><strong>Edit</strong>: To clarify your second question:</p>\n\n<blockquote>\n  <p>What is the difference between the execution context and scope chain of function inner?</p>\n</blockquote>\n\n<p>Are two different concepts, an execution context is created just before a piece of code (which <a href=\"http://bclary.com/2004/11/07/#a-10.1.2\">can be</a> either global code, function code or eval code) is executed.</p>\n\n<p>I think this might be easier to explain with your code:</p>\n\n<pre><code>var a = 1;\n(function(x) {        // Step 1\n   function inner() {\n      alert(a);\n      alert(x);\n      alert(y); \n   }\n   var y = 3;\n   inner();           // Step 3\n})(2);                // Step 2\n</code></pre>\n\n<p>In the <strong>Step 1</strong>, the anonymous function is <a href=\"http://bclary.com/2004/11/07/#a-13.2\"><em>created</em></a>, the current scope (only containing the global object) is stored in this moment on the function <code>[[Scope]]</code> property.</p>\n\n<p>In the <strong>Step 2</strong>, this anonymous function is executed, a new execution context is created (a <a href=\"http://bclary.com/2004/11/07/#a-10.2.3\">function code execution context</a>), at this moment a new lexical environment is created (the Variable Object of this function is created), all function argument identifiers (in this case only <code>x</code>), identifiers of function declarations (<code>inner</code>) and identifiers of variable declarations  (<code>y</code>) are bound as non-deletable properties of this new variable object (which is the new lexical scope).</p>\n\n<p>In the <strong>Step 3</strong> the <code>inner</code> function is executed, this creates a new execution context, another Variable Object is injected into the scope chain, but in this case since nothing is declared inside <code>inner</code> and it doesn't have any formal parameters, it will be just an empty object.</p>\n\n<p>See also <a href=\"http://stackoverflow.com/questions/2742819/if-the-with-statement-in-javascript-creates-a-new-scope-why-does-the-following/2742849#2742849\">this</a> answer, the first part I talk about the <code>with</code> statement but in the second part it's about functions.</p>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>In this example</p>\n\n<pre><code>var a = 1;\n( function(x) {   \n   function inner() {\n      alert(a);\n      alert(x);\n      alert(y); \n   }\n   var y = 3;\n   inner();\n})(2);\n</code></pre>\n\n<p>When does <code>function inner</code> get created? during execution time or parsing time of outer anonymous function? </p>\n\n<p>What is in the scope chain of <code>function inner</code>?</p>\n\n<p>What is the difference between the execution context and scope chain of <code>function inner</code>?</p>\n\n<p>Thanks for enlighting me in advance!</p>\n",
            "last_activity_date": 1324195927,
            "question_id": 2858340,
            "score": 6,
            "tags": [
                "javascript",
                "scope"
            ],
            "title": "JavaScript inner function scope chain?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The best practice is to allow only certain things you know aren't dangerous, and remove/escape all the rest. See the paper <a href=\"http://owaspantisamy.googlecode.com/files/Arshan%20Dabirsiaghi%20-%20Towards%20Malicious%20Code%20Detection%20and%20Removal.PDF\" rel=\"nofollow\">Automated Malicious Code Detection and Removal on the Web (OWASP AntiSamy)</a> for a discussion on this (the library is for Java, but the principles apply for any language).</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>If you are familiar with ASP .NET, just perform a Server.htmlencode() to convert special characters like &lt; > to \"&amp; g t;\"   \"&amp;l t ;\"</p>\n\n<p>In php, you can use htmlspecialchars() functions.  </p>\n\n<p>Once the special characters are encoded, cross-site-scripting can be prevented.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you're really bent on allowing this, you should use a white list approach.</p>\n\n<p>The best approach is probably to disallow HTML and use a simplified markup format instead; you can pre-render to HTML and store that in the database if performance is a concern. Avoiding these sorts of problems is one of the big reasons for using <a href=\"http://github.github.com/github-flavored-markdown/\" rel=\"nofollow\">Markdown</a>, <a href=\"http://textism.com/tools/textile/\" rel=\"nofollow\">Textile</a>, <a href=\"http://docutils.sourceforge.net/rst.html\" rel=\"nofollow\">reStructuredText</a>, etc.</p>\n\n<p><strong>NOTE</strong>: I linked to GitHub-Flavored Markdown (GFM), not Standard Markdown (SM). GFM addresses some common problems that end-users have with SM. </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I looked into the same question recently with Perl as the server-side language. </p>\n\n<p>While doing so I ran into <a href=\"http://htmlpurifier.org/\" rel=\"nofollow\">HTML Purifier</a> which may be what you want. But obviously as it's in PHP and not Perl, I didn't actually test it out.</p>\n\n<p>Also, in my research I came to the conclusion that this is a very tricky business and consider if possible using a simplified markup language like Markdown, as suggested by Hank Gay.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm coding a WYSIWYG editor width designMode=\"on\" on a iframe. The editor works fine and i store the code as is in the database. </p>\n\n<p>Before outputing the html i need to \"clean\" with php on the server-side to avoid cross-site-scripting and other scary things. Is there some sort of best practice on how to do this? What tags can be dangerous? </p>\n\n<p>UPDATE: Typo fixed, it's What You See Is What You Get. Nothing new :)</p>\n",
            "last_activity_date": 1273074313,
            "question_id": 2774074,
            "score": 6,
            "tags": [
                "php",
                "javascript",
                "html",
                "wysiwyg",
                "xss"
            ],
            "title": "Best Practice: User generated HTML cleaning"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<pre><code>var matches = [];\nvar searchEles = document.getElementById(\"myDiv\").children;\nfor(var i = 0; i &lt; searchEles.length; i++) {\n    if(searchEles[i].tagName == 'SELECT' || searchEles.tagName == 'INPUT') {\n        if(searchEles[i].id.indexOf('q1_') == 0) {\n            matches.push(searchEles[i]);\n        }\n    }\n}\n</code></pre>\n\n<p>Once again, I <em>strongly suggest</em> jQuery for such tasks:</p>\n\n<pre><code>$(\"#myDiv :input\").hide(); // :input matches all input elements, including selects\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<pre><code>// Option 1: Likely fastest but not supported by early Firefoxes\nvar elements = document.getElementById('parentContainer').children;\n\n// Option 2: Likely slowest\nvar elements = document.getElementById('parentContainer').getElementsByTagName('*');\n\n// Option 3: Requires change to code (wrap a form instead of a div around it)\n// Since what you're doing looks like it should be in a form...\nvar elements = document.forms['parentContainer'].elements;\n\nvar matches = [];\n\nfor (var i = 0; i &lt; elements.length; i++)\n    if (elements[i].value.indexOf('q17_') == 0)\n        matches.push(elements[i]);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Presuming every new branch in your tree is a div, I have implemented this solution with 2 functions:</p>\n\n<pre><code>function fillArray(vector1,vector2){\n    for (var i = 0; i &lt; vector1.length; i++){\n        if (vector1[i].id.indexOf('q17_') == 0)\n            vector2.push(vector1[i]);\n        if(vector1[i].tagName == 'DIV')\n            fillArray (document.getElementById(vector1[i].id).children,vector2);\n    }\n}\n\nfunction selectAllElementsInsideDiv(divId){ \n    var matches = new Array();\n    var searchEles = document.getElementById(divId).children;\n    fillArray(searchEles,matches);\n    return matches;\n}\n</code></pre>\n\n<p>Now presuming your div's id is 'myDiv', all you have to do is create an array element and set its value to the function's return:</p>\n\n<pre><code>var ElementsInsideMyDiv = new Array();\nElementsInsideMyDiv =  selectAllElementsInsideDiv('myDiv')\n</code></pre>\n\n<p>I have tested it and it worked for me. I hope it helps you.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>var $list = $('#divname input[id^=\"q17_\"]');   // get all input controls with id q17_\n\n// once you have $list you can do whatever you want\n\nvar ControlCnt = $list.length;\n// Now loop through list of controls\n$list.each( function() {\n\n    var id = $(this).prop(\"id\");      // get id\n    var cbx = '';\n    if ($(this).is(':checkbox') || $(this).is(':radio')) {\n        // Need to see if this control is checked\n    }\n    else { \n        // Nope, not a checked control - so do something else\n    }\n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>i have tested a sample and i would like to share this sample and i am sure it's quite help full. \nI have done all thing in body, first creating an structure there on click of button you will call a \nfunction selectallelement(); on mouse click which will pass the id of that div about which you want to know the childrens. \nI have given alerts here on different level so u can test where r u now in the coding .</p>\n\n<pre><code>    &lt;body&gt;\n    &lt;h1&gt;javascript to count the number of children of given child&lt;/h1&gt;\n\n    &lt;div id=\"count\"&gt;\n    &lt;span&gt;a&lt;/span&gt;\n    &lt;span&gt;s&lt;/span&gt;\n    &lt;span&gt;d&lt;/span&gt;\n    &lt;span&gt;ff&lt;/span&gt;\n    &lt;div&gt;fsds&lt;/div&gt;\n    &lt;p&gt;fffff&lt;/p&gt;\n    &lt;/div&gt;\n   &lt;button type=\"button\" onclick=\"selectallelement('count')\"&gt;click&lt;/button&gt;\n   &lt;p&gt;total element no.&lt;/p&gt;\n    &lt;p id=\"sho\"&gt;here&lt;/p&gt;\n  &lt;script&gt;\n\n  function selectallelement(divid)\n  {\n alert(divid);\n var ele = document.getElementById(divid).children;\n var match = new Array();\n  var i = fillArray(ele,match);\n  alert(i);\n   document.getElementById('sho').innerHTML = i;\n  }\n function fillArray(e1,a1)\n  {\n alert(\"we are here\");\n   for(var i =0;i&lt;e1.length;i++)\n{\n  if(e1[i].id.indexOf('count') == 0)\n    a1.push(e1[i]);\n}\nreturn i;\n   }\n   &lt;/script&gt;\n\n &lt;/body&gt;\n\n  USE THIS I AM SURE U WILL GET YOUR ANSWER ...THANKS \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>With modern browsers, this is easy without jQuery:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>document.getElementById('yourParentDiv').querySelectorAll('[id^=\"q17_\"]');\n</code></pre>\n\n<p>The querySelectorAll takes a selector (as per CSS selectors) and uses it to search children of the 'yourParentDiv' element recursively. The selector uses <code>^=</code> which means \"starts with\".</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a <i>div</i> element in HTML document.</p>\n\n<p>I would like to extract all elements inside this <i>div</i> which id starts with a known text (e.g. \"q17_\").</p>\n\n<p>How can I achieve this <b>using JavaScript</b> ?</p>\n\n<p>(If needed, for simplicity, I can assume that all elements inside the <i>div</i> are of type <i>input</i> or <i>select</i>.)</p>\n\n<p>Thanks !</p>\n",
            "last_activity_date": 1411466304,
            "question_id": 2617629,
            "score": 6,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "How to get all elements inside &quot;div&quot; that starts with a known text"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I had a quick look at the  <a href=\"http://code.google.com/apis/maps/documentation/reference.html#GDirections\" rel=\"nofollow\">Google Maps API</a> and it looks like you can create a GDirections object to find a route between points and then you can get a PolyLine of the route or things like duration and distance.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>directions.load(\"from:\" + lat1+ \", \" + lng1+ \" to:\" + lat2 + \",\" + lng2, { getPolyline: true, getSteps: true });\n\nvar poly;\n\nGEvent.addListener(directions, \"load\", function() {\n      if (poly) map.removeOverlay(poly);\n      poly = directions.getPolyline();\n      map.addOverlay(poly);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a web site that I am trying to get completed and I need to have the user click points on a map and then work out the route on the roads between the two points.  So the user clicks the first point on 1st street, and then clicks another point on 4th street, and the map will find the best way to get there and plot the route on the map.  I am assuming this can be done using directions and parse it up, but I have been searching for an hour now and can't find what I am looking for (maybe bad search terms).  I need to be able to plot the map manually (?) so I can calculate the distance, etc... of the route as the user continues to click.</p>\n\n<p>The site that is in beta is <a href=\"http://www.RunMyRoute.com/UserRoutes/Create\" rel=\"nofollow\">http://www.RunMyRoute.com/UserRoutes/Create</a> and you can see I am trying to create running routes.  I want the user to have the option for the route to follow the roads versus just a straight line between two points on the map.  </p>\n\n<p>Any help on this would be great!</p>\n",
            "last_activity_date": 1386398210,
            "question_id": 2595829,
            "score": 6,
            "tags": [
                "javascript",
                "google-maps"
            ],
            "title": "Google Maps API - Get points along route between lat/long"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>If you are using Apache you can set allow/deny on locations.</p>\n\n<p><a href=\"http://www.apachesecurity.net/\" rel=\"nofollow\">http://www.apachesecurity.net/</a></p>\n\n<p>or here is a link to the apache docs on the Deny directive</p>\n\n<p><a href=\"http://httpd.apache.org/docs/2.0/mod/mod_access.html#deny\" rel=\"nofollow\">http://httpd.apache.org/docs/2.0/mod/mod_access.html#deny</a></p>\n\n<p>EDITS (responding to the new info).</p>\n\n<p>The Deny directive also works with environment variables. You can restrict access based on browser string (not really secure, but discourages casual browsing) which would still allow XHR calls.  </p>\n\n<p>I would suggest the best way to accomplish this is to have a token of some kind that validates the request is a 'good' request.  You can do that with a cookie, a session store of some kind, or a parameter (or some combination).  </p>\n\n<p>What I would suggest for something like this is to generate a unique url for the service that expires after a short period of time.  You could do something like this pretty easily with Memcache.  This strategy could also be used to obfuscate the service url (which would not provide any actual security, but would raise the bar for someone wanting to make direct calls).  </p>\n\n<p>Lastly, you could also use public key crypto to do this, but that would be <em>very</em> heavy.  You would need to generate a new pub/priv key pair for each request and return the pubkey to the js client (here is a link to an implementation in javascript) <a href=\"http://www.cs.pitt.edu/~kirk/cs1501/notes/rsademo/\" rel=\"nofollow\">http://www.cs.pitt.edu/~kirk/cs1501/notes/rsademo/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Accept only POST requests to the JSON-yielding URL. That won't prevent determined people from getting to it, but it will prevent casual browsing.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You'll probably have to have some kind of cookie-based authentication.  In addition, Ignacio has a good point about using POST.  This can help prevent <a href=\"http://haacked.com/archive/2009/06/25/json-hijacking.aspx\" rel=\"nofollow\">JSON hijacking</a> if you have untrusted scripts running on your domain.  However, I don't think using POST is strictly necessary unless the outermost JSON type is an array.  In your example it is an object.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There are a few good ways to authenticate clients. </p>\n\n<ul>\n<li>By IP address.  In Apache, use the Allow / Deny directives.</li>\n<li>By HTTP auth: basic or digest.  This is nice and standardized, and uses usernames/passwords to authenticate.</li>\n<li>By cookie.  You'll have to come up with the cookie.</li>\n<li>By a custom HTTP header that you invent.</li>\n</ul>\n\n<p>Edit:</p>\n\n<p>I didn't catch at first that your web service is being called by client-side code.  It is literally NOT POSSIBLE to prevent people from calling your web service directly, if you let client-side Javascript do it.  Someone could just read the source code.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Here's yet another method using mod_security </p>\n\n<p><a href=\"http://www.modsecurity.org/documentation/Ajax_Fingerprinting_and_Filtering_with_ModSecurity_2.0.pdf\" rel=\"nofollow\">http://www.modsecurity.org/documentation/Ajax_Fingerprinting_and_Filtering_with_ModSecurity_2.0.pdf</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Some more specific answers here, but I'd like to make the following general point:</p>\n\n<p>Anything done over AJAX is being loaded by the user's browser. You could make a hacker's life hard if you wanted to, but, ultimately, <strong>there is no way of stopping me from getting data that you already freely make available to me</strong>. Any service that is publicly available is publicly available, plain and simple.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can add a random number as a flag to determine whether the request are coming from the page just sent:</p>\n\n<p>1) When generates <code>index.html</code>, add a random number to the JSON request URL:</p>\n\n<p>Old: <code>http://example.com/json/?zipcode=12345</code></p>\n\n<p>New: <code>http://example.com/json/?zipcode=12345&amp;f=234234234234234234</code></p>\n\n<p>Add this number to the <em>Session Context</em> as well.</p>\n\n<p>2) The client browser renders the <code>index.html</code> and request JSON data by the new URL. </p>\n\n<p>3) Your server gets the json request and checks the flag number with <em>Session Context</em>. If matched, response data. Otherwise, return an error message.</p>\n\n<p>4) Clear <em>Session Context</em> by the end of response, or timeout triggered.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a JSON web service to return home markers to be displayed on my Google Map.</p>\n\n<p>Essentially, <code>http://example.com</code> calls the web service to find out the location of all map markers to display like so:</p>\n\n<pre><code>http://example.com/json/?zipcode=12345\n</code></pre>\n\n<p>And it returns a JSON string such as:</p>\n\n<pre><code>{\"address\": \"321 Main St, Mountain View, CA, USA\", ...}\n</code></pre>\n\n<p>So on my <code>index.html</code> page, I take that JSON string and place the map markers.</p>\n\n<p>However, what I don't want to have happen is people calling out to my JSON web service <strong>directly</strong>.</p>\n\n<p>I only want <code>http://example.com/index.html</code> to be able to call my <code>http://example.com/json/</code> web service ... and not some random dude calling the <code>/json/</code> directly.</p>\n\n<p><strong>Quesiton</strong>: how do I prevent direct calling/access to my <code>http://example.com/json/</code> web service?</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>To give more clarity, <code>http://example.com/index.html</code> call <code>http://example.com/json/?zipcode=12345</code> ... and the JSON service<br />\n- returns semi-sensitive data,<br />\n- returns a JSON array,<br />\n- responds to GET requests,<br />\n- the browser making the request has JavaScript enabled<br /></p>\n\n<p>Again, what I don't want to have happen is people simply look at my <code>index.html</code> source code and then call the JSON service directly.</p>\n",
            "last_activity_date": 1312360325,
            "question_id": 2576734,
            "score": 6,
            "tags": [
                "javascript",
                "web-services",
                "security",
                "json"
            ],
            "title": "How to prevent direct access to my JSON service?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>well, I finally make it works</p>\n\n<p>my javascript sending file and params look like this</p>\n\n<pre><code> send : function() {\n     try {\n         var xhr = new XMLHttpRequest;\n         //var url = this.form.action;\n         var url = '/photos';\n\n         var boundary    = this.generateBoundary();\n         var contentType = \"multipart/form-data; boundary=\" + boundary;\n\n         this.filesToUpload.forEach(function(file, index, all) {\n\n             xhr.open(\"POST\", url, true);\n             xhr.setRequestHeader(\"Content-Type\", contentType);\n\n             for (var header in this.headers) {\n                 xhr.setRequestHeader(header, headers[header]);\n             }\n\n\n             var CRLF  = \"\\r\\n\";\n             var request = \"--\" + boundary  + CRLF;\n\n             request += 'Content-Disposition: form-data; ';\n             request += 'name=\"' + 'photo[name]' + '\"' + CRLF + CRLF;\n             request += file.name + CRLF;\n\n             request += \"--\" + boundary + CRLF;\n\n             request += 'Content-Disposition: form-data; ';\n             request += 'name=\"' + 'photo[photo]' + '\"; ';\n             request += 'filename=\"'+ file.fileName + '\"' + CRLF;\n\n             request += \"Content-Type: application/octet-stream\" + CRLF + CRLF;\n             request += file.value + CRLF;\n             request+= \"--\" + boundary + \"--\" + CRLF;\n\n             xhr.sendAsBinary(request);\n         });\n         // finally send the request as binary data\n         //xhr.sendAsBinary(this.buildMessage(this.filesToUpload, boundary));\n     } catch(e) {\n         alert('send Error: ' + e);\n     }\n }\n</code></pre>\n\n<p>and the file is handle by paperclip as a normal <code>input file</code></p>\n\n<p>Cheers</p>\n\n<p>Denis</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I use paperclip to add a file to my model.</p>\n\n<p>I want to use the new feature of firefox 3.6, <code>xhr.sendAsBinary</code>, to send a file with an ajax request.</p>\n\n<p>Here is how I build my request :</p>\n\n<pre><code>var xhr = new XMLHttpRequest();\n\n\nxhr.open(\"POST\", \"/photos?authenticity_token=\" + token \n                        + \"&amp;photo[name]=\" + img.name\n                        + \"&amp;photo[size]=\" + img.size);\n\nxhr.overrideMimeType('text/plain; charset=x-user-defined-binary');\nxhr.sendAsBinary(bin);\n</code></pre>\n\n<p><code>name</code> and <code>size</code> are saved in my model without problem but the file itself is not catched by paperclip.</p>\n\n<p>my model</p>\n\n<pre><code>class Photo &lt; ActiveRecord::Base\n  has_attached_file :photo, :styles =&gt; { :medium =&gt; \"300x300&gt;\", :thumb =&gt; \"100x100&gt;\" }\nend\n</code></pre>\n\n<p>the migration</p>\n\n<pre><code>def self.up\n  add_column :photos, :photo_file_name,     :string\n  add_column :photos, :photo_content_type,  :string\n  add_column :photos, :photo_file_size,     :integer\n  add_column :photos, :photo_updated_at,    :datetime\nend\n</code></pre>\n\n<p>and my controller</p>\n\n<pre><code>  # POST /photos\n  # POST /photos.xml\n  def create\n    @photo = Photo.new(params[:photo])\n\n    respond_to do |format|\n      if @photo.save\n        format.html { redirect_to(@photo, :notice =&gt; 'Photo was successfully created.') }\n        format.xml  { render :xml =&gt; @photo, :status =&gt; :created, :location =&gt; @photo }\n      else\n        format.html { render :action =&gt; \"new\" }\n        format.xml  { render :xml =&gt; @photo.errors, :status =&gt; :unprocessable_entity }\n      end\n    end\n  end\n</code></pre>\n\n<p>Any idea how to solve this issue?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1268555777,
            "question_id": 2306910,
            "score": 6,
            "tags": [
                "javascript",
                "ruby-on-rails",
                "ajax",
                "firefox",
                "paperclip"
            ],
            "title": "Paperclip and xhr.sendAsBinary"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>It'd be waaay easier if somehow el1-el4 were combined into a single object, like</p>\n\n<pre><code>var data = []\ndata[0] = {name:'ronaldo', team: 'europe/spain/realmadrid'}\ndata[1] = {name:'messi', team: 'europe/spain/barcelona'}\ndata[2] = {name:'gerald', team: 'europe/england/liverpool'}\ndata[3] = {name:'unknown english', team: 'europe/england'}\n</code></pre>\n\n<p>That way you can at least loop through them quickly when processing.</p>\n\n<p>It'd also be useful to know why you need to have this stored as a JSON Tree. I mean, not all the nodes are the same kind of thing, right? The first level is continent, then country, then team name, and the leaves are individual soccer players. That's a fairly confusing data structure and I'm not sure how it would be useful. Either way, it may be more useful to translate it into a fielded structure first and then generate the tree.</p>\n\n<p><strong>Edit:</strong>\nOkay, so I thought about it a bit more and I think maybe something like this may do it.</p>\n\n<pre><code>var data = [];\ndata[0] = {name:'ronaldo', team: 'europe/spain/realmadrid'};\ndata[1] = {name:'messi', team: 'europe/spain/barcelona'};\ndata[2] = {name:'gerald', team: 'europe/england/liverpool'};\ndata[3] = {name:'unknown english', team: 'europe/england'};\n\nvar tree = {};\nfunction fillTree(name,steps) {\n   current = null;\n   for (var y = 0; y &lt; steps.length; y++) {\n      if (y==0) {\n         if (!tree.children||typeof tree.children == 'undefined'){\n            tree = { text: steps[y], leaf: false, children: [] };\n         }\n         current = tree.children;\n      } else {\n         current.push({ text: steps[y], leaf: false, children: [] })\n         current = current[current.length - 1].children;\n      }\n   }\n   current.push({ text: name, leaf: true })\n}\n\nfor (x=0; x &lt; data.length; x++) {\n  steps =data[x].team.split('/');\n  fillTree(data[x].name,steps)\n}\n</code></pre>\n\n<p>This creates a JavaScript object. I leave it to you to convert this to JSON.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Yeah, I see that the old script would have always put a record in at the second level even if it already existed. This is the new improved FillTree function:</p>\n\n<pre><code>var tree = {};\nfunction fillTree(name,steps) {\n   var current = null,\n   existing = null,\n   i = 0;\n   for (var y = 0; y &lt; steps.length; y++) {\n      if (y==0) {\n         if (!tree.children||typeof tree.children == 'undefined'){\n            tree = { text: steps[y], leaf: false, children: [] };\n         }\n         current = tree.children;\n      } else {\n         existing = null;\n         for (i=0; i &lt; current.length; i++) {\n            if (current[i].text === steps[y]) {\n               existing = current[i];\n               break;\n            }\n         }\n         if (existing) {\n            current = existing.children;\n         } else {\n            current.push({ text: steps[y], leaf: false, children: [] });\n            current = current[current.length - 1].children;\n         }\n      }\n   }\n   current.push({ text: name, leaf: true })\n}\n</code></pre>\n\n<p>The easiest way to convert this object into JSON, apparently, is to use <code>JSON.stringify(tree)</code> although apparently this is not uniformly supported (<a href=\"http://www.json.org/js.html\">see the JavaScript JSON Page</a>).</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>in case you agree to have children as object/hash instead of array, here is my solution based on Jordan's <a href=\"http://stackoverflow.com/a/2299268/214420\">http://stackoverflow.com/a/2299268/214420</a>\n</p>\n\n<pre><code>var el1 = {name:'ronaldo', team: 'europe/spain/realmadrid'}\nvar el2 = {name:'messi', team: 'europe/spain/barcelona'}\nvar el3 = {name:'gerald', team: 'europe/england/liverpool'}\nvar el4 = {name:'unknown english', team: 'europe/england'}\n\ndata = [el1,el2,el3,el4]\ntree = {};\nfor(var i =0; i &lt; data.length;i++){\n    var steps = data[i].team.split('/'); \n\n    steps.push(data[i].name)\n    var current = tree;\n\n    for(var j = 0 ; j &lt; steps.length;j++){\n        var step = steps[j]\n        current.leaf = false;\n        current.children = current.children || {};\n        current = current.children\n        current[step] = current[step] || {text:step,leaf:true} \n        current = current[step];\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Create your flat data array and than process on data for finding nested json</p>\n\n<p>like </p>\n\n<pre><code>[{\"itemname\": \"item1\",\"settingkey\": \"key1\",\"settingvalue\": \"value1\"}, {\"itemname\": \"item2\",\"settingkey\": \"key2\",\"settingvalue\": \"value2\"},];\n</code></pre>\n\n<p>and then process this</p>\n\n<pre><code>var keys = Object.keys(dataMap);\n\nvar json = [];\nfor (var key in keys) {\n        var innerJson = {};\n        innerJson[\"name\"] = keys[key];\n        var innerMap = dataMap[keys[key]];\n\n        if (innerMap instanceof Array) {\n            innerJson[\"size\"] = innerMap[0];\n        } else if (innerMap instanceof Object) {\n\n            var child = processHirarchiachalData(innerMap);\n            innerJson[\"children\"] = child;\n        }\n        json.push(innerJson);\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Given these 4 variables,</p>\n\n<pre><code>var el1 = {name:'ronaldo', team: 'europe/spain/realmadrid'}\nvar el2 = {name:'messi', team: 'europe/spain/barcelona'}\nvar el3 = {name:'gerald', team: 'europe/england/liverpool'}\nvar el4 = {name:'unknown english', team: 'europe/england'}\n</code></pre>\n\n<p>I need to produce this JSON tree hierarchy,</p>\n\n<pre><code>{\n    \"text\":\"europe\",\n    \"leaf\":false,\n    \"children\":[\n        {\n            \"text\":\"spain\",\n            \"leaf\":false,\n            \"children\":[\n                {\n                    \"text\":\"realmadrid\",\n                    \"leaf\":false,\n                    \"children\":[\n                        {\n                            \"text\":\"ronaldo\",\n                            \"leaf\":true\n                        }\n                    ]\n                },\n                {\n                    \"text\":\"barcelona\",\n                    \"leaf\":false,\n                    \"children\":[\n                        {\n                            \"text\":\"messi\",\n                            \"leaf\":true\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            \"text\":\"england\",\n            \"leaf\":false,\n            \"children\":[\n                {\n                    \"text\":\"unknown english\",\n                    \"leaf\":true\n                },\n                {\n                    \"text\":\"liverpool\",\n                    \"leaf\":false,\n                    \"children\":[\n                        {\n                            \"text\":\"gerald\",\n                            \"leaf\":true\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n",
            "last_activity_date": 1424699754,
            "question_id": 2294695,
            "score": 6,
            "tags": [
                "javascript",
                "json",
                "tree",
                "hierarchy"
            ],
            "title": "Creating a JSON Tree from a string hierarchy"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yes, content will be returned, but the XHR object's readyState will not be set to 4, so if you are relying on that to update your div (which most JS libraries' AJAX auto updaters do), you won't see it automatically.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I mean... Let's that we just make an AJAX request and inser the result inside a div#result..</p>\n\n<p>In the backend the script use <strong>ob_flush()</strong> to send the header but not terminate the request until it's terminated (with <strong>exit</strong> or <strong>ob_flush_end</strong>)</p>\n\n<p>The content will be loaded into the #result only when the request terminate (<strong>exit</strong> or <strong>ob_flush_end</strong>) or it'll be loaded every time the script send the header by <strong>ob_flush</strong>?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I'll use <a href=\"http://docs.jquery.com/Ajax/load#urldatacallback\">jQuery load()</a> to make the request &amp; PHP to answer it</p>\n",
            "last_activity_date": 1264794279,
            "question_id": 2164330,
            "score": 6,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "ajax",
                "output-buffering"
            ],
            "title": "If you flush the content (ob_flush) of an AJAX request, the content will get loaded?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>For absolute speed, I would use an over-sized <code>&lt;canvas&gt;</code> inside a <code>&lt;div&gt;</code> with <code>overflow:hidden</code> set then use regular DOM methods to scroll the <code>&lt;canvas&gt;</code> inside the <code>&lt;div&gt;</code>.</p>\n\n<p>Of course, this sacrifices memory usage in favor of speed.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Try this:</p>\n\n<p>ctx.drawImage(ctx.canvas, 0, 0, width, height-20, 0, 20, width, height-20);</p>\n\n<p>drawImage can take either an HTMLImageElement, an HTMLCanvasElement, or an HTMLVideoElement for the first argument.</p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I want to implement vertical scrolling of the contents of a HTML5 canvas element. I don't want to render the whole content again. Instead I would like to move the whole content down/up and only render the area, which has been scrolled into view.</p>\n\n<p>I experimented with the <code>getImageData</code> and <code>putImageData</code> functions but in my tests they are almost as slow as repainting the whole scene.</p>\n\n<pre><code>// scroll 20px down\nvar data = ctx.getImageData(0, 0, width, height-20);\nctx.putImageData(0, 20);\n</code></pre>\n\n<p>What is the fastest way to copy rectangular pixel regions inside of a canvas element?</p>\n",
            "last_activity_date": 1334864769,
            "question_id": 2041148,
            "score": 6,
            "tags": [
                "javascript",
                "html5",
                "canvas"
            ],
            "title": "What is the fastest way to move a rectangular (pixel) region inside a HTML5 canvas element"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can indeed name your anonymous function:</p>\n\n<pre><code>jQuery(\"#mybutton\").click(function doWork(){\n  if (working){\n    setTimeout(doWork, 200);\n    return false;\n  }\n  //do something    \n});\n</code></pre>\n\n<p>You can also use <code>arguments.callee</code>:</p>\n\n<pre><code>jQuery(\"#mybutton\").click(function(){\n  if (working){\n    setTimeout(arguments.callee, 200);\n    return false;\n  }\n  //do something    \n});\n</code></pre>\n\n<p>I'd go with the former.</p>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>Can you explain why you can't name the function? You can use <code>arguments.callee</code> to get a reference to the current function, but that is deprecated and I'm not sure how much support it has among current browsers.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I suppose the following code:</p>\n\n<pre><code>jQuery(\"#mybutton\").click(function(){\n\n    //do something\n\n});\n</code></pre>\n\n<p>How could I recall to this function \"anonymous\"?, I can not put a name to this function:</p>\n\n<pre><code>var xfun = function(){\n\n    //do something\n\n}\n\njQuery(\"#mybutton\").click(xfun);\n</code></pre>\n\n<p>I can do something like this:</p>\n\n<pre><code>var working = false;\njQuery(\"#mybutton\").click(function(){\n\n  if (working){\n    var _this = this;\n    _this._eventType = e.type;\n    setTimeout(function() { jQuery(_this).trigger(_this._eventType); }, 200);\n    return false;\n  }\n  //do something\n\n});\n</code></pre>\n\n<p>what I need is something like this:</p>\n\n<pre><code>var working = false;\njQuery(\"#mybutton\").click(function(){\n\n  if (working){\n    setTimeout( this_function, 200);\n    return false;\n  }\n  //do something\n\n});\n</code></pre>\n\n<p>thanks.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Solution:</p>\n\n<pre><code>jQuery(\"#mybutton\").click(function(){\n  if (working){\n    var fn = arguments.callee;\n    var _this = this;\n    setTimeout(function(){fn.call(_this);}, 200);\n    return false;\n  }\n  //do something    \n});\n</code></pre>\n",
            "last_activity_date": 1392812040,
            "question_id": 1791793,
            "score": 6,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "javascript: function call to itself"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>All the big REST API's tend to use tokenized authentication - basically before you do a REST request, you have to send some other request to the token service to fetch a token to include with your data request.  Bing Maps does this, Amazon does this, Flickr does this... etc.</p>\n\n<p>I don't know too much about it other than having worked with Bing Maps.  You'll need to read up on tokenized authentication with REST.  Here's a blog post to get you started:  <a href=\"http://www.naildrivin5.com/daveblog5000/?p=35\" rel=\"nofollow\">http://www.naildrivin5.com/daveblog5000/?p=35</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>First, declare your intentions in <code>robots.txt</code>.</p>\n\n<p>Then, send a Set-Cookie header with a nonce or some kind of unique ID on the main page, but not on your API responses.  If the cookie is never sent to your API endpoint, return a <code>401 Bad Request</code> response, because it's a bot, a very broken browser, or somebody is rejecting your cookies.  The Referer header can also be used as an additional check, but it's trivial to fake.  Keep track of how many API calls have been made by that ID.  You may also want to match IDs to IP addresses.  If it goes above your threshold, spit back a <code>403 Forbidden</code> response.  Make your threshold high enough that legitimate users don't get caught by it.</p>\n\n<p>Keep good logs, and highlight 401 and 403 responses.</p>\n\n<p>Realistically, if someone is determined enough, they WILL be able to dump this information.  Your goal shouldn't be to make this impossible, because you will never succeed.  (See all the usual adages about achieving perfect security.)  Instead, you want to make it abundantly clear that:</p>\n\n<ul>\n<li>This behavior violates the terms of service.</li>\n<li>You are actively trying to prevent this.</li>\n<li>You know that the offender exists and roughly who they are.</li>\n<li>Scary lawyers might start getting involved if this continues.</li>\n</ul>\n\n<p>(You do have a lawyer, right?)</p>\n\n<p>To achieve this, be sure the body of your <code>403 Forbidden</code> response conveys a scary sounding message along the lines of \"This request exceeds the maximum allowed usage of the API.  Your IP address has been logged.  Please refer to the terms of service and obey the directives in <code>robots.txt</code>.\"</p>\n\n<p>IANAL, but I believe the DMCA can be made to apply in this situation if you claim copyright on your database.  This essentially means that if you can track illegal usage of your API to an IP address, you can send a nastygram to their ISP.  This should always be a last resort of course.</p>\n\n<p>I don't encourage the use of assigned API keys/tokens because they turn out to be a barrier to adoption and kind of a pain in the neck to manage.  As a counter-point to @womp's answer, Google is slowly moving away from their use.  Also, I don't think they actually apply in this case, because it sounds like your \"API\" is more like a JSON call that's used mainly on your own site.</p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>I have a restaurant locater web application that mashes up the location of restaurants to a Google Maps.</p>\n\n<p>I use JQuery sliders to limit the amount of restaurant to show on the map by having Search filter such as: price, type of food, locale.</p>\n\n<p>These JQuery sliders call back via AJAX to an API I created to update the map without the web page having to refresh.</p>\n\n<p>JQuery calls a RESTFUL API like so:</p>\n\n<pre><code>http://example.com/search/?city=NYC&amp;max-price:50&amp;cuisine=french\n</code></pre>\n\n<p>This returns a JSON string of restaurants which match this criteria so that my web application can display on the map all the restaurants which match the search.</p>\n\n<p>What I don't want to have happen is for someone to come along and figure out my API and dumps out ALL of my restaurant listings.</p>\n\n<p>Is there a way that I can limit who call the above HTTP API, so that only my web server calls the URL and not spamer/hackers looking to dump my database?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1255462699,
            "question_id": 1558278,
            "score": 6,
            "tags": [
                "javascript",
                "ajax",
                "api"
            ],
            "title": "How to restrict AJAX API from unwanted use (e.g. someone performing a SELECT *)"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Generally, the best way to handle this type of issue is to use some form of callback function.  Actually, it is really the only practicable solution -- the only other option is coding your own extensions to the browser, and that is a little much (unless you really like banging your head against a wall).  There are actually quite a few parallel questions on these boards: you might try searching for some, many are very good.</p>\n\n<p>Modifying your code:</p>\n\n<pre><code>function checkEmail(email) {\n    /*\n        original parts of the function here!\n    */\n\n    if (email.length) {\n        $.getJSON('ajax/validate', {email: email}, function(data){\n            if (data == false) {\n                // stuff\n            }\n            checkEmailResponse( data );\n        })\n    }\n}\n\nfunction checkEmailResponse( data )\n{\n    // do something with the data.\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>You could have the parent function block until there is something there.  And to reduce the CPU intensiveness, you could use a timeout of somekind.</p>\n\n<pre><code>function checkEmail(email) {\nif (email.length) {\n    var ret = null;\n    $.getJSON('ajax/validate', {email: email}, function(data){\n        if (data == false) {\n            // stuff\n        }\n        ret = data;\n    }) \n   while(ret == null){\n\n   }\n   return ret;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You'll just have to change the way you approach the problem.  You know that what you have above won't work, so you can't think in terms of \"call a function and operate on its return value\".</p>\n\n<p>You'll need to switch to something like toby's suggestion of CPS, or depending on what's triggering this function, handling it with custom events.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You should as well use a callback because the call is asynchronous and therefore design you whole JavaScript source around that idea (as the others pointed out).</p>\n\n<p>If you really really need to get it as a return value you need to turn the asynchronous call off but this is not recommended at all, because it blocks the page till the response is there.</p>\n\n<pre><code>function checkEmail(email, callback) {\n    if (email.length) \n    return $.ajax({\n      data:  {email: email},\n      url: 'ajax/validate',\n      async: false\n     }).responseText; // only the raw response text of the XMLHttpRequest\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have the following JavaScript (and jQuery) code:</p>\n\n<pre><code>function checkEmail(email) {\n    if (email.length) {\n        $.getJSON('ajax/validate', {email: email}, function(data){\n            if (data == false) {\n                // stuff\n            }\n            return data;\n        })\n    }\n}\n</code></pre>\n\n<p>I want the anonymous function to <code>return data</code> to the parent function, <code>checkEmail()</code>.  I tried doing something like this:</p>\n\n<pre><code>function checkEmail(email) {\n    if (email.length) {\n        var ret = null;\n        $.getJSON('ajax/validate', {email: email}, function(data){\n            if (data == false) {\n                // stuff\n            }\n            ret = data;\n        })\n        return ret;\n    }\n}\n</code></pre>\n\n<p>But of course this won't work because the <code>$.getJSON()</code> call is asynchronous, so it will <code>return ret</code> before the GET request is finished.</p>\n\n<p>Any thoughts here?</p>\n\n<p>Thank you!</p>\n",
            "last_activity_date": 1253646275,
            "question_id": 1461895,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "How can I return an AJAX-retrieved value to the parent function of the current function in JavaScript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Here's a some code I wrote a long while ago to format a number with commas. An example is <code>formatNumber(349507, 0, 2, true)</code> &rarr; <code>\"349,507.00\"</code>.</p>\n\n<pre><code>// Reformats a number by inserting commas and padding out the number of digits\n// and decimal places.\n//\n// Parameters:\n//     number:        The number to format. All non-numeric characters are\n//                    stripped out first.\n//     digits:        The minimum number of digits to the left of the decimal\n//                    point. The extra places are padded with zeros.\n//     decimalPlaces: The number of places after the decimal point, or zero to\n//                    omit the decimal point.\n//     withCommas:    True to insert commas every 3 places, false to omit them.\nfunction formatNumber(number, digits, decimalPlaces, withCommas)\n{\n        number       = number.toString();\n    var simpleNumber = '';\n\n    // Strips out the dollar sign and commas.\n    for (var i = 0; i &lt; number.length; ++i)\n    {\n        if (\"0123456789.\".indexOf(number.charAt(i)) &gt;= 0)\n            simpleNumber += number.charAt(i);\n    }\n\n    number = parseFloat(simpleNumber);\n\n    if (isNaN(number))      number     = 0;\n    if (withCommas == null) withCommas = false;\n    if (digits     == 0)    digits     = 1;\n\n    var integerPart = (decimalPlaces &gt; 0 ? Math.floor(number) : Math.round(number));\n    var string      = \"\";\n\n    for (var i = 0; i &lt; digits || integerPart &gt; 0; ++i)\n    {\n        // Insert a comma every three digits.\n        if (withCommas &amp;&amp; string.match(/^\\d\\d\\d/))\n            string = \",\" + string;\n\n        string      = (integerPart % 10) + string;\n        integerPart = Math.floor(integerPart / 10);\n    }\n\n    if (decimalPlaces &gt; 0)\n    {\n        number -= Math.floor(number);\n        number *= Math.pow(10, decimalPlaces);\n\n        string += \".\" + formatNumber(number, decimalPlaces, 0);\n    }\n\n    return string;\n}\n</code></pre>\n\n<p>You can use it on an <code>onblur</code> event handler like so:</p>\n\n<pre><code>&lt;input type=\"text\" onblur=\"this.value = '$' + formatNumber(this.value, 0, 0, true)\" /&gt;\n</code></pre>\n\n<p>That'll add commas to the number and slap a dollar sign on the front.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>First result in a Google search for \"javascript format currency\"</p>\n\n<p><a href=\"http://www.web-source.net/web%5Fdevelopment/currency%5Fformatting.htm\">http://www.web-source.net/web_development/currency_formatting.htm</a></p>\n\n<pre><code>function CurrencyFormatted(amount)\n{\n    var i = parseFloat(amount);\n    if(isNaN(i)) { i = 0.00; }\n    var minus = '';\n    if(i &lt; 0) { minus = '-'; }\n    i = Math.abs(i);\n    i = parseInt((i + .005) * 100);\n    i = i / 100;\n    s = new String(i);\n    if(s.indexOf('.') &lt; 0) { s += '.00'; }\n    if(s.indexOf('.') == (s.length - 2)) { s += '0'; }\n    s = minus + s;\n    return s;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I have a series of texfields, which I'd like to format as currency. Preferably, this would be done on the fly but at least onblur. What I mean by currency format is 349507 -> $349,507. Is it possible?</p>\n\n<p>I prefer HTML/CSS/JS solutions, because I need less explanation. I'm not familiar at all with jQuery.</p>\n\n<p>Any help is greatly appreciated.<br>Mike</p>\n",
            "last_activity_date": 1407232541,
            "question_id": 1162711,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "css"
            ],
            "title": "How can I format the text entered into an HTML textfield like currency?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Yes, you can listen for the various key combinations with javascript and disable the default behaviors. There's even a library that you can use and test <a href=\"http://www.openjs.com/scripts/events/keyboard%5Fshortcuts/\" rel=\"nofollow\">here</a>. I just tested it using google chrome and firefox in their demo textarea, and it works as you want.</p>\n\n<pre><code>shortcut.add(\"Ctrl+P\",function() {\n    return;\n});\n</code></pre>\n\n<p>This works in the browsers that I listed above, but IE will not allow you to override the default behavior in some cases. </p>\n\n<p>Your only option in IE is to disable the Ctrl key entirely with something like:</p>\n\n<pre><code>document.onkeydown = function () { \n  if (event.keyCode == 17) alert('Ctrl Key is disabled'); \n};\n</code></pre>\n\n<p>Which is not ideal and probably not what you want, but it will work.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can try creating an event handler for keydown event, check on the keyCode and prevent its default action if needed. However this will not work in all browsers.</p>\n\n<p>An example for Firefox (canceling \"Print\" short key, verified):</p>\n\n<pre><code>document.addEventListener(\"keydown\", function(oEvent) {\n    if (oEvent.keyCode == 80 &amp;&amp; oEvent.ctrlKey)\n        oEvent.preventDefault();\n}, false)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I am working on similar problem, <a href=\"http://stackoverflow.com/questions/1426585/how-to-hook-ie-keyboard-event\">hooking keyboard event</a> Below code works well to disable, except the flash object on the IE has not got the focus. Since I am trying to handle keyboard event on the flash object, this code does not work for me.</p>\n\n<pre><code>function hookKeyboardEvents(e) {\n    // get key code\n    var key_code = (window.event) ? event.keyCode : e.which;\n\n    // case :if it is IE event\n\tif (window.event)\n\t{\n\t    if (!event.shiftKey &amp;&amp; !event.ctrlKey) {\n\t\t    window.event.returnValue = null;\n\t\t    event.keyCode = 0;\n\t\t}\n\t}\n\t// case: if it is firefox event\n\telse\n\t\te.preventDefault();\n}\n\nwindow.document.onkeydown = hookKeyboardEvents;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>From you application after calling the method on Ctrl+P just make the keycode as zero.I think that will solve your problem...</p>\n\n<p>window.event.keyCode=0;</p>\n\n<p>this will set the keycode as zero..So when explorer checks for the keyCode it will be zero...so default function will not execute...</p>\n\n<p>Try this...just a suggestion</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This works for me in IE 8. The important part is IE requires ev.returnValue to be set to false.</p>\n\n<pre><code>document.onkeydown = function () { \n\n    var ev = e||window.event; \n\n    // Do what I want keys to do ...\n\n    // Block browser short cuts\n    if(ev.preventDefault) // non-IE browsers\n        ev.preventDefault();\n    else  // IE Only\n        ev.returnValue = false;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There is a nice trick to fight with IE10+, to avoid display browser menus on alt key combinations, like <code>Alt + F</code>, <code>Alt + H</code> ...</p>\n\n<p>I recently used on IE11, just add an anchor with the attribute <code>accesskey</code>:<code>[yourKey]</code> on your body</p>\n\n<pre><code>&lt;body&gt;\n   &lt;a href=\"#\" accesskey=\"f\"&gt;&lt;/a&gt;\n   &lt;script type=\"text/javascript\"&gt;\n    window.onkeydown = function(e){\n          console.log(e.keyCode + \" alt: \" + e.altKey);\n          e.preventDefault();\n    };\n    window.onkeyup = function(e){\n          console.log(e.keyCode + \" alt: \" + e.altKey);\n          e.preventDefault();\n    };\n   &lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Now when you press <code>Alt + f</code> the browser will not display \"File popup\" as usual, and will let events keydown and keyup gets to you, and not only keydown.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<blockquote>\n  <p><strong>EDIT:</strong> After waited a while and didn't get anything yet, I've decided \n  to do shortcut disable thingy only for \n  IE now. Is there a possibility to disable \n  IE shortcut keys to access menus/print\n  etc. via vbscript?</p>\n</blockquote>\n\n<p>Is it possible to disable browser shortkeys? </p>\n\n<p>Because many of them are using in application. For instance, <kbd>Ctrl</kbd>+<kbd>p</kbd> is using and I don't want browser to popup the print window.</p>\n",
            "last_activity_date": 1422470512,
            "question_id": 1130353,
            "score": 6,
            "tags": [
                "javascript",
                "internet-explorer",
                "vb6",
                "vbscript",
                "activex"
            ],
            "title": "Disable Internet Explorer shortcut keys"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Hmm.. perhaps, you need to <em>wait</em> for the embed object to load its \"src\" after calling preloadMedia() ?</p>\n\n<p>Are you sure that the media file is loaded when you call soundPlay() ?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>i know your question got a bit old by now, but in case you still wonder...</p>\n\n<pre><code>soundEmbed.setAttribute(\"id\", testQuestions[i].id);\n</code></pre>\n\n<p>you used the same <code>id</code> twice, yet <code>getElementById</code> returns only one element, or <code>false</code> if it doesn't find exactly one matching element.</p>\n\n<p>you could try something like this:</p>\n\n<pre><code>soundEmbed.setAttribute(\"id\", \"soundEmbed_\"+testQuestions[i].id);\n</code></pre>\n\n<p><em>always keep in mind that an <code>id</code> must be unique</em></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just a tip for more compatibility:\nI read <a href=\"http://www.phon.ucl.ac.uk/home/mark/audio/play4.htm\" rel=\"nofollow\">here</a> that width and height need to be > 0 for Firefox on MacOS. </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I need to background load some WAV files for an HTML page using AJAX. I use AJAX to get the details of the WAV files, then use the embed tag, and I can confirm that the files have loaded successfully because when I set autostart to true, the files play. However, I need the files to play only when the user clicks on a button (or an event is fired). The following is my code to preload these files:</p>\n\n<pre><code>function preloadMedia() {\n  for(var i = 0; i &lt; testQuestions.length; i++)  {\n  var soundEmbed = document.createElement(\"embed\");\n  soundEmbed.setAttribute(\"src\", \"/media/sounds/\" + testQuestions[i].mediaFile);\n  soundEmbed.setAttribute(\"hidden\", true);\n  soundEmbed.setAttribute(\"id\", testQuestions[i].id);\n  soundEmbed.setAttribute(\"autostart\", false);\n  soundEmbed.setAttribute(\"width\", 0);\n  soundEmbed.setAttribute(\"height\", 0);\n  soundEmbed.setAttribute(\"enablejavascript\", true);\n  document.body.appendChild((soundEmbed));\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I use the following code to play the file (based on what sound file that user wants to play)</p>\n\n<pre><code>function soundPlay(which) {\n  var sounder = document.getElementById(which);\n  sounder.Play();\n}\n</code></pre>\n\n<p>Something is wrong here, as none of the browsers I have tested on play the files using the code above. There are no errors, and the code just returns.</p>\n\n<p>I would have left it at that (that is - I would have convinced the client to convert all WAV's to MP3 and use MooTools). But I realized that I could play the sound files, <strong>which were not dynamically embeded</strong>. </p>\n\n<p>Thus, the same soundPlay function would work for a file embeded in the following manner:</p>\n\n<pre><code>&lt;embed src=\"/media/sounds/hug_sw1.wav\" id=\"sound2\" width=\"0\" heigh=\"0\" autostart=\"false\" enablejavascript=\"true\"/&gt;\n</code></pre>\n\n<p>anywhere within the HTML.</p>\n\n<p>And it plays well in all the browsers.</p>\n\n<p>Anyone have a clue on this? Is this some sort of undocumented security restriction in all the browsers? (Please remember that the files do get preloaded dynamically, as I can confirm by setting the autostart property to true - They all play).</p>\n\n<p>Any help appreciated.</p>\n",
            "last_activity_date": 1337163192,
            "question_id": 909117,
            "score": 6,
            "tags": [
                "javascript",
                "ajax",
                "audio",
                "embed"
            ],
            "title": "Playing dynamically embedded sound object via Javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The specific code sample you are describing does not work with partial post-backs, since <code>ClientScript.RegisterStartupScript()</code> writes JS to the page during the output construction phase of the request lifecycle; whereas a partial postback only updates a selected portion of the page via JavaScript (even though the markup for the entire page, including your startup script, is generated on the server).</p>\n\n<p>To closely mimic what you are describing, you ought to include a Literal control inside your UpdatePanel, and during partial postback set the Text property of the content panel to the script you wish to run:</p>\n\n<pre><code>myLiteral.Text = \"&lt;script type=\\\"JavaScript\\\"&gt;doStuff();&lt;/script&gt;\";\n</code></pre>\n\n<p>IMO, a more proper way is to use the <a href=\"http://msdn.microsoft.com/en-us/library/bb398976.aspx\">client-side API for async postbacks</a> to register an event handler to run when the postback completes:</p>\n\n<pre><code>function endRequestHandler(sender, args) {\n    doStuff();\n}\n\nSys.WebForms.PageRequestManager.getInstance().add_endRequest(endRequestHandler);\n</code></pre>\n\n<p>If you need to pass information which was generated during the postback into the handler, you can pass that via hidden fields and grab that from the DOM in your client-side handler.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>the best way to do this is to use the DoAfterPostBack control.\nyou can download this control for free from here\n<a href=\"http://go2amitech.blogspot.com/2010/08/running-specific-javascript-after.html\" rel=\"nofollow\">http://go2amitech.blogspot.com/2010/08/running-specific-javascript-after.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://www.coderenaissance.com/2009/02/update-panel-partial-postback-and.html\" rel=\"nofollow\">This</a> is much more elegant, IMO.  apparently ASP AJAX will call any JS function named pageLoad. so write a function called pageLoad and it will be executed on every page load, even after partial update.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p></p>\n\n<pre><code>&lt;script type=\"text/javascript\" language=\"javascript\"&gt;\n    function ValidateUserRole() {  \n        var answer = confirm(\"Are you sure..................\")\n        if (answer) {\n            var btnRoleReleatedButton = '&lt;%=btnRoleReleatedButton.ClientID%&gt;';\n            document.getElementById(btnRoleReleatedButton).click();\n        }\n        else {\n            return false;\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>\n\n    </p>\n\n<p>\n                    \n                        \n                            \n                        \n                    \n                    \n                        \n                    \n                </p>\n\n<pre><code>Tier 3 :&lt;asp:UpdatePanel ID=\"upTier3Details\" runat=\"server\" UpdateMode=\"Conditional\"&gt;\n    &lt;ContentTemplate&gt;\n        &lt;asp:DropDownList ID=\"ddlTier3\" runat=\"server\" CssClass=\"ddlextralarge\" Width=\"350\" /&gt;\n    &lt;/ContentTemplate&gt;\n    &lt;Triggers&gt;\n        &lt;asp:AsyncPostBackTrigger ControlID=\"ddlUserRole\" EventName=\"SelectedIndexChanged\" /&gt;\n    &lt;/Triggers&gt;\n&lt;/asp:UpdatePanel&gt;\n</code></pre>\n\n<p></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I know I can hook into the client side events to run JavaScript after every partial postback; however, I want to do something like this:</p>\n\n<pre><code>protected void FooClicked(object sender, EventArgs e) {\n        ClientScript.RegisterStartupScript(GetType(), \"msg\", \"showMsg('Foo clicked');\",true);        \n}\n</code></pre>\n\n<p>I know I could totally hack it with hidden fields and run something after <em>every</em> postback, but there should be a pretty straightfoward way to in a similar fashion to this.</p>\n",
            "last_activity_date": 1309500853,
            "question_id": 899761,
            "score": 6,
            "tags": [
                "javascript",
                "asp.net-ajax",
                "updatepanel"
            ],
            "title": "How to control which JavaScript gets run after UpdatePanel partial postback endRequest?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Couldn't you just assume it's loaded blurred, and then change the status to focused as soon as you receive any type of event (keydown/mousemove)?</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>The onfocus event should be triggered when the page is initially opened (in the foreground). At least it is in FF3/IE8. </p>\n\n<p>So you could have sounds on initially, turn them off when onfocus is triggered, and turn them back on when onblur is triggered.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This article helped me: <a href=\"http://odondo.wordpress.com/2007/08/28/javascript-and-cross-browser-window-focus/\" rel=\"nofollow\">http://odondo.wordpress.com/2007/08/28/javascript-and-cross-browser-window-focus/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>My page should make notification sounds only when the window is in the background.  I can track the <code>window.onfocus</code> and <code>window.onblur</code> events to notice when the focus state changes.  However, I don't know whether the window will load focused or not, since it might load in a background tab, for instance.</p>\n\n<p>How do I decide whether to play sounds or not before I get an <code>onfocus</code>/<code>onblur</code> event?</p>\n",
            "last_activity_date": 1254582636,
            "question_id": 831686,
            "score": 6,
            "tags": [
                "javascript"
            ],
            "title": "How can I detect whether a browser window is focused or not?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I would start <strong>getting rid of the inline 'onclick'</strong> code and binding the event later:</p>\n\n<pre><code>  &lt;a href=\"http://google.com\" rel=\"outbound\" &gt;Click&lt;/a&gt;\n\n\n   $(\"a[rel=outbound]\").click(function(){ \n        var url = this.href; \n        $.ajax({\n        async: false,\n        type: \"POST\",\n        url: \"Logger.ff\", //dynamic url to logging action\n        data: {\n                sid: 'abc123' //random data\n                clicked: url\n        },\n        contentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n        cache: false\n     });\n     return true; \n  });\n</code></pre>\n\n<p><strong>Also, you might have a \"Race Condition\" occurring</strong>. In my example I have <strong>set async to false</strong>. </p>\n\n<p>This will stop the function returning and following the link before the request has been performed. </p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>I think the reason FF is giving you poor results is because you're leaving the page before the action takes time to execute.  As mhartman's link mentions if you use a target on your external link it should work fine.  If you can't do that then you may have to wait for the log to complete, although you may see delays in navigation.</p>\n\n<p>HTML code</p>\n\n<pre><code>&lt;a href=\"http://google.com\" onclick=\"return loggClick(event);\"&gt;Click&lt;/a&gt;\n</code></pre>\n\n<p>the</p>\n\n<pre><code>function loggClick(e) {\n  if (!e) e = window.event;\n\n  e.preventDefault();  // cancels the link\n\n  var theLink = this.href;  // stores the link for later\n\n  $.ajax({\n     async: false,\n     type: \"POST\",\n        url: \"Logger.ff\", //dynamic url to logging action\n        data: {\n            sid: 'abc123' //random data\n        },\n        contentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n        cache: false,\n         complete: function() {\n           // navigate when the log completes\n           this.location.href = theLink;\n         }\n    });\n    return true;\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>A second more server side approach that you may not have thought of would be to have a page that handles your redirects and logs the data then.  </p>\n\n<p>For example:</p>\n\n<pre><code>&lt;a href=\"LoggerRedirect.ff?url=http://google.com\"&gt;Click&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The above poster is correct, it is unreliable because you are leaving the page before it has a chance to log it.</p>\n\n<p>You could do this:</p>\n\n<p>1) return false, so the href isn't active.\n2) log the click\n3) use location.href to redirect to the url it would have been redirected to</p>\n\n<p>you might see a slight delay if it takes long time for your onclick handler to execute.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This example will fire off an ajax post before the link click is processed. I found I had to call ajax synchronously or the POST will not be executed. In this example my ajax post is to a PHP page which appends a log file. This example is efficient since it only attaches a click event to the window. It also will not interfere with a user clicking a link.</p>\n\n<pre><code>//attach click event to window\nattachClickEvent = function() {\n    $(document).on('click', function(e) { //document for IE8 compatibility\n        var element = $(e.target);\n        var tag = element.prop('tagName');\n\n        if (tag === 'A') {\n            var data = {'title':document.title, 'URL':element.attr('href'), 'origin':location.href};\n            logData(data);\n        }\n    });\n}\n\nlogData = function(data) {\n    $.ajax({\n        async: false,\n        cache: false,\n        type: \"POST\",\n        data: data,\n        url: 'logger.php',\n        success: function(msg) { \n            //debugging\n        },\n        error: function() {\n            //debugging\n        }\n    });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to log all clicks on a link.</p>\n\n<p>I've written a little logger, which can be called by an url (returns an empty page). This url is called with a jquery-ajax-method. But unfortunately not every click is logged, if the user uses firefox (everything looks ok in IE).</p>\n\n<p>I've tried many things but have no solution to this problem, have anybody a glue?</p>\n\n<p>HTML-Code:</p>\n\n<pre><code>&lt;a href=\"http://google.com\" onclick=\"return loggClick();\"&gt;Click&lt;/a&gt;\n</code></pre>\n\n<p>JS-jQuery-Skript:</p>\n\n<pre><code>function loggClick(){\n   $.ajax({\n    \ttype: \"POST\",\n    \turl: \"Logger.ff\", //dynamic url to logging action\n    \tdata: {\n    \t\tsid: 'abc123' //random data\n    \t},\n    \tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n    \tcache: false\n    });\n    return true;\n}\n</code></pre>\n\n<p>EDIT: I've missed in the example that i have to pass dynamic parameters in the js-call, so it's \"not possible\" to remove the onclick-event :(</p>\n",
            "last_activity_date": 1374587765,
            "question_id": 662434,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "firefox",
                "logging",
                "onclick"
            ],
            "title": "Click Logging with JavaScript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>This is a tough one. If I understand correctly, the problem results because you've exposed a click handler on your model, and the model's click event is caught by the controller. The controller updates the view, which in turn toggles the same event.</p>\n\n<p>From my point of view, I would consider it inappropriate for the Controller to attach itself to the Edge's Click event, because it exposes too much detail about how the Edge is implemented and used. Controller does not care about how the Edge is used or any other implementation details.</p>\n\n<p>In fact, canonical MVC style doesn't require the Controller to hook onto <em>any</em> Model events at all, generally because the Model's state is not mutated by the View or any other Controllers. Its not necessary for the Model to notify the Controller that it's been changed.</p>\n\n<p>To fix your problem, you should define View's interface to have a single method, such as ToggleEdge:</p>\n\n<pre><code>\npublic interface GraphView\n{\n    event Action ToggleEdge;\n}\n</code></pre>\n\n<p>Its tempting to want to create two methods, EdgeClicked and CheckboxClicked, but insisting on two independent methods like that violates the principle of encapsulation. It exposes too many implementation details to your Controller or anyone else who wants to hook onto those events. Remember, the Controller only cares that the View's state changed, it doesn't care <em>how</em> it changed.</p>\n\n<p>When you implement the View interface onto your user interface, you should take care to ensure that the ToggleEdge event is invoked from <em>one</em> location. You can do this by hooking onto the Edge.Clicked event in your View and using it to toggle your checkbox; this makes your checkbox responsible for raising the Toggle vent up to the controller:</p>\n\n<pre><code>\npublic class UI : UserControl, GraphView\n{\n    public event Action ToggleEdge;\n\n    void OnToggleEdge(Edge edge)\n    {\n        if (ToggleEdge != null)\n            ToggleEdge(edge);\n    }\n\n    protected void Edge_Clicked(object sender, EventArgs e)\n    {\n        CheckBox chkbox = FindCheckBoxThatCorrespondsToEdge((Edge)sender);\n        chkbox.Checked = !chkbox.Checked;    \n    }\n\n    protected void chkEdge_CheckChanged(object sender, EventArgs e)\n    {\n        Edge edge = FindEdgeThatCorrespondsToCheckbox((CheckBox)sender);\n        OnToggleEdge(edge);\n    }\n}\n</code></pre>\n\n<p>You can make an argument that the View knows too much about its implementation now: its aware that edges and checkboxes are fundamentally connected. Maybe this is another hack, but it can probably be dismissed as \"UI logic\" need to keep the View's display syncronized.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just to recap the MVC model. Views should generally update themselves. Here's how it works: a controller changes the state of the model, the model sends updates to its views, the views pull in new state from the model and update themselves. While controllers and views are generally bundled (i.e. drilling down on data in a graphic representation) they should never interact directly, only through the model. This in general of course.</p>\n\n<p>So the JS functions that update your views are not actually controllers, which is an important distinction. They should be considered part of your view. This might not be helpful to the problem at hand but I thought it merited pointing out.</p>\n\n<p>You can also not delete your model, I assume you mean you're deleting someting <em>from</em> your model, since no views or controllers can actually exist (or be in a functional state) if they're not backed by a model.</p>\n\n<p>Not being a JS code jockey and not having used gmaps I don't really see where the problem is. Does changing the state of a checkbox(checked property) fire the onClick() event? It really shouldn't IMHO but perhaps they implemented it that way, otherwise you could just attach your controller to the onClick() and add some logic to the checkbox (or, this being JS, in a function somewhere) to change the checkbox state. If that's not possible, option 1 and 2 are definitely your best bet.</p>\n\n<h2>addition: user interacting with a view</h2>\n\n<p>So what happens when a user wants to interact with a view? Frequently a widget will include both a view and the controller. A checkbox has a view (you can see if it's checked or not) and also a controller (you can click it). When you click the checkbox, in principle the following should happen:</p>\n\n<ul>\n<li>checkbox controller receives the event</li>\n<li>checkbox controller changes the state for the value this checkbox represents in the model</li>\n<li>model updates listeners (including the checkbox)</li>\n<li>checkbox updates its look to reflect that that value has changed</li>\n</ul>\n\n<p>The first step, how the controller receives the event is somewhat language dependent, but in OOP languages it's likely a listener object attached to user interface events on this particular widget which either is the controller or notifies the controller of the user interaction.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p><strong>The question, in brief:</strong></p>\n\n<p>In MVC, how do you distinguish between a checkbox click (or a selectbox or listbox change) from a human meaning \"Controller, modify the model\", and a checkbox click (or a selectbox or listbox change) from the Controller meaning \"I'm updating the view because the model has changed\"?</p>\n\n<p><hr></p>\n\n<p><strong>The example:</strong></p>\n\n<p>I have a JS app (all one big HTML+JS page; there's a server behind it, and AJAX going on, but it's not important to the example) which has the notion of \"Vertices\" connected by \"Edges\".  The UI lets you add and remove Vertices on a map, and enable or disable Edges between pairs of Vertices.</p>\n\n<p>There are two ways to disable an Edge from Vertex A to Vertex B:</p>\n\n<ol>\n<li>click on the Edge to make the \"Edge Details\" window provide you with a \"Disable This Edge\" button; or</li>\n<li>click on Vertex A (or B) to make the \"Vertex Details\" window provide you with a checklist of nearby Vertices, from which you can uncheck Vertex B (or A).</li>\n</ol>\n\n<p>Here's how this works under the hood in MVC (<em>but see the end of this post for an update, where I correct problems in my understanding</em>):</p>\n\n<ul>\n<li>Model: a list of Vertex objects and a list of Edge objects.</li>\n<li>View: a GMaps UI, with markers and polylines, plus checkboxes and buttons and \"Vertex Details\" and \"Edge Details\" DIVs.</li>\n<li>Controller:\n<ul>\n<li>JS functions that update the model when events on the checkboxes and buttons fire; and</li>\n<li>JS functions that update the view when events on the models fire.</li>\n</ul></li>\n</ul>\n\n<p><strong>Here's the specific inelegance</strong>:</p>\n\n<ol>\n<li>The user has the Vertex Details Window focused on Vertex A, and the Edge Details Window focused on the Edge from Vertex A to Vertex B.</li>\n<li>The user clicks \"Disable This Edge\" in the Edge Details window.</li>\n<li>Controller function 1 gets the click event, and calls disable() on the Edge model object.</li>\n<li>The Edge model object fires the \"I just got disabled\" event.</li>\n<li>Controller function 2 receives the \"I just got disabled\" event, and\n<ol>\n<li>redraws the Edge Details Window to say \"I'm disabled!\" and</li>\n<li><strong>unchecks Vertex B in the Vertex Details Window.</strong>\n<ol>\n<li><strong>Crap!</strong> This fires Controller function 1 again, which was listening for UI events that mean an edge was disabled!</li>\n</ol></li>\n</ol></li>\n</ol>\n\n<p>So there's an unnecessary re-update of the Model, and re-update of the View.  In a more complex view with events that fire events that fire events, this can make for dozens of extraneous updates!</p>\n\n<p><hr>\n<strong>Update: a great answer.</strong></p>\n\n<p>I misunderstood MVC a bit.  I don't have just one View, as I described above: I have several Views into several Models.  In particular, I have a checkbox-list View of Edges to a particular Node, and a separate, \"detailed window-style\" View of an Edge.</p>\n\n<p>Furthermore, I shouldn't have one controller function updating all views when the Model changes: each View should modify <em>itself</em> when the Model changes.</p>\n\n<p>So if each View registers for \"state updated\" events on the Model, and each View updates itself upon receipt of those events, then the answer to my circular events question is simply this:</p>\n\n<p><strong>The checkbox-list View will disable checkbox events for the moment that it is updating the checkboxes after a Model state change.</strong></p>\n\n<p>Now if a user disables an Edge via the Edge Detail window, the Controller updates the Edge Model, the checkbox-list View receives notification of the update, and the checkbox-list View is smart enough to silence checkbox events while changing the status of the appropriate checkbox.</p>\n\n<p>This is much more palatable than my original solution, where one Controller updates ALL Views -- and thus has to know which views need special care and feeding to avoid loops.  Instead, only the single View with troublesome UI elements has to deal with the problem.  </p>\n\n<p>Thanks to those who answered my question!</p>\n",
            "last_activity_date": 1233823287,
            "question_id": 373615,
            "score": 6,
            "tags": [
                "javascript",
                "model-view-controller",
                "design-patterns",
                "event-handling"
            ],
            "title": "Elegant way to prevent circular events in MVC?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Here's a simple working JSBin: <a href=\"http://jsbin.com/jomiquqi/1/edit\" rel=\"nofollow\">http://jsbin.com/jomiquqi/1/edit</a></p>\n\n<p>The <code>ng-include</code> directive takes a variable for the template to include. So to update your code to get it working, your <code>toggleGrid()</code> method shouldn't be returning something, it should be setting a variable on the scope which you pass to <code>ng-include</code> like in my example.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You should define application controller's scope property that will hold URL of template for <code>ng-include</code>, and bind this property to your directive's scope. Make sure to use isolated scope in your directive in order to avoid side effects while modifying directive's scope. Here is an example of doing it (see comments in the code):</p>\n\n<p><strong>JavaScript</strong></p>\n\n<pre><code>angular.module('app',['ngRoute']).\n  config(['$routeProvider', function($routeProvider){\n    $routeProvider.\n      when('/main', {\n        controller: 'appController',\n        templateUrl: 'main.html'\n      }).\n      otherwise({\n        redirectTo: '/main'\n      });\n  }]).\n  controller('appController', ['$scope', function($scope){\n    $scope.view = 'list.html'; // &lt;- default template used for ng-include\n    $scope.data = [{\n      text: '1'\n    }, {\n      text: '2'\n    }, {\n      text: '3'\n    }, {\n      text: '4'\n    }, {\n      text: '5'\n    }, {\n      text: '6'\n    }];\n  }]).\n  directive('appView', function() {\n    return {\n      scope: {\n        view: '=appView' // &lt;= link view property of directive's scope to some property in the parent scope (scope of appController) specified in app-view attribute of root element of directive\n      },\n      replace: true,\n      template: '&lt;nav class=\"navbar navbar-default\"&gt;' +\n                    '&lt;div class=\"container\"&gt;' +\n                      '&lt;ul class=\"nav navbar-nav navbar-right\"&gt;' +\n                        '&lt;li ng-repeat=\"v in views\" ng-bind=\"v.name\" ng-class=\"v.icon\" ng-click=\"switchView(v)\"&gt;&lt;/li&gt;' +\n                      '&lt;/ul&gt;' +\n                    '&lt;/div&gt;' +\n                '&lt;/nav&gt;',\n      link: function(scope, el, attr) {\n        scope.views = [{\n          name: 'List',\n          template: 'list.html',\n          icon: 'btn btn-default navbar-btn glyphicon glyphicon-th-list'\n        }, {\n          name: 'Grid',\n          template: 'grid.html',\n          icon: 'btn btn-default navbar-btn glyphicon glyphicon-th'\n        }];\n      },\n      controller: ['$scope', function($scope){\n        $scope.switchView = function(view) {\n          $scope.view = view.template; // &lt;- modify parent scope view\n        }\n      }]\n    }\n  });\n</code></pre>\n\n<p><strong>Main page of application (index.html)</strong></p>\n\n<pre><code>&lt;html ng-app=\"app\"&gt;\n  ...\n  &lt;body ng-view=\"\"&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Route template(main.html)</strong></p>\n\n<pre><code>&lt;header app-view=\"view\"&gt;&lt;/header&gt;\n&lt;section ng-include=\"view\"&gt;&lt;/section&gt;\n</code></pre>\n\n<p><strong>List view template (list.html)</strong></p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-12 col-sm-12 panel panel-default\" ng-repeat=\"item in data\"&gt;\n      &lt;div class=\"panel-body\"&gt;{{item.text}}&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Grid view template (grid.html)</strong> </p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-md-4 col-sm-6 panel panel-default\" ng-repeat=\"item in data\"&gt;\n      &lt;div class=\"panel-body\"&gt;{{item.text}}&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Plunker: <a href=\"http://plnkr.co/edit/uWw7NuPG0I161mHXZg2r?p=preview\" rel=\"nofollow\">http://plnkr.co/edit/uWw7NuPG0I161mHXZg2r?p=preview</a></p>\n\n<p><em>Bonus: grid is responsive, just play a bit with a window size</em></p>\n\n<p><strong>Another Option:</strong></p>\n\n<p>As you have probably noticed, <code>grid.html</code> and <code>list.html</code> are very similar, so if you have only these two options you may decide not to use <code>ng-include</code> with separate switchable views at all, but place content view directly into your route's template and just switch classes used in panels using <code>ng-class</code> directive which can switch classes when view is changed.</p>\n\n<p><strong>Route template(main.html)</strong></p>\n\n<pre><code>&lt;header app-view=\"view\"&gt;&lt;/header&gt;\n&lt;section&gt;\n  &lt;div class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div ng-class=\"{'col-md-4': view === 'grid.html', 'col-md-12': view === 'list.html', 'panel':true, 'panel-default':true}\" ng-repeat=\"item in data\"&gt;\n        &lt;div class=\"panel-body\"&gt;{{item.text}}&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/section&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Basically what you need to do is put a list view and grid same time on the same page and display one at a time, toggling between them(changing css class) with the switch button.I'll discuss the Example #5 here:</p>\n\n<p>First layout variable in the scope</p>\n\n<pre><code>$scope.layout = 'grid';\n</code></pre>\n\n<p>Here are the switch buttons</p>\n\n<pre><code>&lt;!-- On click change \"$scope.layout = list\" and if layout=='list' add class 'active' to self--&gt;\n&lt;a href=\"#\" class=\"list-icon\" ng-class=\"{active: layout == 'list'}\" ng-click=\"layout = 'list'\"&gt;&lt;/a&gt;\n\n&lt;!-- On click change \"$scope.layout = grid\" and if layout=='grid' add class 'active' to self--&gt;\n&lt;a href=\"#\" class=\"grid-icon\" ng-class=\"{active: layout == 'grid'}\" ng-click=\"layout = 'grid'\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>These are the grid and list blocks.</p>\n\n<pre><code>&lt;!-- Layout=='grid' if layout parameter is grid than show this block --&gt;\n&lt;ul ng-show=\"layout == 'grid'\" class=\"grid\"&gt;...&lt;/ul&gt;\n\n&lt;!-- Layout=='list' if layout parameter is list than show this block --&gt;\n&lt;ul ng-show=\"layout == 'list'\" class=\"list\"&gt;...&lt;/ul&gt;\n</code></pre>\n\n<p>Css that makes the list and grid layout</p>\n\n<pre><code>/*-------------------------\n    List layout\n--------------------------*/\n\n\nul.list{\n    list-style: none;\n    width: 500px;\n    margin: 0 auto;\n    text-align: left;\n}\n\nul.list li{\n    border-bottom: 1px solid #ddd;\n    padding: 10px;\n    overflow: hidden;\n}\n\nul.list li img{\n    width:120px;\n    height:120px;\n    float:left;\n    border:none;\n}\n\nul.list li p{\n    margin-left: 135px;\n    font-weight: bold;\n    color:#6e7a7f;\n}\n\n\n/*-------------------------\n    Grid layout\n--------------------------*/\n\n\nul.grid{\n    list-style: none;\n    width: 570px;\n    margin: 0 auto;\n    text-align: left;\n}\n\nul.grid li{\n    padding: 2px;\n    float:left;\n}\n\nul.grid li img{\n    width:280px;\n    height:280px;\n    display:block;\n    border:none;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am new to AngularJS and I've been unable to find specific tutorials of a <strong>list and grid view toggle switch buttons</strong> that loads in two different HTML partials.  Read official <code>ng-include</code>, <code>ng-switch</code> official docs and searched SO.  Unfortunately, we don't want to use <a href=\"https://github.com/angular-ui/ui-router\">UI-router</a>.   </p>\n\n<p>Is loading in two partials (<code>list.html</code> and <code>grid.html</code>) the correct Angular way of coding this?</p>\n\n<p><img src=\"http://i.stack.imgur.com/9EeD0.png\" alt=\"grid view\">\n<img src=\"http://i.stack.imgur.com/iDd8K.png\" alt=\"list view\"></p>\n\n<p>The most relevant help I've found are these:</p>\n\n<p>1.<a href=\"http://tutorialzine.com/2013/08/learn-angularjs-5-examples\">http://tutorialzine.com/2013/08/learn-angularjs-5-examples</a> (Example #5)</p>\n\n<p>There was an insightful comment on Example #5</p>\n\n<blockquote>\n  <p>Nice simple examples - well done.\n  The last example that switches between grid and list views is not very\n  efficient since it creates both options and the shows/hides one. A\n  simpler/better approach would be using a single ul with repeater and\n  ng-switch and then enabling the alternate list elements using\n  ng-switch-case. - Johan</p>\n</blockquote>\n\n<p>2.<a href=\"http://www.adobe.com/devnet/html5/articles/getting-started-with-angularjs.html\">http://www.adobe.com/devnet/html5/articles/getting-started-with-angularjs.html</a></p>\n\n<p>3.<a href=\"http://stackoverflow.com/questions/12577378/create-a-single-html-view-for-multiple-partial-views-in-angularjs/12584774#12584774\">create a single html view for multiple partial views in angularjs</a></p>\n\n<p>4.<a href=\"http://stackoverflow.com/questions/15974086/conditional-ng-include-in-angularjs\">Conditional ng-include in angularjs</a></p>\n\n<hr>\n\n<p><strong>My HTML code</strong></p>\n\n<pre><code> &lt;div class=\"col-xs-6\" ng-controller=\"ToggleDisplayCtrl\"&gt;\n    &lt;div class=\"btn-group select-format-container\" ng-switch on=\"selected\"&gt;\n      &lt;button ng-switch-when=\"true\" ng-click=\"toggleGrid()\" type=\"button\" class=\"btn btn-primary\" ng-model=\"formatChoice\" ng-disabled=\"\"&gt;grid&lt;/button&gt;\n      &lt;button ng-switch-when=\"false\" ng-click=\"toggleList()\" type=\"button\" class=\"btn btn-primary\" ng-model=\"formatChoice\" ng-disabled=\"\"&gt;list&lt;/button&gt;\n    &lt;/div&gt;\n\n    &lt;div ng-include src=\"formatChoice.url\" scope=\"\" onload=\"\"&gt;&lt;/div&gt;\n\n  &lt;/div&gt;&lt;!-- col-xs-6  END ToggleDisplayCtrl--&gt;\n</code></pre>\n\n<p><strong>My directive code</strong></p>\n\n<pre><code>'use strict';\n\n var app = angular.module('tempApp');\n\n app.controller('ToggleDisplayCtrl', function($scope) {\n  $scope.formatChoices =\n  [ { name: 'grid', url: 'partials/grid.html'},\n    { name: 'list', url: 'partials/list.html'} ];\n\n$scope.selected = true;\n$scope.toggleGrid = function() {\n  if(selected) {\n    return \"partials/grid.html\";\n  }\n  return \"main.html\";\n};\n$scope.toggleList = function() {\n  if(selected) {\n    return \"partials/list.html\";\n  }\n  return \"main.html\";\n\n};\n});\n</code></pre>\n",
            "last_activity_date": 1422360083,
            "question_id": 22448143,
            "score": 5,
            "tags": [
                "javascript",
                "angularjs",
                "angularjs-ng-include",
                "ng-switch"
            ],
            "title": "How to make a list and grid view toggle switch control that loads in partials in AngularJS?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<pre class=\"lang-r prettyprint-override\"><code>library(XML) \nlibrary(relenium)\n\n##downloading website\nwebsite&lt;- firefoxClass$new() \nwebsite$get(\"http://www.machinerytrader.com/list/list.aspx?pg=1&amp;bcatid=4&amp;DidSearch=1&amp;EID=1&amp;LP=MAT&amp;ETID=5&amp;catid=1015&amp;mdlx=Contains&amp;Cond=All&amp;SO=26&amp;btnSearch=Search&amp;units=imperial\") \ndoc &lt;- htmlParse(website$getPageSource())\n\n##reading tables and binding the information\ntables &lt;- readHTMLTable(doc, stringsAsFactors=FALSE)\ndata&lt;-do.call(\"rbind\", tables[seq(from=8, to=56, by=2)])\ndata&lt;-cbind(data, sapply(lapply(tables[seq(from=9, to=57, by=2)],  '[[', i=2), '[', 1))\nrownames(data)&lt;-NULL\nnames(data) &lt;- c(\"year.man.model\", \"s.n\", \"price\", \"location\", \"auction\")\n</code></pre>\n\n<p>This will give you what you want for the first page (showing just the first two lines here):</p>\n\n<pre class=\"lang-r prettyprint-override\"><code>head(data,2)\n      year.man.model      s.n      price location                                               auction\n1 1972 AMERICAN 5530 GS14745W US $50,100       MI                   Auction: 1/9/2013; 4,796 Hours;  ..\n2 AUSTIN-WESTERN 307      307  US $3,400       MT Auction: 12/18/2013;  AUSTIN-WESTERN track excavator.\n</code></pre>\n\n<p>To get all pages, just loop over them, pasting the <code>pg=i</code> in the address.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Using <code>Relenium</code>: </p>\n\n<pre><code>require(relenium) # More info: https://github.com/LluisRamon/relenium\nrequire(XML)\nfirefox &lt;- firefoxClass$new() # init browser\nres &lt;- NULL\npages &lt;- 1:2\nfor (page in pages) {\n  url &lt;- sprintf(\"http://www.machinerytrader.com/list/list.aspx?pg=%d&amp;bcatid=4&amp;DidSearch=1&amp;EID=1&amp;LP=MAT&amp;ETID=5&amp;catid=1015&amp;mdlx=Contains&amp;Cond=All&amp;SO=26&amp;btnSearch=Search&amp;units=imperial\", page)\n  firefox$get(url) \n  doc &lt;- htmlParse(firefox$getPageSource())\n  res &lt;- rbind(res, \n               cbind(year_manu_model = xpathSApply(doc, '//table[substring(@id, string-length(@id)-15) = \"tblListingHeader\"]/tbody/tr/td[1]', xmlValue),\n                     sn = xpathSApply(doc, '//table[substring(@id, string-length(@id)-15) = \"tblListingHeader\"]/tbody/tr/td[2]', xmlValue),\n                     price = xpathSApply(doc, '//table[substring(@id, string-length(@id)-15) = \"tblListingHeader\"]/tbody/tr/td[3]', xmlValue),\n                     loc = xpathSApply(doc, '//table[substring(@id, string-length(@id)-15) = \"tblListingHeader\"]/tbody/tr/td[4]', xmlValue),\n                     auc = xpathSApply(doc, '//table[substring(@id, string-length(@id)-9) = \"tblContent\"]/tbody/tr/td[2]', xmlValue))\n  )\n}\nsapply(as.data.frame(res), substr, 0, 30)                        \n#      year_manu_model                  sn               price         loc   auc                               \n# [1,] \" 1972 AMERICAN 5530\"            \"GS14745W\"       \"US $50,100\"  \"MI \" \"\\n\\t\\t\\t\\t\\tAuction: 1/9/2013; 4,796\" \n# [2,] \" AUSTIN-WESTERN 307\"            \"307\"            \"US $3,400\"   \"MT \" \"\\n\\t\\t\\t\\t\\tDetails &amp; Photo(s)Video(\" \n# ...\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm able to scrape data off of basic html pages, but I'm having trouble scraping off the site below.  It looks like the data is presented via javascript, and I'm not sure how to approach that issue.  I'd prefer to use R to scrape, if possible, but could also use Python.</p>\n\n<p>Any ideas/suggestions? </p>\n\n<p>Edit: I need to grab the Year/Manufacturer/Model, the S/N, the Price, the Location, and the short description (starts with \"Auction:\") for each listing. </p>\n\n<p><a href=\"http://www.machinerytrader.com/list/list.aspx?bcatid=4&amp;DidSearch=1&amp;EID=1&amp;LP=MAT&amp;ETID=5&amp;catid=1015&amp;mdlx=Contains&amp;Cond=All&amp;SO=26&amp;btnSearch=Search&amp;units=imperial\" rel=\"nofollow\">http://www.machinerytrader.com/list/list.aspx?bcatid=4&amp;DidSearch=1&amp;EID=1&amp;LP=MAT&amp;ETID=5&amp;catid=1015&amp;mdlx=Contains&amp;Cond=All&amp;SO=26&amp;btnSearch=Search&amp;units=imperial</a></p>\n",
            "last_activity_date": 1396505907,
            "question_id": 22204382,
            "score": 5,
            "tags": [
                "javascript",
                "xml",
                "r",
                "web-scraping",
                "screen-scraping"
            ],
            "title": "Scraping javascript website"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><strong>Update:</strong> I moved the signing functionality from the example code below into the <a href=\"https://npmjs.org/package/aws-cloudfront-sign\">aws-cloudfront-sign</a> package on NPM. That way you can just require this package and call <code>getSignedUrl()</code>. </p>\n\n<hr>\n\n<p>After some further investigation I found a solution which is sort of a combo between <a href=\"http://stackoverflow.com/questions/12683189/how-to-use-nodejs-crypto-to-sign-a-file\">this answer</a> and a method I found in the <a href=\"https://github.com/boto/boto/blob/8597c5426344e728dc081b5a924a437fe351a47b/boto/cloudfront/distribution.py\">Boto library</a>. It is true that S3 URL signatures are handled differently than CloudFront URL signatures. If you just need to sign an S3 link then the example code in my initial question will work just fine for you. However, it gets a little more complicated if you want to generate signed URLs which utilize your CloudFront distribution. This is because CloudFront URL signatures are not currently supported in the AWS SDK so you have to create the signature on your own. In case you also need to do this, here are basic steps. I'll assume you already have an S3 bucket setup:</p>\n\n<h3>Configure CloudFront</h3>\n\n<ol>\n<li>Create a CloudFront distribution</li>\n<li>Configure your origin with the following settings\n<ul>\n<li>Origin Domain Name: {your-s3-bucket}</li>\n<li>Restrict Bucket Access: Yes</li>\n<li>Grant Read Permissions on Bucket: Yes, Update Bucket Policy</li>\n</ul></li>\n<li>Create CloudFront Key Pair. Should be able to do this <a href=\"https://console.aws.amazon.com/iam/home?#security_credential\">here</a>.</li>\n</ol>\n\n<h3>Create Signed CloudFront URL</h3>\n\n<p>To great a signed CloudFront URL you just need to sign your policy using RSA-SHA1 and include it as a query param. You can find more on custom policies <a href=\"http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-creating-signed-url-custom-policy.html#private-content-custom-policy-statement\">here</a> but I've included a basic one in the sample code below that should get you up and running. The sample code is for Node.js but the process could be applied to any language.</p>\n\n<pre><code>var crypto = require('crypto')\n  , fs = require('fs')\n  , util = require('util')\n  , moment = require('moment')\n  , urlParse = require('url')\n  , cloudfrontAccessKey = '&lt;your-cloudfront-public-key&gt;'\n  , expiration = moment().add('seconds', 30)  // epoch-expiration-time\n\n// Define your policy.\nvar policy = {\n   'Statement': [{\n      'Resource': 'http://&lt;your-cloudfront-domain-name&gt;/path/to/object',\n      'Condition': {\n         'DateLessThan': {'AWS:EpochTime': '&lt;epoch-expiration-time&gt;'},\n      }\n   }]\n}\n\n// Now that you have your policy defined you can sign it like this:\nvar sign = crypto.createSign('RSA-SHA1')\n  , pem = fs.readFileSync('&lt;path-to-cloudfront-private-key&gt;') \n  , key = pem.toString('ascii')\n\nsign.update(JSON.stringify(policy))\nvar signature = sign.sign(key, 'base64')\n\n// Finally, you build the URL with all of the required query params:\nvar url = {\n  host: '&lt;your-cloudfront-domain-name&gt;',\n  protocol: 'http',\n  pathname: '&lt;path-to-s3-object&gt;'\n}    \nvar params = {\n  'Key-Pair-Id=' + cloudfrontAccessKey,\n  'Expires=' + expiration,\n  'Signature=' + signature\n}\nvar signedUrl = util.format('%s?%s', urlParse.format(url), params.join('&amp;'))\n\nreturn signedUrl\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>Has anyone successfully used the AWS SDK to generate signed URLs to objects in an S3 bucket which also work over CloudFront? I'm using the <a href=\"http://docs.aws.amazon.com/AWSJavaScriptSDK/latest/frames.html%29\" rel=\"nofollow\">JavaScript AWS SDK</a> and it's really simple to generate signed URLs via the S3 links. I just created a private bucket and use the following code to generate the URL:</p>\n\n<pre><code>var AWS = require('aws-sdk')\n  , s3 = new AWS.S3()\n  , params = {Bucket: 'my-bucket', Key: 'path/to/key', Expiration: 20}\n\ns3.getSignedUrl('getObject', params, function (err, url) {\n  console.log('Signed URL: ' + url)\n})\n</code></pre>\n\n<p>This works great but I also want to expose a CloudFront URL to my users so they can get the increased download speeds of using the CDN. I setup a CloudFront distribution which modified the bucket policy to allow access. However, after doing this any file could be accessed via the CloudFront URL and Amazon appeared to ignore the signature in my link. After reading some more on this I've seen that people generate a .pem file to get signed URLs working with CloudFront but why is this not necessary for S3? It seems like the getSignedUrl method simply does the signing with the AWS Secret Key and AWS Access Key. Has anyone gotten a setup like this working before?</p>\n\n<p><strong>Update:</strong>\nAfter further research it appears that CloudFront handles URL signatures completely different from S3 <a href=\"http://stackoverflow.com/questions/2573919/creating-signed-urls-for-amazon-cloudfront\">[link]</a>. However, I'm still unclear as to how to create a signed CloudFront URL using Javascript. </p>\n",
            "last_activity_date": 1391991712,
            "question_id": 21521302,
            "score": 5,
            "tags": [
                "javascript",
                "node.js",
                "amazon-web-services",
                "amazon-s3",
                "pre-signed-url"
            ],
            "title": "Creating signed S3 and Cloudfront URLs via the AWS SDK"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The general node-link graph structure can have nodes without links, just like it can have nodes with one, two or hundreds of link.  Your update method replaces the links' data, but does not look through nodes data to remove those that no longer have any links attached.</p>\n\n<p>They way you've currently got it set up, however, there is a fairly straightforward fix.  As is, you initialize links from the dataset, and initialize nodes to be empty.  Then in this section of your update method:</p>\n\n<pre><code>links.forEach(function(link)\n        {\n            link.source = nodes[link.source] \n                          || (nodes[link.source] = {name: link.source});\n\n            link.target = nodes[link.target] \n                          || (nodes[link.target] = {name: link.target});\n        });\n</code></pre>\n\n<p>You add all the nodes mentioned as either a source or target of a link to the nodes list, after first checking whether or not it's already in the list.</p>\n\n<p>(If it isn't in the list, <code>nodes[link.source]</code> will return null, so the <code>||</code> OR operator will kick in and the second half of the statement is evaluated, creating the object, adding it to the nodes list, and then connecting it to the link object.)</p>\n\n<p>Now, the first time your run your update method, this fills up the nodes list with data.  The second time, however, the nodes list is already full and you don't do anything to take any nodes away.</p>\n\n<p><strong>The simple fix</strong> is to reset your nodes list to an empty object (<code>nodes={};</code>) at the start of your update method.  Then, only the nodes that are in the current set of links will be added back in, so when you re-compute the data join on the circles and text all the unused nodes will be put into the <code>.exit()</code> selection and removed.</p>\n\n<p><em>But, I should mention</em> that if you're updating a lot, and only changing a few objects each time, there are other ways to do this that require more code but will be faster in update.  This version recreates all the node and link data objects each time.  If you've got a lot (many hundreds) of complex data nodes and are only changing a couple each update, it might be worth it to add an extra property to your node objects keeping track of how many links are attached, and only reset that at the start of your update method.  Then you could use a filter to figure out which of the node objects to include in your data join.  </p>\n\n<p><em><strong>Edited to Add:</em></strong> </p>\n\n<p>Here is the approach I'd use for a more conservative update function (versus a complete reset of the data).  It's not the only option, but it doesn't have much overhead:</p>\n\n<p>First step (in update method), mark all nodes to have zero links:</p>\n\n<pre><code>d3.values(nodes).forEach(function(aNode){ aNode.linkCount = 0;}); \n   //Reset the link count for all existing nodes by\n   //creating an array out of the nodes list, and then calling a function\n   //on each node to set the linkCount property to zero.\n</code></pre>\n\n<p>Second step, change the <code>links.forEach()</code> method to record the number of links in each node:</p>\n\n<pre><code>links.forEach(function(link)\n    {\n     link.source = nodes[link.source] \n                      || (nodes[link.source] = {name: link.source, linkCount:0});\n                                    //initialize new nodes with zero links\n\n     link.source.linkCount++;\n        // record this link on the source node, whether it was just initialized\n        // or already in the list, by incrementing the linkCount property\n        // (remember, link.source is just a reference to the node object in the \n        // nodes array, when you change its properties you change the node itself.)\n\n     link.target = /* and then do the same for the target node */\n    });\n</code></pre>\n\n<p>Third step, <strong>option one</strong>, use an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\">filter</a> to only include nodes that have at least one link: </p>\n\n<pre><code>force\n    .nodes( d3.values(nodes).filter(function(d){ return d.linkCount;}) )\n      //Explanation: d3.values() turns the object-list of nodes into an array.\n      //.filter() goes through that array and creates a new array consisting of \n      //the nodes that return TRUE when passed to the callback function.  \n      //The function just returns the linkCount of that node, which Javascript \n      //interprets as false if linkCount is zero, or true otherwise.\n    .links(links)\n    .start();\n</code></pre>\n\n<p>Note that this <strong>does not</strong> delete the unused nodes from the <code>nodes</code> list, it only filters them from getting passed to the layout.  If you don't expect to be using those nodes again, you will need to actually remove them from the nodes list.</p>\n\n<p>Third step, <strong>option two</strong>, scan through the nodes list and delete any nodes that have zero links:</p>\n\n<pre><code>d3.keys(nodes).forEach(\n   //create an array of all the current keys(names) in the node list, \n   //and then for each one:\n\n   function (nodeKey) {\n       if (!nodes[nodeKey].linkCount) {\n         // find the node that matches that key, and check it's linkCount value\n         // if the value is zero (false in Javascript), then the ! (NOT) operator\n         // will reverse that to make the if-statement return true, \n         // and the following will execute:\n\n           delete(nodes[nodeKey]); \n             //this deletes the object AND its key from the nodes array\n       }\n\n   }//end of function\n\n); //end of forEach method\n\n  /*then add the nodes list to the force layout object as before, \n     no filter needed since the list only includes the nodes you want*/\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I'm using a force layout graph to show a network but I have problems when updating my data.</p>\n\n<p>I already check <a href=\"http://stackoverflow.com/questions/12992351/how-to-update-elements-when-the-underlying-data-changes-with-d3js\">How to update elements when the underlying data changes with d3js</a>, and of course the \"Modifying a Force Layout\"  as well as the \"General Update Pattern\" by \"<em>mbostock</em>\" from D3.js (unfortunately, I can only post a maximum of two links...).</p>\n\n<p>My code based on the \"Mobile Patent Suits\" example with some modifications and differences.\nYou can check my full code here:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;style&gt;\n\n.link {\n    fill: none;\n    stroke: #666;\n    stroke-width: 1.5px;\n}\n\n#licensing {\n    fill: green;\n}\n\n.link.licensing {\n    stroke: green;\n}\n\n.link.resolved {\n    stroke-dasharray: 0,2 1;\n}\n\ncircle {\n    fill: #ccc;\n    stroke: #333;\n    stroke-width: 1.5px;\n}\n\ntext {\n    font: 10px sans-serif;\n    pointer-events: none;\n    text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff;\n}\n\n&lt;/style&gt;\n&lt;body&gt;\n    &lt;!-- add an update button --&gt;\n    &lt;div id=\"update\"&gt;\n        &lt;input name=\"updateButton\" type=\"button\" value=\"Update\" onclick=\"newData()\"/&gt;\n    &lt;/div&gt;\n    &lt;script src=\"http://d3js.org/d3.v3.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n\n    var width = 960,\n        height = 500;\n\n    var force = d3.layout.force()\n        .size([width, height])\n        .linkDistance(60)\n        .charge(-300)\n        .on(\"tick\", tick);\n\n    var svg = d3.select(\"body\").append(\"svg\")\n        .attr(\"width\", width)\n        .attr(\"height\", height)\n        .style(\"border\", \"1px solid black\");\n\n    var dataset = [\n                 {source: \"Microsoft\", target: \"Amazon\", type: \"licensing\"},\n                 {source: \"Microsoft\", target: \"HTC\", type: \"licensing\"},\n                 {source: \"Samsung\", target: \"Apple\", type: \"suit\"},\n                 {source: \"Motorola\", target: \"Apple\", type: \"suit\"},\n                 {source: \"Nokia\", target: \"Apple\", type: \"resolved\"},\n                 {source: \"HTC\", target: \"Apple\", type: \"suit\"},\n                 {source: \"Kodak\", target: \"Apple\", type: \"suit\"},\n                 {source: \"Microsoft\", target: \"Barnes &amp; Noble\", type: \"suit\"},\n                 {source: \"Microsoft\", target: \"Foxconn\", type: \"suit\"},\n                 {source: \"Oracle\", target: \"Google\", type: \"suit\"},\n                 {source: \"Apple\", target: \"HTC\", type: \"suit\"},\n                 {source: \"Microsoft\", target: \"Inventec\", type: \"suit\"},\n                 {source: \"Samsung\", target: \"Kodak\", type: \"resolved\"},\n                 {source: \"LG\", target: \"Kodak\", type: \"resolved\"},\n                 {source: \"RIM\", target: \"Kodak\", type: \"suit\"},\n                 {source: \"Sony\", target: \"LG\", type: \"suit\"},\n                 {source: \"Kodak\", target: \"LG\", type: \"resolved\"},\n                 {source: \"Apple\", target: \"Nokia\", type: \"resolved\"},\n                 {source: \"Qualcomm\", target: \"Nokia\", type: \"resolved\"},\n                 {source: \"Apple\", target: \"Motorola\", type: \"suit\"},\n                 {source: \"Microsoft\", target: \"Motorola\", type: \"suit\"},\n                 {source: \"Motorola\", target: \"Microsoft\", type: \"suit\"},\n                 {source: \"Huawei\", target: \"ZTE\", type: \"suit\"},\n                 {source: \"Ericsson\", target: \"ZTE\", type: \"suit\"},\n                 {source: \"Kodak\", target: \"Samsung\", type: \"resolved\"},\n                 {source: \"Apple\", target: \"Samsung\", type: \"suit\"},\n                 {source: \"Kodak\", target: \"RIM\", type: \"suit\"},\n                 {source: \"Nokia\", target: \"Qualcomm\", type: \"suit\"}\n                 ];\n\n   var path = svg.append(\"g\").selectAll(\"path\"),\n       circle = svg.append(\"g\").selectAll(\"circle\"),\n       text = svg.append(\"g\").selectAll(\"text\"),\n       marker = svg.append(\"defs\").selectAll(\"marker\");\n\n   var nodes = {};\n\n   update(dataset);\n\n   function newData()\n   {\n        var newDataset = [\n                    {source: \"Microsoft\", target: \"Amazon\", type: \"licensing\"},\n                    {source: \"Microsoft\", target: \"HTC\", type: \"licensing\"},\n                    {source: \"Samsung\", target: \"Apple\", type: \"suit\"},\n                    ];\n\n        update(newDataset);\n   }\n\n   function update(links)\n   {\n        // Compute the distinct nodes from the links.\n        links.forEach(function(link)\n        {\n            link.source = nodes[link.source] || (nodes[link.source] = {name: link.source});\n            link.target = nodes[link.target] || (nodes[link.target] = {name: link.target});\n        });\n\n        force\n            .nodes(d3.values(nodes))\n            .links(links)\n            .start();\n\n        // -------------------------------\n\n        // Compute the data join. This returns the update selection.\n        marker = marker.data([\"suit\", \"licensing\", \"resolved\"]);\n\n        // Remove any outgoing/old markers.\n        marker.exit().remove();\n\n        // Compute new attributes for entering and updating markers.\n        marker.enter().append(\"marker\")\n           .attr(\"id\", function(d) { return d; })\n           .attr(\"viewBox\", \"0 -5 10 10\")\n           .attr(\"refX\", 15)\n           .attr(\"refY\", -1.5)\n           .attr(\"markerWidth\", 6)\n           .attr(\"markerHeight\", 6)\n           .attr(\"orient\", \"auto\")\n           .append(\"line\") // use \".append(\"path\") for 'arrows'\n           .attr(\"d\", \"M0,-5L10,0L0,5\");\n\n        // -------------------------------\n\n        // Compute the data join. This returns the update selection.\n        path = path.data(force.links());\n\n        // Remove any outgoing/old paths.\n        path.exit().remove();\n\n        // Compute new attributes for entering and updating paths.\n        path.enter().append(\"path\")\n           .attr(\"class\", function(d) { return \"link \" + d.type; })\n           .attr(\"marker-end\", function(d) { return \"url(#\" + d.type + \")\"; });\n\n        // -------------------------------\n\n        // Compute the data join. This returns the update selection.\n        circle = circle.data(force.nodes());\n\n        // Add any incoming circles.\n        circle.enter().append(\"circle\");\n\n        // Remove any outgoing/old circles.\n        circle.exit().remove();\n\n        // Compute new attributes for entering and updating circles.\n        circle\n           .attr(\"r\", 6)\n           .call(force.drag);\n\n        // -------------------------------\n\n        // Compute the data join. This returns the update selection.\n        text = text.data(force.nodes());\n\n        // Add any incoming texts.\n        text.enter().append(\"text\");\n\n        // Remove any outgoing/old texts.\n        text.exit().remove();\n\n        // Compute new attributes for entering and updating texts.\n        text\n           .attr(\"x\", 8)\n           .attr(\"y\", \".31em\")\n           .text(function(d) { return d.name; });\n    }\n\n    // Use elliptical arc path segments to doubly-encode directionality.\n    function tick()\n    {\n       path.attr(\"d\", linkArc);\n       circle.attr(\"transform\", transform);\n       text.attr(\"transform\", transform);\n    }\n\n    function linkArc(d)\n    {\n       var dx = d.target.x - d.source.x,\n           dy = d.target.y - d.source.y,\n           dr = Math.sqrt(dx * dx + dy * dy);\n       return \"M\" + d.source.x + \",\" + d.source.y + \"A\" + dr + \",\" + dr + \" 0 0,1 \" + d.target.x + \",\" + d.target.y;\n    }\n\n    function transform(d)\n    {\n       return \"translate(\" + d.x + \",\" + d.y + \")\";\n    }\n\n    &lt;/script&gt;\n</code></pre>\n\n<p>A JSFiddle of my code can be found here: <a href=\"http://jsfiddle.net/5m8a9/\" rel=\"nofollow\">http://jsfiddle.net/5m8a9/</a></p>\n\n<p>After pressing the \"Update\" button I want to update my graph dynamically. So far so good, the problem is, that <strong>ONLY the paths will be updated but not the circles or the texts</strong> (some circles and the corresponding texts still remain and will not be removed) as you can see at my JSFiddle link.\nI tried to figure out the problem for the last couple of days without success.</p>\n\n<p>What am I missing and how can I make my code work as aspected?</p>\n\n<p>If anyone can help I would be eternally grateful.</p>\n\n<p><em><strong>Edited to add final solution as @AmeliaBR provided:</em></strong></p>\n\n<p>Here is the hole code to my final solution:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;style&gt;\n\n.link {\n    fill: none;\n    stroke: #666;\n    stroke-width: 1.5px;\n}\n\n#licensing {\n    fill: green;\n}\n\n.link.licensing {\n    stroke: green;\n}\n\n.link.resolved {\n    stroke-dasharray: 0,2 1;\n}\n\ncircle {\n    fill: #ccc;\n    stroke: #333;\n    stroke-width: 1.5px;\n}\n\ntext {\n    font: 10px sans-serif;\n    pointer-events: none;\n    text-shadow: 0 1px 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, -1px 0 0 #fff;\n}\n\n    &lt;/style&gt;\n&lt;body&gt;\n    &lt;!-- add an update button --&gt;\n    &lt;div id=\"update\"&gt;\n        &lt;input name=\"updateButton\" type=\"button\" value=\"Update\" onclick=\"newData()\"/&gt;\n    &lt;/div&gt;\n    &lt;script src=\"http://d3js.org/d3.v3.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n\n    var width = 960,\n        height = 500;\n\n    var force = d3.layout.force()\n        .size([width, height])\n        .linkDistance(60)\n        .charge(-300)\n        .on(\"tick\", tick);\n\n    var svg = d3.select(\"body\").append(\"svg\")\n        .attr(\"width\", width)\n        .attr(\"height\", height)\n        .style(\"border\", \"1px solid black\");\n\n    var dataset = [\n                   {source: \"Microsoft\", target: \"Amazon\", type: \"licensing\"},\n                   {source: \"Microsoft\", target: \"HTC\", type: \"licensing\"},\n                   {source: \"Samsung\", target: \"Apple\", type: \"suit\"},\n                   {source: \"Motorola\", target: \"Apple\", type: \"suit\"},\n                   {source: \"Nokia\", target: \"Apple\", type: \"resolved\"},\n                   {source: \"HTC\", target: \"Apple\", type: \"suit\"},\n                   {source: \"Kodak\", target: \"Apple\", type: \"suit\"},\n                   {source: \"Microsoft\", target: \"Barnes &amp; Noble\", type: \"suit\"},\n                   {source: \"Microsoft\", target: \"Foxconn\", type: \"suit\"},\n                   {source: \"Oracle\", target: \"Google\", type: \"suit\"},\n                   {source: \"Apple\", target: \"HTC\", type: \"suit\"},\n                   {source: \"Microsoft\", target: \"Inventec\", type: \"suit\"},\n                   {source: \"Samsung\", target: \"Kodak\", type: \"resolved\"},\n                   {source: \"LG\", target: \"Kodak\", type: \"resolved\"},\n                   {source: \"RIM\", target: \"Kodak\", type: \"suit\"},\n                   {source: \"Sony\", target: \"LG\", type: \"suit\"},\n                   {source: \"Kodak\", target: \"LG\", type: \"resolved\"},\n                   {source: \"Apple\", target: \"Nokia\", type: \"resolved\"},\n                   {source: \"Qualcomm\", target: \"Nokia\", type: \"resolved\"},\n                   {source: \"Apple\", target: \"Motorola\", type: \"suit\"},\n                   {source: \"Microsoft\", target: \"Motorola\", type: \"suit\"},\n                   {source: \"Motorola\", target: \"Microsoft\", type: \"suit\"},\n                   {source: \"Huawei\", target: \"ZTE\", type: \"suit\"},\n                   {source: \"Ericsson\", target: \"ZTE\", type: \"suit\"},\n                   {source: \"Kodak\", target: \"Samsung\", type: \"resolved\"},\n                   {source: \"Apple\", target: \"Samsung\", type: \"suit\"},\n                   {source: \"Kodak\", target: \"RIM\", type: \"suit\"},\n                   {source: \"Nokia\", target: \"Qualcomm\", type: \"suit\"}\n                   ];\n\n    var path = svg.append(\"g\").selectAll(\"path\"),\n    circle = svg.append(\"g\").selectAll(\"circle\"),\n    text = svg.append(\"g\").selectAll(\"text\"),\n    marker = svg.append(\"defs\").selectAll(\"marker\");\n\n    var nodes = {};\n\n    update(dataset);\n\n    function newData()\n    {\n        var newDataset = [\n                         {source: \"Microsoft\", target: \"Amazon\", type: \"licensing\"},\n                         {source: \"Microsoft\", target: \"HTC\", type: \"licensing\"},\n                         {source: \"Samsung\", target: \"Apple\", type: \"suit\"},\n                         ];\n\n        update(newDataset);\n    }\n\n    function update(links)\n    {\n        d3.values(nodes).forEach(function(aNode){ aNode.linkCount = 0;});\n            // Reset the link count for all existing nodes by\n            // creating an array out of the nodes list, and then calling a function\n            // on each node to set the linkCount property to zero.\n\n        // Compute the distinct nodes from the links.\n        links.forEach(function(link)\n        {\n            link.source = nodes[link.source] || (nodes[link.source] = {name: link.source, linkCount:0});    // initialize new nodes with zero links\n            link.source.linkCount++;\n                // record this link on the source node, whether it was just initialized\n                // or already in the list, by incrementing the linkCount property\n                // (remember, link.source is just a reference to the node object in the\n                // nodes array, when you change its properties you change the node itself.)\n\n            link.target = nodes[link.target] || (nodes[link.target] = {name: link.target, linkCount:0});    // initialize new nodes with zero links\n\n            link.target.linkCount++;\n        });\n\n        d3.keys(nodes).forEach(\n            // create an array of all the current keys(names) in the node list,\n            // and then for each one:\n\n            function (nodeKey)\n            {\n                if (!nodes[nodeKey].linkCount)\n                {\n                    // find the node that matches that key, and check it's linkCount value\n                    // if the value is zero (false in Javascript), then the ! (NOT) operator\n                    // will reverse that to make the if-statement return true,\n                    // and the following will execute:\n\n                    delete(nodes[nodeKey]);\n                        //this deletes the object AND its key from the nodes array\n                 }\n             }\n         );\n\n        force\n            .nodes(d3.values(nodes))\n            .links(links)\n            .start();\n\n        // -------------------------------\n\n        // Compute the data join. This returns the update selection.\n        marker = marker.data([\"suit\", \"licensing\", \"resolved\"]);\n\n        // Remove any outgoing/old markers.\n        marker.exit().remove();\n\n        // Compute new attributes for entering and updating markers.\n        marker.enter().append(\"marker\")\n            .attr(\"id\", function(d) { return d; })\n            .attr(\"viewBox\", \"0 -5 10 10\")\n            .attr(\"refX\", 15)\n            .attr(\"refY\", -1.5)\n            .attr(\"markerWidth\", 6)\n            .attr(\"markerHeight\", 6)\n            .attr(\"orient\", \"auto\")\n            .append(\"line\") // use \".append(\"path\") for 'arrows'\n            .attr(\"d\", \"M0,-5L10,0L0,5\");\n\n        // -------------------------------\n\n        // Compute the data join. This returns the update selection.\n        path = path.data(force.links());\n\n        // Remove any outgoing/old paths.\n        path.exit().remove();\n\n        // Compute new attributes for entering and updating paths.\n        path.enter().append(\"path\")\n            .attr(\"class\", function(d) { return \"link \" + d.type; })\n            .attr(\"marker-end\", function(d) { return \"url(#\" + d.type + \")\"; });\n\n        // -------------------------------\n\n        // Compute the data join. This returns the update selection.\n        circle = circle.data(force.nodes());\n\n        // Add any incoming circles.\n        circle.enter().append(\"circle\");\n\n        // Remove any outgoing/old circles.\n        circle.exit().remove();\n\n        // Compute new attributes for entering and updating circles.\n        circle\n            .attr(\"r\", 6)\n            .call(force.drag);\n\n        // -------------------------------\n\n        // Compute the data join. This returns the update selection.\n        text = text.data(force.nodes());\n\n        // Add any incoming texts.\n        text.enter().append(\"text\");\n\n        // Remove any outgoing/old texts.\n        text.exit().remove();\n\n        // Compute new attributes for entering and updating texts.\n        text\n            .attr(\"x\", 8)\n            .attr(\"y\", \".31em\")\n            .text(function(d) { return d.name; });\n    }\n\n    // Use elliptical arc path segments to doubly-encode directionality.\n    function tick()\n    {\n        path.attr(\"d\", linkArc);\n        circle.attr(\"transform\", transform);\n        text.attr(\"transform\", transform);\n    }\n\n    function linkArc(d)\n    {\n        var dx = d.target.x - d.source.x,\n            dy = d.target.y - d.source.y,\n            dr = Math.sqrt(dx * dx + dy * dy);\n        return \"M\" + d.source.x + \",\" + d.source.y + \"A\" + dr + \",\" + dr + \" 0 0,1 \" + d.target.x + \",\" + d.target.y;\n    }\n\n    function transform(d)\n    {\n        return \"translate(\" + d.x + \",\" + d.y + \")\";\n    }\n\n    &lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1402402432,
            "question_id": 21070899,
            "score": 5,
            "tags": [
                "javascript",
                "graph",
                "d3.js",
                "force-layout"
            ],
            "title": "d3.js: How to remove nodes when link-data updates in a force layout"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yes you have to do all the extra footwork.</p>\n\n<p><code>toBlob</code> support in Chrome and FF is <em>very</em> recent, even though its been in the spec for several years. Recent enough that it wasn't even on the radar when MS made IE9 and 10.</p>\n\n<p>Unfortunately MS has no intent of changing IE9 or IE10 canvas implementations, which means they will exist as they are for all eternity, with bugs and missing pieces. (IE10 canvas has several bugs that IE9 does not, that are fixed again in IE11. <a href=\"https://connect.microsoft.com/IE/feedback/details/782736/canvas-clearrect-fails-with-non-rectangular-yet-simple-clipping-paths\" rel=\"nofollow\">Like this gem.</a> It's a real shamble.)</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I'm trying to find a clean and consistent approach for downloading the contents of a canvas as an image file.</p>\n\n<p>For Chrome or Firefox, I can do the following</p>\n\n<pre><code>// Convert the canvas to a base64 string\nvar image = canvas.toDataURL();\nimage = image.replace(/^data:[a-z]*;/, 'data:application/octet-stream;');\n\n// use the base64 string as the 'href' attribute \nvar download = $('&lt;a download=\"' + filename + '\" target=\"_blank\" href=\"' + image + '\"&gt;');\n</code></pre>\n\n<p>Since the above doesn't work in IE, I'm trying to build a Blob with the 'window.navigator.msSaveOrOpenBlob' function. </p>\n\n<pre><code>var image = canvas.toDataURL();\nimage = image.replace(/^data:[a-z]*;,/, '');\n\n// Convert from base64 to an ArrayBuffer\nvar byteString = atob(image);\nvar buffer = new ArrayBuffer(byteString.length);\nvar intArray = new Uint8Array(buffer);\nfor (var i = 0; i &lt; byteString.length; i++) {\n    intArray[i] = byteString.charCodeAt(i);\n}\n\n// Use the native blob constructor\nblob = new Blob([buffer], {type: \"image/png\"});\n\n// Download this blob\nwindow.navigator.msSaveOrOpenBlob(blob, \"test.png\");\n</code></pre>\n\n<p>In the example above, do I really have to convert a canvas to base64, base64 to ArrayBuffer, and finally convert from base64 to blob? (Firefox has a 'canvas.toBlob' function, but again that's not available in IE). Also, this only works in IE10, not IE9.</p>\n\n<p>Does anyone have any suggestions for a solution that will work in Chrome, Safari, Firefox, IE9, and IE10?</p>\n",
            "last_activity_date": 1383364774,
            "question_id": 19736726,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "internet-explorer",
                "canvas"
            ],
            "title": "HTML canvas to blob to downloadable file in IE9, 10"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You should check out the docs for the <a href=\"http://code.angularjs.org/1.2.0-rc.3/docs/api/ng.directive%3angModel.NgModelController\"><code>NgModelController</code></a>.  It will answer your question.  For further explanation, here's the gist:</p>\n\n<p>You can capture a fourth argument to the <code>link:</code> function, which is your <code>ng-model</code> value.  You use that object to read and set the model.</p>\n\n<pre><code>link: function(scope, element, attrs, ngModel) {\n    if(!ngModel) return; // do nothing if no ng-model\n\n    // Specify how UI should be updated\n    ngModel.$render = function() {\n      element.html(ngModel.$viewValue || '');\n    };\n\n    // Listen for change events to enable binding\n    element.on('blur keyup change', function() {\n      scope.$apply(read);\n    });\n    read(); // initialize\n\n    // Write data to the model\n    function read() {\n      var html = element.html();\n      // When we clear the content editable the browser leaves a &lt;br&gt; behind\n      // If strip-br attribute is provided then we strip this out\n      if( attrs.stripBr &amp;&amp; html == '&lt;br&gt;' ) {\n        html = '';\n      }\n      ngModel.$setViewValue(html);\n    }\n}\n</code></pre>\n\n<p>Hope that helps.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I was able to accomplish the goal by using a template function.  I think it doesn't work in the link function because it occurs after all of the directives have been collected, so the compiler doesn't recognize that an <code>ngModel</code> directive has been added.  I'm not sure why it doesn't work in the compile function, though (even if I set the priority to 100).</p>\n\n<p>Here's the working version of the directive:</p>\n\n<pre><code>angular.module('myModule').\n  directive('myDirective', function() {\n    return {\n      replace: true,\n      template: function(elem, attr) {\n        var newElem = '&lt;input ng-model=\"model.' + attr.name + '\"&gt;';\n        return newElem;\n      }\n    };\n  });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I am trying to create a directive that will add an ngModel attribute to a tag based on the attribute value.  For example:</p>\n\n<pre><code>angular.module('myModule').\n  directive('myDirective', function() {\n    return {\n      link: function(scope, elem, attrs) {\n        var modelName = 'myPrefix.' + attrs.name;\n        attrs.$set('ngModel', modelName);\n      }\n    };\n  });\n</code></pre>\n\n<p>So that this html:</p>\n\n<pre><code>&lt;input name=\"foo\" my-directive&gt;&lt;/input&gt;\n</code></pre>\n\n<p>is compiled into</p>\n\n<pre><code>&lt;input name=\"foo\" ng-model=\"myPrefix.foo\" my-directive&gt;&lt;/input&gt;\n</code></pre>\n\n<p>It takes the name of the input, attaches a prefix, and sets the ngModel attribute to that value.</p>\n\n<p>When I try to do this in the link function, it seems like the <code>input</code> isn't being registered with the formController, so that <code>form.foo</code> returns undefined.</p>\n\n<p>Is it possible to accomplish what I'm trying to do?</p>\n\n<p>EDIT:</p>\n\n<p>It seems like the <code>ngModel</code> attribute is being set on the HTML, but it is not being registered with the form, or the ngModelController is not being instantiated.  If I look at the value of <code>ngModel</code> in the scope, it does not change when I modify the input.</p>\n",
            "last_activity_date": 1382726664,
            "question_id": 19578554,
            "score": 5,
            "tags": [
                "javascript",
                "angularjs",
                "angularjs-directive"
            ],
            "title": "AngularJS - Is it possible to change the value of ngModel attribute on directive in link or compile?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Best Practice is to first check the domain of the incoming request and then generate the response header. Depending on whether this domain is allowed to send requests, you add it (just this one) to the <code>Access-Control-Allow-Origin</code> response header.</p>\n\n<p>Afaik, it is not even possible to add more than one domain to this header. So it's either <code>*</code> or one specific domain and I would always prefer not to add <code>*</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can send more than one, like:</p>\n\n<pre><code>Access-Control-Allow-Origin: http://my.domain.com https://my.domain.com http://my.otherdomain.com\n</code></pre>\n\n<p>but I would advise against it. Instead, keep a whitelist of allowed domains. Lets say:</p>\n\n<pre><code>allowed = [ \"X\", \"Y\", \"A.Z\" ];\n</code></pre>\n\n<p>Then if you get a request from <code>X</code> you respond with:</p>\n\n<pre><code>Access-Control-Allow-Origin: X\n</code></pre>\n\n<p>If you get a request from <code>A.Z</code> you respond with:</p>\n\n<pre><code>Access-Control-Allow-Origin: A.Z\n</code></pre>\n\n<p>If you get a request from a domain that is not allowed, respond with an error or no CORS policy.</p>\n\n<p>All XHR requests will send an <code>Origin</code> header, so use that. And you only need to send the CORS policy headers for the <code>OPTIONS</code> request, not the <code>GET/POST/HEAD</code> request that follows.</p>\n\n<hr>\n\n<p>The main issue I see is that you expose all your domains. Maybe you have a secure admin domain like: <code>https://admin.mydomain.com</code>, or maybe you have a product website that isn't ready for launch yet. You don't want to include anything that isn't absolutely necessary for the request at hand.</p>\n\n<p>And <code>*</code> is just extremely lazy.</p>\n\n<hr>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>CORS is about getting content back, not just making the request. When you get a resource through an img or script tag, you can trick someone's browser into making a CSRF style request. This is normal, and you can protect against that with a normal CSRF token.</p>\n\n<p>With CORS enabled on all domains, you can now have javascript on an attacking site make a request and get back the content, invading their privacy.</p>\n\n<p>Example:</p>\n\n<p>Imagine your back enables CORS for all domains. Now I make a website that makes a request to yourimaginarybank.com/balance</p>\n\n<p>An IMG request would do nothing, because my javascript can't get what was in the html of that page on your bank's website. Now that they have turned on CORS, the javascript on my site actually gets back an HTML page with your balance on it, and saves it to my server. Not only can I make a GET request like before, but now I can see what is inside. This is a huge security problem.</p>\n\n<p>How to solve the problem without adding a big list into your headers? Each CORS request is made with the Origin header. The best solution is probably to read the Origin header then query a database to see if it is whitelisted as suggested by Fritz in his answer.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Cross-Site Request Forgery attacks are far and away the primary concern that Access-Control-Allow-Origin addresses.</p>\n\n<p>Ryan is certainly correct regarding content retrieval. However, on the subject of making the request there is more to say here. Many web sites now provide RESTful web services that expose a wide range of features that may involve making significant changes in the backend. Very often, these RESTful services are intended to be invoked with an XHR (e.g. AJAX) request (probably with a \"<a href=\"http://en.wikipedia.org/wiki/Single-page_application\" rel=\"nofollow\">Single Page Application</a>\" as the front-end). If a user has an active session granting access to these services when they visit a malicious third-party site, that site may try to invoke those REST endpoints behind the scenes, passing in values that could compromise the user or the site. Depending on how the REST services are defined, there are various ways to protect against this.</p>\n\n<p>In the specific case of REST web services for a Single Page App, you can dictate that all requests to the backend REST endpoints are made with XHR and refuse any non-XHR request. You can dictate this by checking for the presence of a custom request header (something like jQuery's X-Requested-With). Only XHR-type requests can set these headers; simple GET and POST requests from forms and embedded resources cannot. Finally, the reason that we want to dictate XHR requests gets us back to the original question - XHR requests are subject to CORS rules. </p>\n\n<p>If you allowed Access-Control-Allow-Origin: *, then any site could make any AJAX request on the user's behalf to your REST endpoints. If your REST endpoints involve any kind of sensitive data or allow for data persistence, then this is an unacceptable security vulnerability. Instead, enforce XHR-only requests like I described and define a whitelist of origins allowed to make those requests.</p>\n\n<p>It's worth pointing out that if your REST endpoints do not expose any sensitive information, or if they don't allow the user to make any persistent data changes, then Access-Control-Allow-Origin:* may be the appropriate decision. Google Maps for instance provides read-only views into public map data; there is no reason to restrict the third party sites that may wish to invoke those services.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>It is said that instead of adding all domains to <a href=\"http://en.wikipedia.org/wiki/Cross-origin_resource_sharing\">CORS</a>, one should only add a set of domains.\nYet it is sometimes not trivial to add a set of domains. E.g. if I want to publicly expose an API then for every domain that wants to make a call to that API I would need to be contacted to add that domain to the list of allowed domains.</p>\n\n<p>I'd like to make a conscious trade off decision between security implications and less work.</p>\n\n<p>The only security issues I see are <a href=\"http://en.wikipedia.org/wiki/Denial-of-service_attack\">DoS attacks</a> and <a href=\"http://en.wikipedia.org/wiki/Cross-Site_Request_Forgery\">CSRF</a> attacks.\nCSRF attacks can already be achieved with IMG elements and FORM elements.\nDoS attacks related to CORS can be overcome by blocking requests upon the referrer header. </p>\n\n<p>Am I missing security implications?</p>\n\n<p><br></p>\n\n<p>===Edit=== </p>\n\n<ul>\n<li>It is assumed that the <code>Access-Control-Allow-Credentials</code> Header is not set</li>\n<li>I know how to add a given list of domains \"CORS access\" and I'm therefore only interested in the security implications of adding all domains \"CORS access\"</li>\n</ul>\n",
            "last_activity_date": 1400757266,
            "question_id": 19322973,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "security",
                "cors",
                "denial-of-service"
            ],
            "title": "Security implications of adding all domains to CORS (Access-Control-Allow-Origin: *)"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<h1>Cause</h1>\n\n<p>The problem is that seeking video (setting it's <code>currentTime</code>) is asynchronous.</p>\n\n<p>You need to listen to the <code>seeked</code> event or else it will take the actual current frame which is your old value.</p>\n\n<p>As it is asynchronous you must not use the <code>setInterval</code> as it is asynchronous too and you will not be able to properly synchronize when the next frame is seeked to. There is no need to use <code>setInterval</code> as we will utilize the <code>seeked</code> event instead which will keep everything is sync.</p>\n\n<h1>Solution</h1>\n\n<p>By re-writing the code a little you can use the <code>seeked</code> event to go through the video to capture the correct frame as this event ensures us that we are actually at the frame we requested by setting the <code>currentTime</code> property.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>/// this must be global (or bound to a unique object/instance) so it\n/// is available for all event handlers\nvar i = 0;\n\nvideo.addEventListener('loadeddata', function() {\n\n    video.currentTime = i;\n\n}, false);\n</code></pre>\n\n<p>Add this event handler to the party:</p>\n\n<pre><code>video.addEventListener('seeked', function() {\n\n    /// now video has seeked and current frames will show\n    /// at the time as we expect\n    generateThumbnail(i);\n\n    /// when frame is captured, increase\n    i += 5;\n\n    /// if we are not passed end, seek to next interval\n    if (i &lt;= video.duration) {\n        /// this will trigger another seeked event\n        video.currentTime = i;\n\n    } else {\n        /// DONE!, next action\n    }\n\n}, false);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I want to capture a frame from video every 5 seconds. </p>\n\n<p>This is my javascript code</p>\n\n<pre><code>video.addEventListener('loadeddata', function() {\n    var duration = video.duration;\n    var i = 0;\n\n    var interval = setInterval(function() {\n        video.currentTime = i;\n        generateThumbnail(i);\n        i = i+5;\n        if (i &gt; duration) clearInterval(interval);\n    }, 300);\n});\n\nfunction generateThumbnail(i) {     \n    //generate thumbnail URL data\n    var context = thecanvas.getContext('2d');\n    context.drawImage(video, 0, 0, 220, 150);\n    var dataURL = thecanvas.toDataURL();\n\n    //create img\n    var img = document.createElement('img');\n    img.setAttribute('src', dataURL);\n\n    //append img in container div\n    document.getElementById('thumbnailContainer').appendChild(img);\n}\n</code></pre>\n\n<p>The problem I have is the 1st two images generated are the same and the duration-5 second image is not generated. I found out that the thumbnail is generated before the video frame of the specific time is displayed in &lt; video> tag. </p>\n\n<p>For example, when video.currentTime = 5, image of frame 0s is generated. Then the video frame jump to time 5s. So when video.currentTime = 10, image of frame 5s is generated.</p>\n",
            "last_activity_date": 1380873386,
            "question_id": 19175174,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "video",
                "html5-canvas"
            ],
            "title": "Capture frames from video html5 and javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Add a custom validator:</p>\n\n<pre><code>jQuery.validator.addMethod(\"zipcode\", function(value, element) {\n  return this.optional(element) || /^\\d{5}(?:-\\d{4})?$/.test(value);\n}, \"Please provide a valid zipcode.\");\n</code></pre>\n\n<p>_If you want to accept spaces<sup>1</sup> between zipcode, use <code>/^\\d{5}(?:[\\s-]\\d{4})?$/</code> for the pattern instead.</p>\n\n<p>then specify it in your options:</p>\n\n<pre><code>rules: {\n  ...\n  'Address.PostalCode': {\n    ...\n    zipcode: true,\n    ...\n  },\n  ...\n}\n</code></pre>\n\n<p>Note that the extension library <a href=\"http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/additional-methods.js\">additional-methods.js</a> has a <code>zipcodeUS</code> validator as well (but unless you're using any of the other ones it may not make sense to include it).</p>\n\n<hr>\n\n<p><sup>1</sup> According to the spec, properly formatted zip codes consist of five (5) numbers or five (5) numbers follower by a hyphen (-) and four (4) additional numbers. A space shouldn't <em>technically</em> be acceptable, but I'll provide the pattern regardless.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>You can define a custom validator:</p>\n\n<pre><code>jQuery.validator.addMethod('zipcode', function(value, element) {\n  return this.optional(element) || !!value.trim().match(/^\\d{5}(?:[-\\s]\\d{4})?$/);\n}, 'Invalid zip code');\n</code></pre>\n\n<p>Then use it like this</p>\n\n<pre><code>&lt;input class=\"zipcode\"/&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Simply include <a href=\"http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/additional-methods.js\">the <code>additional-methods.js</code> file</a> and use the <code>zipcodeUS</code> rule.</p>\n\n<pre><code>$(\"#locationSetup\").validate({\n    rules: {\n        // rules,\n        'Address.PostalCode': {\n            required: true,\n            zipcodeUS: true // &lt;-- use it like this\n        }\n    },\n....\n</code></pre>\n\n<p>If you don't want to include the <code>additional-methods.js</code> file, you can copy the following method into your code...</p>\n\n<pre><code>jQuery.validator.addMethod(\"zipcodeUS\", function(value, element) {\n    return this.optional(element) || /\\d{5}-\\d{4}$|^\\d{5}$/.test(value)\n}, \"The specified US ZIP Code is invalid\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Zip code validation routines are provide in additional-methods.js but I would question why you ask for country information if you are going to invalidate the form for any country other than the US? Please remember that only about 5% of the worlds population uses a US zipcode. I would recommend you make you postcode validation routines dependent on the country actually selected by the user. </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using the <a href=\"http://jqueryvalidation.org/\">jQuery Validation plugin</a> for validating my form.</p>\n\n<p>I want to validate the zip code as per US ZIPCode format :-</p>\n\n<pre><code>&gt; 12345\n&gt; 12345-6789\n&gt; 12345 6789\n</code></pre>\n\n<p>As per my curent code its validating the zipcode should be maximum 5 and all numeric.</p>\n\n<p>Please see the code below:</p>\n\n<pre><code>    &lt;script src=\"~/Scripts/js/jquery.validate.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n\n    $().ready(function () {\n\n        // validate signup form on keyup and submit\n        $(\"#locationSetup\").validate({\n            rules: {\n                'Address.AddressStreet': \"required\",\n                'Address.City': \"required\",\n                'Address.State.Country.CountryIsoCode': \"required\",\n                'Address.State.SubnationalIsoCode': \"required\",\n                'Address.PostalCode': {\n                    required: true,\n                    minlength: 5,\n                    maxlength: 5,\n                    digits: true\n                }\n            },\n            messages: {\n                'Address.AddressStreet': \"Please enter your Street Address!\",\n                'Address.City': \"Please select your City!\",\n                'Address.State.Country.CountryIsoCode': \"Please  select your Country!\",\n                'Address.State.SubnationalIsoCode': \"Please  select your State!\",\n                'Address.PostalCode': {\n                    required: \"Please enter your Postal Code!\",\n                    minlength: \"Your Postal Code must be 5 numbers!\",\n                    maxlength: \"Your Postal Code must be 5 numbers!\",\n                    digits: \"Your Postal Code must be 5 numbers!\"\n                }\n            }\n        });\n\n    });\n&lt;/script&gt;\n\n@using (Html.BeginForm(Model.Step.ToString(), \"Provision\", FormMethod.Post, new Dictionary&lt;string, object&gt; { { \"id\", \"locationSetup\" } }))\n\n&lt;table width=\"100%\" id=\"locInfo\"&gt;\n            &lt;colgroup&gt;\n                &lt;col width=\"30%\" /&gt;\n                &lt;col /&gt;\n            &lt;/colgroup&gt;\n            &lt;tr&gt;\n                &lt;th&gt;&lt;label&gt;@AddressResource.COUNTRY_LABEL_TEXT:&lt;/label&gt; &lt;span class=\"redtext\"&gt;(Required)&lt;/span&gt;&lt;/th&gt;\n                &lt;td&gt;\n                   @* @Html.HiddenFor(m =&gt; m.Address.State.Country.CountryIsoCode)*@\n                   @Html.DropDownListFor(m =&gt; m.Address.State.Country.CountryIsoCode, ProvisioningHubProxy.GetCountriesList(),\n                                htmlAttributes: new { @id = \"Countries\", @name = \"Countries\" })\n                &lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;th&gt; &lt;label&gt;@AddressResource.STATES_LABEL_TEXT:&lt;/label&gt;&lt;span class=\"redtext\"&gt;(Required)&lt;/span&gt;&lt;/th&gt;\n                &lt;td&gt; @Html.DropDownListFor(m =&gt; m.Address.State.SubnationalIsoCode, ProvisioningHubProxy.GetStatesList(),\n                                htmlAttributes: new { @id = \"States\", @name = \"States\" })&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;th&gt;&lt;label&gt;@AddressResource.CITY_LABEL_LABEL_TEXT:&lt;/label&gt;&lt;span class=\"redtext\"&gt;(Required)&lt;/span&gt;&lt;/th&gt;\n                &lt;td&gt; @Html.TextBoxFor(m =&gt; m.Address.City, htmlAttributes: new { @name = \"City\", @id = \"City\" })&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;th&gt; &lt;label&gt;@AddressResource.STREET_NAME_LABEL_TEXT:&lt;/label&gt;&lt;span class=\"redtext\"&gt;(Required)&lt;/span&gt;&lt;/th&gt;\n                &lt;td&gt;@Html.TextBoxFor(m =&gt; m.Address.AddressStreet, htmlAttributes: new { @name = \"StreetName\", @id = \"StreetName\" })&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;th&gt;&lt;label&gt;@AddressResource.US_POSTAL_CODE_LABEL_TEXT:&lt;/label&gt;&lt;span class=\"redtext\"&gt;(Required)&lt;/span&gt;&lt;/th&gt;\n                &lt;td&gt;@Html.TextBoxFor(m =&gt; m.Address.PostalCode, htmlAttributes: new { @name = \"ZipCode\", @id = \"ZipCode\", @required = \"required\" })&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n</code></pre>\n\n<p>}</p>\n\n<p>Please suggest.</p>\n",
            "last_activity_date": 1384621007,
            "question_id": 19011993,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "asp.net-mvc",
                "jquery-validate"
            ],
            "title": "How to validate US ZIP code using jQuery Validation plugin"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><code>$</code> is defined by jQuery, which you probably haven't referenced. A simple way to get it is to add one of the CDN urls to your template HTML:</p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-1.10.1.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>You need to include jQuery: <a href=\"http://learn.jquery.com/about-jquery/how-jquery-works/\" rel=\"nofollow\">http://learn.jquery.com/about-jquery/how-jquery-works/</a></p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;title&gt;Demo&lt;/title&gt;\n    **&lt;script src=\"jquery.js\"&gt;&lt;/script&gt;**\n&lt;/head&gt;\n&lt;body&gt;\n  ...\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I had the Same Problem as that $ is Unidentified, After a long struggle, I come to know that there is some thing HTML coder error in Master Page, <code>So it worked fine when i include the Jquery files directly in Content page</code><img src=\"http://i.stack.imgur.com/IpsiA.png\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have added script in my <strong>Default.aspx</strong> page. I am getting following error.\n<img src=\"http://i.stack.imgur.com/04MXw.png\" alt=\"Error\"></p>\n",
            "last_activity_date": 1398803567,
            "question_id": 17637870,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "asp.net"
            ],
            "title": "Javascript Runtime error: $ is undefined"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Check out the <a href=\"https://developer.paypal.com/webapps/developer/docs/classic/ipn/integration-guide/IPNIntro/\" rel=\"nofollow\">Instant Payment Notification</a> documentation. You can specify a listener (such as a php script) that PayPal will POST the transaction information to after it has been completed, you can then store relevant transaction information yourself.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>They have a TransactionSearch API:</p>\n\n<p><a href=\"https://developer.paypal.com/webapps/developer/docs/classic/api/merchant/TransactionSearch_API_Operation_NVP/\" rel=\"nofollow\">https://developer.paypal.com/webapps/developer/docs/classic/api/merchant/TransactionSearch_API_Operation_NVP/</a></p>\n\n<p>I use mine pull by invoice number to retrieve transaction ids for refunding.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Ok, so I finally was able to develop something that works. The code is posted below with a link to the TransactionSearch API options from PayPal</p>\n\n<p><a href=\"https://developer.paypal.com/webapps/developer/docs/classic/api/merchant/TransactionSearch_API_Operation_NVP/\">https://developer.paypal.com/webapps/developer/docs/classic/api/merchant/TransactionSearch_API_Operation_NVP/</a></p>\n\n<pre><code>&lt;?php \n$info = 'USER=[API_USERNAME]'\n        .'&amp;PWD=[API_PASSWORD]'\n        .'&amp;SIGNATURE=[API_SIGNATURE]'\n        .'&amp;METHOD=TransactionSearch'\n        .'&amp;TRANSACTIONCLASS=RECEIVED'\n        .'&amp;STARTDATE=2013-01-08T05:38:48Z'\n        .'&amp;ENDDATE=2013-07-14T05:38:48Z'\n        .'&amp;VERSION=94';\n\n$curl = curl_init('https://api-3t.paypal.com/nvp');\ncurl_setopt($curl, CURLOPT_FAILONERROR, true);\ncurl_setopt($curl, CURLOPT_FOLLOWLOCATION, true);\ncurl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($curl, CURLOPT_SSL_VERIFYHOST, false);\ncurl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n\ncurl_setopt($curl, CURLOPT_POSTFIELDS,  $info);\ncurl_setopt($curl, CURLOPT_HEADER, 0);\ncurl_setopt($curl, CURLOPT_POST, 1);\n\n$result = curl_exec($curl);\n\n# Bust the string up into an array by the ampersand (&amp;)\n# You could also use parse_str(), but it would most likely limit out\n$result = explode(\"&amp;\", $result);\n\n# Loop through the new array and further bust up each element by the equal sign (=)\n# and then create a new array with the left side of the equal sign as the key and the right side of the equal sign as the value\nforeach($result as $value){\n    $value = explode(\"=\", $value);\n    $temp[$value[0]] = $value[1];\n}\n\n# At the time of writing this code, there were 11 different types of responses that were returned for each record\n# There may only be 10 records returned, but there will be 110 keys in our array which contain all the different pieces of information for each record\n# Now create a 2 dimensional array with all the information for each record together\nfor($i=0; $i&lt;count($temp)/11; $i++){\n    $returned_array[$i] = array(\n        \"timestamp\"         =    urldecode($result[\"L_TIMESTAMP\".$i]),\n        \"timezone\"          =    urldecode($result[\"L_TIMEZONE\".$i]),\n        \"type\"              =    urldecode($result[\"L_TYPE\".$i]),\n        \"email\"             =    urldecode($result[\"L_EMAIL\".$i]),\n        \"name\"              =    urldecode($result[\"L_NAME\".$i]),\n        \"transaction_id\"    =    urldecode($result[\"L_TRANSACTIONID\".$i]),\n        \"status\"            =    urldecode($result[\"L_STATUS\".$i]),\n        \"amt\"               =    urldecode($result[\"L_AMT\".$i]),\n        \"currency_code\"     =    urldecode($result[\"L_CURRENCYCODE\".$i]),\n        \"fee_amount\"        =    urldecode($result[\"L_FEEAMT\".$i]),\n        \"net_amount\"        =    urldecode($result[\"L_NETAMT\".$i]));\n}\n?&gt;\n</code></pre>\n\n<p>Also, I came up with this nifty little, simple script to get more details about a particular transaction:</p>\n\n<p><a href=\"https://developer.paypal.com/webapps/developer/docs/classic/api/merchant/GetTransactionDetails_API_Operation_NVP/\">https://developer.paypal.com/webapps/developer/docs/classic/api/merchant/GetTransactionDetails_API_Operation_NVP/</a></p>\n\n<pre><code>&lt;?php \n$info =  'USER=[API_USERNAME]'\n        .'&amp;PWD=[API_PASSWORD]'\n        .'&amp;SIGNATURE=[API_SIGNATURE]'\n        .'&amp;VERSION=94'\n        .'&amp;METHOD=GetTransactionDetails'\n        .'&amp;TRANSACTIONID=[TRANSACTION_ID]'\n        .'&amp;STARTDATE=2013-07-08T05:38:48Z'\n        .'&amp;ENDDATE=2013-07-12T05:38:48Z';\n\n$curl = curl_init('https://api-3t.paypal.com/nvp');\ncurl_setopt($curl, CURLOPT_FAILONERROR, true);\ncurl_setopt($curl, CURLOPT_FOLLOWLOCATION, true);\ncurl_setopt($curl, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($curl, CURLOPT_SSL_VERIFYHOST, false);\ncurl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false);\n\ncurl_setopt($curl, CURLOPT_POSTFIELDS,  $info);\ncurl_setopt($curl, CURLOPT_HEADER, 0);\ncurl_setopt($curl, CURLOPT_POST, 1);\n\n$result = curl_exec($curl);\n\nparse_str($result, $result);\n\nforeach($result as $key =&gt; $value){\n    echo $key.' =&gt; '.$value.\"&lt;BR&gt;\";\n}\n?&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<pre><code>  &lt;script\n    data-env=\"sandbox\"\n    data-tax=\"0.00\"\n    data-shipping=\"0.00\"\n    data-currency=\"USD\"\n    data-amount=\"0.00\"\n    data-quantity=\"0\"\n    data-name=\"No Item Selected\"\n    data-button=\"buynow\" src=\"https://www.paypalobjects.com/js/external/paypal-button.min.js?merchant=ben4xfer@gmail.com\" async=\"async\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>This is a html element that hooks up to the paypal API to make a transaction when the button is clicked. Do not change the <code>data-button</code>, <code>src</code>, or <code>async</code> properties. Completly remove the <code>data-env</code> node after you are finished testing (the <code>data-env</code> node prevents an actual charge from being made while you are testing). Change all of the other properties according to their names (e.g you would change <code>data-name</code> to \"Visual Studio 2013\" if you were selling Visual Studio 2013). Insert the element as you would any other html element (e.g. <code>&lt;p&gt;</code>).</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Here's the setup:</p>\n\n<p>I have a site setup for a client. The customer:</p>\n\n<ol>\n<li>Visits the site</li>\n<li>Enters in basic information for our records</li>\n<li>Proceeds to PayPal via a \"Buy Now\" button</li>\n<li>Makes the payment through PayPal</li>\n<li>Returns to the site</li>\n</ol>\n\n<p>What I am wanting to know is how do I get a list of all the transactions? I have the PayPal login as well as the API username, password, and signature, but for the life of me I cannot find a single place on the internet that gives an example of how to pull a list of transactions from PayPal either via PHP or jQuery/Javascript/Ajax.</p>\n\n<p>Does anyone have any ideas? examples?</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I was able to develop a solution to this question. See my answer below with code and comments.</p>\n",
            "last_activity_date": 1419892825,
            "question_id": 17618836,
            "score": 5,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "json",
                "paypal"
            ],
            "title": "List of PayPal transactions"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Becase you are calling the method with the global object as the receiver while the method is strictly non-generic and requires exactly an instance of <code>Console</code> as the receiver.</p>\n\n<p>An example of generic method is <code>Array.prototype.push</code>:</p>\n\n<pre><code>   var print = Array.prototype.push;\n   print(3);\n   console.log(window[0]) // 3\n</code></pre>\n\n<p>You can do something like this though:</p>\n\n<pre><code>var print = function() {\n     return console.log.apply( console, arguments );\n};\n</code></pre>\n\n<p>And ES5 provides <code>.bind</code> that also achieves the same as above:</p>\n\n<pre><code>var print = console.log.bind( console );\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>This seems like it should be pretty straightforward:</p>\n\n<pre><code>var print = console.log;\nprint(\"something\"); // Fails with Invalid Calling Object (IE) / Invalid Invocation (Chrome)\n</code></pre>\n\n<p>Why doesn't it work?</p>\n",
            "last_activity_date": 1372426142,
            "question_id": 17365708,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "Why can&#39;t I rename console.log?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>this version, from <a href=\"https://developers.google.com/chrome/whitepapers/storage\" rel=\"nofollow\">https://developers.google.com/chrome/whitepapers/storage</a> seems to at least get further along:</p>\n\n<pre><code>window.webkitStorageInfo.requestQuota(PERSISTENT, 1024*1024, function(grantedBytes) {\n  window.webkitRequestFileSystem(PERSISTENT, grantedBytes, onInitFs, errorHandler); \n}, function(e) {\n  console.log('Error', e); \n});\n</code></pre>\n\n<p>it's window instead of navigator...</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I was having the same issues and someone posted the solution, found at <a href=\"http://stackoverflow.com/a/17227599/1992129\">filesystem-api-not-working-in-chrome-v27-v29</a></p>\n\n<pre><code>navigator.webkitPersistentStorage.requestQuota(1024*1024, \n  function(gB){\n  window.requestFileSystem(PERSISTENT, gB, onInitFs, errorHandler);\n}, function(e){\n  console.log('Error', e);\n})\n</code></pre>\n\n<p>You have to remove the <code>PERSISTENT</code> from <code>navigator.webkitPersistentStorage.requestQuota(...)</code></p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I'm working on a webapp and I'm trying to access directories using the filesystem API. I need to request a quota from the user before accessing the directories according to specification. I should do something like this:</p>\n\n<pre><code>...\nnavigator.webkitPersistentStorage.requestQuota(PERSISTENT, 1024*1024, \nfunction(gB){\n   window.requestFileSystem(PERSISTENT, gB, onInitFs, errorHandler);\n}, function(e){\n   console.log('Error', e);\n})\n...\n</code></pre>\n\n<p>Everytime I do this I get a <code>**TypeError: Type error**</code> message. Please what am I doing wrong? Thanks in advance.\n<br>NB: onInitFs and errorHandler have been defined I just didn't include the code here.</p>\n",
            "last_activity_date": 1393431649,
            "question_id": 17116467,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "html5-filesystem",
                "web-storage"
            ],
            "title": "HTML 5 filesystem access Type Error"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>We don't use Spring security so I am not familiar with all its configuration attributes but if I were you, I would start with looking into browser caching issues. Should be easy to test... (1) force reload of the page after hitting back button, OR (2) after logout, clear out browser cache (not cookies), and then hit the back button. If this results in desired behavior, then next step should be inclusion of HTTP Response Header attributes to control browser caching. </p>\n\n<p>If this is not it, then I wouldn't know what to look for in your Spring security configuration. Hopefully someone else may know the answer.</p>\n\n<p>EDIT: just found another similar question that confirms browser caching issue part - that question's answer contains a mechanism that they used for setting response headers just in case if that helps you - <a href=\"http://stackoverflow.com/questions/5670848/spring-security-logout-back-button?rq=1\">Spring Security Logout Back Button</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Are you rendering the views (JSPs) directly?</p>\n\n<p>If so, add the no-cache directives directly to the JSPs:</p>\n\n<pre><code>&lt;% response.setHeader(\"Cache-Control\", \"no-cache\"); %&gt;\n...\n</code></pre>\n\n<p>Another (preferred) option is to prevent direct access to the JSPs and render them through a controller:</p>\n\n<pre><code>@RequestMapping(value = \"/login\", method = GET)\npublic String renderLoginPage() {\n    return \"login\";\n}\n</code></pre>\n\n<p>with this to resolve the view by name (string returned from the controller method):</p>\n\n<pre><code>&lt;bean\n    id=\"viewResolver\"\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"\n    p:prefix=\"/WEB-INF/views\" p:suffix=\".jsp\"\n/&gt;\n</code></pre>\n\n<p>with <code>/WEB-IBF/views/login.jsp</code> as the view.</p>\n\n<p>Using the <em>latter</em> approach allows you to use the <code>WebContentInterceptor</code> approach for preventing caching nicely.</p>\n\n<p>Also make sure all requests hit the Spring security filter chain.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Use the below code in servlet-context file </p>\n\n<pre><code>    &lt;mvc:interceptors&gt;\n        &lt;bean id=\"webContentInterceptor\" class=\"org.springframework.web.servlet.mvc.WebContentInterceptor\"&gt;\n                &lt;property name=\"cacheSeconds\" value=\"0\"/&gt;\n                &lt;property name=\"useExpiresHeader\" value=\"false\"/&gt;\n                &lt;property name=\"useCacheControlHeader\" value=\"true\"/&gt;\n                &lt;property name=\"useCacheControlNoStore\" value=\"true\"/&gt;\n            &lt;/bean&gt;     \n        &lt;/mvc:interceptors&gt;\n</code></pre>\n\n<p>It will work same as below code in jsp page:</p>\n\n<pre><code>  response.setHeader(\"pragma\", \"no-cache\");              \n  response.setHeader(\"Cache-control\", \"no-cache, no-store, must-revalidate\");             \n  response.setHeader(\"Expires\", \"0\"); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Although I think this is the answer (yet to prove), the other answers are useful (and deserve the upvotes), as well as this.</p>\n\n<p>The solution I think is in the front-end code which instead of using a <em>Spring</em> construct such as MVC which <em>Spring Security filters</em> can manage, we have <em>likely</em> used Spring's <em>Schedulers</em> (see documentation <a href=\"http://docs.spring.io/spring/docs/3.0.x/reference/scheduling.html\" rel=\"nofollow\">here</a>) and in some manner bypass the <em>filter</em> technology that, as I remember, is essential to implementing <em>Spring Security</em>.</p>\n\n<p>I will attempt to post some front-end code that demonstrates the way we call our REST services and proves that we by-pass Spring Security.</p>\n\n<p>Please feel free to contact me should you disagree.</p>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I am unable to prevent the user from being able to navigate the site using the back button  after logging out. Authorised access seems to work otherwise on our site. I've tried the following recommended solutions:</p>\n\n<ul>\n<li>Have tried adding a <code>WebContentInterceptor</code> (as instructed <a href=\"http://stackoverflow.com/questions/4364622/how-to-set-header-no-cache-in-spring-mvc-3-by-annotation\">here</a> )</li>\n<li>Defined my own filter using a combination of <a href=\"http://stackoverflow.com/questions/4194207/prevent-user-from-going-back-to-the-previous-secured-page-after-logout\">this filter question</a> and this answer <a href=\"http://stackoverflow.com/questions/11928637/how-to-write-a-custom-filter-in-spring-security\">about inserting additional filters</a>. <strong>Edit</strong>: seems the filter didn't get used/ executed</li>\n<li>Added <code>RequestMappingHandlerAdapter</code> to set <code>cacheSeconds</code> to 0</li>\n</ul>\n\n<p>What makes it more confusing once they have used the back button we can still navigate around the application.</p>\n\n<p>Other details about our implementation:</p>\n\n<ul>\n<li>Java methods are called using <code>@RequestMapping</code> from JavaScript on a class annotated as <code>@Controller</code> (I.E. t2-metrics.jsp has JS to fire to URL matching request mapping)</li>\n<li>Tried adding <code>security:global-method-security</code> to application context and role annotation to method </li>\n</ul>\n\n<p>Because of the JavaScript calls and existence of Controller annotation I figure we must need an alternative configuration.</p>\n\n<p>We have the following definition in <code>t2-spring-security-context.xml</code>:</p>\n\n<pre><code>&lt;http auto-config=\"true\"&gt;\n    &lt;intercept-url pattern=\"/mobile-index*\" access=\"ROLE_ADMIN\"/&gt;\n    &lt;intercept-url pattern=\"/t2-metrics*\" access=\"ROLE_ADMIN\"/&gt;\n    &lt;intercept-url pattern=\"/t2-monitor*\" access=\"ROLE_ADMIN\"/&gt;\n    &lt;form-login login-page=\"/login.jsp\" authentication-failure-url=\"/loginerror.jsp\"\n                default-target-url=\"/mobile-index.jsp\"/&gt;\n    &lt;logout logout-success-url=\"/login.jsp\" invalidate-session=\"true\"/&gt;\n\n&lt;/http&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Edit:</strong>  <br>\nI added scriptlet to disable caching to the JSP pages and that did nothing. Also, fired up the application in debug within IntelliJ and a debug point within my define filter is not hit. </p>\n\n<p><strong>Edit two (Dec 2013):</strong> <br>\nAs mentioned in the comments I'm not working on this problem <em>but</em> my hunch is that the problem is in the way the front-end code fires calls to Spring REST/Controller components. In some validation, which I think I've mentioned, I'm not hitting the Spring Security filter chain and so far I don't know why.</p>\n\n<p>Apologies again to those seeking help and those who've helped for not closing down the issue.</p>\n",
            "last_activity_date": 1387454779,
            "question_id": 16819660,
            "score": 5,
            "tags": [
                "javascript",
                "spring",
                "spring-mvc",
                "spring-security"
            ],
            "title": "Spring Security, front-end code, and logout and back button - page is not secured after logout and click back"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Getting a stacktrace in JavaScript is quite hard. The best method I've found is to throw an Error, catch it, get the stack from <code>Error.getStack()</code> (not implemented in all browsers, that means you IE.) and formatting the output.</p>\n\n<p>Each stack frame gives you a filepath, line number and function name. Webkit even has support for arguments but that wasn't working yet when I last checked.</p>\n\n<p>Then there is the problem of tracing code across different events.</p>\n\n<p>I actually wrote a blog post about this: <a href=\"http://fritsvancampen.wordpress.com/2013/03/28/error-handling-in-javascript-a-better-way/\" rel=\"nofollow\">http://fritsvancampen.wordpress.com/2013/03/28/error-handling-in-javascript-a-better-way/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use <code>require.resolve(module)</code> to determine the full path of a module:</p>\n\n<pre><code>var path = require.resolve(\"a\");\n\n//or\n\nvar path = require.resolve(\"./a.js\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This is an example how to use stacktrace to find caller file in node</p>\n\n<pre><code>function _getCallerFile() {\n    try {\n        var err = new Error();\n        var callerfile;\n        var currentfile;\n\n        Error.prepareStackTrace = function (err, stack) { return stack; };\n\n        currentfile = err.stack.shift().getFileName();\n\n        while (err.stack.length) {\n            callerfile = err.stack.shift().getFileName();\n\n            if(currentfile !== callerfile) return callerfile;\n        }\n    } catch (err) {}\n    return undefined;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>Not exactly answering the question here\nbut some might appreciate this information.</p>\n\n<p>With NodeJS &amp; Forever(-monitor),\nthe following contains a filename from which the process was started:</p>\n\n<pre><code>process.mainModule.filename\n</code></pre>\n\n<p>Haven't tried many uses\u2122 though.</p>\n\n<p>This seems to be a pretty decent explanation: <a href=\"https://code.google.com/p/v8/wiki/JavaScriptStackTraceApi\" rel=\"nofollow\">https://code.google.com/p/v8/wiki/JavaScriptStackTraceApi</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I wonder how-to get an absolute path of a caller of a function?</p>\n\n<p>Let say that:</p>\n\n<p>in file <code>a.js</code> I call <code>b()</code>; <code>b()</code> is a function defined in file <code>b.js</code>. <code>a.js</code>requires <code>b</code> . So how do I get <code>a.js</code> absolute path from <code>b.js</code> in node?</p>\n",
            "last_activity_date": 1404610386,
            "question_id": 16697791,
            "score": 5,
            "tags": [
                "javascript",
                "node.js"
            ],
            "title": "Nodejs: get filename of caller function"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>AngularJS is meant to work as a client-side framework coupled with (mostly) RESTfull APIs. Your login API isn't supposed to return a HTML, it is supposed to return the <em>instruction to redirect</em>. So in your case you should simply call <code>$location.url('/')</code> in your <code>$http</code> success callback, which would use the Angular router to \"redirect\" to '/' (the root URL).</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I'm using Expressjs as an API and I'm using angular to hit that POST. I would like to respond to the redirect that express is sending. Success from my Angular POST returns a HTML of the page I intend to redirect to but nothing happens on my DOM. I can see that my redirect is working in my network traffic, and that console.log data, below contains the DOM of the redirected page.</p>\n\n<p>How can I refresh the DOM, to reflect this successful POST, or handle the \"redirect\"?</p>\n\n<p>ANGULAR CODE:</p>\n\n<pre><code>   $http({method: 'POST', url: '/login', data:FormData}).\n      success(function(data, status, headers, config) {\n      console.log(data)\n    }).\n      error(function(data, status, headers, config) {\n    });\n\n    $scope.userName = '';\n</code></pre>\n\n<p>Expressjs API:</p>\n\n<pre><code>    app.post('/login', function(req, res){\n\n        var name = req.param('name', null);  // second parameter is default\n    var password = req.param('password', \"changeme\")\n\n    // Lots Authenticationcode\n    // returns succesfful login\n    res.redirect('http://localhost:3000/'); \n\n  }); // end app.post\n</code></pre>\n\n<p>console.log(data)  (from Angular POST success)</p>\n\n<pre><code>returns the HTML of the page I intended to redirect to\n</code></pre>\n",
            "last_activity_date": 1368913538,
            "question_id": 16629057,
            "score": 5,
            "tags": [
                "javascript",
                "redirect",
                "angularjs",
                "express"
            ],
            "title": "Handle an express redirect from Angular POST"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Could fit your needs, sending request one by one should avoid server rejecting some parallel requests:</p>\n\n<p><a href=\"http://jsfiddle.net/yW9w7/\" rel=\"nofollow\">TEST IT</a></p>\n\n<pre><code>$(document).ready(function () {\n    var tot = 30; //to simulate 30 requests\n    (function request(i){\n        if(i === tot) return;\n        $.get('/echo/html/?'+i, function (data) {\n            console.log(\"success\");\n        }).always(function() { request(++i) });\n    })(0);\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>I think your server is taking too long to respond and the browser is timing out. It may be that the browser will only have two open connections to the server and is aborting the last 8/10 when the first two take too long. I would check your server logs to confirm this.</p>\n\n<p>What is the server doing when it sees a request to <code>/i18n/javaScript/pt.json</code>? Four seconds is a long time. Try fetching some static content like an image or some static <a href=\"http://en.wikipedia.org/wiki/HTML\" rel=\"nofollow\">HTML</a> instead of <code>pt.json</code> and see if that fixes the problem.</p>\n\n<p>If you need to do a lot of computation to produce <code>pt.json</code>, can it be cached? Is it very large? Are you using Apache?</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If this is a cache issue then you may try this:</p>\n\n<p>Add the following markup in your page's header. That will prevent the browser from caching any data.</p>\n\n<pre><code>&lt;meta http-equiv=\"cache-control\" content=\"max-age=0\" /&gt;\n&lt;meta http-equiv=\"cache-control\" content=\"no-cache\" /&gt;\n&lt;meta http-equiv=\"expires\" content=\"0\" /&gt;\n&lt;meta http-equiv=\"expires\" content=\"Tue, 01 Jan 1990 12:00:00 GMT\" /&gt;\n</code></pre>\n\n<p>This will disable caching in most of the browsers, and your data will be fetched  on each refresh as there is no cache,</p>\n\n<p>One more thing. Your data is called in loop... I can say it is a continuous  call with same request, so the request might be considered as a duplicate request and may get cancelled by the service; As that might be considered as a flood of requests if the same request is sent again and again...</p>\n\n<p>Try adding something while calling, like this..  </p>\n\n<pre><code>for (var i = 0; i &lt; 10; i++) {\n    $.get('/i18n/javaScript/pt.json?v='+i, function(data) {\n        console.log(data);\n    });\n}\n</code></pre>\n\n<p>And handle the request with something. Try and see if it works..</p>\n\n<p>If calling open() using, as you are using, <a href=\"http://en.wikipedia.org/wiki/JQuery\" rel=\"nofollow\">jQuery</a>, it's built in, and it will have an effect.</p>\n\n<p>Refer an Stack Overflow Old Post <em><a href=\"http://stackoverflow.com/questions/12116641\">How to solve Firebug\u2019s \u201cAborted\u201d messages upon Ajax requests?</a></em>.</p>\n\n<p>I am sure this will give you positive lead towards solution...</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can serialize requests with a global object:</p>\n\n<pre><code>function AjaxRequester() {\n    this.queue = [];\n}\n\nAjaxRequester.prototype.doRequest(request){\n    if (this.queue.length&gt;0){\n        this.queue.push(request)\n    }\n    else \n       handleRequest(request)\n}\n\nAjaxRequester.prototype.handleRequest(request){\n    /* actually handle ajax request, on complete inspect \n       queue and if not empty recall this method on the first\n       element */\n}\n\nrequester = new AjaxRequester();\n</code></pre>\n\n<p>into your code, do</p>\n\n<pre><code>requester.doRequest(yourRequest);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>In my project (<a href=\"http://en.wikipedia.org/wiki/PHP\" rel=\"nofollow\">PHP</a> with <a href=\"http://en.wikipedia.org/wiki/Symfony\" rel=\"nofollow\">Symfony</a> 2) I do a lot of <a href=\"http://en.wikipedia.org/wiki/Ajax_%28programming%29\" rel=\"nofollow\">Ajax</a> requests in every page. I'm having a lot of problems with them, because it looks like browsers (tested in <a href=\"http://en.wikipedia.org/wiki/Google_Chrome\" rel=\"nofollow\">Google Chrome</a> and <a href=\"http://en.wikipedia.org/wiki/Mozilla_Firefox\" rel=\"nofollow\">Firefox</a>) are aborting requests without giving me an error. I've done a clean page to test what can be causing this issue and the error persists. I've tried a test doing 10 requests inside a <code>for</code> loop (I believe we don't have any problem with it, right?).</p>\n\n<p>Here is my code:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n        &lt;title&gt;Test page&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;Test page.\n        &lt;script type=\"text/javascript\" src=\"/js/compressed_jquery-1.8.2.min_1.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            $(document).ready(function() {\n                for (var i = 0; i &lt; 10; i++) {\n                    $.get('/i18n/javaScript/pt.json', function(data) {\n                        console.log(data);\n                    });\n                }\n            });\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And here is a screenshot of requests result in <a href=\"http://en.wikipedia.org/wiki/Firebug_%28software%29\" rel=\"nofollow\">Firebug</a>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/RtsiQ.jpg\" alt=\"Ajax requests screenshot\"></p>\n\n<p>As you can see, some requests are completed and others are not. Sometimes the browser completes all 10 requests without errors. What can be causing this?</p>\n\n<hr>\n\n<p>I've tested all the solutions, but I'm pretty sure it's a Windows, Apache or PHP configuration issue. Today I've configured a <a href=\"http://en.wikipedia.org/wiki/Virtual_machine\" rel=\"nofollow\">VM</a> in my machine with <a href=\"http://en.wikipedia.org/wiki/VirtualBox\" rel=\"nofollow\">VirtualBox</a> running <a href=\"http://en.wikipedia.org/wiki/List_of_Ubuntu_releases#Ubuntu_13.04_.28Raring_Ringtail.29\" rel=\"nofollow\">Ubuntu 13.04</a> (Raring Ringtail) with Apache 2.2 + PHP, and NO ERRORS happenned, proving that is nothing with my <a href=\"http://en.wikipedia.org/wiki/JavaScript\" rel=\"nofollow\">JavaScript</a>, <a href=\"http://en.wikipedia.org/wiki/HTML\" rel=\"nofollow\">HTML</a> or PHP code. I am not sure it is a configuration issue. How do I discover this configuration?</p>\n",
            "last_activity_date": 1421652339,
            "question_id": 16534543,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "symfony2",
                "xmlhttprequest"
            ],
            "title": "Browser aborting Ajax requests sporadically without returning any errors"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Thanks to dandavis.</p>\n\n<p>The following works very well: </p>\n\n<pre><code>document.execCommand(\"insertHTML\", false, \"&lt;span class='own-class'&gt;\"+ document.getSelection()+\"&lt;/span&gt;\");\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>I've found some really interesting! The execCommand function applies many useful features. But is it possible to work with OWN wraps? Like:</p>\n\n<pre><code>document.execCommand(\"styleWithCSS\", false, \"&lt;span class='own-class'&gt;\");\n</code></pre>\n\n<p>Everything related i've found was pretty old\u2026 so maybe one of you knows a good workaround or something.</p>\n",
            "last_activity_date": 1409966873,
            "question_id": 16529316,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "execcommand"
            ],
            "title": "JavaScript document.execCommand() own tags"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Sammy actually dropped the ball when it comes to optional parameters and querystrings. The only way I could get this to work fairly well is to use regular expressions and the splat object. In your example, you would write :</p>\n\n<pre><code>this.get(/\\#\\/route\\/(.*)\\/(.*)/, function (context) {\n        var result = this.params['splat'];\n});\n</code></pre>\n\n<p>The downside is that you need the backslash at the end of the URL when the optional parameter is omitted.</p>\n\n<p>The splat object is the actual result of the JavaScript match method and is an <strong>array</strong>.</p>\n\n<pre><code>'#/route/test/' =&gt; {result[0]: 'test', result[1]: ''}\n'#/route/test/chicken' =&gt; {result[0]: 'test', result[1]: 'chicken'}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<pre><code>this.get(\"#/:param1(/:param2)?\", function (context) {\n    var result = this.params['splat'];\n});\n</code></pre>\n\n<p>The only issue with this approach is param2 will start with a '/', but this can be removed easily.</p>\n\n<pre><code>'#/go' =&gt; {result[0]: 'go', result[1]: ''}\n'#/go/here' =&gt; {result[0]: 'go', result[1]: '/here'}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Just wondering if there is anyway to specify a parameter as optional in a sammy js route.</p>\n\n<p>I've seen somewhere that you can use</p>\n\n<pre><code>route/:foo/?:bar\n</code></pre>\n\n<p>and that will trick sammy into thinking that bar is optional. However if you query your params without <code>bar</code> supplied you that it will equal the last character of the url for example</p>\n\n<pre><code>'#/route/test' =&gt; {foo: 'test', bar: 't'}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>'/route/test/chicken' =&gt; {foo: 'test', bar: 'chicken' }\n</code></pre>\n\n<p>but with bar getting populated in both cases there is no way to check if its been supplied.</p>\n\n<p>Any tips on this?</p>\n",
            "last_activity_date": 1368563254,
            "question_id": 15876112,
            "score": 5,
            "tags": [
                "javascript",
                "sammy.js"
            ],
            "title": "sammyjs optional parameters"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Simply remove <code>var myjson=</code></p>\n\n<pre><code>$.getJSON(\"http://127.0.0.1:8080/horizon-update\", function(json){\n           myjson = json;\n      });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can't get value when calling <code>getJSON</code>, only after response.</p>\n\n<pre><code>var myjson;\n$.getJSON(\"http://127.0.0.1:8080/horizon-update\", function(json){\n    myjson = json;\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>$.getJSon expects a callback functions either you pass it to the callback function or in callback function assign it to global variale. </p>\n\n<pre><code>var globalJsonVar;\n\n    $.getJSON(\"http://127.0.0.1:8080/horizon-update\", function(json){\n               //do some thing with json  or assign global variable to incoming json. \n                globalJsonVar=json;\n          });\n</code></pre>\n\n<p>IMO  best is to call the callback function. which is nicer to eyes, readability aspects. </p>\n\n<pre><code>$.getJSON(\"http://127.0.0.1:8080/horizon-update\", callbackFuncWithData);\n\nfunction callbackFuncWithData(data)\n{\n // do some thing with data \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I use getJSON to request a JSON from my website. It works great, but I need to save the output into another variable, like this:</p>\n\n<pre><code>var myjson= $.getJSON(\"http://127.0.0.1:8080/horizon-update\", function(json) {\n\n                 });\n</code></pre>\n\n<p>I need to save the result into <code>myjson</code> but it seems this syntax is not correct. Any ideas?</p>\n",
            "last_activity_date": 1364910477,
            "question_id": 15764844,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "json"
            ],
            "title": "jQuery getJSON save result into variable"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Depending on what you mean by <em>declaring</em>, you can try using <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Values,_variables,_and_literals?redirectlocale=en-US&amp;redirectslug=Core_JavaScript_1.5_Guide/Values,_Variables,_and_Literals#Object_literals\" rel=\"nofollow\">object literals</a> in an <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Values,_variables,_and_literals?redirectlocale=en-US&amp;redirectslug=Core_JavaScript_1.5_Guide/Values,_Variables,_and_Literals#Array_literals\" rel=\"nofollow\">array literal</a>:</p>\n\n<pre><code>var sample = [{}, {}, {} /*, ... */];\n</code></pre>\n\n<p><strong>EDIT:</strong> If your goal is an array whose <code>undefined</code> items are empty object literals by default, you can write a small utility function:</p>\n\n<pre><code>function getDefaultObjectAt(array, index)\n{\n    return array[index] = array[index] || {};\n}\n</code></pre>\n\n<p>Then use it like this:</p>\n\n<pre><code>var sample = [];\nvar obj = getDefaultObjectAt(sample, 0);     // {} returned and stored at index 0.\n</code></pre>\n\n<p>Or even:</p>\n\n<pre><code>getDefaultObjectAt(sample, 1).prop = \"val\";  // { prop: \"val\" } stored at index 1.\n</code></pre>\n\n<p>Of course, direct assignment to the return value of <code>getDefaultObjectAt()</code> will not work, so you cannot write:</p>\n\n<pre><code>getDefaultObjectAt(sample, 2) = { prop: \"val\" };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Use <code>array.push()</code> to add an item to the end of the array.</p>\n\n<pre><code>var sample = new Array();\nsample.push(new Object());\n</code></pre>\n\n<p>To do this <code>n</code> times use a <code>for</code> loop.</p>\n\n<pre><code>var n = 100;\nvar sample = new Array();\nfor (var i = 0; i &lt; n; i++)\n    sample.push(new Object());\n</code></pre>\n\n<hr>\n\n<p>Note that you can also substitute <code>new Array()</code> with <code>[]</code> and <code>new Object()</code> with <code>{}</code> so it becomes:</p>\n\n<pre><code>var n = 100;\nvar sample = [];\nfor (var i = 0; i &lt; n; i++)\n    sample.push({});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>Try this-</p>\n\n<pre><code>var arr = [];\narr.push({});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You don't really need to create blank <code>Object</code>s ever. You can't do anything with them. Just add your working objects to the sample as needed.  Use <code>push</code> as Daniel Imms suggested, and use literals as Fr\u00e9d\u00e9ric Hamidi suggested.  You seem to want to program Javascript like C.</p>\n\n<pre><code>var samples = []; /* If you have no data to put in yet. */\n/* Later, probably in a callback method with computed data */\n/* replacing the constants. */\nsamples.push(new Sample(1, 2, 3)); /* Assuming Sample is an object. */\n/* or */\nsamples.push({id: 23, chemical: \"NO2\", ppm: 1.4}); /* Object literal. */\n</code></pre>\n\n<p>I believe using <code>new Array(10)</code> creates an array with 10 <code>undefined</code> elements.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>After seeing how you responded in the comments. It seems like it would be best to use <code>push</code> as others have suggested. This way you don't need to know the indices, but you can still add to the array.</p>\n\n<pre><code>var arr = [];\nfunction funcInJsFile() {\n    // Do Stuff\n    var obj = {x: 54, y: 10};\n    arr.push(obj);\n}\n</code></pre>\n\n<p>In this case, every time you use that function, it will push a new object into the array.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Well <code>array.length</code> should do the trick or not? something like, i mean you don't need to know the index range if you just read it..</p>\n\n<pre><code>var arrayContainingObjects = [];\nfor (var i = 0; i &lt; arrayContainingYourItems.length; i++){\n    arrayContainingObjects.push {(property: arrayContainingYourItems[i])};\n}\n</code></pre>\n\n<p>Maybe i didn't understand your Question correctly, but you should be able to get the length of your Array this way and transforming them into objects. Daniel kind of gave the same answer to be honest. You could just save your array-length in to his variable and it would be done.</p>\n\n<p>IF and this should not happen in my opinion you can't get your Array-length. As you said w/o getting the index number you could do it like this:</p>\n\n<pre><code>var arrayContainingObjects = [];\nfor (;;){\n    try{\n        arrayContainingObjects.push {(property: arrayContainingYourItems[i])};\n    }\n}\ncatch(err){\n    break;\n}\n</code></pre>\n\n<p>It is the not-nice version of the one above but the loop would execute until you \"run\" out of the index range.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Well ..!! I have a variable which is an array and i want every element of the should act as a object . To achieve this , i can do something like this in my code ..</p>\n\n<pre><code>var sample = new Array();\nsample[0] = new Object();\nsample[1] = new Object();\n</code></pre>\n\n<p>This works fine but what i need is i don't want to mention any index number .. I mean i want all elements of my array to be an object . How do i declare or initialize it ..??</p>\n\n<pre><code>var sample = new Array();\nsample[] = new Object();\n</code></pre>\n\n<p>I tried the above code but it doesn't works.. How to initialize an array of objects without using index number..??</p>\n",
            "last_activity_date": 1395155106,
            "question_id": 15742442,
            "score": 5,
            "tags": [
                "javascript",
                "arrays",
                "object",
                "declare"
            ],
            "title": "Declaring array of objects"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I think you can manage without a lock by taking advantage of the fact that javascript is single-threaded within a context, even with the asynchronous chrome.storage API.  As long as you're not using chrome.storage.sync, that is - if there may or may not be changes from the cloud I think all bets are off.</p>\n\n<p>I would do something like this (written off the cuff, not tested, no error handling):</p>\n\n<pre><code>var getTask = (function() {\n  // Private list of requests.\n  var callbackQueue = [];\n\n  // This function is called when chrome.storage.local.set() has\n  // completed storing the updated task list.\n  var tasksWritten = function(nComplete) {\n    // Remove completed requests from the queue.\n    callbackQueue = callbackQueue.slice(nComplete);\n\n    // Handle any newly arrived requests.\n    if (callbackQueue.length)\n      chrome.storage.local.get('tasks', distributeTasks);\n  };\n\n  // This function is called via chrome.storage.local.get() with the\n  // task list.\n  var distributeTasks = function(items) {\n    // Invoke callbacks with tasks.\n    var tasks = items['tasks'];\n    for (var i = 0; i &lt; callbackQueue.length; ++i)\n      callbackQueue[i](tasks[i] || null);\n\n    // Update and store the task list. Pass the number of requests\n    // handled as an argument to the set() handler because the queue\n    // length may change by the time the handler is invoked.\n    chrome.storage.local.set(\n      { 'tasks': tasks.slice(callbackQueue.length) },\n      function() {\n        tasksWritten(callbackQueue.length);\n      }\n    );\n  };\n\n  // This is the public function task consumers call to get a new\n  // task. The task is returned via the callback argument.\n  return function(callback) {\n    if (callbackQueue.push(callback) === 1)\n      chrome.storage.local.get('tasks', distributeTasks);\n  };\n})();\n</code></pre>\n\n<p>This stores task requests from consumers as callbacks in a queue in local memory.  When a new request arrives, the callback is added to the queue and the task list is fetched <strong>iff</strong> this is the only request in the queue.  Otherwise we can assume that the queue is already being processed (this is an implicit lock that allows only one strand of execution to access the task list).</p>\n\n<p>When the task list is fetched, tasks are distributed to requests.  Note that there may be more than one request if more have arrived before the fetch completed.  This code just passes null to a callback if there are more requests than tasks.  To instead block requests until more tasks arrive, hold unused callbacks and restart request processing when tasks are added.  If tasks can be dynamically produced as well as consumed, remember that race conditions will need to be prevented there as well but is not shown here.</p>\n\n<p>It's important to prevent reading the task list again until the updated task list is stored.  To accomplish this, requests aren't removed from the queue until the update is complete.  Then we need to make sure to process any requests that arrived in the meantime (it's possible to short-circuit the call to chrome.storage.local.get() but I did it this way for simplicity).</p>\n\n<p>This approach should be pretty efficient in the sense that it should minimize updates to the task list while still responding as quickly as possible.  There is no explicit locking or waiting.  If you have task consumers in other contexts, set up a chrome.extension message handler that calls the getTask() function.</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<ol>\n<li>Something requests a task</li>\n<li>Something else pulls the task list out of storage, and checks if there are tasks there.</li>\n<li>If there are tasks it removes one and the smaller \"task list\" is put back in storage.</li>\n</ol>\n\n<p>Between steps 2 and 3 a <em>race condition</em> can occur if multiple requests occur, and the same task will be served twice.</p>\n\n<p>Is the correct resolution to \"lock\" the \"tasks table\" while a single task is \"checked out\", to prevent any other requests?</p>\n\n<p>What is the solution with the least performance impact, such as delay of execution, and how should it be implemented in javascript with chrome.storage API ?</p>\n\n<p>Some code for example :</p>\n\n<pre><code>function decide_response ( ) {\n    if(script.replay_type == \"reissue\") {\n            function next_task( tasks ) {\n                var no_tasks = (tasks.length == 0);\n                if( no_tasks ) {\n                    target_complete_responses.close_requester();\n                }\n                else {\n                    var next_task = tasks.pop();\n                    function notify_execute () {\n                        target_complete_responses.notify_requester_execute( next_task );\n                    }\n                    setTable(\"tasks\", tasks, notify_execute);\n                }\n            }\n            getTable( \"tasks\", next_tasks );\n    ...\n    }\n...\n}\n</code></pre>\n",
            "last_activity_date": 1362254039,
            "question_id": 15050861,
            "score": 5,
            "tags": [
                "javascript",
                "google-chrome-extension",
                "locking",
                "race-condition"
            ],
            "title": "Best way to prevent race condition in multiple chrome.storage API calls?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Using the this Keyword</p>\n\n<p>Within an instance method or a constructor, this is a reference to the current object \u2014 the object whose method or constructor is being called. You can refer to any member of the current object from within an instance method or a constructor by using this.\nUsing this with a Field</p>\n\n<p>The most common reason for using the this keyword is because a field is shadowed by a method or constructor parameter.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>The this keyword refers to the scope of the function. In your above code the <strong>this.a</strong> will print <strong>undefined</strong> since there is no variable named a. The <strong>this keyword is used to refer the current local scope</strong> and not the global scope. so if you had a variable named a in your function b then this.a will refer the variable defined in the function b and not outside of it. Whereas referring this outside the function b will refer the global scope.  </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>They keyword <code>this</code> is resolved in the following ways in the a function in JavaScript -</p>\n\n<ol>\n<li><p>When a function is invoked on or through an object, that object is the invocation\ncontext or 'this' value for the function. For example - </p>\n\n<pre><code>var o = {\n   f : function(){\n      //do something  \n   }\n}\n</code></pre>\n\n<p>if we call the method 'f' of object 'o' using object 'o' - </p>\n\n<pre><code>o.f()// in method f, 'this' refers to o inside the method o\n</code></pre></li>\n<li><p>If the function is not invoked on or not through an object,current window object is the invocation context or <code>this</code> value for the function. For example -</p>\n\n<pre><code>function f(){\n    //do something\n}\n\n//calling f\nf();// 'this' will refer to current window object \n</code></pre></li>\n</ol>\n\n<p>In your case, this refers to current window object and <code>this.a</code> is a reference to the function a, which you have defined in the global scope.</p>\n\n<p>In addition, invocation context or 'this' value for the function can be supplied while calling it. Please check <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/call\" rel=\"nofollow\">Function.prototype.call method - JavaScript | MDN</a> and <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/apply\" rel=\"nofollow\">Function.prototype.apply method - JavaScript | MDN</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>This is an example:</p>\n\n<pre><code>function one() {\n\n    var a = 1;\n    two();\n\n    function two() {\n\n        var b = 2;\n        three();\n\n        function three() {\n\n            var c = 3;\n            alert(a + b + c); // 6\n\n        }\n    }   \n}\n\none()\u200b; //calling the function\n</code></pre>\n\n<p>Now when we call function one(), the result is <code>6</code>.</p>\n\n<p>So it's all about scope chain, all variables are resolved, now I have one question.</p>\n\n<p>Why do we need this \"<em>this</em>\" keyword when all variables are getting resolved through scope chain?</p>\n\n<p>So if we have the following function: </p>\n\n<pre><code>function a() {\n    var a = 'function a';\n\n    function b() {\n        var b = 'function b';\n        alert (a); //will be function a, without keyword this \n        alert (this.a); // what will be the effect of this line\n    }\n}\n</code></pre>\n\n<p>The \"this\" keyword always confuses me! </p>\n\n<p>Someone please explain in a simple way and in detail.</p>\n",
            "last_activity_date": 1401457007,
            "question_id": 14847059,
            "score": 5,
            "tags": [
                "javascript",
                "scope",
                "this"
            ],
            "title": "I am confused about the keyword &#39;this&#39; in JavaScript"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>use this</p>\n\n<pre><code>if (this.checked)\n   $(\".checkBoxClass\").attr('checked', \"checked\");\nelse\n   $(\".checkBoxClass\").removeAttr('checked');\n</code></pre>\n\n<p>also you can use <code>prop</code> please check <a href=\"http://api.jquery.com/prop/\" rel=\"nofollow\">http://api.jquery.com/prop/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use prop</p>\n\n<pre><code>$(\".checkBoxClass\").prop('checked', true);\n</code></pre>\n\n<p>or to uncheck:</p>\n\n<pre><code>$(\".checkBoxClass\").prop('checked', false);\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/sVQwA/\">http://jsfiddle.net/sVQwA/</a></p>\n\n<pre><code>$(\"#ckbCheckAll\").click(function () {\n    $(\".checkBoxClass\").prop('checked', $(this).prop('checked'));\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 29
                },
                {
                    "body": "<p>Use prop() instead - </p>\n\n<pre><code>$(document).ready(function () {\n        $(\"#ckbCheckAll\").click(function () {\n            $(\".checkBoxClass\").each(function(){\n                if($(this).prop(\"checked\", true)) {\n                    $(this).prop(\"checked\", false);\n                } else {\n                    $(this).prop(\"checked\", false);\n                }                \n            });\n        });\n    });\n</code></pre>\n\n<p>BUT I like @dmk's much more compact answer and +1'd it</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>$(document).ready(function() {\n    $('#ckbCheckAll').click(function() {\n        $('.checkBoxClass').each(function() {\n            $(this).attr('checked',!$(this).attr('checked'));\n        });\n    });\n});\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>$(function () {\n    $('#ckbCheckAll').toggle(\n        function() {\n            $('.checkBoxClass').prop('checked', true);\n        },\n        function() {\n            $('.checkBoxClass').prop('checked', false);\n        }\n    );\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this</p>\n\n<pre><code>$(document).ready(function () {\n    $(\"#ckbCheckAll\").click(function () {\n        $(\"#checkBoxes input\").prop('checked', $(this).prop('checked'));\n    });\n});\n</code></pre>\n\n<p>That should do it :)</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Use below code..</p>\n\n<pre><code>        $('#globalCheckbox').click(function(){\n            if($(this).prop(\"checked\")) {\n                $(\".checkBox\").prop(\"checked\", true);\n            } else {\n                $(\".checkBox\").prop(\"checked\", false);\n            }                \n        });\n\n\n        $('.checkBox').click(function(){\n            if($(\".checkBox\").length == $(\".checkBox:checked\").length) {\n                $(\"#globalCheckbox\").prop(\"checked\", true);\n            }else {\n                $(\"#globalCheckbox\").prop(\"checked\", false);            \n            }\n        });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is a simple way to do this :</p>\n\n<p>Html :</p>\n\n<pre><code>&lt;input type=\"checkbox\" id=\"selectall\" class=\"css-checkbox \" name=\"selectall\"/&gt;Selectall&lt;br&gt;\n&lt;input type=\"checkbox\" class=\"checkboxall\" value=\"checkbox1\"/&gt;checkbox1&lt;br&gt;\n&lt;input type=\"checkbox\" class=\"checkboxall\" value=\"checkbox2\"/&gt;checkbox2&lt;br&gt;\n&lt;input type=\"checkbox\" class=\"checkboxall\" value=\"checkbox3\"/&gt;checkbox3&lt;br&gt;\n\n\n\njquery :\n\n$(document).ready(function(){\n$(\"#selectall\").click(function(){\n        //alert(\"just for check\");\n        if(this.checked){\n            $('.checkboxall').each(function(){\n                this.checked = true;\n            })\n        }else{\n            $('.checkboxall').each(function(){\n                this.checked = false;\n            })\n        }\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have the followin html code:</p>\n\n<pre><code>    &lt;input type=\"checkbox\" id=\"ckbCheckAll\" /&gt;\n    &lt;p id=\"checkBoxes\"&gt;\n        &lt;input type=\"checkbox\" class=\"checkBoxClass\" id=\"Checkbox1\" /&gt;\n        &lt;br /&gt;\n        &lt;input type=\"checkbox\" class=\"checkBoxClass\" id=\"Checkbox2\" /&gt;\n        &lt;br /&gt;\n        &lt;input type=\"checkbox\" class=\"checkBoxClass\" id=\"Checkbox3\" /&gt;\n        &lt;br /&gt;\n        &lt;input type=\"checkbox\" class=\"checkBoxClass\" id=\"Checkbox4\" /&gt;\n        &lt;br /&gt;\n        &lt;input type=\"checkbox\" class=\"checkBoxClass\" id=\"Checkbox5\" /&gt;\n        &lt;br /&gt;\n    &lt;/p&gt;\n</code></pre>\n\n<p>which when user check <code>ckbCheckAll</code> all checkboxes must be checked. Also I have following jquery code:</p>\n\n<pre><code>    $(document).ready(function () {\n        $(\"#ckbCheckAll\").click(function () {\n            $(\".checkBoxClass\").attr('checked', this.checked);\n        });\n    });\n</code></pre>\n\n<p>When i see my page on browser i get following result:\nIn the first click on <code>ckbCheckAll</code> all checkboxes will check( which is correct). In the second click on <code>ckbCheckAll</code> all checkboxes will uncheck (which is correct). But in 3th attempt Nothing will happen! also in 4th attempt nothing will happen and so on.</p>\n\n<p>Where is the problem??</p>\n\n<p>Please excuse me for poor and bad English.</p>\n",
            "last_activity_date": 1407324935,
            "question_id": 14778364,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "asp.net",
                "asp.net-mvc"
            ],
            "title": "Select All checkboxes using jQuery"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Months in JavaScript are represented from 0-11. Month 1 would be February which only has 28/29 days, so when you set the month to 1, it tries to auto-correct the date to March to make a date that makes sense (since Feb 31st, makes no sense). Try it out by using the toDateString function to see what I mean:</p>\n\n<pre><code> var d = new Date('2013/01/31');\n d.setMonth(2);\n console.log(d.toDateString()); // outputs Match 3rd, 2013\n</code></pre>\n\n<p>A little weird perhaps, but not buggy.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The getMonth() method returns the month (from 0 to 11) for the specified date, according to local time.</p>\n\n<p><strong>Note</strong>: January is 0, February is 1, and so on.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Let's break this down:</p>\n\n<pre><code>var d = new Date(); // date is now 2013-01-31\nd.setMonth(1);      // date is now 2013-02-31, which is 3 days past 2013-02-28\nx = d.getMonth();   // what to do, what to do, 3 days past 2013-02-28 is in March\n                    // so, expect x to be March, which is 2\n</code></pre>\n\n<p>This is only an issue when the day value of <code>d</code> is greater than the maximum number of days in the month passed to <code>setMonth()</code>.  Otherwise, it works as you'd expect.</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>The <code>getMonth()</code> method returns the month (from 0 to 11) for the specified date, according to local time, eg. January is 0, February is 1.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>In javascript month is start from 0. Assume today is 02/04/2012, when you setMonth(1) it will try to set to feb. Since max day in feb is 28/29, it move to the next month (March, which is 2)</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I just resolved this way:</p>\n\n<p>Example</p>\n\n<pre><code>var d = new Date('2013/01/31');\n\nm = d.getMonth();\n\nmonth = m*100/100 + 1;\n</code></pre>\n\n<p><code>Var month</code> contains the correct value.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Simplest solution to this is to add second argument to setMonth:</p>\n\n<pre><code>var d = new Date();\nd.setMonth(8,1);\nd.getMonth(); //outputs 8\n</code></pre>\n\n<p><a href=\"http://www.w3schools.com/jsref/jsref_setmonth.asp\" rel=\"nofollow\">http://www.w3schools.com/jsref/jsref_setmonth.asp</a></p>\n\n<blockquote>\n  <p>Date.setMonth(month,day)</p>\n  \n  <p>day: Optional. An integer representing the day of month Expected\n  values are 1-31, but other values are allowed:</p>\n  \n  <p>0 will result in the last day of the previous month\n  -1 will result in the day before the last day of the previous month If the month has 31 days:</p>\n  \n  <p>32 will result in the first day of the next month If the month has 30\n  days:</p>\n  \n  <p>32 will result in the second day of the next month</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I tested in  chrome and firefox, and here is the problem.\nThe Date object's <code>getMonth()</code> method has an Bug? \nWhen I set the location date on someDay, like <code>\"2013-1-31\"</code></p>\n\n<p>then, the js code is :</p>\n\n<pre><code>var d = new Date();\nd.setMonth(8);\nd.getMonth();\n</code></pre>\n\n<p>The result is \"9\", why?</p>\n\n<p>I found when the month has 31 days, run the <code>setMonth</code> method and the <code>getMonth</code> method will return wrong value</p>\n\n<p>why?</p>\n",
            "last_activity_date": 1406806941,
            "question_id": 14680396,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "the Date.getMonth() method has bug?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>enquire author here!</p>\n\n<p>So there's always a little confusion about the matchMedia polyfill. It doesn't polyfill CSS3 media query support into legacy browsers. What it does is polyfill the matchMedia javascript API for those browsers that support CSS3 media queries but do not offer this API. See here for <a href=\"http://caniuse.com/#search=matchmedia\">support for matchMedia</a>. For instance, IE9 supports CSS3 media queries, but doesn't have the matchMedia JS API, this is the target of Paul Irish's matchMedia polyfill.</p>\n\n<p>If you're looking for a fully featured polyfill, that gives decent media query suport to older browsers, can I suggest using David Knight's media-match? I have worked in conjunction with him to test this and have proven support all the way back to IE6 - it works a charm :) You can find that here: <a href=\"https://github.com/weblinc/media-match\">https://github.com/weblinc/media-match</a>. You can conditionally load it exactly as I suggested with Modernizr, just replace the appropriate parts.</p>\n\n<p>Hope that helps, happy to answer any further questions you have. </p>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>I'm trying to figure out what the best way to get enquire.js to work on legacy browsers (ie 6-9). On enquire's site, it says to use modernizr to check for matchMedia support, then load a polyfill if it's not supported. </p>\n\n<pre><code>Modernizr.load([\n    //first test need for polyfill\n    {\n        test: window.matchMedia,\n        nope: \"/path/to/polyfill.js\"\n    },\n\n    //and then load enquire\n    \"/path/to/enquire.js\"\n]);\n</code></pre>\n\n<p>Looking at the polyfill that it suggests, it says that modernizr already includes it with Modernizr.mq(). </p>\n\n<pre><code>    Used in:\n    Respond.js\n    FormFactor\n    Modernizr\nhttps://github.com/paulirish/matchMedia.js/\n</code></pre>\n\n<p>I've looked into this, but can't find a way to make this work. </p>\n",
            "last_activity_date": 1367420240,
            "question_id": 14402932,
            "score": 5,
            "tags": [
                "javascript",
                "internet-explorer",
                "enquire.js"
            ],
            "title": "enquire.js legacy support"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I can still get a panning effect by changing only the first argument to setPosition() and keeping other arguments zero.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script&gt;\nvar c = new webkitAudioContext();\nvar s = c.createBufferSource();\nvar g = c.createGainNode();\nvar p = c.createPanner();\ns.connect(g);\ng.connect(p);   \np.connect(c.destination);\n\nfunction play(e) {\n  var fr = new FileReader();\n  var file = document.getElementById(\"file\").files[0];\n  fr.onload = function(e) {\n    c.decodeAudioData(e.target.result, \n      function (buf) {\n        s.buffer = buf;\n        g.gain.value = 0.5;\n        s.noteOn(0)\n      },\n      function () {\n        console.error('decodeAudioData failed.');\n      }\n    );\n  };\n  fr.readAsArrayBuffer(file);\n}\n\nfunction pan(range) {\n  var x = Math.sin(range.value * (Math.PI / 180));\n  p.setPosition(x, 0, 0);\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  Choose your MP3 file:&lt;br&gt;\n  &lt;input type=\"file\" id=\"file\" name=\"file\" /&gt;&lt;br&gt;\n  &lt;input type=\"submit\" id=\"go\" onclick=\"play()\" value=\"Play\" /&gt;&lt;br&gt;\n  L&lt;input type=\"range\" min=\"-45\" max=\"45\" value=\"0\" onchange=\"pan(this);\"&gt;R\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>But to get a natural panning effect, you need to specify the third argument as well.</p>\n\n<pre><code>function pan(range) {\n  var xDeg = parseInt(range.value);\n  var zDeg = xDeg + 90;\n  if (zDeg &gt; 90) {\n    zDeg = 180 - zDeg;\n  }\n  var x = Math.sin(xDeg * (Math.PI / 180));\n  var z = Math.sin(zDeg * (Math.PI / 180));\n  p.setPosition(x, 0, z);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>here's an even simpler (less formulaic?) way to achieve 2D panning:</p>\n\n<p><a href=\"http://jsbin.com/ObEfamI/1/edit?js,output\" rel=\"nofollow\">( full code here )</a></p>\n\n<pre><code>&lt;input type=\"range\" name=\"pan\" id=\"pan\" min=\"-1\" max=\"1\" step=\"any\" /&gt;\n&lt;script&gt;\nvar panner = context.createPanner();\npanner.panningModel = 'equalpower';\n\nfunction pan(event) {\n    var x = this.valueAsNumber,\n        y = 0,\n        z = 1 - Math.abs(x);\n    panner.setPosition(x,y,z);\n}\n\ndocument.getElementById('pan').addEventListener(pan);\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The panner node defaults to \"HRTF\" (Head Related Transfer Function) which is a stereo convolution engine and it is designed for 3D sound. </p>\n\n<p>In order to have basic panning functionality and lower resource usage you need to set panningModel attribute to \"equalpower\".</p>\n\n<pre><code>var panner = context.createPanner();\npanner.panningModel = \"equalpower\";\npanner.setPosition(1,0,0);\n</code></pre>\n\n<p>Check the <a href=\"https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html#attributes-PannerNode_attributes\" rel=\"nofollow\">documentation</a> for more details.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am looking at the web audio API spec and the panning node uses three values to create a 3D spectrum for sound. I was wondering if in order to create a basic 2D \"equal power\" panner the programmer needs to do the formulaic programming to scale this ... or if I am over thinking it and there is a simpler way to do it.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/StereoPannerNode\" rel=\"nofollow\">There is now a stereoPanner node being introduced.</a></p>\n",
            "last_activity_date": 1424328455,
            "question_id": 14378305,
            "score": 5,
            "tags": [
                "javascript",
                "web-audio"
            ],
            "title": "How to create very basic left/right equal power panning with createPanner();"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I don't think <code>Content-Disposition</code> triggers any file save dialog when the request is via XHR. The use of XHR suggests you're going to handle the result in code.</p>\n\n<p>If you want the user to be prompted to save the image to a file, I've used this technique successfully:</p>\n\n<pre><code>window.open(\"http://localhost:8085/AnImage.png?\" + now);\n</code></pre>\n\n<p>It has the downside that it flashes a blank open window briefly until the header arrives, then the new window closes and the \"save file\" dialog box appears.</p>\n\n<p>Using an <code>iframe</code> may prevent the window flashing:</p>\n\n<pre><code>var f = document.createElement('iframe');\nf.style.position = \"absolute\";\nf.style.left = \"-10000px\";\nf.src = \"http://localhost:8085/AnImage.png?\" + now;\ndocument.body.appendChild(f);\n</code></pre>\n\n<p>Separately, I wonder what effect (if any) <code>Content-Disposition</code> has on the handling of an <code>img</code> element:</p>\n\n<pre><code>var img = document.createElement('img');\nimg.style.position = \"absolute\";\nimg.style.left = \"-10000px\";\nimg.src = \"http://localhost:8085/AnImage.png?\" + now;\ndocument.body.appendChild(img);\n</code></pre>\n\n<p>I haven't tried that, but the browser <em>might</em> respect the header. You'd need to be sure to test on all of the browsers you want to support.</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I want to perform a javascript xhr request for a png file from a C# webserver which I wrote.\nHere is the code I use</p>\n\n<pre><code>    var imgUrl = \"http://localhost:8085/AnImage.png?\" + now;\n    var request = new XMLHttpRequest();\n    request.open('GET', imgUrl, false);\n    request.send(); // this is in a try/catch\n</code></pre>\n\n<p>On the server-side I send back the file and add a Content-Disposition header.\nI obtain the following response</p>\n\n<p><img src=\"http://i.stack.imgur.com/R5ry1.png\" alt=\"The headers obtained in the response, with Firebug\"></p>\n\n<p>I made sure that Content-Disposition was attached in the headers after the Content-Type (the screenshot is from Firebug, which appends in alphabetical order).</p>\n\n<p>The results is that no dialog box is triggered, am I missing something in the response?</p>\n\n<p>edit:\nI want to perform everything in javascript for several reasons. \nFirst: I don't want to show the image and I want to keep everything behind the curtain. \nSecond: when requesting the image I want the Content-Disposition to be added only on particular requests. Such requests are marked with a \"Warning\" header with value \"AttachmentRequest\"</p>\n\n<pre><code>request.setRequestHeader(\"Warning\",\"AttachmentRequest\");\n</code></pre>\n",
            "last_activity_date": 1355824835,
            "question_id": 13929838,
            "score": 5,
            "tags": [
                "javascript",
                "content-disposition"
            ],
            "title": "Is Content-Disposition attachment blocked from XMLHttpRequest?"
        }
    ]
}
