{
    "items": [
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I've done something similar, with a lot of trial and error, but I got this to work for me:</p>\n\n<pre><code>var StandardItemModel = function (item, cartItemTypes) {\n    var self = this;\n    ItemModel.call(self, item)\n}\n</code></pre>\n\n<p>You then need to add a prototyped constructor:</p>\n\n<pre><code>StandardModel.prototype = new ItemModel();\n</code></pre>\n\n<p>If you want to have common methods, then you need to add them to the base classes using prototype to add them, then call them in the higher class using:</p>\n\n<pre><code>ItemModel.prototype.methodName.call(self, parameters);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I guess you can do something like this:</p>\n\n<pre><code>var StandardItemModel = function (item, cartItemTypes) {\nvar self = this;\nself.standard = new ItemModel(item);\nself.isInCart = ko.computed(function () {\nreturn cartItemTypes().indexOf(item.type) &gt; -1;\n}, self);\n\nself.itemClass = ko.computed(function () {\n return self.isInCart() ? \"icon-check\" : \"icon-check-empty\";\n }, self);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think you can use ko.utils.extend like this </p>\n\n<pre><code>ko.utils.extend(self, new ItemModel(item));\n</code></pre>\n\n<p>inside the StandardItemModel</p>\n\n<p>like this: <a href=\"http://jsfiddle.net/marceloandrader/bhEQ6/\">http://jsfiddle.net/marceloandrader/bhEQ6/</a></p>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<pre><code>function MyBaseType() {\n    var self = this;\n    self.Id = 1\n}\n\nfunction MyComplexType() {\n    var self = this;\n\n    //Extending this class from MyBaseType\n    ko.utils.extend(self, new MyBaseType());\n\n    self.Name = 'Faisal';\n\n    self.MyComplexSubType = new MyComplexSubType();\n}\n\nfunction MyComplexSubType() {\n    var self = this;\n\n    self.Age = 26;\n}\n\n[http://jsfiddle.net/FKN717/e5gsjb8p][JSFIDDLE EXAMPLE]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have three relatively similar knockout models in my application and I would like to extend a base model to combine common properties rather than repeat myself three times.</p>\n\n<p>example </p>\n\n<pre><code>var ItemModel = function (item) {\n  var self = this;\n\n  self.order = ko.observable(item.order);\n  self.title = ko.observable(item.title);\n  self.price = ko.observable(item.price);\n  self.type = ko.observable(item.type);\n};\n\nvar StandardItemModel = function (item, cartItemTypes) {\n  var self = this;\n\n  self.order = ko.observable(item.order);\n  self.title = ko.observable(item.title);\n  self.price = ko.observable(item.price);\n  self.type = ko.observable(item.type);\n\n  self.isInCart = ko.computed(function () {\n    return cartItemTypes().indexOf(item.type) &gt; -1;\n  }, self);\n\n  self.itemClass = ko.computed(function () {\n     return self.isInCart() ? \"icon-check\" : \"icon-check-empty\";\n  }, self);\n};\n\nvar CustomItemModel = function (item) {\n  var self = this;\n\n  self.order = ko.observable(item.order);\n  self.title = ko.observable(item.title);\n  self.price = ko.observable(item.price);\n  self.type = ko.observable(item.type);\n\n  self.icon = item.icon;\n};\n</code></pre>\n\n<p>I would like to use ItemModel as a base class and just add the extra properties as necessary.</p>\n",
            "last_activity_date": 1416461740,
            "question_id": 14965596,
            "score": 13,
            "tags": [
                "javascript",
                "inheritance",
                "knockout.js"
            ],
            "title": "Knockout JS Model Inheritance"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Have you seen the wiki entry?</p>\n\n<p><a href=\"http://wiki.phonegap.com/w/page/36868306/UI%20Development%20using%20jQueryMobile#GettingstartedwithJQueryMobile\" rel=\"nofollow\">http://wiki.phonegap.com/w/page/36868306/UI%20Development%20using%20jQueryMobile#GettingstartedwithJQueryMobile</a></p>\n\n<p>and to see some code have a look @</p>\n\n<p>Sample Application using jQuery Mobile and PhoneGap\n <a href=\"http://coenraets.org/blog/2011/10/sample-application-with-jquery-mobile-and-phonegap/\" rel=\"nofollow\">http://coenraets.org/blog/2011/10/sample-application-with-jquery-mobile-and-phonegap/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I have a rather large application and this is how I have it structured</p>\n\n<pre><code>css\n    -- all css files\nimages\n    -- all image files\njs\n    controller.js -- page events and element actions. Also contains PhoneGap specific methods\n    core\n        forms.js -- working with forms, saving info\n        mobile.js -- basic definitions, AJAX communications\n        encrypt.js -- encryption\n        global.js   -- helper functions\n        storage.js  -- database storage wrapper\n    cw\n        client.js -- a client object, &gt; 400 lines of js code\n        Objects.js -- all other needed objects with &lt;50 lines of js code each\n        question.js  -- a question object, &gt; 500 lines of js code\n        service.js    -- a service object, &gt; 700 lines of js code\n    jq\n        jquery-ui.min.js\n        jquery.min.js\n        jquery.mobile.min.js\n        phonegap-1.1.0.js\n\nadd_client.html\nclients.html\nclient_list.html\nindex.html            -- the only file that is structured like a real full html file\nmanager.html\nschedule.html\nservice.html\n</code></pre>\n\n<p>aside for my index.html file, all other .html files are stubs. They only contain the <code>&lt;div data-role='page'&gt;&lt;/div&gt;</code> and other needed html elements that define the page and its intended functionality. </p>\n\n<p>I develop the app on VS2010, using Chrome as my debugger. When I feel good with my progress, I copy everything over to my mac to a folder in an Eclipse project ( for Android devices ) which is also a linked reference in my xCode project ( for iOS devices ).</p>\n\n<p>I have been working on this project for about 3-4 months now and once I got past the learning curve of jQM and PhoneGap, have been making very good progress with this structure. </p>\n",
                    "is_accepted": true,
                    "score": 19
                }
            ],
            "body": "<p>I am currently building a game in phonegap using jQuery Mobile frame work. What i have ended up with is lots of spaghetti code with one html and several js classes.</p>\n\n<p>I was interested to know if there are any good guides to create a structured jQuery Mobile Application that follows MVC pattern.</p>\n\n<p>I found a <a href=\"http://www.sencha.com/learn/a-sencha-touch-mvc-application-with-phonegap/\">good guide</a> for creating a MVC App with Sencha Touch. I was looking for something similar with jQuery Mobile.</p>\n",
            "last_activity_date": 1371933146,
            "question_id": 8044491,
            "score": 13,
            "tags": [
                "javascript",
                "jquery-mobile",
                "cordova"
            ],
            "title": "Structuring a PhoneGap jQuery Mobile Application"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can either poll a javascript function inside the page (using <a href=\"http://developer.apple.com/library/ios/documentation/uikit/reference/UIWebView_Class/Reference/Reference.html#//apple_ref/doc/uid/TP40006950-CH3-SW21\" rel=\"nofollow\">UIWebView stringByEvaluatingJavascriptFromString:</a>).</p>\n\n<p>Or you could call an objective-c method directly from the page using a little hack: <a href=\"http://blog.techno-barje.fr/post/2010/10/06/UIWebView-secrets-part3-How-to-properly-call-ObjectiveC-from-Javascript\" rel=\"nofollow\">UIWEBVIEW SECRETS - PART3 - HOW TO PROPERLY CALL OBJECTIVEC FROM JAVASCRIPT</a>\n<br />(scroll down to the bottom for github-link).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can use <code>[UIWebView stringByEvaluatingJavascriptFromString:]</code> method and get the values by executing the javascript. </p>\n\n<p>Example:\nIf your html is: </p>\n\n<pre><code>&lt;html&gt;\n  &lt;body&gt;\n      &lt;input id=\"myId\" type=\"text\" value=\"TextValue\"/&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Following code can get you the value of the text field:</p>\n\n<pre><code>   NSString* value = [webView stringByEvaluatingJavaScriptFromString:@\"document.getElementById('myId').value\"];\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 26
                }
            ],
            "body": "<p>Am developing an app which load a HTML page into uiwebview - that html file contains text-filed and drop-down list, text-boxes etc.. </p>\n\n<p>Here How to get values which user has entered in that text-filed and answers selected from drop-down(picker).</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1336726842,
            "question_id": 5908775,
            "score": 12,
            "tags": [
                "javascript",
                "html",
                "objective-c",
                "ios",
                "uiwebview"
            ],
            "title": "iphone - Getting data from uiwebview textfield"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I personally have a different coding style to that. This is one of them. The other is basically an imitation of the style used in <a href=\"http://documentcloud.github.com/backbone/docs/backbone.html\">backbone.js</a></p>\n\n<pre><code>var myProgram = (function() {\n   var someGlobal, someGlobal2;   \n\n   var subModule1 = (function() {\n       ...       \n\n       var init = function() {\n\n       };\n\n       ...\n\n       init();\n\n       return { \n           \"someMethod\": someMethod,\n           ...\n       };\n   }());\n\n   var OtherSubModule = (function() {\n       ...\n       var init = function(param) { ... };\n       ...\n       return { \n           \"init\": init,\n           ...\n       };\n   }());\n\n   var init = function(param) {\n       ...\n\n       OtherSubModule.init({\n           \"foo\": param.foo,\n           \"bar\": param.bar,\n           ...\n       });\n   };\n\n\n   return { \n       \"init\": init,\n       \"somePublic\": OtherSubModule.foobar, \n       ...\n   }\n}());\n</code></pre>\n\n<p>Depends whether I need to supply a public API to other users, which backbone does a lot better. I prefer to make modules driven by an <code>init</code> function for initial configuration and for the rest completely event driven.</p>\n\n<p>[Edit]</p>\n\n<p>Given the edited question I have a different pattern for this. Each file defines a function on some object in my case it was <code>$.FooBar.plugins</code></p>\n\n<pre><code>(function() {\n\n    var foo = function() { ... };\n\n    var bar = (function() { ... }());\n\n    myNamespace.plugins[\"MyPlugin\"] = function() {\n\n        ... do stuff\n        ... bind to evevnts\n    };\n\n}());\n</code></pre>\n\n<p>Then we use a boot strapper that was something like this :</p>\n\n<pre><code>(function() {\n\n    var needed = function() {\n         // Feature detection\n    };\n\n    var load = function() { ... };\n\n    var getOptions = function() {\n         // Call something on a page by page basis.\n    };\n\n    for (var plugin in pluginList) {\n         if (needed(plugin)) {\n               load(plugin, function() {\n                    // get page specific options\n                    var options = getOptions();\n                    // run plugin\n                    myNameSpace.plugins[plugin](options);\n                    // If all have been loaded trigger ready handlers\n                    if (pluginCurrentCount == pluginCount) {\n                         readyTrigger();\n                    }\n               });\n               pluginCount++;\n         }\n    }\n\n    // start loading plugins after all have been counted\n    load.startLoading();\n\n    var readyTrigger = function() {\n         // Run all ready handlers\n    }\n\n    // Implement your own DOM ready function to run when all plugins\n    // have loaded.\n    myNameSpace.ready = function(handler) {\n         if (isReady) {\n             handler();\n         } else {\n             readyList.push(handler);\n         }\n\n    };\n}());\n</code></pre>\n\n<p>That's a lot of gaps and pseudo code but you should get the idea. If it's not obvouis feel to question it.</p>\n\n<p>Then on the page we have something like this</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n  &lt;script type=\"text/javascript\"&gt;\n\n    var pageSpecific = {\n         \"pluginName\": {\n              \"cssClass\": \"foobar\",\n              \"submitOnEnter\": false,\n              ...\n         },\n         ...\n    };\n\n  &lt;/script&gt;\n  &lt;script src=\"bootstrapper.js\" /&gt;\n  ...\n&lt;/head&gt;\n&lt;body&gt;\n  ...\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>I am working on a delegate <code>pub/sub</code> pattern that may work for the problem you seem to describe here. I think the goal is to not end up repeating code in our <code>sub-objects</code> that we've already written in our parent objects, unless that code is completely specific to that module.</p>\n\n<p>In general, I think we should get away from this idea that we must replicate the \"classical inheritance\" style of programming that exists in other languages, and simply leverage the capabilities that JavaScript natively has. \"Inheritance\" can be more about invoking properties and methods in an execution context (similar to how we use <code>.call()</code> or <code>.apply()</code>), and doesn't need to beget a massive codebase full of modules \"extending\" other modules, only to end up treating them like completely isolated and individual objects anyway.</p>\n\n<p>I'm going to soon put this to use in a bigger project and see how it works out when dealing with a lot more code <em>(warning: YES, I <code>set</code> properties on objects' <code>__proto__</code>)</em>:</p>\n\n<pre><code>// Global automatic reference counting\nvar referenceCount = 0;\n\n// Core constructor (a factory function for objects)\nfunction Class(obj) {\n\n    // Represents `this` (the invoking object)\n    var This = {};\n\n    // Allow the inheritance of an object or object properties when `this` is defined\n    for(var k in obj)\n        This[k] = obj[k];\n\n    // Basic `setter` method for `this`\n    This.publish = function(obj) {\n        for(var k in obj)\n            this[k] = obj[k];\n    };\n\n    // Basic `unsetter` method for `this`\n    This.unpublish = function(obj) {\n        if(obj in this)\n            delete this[obj];\n        else\n            for(var k in obj)\n                if(k in this)\n                    delete this[k];\n    };\n\n    // Allow `this` to subscribe to the updates of another object\n    This.subscribe = function(obj) {\n        this.__proto__ = obj;\n    };\n\n    // Allow `this` to unsubscribe from the updates of another object\n    This.unsubscribe = function(obj) {\n        this.subscribe({}.__proto__);\n    };\n\n    // Allow `this` to permanently consume a property from another object\n    This.plagiarize = function(obj) {       \n        var key = Object.keys(obj);\n        var v, i = key.length;\n        while(i--) {\n            v = key[i];\n            this[v] = obj[v][v];\n        }\n    };\n\n    // Apply a unique identifier which corresponds with the global reference counter (and increment it)\n    This.publish({ id: ++referenceCount });\n\n    // return to `this` a newly constructed object\n    return This;\n}\n</code></pre>\n\n<p>The idea here is that you write one API (or module if you like) for one type of object. For example, your module may be a \"View API\" which contains all of the methods a view object may ever care about. You write those methods once, and never again. By writing the code within those methods as if the module were any future invoking object (using <code>this</code> or a once-defined stand-in for <code>this</code>), you can avoid rewriting or overriding properties and methods later down the line. So, this API effectively becomes the central <code>delegate</code> (or you could call it an <code>abstract class</code> if you want) for any future concrete objects that may be interested in its functionality (e.g. views). We already write centralized APIs on the server that act as delegates for data (most web APIs); why should we not extend this same philosophy to the client side to better organize our views, client-side models, and other objects?</p>\n\n<p>The primary difference between this delegate pattern and traditional module patterns, is that with this pattern you'll typically end up with one, somewhat lengthy module that looks and feels like an API with methods that can produce very different results depending on the invoking object (and thus the execution context), instead of having <em>many</em> semi-lengthy modules that have a mix of logic, methods, and unique properties which ultimately cause them to repeat each others' code. With this pattern, you'll probably see a lot less <code>conditional</code> logic, and you'll never have to use <code>var self = this</code> again -- this is what makes it an abstract delegate instead of a concrete module. Frameworks like Backbone nearly accomplish this, but they ultimately don't. Backbone is a framework for \"object inheritance\" and modular organization of code -- and that's great -- but I think biggest value it adds is actually the fact that it's gotten people to agree on \"some standard\" (but I could say the same about <em>CoffeeScript</em>; eww...).</p>\n\n<p>The final aspect of this pattern touches on your first example. By including basic accessor methods and <code>pub/sub</code> functionality in the core, we can truly create objects that are completely in sync with their parents when we want them to be, and have the ability to sever their relationships whimsically, as needed -- if needed. I've used <code>prototypes</code> to accomplish this, but you could probably think of another way too (using constructors). I think it results in a truer version of <code>pub/sub</code> where publishers know nothing about their subscribers, and subscribers only know about publishers when and if they subscribe to them.</p>\n\n<p>For more on this, I have a more detailed, documented example, which outlines a few of the possible use cases in a gist I created. Of course, the names of the variables should probably change to names that make more sense in your project -- I used these names to convey what their purpose is. Here's the gist: <strong><a href=\"https://gist.github.com/bennyschmidt/5069513\" rel=\"nofollow\">https://gist.github.com/bennyschmidt/5069513</a></strong></p>\n\n<p>I am interested to hear more about other modular design patterns you all have thought of. :></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am starting up a new project and I am reviewing my best-practices to try to prevent any problems, and also to see what bad habits I have gotten into.</p>\n\n<p>I am not terribly pleased with how I am handling initialization sequences in Javascript using the module / submodule pattern.</p>\n\n<p>Let's say, my code ends up with something like</p>\n\n<pre><code>FOO.init()\nFOO.module1.init()\nFOO.module2.init()\nFOO.module3.init()\nFOO.module4.init()\n</code></pre>\n\n<p>at the global scope.</p>\n\n<p>I am essentially doing (error checking and details omittied for brevity):</p>\n\n<pre><code>var FOO = (function (me) {\n    me.init = function () {\n        for (var i in me.inits) {\n            me.inits[i]();\n        }\n    }\n\n    return me; \n}(FOO || {}));\n\nvar FOO = (function (parent) {\n    var me = parent.module1 = parent.module1 || {};\n\n    me.init = function () {\n    }\n\n    parent.inits.push(me.init);\n\n    return parent;\n}(FOO || {}));\n\n$(document).ready(FOO.init);\n</code></pre>\n\n<p>for initialization.</p>\n\n<p>I know I have read up on this before, but I can't come up with the right search terms to find the articles now.  Is there a well thought out and tested pattern that handles initialization in sitiation like this?</p>\n\n<p>Thanks.</p>\n\n<p>EDIT: Upon re-reading this, I think a little context will inform answers.</p>\n\n<p>In my case, each module / submodule is in its own file.  The base module defines the basic functionality of the site, and sub-modules enable different features.  For example, a sub-module may wire up auto-completion on a search box, and another may turn a static header image into a rotating banner.  Sub-modules are enabled/disabled by the CMS, so I really do want to divorce explicit calls inside the base module so everything can be managed by the CMS.  I also that there are CMS specific ways to accomplish this, but I looking for a generic Javascript pattern for doing this to provide consistency and resuablity between projects that may use a different CMS.</p>\n",
            "last_activity_date": 1362268964,
            "question_id": 5083409,
            "score": 12,
            "tags": [
                "javascript",
                "design-patterns"
            ],
            "title": "Pattern for Javascript Module Pattern and Sub-Module Initialization"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>To only render part of a page you need to set the clipRect attribute for the page and then render it.</p>\n\n<pre><code>var clipRect = document.querySelector(selector).getBoundingClientRect();\npage.clipRect = {\n    top:    clipRect.top,\n    left:   clipRect.left,\n    width:  clipRect.width,\n    height: clipRect.height\n};\npage.render('capture.png');\n</code></pre>\n\n<p>I don't understand the second part of your question. Phantom.js is headless meaning that there is no actual display that a user is looking at.</p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>I had the same need, I tried this and it worked fine for me :</p>\n\n<p>don't forget the <code>http://www</code> in the URL</p>\n\n<pre><code>var page = require('webpage').create();\npage.open('YourPageURL', function (status) {\n\nif (status !== 'success') {\n    console.log('Network Problem');\n} else {\n    var p = page.evaluate(function () {\n        return document.getElementById('yourDivID').innerHTML\n    });\n    console.log(p);\n}\nphantom.exit();\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>You can use the CasperJS, another project based on PhantomJS.</p>\n\n<pre><code>casper.start('http://www.weather.com/', function() {\n    this.captureSelector('weather.png', '#wx-main');\n});\n\ncasper.run();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I would like to render individual HTML elements into PNGs using Phantom.JS. Does anyone know if this is possible? Also, how would I use Phantom.js to render a page that the user is already looking at?</p>\n",
            "last_activity_date": 1399559071,
            "question_id": 11917042,
            "score": 10,
            "tags": [
                "javascript",
                "phantomjs"
            ],
            "title": "How to render part of a page with PhantomJS?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Pass it in  locals: <code>{some: 'Locals', pageTitle: 'Welcome!'}</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Express does not have a preconceived notion of \"blocks\" or whatever they call that in in rails, but you can use a combination of helpers() and dynamicHelpers() to achieve something similar <a href=\"http://expressjs.com/guide.html#app-helpers-obj-\">http://expressjs.com/guide.html#app-helpers-obj-</a></p>\n\n<p>Locals passed are available to both the layout and the page view though</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Using the tip above about dynamicHelpers, and the magic of closures, I found a fairly elegant solution that works without involving the request object.  The trick is to wrap the page title variable in a closure that provides a get() and set() function around it, and make that wrapper object the result of the page_title dynamic helper.  </p>\n\n<p>Create a property.js:  </p>\n\n<pre><code>exports.create = function () {\n    var value = null;\n    return {\n        get: function () {\n           return value;\n        },\n        set: function (new_value) {\n           value = new_value;\n        }\n    };\n}\n</code></pre>\n\n<p>So calling create() returns an object with a get() and set() method on it, that get and set the closure variable.</p>\n\n<p>Then, in your app's setup code:</p>\n\n<pre><code>    var property = require(\"./property.js\");\n    app.dynamicHelpers ({\n        page_title: function () {\n         return property.create ();\n        }\n    });\n</code></pre>\n\n<p>Since the dynamic helper's value is the result of calling its function, in your view and template, the page_title variable will be the wrapper object with the get() and set() functions.</p>\n\n<p>In your view, you can then say:</p>\n\n<pre><code>- page_title.set (\"my specific page title\");\n</code></pre>\n\n<p>And in your layout:</p>\n\n<pre><code>title= page_title.get()\n</code></pre>\n\n<p>To simplify this a bit further, adding this to property.js:</p>\n\n<pre><code>exports.creator = function () {\n    return function () {\n        return exports.create();\n    };\n}\n</code></pre>\n\n<p>Lets you simplify the dynamic helpers declaration block to this:</p>\n\n<pre><code>        var property = require(\"./property.js\");\n        app.dynamicHelpers ({\n            page_title: property.creator()\n        });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>You can do that by using this little snippet.</p>\n\n<p>prop.js:</p>\n\n<pre><code>var hash = {};\nmodule.exports = function() {\n    return {\n        set: function(key, val) { hash[key] = val },\n        get: function(key) { return hash[key] }\n    };\n};\n</code></pre>\n\n<p>server.js:</p>\n\n<pre><code>app.dynamicHelpers({ prop: require(__dirname + '/views/helpers/prop') });\n</code></pre>\n\n<hr>\n\n<p>View:</p>\n\n<pre><code>&lt;% prop.set('foo', 'bar') %&gt;\n</code></pre>\n\n<p>Layout:</p>\n\n<pre><code>&lt;%= prop.get('foo') %&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>layout.jade</p>\n\n<pre><code># the following function is a safe getter/setter for locals\n- function pagevar(key, value) { var undef; return (value===undef) ? locals[key] || null : locals[key] = value; }\nblock config\n  #intended as a non-rendered block so that locals can be overridden.\n  # put your defaults here... - use append in the child view\n!!!\nhtml\n  head\n    title=pagevar('title')\n    meta(name='description',content=pagevar('description'))\n...</code></pre>\n\n<p>page.jade</p>\n\n<pre><code>append config\n  - locals.title = 'override';\n  - locals.description = 'override 2';\n  - pagevars('somekey', 'some value');\n...</code></pre>\n\n<p>Easy peazy.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>For Express 3 template agnostic, works well with <code>express-partials</code>    </p>\n\n<pre><code>app.use (req, res, next)-&gt;\n  req.locals = {} unless req.locals\n\n  res.locals.content_for = (k, v = null)-&gt;\n    if !v\n      req.locals[k]\n    else\n      req.locals[k] = v\n\n  next()\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a basic Express server:</p>\n\n<pre><code>// server.js:\nvar Express = require('express');\napp = Express.createServer();\napp.configure(function(){\n  app.set('views', Path.join(__dirname, 'views'));\n  app.set('view engine', 'jade');\n  app.set('view options');\n});\napp.get('/', function (request, response) {\n  response.render('welcome', {\n    locals: {some: 'Locals'}\n  });\n});\n</code></pre>\n\n<p>With a basic jade layout:</p>\n\n<pre><code>// views/layout.jade:\n!!! 5\nhtml(lang='en')\n  head\n    title= pageTitle\n  body\n    h1= pageTitle\n    aside(id=\"sidebar\")= sidebarContent\n    #content\n      #{body}\n</code></pre>\n\n<p>And a simple page:</p>\n\n<pre><code># views/welcome.jade:\n// How do I pass pageTitle and sidebarContent out to the layout from here?\np\n  Welcome to my fine site!\n</code></pre>\n\n<p>(In Rails, this might be something like <code>content_for</code> or a simple instance variable.)</p>\n",
            "last_activity_date": 1380913356,
            "question_id": 3601080,
            "score": 10,
            "tags": [
                "javascript",
                "node.js",
                "jade"
            ],
            "title": "How do I pass content from a template to a layout in Express?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Assuming you have an array of objects:</p>\n\n<pre><code>var data = [\n    { \"GROUPID\":3169675, \"LASTNAME\":\"Chantry\" },\n    { \"GROUPID\":3169612, \"LASTNAME\":\"Doe\" },\n    ...\n];\n</code></pre>\n\n<p>You can use a custom comparator to do the sorting. To sort first by <code>GROUPID</code>, and then by <code>LASTNAME</code>, the logic to compare two objects would be:</p>\n\n<pre><code>if GROUPID of first is smaller than second\n    return -1;\nelse if GROUPID of first is larger than second\n    return 1;\nelse if LASTNAME of first is smaller than second\n    return -1;\nelse if LASTNAME of first is larger than second\n    return 1;\nelse\n    return 0;\n</code></pre>\n\n<p>To sort the object array, use the above algorithm and call the sort method on the array. After sorting is done, <code>data</code> should have the elements in required sorted order.</p>\n\n<pre><code>data.sort(function(a, b) {\n    // compare a and b here using the above algorithm\n});\n</code></pre>\n\n<p>Here's another very <a href=\"http://stackoverflow.com/questions/3116172/jquery-sorting-of-div-elements-based-on-count-and-date-time-timestamp/3116296#3116296\">similar question</a> I answered recently. It's regarding sorting on multiple columns using jQuery, but you can strip out the jQuery part easily. It presents some customizable approaches which can extend to multiple columns.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>Here is a generic way to sort an array of objects, with multiple columns:</p>\n\n<pre><code>var arr = [\n    { id:5, name:\"Name3\" },\n    { id:4, name:\"Name1\" },\n    { id:6, name:\"Name2\" },\n    { id:3, name:\"Name2\" }\n],\n\n// generic comparison function\ncmp = function(x, y){\n    return x &gt; y ? 1 : x &lt; y ? -1 : 0; \n};\n\n//sort name ascending then id descending\narr.sort(function(a, b){\n    //note the minus before -cmp, for descending order\n    return cmp( \n        [cmp(a.name, b.name), -cmp(a.id, b.id)], \n        [cmp(b.name, a.name), -cmp(b.id, a.id)]\n    );\n});\n</code></pre>\n\n<p>To add other columns to sort on, you can add other items in the array comparison.</p>\n\n<pre><code>arr.sort(function(a, b){\n    return cmp( \n        [cmp(a.name, b.name), -cmp(a.id, b.id), cmp(a.other, b.other), ...], \n        [cmp(b.name, a.name), -cmp(b.id, a.id), cmp(b.other, a.other), ...]\n    );\n});\n</code></pre>\n\n<p><strong>EDIT</strong>: per @PhilipZ comment below, the array comparison in JS convert them in strings separated by comas.</p>\n",
                    "is_accepted": false,
                    "score": 28
                }
            ],
            "body": "<p>I have a JSON object that I want to sort by one key first, then by a second key similar to ordering by two columns in SQL.  Here is a sample of the JSON I would have:</p>\n\n<pre><code>{\n   \"GROUPID\":3169675,\n   \"LASTNAME\":\"Chantry\"\n}\n</code></pre>\n\n<p>I would like to order all the results by the GROUPID and then by LASTNAME.  I've used the JSON sort function to sort by one key but not multiple. </p>\n\n<p>Any help would be great.</p>\n",
            "last_activity_date": 1377807062,
            "question_id": 3230028,
            "score": 9,
            "tags": [
                "javascript",
                "json"
            ],
            "title": "How to order a JSON object by two keys?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Try using <code>resolve</code> property ofthe route. It resolves all the functions/dependencies passed to it before any controller or template is loaded. \nIncase the dependency returns a promise, till its resolved nothing is loaded.</p>\n\n<p>Try passing your authentication service in resolve and redirect incase of auth failure.</p>\n\n<p>Please have a look -> <a href=\"https://groups.google.com/forum/#!topic/angular/QtO8QoxSjYw\" rel=\"nofollow\">https://groups.google.com/forum/#!topic/angular/QtO8QoxSjYw</a></p>\n\n<p><strong>$stateProvider</strong> uses <strong>$routeProvider</strong> underneath. This wiki will give you more insights. <a href=\"https://github.com/angular-ui/ui-router/wiki#resolve\" rel=\"nofollow\">https://github.com/angular-ui/ui-router/wiki#resolve</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use <a href=\"http://docs.angularjs.org/api/ngRoute.$routeProvider\" rel=\"nofollow\">$routeProvider resolve</a></p>\n\n<pre><code>.when('/', {\n    templateUrl: 'src/app/views/index.html',\n    controller: 'indexCtrl',\n    resolve: function($q, $location) {\n      var deferred = $q.defer(); \n      deferred.resolve();\n      if (!isAuthenticated) {\n         $location.path('/login');\n      }\n\n      return deferred.promise;\n    }\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Angular-http-auth allow you to handle very elegantly authorization on HTTP level (when fetching template) and prompt for login if needed. All that without even loading template (nor controller) if authorization is denied. Clearly the best thing I've seen so far.</p>\n\n<p><a href=\"https://github.com/witoldsz/angular-http-auth\" rel=\"nofollow\">https://github.com/witoldsz/angular-http-auth</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>My solution was combining <code>$locationChangeStart</code> and <code>$routeChangeStart</code>:</p>\n\n<pre><code>$rootScope.$on('$locationChangeStart', function (event) {\n    //If login data not available, make sure we request for it\n    if($facebook.isConnected()==null) {\n        $facebook.getLoginStatus();\n        event.preventDefault();\n        return;\n    }\n\n    var next=parseRoute().$$route;\n    if(!Auth.loginCheck(next))\n        event.preventDefault();\n});\n</code></pre>\n\n<p><strong>I copied <code>parseRoute()</code> from <code>angular-route.js</code> to parse the given URL to route..</strong> </p>\n\n<p>Then I build my login check handler(<code>Auth.loginCheck</code>) in a way that if it fail it return false.</p>\n\n<p>I also use <code>$routeChangeStart</code> to handle <code>$route.reload()</code> events, so now after every change within my authentication status I just do <code>$route.reload()</code>:</p>\n\n<pre><code>$rootScope.$on('$routeChangeStart', function (event, next) {\n    Auth.loginCheck(next);\n});\n</code></pre>\n\n<p>Finally I just make sure that this custom service is always will run by using simple <code>run()</code> method.</p>\n\n<h3>Edit:</h3>\n\n<p>We now using ngAuth, a module we designed to solve that exact problem(based on the answer I gave here before).</p>\n\n<p>At last, we developed a angular-module that solved this issue.. This module is based on the answer I published here before.</p>\n\n<p>Due the requests here, we published a beta release that works now: <a href=\"http://github.com/GoDisco/ngAuth\" rel=\"nofollow\">http://github.com/GoDisco/ngAuth</a></p>\n\n<p>Feel free to use it.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Angularjs resolve example:</p>\n\n<pre><code>.when('/profile', {\n        templateUrl: 'views/profile.html',\n        controller: 'ProfileCtrl',\n        resolve: {\n            app: function($q, $rootScope, $location) {\n                var defer = $q.defer();\n                if ($rootScope.currentUser == undefined) {\n                    $location.path('/login');\n                };\n                defer.resolve();\n                return defer.promise;\n            }\n        }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I wish to create a simple authentication check for my routes by external service.</p>\n\n<p>I define the access requirements on the route object:</p>\n\n<pre><code>$routeProvider\n    .when('/', {\n        templateUrl: 'src/app/views/index.html',\n        controller: 'indexCtrl',\n        authenticated: true\n    })\n    .when('/login', {\n        templateUrl: 'src/app/views/login.html',\n        controller: 'loginCtrl',\n        anonymous:  true\n    })\n    .otherwise({\n        redirectTo: '/'\n    })\n;\n</code></pre>\n\n<p>Then, I check if I have permission within the <code>$routeChangeStart</code> event.</p>\n\n<pre><code>$rootScope.$on('$routeChangeStart', function (event, next) {\n    if(next.authenticated &amp;&amp; !$myService.isLoggedin())\n        $location.path(\"/login\");\n    else if(next.anonymous &amp;&amp; $myService.isLoggedin())\n        $location.path(\"/secured\");\n});\n</code></pre>\n\n<p>Actually, it works-<br />\nif the user in not authenticated it move him to the login page, if he is authenticated but the route is for anonymous users only it move them to another page, and etc..</p>\n\n<p><strong>BUT- this redirection actually happening after the controllers and the templates is load!</strong>\nAnd it cause my controller to do some unnecessary request to my REST API, even if I'm not authenticated.</p>\n\n<p>How can I handle the route before they process?</p>\n",
            "last_activity_date": 1418210625,
            "question_id": 18788586,
            "score": 6,
            "tags": [
                "javascript",
                "authentication",
                "angularjs",
                "angularjs-routing",
                "angularjs-authentication"
            ],
            "title": "AngularJS | handle routing before they load"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>To this question have any answer in stackoverflow, see this links:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/76976/how-to-get-progress-from-xmlhttprequest\">How to get progress from XMLHttpRequest</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/9540957/jquery-ajax-loop-to-refresh-jqueryui-progressbar\">jQuery AJAX loop to refresh jQueryUI ProgressBar</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/15328275/show-progressbar-while-loading-pages-using-jquery-ajax-in-single-page-website\">show progressbar while loading pages using jquery ajax in single page website</a></p>\n\n<p><a href=\"http://stackoverflow.com/questions/4503658/jquery-ajax-powered-progress-bar\">Jquery:: Ajax powered progress bar?</a></p>\n\n<p>and extra sources:</p>\n\n<p><a href=\"http://www.dave-bond.com/blog/2010/01/JQuery-ajax-progress-HMTL5/\" rel=\"nofollow\">JQuery ajax progress - HTML5</a></p>\n\n<p><a href=\"http://elfga.com/blog/2012/10/03/bootstrap-progress-bar-update-jqueryajax/\" rel=\"nofollow\">Bootstrap progress bar update using jQuery/AJAX</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>There are two ways to show real percentage. Briefly...  </p>\n\n<p><strong>One</strong> - old school native JavaScript or jQuery ajax, for which you need server support as well, a different URL which can give you updates. And you keep hitting that URL on an interval.  </p>\n\n<p><strong>Two</strong> - modern native native JavaScript in HTML5 browsers, supporting <a href=\"http://www.w3.org/TR/XMLHttpRequest2/\"><strong>XMLHTTPRequest2</strong></a>, also known as AJAX 2, defined by new Web and HTML5 Standards.  </p>\n\n<p>If two, welcome to the new web!!<br>\nMultiple features have been added to Browsers that enhance connectivity - part of HTML5 features.</p>\n\n<p><strong>XMLHTTPRequest2</strong> enables events in AJAX that help monitoring progress, as well as a lot of other things, from JavaScript itself. You can show the <strong>real percentage</strong> by monitoring the actual progress:</p>\n\n<pre><code>var oReq = new XMLHttpRequest();\n\noReq.addEventListener(\"progress\", updateProgress, false);\noReq.addEventListener(\"load\", transferComplete, false);\noReq.addEventListener(\"error\", transferFailed, false);\noReq.addEventListener(\"abort\", transferCanceled, false);\n\noReq.open();\n</code></pre>\n\n<p>Then you can define the handlers attached above (<strong>progress</strong> in your case):</p>\n\n<pre><code>function updateProgress (oEvent) {\n  if (oEvent.lengthComputable) {\n    var percentComplete = oEvent.loaded / oEvent.total;\n    // ...\n  } else {\n    // Unable to compute progress information since the total size is unknown\n  }\n}\n</code></pre>\n\n<p>jQuery can be used in the second case as well. After all, jQuery is for helping you with less code, more doing!</p>\n\n<p>Hoping that you are focusing on HTML5 and the new web solution, I would point you to <strong>Mozilla DOC</strong> - <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest?redirectlocale=en-US&amp;redirectslug=DOM/XMLHttpRequest/Using_XMLHttpRequest#Monitoring_progress\">Monitoring Progress in AJAX</a> from where I have taken this solution.</p>\n\n<p>Every Browser now has a documentation for the web (like the one above from Mozilla) and additionally, all of them are contributing to a common venture called <a href=\"http://www.webplatform.org/\"><strong>Web Platform</strong></a>, together with other influential Web and Internet giants - for a common updated Web Documentation. It is a work in progress, so not complete.</p>\n\n<p>Also, <strong>there is no native functionality in the old AJAX, to monitor progress</strong>. </p>\n\n<p>In the old-school way, you would have to create an interval function that would keep on hitting a separate URL to get the progress update. Your server also has to update the progress and send that as a response from that URL available from a different port.</p>\n",
                    "is_accepted": true,
                    "score": 17
                }
            ],
            "body": "<p>I want to show the user percentage of the ajax response loaded with a progressbar.\nIs there a way to achieve it?\nRight now I am showing just an image.</p>\n\n<p>Here is my code sample :</p>\n\n<pre><code>$('#loadingDiv').show();\n\n$.ajax({\n        type : 'Get',\n        url : myUrl,\n        success : function(response) {\n            $('#loadingDiv').hide();\n            populateData(response);\n        },\n        error: function(x, e) {\n                    $('#loadingDiv').hide();\n            if (x.status == 500 || x.status == 404) {\n                    alert(\"no data found\");\n                }\n        }\n    });\n</code></pre>\n\n<p>HTML code:</p>\n\n<pre><code>&lt;div id=\"loadingDiv\"&gt;\n     &lt;img src=\"loading-img.png\"/&gt;\n&lt;/div&gt;\n</code></pre>\n",
            "last_activity_date": 1392386938,
            "question_id": 16690740,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "How to show loading status in percentage for ajax response?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Seems to be a Node REPL bug, putting these two lines in a <code>.js</code> will cause syntax error.</p>\n\n<pre><code>function hi() { console.log(\"Hello, World!\"); }\nhi)(\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>SyntaxError: Unexpected token )\n    at Module._compile (module.js:439:25)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Function.Module.runMain (module.js:497:10)\n    at startup (node.js:119:16)\n    at node.js:901:3\n</code></pre>\n\n<p>Issue submitted <a href=\"https://github.com/joyent/node/issues/6334\">#6634</a>.</p>\n\n<p>Reproduced on v0.10.20.</p>\n\n<hr>\n\n<p>v0.11.7 have this fixed.</p>\n\n<pre><code>$ nvm run 0.11.7\nRunning node v0.11.7\n&gt; function hi() { console.log(\"Hello, World!\"); }\nundefined\n&gt;  hi)(\nSyntaxError: Unexpected token )\n    at Object.exports.createScript (vm.js:44:10)\n    at REPLServer.defaultEval (repl.js:117:23)\n    at REPLServer.b [as eval] (domain.js:251:18)\n    at Interface.&lt;anonymous&gt; (repl.js:277:12)\n    at Interface.EventEmitter.emit (events.js:103:17)\n    at Interface._onLine (readline.js:194:10)\n    at Interface._line (readline.js:523:8)\n    at Interface._ttyWrite (readline.js:798:14)\n    at ReadStream.onkeypress (readline.js:98:10)\n    at ReadStream.EventEmitter.emit (events.js:106:17)\n&gt; \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 79
                },
                {
                    "body": "<p>It's due to how the REPL evaluates the input, which is ultimately as:</p>\n\n<pre><code>(hi)()\n</code></pre>\n\n<p>The additional parenthesis are added <a href=\"https://github.com/joyent/node/blob/v0.10.20/lib/repl.js#L237-L239\">to force it to be an <em>Expression</em></a>:</p>\n\n<pre><code>  // First we attempt to eval as expression with parens.\n  // This catches '{a : 1}' properly.\n  self.eval('(' + evalCmd + ')',\n      // ...\n</code></pre>\n\n<p>The intent is to treat <code>{...}</code> as <code>Object</code> literals/<a href=\"http://es5.github.io/#x11.1.5\">initialisers</a> rather than as a <a href=\"http://es5.github.io/#x12.1\">block</a>.</p>\n\n<pre><code>var stmt = '{ \"foo\": \"bar\" }';\nvar expr = '(' + stmt + ')';\n\nconsole.log(eval(expr)); // Object {foo: \"bar\"}\nconsole.log(eval(stmt)); // SyntaxError: Unexpected token :\n</code></pre>\n\n<p>And, as leesei mentioned, this has been changed for 0.11.x, which <a href=\"https://github.com/joyent/node/blob/v0.11.7/lib/repl.js#L263-L274\">will just wrap <code>{ ... }</code></a> rather than all input:</p>\n\n<pre><code>  if (/^\\s*\\{/.test(evalCmd) &amp;&amp; /\\}\\s*$/.test(evalCmd)) {\n    // It's confusing for `{ a : 1 }` to be interpreted as a block\n    // statement rather than an object literal.  So, we first try\n    // to wrap it in parentheses, so that it will be interpreted as\n    // an expression.\n    evalCmd = '(' + evalCmd + ')\\n';\n  } else {\n    // otherwise we just append a \\n so that it will be either\n    // terminated, or continued onto the next expression if it's an\n    // unexpected end of input.\n    evalCmd = evalCmd + '\\n';\n  }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 194
                },
                {
                    "body": "<p>There was a bug raised 4 months back, for this issue <a href=\"https://github.com/joyent/node/issues/5698\">https://github.com/joyent/node/issues/5698</a></p>\n\n<p>And the problem was because, REPL encloses the statements with parens. So</p>\n\n<pre><code>foo)(\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>(foo)()\n</code></pre>\n\n<p>Actual explanation can be found here <a href=\"https://github.com/joyent/node/issues/5698#issuecomment-19487718\">https://github.com/joyent/node/issues/5698#issuecomment-19487718</a>.</p>\n",
                    "is_accepted": false,
                    "score": 59
                }
            ],
            "body": "<p>Why is it possible to call function in JavaScript like this, tested with node.js:</p>\n\n<pre><code>~$ node\n&gt; function hi() { console.log(\"Hello, World!\"); };\nundefined\n&gt; hi\n[Function: hi]\n&gt; hi()\nHello, World!\nundefined\n&gt; hi)( // WTF?\nHello, World!\nundefined\n&gt;\n</code></pre>\n\n<p>Why does the last call, <code>hi)(</code>, work? Is it bug in node.js, bug in V8 engine, officially undefined behaviour, or actually valid JavaScript for all interpreters?</p>\n",
            "last_activity_date": 1396576820,
            "question_id": 19310788,
            "score": 181,
            "tags": [
                "javascript",
                "node.js",
                "syntax"
            ],
            "title": "Why does calling a function in the Node.js REPL with )( work?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>You don't need jquery, just use <code>yourstring.length</code>. See reference <a href=\"http://www.w3schools.com/jS/js%5Fobj%5Fstring.asp\">here</a> and also <a href=\"http://www.quirksmode.org/js/strings.html\">here</a>.</p>\n",
                    "is_accepted": true,
                    "score": 249
                },
                {
                    "body": "<p>It's not jquery you need, it's JS:</p>\n\n<pre><code>alert(str.length);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>same way you do it in javascript:</p>\n\n<p><code>\"something\".length</code></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>You don't need to use jquery.  </p>\n\n<pre><code>var myString = 'abc';\nvar n = myString.length;\n</code></pre>\n\n<p>n will be 3.</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>jQuery is a JavaScript library. </p>\n\n<p>You don't need to use jQuery to get the length of a string because it is a basic JavaScript string object property.</p>\n\n<pre><code>somestring.length;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>The easiet way: </p>\n\n<pre><code>$('#selector').val().length\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 103
                },
                {
                    "body": "<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div class=\"selector\"&gt;Text mates&lt;/div&gt;\n</code></pre>\n\n<p><strong>SCRIPT</strong></p>\n\n<pre><code>alert(jQuery('.selector').text().length);\n</code></pre>\n\n<p><strong>RESULT</strong></p>\n\n<p>10</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>A somewhat important distinction is if the element is an input or not. If an input you can use:</p>\n\n<pre><code>$('#selector').val().length;\n</code></pre>\n\n<p>otherwise if the element is a different html element like a paragraph or list item div etc, you must use</p>\n\n<pre><code>$('#selector').text().length;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 14
                }
            ],
            "body": "<p>How do you get the length of a string in jQuery?</p>\n",
            "last_activity_date": 1409881136,
            "question_id": 1044105,
            "score": 112,
            "tags": [
                "javascript",
                "jquery",
                "string-length"
            ],
            "title": "String length and jQuery"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can't (and shouldn't) block processing with a sleep function. However, you can use <code>setTimeout</code> to kick off a function after a delay:</p>\n\n<pre><code>setTimeout(function(){alert(\"hi\")}, 1000);\n</code></pre>\n\n<p>Depending on your needs, <code>setInterval</code> might be useful, too.</p>\n",
                    "is_accepted": false,
                    "score": 55
                },
                {
                    "body": "<p>You need to re-factor the code into pieces. This doesn't stop execution, it just puts a delay in between the parts.</p>\n\n<pre><code>function partA() {\n  ...\n  window.setTimeout(partB,1000);\n}\n\nfunction partB() {\n   ...\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 83
                },
                {
                    "body": "<p>setTimeout() function it's use to delay a process in JavaScript.</p>\n\n<p><a href=\"http://www.w3schools.com/js/js_timing.asp\">w3schools</a> has an easy tutorial about this function.</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/951021/javascript-sleep\">Javascript sleep</a>  </p>\n</blockquote>\n\n\n\n<p>Is there a javascript function that simulates the operation of function 'sleep' in PHP?</p>\n\n<p>A function 'sleep' to pause code execution on x milliseconds, and then resume where it left off.</p>\n\n<p>There is something in javascript?</p>\n\n<p>I found some things here on stackoverflow, but nothing useful.</p>\n",
            "last_activity_date": 1423060884,
            "question_id": 7854820,
            "score": 74,
            "tags": [
                "javascript",
                "sleep"
            ],
            "title": "Sleep/Pause/Wait in Javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>The collection results you get back from a jQuery collection do not support set-based comparison.  You can use compare the individual members one by one though, there are no utilities for this that I know of in jQuery.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>You could compare DOM elements. Remember that jQuery selectors return arrays which will never be equal in the sense of reference equality.</p>\n\n<p>Assuming:</p>\n\n<pre><code>&lt;div id=\"a\" class=\"a\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>this:</p>\n\n<pre><code>$('div.a')[0] == $('div#a')[0]\n</code></pre>\n\n<p>returns true.</p>\n",
                    "is_accepted": true,
                    "score": 77
                },
                {
                    "body": "<p>Random AirCoded example of testing \"set equality\" in jQuery:</p>\n\n<pre><code>$.fn.isEqual = function($otherSet) {\n  if (this === $otherSet) return true;\n  if (this.length != $otherSet.length) return false;\n  var ret = true;\n  this.each(function(idx) { \n    if (this !== $otherSet[idx]) {\n       ret = false; return false;\n    }\n  });\n  return ret;\n};\n\nvar a=$('#start &gt; div:last-child');\nvar b=$('#start &gt; div.live')[0];\n\nconsole.log($(b).isEqual(a));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Every time you call the jQuery() function, a new object is created and returned. So even equality checks on the same selectors will fail.</p>\n\n<pre><code>&lt;div id=\"a\"&gt;test&lt;/div&gt;\n\n$('#a') == $('#a') // false\n</code></pre>\n\n<p>The resulting jQuery object contains an array of matching elements, which are basically native DOM objects like <code>HTMLDivElement</code> that always refer to the same object, so you should check those for equality using the array index as Darin suggested.</p>\n\n<pre><code>$('#a')[0] == $('#a')[0] // true\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>For the record, jQuery has an <a href=\"http://api.jquery.com/is/\"><code>is()</code></a> function for this:</p>\n\n<pre><code>a.is(b)\n</code></pre>\n\n<p>Note that <code>a</code> is already a jQuery instance.</p>\n",
                    "is_accepted": false,
                    "score": 170
                }
            ],
            "body": "<pre><code>var a=$('#start &gt; div:last-child');\nvar b=$('#start &gt; div.live')[0];\nalert(a==b)\nalert(a==$(b))\n</code></pre>\n\n<p>It's always false. How can you compare two elements in jQuery?</p>\n\n<p>thanks</p>\n",
            "last_activity_date": 1407422820,
            "question_id": 2407825,
            "score": 73,
            "tags": [
                "javascript",
                "jquery",
                "dom"
            ],
            "title": "how to compare two elements in jquery"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Use <code>regex.test()</code> if all you want is a boolean result:</p>\n\n<pre><code>/^([a-z0-9]{5,})$/.test('abc1');   // false\n\n/^([a-z0-9]{5,})$/.test('abc12');   // true\n\n/^([a-z0-9]{5,})$/.test('abc123');   // true\n</code></pre>\n\n<p>...and you could remove the <code>()</code> from your regexp since you've no need for a capture.</p>\n",
                    "is_accepted": true,
                    "score": 121
                },
                {
                    "body": "<p>Use <code>/youregexp/.test(yourString)</code> if you only want to know whether your string matches the regexp.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Here's an example that looks for certain HTML tags so it's clear that <code>/someregex/.test()</code> returns a boolean:</p>\n\n<pre><code>var str = \"h3\";\n\nif( /(span|h[0-6]|li|a)/i.test(str) )\n    {\n        alert('true');\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use match() as well:</p>\n\n<pre><code>if(str.match(/^([a-z0-9]{5,})$/g)){\n    alert(\"match!\");\n}\n</code></pre>\n\n<p>But test() seems to be faster as you can read here:\n<a href=\"http://stackoverflow.com/a/10940138/1895428\">http://stackoverflow.com/a/10940138/1895428</a></p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Use <code>test()</code> method : </p>\n\n<pre><code>var string = \"sample1\";\nvar re = new RegExp(\"^([a-z0-9]{5,})$\");\nif (re.test(string)) {\n    console.log(\"Valid\");\n} else {\n    console.log(\"Invalid\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I want to use JavaScript (or jQuery) to do some client-side validation to check whether a string matches the regex:</p>\n\n<pre><code>^([a-z0-9]{5,})$\n</code></pre>\n\n<p>Ideally it would be an expression that returned true or false. </p>\n\n<p>I'm a JavaScript newbie, does <code>match()</code> do what I need? It seems to check whether part of a string matches a regex, not the whole thing. </p>\n",
            "last_activity_date": 1424320465,
            "question_id": 6603015,
            "score": 72,
            "tags": [
                "javascript"
            ],
            "title": "JavaScript: check a string matches a regex?"
        },
        {
            "answer_count": 13,
            "answers": [
                {
                    "body": "<p>JavaScript objects can only use strings as keys (anything else is converted to a string).</p>\n\n<p>You could, alternatively, maintain an array which indexes the objects in question, and use its index string as a reference to the object. Something like this:</p>\n\n<pre><code>var ObjectReference = [];\nObjectReference.push(obj);\n\nset['ObjectReference.' + ObjectReference.indexOf(obj)] = true;\n</code></pre>\n\n<p>Obviously it's a little verbose, but you could write a couple of methods that handle it and get and set all willy nilly.</p>\n\n<p>Edit:</p>\n\n<blockquote>\n  <p>Your guess is fact -- this is defined behaviour in JavaScript -- specifically a toString conversion occurs meaning that you can can define your own toString function on the object that will be used as the property name. - olliej</p>\n</blockquote>\n\n<p>This brings up another interesting point; you can define a toString method on the objects you want to hash, and that can form their hash identifier.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>If you truly want set behavior (I'm going by Java knowledge), then you will be hard pressed to find a solution in JavaScript. Most developers will recommend a unique key to represent each object, but this is unlike set, in that you can get two identical objects each with a unique key. The Java API does the work of checking for duplicate values by comparing hash code values, not keys, and since there is no hash code value representation of objects in JavaScript, it becomes almost impossible to do the same. Even the Prototype JS library admits this shortcoming, when it says:</p>\n\n<blockquote>\n  <p>\"Hash can be thought of as an\n  associative array, binding unique keys\n  to values (which are not necessarily\n  unique)...\"</p>\n</blockquote>\n\n<p><a href=\"http://www.prototypejs.org/api/hash\" rel=\"nofollow\">http://www.prototypejs.org/api/hash</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The JavaScript specification defines indexed property access as performing a toString conversion on the index name. For example,</p>\n\n<pre><code>myObject[myProperty] = ...;\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>myObject[myProperty.toString()] = ...;\n</code></pre>\n\n<p>This is necessary as in JavaScript</p>\n\n<pre><code>myObject[\"someProperty\"]\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>myObject.someProperty\n</code></pre>\n\n<p>And yes, it makes me sad as well :-(</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The easiest way to do this is to give each of your objects its own unique <code>toString</code> method:</p>\n\n<pre><code>(function() {\n    var id = 0;\n\n    /*global MyObject */\n    MyObject = function() {\n        this.objectId = '&lt;#MyObject:' + (id++) + '&gt;';\n        this.toString= function() {\n            return this.objectId;\n        };\n    };\n})();\n</code></pre>\n\n<p>I had the same problem and this solved it perfectly for me with minimal fuss, and was a lot easier that re-implementing some fatty Java style <code>Hashtable</code> and adding <code>equals()</code> and <code>hashCode()</code> to your object classes. Just make sure that you don't also stick a string '&lt;#MyObject:12> into your hash or it will wipe out the entry for your exiting object with that id.</p>\n\n<p>Now all my hashes are totally chill. I also just posted a blog entry a few days ago about <a href=\"http://strd6.com/?p=276\">this exact topic</a>.</p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>The solution I chose is similar to Daniel's, but rather than use an object factory and override the toString, I explicitly add the hash to the object when it is first requested through a getHashCode function. A little messy, but better for my needs :)</p>\n\n<pre><code>Function.prototype.getHashCode = (function(id) {\n    return function() {\n        if (!this.hashCode) {\n            this.hashCode = '&lt;hash|#' + (id++) + '&gt;';\n        }\n        return this.hashCode;\n    }\n}(0));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>If you want a hashCode() function like Java's in JavaScript, that is yours:</p>\n\n<pre><code>String.prototype.hashCode = function(){\n    var hash = 0;\n    if (this.length == 0) return hash;\n    for (var i = 0; i &lt; this.length; i++) {\n        var character = this.charCodeAt(i);\n        hash = ((hash&lt;&lt;5)-hash)+character;\n        hash = hash &amp; hash; // Convert to 32bit integer\n    }\n    return hash;\n}\n</code></pre>\n\n<p>That is the way of implementation in Java (bitwise operator).</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>What you described is covered by Harmony <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/WeakMap\" rel=\"nofollow\">WeakMaps</a>, part of the <a href=\"http://en.wikipedia.org/wiki/ECMAScript#Versions\" rel=\"nofollow\">ECMAScript&nbsp;6</a> specification (next version of JavaScript). That is: a set where the keys can be anything (including undefined) and is non-enumerable.</p>\n\n<p>This means it's impossible to get a reference to a value unless you have a direct reference to the key (any object!) that links to it. It's important for a bunch of engine implementation reasons relating to efficiency and garbage collection, but it's also super cool for in that it allows for new semantics like revokable access permissions and passing data without exposing the data sender.</p>\n\n<p>From <a href=\"https://en.wikipedia.org/wiki/Mozilla_Developer_Network\" rel=\"nofollow\">MDN</a>:</p>\n\n<pre><code>var wm1 = new WeakMap(),\n    wm2 = new WeakMap();\nvar o1 = {},\n    o2 = function(){},\n    o3 = window;\n\nwm1.set(o1, 37);\nwm1.set(o2, \"azerty\");\nwm2.set(o1, o2); // A value can be anything, including an object or a function.\nwm2.set(o3, undefined);\nwm2.set(wm1, wm2); // Keys and values can be any objects. Even WeakMaps!\n\nwm1.get(o2); // \"azerty\"\nwm2.get(o2); // Undefined, because there is no value for o2 on wm2.\nwm2.get(o3); // Undefined, because that is the set value.\n\nwm1.has(o2); // True\nwm2.has(o2); // False\nwm2.has(o3); // True (even if the value itself is 'undefined').\n\nwm1.has(o1);   // True\nwm1.delete(o1);\nwm1.has(o1);   // False\n</code></pre>\n\n<p>WeakMaps are currently available in Firefox 6 and newer and <a href=\"http://en.wikipedia.org/wiki/Node.js\" rel=\"nofollow\">Node.js</a> with the flag <code>--harmony-weak-maps</code>.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>In addition to eyelidlessness's answer, here is a function that returns a reproducible, unique ID for any object:</p>\n\n<pre><code>var uniqueIdList = [];\nfunction getConstantUniqueIdFor(element) {\n    // HACK, using a list results in O(n), but how do we hash e.g. a DOM node?\n    if (uniqueIdList.indexOf(element) &lt; 0) {\n        uniqueIdList.push(element);\n    }\n    return uniqueIdList.indexOf(element);\n}\n</code></pre>\n\n<p>As you can see it uses a list for look-up which is very inefficient, however that's the best I could find for now.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you want to use objects as keys you need to overwrite their toString Method, as some already mentioned here. The hash functions that were used are all fine, but they only work for the same objects not for equal objects.</p>\n\n<p>I've written a small library that creates hashes from objects, which you can easily use for this purpose. The objects can even have a different order, the hashes will be the same. Internally you can use different types for your hash (djb2, md5, sha1, sha256, sha512, ripemd160).</p>\n\n<p>Here is a small example from the documentation:</p>\n\n<pre><code>var hash = require('es-hash');\n\n// Save data in an object with an object as a key\nObject.prototype.toString = function () {\n    return '[object Object #'+hash(this)+']';\n}\n\nvar foo = {};\n\nfoo[{bar: 'foo'}] = 'foo';\n\n/*\n * Output:\n *  foo\n *  undefined\n */\nconsole.log(foo[{bar: 'foo'}]);\nconsole.log(foo[{}]);\n</code></pre>\n\n<p>The package can be used either in browser and in Node-Js.</p>\n\n<p>Repository: <a href=\"https://bitbucket.org/tehrengruber/es-js-hash\" rel=\"nofollow\">https://bitbucket.org/tehrengruber/es-js-hash</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>My solution introduces a static function for the global <code>Object</code> object.</p>\n\n<pre><code>(function() {\n    var lastStorageId = 0;\n\n    this.Object.hash = function(object) {\n        var hash = object.__id;\n\n        if (!hash)\n             hash = object.__id = lastStorageId++;\n\n        return '#' + hash;\n    };\n}());\n</code></pre>\n\n<p>I think this is more convenient with other object manipulating functions in JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I put together <a href=\"https://github.com/stuartbannerman/hashcode\" rel=\"nofollow\">a small JavaScript module</a> a while ago to produce hashcodes for strings, objects, arrays, etc. (I just committed it to <a href=\"http://en.wikipedia.org/wiki/GitHub\" rel=\"nofollow\">GitHub</a> :) )</p>\n\n<p>Usage:</p>\n\n<pre><code>Hashcode.value(\"stackoverflow\")\n// -2559914341\nHashcode.value({ 'site' : \"stackoverflow\" })\n// -3579752159\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>For my specific situation I only care about the equality of the object as far as keys and primitive values go. The solution that worked for me was converting the object to its JSON representation and using that as the hash. There are limitations such as order of key definition potentially being inconsistent; but like I said it worked for me because these objects were all being generated in one place.</p>\n\n<pre><code>var hashtable = {};\n\nvar myObject = {a:0,b:1,c:2};\n\nvar hash = JSON.stringify(myObject);\n// '{\"a\":0,\"b\":1,\"c\":2}'\n\nhashtable[hash] = myObject;\n// {\n//   '{\"a\":0,\"b\":1,\"c\":2}': myObject\n// }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In ECMAScript 6 there's now a <code>Set</code> that works how you'd like: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set</a></p>\n\n<p>It's already available in the latest Chrome, FF, and IE11.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Basically, I'm trying to create an object of unique objects, a set. I had the brilliant idea of just using a JavaScript object with objects for the property names. Such as,</p>\n\n<pre><code>set[obj] = true;\n</code></pre>\n\n<p>This works, up to a point. It works great with string and numbers, but with other objects, they all seem to \"hash\" to the same value and access the same property. Is there some kind of way I can generate a unique hash value for an object? How do strings and numbers do it, can I override the same behavior?</p>\n",
            "last_activity_date": 1421178520,
            "question_id": 194846,
            "score": 62,
            "tags": [
                "javascript",
                "hash",
                "set",
                "hashcode"
            ],
            "title": "Is there any kind of hash code function in JavaScript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Because \"1\" may be considered as \"true\" when you do equality check, not identity, but \"2\" - can't.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>tldr; this is due to the <a href=\"http://es5.github.io/#x9.3\">[ToNumber]</a> conversions in the <code>==</code> operator algorithm.</p>\n\n<p>The first step is to simplify the expression. Since <code>!!x==\"x\"</code> is parsed like <code>(!!x)==\"x\"</code> and <code>!!a_truthy_expression -&gt; true</code>, the actual relevant expression for the equality is</p>\n\n<pre><code>!!1==\"2\" -&gt; true==\"1\" -&gt; Boolean==String\n!!2==\"2\" -&gt; true==\"2\" -&gt; Boolean==String\n</code></pre>\n\n<p>So then looking at the rules for <a href=\"http://es5.github.io/#x11.9.3\">11.9.3 The Abstract Equality Comparison Algorithm</a> and following along with the application yields</p>\n\n<blockquote>\n  <p>Rule 6 - If Type(x) is Boolean, return the result of the comparison ToNumber(x) == y.</p>\n</blockquote>\n\n<p>which results in <code>Number==String</code> or 1==\"1\" and 1==\"2\", respectively<sup>1</sup>. Then the rule</p>\n\n<blockquote>\n  <p>Rule 7 - If Type(x) is Number and Type(y) is String,\n  return the result of the comparison x == ToNumber(y).</p>\n</blockquote>\n\n<p>is applied which results in <code>Number==Number</code> or 1==1 and 1==2, respectively<sup>1</sup>; the latter is clearly false.</p>\n\n<blockquote>\n  <p>Rule 1 - If Type(x) is the same as Type(y), then [by c.iii.] If x is the same Number value as y, return true [else return false].</p>\n</blockquote>\n\n<p>(The same algorithm explains the <code>String==Boolean</code> case when the complementing rules are applied.)</p>\n\n<hr>\n\n<p><sup>1</sup>To see the [ToNumber] rule applied, consider:</p>\n\n<pre><code>+false -&gt; 0\n+true  -&gt; 1\n+\"1\"   -&gt; 1\n+\"2\"   -&gt; 2\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p><strong>Its a precedence operator problem.</strong></p>\n\n<p>The <code>!</code> operator is an unary operator. That means the left side must be an expression or a boolean evaluable section. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators\">Javascript MDN</a>. </p>\n\n<pre><code>!!1==1 is not necessary !!(1==1)\n!!2==2 is not necessary !!(2==2)\n</code></pre>\n\n<p>I think that these expressions should be consistent if the equal operator has more precedence than ! operator. But if we consider the opposite, evaluating first negations we have:</p>\n\n<pre><code>!!1 == 1\n!1 -&gt; false\n!!1 -&gt; true\n!!1 == 1 \n</code></pre>\n\n<p>And with the two</p>\n\n<pre><code>!!2==2\n!2 -&gt; false\n!!2 -&gt; true\n(!!2) == 2 -&gt; false\n</code></pre>\n\n<p>That is because the ! operator has precedence over == operator</p>\n\n<p>See <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence\">Mozilla Operator Preference</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><code>!!1</code> is equal to true, and \"1\" is equal to true (\"0\" is false, so is every other string). So <code>!!1 == \"1\"</code> evaluates to <code>true == true</code>, which of course returns true.</p>\n\n<p><code>!!2</code> is also equal to true. As I mentioned earlier, \"2\" is not \"1\", so it's false. Therefore,  we have <code>true == false</code>, which of course returns false.</p>\n\n<p>If you want to see if 2 (a number) is equal to \"2\" (a string representation of a number), then all you have to do is <code>2 == \"2\"</code>, which evaluates to <code>2 == 2</code>, which is true. The difference is that we're not comparing a boolean against a boolean. We're comparing a number against a number.</p>\n\n<p>Basically, putting <code>!!</code> in front of a number converts to a boolean, which forces JavaScript to cast your string to a boolean instead of a number.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>As per the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence\">Operator precedence</a> rules, logical <code>!</code> has higher priority over <code>==</code>. So, in both the cases, <code>!!</code> is evaluated first.</p>\n\n<p><strong>Note:</strong> Truthiness of various objects have been explained in <a href=\"http://stackoverflow.com/a/23368135/1903116\">this answer</a> of mine.</p>\n\n<h3>First Case</h3>\n\n<pre><code>!!1 == \"1\"\n</code></pre>\n\n<p><code>!1</code> will be evaluated to <code>false</code>, since <code>1</code> is considered Truthy. Negating again we get <code>true</code>. So the expression becomes</p>\n\n<pre><code>true == \"1\"\n</code></pre>\n\n<p>Now, the coercion rules kick in as you have used <code>==</code> operator, which evaluates as per the <a href=\"http://es5.github.io/#x11.9.3\">The Abstract Equality Comparison Algorithm</a> defined in ECMAScript 5.1 Specification,</p>\n\n<blockquote>\n  <p>6. If <code>Type(x)</code> is <code>Boolean</code>, return the result of the comparison <code>ToNumber(x) == y</code>.</p>\n</blockquote>\n\n<p>So, <code>true</code> will be converted to a number, which is 1 as per <a href=\"http://es5.github.io/#x9.3\"><code>ToNumber</code> algorithm for Boolean values</a>. Now the expression becomes</p>\n\n<pre><code>1 == \"1\"\n</code></pre>\n\n<p>Now, </p>\n\n<blockquote>\n  <p>4. If <code>Type(x)</code> is <code>Number</code> and <code>Type(y)</code> is <code>String</code>,\n        return the result of the comparison <code>x == ToNumber(y)</code>.</p>\n</blockquote>\n\n<p>So, <code>\"1\"</code> will be converted to a number and that will give 1, as per the <a href=\"http://es5.github.io/#x9.3.1\"><code>ToNumber</code> algorithm</a>. That is why it shows <code>true</code> in the first case. </p>\n\n<h3>Second Case</h3>\n\n<p>The same rules are applied here.</p>\n\n<pre><code>!!2 == \"2\"\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>true == \"2\"\n</code></pre>\n\n<p>then</p>\n\n<pre><code>1 == \"2\"\n</code></pre>\n\n<p>which becomes </p>\n\n<pre><code>1 == 2\n</code></pre>\n\n<p>which is not <code>true</code>, that is why the second case prints <code>false</code>.</p>\n",
                    "is_accepted": true,
                    "score": 182
                }
            ],
            "body": "<p>As the title states, why does:</p>\n\n<pre><code>&gt; !!1==\"1\"\n</code></pre>\n\n<p>equal</p>\n\n<pre><code>True\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&gt; !!2==\"2\"\n</code></pre>\n\n<p>equal:</p>\n\n<pre><code>False\n</code></pre>\n\n<p>Likewise, why does <code>&gt; \"1\"==true</code> equal <code>true</code> and <code>&gt; \"2\"==true</code> equal <code>false</code></p>\n\n<p>I'm baffled. Are these just bugs in JS or what's going on here?</p>\n",
            "last_activity_date": 1404922713,
            "question_id": 23693089,
            "score": 57,
            "tags": [
                "javascript"
            ],
            "title": "Why does !!1==&quot;1&quot; equal true and !!2==&quot;2&quot; equal false?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The pseudovariables are only available in the context of data binding.  The view model itself ideally should not know about or have any dependencies on the view that is displaying it.</p>\n\n<p>So, when adding computed observables in the view model, you have no knowledge of how it will be bound (like what is going to be $root).  A view model or part of a view model could even be bound separately to multiple areas of the page at different levels, so the pseudo-variables would be different depending on the element that you are starting with.  </p>\n\n<p>It depends on what you are trying to accomplish, but if you want your child to have an <code>isSelected</code> computed observable that indicates whether this item is the same as the selected item on the parent view model, then you will need to find a way to make the parent available to the child.  </p>\n\n<p>One option is to pass the parent into the constructor function of your child.  You do not even need to add the pointer to the parent as a property of the child and can just use it in your computed observable directly.</p>\n\n<p>Something like: </p>\n\n<pre><code>var Item = function(name, parent) {\n   this.name = ko.observable(name);  \n   this.isSelected = ko.computed(function() {\n       return this === parent.selectedItem();        \n   }, this);\n};\n\nvar ViewModel = function() {\n   this.selectedItem = ko.observable();\n   this.items = ko.observableArray([\n       new Item(\"one\", this),\n       new Item(\"two\", this),\n       new Item(\"three\", this)\n       ]);\n};\n</code></pre>\n\n<p>Sample here: <a href=\"http://jsfiddle.net/rniemeyer/BuH7N/\">http://jsfiddle.net/rniemeyer/BuH7N/</a></p>\n\n<p>If all you care about is the selected status, then you can tweak it to pass a reference to the <code>selectedItem</code> observable to the child constructor like: <a href=\"http://jsfiddle.net/rniemeyer/R5MtC/\">http://jsfiddle.net/rniemeyer/R5MtC/</a></p>\n\n<p>If your parent view model is stored in a global variable, then you could consider not passing it to the child and using it directly like: <a href=\"http://jsfiddle.net/rniemeyer/3drUL/\">http://jsfiddle.net/rniemeyer/3drUL/</a>.  I prefer to pass the reference to the child though.</p>\n",
                    "is_accepted": true,
                    "score": 62
                },
                {
                    "body": "<p>Use <code>$context</code> instead of <code>$parent</code> when within a foreach binding.</p>\n",
                    "is_accepted": false,
                    "score": -5
                },
                {
                    "body": "<p>In my experience the approach in @RP Niemeyer's answer is fine if <code>Item</code>s live for the duration of the application. But if not, it can lead to memory leaks, because <code>Item</code>'s  computed observable sets up a reverse dependency from the <code>ViewModel</code>. Again, that's ok if you never get rid of any <code>Item</code> objects. But if you do try to get rid of <code>Item</code>s they won't get garbage collected because knockout will still have that reverse dependency reference.</p>\n\n<p>You <em>could</em> make sure to dispose() of the computed, maybe in a cleanup() method on <code>Item</code> that gets called when the item goes away, but you have to remember to do that whenever removing <code>Item</code>s.</p>\n\n<p>Instead, why not make <code>Item</code> a little less smart and have <code>ViewModel</code> tell it when it is selected? Just make <code>Item</code>'s <code>isSelected()</code> a regular old observable and then in <code>ViewModel</code> subscribe to <code>selectedItem</code> and update inside that subscription.</p>\n\n<p>Or, use @RP Niemeyer's <a href=\"http://www.knockmeout.net/2012/05/using-ko-native-pubsub.html\" rel=\"nofollow\">pub/sub solution</a>. (To be fair, this solution came about after his answer here.) You'll still need to clean up, though, because it creates reverse dependencies, too. But at least there's less coupling.</p>\n\n<p>See the answer to <a href=\"http://stackoverflow.com/a/18805592/254603\">my recent question</a> on this same topic for more details.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can also set an observable property in your ViewModel and then in the HTML binding set it using the $parent context</p>\n\n<p>In the Js</p>\n\n<pre><code>this.Parent = ko.observable();\n</code></pre>\n\n<p>In the HTML page</p>\n\n<pre><code>    &lt;!-- ko if: Parent($parent) --&gt;&lt;!-- /ko --&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<p>Inside a <a href=\"http://knockoutjs.com/\">knockout.js</a> binding expression, I can use the <a href=\"http://knockoutjs.com/documentation/foreach-binding.html\"><code>$data</code>, <code>$parent</code>, and <code>$root</code> pseudovariables</a>. How can I get the equivalent of those pseudovariables when I'm using a <a href=\"http://knockoutjs.com/documentation/computedObservables.html\"><code>ko.computed</code> observable</a> declared in JavaScript?</p>\n\n<p>I've got a parent viewmodel with a collection of children, and the parent viewmodel has a <code>selectedChild</code> observable. Given that, I can use databinding expressions to add a CSS class to whichever child is currently selected:</p>\n\n<pre><code>&lt;ul data-bind=\"foreach: children\"&gt;\n    &lt;li data-bind=\"text: name,\n                   css: {selected: $data === $root.selectedChild()},\n                   click: $root.selectChild\"&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;script&gt;\nvm = {\n    selectedChild: ko.observable(),\n    children: [{name: 'Bob'}, {name: 'Ned'}],\n    selectChild: function(child) { vm.selectedChild(child); }\n};\nko.applyBindings(vm);\n&lt;/script&gt;\n</code></pre>\n\n<p>But my viewmodels are going to get more complex, and I'd like \"am I selected?\" to be able to do more than just adding a single CSS class to a single element. I really want to make an <code>isSelected</code> computed property on the child viewmodel, so I can then add other computed properties that depend on it.</p>\n\n<p>I've tried just writing JavaScript that refers to <code>$data</code> and <code>$root</code>, on the off-chance that knockout might define those variables and somehow have them be in scope when it calls my <code>computed</code> evaluator function:</p>\n\n<pre><code>{\n  name: 'Bob',\n  isSelected: ko.computed(function(){ return $data === $root.selectedChild(); })\n}\n</code></pre>\n\n<p>But no such luck: inside my evaluator <code>function</code>, both <code>$data</code> and <code>$root</code> are <code>undefined</code>.</p>\n\n<p>I've also tried using <a href=\"http://knockoutjs.com/documentation/unobtrusive-event-handling.html\"><code>ko.contextFor</code></a> inside my evaluator, since it does give access to <code>$data</code> and <code>$root</code>. Unfortunately, inside my evaluator function, <code>contextFor</code> also always returns <code>undefined</code>. (I didn't hold out high hopes for this strategy anyway -- it's not clear how well knockout would be able to track the dependencies if I had to go behind its back like this.)</p>\n\n<p>I could always manually set a property on each child viewmodel that refers back to the parent viewmodel. But I know that knockout has the ability to do this for me, and I'd like to at least explore whether I can use its mechanisms before I go writing my own.</p>\n\n<p>It seems like it should be possible to translate the above binding expression to a computed observable -- after all, <a href=\"http://knockoutjs.com/documentation/computedObservables.html\">that's what knockout already does</a>:</p>\n\n<blockquote>\n  <p>The other neat trick is that declarative bindings are simply implemented as computed observables.</p>\n</blockquote>\n\n<p>But how do I go about dealing with the <code>$data</code> and <code>$root</code> pseudovariables when I'm writing my own computed observable?</p>\n",
            "last_activity_date": 1386628375,
            "question_id": 8640748,
            "score": 48,
            "tags": [
                "javascript",
                "knockout.js"
            ],
            "title": "How can I use knockout&#39;s $parent/$root pseudovariables from inside a .computed() observable?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p><strong>See the <a href=\"http://stackoverflow.com/a/11507572/625200\">answer</a> by @david-east for the correct way to handle the issue</strong></p>\n\n<p><em>This answer is only relevant to a <a href=\"http://bugs.jquery.com/ticket/8342\" rel=\"nofollow\">bug with jQuery 1.5</a> when using the file: protocol.</em></p>\n\n<p>I had a similar problem recently when upgrading to jQuery 1.5. Despite getting a correct response the error handler fired. I resolved it by using the <code>complete</code> event and then checking the status value. e.g:</p>\n\n<pre><code>complete: function (xhr, status) {\n    if (status === 'error' || !xhr.responseText) {\n        handleError();\n    }\n    else {\n        var data = xhr.responseText;\n        //...\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>the problem is that your controller returning string or other object that can't be parsed. \nthe ajax call expected to get Json in return. try to return JsonResult in the controller like that:</p>\n\n<pre><code> public JsonResult YourAction()\n    {\n        ...return Json(YourReturnObject);\n\n    }\n</code></pre>\n\n<p>hope it helps :)</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I recently encountered this problem and stumbled upon this question.</p>\n\n<p>I resolved it with a much easier way.</p>\n\n<p><strong>Method One</strong></p>\n\n<p>You can either remove the <code>dataType: 'json'</code> property from the object literal...</p>\n\n<p><strong>Method Two</strong></p>\n\n<p>Or you can do what @Sagiv was saying by returning your data as <code>Json</code>.</p>\n\n<p>The reason why this <code>parserror</code> message occurs is that when you simply return a string or another value, it is not really <code>Json</code>, so the parser fails when parsing it.</p>\n\n<p>So if you remove the <code>dataType: json property</code>, it will not try to parse it as <code>Json</code>. </p>\n\n<p>With the other method if you make sure to return your data as <code>Json</code>, the parser will know how to handle it properly.</p>\n",
                    "is_accepted": true,
                    "score": 68
                },
                {
                    "body": "<p><b>The problem</b></p>\n\n<p>window.JSON.parse raises an error in $.parseJSON function.</p>\n\n<pre><code>&lt;pre&gt;\n$.parseJSON: function( data ) {\n...\n// Attempt to parse using the native JSON parser first\nif ( window.JSON &amp;&amp; window.JSON.parse ) {\nreturn window.JSON.parse( data );\n}\n...\n&lt;/pre&gt;\n</code></pre>\n\n<p><b>My solution</b></p>\n\n<p>Overloading JQuery using <a href=\"http://requirejs.org/\" rel=\"nofollow\">requirejs tool</a>.</p>\n\n<pre><code>&lt;pre&gt;\ndefine(['jquery', 'jquery.overload'], function() { \n    //Loading jquery.overload\n});\n&lt;/pre&gt;\n</code></pre>\n\n<p>jquery.overload.js file content</p>\n\n<pre><code>&lt;pre&gt;\ndefine(['jquery'],function ($) { \n\n    $.parseJSON: function( data ) {\n        // Attempt to parse using the native JSON parser first\n        /**  THIS RAISES Parsing ERROR\n        if ( window.JSON &amp;&amp; window.JSON.parse ) {\n            return window.JSON.parse( data );\n        }\n        **/\n\n        if ( data === null ) {\n            return data;\n        }\n\n        if ( typeof data === \"string\" ) {\n\n            // Make sure leading/trailing whitespace is removed (IE can't handle it)\n            data = $.trim( data );\n\n            if ( data ) {\n                // Make sure the incoming data is actual JSON\n                // Logic borrowed from http://json.org/json2.js\n                if ( rvalidchars.test( data.replace( rvalidescape, \"@\" )\n                    .replace( rvalidtokens, \"]\" )\n                    .replace( rvalidbraces, \"\")) ) {\n\n                    return ( new Function( \"return \" + data ) )();\n                }\n            }\n        }\n\n        $.error( \"Invalid JSON: \" + data );\n    }\n\n    return $;\n\n});\n&lt;/pre&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Your JSON data might be wrong. <a href=\"http://jsonformatter.curiousconcept.com/\" rel=\"nofollow\">http://jsonformatter.curiousconcept.com/</a> to validate it. </p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Make sure that you remove any debug code or anything else that might be outputting unintended information.  Somewhat obvious, but easy to forgot in the moment.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Been getting a \"parsererror\" from jquery for an Ajax request, I have tried changing the POST to a GET, returning the data in a few different ways (creating classes, etc.) but I cant seem to figure out what the problem is.</p>\n\n<p>My project is in MVC3 and I'm using jQuery 1.5\nI have a Dropdown and on the onchange event I fire off a call to get some data based on what was selected.</p>\n\n<p>Dropdown: (this loads the \"Views\" from the list in the Viewbag and firing the event works fine)</p>\n\n<pre><code>@{\n    var viewHtmls = new Dictionary&lt;string, object&gt;();\n    viewHtmls.Add(\"data-bind\", \"value: ViewID\");\n    viewHtmls.Add(\"onchange\", \"javascript:PageModel.LoadViewContentNames()\");\n}\n@Html.DropDownList(\"view\", (List&lt;SelectListItem&gt;)ViewBag.Views, viewHtmls)\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>this.LoadViewContentNames = function () {\n    $.ajax({\n        url: '/Admin/Ajax/GetViewContentNames',\n        type: 'POST',\n        dataType: 'json',\n        data: { viewID: $(\"#view\").val() },\n        success: function (data) {\n            alert(data);\n        },\n        error: function (data) {\n            debugger;\n            alert(\"Error\");\n        }\n    });\n};\n</code></pre>\n\n<p>The above code successfully calls the MVC method and returns:</p>\n\n<pre><code>[{\"ViewContentID\":1,\"Name\":\"TopContent\",\"Note\":\"Content on the top\"},\n {\"ViewContentID\":2,\"Name\":\"BottomContent\",\"Note\":\"Content on the bottom\"}]\n</code></pre>\n\n<p>But jquery fires the error event for the $.ajax() method saying \"parsererror\".</p>\n",
            "last_activity_date": 1424611757,
            "question_id": 5061310,
            "score": 44,
            "tags": [
                "c#",
                "javascript",
                "jquery",
                "asp.net",
                "asp.net-mvc"
            ],
            "title": "jQuery returning &quot;parsererror&quot; for ajax request"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p><code>angular.extend</code> and <code>jQuery.extend</code> are <strong>very</strong> similar. They both do a <em>shallow</em> property copy from one or more source objects to a destination object. So for instance:</p>\n\n<pre><code>var src = {foo: \"bar\", baz: {}};\nvar dst = {};\nwhatever.extend(dst, src);\nconsole.log(dst.foo);             // \"bar\"\nconsole.log(dst.baz === src.baz); // \"true\", it's a shallow copy, both\n                                  // point to same object\n</code></pre>\n\n<p><a href=\"http://docs.angularjs.org/api/angular.copy\"><code>angular.copy</code></a> provides a <strong>deep</strong> copy:</p>\n\n<pre><code>var src = {foo: \"bar\", baz: {}};\nvar dst = angular.copy(src);\nconsole.log(dst.baz === src.baz); // \"false\", it's a deep copy, they point\n                                  // to different objects.\n</code></pre>\n\n<p>Getting back to <code>extend</code>: I only see one significant difference, which is that jQuery's <code>extend</code> allows you to specify just one object, in which case <code>jQuery</code> itself is the target.</p>\n\n<p>Things in common:</p>\n\n<ul>\n<li><p>It's a shallow copy. So if <code>src</code> has a property <code>p</code> that refers to an object, <code>dst</code> will get a property <code>p</code> that refers to the <em>same</em> object (not a copy of the object).</p></li>\n<li><p>They both return the destination object.</p></li>\n<li><p>They both support multiple source objects.</p></li>\n<li><p>They both do the multiple source objects <em>in order</em>, and so the last source object will \"win\" in case more than one source object has the same property name.</p></li>\n</ul>\n\n<p>Test page: <a href=\"http://jsbin.com/eketan/1\">Live Copy</a> | <a href=\"http://jsbin.com/eketan/1/edit\">Live Source</a></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"http://code.jquery.com/jquery-1.9.1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/angularjs/1.0.5/angular.min.js\"&gt;&lt;/script&gt;\n&lt;meta charset=utf-8 /&gt;\n&lt;title&gt;Extend!&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;script&gt;\n    (function() {\n      \"use strict\";\n      var src1, src2, dst, rv;\n\n      src1 = {\n        a: \"I'm a in src1\",\n        b: {name: \"I'm the name property in b\"},\n        c: \"I'm c in src1\"\n      };\n      src2 = {\n        c: \"I'm c in src2\"\n      };\n\n      // Shallow copy test\n      dst = {};\n      angular.extend(dst, src1);\n      display(\"angular shallow copy? \" + (dst.b === src1.b));\n      dst = {};\n      jQuery.extend(dst, src1);\n      display(\"jQuery shallow copy? \" + (dst.b === src1.b));\n      $(\"&lt;hr&gt;\").appendTo(document.body);\n\n      // Return value test\n      dst = {};\n      rv = angular.extend(dst, src1);\n      display(\"angular returns dst? \" + (rv === dst));\n      dst = {};\n      rv = jQuery.extend(dst, src1);\n      display(\"jQuery returns dst? \" + (rv === dst));\n      $(\"&lt;hr&gt;\").appendTo(document.body);\n\n      // Multiple source test\n      dst = {};\n      rv = angular.extend(dst, src1, src2);\n      display(\"angular does multiple in order? \" +\n                  (dst.c === src2.c));\n      dst = {};\n      rv = jQuery.extend(dst, src1, src2);\n      display(\"jQuery does multiple in order? \" +\n                  (dst.c === src2.c));\n\n      function display(msg) {\n        $(\"&lt;p&gt;\").html(String(msg)).appendTo(document.body);\n      }\n    })();\n  &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 59
                },
                {
                    "body": "<p>The 1.0.7 angularjs build states that the extend &amp; copy methods no longer copy over the angularjs internal $$hashKey values.</p>\n\n<p>See release notes @ <a href=\"https://github.com/angular/angular.js/blob/master/CHANGELOG.md\">https://github.com/angular/angular.js/blob/master/CHANGELOG.md</a></p>\n\n<p>angular.copy/angular.extend: do not copy $$hashKey in copy/extend functions. (6d0b325f, #1875)</p>\n\n<p>A quick test of the angular.copy in Chomre dev tools method shows that it does do a deep copy.</p>\n\n<pre><code>x = {p: 3, y: {x: 5}}\nObject {p: 3, y: Object}\nx\nObject {p: 3, y: Object}\nz = angular.copy(x);\nObject {p: 3, y: Object}\nz\nObject {p: 3, y: Object}\nx\nObject {p: 3, y: Object}\nz.y.x = 1000\n    1000\nx\nObject {p: 3, y: Object}\np: 3\ny: Object\n    x: 5\n    __proto__: Object\n__proto__: Object\nz\nObject {p: 3, y: Object}\np: 3\ny: Object\n   x: 1000\n   __proto__: Object\n__proto__: Object\n</code></pre>\n\n<p>angular.extend on the other hand does a shallow copy.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>.extend() in AngularJS works similarly to jQuery's .extend()</p>\n\n<p><a href=\"http://jsfiddle.net/Troop4Christ/sR3Nj/\" rel=\"nofollow\">http://jsfiddle.net/Troop4Christ/sR3Nj/</a></p>\n\n<pre><code>var o1 = {\n    a: 1,\n    b: 2,\n    c: {\n        d:3,\n        e:4\n    }\n},\n    o2 = {\n        b: {\n            f:{\n                g:5\n            }\n        }\n    };\n\n\nconsole.log(angular.extend({}, o1, o2));\nconsole.log(o1);\nconsole.log(o2);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>There is one subtle difference between the two which was not mentioned in previous answers.</p>\n\n<p>jQuery's .extend() allows you to conditionally <strong>add key,value pairs, only if the value is defined</strong>. So in jQuery, this: <code>$.extend({}, {'a': x ? x : undefined});</code> will return <code>{}</code> in case <code>x</code> is undefined.</p>\n\n<p>In Angular's .extend() however, this: <code>angular.extend({}, {'a': x ? x : undefined});</code> will return <code>{'a': undefined}</code>, even if <code>x</code> is undefined. So the key will be there, no matter what.</p>\n\n<p>This could be a good or a bad thing, depending on what you need. Anyway this is a difference in <strong>behavior</strong> between the two libraries.</p>\n",
                    "is_accepted": false,
                    "score": 16
                }
            ],
            "body": "<p>What is the difference between these two extend functions? </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  angular.extend(a,b);\n  $.extend(a,b);\n</code></pre>\n\n<p>While the jquery.extend is well documented the angular.extend lacks details and the comments there provide no answers. (<a href=\"https://docs.angularjs.org/api/ng/function/angular.extend\">https://docs.angularjs.org/api/ng/function/angular.extend</a>).</p>\n\n<p>Does angular.extend also provide deep copy?</p>\n",
            "last_activity_date": 1400859615,
            "question_id": 16797659,
            "score": 38,
            "tags": [
                "javascript",
                "jquery",
                "angularjs",
                "extend"
            ],
            "title": "jquery extend vs angular extend"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Might want to try this?</p>\n\n<pre><code>window.onpopstate = function(event) {\n  return false;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>You're going to have to use some kind of horrible browser sniffing here. For Firefox, I would go with your solution of storing the scroll position and restoring it.</p>\n\n<p>I thought I had a good Webkit solution based on your description, but I just tried in Chrome 21, and it seems that Chrome scrolls first, then fires the popstate event, then fires the scroll event. But for reference, here's what I came up with:</p>\n\n<pre><code>function noScrollOnce(event) {\n    event.preventDefault();\n    document.removeEventListener('scroll', noScrollOnce);\n}\nwindow.onpopstate = function () {\n    document.addEventListener('scroll', noScrollOnce);\n};\u200b\n</code></pre>\n\n<p>Black magic such as pretending the page is scrolling by moving an <code>absolute</code> positioned element is ruled out by the screen repainting speed too.</p>\n\n<p>So I'm 99% sure that the answer is that you can't, and you're going to have to use one of the compromises you've mentioned in the question. Both browsers scroll before JavaScript knows anything about it, so JavaScript can only react after the event. The only difference is that Firefox doesn't paint the screen until after the Javascript has fired, which is why there's a workable solution in Firefox but not in WebKit.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This has been a <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=679458\">reported issue with the mozilla developer core for more than a year now</a>. Unfortunately, the ticket did not really progress. I think Chrome is the same: There is no reliable way to tackle the scroll position <code>onpopstate</code> via js, since it's native browser behaviour.</p>\n\n<p>There is hope for the future though, if you look at the <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html\">HTML5 history spec</a>, which explicitly wishes for the scroll position to be represented on the state object:</p>\n\n<blockquote>\n  <p>History objects represent their browsing context's session history as a flat list of session history entries. Each session history entry consists of a URL and optionally a state object, and may in addition have a title, a Document object, form data, a scroll position, and other information associated with it.</p>\n</blockquote>\n\n<p>This, and if you read the comments on the mozilla ticket mentioned above, gives some indication that it is possible that in the near future scroll position will not be restored anymore <code>onpopstate</code>, at least for people using <code>pushState</code>.</p>\n\n<p>Unfortunately, until then, the scroll position gets stored when <code>pushState</code> is used, and <code>replaceState</code> does not replace the scroll position. Otherwise, it would be fairly easy, and you could use <code>replaceState</code> to set the current Scroll position everytime the user has scrolled the page (with some cautious onscroll handler).</p>\n\n<p>Also unfortunately, the HTML5 spec does not specify when exactly the <code>popstate</code> event has to be fired, it just says: \u00abis fired in certain cases when navigating to a session history entry\u00bb, which does not clearly say if it's before or after; if it was always before, a solution with handling the scroll event occuring after the popstate would be possible.</p>\n\n<p><strong>Cancel the scroll event?</strong></p>\n\n<p>Furthermore, it would also be easy, if the scroll event where cancelable, which it isn't. If it was, you could just cancel the first scroll event of a series (user scroll events are like lemmings, they come in dozens, whereas the scroll event fired by the history repositioning is a single one), and you would be fine. </p>\n\n<p><strong>There's no solution for now</strong></p>\n\n<p>As far as I see, the only thing I'd recommend for now is to wait for the HTML5 Spec to be fully implemented and to roll with the browser behaviour in this case, that means: animate the scrolling when the browser lets you do it, and let the browser reposition the page when there's a history event. <strong>The only thing you can influence position-wise is that you use <code>pushState</code> when the page is positioned in a good way to go back to.</strong> Any other solution is either bound to have bugs, or to be too browser-specific, or both.</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>Create a 'span' element somewhere at the top of the page and set focus to this on load. The browser will scroll to the focussed element. I understand that this is a workaround and focus on 'span' doesn't work in all browsers ( uhmmm.. Safari ). Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is what I have implemented on a site that wanted the scroll position to focus to a specific element when the poststate is fired (back button):</p>\n\n<pre><code>$(document).ready(function () {\n\n     if (window.history.pushState) {\n        //if push supported - push current page onto stack:\n        window.history.pushState(null, document.title, document.location.href);\n    }\n\n    //add handler:\n    $(window).on('popstate', PopStateHandler);\n}\n\n//fires when the back button is pressed:\nfunction PopStateHandler(e) {\n    emnt= $('#elementID');\n    window.scrollTo(0, emnt.position().top);\n    alert('scrolling to position');\n}\n</code></pre>\n\n<p>Tested and works in firefox. </p>\n\n<p>Chrome will scroll to position but then repositions back to original place.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The solution is to use <code>position: fixed</code> and specify <code>top</code> equal to scroll position of page. </p>\n\n<p>Here is an example:</p>\n\n<pre><code>$(window).on('popstate', function()\n{\n   $('.yourWrapAroundAllContent').css({\n      position: 'fixed',\n      top: -window.scrollY\n   });\n\n   requestAnimationFrame(function()\n   {\n      $('.yourWrapAroundAllContent').css({\n         position: 'static',\n         top: 0\n      });          \n   });\n});\n</code></pre>\n\n<p>Yes, you instead receive flickering scrollbar, but it is less evil.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Like others said, there is no real way to do it, only ugly hacky way. Removing the scroll event listener didn't work for me, so here's my ugly way to do it:</p>\n\n<pre><code>/// GLOBAL VARS ////////////////////////\nvar saveScrollPos = false;\nvar scrollPosSaved = window.pageYOffset;\n////////////////////////////////////////\n\njQuery(document).ready(function($){\n\n    //// Go back with keyboard shortcuts ////\n    $(window).keydown(function(e){\n        var key = e.keyCode || e.charCode;\n\n        if((e.altKey &amp;&amp; key == 37) || (e.altKey &amp;&amp; key == 39) || key == 8)\n        saveScrollPos = false;\n    });\n    /////////////////////////////////////////\n\n    //// Go back with back button ////\n    $(\"html\").bind(\"mouseout\",  function(){ saveScrollPos = false; });\n    //////////////////////////////////\n\n    $(\"html\").bind(\"mousemove\", function(){ saveScrollPos = true; });\n\n    $(window).scroll(function(){\n        if(saveScrollPos)\n        scrollPosSaved = window.pageYOffset;\n        else\n        window.scrollTo(0, scrollPosSaved);\n    });\n\n});\n</code></pre>\n\n<p>It works in Chrome, FF and IE (it flashes the first time you go back in IE). Any improvement suggestions are welcome! Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is it possible to prevent the default behaviour of scrolling the document when a popstate event occurs? </p>\n\n<p>Our site uses jQuery animated scrolling and History.js, and state changes should scroll the user around to different areas of the page whether via pushstate or popstate. The trouble is the browser restores the scroll position of the previous state automatically when a popstate event occurs.</p>\n\n<p>I've tried using a container element set to 100% width and height of the document and scrolling the content inside that container. The problem with that I've found is it doesn't seem to be nearly as smooth as scrolling the document; especially if using lots of css3 like box-shadows and gradients.</p>\n\n<p>I've also tried storing the document's scroll position during a user initiated scroll and restoring it after the browser scrolls the page (on popstate). This works fine in Firefox 12 but in Chrome 19 there is a flicker due to the page being scrolled and restored. I assume this is to do with a delay between the scroll and the scroll event being fired (where the scroll position is restored).</p>\n\n<p>Firefox scrolls the page (and fires the scroll event) before popstate fires and Chrome fires popstate first then scrolls the document.</p>\n\n<p>All the sites I've seen that use the history API either use a solution similar to those above or just ignore the scroll position change when a user goes back/forward (e.g. GitHub).</p>\n\n<p>Is it possible to prevent the document being scrolled at all on popstate events?</p>\n",
            "last_activity_date": 1406922075,
            "question_id": 10742422,
            "score": 38,
            "tags": [
                "javascript",
                "html5",
                "javascript-events",
                "browser-history"
            ],
            "title": "Prevent browser scroll on HTML5 History popstate"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>Pressing enter in a form's text field will, by default, submit the form. If you don't want it to work that way you have to capture the enter key press and consume it like you've done. There is no way around this. It will work this way even if there is no button present in the form.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I would do it like the following: In the handler for the onclick event of the button (not submit) check the event object's keycode. If it is \"enter\" I would return false.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use javascript to block form submission until the appropriate time.  A very crude example:</p>\n\n<pre><code>&lt;form onsubmit='return false;' id='frmNoEnterSubmit' action=\"index.html\"&gt;\n\n    &lt;input type='text' name='txtTest' /&gt;\n\n    &lt;input type='button' value='Submit' \n        onclick='document.forms[\"frmNoEnterSubmit\"].onsubmit=\"\"; document.forms[\"frmNoEnterSubmit\"].submit();' /&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>Pressing enter will still trigger the form to submit, but the javascript will keep it from actually submitting, until you actually press the button.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It is important to read the HTML specifications to truly understand what behavior is to be expected:</p>\n\n<p>The <a href=\"http://dev.w3.org/html5/spec/association-of-controls-and-forms.html#implicit-submission\">HTML5 spec explicitly states what happens in <code>implicit submissions</code></a>:</p>\n\n<blockquote>\n  <p>User agents may establish a button in each form as being the form's default button. This should be the first submit button in tree order whose form owner is that form element, but user agents may pick another button if another would be more appropriate for the platform. If the platform supports letting the user submit a form implicitly (for example, on some platforms hitting the \"enter\" key while a text field is focused implicitly submits the form), then doing so must cause the form's default button's activation behavior, if any, to be run.</p>\n</blockquote>\n\n<p>This was not made explicit in the HTML4 spec, however browsers have already been implementing what is described in the HTML5 spec (which is why it's included explicitly).</p>\n\n<p>Edit to add:</p>\n\n<p>The simplest answer I can think of is to put your submit button as the first <code>[type=\"submit\"]</code> item in the form, add padding to the bottom of the form with css, and absolutely position the submit button at the bottom where you'd like it.</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>The obvious pitfall is multi-line <code>&lt;textarea&gt;</code>'s where you can no longer insert a newline, effectively making it a single-line input element.</p>\n\n<p>The right way to solve this does not involve javascript at all, just some layout changes and styling.</p>\n\n<p>You need to change the DOM's order of the buttons. Any other way of solving this is working against the browser instead of with it, and that is a fools errand.</p>\n\n<p>It doesn't have to ruin the layout. The order of the buttons only has to be changed in the DOM/markup, not in the rendered layout - use positioning or floating to make the layout you want, independent of the order of the button elements.</p>\n\n<p>If you have trouble figuring out how, let me know and i'll lend a hand ;)</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>By pressing 'Enter' on focused <code>&lt;input type=\"text\"&gt;</code> you trigger 'click' event on the first positioned element: <code>&lt;button&gt;</code> or <code>&lt;input type=\"submit\"&gt;</code>. If you press 'Enter' in <code>&lt;textarea&gt;</code>, you just make a new text line.</p>\n\n<p>See the example <a href=\"http://jsfiddle.net/Feniks502/4khB4/4/\" rel=\"nofollow\">here</a>.</p>\n\n<p>Your code prevents to make a new text line in <code>&lt;textarea&gt;</code>, so you have to catch key press only for <code>&lt;input type=\"text\"&gt;</code>.</p>\n\n<p>But why do you need to press <code>Enter</code> in text field? If you want to submit form by pressing 'Enter', but the <code>&lt;button&gt;</code> must stay the first in the layout, just play with the markup: put the <code>&lt;input type=\"submit\"&gt;</code> code before the <code>&lt;button&gt;</code> and use CSS to save the layout you need.</p>\n\n<p>Catching 'Enter' and saving markup:</p>\n\n<pre><code>$('input[type=\"text\"]').keypress(function (e) {\n    var code = e.keyCode || e.which;\n    if (code === 13)\n    e.preventDefault();\n    $(\"form\").submit(); /*add this, if you want to submit form by pressing `Enter`*/\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I don't think you need javascript or CSS to fix this.</p>\n\n<p>According to the <a href=\"http://dev.w3.org/html5/markup/button.html\">html 5 spec for buttons</a> a button with no type attribute is treated the same as a button with its type set to \"submit\", i.e. as a button for submitting its containing form. Setting the button's type to \"button\" should prevent the behaviour you're seeing.</p>\n\n<p>I'm not sure about browser support for this, but the same behaviour was specified in the <a href=\"http://www.w3.org/TR/html4/interact/forms.html#h-17.5\">html 4.01 spec for buttons</a> so I expect it's pretty good.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Using</p>\n\n<pre><code>&lt;button type=\"button\"&gt;Whatever&lt;/button&gt;\n</code></pre>\n\n<p>should do the trick</p>\n",
                    "is_accepted": false,
                    "score": 78
                }
            ],
            "body": "<p>I have a page with two buttons. One is a <code>&lt;button&gt;</code> element and the other is a <code>&lt;input type=\"submit\"&gt;</code>. The buttons appear on the page in that order. If I'm in a text field anywhere in the form and press <code>&lt;Enter&gt;</code>, the button element's <code>click</code> event is triggered. I assume that's because the button element sits first.</p>\n\n<p>I can't find anything that looks like a reliable way of setting the default button, nor do I necessarily want to at this point. In the absence of anything better, I've captured a keypress anywhere on the form and, if it was the <code>&lt;Enter&gt;</code> key that was pressed, I'm just negating it:</p>\n\n<pre><code>$('form').keypress( function( e ) {\n  var code = e.keyCode || e.which;\n\n  if( code === 13 ) {\n    e.preventDefault();\n    return false; \n  }\n})\n</code></pre>\n\n<p>As far as I can tell so far, it seems to be working, but it feels incredibly ham-fisted. Does anyone know of a more sophisticated technique for doing this? Similarly, are there any pitfalls to this solution that I'm just not aware of?</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1366650153,
            "question_id": 4763638,
            "score": 38,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "forms"
            ],
            "title": "Enter triggers button click"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Your code... </p>\n\n<pre><code>class foo\n    @bar = 'bob loblaw'\n\n    processRows: -&gt;\n        $(\"#my-table&gt;tr\").each -&gt;\n            id = $(this).attr(\"id\")\n            @processRow id\n\n    processRow: (id) -&gt;\n        console.log @bar + id\n</code></pre>\n\n<p>Is transpiled to...</p>\n\n<pre><code>var foo;\nfoo = (function() {\n  function foo() {}\n  foo.bar = 'bob loblaw';\n  foo.prototype.processRows = function() {\n    return $(\"#my-table&gt;tr\").each(function() {\n      var id;\n      id = $(this).attr(\"id\");\n      return this.processRow(id);\n    });\n  };\n  foo.prototype.processRow = function(id) {\n    return console.log(this.bar + id);\n  };\n  return foo;\n})();\n</code></pre>\n\n<p>Which has assumed much about about the current context that it is translating to. Unfortunately, since jQuery manages context, you'll have to be explicit or declare a reference to your class's <code>this</code>.</p>\n\n<p>Incidentally, there are other issues with that generated code, take a look at this reduced case:</p>\n\n<pre><code>class foo\n    @bar = 'bob loblaw'\n\n    getBar: () -&gt;\n        @bar\n</code></pre>\n\n<p>Transpiles to:</p>\n\n<pre><code>var foo;\nfoo = (function() {\n  function foo() {}\n  foo.bar = 'bob loblaw';\n  foo.prototype.getBar = function() {\n    return this.bar;\n  };\n  return foo;\n})();\n</code></pre>\n\n<p>The results of attempting to use this piece of code:</p>\n\n<pre><code>&gt; foo.bar;\n\"bob loblaw\"\n\n&gt; var f = new foo();\nundefined\n\n&gt; f.getBar();\nundefined\n</code></pre>\n\n<p>Your code seems to expect that <code>@bar</code> is an own property, but it's being created as a static property of the <code>foo</code> function</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p><a href=\"http://api.jquery.com/each/\"><code>jQuery.each</code></a> passes the current element as second parameter of the callback, so you don't <em>have</em> to reserve <code>this</code> for jQuery:</p>\n\n<pre><code>processRows: -&gt;\n    $(\"#my-table&gt;tr\").each (index, element) =&gt;\n        id = $(element).attr(\"id\")\n        @processRow id\n</code></pre>\n\n<p>Notice the use of the <strong><a href=\"http://jashkenas.github.com/coffee-script/#fat_arrow\"><em>fat arrow</em> (<code>=&gt;</code>) syntax</a></strong> for the callback function; it binds the function's context to the current value of <code>this</code>. (<code>this</code> in the callback function is always the same <code>this</code> as the one at the time you defined the function.)</p>\n",
                    "is_accepted": true,
                    "score": 100
                },
                {
                    "body": "<p>You say</p>\n\n<blockquote>\n  <p>Using something like <code>_this = this</code> outside the <code>.each</code> function and passing it around isn't a great solution, either, since I reference many class variables inside processRow.</p>\n</blockquote>\n\n<p>This is the most efficient solution, though. JavaScript's <code>this</code> is a strange beast; you can keep it fixed inside of a nested function using the <code>=&gt;</code> operator, as arnaud576875 sugests in his answer (which is elegant but inefficient), or you can copy <code>this</code> to another variable (which is efficient but inelegant). The choice is yours.</p>\n\n<p>Note that some modern browsers support a <code>bind</code> method on every function, which is more efficient than CoffeeScript's <code>=&gt;</code>. There's an open ticket to have <code>=&gt;</code> use the native <code>bind</code> when available: <a href=\"https://github.com/jashkenas/coffee-script/pull/1408\">https://github.com/jashkenas/coffee-script/pull/1408</a></p>\n\n<p><strong>Addendum:</strong> Of course, a more efficient alternative than any of the above would be to write</p>\n\n<pre><code>for element, index in $('#my-table&gt;tr')\n  ...\n</code></pre>\n\n<p>which would also solve your <code>this</code> problem.</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I have some coffeescript like the following:</p>\n\n<pre><code>class foo:\n    @bar = 'bob loblaw'\n\n    processRows: -&gt;\n        $(\"#my-table&gt;tr\").each -&gt;\n            id = $(this).attr(\"id\")\n            @processRow id\n\n    processRow: (id) -&gt;\n        console.log @bar + id\n</code></pre>\n\n<p>So my problem is: I need <code>this</code> to reference the <code>.each</code> context inside the loop to get at <code>id</code>, but I also would like <code>this</code> to reference the class instance inside <code>foo.processRow()</code>---which it does not currently do. </p>\n\n<p>Using something like <code>_this = this</code> outside the <code>.each</code> function and passing it around isn't a great solution, either, since I reference many class variables inside <code>processRow</code>.</p>\n\n<p>Any thoughts? Am I missing something obvious? Thanks!</p>\n",
            "last_activity_date": 1336507212,
            "question_id": 7261480,
            "score": 35,
            "tags": [
                "javascript",
                "coffeescript"
            ],
            "title": "Coffeescript &#39;this&#39; inside jQuery .each()"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I know if that can help you a bit.</p>\n\n<p>Here is something I tried to simulate for you.</p>\n\n<p>Checkout the jsFiddle ;) </p>\n\n<p><a href=\"http://jsfiddle.net/migontech/gbW8Z/5/\">http://jsfiddle.net/migontech/gbW8Z/5/</a></p>\n\n<p>Created a filter that you also can use in 'ng-repeat'</p>\n\n<pre><code>app.filter('getById', function() {\n  return function(input, id) {\n    var i=0, len=input.length;\n    for (; i&lt;len; i++) {\n      if (+input[i].id == +id) {\n        return input[i];\n      }\n    }\n    return null;\n  }\n});\n</code></pre>\n\n<p>Usage in controller:</p>\n\n<pre><code>app.controller('SomeController', ['$scope', '$filter', function($scope, $filter) {\n     $scope.fish = [{category:'freshwater', id:'1', name: 'trout', more:'false'},  {category:'freshwater', id:'2', name:'bass', more:'false'}]\n\n     $scope.showdetails = function(fish_id){\n         var found = $filter('getById')($scope.fish, fish_id);\n         console.log(found);\n         $scope.selected = JSON.stringify(found);\n     }\n}]);\n</code></pre>\n\n<p>If there are any questions just let me know.</p>\n",
                    "is_accepted": true,
                    "score": 43
                },
                {
                    "body": "<p>A dirty and easy solution could look like</p>\n\n<pre><code>$scope.showdetails = function(fish_id) {\n    angular.forEach($scope.fish, function(fish, key) {\n        fish.more = fish.id == fish_id;\n    });\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You can use the existing $filter service. I updated the fiddle above <a href=\"http://jsfiddle.net/gbW8Z/12/\">http://jsfiddle.net/gbW8Z/12/</a></p>\n\n<pre><code> $scope.showdetails = function(fish_id) {\n     var found = $filter('filter')($scope.fish, {id: fish_id}, true);\n     if (found.length) {\n         $scope.selected = JSON.stringify(found[0]);\n     } else {\n         $scope.selected = 'Not found';\n     }\n }\n</code></pre>\n\n<p>Angular documentation is here <a href=\"http://docs.angularjs.org/api/ng.filter:filter\">http://docs.angularjs.org/api/ng.filter:filter</a></p>\n",
                    "is_accepted": false,
                    "score": 46
                },
                {
                    "body": "<p>To add to @migontech's answer and also his address his comment that you could \"probably make it more generic\", here's a way to do it.  The below will allow you to search by any property:</p>\n\n<pre><code>.filter('getByProperty', function() {\n    return function(propertyName, propertyValue, collection) {\n        var i=0, len=collection.length;\n        for (; i&lt;len; i++) {\n            if (collection[i][propertyName] == +propertyValue) {\n                return collection[i];\n            }\n        }\n        return null;\n    }\n});\n</code></pre>\n\n<p>The call to filter would then become:</p>\n\n<pre><code>var found = $filter('getByProperty')('id', fish_id, $scope.fish);\n</code></pre>\n\n<p>Note, I removed the unary(+) operator to allow for string-based matches... </p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Angularjs already has filter option to do this , \n<a href=\"https://docs.angularjs.org/api/ng/filter/filter\" rel=\"nofollow\">https://docs.angularjs.org/api/ng/filter/filter</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In Angular, I have in scope a object which returns lots of objects each has an idea (this is stored in a flat file so no DB, and I seem to not be able to user <code>ng-resource</code> \nIn my controller: </p>\n\n<pre><code>$scope.fish = [{category:'freshwater', id:'1', name: 'trout', more:'false'},  {category:'freshwater', id:'2', name:'bass', more:'false'}]\n</code></pre>\n\n<p>In my view I have additional information about the fish hidden by default with the ng-show more, but when I click the simple show more tab, I would like to call the function <code>showdetails(fish.fish_id)</code>. \nMy function would look something like: </p>\n\n<pre><code>$scope.showdetails = function(fish_id){  \nvar fish = $scope.fish.get({id: fish_id}) fish.more = true }}\n</code></pre>\n\n<p>Now in the the view the more details shows up. However after searching through the documentation I can't figure out how to search that Fish array. </p>\n\n<p>So how do I query the array? And in console how do I call debugger so that I have the <code>$scope</code> object to play with? </p>\n",
            "last_activity_date": 1425806187,
            "question_id": 15610501,
            "score": 33,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "In Angular, I need to search objects in an array"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<h2>Dragon Drop</h2>\n\n<p>I've done a ridiculous amount of fiddling. So, so much jsFiddling.</p>\n\n<p><strong>This is not a robust, or complete solution; I may never quite come up with one. If anyone has any better solutions, I'm all ears -- I didn't want to have to do it this way, but it's the only way I've been able to uncover so far. The following jsFiddle, and the information I am about to vomit up, worked for me in this particular instance with my particular versions of Firefox and Chrome on my particular WAMP setup and computer.</strong> <em>Don't come crying to me when it doesn't work on your website. This drag-and-drop crap is clearly <strong>every man for himself.</em></strong></p>\n\n<p><em><strong><a href=\"http://jsfiddle.net/ChaseMoskal/T2zHQ/\">jsFiddle: Chase Moskal's Dragon Drop</a></em></strong></p>\n\n<p>So, I was boring my girlfriend's brains out, and she thought I kept saying \"dragon drop\" when really, I was just saying \"drag-and-drop\". It stuck, so that's what I call my little JavaScript buddy I've created for handling these drag-and-drop situations.</p>\n\n<p><strong>Turns out -- it's a bit of a nightmare. The HTML5 Drag-and-Drop API even at first glance, is horrible.</strong> Then, you almost warm up to it, as you start to understand and accept the way it's <em>supposed</em> to work.. Then you realize what a terrifying nightmare it actually is, as you learn how Firefox and Chrome go about this specification in their own special way, and seem to completely ignore all of your needs. You find yourself asking questions like: \"Wait, what element is even being dragged right now? How to do I get that information? How do I cancel this drag operation? How can I stop this particular browser's unique default handling of this situation?\"... The answers to your questions: \"You're on your own, LOSER! Keep hacking things in, until something works!\".</p>\n\n<p>So, here's how I accomplished <strong>Precise Drag and Drop of Arbitrary HTML Elements within, around, and between multiple contenteditable's.</strong> <em>(note: I'm not going fully in-depth with every detail, you'll have to look at the jsFiddle for that -- I'm just rambling off seemingly relevant details that I remember from the experience, as I have limited time)</em></p>\n\n<h2>My Solution</h2>\n\n<ul>\n<li>First, I applied CSS to the draggables (fancybox) -- we needed <code>user-select:none; user-drag:element;</code> on the fancy box, and then specifically <code>user-drag:none;</code> on the image within the fancy box (and any other elements, why not?). Unfortunately, this was not quite enough for Firefox, which required attribute <code>draggable=\"false\"</code> to be explicitly set on the image to prevent it from being draggable.</li>\n<li>Next, I applied attributes <code>draggable=\"true\"</code> and <code>dropzone=\"copy\"</code> onto the contenteditables.</li>\n</ul>\n\n<p><strong>To the draggables (fancyboxes), I bind a handler for <code>dragstart</code>.</strong> We set the dataTransfer to copy a blank string of HTML ' ' -- because we need to trick it into thinking we are going to drag HTML, but we are cancelling out any default behavior. Sometimes default behavior slips in somehow, and it results in a duplicate (as we do the insertion ourselves), so now the worst glitch is a ' ' (space) being inserted when a drag fails. We couldn't rely on the default behavior, as it would fail to often, so I found this to be the most versatile solution.</p>\n\n<pre><code>DD.$draggables.off('dragstart').on('dragstart',function(event){\n    var e=event.originalEvent;\n    $(e.target).removeAttr('dragged');\n    var dt=e.dataTransfer,\n        content=e.target.outerHTML;\n    var is_draggable = DD.$draggables.is(e.target);\n    if (is_draggable) {\n        dt.effectAllowed = 'copy';\n        dt.setData('text/plain',' ');\n        DD.dropLoad=content;\n        $(e.target).attr('dragged','dragged');\n    }\n});\n</code></pre>\n\n<p><strong>To the dropzones, I bind a handler for <code>dragleave</code> and <code>drop</code>.</strong> The dragleave handler exists only for Firefox, as in Firefox, the drag-drop would work (Chrome denies you by default) when you tried to drag it outside the contenteditable, so it performs a quick check against the Firefox-only <code>relatedTarget</code>. <strong>Huff.</strong></p>\n\n<p><strong>Chrome and Firefox have different ways of acquiring the Range object,</strong> so effort had to be put in to do it differently for each browser in the drop event. Chrome builds a range based on <strong>mouse-coordinates</strong> <em>(yup that's right)</em>, but Firefox provides it in the event data. <code>document.execCommand('insertHTML',false,blah)</code> turns out to be how we handle the drop. OH, I forgot to mention -- we can't use <code>dataTransfer.getData()</code> on Chrome to get our dragstart set HTML -- it appears to be some kind of weird bug in the specification. Firefox calls the spec out on it's bullcrap and gives us the data anyways -- but Chrome doesn't, so we bend over backwards and to set the content to a global, and go through hell to kill all the default behavior...</p>\n\n<pre><code>DD.$dropzones.off('dragleave').on('dragleave',function(event){\n    var e=event.originalEvent;\n\n    var dt=e.dataTransfer;\n    var relatedTarget_is_dropzone = DD.$dropzones.is(e.relatedTarget);\n    var relatedTarget_within_dropzone = DD.$dropzones.has(e.relatedTarget).length&gt;0;\n    var acceptable = relatedTarget_is_dropzone||relatedTarget_within_dropzone;\n    if (!acceptable) {\n        dt.dropEffect='none';\n        dt.effectAllowed='null';\n    }\n});\nDD.$dropzones.off('drop').on('drop',function(event){\n    var e=event.originalEvent;\n\n    if (!DD.dropLoad) return false;\n    var range=null;\n    if (document.caretRangeFromPoint) { // Chrome\n        range=document.caretRangeFromPoint(e.clientX,e.clientY);\n    }\n    else if (e.rangeParent) { // Firefox\n        range=document.createRange(); range.setStart(e.rangeParent,e.rangeOffset);\n    }\n    var sel = window.getSelection();\n    sel.removeAllRanges(); sel.addRange(range);\n\n    $(sel.anchorNode).closest(DD.$dropzones.selector).get(0).focus(); // essential\n    document.execCommand('insertHTML',false,'&lt;param name=\"dragonDropMarker\" /&gt;'+DD.dropLoad);\n    sel.removeAllRanges();\n\n    // verification with dragonDropMarker\n    var $DDM=$('param[name=\"dragonDropMarker\"]');\n    var insertSuccess = $DDM.length&gt;0;\n    if (insertSuccess) {\n        $(DD.$draggables.selector).filter('[dragged]').remove();\n        $DDM.remove();\n    }\n\n    DD.dropLoad=null;\n    DD.bindDraggables();\n    e.preventDefault();\n});\n</code></pre>\n\n<p><strong>Okay, I'm sick of this. I've wrote all I want to about this. I'm calling it a day, and might update this if I think of anything important.</strong></p>\n\n<p>Thanks everybody. //Chase.</p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<ol>\n<li>event dragstart; <code>dataTransfer.setData(\"text/html\", \"&lt;div class='whatever'&gt;&lt;/div&gt;\");</code></li>\n<li>event drop:\n<code>var me = this; setTimeout(function () {\nvar el = me.element.getElementsByClassName(\"whatever\")[0];\nif (el) { //do stuff here, el is your location for the fancy img\n}\n}, 0);</code> </li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<h2>The Setup</h2>\n\n<p>So, I have a contenteditable div -- I'm making a WYSIWYG editor: bold, italics, formatting, whatever, and most lately: inserting fancy images (in a fancy box, with a caption).</p>\n\n<pre><code>&lt;a class=\"fancy\" href=\"i.jpg\" target=\"_blank\"&gt;\n    &lt;img alt=\"\" src=\"i.jpg\" /&gt;\n    Optional Caption goes Here!\n&lt;/a&gt;\n</code></pre>\n\n<p>The user adds these fancy images with a dialog I present them with: they fill out the details, upload the image, and then much like the other editor functions, I use <code>document.execCommand('insertHTML',false,fancy_image_html);</code> to plop it in at the user's selection.</p>\n\n<h2>Desired Functionality</h2>\n\n<p>So, now that my user can plop in a fancy image -- they need to be able to move it around.\nThe user needs to be able to click and drag the image (fancy box and all) to place it anywhere that they please within the contenteditable. They need to be able to move it between paragraphs, or even within paragraphs -- between two words if they want.</p>\n\n<h2>What Gives me Hope</h2>\n\n<p>Keep in mind -- in a contenteditable, plain old <strong><code>&lt;img&gt;</code></strong> tags are already blessed by the user-agent with this lovely drag-and-drop capability. By default, you can drag and drop <strong><code>&lt;img&gt;</code></strong> tags around wherever you please; the default drag-and-drop operation behaves as one would dream.</p>\n\n<p>So, considering how this default behavior already works so smashingly on our <code>&lt;img&gt;</code> buddies -- and I only want to extend this behaviour a little bit to include a tad more HTML -- this seems like something that should be easily possible.</p>\n\n<h2>My Efforts Thus Far</h2>\n\n<p>First, I set up my fancy <code>&lt;a&gt;</code> tag with the draggable attribute, and disabled contenteditable (not sure if that's necessary, but it seems like it may as well be off):</p>\n\n<pre><code>&lt;a class=\"fancy\" [...] draggable=\"true\" contenteditable=\"false\"&gt;\n</code></pre>\n\n<p>Then, because the user could still drag the image out of the fancy <code>&lt;a&gt;</code> box, I had to do some CSS. I'm working in Chrome, so I'm only showing you the -webkit- prefixes, though I used the others too.</p>\n\n<pre><code>.fancy {\n    -webkit-user-select:none;\n    -webkit-user-drag:element; }\n    .fancy&gt;img {\n        -webkit-user-drag:none; }\n</code></pre>\n\n<p>Now the user can drag the whole fancy box, and the little partially-faded click-drag representation image reflects this -- I can see that I'm picking up the entire box now :)</p>\n\n<p>I've tried several combinations of different CSS properties, the above combo seems to make sense to me, and seems to work best.</p>\n\n<p>I was hoping that this CSS alone would be enough for the browser to use the entire element as the draggable item, automagically granting the user the functionality I've been dreaming of... <em>It does however, appear to be more complicated than that.</em></p>\n\n<h2>HTML5's JavaScript Drag and Drop API</h2>\n\n<p>This Drag and Drop stuff <em>seems</em> more complicated than it needs to be.</p>\n\n<p>So, I started getting deep into DnD api docs, and now I'm stuck. So, here's what I've rigged up (yes, jQuery):</p>\n\n<pre><code>$('.fancy')\n    .bind('dragstart',function(event){\n        //console.log('dragstart');\n        var dt=event.originalEvent.dataTransfer;\n        dt.effectAllowed = 'all';\n        dt.setData('text/html',event.target.outerHTML);\n    });\n\n$('.myContentEditable')\n    .bind('dragenter',function(event){\n        //console.log('dragenter');\n        event.preventDefault();\n    })\n    .bind('dragleave',function(event){\n        //console.log('dragleave');\n    })\n    .bind('dragover',function(event){\n        //console.log('dragover');\n        event.preventDefault();\n    })\n    .bind('drop',function(event){\n        //console.log('drop');      \n        var dt = event.originalEvent.dataTransfer;\n        var content = dt.getData('text/html');\n        document.execCommand('insertHTML',false,content);\n        event.preventDefault();\n    })\n    .bind('dragend',function(event){ \n        //console.log('dragend');\n    });\n</code></pre>\n\n<p><strong>So here's where I'm stuck:</strong> This almost completely works. <em>Almost completely.</em> I have everything working, up until the very end. In the drop event, I now have access to the fancy box's HTML content that I'm trying to have inserted at the drop location. All I need to do now, is insert it at the correct location!</p>\n\n<p>The problem is <strong>I can't find the correct drop location, or any way to insert to it.</strong> I've been hoping to find some kind of <em>'dropLocation'</em> object to dump my fancy box into, something like <strong><code>dropEvent.dropLocation.content=myFancyBoxHTML;</code></strong>, or perhaps, at least, some kind of drop location values with which to find my own way to put the content there?\n<em>Am I given anything?</em></p>\n\n<p><em>Am I doing it completely wrong? Am I completely missing something?</em></p>\n\n<p>I tried to use <strong><code>document.execCommand('insertHTML',false,content);</code></strong> like I expected I should be able to, but it unfortunately fails me here, as the selection caret is not located at the precise drop location as I'd hope.</p>\n\n<p>I discovered that if I comment out all of the <strong><code>event.preventDefault();</code></strong>'s, the selection caret becomes visible, and as one would hope, when the user prepares to drop, hovering their drag over the contenteditable, the little selection caret can be seen running along between characters following the user's cursor and drop operation -- indicating to the user that the selection caret represents the precise drop location. <strong>I need the location of this selection caret.</strong></p>\n\n<p>With some experiments, I tried execCommand-insertHTML'ing during the drop event, and the dragend event -- neither insert the HTML where the dropping-selection-caret was, instead it uses whatever location was selected prior to the drag operation.</p>\n\n<p><em>Because the selection caret is visible during dragover, I hatched a plan.</em></p>\n\n<p>For awhile, I was trying, in the dragover event, to insert a temporary marker, like <code>&lt;span class=\"selection-marker\"&gt;|&lt;/span&gt;</code>, just after <code>$('.selection-marker').remove();</code>, in an attempt for the browser to constantly (during dragover) be deleting all selection markers and then adding one at the insertion point -- essentially leaving one marker wherever that insertion point is, at any moment. The plan of course, was to then replace this temporary marker with the dragged content which I have.</p>\n\n<p>None of this worked, of course: I couldn't get the selection-marker to insert at the apparently visible selection caret as planned -- again, the execCommand-insertedHTML placed itself wherever the selection caret was, prior to the drag operation.</p>\n\n<h2>Huff. So what have I missed? How is it done?</h2>\n\n<p><strong>How do I obtain, or insert into, the precise location of a drag-and-drop operation?</strong>\n<em>I feel like this is, obviously, a common operation among drag-and-drops -- surely I must have overlooked an important and blatant detail of some kind?</em> Did I even have to get deep into JavaScript, or maybe there's a way to do this just with attributes like draggable, droppable, contenteditable, and some fancydancy CSS3?</p>\n\n<p>I'm still on the hunt -- still tinkering around -- I'll post back as soon as I find out what I've been failing at :)</p>\n\n<p>Thanks so much for reading; any help at all is greatly appreciated :)</p>\n\n<p>//Chase.</p>\n\n<hr>\n\n<hr>\n\n<h1>The Hunt Continues (edits after original post)</h1>\n\n<hr>\n\n<p>Farrukh posted a good suggestion -- use:</p>\n\n<pre><code>console.log( window.getSelection().getRangeAt(0) );\n</code></pre>\n\n<p>To see where the selection caret actually is. I plopped this into the <strong>dragover</strong> event, which is when I figure the selection caret is visibily hopping around between my editable content in the contenteditable.</p>\n\n<p><strong>Alas, the Range object that is returned, reports offset indices that belong to the selection caret prior to the drag-and-drop operation.</strong></p>\n\n<p>It was a valiant effort. Thanks Farrukh.</p>\n\n<p><strong>So what's going on here?</strong> I am getting the sensation that the little selection caret I see hopping around, isn't the selection caret at all! I think it's an imposter!</p>\n\n<h3>Upon Further Inspection!</h3>\n\n<p>Turns out, it is an imposter! The <strong>real</strong> selection caret remains in place during the entire drag operation! You can see the little bugger!</p>\n\n<p>I was reading <a href=\"https://developer.mozilla.org/en-US/docs/DragDrop/Drag_and_Drop\">MDN Drag and Drop Docs</a>, and found this:</p>\n\n<blockquote>\n  <p>Naturally, you may need to move the insertion marker around a dragover event as well. <strong>You can use the event's clientX and clientY properties as with other mouse events to determine the location of the mouse pointer.</strong></p>\n</blockquote>\n\n<p>Yikes, does this mean I'm supposed to figure it out for myself, based on <strong>clientX</strong> and <strong>clientY</strong>?? Using mouse coordinates to determine the location of the selection caret myself? Scary!!</p>\n\n<p>I'll look into doing so tomorrow -- unless myself, or somebody else here reading this, can find a sane solution :)</p>\n\n<p>Thanks everybody. I'll update tomorrow. //Chase.</p>\n",
            "last_activity_date": 1407663274,
            "question_id": 14678451,
            "score": 33,
            "tags": [
                "javascript",
                "html5",
                "css3",
                "drag-and-drop",
                "draggable"
            ],
            "title": "Precise Drag and Drop within a contenteditable"
        },
        {
            "answer_count": 13,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>What is stopping someone from copying\n  the game onto their computer, and\n  injecting functions and modules to\n  cheat?</p>\n</blockquote>\n\n<p>Nothing.</p>\n\n<blockquote>\n  <p>Is there any fundamental way to\n  protect people from doing this sort of\n  thing by designing your game code in a\n  certain way?</p>\n</blockquote>\n\n<p>Nope.</p>\n",
                    "is_accepted": true,
                    "score": 42
                },
                {
                    "body": "<p>In short, no. However, you can <a href=\"http://stackoverflow.com/questions/194397/how-can-i-obfuscate-javascript\">obfuscate Javascript</a> to make it much more difficult.</p>\n\n<p>For things like scores, a user could in theory POST any score to your handler script. In this case you could use a session and regularly post back to the server through AJAX.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>This is why most JavaScript games rely <em>heavily</em> on a <strong>server state</strong>, to prevent cheats.</p>\n",
                    "is_accepted": false,
                    "score": 37
                },
                {
                    "body": "<p>You're attempting to do the impossible. The best advice I can give you is that if you are plan on persisting any data like coins/money/gold, levels, whatnot you make sure you never trust the client and make as much logic server sided as a possible.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I like the question, and while there are probably better answers, here are a few off the top of my head that may (or may not) work:</p>\n\n<ul>\n<li>Obfuscation.  Yea, it's not guaranteed and someone can eventually get to it, but it's a pain in the butt to deal with sometimes.</li>\n<li>Generate the JS with a new temporary token each time.  You may be able to templatize the .js running the code and insert a server generated token that differs per each instance.  The token could be temporary and it could be one way to validate the authenticity of the code</li>\n<li>There's probably some way to determine the proper location of the script being run - but this could probably be faked</li>\n</ul>\n\n<p>In general, its hard, and all of the suggestions above can be worked around.  I guess the key is to make it hard for them to cheat, but given that there are cheaters for even secure online mode games, it's going to be hard to prevent JS games from being susceptible to that as well.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<blockquote>\n  <p>Is there any fundamental way to protect people from doing this sort of thing by designing your game code in a certain way?</p>\n</blockquote>\n\n<p>The only sane method is to keep critical pieces of the code on servers you control and never give it to the users' computers at all. The hard part is making this square with keeping the game fast enough to be playable.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p><strong>Disclaimer</strong>: This is a terrible method and probably too much effort than it is worth.</p>\n\n<p>Suppose that you had a method of <em>processing</em> the javascript code before you sent it.</p>\n\n<p>First of all, every method has a <em>ident</em> variable which is attached to the result of every function (i.e. every function would return <code>{ident:\"special code\",result:\"actual useful function result\"}</code>).  You also have a <code>testIdent()</code> function which would accept the function name to call as well as \"test data\" to give it (if any is needed).  The purpose of <code>testIdent()</code> would be to send the <em>ident</em> returned from said function to the server for verification (the idea being that the server can request a test whenever you deem it appropriate).  The <em>ident</em> for every function should be randomized and recorded specially for the specified user before sent.</p>\n\n<p>Second, before the code is sent to the client, the function order is randomized and function names are obfuscated in some random fassion.  This way there is no way for a hacker to look for some variable <em>ident</em> in function <em>x()</em> as it will be named randomly.  Also, it would be another plus if every variable name is obfuscated randomly as well, just to add yet another step to the complication and headaches of...  well...  everyone (I told you this is a terrible method).</p>\n\n<p>Now, assuming proper steps are taken to make sure the code will always function correctly, hackers are very cleaver people, and there are still ways for hackers to track this code if they are determined enough.  At least one way will be to search for key code structures, such as a <code>switch</code> statement with a certain number of elements, or a for loop with <strong>x</strong> number of statements, etc.  While each of these can be countered, say by adding dummy <code>case</code> statements in the switches or a couple of <code>if(true)</code> bits randomly throughout the code, countering hackers will always be a constant (and possibly a loosing) battle.</p>\n\n<p>Hopefully this can give you some ideas.  I don't know how someone would implement this exactly, but it is at least an idea.</p>\n\n<p>Good luck!</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can put everything the code ever calls inside of a closure:</p>\n\n<pre><code>(function() {\n  var cantSeeMe = function() {\n    // do some game stuff!\n  };\n\n})();\n</code></pre>\n\n<p>Outside of the closure, it will be <strong>very</strong> difficult to get at the code for \"injection hacks\" (overriding a function on the console for instance).  This wont stop someone from rewriting your code, but passing things through a packer, or even <a href=\"http://code.google.com/closure/compiler/\" rel=\"nofollow\">closure compiler</a> can make your code pretty hard to read/modify... (take a look at <a href=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\" rel=\"nofollow\">jQuery min</a></p>\n\n<p>All in all, ANY game running client side is hackable.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>travian(http://www.travian.us/) is a good example of a larger scale game that runs in DHTML and it has a ton of issues with client side abuse.  Just installing  grease monkey in firefox opens a rather large door to all kinds of exploitative behavior.  That said, they seem to keep the game somewhat functional since most of the exploits seem to revolve around automation of common in-game tasks and not direct violations of the internal domain logic of the game.\nKeep in mind that this example is far from being run with only JS and relies largely on server side controls.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Some thoughts</p>\n\n<p>Server side:</p>\n\n<ul>\n<li><p>Store the games internal state sever side and check the input send by clients on the server.</p></li>\n<li><p><strong>Autoaim</strong>: Create fake sprites which are invisible to normal players, if they get hit too often you have a bot. (will not always work as the bots may be updated to check for invisibility)</p></li>\n<li><p>check client reaction time to changes on the server, check for too many too fast reactions. (has to accept a large number of fast responses before reacting as a human could react fast and the time has to account for the network delay to catch anything). Give the player some sort of captcha, a regular player would never see it.</p></li>\n</ul>\n\n<p>Client side:</p>\n\n<ul>\n<li><p>use obfuscation to make it harder to interface with your code</p></li>\n<li><p>check for functions defined in the hacks you know about. Has to be modified/updated often as the creators of such hacks can work around those.</p></li>\n<li><p>Game design: making your game less repetitive this makes it harder to write tools/bots for it.</p></li>\n<li><p>update the client to change parts of its structure from time to time. While this will not stop bots it will take work to keep them running. Either make it transparent to the user or disguise it with a new feature.</p></li>\n</ul>\n\n<p>Important: make sure your server interface checks the user input, obfuscation and client side checks wont help against someone writing their own client.  </p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I think the way to go would be to write the client in a way such that you dynamically alter the client code and verify the use of thusly created code on the server.</p>\n\n<p>E.g. have a namespace like this</p>\n\n<pre><code>window.mynamespace = {\n\n    foo : function(){\n        // some stuff here\n    },\n\n    bar : function(){\n        // some more stuff here\n    } \n}\n</code></pre>\n\n<p>which contains all your client code and make all your server methods require a token that is the result of a previous dynamic evaluation of the code base. make this harder by redefining methods and changing method names. Here are a few sample challenges (this only makes sense if challenges are created dynamically and not predictable). All contain a task first and then a challenge that will be used to create the authorization token for the next request. (These are response objects from the ajax calls). Basically the task will be eval'd and the result of the eval'd challenge will be the next token.</p>\n\n<pre><code>{\n    task: \"mynamespace.baz=mynamespace.foo;mynamespace.foo=undefined;\",\n    challenge: \"mynamespace[11].toString().substr(10,22)\"\n            // get part of a well-known functions source code\n}\n\n{\n    task: \"mynamespace.bar=function(){ /* new code here */ }\",\n    challenge: \"var xy=0;mynamespace.each(function(item){xy+=item.toString().lastIndexOf(';')}); xy\"\n            // accumulate the last index of a semicolon in all elements\n            // of the namespace\n}\n</code></pre>\n\n<p>To beat that and still get valid authorization tokens, the client would have to write an entire javascript emulation layer. Although that can be done, I would try to make the server code change in fundamental ways very often to make this technique almost impossible (so the emulation layer won't know what to emulate).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<blockquote>\n  <p>they could write a function that autoaims\n  at the nearest enemy sprite for example.</p>\n</blockquote>\n\n<p>You can do this even for games were most processing happens server-side! You just need to analyse the display quickly enough.</p>\n\n<p>You can even re-implement parts of the game AI to try to predict how bots will move. Not an easy task if you don't have access to the game's source code but if you log lots of gameplay time, you could apply machine learning techniques.</p>\n\n<blockquote>\n  <p>Is there any fundamental way to\n  protect people from doing this sort of\n  thing by designing your game code in a\n  certain way?</p>\n</blockquote>\n\n<p>Don't forget that you can change the game <em>itself</em>, not just how it is implemented. For instance, use randomly-generated levels rather than static ones, use human players rather than bots, make your art/sprites more complex, make more use of audio, put a limit on how fast the cursor can be moved, add cooldown times to weapons, add hidden hazards, and so on.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>In theory you are playing a game against hackers. You can't win this game but you make it challenging. </p>\n\n<p>My suggestion would be to use as much server side logic as you can possibly use and use Javascript Obfuscation. </p>\n\n<p>Javascript obfuscation will make it extremely hard to understand the code, but even better it will make it possible for you to release several thousand versions of your code while maintaining the same code base.</p>\n\n<p>I have used <a href=\"https://jscrambler.com/\" rel=\"nofollow\">JScrambler</a> to do this on one occasion. Instead of having to hack the code of 1 game, hackers will have to hack several thousand versions of the code! :)  </p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Suppose you created an online game in HTML5/Javascript.  All the code would be downloaded into the users browser, and they would run the game.</p>\n\n<p>What is stopping someone from copying the game onto their computer, and injecting functions and modules to cheat?  IE, they could write a function that autoaims at the nearest enemy sprite for example.  </p>\n\n<p>Is there any fundamental way to protect people from doing this sort of thing by designing your game code in a certain way?</p>\n\n<p><img src=\"http://startswithabang.com/wp-content/uploads/2008/09/ojsimpson.jpg\" alt=\"alt text\"></p>\n",
            "last_activity_date": 1348067273,
            "question_id": 3168527,
            "score": 30,
            "tags": [
                "javascript",
                "game-engine"
            ],
            "title": "Making a hack proof game in Javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Check out <a href=\"http://developer.yahoo.com/yui/yuidoc/\" rel=\"nofollow\">YUI Doc</a>.  </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<h2>Google Closure + JSDoc</h2>\n\n<p>As you mentioned yourself in your comment, they build on <a href=\"http://code.google.com/p/jsdoc-toolkit/\">JSDoc Toolkit</a> to add special annotations used by the Closure Compiler for type-checking and other things, but this means you can also just use JSDoc on top of closure code to generate your documentation. Generating an output with the desired look and feel is then only a matter of writing your own template and stylesheet.</p>\n\n<p>The Google Closure Tools are all open source except for some bits that aren't disclosed at the moment. In any case, you can have a look at the documentation and source code and see what they use to generate Javadocs.</p>\n\n<h2>ExtJS + Ext-Doc</h2>\n\n<p>Another one you could possibly have a look at for inspiration and to see how they do it is the <a href=\"http://dev.sencha.com/deploy/dev/docs/\">online doc for ExtJS</a>. I find it a bit confusing to navigate at first, but you get used to it fairly quickly. An open source project, <a href=\"http://code.google.com/p/ext-doc/\">Ext-Doc</a>, generates documentation with a similar style, though it is now a bit outdated.</p>\n\n<h2>YUI Doc</h2>\n\n<p><a href=\"http://stackoverflow.com/questions/3818875/is-there-a-way-to-generate-javascript-api-documentation-like-the-google-closure-l/3818884#3818884\">As mentioned by Matthew Manela</a>, YUI Doc produces pretty good online documentation as well.</p>\n\n<p>My advice would be to go for JSDoc as it is the de-facto standard for many tools and it reflects Java practices, but it's really up to what you want.</p>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>For the ones using ExtJs, <a href=\"https://github.com/senchalabs/jsduck\" rel=\"nofollow\">https://github.com/senchalabs/jsduck</a> is awesome.</p>\n\n<p>For the ones not using ExtJS but familiar with Ruby, <a href=\"https://github.com/b-studios/doc.js\" rel=\"nofollow\">https://github.com/b-studios/doc.js</a> is great.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm trying to find a tool that generates HTML documentation for my Javascript source code.</p>\n\n<p>Does anyone know if the tool that Google uses to generate the interface at the following URLs is open source?  Would I be able to generate similar output? </p>\n\n<p><a href=\"http://closure-library.googlecode.com/svn/docs/class_goog_proto2_Serializer.html\">http://closure-library.googlecode.com/svn/docs/class_goog_proto2_Serializer.html</a></p>\n\n<p><a href=\"http://closure-library.googlecode.com/svn/docs/namespace_goog_date.html\">http://closure-library.googlecode.com/svn/docs/namespace_goog_date.html</a></p>\n\n<p><a href=\"http://closure-library.googlecode.com/svn/docs/namespace_goog_events.html\">http://closure-library.googlecode.com/svn/docs/namespace_goog_events.html</a></p>\n\n<p><a href=\"http://closure-library.googlecode.com/svn/docs/class_goog_gears_Database.html\">http://closure-library.googlecode.com/svn/docs/class_goog_gears_Database.html</a></p>\n\n<p><a href=\"http://closure-library.googlecode.com/svn/docs/class_goog_ui_DatePicker.html\">http://closure-library.googlecode.com/svn/docs/class_goog_ui_DatePicker.html</a></p>\n\n<p>I'm aware of <a href=\"http://code.google.com/p/jsdoc-toolkit/\">http://code.google.com/p/jsdoc-toolkit/</a></p>\n\n<p>But I'd like to know if the specific generator that Google uses is available for me to use for my own source (which is going to be open source, if that matters).</p>\n\n<p>Thanks in advance...</p>\n",
            "last_activity_date": 1331790612,
            "question_id": 3818875,
            "score": 28,
            "tags": [
                "javascript",
                "documentation-generation",
                "google-closure",
                "google-closure-library"
            ],
            "title": "Is there a way to generate Javascript API documentation like the Google Closure Library API Documentation?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>It's part of the <a href=\"http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async\" rel=\"nofollow\">HTML5 proposal</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If the async attribute is set on an external script (one with src=), browsers that support it will download that script in the background without blocking the rest of the content on the page.  The script will execute whenever it is finished downloading.</p>\n\n<p><a href=\"http://dev.w3.org/html5/spec/Overview.html#attr-script-async\">http://dev.w3.org/html5/spec/Overview.html#attr-script-async</a></p>\n\n<p>As I mentioned in a comment, setting async=true, async=false or async=anything all mean the same thing.  They enable the async behavior.  The only way to make a script non-async is to completely omit the attribute.</p>\n\n<p><a href=\"http://dev.w3.org/html5/spec/Overview.html#boolean-attributes\">http://dev.w3.org/html5/spec/Overview.html#boolean-attributes</a></p>\n",
                    "is_accepted": true,
                    "score": 31
                },
                {
                    "body": "<p>Seems it doesn't need to be <code>async=async</code> either, but just <code>async</code></p>\n\n<p>From google:</p>\n\n<blockquote>\n  <p>A second technique is to use the  attribute where\n  appropriate, which prevents parsing from blocking the initial page\n  load by deferring it until the browser's UI thread is not busy doing\n  something else.</p>\n</blockquote>\n\n<p><a href=\"https://developers.google.com/speed/docs/best-practices/mobile#DeferParsingJS\" rel=\"nofollow\">https://developers.google.com/speed/docs/best-practices/mobile#DeferParsingJS</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In XHTML it is needed to consequently note attributes as attributes and their values whereas HTML does not. I like the conformity of that principle so I always use it in the form of:</p>\n\n<pre><code>async=\"async\"\n</code></pre>\n\n<p>This way I can serve my documents as application/xhtml+xml.</p>\n\n<p>If this is not of any interest for you because you are of the opinion that serving your document as text/html is good enough, then you can always use:</p>\n\n<pre><code>async\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Just async in enough. </p>\n\n<p>You may try both and then measure the difference in page speed. Like <a href=\"http://www.helpnetmat.es/sports/2014/03/crictime-com-live-streaming.html\" rel=\"nofollow\">crictime</a> uses single substance for that.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>async=\"async\" attribute of a  tag in html, What does it mean?</p>\n\n\n\n<p>Can be see used <a href=\"http://samaxes-demos.appspot.com/samaxesjs/toc-jquery.html\">here</a> for example</p>\n",
            "last_activity_date": 1397642006,
            "question_id": 895971,
            "score": 28,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "async=&quot;async&quot; attribute of a &lt;script&gt; tag in html, What does it mean?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Using jQuery for this purpose only is overkill. This will do the trick:</p>\n\n<pre><code>(function () {\n  var blockContextMenu, myElement;\n\n  blockContextMenu = function (evt) {\n    evt.preventDefault();\n  };\n\n  myElement = document.querySelector('#myElement');\n  myElement.addEventListener('contextmenu', blockContextMenu);\n})();\n</code></pre>\n\n<p>myElement can be replaced with window.</p>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>Use this:</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;head&gt;\n&lt;title&gt;disable rightclick menu - LabLogic&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n  document.oncontextmenu=RightMouseDown;\n  document.onmousedown = mouseDown; \n\n  function mouseDown(e) {\n      if (e.which==3) {//righClick\n      alert(\"Disabled - do whatever you like here..\");\n   }\n}\nfunction RightMouseDown() { return false;}\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Tested in chrome 17, works with other new browsers as well</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm writing aWebGL game and want to use right-click as a control. However, it throws up a menu. Is it possible to disable that? I've tried</p>\n\n<pre><code>} \nelse if (event.which == 2 || event.which == 3) \n{\n    doRightClickControl();\n    event.preventDefault();\n    event.stopPropagation();\n\n    return false;\n}\n</code></pre>\n\n<hr>\n\n<p>Thanks dknaack for the hint. I got it to work like this:</p>\n\n<pre><code>window.oncontextmenu = function(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    return false;\n};\n</code></pre>\n",
            "last_activity_date": 1331001687,
            "question_id": 6789843,
            "score": 27,
            "tags": [
                "javascript",
                "google-chrome"
            ],
            "title": "Disable right-click menu in chrome"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><strong>Symfony 2.1</strong></p>\n\n<pre><code>$response = new Response(json_encode(array('name' =&gt; $name)));\n$response-&gt;headers-&gt;set('Content-Type', 'application/json');\n\nreturn $response;\n</code></pre>\n\n<hr>\n\n<p><strong>Symfony 2.2</strong> and higher</p>\n\n<p>You have special <a href=\"https://github.com/symfony/symfony/blob/master/src/Symfony/Component/HttpFoundation/JsonResponse.php\" rel=\"nofollow\">JsonResponse</a> class, which serialises array to JSON:</p>\n\n<pre><code>return new JsonResponse(array('name' =&gt; $name));\n</code></pre>\n\n<hr>\n\n<p>But if your problem is <strong>How to serialize entity</strong> then you should have a look at <a href=\"https://github.com/schmittjoh/JMSSerializerBundle/blob/master/Resources/doc/index.rst\" rel=\"nofollow\">JMSSerializerBundle</a></p>\n\n<p>Assuming that you have it installed, you'll have simply to do</p>\n\n<pre><code>$serializedEntity = $this-&gt;container-&gt;get('serializer')-&gt;serialize($entity, 'json');\n\nreturn new Response($serializedEntity);\n</code></pre>\n\n<p>You should also check for similar problems on StackOverflow:  </p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/6706485/how-to-encode-doctrine-entities-to-json-in-symfony-2-0-ajax-application\">How to encode Doctrine entities to JSON in Symfony 2.0 AJAX application?</a>  </li>\n<li><a href=\"http://stackoverflow.com/questions/7013257/symfony-2-doctrine-export-to-json\">Symfony 2 Doctrine export to JSON</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 77
                },
                {
                    "body": "<p>Symfony 2.1 has a <a href=\"https://github.com/symfony/symfony/blob/master/src/Symfony/Component/HttpFoundation/JsonResponse.php\">JsonResponse</a> class.</p>\n\n<pre><code>return new JsonResponse(array('name' =&gt; $name));\n</code></pre>\n\n<p>The passed in array will be JSON encoded the status code will default to 200 and the content type will be set to application/json.</p>\n\n<p>There is also a handy <code>setCallback</code> function for JSONP.</p>\n",
                    "is_accepted": false,
                    "score": 37
                },
                {
                    "body": "<p>To complete @thecatontheflat answer i would recommend to also wrap your action inside of a <code>try ... catch</code> block. This will prevent your JSON endpoint to break on exceptions. Here's the skeleton I use:</p>\n\n<pre><code>public function someAction()\n{\n    try {\n\n        // Your logic here...\n\n        return new JsonResponse([\n            'success' =&gt; true,\n            'data'    =&gt; [] // Your data here\n        ]);\n\n    } catch (\\Exception $exception) {\n\n        return new JsonResponse([\n            'success' =&gt; false,\n            'code'    =&gt; $exception-&gt;getCode(),\n            'message' =&gt; $exception-&gt;getMessage(),\n        ]);\n\n    }\n}\n</code></pre>\n\n<p>This way your endpoint will behave consistently even in case of an errors and you will be able to treat them right on a client side.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I am using jQuery to edit my form which is built in Symfony.</p>\n\n<p>I am showing the form in jQuery dialog and then submitting it.</p>\n\n<p>Data is entering correctly in database.</p>\n\n<p>But I don't know whether I need to send some JSON  back to jQuery. Actually I am bit confused with JSON thing.</p>\n\n<p>Suppose I have added a row in my table with jQuery and when I submit the form then after data is submitted I want to send back those row data so that I can dynamically add the table row to show the data added.</p>\n\n<p>I am confused how can get that data back</p>\n\n<p>This is my current code</p>\n\n<pre><code>$editForm = $this-&gt;createForm(new StepsType(), $entity);\n\n$request = $this-&gt;getRequest();\n\n$editForm-&gt;bindRequest($request);\n\nif ($editForm-&gt;isValid()) {\n    $em-&gt;persist($entity);\n    $em-&gt;flush();\n\n    return $this-&gt;render('::success.html.twig');               \n}\n</code></pre>\n\n<p>This is just the template with success message</p>\n",
            "last_activity_date": 1425465868,
            "question_id": 11714941,
            "score": 26,
            "tags": [
                "php",
                "javascript",
                "json",
                "symfony2"
            ],
            "title": "How can i send json response in symfony2 controller"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Change your directory structure to :</p>\n\n<pre><code>projectName\n\n    | - public/\n        | - bower_components/\n        | - css\n        | - js\n        | - index.html\n    | - Gruntfile.js\n    | - package.json\n    | - bower.json\n    | - app.js\n</code></pre>\n\n<p>And in <code>index.html</code> do following changes:</p>\n\n<pre><code>&lt;script src=\"../public/bower_components/jquery/jquery.js\"&gt;&lt;/script&gt;\n&lt;script src=\"../public/bower_components/d3/d3.js\"&gt;&lt;/script&gt;\n&lt;script src=\"../public/bower_components/bootstrap/dist/js/bootstrap.js\"&gt;&lt;/script&gt;\n&lt;script src=\"public/bower_components/spin.js/spin.js\"&gt;&lt;/script&gt;\n&lt;script src=\"public/bower_components/mustache/mustache.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p><hr />\nOr another way is to turn your <code>bower_components</code> folder to severed as static content. (you can inject <code>static middleware</code> multiple times for express)<br/>\nAdd the following in app congfig to express. Then your config code looks like:</p>\n\n<pre><code>var express = require('express');\nvar port = process.env.PORT || 3000;\nvar app = express();\n\napp.configure(function(){\n    // Serve up content from public directory\n    app.use(express.static(__dirname + '/public'));\n    app.use(express.static(__dirname + '/bower_components'));\n    app.use(app.router);\n    app.use(express.logger()); \n});\n\napp.listen(port, function(){\n    console.log('Express server listening on port ' + port);\n});\n</code></pre>\n\n<p>And in this case your directory structure remains the same. Hope this helps.<br/>\nHappy coding.. :)</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I use this setup:</p>\n\n<pre><code>app.use(express.static(__dirname + '/public'));\napp.use('/bower_components',  express.static(__dirname + '/bower_components'));\n</code></pre>\n\n<p>So any Bower components are loaded from HTML like this:</p>\n\n<pre><code>&lt;script src=\"/bower_components/...\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>And any other client-side JS/CSS (in <code>public/</code>) are loaded like this:</p>\n\n<pre><code>&lt;script src=\"/js/...\"&gt;&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 44
                }
            ],
            "body": "<p>I have a directory structure</p>\n\n<pre><code>projectName\n    | - bower_components/\n    | - public/\n        | - css\n        | - js\n        | - index.html\n    | - Gruntfile.js\n    | - package.json\n    | - bower.json\n    | - app.js\n</code></pre>\n\n<p>I would like to start my app and serve <code>index.html</code> with node. So in <code>app.js</code> I have:</p>\n\n<pre><code>var express = require('express');\nvar port = process.env.PORT || 3000;\nvar app = express();\n\napp.configure(function(){\n    // Serve up content from public directory\n    app.use(express.static(__dirname + '/public'));\n    app.use(app.router);\n    app.use(express.logger()); \n});\n\napp.listen(port, function(){\n    console.log('Express server listening on port ' + port);\n});\n</code></pre>\n\n<p>At the bottom of <code>index.html</code> I have:</p>\n\n<pre><code>&lt;script src=\"../bower_components/jquery/jquery.js\"&gt;&lt;/script&gt;\n&lt;script src=\"../bower_components/d3/d3.js\"&gt;&lt;/script&gt;\n&lt;script src=\"../bower_components/bootstrap/dist/js/bootstrap.js\"&gt;&lt;/script&gt;\n&lt;script src=\"bower_components/spin.js/spin.js\"&gt;&lt;/script&gt;\n&lt;script src=\"bower_components/mustache/mustache.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>When I start the server, <code>index.html</code> shows up but none of the above libraries load. I get the error (404):</p>\n\n<pre><code>GET http://localhost:3000/bower_components/jquery/jquery.js 404 (Not Found) localhost/:32\nGET http://localhost:3000/bower_components/d3/d3.js 404 (Not Found) localhost/:33\nGET http://localhost:3000/bower_components/bootstrap/dist/js/bootstrap.js 404 (Not Found) localhost/:34\nGET http://localhost:3000/bower_components/spin.js/spin.js 404 (Not Found) localhost/:35\nGET http://localhost:3000/bower_components/mustache/mustache.js 404 (Not Found) \n</code></pre>\n\n<p>How can I serve the files from bower_components?</p>\n",
            "last_activity_date": 1392629533,
            "question_id": 21821773,
            "score": 24,
            "tags": [
                "javascript",
                "node.js",
                "express",
                "bower"
            ],
            "title": "configure node express to serve static bower_components?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>Rather than doing that with Javascript, I'd take it one step ahead and use conditional statements. This could look like:</p>\n\n<pre><code>&lt;!--[if lt IE 8 ]&gt;\n    &lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.js\"&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;!--[if !IE]&gt;\n    &lt;script src=\"/js/zepto.js\"&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n</code></pre>\n\n<p>This goes right into your HTML files. The above snippet will load jQuery, if the browser is Internet Explorer 7 and below. Otherwise it'll include zepto.js.</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>You can also use JS trick described <a href=\"http://webreflection.blogspot.com/2009/01/32-bytes-to-know-if-your-browser-is-ie.html\">here</a> to detect whether browser is IE, and use a modern asynchronous script loading library to load the required lib. <a href=\"http://yepnopejs.com/\">Yepnope</a> example:</p>\n\n<pre><code>yepnope({\n  test: !+\"\\v1\", // IE?\n  yep: 'jquery.js',\n  nope: 'zepto.js'\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>This might be a crazy idea (I'm not sure if Zepto will even load on an unsupported browser), but what about using Zepto's own browser detection to see if it's on an unsupported browser?</p>\n\n<pre><code>$.os.ios      // =&gt; true if running on Apple iOS\n$.os.android  // =&gt; true if running on Android\n$.os.webos    // =&gt; true if running on HP/Palm WebOS\n$.os.touchpad // =&gt; true if running on a HP TouchPad\n$.os.version  // =&gt; string with version number, \"4.0\", \"3.1.1\", \"2.1\", etc.\n$.os.iphone   // =&gt; true if running on iPhone\n$.os.ipad     // =&gt; true if running on iPad\n$.os.blackberry // =&gt; true if running on BlackBerry\n</code></pre>\n\n<p>Maybe you could do something like this:</p>\n\n<pre><code>var isSupported = false;\nfor (os in $.os) {\n    if ($.os[os] == true) { isSupported = true; }\n}\n</code></pre>\n\n<p>This won't catch chrome/firefox, which work fine with Zepto, but it does match the Zepto team's intentions for the thing, which may or may not be better.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>This is the way I do it:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nif(top.execScript){ // true only in IE\n    document.write(\"&lt;script src='/js/jquery.js'&gt;\\x3C/script&gt;\");\n}\nelse{\n    document.write(\"&lt;script src='/js/zepto.min.js'&gt;\\x3C/script&gt;\");\n}\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Don't use the conditional comments, it's not going to be supported by IE10. This is the recommended approach from the <a href=\"http://zeptojs.com/\" rel=\"nofollow\">zepto documentation</a>:</p>\n\n<p><strong>Load Zepto on modern browser and jQuery on IE</strong></p>\n\n<pre><code>&lt;script&gt;\ndocument.write('&lt;script src=' +\n('__proto__' in {} ? 'zepto' : 'jquery') +\n'.js&gt;&lt;\\/script&gt;')\n&lt;/script&gt;\n</code></pre>\n\n<p>Zepto doesn't work in IE because IE doesn't support <strong>prototype</strong>, so this is exactly the right way to check.</p>\n\n<p>The script above do a dynamical load but the logic is</p>\n\n<pre><code>&lt;script&gt;\nif ('__proto__' in {}) {\n  // This is NOT IE\n\n  } else {\n    // This is IE\n\n  }\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>As Zepto Documentation said, if you need <strong>to detect Internet Explorer you can use this code</strong>:</p>\n\n<pre><code>  if ('__proto__' in {}) {\n    // IS NOT IE\n\n  } else {\n    // IS IE\n\n  }\n</code></pre>\n\n<p>Zepto use it to fall back on jQuery, but I have use it as browser detection too.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<pre><code>&lt;script&gt;\n  document.write('&lt;script src=' + ('__proto__' in {} ? 'zepto' : 'jquery') + '.js&gt;&lt;\\/script&gt;')\n&lt;/script&gt;\n</code></pre>\n\n<p>This is the recommended method on zepto.js official site. See <a href=\"http://zeptojs.com/#download\">http://zeptojs.com/#download</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>While many of the existing answers work fine when loading Zepto.js via an additional request, I have a situation where I know Zepto will suffice most of the time and I just want to merge it in with my scripts and lazily load jQuery if needed. I put together a small wrapper for Zepto will do just that.</p>\n\n<ul>\n<li><a href=\"https://github.com/mckamey/zepto-wrapper\" rel=\"nofollow\">Zepto conditional loading wrapper</a></li>\n</ul>\n\n<p>It runs <a href=\"http://zeptojs.com/\" rel=\"nofollow\">the \"offical\" <code>'__proto__' in ...</code> test</a> and lazy loads jQuery if it fails. If it succeeds, then it continues loading Zepto.</p>\n\n<p>I found that IE8 would blow up if Zepto was even loaded. This fixes that by skipping the rest of the module.</p>\n\n<p>For the optimistic case, there isn't any additional script requests. For the jQuery path, well, those users weren't exactly getting the fast experience anyway.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is an old topic, but it's what came up for me, and I was not happy with the solution overall.  Someone in a comment above mentioned that the official zepto test will result in zepto going to FireFix 3.6 instead of JQuery, which I would prefer to avoid if at all possible.</p>\n\n<p>So, my thought was...test to see if it supports some HTML5 feature <strong>AND</strong> if it's not IE.  This may mean that the larger jQuery will go to more browsers than it should, but I would prefer \"working\" bloated code to a quick download of nothing.  So, anyway, taking the isCanvasSupported() method from Modernizer and the <code>__proto__</code> test recommended by zepto, I'm thinking this might be a good solution (haven't had a chance to actually test yet):</p>\n\n<pre><code>   var isHtml5AndNotIE     = function() {\n        var elem = document.createElement('canvas');\n        return '__proto__' in {} &amp;&amp; !!(elem.getContext &amp;&amp; elem.getContext('2d'));\n    };\n</code></pre>\n\n<p>Then, just use that method in the document.write() as in the examples above or wherever you are defining the path to jquery/zepto.</p>\n\n<p>The only two browser versions that I could see in a quick cross-reference that support canvas but aren't supported by zepto are:\n * IOS Safari 3.2 (4+ is supported by Zepto)\n * Android 2.1 (2.2+ is supported by Zepto)</p>\n\n<p><a href=\"http://zeptojs.com/#platforms\" rel=\"nofollow\">http://zeptojs.com/#platforms</a></p>\n\n<p><a href=\"http://caniuse.com/#feat=canvas\" rel=\"nofollow\">http://caniuse.com/#feat=canvas</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm using ZeptoJS for my web app, but I'd like to fall back to jQuery if the browser doesn't support Zepto. Since IE is the only major browser not supported at the moment, I'm tempted to detect IE:</p>\n\n<pre><code>if(navigator.appName == 'Microsoft Internet Explorer'){\n    // load jquery\n} else {\n    // load zepto\n}\n</code></pre>\n\n<p>but I'd prefer to specificly detect Zepto support and use jQuery in other cases. Is there a feature detection way to do this?</p>\n",
            "last_activity_date": 1406116590,
            "question_id": 8725905,
            "score": 23,
            "tags": [
                "javascript",
                "jquery",
                "browser-detection",
                "zepto"
            ],
            "title": "Zepto fallback to jQuery"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The <code>index</code> you pass to the event handlers refer to the indices in the original array. After every successful call to <code>splice</code>, the array changes and indices are no longer pointing to the same thing.</p>\n\n<pre><code>$scope.files = ['a.jpg', 'b.jpg', 'c.jpg'];\n// $scope.files[1] = 'b.jpg'\n\n$scope.files.splice(1,1);\n// $scope.files = ['a.jpg', 'c.jpg']\n// $scope.files[1] = 'c.jpg'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Upon pressing a submit button, an array of files (<code>$scope.files</code>, can be as little as one file, as many as the user wants) gets submitted via <code>FormData</code> and <code>XMLHttpRequest</code> in my angular function <code>$scope.uploadFiles</code>:</p>\n\n<pre><code>$scope.uploadFiles = function() {\n    for (var i in $scope.files) {\n        var form = new FormData();\n        var xhr = new XMLHttpRequest;\n\n            // Additional POST variables required by the API script\n        form.append('destination', 'workspace://SpacesStore/' + $scope.currentFolderUUID);\n        form.append('contenttype', 'idocs:document');\n        form.append('filename', $scope.files[i].name);\n        form.append('filedata', $scope.files[i]);\n        form.append('overwrite', false);\n\n        xhr.upload.onprogress = function(e) {\n            // Event listener for when the file is uploading\n            $scope.$apply(function() {\n                var percentCompleted;\n                if (e.lengthComputable) {\n                    percentCompleted = Math.round(e.loaded / e.total * 100);\n                    if (percentCompleted &lt; 1) {\n                                            // .uploadStatus will get rendered for the user via the template\n                        $scope.files[i].uploadStatus = 'Uploading...';\n                    } else if (percentCompleted == 100) {\n                        $scope.files[i].uploadStatus = 'Saving...';\n                    } else {\n                        $scope.files[i].uploadStatus = percentCompleted + '%';\n                    }\n                }\n            });\n        };\n\n        xhr.upload.onload = function(e) {\n            // Event listener for when the file completed uploading\n            $scope.$apply(function() {\n                $scope.files[i].uploadStatus = 'Uploaded!'\n                setTimeout(function() {\n                    $scope.$apply(function() {\n                        $scope.files[i].uploadStatus = '';\n                    });\n                }, 4000);\n            });\n        };\n\n        xhr.open('POST', '/path/to/upload/script');\n        xhr.send(form);\n    }\n\n}\n</code></pre>\n\n<p>The problem is that <code>var i</code> increments in the initial for loop for each file, and by the time the event listeners fire, <code>i</code> has already incremented past the intended <code>files[i]</code> value needed, only effecting the last in the array.  I use <code>.uploadStatus</code> as a means to interactively show the progress of each individual file to the user, therefor I would need to have separate event listeners for each array element in <code>$scope.files</code>.  How would I assign and track events for individual array elements in Angular?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<hr>\n\n<p>I reworked the two event listeners, with a little success, but I'm still experiencing odd behavior:</p>\n\n<pre><code>xhr.upload.onprogress = (function(file) {\n    // Event listener for while the file is uploading\n    return function(e) {\n        $scope.$apply(function() {\n            var percentCompleted = Math.round(e.loaded / e.total * 100);\n            if (percentCompleted &lt; 1) {\n                file.uploadStatus = 'Uploading...';\n            } else if (percentCompleted == 100) {\n                file.uploadStatus = 'Saving...';\n            } else {\n                file.uploadStatus = percentCompleted + '%';\n            }\n        });\n    }\n})($scope.files[i]);\n\nxhr.upload.onload = (function(file, index) {\n    // Event listener for when the file completed uploading\n    return function(e) {\n        $scope.$apply(function() {\n            file.uploadStatus = 'Uploaded!'\n            setTimeout(function() {\n                $scope.$apply(function() {\n                    $scope.files.splice(index,1);\n                });\n            }, 2000);\n        });\n    }\n})($scope.files[i], i);\n</code></pre>\n\n<p><code>.onprogress</code> seems to go off without a hitch, but with some small changes made to <code>.onload</code>, I am now seeing a lot of weird behavior with AngularJS's two-way binding for its templates.  for each elemnt in array <code>$scope.files</code> a status is given, using the the aforementioned <code>.uploadStatus</code> property.  Now I am having the <code>setTimeout</code> splice the elements from the array, via the <code>i</code> variable that's getting passed in to the self-executing function.  Oddly enough the uploads are capping at around 6 simultaneous uploads at a time now, that must be a server side issue, but I'm noticing that as array elements are getting spliced, the <code>ng-repeat</code> in the template is acting bizarrely where it will splice <em>an</em> element, not necessarily the ones it should.  I've also noticed that there are often entries that do not get spliced after the 2000 millisecond threshold is hit.</p>\n\n<p>This is reminiscent of the original problem where the variable <code>i</code> is unreliable when referenced throughout the triggering of the event listeners?  Now I am passing it in to the anonymous self-executing <code>.onload</code> function, and the splice is using it to determine what array element it should remove, but it isn't necessarily removing the correct one, and often leaving other elements in the array when it should be removing them.</p>\n",
            "last_activity_date": 1354104704,
            "question_id": 13591345,
            "score": 22,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "AngularJS: tracking status of each file being uploaded simultaneously"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>?:  is for non capturing group\n?=  is for positive look ahead\n?!  is for negative look ahead\n?&lt;= is for positive look behind\n?&lt;! is for negative look behind\n</code></pre>\n\n<p>Please check here: <a href=\"http://www.regular-expressions.info/lookaround.html\">http://www.regular-expressions.info/lookaround.html</a> for very good tutorial and examples on lookahead in regular expressions.</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>Try matching <code>foobar</code> against these:</p>\n\n<pre><code>/foo(?=b)(.*)/\n/foo(?!b)(.*)/\n</code></pre>\n\n<p>The first regex will match and will return \"bar\" as first submatch \u2014 <code>(?=b)</code> matches the 'b', but does not consume it, leaving it for the following parentheses.</p>\n\n<p>The second regex will NOT match, because it expects \"foo\" to be followed by something different from \"bar\".</p>\n\n<p><code>(?:...)</code> has exactly the same effect as simple <code>(...)</code>, but it does not return that portion as a submatch.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The difference between <code>?=</code> and <code>?!</code> is that the former requires the given expression to match and the latter requires it to <strong>not</strong> match. For example <code>a(?=b)</code> will match the \"a\" in \"ab\", but not the \"a\" in \"ac\". Whereas <code>a(?!b)</code> will match the \"a\" in \"ac\", but not the \"a\" in \"ab\".</p>\n\n<p>The difference between <code>?:</code> and <code>?=</code> is that <code>?=</code> excludes the expression from the entire match while <code>?:</code> just doesn't create a capturing group. So for example <code>a(?:b)</code> will match the \"ab\" in \"abc\", while <code>a(?=b)</code> will only match the \"a\" in \"abc\". <code>a(b)</code> would match the \"ab\" in \"abc\" <em>and</em> create a capture containing the \"b\".</p>\n",
                    "is_accepted": true,
                    "score": 18
                }
            ],
            "body": "<p>I searched for the meaning of these expressions but couldn't understand the exact differnce between them.\nThis is what they say:</p>\n\n<ul>\n<li><code>?:</code> Match expression but do not capture it.</li>\n<li><code>?=</code> Match a suffix but exclude it from capture.</li>\n<li><code>?!</code> Match if suffix is absent.</li>\n</ul>\n\n<p>I tried using these in simple RegEx and got similar results for all.\nexample: the following 3 expressions give very similar results.</p>\n\n<ul>\n<li><code>[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+(?!\\.[a-zA-Z0-9]+)*</code></li>\n<li><code>[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+(?=\\.[a-zA-Z0-9]+)*</code></li>\n<li><code>[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9]+)*</code></li>\n</ul>\n",
            "last_activity_date": 1338316982,
            "question_id": 10804732,
            "score": 22,
            "tags": [
                "javascript",
                "regex",
                "validation",
                "email-validation",
                "regexp-grammars"
            ],
            "title": "what is the difference between ?:, ?! and ?= in regex?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>IE has this same problem and the solution there is to make sure that every element that is involved in the positioning and even their containers have a z-index applied to them. Basically if you add a z-index to 1 element in the dom then IE gets understands its z position but doesn't understand its z position relative to what its next to and/or over. </p>\n\n<p>container - z-index 0<br/>\nchild (on top container) - z-index 1<br/>\nchild 2 (above all) - z-index 999</p>\n\n<p>Of course this is all based on stupid IE but its worth a try in android also.</p>\n\n<hr>\n\n<p>Second Try :)</p>\n\n<p>I am not familiar with the android browser at all, but I hope to maybe lead you down a path to solve your issue. Superfish is a javascript menu that has implemented a solution for z-index menu items when they drop down over select boxes in browsers. BgIframe is the js that they use to achieve this. Your answer may lie there, hopefully.</p>\n\n<p><a href=\"http://users.tpg.com.au/j_birch/plugins/superfish/#sample2\" rel=\"nofollow\">http://users.tpg.com.au/j_birch/plugins/superfish/#sample2</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Simulate INPUT and A with DIVs.</p>\n\n<pre><code>[PSEUDO JQUERY CODE]\n\n&lt;div href=\"http://google.com\" rel=\"a\"&gt;Link&lt;/div&gt;\n\n&lt;div class=\"field\"&gt;\n    &lt;div&gt;&lt;/div&gt;\n    &lt;input type=\"text\" style=\"display: none\" /&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n    $('div[rel=a]).click(function() {\n        location.href = $(this).attr('href');\n    });\n    $('.field &gt; div').click(function() {\n        $(this).hide();\n        $('.field &gt; input').show();\n    });\n    $('.field &gt; input').blur(function() {\n        $(this).hide();\n        $('.field &gt; div').html($(this).val()).show();\n    });\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Past fixes for this issue for IE include, but are probably not limited to the following list. These may help solve the problem in Android for you.</p>\n\n<ol>\n<li><p>Put an iframe behind the absolute content. The iframe may obscure those elements for you</p></li>\n<li><p>When you display your absolute content, hide all of the problem elements with JavaScript</p></li>\n<li><p>Define the div's in the opposite order</p></li>\n</ol>\n\n<p>Point number 1 is deemed the most reliable fix for IE, but may not be the nicest fix for you.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This problem is probably related to controls and their being special for the browser. While looking at your problem (in chromium) I found a related problem that when you press the tab key you will still be able to focus the input elements. You probably don't want this either (regardless of bleedthrough). The solution is surprisingly simple, you write your script to add the <code>disabled</code> attribute to all input/button/etc. elements that are overlayed. A disabled input will <a href=\"http://www.w3.org/TR/html4/interact/forms.html#disabled\">not be able to receive</a> focus (by keyboard or otherwise), and clicking it should be impossible.</p>\n\n<p>As this also disables silly keyboard circumnavigation it is not even a workaround, but a better design that also works with keyboard based navigation as expected.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>To answer the question properly it's important to read the bug page. The problem is not about visibility of the input below, but its \"clickability\".</p>\n\n<p>I can't test it, but these are possible workarounds:</p>\n\n<p><strong>0</strong> Forget absolute positioning and just put two divs there and toggle visibility.</p>\n\n<p>If this doesn't satisfy You...</p>\n\n<p><strong>1</strong> try setting CSS position to absolute or relative for all <code>a</code> and <code>input</code> tags (Yup, this might force You to rewrite CSS to keep the layout, but isn't it worth it?)</p>\n\n<p><strong>2</strong> make a <code>&lt;a&gt;</code>-tag container:</p>\n\n<pre><code> &lt;div style=\"z-index:100 etc.\"&gt;&lt;a style=\"width: 100%; height:100%; z-index:101\"&gt;\n     stuff here\n &lt;/a&gt;&lt;/div&gt;\n</code></pre>\n\n<p>This will need some more CSS to make the content look ok. But I expect something like this would solve the problem.</p>\n\n<p>if 1 and 2 aren't helping try them <strong>both</strong> at once ;)</p>\n\n<p><strong>3</strong> if it still happens You might want to check in details what happens when You click. Bind click and mousedown events to: <code>link on top</code>, <code>container on top</code>, <code>input in the bottom</code> and log them. If You get any of those events for the top link You can try and stop the bubbling at some moment or prevent the event on the input in the bottom.</p>\n\n<p>This would be difficult, but I can help a bit. jQuery would be quite necessary.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Put the under html in a div and set the display:none using javascript, so then the under content is gone, instead of being clickable and modal.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>if you want to solve this problem, first of all you must add z-index to parent wrapper and clearly add z-index to your other elements, solution is that all elements will have a zero point for anderstanding z-index property correctly</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Add this to the CSS of every element that creates a problem:</p>\n\n<pre><code> -webkit-backface-visibility: hidden;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Nasty little bug, this one.</p>\n\n<p>As illustrated in <a href=\"http://code.google.com/p/android/issues/detail?id=6721\">Android ticket 6721</a>, the Android browser seems to not respect z-index when absolutely positioned elements are laid over the top of <code>&lt;a&gt;</code> or <code>&lt;input&gt;</code> tags.\nI am desperate for any sort of workaround. Has anybody conquered this one before?</p>\n\n<p>Thanks in advance!</p>\n",
            "last_activity_date": 1407880169,
            "question_id": 2562206,
            "score": 22,
            "tags": [
                "javascript",
                "html",
                "css",
                "android",
                "mobile-webkit"
            ],
            "title": "Android Webkit: Absolutely positioned elements don&#39;t respect z-index"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><a href=\"http://shinylittlething.com/2009/02/20/image-manipulation-jquery-plugins/\" rel=\"nofollow\">http://shinylittlething.com/2009/02/20/image-manipulation-jquery-plugins/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I've just been looking at JCrop, a JQuery plugin which looks great and works beautifully - on most modern browsers, so check your target platform is supported.</p>\n\n<p>You can see it in action and download the scripts from here</p>\n\n<p><a href=\"http://deepliquid.com/content/Jcrop.html\">http://deepliquid.com/content/Jcrop.html</a></p>\n\n<p>and you will need the JQuery script framework, available from jquery.com</p>\n\n<p>It's all free and Open Source, so you can customise it as much as you like.</p>\n\n<p>Rob</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Aviary offers a free feature-rich on-page editor called <a href=\"http://www.aviary.com/web-documentation\">Feather</a>.  It is hosted, however, in that you must perform a GET to retrieve the final full-size edited image.  It's features include:</p>\n\n<ul>\n<li>enhance (new): Autocorrect your photo with one of four basic enhancements.</li>\n<li>effects (new): Choose from a variety of effects and filters for your photo.</li>\n<li>stickers: Choose from a variety of stickers you can resize and place on your photo.</li>\n<li>orientation (new): Rotate and flip your photo in one tool.</li>\n<li>resize: Resize the image using width and height number fields.</li>\n<li>crop: Crop a portion of your photo. Add presets via API. Fixed-pixel cropPresets perform a resize when applied (new).</li>\n<li>brightness: Adjust the overall image brightness.</li>\n<li>contrast: Adjust the overall image contrast.</li>\n<li>saturation: Adjust the overall image saturation.</li>\n<li>sharpness (new): Blur or sharpen the overall image in one tool.</li>\n<li>draw: Add doodle overlays with a brush.</li>\n<li>text: Add custom, resizable text.</li>\n<li>redeye: Remove redeye from your photo with a brush.</li>\n<li>whiten: Whiten teeth with a brush. (Not supported in IE7-IE8)</li>\n<li>blemish: Remove skin blemishes with a brush.</li>\n</ul>\n\n<p>I'm currently integrating it in a site and there are a few gotchas (they might be my fault.)  I can't ever get it to perform a POST callback to my URL with the finished image URL, so instead I use the objects .onSave handler which provides the same info.  Also, in current chrome/firefox, there is a security exception when Feather modifies canvas data directly from your site.  So instead provide the <code>url</code> option (causing Feather to request the image at that URL and then provide it back to the widget on your page.)</p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I'm looking for a in-browser image editing solution to integrate with my project: <a href=\"http://code.google.com/p/django-ray/\">http://code.google.com/p/django-ray/</a></p>\n\n<p>I got it working with <a href=\"http://developer.pixlr.com/\">Pixlr</a> quite easily and the editor is fantastic .. however it's a hosted service, which means I must be connected to Internet for it to work ..</p>\n\n<p>Is there any other solution like Pixlr but that are not hosted service ? </p>\n\n<p><em>Updates</em></p>\n\n<p>Editors found so far:</p>\n\n<ul>\n<li>AIE: <a href=\"http://www.ajax-image-editor.com/\">http://www.ajax-image-editor.com/</a> (feels clunkier than Gimp..)</li>\n<li>Pixidou: <a href=\"http://github.com/asvinb/pixidou\">http://github.com/asvinb/pixidou</a> (no working demo found..)</li>\n</ul>\n\n<p>And a good list of editors that are hosted: <a href=\"http://www.lifeclever.com/10-free-web-based-alternatives-to-photoshop/\">http://www.lifeclever.com/10-free-web-based-alternatives-to-photoshop/</a></p>\n",
            "last_activity_date": 1386371620,
            "question_id": 2282833,
            "score": 22,
            "tags": [
                "javascript",
                "flash",
                "image",
                "canvas"
            ],
            "title": "Free Open Source In-browser image editors"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The first example runs the function when the DOM tree is built.\nThe second example runs the function right away.</p>\n\n<p>If you look closely, in the second example, there are two parentheses after the function declaration ( in this particular case, you pass in the global <code>jQuery</code> object as an argument to avoid conflict ), thereby immediately invoking the function</p>\n\n<p>The right function to use depends on when you want the function to run.\nIf you want to run a function on <code>DOMReady</code> ( the <code>ready</code> event ), you can use <code>$( document ).ready</code> like you mentioned or the shorthand <code>$( function() {...} )</code>.</p>\n\n<p>Otherwise, if you want to run a function immediately and have anonymous function scope, use the second example.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>I always use the first. The second appears to be a way to protect against jquery being overriden. One reason you might do this is if you don't know what other scripts will be loaded on the page. If all of your stuff depends on, say, jquery 1.3, and you're in an environment where you don't control the entire page, your code could break if someone loads in jquery 1.4. Sounds ugly, but this sort of thing does happen. So you can cover your butt by creating a closure immediately after you load jquery, and holding your version of jquery inside that closure. I think that's what's going on in the second example. </p>\n\n<p>Neither one actually initializes jquery. Jquery takes care of any initilazation it needs on its own. You'd still, quite likely wind up using the first example even if you were using the second, you'd just be putting the $(document).ready <em>inside</em> the function in your second example.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The second example you show is a self executing anonymous function. Every separate JS file you use would probably benefit from using it. It provides a private scope where everything you declare with the <code>var</code> keyword remains inside that scope only:</p>\n\n<pre><code>(function($){\n   var special = \"nice!\";\n})(jQuery);\n\nalert(special); // would be undefined\n</code></pre>\n\n<p>The first example is shorthand for <code>$(document).ready</code> which fires when the DOM can be manipulated.</p>\n\n<p>A couple cool things about it. First, you can use it inside the self executing function:</p>\n\n<pre><code>(function($){\n   $(function(){\n      // Run on DOM ready\n   });\n\n   // Run right away\n})(jQuery);\n</code></pre>\n\n<p>Secondly, if all you need is a few lines in document ready, you can combine both the private scope and the DOM ready function like this:</p>\n\n<pre><code>jQuery(function($){\n   // $ = jQuery regardless of what it means\n   // outside this DOM ready function\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 20
                }
            ],
            "body": "<p>I have seen this (I'm also using it):</p>\n\n<pre><code>$(document).ready(function(){\n   // do jQuery\n})\n</code></pre>\n\n<p>and also this (I have tried lately):</p>\n\n<pre><code>(function(){\n   // do jQuery\n})(jQuery)\n</code></pre>\n\n<p>both works fine.<br />\nMy question is what is the difference of the two ( except on how it looks ).<br />\nWhich one is more proper to use?.<br />\nCan you give me some pro's and con's for each?<br />\nIs there also another way of doing this?<br />\n(also help me with the title above. SO suggested, \"The question you're asking appears subjective and is likely to be closed.\")<br />\nThanks everyone.</p>\n",
            "last_activity_date": 1320240951,
            "question_id": 2215904,
            "score": 19,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "How should I initialize jQuery?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You need to add another Event Listener to the map:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>google.maps.event.addListener(map,'bounds_changed', removeMarkers);\n</code></pre>\n\n<p>See <a href=\"http://stackoverflow.com/questions/1544739/google-maps-api-v3-how-to-remove-all-markers\">here</a> for more on removing all markers from a google map - unfortunately I dont think it can be done with one call. So you will have to write the removeMarkers or something similar which will have to iterate through all the markers on the map removing them individually like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> markersArray[i].setMap(null);\n</code></pre>\n\n<p>I don't know whether it's quicker to check if the marker is in the viewport before removing by using:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code> map.getBounds();\n</code></pre>\n\n<p><a href=\"https://developers.google.com/maps/documentation/javascript/events\" rel=\"nofollow\">Read more about Google Map API v3 events</a></p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>You may want to check out this thread.  Daniel answered this quite nicely.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/2914615/whats-the-most-efficient-way-to-create-routes-on-google-maps-from-gps-files\">What&#39;s the most efficient way to create routes on google maps from gps files?</a></p>\n\n<p>Also, bounds_changed is the first opportunity to call your function.  tilesloaded, will be called constantly.  The viewport may contain more than one tile to fill the viewport.</p>\n\n<p>Alternatively, you can also do a setVisible(false).</p>\n\n<p>In order to remove the marker, you may need to remove the listeners.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>google.maps.event.clearInstanceListeners(marker);\nmarker.setMap(null);\nmarkers.remove(marker);\ndelete marker;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>This article goes through it pretty nicely:\n<a href=\"http://xyzzyb.tumblr.com/post/10317033064/dynamically-loading-thousands-of-markers-in-google-maps\" rel=\"nofollow\">Dynamically loading thousands of markers in Google Maps</a></p>\n\n<blockquote>\n  <ul>\n  <li>dynamically load markers until we reach a threshold</li>\n  <li>keep a hashtable of markers that have already been added</li>\n  <li>after the threshold has been reached, remove markers that aren\u2019t currently within the viewport</li>\n  <li>remove all markers from the map when the user has zoomed out, and don\u2019t load any markers until the user zooms back to a reasonable level</li>\n  </ul>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Your original function seems like a lot of code. I'd do something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if( map.getBounds().contains(markers[i].getPosition()) ) {\n   myMarkerDisplayFunction(markers[i]);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You might want to check out this documentation from <a href=\"https://developers.google.com/maps/articles/toomanymarkers#viewportmarkermanagement\" rel=\"nofollow\">Google</a>. It explains what you need: </p>\n\n<pre><code>With the new list of markers you can remove the current markers \n(marker.setMap(null)) that are on the map and \nadd the new ones (marker.setMap(map)).\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Due to the following explanation using 'tilesloaded' or 'bounds_changed' would be very wrong and cause unwilling continuous firings. Instead you would want to use 'idle' event which will fire once the user has stopped panning/zooming. </p>\n\n<p>google.maps.event.addListener(map, 'idle', loadMapFromCurrentBounds);</p>\n\n<p><a href=\"https://developers.google.com/maps/articles/toomanymarkers#viewportmarkermanagement\" rel=\"nofollow\">https://developers.google.com/maps/articles/toomanymarkers#viewportmarkermanagement</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I like to create a map with Google Maps that can handle large amounts of markers (over 10.000). To not slow down the map I've created a XML-file that only outputs the markers that are inside the current viewport.</p>\n\n<p>First, I use initialize() to setup the map options:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function initialize() {\n    var myLatlng = new google.maps.LatLng(51.25503952021694,3.27392578125);\n    var myOptions = {\n        zoom: 8,\n        center: myLatlng,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n    }\n    var map = new google.maps.Map(document.getElementById(\"map_canvas\"), myOptions);\n\n    google.maps.event.addListener(map, 'tilesloaded', function () {\n    loadMapFromCurrentBounds(map);\n    }); \n}\n</code></pre>\n\n<p>When the event 'tilesloaded' is finished, I use loadMapFromCurrentBounds(), this functions will get the current bounds and sends a request to the XML-file to show the markers that are inside the current viewport:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function loadMapFromCurrentBounds(map) {\n\n    // First, determine the map bounds\n    var bounds = map.getBounds();\n\n    // Then the points\n    var swPoint = bounds.getSouthWest();\n    var nePoint = bounds.getNorthEast();\n\n    // Now, each individual coordinate\n    var swLat = swPoint.lat();\n    var swLng = swPoint.lng();\n    var neLat = nePoint.lat();\n    var neLng = nePoint.lng();\n\n    downloadUrl(\"mapsxml.php?swLat=\"+swLat+\"&amp;swLng=\"+swLng+\"&amp;neLat=\"+neLat+\"&amp;neLng=\"+neLng+\"\", function(data) {\n        var xml = parseXml(data);\n        var markers = xml.documentElement.getElementsByTagName(\"marker\");\n        var infoWindow = new google.maps.InfoWindow; \n\n        for (var i = 0; i &lt; markers.length; i++) {\n            var address = markers[i].getAttribute(\"address\");\n            var type = markers[i].getAttribute(\"type\");\n            var name = markers[i].getAttribute(\"name\");\n\n            var point = new google.maps.LatLng( \n            parseFloat(markers[i].getAttribute(\"lat\")),\n            parseFloat(markers[i].getAttribute(\"lng\"))\n            );\n\n            var html = \"&lt;b&gt;\" + name + \"&lt;/b&gt; &lt;br/&gt;\" + address;\n            var icon = customIcons[type] || {};\n\n            var marker = new google.maps.Marker({\n            map: map,\n            position: point,\n            icon: icon.icon,\n            shadow: icon.shadow});\n\n            bindInfoWindow(marker, map, infoWindow, html);\n        }\n    })\n}\n</code></pre>\n\n<p>This is working great, however, the current code doesn't offload markers that aren't in de viewport anymore. Besides that, it loads markers again who are already loaded, that slows down the map really fast when moving the map a view times in the same area.</p>\n\n<p>So when the viewport changes, I like to clear the whole map first before loading new markers. What is the best way to do this?</p>\n",
            "last_activity_date": 1392385227,
            "question_id": 2943474,
            "score": 18,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3",
                "google-maps-markers"
            ],
            "title": "Google Maps V3: Only show markers in viewport - Clear markers issue"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>For the networking side of things, try looking at <a href=\"http://nodejs.org\" rel=\"nofollow\">node.js</a> for the server, along with <a href=\"http://socket.io/\" rel=\"nofollow\">socket.io</a> for the client.</p>\n\n<p>As for the drawing itself, a few popular choices are <a href=\"http://processingjs.org/\" rel=\"nofollow\">processing</a>, <a href=\"http://raphaeljs.com/\" rel=\"nofollow\">raphael</a> and <a href=\"http://code.google.com/p/cakejs/\" rel=\"nofollow\">cakejs</a>.</p>\n\n<p>When it comes to the implementation, you may want to look at how networked games deal with similar issues (<a href=\"http://gamedev.stackexchange.com\">gamedev.stackexchange.com</a> could be useful).</p>\n\n<p>What you are going to be doing is essentialy the same as a simple top down multiplayer game, with each 'player' in this case being a students fingertip, and the 'level' being the canvas. You need to update the server as to their position and whether or not they are 'shooting' (drawing).</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<blockquote>\n  <p>I'm guessing push/get requests would be too slow for this - could it be solved by websockets? Does anybody have any good JS libraries to recommend for this?</p>\n</blockquote>\n\n<p>If you need real-time infrastructure I've created a list of real-time technologies which might be of use to you. These include hosted service, such as <a href=\"http://pusher.com\" rel=\"nofollow\">Pusher</a> who I work for, and self-install technologies such as WebSocket and Comet solutions.</p>\n\n<p>WebSocket sounds like the idea choice of technology for you since they have become part of HTML5 and offer the most efficient for of realtime bi-directional communication between a web server and a browser (or other clients).</p>\n\n<blockquote>\n  <p>Also what would the ideal (but easier for students to understand) architecture look like. Lets say you have 30 simultaneous users in a clasroom - each of them would connect with websockets to the server and the server would pool/combine all of their requests into one and then return the combined file (some sort of minimal JSON or even just coordinates) for every connected user?</p>\n</blockquote>\n\n<p>It sounds like you should probably store the current state somewhere and on the initial load of the application display that state. Then use your real-time infrastructure to send deltas on that state, or if it's a drawing on canvas, just information on the line etc. that has been drawn and information about who drew it.</p>\n\n<blockquote>\n  <p>Would websockets and (I'm guessing) canvas be able to take this? So that everything still looks snappy? Are there (jQuery-like) JS libraries available to make our lives easier - or do you think its something thats too complex for a 2-week summer school project?</p>\n</blockquote>\n\n<p>Real-time collaborative drawing is most definitely achievable and there have been a number of examples created of this. A <a href=\"http://www.google.co.uk/search?sourceid=chrome&amp;ie=UTF-8&amp;q=websocket+canvas#pq=websocket%20canvas&amp;hl=en&amp;cp=38&amp;gs_id=2c&amp;xhr=t&amp;q=websocket+canvas+collaborative+drawing&amp;pf=p&amp;sclient=psy&amp;source=hp&amp;pbx=1&amp;oq=websocket+canvas+collaborative+drawing&amp;aq=f&amp;aqi=&amp;aql=&amp;gs_sm=&amp;gs_upl=&amp;fp=1&amp;biw=1440&amp;bih=702&amp;bav=on.2,or.r_gc.r_pw.&amp;cad=b\" rel=\"nofollow\">google</a> bring up a number of possibilities.</p>\n\n<p>If this technology is completely new to you and you would prefer to concentrate on building the collaborative application then I would consider using a service for your app rather than going through the hassle of learning how to install and configure, or even code, your own infrastructure (I'm not just saying this because I work for such a service. I honestly think it makes the most sense).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>here's a tutorial describing how to create a multiuser whiteboard with javascript/html5/canvas:</p>\n\n<p><a href=\"http://www.unionplatform.com/?page_id=2762\">http://www.unionplatform.com/?page_id=2762</a></p>\n\n<p>the example uses a collaboration framework and server named \"union platform\". even if you decide to roll your own server and client framework, the messaging in the example should give you an idea of how to structure the code.</p>\n\n<p>for an apples-to-apples speed comparison of websocket vs comet, see:\n<a href=\"http://www.unionplatform.com/?page_id=2954\">http://www.unionplatform.com/?page_id=2954</a></p>\n\n<p>in my tests, a basic ping over WebSocket is normally about twice as fast as the ping over http. both websocket and coment are more than fast enough to create a collaborative whiteboard.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>Definitely check this out:</p>\n\n<p><a href=\"http://wesbos.com/html5-canvas-websockets-nodejs/\">http://wesbos.com/html5-canvas-websockets-nodejs/</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I'm trying to put together a small(ish) summer school project for some of my advanced students and am researching how to do it best and what to use - hopefully somebody here could point me in the right direction.</p>\n\n<p>What we are interested in is researching if HTML5 came far enough to create a real-time collaborative drawing whiteboard in it - purely by using web technologies without plugins (so CSS, HTML5/DOM and Javascript). What we'd ultimatelly strive for is this - for example have an online canvas/page on a central server displayed on a big screen in the classroom. Then our students/users would take out their smartphones, load the page in their mobile browsers (I'm perfectly ok with limiting this to webkit mobile browsers for now) and draw on their screens with touch/fingers (or on PCs with the mouse - guessing this doesn't make a lot of difference) and it would get updated in real time for everybody - both on their screens and on the central big screen in the classroom.</p>\n\n<p>I'm guessing push/get requests would be too slow for this - could it be solved by websockets? Does anybody have any good JS libraries to recommend for this? </p>\n\n<p>Also what would the ideal (but easier for students to understand) architecture look like. Lets say you have 30 simultaneous users in a clasroom - each of them would connect with websockets to the server and the server would pool/combine all of their requests into one and then return the combined file (some sort of minimal JSON or even just coordinates) for every connected user?</p>\n\n<p>Would websockets and (I'm guessing) canvas be able to take this? So that everything still looks snappy? Are there (jQuery-like) JS libraries available to make our lives easier - or do you think its something thats too complex for a 2-week summer school project?</p>\n",
            "last_activity_date": 1318652599,
            "question_id": 6845682,
            "score": 17,
            "tags": [
                "javascript",
                "html5",
                "canvas",
                "webkit",
                "websocket"
            ],
            "title": "Real-time collaborative drawing whiteboard in HTML5/JS and websockets?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I think you have two controllers, one for each template like this:</p>\n\n<pre><code>function Controller_1($scope...){\n    ...\n}\nfunction Controller_2($scope...){\n    ...\n}\n</code></pre>\n\n<p>Well, when you switch from one template to another there's an event that's fired called $destroy, you can read up on it here <a href=\"http://docs.angularjs.org/api/ng.%24rootScope.Scope#%24destroy\"> http://docs.angularjs.org/api/ng.$rootScope.Scope#$destroy</a></p>\n\n<p>Let's say I'm switching from the template with Controller_1 to the template with Controller_2. Controller_1 has an interval I'd like to stop. You can accomplish this with:</p>\n\n<pre><code>function Controller_1($scope...){\n    var myInterval = setInterval(...);\n    $scope.$on(\"$destroy\", function(){\n        clearInterval(myInterval);\n    });\n}\n</code></pre>\n\n<p>This will mean that when the $scope for Controller_1 is destroyed, the event will be called and the interval will be cleared.</p>\n",
                    "is_accepted": true,
                    "score": 37
                },
                {
                    "body": "<p>This is for when you leave a template (also prompt a confirm dialog):</p>\n\n<pre><code>             function Controller_1($scope...){\n               var myInterval = setInterval(...);\n               $scope.$on('$locationChangeStart', function (event, next, current) {\n                    console.log(current);\n\n                    if (current.match(\"\\/yourCurrentRoute\")) {\n                        var answer = confirm(\"Are you sure you want to leave this page?\");\n                        if (!answer) {\n                            event.preventDefault();\n                        }else{\n                            clearInterval(myInterval);\n                        }\n                    }\n                });\n               }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am using the Javascript command:  setInterval.  I like to stop it when the user leaves the page.</p>\n\n<p>This code seems to work well:  <a href=\"http://jsfiddle.net/PQz5k/\">http://jsfiddle.net/PQz5k/</a></p>\n\n<p>It detects when a user leaves a page.  It executes Javascript code when a user clicks on a link to go to a different HTML page or URL, or if user reloads page.</p>\n\n<p>However, it does not work when I go from one AngularJS template to another.  As an example, if I am at template1.html, I want the Javascript code to do something in Controller1.js when the user leaves template1.html to go to template2.html.  What is the equivalent of this code below in AngularJS?:</p>\n\n<pre><code>$(window).on('beforeunload', function() {\n    return 'Your own message goes here...';\n});\u200b\n</code></pre>\n",
            "last_activity_date": 1418324256,
            "question_id": 13885718,
            "score": 16,
            "tags": [
                "javascript",
                "angularjs",
                "setinterval"
            ],
            "title": "In AngularJS, how to detect when user leaves template/page?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Most editors use the <a href=\"http://www.w3.org/TR/html5/editing.html#contenteditable\"><code>contentEditable</code></a> property. Simply setting it on any HTML element enables editing, copy&amp;paste, spell checking, formatting etc. in modern user agents.</p>\n\n<p>However, google docs specifically does <strong>not</strong> use contentEditable. Instead, they implemented <a href=\"http://googledocs.blogspot.com/2010/05/whats-different-about-new-google-docs.html\">their own rendering engine</a> in JavaScript. Unless you plan a project on the scale of google docs (i.e. you have at least, say, 3 people willing to work full-time on the rendering engine), contentEditable is the way to go.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>If you use the element inspector (Tools>Developer Tools on chrome, or the Firebug extension for Firefox) then you can see what techniques <em>they</em> used to implement it. </p>\n\n<p>How <em>you</em> implement it is the same as anything - break up the tasks into small enough units that you can understand each one, understand how the units act in concert to realise the system, then implement the units and put them together.  </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>new Google Docs is totally different for everything else like tinyMCE, ckEditor and similars. Here is an article describing some of the technologies behind it : <a href=\"http://news.softpedia.com/news/Google-Details-the-Powerful-Technology-Behind-the-New-Docs-Editor-141804.shtml\">http://news.softpedia.com/news/Google-Details-the-Powerful-Technology-Behind-the-New-Docs-Editor-141804.shtml</a></p>\n\n<p>quoted from the article: \u201cTo get around these problems, the new Google document editor doesn\u2019t use the browser to handle editable text. We wrote a brand new editing surface and layout engine, entirely in JavaScript,\u201d Jeff Harris, product manager, Google Docs.</p>\n\n<p>It's amazing how there isn't any open source implementation and people are not aware of this.</p>\n\n<p>The short answer is that they implemented every single logic that a graphic text editor would do, in plain javascript (from layout, to rendering, to everything else)</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p><a href=\"http://www.waveprotocol.org/\" rel=\"nofollow\">Google Wave</a> pioneered much of what google docs has, though the models are completely different. Start research there, as there is much to learn.</p>\n\n<p>If you are just trying to do something simpler than structured documents, mobwrite, etherpad or one of its forks could suit.</p>\n\n<p>The editor can be tricky and essentially involves building an entire word processor in javascript. Some examples of this are around.</p>\n\n<p>With any kind of editor you have a line or element buffer, which you must mirror onto the realtime api of choice. </p>\n\n<p>This can be done with <a href=\"https://developers.google.com/drive/realtime/\" rel=\"nofollow\">Google drive's realtime API</a>.</p>\n\n<p>Modification events have to be handled in both directions. Local model changes propagating to the realtime model and vice versa. Modifications to the local model can get rendered as they happen.</p>\n\n<p>Cursors can be handled by having pointers on the source buffer, such as <a href=\"https://developers.google.com/drive/realtime/reference/gapi.drive.realtime.IndexReference\" rel=\"nofollow\">Index Reference</a>. </p>\n\n<p>The server can be implemented in a number of ways, but will require an operational transformation model supporting common structures. <a href=\"http://www.waveprotocol.org/\" rel=\"nofollow\">Wave protocol's site</a> has an example using an xml model.</p>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>I opened a google doc, it seems that the google doc is not a simple text area .... it seems that this is a customize stuff.... is there any library for doing that kind of things? </p>\n",
            "last_activity_date": 1371714100,
            "question_id": 4358901,
            "score": 16,
            "tags": [
                "javascript",
                "html",
                "css"
            ],
            "title": "How to implement Google doc like text editor?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>I find the best policy to avoid pain is to follow these rules:</p>\n\n<ol>\n<li>Build in a more-compliant and developer-friendly browser like firefox first, test thoroughly in IE (and safari/chrome(webkit) and opera) periodically.</li>\n<li>Use a strict doctype- you don't necessarily need <em>perfect</em> markup, but it should be very good &mdash; good enough to avoid browser quirks modes, since quirks are by definition not standard</li>\n<li>Use a <a href=\"http://stackoverflow.com/questions/167531/is-it-ok-to-use-a-css-reset-stylesheet\">reset style sheet</a>.  Note that depending on the sheet's contents this item may be incompatible with the goal of #2.</li>\n<li>Use a javascript framework like jQuery or Prototype - they can hide some javascript and DOM incompatibilities.</li>\n<li>Use good semantic layout- it's more likely to degrade nicely for a mis-behaving browser</li>\n<li>Accept that it won't be perfect and don't sweat the really small variances</li>\n</ol>\n\n<p>Follow those rules and there aren't as many problems in the first place.</p>\n\n<p>For a TODO reference, see this question:<br />\n<a href=\"http://stackoverflow.com/questions/72394/what-should-a-developer-know-before-building-a-public-web-site\">http://stackoverflow.com/questions/72394/what-should-a-developer-know-before-building-a-public-web-site</a></p>\n",
                    "is_accepted": true,
                    "score": 44
                },
                {
                    "body": "<p>Design and test against FireFox...</p>\n\n<p>Then make the few changes needed for working in IE.</p>\n\n<p>I'm an IE guy, but this drives me crazy when I have it looking good in IE and then Firefox gets it right/wrong.  I understand Firefox is closer to standards, but IE makes good assumptions... so </p>\n\n<p>ARGH! )</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Code to a standards-compliant browser first, then use <a href=\"http://css-tricks.com/how-to-create-an-ie-only-stylesheet/\" rel=\"nofollow\">conditional stylesheets</a> to fix the issues in various versions of IE. Most other problems will be minor, it's IE that generally requires the most effort to force it to match up.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You need a proper doctype so that the page renders in standards compliant mode.</p>\n\n<p><a href=\"http://www.w3.org/QA/2002/04/valid-dtd-list.html\" rel=\"nofollow\">W3C: Recommended list of DTDs</a></p>\n\n<p>Keep to the standards as far as possible. That's what the browsers are built to follow, so that is the best common ground that you can find. Also, that is what browsers will follow in the future, so you get the best possible prediction for how the code should look to work with future browser versions.</p>\n\n<p>When building, first test the page in a browser that is not Internet Explorer. If you first build for IE, you will be relying on it's rendering errors, and then you will have great problems to make it look the same in browsers that doesn't have those errors. Firefox is the most common non-IE browsers, and also one of the most neutral when it comes to following the standards.</p>\n\n<p>The Firebug add-on for Firefox lets you see exactly what styles are applied to each element, and you can also tweak the styles in real time, so that is a very handy tool.</p>\n\n<p>Try to make the layout as simple and robust as possible, and keep to the original semantics of html if possible. Search engines look for content in elements that was intended for it, like a header in a <code>h1</code> tag, and text in a <code>p</code> tag, so by following the original intention for the markup you make your page more visible on the web.</p>\n\n<p>You may have to add some extra styles to suppress quirks in IE, like specifying a height for elements that should manage to figure out their height by themselves, adding display:inline; to floating elements (which still will be block elements) to fiddle the internal rendering flags of IE, or using overflow:hidden to suppress the urge of IE to make all elements at least one character high. Use padding rather than margin where either works, as IE has problems to collapse margins correctly.</p>\n\n<p>Use conditional tags only as a last resort. By using version specific code you get code that you may have to maintain for every new browser version that is released.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>In addition to Joel's answer, I've found that it helps to keep things simple as much as possible. Also, using wrapping divs helps a great deal - you can apply simple styles to the wrappers that ought to work across all browsers.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>My ticket into oblivion:\nUse nested tables for design.\nAnother method is: just create your site as a big image instead of html.\nDownside is, it is slow and limits functionality.</p>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>It sounds silly, but for each request, you can render all your content to a single image file, then respond to the request with nothing else but that one file. </p>\n\n<p>Okay?</p>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>I work hard to ensure my website designs are cross browser compatible.\nMy process is as follows:</p>\n\n<ol>\n<li>Sketch the rough layout idea in photoshop. or even on a piece of paper.</li>\n<li>Mock up a screen shot in photoshop (insert fav photoeditor here).</li>\n<li>Start building the site based on the above design.</li>\n<li>Decide which browsers are important to be compatible with.</li>\n<li>Test the site with each major design change with these browsers</li>\n<li>There are some <a href=\"http://www.google.com.au/search?hl=en&amp;q=CSS%2BBrowser%2Bhacks&amp;meta=\" rel=\"nofollow\">CSS hacks</a> which I've been forced to use inorder to get all of the target browsers working.  I try to avoid stooping to these as they may have longer unexpected side effects with some future browser version.</li>\n<li>Last step is to review the final product in all of the test browsers.  There will be minor differences, this is where you need to decide when to draw the line.  Because a LOT of time can be easily spent pushing pixels.</li>\n</ol>\n\n<p>Generally speaking I target the top 4 browsers: IE-7, IE-8, FF, Chrome &amp; Safari.  I recently used a CSS hack for fixing an issue with IE-7:</p>\n\n<pre><code>width: 50px;\n*width: 45px;  /* IE-7 Hack */\n</code></pre>\n\n<p>This works by using a little bit of invalid CSS (*) the other browsers listed will correctly ignore this hack, but IE-7 reads it.  As it is read last it is applied</p>\n\n<p>hint: consider the actual <a href=\"http://www.w3schools.com/browsers/browsers%5Fstats.asp\" rel=\"nofollow\">browser market share</a>.  This may differ significantly with your actual visitors.  Record which browsers are visiting your site at some future time and ensure you are covering at least the majority of the browser makes + versions</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm near ending the repetitive alarms at my <a href=\"http://www.my-clock.net\" rel=\"nofollow\">little learning project</a>.  It's still full of bugs, but as it is a weekend project I'm correcting them slowly. My problem is inconsistency of layout across browsers. </p>\n\n<p>At the moment, I'm trying to improve the \"<code>My Alarms</code>\" box after login (Just don't try to hack my website, it's still very unstable).</p>\n\n<h3>Question</h3>\n\n<p>What kind of tricks, hacks, tips, etc. can you give me to ensure cross-browser layout compatibility? </p>\n",
            "last_activity_date": 1278722115,
            "question_id": 611704,
            "score": 16,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css"
            ],
            "title": "How can I achieve a consistent layout in all browsers?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can intercept route changes as you suggested and act accordingly, using the following example as a basis:</p>\n\n<pre><code>    $rootScope.$on('$routeChangeStart', function (event, next) {\n        var userAuthenticated = ...; /* Check if the user is logged in */\n\n        if (!userAuthenticated &amp;&amp; !next.isLogin) {\n            /* You can save the user's location to take him back to the same page after he has logged-in */\n            $rootScope.savedLocation = $location.url();\n\n            $location.path('/User/LoginUser');\n        }\n    });\n</code></pre>\n\n<p>Also, add <code>isLogin: true</code> to the route definition of your login page, like this:</p>\n\n<pre><code>$routeProvider\n    // LOGIN\n    .when('/User/LoginUser', {templateUrl: 'views/user/login.html',controller: 'loginCtrl', isLogin: true})\n</code></pre>\n\n<p>Good luck with your project!</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>My opinion:</p>\n\n<pre><code>&lt;?php if (!$_SESSION['user_id'] { forward(/user/access); }) ?&gt;\n</code></pre>\n\n<p>and here comes your angular app...</p>\n",
                    "is_accepted": false,
                    "score": -6
                }
            ],
            "body": "<p>I'm struggling with setting up a login system for an app i'm creating.</p>\n\n<p>I'm able to set cookies for when the user is logged in or out. I don't think that testing every view if the user is logged in is a very elegant solution, and i'm afraid a page here and there may fall through the cracks (it's a rather large app).</p>\n\n<p>I'm thinking the best way would be to intercept route changes somehow and check if the user is logged in, otherwise send them to a login/create user page. I've found a few methods, but nothing seems to be officially documented. Has anyone used this type of method in a real world case, and was it effective?</p>\n\n<p>My route file looks like this:</p>\n\n<pre><code>'use strict';\n\napp.config(['$routeProvider', function ($routeProvider) {\n    $routeProvider\n        // LOGIN\n        .when('/User/LoginUser', {templateUrl: 'views/user/login.html',controller: 'loginCtrl'})\n\n    ....... more routes here.......\n\n        // DEFAULT\n        .otherwise({redirectTo: '/'});\n}]);\n</code></pre>\n\n<p>Any help or suggestions, or points to documented real world examples of how I would do something like this would be greatly appreciated!</p>\n",
            "last_activity_date": 1395724929,
            "question_id": 18918579,
            "score": 15,
            "tags": [
                "javascript",
                "angularjs",
                "routes"
            ],
            "title": "AngularJs - best way to limit access to &#39;logged in&#39; users"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Try passing it directly to the ng-click function:</p>\n\n<pre><code>&lt;div class=\"col-lg-1 text-center\"&gt;\n    &lt;span class=\"glyphicon glyphicon-trash\" data=\"{{event.id}}\"\n          ng-click=\"deleteEvent(event.id)\"&gt;&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Then it should be available in your handler:</p>\n\n<pre><code>$scope.deleteEvent=function(idPassedFromNgClick){\n    console.log(idPassedFromNgClick);\n}\n</code></pre>\n\n<p>Here's <a href=\"http://jsfiddle.net/jandersen/RUnaE/\">an example</a></p>\n",
                    "is_accepted": true,
                    "score": 33
                },
                {
                    "body": "<p>You can pass the <code>$event</code> object to <code>ng-click</code> to access the event properties. As an example:</p>\n\n<pre><code>&lt;a ng-click=\"clickEvent($event)\" class=\"exampleClass\" id=\"exampleID\" data=\"exampleData\" href=\"\"&gt;Click Me&lt;/a&gt;\n</code></pre>\n\n<p>Within your <code>clickEvent() = function(obj) {}</code> function you can access the <code>data</code> value like this:</p>\n\n<pre><code>var dataValue = obj.target.attributes.data.value;\n</code></pre>\n\n<p>Which would return <code>exampleData</code>.</p>\n\n<p>Here's a <a href=\"http://jsfiddle.net/brettdewoody/FAeJq/\">full jsFiddle</a>.</p>\n",
                    "is_accepted": false,
                    "score": 33
                },
                {
                    "body": "<p>Addition to the answer of Brett DeWoody: (which is updated now)</p>\n\n<pre><code>var dataValue = obj.srcElement.attributes.data.nodeValue;\n</code></pre>\n\n<p>Works fine in IE(9+) and Chrome, but Firefox does not know the srcElement property.\nI found:</p>\n\n<pre><code>var dataValue = obj.currentTarget.attributes.data.nodeValue;\n</code></pre>\n\n<p>Works in IE, Chrome and FF, I did not test Safari.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a span tag like below which call a function in the controller when clicked.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div class=\"row\" ng-repeat=\"event in events\"&gt;\n    &lt;div class=\"col-lg-1 text-center\"&gt;\n        &lt;span class=\"glyphicon glyphicon-trash\" data={{event.id}} ng-click=\"deleteEvent()\"&gt;\n        &lt;/span&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>$scope.deleteEvent=function(){\n    console.log(this);\n}\n</code></pre>\n\n<p>I need to get the value in data attribute in the controller function. I tried using this keyword and $event; neither one worked.</p>\n\n<p>Please help.</p>\n",
            "last_activity_date": 1415290788,
            "question_id": 18029261,
            "score": 15,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "Getting attribute of element in ng-click function in angularjs"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>script tags are loading synchronously - so if you put your yepnope in a js file and load it via script tag:</p>\n\n<pre><code>   &lt;script type=\"text/javascript\" src=\"/my-yepnope-stuff.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>right before the closing body tag you can be quite sure to be at $(document).ready() state.</p>\n\n<p>What you need to answer for yourself is whether it makes sense to force yepnope to load in a $(document).ready() fashion, as its main purpose is to break the synchronous loading order of script tags in the first place.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Using guidance from @ezmilhouse, I thought about the best way to achieve what I was after while still keeping compatibility with our older code.</p>\n\n<p>My solution was to set up my yepnope scriptloader to load all necessary scripts in a hierarchical fashion, based on their individual dependencies. Once all scripts are loaded, you can use the <code>complete</code> property of my call to yepnope to call my ready function. This meant that the document was effectively ready and the code would work with no issues.</p>\n\n<p>I also moved my js to the base of my pages (something that I should have done a long time ago, but we had a lot of legacy pages! :) )</p>\n\n<p>Here is an example (using false libray/script names for illustration purposes only):</p>\n\n<pre><code>yepnope({\n    test: baseLib.debug,\n    yep: { \"max\": \"/version2/res/jquery/jquery-1.5.2.js\" },\n    nope: { \"min\": \"/version2/res/jquery/jquery-1.5.2.min.js\" },\n    callback: {\n        \"max\": function (url, result, key) {\n            baseLib.Log(\"jQuery full loaded.\");\n        },\n        \"min\": function (url, result, key) {\n            baseLib.Log(\"jQuery min loaded.\");\n        }\n    },\n    complete: function () {\n        if (window.$) {\n            yepnope({\n                test: base.debug,\n                yep: {\n                   \"anotherscript\": \"script/url/here.js\",\n                   \"anotherscript2\": \"script/url/here2.js\"\n                },\n                nope: {\n                    \"anotherscript\": \"script/url/here-min.js\",\n                    \"anotherscript2\": \"script/url/here2-min.js\"\n                },\n                both: {\n                    \"anotherscript3\": \"script/url/here3.js\"\n                },\n                callback: {\n                    \"anotherscript\": function (url, result, key) {\n                        baseLib.Log(\"anotherscript \" + (result ? \"Max\" : \"Min\") + \" loaded.\");\n\n                    },\n                    \"anotherscript2\": function (url, result, key) {\n                        baseLib.Log(\"anotherscript2 \" + (result ? \"Max\" : \"Min\") + \" loaded.\");\n                    },\n                    \"anotherscript3\": function (url, result, key) {\n                        baseLib.Log(\"anotherscript3 loaded.\");\n                    }\n                },\n                complete: function () {\n                    baseLib.Log(\"Scripts Loaded\");\n                    baseLib.Page.Ready();\n                }\n            });\n\n        }\n        else {\n            baseLib.Log(\"Could not load jQuery. No further jQuery dependent files loaded.\", \"error\");\n        }\n    }\n});\n</code></pre>\n\n<p>In my page js I will assign a function to <code>baseLib.Page.Ready</code> that will then be called by yepnope on complete.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is the technique I use. It allows me to sprinkle $(document).ready() style calls wherever I like. Using this method, you can take a site that already uses jQuery and has existing $(document).ready() calls, and easily retrofit yepnope.</p>\n\n<p>First, add this line of JS, preferably in the document head, before any javascript that calls $(document).ready():</p>\n\n<pre><code>&lt;script&gt;\n    var docready=[],$=function(o){function r(fn){docready.push(fn);}if(typeof o === 'function') r(o);return{ready: r}};\n&lt;/script&gt;\n</code></pre>\n\n<p>Then, have your yepnope jQuery test object set similar to this:</p>\n\n<pre><code>yepnope({\n    load: '//ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js',\n    complete: function() {\n        $ = jQuery;         \n        for(n in docready) $(document).ready(docready[n]);\n    }\n});\n</code></pre>\n\n<p>We create a fake $(document).ready() before jQuery loads. This stores every $(document).ready() call in an array, docready. Then, once jQuery has loaded, we overwrite our temporary $ object with the now loaded real jQuery object. Then, we iterate through all the stored $(document).ready() calls, and execute them for real.</p>\n\n<p>UPDATED: improved version from Chris Jones that also covers $(function() {}) style invocations.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>If load jQuery without yepnope isn't a problem for you, there is a easier way to do.</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n    $.holdReady(true);\n\n    yepnope.load({\n        load: [\n            'placeholder.js',\n            'jquery-ui.min.js'\n        ],\n        complete: function (){\n            $.holdReady(false);\n        }\n    });\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>I think that Alex Sexton <a href=\"https://github.com/SlexAxton/yepnope.js/issues/82\" rel=\"nofollow\">solution</a> would be correct :</p>\n\n<pre><code>yepnope({\n    load: '//ajax.googleapisOFFLINE.com/ajaxX/libs/jquery/1.7.1/jquery.min.js',\n    callback: function () {\n        if (!window.jQuery) {\n            yepnope('/js/jquery-1.7.1.min.js');\n        }\n    },\n    complete: function () {\n      $(function(){\n        $(\"div.whatever\").css(\"color\",\"red\");\n      });\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have been implementing the yepnope script loader as part of the modernizr.js library. I have successfully got jQuery to load and jQuery dependent scripts afterwards. I am new to asynchronous loading of resources, so it's a bit new to me. I have been searching around, but haven't had much luck with the following.</p>\n\n<p>My question is what are your opinions on how to effectively replace the functionality of $(document).ready() when working with the yepnope.js framework. </p>\n\n<p>My theory was to create a appropriately named function in my base library and then set that variable on my pages to an anonymous function containing my existing $(document).ready() code. This variable would then be called by yepnope after all the scripts had loaded in the complete callback.</p>\n\n<p>Would you agree that this is a good way of doing it, or am I approaching this entirely the wrong way?</p>\n\n<p>(For those unaware, the asynchronous nature of yepnope.js means that the document calls $ or jQuery before the yepnope loader has finished, throwing a \"$ is undefined\" error &lt;- please correct me if that is wrong.)</p>\n\n<p>First question, hope it's a good one.</p>\n",
            "last_activity_date": 1386074941,
            "question_id": 5668311,
            "score": 15,
            "tags": [
                "javascript",
                "jquery",
                "document.ready",
                "yepnope",
                "asynchronous-loader"
            ],
            "title": "How can I use yepnope.js with $(document).ready() effectively?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Remember to return <strong>true</strong> from any custom  window.onerror handler, or firefox will handle it anyway.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The following is tested and working in IE 6 and Firefox 3.0.11:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    window.onerror = function (msg, url, num) {\n        alert(msg + ';' + url + ';' + num);\n        return true;\n    }\n    &lt;/script&gt;\n    &lt;div&gt;\n    ...content...\n    &lt;/div&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    blah;\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>If some other JavaScript library you are loading is also attaching itself to <code>window.onerror</code> you can do this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction addHandler(obj, evnt, handler) {\n    if (obj.addEventListener) {\n        obj.addEventListener(evnt.replace(/^on/, ''), handler, false);\n    // Note: attachEvent fires handlers in the reverse order they\n    // were attached. This is the opposite of what addEventListener\n    // and manual attachment do.\n    //} else if (obj.attachEvent) {\n    //    obj.attachEvent(evnt, handler);\n    } else {\n        if (obj[evnt]) {\n            var origHandler = obj[evnt];\n            obj[evnt] = function(evt) {\n                origHandler(evt);\n                handler(evt);\n            }\n        } else {\n            obj[evnt] = function(evt) {\n                handler(evt);\n            }\n        }\n    }\n}\naddHandler(window, 'onerror', function (msg, url, num) {\n    alert(msg + ';' + url + ';' + num);\n    return true;\n});\naddHandler(window, 'onerror', function (msg, url, num) {\n    alert('and again ' + msg + ';' + url + ';' + num);\n    return true;\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>The above lets you attach as many <code>onerror</code> handlers as you want. If there is already an existing custom <code>onerror</code> handler it will invoke that one, then yours.</p>\n\n<p>Note that <code>addHandler()</code> can be used to bind multiple handlers to any event:</p>\n\n<pre><code>addHandler(window, 'onload', function () { alert('one'); });\naddHandler(window, 'onload', function () { alert('two'); });\naddHandler(window, 'onload', function () { alert('three'); });\n</code></pre>\n\n<p>This code is new and somewhat experimental. I'm not 100% sure <a href=\"https://developer.mozilla.org/en/DOM/element.addEventListener\">addEventListener</a> does precisely what the manual attachment does, and as commented, <a href=\"http://msdn.microsoft.com/en-us/library/ms536343.aspx\">attachEvent</a> fires the handlers in the reverse order they were attached in (so you would see 'three, two, one' in the example above). While not necessarily \"wrong\" or \"incorrect\", it is the opposite of what the other code in <code>addHandler</code> does and as a result, could result in inconsistent behaviour from browser to browser, which is why I removed it.</p>\n\n<p>EDIT:</p>\n\n<p>This is a full test case to demonstrate the onerror event:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction addHandler(obj, evnt, handler) {\n    if (obj.addEventListener) {\n        obj.addEventListener(evnt.replace(/^on/, ''), handler, false);\n    } else {\n        if (obj[evnt]) {\n            var origHandler = obj[evnt];\n            obj[evnt] = function(evt) {\n                origHandler(evt);\n                handler(evt);\n            }\n        } else {\n            obj[evnt] = function(evt) {\n                handler(evt);\n            }\n        }\n    }\n}\naddHandler(window, 'onerror', function (msg, url, num) {\n    alert(msg + ';' + url + ';' + num);\n    return true;\n});\n&lt;/script&gt;\n&lt;div&gt;\n...content...\n&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\nblah;\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When the above code is put in test.htm and loaded into Internet Explorer from the local idks, you should see a dialog box that says <code>'blah' is undefined;undefined;undefined</code>.</p>\n\n<p>When the above code is put in test.htm and loaded into Firefox 3.0.11 (and the latest 3.5 as of this edit - Gecko/20090616) from the local disk, you should see a dialog box that says <code>[object Event];undefined;undefined</code>. If that is not happening then your copy of Firefox is not configured correctly or otherwise broken. All I can suggest is that you remove Firefox, remove your local profile(s) (information about how to find your profile is available <a href=\"http://support.mozilla.com/en-US/kb/Profiles\">here</a>) and reinstall the latest version and test again.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>It appears there is an open bug (#3982) in jQuery 1.3.x - <a href=\"http://dev.jquery.com/ticket/3982\" rel=\"nofollow\">jQuery.error event gets incorrect arguments</a>.  The last update was 2 months ago with the comment:</p>\n\n<blockquote>\n  <p>Given how crazy the error event is,\n  and how frequently it's used, I agree\n  that it's easiest to remove support\n  for it. I've added a note to the docs\n  already since it didn't work anyway.</p>\n</blockquote>\n\n<p>I guess I would just set window.onerror myself, similar to what Grant posted.  Also, <a href=\"http://bytes.com/groups/javascript/571238-firefox-addeventlistener-vs-window-onerror\" rel=\"nofollow\">FireFox: addEventListener Vs. window.onerror</a> mentions that <em>\"element.addEventListener\", causing an error does not activate \"window.onerror\"</em>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm trying to create a javascript error logging infrastructure.</p>\n\n<p>I'm trying to set <code>window.onerror</code> to be my error handler.  It works in IE 6, but when I run it in Firefox, it runs into some conflicting <code>onerror</code> method. </p>\n\n<pre><code>var debug = true;\n\nMySite.Namespace.ErrorLogger.prototype = {\n\n   //My error handling function.  \n   //If it's not in debug mode, I should get an alert telling me the error.\n   //If it is, give a different alert, and let the browser handle the error.\n   onError: function(msg, url, lineNo) {\n        alert('onError: ' + msg);\n        if (!debug) {\n            alert('not debug mode');\n            return true;\n        }\n        else {\n            alert(msg);\n            return false;\n        }\n    }\n}\n\n//Document ready handler (jQuery shorthand)\n$(function() {\n    log = $create(MySite.Namespace.ErrorLogger);\n\n    window.onerror = log.onError;\n\n    $(window).error(function(msg, url, line) {\n        log.onError(msg, url, line);\n    });\n});\n</code></pre>\n\n<p>If I use <code>setTimeout(\"eval('a')\", 1);</code> where '<code>a</code>' is an undefined variable, my error handler is what's fired (it works).  However, my error-logger needs to catch all errors thrown by clients accessing the website, not just incorrect code in one place.</p>\n\n<p>The code is on a .js page that is being called from the base page (C#) of a website.  The site also uses jQuery, so I have a function that overrides the jQuery bind function, and that function works fine in both Firefox 3 and IE 6.</p>\n\n<p>I know that Firefox is seeing the error because it shows up in both the Error Console and Firebug, but <em>my</em> <code>window.onerror</code> function is still not being called.</p>\n\n<p>Any thoughts on how to override what Firefox is doing?</p>\n",
            "last_activity_date": 1248414484,
            "question_id": 1008692,
            "score": 15,
            "tags": [
                "javascript",
                "jquery",
                "firefox",
                "onerror"
            ],
            "title": "window.onerror not firing in Firefox"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>According to wikipedia, when converting to grayscale representation of luminance, \"one must obtain the values of its red, green, and blue\" and mix them in next proportion: R:30% G:59% B:11%</p>\n\n<p>Therefore white will have 100% luminance and yellow will have 89%. At the same time green have as small as 59%. 11% difference is almost 4 times lower then 41% difference!</p>\n\n<p>And even lime (<code>#00ff00</code>) is not good for reading large amount of texts.</p>\n\n<p>IMHO for good contrast colors' brightness should differ at least for 50%. And this brightness should be measured as converted to grayscale.</p>\n\n<p><strong>upd</strong>: Recently found a <a href=\"https://github.com/LeaVerou/contrast-ratio\">comprehensive tool</a> for that on the web\n which in order uses formula from <a href=\"http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef\">w3 document</a>\nThreshold values could be taken from <a href=\"http://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast\">#1.4</a>\nHere're calculations for this more advanced thing.</p>\n\n<pre><code>function luminanace(r, g, b) {\n    var a = [r,g,b].map(function(v) {\n        v /= 255;\n        return (v &lt;= 0.03928) ?\n            v / 12.92 :\n            Math.pow( ((v+0.055)/1.055), 2.4 );\n        });\n    return a[0] * 0.2126 + a[1] * 0.7152 + a[2] * 0.0722;\n}\n(luminanace(255, 255, 255) + 0.05) / (luminanace(255, 255, 0) + 0.05); // 1.074 for yellow\n(luminanace(255, 255, 255) + 0.05) / (luminanace(0, 0, 255) + 0.05); // 8.592 for blue\n// minimal recommended contrast ratio is 4.5 or 3 for larger font-sizes\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>There are various ways for calculating contrast, but a common way is this formula:</p>\n\n<pre><code>brightness = (299*R + 587*G + 114*B) / 1000\n</code></pre>\n\n<p>You do this for both colors, and then you take the difference. This obviously gives a much greater contrast for blue on white than yellow on white.</p>\n",
                    "is_accepted": false,
                    "score": 10
                }
            ],
            "body": "<p>Pretty straight-forward, take yellow and white:</p>\n\n<pre><code>back_color = {r:255,g:255,b:255}; //white\ntext_color = {r:255,g:255,b:0}; //yellow\n</code></pre>\n\n<p>What law of physics on God's Earth of universal constants, makes the fact that yellow text can't be read on white backgrounds but blue text can?</p>\n\n<p>For the sake of my customizable widget I tried all possible color models that I found conversions functions for; neither can say that green can be on white and yellow can't, based on just numerical comparisons.</p>\n\n<p>I looked at Adsense (which is created by the Budda of all Internet) and guess what they did, they made presets and color cells distance calculations. I can't to do that. My users have the right to pick even the most retina-inflammatory, unaesthetic combinations, as long as the text can still be read.</p>\n",
            "last_activity_date": 1362557623,
            "question_id": 9733288,
            "score": 14,
            "tags": [
                "javascript",
                "validation",
                "colors"
            ],
            "title": "How to programmatically calculate the contrast ratio between two colors?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Working_with_Closures\">This writeup from Mozilla may answer why use closures and when</a></p>\n\n<p>Also, <a href=\"http://www.jibbering.com/faq/faq_notes/closures.html#clClDo\">see this set of examples (especially \"What can be done with Closures?\" section that has the following exmples)</a>:</p>\n\n<ul>\n<li>Example 1: setTimeout with Function References</li>\n<li>Example 2: Associating Functions with Object Instance Methods</li>\n<li>Example 3: Encapsulating Related Functionality</li>\n</ul>\n\n<p>I have e feeling that this can be traced to Crockford, but the classic use of closures is to emulate private instance or static variables (which JavaScipt lacks)</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Firstly:</p>\n\n<ul>\n<li>Callback: A function passed as an argument to another function, usually to be called as a result of an event occurring. </li>\n<li>Closure: A retained scope. I.e. the concept that when you declare a function within another function, the <em>outer</em> function's scope is accessible within the <em>inner</em> function.</li>\n</ul>\n\n<p>Callbacks can also be closures, but are not always.</p>\n\n<p>This is a callback:</p>\n\n<pre><code>someProcess(myCallback);\n\nfunction myCallback() {\n    alert('Done...');\n}\n\nfunction someProcess(callback) {\n    // does stuff...\n    // ...\n    callback();\n}\n</code></pre>\n\n<p>A closure:</p>\n\n<pre><code>function foo(msg) {\n\n    function bar() {\n        // I can access foo's scope\n        // (i.e. bar can access everything that foo can access)\n        alert(msg);\n    }\n\n    return bar;\n\n}\n\nfoo('hello')(); // alerts \"hello\"\n</code></pre>\n\n<p>One common usage of closures is to provide information-hiding, which is helpful in bringing some kind of encapsulation to the language. Have a look at <a href=\"http://yuiblog.com/blog/2007/06/12/module-pattern/\">the module pattern</a> to see this in action.</p>\n\n<p>Another common usage is when binding event handlers to elements. E.g.</p>\n\n<pre><code>var myElements = [ /* DOM Collection */ ];\n\nfor (var i = 0; i &lt; 100; ++i) {\n    myElements[i].onclick = function() {\n        alert( 'You clicked on: ' + i );\n    };\n}\n</code></pre>\n\n<p>That wouldn't work. By the time the element is clicked, the variable <code>i</code> is <code>99</code>. To make this work properly we cold use a closure to capture the value of <code>i</code>:</p>\n\n<pre><code>function getHandler(n) {\n    return function() {\n        alert( 'You clicked on: ' + n );\n    };\n}\n\nfor (var i = 0; i &lt; 100; ++i) {\n    myElements[i].onclick = getHandler(i);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>Let's say you want a function that you can use to return a unique \"id\" value to use when you create new DOM elements.  Now, in something like Java, you could create a class with an internal private counter, and then have a method that appends the counter to some prefix string. Well, in Javascript:</p>\n\n<pre><code>var getId = (function() {\n  var counter = 0;\n  return function() {\n    return \"prefix\" + counter++;\n  };\n})();\n</code></pre>\n\n<p>Now the variable \"getId\" is bound to a function that's <em>created</em> by another function, and created in such a way that it has a persistent variable to use between invocations. Similarly, if I wanted to have a family of \"getId\" functions (say, one for each type of DOM element I might add), I could do this:</p>\n\n<pre><code>var getIdFunc = function(prefix) {\n  var counter = 0;\n  return function() {\n    return prefix + counter++;\n  };\n};\nvar getId = {\n  'div': getIdFunc('div'),\n  'span': getIdFunc('span'),\n  'dl': getIdFunc('dl'),\n  // ...\n};\n</code></pre>\n\n<p>Now I can call <code>getId.div()</code> to get a new \"id\" value for a new <code>&lt;div&gt;</code>. The function was created by calling a function that provides <em>two</em> values stashed away in a closure: the prefix string (passed in as an argument) and the counter (a <code>var</code> declared in the closure scope).</p>\n\n<p>Once you get used to it, the facility is so flexible and useful that you'll feel pain at moving back to an environment without it.</p>\n\n<p>Oh, and here's a tip to help keep you off StackOverflow should you try this out: it's an issue that pops up all the time:</p>\n\n<pre><code>for (var i = 0; i &lt; 10; ++i) {\n  var id = \"foo\" + i;\n  var element = document.getElementById(id);\n  element.onclick = function() {\n    alert(\"hello from element \" + i);\n  };\n}\n</code></pre>\n\n<p>What's the problem here?  Well, that \"i\" variable that's referenced by that function is the \"i\" from the scope in which that loop runs.  That variable, you'll note, gets incremented through the loop (duhh, right?).  Well, every single one of those little functions created and assigned as event handlers will <em>share</em> that same, single variable \"i\" in the closure scope.  Oops!  The solution is to do something like this:</p>\n\n<pre><code>for (var i = 0; i &lt; 10; ++i) {\n  var id = \"foo\" + i;\n  var element = document.getElementById(id);\n  element.onclick = (function(iCopy) {\n    return function() {\n      alert(\"hello from element \" + iCopy);\n    };\n  })(i);\n}\n</code></pre>\n\n<p>We make a copy of the outer \"i\" into a closure scope of its own, so now each event handler has its own!</p>\n\n<p>To summarize: the technique of leveraging closures comes up <em>all the freaking time</em> once you get used to it.  It's not a free ticket into a new wonderland of error-free programming; don't get me wrong. It is, however, a very useful and flexible paradigm.</p>\n",
                    "is_accepted": false,
                    "score": 11
                }
            ],
            "body": "<p>I was listening to Crockford's talk on JavaScript closures and am convinced of the benefit of information hiding, but I do not have a firm understanding of when to use callback functions.</p>\n\n<p>It is mostly a true statement that a person could accomplish the same functionality with or without callbacks.</p>\n\n<p>As someone who is writing code, what heuristics or cues should I keep in mind when determining when to use callbacks/closures?</p>\n\n<p>I am not looking for the blanket statement 'Closures make more secure code', rather a list of practical examples or rules of thumb for when callbacks are the right idea.</p>\n\n<p>Crockford's Presentation:\n<a href=\"http://www.yuiblog.com/blog/2010/04/08/video-crockonjs-5/\" rel=\"nofollow\">http://www.yuiblog.com/blog/2010/04/08/video-crockonjs-5/</a></p>\n",
            "last_activity_date": 1424398260,
            "question_id": 2622421,
            "score": 14,
            "tags": [
                "javascript",
                "callback",
                "closures"
            ],
            "title": "What are the use cases for closures/callback functions in JavaScript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>From the jquery docs for POST :</p>\n\n<pre><code>$.post(\"test.php\", { 'choices[]': [\"Jon\", \"Susan\"] });\n</code></pre>\n\n<p>So I would just iterate over the checked boxes and build the array. Something like</p>\n\n<pre><code>var data = { 'user_ids[]' : []};\n$(\":checked\").each(function() {\n  data['user_ids[]'].push($(this).val());\n});\n$.post(\"ajax.php\", data);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 32
                },
                {
                    "body": "<p>If you're not set on rolling your own solution, check out this jQuery plugin:</p>\n\n<p>malsup.com/jquery/form/</p>\n\n<p>It will do that and more for you. It's highly recommended.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Could use the following and then explode the post result <code>explode(\",\", $_POST['data']);</code> to give an array of results.</p>\n\n<pre><code>var data = new Array();\n$(\"input[name='checkBoxesName']:checked\").each(function(i) {\n\tdata.push($(this).val());\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Just came across this trying to find a solution for the same problem.  Implementing Paul's solution I've made a few tweaks to make this function properly.</p>\n\n<pre><code>var data = { 'venue[]' : []};\n\n$(\"input:checked\").each(function() {\n   data['venue[]'].push($(this).val());\n});\n</code></pre>\n\n<p>In short the addition of input:checked as opposed to :checked limits the fields input into the array to just the checkboxes on the form.  Paul is indeed correct with <code>this</code> needing to be enclosed as <code>$(this)</code> </p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Here's a more flexible way.</p>\n\n<p>let's say this is your form.</p>\n\n<pre><code>&lt;form&gt;\n&lt;input type='checkbox' name='user_ids[]' value='1'id='checkbox_1' /&gt;\n&lt;input type='checkbox' name='user_ids[]' value='2'id='checkbox_2' /&gt;\n&lt;input type='checkbox' name='user_ids[]' value='3'id='checkbox_3' /&gt;\n&lt;input name=\"confirm\" type=\"button\" value=\"confirm\" onclick=\"submit_form();\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And this is your jquery ajax below...</p>\n\n<pre><code>                // Don't get confused at this portion right here\n                // cuz \"var data\" will get all the values that the form\n                // has submitted in the $_POST. It doesn't matter if you \n                // try to pass a text or password or select form element.\n                // Remember that the \"form\" is not a name attribute\n                // of the form, but the \"form element\" itself that submitted\n                // the current post method\n                var data = $(\"form\").serialize(); \n\n                $.ajax({\n                    url: \"link/of/your/ajax.php\", // link of your \"whatever\" php\n                    type: \"POST\",\n                    async: true,\n                    cache: false,\n                    data: data, // all data will be passed here\n                    success: function(data){ \n                        alert(data) // The data that is echoed from the ajax.php\n                    }\n                });\n</code></pre>\n\n<p>And in your ajax.php, you try echoing or print_r your post to see what's happening inside it. This should look like this. Only checkboxes that you checked will be returned. If you didn't checked any, it will return an error.</p>\n\n<pre><code>&lt;?php \n    print_r($_POST); // this will be echoed back to you upon success.\n    echo \"This one too, will be echoed back to you\";\n</code></pre>\n\n<p>Hope that is clear enough.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>How to pass multiple checkboxes using jQuery ajax post</p>\n\n<p>this is the ajax function</p>\n\n<pre><code> function submit_form(){\n $.post(\"ajax.php\", {\n selectedcheckboxes:user_ids,\n confirm:\"true\"\n },\n function(data){\n  $(\"#lightbox\").html(data);\n  });\n }\n</code></pre>\n\n<p>and this is my form</p>\n\n<pre><code>&lt;form&gt;\n&lt;input type='checkbox' name='user_ids[]' value='1'id='checkbox_1' /&gt;\n&lt;input type='checkbox' name='user_ids[]' value='2'id='checkbox_2' /&gt;\n&lt;input type='checkbox' name='user_ids[]' value='3'id='checkbox_3' /&gt;\n&lt;input name=\"confirm\" type=\"button\" value=\"confirm\" onclick=\"submit_form();\" /&gt;\n&lt;/form&gt;\n</code></pre>\n",
            "last_activity_date": 1375030026,
            "question_id": 908708,
            "score": 14,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "ajax"
            ],
            "title": "How to pass multiple checkboxes using jQuery ajax post"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>EDIT:  I misunderstood your question initially, this should work:</p>\n\n<p>Also note, this needs to go BEFORE any javascript that might cause errors.</p>\n\n<pre><code>window.onerror = function(msg,u,l)\n{\n    txt =\"Error: \" + msg + \"\\n\";\n    txt+=\"URL: \" + u + \"\\n\";\n    txt+=\"Line: \" + l + \"\\n\\n\";\n    //Insert AJAX call that passes data (txt) to server-side script\n    return true;\n};\n</code></pre>\n\n<p>As for syntax errors, you're out of luck.  Javascript simply dies when there's a syntax error.  There's no way to handle it at all.</p>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>I'm not sure about syntax errors but it is possible to catch js errors using window.onerror event. Searching for \"logging errors in javascript\" in google gives you a lot of results...</p>\n\n<p>Logging JavaScript Errors To ASP.NET:\n<a href=\"http://james.newtonking.com/archive/2006/05/02/Logging-JavaScript-Errors-To-ASP.NET.aspx\" rel=\"nofollow\">http://james.newtonking.com/archive/2006/05/02/Logging-JavaScript-Errors-To-ASP.NET.aspx</a>\n(Unfortunately the link to download in the post is broken).</p>\n\n<p>Logging Client Side JavaScript Errors to the Server: \n<a href=\"http://www.codeproject.com/KB/ajax/logclientsidejserrors2srv.aspx\" rel=\"nofollow\">http://www.codeproject.com/KB/ajax/logclientsidejserrors2srv.aspx</a></p>\n\n<p>JavaScript Error Notifications: \n<a href=\"http://www.thecodepage.com/post/JavaScript-Error-Notifications.aspx\" rel=\"nofollow\">http://www.thecodepage.com/post/JavaScript-Error-Notifications.aspx</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>window.onerror = MyFunction(msg,url,line);</p>\n\n<p>we pop up a window with the error details, browser type (i.e. navigator.userAgent), etc. all in  fields marked READONLY and inviting the user to Submit them.</p>\n\n<p>We have a checkbox \"Don't show this again\" which is stored in a session cookie - so if they keep getting errors than can disable the Popup.</p>\n\n<p>Despite the fact that we thought this was \"well cool\", we get very few reports - and I'm not convinced that that is because we get close to zero runtime errors!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>One technique is to use Ajax for <a href=\"http://blog.inspired.no/javascript-error-logging-with-ajax-154\">Javascript error logging</a> </p>\n\n<p><em>Every javascript error can be trapped in the window.onerror event. We can return true or false so we can choose if the user shall see the normal javascript error dialog.\nThis script will, in the very unlikely event of a javascript error, gather information about the error and send a httprequest to a page which will log the javascript error to the database.</em></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Probably best to send only one error report per page. If you get an error on a repeating timer, or the AJAX itself recursively calls an error, you can end up filling your log with useless junk.</p>\n\n<p>Also, be prepared to receive unsolvable errors caused by things like:</p>\n\n<ul>\n<li>security proxies diddling with your code</li>\n<li>scripts from blocked sites</li>\n<li>unimportant browser chrome errors from extensions</li>\n<li>IE Mobile, the worst browser in the world</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The easiest way for me was installing this app from SiteApps Marketplace:</p>\n\n<p><a href=\"http://siteapps.com/app/log_javascript_errors_with_ga-181\" rel=\"nofollow\">http://siteapps.com/app/log_javascript_errors_with_ga-181</a></p>\n\n<p>Once you've installed the platform tag, you can install a lot of apps and the one above is very useful for me. I use it in 14 websites that I developed and I could track javascript errors in Google Analytics.</p>\n\n<p>Hope this can help.</p>\n\n<p>Leandro</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a way to get an automatic feedback if an error (even syntax errors) occurs when running a JavaScript on the client side?</p>\n\n<p>I was thinking of something like this:</p>\n\n<pre><code>&lt;script src=\"debugger.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    // some script with an error in it\n&lt;/script&gt;\n</code></pre>\n\n<p>And every time the debugger notices an error it sends a feedback to the server.</p>\n",
            "last_activity_date": 1406098708,
            "question_id": 546990,
            "score": 14,
            "tags": [
                "javascript",
                "debugging",
                "feedback"
            ],
            "title": "Automatic feedback on JavaScript error"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You could try <a href=\"http://phantomjs.org/\" rel=\"nofollow\">PhantomJS</a>. Here's the <a href=\"http://code.google.com/p/phantomjs/wiki/QuickStart#DOM_Manipulation\" rel=\"nofollow\">documentation</a> for using it for screen scraping.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I have done this a lot. You'll want to use <a href=\"http://phantomjs.org/\">PhantomJS</a> if the website that you're scraping is heavily using JavaScript. Note that PhantomJS is not Node.js. It's a completely different JavaScript runtime. You can integrate through <a href=\"https://github.com/sgentle/phantomjs-node\">phantomjs-node</a> or <a href=\"https://github.com/alexscheelmeyer/node-phantom\">node-phantom</a>, but they are both kinda hacky. YMMV with those. Avoid anything to do with jsdom. It'll cause you headaches - this includes <a href=\"http://zombie.labnotes.org/\">Zombie.js</a>.</p>\n\n<p>What you should use is <a href=\"https://github.com/MatthewMueller/cheerio\">Cheerio</a> in conjunction with <a href=\"https://github.com/mikeal/request\">Request</a>. This will be sufficient for most web pages. </p>\n\n<p>I wrote a blog post on using Cheerio with Request: <a href=\"http://procbits.com/2012/04/11/quick-and-dirty-screen-scraping-with-node-js-using-request-and-cheerio/\">Quick and Dirty Screen Scraping with Node.js</a> But, again, if it's JavaScript intensive, use PhantomJS in conjunction with <a href=\"http://casperjs.org/\">CasperJS</a>. </p>\n\n<p>Hope this helps.</p>\n\n<p>Snippet using Request and Cheerio:</p>\n\n<pre><code>var request = require('request')\n  , cheerio = require('cheerio');\n\nvar searchTerm = 'screen+scraping';\nvar url = 'http://www.bing.com/search?q=' + searchTerm;\n\nrequest(url, function(err, resp, body){\n  $ = cheerio.load(body);\n  links = $('.sb_tlst h3 a'); //use your CSS selector here\n  $(links).each(function(i, link){\n    console.log($(link).text() + ':\\n  ' + $(link).attr('href'));\n  });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 28
                },
                {
                    "body": "<p>If you want to go for phantom, use node-phantom. I have a git hub repository using them together to generate pdf files from html if you want to have a look.\nBut i wouldn't go for phantom because it does more than what you usually want and cheerio is faster.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I need to parse a simple web page and get data from html, such as \"src\", \"data-attr\", etc. How can I do this most efficiently using Node.js? If it helps, I'm using Node.js 0.8.x.</p>\n\n<p>P.S. This is the <a href=\"http://tunes.io/\" rel=\"nofollow\">site</a> I'm parsing. I want to get a list of current tracks and make my own html5 app for listen on mobile devices.</p>\n",
            "last_activity_date": 1407559409,
            "question_id": 12403833,
            "score": 11,
            "tags": [
                "javascript",
                "node.js"
            ],
            "title": "How to most efficiently parse a web page using Node.js"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>See this from prototype manual <a href=\"http://prototypejs.org/doc/latest/language/Function/prototype/wrap/\">http://prototypejs.org/doc/latest/language/Function/prototype/wrap/</a> you can wrap whatever object method and even call \"parent\" if needed and here's a pseudo sample:</p>\n\n<pre><code>//where Product.Config is the object/class you need to \"override\"\nProduct.Config.prototype.getOptionLabel  = Product.Config.prototype.getOptionLabel.wrap(function(parentMethod){\n    //replace the original method here with your own stuff\n    //or call parentMethod(); if conditions don't match\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>Just to add to @anton-s's absolutely correct answer, you can also do \"full\" class rewrites:\n</p>\n\n<pre><code>// Create the original class\nvar ClassA = Class.create();\nClassA.prototype = {\n    initialize: function(config) {\n        this.config = config;\n    },\n    test: function(msg) {\n        console.log('Hi from class A with message ' + msg);\n    }\n};\n\n// Create new class extending the original class\nvar ClassB = Class.create(ClassA, {\n    // $super is a reference to the original method\n    test: function($super, msg) {\n        console.log('Hi from class B');\n        console.log('this.config is accessible in class B: ' + this.config);\n        $super(msg + ' ...')\n    }\n});\n\n\n// To make the extend an override, you can do this:\nClassA = ClassB;\n// ClassA now is ClassB overriding the original ClassA\nvar a = new ClassA('some config data');\na.test('Call A 1');\n</code></pre>\n\n<p>Since all this only works on prototype classes, not on already instantiated objects, I'll also throw in this hack, which is pretty much what wrap() does, too:\n</p>\n\n<pre><code>// Overriding a method of an already instantiated object\n// There are many ways to do this more elegantly thanks to the amazing JS scoping magic\na.origTest = a.test;\na.test = function(msg) {\n    console.log('Hi from the patched method');\n    this.origTest(msg);\n}\na.test('Call A 2');\n</code></pre>\n\n<p>Keep in mind though that the <code>wrap()</code> method is nicer, and can also be used on on class definitions or on concrete instances.</p>\n\n<pre><code>// Wrap method of concrete instance\nspConfig.getOptionLabel = spConfig.getOptionLabel.wrap(function(parentMethod, option, price) {\n    return parentMethod(option, price);\n});\n\n// Wrap method of class declaration\nProduct.Config.prototype.getOptionLabel = Product.Config.prototype.getOptionLabel.wrap(function(parentMethod, option, price) {\n    return parentMethod(option, price);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                }
            ],
            "body": "<p>Last days as a result of some customer complains and discussion with our marketing guys I've got a request to change the default behavior of the configurable products options. They asked me to remove the + $xx.xx from the options drop-down as it is confusing the customers/visitors and just leave the available options without displaying the price change. Fair enough from their point of view, but it is a bit tricky from developers point of view I think. The site is running Magento CE 1.6.2, and the file which we need to override/change is /public_html/js/varien/configurable.js. We need to change the getOptionLabel function in it so that it does not display the price change.\nSo my question is: what is the right Magento way to change this file and not touch the core javascript file?\nThanks in advance.</p>\n",
            "last_activity_date": 1382364154,
            "question_id": 11941257,
            "score": 11,
            "tags": [
                "javascript",
                "magento",
                "magento-1.6"
            ],
            "title": "Overriding/Extending the Magento core javascript files"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>There are \"simple\" demo publish and playback examples for Flash in our source tree. When I say simple I mean dead-simple, have you looked into these?\n<br />\nBroadcast / publish - <a href=\"http://red5.googlecode.com/svn/flash/trunk/simpleBroadcaster.fla\" rel=\"nofollow\">http://red5.googlecode.com/svn/flash/trunk/simpleBroadcaster.fla</a>\n<br />\nPlayback - <a href=\"http://red5.googlecode.com/svn/flash/trunk/simpleSubscriber.fla\" rel=\"nofollow\">http://red5.googlecode.com/svn/flash/trunk/simpleSubscriber.fla</a>\n<br />\nFlash examples: <a href=\"http://red5.googlecode.com/svn/flash/trunk/\" rel=\"nofollow\">http://red5.googlecode.com/svn/flash/trunk/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I ended up going with Red 5 server and red5recorder. It was tricky to get everything working properly, but here's an overview of what I did:</p>\n\n<ol>\n<li>Check out red5 version 0.9.1 (I couldn't get the latest version working with red5recorder). ant prepare; ant clean dist.</li>\n<li>Download the latest source for red5recorder.</li>\n<li>Install Eclipse Ganymede Sr2 (3.4.2) Enterprise Edition (the latest version that works with both the red5 plugin and the flash builder plugin).</li>\n<li>Install the red5 plugin according to <a href=\"http://wiki.red5.org/wiki/Red5Plugin\">http://wiki.red5.org/wiki/Red5Plugin</a></li>\n<li>Install the Adobe Flash Builder 4 plugin into eclipse-install-dir/flash-builder and built it against the eclipse in eclipse-install-dir</li>\n<li><p>Create a New Dynamic Web Project. I named it Red5Server. Select a New Target Runtime -> Infared | Red5 Server. Target the <em>dist</em> directory in the red5 checkout. so for me:</p>\n\n<ul>\n<li>auto deploy dir: /Users/julia/code/red5-0.9.1.svn/dist/webapps/</li>\n<li>start script: /Users/julia/code/red5-0.9.1.svn/dist/red5-debug.sh</li>\n<li>stop script: /Users/julia/code/red5-0.9.1.svn/dist/red5-shutdown.sh</li>\n</ul></li>\n<li><p>Import Flash Builder Project - red5recorder</p></li>\n<li>Right click Red5Server | Run as.. | Run on Server. It should start up the server and show Directory listing for localhost:5080/Red5Server</li>\n<li>In red5recorder's Recorder class, change server to be rtmp://127.0.0.1/Red5Server/</li>\n<li>Right click on red5recorder.mxml and run it as an application. It should pop up a browser and the recorder should successfully connect to your webcam.</li>\n</ol>\n\n<p>Now, red5recorder is really broken out of the box. It required quite a bit of tweaking to get it to do what it says it will, and once I was more comfortable, I ended up refactoring it altogether to do what I wanted. </p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>I'm currently evaluating and reading the <a href=\"https://github.com/arut/nginx-rtmp-module\" rel=\"nofollow\">rtmp-nginx-module</a>. It <em>looks</em> more stable and very well documented than the other peers I've tried:</p>\n\n<ul>\n<li><strong>RTMPLite:</strong> Works well with VideoIO.swf however it's not easily extensible.</li>\n<li><strong>Red5:</strong> Good luck getting it working correctly! </li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm looking for a flash script/library to capture video and audio from a webcam and then somehow get a saved flv to my encoding server. I'm not looking for something that will host the videos for me. I just need something simple to capture and then upload. I really want this to be open source and free.</p>\n\n<p>I've done a fair amount of searching and it seems that most of what i can find is either a full blown service with hosting, or the red 5 suite. I've been trying for a day to get something going on with Red5, but honestly I haven't done any flash or java development in over 6 years and this seems way too complicated when all i really want is a flash object i can stick on a webpage.</p>\n\n<p>I've search google and github and am really surprised by the lack of simple options. Am I missing something obvious? Thanks. </p>\n",
            "last_activity_date": 1387122951,
            "question_id": 5128899,
            "score": 11,
            "tags": [
                "javascript",
                "flash",
                "webcam",
                "video-capture",
                "red5"
            ],
            "title": "Simple alternatives to Red5 recorder and server for webcam video capture?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Since no one made any answer, I will go ahead with my suggestion then.</p>\n\n<p>I think the best fit for your big database is using <code>remote</code> with <code>typeahead.js</code>. Quick example:</p>\n\n<pre><code>$('#user-search').typeahead({\n    name: 'user-search',\n    remote: '/search.php?query=%QUERY' // you can change anything but %QUERY\n});\n</code></pre>\n\n<p>What it does is when you type characters in the <code>input#user-search</code> it will send AJAX request to the page <code>search.php</code> with query as the content of the input.</p>\n\n<p>On <code>search.php</code> you can catch this query and look it up in your DB:</p>\n\n<pre><code>$query = $_GET['query'].'%'; // add % for LIKE query later\n\n// do query\n$stmt = $dbh-&gt;prepare('SELECT username FROM users WHERE username LIKE = :query');\n$stmt-&gt;bindParam(':query', $query, PDO::PARAM_STR);\n$stmt-&gt;execute();\n\n// populate results\n$results = array();\nforeach ($stmt-&gt;fetchAll(PDO::FETCH_COLUMN) as $row) {\n    $results[] = $row;\n}\n\n// and return to typeahead\nreturn json_encode($results);\n</code></pre>\n\n<p>Of course since your DB is quite big, you should optimize your SQL query to query faster, maybe cache the result, etc.</p>\n\n<p>On the typeahead side, to reduce load to query DB, you can specify <code>minLength</code> or <code>limit</code>:</p>\n\n<pre><code>$('#user-search').typeahead({\n    name: 'user-search',\n    remote: '/search.php?query=%QUERY',\n    minLength: 3, // send AJAX request only after user type in at least 3 characters\n    limit: 10 // limit to show only 10 results\n});\n</code></pre>\n\n<p>So it doesn't really matter how big your DB is, this approach should work nicely.</p>\n\n<p>This is an example in PHP but of course it should be the same for whatever backend you have. Hope you get the basic idea.</p>\n",
                    "is_accepted": false,
                    "score": 24
                }
            ],
            "body": "<p>I have a large database of 10,000 addresses and 5,000 people.</p>\n\n<p>I want to let users search the database for either an address or a user. I'd like to use Twitter's typeahead to suggest results as they enter text.</p>\n\n<p>See the NBA example here: <a href=\"http://twitter.github.io/typeahead.js/examples\">http://twitter.github.io/typeahead.js/examples</a>.</p>\n\n<p>I understand that prefetching 15,000 items would not be optimal from a speed and load standpoint. What would be a better way to try and achieve this?</p>\n",
            "last_activity_date": 1375868957,
            "question_id": 18084408,
            "score": 9,
            "tags": [
                "javascript",
                "ajax",
                "database",
                "typeahead.js"
            ],
            "title": "How to use typeahead.js with a large database"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I guess since this is highly specialized thing, there is no need to talk about usability :-)</p>\n\n<p>The only thing I am aware of is to implement your own event capture - based on keypress, mousedown etc. - it should be easy to get the current position of page (kind of virtual - because you will have everything loaded and just change the custom \"viewport\").</p>\n\n<p>I highly recommend checking great QuirksMode tutorials and docs:</p>\n\n<ul>\n<li><p>Keypress events: <a href=\"http://www.quirksmode.org/js/keys.html\" rel=\"nofollow\">http://www.quirksmode.org/js/keys.html</a></p></li>\n<li><p>Mouse events: <a href=\"http://www.quirksmode.org/js/events_mouse.html\" rel=\"nofollow\">http://www.quirksmode.org/js/events_mouse.html</a></p></li>\n</ul>\n\n<p>I am not sure about scrolling wheel, though - I haven't heard about technique to emulate that, but surely you would be able to find or code something.</p>\n\n<p>EDIT: I have found some low-level JS implementation of scroll wheel (click wheel):\n<a href=\"http://www.switchonthecode.com/tutorials/javascript-tutorial-the-scroll-wheel\" rel=\"nofollow\">http://www.switchonthecode.com/tutorials/javascript-tutorial-the-scroll-wheel</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here is a potential solution using javascript and css. The idea is not to remove the scrollbar but to simply hide it instead and let it keep doing it's work.</p>\n\n<p><strong>Concept:</strong></p>\n\n<p>Here the scrollbar of the actual content is shoved outside the wrapper. This prevents it from being seen (wrapper has <code>overflow:hidden;</code>) but does not prevent it from working.</p>\n\n<pre>\n|---------WRAPPER-----------|\n||--------CONTENT-----------|---|\n||                          |[^]|\n||                          |[0]|\n||                          |[0]|\n||                          |[ ]|\n||                          |[ ]|\n||                          |[v]|\n||--------------------------|---|\n|---------------------------|\n</pre>\n\n<p><strong>Implementation:</strong></p>\n\n<p>The markup:</p>\n\n<pre><code>&lt;div class=\"wrapper\"&gt;\n  &lt;div class=\"content\"&gt;\n    &lt;p&gt;1Hello World&lt;/p&gt;\n    &lt;p&gt;2Hello World&lt;/p&gt;\n    ...\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And the script (I've used jquery, but it could easily be rewritten in pure javascript.):</p>\n\n<pre><code>$(function() {\n  // initialize: both need to have the same height and width (width default: 100%)\n  // these could go on your stylesheet of course.\n  $(\"div.wrapper\").css({ height: \"200px\", overflow: \"hidden\" });\n  $(\"div.content\").css({ height: \"200px\", overflow: \"auto\" }); \n\n  // now extend the content width beyond the wrapper\n  $(\"div.content\").width($(\"div.content\").width() + 22); // 22px is the width of IE scrollbars\n\n  // prevent highlight dragging from scrolling the wrapper div (thereby displaying the bars)\n  $(\"div.wrapper\").scroll(function() {\n    this.scrollLeft = 0;\n    this.scrollTop = 0;\n  });\n\n  $(\"div.content\").scroll(function() {\n    // update custom scrollbar display using this.scrollTop as a percentage of this.clientHeight\n    // alert(\"Place slider at \" + ((100 * this.scrollTop) / this.clientHeight) + \"%!\");\n  });\n});\n</code></pre>\n\n<p><a href=\"http://jsbin.com/atore\">And here it is working</a> (though I don't have a custom scrollbar display).</p>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>I am creating a highly specialized application where I want to experiment with a custom scroll bar.</p>\n\n<p>Ideally, I'd disable the built-in scroll-bar and draw my own. The page would look and feel like any other page, just that the scroll bar wouldn't be visible. The arrow keys, the scroll wheel, and any other mean of scrolling the page, should work as excepted on the platform my webapp runs on.</p>\n\n<p>One way would be to put the content in a wrapper div that is absolutely positioned, with <code>top: 0; bottom: 0; width: 100%; overflow: hidden;</code> With this approach, I would have to re-implement scrolling myself, by listening to keyboard and scroll wheel events. This is hardly ideal, especially page up and page down behavior would be hard to replicate. How many pixels should I scroll on a page down? The number varies from platform to platform. I believe magic mouse \"accelerating\" scrolls would be hard to replicate as well.</p>\n\n<p>What are my options in implementing this custom scroll bar visualization?</p>\n\n<p><strong>Note:</strong> I am aware of the research that has been done regarding custom scroll bars and usability. You need not point this out, I am painfully aware of this :) I'm not talking about just re-coloring the scroll bar. Think of it more in terms of a movie editor or a music sequencer. It's very custom and specialized stuff.</p>\n\n<p><strong>Update:</strong> <a href=\"http://augustl.com/blog/2010/custom_scroll_bar_native_behaviour\">http://augustl.com/blog/2010/custom_scroll_bar_native_behaviour</a></p>\n",
            "last_activity_date": 1288194634,
            "question_id": 2254585,
            "score": 8,
            "tags": [
                "javascript",
                "html",
                "browser",
                "layout",
                "cross-browser"
            ],
            "title": "Custom scroll bar visualization with HTML/CSS/JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If you want to extract information from the Graph with JavaScript, you will have to use the <a href=\"http://developers.facebook.com/docs/reference/javascript/\" rel=\"nofollow\">JS SDK</a> and <a href=\"http://developers.facebook.com/docs/reference/javascript/FB.api/\" rel=\"nofollow\">FB.api</a> method to make the calls.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>UPDATE</strong>: As per the <a href=\"https://developers.facebook.com/docs/apps/changelog#v2_0_graph_api\" rel=\"nofollow\">changes introduced in V2.0</a>, <code>/me/friends</code> will return <strong>app friends</strong> only.</p>\n\n<hr>\n\n<p>The right way to do that is by using the <a href=\"http://developers.facebook.com/docs/reference/javascript/FB.api/\" rel=\"nofollow\">Facebook Javascript-SDK</a>, something like this:  </p>\n\n<pre><code>function getFriends() {\n    FB.api('/me/friends', function(response) {\n        if(response.data) {\n            $.each(response.data,function(index,friend) {\n                alert(friend.name + ' has id:' + friend.id);\n            });\n        } else {\n            alert(\"Error!\");\n        }\n    });\n}\n</code></pre>\n\n<p>Please note that:  </p>\n\n<ol>\n<li>I'm using jQuery here too</li>\n<li>You may need to check if the user is connected before calling this function.</li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>It's working for me :</p>\n\n<pre><code>&lt;!DOCTYPE html&gt; &lt;html lang=\"en\"&gt; &lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;title&gt;JSON Sample&lt;/title&gt; &lt;/head&gt; &lt;body&gt;\n    &lt;div id=\"placeholder\"&gt;&lt;/div&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-1.7.1.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;   $.getJSON('https://graph.facebook.com/eris.risyana/friends?limit=100&amp;access_token=[your_access_token]', function(mydata) {\n        var output=\"&lt;ul&gt;\";\n        for (var i in mydata.data) {\n            output+=\"&lt;li&gt;NAMA : \" + mydata.data[i].name + \"&lt;br/&gt;ID : \" + mydata.data[i].id + \"&lt;/li&gt;\";\n        }\n\n        output+=\"&lt;/ul&gt;\";\n        document.getElementById(\"placeholder\").innerHTML=output;   });\n    &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;\n</code></pre>\n\n<p><strong>Result :</strong></p>\n\n<pre><code>NAMA : Priscillia Anna Yuliana\nID : 534513444\nNAMA : Priyatna Mii\nID : 534619517\nNAMA : Icha Sasmita\nID : 544737437\nNAMA : CW Trianggono\nID : 599225957\nNAMA : Krshna Sulanjana\nID : 605633569\nNAMA : Aris Pujiarti\nID : 635209234\nNAMA : Armand Muljadi\nID : 663419616\nNAMA : Nurdin Somantri\nID : 675697956\nNAMA : Muhammad Zamzam Fauzanafi\nID : 686838979\nNAMA : Jerome Coutelier\nID : 690661663\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I need to get a hold of a user of my app's list of friends to filter the users that show up in a friend picker. I know I can call the following and get the list:</p>\n\n<pre><code>https://graph.facebook.com/me/friends?access_token=&lt;access_token&gt;\n</code></pre>\n\n<p>I tried it out in the address bar with my own account and it seems to work exactly as I need it to. Problem is, I don't know how to make use of it in a js file itself. I tried calling it and getting the data out with a jquery call but it doesn't seem to return anything helpful.</p>\n\n<pre><code>$.get(\"https://graph.facebook.com/me/friends\",\n    {access_token: &lt;access_token&gt;},\n    function(data){ document.write(\"Data Loaded: \" + data);});\n</code></pre>\n\n<p>How should I be calling this in my js files and then actually make use of the information? Thanks.</p>\n",
            "last_activity_date": 1425918900,
            "question_id": 5317833,
            "score": 7,
            "tags": [
                "javascript",
                "facebook",
                "facebook-graph-api"
            ],
            "title": "Using the Facebook Graph API to get a list of a user&#39;s friends"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Well to make an isometric game its not so much as skewing the whole canvas, its more about the graphics you use. For example the tiles are generally h=w/2. So in a normal game you'd have a tile thats 32x32 in an isometric game you'd make it 32x16. Also the placement of tiles is a bit different to compensate for the angle.</p>\n\n<p>Short answer yes isometric games are fully possible using canvas. Look at <a href=\"http://freeciv.wikia.com/wiki/Main_Page\" rel=\"nofollow\">Freeciv</a> for an example of one.</p>\n\n<p>Another good place to ask on the specifics of isometric game creation would be <a href=\"http://gamedev.stackexchange.com/\">http://gamedev.stackexchange.com/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can draw whatever you want on the canvas down to the individual pixel, so any question like \"is it possible\" will have a \"yes\" answer.</p>\n\n<p>If you mean if a 3d pipeline is already built-in in the canvas the answer is no, canvas context is 2d so commands are 2d. You can set up a matrix that will make your square-drawing commands looking like an isometric view, but you won't be able to draw anything above or below that plane.</p>\n\n<p>You can of course do 3d rendering (either isometric or perspective) in a canvas using standard 3d->2d mappings techniques. See for example <a href=\"http://raksy.dyndns.org/torus.html\" rel=\"nofollow\">this 4k demo</a> that is using only canvas/javascript (<a href=\"http://www.youtube.com/watch?v=XHT23NnW-EY\" rel=\"nofollow\">here is a youtube video</a> of the same if your browser doesn't support HTML5).</p>\n\n<p>For an isometric view the matrix setting part is simpler... for example</p>\n\n<pre><code>var cs = Math.cos(angle1), sn = Math.sin(angle1);\nvar h = Math.cos(angle2);\nvar a = 100*cs, b = -100*sn, c = 200;\nvar d = h*100*sn, e = h*100*cs, f = 200;\nctx.setTransform(a, d, b, e, c, f);\n</code></pre>\n\n<p>where <code>ctx</code> is a canvas context will set up a matrix that:</p>\n\n<ul>\n<li>has an XY rotation angle of <code>angle1</code></li>\n<li>has a view tilt angle of <code>angle2</code></li>\n<li>maps a length of 1 to 100 pixels</li>\n<li>maps (0, 0) to 200, 200</li>\n</ul>\n\n<p>You can see a small example of these formulas in action <a href=\"http://raksy.dyndns.org/iso.html\" rel=\"nofollow\">on this example page</a>.</p>\n",
                    "is_accepted": true,
                    "score": 23
                }
            ],
            "body": "<p>It is possible to do an isometric perspective with HTML5 <code>&lt;canvas&gt;</code>? It is with <code>setTransform</code>? Or does it exist another way?</p>\n\n<p>Example:</p>\n\n<pre><code>ctxt.setTransform (1, -0.2, 0, 1, 0, 0);\n</code></pre>\n\n<p>Something like the perspective of Farmville.</p>\n\n<p>Thanks a lot.</p>\n",
            "last_activity_date": 1413106708,
            "question_id": 5186013,
            "score": 7,
            "tags": [
                "javascript",
                "html5",
                "canvas",
                "perspective"
            ],
            "title": "Can you do an isometric perspective with HTML5 &lt;canvas&gt;?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>You can access hidden fields' values with <code>val()</code>, just like you can do on any other input element:</p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"foo\" name=\"zyx\" value=\"bar\" /&gt;\n\nalert($('input#foo').val());\nalert($('input[name=zyx]').val());\nalert($('input[type=hidden]').val());\nalert($(':hidden#foo').val());\nalert($('input:hidden[name=zyx]').val());\n</code></pre>\n\n<p>Those all mean the same thing in this example.</p>\n",
                    "is_accepted": true,
                    "score": 112
                },
                {
                    "body": "<p>There is nothing special about <code>&lt;input type=\"hidden\"&gt;</code>:</p>\n\n<pre><code>$('input[type=\"hidden\"]').val()\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There's a jQuery selector for that:</p>\n\n<pre><code>// Get all form fields that are hidden\nvar hidden_fields = $( this ).find( 'input:hidden' );\n\n// Filter those which have a specific type\nhidden_fields.attr( 'text' );\n</code></pre>\n\n<p>Will give you all hidden input fields and filter by those with a specific <code>type=\"\"</code>.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>If you want to select an individual hidden field, you can select it through the different selectors of jQuery :</p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"hiddenField\" name=\"hiddenField\" class=\"hiddenField\"/&gt; \n\n\n$(\"#hiddenField\").val(); //by id\n$(\"[name='hiddenField']\").val(); // by name\n$(\".hiddenField\").val(); // by class\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>To get value, use:</strong></p>\n\n<pre><code>$.each($('input'),function(i,val){\n    if($(this).attr(\"type\")==\"hidden\"){\n        var valueOfHidFiled=$(this).val();\n        alert(valueOfHidFiled);\n    }\n});\n</code></pre>\n\n<p><strong>or:</strong></p>\n\n<pre><code>var valueOfHidFiled=$('input[type=hidden]').val();\nalert(valueOfHidFiled);\n</code></pre>\n\n<p><strong>To set value, use:</strong> </p>\n\n<pre><code>$('input[type=hidden]').attr('value',newValue);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The most efficient way is by ID. </p>\n\n<pre><code>$(\"#foo\").val(); //by id\n</code></pre>\n\n<p>You can read more here:</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Writing_efficient_CSS\">https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Writing_efficient_CSS</a></p>\n\n<p><a href=\"https://developers.google.com/speed/docs/best-practices/rendering?hl=it#UseEfficientCSSSelectors\">https://developers.google.com/speed/docs/best-practices/rendering?hl=it#UseEfficientCSSSelectors</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>If you have an asp.net HiddenField you need to:</p>\n\n<p>To access HiddenField Value -> $('#&lt;%=HF.ClientID%>').val()  // HF = your hiddenfield ID</p>\n\n<p>To set HiddenFieldValue -> $('#&lt;%=HF.ClientID%>').val('some value')   // HF = your hiddenfield ID</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can I access <code>&lt;input type=\"hidden\"&gt;</code> tag's <code>value</code> attribute using jQuery?</p>\n",
            "last_activity_date": 1421339909,
            "question_id": 4376664,
            "score": 54,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "jQuery access input hidden value"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>In fact it is written in the comment right above:</p>\n\n<blockquote>\n  <p>// NaN means non-codepoint</p>\n</blockquote>\n\n<p>So it is mandatory to perform this comparison first to handle the <code>NaN</code> case as in JavaScript:</p>\n\n<p><code>NaN === NaN</code> returns <code>false</code>.</p>\n\n<p>As pointed out by <a href=\"http://stackoverflow.com/users/144491/james-wiseman\">James Wiseman</a> it is also important to know why the developer used <code>high !== high</code> instead of <code>isNaN(high)</code> which would have been clearer.</p>\n\n<p>It is certainly based on performance. This <a href=\"http://jsperf.com/isnanfunc-vs-isnan/3\">test</a> shows that <code>a !== a</code> is <strong>twenty times faster</strong> than <code>isNaN(a)</code>.</p>\n\n<p><a href=\"http://stackoverflow.com/users/497418/zzzzbov\">zzzzBov</a> also indicates that <code>isNaN()</code> could be overwritten, using <code>!==</code> is also more portable.</p>\n\n<p>More info from <a href=\"http://stackoverflow.com/users/1348195/benjamin-gruenbaum\">Benjamin Gruenbaum</a>:</p>\n\n<blockquote>\n  <p>It is also worth noting that NaN does not equal to anything else as\n  well, and also it is not equal to anything else in an unstrict sense</p>\n</blockquote>\n\n<p>And from <a href=\"http://stackoverflow.com/users/499214/jan-dvorak\">Jan Dvorak</a>:</p>\n\n<blockquote>\n  <p>Also note <code>{valueOf:function(){return{}}}</code> does equal itself</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 57
                },
                {
                    "body": "<p>The condition <code>high !== high</code> returns true, when high is <code>NaN</code>.I wonder why the jQuery guys did not used the much clear <code>isNaN(high)</code> function instead, but that was probably due to performance reasons as koopajah pointed out.</p>\n\n<p><code>NaN</code> (<code>N</code>ot-<code>a</code>-<code>N</code>umber) means a result that cannot be represented as a <code>Number</code>. It is an undeterminated number.</p>\n\n<hr>\n\n<p><strong>Why NaN === NaN returns false ?</strong></p>\n\n<p>Consider</p>\n\n<pre><code>0/0          = NaN\nMath.asin(2) = NaN\n</code></pre>\n\n<p>You know that <code>0/0</code> is different than <code>Math.asin(2)</code>, so why whould <code>NaN</code> be equal to <code>NaN</code>?</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>I'm piggy-backing on some of the comments here, but think this worthy information.</p>\n\n<p>Some comments on the original question have suggested that this method of checking for NaN is actually much faster than <code>isNaN()</code></p>\n\n<p>When taken in conjunction with the following alternative to <code>parseInt</code> <code>parseFloat</code> we have a very fast way of converting to a number and checking its numeric state.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/2665984/is-minus-zero-some-sort-of-javascript-performance-trick\">Is Minus Zero some sort of JavaScript performance trick?</a></p>\n\n<p>So instead of </p>\n\n<pre><code>function Translated(val) {\n    var x = parseFloat(val);\n    if (!isNaN(x)) {\n        alert(\"Not a number\");\n    }\n}\n</code></pre>\n\n<p>We can have</p>\n\n<pre><code>function WTF(val) {\n    var x = val - 0;\n    if (x !== x) {\n        alert(\"Not a number\");\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>Recently I found one weird line in the jQuery sources (last version 1.9.1, Sizzle package, line 129 <code>funescape</code> function):</p>\n\n<pre><code>funescape = function( _, escaped ) {\n    var high = \"0x\" + escaped - 0x10000;\n    // NaN means non-codepoint\n    return high !== high ?            // &lt;--- LINE 129\n        escaped :\n        // BMP codepoint\n        high &lt; 0 ?\n            String.fromCharCode( high + 0x10000 ) :\n            // Supplemental Plane codepoint (surrogate pair)\n            String.fromCharCode( high &gt;&gt; 10 | 0xD800, high &amp; 0x3FF | 0xDC00 );\n};\n</code></pre>\n\n<p>What is the reason to make <code>high !== high</code> comparison? It obviously looks like <code>return escaped</code> will never be executed. Or do I miss something?</p>\n\n<p><strong>Reference:</strong> <a href=\"https://github.com/jquery/sizzle/blob/master/sizzle.js#L129\">https://github.com/jquery/sizzle/blob/master/sizzle.js#L129</a></p>\n",
            "last_activity_date": 1360877648,
            "question_id": 14772076,
            "score": 48,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Strange code in jQuery sources: var !== var ? x : y;"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>I ran into the same problem...seems in later versions, it has to be <code>.data(\"ui-autocomplete\")</code> instead of <code>.data(\"autocomplete\")</code></p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>Since I just joined and can't comment on <em>drcforbin</em>'s post above, I guess I have to add my own answer.</p>\n\n<p><em>drcforbin</em> is correct, although it is really a different problem than the one that the OP had.  Anyone coming to this thread now is probably facing this issue due to the new version of jQuery UI just released.  Certain naming conventions relating to autocomplete were deprecated in jQuery UI in v1.9 and have been completely removed in v1.10 (see <a href=\"http://jqueryui.com/upgrade-guide/1.10/#autocomplete\">http://jqueryui.com/upgrade-guide/1.10/#autocomplete</a>).</p>\n\n<p>What is confusing, however, is that they only mention the transition from the <strong>item.autocomplete</strong> data tag to <strong>ui-autocomplete-item</strong>, but the <strong>autocomplete</strong> data tag has also been renamed to <strong>ui-autocomplete</strong>.  And it's even more confusing because the demos are still using the old syntax (and thus are broken).</p>\n\n<p>The following is what needs to change in the _renderItem function for jQuery UI 1.10.0 in the Custom Data demo here: <a href=\"http://jqueryui.com/autocomplete/#custom-data\">http://jqueryui.com/autocomplete/#custom-data</a></p>\n\n<p>Original code:</p>\n\n<pre><code>.data( \"autocomplete\" )._renderItem = function( ul, item ) {\n  return $( \"&lt;li&gt;\" )\n    .data( \"item.autocomplete\", item )\n    .append( \"&lt;a&gt;\" + item.label + \"&lt;br&gt;\" + item.desc + \"&lt;/a&gt;\" )\n    .appendTo( ul );\n};\n</code></pre>\n\n<p>Fixed code:</p>\n\n<pre><code>.data( \"ui-autocomplete\" )._renderItem = function( ul, item ) {\n  return $( \"&lt;li&gt;\" )\n    .data( \"ui-autocomplete-item\", item )\n    .append( \"&lt;a&gt;\" + item.label + \"&lt;br&gt;\" + item.desc + \"&lt;/a&gt;\" )\n    .appendTo( ul );\n};\n</code></pre>\n\n<p>Note the changes for both <strong>autocomplete</strong> and <strong>item.autocomplete</strong>.  I've verified that this works in my own projects.</p>\n",
                    "is_accepted": true,
                    "score": 130
                },
                {
                    "body": "<p>Depending on the version of jquery ui you're using it will either be \"autocomplete\" or \"ui-autocomplete\", I made this update to the combobox plugin to fix the problem (~ln 78-85)</p>\n\n<pre><code>var autoComplete = input.data(\"ui-autocomplete\");\nif(typeof(autoComplete) == \"undefined\")\n     autoComplete = input.data(\"autocomplete\");\n\nautoComplete._renderItem = function(ul, item) {\n</code></pre>\n\n<p>...</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'm using jquery 1.10.2 and it work using:</p>\n\n<pre><code>.data( \"custom-catcomplete\" )._renderItem = function( ul, item ) {\n  return $( \"&lt;li&gt;\" )\n    .data( \"ui-autocomplete-item\", item )\n    .append( \"&lt;a&gt;\" + item.label + \"&lt;br&gt;\" + item.desc + \"&lt;/a&gt;\" )\n    .appendTo( ul );\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>And now, with jQuery-2.0.0, it's the name of your new module, but replacing the \".\" (dot) by the \"-\" (dash) :</p>\n\n<pre><code>jQuery.widget ('custom.catcomplete', jQuery.ui.autocomplete, {\n    '_renderMenu': function (ul, items) {\n        // some work here\n    }\n});\n\n$this.catcomplete({\n    // options\n}).data('custom-catcomplete')._renderItem = function (ul, item) {}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Posting for the sake of any person who stumbles across this post.  </p>\n\n<p>This error will also manifest itself if you don't put the .autocomplete inside the document ready event.</p>\n\n<p>The code below will fail:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $('#msg-to').autocomplete({\n        source:all_friends,\n        select:function (event, ui) {               \n            // set the id of the user to send a message to\n            mail_message_to_id = ui.item.id;\n        }\n\n    }).data(\"autocomplete\")._renderItem = function (ul, item) {\n        return $(\"&lt;li&gt;&lt;/li&gt;\")\n            .data(\"item.autocomplete\", item)\n            .append($(\"&lt;a&gt;&lt;/a&gt;\").html(item.label))\n            .appendTo(ul);\n    };\n&lt;/script&gt;\n</code></pre>\n\n<p>while the code below will work:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(function(){\n        $('#msg-to').autocomplete({\n            source:all_friends,\n            select:function (event, ui) {               \n                // set the id of the user to send a message to\n                mail_message_to_id = ui.item.id;\n            }\n\n        }).data(\"autocomplete\")._renderItem = function (ul, item) {\n            return $(\"&lt;li&gt;&lt;/li&gt;\")\n                .data(\"item.autocomplete\", item)\n                .append($(\"&lt;a&gt;&lt;/a&gt;\").html(item.label))\n                .appendTo(ul);\n        };\n    });\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I know I'm late with my answer but if people in the future still don't get </p>\n\n<pre>\n .data( \"ui-autocomplete-item\", item )\n</pre>\n\n<p>to work then try this insted</p>\n\n<pre><code>$(document).ready(function(){\n $('#search-id').autocomplete({\n  source:\"search.php\",\n  minLength:1,       \n  create: function () {\n   $(this).data('ui-autocomplete')._renderItem = function (ul, item) {\n      return $('&lt;li&gt;')\n        .append( \"&lt;a&gt;\" + item.value + ' | ' + item.label  \"&lt;/a&gt;\" )\n        .appendTo(ul);\n    };\n  }\n })\n});\n</code></pre>\n\n<p>It worked for me and I was having problem with the login funktion.. I could not login because it said </p>\n\n<pre>\nUncaught TypeError: Cannot set property '_renderItem' of undefined \n</pre>\n\n<p>Hope this does help someone :) </p>\n\n<p>/kahin</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm using the following code to render my jQuery UI autocomplete items as HTML.\nThe items render correctly in the autocomplete control, but I keep getting this javascript error and can't move past it.</p>\n\n<p>Firefox <strong>Could not convert JavaScript argument</strong></p>\n\n<p>Chrome  <strong>Cannot set property '_renderItem' of undefined</strong></p>\n\n<pre><code>  donor.GetFriends(function (response) {\n    // setup message to friends search autocomplete\n    all_friends = [];\n    if (response) {\n        for (var i = 0; i &lt; response.all.length - 1; i++) {                \n                all_friends.push({\n                    \"label\":\"&lt;img style='padding-top: 5px; width: 46px; height: 46px;' src='/uploads/profile-pictures/\" +\n                        response.all[i].image + \"'/&gt;&lt;br/&gt;&lt;strong style='margin-left: 55px; margin-top: -40px; float:left;'&gt;\" +\n                        response.all[i].firstname + \" \" + response.all[i].lastname + \"&lt;/strong&gt;\",\n\n                    \"value\":response.all[i].firstname + \" \" + response.all[i].lastname,\n                    \"id\":response.all[i].user_id});\n            }\n        }        \n\n    $('#msg-to').autocomplete({\n        source:all_friends,\n        select:function (event, ui) {               \n            // set the id of the user to send a message to\n            mail_message_to_id = ui.item.id;\n        }\n\n    }).data(\"autocomplete\")._renderItem = function (ul, item) {\n        return $(\"&lt;li&gt;&lt;/li&gt;\")\n            .data(\"item.autocomplete\", item)\n            .append($(\"&lt;a&gt;&lt;/a&gt;\").html(item.label))\n            .appendTo(ul);\n    };\n});\n</code></pre>\n\n<p>Not sure why it is throwing this error, or what I have to do to get past it...Any help is appreciated. </p>\n",
            "last_activity_date": 1404807136,
            "question_id": 9513251,
            "score": 46,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui",
                "jquery-autocomplete"
            ],
            "title": "Cannot set property &#39;_renderItem&#39; of undefined jQuery UI autocomplete with HTML"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>to access the index of the parent object use </p>\n\n<pre><code>$parentContext.$index \n</code></pre>\n\n<p>rather than </p>\n\n<pre><code>$parent.index()\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 90
                }
            ],
            "body": "<p>In knockout.js 2.1.0, in a template using the foreach binding, you can access the current item's index though the $index() function. In a nested foreach binding, is there any way to access the index of the $parent from a template?</p>\n\n<p>Say I have a data structure like this:</p>\n\n<pre><code>var application = {\n  topModel: [\n    {\n      {subModel: [{'foo':'foo'}, { 'bar':'bar'}]}, // this has top:0 and sub:0\n      {subModel: [{'foo2':'foo2'}, { 'bar2':'bar2'}]} // this has top:0 and sub:1\n    },\n    {\n      {subModel: [{'foo':'foo'}, { 'bar':'bar'}]} // this is top:1 sub:0\n    },\n    {\n      {subModel: [{'foo':'foo'}, { 'bar':'bar'}]} // this is top:2 sub:0\n      {subModel: [{'foo':'foo'}, { 'bar':'bar'}]} // this is top:2 sub:1\n    },\n    ...\n    ]};\n</code></pre>\n\n<p>With this, I want to print the path to each model, using indices:\n[topModel-index subModel-index], so that the output will be something like:</p>\n\n<pre><code>[0 0]\n[0 1]\n[1 0]\n[2 0]\n[2 1]\n...\n</code></pre>\n\n<p>I have bound the models using foreach, but I can't figure out how to access the topModel's index in the context of the subModel. The following example shows an approach I have tried, but it doesn't work, as I can't figure out how to access the index of the $parent referrer.</p>\n\n<pre><code>&lt;!--ko foreach: topModel --&gt;\n&lt;!--ko foreach: subModel --&gt;\n  [&lt;span data-bind=\"text: $parent.index()\"&gt;&lt;/span&gt;\n  &lt;span data-bind=\"text: $index()\"&gt;&lt;/span&gt;]\n&lt;!--/ko--&gt;\n&lt;!--/ko--&gt;\n</code></pre>\n\n<p>Should print out: 0 1, 0 2, 1 0, 1 1, 1 2, 2 0, 2 1, ...</p>\n",
            "last_activity_date": 1339585018,
            "question_id": 10978551,
            "score": 43,
            "tags": [
                "javascript",
                "knockout.js",
                "jquery-templates"
            ],
            "title": "Access index of $parent in knockout.js"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>Does anyone know why this happens?</p>\n</blockquote>\n\n<p>Because Google designed it to use tag soup instead of HTML</p>\n\n<blockquote>\n  <p>How to make this compliant?</p>\n</blockquote>\n\n<p>The <a href=\"http://code.google.com/apis/+1button/#plusonetag\">documentation</a> has alternative markup that is valid under the draft HTML 5 specification:</p>\n\n<pre><code>&lt;div class=\"g-plusone\" data-size=\"standard\" data-count=\"true\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>If you want it to work with HTML 4.x or XHTML 1.x then you might be out of luck (although you might be able to add the non-compliant markup using JS, but that would just be a hack to conceal it from validation and not at all in the spirit of valid markup)</p>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>I'm guessing you're trying to validate XHTML.  The closest you're going to come is to successfully validating is by defining the \"g\" namespace on your  element by adding this:</p>\n\n<pre><code>xmlns:g=\"http://base.google.com/ns/1.0\"\n</code></pre>\n\n<p>i.e.,</p>\n\n<pre><code>&lt;html xmlns:g=\"http://base.google.com/ns/1.0\"&gt; ... &lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>The simplest way to make Google Plus One code to validate:\nJust put: </p>\n\n<pre><code>&lt;div class=\"g-plusone\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>&lt;g:plusone size=\"medium\" href=\"http://www.example.org\"&gt;&lt;/g:plusone&gt;\n</code></pre>\n\n<p><strong>Drawbacks</strong>: you cannot add parameters such as 'count' or 'size', or the code will not be valid any more. </p>\n\n<p>It's Google's proposed code for HTML5, but will work for other (X)HTML flavours.\nIn HTML5 you CAN add parameters such as 'data-count', data-size', etc.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>&lt;div class=\"g-plusone\" data-size=\"standard\" data-count=\"true\"&gt;&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Insert this code in the header:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://apis.google.com/js/plusone.js\"&gt;\n      {lang:'en', parsetags:'explicit'}\n&lt;/script&gt;\n</code></pre>\n\n<p>Then insert this code where you want the button:</p>\n\n<pre><code>&lt;div id=\"plusone-div\" class=\"plusone\"&gt;&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n      gapi.plusone.render('plusone-div',{\"size\": \"small\", \"count\": \"true\"});\n&lt;/script&gt;\n</code></pre>\n\n<p>The complete answer can be found <a href=\"http://www.sqlpac.com/referentiel/docs/google-bouton-plus-un-google-plusone.htm\">here</a> (in French)</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Keep the code before you close the body tag, and replace:</p>\n\n<pre><code> &lt;g:plusone size=\"medium\"&gt;&lt;/g:plusone&gt;\n</code></pre>\n\n<p>by :</p>\n\n<pre><code>&lt;div class=\"g-plusone\" id=\"gplusone\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\nvar ValidMe=document.getElementById(\"gplusone\");\nValidMe.setAttribute(\"data-size\",\"medium\");\nValidMe.setAttribute(\"data-count\",\"true\");\n&lt;/script&gt;\n</code></pre>\n\n<p>As usual, it does the trick... </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"http://james-ingham.co.uk/posts?p=google-plusone-w3c-valid\" rel=\"nofollow\">http://james-ingham.co.uk/posts?p=google-plusone-w3c-valid</a></p>\n\n<pre><code>&lt;!-- Put inside the &lt;head&gt; tag. --&gt;\n&lt;script type=\"text/javascript\"\n        src=\"http://apis.google.com/js/plusone.js\"&gt;\n    {lang: 'en-GB'}\n&lt;/script&gt;\n\n&lt;!-- Put where you wish to display button. --&gt;\n&lt;script type=\"text/javascript\"&gt;\n    document.write('&lt;g:plusone size=\"medium\" href=\"http://www.example.org/post\"&gt;&lt;/g:plusone&gt;');\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>its just simple</p>\n\n<p>Use the following inside a div tag which you can configure to place it wherever you want in your page and it is valid.</p>\n\n<pre><code>&lt;div class=\"g-plusone\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I am using it in Our Web site <a href=\"http://www.armaven.com\" rel=\"nofollow\">www.armaven.com</a>. Check it out. If you want. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The other way can be to Customize DTD as I did. I downloaded the xhtml1-strict.dtd  </p>\n\n<p>Find the following entity definition in the dtd file</p>\n\n<pre><code>&lt;!ENTITY % Flow \"(#PCDATA | %block; | form | %inline; | %misc; )*\"&gt;\n</code></pre>\n\n<p>And edit it to be as follow (This will help to resolve the contextual validation i.e. where should this tag appear)</p>\n\n<pre><code>&lt;!ENTITY % Flow \"(#PCDATA | %block; | form | %inline; | %misc; | g:plusone)*\"&gt;\n</code></pre>\n\n<p>Now defining new element</p>\n\n<pre><code>&lt;!ELEMENT g:plusone EMPTY&gt;\n</code></pre>\n\n<p>And then listing attributes</p>\n\n<pre><code>&lt;!ATTLIST g:plusone\n  href %URI; #IMPLIED\n  size CDATA #IMPLIED\n&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is the solution I came up with...</p>\n\n<pre><code>&lt;span id=\"plusone\"&gt;&lt;/span&gt;\n&lt;script type=\"text/javascript\"&gt;\n    //&lt; ![CDATA[    \n       $(\"#plusone\").html('&lt;g:plusone&gt;&lt;/g:plusone&gt;');\n      (function() {\n        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;\n        po.src = 'https://apis.google.com/js/plusone.js';\n        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);\n      })();\n    //]]&gt;    \n&lt;/script&gt;\n</code></pre>\n\n<p>Make sure you have <code>&lt;script type=\"text/javascript\" src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\"&gt;&lt;/script&gt;</code> or other link to jquery script in your header!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The solution i implemented is already present in this thread and it was posted by Gilbou but i have to add that \n<code>&lt;script type=\"text/javascript\" src=\"https://apis.google.com/js/plusone.js\"&gt;&lt;/script&gt;</code>\nis not mandatory to be placed in the header.</p>\n\n<p><code>&lt;div id=\"plusone-div\" class=\"plusone\"&gt;&lt;/div&gt;\n&lt;script type=\"text/javascript\"&gt;\n    gapi.plusone.render('plusone-div',{\"size\": \"medium\", \"count\": \"true\", \"href\": \"http://www.YOURSITE.com/\"});\n&lt;/script&gt;</code></p>\n\n<p>Place the above code where you want the +1 button to be but make sure you replace <code>http://www.YOURSITE.com/</code> with the link of the page to be +1.\nIf you want add other parameters to the gabi.plusone.render function check <a href=\"https://developers.google.com/+/plugins/+1button/#plusonetag-parameters\" rel=\"nofollow\">https://developers.google.com/+/plugins/+1button/#plusonetag-parameters</a> and to see if it is W3C compliant go to <a href=\"http://validator.w3.org/\" rel=\"nofollow\">http://validator.w3.org/</a>. Good luck!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Following on from Quentin's <a href=\"http://stackoverflow.com/a/6217492/526495\">answer</a>, you can add a W3C-compliant <code>href</code> attribute by using <code>data-href</code>:</p>\n\n<pre><code>&lt;div class=\"g-plusone\" data-size=\"standard\" data-count=\"true\"&gt;&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>So I've been playing with Google's +1 button trying to get it on my website, but it's not W3C compliant.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>&lt;!-- Place this tag in your head or just before your close body tag --&gt;\n&lt;script type=\"text/javascript\" src=\"http://apis.google.com/js/plusone.js\"&gt;\n  {lang: 'en-GB'}\n&lt;/script&gt;\n\n&lt;!-- Place this tag where you want the +1 button to render --&gt;\n&lt;g:plusone size=\"medium\" href=\"http://www.example.org\"&gt;&lt;/g:plusone&gt;\n</code></pre>\n\n<p>Does anyone know why this happens and how to make this compliant? Thanks</p>\n\n<p>EDIT: To get this to pass through the validation, I wrote an article on my <a href=\"http://jamesingham.me/blog/google-plusone-w3c-valid\">website</a>.</p>\n",
            "last_activity_date": 1422285486,
            "question_id": 6217434,
            "score": 39,
            "tags": [
                "javascript",
                "w3c",
                "w3c-validation",
                "google-plus-one"
            ],
            "title": "Google +1 Button not W3C compliant"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<pre><code>var bbox = textElement.getBBox();\nvar width = bbox.width;\nvar height = bbox.height;\n</code></pre>\n\n<p>and then set the rect's attributes accordingly.</p>\n\n<p>Link: <a href=\"http://www.w3.org/TR/SVG/types.html#InterfaceSVGLocatable\"><code>getBBox()</code></a> in the SVG v1.1 standard.</p>\n",
                    "is_accepted": true,
                    "score": 56
                },
                {
                    "body": "<p>Regarding the length of text the link seems to indicate BBox and getComputedTextLength() may return slightly different values, but ones that are fairly close to each other.</p>\n\n<p><a href=\"http://bl.ocks.org/MSCAU/58bba77cdcae42fc2f44\" rel=\"nofollow\">http://bl.ocks.org/MSCAU/58bba77cdcae42fc2f44</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm working on some ECMAScript/JavaScript for an SVG file and need to get the <code>width</code> and <code>height</code> of a <code>text</code> element so I can resize a rectangle that surrounds it. In HTML I would be able to use the <code>offsetWidth</code> and <code>offsetHeight</code> attributes on the element but it appears that those properties are unavailable.</p>\n\n<p>Here's a fragment that I need to work with. I need to change the width of the rectangle whenever I change the text but I don't know how to get the actual <code>width</code> (in pixels) of the <code>text</code> element.</p>\n\n<pre><code>&lt;rect x=\"100\" y=\"100\" width=\"100\" height=\"100\" /&gt;\n&lt;text&gt;Some Text&lt;/text&gt;\n</code></pre>\n\n<p>Any ideas?</p>\n",
            "last_activity_date": 1423724917,
            "question_id": 1636842,
            "score": 38,
            "tags": [
                "javascript",
                "dom",
                "text",
                "svg"
            ],
            "title": "SVG text element width"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<pre><code>$(\"#MainConfig\")\n    .clone(false)\n    .find(\"ul,li\")\n    .removeAttr(\"id\")\n    .appendTo($(\"#smallConfig\"));\n</code></pre>\n\n<p>Try that on for size. :)</p>\n\n<p>[Edit] Fixed for redsquare's comment.</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>If you will have several similar items on a page, it is best to use classes, not ids. That way you can apply styles to uls inside different container ids.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you need a way to reference the list items after you've cloned them, you must use classes, not IDs. Change all id=\"...\" to class=\"...\"</p>\n\n<p>If you are dealing with legacy code or something and can't change the IDs to classes, you must remove the id attributes before appending.</p>\n\n<pre><code>$(\"#MainConfig\").clone(false).find(\"*\").removeAttr(\"id\").appendTo($(\"#smallConfig\"));\n</code></pre>\n\n<p>Just be aware that you don't have a way to reference individual items anymore.</p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>I use something like this:\n$(\"#details\").clone().attr('id','details_clone').after(\"h1\").show();</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Since the OP asked for a way to replace all the duplicate id's before appending them, maybe something like this would work. Assuming you wanted to clone MainConfig_1 in an HTML block such as this:</p>\n\n<pre><code>&lt;div id=\"smallConfig\"&gt;\n    &lt;div id=\"MainConfig_1\"&gt;\n        &lt;ul&gt;\n            &lt;li id=\"red_1\"&gt;red&lt;/li&gt;\n            &lt;li id=\"blue_1\"&gt;blue&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The code could be something like the following, to find all child elements (and descendants) of the cloned block, and modify their id's using a counter:</p>\n\n<pre><code>var cur_num = 1;    // Counter used previously.\n//...\nvar cloned = $(\"#MainConfig_\" + cur_num).clone(true, true).get(0);\n++cur_num;\ncloned.id = \"MainConfig_\" + cur_num;                  // Change the div itself.\n$(cloned).find(\"*\").each(function(index, element) {   // And all inner elements.\n    if(element.id)\n    {\n        var matches = element.id.match(/(.+)_\\d+/);\n        if(matches &amp;&amp; matches.length &gt;= 2)            // Captures start at [1].\n            element.id = matches[1] + \"_\" + cur_num;\n    }\n});\n$(cloned).appendTo($(\"#smallConfig\"));\n</code></pre>\n\n<p>To create new HTML like this:</p>\n\n<pre><code>&lt;div id=\"smallConfig\"&gt;\n    &lt;div id=\"MainConfig_1\"&gt;\n        &lt;ul&gt;\n            &lt;li id=\"red_1\"&gt;red&lt;/li&gt;\n            &lt;li id=\"blue_1\"&gt;blue&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n    &lt;div id=\"MainConfig_2\"&gt;\n        &lt;ul&gt;\n            &lt;li id=\"red_2\"&gt;red&lt;/li&gt;\n            &lt;li id=\"blue_2\"&gt;blue&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>This is based on Russell's answer but a bit more aesthetic and functional for forms.\njQuery:</p>\n\n<pre><code>$(document).ready(function(){\n   var cur_num = 1;    // Counter\n\n    $('#btnClone').click(function(){\n\n          var whatToClone = $(\"#MainConfig\"); \n          var whereToPutIt = $(\"#smallConfig\");\n\n          var cloned = whatToClone.clone(true, true).get(0);\n          ++cur_num;\n          cloned.id = whatToClone.attr('id') + \"_\" + cur_num;                  // Change the div itself.\n\n        $(cloned).find(\"*\").each(function(index, element) {   // And all inner elements.\n          if(element.id)\n          {\n              var matches = element.id.match(/(.+)_\\d+/);\n              if(matches &amp;&amp; matches.length &gt;= 2)            // Captures start at [1].\n                  element.id = matches[1] + \"_\" + cur_num;\n          }\n          if(element.name)\n          {\n              var matches = element.name.match(/(.+)_\\d+/);\n              if(matches &amp;&amp; matches.length &gt;= 2)            // Captures start at [1].\n                  element.name = matches[1] + \"_\" + cur_num;\n          }\n\n         });\n\n       $(cloned).appendTo( whereToPutIt );\n\n    });\n});\n</code></pre>\n\n<p>The Markup:</p>\n\n<pre><code>&lt;div id=\"smallConfig\"&gt;\n    &lt;div id=\"MainConfig\"&gt;\n        &lt;ul&gt;\n            &lt;li id=\"red_1\"&gt;red&lt;/li&gt;\n            &lt;li id=\"blue_1\"&gt;blue&lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;input id=\"purple\" type=\"text\" value=\"I'm a text box\" name=\"textboxIsaid_1\" /&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>FWIW, I used Dario's function, but needed to catch form labels as well.</p>\n\n<p>Add another if statement like this to do so:</p>\n\n<pre><code>if(element.htmlFor){\nvar matches = element.htmlFor.match(/(.+)_\\d+/);\nif(matches &amp;&amp; matches.length &gt;= 2)            // Captures start at [1].\n  element.htmlFor = matches[1] + \"_\" + cur_num;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have a html element with a large collection of unordered lists contained within it.  I need to clone this element to place elsewhere on the page with different styles added, this is simple enough using JQuery.  </p>\n\n<pre><code>$(\"#MainConfig\").clone(false).appendTo($(\"#smallConfig\"));\n</code></pre>\n\n<p>The problem, however is that all the lists and thier associated list items have Ids and clone duplicates them.  Is there an easy way to replace all these duplicate id's using JQuery before appending?</p>\n",
            "last_activity_date": 1348381287,
            "question_id": 416081,
            "score": 38,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "JQuery clone duplicate IDs"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>The ajax calls with be simultaneously. So when the ajax call is successful, the callback function is invoked which in turn invokes the the myfunction.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You could quickly test this by putting an alert('first one'); alert('second one'); in both functions, and see which modal popup comes up first. If your code really is affected by the order, put some conditional checks in both to prevent / allow something. The speed of native js vs the speed of a full round-trip to and from the server is wildly different. Unless you have some javascript running in an infinite loop, the odds of the ajax call returning during your other function execution is tiny.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The AJAX callback runs on the next event loop.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Javascript kind of single threaded see <a href=\"http://stackoverflow.com/questions/2734025/is-javascript-guaranteed-to-be-single-threaded\">Is javascript guaranteed to be single-threaded?</a>. So the answer is NO, your event handler and your function could run at the same time, or they might not. </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>When the ajax succeeds and invokes <code>myCallback</code>, it will run synchronously. So <code>myCallback</code> is like other functions, you call it first it will run first or you call it last it will run last. THEY WILL NOT RUN AT THE SAME TIME.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>These answers are all wrong [edit: at least 3-4 wrong when this answer was posted]. The XHR event is put in the event queue/pool. When the single-threaded javascript thread is not busy, it will grab the next events from the event pool, and act on them. One of those events will be your XHR \"AJAX\" request, which will trigger the callback, which will then execute. This is how all event-driven systems without interrupts work.</p>\n\n<p><strong>edit</strong>: Upvoting Joe's answer which links to <a href=\"http://stackoverflow.com/questions/2734025/is-javascript-guaranteed-to-be-single-threaded\">Is javascript guaranteed to be single-threaded?</a> and mentions the subtle edge-cases. Very informative.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<blockquote>\n  <p>Suppose then that some other JavaScript method called <code>myFunction</code> is being invoked on my page when <code>myCallback</code> is invoked asynchronously.</p>\n  \n  <p>Does one operation take precedence over the other? Do they both run at the same time? What happens?</p>\n</blockquote>\n\n<p>JavaScript on browsers is single-threaded (barring your using <a href=\"http://www.w3.org/TR/workers/\">web workers</a>, and the syntax for that is explicit). So <code>myFunction</code> will run until it returns&nbsp;&mdash; with certain caveats (keep reading). If the ajax layer completes an operation <em>while</em> <code>myFunction</code> is running (which it very well may) and needs to invoke the callback, that call gets <em>queued</em>. The next time your code yields, the next call in the queue will be triggered.</p>\n\n<p>It might seem, then, that we never have to worry about race conditions. That's mostly true, but there are subtleties. For instance, consider this code:</p>\n\n<pre><code>var img = document.createElement('img');\nimg.src = /* ...the URL of the image... */;\nimg.onload = function() {\n    // Handle the fact the image loaded\n    foo();\n};\ndoSomethingElse();\ndoYetAnotherThing();\n</code></pre>\n\n<p>Since JavaScript on browsers is single-threaded, I'm guaranteed to get the <code>load</code> event when the image loads, right?</p>\n\n<p>Wrong.</p>\n\n<p>The <em>JavaScript</em> code is single-threaded, but the rest of the environment probably isn't. So it can happen that, having set the <code>img.src</code>, the browser may see that it has a cached copy of the image it can use, and so it triggers the <code>load</code> event on the <code>img</code> <em>between</em> the <code>img.src = ...</code> line and the <code>img.onload = ...</code> line. Since my handler isn't attached yet, I don't get the call, because by the time I've attached my handler, the event has already fired.</p>\n\n<p>But you can see the effect of queuing if we reverse those lines:</p>\n\n<pre><code>var img = document.createElement('img');\nimg.onload = function() {\n    // Handle the fact the image loaded\n    foo();\n};\nimg.src = /* ...the URL of the image... */;\ndoSomethingElse();\ndoYetAnotherThing();\n</code></pre>\n\n<p>Now I'm hooking the event <em>before</em> setting <code>src</code>. If the event fires between the <code>img.src = ...</code> line and the <code>doSomethingElse</code> line (because the browser has the image in cache), the callback to my handler gets <em>queued</em>. <code>doSomethingElse</code> and <code>doYetAnotherThing</code> run before my handler does. Only when control passes out of my code does the queued call to my handler finally get run. The JavaScript code is single-threaded, but the environment is not.</p>\n\n<p>You can also yield to the host environment in non-obvious ways. For instance, by calling <code>alert</code> or its breathren <code>confirm</code>, <code>prompt</code>, etc. These functions stick out like the sore thumbs they are in modern JavaScript because they <em>aren't</em> event driven; instead, JavaScript execution is suspended while a modal window is shown. But as <a href=\"http://stackoverflow.com/users/18936/bobince\">bobince</a> points out in <a href=\"http://stackoverflow.com/questions/2734025/is-javascript-guaranteed-to-be-single-threaded\">his in-depth discussion here</a>, that doesn't mean none of your other code will run while that modal is showing. It's still single-threaded, but the one thread is being suspended in one place (by the modal) and used to run code elsewhere in the meantime; a very fine distinction indeed. (Bob also points to some event handling&nbsp;&mdash; his <code>focus</code> example&nbsp;&mdash; that seems to break this rule, but it doesn't. His example <em>calls</em> <code>focus</code>, which in turn calls the event handlers, and then returns; no different from you calling your own functions.) The key thing the items that Bob points out have in common is that your code has called into something in the host environment that does goes away and does something (shows a modal dialog, fires <code>blur</code> and <code>focus</code> handlers, etc.).</p>\n\n<p>(<code>alert</code> and its breathren in particular cause all sorts of nastiness, particularly around <code>focus</code> and <code>blur</code>, and I recommend avoiding them in favor of more modern techniques (which can also look about 18x better).)</p>\n\n<p>So those are the caveats mentioned at the outset of the answer. And in particular, if <code>myFunction</code> calls <code>alert</code>, at least on Firefox the ajax completion callback <em>will</em> get run during the <code>alert</code> (it won't on most other browsers). If you're curious to try out what does and doesn't happen during <code>alerts</code> and such, <a href=\"http://jsbin.com/enameh\">here's a test page</a> testing <code>setTimeout</code> and ajax; you could extend the tests to go further.</p>\n",
                    "is_accepted": true,
                    "score": 53
                },
                {
                    "body": "<p>AJAX calls are \"asyncronous\" which means \"fire off a call and let me know what you want me to call back when im done\".</p>\n\n<p>so in short:</p>\n\n<pre><code>function DoSomething() { AJAXCall(Callback); }\n\n ... some time passes then ...\n\nfunction Callback() { Done(); }\n</code></pre>\n\n<p>Between those 2 function calls anything can happen, the callback will still be called when the response comes back because although the javascript runtime is single threaded the browser will stack calls to happen in some sort of order (likely the order they are made but not garanteed).</p>\n\n<p>It's a shame i just pulled done my old website because i had classic example of a page making several ajax calls on load, as each call came back it would populate various portions of the page.</p>\n\n<p>although each call was \"attached\" to the document loaded event only 1 call could be made at a time but the server could respond to any call in any order because the server could be multithreaded (and likely is).</p>\n\n<p>Think of javascript as being a virtual box in which which the browser can pass a small lump of code, it can only run 1 lump at a time but it can run lots of scripts in whatever order it sees fit (generally this is unpredictable with multiple ajax calls because who knows when the server might come back with a result)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Suppose I write some JavaScript that performs an AJAX call with <code>myCallback</code> as a callback method to execute when the AJAX succeeds.</p>\n\n<p>Suppose then that some other JavaScript method called <code>myFunction</code> is being invoked on my page when <code>myCallback</code> is invoked asynchronously.</p>\n\n<p>Does one operation take precedence over the other?  Do they both run at the same time?  What happens?</p>\n",
            "last_activity_date": 1310461570,
            "question_id": 6659108,
            "score": 36,
            "tags": [
                "javascript",
                "ajax"
            ],
            "title": "What happens in JavaScript when an AJAX call returns while the script is executing?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<pre><code>var mongo = require('mongodb');\nvar BSON = mongo.BSONPure;\nvar o_id = new BSON.ObjectID(theidID);\ncollection.update({'_id': o_id});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 41
                },
                {
                    "body": "<p>With <code>native_parser:false</code>:</p>\n\n<pre><code>var BSON = require('mongodb').BSONPure;\nvar o_id = BSON.ObjectID.createFromHexString(theidID);\n</code></pre>\n\n<p>With <code>native_parser:true</code>:</p>\n\n<pre><code>var BSON = require('mongodb').BSONNative;\nvar o_id = BSON.ObjectID.createFromHexString(theidID);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>This the approach that worked for me. </p>\n\n<pre><code>var ObjectId = require('mongodb').ObjectID;\n\nvar get_by_id = function(id, callback) {\n  console.log(\"find by: \"+ id);\n  get_collection(function(collection) {\n    collection.findOne({\"_id\": new ObjectId(id)}, function(err, doc) {\n       callback(doc);\n    });\n  });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>The answer depends upon the variable type you are passing in as the id.  I pulled an object id by doing a query and storing my account_id as the ._id attribute.  Using this method you simply query using the mongo id.  </p>\n\n<pre><code>// begin account-manager.js\nvar MongoDB   = require('mongodb').Db;\nvar dbPort      = 27017;\nvar dbHost      = '127.0.0.1';\nvar dbName      = 'sample_db';\ndb = new MongoDB(dbName, new Server(dbHost, dbPort, {auto_reconnect: true}), {w: 1});\nvar accounts = db.collection('accounts');\n\nexports.getAccountById = function(id, callback)\n{ \n  accounts.findOne({_id: id},\n    function(e, res) {  \n    if (e) {\n        callback(e)\n    }\n    else {\n        callback(null, res)\n    }\n\n  });\n}\n// end account-manager.js\n\n// my test file\nvar AM = require('../app/server/modules/account-manager');\n\nit(\"should find an account by id\", function(done) {\n\nAM.getAllRecords(function(error, allRecords){\n  console.log(error,'error')\n  if(error === null) {\n    console.log(allRecords[0]._id)\n    // console.log('error is null',\"record one id\", allRecords[0]._id)\n    AM.getAccountById(          \n      allRecords[0]._id,\n      function(e,response){\n        console.log(response,\"response\")\n        if(response) {\n          console.log(\"testing \" + allRecords[0].name + \" is equal to \" + response.name)\n          expect(response.name).toEqual(allRecords[0].name);\n          done();    \n        } \n      }\n    )  \n  } \n})\n</code></pre>\n\n<p>});</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>now you can just use this:</p>\n\n<pre><code>var ObjectID = require('mongodb').ObjectID;\nvar o_id = new ObjectID(\"yourObjectIdString\");\n....\ncollection.update({'_id': o_id});\n</code></pre>\n\n<p>You can see documentation <a href=\"http://mongodb.github.io/node-mongodb-native/api-bson-generated/objectid.html#objectid\" rel=\"nofollow\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm trying to select a document by id</p>\n\n<p>I've tried:</p>\n\n<pre><code>collection.update({ \"_id\": { \"$oid\": + theidID } }\n\ncollection.update({ \"_id\": theidID }\n\ncollection.update({ \"_id.$oid\": theidID }}\n</code></pre>\n\n<p>Also tried:</p>\n\n<pre><code>collection.update({ _id: new ObjectID(theidID ) }\n</code></pre>\n\n<p>This gives me an error 500...</p>\n\n<pre><code>var mongo = require('mongodb')\nvar BSON = mongo.BSONPure;\nvar o_id = new BSON.ObjectID(theidID );\n\ncollection.update({ _id: o_id }\n</code></pre>\n\n<p>None of these work. How to select by _id?</p>\n",
            "last_activity_date": 1405596231,
            "question_id": 4902569,
            "score": 36,
            "tags": [
                "javascript",
                "mongodb",
                "node.js"
            ],
            "title": "node.js mongodb select document by _id node-mongodb-native"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<pre><code>var str = \"hello,how,are,you,today?\";\nvar pieces = str.split(/[\\s,]+/);\n</code></pre>\n\n<p>At this point, <code>pieces</code> is an array and <code>pieces.length</code> contains the size of the array so to get the last element of the array, you check <code>pieces[pieces.length-1]</code>. If there are no commas or spaces it will simply output the string as it was given.</p>\n\n<pre><code>alert(pieces[pieces.length-1]); // alerts \"today?\"\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>There's a one-liner for everything. :)</p>\n\n<pre><code>var output = input.split(/[, ]+/).pop();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 229
                },
                {
                    "body": "<p>And if you don't want to construct an array ...</p>\n\n<pre><code>var str = \"how,are you doing, today?\";\nvar res = str.replace(/(.*)([, ])([^, ]*$)/,\"$3\");\n</code></pre>\n\n<p>The breakdown in english is:</p>\n\n<pre><code>/(anything)(any separator once)(anything that isn't a separator 0 or more times)/\n</code></pre>\n\n<p>The replace just says replace the entire string with the stuff after the last separator.</p>\n\n<p>So you can see how this can be applied generally. Note the original string is not modified.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var item = \"one,two\";\nvar lastItem = item.split(\",\").pop(-1);\n</code></pre>\n\n<p>Does this not work?</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I need to get the last element of the splitted array with multiple seperators. if there's no array it should return the string</p>\n\n<p>the seperators are \"commas\" and \"space\"</p>\n\n<p>if the string is \"how,are you doing, today?\"\nit should return \"today?\"</p>\n\n<p>if the input were \"hello\"\nthe output should be \"hello\"</p>\n\n<p>how can i do this in javascript</p>\n",
            "last_activity_date": 1406326274,
            "question_id": 651563,
            "score": 34,
            "tags": [
                "javascript",
                "split"
            ],
            "title": "get the last element of a splitted string array in javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Every object has to be named inside the parent object:</p>\n\n<pre><code>{ \"data\": {\n    \"stuff\": {\n        \"onetype\": [\n            { \"id\": 1, \"name\": \"\" },\n            { \"id\": 2, \"name\": \"\" }\n        ],\n        \"othertype\": [\n            { \"id\": 2, \"xyz\": [-2, 0, 2], \"n\": \"Crab Nebula\", \"t\": 0, \"c\": 0, \"d\": 5 }\n        ]\n    },\n    \"otherstuff\": {\n        \"thing\":\n            [[1, 42], [2, 2]]\n    }\n}\n}\n</code></pre>\n\n<p>So you cant declare an object like this:</p>\n\n<pre><code>var obj = {property1, property2};\n</code></pre>\n\n<p>It has to be </p>\n\n<pre><code>var obj = {property1: 'value', property2: 'value'};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You don't need to use arrays.</p>\n\n<p>JSON values can be arrays, objects, or primitives (numbers or strings).</p>\n\n<p>You can write JSON like this:</p>\n\n<pre><code>{ \n    \"stuff\": {\n        \"onetype\": [\n            {\"id\":1,\"name\":\"John Doe\"},\n            {\"id\":2,\"name\":\"Don Joeh\"}\n        ],\n        \"othertype\": {\"id\":2,\"company\":\"ACME\"}\n    }, \n    \"otherstuff\": {\n        \"thing\": [[1,42],[2,2]]\n     }\n}\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>obj.stuff.onetype[0].id\nobj.stuff.othertype.id\nobj.otherstuff.thing[0][1]  //thing is a nested array or a 2-by-2 matrix.\n                            //I'm not sure whether you intended to do that.\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 59
                },
                {
                    "body": "<p>You have to many redundant nested array inside your jSON data, but it is possible to retrieve the information. Though like other say you better clean it up. </p>\n\n<p>use each() wrap within another each() until the last array.</p>\n\n<p>for <code>result.data[0].stuff[0].onetype[0]</code> you could do</p>\n\n<p>`</p>\n\n<pre><code>$.each(data.result.data, function(index0, v) {\n    $.each(v, function (index1, w) {\n        $.each(w, function (index2, x) {\n            alert(x.id);\n        });\n    });\n\n});\n</code></pre>\n\n<p>`</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Is there any way to have nested objects in JSON so I don't have to make arrays out of everything? For my object to be parsed without error I seem to need a structure like this:</p>\n\n<pre><code>{\"data\":[{\"stuff\":[\n    {\"onetype\":[\n        {\"id\":1,\"name\":\"John Doe\"},\n        {\"id\":2,\"name\":\"Don Joeh\"}\n    ]},\n    {\"othertype\":[\n        {\"id\":2,\"company\":\"ACME\"}\n    ]}]\n},{\"otherstuff\":[\n    {\"thing\":\n        [[1,42],[2,2]]\n    }]\n}]}\n</code></pre>\n\n<p>If I fetch this object into a variable called \"result\" I have to access the nested objects like this: </p>\n\n<pre><code>result.data[0].stuff[0].onetype[0]\n</code></pre>\n\n<p>and</p>\n\n<pre><code>result.data[1].otherstuff[0].thing[0]\n</code></pre>\n\n<p>This seems clumsy and redundant to me, if possible I would prefer:</p>\n\n<pre><code>result.stuff.onetype[0]\n</code></pre>\n\n<p>and</p>\n\n<pre><code>result.otherstuff.thing\n</code></pre>\n\n<p>But how can I use the object keys directly when everything is an array? To my confused and uneducated mind something like this would seem more appropriate:</p>\n\n<pre><code>{\"data\":\n    {\"stuff\":\n        {\"onetype\":[\n            {\"id\":1,\"name\": \"\"},\n            {\"id\":2,\"name\": \"\"}\n        ]}\n        {\"othertype\":[\n            {\"id\":2,\"xyz\": [-2,0,2],\"n\":\"Crab Nebula\",\"t\":0,\"c\":0,\"d\":5}\n        ]}\n    }\n    {\"otherstuff\":\n        {\"thing\":\n            [[1,42],[2,2]]\n        }\n    }\n}\n</code></pre>\n\n<p>I've probably misunderstood something fundamental here, but I cannot get the jQuery parser (nor the natvie FF parser used by jQuery 1.4) to accept the second style object. If anyone can enlighten me it would be gratefully appreciated! </p>\n\n<p>Many thanks, </p>\n\n<p>JS</p>\n",
            "last_activity_date": 1350634725,
            "question_id": 2098276,
            "score": 33,
            "tags": [
                "javascript",
                "jquery",
                "json",
                "syntax",
                "parsing"
            ],
            "title": "Nested JSON objects - do I have to use arrays for everything?"
        },
        {
            "answer_count": 15,
            "answers": [
                {
                    "body": "<p>excuse me but why you can't use the time on the server? the time when you recieve the response will be the one which you use to calculate the score.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Depending on the server side implementation you have, you could put the timing functionality on the server side. Record the time that the webpage request was made (you could put that into a database if you liked) and then when the answer is received get the current time and perform some arithmetic to get the duration of the answer. You could store the time in the session object if you liked instead of the database as well although I don't know too much about its integrity in there.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can't guarantee the security of the timings cryptographically, because the client's browser can't do secure computation. Any means for encrypting to/from the server could be bypassed by adjusting the actual timings.</p>\n\n<p>And timing on the server doesn't work, either - if you don't take account of latency in the round-trip-time, users with lower latency connections will have an advantage; if you do, users could thwart the compensation phase by adding extra latency there and then removing it later.</p>\n\n<p>You can, of course make it difficult for the users to modify this, but security by obscurity is an unsustainable policy anyway.</p>\n\n<p>So it comes down to either trusting your users somewhat (a reasonable assumption, most of the time) and designing the game so it's not trivial to circumvent the timings.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>You <em>have to</em> use server-side time here. Here is how I would do it:</p>\n\n<p>Make an <a href=\"http://docs.jquery.com/Ajax/jQuery.post\" rel=\"nofollow\">AJAX request on document ready</a> to ping the server.  When server-side code receives the ping, store the server-side time as a session variable (making sure the variable does not already exist).  When they finish the quiz, take the server-side time again and compare it with the session variable to determine their duration.  Remove the session variable.</p>\n\n<p>Why this works:</p>\n\n<ul>\n<li>You do not start the timer <em>before</em> they see the quiz</li>\n<li>The network delay is factored in, because the timer does not start until the AJAX request comes in (if they have a slow connection, the AJAX request will be slow)</li>\n<li>Ping is not spoofable because you make sure the session variable does not exist before storing</li>\n</ul>\n\n<p>EDIT:  I wanted to add that you could continue to keep client-side time, and include it in the final post.  Then you can compare it with your server-side calculated time.  If they are reasonably close, then you can trust the client time.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The way I would do this is that when the server sends the puzzle to the client, the current time is stored in a session. This ensures that the timing starts immediately after the puzzle has been sent. After the puzzle has been completed, and is sent to the server to check if the puzzle was done right, the server again checks the time and does a comparison.</p>\n\n<p>Obviously slow Internet connections can make this time bigger, but there's nothing you can do about it.</p>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>It is impossible to start and stop the timer at the client-side without fear of manipulation...</p>\n\n<p>Anything you perform at the client can be altered / stopped / bypassed..</p>\n\n<p>encrypting/decrypting at the client is also not safe since they can alter the info before the encryption occurs..</p>\n\n<p>Since it involves money, the users can not be trusted..</p>\n\n<p>The timing has to <strong>start</strong> at the server, and it has to <strong>stop</strong> at the server..</p>\n\n<p>Use ajax to start the timer at the server <strong>only</strong> if the puzzle contents return with the result of the ajax call. do not load the puzzle and then sent an ajax request as this could be hijacked and delayed while they review the puzzle...</p>\n\n<p>..</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>As several others have pointed out:</p>\n\n<ol>\n<li>You must use server time, because client time is vulnerable to manipulation.</li>\n<li>Checking the time on the server will potentially penalize people with slow network connections, or people that are far away.</li>\n</ol>\n\n<p>The answer to the problem is to use a time synchronization protocol between the client and the server similar to the protocol that NTP uses. Working together, the client and the server determine the amount of delay caused by network latency. This is then factored into the times given to each user.</p>\n\n<p>NTP's algorithms are complicated and have been developed over years. But a simple approach is below; I think that the protocol should work, but you may wish to test it.</p>\n\n<p>Have the client measure the round-trip time with two successive HTTP XMLRPC pings. Each ping returns a different nonce. The second ping requires the nonce from the first ping, which assures that they are sequential. The puzzle time starts when the second HTTP ping is sent from the client.  The server timestamps each request and assumes that the puzzle is displayed 1/2 way between the receipt of the first and the second request.</p>\n\n<p>When the puzzle is finished the client pings twice again, following the same protocol as before. The server knows when it receives each request and it knows the time delta. Now take half the time delta and subtract that from when the first ping of the second set is received. That can be safely assumed to be the time that the puzzle was completed.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>there is a very fast implementation of cryptography in js here</p>\n\n<p><a href=\"http://crypto.stanford.edu/sjcl/\" rel=\"nofollow\">http://crypto.stanford.edu/sjcl/</a></p>\n\n<p>it allows public / private key encryption all on the client and I think you can adapt it to encrypt the Ajax communication between your server and the client browser</p>\n\n<p>here is a detailed explanation, which you can adapt to your needs\n<a href=\"http://crypto.stanford.edu/sjcl/#usage\" rel=\"nofollow\">http://crypto.stanford.edu/sjcl/#usage</a> </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You asked a bunch of questions in your original question, I'm only going to answer one of them: </p>\n\n<blockquote>\n  <p>Am I going to have to use something that gets compiled, like Flash? (Yikes.)</p>\n</blockquote>\n\n<p>Yes. Given your criteria: 1) 100% accurate, and 2) No possibility of user interference, you <em>have</em> to use a compiled binary.</p>\n\n<p>Doesn't have to be flash though - I'd suggest a java applet if the thought of Flash makes you say \"Yikes\".</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Just a quick thought: why don't you use an iFrame to include the game and it's javascripts and let them reside on the server you have your server side implementation running. Any ajax request should then be sent by the same IP as your server side IP is which would solve the problem of identifying the source. Of course you have to take further measures but already gained a lot of confidence in your \"client\" side requests. Remember the windowsLive services login and many more like it are based on javascript and the usage of iFrames and are considered secure enough.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This approach obviously makes assumptions and is not invincible. All calculations are done on the client, and the server does some background checks to find out if the request could have been forged. Like any other client-based approach, this is not deterministic but makes it very hard for a lying client.</p>\n\n<p>The main assumption is that long-lived HTTP connections are much faster for transmitting data, even negligible in some cases depending on the application context. It is used in most online trading systems as stock prices can change multiple times within a second, and this is the fastest way to transmit current price to users. You can read up more about <a href=\"http://en.wikipedia.org/wiki/Comet_%28programming%29\" rel=\"nofollow\">HTTP Streaming or Comet</a> here.</p>\n\n<p>Start by creating a <a href=\"http://en.wikipedia.org/wiki/Reverse_Ajax\" rel=\"nofollow\">full-duplex</a> ajax connection between the client and server. The server has a dedicated line to talk to the client, and the client can obviously talk to the server. The server sends the puzzle, and other messages to the client on this dedicated line. The client is supposed to confirm the receipt of each message to the server along with its local timestamp.</p>\n\n<p>On the server generate random tokens (could be just distinct integers) after the puzzle has been sent, record the time when each token was generated, and pass it over to the client. The client sees the message, and is supposed to immediately relay this token back along with it's local time of receipt. To make it unpredictable for the client, generate these server tokens at random intervals, say between <code>1</code> and <code>n</code> ms.</p>\n\n<p>There would be three types of messages that the client sends to the server:</p>\n\n<pre><code>PUZZLE_RECEIVED\nTOKEN_RECEIVED\nPUZZLE_COMPLETED\n</code></pre>\n\n<p>And two types of messages that the server sends to the client:</p>\n\n<pre><code>PUZZLE_SENT\nTOKEN_SENT\n</code></pre>\n\n<p>There <em>could</em> be a lot of time variation in the messages send from the client to the server,  but much lesser in the other direction (and that's a very fair assumption, hey - we have to start somewhere).</p>\n\n<p>Now when the server receives a receipt to a message it sent, record the client time contained in that message. Since the token was also relayed back in this message, we can match it with the corresponding token on the server.  At the end of the puzzle, the client sends a <code>PUZZLE_COMPLETED</code> message with local time to the server. The time to complete the puzzle would be:</p>\n\n<pre><code>PUZZLE_COMPLETED.time - PUZZLE_RECEIVED.time\n</code></pre>\n\n<p>Then double check by calculating the time difference in each message's sent vs received times.</p>\n\n<pre><code>PUZZLE_RECEIVED.time - PUZZLE_SENT.time\nTOKEN_RECEIVED.time - TOKEN_SENT.time\n</code></pre>\n\n<p>A high variance in these times implies that the response could have been forged. Besides simple variance, there is lots of statistical analysis you can do on this data to look for odd patterns.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>Even a compiled application could be forged. If the user changes their system clock halfway through timing, your application will report an incorrect time to the server. The <em>only</em> way to get an accurate upper-bound on the time it takes them is to start timing on the server when the puzzle is given to them, and to stop timing when they supply the answer.</p>\n\n<p>As others have pointed out you can minimise the effect that slow connections have by making the load of the puzzle as small as possible. Load the entire page and \"game engine\" first, and then use an asynchronous request to load the puzzle itself (which should be a small amount of data) to level the playing field as much as possible.</p>\n\n<p>Unfortunately you can't do latency compensation as this would be open to tampering. However, on a connection that's not being used for anything else, the latency for a request like this would be greatly overshadowed by the time it takes a human to solve a puzzle, I don't think it will be a big deal.</p>\n\n<p>(Reasoning: 200ms is considered very bad lag, and that's the average human reaction time. The shortest possible \"puzzle\" for a human to complete would be a visual reaction speed test, in which case bad lag would have a 100% markup on their results. So as a timing solution this is 2-OPT. Any puzzle more complex will be impacted less by lag.)</p>\n\n<p>I would also put a banner on the page saying to not use the internet connection for anything else while playing for the best possible speeds, possibly linking to a speed / latency tester.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>-- Edit:</p>\n\n<p>This solution is somewhat flawed, as pointed out by ZoFrex below.</p>\n\n<p>-- Old:</p>\n\n<p>Here is a way (but you'll need to do some profiling).</p>\n\n<p>Send down a series of \"problems\" for the JavaScript to solve, while they are playing the puzzle. Previously, I've sufficiently-sized number N such that it is the result of: prime1 * prime2. This forces the client to factor the number (you can get code to do this in JavaScript) and this will take time (this is where profiling clients comes in, and sending down appropriately-sized primes [obviously, this opens you to degradation-attacks, but nevertheless]).</p>\n\n<p>Then, you just send down say, 500, of these prime-problems (or another type), and let the JavaScript solve them in the background. It will generate a list of solutions, and when you send the completed value, you also send this list. From the total count of answers supplied, you can determine how long they spent on the puzzle.</p>\n\n<p>Cons:</p>\n\n<ul>\n<li>Requires profiling to determine capabilities of various clients (and hence difficulty of problems)</li>\n<li>Can be downgrade-attacked</li>\n<li>Slightly complicated</li>\n<li>JavaScript computation may interrupt general puzzle-solving</li>\n<li>Possible to write a bot to get solve problems faster than JS</li>\n</ul>\n\n<p>Pros:</p>\n\n<ul>\n<li>Calculations <em>must</em> be done in order to submit the form</li>\n<li>If implemented correctly, will prevent all but non-trivial attacks</li>\n</ul>\n\n<p>Clearly, it's attackable, (all proposed answers are), but I think it's reasonable. At least, it would be fun to work on :)</p>\n\n<p>In the end, though, you need to actually install a client-side system with a bit more security. And do note that Flash certainly is not this; it's trivial to decompile. Infact, there was an IQ test here in Australia once, and it was controlled via a Flash app that was done LIVE on television. Of course, the winner was a computer programmer, I wonder why :P</p>\n\n<p>-- Edit:</p>\n\n<p>OP, Also, I linked it in a comment to this post, but just incase you miss it, you are kind of interested in the <a href=\"http://en.wikipedia.org/wiki/Hashcash\" rel=\"nofollow\">Hashcash</a>, which is the aim to show that a client has completed some amount of 'Work'. Even if my implementation isn't suitable, you may find a review of that field fruitful.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I do not think there is a perfect solution. Here is an alternative that makes it harder for cheater but at the same time an unlucky honest solver may lose out.</p>\n\n<p>Get many samples of roundtrip time measurements from each specific devices/location/other combination apriori for each user based on their other interaction with your site. You will also have these measurements for the entire population. You could also be very subtle get the timestamps for when a particular DNS lookup happened from their ISP's resolver (random hostname and you host the authoritative DNS server for that domain).</p>\n\n<p>Once you have this, perform all measurements on the server side (puzzle returned to user, solution received) and subtract out the network time based on previous observations.</p>\n\n<p>Note that even in other solutions you have server load, client load (slow processor, etc.), etc that affect timing. </p>\n\n<p>Make sure you have XSRF protection on puzzle submission page :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's a tricky problem because it's fundamentally unsolvable, so you need to work around the tradeoffs to do your best. There've been several good points made on the technical side including: (a) don't waste your time thinking compiling to Flash, Windows, Silverlight, JVM, or anything will actually help, (b) first transmit the encrypted real puzzle payload, then as the actual bottleneck transmit the key alone, (c) the latency even on 56k of sending a couple hundred bytes is negligible compared to human reaction time.</p>\n\n<p>One thing I haven't seen mentioned is this:</p>\n\n<p>Use after-the-fact auditing and tracking of users. This is how real casinos work. This is, I am told, a big part of how PayPal made their money. In both cases, rather than doing a lot of before-the-fact security, they keep very close tabs on everything about their players, use a lot of technology (statistics, pattern detection, etc) to flag suspicious players and they investigate. In both casinos and PayPal, you can't get your money right away. You have to cash in your chips or wait for the money to make it out of the PayPal system into your real bank. Your system should work the same way-- they can't actually get the money for at least a few days at minimum (longer if you are unable to set up a sufficiently speedy auditing system), giving you time to potentially impound their winnings. You have a lawyer, right? Also, casinos and PayPal know your real life identity (a must for dealing in money) so they can go after you legally-- or more importantly, deter would-be attackers since they could go after them legally.</p>\n\n<p>Combined with the other tips, this may be sufficient to eliminate cheating entirely.</p>\n\n<p>If you find it is not, make your goal not to totally eliminate cheating but to keep it to an acceptable level. Kind of like having 99.99% uptime. Yes, as one poster said, if even one person can compromise it everyone is screwed, but with a good auditing system the attacker won't be able to consistently cheat. If they can cheat 1 in 1000 times if they're lucky and they find they can't cheat more than once or twice before being caught, it won't be a problem since very few will cheat and any given honest user will have an extremely low chance of being affected by an extremely small amount of cheating. It'll be imperceptible. If you ever have a real cheating occurence that hurts an honest user, go out of your way to make the honest user feel satisfied with the outcome to a degree out of proportion to the value of that single customer. That way everyone will be confident in your security. They know they don't have to worry about anything.</p>\n\n<p>People problems are not always solvable with technology solutions alone. You sometimes need to use people solutions. (The technology can help those people solutions work a lot better though.) </p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am designing a web site in which users solve puzzles as quickly as they can. JavaScript is used to time each puzzle, and the number of milliseconds is sent to the server via AJAX when the puzzle is completed. How can I ensure that the time received by the server was not forged by the user?</p>\n\n<p>I don't think a session-based authenticity token (the kind used for forms in Rails) is sufficient because I need to authenticate the <em>source</em> of a value, not just the legitimacy of the request.</p>\n\n<p>Is there a way to cryptographically sign the request? I can't think of anything that couldn't be duplicated by a hacker. Is any JavaScript, by its exposed, client-side nature, subject to tampering? Am I going to have to use something that gets compiled, like Flash? (Yikes.) Or is there some way to hide a secret key? Or something else I haven't thought of?</p>\n\n<p>Update: To clarify, I don't want to penalize people with slow network connections (and network speed should be considered inconsistent), so the timing needs to be 100% client-side (the timer starts only when we know the user can see the puzzle). Also, there is money involved so no amount of \"trusting the user\" is acceptable.</p>\n",
            "last_activity_date": 1276713676,
            "question_id": 2017094,
            "score": 32,
            "tags": [
                "javascript",
                "ajax",
                "security",
                "language-agnostic",
                "encryption"
            ],
            "title": "How to Check Authenticity of an AJAX Request"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<pre><code>for (var key in obj) {\n   alert(' name=' + key + ' value=' + obj[key]);\n\n   // do some more stuff with obj[key]\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 54
                },
                {
                    "body": "<p>In JavaScript 1.8.5, <code>Object.getOwnPropertyNames</code> returns an array of all properties found directly upon a given object.  </p>\n\n<pre><code>Object.getOwnPropertyNames ( obj )\n</code></pre>\n\n<p>and another method <code>Object.keys</code>, which returns an array containing the names of all of the given object's <strong>own</strong> enumerable properties.</p>\n\n<pre><code>Object.keys( obj )\n</code></pre>\n\n<p>I used <code>forEach</code> to list values and keys in obj, same as <code>for (var key in obj) ..</code></p>\n\n<pre><code>[].forEach.call( Object.keys( obj ), function( key ){    \n    console.log( key , obj[key] );\n});\n</code></pre>\n\n<p>This all are new features in ECMAScript , the mothods <code>getOwnPropertyNames</code>, <code>keys</code> won't supports old browser's.</p>\n",
                    "is_accepted": false,
                    "score": 13
                }
            ],
            "body": "<p>I would like to get the property names from a JSON object to build a table dynamically</p>\n\n<p>example: </p>\n\n<pre><code>var obj = { 'fname': 'joe', 'lname': 'smith', 'number': '34' };\n\nfor (var i = 0; i &lt; obj.properties.length; i++) {\n    alert(' name=' + obj.properties[i].name \n        + ' value=' + obj.properties[i].value);\n}\n</code></pre>\n\n<p>would alert </p>\n\n<p>name=fname value=joe</p>\n\n<p>name=lname value=smith</p>\n\n<p>name=number value=34</p>\n\n<p><hr></p>\n\n<p>then I could build a table using json like this</p>\n\n<pre><code>var obj = { 'players': [ \n     { 'fname': 'joe', 'lname': 'smith', 'number': '34'} , \n     { 'fname': 'jim', 'lname': 'Hoff', 'number': '12'} , \n     { 'fname': 'jack', 'lname': 'jones', 'number': '84'}   \n] };\n</code></pre>\n\n<p>to produce...</p>\n\n<p>fname lname number</p>\n\n<p>joe   smith 34</p>\n\n<p>jim   Hoff  12</p>\n\n<p>jack  jones 84</p>\n\n<h2>UPDATE</h2>\n\n<p>thanks to the answer I have produced a table from the json objects using the property names from the first object in the list for the headers</p>\n\n<pre><code>    function renderData() {\n        var obj = { 'players': [\n            { 'fname': 'joe', 'lname': 'smith', 'number': '34' },\n            { 'fname': 'jim', 'lname': 'jones', 'number': '12' },\n            { 'fname': 'jack', 'lname': 'Hoff', 'number': '84' } \n            ] };\n\n        var cols = GetHeaders(obj); \n\n        $('#Output').html(CreateTable(obj, cols));\n    }\n\n\n    function CreateTable(obj, cols) {\n        var table = $('&lt;table&gt;&lt;/table&gt;');\n        var th = $('&lt;tr&gt;&lt;/tr&gt;');\n        for (var i = 0; i &lt; cols.length; i++) {\n            th.append('&lt;th&gt;' + cols[i] + '&lt;/th&gt;');\n        }\n        table.append(th);\n\n        for (var j = 0; j &lt; obj.players.length; j++) {\n            var player = obj.players[j];\n            var tr = $('&lt;tr&gt;&lt;/tr&gt;');\n            for (var k = 0; k &lt; cols.length; k++) {\n                var columnName = cols[k];\n                tr.append('&lt;td&gt;' + player[columnName] + '&lt;/td&gt;');\n            }\n            table.append(tr);\n        }\n        return table;\n    }\n\n\n\n    function GetHeaders(obj) {\n        var cols = new Array();\n        var p = obj.players[0];\n        for (var key in p) {\n            //alert(' name=' + key + ' value=' + p[key]);\n            cols.push(key);\n        }\n        return cols;\n    }\n</code></pre>\n",
            "last_activity_date": 1377070389,
            "question_id": 1876485,
            "score": 31,
            "tags": [
                "javascript",
                "json"
            ],
            "title": "Get Property Names In JSON Objects"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Well, first of all, there really isn't any \"good\" answer to this question. All MVC libraries are good if you ask their creators :p\nThat said, I'd recommend you start reading the examples in <a href=\"http://todomvc.com/\" rel=\"nofollow\">TODO-MVC</a> so you can see how much code is required for a simple TO-DO web-application, and how complex is. Then decide yourself what are you willing to go with.\nMy personal recommendation is Backbone. Also, there are some complementary libraries that will  do (almost) magical stuff, like <a href=\"https://github.com/afeld/backbone-nested\" rel=\"nofollow\">Backbone Nested</a> for example.</p>\n\n<p>Good luck!</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>There is probably no objective answer, but here's my 2 cents:</p>\n\n<p>Backbone usually leads to much larger code bases that are more difficult to maintain. Similar to the anecdote in your links, I've worked on one project where the code shrank from 2500 lines with Backbone to 600 lines with Angular. Knockout probably would have yielded equally small (=good) results. My colleagues have moved away from Backbone to Knockout and were much happier afterwards.</p>\n\n<p>The advantage of Backbone is that it is really lightweight and gives you more options to structure things. That also means you can do more performance tuning, so it can be faster. Those very same aspects are also its disadvantage: You <strong>need</strong> to structure things yourself which means: more code, more complicated and potentially more bugs. </p>\n\n<p>Regarding the tests you mention: They are hardly objective, since they emphasize one very particular use case. Also, they were posted by the author of Backbone himself, so obviously they show Backbone in a good light. For normal UIs, performance should not be a problem no matter which of the 3 (Backbone, Angular, Knockout) you choose. One caveat for Angular: If you want to dynamically display more than 2000 elements on your page, it could be problematic (see the answer of Angular's creator himself here: <a href=\"http://stackoverflow.com/questions/9682092/databinding-in-angularjs\">Databinding in angularjs</a>).</p>\n\n<p>About Dart: Its goal is to be a language, not just a MV* framework within a language. That is a completely different beast and if you simply need a MV* framework, Dart would be overkill. Also, Dart is still very young and not natively supported in most browsers.</p>\n",
                    "is_accepted": true,
                    "score": 26
                }
            ],
            "body": "<p>I am quite newbie to web application, and more specifically to this <code>MV*</code>pattern. We are making a web application and we thinking of departing from jQuery, not completely, but we are trying to implement a client side language with MVC, MVVM, or MVP support. Basically something that separates views from model. Being new to this <code>MV*</code> pattern I stumbled upon <a href=\"http://codebrief.com/2012/01/the-top-10-javascript-mvc-frameworks-reviewed/\"><strong>this site</strong>.</a></p>\n\n<p>It basically list (almost!) all client side language/framework that support this <code>MV*</code> pattern, and after visiting it I am really confused. Because according to this site..</p>\n\n<blockquote>\n  <p>At the end of the day, Ember.js is the only framework which has\n  everything I desire. I recently ported a relatively small Backbone.js\n  application over to Ember.js and, despite some small performance\n  issues, I am much happier with the resulting code base. Being\n  championed by Yehuda Katz, the community around Ember.js is also\n  amazing. This is definitely the framework to watch out for.</p>\n</blockquote>\n\n<p>But on SO, I found <a href=\"http://stackoverflow.com/a/9408089\">this</a>, and it makes me think that angular is much better, while on SO again, <a href=\"http://stackoverflow.com/a/10264263\">this</a>, and <a href=\"http://stackoverflow.com/a/11260673\">this</a> which makes me think it might be backbone what I am looking for.</p>\n\n<p>To make the matter worse, the tests show totally different result.\nHere  </p>\n\n<p><a href=\"http://jsfiddle.net/HusVw/1/\">http://jsfiddle.net/HusVw/1/</a> <code>Backbone clear winner</code>  </p>\n\n<p><a href=\"http://jsfiddle.net/ericf/NrpcQ/\">http://jsfiddle.net/ericf/NrpcQ/</a> <code>Backbone winner again</code>  </p>\n\n<p><a href=\"http://jsperf.com/angular-vs-knockout-vs-extjs-vs-backbone/2\">http://jsperf.com/angular-vs-knockout-vs-extjs-vs-backbone/2</a> <code>angular winner for less data for more its knockout</code>  </p>\n\n<p><a href=\"http://jsperf.com/knockout-js-vs-direct-dom-manipulation/3\">http://jsperf.com/knockout-js-vs-direct-dom-manipulation/3</a> <code>Backbone again</code></p>\n\n<p><a href=\"http://jsperf.com/angular-vs-knockout-vs-ember/33\">http://jsperf.com/angular-vs-knockout-vs-ember/33</a> <code>no way its ember as the site mentioned</code></p>\n\n<p>So, basically this all is totally confusing me, I can't decide what in web's name I should learn, and what should I implement in the site. As in tests <code>Backbone</code> clearly stands out, but I've heard a lot about <code>knockout</code>, but the SO links I mentioned say about <code>angular</code>? I know it might be dependent on the application I am currently developing, but I want a broader view, what would be useful not only for this project, but for a longer term? In which case you'd prefer which framework? Or Should I just learn them all?(jk, can't really do that in a plausible time.)</p>\n\n<p>To make things more f*<em>*</em> up, I heard about <a href=\"http://www.dartlang.org/\">dart</a>, and <a href=\"http://en.wikipedia.org/wiki/Dart_%28programming_language%29\">wiki</a> says..</p>\n\n<blockquote>\n  <p>The goal of Dart is \"ultimately to replace JavaScript as the lingua\n  franca of web development on the open web platform.\"</p>\n</blockquote>\n\n<p>So if js is going to be replaced, why the hack I am even considering learning these js libraries/framework(s)?</p>\n\n<p>So, basically, its all messed up and I am totally confused? Can any one please help me decide?</p>\n",
            "last_activity_date": 1417532373,
            "question_id": 12955337,
            "score": 30,
            "tags": [
                "javascript",
                "web-applications",
                "backbone.js",
                "frameworks",
                "knockout.js"
            ],
            "title": "Angular.js Backbone.js and other MV* patterned js libraries?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>Does your images have exactly a 460px width as the span6 ? In my case, with different image sizes, I put a height attribute on my images to be sure they are all the same height and the carousel don't resize between images.</p>\n\n<p>In your case, try to set a height so the ratio between this height and the width of your carousel-inner div is the same as the aspectRatio of your images</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It could have something to do with your styles.  In my case, I am using a link within the parent \"item\" div, so I had to change my stylesheet to say the following:</p>\n\n<pre><code>.carousel .item a &gt; img {\n  display: block;\n  line-height: 1;\n}\n</code></pre>\n\n<p>under the preexisting boostrap code:</p>\n\n<pre><code>.carousel .item &gt; img {\n  display: block;\n  line-height: 1;\n}\n</code></pre>\n\n<p>and my image looks like:</p>\n\n<pre><code>&lt;div class=\"active item\" id=\"2\"&gt;&lt;a href=\"http://epdining.com/eats.php?place=TestRestaurant1\"&gt;&lt;img src=\"rimages/2.jpg\"&gt;&lt;/a&gt;&lt;div class=\"carousel-caption\"&gt;&lt;p&gt;This restaurant is featured blah blah blah blah blah.&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think I have a solution:</p>\n\n<p>In your personal style sheet page, assign the width &amp; height to <strong>match</strong> your image dimensions.</p>\n\n<p>Create an additional separate \"class\" on that top div that appropriates the space with spans...(Shown below) </p>\n\n<pre><code>        &lt;div class=\"span6 columns\" class=\"carousel\"&gt;\n            &lt;div id=\"myCarousel\" class=\"carousel slide\"&gt;\n                &lt;div class=\"carousel-inner\"&gt;\n                &lt;div class=\"item active\"&gt;\n</code></pre>\n\n<p>Without touching the bootstrap.css, in your own style sheet, call \"carousel\"(or whatever label you choose) to match the width and height of your original pix!</p>\n\n<pre><code>.carousel       {\n            width: 320px;\n            height: 200px;\n</code></pre>\n\n<p>}</p>\n\n<p>So in my case, I am using small 320x200 images to carousel with.  There is probably preset dimensions in the bootstrap.css, but I don't like changing that so I can try to stay current with future releases.  Hope this helps~~  </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>For the carousel, I believe all images have to be exactly the same height and width.  </p>\n\n<p>Also, when you refer back to the scaffolding page from bootstrap, I'm pretty sure that span16 = 940px.  With this in mind, I think we can assume that if you have a </p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n     &lt;div class=\"span4\"&gt; \n        &lt;!--left content div guessing around 235px in width --&gt;\n     &lt;/div&gt;\n     &lt;div class=\"span8\"&gt;\n        &lt;!--right content div guessing around 470px in width --&gt;\n     &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>So yes, you have to be careful when setting the spans space within a row because if the image width is to large, it will send your div over into the next \"row\" and that is no fun :P</p>\n\n<p><a href=\"http://twitter.github.com/bootstrap/scaffolding.html\" rel=\"nofollow\">Link 1</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>@Art L. Richards 's solution didn't work out.\nnow in bootstrap.css, original code has become like this.</p>\n\n<pre><code>.carousel .item &gt; img {\n  display: block;\n  line-height: 1;\n}\n</code></pre>\n\n<p>@rnaka530 's code would break the fluid feature of bootstrap.</p>\n\n<p>I don't have a good solution but I did fix it. I observed the bootstrap's carousel example very carefully <a href=\"http://twitter.github.com/bootstrap/javascript.html#carousel\" rel=\"nofollow\">http://twitter.github.com/bootstrap/javascript.html#carousel</a>. </p>\n\n<p>I find out that img width has to be larger than the grid width. In <code>span9</code>, width is up to 870px, so you have to prepare a image larger than 870px. If you have more container outside the img, as all the container has border or margin something, you can use image with smaller width. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I faced the same problem and solved it this way:\nIt's possible to insert non-image content to Carousel, so we can use it.\nYou should first insert <strong><code>div.inner-item</code></strong> (where you will make center alignment), and then insert image inside this div.</p>\n\n<p>Here is my code (Ruby):</p>\n\n<pre><code>&lt;div id=\"myCarousel\" class=\"carousel slide\"&gt;\n    &lt;!-- Carousel items --&gt;\n    &lt;div class=\"carousel-inner\"&gt;\n        &lt;div class=\"active item\"&gt;\n            &lt;%= image_tag \"couples/1.jpg\" %&gt;\n        &lt;/div&gt; \n        &lt;% (2..55).each do |t|%&gt;\n            &lt;div class=\"item\"&gt;\n                &lt;div class='inner-item'&gt;\n                    &lt;%= image_tag \"couples/#{t}.jpg\" %&gt;\n                &lt;/div&gt;\n            &lt;/div&gt; \n        &lt;% end -%&gt;\n    &lt;/div&gt;\n    &lt;!-- Carousel nav --&gt;\n    &lt;a class=\"carousel-control left\" href=\"#myCarousel\" data-slide=\"prev\"&gt;&amp;lsaquo;&lt;/a&gt;\n    &lt;a class=\"carousel-control right\" href=\"#myCarousel\" data-slide=\"next\"&gt;&amp;rsaquo;&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And my css-code(.scss):</p>\n\n<pre><code>.inner-item {\n    text-align: center;\n    img {\n        margin: 0 auto;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>Insert this on the css parent div class where your carousel is. </p>\n\n<pre><code>&lt;div class=\"parent_div\"&gt;\n     &lt;div id=\"myCarousel\" class=\"carousel slide\"&gt;\n            &lt;div class=\"carousel-inner\"&gt;\n              &lt;div class=\"item active\"&gt;\n                &lt;img src=\"assets/img/slider_1.png\" alt=\"\"&gt;\n                &lt;div class=\"carousel-caption\"&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n     &lt;/div&gt;      \n&lt;/div&gt;\n</code></pre>\n\n<p>CSS</p>\n\n<pre><code>.parent_div { \nmargin: 0 auto;\nmin-width: [desired width];\nmax-width: [desired width];\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The solution is to put that css code into your custom css file</p>\n\n<p><code>.carousel-inner &gt; .item &gt; img {\n    margin: 0 auto;\n}</code></p>\n",
                    "is_accepted": false,
                    "score": 62
                },
                {
                    "body": "<p>While <a href=\"http://stackoverflow.com/a/13923777/146622\">vekozlov</a>'s answer will work in Bootstrap 3 to center your image, it will break when the carousel is scaled down: the image retains its size instead of scaling down with the carousel.</p>\n\n<p>Instead, do this on the top-level carousel <code>div</code>:</p>\n\n<pre><code>&lt;div id=\"my-carousel\" class=\"carousel slide\"\n    style=\"max-width: 900px; margin: 0 auto\"&gt;\n    ...\n&lt;/div&gt;\n</code></pre>\n\n<p>This will center the entire carousel and prevent it from growing beyond the width of your images (i.e. 900 px or whatever you want to set it to). However, when the carousel is scaled down the images scale down with it.</p>\n\n<p>You should put this styling info in your CSS/LESS file, of course.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>With bootstrap 3, just add the responsive and center classes:</p>\n\n<pre><code> &lt;img class=\"img-responsive center-block\" src=\"img/....jpg\" alt=\"First slide\"&gt;\n</code></pre>\n\n<p>This automatically does image resizing, and centers the picture.</p>\n",
                    "is_accepted": false,
                    "score": 11
                }
            ],
            "body": "<p>Please take a look at the following image, we are using bootstrap carousel to rotate the images.\nHowever, when the window width is large, the image doesn't align with the border properly.</p>\n\n<p>But the carousel example provided by bootstrap always works fine, no matter the width of the window. Following the code. </p>\n\n<p>Can someone explain why carousel is behaving differently?\nIs this anything to do with Image size or some bootstrap config is missing?</p>\n\n<pre><code>&lt;section id=\"carousel\"&gt;\n&lt;div class=\"hero-unit span6 columns\"&gt;\n    &lt;h2&gt;Welcome to TACT !&lt;/h2&gt;\n    &lt;div id=\"myCarousel\" class=\"carousel  slide\" &gt;\n      &lt;!-- Carousel items --&gt;\n      &lt;div class=\"carousel-inner\"&gt;\n        &lt;div class=\"item  active\" &gt;\n            &lt;img alt=\"\"  src=\"/eboxapps/img/3pp-1.png\"&gt;\n            &lt;div class=\"carousel-caption\"&gt;\n                &lt;h4&gt;1. Need a 3rd party jar?&lt;/h4&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"item\"&gt;\n            &lt;img alt=\"\"  src=\"/eboxapps/img/3pp-2.png\"&gt;\n            &lt;div class=\"carousel-caption\"&gt;\n                &lt;h4&gt;2. Create Request&lt;/h4&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"item\"&gt;\n            &lt;img alt=\"\"  src=\"/eboxapps/img/3pp-3.png\"&gt;\n            &lt;div class=\"carousel-caption\"&gt;\n                &lt;h4&gt;3. What happens?&lt;/h4&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"item\"&gt;\n            &lt;img alt=\"\"  src=\"/eboxapps/img/3pp-4.png\"&gt;\n            &lt;div class=\"carousel-caption\"&gt;\n                &lt;h4&gt;4. Status is Emailed&lt;/h4&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;!-- Carousel nav --&gt;\n      &lt;a class=\"carousel-control left\" href=\"#myCarousel\" data-slide=\"prev\"&gt;&amp;lsaquo;&lt;/a&gt;\n      &lt;a class=\"carousel-control right\" href=\"#myCarousel\" data-slide=\"next\"&gt;&amp;rsaquo;&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p><img src=\"http://i.stack.imgur.com/SJaUs.png\" alt=\"carousel image\"></p>\n",
            "last_activity_date": 1408732632,
            "question_id": 10591422,
            "score": 30,
            "tags": [
                "javascript",
                "jquery",
                "twitter-bootstrap",
                "carousel"
            ],
            "title": "Bootstrap Carousel image doesn&#39;t align properly"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>The behaviour you are experiencing is correct, and your algorithm isn't breaking. Firstly CSS3 Transforms are designed not to interfere with the box model.</p>\n\n<p>To try and explain...</p>\n\n<p>When you apply a CSS3 Transform on an element. the Element assumes a kind of relative positioning. In that the surrounding elements are not effected by the transformed element.</p>\n\n<p>e.g. imagine three div's in a horizontal row. If you apply a scale transform to decrease the size of the centre div. The surrounding div's will not move inwards to occupy the space that was once occupied the transformed element. </p>\n\n<p>example: <a href=\"http://jsfiddle.net/AshMokhberi/bWwkC/\" rel=\"nofollow\">http://jsfiddle.net/AshMokhberi/bWwkC/</a></p>\n\n<p>So in the box model, the element does not actually change size. Only it's rendered size changes.</p>\n\n<p>You also have to keep in mind that you are applying a scale Transform, so your elements \"real\" size is actually the same as it's original size. You are only changing it's perceived size.</p>\n\n<p>To explain..</p>\n\n<p>Imagine you create a div with a width of 1000px and scale it down to 1/2 the size. The internal size of the div is still 1000px, not 500px. </p>\n\n<p>So the position of your dots are correct relative to the div's \"real\" size.</p>\n\n<p>I modified your example to illustrate. </p>\n\n<p>Instructions</p>\n\n<ol>\n<li>Click the div and keep you mouse in the same position.</li>\n<li>Find the dot in the wrong position.</li>\n<li>Press Q, the div will become the correct size.</li>\n<li>Move your mouse to find the dot in the correct position to where you clicked.</li>\n</ol>\n\n<p><a href=\"http://jsfiddle.net/AshMokhberi/EwQLX/\" rel=\"nofollow\">http://jsfiddle.net/AshMokhberi/EwQLX/</a></p>\n\n<p>So in order to make the mouse clicks co-ordinates match the visible location on the div, you need to understand that the mouse is giving back co-ordinates based on the window, and your div offsets are also based on its \"real\" size.</p>\n\n<p>As your object size is relative to the window the only solution is to scale the offset co-ordinates by the same scale value as your div.</p>\n\n<p>However this can get tricky based on where you set the Transform-origin property of your div. As that is going to effect the offsets.</p>\n\n<p>See here.</p>\n\n<p><a href=\"http://jsfiddle.net/AshMokhberi/KmDxj/\" rel=\"nofollow\">http://jsfiddle.net/AshMokhberi/KmDxj/</a></p>\n\n<p>Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>if element is container and positioned absolute or relative,\nyou can place inside of it element, \nposition it relative to parent and \nwidth = 1px, height = 1px, and move to inside of container,\nand after each move use document.elementFromPoint(event.clientX, event.clientY)  =))))</p>\n\n<p>You can use binary search to make it faster.\nlooks terrible, but it works</p>\n\n<p><a href=\"http://jsfiddle.net/3VT5N/3/\">http://jsfiddle.net/3VT5N/3/</a> - demo</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<blockquote>\n  <p>another way is place 3 divs in corners of that element,\n  than find transform matrix ... but is also works only for positioned containerable\n  elements \u2013 4esn0k</p>\n</blockquote>\n\n<p>demo: <a href=\"http://jsfiddle.net/dAwfF/3/\" rel=\"nofollow\">http://jsfiddle.net/dAwfF/3/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To get the coordinates of a <code>MouseEvent</code> relative to the clicked element, use <code>offsetX</code> / <code>layerX</code>.</p>\n\n<p>Have you tried using <code>ev.layerX</code> or <code>ev.offsetX</code>? </p>\n\n<pre>var offsetX = (typeof ev.offsetX == \"number\") ? ev.offsetX : ev.layerX || 0;</pre>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"http://dev.w3.org/csswg/cssom-view/#extensions-to-the-mouseevent-interface\" rel=\"nofollow\">CSSOM View Module: 9 Extensions to the MouseEvent Interface</a></li>\n<li>IE 8 measures <code>clientX</code> from the element's padding edge instead of the content edge: <a href=\"http://www.gtalbot.org/BrowserBugsSection/Opera11Bugs/Opera7BugOffsetXY.html\" rel=\"nofollow\">GTalbot MSIE 8 Browser Bugs: event.offsetX, event.offsetY as mouse coordinates inside element target's padding-box</a></li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/ms534305.aspx\" rel=\"nofollow\">MSDN: offsetX Property</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Also, for Webkit <a href=\"http://developer.apple.com/library/safari/#documentation/DataManagement/Reference/DOMWindowAdditionsReference/DOMWindowAdditions/DOMWindowAdditions.html\" rel=\"nofollow\">webkitConvertPointFromPageToNode</a> method can be used:</p>\n\n<pre><code>var div = document.createElement('div'), scale, point;\ndiv.style.cssText = 'position:absolute;left:-1000px;top:-1000px';\ndocument.body.appendChild(div);\nscale = webkitConvertPointFromNodeToPage(div, new WebKitPoint(0, 0));\ndiv.parentNode.removeChild(div);\nscale.x = -scale.x / 1000;\nscale.y = -scale.y / 1000;\npoint = webkitConvertPointFromPageToNode(element, new WebKitPoint(event.pageX * scale.x, event.pageY * scale.y));\npoint.x = point.x / scale.x;\npoint.y = point.y / scale.x;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>BY FAR the fastest. The accepted answer takes about 40-70 ms on my 3d transforms site, this usually takes less than 20:</p>\n\n<pre><code>function getOffset(event,elt){\n    var st=new Date().getTime();\n    var iterations=0;\n    //if we have webkit, then use webkitConvertPointFromPageToNode instead\n    if(webkitConvertPointFromPageToNode){\n        var webkitPoint=webkitConvertPointFromPageToNode(elt,new WebKitPoint(event.clientX,event.clientY));\n        //if it is off-element, return null\n        if(webkitPoint.x&lt;0||webkitPoint.y&lt;0)\n            return null;\n        return {\n            x: webkitPoint.x,\n            y: webkitPoint.y,\n            time: new Date().getTime()-st\n        }\n    }\n    //make full-size element on top of specified element\n    var cover=document.createElement('div');\n    //add styling\n    cover.style.cssText='height:100%;width:100%;opacity:0;position:absolute;z-index:5000;';\n    //and add it to the document\n    elt.appendChild(cover);\n    //make sure the event is in the element given\n    if(document.elementFromPoint(event.clientX,event.clientY)!==cover){\n        //remove the cover\n        cover.parentNode.removeChild(cover);\n        //we've got nothing to show, so return null\n        return null;\n    }\n    //array of all places for rects\n    var rectPlaces=['topleft','topcenter','topright','centerleft','centercenter','centerright','bottomleft','bottomcenter','bottomright'];\n    //function that adds 9 rects to element\n    function addChildren(elt){\n        iterations++;\n        //loop through all places for rects\n        rectPlaces.forEach(function(curRect){\n            //create the element for this rect\n            var curElt=document.createElement('div');\n            //add class and id\n            curElt.setAttribute('class','offsetrect');\n            curElt.setAttribute('id',curRect+'offset');\n            //add it to element\n            elt.appendChild(curElt);\n        });\n        //get the element form point and its styling\n        var eltFromPoint=document.elementFromPoint(event.clientX,event.clientY);\n        var eltFromPointStyle=getComputedStyle(eltFromPoint);\n        //Either return the element smaller than 1 pixel that the event was in, or recurse until we do find it, and return the result of the recursement\n        return Math.max(parseFloat(eltFromPointStyle.getPropertyValue('height')),parseFloat(eltFromPointStyle.getPropertyValue('width')))&lt;=1?eltFromPoint:addChildren(eltFromPoint);\n    }\n    //this is the innermost element\n    var correctElt=addChildren(cover);\n    //find the element's top and left value by going through all of its parents and adding up the values, as top and left are relative to the parent but we want relative to teh wall\n    for(var curElt=correctElt,correctTop=0,correctLeft=0;curElt!==cover;curElt=curElt.parentNode){\n        //get the style for the current element\n        var curEltStyle=getComputedStyle(curElt);\n        //add the top and left for the current element to the total\n        correctTop+=parseFloat(curEltStyle.getPropertyValue('top'));\n        correctLeft+=parseFloat(curEltStyle.getPropertyValue('left'));\n    }\n    //remove all of the elements used for testing\n    cover.parentNode.removeChild(cover);\n    //the returned object\n    var returnObj={\n        x: correctLeft,\n        y: correctTop,\n        time: new Date().getTime()-st,\n        iterations: iterations\n    }\n    return returnObj;\n}\n</code></pre>\n\n<p>and also include the following CSS in the same page:</p>\n\n<pre><code>.offsetrect{\n    position: absolute;\n    opacity: 0;\n    height: 33.333%;\n    width: 33.333%;\n}\n#topleftoffset{\n    top: 0;\n    left: 0;\n}\n#topcenteroffset{\n    top: 0;\n    left: 33.333%;\n}\n#toprightoffset{\n    top: 0;\n    left: 66.666%;\n}\n#centerleftoffset{\n    top: 33.333%;\n    left: 0;\n}\n#centercenteroffset{\n    top: 33.333%;\n    left: 33.333%;\n}\n#centerrightoffset{\n    top: 33.333%;\n    left: 66.666%;\n}\n#bottomleftoffset{\n    top: 66.666%;\n    left: 0;\n}\n#bottomcenteroffset{\n    top: 66.666%;\n    left: 33.333%;\n}\n#bottomrightoffset{\n    top: 66.666%;\n    left: 66.666%;\n}\n</code></pre>\n\n<p>It essentially splits the element into 9 squares, determines which one the click was in via <code>document.elementFromPoint</code>. It then splits that into 9 smaller squares, etc until it is accurate to within a pixel. I know I over-commented it. The accepted answer is several times slower than this.</p>\n\n<p>EDIT: It is now even faster, and if the user is in Chrome or Safari it will use a native function designed for this instead of the 9 sectors thingy and can do it consistently in LESS THAN 2 MILLISECONDS!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h2>Works fine whether relative or absolute :) simple solution</h2>\n\n<pre><code>var p = $( '.divName' );\nvar position = p.position();  \nvar left = (position.left  / 0.5);\nvar top =  (position.top  / 0.5);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This seems to work really well for me</p>\n\n<pre><code>var elementNewXPosition = (event.offsetX != null) ? event.offsetX : event.originalEvent.layerX;\nvar elementNewYPosition = (event.offsetY != null) ? event.offsetY : event.originalEvent.layerY; \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want to detect <strong>where</strong> a <code>MouseEvent</code> has occurred, in <strong>coordinates relative to the clicked element</strong>. Why? Because I want to add an absolutely positioned child element at the clicked location.</p>\n\n<p>I know how to detect it when no CSS3 transformations exist (see description below). However, when I add a CSS3 Transform, then my algorithm breaks, and I don't know how to fix it.</p>\n\n<p>I'm not using any JavaScript library, and I want to understand how things work in plain JavaScript. So, please, don't answer with \"just use jQuery\".</p>\n\n<p>By the way, I want a solution that works for all MouseEvents, not just \"click\". Not that it matters, because I believe all mouse events share the same properties, thus the same solution should work for all of them.</p>\n\n<hr>\n\n<h2>Background information</h2>\n\n<p>According to <a href=\"http://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-eventgroupings-mouseevents\">DOM Level 2 specification</a>, a <a href=\"https://developer.mozilla.org/en/DOM/Event/UIEvent/MouseEvent\"><code>MouseEvent</code></a> has few properties related to getting the event coordinates:</p>\n\n<ul>\n<li><code>screenX</code> and <code>screenY</code> return the screen coordinates (the origin is the top-left corner of user's monitor)</li>\n<li><code>clientX</code> and <code>clientY</code> return the coordinates relative the document viewport.</li>\n</ul>\n\n<p>Thus, in order to find the position of the <code>MouseEvent</code> relative to the clicked element content, I must do this math:</p>\n\n<pre><code>ev.clientX - this.getBoundingClientRect().left - this.clientLeft + this.scrollLeft\n</code></pre>\n\n<ul>\n<li><code>ev.clientX</code> is the coordinate relative to the document viewport</li>\n<li><code>this.getBoundingClientRect().left</code> is the position of the element relative to the document viewport</li>\n<li><code>this.clientLeft</code> is the amount of border (and scrollbar) between the element boundary and the inner coordinates</li>\n<li><code>this.scrollLeft</code> is the amount of scrolling inside the element</li>\n</ul>\n\n<p><a href=\"https://developer.mozilla.org/en/DOM/element.getBoundingClientRect\"><code>getBoundingClientRect()</code></a>, <a href=\"https://developer.mozilla.org/en/DOM/element.clientLeft\"><code>clientLeft</code></a> and <a href=\"https://developer.mozilla.org/en/DOM/element.scrollLeft\"><code>scrollLeft</code></a> are specified at <a href=\"http://www.w3.org/TR/cssom-view/#extensions-to-the-element-interface\">CSSOM View Module</a>.</p>\n\n<h2>Experiment without CSS Transform (it works)</h2>\n\n<p>Confusing? <a href=\"http://jsfiddle.net/7CKyT/5/\">Try the following piece of JavaScript and HTML</a>. Upon clicking, a red dot should appear exactly where the click has happened. This version is \"quite simple\" and works as expected.</p>\n\n<pre><code>function click_handler(ev) {\n    var rect = this.getBoundingClientRect();\n    var left = ev.clientX - rect.left - this.clientLeft + this.scrollLeft;\n    var top = ev.clientY - rect.top - this.clientTop + this.scrollTop;\n\n    var dot = document.createElement('div');\n    dot.setAttribute('style', 'position:absolute; width: 2px; height: 2px; top: '+top+'px; left: '+left+'px; background: red;');\n    this.appendChild(dot);\n}\n\ndocument.getElementById(\"experiment\").addEventListener('click', click_handler, false);\n\n&lt;div id=\"experiment\" style=\"border: 5px inset #AAA; background: #CCC; height: 400px; position: relative; overflow: auto;\"&gt;\n    &lt;div style=\"width: 900px; height: 2px;\"&gt;&lt;/div&gt; \n    &lt;div style=\"height: 900px; width: 2px;\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<h2>Experiment adding a CSS Transform (it fails)</h2>\n\n<p>Now, <a href=\"http://jsfiddle.net/7CKyT/6/\">try adding a CSS <code>transform</code></a>:</p>\n\n<pre><code>#experiment {\n    transform: scale(0.5);\n    -moz-transform: scale(0.5);\n    -o-transform: scale(0.5);\n    -webkit-transform: scale(0.5);\n    /* Note that this is a very simple transformation. */\n    /* Remember to also think about more complex ones, as described below. */\n}\n</code></pre>\n\n<p>The algorithm doesn't know about the transformations, and thus calculates a wrong position. What's more, the results are different between Firefox 3.6 and Chrome 12. Opera 11.50 behaves just like Chrome.</p>\n\n<p>In this example, the only transformation was scaling, so I could multiply the scaling factor to calculate the correct coordinate. However, if we think about arbitrary transformations (scale, rotate, skew, translate, matrix), and even nested transformations (a transformed element inside another transformed element), then we really need a better way to calculate the coordinates.</p>\n",
            "last_activity_date": 1421939385,
            "question_id": 6773481,
            "score": 29,
            "tags": [
                "javascript",
                "css",
                "html5",
                "css3",
                "transform"
            ],
            "title": "How to get the MouseEvent coordinates for an element that has CSS3 Transform?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Backbone's sync triggers an 'error' event when errors occur.  So one approach you could take is to extend Backbone's Model and Collection objects to add these add-on error checks.  It would look something like this:</p>\n\n<pre><code>ErrorHandlingModel = Backbone.Model.extend({\n\n    initialize: function(attributes, options) {\n        options || (options = {});\n        this.bind(\"error\", this.defaultErrorHandler);\n        this.init &amp;&amp; this.init(attributes, options);\n    },\n\n    defaultErrorHandler: function(model, error) {\n        if (error.status == 401 || error.status == 403) {\n            // trigger event or route to login here.\n        }\n    }\n\n});\n\nOtherModel = ErrorHandlingModel.extend({\n});\n</code></pre>\n\n<p>and you would do something similar for the Collection object.  I haven't tested the above, but think its pretty close.  Obviously, you would choose better class names.  The init method just enables subclasses to get a chance to do their own initialization.</p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>Use jQuery directly for this.</p>\n\n<pre><code>$(document).ajaxError(function (e, xhr, options) {\n  // do your stuff\n});\n</code></pre>\n\n<p>You can do the same thing for CSRF in rails for exemple (using ajaxSend).</p>\n\n<p>You can read more here: <a href=\"http://api.jquery.com/jQuery.ajax#advanced-options\" rel=\"nofollow\">http://api.jquery.com/jQuery.ajax#advanced-options</a></p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>What I found is possibly the \"most right way\" in Backbone:</p>\n\n<pre><code>var GeneralErrorView = Backbone.View.extend({\n  events: {\n    'ajaxError': 'handleAjaxError'\n  },\n  handleAjaxError: function (event, request, settings, thrownError) {\n    //...handling goes here\n  }\n});\n\nthis.view = GeneralErrorView({el: document});\n</code></pre>\n\n<p>You can put any error handling logic without extending Models or Collections. Make use of Backbone.Events inside handler and transmit messages to other error handlers or something like that.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>You can handle this via the jQuery .ajaxSetup method. We have an identical situation (backbone app which may get a 401 error at any time) and we handle it by using jQuery's ajaxSetup in the entry point of our app:</p>\n\n<pre><code>var appView = new AppView(options);\n\n$.ajaxSetup({\n    cache: false,\n    statusCode: {\n        401: function () {\n            appView.signIn();\n        }\n    }\n});\n\nappView.render();\n\nBackbone.history.start({ root: config.rootUrl, pushState: true });\n</code></pre>\n\n<p>This approach gives global error handling without the need to extend the Backbone base classes. </p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Is there way to bind one error handler for ajax requests that performs by backbone.js?</p>\n\n<p>My situation: I can get 401 (Unauthorized) at any time, so I need to show login popup.</p>\n",
            "last_activity_date": 1384442174,
            "question_id": 6150514,
            "score": 28,
            "tags": [
                "javascript",
                "rest",
                "backbone.js"
            ],
            "title": "Global error handler for backbone.js ajax requests"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p><code>jQuery.each</code> is just looping over the array, it doesn't do anything with the return value<sup>\u2206</sup>. You are looking for <a href=\"http://api.jquery.com/jQuery.map/\"><code>jQuery.map</code></a> (I also think that <code>get()</code> is unnecessary as you are not dealing with jQuery objects):</p>\n\n<pre><code>var blkstr = $.map(value, function(val,index) {                    \n     var str = index + \":\" + val;\n     return str;\n}).join(\", \");  \n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/fkling/bchG5/\"><strong>DEMO</strong></a></p>\n\n<hr>\n\n<p>But why use jQuery at all in this case? <code>map</code> only introduces an unnecessary function call per element.</p>\n\n<pre><code>var values = [];\n\nfor(var i = 0, l = value.length; i &lt; l; i++) {\n    values.push(i + ':' + value[i]);\n}\n\n// or if you actually have an object:\n\nfor(var id in value) {\n    if(value.hasOwnProperty(id)) {\n        values.push(id + ':' + value[id]);\n    }\n}\n\nvar blkstr = values.join(', ');\n</code></pre>\n\n<hr>\n\n<p>\u2206: It only uses the return value whether it should continue to loop over the elements or not. Returning a \"falsy\" value will stop the loop.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<pre><code>var arr = new Array();\n\nvar blkstr = $.each([1, 2, 3], function(idx2,val2) {                    \n    arr.push(idx2 + \":\" + val2);\n    return arr;\n}).join(', ');\n\nconsole.log(blkstr);\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>var arr = new Array();\n\n$.each([1, 2, 3], function(idx2,val2) {                    \n    arr.push(idx2 + \":\" + val2);\n\n});\n\nconsole.log(arr.join(', '));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If <code>value</code> is associative array, such code will work fine:</p>\n\n<pre><code>var value = { \"aaa\": \"111\", \"bbb\": \"222\", \"ccc\": \"333\" };\nvar blkstr = [];\n$.each(value, function(idx2,val2) {                    \n     var str = idx2 + \":\" + val2;\n     blkstr.push(str);\n});\nalert(blkstr.join(\", \"));\n</code></pre>\n\n<p>As Felix mentioned, <code>each()</code> is just iterating the array, nothing more.</p>\n\n<p><a href=\"http://jsfiddle.net/yahavbr/XWCv8/1/\">Live test case</a>.</p>\n",
                    "is_accepted": true,
                    "score": 56
                },
                {
                    "body": "<p><strong>Converting From Array to String is So Easy !</strong></p>\n\n<pre><code>var A = ['Sunday','Monday','Tuesday','Wednesday','Thursday']\narray = A + \"\"\n</code></pre>\n\n<p>That's it Now A is a string. :)</p>\n",
                    "is_accepted": false,
                    "score": 50
                },
                {
                    "body": "<p>this's my function, convert object or array to json </p>\n\n<pre><code>function obj2json(_data){\n    str = '{ ';\n    first = true;\n    $.each(_data, function(i, v) { \n        if(first != true)\n            str += \",\";\n        else first = false;\n        if ($.type(v)== 'object' )\n            str += \"'\" + i + \"':\" + obj2arr(v) ;\n        else if ($.type(v)== 'array')\n            str += \"'\" + i + \"':\" + obj2arr(v) ;\n        else{\n            str +=  \"'\" + i + \"':'\" + v + \"'\";\n        }\n    });\n    return str+= '}';\n}\n</code></pre>\n\n<p>i just edit to v0.2 ^.^</p>\n\n<pre><code> function obj2json(_data){\n    str = (($.type(_data)== 'array')?'[ ': '{ ');\n    first = true;\n    $.each(_data, function(i, v) { \n        if(first != true)\n            str += \",\";\n        else first = false;\n        if ($.type(v)== 'object' )\n            str += '\"' + i + '\":' + obj2json(v) ;\n        else if ($.type(v)== 'array')\n            str += '\"' + i + '\":' + obj2json(v) ;\n        else{\n            if($.type(_data)== 'array')\n                str += '\"' + v + '\"';\n            else\n                str +=  '\"' + i + '\":\"' + v + '\"';\n        }\n    });\n    return str+= (($.type(_data)== 'array')? ' ] ':' } ');;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can use <code>.toString()</code> to join an array with a comma.</p>\n\n<pre><code>var array = ['a', 'b', 'c'];\narray.toString(); // result: a,b,c\n</code></pre>\n\n<p>Or, set the separator with <code>array.join('; '); // result: a; b; c</code>. </p>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>convert an array to a GET param string that can be appended to a url could be done as follows </p>\n\n<pre><code>function encodeGet(array){\n    return getParams = $.map(array , function(val,index) {                    \n        var str = index + \"=\" + escape(val);\n        return str;\n   }).join(\"&amp;\");\n}\n</code></pre>\n\n<p>call this function as</p>\n\n<pre><code>var getStr = encodeGet({\n    search:     $('input[name=\"search\"]').val(),\n    location:   $('input[name=\"location\"]').val(),\n    dod:        $('input[name=\"dod\"]').val(),\n    type:       $('input[name=\"type\"]').val()\n});\nwindow.location = '/site/search?'+getStr;\n</code></pre>\n\n<p>which will forward the user to the /site/search? page with the get params outlined in the array given to encodeGet.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>not sure if this is what you wanted but</p>\n\n<pre><code>var arr = [A, B, C];\nvar arrString = arr.join(\"\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Shouldn't confuse Array's with Lists...\nThis is a list: {...} and has no length, or other Array properties.</p>\n\n<p>This is an Array: [...] and you can use array functions, methods and so, like someone suggested here: someArray.toString();</p>\n\n<p>\"someObj.toString();\" just will not work on any other objects type, like Lists. ;-)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to iterate over a \"value\" list and convert it into a string. Here is the code: </p>\n\n<pre><code>var blkstr = $.each(value, function(idx2,val2) {                    \n     var str = idx2 + \":\" + val2;\n     alert(str);\n     return str;\n}).get().join(\", \");    \n</code></pre>\n\n<p>alert() function works just fine and displays the proper value. But somehow, jquery's .get() function doesn't get the right sort of object and fails. What am I doing wrong?</p>\n",
            "last_activity_date": 1392842284,
            "question_id": 5289403,
            "score": 27,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Jquery : Convert javascript array to string"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>That's not valid JavaScript, it should be:</p>\n\n<pre><code>$(document).ready(function() {\n</code></pre>\n\n<p>So JSLint will (appropriately) complain about your syntax.</p>\n\n<p>If you want to get rid of the <code>Implied global: $, document</code> message, go to the bottom where it has <strong>Predefined (, separated)</strong>, and put <code>jQuery, $</code> in that textbox then run again. For the <code>document</code> piece, check <strong>Assume a browser</strong> in the first column.</p>\n\n<p>All JSLint settings will stick, so you don't have to do this each time you go back.</p>\n",
                    "is_accepted": true,
                    "score": 36
                },
                {
                    "body": "<p>Nick is correct about your syntax.  The latest release of jQuery (1.4.3) passes JSLint tests.  See this blog post: <a href=\"http://blog.jquery.com/2010/10/16/jQuery-143-released/\" rel=\"nofollow\">http://blog.jquery.com/2010/10/16/jQuery-143-released/</a> </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>According to the jquery blog, it jquery library passes jslint as of <a href=\"http://blog.jquery.com/2010/10/16/jquery-143-released/\" rel=\"nofollow\">1.4.3</a>.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Add this at the top of your document to get it to validate:</p>\n\n<pre><code>/*jslint browser: true*/ /*global  $*/\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                }
            ],
            "body": "<p>I wanted to check my JavaScript with JSLint. I am also using jQuery and JSLint seems to be very unhappy about jQuery.</p>\n\n<p>So, if I have this code:</p>\n\n<pre><code>$(document).ready{\n    $(\"a\").click(function() {\n        // foo\n    });\n});\n</code></pre>\n\n<p>I am getting a few JSLint messages:</p>\n\n<blockquote>\n  <p><em>Error:</em></p>\n  \n  <p>Problem at line 1 character 1: '$' was used before it was defined.</p>\n\n<pre><code>$(document).ready{\n</code></pre>\n  \n  <p>...</p>\n</blockquote>\n\n<p>I had a look at the options but I couldn't figure out how to tell JSLint that this is ok.</p>\n\n<p>If I had only one jQuery call in my code I could just ignore the JSLint message but in 2,500 lines of script there are lots of calls, I can't find the errors I'd like to fix between all these messages. </p>\n\n<p>So, does anyone know how to configure JSLint such that it works with jQuery calls? Or is there something else I can use to check the quality of my JavaScript/jQuery code?</p>\n",
            "last_activity_date": 1337412380,
            "question_id": 4071467,
            "score": 27,
            "tags": [
                "javascript",
                "jquery",
                "jslint"
            ],
            "title": "Is it possible to validate my jQuery JavaScript with JSLint?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Lock is a questionable idea in JS which is intended to be threadless and not needing concurrency protection. You're looking to combine calls on deferred execution. The pattern I follow for this is the use of callbacks. Something like this:</p>\n\n<pre><code>var functionLock = false;\nvar functionCallbacks = [];\nvar lockingFunction = function (callback) {\n    if (functionLock) {\n        functionCallbacks.push(callback);\n    } else {\n        $.longRunning(function(response) {\n             while(functionCallbacks.length){\n                 var thisCallback = functionCallbacks.pop();\n                 thisCallback(response);\n             }\n        });\n    }\n}\n</code></pre>\n\n<p>You can also implement this using DOM event listeners or a <a href=\"http://higginsforpresident.net/projects/\">pubsub</a> solution.</p>\n",
                    "is_accepted": true,
                    "score": 42
                },
                {
                    "body": "<p>JavaScript is, with a very few exceptions (<code>XMLHttpRequest</code> <code>onreadystatechange</code> handlers in some versions of Firefox) <a href=\"http://www.erights.org/elib/concurrency/event-loop.html\">event-loop concurrent</a>.  So you needn't worry about locking in this case.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Why don't you disable the button and enable it after you finish the event?</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;input type=\"button\" id=\"xx\" onclick=\"checkEnableSubmit('true');yourFunction();\"&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\nfunction checkEnableSubmit(status) {  \n  document.getElementById(\"xx\").disabled = status;\n}\n\nfunction yourFunction(){\n\n//add your functionality\n\ncheckEnableSubmit('false');\n}\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Happy coding !!!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Locks are a concept required in a multi-threaded system. Even with worker threads, messages are sent by value between workers so that locking is unnecessary.</p>\n\n<p>I suspect you need to just set a semaphore (flagging system) between your buttons.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>How could something equivalent to <code>lock</code> in C# be implemented in JavaScript?</p>\n\n<p>So, to explain what I'm thinking a simple use case is: </p>\n\n<p>User clicks button <code>B</code>.  <code>B</code> raises an onclick event.  If <code>B</code> is in <code>event-state</code> the event waits for <code>B</code> to be in <code>ready-state</code> before propagating.  If <code>B</code> is in <code>ready-state</code>, <code>B</code> is locked and is set to <code>event-state</code>, then the event propagates.  When the event's propagation is complete, <code>B</code> is set to <code>ready-state</code>.</p>\n\n<p>I could see how something close to this could be done, simply by adding and removing the class <code>ready-state</code> from the button.  However, the problem is that a user can click a button twice in a row faster than the variable can be set, so this attempt at a lock will fail in some circumstances.</p>\n\n<p>Does anyone know how to implement a lock that will not fail in JavaScript?</p>\n",
            "last_activity_date": 1355269188,
            "question_id": 5346694,
            "score": 25,
            "tags": [
                "javascript",
                "events",
                "javascript-events",
                "locking",
                "deadlock"
            ],
            "title": "How to implement a lock in JavaScript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Only if you use <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/call\"><code>call</code></a> or <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/apply\"><code>apply</code></a> you can modify the <code>this</code> context inside the function.</p>\n\n<p>Unlike other languages - in JavaScript <code>this</code> does not refer to the current object - rather to the execution context and can be set by the caller. </p>\n\n<p>If you call a function using the <code>new</code> keyword <code>this</code> will correctly refer to the new object (inside the constructor function).. </p>\n\n<p>But in all other cases - <code>this</code> will refer to the global object unless set explicitly through call</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>You use <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/call\"><code>call</code></a> or <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/apply\"><code>apply</code></a> when you want to pass a different <code>this</code> value to the function. In essence, this means that you want to execute a function as if it were a method of a particular object. The only difference between the two is that <code>call</code> expects parameters separated by commas, while <code>apply</code> expects parameters in an array.</p>\n\n<p>An example from <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/apply\">Mozilla's <code>apply</code> page</a>, where constructors are chained:</p>\n\n<pre><code>function Product(name, price) {\n    this.name = name;\n    this.price = price;\n\n    if (price &lt; 0)\n        throw RangeError('Cannot create product \"' + name + '\" with a negative price');\n    return this;\n}\n\nfunction Food(name, price) {\n    Product.apply(this, arguments);\n    this.category = 'food';\n}\nFood.prototype = new Product();\n\nfunction Toy(name, price) {\n    Product.apply(this, arguments);\n    this.category = 'toy';\n}\nToy.prototype = new Product();\n\nvar cheese = new Food('feta', 5);\nvar fun = new Toy('robot', 40);\n</code></pre>\n\n<p>What <code>Product.apply(this, arguments)</code> does is the following: The <code>Product</code> constructor is applied as a function within each of the <code>Food</code> and <code>Toy</code> constructors, and each of these object instances are being passed as <code>this</code>. Thus, each of <code>Food</code> and <code>Toy</code> now have <code>this.name</code> and <code>this.category</code> properties.</p>\n",
                    "is_accepted": false,
                    "score": 32
                },
                {
                    "body": "<p>If you have experience with jQuery, you will know that most functions take use of the <code>this</code> object. For example, <code>collection.each(function() { ... });</code>\nInside this function, <code>\"this\"</code> refers to the iterator object. This is one possible usage.</p>\n\n<p>I personally have used <code>.apply()</code> for implementing a queue of requests - I push an array of arguments into the queue, and when the time comes for executing it, I take an element, and pass it as the arguments for a handler function using <code>.apply()</code>, thus making the code cleaner then if having to pass an array of arguments as a first argument. That's another example.</p>\n\n<p>In general, just keep in mind that those ways to call a function exist, and you may one day find them convenient to use for implementing your program.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You use <code>.call()</code> when you want to cause a function to execute with a different <code>this</code> value.  It sets the <code>this</code> value as specified, sets the arguments as specified and then calls the function.  The difference between <code>.call()</code> and just executing the function is the value of the <code>this</code> pointer when the function executes.  When you execute the function normally, javascript decides what the <code>this</code> pointer will be (usually the global context <code>window</code> unless the function is called as a method on an object).  When you use <code>.call()</code>, you specify exactly what you want <code>this</code> to be set to.</p>\n\n<p>You use <code>.apply()</code> when the arguments you want to pass to a function are in an array.  <code>.apply()</code> can also cause a function to execute with a specific <code>this</code> value.  <code>.apply()</code> is most often used when you have an indeterminate number of arguments that are coming from some other source.  It is often used too pass the arguments from one function call to another by using the special local variable <code>arguments</code> which contains an array of arguments that were passed to your current function.</p>\n\n<p>I find the MDN references pages for <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/call\" rel=\"nofollow\">.call()</a> and <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/apply\" rel=\"nofollow\">.apply()</a> helpful.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Guys can any one explain context to use call and apply methods in Javascript?</p>\n\n<p>Why to use call and apply instead of calling a function directly ?</p>\n",
            "last_activity_date": 1392395232,
            "question_id": 8659390,
            "score": 24,
            "tags": [
                "javascript"
            ],
            "title": "context to use call and apply in Javascript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>There's no way to enumerate listeners added with addEventListener in Firefox core (<a href=\"https://bugzilla.mozilla.org/show%5Fbug.cgi?id=448602\" rel=\"nofollow\">bug 448602</a>).</p>\n\n<p>There may be workarounds, but I'm not aware of any. See also <a href=\"http://stackoverflow.com/questions/446892/how-to-find-event-listeners-on-a-dom-node\">http://stackoverflow.com/questions/446892/how-to-find-event-listeners-on-a-dom-node</a></p>\n\n<p>[edit] Oh wait, determine \"which events are bound\"? Did you mean which events can fire on the node? If so, you should clarify your question.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<h1><a href=\"http://www.sprymedia.co.uk/article/Visual+Event+2\">Visual event 2</a></h1>\n\n<p><img src=\"http://new.tinygrab.com/2c76fd8c3ea0ac6d22b28e3d46d6c480.png\" alt=\"Visual event\"></p>\n\n<blockquote>\n  <p>Visual Event is an open source Javascript bookmarklet which provides debugging information about events that have been attached to DOM elements.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 25
                }
            ],
            "body": "<p>One can bind Javascript events to html elements without using inline declarations.</p>\n\n<p>Is there a way when inspecting an html element to know which events are bound to the element?\nI want to know about the events defined by the developer and not the internal ones that come with the browser.</p>\n\n<p>So if I hover over an element and a menu shows up, I want to know which method caused it.</p>\n\n<p>I have been trying Event Spy with the Code inspector but it logs too many of the internal ones, unless I am not using it right.</p>\n",
            "last_activity_date": 1372682650,
            "question_id": 1558569,
            "score": 24,
            "tags": [
                "javascript",
                "firefox",
                "javascript-events",
                "firefox-addon"
            ],
            "title": "Firefox extension to find out which Javascript event is bound to an inspected element?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>See this question: <a href=\"http://stackoverflow.com/q/6270832/542576\">JADE + EXPRESS: Iterating over object in inline JS code (client-side)?</a></p>\n\n<p>I'm having the same problem. Jade does not pass local variables in (or do any templating at all) to javascript scripts, it simply passes the entire block in as literal text. If you use the local variables 'address' and 'port' in your Jade file above the script tag they should show up.</p>\n\n<p>Possible solutions are listed in the question I linked to above, but you can either:\n  - pass every line in as unescaped text (!= at the beginning of every line), and simply put \"-\" before every line of javascript that uses a local variable, or:\n  - Pass variables in through a dom element and access through JQuery (ugly)</p>\n\n<p>Is there no better way? It seems the creators of Jade do not want multiline javascript support, as shown by this thread in GitHub: <a href=\"https://github.com/visionmedia/jade/pull/405\" rel=\"nofollow\">https://github.com/visionmedia/jade/pull/405</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It's a <em>little</em> late but...</p>\n\n<pre><code>script.\n  loginName=\"#{login}\";\n</code></pre>\n\n<p>This is working fine in my script. In Express, I am doing this:</p>\n\n<pre><code>exports.index = function(req, res){\n  res.render( 'index',  { layout:false, login: req.session.login } );\n};\n</code></pre>\n\n<p>I guess the latest jade is different?</p>\n\n<p>Merc.</p>\n\n<p>edit: added \".\" after script to prevent Jade warning.</p>\n",
                    "is_accepted": true,
                    "score": 51
                },
                {
                    "body": "<p>The answers here are either outdated or they didn't work in my case. My data was a complex array of Mongoose objects with mixed data types.</p>\n\n<p>This is what worked for me:</p>\n\n<pre><code>script var data = !{JSON.stringify(data)}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm having trouble with a variable (config) declared in a jade template file (index.jade) that isn't passed to a javascript file, which then makes my javascript crash. Here is the file (views/index.jade):</p>\n\n<pre><code>h1 #{title}\n\nscript(src='./socket.io/socket.io.js')\nscript(type='text/javascript')\n  var config = {};\n  config.address = '#{address}';\n  config.port = '#{port}';\nscript(src='./javascripts/app.js')\n</code></pre>\n\n<p>Here is a part of my app.js (server side):</p>\n\n<pre><code>  app.use(express.bodyParser());\n  app.use(express.methodOverride());\n  app.use(app.router);\n  app.use(express.static(__dirname + '/public'));\n});\n\napp.configure('development', function(){\n  app.set('address', 'localhost');\n  app.use(express.errorHandler({ dumpExceptions: true, showStack: true }));\n});\n\napp.configure('production', function(){\n  app.use(express.errorHandler());\n});\n\n// Routes\n\napp.get('/', function(req, res){\n  res.render('index', {\n    address: app.settings.address,\n    port: app.settings.port\n});\n});\n\nif (!module.parent) {\n  app.listen(app.settings.port);\n  console.log(\"Server listening on port %d\",\napp.settings.port);\n}\n\n// Start my Socket.io app and pass in the socket\nrequire('./socketapp').start(io.listen(app));\n</code></pre>\n\n<p>And here is a part of my javascript file that crashes (public/javascripts/app.js):</p>\n\n<pre><code>(function() {\n        var socket = new io.Socket(config.address, {port: config.port, rememberTransport: false});\n</code></pre>\n\n<p>I'm running the site on development mode (NODE_ENV=development) on localhost (my own machine). I'm using node-inspector for debugging, which told me that the config variable is undefined in public/javascripts/app.js.</p>\n\n<p>Any ideas?? Thanks!!</p>\n",
            "last_activity_date": 1423002766,
            "question_id": 8698534,
            "score": 23,
            "tags": [
                "javascript",
                "node.js",
                "jade"
            ],
            "title": "How to pass variable from jade template file to a script file?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Do you mean something like <a href=\"http://mustache.github.com/\">mustache</a>?</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>If you like <strong>JS->PHP priority</strong> :) then you have this two jquery-tmpl compatible template renderer for PHP backend</p>\n\n<ol>\n<li><a href=\"https://github.com/abackstrom/jquery-tmpl-php\">https://github.com/abackstrom/jquery-tmpl-php</a></li>\n<li><a href=\"https://github.com/xyu/jquery-tmpl-php\">https://github.com/xyu/jquery-tmpl-php</a></li>\n</ol>\n\n<p>If you prefer more <strong>PHP->JS priority</strong> :) then you can try this Javascript implementation of popular PHP templating Smarty</p>\n\n<ol>\n<li><a href=\"http://code.google.com/p/jsmart/\">http://code.google.com/p/jsmart/</a></li>\n</ol>\n\n<p>Or you can try something more neutral like: </p>\n\n<ol>\n<li>Mustache <a href=\"http://mustache.github.com/\">http://mustache.github.com/</a></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>You have a new option to compile templates for both PHP and JS using Twig + Twig.js</p>\n\n<ul>\n<li><a href=\"http://twig.sensiolabs.org/\">http://twig.sensiolabs.org/</a></li>\n<li><a href=\"https://github.com/schmittjoh/twig.js\">https://github.com/schmittjoh/twig.js</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>AFAIK, <strong><a href=\"http://mustache.github.io/\" rel=\"nofollow\">Mustache</a></strong> is the only template engine that has <strong>official implementations</strong> in  both PHP and JS... along with two dozen proramming/scripting languages.</p>\n\n<p>Twig does have a JS version, but that's incomplete and AFAIK unofficial.</p>\n\n<p>Smarty does have a JS version, but it's also an unofficial port... and Smarty is getting a bit outdated.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a simple Template engine that works both on client side with JS and on server side with PHP (I want to have the same template definition for both use cases).</p>\n",
            "last_activity_date": 1394745522,
            "question_id": 6004060,
            "score": 23,
            "tags": [
                "php",
                "javascript",
                "template-engine"
            ],
            "title": "template engine both for JS and PHP"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Your major misunderstanding here is that F has global scope. It is declared in the body of Object.create and consequently is only in scope within that method block.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>1) A function is indeed a kind of object. A function object with identifier <code>F</code> is created each time <code>Object.create</code> is called, and is only accessible with that identifier within that execution of <code>Object.create</code>. Therefore, each time <code>Object.create</code> is called, you get a different function object <code>F</code>. This function object lives on as the <code>constructor</code> property of the object returned by <code>Object.create</code>.</p>\n\n<p>2) </p>\n\n<blockquote>\n  <p>F now \"inherits\" from our oldObject,\n  in the sense that name resolution will\n  route through it</p>\n</blockquote>\n\n<p>This isn't really correct. Assigning an object <code>someObject</code> to the <code>prototype</code> property of a function just means that the prototype of any future object created by calling this function as a constructor will be <code>someObject</code>.</p>\n\n<p>3) The <code>new</code> is absolutely vital to this technique. Only by calling a function as a constructor does it produce a new object, and that object's prototype (which is not generally accessible) is set to the constructor function's <code>prototype</code> property. There is no other (standardised) way to set an object's prototype.</p>\n\n<p>Finally, JavaScript in browsers is single threaded, so race conditions such as you describe are not possible.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<blockquote>\n  <p>1) Object.create() starts out by\n  creating an empty function called F.\n  I'm thinking that a function is a kind\n  of object. Where is this F object\n  being stored? Globally I guess.</p>\n</blockquote>\n\n<p>No, it's stored on the local scope of the <code>Object.create</code> function, each time you invoke <code>Object.create</code> this function <code>F</code> will be recreated.</p>\n\n<p>You could even create a more memory-efficient implementation, by storing <code>F</code> on a closure, and reuse it:</p>\n\n<pre><code>if (typeof Object.create !== \"function\") {\n  Object.create = (function () {\n    function F() {} // created only once\n    return function (o) {\n      F.prototype = o; // reused on each invocation\n      return new F();\n    };\n  })();\n}\n</code></pre>\n\n<blockquote>\n  <p>2) Next our oldObject, passed in as o,\n  becomes the prototype of function F.\n  Function (i.e., object) F now\n  \"inherits\" from our oldObject, in the\n  sense that name resolution will route\n  through it. Good, but I'm curious what\n  the default prototype is for an\n  object, Object? Is that also true for\n  a function-object?</p>\n</blockquote>\n\n<p>All objects have an internal property that builds the prototype chain, this property is known as <code>[[Prototype]]</code>, it's an internal property, although some implementations let you access to  it, like mozilla, with the <code>obj.__proto__</code> property.</p>\n\n<p>The default <code>[[Prototype]]</code> when you create a new object, i.e. <code>var obj = {};</code> is <code>Object.prototype</code>.</p>\n\n<p>All functions have a <code>prototype</code> property, this property is used when a function is used as a <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/Creating_New_Objects/Using_a_Constructor_Function\">Constructor</a>, invoked with the <code>new</code> operator.</p>\n\n<p>A new object instance it's created behind the scenes, and this object <code>[[Prototype]]</code> is set to its Constructor's <code>prototype</code> property.</p>\n\n<blockquote>\n  <p>3) Finally, F is instantiated and\n  returned, becoming our newObject. Is\n  the \"new\" operation strictly necessary\n  here? Doesn't F already provide what\n  we need, or is there a critical\n  difference between function-objects\n  and non-function-objects? Clearly it\n  won't be possible to have a\n  constructor function using this\n  technique.</p>\n</blockquote>\n\n<p>Yes, the <code>new</code> operator is essential in this method.</p>\n\n<p>The <code>new</code> operator is the only standard way to set the <code>[[Prototype]]</code> internal property of an object, if you are curious about how it works, you can give a look to the <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\"><code>[[Construct]]</code></a> internal operation.</p>\n\n<blockquote>\n  <p>What happens the next time\n  Object.create() is called? Is global\n  function F overwritten? Surely it is\n  not reused, because that would alter\n  previously configured objects. And\n  what happens if multiple threads call\n  Object.create(), is there any sort of\n  synchronization to prevent race\n  conditions on F?</p>\n</blockquote>\n\n<p>The next time <code>Object.create</code> is invoked, a new local <code>F</code> function is instantiated only within the scope of the method call, you shouldn't worry about <em>race conditions</em>.</p>\n\n<p>Note that this implementation hardly conforms the <code>Object.create</code> described in the <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\">ECMAScript 5th Edition Specification</a>, in that method, you could pass a property descriptor to initialize the object.</p>\n\n<p>All browser vendors are implementing it (already available on Firefox 3.7 alphas, latest Wekit Nightly Builds and Chrome 5 Beta), so I would recommend you at least to check if a native implementation exist before overriding it.</p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<blockquote>\n  <p>> Clearly it won't be possible to have a constructor function using this technique.</p>\n</blockquote>\n\n<p>The technique is already an object constructor since it returns new F(), but no property values can be set as for say new man('John','Smith'). However, if the Object.create code is modified, instantiation is possible. For example the sarah object below can be constructed and instantiated using Object.creator, and will inherit the getName method.</p>\n\n<pre><code>var girl = {\n   name: '',\n   traits: {},\n   getName: function(){return this.name}\n}\n\nvar sarah = Object.creator(girl, 'Sarah', {age:29,weight:90})\n</code></pre>\n\n<p>The sarah object will then consist of own properties { name:'Sarah', traits:{age:9,weight:49} }, and the prototype inherited sarah.getName() will produce 'Sarah'.</p>\n\n<p>The following method relies on own properties enumerating with 'for(prop in o)' in creation order. Although not guaranteed by ECMA specs, this example (and a few more complex) worked for all major browsers (4) tested, providied hasOwnProperty() was used, otherwise not.</p>\n\n<pre><code>Object.creator = function(o) {\n   var makeArgs = arguments \n   function F() {\n      var prop, i=1, arg, val\n      for(prop in o) {\n         if(!o.hasOwnProperty(prop)) continue\n         val = o[prop]\n         arg = makeArgs[i++]\n         if(typeof arg === 'undefined') break\n         this[prop] = arg\n      }\n   }\n   F.prototype = o\n   return new F()\n}\n</code></pre>\n\n<p>The official ECMA Object.create has an optional 2nd parameter, propertiesObject, that can instantiate property values, but it is an object rather than the usual list, and looks awkward to use. E.g. I believe:-</p>\n\n<pre><code>o2 = Object.create({}, { p: { value: 42, writable: true, enumerable: true, configurable: true } });\n</code></pre>\n\n<p>is equivalent to the much simpler old way:-</p>\n\n<pre><code>o2 = new function(p) { this.p=p }(42)\n</code></pre>\n\n<p>and </p>\n\n<pre><code>o2 = Object.creator({p:''}, 42)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>There are only 3 lines of code, and yet I'm having trouble fully grasping this:</p>\n\n<pre><code>Object.create = function (o) {\n    function F() {}\n    F.prototype = o;\n    return new F();\n};\nnewObject = Object.create(oldObject);\n</code></pre>\n\n<p>(from <a href=\"http://javascript.crockford.com/prototypal.html\">Prototypal Inheritance</a>)</p>\n\n<ol>\n<li><p><code>Object.create()</code> starts out by creating an empty function called <code>F</code>. I'm thinking that a function is a kind of object. Where is this <code>F</code> object being stored? Globally I guess.</p></li>\n<li><p>Next our <code>oldObject</code>, passed in as <code>o</code>, becomes the prototype of function <code>F</code>. Function (i.e., object) <code>F</code> now \"inherits\" from our <code>oldObject</code>, in the sense that name resolution will route through it. Good, but I'm curious what the default prototype is for an object, Object? Is that also true for a function-object?</p></li>\n<li><p>Finally, <code>F</code> is instantiated and returned, becoming our <code>newObject</code>. Is the <code>new</code> operation strictly necessary here? Doesn't <code>F</code> already provide what we need, or is there a critical difference between function-objects and non-function-objects? Clearly it won't be possible to have a constructor function using this technique.</p></li>\n</ol>\n\n<p>What happens the next time <code>Object.create()</code> is called? Is global function <code>F</code> overwritten? Surely it is not reused, because that would alter previously configured objects. And what happens if multiple threads call <code>Object.create()</code>, is there any sort of synchronization to prevent race conditions on <code>F</code>?</p>\n",
            "last_activity_date": 1424398218,
            "question_id": 2766057,
            "score": 20,
            "tags": [
                "javascript",
                "object",
                "prototypal-inheritance",
                "creation"
            ],
            "title": "What is happening in Crockford&#39;s object creation technique?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>I usually pass the resource string as a parameter to whatever javascript function I'm calling, that way I can continue to use the expression syntax in the HTML.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In a nutshell, make ASP.NET serve javascript rather than HTML for a specific page. Cleanest if done as a custom IHttpHandler, but in a pinch a page will do, just remember to:</p>\n\n<p>1) Clear out all the ASP.NET stuff and make it look like a JS file.</p>\n\n<p>2) Set the content-type to \"text/javascript\" in the codebehind.</p>\n\n<p>Once you have a script like this setup, you can then create a client-side copy of your resources that other client-side scripts can reference from your app.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There's no native support for this.</p>\n\n<p>I built a JavaScriptResourceHandler a while ago that can serve Serverside resources into the client page via objects where each property on the object represents a localization resource id and its value. You can check this out and download it from this blog post:</p>\n\n<p><a href=\"http://www.west-wind.com/Weblog/posts/698097.aspx\">http://www.west-wind.com/Weblog/posts/698097.aspx</a></p>\n\n<p>I've been using this extensively in a number of apps and it works well. The main win on this is that you can localize your resources in one place (Resx or in my case a custom ResourceProvider using a database) rather than having to have multiple localization schemes.</p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>I the brown field application I'm working on we have an xslt that transforms the resx file into a javascript file as part of the build process. This works well since this is a web application. I'm not sure if the original question is a web application.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>whereas \"Common\" is the name of the resource file and Msg1 is the fieldname. This also works for culture changes.</p>\n\n<pre><code>            Partial Javascript...:\n            messages: \n            {\n                &lt;%=txtRequiredField.UniqueID %&gt;:{                       \n                    required: \"&lt;%=Resources.Common.Msg1 %&gt;\",\n                    maxlength: \"Only 50 character allowed in required field.\"\n                }\n            }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>use a hidden field to hold the resource string value and then access the field value in javascript \nfor example :\n  \" /></p>\n\n<p>var todayString= $(\"input[name=TodayString][type=hidden]\").val();</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is my solution for now. I am sure I will need to make it more versatile in the future... but so far this is good.</p>\n\n<pre><code>using System.Collections;\nusing System.Linq;\nusing System.Resources;\nusing System.Web.Mvc;\nusing System.Web.Script.Serialization;\n\npublic class ResourcesController : Controller\n{\n    private static readonly JavaScriptSerializer Serializer = new JavaScriptSerializer();\n\n    public ActionResult GetResourcesJavaScript(string resxFileName)\n    {\n        var resourceDictionary = new ResXResourceReader(Server.MapPath(\"~/App_GlobalResources/\" + resxFileName + \".resx\"))\n                            .Cast&lt;DictionaryEntry&gt;()\n                            .ToDictionary(entry =&gt; entry.Key.ToString(), entry =&gt; entry.Value.ToString());\n        var json = Serializer.Serialize(resourceDictionary);\n        var javaScript = string.Format(\"window.Resources = window.Resources || {{}}; window.Resources.{0} = {1};\", resxFileName, json);\n\n        return JavaScript(javaScript);\n    }\n\n}\n\n// In the RegisterRoutes method in Global.asax:\nroutes.MapRoute(\"Resources\", \"resources/{resxFileName}.js\", new { controller = \"Resources\", action = \"GetResourcesJavaScript\" });\n</code></pre>\n\n<p>So I can do</p>\n\n<pre><code>&lt;script src=\"/resources/Foo.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>and then my scripts can reference e.g. <code>window.Resources.Foo.Bar</code> and get a string.</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>This article discusses few scenarios and describes a good solution which is bit similar to above Domenic's answer.\n<a href=\"http://michael-sander.eu/index.php/2010/07/29/using-localized-resources-in-javascript-files-in-a-asp-mvc-project/comment-page-1/#comment-219\" rel=\"nofollow\">http://michael-sander.eu/index.php/2010/07/29/using-localized-resources-in-javascript-files-in-a-asp-mvc-project/comment-page-1/#comment-219</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How would one get resx resource strings into javascript code stored in a .js file? </p>\n\n<p>If your javascript is in a script block in the markup, you can use this syntax:</p>\n\n<pre><code>&lt;%$Resources:Resource, FieldName %&gt;\n</code></pre>\n\n<p>and it will parse the resource value in as it renders the page...  Unfortunately, that will only be parsed if the javascript appears in the body of the page.  In an external .js file referenced in a &lt;script&gt; tag, those server tags obviously never get parsed.</p>\n\n<p>I don't want to have to write a ScriptService to return those resources or anything like that, since they don't change after the page is rendered so it's a waste to have something that active.</p>\n\n<p>One possibility could be to write an ashx handler and point the &lt;script&gt; tags to that, but I'm still not sure how I would read in the .js files and parse any server tags like that before streaming the text to the client.  Is there a line of code I can run that will do that task similarly to the ASP.NET parser?</p>\n\n<p>Or does anyone have any other suggestions?</p>\n",
            "last_activity_date": 1346933456,
            "question_id": 940769,
            "score": 20,
            "tags": [
                "asp.net",
                "javascript",
                "resources"
            ],
            "title": "Use ASP.NET Resource strings from within javascript files"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>In Backbone.js (prior to version <code>0.9.10</code>), <code>validate</code> is called before <code>save</code> as well as before <code>set</code>. </p>\n\n<p>You will get an <em>alert</em> error when you set <em>invalid</em> value.  </p>\n\n<p>Example - <em><code>age</code> value is below 18</em> :\n</p>\n\n<pre><code>var man = new Man ({name : 'qian', age : 12});\nman.set({ age: 12 }); // that will trigger alert\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>For Backbone.js version <code>0.9.10+</code> there is an issue reported: <a href=\"https://github.com/documentcloud/backbone/issues/2153\">Failed validation does not trigger error callback</a>. Issue explanation says that</p>\n\n<blockquote>\n  <p><code>invalid</code> event should be used instead of <code>error</code></p>\n</blockquote>\n\n<p>So changing your code to:</p>\n\n<pre><code>var Man = Backbone.Model.extend({\n    initialize : function(){\n        this.on(\"invalid\",function(model,error){\n            alert(error);\n        });\n    },\n    ...\n</code></pre>\n\n<p>And setting variable with <code>validate</code> option set to <code>true</code> will trigger an <code>alert</code>.</p>\n\n<pre><code>man.set({age: 12}, {validate : true});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 37
                },
                {
                    "body": "<pre><code>var man = new Man({name : 'qian', age : 12}, {validate : true});\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>validate method works only in case if you pass an options object with <code>validate</code> param (from 0.9.9 version):\n<a href=\"https://github.com/documentcloud/backbone/blob/master/backbone.js#L539\" rel=\"nofollow\">https://github.com/documentcloud/backbone/blob/master/backbone.js#L539</a></p>\n\n<p>And it triggers not <code>error</code> event but <code>invalid</code> event</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you are using new version(>1.0) of Backbone and want to fire validation at the time of <code>model.set</code> method,</p>\n\n<p>then you must have to pass <code>{validate: true}</code> to fire validation.</p>\n\n<p>use</p>\n\n<pre><code>model.set({field:value},{validate: true})\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>model.set(\"field\",\"value\",{validate: true})\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>model.set({field:value})\n</code></pre>\n\n<p>REF : <a href=\"http://backbonejs.org/#upgrading\" rel=\"nofollow\">Backbone change log</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>For backbone v.1.0.0</p>\n\n<pre><code>var Man = Backbone.Model.extend({\n    initialize : function(){\n        this.on(\"invalid\",function(model,error){\n            alert(error);\n        });\n    },\n    validate : function(attrs, options){\n        if (attrs.age &lt; 18){\n            return 'below 18';\n        } \n    }\n});\n</code></pre>\n\n<h3>Example 1. Without {validate:true}</h3>\n\n<pre><code>//Object will be created with invalid attribute 'age' \nvar man = new Man({name : 'qian', age : 12});\nconsole.log(man) // Returns an object with invalid attributes\n\n// But we'll use only valid objects.\n// Also we'll get the error message in alert, if validation fails.\nif(man.isValid()){\n    alert( man.get('name') );\n}\n\nvar man = new Man({name : 'qian', age : 19});\nif(man.isValid()){\n    alert( man.get('name') );\n}\n</code></pre>\n\n<h3>Example 2. With {validate:true}</h3>\n\n<pre><code>//Object will be created without any passed attributes\nvar man = new Man({name : 'qian', age : 12}, {validate:true});\nconsole.log(man) //Object will be without passed attributes\n\n/* man.isValid() returns 'true' throw we passed invalid attrs.\n   We won't see any error alert message, because Backbone created empty object */\n/* Doesn't work */\nif(man.isValid()){\n    alert( man.get('name') ); //undefined\n}\n/* Works */\n// Created model had invalid attrs, so validationError won't be empty.\n// If all attrs are valid, validationError will be empty\nif(!man.validationError){\n    alert( man.get('name') );\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I am using Backbone's <code>validate</code> function to guarantee <code>Man</code> to have an <code>age</code> property more than 18. Here is my code:</p>\n\n<pre><code>var Man = Backbone.Model.extend({\n    initialize : function(){\n        this.on(\"error\",function(model,error){\n            alert(error);\n        });\n    },\n    validate : function(attrs,options){\n        if (attrs.age &lt; 18){\n            return 'below 18';\n        } \n    }\n})\n\nvar man = new Man({name : 'qian', age : 12});\n</code></pre>\n\n<p>But looking at the result it seems that <code>validate</code> doesn't work.</p>\n",
            "last_activity_date": 1376980287,
            "question_id": 14426155,
            "score": 19,
            "tags": [
                "javascript",
                "backbone.js"
            ],
            "title": "Backbone Validate does not work"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I was able to run Jade client-side using <a href=\"https://github.com/weepy/jade-browser\">jade-browser</a> project.</p>\n\n<p>Integration with Backbone is then simple: Instead of <code>_template()</code> I'm using <code>jade.compile()</code>.</p>\n\n<p><strong>HTML (scripts and template):</strong></p>\n\n<pre><code>&lt;script class=\"jsbin\" src=\"http://code.jquery.com/jquery-1.7.1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://raw.github.com/weepy/jade-browser/master/jade.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://raw.github.com/weepy/jade-browser/master/jade-shim.js\"&gt;&lt;/script&gt;\n&lt;script src=\"http://documentcloud.github.com/underscore/underscore-min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"http://documentcloud.github.com/backbone/backbone-min.js\"&gt;&lt;/script&gt;\n\n&lt;script type=\"template\" id=\"test\"&gt;\ndiv.class1\n  div#id\n    | inner\n  div#nav\n    ul(style='color:red')\n      li #{item}\n      li #{item}\n      li #{item}\n      li #{item}\nscript\n  $('body').append('i am from script in jade')\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>JavaScript (integration with Backbone.View):</strong></p>\n\n<pre><code>var jade = require(\"jade\");\n\nvar TestView = Backbone.View.extend({\n\n  initialize: function() {\n    this.template = jade.compile($(\"#test\").text());\n  },\n\n  render: function() {\n    var html = this.template({ item: 'hello, world'});\n    $('body').append(html);\n  }\n});\n\nvar test = new TestView();\ntest.render();\n</code></pre>\n\n<p><strong><a href=\"http://jsbin.com/opezux/3/edit\">HERE</a></strong> is the code.</p>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>As @dzejkej mentioned above, one of the best known ways to use Jade templates on the client is to use jade-browser; however, I've always had a few issues with Jade in the browser.</p>\n\n<ul>\n<li><strong>Compiling Jade templates is slow</strong> - which is okay, but really, all templates should be cached, and if you cache them on the client, anytime they load a new page, the cache disappears (unless using HTML5 persistent storage, for example).</li>\n<li><strong>File includes can be a pain and can create excess bloat.</strong> If you are compiling Jade templates on the browser and the template contains <code>include</code> statements, you may have to do some extra work to get them to compile properly.  In addition, if you decide to compile on the server and send JavaScript to the client, you still have issues.  Whenever Jade templates use file includes, your compiled Jade templates can get rather large because they contain the same code over and over.  For example, if you include the same file again and again, that file's contents will be downloaded to the browser several times, which is wasting bandwidth.</li>\n<li><strong>Lack of support</strong> - Jade provides little support for client-side templates out of the box. Yes, you can use the <code>{client: true}</code> compiler option, but the compiled templates are really not optimized for the client, and in addition, there is no mechanism for serving compiled Jade templates to the browser.</li>\n</ul>\n\n<p>These are among some of the reasons why I created the <a href=\"https://github.com/bminer/node-blade\">Blade project</a>.  Blade is a Jade-like templating language that supports client-side templates right out of the box.  It even ships with Express <a href=\"https://github.com/bminer/node-blade#blademiddlewaresourcepath-options\">middleware designed for serving compiled templates to the browser</a>.  If you are okay with a Jade-like alternative for your projects, check it out!</p>\n\n<ul>\n<li><a href=\"https://github.com/bminer/node-blade\">https://github.com/bminer/node-blade</a></li>\n<li><a href=\"https://github.com/bminer/node-blade#blademiddlewaresourcepath-options\">https://github.com/bminer/node-blade#blademiddlewaresourcepath-options</a></li>\n<li><a href=\"https://github.com/bminer/node-blade#browser-usage\">https://github.com/bminer/node-blade#browser-usage</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>I just open sourced a nodejs project, called \"asset-rack\", that can can precompile jade templates and offer them in the browser as javascript functions.</p>\n\n<p>This means that rendering is blazingly fast, even faster then micro-templates because there is no compilation step in the browser. </p>\n\n<p>The architecture is a little different then what you mention, just one js file for all templates called \"templates.js\" or whatever you want.</p>\n\n<p>You can check it out here, <a href=\"https://github.com/techpines/asset-rack#jadeasset\" rel=\"nofollow\">https://github.com/techpines/asset-rack#jadeasset</a></p>\n\n<p>First you set it up on the server as follows:</p>\n\n<pre><code>new JadeAsset({\n    url: '/templates.js',\n    dirname: __dirname + '/templates'\n});\n</code></pre>\n\n<p>If you template directory looked like this:</p>\n\n<pre><code>templates/\n  navbar.jade\n  user.jade\n  footer.jade\n</code></pre>\n\n<p>Then all your templates come into the browser under the variable \"Templates\":</p>\n\n<pre><code>$('body').append(Templates.navbar());\n$('body').append(Templates.user({name: 'mike', occupation: 'sailor'});\n$('body').append(Templates.footer());\n</code></pre>\n\n<p>Anyway, hope that helps.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You might also checkout my new library for jade inside browser. It is as simple as &lt; jade>...&lt; /jade>. <a href=\"https://github.com/charlieamer/jade-query\" rel=\"nofollow\">https://github.com/charlieamer/jade-query</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I love the HAML-like syntax of Jade's templating engine in Node.js, and I would love to use it client-side within Backbone.js.</p>\n\n<p>I've seen Backbone commonly using Underscore.js templating in the following style.</p>\n\n<pre><code>/* Tunes.js */\nwindow.AlbumView = Backbone.View.extend({\n  initialize: function() {\n    this.template = _.template($('#album-template').html());\n  },\n\n  // ...\n});\n\n/* Index.html */\n&lt;script type=\"text/template\" id=\"album-template\"&gt;\n  &lt;span class=\"album-title\"&gt;&lt;%= title %&gt;&lt;/span&gt;\n  &lt;span class=\"artist-name\"&gt;&lt;%= artist %&gt;&lt;/span&gt;\n  &lt;ol class=\"tracks\"&gt;\n    &lt;% _.each(tracks, function(track) { %&gt;\n      &lt;li&gt;&lt;%= track.title %&gt;&lt;/li&gt;\n    &lt;% }); %&gt;\n  &lt;/ol&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>What I'd like to see is a way to use AJAX (or some other method) to fetch Jade templates and render them within the current HTML.</p>\n",
            "last_activity_date": 1410874606,
            "question_id": 8528885,
            "score": 19,
            "tags": [
                "javascript",
                "backbone.js",
                "jade",
                "underscore.js"
            ],
            "title": "Using Jade templates in Backbone.js"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You may find this useful: <a href=\"http://kalimotxocoding.blogspot.com/2011/03/playing-with-backbonejs-views.html\" rel=\"nofollow\">http://kalimotxocoding.blogspot.com/2011/03/playing-with-backbonejs-views.html</a> </p>\n\n<p>Seconds what I mentioned about <code>_.extend(...)</code> and what you currently have... </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>@Nupul is exactly right: you're not subclassing your <code>GenericView</code>.</p>\n\n<p>In fact, subclassing isn't really the right word here, since JavaScript doesn't do classical inheritance.</p>\n\n<p>So let's first try and understand what's happening here:</p>\n\n<pre><code>var GenericView = Backbone.View.extend( propertiesObj, classPropertiesObj )\n</code></pre>\n\n<p><code>Backbone.View</code> is a constructor function, that when called with the <code>new</code> keyword, creates a new object for you.</p>\n\n<p>Since this is JS, all function are really function objects, so <code>Backbone.View.extend</code> is just a function hanging off <code>Backbone.View</code> that does a few things:</p>\n\n<ol>\n<li>It sets up the prototype chain, so you can access properties and call functions defined in the 'base' class</li>\n<li>It creates and returns a new constructor function you can call (which here would be <code>GenericView</code>) to instantiate objects of your inheriting class</li>\n<li>It copies itself to be a function hanging off the constructor function it returns so that you can further inherit.</li>\n</ol>\n\n<p>So the correct way to set up the protoype chain you want is:</p>\n\n<pre><code>var ImplementedView = GenericView.extend({\n  // implementation goes here\n});\n</code></pre>\n\n<p>and NOT:</p>\n\n<pre><code>var ImplementedView = new GenericView({//stuff});\n</code></pre>\n\n<p>because this just creates a new instance of a GenericView.</p>\n\n<p>Now, you still have a problem, because when you do something like:</p>\n\n<pre><code>var impl_view = new ImplementedView;\n\nimpl_view.events; // This isn't merged with the events you created\n                  // for the GenericView\n</code></pre>\n\n<p>At this point there are different ways to get the result you want, here's one that uses <code>delegateEvents</code> kind of like how you did. Using it isn't bad, incidentally.</p>\n\n<pre><code>var GenericView = Backbone.View.extend({\n\n  genericEvents: { 'click .close': 'close' },\n\n  close: function() { console.log('closing view...'); }\n\n});\n\nvar ImplView = GenericView.extend({\n\n  events: { 'click .submit': 'submit' },\n\n  initialize: function(options) {\n    // done like this so that genericEvents don't overwrite any events\n    // we've defined here (in case they share the same key)\n    this.events = _.extend({}, this.genericEvents, this.events);\n    this.delegateEvents()\n  }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 27
                },
                {
                    "body": "<p>Another option is to have a BaseView that overrides the implementation of Extend. Such as:</p>\n\n<pre><code>var BaseView = Backbone.View.extend({\n        //base view functionality if needed\n    });\nBaseView.extend = function(child){\n    var view = Backbone.View.extend.apply(this, arguments);\n    view.prototype.events = _.extend({}, this.prototype.events, child.events);\n    return view;\n};\n</code></pre>\n\n<p>This will automatically extend all of your events for anything that inherits from the BaseView.</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>I like Mr. Shaver's solution, but for something less intrusive:</p>\n\n<pre><code>var ChildView = ParentView.extend({\n    events : _.extend({\n        \"change input\": \"handleInputChange\"\n    }, ParentView.prototype.events)\n});\n</code></pre>\n\n<p><strong>Edit</strong>: Yes, you have to do this in each child class, but it's useful when only a few children are needed, or when you don't control the parent \"class\".</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Here's a solution that's worked well for me. You can use the events object in both parent and subclass without extending in it each subclass. Just extend it once in the parent class:</p>\n\n<pre><code>APP.Views.GenericWizard = Backbone.View.extend({\n  events: {\n    'click .btn-prev'   : function(){}\n  },\n  initialize: function() {\n    _(this.events).extend(APP.Views.GenericWizard.prototype.events);\n  }\n});\n\nAPP.Views.RegisterWizard = APP.Views.GenericWizard.extend({\n  events: {\n    'blur #username' : function(){}\n  },\n});\n\nvar registerWizard = new APP.Views.RegisterWizard();\nconsole.log(registerWizard.events);\n// Object {blur #username: function, click .btn-prev: function}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have a generic subclass of <code>Backbone.View</code> which has a <code>close</code> event listener. </p>\n\n<pre><code>var GenericView = Backbone.View.extend({\n\n    events : {\n        \"click .close\" : \"close\"\n    },\n\n    close : function () {\n        console.log(\"closing view\");\n    }\n\n});\n</code></pre>\n\n<p>I want to subclass this generic class and add some new events. However the below will overwrite the super classes (above) event object. E.g.</p>\n\n<pre><code>var ImplementedView = new GenericView({\n\n    // setting this will stop 'close' in Super Class from triggering\n    events : {\n        \"click .submit\" : \"submit\"\n    }\n\n}); \n</code></pre>\n\n<p>How should I create a sub class, in this case <code>ImplementedView</code> and retain the events?</p>\n\n<p>I have found one way to achieve this, by extending the event object when the child class is constructed. However I need to re-trigger <code>this.delegateEvents()</code>, which I am guessing is not good. Can any one comment on this?</p>\n\n<pre><code>var ImplementedView = new GenericView({\n\n    initialize : function (options) {\n\n        _.extend(this.events, {\n            \"click .submit\" : \"submit\"\n        });\n\n        // re-attach events\n        this.delegateEvents();\n    }\n\n});\n</code></pre>\n",
            "last_activity_date": 1412054884,
            "question_id": 6968487,
            "score": 19,
            "tags": [
                "javascript",
                "backbone.js",
                "underscore.js"
            ],
            "title": "Sub Class a Backbone.View Sub Class &amp; retain events"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><strike>http://www.javascripter.net/faq/browserw.htm</p>\n\n<p>Note that the code that uses <code>document.body.offsetWidth</code> and <code>document.body.offsetHeight</code> must be executed after the browser has parsed the  tag.</strike></p>\n\n<p>Update:\nTry this</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n&lt;!--\n\n var viewportwidth;\n var viewportheight;\n\n // the more standards compliant browsers (mozilla/netscape/opera/IE7) use window.innerWidth and window.innerHeight\n\n if (typeof window.innerWidth != 'undefined')\n {\n      viewportwidth = window.innerWidth,\n      viewportheight = window.innerHeight\n }\n\n// IE6 in standards compliant mode (i.e. with a valid doctype as the first line in the document)\n\n else if (typeof document.documentElement != 'undefined'\n     &amp;&amp; typeof document.documentElement.clientWidth !=\n     'undefined' &amp;&amp; document.documentElement.clientWidth != 0)\n {\n       viewportwidth = document.documentElement.clientWidth,\n       viewportheight = document.documentElement.clientHeight\n }\n\n // older versions of IE\n\n else\n {\n       viewportwidth = document.getElementsByTagName('body')[0].clientWidth,\n       viewportheight = document.getElementsByTagName('body')[0].clientHeight\n }\ndocument.write('&lt;p&gt;Your viewport width is '+viewportwidth+'x'+viewportheight+'&lt;/p&gt;');\n//--&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>Found <a href=\"http://andylangton.co.uk/articles/javascript/get-viewport-size-javascript/\" rel=\"nofollow\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For IE 8 and lower, use</p>\n\n<pre><code>document.documentElement.offsetHeight;\n</code></pre>\n\n<p>So cross browser should be:</p>\n\n<pre><code>var height = \"innerHeight\" in window \n               ? window.innerHeight\n               : document.documentElement.offsetHeight; \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 40
                },
                {
                    "body": "<p>I'm using:</p>\n\n<pre><code>doc = document;\nvar theHeight = Math.max(\n    doc.body.scrollHeight, doc.documentElement.scrollHeight,\n    doc.body.offsetHeight, doc.documentElement.offsetHeight,\n    doc.body.clientHeight, doc.documentElement.clientHeight\n);\n</code></pre>\n\n<p>Found it here:\n<a href=\"http://james.padolsey.com/javascript/get-document-height-cross-browser/\" rel=\"nofollow\">Get document height (cross-browser) - James Padolsey</a></p>\n\n<p>And also found that <a href=\"http://code.jquery.com/jquery-1.10.2.js\" rel=\"nofollow\">jQuery</a> is doing the same thing:</p>\n\n<pre><code>// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height], whichever is greatest\n// unfortunately, this causes bug #3838 in IE6/8 only, but there is currently no good, small way to fix it.\nreturn Math.max(\n  elem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n  elem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n  doc[ \"client\" + name ]\n);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>This is frustrating me. It should be something really simple but I can't get it to work in IE. I want to get the height of the current window: Not the scroll height, not the document height, but the actual window height. I've tried <code>window.innerHeight</code> which returns <code>undefined</code> and <code>document.documentElement.clientHeight</code> which gives the scroll height.</p>\n",
            "last_activity_date": 1407925977,
            "question_id": 3012668,
            "score": 19,
            "tags": [
                "javascript"
            ],
            "title": "Get the window height"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>Check <a href=\"http://www.puremvc.org/\" rel=\"nofollow\">PureMVC</a> out. They have also port to JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Another one, for jQuery folks: <a href=\"http://javascriptmvc.com/\" rel=\"nofollow\">http://javascriptmvc.com/</a></p>\n\n<p>Just a note that Ext JS also supports the MV(x) pattern since version 4.0, which I'll mention as an ex-Ext person. Like most frameworks, they too call it \"MVC\" (as does most everyone in the JS world, see <a href=\"http://todomvc.com/\" rel=\"nofollow\">TodoMVC</a>, as opposed to TodoMVP). However from a practical standpoint, the tools are there in Ext to implement the C/P portion of the pattern as best fits your needs. Patterns are useful, but like most anything, can limit your thinking when treated dogmatically.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Seems googles GWT use MVP: </p>\n\n<p><a href=\"http://code.google.com/events/io/2010/sessions/architecting-production-gwt.html\" rel=\"nofollow\">Google GWT</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Check out angular project at <a href=\"http://angularjs.org/\" rel=\"nofollow\">http://angularjs.org/</a> and feel free to ask any question at mailing group.</p>\n\n<p>It's designed to work well together with jQuery.\nVery useful for writing TESTABLE MVC JS applications.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Take a look at <a href=\"http://knockoutjs.com/\">knockout.js</a> which is a MVVM framework for your web pages. It provides a really beautiful and easily extensible framework for linking a model and a view in a loosely coupled fashion.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The main goal with MVP is decoupling of different aspects in the code. Normally, in JavaScript, there are 3 major such aspects:</p>\n\n<ol>\n<li>Event Handling </li>\n<li>DOM manipulation</li>\n<li>Server communication (AJAX calls)</li>\n</ol>\n\n<p>For each of these concerns, there's a corresponding term from MVP:</p>\n\n<ol>\n<li>EventHandling = Presenter</li>\n<li>DOM Manipulation = View</li>\n<li>AJAX calls = Model</li>\n</ol>\n\n<p>Since indeed it is not always simple to implement the 3 aspects, an EVENT BUS may come in handy. This bus should be a singleton and all the events, raised in various context should be published on the bus. The Presenter needs to register to its events and react accordingly when events happen.</p>\n\n<p>Here is how it would work:</p>\n\n<p>First thing that happens is the page load. Listen to this using the normal event model or jQuery or whatever is convenient. Create the Model, the View and the Presenter. The Presenter needs to hold the View and Model instances since he's gonna use them.</p>\n\n<pre><code>var model = new Model();\nvar view = new View();\nvar presenter = new Presenter(model, view);\n</code></pre>\n\n<p>Remember that Presenter is the event handler so the bus should know about it and route events to it for handling:</p>\n\n<pre><code>bus.registerHandler(presenter);\n</code></pre>\n\n<p>The first event is the \"init\", which means the page has loaded and the MVP objects are all set:</p>\n\n<pre><code>bus.init(); // call this yourself\n</code></pre>\n\n<p>This would trigger something in the Presenter, like a function. I prefer the on... naming convention, in this example presenter.onInit(). This gives a chance to install UI listeners:</p>\n\n<pre><code>// in the Presenter\nonInit: function() {\n  view.addSubmitListener();\n  view.addWhateverListener();\n  ...\n}\n\n// in the View (using jQuery)\naddSubmitListener: function() {\n  $(\"#submitButton\").click(function() {\n    var formData = ...\n    bus.submit(formData); // publish an event to the bus\n  });\n}\n</code></pre>\n\n<p>When the Submit button is clicked the bus.submit(formData) is called and this will route it to the handler -- presenter.onSubmit(formData):</p>\n\n<pre><code>// in the Presenter\nonSubmit: function(formData) {\n  model.postForm(formData, function(data) {\n    // handle the response\n    view.updateSomething(data);\n  });\n}\n</code></pre>\n\n<p>And so on... The entire trick is binding the bus to the presenter and then you're in the loop.</p>\n\n<p>HTH</p>\n",
                    "is_accepted": false,
                    "score": 35
                },
                {
                    "body": "<p>I know this question is old, but I think it is worth mention here. My vote goes to Backbone.js. Even docs says it is MVC, I would say it is MVP. </p>\n\n<ul>\n<li>VIEW = html template (jQuery.template)</li>\n<li>MODEL = Backbone.Model</li>\n<li>PRESENTER = Backbone.View ( layer between your view-tempate and how to bound data to it, and more thins you can do) and what is best you can use in render method couple views (html templates) or switch which to use...</li>\n</ul>\n\n<p>and what is best you still have controller</p>\n\n<ul>\n<li>CONTROLLER = Backbone.Controller</li>\n</ul>\n\n<p>Alternative could be as @JoshRivers mentioned, knockoutJS but my personal opinion is that view template is overwhelmed with binding stuff.</p>\n\n<p>And last note. Thing is View as V from either MVC or MVP is something which can be built from your template without coding it, make good HTML template parser and you are good to go :)  Believe me, convention is your friend.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>We're talking about MVP here people! Not MVC! It is my opinion that the industry is not yet ready for MVP. Everyone is still trying to grasp MVC.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Have a look at <a href=\"https://moot.it/riotjs/\" rel=\"nofollow\">Riot.js</a> - a brand new, standalone 1kB (!) MVP microlibrary which has everything you need to build a scalable, modular JavaScript app. There is a full-blown demo too.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Was searching for some examples for MVP frameworks and bumped into this link which might be very useful to decide on the framework one wants to work on: \n    <a href=\"http://www.gargasz.info/javascript-mvc-mvp-frameworks/\" rel=\"nofollow\">MV* Frameworks</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Has anyone been able to implement the MVP model with any javascript frameworks? I'm having trouble figuring out how to have the presenter -> view inversion from server code to javascript.  I have some ideas, but kind of hackish and would like to see what others are doing.</p>\n",
            "last_activity_date": 1401355274,
            "question_id": 1102215,
            "score": 19,
            "tags": [
                "javascript",
                "mvp"
            ],
            "title": "MVP pattern with Javascript framework?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I have found a way that updates instantly. Basically I hold a hidden set of all my data, and upon receiving new data or changing my filter - I apply this filter to the full data set and hand the grid the filtered version. </p>\n\n<p>This lets me use <strong><em>comparators</em></strong> (i.e. age >= 50) in my filter, which is the purpose of this question. </p>\n\n<pre><code>// Full unfiltered data set\n$scope.entries = []; // Updated and pushed to\n\n$scope.gridOptions = {\n    // The grids already filtered data set\n    data: 'filteredEntries',\n    enableColumnResize: false,\n    multiSelect: false,\n    enableSorting: false,\n    selectedItems: $scope.selectedEntries,\n}\n\n $scope.$on(\"updateEntries\", function(data) {\n     // My table is filled by socket pushes, this is where it is updated.\n     $scope.updateFilters();\n }\n\n $scope.$on(\"newFilter\", function(newFilter) {\n     // This is where I update my filter\n     $scope.updateFilters();\n }\n\n $scope.updateFilters = function() {\n     // Filters the full set and hands the result to the grid. \n     $scope.filteredEntries = $filter('filter')($scope.entries, $scope.myFilter);\n     $scope.$digest();\n }         \n\n // A modifiable limit, modify through newFilter so data is refiltered\n $scope.lowerLimit = 50;\n\n // My Filter\n $scope.myFilter = function(entry) { \n     if (entry &lt; $scope.lowerLimit) {\n        return false; \n     }\n     return true;\n }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>You can use angular to bind to the <code>filterOptions.filterText</code> variable. There's a plunker here to demonstrate: <a href=\"http://plnkr.co/edit/PHdBhF?p=preview\">http://plnkr.co/edit/PHdBhF?p=preview</a></p>\n\n<p>I'll post the same code below:</p>\n\n<pre><code>    // main.js\n    var app = angular.module('myApp', ['ngGrid']);\n    app.controller('MyCtrl', function($scope) {\n      $scope.filterOptions = {\n        filterText: ''\n      };\n\n      $scope.myData = [{name: \"Moroni\", age: 50},\n                       {name: \"Tiancum\", age: 43},\n                       {name: \"Jacob\", age: 27},\n                       {name: \"Nephi\", age: 29},\n                       {name: \"Enos\", age: 34}];\n\n      $scope.gridOptions = {\n        data: 'myData',\n        filterOptions: $scope.filterOptions\n      };\n    });\n</code></pre>\n\n<p>The above should be about identical to the plunkers on the docs page.</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n    &lt;html ng-app=\"myApp\"&gt;\n        &lt;head lang=\"en\"&gt;\n            &lt;meta charset=\"utf-8\"&gt;\n            &lt;title&gt;Custom Plunker&lt;/title&gt;  \n            &lt;link href=\"//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/css/bootstrap-combined.min.css\" rel=\"stylesheet\"&gt;\n            &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"http://angular-ui.github.com/ng-grid/css/ng-grid.css\" /&gt;\n            &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" /&gt;\n            &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js\"&gt;&lt;/script&gt;\n            &lt;script src=\"//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n            &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.0.2/angular.min.js\"&gt;&lt;/script&gt;\n            &lt;script type=\"text/javascript\" src=\"http://angular-ui.github.com/ng-grid/lib/ng-grid.debug.js\"&gt;&lt;/script&gt;\n            &lt;script type=\"text/javascript\" src=\"main.js\"&gt;&lt;/script&gt;\n        &lt;/head&gt;\n        &lt;body ng-controller=\"MyCtrl\"&gt;\n          &lt;strong&gt;Filter:&lt;/strong&gt;&lt;input type=\"text\" ng-model=\"filterOptions.filterText\" /&gt;\n          &lt;br/&gt;\n          &lt;br/&gt;\n          &lt;div class=\"gridStyle\" ng-grid=\"gridOptions\"&gt;&lt;/div&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>Notice <code>ng-model=\"filterOptions.filterText\"</code> on the <code>&lt;input ...&gt;</code>. That's all it takes!</p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>This is my solution!! <p>\nIt found with ng-grid\nin html:</p>\n\n<pre><code>&lt;input type=\"text\" ng-model=\"miinput\" placeholder=\"Filter text\"/&gt;\n&lt;div class=\"gridStyles\" ng-grid=\"gridOpciones\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>in js:</p>\n\n<pre><code>//pagination\n$scope.filterOptions = {\n    filterText: $scope.miinput,\n    useExternalFilter: true\n}; \n$scope.totalServerItems = 0;\n$scope.pagingOptions = {\n    pageSizes: [10, 25, 50],\n    pageSize: 10,\n    currentPage: 1\n};  \n$scope.setPagingData = function(data, page, pageSize){  \n    var pagedData = data.slice((page - 1) * pageSize, page * pageSize);\n    $scope.vocabulario = pagedData;\n    $scope.totalServerItems = data.length;\n    if (!$scope.$$phase) {\n        $scope.$apply();\n    }\n};\n$scope.getPagedDataAsync = function (pageSize, page, searchText) {\n    setTimeout(function () {\n        var data;\n        if (searchText) {\n            var ft = searchText.toLowerCase();\n            $http.get('http://localhost:9000/json/voc.json').success(function (largeLoad) {     \n                data = largeLoad.filter(function(item) {\n                    return JSON.stringify(item).toLowerCase().indexOf(ft) != -1;\n                });\n                $scope.setPagingData(data,page,pageSize);\n            });            \n        } else {\n            $http.get('http://localhost:9000/json/voc.json').success(function (largeLoad) {\n                $scope.setPagingData(largeLoad,page,pageSize);\n            });\n        }\n    }, 100);\n};\n\n$scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage);\n\n$scope.$watch('pagingOptions', function (newVal, oldVal) {\n    if (newVal !== oldVal &amp;&amp; newVal.currentPage !== oldVal.currentPage) {\n        $scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage, $scope.filterOptions.filterText);\n    }\n}, true);\n$scope.$watch('filterOptions', function (newVal, oldVal) {\n    if (newVal !== oldVal) {\n        $scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage, $scope.filterOptions.filterText);\n    }\n}, true);\n\n//cada vez que escribo en el input\n$scope.$watch('miinput', function () {\n    if ($scope.miinput !== \"\") {\n        $scope.pagingOptions.currentPage=1;\n        $scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage, $scope.miinput);\n    }else{\n        $scope.getPagedDataAsync($scope.pagingOptions.pageSize, $scope.pagingOptions.currentPage, $scope.filterOptions.filterText);\n    }\n}, true);\n\n\n //\n $scope.gridOpciones = { \n    data: 'vocabulario',\n    showGroupPanel: true,\n    enableCellSelection: true,\n    enableRowSelection: true,\n    enableCellEdit: true,\n    enablePaging: true,\n    showFooter: true,\n    totalServerItems: 'totalServerItems',\n    pagingOptions: $scope.pagingOptions,\n    filterOptions: $scope.filterOptions,\n    columnDefs: [\n    {field:'I', displayName:'Id', width:60,resizable: true}, \n    {field:'T', displayName:'Type',visible:false,resizable: true},\n    {field:'N', displayName:'Level',width:60},\n    {field:'L', displayName:'List',width:100},\n    {field:'P', displayName:'English',minWidth: 400},\n    {field:'R', displayName:'Spanish', minWidth: 400}]\n };\n</code></pre>\n\n<p>//JSON</p>\n\n<pre><code> [\n{\"I\": \"3001\", \"T\": \"F\", \"N\": \"3\", \"L\": \"01 a\", \"P\": \"HE IDO ALL\\u00cd DOS VECES ESTA SEMANA\", \"R\": \"I'VE GONE THERE TWICE THIS WEEK\"},\n{\"I\": \"3002\", \"T\": \"F\", \"N\": \"3\", \"L\": \"01 a\", \"P\": \"\\u00c9L ME HA LLAMADO VARIAS VECES HOY\", \"R\": \"HE'S CALLED ME SEVERAL TIMES TODAY\"},\n {\"I\": \"3003\", \"T\": \"F\", \"N\": \"3\", \"L\": \"01 a\", \"P\": \"HEMOS LLEGADO A UNA CONCLUSI\\u00d3N\", \"R\": \"WE'VE REACHED A CONCLUSION\"},\n {\"I\": \"3004\", \"T\": \"F\", \"N\": \"3\", \"L\": \"01 a\", \"P\": \"HEMOS DECIDIDO CANCELAR EL PROYECTO\", \"R\": \"WE'VE DECIDED TO CANCEL THE PROJECT\"},\n {\"I\": \"3005\", \"T\": \"F\", \"N\": \"3\", \"L\": \"01 a\", \"P\": \"NO HAN HECHO NADA\", \"R\": \"THEY HAVEN'T DONE ANYTHING\"},\n {\"I\": \"3006\", \"T\": \"F\", \"N\": \"3\", \"L\": \"01 a\", \"P\": \"HE PROBADO MUCHAS DIFERENTES PROFESIONES\", \"R\": \"I'VE TRIED MANY DIFFERENT PROFESSIONS\"},\n {\"I\": \"3007\", \"T\": \"F\", \"N\": \"3\", \"L\": \"01 a\", \"P\": \"\\u00c9L HA PERDIDO LA VOZ\", \"R\": \"HE'S LOST HIS VOICE\"}, \n{\"I\": \"3008\", \"T\": \"F\", \"N\": \"3\", \"L\": \"01 a\", \"P\": \"ELLA NO HA VENIDO POR AQU\\u00cd \\u00daLTIMAMENTE\"}\n]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I think this is most likely very simple but I cannot find any clear documentation on how to add a filter outside of the 'filterText' that is shown on their website. What I am trying to do is something as simple as this: </p>\n\n<pre><code>$scope.filterOptions = {\n    filter: $scope.myFilter,  // &lt;- How to do something like this? \n    useExternalFilter: true\n}\n\n$scope.gridOptions = {\n        data: 'entries',\n        enableColumnResize: false,\n        multiSelect: false,\n        enableSorting: false,\n        selectedItems: $scope.selectedEntries,\n        filterOptions: $scope.filterOptions\n}\n\n$scope.lowerLimit = 50;\n// My Filter\n$scope.myFilter = function(entry) { \n    if (entry &lt; $scope.lowerLimit) {\n        return false; \n    }\n    return true;\n }\n</code></pre>\n\n<p>Edit: Or maybe if I could filter the datasource somehow? I tried this: </p>\n\n<pre><code>$scope.gridOptions = {\n        data: 'entries | filter: myFilter',\n        enableColumnResize: false,\n        multiSelect: false,\n        enableSorting: false,\n        selectedItems: $scope.selectedEntries,\n}\n</code></pre>\n\n<p>But it is throwing quite a few errors. </p>\n",
            "last_activity_date": 1415831030,
            "question_id": 17977869,
            "score": 18,
            "tags": [
                "javascript",
                "angularjs",
                "filtering",
                "ng-grid"
            ],
            "title": "How to filter my data? (ng-grid)"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>You're not going to like me saying this, but JavaScript may be the answer you're looking for. I fear that when you bring the keyboard up, the process of rendering the HTML loses priority. With a continually updating script, like a <code>setInterval</code> loop, the iPad will have no choice but to render as planned. Explicit code requires no hacks.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Looking at your source, the translate3d(0,0,0) isn't applied until the transition starts? </p>\n\n<p>Try</p>\n\n<pre><code>.screen{\n    -webkit-transform: translate3d(0,0,0);\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>.screen *, .screen{\n        -webkit-transform: translate3d(0,0,0);\n}\n</code></pre>\n\n<p>The flicker is probably the hardware acceleration kicking in (it currently only works on 3d translated elements).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I agree with Ben, you should probably set transforms on the classes themselves as well:</p>\n\n<pre><code>/*************************************************\nSlide Left\n*************************************************/\n.screen.slideleft{\n -webkit-animation-duration: 0.5s;\n -webkit-animation-timing-function: ease-in-out;\n -webkit-transform: translate3d(0,0,0);\n}\n.screen.slideleft.outgoing{\n z-index: 50 !important;\n -webkit-animation-name: slideleft-outgoing;\n -webkit-transform: translate3d(-100%,0,0);\n}\n.screen.slideleft.incoming{\n z-index: 100 !important;\n -webkit-animation-name: slideleft-incoming;\n -webkit-transform: translate3d(0,0,0);\n}\n@-webkit-keyframes slideleft-outgoing{\n from { -webkit-transform: translate3d(0,0,0); }\n to { -webkit-transform: translate3d(-100%,0,0); }\n}\n@-webkit-keyframes slideleft-incoming{\n from { -webkit-transform: translate3d(100%,0,0); }\n to { -webkit-transform: translate3d(0,0,0); }\n}\n</code></pre>\n\n<p>If that doesn't work, I'd be curious to test if only translating the X with <code>translateX(-100%)</code> fixes the problem. (Not necessarily a fix, because you don't have hardware acceleration without 3D transforms, but would help narrow down the problem.)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had the same issue, but i was able to reduce the flicker to almost unnoticeable by applying the fix described here and here:</p>\n\n<p><a href=\"http://code.google.com/p/jqtouch/issues/detail?id=301\" rel=\"nofollow\">http://code.google.com/p/jqtouch/issues/detail?id=301</a></p>\n\n<p><a href=\"https://github.com/senchalabs/jQTouch/issues/issue/130\" rel=\"nofollow\">https://github.com/senchalabs/jQTouch/issues/issue/130</a></p>\n\n<p>Basically set the z-index of the page you a are moving out to -1 and after the transistion back to 1</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Ultimately, there really wasn't a fix for this issue. It seems like form elements in WebKit on the iPad cause problems with flickering.</p>\n\n<p>My workaround was that on the onblur of each form element, I refreshed the page using hash tags to ensure it refreshed to the exact same state. It still caused a \"flicker\" while it was refreshing, but it did keep the screen from flickering throughout the rest of the app.</p>\n",
                    "is_accepted": true,
                    "score": 0
                },
                {
                    "body": "<p>I've recently been having the same problem and tried all sorts of complicated fixes. In the end I found the issue was down to the default styling on the input. I fixed my problem by adding the css <code>input{outline:none}</code>. It's prob just on the focus state so <code>input:focus{outline:none;}</code> should work. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I know this is a dinosaur old question, but there is a solution for this issue and it is quite lightweight and very simple.</p>\n\n<pre><code>document.getElementById('clicked_input').addEventListener('focus', function(e){\n    e.stopPropagation();\n},false);\n</code></pre>\n\n<p>When i was tackling this issue too, I thought I tried everything - eventually the only thing that helped, was to create a modal window (position: absolute) outside of the app's container div, and also set the app's container div to display:false; when the keyboard was coming up. While it worked it was ugly, I tested everything to see what caused the event and it seemed that when the 'focus event' bubbled up, every 3d transform gets messed up (in flickering and performance). </p>\n\n<p>Preventing the event of bubbling solved this issue completely - quite mind boggling that such a hated bug had such a simple solution?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is an old question, but I thought I'd share my experience.  </p>\n\n<p>I've been having issues with outrageous flickering (on css3 animations) on the iPad (as well as the iPhone, but in that case only in portrait view). I was able to completely resolve all of the flickering issues by setting :</p>\n\n<pre><code>-webkit-perspective: 0; \n</code></pre>\n\n<p>On the elements being animated. I'm not sure why this works, but it does (tested on iOS 4.2+, both iPad (1 and 2) and iPhone 4).</p>\n\n<p>Update: I've just become aware of an issue with Chrome when setting the value of that attribute to 1.  It works just fine when it's 0, so I've updated the above appropriately.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I'm developing an app for the iPad using HTML5/CSS3. I'm not using any framework and am just using whatever is natively supported on the device. I have created some css3 animations to emulate the typical iOS sliding left or sliding right when navigating between screens. Here's an example of the slide left animation which is taking advantage of the iPad's CSS3 hardware acceleration: (the ipad is running 4.2).</p>\n\n<pre><code>/*************************************************\nSlide Left\n*************************************************/\n.screen.slideleft{\n -webkit-animation-duration: 0.5s;\n -webkit-animation-timing-function: ease-in-out;\n}\n.screen.slideleft.outgoing{\n z-index: 50 !important;\n -webkit-animation-name: slideleft-outgoing;\n\n}\n.screen.slideleft.incoming{\n z-index: 100 !important;\n -webkit-animation-name: slideleft-incoming;\n}\n@-webkit-keyframes slideleft-outgoing{\n from { -webkit-transform: translate3d(0%,0,0); }\n to { -webkit-transform: translate3d(-100%,0,0); }\n}\n@-webkit-keyframes slideleft-incoming{\n from { -webkit-transform: translate3d(100%,0,0); }\n to { -webkit-transform: translate3d(0%,0,0); }\n}</code></pre>\n\n<p>I also have this CSS which I've attempted to use to fix the flicker:\n<code><pre>\n.incoming,\n.outgoing{\n display: block !important;\n -webkit-backface-visibility: hidden;\n}\n</pre></code></p>\n\n<p>This works great until the iPad keyboard is used. After which point all the animations flicker severely.</p>\n\n<p>I've been looking for examples of an iPad HTML5 app that uses the keyboard and doesn't have flickers afterwards, but haven't turned up much. The jqTouch demos exhibit the same behavior on the iPad (although I know they were designed for the iPhone).</p>\n\n<p>I've turned up a few posts/questions of similar questions but have never found a good answer.  I've been through <a href=\"http://css3animator.com/2010/12/fight-the-flicker-making-your-css3-animation-bomb-proof/\">http://css3animator.com/2010/12/fight-the-flicker-making-your-css3-animation-bomb-proof/</a> and the articles linked there but haven't had any success.</p>\n\n<p>Any other suggestions?</p>\n\n<p><strong>Update 1/13 @ 9am</strong></p>\n\n<p>I've added this css and it helped a lot:\n<code><pre>\n.incoming *,\n.outgoing *{\n -webkit-backface-visibility: hidden;\n -webkit-transform: translate3d(0,0,0); /* This helps with the flicker a lot. */\n}\n</code></pre></p>\n\n<p>The foreground elements don't seem to flicker anymore, but the backgrounds still do. Still looking for some help or helpful resources on Mobile Safari's memory handling tactics.</p>\n\n<p><strong>Update 1/16 @ 11pm</strong></p>\n\n<p>Increasing the z-index as suggested by anonymous. Didn't seem to make a difference.</p>\n\n<p><strong>Update 1/17 @ 8:30am</strong></p>\n\n<p>I've posted a demo of the problem <a href=\"http://projects.mediabounds.com/demos/flickering_demo/\">here</a>.</p>\n\n<p>The transitions between screens work great...until you tap/click inside one of the form fields. After the keyboard slides up and returns, all the transitions flicker. Go to the URL inside the iOS simulator or on an actual iPad to see what I'm talking about.</p>\n",
            "last_activity_date": 1379982468,
            "question_id": 4651769,
            "score": 15,
            "tags": [
                "javascript",
                "css",
                "ipad",
                "css3",
                "cordova"
            ],
            "title": "iPad css3 animation flickers after keyboard use"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<pre><code>function insertAtCursor(myField, myValue) {\n    //IE support\n    if (document.selection) {\n        myField.focus();\n        sel = document.selection.createRange();\n        sel.text = myValue;\n    }\n    //MOZILLA and others\n    else if (myField.selectionStart || myField.selectionStart == '0') {\n        var startPos = myField.selectionStart;\n        var endPos = myField.selectionEnd;\n        myField.value = myField.value.substring(0, startPos)\n            + myValue\n            + myField.value.substring(endPos, myField.value.length);\n    } else {\n        myField.value += myValue;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>This snippet could help you with it in a few lines of jQuery 1.9+: <a href=\"http://jsfiddle.net/4MBUG/2/\">http://jsfiddle.net/4MBUG/2/</a></p>\n\n<pre><code>$( 'input[type=button]' ).on('click', function(){\n  var cursorPos = $('#text_id').prop('selectionStart'),\n    v = $('#text_id').val(),\n    textBefore = v.substring(0,  cursorPos ),\n    textAfter  = v.substring( cursorPos, v.length );\n    $('#text').val( textBefore+ $(this).val() +textAfter );\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Changed it to getElementById(myField)</p>\n\n<pre><code>function insertAtCursor(myField, myValue) {\n//IE support\nif (document.selection) {\n    document.getElementById(myField).focus();\n    sel = document.selection.createRange();\n    sel.text = myValue;\n}\n//MOZILLA and others\nelse if (document.getElementById(myField).selectionStart || document.getElementById(myField).selectionStart == '0') {\n    var startPos = document.getElementById(myField).selectionStart;\n    var endPos = document.getElementById(myField).selectionEnd;\n    document.getElementById(myField).value = document.getElementById(myField).value.substring(0, startPos)\n        + myValue\n        + document.getElementById(myField).value.substring(endPos, document.getElementById(myField).value.length);\n} else {\n    document.getElementById(myField).value += myValue;\n}\n</code></pre>\n\n<p>}</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For the sake of proper Javascript</p>\n\n<pre><code>HTMLTextAreaElement.prototype.insertAtCaret = function (text) {\n  text = text || '';\n  if (document.selection) {\n    // IE\n    this.focus();\n    var sel = document.selection.createRange();\n    sel.text = text;\n  } else if (this.selectionStart || this.selectionStart === 0) {\n    // Others\n    var startPos = this.selectionStart;\n    var endPos = this.selectionEnd;\n    this.value = this.value.substring(0, startPos) +\n      text +\n      this.value.substring(endPos, this.value.length);\n    this.selectionStart = startPos + text.length;\n    this.selectionEnd = startPos + text.length;\n  } else {\n    this.value += text;\n  }\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I would like to create a simple function that adds text into a text area at the user's cursor position.  It needs to be a clean function.  Just the basics.  I can figure out the rest.  </p>\n",
            "last_activity_date": 1395687867,
            "question_id": 11076975,
            "score": 14,
            "tags": [
                "javascript",
                "textarea"
            ],
            "title": "Insert text into textarea at cursor position (Javascript)"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>With modern smartphones there's actually no difference between developing a conventional webpage and a dedicated website. </p>\n\n<p>But you could try the emulators that the major players like Apple, RIM, Motorola and Nokia provides to see how they look.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>A List Apart can get you started:\n<a href=\"http://www.alistapart.com/articles/putyourcontentinmypocket/\" rel=\"nofollow\">\"Put Your Content in My Pocket\"</a> by CRAIG HOCKENBERRY</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'd suggest taking a look at some other mobile sites. I posted a few below.</p>\n\n<ul>\n<li>m.reddit.com </li>\n<li>diggriver.com</li>\n<li>mobile.washingtonpost.com</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Since modern mobile browsers work quite much like desktop browsers, the old adage of \"minify JS and CSS, optimize images\" should be your primary concern, as bandwidth is more valuable on mobile devices.</p>\n\n<p>In addition, consider following:</p>\n\n<ul>\n<li>Think if you need all your images, and if they are too large for small screens. Consider removing or reducing the size of large images.</li>\n<li>Check your JavaScript - Will your site work without it? It may be beneficial to disable parts of it, as it may easily reduce speed on mobile browsers</li>\n<li>You can often get by simply by including specialized CSS styles tailored for small screen devices in your main site</li>\n</ul>\n\n<p>You might also find this helpful: <a href=\"http://codeutopia.net/blog/2009/07/23/why-your-mobile-site-probably-sucks/\" rel=\"nofollow\">Why your mobile site probably sucks</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Mobile sites are often used on regular phones, and often go to m.example.com instead of  www.example.com.  These sites have little/no javascript or css compatibility.  When you ask about mobile sites, keep in mind that there are two types of mobile sites.</p>\n\n<p>Modern smartphone are supposed to handle browsers the same as a full fledged browser, but they are not.  In fact, the iPhone lives in a fantasy world and will report a window width of over 900 pixels!  </p>\n\n<p>There are tricks that you can do for a smartphone.  A touchscreen has no use for the :hover pseudo-class.  This can be a problem for menus that require hovering.  You can design around this.   How? you ask...</p>\n\n<p>Apple looks at a new meta tag   (do a google search on it) and other smartphone browsers look at this as well.  With this, you can force the smartphone to report it actual screen size in pixels, and not it's pre-programmed fantasy size.</p>\n\n<p>Now that you have done this, you can use css conditional statements, <code></p>\n\n<p>@media only all and (max-width:600px){</p>\n\n<pre><code>CSS RULES THAT ONLY APPLY IF THE SCREEN WIDTH IS &lt;600 PIXELS\n}\n</code></pre>\n\n<p></code></p>\n\n<p>I've used this to block <code>&lt;div&gt;</code>s that cluttered up a mobile device screen: lightbox, for example.  I also used this to modify image widths, so they fit on the device better.  Why did I choose 600 px?  I felt that many of the newer \"netbooks\" should be lumped in here as well.</p>\n\n<p>I hope this helps.</p>\n\n<p>--Dave</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you are looking to do development specifically for an iPhone or iTouch use thise conditional statement.</p>\n\n<pre><code>[if SafMob] @import url(iphone.css);\n</code></pre>\n\n<p>Here is an article about building sites for mobile.\n<a href=\"http://www.alistapart.com/articles/pocket/\" rel=\"nofollow\">http://www.alistapart.com/articles/pocket/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Meagan Fisher's talk on <a href=\"http://events.carsonified.com/fowd/2009/london/mp3s/meagan-fisher/videos\" rel=\"nofollow\">Designing Effective Mobile Interfaces</a> provides a good overview. She recommends the book \"Mobile Web Design\" by Cameron Moll. Technology wise, I'd start by getting familiar with XHTML Mobile Profile if you're not already.</p>\n\n<p>As far as design goes, think thin. Snag a book with nice typography and see if you can duplicate the page layout with CSS. \"Elements of Typographic Style Applied to the Web\" is a good starting point for that. Phone websites are about scrolling, not complex navigation. Rhythm and spacing are important. Keep images small and your text high contrast, and you'll end up with something that loads fast and looks good.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There is also this threeparter, \"Mobile Web Design\" by Cameron Moll:</p>\n\n<p><a href=\"http://www.cameronmoll.com/archives/000415.html\" rel=\"nofollow\">State of the Mobile Web</a><br />\n<a href=\"http://www.cameronmoll.com/archives/000428.html\" rel=\"nofollow\">Methods to the Madness</a><br />\n<a href=\"http://www.cameronmoll.com/archives/000577.html\" rel=\"nofollow\">Tips &amp; Techniques</a></p>\n\n<p>The series is from 2005, but many of the info is still relevant. The last part \"Tips &amp; Techniques\" also lists a lot of other resources on mobile web development.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>UPDATE</strong>:</p>\n\n<p>While most of the text below still applies, I would now say that <a href=\"http://jquerymobile.com/\" rel=\"nofollow\">jQuery Mobile</a> does a great job of providing a well-designed and usable set of UI components, while also alleviating a lot of the device testing and detection issues that I've used WURFL for in the past. It's still in beta, but seems to be working pretty well. I recommend checking it out.</p>\n\n<hr>\n\n<p>The two most important issues to consider when getting started are:</p>\n\n<p>1) Device detection</p>\n\n<p>2) Mobile UI design</p>\n\n<p>For issue number 1, I strongly recommend looking at the WURFL device dataset:</p>\n\n<p><a href=\"http://wurfl.sourceforge.net/\" rel=\"nofollow\">http://wurfl.sourceforge.net/</a></p>\n\n<p>Using this, you can retrieve (some) capabilities of devices that are accessing your site, using their User Agent string. Testing mobile web apps is kind of like browser testing from hell--there are so many different combinations of devices and browsers, that it's a difficult task. If you can focus on developing one or two versions for fairly capable phones, say:</p>\n\n<p>1) minimum 300px width with claimed \"web\" support and a touch screen\n2) The same as above, but without a touch screen</p>\n\n<p>you can create a very usable site that will work for most \"smartphones,\" or \"app phones\" as <a href=\"http://www.nytimes.com/2009/11/05/technology/personaltech/05pogue.html?_r=2\" rel=\"nofollow\">David Pogue</a> has more accurately named them. For the actual testing, you can try:</p>\n\n<p>1) Making a list of all of your friends and what kind of phones they have\n2) Going to a phone store and using those phones to test your site</p>\n\n<p>and, regardless of what you do, you'll have to be agile when you receive the inevitable user feedback about broken/slow content on their device.</p>\n\n<p>Regarding UI design, there are a couple of issues. The simplest one is nice looking CSS. Here, just look at some mobile sites you like and steal their CSS. Once you've done this, you're basically doing regular old web development, just on a small screen. ul's will become nice iPhone-y tables, etc.</p>\n\n<p>The bigger problem is mobile web usability. In a lot of ways, we're in a 90s-web situation with mobile web development. What I mean is that we working without well-established design patterns. This makes doing mobile web development really fun, but it also means that you have to be ready to adjust your ugly/broken UI as better ideas evolve. One current example are the global nav/breadcrumbs you see on a lot of mobile sites. A surprising number of folks out there are trying to mimic the behavior of native iPhone apps by providing a persistent navigation tool (back button) within the mobile app. While this is kind of pretty, it has a few problems:</p>\n\n<p>1) It is redundant, given that the browser comes with a back button that users are very familiar with. The reason these global navs exist in native apps is that they don't come with a free navigation tool.</p>\n\n<p>2) The web is great. You can enter, leave and re-enter \"apps\" at any point in their structure. By assuming that a user takes a linear path through your app, you are decreasing its webiness, making it a lot more crude relative to the rest of the web.</p>\n\n<p>3) It breaks. Either you can get in a situation where the app nav and the browser nav point in opposite directions (hitting the back button in your app steps forward through the app history), or you fake a back button with javascript, which breaks if they don't start at the beginning of an app (emailed link, bookmark), or you set up sessions, which can be a big pain just to replicate what you get from the browser for free. Sessions are also vulnerable to brokenness (emailed links, bookmarks), and you're really not gaining much.</p>\n\n<p>I guess my main points here are:</p>\n\n<p>1) Don't forget you're on the web. The web is cool, browsers are cool, make use of that.</p>\n\n<p>2) Don't be afraid to play around. There aren't many well-established patterns here, so you may have to try out some of your own.</p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>Here is a site that afford a smartphone application for the web,i have not tested yet,\ni will post comment after using it!\n<a href=\"http://www.makeuseof.com/dir/appsbar-build-your-own-smartphone-app/\" rel=\"nofollow\">http://www.makeuseof.com/dir/appsbar-build-your-own-smartphone-app/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Ha all,</p>\n\n<p>So I've been taksed with developing a smartphone website for our property portal and first thing I did was see what lessons others had to tell online but I've found very little.</p>\n\n<p>I'm not building an app, I'm building a website and I'm looking for do's and don't with regards to html, css, widths/heights approaches, javascript (is jquery going to play nice on all platforms?) and anything else that relvant to this kind of platform.</p>\n\n<p>Looking around at others I like <a href=\"http://mobile.whistlerblackcomb.com/\">http://mobile.whistlerblackcomb.com/</a> very much.</p>\n\n<p>Regards,\nDenis</p>\n",
            "last_activity_date": 1323551139,
            "question_id": 1848885,
            "score": 14,
            "tags": [
                "javascript",
                "html",
                "css",
                "mobile",
                "smartphone"
            ],
            "title": "Where to begin with Smartphone Web Development?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>This should return the visible area:</p>\n\n<pre><code>document.body.offsetWidth\ndocument.body.offsetHeight\n</code></pre>\n\n<p>I guess this is always equal to the browser size?</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Do you mean something like this <code>window.innerHeight; window.innerWidth</code> <code>$(window).height(); $(window).width()</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>you can use</p>\n\n<pre><code>function onresize (){\n   var h = $(window).height(), w= $(window).width();\n   $('#resultboxid').html('height= ' + h + ' width: ' w);\n}\n $(window).resize(onresize ); \n\n onresize ();// first time;\n</code></pre>\n\n<p>html:</p>\n\n<pre><code>&lt;span id=resultboxid&gt;&lt;/span&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You can try adding even listener on re-size like</p>\n\n<pre><code>window.addEventListener('resize',CheckBrowserSize,false);\nfunction CheckBrowserSize() \n{\n    var ResX= document.body.offsetHeight;\n    var ResY= document.body.offsetWidth;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>JavaScript</strong></p>\n\n<pre><code>function jsUpdateSize(){\n    // Get the dimensions of the viewport\n    var width = window.innerWidth ||\n                document.documentElement.clientWidth ||\n                document.body.clientWidth;\n    var height = window.innerHeight ||\n                 document.documentElement.clientHeight ||\n                 document.body.clientHeight;\n\n    document.getElementById('jsWidth').innerHTML = width;  // Display the width\n    document.getElementById('jsHeight').innerHTML = height;// Display the height\n};\nwindow.onload = jsUpdateSize;       // When the page first loads\nwindow.onresize = jsUpdateSize;     // When the browser changes size\n</code></pre>\n\n<p><strong>jQuery</strong></p>\n\n<pre><code>function jqUpdateSize(){\n    // Get the dimensions of the viewport\n    var width = $(window).width();\n    var height = $(window).height();\n\n    $('#jqWidth').html(width);      // Display the width\n    $('#jqHeight').html(height);    // Display the height\n};\n$(document).ready(jqUpdateSize);    // When the page first loads\n$(window).resize(jqUpdateSize);     // When the browser changes size\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/Matt_Coughlin/Uvh6e/1/\">jsfiddle demo</a></p>\n\n<p><strong>Edit:</strong> Updated the JavaScript code to support IE8 and earlier.</p>\n",
                    "is_accepted": true,
                    "score": 35
                },
                {
                    "body": "<p>use width and height variable anywhere you want... when ever browser size change it will change variable value too..</p>\n\n<pre><code>$(window).resize(function() {\n    width = $(this).width());\n    height = $(this).height());\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Is there a jQuery plugin or a way using straight JavaScript to detect browser size.</p>\n\n<p>I'd prefer it is the results were 'live', so if the width or height changes, so would the results.</p>\n",
            "last_activity_date": 1366610578,
            "question_id": 12781205,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "browser"
            ],
            "title": "Live Detect Browser Size - jQuery / JavaScript"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Here is how to do it.  I used this <a href=\"http://stackoverflow.com/questions/552888/sort-div-elements-using-jquery\">SO question</a> as a reference.</p>\n\n<p>I tested this code and it works properly for your example:</p>\n\n<pre><code>$(document).ready(function() {\n    var categories = new Array();\n    var content = new Array();\n    //Get Divs\n    $('#input &gt; [category]').each(function(i) {\n    \t//Add to local array\n    \tcategories[i] = $(this).attr('category');\n    \tcontent[i] = $(this).html();\n    });\n\n    $('#input').empty();\n\n    //Sort Divs\n    var category_sort_order = ['any', 'product', 'download'];\n    for(i = 0; i &lt; category_sort_order.length; i++) {\n    \t//Grab all divs in this category and add them back to the form\n    \tfor(j = 0; j &lt; categories.length; j++) {\n    \t\tif(categories[j] == category_sort_order[i]) {\n    \t\t\t$('#input').append('&lt;div category=\"' + \n                           category_sort_order[i] + '\"&gt;' \n                           + content[j] + '&lt;/div&gt;');\n    \t\t}\n    \t};\n    }\n});\n</code></pre>\n\n<p><strong>How it works</strong></p>\n\n<p>First of all, this code requires the JQuery library.  If you're not currently using it, I highly recommend it.</p>\n\n<p>The code starts by getting all the child divs of the input div that contain a category attribute.  Then it saves their html content and their category to two separate arrays (but in the same location.</p>\n\n<p>Next it clears out all the divs under the input div.</p>\n\n<p>Finally, it goes through your categories in the order you specify in the array and appends the matching child divs in the correct order.</p>\n\n<p><strong>The For loop section</strong></p>\n\n<p>@eyelidlessness does a good job of explaining for loops, but I'll also take a whack at it. in the context of this code.</p>\n\n<p>The first line:</p>\n\n<pre><code>for(i = 0; i &lt; category_sort_order.length; i++) {\n</code></pre>\n\n<p>Means that the code which follows (everything within the curly brackets { code }) will be repeated a number of times.  Though the format looks archaic (and sorta is) it says:</p>\n\n<ol>\n<li>Create a number variable called i and set it equal to zero</li>\n<li>If that variable is less than the number of items in the category_sort_order array, then do whats in the brackets</li>\n<li>When the brackets finish, add one to the variable i (i++ means add one)</li>\n<li>Then it repeats step two and three until i is finally bigger than the number of categories in that array.</li>\n</ol>\n\n<p>A.K.A whatever is in the brackets will be run once for every category.</p>\n\n<p>Moving on... for each category, another loop is called.  This one:</p>\n\n<pre><code>for(j = 0; j &lt; categories.length; j++) {\n</code></pre>\n\n<p>loops through all of the categories of the divs that we just deleted from the screen.</p>\n\n<p>Within this loop, the if statement checks if any of the divs from the screen match the current category.  If so, they are appending, if not the loop continues searching till it goes through every div.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I thought this was a really interesting problem, here is an easy, but not incredibly performant sorting solution that I came up with.</p>\n\n<p>You can view the test page on jsbin here: <a href=\"http://jsbin.com/ocuta\" rel=\"nofollow\">http://jsbin.com/ocuta</a></p>\n\n<pre><code>function compare(x, y, context){\n  if($.inArray(x, context) &gt; $.inArray(y, context)) return 1; \n}\nfunction dom_sort(selector, order_list) {\n $items = $(selector);\n var dirty = false;\n for(var i = 0; i &lt; ($items.length - 1); i++) {\n  if (compare($items.eq(i).attr('category'), $items.eq(i+1).attr('category'), order_list)) {\n   dirty = true;\n   $items.eq(i).before($items.eq(i+1).remove());\n  }\n }\n if (dirty) setTimeout(function(){ dom_sort(selector, order_list); }, 0); \n};\ndom_sort('#input div[category]', category_sort_order);\n</code></pre>\n\n<p>Note that the <code>setTimeout</code> might not be necessary, but it just feels safer. Your call.</p>\n\n<p>You could probably clean up some performance by storing a reference to the parent and just getting children each time, instead of re-running the selector. I was going for simplicity though. You have to call the selector each time, because the order changes in a sort, and I'm not storing a reference to the parent anywhere.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Appending (or prepending) the DOM nodes again will actually sort them in the order you want. </p>\n\n<p>Using jQuery, you just have to select them in the order you want and append (or prepend) them to their container again.</p>\n\n<pre><code>$(['any', 'product', 'video'])\n\t.map(function(index, category)\n\t{ \n\t\t return $('[category='+category+']');\n\t})\n\t.prependTo('#input');\n</code></pre>\n\n<p><hr /></p>\n\n<p>Sorry, missed that you wanted to remove nodes not in your category list. Here is the corrected version:</p>\n\n<pre><code>// Create a jQuery from our array of category names, \n// it won't be usable in the DOM but still some \n// jQuery methods can be used\nvar divs = $(['any', 'product', 'video'])\n// Replace each category name in our array by the\n// actual DOM nodes selected using the attribute selector\n// syntax of jQuery.\n\t.map(function(index, category)\n\t{ \n\t\t// Here we need to do .get() to return an array of DOM nodes\n\t\treturn $('[category='+category+']').get();\n\t});\n// Remove everything in #input and replace them by our DOM nodes.\n$('#input').empty().append(divs);\n\n// The trick here is that DOM nodes are selected \n// in the order we want them in the end.\n// So when we append them again to the document,\n// they will be appended in the order we want.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I wrote a jQuery plugin to do this kind of thing that can be easily adapted for your use case.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/929519/dynamically-arranging-divs-using-jquery/929607#929607\">The original plugin is here</a></p>\n\n<p>Here's a revamp for you question</p>\n\n<pre><code>(function($) {\n\n$.fn.reOrder = function(array) {\n  return this.each(function() {\n\n    if (array) {    \n      for(var i=0; i &lt; array.length; i++) \n        array[i] = $('div[category=\"' + array[i] + '\"]');\n\n      $(this).empty();  \n\n      for(var i=0; i &lt; array.length; i++)\n        $(this).append(array[i]);      \n    }\n  });    \n}\n})(jQuery);\n</code></pre>\n\n<p>and use like so</p>\n\n<pre><code>var category_sort_order = ['any', 'product', 'download'];\n$('#input').reOrder(category_sort_order);\n</code></pre>\n\n<p>This happens to get the right order for the products this time as product1 appears before product2 in the original list, but it could be changed easily to sort categories first before putting into the array and appending to the DOM. Also, if using this for a number of elements, it could be improved by appending all elements in the array in one go instead of iterating over the array and appending one at a time. This would probably be a good case for <a href=\"http://ejohn.org/blog/dom-documentfragments/\">DocumentFragments</a>.</p>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<p>It's seems fairly direct to use the <code>sort</code> method for this one:</p>\n\n<pre><code>var category_sort_order = ['any', 'product', 'download'];\n\n// select your categories\n$('#input &gt; div')\n\n  // filter the selection down to wanted items\n  .filter(function(){\n    // get the categories index in the sort order list (\"weight\")\n    var w = $.inArray( $(this).attr('category'), category_sort_order );\n    // in the sort order list?\n    if ( w &gt; -1 ) {\n      // this item should be sorted, we'll store it's sorting index, and keep it\n      $( this ).data( 'sortindex', w );\n      return true;\n    }\n    else {\n      // remove the item from the DOM and the selection\n      $( this ).remove();\n      return false;\n    }\n  })\n\n  // sort the remainder of the items\n  .sort(function(a, b){\n    // use the previously defined values to compare who goes first\n    return $( a ).data( 'sortindex' ) - \n           $( b ).data( 'sortindex' );\n  })\n\n  // reappend the selection into it's parent node to \"apply\" it\n  .appendTo( '#input' );\n</code></pre>\n\n<p>If you happen to be using an old version of jQuery (1.2) that doesn't have the <code>sort</code> method, you can add it with this:</p>\n\n<pre><code>jQuery.fn.sort = Array.prototype.sort;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just note,</p>\n\n<p>Since there is jQuery 1.3.2 sorting is simple without any plugin like:</p>\n\n<pre><code>$('#input div').sort(CustomSort).appendTo('#input');\nfunction CustomSort( a ,b ){\n     //your custom sort function returning -1 or 1\n     //where a , b are $('#input div') elements\n}\n</code></pre>\n\n<p>This will sort all div that are childs of element with id=\"input\" .</p>\n",
                    "is_accepted": false,
                    "score": 14
                }
            ],
            "body": "<p>I'm trying to re-sort the child elements of the tag <code>input</code> by comparing\ntheir category attribute to the category order in the Javascript\nvariable <code>category_sort_order</code>. Then I need to remove divs whose category attribute\ndoes not appear in <code>category_sort_order</code>.</p>\n\n<p>The expected result should be:</p>\n\n<blockquote>\n  <p>any<br>\n  product1<br>\n  product2<br>\n  download</p>\n</blockquote>\n\n<p>The code:</p>\n\n<pre><code>&lt;div id=\"input\"&gt;\n&lt;div category=\"download\"&gt;download&lt;/div&gt;\n&lt;div category=\"video\"&gt;video1&lt;/div&gt;\n&lt;div category=\"video\"&gt;video2&lt;/div&gt;\n&lt;div category=\"product\"&gt;product1&lt;/div&gt;\n&lt;div category=\"any\"&gt;any&lt;/div&gt;\n&lt;div category=\"product\"&gt;product2&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\nvar category_sort_order = ['any', 'product', 'download'];\n&lt;/script&gt;\n</code></pre>\n\n<p>I really don't even know where to begin with this task but if you could please provide any assistance whatsoever I would be extremely grateful.</p>\n",
            "last_activity_date": 1332922956,
            "question_id": 1603617,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "sorting"
            ],
            "title": "Sorting Divs in jQuery by Custom Sort Order"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>In C++: (the .NET bindings will likely be similar)</p>\n\n<p>Define a callback class:</p>\n\n<pre><code>class TestListener : public Awesomium::WebViewListener {\npublic:\n    virtual void onCallback(\n        Awesomium::WebView* caller,\n        const std::wstring&amp; objectName,\n        const std::wstring&amp; callbackName,\n        const Awesomium::JSArguments&amp; args\n    ) {\n        if (objectName == L\"myApi\" &amp;&amp; callbackName == L\"doMagicFoo\") {\n            cout &lt;&lt; \"callback called with \" &lt;&lt; args.size() &lt;&lt; \" args\\n\";\n        }\n    }\n\n    //...implement all the other pure virtual functions...  \n};\n</code></pre>\n\n<p>Then as you set up your WebView:        </p>\n\n<pre><code>TestListener bob;\nwebView-&gt;setListener(&amp;bob);\nwebView-&gt;createObject(L\"myApi\");\nwebView-&gt;setObjectCallback(L\"myApi\", L\"doMagicFoo\");\n</code></pre>\n\n<p>Then in your HTML/JS:</p>\n\n<pre><code>&lt;button onclick=\"myApi.doMagicFoo('super', 45)\"&gt;do native call&lt;/button&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The approach depends on which version of Awesomium you're using. There's been a bit of a change of how this is done in the upcoming version 1.7 (currently at 1.7 RC3) and how it was done before. Note that there's one improvement in 1.7, in that .NET methods can now return values when JS calls a method on your app. I don't believe this was possible prior to 1.7.</p>\n\n<p>Here are the two methods:</p>\n\n<p>test.html (used for both versions)</p>\n\n<pre><code>...\n&lt;script type=\"text/javascript\"&gt;\n\n    function myMethod() {\n        document.write(\"In myMethod, calling .NET but expecting no return value.&lt;br/&gt;\");\n\n        jsobject.callNETNoReturn();\n    }\n\n    function myMethodExpectingReturn() {\n        document.write(\"In myMethodExpectingReturn, calling .NET and expecting return value.&lt;br/&gt;\");\n\n        var returnVal2 = jsobject.callNETWithReturn(\"foo\");\n        document.write(\"Got value from .NET: \" + returnVal2 + \"&lt;br/&gt;\");\n    }\n\n    function myMethodProvidingReturn(whatToReturn) {\n        var returnVal =  whatToReturn + \"bar\";\n        document.write(\"Returning '\" + returnVal + \"' to .NET.\");\n\n        return returnVal;\n    }\n&lt;/script&gt;\n...\n</code></pre>\n\n<p><strong>Version 1.7</strong></p>\n\n<p>Form1.cs</p>\n\n<pre><code>public Form1()\n{\n    InitializeComponent();\n\n    //webView is an instance of WebControl defined in your form\n    webView.DocumentReady += WebViewOnDocumentReady;\n\n    webView.Source = new Uri(\"test.html\");\n}\n\nprivate void WebViewOnDocumentReady(object sender, UrlEventArgs urlEventArgs)\n{\n    webView.DocumentReady -= WebViewOnDocumentReady;\n\n    JSObject jsobject = webView.CreateGlobalJavascriptObject(\"jsobject\");\n\n    jsobject.Bind(\"callNETNoReturn\", false, JSHandler);\n    jsobject.Bind(\"callNETWithReturn\", true, JSHandler);\n\n    webView.ExecuteJavascript(\"myMethod()\");\n    webView.ExecuteJavascript(\"myMethodExpectingReturn()\");\n    var result = webView.ExecuteJavascriptWithResult(\"myMethodProvidingReturn('foo')\");\n    Console.WriteLine(result.ToString());\n}\n\nprivate void JSHandler(object sender, JavascriptMethodEventArgs args)\n{\n    if (args.MustReturnValue)\n    {\n        Console.WriteLine(\"Got method call with return request\");\n        args.Result = \"Returning \" + args.Arguments[0];\n    }\n    else\n    {\n        Console.WriteLine(\"Got method call with no return request\");\n    }\n}\n</code></pre>\n\n<p><strong>Version 1.6</strong></p>\n\n<p>Form.cs</p>\n\n<pre><code>public Form1()\n{\n    InitializeComponent();\n\n    //webView is an instance of WebControl defined in your form\n    webView.DomReady += WebViewOnDomReady;\n\n    webView.Source = new Uri(\"test.html\");\n}\n\nprivate void WebViewOnDomReady(object sender, EventArgs eventArgs)\n{\n    webView.DomReady -= WebViewOnDomReady;\n\n    webView.CreateObject(\"jsobject\");\n    webView.SetObjectCallback(\"jsobject\", \"callNETNoReturn\", JSHandler);\n\n    webView.ExecuteJavascript(\"myMethod()\");\n\n    var result = webView.ExecuteJavascriptWithResult(\"myMethodProvidingReturn('foo')\");\n    Console.WriteLine(result.ToString());\n}\n\nprivate void JSHandler(object sender, JSCallbackEventArgs args)\n{\n    Console.WriteLine(\"Got method call with no return request\");\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 26
                }
            ],
            "body": "<p>I've scoured the internet looking for an answer, but I must be asking the wrong question.  I have a C# winforms app with an Awesomium web control.  Am I able to call methods defined in the app from javascript in the page that loads?  If so, how? (sample js code would be greatly appreciated).  Thanks!</p>\n",
            "last_activity_date": 1352909748,
            "question_id": 13280727,
            "score": 12,
            "tags": [
                "javascript",
                "awesomium"
            ],
            "title": "Can I call application methods from JavaScript in Awesomium?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Take a look at the command you've written. It looks like it's only for US maps:</p>\n\n<pre><code>--insets '[{\"codes\": [\"US-AK\"], \"width\": 200, \"left\": 10, \"top\": 370}, {\"codes\": [\"US-HI\"], \"width\": 100, \"left\": 220, \"top\": 400}]' \\\n</code></pre>\n\n<p>I don't know the answer, but that's where I'd start fixing the issue</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just in case anyone will need the same.\nTo run converter, you need (this instruction is valid for Windows environment):</p>\n\n<ul>\n<li>download and install <a href=\"http://trac.osgeo.org/osgeo4w/\" rel=\"nofollow\">OSGeo4W</a> (use Express Desktop Install)</li>\n<li>download desired shape file (<a href=\"http://www.naturalearthdata.com/downloads/10m-cultural-vectors/10m-admin-1-states-provinces/\" rel=\"nofollow\">this</a> natural data file works fine).</li>\n<li>put <a href=\"http://pypi.python.org/pypi/anyjson/0.2.0\" rel=\"nofollow\">anyjson</a> to converter directory</li>\n<li>create <strong>makemap.bat</strong> in converter directory, like this:</li>\n</ul>\n\n<p><code>\n     python ^<br>\n     &nbsp;&nbsp;&nbsp;converter.py ^<br>\n     &nbsp;&nbsp;&nbsp;../../ne_10m_admin_1_states_provinces_shp.shp ^<br>\n     &nbsp;&nbsp;&nbsp;test-map.js ^<br>\n     &nbsp;&nbsp;&nbsp;--width 400 ^<br>\n     &nbsp;&nbsp;&nbsp;--where \"ISO_3166_2 = 'RU-' and code_hasc!=''\" ^<br>\n     &nbsp;&nbsp;&nbsp;--country_name_index 12 ^<br>\n     &nbsp;&nbsp;&nbsp;--country_code_index 18 ^<br>\n     &nbsp;&nbsp;&nbsp;--minimal_area 4000000 ^<br>\n     &nbsp;&nbsp;&nbsp;--buffer_distance -0.5 ^<br>\n     &nbsp;&nbsp;&nbsp;--simplify_tolerance 10000 ^<br>\n     &nbsp;&nbsp;&nbsp;--longitude0 54.8270 ^<br>\n     &nbsp;&nbsp;&nbsp;--name russia\n</code></p>\n\n<ul>\n<li>run OSGeo4W shell (it will be added to start menu)</li>\n<li>run makemap.bat</li>\n<li>enjoy generated map</li>\n</ul>\n\n<p>As a sample output attaching this fiddle with russian map generated using steps mentioned above <a href=\"http://jsfiddle.net/dyP4c/3/\" rel=\"nofollow\">http://jsfiddle.net/dyP4c/3/</a></p>\n\n<p>About parameters (what I know)</p>\n\n<p><strong>where</strong> condition is used to filter out shapes from shapefile using shapefile attributes<br/><br/>\n<strong>simplify_tolerance</strong> will affect map quality and size<br/><br/>\n<strong>country_name_index</strong> index of REGION NAME attribute in shapefile or column in tab separated file if codes_file is used<br/><br/>\n<strong>country_code_index</strong> index of REGION CODE attribute in shapefile or column in tab separated file if codes_file is used<br/><br/>\n<strong>codes_file</strong> is tab separated file (if you want to use names/codes not from shapefile)<br/><br/>\n<strong>longitude0</strong> is longitude of area (<a href=\"http://www.google.com/search?q=russian%20longitude\" rel=\"nofollow\">used this</a>)<br/><br/>\n<strong>name</strong> is map name</p>\n\n<p>P.S.: OSGeo4W package has nice <a href=\"https://www.qgis.org/en/docs/user_manual/qgis_browser/qgis_browser.html\" rel=\"nofollow\">Quantium GIS Browser</a> to browse shapefile attributes. You can try to search other shapefiles on the web (not only natural data) to convert to jvectormap</p>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>I want to know how to create or generate a map for jquery plugin jvectormap <a href=\"http://jvectormap.com/\">http://jvectormap.com/</a></p>\n\n<p>The project has several maps:\n<a href=\"http://jvectormap.com/maps/\">http://jvectormap.com/maps/</a></p>\n\n<p>but I need I map with Australia and new Zeland divided by states. In the documentation in github <a href=\"https://github.com/bjornd/jvectormap\">https://github.com/bjornd/jvectormap</a>, it says that anyone can generate a map with this command:</p>\n\n<pre><code>python \\\n    path/to/converter.py \\\n    path/to/geo-data.shp \\\n    path/to/resulting-map.js \\\n    --width 900 \\\n    --country_name_index 4 \\\n    --where \"ISO = 'USA'\" \\\n    --codes_file path/to/codes-en.tsv \\\n    --insets '[{\"codes\": [\"US-AK\"], \"width\": 200, \"left\": 10, \"top\": 370}, {\"codes\": [\"US-HI\"], \"width\": 100, \"left\": 220, \"top\": 400}]' \\\n    --minimal_area 4000000 \\\n    --buffer_distance -3000 \\\n    --simplify_tolerance 1000 \\\n    --longtitude0 10w \\\n    --name us\n</code></pre>\n\n<p>but I think is outdates, cause I downloaded <a href=\"http://www.naturalearthdata.com/downloads/10m-cultural-vectors/10m-admin-1-states-provinces/\">http://www.naturalearthdata.com/downloads/10m-cultural-vectors/10m-admin-1-states-provinces/</a> as the documentation says, but of course didn't work.</p>\n\n<p>Can anyone tell me how to generate a map with australia and new zeland divided by states for jvectormap??</p>\n\n<p>thanks</p>\n",
            "last_activity_date": 1396100703,
            "question_id": 11068645,
            "score": 12,
            "tags": [
                "javascript",
                "jquery",
                "python",
                "jvectormap"
            ],
            "title": "How to generate a new map for jvectormap jquery plugin?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>First of all you better use <code>h:outputScript</code> to load js files... </p>\n\n<p>I think its cause of conflicts between primefaces jquery and the manually included one...</p>\n\n<p>PrimeFaces 3.2 comes with jQuery 1.7.1, So...</p>\n\n<p>Remove the </p>\n\n<p><code>&lt;script src=\"/resources/js/jquery-1.7.2.js\"&gt;&lt;/script&gt;</code> from your code</p>\n\n<p>and modify your include in the following way in your <code>&lt;h:head&gt;</code> element</p>\n\n<pre><code>&lt;f:facet name=\"first\"&gt;\n  &lt;h:outputScript library=\"js\" name=\"bootstrap.js\"/&gt;\n&lt;/f:facet&gt;\n&lt;h:outputScript library=\"primefaces\" name=\"jquery/jquery.js\"/&gt;\n&lt;h:outputScript library=\"js\" name=\"bootstrap-dropdown.js\"/&gt;\n</code></pre>\n\n<p>Also take a look at <a href=\"http://stackoverflow.com/a/5510507/617373\">JQuery Conflicts with Primefaces?</a> and related <a href=\"http://stackoverflow.com/questions/10207011\">resource ordering</a>.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>You are including JQuery twice (Primefaces imports it automatically). Remove your manual import:</p>\n\n<pre><code>&lt;script src=\"/erp/resources/js/jquery-1.7.2.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>and everything should work.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>there is an easier way to add this theme.</p>\n\n<p>If you are using a <strong>maven</strong> project bases do this:</p>\n\n<p>Add dependency </p>\n\n<pre><code>    &lt;dependency&gt;  \n        &lt;groupId&gt;org.primefaces.themes&lt;/groupId&gt;  \n        &lt;artifactId&gt;all-themes&lt;/artifactId&gt;  \n        &lt;version&gt;1.0.9&lt;/version&gt;  \n    &lt;/dependency&gt;\n</code></pre>\n\n<p><em>Or add a specific theme dependency</em></p>\n\n<p>Add this in your <strong>web.xml</strong></p>\n\n<pre><code>    &lt;context-param&gt;\n      &lt;param-name&gt;primefaces.THEME&lt;/param-name&gt;\n      &lt;param-value&gt;bootstrap&lt;/param-value&gt;\n    &lt;/context-param&gt;\n</code></pre>\n\n<p>If you are not using Maven, download the jar manually and add It to your classpath:</p>\n\n<p><a href=\"http://repository.primefaces.org/org/primefaces/themes/\" rel=\"nofollow\">http://repository.primefaces.org/org/primefaces/themes/</a></p>\n\n<p>References: </p>\n\n<ul>\n<li><a href=\"http://www.primefaces.org/showcase-labs/ui/home.jsf?theme=bootstrap\" rel=\"nofollow\">http://www.primefaces.org/showcase-labs/ui/home.jsf?theme=bootstrap</a> </li>\n<li><a href=\"http://blog.primefaces.org/?p=2139\" rel=\"nofollow\">http://blog.primefaces.org/?p=2139</a></li>\n<li><a href=\"http://primefaces.org/themes.html\" rel=\"nofollow\">http://primefaces.org/themes.html</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I'm trying to use Primefaces 3.2 (perhaps it's related to JSF in general) with Twitter Bootstrap 2.0.2 (http://twitter.github.com/bootstrap).</p>\n\n<p>I've added to the starter-example (http://twitter.github.com/bootstrap/examples/starter-template.html) a drop down menu with the following scripts in <code>&lt;h:head&gt;</code>:</p>\n\n<pre><code>&lt;script src=\"/resources/js/bootstrap.js\"&gt;&lt;/script&gt;  \n&lt;script src=\"/resources/js/jquery-1.7.2.js\"&gt;&lt;/script&gt;\n&lt;script src=\"/resources/js/bootstrap-dropdown.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>This works fine on the JSF page, but if I add a simple <code>p:dataTable</code></p>\n\n<pre><code>&lt;p:dataTable var=\"i\" value=\"#{testBean.list}\"&gt;\n  &lt;p:column&gt;\n    &lt;f:facet name=\"header\"&gt;&lt;h:outputText value=\"Item\"/&gt;&lt;/f:facet&gt;\n    &lt;h:outputText value=\"#{i}\"/&gt;\n  &lt;/p:column&gt;\n&lt;/p:dataTable&gt;\n</code></pre>\n\n<p>the dropdown menu is not working anymore. I suppose it's JavaScript related, but not sure where to search for this bug.</p>\n",
            "last_activity_date": 1363965584,
            "question_id": 10205318,
            "score": 12,
            "tags": [
                "javascript",
                "jsf-2",
                "primefaces",
                "twitter-bootstrap"
            ],
            "title": "Twitter Bootstrap with Primefaces (JSF)"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I don't think I'd create a separate 'TodoSubItem' in this case - why not create a <code>HasMany</code> relation from Todo->Todo, so a Todo can have 0..* <code>children</code>, and 0..1 <code>parent</code>?</p>\n\n<p>This way, you can re-use the order logic (if you change it to apply per collection), can create deeper nesting levels as desired (or limit that to a certain depth, if you want as well), etc. A number of things will need to be updated though, to accomodate this - for example, keep a list of child views so you can loop over them to mark each as done, and maintaining (and updating from) an ordering per <code>TodoList</code>.</p>\n\n<p>Anyway, a rough outline of a possible solution to get you started, as a sort of diff with your current version (sorry, it's completely untested and could thus contain horrible mistakes):</p>\n\n<pre><code>//Our basic **Todo** model has `text`, `order`, and `done` attributes.\nwindow.Todo = Backbone.RelationalModel.extend({\n\n    relations: [{\n        type: Backbone.HasMany,\n        key: 'children',\n        relatedModel: 'Todo',\n        collectionType: 'TodoList',\n        reverseRelation: {\n            key: 'parent',\n            includeInJSON: 'id'\n        }\n    }],\n\n    initialize: function() {\n        if ( !this.get('order') &amp;&amp; this.get( 'parent' ) ) {\n            this.set( { order: this.get( 'parent' ).nextChildIndex() } );\n        }\n    },\n\n    // Default attributes for a todo item.\n    defaults: function() {\n        return { done: false };\n    },\n\n    // Toggle the `done` state of this todo item.\n    toggle: function() {\n        this.save({done: !this.get(\"done\")});\n    }\n\n    nextChildIndex: function() {\n        var children = this.get( 'children' );\n        return children &amp;&amp; children.length || 0;\n    }\n});\n\n\n// The DOM element for a todo item...\nwindow.TodoView = Backbone.View.extend({\n\n    //... is a list tag.\n    tagName:  \"li\",\n\n    // Cache the template function for a single item.\n    template: _.template($('#item-template').html()),\n\n    // The DOM events specific to an item.\n    events: {\n        'click': 'toggleChildren',\n        'keypress input.add-child': 'addChild',\n        \"click .check\"              : \"toggleDone\",\n        \"dblclick div.todo-text\"    : \"edit\",\n        \"click span.todo-destroy\"   : \"clear\",\n        \"keypress .todo-input\"      : \"updateOnEnter\"\n    },\n\n    // The TodoView listens for changes to its model, re-rendering.\n    initialize: function() {\n        this.model.bind('change', this.render, this);\n        this.model.bind('destroy', this.remove, this);\n\n        this.model.bind( 'update:children', this.renderChild );\n        this.model.bind( 'add:children', this.renderChild );\n\n        this.el = $( this.el );\n\n        this.childViews = {};\n    },\n\n    // Re-render the contents of the todo item.\n    render: function() {\n        this.el.html(this.template(this.model.toJSON()));\n        this.setText();\n\n        // Might want to add this to the template of course\n        this.el.append( '&lt;ul&gt;', { 'class': 'children' } ).append( '&lt;input&gt;', { type: 'text', 'class': 'add-child' } );\n\n        _.each( this.get( 'children' ), function( child ) {\n            this.renderChild( child );\n        }, this );\n\n        return this;\n    },\n\n    addChild: function( text) {\n        if ( e.keyCode == 13 ) {\n            var text = this.el.find( 'input.add-child' ).text();\n            var child = new Todo( { parent: this.model, text: text } );\n        }\n    },\n\n    renderChild: function( model ) {\n        var childView = new TodoView( { model: model } );\n        this.childViews[ model.cid ] = childView;\n        this.el.find( 'ul.children' ).append( childView.render() );\n    },\n\n    toggleChildren: function() {\n        $(this.el).find( 'ul.children' ).toggle();\n    },\n\n    // Toggle the `\"done\"` state of the model.\n    toggleDone: function() {\n        this.model.toggle();\n        _.each( this.childViews, function( child ) {\n            child.model.toggle();\n        });\n    },\n\n    clear: function() {\n        this.model.set( { parent: null } );\n        this.model.destroy();\n    }\n\n    // And so on...\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>I don't think you can make self-relating models in Backbone-relational (as described an the other answer here). When I have tried this, I get an error: Backbone-relational needs the relatedModel to be defined before it can create relationships with it.</p>\n\n<p>So, I've modified the many-to-many pattern described on the backbone-relational page:</p>\n\n<p><a href=\"https://github.com/PaulUithol/Backbone-relational#many-to-many-relations\" rel=\"nofollow\">https://github.com/PaulUithol/Backbone-relational#many-to-many-relations</a></p>\n\n<p>In essence, I am creating a linking model to contain references to the model being referred to, so that this link model can be available to Backbone-relational when it is defining the actual model. </p>\n\n<p>I find it convenient to give this link model a separate relationship with both data models in the relationship, so that either can perform look relational look ups. Alternately, you could simply stuff the second model inside the link model, but then the relationship would be one directional unless you explicitly add your own references to the link model in the data model. </p>\n\n<p>Let us create a 'Person' model that has children who are other 'Person' models.</p>\n\n<pre><code>Person = Backbone.RelationalModel.extend({\nrelations: [\n    {\n        type: 'HasMany',\n        key: 'Children',\n        relatedModel: 'FamilyRelation',\n        reverseRelation: {\n            key: 'Childrenof'\n        }\n    },\n    {\n        type: 'HasMany',\n        key: 'Parent',\n        relatedModel: 'FamilyRelation',\n        reverseRelation: {\n            key: 'Parentof'\n        }\n    }\n]\n});\n</code></pre>\n\n<p>FamilyRelation needs to be defined >before&lt; Person is, so Backbone-relational can create the links, so this goes before the Person model definition in your code:</p>\n\n<pre><code>// FamilyRelation is link model between two \"Person\"s \n// to achieve the Fan/Admiree relation.\n\nFamilyRelation = Backbone.RelationalModel.extend({\n})\n</code></pre>\n\n<p>If we create two \"Person\"s:</p>\n\n<pre><code>KingKong = new Person({name: 'KingKong'});\nSonOfKong = new Person({name: 'SonOfKong'});\n</code></pre>\n\n<p>Then we can create a FamilyRelationship model that is the 'parentof' SonOfKong, and add it to KingKong's children with this line:</p>\n\n<pre><code>KingKong.get(\"children\").add({\"parentof\":SonOfKong});\n</code></pre>\n\n<p>You can then add convenience functions to the Person model, to retrieve the nested models from the FamilyRelationship model, and don't really need to touch FamilyRelation any more, except to make sure it's being saved and retrieved appropriately.</p>\n\n<p>For non-hierarchical relationships (say 'Friend', rather than 'Parent/Child', you still need these two relationships with the linking model in order to be able to retrieve one from the other, which is a bit of a hack, but it works. </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>After some fiddling I have found a way to create a true nested model:</p>\n\n<pre><code>var theModel = Backbone.RelationalModel.extend({ [...] });\ntheModel.prototype.relations.push({\n  type: Backbone.HasOne,\n  key: 'key',\n  relatedModel: theModel\n});\n</code></pre>\n\n<p>At the point where the model is used (when pushing to the relations on the prototype) it is available, thus making everything work.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I would like to use <a href=\"https://github.com/PaulUithol/Backbone-relational\">backbone-relational</a> to have nested models in my <a href=\"http://documentcloud.github.com/backbone/\">backbone.js</a> application.  </p>\n\n<p>I have been able to follow the examples in the documentation to create nested objects (e.g. one-to-many relations).  However I don't understand how to bind the lower level elements in a way that will update the upper level objects.  I think a working application would be a very helpful tutorial.</p>\n\n<p>So my question is: How do I extend the <a href=\"http://documentcloud.github.com/backbone/examples/todos/index.html\">Todos tutorial</a> using <code>backbone-relational</code> so that:</p>\n\n<ul>\n<li>one can add/remove subitems for each item</li>\n<li>double clicking on any subitem edits it (just like the original Todo example)</li>\n<li>clicking on an item hides/reveals its subitems</li>\n<li>subitems are not fetched separately but are simply an array attribute of Todo items</li>\n</ul>\n\n<p><strong>Update</strong>: I have <a href=\"http://jsfiddle.net/ZN96a/6\">created a jsfiddle for this question</a>.  So far I have:</p>\n\n<ul>\n<li>Imported the Todo example mentioned above</li>\n<li>Created a <code>TodoSubitem</code> model and a <code>TodoSubitemList</code> collection</li>\n<li>Altered the <code>Todo</code> model to extend <code>RelationalModel</code> instead of <code>Model</code>, with a <code>HasMany</code> relation to <code>TodoSubitem</code></li>\n<li>Added a <code>subitem-template</code> in the html code</li>\n</ul>\n\n<p>But I'm still not sure how to:</p>\n\n<ul>\n<li>add an input field for <code>subitems</code> that appears only when you click a <code>Todo</code> div</li>\n<li>have subitem data as an attribute of <code>Todo</code> objects, but still have <code>TodoSubitemView</code> bind DOM elements to them (e.g. <code>&lt;li&gt;</code> tags).</li>\n</ul>\n",
            "last_activity_date": 1403189753,
            "question_id": 7227597,
            "score": 12,
            "tags": [
                "javascript",
                "backbone.js",
                "backbone-relational"
            ],
            "title": "Creating nested models in Backbone with Backbone-relational"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Why do not you use node.js plugin for the same: <a href=\"https://github.com/pvorb/node-read-files\" rel=\"nofollow\">https://github.com/pvorb/node-read-files</a></p>\n\n<p><strong>Installation:</strong> npm install read-files</p>\n\n<p><strong>Usage:</strong> </p>\n\n<pre><code>  var fs = require(\"fs\");\n      require(\"read-files\");\n\n  fs.readFiles([ \"file1\", \"file2\" ], \"utf8\", function(err, data) {\n      if (err) throw err;\n\n      console.log(data);\n  });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you're writing a synchronous code, use only the synchronous functions:</p>\n\n<pre><code>var fs  = require(\"fs\");\n\nfs.readFileSync('./input.txt').toString().split('\\n').forEach(function (line) { \n    console.log(line);\n    fs.appendFileSync(\"./output.txt\", line.toString() + \"\\n\");\n});\n</code></pre>\n\n<p>For asynchronous approach you could write something like</p>\n\n<pre><code>var fs = require('fs'),\n    async = require('async'),\n    carrier = require('carrier');\n\nasync.parallel({\n    input: fs.openFile.bind(null, './input.txt', 'r'),\n    output: fs.openFile.bind(null, './output.txt', 'a')\n}, function (err, result) {\n    if (err) {\n        console.log(\"An error occured: \" + err);\n        return;\n    }\n\n    carrier.carry(result.input)\n        .on('line', result.output.write)\n        .on('end', function () {\n            result.output.end();\n            console.log(\"Done\");\n        });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>I suppose you want to perform some calculations and/or transformations on every line. If not, simple copy is one-liner (take a look at <a href=\"http://nodejs.org/api/fs.html#fs_fs_createreadstream_path_options\" rel=\"nofollow\">createReadStream documentation</a>)</p>\n\n<pre><code>fs.createReadStream('./input.txt').pipe(fs.createWriteStream('./output.txt'));\n</code></pre>\n\n<p>Now, you are trying to open file each time you want to write line, and yes, order is unpredictable here.\nMore correct version of your code:</p>\n\n<pre><code>var lines = fs.readFileSync('./input.txt').toString().split('\\n')\nfunction writeLineFromArray(lines) {\n    var line = arr.shift();\n    fs.open(\"./output.txt\", 'a', 0666, function(err, fd) {\n        fs.writeSync(fd, line + '\\n', null, undefined, function(err, written) {\n           writeLineFromArray(lines);\n        });\n    }); \n}\nwriteLinesFromArray();\n</code></pre>\n\n<p>I'd probably use one of 'given input stream, notify me on each line' modules, for example <a href=\"https://github.com/pkrumins/node-lazy/\" rel=\"nofollow\">node-lazy</a> or <a href=\"https://github.com/jahewson/node-byline\" rel=\"nofollow\">byline</a>: </p>\n\n<pre><code>var fs = require('fs'),\n    byline = require('byline');\n\nvar stream = byline(fs.createReadStream('sample.txt'));\nstream.on('line', function(line) { \n    // do stuff with line\n});\nstream.pipe(fs.createWriteStream('./output');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I tried to read a file line by line, and output it to another file, using Node.js.</p>\n\n<p>My problem is the sequence of lines sometimes messed up due to async nature of Node.js.</p>\n\n<p>eg my input file is like:\nline 1\nline 2\nline 3</p>\n\n<p>but output file could be like:\nline 1\nline 3\nline 2</p>\n\n<p>Below is my code.</p>\n\n<pre><code>var fs  = require(\"fs\");\nvar index = 1;\n\nfs.readFileSync('./input.txt').toString().split('\\n').forEach(\nfunction (line) { \n    console.log(line);\n        fs.open(\"./output.txt\", 'a', 0666, function(err, fd) {\n            fs.writeSync(fd, line.toString() + \"\\n\", null, undefined, function(err, written) {\n            })});\n    }\n);\n</code></pre>\n\n<p>Any thoughts would be appreciated, thanks.</p>\n",
            "last_activity_date": 1394554145,
            "question_id": 11986350,
            "score": 11,
            "tags": [
                "javascript",
                "node.js"
            ],
            "title": "Node.js read and write file lines"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You could run them as seperate apps listening to different ports and then have a proxy (like <a href=\"https://github.com/nodejitsu/node-http-proxy/\">https://github.com/nodejitsu/node-http-proxy/</a> ) serving everything on 8080 depending on the requested URL.</p>\n\n<p>like:</p>\n\n<pre><code>var options = {\n  router: {\n    'foo.com/baz': '127.0.0.1:8001',\n    'foo.com/buz': '127.0.0.1:8002',\n    'bar.com/buz': '127.0.0.1:8003'\n  }\n};\n</code></pre>\n\n<p>Works like charm for me ( <a href=\"http://nerdpress.org/2012/04/20/hosting-multiple-express-node-js-apps-on-port-80/\">http://nerdpress.org/2012/04/20/hosting-multiple-express-node-js-apps-on-port-80/</a>). I wasn't so keen on having them mounted as sub-apps, as suggested in the comments because i wanted them to run independently...</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>although Max gave a great answer (which is something i will be doing for 1 of my sub apps only) here is what i did for others -</p>\n\n<pre><code>app\n  .use('/app1', require('./app1/index').app)\n  .use('/app2', require('./app2/index').app)\n  .listen(8080);\n</code></pre>\n\n<p>thanks to deedubs on #express (freenode irc) for the answer.</p>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>I have multiple Node applications (build on Express framework).</p>\n\n<p>Now I have placed them like this -</p>\n\n<ul>\n<li>/var/www/app1</li>\n<li>/var/www/app2</li>\n<li>/var/www/app3</li>\n</ul>\n\n<p>Now I want to run these 3 apps on the same port (say 8080). Is that possible ?</p>\n\n<p>One thing to note is that, Each app has common routes like these -</p>\n\n<ul>\n<li>app.get('/', func...);</li>\n<li>app.get('/about', func...);</li>\n<li>app.post('/foo', func...);</li>\n<li>app.post('/bar', func...);</li>\n</ul>\n\n<p>Basically I want to do it like you can do with Apache/PHP setup.</p>\n\n<p>So with a LAMP stack when you have -</p>\n\n<ul>\n<li>/var/www/app1</li>\n<li>/var/www/app2</li>\n<li>/var/www/app3</li>\n</ul>\n\n<p>You can easily access them as different apps from -</p>\n\n<ul>\n<li>localhost/app1</li>\n<li>localhost/app2</li>\n<li>localhost/app3</li>\n</ul>\n",
            "last_activity_date": 1340808242,
            "question_id": 11225983,
            "score": 10,
            "tags": [
                "javascript",
                "node.js",
                "express"
            ],
            "title": "Running multiple Node (Express) apps on same port"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Your two problems are actually one problem. The OPTIONS request is part of the CORS process. For POST requests, the browser first sends an OPTIONS call, and the server responds if it is okay to execute it. </p>\n\n<p>If the OPTIONS request fails, Angular / Chrome shows you the reason in the console. For example: </p>\n\n<pre><code>OPTIONS https://*** Request header field Content-Type is not allowed by Access-Control-Allow-Headers. angular.min.js:106\n\nXMLHttpRequest cannot load https://***. Request header field Content-Type is not allowed by Access-Control-Allow-Headers. \n</code></pre>\n\n<p>You probably have to set Access-Control-Allow Headers on the server, too:</p>\n\n<pre><code>header('Access-Control-Allow-Headers: Content-Type, x-xsrf-token')\n</code></pre>\n\n<p>x-xrsf-token is for angular' to prevent CSRF. You may have to add more headers, depending on what you send from the client.</p>\n\n<p>Here is a very good guide on CORS: <a href=\"https://developer.mozilla.org/en-US/docs/HTTP/Access_control_CORS\">https://developer.mozilla.org/en-US/docs/HTTP/Access_control_CORS</a></p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>In AngularJS to make CORS working you also have to overwrite default settings of the angular <code>httpProvider</code>:</p>\n\n<pre><code>var myApp = angular.module('myApp', [\n    'myAppApiService']);\n\nmyApp.config(['$httpProvider', function($httpProvider) {\n        $httpProvider.defaults.useXDomain = true;\n        delete $httpProvider.defaults.headers.common['X-Requested-With'];\n    }\n]);\n</code></pre>\n\n<blockquote>\n  <p>Just setting useXDomain to true is not enough. AJAX request are also\n  send with the X-Requested-With header, which indicate them as being\n  AJAX. Removing the header is necessary, so the server is not rejecting\n  the incoming request.</p>\n</blockquote>\n\n<p><strong>Note</strong>: Answer only works for older AngularJS version previous to 1.2. With 1.2 and above you don't have to do do anything to enable CORS.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I have a basic AngularJS service setup like so:</p>\n\n<pre><code>app.factory('User', function($resource) {\nreturn $resource('http://api.mysite.com/user/:action:id/:attr', {}, {\n    history: {\n        method: 'GET',\n        params: {\n            attr: 'history'\n        }\n    },\n    update: {\n        method: 'POST',\n        params: {\n            name: 'test'\n        }\n    }\n});\n});\n</code></pre>\n\n<p>and I use it like this:</p>\n\n<pre><code>User.history({id: 'testID'}, function(data) {\n    console.log('got history');\n    console.log(data);\n});\nUser.update({id: 'me'}, function(data) {\n    console.log('updated');\n    console.log(data);\n});\n</code></pre>\n\n<p><strong>Problem one:</strong> User.update(), despite having the method set to POST, keeps sending OPTIONS as the request method.</p>\n\n<p>Though Chrome Dev tools reports the request header Access-Control-Request-Method:POST is sent as well (Not sure if that means anything).</p>\n\n<p><strong>Problem two:</strong> I keep getting an error with CORS, despite having these headers set in the API code:</p>\n\n<pre><code>header('Access-Control-Allow-Origin: *');\nheader(\"Access-Control-Allow-Methods: PUT, GET, POST, DELETE, OPTIONS\");\n</code></pre>\n\n<p>This problem only shows up though if making a non-GET request.</p>\n\n<p>What's the proper way to be handling this? I've also looked into JSONP, but with this being a RESTful api, I'm not sure how to get around the problems with only GET support.</p>\n",
            "last_activity_date": 1414578114,
            "question_id": 17289195,
            "score": 9,
            "tags": [
                "javascript",
                "api",
                "angularjs",
                "cross-domain",
                "cors"
            ],
            "title": "AngularJS: POST Data to External REST API"
        }
    ]
}
