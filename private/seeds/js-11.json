{
    "items": [
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>You do not require jQuery for this, simply use the following css:</p>\n\n<pre><code>li {cursor: pointer}\n</code></pre>\n\n<p>And voil\u00e0! Handy.</p>\n",
                    "is_accepted": false,
                    "score": 59
                },
                {
                    "body": "<p><strong>Edit:</strong> In light of the passage of time, as people have mentioned, you can now safely just use:</p>\n\n<pre><code>li { cursor: pointer; }\n</code></pre>\n\n<p><strong>Original Answer:</strong></p>\n\n<p>Actually to expand on the previous answers, different browsers use different names.</p>\n\n<pre><code>li { cursor: pointer; cursor: hand; }\n</code></pre>\n\n<p>Will cover you in <strong>all</strong> cases.</p>\n",
                    "is_accepted": true,
                    "score": 1017
                },
                {
                    "body": "<p>use</p>\n\n<pre><code>cursor: pointer;\ncursor: hand;\n</code></pre>\n\n<p>if you want to have a crossbrowser result!</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>This thread is getting out of hand, it quickly went from cursors to string instruments. :)</p>\n\n<p>Thankfully Google always sends me here when I need a quick reminder, for complete cross browser, use:</p>\n\n<pre><code>cursor: pointer;\ncursor: hand;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<pre><code>li:hover {\n    cursor: pointer;\n}\n</code></pre>\n\n<p>Other valid values (which <code>hand</code> is <strong>not</strong>) for the current HTML spec can be viewed <a href=\"http://www.w3.org/wiki/CSS/Properties/cursor\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<pre><code>li:hover {cursor: hand; cursor: pointer;}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>I think it would be smart to only show the hand/pointer cursor when javascript is available. So people will not have the feeling they can click on something that is not clickable.</p>\n\n<p>To achieve that you could use javascript to add the css to the element like so</p>\n\n<pre><code>$(\"li\").css({\"cursor\":\"pointer\"});\n</code></pre>\n\n<p>or chain it directly to the click handler.</p>\n\n<p>Or when <a href=\"http://modernizr.com/\">modernizer</a> in combination with <code>&lt;html class=\"no-js\"&gt;</code> is used, the css would look like this</p>\n\n<pre><code>.js li { cursor: pointer; }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>For being able to make anything get the \"mousechange\" treatment, you can add a CSS class:</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n    .mousechange:hover {\n        cursor:pointer;\n    }\n&lt;/style&gt;\n&lt;span class=\"mousechange\"&gt;Some text here&lt;/span&gt;\n</code></pre>\n\n<p>I would not say to use <code>cursor:hand</code> since it was only valid for IE 5.5 and below, and IE 6 came with XP (2002).  People will only get the hint to upgrade when their browser stops working for them.  Additionally, in Visual Studio, it will red underline that entry -- it tells me \"Validation (CSS 3.0): \"hand\" is not a valid value for the \"cursor\" property\".</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>CSS:  </p>\n  \n  <blockquote>\n    <p>.auto            { cursor: auto; }<br/>\n    .default         { cursor: default; }<br/>\n    .none            { cursor: none; }<br/>\n    .context-menu    { cursor: context-menu; }<br/>\n    .help            { cursor: help; }<br/>\n    .pointer         { cursor: pointer; }<br/>\n    .progress        { cursor: progress; }<br/>\n    .wait            { cursor: wait; }<br/>\n    .cell            { cursor: cell; }<br/>\n    .crosshair       { cursor: crosshair; }<br/>\n    .text            { cursor: text; }<br/>\n    .vertical-text   { cursor: vertical-text; }<br/>\n    .alias           { cursor: alias; }<br/>\n    .copy            { cursor: copy; }<br/>\n    .move            { cursor: move; }<br/>\n    .no-drop         { cursor: no-drop; }<br/>\n    .not-allowed     { cursor: not-allowed; }<br/>\n    .all-scroll      { cursor: all-scroll; }<br/>\n    .col-resize      { cursor: col-resize; }<br/>\n    .row-resize      { cursor: row-resize; }<br/>\n    .n-resize        { cursor: n-resize; }<br/>\n    .e-resize        { cursor: e-resize; }<br/>\n    .s-resize        { cursor: s-resize; }<br/>\n    .w-resize        { cursor: w-resize; }<br/>\n    .ns-resize       { cursor: ns-resize; }<br/>\n    .ew-resize       { cursor: ew-resize; }<br/>\n    .ne-resize       { cursor: ne-resize; }<br/>\n    .nw-resize       { cursor: nw-resize; }<br/>\n    .se-resize       { cursor: se-resize; }<br/>\n    .sw-resize       { cursor: sw-resize; }<br/>\n    .nesw-resize     { cursor: nesw-resize; }<br/>\n    .nwse-resize     { cursor: nwse-resize; }<br/><br/></p>\n  </blockquote>\n</blockquote>\n\n<p>You can also have the cursor be an image:<br/></p>\n\n<blockquote>\n  <p>.img-cur {<br/>\n     cursor: url(images/cursor.png), auto;<br/>\n  }</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>ul li:hover{\n   cursor: pointer;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This should work</p>\n\n<pre><code>&lt;style&gt;\nli:hover{\n    cursor: hand;\n}\n&lt;/style&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've got a list, and I have a click handler for its items:</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;li&gt;foo&lt;/li&gt;\n  &lt;li&gt;goo&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>How can I change the mouse pointer into a hand pointer (like when <code>hovering</code> over a button)? Right now the pointer turns into a text selection pointer when I hover over the list items.</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1425700257,
            "question_id": 3087975,
            "score": 547,
            "tags": [
                "javascript",
                "css"
            ],
            "title": "How can I make the cursor a hand when a user hovers over a list item?"
        },
        {
            "answer_count": 14,
            "answers": [
                {
                    "body": "<p>I came across this while doing some Googling: <a href=\"http://code.google.com/p/jquery-utils/wiki/StringFormat\" rel=\"nofollow\">jquery.strings.js</a>. However, it looks like there may be a conflict with another jQuery plugin. User beware.</p>\n\n<p>Alternatively, depending on the situation, you could stick with using .net methods to format your strings. For example, if you are doing an ajax request, you could format the result with your web method before returning to the client-side.</p>\n\n<p>Acorn</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The <a href=\"http://weblogs.asp.net/scottgu/archive/2007/01/30/asp-net-ajax-1-0-source-code-released.aspx\">source code for ASP.NET AJAX is available</a> for your reference, so you can pick through it and include the parts you want to continue using into a separate JS file.  Or, you can port them to jQuery.</p>\n\n<p>Here is the format function...</p>\n\n<pre><code>String.format = function() {\n  var s = arguments[0];\n  for (var i = 0; i &lt; arguments.length - 1; i++) {       \n    var reg = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");             \n    s = s.replace(reg, arguments[i + 1]);\n  }\n\n  return s;\n}\n</code></pre>\n\n<p>And here are the endsWith and startsWith prototype functions...</p>\n\n<pre><code>String.prototype.endsWith = function (suffix) {\n  return (this.substr(this.length - suffix.length) === suffix);\n}\n\nString.prototype.startsWith = function(prefix) {\n  return (this.substr(0, prefix.length) === prefix);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 143
                },
                {
                    "body": "<p>There is an (somewhat) official option: <a href=\"http://jqueryvalidation.org/jQuery.validator.format/\">jQuery.validator.format</a>.</p>\n\n<p>Comes with jQuery Validation Plugin 1.6 (at least).<br/>\nQuite similar to the <code>String.Format</code> found in .NET.</p>\n\n<p><strong>Edit</strong> Fixed broken link.</p>\n",
                    "is_accepted": false,
                    "score": 32
                },
                {
                    "body": "<p>This is a faster/simpler (and prototypical) variation of the function that Josh posted:</p>\n\n<pre><code>String.prototype.format = String.prototype.f = function() {\n    var s = this,\n        i = arguments.length;\n\n    while (i--) {\n        s = s.replace(new RegExp('\\\\{' + i + '\\\\}', 'gm'), arguments[i]);\n    }\n    return s;\n};\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>'Added {0} by {1} to your collection'.f(title, artist)\n'Your balance is {0} USD'.f(77.7) \n</code></pre>\n\n<p>I use this so much that I aliased it to just <code>f</code>, but you can also use the more verbose <code>format</code>. e.g. <code>'Hello {0}!'.format(name)</code></p>\n",
                    "is_accepted": false,
                    "score": 103
                },
                {
                    "body": "<p>Here's mine:</p>\n\n<pre><code>String.format = function(tokenised){\n        var args = arguments;\n        return tokenised.replace(/{[0-9]}/g, function(matched){\n            matched = matched.replace(/[{}]/g, \"\");\n            return args[parseInt(matched)+1];             \n        });\n    }\n</code></pre>\n\n<p>Not bullet proof but works if you use it sensibly. </p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I couldn't get Josh Stodola's answer to work, but the following worked for me. Note the specification of <code>prototype</code>. (Tested on IE, FF, Chrome, and Safari.):</p>\n\n<pre><code>String.prototype.format = function() {\n    var s = this;\n    if(t.length - 1 != args.length){\n        alert(\"String.format(): Incorrect number of arguments\");\n    }\n    for (var i = 0; i &lt; arguments.length; i++) {       \n        var reg = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"gm\");\n        s = s.replace(reg, arguments[i]);\n    }\n    return s;\n}\n</code></pre>\n\n<p><code>s</code> really should be a <em>clone</em> of <code>this</code> so as not to be a destructive method, but it's not really necessary.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Many of the above functions (except Julian Jelfs's) contain the following error:</p>\n\n<pre><code>js&gt; '{0} {0} {1} {2}'.format(3.14, 'a{2}bc', 'foo');\n3.14 3.14 afoobc foo\n</code></pre>\n\n<p>Or, for the variants that count backwards from the end of the argument list:</p>\n\n<pre><code>js&gt; '{0} {0} {1} {2}'.format(3.14, 'a{0}bc', 'foo');\n3.14 3.14 a3.14bc foo\n</code></pre>\n\n<p>Here's a correct function. It's a prototypal variant of Julian Jelfs's code, which I made a bit tighter:</p>\n\n<pre><code>String.prototype.format = function () {\n  var args = arguments;\n  return this.replace(/\\{(\\d+)\\}/g, function (m, n) { return args[n]; });\n};\n</code></pre>\n\n<p>And here is a slightly more advanced version of the same, which allows you to escape braces by doubling them:</p>\n\n<pre><code>String.prototype.format = function () {\n  var args = arguments;\n  return this.replace(/\\{\\{|\\}\\}|\\{(\\d+)\\}/g, function (m, n) {\n    if (m == \"{{\") { return \"{\"; }\n    if (m == \"}}\") { return \"}\"; }\n    return args[n];\n  });\n};\n</code></pre>\n\n<p>This works correctly:</p>\n\n<pre><code>js&gt; '{0} {{0}} {{{0}}} {1} {2}'.format(3.14, 'a{2}bc', 'foo');\n3.14 {0} {3.14} a{2}bc foo\n</code></pre>\n\n<p>Here is another good implementation by Blair Mitchelmore, with a bunch of nice extra features: <a href=\"https://web.archive.org/web/20120315214858/http://blairmitchelmore.com/javascript/string.format\">https://web.archive.org/web/20120315214858/http://blairmitchelmore.com/javascript/string.format</a></p>\n",
                    "is_accepted": false,
                    "score": 75
                },
                {
                    "body": "<p>Here's my version that is able to escape '{', and clean up those unassigned place holders.</p>\n\n<pre><code>function getStringFormatPlaceHolderRegEx(placeHolderIndex) {\n    return new RegExp('({)?\\\\{' + placeHolderIndex + '\\\\}(?!})', 'gm')\n}\n\nfunction cleanStringFormatResult(txt) {\n    if (txt == null) return \"\";\n\n    return txt.replace(getStringFormatPlaceHolderRegEx(\"\\\\d+\"), \"\");\n}\n\nString.prototype.format = function () {\n    var txt = this.toString();\n    for (var i = 0; i &lt; arguments.length; i++) {\n        var exp = getStringFormatPlaceHolderRegEx(i);\n        txt = txt.replace(exp, (arguments[i] == null ? \"\" : arguments[i]));\n    }\n    return cleanStringFormatResult(txt);\n}\nString.format = function () {\n    var s = arguments[0];\n    if (s == null) return \"\";\n\n    for (var i = 0; i &lt; arguments.length - 1; i++) {\n        var reg = getStringFormatPlaceHolderRegEx(i);\n        s = s.replace(reg, (arguments[i + 1] == null ? \"\" : arguments[i + 1]));\n    }\n    return cleanStringFormatResult(s);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Made a format function that takes either a collection or an array as arguments</p>\n\n<p>Usage: </p>\n\n<pre><code>format(\"i can speak {language} since i was {age}\",{language:'javascript',age:10});\n\nformat(\"i can speak {0} since i was {1}\",'javascript',10});\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>var format = function (str, col) {\n    col = typeof col === 'object' ? col : Array.prototype.slice.call(arguments, 1);\n\n    return str.replace(/\\{\\{|\\}\\}|\\{(\\w+)\\}/g, function (m, n) {\n        if (m == \"{{\") { return \"{\"; }\n        if (m == \"}}\") { return \"}\"; }\n        return col[n];\n    });\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<p>Though not exactly what the Q was asking for, I've built one that is similar but uses named placeholders instead of numbered. I personally prefer having named arguments and just send in an object as an argument to it (more verbose, but easier to maintain).</p>\n\n<pre><code>String.prototype.format = function (args) {\n    var newStr = this;\n    for (var key in args) {\n        newStr = newStr.replace('{' + key + '}', args[key]);\n    }\n    return newStr;\n}\n</code></pre>\n\n<p>Here's an example usage...</p>\n\n<pre><code>alert(\"Hello {name}\".format({ name: 'World' }));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>None of the answers presented so far has no obvious optimization of using enclosure to initialize once and store regular expressions, for subsequent usages.</p>\n\n<pre><code>// DBJ.ORG string.format function\n// usage:   \"{0} means 'zero'\".format(\"nula\") \n// returns: \"nula means 'zero'\"\n// place holders must be in a range 0-99.\n// if no argument given for the placeholder, \n// no replacement will be done, so\n// \"oops {99}\".format(\"!\")\n// returns the input\n// same placeholders will be all replaced \n// with the same argument :\n// \"oops {0}{0}\".format(\"!\",\"?\")\n// returns \"oops !!\"\n//\nif (\"function\" != typeof \"\".format) \n// add format() if one does not exist already\n  String.prototype.format = (function() {\n    var rx1 = /\\{(\\d|\\d\\d)\\}/g, rx2 = /\\d+/ ;\n    return function() {\n        var args = arguments;\n        return this.replace(rx1, function($0) {\n            var idx = 1 * $0.match(rx2)[0];\n            return args[idx] !== undefined ? args[idx] : (args[idx] === \"\" ? \"\" : $0);\n        });\n    }\n}());\n\nalert(\"{0},{0},{{0}}!\".format(\"{X}\"));\n</code></pre>\n\n<p>Also, none of the examples respects format() implementation if one already exists.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>If you're using the validation plugin you can use:</p>\n\n<p><code>jQuery.validator.format(\"{0} {1}\", \"cool\", \"formatting\") = 'cool formatting'</code></p>\n\n<p><a href=\"http://docs.jquery.com/Plugins/Validation/jQuery.validator.format#templateargumentargumentN\">http://docs.jquery.com/Plugins/Validation/jQuery.validator.format#templateargumentargumentN</a>...</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;script type=\"text/javascript\"&gt;\n   var str=\"http://xyz.html?ID={0}&amp;TId={1}&amp;STId={2}&amp;RId={3},14,480,3,38\";\n   document.write(FormatString(str));\n   function FormatString(str) {\n      var args = str.split(',');\n      for (var i = 0; i &lt; args.length; i++) {\n         var reg = new RegExp(\"\\\\{\" + i + \"\\\\}\", \"\");             \n         args[0]=args[0].replace(reg, args [i+1]);\n      }\n      return args[0];\n   }\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The following answer is probably the most efficient but has the caveat of only being suitable for 1 to 1 mappings of arguments. This uses the fastest way of concatenating strings (similar to a stringbuilder: array of strings, joined). This is my own code. Probably needs a better separator though.</p>\n\n<pre><code>String.format = function(str, args)\n{\n    var t = str.split('~');\n    var sb = [t[0]];\n    for(var i = 0; i &lt; args.length; i++){\n        sb.push(args[i]);\n        sb.push(t[i+1]);\n    }\n    return sb.join(\"\");\n}\n</code></pre>\n\n<p>Use it like:</p>\n\n<pre><code>alert(String.format(\"&lt;a href='~'&gt;~&lt;/a&gt;\", [\"one\", \"two\"]));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to move some javascript code from MicrosoftAjax to JQuery. I use the javascript equivalents in MicrosoftAjax of the popular .net methods, e.g. String.format(), String.startsWith() .. etc, are there equivalents to them in JQuery?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1401719192,
            "question_id": 1038746,
            "score": 119,
            "tags": [
                "javascript",
                "jquery",
                "microsoft-ajax"
            ],
            "title": "Equivalent of String.format in JQuery"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>The difference between those will depend largely on what browser you are currently referring to. Each one implements these properties differently, or not at all. <a href=\"http://www.quirksmode.org/dom/w3c_cssom.html#mousepos\" rel=\"nofollow\">Quirksmode</a> has great documentation regarding browser differences in regards to W3C standards like the DOM and JavaScript Events.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>In JavaScript:</strong></p>\n\n<p>pageX, pageY, screenX, screenY, clientX and clientY returns a number which indicates the number of physical \"css pixels\" a point is from the reference point.  The event point is where the user clicked, the reference point is a point in the upper left.  These properties return the horizontal and vertical distance from that reference point.</p>\n\n<p><strong>pageX and pageY:</strong><br>\nRelative to the top left of the fully rendered content area in the browser. This reference point is below the url bar and back button in the upper left. This point could be anywhere in the browser window and can actually change location if there are embedded scrollable pages embedded within pages and the user moves a scrollbar.</p>\n\n<p><strong>screenX and screenY:</strong><br>\nRelative to the top left of the physical screen/monitor, this reference point only moves if you increase or decrease the number of monitors or the monitor resolution.</p>\n\n<p><strong>clientX and clientY:</strong><br>\nRelative to the upper left edge of the content area (<a href=\"http://stackoverflow.com/questions/2939693/what-is-view-port-in-html\">the viewport</a>) of the browser window.  This point does not move even if the user moves a scrollbar from within the browser.</p>\n\n<p><strong>For a visual on which browsers support which properties:</strong></p>\n\n<p><a href=\"http://www.quirksmode.org/dom/w3c_cssom.html#t03\">http://www.quirksmode.org/dom/w3c_cssom.html#t03</a></p>\n\n<p><strong>w3schools has an online Javascript interpreter and editor so you can see what each does</strong></p>\n\n<p><a href=\"http://www.w3schools.com/js/tryit.asp?filename=try_dom_event_clientxy\">http://www.w3schools.com/js/tryit.asp?filename=try_dom_event_clientxy</a></p>\n",
                    "is_accepted": false,
                    "score": 143
                },
                {
                    "body": "<ol>\n<li><strong>pageX/Y</strong> gives the coordinates relative to the <code>&lt;html&gt;</code> element in CSS pixels.</li>\n<li><strong>clientX/Y</strong> gives the coordinates relative to the <code>viewport</code> in CSS pixels.</li>\n<li><strong>screenX/Y</strong> gives the coordinates relative to the <code>screen</code> in device pixels.</li>\n</ol>\n\n<p>Regarding your last question if calculations are similar on desktop and mobile browsers... For a better understanding - on mobile browsers - we need to differentiate two new concept: the <strong>layout viewport</strong> and <strong>visual viewport</strong>. The visual viewport is the part of the page that's currently shown onscreen. The layout viewport is synonym for a full page rendered on a desktop browser (with all the elements that are not visible on the current viewport). </p>\n\n<p>On mobile browsers the <code>pageX</code> and <code>pageY</code> are still relative to the page in CSS pixels so you can obtain the mouse coordinates relative to the document page. On the other hand <code>clientX</code> and <code>clientY</code> define the mouse coordinates in relation to the <strong>visual viewport</strong>. </p>\n\n<p>There is another stackoverflow thread here regarding the differences between the visual viewport and layout viewport : <a href=\"http://stackoverflow.com/questions/6333927/difference-between-visual-viewport-and-layout-viewport\">Difference between visual viewport and layout viewport?</a></p>\n\n<p>Another good resource: <a href=\"http://www.quirksmode.org/mobile/viewports2.html\">http://www.quirksmode.org/mobile/viewports2.html</a></p>\n",
                    "is_accepted": false,
                    "score": 68
                },
                {
                    "body": "<p>Here's a picture explaining the difference between <code>pageY</code> and <code>clientY</code>. </p>\n\n<p><img src=\"http://i.stack.imgur.com/4C3no.png\" alt=\"pageY vs clientY\"></p>\n\n<p>Same for <code>pageX</code> and <code>clientX</code>, respectively.</p>\n\n<hr>\n\n<p><code>pageX/Y</code> coordinates are relative to the top left corner of the whole rendered page (including parts hidden by scrolling), </p>\n\n<p>while <code>clientX/Y</code> coordinates are relative to the top left corner of the visible part of the page, \"seen\" through browser window.</p>\n\n<h2><a href=\"http://jsbin.com/oRIDUXE/1/\">See Demo</a></h2>\n\n<p>You'll probably never need <code>screenX/Y</code></p>\n",
                    "is_accepted": false,
                    "score": 54
                },
                {
                    "body": "<p>What helped me was to add an event directly to this page and click around for myself! Open up your console in developer tools/Firebug etc and paste this:</p>\n\n<pre><code>document.addEventListener('click', function(e) { console.log(\n    'page: ' + e.pageX + ',' + e.pageY, \n    'client: ' + e.clientX + ',' + e.clientY, \n    'screen: ' + e.screenX + ',' + e.screenY) }, false);\n</code></pre>\n\n<p>With the console open next to this browser window, you can track your click position as you scroll, move the browser window, etc. </p>\n\n<p>Notice that pageX/Y and clientX/Y are the same when you're scrolled all the way to the top!</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>What is the difference between screenX/Y, clientX/Y and pageX/Y?</p>\n\n<p>Also for iPad Safari, are the calculations similar as on desktop OR there is some difference because of viewport?</p>\n\n<p>It would be great if you could point me to an example.</p>\n",
            "last_activity_date": 1416000557,
            "question_id": 6073505,
            "score": 151,
            "tags": [
                "javascript",
                "ipad",
                "safari",
                "mouse-position"
            ],
            "title": "What is the difference between screenX/Y, clientX/Y and pageX/Y?"
        },
        {
            "answer_count": 20,
            "answers": [
                {
                    "body": "<p>I know that you're currently using jQuery, but what if you defined the onclick handler inline.  Then you could do:</p>\n\n<pre><code> &lt;a href='/link/for/non-js-users.htm' onclick='loadContent(5);return false;'&gt;\n     Article 5&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Which version of HTML are you using?</p>\n\n<p>In HTML 5, it is totally valid to have custom attributes prefixed with data-, e.g.</p>\n\n<pre><code>&lt;div data-internalid=\"1337\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>In XHTML, this is not really valid. If you are in XHTML 1.1 mode, the browser will probably complain about it, but in 1.0 mode, most browsers will just silently ignore it.</p>\n\n<p>If I were you, I would follow the script based approach. You could make it automatically generated on server side so that it's not a pain in the back to maintain.</p>\n",
                    "is_accepted": true,
                    "score": 196
                },
                {
                    "body": "<p>Arbitrary attributes are not valid, but are perfectly reliable in modern browsers. If you are setting the properties via javascript, than you don't have to worry about validation as well.</p>\n\n<p>An alternative is to set attributes in javascript. jQuery has a <a href=\"http://docs.jquery.com/Core/data\">nice utility method</a> just for that purpose, or you can roll your own.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>A hack that's going to work with pretty much every possible browser is to use open classes like this: <code>&lt;a class='data\\_articleid\\_5' href=\"link/for/non-js-users.html&gt;;</code> </p>\n\n<p>This is not all that elegant to the purists, but it's universally supported, standard-compliant, and very easy to manipulate. It really seems like the best possible method. If you <code>serialize</code>, <em>modify</em>, <em>copy</em> your tags, or do pretty much anything else, <code>data</code> will stay attached, copied etc. </p>\n\n<p>The only problem is that you <strong>cannot store non-serializable objects that way</strong>, and there might be limits if you put something really huge there.</p>\n\n<p>A second way is to use <em>fake attributes</em> like: <code>&lt;a articleid='5' href=\"link/for/non-js-users.html\"&gt;</code> </p>\n\n<p>This is more elegant, but breaks standard, and I'm not 100% sure about support. Many browsers support it fully, I think IE6 supports <code>JS</code> access for it but not <code>CSS</code> <code>selectors</code> (which doesn't really matter here), maybe some browsers will be completely confused, you need to check it. </p>\n\n<p><em>Doing funny things like serializing and deserializing would be even more dangerous.</em></p>\n\n<p>Using <code>ids</code> to pure <code>JS</code> hash mostly works, except when you try to copy your tags. If you have <code>tag</code> <code>&lt;a href=\"...\" id=\"link0\"&gt;</code>, copy it via standard <code>JS</code> methods, and then try to modify <code>data</code> attached to just one copy, the other copy will be modified. </p>\n\n<p>It's not a problem if you don't copy <code>tag</code>s, or use <em>read only</em> data. If you copy <code>tag</code>s and they're modified you'll need to handle that manually.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Why not make use of the meaningful data already there, instead of adding arbitrary data?</p>\n\n<p>i.e. use <code>&lt;a href=\"/articles/5/page-title\" class=\"article-link\"&gt;</code>, and then you can programmatically get all article links on the page (via the classname) and the article ID (matching the regex <code>/articles\\/(\\d+)/</code> against <code>this.href</code>).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>One possibility might be:</p>\n\n<ul>\n<li>Create a new div to hold all the extended/arbitrary data</li>\n<li>Do something to ensure that this div is invisible (e.g. CSS plus a class attribute of the div)</li>\n<li>Put the extended/arbitrary data within [X]HTML tags (e.g. as text within cells of a table, or anything else you might like) within this invisible div</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just another way, I personally wouldn't use this but it works (assure your JSON is valid because eval() is dangerous).</p>\n\n<pre><code>&lt;a class=\"article\" href=\"link/for/non-js-users.html\"&gt;\n    &lt;span style=\"display: none;\"&gt;{\"id\": 1, \"title\":\"Something\"}&lt;/span&gt;\n    Text of Link\n&lt;/a&gt;\n\n// javascript\nvar article = document.getElementsByClassName(\"article\")[0];\nvar data = eval(article.childNodes[0].innerHTML);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>If you are using jQuery already then you should leverage the \"data\" method which is the recommended method for storing arbitrary data on a dom element with jQuery.</p>\n\n<p>To store something:</p>\n\n<pre><code>$('#myElId').data('nameYourData', { foo: 'bar' });\n</code></pre>\n\n<p>To retrieve data:</p>\n\n<pre><code>var myData = $('#myElId').data('nameYourData');\n</code></pre>\n\n<p>That is all that there is to it but take a look at the <a href=\"http://docs.jquery.com/Core/data\">jQuery documentation</a> for more info/examples.</p>\n",
                    "is_accepted": false,
                    "score": 99
                },
                {
                    "body": "<p>As long as you're actual work is done serverside, why would you need custom information in the html tags in the output anyway? all you need to know back on the server is an index into whatever kind of list of structures with your custom info. I think you're looking to store the information in the wrong place. </p>\n\n<p>I will recognize, however unfortunate, that in lots of cases the right solution isn't the right solution. In which case I would strongly suggest generating some javascript to hold the extra information. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>At my previous employer, we used custom HTML tags all the time to hold info about the form elements. The catch: We knew that the user was forced to use IE.</p>\n\n<p>It didn't work well for FireFox at the time. I don't know if FireFox has changed this or not, but be aware that adding your own attributes to HTML elements may or may-not be supported by your reader's browser.</p>\n\n<p>If you can control which browser your reader is using (i.e. an internal web applet for a corporation), then by all means, try it. What can it hurt, right?</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>As a jQuery user I would use the <a href=\"http://plugins.jquery.com/project/metadata\" rel=\"nofollow\">Metadata plugin</a>. The HTML looks clean, it validates, and you can embed anything that can be described using JSON notation.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I advocate use of the \"rel\" attribute. The XHTML validates, the attribute itself is rarely used, and the data is efficiently retrieved.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>So there should be four choices to do so:</p>\n\n<ol>\n<li>Put the data in the id attribute.</li>\n<li>Put the data in the arbitrary attribute</li>\n<li>Put the data in class attribute</li>\n<li>Put your data in another tag</li>\n</ol>\n\n<p><a href=\"http://www.shanison.com/?p=321\" rel=\"nofollow\">http://www.shanison.com/?p=321</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This is how I do you ajax pages... its a pretty easy method...</p>\n\n<pre><code>    function ajax_urls() {\n       var objApps= ['ads','user'];\n        $(\"a.ajx\").each(function(){\n               var url = $(this).attr('href');\n               for ( var i=0;i&lt; objApps.length;i++ ) {\n                   if (url.indexOf(\"/\"+objApps[i]+\"/\")&gt;-1) {\n                      $(this).attr(\"href\",url.replace(\"/\"+objApps[i]+\"/\",\"/\"+objApps[i]+\"/#p=\"));\n                   }\n               }\n           });\n}\n</code></pre>\n\n<p>How this works is it basically looks at all URLs that have the class 'ajx' and it replaces a keyword and adds the # sign... so if js is turned off then the urls would act as they normally do... all \"apps\" (each section of the site) has its own keyword... so all i need to do is add to the js array above to add more pages...</p>\n\n<p>So for example my current settings are set to:</p>\n\n<pre><code> var objApps= ['ads','user'];\n</code></pre>\n\n<p>So if i have a url such as:</p>\n\n<p>www.domain.com/ads/3923/bla/dada/bla</p>\n\n<p>the js script would replace the /ads/ part so my URL would end up being</p>\n\n<p>www.domain.com/ads/#p=3923/bla/dada/bla</p>\n\n<p>Then I use jquery bbq plugin to load the page accordingly...</p>\n\n<p><a href=\"http://benalman.com/projects/jquery-bbq-plugin/\" rel=\"nofollow\">http://benalman.com/projects/jquery-bbq-plugin/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I have found the metadata plugin to be an excellent solution to the problem of storing arbitrary data with the html tag in a way that makes it easy to retrieve and use with jQuery. </p>\n\n<p><strong>Important</strong>: The actual file you include is is only <em>5</em> kb and not <em>37</em> kb (which is the size of the complete download package)</p>\n\n<p>Here is an example of it being used to store values I use when generating a google analytics tracking event (note: data.label and data.value happen to be optional params)</p>\n\n<pre><code>$(function () {\n    $.each($(\".ga-event\"), function (index, value) {\n        $(value).click(function () {\n            var data = $(value).metadata();\n            if (data.label &amp;&amp; data.value) {\n                _gaq.push(['_trackEvent', data.category, data.action, data.label, data.value]);\n            } else if (data.label) {\n                _gaq.push(['_trackEvent', data.category, data.action, data.label]);\n            } else {\n                _gaq.push(['_trackEvent', data.category, data.action]);\n            }\n        });\n    });\n});\n\n&lt;input class=\"ga-event {category:'button', action:'click', label:'test', value:99}\" type=\"button\" value=\"Test\"/&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is good advice.  Thanks to @Prestaul</p>\n\n<blockquote>\n  <p>If you are using jQuery already then you should leverage the \"data\"\n  method which is the recommended method for storing arbitrary data on a\n  dom element with jQuery.</p>\n</blockquote>\n\n<p>Very true, but what if you want to store arbitrary data in plain-old HTML?  Here's yet another alternative...</p>\n\n<pre><code>&lt;input type=\"hidden\" name=\"whatever\" value=\"foobar\"/&gt;\n</code></pre>\n\n<p>Put your data in the name and value attributes of a hidden input element.  This might be useful if the server is generating HTML (i.e. a PHP script or whatever), and your JavaScript code is going to use this information later.</p>\n\n<p>Admittedly, not the cleanest, but it's an alternative.  It's compatible with all \nbrowsers and is valid XHTML.  You should <strong>NOT</strong> use custom attributes, nor should you really use attributes with the 'data-' prefix, as it might not work on all browsers.  And, in addition, your document will not pass W3C validation.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Another approach can be to store a key:value pair as a simple class using the following syntax :</p>\n\n<pre><code>&lt;div id=\"my_div\" class=\"foo:'bar'\"&gt;...&lt;/div&gt;\n</code></pre>\n\n<p>This is valid and can easily be retrieved with jQuery selectors or a custom made function.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You could use hidden input tags. I get no validation errors at w3.org with this:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml'&gt;\n  &lt;head&gt;\n    &lt;meta content=\"text/html;charset=UTF-8\" http-equiv=\"content-type\" /&gt;\n    &lt;title&gt;Hello&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div&gt;\n      &lt;a class=\"article\" href=\"link/for/non-js-users.html\"&gt;\n        &lt;input style=\"display: none\" name=\"articleid\" type=\"hidden\" value=\"5\" /&gt;\n      &lt;/a&gt;\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>With jQuery you'd get the article ID with something like (not tested):</p>\n\n<pre><code>$('.article input[name=articleid]').val();\n</code></pre>\n\n<p>But I'd recommend HTML5 if that is an option.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You could use the data- prefix of your own made attribute of a random element (<code>&lt;span data-randomname=\"Data goes here...\"&gt;&lt;/span&gt;</code>), but this is only valid in HTML5. Thus browsers may complain about validity.</p>\n\n<p>You could also use a <code>&lt;span style=\"display: none;\"&gt;Data goes here...&lt;/span&gt;</code> tag. But this way you can not use the attribute functions, and if css and js is turned off, this is not really a neat solution either.</p>\n\n<p>But what I personally prefer is the following:</p>\n\n<pre><code>&lt;input type=\"hidden\" title=\"Your key...\" value=\"Your value...\" /&gt;\n</code></pre>\n\n<p>The input will in all cases be hidden, the attributes are completely valid, and it will not get sent if it is within a <code>&lt;form&gt;</code> tag, since it has not got any name, right?\nAbove all, the attributes are really easy to remember and the code looks nice and easy to understand. You could even put an ID-attribute in it, so you can easily access it with JavaScript as well, and access the key-value pair with <code>input.title; input.value</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Using jquery,</p>\n\n<p>to store: $('#element_id').data('extra_tag', 'extra_info');</p>\n\n<p>to retrieve: $('#element_id').data('extra_tag');</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm making a page which has some interaction provided by javascript. Just as an example: links which send an AJAX request to get the content of articles and then display that data in a div. Obviously in this example, I need each link to store an extra bit of information: the id of the article. The way I've been handling it in case was to put that information in the href link this:</p>\n\n<pre><code>&lt;a class=\"article\" href=\"#5\"&gt;\n</code></pre>\n\n<p>I then use jQuery to find the a.article elements and attach the appropriate event handler. <em>(don't get too hung up on the usability or semantics here, it's just an example)</em></p>\n\n<p>Anyway, this method works, but it <a href=\"http://stackoverflow.com/questions/114342/what-are-code-smells-what-is-the-best-way-to-correct-them\">smells</a> a bit, and isn't extensible at all (what happens if the click function has more than one parameter? what if some of those parameters are optional?)</p>\n\n<p>The immediately obvious answer was to use attributes on the element. I mean, that's what they're for, right? (Kind of).</p>\n\n<pre><code>&lt;a articleid=\"5\" href=\"link/for/non-js-users.html\"&gt;\n</code></pre>\n\n<p>In <a href=\"http://stackoverflow.com/questions/427262/\">my recent question</a> I asked if this method was valid, and it turns out that short of defining my own DTD (I don't), then no, it's not valid or reliable. A common response was to put the data into the <code>class</code> attribute (though that might have been because of my poorly-chosen example), but to me, this smells even more. Yes it's technically valid, but it's not a great solution.</p>\n\n<p>Another method I'd used in the past was to actually generate some JS and insert it into the page in a <code>&lt;script&gt;</code> tag, creating a struct which would associate with the object.</p>\n\n<pre><code>var myData = {\n    link0 : {\n        articleId : 5,\n        target : '#showMessage'\n        // etc...\n    },\n    link1 : {\n        articleId : 13\n    }\n};\n\n&lt;a href=\"...\" id=\"link0\"&gt;\n</code></pre>\n\n<p>But this can be a real pain in butt to maintain and is generally just very messy.</p>\n\n<p>So, to get to the question, <strong>how do you store arbitrary pieces of information for HTML tags</strong>?</p>\n",
            "last_activity_date": 1415267420,
            "question_id": 432174,
            "score": 195,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "How to store arbitrary data for some HTML tags"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p>Well there are many ways. But I am guessing you are interested in an advanced \nimplementation. Few days back I was in same search, and I found one.</p>\n\n<p><a href=\"http://www.openjs.com/scripts/events/keyboard_shortcuts/\"> Here.</a></p>\n\n<p>It's good for capturing events from keyboard and you will find the character maps too.\nAnd good thing is ... it's jQuery.</p>\n\n<p>Enjoy the <a href=\"http://jonathan.tang.name/files/js_keycode/test_keycode.html\">demo</a> and decide.</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<pre><code>    &lt;script type=\"text/javascript\"&gt;\n        $(document).ready(function(){\n            $(\"#test\").keypress(function(e){\n                if (e.which == 103) \n                {\n                    alert('g'); \n                };\n            });\n        });\n    &lt;/script&gt;\n\n    &lt;input type=\"text\" id=\"test\" /&gt;\n</code></pre>\n\n<p><a href=\"http://www.webonweboff.com/tips/js/event_key_codes.aspx\" rel=\"nofollow\">this site says 71 = g but the jQuery code above thought otherwise</a></p>\n\n<p><em>Capital G = 71</em>, lowercase is 103</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>What about <a href=\"https://github.com/jeresig/jquery.hotkeys\" rel=\"nofollow\">jQuery Hotkeys</a>?</p>\n\n<blockquote>\n  <p>jQuery Hotkeys lets you watch for keyboard events anywhere in your code supporting almost any key combination.</p>\n</blockquote>\n\n<p>To bind <kbd>Ctrl</kbd>+<kbd>c</kbd> to a function (<code>f</code>), for example:</p>\n\n<pre><code>$(document).bind('keydown', 'ctrl+c', f);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 57
                },
                {
                    "body": "<p>You could also try the <a href=\"https://github.com/riklomas/shortkeys\" rel=\"nofollow\">shortKeys</a> jQuery plugin. Usage example:</p>\n\n<pre><code>$(document).shortkeys({\n  'g': function () { alert('g'); }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Since this question was originally asked, John Resig (the primary author of jQuery) has forked and improved the js-hotkeys project. His version is available at:</p>\n\n<p><a href=\"http://github.com/jeresig/jquery.hotkeys\">http://github.com/jeresig/jquery.hotkeys</a></p>\n",
                    "is_accepted": false,
                    "score": 122
                },
                {
                    "body": "<p>If you want just simple shortcuts (like 1 letter, for example just <kbd>g</kbd>) you could easily do it without a extra plugin:</p>\n\n<pre><code>$(document).keypress(function(e) {\n  if(e.charCode == 103) {\n    // Your Code\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I recently wrote a standalone library for this.  It does not require jQuery, but you can use it with jQuery no problem.  It's called Mousetrap.  </p>\n\n<p>You can check it out at <a href=\"http://craig.is/killing/mice\">http://craig.is/killing/mice</a></p>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>After studying some Jquery at Codeacademy I found a solution to bind a key with the animate property. The whole idea was to animate without scrolling to jump from one section to another. The example from Codeacademy was to move Mario through the DOM but I applied this for my website sections (CSS with 100% height). Here is a part of the code :</p>\n\n<pre><code>                $(document).keydown(function(key) {\n                    switch(parseInt(key.which,10)) {\n                        case 39:\n                                $('section').animate({top: \"-=100%\"}, 2000);\n                                break;\n                        case 37:\n                                $('section').animate({top: \"+=100%\"}, 2000);\n                                break;\n                        default:\n                                break;\n                    }\n                });\n</code></pre>\n\n<p>I think you could use this for any letter and property.</p>\n\n<p>Source : <a href=\"http://www.codecademy.com/forum_questions/50e85b2714bd580ab300527e\" rel=\"nofollow\">http://www.codecademy.com/forum_questions/50e85b2714bd580ab300527e</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You could have a look at this tutorial: <a href=\"http://www.youtube.com/watch?v=xXZsTNwfMNc\" rel=\"nofollow\">http://www.youtube.com/watch?v=xXZsTNwfMNc</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There is a new version of hotKeys.js that works with 1.10+ version of jQuery.   It is small, 100 line javascript file. 4kb or just 2kb minified.  Here are some Simple usage examples are : </p>\n\n<pre><code>$('#myBody').hotKey({ key: 'c', modifier: 'alt' }, doSomething);\n\n$('#myBody').hotKey({ key: 'f4' }, doSomethingElse);\n\n$('#myBody').hotKey({ key: 'b', modifier: 'ctrl' }, function () {\n            doSomethingWithaParameter('Daniel');\n        });\n\n$('#myBody').hotKey({ key: 'd', modifier :'shift' }, doSomethingCool);\n</code></pre>\n\n<p>Clone the repo from github : <a href=\"https://github.com/realdanielbyrne/HoyKeys.git\" rel=\"nofollow\">https://github.com/realdanielbyrne/HoyKeys.git</a>\nor go to the github repo page <a href=\"https://github.com/realdanielbyrne/HoyKeys\" rel=\"nofollow\">https://github.com/realdanielbyrne/HoyKeys</a> or fork and contribute.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Similar to @craig, I recently built a shortcut library.</p>\n\n<p><a href=\"https://github.com/blainekasten/shortcut.js\" rel=\"nofollow\">https://github.com/blainekasten/shortcut.js</a></p>\n\n<p>Chainable API with support for multple functions bound to one shortcut.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can check my small own lib for hotkeys using jQuery. Here you have a link <a href=\"https://github.com/adrianmalik/jquery-hotkeys\" rel=\"nofollow\">https://github.com/adrianmalik/jquery-hotkeys</a>. The main idea is mainly to add event for \"keydown\" or \"keyup\" events on for example $(document) object.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can I wire an event to fire if someone presses the letter <kbd>g</kbd>?</p>\n\n<p>(Where is the character map for all the letters BTW?)</p>\n",
            "last_activity_date": 1420065915,
            "question_id": 593602,
            "score": 139,
            "tags": [
                "javascript",
                "jquery",
                "keyboard-shortcuts"
            ],
            "title": "Keyboard shortcuts with jQuery"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>There is an article here that describes your problem</p>\n\n<p><a href=\"http://www.hyperarts.com/blog/facebook-fan-pages-content-for-fans-only-static-fbml/\" rel=\"nofollow\">http://www.hyperarts.com/blog/facebook-fan-pages-content-for-fans-only-static-fbml/</a></p>\n\n<pre><code>    &lt;fb:visible-to-connection&gt;\n       Fans will see this content.\n       &lt;fb:else&gt;\n           Non-fans will see this content.\n       &lt;/fb:else&gt;\n    &lt;/fb:visible-to-connection&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You need to write a little PHP code. When user first click tab you can check is he like the page or not. Below is the sample code</p>\n\n<pre><code>include_once(\"facebook.php\");\n\n    // Create our Application instance.\n    $facebook = new Facebook(array(\n      'appId'  =&gt; FACEBOOK_APP_ID,\n      'secret' =&gt; FACEBOOK_SECRET,\n      'cookie' =&gt; true,\n    ));\n\n$signed_request = $facebook-&gt;getSignedRequest();\n\n// Return you the Page like status\n$like_status = $signed_request[\"page\"][\"liked\"];\n\nif($like_status)\n{\n    echo 'User Liked the page';\n    // Place some content you wanna show to user\n\n}else{\n    echo 'User do not liked the page';\n    // Place some content that encourage user to like the page\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p><strong>UPDATE 21/11/2012</strong>\n@ALL : I have updated the example so that it works better and takes into accounts remarks from Chris Jacob and FB Best practices, have a look of working example <a href=\"http://jsfiddle.net/X4bn6/1042/\">here</a></p>\n\n<hr>\n\n<p>Hi So as promised here is my answer using only javascript :</p>\n\n<p>The content of the BODY of the page :</p>\n\n<pre><code>&lt;div id=\"fb-root\"&gt;&lt;/div&gt;\n&lt;script src=\"http://connect.facebook.net/en_US/all.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  FB.init({\n    appId  : 'YOUR APP ID',\n    status : true, \n    cookie : true, \n    xfbml  : true  \n  });\n&lt;/script&gt;\n\n&lt;div id=\"container_notlike\"&gt;\nYOU DONT LIKE\n&lt;/div&gt;\n\n&lt;div id=\"container_like\"&gt;\nYOU LIKE\n&lt;/div&gt;\n</code></pre>\n\n<p>The CSS :</p>\n\n<pre><code>body {\nwidth:520px;\nmargin:0; padding:0; border:0;\nfont-family: verdana;\nbackground:url(repeat.png) repeat;\nmargin-bottom:10px;\n}\np, h1 {width:450px; margin-left:50px; color:#FFF;}\np {font-size:11px;}\n\n#container_notlike, #container_like {\n    display:none\n}\n</code></pre>\n\n<p>And finally the javascript :</p>\n\n<pre><code>$(document).ready(function(){\n\n    FB.login(function(response) {\n      if (response.session) {\n\n          var user_id = response.session.uid;\n          var page_id = \"40796308305\"; //coca cola\n          var fql_query = \"SELECT uid FROM page_fan WHERE page_id = \"+page_id+\"and uid=\"+user_id;\n          var the_query = FB.Data.query(fql_query);\n\n          the_query.wait(function(rows) {\n\n              if (rows.length == 1 &amp;&amp; rows[0].uid == user_id) {\n                  $(\"#container_like\").show();\n\n                  //here you could also do some ajax and get the content for a \"liker\" instead of simply showing a hidden div in the page.\n\n              } else {\n                  $(\"#container_notlike\").show();\n                  //and here you could get the content for a non liker in ajax...\n              }\n          });\n\n\n      } else {\n        // user is not logged in\n      }\n    });\n\n});\n</code></pre>\n\n<p>So what what does it do ?</p>\n\n<p>First it logins to FB (if you already have the USER ID, and you are sure your user is already logged in facebook, you can bypass the login stuff and replace <code>response.session.uid</code> with YOUR_USER_ID (from your rails app for example)</p>\n\n<p>After that it makes a FQL query on the <code>page_fan</code> table, and the meaning is that if the user is a fan of the page, it returns the user id and otherwise it returns an empty array, after that and depending on the results its show a div or the other.</p>\n\n<p>Also there is a working demo here : <a href=\"http://jsfiddle.net/dwarfy/X4bn6/\">http://jsfiddle.net/dwarfy/X4bn6/</a> </p>\n\n<p>It's using the coca-cola page as an example, try it go and like/unlike <a href=\"http://www.facebook.com/cocacola\">the coca cola page</a> and run it again ...</p>\n\n<p>Finally some related docs :</p>\n\n<p><a href=\"http://developers.facebook.com/docs/reference/fql/page_fan/\">FQL page_fan table</a></p>\n\n<p><a href=\"http://developers.facebook.com/docs/reference/javascript/FB.Data.query/\">FBJS FB.Data.query</a></p>\n\n<p>Don't hesitate if you have any question ..</p>\n\n<p>Cheers</p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>As stated by somebody, jQuery is required for the javascript version to work BUT you could easily remove it (it's only used for the document.ready and show/hide).</p>\n\n<p>For the document.ready, you could wrap your code in a function and use <code>body onload=\"your_function\"</code> or something more complicated like here : <a href=\"http://stackoverflow.com/questions/978740/javascript-how-to-detect-if-document-has-loaded-ie-7-firefox-3\">Javascript - How to detect if document has loaded (IE 7/Firefox 3)</a> so that we replace document ready.</p>\n\n<p>And for the show and hide stuff you could use something like : <code>document.getElementById(\"container_like\").style.display = \"none\" or \"block\"</code> and for more reliable cross browser techniques see here : <a href=\"http://www.webmasterworld.com/forum91/441.htm\">http://www.webmasterworld.com/forum91/441.htm</a></p>\n\n<p>But jQuery is so easy :)</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Relatively to the comment I posted here below here is some ruby code to decode the \"signed_request\" that facebook POST to your CANVAS URL when it fetches it for display inside facebook.</p>\n\n<p>In your action controller :</p>\n\n<pre><code>decoded_request = Canvas.parse_signed_request(params[:signed_request])\n</code></pre>\n\n<p>And then its a matter of checking the decoded request and display one page or another .. (Not sure about this one, I'm not comfortable with ruby)</p>\n\n<pre><code>decoded_request['page']['liked']\n</code></pre>\n\n<p>And here is the related Canvas Class (from <a href=\"https://github.com/nsanta/fbgraph/\">fbgraph ruby library</a>) :</p>\n\n<pre><code> class Canvas\n\n    class &lt;&lt; self\n      def parse_signed_request(secret_id,request)\n        encoded_sig, payload = request.split('.', 2)\n        sig = \"\"\n        urldecode64(encoded_sig).each_byte { |b|\n          sig &lt;&lt; \"%02x\" % b\n        }\n        data = JSON.parse(urldecode64(payload))\n          if data['algorithm'].to_s.upcase != 'HMAC-SHA256'\n          raise \"Bad signature algorithm: %s\" % data['algorithm']\n        end\n        expected_sig = OpenSSL::HMAC.hexdigest('sha256', secret_id, payload)\n        if expected_sig != sig\n          raise \"Bad signature\"\n        end\n        data\n      end\n\n      private\n\n      def urldecode64(str)\n        encoded_str = str.gsub('-','+').gsub('_','/')\n        encoded_str += '=' while !(encoded_str.size % 4).zero?\n        Base64.decode64(encoded_str)\n      end\n    end  \n\n end\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 73
                },
                {
                    "body": "<p>There are some changes required to JavaScript code to handle rendering based on user liking or not liking the page mandated by Facebook moving to Auth2.0 authorization. </p>\n\n<p>Change is fairly simple:-</p>\n\n<p>sessions has to be replaced by authResponse and uid by userID</p>\n\n<p>Moreover given the requirement of the code and some issues faced by people(including me) in general with FB.login, use of FB.getLoginStatus is a better alternative. It saves query to FB in case user is logged in and has authenticated your app.</p>\n\n<p>Refer to Response and Sessions Object section for info on how this might save query to FB server. <a href=\"http://developers.facebook.com/docs/reference/javascript/FB.getLoginStatus/\" rel=\"nofollow\">http://developers.facebook.com/docs/reference/javascript/FB.getLoginStatus/</a></p>\n\n<p>Issues with FB.login and its fixes using FB.getLoginStatus.\n<a href=\"http://forum.developers.facebook.net/viewtopic.php?id=70634\" rel=\"nofollow\">http://forum.developers.facebook.net/viewtopic.php?id=70634</a></p>\n\n<p>Here is the code posted above with changes which worked for me.</p>\n\n<pre><code>$(document).ready(function(){\n    FB.getLoginStatus(function(response) {\n        if (response.status == 'connected') {\n            var user_id = response.authResponse.userID;\n            var page_id = \"40796308305\"; //coca cola\n            var fql_query = \"SELECT uid FROM page_fan WHERE page_id =\" + page_id + \" and uid=\" + user_id;\n            var the_query = FB.Data.query(fql_query);\n\n            the_query.wait(function(rows) {\n\n                if (rows.length == 1 &amp;&amp; rows[0].uid == user_id) {\n                    $(\"#container_like\").show();\n\n                    //here you could also do some ajax and get the content for a \"liker\" instead of simply showing a hidden div in the page.\n\n                } else {\n                    $(\"#container_notlike\").show();\n                    //and here you could get the content for a non liker in ajax...\n                }\n            });\n        } else {\n            // user is not logged in\n        }\n    });\n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here's a working example, which is a fork of <a href=\"http://stackoverflow.com/a/6314568/1190920\">this answer</a>:</p>\n\n<pre><code>$(document).ready(function(){\n    FB.login(function(response) {\n        if (response.status == 'connected') {\n            var user_id = response.authResponse.userID;\n            var page_id = \"40796308305\"; // coca cola page https://www.facebook.com/cocacola\n            var fql_query = \"SELECT uid FROM page_fan WHERE page_id=\"+page_id+\" and uid=\"+user_id;\n\n            FB.api({\n                method: 'fql.query',\n                query: fql_query\n            },\n            function(response){\n                if (response[0]) {\n                    $(\"#container_like\").show();\n                } else {\n                    $(\"#container_notlike\").show();\n                }\n            }\n            );    \n        } else {\n        // user is not logged in\n        }\n    });\n});\n</code></pre>\n\n<p>I used the FB.api method (JavaScript SDK), instead of FB.Data.query, which is deprecated.\nOr you can use the Graph API like with this example:</p>\n\n<pre><code>$(document).ready(function() {\n    FB.login(function(response) {\n        if (response.status == 'connected') {\n            var user_id = response.authResponse.userID;\n            var page_id = \"40796308305\"; // coca cola page https://www.facebook.com/cocacola\n            var fql_query = \"SELECT uid FROM page_fan WHERE page_id=\" + page_id + \" and uid=\" + user_id;\n\n            FB.api('/me/likes/'+page_id, function(response) {\n                if (response.data[0]) {\n                    $(\"#container_like\").show();\n                } else {\n                    $(\"#container_notlike\").show();\n                }\n            });\n        } else {\n            // user is not logged in\n        }\n    });\n});\u200b\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>With Javascript SDK, you can change the code as below, this should be added after FB.init call.</p>\n\n<pre><code>     // Additional initialization code such as adding Event Listeners goes here\nFB.getLoginStatus(function(response) {\n      if (response.status === 'connected') {\n        // the user is logged in and has authenticated your\n        // app, and response.authResponse supplies\n        // the user's ID, a valid access token, a signed\n        // request, and the time the access token \n        // and signed request each expire\n        var uid = response.authResponse.userID;\n        var accessToken = response.authResponse.accessToken;\n        alert('we are fine');\n      } else if (response.status === 'not_authorized') {\n        // the user is logged in to Facebook, \n        // but has not authenticated your app\n        alert('please like us');\n         $(\"#container_notlike\").show();\n      } else {\n        // the user isn't logged in to Facebook.\n        alert('please login');\n      }\n     });\n\nFB.Event.subscribe('edge.create',\nfunction(response) {\n    alert('You liked the URL: ' + response);\n      $(\"#container_like\").show();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am trying to create a Facebook iFrame app. The app should first show an image and if the user likes the page, he will get access to some content.</p>\n\n<p>I use RoR, therefore I can't use the Facebook PhP SDK.</p>\n\n<p>Here is my iFrame HTML when the user has not liked the page:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\"&gt;\n&lt;head&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" /&gt;\n&lt;style type=\"text/css\"&gt;\nbody {\nwidth:520px;\nmargin:0; padding:0; border:0;\nfont-family: verdana;\nbackground:url(repeat.png) repeat;\nmargin-bottom:10px;\n}\np, h1 {width:450px; margin-left:50px; color:#FFF;}\np {font-size:11px;}\n&lt;/style&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html;\ncharset=iso-8859-1\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"container\"&gt;\n&lt;img src=\"welcome.png\" alt=\"Frontimg\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And, if the user has liked the page:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\"&gt;\n&lt;head&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\" /&gt;\n&lt;style type=\"text/css\"&gt;\nbody {\nwidth:520px;\nmargin:0; padding:0; border:0;\nfont-family: verdana;\nbackground:url(repeat.png) repeat;\nmargin-bottom:10px;\n}\np, h1 {width:450px; margin-left:50px; color:#FFF;}\np {font-size:11px;}\n&lt;/style&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html;\ncharset=iso-8859-1\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"container\"&gt;\n&lt;img src=\"member.png\" alt=\"Frontimg\"&gt;\n&lt;p&gt;You liked this page&lt;/p&gt;\n</code></pre>\n\n<p></p>\n",
            "last_activity_date": 1353505988,
            "question_id": 6246449,
            "score": 49,
            "tags": [
                "javascript",
                "jquery",
                "ruby-on-rails",
                "ruby-on-rails-3",
                "facebook"
            ],
            "title": "Facebook how to check if user has liked page and show content?"
        },
        {
            "answer_count": 18,
            "answers": [
                {
                    "body": "<p>In looking at the \"Web Forms : input placeholder\" section of <a href=\"https://github.com/Modernizr/Modernizr/wiki/HTML5-Cross-Browser-Polyfills\">HTML5 Cross Browser Polyfills</a>, one I saw was <a href=\"https://github.com/parndt/jquery-html5-placeholder-shim\">jQuery-html5-placeholder</a>.</p>\n\n<p>I tried the <a href=\"http://www.miketaylr.com/code/placeholder.html\">demo</a> out with IE9, and it looks like it wraps your <code>&lt;input&gt;</code> with a span and overlays a label with the placeholder text.</p>\n\n<pre><code>&lt;label&gt;Text:\n  &lt;span style=\"position: relative;\"&gt;\n    &lt;input id=\"placeholder1314588474481\" name=\"text\" maxLength=\"6\" type=\"text\" placeholder=\"Hi Mom\"&gt;\n    &lt;label style=\"font: 0.75em/normal sans-serif; left: 5px; top: 3px; width: 147px; height: 15px; color: rgb(186, 186, 186); position: absolute; overflow-x: hidden; font-size-adjust: none; font-stretch: normal;\" for=\"placeholder1314588474481\"&gt;Hi Mom&lt;/label&gt;\n  &lt;/span&gt;\n&lt;/label&gt;\n</code></pre>\n\n<p>There are also other shims there, but I didn't look at them all.  One of them, <a href=\"https://github.com/jamesallardice/Placeholders.js\">Placeholders.js</a>, advertises itself as \"No dependencies (so no need to include jQuery, unlike most placeholder polyfill scripts).\"</p>\n\n<p><strong>Edit:</strong> For those more interested in \"how\" that \"what\", <a href=\"http://www.flippinawesome.org/2013/04/15/advanced-placeholder-polyfill/\">How to create an advanced HTML5 placeholder polyfill</a> which walks through the process of creating a jQuery plugin that does this.</p>\n\n<p>Also, see <a href=\"http://stackoverflow.com/questions/14445891/keep-placeholder-on-focus-in-ie10\">keep placeholder on focus in IE10</a> for comments on how placeholder text disappears on focus with IE10, which differs from Firefox and Chrome.  Not sure if there is a solution for this problem.</p>\n",
                    "is_accepted": true,
                    "score": 126
                },
                {
                    "body": "<p>The solution provided here follows the first approach (which you are not very fond of, but bear with me here), putting the default text into the field and removing it when the user focused on the field.</p>\n\n<p><a href=\"http://webservices.blog.gustavus.edu/2008/06/23/text-input-example-text-with-jquery/\" rel=\"nofollow\">http://webservices.blog.gustavus.edu/2008/06/23/text-input-example-text-with-jquery/</a></p>\n\n<p>There are 3 pieces of code.</p>\n\n<ol>\n<li>A function that empties fields / puts the default text in fields.</li>\n<li>Code for binding the switching functions to the focus events.</li>\n<li>Code for erasing the default text from the field when the form is submitted.</li>\n</ol>\n\n<p>The strong points of this solution:</p>\n\n<ol>\n<li>The default text is stored in the existing HTML attribute \"title\", which makes sense semantically.</li>\n<li><strong>The drawbacks you mentioned are overcome</strong>: the third piece of code can easily be modified into form validation code. Fields that are still set to the default text will be emptied, so you can easily check if the user has touched a certain field and cancel the submit action, forcing them to enter values. This way, your server does not need to perform extra work either. All validations should be on the client's side.</li>\n<li>This works on any browser that supports JavaScript (sounds like a lot).</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I found a quite simple solution using this method:</p>\n\n<p><a href=\"http://www.hagenburger.net/BLOG/HTML5-Input-Placeholder-Fix-With-jQuery.html\" rel=\"nofollow\">http://www.hagenburger.net/BLOG/HTML5-Input-Placeholder-Fix-With-jQuery.html</a></p>\n\n<p>it's a jquery hack, and it worked perfectly on my projects</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I have written a jquery plugin to solve this problem.. it's free..</p>\n\n<p>JQuery Directory:</p>\n\n<p><a href=\"http://plugins.jquery.com/project/kegles-jquery-placeholder\" rel=\"nofollow\">http://plugins.jquery.com/project/kegles-jquery-placeholder</a></p>\n\n<p>Site:\n<a href=\"http://www.kegles.com.br/jquery-placeholder/\" rel=\"nofollow\">www.kegles.com.br/jquery-placeholder/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<ul>\n<li>Works only for IE9+</li>\n</ul>\n\n<p>The following solution binds to input text elements with the placeholder attribute. It emulates a placeholder behaviour just for IE and clears the input's value field on submit if it is not changed. </p>\n\n<p>Add this script and IE would seem to support HTML5 placeholders. </p>\n\n<pre><code>  $(function() {\n  //Run this script only for IE\n  if (navigator.appName === \"Microsoft Internet Explorer\") {\n    $(\"input[type=text]\").each(function() {\n      var p;\n     // Run this script only for input field with placeholder attribute\n      if (p = $(this).attr('placeholder')) {\n      // Input field's value attribute gets the placeholder value.\n        $(this).val(p);\n        $(this).css('color', 'gray');\n        // On selecting the field, if value is the same as placeholder, it should become blank\n        $(this).focus(function() {\n          if (p === $(this).val()) {\n            return $(this).val('');\n          }\n        });\n         // On exiting field, if value is blank, it should be assigned the value of placeholder\n        $(this).blur(function() {\n          if ($(this).val() === '') {\n            return $(this).val(p);\n          }\n        });\n      }\n    });\n    $(\"input[type=password]\").each(function() {\n      var e_id, p;\n      if (p = $(this).attr('placeholder')) {\n        e_id = $(this).attr('id');\n        // change input type so that the text is displayed\n        document.getElementById(e_id).type = 'text';\n        $(this).val(p);\n        $(this).focus(function() {\n          // change input type so that password is not displayed\n          document.getElementById(e_id).type = 'password';\n          if (p === $(this).val()) {\n            return $(this).val('');\n          }\n        });\n        $(this).blur(function() {\n          if ($(this).val() === '') {\n            document.getElementById(e_id).type = 'text';\n            $(this).val(p);\n          }\n        });\n      }\n    });\n    $('form').submit(function() {\n      //Interrupt submission to blank out input fields with placeholder values\n      $(\"input[type=text]\").each(function() {\n        if ($(this).val() === $(this).attr('placeholder')) {\n          $(this).val('');\n        }\n      });\n     $(\"input[type=password]\").each(function() {\n        if ($(this).val() === $(this).attr('placeholder')) {\n           $(this).val('');\n        }\n      });\n    });\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Best one in my experience is <a href=\"https://github.com/mathiasbynens/jquery-placeholder\">https://github.com/mathiasbynens/jquery-placeholder</a> (recommended by <a href=\"http://html5please.com\">html5please.com</a>). <a href=\"http://afarkas.github.com/webshim/demos/index.html\">http://afarkas.github.com/webshim/demos/index.html</a> also has a good solution among its much more extensive library of polyfills.</p>\n",
                    "is_accepted": false,
                    "score": 37
                },
                {
                    "body": "<p>With a jQuery implementation you can EASILY remove the default values when it is time to submit. Below is an example:</p>\n\n<pre><code>$('#submit').click(function(){\n   var text = this.attr('placeholder');\n   var inputvalue = this.val();  // you need to collect this anyways\n   if (text === inputvalue) inputvalue = \"\";\n\n   // $.ajax(...  // do your ajax thing here\n\n});\n</code></pre>\n\n<p>I know that you are looking for an overlay, but you might prefer the ease of this route (now knowing what I wrote above). If so, then I wrote this for my own projects and it works really nice (requires jQuery) and takes just a couple minutes to implement for your entire site. It offers grey text at first, light grey when in focus, and black when typing. It also offers the placeholder text whenever the input field is empty. </p>\n\n<p>First set up your form and include your placeholder attributes on the input tags.</p>\n\n<pre><code>&lt;input placeholder=\"enter your email here\"&gt;\n</code></pre>\n\n<p>Just copy this code and save it as placeholder.js.  </p>\n\n<pre><code>(function( $ ){\n\n   $.fn.placeHolder = function() {  \n      var input = this;\n      var text = input.attr('placeholder');  // make sure you have your placeholder attributes completed for each input field\n      if (text) input.val(text).css({ color:'grey' });\n      input.focus(function(){  \n         if (input.val() === text) input.css({ color:'lightGrey' }).selectRange(0,0).one('keydown', function(){     \n            input.val(\"\").css({ color:'black' });  \n         });\n      });\n      input.blur(function(){ \n         if (input.val() == \"\" || input.val() === text) input.val(text).css({ color:'grey' }); \n      }); \n      input.keyup(function(){ \n        if (input.val() == \"\") input.val(text).css({ color:'lightGrey' }).selectRange(0,0).one('keydown', function(){\n            input.val(\"\").css({ color:'black' });\n        });               \n      });\n      input.mouseup(function(){\n        if (input.val() === text) input.selectRange(0,0); \n      });   \n   };\n\n   $.fn.selectRange = function(start, end) {\n      return this.each(function() {\n        if (this.setSelectionRange) { this.setSelectionRange(start, end);\n        } else if (this.createTextRange) {\n            var range = this.createTextRange();\n            range.collapse(true); \n            range.moveEnd('character', end); \n            range.moveStart('character', start); \n            range.select(); \n        }\n      });\n   };\n\n})( jQuery );\n</code></pre>\n\n<p>To use on just one input </p>\n\n<pre><code>$('#myinput').placeHolder();  // just one\n</code></pre>\n\n<p>This is how I recommend you implement it on all input fields on your site when the browser does not support HTML5 placeholder attributes:</p>\n\n<pre><code>var placeholder = 'placeholder' in document.createElement('input');  \nif (!placeholder) {      \n  $.getScript(\"../js/placeholder.js\", function() {   \n      $(\":input\").each(function(){   // this will work for all input fields\n        $(this).placeHolder();\n      });\n  });\n} \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>I suggest you a simple function :</p>\n\n<pre><code>function bindInOut(element,value)\n{\n    element.focus(function()\n    {\n        if(element.val() == value) element.val('');         \n    }).\n    blur(function()\n    {\n        if(element.val() == '') element.val(value);\n    });\n\n    element.blur();\n}\n</code></pre>\n\n<p>And to use it, call it in this way :</p>\n\n<pre><code>bindInOut($('#input'),'Here your value :)');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can also try to use this fork of <a href=\"https://github.com/mrded/labelify\" rel=\"nofollow\">Labelify jQuery plugin</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>After trying some suggestions and seeing issues in IE here is the one that works:</p>\n\n<p><a href=\"https://github.com/parndt/jquery-html5-placeholder-shim/\">https://github.com/parndt/jquery-html5-placeholder-shim/</a></p>\n\n<p>What I have liked - you just include the js file. No need to initiate it or anything.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I came up with a simple placeholder JQuery script that allows a custom color and uses a different behavior of clearing inputs when focused. It replaces the default placeholder in Firefox and Chrome and adds support for IE8.</p>\n\n<pre><code>// placeholder script IE8, Chrome, Firefox\n// usage: &lt;input type=\"text\" placeholder=\"some str\" /&gt;\n$(function () { \n    var textColor = '#777777'; //custom color\n\n    $('[placeholder]').each(function() {\n        (this).attr('tooltip', $(this).attr('placeholder')); //buffer\n\n        if ($(this).val() === '' || $(this).val() === $(this).attr('placeholder')) {\n            $(this).css('color', textColor).css('font-style','italic');\n            $(this).val($(this).attr('placeholder')); //IE8 compatibility\n        }\n\n        $(this).attr('placeholder',''); //disable default behavior\n\n        $(this).on('focus', function() {\n            if ($(this).val() === $(this).attr('tooltip')) {\n                $(this).val('');\n            }\n        });\n\n        $(this).on('keydown', function() {\n            $(this).css('font-style','normal').css('color','#000');\n        });\n\n        $(this).on('blur', function() {\n            if ($(this).val()  === '') {\n                $(this).val($(this).attr('tooltip')).css('color', textColor).css('font-style','italic');\n            }\n        });\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"https://github.com/vote539/placeholdr\" rel=\"nofollow\">Placeholdr</a> is a super-lightweight drop-in placeholder jQuery polyfill that I wrote.  It's less than 1 KB minified.</p>\n\n<p>I made sure that this library addresses both of your concerns:</p>\n\n<ol>\n<li><p>Placeholdr extends the <a href=\"http://api.jquery.com/val/\" rel=\"nofollow\">jQuery $.fn.val() function</a> to prevent unexpected return values when text is present in input fields as a result of Placeholdr.  So if you stick with the jQuery API for accessing your fields' values, you won't need to change a thing.</p></li>\n<li><p>Placeholdr listens for form submits, and it removes the placeholder text from fields so that the server simply sees an empty value.</p></li>\n</ol>\n\n<p>Again, my goal with Placeholdr is to provide a simple drop-in solution to the placeholder issue.  Let me know on Github if there's anything else you'd be interested in having Placeholdr support.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use :</p>\n\n<pre><code>var placeholder = 'search  here';\n\n$('#search').focus(function(){\n    if ($.trim($(this).val()) ===  placeholder){\n        this.value ='';\n    }\n}).blur(function(){\n    if ($.trim($(this).val()) ===  ''){\n        this.value = placeholder;\n    }\n}).val(placeholder);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>i use <a href=\"https://github.com/chrisdavies/jquery.placeholderlabels\" rel=\"nofollow\">jquery.placeholderlabels</a>.  It's based on <a href=\"http://mrcoles.com/blog/persistent-placeholders-tutorial-focus/\" rel=\"nofollow\">this</a> and can be demoed <a href=\"http://mrcoles.com/blog/persistent-placeholders-tutorial-focus/\" rel=\"nofollow\">here</a>.</p>\n\n<p>works in ie7, ie8, ie9.</p>\n\n<p>behavior mimics current firefox and chrome behavior - where the the \"placeholder\" text remains visible on focus and only disappears once something is typed in the field.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I created my own jQuery plugin after becoming frustrated that the existing shims would hide the placeholder on focus, which creates an inferior user experience and also does not match how Firefox, Chrome and Safari handle it. This is especially the case if you want an input to be focused when a page or popup first loads, while still showing the placeholder until text is entered.</p>\n\n<p><a href=\"https://github.com/nspady/jquery-placeholder-labels/\" rel=\"nofollow\">https://github.com/nspady/jquery-placeholder-labels/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>try this jquery method for IE Placeholder - without plugin</p>\n\n<p><a href=\"http://stackoverflow.com/a/20493126/2964167\">http://stackoverflow.com/a/20493126/2964167</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://jamesallardice.github.io/Placeholders.js/\" rel=\"nofollow\">Placeholders.js</a> is the best placeholder polyfill I've seen, is lightweight, doesn't depend on JQuery, covers other older browsers (not just IE), and has options for hide-on-input and run-once placeholders.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>TO insert the plugin and check the ie is perfectly workedjquery.placeholder.js</p>\n\n<pre><code>    &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"jquery.placeholder.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        // To test the @id toggling on password inputs in browsers that don\u2019t support changing an input\u2019s @type dynamically (e.g. Firefox 3.6 or IE), uncomment this:\n        // $.fn.hide = function() { return this; }\n        // Then uncomment the last rule in the &lt;style&gt; element (in the &lt;head&gt;).\n        $(function() {\n            // Invoke the plugin\n            $('input, textarea').placeholder({customClass:'my-placeholder'});\n            // That\u2019s it, really.\n            // Now display a message if the browser supports placeholder natively\n            var html;\n            if ($.fn.placeholder.input &amp;&amp; $.fn.placeholder.textarea) {\n                html = '&lt;strong&gt;Your current browser natively supports &lt;code&gt;placeholder&lt;/code&gt; for &lt;code&gt;input&lt;/code&gt; and &lt;code&gt;textarea&lt;/code&gt; elements.&lt;/strong&gt; The plugin won\u2019t run in this case, since it\u2019s not needed. If you want to test the plugin, use an older browser ;)';\n            } else if ($.fn.placeholder.input) {\n                html = '&lt;strong&gt;Your current browser natively supports &lt;code&gt;placeholder&lt;/code&gt; for &lt;code&gt;input&lt;/code&gt; elements, but not for &lt;code&gt;textarea&lt;/code&gt; elements.&lt;/strong&gt; The plugin will only do its thang on the &lt;code&gt;textarea&lt;/code&gt;s.';\n            }\n            if (html) {\n                $('&lt;p class=\"note\"&gt;' + html + '&lt;/p&gt;').insertAfter('form');\n            }\n        });\n    &lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>HTML5 introduced the <code>placeholder</code> attribute on <code>input</code> elements, which allows to display a greyed-out default text.</p>\n\n<p>Sadly the Internet Explorer, including IE 9 does not support it.</p>\n\n<p>There already are some placeholder simulator scripts out there. They typically work by putting the default-text into the input field, give it a grey color and remove it again as soon as you focus the input field.</p>\n\n<p>The drawback of this approach is that the placeholder text is in the input field. Thus:</p>\n\n<ol>\n<li>scripts can't easily check whether an input field is empty</li>\n<li>server side processing must check against the default value, in order to not insert the placeholder into the database.</li>\n</ol>\n\n<p>I would like to have a solution, where the placeholder text isn't in the input itself.</p>\n",
            "last_activity_date": 1423626582,
            "question_id": 5522164,
            "score": 132,
            "tags": [
                "javascript",
                "html",
                "internet-explorer",
                "placeholder"
            ],
            "title": "Input placeholders for Internet Explorer"
        },
        {
            "answer_count": 15,
            "answers": [
                {
                    "body": "<p>Internet Exploerer provides an <a href=\"http://msdn.microsoft.com/en-us/library/ie/ms536960%28v=vs.85%29.aspx\" rel=\"nofollow\">resizeEnd</a> event. Other browsers will trigger the resize event many times while you're resizing.</p>\n\n<p>There are other great answers here that show how to use setTimeout and the <a href=\"http://lodash.com/docs#throttle\" rel=\"nofollow\"><em>.throttle</a>, <a href=\"http://lodash.com/docs#debounce\" rel=\"nofollow\"></em>.debounce</a> methods from lodash and underscore, so I will mention Ben Alman's <strong><a href=\"http://benalman.com/projects/jquery-throttle-debounce-plugin/\" rel=\"nofollow\">throttle-debounce jQuery plugin</a></strong> which accomplishes what you're after.</p>\n\n<p>Suppose you have this function that you want to trigger after a resize:</p>\n\n<pre><code>function onResize() {\n  console.log(\"Resize just happened!\");\n};\n</code></pre>\n\n<p><strong>Throttle Example</strong><br>\nIn the following example, <code>onResize()</code> will only be called once every 250 milliseconds during a window resize.</p>\n\n<pre><code>$(window).resize( $.throttle( 250, onResize) );\n</code></pre>\n\n<p><strong>Debounce Example</strong><br>\nIn the following example, <code>onResize()</code> will only be called once at the end of a window resizing action. This achieves the same result that @Mark presents in his answer.</p>\n\n<pre><code>$(window).resize( $.debounce( 250, onResize) );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>You can use <code>setTimeout()</code> and <code>clearTimeout()</code></p>\n\n<pre><code>function resizedw(){\n    // Haven't resized in 100ms!\n}\n\nvar doit;\nwindow.onresize = function(){\n  clearTimeout(doit);\n  doit = setTimeout(resizedw, 100);\n};\n</code></pre>\n\n<p><strong>Code example on <a href=\"http://jsfiddle.net/mblase75/fq882/197/\">jsfiddle</a>.</strong></p>\n",
                    "is_accepted": false,
                    "score": 228
                },
                {
                    "body": "<p>Well, as far as the window manager is concerned, each resize event is its own message, with a distinct beginning and end, so technically, every time the window is resized, it <strong>is</strong> the end.</p>\n\n<p>Having said that, maybe you want to set a delay to your continuation? <a href=\"http://jsfiddle.net/gKCQE/1/\" rel=\"nofollow\">Here's an example.</a></p>\n\n<pre><code>var t = -1;\nfunction doResize()\n{\n    document.write('resize');\n}\n$(document).ready(function(){\n    $(window).resize(function(){\n        clearTimeout(t);\n        t = setTimeout(doResize, 1000);\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I had luck with the following recommendation: <a href=\"http://forum.jquery.com/topic/the-resizeend-event\">http://forum.jquery.com/topic/the-resizeend-event</a></p>\n\n<p>Here's the code so you don't have to dig through his post's link &amp; source:</p>\n\n<pre><code>var rtime = new Date(1, 1, 2000, 12,00,00);\nvar timeout = false;\nvar delta = 200;\n$(window).resize(function() {\n    rtime = new Date();\n    if (timeout === false) {\n        timeout = true;\n        setTimeout(resizeend, delta);\n    }\n});\n\nfunction resizeend() {\n    if (new Date() - rtime &lt; delta) {\n        setTimeout(resizeend, delta);\n    } else {\n        timeout = false;\n        alert('Done resizing');\n    }               \n}\n</code></pre>\n\n<p>Thanks sime.vidas for the code!</p>\n",
                    "is_accepted": true,
                    "score": 57
                },
                {
                    "body": "<p>You can use <code>setTimeout()</code> and <code>clearTimeout()</code> in conjunction with <a href=\"http://api.jquery.com/jQuery.data/\" rel=\"nofollow\"><code>jQuery.data</code></a>:</p>\n\n<pre><code>$(window).resize(function() {\n    clearTimeout($.data(this, 'resizeTimer'));\n    $.data(this, 'resizeTimer', setTimeout(function() {\n        //do something\n        alert(\"Haven't resized in 200ms!\");\n    }, 200));\n});\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>I wrote an <em>extension</em> to enhance jQuery's default <code>on</code> (&amp; <code>bind</code>)-event-handler. It attaches an event handler function for one or more events to the selected elements if the event was not triggered for a given interval. This is useful if you want to fire a callback only after a delay, like the resize event, or else.\n<a href=\"https://github.com/yckart/jquery.unevent.js\" rel=\"nofollow\">https://github.com/yckart/jquery.unevent.js</a></p>\n\n<pre><code>;(function ($) {\n    var methods = { on: $.fn.on, bind: $.fn.bind };\n    $.each(methods, function(k){\n        $.fn[k] = function () {\n            var args = [].slice.call(arguments),\n                delay = args.pop(),\n                fn = args.pop(),\n                timer;\n\n            args.push(function () {\n                var self = this,\n                    arg = arguments;\n                clearTimeout(timer);\n                timer = setTimeout(function(){\n                    fn.apply(self, [].slice.call(arg));\n                }, delay);\n            });\n\n            return methods[k].apply(this, isNaN(delay) ? arguments : args);\n        };\n    });\n}(jQuery));\n</code></pre>\n\n<p>Use it like any other <code>on</code> or <code>bind</code>-event handler, except that you can pass an extra parameter as a last:</p>\n\n<pre><code>$(window).on('resize', function(e) {\n    console.log(e.type + '-event was 200ms not triggered');\n}, 200);\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/ARTsinn/EqqHx/\" rel=\"nofollow\">http://jsfiddle.net/ARTsinn/EqqHx/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>since the selected answer didn't actually work .. and if you're not using jquery here is a simple throttle function with an example of how to use it with window resizing</p>\n\n<pre><code>    function throttle(end,delta) {\n\n    var base = this;\n\n    base.wait = false;\n    base.delta = 200;\n    base.end = end;\n\n    base.trigger = function(context) {\n\n        //only allow if we aren't waiting for another event\n        if ( !base.wait ) {\n\n            //signal we already have a resize event\n            base.wait = true;\n\n            //if we are trying to resize and we \n            setTimeout(function() {\n\n                //call the end function\n                if(base.end) base.end.call(context);\n\n                //reset the resize trigger\n                base.wait = false;\n            }, base.delta);\n        }\n    }\n};\n\nvar windowResize = new throttle(function() {console.log('throttle resize');},200);\n\nwindow.onresize = function(event) {\n    windowResize.trigger();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>i wrote a litte wrapper function on my own...</p>\n\n<pre><code>onResize  =   function(fn) {\n    if(!fn || typeof fn != 'function')\n        return 0;\n\n    var args    = Array.prototype.slice.call(arguments, 1);\n\n    onResize.fnArr    = onResize.fnArr || [];\n    onResize.fnArr.push([fn, args]);\n\n    onResize.loop   = function() {\n        $.each(onResize.fnArr, function(index, fnWithArgs) {\n            fnWithArgs[0].apply(undefined, fnWithArgs[1]);\n        });\n    };\n\n    $(window).on('resize', function(e) {\n        window.clearTimeout(onResize.timeout);\n        onResize.timeout    = window.setTimeout(\"onResize.loop();\", 300);\n    });\n};\n</code></pre>\n\n<p>Here is the usage:</p>\n\n<pre><code>var testFn  = function(arg1, arg2) {\n    console.log('[testFn] arg1: '+arg1);\n    console.log('[testFn] arg2: '+arg2);\n};\n\n// document ready\n$(function() {\n    onResize(testFn, 'argument1', 'argument2');\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>(function(){\n    var special = jQuery.event.special,\n        uid1 = 'D' + (+new Date()),\n        uid2 = 'D' + (+new Date() + 1);\n\n    special.resizestart = {\n        setup: function() {\n            var timer,\n                handler =  function(evt) {\n                    var _self = this,\n                        _args = arguments;\n                    if (timer) {\n                        clearTimeout(timer);\n                    } else {\n                        evt.type = 'resizestart';\n                        jQuery.event.handle.apply(_self, _args);\n                    }\n\n                    timer = setTimeout( function(){\n                        timer = null;\n                    }, special.resizestop.latency);\n                };\n            jQuery(this).bind('resize', handler).data(uid1, handler);\n        },\n        teardown: function(){\n            jQuery(this).unbind( 'resize', jQuery(this).data(uid1) );\n        }\n    };\n\n    special.resizestop = {\n        latency: 200,\n        setup: function() {\n            var timer,\n                handler = function(evt) {\n                    var _self = this,\n                        _args = arguments;\n                    if (timer) {\n                        clearTimeout(timer);\n                    }\n                    timer = setTimeout( function(){\n                        timer = null;\n                        evt.type = 'resizestop';\n                        jQuery.event.handle.apply(_self, _args);\n                    }, special.resizestop.latency);\n                };\n\n            jQuery(this).bind('resize', handler).data(uid2, handler);\n        },\n        teardown: function() {\n            jQuery(this).unbind( 'resize', jQuery(this).data(uid2) );\n        }\n    };\n})();\n\n$(window).bind('resizestop',function(){\n    //...\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can store a reference id to any setInterval or setTimeout. Like this:</p>\n\n<pre><code>var loop = setInterval(func, 30);\n\n// some time later clear the interval\nclearInterval(loop);\n</code></pre>\n\n<p>To do this without a \"global\" variable you can add a local variable to the function itself. Ex:</p>\n\n<pre><code>$(window).resize(function() {\n    clearTimeout(this.id);\n    this.id = setTimeout(doneResizing, 500);\n});\n\nfunction doneResizing(){\n  $(\"body\").append(\"&lt;br/&gt;done!\");   \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There is an elegant solution using the <a href=\"http://underscorejs.org/\">Underscore.js</a> So, if you are using it in your project you can do the following -</p>\n\n<pre><code>$( window ).resize( _.debounce( resizedw, 500 ) );\n</code></pre>\n\n<hr>\n\n<p>This should be enough :) But, If you are interested to read more on that, you can check my blog post - <a href=\"http://rifatnabi.com/post/detect-end-of-jquery-resize-event-using-underscore-debounce\">http://rifatnabi.com/post/detect-end-of-jquery-resize-event-using-underscore-debounce</a></p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<h2>UPDATE!</h2>\n\n<p><strong>Better alternative also created by me is here:</strong>\n<a href=\"http://stackoverflow.com/a/23692008/2829600\">http://stackoverflow.com/a/23692008/2829600</a>\n(supports \"delete functions\")</p>\n\n<h2>ORIGINAL POST:</h2>\n\n<p>I wrote this simple function for handling delay in execution, useful inside jQuery .scroll() and .resize() So callback_f will run only once for specific id string.</p>\n\n<pre><code>function delay_exec( id, wait_time, callback_f ){\n\n    // IF WAIT TIME IS NOT ENTERED IN FUNCTION CALL,\n    // SET IT TO DEFAULT VALUE: 0.5 SECOND\n    if( typeof wait_time === \"undefined\" )\n        wait_time = 500;\n\n    // CREATE GLOBAL ARRAY(IF ITS NOT ALREADY CREATED)\n    // WHERE WE STORE CURRENTLY RUNNING setTimeout() FUNCTION FOR THIS ID\n    if( typeof window['delay_exec'] === \"undefined\" )\n        window['delay_exec'] = [];\n\n    // RESET CURRENTLY RUNNING setTimeout() FUNCTION FOR THIS ID,\n    // SO IN THAT WAY WE ARE SURE THAT callback_f WILL RUN ONLY ONE TIME\n    // ( ON LATEST CALL ON delay_exec FUNCTION WITH SAME ID  )\n    if( typeof window['delay_exec'][id] !== \"undefined\" )\n        clearTimeout( window['delay_exec'][id] );\n\n    // SET NEW TIMEOUT AND EXECUTE callback_f WHEN wait_time EXPIRES,\n    // BUT ONLY IF THERE ISNT ANY MORE FUTURE CALLS ( IN wait_time PERIOD )\n    // TO delay_exec FUNCTION WITH SAME ID AS CURRENT ONE\n    window['delay_exec'][id] = setTimeout( callback_f , wait_time );\n}\n\n\n// USAGE\n\njQuery(window).resize(function() {\n\n    delay_exec('test1', 1000, function(){\n        console.log('1st call to delay \"test1\" successfully executed!');\n    });\n\n    delay_exec('test1', 1000, function(){\n        console.log('2nd call to delay \"test1\" successfully executed!');\n    });\n\n    delay_exec('test1', 1000, function(){\n        console.log('3rd call to delay \"test1\" successfully executed!');\n    });\n\n    delay_exec('test2', 1000, function(){\n        console.log('1st call to delay \"test2\" successfully executed!');\n    });\n\n    delay_exec('test3', 1000, function(){\n        console.log('1st call to delay \"test3\" successfully executed!');\n    });\n\n});\n\n/* RESULT\n3rd call to delay \"test1\" successfully executed!\n1st call to delay \"test2\" successfully executed!\n1st call to delay \"test3\" successfully executed!\n*/\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is a modification to Dolan's code above, I've added a feature which checks the window size at the start of the resize and compares it to the size at the end of the resize, if size is either bigger or smaller than the margin (eg. 1000) then it reloads.</p>\n\n<pre><code>var rtime = new Date(1, 1, 2000, 12,00,00);\nvar timeout = false;\nvar delta = 200;\nvar windowsize = $window.width();\nvar windowsizeInitial = $window.width();\n\n$(window).on('resize',function() {\n    windowsize = $window.width();\n    rtime = new Date();\n    if (timeout === false) {\n            timeout = true;\n            setTimeout(resizeend, delta);\n        }\n});\n\nfunction resizeend() {\nif (new Date() - rtime &lt; delta) {\n    setTimeout(resizeend, delta);\n    return false;\n} else {\n        if (windowsizeInitial &gt; 1000 &amp;&amp; windowsize &gt; 1000 ) {\n            setTimeout(resizeend, delta);\n            return false;\n        }\n        if (windowsizeInitial &lt; 1001 &amp;&amp; windowsize &lt; 1001 ) {\n            setTimeout(resizeend, delta);\n            return false;\n        } else {\n            timeout = false;\n            location.reload();\n        }\n    }\n    windowsizeInitial = $window.width();\n    return false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>this worked for me as I did not want to use any plugins.</p>\n\n<pre><code>$(window).resize(function() {\n    var originalWindowSize = 0;\n    var currentWidth = 0;\n\n    var setFn = function () {\n        originalWindowSize = $(window).width();\n    };\n\n    var checkFn = function () {\n        setTimeout(function () {\n            currentWidth = $(window).width();\n            if (currentWidth === originalWindowSize) {\n                console.info(\"same? = yes\") \n                // execute code \n            } else {\n                console.info(\"same? = no\"); \n                // do nothing \n            }\n        }, 500)\n    };\n    setFn();\n    checkFn();\n});\n</code></pre>\n\n<p>On window re-size invoke \"setFn\" which gets width of window and save as \"originalWindowSize\". Then invoke \"checkFn\" which after 500ms (or your preference) gets the current window size, and compares the original to the current, if they are not the same, then the window is still being re-sized. Don't forget to remove console messages in production, and (optional) can make \"setFn\" self executing.      </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var resizeTimer;\n$( window ).resize(function() {\n    if(resizeTimer){\n        clearTimeout(resizeTimer);\n    }\n    resizeTimer = setTimeout(function() {\n        //your code here\n        resizeTimer = null;\n        }, 200);\n    });\n</code></pre>\n\n<p>This worked for what I was trying to do in chrome. This won't fire the callback until 200ms after last resize event.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is the code that I write according to @Mark Coleman answer:</p>\n\n<pre><code>$(window).resize(function() {\n    clearTimeout(window.resizedFinished);\n    window.resizedFinished = setTimeout(function(){\n        console.log('Resized finished.');\n    }, 250);\n});\n</code></pre>\n\n<p>Thanks Mark!</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>So I currently use something like:</p>\n\n<pre><code>$(window).resize(function(){resizedw();});\n</code></pre>\n\n<p>But this gets called many times while resizing process goes on. Is it possible to catch an event when it ends?</p>\n",
            "last_activity_date": 1424697220,
            "question_id": 5489946,
            "score": 97,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "javascript-events",
                "resize"
            ],
            "title": "jQuery - how to wait for the &#39;end&#39; of &#39;resize&#39; event and only then perform an action?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>I think this is what you are looking for: <a href=\"http://www.kamikazemusic.com/quick-tips/jquery-html5-placeholder-fix/\">jquery-html5-placeholder-fix</a></p>\n\n<p>This solution uses feature detection (via <a href=\"http://www.modernizr.com/\">modernizr</a>) to determine if placeholder is supported. If not, adds support (via jQuery).</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>If you want to do it without using jquery or modenizer you can use the code below:</p>\n\n<pre><code>(function(){\n\n     \"use strict\";\n\n     //shim for String's trim function..\n     function trim(string){\n         return string.trim ? string.trim() : string.replace(/^\\s+|\\s+$/g, \"\");\n     }\n\n     //returns whether the given element has the given class name..\n     function hasClassName(element, className){ \n         //refactoring of Prototype's function..\n         var elClassName = element.className;\n         if(!elClassName)\n             return false;\n         var regex = new RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\");\n         return regex.test(element.className);\n     }\n\n     function removeClassName(element, className){\n         //refactoring of Prototype's function..\n         var elClassName = element.className;\n         if(!elClassName)\n             return;\n         element.className = elClassName.replace(\n             new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\"), ' ');\n     }\n\n     function addClassName(element, className){\n         var elClassName = element.className;\n         if(elClassName)\n             element.className += \" \" + className;\n         else\n             element.className = className;\n     }\n\n     //strings to make event attachment x-browser.. \n     var addEvent = document.addEventListener ?\n            'addEventListener' : 'attachEvent';\n     var eventPrefix = document.addEventListener ? '' : 'on';\n\n     //the class which is added when the placeholder is being used..\n     var placeHolderClassName = 'usingPlaceHolder';\n\n     //allows the given textField to use it's placeholder attribute\n     //as if it's functionality is supported natively..\n     window.placeHolder = function(textField){\n\n         //don't do anything if you get it for free..\n         if('placeholder' in document.createElement('input'))\n             return;\n\n         //don't do anything if the place holder attribute is not\n         //defined or is blank..\n         var placeHolder = textField.getAttribute('placeholder');        \n         if(!placeHolder)\n             return;\n\n         //if it's just the empty string do nothing..\n         placeHolder = trim(placeHolder);\n         if(placeHolder === '')\n             return;\n\n         //called on blur - sets the value to the place holder if it's empty..\n         var onBlur = function(){\n             if(textField.value !== '') //a space is a valid input..\n                 return;\n             textField.value = placeHolder;\n             addClassName(textField, placeHolderClassName);\n         };\n\n         //the blur event..\n         textField[addEvent](eventPrefix + 'blur', onBlur, false);\n\n         //the focus event - removes the place holder if required..\n         textField[addEvent](eventPrefix + 'focus', function(){\n             if(hasClassName(textField, placeHolderClassName)){\n                removeClassName(textField, placeHolderClassName);\n                textField.value = \"\";\n             }\n         }, false);\n\n         //the submit event on the form to which it's associated - if the\n         //placeholder is attached set the value to be empty..\n         var form = textField.form;\n         if(form){\n             form[addEvent](eventPrefix + 'submit', function(){\n                 if(hasClassName(textField, placeHolderClassName))\n                     textField.value = '';\n            }, false);\n         }\n\n         onBlur(); //call the onBlur to set it initially..\n    };\n\n}());\n</code></pre>\n\n<p>For each text field you want to use it for you need to run <code>placeHolder(HTMLInputElement)</code>, but I guess you can just change that to suit!  Also, doing it this way, rather than just on load means that you can make it work for inputs which aren't in the DOM when the page loads. </p>\n\n<p>Note, that this works by applying the class: <code>usingPlaceHolder</code> to the input element, so you can use this to style it (e.g. add the rule <code>.usingPlaceHolder { color: #999; font-style: italic; }</code> to make it look better).</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>If you want to input a description you can use this.  This works on IE 9 and all other browsers.</p>\n\n<pre><code>&lt;input type=\"text\" onclick=\"if(this.value=='CVC2: '){this.value='';}\" onblur=\"if(this.value==''){this.value='CVC2: ';}\" value=\"CVC2: \"/&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Here is a much better solution. \n<a href=\"http://bavotasan.com/2011/html5-placeholder-jquery-fix/\">http://bavotasan.com/2011/html5-placeholder-jquery-fix/</a>\nI've adopted it a bit to work only with browsers under IE10</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;!--[if lt IE 7]&gt;&lt;html class=\"no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7\" lang=\"en\"&gt; &lt;![endif]--&gt;\n&lt;!--[if IE 7]&gt;&lt;html class=\"no-js lt-ie10 lt-ie9 lt-ie8\" lang=\"en\"&gt; &lt;![endif]--&gt;\n&lt;!--[if IE 8]&gt;&lt;html class=\"no-js lt-ie10 lt-ie9\" lang=\"en\"&gt; &lt;![endif]--&gt;\n&lt;!--[if IE 9]&gt;&lt;html class=\"no-js lt-ie10\" lang=\"en\"&gt; &lt;![endif]--&gt;\n&lt;!--[if gt IE 8]&gt;&lt;!--&gt;&lt;html class=\"no-js\" lang=\"en\"&gt;&lt;!--&lt;![endif]--&gt;\n\n    &lt;script&gt;\n    // Placeholder fix for IE\n      $('.lt-ie10 [placeholder]').focus(function() {\n        var i = $(this);\n        if(i.val() == i.attr('placeholder')) {\n          i.val('').removeClass('placeholder');\n          if(i.hasClass('password')) {\n            i.removeClass('password');\n            this.type='password';\n          }     \n        }\n      }).blur(function() {\n        var i = $(this);  \n        if(i.val() == '' || i.val() == i.attr('placeholder')) {\n          if(this.type=='password') {\n            i.addClass('password');\n            this.type='text';\n          }\n          i.addClass('placeholder').val(i.attr('placeholder'));\n        }\n      }).blur().parents('form').submit(function() {\n        //if($(this).validationEngine('validate')) { // If using validationEngine\n          $(this).find('[placeholder]').each(function() {\n            var i = $(this);\n            if(i.val() == i.attr('placeholder'))\n              i.val('');\n              i.removeClass('placeholder');\n\n          })\n        //}\n      });\n    &lt;/script&gt;\n    ...\n    &lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><strong>HTML5 Placeholder jQuery Plugin</strong><br>\n- by <a href=\"http://mathiasbynens.be/\">Mathias Bynens</a> (a collaborator on <a href=\"http://html5boilerplate.com/\">HTML5 Boilerplate</a> and <a href=\"http://jsperf.com/\">jsPerf</a>)</p>\n\n<p><a href=\"https://github.com/mathiasbynens/jquery-placeholder\">https://github.com/mathiasbynens/jquery-placeholder</a></p>\n\n<p><strong>Demo &amp; Examples</strong></p>\n\n<p><a href=\"http://mathiasbynens.be/demo/placeholder\">http://mathiasbynens.be/demo/placeholder</a></p>\n\n<p><strong>p.s</strong><br>\nI have used this plugin many times and it works a treat. Also it <em>doesn't</em> submit the placeholder text as a value when you submit your form (... a real pain I found with other plugins).</p>\n",
                    "is_accepted": true,
                    "score": 132
                },
                {
                    "body": "<p>I usually think fairly highly of <a href=\"http://cdnjs.com/\" rel=\"nofollow\">http://cdnjs.com/</a> and they are listing:</p>\n\n<p><a href=\"http://cdnjs.cloudflare.com/ajax/libs/placeholder-shiv/0.2/placeholder-shiv.js\" rel=\"nofollow\">//cdnjs.cloudflare.com/ajax/libs/placeholder-shiv/0.2/placeholder-shiv.js</a></p>\n\n<p>Not sure who's code that is but it looks straightforward:</p>\n\n<pre><code>document.observe('dom:loaded', function(){\n  var _test = document.createElement('input');\n  if( ! ('placeholder' in _test) ){\n    //we are in the presence of a less-capable browser\n    $$('*[placeholder]').each(function(elm){\n      if($F(elm) == ''){\n        var originalColor = elm.getStyle('color');\n        var hint = elm.readAttribute('placeholder');\n        elm.setStyle('color:gray').setValue(hint);\n        elm.observe('focus',function(evt){\n          if($F(this) == hint){\n            this.clear().setStyle({color: originalColor});\n          }\n        });\n        elm.observe('blur', function(evt){\n          if($F(this) == ''){\n            this.setValue(hint).setStyle('color:gray');\n          }\n        });\n      }\n    }).first().up('form').observe('submit', function(evt){\n      evt.stop();\n      this.select('*[placeholder]').each(function(elm){\n        if($F(elm) == elm.readAttribute('placeholder')) elm.clear();\n      });\n      this.submit();\n    });\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>to make it work in IE-9 use below .it works for me</p>\n\n<p>JQuery need to include:</p>\n\n<pre><code>jQuery(function() {\n   jQuery.support.placeholder = false;\n   webkit_type = document.createElement('input');\n   if('placeholder' in webkit_type) jQuery.support.placeholder = true;});\n   $(function() {\n\n     if(!$.support.placeholder) {\n\n       var active = document.activeElement;\n\n       $(':text, textarea, :password').focus(function () {\n\n       if (($(this).attr('placeholder')) &amp;&amp; ($(this).attr('placeholder').length &gt; 0) &amp;&amp;         ($(this).attr('placeholder') != '') &amp;&amp; $(this).val() == $(this).attr('placeholder')) {\n          $(this).val('').removeClass('hasPlaceholder');\n        }\n      }).blur(function () {\nif (($(this).attr('placeholder')) &amp;&amp; ($(this).attr('placeholder').length &gt; 0) &amp;&amp;  ($(this).attr('placeholder') != '') &amp;&amp; ($(this).val() == '' || $(this).val() ==   $(this).attr('placeholder'))) {\n     $(this).val($(this).attr('placeholder')).addClass('hasPlaceholder');\n}\n});\n\n$(':text, textarea, :password').blur();\n$(active).focus();\n$('form').submit(function () {\n     $(this).find('.hasPlaceholder').each(function() { $(this).val(''); });\n});\n}\n});\n</code></pre>\n\n<p>CSS Style need to include:</p>\n\n<pre><code>.hasPlaceholder {color: #aaa;}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I searched on the internet and found a simple jquery code to handle this problem. In my side, it was  solved and worked on ie 9.</p>\n\n<pre><code>$(\"input[placeholder]\").each(function () {\n        var $this = $(this);\n        if($this.val() == \"\"){\n            $this.val($this.attr(\"placeholder\")).focus(function(){\n                if($this.val() == $this.attr(\"placeholder\")) {\n                    $this.val(\"\");\n                }\n            }).blur(function(){\n                if($this.val() == \"\") {\n                    $this.val($this.attr(\"placeholder\"));\n                }\n            });\n        }\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>A bit late to the party but I use my tried and trusted JS that takes advantage of <a href=\"http://modernizr.com/\" rel=\"nofollow\">Modernizr</a>. Can be copy/pasted and applied to any project. Works every time:</p>\n\n<pre><code>// Placeholder fallback\nif(!Modernizr.input.placeholder){\n\n    $('[placeholder]').focus(function() {\n      var input = $(this);\n      if (input.val() == input.attr('placeholder')) {\n        input.val('');\n        input.removeClass('placeholder');\n      }\n    }).blur(function() {\n      var input = $(this);\n      if (input.val() == '' || input.val() == input.attr('placeholder')) {\n        input.addClass('placeholder');\n        input.val(input.attr('placeholder'));\n      }\n    }).blur();\n    $('[placeholder]').parents('form').submit(function() {\n      $(this).find('[placeholder]').each(function() {\n        var input = $(this);\n        if (input.val() == input.attr('placeholder')) {\n          input.val('');\n        }\n      })\n    });\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>It seems it's a very well known problem but all the solutions I found on Google don't work on my newly downloaded IE9.</p>\n\n<p>Which is your favorite way in order to enable the <code>Placeholder</code> property on the <code>input</code> and <code>textarea</code> tags?</p>\n\n<p>Optional: I lost a lot of time on that and didn't look for the <code>required</code> property yet. Would you also have some advice for this? Obviously I can check the value in PHP, but to help the user this property is very convenient.</p>\n",
            "last_activity_date": 1421767748,
            "question_id": 6366021,
            "score": 91,
            "tags": [
                "javascript",
                "html",
                "html5",
                "internet-explorer-9",
                "placeholder"
            ],
            "title": "Placeholder in IE9"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The error is because you are selecting the data objects (d.source and d.target) rather than the DOM elements associated with those data objects.</p>\n\n<p>You've got the line highlighting working, but I would probably combine your code into a single iteration, like this:</p>\n\n<pre><code> link.style(\"opacity\", function(o) {\n   return o.source === d || o.target === d ? 1 : opacity;\n });\n</code></pre>\n\n<p>Highlighting the neighboring nodes is harder because what you need to know the neighbors for each node. This information isn't that easy to determine with your current data structures, since all you have as an array of nodes and an array of links. Forget the DOM for a second, and ask yourself how you would determine whether two nodes <code>a</code> and <code>b</code> are neighbors?</p>\n\n<pre><code>function neighboring(a, b) {\n  // ???\n}\n</code></pre>\n\n<p>An expensive way to do that is to iterate over all of the links and see if there is a link that connects a and b:</p>\n\n<pre><code>function neighboring(a, b) {\n  return links.some(function(d) {\n    return (d.source === a &amp;&amp; d.target === b)\n        || (d.source === b &amp;&amp; d.target === a);\n  });\n}\n</code></pre>\n\n<p>(This assumes that links are undirected. If you only want to highlight forward-connected neighbors, then eliminate the second half of the OR.)</p>\n\n<p>A more efficient way of computing this, if you have to do it frequently, is to have a map or a matrix which allows constant-time lookup to test whether a and b are neighbors. For example:</p>\n\n<pre><code>var linkedByIndex = {};\nlinks.forEach(function(d) {\n  linkedByIndex[d.source.index + \",\" + d.target.index] = 1;\n});\n</code></pre>\n\n<p>Now you can say:</p>\n\n<pre><code>function neighboring(a, b) {\n  return linkedByIndex[a.index + \",\" + b.index];\n}\n</code></pre>\n\n<p>And thus, you can now iterate over the nodes and update their opacity correctly:</p>\n\n<pre><code>node.style(\"opacity\", function(o) {\n  return neighboring(d, o) ? 1 : opacity;\n});\n</code></pre>\n\n<p>(You may also want to special-case the mouseovered link itself, either by setting a self-link for every node in <code>linkedByIndex</code>, or by testing for <code>d</code> directly when computing the style, or by using a !important css <code>:hover</code> style.)</p>\n\n<p>The last thing I would change in your code is to use fill-opacity and stroke-opacity rather than opacity, because these offer much better performance.</p>\n",
                    "is_accepted": true,
                    "score": 54
                }
            ],
            "body": "<p>I am working on a force directed graph in D3. I want to highlight the mouseover'd node, its links, and its child nodes by setting all of the other nodes and links to a lower opacity.</p>\n\n<p>In this example, <a href=\"http://jsfiddle.net/xReHA/\">http://jsfiddle.net/xReHA/</a>, I am able to fade out all of the links and nodes then fade in the connected links, but, so far, I haven't been able to elegantly fade in the connected nodes that are children of the currently mouseover'd node.</p>\n\n<p>This is the key function from the code:</p>\n\n<pre><code>function fade(opacity) {\n    return function(d, i) {\n        //fade all elements\n        svg.selectAll(\"circle, line\").style(\"opacity\", opacity);\n\n        var associated_links = svg.selectAll(\"line\").filter(function(d) {\n            return d.source.index == i || d.target.index == i;\n        }).each(function(dLink, iLink) {\n            //unfade links and nodes connected to the current node\n            d3.select(this).style(\"opacity\", 1);\n            //THE FOLLOWING CAUSES: Uncaught TypeError: Cannot call method 'setProperty' of undefined\n            d3.select(dLink.source).style(\"opacity\", 1);\n            d3.select(dLink.target).style(\"opacity\", 1);\n        });\n    };\n}\n</code></pre>\n\n<p>I am getting a <code>Uncaught TypeError: Cannot call method 'setProperty' of undefined</code> error when I try to set the opacity on an element I loaded from the source.target. I suspect this is not the right way to load that node as a d3 object, but I can't find another way to load it without iterating over all of the nodes again to find the ones that match the link's target or source. To keep the performance reasonable, I don't want to iterate over all the nodes more than necessary.</p>\n\n<p>I took the example of fading the links from <a href=\"http://mbostock.github.com/d3/ex/chord.html\">http://mbostock.github.com/d3/ex/chord.html</a>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/SKHiG.gif\" alt=\"enter image description here\"></p>\n\n<p>However, that doesn't show how to alter the connected child nodes.</p>\n\n<p>Any good suggestions on how to solve or improve this will be furiously upvoted :)</p>\n",
            "last_activity_date": 1390830491,
            "question_id": 8739072,
            "score": 41,
            "tags": [
                "javascript",
                "d3.js",
                "highlight",
                "force-layout",
                "chord"
            ],
            "title": "Highlight selected node, its links, and its children in a D3 force directed graph"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>One possible reason is that <code>new Array</code> requires a name lookup on <code>Array</code> (you can have a variable with that name in scope), whereas <code>[]</code> does not. </p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>This would make some sense</p>\n\n<blockquote>\n  <p>Objects literals enable us to write code that supports lots of\n  features yet still make it a relatively straightforward for the\n  implementers of our code. No need to invoke constructors directly or\n  maintain the correct order of arguments passed to functions, etc.</p>\n</blockquote>\n\n<p><a href=\"http://www.dyn-web.com/tutorials/obj_lit.php\" rel=\"nofollow\">http://www.dyn-web.com/tutorials/obj_lit.php</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Good question.\nThe first example is called an array literal. It is the prefered way to create arrays among many developers. It could be that the performance difference is caused by checking the arguments of the new Array() call and then creating the object, while the literal creates an array directly.</p>\n\n<p>The relatively small difference in performance supports this point I think. You could do the same test with the Object and object literal {} by the way. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Further expanding on previous answers...</p>\n\n<p>From a general compilers perspective and disregarding VM-specific optimizations:</p>\n\n<p>First, we go through the lexical analysis phase where we tokenize the code.</p>\n\n<p>By way of example, the following tokens may be produced:</p>\n\n<pre><code>[]: ARRAY_INIT\n[1]: ARRAY_INIT (NUMBER)\n[1, foo]: ARRAY_INIT (NUMBER, IDENTIFIER)\nnew Array: NEW, IDENTIFIER\nnew Array(): NEW, IDENTIFIER, CALL\nnew Array(5): NEW, IDENTIFIER, CALL (NUMBER)\nnew Array(5,4): NEW, IDENTIFIER, CALL (NUMBER, NUMBER)\nnew Array(5, foo): NEW, IDENTIFIER, CALL (NUMBER, IDENTIFIER)\n</code></pre>\n\n<p>Hopefully this should provide you a sufficient visualization so you can understand how much more (or less) processing is required.</p>\n\n<ol>\n<li><p>Based on the above tokens, we know as a fact ARRAY_INIT will always produce an array.  We therefore simply create an array and populate it.  As far as ambiguity, the lexical analysis stage has already distinguished ARRAY_INIT from an object property accessor (e.g. <code>obj[foo]</code>) or brackets inside strings/regex literals (e.g. \"foo[]bar\" or /[]/)</p></li>\n<li><p>This is miniscule, but we also have more tokens with <code>new Array</code>.  Furthermore, it's not entirely clear yet that we simply want to create an array.  We see the \"new\" token, but \"new\" what?  We then see the IDENTIFIER token which signifies we want a new \"Array,\" but JavaScript VM's generally do not distinguish an IDENTIFIER token and tokens for \"native global objects.\"  Therefore...</p></li>\n<li><p>We have to look up the scope chain each time we encounter an IDENTIFIER token.  Javascript VMs contain an \"Activation object\" for each execution context which may contain the \"arguments\" object, locally defined variables, etc.  If we cannot find it in the Activation object, we begin looking up the scope chain until we reach the global scope.  If nothing is found, we throw a <code>ReferenceError</code>.</p></li>\n<li><p>Once we've located the variable declaration, we invoke the constructor.  <code>new Array</code> is an implicit function call, and the rule of thumb is that function calls are slower during execution (hence why static C/C++ compilers allow \"function inlining\" - which JS JIT engines such as SpiderMonkey have to do on-the-fly)</p></li>\n<li><p>The <code>Array</code> constructor is overloaded.  The Array constructor is implemented as native code so it provides some performance enhancements, but it still needs to check for arguments length and act accordingly.  Moreover, in the event only one argument is supplied, we need to further check the type of the argument.  new Array(\"foo\") produces [\"foo\"] where as new Array(1) produces [undefined]</p></li>\n</ol>\n\n<p>So to simplify it all: with array literals, the VM knows we want an array; with <code>new Array</code>, the VM needs to use extra CPU cycles to figure out what <code>new Array</code> <em>actually</em> does.</p>\n",
                    "is_accepted": true,
                    "score": 96
                }
            ],
            "body": "<p>I ran this code and got the below result. I curious to know why <code>[]</code> is faster?</p>\n\n<pre><code>console.time('using[]')\nfor(var i=0; i&lt;200000; i++){var arr = []};\nconsole.timeEnd('using[]')\n\nconsole.time('using new')\nfor(var i=0; i&lt;200000; i++){var arr = new Array};\nconsole.timeEnd('using new')\n</code></pre>\n\n<ul>\n<li><strong><code>using[]</code>: 299ms</strong></li>\n<li><strong><code>using new</code>: 363ms</strong></li>\n</ul>\n\n<p>Thanks to <a href=\"http://stackoverflow.com/users/419970/raynos\">Raynos</a> here is a <a href=\"http://jsperf.com/literal-vs-new-23\">benchmark</a> of this code and some more possible way to define a variable. </p>\n\n<p><img src=\"http://i.stack.imgur.com/lVSwX.png\" alt=\"enter image description here\"></p>\n",
            "last_activity_date": 1373890699,
            "question_id": 7375120,
            "score": 85,
            "tags": [
                "javascript",
                "performance"
            ],
            "title": "Why is arr = [] faster than arr = new Array?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Add </p>\n\n<pre><code>&lt;form target=\"_blank\" ...&gt;&lt;/form&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>form.setAttribute(\"target\", \"_blank\");\n</code></pre>\n\n<p>to your form's definition.</p>\n",
                    "is_accepted": true,
                    "score": 141
                },
                {
                    "body": "<p>If you want to create and submit your form from Javascript as is in your question and you want to create popup window with custom features I propose this solution (I put comments above the lines i added):</p>\n\n<pre><code>var form = document.createElement(\"form\");\nform.setAttribute(\"method\", \"post\");\nform.setAttribute(\"action\", \"test.jsp\");\n\n// setting form target to a window named 'formresult'\nform.setAttribute(\"target\", \"formresult\");\n\nvar hiddenField = document.createElement(\"input\");              \nhiddenField.setAttribute(\"name\", \"id\");\nhiddenField.setAttribute(\"value\", \"bob\");\nform.appendChild(hiddenField);\ndocument.body.appendChild(form);\n\n// creating the 'formresult' window with custom features prior to submitting the form\nwindow.open(test.html, 'formresult', 'scrollbars=no,menubar=no,height=600,width=800,resizable=yes,toolbar=no,status=no');\n\nform.submit();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 82
                },
                {
                    "body": "<p>I know this basic method:</p>\n\n<pre><code>1)\n&lt;input type=\u201dimage\u201d src=\u201dsubmit.png\u201d&gt; (in any place)\n2)\n&lt;form name=\u201dprint\u201d&gt;\n&lt;input type=\u201dhidden\u201d name=\u201da\u201d value=\u201d&lt;?= $a ?&gt;\u201d&gt;\n&lt;input type=\u201dhidden\u201d name=\u201db\u201d value=\u201d&lt;?= $b ?&gt;\u201d&gt;\n&lt;input type=\u201dhidden\u201d name=\u201dc\u201d value=\u201d&lt;?= $c ?&gt;\u201d&gt;\n&lt;/form&gt;\n3)\n&lt;script&gt;\n$(\u2018#submit\u2019).click(function(){\nopen(\u201d,\u201dresults\u201d);\nwith(document.print)\n{\nmethod = \u201cPOST\u201d;\naction = \u201cresults.php\u201d;\ntarget = \u201cresults\u201d;\nsubmit();\n}\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>Works!</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>var urlAction = 'whatever.php';\nvar data = {param1:'value1'};\n\nvar $form = $('&lt;form target=\"_blank\" method=\"POST\" action=\"' + urlAction + '\"&gt;');\n$.each(data, function(k,v){\n    $form.append('&lt;input type=\"hidden\" name=\"' + k + '\" value=\"' + v + '\"&gt;');\n});\n$form.submit();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I worked on this all day and reading this page helped solve my issue.  I was trying to get php to send a new page to the current page AND open a new page and present paypal to the user.  Here is what I finally came up with:</p>\n\n<pre><code>/** This is the script that will redraw current screen and submit to paypal. */\necho '&lt;script&gt;'.\"\\n\" ;\necho 'function serverNotifySelected()'.\"\\n\" ;\necho '{'.\"\\n\" ;\necho '    window.open(\\'\\', \\'PayPalPayment\\');'.\"\\n\" ;\necho '    document.forms[\\'paypal_form\\'].submit();'.\"\\n\" ;\necho '    document.forms[\\'server_responder\\'].submit();'.\"\\n\" ;\necho '}'.\"\\n\" ;\necho '&lt;/script&gt;'.\"\\n\" ;\n\n/** This form will be opened in a new window called PayPalPayment. */\necho '&lt;form action=\"https://www.sandbox.paypal.com/cgi-bin/webscr\" name=\"paypal_form\" method=\"post\" target=\"PayPalPayment\"&gt;'.\"\\n\" ;\necho '&lt;input type=\"hidden\" name=\"cmd\" value=\"_s-xclick\"&gt;'.\"\\n\" ;\necho '&lt;input type=\"hidden\" name=\"custom\" value=\"'.$transaction_start.'\"&gt;'.\"\\n\" ;\necho '&lt;input type=\"hidden\" name=\"hosted_button_id\" value=\"'.$single_product-&gt;hosted_button_id.'\"&gt;'.\"\\n\" ;\necho '&lt;table&gt;'.\"\\n\" ;\necho '    &lt;tr&gt;'.\"\\n\";\necho '        &lt;td&gt;&lt;input type=\"hidden\" name=\"'.$single_product-&gt;hide_name_a.'\" value=\"'.$single_product-&gt;hide_value_a.'\"&gt;Local&lt;/td&gt;'.\"\\n\" ;\necho '    &lt;/tr&gt;'.\"\\n\" ;\necho '    &lt;tr&gt;'.\"\\n\" ;\necho '        &lt;td&gt;'.\"\\n\" ;\necho '        &lt;input type=\"hidden\" name=\"'.$single_product-&gt;hide_name_b.'\" value=\"'.$single_product-&gt;hide_value_b.'\" /&gt;'.$single_product-&gt;short_desc.' $'.$adj_price.' USD'.\"\\n\" ;\n                // &lt;select name=\"os0\"&gt;\n                //     &lt;option value=\"1 Day\"&gt;1 Day $1.55 USD&lt;/option&gt;\n                //     &lt;option value=\"All Day\"&gt;All Day $7.50 USD&lt;/option&gt;\n                //     &lt;option value=\"3 Day\"&gt;3 Day $23.00 USD&lt;/option&gt;\n                //     &lt;option value=\"31 Day\"&gt;31 Day $107.00 USD&lt;/option&gt;\n                // &lt;/select&gt;\necho '        &lt;/td&gt;'.\"\\n\" ;\necho '    &lt;/tr&gt;'.\"\\n\" ;\necho '&lt;/table&gt;'.\"\\n\" ;\necho '&lt;input type=\"hidden\" name=\"currency_code\" value=\"USD\"&gt;'.\"\\n\" ;\necho '&lt;/form&gt;'.\"\\n\" ;\n\n/** This form will redraw the current page for approval. */\necho '&lt;form action=\"ProductApprove.php\" name=\"server_responder\" method=\"post\" target=\"_top\"&gt;'.\"\\n\" ;\necho '&lt;input type=\"hidden\" name=\"trans\" value=\"'.$transaction_start.'\"&gt;'.\"\\n\" ;\necho '&lt;input type=\"hidden\" name=\"prod_id\" value=\"'.$this-&gt;product_id.'\"&gt;'.\"\\n\" ;\necho '&lt;/form&gt;'.\"\\n\" ;\n\n/** No form here just an input and a button.  onClick will handle all the forms */\necho '&lt;input type=\"image\" src=\"https://www.sandbox.paypal.com/en_US/i/btn/btn_buynowCC_LG.gif\" border=\"0\" alt=\"PayPal - The safer, easier way to pay online!\" onclick=\"serverNotifySelected()\"&gt;'.\"\\n\" ;\necho '&lt;img alt=\"\" border=\"0\" src=\"https://www.sandbox.paypal.com/en_US/i/scr/pixel.gif\" width=\"1\" height=\"1\"&gt;'.\"\\n\" ;\n</code></pre>\n\n<p>The code above is for just one button on the page.  When that button is pressed, the screen changes to a pre-approval screen and at the same time another window is opened and gains focus.  The new window with focus then get's taken over by PayPal.</p>\n",
                    "is_accepted": false,
                    "score": -3
                }
            ],
            "body": "<p><a href=\"http://stackoverflow.com/questions/133925/javascript-post-request-like-a-form-submit\">http://stackoverflow.com/questions/133925/javascript-post-request-like-a-form-submit </a>shows you how to submit a form that you create via JavaScript via post. Below is my modified code.</p>\n\n<pre><code>var form = document.createElement(\"form\");\n\t\t    form.setAttribute(\"method\", \"post\");\n\t\t    form.setAttribute(\"action\", \"test.jsp\");\n\n\t\t        var hiddenField = document.createElement(\"input\");\t\t\n\t\t        hiddenField.setAttribute(\"name\", \"id\");\n\t\t        hiddenField.setAttribute(\"value\", \"bob\");\n\t\t        form.appendChild(hiddenField);\n\t\t        document.body.appendChild(form);    // Not entirely sure if this is necessary\t\t\t\n\t\t        form.submit();\n</code></pre>\n\n<p>What I would like to do is open the results in a new window. I am currentley using something like this to open a page in a new window:</p>\n\n<pre><code>onclick=window.open(test.html,'','scrollbars=no,menubar=no,height=600,width=800,resizable=yes,toolbar=no,status=no');\n</code></pre>\n",
            "last_activity_date": 1378958703,
            "question_id": 178964,
            "score": 93,
            "tags": [
                "javascript",
                "html",
                "post"
            ],
            "title": "Javascript Post on Form Submit open a new window"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can use the live method.</p>\n\n<p>Description: Attach a handler to the event for all elements which match the current selector, now and in the future.</p>\n\n<p><a href=\"http://api.jquery.com/live/\" rel=\"nofollow\">http://api.jquery.com/live/</a></p>\n\n<p>regards</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>You can use <code>DOMNodeInserted</code> and <code>DOMNodeRemoved</code> to check if elements are added or removed. Unfortunately, IE doesn't support this.</p>\n\n<pre><code>$('#myDiv').bind('DOMNodeInserted DOMNodeRemoved', function(event) {\n    if (event.type == 'DOMNodeInserted') {\n        alert('Content added! Current content:' + '\\n\\n' + this.innerHTML);\n    } else {\n        alert('Content removed! Current content:' + '\\n\\n' + this.innerHTML);\n    }\n});\n</code></pre>\n\n<hr>\n\n<h2>Update</h2>\n\n<p>You could save the initial contents and future changes with <code>.data()</code>. Here's an example.</p>\n\n<pre><code>var div_eTypes = [],\n    div_changes = [];\n$(function() {\n    $('#myDiv').each(function() {\n        this['data-initialContents'] = this.innerHTML;\n    }).bind('DOMNodeInserted DOMNodeRemoved', function(event) {\n        div_eTypes.concat(e.type.match(/insert|remove/));\n        div_changes.concat(this.innerHTML);\n    });\n});\n</code></pre>\n\n<p>Example output:</p>\n\n<pre><code>&gt; $('#myDiv').data('initialContents');\n\"&lt;h1&gt;Hello, world!&lt;/h1&gt;&lt;p&gt;This is an example.&lt;/p&gt;\"\n&gt; div_eTypes;\n[\"insert\", \"insert\", \"remove\"]\n&gt; div_changes;\n[\"&lt;iframe src='http://example.com'&gt;&lt;/iframe&gt;\", \"&lt;h4&gt;IANA \u2014 Example domains&lt;/h4&gt;&lt;iframe src='http://example.com'&gt;&lt;/iframe&gt;\", \"&lt;h4&gt;IANA \u2013 Example domains&lt;/h4&gt;\"]\n</code></pre>\n\n<hr>\n\n<h2>Update 2</h2>\n\n<p>You may want to include <code>DOMSubtreeModified</code> as well, because I've found out that <code>DOMNodeInserted</code> and <code>DOMNodeRemoved</code> don't trigger if an element's <code>innerHTML</code> is replaced directly. It still doesn't work in IE, but at least it works fine in other browsers.</p>\n",
                    "is_accepted": true,
                    "score": 56
                },
                {
                    "body": "<p>There is no such an event (onChange) in javascript nor jQuery, you would have to create a custom event.</p>\n\n<p>One solution could be using lowpro to attach a behavior in this element you want to be controlled, this behavior would serialize the element and then build a poll that checks every x miliseconds to see if the element has changed, if changed then trigger your custom event on that element. </p>\n\n<p>You have some examples on how to use lowpro with jQuery here:\n<a href=\"http://www.learningjquery.com/2008/05/using-low-pro-for-jquery\" rel=\"nofollow\">http://www.learningjquery.com/2008/05/using-low-pro-for-jquery</a></p>\n\n<p>Good luck!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>try something like this...  </p>\n\n<pre><code>    $('#divId').bind('DOMNodeInserted', function(event) {\n             alert('inserted ' + event.target.nodeName + // new node\n           ' in ' + event.relatedNode.nodeName); // parent\n       });\n</code></pre>\n\n<p>IE doesn't support this propert but i think the nearest to this is the <code>propertychange</code> event, which fires in response to a change in an attribute or CSS property of an element, but it doesn't fire in response to innerHTML changing, which would have been close to what you wanted. </p>\n\n<p>one more feasible solution is to override manipulation function of jquery...</p>\n\n<p>Have a look on this discussion..<a href=\"http://stackoverflow.com/questions/4893937/preferred-way-of-modifying-elements-that-have-yet-to-be-created-besides-events\">Preferred way of modifying elements that have yet to be created (besides events)</a> </p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have a div whose content may change in various ways: for instance its whole content may be reloaded via innerHTML, or nodes may be added via DOM methods. This in turn may happen via native javascript or indirectly via calls the jQuery API or via other libraries.</p>\n\n<p>I want to execute some code when the content of the div changes, but I have <strong>absolutely no control</strong> on <em>how</em> it will change. Indeed I am designing a widget that may be used by other people, who are free to change the content of their divs the way they prefer. When the inner content of this div changes, the shape of the widget may have to be updated as well.</p>\n\n<p>I'm using jQuery. Is there a way to capture the event that the content of this div has changed, however it happened?</p>\n",
            "last_activity_date": 1297540949,
            "question_id": 4979738,
            "score": 51,
            "tags": [
                "javascript",
                "jquery",
                "javascript-events",
                "widget"
            ],
            "title": "Fire jQuery event on div change"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Check this out:<br>\n<a href=\"http://refactormycode.com/codes/341-jquery-all-descendent-text-nodes-within-a-node\" rel=\"nofollow\">http://refactormycode.com/codes/341-jquery-all-descendent-text-nodes-within-a-node</a>.</p>\n\n<p>Also, check out the <a href=\"http://www.w3.org/TR/2000/WD-DOM-Level-1-20000929/level-one-core.html#ID-1950641247\" rel=\"nofollow\">nodeType</a> property of the DOM.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>Update</strong>:</p>\n\n<p>I have outlined some basic performance tests for each of these 6 methods over 1000 runs. <code>getElementsByTagName</code> is the fastest but it does a half-assed job, as it does not select all elements, but only one particular type of tag ( i think <code>p</code>) and blindly assumes that its firstChild is a text element. It might be little flawed but its there for demonstration purpose and comparing its performance to <code>TreeWalker</code>. <a href=\"http://jsfiddle.net/zaqtg/10/\">Run the tests yourselves on jsfiddle</a> to see the results.</p>\n\n<ol>\n<li>Using a TreeWalker</li>\n<li>Custom Iterative Traversal</li>\n<li>Custom Recursive Traversal</li>\n<li>Xpath query</li>\n<li>querySelectorAll</li>\n<li>getElementsByTagName</li>\n</ol>\n\n<p>Let's assume for a moment that there is a method that allows you to get all <code>Text</code> nodes natively. You would still have to traverse each resulting text node and call <code>node.nodeValue</code> to get the actual text as you would do with any DOM Node. So the issue of performance is not with iterating through text nodes, but iterating through all nodes that are not text and checking their type. I would argue (based on the results) that <code>TreeWalker</code> performs just as fast as <code>getElementsByTagName</code>, if not faster (even with getElementsByTagName playing handicapped).</p>\n\n<pre>\nRan each test 1000 times.\n\nMethod                  Total ms        Average ms\n--------------------------------------------------\ndocument.TreeWalker          301            0.301\nIterative Traverser          769            0.769\nRecursive Traverser         7352            7.352\nXPath query                 1849            1.849\nquerySelectorAll            1725            1.725\ngetElementsByTagName         212            0.212\n</pre>\n\n<hr />\n\n<p>Source for each method:</p>\n\n<p><strong>TreeWalker</strong></p>\n\n<pre><code>function nativeTreeWalker() {\n    var walker = document.createTreeWalker(\n        document.body, \n        NodeFilter.SHOW_TEXT, \n        null, \n        false\n    );\n\n    var node;\n    var textNodes = [];\n\n    while(node = walker.nextNode()) {\n        textNodes.push(node.nodeValue);\n    }\n}\n</code></pre>\n\n<p><strong>Recursive Tree Traversal</strong></p>\n\n<pre><code>function customRecursiveTreeWalker() {\n    var result = [];\n\n    (function findTextNodes(current) {\n        for(var i = 0; i &lt; current.childNodes.length; i++) {\n            var child = current.childNodes[i];\n            if(child.nodeType == 3) {\n                result.push(child.nodeValue);\n            }\n            else {\n                findTextNodes(child);\n            }\n        }\n    })(document.body);\n}\n</code></pre>\n\n<p><strong>Iterative Tree Traversal</strong></p>\n\n<pre><code>function customIterativeTreeWalker() {\n    var result = [];\n    var root = document.body;\n\n    var node = root.childNodes[0];\n    while(node != null) {\n        if(node.nodeType == 3) { /* Fixed a bug here. Thanks @theazureshadow */\n            result.push(node.nodeValue);\n        }\n\n        if(node.hasChildNodes()) {\n            node = node.firstChild;\n        }\n        else {\n            while(node.nextSibling == null &amp;&amp; node != root) {\n                node = node.parentNode;\n            }\n            node = node.nextSibling;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>querySelectorAll</strong></p>\n\n<pre><code>function nativeSelector() {\n    var elements = document.querySelectorAll(\"body, body *\"); /* Fixed a bug here. Thanks @theazureshadow */\n    var results = [];\n    var child;\n    for(var i = 0; i &lt; elements.length; i++) {\n        child = elements[i].childNodes[0];\n        if(elements[i].hasChildNodes() &amp;&amp; child.nodeType == 3) {\n            results.push(child.nodeValue);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>getElementsByTagName</strong> (handicap)</p>\n\n<pre><code>function getElementsByTagName() {\n    var elements = document.getElementsByTagName(\"p\");\n    var results = [];\n    for(var i = 0; i &lt; elements.length; i++) {\n        results.push(elements[i].childNodes[0].nodeValue);\n    }\n}\n</code></pre>\n\n<p><strong>XPath</strong></p>\n\n<pre><code>function xpathSelector() {\n    var xpathResult = document.evaluate(\n        \"//*/text()\", \n        document, \n        null, \n        XPathResult.ORDERED_NODE_ITERATOR_TYPE, \n        null\n    );\n\n    var results = [], res;\n    while(res = xpathResult.iterateNext()) {\n        results.push(res.nodeValue);  /* Fixed a bug here. Thanks @theazureshadow */\n    }\n}\n</code></pre>\n\n<p>Also, you might find this discussion helpful - <a href=\"http://bytes.com/topic/javascript/answers/153239-how-do-i-get-elements-text-node\">http://bytes.com/topic/javascript/answers/153239-how-do-i-get-elements-text-node</a></p>\n",
                    "is_accepted": true,
                    "score": 70
                },
                {
                    "body": "<pre><code> document.deepText= function(hoo, fun){\n        var A= [], tem;\n        if(hoo){\n            hoo= hoo.firstChild;\n            while(hoo!= null){\n                if(hoo.nodeType== 3){\n                    if(typeof fun== 'function'){\n                        tem= fun(hoo);\n                        if(tem!= undefined) A[A.length]= tem;\n                    }\n                    else A[A.length]= hoo;\n                }\n                else A= A.concat(document.deepText(hoo, fun));\n                hoo= hoo.nextSibling;\n            }\n        }\n        return A;\n    }\n</code></pre>\n\n<p>/*\nYou can return an array of all the decendent text nodes of some parent element,\nor you can pass it some function and do something( find or replace or whatever)\nto the text in place.</p>\n\n<p>This example returns the text of the non-whitespace textnodes in the body:</p>\n\n<pre><code>var A= document.deepText(document.body, function(t){\n    var tem= t.data;\n    return /\\S/.test(tem)? tem: undefined;\n});\nalert(A.join('\\n'))\n</code></pre>\n\n<p>*/\nHandy for search and replace, highlighting and so on</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I know you specifically asked for a collection, but if you just meant that informally and didn't care if they were all joined together into one big string, you can use:</p>\n\n<pre><code>var allTextAsString = document.documentElement.textContent || document.documentElement.innerText;\n</code></pre>\n\n<p>...with the first item being the DOM3 standard approach. Note however that <code>innerText</code> appears to exclude script or style tag contents in implementations that support it (at least IE and Chrome) while <code>textContent</code> includes them (in Firefox and Chrome).</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Is there any way to get the collection of all <code>textNode</code> objects within a document? </p>\n\n<p><code>getElementsByTagName()</code> works great for Elements, but <code>textNode</code>s are not Elements.</p>\n\n<p><strong>Update:</strong> I realize this can be accomplished by walking the DOM - as many below suggest. I know how to write a DOM-walker function that looks at every node in the document. I was hoping there was some browser-native way to do it. After all it's a little strange that I can get all the <code>&lt;input&gt;</code>s with a single built-in call, but not all <code>textNode</code>s.</p>\n",
            "last_activity_date": 1341620385,
            "question_id": 2579666,
            "score": 48,
            "tags": [
                "javascript",
                "dom",
                "dhtml",
                "textnode"
            ],
            "title": "getElementsByTagName() equivalent for textNodes"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>There's a nice discussion of the Progress Indicator for AJAX pattern here:</p>\n\n<p><a href=\"http://ajaxpatterns.org/Progress_Indicator\">http://ajaxpatterns.org/Progress_Indicator</a></p>\n\n<p>One of the most promising approaches seems to be opening a second communication channel back to the server to ask it how much of the transfer has been completed.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>If you have access to your apache install and trust third-party code, you can use the <a href=\"http://drogomir.com/blog/2008/6/18/upload-progress-bar-with-mod_passenger-and-apache\" rel=\"nofollow\">apache upload progress module</a> (if you use apache; there's also a <a href=\"http://wiki.codemongers.com/NginxHttpUploadProgressModule\" rel=\"nofollow\">nginx upload progress module</a>). </p>\n\n<p>Otherwise, you'd have to write a script that you can hit out of band to request the status of the file (checking the filesize of the tmp file for instance). </p>\n\n<p>There's some work going on in firefox 3 I believe to add upload progress support to the browser, but that's not going to get into all the browsers and be widely adopted for a while (more's the pity).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>For the total uploaded there doesn't seem to be a way to handle that, but there's something similar to what you want for download. Once readyState is 3, you can periodically query responseText to get all the content downloaded so far as a String (this doesn't work in IE), up until all of it is available at which point it will transition to readyState 4. The total bytes downloaded at any given time will be equal to the total bytes in the string stored in responseText.</p>\n\n<p>For a all or nothing approach to the upload question, since you have to pass a string for upload (and it's possible to determine the total bytes of that) the total bytes sent for readyState 0 and 1 will be 0, and the total for readyState 2 will be the total bytes in the string you passed in. The total bytes both sent and received in readyState 3 and 4 will be the sum of the bytes in the original string plus the total bytes in responseText.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The only way to do that with pure javascript is to implement some kind of polling mechanism.\nYou will need to send ajax requests at fixed intervals (each 5 seconds for example) to get the number of bytes received by the server.</p>\n\n<p>A more efficient way would be to use flash. The flex component <a href=\"http://livedocs.adobe.com/flex/3/langref/flash/net/FileReference.html\" rel=\"nofollow\">FileReference</a> dispatchs periodically a 'progress' event holding the number of bytes already uploaded. \nIf you need to stick with javascript, bridges are available between actionscript and javascript. \nThe good news is that this work has been already done for you :)</p>\n\n<p><a href=\"http://www.swfupload.org\" rel=\"nofollow\"><strong>swfupload</strong></a></p>\n\n<p>This library allows to register a javascript handler on the flash progress event.</p>\n\n<p>This solution has the hudge advantage of not requiring aditionnal resources on the server side.</p>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p><a href=\"https://developer.mozilla.org/En/Using%5FXMLHttpRequest#In%5FFirefox%5F3.5%5Fand%5Flater\">Firefox 3.5 will support upload progress event</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Firefox supports <a href=\"https://developer.mozilla.org/en/using_xmlhttprequest#Monitoring_progress\">XHR download progress events</a>.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>For the bytes uploaded is quite easy. Just monitor the <code>xhr.upload.onprogress</code> event, browser know the size of the files has to upload and the size of uploaded data so it can give the progress info.</p>\n\n<p>For the bytes downloaded (when get info with the <code>xhr.responseText</code>), it's a little more difficult, because the browser doesn't know how many bytes will send the server request. The only thing that browser knows in this case is the size of bytes it's receiving. But there is a solution for this, it's sufficient to set a <code>Content-Length</code> header on the server script so to give the size of bytes the browser is receiving. for more info go to <a href=\"https://developer.mozilla.org/en/Using_XMLHttpRequest\" rel=\"nofollow\">https://developer.mozilla.org/en/Using_XMLHttpRequest</a> .</p>\n\n<p>Example: \nMy server script reads a zip file (it takes 5 seconds):</p>\n\n<pre><code>$filesize=filesize('test.zip');\n\nheader(\"Content-Length: \".$filesize);//set header length\n//if the headers it not set then the evt.loaded will be 0\nreadfile('test.zip');\necho \"asdasd\";\n</code></pre>\n\n<p>Now I can monitor the download process of the server script because I know it's total length:</p>\n\n<pre><code>function updateProgress(evt) \n{\n   if (evt.lengthComputable) \n   {  //evt.loaded the bytes browser receive\n      //evt.total the total bytes seted by the header\n      //\n     var percentComplete = (evt.loaded / evt.total)*100;  \n     $('#progressbar').progressbar( \"option\", \"value\", percentComplete );\n   } \n}   \nfunction sendreq(evt) \n{  \n    var req = new XMLHttpRequest(); \n    $('#progressbar').progressbar();    \n    req.onprogress=updateProgress;\n    req.open('GET', 'test.php', true);  \n    req.onreadystatechange = function (aEvt) {  \n        if (req.readyState == 4) \n        {  \n             //run any callback here\n        }  \n    };  \n    req.send(); \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 63
                }
            ],
            "body": "<p>Is it possible to get the progress of an XMLHttpRequest (bytes uploaded, bytes downloaded)? </p>\n\n<p>This would be useful to show a progress bar when the user is uploading a large file. The standard API doesn't seem to support it, but maybe there's some non-standard extension in any of the browsers out there? It seems like a pretty obvious feature to have after all, since the client knows how many bytes were uploaded/downloaded.</p>\n\n<p>note: I'm aware of the \"poll the server for progress\" alternative (it's what I'm doing right now). the main problem with this (other than the complicated server-side code) is that typically, while uploading a big file, the user's connection is completely hosed, because most ISPs offer poor upstream. So making extra requests is not as responsive as I'd hoped. I was hoping there'd be a way (maybe non-standard) to get this information, which the browser has at all times.</p>\n",
            "last_activity_date": 1424269136,
            "question_id": 76976,
            "score": 67,
            "tags": [
                "javascript",
                "ajax",
                "progress-bar"
            ],
            "title": "How to get progress from XMLHttpRequest"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>If the result of one request depends on the other, you can't make them parallel.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this solution, which can support any specific number of parallel queries:</p>\n\n<pre><code>var done = 4; // number of total requests\nvar sum = 0;\n\n/* Normal loops don't create a new scope */\n$([1,2,3,4,5]).each(function() {\n  var number = this;\n  $.getJSON(\"/values/\" + number, function(data) {\n    sum += data.value;\n    done -= 1;\n    if(done == 0) $(\"#mynode\").html(sum);\n  });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 71
                },
                {
                    "body": "<p>you could do something like this</p>\n\n<pre><code>var allData = []\n$.getJSON(\"/values/1\", function(data) {\n    allData.push(data);\n    if(data.length == 2){\n      processData(allData) // where process data processes all the data\n    }\n});\n\n$.getJSON(\"/values/2\", function(data) {\n    allData.push(data);\n    if(data.length == 2){\n    \tprocessData(allData) // where process data processes all the data\n    }\n});\n\nvar processData = function(data){\n     var sum = data[0] + data[1]\n     $('#mynode').html(sum);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Here's my attempt at directly addressing your question</p>\n\n<p>Basically, you just build up and AJAX call stack, execute them all, and a provided function is called upon completion of all the events - the provided argument being an array of the results from all the supplied ajax requests.</p>\n\n<p>Clearly this is early code - you could get more elaborate with this in terms of the flexibility.</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"http://jqueryjs.googlecode.com/files/jquery-1.3.2.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n\nvar ParallelAjaxExecuter = function( onComplete )\n{\n  this.requests = [];\n  this.results = [];\n  this.onComplete = onComplete; \n}\n\nParallelAjaxExecuter.prototype.addRequest = function( method, url, data, format )\n{\n  this.requests.push( {\n      \"method\"    : method\n    , \"url\"       : url\n    , \"data\"      : data\n    , \"format\"    : format\n    , \"completed\" : false\n  } )\n}\n\nParallelAjaxExecuter.prototype.dispatchAll = function()\n{\n  var self = this;\n  $.each( self.requests, function( i, request )\n    {\n    request.method( request.url, request.data, function( r )\n    {\n      return function( data )\n      {\n        console.log\n        r.completed = true;\n        self.results.push( data );\n        self.checkAndComplete();\n      }\n    }( request ) )\n  } )\n}\n\nParallelAjaxExecuter.prototype.allRequestsCompleted = function()\n{\n  var i = 0;\n  while ( request = this.requests[i++] )\n  {\n    if ( request.completed === false )\n    {\n      return false;\n    }\n  }\n  return true;\n},\n\nParallelAjaxExecuter.prototype.checkAndComplete = function()\n{\n  if ( this.allRequestsCompleted() )\n  {\n    this.onComplete( this.results );\n  }\n}\n\nvar pe = new ParallelAjaxExecuter( function( results )\n{\n  alert( eval( results.join( '+' ) ) );\n} );\n\npe.addRequest( $.get, 'test.php', {n:1}, 'text' );\npe.addRequest( $.get, 'test.php', {n:2}, 'text' );\npe.addRequest( $.get, 'test.php', {n:3}, 'text' );\npe.addRequest( $.get, 'test.php', {n:4}, 'text' );\n\npe.dispatchAll();\n\n&lt;/script&gt;\n</code></pre>\n\n<p>here's test.php</p>\n\n<pre><code>&lt;?php\n\necho pow( $_GET['n'], 2 );\n\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p><strong>Update:</strong> Per the answer given by Yair Leviel, this answer is obsolete. Use a promise library, like jQuery.when() or Q.js.</p>\n\n<hr>\n\n<p>I created a general purpose solution as a jQuery extension.  Could use some fine tuning to make it more general, but it suited my needs.  The advantage of this technique over the others in this posting as of the time of this writing was that <em>any</em> type of asynchronous processing with a callback can be used.</p>\n\n<p>Note: I'd use Rx extensions for JavaScript instead of this if I thought my client would be okay with taking a dependency on yet-another-third-party-library :)</p>\n\n<pre><code>// jQuery extension for running multiple async methods in parallel\n// and getting a callback with all results when all of them have completed.\n//\n// Each worker is a function that takes a callback as its only argument, and\n// fires up an async process that calls this callback with its result.\n//\n// Example:\n//      $.parallel(\n//          function (callback) { $.get(\"form.htm\", {}, callback, \"html\"); },\n//          function (callback) { $.post(\"data.aspx\", {}, callback, \"json\"); },\n//          function (formHtml, dataJson) { \n//              // Handle success; each argument to this function is \n//              // the result of correlating ajax call above.\n//          }\n//      );\n\n(function ($) {\n\n    $.parallel = function (anyNumberOfWorkers, allDoneCallback) {\n\n    var workers = [];\n    var workersCompleteCallback = null;\n\n    // To support any number of workers, use \"arguments\" variable to\n    // access function arguments rather than the names above.\n    var lastArgIndex = arguments.length - 1;\n    $.each(arguments, function (index) {\n        if (index == lastArgIndex) {\n            workersCompleteCallback = this;\n        } else {\n            workers.push({ fn: this, done: false, result: null });\n        }\n    });\n\n    // Short circuit this edge case\n    if (workers.length == 0) {\n        workersCompleteCallback();\n        return;\n    }\n\n    // Fire off each worker process, asking it to report back to onWorkerDone.\n    $.each(workers, function (workerIndex) {\n        var worker = this;\n        var callback = function () { onWorkerDone(worker, arguments); };\n        worker.fn(callback);\n    });\n\n    // Store results and update status as each item completes.\n    // The [0] on workerResultS below assumes the client only needs the first parameter\n    // passed into the return callback. This simplifies the handling in allDoneCallback,\n    // but may need to be removed if you need access to all parameters of the result.\n    // For example, $.post calls back with success(data, textStatus, XMLHttpRequest).  If\n    // you need textStatus or XMLHttpRequest then pull off the [0] below.\n    function onWorkerDone(worker, workerResult) {\n        worker.done = true;\n        worker.result = workerResult[0]; // this is the [0] ref'd above.\n        var allResults = [];\n        for (var i = 0; i &lt; workers.length; i++) {\n            if (!workers[i].done) return;\n            else allResults.push(workers[i].result);\n        }\n        workersCompleteCallback.apply(this, allResults);\n    }\n};\n\n})(jQuery);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p><strong>UPDATE</strong> And another two years later, this looks insane because the accepted answer has changed to something much better! (Though still not as good as Yair Leviel's answer using jQuery's <code>when</code>)</p>\n\n<p>18 months later, I just hit something similar. I have a refresh button, and I want the old content to <code>fadeOut</code> and then the new content to <code>fadeIn</code>. But I also need to <code>get</code> the new content. The <code>fadeOut</code> and the <code>get</code> are asynchronous, but it would be a waste of time to run them serially.</p>\n\n<p>What I do is really the same as the accepted answer, except in the form of a reusable function. Its primary virtue is that it is much shorter than the other suggestions here.</p>\n\n<pre><code>var parallel = function(actions, finished) {\n\n  finishedCount = 0;\n  var results = [];\n\n  $.each(actions, function(i, action) {\n\n    action(function(result) {\n\n      results[i] = result;\n      finishedCount++;\n\n      if (finishedCount == actions.length) {\n        finished(results);\n      }\n    });\n  });\n};\n</code></pre>\n\n<p>You pass it an array of functions to run in parallel. Each function should accept another function to which it passes its result (if any). <code>parallel</code> will supply that function.</p>\n\n<p>You also pass it a function to be called when all the operations have completed. This will receive an array with all the results in. So my example was:</p>\n\n<pre><code>refreshButton.click(function() {\n\n  parallel([\n       function(f) { \n         contentDiv.fadeOut(f); \n       },\n       function(f) { \n         portlet.content(f); \n       },\n     ], \n     function(results) {\n      contentDiv.children().remove();\n      contentDiv.append(results[1]);\n      contentDiv.fadeIn();\n  });\n});\n</code></pre>\n\n<p>So when my refresh button is clicked, I launch jQuery's <code>fadeOut</code> effect and also my own <code>portlet.content</code> function (which does an async <code>get</code>, builds a new bit of content and passes it on), and then when both are complete I remove the old content, append the result of the second function (which is in <code>results[1]</code>) and <code>fadeIn</code> the new content.</p>\n\n<p>As <code>fadeOut</code> doesn't pass anything to its completion function, <code>results[0]</code> presumably contains <code>undefined</code>, so I ignore it. But if you had three operations with useful results, they would each slot into the <code>results</code> array, in the same order you passed the functions.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>jQuery <a href=\"http://api.jquery.com/jQuery.when/\">$.when()</a> and <a href=\"http://api.jquery.com/deferred.done/\">$.done()</a> are exactly what you need:</p>\n\n<pre><code>$.when($.ajax(\"/page1.php\"), $.ajax(\"/page2.php\"))\n  .then(myFunc, myFailure);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 49
                },
                {
                    "body": "<p>Here's an implementation using <a href=\"https://github.com/mbostock/queue\" rel=\"nofollow\">mbostock/queue</a>:</p>\n\n<pre><code>queue()\n  .defer(function(callback) {\n    $.post('/echo/json/', {json: JSON.stringify({value: 1}), delay: 1}, function(data) {\n      callback(null, data.value);\n    });\n  })\n  .defer(function(callback) {\n    $.post('/echo/json/', {json: JSON.stringify({value: 3}), delay: 2}, function(data) {\n      callback(null, data.value);\n    });\n  })\n  .awaitAll(function(err, results) {\n    var result = results.reduce(function(acc, value) {\n      return acc + value;\n    }, 0);\n    console.log(result);\n  });\n</code></pre>\n\n<p>The associated fiddle: <a href=\"http://jsfiddle.net/MdbW2/\" rel=\"nofollow\">http://jsfiddle.net/MdbW2/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><strong>Run multiple AJAX requests in parallel</strong></p>\n\n<p>When working with APIs, you sometimes need to issue multiple AJAX requests to different endpoints. Instead of waiting for one request to complete before issuing the next, you can speed things up with jQuery by requesting the data in parallel, by using jQuery's <code>$.when()</code> function:</p>\n\n<p><strong>JS</strong></p>\n\n<pre><code>$.when($.get('1.json'), $.get('2.json')).then(function(r1, r2){\n   console.log(r1[0].message + \" \" + r2[0].message);\n});\n</code></pre>\n\n<p>The callback function is executed when both of these GET requests finish successfully. $.when() takes the promises returned by two $.get() calls, and constructs a new promise object. The r1 and r2 arguments of the callback are arrays, whose first elements contain the server responses.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'd like to update a page based upon the results of multiple ajax/json requests. Using jQuery, I can \"chain\" the callbacks, like this very simple stripped down example:</p>\n\n<pre><code>$.getJSON(\"/values/1\", function(data) {\n  // data = {value: 1}\n  var value_1 = data.value;\n\n  $.getJSON(\"/values/2\", function(data) {\n    // data = {value: 42}\n    var value_2 = data.value;\n\n    var sum = value_1 + value_2;\n\n    $('#mynode').html(sum);\n  });\n\n});\n</code></pre>\n\n<p>However, this results in the requests being made serially. I'd much rather a way to make the requests in parallel, and perform the page update after all are complete. Is there any way to do this?</p>\n",
            "last_activity_date": 1394519053,
            "question_id": 1060539,
            "score": 38,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "Parallel asynchronous Ajax requests using jQuery"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p><code>window.open ()</code> will open a new window, whereas <code>window.location.href</code> will open the new URL in your current window.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><code>window.location.href</code> is <strong>not</strong> a method, it's a property that will tell you the current URL location of the browser. Changing the value of the property will redirect the page.</p>\n\n<p><code>window.open()</code> is a method that you can pass a URL to that you want to open in a new window. For example:</p>\n\n<p><strong>window.location.href example:</strong></p>\n\n<pre><code>window.location.href = 'http://www.google.com'; //Will take you to Google.\n</code></pre>\n\n<p><strong>window.open() example:</strong></p>\n\n<pre><code>window.open('http://www.google.com'); //This will open Google in a new window.\n</code></pre>\n\n<p><hr />\nAdditional Information:</p>\n\n<p><code>window.open()</code> can be passed additional parameters. See: <a href=\"http://www.javascript-coder.com/window-popup/javascript-window-open.phtml\">window.open tutorial</a></p>\n",
                    "is_accepted": true,
                    "score": 183
                },
                {
                    "body": "<ul>\n<li><p><code>window.open</code> will open a new browser with the specified URL.</p></li>\n<li><p><code>window.location.href</code> will open the URL in the window in which the code is called. </p></li>\n</ul>\n\n<p>Note also that <code>window.open()</code> is a function on the window object itself whereas <code>window.location</code> is an object that exposes a variety of <a href=\"https://developer.mozilla.org/En/Window.location\">other methods and properties</a>. </p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p><a href=\"http://www.w3schools.com/jsref/met_win_open.asp\" rel=\"nofollow\">window.open</a> is a method; you can open new window, and can customize it.\nwindow.location.href is just a property of the current window. </p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>What is the difference between <code>window.location.href</code> and <code>window.open ()</code> methods in JavaScript?</p>\n",
            "last_activity_date": 1423613803,
            "question_id": 7077770,
            "score": 90,
            "tags": [
                "javascript",
                "windows"
            ],
            "title": "Window.location.href and Window.open () methods in JavaScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The first one adds an item to your history in that you can (or should be able to) click \"Back\" and go back to the current page.</p>\n\n<p>The second replaces the current history item so you can't go back to it.</p>\n\n<p>See <a href=\"https://developer.mozilla.org/En/DOM/Window.location#Methods\"><code>window.location</code></a>:</p>\n\n<blockquote>\n  <p><code>assign(url)</code>: Load the document at\n  the provided URL.</p>\n  \n  <p><code>replace(url)</code>:Replace the current\n  document with the one at the provided\n  URL. The difference from the\n  <code>assign()</code> method is that after using\n  <code>replace()</code> the current page will not\n  be saved in session history, meaning\n  the user won't be able to use the Back\n  button to navigate to it.</p>\n</blockquote>\n\n<p>Oh and generally speaking:</p>\n\n<pre><code>window.location.href = url;\n</code></pre>\n\n<p>is favoured over:</p>\n\n<pre><code>window.location = url;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 138
                }
            ],
            "body": "<p>Is there a difference between these two lines?</p>\n\n<pre><code>var url = \"http://www.google.com/\";\nwindow.location = url;\nwindow.location.replace (url);\n</code></pre>\n",
            "last_activity_date": 1416385340,
            "question_id": 1865837,
            "score": 84,
            "tags": [
                "javascript",
                "window",
                "location"
            ],
            "title": "What&#39;s the difference between window.location= and window.location.replace()?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You could do this pretty easily - there are probably many implementations you can choose from, but this is my basic idea (and there is probably some format where you can iterate over an object with jQuery, I just cant think of it right now):</p>\n\n<pre><code>function filter(collection, predicate)\n{\n    var result = new Array();\n    int length = collection.length;\n\n    for(var j = 0; j &lt; length; j++)\n    {\n        if(predicate(collection[j]) == true)\n        {\n             result.push(collection[j]);\n        }\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>And then you could invoke this function like so:</p>\n\n<pre><code>filter(json, function(element)\n{\n    if(element.price &lt;= 1000 &amp;&amp; element.sqft &gt;= 500 &amp;&amp; element.num_of_beds &gt; 2 &amp;&amp; element.num_of_baths &gt; 2.5)\n        return true;\n\n    return false;\n});\n</code></pre>\n\n<p>This way, you can invoke the filter based on whatever predicate you define, or even filter multiple times using smaller filters. </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can use the <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/filter\"><code>Array.prototype.filter</code></a> method:</p>\n\n<pre><code>homes.filter(function (el) {\n  return el.price &lt;= 1000 &amp;&amp;\n         el.sqft &gt;= 500 &amp;&amp;\n         el.num_of_beds &gt;=2 &amp;&amp;\n         el.num_of_baths &gt;= 2.5;\n});\n</code></pre>\n\n<p>This method is part of the new <a href=\"http://www.ecma-international.org/publications/standards/Ecma-262.htm\">ECMAScript 5th Edition</a> standard, and can be found on almost all modern browsers.</p>\n\n<p>For IE, you can include the following method for compatibility:</p>\n\n<pre><code>if (!Array.prototype.filter) {\n  Array.prototype.filter = function(fun /*, thisp*/) {\n    var len = this.length &gt;&gt;&gt; 0;\n    if (typeof fun != \"function\")\n    throw new TypeError();\n\n    var res = [];\n    var thisp = arguments[1];\n    for (var i = 0; i &lt; len; i++) {\n      if (i in this) {\n        var val = this[i]; // in case fun mutates this\n        if (fun.call(thisp, val, i, this))\n        res.push(val);\n      }\n    }\n    return res;\n  };\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 122
                },
                {
                    "body": "<p>You can try using framework like jLinq - following is a code sample of using jLinq</p>\n\n<pre><code>var results = jLinq.from(data.users)\n.startsWith(\"first\", \"a\")\n.orEndsWith(\"y\")\n.orderBy(\"admin\", \"age\")\n.select();\n</code></pre>\n\n<p>For more information you can follow the link <a href=\"http://www.hugoware.net/projects/jlinq\">http://www.hugoware.net/projects/jlinq</a> </p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>I prefer the Underscore framework. It suggests many useful operations with objects.\nYour task:</p>\n\n<pre><code>var newArray = homes.filter(\n    price &lt;= 1000 &amp; \n    sqft &gt;= 500 &amp;\n    num_of_beds &gt;=2 &amp; \n    num_of_baths &gt;= 2.5);\n</code></pre>\n\n<p>can be overwriten like:</p>\n\n<pre><code>var newArray = _.filter (homes, function(home) {\n    return home.price&lt;=1000 &amp;&amp; sqft&gt;=500 &amp;&amp; num_of_beds&gt;=2 &amp;&amp; num_of_baths&gt;=2.5;\n});\n</code></pre>\n\n<p>Hope it will be useful for you!</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>here is the working fiddle which works fine in IE8 using jquery MAP function</p>\n\n<p><a href=\"http://jsfiddle.net/533135/Cj4j7/\" rel=\"nofollow\">http://jsfiddle.net/533135/Cj4j7/</a></p>\n\n<pre><code>                //code for filtering//\n                json.HOMES =$.map(json.HOMES,function(val,key){\nif(Number(val.price) &lt;= 1000 &amp;&amp; Number(val.sqft) &gt;= 500&amp;&amp;Number(val.num_of_beds) &gt;=2  &amp;&amp; Number(val.num_of_baths )&gt;= 2.5) return val;\n            });\n\n//code for filtering//\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can implement a filter method yourself that meets your needs, here is how:</p>\n\n<pre><code>function myfilter(array, test){\n    var passedTest =[];\n    for (var i = 0; i &lt; array.length; i++) {\n       if(test( array[i]))\n          passedTest.push(array[i]);\n    }\n\n    return passedTest;\n}\n\nvar passedHomes = myfilter(homes,function(currentHome){\n     return ((currentHome.price &lt;= 1000 )&amp;&amp; (currentHome.sqft &gt;= 500 )&amp;&amp;(currentHome.num_of_beds &gt;=2 )&amp;&amp;(currentHome.num_of_baths &gt;= 2.5));\n});\n</code></pre>\n\n<p>Hope, it helps!</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have the following JavaScript JSON array of real estate home objects:</p>\n\n<pre><code>var json = {\n    'homes': [{\n            \"home_id\": \"1\",\n            \"price\": \"925\",\n            \"sqft\": \"1100\",\n            \"num_of_beds\": \"2\",\n            \"num_of_baths\": \"2.0\",\n        }, {\n            \"home_id\": \"2\",\n            \"price\": \"1425\",\n            \"sqft\": \"1900\",\n            \"num_of_beds\": \"4\",\n            \"num_of_baths\": \"2.5\",\n        },\n        // ... (more homes) ...     \n    ]\n}\n\nvar xmlhttp = eval('(' + json + ')');\nhomes = xmlhttp.homes;\n</code></pre>\n\n<p>What I would like to do is be able to perform a filter on the object to return a subset of \"home\" objects.</p>\n\n<p>For example, I want to be able to filter based on: <code>price</code>, <code>sqft</code>, <code>num_of_beds</code>, and <code>num_of_baths</code>.</p>\n\n<p><strong>Question:</strong> How can I perform something in javascript like the pseudo-code below:</p>\n\n<pre><code>var newArray = homes.filter(\n    price &lt;= 1000 &amp; \n    sqft &gt;= 500 &amp; \n    num_of_beds &gt;=2 &amp; \n    num_of_baths &gt;= 2.5 );\n</code></pre>\n\n<p>Note, the syntax does not have to be exactly like above. This is just an example.</p>\n",
            "last_activity_date": 1425236574,
            "question_id": 2722159,
            "score": 75,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Javascript: How to filter object array based on attributes?"
        },
        {
            "answer_count": 18,
            "answers": [
                {
                    "body": "<p>I think cookies might be what you are looking for; this is how most websites uniquely identify visitors. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It's not possible to identify the computers accessing a web site without the cooperation of their owners. If they let you, however, you can store a cookie to identify the machine when it visits your site again. The key is, the visitor is in control; they can remove the cookie and appear as a new visitor any time they wish.</p>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>Cookies won't be useful for determining unique visitors. A user could clear cookies and refresh the site - he then is classed as a new user again.</p>\n\n<p>I think that the best way to go about doing this is to implement a server side solution (as you will need somewhere to store your data). Depending on the complexity of your needs for such data, you will need to determine what is classed as a unique visit. A sensible method would be to allow an IP address to return the following day and be given a unique visit. Several visits from one IP address in one day shouldn't be counted as uniques.</p>\n\n<p>Using PHP, for example, it is trivial to get the IP address of a visitor, and store it in a text file (or a sql database).</p>\n\n<p>A server side solution will work on all machines, because you are going to track the user when he first loads up your site. Don't use javascript, as that is meant for client side scripting, plus the user may have disabled it in any case.</p>\n\n<p>Hope that helps.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As with the previous solutions cookies are a good method, be aware that they identify <strong>browsers</strong> though. If I visited a website in Firefox and then in Internet Explorer cookies would be stored for both attempts seperately. Some users also disable cookies (but more people disable JavaScript).</p>\n\n<p>Another method to consider would be I.P. and hostname identification (be aware these can vary for dial-up/non-static IP users, AOL also uses blanket IPs). However since this only identifies networks this might not work as well as cookies.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>A possibility is using <a href=\"http://yro.slashdot.org/article.pl?sid=08/10/14/1656251&amp;from=rss\">flash cookies</a>:</p>\n\n<ul>\n<li>Ubiquitous availability (95 percent of visitors will probably have flash)</li>\n<li>You can store more data per cookie (up to 100 KB)</li>\n<li>Shared across browsers, so more likely to uniquely identify a machine</li>\n<li>Clearing the browser cookies does not remove the flash cookies.</li>\n</ul>\n\n<p>You'll need to build a small (hidden) flash movie to read and write them.</p>\n\n<p>Whatever route you pick, make sure your users opt IN to being tracked, otherwise you're invading their privacy and become one of the bad guys.</p>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<blockquote>\n  <p>Because i want the solution to work on all machines and all browsers (within reason) I am trying to create a solution using javascript.</p>\n</blockquote>\n\n<p>Isn't that a really good reason <em>not</em> to use javascript?</p>\n\n<p>As others have said - cookies are probably your best option - just be aware of the limitations.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Assuming you don't want the user to be in control, you can't. The web doesn't work like that, the best you can hope for is some heuristics.</p>\n\n<p>If it is an option to force your visitor to install some software and use TCPA you may be able to pull something off.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Really, what you want to do cannot be done because the protocols do not allow for this.  If static IPs were universally used then you might be able to do it.  They are not, so you cannot.</p>\n\n<p>If you really want to identify <em>people</em>, have them log in.</p>\n\n<p>Since they will probably be moving around to different pages on your web site, you need a way to keep track of them as they move about.</p>\n\n<p>So long as they are logged in, and you are tracking their session within your site via cookies/link-parameters/beacons/whatever, you can be pretty sure that they are using the same computer during that time.</p>\n\n<p>Ultimately, it is incorrect to say this tells you which computer they are using if your users are not using your own local network and do not have static IP addresses.</p>\n\n<p>If what you want to do is being done with the cooperation of the users and there is only one user per cookie and they use a single web browser, just use a cookie.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There is only a small amount of information that you can get via an HTTP connection.</p>\n\n<ol>\n<li><p>IP - But as others have said, this is not fixed for many, if not most Internet users due to their ISP's dynamic allocation policies.</p></li>\n<li><p>Useragent String - Nearly all browsers send what kind of browser they are with every request. However, this can be set by the user in many browsers today.</p></li>\n<li><p>Collection of request fields - There are other fields sent with each request, such as supported encodings, etc. These, if used in the aggregate can help to ID a user's machine, but again are browser dependent and can be changed.</p></li>\n<li><p>Cookies - Setting a cookie is another way to identify a machine, or more specifically a browser on a machine, but as others have said, these can be deleted, or turned off by the users, and are only applicable on a browser, not a machine.</p></li>\n</ol>\n\n<p>So, the correct response is that you cannot achieve what you would live via the HTTP over IP protocols alone. However, using a combination of cookies, as well as IP, and the fields in the HTTP request, you have a good chance at guessing, sort of, what machine it is. Users tend to use only one browser, and often from one machine, so this may be fairly relieable, but this will vary depending on the audience...techies are more likely to mess with this stuff, and use more machines/browsers.  Additionally, this could even be coupled with some attempt to geo-locate the IP, and use that data as well. But in any case, there is no solution that will be correct all of the time.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I guess the verdict is i cannot programmatically uniquely identify a computer which is visiting my web site.</p>\n\n<p>I have the following question. When i use a machine which has never visited my online banking web site i get asked for additional authentification. then, if i go back a second time to the online banking site i dont get asked the additional authentification. reading the answers to my question i decided it must be a cookie involved. therefore, i deleted all cookies in IE and relogged onto my online banking site fully expecting to be asked the authentification questions again. to my surprise i was not asked. doesnt this lead one to believe the bank is doing some kind of pc tagging which doesnt involve cookies?</p>\n\n<p>further, after much googling today i found the following company who claims to sell a solution which does uniquely identify machines which visit a web site. <a href=\"http://www.the41.com/products.asp\" rel=\"nofollow\">http://www.the41.com/products.asp</a>.</p>\n\n<p>i appreciate all the good information if you could clarify further this conflicting information i found i would greatly appreciate it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The suggestions to use cookies aside, the only comprehensive set of identifying attributes available to interrogate are contained in the HTTP request header. So it is possible to use some subset of these to create a pseudo-unique identifier for a user agent (i.e., browser). Further, most of this information is possibly already being logged in the so-called \"access log\" of your web server software by default and, if not, can be easily configured to do so.  Then, a utlity could be developed that simply scans the content of this log, creating <em>fingerprints</em> of each request comprised of, say, the IP address and User Agent string, etc.  The more data available, even including the contents of specific cookies, adds to the quality of the uniqueness of this fingerprint.  Though, as many others have stated already, the HTTP protocol doesn't make this 100% foolproof - at best it can only be a fairly good indicator.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<blockquote>\n  <p>When i use a machine which has never visited my online banking web site i get asked for additional authentification. then, if i go back a second time to the online banking site i dont get asked the additional authentification...i deleted all cookies in IE and relogged onto my online banking site fully expecting to be asked the authentification questions again. to my surprise i was not asked. doesnt this lead one to believe the bank is doing some kind of pc tagging which doesnt involve cookies?</p>\n</blockquote>\n\n<p>This is a pretty common type of authentication used by banks.</p>\n\n<p>Say you're accessing your bank website via example-isp.com. The first time you're there, you'll be asked for your password, as well as additional authentication. Once you've passed, the bank knows that user \"thatisvaliant\" is authenticated to access the site via example-isp.com.</p>\n\n<p>In the future, it won't ask for extra authentication (beyond your password) when you're accessing the site via example-isp.com. If you try to access the bank via another-isp.com, the bank will go through the same routine again.</p>\n\n<p>So to summarize, what the bank's identifying is your ISP and/or netblock, based on your IP address. Obviously not every user at your ISP is you, which is why the bank still asks you for your password.</p>\n\n<p>Have you ever had a credit card company call to verify that things are OK when you use a credit card in a different country? Same concept.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I would do this using a combination of cookies and flash cookies. Create a GUID and store it in a cookie. If the cookie doesn't exist, try to read it from the flash cookie. If it's still not found, create it and write it to the flash cookie. This way you can share the same GUID across browsers. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>These people have developed a fingerprinting method for recognising a user with a high level of accuracy:</p>\n\n<p><a href=\"https://panopticlick.eff.org/browser-uniqueness.pdf\">https://panopticlick.eff.org/browser-uniqueness.pdf</a></p>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p>You can check this link:\n<a href=\"http://www.codeproject.com/KB/IP/Identify_User_Machine.aspx\" rel=\"nofollow\">http://www.codeproject.com/KB/IP/Identify_User_Machine.aspx</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You may want to try setting a unique ID in an evercookie (it will work cross browser, see their FAQs):\n<a href=\"http://samy.pl/evercookie/\">http://samy.pl/evercookie/</a></p>\n\n<p>There is also a company called ThreatMetrix that is used by a lot of big companies to solve this problem:\n<a href=\"http://threatmetrix.com/our-solutions/solutions-by-product/trustdefender-id/\">http://threatmetrix.com/our-solutions/solutions-by-product/trustdefender-id/</a>\nThey are quite expensive and some of their other products aren't very good, but their device id works well.</p>\n\n<p>Finally, there is this open source jquery implementation of the panopticlick idea:\n<a href=\"https://github.com/carlo/jquery-browser-fingerprint\">https://github.com/carlo/jquery-browser-fingerprint</a>\nIt looks pretty half baked right now but could be expanded upon.</p>\n\n<p>Hope it helps!</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>There are flaws with both cookie and non-cookie approaches.  But if you can forgive the shortcomings of the cookie approach, here's an idea.</p>\n\n<p>If you're already using Google Analytics on your site, then you don't need to write code to track unique users yourself.  Google Analytics does that for you via the <code>__utma</code> cookie value, as described in <a href=\"https://developers.google.com/analytics/resources/concepts/gaConceptsCookies\" rel=\"nofollow\">Google's documentation</a>.  And by reusing this value you're not creating additional cookie payload, which has efficiency benefits with page requests.</p>\n\n<p>And you could write some code easily enough to access that value, or use <a href=\"http://www.dannytalk.com/read-google-analytics-cookie-script/\" rel=\"nofollow\">this script's</a> <code>getUniqueId()</code> function.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>My post might not be a solution, but I can provide an example, where this feature has been implemented.</p>\n\n<p>If you visit the signup page of <code>www.supertorrents.org</code> for the first time from you computer, it's fine. But if you refresh the page or open the page again, it identifies you've previously visited the page. The real beauty comes here - it identifies even if you re-install Windows or other OS.</p>\n\n<p>I read somewhere that they store the CPU ID. Although I couldn't find how do they do it, I seriously doubt it, and they might use MAC Address to do it.</p>\n\n<p>I'll definitely share if I find <em>how</em> to do it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I need to figure out a way uniquely identify each computer which visits the web site I am creating. Does anybody have any advice on how to achieve this? </p>\n\n<p>Because i want the solution to work on all machines and all browsers (within reason) I am trying to create a solution using javascript.</p>\n\n<p>I appreciate the help. Thanks.</p>\n\n<p>EDIT:</p>\n\n<p>Cookies will not do. </p>\n\n<p>I need the ability to basically create a guid which is unique to a computer and repeatable, assuming no hardware changes have happened to the computer. Directions i am thinking of are getting the MAC of the network card and other information of this nature which will id the machine visiting the web site.</p>\n",
            "last_activity_date": 1367687042,
            "question_id": 216542,
            "score": 65,
            "tags": [
                "javascript",
                "cookies",
                "browser"
            ],
            "title": "How do I uniquely identify computers visiting my web site?"
        },
        {
            "answer_count": 14,
            "answers": [
                {
                    "body": "<p>This would be a <em>very</em>, <strong>very</strong> <strong><em>hacky</em></strong> way to do this... but would this work?</p>\n\n<ul>\n<li>Put the link in as normal...</li>\n<li>But attach an onclick handler to it, that sets a timer and adds an onblur handler for the window</li>\n<li>(in theory) if the browser handles the link (application X) will load stealing the focus from the window...</li>\n<li>If the onblur event fires, clear the timer...</li>\n<li>Otherwise in 3-5seconds let your timeout fire... and notify the user \"Hmm, looks like you don't have the Mega Uber Cool Application installed... would you like to install it now? (Ok) (Cancel)\"</li>\n</ul>\n\n<p>Far from bulletproof... but it might help?</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>This is not a trivial task; one option might be to use signed code, which you could leverage to access the registry and/or filesystem (please note that this is a <a href=\"http://www.thawte.com/code-signing/index.html?click=DoYouNeedTo-SecureCode\" rel=\"nofollow\">very expensive</a> option). There is also no unified API or specification for code signing, so you would be required to generate specific code for each target browser. A support nightmare.</p>\n\n<p>Also, I know that <a href=\"http://steampowered.com\" rel=\"nofollow\">Steam</a>, the gaming content delivery system, doesn't seem to have this problem solved either.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You say you need to detect the browser's protocol handlers - do you really?</p>\n\n<p>What if you did something like what happens when you download a file from sourceforge? Let's say you want to open myapp://something. Instead of simply creating a link to it, create a link to another HTML page accessed via HTTP. Then, on that page, say that you're attempting to open the application for them. If it doesn't work, they need to install your application, which they can do by clicking on the link you'll provide. If it does work, then you're all set.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There seems to be no straightforward way via javascript to detect the presence of an installed app that has registered a protocol handler.</p>\n\n<p>In the iTunes model, Apple provides urls to their servers, which then provide pages that run some javascript:</p>\n\n<p><a href=\"http://ax.itunes.apple.com/detection/itmsCheck.js\">http://ax.itunes.apple.com/detection/itmsCheck.js</a></p>\n\n<p>So the iTunes installer apparently deploys plugins for the major browsers, whose presence can then be detected.</p>\n\n<p>If your plugin is installed, then you can be reasonably sure that redirecting to your app-specific url will succeed.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>What seams the most easy solution is to ask the user the first time. </p>\n\n<p>Using a Javascript confirm dialog per example:</p>\n\n<pre><code>You need this software to be able to read this link. Did you install it ?\n\nif yes: create a cookie to not ask next time; return false and the link applies\nif false: window.location.href = '/downloadpage/'\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>I'm trying to do something similar and I just discovered a trick that works with Firefox. If you combine it with the trick for IE you can have one that works on both main browsers (I'm not sure if it works in Safari and I know it doesn't work in Chrome)</p>\n\n<pre><code>if (navigator.appName==\"Microsoft Internet Explorer\" &amp;&amp; document.getElementById(\"testprotocollink\").protocolLong==\"Unknown Protocol\") {\n    alert(\"No handler registered\");\n} else {\n    try {\n        window.location = \"custom://stuff\";\n    } catch(err) {\n        if (err.toString().search(\"NS_ERROR_UNKNOWN_PROTOCOL\") != -1) {\n            alert(\"No handler registered\");\n        }\n    }\n}\n</code></pre>\n\n<p>In order for this to work you also need to have a hidden link somewhere on the page, like this:</p>\n\n<pre><code>&lt;a id=\"testprotocollink\" href=\"custom://testprotocol\" style=\"display: none;\"&gt;testprotocollink&lt;/a&gt;\n</code></pre>\n\n<p>It's a bit hacky but it works. The Firefox version unfortunately still pops up the default alert that comes up when you try to visit a link with an unknown protocol, but it will run your code after the alert is dismissed.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can try something like this:</p>\n\n<pre><code>function OpenCustumLink(link) {\n\n    var w = window.open(link, 'xyz', 'status=0,toolbar=0, menubar =0, height=0, width =0, top= -10, left=-10 ');\n    if(w == null) {            \n        //Work Fine\n    }\n    else {\n        w.close();\n        if (confirm('You Need a Custom Program. Do you want to install?')) {\n            window.location = 'SetupCustomProtocol.exe'; //Url for installer\n        }\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This was a recommended approach for IE by Microsoft support</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/ms537503%28VS.85%29.aspx#related_topics\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/ms537503%28VS.85%29.aspx#related_topics</a></p>\n\n<p>\"If you have some control over the binaries being installed on a user\u2019s machine, checking the UA in script seems like a relevant approach:\nHKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Internet Settings\\5.0\\User Agent\\Post Platform\n\" -- By M$ support</p>\n\n<p>Every web page has access to the userAgent string and if you drop a custom post platform value, detecting this in javascript using navigator.userAgent is quite simple.</p>\n\n<p>Fortunately, other major browsers like Firefox and Chrome (barring Safari :( ), do not throw \"page not found\" errors when a link with a custom protocol is clicked and the protocol is not installed on the users machine. IE is very unforgiving here, any trick to click in a invisible frame or trap javascript errors does not work and ends up with ugly \"webpage cannot be displayed\" error. The trick we use in our case is to inform users with browser specific images that clicking on the custom protocol link will open an application. And if they do not find the app opening up, they can click on an \"install\" page. In terms of XD this wprks way better than the ActiveX approach for IE. \nFor FF and Chrome, just go ahead and launch the custom protocol without any detection. Let the user tell you what he sees.\nFor Safari, :( no answers yet</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>HTML5 defines <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#custom-handlers\">Custom scheme and content handlers</a> (to my knowledge Firefox is the only <a href=\"https://developer.mozilla.org/en/Web-based_protocol_handlers\">implementor</a> so far), but unfortunately there is currently no way to check if a handler already exists\u2014it has been <a href=\"http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2009-January/018101.html\">proposed</a>, but there was no follow-up. This seems like a critical feature to use custom handlers effectively and we as developers should bring attention to this issue in order to get it implemented.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>If you have control of the program you're trying to run (the code), one way to see if the user was successful in running the application would be to:</p>\n\n<ol>\n<li><p>Before trying to open the custom protocol, make an AJAX request to a server script that saves the user's intent in a database (for example, save the userid and what he wanted to do).</p></li>\n<li><p>Try to open the program, and pass on the intent data.</p></li>\n<li><p>Have the program make a request to the server to remove the database entry (using the intent data to find the correct row).</p></li>\n<li><p>Make the javascript poll the server for a while to see if the database entry is gone. If the entry is gone, you'll know the user was successful in opening the application, otherwise the entry will remain (you can remove it later with cronjob).</p></li>\n</ol>\n\n<p>I have not tried this method, just thought it.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can use an embedded iframe to auto switch between the custom protocol and a known one (web or app store), see <a href=\"https://gist.github.com/2662899\">https://gist.github.com/2662899</a></p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>There's no great cross-browser way to do this. In IE10+ on Win8+, a new <code>msLaunchUri</code> api enables you to launch a protocol, like so:</p>\n\n<pre><code>navigator.msLaunchUri('skype:123456', \n  function() \n  { \n    alert('success');\n  }, \n  function()\n  {\n    alert('failed');\n  } \n); \n</code></pre>\n\n<p>If the protocol is not installed, the failure callback will fire. Otherwise, the protocol will launch and the success callback will fire.</p>\n\n<p>I discuss this topic a bit further here:\n<a href=\"http://blogs.msdn.com/b/ieinternals/archive/2011/07/14/url-protocols-application-protocols-and-asynchronous-pluggable-protocols-oh-my.aspx\" rel=\"nofollow\">http://blogs.msdn.com/b/ieinternals/archive/2011/07/14/url-protocols-application-protocols-and-asynchronous-pluggable-protocols-oh-my.aspx</a></p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>I was able to finally get a cross-browser (Chrome 32, Firefox 27, IE 11, Safari 6) solution working with a combination of <a href=\"http://www.rajeshsegu.com/2012/09/browser-detect-custom-protocols/comment-page-1/\" rel=\"nofollow\">this</a> and a super-simple Safari extension.  Much of this solution has been mentioned in one way or another in this and this <a href=\"http://stackoverflow.com/questions/2872090/how-to-check-if-a-custom-protocol-supported\">other question</a>.</p>\n\n<p>Here's the script:</p>\n\n<pre><code>function launchCustomProtocol(elem, url, callback) {\n    var iframe, myWindow, success = false;\n\n    if (Browser.name === \"Internet Explorer\") {\n        myWindow = window.open('', '', 'width=0,height=0');\n        myWindow.document.write(\"&lt;iframe src='\" + url + \"'&gt;&lt;/iframe&gt;\");\n\n        setTimeout(function () {\n            try {\n                myWindow.location.href;\n                success = true;\n            } catch (ex) {\n                console.log(ex);\n            }\n\n            if (success) {\n                myWindow.setTimeout('window.close()', 100);\n            } else {\n                myWindow.close();\n            }\n\n            callback(success);\n        }, 100);\n    } else if (Browser.name === \"Firefox\") {\n        try {\n            iframe = $(\"&lt;iframe /&gt;\");\n            iframe.css({\"display\": \"none\"});\n            iframe.appendTo(\"body\");\n            iframe[0].contentWindow.location.href = url;\n\n            success = true;\n        } catch (ex) {\n            success = false;\n        }\n\n        iframe.remove();\n\n        callback(success);\n    } else if (Browser.name === \"Chrome\") {\n        elem.css({\"outline\": 0});\n        elem.attr(\"tabindex\", \"1\");\n        elem.focus();\n\n        elem.blur(function () {\n            success = true;\n            callback(true);  // true\n        });\n\n        location.href = url;\n\n        setTimeout(function () {\n            elem.off('blur');\n            elem.removeAttr(\"tabindex\");\n\n            if (!success) {\n                callback(false);  // false\n            }\n        }, 1000);\n    } else if (Browser.name === \"Safari\") {\n        if (myappinstalledflag) {\n            location.href = url;\n            success = true;\n        } else {\n            success = false;\n        }\n\n        callback(success);\n    }\n}\n</code></pre>\n\n<p>The Safari extension was easy to implement.  It consisted of a single line of injection script:</p>\n\n<p>myinject.js:</p>\n\n<pre><code>window.postMessage(\"myappinstalled\", window.location.origin);\n</code></pre>\n\n<p>Then in the web page JavaScript, you need to first register the message event and set a flag if the message is received:</p>\n\n<pre><code>window.addEventListener('message', function (msg) {\n    if (msg.data === \"myappinstalled\") {\n        myappinstalledflag = true;\n    }\n}, false);\n</code></pre>\n\n<p>This assumes the application which is associated with the custom protocol will manage the installation of the Safari extension.</p>\n\n<p>In all cases, if the callback returns false, you know to inform the user that the application (i.e., it's custom protocol) is not installed.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's another hacky answer that would require (hopefully light) modification to your application to 'phone home' on launch.</p>\n\n<ol>\n<li>User clicks link, which attempts to launch the application.  A unique\nidentifier is put in  the link, so that it's passed to the\napplication when it launches.  Web app shows a spinner or something of that nature.</li>\n<li>Web page then starts checking for a\n'application phone home' event from an app with this same unique ID.</li>\n<li>When launched, your application does an HTTP post to your web app\nwith the unique identifier, to indicate presence.  </li>\n<li>Either the web page sees that the application launched, eventually, or moves on with a 'please download' page.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have created a custom URL protocol handler.</p>\n\n<p><code>http://</code></p>\n\n<p><code>mailto://</code></p>\n\n<p><strong><code>custom://</code></strong></p>\n\n<p>I have registered a WinForms application to respond accordingly. This all works great.</p>\n\n<p>But I would like to be able to gracefully handle the case where the user doesn't have the custom URL protocol handler installed, yet.</p>\n\n<p>In order to be able to do this I need to be able to detect the browser's registered protocol handlers, I would assume from JavaScript. But I have been unable to find a way to poll for the information. I am hoping to find a solution to this problem.</p>\n\n<p>Thanks for any ideas you might be able to share.</p>\n",
            "last_activity_date": 1404747565,
            "question_id": 836777,
            "score": 45,
            "tags": [
                "javascript",
                "browser",
                "protocols",
                "moniker"
            ],
            "title": "How to detect browser&#39;s protocol handlers?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Literals are a different kind of object than objects created from within Javascript. From the <a href=\"http://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Operators/Special_Operators/instanceof_Operator\">Mozilla API docs</a>:</p>\n\n<pre><code>var color1 = new String(\"green\");\ncolor1 instanceof String; // returns true\nvar color2 = \"coral\";\ncolor2 instanceof String; // returns false (color2 is not a String object)\n</code></pre>\n\n<p>I can't find any way to construct literal types with code, perhaps it's not possible. This is probably why people use <code>typeof \"foo\" === \"string\"</code> instead of <code>instanceof</code>.</p>\n\n<p>An easy way to remember things like this is asking yourself \"I wonder what would be sane and easy to learn\"? Whatever the answer is, Javascript does the other thing.</p>\n",
                    "is_accepted": true,
                    "score": 149
                },
                {
                    "body": "<p>That's because those things are <em>primitives</em>, and unless they need to be used as objects (when you are calling methods on them, for example) they remain so. The only time they \"become\" objects is when they need to be wrapped. If you are familiar with the concept of \"boxing\" in .NET, then think of it in that way.</p>\n\n<p>Here is an example - take a look at this code:</p>\n\n<pre><code>Number.prototype.times = function(func) {\n   for(var index = 1; index &lt;= this; index++) {\n      func(index);\n   }\n};\n</code></pre>\n\n<p>So, the following code will fail:</p>\n\n<pre><code>3.times(print); // assume 'print' writes to standard out\n</code></pre>\n\n<p>3, by itself is a primitive. That said, the following will work:</p>\n\n<pre><code>(3).times(print); // assume 'print' writes to standard out\n</code></pre>\n\n<p>That would display the numbers 1, 2, and 3. Because of the parenthesis, the JavaScript interpreter will temporarily wrap the primitive 3 in a Number object, call the method, and then garbage collect the object since it isn't needed any longer.</p>\n\n<p>Anyway, a full discussion of this can be found in <a href=\"http://oreilly.com/catalog/9780596101992/?CMP=AFC-ak_book&amp;ATT=JavaScript%3A+The+Definitive+Guide\" rel=\"nofollow\"><strong>\"JavaScript: The Definitive Guide.\"</strong></a></p>\n",
                    "is_accepted": false,
                    "score": -9
                },
                {
                    "body": "<p>You can use constructor property:</p>\n\n<pre><code>'foo'.constructor == String // returns true\ntrue.constructor == Boolean // returns true\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>Or you can just make your own function like so:</p>\n\n<pre><code>function isInstanceOf(obj, clazz){\n  return (obj instanceof eval(\"(\"+clazz+\")\")) || (typeof obj == clazz.toLowerCase());\n};\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>isInstanceOf('','String');\nisInstanceOf(new String(), 'String');\n</code></pre>\n\n<p>These should both return true.</p>\n",
                    "is_accepted": false,
                    "score": -5
                },
                {
                    "body": "<p>I use:</p>\n\n<pre><code>function isString(s) {\n    return typeof(s) === 'string' || s instanceof String;\n}\n</code></pre>\n\n<p>Because in JavaScript strings can be literals or objects.</p>\n",
                    "is_accepted": false,
                    "score": 39
                },
                {
                    "body": "<p>In JavaScript everything is an object (or may at least be treated as an object). The only non-objects are primitive booleans, numbers, strings and the value <code>undefined</code>:</p>\n\n<pre><code>console.log(typeof true);           // boolean\nconsole.log(typeof 0);              // number\nconsole.log(typeof \"\");             // string\nconsole.log(typeof undefined);      // undefined\nconsole.log(typeof null);           // object\nconsole.log(typeof []);             // object\nconsole.log(typeof {});             // object\nconsole.log(typeof function () {}); // function\n</code></pre>\n\n<p>As you can see objects, arrays and the value <code>null</code> are all considered objects (<code>null</code> is a reference to an object which doesn't exist). Functions are distinguished because they are a special type of <em>callable</em> objects. However they are still objects.</p>\n\n<p>On the other hand the literals <code>true</code>, <code>0</code>, <code>\"\"</code> and <code>undefined</code> are not objects. They are primitive values in JavaScript. However booleans, numbers and strings also have constructors <code>Boolean</code>, <code>Number</code> and <code>String</code> respectively which wrap their respective primitives to provide added functionality:</p>\n\n<pre><code>console.log(typeof new Boolean(true)); // object\nconsole.log(typeof new Number(0));     // object\nconsole.log(typeof new String(\"\"));    // object\n</code></pre>\n\n<p>As you can see when primitive values are wrapped within the <code>Boolean</code>, <code>Number</code> and <code>String</code> constructors respectively they become objects. The <code>instanceof</code> operator only works for objects (which is why it returns <code>false</code> for primitive values):</p>\n\n<pre><code>console.log(true instanceof Boolean);              // false\nconsole.log(0 instanceof Number);                  // false\nconsole.log(\"\" instanceof String);                 // false\nconsole.log(new Boolean(true) instanceof Boolean); // true\nconsole.log(new Number(0) instanceof Number);      // true\nconsole.log(new String(\"\") instanceof String);     // true\n</code></pre>\n\n<p>As you can see both <code>typeof</code> and <code>instanceof</code> are insufficient to test whether a value is a boolean, a number or a string - <code>typeof</code> only works for primitive booleans, numbers and strings; and <code>instanceof</code> doesn't work for primitive booleans, numbers and strings.</p>\n\n<p>Fortunately there's a simple solution to this problem. The default implementation of <code>toString</code> (i.e. as it's natively defined on <code>Object.prototype.toString</code>) returns the internal <code>[[Class]]</code> property of both primitive values and objects:</p>\n\n<pre><code>function classOf(value) {\n    return Object.prototype.toString.call(value);\n}\n\nconsole.log(classOf(true));              // [object Boolean]\nconsole.log(classOf(0));                 // [object Number]\nconsole.log(classOf(\"\"));                // [object String]\nconsole.log(classOf(new Boolean(true))); // [object Boolean]\nconsole.log(classOf(new Number(0)));     // [object Number]\nconsole.log(classOf(new String(\"\")));    // [object String]\n</code></pre>\n\n<p>The internal <code>[[Class]]</code> property of a value is much more useful than the <code>typeof</code> the value. We can use <code>Object.prototype.toString</code> to create our own (more useful) version of the <code>typeof</code> operator as follows:</p>\n\n<pre><code>function typeOf(value) {\n    return Object.prototype.toString.call(value).slice(8, -1);\n}\n\nconsole.log(typeOf(true));              // Boolean\nconsole.log(typeOf(0));                 // Number\nconsole.log(typeOf(\"\"));                // String\nconsole.log(typeOf(new Boolean(true))); // Boolean\nconsole.log(typeOf(new Number(0)));     // Number\nconsole.log(typeOf(new String(\"\")));    // String\n</code></pre>\n\n<p>Hope this article helped. To know more about the differences between primitives and wrapped objects read the following blog post: <a href=\"http://javascriptweblog.wordpress.com/2010/09/27/the-secret-life-of-javascript-primitives/\">The Secret Life of JavaScript\u00a0Primitives</a></p>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>For me the confusion caused by </p>\n\n<pre><code>\"str\".__proto__ // #1\n=&gt; String\n</code></pre>\n\n<p>So <code>\"str\" istanceof String</code> should return <code>true</code> because how istanceof works as below:</p>\n\n<pre><code>\"str\".__proto__ == String.prototype // #2\n=&gt; true\n</code></pre>\n\n<p>Results of expression <strong>#1</strong> and <strong>#2</strong> conflict each other, so there should be one of them wrong.</p>\n\n<p><strong>#1 is wrong</strong></p>\n\n<p>I figure out that it caused by the <code>__proto__</code> is non standard property, so use the standard one:<code>Object.getPrototypeOf</code></p>\n\n<pre><code>Object.getPrototypeOf(\"str\") // #3\n=&gt; TypeError: Object.getPrototypeOf called on non-object\n</code></pre>\n\n<p>Now there's no confusion between expression <strong>#2</strong> and <strong>#3</strong></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<pre><code>\"foo\" instanceof String //=&gt; false\n\"foo\" instanceof Object //=&gt; false\ntrue instanceof Boolean //=&gt; false\ntrue instanceof Object //=&gt; false\nfalse instanceof Boolean //=&gt; false\nfalse instanceof Object //=&gt; false\n\n// the tests against Object really don't make sense\n</code></pre>\n\n<p>Array literals and Object literals match...</p>\n\n<pre><code>[0,1] instanceof Array //=&gt; true\n{0:1} instanceof Object //=&gt; true\n</code></pre>\n\n<p>Why don't all of them? Or, why don't <em>none</em> of them?<br />\nAnd, what are they an instance of, then? <code>Nothing()</code>?</p>\n\n<p>It's the same in FF3, IE7, Opera, and Chrome. So, at least it's consistent. ;)</p>\n\n<p><hr /></p>\n\n<p>Missed a few. ;)</p>\n\n<pre><code>12.21 instanceof Number //=&gt; false\n/foo/ instanceof RegExp //=&gt; true\n</code></pre>\n",
            "last_activity_date": 1424983286,
            "question_id": 203739,
            "score": 109,
            "tags": [
                "javascript",
                "literals",
                "instanceof"
            ],
            "title": "Why does instanceof return false for some literals?"
        },
        {
            "answer_count": 16,
            "answers": [
                {
                    "body": "<p>So far I have found a couple of online ones:</p>\n\n<ul>\n<li><a href=\"http://www.javascriptbeautifier.com/\">JavaScript Beautifier</a></li>\n<li><a href=\"http://elfz.laacz.lv/beautify/\">Beautify Javascript</a></li>\n</ul>\n\n<p>Still looking for something I can ran from the command line.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>First, pick your favorite Javascript based Pretty Print/Beautifier.  I prefer the one at <a href=\"http://jsbeautifier.org/\">http://jsbeautifier.org/</a>, because it's what I found first.</p>\n\n<p>Second, download and install The Mozilla group's Java based Javascript engine, <a href=\"http://www.mozilla.org/rhino/\">Rhino</a>.  \"Install\" is a little bit misleading;  Download the zip file, extract everything, place js.jar in your Java classpath (or Library/Java/Extensions on OS X).  You can then run scripts with an invocation similar to this </p>\n\n<pre><code>java org.mozilla.javascript.tools.shell.Main name-of-script.js\n</code></pre>\n\n<p>Use the Pretty Print/Beautifier from step 1 to write a small shell script that will read in your javascript file and run it through the Pretty Print/Beautifier from step one.  For example</p>\n\n<pre><code>//new code\nprint(js_beautify(readFile(arguments[0])));\n\n//original code    \nfunction js_beautify(js_source_text, indent_size, etc...\n</code></pre>\n\n<p>Rhino gives javascript a few extra useful functions that don't necesarily make sense in a browser context, but do in a console context. The function print does what you'd expect, and prints out a string.  The function readFile accepts a file path string as an argument and returns the contents of that file.   </p>\n\n<p>You'd invoke the above something like </p>\n\n<pre><code>java org.mozilla.javascript.tools.shell.Main beautify.js file-to-pp.js\n</code></pre>\n\n<p>You can mix and match Java and Javascript in your Rhino run scripts, so if you know a little Java it shouldn't be too hard to get this running with text-streams as well.    </p>\n",
                    "is_accepted": true,
                    "score": 53
                },
                {
                    "body": "<p>This is a free stand-alone beautifier (and much more):</p>\n\n<p><a href=\"http://www.yaldex.com/Free%5FJavaScript%5FEditor.htm\" rel=\"nofollow\">http://www.yaldex.com/Free_JavaScript_Editor.htm</a></p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>My Pretty Diff tool is written entirely in JavaScript so it works equally well on all operating systems.  It supports beautification and minification of JavaScript, CSS, any markup language that uses XML style delimiters, including HTML.</p>\n\n<p><a href=\"http://prettydiff.com/?m=beautify\" rel=\"nofollow\">http://prettydiff.com/?m=beautify</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>The problem with allot of beautifiers is the choice of output and filtering and the sever lack of serious command line beautifiers. I've recently begun modifying YUI compressor to beautify code. If you want to make your own beautifier I have to highly recommend this approach. YUI is open source and comes with an ant build file making it very easy to alter and compile.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Adding to Answer of @Alan Storm</p>\n\n<p>the command line beautifier based on <a href=\"http://jsbeautifier.org/\" rel=\"nofollow\">http://jsbeautifier.org/</a>  has gotten a bit easier to use, because it is now (alternatively) based on the V8 javascript engine (c++ code) instead of rhino (java-based JS engine, packaged as \"js.jar\")</p>\n\n<p>How to use:</p>\n\n<p>download jsbeautifier.org zip file from\n<a href=\"http://github.com/einars/js-beautify/zipball/master\" rel=\"nofollow\">http://github.com/einars/js-beautify/zipball/master</a></p>\n\n<p>(this is a download URL linked to a zip file such as <a href=\"http://download.github.com/einars-js-beautify-10384df.zip\" rel=\"nofollow\">http://download.github.com/einars-js-beautify-10384df.zip</a>)</p>\n\n<p>old (no longer works, jar file is gone)</p>\n\n<pre><code>  java -jar js.jar  name-of-script.js\n</code></pre>\n\n<p>new (alternative)</p>\n\n<p>install/compile v8 lib FROM svn, see v8/README.txt in above-mentioned zip file</p>\n\n<pre><code>  ./jsbeautify somefile.js\n</code></pre>\n\n<p>-has slightly different command line options than the rhino version, </p>\n\n<p>-and works great in Eclipse when configured as an \"External Tool\"</p>\n\n<p><strong>UPDATE April 2014</strong>:\nThe beautifier has been rewritten since I answered this in 2010. There is now a python module in there, an npm Package for nodejs, and the jar file is gone. Please read the <a href=\"https://github.com/einars/js-beautify/\" rel=\"nofollow\">project page on github.com</a>.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I've written an article explaining how to build a <a href=\"http://blog.shonzilla.com/post/1448821411/command-line-javascript-beautifier\" rel=\"nofollow\">command-line JavaScript beautifier implemented in JavaScript</a> in under 5 minutes. YMMV.</p>\n\n<blockquote>\n  <ol>\n  <li>Download the latest stable Rhino and unpack it somewhere, e.g. ~/dev/javascript/rhino</li>\n  <li>Download beautify.js which is referenced from aforementioned jsbeautifier.org then copy it somewhere, e.g. ~/dev/javascript/bin/cli-beautifier.js</li>\n  <li><p>Add this at the end of beautify.js (using some additional top-level properties to JavaScript):</p>\n\n<pre><code>// Run the beautifier on the file passed as the first argument.\nprint( j23s_beautify( readFile( arguments[0] )));\n</code></pre></li>\n  <li><p>Copy-paste the following code in an executable file, e.g. ~/dev/javascript/bin/jsbeautifier.sh:</p>\n\n<pre><code>#!/bin/sh\njava -cp ~/dev/javascript/rhino/js.jar org.mozilla.javascript.tools.shell.Main ~/dev/web/javascript/bin/cli-beautifier.js $*\n</code></pre></li>\n  <li><p>(optional) Add the folder with jsbeautifier.js to PATH or moving to some folder already there.</p></li>\n  </ol>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is a very useful website to beautify/indent your js files. i often use it.\nCheck this: <a href=\"http://jsbeautifier.org/\" rel=\"nofollow\">http://jsbeautifier.org/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's a javascript beautifier written in .NET supporting command-line as well as interactive mode:\n<a href=\"http://www.rahulsingla.com/blog/2010/12/jsbeautifier-net-javascript-beautifier-in-net\" rel=\"nofollow\">http://www.rahulsingla.com/blog/2010/12/jsbeautifier-net-javascript-beautifier-in-net</a></p>\n\n<p>There's no external dependency except .Net 2.0.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I use this one (<a href=\"http://jsbeautifier.atomproject.net/\" rel=\"nofollow\">http://jsbeautifier.atomproject.net/</a>) beautifier. Its online and free.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'm not able to add a comment to the accepted answer so that's why you see a post that should have not existed in the first place. </p>\n\n<p>Basically I also needed a javascript beautifier in a java code and to my surprise none is available as far as I could find. So I coded one myself entirely based on the accepted answer.</p>\n\n<p>The code is located at <a href=\"https://github.com/belgampaul/JsBeautifier\" rel=\"nofollow\">https://github.com/belgampaul/JsBeautifier</a></p>\n\n<p>I used rhino and beautifier.js</p>\n\n<p>USAGE from console: java -jar jsbeautifier.jar script indentation</p>\n\n<p>example: java -jar jsbeautifier.jar \"function ff() {return;}\" 2</p>\n\n<p>USAGE from java code:\npublic static String jsBeautify(String jsCode, int indentSize)</p>\n\n<p>You are welcome to extend the code. In my case I only needed the indentation so I could check the generated javascript while developing.</p>\n\n<p>In the hope it'll save you some time in your project.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you're using nodejs then try <a href=\"https://github.com/mishoo/UglifyJS/\">uglify-js</a></p>\n\n<p>On Ubuntu 12.04, assuming you already have nodejs installed, you can install uglify with:</p>\n\n<blockquote>\n  <p>sudo npm install -g uglify-js</p>\n</blockquote>\n\n<p>And then get the options:</p>\n\n<blockquote>\n  <p>uglifyjs -h</p>\n</blockquote>\n\n<p>So if I have a source file <code>foo.js</code> which looks like this:</p>\n\n<blockquote>\n  <p>function foo(bar,baz){console.log(\"something something\");return true;}</p>\n</blockquote>\n\n<p>I can beautify it like so:</p>\n\n<blockquote>\n  <p>uglifyjs foo.js --beautify --output cutefoo.js</p>\n</blockquote>\n\n<p><code>uglify</code> uses spaces for indentation by default so if I want to convert the 4-space-indentation to tabs I can run it through <code>unexpand</code> which Ubuntu 12.04 comes with:</p>\n\n<blockquote>\n  <p>unexpand --tabs=4 cutefoo.js > cuterfoo.js</p>\n</blockquote>\n\n<p>You can find out more about unexpand <a href=\"http://stackoverflow.com/questions/1424126/replace-whitespaces-with-tabs-in-linux\">here</a></p>\n\n<p>so after all this I wind up with a file that looks like so:</p>\n\n<pre><code>function foo(bar, baz) {\n    console.log(\"something something\");\n    return true;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>If you use notepad++ here is a plugin for notepad++\n<a href=\"http://www.sunjw.us/jsminnpp/\" rel=\"nofollow\">http://www.sunjw.us/jsminnpp/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I believe when you asked about command line tool you just wanted to beautify all your js files in batch. </p>\n\n<p>In this case Intellij IDEA (tested with 11.5) can do this.</p>\n\n<p>You just need to select any of your project files and select \"Code\"->\"Reformat code..\" in main IDE menu. Then in the dialog select \"all files in directory ...\" and press \"enter\".\nJust make sure you dedicated enough memory for the JVM.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In the console, <a href=\"http://astyle.sourceforge.net/\" rel=\"nofollow\">astyle</a> can be used, with <code>--mode=java</code>. It works great and is available on many Linux platforms. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Use the modern JavaScript way:</p>\n\n<p>Use <a href=\"http://gruntjs.com/\" rel=\"nofollow\">Grunt</a> in combination with the <a href=\"https://www.npmjs.org/package/grunt-jsbeautifier\" rel=\"nofollow\">jsbeautifier plugin for Grunt</a> </p>\n\n<p>You can install everything easily into your dev environment using <a href=\"https://www.npmjs.org/\" rel=\"nofollow\">npm</a>.</p>\n\n<p>All you will need is set up a Gruntfile.js with the appropriate tasks, which can also involve file concatenation, lint, uglify, minify etc, and run the grunt command.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am looking for a code beautifier that supports javascript and works on both windows and linux and can be used in batch scripts. Any recommendations?</p>\n",
            "last_activity_date": 1410810550,
            "question_id": 18985,
            "score": 72,
            "tags": [
                "javascript",
                "formatting",
                "pretty-print",
                "beautifier"
            ],
            "title": "What Javascript code beautifier can I use via the command line on Windows and Linux?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>My guess is that, while every version is wearing the cost of many concatenations, the join versions are building arrays in addition to that.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I would say that with strings it's easier to preallocate a bigger buffer. Each element is only 2 bytes (if UNICODE), so even if you are conservative, you can preallocate a pretty big buffer for the string. With <code>arrays</code> each element is more \"complex\", because each element is an <code>Object</code>, so a conservative implementation will preallocate space for less elements.</p>\n\n<p>If you try to add a <code>for(j=0;j&lt;1000;j++)</code> before each <code>for</code> you'll see that (under chrome) the difference in speed becomes smaller. In the end it was still 1.5x for the string concatenation, but smaller than the 2.6 that was before.</p>\n\n<p>AND having to copy the elements, an Unicode character is probably smaller than a reference to a JS Object.</p>\n\n<p>Be aware that there is the possibility that many implementations of JS engines have an optimization for single-type arrays that would make all I have written useless :-)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<blockquote>\n  <p>Browser string optimizations have changed the string concatenation picture.</p>\n  \n  <p>Firefox was the first browser to optimize string concatenation. Beginning with version 1.0, the array technique is actually slower than using the plus operator in all cases. Other browsers have also optimized string concatenation, so Safari, Opera, Chrome, and Internet Explorer 8 also show better performance using the plus operator. Internet Explorer prior to version 8 didn\u2019t have such an optimization, and so the array technique is always faster than the plus operator.</p>\n  \n  <p>\u2014 <a href=\"http://oreilly.com/server-administration/excerpts/even-faster-websites/writing-efficient-javascript.html\">Writing Efficient JavaScript: Chapter 7 \u2013 Even Faster Websites</a></p>\n</blockquote>\n\n<p>The V8 javascript engine (used in Google Chrome) uses <a href=\"http://v8.googlecode.com/svn/trunk/src/string.js\">this code</a> to do string concatenation:</p>\n\n<pre><code>// ECMA-262, section 15.5.4.6\nfunction StringConcat() {\n  if (IS_NULL_OR_UNDEFINED(this) &amp;&amp; !IS_UNDETECTABLE(this)) {\n    throw MakeTypeError(\"called_on_null_or_undefined\", [\"String.prototype.concat\"]);\n  }\n  var len = %_ArgumentsLength();\n  var this_as_string = TO_STRING_INLINE(this);\n  if (len === 1) {\n    return this_as_string + %_Arguments(0);\n  }\n  var parts = new InternalArray(len + 1);\n  parts[0] = this_as_string;\n  for (var i = 0; i &lt; len; i++) {\n    var part = %_Arguments(i);\n    parts[i + 1] = TO_STRING_INLINE(part);\n  }\n  return %StringBuilderConcat(parts, len + 1, \"\");\n}\n</code></pre>\n\n<p>So, internally they optimize it by creating an InternalArray (the <code>parts</code> variable), which is then filled. The StringBuilderConcat function is called with these parts. It's fast because the StringBuilderConcat function is some heavily optimized C++ code. It's too long to quote here, but search in the <a href=\"http://v8.googlecode.com/svn/trunk/src/runtime.cc\">runtime.cc</a> file for <code>RUNTIME_FUNCTION(MaybeObject*, Runtime_StringBuilderConcat)</code> to see the code.</p>\n",
                    "is_accepted": true,
                    "score": 82
                },
                {
                    "body": "<p>Firefox is fast because it uses something called Ropes (<a href=\"http://citeseerx.ist.psu.edu/viewdoc/download;jsessionid=181EEF66EB411F4277C009A1D492CF75?doi=10.1.1.14.9450&amp;rep=rep1&amp;type=pdf\">Ropes: an Alternative to Strings</a>). A rope is basically just a DAG, where every Node is a string.</p>\n\n<p>So for example, if you would do <code>a = 'abc'.concat('def')</code>, the newly created object would look like this. <em>Of course this is not exactly how this looks like in memory, because you still need to have a field for the string type, length and maybe other.</em></p>\n\n<pre><code>a = {\n nodeA: 'abc',\n nodeB: 'def'\n}\n</code></pre>\n\n<p>And <code>b = a.concat('123')</code></p>\n\n<pre><code>b = {\n  nodeA: a, /* {\n             nodeA: 'abc',\n             nodeB: 'def'\n          } */\n  nodeB: '123'\n}           \n</code></pre>\n\n<p>So in the simplest case the VM has to do nearly no work. The only problem is that this slows down other operations on the resulting string a little bit. Also this of course reduces memory overhead. </p>\n\n<p>On the other hand <code>['abc', 'def'].join('')</code> would usually just allocate memory to lay out the new string flat in memory. (Maybe this should be optimized)</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>This clearly depends on the javascript engine implementation. Even for different versions of one engine you can get significally different results. You should do your own benchmark to verify this.</p>\n\n<p>I would say that <code>String.concat</code> has better performance in the recent versions of V8. But for Firefox and Opera, <code>Array.join</code> is a winner.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><a href=\"http://jsperf.com/correct-test-of-string-concatenation-vs-array-join\" rel=\"nofollow\">This test</a> shows the penalty of actually using a string made with assignment concatenation vs made with array.join method. While the overall speed of assignment is still twice as fast in Chrome v31 but it is no longer as huge as when not using the resultant string.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Today, I read <a href=\"http://stackoverflow.com/questions/7296594/array-join-vs-string-connect\">this thread</a> about speed of string concatenation. </p>\n\n<p>Surprisingly, string concatenation was the winner:</p>\n\n<blockquote>\n  <p><a href=\"http://jsperf.com/array-join-vs-string-connect\">http://jsperf.com/array-join-vs-string-connect</a></p>\n  \n  <p><a href=\"http://jsperf.com/join-concat/2\">http://jsperf.com/join-concat/2</a></p>\n</blockquote>\n\n<p>The result was opposite from what I thought. Besides, there are many articles about this which explains oppositely like <a href=\"http://www.sitepoint.com/javascript-fast-string-concatenation/\">this</a> or <a href=\"http://www.bloggingdeveloper.com/post/JavaScript-Array-Join-vs-String-Concatenation-Avoid-String-Concatenations-Major-Hit-on-Performance.aspx\">this</a>. </p>\n\n<p>I can guess that browsers are optimized to string <code>concat</code> on latest version, but how do they do that? Can we say that it is better to use <code>+</code> when concatenating strings?</p>\n",
            "last_activity_date": 1401179864,
            "question_id": 7299010,
            "score": 58,
            "tags": [
                "javascript",
                "performance",
                "string-concatenation"
            ],
            "title": "Why is string concatenation faster than array join?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Perhaps with the canvas tag (though it's not portable). There's a blog about how to rotate an image with canvas <a href=\"http://savotdane.blogspot.com/2009/06/load-imagerotate-image-in-canvas-tag.html\">here</a>, I suppose if you can rotate it, you can resize it. Maybe it can be a starting point.</p>\n\n<p>See <a href=\"http://www.pixastic.com/\">there</a> also.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>It it will be possible with html5. </p>\n\n<p>For now, you can use Silverlight to do it. Here is a great starting point.</p>\n\n<p><a href=\"http://www.codeplex.com/SilverlightFileUpld\" rel=\"nofollow\">http://www.codeplex.com/SilverlightFileUpld</a></p>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p><a href=\"http://www.plupload.com\">http://www.plupload.com</a></p>\n\n<p>HTML5: Image resizing is only possible on Firefox 3.5+ and only at a fixed quality. WebKit/Opera doesn't support direct data access to the selected files.</p>\n\n<p>The rest it handles with Flash.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>The answer to this is yes - in HTML 5 you can resize images client-side using the canvas element. You can also take the new data and send it to a server. See this tutorial:</p>\n\n<p><a href=\"http://hacks.mozilla.org/2011/01/how-to-develop-a-html5-image-uploader/\">http://hacks.mozilla.org/2011/01/how-to-develop-a-html5-image-uploader/</a></p>\n",
                    "is_accepted": false,
                    "score": 34
                },
                {
                    "body": "<p>Not sure why you want to do this... but if you where resizing before uploading I just found out this  <a href=\"http://www.plupload.com/\">http://www.plupload.com/</a>  it does all the magic  for you in any imaginable method.</p>\n\n<p>Unfortunatelly HTML5 resize only is suported with Mozilla borwser, but you can redirect other browsers to flash and silverlight.</p>\n\n<p>I just tried it and worked with my android!. </p>\n\n<p>I was using <a href=\"http://swfupload.org/\">http://swfupload.org/</a> in flash, it does the job very well, but the resize size is very small. (cannot remember the limit) and does not go back to html4 when flash is not available.</p>\n",
                    "is_accepted": false,
                    "score": 11
                }
            ],
            "body": "<p>I would like to know if it is technically possible to resize an image at a client-side with javascript (really resize, not just change width and height). I know it's possible to do it in flash but I would like to avoid it if possible. Is there any open source algorithm somewhere on the web?</p>\n",
            "last_activity_date": 1358981595,
            "question_id": 2434458,
            "score": 52,
            "tags": [
                "javascript",
                "image",
                "resize",
                "client-side"
            ],
            "title": "Image resizing client-side with javascript before upload to the server"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>The <code>atob</code> function will decode a base64-encoded string into a new string with a character for each byte of the binary data.</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>var byteCharacters = atob(b64Data);\n</code></pre>\n\n<p>Each character's code point (charCode) will be the value of the byte. We can create an array of byte values by applying this using the <code>.charCodeAt</code> method for each character in the string.</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>var byteNumbers = new Array(byteCharacters.length);\nfor (var i = 0; i &lt; byteCharacters.length; i++) {\n    byteNumbers[i] = byteCharacters.charCodeAt(i);\n}\n</code></pre>\n\n<p>You can convert this array of byte values into a real typed byte array by passing it to the <code>Uint8Array</code> constructor.</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>var byteArray = new Uint8Array(byteNumbers);\n</code></pre>\n\n<p>This in turn can be converted to a <code>Blob</code> by wrapping it in an array passing it to the <code>Blob</code> constructor. </p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>var blob = new Blob([byteArray], {type: contentType});\n</code></pre>\n\n<p>You can see the above approach working for the original example in <a href=\"http://jsfiddle.net/jeremy/B29fm/\">this fiddle</a>. However the performance can be improved a little by processing the <code>byteCharacters</code> in smaller slices, rather than all at once. In my rough testing 512 bytes seems to be a good slice size. This gives us the following function. You can see it handling the original example in <a href=\"http://jsfiddle.net/jeremy/H29Av/\">this fiddle</a>.</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>function b64toBlob(b64Data, contentType, sliceSize) {\n    contentType = contentType || '';\n    sliceSize = sliceSize || 512;\n\n    var byteCharacters = atob(b64Data);\n    var byteArrays = [];\n\n    for (var offset = 0; offset &lt; byteCharacters.length; offset += sliceSize) {\n        var slice = byteCharacters.slice(offset, offset + sliceSize);\n\n        var byteNumbers = new Array(slice.length);\n        for (var i = 0; i &lt; slice.length; i++) {\n            byteNumbers[i] = slice.charCodeAt(i);\n        }\n\n        var byteArray = new Uint8Array(byteNumbers);\n\n        byteArrays.push(byteArray);\n    }\n\n    var blob = new Blob(byteArrays, {type: contentType});\n    return blob;\n}\n</code></pre>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>var blob = b64toBlob(b64Data, contentType);\nvar blobUrl = URL.createObjectURL(blob);\n\nwindow.location = blobUrl;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 87
                },
                {
                    "body": "<p><a href=\"https://github.com/eligrey/canvas-toBlob.js/blob/20db0dea59f09261ad5c7c632d948d04bf13eb85/canvas-toBlob.js#L23\" rel=\"nofollow\">This function</a> will decode base64 to an buffer which you can directly put into a blob.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Optimized (but less readable) implementation:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function base64toBlob(base64Data, contentType) {\n    contentType = contentType || '';\n    var sliceSize = 1024;\n    var byteCharacters = atob(base64Data);\n    var bytesLength = byteCharacters.length;\n    var slicesCount = Math.ceil(bytesLength / sliceSize);\n    var byteArrays = new Array(slicesCount);\n\n    for (var sliceIndex = 0; sliceIndex &lt; slicesCount; ++sliceIndex) {\n        var begin = sliceIndex * sliceSize;\n        var end = Math.min(begin + sliceSize, bytesLength);\n\n        var bytes = new Array(end - begin);\n        for (var offset = begin, i = 0 ; offset &lt; end; ++i, ++offset) {\n            bytes[i] = byteCharacters[offset].charCodeAt(0);\n        }\n        byteArrays[sliceIndex] = new Uint8Array(bytes);\n    }\n    return new Blob(byteArrays, { type: contentType });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>For image data, I find it simpler to use <code>canvas.toBlob</code> (asynchronous)</p>\n\n<pre><code>function b64toBlob(b64, onsuccess, onerror) {\n    var img = new Image();\n\n    img.onerror = onerror;\n\n    img.onload = function onload() {\n        var canvas = document.createElement('canvas');\n        canvas.width = img.width;\n        canvas.height = img.height;\n\n        var ctx = canvas.getContext('2d');\n        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n\n        canvas.toBlob(onsuccess);\n    };\n\n    img.src = b64;\n}\n\nvar base64Data = 'data:image/jpg;base64,/9j/4AAQSkZJRgABAQA...';\nb64toBlob(base64Data,\n    function(blob) {\n        var url = window.URL.createObjectURL(blob);\n        // do something with url\n    }, function(error) {\n        // handle error\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>For all browser support, especially on android.\nPerhaps you can add this</p>\n\n<pre><code>   try{\n       blob = new Blob( byteArrays, {type : contentType});\n    }\n    catch(e){\n        // TypeError old chrome and FF\n        window.BlobBuilder = window.BlobBuilder || \n                             window.WebKitBlobBuilder || \n                             window.MozBlobBuilder || \n                             window.MSBlobBuilder;\n        if(e.name == 'TypeError' &amp;&amp; window.BlobBuilder){\n            var bb = new BlobBuilder();\n            bb.append(byteArrays);\n            blob = bb.getBlob(contentType);\n        }\n        else if(e.name == \"InvalidStateError\"){\n            // InvalidStateError (tested on FF13 WinXP)\n            blob = new Blob(byteArrays, {type : contentType});\n        }\n        else{\n            // We're screwed, blob constructor unsupported entirely   \n        }\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I have base64-encoded binary data in a string.</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>var contentType = 'image/png';\nvar b64Data = 'iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==';\n</code></pre>\n\n<p>I would like to create  a <code>blob:</code> URL containing this data and display it to the user.</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>var blob = new Blob(????, {type: contentType});\nvar blobUrl = URL.createObjectURL(blob);\n\nwindow.location = blobUrl;\n</code></pre>\n\n<p>I haven't been been able to figure out how to create the <code>Blob</code>.</p>\n\n<p>In some cases I am able to avoid this by using a <code>data:</code> URL instead.</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>var dataUrl = 'data:' + contentType + ',' + b64Data;\n\nwindow.location = dataUrl;\n</code></pre>\n\n<p>However in most cases the <code>data:</code> URLs are prohibitively large.</p>\n\n<hr>\n\n<p>How can I decode a base64 string to a <code>Blob</code> object in JavaScript?</p>\n",
            "last_activity_date": 1408939300,
            "question_id": 16245767,
            "score": 51,
            "tags": [
                "javascript",
                "base64"
            ],
            "title": "Creating a Blob from a base64 string in JavaScript"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>Don't know how to do locale, but javascript is a client side technology.</p>\n\n<pre><code>usersLocalTime = new Date();\n</code></pre>\n\n<p>will have the client's time and date in it (as reported by their browser, and by extension the computer they are sitting at).  It should be trivial to include the server's time in the response and do some simple math to guess-timate offset.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You could use the following, which reports the timezone offset from GMT in minutes:  </p>\n\n<pre><code>new Date().getTimezoneOffset();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use <code>new Date().getTimezoneOffset()/60</code> for the timezone. There is also a <code>toLocaleString()</code> method for displaying a date using the user's locale.</p>\n\n<p>Here's the whole list: <a href=\"http://www.elated.com/articles/working-with-dates/\" rel=\"nofollow\">Working with Dates</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>getTimeZoneOffset() and toLocaleString are good for basic date work, but if you need real timezone support, look at <a href=\"https://github.com/mde/timezone-js\" rel=\"nofollow\">mde's TimeZone.js</a>. </p>\n\n<p>There's a few more options discussed in the answer to <a href=\"http://stackoverflow.com/questions/15141762/how-to-initialize-javascript-date-to-a-particular-timezone/15171030#15171030\">this question</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's what I've used in past projects:</p>\n\n<pre><code>var myDate = new Date();\nvar tzo = (myDate.getTimezoneOffset()/60)*(-1);\n//get server date value here, the parseInvariant is from MS Ajax, you would need to do something similar on your own\nmyDate = new Date.parseInvariant('&lt;%=DataCurrentDate%&gt;', 'yyyyMMdd hh:mm:ss');\nmyDate.setHours(myDate.getHours() + tzo);\n//here you would have to get a handle to your span / div to set.  again, I'm using MS Ajax's $get\nvar dateSpn = $get('dataDate');\ndateSpn.innerHTML = myDate.localeFormat('F');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The <code>.getTimezoneOffset()</code> method reports the time-zone offset in minutes, counting \"westwards\" from the GMT/UTC timezone, resulting in an offset value that is negative to what one is commonly accustomed to. (Example, New York time would be reported to be +240 minutes or +4 hours)</p>\n\n<p>To the get a normal time-zone offset in hours, you need to use:</p>\n\n<pre><code>var timeOffsetInHours = -(new Date()).getTimezoneOffset()/60\n</code></pre>\n\n<p><strong>Important detail:</strong><br>\nNote that daylight savings time is factored into the result - so what this method gives you is really the <strong>time</strong> offset - not the actual geographic <strong>time-zone</strong> offset.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Seems the most foolproof way to start with a UTC date is to create a new <code>Date</code> object and use the <code>setUTC\u2026</code> methods to set it to the date/time you want.</p>\n\n<p>Then the various <code>toLocale\u2026String</code> methods will provide localized output.</p>\n\n<h3>Example:</h3>\n\n<pre><code>// This would come from the server.\n// Also, this whole block could probably be made into an mktime function.\n// All very bare here for quick grasping.\nd = new Date();\nd.setUTCFullYear(2004);\nd.setUTCMonth(1);\nd.setUTCDate(29);\nd.setUTCHours(2);\nd.setUTCMinutes(45);\nd.setUTCSeconds(26);\n\nalert(d);                        // -&gt; Sat Feb 28 2004 23:45:26 GMT-0300 (BRT)\nalert(d.toLocaleString());       // -&gt; Sat Feb 28 23:45:26 2004\nalert(d.toLocaleDateString());   // -&gt; 02/28/2004\nalert(d.toLocaleTimeString());   // -&gt; 23:45:26\n</code></pre>\n\n<h3>Some references:</h3>\n\n<ul>\n<li><a href=\"http://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date/toLocaleString\">toLocaleString</a></li>\n<li><a href=\"http://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date/toLocaleDateString\">toLocaleDateString</a></li>\n<li><a href=\"http://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date/toLocaleTimeString\">toLocaleTimeString</a></li>\n<li><a href=\"http://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Date/getTimezoneOffset\">getTimezoneOffset</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 61
                },
                {
                    "body": "<p>Once you have your date object constructed, here's a snippet for the conversion:</p>\n\n<p>The function takes a UTC formatted Date object and format string.<br>\nYou will need a <code>Date.strftime</code> prototype.</p>\n\n<pre><code>function UTCToLocalTimeString(d, format) {\n    if (timeOffsetInHours == null) {\n        timeOffsetInHours = (new Date().getTimezoneOffset()/60) * (-1);\n    }\n    d.setHours(d.getHours() + timeOffsetInHours);\n\n    return d.strftime(format);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The best solution I've come across is to create [time display=\"llll\" datetime=\"UTC TIME\" /]  Tags, and use javascript (jquery) to parse and display it relative to the user's time.</p>\n\n<p><a href=\"http://momentjs.com/\" rel=\"nofollow\">http://momentjs.com/</a> Moment.js </p>\n\n<p>will display the time nicely.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This question is pretty old, so <a href=\"http://momentjs.com/\" rel=\"nofollow\">MomentJs</a> didn't exist at that time, but for new projects, it may simplify tasks like this. </p>\n\n<p>Just tell momentJS to parse your date string in UTC as follows (create an ISO-8601 compatible string on the server to get consistent results across all browsers):</p>\n\n<pre><code>moment.utc(\"2013-02-08T09:30:26 Z\");\n</code></pre>\n\n<p>Then use the resulting object in your application, there are many ways to format the date and time values or extract portions of it. Just take a look at the momentJS docs.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want the server to always serve dates in UTC in the html, and have javascript on the client site convert it to the user's local timezone.</p>\n\n<p>Bonus if I can output in the user's locale date format.</p>\n",
            "last_activity_date": 1416832376,
            "question_id": 85116,
            "score": 55,
            "tags": [
                "javascript"
            ],
            "title": "How do I display a date/time in the user&#39;s locale format and time offset?"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>Answers are simple.  No and No (No).</p>\n\n<p>By the time javascript is running the concept of source files/urls from which the come is gone.  </p>\n\n<p>There is also no way to determine a line number because again by the time of execution the notion of code \"lines\" is no longer meaningful in Javascript.</p>\n\n<p>Specific implementations may provide API hooks to allow priviledged code access to such details for the purpose of debugging but these APIs are not exposed to ordinary standard Javascript code.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To determine which line something is on you have to search all the code for the code that occupies the particular line of interest and count the \"\\n\" characters from the top to this of interest and add 1.</p>\n\n<p>I am actually doing this very thing in an application I am writing.  It is a best practices validator for HTML and is still heavily under development, but the error output process that you would be interested in is complete.</p>\n\n<p><a href=\"http://mailmarkup.org/htmlint/htmlint.html\" rel=\"nofollow\">http://mailmarkup.org/htmlint/htmlint.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you would like to know the line number for debugging purposes, or only during development (For a reason or another), you could use <a href=\"http://getfirebug.com/\" rel=\"nofollow\">Firebug</a> (a Firefox extension) and <a href=\"http://www.w3schools.com/js/js%5Fthrow.asp\" rel=\"nofollow\">throw</a> an exception.</p>\n\n<p><strong>Edit</strong>:</p>\n\n<p>If you really need to do that in production for some reason, you can pre-process your javascript files in order for each function to keep track of the line it is on. I know some frameworks that find the coverage of code use this (such as <a href=\"http://siliconforks.com/jscoverage/\" rel=\"nofollow\">JSCoverage</a>).</p>\n\n<p>For example, let's say your original call is:</p>\n\n<pre><code>function x() {\n  1 + 1;\n  2 + 2;\n  y();\n}\n</code></pre>\n\n<p>You could write a preprocessor to make it into:</p>\n\n<pre><code>function x() {\n  var me = arguments.callee;\n  me.line = 1;\n  1 + 1;\n  me.line = 2;\n  2 + 2;\n  me.line = 3;\n  y();\n}\n</code></pre>\n\n<p>Then in <code>y()</code>, you could use <code>arguments.callee.caller.line</code> to know the line from which it was called, such as:</p>\n\n<pre><code>function y() {\n  alert(arguments.callee.caller.line);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is often achieved by throwing an error from the current context; then analyzing error object for properties like <code>lineNumber</code> and <code>fileName</code> (which some browsers have)</p>\n\n<pre><code>function getErrorObject(){\n  try { throw Error('') } catch(err) { return err; }\n}\n\nvar err = getErrorObject();\n\nerr.fileName;\nerr.lineNumber; // or `err.line` in WebKit\n</code></pre>\n\n<p>Don't forget that <code>callee.caller</code> property is deprecated (and was never really in ECMA 3rd ed. in the first place). </p>\n\n<p>Also remember that function decompilation is specified to be implementation dependent and so might yield quite unexpected results. I wrote about it <a href=\"http://thinkweb2.com/projects/prototype/those-tricky-functions/\" rel=\"nofollow\">here</a> and <a href=\"http://thinkweb2.com/projects/prototype/detecting-built-in-host-methods/\" rel=\"nofollow\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>kangax's solution introduces unnecessary try..catch scope. If you need to access the line number of something in JavaScript (as long as you are using Firefox or Opera), just access <code>(new Error).lineNumber</code>.</p>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>Yes. Here's a cross-browser function that makes use of each browsers' proprietary methods:</p>\n\n<p><a href=\"http://github.com/eriwen/javascript-stacktrace\">http://github.com/eriwen/javascript-stacktrace</a> </p>\n\n<p>[fixed link]</p>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>This works for me in chrome/QtWebView</p>\n\n<pre><code>function getErrorObject(){\n    try { throw Error('') } catch(err) { return err; }\n}\n\nvar err = getErrorObject();\nvar caller_line = err.stack.split(\"\\n\")[4];\nvar index = caller_line.indexOf(\"at \");\nvar clean = caller_line.slice(index+2, caller_line.length);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 44
                },
                {
                    "body": "<p>It seems I'm kind of late :), but the discussion is pretty interesting so.. here it goes... Assuming you want to build a error handler,  and you're using your own exception handler class like:</p>\n\n<pre><code>function  errorHandler(error){\n    this.errorMessage = error;\n}\nerrorHandler.prototype. displayErrors = function(){\n    throw new Error(this.errorMessage);\n}\n</code></pre>\n\n<p>And you're wrapping your code like this:</p>\n\n<pre><code>try{\nif(condition){\n    //whatever...\n}else{\n    throw new errorHandler('Some Error Message');\n}\n}catch(e){\n    e.displayErrors();\n}\n</code></pre>\n\n<p>Most probably you'll have the error handler in a separate .js file.</p>\n\n<p>You'll notice that in firefox or chrome's error console the code line number(and file name) showed is the line(file) that throws the 'Error' exception and not the 'errorHandler' exception wich you really want in order to make debugging easy. Throwing your own exceptions is great but on large projects locating them can be quite an issue, especially if they have similar messages.  So, what you can do is to pass a reference to an actual empty Error object to your error handler, and that reference will hold all the information you want( for example in firefox you can get the file name, and line number etc.. ; in chrome you get something similar if you read the 'stack' property of the Error instance).\nLong story short , you can do something like this:</p>\n\n<pre><code>function  errorHandler(error, errorInstance){\n    this.errorMessage = error;\n    this. errorInstance = errorInstance;\n}\nerrorHandler.prototype. displayErrors = function(){\n    //add the empty error trace to your message\n    this.errorMessage += '  stack trace: '+ this. errorInstance.stack;\n    throw new Error(this.errorMessage);\n}\n\ntry{\nif(condition){\n    //whatever...\n}else{\n    throw new errorHandler('Some Error Message', new Error());\n}\n}catch(e){\n    e.displayErrors();\n}\n</code></pre>\n\n<p>Now you can get the actual file and line number that throwed you custom exception.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here is what I wrote based on info found on this forum:</p>\n\n<p>This is part of a MyDebugNamespace, Debug is apparently reserved and won't do as namespace name.</p>\n\n<pre><code>    var DEBUG = true;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>    if (true == DEBUG &amp;&amp; !test)\n    {\n        var sAlert = \"Assertion failed! \";\n        if (null != message)\n            sAlert += \"\\n\" + message;\n        if (null != err)\n            sAlert += \"\\n\" + \"File: \" + err.fileName + \"\\n\" + \"Line: \" + err.lineNumber;\n        alert(sAlert);\n    }\n</code></pre>\n\n<p>...</p>\n\n<p>How to call:</p>\n\n<pre><code>    MyDebugNamespace.Assert(new Error(\"\"), (null != someVar), \"Something is wrong!\")\n</code></pre>\n\n<p>I included two functions with variable number of arguments calling this base code in my namespace so as to optionally omit message or error in calls.</p>\n\n<p>This works fine with Firefox, IE6 and Chrome report the fileName and lineNumber as undefined.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>the following code works for me in Mozilla and Chrome.</p>\n\n<p>Its log function that shows the file's name and the line of the caller.</p>\n\n<pre><code>log: function (arg) {\n    var toPrint = [];\n    for (var i = 0; i &lt; arguments.length; ++i) {\n        toPrint.push(arguments[i]);\n    }\n\n    function getErrorObject(){\n        try { throw Error('') } catch(err) { return err; }\n    }\n\n    var err = getErrorObject(),\n        caller;\n\n    if ($.browser.mozilla) {\n        caller = err.stack.split(\"\\n\")[2];\n    } else {\n        caller = err.stack.split(\"\\n\")[4];\n    }\n\n    var index = caller.indexOf('.js');\n\n    var str = caller.substr(0, index + 3);\n    index = str.lastIndexOf('/');\n    str = str.substr(index + 1, str.length);\n\n    var info = \"\\t\\tFile: \" + str;\n\n    if ($.browser.mozilla) {\n        str = caller;\n    } else {\n        index = caller.lastIndexOf(':');\n        str = caller.substr(0, index);\n    }\n    index = str.lastIndexOf(':');\n    str = str.substr(index + 1, str.length);\n    info += \" Line: \" + str;\n    toPrint.push(info);\n\n    console.log.apply(console, toPrint);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>My contribution to custom errors in JavaScript:</p>\n\n<ol>\n<li><p>First, I agree with this @B T guy at <a href=\"http://stackoverflow.com/questions/8802845/inheriting-from-the-error-object-where-is-the-message-property?lq=1\">Inheriting from the Error object - where is the message property?</a>, we have to built it properly (actually you have to use a js object library, my favorite: <a href=\"https://github.com/jiem/my-class\" rel=\"nofollow\">https://github.com/jiem/my-class</a>):</p>\n\n<pre><code>window.g3 = window.g3 || {};\ng3.Error = function (message, name, original) {\n     this.original = original;\n     this.name = name || 'Error.g3';\n     this.message = message || 'A g3.Error was thrown!';\n     (original)? this.stack = this.original.stack: this.stack = null;\n     this.message += '&lt;br&gt;---STACK---&lt;br&gt;' + this.stack;\n };\n\n var ClassEmpty = function() {};\n ClassEmpty.prototype = Error.prototype;\n g3.Error.prototype = new ClassEmpty();\n g3.Error.prototype.constructor = g3.Error;\n</code></pre></li>\n<li><p>then, we should define a global error handling function (optional) or, they'll end up to the engine:</p>\n\n<pre><code>window.onerror = printError; \nfunction printError(msg, url, line){\n    document.getElementById('test').innerHTML = msg+'&lt;br&gt;at: '+url+'&lt;br&gt;line: '+line;\n    return true;\n}\n</code></pre></li>\n<li><p>finally, we should throw our custom errors carefully:</p>\n\n<pre><code>//hit it!\n//throw new g3.Error('Hey, this is an error message!', 'Error.Factory.g3');\nthrow new g3.Error('Hey, this is an error message!', 'Error.Factory.g3', new Error());\n</code></pre></li>\n</ol>\n\n<p>Only, when passing the third parameter as <code>new Error()</code> we are able to see the stack with function and line numbers!</p>\n\n<p>At 2, the function can also handle error thrown by the engine as well.</p>\n\n<p>Of course, the real question is if we really need it and when; there are cases (99% in my opinion) where a graceful return of <code>false</code> is enough and leave only some critical points to be shown with the thrown of an error.</p>\n\n<p>Example: <a href=\"http://jsfiddle.net/centurianii/m2sQ3/1/\" rel=\"nofollow\">http://jsfiddle.net/centurianii/m2sQ3/1/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am using the following for getting the JavaScript caller function name:</p>\n\n<pre><code>var callerFunc = arguments.callee.caller.toString();\ncallerFuncName = (callerFunc.substring(callerFunc.indexOf(\"function\") + 8, callerFunc.indexOf(\"(\")) || \"anoynmous\")\n</code></pre>\n\n<p>Is there a way to discover the line number from which the method was called?</p>\n\n<p>Also, is there a way to get the name of the JavaScript file the method was called from? Or the source URL?</p>\n",
            "last_activity_date": 1421807191,
            "question_id": 1340872,
            "score": 50,
            "tags": [
                "javascript"
            ],
            "title": "How to get JavaScript caller function line number? How to get JavaScript caller source URL?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>This will work with modern browsers as from HTML 5 and the <strong><a href=\"http://www.w3.org/TR/FileAPI/\">File API</a></strong></p>\n\n<p><strong><a href=\"http://jsbin.com/oTAtIpA/3/edit\">LIVE DEMO <em>(Multiple Images Upload + Preview images)</em></a></strong>  </p>\n\n<pre><code>&lt;input type=\"file\" id=\"choose\" multiple=\"multiple\" /&gt;\n&lt;br&gt;\n&lt;div id=\"uploadPreview\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>\n\n<pre><code>// var url = window.URL || window.webkitURL; // alternate use\n\nfunction readImage(file) {\n\n    var reader = new FileReader();\n    var image  = new Image();\n\n    reader.readAsDataURL(file);  \n    reader.onload = function(_file) {\n        image.src    = _file.target.result;              // url.createObjectURL(file);\n        image.onload = function() {\n            var w = this.width,\n                h = this.height,\n                t = file.type,                           // ext only: // file.type.split('/')[1],\n                n = file.name,\n                s = ~~(file.size/1024) +'KB';\n            $('#uploadPreview').append('&lt;img src=\"'+ this.src +'\"&gt; '+w+'x'+h+' '+s+' '+t+' '+n+'&lt;br&gt;');\n        };\n        image.onerror= function() {\n            alert('Invalid file type: '+ file.type);\n        };      \n    };\n\n}\n$(\"#choose\").change(function (e) {\n    if(this.disabled) return alert('File upload not supported!');\n    var F = this.files;\n    if(F &amp;&amp; F[0]) for(var i=0; i&lt;F.length; i++) readImage( F[i] );\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 63
                },
                {
                    "body": "<p>This can only be done with modern browsers that support the new <a href=\"http://www.w3.org/TR/FileAPI/\">File API</a>.</p>\n\n<p>See <a href=\"http://stackoverflow.com/questions/7460272/getting-image-dimensions-using-javascript-file-api\">this question</a> for more details.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>As far as I know there is not an easy way to do this since Javascript/JQuery does not have access to the local filesystem. There are some new features in html 5 that allows you to check certain meta data such as file size but I'm not sure if you can actually get the image dimensions.</p>\n\n<p>Here is an article I found regarding the html 5 features, and a work around for IE that involves using an ActiveX control. <a href=\"http://jquerybyexample.blogspot.com/2012/03/how-to-check-file-size-before-uploading.html\" rel=\"nofollow\">http://jquerybyexample.blogspot.com/2012/03/how-to-check-file-size-before-uploading.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you can use the jQuery validation plugin you can do it like so:</p>\n\n<pre><code>&lt;input type=\"file\" name=\"photo\" id=\"photoInput\" /&gt;\n\n$.validator.addMethod('imagedim', function(value, element, param) {\n  var _URL = window.URL;\n        var  img;\n        if ((element = this.files[0])) {\n            img = new Image();\n            img.onload = function () {\n                console.log(\"Width:\" + this.width + \"   Height: \" + this.height);//this will give you image width and height and you can easily validate here....\n\n                return this.width &gt;= param\n            };\n            img.src = _URL.createObjectURL(element);\n        }\n});\n</code></pre>\n\n<p>The function is passed as ab onload function.</p>\n\n<p>The code is taken from <a href=\"http://www.codeproject.com/Answers/566451/javascriptplusforplusvalidatepluswidthplusandplush#answer2\" rel=\"nofollow\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here is a pure JavaScript example of picking an image file, displaying it, looping through the image properties, and then re-sizing the image from the canvas into an IMG tag and explicitly setting the re-sized image type to jpeg.</p>\n\n<p>If you right click the top image, in the canvas tag, and choose Save File As, it will default to a PNG format.  If you right click, and Save File as the lower image, it will default to a JPEG format.  Any file over 400px in width is reduced to 400px in width, and a height proportional to the original file.</p>\n\n<h2>HTML</h2>\n\n<pre><code>&lt;form class='frmUpload'&gt;\n  &lt;input name=\"picOneUpload\" type=\"file\" accept=\"image/*\" onchange=\"picUpload(this.files[0])\" &gt;\n&lt;/form&gt;\n\n&lt;canvas id=\"cnvsForFormat\" width=\"400\" height=\"266\" style=\"border:1px solid #c3c3c3\"&gt;&lt;/canvas&gt;\n&lt;div id='allImgProperties' style=\"display:inline\"&gt;&lt;/div&gt;\n\n&lt;div id='imgTwoForJPG'&gt;&lt;/div&gt;\n</code></pre>\n\n<h2>SCRIPT</h2>\n\n<pre><code>&lt;script&gt;\n\nwindow.picUpload = function(frmData) {\n  console.log(\"picUpload ran: \" + frmData);\n\nvar allObjtProperties = '';\nfor (objProprty in frmData) {\n    console.log(objProprty + \" : \" + frmData[objProprty]);\n    allObjtProperties = allObjtProperties + \"&lt;span&gt;\" + objProprty + \": \" + frmData[objProprty] + \", &lt;/span&gt;\";\n};\n\ndocument.getElementById('allImgProperties').innerHTML = allObjtProperties;\n\nvar cnvs=document.getElementById(\"cnvsForFormat\");\nconsole.log(\"cnvs: \" + cnvs);\nvar ctx=cnvs.getContext(\"2d\");\n\nvar img = new Image;\nimg.src = URL.createObjectURL(frmData);\n\nconsole.log('img: ' + img);\n\nimg.onload = function() {\n  var picWidth = this.width;\n  var picHeight = this.height;\n\n  var wdthHghtRatio = picHeight/picWidth;\n  console.log('wdthHghtRatio: ' + wdthHghtRatio);\n\n  if (Number(picWidth) &gt; 400) {\n    var newHeight = Math.round(Number(400) * wdthHghtRatio);\n  } else {\n    return false;\n  };\n\n    document.getElementById('cnvsForFormat').height = newHeight;\n    console.log('width: 400  h: ' + newHeight);\n    //You must change the width and height settings in order to decrease the image size, but\n    //it needs to be proportional to the original dimensions.\n    console.log('This is BEFORE the DRAW IMAGE');\n    ctx.drawImage(img,0,0, 400, newHeight);\n\n    console.log('THIS IS AFTER THE DRAW IMAGE!');\n\n    //Even if original image is jpeg, getting data out of the canvas will default to png if not specified\n    var canvasToDtaUrl = cnvs.toDataURL(\"image/jpeg\");\n    //The type and size of the image in this new IMG tag will be JPEG, and possibly much smaller in size\n    document.getElementById('imgTwoForJPG').innerHTML = \"&lt;img src='\" + canvasToDtaUrl + \"'&gt;\";\n};\n};\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Here is a jsFiddle:</p>\n\n<p><a href=\"http://jsfiddle.net/Blueprinter/hu79y/\" rel=\"nofollow\">jsFiddle Pick, display, get properties, and Re-size an image file</a></p>\n\n<p>In jsFiddle, right clicking the top image, which is a canvas, won't give you the same save options as right clicking the bottom image in an IMG tag.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How can I get the file size, image height and width before upload to my website, with jQuery or JavaScript?</p>\n",
            "last_activity_date": 1404442949,
            "question_id": 12570834,
            "score": 22,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "How to Preview Image, get file size, image height and width before upload?"
        },
        {
            "answer_count": 13,
            "answers": [
                {
                    "body": "<pre><code>var filename = fullPath.replace(/^.*[\\\\\\/]/, '')\n</code></pre>\n\n<p>This will handle both \\ OR / in paths</p>\n",
                    "is_accepted": true,
                    "score": 266
                },
                {
                    "body": "<p>What platform does the path come from? Windows paths are different from POSIX paths are different from Mac OS 9 paths are different from RISC OS paths are different...</p>\n\n<p>If it's a web app where the filename can come from different platforms there is no one solution. However a reasonable stab is to use both '\\' (Windows) and '/' (Linux/Unix/Mac and also an alternative on Windows) as path separators. Here's a non-RegExp version for extra fun:</p>\n\n<pre><code>var leafname= pathname.split('\\\\').pop().split('/').pop();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>Not more concise than nickf's <a href=\"http://stackoverflow.com/questions/423376/how-to-get-file-name-from-full-path-using-javascript#423385\">answer</a>, but this one directly \"extracts\" the answer instead of replacing unwanted parts with an empty string:</p>\n\n<pre><code>var filename = /([^\\\\]+)$/.exec(fullPath)[1];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Ates, your solution doesn't protect against an empty string as input.  In that case, it fails with <code>TypeError: /([^(\\\\|\\/|\\:)]+)$/.exec(fullPath) has no properties</code>.</p>\n\n<p>bobince, here's a version of nickf's that handles DOS, POSIX, and HFS path delimiters (and empty strings):</p>\n\n<pre><code>return fullPath.replace(/^.*(\\\\|\\/|\\:)/, '');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function test()\n    {\n        var path = \"C:/es/h221.txt\";\n        var pos =path.lastIndexOf( path.charAt( path.indexOf(\":\")+1) );\n        alert(\"pos=\" + pos );\n        var filename = path.substring( pos+1);\n        alert( filename );\n    }\n&lt;/script&gt;\n&lt;form name=\"InputForm\"\n      action=\"page2.asp\"\n      method=\"post\"&gt;\n    &lt;P&gt;&lt;input type=\"button\" name=\"b1\" value=\"test file button\"\n    onClick=\"test()\"&gt;\n&lt;/form&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Testing File Upload Inputs&lt;/title&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            &lt;!--\n            function showSrc() {\n                document.getElementById(\"myframe\").href = document.getElementById(\"myfile\").value;\n                var theexa = document.getElementById(\"myframe\").href.replace(\"file:///\",\"\");\n                alert(document.getElementById(\"myframe\").href.replace(\"file:///\",\"\"));\n            }\n            // --&gt;\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form method=\"get\" action=\"#\"  &gt;\n            &lt;input type=\"file\" \n                   id=\"myfile\" \n                   onChange=\"javascript:showSrc();\" \n                   size=\"30\"&gt;\n            &lt;br&gt;\n            &lt;a href=\"#\" id=\"myframe\"&gt;&lt;/a&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The complete answer is:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Testing File Upload Inputs&lt;/title&gt;\n        &lt;script type=\"text/javascript\"&gt;\n\n        function replaceAll(txt, replace, with_this) {\n            return txt.replace(new RegExp(replace, 'g'),with_this);\n        }\n\n        function showSrc() {\n            document.getElementById(\"myframe\").href = document.getElementById(\"myfile\").value;\n            var theexa = document.getElementById(\"myframe\").href.replace(\"file:///\",\"\");\n            var path = document.getElementById(\"myframe\").href.replace(\"file:///\",\"\");\n            var correctPath = replaceAll(path,\"%20\",\" \");\n            alert(correctPath);\n        }\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form method=\"get\" action=\"#\"  &gt;\n            &lt;input type=\"file\"\n                   id=\"myfile\"\n                   onChange=\"javascript:showSrc();\"\n                   size=\"30\"&gt;\n            &lt;br&gt;\n            &lt;a href=\"#\" id=\"myframe\"&gt;&lt;/a&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The following line of JavaScript code will give you the file name.</p>\n\n<pre><code>var z = location.pathname.substring(location.pathname.lastIndexOf('/')+1);\nalert(z);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<pre><code>&lt;script type=\"text\\javascript\"&gt;   \n   var path = '&lt;%=Request.Url.GetLeftPart(UriPartial.Authority) + Request.ApplicationPath %&gt;';\n&lt;/script&gt;\n</code></pre>\n\n<p>refer from \n<a href=\"http://www.codeprojectdownload.com\" rel=\"nofollow\">http://www.codeprojectdownload.com</a></p>\n",
                    "is_accepted": false,
                    "score": -5
                },
                {
                    "body": "<p>var file_name = file_path.substring(file_path.lastIndexOf('/'));</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just for the sake of performance, I tested all the answers given here:</p>\n\n<pre><code>var replaceTest = function (str) {\n    return str.replace(/^.*(\\\\|\\/|\\:)/, '');\n}\n\nvar splitTest = function (str) {\n    return str.split('\\\\').pop().split('/').pop();\n}\n\nvar substringTest = function (str) {\n    return str.substring(str.lastIndexOf('/')+1);\n}\n\nvar execTest = function (str) {\n    return /([^\\\\]+)$/.exec(str)[1];\n}\n\nreplaceTest   took   0.049203000000000004ms\nsplitTest     took   0.02505500000000005ms\nsubstringTest took   0.09508600000000023ms\nexecTest      took   0.04859899999999939ms\n</code></pre>\n\n<p>And the winner is the Split and Pop style answer, Thanks to <strong>bobince</strong> !</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>A question asking \"get file name without extension\" refer to here but no solution for that.\nHere is the solution modified from Bobbie's solution.</p>\n\n<pre><code>var name_without_ext = (file_name.split('\\\\').pop().split('/').pop().split('.'))[0];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>function getFileName(path, isExtension){\n\n  var fullFileName, fileNameWithoutExtension;\n\n  // replace \\ to /\n  while( path.indexOf(\"\\\\\") !== -1 ){\n    path = path.replace(\"\\\\\", \"/\");\n  }\n\n  fullFileName = path.split(\"/\").pop();\n  return (isExtension) ? fullFileName : fullFileName.slice( 0, fullFileName.lastIndexOf(\".\") );\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a way that I can get the last value (based on the '\\' symbol) from a full path?</p>\n\n<p>Example:</p>\n\n<pre><code>C:\\Documents and Settings\\img\\recycled log.jpg\n</code></pre>\n\n<p>With this case, I just want to get <code>recycled log.jpg</code> from the full path in JavaScript.</p>\n",
            "last_activity_date": 1426086233,
            "question_id": 423376,
            "score": 103,
            "tags": [
                "javascript"
            ],
            "title": "How to get the file name from a full path using JavaScript?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You could try passing a callback function to perform the replacement:</p>\n\n<pre><code>var tagsToReplace = {\n    '&amp;': '&amp;amp;',\n    '&lt;': '&amp;lt;',\n    '&gt;': '&amp;gt;'\n};\n\nfunction replaceTag(tag) {\n    return tagsToReplace[tag] || tag;\n}\n\nfunction safe_tags_replace(str) {\n    return str.replace(/[&amp;&lt;&gt;]/g, replaceTag);\n}\n</code></pre>\n\n<p>Here is a performance test: <a href=\"http://jsperf.com/encode-html-entities\">http://jsperf.com/encode-html-entities</a> to compare with calling the <code>replace</code> function repeatedly, and using the DOM method proposed by Dmitrij.</p>\n\n<p>Your way seems to be faster...</p>\n\n<p>Why do you need it, though?</p>\n",
                    "is_accepted": true,
                    "score": 40
                },
                {
                    "body": "<p>Here's one way you can do this:</p>\n\n<pre><code>var escape = document.createElement('textarea');\nfunction escapeHTML(html) {\n    escape.innerHTML = html;\n    return escape.innerHTML;\n}\n\nfunction unescapeHTML(html) {\n    escape.innerHTML = html;\n    return escape.value;\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/Daniel_Hug/qPUEX\">Here's a demo.</a></p>\n",
                    "is_accepted": false,
                    "score": 28
                },
                {
                    "body": "<p>All-in-one script:</p>\n\n<pre><code>// HTML entities Encode/Decode\n\nfunction htmlspecialchars(str) {\n    return str.replace(/&amp;/g, '&amp;amp;').replace(/&lt;/g, '&amp;lt;').replace(/&gt;/g, '&amp;gt;').replace(/\"/g, '&amp;quot;').replace(/'/g, '&amp;apos;');\n}\nfunction htmlspecialchars_decode(str) {\n    return str.replace(/&amp;amp;/g, '&amp;').replace(/&amp;lt;/g, '&lt;').replace(/&amp;gt;/g, '&gt;').replace(/&amp;quot;/g, '\"').replace(/&amp;apos;/g, '\\'');\n}\nfunction htmlentities(str) {\n    var textarea = document.createElement(\"textarea\");\n    textarea.innerHTML = str;\n    return textarea.innerHTML;\n}\nfunction htmlentities_decode(str) {\n    var textarea = document.createElement(\"textarea\");\n    textarea.innerHTML = str;\n    return textarea.value;\n}\n</code></pre>\n\n<p><a href=\"http://pastebin.com/H4m9ZHdn\" rel=\"nofollow\">http://pastebin.com/H4m9ZHdn</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Martijn's method as a prototype function:</p>\n\n<pre><code>String.prototype.escape = function() {\n    var tagsToReplace = {\n        '&amp;': '&amp;amp;',\n        '&lt;': '&amp;lt;',\n        '&gt;': '&amp;gt;'\n    };\n    return this.replace(/[&amp;&lt;&gt;]/g, function(tag) {\n        return tagsToReplace[tag] || tag;\n    });\n};\n\nvar a = \"&lt;abc&gt;\";\nvar b = a.escape(); // \"&amp;lt;abc&amp;gt;\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>You could use this handy <strong><em>entifier</em></strong> tool to escape HTML so it can be safely placed in a  tag:</p>\n\n<p><a href=\"http://iwantaneff.in/entifier/\" rel=\"nofollow\">http://iwantaneff.in/entifier/</a></p>\n\n<blockquote>\n  <p>You have HTML code you want to place in a  tag element. You want it entified, so it > plays nice with your  tag. This does that.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Martijn's method as single function with handling <strong>\"</strong> mark (<em>using in javascript</em>) :</p>\n\n<pre><code>function escapeHTML(html) {\n    var fn=function(tag) {\n        var charsToReplace = {\n            '&amp;': '&amp;amp;',\n            '&lt;': '&amp;lt;',\n            '&gt;': '&amp;gt;',\n            '\"': '&amp;#34;'\n        };\n        return charsToReplace[tag] || tag;\n    }\n    return html.replace(/[&amp;&lt;&gt;\"]/g, fn);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm writing a Chrome extension that involves doing a <strong>lot</strong> of the following job: sanitizing strings that <em>might</em> contain HTML tags, by converting <code>&lt;</code>, <code>&gt;</code> and <code>&amp;</code> to <code>&amp;lt;</code>, <code>&amp;gt;</code> and <code>&amp;amp;</code>, respectively.</p>\n\n<p>(In other words, the same as PHP's <code>htmlspecialchars(str, ENT_NOQUOTES)</code> \u2013 I don't think there's any real need to convert double-quote characters.)</p>\n\n<p>This is the fastest function I have found so far:</p>\n\n<pre><code>function safe_tags(str) {\n    return str.replace(/&amp;/g,'&amp;amp;').replace(/&lt;/g,'&amp;lt;').replace(/&gt;/g,'&amp;gt;') ;\n}\n</code></pre>\n\n<p>But there's still a big lag when I have to run a few thousand strings through it in one go. </p>\n\n<p>Can anyone improve on this? It's mostly for strings between 10 and 150 characters, if that makes a difference. </p>\n\n<p>(One idea I had was not to bother encoding the greater-than sign \u2013 would there be any real danger with that?)</p>\n",
            "last_activity_date": 1414914616,
            "question_id": 5499078,
            "score": 47,
            "tags": [
                "javascript",
                "html",
                "regex",
                "performance",
                "string"
            ],
            "title": "Fastest method to escape HTML tags as HTML entities?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>First you need a good regex that matches urls. This is hard to do. See <a href=\"http://stackoverflow.com/questions/1410311/regular-expression-for-url-validation-in-javascript/1411800#1411800\">here</a>, <a href=\"http://stackoverflow.com/questions/827557/how-do-you-validate-a-url-with-a-regular-expression-in-python/827621#827621\">here</a> and <a href=\"http://stackoverflow.com/questions/226505/question-about-url-validation-with-regex/226709#226709\">here</a>:</p>\n\n<blockquote>\n  <p>...almost anything is a valid URL.  There\n  are some punctuation rules for\n  splitting it up.  Absent any\n  punctuation, you still have a valid\n  URL.</p>\n  \n  <p>Check the RFC carefully and see if you\n  can construct an \"invalid\" URL.  The\n  rules are very flexible.  </p>\n  \n  <p>For example <code>:::::</code> is a valid URL. \n  The path is <code>\":::::\"</code>.  A pretty\n  stupid filename, but a valid filename.</p>\n  \n  <p>Also, <code>/////</code> is a valid URL.  The\n  netloc (\"hostname\") is <code>\"\"</code>.  The path\n  is <code>\"///\"</code>.  Again, stupid.  Also\n  valid.  This URL normalizes to <code>\"///\"</code>\n  which is the equivalent.</p>\n  \n  <p>Something like <code>\"bad://///worse/////\"</code>\n  is perfectly valid.  Dumb but valid.</p>\n</blockquote>\n\n<p>Anyway, this answer is not meant to give you the best regex but rather a proof of how to do the string wrapping inside the text, with JavaScript.</p>\n\n<p>OK so lets just use this one: <code>/(https?:\\/\\/[^\\s]+)/g</code></p>\n\n<p>Again, <em>this is a bad regex</em>. It will have many false positives. However it's good enough for this example.</p>\n\n<pre><code>function urlify(text) {\n    var urlRegex = /(https?:\\/\\/[^\\s]+)/g;\n    return text.replace(urlRegex, function(url) {\n        return '&lt;a href=\"' + url + '\"&gt;' + url + '&lt;/a&gt;';\n    })\n    // or alternatively\n    // return text.replace(urlRegex, '&lt;a href=\"$1\"&gt;$1&lt;/a&gt;')\n}\n\nvar text = \"Find me at http://www.example.com and also at http://stackoverflow.com\";\nvar html = urlify(text);\n\n// html now looks like:\n// \"Find me at &lt;a href=\"http://www.example.com\"&gt;http://www.example.com&lt;/a&gt; and also at &lt;a href=\"http://stackoverflow.com\"&gt;http://stackoverflow.com&lt;/a&gt;\"\n</code></pre>\n\n<p>So in sum try:</p>\n\n<pre><code>$$('#pad dl dd').each(function(element) {\n    element.innerHTML = urlify(element.innerHTML);\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 60
                },
                {
                    "body": "<p>i know that you're probably way past the scope of this question - however, i'm sure in time someone will stumble upon the same question again and will probably have to run down quite a few times to Google to come up with a concrete solution.</p>\n\n<p>Here is what i ended up using as my regex:</p>\n\n<pre><code>var urlRegex =/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&amp;@#\\/%?=~_|!:,.;]*[-A-Z0-9+&amp;@#\\/%=~_|])/ig;\n</code></pre>\n\n<p>Cresent's function works like a charm :) \nso in total ,that is:</p>\n\n<pre><code>function linkify(text) {  \n                    var urlRegex =/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&amp;@#\\/%?=~_|!:,.;]*[-A-Z0-9+&amp;@#\\/%=~_|])/ig;  \n                    return text.replace(urlRegex, function(url) {  \n                            return '&lt;a href=\"' + url + '\"&gt;' + url + '&lt;/a&gt;';  \n                        })  \n                }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>Function can be further improved to render images as well:</p>\n\n<pre><code>function renderHTML(text) { \n    var rawText = strip(text)\n    var urlRegex =/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&amp;@#\\/%?=~_|!:,.;]*[-A-Z0-9+&amp;@#\\/%=~_|])/ig;   \n\n    return rawText.replace(urlRegex, function(url) {   \n\n    if ( ( url.indexOf(\".jpg\") &gt; 0 ) || ( url.indexOf(\".png\") &gt; 0 ) || ( url.indexOf(\".gif\") &gt; 0 ) ) {\n            return '&lt;img src=\"' + url + '\"&gt;' + '&lt;br/&gt;'\n        } else {\n            return '&lt;a href=\"' + url + '\"&gt;' + url + '&lt;/a&gt;' + '&lt;br/&gt;'\n        }\n    }) \n} \n</code></pre>\n\n<p>or for a thumbnail image that links to fiull size image:</p>\n\n<pre><code>return '&lt;a href=\"' + url + '\"&gt;&lt;img style=\"width: 100px; border: 0px; -moz-border-radius: 5px; border-radius: 5px;\" src=\"' + url + '\"&gt;' + '&lt;/a&gt;' + '&lt;br/&gt;'\n</code></pre>\n\n<p>And here is the strip() function that pre-processes the text string for uniformity by removing any existing html.</p>\n\n<pre><code>function strip(html) \n    {  \n        var tmp = document.createElement(\"DIV\"); \n        tmp.innerHTML = html; \n        var urlRegex =/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&amp;@#\\/%?=~_|!:,.;]*[-A-Z0-9+&amp;@#\\/%=~_|])/ig;   \n        return tmp.innerText.replace(urlRegex, function(url) {     \n        return '\\n' + url \n    })\n} \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I googled this problem for quite a while, then it occurred to me that there is an Android method, android.text.util.Linkify, that utilizes some pretty robust regexes to accomplish this. Luckily, Android is open source.</p>\n\n<p>They use a few different patterns for matching different types of urls. You can find them all here:\n<a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.0_r1/android/text/util/Regex.java#Regex.0WEB_URL_PATTERN\">http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/2.0_r1/android/text/util/Regex.java#Regex.0WEB_URL_PATTERN</a></p>\n\n<p>If you're just concerned about url's that match the WEB_URL_PATTERN, that is, urls that conform to the RFC 1738 spec, you can use this:</p>\n\n<pre><code>/((?:(http|https|Http|Https|rtsp|Rtsp):\\/\\/(?:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&amp;\\=]|(?:\\%[a-fA-F0-9]{2})){1,64}(?:\\:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&amp;\\=]|(?:\\%[a-fA-F0-9]{2})){1,25})?\\@)?)?((?:(?:[a-zA-Z0-9][a-zA-Z0-9\\-]{0,64}\\.)+(?:(?:aero|arpa|asia|a[cdefgilmnoqrstuwxz])|(?:biz|b[abdefghijmnorstvwyz])|(?:cat|com|coop|c[acdfghiklmnoruvxyz])|d[ejkmoz]|(?:edu|e[cegrstu])|f[ijkmor]|(?:gov|g[abdefghilmnpqrstuwy])|h[kmnrtu]|(?:info|int|i[delmnoqrst])|(?:jobs|j[emop])|k[eghimnrwyz]|l[abcikrstuvy]|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])|(?:name|net|n[acefgilopruz])|(?:org|om)|(?:pro|p[aefghklmnrstwy])|qa|r[eouw]|s[abcdeghijklmnortuvyz]|(?:tel|travel|t[cdfghjklmnoprtvwz])|u[agkmsyz]|v[aceginu]|w[fs]|y[etu]|z[amw]))|(?:(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9])))(?:\\:\\d{1,5})?)(\\/(?:(?:[a-zA-Z0-9\\;\\/\\?\\:\\@\\&amp;\\=\\#\\~\\-\\.\\+\\!\\*\\'\\(\\)\\,\\_])|(?:\\%[a-fA-F0-9]{2}))*)?(?:\\b|$)/gi;\n</code></pre>\n\n<p>Here is the full text of the source:</p>\n\n<pre><code>\"((?:(http|https|Http|Https|rtsp|Rtsp):\\\\/\\\\/(?:(?:[a-zA-Z0-9\\\\$\\\\-\\\\_\\\\.\\\\+\\\\!\\\\*\\\\'\\\\(\\\\)\"\n+ \"\\\\,\\\\;\\\\?\\\\&amp;\\\\=]|(?:\\\\%[a-fA-F0-9]{2})){1,64}(?:\\\\:(?:[a-zA-Z0-9\\\\$\\\\-\\\\_\"\n+ \"\\\\.\\\\+\\\\!\\\\*\\\\'\\\\(\\\\)\\\\,\\\\;\\\\?\\\\&amp;\\\\=]|(?:\\\\%[a-fA-F0-9]{2})){1,25})?\\\\@)?)?\"\n+ \"((?:(?:[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,64}\\\\.)+\"   // named host\n+ \"(?:\"   // plus top level domain\n+ \"(?:aero|arpa|asia|a[cdefgilmnoqrstuwxz])\"\n+ \"|(?:biz|b[abdefghijmnorstvwyz])\"\n+ \"|(?:cat|com|coop|c[acdfghiklmnoruvxyz])\"\n+ \"|d[ejkmoz]\"\n+ \"|(?:edu|e[cegrstu])\"\n+ \"|f[ijkmor]\"\n+ \"|(?:gov|g[abdefghilmnpqrstuwy])\"\n+ \"|h[kmnrtu]\"\n+ \"|(?:info|int|i[delmnoqrst])\"\n+ \"|(?:jobs|j[emop])\"\n+ \"|k[eghimnrwyz]\"\n+ \"|l[abcikrstuvy]\"\n+ \"|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])\"\n+ \"|(?:name|net|n[acefgilopruz])\"\n+ \"|(?:org|om)\"\n+ \"|(?:pro|p[aefghklmnrstwy])\"\n+ \"|qa\"\n+ \"|r[eouw]\"\n+ \"|s[abcdeghijklmnortuvyz]\"\n+ \"|(?:tel|travel|t[cdfghjklmnoprtvwz])\"\n+ \"|u[agkmsyz]\"\n+ \"|v[aceginu]\"\n+ \"|w[fs]\"\n+ \"|y[etu]\"\n+ \"|z[amw]))\"\n+ \"|(?:(?:25[0-5]|2[0-4]\" // or ip address\n+ \"[0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\\\\.(?:25[0-5]|2[0-4][0-9]\"\n+ \"|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\\\.(?:25[0-5]|2[0-4][0-9]|[0-1]\"\n+ \"[0-9]{2}|[1-9][0-9]|[1-9]|0)\\\\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}\"\n+ \"|[1-9][0-9]|[0-9])))\"\n+ \"(?:\\\\:\\\\d{1,5})?)\" // plus option port number\n+ \"(\\\\/(?:(?:[a-zA-Z0-9\\\\;\\\\/\\\\?\\\\:\\\\@\\\\&amp;\\\\=\\\\#\\\\~\"  // plus option query params\n+ \"\\\\-\\\\.\\\\+\\\\!\\\\*\\\\'\\\\(\\\\)\\\\,\\\\_])|(?:\\\\%[a-fA-F0-9]{2}))*)?\"\n+ \"(?:\\\\b|$)\";\n</code></pre>\n\n<p>If you want to be really fancy, you can test for email addresses as well. The regex for email addresses is:</p>\n\n<pre><code>/[a-zA-Z0-9\\\\+\\\\.\\\\_\\\\%\\\\-]{1,256}\\\\@[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,64}(\\\\.[a-zA-Z0-9][a-zA-Z0-9\\\\-]{0,25})+/gi\n</code></pre>\n\n<p>PS: The top level domains supported by above regex are current as of June 2007. For an up to date list you'll need to check <a href=\"https://data.iana.org/TLD/tlds-alpha-by-domain.txt\">https://data.iana.org/TLD/tlds-alpha-by-domain.txt</a>.</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>tmp.innerText is undefined. You should use tmp.innerHTML</p>\n\n<pre><code>function strip(html) \n    {  \n        var tmp = document.createElement(\"DIV\"); \n        tmp.innerHTML = html; \n        var urlRegex =/(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&amp;@#\\/%?=~_|!:,.;]*[-A-Z0-9+&amp;@#\\/%=~_|])/ig;   \n        return tmp.innerHTML .replace(urlRegex, function(url) {     \n        return '\\n' + url \n    })\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Based on <strong>Crescent Fresh</strong> answer</p>\n\n<p>if you want to detect links <strong>with http://</strong> OR <strong>without http:// and by www.</strong> you can use the following</p>\n\n<pre><code>function urlify(text) {\n    var urlRegex = /(((https?:\\/\\/)|(www\\.))[^\\s]+)/g;\n    //var urlRegex = /(https?:\\/\\/[^\\s]+)/g;\n    return text.replace(urlRegex, function(url,b,c) {\n        var url2 = (c == 'www.') ?  'http://' +url : url;\n        return '&lt;a href=\"' +url2+ '\" target=\"_blank\"&gt;' + url + '&lt;/a&gt;';\n    }) \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Does anyone have suggestions for detecting URLs in a set of strings?</p>\n\n<pre><code>arrayOfStrings.forEach(function(string){\n  // detect URLs in strings and do something swell,\n  // like creating elements with links.\n});\n</code></pre>\n\n<p><strong>Update:</strong> I wound up using this regex for link detection\u2026 Apparently several years later.</p>\n\n<pre><code>kLINK_DETECTION_REGEX = /(([a-z]+:\\/\\/)?(([a-z0-9\\-]+\\.)+([a-z]{2}|aero|arpa|biz|com|coop|edu|gov|info|int|jobs|mil|museum|name|nato|net|org|pro|travel|local|internal))(:[0-9]{1,5})?(\\/[a-z0-9_\\-\\.~]+)*(\\/([a-z0-9_\\-\\.]*)(\\?[a-z0-9+_\\-\\.%=&amp;amp;]*)?)?(#[a-zA-Z0-9!$&amp;'()*+.=-_~:@/?]*)?)(\\s+|$)/gi\n</code></pre>\n\n<p>The full helper (with optional Handlebars support) is at <a href=\"https://gist.github.com/1654670\">gist #1654670</a>.</p>\n",
            "last_activity_date": 1410598984,
            "question_id": 1500260,
            "score": 37,
            "tags": [
                "javascript",
                "regex",
                "url"
            ],
            "title": "Detect URLs in text with JavaScript"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>First things first, i'd not like that as a user.</p>\n\n<p>The best way to do is probably using a small flash applet that plays your sound in the background.</p>\n\n<p>Also answered here: <a href=\"http://stackoverflow.com/questions/187098/cross-platform-cross-browser-way-to-play-sound-from-javascript\">http://stackoverflow.com/questions/187098/cross-platform-cross-browser-way-to-play-sound-from-javascript</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Found something like that:</p>\n\n<pre><code>//javascript:\nfunction playSound( url ){   \n  document.getElementById(\"sound\").innerHTML=\"&lt;embed src='\"+url+\"' hidden=true autostart=true loop=false&gt;\";\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>JavaScript Sound Manager:</p>\n\n<p><a href=\"http://www.schillmania.com/projects/soundmanager2/\">http://www.schillmania.com/projects/soundmanager2/</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<pre><code>$('a').click(function(){\n    $('embed').remove();\n    $('body').append('&lt;embed src=\"/path/to/your/sound.wav\" autostart=\"true\" hidden=\"true\" loop=\"false\"&gt;');\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>New emerger... seems to be compatible with IE, Gecko browsers and iPhone so far...</p>\n\n<p><a href=\"http://www.jplayer.org/\" rel=\"nofollow\">http://www.jplayer.org/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Following code might help you to play sound in a web page using javascript only. You can see further details at <a href=\"http://sourcecodemania.com/playing-sound-javascript-flash-player/\" rel=\"nofollow\">http://sourcecodemania.com/playing-sound-javascript-flash-player/</a></p>\n\n<pre><code>&lt;script&gt;\nfunction getPlayer(pid) {\n    var obj = document.getElementById(pid);\n    if (obj.doPlay) return obj;\n    for(i=0; i&lt;obj.childNodes.length; i++) {\n        var child = obj.childNodes[i];\n        if (child.tagName == \"EMBED\") return child;\n    }\n}\nfunction doPlay(fname) {\n    var player=getPlayer(\"audio1\");\n    player.play(fname);\n}\nfunction doStop() {\n    var player=getPlayer(\"audio1\");\n    player.doStop();\n}\n&lt;/script&gt;\n\n&lt;form&gt;\n&lt;input type=\"button\" value=\"Play Sound\" onClick=\"doPlay('texi.wav')\"&gt;\n&lt;a href=\"#\" onClick=\"doPlay('texi.wav')\"&gt;[Play]&lt;/a&gt;\n&lt;object classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\"\n    width=\"40\"\n    height=\"40\"\n    id=\"audio1\"\n    align=\"middle\"&gt;\n    &lt;embed src=\"wavplayer.swf?h=20&amp;w=20\"\n        bgcolor=\"#ffffff\"\n        width=\"40\"\n        height=\"40\"\n        allowScriptAccess=\"always\"\n        type=\"application/x-shockwave-flash\"\n        pluginspage=\"http://www.macromedia.com/go/getflashplayer\"\n    /&gt;\n&lt;/object&gt;\n\n&lt;input type=\"button\" value=\"Stop Sound\" onClick=\"doStop()\"&gt;\n&lt;/form&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><a href=\"https://github.com/admsev/jquery-play-sound\">https://github.com/admsev/jquery-play-sound</a></p>\n\n<p>$.playSound('http://example.org/sound.mp3');</p>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>I wrote a small function that can do it, with the Web Audio API...</p>\n\n<pre><code>var beep = function(duration, type, finishedCallback) {\n\n    if (!(window.audioContext || window.webkitAudioContext)) {\n        throw Error(\"Your browser does not support Audio Context.\");\n    }\n\n    duration = +duration;\n\n    // Only 0-4 are valid types.\n    type = (type % 5) || 0;\n\n    if (typeof finishedCallback != \"function\") {\n        finishedCallback = function() {};   \n    }\n\n    var ctx = new (window.audioContext || window.webkitAudioContext);\n    var osc = ctx.createOscillator();\n\n    osc.type = type;\n\n    osc.connect(ctx.destination);\n    osc.noteOn(0);\n\n    setTimeout(function() {\n        osc.noteOff(0);\n        finishedCallback();\n    }, duration);\n\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Put an <code>&lt;audio&gt;</code> element on your page.<br>\nGet your audio element and call the <code>play()</code> method:</p>\n\n<pre><code>document.getElementById('yourAudioTag').play();\n</code></pre>\n\n<p>Check out this example: <a href=\"http://www.storiesinflight.com/html5/audio.html\">http://www.storiesinflight.com/html5/audio.html</a></p>\n\n<p><a href=\"http://blog.gingertech.net/wp-content/uploads/2011/01/LCA_MM_AVProc2011/#slide6\">This site</a> uncovers some of the other cool things you can do such as <code>load()</code>, <code>pause()</code>, and a few other properties of the audio element.</p>\n\n<p>When exactly you want to play this audio element is up to you. Read the text of the button and compare it to \"no\" if you like.</p>\n\n<h2>Alternatively</h2>\n\n<p><a href=\"http://www.schillmania.com/projects/soundmanager2/\">http://www.schillmania.com/projects/soundmanager2/</a></p>\n\n<p>SoundManager 2 provides a easy to use API that allows sound to be played in any modern browser, including IE 6+. If the browser doesn't support HTML5, then it gets help from flash. If you want stricly HTML5 and no flash, there's a setting for that, preferFlash=false</p>\n\n<p>It supports 100% Flash-free audio on iPad, iPhone (iOS4) and other HTML5-enabled devices + browsers</p>\n\n<p>Use is as simple as:</p>\n\n<pre><code>&lt;script src=\"soundmanager2.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n// where to find flash SWFs, if needed...\nsoundManager.url = '/path/to/swf-files/';\n\nsoundManager.onready(function() {\n    soundManager.createSound({\n        id: 'mySound',\n        url: '/path/to/an.mp3'\n    });\n\n    // ...and play it\n    soundManager.play('mySound');\n});\n</code></pre>\n\n<p></p>\n\n<p>Here's a demo of it in action: <a href=\"http://www.schillmania.com/projects/soundmanager2/demo/christmas-lights/\">http://www.schillmania.com/projects/soundmanager2/demo/christmas-lights/</a></p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>Using the html5 audio tag and jquery:</p>\n\n<pre><code>// appending HTML5 Audio Tag in HTML Body\n$('&lt;audio id=\"chatAudio\"&gt;\n    &lt;source src=\"notify.ogg\" type=\"audio/ogg\"&gt;\n    &lt;source src=\"notify.mp3\" type=\"audio/mpeg\"&gt;\n&lt;/audio&gt;').appendTo('body');\n\n// play sound\n$('#chatAudio')[0].play();\n</code></pre>\n\n<p>Code <a href=\"http://www.9lessons.info/2013/04/play-notification-sound-using-jquery.html\" rel=\"nofollow\">from here</a>.</p>\n\n<p>In my implementation I added the audio embed directly into the HTML without jquery append.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>How can I do that, so whenever a user clicks a link we play a sound? Using javascript and jquery here.</p>\n",
            "last_activity_date": 1401993735,
            "question_id": 450033,
            "score": 59,
            "tags": [
                "javascript",
                "jquery",
                "audio"
            ],
            "title": "Playing sound notifications using Javascript?"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p>I have this rough example that you might want to get some idea...</p>\n\n<h1>html\u200b</h1>\n\n<pre><code>&lt;div id=\"file\"&gt;Chose file&lt;/div&gt;\n&lt;input type=\"file\" name=\"file\" /&gt;\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\n</code></pre>\n\n<h1>CSS</h1>\n\n<pre><code>#file {\n    display:none;\n}\u200b\n</code></pre>\n\n<h1>jQuery</h1>\n\n<pre><code>var wrapper = $('&lt;div/&gt;').css({height:0,width:0,'overflow':'hidden'});\nvar fileInput = $(':file').wrap(wrapper);\n\nfileInput.change(function(){\n    $this = $(this);\n    $('#file').text($this.val());\n})\n\n$('#file').click(function(){\n    fileInput.click();\n}).show();\n</code></pre>\n\n<h1><a href=\"http://jsfiddle.net/xVB6b/\">demo</a></h1>\n\n<p>\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b</p>\n",
                    "is_accepted": false,
                    "score": 40
                },
                {
                    "body": "<p>After checking Reigels idea, and <a href=\"http://www.quirksmode.org/dom/inputfile.html\">this one</a>, I wrote this simple solution to the common problem of styling a <code>type=\"file\"</code> input field (tested it on Firefox, Safari and Chrome).</p>\n\n<pre><code>&lt;div style=\"position:relative;\"&gt;\n&lt;div id=\"file\" style=\"position:absolute;\"&gt;Click here to select a file&lt;/div&gt;\n&lt;input type=\"file\" name=\"file\" style=\"opacity:0; z-index:1;\" onchange=\"document.getElementById('file').innerHTML = this.value;\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Then you can of course style the \"file\" div as you want.</p>\n\n<p>And if you want to use a <code>type=\"text\"</code> input instead of a div, simply change <code>innerHTML</code> for <code>value</code>:</p>\n\n<pre><code>&lt;div style=\"position:relative;\"&gt;\n&lt;input type=\"text\" id=\"file\" style=\"position:absolute;\" placeholder=\"Click here to select a file\" /&gt;\n&lt;input type=\"file\" name=\"file\" style=\"opacity:0; z-index:1;\" onchange=\"document.getElementById('file').value = this.value;\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is my original answer using jQuery:</p>\n\n<pre><code>&lt;div style=\"position:relative;\"&gt;\n&lt;div id=\"file\" style=\"position:absolute;\"&gt;Click here to select a file&lt;/div&gt;\n&lt;input type=\"file\" name=\"file\" style=\"opacity:0; z-index:1;\" onchange=\"$('#file').text($(this).val());\" /&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>Here is a solution with a text field where the user types in the (relative) pathname of the file copy on the server (if authorized) and a submit button to browse the local system for a file and send the form:</p>\n\n<pre><code>&lt;form enctype=\"multipart/form-data\" action=\"\" method=\"post\"&gt;\n&lt;input type=\"hidden\" name=\"MAX_FILE_SIZE\" value=\"1000000\" /&gt;\n&lt;p&gt;&lt;input type=\"file\" name=\"upload_file\" id=\"upload_file\" size=\"40\"/&gt;&lt;/p&gt;\n&lt;p&gt;&lt;input type=\"text\" id=\"upload_filename\" name=\"upload_filename\" size=\"30\" maxlength=\"100\" value=\"&lt;?php echo htmlspecialchars($filename, ENT_COMPAT, 'UTF-8'); ?&gt;\"/&gt;\n&lt;input type=\"submit\" class=\"submit submit_upload\" id=\"upload_upload\" name=\"upload_upload\" value=\"Upload\"/&gt;&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>The scripting part hides the file input, clicks it if the user clicks on the submit button, submits the form if the user has picked up a file. If the user tries to upload a file without entering a filename, the focus is first moved to the text field for the filename.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar file=$('#upload_file');\nvar filename=$('#upload_filename');\nvar upload=$('#upload_upload');\n\nfile.hide().change(function() {if (file.val()) {upload.unbind('click').click();}});\n\nupload.click(function(event) {event.preventDefault();if (!filename.val()) {filename.focus();} else {file.click();}});\n&lt;/script&gt;\n</code></pre>\n\n<p>Simply style the submit button for a perfect result:</p>\n\n<pre><code>.submit {padding:0;margin:0;border:none;vertical-align:middle;text-indent:-1000em;cursor:pointer;}\n.submit_upload {width:100px;height:30px;background:transparent url(../images/theme/upload.png) no-repeat;}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here's an example that I'm using that utilizes jQuery, I've tested against Firefox 11, and Chrome 18, as well as IE9.  So its pretty compatible with browsers in my book, though i only work with those three.</p>\n\n<h2>HTML</h2>\n\n<p>Here's a basic \"Customizable\" HTML structure.</p>\n\n<pre><code>&lt;span&gt;\n    File to Upload&lt;br /&gt;\n    &lt;label class=\"smallInput\" style=\"float:left;\"&gt;\n        &lt;input type=\"file\" name=\"file\" class=\"smallInput\" /&gt;\n    &lt;/label&gt;\n    &lt;input type=\"button\" class=\"upload\" value=\"Upload\" style=\"float:left;margin-top:6px;margin-left:10px;\" /&gt;\n&lt;/span&gt;\n</code></pre>\n\n<h2>CSS</h2>\n\n<p>Here's a sample of my CSS</p>\n\n<pre><code>label.smallInput {\n    background:url(images/bg_s_input.gif) no-repeat;\n    width:168px;\n}\n</code></pre>\n\n<h2>JavaScript</h2>\n\n<p>This is the heavy lifter.</p>\n\n<pre><code>/* File upload magic form?? */\n$(\"input.smallInput[type=file]\").each(function(i){\n    var id      = \"__d_file_upload_\"+i;\n    var d_wrap  = $('&lt;div/&gt;').attr('id',id).css({'position':'relative','cursor':'text'});\n\n    $(this).wrap(d_wrap).bind('change blur focus keyup click',function(){\n        $(\"#\"+id+\" input[type=text]\").val($(this).val());\n    }).css({'opacity':0,'zIndex':9999,'position':'absolute'}).removeClass('smallInput');\n\n    obj = $(this);\n\n    $(\"#\"+id).append($(\"&lt;input/&gt;\").addClass('smallInput').attr('type','text').css({'zIndex':9998,'position':'absolute'}).bind('click',function(e){obj.trigger('click');$(this).blur();}));\n    obj.closest('span').children('input.upload[type=button]').bind('click',function(e){\n        obj.trigger('click');\n        $(this).blur();\n    });\n});\n/* ************************ */\n</code></pre>\n\n<h2>Explanation</h2>\n\n<p>The HTML is pretty straight forward, just a simple element, i include the button so it can be named independently from the rest, sure this could be included in the JavaScript, but simply put, I'm a bit on the lazy side.  The code searches for all <strong>inputs</strong> with a class of <strong>smallInput</strong> that have the <strong>type of file</strong> this allows you to define default HTML and fallback form structure in case a browser decides to be a pain.</p>\n\n<p>This method only uses JavaScript to ensure delivery, it does not alter any browser behaviors in regards to the file input.</p>\n\n<p>You can modify the HTML and JavaScript to make it very robust, this code suffices my current project so i doubt I'll be making any changes to it.</p>\n\n<h2>Caveats</h2>\n\n<ul>\n<li>Different browsers treat the value of the file input differently, which in chrome results in c:\\fakeroot\\ on windows machines.</li>\n<li>Uses anonymous functions, (for lack of a better word) which means if you have too many file inputs you can cause the browser to behave slowly on processing.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In addition of Reigel,</p>\n\n<p>here is more simpler implementation. You can use this solution on multiple file input fields, too. Hope this helps some people ;-)</p>\n\n<h2>HTML (single input)</h2>\n\n<pre><code>&lt;input type=\"file\" name=\"file\" /&gt;\n</code></pre>\n\n<h2>HTML (multiple input)</h2>\n\n<pre><code>&lt;!-- div is important to separate correctly or work with jQuery's .closest() --&gt;\n&lt;div&gt;\n  &lt;input type=\"file\" name=\"file[]\" /&gt;\n&lt;/div&gt;\n\n&lt;div&gt;\n  &lt;input type=\"file\" name=\"file[]\" /&gt;\n&lt;/div&gt;\n\n&lt;div&gt;\n  &lt;input type=\"file\" name=\"file[]\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<h2>JavaScript</h2>\n\n<pre><code>// make all input fields with type 'file' invisible\n$(':file').css({\n  'visibility': 'hidden',\n  'display': 'none'\n});\n\n// add a textbox after *each* file input\n$(':file').after('&lt;input type=\"text\" readonly=\"readonly\" value=\"\" class=\"fileChooserText\" /&gt; &lt;input type=\"button\" value=\"Choose file ...\" class=\"fileChooserButton\" /&gt;');\n\n// add *click* event to *each* pseudo file button\n// to link the click to the *closest* original file input\n$('.fileChooserButton').click(function() {\n    $(this).parent().find(':file').click();\n}).show();\n\n// add *change* event to *each* file input\n// to copy the name of the file in the read-only text input field\n$(':file').change(function() {\n    $(this).parent().find('.fileChooserText').val($(this).val());\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I made a custom style for this as well. Check it out</p>\n\n<p><a href=\"http://jsfiddle.net/voodoomonkey/Z7bA3/\" rel=\"nofollow\">JS Fiddle Demo - Custom Input type=\"file\"</a></p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;input type=\"file\" id=\"test\"&gt;\n&lt;div class=\"button-group\"&gt; \n&lt;a href=\"#\" id=\"browse\" class=\"button primary\"&gt;Browse&lt;/a&gt;\n&lt;a href=\"#\" id=\"save\" class=\"button\"&gt;Save&lt;/a&gt;\n&lt;a href=\"#\" id=\"clear\" class=\"button danger\"&gt;Clear&lt;/a&gt;\n&lt;/div&gt;\n&lt;input type=\"text\" id=\"testfile\"&gt;&lt;/input&gt;\n</code></pre>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>body {\npadding:100px;\n}\ninput[type=\"file\"] {\nposition:absolute;\ndisplay:none;\n}\n#testfile {\nheight: 26px;\ntext-decoration: none;\nbackground-color: #eee;\nborder:1px solid #ccc;\nborder-radius:3px;\nfloat:left;\nmargin-right:5px;\noverflow:hidden;\ntext-overflow:ellipsis;\ncolor:#aaa;\ntext-indent:5px;\n}\n#actionbtnBrowse, #actionbtnSave {\nmargin:0 !important;\nwidth:60px;\n}\n</code></pre>\n\n<p><strong>JQuery</strong></p>\n\n<pre><code>$(\"#browse\").click(function () {\n$(\"#test\").click();\n})\n\n$(\"#save\").click(function () {\nalert('Run a save function');\n})\n\n$(\"#clear\").click(function () {\n$('#testfile').val('');\n})\n\n$('#test').change(function () {\n$('#testfile').val($(this).val());\n})\n</code></pre>\n\n<p><strong>Also add to external resources tab:</strong></p>\n\n<p><a href=\"https://github.com/necolas/css3-github-buttons/blob/master/gh-buttons.css\" rel=\"nofollow\">https://github.com/necolas/css3-github-buttons/blob/master/gh-buttons.css</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Ran into the same issue today, but it seems there's an easy way to have your own styles - hide the input, and style the associated label:</p>\n\n<pre><code>&lt;div class=\"upload\"&gt;\n  &lt;label for=\"my-input\"&gt; Upload stuff &lt;/label&gt;\n  &lt;input type=\"file\" id=\"my-input\" name=\"files[]\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.upload input{\n  display: none;\n}\n\n.upload label{\n  background: DarkSlateBlue;\n  color: white;\n  padding: 5px 10px;\n}\n</code></pre>\n\n<p>Works in latest Chrome, Firefox and IE 10. Didn't test others</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This is my method if i got your point</p>\n\n<p><strong><em><h1>HTML</h1></em></strong></p>\n\n<pre><code>&lt;form action=\"upload.php\"&gt;\n    &lt;input type=\"file\" id=\"FileInput\" style=\"cursor: pointer;  display: none\"/&gt;\n    &lt;input type=\"submit\" id=\"Up\" style=\"display: none;\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong><em><h1>jQuery</h1></em></strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $( \"#FileInput\" ).change(function() {\n      $( \"#Up\" ).click();\n    });\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>When you retreive the value of an input field, browser will return a fake path (literally C:\\fakepath[filename] in Chrome). So I would add the following to the Javascript solutions:</p>\n\n<pre><code>val=$('#file').val(); //File field value\n\nval=val.replace('/','\\\\'); //Haven't tested it on Unix, but convert / to \\ just in case\nval=val.substring(val.lastIndexOf('\\\\')+1);\n\n$('#textbox').val(val);\n</code></pre>\n\n<p>Ofc, it could be done in a single line.</p>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>Here is how to do it using HTML, CSS and Javascript (without any frameworks).</p>\n\n<pre><code>// comments inline\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById(\"customButton\").addEventListener(\"click\", function(){\r\n  document.getElementById(\"fileUpload\").click();  // trigger the click of actual file upload button\r\n});\r\n\r\ndocument.getElementById(\"fileUpload\").addEventListener(\"change\", function(){\r\n  var fullPath = document.getElementById('fileUpload').value;\r\n  var fileName = fullPath.split(/(\\\\|\\/)/g).pop();  // fetch the file name\r\n  document.getElementById(\"fileName\").innerHTML = fileName;  // display the file name\r\n}, false);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#fileUpload{\r\n  display: none; /* do not display the actual file upload button */\r\n}\r\n\r\n#customButton{  /* style the fake upload button */\r\n  background: yellow;\r\n  border: 1px solid red;\r\n  padding: 5px;\r\n  display: inline-block;\r\n  cursor: pointer;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"file\" id=\"fileUpload\"&gt; &lt;!-- actual file upload button --&gt;\r\n&lt;div id=\"customButton\"&gt;Browse&lt;/div&gt;  &lt;!-- fake file upload button which can be used for styling ;) --&gt;\r\n&lt;span id=\"fileName\"&gt;&lt;/span&gt; &lt;!-- the file name of the selected file will be shown here --&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><strong>The fake div is not needed!</strong> No Js no extra html. Using only css is possible.</p>\n\n<p>The best way is using the pseudo element :after or :before as an element overt the de input. Then style that pseudo element as you wish. I recomend you to do as a general style for all input files as follows:</p>\n\n<pre><code>input[type=\"file\"]:before {\ncontent: 'Browse';\nbackground: #FFF;\nwidth: 100%;\nheight: 35px;\ndisplay: block;\ntext-align: left;\nposition: relative;\nmargin: 0;\nmargin: 0 5px;\nleft: -6px;\nborder: 1px solid #E0E0E0;\ntop: -1px;\nline-height: 35px;\ncolor: #B6B6B6;\npadding-left: 5px;\ndisplay: block;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>While Reigel's answer conveys the idea, it doesn't really have any style attached to it. I came across this problem recently and despite the plethora of answers on Stack Overflow, none really seemed to fit the bill. In the end, I ended up customizing this so as to have a simple and an elegant solution.</p>\n\n<p>I have also tested this on Firefox, IE (11, 10 &amp; 9), Chrome and Opera, iPad and a few android devices.</p>\n\n<p>Here's the JSFiddle link -> <a href=\"http://jsfiddle.net/umhva747/\" rel=\"nofollow\">http://jsfiddle.net/umhva747/</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('input[type=file]').change(function(e) {\r\n    $in = $(this);\r\n    $in.next().html($in.val());\r\n    \r\n});\r\n\r\n$('.uploadButton').click(function() {\r\n    var fileName = $(\"#fileUpload\").val();\r\n    if (fileName) {\r\n        alert(fileName + \" can be uploaded.\");\r\n    }\r\n    else {\r\n        alert(\"Please select a file to upload\");\r\n    }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n    background-color:Black;\r\n}\r\n\r\ndiv.upload {\r\n    background-color:#fff;\r\n    border: 1px solid #ddd;\r\n    border-radius:5px;\r\n    display:inline-block;\r\n    height: 30px;\r\n    padding:3px 40px 3px 3px;\r\n    position:relative;\r\n    width: auto;\r\n}\r\n\r\ndiv.upload:hover {\r\n    opacity:0.95;\r\n}\r\n\r\ndiv.upload input[type=\"file\"] {\r\n    display: input-block;\r\n    width: 100%;\r\n    height: 30px;\r\n    opacity: 0;\r\n    cursor:pointer;\r\n    position:absolute;\r\n    left:0;\r\n}\r\n.uploadButton {\r\n    background-color: #425F9C;\r\n    border: none;\r\n    border-radius: 3px;\r\n    color: #FFF;\r\n    cursor:pointer;\r\n    display: inline-block;\r\n    height: 30px;\r\n    margin-right:15px;\r\n    width: auto;\r\n    padding:0 20px;\r\n    box-sizing: content-box;\r\n}\r\n\r\n.fileName {\r\n    font-family: Arial;\r\n    font-size:14px;\r\n}\r\n\r\n.upload + .uploadButton {\r\n    height:38px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form action=\"\" method=\"post\" enctype=\"multipart/form-data\"&gt;\r\n    &lt;div class=\"upload\"&gt;\r\n        &lt;input type=\"button\" class=\"uploadButton\" value=\"Browse\" /&gt;\r\n        &lt;input type=\"file\" name=\"upload\" accept=\"image/*\" id=\"fileUpload\" /&gt;\r\n        &lt;span class=\"fileName\"&gt;Select file..&lt;/span&gt;\r\n    &lt;/div&gt;\r\n    &lt;input type=\"button\" class=\"uploadButton\" value=\"Upload File\" /&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Hope this helps!!!</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I would like to style <code>&lt;input type=\"file\" /&gt;</code> using CSS3.</p>\n\n<p>Alternatively, I would like user to press on a <code>div</code> (that I will style) and this will open the Browse window.</p>\n\n<p>Is that possible to do that using HTML, CSS3, and Javascript / jQuery only ?</p>\n",
            "last_activity_date": 1423476158,
            "question_id": 3226167,
            "score": 19,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css3",
                "file-io"
            ],
            "title": "How to style &quot;input file&quot; with CSS3 / Javascript?"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>Rather than rolling your own, you're probably going to get the best mileage by using an existing library for creating clean and flicker-free JavaScript animation:</p>\n\n<p>Here's a popular one: <a href=\"http://processingjs.org\" rel=\"nofollow\">http://processingjs.org</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>A very simple method is to have two canvas-elements at the same screen location and set visibility for the buffer that you need to show. Draw on the hidden and flip when you are done.</p>\n\n<p>Some code:</p>\n\n<p>CSS:</p>\n\n<pre><code>canvas { border: 2px solid #000; position:absolute; top:0;left:0; \nvisibility: hidden; }\n</code></pre>\n\n<p>Flipping in JS: </p>\n\n<pre><code>Buffers[1-DrawingBuffer].style.visibility='hidden';\nBuffers[DrawingBuffer].style.visibility='visible';\n\nDrawingBuffer=1-DrawingBuffer;\n</code></pre>\n\n<p>In this code the array 'Buffers[]' holds both canvas-objects. So when you want to start drawing you still need to get the context:</p>\n\n<pre><code>Canvas= Buffers[DrawingBuffer].getContext('2d');\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 62
                },
                {
                    "body": "<p>Browsers I've tested all handle this buffering for you by not repainting the canvas until the code that draws your frame has completed. See also the WHATWG mailing list: <a href=\"http://www.mail-archive.com/whatwg@lists.whatwg.org/msg19969.html\">http://www.mail-archive.com/whatwg@lists.whatwg.org/msg19969.html</a></p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>There is no flickering in web browsers! They already use dbl buffering for their rendering. Js engine will make all your rendering before showing it. Also, context save and restore only stack transformational matrix data and such, not the canvas content itself.\nSo, you do not need or want dbl buffering!</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Opera 9.10 is very slow and shows the drawing process.  If you want to see a browser not use double buffering, try Opera 9.10 out.</p>\n\n<p>Some people suggested that browsers are somehow determining when the drawing process ends but can you explain how that can work?  I haven't noticed any obvious flicker in Firefox, Chrome, or IE9 even when the drawing is slow so it seems like that is what they are doing but how that is accomplished is a mystery to me.  How would the browser ever know that it is refreshing the display just before more drawing instructions are to be executed?  Do you think they just time it so if an interval of more than 5ms or so goes by without executing a canvas drawing instruction, it assumes it can safely swap buffers?</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>you need 2 canvas: (notice the css z-index and position:absolute)</p>\n\n<pre><code>&lt;canvas id=\"layer1\" width=\"760\" height=\"600\" style=\" position:absolute; top:0;left:0; \nvisibility: visible;  z-index: 0; solid #c3c3c3;\"&gt;\nYour browser does not support the canvas element.\n&lt;/canvas&gt;\n&lt;canvas id=\"layer2\" width=\"760\" height=\"600\" style=\"position:absolute; top:0;left:0; \nvisibility: visible;  z-index: 1; solid #c3c3c3;\"&gt;\nYour browser does not support the canvas element.\n&lt;/canvas&gt;\n</code></pre>\n\n<p>you can notice that the first canvas is visible and the second it's hidden the idea it's to draw on the hidden after that we will hide the visible and make the hidden canvas visible. when it's hidden 'clear hidden canvas</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar buff=new Array(2);\nbuff[0]=document.getElementById(\"layer1\");\nbuff[1]=document.getElementById(\"layer2\");\n\nctx[0]=buff[0].getContext(\"2d\");\nctx[1]=buff[1].getContext(\"2d\");\nvar current=0;\n// draw the canvas (ctx[ current ]);\nbuff[1- current ].style.visibility='hidden';\nbuff[ current ].style.visibility='visible';\nctx[1-current].clearRect(0,0,760,600);\ncurrent =1-current;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The following helpful link, in addition to showing examples and advantages of using double buffering, shows several other performance tips for using the html5 canvas element. It includes links to jsPerf tests, which aggregate test results across browsers into a Browserscope database. This ensures that the performance tips are verified.</p>\n\n<p><a href=\"http://www.html5rocks.com/en/tutorials/canvas/performance/\" rel=\"nofollow\">http://www.html5rocks.com/en/tutorials/canvas/performance/</a> </p>\n\n<p>For your convenience, I have included a minimal example of effective double buffering as described in the article.</p>\n\n<pre><code>// canvas element in DOM\nvar canvas1 = document.getElementById('canvas1');\nvar context1 = canvas1.getContext('2d');\n\n// buffer canvas\nvar canvas2 = document.createElement('canvas');\ncanvas2.width = 150;\ncanvas2.height = 150;\nvar context2 = canvas2.getContext('2d');\n\n// create something on the canvas\ncontext2.beginPath();\ncontext2.moveTo(10,10);\ncontext2.lineTo(10,30);\ncontext2.stroke();\n\n//render the buffered canvas onto the original canvas element\ncontext1.drawImage(canvas2, 0, 0);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>For the unbelievers, here's some flickering code.  Note that I'm explicitly clearing to erase the previous circle.</p>\n\n<p><a href=\"http://coderextreme.net/basketball2.html\" rel=\"nofollow\">http://coderextreme.net/basketball2.html</a> ( <a href=\"http://jsfiddle.net/GzSWJ/\" rel=\"nofollow\">http://jsfiddle.net/GzSWJ/</a> )</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;&lt;title&gt;Basketball&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;canvas id=\"myCanvas\" width=\"400\" height=\"400\" style=\"border:1px solid #c3c3c3;\"&gt;\nYour browser does not support the canvas element.\n&lt;/canvas&gt;\n&lt;script&gt;\nvar c = document.getElementById(\"myCanvas\");\nvar ctx = c.getContext(\"2d\");\n\nfunction draw_ball(ball) {\n    ctx.clearRect(0, 0, 400, 400);\n    ctx.fillStyle = \"#FF0000\";\n    ctx.beginPath();\n    ctx.arc(ball.x, ball.y, 30, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n}\n\nvar deltat = 1;\nvar ball = {};\nball.y = 0;\nball.x = 200;\nball.vy = 0;\nball.vx = 10;\nball.ay = 9.8;\nball.ax = 0.1;\n\nfunction compute_position() {\n    if (ball.y &gt; 370 &amp;&amp; ball.vy &gt; 0) {\n        ball.vy = -ball.vy * 84 / 86;\n    }\n    if (ball.x &lt; 30) {\n        ball.vx = -ball.vx;\n        ball.ax = -ball.ax;\n    } else if (ball.x &gt; 370) {\n        ball.vx = -ball.vx;\n        ball.ax = -ball.ax;\n    }\n    ball.ax = ball.ax / 2;\n    ball.vx = ball.vx * 185 / 186;\n    ball.y = ball.y + ball.vy * deltat + ball.ay * deltat * deltat / 2\n    ball.x = ball.x + ball.vx * deltat + ball.ax * deltat * deltat / 2\n    ball.vy = ball.vy + ball.ay * deltat\n    ball.vx = ball.vx + ball.ax * deltat\n    draw_ball(ball);\n}\n\nsetInterval(compute_position, 40);\n&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Josh asked (a while back) about how the browser knows \"when the drawing process ends\" so as to avoid flicker.  I would have commented directly to his post but my rep isn't high enough.  Also this is just my opinion. I don't have facts to back it up, but I feel fairly confident about it and it may be helpful to others reading this in the future.</p>\n\n<p>I'm guessing the browser doesn't \"know\" when you're done drawing.  But just like most javascript, as long as your code runs without relinquishing control to the browser, the browser is essentially locked up and won't/can't update/respond to its UI.  I'm guessing that if you clear the canvas and draw your entire frame without relinquishing control to the browser, it won't actually draw your canvas until you're done.</p>\n\n<p>If you set up a situation where your rendering spans multiple setTimeout/setInterval/requestAnimationFrame calls, where you clear the canvas in one call and draw elements on your canvas in the next several calls, repeating the cycle (for example) every 5 calls, I'd be willing to bet you'd see flicker since the canvas would be updated after each call.</p>\n\n<p>That said, I'm not sure I'd trust that.  We're already at the point that javascript is compiled down to native machine code before execution (at least that's what Chrome's V8 engine does from what I understand).  I wouldn't be surprised if it wasn't too long before browsers started running their javascript in a separate thread from the UI and synchronizing any access to UI elements allowing the UI to update/respond during javascript execution that wasn't accessing UI.  When/if that happens (and I understand there are many hurdles that would have to be overcome, such as event handlers kicking off while you're still running other code), we'll probably see flicker on canvas animation that aren't using some kind of double-buffering.</p>\n\n<p>Personally, I love the idea of two canvas elements positioned over top of each other and alternating which is shown/drawn on each frame.  Fairly unintrusive and probably pretty easily added to an existing application with a few lines of code.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>In most situations, you don't need to do this, the browser implements this for you. <strong>But not always useful!</strong></p>\n\n<p>You still have to implement this when your drawing is very complicated.\nMost of the screen update rate is about 60Hz, it means the screen updates per 16ms. The browser's update rate may near this number. If your shape need 100ms to be completed, you'll see a uncompleted shape. So you can implement double buffering in this situation.</p>\n\n<p>I have made a test: <code>Clear a rect, wait for some time, then fill with some color.</code> If I set the time to 10ms, I won't see flickering. But if I set it to 20ms, the flickering happens.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>More than two years later:</p>\n\n<p>There is no need for 'manually' implement double buffering. Mr. Geary wrote about this in his book <a href=\"http://goo.gl/Ue05s7\" rel=\"nofollow\">\"HTML5 Canvas\"</a>.</p>\n\n<p>To effectively reduce flicker use <a href=\"http://devbutze.blogspot.com.br/2013/09/requestanimationframe-is-what-you-need.html\" rel=\"nofollow\"><code>requestAnimationFrame()</code></a>!</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>What I'd like to do is draw my graphics on a buffer and then be able to copy it as is to the canvas so I can do animation and avoid flickering. But I couldn't find this option. Anyone know how I can go about this?</p>\n",
            "last_activity_date": 1399089831,
            "question_id": 2795269,
            "score": 50,
            "tags": [
                "javascript",
                "html5",
                "canvas",
                "double-buffering"
            ],
            "title": "Does HTML5/Canvas Support Double Buffering?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>The issue with your solution is that it just makes you code harder to understand while still keeping all the downsides of global variables. The page you linked to covers the problems. The only problem your proposed solution really solves is namespace pollution but at the cost of not being able to see what global variables are declared as easily as the declaration is a function call).</p>\n\n<p>The solution is to write code without global variables. If a function needs a value pass it as a argument.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You really don't want to do this.<br>\nAs to why, see e.g. the top post here:  <a href=\"http://stackoverflow.com/questions/434414/what-is-the-most-evil-code-you-have-ever-seen-in-a-production-enterprise-environm/434562#434562\">What is the most EVIL code you have ever seen in a production enterprise environment?</a></p>\n\n<p>As a side note, one can always execute \"global\" code without littering the place with globals:</p>\n\n<pre><code>(function () {\n    var notaglobal = 1;\n    alert(notaglobal);\n})();\n//notaglobal is not defined in this scope        \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Global state causes problems in several areas.  One is code reuse.   When you access some global state that means the component must be aware of it's environment(something outside of itself).  You should avoid this as much as possible, because it makes the component unpredictable.  </p>\n\n<p>Say I have an object that accesses your globalVariables function and I want to use it in another page.  How do I know to define the globalVariables object or even how to define it?  However if you can pass the information into a constructor or as an argument to a function then I can easily determine what is required by the object.  </p>\n\n<p>Also when you access or modify the global scope then you risk affecting other objects.  This is why libraries like jquery use only a single name on the global scope(the least possible).  It lessens the possibility of conflict with other libraries.   In other words the global scope is out of your control, so it is dangerous.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Semantics my boy. Semantics.</p>\n\n<p>Start with one global: myApp = {};\nEverything should be in that. The only exception would be your AJAX library (there are some extreme exceptions like working with JSONP callbacks).</p>\n\n<p>There should be very few properties in myApp. You'll want to hold your application properties in containers such as config or settings.</p>\n\n<pre><code>myApp = {\n    config:{\n        prop:1\n    },\n    settings:{\n        prop:2\n    },\n    widgets:{\n        List: function(props){},\n        Item: function(props){}\n    }\n}\n</code></pre>\n\n<p>Then you may have more properties in lower modules, components, singletons and Class constructors (widgets). </p>\n\n<p>This setup gives you the added benefit of being able to access any property from any other location since you can get it with the myApp global. However, you should use \"this\" whenever possible because the lookup is faster. And just set the property directly, don't bother with the pseudo getter/setter stuff. If you really need a getter/setter, code it for that specific use.</p>\n\n<p>The reason you're example doesn't work is it's too generic and you seem to be looking for an excuse to work in the global space.</p>\n\n<p>And don't get clever with private variables. They're bad too:\n<a href=\"http://clubajax.org/javascript-private-variables-are-evil/\">http://clubajax.org/javascript-private-variables-are-evil/</a></p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>The primary reason why global variables are discouraged in javascript is because, in javascript all code share a single global namespace, also javascript has implied global variables ie. variables which are not explicitly declared in local scope are automatically added to global namespace. Relying too much on global variables can result in collisions between various scripts on the same page (read <a href=\"http://www.crockford.com/javascript/\">douglas crockford's articles</a>).</p>\n\n<p>One way to reduce global variables is to use the <a href=\"http://www.yuiblog.com/blog/2007/06/12/module-pattern/\">YUI module pattern</a>. The basic idea is to wrap all your code in a function that returns an object which contains functions that needs to be accessed outside your module and assign the return value to a single global variable.</p>\n\n<pre><code>var FOO = (function() {\n    var my_var = 10; //shared variable available only inside your module\n\n    function bar() { // this function not available outside your module\n        alert(my_var); // this function can access my_var\n    }\n\n    return {\n        a_func: function() {\n            alert(my_var); // this function can access my_var\n        },\n        b_func: function() {\n            alert(my_var); // this function can also access my_var\n        }\n    };\n\n})();\n</code></pre>\n\n<p>now to use functions in your module elsewhere, use <code>FOO.a_func()</code>. This way to resolve global namespace conflicts you only need to change the name of <code>FOO</code>.</p>\n",
                    "is_accepted": true,
                    "score": 56
                },
                {
                    "body": "<p>You should use Immediately Invoked Function Expression (IIFE):\n<a href=\"http://www.codearsenal.net/2014/11/immediately-invoked-function-expression.html\" rel=\"nofollow\">How to Avoid Any Global Variables in JavaScript</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I've read all over the place that <a href=\"http://c2.com/cgi/wiki?GlobalVariablesAreBad\">global variables are bad</a> and alternatives should be used. In Javascript specifically, what solution should I choose.</p>\n\n<p>I'm thinking of a function, that when fed two arguments (<code>function globalVariables(Variable,Value)</code>) looks if Variable exists in a local array and if it does set it's value to <code>Value</code>, else, <code>Variable</code> and <code>Value</code> are appended. If the function is called without arguments (<code>function globalVariables()</code>) it returns the array. Perhaps if the function is fired with just one argument (<code>function globalVariables(Variable)</code>) it returns the value of <code>Variable</code> in the array.</p>\n\n<p>What do you think? I'd like to hear your alternative solutions and arguments for using global variables.</p>\n\n<h1>How you would use <code>globalVariables();</code></h1>\n\n<pre><code>function append(){\n    globalVariables(\"variable1\",\"value1\"); //globalVariables() would append variable1 to it's local array.\n};\n\nfunction retrieve(){\n    var localVariable1 = globalVariables(\"variable1\"); //globalVariables() would return \"value1\".\n};\n\nfunction retrieveAll(){\n    var localVariable1 = globalVariables(); //globalVariables() would return the globalVariable()'s entire, local [persistently stored between calls] array.\n};\n\nfunction set(){\n    globalVariables(\"variable1\",\"value2\"); //globalVariables() would set variable1 to \"value2\".\n};\n</code></pre>\n\n<p><strong>Is this a <a href=\"http://c2.com/cgi/wiki?SingletonPattern\">Singleton Pattern</a> BTW?</strong></p>\n\n<p>In this specific scenario a function may set a variable at one point in time, and much later another function, maybe when a user submits a form, will need to get that variable. Therefore the first function couldn't pass the variable as an argument to the later function as it would never be called from the first.</p>\n\n<p>Thank you, I appreciate all your help!</p>\n",
            "last_activity_date": 1417190127,
            "question_id": 2613310,
            "score": 27,
            "tags": [
                "javascript",
                "global-variables"
            ],
            "title": "I&#39;ve Heard Global Variables Are Bad, What Alternative Solution Should I Use?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Here is a complete example for navigating valid URL on a new tab with focused.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"panel\"&gt;\n  &lt;p&gt;\n    Enter Url: \n    &lt;input type=\"text\" id=\"txturl\" name=\"txturl\" size=\"30\" class=\"weburl\" /&gt;\n    &amp;nbsp;&amp;nbsp;    \n    &lt;input type=\"button\" id=\"btnopen\"  value=\"Open Url in New Tab\" onclick=\"openURL();\"/&gt;\n  &lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.panel{\n  font-size:14px;\n}\n.panel input{\n  border:1px solid #333;\n}\n</code></pre>\n\n<p>JAVASCRIPT:</p>\n\n<pre><code>function isValidURL(url) {\n    var RegExp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&amp;%@!\\-\\/]))?/;\n\n    if (RegExp.test(url)) {\n        return true;\n    } else {\n        return false;\n    }\n}\n\nfunction openURL() {\n    var url = document.getElementById(\"txturl\").value.trim();\n    if (isValidURL(url)) {\n        var myWindow = window.open(url, '_blank');\n        myWindow.focus();\n        document.getElementById(\"txturl\").value = '';\n    } else {\n        alert(\"Please enter valid URL..!\");\n        return false;\n    }\n}\n</code></pre>\n\n<p>I have also created a bin with the solution on <a href=\"http://codebins.com/codes/home/4ldqpbw\" rel=\"nofollow\">http://codebins.com/codes/home/4ldqpbw</a></p>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>As far as I remember, this is controlled by browser settings. In other words: user can chose whether they would like to open new tab in the background or foreground. Also they can chose whether new popup should open in new tab or just... popup. </p>\n\n<p>For example in firefox preferences: </p>\n\n<p><img src=\"http://i.stack.imgur.com/Oi4CB.png\" alt=\"Firefox setup example\"></p>\n\n<p>Notice the last option. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I did exactly what you're looking for in a very simple way. It is perfectly smooth in Google Chrome and Opera, and almost perfect in Firefox and Safari. Not tested in IE.</p>\n\n<hr>\n\n<pre><code>function newTab(url)\n{\n    var tab=window.open(\"\");\n    tab.document.write(\"&lt;!DOCTYPE html&gt;&lt;html&gt;\"+document.getElementsByTagName(\"html\")[0].innerHTML+\"&lt;/html&gt;\");\n    tab.document.close();\n    window.location.href=url;\n}\n</code></pre>\n\n<p>Fiddle : <a href=\"http://jsfiddle.net/tFCnA/show/\" rel=\"nofollow\">http://jsfiddle.net/tFCnA/show/</a></p>\n\n<p>Explanations:<br>\nLet's say there is windows A1 and B1 and websites A2 and B2.<br>\nInstead of opening B2 in B1 and then return to A1, I open B2 in A1 and re-open A2 in B1.<br>\n(Another thing that makes it work is that I don't make the user re-download A2, see line 4)</p>\n\n<hr>\n\n<p><sup>The only thing you <em>may</em> doesn't like is that the new tab opens before the main page.</sup></p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>this can be done by simulating <code>ctrl</code> + <code>click</code> (or any other key/event combinations that open a background tab) on a dynamically generated <code>a</code> element with its <code>href</code> attribute set to the desired <code>url</code></p>\n\n<p><strong>In action:</strong> <a href=\"http://jsfiddle.net/3ZmvS/5/\">fiddle</a></p>\n\n<pre><code>function openNewBackgroundTab(){\n    var a = document.createElement(\"a\");\n    a.href = \"http://www.google.com/\";\n    var evt = document.createEvent(\"MouseEvents\");\n    //the tenth parameter of initMouseEvent sets ctrl key\n    evt.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0,\n                                true, false, false, false, 0, null);\n    a.dispatchEvent(evt);\n}\n</code></pre>\n\n<p>tested only on chrome</p>\n",
                    "is_accepted": true,
                    "score": 69
                },
                {
                    "body": "<p>THX for this question! Works good for me on all popular browsers:</p>\n\n<pre><code>function openNewBackgroundTab(){\n    var a = document.createElement(\"a\");\n    a.href = window.location.pathname;\n    var evt = document.createEvent(\"MouseEvents\");\n    //the tenth parameter of initMouseEvent sets ctrl key\n    evt.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0,\n                                true, false, false, false, 0, null);\n    a.dispatchEvent(evt);\n}\n\nvar is_chrome = navigator.userAgent.toLowerCase().indexOf('chrome') &gt; -1;\n                if(!is_chrome)\n                {\n                    var url = window.location.pathname;\n                    var win = window.open(url, '_blank');\n                } \n                else {\n                    openNewBackgroundTab();\n                    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>Using javascript, I want to open a new page in a different tab, but remain focused on the current tab. I know I can do it like this:</p>\n\n<pre><code>open('http://example.com/');\nfocus();\n</code></pre>\n\n<p>However, when I do this in chrome, it flashes the new tab for a moment before switching back to the current tab. I want to avoid this.</p>\n\n<p>The application is a personal bookmarklet, so it only has to work in the latest Chrome.</p>\n",
            "last_activity_date": 1401235463,
            "question_id": 10812628,
            "score": 25,
            "tags": [
                "javascript",
                "google-chrome"
            ],
            "title": "Open a new tab in the background?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>You're correct. Subdomains are still considered separate domains when using iframes, so you the iframe and the main page can never interact with each other.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>For pages on the same domain and different subdomain, you can set the <code>document.domain</code> property via javascript.</p>\n\n<p>Both the parent frame and the iframe need to set their document.domain to something that is common betweeen them.</p>\n\n<p>i.e.\n<code>www.foo.mydomain.com</code> and <code>api.foo.mydomain.com</code> could each use either <code>foo.mydomain.com</code> or just <code>mydomain.com</code> and be compatible (no, you can't set them both to <code>com</code>, for security reasons...)</p>\n\n<p>also, note that document.domain is a one way street.  Consider running the following three statements in order:</p>\n\n<pre><code>// assume we're starting at www.foo.mydomain.com\ndocument.domain = \"foo.mydomain.com\" // works\ndocument.domain = \"mydomain.com\" // works\ndocument.domain = \"foo.mydomain.com\" // throws a security exception\n</code></pre>\n\n<p>Modern browsers can also use window.postMessage to talk across origins, but it won't work in IE6.\n<a href=\"https://developer.mozilla.org/en/DOM/window.postMessage\" rel=\"nofollow\">https://developer.mozilla.org/en/DOM/window.postMessage</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I just discovered a workaround for this problem that is so simple, and yet I haven't found any discussions anywhere that mention it.</p>\n\n<p>In your iFrame, you call the src=\"http://www.mydomain.com/mypage.php\"</p>\n\n<p>Well, instead, use a javascript to build your iframe, and get the parent url through javascript, and send it as a url variable in the querystring of your src target, like so:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;url = parent.document.URL; document.write('&lt;iframe src=\"http://myotherdomain.com/mydata/mydatacollectionscript.php?url=' + url + '\"&gt;&lt;/iframe&gt;');&lt;/script&gt;\n</code></pre>\n\n<p>Then, find yourself a javascript url variable function that parses the url string to get the url variable you are after, in this case it's \"url\".</p>\n\n<p>I found a great url string parser here:\n<a href=\"http://www.netlobo.com/url_query_string_javascript.html\">http://www.netlobo.com/url_query_string_javascript.html</a> </p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>I couldnt get previous solution to work but I found out that if I set the iframe scr with for example <code>http:otherdomain.com/page.htm?from=thisdomain.com/thisfolder</code> then I could, in the iframe extract <code>thisdomain.com/thisfolder</code> by using following javascript:</p>\n\n<pre><code>var myString = document.location.toString();\nvar mySplitResult = myString.split(\"=\");\nfromString = mySplitResult[1];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Yes, accessing parent page's URL is not allowed if the iframe and the main page are not in the same (sub)domain. However, if you just need URL of the main page (i.e. the browser URL), you can try this </p>\n\n<pre><code>var url = (window.location != window.parent.location) ? document.referrer: document.location;\n</code></pre>\n\n<p>I was struggling with the same issue and got this solution from other source. Worked for me.</p>\n",
                    "is_accepted": false,
                    "score": 105
                },
                {
                    "body": "<p>I've had issues with this.  If using a language like php when your page first loads in the iframe grab <code>$_SERVER['HTTP_REFFERER']</code> and set it to a session variable.</p>\n\n<p>This way when the page loads in the iframe you know the full parent url and query string of the page that loaded it.  With cross browser security it's a bit of a headache counting on window.parent anything if you you different domains.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The problem with the PHP $_SERVER['HTTP_REFFERER'] is that it gives the fully qualified page url of the page that brought you to the parent page. That's not the same as the parent page, itself. Worse, sometimes there is no http_referer, because the person typed in the url of the parent page. So, if I get to your parent page from yahoo.com, then yahoo.com becomes the http_referer, not your page.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've found in the cases where <code>$_SERVER['HTTP_REFERER']</code> doesn't work (I'm looking at you, Safari), <code>$_SERVER['REDIRECT_SCRIPT_URI']</code> has been a useful backup.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If your iframe is from another domain, (cross domain), you will simply need to use this:</p>\n\n<pre><code>var currentUrl = document.referrer;\n</code></pre>\n\n<p>and - here you've got the main url!</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<pre><code>var url = (window.location != window.parent.location) ? document.referrer: document.location;\n</code></pre>\n\n<p>I found that the above example suggested previously worked when the script was being executed in an iframe however it did not \nretrieve the url when the script was executed outside of an iframe, \na slight adjustment was required:</p>\n\n<pre><code>var url = (window.location != window.parent.location) ? document.referrer: document.location.href;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Okay, I have a page on and on this page I have an iframe.  What I need to do is on the iframe page, find out what the url of the main page is. </p>\n\n<p>I have searched around and I know that this is not possible if my iframe page is on a different domain, as that is cross-site scripting. But everywhere I've read says that if iframe page is on the same domain as the parent page, it should work if I do for instance:</p>\n\n<blockquote>\n  <p><code>parent.document.location</code></p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><code>parent.window.document.location</code></p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><code>parent.window.location</code></p>\n</blockquote>\n\n\n\n<blockquote>\n  <p><code>parent.document.location.href</code></p>\n</blockquote>\n\n<p>or other similar combos, as there seems to be multiple ways to get the same info.<br>\nAnyways, so here's the problem.  My iframe is on the same domain as the main page, but it is not on the same SUB domain.  So for instance I have</p>\n\n<blockquote>\n  <p>http:// www.mysite.com/pageA.html</p>\n</blockquote>\n\n<p>and then my iframe url is </p>\n\n<blockquote>\n  <p>http:// qa-www.mysite.com/pageB.html</p>\n</blockquote>\n\n<p>When I try to grab the url from pageB.html (the iframe page), I keep getting the same access denied error.  So it appears that even sub-domains count as cross-site scripting, is that correct, or am I doing something wrong?</p>\n",
            "last_activity_date": 1397213366,
            "question_id": 3420004,
            "score": 57,
            "tags": [
                "javascript",
                "iframe"
            ],
            "title": "access parent url from iframe"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Regex if you want to ensure URL starts with HTTPS</p>\n\n<p><code>https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&amp;//=]*)</code></p>\n\n<p>if you do not require HTTPS validation</p>\n\n<p><code>[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&amp;//=]*)</code></p>\n\n<p>to trial this out see <a href=\"http://regexr.com?37i6s\">http://regexr.com?37i6s</a> or for a version which is less restrictive <a href=\"http://regexr.com/39i0i\">http://regexr.com/39i0i</a></p>\n\n<p>Example JavaScript implementation </p>\n\n<pre><code>var expression = /[-a-zA-Z0-9@:%_\\+.~#?&amp;//=]{2,256}\\.[a-z]{2,4}\\b(\\/[-a-zA-Z0-9@:%_\\+.~#?&amp;//=]*)?/gi;\n var regex = new RegExp(expression);\nvar t = 'www.google.com';\n  if (t.match(regex) )\n {\n   alert(\"Successful match\");\n } else {\n   alert(\"No match\");\n }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 54
                },
                {
                    "body": "<p>Another possible solution, above solution failed for me in parsing query string params.</p>\n\n<pre><code>var regex = new RegExp(\"^(http[s]?:\\\\/\\\\/(www\\\\.)?|ftp:\\\\/\\\\/(www\\\\.)?|www\\\\.){1}([0-9A-Za-z-\\\\.@:%_\\+~#=]+)+((\\\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\\\?(.)*)?\");\n\nif(regex.test(\"http://google.com\")){\n  alert(\"Successful match\");\n}else{\n  alert(\"No match\");\n}\n</code></pre>\n\n<p>In this solution please feel free to modify <code>[-0-9A-Za-z\\.@:%_\\+~#=</code>, to match the domain/sub domain name. In this solution query string parameters are also taken care.</p>\n\n<p>If you are not using <code>RegEx</code>, then from the expression replace <code>\\\\</code> by <code>\\</code>.</p>\n\n<p>Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I was trying to put together some JavaScript to validate a domain name (ex. google.com) and if it validates enable a submit button. I thought that I would share my code for those who are looking to accomplish something similar. It expects a domain without any http:// or www. value. The script uses a stripped down regular expression from above for domain matching, which isn't strict about fake TLD.</p>\n\n<p><a href=\"http://jsfiddle.net/nMVDS/1/\" rel=\"nofollow\">http://jsfiddle.net/nMVDS/1/</a></p>\n\n<pre><code>$(function () {\n  $('#whitelist_add').keyup(function () {\n    if ($(this).val() == '') { //Check to see if there is any text entered\n        //If there is no text within the input, disable the button\n        $('.whitelistCheck').attr('disabled', 'disabled');\n    } else {\n        // Domain name regular expression\n        var regex = new RegExp(\"^([0-9A-Za-z-\\\\.@:%_\\+~#=]+)+((\\\\.[a-zA-Z]{2,3})+)(/(.)*)?(\\\\?(.)*)?\");\n        if (regex.test($(this).val())) {\n            // Domain looks OK\n            //alert(\"Successful match\");\n            $('.whitelistCheck').removeAttr('disabled');\n        } else {\n            // Domain is NOT OK\n            //alert(\"No match\");\n            $('.whitelistCheck').attr('disabled', 'disabled');\n        }\n    }\n  });\n});\n</code></pre>\n\n<p>HTML FORM:</p>\n\n<pre><code>&lt;form action=\"domain_management.php\" method=\"get\"&gt;\n    &lt;input type=\"text\" name=\"whitelist_add\" id=\"whitelist_add\" placeholder=\"domain.com\"&gt;\n    &lt;button type=\"submit\" class=\"btn btn-success whitelistCheck\" disabled='disabled'&gt;Add to Whitelist&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>(https?:\\/\\/(?:www\\.|(?!www))[^\\s\\.]+\\.[^\\s]{2,}|www\\.[^\\s]+\\.[^\\s]{2,})\n</code></pre>\n\n<p>Will match the following cases</p>\n\n<ul>\n<li><code>http://www.foufos.gr</code></li>\n<li><code>https://www.foufos.gr</code></li>\n<li><code>http://foufos.gr</code></li>\n<li><code>http://www.foufos.gr/kino</code></li>\n<li><code>http://www.t.co</code></li>\n<li><code>http://t.co</code></li>\n<li><code>http://werer.gr</code></li>\n<li><code>www.foufos.gr</code></li>\n</ul>\n\n<p>Will NOT match the following</p>\n\n<ul>\n<li><code>www.foufos</code></li>\n<li><code>http://www.foufos</code></li>\n<li><code>http://foufos</code></li>\n</ul>\n\n<p><a href=\"http://www.rubular.com/r/A5jxmCDDaw\">Check it in rubular</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>These are the droids you're looking for.  This is taken from <a href=\"https://github.com/chriso/validator.js\" rel=\"nofollow\">validator.js</a> which is the library you should really use to do this.  But if you want to roll your own, who am I to stop you?  If you want pure regex then you can just take out the length check.  I think it's a good idea to test the length of the URL though if you really want to determine compliance with the spec.</p>\n\n<pre><code> function isURL(str) {\n     var urlRegex = '^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\\\S+(?::\\\\S*)?@)?(?:(?:(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}(?:\\\\.(?:[0-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]+-?)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,})))|localhost)(?::\\\\d{2,5})?(?:(/|\\\\?|#)[^\\\\s]*)?$';\n     var url = new RegExp(urlRegex, 'i');\n     return str.length &lt; 2083 &amp;&amp; url.test(str);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>try this</p>\n\n<pre><code>(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&amp;%@!\\-\\/]))?\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Currently I have an input box which will detect the URL and parse the data.</p>\n\n<p>So right now, I am using:</p>\n\n<pre><code>var urlR = /^(?:([A-Za-z]+):)?(\\/{0,3})([0-9.\\-A-Za-z]+)\n           (?::(\\d+))?(?:\\/([^?#]*))?(?:\\?([^#]*))?(?:#(.*))?$/;\nvar url= content.match(urlR);\n</code></pre>\n\n<p>The problem is, when I enter a URL like <code>www.google.com</code>, its not working. when I entered <code>http://www.google.com</code>, it is working.</p>\n\n<p>I am not very fluent in regular expressions. Can anyone help me?</p>\n",
            "last_activity_date": 1418126579,
            "question_id": 3809401,
            "score": 29,
            "tags": [
                "javascript",
                "regex"
            ],
            "title": "What is a good regular expression to match a URL?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>In HTML5 you can use the <code>navigator.onLine</code> property. Look here:</p>\n\n<p><a href=\"http://www.w3.org/TR/offline-webapps/#related\" rel=\"nofollow\">http://www.w3.org/TR/offline-webapps/#related</a></p>\n\n<p>Probably your current behavior is random as the javascript only ready the \"browser\" variable and then knows if you're offline and online, but it doesn't actually check the Network Connection.</p>\n\n<p>Let us know if this is what you're looking for.</p>\n\n<p>Kind Regards,</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>if(!(navigator.onLine))\nalert(\"U'r Browser seems to be Offline! \\n Please,Disable Work Offline and Reload page\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The browser vendors cannot agree on how to define offline. Some browsers have a Work Offline feature, which they consider separate to a lack of network access, which again is different to internet access. The whole thing is a mess. Some browser vendors update the navigator.onLine flag when actual network access is lost, others don't.</p>\n\n<p>From the spec:</p>\n\n<blockquote>\n  <p>Returns false if the user agent is\n  definitely offline (disconnected from\n  the network). Returns true if the user\n  agent might be online.</p>\n  \n  <p>The events online and offline are\n  fired when the value of this attribute\n  changes.</p>\n  \n  <p>The navigator.onLine attribute must\n  return false if the user agent will\n  not contact the network when the user\n  follows links or when a script\n  requests a remote page (or knows that\n  such an attempt would fail), and must\n  return true otherwise.</p>\n</blockquote>\n\n<p>Finally, the spec notes:</p>\n\n<blockquote>\n  <p>This attribute is inherently\n  unreliable. A computer can be\n  connected to a network without having\n  Internet access.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 36
                },
                {
                    "body": "<p>navigator.onLine is a mess</p>\n\n<p>I face this when trying to make an ajax call to the server.</p>\n\n<p>There are several possible situations when the client is offline: </p>\n\n<ul>\n<li>the ajax call timouts and you receive error</li>\n<li>the ajax call returns success, but the msg is null</li>\n<li>the ajax call is not executed because browser decides so (may be this is when navigator.onLine becomes false after a while)</li>\n</ul>\n\n<p>The solution I am using is to control the status myself with javascript. I set the condition of a successful call, in any other case I assume the client is offline.\nSomething like this:</p>\n\n<pre><code>var offline;\npendingItems.push(item);//add another item for processing\nupdatePendingInterval = setInterval(\"tryUpdatePending()\",30000);\ntryUpdatePending();\n\n    function tryUpdatePending() {\n\n        offline = setTimeout(\"$('#offline').show()\", 10000);\n        $.ajax({ data: JSON.stringify({ items: pendingItems }), url: \"WebMethods.aspx/UpdatePendingItems\", type: \"POST\", dataType: \"json\", contentType: \"application/json; charset=utf-8\",\n          success: function (msg) {\n            if ((!msg) || msg.d != \"ok\")\n              return;\n            pending = new Array(); //empty the pending array\n            $('#offline').hide();\n            clearTimeout(offline);\n            clearInterval(updatePendingInterval);\n          }\n        });\n      }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The major browser vendors differ on what \"offline\" means.</p>\n\n<p>Chrome and Safari will detect when you go \"offline\" automatically - meaning that \"online\" events and properties will fire automatically when you unplug your network cable.</p>\n\n<p>Firefox (Mozilla), Opera, and IE take a different approach, and consider you \"online\" unless you explicitly pick \"Offline Mode\" in the browser - even if you don't have a working network connection.</p>\n\n<p>There are valid arguments for the Firefox/Mozilla behavior, which are outlined in the comments of this bug report:</p>\n\n<p><a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=654579\">https://bugzilla.mozilla.org/show_bug.cgi?id=654579</a></p>\n\n<p>But, to answer the question - you can't rely on the online/offline events/property to detect if there is actually network connectivity.</p>\n\n<p>Instead, you must use alternate approaches.</p>\n\n<p>The \"Notes\" section of this Mozilla Developer article provides links to two alternate methods:</p>\n\n<p><a href=\"https://developer.mozilla.org/en/Online_and_offline_events\">https://developer.mozilla.org/en/Online_and_offline_events</a></p>\n\n<p>\"If the API isn't implemented in the browser, you can use other signals to detect if you are offline including listening for AppCache error events and responses from XMLHttpRequest\"</p>\n\n<p>This links to an example of the \"listening for AppCache error events\" approach:</p>\n\n<p><a href=\"http://www.html5rocks.com/en/mobile/workingoffthegrid/#toc-appcache\">http://www.html5rocks.com/en/mobile/workingoffthegrid/#toc-appcache</a></p>\n\n<p>...and an example of the \"listening for XMLHttpRequest failures\" approach:</p>\n\n<p><a href=\"http://www.html5rocks.com/en/mobile/workingoffthegrid/#toc-xml-http-request\">http://www.html5rocks.com/en/mobile/workingoffthegrid/#toc-xml-http-request</a></p>\n\n<p>HTH,\n-- Chad</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>The best way which works now on all Major Browsers is the following Script:</p>\n\n<pre><code>(function () {\n    var displayOnlineStatus = document.getElementById(\"online-status\"),\n        isOnline = function () {\n            displayOnlineStatus.innerHTML = \"Online\";\n            displayOnlineStatus.className = \"online\";\n        },\n        isOffline = function () {\n            displayOnlineStatus.innerHTML = \"Offline\";\n            displayOnlineStatus.className = \"offline\";\n        };\n\n    if (window.addEventListener) {\n        /*\n            Works well in Firefox and Opera with the \n            Work Offline option in the File menu.\n            Pulling the ethernet cable doesn't seem to trigger it.\n            Later Google Chrome and Safari seem to trigger it well\n        */\n        window.addEventListener(\"online\", isOnline, false);\n        window.addEventListener(\"offline\", isOffline, false);\n    }\n    else {\n        /*\n            Works in IE with the Work Offline option in the \n            File menu and pulling the ethernet cable\n        */\n        document.body.ononline = isOnline;\n        document.body.onoffline = isOffline;\n    }\n})();\n</code></pre>\n\n<p>Source: <a href=\"http://robertnyman.com/html5/offline/online-offline-events.html\" rel=\"nofollow\">http://robertnyman.com/html5/offline/online-offline-events.html</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Please find the require.js module that I wrote for Offline.</p>\n\n<pre><code>define(['offline'], function (Offline) {\n    //Tested with Chrome and IE11 Latest Versions as of 20140412\n    //Offline.js - http://github.hubspot.com/offline/ \n    //Offline.js is a library to automatically alert your users \n    //when they've lost internet connectivity, like Gmail.\n    //It captures AJAX requests which were made while the connection \n    //was down, and remakes them when it's back up, so your app \n    //reacts perfectly.\n\n    //It has a number of beautiful themes and requires no configuration.\n    //Object that will be exposed to the outside world. (Revealing Module Pattern)\n\n    var OfflineDetector = {};\n\n    //Flag indicating current network status.\n    var isOffline = false;\n\n    //Configuration Options for Offline.js\n    Offline.options = {\n        checks: {\n            xhr: {\n                //By default Offline.js queries favicon.ico.\n                //Change this to hit a service that simply returns a 204.\n                url: 'favicon.ico'\n            }\n        },\n\n        checkOnLoad: true,\n        interceptRequests: true,\n        reconnect: true,\n        requests: true,\n        game: false\n    };\n\n    //Offline.js raises the 'up' event when it is able to reach\n    //the server indicating that connection is up.\n    Offline.on('up', function () {\n        isOffline = false;\n    });\n\n    //Offline.js raises the 'down' event when it is unable to reach\n    //the server indicating that connection is down.\n    Offline.on('down', function () {\n        isOffline = true;\n    });\n\n    //Expose Offline.js instance for outside world!\n    OfflineDetector.Offline = Offline;\n\n    //OfflineDetector.isOffline() method returns the current status.\n    OfflineDetector.isOffline = function () {\n        return isOffline;\n    };\n\n    //start() method contains functionality to repeatedly\n    //invoke check() method of Offline.js.\n    //This repeated call helps in detecting the status.\n    OfflineDetector.start = function () {\n        var checkOfflineStatus = function () {\n            Offline.check();\n        };\n        setInterval(checkOfflineStatus, 3000);\n    };\n\n    //Start OfflineDetector\n    OfflineDetector.start();\n    return OfflineDetector;\n});\n</code></pre>\n\n<p>Please read this blog post and let me know your thoughts. <a href=\"http://zen-and-art-of-programming.blogspot.com/2014/04/html-5-offline-application-development.html\" rel=\"nofollow\">http://zen-and-art-of-programming.blogspot.com/2014/04/html-5-offline-application-development.html</a> It contains a code sample using offline.js to detect when the client is offline.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Today there's an open source JavaScript library that does this job: it's called <a href=\"https://github.com/HubSpot/offline\"><code>Offline.js</code></a>.</p>\n\n<blockquote>\n  <p>Automatically display online/offline indication to your users.</p>\n</blockquote>\n\n<p><a href=\"https://github.com/HubSpot/offline\">https://github.com/HubSpot/offline</a></p>\n\n<p>Be sure to check the full <a href=\"https://github.com/HubSpot/offline/blob/master/README.md\">README</a>. It contains events that you can hook into.</p>\n\n<p>Here's a <a href=\"http://craigshoemaker.github.io/offlinejs-simulate-ui/\">test page</a>. It's beautiful/has a nice feedback UI by the way! :)</p>\n\n<blockquote>\n  <p>Offline.js Simulate UI is an Offline.js plug-in\n  that allows you to test how your pages respond to different\n  connectivity states without having to use brute-force methods to\n  disable your actual connectivity.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Here is my solution.</p>\n\n<p>Tested with IE, Opera, Chrome, FireFox, Safari, as Phonegap WebApp on IOS 8 and  as Phonegap WebApp on Android 4.4.2</p>\n\n<p>This solution isn't working with FireFox on localhost.</p>\n\n<p>=================================================================================</p>\n\n<p>onlineCheck.js (filepath: \"root/js/onlineCheck.js ):</p>\n\n<pre><code>var isApp = false;\n\nfunction onLoad() {\n        document.addEventListener(\"deviceready\", onDeviceReady, false);\n}\n\nfunction onDeviceReady() {\n    isApp = true;\n    }\n\n\nfunction isOnlineTest() {\n    alert(checkOnline());\n}\n\nfunction isBrowserOnline(no,yes){\n    //Didnt work local\n    //Need \"firefox.php\" in root dictionary\n    var xhr = XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHttp');\n    xhr.onload = function(){\n        if(yes instanceof Function){\n            yes();\n        }\n    }\n    xhr.onerror = function(){\n        if(no instanceof Function){\n            no();\n        }\n    }\n    xhr.open(\"GET\",\"checkOnline.php\",true);\n    xhr.send();\n}\n\nfunction checkOnline(){\n\n    if(isApp)\n    {\n        var xhr = new XMLHttpRequest();\n        var file = \"http://dexheimer.cc/apps/kartei/neu/dot.png\";\n\n        try {\n            xhr.open('HEAD', file , false); \n            xhr.send(null);\n\n            if (xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 304) {\n                return true;\n            } else {\n                return false;\n            }\n        } catch (e) \n        {\n            return false;\n        }\n    }else\n    {\n        var tmpIsOnline = false;\n\n        tmpIsOnline = navigator.onLine;\n\n        if(tmpIsOnline || tmpIsOnline == \"undefined\")\n        {\n            try{\n                //Didnt work local\n                //Need \"firefox.php\" in root dictionary\n                var xhr = XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHttp');\n                xhr.onload = function(){\n                    tmpIsOnline = true;\n                }\n                xhr.onerror = function(){\n                    tmpIsOnline = false;\n                }\n                xhr.open(\"GET\",\"checkOnline.php\",false);\n                xhr.send();\n            }catch (e){\n                tmpIsOnline = false;\n            }\n        }\n        return tmpIsOnline;\n\n    }\n}\n</code></pre>\n\n<p>=================================================================================</p>\n\n<p>index.html (filepath: \"root/index.html\"):</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n\n&lt;head&gt;\n    ...\n\n    &lt;script type=\"text/javascript\" src=\"js/onlineCheck.js\" &gt;&lt;/script&gt;\n\n    ...\n\n&lt;/head&gt;\n\n...\n\n&lt;body onload=\"onLoad()\"&gt;\n\n...\n\n    &lt;div onclick=\"isOnlineTest()\"&gt;  \n        Online?\n    &lt;/div&gt;\n...\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>=================================================================================</p>\n\n<p>checkOnline.php (filepath: \"root\"):</p>\n\n<pre><code>&lt;?php echo 'true'; ?&gt; \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/NavigatorOnLine.onLine\" rel=\"nofollow\"><code>window.navigator.onLine</code></a> attribute and its associated events are currently unreliable on certain web browsers (<a href=\"http://caniuse.com/#feat=online-status\" rel=\"nofollow\">especially Firefox desktop</a>) as @Junto said, so I wrote a little function (using jQuery) that periodically check the network connectivity status and raise the appropriate <a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/offline\" rel=\"nofollow\"><code>offline</code></a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/online\" rel=\"nofollow\"><code>online</code></a> event:</p>\n\n<pre><code>// Global variable somewhere in your app to replicate the \n// window.navigator.onLine variable (it is not modifiable). It prevents\n// the offline and online events to be triggered if the network\n// connectivity is not changed\nvar IS_ONLINE = true;\n\nfunction checkNetwork() {\n  $.ajax({\n    // Empty file in the root of your public vhost\n    url: '/networkcheck.txt',\n    // We don't need to fetch the content (I think this can lower\n    // the server's resources needed to send the HTTP response a bit)\n    type: 'HEAD',\n    cache: false, // Needed for HEAD HTTP requests\n    timeout: 2000, // 2 seconds\n    success: function() {\n      if (!IS_ONLINE) { // If we were offline\n        IS_ONLINE = true; // We are now online\n        $(window).trigger('online'); // Raise the online event\n      }\n    },\n    error: function(jqXHR) {\n      if (jqXHR.status == 0 &amp;&amp; IS_ONLINE) {\n        // We were online and there is no more network connection\n        IS_ONLINE = false; // We are now offline\n        $(window).trigger('offline'); // Raise the offline event\n      } else if (jqXHR.status != 0 &amp;&amp; !IS_ONLINE) {\n        // All other errors (404, 500, etc) means that the server responded,\n        // which means that there are network connectivity\n        IS_ONLINE = true; // We are now online\n        $(window).trigger('online'); // Raise the online event\n      }\n    }\n  });\n}\n</code></pre>\n\n<p>You can use it like this:</p>\n\n<pre><code>// Hack to use the checkNetwork() function only on Firefox \n// (http://stackoverflow.com/questions/5698810/detect-firefox-browser-with-jquery/9238538#9238538)\n// (But it may be too restrictive regarding other browser\n// who does not properly support online / offline events)\nif (!(window.mozInnerScreenX == null)) {\n    window.setInterval(checkNetwork, 30000); // Check the network every 30 seconds\n}\n</code></pre>\n\n<p>To listen to the offline and online events (with the help of jQuery):</p>\n\n<pre><code>$(window).bind('online offline', function(e) {\n  if (!IS_ONLINE || !window.navigator.onLine) {\n    alert('We have a situation here');\n  } else {\n    alert('Battlestation connected');\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm trying to accurately detect when the browser goes offline, using the HTML5 online and offline events.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>&lt;script&gt;\n    // FIREFOX\n    $(window).bind(\"online\", applicationBackOnline); \n    $(window).bind(\"offline\", applicationOffline);\n\n    //IE\n    window.onload = function() {\n        document.body.ononline = IeConnectionEvent;\n        document.body.onoffline = IeConnectionEvent;\n    } \n&lt;/script&gt;\n</code></pre>\n\n<p>It works fine when I just hit \"Work offline\" on either Firefox or IE, but it's kind of randomly working when I actually unplug the wire. </p>\n\n<p>What's the best way to detect this change? I'd like to avoid repeating ajax calls with timeouts.</p>\n\n<p>Thank you!</p>\n",
            "last_activity_date": 1424956478,
            "question_id": 3181080,
            "score": 46,
            "tags": [
                "javascript",
                "jquery",
                "javascript-events",
                "offline",
                "connectivity"
            ],
            "title": "How to detect online/offline event cross-browser?"
        },
        {
            "answer_count": 14,
            "answers": [
                {
                    "body": "<p>No, JavaScript can not directly connect to MySQL. But you can mix JS with PHP to do so.</p>\n\n<p>JavaScript is a client-side language and your MySQL database is going to be running on a server</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>I think you would need to add something like PHP into the equation. PHP to interact with the database and then you could make AJAX calls with Javascript.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Simple answer is: no.</p>\n\n<p>JavaScript is a client-side language that runs in the browser (<a href=\"http://nodejs.org/\">node.js</a> notwithstanding) and MySQL is a server-side technology that runs on the server.</p>\n\n<p>That means you typically use a server-side language like ASP.NET or PHP to connect to the database.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>No.</p>\n\n<p>You need to write a wrapper in PHP, and then export the returned data (probably as Json). NEVER, get from your \"_GET\" the SQL code, as this is called an SQL injection (people who learn this will have full control over your database).</p>\n\n<p>This is an example I wrote:</p>\n\n<pre><code>function getJsonData()\n{\n        global $db;\n        if (!$db-&gt;isConnected()) {\n               return \"Not connected\";\n        }\n        $db-&gt;query(\"SELECT * FROM entries\");\n        $values = array();\n        while( $v = $db-&gt;fetchAssoc()){\n                $values[] = $v;\n        }\n        return json_encode($values);    \n}\n\nswitch (@$_GET[\"cmd\"]){\n        case 'data':\n                print getJsonData();\n                exit;\n\n        default:\n                print getMainScreen();\n                exit; \n}\n</code></pre>\n\n<p>Do learn about SQL injections please.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>JavaScript can't connect directly to DB to get needed data but you can use AJAX. To make easy AJAX request to server you can use jQuery JS framework <a href=\"http://jquery.com\" rel=\"nofollow\">http://jquery.com</a>. Here is a small example</p>\n\n<p>JS:</p>\n\n<pre><code>jQuery.ajax({\ntype: \"GET\",\ndataType: \"json\",\nurl: '/ajax/usergroups/filters.php',\ndata: \"controller=\" + controller + \"&amp;view=\" + view,\nsuccess: function(json)\n{\n    alert(json.first);\n    alert(json.second);\n});\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>$out = array(); \n$out['first']   = 'first value';\n$out['second']   = 'second value';\necho json_encode($out);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can connect to MySQL from Javascript through a JAVA applet. The JAVA applet would embed the JDBC driver for MySQL that will allow you to connect to MySQL. </p>\n\n<p>Remember that if you want to connect to a remote MySQL server (other than the one you downloaded the applet from) you will need to ask users to grant extended permissions to applet. By default, applet can only connect to the server they are downloaded from. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Depending on your environment, you could use Rhino to do this, see <a href=\"http://www.mozilla.org/rhino/\" rel=\"nofollow\">Rhino website</a>. This gives you access to all of the Java libraries from within JavaScript. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can send AJAX requests to some server-side RESTful wrappers for MySQL, such as <a href=\"http://code.nytimes.com/projects/dbslayer/wiki\" rel=\"nofollow\">DBSlayer</a>, <a href=\"http://phprestsql.sourceforge.net/\" rel=\"nofollow\">PhpRestSQL</a> or <a href=\"https://code.launchpad.net/~stewart/drizzle/json-interface\" rel=\"nofollow\">AlsoSQL</a> (for <a href=\"http://www.drizzle.org/\" rel=\"nofollow\">Drizzle</a>, a fork of MySQL).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>YES? Have a look a meteor. Links:</p>\n\n<p><a href=\"http://meteor.com/screencast\">http://meteor.com/screencast</a> and <a href=\"http://net.tutsplus.com/tutorials/javascript-ajax/whats-this-meteor-thing/\">http://net.tutsplus.com/tutorials/javascript-ajax/whats-this-meteor-thing/</a> </p>\n\n<p>I don't understand how it is done. But Nettuts+ put this thing in the javascript-ajax section, maybe magic happens.</p>\n\n<p>It also shows some way to connect and insert to MongoDB with JS, like this:</p>\n\n<pre><code>Products.insert({Name : \"Hammer\", Price : 4.50, InStock : true});\nProducts.insert({Name : \"Wrench\", Price : 2.70, InStock : true});\nProducts.insert({Name : \"Screw Driver\", Price : 3.00, InStock : false});\nProducts.insert({Name : \"Drill\", Price : 5.25, InStock : true});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Client-side JavaScript cannot access MySQL without some kind of bridge. But the above bold statements that JavaScript is just a client-side language are incorrect -- JavaScript can run client-side and server-side, as with Node.js.</p>\n\n<p>Node.js can access MySQL through something like <a href=\"https://github.com/sidorares/nodejs-mysql-native\">https://github.com/sidorares/nodejs-mysql-native</a></p>\n\n<p>You might also develop something using Socket.IO</p>\n\n<p>Did you mean to ask whether a client-side JS app can access MySQL? I am not sure if such libraries exist, but they are possible.</p>\n\n<p><strong>EDIT</strong>: Since writing, we now have <a href=\"http://www.clusterdb.com/mysql/mysql-cluster-with-node-js\">MySQL Cluster</a>:</p>\n\n<blockquote>\n  <p>The MySQL Cluster JavaScript Driver for Node.js is just what it sounds like it is \u2013 it\u2019s a connector that can be called directly from your JavaScript code to read and write your data. As it accesses the data nodes directly, there is no extra latency from passing through a MySQL Server and need to convert from JavaScript code//objects into SQL operations. If for some reason, you\u2019d prefer it to pass through a MySQL Server (for example if you\u2019re storing tables in InnoDB) then that can be configured.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p>If you're not locked on MySQL you can switch to PostgreSQL. It supports JavaScript procedures (PL/V8) inside the database. It is very fast and powerful. Checkout this <a href=\"https://postgres.heroku.com/blog/past/2013/6/5/javascript_in_your_postgres/?utm_source=postgresweekly&amp;utm_medium=email\" rel=\"nofollow\">post</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>THEN</strong></p>\n\n<p>As I understand the question, and correct me if I am wrong, it refers to the classic server model with JavaScript only in the client side. In this classic model, with <strong>LAMP</strong> servers (Linux, Apache, MySQL, PHP) the language in contact with the database is PHP, so to request data to the database you need to write PHP scripts and <strong><em>echo</em></strong> the returning data to the client. Basically, the languages distribution according to physical machines is:</p>\n\n<ol>\n<li><strong>Server Side:</strong> PHP and MySQL.</li>\n<li><strong>Client Side:</strong> HTML/CSS and JavaScript.</li>\n</ol>\n\n<p>This responds to a MVC model (Model, View, Controller) where we have the following functionality:</p>\n\n<ol>\n<li><strong>MODEL:</strong> The model is what deals with the data, in this case the PHP scripts that manage variables or that access data stored, in this case in our MySQL database and send it as JSON data to the client.</li>\n<li><strong>VIEW:</strong> The view is what we see and it should be completely independent from the model. It just need to show the data contained in the model, but it shouldn't have relevant data on it. In this case the view use HTML and CSS. HTML to create the basic structure of the view, and CSS to give the shape to this basic structure.</li>\n<li><strong>CONTROLLER:</strong> The controller is the interface between our model and our view. In this case the language used is JavaScript and it takes the data the model send us as a JSON package and put it inside the containers that offer the HTML structure. The way the controller interacts with the model is using <strong>AJAX</strong>. We use <em>GET</em> and <em>POST</em> methods to call PHP scripts in the server side and to catch the returned data from the server.</li>\n</ol>\n\n<p>For the controller we have really interesting tools like <a href=\"http://jquery.com/\">jQuery</a>, as \"low level\" library to control the HTML structure (DOM), and then new, more high level ones as <a href=\"http://knockoutjs.com/\">Knockout.js</a> that allow us to create observers that connect different DOM elements updating them when events occur. There is also <a href=\"http://angularjs.org/\">Angular.js</a> by Google that works in a similar way, but seems to be a more complete environment. To help you to choose among the, here there are two excellent analysis of the two tools: <a href=\"http://prezi.com/kedmyhgohdaq/knockout-vs-angularjs/\">Knockout vs. Angular.js</a> and <a href=\"http://blog.nebithi.com/knockoutjs-vs-angularjs/\">Knockout.js vs. Angular.js</a>. I am still reading. Hope them help you.</p>\n\n<p><strong>NOW</strong></p>\n\n<p>In modern servers based in Node.js, we use JavaScript for everything. Node.js is a JavaScript environment with many libraries that works with Google V8, Chrome JavaScript engine. The way we work with this new servers is:</p>\n\n<ol>\n<li><strong><a href=\"http://nodejs.org/\">Node.js</a> and <a href=\"http://expressjs.com/\">Express</a>:</strong> The main frame where the server is built. We can create a server with a few lines of code or even use libraries as Express to make even easier to create the server. With Node.js and Express we will manage the petitions to the server from the clients, and will answer them with the appropriate pages.</li>\n<li><strong><a href=\"http://jade-lang.com/\">Jade</a>:</strong> To create the pages we use a templating language, in this case Jade, that allow us to write web pages as we were writing HTML but with differences (it take a little time but is easy to learn). Then, in the code of the server to answer the client petitions, we just need to render the Jade code into \"real\" HTML code.</li>\n<li><strong><a href=\"http://learnboost.github.io/stylus/\">Stylus</a>:</strong> Similar to Jade but for css. In this case, we use a middleware function to convert the stylus file into a real css file for our page.</li>\n</ol>\n\n<p>Then we have a lot of packages we can install using the <strong><a href=\"https://npmjs.org/\">NPM</a></strong> (Node.js package manager) and use them directly in our Node.js server just requiring it (for those of you that want to lear Node.js, try this <a href=\"http://clock.co.uk/tech-blogs/a-simple-website-in-nodejs-with-express-jade-and-stylus\">beginner tutorial</a> for an overview). And among this packages you have some of them to access databases. Using this you can use JavaScript in the server side to access My SQL databases.</p>\n\n<p>But the best you can do if you are going to work with Node.js is to use the new NoSQL databases like <strong><a href=\"http://www.mongodb.org/\">MongoDB</a></strong>, based on JSON files. Instead of storing tables like MySQL, it stores the data in JSON structures, so you can put different data inside each structure like long numeric vectors instead creating hug tables for the size of the biggest one.</p>\n\n<p>I hope this brief explanation becomes useful to you, and if you want to learn more about this, here you have some resources you can use:</p>\n\n<ul>\n<li><strong><a href=\"http://www.codeschool.com/\">Code School</a></strong>: With a free and very interesting course about Chrome Developer tools to help you to test the client side.</li>\n<li><strong><a href=\"http://www.codecademy.com/\">Codecademy</a></strong>: With free courses about HTML, CSS, JavaScript, jQuery and PHP that you can follow with online examples.</li>\n<li><strong><a href=\"https://education.10gen.com/\">10gen Education</a></strong>: With everything you need to know about MongoDB in different tutorial for different languages.</li>\n<li><strong><a href=\"http://www.w3schools.com/\">W3Schools</a></strong>: This one has different tutorial about all this and you can use it as a reference place because it has a lot of short code examples really useful.</li>\n<li><strong><a href=\"http://www.udacity.com\">Udacity</a></strong>: A place with free video courses about different subjects with a few interesting one about web development and my preferred, an amazing WebGL course for 3D graphics with JavaScript.</li>\n</ul>\n\n<p>Have fun!</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Bit late but recently I have found out that MySql 5.7 got http plugin throuh which user can directly connect to mysql now.</p>\n\n<p>Look for Http Client for mysql 5.7</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can add mysql connection using PHP file. Below is the example of PHP file.  </p>\n\n<pre><code>&lt;?php\n   $con = mysql_connect('localhost:3306', 'dbusername', 'dbpsw');\n   mysql_select_db(\"(dbname)\", $con);\n\n   $sql=\"SELECT * FROM table_name\";\n\n   $result = mysql_query($sql);\n\n   echo \" &lt;table border='1'&gt;\n   &lt;tr&gt;\n   &lt;th&gt;Header of Table name&lt;/th&gt;\n   &lt;/tr&gt;\";\n\n   while($row = mysql_fetch_array($result))\n   {\n     echo \"&lt;tr&gt;\";\n     echo \"&lt;td&gt;\" . $row['(database_column_name)'] . \"&lt;/td&gt;\";\n     echo \"&lt;td&gt;\" . $row['database_column_name'] . \"&lt;/td&gt;\";\n     echo \"&lt;/tr&gt;\";\n    }\n    echo \"&lt;/table&gt;\";\n    mysql_close($con);\n   ?&gt; }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Can JavaScript connect with MySQL? If so, how?</p>\n",
            "last_activity_date": 1423047564,
            "question_id": 3020751,
            "score": 34,
            "tags": [
                "javascript",
                "mysql",
                "ajax",
                "json"
            ],
            "title": "Can JavaScript connect with MySQL?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I thins you should look to selectionstart/selectionend properties of the input field for firefox and textrange in IE \nsome reference :\n<a href=\"http://www.dedestruct.com/2008/03/22/howto-cross-browser-cursor-position-in-textareas/\" rel=\"nofollow\">http://www.dedestruct.com/2008/03/22/howto-cross-browser-cursor-position-in-textareas/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>For Opera, Firefox and Safari, you can use the following function:</p>\n\n<pre><code>function getTextFieldSelection(textField) {\n    return textField.value.substring(textField.selectionStart, textField.selectionEnd);\n}\n</code></pre>\n\n<p>Then, you just pass a reference to a text field element (like a textarea or input element) to the function:</p>\n\n<pre><code>alert(getTextFieldSelection(document.getElementsByTagName(\"textarea\")[0]));\n</code></pre>\n\n<p>Or, if you want &lt;textarea&gt; and &lt;input&gt; to have a getSelection() function of their own:</p>\n\n<pre><code>HTMLTextAreaElement.prototype.getSelection = HTMLInputElement.prototype.getSelection = function() {\n    var ss = this.selectionStart;\n    var se = this.selectionEnd;\n    if (typeof ss === \"number\" &amp;&amp; typeof se === \"number\") {\n        return this.value.substring(this.selectionStart, this.selectionEnd);\n    }\n    return \"\";\n};\n</code></pre>\n\n<p>Then, you'd just do:</p>\n\n<pre><code>alert(document.getElementsByTagName(\"textarea\")[0].getSelection());\nalert(document.getElementsByTagName(\"input\")[0].getSelection());\n</code></pre>\n\n<p>for example.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>OK, here is the code I have:</p>\n\n<pre><code>function ShowSelection()\n{\n  var textComponent = document.getElementById('Editor');\n  var selectedText;\n  // IE version\n  if (document.selection != undefined)\n  {\n    textComponent.focus();\n    var sel = document.selection.createRange();\n    selectedText = sel.text;\n  }\n  // Mozilla version\n  else if (textComponent.selectionStart != undefined)\n  {\n    var startPos = textComponent.selectionStart;\n    var endPos = textComponent.selectionEnd;\n    selectedText = textComponent.value.substring(startPos, endPos)\n  }\n  alert(\"You selected: \" + selectedText);\n}\n</code></pre>\n\n<p>Problem, although the code I give for IE is given on lot of sites, I cannot make it work on my copy of IE6 on my current system. Perhaps it will work for you, that's why I give it.<br />\nThe trick you look for is probably the .focus() call, to give back to textarea the focus so the selection is re-activated.</p>\n\n<p>[UPDATE] I got the right result (the selection content) with onKeyDown event:</p>\n\n<pre><code>document.onkeydown = function (e) { ShowSelection(); }\n</code></pre>\n\n<p>So the code is correct. Again, the issue is to get the selection on click on a button... I continue to search.</p>\n\n<p>[UPDATE] I got no success with a button drawn with a <code>li</code> tag, because when we click on it, IE deselects the previous selection. The above code works with a simple <code>input</code> button, though...</p>\n",
                    "is_accepted": true,
                    "score": 27
                },
                {
                    "body": "<pre><code>&lt;HTML&gt;\n  &lt;HEAD&gt;&lt;TITLE&gt;Selection&lt;/TITLE&gt;\n    &lt;SCRIPT type=\"text/javascript\"&gt;\n       function disp()\n       {\n          var text = document.getElementById(\"text\");\n          var t = text.value.substr(text.selectionStart,text.selectionEnd-text.selectionStart);\n          alert(t);`\n       }\n     &lt;/SCRIPT&gt;\n   &lt;/HEAD&gt;`\n  &lt;BODY&gt;\n    &lt;TEXTAREA id=\"text\"&gt;Hello, How are You?&lt;/TEXTAREA&gt;&lt;BR&gt;\n    &lt;INPUT type=\"button\" onclick=\"disp()\" value=\"Select text and click here\" /&gt;\n  &lt;/BODY&gt;\n&lt;/HTML&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Big Fan of <a href=\"https://github.com/dwieeb/jquery-textrange\" rel=\"nofollow\">jQuery-textrange</a> </p>\n\n<p>Below is a very small, self-contained, example.  Down load jquery-textrange.js and copy to the same folder.  </p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=\"UTF-8\"&gt;\n&lt;title&gt;jquery-textrange&lt;/title&gt;\n&lt;script src=\"http://code.jquery.com/jquery-latest.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"jquery-textrange.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n/* run on document load **/\n$(document).ready(function() {\n    /* run on any change of 'textarea' **/\n    $('#textareaId').bind('updateInfo keyup mousedown mousemove mouseup', function() {\n        /* The magic is on this line **/\n        var range = $(this).textrange();\n        /* Stuff into selectedId.  I wanted to store this is a input field so it can be submitted in a form. **/\n        $('#selectedId').val(range.text);\n    });\n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    The smallest example possible using \n    &lt;a href=\"https://github.com/dwieeb/jquery-textrange\"&gt;\n       jquery-textrange\n    &lt;/a&gt;&lt;br/&gt;\n    &lt;textarea id=\"textareaId\" &gt;Some random content.&lt;/textarea&gt;&lt;br/&gt;\n    &lt;input type=\"text\"  id=\"selectedId\"  &gt;&lt;/input&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a textbox and a link button. \nWhen I write some text, then select some of them and then click the link button, selected text from textbox must be show with a messagebox. </p>\n\n<p>How can I do it?</p>\n\n<hr>\n\n<p>When I click the submit button for textbox below, message box must show Lorem ipsum. Because \"Lorem ipsum\" is selected in the area.</p>\n\n<hr>\n\n<p>If I select any text from the page and click the submit button it is working, but if I write a text to textbox and make it, it's not. Because when i click to another space, selection of textbox is canceled. </p>\n\n<p>Now problem is that, when i select a text from textbox and click any other control or space, text which is selected is must be still selected. </p>\n\n<p>How it is be done?</p>\n",
            "last_activity_date": 1401837298,
            "question_id": 275761,
            "score": 22,
            "tags": [
                "asp.net",
                "javascript",
                "selectedtext"
            ],
            "title": "How to get selected text from textbox control with javascript"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>In your example, you can break the string into two pieces:</p>\n\n<pre><code>alert ( \"Please Select file\"\n + \" to delete\");\n</code></pre>\n\n<p>Or, when it's a string, as in your case, you can use a <a href=\"http://www.nczonline.net/blog/2006/12/26/interesting-javascript-string-capability/\">backslash</a> as @Gumbo suggested:</p>\n\n<pre><code>alert ( \"Please Select file\\\n to delete\");\n</code></pre>\n\n<p>Note that this backslash approach is <a href=\"http://davidwalsh.name/multiline-javascript-strings#comments\">not necessarily preferred</a>, and possibly not universally supported (I had trouble finding hard data on this). It is <em>not</em> in the <a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-7.8.4\">ECMA 5.1 spec</a>.</p>\n\n<p>When working with other code (not in quotes), line breaks are ignored, and perfectly acceptable. For example:</p>\n\n<pre><code>if(SuperLongConditionWhyIsThisSoLong\n  &amp;&amp; SuperLongConditionOnAnotherLine\n  &amp;&amp; SuperLongConditionOnThirdLineSheesh)\n{\n    // launch_missiles();\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 129
                },
                {
                    "body": "<p>Put the backslash at the end of the line:</p>\n\n<pre><code>alert(\"Please Select file\\\n to delete\");\n</code></pre>\n\n<hr>\n\n<p><strong>Edit</strong>\u00a0\u00a0\u00a0\u00a0I have to note that this is <em>not</em> part of <a href=\"http://bclary.com/2004/11/07/#a-7.8.4\">ECMAScript strings</a> as <a href=\"http://bclary.com/2004/11/07/#a-7.3\">line terminating characters</a> are not allowed at all:</p>\n\n<blockquote>\n  <p>A '<em>LineTerminator</em>' character cannot appear in a string literal, even if preceded by a backslash <code>\\</code>. The correct way to cause a line terminator character to be part of the string value of a string literal is to use an escape sequence such as <code>\\n</code> or <code>\\u000A</code>.</p>\n</blockquote>\n\n<p>So using string concatenation is the better choice.</p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>You can just use </p>\n\n<pre><code>1:  alert(\"Please select file\" +\n2:        \" to delete\");\n</code></pre>\n\n<p>That should work</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Break up the string into two pieces</p>\n\n<pre><code>alert (\"Please Select file\" +\n       \"to delete\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>No need of any manual break in code.\nJust add \\n where you want to break.</p>\n\n<pre><code>alert (\"Please Select file \\n to delete\");\n</code></pre>\n\n<p>This will show the alert like</p>\n\n<pre><code>Please select file \nto delete.\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Interesting to note. Tried:</p>\n\n<pre><code>alert(\"Some \\\n    string \\\n    wrapped \\\n    across \\\n    mutliples lines.\")\n</code></pre>\n\n<p>And this worked. However, on accident!, there was a space character following the final backslash (all other backslashes were at the end of the line). And this caused an error in the javascript! Removing this space fixed the error, though.</p>\n\n<p>This is in ADT for Android using Cordova.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I tried a number of the above suggestions but got an ILLEGAL character warning in Chrome code inspector.  The following worked for me (only tested in Chrome though!)</p>\n\n<pre><code>alert('stuff on line 1\\\\nstuff on line 2);\n</code></pre>\n\n<p>comes out like...</p>\n\n<pre><code>stuff on line 1\nstuff on line 2\n</code></pre>\n\n<p>NOTE the double backslash!!...this seems to be important!</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a character in JavaScript to break up a line of code so that it is read as continuous despite being on a new line?</p>\n\n<p>Something like....</p>\n\n<pre>\n1. alert ( \"Please Select file   \n2. \\ to delete\" );\n</pre>\n",
            "last_activity_date": 1380034488,
            "question_id": 508269,
            "score": 79,
            "tags": [
                "javascript",
                "line-breaks"
            ],
            "title": "How do I break a string across more than one line of code in JavaScript?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Try something like</p>\n\n<pre><code>$(window).bind(\"load\", function() {\n       $('#text').addClass('shown');\n});\n</code></pre>\n\n<p>and then do </p>\n\n<pre><code>#text {visibility: hidden;}\n#text.shown {visibility: visible;}\n</code></pre>\n\n<p>The load event should fire after the fonts are loaded.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try <a href=\"http://blog.typekit.com/2010/05/19/typekit-and-google/\">WebFont Loader</a>, developed by Google and Typekit.</p>\n\n<p><a href=\"https://developers.google.com/webfonts/docs/webfont_loader#Example\">This example</a> first displays the text in the default serif font; then after the fonts have loaded it displays the text in the specified font. (This code reproduces Firefox's default behavior in all other modern browsers.)</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Now on GitHub: <a href=\"https://github.com/patrickmarabeas/jQuery-FontSpy.js\">https://github.com/patrickmarabeas/jQuery-FontSpy.js</a></p>\n\n<p>Essentially the method works by comparing the width of a string in two different fonts. We are using Comic Sans as the font to test against, because it is the most different of the web safe fonts and hopefully different enough to any custom font you will be using. Additionally we are using a very large  font-size  so even small differences will be apparent. When the width of the Comic Sans string has been calculated, the  font-family  is changed to your custom font, with a fallback to Comic Sans. When checked, if the string element width is the same, the fallback font of Comic Sans is still in use. If not, your font should be operational.</p>\n\n<p>I rewrote the method of font load detection into a jQuery plugin designed to give the developer the ability to style elements based upon whether the font has been loaded or not. A fail safe timer has been added so the user isn\u2019t left without content if the custom font fails to load. That\u2019s just bad usability.</p>\n\n<p>I have also added greater control over what happens during font loading and on fail with the inclusion of classes addition and removal. You can now do whatever you like to the font. I would only recommend modifying the fonts size, line spacing, etc to get your fall back font as close to the custom as possible so your layout stays intact, and users get an expected experience.</p>\n\n<p>Here's a demo: <a href=\"http://patrickmarabeas.github.io/jQuery-FontSpy.js\">http://patrickmarabeas.github.io/jQuery-FontSpy.js</a></p>\n\n<p>Throw the following into a .js file and reference it.</p>\n\n<pre><code>(function($) {\n\n    $.fontSpy = function( element, conf ) {\n        var $element = $(element);\n        var defaults = {\n            font: $element.css(\"font-family\"),\n            onLoad: '',\n            onFail: '',\n            testFont: 'Comic Sans MS',\n            testString: 'QW@HhsXJ',\n            delay: 50,\n            timeOut: 2500\n        };\n        var config = $.extend( defaults, conf );\n        var tester = document.createElement('span');\n            tester.style.position = 'absolute';\n            tester.style.top = '-9999px';\n            tester.style.left = '-9999px';\n            tester.style.visibility = 'hidden';\n            tester.style.fontFamily = config.testFont;\n            tester.style.fontSize = '250px';\n            tester.innerHTML = config.testString;\n        document.body.appendChild(tester);\n        var fallbackFontWidth = tester.offsetWidth;\n        tester.style.fontFamily = config.font + ',' + config.testFont;\n        function checkFont() {\n            var loadedFontWidth = tester.offsetWidth;\n            if (fallbackFontWidth === loadedFontWidth){\n                if(config.timeOut &lt; 0) {\n                    $element.removeClass(config.onLoad);\n                    $element.addClass(config.onFail);\n                    console.log('failure');\n                }\n                else {\n                    $element.addClass(config.onLoad);\n                    setTimeout(checkFont, config.delay);\n                    config.timeOut = config.timeOut - config.delay;\n                }\n            }\n            else {\n                $element.removeClass(config.onLoad);\n            }\n        }\n        checkFont();\n    };\n\n    $.fn.fontSpy = function(config) {\n        return this.each(function() {\n            if (undefined == $(this).data('fontSpy')) {\n                var plugin = new $.fontSpy(this, config);\n                $(this).data('fontSpy', plugin);\n            }\n        });\n    };\n\n})(jQuery);\n</code></pre>\n\n<p>Apply it to your project</p>\n\n<pre><code>.bannerTextChecked {\n        font-family: \"Lobster\";\n        /* don't specify fallback font here, do this in onFail class */\n}\n\n$(document).ready(function() {\n\n    $('.bannerTextChecked').fontSpy({\n        onLoad: 'hideMe',\n        onFail: 'fontFail anotherClass'\n    });\n\n});\n</code></pre>\n\n<p>Remove that FOUC!</p>\n\n<pre><code>.hideMe {\n    visibility: hidden !important;\n}\n\n.fontFail {\n    visibility: visible !important;\n    /* fall back font */\n    /* necessary styling so fallback font doesn't break your layout */\n}\n</code></pre>\n\n<p>EDIT: FontAwesome compatibility removed as it didn't work properly and ran into issues with different versions. A hacky fix can be found here: <a href=\"https://github.com/patrickmarabeas/jQuery-FontFaceSpy.js/issues/1\">https://github.com/patrickmarabeas/jQuery-FontFaceSpy.js/issues/1</a></p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>Here's another way of knowing if a @font-face has already been loaded without having to use timers at all: <a href=\"http://smnh.me/web-font-loading-detection-without-timers/\" rel=\"nofollow\">http://smnh.me/web-font-loading-detection-without-timers/</a></p>\n\n<p>Github:\n<a href=\"https://github.com/smnh/FontLoader\" rel=\"nofollow\">https://github.com/smnh/FontLoader</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is a different approach to the solutions from others.</p>\n\n<p>I'm using FontAwesome 4.1.0 to build WebGL textures. That gave me the idea to use a tiny canvas to render a fa-square to, then check a pixel in that canvas to test whether it has loaded:</p>\n\n<pre><code>function waitForFontAwesome( callback ) {\n   var retries = 5;\n\n   var checkReady = function() {\n      var canvas, context;\n      retries -= 1;\n      canvas = document.createElement('canvas');\n      canvas.width = 20;\n      canvas.height = 20;\n      context = canvas.getContext('2d');\n      context.fillStyle = 'rgba(0,0,0,1.0)';\n      context.fillRect( 0, 0, 20, 20 );\n      context.font = '16pt FontAwesome';\n      context.textAlign = 'center';\n      context.fillStyle = 'rgba(255,255,255,1.0)';\n      context.fillText( '\\uf0c8', 10, 18 );\n      var data = context.getImageData( 2, 10, 1, 1 ).data;\n      if ( data[0] !== 255 &amp;&amp; data[1] !== 255 &amp;&amp; data[2] !== 255 ) {\n         console.log( \"FontAwesome is not yet available, retrying ...\" );\n         if ( retries &gt; 0 ) {\n            setTimeout( checkReady, 200 );\n         }\n      } else {\n         console.log( \"FontAwesome is loaded\" );\n         if ( typeof callback === 'function' ) {\n            callback();\n         }\n      }\n   }\n\n   checkReady();\n};\n</code></pre>\n\n<p>As it uses a canvas it requires a fairly modern browser, but it might work on IE8 as well with the polyfill.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Found a MUCH easier solution from a poster on the wordpress forums here <a href=\"http://wordpress.stackexchange.com/a/165358/40636\">http://wordpress.stackexchange.com/a/165358/40636</a>.  </p>\n\n<p>It's agnostic and will work with any font style resource like font-awesome where a font-family can be checked.  With a little more thought I bet this could be applied to much more...</p>\n\n<pre><code>&lt;link href=\"//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css\" rel=\"stylesheet\"&gt;\n&lt;script&gt;\n    (function($){\n        var faSpan = $('&lt;span class=\"fa\" style=\"display:none\"&gt;&lt;/span&gt;').appendTo('body');\n        if (faSpan .css('fontFamily') !== 'FontAwesome' ) {\n            // Fallback Link\n            $('head').append('&lt;link href=\"/css/font-awesome.min.css\" rel=\"stylesheet\"&gt;');\n        }\n        faSpan.remove();\n    })(jQuery);\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm using Font-Awesome, but while the font files are not loaded, the icons appear with \uf0d3.</p>\n\n<p>So, I want these icons to have <code>display:none</code> while files are not loaded.</p>\n\n<pre><code>@font-face {\n  font-family: \"FontAwesome\";\n  src: url('../font/fontawesome-webfont.eot');\n  src: url('../font/fontawesome-webfont.eot?#iefix') format('eot'), url('../font/fontawesome-webfont.woff') format('woff'), url('../font/fontawesome-webfont.ttf') format('truetype'), url('../font/fontawesome-webfont.svg#FontAwesome') format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n</code></pre>\n\n<p>How do I know that these files have been loaded and I'm finally able to show the icons?</p>\n\n<p><strong>Edit:</strong>\nI'm not talking when the page is loaded (onload), because the font could be loaded before the whole page.</p>\n",
            "last_activity_date": 1424372885,
            "question_id": 12312323,
            "score": 24,
            "tags": [
                "javascript",
                "jquery",
                "font-face",
                "webfonts",
                "font-awesome"
            ],
            "title": "How to know if a font (@font-face) has already been loaded?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>This phenomenon is known as: <strong>Javascript Variable Hoisting</strong>.</p>\n\n<p>At no point are you accessing the global variable in your function; you're only ever accessing the local <code>value</code> variable.</p>\n\n<p>Your code is equivalent to the following:</p>\n\n<pre><code>var value = 10;\n\nfunction test() {\n    var value;\n    console.log(value);\n\n    value = 20;\n    console.log(value);\n}\n\ntest();\n</code></pre>\n\n<p>Still surprised you're getting <code>undefined</code>?</p>\n\n<hr>\n\n<h2>Explanation:</h2>\n\n<p>This is something that every Javascript programmer bumps into sooner or later. Simply put, whatever variables you declare are always <em>hoisted</em> to the top of your local closure. So, even though you declared your variable after the first <code>console.log</code> call, it's still considered as if you had declared it before that.<br>\nHowever, only the declaration part is being hoisted; the assignment, on the other hand, is not.</p>\n\n<p>So, when you first called <code>console.log(value)</code>, you were referencing your locally declared variable, which has got nothing assigned to it yet; hence <code>undefined</code>.</p>\n\n<p>Here's <a href=\"http://jsfiddle.net/Q4xgV/\">another example</a>:</p>\n\n<pre><code>var test = 'start';\n\nfunction end() {\n    test = 'end';\n    var test = 'local';\n}\n\nend();\nalert(test);\n</code></pre>\n\n<p>What do you think this will alert? No, don't just read on, think about it. What's the value of <code>test</code>?</p>\n\n<p>If you said anything other than <code>start</code>, you were wrong. The above code is equivalent to this:</p>\n\n<pre><code>var test = 'start';\n\nfunction end() {\n    var test;\n    test = 'end';\n    test = 'local';\n}\n\nend();\nalert(test);\n</code></pre>\n\n<p>so that the global variable is never affected.</p>\n\n<p>As you can see, no matter where you put your variable declaration, it is always <em>hoisted</em> to the top of your local closure.</p>\n\n<hr>\n\n<h2>Side note:</h2>\n\n<p>This also applies to functions.</p>\n\n<p>Consider <a href=\"http://jsfiddle.net/YF35j/\">this piece of code</a>:</p>\n\n<pre><code>test(\"Won't work!\");\n\ntest = function(text) { alert(text); }\n</code></pre>\n\n<p>which will give you a reference error:</p>\n\n<blockquote>\n  <p>Uncaught ReferenceError: test is not defined</p>\n</blockquote>\n\n<p>This throws off a lot of developers, since <a href=\"http://jsfiddle.net/YF35j/1/\">this piece of code</a> works fine:</p>\n\n<pre><code>test(\"Works!\");\n\nfunction test(text) { alert(text); }\n</code></pre>\n\n<p>The reason for this, as stated, is because the assignment part in <strong>not</strong> hoisted. So in the first example, when <code>test(\"Won't work!\")</code> was run, the <code>test</code> variable has already been declared, but has yet to have the function assigned to it.</p>\n\n<p>In the second example, we're not using variable assignment. Rather, we're using proper function declaration syntax, which <em>does</em> get the function completely hoisted.</p>\n\n<hr>\n\n<p><a href=\"http://www.adequatelygood.com/\">Ben Cherry</a> has written an excellent article on this, appropriately titled <a href=\"http://www.adequatelygood.com/2010/2/JavaScript-Scoping-and-Hoisting\">JavaScript Scoping and Hoisting</a>.<br>\nRead it. It'll give you the whole picture in full detail.</p>\n",
                    "is_accepted": true,
                    "score": 60
                },
                {
                    "body": "<p>Variables in JavaScript always have function-wide scope. Even if they were defined in the middle of the function, they are visible before. Similar phenomena may be observed with function hoisting.</p>\n\n<p>That being said, the first <code>console.log(value)</code> sees the <code>value</code> variable (the inner one which shadows the outer <code>value</code>), but it has not yet been initialized. You can think of it as if all variable declarations were implicitly moved to the beginning of the function (<em>not</em> inner-most code block), while the definitions are left on the same place.</p>\n\n<h2>See also</h2>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/7506844\">Javascript function scoping and hoisting</a></li>\n<li><a href=\"http://stackoverflow.com/questions/8351293\">Javascript variable declarations at the head of a function</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>There is a global variable <code>value</code>, but when control enters the <code>test</code> function, another <code>value</code> variable is declared, which shadows the global one. Since variable declarations (<em>but not assignments</em>) in JavaScript are hoisted to the top of scope in which they are declared:</p>\n\n<pre><code>//value == undefined (global)\nvar value = 10;\n//value == 10 (global)\n\nfunction test() {\n    //value == undefined (local)\n    var value = 20;\n    //value == 20 (local)\n}\n//value == 10 (global)\n</code></pre>\n\n<p>Note that the same is true of function declarations, which means you can call a function before it appears to be defined in your code:</p>\n\n<pre><code>test(); //Call the function before it appears in the source\nfunction test() {\n    //Do stuff\n}\n</code></pre>\n\n<p>It's also worth noting that when you combine the two into a function expression, the variable will be <code>undefined</code> until the assignment takes place, so you can't call the function until that happens:</p>\n\n<pre><code>var test = function() {\n    //Do stuff\n};\ntest(); //Have to call the function after the assignment\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I was somewhat disappointed that the problem here is explained, but no one proposed a solution. If you want to access a global variable in function scope without the function making an undefined local var first, reference the var as <code>window.varName</code></p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>Today I got completely surprise that global variable has <code>undefined</code> in certain case.</p>\n\n<p>Example:</p>\n\n<pre><code>var value = 10;\nfunction test() {\n    //A\n    console.log(value);\n    var value = 20;\n\n    //B\n    console.log(value);\n}\ntest();\n</code></pre>\n\n<p>Gives output as</p>\n\n<pre><code>undefined\n20\n</code></pre>\n\n<p>Here, why JavaScript engine considering global value is <code>undefined</code>. As of I know JavaScript is an interpreted language. Then, how is it able to consider variables in the function.</p>\n\n<p>Is that a pitfall from the JavaScript engine?</p>\n",
            "last_activity_date": 1411417093,
            "question_id": 9085839,
            "score": 17,
            "tags": [
                "javascript",
                "variable-scope"
            ],
            "title": "Surprised that global variable has undefined value in JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>This, from w3schools, is <strong><em>incorrect</em></strong> in that it may lead to getting the wrong cookie:</p>\n\n<pre><code>c_start = document.cookie.indexOf(c_name + \"=\");\n</code></pre>\n\n<p>If you go looking for a cookie named <code>foo</code> (which we'll suppose is an existing cookie) then somewhere in <code>document.cookie</code> will be the string <code>foo=bar</code>.</p>\n\n<p>However, there's no guarantee there won't <strong><em>also</em></strong> be the string <code>xfoo=something</code>. Notice that this still contains the substring <code>foo=</code> so the w3schools code will find it. And if the <code>xfoo</code> cookie happens to be listed first, you'll get back the <code>something</code> value (incorrectly!) instead of the expected <code>bar</code>.</p>\n\n<p>Given the choice between two pieces of code, never go with the one that's fundamentally broken.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The function from W3CSchool is wrong. It fails if there are multiple cookies that have the same suffix like:</p>\n\n<pre><code>ffoo=bar; foo=baz\n</code></pre>\n\n<p>When you search for <code>foo</code> it will return the value of <em>ffoo</em> instead of <em>foo</em>.</p>\n\n<p>Now here is what I would do: First of all, you need get to know the syntax of how cookies are transported. Netscape\u2019s original specification (there are only copies available like <a href=\"http://curl.haxx.se/rfc/cookie_spec.html\">this one at haxx.se</a>) uses semicolons to separate multiple cookies while each name/value pair has the following syntax:</p>\n\n<blockquote>\n  <p><em>NAME</em><code>=</code><em>VALUE</em><br>\n  This string is a sequence of characters excluding semi-colon, comma and white space. If there is a need to place such data in the name or value, some encoding method such as URL style <code>%XX</code> encoding is recommended, though no encoding is defined or required.</p>\n</blockquote>\n\n<p>So splitting <code>document.cookie</code> string at semi-colons or commas is a viable option.</p>\n\n<p>Besides that, <a href=\"http://tools.ietf.org/html/rfc2109\">RFC 2109</a> does also specify that cookies are separated by either semi-colons or commas:</p>\n\n<blockquote>\n<pre><code>cookie          =       \"Cookie:\" cookie-version\n                        1*((\";\" | \",\") cookie-value)\ncookie-value    =       NAME \"=\" VALUE [\";\" path] [\";\" domain]\ncookie-version  =       \"$Version\" \"=\" value\nNAME            =       attr\nVALUE           =       value\npath            =       \"$Path\" \"=\" value\ndomain          =       \"$Domain\" \"=\" value\n</code></pre>\n</blockquote>\n\n<p>Although both are allowed, commas are preferred as they are the default separator of list items in HTTP.</p>\n\n<blockquote>\n  <p>Note: For backward compatibility, the separator in the Cookie header\n     is semi-colon (<code>;</code>) everywhere.  A server should also accept comma (<code>,</code>)\n     as the separator between cookie-values for future compatibility.</p>\n</blockquote>\n\n<p>Furthermore, the name/value pair has some further restrictions as the <em>VALUE</em> can also be a quoted string as specified in <a href=\"http://tools.ietf.org/html/rfc2616\">RFC 2616</a>:</p>\n\n<blockquote>\n<pre><code>attr        =     token\nvalue       =     token | quoted-string\n</code></pre>\n</blockquote>\n\n<p>So these two cookie versions need to be treated separately:</p>\n\n<pre><code>if (typeof String.prototype.trimLeft !== \"function\") {\n    String.prototype.trimLeft = function() {\n        return this.replace(/^\\s+/, \"\");\n    };\n}\nif (typeof String.prototype.trimRight !== \"function\") {\n    String.prototype.trimRight = function() {\n        return this.replace(/\\s+$/, \"\");\n    };\n}\nif (typeof Array.prototype.map !== \"function\") {\n    Array.prototype.map = function(callback, thisArg) {\n        for (var i=0, n=this.length, a=[]; i&lt;n; i++) {\n            if (i in this) a[i] = callback.call(thisArg, this[i]);\n        }\n        return a;\n    };\n}\nfunction getCookies() {\n    var c = document.cookie, v = 0, cookies = {};\n    if (document.cookie.match(/^\\s*\\$Version=(?:\"1\"|1);\\s*(.*)/)) {\n        c = RegExp.$1;\n        v = 1;\n    }\n    if (v === 0) {\n        c.split(/[,;]/).map(function(cookie) {\n            var parts = cookie.split(/=/, 2),\n                name = decodeURIComponent(parts[0].trimLeft()),\n                value = parts.length &gt; 1 ? decodeURIComponent(parts[1].trimRight()) : null;\n            cookies[name] = value;\n        });\n    } else {\n        c.match(/(?:^|\\s+)([!#$%&amp;'*+\\-.0-9A-Z^`a-z|~]+)=([!#$%&amp;'*+\\-.0-9A-Z^`a-z|~]*|\"(?:[\\x20-\\x7E\\x80\\xFF]|\\\\[\\x00-\\x7F])*\")(?=\\s*[,;]|$)/g).map(function($0, $1) {\n            var name = $0,\n                value = $1.charAt(0) === '\"'\n                          ? $1.substr(1, -1).replace(/\\\\(.)/g, \"$1\")\n                          : $1;\n            cookies[name] = value;\n        });\n    }\n    return cookies;\n}\nfunction getCookie(name) {\n    return getCookies()[name];\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 75
                },
                {
                    "body": "<p>Yes, the W3Schools solution is <strong>incorrect</strong>.</p>\n\n<p>For those that would like it, here is a <strong>simpler solution</strong> that works. It just prepends a space so the single call to indexOf() only returns the correct cookie.</p>\n\n<pre><code>function getCookie(c_name) {\n    var c_value = \" \" + document.cookie;\n    var c_start = c_value.indexOf(\" \" + c_name + \"=\");\n    if (c_start == -1) {\n        c_value = null;\n    }\n    else {\n        c_start = c_value.indexOf(\"=\", c_start) + 1;\n        var c_end = c_value.indexOf(\";\", c_start);\n        if (c_end == -1) {\n            c_end = c_value.length;\n        }\n        c_value = unescape(c_value.substring(c_start,c_end));\n    }\n    return c_value;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I found two functions to get cookie data with Javascript, one on <a href=\"http://www.w3schools.com/JS/js_cookies.asp\">w3schools.com</a> and one on <a href=\"http://www.quirksmode.org/js/cookies.html\">quirksmode.org</a><br/>\nI would like to know which one I should use?</p>\n\n<p>For example I believe I read somewhere that there was a problem with some browsers splitting the <code>;</code> semicolon?</p>\n\n<p>w3schools:</p>\n\n<pre><code>function getCookie(c_name) {\n    if (document.cookie.length &gt; 0) {\n        c_start = document.cookie.indexOf(c_name + \"=\");\n        if (c_start != -1) {\n            c_start = c_start + c_name.length + 1;\n            c_end = document.cookie.indexOf(\";\", c_start);\n            if (c_end == -1) c_end = document.cookie.length;\n            return unescape(document.cookie.substring(c_start, c_end));\n        }\n    }\n    return \"\";\n}\n</code></pre>\n\n<p>quirksmode:</p>\n\n<pre><code>function readCokie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for(var i = 0; i &lt; ca.length; i++) {\n        var c = ca[i];\n        while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n}\n</code></pre>\n",
            "last_activity_date": 1418608821,
            "question_id": 4003823,
            "score": 26,
            "tags": [
                "javascript",
                "cookies"
            ],
            "title": "Javascript getCookie functions"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>By definition, the <strong>order of keys in an object is undefined</strong>, so you probably won't be able to do that in a way that is future-proof.  Instead, you should think about sorting these keys when the object is actually being displayed to the user.  Whatever sort order it uses internally doesn't really matter anyway.</p>\n\n<p>By convention, most browsers will retain the order of keys in an object in the order that they were added.  So, you could do this, but don't expect it to always work:</p>\n\n<pre><code>function sortObject(o) {\n    var sorted = {},\n    key, a = [];\n\n    for (key in o) {\n    \tif (o.hasOwnProperty(key)) {\n    \t\ta.push(key);\n    \t}\n    }\n\n    a.sort();\n\n    for (key = 0; key &lt; a.length; key++) {\n    \tsorted[a[key]] = o[a[key]];\n    }\n    return sorted;\n}\n</code></pre>\n\n<p>Does that help?</p>\n",
                    "is_accepted": true,
                    "score": 39
                },
                {
                    "body": "<p>this function takes an object and returns a sorted array of arrays of the form [key,value]</p>\n\n<pre><code>function (o) {\n   var a = [],i;\n   for(i in o){ \n     if(o.hasOwnProperty(i)){\n         a.push([i,o[i]]);\n     }\n   }\n   a.sort(function(a,b){ return a[0]&gt;b[0]?1:-1; })\n   return a;\n}\n</code></pre>\n\n<p>The object data structure does not have a well defined order. In mathematical terms, the collection of keys in an object are an Unordered Set, and should be treated as such.\nIf you want to define order, you SHOULD use an array, because an array having an order is an assumption you can rely on. An object having some kind of order is something that is left to the whims of the implementation.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<pre><code>// if ya need old browser support\nObject.keys = Object.keys || function(o) {  \nvar result = [];  \nfor(var name in o) {  \n    if (o.hasOwnProperty(name))  \n      result.push(name);  \n}  \n    return result;  \n};\n\nvar o = {c: 3, a: 1, b: 2};\nvar n = sortem(o);\n\nfunction sortem(old){\n  var newo = {}; Object.keys(old).sort().forEach(function(k) {new[k]=old[k]});\n  return newo;\n}\n\n// deep\nfunction sortem(old){\n  var newo = {}; Object.keys(old).sort().forEach(function(k){ newo[k]=sortem(old[k]) });\n  return newo;\n}\nsortem({b:{b:1,a:2},a:{b:1,a:2}})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've been looking for a while and want a way to sort a Javascript object like this:</p>\n\n<pre><code>{\n    method: 'artist.getInfo',\n    artist: 'Green Day',\n    format: 'json',\n    api_key: 'fa3af76b9396d0091c9c41ebe3c63716'\n}\n</code></pre>\n\n<p>and sort is alphabetically by name to get:</p>\n\n<pre><code>{\n    api_key: 'fa3af76b9396d0091c9c41ebe3c63716',\n    artist: 'Green Day',\n    format: 'json',\n    method: 'artist.getInfo'\n}\n</code></pre>\n\n<p>I can't find any code that will do this. Can anyone give me some help?</p>\n",
            "last_activity_date": 1416598453,
            "question_id": 1359761,
            "score": 24,
            "tags": [
                "javascript",
                "sorting",
                "object"
            ],
            "title": "Sorting a JavaScript object by property name"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>It's good practice for your maintenance programmer.  The compiler knows the difference, but that young, just-out-of-college web developer may not.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think the \"javascript:\" prefix is a leftover from the olde days when there still was the vague possibility that <em>anything other</em> than JavaScript could be handling the event.</p>\n\n<p>Today it's optional and kept for backwards compatibility reasons. But I wouldn't say it's <em>bad</em> as such, it's just unnecessary.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It's never needed on anchors and is never good practice. An anchor is for navigation only.\nAn article about this topic is <em><a href=\"http://crisp.tweakblogs.net/blog/the-useless-javascript-pseudo-protocol.html\" rel=\"nofollow\">The useless JavaScript: pseudo-protocol</a></em>.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>In the beginning, you could also use <a href=\"http://en.wikipedia.org/wiki/VBScript\" rel=\"nofollow\">VBScript</a> in Internet&nbsp;Explorer instead of JavaScript, so specifying \"javascript: ...\" was standard.</p>\n\n<p>Today, well, it doesn't hurt... There could always be some other wannabe browser scripting language in the future.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>In Internet&nbsp;Explorer, It is possible to set the default language set to <a href=\"http://en.wikipedia.org/wiki/VBScript\" rel=\"nofollow\">VBScript</a> for a page. In the early days there was always the idea that another language may be used for scripting in a browser. As it has turned out, no such language has materialised in substantial form.</p>\n\n<p>I don't bother with this language prefix myself.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>See <em><a href=\"http://www.w3.org/TR/html4/interact/scripts.html#h-18.2.2\" rel=\"nofollow\">Specifying the scripting language</a></em> (in 18.2.2 in <em>HTML 4.01 Specification</em>, <em>Scripts</em>).</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I have always believed that it was bad usage based on the fact that you can call JavaScript within a <a href=\"http://en.wikipedia.org/wiki/Uniform_Resource_Locator\" rel=\"nofollow\">URL</a> with the <code>javascript:</code> prefix:</p>\n\n<pre><code>&lt;a href=\"javascript:void(alert('really bad usage!'))\"&gt;\n</code></pre>\n\n<p>(<a href=\"https://en.wikipedia.org/wiki/ASP.NET#Characteristics\" rel=\"nofollow\">Web Forms</a>, someone?)</p>\n\n<p>And only ignorant web-developers that never realized the difference between an event-declaration and a href-declaration used it.</p>\n\n<p>I would say that even event-attributes are bad practice in most cases nowadays, and the preferred way to atach an event is by using .attachEvent (Internet&nbsp;Explorer) and addEventListener (the rest of the browsers, as usual).</p>\n\n<p>And finally... Google isn't always GOD almighty. They tend to be of more concern that stuff works instead of following standards all the time. </p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Some of the responses here claim that the \"javascript:\" prefix is a \"leftover from the old days\", implying that it's intentionally, specially handled by the browsers for backwards compatibility. Is there solid evidence that this is the case (has anyone checked source code)?</p>\n\n<pre><code>&lt;span onclick=\"javascript:alert(42)\"&gt;Test&lt;/span&gt;\n</code></pre>\n\n<p>To me, this just reads as:</p>\n\n<pre><code>javascript:\n    alert(42);\n</code></pre>\n\n<p>Meaning, that \"javascript:\" is just a label and has no effect. This works, too:</p>\n\n<pre><code>&lt;span onclick=\"foobar:alert(42)\"&gt;Test&lt;/span&gt;\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>I did a little experiment and it turns out that, yes, \"javascript:\" is handled specially by IE, but definitely not so by Firefox, Safari, Opera or Chrome:</p>\n\n<pre><code>&lt;span onclick=\"javascript:while (true) { alert('once'); break javascript; }\"&gt;Test&lt;/span&gt;\n</code></pre>\n\n<p>On non-IE, this will just alert \"once\", once and then break out of the loop. On IE, I get a \"Label not found\" error. The following works fine in all browsers:</p>\n\n<pre><code>&lt;span onclick=\"foo:while (true) { alert('once'); break foo; }\"&gt;Test&lt;/span&gt;\n</code></pre>\n\n<p><strong>Update 2:</strong></p>\n\n<p>I just realized the link <a href=\"http://crisp.tweakblogs.net/blog/the-useless-javascript-pseudo-protocol.html\">http://crisp.tweakblogs.net/blog/the-useless-javascript-pseudo-protocol.html</a> in one of the answers above pretty much talks about the same thing.</p>\n",
                    "is_accepted": true,
                    "score": 39
                }
            ],
            "body": "<p>AFAIK, you never need to specify the protocol in an onclick:</p>\n\n<p><code>onclick=\"javascript:myFunction()\"</code> <strong>Bad</strong></p>\n\n<p><code>onclick=\"myFunction()\"</code> <strong>Good</strong></p>\n\n<p>Today I noticed in <a href=\"http://web.archive.org/web/20080428095515/http://www.google.com/support/analytics/bin/answer.py?answer=55527\">this article</a> on Google Anallytics that <em>they</em> are using it:</p>\n\n<pre><code>&lt;a href=\"http://www.example.com\" onClick=\"javascript: pageTracker._trackPageview('/outgoing/example.com');\"&gt;\n</code></pre>\n\n<p>Is this example just plain wrong, or is there ever a reason to specify <code>javascript:</code> in anything other than a <code>href</code>?</p>\n",
            "last_activity_date": 1378652463,
            "question_id": 372159,
            "score": 33,
            "tags": [
                "javascript",
                "google-api"
            ],
            "title": "Do you ever need to specify &#39;javascript:&#39; in an onclick?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>From the site Enrique posted:</p>\n\n<pre><code>window.history.forward(1);\ndocument.attachEvent(\"onkeydown\", my_onkeydown_handler);\nfunction my_onkeydown_handler() {\n    switch (event.keyCode) {\n        case 116 : // 'F5'\n            event.returnValue = false;\n            event.keyCode = 0;\n            window.status = \"We have disabled F5\";\n            break;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<blockquote>\n  <p>From the site Enrique posted:</p>\n</blockquote>\n\n<p>only works for IE.</p>\n\n<p>try this link <a href=\"http://www.openjs.com/scripts/events/keyboard_shortcuts/\" rel=\"nofollow\">http://www.openjs.com/scripts/events/keyboard_shortcuts/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><em>Update</em> A recent comment claims this doesn't work in the new Chrome ... As shown in jsFiddle, and tested on my personal site, this method still works as of Chrome ver <code>26.0.1410.64 m</code></p>\n\n<p>This is REALLY easy in jQuery by the way:</p>\n\n<p><a href=\"http://jsfiddle.net/SpYk3/C85Hs/\"><h2>jsFiddle</h2></a></p>\n\n<pre><code>// slight update to account for browsers not supporting e.which\nfunction disableF5(e) { if ((e.which || e.keyCode) == 116) e.preventDefault(); };\n// To disable f5\n    /* jQuery &lt; 1.7 */\n$(document).bind(\"keydown\", disableF5);\n/* OR jQuery &gt;= 1.7 */\n$(document).on(\"keydown\", disableF5);\n\n// To re-enable f5\n    /* jQuery &lt; 1.7 */\n$(document).unbind(\"keydown\", disableF5);\n/* OR jQuery &gt;= 1.7 */\n$(document).off(\"keydown\", disableF5);\n</code></pre>\n\n<p>On a side note:\n    This only disables the f5 button on the keyboard.\n    To truly disable refresh you must use a server side script to check for page state changes.\n    Can't say I really know how to do this as I haven't done it yet.</p>\n\n<p>On the software site that I work at,  we use my disableF5 function in conjunction with Codeigniter's session data.  For instance, there is a lock button which will lock the screen and prompt a password dialog.  The function \"disableF5\" is quick and easy and keeps that button from doing anything.  However, to prevent the mouse-click on refresh button, a couple things take place. </p>\n\n<ol>\n<li>When lock is clicked, user session data has a variable called \"locked\" that becomes TRUE</li>\n<li>When the refresh button is clicked, on the master page load method is a check against session data for \"locked\", if TRUE, then we simple don't allow the redirect and the page never changes, regardless of requested destination</li>\n</ol>\n\n<hr>\n\n<p><em><strong>TIP:</em></strong> Try using a server-set cookie, such as PHP's <code>$_SESSION</code>, or even .Net's <code>Response.Cookies</code>, to maintain \"where\" your client is in your site. This is the more <em>Vanilla</em> way to do what I do with CI's Session class. The big difference being that CI uses a Table in your DB, whereas these <em>vanilla</em> methods store an editable cookie in the client. The downside though, is a user can clear its cookies.</p>\n",
                    "is_accepted": true,
                    "score": 35
                },
                {
                    "body": "<p>This is the code I'm using to disable refresh on IE and firefox (This works well for F5, Ctr+F5 and Ctrl+R)</p>\n\n<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n    //this code handles the F5/Ctrl+F5/Ctrl+R\n    document.onkeydown = checkKeycode\n    function checkKeycode(e) {\n        var keycode;\n        if (window.event)\n            keycode = window.event.keyCode;\n        else if (e)\n            keycode = e.which;\n\n        // Mozilla firefox\n        if ($.browser.mozilla) {\n            if (keycode == 116 ||(e.ctrlKey &amp;&amp; keycode == 82)) {\n                if (e.preventDefault)\n                {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            }\n        } \n        // IE\n        else if ($.browser.msie) {\n            if (keycode == 116 || (window.event.ctrlKey &amp;&amp; keycode == 82)) {\n                window.event.returnValue = false;\n                window.event.keyCode = 0;\n                window.status = \"Refresh is disabled\";\n            }\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>If you don't want to use useragent to detect what type of browser it is ($.browser uses navigator.userAgent to determine the platform), you can use </p>\n\n<p><code>if('MozBoxSizing' in document.documentElement.style)</code> - returns true for firefox</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>for mac cmd+r, cmd+shift+r to need.</p>\n\n<pre><code>function disableF5(e) { if ((e.which || e.keyCode) == 116 || (e.which || e.keyCode) == 82) e.preventDefault(); };\n\n$(document).ready(function(){\n$(document).on(\"keydown\", disableF5);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<pre><code>$(window).bind('beforeunload', function(e) {\n\n    if (1)\n    {\n\n        return \"Unloading this page may lose .What do you want to do...\"\n        e.preventDefault();\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It works for me in all the browsers:</p>\n\n<pre><code>document.onkeydown = function(){\n  switch (event.keyCode){\n        case 116 : //F5 button\n            event.returnValue = false;\n            event.keyCode = 0;\n            return false;\n        case 82 : //R button\n            if (event.ctrlKey){ \n                event.returnValue = false;\n                event.keyCode = 0;\n                return false;\n            }\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use this for modern browsers:</p>\n\n<pre><code>function my_onkeydown_handler() {\n    switch (event.keyCode) {\n        case 116 : // 'F5'\n            event.preventDefault();\n            event.keyCode = 0;\n            window.status = \"F5 disabled\";\n            break;\n    }\n}\ndocument.addEventListener(\"keydown\", my_onkeydown_handler);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var ctrlKeyDown = false;\n\n$(document).ready(function(){    \n    $(document).on(\"keydown\", keydown);\n    $(document).on(\"keyup\", keyup);\n});\n\nfunction keydown(e) { \n\n    if ((e.which || e.keyCode) == 116 || ((e.which || e.keyCode) == 82 &amp;&amp; ctrlKeyDown)) {\n        // Pressing F5 or Ctrl+R\n        e.preventDefault();\n    } else if ((e.which || e.keyCode) == 17) {\n        // Pressing  only Ctrl\n        ctrlKeyDown = true;\n    }\n};\n\nfunction keyup(e){\n    // Key up Ctrl\n    if ((e.which || e.keyCode) == 17) \n        ctrlKeyDown = false;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can directly use hotkey from rich faces if you are using JSF.</p>\n\n<pre><code>&lt;rich:hotKey key=\"backspace\" onkeydown=\"if (event.keyCode == 8) return false;\" handler=\"return false;\" disableInInput=\"true\" /&gt;\n&lt;rich:hotKey key=\"f5\" onkeydown=\"if (event.keyCode == 116) return false;\" handler=\"return false;\" disableInInput=\"true\" /&gt;\n&lt;rich:hotKey key=\"ctrl+R\" onkeydown=\"if (event.keyCode == 123) return false;\" handler=\"return false;\" disableInInput=\"true\" /&gt;\n&lt;rich:hotKey key=\"ctrl+f5\" onkeydown=\"if (event.keyCode == 154) return false;\" handler=\"return false;\" disableInInput=\"true\" /&gt; \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to disable browser refresh using javascript.</p>\n\n<p>Currently, I am using <code>window.onbeforeunload</code> and I don't want it to be called when user refreshes the browser.</p>\n\n<p>What is the best way to do it?</p>\n",
            "last_activity_date": 1426137150,
            "question_id": 2482059,
            "score": 20,
            "tags": [
                "javascript",
                "javascript-events"
            ],
            "title": "Disable F5 and browser refresh using javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>Is there a way to get this working in FF?</p>\n</blockquote>\n\n<p>No, and it doesn't work in most common versions of IE, either. IE will open the dialog, but once you've selected a file with it the form won't actually submit.</p>\n\n<p>Abandon hope. The only way to fake a file upload box is using the transparency technique, and that's really not recommended at all as browsers may lay out file upload boxes differently internally (or even provide a file upload control that doesn't include a Browse dialogue), making it highly likely you'll end up with an inoperable form.</p>\n\n<p>Learn to love the grey file upload field, or use progressive enhancement to replace it with Flash where available.</p>\n",
                    "is_accepted": true,
                    "score": 29
                },
                {
                    "body": "<p>Here's the workaround (FF).\nThe HTML bit:</p>\n\n<pre><code>&lt;label&gt;Upload Business Logo&lt;/label&gt;\n&lt;input type=\"file\" name=\"logo\" id=\"logo\" class=\"file-upload\" /&gt;\n&lt;input type=\"text\" id=\"text-logo\" class=\"text-upload\" readonly/&gt;\n&lt;input type=\"button\" id=\"btn-logo\" class=\"btn-upload\" alt=\"\" /&gt;\n</code></pre>\n\n<p>CSS for the input file type:</p>\n\n<pre><code>.file-upload { display:none; }\n</code></pre>\n\n<p>The jQuery bit:</p>\n\n<pre><code>//bind click\n$('#btn-logo').click(function(event) {\n  $('#logo').click();\n});\n\n//capture selected filename\n$('#logo').change(function(click) {\n  $('#text-logo').val(this.value);\n});\n</code></pre>\n\n<p>Upon form submit, the hidden input file will upload the file.\nHope this helps :)</p>\n",
                    "is_accepted": false,
                    "score": 16
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/210643/in-javascript-can-i-make-a-click-event-fire-programmatically-for-a-file-input\">In JavaScript can I make a &ldquo;click&rdquo; event fire programmatically for a file input element?</a>  </p>\n</blockquote>\n\n\n\n<p>I've got a web page that looks like this</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;File Upload Click Test&lt;/title&gt;\n        &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div onclick=\"$('input[type=file]').click()\" &gt;CLICK SIMULATOR&lt;/div&gt;\n        &lt;input type=\"file\"&gt;&lt;/input&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>My goal is to have the <em>div</em> raise a click event on the <em>file input</em>, and this seems to work exactly as I'd expect in IE and Chrome, but doesn't work in Firefox (no file browser is opened when you click on the <em>div</em>).</p>\n\n<p>Is there a way to get this working in FF?</p>\n",
            "last_activity_date": 1411418417,
            "question_id": 1829774,
            "score": 21,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "file-upload"
            ],
            "title": "jQuery : simulating a click on a &lt;input type=&quot;file&quot; /&gt; doesn&#39;t work in Firefox?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>Assuming you have two <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date\"><code>Date</code> object</a>s, you can just subtract them to get the difference in milliseconds:</p>\n\n<pre><code>var difference = date2 - date1;\n</code></pre>\n\n<p>From there, you can use simple arithmetic to derive the other values.</p>\n",
                    "is_accepted": false,
                    "score": 34
                },
                {
                    "body": "<pre><code>var DateDiff = {\n\n    inDays: function(d1, d2) {\n        var t2 = d2.getTime();\n        var t1 = d1.getTime();\n\n        return parseInt((t2-t1)/(24*3600*1000));\n    },\n\n    inWeeks: function(d1, d2) {\n        var t2 = d2.getTime();\n        var t1 = d1.getTime();\n\n        return parseInt((t2-t1)/(24*3600*1000*7));\n    },\n\n    inMonths: function(d1, d2) {\n        var d1Y = d1.getFullYear();\n        var d2Y = d2.getFullYear();\n        var d1M = d1.getMonth();\n        var d2M = d2.getMonth();\n\n        return (d2M+12*d2Y)-(d1M+12*d1Y);\n    },\n\n    inYears: function(d1, d2) {\n        return d2.getFullYear()-d1.getFullYear();\n    }\n}\n\nvar dString = \"May, 20, 1984\";\n\nvar d1 = new Date(dString);\nvar d2 = new Date();\n\ndocument.write(\"&lt;br /&gt;Number of &lt;b&gt;days&lt;/b&gt; since \"+dString+\": \"+DateDiff.inDays(d1, d2));\ndocument.write(\"&lt;br /&gt;Number of &lt;b&gt;weeks&lt;/b&gt; since \"+dString+\": \"+DateDiff.inWeeks(d1, d2));\ndocument.write(\"&lt;br /&gt;Number of &lt;b&gt;months&lt;/b&gt; since \"+dString+\": \"+DateDiff.inMonths(d1, d2));\ndocument.write(\"&lt;br /&gt;Number of &lt;b&gt;years&lt;/b&gt; since \"+dString+\": \"+DateDiff.inYears(d1, d2));\n</code></pre>\n\n<p>Code sample taken from <a href=\"http://ditio.net/2010/05/02/javascript-date-difference-calculation/\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 33
                },
                {
                    "body": "<p>Simply, with the normal difference you can get the difference between two dates. Use \n<code>Date.GetTime()</code> to get the time from a date and subtract, for more refer to <a href=\"http://www.javascriptkit.com/javatutors/datedifference.shtml\" rel=\"nofollow\">this</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Expressions like \"difference in days\" are never as simple as they seem. If you have the following dates:</p>\n\n<pre><code>d1: 2011-10-15 23:59:00\nd1: 2011-10-16 00:01:00\n</code></pre>\n\n<p>the difference in time is 2 minutes, should the \"difference in days\" be 1 or 0? Similar issues arise for any expression of the difference in months, years or whatever since years, months and days are of different lengths and different times (e.g. the day that daylight saving starts is 1 hour shorter than usual and two hours shorter than the day that it ends).</p>\n\n<p>Here is a function for a difference in days that ignores the time, i.e. for the above dates it returns 1.</p>\n\n<pre><code>/*\n   Get the number of days between two dates - not inclusive.\n\n   \"between\" does not include the start date, so days\n   between Thursday and Friday is one, Thursday to Saturday\n   is two, and so on. Between Friday and the following Friday is 7.\n\n   e.g. getDaysBetweenDates( 22-Jul-2011, 29-jul-2011) =&gt; 7.\n\n   If want inclusive dates (e.g. leave from 1/1/2011 to 30/1/2011),\n   use date prior to start date (i.e. 31/12/2010 to 30/1/2011).\n\n   Only calculates whole days.\n\n   Assumes d0 &lt;= d1\n*/\nfunction getDaysBetweenDates(d0, d1) {\n\n  var msPerDay = 8.64e7;\n\n  // Copy dates so don't mess them up\n  var x0 = new Date(d0);\n  var x1 = new Date(d1);\n\n  // Set to noon - avoid DST errors\n  x0.setHours(12,0,0);\n  x1.setHours(12,0,0);\n\n  // Round to remove daylight saving errors\n  return Math.round( (x1 - x0) / msPerDay );\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>var d1=new Date(2011,0,1); // jan,1 2011\nvar d2=new Date(); // now\n\nvar diff=d2-d1,sign=diff&lt;0?-1:1,milliseconds,seconds,minutes,hours,days;\ndiff/=sign; // or diff=Math.abs(diff);\ndiff=(diff-(milliseconds=diff%1000))/1000;\ndiff=(diff-(seconds=diff%60))/60;\ndiff=(diff-(minutes=diff%60))/60;\ndays=(diff-(hours=diff%24))/24;\n\nconsole.info(sign===1?\"Elapsed: \":\"Remains: \",\n             days+\" days, \",\n             hours+\" hours, \",\n             minutes+\" minutes, \",\n             seconds+\" seconds, \",\n             milliseconds+\" milliseconds.\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>function DateDiff(date1, date2) {\n    date1.setHours(0);\n    date1.setMinutes(0, 0, 0);\n    date2.setHours(0);\n    date2.setMinutes(0, 0, 0);\n    var datediff = Math.abs(date1.getTime() - date2.getTime()); // difference \n    return parseInt(datediff / (24 * 60 * 60 * 1000), 10); //Convert values days and return value      \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;script&gt;\nfunction getDateDiff(time1, time2) {\nvar str1= time1.split('/');\nvar str2= time2.split('/');\nvar t1 = new Date(str1[2], str1[0]-1, str1[1]);\nvar t2 = new Date(str2[2], str2[0]-1, str2[1]);\n\nvar diffMS = t1 - t2;    \nconsole.log(diffMS + ' ms');\n\nvar diffS = diffMS / 1000;    \nconsole.log(diffS + ' ');\n\nvar diffM = diffS / 60;\nconsole.log(diffM + ' minutes');\n\nvar diffH = diffM / 60;\nconsole.log(diffH + ' hours');\n\nvar diffD = diffH / 24;\nconsole.log(diffD + ' days');\nalert(diffD);\n}\n\n//alert(getDateDiff('10/18/2013','10/14/2013'));\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;input type=\"button\" onclick=\"getDateDiff('10/18/2013','10/14/2013')\" value=\"clickHere()\" /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Another solution is convert difference to a new Date object and get that date's year(diff from 1970), month, day etc.</p>\n\n<pre><code>var date1 = new Date(2010, 6, 17);\nvar date2 = new Date(2013, 12, 18);\nvar diff = new Date(date2.getTime() - date1.getTime());\n// diff is: Thu Jul 05 1973 04:00:00 GMT+0300 (EEST)\n\nconsole.log(diff.getUTCFullYear() - 1970); // Gives difference as year\n// 3\n\nconsole.log(diff.getUTCMonth()); // Gives month count of difference\n// 6\n\nconsole.log(diff.getUTCDate() - 1); // Gives day count of difference\n// 4\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>you can also use this very easy to use date manipulation library <a href=\"http://www.datejs.com/\" rel=\"nofollow\">http://www.datejs.com/</a></p>\n\n<p>ex: </p>\n\n<pre><code>// Add 3 days to Today\nDate.today().add(3).days();\n</code></pre>\n\n<p>(Works very well with date formatting libraries)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to calculate date difference in days, hours, minutes, seconds, milliseconds, nanoseconds, how can I do it? Please suggest.</p>\n",
            "last_activity_date": 1389194066,
            "question_id": 7763327,
            "score": 19,
            "tags": [
                "javascript",
                "datetime"
            ],
            "title": "How to calculate date difference in javascript"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Yes, they are. They are actually hash tables internally, so you can use not only large integers but also strings, floats, or other objects. All keys get converted to strings via <code>toString()</code> before being added to the hash. You can confirm this with some test code:</p>\n\n<pre><code>&lt;script&gt;\n  var array = [];\n  array[0] = \"zero\";\n  array[new Date().getTime()] = \"now\";\n  array[3.14] = \"pi\";\n\n  for (var i in array) {\n      alert(\"array[\"+i+\"] = \" + array[i] + \", typeof(\"+i+\") == \" + typeof(i));\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>Displays:</p>\n\n<pre><code>array[0] = zero, typeof(0) == string\narray[1254503972355] = now, typeof(1254503972355) == string\narray[3.14] = pi, typeof(3.14) == string\n</code></pre>\n\n<p>Notice how I used <code>for...in</code> syntax, which only gives you the indices that are actually defined. If you use the more common <code>for (var i = 0; i &lt; array.length; ++i)</code> style of iteration then you will obviously have problems with non-standard array indices.</p>\n",
                    "is_accepted": false,
                    "score": 34
                },
                {
                    "body": "<p>How exactly JavaScript arrays are implemented differs from browser to browser, but they generally fall back to a sparse implementation - most likely the same one used for property access of regular objects - if using an actual array would be inefficient.</p>\n\n<p>You'll have to ask someone with more knowledge about specific implementations to answer what excatly triggers the shift from dense to sparse, but your example should be perfectly safe. If you want to get a dense array, you should call the constructor with an explicit length argument and hope you'll actually get one.</p>\n\n<p>See <a href=\"http://stackoverflow.com/questions/614126/why-is-array-push-sometimes-faster-than-arrayn-value/614255#614255\">this answer</a> for a more detailed description by olliej.</p>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>Javascript objects are sparse, and arrays are just specialized objects with an auto-maintained length property (which is actually one larger than the largest index, <em>not</em> the number of defined elements) and some additional methods.  You are safe either way; use an array if you need it's extra features, and an object otherwise.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You could avoid the issue by using a javascript syntax designed for this sort of thing.  You can treat it as a dictionary, yet the \"for ... in ... \" syntax will let you grab them all.</p>\n\n<pre><code>var sparse = {}; // not []\nsparse[\"whatever\"] = \"something\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>In general, arrays in JavaScript are sparse, but we can make them as dense as well as :\nspare array:-\n   var a = new Array(3);</p>\n\n<blockquote>\n  <p>a\n     [ , ,  ]\n  a.length\n     3\n  a[0]\n     undefined</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>That is, if I use the current time as an index into the array:</p>\n\n<pre><code>array[Date.getTime()] = value;\n</code></pre>\n\n<p>will the interpreter instantiate all the elements from 0 to now?  Do different browsers do it differently?</p>\n\n<p>I remember there used to be a bug in the AIX kernel, which would create pseudo-ttys on request, but if you did, say, \"echo > /dev/pty10000000000\" it would create /dev/pty0, /dev/pty1, .... and then fall over dead.  It was fun at trade shows, but I don't want this to happen to my customers.</p>\n",
            "last_activity_date": 1419239431,
            "question_id": 1510778,
            "score": 52,
            "tags": [
                "javascript",
                "sparse-array"
            ],
            "title": "Are Javascript arrays sparse?"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p><code>className</code> is just a string so you can use the regular <a href=\"http://www.quirksmode.org/js/strings.html#indexof\" rel=\"nofollow\">indexOf</a> function to see if the list of classes contains another string.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Using <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/String/indexOf\"><code>indexOf</code></a> is correct, but you have to tweak it a little:</p>\n\n<pre><code>function hasClass(element, cls) {\n    return (' ' + element.className + ' ').indexOf(' ' + cls + ' ') &gt; -1;\n}\n</code></pre>\n\n<p>Otherwise you will also get <code>true</code> if the class you are looking for is part of another class name.</p>\n\n<p><a href=\"http://jsfiddle.net/fkling/zBKCC/\"><strong>DEMO</strong></a></p>\n\n<p>jQuery uses a similar (if not the same) method.</p>\n\n<hr>\n\n<p><strong>Alternatively</strong>, if you work with a browser which supports <a href=\"https://developer.mozilla.org/en-US/docs/DOM/element.classList\"><code>element.classList</code></a>, you can use its <code>.contains</code> method:</p>\n\n<pre><code>element.classList.contains(cls);\n</code></pre>\n\n<p>For cross-browser compatibility (especially for IE) you might still want to create a <code>hasClass</code> function and make the test in there.</p>\n\n<hr>\n\n<p><strong>Applied to the example:</strong></p>\n\n<p>As this does not work together with the switch statement, you could achieve the same effect with this code:</p>\n\n<pre><code>var test = document.getElementById(\"test\"),\n    classes = ['class1', 'class2', 'class3', 'class4'];\n\ntest.innerHTML = \"\";\n\nfor(var i = 0, j = classes.length; i &lt; j; i++) {\n    if(hasClass(test, classes[i])) {\n        test.innerHTML = \"I have \" + classes[i];\n        break;\n    }\n}\n</code></pre>\n\n<p>It's also less redundant ;)</p>\n",
                    "is_accepted": true,
                    "score": 96
                },
                {
                    "body": "<p>Try this one:</p>\n\n<pre><code>document.getElementsByClassName = function(cl) {\n   var retnode = [];\n   var myclass = new RegExp('\\\\b'+cl+'\\\\b');\n   var elem = this.getElementsByTagName('*');\n   for (var i = 0; i &lt; elem.length; i++) {\n       var classes = elem[i].className;\n       if (myclass.test(classes)) retnode.push(elem[i]);\n   }\n    return retnode;\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's a case-insensitive trivial solution:</p>\n\n<pre><code>function hasClass(element, classNameToTestFor) {\n    var classNames = element.className.split(' ');\n    for (var i = 0; i &lt; classNames.length; i++) {\n        if (classNames[i].toLowerCase() == classNameToTestFor.toLowerCase()) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>A simplified oneliner:<sup><b>1</b></sup></p>\n\n<pre><code>function hasClassName(classname,id) {\n return  String ( ( document.getElementById(id)||{} ) .className )\n         .split(/\\s/)\n         .indexOf(classname) &gt;= 0;\n}\n</code></pre>\n\n<p><sup><b>1</b></sup> <code>indexOf</code> for arrays is not supported by IE (ofcourse). There are plenty of monkey patches to be found on the net for that.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<ol>\n<li><p>Felix's trick of adding spaces to flank the className and the string you're searching for is the right approach to determining whether the elements has the class or not.</p></li>\n<li><p>To have different behaviour according to the class, you may use function references, or functions, within a map:</p>\n\n<pre><code>function fn1(element){ /* code for element with class1 */ }\n\nfunction fn2(element){ /* code for element with class2 */ }\n\nfunction fn2(element){ /* code for element with class3 */ }\n\nvar fns={'class1': fn1, 'class2': fn2, 'class3': fn3};\n\nfor(var i in fns) {\n    if(hasClass(test, i)) {\n        fns[i](test);\n    }\n}\n</code></pre>\n\n<ul>\n<li>for(var i in fns) iterates through the keys within the fns map.</li>\n<li>Having no break after fnsi allows the code to be executed whenever there is a match - so that if the element has, f.i., class1 and class2, both fn1 and fn2 will be executed.</li>\n<li>The advantage of this approach is that the code to execute for each class is arbitrary, like the one in the switch statement; in your example all the cases performed a similar operation, but tomorrow you may need to do different things for each.</li>\n<li>You may simulate the default case by having a status variable telling whether a match was found in the loop or not.</li>\n</ul></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Since he wants to use switch(), I'm surprised no one has put this forth yet:</p>\n\n<pre><code>var test = document.getElementById(\"test\");\nvar testClasses = test.className.split(\" \");\ntest.innerHTML = \"\";\nfor(var i=0; i&lt;testClasses.length; i++) {\n    switch(testClasses[i]) {\n        case \"class1\": test.innerHTML += \"I have class1&lt;br/&gt;\"; break;\n        case \"class2\": test.innerHTML += \"I have class2&lt;br/&gt;\"; break;\n        case \"class3\": test.innerHTML += \"I have class3&lt;br/&gt;\"; break;\n        case \"class4\": test.innerHTML += \"I have class4&lt;br/&gt;\"; break;\n        default: test.innerHTML += \"(unknown class:\" + testClasses[i] + \")&lt;br/&gt;\";\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is a little old, but maybe someone will find my solution helpfull:</p>\n\n<pre><code>// Fix IE's indexOf Array\nif (!Array.prototype.indexOf) {\n    Array.prototype.indexOf = function (searchElement) {\n        if (this == null) throw new TypeError();\n        var t = Object(this);\n        var len = t.length &gt;&gt;&gt; 0;\n        if (len === 0) return -1;\n        var n = 0;\n        if (arguments.length &gt; 0) {\n            n = Number(arguments[1]);\n            if (n != n) n = 0;\n            else if (n != 0 &amp;&amp; n != Infinity &amp;&amp; n != -Infinity) n = (n &gt; 0 || -1) * Math.floor(Math.abs(n));\n        }\n        if (n &gt;= len) return -1;\n        var k = n &gt;= 0 ? n : Math.max(len - Math.abs(n), 0);\n        for (; k &lt; len; k++) if (k in t &amp;&amp; t[k] === searchElement) return k;\n        return -1;\n    }\n}\n// add hasClass support\nif (!Element.prototype.hasClass) {\n    Element.prototype.hasClass = function (classname) {\n        if (this == null) throw new TypeError();\n        return this.className.split(' ').indexOf(classname) === -1 ? false : true;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think that perfect solution will be this</p>\n\n<pre><code>if ($(this).hasClass(\"your_Class\")) \n    alert(\"positive\");            \nelse              \n    alert(\"Negative\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I would Poly fill the classList functionality and use the new syntax. This way newer browser will use the new implementation (which is much faster) and only old browsers will take the performance hit from the code.</p>\n\n<p><a href=\"https://github.com/remy/polyfills/blob/master/classList.js\" rel=\"nofollow\">https://github.com/remy/polyfills/blob/master/classList.js</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've creating a prototype method which uses <code>classList</code> if possible, else resorts to <code>indexOf</code>:</p>\n\n<pre><code>if( !Element.prototype.hasClass ){\n    Element.prototype.hasClass = 'classList' in Element.prototype ?\n        function(classArr){\n            if( this == null || !classArr ) throw new TypeError();\n            if( !(classArr instanceof Array) )\n                classArr = [classArr];\n\n            for( var i in classArr )\n                if( this.classList.contains(classArr[i]) )\n                    return true;\n            return false;\n        } :\n        function(classArr){\n            if( this == null || !classArr ) throw new TypeError();\n            if( !(classArr instanceof Array) )\n                    classArr = [classArr];\n\n            for( var i in classArr )\n                if( this.className.split(' ').indexOf(classArr[i]) != -1 )\n                    return true;\n            return false;\n        }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If the element only has one class name you can quickly check it by getting the class attribute.  The other answers are much more robust but this certainly has it's use cases.</p>\n\n<pre><code>if ( element.getAttribute('class') === 'classname' ) {\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Using plain JavaScript (not jQuery), is there a way I can test to see if an element <em>contains</em> a class?</p>\n\n<p>Currently, I'm doing this:</p>\n\n<p>HTML:</p>\n\n<pre>\n&lt;div id=\"test\" class=\"class1\"&gt;&lt;/div&gt;\n</pre>\n\n<p>JS:</p>\n\n<pre>\nvar test = document.getElementById(\"test\");\nvar testClass = test.className;\nswitch(testClass){\n    case \"class1\": test.innerHTML = \"I have class1\"; break;\n    case \"class2\": test.innerHTML = \"I have class2\"; break;\n    case \"class3\": test.innerHTML = \"I have class3\"; break;\n    case \"class4\": test.innerHTML = \"I have class4\"; break;\n    default: test.innerHTML = \"\";\n}\n</pre>\n\n<p>This results in this output, which is correct:</p>\n\n<pre>\nI have class1\n</pre>\n\n<p>The issue is that if I change the HTML to this...</p>\n\n<pre>\n&lt;div id=\"test\" class=\"class1 class5\"&gt;&lt;/div&gt;\n</pre>\n\n<p>...there's no longer an exact match, so I get the default output of nothing (<code>\"\"</code>). But I still want the output to be <code>I have class1</code> because the <code>&lt;div&gt;</code> still <em>contains</em> the .class1 class.</p>\n",
            "last_activity_date": 1421527259,
            "question_id": 5898656,
            "score": 47,
            "tags": [
                "javascript",
                "css",
                "dom"
            ],
            "title": "Test if an element contains a class?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You could take the regex that validates YYYY/MM/DD and flip it around to get what you need for DD/MM/YYYY:</p>\n\n<pre><code>/^(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}$/\n</code></pre>\n\n<p>BTW - this regex validates for either DD/MM/YYYY or DD-MM-YYYY</p>\n\n<p>P.S. This will allow dates such as 31/02/4899</p>\n",
                    "is_accepted": false,
                    "score": 34
                },
                {
                    "body": "<p>A regex is good for matching the general format but I think you should move parsing to the Date class, e.g.:</p>\n\n<pre><code>function parseDate(str) {\n  var m = str.match(/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/);\n  return (m) ? new Date(m[3], m[2]-1, m[1]) : null;\n}\n</code></pre>\n\n<p>Now you can use this function to check for valid dates; however, if you need to actually validate without rolling (e.g. \"31/2/2010\" doesn't automatically roll to \"3/3/2010\") then you've got another problem.</p>\n\n<p><strong>[Edit]</strong> If you also want to validate without rolling then you could add a check to compare against the original string to make sure it is the same date:</p>\n\n<pre><code>function parseDate(str) {\n  var m = str.match(/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/)\n    , d = (m) ? new Date(m[3], m[2]-1, m[1]) : null\n    , nonRolling = (d&amp;&amp;(str==[d.getDate(),d.getMonth()+1,d.getFullYear()].join('/')));\n  return (nonRolling) ? d : null;\n}\n</code></pre>\n\n<p><strong>[Edit2]</strong> If you want to match against zero-padded dates (e.g. \"08/08/2013\") then you could do something like this:</p>\n\n<pre><code>function parseDate(str) {\n  function pad(x){return (((''+x).length==2) ? '' : '0') + x; }\n  var m = str.match(/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/)\n    , d = (m) ? new Date(m[3], m[2]-1, m[1]) : null\n    , matchesPadded = (d&amp;&amp;(str==[pad(d.getDate()),pad(d.getMonth()+1),d.getFullYear()].join('/')))\n    , matchesNonPadded = (d&amp;&amp;(str==[d.getDate(),d.getMonth()+1,d.getFullYear()].join('/')));\n  return (matchesPadded || matchesNonPadded) ? d : null;\n}\n</code></pre>\n\n<p>However, it will still fail for inconsistently padded dates (e.g. \"8/08/2013\").</p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>If you are in Javascript already,  couldn't you just use Date.Parse() to validate a date instead of using regEx.</p>\n\n<p>RegEx for date is actually unwieldy and hard to get right especially with leap years and all.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Take a look from here <a href=\"http://forums.asp.net/t/1410702.aspx/1\">http://forums.asp.net/t/1410702.aspx/1</a></p>\n\n<p>Use this following Regular Expression Details, This will support leap year also.</p>\n\n<pre><code>var reg = /^(((0[1-9]|[12]\\d|3[01])\\/(0[13578]|1[02])\\/((19|[2-9]\\d)\\d{2}))|((0[1-9]|[12]\\d|30)\\/(0[13456789]|1[012])\\/((19|[2-9]\\d)\\d{2}))|((0[1-9]|1\\d|2[0-8])\\/02\\/((19|[2-9]\\d)\\d{2}))|(29\\/02\\/((1[6-9]|[2-9]\\d)(0[48]|[2468][048]|[13579][26])|((16|[2468][048]|[3579][26])00))))$/g;\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/oamiamgod/Vnbxj/\">Example</a></p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>do the following change jquery.validationengine-en.js in for dd/mm/yyyy inline validation including leap year</p>\n\n<pre><code>            \"date\": {\n                //  Check if date is valid by leap year\n        \"func\": function (field) {\n                //var pattern = new RegExp(/^(\\d{4})[\\/\\-\\.](0?[1-9]|1[012])[\\/\\-\\.](0?[1-9]|[12][0-9]|3[01])$/);\n                var pattern = new RegExp(/^(0?[1-9]|[12][0-9]|3[01])[\\/\\-\\.](0?[1-9]|1[012])[\\/\\-\\.](\\d{4})$/);\n                var match = pattern.exec(field.val());\n                if (match == null)\n                   return false;\n\n                //var year = match[1];\n                //var month = match[2]*1;\n                //var day = match[3]*1;\n                var year = match[3];\n                var month = match[2]*1;\n                var day = match[1]*1;\n                var date = new Date(year, month - 1, day); // because months starts from 0.\n\n                return (date.getFullYear() == year &amp;&amp; date.getMonth() == (month - 1) &amp;&amp; date.getDate() == day);\n            },\n            \"alertText\": \"* Invalid date, must be in DD-MM-YYYY format\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I use this function for dd/mm/yyyy format : </p>\n\n<pre><code>// (new Date()).fromString(\"3/9/2013\") : 3 of september\n// (new Date()).fromString(\"3/9/2013\", false) : 9 of march\nDate.prototype.fromString = function(str, ddmmyyyy) {\n    var m = str.match(/(\\d+)(-|\\/)(\\d+)(?:-|\\/)(?:(\\d+)\\s+(\\d+):(\\d+)(?::(\\d+))?(?:\\.(\\d+))?)?/);\n    if(m[2] == \"/\"){\n        if(ddmmyyyy === false)\n            return new Date(+m[4], +m[1] - 1, +m[3], m[5] ? +m[5] : 0, m[6] ? +m[6] : 0, m[7] ? +m[7] : 0, m[8] ? +m[8] * 100 : 0);\n        return new Date(+m[4], +m[3] - 1, +m[1], m[5] ? +m[5] : 0, m[6] ? +m[6] : 0, m[7] ? +m[7] : 0, m[8] ? +m[8] * 100 : 0);\n    }\n    return new Date(+m[1], +m[3] - 1, +m[4], m[5] ? +m[5] : 0, m[6] ? +m[6] : 0, m[7] ? +m[7] : 0, m[8] ? +m[8] * 100 : 0);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I know there are a lot of regex threads out there by I need a specific pattern I couldn't fin anywhere </p>\n\n<p>This regex validates in a YYYY-MM-DD format </p>\n\n<pre><code>/^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/\n</code></pre>\n\n<p>I need the pattern to be DD/MM/YYYY\n(day first since it's in spanish and only \"/\", \"-\" should not be allowed)</p>\n\n<p>I searched several regex libraries and I think this one should work... but since I'm not familiar with regex I'm not sure it validates like that</p>\n\n<pre><code>(0[1-9]|[12][0-9]|3[01])[ \\.-](0[1-9]|1[012])[ \\.-](19|20|)\\d\\d\n</code></pre>\n\n<p>I also don't know ho to escape the slashes, I try to \"see\" the logic in the string but it's like trying \"see\" the Matrix code for me. I'm placing the regex string in a options .js</p>\n\n<pre><code>[...]  },\n\"date\": {\n                    \"regex\": (0[1-9]|[12][0-9]|3[01])[ \\.-](0[1-9]|1[012])[ \\.-](19|20|)\\d\\d,\n                    \"alertText\": \"Alert text AAAA-MM-DD\"\n                },\n\"other type...\"[...]\n</code></pre>\n\n<p>So, if the regex is ok, how would I escape it? \nif it's not, what's the correct regex and how do I escape it? :P</p>\n\n<p>Thanks a lot</p>\n",
            "last_activity_date": 1406626327,
            "question_id": 5465375,
            "score": 16,
            "tags": [
                "javascript",
                "regex"
            ],
            "title": "Javascript date regex DD/MM/YYYY"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>AJAX requests call a URL (make a HTTP request), <em>not a file</em>, in most cases the URL is translated by the server to point at a file (or a php script in your case), but everything that happens from the HTTP request to the response that is received is up to you (on your server).</p>\n\n<p>There are many PHP frameworks that map URL's to specific php functions,  AJAX is just an asynchronous way to access a URL and receive a response.</p>\n\n<p>Said URL <strong>CAN</strong> trigger the server to call a specific function and send back a response.  But it is up to you to structure your URL's and server side code as such.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>If you're asking whether you can call any arbitrary PHP function with AJAX the answer is no*, for obvious security reasons (in addition to the technical reasons). You could make a PHP script that does different things depending on what parameter it's given (for example, execute a single function) if you don't want to create multiple separate files.</p>\n\n<p>*Although you could make a script that would execute any arbitrary PHP command coming from the client, but that would be very, very, <em>very</em> unwise.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I believe there's a fundamental misunderstanding of how the technology works here.</p>\n\n<p>AJAX (Javascript), Flash, or any client-sided technology cannot directly call PHP functions (or other languages running on the server).\nThis is true for going the other way around as well (eg: PHP can't call JS functions). </p>\n\n<p>Client and server codes reside on different machines, and they communicate through the HTTP protocol (or what have you). HTTP works roughly like this:</p>\n\n<p><img src=\"http://i.stack.imgur.com/eY5i4.jpg\" alt=\"Client-server model\"></p>\n\n<p><em>Client (eg: browser) sends a REQUEST -> Server processes request and sends a RESPONSE -> Client gets and displays and/or processes the response</em></p>\n\n<p>You have to see these requests and responses as messages. Messages cannot call functions on a server-side language directly <sup>1</sup>, but can furnish enough information for them to do so and get a meaningful message back from the server. </p>\n\n<p>So you could have a handler that processes and dispatches these requests, like so:</p>\n\n<pre><code>// ajax_handler.php\nswitch ($_POST['action']) {\n    case 'post_comment':\n        post_comment($_POST['content']);\n        break;\n    case '....':\n        some_function();\n        break;\n    default:\n        output_error('invalid request');\n        break;\n}\n</code></pre>\n\n<p>Then just have your client post requests to this centralized handler with the correct parameters. Then the handler decides what functions to call on the server side, and finally it sends a response back to the client.</p>\n\n<hr>\n\n<p><sup>1</sup> Technically there are <a href=\"http://en.wikipedia.org/wiki/Remote_procedure_call\" rel=\"nofollow\">remote procedure calls (RPCs)</a>, but these can get messy.</p>\n",
                    "is_accepted": false,
                    "score": 48
                },
                {
                    "body": "<p>Short answer is \"no\" but the real answer is that <strong>you can fake it</strong>.  NullUserException's answer is good.  You create a server that will take the function name and its parameters.  Then the server executes the function, and returns the value.</p>\n\n<p>This was done a while back via a protocol called XML-RPC.  There was also an effort called JSON-RPC that used some JS techniques.</p>\n\n<p>One things that's cool about JS is that you can do things like this:</p>\n\n<pre><code>var base64_decode = create_remote_call('base64_decode');\n\nfunction create_remote_call(name) {\n  return function(x) { \n    jQuery.getJSON('url/server.php',\n                   {func:name,arg:x},\n                   function(d){return d;}); \n  } \n}\n</code></pre>\n\n<p>A call to base64_decode('sarefdsfsaes') will make a ajax request and return the value.</p>\n\n<p>That code probably won't work because it hasn't been tested, but it's a function that produces a function that will call the server, and then return the value.  Handling more than one argument requires more work.</p>\n\n<p>All that said... in my experience, it's usually good to make all network communications explicit instead of disguising it as a regular function.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>you may achieve the same result using a bridge, like my phery library <a href=\"http://phery-php-ajax.net\" rel=\"nofollow\">http://phery-php-ajax.net</a> you can call PHP functions directly from Javascript and deal with the value. The AJAX is bound to DOM elements, so you can manipulate the calling DOM or just use jQuery from the PHP side. An example would be:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>Phery::instance()-&gt;set(array(\n  'phpfunction' =&gt; function(){\n     return PheryResponse::factory()-&gt;jquery('body')-&gt;addClass('whoops');\n  }\n))-&gt;process();\n</code></pre>\n\n<p>and in the javascript side (or HTML)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>phery.remote('phpfunction');  \n</code></pre>\n\n<p>the equivalent to the <a href=\"http://stackoverflow.com/a/7016986/647380\">http://stackoverflow.com/a/7016986/647380</a> from John Kawakami answer, using phery is:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>function base64($data){\n  return !empty($data['encode']) ? base64_encode($data['content']) : base64_decode($data['content']);\n}\n\nPhery::instance()-&gt;set(array(\n  'base64' =&gt; 'base64'\n))-&gt;process();\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>function base64(content, decode, output){\n  phery.remote('base64', {'content': content, 'encode': decode ? 1 : 0}, {'type':'text'}).done(output);\n}\n\nbase64('asdf', false, function(data){\n  console.log(data); // or assign to some variable\n});\n</code></pre>\n\n<p>since AJAX is asynchronous and you can't just return a value from the AJAX call, you need a callback, but this would suffice.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>So far when creating AJAX requests I have been posting to a separate PHP file. Is it possible to create a jQuery AJAX request that calls a PHP function rather than posts to a separate page?</p>\n\n<p>If you could send me any examples or documentation would be great.</p>\n",
            "last_activity_date": 1404553990,
            "question_id": 7016701,
            "score": 2,
            "tags": [
                "php",
                "javascript",
                "ajax",
                "jquery"
            ],
            "title": "Creating jQuery AJAX requests to a PHP function"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Most of the old cookie handling functions I've seen use simple string manipulations for storing an retrieving values, like <a href=\"http://www.w3schools.com/JS/js_cookies.asp\" rel=\"nofollow\">this</a> example, you can use other libraries, like <a href=\"http://code.google.com/p/cookie-js/\" rel=\"nofollow\">cookie-js</a>, a small <em>(&lt; 100 lines)</em> utility for cookie access.</p>\n\n<p>I personally use jQuery on my projects, and I use the <a href=\"http://plugins.jquery.com/cookie/\" rel=\"nofollow\">jQuery Cookie Plugin</a>, it's really simple to use:</p>\n\n<pre><code>var cookieName = \"increment\";\n\nif ($.cookie(cookieName) == null){\n  $.cookie(cookieName, 1, { expires: 10 });\n}else{\n  var newValue = Number($.cookie(cookieName)) + 1;\n  $.cookie(cookieName, newValue, { expires: 10 });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Stolen from <a href=\"http://www.quirksmode.org/js/cookies.html#script\" rel=\"nofollow\">http://www.quirksmode.org/js/cookies.html#script</a></p>\n\n<pre><code>function createCookie(name,value,days) {\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime()+(days*24*60*60*1000));\n        var expires = \"; expires=\"+date.toUTCString();\n    }\n    else var expires = \"\";\n    document.cookie = name+\"=\"+value+expires+\"; path=/\";\n}\n\nfunction readCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n    for(var i=0;i &lt; ca.length;i++) {\n        var c = ca[i];\n        while (c.charAt(0)==' ') c = c.substring(1,c.length);\n        if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n    }\n    return null;\n}\n\nfunction eraseCookie(name) {\n    createCookie(name,\"\",-1);\n}\n</code></pre>\n\n<p>using it:</p>\n\n<pre><code>var oldCount = parseInt(readCookie('hitCount'), 10) || 0;\ncreateCookie('hitCount', oldCount + 1, 7);\n</code></pre>\n\n<p>as pointed out in the comments, you should cast to an int since cookies are stored and returned as strings. Using <code>foo++</code> or <code>++foo</code> will actually cast for you, but it's safer to know exactly what you're working with:</p>\n\n<pre><code>var x = \"5\";  // x = \"5\" (string)\nx += 1;       // x = \"51\" (string!)\nx += 5;       // x = \"515\" (string!)\n++x;          // x = 516 (number)\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>the best way is always the simplest:</p>\n\n<pre><code>function getCookie(name) {\n  return (name = (document.cookie + ';').match(new RegExp(name + '=.*;'))) &amp;&amp; name[0].split(/=|;/)[1];\n}\n\n// the default lifetime is 365 days\nfunction setCookie(name, value, days) {\n  var e = new Date;\n  e.setDate(e.getDate() + (days || 365));\n  document.cookie = name + \"=\" + value + ';expires=' + e.toUTCString() + ';path=/;domain=.' + document.domain;\n}\n</code></pre>\n\n<p>these functions expect the value to be a simple string, but you can always JSON.stringify it if you want or maybe do something else with it...</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to increment a cookie value every time a page is referenced even if the page is loaded from cache. What is the \"best\" or most concise way to implement this?</p>\n",
            "last_activity_date": 1403076631,
            "question_id": 260749,
            "score": 12,
            "tags": [
                "javascript",
                "cookies"
            ],
            "title": "What is the &quot;best&quot; way to get and set a single cookie value using JavaScript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>So you need a <strong>natural sort</strong> ?</p>\n\n<p>If so, than maybe <a href=\"http://web.archive.org/web/20130826203933/http://my.opera.com/GreyWyvern/blog/show.dml/1671288\" rel=\"nofollow\">this script by Brian Huisman based on David koelle's work</a> would be what you need.</p>\n\n<p>It seems like Brian Huisman's solution is now directly hosted on David Koelle's blog:</p>\n\n<ul>\n<li><a href=\"http://www.davekoelle.com/files/alphanum.js\" rel=\"nofollow\">Brian Huisman's javascript solutions</a></li>\n<li><a href=\"http://www.davekoelle.com/alphanum.html\" rel=\"nofollow\">David koelle's article on the subject</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>To compare values you can use a comparing method-</p>\n\n<pre><code>function naturalSorter(as, bs){\n    var a, b, a1, b1, i= 0, n, L,\n    rx=/(\\.\\d+)|(\\d+(\\.\\d+)?)|([^\\d.]+)|(\\.\\D+)|(\\.$)/g;\n    if(as=== bs) return 0;\n    a= as.toLowerCase().match(rx);\n    b= bs.toLowerCase().match(rx);\n    L= a.length;\n    while(i&lt;L){\n        if(!b[i]) return 1;\n        a1= a[i],\n        b1= b[i++];\n        if(a1!== b1){\n            n= a1-b1;\n            if(!isNaN(n)) return n;\n            return a1&gt;b1? 1:-1;\n        }\n    }\n    return b[i]? -1:0;\n}\n</code></pre>\n\n<p>But for speed in sorting an array, rig the array before sorting,\nso you only have to do lower case conversions and the regular expression\nonce instead of in every step through the sort.</p>\n\n<pre><code>function naturalSort(ar, index){\n    var L= ar.length, i, who, next, \n    isi= typeof index== 'number', \n    rx=  /(\\.\\d+)|(\\d+(\\.\\d+)?)|([^\\d.]+)|(\\.(\\D+|$))/g;\n    function nSort(aa, bb){\n        var a= aa[0], b= bb[0], a1, b1, i= 0, n, L= a.length;\n        while(i&lt;L){\n            if(!b[i]) return 1;\n            a1= a[i];\n            b1= b[i++];\n            if(a1!== b1){\n                n= a1-b1;\n                if(!isNaN(n)) return n;\n                return a1&gt;b1? 1: -1;\n            }\n        }\n        return b[i]!= undefined? -1: 0;\n    }\n    for(i= 0; i&lt;L; i++){\n        who= ar[i];\n        next= isi? ar[i][index] || '': who;\n        ar[i]= [String(next).toLowerCase().match(rx), who];\n    }\n    ar.sort(nSort);\n    for(i= 0; i&lt;L; i++){\n        ar[i]= ar[i][1];\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>I'm looking for the easiest way to sort an array that consists of numbers and text, and a combination of these.</p>\n\n<p>E.g.</p>\n\n<pre><code>'123asd'\n'19asd'\n'12345asd'\n'asd123'\n'asd12'\n</code></pre>\n\n<p>turns into</p>\n\n<pre><code>'19asd'\n'123asd'\n'12345asd'\n'asd12'\n'asd123'\n</code></pre>\n\n<p>This is going to be used in combination with the solution to <a href=\"http://stackoverflow.com/questions/2793847/sort-outer-array-based-on-values-in-inner-array-javascript\">another question I've asked here</a>.</p>\n\n<p>The sorting function in itself works, what I need is a function that can say that that '19asd' is smaller than '123asd'.</p>\n\n<p>I'm writing this in JavaScript.</p>\n\n<p>Edit: as <em>adormitu</em> pointed out, what I'm looking for is a function for natural sorting</p>\n",
            "last_activity_date": 1423149194,
            "question_id": 2802341,
            "score": 10,
            "tags": [
                "javascript",
                "sorting",
                "natural-sort"
            ],
            "title": "Javascript : natural sort of alphanumerical strings"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>It is not possible to add a column to the jqGrid dynamically. You have to recreate the whole grid with <code>colModel</code> having one column more. If you use separate <code>colNames</code>, then the size of the array have to be increased too. You can use <a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki:methods#add_on_grid_methods\" rel=\"nofollow\">GridDestroy</a> for example to destroy the existing grid. The usage of <code>jQuery.Remove</code> or <code>jQuery.Empty</code> instead is also possible.</p>\n\n<p><strong>UPDATED</strong>: It seems to me that <a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki:methods#add_on_grid_methods\" rel=\"nofollow\">GridUnload</a> is better for your porpose. I created <a href=\"http://www.ok-soft-gmbh.com/jqGrid/RecreateGrid.htm\" rel=\"nofollow\">small demo</a> which demonstrate how one can recreate a grid. To be able to use <a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki:methods#add_on_grid_methods\" rel=\"nofollow\">GridUnload</a> or <a href=\"http://www.trirand.com/jqgridwiki/doku.php?id=wiki:methods#add_on_grid_methods\" rel=\"nofollow\">GridDestroy</a> you have to verify that you include grid.custom.js in your project (if you use developer version of the jqGrid) or you have checked \"Custom\" \"Additinal methods\" on the <a href=\"http://www.trirand.com/blog/?page_id=6\" rel=\"nofollow\">jqGrid download</a> page.</p>\n\n<p><strong>UPDATED 2</strong>: One can use <code>addColumn</code> method which can be downloaded from <a href=\"https://github.com/OlegKi/jqGrid-plugins\" rel=\"nofollow\">here</a> (see <code>jQuery.jqGrid.addColumn.js</code>). The method is still in beta phase. One can find some demos which shows how to use the method <a href=\"https://github.com/OlegKi/jqGrid-plugins/tree/master/demos\" rel=\"nofollow\">here</a> (see <code>addColumnX.htm</code> examples).</p>\n",
                    "is_accepted": true,
                    "score": 24
                },
                {
                    "body": "<p>just use </p>\n\n<pre><code>$(\"#gridid\").jqGrid('GridUnload');\n</code></pre>\n\n<p>it will unload grid totally and will be ready to load again with new columns and data.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can simply set the new column model and reload the grid: </p>\n\n<pre><code>var newColModel = $(\"#myGrid\").jqGrid(\"getGridParam\", \"colModel\").concat({ /* new column attributes */ });\n$(\"#myGrid\").jqGrid(\"setGridParam\", {colModel: newColModel}).trigger(\"reloadGrid\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>rownumbers: true,\nand\nrownumWidth:25(default)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I found that in jqGrid plugin for JQuery I can add rows dynamically, but can I do the same with columns? If there would be a simple table I'd prefer to do this manually by hands, but jqGrid stores table information in a lot of divs.</p>\n",
            "last_activity_date": 1418824085,
            "question_id": 4232038,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "table",
                "jqgrid"
            ],
            "title": "jqGrid add new column"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Just change the way the JavaScript block is loaded to <code>no wrap (head)</code></p>\n\n<p><img src=\"http://i.stack.imgur.com/EetMb.png\" alt=\"enter image description here\"></p>\n\n<p>The standard setting here is that the JS is wrapped(!) to be run after the DOM has loaded. That means the function is not defined in global scope but inside the wrapper. Inline event handlers only work with globally defined functions though!</p>\n\n<p>When setting to <code>no wrap (head)</code> the JS is loaded in the <code>&lt;head&gt;</code> and is not wrapped.</p>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>Sorry if this is incredibly obvious, but I have no idea why this isn't working.</p>\n\n<p>I'm trying to create a jsFiddle. However, I don't seem to be able to attach any of the javscript to any of the elements. For example, onclick is not calling my js function.</p>\n\n<p>It doesn't get any simpler than this fiddle. I copy-pasted it from the W3 editor where it works just fine - click the button, get alert!</p>\n\n<pre><code>&lt;button onclick=\"myFunction()\"&gt;Click me&lt;/button&gt;\n\nfunction myFunction() {alert(\"sss\");}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/tpip/NYkQN/2/\">http://jsfiddle.net/tpip/NYkQN/2/</a></p>\n\n<p>What am I missing here??</p>\n",
            "last_activity_date": 1421080595,
            "question_id": 14499783,
            "score": 6,
            "tags": [
                "javascript",
                "jsfiddle"
            ],
            "title": "jsFiddle: no connection between html and js? Can&#39;t call simple function from button?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I don't think it can be done in every browser. Someone has done it in IE6, but it does not work in FF or Opera (AFAIK). Maybe you can get it to work in all the browsers.</p>\n\n<p><a href=\"http://geekswithblogs.net/svanvliet/archive/2005/03/24/textarea-cursor-position-with-javascript.aspx\" rel=\"nofollow\">Here's a blog post from 2005</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Note: this answer describes how to get the <strong>character co-ordinates</strong> of the text-cursor/caret. To find the pixel-co-ordinates, you'll need to extend this further.</p>\n\n<p>The first thing to remember is that the cursor can be in three states</p>\n\n<ul>\n<li>a regular insertion cursor at a specific position</li>\n<li>a text selection that has a certain bounded area</li>\n<li>not active: textarea does not have focus. Has not been used.</li>\n</ul>\n\n<p>The IE model uses the Object document.selection, from this we can get a TextRange object which gives us access to the selection and thus the cursor position(s).</p>\n\n<p>The FF model/Opera uses the handy variables [input].selectionStart and selectionEnd.</p>\n\n<p>Both models represent a regular ative cursor as a zero-width selection, with the left bound being the cursor position.</p>\n\n<p>If the input field does not have focus, you may find that neither is set.\nI have had good success with the following code to insert a piece of text at the current cursor location, also replacing the current selection, if present.\nDepending on the exact browser, YMMV.</p>\n\n<pre><code>function insertAtCursor(myField, myValue) {\n\n/* selecion model - ie */\nif (document.selection) {\n  myField.focus();\n  sel = document.selection.createRange();\n  sel.text = myValue;\n}\n\n/* field.selectionstart/end  firefox */ \nelse if (myField.selectionStart || myField.selectionStart == '0' ) {\n\n  var startPos = myField.selectionStart;\n  var endPos = myField.selectionEnd;\n  myField.value = myField.value.substring(0, startPos)\n    + myValue\n    + myField.value.substring(endPos, myField.value.length);\n\n  myField.selectionStart = startPos + myValue.length;\n  myField.selectionEnd = startPos + myValue.length;\n  myField.focus();\n} \n\n// cursor not active/present\nelse {\n  myField.value += myValue;\n}\n</code></pre>\n\n<p>Bug Note: links are not being correctly marked up in the top para.</p>\n\n<p>Selection object: <a href=\"http://msdn.microsoft.com/en-us/library/ms535869\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/ms535869</a>(VS.85).aspx<br />\nTextRange object: <a href=\"http://msdn.microsoft.com/en-us/library/ms535872\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/ms535872</a>(VS.85).aspx</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Pat, I think the functionality you are looking for only exists in IE. <a href=\"http://msdn.microsoft.com/en-us/library/ms536394.aspx\" rel=\"nofollow\">MSDN.</a> But this is not an official JS thing nor is it implemented in other browsers so I don't recommend using it.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I've looked for a textarea caret coordinates plugin for <a href=\"https://github.com/mizzao/meteor-autocomplete\">meteor-autocomplete</a>, so I've evaluated all the 8 plugins on GitHub. The winner is, by far, <a href=\"https://github.com/component/textarea-caret-position\">textarea-caret-position</a> from <strong>Component</strong>.</p>\n\n<h2>Features</h2>\n\n<ul>\n<li>pixel precision</li>\n<li>no dependencies whatsoever</li>\n<li>browser compatibility: Chrome, Safari, Firefox (despite <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=753662\">two</a> <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=984275\">bugs</a> it has), IE9+; may work but not tested in Opera, IE8 or older</li>\n<li>supports any font family and size, as well as text-transforms</li>\n<li>the text area can have arbitrary padding or borders</li>\n<li>not confused by horizontal or vertical scrollbars in the textarea</li>\n<li>supports hard returns, tabs (except on IE) and consecutive spaces in the text</li>\n<li>correct position on lines longer than the columns in the text area</li>\n<li>no <a href=\"https://github.com/component/textarea-caret-position/blob/06d2197f85f96405b43724e56dc56f220c0092a5/test/position_off_after_wrapping_with_whitespace_before_EOL.gif\">\"ghost\" position in the empty space</a> at the end of a line when wrapping long words</li>\n</ul>\n\n<h3>Here's a demo - <a href=\"http://jsfiddle.net/dandv/aFPA7/\">http://jsfiddle.net/dandv/aFPA7/</a></h3>\n\n<p><img src=\"http://i.stack.imgur.com/LJiUS.png\" alt=\"enter image description here\"></p>\n\n<h2>How it works</h2>\n\n<p>A mirror <code>&lt;div&gt;</code> is created off-screen and styled exactly like the <code>&lt;textarea&gt;</code>. Then, the text of the textarea up to the caret is copied into the div and a <code>&lt;span&gt;</code> is inserted right after it. Then, the text content of the span is set to the remainder of the text in the textarea, in order to faithfully reproduce the wrapping in the faux div.</p>\n\n<p>This is the only method guaranteed to handle all the edge cases pertaining to wrapping long lines. It's also used by GitHub to determine the position of its <strong>@</strong> user dropdown.</p>\n",
                    "is_accepted": false,
                    "score": 13
                }
            ],
            "body": "<p>I am using jQuery and trying to find a cross browser way to get the pixel coordinates of the caret in <code>&lt;textarea&gt;</code>s and <code>input</code> boxes such that I can place an absolutely positioned div around this location.</p>\n\n<p>Is there some jQuery plugin? Or JavaScript snippet to do just that?</p>\n",
            "last_activity_date": 1395054674,
            "question_id": 29709,
            "score": 9,
            "tags": [
                "javascript",
                "jquery",
                "cross-browser"
            ],
            "title": "How do I get the (x, y) pixel coordinates of the caret in text boxes?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You have two problems :</p>\n\n<ul>\n<li><code>no</code> will have the value of end of loop when the callback is called</li>\n<li>you're programming all your timeouts 2000 ms from the same time, the time the loop run.</li>\n</ul>\n\n<p>Here's how you could fix that :</p>\n\n<pre><code>var t = 0\nwhile (no != 500) {\n   (function(no) {\n      t += 2000;\n      setTimeout(function() { size(no,no);} ,t);\n   })(no);\n   no  = no+50; // could be written no += 50\n}\n</code></pre>\n\n<p>The immediately executed function creates a scope which protects the value of <code>no</code>.</p>\n\n<hr>\n\n<p>A little explanation about <code>(function(no) {</code> :</p>\n\n<p>The scope of a variable is either</p>\n\n<ul>\n<li>the global scope</li>\n<li>a function</li>\n</ul>\n\n<p>The code above could have been written as </p>\n\n<pre><code>var t = 0\nwhile (no != 500) {\n   (function(no2) {\n      t += 2000;\n      setTimeout(function() { size(no2,no2);} ,t);\n   })(no);\n   no += 50;\n}\n</code></pre>\n\n<p>Here it's probably more clear that we have two variables :</p>\n\n<ul>\n<li><code>no</code>, whose value changes with each iteration and is 500 when the timeouts are called</li>\n<li><code>no2</code>, in fact one variable <code>no2</code> per call of the inner anonymous function</li>\n</ul>\n\n<p>Each time the inner anonymous function is called, it declares a new <code>no2</code> variable, whose value is <code>no</code> at the time of call (during iteration). This variable <code>no2</code> is thus protected and is used by the callback given to <code>setTimeout</code>.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Why not just use setInterval() instead?</p>\n\n<pre><code>var objImg = new Object();\nvar h;\nvar w;\n\nvar no = 100;\nvar myInterval = window.setInterval(function() {\n    size(no, no);\n    no = no + 50;\n    if (no &gt;= 500) clearInterval(myInterval);\n}, 2000);\n\nfunction size(h, w) {\n    var objImg = document.getElementsByName('ford').item(0);\n    objImg.style.height = h + 'px';\n    objImg.style.width = w + 'px';\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Your problem is with your size() function syntax &amp; algorithm:</p>\n\n<pre><code>var objImg = new Object();\nvar h;\nvar w;\n\nvar no = 100;\n\nvar int = window.setInterval(function () {\n    size(no,no);\n    no += 50;\n},2000)\n\nfunction size(h, w) {\n    if (h == 500){\n        window.clearInterval(int);\n        return;\n    }\n    var height = h + 'px';\n    var width = w + 'px';\n    document.getElementsByName('ford').item(0).style.height = height;\n    document.getElementsByName('ford').item(0).style.width = width;\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/AQtNY/2/\" rel=\"nofollow\">http://jsfiddle.net/AQtNY/2/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Experts.\nJavascript not producing desired delay effect.<br>\nFrom other questions, on SO I got to know that, problem is with settimeout and the way I am using it.\nBut still I am not able to comprehend, how Settimeout works. \nSo I am putting code here. \nNeed to use Javascript only, because of knowledge purpose.<br>\nActually I am trying to clear my concepts about <strong>this, closure</strong> in javascript. \nAre they kind of twisted things of Javascript?</p>\n\n<pre><code>var objImg = new Object();\nvar h;\nvar w;\n\nvar no = 100;\nwhile (no != 500) {\n    setTimeout(function () {\n        size(no, no);\n    }, 2000);\n\n    /* it's get executed once, instead of repeating with while loop\n    Does it leave loop in mid? I get image with 500px height and\n    width, but effect is not acheived.\n    */\n\n    no = no + 50;\n}\n\nfunction size(h, w) {\n    var objImg = document.getElementsByName('ford').item(0);\n    objImg.style.height = h + 'px';\n    objImg.style.width = w + 'px';\n}\n</code></pre>\n",
            "last_activity_date": 1360508492,
            "question_id": 14791158,
            "score": 3,
            "tags": [
                "javascript",
                "settimeout"
            ],
            "title": "Javascript SetTimeout and Loops"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>It's evil again because it's hard for debugging.\nBetter approach is to use something like:</p>\n\n<pre><code>function getValue(namespace, parent) {\n    var parts = namespace.split('.'),\n        current = parent || window;\n    for (var i = 0; i &lt; parts.length; i += 1) {\n        if (current[parts[i]]) {\n            current = current[parts[i]];\n        } else {\n          if (i &gt;= parts.length - 1)\n            return undefined;\n        }\n    }\n    return current;\n}\nvar foo = {\n    bar: {\n        baz: function () { alert('baz'); }\n    }\n};\nvar f = getValue('foo.bar.baz'); //true\nif (typeof f === 'function') {\n    f();\n}\n</code></pre>\n\n<p>The code is more than a single <code>eval('foo.bar.baz')</code> but you can figure out what's actually happening and even debug it with break points.</p>\n\n<p>If we speak about performance here are few jsperf examples:</p>\n\n<ol>\n<li><a href=\"http://jsperf.com/eval-vs-loop\" rel=\"nofollow\">http://jsperf.com/eval-vs-loop</a></li>\n<li><a href=\"http://jsperf.com/eval-vs-loop/2\" rel=\"nofollow\">http://jsperf.com/eval-vs-loop/2</a></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Let's suppose your whole design isn't totally evil (but a little).</p>\n\n<p>That would mean you restrict and specify what you have in <code>someString</code>. For example it could be the path to an object and its function that you would call <strong>without any argument</strong> (which makes it much less dangerous) and with context the global object.</p>\n\n<p>Then it's easy to parse the string and call the function without <code>eval</code>. This would be more secure. For example :</p>\n\n<pre><code>window.a = {b:{c:function(){console.log('here')}}};\nvar someString = \"a.b.c\";\n\nvar path = someString.split('.');\nvar f = window;\nfor (var i=0; i&lt;path.length; i++) f = f[path[i]];\nf.call(null);\n</code></pre>\n\n<p>An improvement would be to fix a root object (and not window) to avoid any kind of call.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Dont forget you can use a \"safe eval\" in javascript if you know what your objects will look like.</p>\n\n<p>inside a scope :</p>\n\n<pre><code>this.foo = { bar:function(){return \"baz\"}};\n\n// some code.\nvar obj = \"foo\";\nvar param = \"bar\";\n\nthis[obj][param](); // same as this.foo.bar();\n</code></pre>\n\n<p>Unless you are dealing with some specific things (like templating for instance) ,you should not need to use eval to call objects.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<blockquote>\n  <p>i have heard lot's of different opinions on eval()</p>\n</blockquote>\n\n<p><code>eval</code> is not evil in general, there are applications for it.</p>\n\n<blockquote>\n  <p>unsure if it's ok to use eval() in this context</p>\n</blockquote>\n\n<p>No, it is not OK for this. There is a much better solution using the simple <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Operators/Member_Operators\">bracket notation member operator</a>. Since this is asked every day on SO, I can list hundreds of dupes here (just the first few Google results):</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/10934664/convert-string-in-dot-notation-to-get-the-object-reference\">Convert string in dot notation to get the object reference</a></li>\n<li><a href=\"http://stackoverflow.com/questions/7793811/convert-javascript-dot-notation-object-to-nested-object\">Convert javascript dot notation object to nested object</a></li>\n<li><a href=\"http://stackoverflow.com/questions/6491463/accessing-nested-javascript-objects-with-string-key\">Accessing nested JavaScript objects with string key</a></li>\n<li><a href=\"http://stackoverflow.com/questions/9338192/access-object-through-dot-syntax-string-path\">access object through dot-syntax string path</a></li>\n<li><a href=\"http://stackoverflow.com/questions/6393943/convert-javascript-string-in-dot-notation-into-an-object-reference\">Convert Javascript string in dot notation into an object reference</a></li>\n<li><a href=\"http://stackoverflow.com/questions/8051975/access-object-child-properties-using-a-dot-notation-string\">Access object child properties using a dot notation string</a></li>\n<li>\u2026</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I have heard lot's of different opinions on eval() and are a bit unsure if it's ok to use eval() in this context:</p>\n\n<p>let's say I have an object like this:</p>\n\n<pre><code>var bla = {\nblubb: function (callback) {\n       //GET some stuff via ajax\n       //call the callback\n    }\n}\n</code></pre>\n\n<p>And a string like this:</p>\n\n<pre><code> var someString = \"bla.blubb\";\n</code></pre>\n\n<p>Is it evil to eval the string in order to call the function (and the callback)?</p>\n\n<pre><code>var callMe = eval(someString)\ncallMe(function(){\n   alert('yay')!\n});\n</code></pre>\n",
            "last_activity_date": 1358506427,
            "question_id": 14396647,
            "score": 0,
            "tags": [
                "javascript"
            ],
            "title": "is it evil to use eval to convert a string to a function?"
        },
        {
            "answer_count": 34,
            "answers": [
                {
                    "body": "<p>The way you're doing it now isn't faster (apart from it being an indefinite loop, I guess you meant to do <code>i--</code>.</p>\n\n<p>If you want to make it faster do:</p>\n\n<pre><code>for (i = 10; i--;) {\n    //super fast loop\n}\n</code></pre>\n\n<p>of course you wouldn't notice it on such a small loop. The reason it's faster is because you're decrementing i while checking that it's \"true\" (it evaluates to \"false\" when it reaches 0)</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>It can be explained by JavaScript (and all languages) eventually being turned into opcodes to run on the CPU.  CPUs always have a single instruction for comparing against zero, which is damn fast.</p>\n\n<p>As an aside, if you can guarantee <code>count</code> is always <code>&gt;= 0</code>, you could simplify to:</p>\n\n<pre><code>for (var i = count; i--;)\n{\n  // whatever\n}</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>The best approach to answering this sort of question is to actually try it. Set up a loop that counts a million iterations or whatever, and do it both ways. Time both loops, and compare the results.</p>\n\n<p>The answer will probably depend on which browser you are using. Some will have different results than others.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"https://blogs.oracle.com/greimer/entry/best_way_to_code_a\">This guy</a> compared a lot of loops in javascript, in a lot of browsers.  He also has a <a href=\"https://blogs.oracle.com/greimer/resource/loop-test.html\">test suite</a> so you can run them yourself.</p>\n\n<p>In all cases (unless I missed one in my read) the fastest loop was:</p>\n\n<pre><code>var i = arr.length; //or 10\nwhile(i--)\n{\n  //...\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 151
                },
                {
                    "body": "<p>Using the prefix increment operator is somewhat faster. With the postfix, the compiler must retain the previous value as the result of the expression.</p>\n\n<pre><code>for (var i = 0; i &lt; n; ++i) {\n  do_stuff();\n}\n</code></pre>\n\n<p>A smart interpreter or compiler will see that the result of i++ is not used and not store the result of the expression, but not all js engines do.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Love it,  lots of marks up but no answer :D</p>\n\n<p>Simply put a comparison against zero is always the fastest comparison</p>\n\n<p>So (a==0) is actually quicker at returning True than (a==5)</p>\n\n<p>It's small and insignificant and with 100 million rows in a collection it's measurable.</p>\n\n<p>i.e on a loop up you might be saying   where i &lt;= array.length and be incrementing i</p>\n\n<p>on a down loop you might be saying where i >= 0 and be decrementing i instead.</p>\n\n<p>The comparison is quicker. Not the 'direction' of the loop.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In many cases, this has essentially nothing to do with the fact that processors can compare to zero faster than other comparisons.</p>\n\n<p>This is because <a href=\"http://en.wikipedia.org/wiki/List%5Fof%5FECMAScript%5Fengines\" rel=\"nofollow\">only a few Javascript engines</a> (the ones in the JIT list) actually generate machine language code.</p>\n\n<p>Most Javascript engines build an internal representation of the source code which they then interpret (to get an idea of what this is like, have a look near the bottom of <a href=\"https://developer.mozilla.org/En/SpiderMonkey/Introduction%5Fto%5Fthe%5FJavaScript%5Fshell\" rel=\"nofollow\">this page on Firefox's SpiderMonkey</a>). Generally if a piece of code does practically the same thing but leads to a simpler internal representation, it will run faster.</p>\n\n<p>Bear in mind that with simple tasks like adding/subtracting one from a variable, or comparing a variable to something, the overhead of the interpreter moving from one internal \"instruction\" to the next is quite high, so the less \"instructions\" that are used internally by the JS engine, the better.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I want to contribute to this thread the fastest loop in JavaScript that is cross-browser !  This loop yields over 500% improvement compared to the reverse while loop.</p>\n\n<p><a href=\"http://milan.adamovsky.com/2011/12/fastest-loop-in-javascript.html\" rel=\"nofollow\">My Blog: Fastest Loop in JavaScript</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>HELP OTHERS AVOID A HEADACHE --- VOTE THIS UP!!!</strong></p>\n\n<p>The most popular answer on this page does not work for Firefox 14 and does not pass the jsLinter.   \"while\" loops need a comparison operator, not an assignment.  It does work on chrome, safari, and even ie. But dies in firefox.</p>\n\n<p>THIS IS BROKEN!</p>\n\n<pre><code>var i = arr.length; //or 10\nwhile(i--)\n{\n  //...\n}\n</code></pre>\n\n<p>THIS WILL WORK! (works on firefox, passes the jsLinter)</p>\n\n<pre><code>var i = arr.length; //or 10\nwhile(i&gt;-1)\n{\n  //...\n  i = i - 1;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It's not that <code>i--</code> is faster than <code>i++</code>. Actually, they're both as fast.</p>\n\n<p>What takes time in ascending loops, is to evaluate, for each <code>i</code>, the size of your array. In this loop:</p>\n\n<pre><code>for(var i = array.length; i--; )\n</code></pre>\n\n<p>You evaluate <code>.length</code> only once, when you declare <code>i</code>, whereas for this loop</p>\n\n<pre><code>for(var i = 1; i &lt;= array.length; i++ )\n</code></pre>\n\n<p>you evaluate <code>.length</code> each time you increment <code>i</code>, when you check if <code>i &lt;= array.length</code>.</p>\n\n<p>In most cases you <strong>shouldn't even worry about this kind of optimization</strong>.</p>\n",
                    "is_accepted": true,
                    "score": 658
                },
                {
                    "body": "<p>This is just a guess, but maybe it's because it's easier for the processor to compare something with 0 ( i >= 0 ) instead of with another value ( i &lt; Things.length).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It depends on placement of your array in memory and the hit ratio of memory pages while you are accessing that array. </p>\n\n<p>In some cases accessing array members in column order is faster than row order because of the increase in hit ratio.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p><code>i--</code> is as fast as <code>i++</code></p>\n\n<p>This code below is as fast as yours, but uses an extra variable:</p>\n\n<pre><code>var up = Things.length;\nfor (var i = 0; i &lt; up; i++) {\n    Things[i]\n};\n</code></pre>\n\n<p>The recommendation is to NOT evaluate the size of the array each time. For big arrays one can see the performance degradation.</p>\n",
                    "is_accepted": false,
                    "score": 34
                },
                {
                    "body": "<p>It's not the <code>--</code> or <code>++</code>, it is the compare operation. With <code>--</code> you can use a compare with 0, while with <code>++</code> you need to compare it with the length. On the processor, compare with zero is normally available, while compare with a finite integer requires a subtraction.</p>\n\n<p><code>a++ &lt; length</code></p>\n\n<p>is actually compiled as</p>\n\n<pre><code>a++\ntest (a-length)\n</code></pre>\n\n<p>So it takes longer on the processor when compiled.</p>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>I try to give a broad picture with this answer.</p>\n\n<p><em>The following thoughts in brackets <strong>was</strong> my belief until I have just recently tested the issue:</em></p>\n\n<p>[[In terms of <strong>low level languages</strong> like <a href=\"http://en.wikipedia.org/wiki/C_%28programming_language%29\">C</a>/<a href=\"http://en.wikipedia.org/wiki/C++\">C++</a>, the code is compiled so that the processor has a special conditional jump command when a variable is zero (or non-zero).<br>\nAlso, if you care about this much optimization, you could go <code>++i</code> instead of <code>i++</code>, because <code>++i</code> is a single processor command whereas <code>i++</code> means <code>j=i+1, i=j</code>.]]  </p>\n\n<p>Really fast loops can be done by unrolling them: </p>\n\n<pre><code>for(i=800000;i&gt;0;--i)\n    do_it(i);\n</code></pre>\n\n<p>It can be way slower than</p>\n\n<pre><code>for(i=800000;i&gt;0;i-=8)\n{\n    do_it(i); do_it(i-1); do_it(i-2); ... do_it(i-7);\n}\n</code></pre>\n\n<p>but the reasons for this can be quite complicated (just to mention, there are the issues of processor command preprocessing and cache handling in the game).</p>\n\n<p>In terms of <strong>high level languages</strong>, like <a href=\"http://en.wikipedia.org/wiki/JavaScript\">JavaScript</a> as you asked, you can optimize things if you rely on libraries, built-in functions for looping. Let them decide how it is best done.</p>\n\n<p>Consequently, in JavaScript, I would suggest using something like</p>\n\n<pre><code>array.forEach(function(i) {\n    do_it(i);\n});\n</code></pre>\n\n<p>It is also less error-prone and browsers have a chance to optimize your code. </p>\n\n<p>[REMARK: not only the browsers, but you too have a space to optimize easily, just redefine the <code>forEach</code> function (browser dependently) so that it uses the latest best trickery! :) @A.M.K. says in special cases it is worth rather using <code>array.pop</code> or <code>array.shift</code>. If you do that, put it behind the curtain. The <em>utmost overkill</em> is to add options to <code>forEach</code> to select the looping algorithm.]</p>\n\n<p>Moreover, also for low level languages, the best practice is to use some smart library function for complex, looped operations if it is possible. </p>\n\n<p>Those libraries can also put things (multi-threaded) behind your back and also specialized programmers keep them up-to-date.</p>\n\n<p>I did a bit more scrutiny and it turns out that in C/C++,\neven for 5e9 = (50,000x100,000) operations, <strong>there is no difference between going up and down</strong> if the testing is done against a constant like @alestanis says. (JsPerf results are sometimes inconsistent but by and large say the same: you can't make a big difference.)<br>\nSo <code>--i</code> happens to be rather a \"posh\" thing. It only makes you look like a better programmer. :)</p>\n\n<p>On the other hand, for-unrolling in this 5e9 situation, it has brought me down from 12&nbsp;sec to 2.5&nbsp;sec when I went by 10s, and to 2.1&nbsp;sec when I went by 20s. It was without optimization, and optimization has brought things down to unmeasureable little time. :) (Unrolling can be done in my way above or using <code>i++</code>, but that does not bring things ahead in JavaScript. )</p>\n\n<p><strong>All in all:</strong> keep <code>i--</code>/<code>i++</code> and <code>++i</code>/<code>i++</code> differences to the job interviews, stick to <code>array.forEach</code> or other complex library functions when available. ;) </p>\n",
                    "is_accepted": false,
                    "score": 115
                },
                {
                    "body": "<p>This is not dependent on the <code>--</code> or <code>++</code> sign, but it depends on conditions you apply in the loop.</p>\n\n<p>For example: Your loop is faster if the variable has a static value than if your loop check conditions every time, like the length of an array or other conditions.</p>\n\n<p>But don't worry about this optimization, because this time its effect is measured in nanoseconds.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I've seen the same recommendation in Sublime Text 2.</p>\n\n<p>Like it was already said, the main improvement is not evaluating the array's length at each iteration in the for loop. This a well-known optimization technique and particularly efficient in JavaScript when the array is part of the HTML document (doing a <code>for</code> for the all the <code>li</code> elements).</p>\n\n<p>For example, </p>\n\n<p><code>for (var i = 0; i &lt; document.getElementsByTagName('li').length; i++)</code> </p>\n\n<p>is much slower than </p>\n\n<p><code>for (var i = 0, len = document.getElementsByTagName('li').length; i &lt; len; i++)</code></p>\n\n<p>From where I'm standing, the main improvement in the form in your question is the fact that it doesn't declare an extra variable (<code>len</code> in my example)</p>\n\n<p>But if you ask me, the whole point is not about the <code>i++</code> vs <code>i--</code> optimization, but about not having to evaluate the length of the array at each iteration (you can see a benchmark test on <a href=\"http://jsperf.com/for-length-bench\">jsperf</a>).</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Well, I don't know about JavaScript, it should really be just a matter of re-evaluation array length and maybe something to do with the associative arrays (if you only decrement, it is unlikely new entries would need to be allocated - if the array is dense, that is. someone may optimize for that).</p>\n\n<p>In low-level assembly, there is a looping instruction, called DJNZ (decrement and jump if non-zero). So the decrement and jump is all in one instruction, making it possibly ever-so-slightly faster than INC and JL / JB (increment, jump if less than / jump if below). Also, comparing against zero is simpler than comparing against another number. But all that is really marginal and also depends on target architecture (could make difference e.g. on Arm in a smartphone).</p>\n\n<p>I wouldn't expect this low-level differences to have so great impact on interpreted languages, I just haven't seen DJNZ among the responses so I thought I would share an interesting thought.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><code>for(var i = array.length; i--; )</code> is not much faster. But when you replace <code>array.length</code> with <code>super_puper_function()</code>, that may be <strong>significantly</strong> faster (since it's called in every iteration). That's the difference.</p>\n\n<p>If you are going to change it in 2014, you don't need to think about optimization. If you are going to change it with \"Search &amp; Replace\", you don't need to think about optimization. If you have no time, you don't need to think about optimization. But now, you've got time to think about it.</p>\n\n<p>P.S.: <code>i--</code> is not faster than <code>i++</code>.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>The last time I bothered about it was when writing <a href=\"http://en.wikipedia.org/wiki/MOS_Technology_6502\" rel=\"nofollow\">6502</a> assembly (8-bit, yeah!). The big gain is that most arithmetic operations (especially decrements) updated a set of flags, one of them was <code>Z</code>, the 'reached zero' indicator.</p>\n\n<p>So, at the end of the loop you just did two instructions: <code>DEC</code> (decrement) and <code>JNZ</code> (jump if not zero), no comparison needed!</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Since, you are interested in the subject, take a look at Greg Reimer's weblog post about a  JavaScript loop benchmark, <em><a href=\"https://blogs.oracle.com/greimer/entry/best_way_to_code_a\" rel=\"nofollow\">What's the Fastest Way to Code a Loop in JavaScript?</a></em>:</p>\n\n<blockquote>\n  <p>I built a loop benchmarking test suite for different ways of coding loops in JavaScript. There are a few of these out there already, but I didn't find any that acknowledged the difference between native arrays and HTML collections.</p>\n</blockquote>\n\n<p>You can also do <strong>a performance test on a loop</strong> by opening <code>https://blogs.oracle.com/greimer/resource/loop-test.html</code> (does not work if JavaScript is blocked in the browser by, for example, <a href=\"http://en.wikipedia.org/wiki/NoScript\" rel=\"nofollow\">NoScript</a>).</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>A more recent benchmark created by Milan Adamovsky can be performed in run-time <a href=\"http://jsperf.com/for-vs-while/11\" rel=\"nofollow\">here</a> for different browsers.</p>\n\n<h2>For a <strong>Testing in Firefox 17.0 on Mac OS X 10.6</strong> I got the following loop:</h2>\n\n<pre><code>var i, result = 0;\nfor (i = steps - 1; i; i--) {\n  result += i;\n}\n</code></pre>\n\n<p>as the fastest preceded by:</p>\n\n<pre><code>var result = 0;\nfor (var i = steps - 1; i &gt;= 0; i--) {\n  result += i;\n}\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/yn6kQ.png\" alt=\"Benchmark example.\"></p>\n",
                    "is_accepted": false,
                    "score": 21
                },
                {
                    "body": "<p>It <em>used</em> to be said that --i was faster (in C++) because there is only one result, the decremented value. i-- needs to store the decremented value back to i and also retain the original value as the result (j = i--;). In most compilers this used up two registers rather than one which could cause another variable to have to be written to memory rather than retained as a register variable.</p>\n\n<p>I agree with those others that have said it makes no difference these days.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I don't think that it makes sense to say that <code>i--</code> is faster that <code>i++</code> in JavaScript.</p>\n\n<p><strong>First of all</strong>, it totally depends on JavaScript engine implementation. </p>\n\n<p><strong>Secondly</strong>, provided that simplest constructs JIT'ed and translated to native instructions, then <code>i++</code> vs <code>i--</code> will totally depend on the CPU that executes it. That is, on ARMs (mobile phones) it's faster to go down to 0 since decrement and compare to zero are executed in a single instruction.</p>\n\n<p>Probably, you thought that one was waster than the other because suggested way is</p>\n\n<pre><code>for(var i = array.length; i--; )\n</code></pre>\n\n<p>but suggested way is not because one faster then the other, but simply because if you write</p>\n\n<pre><code>for(var i = 0; i &lt; array.length; i++)\n</code></pre>\n\n<p>then on every iteration <code>array.length</code> had to be evaluated (smarter JavaScript engine perhaps could figure out that loop won't change length of the array). Even though it looks like a simple statement, it's actually some function that gets called under the hood by the JavaScript engine.</p>\n\n<p>The other reason, why <code>i--</code> could be considered \"faster\" is because JavaScript engine needs to allocate only one internal variable to control the loop (variable to the <code>var i</code>). If you compared to array.length or to some other variable then there had to be more than one internal variable to control the loop, and the number of internal variables are limited asset of a JavaScript engine. The less variables are used in a loop the more chance JIT has for optimization. That's why <code>i--</code> could be considered faster...</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>To cut it short: <strong>There is absolutely no difference in doing this in JavaScript.</strong></p>\n\n<p>First of all, you can test it yourself:</p>\n\n<ul>\n<li><p><a href=\"http://jsperf.com/for-loop-implicit-index-test\" rel=\"nofollow\">jsperf - is an excellent platform for all sorts of performance\ntesting in JavaScript</a>.</p></li>\n<li><p><a href=\"http://jsperf.com/inc-vs-dec-2\" rel=\"nofollow\">http://jsperf.com/inc-vs-dec-2</a></p></li>\n</ul>\n\n<p>Not only can you test and run any script in any JavaScript library, but you also have access to the whole bunch of previously written scripts, as well as the abilty to see differences between execution time in different browsers on different platforms.</p>\n\n<p>So as far as you can see, there is no difference between performance in any environment.</p>\n\n<p>If you want to improve performance of your script, things you can try to do:</p>\n\n<ol>\n<li>Have a <code>var a = array.length;</code> statement so that you will not be calculating its value each time in the loop</li>\n<li>Do loop unrolling <a href=\"http://en.wikipedia.org/wiki/Loop_unwinding\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Loop_unwinding</a></li>\n</ol>\n\n<p>But you have to understand that the improvement you can gain will be so insignificant, that mostly you should not even care about it.</p>\n\n<h3>My own opinion why such a misconception (Dec vs Inc) appeared</h3>\n\n<p>A long, long time ago there was a common machine instruction, DSZ (Decrement and Skip on Zero). People who programmed in assembly language used this instruction to implement loops in order to save a register. Now this ancient facts are obsolete, and I am pretty sure you will not get any performance improvement in any language using this pseudo improvement.</p>\n\n<p>I think the only way such knowledge can propagate in our time is when you read another's person code. See such a construction and ask why was it implemented and here the answer: \"it improves performance because it compares to zero\". You became bewildered of higher knowledge of your colleague and think to use it to be much smarter :-) </p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Wouldn't the compiler cache .length, and therefore it makes no difference if you are comparing 0 or .length? I guess this is very specific to the compiler or interpreter you are dealing with.</p>\n\n<p>I would say if you are using a well optimised compiler or interpreter then you shouldn't worry about this, it is for the language developers to worry about.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Sometimes making some very minor changes to the way that we write our code can make a big difference to how quickly our code actually runs. One area where a minor code change can make a big difference to execution times is where we have a for loop that is processing an array. Where the array is of elements on the web page (such as radio buttons) the change has the biggest effect but it is still worth applying this change even where the array is internal to the Javascript code.</p>\n\n<p>The conventional way of coding a for loop to process an array lis like this:</p>\n\n<pre><code>for (var i = 0; i &lt; myArray.length; i++) {...\n</code></pre>\n\n<p>The problem with this is that evaluating the length of the array using myArray.length takes time and the way that we have coded the loop means that this evaluation has to be performed every time around the loop. If the array contains 1000 elements then the length of the array will be evaluated 1001 times. If we were looking at radio buttons and had myForm.myButtons.length then it will take even longer to evaluate since the appropriate group of buttons within the specified form must first be located before the length can be evaluated each time around the loop.</p>\n\n<p>Obviously we don't expect the length of the array to change while we are processing it so all of these recalculations of the length are just adding unnecessarily to the processing time. (Of course if you have code inside the loop that adds or removes array entries then the array size can change between iterations and so we can't change the code that tests for it)</p>\n\n<p>What we can do to correct this for a loop where the size is fixed is to evaluate the length once at the start of the loop and save it in a variable. We can then test the variable to decide when to terminate the loop. This is much faster than evaluating the array length each time particularly when the array contains more than just a few entries or is part of the web page.</p>\n\n<p>The code to do this is:</p>\n\n<pre><code>for (var i = 0, var j = myArray.length; i &lt; j; i++) {...\n</code></pre>\n\n<p>So now we only evaluate the size of the array once and test our loop counter against the variable that holds that value each time around the loop. This extra variable can be accessed much faster than evaluating the size of the array and so our code will run much faster than before. We just have one extra variable in our script.</p>\n\n<p>Often it doesn't matter what order we process the array in as long as all of the entries in the array get processed. Where this is the case we can make our code slightly faster by doing away with the extra variable that we just added and processing the array in reverse order.</p>\n\n<p>The final code that processes our array in the most efficient way possible is:</p>\n\n<pre><code>for (var i = myArray.length-1; i &gt; -1; i--) {...\n</code></pre>\n\n<p>This code still only evaluates the size of the array once at the start but instead of comparing the loop counter with a variable we compare it with a constant. Since a constant is even more effective to access than a variable and since we have one fewer assignment statement than before our third version of the code is now slightly more efficient than the second version and vastly more efficient than the first.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Not a lot of time is consumed by i-- or i++. If you go deep inside the CPU architecture the <code>++</code> is more speedy than the <code>--</code>, since the <code>--</code> operation will do the 2's complement, but it happend inside the hardware so this will make it speedy and no major difference between the <code>++</code> and <code>--</code> also these operations are considered of the least time consumed in the CPU.  </p>\n\n<p>The <strong>for loop</strong> runs like this:</p>\n\n<ul>\n<li>Initialize the variable once at the start.  </li>\n<li>Check the constraint in the second operand of the loop, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, etc.</li>\n<li>Then apply the loop.  </li>\n<li>Increment the loop and loop again throw these processes again.  </li>\n</ul>\n\n<p>So,  </p>\n\n<pre><code>for (var i = Things.length - 1; i &gt;= 0; i--) {\n    Things[i]\n}; \n</code></pre>\n\n<p>will calculate the array length only once at the start and this is not a lot of time, but</p>\n\n<pre><code>for(var i = array.length; i--; ) \n</code></pre>\n\n<p>will calculate the length at each loop, so it will consume a lot of time.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<h3>Short answer</h3>\n\n<p>For normal code, especially in a high level language like <a href=\"http://en.wikipedia.org/wiki/JavaScript\">JavaScript</a>, there is no performance  difference in <code>i++</code> and <code>i--</code>.</p>\n\n<p>The performance criteria is the use in the <code>for</code> loop and the <em>compare</em> statement.</p>\n\n<p>This <strong>applies to all high level languages</strong> and is mostly independent from the use of JavaScript. The explanation is the resulting assembler code at the bottom line.</p>\n\n<h3>Detailed explanation</h3>\n\n<p>A performance difference may occur in a loop. The background is that on the <strong>assembler code</strong> level you can see that a <code>compare with 0</code> is just one statement which doesn't need an additional register.</p>\n\n<p>This compare is issued on every pass of the loop and may result in a measurable performance improvement.</p>\n\n<pre><code>for(var i = array.length; i--; )\n</code></pre>\n\n<p>will be evaluated to a <em>pseudo code</em> like this:</p>\n\n<pre><code> i=array.length\n :LOOP_START\n decrement i\n if [ i = 0 ] goto :LOOP_END\n ... BODY_CODE\n :LOOP_END\n</code></pre>\n\n<p>Note that <strong>0</strong> is a literal, or in other words, a constant value.</p>\n\n<pre><code>for(var i = 0 ; i &lt; array.length; i++ )\n</code></pre>\n\n<p>will be evaluated to a <em>pseudo code</em> like this (normal interpreter optimisation supposed):</p>\n\n<pre><code> end=array.length\n i=0\n :LOOP_START\n if [ i &lt; end ] goto :LOOP_END\n increment i\n ... BODY_CODE\n :LOOP_END\n</code></pre>\n\n<p>Note that <strong>end</strong> is a variable which needs a <a href=\"http://en.wikipedia.org/wiki/Central_processing_unit\">CPU</a> register. This may invoke an <em>additional register swapping</em> in the code and needs a <em>more expensive compare statement</em> in the <code>if</code> statement.</p>\n\n<h3>Just my 5 cents</h3>\n\n<p>For a high level language, readability, which facilitates maintainability, is more important as a minor performance improvement.</p>\n\n<p>Normally the <em>classic</em> iteration from array <em>start to end</em> is better.</p>\n\n<p>The quicker iteration from array <em>end to start</em> results in the possibly unwanted reversed sequence.</p>\n\n<h3>Post scriptum</h3>\n\n<p>As asked in a comment: The difference of <code>--i</code> and <code>i--</code> is in the evaluation of <code>i</code> before or after the decrementing.</p>\n\n<p>The best explanation is to try it out ;-) Here is a <a href=\"http://en.wikipedia.org/wiki/Bash_%28Unix_shell%29\">Bash</a> example.</p>\n\n<pre><code> % i=10; echo \"$((--i)) --&gt; $i\"\n 9 --&gt; 9\n % i=10; echo \"$((i--)) --&gt; $i\"\n 10 --&gt; 9\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>First, <code>i++</code> and <code>i--</code> take exactly the same time on any programming language, including JavaScript.</p>\n\n<p>The following code take much different time.</p>\n\n<p><em>Fast:</em></p>\n\n<pre><code>for (var i = 0, len = Things.length - 1; i &lt;= len; i++) { Things[i] };\n</code></pre>\n\n<p><em>Slow:</em></p>\n\n<pre><code>for (var i = 0; i &lt;= Things.length - 1; i++) { Things[i] };\n</code></pre>\n\n<p>Therefore the following code take different time too.</p>\n\n<p><em>Fast:</em></p>\n\n<pre><code>for (var i = Things.length - 1; i &gt;= 0; i--) { Things[i] };\n</code></pre>\n\n<p><em>Slow:</em></p>\n\n<pre><code>for (var i = 0; i &lt;= Things.length - 1; i++) { Things[i] };\n</code></pre>\n\n<p>P.S. <em>Slow</em> is slow only for a few languages (JavaScript engines) because of compiler's optimization. The best way is to use <strong>'&lt;' instead '&lt;='</strong> (or '=') and <strong>'--i' instead 'i--'</strong>. </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>In very simple words</p>\n\n<p>\"i-- and i++. Actually, they're both takes the same time\".</p>\n\n<p>but in this case when you have incremental operation.. processor evaluate the .length every time variable is incremented by 1 and in case of decrement.. particularly in this case, it will evaluate .length only once till we get 0.     </p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><code>++</code> vs. <code>--</code> does not matter because JavaScript is an interpreted language, not a compiled language. Each instruction translates to more than one machine language and you should not care about the gory details.</p>\n\n<p>People who are talking about using <code>--</code> (or <code>++</code>) to make efficient use of assembly instructions are wrong. These instruction apply to integer arithmetic and there are <a href=\"http://www.hunlock.com/blogs/The_Complete_Javascript_Number_Reference\" rel=\"nofollow\">no integers in JavaScript, just numbers</a>.</p>\n\n<p>You should write readable code.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Since none of the other answers seem to answer your specific question (more than half of them show C examples and discuss lower-level languages, your question is for JavaScript) I decided to write my own. </p>\n\n<p>So, here you go:</p>\n\n<p><strong>Simple answer:</strong> <code>i--</code> is generally faster because it doesn't have to run a comparison to 0 each time it runs, test results on various methods are below:</p>\n\n<p><strong>Test results:</strong> As \"proven\" by <a href=\"http://jsperf.com/fastest-array-loops-in-javascript/15\" rel=\"nofollow\">this</a> jsPerf, <code>arr.pop()</code> is actually the fastest loop by far. But, focusing on <code>--i</code>, <code>i--</code>, <code>i++</code> and <code>++i</code> as you asked in your question, here are jsPerf (they are from multiple jsPerf's, please see sources below) results summarized:</p>\n\n<p><code>--i</code> and <code>i--</code> are the same in Firefox while <code>i--</code> is faster in Chrome.</p>\n\n<p>In Chrome a basic for loop (<code>for (var i = 0; i &lt; arr.length; i++)</code>) is faster than <code>i--</code> and <code>--i</code> while in Firefox it's slower.</p>\n\n<p>In Both Chrome and Firefox a cached <code>arr.length</code> is significantly faster with Chrome ahead by about 170,000 ops/sec.</p>\n\n<p>Without a significant difference, <code>++i</code> is faster than <code>i++</code> in most browsers, AFAIK, it's never the other way around in any browser.</p>\n\n<p><strong>Shorter summary:</strong> <code>arr.pop()</code> is the fastest loop by far; for the specifically mentioned loops, <code>i--</code> is the fastest loop.</p>\n\n<p><strong>Sources:</strong> <a href=\"http://jsperf.com/fastest-array-loops-in-javascript/15\" rel=\"nofollow\">http://jsperf.com/fastest-array-loops-in-javascript/15</a>, <a href=\"http://jsperf.com/ipp-vs-ppi-2\" rel=\"nofollow\">http://jsperf.com/ipp-vs-ppi-2</a></p>\n\n<p>I hope this answers your question.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>The fastest way for decrement mode: </p>\n\n<pre><code>var iteration = 10000000;\n    while(iteration &gt; 0){\n        iteration--;\n    }\n</code></pre>\n\n<p>FASTER THAN:</p>\n\n<pre><code>var iteration = 10000000;\n    while(iteration--);\n</code></pre>\n\n<p><a href=\"http://www.dynamicart.hu/code_speedtest/?code=js#counting_loop\" rel=\"nofollow\">Javascript micro optimisation test</a></p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I made a <a href=\"http://jsperf.com/for-vs-foreach/273\" rel=\"nofollow\">comparison on jsperf.com</a>.</p>\n\n<p>As alestani pointed out, one thing that takes time in ascending loops, is to evaluate, for each iteration, the size of your array. In this loop</p>\n\n<pre><code>for ( var i = 1; i &lt;= array.length; i++ )\n</code></pre>\n\n<p>you evaluate .length each time you increment i. In this one</p>\n\n<pre><code>for ( var i = 1, l = array.length; i &lt;= l; i++ )\n</code></pre>\n\n<p>you evaluate .length only once, when you declare i. In this one</p>\n\n<pre><code>for ( var i = array.length; i--; )\n</code></pre>\n\n<p>the comparison is implicit, it happens just before decrementing i, and the code is very readable. However, what can make a terrific difference, is what you put inside the loop. </p>\n\n<p>Loop with call to function (defined elsewhere):</p>\n\n<pre><code>for (i = values.length; i-- ;) {\n  add( values[i] );\n}\n</code></pre>\n\n<p>Loop with inlined code:</p>\n\n<pre><code>var sum = 0;\nfor ( i = values.length; i-- ;) {\n  sum += values[i];\n}\n</code></pre>\n\n<p>If you can inline your code, instead of calling a function, without sacrifying legibility, you can have a loop an order of magnitude faster!</p>\n\n<hr>\n\n<p><strong>Note</strong>: as browser are <a href=\"http://jsperf.com/function-call-vs-inline\" rel=\"nofollow\">becoming good at inlining</a> simple functions, it really depends on how complex is your code. So, profile before optimizing, because</p>\n\n<ol>\n<li>The bottleneck may be elsewhere (ajax, reflow, ...)</li>\n<li>You may choose a better algorhythm</li>\n<li>You may choose a better data structure</li>\n</ol>\n\n<p>But remember: </p>\n\n<blockquote>\n  <p>Code is written for people to read, and only incidentally for machines to execute.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I've heard this quite a few times. Are JavaScript loops really faster when counting backward? If so, why? I've seen a few test suite examples showing that reversed loops are quicker, but I can't find any explanation as to why!</p>\n\n<p>I'm assuming it's because the loop no longer has to evaluate a property each time it checks to see if it's finished and it just checks against the final numeric value.</p>\n\n<p>I.e. </p>\n\n<pre><code>for (var i = count - 1; i &gt;= 0; i--)\n{\n  // count is only evaluated once and then the comparison is always on 0.\n}\n</code></pre>\n",
            "last_activity_date": 1421926912,
            "question_id": 1340589,
            "score": 125,
            "tags": [
                "javascript",
                "optimization",
                "loops",
                "for-loop",
                "while-loop"
            ],
            "title": "JavaScript - Are loops really faster in reverse...?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><code>constructor</code> is a pre-defined [[DontEnum]] property of the object pointed to by the <code>prototype</code> property of a function object and will initially point to the function object itself.</p>\n\n<p><code>__proto__</code> is equivalent to the internal [[Prototype]] property of an object, ie its actual prototype.</p>\n\n<p>When you create an object with the <code>new</code> operator, its internal [[Prototype]] property will be set to the object pointed to by the constructor function's <code>prototype</code> property.</p>\n\n<p>This means that <code>.constructor</code> will evaluate to <code>.__proto__.constructor</code>, ie the constructor function used to create the object, and as we have learned, the <code>protoype</code> property of this function was used to set the object's [[Prototype]].</p>\n\n<p>It follows that <code>.constructor.prototype.constructor</code> is identical to <code>.constructor</code> (as long as these properties haven't been overwritten); see <a href=\"http://joost.zeekat.nl/constructors-considered-mildly-confusing.html\">here</a> for a more detailed explanation.</p>\n\n<p>If <code>__proto__</code> is available, you can walk the actual prototype chain of the object. There's no way to do this in plain ECMAScript3 because JavaScript wasn't designed for deep inheritance hierarchies.</p>\n",
                    "is_accepted": false,
                    "score": 56
                },
                {
                    "body": "<p>I've been trying to wrap my head around this recently and finally came up with this \"map\" that I think sheds full light over the matter </p>\n\n<p><a href=\"http://i.stack.imgur.com/KFzI3.png\">http://i.stack.imgur.com/KFzI3.png</a>\n<img src=\"http://i.stack.imgur.com/KFzI3.png\" alt=\"enter image description here\"></p>\n\n<p>I know I'm not the first one making this up but it was more interesting figuring it out that finding it :-). Anyway, after that I found e.g. this another diagram that I think says basicly the same:</p>\n\n<p><a href=\"http://www.mollypages.org/misc/js.mp\">Javascript object layout</a></p>\n\n<p>The most surprising thing for me was discovering that <code>Object.__proto__</code> points to <code>Function.prototype</code>, instead of <code>Object.prototype</code>, but I'm sure there's a good reason for that :-)</p>\n\n<p>I paste the code mentioned in the image here as well for if anyone wants to test it. Note that some properties are added to the objects for making easy to know where we are after some jumps:</p>\n\n<pre><code>Object.O1='';\nObject.prototype.Op1='';\n\nFunction.F1 = '';\nFunction.prototype.Fp1 = '';\n\nCat = function(){};\nCat.C1 = '';\nCat.prototype.Cp1 = '';\n\nmycat = new Cat();\no = {};\n\n// EDITED: using console.dir now instead of console.log\nconsole.dir(mycat);\nconsole.dir(o);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 124
                },
                {
                    "body": "<p><strong><code>Object</code> is Eve, and <code>Function</code> is Adam, Adam (<code>Function</code>) uses his bone (<code>Function.prototype</code>) to create Eve (<code>Object</code>).  Then who created Adam (<code>Function</code>)? -- The Inventor of the JavaScript language :-).</strong></p>\n\n<p>According to utsaina's  answer, I want to add more useful info.</p>\n\n<blockquote>\n  <p>The most surprising thing for me was discovering that <code>Object.__proto__</code>\n  points to <code>Function.prototype</code>, instead of <code>Object.prototype</code>, but I'm\n  sure there's a good reason for that :-)</p>\n</blockquote>\n\n<p>It should NOT be.  <code>Object.__proto__</code> should NOT point to <code>Object.prototype</code>. Instead, the instance of <code>Object</code> <code>o</code>, <code>o.__proto__</code> should point to <code>Object.prototype</code>.</p>\n\n<p>(Forgive me for using the terms <code>class</code> and <code>instance</code> in JavaScript, but you know it :-)</p>\n\n<p>I think the class <code>Object</code> itself is an instance of <code>Function</code>, that's why <code>Object.__proto__ === Function.prototype</code>. Therefore: <code>Object</code> is Eve, and <code>Function</code> is Adam, Adam (<code>Function</code>) uses his bone (<code>Function.prototype</code>) to create Eve (<code>Object</code>).</p>\n\n<p>Furthermore, even the class <code>Function</code> itself is an instance of <code>Function</code> itself, that is <code>Function.__proto__ === Function.prototype</code>, that's also why <code>Function === Function.constructor</code></p>\n\n<p>Further furthermore, the regular class <code>Cat</code> is an instance of <code>Function</code>, that is <code>Cat.__proto__ === Function.prototype</code>.</p>\n\n<p>The reason for the above is, when we create a class in JavaScript, actually, we are just creating a function, which should be an instance of <code>Function</code>.  <code>Object</code> and <code>Function</code> are just special, but they are still classes, while <code>Cat</code> is a regular class.</p>\n\n<p><strong>As a matter of factor, in Google Chrome JavaScript engine, the following 4:</strong></p>\n\n<ul>\n<li><code>Function.prototype</code></li>\n<li><code>Function.__proto__</code></li>\n<li><code>Object.__proto__</code></li>\n<li><code>Cat.__proto__</code></li>\n</ul>\n\n<p>They are all <code>===</code> (absolutely equal) to the other 3, and their value is <code>function Empty() {}</code></p>\n\n<pre><code>&gt; Function.prototype\n  function Empty() {}\n&gt; Function.__proto__\n  function Empty() {}\n&gt; Object.__proto__\n  function Empty() {}\n&gt; Cat.__proto__\n  function Empty() {}\n&gt; Function.prototype === Function.__proto__\n  true\n&gt; Function.__proto__ === Object.__proto__\n  true\n&gt; Object.__proto__ === Cat.__proto__\n  true\n</code></pre>\n\n<p>OK. Then who creates the special <code>function Empty() {}</code> (<code>Function.prototype</code>)?  Think about it :-)</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>The Prototypal Inheritance in JavaScript is based on <code>__proto__</code> property in a sense that each object is inheriting the contents of the object referenced by its <code>__proto__</code> property.</p>\n\n<p>The <code>prototype</code> property is special only for <code>Function</code> objects and only when using <code>new</code> operator to call a <code>Function</code> as constructor. In this case, the created object's <code>__proto__</code> will be set to constructor's <code>Function.prototype</code>.</p>\n\n<p>This means that adding to <code>Function.prototype</code> will automatically reflect on all objects whose <code>__proto__</code> is referencing the <code>Function.prototype</code>.</p>\n\n<p>Replacing constructor's <code>Function.prototype</code> with another object will <strong>not</strong> update <code>__proto__</code> property for any of the already existing objects.</p>\n\n<p>Note that <code>__proto__</code> property should not be accessed directly, <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/getPrototypeOf\">Object.getPrototypeOf(object)</a> should be used instead.</p>\n\n<p>To answer the first question, I've created a bespoke diagram of <code>__proto__</code> and <code>prototype</code> references, unfortunately stackoverflow does not allow me to add the image with \"less than 10 reputation\". Maybe some other time.</p>\n\n<p>[Edit]\nThe figure uses <code>[[Prototype]]</code> instead of <code>__proto__</code> because that is how ECMAScript specification refers to internal objects. I hope you can figure everything out.</p>\n\n<p>Here are some hints to help you understand the figure:</p>\n\n<pre><code>red    = JavaScript Function constructor and its prototype\nviolet = JavaScript Object constructor and its prototype\ngreen  = user-created objects\n         (first created using Object constructor or object literal {},\n          second using user-defined constructor function)\nblue   = user-defined function and its prototype\n         (when you create a function, two objects are created in memory:\n          the function and its prototype)\n</code></pre>\n\n<p>Note that <code>constructor</code> property does not exist in created objects, but is inherited from the prototype.</p>\n\n<p><img src=\"http://i.stack.imgur.com/yt3hb.png\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>Every functions creates it's prototype.\nAnd when we create an object using that function constructor then the <strong>__proto__</strong> property of my object will start pointing to the prototype of that function.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<pre><code>function Gadget(name, color)\n{\n   this.name = name;\n   this.color = color;\n}\n\nGadget.prototype.rating = 3\n\nvar newtoy = new Gadget(\"webcam\", \"black\")\n\nnewtoy.constructor.prototype.constructor.prototype.constructor.prototype \n</code></pre>\n\n<p>it will returns always the object with rating = 3</p>\n\n<p>but if I do</p>\n\n<pre><code>newtoy.__proto__.__proto__.__proto__\n</code></pre>\n\n<p>here the chain end up with null</p>\n\n<p>So why do that difference?</p>\n\n<p>And in IE how can I check the null if there is not a <code>__proto__</code> property?</p>\n",
            "last_activity_date": 1425024497,
            "question_id": 650764,
            "score": 94,
            "tags": [
                "javascript",
                "prototype-programming"
            ],
            "title": "How does __proto__ differ from constructor.prototype?"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p>You can do like this:</p>\n\n<pre><code> if(typeof variable_here === 'undefined'){\n   // your code here.\n };\n</code></pre>\n\n<p>Using strict equality operator <code>===</code> above is good idea there because in JS, you can name a variable as <code>undefined</code> too:</p>\n\n<pre><code>var undefined = \"something\";\n</code></pre>\n\n<p>So using <code>===</code> makes sure that you are really checking against <code>undefined</code> value for a variable.</p>\n\n<p>You can also do:</p>\n\n<pre><code> if(! variable_here){\n   // your code here.\n };\n</code></pre>\n\n<p><strong><a href=\"http://hubpages.com/hub/javascript-typeof-operator\">See more info about typeof operator.</a></strong></p>\n\n<hr>\n\n<p><strong>Update:</strong></p>\n\n<p>Beware that <code>typeof null</code> returns <code>object</code>:</p>\n\n<pre><code>typeof null == 'object' // true\n</code></pre>\n\n<p>Also, <code>typeof NaN</code> returns 'number'.</p>\n\n<p>These are the 2 common drawbacks with using the typeof operator.</p>\n\n<p>You may also want to check out:</p>\n\n<ul>\n<li><a href=\"http://javascriptweblog.wordpress.com/2011/08/08/fixing-the-javascript-typeof-operator/\">Fixing the JavaScript typeof operator</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 700
                },
                {
                    "body": "<p>jQuery <code>attr()</code> function returns either a blank string or the actual value (and never <code>null</code> or <code>undefined</code>). The only time it returns <code>undefined</code> is when your selector didn't return any element.</p>\n\n<p>So you may want to test against a blank string. Alternatively, since blank strings, null and undefined are false-y, you can just do this:</p>\n\n<pre><code>if (!EmpName) { //do something }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<pre><code>if (variable == null) {\n    // Do stuff, will only match null or undefined, this won't match false\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 96
                },
                {
                    "body": "<p>Combining the above answers, it seems the most complete answer would be:</p>\n\n<pre><code>if( typeof variable === 'undefined' || variable === null ){\n    // Do stuff\n}\n</code></pre>\n\n<p>This should work for any variable that is either undeclared or declared and explicitly set to null or undefined.  The boolean expression should evaluate to false for any declared variable that has an actual non-null value.</p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>I've just had this problem i.e. checking if an object is null.<br>\nI simply use this:</p>\n\n<pre><code>if (object) { Somecode}\n</code></pre>\n\n<p>i.e.</p>\n\n<pre><code>if (document.getElementById(\"enterJob\")) \n  document.getElementById(\"enterJob\").className += ' current';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>Read the edited-in footnote at the bottom too.</strong></p>\n\n<hr>\n\n<p>Best to write:</p>\n\n<pre><code>if (variable === undefined || variable === null) {\n    //do something\n}\n</code></pre>\n\n<p>This way it's crystal clear what cases you want to catch.</p>\n\n<p>Also, the statement <code>var undefined = \"something\"</code> as shown in the current accepted answer, is erroneous as of more recent versions of ECMAScript. You cannot assign to <code>undefined</code>. It might not throw an error, but the value of undefined will be unchanged. Either way it's totally irrelevant to the question.</p>\n\n<hr>\n\n<p><strong><em>Edit:</em></strong> Being a more experienced JS developer now, I should note that using <code>if (variable == null)</code>  is in fact the standard way to catch <code>null</code> and <code>undefined</code> simultaneously. When writing professional JS, it's taken for granted that the behavior is understood. But it never hurts to write in a comment if you feel the intent is unclear.</p>\n\n<p>Amazes me that people keep upvoting the top answer...it's so wrong in so many ways. Why do people keep upvoting it??</p>\n",
                    "is_accepted": false,
                    "score": 136
                },
                {
                    "body": "<p>If the variable you want to check is a global, do</p>\n\n<pre><code>if (window.yourVarName) {\n    // Your code here\n}\n</code></pre>\n\n<p>This way to check will not throw an error even if the <code>yourVarName</code> variable doesn't exist.</p>\n\n<h2>Example: I want to know if my browser supports History API</h2>\n\n<pre><code>if (window.history) {\n    history.back();\n}\n</code></pre>\n\n<h2>How this works:</h2>\n\n<p><code>window</code> is an object which holds all global variables as its properties, and in JavaScript it is legal to try to access a non-existing object property. If <code>history</code> doesn't exist then <code>window.history</code> returns <code>undefined</code>. <code>undefined</code> is falsey, so code in an <code>if(undefined){}</code> block won't run.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Calling typeof null returns a value of \u201cobject\u201d, as the special value null is considered to be an empty object reference. Safari through version 5 and Chrome through version 7 have a quirk where calling typeof on a regular expression returns \u201cfunction\u201d while all other browsers return \u201cobject\u201d.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Since you are using <strong>jQuery</strong>,</p>\n\n<p><code>you can determine either a variable  is undefined or its value is null using a single function</code></p>\n\n<pre><code>var s; // undefined\njQuery.isEmptyObject(s); // will return true;\n\ns = null; // defined as null\njQuery.isEmptyObject(s); // will return true;\n\n//usage\nif(jQuery.isEmptyObject(s)){\n    alert('Either variable:s is undefined or its value is null');\n}else{\n     alert('variable:s has value ' + s);\n}\n\ns = 'something'; // defined with some value\njQuery.isEmptyObject(s); // will return false;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Shortest answer is:</p>\n\n<pre><code>if(!variable){\n  //dostuff\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The only thing that I'm certain works in all browsers is:</p>\n\n<pre><code>    try {\n        var UploadFileName = ImageUpload.files[0].name;\n        alert(\"I have a file, Yay!!!\");\n    } catch (err) {\n        alert(\"I dont have a File, Boooo!!!\");\n    }\n</code></pre>\n\n<p>I've tried all of the methods in this thread to no avail.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>jquery check element not null</p>\n\n<p>var dvElement = $('#dvElement');</p>\n\n<pre><code>if (dvElement.length  &gt; 0) {\n//do something\n}\nelse{\n//else do something else\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/27509/detecting-an-undefined-object-property-in-javascript\">Detecting an undefined object property in JavaScript</a>  </p>\n</blockquote>\n\n\n\n<p>How do I determine if variable is 'undefined' or 'null'.  My code is as follows:</p>\n\n<pre><code>EmpName = $(\"div#esd-names div#name\").attr('class');\nif(EmpName == 'undefined'){\n    //DO SOMETHING\n};\n</code></pre>\n\n<p>But if I do this, the JavaScript interpreter halts execution.</p>\n",
            "last_activity_date": 1425489020,
            "question_id": 2647867,
            "score": 383,
            "tags": [
                "javascript",
                "jquery",
                "variables",
                "null",
                "undefined"
            ],
            "title": "How to determine if variable is &#39;undefined&#39; or &#39;null&#39;"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I am not 100% sure, but I believe the difference is that the second example simply duplicates the contents of the Car class into the SuperCar object, while the first links the SuperCar prototype to the Car class, so that run-time changes to the Car class affect the SuperCar class as well.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The two blocks differ in a way that in the first example <code>Drive()</code> will only exist once while at the second approach <code>Drive()</code> will exist per instance (Every time you do <code>new Car()</code> the function <code>drive()</code> will be created again). Or different said the first uses the prototype to store the function and the second the constructor. The lookup for functions is constructor and then prototype. So for your lookup of <code>Drive()</code> it finds it regardless if it is in the constructor or in the prototype. Using the prototype is more efficient because usually you need a function only once per type.</p>\n\n<p>The <code>new</code> call in javascript automatically sets the constructor in the prototype. If you are overwriting the prototype so you have to set the constructor manually.</p>\n\n<p>Inheritance in javascript has nothing like <code>super</code>. So if you have a subclass the only chance to call the super constructor is by its name.</p>\n",
                    "is_accepted": true,
                    "score": 62
                },
                {
                    "body": "<p>To add to Norbert Hartl's answer, SuperCar.prototype.constructor isn't needed, but some people use it as a convenient way of getting the constructing function of an object (SuperCar objects in this case).</p>\n\n<p>Just from the first example, Car.call(this, name) is in the SuperCar constructor function because when you do this:</p>\n\n<pre><code>var mySuperCar = new SuperCar(\"SuperCar\");\n</code></pre>\n\n<p>This is what JavaScript does:</p>\n\n<ol>\n<li>A fresh, blank object is instantiated.</li>\n<li>The fresh object's internal prototype is set to Car.</li>\n<li>The SuperCar constructor function runs.</li>\n<li>The finished object is returned and set in mySuperCar.</li>\n</ol>\n\n<p>Notice how JavaScript didn't call Car for you. Prototypes being as they are, any property or method that you don't set yourself for SuperCar will be looked up in Car. Sometimes this is good, e.g. SuperCar doesn't have a Drive method, but it can share Car's one, so all SuperCars will use the same Drive method. Other times you don't want sharing, like each SuperCar having it's own Name. So how does one go about setting each SuperCar's name to it's own thing? You could set this.Name inside the SuperCar constructor function:</p>\n\n<pre><code>function SuperCar(name){\n    this.Name = name;\n}\n</code></pre>\n\n<p>This works, but wait a second. Didn't we do exactly the same thing in the Car constructor? Don't want to repeat ourselves. Since Car sets the name already, let's just call it.</p>\n\n<pre><code>function SuperCar(name){\n    this = Car(name);\n}\n</code></pre>\n\n<p>Whoops, you never want to change the special <code>this</code> object reference. Remember the 4 steps? Hang onto that object that JavaScript gave you, because it's the only way to keep the precious internal prototype link between your SuperCar object and Car. So how do we set Name, without repeating ourselves and without throwing away our fresh SuperCar object JavaScript spent so much special effort to prepare for us?</p>\n\n<p>Two things. One: the meaning of <code>this</code> is flexible. Two: Car is a function. It's possible to call Car, not with a pristine, fresh instantiated object, but instead with, say, a SuperCar object. That gives us the final solution, which is part of the first example in your question:</p>\n\n<pre><code>function SuperCar(name){\n    Car.call(this, name);\n}\n</code></pre>\n\n<p>As a function, Car is allowed to be invoked with the function's <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Function/call\">call method</a>, which changes the meaning of <code>this</code> within Car to the SuperCar instance we're building up. Presto! Now each SuperCar gets it's own Name property.</p>\n\n<p>To wrap up, <code>Car.call(this, name)</code> in the SuperCar constructor gives each new SuperCar object it's own unique Name property, but without duplicating the code that's already in Car.</p>\n\n<p>Prototypes aren't scary once you understand them, but they're not much like the classic class/inheritence OOP model at all. I wrote an article about <a href=\"http://www.spheredev.org/wiki/Prototypes_in_JavaScript\">the prototypes concept in JavaScript</a>. It's written for a game engine that uses JavaScript, but it's the same JavaScript engine used by Firefox, so it should all be relevant. Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 118
                },
                {
                    "body": "<p>Norbert, you should note that your first example is pretty much what Douglas Crockford calls pseudoclassical inheritance. Something things to note about this:</p>\n\n<ol>\n<li>You will call the Car constructor twice, once from the SuperCar.prototype = new Car() line and the other from the \"constructor stealing\" line Car.call(this...you can create a helper method to inherit prototypes instead and your Car constructor will only have to run once making the setup more efficient.</li>\n<li>The SuperCar.prototype.constructor = SuperCar line will allow you to use instanceof to identify the constructor. Some folks want this others just avoid using instanceof</li>\n<li>Reference vars like: var arr = ['one','two'] when defined on the super (eg Car) will get shared by ALL instances. This means inst1.arr.push['three'], inst2.arr.push['four'], etc., will show up for all instances! Essentially, static behavior that you probably don't want.</li>\n<li>You second block defines the fly method in the constructor. This means for every time that it's called, a \"method object\" will be created. Better to use a prototype for methods! You CAN however keep it in the constructor if you'd like - you just need to guard so you only actually initialize the prototype literal once (pseudo): if (SuperCar.prototype.myMethod != 'function')...then define your prototype literal.</li>\n<li>'Why call Car.call(this, name)....': I don't have time to look carefully at your code so I may be wrong but this is usually so that each instance can keep it's own state to fix the 'staticy' behavior issue of prototype chaining that I described above.</li>\n</ol>\n\n<p>Lastly, I'd like to mention that I have several examples of TDD JavaScript Inheritance code that works here: <a href=\"http://github.com/roblevintennis/Testing-and-Debugging-JavaScript\">TDD JavaScript Inheritance Code and Essay</a> I'd love to get your feedback as I'm hoping to improve it and keep it open source. The goal is to help classical programmers get up to speed with JavaScript quickly and also supplement the study both Crockford and Zakas books.</p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>I am new to JavaScript OOP. Can you please explain me what the difference is between the following blocks of code. I tested and both blocks work. What's the best practice and why?</p>\n\n<p>First block:</p>\n\n<pre><code>function Car(name){\n    this.Name = name;\n}\n\nCar.prototype.Drive = function(){\n    document.write(\"My name is \" + this.Name + \" and I'm driving. &lt;br /&gt;\");\n}\n\nSuperCar.prototype = new Car();\nSuperCar.prototype.constructor = SuperCar;\n\nfunction SuperCar(name){\n    Car.call(this, name);\n}\n\nSuperCar.prototype.Fly = function(){\n    document.write(\"My name is \" + this.Name + \" and I'm flying! &lt;br /&gt;\");\n}\n\nvar myCar = new Car(\"Car\");\nmyCar.Drive();\n\nvar mySuperCar = new SuperCar(\"SuperCar\");\nmySuperCar.Drive();\nmySuperCar.Fly();\n</code></pre>\n\n<p>Second block:</p>\n\n<pre><code>function Car(name){\n    this.Name = name;\n    this.Drive = function(){ \n        document.write(\"My name is \" + this.Name + \" and I'm driving. &lt;br /&gt;\");\n    }\n}\n\nSuperCar.prototype = new Car();\n\nfunction SuperCar(name){\n    Car.call(this, name);\n    this.Fly = function(){\n        document.write(\"My name is \" + this.Name + \" and I'm flying! &lt;br /&gt;\");\n    }\n}\n\nvar myCar = new Car(\"Car\");\nmyCar.Drive();\n\nvar mySuperCar = new SuperCar(\"SuperCar\");\nmySuperCar.Drive();\nmySuperCar.Fly();\n</code></pre>\n\n<p>Why does the author add <code>Drive</code> and <code>Fly</code> methods using <code>prototype</code>, but doesn't declare them as <code>this.Drive</code> method inside <code>Car</code> class and <code>this.Fly</code> in <code>SuperCar</code> class?</p>\n\n<p>Why does <code>SuperCar.prototype.constructor</code> need to be set back to <code>SuperCar</code>? Is constructor property overridden when <code>prototype</code> is set? I commented out this line and nothing changed.</p>\n\n<p>Why call <code>Car.call(this, name);</code> in <code>SuperCar</code> constructor? Won't properties and methods of <code>Car</code> be 'inherited' when I do</p>\n\n<pre><code>var myCar = new Car(\"Car\");\n</code></pre>\n",
            "last_activity_date": 1424191192,
            "question_id": 892595,
            "score": 122,
            "tags": [
                "javascript",
                "oop",
                "inheritance",
                "constructor",
                "prototype-programming"
            ],
            "title": "Javascript: prototypal inheritance"
        },
        {
            "answer_count": 13,
            "answers": [
                {
                    "body": "<p>Here's the pattern I have used for creating plugins with additional methods.  You would use it like:</p>\n\n<pre><code>$('selector').myplugin( { key: 'value' } );\n</code></pre>\n\n<p>or, to invoke a method directly,</p>\n\n<pre><code>$('selector').myplugin( 'mymethod1', 'argument' );\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>;(function($) {\n\n    $.fn.extend({\n        myplugin: function(options,arg) {\n            if (options &amp;&amp; typeof(options) == 'object') {\n                options = $.extend( {}, $.myplugin.defaults, options );\n            }\n\n            // this creates a plugin for each element in\n            // the selector or runs the function once per\n            // selector.  To have it do so for just the\n            // first element (once), return false after\n            // creating the plugin to stop the each iteration \n            this.each(function() {\n                new $.myplugin(this, options, arg );\n            });\n            return;\n        }\n    });\n\n    $.myplugin = function( elem, options, arg ) {\n\n        if (options &amp;&amp; typeof(options) == 'string') {\n           if (options == 'mymethod1') {\n               myplugin_method1( arg );\n           }\n           else if (options == 'mymethod2') {\n               myplugin_method2( arg );\n           }\n           return;\n        }\n\n        ...normal plugin actions...\n\n        function myplugin_method1(arg)\n        {\n            ...do method1 with this and arg\n        }\n\n        function myplugin_method2(arg)\n        {\n            ...do method2 with this and arg\n        }\n\n    };\n\n    $.myplugin.defaults = {\n       ...\n    };\n\n})(jQuery);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 44
                },
                {
                    "body": "<p>What about this approach:</p>\n\n<pre><code>jQuery.fn.messagePlugin = function(){\n    var selectedObjects = this;\n    return {\n             saySomething : function(message){\n                              $(selectedObjects).each(function(){\n                                $(this).html(message);\n                              });\n                              return selectedObjects; // Preserve the jQuery chainability \n                            },\n             anotherAction : function(){\n                               //...\n                               return selectedObjects;\n                             }\n           };\n}\n// Usage:\n$('p').messagePlugin().saySomething('I am a Paragraph').css('color', 'red');\n</code></pre>\n\n<p>The selected objects are stored in the messagePlugin closure, and that function returns an object that contains the functions associated with the plugin, the in each function you can perform the desired actions to the currently selected objects.</p>\n\n<p>You can test and play with the code <a href=\"http://jsbin.com/ebemu/edit\">here</a>.</p>\n\n<p><strong>Edit:</strong> Updated code to preserve the power of the jQuery chainability.</p>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>A simpler approach is to use nested functions. Then you can chain them in an object-oriented fashion. Example:</p>\n\n<pre><code>jQuery.fn.MyPlugin = function()\n{\n  var _this = this;\n  var a = 1;\n\n  jQuery.fn.MyPlugin.DoSomething = function()\n  {\n    var b = a;\n    var c = 2;\n\n    jQuery.fn.MyPlugin.DoSomething.DoEvenMore = function()\n    {\n      var d = a;\n      var e = c;\n      var f = 3;\n      return _this;\n    };\n\n    return _this;\n  };\n\n  return this;\n};\n</code></pre>\n\n<p>And here's how to call it:</p>\n\n<pre><code>var pluginContainer = $(\"#divSomeContainer\");\npluginContainer.MyPlugin();\npluginContainer.MyPlugin.DoSomething();\npluginContainer.MyPlugin.DoSomething.DoEvenMore();\n</code></pre>\n\n<p>Be careful though. You cannot call a nested function until it has been created. So you cannot do this:</p>\n\n<pre><code>var pluginContainer = $(\"#divSomeContainer\");\npluginContainer.MyPlugin();\npluginContainer.MyPlugin.DoSomething.DoEvenMore();\npluginContainer.MyPlugin.DoSomething();\n</code></pre>\n\n<p>The DoEvenMore function doesn't even exist because the DoSomething function hasn't been run yet which is required to create the DoEvenMore function. For most jQuery plugins, you really are only going to have one level of nested functions and not two as I've shown here.<br>\nJust make sure that when you create nested functions that you define these functions at the beginning of their parent function before any other code in the parent function gets executed.</p>\n\n<p>Finally, note that the \"this\" member is stored in a variable called \"_this\". For nested functions, you should return \"_this\" if you need a reference to the instance in the calling client. You cannot just return \"this\" in the nested function because that will return a reference to the function and not the jQuery instance. Returning a jQuery reference allows you to chain intrinsic jQuery methods on return.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>According to the jQuery Plugin Authoring page (<a href=\"http://docs.jquery.com/Plugins/Authoring\">http://docs.jquery.com/Plugins/Authoring</a>) its best not to muddy up the jQuery and jQuery.fn namespaces. They suggest this method</p>\n\n<pre><code>(function( $ ){\n\n    var methods = {\n        init : function(options) {\n\n        },\n        show : function( ) {    },// IS\n        hide : function( ) {  },// GOOD\n        update : function( content ) {  }// !!!\n    };\n\n    $.fn.tooltip = function(methodOrOptions) {\n        if ( methods[methodOrOptions] ) {\n            return methods[ methodOrOptions ].apply( this, Array.prototype.slice.call( arguments, 1 ));\n        } else if ( typeof methodOrOptions === 'object' || ! methodOrOptions ) {\n            // Default to \"init\"\n            return methods.init.apply( this, arguments );\n        } else {\n            $.error( 'Method ' +  methodOrOptions + ' does not exist on jQuery.tooltip' );\n        }    \n    };\n\n\n})( jQuery );\n</code></pre>\n\n<p>Basically you store your functions in an array (scoped to the wrapping function) and check for an entry if the parameter passed is a string, reverting to a default method (\"init\" here) if the parameter is an object (or null).</p>\n\n<p>Then you can call the methods like so...</p>\n\n<pre><code>$('div').tooltip(); // calls the init method\n$('div').tooltip({  // calls the init method\n  foo : 'bar'\n});\n$('div').tooltip('hide'); // calls the hide method\n$('div').tooltip('update', 'This is the new tooltip content!'); // calls the update method\n</code></pre>\n\n<p>Javascripts \"arguments\" variable is an array of all the arguments passed so it works with arbitrary lengths of function parameters.</p>\n",
                    "is_accepted": true,
                    "score": 163
                },
                {
                    "body": "<p>What you did is basically extending <strong>jQuery.fn.messagePlugin object</strong> by new method. Which is useful but not in your case.</p>\n\n<p>You have to do is using this technique</p>\n\n<pre><code>function methodA(args){ this // refers to object... }\nfunction saySomething(message){ this.html(message);  to first function }\n\njQuery.fn.messagePlugin = function(opts) {\n  if(opts=='methodA') methodA.call(this);\n  if(opts=='saySomething') saySomething.call(this, arguments[0]); // arguments is an array of passed parameters\n  return this.each(function(){\n    alert(this);\n  });\n\n};\n</code></pre>\n\n<p>But you can accomplish what you want I mean there is a way to do $(\"#mydiv\").messagePlugin().saySomething(\"hello\"); My friend he started writing about lugins and how to extend them with your chainf of functionalities here is the link to <a href=\"http://www.tectual.com.au/posts/3/How-To-Make-jQuery-Plugin-jQuery-Plugin-Hello-World-.html\" rel=\"nofollow\">his blog</a></p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>jQuery has made this a lot easier with the introduction of the <a href=\"http://learn.jquery.com/plugins/stateful-plugins-with-widget-factory/\">Widget Factory</a>.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>$.widget( \"myNamespace.myPlugin\", {\n\n    options: {\n        // Default options\n    },\n\n    _create: function() {\n        // Initialization logic here\n    },\n\n    // Create a public method.\n    myPublicMethod: function( argument ) {\n        // ...\n    },\n\n    // Create a private method.\n    _myPrivateMethod: function( argument ) {\n        // ...\n    }\n\n});\n</code></pre>\n\n<p><strong>Initialization:</strong></p>\n\n<pre><code>$('#my-element').myPlugin();\n$('#my-element').myPlugin( {defaultValue:10} );\n</code></pre>\n\n<p><strong>Method calling:</strong></p>\n\n<pre><code>$('#my-element').myPlugin('myPublicMethod', 20);\n</code></pre>\n\n<p>(This is how the <a href=\"http://learn.jquery.com/jquery-ui/\">jQuery UI</a> library is built.)</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>What about using triggers? Does anyone know any drawback using them?\nThe benefit is that all internal variables are accessible via the triggers, and the code is very simple.</p>\n\n<p>See on <a href=\"http://jsfiddle.net/styu/NwZZd/\" rel=\"nofollow\">jsfiddle</a>.</p>\n\n<h3>Example usage</h3>\n\n<pre><code>&lt;div id=\"mydiv\"&gt;This is the message container...&lt;/div&gt;\n\n&lt;script&gt;\n    var mp = $(\"#mydiv\").messagePlugin();\n\n    // the plugin returns the element it is called on\n    mp.trigger(\"messagePlugin.saySomething\", \"hello\");\n\n    // so defining the mp variable is not needed...\n    $(\"#mydiv\").trigger(\"messagePlugin.repeatLastMessage\");\n&lt;/script&gt;\n</code></pre>\n\n<h3>Plugin</h3>\n\n<pre><code>jQuery.fn.messagePlugin = function() {\n\n    return this.each(function() {\n\n        var lastmessage,\n            $this = $(this);\n\n        $this.on('messagePlugin.saySomething', function(e, message) {\n            lastmessage = message;\n            saySomething(message);\n        });\n\n        $this.on('messagePlugin.repeatLastMessage', function(e) {\n            repeatLastMessage();\n        });\n\n        function saySomething(message) {\n            $this.html(\"&lt;p&gt;\" + message + \"&lt;/p&gt;\");\n        }\n\n        function repeatLastMessage() {\n            $this.append('&lt;p&gt;Last message was: ' + lastmessage + '&lt;/p&gt;');\n        }\n\n    });\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The problem with the currently selected answer is that you're not actually creating a new instance of the custom plugin for every element in the selector like you think you're doing... you're actually only creating a single instance and passing in the selector itself as the scope.</p>\n\n<p>View <a href=\"http://jsfiddle.net/78NJP\" rel=\"nofollow\">this fiddle</a> for a deeper explanation.</p>\n\n<p>Instead, you'll need to loop through the selector using <a href=\"https://api.jquery.com/jQuery.each\" rel=\"nofollow\">jQuery.each</a> and instantiate a new instance of the custom plugin for every element in the selector.</p>\n\n<p>Here's how:</p>\n\n<pre><code>(function($) {\n\n    var CustomPlugin = function($el, options) {\n\n        this._defaults = {\n            randomizer: Math.random()\n        };\n\n        this._options = $.extend(true, {}, this._defaults, options);\n\n        this.options = function(options) {\n            return (options) ?\n                $.extend(true, this._options, options) :\n                this._options;\n        };\n\n        this.move = function() {\n            $el.css('margin-left', this._options.randomizer * 100);\n        };\n\n    };\n\n    $.fn.customPlugin = function(methodOrOptions) {\n\n        var method = (typeof methodOrOptions === 'string') ? methodOrOptions : undefined;\n\n        if (method) {\n            var customPlugins = [];\n\n            function getCustomPlugin() {\n                var $el          = $(this);\n                var customPlugin = $el.data('customPlugin');\n\n                customPlugins.push(customPlugin);\n            }\n\n            this.each(getCustomPlugin);\n\n            var args    = (arguments.length &gt; 1) ? Array.prototype.slice.call(arguments, 1) : undefined;\n            var results = [];\n\n            function applyMethod(index) {\n                var customPlugin = customPlugins[index];\n\n                if (!customPlugin) {\n                    console.warn('$.customPlugin not instantiated yet');\n                    console.info(this);\n                    results.push(undefined);\n                    return;\n                }\n\n                if (typeof customPlugin[method] === 'function') {\n                    var result = customPlugin[method].apply(customPlugin, args);\n                    results.push(result);\n                } else {\n                    console.warn('Method \\'' + method + '\\' not defined in $.customPlugin');\n                }\n            }\n\n            this.each(applyMethod);\n\n            return (results.length &gt; 1) ? results : results[0];\n        } else {\n            var options = (typeof methodOrOptions === 'object') ? methodOrOptions : undefined;\n\n            function init() {\n                var $el          = $(this);\n                var customPlugin = new CustomPlugin($el, options);\n\n                $el.data('customPlugin', customPlugin);\n            }\n\n            return this.each(init);\n        }\n\n    };\n\n})(jQuery);\n</code></pre>\n\n<p>And a <a href=\"http://jsfiddle.net/Aq7Y4\" rel=\"nofollow\">working fiddle</a>.</p>\n\n<p>You'll notice how in the first fiddle, all divs are always moved to the right the exact same number of pixels. That is because only <strong>one</strong> options object exists for all elements in the selector.</p>\n\n<p>Using the technique written above, you'll notice that in the second fiddle, each div is not aligned and is randomly moved (excluding the first div as it's randomizer is always set to 1 on line 89). That is because we are now properly instantiating a new custom plugin instance for every element in the selector. Every element has its own options object and is not saved in the selector, but in the instance of the custom plugin itself.</p>\n\n<p>This means that you'll be able to access the methods of the custom plugin instantiated on a specific element in the DOM from new jQuery selectors and aren't forced to cache them, as you would be in the first fiddle.</p>\n\n<p>For example, this would return an array of all options objects using the technique in the second fiddle. It would return undefined in the first.</p>\n\n<pre><code>$('div').customPlugin();\n$('div').customPlugin('options'); // would return an array of all options objects\n</code></pre>\n\n<p>This is how you would have to access the options object in the first fiddle, and would only return a single object, not an array of them:</p>\n\n<pre><code>var divs = $('div').customPlugin();\ndivs.customPlugin('options'); // would return a single options object\n\n$('div').customPlugin('options');\n// would return undefined, since it's not a cached selector\n</code></pre>\n\n<p>I'd suggest using the technique above, not the one from the currently selected answer.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Too late but maybe it can help someone one day.</p>\n\n<p>I was in the same situation like, creating a jQuery plugin with some methods, and after reading some articles and some tires I create a jQuery plugin boilerplate (<a href=\"https://github.com/acanimal/jQuery-Plugin-Boilerplate\" rel=\"nofollow\">https://github.com/acanimal/jQuery-Plugin-Boilerplate</a>).</p>\n\n<p>In addition, I develop with it a plugin to manage tags (<a href=\"https://github.com/acanimal/tagger.js\" rel=\"nofollow\">https://github.com/acanimal/tagger.js</a>) and wrote a two blog posts explaining step by step the creation of a jQuery plugin (<a href=\"http://acuriousanimal.com/blog/2013/01/15/things-i-learned-creating-a-jquery-plugin-part-i/\" rel=\"nofollow\">http://acuriousanimal.com/blog/2013/01/15/things-i-learned-creating-a-jquery-plugin-part-i/</a>).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I got it from <a href=\"http://lab.abhinayrathore.com/jquery-standards/\" rel=\"nofollow\">jQuery Plugin Boilerplate</a></p>\n\n<p>Also described in <a href=\"http://stefangabos.ro/jquery/jquery-plugin-boilerplate-oop/\" rel=\"nofollow\">jQuery Plugin Boilerplate, reprise</a></p>\n\n<pre><code>// jQuery Plugin Boilerplate\n// A boilerplate for jumpstarting jQuery plugins development\n// version 1.1, May 14th, 2011\n// by Stefan Gabos\n\n// remember to change every instance of \"pluginName\" to the name of your plugin!\n(function($) {\n\n    // here we go!\n    $.pluginName = function(element, options) {\n\n    // plugin's default options\n    // this is private property and is accessible only from inside the plugin\n    var defaults = {\n\n        foo: 'bar',\n\n        // if your plugin is event-driven, you may provide callback capabilities\n        // for its events. execute these functions before or after events of your\n        // plugin, so that users may customize those particular events without\n        // changing the plugin's code\n        onFoo: function() {}\n\n    }\n\n    // to avoid confusions, use \"plugin\" to reference the\n    // current instance of the object\n    var plugin = this;\n\n    // this will hold the merged default, and user-provided options\n    // plugin's properties will be available through this object like:\n    // plugin.settings.propertyName from inside the plugin or\n    // element.data('pluginName').settings.propertyName from outside the plugin,\n    // where \"element\" is the element the plugin is attached to;\n    plugin.settings = {}\n\n    var $element = $(element), // reference to the jQuery version of DOM element\n    element = element; // reference to the actual DOM element\n\n    // the \"constructor\" method that gets called when the object is created\n    plugin.init = function() {\n\n    // the plugin's final properties are the merged default and\n    // user-provided options (if any)\n    plugin.settings = $.extend({}, defaults, options);\n\n    // code goes here\n\n   }\n\n   // public methods\n   // these methods can be called like:\n   // plugin.methodName(arg1, arg2, ... argn) from inside the plugin or\n   // element.data('pluginName').publicMethod(arg1, arg2, ... argn) from outside\n   // the plugin, where \"element\" is the element the plugin is attached to;\n\n   // a public method. for demonstration purposes only - remove it!\n   plugin.foo_public_method = function() {\n\n   // code goes here\n\n    }\n\n     // private methods\n     // these methods can be called only from inside the plugin like:\n     // methodName(arg1, arg2, ... argn)\n\n     // a private method. for demonstration purposes only - remove it!\n     var foo_private_method = function() {\n\n        // code goes here\n\n     }\n\n     // fire up the plugin!\n     // call the \"constructor\" method\n     plugin.init();\n\n     }\n\n     // add the plugin to the jQuery.fn object\n     $.fn.pluginName = function(options) {\n\n        // iterate through the DOM elements we are attaching the plugin to\n        return this.each(function() {\n\n          // if plugin has not already been attached to the element\n          if (undefined == $(this).data('pluginName')) {\n\n              // create a new instance of the plugin\n              // pass the DOM element and the user-provided options as arguments\n              var plugin = new $.pluginName(this, options);\n\n              // in the jQuery version of the element\n              // store a reference to the plugin object\n              // you can later access the plugin and its methods and properties like\n              // element.data('pluginName').publicMethod(arg1, arg2, ... argn) or\n              // element.data('pluginName').settings.propertyName\n              $(this).data('pluginName', plugin);\n\n           }\n\n        });\n\n    }\n\n})(jQuery);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Try this one:</p>\n\n<pre><code>$.fn.extend({\n\"calendar\":function(){\n    console.log(this);\n    var methods = {\n            \"add\":function(){console.log(\"add\"); return this;},\n            \"init\":function(){console.log(\"init\"); return this;},\n            \"sample\":function(){console.log(\"sample\"); return this;}\n    };\n\n    methods.init(); // you can call any method inside\n    return methods;\n}}); \n$.fn.calendar() // caller or \n$.fn.calendar().sample().add().sample() ......; // call methods\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here is my bare-bones version of this. Similar to the ones posted before, you would call like:</p>\n\n<pre><code>$('#myDiv').MessagePlugin({ yourSettings: 'here' })\n           .MessagePlugin('saySomething','Hello World!');\n</code></pre>\n\n<p>-or access the instance directly @ <code>plugin_MessagePlugin</code></p>\n\n<pre><code>$elem = $('#myDiv').MessagePlugin();\nvar instance = $elem.data('plugin_MessagePlugin');\ninstance.saySomething('Hello World!');\n</code></pre>\n\n<p>MessagePlugin.js</p>\n\n<pre><code>;(function($){\n\n    function MessagePlugin(element,settings){ // The Plugin\n        this.$elem = element;\n        this._settings = settings;\n        this.settings = $.extend(this._default,settings);\n    }\n\n    MessagePlugin.prototype = { // The Plugin prototype\n        _default: {\n            message: 'Generic message'\n        },\n        initialize: function(){},\n        saySomething: function(message){\n            message = message || this._default.message;\n            return this.$elem.html(message);\n        }\n    };\n\n    $.fn.MessagePlugin = function(settings){ // The Plugin call\n\n        var instance = this.data('plugin_MessagePlugin'); // Get instance\n\n        if(instance===undefined){ // Do instantiate if undefined\n            settings = settings || {};\n            this.data('plugin_MessagePlugin',new MessagePlugin(this,settings));\n            return this;\n        }\n\n        if($.isFunction(MessagePlugin.prototype[settings])){ // Call method if argument is name of method\n            var args = Array.prototype.slice.call(arguments); // Get the arguments as Array\n            args.shift(); // Remove first argument (name of method)\n            return MessagePlugin.prototype[settings].apply(instance, args); // Call the method\n        }\n\n        // Do error handling\n\n        return this;\n    }\n\n})(jQuery);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This can actually be made to work in a \"nice\" way using <code>defineProperty</code>. Where \"nice\" means without having to use <code>()</code> to get plugin namespace nor having to pass function name by string.</p>\n\n<p><strong>Compatibility nit:</strong> <code>defineProperty</code> doesn't work in ancient browsers such as IE8 and below.\n<strong>Caveat:</strong> <code>$.fn.color.blue.apply(foo, args)</code> won't work, you need to use <code>foo.color.blue.apply(foo, args)</code>.</p>\n\n<pre><code>function $_color(color)\n{\n    return this.css('color', color);\n}\n\nfunction $_color_blue()\n{\n    return this.css('color', 'blue');\n}\n\nObject.defineProperty($.fn, 'color',\n{\n    enumerable: true,\n    get: function()\n    {\n        var self = this;\n\n        var ret = function() { return $_color.apply(self, arguments); }\n        ret.blue = function() { return $_color_blue.apply(self, arguments); }\n\n        return ret;\n    }\n});\n\n$('#foo').color('#f00');\n$('#bar').color.blue();\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/2ok8mmr7/\" rel=\"nofollow\">JSFiddle link</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm trying to write a jQuery plugin that will provide additional functions/methods to the object that calls it. All the tutorials I read online (have been browsing for the past 2 hours) include, at the most, how to add options, but not additional functions.</p>\n\n<p>Here's what I am looking to do:</p>\n\n<p>//format div to be a message container by calling the plugin for that div</p>\n\n<pre><code>$(\"#mydiv\").messagePlugin();\n$(\"#mydiv\").messagePlugin().saySomething(\"hello\");\n</code></pre>\n\n<p>or something along those lines.\nHere's what it boils down to: I call the plugin, then I call a function associated with that plugin. I can't seem to find a way to do this, and I've seen many plugins do it before.</p>\n\n<p>Here's what I have so far for the plugin:</p>\n\n<pre><code>jQuery.fn.messagePlugin = function() {\n  return this.each(function(){\n    alert(this);\n  });\n\n  //i tried to do this, but it does not seem to work\n  jQuery.fn.messagePlugin.saySomething = function(message){\n    $(this).html(message);\n  }\n};\n</code></pre>\n\n<p>How can I achieve something like that?</p>\n\n<p>Thank you!</p>\n\n<hr>\n\n<p>Update Nov 18, 2013: I've changed the correct answer to that of Hari's following comments and upvotes.</p>\n",
            "last_activity_date": 1424463678,
            "question_id": 1117086,
            "score": 101,
            "tags": [
                "javascript",
                "jquery",
                "jquery-plugins",
                "javascript-framework"
            ],
            "title": "How to create a jQuery plugin with methods?"
        },
        {
            "answer_count": 28,
            "answers": [
                {
                    "body": "<p>There's no easy way to do this. You'll have to loop over the properties explicitly:</p>\n\n<pre><code>function isEmpty(obj) {\n    for(var prop in obj) {\n        if(obj.hasOwnProperty(prop))\n            return false;\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>If <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys#Browser_compatibility\">ECMAScript 5 support</a> is available, you can use <code>Object.keys()</code> instead:</p>\n\n<pre><code>function isEmpty(obj) {\n    return Object.keys(obj).length === 0;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 439
                },
                {
                    "body": "<ol>\n<li><p>Just a workaround. Can your server generate some special property in case of no data?</p>\n\n<p>For example:</p>\n\n<pre><code>var a = {empty:true};\n</code></pre>\n\n<p>Then you can easily check it in your AJAX callback code.</p></li>\n<li><p>Another way to check it:</p>\n\n<pre><code>if (a.toSource() === \"({})\")  // then 'a' is empty\n</code></pre></li>\n</ol>\n\n<p><strong>EDIT</strong>:\nIf you use any JSON library (f.e. JSON.js) then you may try JSON.encode() function and test the result against empty value string.</p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<pre><code>function isEmpty(obj) {\n  for(var i in obj) { return false; }\n  return true;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>In addition to Thevs answer:</p>\n\n<pre><code>var o = {};\nalert($.toJSON(o)=='{}'); // true\n\nvar o = {a:1};\nalert($.toJSON(o)=='{}'); // false\n</code></pre>\n\n<p>it's jquery + jquery.json</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>For those of you who have the same problem but uses jQuery, you can use <a href=\"http://api.jquery.com/jQuery.isEmptyObject/\">jQuery.isEmptyObject</a>.</p>\n",
                    "is_accepted": true,
                    "score": 410
                },
                {
                    "body": "<p>jQuery have special function <code>isEmptyObject()</code> for this case:</p>\n\n<pre><code>jQuery.isEmptyObject({}) // true\njQuery.isEmptyObject({ foo: \"bar\" }) // false\n</code></pre>\n\n<p>Read more on <a href=\"http://api.jquery.com/jQuery.isEmptyObject/\">http://api.jquery.com/jQuery.isEmptyObject/</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>You can use <a href=\"http://documentcloud.github.com/underscore/\">Underscore.js</a>.</p>\n\n<pre><code>_.isEmpty({}); // true\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 107
                },
                {
                    "body": "<p>Caveat! Beware of JSON's limitiations.</p>\n\n<pre><code>javascript:\n  obj={  f:function(){}  };\n  alert( \"Beware!! obj is NOT empty!\\n\\nobj = {  f:function(){}  }\" + \n               \"\\n\\nJSON.stringify( obj )\\n\\nreturns\\n\\n\" +\n                        JSON.stringify( obj ) );\n</code></pre>\n\n<p>displays</p>\n\n<pre>\n    Beware!! obj is NOT empty!\n\n    obj = {  f:function(){}  }\n\n    JSON.stringify( obj )\n\n    returns\n\n    {}\n</pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>My take:</p>\n\n<pre><code>function isEmpty(obj) {\n    return !Object.keys(obj).length &gt; 0;\n}\n\nvar a = {a:1, b:2}\nvar b = {}\n\nconsole.log(isEmpty(a)); // false\nconsole.log(isEmpty(b)); // true\n</code></pre>\n\n<p>Just, I don't think all browsers implement <code>Object.keys()</code> currently.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I have an easy(but not generic) solution for this scenario : </p>\n\n<p>if you know a specific property name for your object , then you can easily check if that property exists. This way you would know if that object is empty or not , and you wouldn't need to traverse all the properties or use a library.</p>\n\n<p>Let me give an example : there is an object that , if its not empty, must have a property named \"myProperty\". Then you can check it like :</p>\n\n<pre><code>if(myObject['myProperty']){\nalert(\"NOT EMPTY\");\n}else{\n    alert(\"EMPTY\")\n}\n</code></pre>\n\n<p>this is not a generic solution but it's been doing all i need actually, as most times i know what to expect in an object that i'm performing an empty check.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>A version adding isEmpty() to the object prototype:</p>\n\n<pre><code>// As a prototype:\nObject.prototype.isEmpty = function() {\n    for(var i in this) \n        return false;\n    return true;\n}\n\n// As a function\nfunction objectIsEmpty(obj) {\n    for (var i in obj) return false;\n    return true;\n}\n\nvar obj = {};\nif (obj.isEmpty()) console.log('empty');\nif (objectIsEmpty(obj)) console.log('empty');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -4
                },
                {
                    "body": "<p>There is a simple way if you are on a newer browser.\n<code>Object.keys(obj).length == 0</code></p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>I am using this.</p>\n\n<pre><code>function isObjectEmpty(object)\n{\n  var isEmpty = true;\n  for(keys in object)\n  {\n     isEmpty = false;\n     break; // exiting since we found that the object is not empty\n  }\n  return isEmpty;\n}\n</code></pre>\n\n<p>Eg:</p>\n\n<pre><code>var myObject = {}; // Object is empty\nvar isEmpty  = isObjectEmpty(myObject); // will return true;\n\n// populating the object\nmyObject = {\"name\":\"John Smith\",\"Address\":\"Kochi, Kerala\"}; \n\n// check if the object is empty\nisEmpty  = isObjectEmpty(myObject); // will return false;\n</code></pre>\n\n<p><a href=\"http://www.einternals.com/blog/web-development/how-to-check-if-an-object-is-empty\">from here</a></p>\n\n<p><strong>Update</strong></p>\n\n<p>OR</p>\n\n<p>you can use the jQuery implementation of isEmptyObject</p>\n\n<pre><code>function isEmptyObject ( obj ) {\n        var name;\n        for ( name in obj ) {\n            return false;\n        }\n        return true;\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p><a href=\"http://sugarjs.com/\" rel=\"nofollow\">Sugar.JS</a> provides extended objects for this purpose. The code is clean and simple:</p>\n\n<p>Make an extended object:</p>\n\n<pre><code>a = Object.extended({})\n</code></pre>\n\n<p>Check it's size:</p>\n\n<pre><code>a.size()\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>How about using JSON.stringify? It is almost available in all modern browsers.</p>\n\n<pre><code>function isEmptyObject(obj){\n    if (JSON.stringify(obj) == '{}'){\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>Old question, but just had the issue. Including JQuery is not really a good idea if your only purpose is to check if the object is not empty. Instead, just deep into <a href=\"http://code.jquery.com/jquery-1.9.0.js\">JQuery's code</a>, and you will get the answer:</p>\n\n<pre><code>function isEmptyObject(obj) {\n    var name;\n    for (name in obj) {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p><br>\nyou can use this simple code that did not use <em>jQuery</em> or other libraries</p>\n\n<pre><code>var a=({});\n\n//check is an empty object\nif(JSON.stringify(a)=='{}') {\n    alert('it is empty');\n} else {\n    alert('it is not empty');\n}\n</code></pre>\n\n<p><strong>JSON</strong> class and it's functions (<strong>parse</strong> and <strong>stringify</strong>) are very usefull but has some problems with <em>IE7</em> that you can fix it with this simple code <a href=\"http://www.json.org/js.html\">http://www.json.org/js.html</a>.\n<br/><br/>\n<strong>Other Simple Way (simplest Way) :</strong><br/>\nyou can use this way without using <strong>jQuery</strong> or <strong>JSON</strong> object.<br/></p>\n\n<pre><code>var a=({});\n\nfunction isEmptyObject(obj) {\n    if(typeof obj!='object') {\n        //it is not object, so is not empty\n        return false;\n    } else {\n        var x,i=0;\n        for(x in obj) {\n            i++;\n        }\n        if(i&gt;0) {\n            //this object has some properties or methods\n            return false;\n        } else {\n            //this object has not any property or method\n            return true;\n        }\n    }\n}\n\nalert(isEmptyObject(a));    //true is alerted\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<pre><code>if(Object.getOwnPropertyNames(obj).length === 0){\n  //is empty\n}\n</code></pre>\n\n<p>see <a href=\"http://bencollier.net/2011/04/javascript-is-an-object-empty/\">http://bencollier.net/2011/04/javascript-is-an-object-empty/</a> </p>\n",
                    "is_accepted": false,
                    "score": 68
                },
                {
                    "body": "<p>If jQuery and the web browser is not available, there is also an isEmpty function in underscore.js.</p>\n\n<pre><code>_.isEmpty({}) // returns true\n</code></pre>\n\n<p>Additionally, it does not assume the input parameter to be an object. For a list or string or undefined, it will also turn the correct answer.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>As of jQuery 1.4 <code>isEmptyObject()</code> method checks both properties on the object itself and properties inherited from prototypes (in that it doesn't use hasOwnProperty). The argument should always be a plain JavaScript Object as other types of object (DOM elements, primitive strings/numbers, host objects) may not give consistent results across browsers. To determine if an object is a plain JavaScript object, use <code>$.isPlainObject()</code>.</p>\n\n<pre><code>jQuery.isPlainObject({}) // true\n\njQuery.isPlainObject( \"test\" ) // false\n</code></pre>\n\n<p><a href=\"http://api.jquery.com/jQuery.isPlainObject/\" rel=\"nofollow\">Jquery api</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you are checking object's emptiness for going in some code block, add a break after first foreach round, the code looks as simple as if statement.</p>\n\n<pre><code> for(key in obj){\n\n //your work here.\n\n break;\n }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've created a complete function to determine if object is empty.</p>\n\n<p>It uses <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\" rel=\"nofollow\"><code>Object.keys</code></a> from <a href=\"http://en.wikipedia.org/wiki/ECMAScript#ECMAScript.2C_5th_Edition\" rel=\"nofollow\">ECMAScript 5</a> (ES5) functionality if possible to achieve the best performance possible (see <a href=\"http://kangax.github.io/compat-table/es5/#Object.keys\" rel=\"nofollow\">compatibility table</a>) and fallbacks to the most compatible approach for older engines (browsers).</p>\n\n<h1>Solution</h1>\n\n<pre><code>/**\n * Returns true if specified object has no properties,\n * false otherwise.\n *\n * @param {object} object\n * @returns {boolean}\n */\nfunction isObjectEmpty(object)\n{\n    if ('object' !== typeof object) {\n        throw new Error('Object must be specified.');\n    }\n\n    if (null === object) {\n        return true;\n    }\n\n    if ('undefined' !== Object.keys) {\n        // Using ECMAScript 5 feature.\n        return (0 === Object.keys(object).length);\n    } else {\n        // Using legacy compatibility mode.\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p>Here's the <a href=\"https://gist.github.com/slavafomin/c7ab7f7e45431748ad8c#file-object-empty-js\" rel=\"nofollow\">Gist</a> for this code.</p>\n\n<p>And here's the <a href=\"http://jsfiddle.net/slavafomin/b2rw4/\" rel=\"nofollow\">JSFiddle</a> with demonstration and a simple test.</p>\n\n<p>I hope it will help someone. Cheers!</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>I was returning an empty JSON response for an AJAX call and in IE8 jQuery.isEmptyObject() was not validating correctly. I added an additional check that seems to catch it properly.</p>\n\n<pre><code>.done(function(data)\n{  \n    // Parse json response object\n    var response = jQuery.parseJSON(data);\n\n    // In IE 8 isEmptyObject doesn't catch the empty response, so adding additional undefined check\n    if(jQuery.isEmptyObject(response) || response.length === 0)\n    {\n        //empty\n    }\n    else\n    {\n        //not empty\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is my preferred solution:</p>\n\n<pre><code>var obj = {};\nreturn Object.keys(obj).length; //returns 0 if empty or an integer &gt; 0 if non-empty\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 42
                },
                {
                    "body": "<p>I just ran into a similar situation.\nI didn't want to use JQuery, and wanted to do this by using pure Javascript.</p>\n\n<p>And here's what I did. I used the following condition, and it worked for me.</p>\n\n<p><code>var obj = {};\nif(JSON.stringify(obj) === '{}') { //This will check if the object is empty\n   //Code here..\n}</code></p>\n\n<p>For not equal to, use this : <code>JSON.stringify(obj) !== '{}'</code></p>\n\n<p>Check out this <a href=\"http://jsfiddle.net/anish_nair/8fr4r508/\">JSFiddle</a></p>\n\n<p>Hope it helps.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>this one line code helps </p>\n\n<pre><code>var a = {}; //if empty returns false\n(Object.getOwnPropertyNames != undefined ? Object.getOwnPropertyNames(a).length != 0 : (function(){for(var key in a) break; return (key != null) &amp;&amp; (key != undefined);})()) //Returns False\n\nvar a = {b:2} //if not empty returns true\n(Object.getOwnPropertyNames != undefined ? Object.getOwnPropertyNames(a).length != 0 : (function(){for(var key in a) break; return (key != null) &amp;&amp; (key != undefined);})()) //Returns true\n</code></pre>\n\n<p><strong>Object.getOwnPropertyNames</strong> is implemented in ECMA-5. the above line works in older browsers with a fallback function.</p>\n\n<p><a href=\"http://jsfiddle.net/oLezku0t/\" rel=\"nofollow\">JSFiddler</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Wondered why no body mentioned below solution.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>if(myObject != null){\r\n  // not null; your code here\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<pre><code>    isEmpty = function(obj) {\n      if (obj == null) return true;\n      if (obj.constructor.name == \"Array\" || obj.constructor.name == \"String\") return obj.length === 0;\n      for (var key in obj) if (isEmpty(obj[key])) return true;\n      return false;\n    }\n</code></pre>\n\n<p>This will check the emptiness of String, Array or Object (Maps).</p>\n\n<p>Usage : </p>\n\n<pre><code>var a = {\"a\":\"xxx\",\"b\":[1],\"c\":{\"c_a\":\"\"}}\nisEmpty(a); // true, because a.c.c_a is empty.\nisEmpty(\"I am a String\"); //false\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>After an AJAX request, sometimes my application may return an empty object, like:</p>\n\n<pre><code>var a = ({});\n</code></pre>\n\n<p>How can I check whether that's the case?</p>\n",
            "last_activity_date": 1424570368,
            "question_id": 679915,
            "score": 406,
            "tags": [
                "javascript",
                "ajax",
                "json"
            ],
            "title": "How do I test for an empty Javascript object?"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>Unfortunately there is no event or set of events that matches your criteria.  Keypresses and copy/paste can both be handled with the <code>keyup</code> event.  Changes through JS are trickier.  If you have control over the code that sets the textbox, your best bet is to modify it to either call your function directly or trigger a user event on the textbox:</p>\n\n<pre><code>// Compare the textbox's current and last value.  Report a change to the console.\nfunction watchTextbox() {\n  var txtInput = $('#txtInput');\n  var lastValue = txtInput.data('lastValue');\n  var currentValue = txtInput.val();\n  if (lastValue != currentValue) {\n    console.log('Value changed from ' + lastValue + ' to ' + currentValue);\n    txtInput.data('lastValue', currentValue);\n  }\n}\n\n// Record the initial value of the textbox.\n$('#txtInput').data('lastValue', $('#txtInput').val());\n\n// Bind to the keypress and user-defined set event.\n$('#txtInput').bind('keypress set', null, watchTextbox);\n\n// Example of JS code triggering the user event\n$('#btnSetText').click(function (ev) {\n  $('#txtInput').val('abc def').trigger('set');\n});\n</code></pre>\n\n<p>If you don't have control over that code, you could use <code>setInterval()</code> to 'watch' the textbox for changes:</p>\n\n<pre><code>// Check the textbox every 100 milliseconds.  This seems to be pretty responsive.\nsetInterval(watchTextbox, 100);\n</code></pre>\n\n<p>This sort of active monitoring won't catch updates 'immediately', but it seems to be fast enough that there is no perceptible lag.  As DrLouie pointed out in comments, this solution probably doesn't scale well if you need to watch lots of inputs.  You can always adjust the 2nd parameter to <code>setInterval()</code> to check more or less frequently.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>Well, best way is to cover those three bases you listed by yourself. A simple :onblur, :onkeyup, etc won't work for what you want, so just combine them.</p>\n\n<p>KeyUp should cover the first two, and if Javascript is modifying the input box, well I sure hope it's your own javascript, so just add a callback in the function that modifies it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>you can see this example and choose which are the events that interest you:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=iso-8859-1\" /&gt;\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"&gt;&lt;/script&gt; \n&lt;title&gt;evetns&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form&gt;\n    &lt;input class=\"controlevents\" id=\"i1\" type=\"text\" /&gt;&lt;br /&gt;\n    &lt;input class=\"controlevents\" id=\"i2\" type=\"text\" /&gt;&lt;br /&gt;\n    &lt;input class=\"controlevents\" id=\"i3\" type=\"text\" /&gt;&lt;br /&gt;\n    &lt;input class=\"controlevents\" id=\"i4\" type=\"text\" /&gt;&lt;br /&gt;\n    &lt;input class=\"controlevents\" id=\"i5\" type=\"text\" /&gt;&lt;br /&gt;\n&lt;/form&gt;\n&lt;div id=\"datatext\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n&lt;script&gt;\n$(function(){\n\nfunction testingevent(ev){\n\tif (ev.currentTarget.tagName==\"INPUT\")\n\t\t$(\"#datatext\").append(\"&lt;div&gt;id : \" + ev.currentTarget.id + \", tag: \" + ev.currentTarget.tagName + \", type: \"+ ev.type +\"&lt;/div&gt;\");\n}\t\n\n    var eventlist = [\"resizeend\",\"rowenter\",\"dragleave\",\"beforepaste\",\"dragover\",\"beforecopy\",\"page\",\"beforeactivate\",\"beforeeditfocus\",\"controlselect\",\"blur\",\n                    \"beforedeactivate\",\"keydown\",\"dragstart\",\"scroll\",\"propertychange\",\"dragenter\",\"rowsinserted\",\"mouseup\",\"contextmenu\",\"beforeupdate\",\n                    \"readystatechange\",\"mouseenter\",\"resize\",\"copy\",\"selectstart\",\"move\",\"dragend\",\"rowexit\",\"activate\",\"focus\",\"focusin\",\"mouseover\",\"cut\",\n    \t\t\t\t\"mousemove\",\"focusout\",\"filterchange\",\"drop\",\"blclick\",\"rowsdelete\",\"keypress\",\"losecapture\",\"deactivate\",\"datasetchanged\",\"dataavailable\",\n    \t\t\t\t\"afterupdate\",\"mousewheel\",\"keyup\",\"movestart\",\"mouseout\",\"moveend\",\"cellchange\",\"layoutcomplete\",\"help\",\"errorupdate\",\"mousedown\",\"paste\",\n    \t\t\t\t\"mouseleave\",\"click\",\"drag\",\"resizestart\",\"datasetcomplete\",\"beforecut\",\"change\",\"error\",\"abort\",\"load\",\"select\"];\n\n    var inputs = $(\".controlevents\");\n\n    $.each(eventlist, function(i, el){\n    \tinputs.bind(el, testingevent);\n    });\n\n});\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Unfortunately, I think <code>setInterval</code> wins the prize:</p>\n\n<pre><code>&lt;input type=text id=input_id /&gt;\n&lt;script&gt;\nsetInterval(function() { ObserveInputValue($('#input_id').val()); }, 100);\n&lt;/script&gt;\n</code></pre>\n\n<p>It's the cleanest solution, at only 1 line of code.  It's also the most robust, since you don't have to worry about all the different events/ways an <code>input</code> can get a value.</p>\n\n<p>The downsides of using 'setInterval' don't seem to apply in this case:</p>\n\n<ul>\n<li><strong>The 100ms latency?</strong>  For many applications, 100ms is fast enough.</li>\n<li><strong>Added load on the browser?</strong>  In general, adding lots of heavy-weight setIntervals on your page is bad.  But in this particular case, the added page load is undetectable.</li>\n<li><strong>It doesn't scale to many inputs?</strong>  Most pages don't have more than a handful of inputs, which you can sniff all in the same setInterval.</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 46
                },
                {
                    "body": "<p>This jQuery code catches immediate changes to any element, and should work across all browsers:</p>\n\n<pre><code> $('.myElements').each(function() {\n   var elem = $(this);\n\n   // Save current value of element\n   elem.data('oldVal', elem.val());\n\n   // Look for changes in the value\n   elem.bind(\"propertychange change click keyup input paste\", function(event){\n      // If value has changed...\n      if (elem.data('oldVal') != elem.val()) {\n       // Updated stored value\n       elem.data('oldVal', elem.val());\n\n       // Do action\n       ....\n     }\n   });\n });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 176
                },
                {
                    "body": "<p>I may be late to the party here but can you not just use the .change() event that jQuery provides.</p>\n\n<p>You should be able to do something like ...</p>\n\n<pre><code>$(#CONTROLID).change(function(){\n    do your stuff here ...\n});\n</code></pre>\n\n<p>You could always bind it to a list of controls with something like ...</p>\n\n<pre><code>var flds = $(\"input, textarea\", window.document);\n\nflds.live('change keyup', function() {\n    do your code here ...\n});\n</code></pre>\n\n<p>The live binder ensures that all elements that exist on the page now and in the future are handled.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>Here is a slightly different solution if you didn't fancy any of the other answers:  </p>\n\n<pre><code>var field_selectors = [\"#a\", \"#b\"];\nsetInterval(function() { \n  $.each(field_selectors, function() { \n    var input = $(this);\n    var old = input.attr(\"data-old-value\");\n    var current = input.val();\n    if (old !== current) { \n      if (typeof old != 'undefined') { \n        ... your code ...\n      }\n      input.attr(\"data-old-value\", current);\n    }   \n  }   \n}, 500);\n</code></pre>\n\n<p>Consider that you cannot rely on click and keyup to capture context menu paste. </p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Binding to the <code>oninput</code> event seems to work fine in most sane browsers. IE9 supports it too, but the implementation is buggy (the event is not fired when deleting characters).</p>\n\n<p>With jQuery version 1.7+ the <code>on</code> method is useful to bind to the event like this:</p>\n\n<pre><code>$(\".inputElement\").on(\"input\", null, null, callbackFunction);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<p>A realtime fancy solution for jquery >= 1.9</p>\n\n<pre><code>$(\"#input-id\").on(\"change keyup paste\", function(){\n    dosomething();\n})\n</code></pre>\n\n<p>if you also want to detect \"click\" event, just:</p>\n\n<pre><code>$(\"#input-id\").on(\"change keyup paste click\", function(){\n    dosomething();\n})\n</code></pre>\n\n<p>if your jquery &lt;=1.4, just use \"live\" instead of \"on\".</p>\n",
                    "is_accepted": false,
                    "score": 33
                },
                {
                    "body": "<p>This is the fastest&amp; clean way to do that :</p>\n\n<p>I'm using Jquery--></p>\n\n<pre><code>$('selector').on('change', function () {\n    console.log(this.id+\": \"+ this.value);\n});\n</code></pre>\n\n<p>It is working pretty fine for me.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I have created a sample. May it will work for you.</p>\n\n\n\n<pre><code>var typingTimer;\nvar doneTypingInterval = 10;\nvar finaldoneTypingInterval = 500;\n\nvar oldData = $(\"p.content\").html();\n$('#tyingBox').keydown(function () {\n    clearTimeout(typingTimer);\n    if ($('#tyingBox').val) {\n        typingTimer = setTimeout(function () {\n            $(\"p.content\").html('Typing...');\n        }, doneTypingInterval);\n    }\n});\n\n$('#tyingBox').keyup(function () {\n    clearTimeout(typingTimer);\n    typingTimer = setTimeout(function () {\n        $(\"p.content\").html(oldData);\n    }, finaldoneTypingInterval);\n});\n\n\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js\"&gt;&lt;/script&gt;\n\n\n&lt;textarea id=\"tyingBox\" tabindex=\"1\" placeholder=\"Enter Message\"&gt;&lt;/textarea&gt;\n&lt;p class=\"content\"&gt;Text will be replace here and after Stop typing it will get back&lt;/p&gt;\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/utbh575s/\" rel=\"nofollow\">http://jsfiddle.net/utbh575s/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>There are many ways the value of a &lt;input type=\"text\"&gt; can change, including:</p>\n\n<ul>\n<li>keypresses</li>\n<li>copy/paste</li>\n<li>modified with JavaScript</li>\n<li>auto-completed by browser or a toolbar</li>\n</ul>\n\n<p>I want my JavaScript function to be called (with the current input value) any time it changes.  And I want it to be called right away, not just when the input loses focus.</p>\n\n<p>I'm looking for the cleanest and most robust way to do this across all browsers (using jQuery preferably).</p>\n\n<p>Example use case: On the <a href=\"http://twitter.com/signup\">Twitter Signup</a> page, the <em>username</em> field's value gets shown in the url \"http://twitter/<em>username</em>\" below it.</p>\n",
            "last_activity_date": 1415211549,
            "question_id": 1948332,
            "score": 174,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "Detect all changes to a &lt;input type=&quot;text&quot;&gt; (immediately) using JQuery"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>I've coded up a small gist to solve this.</p>\n\n<p>The general solution pattern is this:</p>\n\n<ol>\n<li>Breakout the script into computation and drawing functions. </li>\n<li>Ensure the drawing function draws dynamically and is driven of\nvisualisation width and height variables (The best way to do this is\nto use the d3.scale api) </li>\n<li>Bind/chain the drawing to a reference\nelement in the markup. (I used jquery for this, so imported it).</li>\n<li>Remember to remove it if it's already drawn. Get the dimensions from\nthe referenced element using jquery. </li>\n<li>Bind/chain the draw function to\nthe window resize function. Introduce a debounce (timeout) to this\nchain to ensure we only redraw after a timeout. </li>\n</ol>\n\n<p>I also added the minified d3.js script for speed.\nThe gist is here: <a href=\"https://gist.github.com/2414111\">https://gist.github.com/2414111</a></p>\n\n<p>jquery reference back code:</p>\n\n<pre><code>$(reference).empty()\nvar width = $(reference).width();\n</code></pre>\n\n<p>Debounce code:</p>\n\n<pre><code>var debounce = function(fn, timeout) \n{\n  var timeoutID = -1;\n  return function() {\n     if (timeoutID &gt; -1) {\n        window.clearTimeout(timeoutID);\n     }\n   timeoutID = window.setTimeout(fn, timeout);\n  }\n};\n\nvar debounced_draw = debounce(function() {\n    draw_histogram(div_name, pos_data, neg_data);\n  }, 125);\n\n $(window).resize(debounced_draw);\n</code></pre>\n\n<p>Enjoy!</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>There's another way to do this that doesn't require redrawing the graph, and it involves modifying the <a href=\"http://www.w3.org/TR/SVGTiny12/coords.html#ViewBoxAttribute\">viewBox</a> and <a href=\"http://www.w3.org/TR/SVGTiny12/coords.html#PreserveAspectRatioAttribute\">preserveAspectRatio</a> attributes on the <code>&lt;svg&gt;</code> element: </p>\n\n<pre><code>&lt;svg id=\"chart\" width=\"960\" height=\"500\"\n  viewBox=\"0 0 960 500\"\n  preserveAspectRatio=\"xMidYMid\"&gt;\n&lt;/svg&gt;\n</code></pre>\n\n<p>Then, if you draw your chart within the <code>(960, 500)</code> bounds, all you have to do is resize the <code>&lt;svg&gt;</code> element:</p>\n\n<pre><code>var aspect = 960 / 500,\n    chart = $(\"#chart\");\n$(window).on(\"resize\", function() {\n    var targetWidth = chart.parent().width();\n    chart.attr(\"width\", targetWidth);\n    chart.attr(\"height\", targetWidth / aspect);\n});\n</code></pre>\n\n<p>And the svg contents will be scaled automatically. You can see a working example of this (with some modifications) <a href=\"http://jsfiddle.net/shawnbot/BJLe6/\">here</a>: just resize the window or the bottom right pane to see how it reacts.</p>\n",
                    "is_accepted": true,
                    "score": 136
                },
                {
                    "body": "<p>You can also use <strong>bootstrap 3</strong> to adapt the size of a visualization. For example, we can set up the <strong>HTML</strong> code as:</p>\n\n<pre><code>&lt;div class=\"container&gt;\n&lt;div class=\"row\"&gt;\n\n&lt;div class='col-sm-6 col-md-4' id=\"month-view\" style=\"height:345px;\"&gt;\n&lt;div id =\"responsivetext\"&gt;Something to write&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I have set up a fixed height because of my needs, but you can leave the size auto as well. The \"col-sm-6 col-md-4\" makes the div responsive for different devices. You can learn more at <a href=\"http://getbootstrap.com/css/#grid-example-basic\" rel=\"nofollow\">http://getbootstrap.com/css/#grid-example-basic</a></p>\n\n<p>We can access the graph with the help of the id <strong>month-view</strong>.</p>\n\n<p>I won't go into much detail about the d3 code, I will only input the part that is needed for adapting to different screen sizes.</p>\n\n<pre><code>var width = document.getElementById('month-view').offsetWidth;\n\nvar height = document.getElementById('month-view').offsetHeight - document.getElementById('responsivetext2').offsetHeight;\n</code></pre>\n\n<p>The width is set by getting the width of the div with the id month-view.</p>\n\n<p>The height in my case should not include the entire area. I also have some text above the bar so I need to calculate that area as well. That's why I identified the area of the text with the id responsivetext. For calculating the allowed height of the bar, I subtracted the height of the text from the height of the div.</p>\n\n<p>This allows you to have a bar that will adopt all the different screen/div sizes. It might not be the best way of doing it, but it surely works for the needs of my project.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Look for 'responsive SVG' it is pretty simple to make a SVG responsive and you don't have to worry about sizes any more. </p>\n\n<p>Here is how I did it: </p>\n\n<pre><code>d3.select(\"div#chartId\")\n   .append(\"div\")\n   .classed(\"svg-container\", true) //container class to make it responsive\n   .append(\"svg\")\n   //responsive SVG needs these 2 attributes and no width and height attr\n   .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n   .attr(\"viewBox\", \"0 0 600 400\")\n   //class to make it responsive\n   .classed(\"svg-content-responsive\", true); \n</code></pre>\n\n<p>The CSS code:</p>\n\n<pre><code>.svg-container {\n    display: inline-block;\n    position: relative;\n    width: 100%;\n    padding-bottom: 100%; /* aspect ratio */\n    vertical-align: top;\n    overflow: hidden;\n}\n.svg-content-responsive {\n    display: inline-block;\n    position: absolute;\n    top: 10px;\n    left: 0;\n}\n</code></pre>\n\n<p>More info / tutorials: </p>\n\n<p><a href=\"http://demosthenes.info/blog/744/Make-SVG-Responsive\" rel=\"nofollow\">http://demosthenes.info/blog/744/Make-SVG-Responsive</a></p>\n\n<p><a href=\"http://soqr.fr/testsvg/embed-svg-liquid-layout-responsive-web-design.php\" rel=\"nofollow\">http://soqr.fr/testsvg/embed-svg-liquid-layout-responsive-web-design.php</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Shawn Allen's answer was great. But you may not want to do this every single time. If you host it on <a href=\"https://vida.io\" rel=\"nofollow\">vida.io</a>, you get automatic responsive for your svg visualization.</p>\n\n<p>You can get responsive iframe with this simple embed code:</p>\n\n<pre><code>&lt;div id=\"vida-embed\"&gt;\n&lt;iframe src=\"http://embed.vida.io/documents/9Pst6wmB83BgRZXgx\" width=\"auto\" height=\"525\" seamless frameBorder=\"0\" scrolling=\"no\"&gt;&lt;/iframe&gt;\n&lt;/div&gt;\n\n#vida-embed iframe {\n  position: absolute;\n  top:0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/dnprock/npxp3v9d/1/\" rel=\"nofollow\">http://jsfiddle.net/dnprock/npxp3v9d/1/</a></p>\n\n<p>Disclosure: I build this feature at <a href=\"https://vida.io\" rel=\"nofollow\">vida.io</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you are using d3.js through <a href=\"http://c3js.org/\" rel=\"nofollow\">c3.js</a> the solution to the responsiveness issue is quite straightforward :</p>\n\n\n\n<pre><code>var chart = c3.generate({bindTo:\"#chart\",...});\nchart.resize($(\"#chart\").width(),$(\"#chart\").height());\n</code></pre>\n\n<p>where the generated HTML looks like :</p>\n\n\n\n<pre><code>&lt;div id=\"chart\"&gt;\n    &lt;svg&gt;...&lt;/svg&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Assume I have a histogram script that builds a 960 500 svg graphic. How do I make this responsive so on resize the graphic widths and heights are dynamic?</p>\n\n<pre><code>&lt;script&gt; \n\nvar n = 10000, // number of trials\n    m = 10,    // number of random variables\n    data = [];\n\n// Generate an Irwin-Hall distribution.\nfor (var i = 0; i &lt; n; i++) {\n  for (var s = 0, j = 0; j &lt; m; j++) {\n    s += Math.random();\n  }\n  data.push(s);\n}\n\nvar histogram = d3.layout.histogram()\n    (data);\n\nvar width = 960,\n    height = 500;\n\nvar x = d3.scale.ordinal()\n    .domain(histogram.map(function(d) { return d.x; }))\n    .rangeRoundBands([0, width]);\n\nvar y = d3.scale.linear()\n    .domain([0, d3.max(histogram.map(function(d) { return d.y; }))])\n    .range([0, height]);\n\nvar svg = d3.select(\"body\").append(\"svg\")\n    .attr(\"width\", width)\n    .attr(\"height\", height);\n\nsvg.selectAll(\"rect\")\n    .data(histogram)\n  .enter().append(\"rect\")\n    .attr(\"width\", x.rangeBand())\n    .attr(\"x\", function(d) { return x(d.x); })\n    .attr(\"y\", function(d) { return height - y(d.y); })\n    .attr(\"height\", function(d) { return y(d.y); });\n\nsvg.append(\"line\")\n    .attr(\"x1\", 0)\n    .attr(\"x2\", width)\n    .attr(\"y1\", height)\n    .attr(\"y2\", height);\n\n&lt;/script&gt; \n</code></pre>\n\n<p>Full example histogram gist is:\n<a href=\"https://gist.github.com/993912\">https://gist.github.com/993912</a></p>\n",
            "last_activity_date": 1421920127,
            "question_id": 9400615,
            "score": 81,
            "tags": [
                "javascript",
                "responsive-design",
                "d3.js"
            ],
            "title": "Whats the best way to make a d3.js visualisation layout responsive?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>Without device (or rather browser) specific JS I'm pretty sure you're out of luck.</p>\n\n<p>Edit: thought you wanted to avoid that until i reread your question. In case of Mobile Safari you can register to get all touch events similar to what you can do with native UIView-s. Can't find the documentation right now, will try to though.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>To answer your main question: <strong><em>\u201cHow do I simulate a hover with a touch in touch enabled browsers?\u201d</em></strong></p>\n\n<p>Simply allow \u2018clicking\u2019 the element (by tapping the screen), and then trigger the <code>hover</code> event using JavaScript.</p>\n\n<pre><code>var p = document.getElementsByTagName('p')[0];\np.onclick = function() {\n // Trigger the `hover` event on the paragraph\n p.onhover.call(p);\n};\n</code></pre>\n\n<p>This should work, as long as there\u2019s a <code>hover</code> event on your device (even though it normally isn\u2019t used).</p>\n\n<p><strong>Update:</strong> I just tested this technique on my iPhone and it seems to work fine. Try it out here: <a href=\"http://jsfiddle.net/mathias/YS7ft/show/light/\">http://jsfiddle.net/mathias/YS7ft/show/light/</a></p>\n\n<p>If you want to use a \u2018long touch\u2019 to trigger hover instead, you can use the above code snippet as a starting point and have fun with timers and stuff ;)</p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>One way to do it would be to do the hover effect when the touch starts, then remove the hover effect when the touch moves or ends.</p>\n\n<p>This is what Apple has to say about <a href=\"http://developer.apple.com/safari/library/documentation/AppleApplications/Reference/SafariWebContent/HandlingEvents/HandlingEvents.html\" rel=\"nofollow\">touch handling</a> in general, since you mention iPhone.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>OK, I've worked it out! It involves changing the CSS slightly and adding some JS.</p>\n\n<p>Using jQuery to make it easy:</p>\n\n<pre><code>$(document).ready(function() {\n    $('.hover').bind('touchstart touchend', function(e) {\n        e.preventDefault();\n        $(this).toggleClass('hover_effect');\n    });\n});\n</code></pre>\n\n<p>In english: when you start or end a touch, turn the class <code>hover_effect</code> on or off.</p>\n\n<p>Then, in your HTML, add a class hover to anything you want this to work with. In your CSS, replace any instance of:</p>\n\n<pre><code>element:hover {\n    rule:properties;\n}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>element:hover, element.hover_effect {\n    rule:properties;\n}\n</code></pre>\n\n<p>And just for added usefulness, add this to your CSS as well:</p>\n\n<pre><code>.hover {\n-webkit-user-select: none;\n-webkit-touch-callout: none;        \n}\n</code></pre>\n\n<p>To stop the browser asking you to copy/save/select the image or whatever.</p>\n\n<p>Easy!</p>\n",
                    "is_accepted": true,
                    "score": 96
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>&lt;script&gt;\ndocument.addEventListener(\"touchstart\", function(){}, true);\n&lt;/script&gt;\n</code></pre>\n\n<p>And in your CSS:</p>\n\n<pre><code>element:hover, element:active {\n-webkit-tap-highlight-color: rgba(0,0,0,0);\n-webkit-user-select: none;\n-webkit-touch-callout: none\n}\n</code></pre>\n\n<p>With this code you don\u00b4t need an extra .hover class!</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>A mix of native Javascript and jQuery:</p>\n\n<pre><code>var gFireEvent = function (oElem,sEvent) \n{\n try {\n if( typeof sEvent == 'string' &amp;&amp; o.isDOM( oElem ))\n {\n  var b = !!(document.createEvent),\n     evt = b?document.createEvent(\"HTMLEvents\"):document.createEventObject();\n  if( b )    \n  {  evt.initEvent(sEvent, true, true ); \n    return !oElem.dispatchEvent(evt);\n  }\n  return oElem.fireEvent('on'+sEvent,evt);\n }\n } catch(e) {}\n return false;\n};\n\n\n// Next you can do is (bIsMob etc you have to determine yourself):\n\n   if( &lt;&lt;&lt; bIsMob || bIsTab || bisTouch &gt;&gt;&gt; )\n   {\n     $(document).on('mousedown', function(e)\n     {\n       gFireEvent(e.target,'mouseover' );\n     }).on('mouseup', function(e)\n     {\n       gFireEvent(e.target,'mouseout' );\n     });\n   }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>All you need to do is bind touchstart on a parent. Something like this will work:</p>\n\n<pre><code>$('body').bind('touchstart', function() {});\n</code></pre>\n\n<p>You don't need to do anything in the function, leave it empty. This will be enough to get hovers on touch, so a touch behaves more like :hover and less like :active. iOS magic.</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>Easyest solution I found: I had some &lt; span > tags with :hover css rules in them. I switched for &lt; a href=\"javascript:void(0)\" > and voil\u00e0. The hover styles in iOS started working.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use can use CSS too, add focus and active (for IE7 and under) to the hidden link. Example of a ul menu inside a div with class menu:</p>\n\n<pre><code>.menu ul ul {display:none; position:absolute; left:100%; top:0; padding:0;}\n.menu ul ul ul {display:none; position:absolute; top:0; left:100%;}\n.menu ul ul a, .menu ul ul a:focus, .menu ul ul a:active { width:170px; padding:4px 4%; background:#e77776; color:#fff; margin-left:-15px; }\n.menu ul li:hover &gt; ul { display:block; }\n.menu ul li ul li {margin:0;}\n</code></pre>\n\n<p>It's late and untested, should work ;-)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The mouse <code>hover</code> effect cannot be implemented in touch device . When I'm appeared with same situation in <code>safari</code> <code>ios</code> I used <code>:active</code> in css to make effect.</p>\n\n<p>ie.</p>\n\n<pre><code>p:active {\n  color:red;\n}\n</code></pre>\n\n<p>In my case its working .May be this is also the case that can be used with out using javascript. Just give a try.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>With some HTML like this:</p>\n\n<pre><code>&lt;p&gt;Some Text&lt;/p&gt;\n</code></pre>\n\n<p>Then some CSS like this:</p>\n\n<pre><code>p {\n  color:black;\n}\n\np:hover {\n  color:red;\n}\n</code></pre>\n\n<p>How can I allow a long touch on a touch enabled device to replicate hover? I can change markup/use JS etc, but can't think of an easy way to do this.</p>\n",
            "last_activity_date": 1426076010,
            "question_id": 2851663,
            "score": 55,
            "tags": [
                "javascript",
                "html",
                "css",
                "hover",
                "touch"
            ],
            "title": "How do I simulate a hover with a touch in touch enabled browsers?"
        },
        {
            "answer_count": 17,
            "answers": [
                {
                    "body": "<p>In JavaScript, undefined means a variable has been declared but has not yet been assigned a value, such as:</p>\n\n<pre><code> var TestVar;\n alert(TestVar); //shows undefined\n alert(typeof TestVar); //shows undefined\n</code></pre>\n\n<p><code>null</code> is an assignment value. It can be assigned to a variable as a representation of no value:</p>\n\n<pre><code> var TestVar = null;\n alert(TestVar); //shows null\n alert(typeof TestVar); //shows object\n</code></pre>\n\n<p>From the preceding examples, it is clear that <code>undefined</code> and <code>null</code> are two distinct types: <code>undefined</code> is a type itself (undefined) while <code>null</code> is an object.</p>\n",
                    "is_accepted": true,
                    "score": 232
                },
                {
                    "body": "<p>i picked this from <a href=\"http://www.gibdon.com/2006/05/javascript-difference-between-null-and.html\">here</a>  </p>\n\n<blockquote>\n  <p>The undefined value is a primitive value used when a variable has not\n  been assigned a value.</p>\n  \n  <p>The null value is a primitive value that represents the null, empty,\n  or non-existent reference.</p>\n</blockquote>\n\n<p>When you declare a variable through var and do not give it a value, it will have the value undefined. By itself, if you try to WScript.Echo() or alert() this value, you won't see anything. However, if you append a blank string to it then suddenly it'll appear:</p>\n\n<pre><code>var s;\nWScript.Echo(s);\nWScript.Echo(\"\" + s);\n</code></pre>\n\n<p>You can declare a variable, set it to null, and the behavior is identical except that you'll see \"null\" printed out versus \"undefined\". This is a small difference indeed.</p>\n\n<p>You can even compare a variable that is undefined to null or vice versa, and the condition will be true:</p>\n\n<pre><code>undefined == null\nnull == undefined\n</code></pre>\n\n<p>They are, however, considered to be two different types. While undefined is a type all to itself, null is considered to be a special object value. You can see this by using typeof() which returns a string representing the general type of a variable:</p>\n\n<pre><code>var a;\nWScript.Echo(typeof(a));\nvar b = null;\nWScript.Echo(typeof(b));\n</code></pre>\n\n<p>Running the above script will result in the following output:</p>\n\n<pre><code>undefined\nobject\n</code></pre>\n\n<p>Regardless of their being different types, they will still act the same if you try to access a member of either one, e.g. that is to say they will throw an exception. With WSH you will see the dreaded \"'varname' is null or not an object\" and that's if you're lucky (but that's a topic for another article).</p>\n\n<p>You can explicitely set a variable to be undefined, but I highly advise against it. I recommend only setting variables to null and leave undefined the value for things you forgot to set. At the same time, I really encourage you to always set every variable. JavaScript has a scope chain different than that of C-style languages, easily confusing even veteran programmers, and setting variables to null is the best way to prevent bugs based on it.</p>\n\n<p>Another instance where you will see undefined pop up is when using the delete operator. Those of us from a C-world might incorrectly interpret this as destroying an object, but it is not so. What this operation does is remove a subscript from an Array or a member from an Object. For Arrays it does not effect the length, but rather that subscript is now considered undefined.</p>\n\n<pre><code>var a = [ 'a', 'b', 'c' ];\ndelete a[1];\nfor (var i = 0; i &lt; a.length; i++)\nWScript.Echo((i+\".) \"+a[i]);\n</code></pre>\n\n<p>The result of the above script is:</p>\n\n<pre><code>0.) a\n1.) undefined\n2.) c\n</code></pre>\n\n<p>You will also get undefined returned when reading a subscript or member that never existed.</p>\n\n<p>The difference between null and undefined is: JavaScript will never set anything to null, that's usually what we do. While we can set variables to undefined, we prefer null because it's not something that is ever done for us. When you're debugging this means that anything set to null is of your own doing and not JavaScript. Beyond that, these two special values are nearly equivalent.</p>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>Undefined means a variable has been declared but has no value:</p>\n\n<pre><code>var var1;\nalert(var1); //undefined\nalert(typeof var1); //undefined\n</code></pre>\n\n<p>Null is an assignment:</p>\n\n<pre><code>var var2= null;\nalert(var2); //null\nalert(typeof var2); //object\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><code>null</code> is a special value meaning \"no value\". <code>null</code> is a special object because <code>typeof null</code> returns 'object'.</p>\n\n<p>On the other hand, <code>undefined</code> means that the variable has not been declared, or has not been given a value.</p>\n\n<p><a href=\"http://www.bloggingdeveloper.com/post/JavaScript-null-vs-undefined-The-Difference-between-null-and-undefined.aspx\" rel=\"nofollow\">Source</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>null</strong>: absence of value for a variable; <strong>undefined</strong>: absence of variable itself;</p>\n\n<p><em>..where variable is a symbolic name associated with a value.</em></p>\n\n<p>JS could be kind enough to implicitly init newly declared variables with <strong>null</strong>, but it does not.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>As typeof returns undefined, undefined is a type where as null is an initializer indicates the variable points to no object(virtually everything in Javascript is an object).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The value of a variable with no value is undefined (i.e., it has not been initialized). </p>\n\n<p>Variables can be emptied by setting their value to null. </p>\n\n<p>You can test for each using the <code>=== (three equal signs)</code> or <code>== (two equal signs)</code> for comparison checking. The big difference is the latter uses coercion, \nwhich can have some odd results -- it returns true for a null or undefined comparison if they are either.</p>\n\n<pre><code>if (nullExample === null) { // executes this block only if null }\nif (undExample ===Undefined) { // executes this block only if Undefined }\nif (bothExampe == null) { // executes this block if Undefined or null }\n</code></pre>\n\n<p>You can be more exact with a comparison by using the typeof to return an object\u2019s type.</p>\n\n<pre><code>If (typeof variable ===\"undefined\") { // executes this block of if undefined }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>null and undefined are both are used to represent the absence of some value.</p>\n\n<pre><code>var a = null;\n</code></pre>\n\n<p>a is initialized and defined.</p>\n\n<pre><code>typeof(a)\n//object\n</code></pre>\n\n<p>null is an object in JavaScript</p>\n\n<pre><code>Object.prototype.toString.call(a) // [object Object]\n\nvar b;\n</code></pre>\n\n<p>b is undefined and uninitialized</p>\n\n<p>undefined object properties are also undefined. For example \"x\" is not defined on object c and if you try to access c.x, it will return undefined.</p>\n\n<p>Generally we assign null to variables not undefined.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>null</strong> is a special keyword that indicates an absence of value. </p>\n\n<p>think about it as a value, like:</p>\n\n<ul>\n<li>\"foo\"  is string, </li>\n<li>true   is boolean , </li>\n<li>1234   is number, </li>\n<li>null   is undefined.</li>\n</ul>\n\n<hr>\n\n<p><strong>undefined</strong> property indicates that a variable has not been assigned a value including null too .\nLike</p>\n\n<pre><code>var foo;\n</code></pre>\n\n<hr>\n\n<p><em>defined empty variable is <code>null</code> of datatype <code>undefined</code></em></p>\n\n<hr>\n\n<p>Both of them are representing a  <strong>value of a variable with no value</strong></p>\n\n<p><em>AND</em>\n<code>null</code> doesn't represent a <em>string</em> that has no value - empty string-</p>\n\n<hr>\n\n<p><strong>Like</strong></p>\n\n<pre><code>var a = ''; \nconsole.log(typeof a); // string \nconsole.log(a == null); //false \nconsole.log(a == undefined); // false \n</code></pre>\n\n<p>Now if </p>\n\n<pre><code>var a;\nconsole.log(a == null); //true\nconsole.log(a == undefined); //true \n</code></pre>\n\n<p><strong>BUT</strong></p>\n\n<pre><code>var a; \nconsole.log(a === null); //false \nconsole.log(a === undefined); // true\n</code></pre>\n\n<p><strong>SO</strong> each one has it own way to use </p>\n\n<p><strong>undefined</strong> use it to compare the variable data type </p>\n\n<p><strong>null</strong> use it to empty a value of a variable </p>\n\n<pre><code>var a = 'javascript';\na = null ; // will change the type of variable \"a\" from string to object \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>In JavasSript there are 5 primitive data types String , Number , Boolean , null and undefined.\nI will try to explain with some simple example</p>\n\n<p>lets say we have a simple function</p>\n\n<pre><code> function test(a) {\n\n     if(a == null){\n        alert(\"a is null\");\n     } else {\n        alert(\"The value of a is \" + a);\n     }\n  }\n</code></pre>\n\n<p>also in above function if(a == null) is same as if(!a)</p>\n\n<p>now when we call this function without passing the parameter a</p>\n\n<pre><code>   test(); it will alert \"a is null\";\n   test(4); it will alert \"The value of a is \" + 4;\n</code></pre>\n\n<p>also</p>\n\n<pre><code>var a;\nalert(typeof a); \n</code></pre>\n\n<p>this will give undefined; we have declared a variable but we have not asigned any value to this variable;\n but if we write</p>\n\n<pre><code>var a = null;\nalert(typeof a); will give alert as object\n</code></pre>\n\n<p>so null is an object. in a way we have assigned a value null to 'a'</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><strong>null</strong> and <strong>undefined</strong> are two distinct object types which have the following in common:</p>\n\n<ul>\n<li>both can only hold a single value, <strong>null</strong> and <strong>undefined</strong> respectively;</li>\n<li>both have no properties or methods and an attempt to read any properties of either will result in a run-time error (for all other objects, you get value <strong>undefined</strong> if you try to read a non-existent property);</li>\n<li>values <strong>null</strong> and <strong>undefined</strong> are considered equal to each other and to nothing else by <code>==</code> and <code>!=</code> operators.</li>\n</ul>\n\n<p>The similarities however end here. For once, there is a fundamental difference in the way how keywords <strong>null</strong> and <strong>undefined</strong> are implemented. This is not obvious, but consider the following example:</p>\n\n<pre><code>var undefined = \"foo\";\nWScript.Echo(undefined); // This will print: foo\n</code></pre>\n\n<p><strong>undefined</strong>, <strong>NaN</strong> and <strong>Infinity</strong> are just names of preinitialized \"superglobal\" variables - they are initialized at run-time and can be overridden by normal global or local variable with the same names. </p>\n\n<p>Now, let's try the same thing with <strong>null</strong>:</p>\n\n<pre><code>var null = \"foo\"; // This will cause a compile-time error\nWScript.Echo(null);\n</code></pre>\n\n<p>Oops! <strong>null</strong>, <strong>true</strong> and <strong>false</strong> are reserved keywords - compiler won't let you use them as variable or property names</p>\n\n<p>Another difference is that <strong>undefined</strong> is considered a separate primitive type, while <strong>null</strong> is considered a special kind of object. Consider the following:</p>\n\n<pre><code>WScript.Echo(typeof false); // Will print: boolean\nWScript.Echo(typeof 0); // Will print: number\nWScript.Echo(typeof \"\"); // Will print: string\nWScript.Echo(typeof {}); // Will print: object\nWScript.Echo(typeof undefined); // Will print: undefined\nWScript.Echo(typeof null); // (!!!) Will print: object\n</code></pre>\n\n<p>Also, there is an important difference in the way <strong>null</strong> and <strong>undefined</strong> are treated in numeric context:</p>\n\n<pre><code>var a; // declared but uninitialized variables hold the value undefined\nWScript.Echo(a === undefined); // Prints: -1\n\nvar b = null; // the value null must be explicitly assigned \nWScript.Echo(b === null); // Prints: -1\n\nWScript.Echo(a == b); // Prints: -1 (as expected)\nWScript.Echo(a &gt;= b); // Prints: 0 (WTF!?)\n\nWScript.Echo(a &gt;= a); // Prints: 0 (!!!???)\nWScript.Echo(isNaN(a)); // Prints: -1 (a evaluates to NaN!)\nWScript.Echo(1*a); // Prints: -1.#IND (in Echo output this means NaN)\n\nWScript.Echo(b &gt;= b); // Prints: -1 (as expected)\nWScript.Echo(isNaN(b)); // Prints: 0 (b evaluates to a valid number)\nWScript.Echo(1*b); // Prints: 0 (b evaluates to 0)\n\nWScript.Echo(a &gt;= 0 &amp;&amp; a &lt;= 0); // Prints: 0 (as expected)\nWScript.Echo(a == 0); // Prints: 0 (as expected)\nWScript.Echo(b &gt;= 0 &amp;&amp; b &lt;= 0); // Prints: -1 (as expected)\nWScript.Echo(b == 0); // Prints: 0 (!!!)\n</code></pre>\n\n<p><strong>null</strong> becomes <strong>0</strong> when used in arithmetic expressions or numeric comparisons - similarly to <strong>false</strong>, it is basically just a special kind of \"zero\". <strong>undefined</strong>, on the other hand, is a true \"nothing\" and becomes <strong>NaN</strong> (\"not a number\") when you try to use it in numeric context.</p>\n\n<p>Note that <strong>null</strong> and <strong>undefined</strong> receive a special treatment from <code>==</code> and <code>!=</code> operators, but you can test true numeric equality of <strong>a</strong> and <strong>b</strong> with the expression <code>(a &gt;= b &amp;&amp; a &lt;= b)</code>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Variable has not been initialized then it is undefined variable.\nVariables can be emptied by setting their value to null. \nYou can test for each using the === (three equal signs) or == (two equal signs) for comparison checking</p>\n\n<pre><code>if (nullExample === null) { // executes this block only if null }\n\nif (undExample ===Undefined) { // executes this block only if Undefined }\n\nif (bothExampe == null) { // executes this block if Undefined or null }\n</code></pre>\n\n<p>You can be more exact with a comparison by using the typeof to return an object's type.</p>\n\n<pre><code>If (typeof variable ===\"undefined\")  { // executes this block of if undefined }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<blockquote>\n  <p>You might consider undefined to represent a system-level, unexpected, or error-like absence of value and null to represent program-level, normal, or expected absence of value.</p>\n</blockquote>\n\n<p>via JavaScript:The Definitive Guide</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Just to add my views - </p>\n\n<p>A variable that is declared only, and never used anywhere, is removed off by an optimizing compiler in case of compiled languages like C++[or a warning is flagged in the IDE]. It ultimately means that the variable is non-existent because it's memory is never allocated.</p>\n\n<p>In case of javascript interpreter, [I guess] a variable is treated as existing only from the point onwards where it is given a value. Before that point, it's type is \"undefined\", and no memory is allocated for it. And, so its type is undefined.</p>\n\n<p>A null in javascript <em>is</em> a value that represents an address, but that address points to nothing yet[non-existent reference]. Nevertheless, its a value.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Null is ALWAYS an unknown object that exists in memory, whereas undefined is not.</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p><strong>null</strong> - It is an assignment value. Which is used with variable to represent no value. (its an object)</p>\n\n<p><strong>undefined</strong> - It is an variable which do not have any value assigned to it. So javascript will assign a undefined to it. (its an data type)</p>\n\n<p><strong>undeclared</strong> - If variable is not created at all it is known as undeclared.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If a variable is not initialized then it is undefined.\nundefined is not a object.\nExample:  var MyName;\n          console.log(typeof MyName);</p>\n\n<p>Check the console log in development tool, it will be printed as undefined.</p>\n\n<p>null is a a object.If you want some variable to be null then null is used.null variable exists but value is not known.It should be assigned to a variable pro grammatically.  null is not automatically initialized.</p>\n\n<p>Example : var MyName = null;\n          console.log(typeof MyName);\nCheck the csole log in development tool, it will be an object.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to know what the difference is between <code>null</code> and <code>undefined</code> in JavaScript.</p>\n",
            "last_activity_date": 1424656370,
            "question_id": 5076944,
            "score": 203,
            "tags": [
                "javascript",
                "null",
                "undefined"
            ],
            "title": "What is the difference between null and undefined in JavaScript?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Those script tags are a common way to implement templating functionality (like in PHP) but on the client side.</p>\n\n<p>By setting the type to \"text/template\", it's not a script that the browser can understand, and so the browser will simply ignore it. This allows you to put anything in there, which can then be extracted later and used by a templating library to generate HTML snippets.</p>\n\n<p>Backbone doesn't force you to use any particular templating library - there are quite a few out there: <a href=\"http://github.com/janl/mustache.js\">Mustache</a>, <a href=\"http://github.com/creationix/haml-js\">Haml</a>, <a href=\"http://github.com/sstephenson/eco\">Eco</a>, and so on (the one used in the example you linked to is <a href=\"http://documentcloud.github.com/underscore/#template\">underscore.js</a>). These will use their own syntax for you to write within those script tags.</p>\n",
                    "is_accepted": true,
                    "score": 236
                },
                {
                    "body": "<p>To add to Box9's answer:</p>\n\n<p>Backbone.js is dependent on underscore.js, which itself implements John Resig's original microtemplates.</p>\n\n<p>If you decide to use Backbone.js with Rails, be sure to check out the Jammit gem. It provides a very clean way to manage asset packaging for templates. \n<a href=\"http://documentcloud.github.com/jammit/#jst\">http://documentcloud.github.com/jammit/#jst</a></p>\n\n<p>By default Jammit also uses JResig's microtemplates, but it also allows you to replace the templating engine.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>jQuery Templates is an example of something that uses this method to store HTML that will not be rendered directly (that\u2019s the whole point) inside other HTML:\n<a href=\"http://api.jquery.com/jQuery.template/\" rel=\"nofollow\">http://api.jquery.com/jQuery.template/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It's a way of adding text to HTML without it being rendered or normalized.</p>\n\n<p>It's no different than adding it like:</p>\n\n<pre><code> &lt;textarea style=\"display:none\"&gt;&lt;span&gt;{{name}}&lt;/span&gt;&lt;/textarea&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It's legit and very handy! </p>\n\n<p>Try this:</p>\n\n<pre><code>&lt;script id=\"hello\" type=\"text/template\"&gt;\n  Hello world\n&lt;/script&gt;\n&lt;script&gt;\n  alert($('#hello').html());\n&lt;/script&gt;\n</code></pre>\n\n<p>Several Javascript templating libraries use this technique. <a href=\"http://handlebarsjs.com/\">Handlebars.js</a> is a good example.</p>\n",
                    "is_accepted": false,
                    "score": 45
                },
                {
                    "body": "<p>By setting script tag <code>type</code> other than <code>text/javascript</code>, browser will not execute the internal code of script tag. This is called micro template. This concept is widely used in Single page application(aka SPA).</p>\n\n<pre><code>&lt;script type=\"text/template\"&gt;I am a Micro template. \n  I am going to make your web page faster.&lt;/script&gt;\n</code></pre>\n\n<p>For micro template, type of the script tag is <code>text/template</code>. It is very well explained by Jquery creator John Resig <a href=\"http://ejohn.org/blog/javascript-micro-templating/\" rel=\"nofollow\">http://ejohn.org/blog/javascript-micro-templating/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><code>&lt;script type = \u201ctext/template\u201d&gt; \u2026 &lt;/script&gt;</code> is obsolete. Use <code>&lt;template&gt;</code> tag instead. </p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I just stumbled upon something I've never seen before. In the source of Backbone.js's example TODO application (<a href=\"http://documentcloud.github.com/backbone/examples/todos/index.html\">Backbone TODO Example</a>) they had their templates inside a <code>&lt;script type = \"text/template\"&gt;&lt;/script&gt;</code>, which contained code that looks like something out of PHP but with JavaScript tags.</p>\n\n<p>Can someone explain this to me? Is this legit?</p>\n",
            "last_activity_date": 1412082316,
            "question_id": 4912586,
            "score": 230,
            "tags": [
                "javascript",
                "templates",
                "types",
                "backbone.js",
                "underscore.js"
            ],
            "title": "Explanation of &lt;script type = &quot;text/template&quot;&gt; ... &lt;/script&gt;"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>In light of apparent dislike for how I've attempted to answer the OP's question. The literal answer is, a promise is something shared w/ other objects, while a deferred should be kept private. Primarily, a deferred (which generally extends Promise) can resolve itself, while a promise might not be able to do so. </p>\n\n<p>If you're interested in the minutiae, then examine <a href=\"https://github.com/promises-aplus/promises-spec\" rel=\"nofollow\">Promises/A+</a>.</p>\n\n<hr>\n\n<p>So far as I'm aware, the overarching purpose is to improve clarity and loosen coupling through a standardized interface. See <a href=\"http://msdn.microsoft.com/en-us/magazine/gg723713.aspx\" rel=\"nofollow\">suggested reading</a> from @jfriend00:</p>\n\n<blockquote>\n  <p>Rather than directly passing callbacks to functions, something which\n  can lead to tightly coupled interfaces, using promises allows one to\n  separate concerns for code that is synchronous or asynchronous.</p>\n</blockquote>\n\n<p>Personally, I've found deferred especially useful when dealing with e.g. templates that are populated by asynchronous requests, loading scripts that have networks of dependencies, and providing user feedback to form data in a non-blocking manner.</p>\n\n<p>Indeed, compare the pure callback form of doing something after loading CodeMirror in JS mode asynchronously (apologies, I've not used jQuery in a <strong>while</strong>): </p>\n\n<pre><code>/* assume getScript has signature like: function (path, callback, context) \n   and listens to onload &amp;&amp; onreadystatechange */\n$(function () {\n   getScript('path/to/CodeMirror', getJSMode);\n\n   // onreadystate is not reliable for callback args.\n   function getJSMode() {\n       getScript('path/to/CodeMirror/mode/javascript/javascript.js', \n           ourAwesomeScript);\n   };\n\n   function ourAwesomeScript() {\n       console.log(\"CodeMirror is awesome, but I'm too impatient.\");\n   };\n});\n</code></pre>\n\n<p>To the promises formulated version (again, apologies, I'm not up to date on jQuery):</p>\n\n<pre><code>/* Assume getScript returns a promise object */\n$(function () {\n   $.when(\n       getScript('path/to/CodeMirror'),\n       getScript('path/to/CodeMirror/mode/javascript/javascript.js')\n   ).then(function () {\n       console.log(\"CodeMirror is awesome, but I'm too impatient.\");\n   });\n});\n</code></pre>\n\n<p>Apologies for the semi-psuedo code, but I hope it makes the core idea somewhat clear. Basically, by returning a standarized promise, you can pass the promise around, thus allowing for more clear grouping.</p>\n",
                    "is_accepted": true,
                    "score": 40
                },
                {
                    "body": "<blockquote>\n  <p>What are the differences between Deferreds, Promises and Futures?</p>\n</blockquote>\n\n<p>AFAIK, they are basically the same when spoken in context of JavaScript. The literature might have slight nuances but basically, they are the same.</p>\n\n<blockquote>\n  <p>Is there a generally approved theory behind all these three?</p>\n</blockquote>\n\n<p>If you are trying to understand what is the theory behind this pattern, I have my thoughts summarized here: <a href=\"http://www.javascriptturnsmeon.com/promises-in-javascript/\">Promises in JavaScript</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>What really made it all click for me was <a href=\"http://www.slideshare.net/domenicdenicola/callbacks-promises-and-coroutines-oh-my-the-evolution-of-asynchronicity-in-javascript\">this presentation</a> by Domenic Denicola.</p>\n\n<p>In a <a href=\"https://gist.github.com/3889970\">github gist</a>, he gave the description I like most, it's very concise:</p>\n\n<blockquote>\n  <p><em>The point of promises is to give us back functional composition and error bubbling in the async world.</em></p>\n</blockquote>\n\n<p>In other word, promises are a way that lets us write <em>asynchronous</em> code that is almost as easy to write as if it was <em>synchronous</em>.</p>\n\n<p>Consider this example, with promises:</p>\n\n<pre><code>getTweetsFor(\"domenic\") // promise-returning async function\n    .then(function (tweets) {\n        var shortUrls = parseTweetsForUrls(tweets);\n        var mostRecentShortUrl = shortUrls[0];\n        return expandUrlUsingTwitterApi(mostRecentShortUrl); // promise-returning async function\n    })\n    .then(doHttpRequest) // promise-returning async function\n    .then(\n        function (responseBody) {\n            console.log(\"Most recent link text:\", responseBody);\n        },\n        function (error) {\n            console.error(\"Error with the twitterverse:\", error);\n        }\n    );\n</code></pre>\n\n<p>It works as if you were writing this synchronous code:</p>\n\n<pre><code>try {\n    var tweets = getTweetsFor(\"domenic\"); // blocking\n    var shortUrls = parseTweetsForUrls(tweets);\n    var mostRecentShortUrl = shortUrls[0];\n    var responseBody = doHttpRequest(expandUrlUsingTwitterApi(mostRecentShortUrl)); // blocking x 2\n    console.log(\"Most recent link text:\", responseBody);\n} catch (error) {\n    console.error(\"Error with the twitterverse: \", error);\n}\n</code></pre>\n\n<p>(If this still sounds complicated, watch that presentation!)</p>\n\n<p>Regarding Deferred, it's a way to <code>.resolve()</code> or <code>.reject()</code> promises. In the <a href=\"http://wiki.commonjs.org/wiki/Promises/B\">Promises/B</a> spec, it is called <code>.defer()</code>. In jQuery, it's <code>$.Deferred()</code>.</p>\n\n<p>Please note that, as far as I know, the Promise implementation in jQuery is broken (see that gist), at least as of jQuery 1.8.2.<br>\nIt supposedly implements <a href=\"http://wiki.commonjs.org/wiki/Promises/A\">Promises/A thenables</a>, but you don't get the correct error handling you should, in the sense that the whole \"async try/catch\" functionality won't work. \nWhich is a pity, because having a \"try/catch\" with async code is utterly cool.</p>\n\n<p>If you are going to use Promises (you should try them out with your own code!), use <a href=\"https://github.com/kriskowal/q\">Kris Kowal's Q</a>. The jQuery version is just some callback aggregator for writing cleaner jQuery code, but misses the point.</p>\n\n<p>Regarding Future, I have no idea, I haven't seen that in any API.</p>\n\n<p><strong>Edit:</strong> <a href=\"http://www.youtube.com/watch?v=hf1T_AONQJU\">Domenic Denicola's youtube talk on Promises</a> from <a href=\"http://stackoverflow.com/users/286588/farm\">@Farm</a>'s comment below.</p>\n\n<p>A quote from Michael Jackson (yes, <em>Michael Jackson</em>) from the video:</p>\n\n<blockquote>\n  <p>I want you to burn this phrase in your mind: \n  <em>A promise is an <strong>asynchronous value</em></strong>.</p>\n</blockquote>\n\n<p>This is an excellent description: a promise is like a variable from the future - a first-class reference to something that, at some point, will exist (or happen).</p>\n",
                    "is_accepted": false,
                    "score": 38
                },
                {
                    "body": "<p>These answers, including the selected answer, are good for introducing promises\nconceptually, but lacking in specifics of what exactly the differences are in\nthe terminology that arises when using libraries implementing them (and there\n<strong>are</strong> important differences).</p>\n\n<p>Since it is still <a href=\"http://dom.spec.whatwg.org/#open-issues\">an evolving spec</a>, the answer currently comes from attempting to survey both references (like <a href=\"http://en.wikipedia.org/wiki/Futures_and_promises\">wikipedia</a>) and implementations (like <a href=\"http://api.jquery.com/category/deferred-object/\">jQuery</a>):</p>\n\n<ul>\n<li><p><strong>Deferred</strong>: Never described in popular references,\n<sup>\n<a href=\"http://en.wikipedia.org/wiki/Futures_and_promises\">1</a>\n<a href=\"https://github.com/promises-aplus/promises-spec\">2</a>\n<a href=\"http://dom.spec.whatwg.org/#promises\">3</a>\n<a href=\"https://github.com/domenic/promises-unwrapping/blob/master/README.md\">4</a>\n</sup>\nbut commonly used by implementations as the arbiter of promise resolution (implementing <code>resolve</code> and <code>reject</code>).\n<sup>\n<a href=\"http://dojotoolkit.org/reference-guide/1.9/dojo/Deferred.html\">5</a>\n<a href=\"http://api.jquery.com/category/deferred-object/\">6</a>\n<a href=\"https://github.com/kriskowal/q\">7</a>\n</sup></p>\n\n<p>Sometimes deferreds are also promises (implementing <code>then</code>),\n<sup>\n<a href=\"http://dojotoolkit.org/reference-guide/1.9/dojo/Deferred.html\">5</a>\n<a href=\"http://api.jquery.com/category/deferred-object/\">6</a>\n</sup>\nother times it's seen as more pure to have the Deferred only\ncapable of resolution, and forcing the user to access the promise for\nusing <code>then</code>.\n<sup>\n<a href=\"https://github.com/kriskowal/q\">7</a>\n</sup></p></li>\n<li><p><strong>Promise</strong>: The most all-encompasing word for the strategy under discussion.</p>\n\n<p>A proxy object storing the result of a target function whose\nsynchronicity we would like to abstract, plus exposing a <code>then</code> function\naccepting another target function and returning a new promise.\n<sup>\n<a href=\"https://github.com/promises-aplus/promises-spec\">2</a>\n</sup></p>\n\n<p>Example from <a href=\"http://wiki.commonjs.org/wiki/Promises/A\">CommonJS</a>:</p>\n\n<pre><code>&gt; asyncComputeTheAnswerToEverything()\n    .then(addTwo)\n    .then(printResult);\n44\n</code></pre>\n\n<p>&nbsp;</p>\n\n<p>Always described in popular references, although never specified as to\nwhose responsibility resolution falls to.\n<sup>\n<a href=\"http://en.wikipedia.org/wiki/Futures_and_promises\">1</a>\n<a href=\"https://github.com/promises-aplus/promises-spec\">2</a>\n<a href=\"http://dom.spec.whatwg.org/#promises\">3</a>\n<a href=\"https://github.com/domenic/promises-unwrapping/blob/master/README.md\">4</a>\n</sup></p>\n\n<p>Always present in popular implementations, and never given\nresolution abilites.\n<sup>\n<a href=\"http://dojotoolkit.org/reference-guide/1.9/dojo/Deferred.html\">5</a>\n<a href=\"http://api.jquery.com/category/deferred-object/\">6</a>\n<a href=\"https://github.com/kriskowal/q\">7</a>\n</sup></p></li>\n<li><p><strong>Future</strong>: a seemingly deprecated term found in some popular references\n<sup>\n<a href=\"http://en.wikipedia.org/wiki/Futures_and_promises\">1</a>\n</sup>\nand at least one popular implementation,\n<sup>\n<a href=\"https://github.com/FuturesJS/FuturesJS\">8</a>\n</sup>\nbut seemingly being phased out of discussion in preference for the term\n'promise'\n<sup>\n<a href=\"http://dom.spec.whatwg.org/#promises\">3</a>\n</sup>\nand not always mentioned in popular introductions to the topic.\n<sup>\n<a href=\"http://books.google.com/books?id=0Fr_lxPGM6QC&amp;pg=PA174#v=onepage&amp;q&amp;f=false\">9</a>\n</sup></p>\n\n<p>However, at least one library uses the term generically for abstracting\nsynchronicity and error handling, while not providing <code>then</code> functionality.\n<sup>\n<a href=\"https://github.com/angular/angular.js/blob/master/src/ngScenario/Future.js\">10</a>\n</sup>\nIt's unclear if avoiding the term 'promise' was intentional, but probably a\ngood choice since promises are built around 'thenables.'\n<sup>\n<a href=\"https://github.com/promises-aplus/promises-spec\">2</a>\n</sup></p></li>\n</ul>\n\n<h3>References</h3>\n\n<ol>\n<li><a href=\"http://en.wikipedia.org/wiki/Futures_and_promises\">Wikipedia on Promises &amp; Futures</a></li>\n<li><a href=\"http://promisesaplus.com/\">Promises/A+ spec</a></li>\n<li><a href=\"http://dom.spec.whatwg.org/#promises\">DOM Standard on Promises</a></li>\n<li><a href=\"https://github.com/domenic/promises-unwrapping/blob/master/README.md\">DOM Standard Promises Spec WIP</a></li>\n<li><a href=\"http://dojotoolkit.org/reference-guide/1.9/dojo/Deferred.html\">DOJO Toolkit Deferreds</a></li>\n<li><a href=\"http://api.jquery.com/category/deferred-object/\">jQuery Deferreds</a></li>\n<li><a href=\"https://github.com/kriskowal/q\">Q</a></li>\n<li><a href=\"https://github.com/FuturesJS/FuturesJS\">FutureJS</a></li>\n<li><a href=\"http://books.google.com/books?id=0Fr_lxPGM6QC&amp;pg=PA174#v=onepage&amp;q&amp;f=false\">Functional Javascript section on Promises</a></li>\n<li><a href=\"https://github.com/angular/angular.js/blob/master/src/ngScenario/Future.js\">Futures in AngularJS Integration Testing</a></li>\n</ol>\n\n<h3>Misc potentially confusing things</h3>\n\n<ul>\n<li><p><a href=\"http://promisesaplus.com/differences-from-promises-a\">Difference between Promises/A and Promises/A+</a></p>\n\n<p>(TL;DR, Promises/A+ mostly resolves ambiguities in Promises/A)</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 54
                },
                {
                    "body": "<p>\"-a promise represents a value that is not yet known\n-a deferred represents work that is not yet finished</p>\n\n<p>A promise is a placeholder for a result which is initially unknown while a deferred represents the computation that results in the value.\"</p>\n\n<p><a href=\"http://blog.mediumequalsmessage.com/promise-deferred-objects-in-javascript-pt1-theory-and-semantics\" rel=\"nofollow\">http://blog.mediumequalsmessage.com/promise-deferred-objects-in-javascript-pt1-theory-and-semantics</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>What are the differences between Deferreds, Promises and Futures? Is there a generally approved theory behind all these three?</p>\n",
            "last_activity_date": 1424120594,
            "question_id": 6801283,
            "score": 127,
            "tags": [
                "javascript",
                "promise",
                "future",
                "deferred"
            ],
            "title": "What are the differences between Deferred, Promise and Future in Javascript?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>And it's unlikely too -- EOT is a fairly restrictive format that is supported only by IE.  Both Safari 3.1 and Firefox 3.1 (well the current alpha) and possibly Opera 9.6 support true type font (ttf) embedding, and at least Safari supports SVG fonts through the same mechanism.  A list apart had a good discussion about this a while <a href=\"http://www.alistapart.com/articles/cssatten\" rel=\"nofollow\">back</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I asked this <a href=\"http://stackoverflow.com/questions/16233/fonts-on-the-web\">a while back</a>. The answer is basically that it doesn't work. :(</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>No, there isn't a decent solution for body type, unless you're willing to cater only to those with bleeding-edge browsers.</p>\n\n<p>Microsoft has <a href=\"http://en.wikipedia.org/wiki/Web_Embedding_Fonts_Tool\" rel=\"nofollow\">WEFT</a>, their own proprietary font-embedding technology, but I haven't heard it talked about in years, and I know no one who uses it.</p>\n\n<p>I get by with sIFR for display type (headlines, titles of blog posts, etc.) and using one of the less-worn-out web-safe fonts for body type (like Trebuchet MS). If you're bored with all the web-safe fonts, you're probably defining the term too narrowly \u2014\u00a0look at <a href=\"http://dustinbrewer.com/fonts-on-the-web-and-a-list-of-web-safe-fonts/\" rel=\"nofollow\">this matrix of stock fonts</a> that ship with major OSes and chances are you'll be able to find a font cascade that will catch nearly all web users.</p>\n\n<p>For instance: <code>font-family: \"Lucida Grande\", \"Verdana\", sans-serif</code> is a common font cascade; OS X comes with Lucida Grande, but those with Windows will get Verdana, a web-safe font with letters of similar size and shape to Lucida Grande. Linux users will also get Verdana if they've installed the web-safe fonts package that exists in most distros' package managers, or else they'll fall back to an ordinary sans-serif.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Try <a href=\"http://typeface.neocracy.org/examples.html\">Typeface.js</a>, you convert your .TTF font into a Javascript file. Full SEO compatible, supports FF, IE6 and Safari and degrades gracefully on other browsers.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p><strong>Things have changed</strong> since this question was originally asked and answered. There's been a large amount of work done on getting cross-browser font embedding for body text to work using @font-face embedding. </p>\n\n<p>Paul Irish put together <a href=\"http://paulirish.com/2009/bulletproof-font-face-implementation-syntax/\">Bulletproof @font-face syntax</a> combining attempts from multiple other people. If you actually go through the entire article (not just the top) it allows a single @font-face statement to cover IE, Firefox, Safari, Opera, Chrome and possibly others. Basically this can feed out OTF, EOT, SVG and WOFF in ways that don't break anything.</p>\n\n<p>Snipped from his article:</p>\n\n<pre><code>@font-face {\n  font-family: 'Graublau Web';\n  src: url('GraublauWeb.eot');\n  src: local('Graublau Web Regular'), local('Graublau Web'),\n    url(\"GraublauWeb.woff\") format(\"woff\"),\n    url(\"GraublauWeb.otf\") format(\"opentype\"),\n    url(\"GraublauWeb.svg#grablau\") format(\"svg\");\n}\n</code></pre>\n\n<p>Working from that base, <a href=\"http://www.fontsquirrel.com/\">Font Squirrel</a> put together a variety of useful tools including the <a href=\"http://www.fontsquirrel.com/fontface/generator\"><strong>@font-face Generator</strong></a> which allows you to upload a TTF or OTF file and get auto-converted font files for the other types, along with pre-built CSS and a demo HTML page. Font Squirrel also has <a href=\"http://www.fontsquirrel.com/fontface\">Hundreds of @font-face kits</a>.</p>\n\n<p>Soma Design also put together the <a href=\"http://somadesign.ca/projects/fontfriend/\">FontFriend Bookmarklet</a>, which redefines fonts on a page on the fly so you can try things out. It includes drag-and-drop @font-face support in FireFox 3.6+.</p>\n\n<p>More recently, Google has started to provide the <a href=\"http://www.google.com/webfonts\">Google Web Fonts</a>, an assortment of fonts available under an Open Source license and served from Google's servers.</p>\n\n<p><strong>License Restrictions</strong></p>\n\n<p>Finally, WebFonts.info has put together a nice wiki'd list of <a href=\"http://www.webfonts.info/wiki/index.php?title=Fonts_available_for_%40font-face_embedding\">Fonts available for @font-face embedding</a> based on licenses. It doesn't claim to be an exhaustive list, but fonts on it should be available (possibly with conditions such as an attribution in the CSS file) for embedding/linking. <strong>It's important to read the licenses</strong>, because there are some limitations that aren't pushed forward obviously on the font downloads.</p>\n",
                    "is_accepted": true,
                    "score": 111
                },
                {
                    "body": "<p>Check out <a href=\"http://typekit.com/\" rel=\"nofollow\">Typekit</a>, a commercial option (they have a free package available too). </p>\n\n<p>It uses different techniques depending on which browser is being used (<code>@font-face</code> vs. <code>EOT</code> format), and they take care of all the font licensing issues for you also.  It supports everything down to IE6.</p>\n\n<p>Here's some more info about how Typekit works:</p>\n\n<ul>\n<li><a href=\"http://forabeautifulweb.com/blog/about/first%5Fimpressions%5Fof%5Ftypekit\" rel=\"nofollow\">http://forabeautifulweb.com/blog/about/first%5Fimpressions%5Fof%5Ftypekit</a></li>\n<li><a href=\"http://www.sitepoint.com/blogs/2009/06/01/web-fonts-get-real-with-typekit/\" rel=\"nofollow\">http://www.sitepoint.com/blogs/2009/06/01/web-fonts-get-real-with-typekit/</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm trying to figure out a decent solution (especially from the SEO side) for embedding fonts in web pages. So far I have seen <a href=\"http://web.archive.org/web/20100208164146/http://www.spoono.com/html/tutorials/tutorial.php?id=19\">the W3C solution</a>, which doesn't even work on Firefox, and <a href=\"http://web.archive.org/web/20130127125919/http://wiki.novemberborn.net/sifr/How+to+use\">this pretty cool solution</a>. The second solution is for titles only. Is there a solution available for full text? I'm tired of the standard fonts for web pages.</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1383523438,
            "question_id": 220236,
            "score": 57,
            "tags": [
                "javascript",
                "html",
                "flash",
                "fonts",
                "embed"
            ],
            "title": "How to embed fonts in HTML?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>This is a wild guess, but I think the Google Web Toolkit have functions for that, seeing how Google is doing much of their app using GWT and their App Engine.</p>\n",
                    "is_accepted": false,
                    "score": -12
                },
                {
                    "body": "<p>This question answers your problem:</p>\n\n<p>You can use javascript/canvas to do the job but it is still experimental.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/4912092/using-html5-canvas-javascript-to-take-screenshots/6678156#6678156\">Using HTML5/Canvas/Javascript to take screenshots</a></p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>You can also use a third-party service to render your page and use the API to get back the image:\ntake a look at <a href=\"http://www.shrinktheweb.com/uploads/STW_API_Documentation.pdf\" rel=\"nofollow\">http://www.shrinktheweb.com/uploads/STW_API_Documentation.pdf</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>SnapEngage provides this service using a Java applet. You can use their product <a href=\"http://www.snapengage.com\" rel=\"nofollow\">http://www.snapengage.com</a> or re-create their functionality using the information from <a href=\"http://www.barklund.org/blog/2009/10/14/how-snapabug-works/\" rel=\"nofollow\">http://www.barklund.org/blog/2009/10/14/how-snapabug-works/</a> . You can also read about it at <a href=\"http://stackoverflow.com/questions/2046812/javascript-to-take-a-screenshot-of-a-website-without-using-activex\">Javascript to take a screenshot of a website without using ActiveX</a> .</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Although this option is not free-beer nor free-libre, it is a very nifty javascript only option that mimics the Google Feedback almost to the millimeter :\n<a href=\"http://bugmuncher.com/\" rel=\"nofollow\">http://bugmuncher.com/</a></p>\n\n<p>It is 10$/month though.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"http://html2canvas.hertzen.com/\" rel=\"nofollow\">html2canvas</a> looks promising, but I have not tried it.</p>\n\n<p>I'll come back if I have an opportunity to give it a shot (pun intended).</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Yes you can See following demo In below code I have define table inside body tag but when you run this code then it will display image snapshot.</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=\"utf-8\"/&gt;\n&lt;title&gt;test2&lt;/title&gt;\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.js\"&gt;&lt;/script&gt; \n&lt;script type=\"text/javascript\" src=\"js/html2canvas.js?rev032\"&gt;&lt;/script&gt; \n&lt;script type=\"text/javascript\"&gt;\n  $(document).ready(function() {\n  var target = $('body');\n  html2canvas(target, {\n  onrendered: function(canvas) {\n  var data = canvas.toDataURL();\n  alert(data);\n  document.body.innerHTML=\"&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;img src=\"+data+\" /&gt;\";\n }\n });\n });\n&lt;/script&gt;       \n&lt;/head&gt;\n&lt;body&gt;  \n  &lt;h1&gt;Testing&lt;/h1&gt;\n  &lt;h4&gt;One column:&lt;/h4&gt;\n    &lt;table border=\"1\"&gt;\n    &lt;tr&gt;\n      &lt;td&gt;100&lt;/td&gt;\n    &lt;/tr&gt;\n   &lt;/table&gt;\n&lt;/body&gt;\n\n  html2canvas official Documentation:- http://html2canvas.hertzen.com/\n\n To download html2canvas.js library you can use also if you unable to find \n from official link :- https://github.com/niklasvh/html2canvas/downloads \n [I am not responsible for this link :P :P :P]\n</code></pre>\n\n<p>I have also mention this post here:- \n<a href=\"http://stackoverflow.com/questions/4340056/can-you-take-a-screenshot-of-the-page-using-canvas/14796377#14796377\">Can you take a &quot;screenshot&quot; of the page using Canvas?</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had the same problem and solved using the html2canvas.</p>\n\n<p>1) Download and include html2canvas into your page.</p>\n\n<p>2) Make sure you have an ID for your DIV, the section which you want to generate it as a picture(In here, I will use \u2018cardview\u2019 as sample).</p>\n\n<p>3) Call the below function, in order to start your process</p>\n\n<pre><code>function printDiv(div)\n{\n    html2canvas([document.getElementById('cardview')], {   \n        onrendered: function(canvas)  \n        {\n            var img = canvas.toDataURL()\n            $.post(\"save.php\", {data: img}, function (file) {\n            window.location.href =  \"download.php?path=\"+ file});   \n        }\n    });         \n}\n</code></pre>\n\n<p>4) Create a text file, name it as save.php with the following content in your root directory</p>\n\n<pre><code>&lt;?php\n$data = $_POST['data'];\n$file = md5(uniqid()) . '.png';\n\n// remove \"data:image/png;base64,\"\n$uri =  substr($data,strpos($data,\",\")+1);\n\n// save to file\nfile_put_contents('./'.$file, base64_decode($uri));\n\n// return the filename\necho $file; exit;\n</code></pre>\n\n<p>5) Create a text file, name it as download.php with the following content in your root directory</p>\n\n<pre><code>&lt;?php\n$file = trim($_GET['path']);\n\n// force user to download the image\nif (file_exists($file)) {\n    header('Content-Description: File Transfer');\n    header('Content-Type: image/png');\n    header('Content-Disposition: attachment; filename='.basename($file));\n    header('Content-Transfer-Encoding: binary');\n    header('Expires: 0');\n    header('Cache-Control: must-revalidate, post-check=0, pre-check=0');\n    header('Pragma: public');\n    header('Content-Length: ' . filesize($file));\n    ob_clean();\n    flush();\n    readfile($file);\n    unlink($file);\n    exit;\n}\nelse {\n    echo \"$file not found\";\n}\n</code></pre>\n\n<p>Now, you will get a picture format of your HTML! content downloaded and you can print the picture in the same format and styles you had on your page.</p>\n\n<p><strong>source:</strong> <a href=\"http://kevinsookocheff.com/2011/07/27/saving-canvas-data-to-an-image-file-with-javascript-and-php/\">http://kevinsookocheff.com/2011/07/27/saving-canvas-data-to-an-image-file-with-javascript-and-php/</a></p>\n",
                    "is_accepted": false,
                    "score": 10
                }
            ],
            "body": "<p>I'm working on web application that needs to render a page and make a screenshot on the client (browser) side. I don't need the screenshot to be saved on the local HDD though, just kept it in RAM and send it to the application server later.<br/>\n<br/>\nI researched:<br/>\n1. BrowserShots alike services...<br/>\n2. Mechanized browsers...<br/>\n3. wkhtmltoimage...<br/>\n4. Python WebKit2PNG...<br/>\n<br/>\nBut none of those gives me all I need, which is:<br/>\n1. Processing at browser side (generate screenshot of page). Don't need to be saved on HDD! Just...<br/>\n2. ...send image to Server for further processing.<br/>\n3. Capturing whole page (not only visible part)<br/></p>\n\n<p>Eventually I came upon Google's Feedback Tool (click \"feedback\" on YouTube footer to see this). It contains <a href=\"http://code.google.com/p/closure-library/source/browse/trunk/third_party/closure/goog/jpeg_encoder/jpeg_encoder_basic.js?spec=svn463&amp;r=440\" rel=\"nofollow\">JavaScript for JPG encoding</a> and two other huge scripts which I can't determine what exactly they do... But it's processed on the Client side - otherwise there would be no point putting this huge JPEG encoder in the code!<br/>\n<br/>\nAnyone have any idea how did they made it / how I can make it?<br/>\n<br/></p>\n\n<p>Here is an example of the feedback (report a bug on some screens)</p>\n\n<p><img src=\"http://i.stack.imgur.com/9Wj0x.jpg\" alt=\"Feedback/report bug example\"></p>\n",
            "last_activity_date": 1423860260,
            "question_id": 5621907,
            "score": 89,
            "tags": [
                "javascript",
                "screenshot",
                "capture",
                "google-search"
            ],
            "title": "How to screenshot website in JavaScript client-side / how Google did it? (no need to access HDD)"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>Have a look at this piece of code from <a href=\"http://ericjuden.com/2009/07/jquery-image-resize/\">http://ericjuden.com/2009/07/jquery-image-resize/</a></p>\n\n<pre><code>$(document).ready(function() {\n    $('.story-small img').each(function() {\n        var maxWidth = 100; // Max width for the image\n        var maxHeight = 100;    // Max height for the image\n        var ratio = 0;  // Used for aspect ratio\n        var width = $(this).width();    // Current image width\n        var height = $(this).height();  // Current image height\n\n        // Check if the current width is larger than the max\n        if(width &gt; maxWidth){\n            ratio = maxWidth / width;   // get ratio for scaling image\n            $(this).css(\"width\", maxWidth); // Set new width\n            $(this).css(\"height\", height * ratio);  // Scale height based on ratio\n            height = height * ratio;    // Reset height to match scaled image\n            width = width * ratio;    // Reset width to match scaled image\n        }\n\n        // Check if current height is larger than max\n        if(height &gt; maxHeight){\n            ratio = maxHeight / height; // get ratio for scaling image\n            $(this).css(\"height\", maxHeight);   // Set new height\n            $(this).css(\"width\", width * ratio);    // Scale width based on ratio\n            width = width * ratio;    // Reset width to match scaled image\n            height = height * ratio;    // Reset height to match scaled image\n        }\n    });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 90
                },
                {
                    "body": "<p>If the image is proportionate then this code will fill the wrapper with image. If image is not in proportion then extra width/height will get cropped.</p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n        $(function(){\n            $('#slider img').each(function(){\n                var ReqWidth = 1000; // Max width for the image\n                var ReqHeight = 300; // Max height for the image\n                var width = $(this).width(); // Current image width\n                var height = $(this).height(); // Current image height\n                // Check if the current width is larger than the max\n                if (width &gt; height &amp;&amp; height &lt; ReqHeight) {\n\n                    $(this).css(\"min-height\", ReqHeight); // Set new height\n                }\n                else \n                    if (width &gt; height &amp;&amp; width &lt; ReqWidth) {\n\n                        $(this).css(\"min-width\", ReqWidth); // Set new width\n                    }\n                    else \n                        if (width &gt; height &amp;&amp; width &gt; ReqWidth) {\n\n                            $(this).css(\"max-width\", ReqWidth); // Set new width\n                        }\n                        else \n                            (height &gt; width &amp;&amp; width &lt; ReqWidth)\n                {\n\n                    $(this).css(\"min-width\", ReqWidth); // Set new width\n                }\n            });\n        });\n    &lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>           $('#productThumb img').each(function() {\n        var maxWidth = 140; // Max width for the image\n        var maxHeight = 140;    // Max height for the image\n        var ratio = 0;  // Used for aspect ratio\n        var width = $(this).width();    // Current image width\n        var height = $(this).height();  // Current image height\n        // Check if the current width is larger than the max\n        if(width &gt; height){\n            height = ( height / width ) * maxHeight;\n\n        } else if(height &gt; width){\n            maxWidth = (width/height)* maxWidth;\n        }\n        $(this).css(\"width\", maxWidth); // Set new width\n        $(this).css(\"height\", maxHeight);  // Scale height based on ratio\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>There are 4 parameters to this problem</p>\n\n<ol>\n<li>current image width iX</li>\n<li>current image height iY</li>\n<li>target viewport width cX</li>\n<li>target viewport height cY</li>\n</ol>\n\n<p>And there are 3 different conditional parameters</p>\n\n<ol>\n<li>cX > cY ?</li>\n<li>iX > cX ?</li>\n<li>iY > cY ?</li>\n</ol>\n\n<p>solution</p>\n\n<ol>\n<li>Find the smaller side of the target view port F</li>\n<li>Find the larger side of the current view port L</li>\n<li>Find the factor of both F/L = factor</li>\n<li>Multiply both sides of the current port with the factor  ie, fX = iX * factor; fY = iY * factor</li>\n</ol>\n\n<p>that's all you need to do.</p>\n\n<pre><code>//Pseudo code\n\n\niX;//current width of image in the client\niY;//current height of image in the client\ncX;//configured width\ncY;//configured height\nfX;//final width\nfY;//final height\n\n1. check if iX,iY,cX,cY values are &gt;0 and all values are not empty or not junk\n\n2. lE = iX &gt; iY ? iX: iY; //long edge\n\n3. if ( cX &lt; cY )\n   then\n4.      factor = cX/lE;     \n   else\n5.      factor = cY/lE;\n\n6. fX = iX * factor ; fY = iY * factor ; \n</code></pre>\n\n<p>This is a mature forum, I am not giving you code for that :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>actually i have just run into this problem and the solution I found was strangely simple and weird</p>\n\n<pre><code>$(\"#someimage\").css({height:&lt;some new height&gt;})\n</code></pre>\n\n<p>and miraculously the image is resized to the new height and conserving the same ratio!</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>If I understand the question correctly, you don't even need jQuery for this. Shrinking the image proportionally on the client can be done with CSS alone: just set its <code>max-width</code> and <code>max-height</code> to <code>100%</code>. </p>\n\n<pre><code>&lt;div style=\"height: 100px\"&gt;\n&lt;img src=\"http://www.getdigital.de/images/produkte/t4/t4_css_sucks2.jpg\"\n    style=\"max-height: 100%; max-width: 100%\"&gt;\n&lt;/div&gt;\u200b\n</code></pre>\n\n<p>Here's the fiddle: <a href=\"http://jsfiddle.net/9EQ5c/\">http://jsfiddle.net/9EQ5c/</a></p>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<p>I think this is a really <a href=\"http://opensourcehacker.com/2011/12/01/calculate-aspect-ratio-conserving-resize-for-images-in-javascript/\">cool method</a>:</p>\n\n<pre><code> /**\n  * Conserve aspect ratio of the orignal region. Useful when shrinking/enlarging\n  * images to fit into a certain area.\n  *\n  * @param {Number} srcWidth Source area width\n  * @param {Number} srcHeight Source area height\n  * @param {Number} maxWidth Fittable area maximum available width\n  * @param {Number} maxHeight Fittable area maximum available height\n  * @return {Object} { width, heigth }\n  */\nfunction calculateAspectRatioFit(srcWidth, srcHeight, maxWidth, maxHeight) {\n\n    var ratio = Math.min(maxWidth / srcWidth, maxHeight / srcHeight);\n\n    return { width: srcWidth*ratio, height: srcHeight*ratio };\n }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 103
                },
                {
                    "body": "<p>This totally worked for me for a draggable item - aspectRatio:true</p>\n\n<pre><code>.appendTo(divwrapper).resizable({\n    aspectRatio: true,\n    handles: 'se',\n    stop: resizestop \n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Without additional temp-vars or brackets.</p>\n\n<pre><code>    var width= $(this).width(), height= $(this).height()\n      , maxWidth=100, maxHeight= 100;\n\n    if(width &gt; maxWidth){\n      height = Math.floor( maxWidth * height / width );\n      width = maxWidth\n      }\n    if(height &gt; maxHeight){\n      width = Math.floor( maxHeight * width / height );\n      height = maxHeight;\n      }\n</code></pre>\n\n<p>Keep in Mind: Search engines don't like it, if width and height attribute does not fit the image, but they don't know JS. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Does <code>&lt;img src=\"/path/to/pic.jpg\" style=\"max-width:XXXpx; max-height:YYYpx;\" &gt;</code> help?</p>\n\n<p>Browser will take care of keeping aspect ratio intact. </p>\n\n<p>i.e <code>max-width</code> kicks in when image width is greater than height and its height will be calculated proportionally. Similarly <code>max-height</code> will be in effect when height is greater than width.</p>\n\n<p>You don't need any jQuery or javascript for this.</p>\n\n<p>Supported by ie7+ and other browsers (<a href=\"http://caniuse.com/minmaxwh\" rel=\"nofollow\">http://caniuse.com/minmaxwh</a>).</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>After some trial and error I came to this solution:</p>\n\n<pre><code>function center(img) {\n    var div = img.parentNode;\n    var divW = parseInt(div.style.width);\n    var divH = parseInt(div.style.height);\n    var srcW = img.width;\n    var srcH = img.height;\n    var ratio = Math.min(divW/srcW, divH/srcH);\n    var newW = img.width * ratio;\n    var newH = img.height * ratio;\n    img.style.width  = newW + \"px\";\n    img.style.height = newH + \"px\";\n    img.style.marginTop = (divH-newH)/2 + \"px\";\n    img.style.marginLeft = (divW-newW)/2 + \"px\";\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have images that will be quite big in dimension and I want to shrink them down with jQuery while keeping the proportions constrained, i.e. the same aspect ratio.</p>\n\n<p>Can someone point me to some code, or explain the logic?</p>\n",
            "last_activity_date": 1405445802,
            "question_id": 3971841,
            "score": 60,
            "tags": [
                "javascript",
                "jquery",
                "image",
                "resize"
            ],
            "title": "How to resize images proportionally / keeping the aspect ratio?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>If you try and reference an undeclared variable, an error will be thrown in all JavaScript implementations.</p>\n\n<p>Properties of objects aren't subject to the same conditions. If an object property hasn't been defined, an error won't be thrown if you try and access it. So in this situation you could shorten:</p>\n\n<pre><code> if (typeof(myObj.some_property) != \"undefined\" &amp;&amp; myObj.some_property != null)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>if (myObj.some_property)\n</code></pre>\n\n<p>With this in mind, and the fact that global variables are accessible as properties of the global object (<code>window</code> in the case of a browser), you can use the following for global variables:</p>\n\n<pre><code>if (window.some_variable) {\n    // Do something with some_variable\n}\n</code></pre>\n\n<p>In local scopes, it always useful to make sure variables are declared at the top of your code block, this will save on recurring uses of <code>typeof</code>.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>You have to differentiate between two cases</p>\n\n<p>1) Undefined <em>variables</em> , like 'foo'. You'll get an error if you access an undefined variable in any context other than typeof. </p>\n\n<pre><code>  if(typeof someUndefVar == whatever) -- works\n  if(someUndefVar) -- error  \n</code></pre>\n\n<p>So, for variables, the typeof check is a must. On the other side, it's only rarely needed - you usually <em>know</em> if your variables are defined or not.</p>\n\n<p>2) Undefined <em>properties</em> , like <code>someExistingObj.someUndefProperty</code>. An undefined property doesn't yield an error and simply returns \"undefined\", which, when converted to boolean, evaluates to false. So, if you don't care about '0' and 'false', <code>if(obj.undefProp)</code> is ok. There's a common idiom based on this fact:</p>\n\n<pre><code> value = obj.prop || defaultValue\n</code></pre>\n\n<p>which means \"if obj has a prop, use that, otherwise default\".</p>\n\n<p>Some people consider this behavior confusing, arguing that it leads to hard-to-find errors and recommend using <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Operators/Special_Operators/in_Operator\">in operator</a> instead</p>\n\n<pre><code> value = ('prop' in obj) ? obj.prop : defaultValue\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 149
                },
                {
                    "body": "<p>You should never have to check for <code>typeof myVar != \"undefined\"</code>. If you try to reference an undeclared variable, something should be wrong in your code and an exception should be fired. Undeclared variables are a very bad thing in javascript, because of a few things, like:</p>\n\n<ol>\n<li>They pollute the global namespace, ie. <code>window</code></li>\n<li>They can easily collide inside this namespace</li>\n<li>They are not garbage-collected before the window closes</li>\n<li>They require security tests like <code>typeof myVar != \"undefined\"</code></li>\n</ol>\n\n<p>So declare your variables and treat <code>undefined</code> and <code>null</code> like two distinct values, because 4 different things can happen with a variable:</p>\n\n<ol>\n<li>When a variable is not defined and you try to know its value, javascript throws a ReferenceError exception (is not defined). That's a bad thing, ergo the exception.</li>\n<li><code>undefined</code> means that the variable value has not been defined. So the variable value is unknown ; it is not known if the variable has a value and what it is.</li>\n<li><code>null</code> means that the variable value, which is defined, is null. So the variable has no value ; it is known that the variable doesn't have a value.</li>\n<li>Else, you have a value, enjoy!</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": -3
                },
                {
                    "body": "<p>I think the most efficient way to test for \"value is <code>null</code> or <code>undefined</code>\" is </p>\n\n<pre><code>if ( some_variable == null ){\n  // some_variable is either null or undefined\n}\n</code></pre>\n\n<p>So these two lines are equivalent:</p>\n\n<pre><code>if ( typeof(some_variable) !== \"undefined\" &amp;&amp; some_variable !== null ) {}\nif ( some_variable != null ) {}\n</code></pre>\n\n<p><strong>Note 1</strong></p>\n\n<p>As mentioned in the question, the short variant requires that <code>some_variable</code> has been declared, otherwise a ReferenceError will be thrown. However in many use cases you can assume that this is safe:</p>\n\n<p>check for optional arguments:</p>\n\n<pre><code>function(foo){\n    if( foo == null ) {...}\n</code></pre>\n\n<p>check for properties on an existing object</p>\n\n<pre><code>if(my_obj.foo == null) {...}\n</code></pre>\n\n<p>On the other hand <code>typeof</code> can deal with undeclared global variables (simply returns <code>undefined</code>). Yet these cases should be reduced to a minimum for good reasons, as Alsciende explained.</p>\n\n<p><strong>Note 2</strong></p>\n\n<p>This - even shorter - variant is <em>not</em> equivalent:</p>\n\n<pre><code>if ( !some_variable ) {\n  // some_variable is either null, undefined, 0, NaN, false, or an empty string\n}\n</code></pre>\n\n<p>so</p>\n\n<pre><code>if ( some_variable ) {\n  // we don't get here if some_variable is null, undefined, 0, NaN, false, or \"\"\n}\n</code></pre>\n\n<p><strong>Note 3</strong></p>\n\n<p>In general it is recommended to use <code>===</code> instead of <code>==</code>.\nThe proposed solution is an exception to this rule. The <a href=\"http://www.jshint.com/docs/#options\">JSHint syntax checker</a> even provides the <code>eqnull</code> option for this reason.</p>\n\n<p>From the <a href=\"http://contribute.jquery.org/style-guide/js/\">jQuery style guide</a>:</p>\n\n<blockquote>\n  <p>Strict equality checks (===) should be used in favor of ==. The only\n  exception is when checking for undefined and null by way of null.</p>\n\n<pre><code>// Check for both undefined and null values, for some important reason. \nundefOrNull == null;\n</code></pre>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 64
                },
                {
                    "body": "<p>Since there is no single complete and correct answer, I will try to summarize:</p>\n\n<p>In general, the expression:</p>\n\n<pre><code>if (typeof(variable) != \"undefined\" &amp;&amp; variable != null)\n</code></pre>\n\n<p>cannot be simplified, because the <code>variable</code> might be undeclared so omitting the <code>typeof(variable) != \"undefined\"</code> would result in ReferenceError. But, <strong>you can simplify the expression according to the context</strong>:</p>\n\n<p>If the <code>variable</code> is <strong>global</strong>, you can simplify to:</p>\n\n<pre><code>if (window.variable != null)\n</code></pre>\n\n<p>If it is <strong>local</strong>, you can probably avoid situations when this variable is undeclared, and also simplify to:</p>\n\n<pre><code>if (variable != null)\n</code></pre>\n\n<p>If it is <strong>object property</strong>, you don't have to worry about ReferenceError:</p>\n\n<pre><code>if (obj.property != null)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You must define a function of this form:</p>\n\n<pre><code>validate = function(some_variable){\n    return(typeof(some_variable) != 'undefined' &amp;&amp; some_variable != null)\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Firstly you have to be very clear about what you test. JavaScript has all sorts of implicit conversions to trip you up, and two different types of equality comparator: <code>==</code> and <code>===</code>.</p>\n\n<p>A function, <code>test(val)</code> that tests for <code>null</code> or <code>undefined</code> should have the following characteristics:</p>\n\n<pre><code> test(null)         =&gt; true\n test(undefined)    =&gt; true\n test(0)            =&gt; false\n test(1)            =&gt; false\n test(true)         =&gt; false\n test(false)        =&gt; false\n test('s')          =&gt; false\n test([])           =&gt; false\n</code></pre>\n\n<p>Let's see which of the ideas here actually pass our test.</p>\n\n<p>These work:</p>\n\n<pre><code>val == null\nval === null || val === undefined\ntypeof(val) == 'undefined' || val == null\ntypeof(val) === 'undefined' || val === null\n</code></pre>\n\n<p>These do not work:</p>\n\n<pre><code>typeof(val) === 'undefined'\n!!val\n</code></pre>\n\n<p>I created a <a href=\"http://jsperf.com/check-for-null-undefined\" rel=\"nofollow\">jsperf entry to compare the correctness and performance</a> of these approaches. Results are inconclusive for the time being as there haven't been enough runs across different browsers/platforms. Please take a minute to run the test on your computer!</p>\n\n<p>At present, it seems that the simple <code>val == null</code> test gives the best performance. It's also pretty much the shortest. The test may be negated to <code>val != null</code> if you want the complement.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>As mentioned in one of the answers, you can be in luck if you are talking about a variable that has a global scope. As you might know, the variables that you define globally tend to get added to the windows object. You can take advantage of this fact so lets say you are accessing a variable called bleh, just use the double inverted operator (!!) </p>\n\n<pre><code>!!window['bleh'];\n</code></pre>\n\n<p>This would return a false while bleh has not been declared AND assigned a value.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Testing nullity (<code>if (value == null)</code>) or non-nullity (<code>if (value != null)</code>) is less verbose than testing the definition status of a variable.</p>\n\n<p>Moreover, testing <code>if (value)</code> (or  <code>if( obj.property)</code>) to ensure the existence of your variable (or object property) fails if it is defined with a boolean <code>false</code> value. Caveat emptor :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Checking null with normal equality will also return true for undefined.</p>\n\n<p><code>if (window.variable == null) alert('variable is null or undefined');</code></p>\n\n<p><img src=\"http://i.stack.imgur.com/twaoH.png\" alt=\"JS Equality\"></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>We are frequently using the following code pattern in our JavaScript code</p>\n\n<pre><code>if (typeof(some_variable) != 'undefined' &amp;&amp; some_variable != null)\n{\n    // Do something with some_variable\n}\n</code></pre>\n\n<p>Is there a less verbose way of checking that has the same effect?</p>\n\n<p>According to some forums and literature saying simply the following should have the same effect.</p>\n\n<pre><code>if (some_variable)\n{\n    // Do something with some_variable\n}\n</code></pre>\n\n<p>Unfortunately, <a href=\"http://en.wikipedia.org/wiki/Firebug_%28software%29\">Firebug</a> evaluates such a statement as error on runtime when <code>some_variable</code> is undefined, whereas the first one is just fine for it. Is this only an (unwanted) behavior of Firebug or is there really some difference between those two ways?</p>\n",
            "last_activity_date": 1420307068,
            "question_id": 2559318,
            "score": 130,
            "tags": [
                "javascript",
                "null",
                "undefined"
            ],
            "title": "How to check for an undefined or null variable in JavaScript?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>Answering your question - use <code>contextmenu</code> event, like below:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\"&gt;\n    if (document.addEventListener) {\n        document.addEventListener('contextmenu', function(e) {\n            alert(\"You've tried to open context menu\"); //here you draw your own menu\n            e.preventDefault();\n        }, false);\n    } else {\n        document.attachEvent('oncontextmenu', function() {\n            alert(\"You've tried to open context menu\");\n            window.event.returnValue = false;\n        });\n    }\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\nLorem ipsum...\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>But you should ask yourself, do you really want to overwrite default right-click behavior - it depends on application that you're developing.</p>\n\n<hr>\n\n<p><a href=\"http://jsfiddle.net/nhvv6/\"><strong>JSFIDDLE</strong></a></p>\n",
                    "is_accepted": true,
                    "score": 106
                },
                {
                    "body": "<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;head&gt;\n\n&lt;title&gt;Context menu - LabLogic.net&lt;/title&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n\ndocument.oncontextmenu=RightMouseDown;\ndocument.onmousedown = mouseDown; \n\n\n\nfunction mouseDown(e) {\n    if (e.which==3) {//righClick\n        alert(\"Right-click menu goes here\");\n    }\n}\n\n\nfunction RightMouseDown() { return false; }\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Tested and works in Opera 11.6, firefox 9.01, Internet Explorer 9 and chrome 17\nYou can check out a working sample at <a href=\"http://lablogic.net/scripts/contextmenu/right-click-menu.php\">javascript right click menu</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Was very useful for me. For the sake of people like me, expecting the drawing of menu, I put here the code I used to make the right-click menu:</p>\n\n<p><strong><em>HTML</em></strong>: <em>contextmenu.html</em></p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;!-- jQuery should be at least version 1.7 --&gt;\n        &lt;script src=\"http://code.jquery.com/jquery-1.11.0.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"contextmenu.js\"&gt;&lt;/script&gt; \n        &lt;link rel=\"stylesheet\" href=\"contextmenu.css\" /&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;div id=\"test1\"&gt;\n            &lt;a href=\"www.google.com\" class=\"test\"&gt;Google&lt;/a&gt;\n            &lt;a href=\"www.google.com\" class=\"test\"&gt;Link 2&lt;/a&gt;\n            &lt;a href=\"www.google.com\" class=\"test\"&gt;Link 3&lt;/a&gt;\n            &lt;a href=\"www.google.com\" class=\"test\"&gt;Link 4&lt;/a&gt;\n        &lt;/div&gt;\n\n        &lt;!-- initially hidden right-click menu --&gt;\n        &lt;div class=\"hide\" id=\"rmenu\"&gt;\n            &lt;ul&gt;\n                &lt;li&gt;\n                    &lt;a href=\"http://www.google.com\"&gt;Google&lt;/a&gt;\n                &lt;/li&gt;\n\n                &lt;li&gt;\n                    &lt;a href=\"http://localhost:8080/login\"&gt;Localhost&lt;/a&gt;\n                &lt;/li&gt;\n\n                &lt;li&gt;\n                    &lt;a href=\"C:\\\"&gt;C&lt;/a&gt;\n                &lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong><em>CSS:</em></strong> <em>contextmenu.css</em></p>\n\n<pre><code>.show {\n    z-index:1000;\n    position: absolute;\n    background-color:#C0C0C0;\n    border: 1px solid blue;\n    padding: 2px;\n    display: block;\n    margin: 0;\n    list-style-type: none;\n    list-style: none;\n}\n\n.hide {\n    display: none;\n}\n\n.show li{ list-style: none; }\n.show a { border: 0 !important; text-decoration: none; }\n.show a:hover { text-decoration: underline !important; }\n</code></pre>\n\n<p><strong><em>JS:</em></strong> <em>contextmenu.js - used from the accepted answer</em></p>\n\n<pre><code>$(document).ready(function() {\n\n\n    if ($(\"#test\").addEventListener) {\n        $(\"#test\").addEventListener('contextmenu', function(e) {\n            alert(\"You've tried to open context menu\"); //here you draw your own menu\n            e.preventDefault();\n        }, false);\n    } else {\n\n        //document.getElementById(\"test\").attachEvent('oncontextmenu', function() {\n        //$(\".test\").bind('contextmenu', function() {\n            $('body').on('contextmenu', 'a.test', function() {\n\n\n            //alert(\"contextmenu\"+event);\n            document.getElementById(\"rmenu\").className = \"show\";  \n            document.getElementById(\"rmenu\").style.top =  mouseY(event) + 'px';\n            document.getElementById(\"rmenu\").style.left = mouseX(event) + 'px';\n\n            window.event.returnValue = false;\n\n\n        });\n    }\n\n});\n\n// this is from another SO post...  \n    $(document).bind(\"click\", function(event) {\n        document.getElementById(\"rmenu\").className = \"hide\";\n    });\n\n\n\nfunction mouseX(evt) {\n    if (evt.pageX) {\n        return evt.pageX;\n    } else if (evt.clientX) {\n       return evt.clientX + (document.documentElement.scrollLeft ?\n           document.documentElement.scrollLeft :\n           document.body.scrollLeft);\n    } else {\n        return null;\n    }\n}\n\nfunction mouseY(evt) {\n    if (evt.pageY) {\n        return evt.pageY;\n    } else if (evt.clientY) {\n       return evt.clientY + (document.documentElement.scrollTop ?\n       document.documentElement.scrollTop :\n       document.body.scrollTop);\n    } else {\n        return null;\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>You could try simply blocking the context menu by adding the following to your body tag:</p>\n\n<pre><code>&lt;body oncontextmenu=\"return false;\"&gt;\n</code></pre>\n\n<p>This will block all access to the context menu (not just from the right mouse button but from the keyboard as well). </p>\n\n<p>P.S. you can add this to any tag you want to disable the context menu on</p>\n\n<p>for example:</p>\n\n<pre><code>&lt;div class=\"mydiv\" oncontextmenu=\"return false;\"&gt;\n</code></pre>\n\n<p>Will disable the context menu in that particular div only</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n  document.oncontextmenu = RightMouseDown; \n  document.onmousedown = mouseDown; \n\n  function mouseDown(e) {\n    if (e.which==3) {//righClick\n      alert(\"Right-click menu goes here\");\n    } \n  }\n\n  function RightMouseDown() { \n    return false; \n  }\n&lt;/script&gt;\n&lt;/body&gt; \n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>just stumbled upon:<br>\n<a href=\"http://davidwalsh.name/html5-context-menu\" rel=\"nofollow\">http://davidwalsh.name/html5-context-menu</a><br>\nlove HTML5</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>A simple way you could do it is use onContextMenu to return a JavaScript function:</p>\n\n<pre><code>&lt;input type=\"button\" value=\"Example\" onContextMenu=\"return RightClickFunction();\"&gt;\n\n&lt;script&gt;\n function RightClickFunction() {\n  // Enter your code here;\n  return false;\n }\n&lt;/script&gt;\n</code></pre>\n\n<p>And by entering <code>return false;</code> you will cancel out the context menu.</p>\n\n<p>if you still want to display the context menu you can just remove the <code>return false;</code> line.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Tested and works in Opera 12.17, firefox 30, Internet Explorer 9 and chrome 26.0.1410.64 </p>\n\n<pre><code>document.oncontextmenu =function( evt ){\n        alert(\"OK?\");\n        return false;\n        }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You should remember if you want to use the Firefox only solution, if you want to add it to the whole document you should add <code>contextmenu=\"mymenu\"</code> to the <code>&lt;html&gt;</code> tag not to the <code>body</code> tag.<br>\nYou should pay attention to this.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to add a custom right-click menu to my web application. Can this be done without using any pre-built libraries? If so, where can I find a good tutorial that shows how to display a simple custom right-click menu which does not use a 3rd party Javascript library?</p>\n\n<p>I'm aiming for something like what Google Docs does. It lets users right-click and show the users their own menu.</p>\n\n<p><strong>NOTE:</strong>\nI want to learn how to make my own versus using something somebody made already since most of the time, those 3rd party libraries are bloated with features whereas I only want features that I need so I want it to be completely hand-made by me.</p>\n",
            "last_activity_date": 1426218691,
            "question_id": 4909167,
            "score": 104,
            "tags": [
                "javascript",
                "contextmenu",
                "right-click"
            ],
            "title": "How to add a custom right-click menu to a webpage?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<pre><code>$(function() {\n  $(\":text\").keypress(check_submit).each(function() {\n    check_submit();\n  });\n});\n\nfunction check_submit() {\n  if ($(this).val().length == 0) {\n    $(\":submit\").attr(\"disabled\", true);\n  } else {\n    $(\":submit\").removeAttr(\"disabled\");\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 38
                },
                {
                    "body": "<p>The problem is that the change event fires only when focus is moved away from the input (e.g. someone clicks off the input or tabs out of it).  Try using keyup instead:</p>\n\n<pre><code>$(document).ready(function() {\n     $('input[type=\"submit\"]').attr('disabled','disabled');\n     $('input[type=\"text\"]').keyup(function() {\n        if($(this).val() != '') {\n           $('input[type=\"submit\"]').removeAttr('disabled');\n        }\n     });\n });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 374
                },
                {
                    "body": "<p>eric, your code did not seem to work for me when the user enters text then deletes all the text. i created another version if anyone experienced the same problem. here ya go folks:</p>\n\n<pre><code>$('input[type=\"submit\"]').attr('disabled','disabled');\n$('input[type=\"text\"]').keyup(function(){\n    if($('input[type=\"text\"]').val() == \"\"){\n        $('input[type=\"submit\"]').attr('disabled','disabled');\n    }\n    else{\n        $('input[type=\"submit\"]').removeAttr('disabled');\n    }\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>Here's the solution for <strong>file input field</strong>.</p>\n\n<p>To disable a submit button for file field when a file is not chosen, then enable after the user chooses a file to upload: </p>\n\n<pre><code>$(document).ready(function(){\n    $(\"#submitButtonId\").attr(\"disabled\", \"disabled\");\n    $(\"#fileFieldId\").change(function(){\n        $(\"#submitButtonId\").removeAttr(\"disabled\");\n    });\n});\n</code></pre>\n\n<p>Html:</p>\n\n<pre><code>&lt;%= form_tag your_method_path, :multipart =&gt; true do %&gt;&lt;%= file_field_tag :file, :accept =&gt; \"text/csv\", :id =&gt; \"fileFieldId\" %&gt;&lt;%= submit_tag \"Upload\", :id =&gt; \"submitButtonId\" %&gt;&lt;% end %&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>or for us that dont like to use jQ for every little thing:</p>\n\n<pre><code>document.getElementById(\"submitButtonId\").disabled = true;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>you can also use something like this : </p>\n\n<pre><code>$(document).ready(function() {\n    $('input[type=\"submit\"]').attr('disabled', true);\n    $('input[type=\"text\"]').on('keyup',function() {\n        if($(this).val() != '') {\n            $('input[type=\"submit\"]').attr('disabled' , false);\n        }else{\n            $('input[type=\"submit\"]').attr('disabled' , true);\n        }\n    });\n});\n</code></pre>\n\n<p>here  is <a href=\"http://jsfiddle.net/JRVyN/\" rel=\"nofollow\">Live example</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This question is 2 years old but it's still a good question and it was the first Google result ... but all of the existing answers recommend setting and <strong>removing</strong> the HTML <strong>attribute</strong> (removeAttr(\"disabled\")) \"disabled\". There is a lot of confusion regarding attribute vs. property.</p>\n\n<h2>HTML</h2>\n\n<p>The \"disabled\" in <code>&lt;input type=\"button\" disabled&gt;</code> in the markup <a href=\"http://www.w3.org/TR/html5/forms.html#attr-fe-disabled\">is called a <em>boolean attribute</em> by the W3C</a>.</p>\n\n<h2>HTML vs. DOM</h2>\n\n<p>Quote:</p>\n\n<blockquote>\n  <p>A property is in the DOM; an attribute is in the HTML that is parsed into the DOM.</p>\n</blockquote>\n\n<p><a href=\"http://stackoverflow.com/a/7572855/664132\">http://stackoverflow.com/a/7572855/664132</a></p>\n\n<h2>JQuery</h2>\n\n<p>Related:</p>\n\n<blockquote>\n  <p>Nevertheless, the most important concept to remember about the checked attribute is that it does not correspond to the checked property. The <strong>attribute</strong> actually corresponds to the defaultChecked property and <strong>should be used only to set the initial value</strong> of the checkbox. The checked attribute value does not change with the state of the checkbox, while the checked property does. Therefore, the cross-browser-compatible way to determine if a checkbox is checked is to use the property...</p>\n</blockquote>\n\n<p>Relevant:</p>\n\n<blockquote>\n  <p>Properties generally affect the dynamic state of a DOM element without changing the serialized HTML attribute. Examples include the value property of input elements, the <strong>disabled property</strong> of inputs and buttons, or the checked property of a checkbox. <strong>The .prop() method should be used to set disabled and checked instead of the .attr() method.</strong></p>\n</blockquote>\n\n<pre><code>$( \"input\" ).prop( \"disabled\", false );\n</code></pre>\n\n<hr>\n\n<p>As for the disable on change part of the question: There is an event called \"input\", but <a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/input\">browser support is limited</a> and it's not a jQuery event, so jQuery won't make it work. The change event works reliably, but is fired when the element loses focus. So one might combine the two (some people also listen for keyup and paste).</p>\n\n<p>Here's an untested piece of code to show what I mean:</p>\n\n<pre><code>$(document).ready(function() {\n    var $submit = $('input[type=\"submit\"]');\n    $submit.prop('disabled', true);\n    $('input[type=\"text\"]').on('input change', function() { //'input change keyup paste'\n        if ($(this).val() != '') {\n            $submit.prop('disabled', false);\n       }\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>The answers above don't address don't address also checking for menu based cut/paste events.  Below's the code that I use to do both.  Note the action actually happens with a timeout because the cut and past events actually fire before the change happened, so timeout gives a little time for that to happen.</p>\n\n<pre><code>  $( \".your-input-item\" ).bind('keyup cut paste',function() {\n      var ctl = $(this);\n      setTimeout(function() {\n          $('.your-submit-button').prop( 'disabled', $(ctl).val() == '');\n      }, 100);\n  });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To remove disabled attribute use,</p>\n\n<pre><code> $(\"#elementID\").removeAttr('disabled');\n</code></pre>\n\n<p>and to add disabled attribute use,</p>\n\n<pre><code>$(\"#elementID\").prop(\"disabled\", true);\n</code></pre>\n\n<p>Enjoy :)</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If the button is itself a jQuery styled button (with .button()) you will need to refresh the state of the button so that the correct classes are added / removed once you have removed/added the disabled attribute.</p>\n\n<pre><code>$( \".selector\" ).button( \"refresh\" );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have this html:</p>\n\n<pre><code>&lt;input type=\"text\" name=\"textField\" /&gt;\n &lt;input type=\"submit\" value=\"send\" /&gt;\n</code></pre>\n\n<p>How can I do something like this:</p>\n\n<ul>\n<li>When the text field is empty the submit should be disabled (disabled=\"disabled\").</li>\n<li>When something is typed in the text field to remove the disabled attribute.</li>\n<li>If the text field becomes empty again(the text is deleted) the submit button should be disabled again.</li>\n</ul>\n\n<p>I tried something like this:</p>\n\n<pre><code>$(document).ready(function(){\n     $('input[type=\"submit\"]').attr('disabled','disabled');\n     $('input[type=\"text\"]').change(function(){\n            if($(this).val != ''){\n               $('input[type=\"submit\"]').removeAttr('disabled');\n            }\n     });\n });\n</code></pre>\n\n<p>..but it doesn't work. Any ideas? Thanks.</p>\n",
            "last_activity_date": 1425299127,
            "question_id": 1594952,
            "score": 237,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "forms"
            ],
            "title": "jquery disable/enable submit button"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Assuming that you mean \"When using ajax\" and \"An HTTP <em>Request</em> header\", then use the <code>headers</code> property in the object you pass to <code>ajax()</code></p>\n\n<blockquote>\n  <p>headers(added 1.5)</p>\n  \n  <p>Default: <code>{}</code></p>\n  \n  <p>A map of additional header key/value pairs to send along with the request. This setting is set before the beforeSend function is called; therefore, any values in the headers setting can be overwritten from within the beforeSend function.</p>\n</blockquote>\n\n<p>\u2014 <a href=\"http://api.jquery.com/jQuery.ajax/\" rel=\"nofollow\">http://api.jquery.com/jQuery.ajax/</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Here's an example using XHR2:</p>\n\n<pre><code>function xhrToSend(){\n    // Attempt to creat the XHR2 object\n    var xhr;\n    try{\n        xhr = new XMLHttpRequest();\n    }catch (e){\n        try{\n            xhr = new XDomainRequest();\n        } catch (e){\n            try{\n                xhr = new ActiveXObject('Msxml2.XMLHTTP');\n            }catch (e){\n                try{\n                    xhr = new ActiveXObject('Microsoft.XMLHTTP');\n                }catch (e){\n                    statusField('\\nYour browser is not' + \n                        ' compatible with XHR2');                           \n                }\n            }\n        }\n    }\n    xhr.open('POST', 'startStopResume.aspx', true);\n    xhr.setRequestHeader(\"chunk\", numberOfBLObsSent + 1);\n    xhr.onreadystatechange = function (e) {\n        if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) {\n            receivedChunks++;\n        }\n    };\n    xhr.send(chunk);\n    numberOfBLObsSent++;\n}; \n</code></pre>\n\n<p>Hope that helps.</p>\n\n<p>If you create your object, you can use the setRequestHeader function to assign a name, and a value before you send the request.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Assuming JQuery ajax, you can add custom headers like - </p>\n\n<pre><code>$.ajax({\n  url: url,\n  beforeSend: function(xhr) {\n    xhr.setRequestHeader(\"custom_header\", \"value\");\n  },\n  success: function(data) {\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>\"setRequestHeader\" method of XMLHttpRequest object should be used</p>\n\n<p><a href=\"http://help.dottoro.com/ljhcrlbv.php\" rel=\"nofollow\">http://help.dottoro.com/ljhcrlbv.php</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Or, if you want to send the custom header for every future request, then you could use the following:</p>\n\n<pre><code>$.ajaxSetup({\n    headers: { \"CustomHeader\": \"myValue\" }\n});\n</code></pre>\n\n<p>This way every future ajax request will contain the custom header, unless explicitly overridden by the options of the request. You can find more info on <code>ajaxSetup</code> <a href=\"http://api.jquery.com/jQuery.ajaxSetup/\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<p>There are several solutions depending on what you need...</p>\n\n<p>If you want to <strong>add a custom header (or set of headers) to an individual request</strong> then just add the <code>headers</code> property:</p>\n\n<pre><code>// Request with custom header\n$.ajax({\n    url: 'foo/bar',\n    headers: { 'x-my-custom-header': 'some value' }\n});\n</code></pre>\n\n<p>If you want to <strong>add a default header (or set of headers) to every request</strong> then use <code>$.ajaxSetup()</code>:</p>\n\n<pre><code>$.ajaxSetup({\n    headers: { 'x-my-custom-header': 'some value' }\n});\n\n// Sends your custom header\n$.ajax({ url: 'foo/bar' });\n\n// Overwrites the default header with a new header\n$.ajax({ url: 'foo/bar', headers: { 'x-some-other-header': 'some value' } });\n</code></pre>\n\n<p>If you want to <strong>add a header (or set of headers) to every request</strong>  then use the <code>beforeSend</code> hook with <code>$.ajaxSetup()</code>:</p>\n\n<pre><code>$.ajaxSetup({\n    beforeSend: function(xhr) {\n        xhr.setRequestHeader('x-my-custom-header', 'some value');\n    }\n});\n\n// Sends your custom header\n$.ajax({ url: 'foo/bar' });\n\n// Sends both custom headers\n$.ajax({ url: 'foo/bar', headers: { 'x-some-other-header': 'some value' } });\n</code></pre>\n\n<p><strong>Edit (more info):</strong> One thing to be aware of is that with <code>ajaxSetup</code> you can only define one set of default headers and you can only define one <code>beforeSend</code>.  If you call <code>ajaxSetup</code> multiple times, only the last set of headers will be sent and only the last before-send callback will execute.</p>\n",
                    "is_accepted": true,
                    "score": 206
                }
            ],
            "body": "<p>Does anyone know how to add or create a custom HTTP header using JavaScript or jQuery?</p>\n",
            "last_activity_date": 1397119600,
            "question_id": 7686827,
            "score": 108,
            "tags": [
                "javascript",
                "ajax",
                "jquery",
                "http-headers"
            ],
            "title": "How can I add a custom HTTP header to ajax request with js or jQuery?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You should check out this plugin:</p>\n\n<p><a href=\"https://github.com/kemayo/maphilight\">https://github.com/kemayo/maphilight</a></p>\n\n<p>and the demo:</p>\n\n<p><a href=\"http://davidlynch.org/js/maphilight/docs/demo_usa.html\">http://davidlynch.org/js/maphilight/docs/demo_usa.html</a></p>\n\n<p>if anything, you might be able to borrow some code from it to fix yours.</p>\n",
                    "is_accepted": true,
                    "score": 55
                },
                {
                    "body": "<p>I found this wonderful mapping script (<a href=\"http://www.netzgesta.de/mapper/\" rel=\"nofollow\">mapper.js</a>) that I have used in the past. What's different about it is you can hover over the map or a link on your page to make the map area highlight. Sadly it's written in javascript and requires a lot of in-line coding in the HTML - I would love to see this script ported over to jQuery :P</p>\n\n<p>Also, check out all the demos! I think <a href=\"http://www.netzgesta.de/mapper/example.html\" rel=\"nofollow\">this example</a> could almost be made into a simple online game (without using flash) - make sure you click on the different camera angles.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Although jQuery Maphilight plugin does the job, it relies on the outdated verbose imagemap in your html. I would prefer to keep the mapcoordinates external. This could be as JS with the jquery imagemap plugin but it lacks hover states. A nice solution is googles geomap visualisation in flash and JS. But the opensource future for this kind of vectordata however is svg, considering svg support accross all modern browsers, and googles svgweb for a flash convert for IE, why not a jquery plugin to add links and hoverstates to a svg map, like the JS demo <a href=\"http://www.carto.net/svg/samples/mouse%5Fover%5Feffects.shtml\" rel=\"nofollow\">here</a>? That way you also avoid the complex step of transforming a vectormap to a imagemap coordinates.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This question is old but I wanted to add an alternative to the accepted answer which didn't exist at the time. </p>\n\n<p><a href=\"http://www.outsharked.com/imagemapster/\">Image Mapster</a> is a jQuery plugin that I wrote to solve some of the shortcomings of Map Hilight (and it was initially an extension of that plugin, though it's since been almost completely rewritten). Initially, this was just the ability to maintain selection state for areas, fix browser compatibility problems. Since its initial release a few months ago, though, I have added a lot of features including the ability to use an alternate image as the source for the highlights.</p>\n\n<p>It also has the ability to identify areas as \"masks,\" meaning you can create areas with \"holes\", and additionally create complex groupings of areas. For example, area A could cause another area B to be highlighted, but area B itself would not respond to mouse events.</p>\n\n<p>There are a few examples on the web site that show most of the features.  The <a href=\"https://github.com/jamietre/ImageMapster\">github repository</a> also has more examples and complete documentation.</p>\n",
                    "is_accepted": false,
                    "score": 39
                }
            ],
            "body": "<p>I have a complicated background image with a lot of small regions that need rollover illustration highlights, along with additional text display and associated links for each one. The final illustration stacks several static images with transparency using z-index, and the highlight rollover illustrations need to display in one of the in-between \u201csandwich\u201d layers to achieve the desired effect.</p>\n\n<p>After some unsuccessful fiddling with blocks, I decided this might be done with an old-school image map. I made a schematic test map with four geometric shape outlines and \u201cfilled\u201d them using with png rollovers. The idea is to associate the image map with the bottom background layer, initialize all the rollovers with css {visibility: hidden} and use Jquery\u2019s hover method to make them visible as well as reveal associated text in a separate div. The separate text function is why I\u2019m not trying to this with the :hover pseudoclass instead of jQuery hover. Because I was using the image map, I made all the rollover pngs (which have transparent backgrounds) sized to the full container for exact placement so everything lines up precisely.</p>\n\n<p>What I got works... not really! The image map is correctly mapped to activate only the geometric areas. But the href from each rollover area works only intermittently, and using Jquery hover with css visibility is messed up. Desired behavior is that rolling into the area simply would make the shape solid. What actually happens is any motion inside the shape makes rapid toggling between visible and hidden; when the cursor stops within the shape, it might be visible or it might not. Any ideas appreciated!</p></p>\n\n<p>sample hover setup (I\u2019ll ultimately use arrays for real rollovers, associated links and text):</p>\n\n<pre><code>$('#triangle').hover(\n    function() {\n    \t$('#ID_triangle').css({'visibility' : 'visible'});\n    },\n    function() {\n    \t$('#ID_triangle').css({'visibility' : 'hidden'});\n    }\n)\n</code></pre>\n\n<p>image map:</p>\n\n<pre><code>&lt;div id=\"container\"&gt;\n    &lt;img src=\"images/testMap_w.png\" width=\"800\" height=\"220\" alt=\"TestMap W\" usemap=\"#testMap\"&gt;\n    &lt;map name=\"testMap\"&gt;\n    \t&lt;area shape=\"polygon\" coords=\"20,20,106,20,106,106,20,106\" href=\"http://www.stackoverflow.com\" id=\"box\" /&gt;\n    \t&lt;area shape=\"polygon\" coords=\"216,50,339,50,277,156\" href=\"http://www.google.com\" id=\"triangle\" /&gt;\n    \t&lt;area shape=\"polygon\" coords=\"460,0,574,0,460,220\" href=\"http://www.cnn.com\" id=\"bordertriangle\" /&gt;\n    \t&lt;area shape=\"polygon\" coords=\"704,65,769,115,744,196,665,196,640,115\" href=\"http://slashdot.org\" id=\"pentagon\" /&gt;\n    &lt;/map&gt;\n    &lt;img src=\"images/testMap_box.png\" width=\"800\" height=\"220\" alt=\"TestMap Box\" id=\"ID_box\"&gt;\n    &lt;img src=\"images/testMap_triangle.png\" width=\"800\" height=\"220\" alt=\"TestMap Triangle\" id=\"ID_triangle\"&gt;\n    &lt;img src=\"images/testMap_border_triangle.png\" width=\"800\" height=\"220\" alt=\"TestMap Border Triangle\" id=\"ID_bordertriangle\"&gt;\n    &lt;img src=\"images/testMap_pentagon.png\" width=\"800\" height=\"220\" alt=\"TestMap Pentagon\" id=\"ID_pentagon\"&gt;\n&lt;/div&gt;\n</code></pre>\n",
            "last_activity_date": 1381269054,
            "question_id": 745110,
            "score": 60,
            "tags": [
                "javascript",
                "jquery",
                "hover",
                "imagemap"
            ],
            "title": "Using JQuery hover with HTML image map"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>You can try a 3rd party library like <a href=\"http://www.codeplex.com/Json\" rel=\"nofollow\">json.net</a>  There's documention on the project site.  It does say it requires .net 3.5.</p>\n\n<p>Otherwise there's another one called Nii.json which i believe is a port from java.  I found a link to it on <a href=\"http://www.amundsen.com/blog/archives/607\" rel=\"nofollow\">this blog</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I have been using this method for a while:</p>\n\n<pre><code>using System;\n\npublic static class ExtensionMethods {\n  // returns the number of milliseconds since Jan 1, 1970 (useful for converting C# dates to JS dates)\n  public static double UnixTicks(this DateTime dt)\n  {\n    DateTime d1 = new DateTime(1970, 1, 1);\n    DateTime d2 = dt.ToUniversalTime();\n    TimeSpan ts = new TimeSpan(d2.Ticks - d1.Ticks);\n    return ts.TotalMilliseconds;\n  }\n}\n</code></pre>\n\n<p>Assuming you are developing against .NET 3.5, it's a straight copy/paste.  You can otherwise port it.</p>\n\n<p>You can encapsulate this in a JSON object, or simply write it to the response stream.</p>\n\n<p>On the Javascript/JSON side, you convert this to a date by simply passing the ticks into a new Date object:</p>\n\n<pre><code>jQuery.ajax({\n  ...\n  success: function(msg) {\n    var d = new Date(msg);\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 57
                },
                {
                    "body": "<p>What is returned is milliseconds since epoch. You could do:</p>\n\n<pre><code>var d = new Date();\nd.setTime(1245398693390);\ndocument.write(d);\n</code></pre>\n\n<p>On how to format the date exactly as you want, see full <code>Date</code> reference at <a href=\"http://www.w3schools.com/jsref/jsref_obj_date.asp\">http://www.w3schools.com/jsref/jsref_obj_date.asp</a></p>\n\n<p>You could strip the non-digits by either parsing the integer (<a href=\"http://stackoverflow.com/a/2316066/88001\">as suggested here</a>):</p>\n\n<pre><code>var date = new Date(parseInt(jsonDate.substr(6)));\n</code></pre>\n\n<p>Or applying the following regular expression (from Tominator in the comments):</p>\n\n<pre><code>var jsonDate = jqueryCall();  // returns \"/Date(1245398693390)/\"; \nvar re = /-?\\d+/; \nvar m = re.exec(jsonDate); \nvar d = new Date(parseInt(m[0]));\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 159
                },
                {
                    "body": "<p>If you're having trouble getting to the time information, you can try something like this:</p>\n\n<pre><code>    d.date = d.date.replace('/Date(', '');\n    d.date = d.date.replace(')/', '');  \n    var expDate = new Date(parseInt(d.date));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>If you pass a <code>DateTime</code> from a .Net code to a javascript code, \nC#:</p>\n\n<pre><code>DateTime net_datetime = DateTime.Now;\n</code></pre>\n\n<p>javascript treats it as a string, like <code>\"/Date(1245398693390)/\"</code>:</p>\n\n<p>You can convert it as fllowing:</p>\n\n<pre><code>// convert the string to date correctly\nvar d = eval(net_datetime.slice(1, -1))\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>// convert the string to date correctly\nvar d = eval(\"/Date(1245398693390)/\".slice(1, -1))\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>To parse the date string using String.replace with backreference:</p>\n\n<pre><code>var milli = \"/Date(1245398693390)/\".replace(/\\/Date\\((-?\\d+)\\)\\//, '$1');\nvar d = new Date(parseInt(milli));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<p>Thought i'd add my solution that i've been using.</p>\n\n<p>If you're using the <code>System.Web.Script.Serialization.JavaScriptSerializer()</code> then the time returned isn't going to be specific to your timezone. To fix this you'll also want to use <code>dte.getTimezoneOffset()</code> to get it back to your correct time.</p>\n\n<pre><code>String.prototype.toDateFromAspNet = function() {\n    var dte = eval(\"new \" + this.replace(/\\//g, '') + \";\");\n    dte.setMinutes(dte.getMinutes() - dte.getTimezoneOffset());\n    return dte;\n}\n</code></pre>\n\n<p>now you'll just call</p>\n\n<pre><code>\"/Date(1245398693390)/\".toDateFromAspNet();\n</code></pre>\n\n<blockquote>\n  <p>Fri Jun 19 2009 00:04:53 GMT-0400 (Eastern Daylight Time) {}</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The previous answers all state that you can do the following: </p>\n\n<pre><code>var d = eval(net_datetime.slice(1, -1));\n</code></pre>\n\n<p>However, this doesn't work in either Chrome or FF because what's getting evaluated literally is: </p>\n\n<pre><code>// returns the current timestamp instead of the specified epoch timestamp\nvar d = Date([epoch timestamp]);\n</code></pre>\n\n<p>The correct way to do this is: </p>\n\n<pre><code>var d = eval(\"new \" + net_datetime.slice(1, -1)); // which parses to\n\nvar d = new Date([epoch timestamp]); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"http://stevenlevithan.com/assets/misc/date.format.js\" rel=\"nofollow\">http://stevenlevithan.com/assets/misc/date.format.js</a></p>\n\n<pre><code>var date = eval(data.Data.Entity.Slrq.replace(/\\/Date\\((\\d )\\)\\//gi, \"new Date($1)\"));  \nalert(date.format(\"yyyy-MM-dd HH:mm:ss\"));  \nalert(dateFormat(date, \"yyyy-MM-dd HH:mm:ss\"));  \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>the conversion from 1970,1,1 needs the double rounded to zero decimal places i thinks</p>\n\n<pre><code>DateTime d1 = new DateTime(1970, 1, 1);\nDateTime d2 = dt.ToUniversalTime();\nTimeSpan ts = new TimeSpan(d2.Ticks - d1.Ticks);\nreturn Math.Round( ts.TotalMilliseconds,0);\n</code></pre>\n\n<p>on the client side i use</p>\n\n<pre><code>new Date(+data.replace(/\\D/g, ''));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/206384/how-to-format-a-json-date\">How to format a JSON date?</a>  </p>\n</blockquote>\n\n\n\n<p>My webs service is returning a DateTime to a jQuery call. The service returns the data in this format:</p>\n\n<pre><code>/Date(1245398693390)/\n</code></pre>\n\n<p>How can I convert this into a JavaScript-friendly date?</p>\n",
            "last_activity_date": 1336987576,
            "question_id": 1016847,
            "score": 154,
            "tags": [
                "javascript",
                "json",
                "datetime"
            ],
            "title": "Converting .NET DateTime to JSON"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><a href=\"http://groups.google.com/group/DotNetDevelopment/browse_thread/thread/402d2c0be6c904c5/\">Here's an old discussion thread</a> where I listed the main differences and the conditions in which you should use each of these methods. I think you may find it useful to go through the discussion.</p>\n\n<p>To explain the differences as relevant to your posted example:</p>\n\n<p>a. When you use <code>RegisterStartupScript</code>, it will render your script <em>after</em> all the elements in the page (right before the form's end tag). This enables the script to call or reference page elements without the possibility of it not finding them in the Page's DOM.</p>\n\n<p>Here is the rendered source of the page when you invoke the <code>RegisterStartupScript</code> method:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head id=\"Head1\"&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n    &lt;form name=\"form1\" method=\"post\" action=\"StartupScript.aspx\" id=\"form1\"&gt;\n        &lt;div&gt;\n            &lt;input type=\"hidden\" name=\"__VIEWSTATE\" id=\"__VIEWSTATE\" value=\"someViewstategibberish\" /&gt;\n        &lt;/div&gt;\n        &lt;div&gt; &lt;span id=\"lblDisplayDate\"&gt;Label&lt;/span&gt;\n            &lt;br /&gt;\n            &lt;input type=\"submit\" name=\"btnPostback\" value=\"Register Startup Script\" id=\"btnPostback\" /&gt;\n            &lt;br /&gt;\n            &lt;input type=\"submit\" name=\"btnPostBack2\" value=\"Register\" id=\"btnPostBack2\" /&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;input type=\"hidden\" name=\"__EVENTVALIDATION\" id=\"__EVENTVALIDATION\" value=\"someViewstategibberish\" /&gt;\n        &lt;/div&gt;\n        &lt;!-- Note this part --&gt;\n        &lt;script language='javascript'&gt;\n            var lbl = document.getElementById('lblDisplayDate');\n            lbl.style.color = 'red';\n        &lt;/script&gt;\n    &lt;/form&gt;\n    &lt;!-- Note this part --&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>b. When you use <code>RegisterClientScriptBlock</code>, the script is rendered right after the Viewstate tag, but before any of the page elements. Since this is a direct script (not a function that can be <em>called</em>, it will immediately be executed by the browser. But the browser does not find the label in the Page's DOM at this stage and hence you should receive an \"Object not found\" error.</p>\n\n<p>Here is the rendered source of the page when you invoke the <code>RegisterClientScriptBlock</code> method:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head id=\"Head1\"&gt;&lt;title&gt;&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n    &lt;form name=\"form1\" method=\"post\" action=\"StartupScript.aspx\" id=\"form1\"&gt;\n        &lt;div&gt;\n            &lt;input type=\"hidden\" name=\"__VIEWSTATE\" id=\"__VIEWSTATE\" value=\"someViewstategibberish\" /&gt;\n        &lt;/div&gt;\n        &lt;script language='javascript'&gt;\n            var lbl = document.getElementById('lblDisplayDate');\n            // Error is thrown in the next line because lbl is null.\n            lbl.style.color = 'green';\n</code></pre>\n\n<p>Therefore, to summarize, you should call the latter method if you intend to render a function definition. You can then render the <em>call to that function</em> using the former method (or add a client side attribute). </p>\n\n<p>Edit after comments:</p>\n\n<hr>\n\n<p>For instance, the following function would work:</p>\n\n<pre><code>protected void btnPostBack2_Click(object sender, EventArgs e) \n{ \n  System.Text.StringBuilder sb = new System.Text.StringBuilder(); \n  sb.Append(\"&lt;script language='javascript'&gt;function ChangeColor() {\"); \n  sb.Append(\"var lbl = document.getElementById('lblDisplayDate');\"); \n  sb.Append(\"lbl.style.color='green';\"); \n  sb.Append(\"}&lt;/script&gt;\"); \n\n  //Render the function definition. \n  if (!ClientScript.IsClientScriptBlockRegistered(\"JSScriptBlock\")) \n  {\n    ClientScript.RegisterClientScriptBlock(this.GetType(), \"JSScriptBlock\", sb.ToString()); \n  }\n\n  //Render the function invocation. \n  string funcCall = \"&lt;script language='javascript'&gt;ChangeColor();&lt;/script&gt;\"; \n\n  if (!ClientScript.IsStartupScriptRegistered(\"JSScript\"))\n  { \n    ClientScript.RegisterStartupScript(this.GetType(), \"JSScript\", funcCall); \n  } \n} \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 93
                },
                {
                    "body": "<p>When we use a MasterPage we have to use a script manager proxy on our page , that is because there can be only one script manager . So the practice is to keep the scriptmanager in master and use the proxy in individual pages . hope this answers your question </p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Here's a <a href=\"http://www.codeproject.com/Articles/667538/The-Difference-Between-Page-ClientScript-RegisterS\" rel=\"nofollow\">simplest</a> example from ASP.NET Community, this gave me a clear understanding on the concept....</p>\n\n<p>what difference does this make? </p>\n\n<p>For an example of this, here is a way to put focus on a text box on a page when the page is loaded into the browser\u2014with Visual Basic using the <code>RegisterStartupScript</code> method:</p>\n\n<pre><code>Page.ClientScript.RegisterStartupScript(Me.GetType(), \"Testing\", _ \n\"document.forms[0]['TextBox1'].focus();\", True)\n</code></pre>\n\n<p>This works well because the textbox on the page is generated and placed on the page by the time the browser gets down to the bottom of the page and gets to this little bit of JavaScript. </p>\n\n<p>But, if instead it was written like this (using the <code>RegisterClientScriptBlock</code> method):</p>\n\n<pre><code>Page.ClientScript.RegisterClientScriptBlock(Me.GetType(), \"Testing\", _\n\"document.forms[0]['TextBox1'].focus();\", True)\n</code></pre>\n\n<p>Focus will not get to the textbox control and a JavaScript error will be generated on the page</p>\n\n<p>The reason for this is that the browser will encounter the JavaScript before the text box is on the page. Therefore, the JavaScript will not be able to find a TextBox1.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is the only difference between the <code>RegisterStartupScript</code> and the <code>RegisterClientScriptBlock</code> is that RegisterStartupScript puts the javascript before the closing <code>&lt;/form&gt;</code> tag of the page and RegisterClientScriptBlock puts it right after the starting <code>&lt;form&gt;</code> tag of the page?  </p>\n\n<p>Also, when would you choose one over the other?  I wrote up a quick sample page where I had an issue and I am not sure the exact reason of why it is happening.  </p>\n\n<h3>Here is the aspx markup:</h3>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n    &lt;head runat=\"server\"&gt;\n        &lt;title&gt;&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;form id=\"form1\" runat=\"server\"&gt;\n            &lt;div&gt;\n                &lt;asp:Label ID=\"lblDisplayDate\" runat=\"server\"\n                           Text=\"Label\" /&gt;&lt;br /&gt;\n                &lt;asp:Button ID=\"btnPostback\" runat=\"server\" \n                            Text=\"Register Startup Script\"\n                            onclick=\"btnPostback_Click\" /&gt;&lt;br /&gt;\n                &lt;asp:Button ID=\"btnPostBack2\" runat=\"server\" \n                            Text=\"Register\"\n                            onclick=\"btnPostBack2_Click\" /&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h3>Here is the Code Behind:</h3>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n    lblDisplayDate.Text = DateTime.Now.ToString(\"T\");\n}\n\nprotected void btnPostback_Click(object sender, EventArgs e)\n{\n    System.Text.StringBuilder sb = new System.Text.StringBuilder();\n    sb.Append(@\"&lt;script language='javascript'&gt;\");\n    sb.Append(@\"var lbl = document.getElementById('lblDisplayDate');\");\n    sb.Append(@\"lbl.style.color='red';\");\n    sb.Append(@\"&lt;/script&gt;\");\n\n    if(!ClientScript.IsStartupScriptRegistered(\"JSScript\"))\n    {\n        ClientScript.RegisterStartupScript(this.GetType(),\"JSScript\",\n        sb.ToString());\n    }\n}\n\nprotected void btnPostBack2_Click(object sender, EventArgs e)\n{\n    System.Text.StringBuilder sb = new System.Text.StringBuilder();\n    sb.Append(@\"&lt;script language='javascript'&gt;\");\n    sb.Append(@\"var lbl = document.getElementById('lblDisplayDate');\");\n    sb.Append(@\"lbl.style.color='red';\");\n    sb.Append(@\"&lt;/script&gt;\");\n\n    if (!ClientScript.IsClientScriptBlockRegistered(\"JSScriptBlock\"))\n    {\n        ClientScript.RegisterClientScriptBlock(this.GetType(), \"JSScriptBlock\",  \n        sb.ToString());\n    } \n }\n</code></pre>\n\n<p>The problem is when I click the <code>btnPostBack</code> button, it does a postback and changes the label to red, but when I click the <code>btnPostBack2</code>, it does a postback, but the label color does not change to red.  Why is this?  Is it because the label is not initialized?</p>\n\n<p>I also read that if you are using an <code>UpdatePanel</code>, you need to use <code>ScriptManager.RegisterStartupScript</code>, but if I have a <code>MasterPage</code>, would I use <code>ScriptManagerProxy</code>?</p>\n",
            "last_activity_date": 1401218454,
            "question_id": 666519,
            "score": 80,
            "tags": [
                "c#",
                "javascript",
                "asp.net",
                ".net"
            ],
            "title": "Difference between RegisterStartupScript and RegisterClientScriptBlock?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<ol>\n<li><blockquote>\n  <p>Is the key/property name valid both with/without quotes ?</p>\n</blockquote>\n\n<p>The only time you need to enclose a key in quotes when using Object Literal notation is where the key contains a special character (<code>if</code>, <code>:</code>, <code>-</code> etc). It is worth noting that a key in JSON <strong>must</strong> be enclosed in <strong>double</strong> quotes.</p></li>\n<li><blockquote>\n  <p>If I convert the above object to JSON using <code>var jSonString = JSON.stringify(testObject);</code>, what is the difference between the 2 (JS obj and JSON)?</p>\n</blockquote>\n\n<p><a href=\"http://json.org/\">JSON</a> is a data interchange format. It's a standard which describes how ordered lists and unordered maps, strings booleans and numbers can be represented in a string. Just like XML and YAML is a way to pass structured information between languages, JSON is the same. A JavaScript object on the other hand is a physical type. Just  like a PHP array, a C++ class/ struct, a JavaScript object is an type internal to JavaScript.</p>\n\n<p>Here's a story. Let's imagine you've purchased some furniture from a store, and you want it delivered. However the only one left in stock is the display model, but you agree to buy it.</p>\n\n<p>In the shop, the chest-of-drawers you've purchased is a living object:</p>\n\n<pre><code>var chestOfDrawers = {\n    color: \"red\",\n    numberOfDrawers: 4\n}\n</code></pre>\n\n<p>However, you can't send a chest-of-drawers in the post, so you dismantle it (read, stringify it). It's now useless in terms of furniture. It is now JSON. Its in flat pack form.</p>\n\n<pre><code>{\"color\":\"red\",\"numberOfDrawers\":4}\n</code></pre>\n\n<p>When you receive it, you then rebuild the chest-of-drawers (read, parse it). Its now back in an object form.</p>\n\n<p>The reason behind JSON/ XML and YAML is to enable data to be transferred between programming languages in a format both participating languages can understand; you can't give PHP or C++ your JavaScript object directly; because each language represents an object differently under-the-hood. However, because we've stringified the object into JSON notation; i.e. a standardised way to represent data, we can transmit the JSON <em>representation</em> of the object to another langauge (C++, PHP), they can <em>recreate</em> the JavaScript object we had into their own object <em>based</em> on the JSON representation of the object.</p>\n\n<p>It is important to note that JSON cannot represent functions or dates. If you attempt to stringify an object with a function member, the function will be omitted from the JSON representation. A date will be converted to a string;</p>\n\n<pre><code>JSON.stringify({\n    foo: new Date(),\n    blah: function () { \n        alert('hello');\n    }\n}); // returns the string \"{\"foo\":\"2011-11-28T10:21:33.939Z\"}\"\n</code></pre></li>\n<li><blockquote>\n  <p>For parsing a JSON string, is the method below recommended? <code>var javascriptObj = JSON.parse(jSonString);</code></p>\n</blockquote>\n\n<p>Yes, but <a href=\"http://caniuse.com/#search=json\">older browsers don't support JSON natively (IE &lt;8)</a>. To support these, you should include <a href=\"https://github.com/douglascrockford/JSON-js\"><code>json2.js</code></a>. </p>\n\n<p>If you're using jQuery, you can call <a href=\"http://api.jquery.com/jQuery.parseJSON\"><code>jQuery.parseJSON()</code></a>, which will use <code>JSON.parse()</code> under the hood if it's supported and will otherwise fallback to a custom implementation to parse the input. </p></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 93
                },
                {
                    "body": "<p>Q1 - in JS you only need to use quotes if the key is a reserved word or if it would otherwise be an illegal token.  In JSON you MUST always use double quotes on key names.</p>\n\n<p>Q2 - the <code>jsonString</code> is a <em>serialised</em> version of the input object ...</p>\n\n<p>Q3 - which may be <em>deserialised</em> to an identical looking object using <code>JSON.parse()</code></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Q1: When defining object literals in javascript, the keys may include quotes or not. There is no difference except that quotes allow you to specify certain keys that would cause the interpreter to fail to parse if you tried them bare. For example, if you wanted a key that was just an exclamation point, you would need quotes:</p>\n\n<pre><code>a = { \"!\": 1234 } // Valid\na = { !: 1234 } //  Syntax error\n</code></pre>\n\n<p>In most cases though, you can omit the quotes around keys on object literals.</p>\n\n<p>Q2: JSON is literally a string representation. It is just a string. So, consider this:</p>\n\n<pre><code>var testObject = { hello: \"world\" }\nvar jSonString = JSON.stringify(testObject);\n</code></pre>\n\n<p>Since <code>testObject</code> is a real object, you can call properties on it and do anything else you can do with objects:</p>\n\n<pre><code>testObject.hello =&gt; \"world\"\n</code></pre>\n\n<p>On the other hand, <code>jsonString</code> is just a string:</p>\n\n<pre><code>jsonString.hello =&gt; undefined\n</code></pre>\n\n<p>Note one other difference: In JSON, all keys must be quoted. That contrasts with object literals, where the quotes can usually be omitted as per my explanation in Q1.</p>\n\n<p>Q3. You can parse a JSON string by using <code>JSON.parse</code>, and this is generally the best way to do it (if the browser or a framework provides it). You can also just use <code>eval</code> since JSON is valid javascript code, but the former method is recommended for a number of reasons (eval has a lot of nasty problems associated with it).</p>\n",
                    "is_accepted": false,
                    "score": 12
                }
            ],
            "body": "<p>I want to understand the basic differences clearly between Javascript object and JSON string.</p>\n\n<p>Let's say I create the following JS variable:</p>\n\n<pre><code>var testObject = {one: 1,\"two\":2,\"three\":3};\n</code></pre>\n\n<p><strong>Q1. Is the key/property name valid both with/without quotes?</strong> (e.g. <code>\"one\" : 1</code>) </p>\n\n<p>If yes, what is the difference?</p>\n\n<p><strong>Q2: If I convert the above object using <code>JSON.stringify(testObject)</code>, what\u2019s the difference between the original JS object and the JSON?</strong> </p>\n\n<p>I feel they are almost the same. Please elaborate on this.</p>\n\n<p><strong>Q3: For parsing a JSON string, is the method below recommended?</strong></p>\n\n<pre><code>var javascriptObj = JSON.parse(jSonString);\n</code></pre>\n",
            "last_activity_date": 1391188389,
            "question_id": 8294088,
            "score": 68,
            "tags": [
                "javascript",
                "json"
            ],
            "title": "Javascript object Vs JSON"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p>I don't think you'll find anything better than <a href=\"https://developer.mozilla.org/en/DOM/window.clearTimeout\" rel=\"nofollow\">clearTimeout</a>. Anyway, you can always schedule another timeout later, instead 'resuming' it.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>No. You'll need cancel it (<code>clearTimeout</code>), measure the time since you started it and restart it with the new time.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>You could look into <a href=\"http://www.w3schools.com/js/js_timing.asp\" rel=\"nofollow\">clearTimeout()</a></p>\n\n<p>or pause depending on a global variable that is set when a certain condition is hit. Like a button is pressed.</p>\n\n<pre><code>  &lt;button onclick=\"myBool = true\" &gt; pauseTimeout &lt;/button&gt;\n\n  &lt;script&gt;\n  var myBool = false;\n\n  var t = setTimeout(function() {if (!mybool) {dosomething()}}, 5000);\n  &lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>\"Pause\" and \"resume\" don't really make much sense in the context of <code>setTimeout</code>, which is a <em>one-off</em> thing. Do you mean <code>setInterval</code>? If so, no, you can't pause it, you can only cancel it (<code>clearInterval</code>) and then re-schedule it again. Details of all of these in the <a href=\"http://www.w3.org/TR/html5/timers.html\" rel=\"nofollow\">Timers section</a> of the spec.</p>\n\n<pre><code>// Setting\nvar t = setInterval(doSomething, 1000);\n\n// Pausing (which is really stopping)\nclearInterval(t);\nt = 0;\n\n// Resuming (which is really just setting again)\nt = setInterval(doSomething, 1000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You could wrap <code>window.setTimeout</code> like this, which I think is similar to what you were suggesting in the question:</p>\n\n<pre><code>function Timer(callback, delay) {\n    var timerId, start, remaining = delay;\n\n    this.pause = function() {\n        window.clearTimeout(timerId);\n        remaining -= new Date() - start;\n    };\n\n    this.resume = function() {\n        start = new Date();\n        window.clearTimeout(timerId);\n        timerId = window.setTimeout(callback, remaining);\n    };\n\n    this.resume();\n}\n\nvar timer = new Timer(function() {\n    alert(\"Done!\");\n}, 1000);\n\ntimer.pause();\n// Do some stuff...\ntimer.resume();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 137
                },
                {
                    "body": "<p>Something like this should do the trick.</p>\n\n<pre><code>function Timer(fn, countdown) {\n    var ident, complete = false;\n\n    function _time_diff(date1, date2) {\n        return date2 ? date2 - date1 : new Date().getTime() - date1;\n    }\n\n    function cancel() {\n        clearTimeout(ident);\n    }\n\n    function pause() {\n        clearTimeout(ident);\n        total_time_run = _time_diff(start_time);\n        complete = total_time_run &gt;= countdown;\n    }\n\n    function resume() {\n        ident = complete ? -1 : setTimeout(fn, countdown - total_time_run);\n    }\n\n    var start_time = new Date().getTime();\n    ident = setTimeout(fn, countdown);\n\n    return { cancel: cancel, pause: pause, resume: resume };\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>If you have several divs to hide, you could use an <code>setInterval</code> and a number of cycles to do like in:</p>\n\n<pre><code>&lt;div id=\"div1\"&gt;1&lt;/div&gt;&lt;div id=\"div2\"&gt;2&lt;/div&gt;\n&lt;div id=\"div3\"&gt;3&lt;/div&gt;&lt;div id=\"div4\"&gt;4&lt;/div&gt;\n&lt;script&gt;\n    function hideDiv(elm){\n        var interval,\n            unit = 1000,\n            cycle = 5,\n            hide = function(){\n                interval = setInterval(function(){\n                    if(--cycle === 0){\n                        elm.style.display = 'none';\n                        clearInterval(interval);\n                    }\n                    elm.setAttribute('data-cycle', cycle);\n                    elm.innerHTML += '*';\n                }, unit);\n            };\n        elm.onmouseover = function(){\n            clearInterval(interval);\n        };\n        elm.onmouseout = function(){\n            hide();\n        };\n        hide();\n    }\n    function hideDivs(ids){\n        var id;\n        while(id = ids.pop()){\n            hideDiv(document.getElementById(id));\n        }\n    }\n    hideDivs(['div1','div2','div3','div4']);\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>You could also implement it with events.</p>\n\n<p>Instead of calculating the time difference, you start and stop listening to a 'tick' event which keeps running in the background:</p>\n\n<pre><code>var Slideshow = {\n\n  _create: function(){                  \n    this.timer = window.setInterval(function(){\n      $(window).trigger('timer:tick'); }, 8000);\n  },\n\n  play: function(){            \n    $(window).bind('timer:tick', function(){\n      // stuff\n    });       \n  },\n\n  pause: function(){        \n    $(window).unbind('timer:tick');\n  }\n\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you're using jquery anyhow, check out the <a href=\"http://benalman.com/projects/jquery-dotimeout-plugin/\" rel=\"nofollow\">$.doTimeout</a> plugin.  This thing is a huge improvement over setTimeout, including letting you keep track of your time-outs with a single string id that you specify and that doesn't change every time you set it, and implement easy  canceling, polling loops &amp; debouncing, and more. One of my most-used jquery plugins.  </p>\n\n<p>Unfortunately, it doesn't support pause/resume out of the box. For this, you would need to wrap or extend $.doTimeout, presumably similarly to the accepted answer.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The Timeout was easy enough to find a solution for, but the Interval was a little bit trickier.</p>\n\n<p>I came up with the following two classes to solve this issues:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function PauseableTimeout(func, delay){\n    this.func = func;\n\n    var _now = new Date().getTime();\n    this.triggerTime = _now + delay;\n\n    this.t = window.setTimeout(this.func,delay);\n\n    this.paused_timeLeft = 0;\n\n    this.getTimeLeft = function(){\n        var now = new Date();\n\n        return this.triggerTime - now;\n    }\n\n    this.pause = function(){\n        this.paused_timeLeft = this.getTimeLeft();\n\n        window.clearTimeout(this.t);\n        this.t = null;\n    }\n\n    this.resume = function(){\n        if (this.t == null){\n            this.t = window.setTimeout(this.func, this.paused_timeLeft);\n        }\n    }\n\n    this.clearTimeout = function(){ window.clearTimeout(this.t);}\n}\n\nfunction PauseableInterval(func, delay){\n    this.func = func;\n    this.delay = delay;\n\n    this.triggerSetAt = new Date().getTime();\n    this.triggerTime = this.triggerSetAt + this.delay;\n\n    this.i = window.setInterval(this.func, this.delay);\n\n    this.t_restart = null;\n\n    this.paused_timeLeft = 0;\n\n    this.getTimeLeft = function(){\n        var now = new Date();\n        return this.delay - ((now - this.triggerSetAt) % this.delay);\n    }\n\n    this.pause = function(){\n        this.paused_timeLeft = this.getTimeLeft();\n        window.clearInterval(this.i);\n        this.i = null;\n    }\n\n    this.restart = function(sender){\n        sender.i = window.setInterval(sender.func, sender.delay);\n    }\n\n    this.resume = function(){\n        if (this.i == null){\n            this.i = window.setTimeout(this.restart, this.paused_timeLeft, this);\n        }\n    }\n\n    this.clearInterval = function(){ window.clearInterval(this.i);}\n}\n</code></pre>\n\n<p>These can be implemented as such:</p>\n\n<pre><code>var pt_hey = new PauseableTimeout(function(){\n    alert(\"hello\");\n}, 2000);\n\nwindow.setTimeout(function(){\n    pt_hey.pause();\n}, 1000);\n\nwindow.setTimeout(\"pt_hey.start()\", 2000);\n</code></pre>\n\n<p>This example will set a pauseable Timeout (pt_hey) which is scheduled to alert, \"hey\" after two seconds. Another Timeout pauses pt_hey after one second. A third Timeout resumes pt_hey after two seconds. pt_hey runs for one second, pauses for one second, then resumes running. pt_hey triggers after three seconds.</p>\n\n<p>Now for the trickier intervals</p>\n\n<pre><code>var pi_hey = new PauseableInterval(function(){\n    console.log(\"hello world\");\n}, 2000);\n\nwindow.setTimeout(\"pi_hey.pause()\", 5000);\n\nwindow.setTimeout(\"pi_hey.resume()\", 6000);\n</code></pre>\n\n<p>This example sets a pauseable Interval (pi_hey) to write \"hello world\" in the console every two seconds. A timeout pauses pi_hey after five seconds. Another timeout resumes pi_hey after six seconds. So pi_hey will trigger twice, run for one second, pause for one second, run for one second, and then continue triggering every 2 seconds.</p>\n\n<h2><em> OTHER FUNCTIONS </em></h2>\n\n<ul>\n<li><p><em>clearTimeout()</em> and <em>clearInterval()</em></p>\n\n<p><code>pt_hey.clearTimeout();</code> and <code>pi_hey.clearInterval();</code> serve as an easy way to clear the timeouts and intervals.</p></li>\n<li><p><em>getTimeLeft()</em></p>\n\n<p><code>pt_hey.getTimeLeft();</code> and <code>pi_hey.getTimeLeft();</code> will return how many milliseconds till the next trigger is scheduled to occur.</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>A slightly modified version of Tim Downs <a href=\"http://stackoverflow.com/a/3969760/1250044\">answer</a>. However, since Tim <a href=\"http://stackoverflow.com/questions/3969475/javascript-pause-settimeout/3969760?noredirect=1#comment22346598_3969760\">rolled back</a> my edit, I've to answer this myself. My solution makes it possible to use extra <code>arguments</code> as third (3, 4, 5...) parameter and to clear the timer:</p>\n\n<pre><code>function Timer(callback, delay) {\n    var args = arguments,\n        self = this,\n        timer, start;\n\n    this.clear = function () {\n        clearTimeout(timer);\n    };\n\n    this.pause = function () {\n        this.clear();\n        delay -= new Date() - start;\n    };\n\n    this.resume = function () {\n        start = new Date();\n        timer = setTimeout(function () {\n            callback.apply(self, Array.prototype.slice.call(args, 2, args.length));\n        }, delay);\n    };\n\n    this.resume();\n}\n</code></pre>\n\n<p>As Tim mentioned, extra parameters are not available in <code>IE lt 9</code>, however I worked a bit around so that it will work in <code>oldIE</code>'s too.</p>\n\n<p>Usage: <code>new Timer(Function, Number, arg1, arg2, arg3...)</code></p>\n\n<pre><code>function callback(foo, bar) {\n    console.log(foo); // \"foo\"\n    console.log(bar); // \"bar\"\n}\n\nvar timer = new Timer(callback, 1000, \"foo\", \"bar\");\n\ntimer.pause();\ndocument.onclick = timer.resume;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I needed to be able to pause setTimeout() for slideshow-like feature.</p>\n\n<p>Here is my own implementation of a pausable timer. It integrates comments seen on Tim Down's answer, such as better pause (kernel's comment) and a form of prototyping (Umur Gedik's comment.) </p>\n\n<pre><code>function Timer( callback, delay ) {\n\n    /** Get access to this object by value **/\n    var self = this;\n\n\n\n    /********************* PROPERTIES *********************/\n    this.delay = delay;\n    this.callback = callback;\n    this.starttime;// = ;\n    this.timerID = null;\n\n\n    /********************* METHODS *********************/\n\n    /**\n     * Pause\n     */\n    this.pause = function() {\n        /** If the timer has already been paused, return **/\n        if ( self.timerID == null ) {\n            console.log( 'Timer has been paused already.' );\n            return;\n        }\n\n        /** Pause the timer **/\n        window.clearTimeout( self.timerID );\n        self.timerID = null;    // this is how we keep track of the timer having beem cleared\n\n        /** Calculate the new delay for when we'll resume **/\n        self.delay = self.starttime + self.delay - new Date().getTime();\n        console.log( 'Paused the timer. Time left:', self.delay );\n    }\n\n\n    /**\n     * Resume\n     */\n    this.resume = function() {\n        self.starttime = new Date().getTime();\n        self.timerID = window.setTimeout( self.callback, self.delay );\n        console.log( 'Resuming the timer. Time left:', self.delay );\n    }\n\n\n    /********************* CONSTRUCTOR METHOD *********************/\n\n    /**\n     * Private constructor\n     * Not a language construct.\n     * Mind var to keep the function private and () to execute it right away.\n     */\n    var __construct = function() {\n        self.starttime = new Date().getTime();\n        self.timerID = window.setTimeout( self.callback, self.delay )\n    }();    /* END __construct */\n\n}   /* END Timer */\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>var timer = new Timer( function(){ console.log( 'hey! this is a timer!' ); }, 10000 );\ntimer.pause();\n</code></pre>\n\n<p>To test the code out, use <code>timer.resume()</code> and <code>timer.pause()</code> a few times and check how much time is left. (Make sure your console is open.)</p>\n\n<p>Using this object in place of setTimeout() is as easy as replacing <code>timerID = setTimeout( mycallback, 1000)</code> with <code>timer = new Timer( mycallback, 1000 )</code>. Then <code>timer.pause()</code> and <code>timer.resume()</code> are available to you.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>If I have an active timeout running that was set through <code>var t = setTimeout(\"dosomething()\", 5000)</code>,</p>\n\n<p>Is there anyway to pause and resume it?\n<hr />\nIs there any way to get the time remaining on the current timeout?<br>\nor do I have to in a variable, when the timeout is set, store the current time, then we we pause, get the difference between now and then?</p>\n",
            "last_activity_date": 1421672494,
            "question_id": 3969475,
            "score": 60,
            "tags": [
                "javascript",
                "timeout"
            ],
            "title": "javascript: pause setTimeout();"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>No, not from a webpage.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Not seamlessly.\nBut there is a way similar to checking if a pop-up was blocked or not.</p>\n\n<p>When you try a URL scheme which is not supported, Safari will warn the user that it doesn't know what to do with it and stay on the same page.</p>\n\n<p>So if you gave your app-call some time to activate, say 300 ms, and then do something else to respond to the non-existence of the scheme.</p>\n\n<p>It's not the prettiest but it works:</p>\n\n<pre><code>function startIThrown(){\n  document.location = 'ithrown://restart';\n  setTimeout(function(){\n    if(confirm('You do not seem to have iThrown installed, do you want to go download it now?')){\n      document.location = 'http://itunes.apple.com/WebObjects/MZStore.woa/wa/viewSoftware?id=293049283&amp;mt=8&amp;uo=6';\n    }\n  }, 300);\n}\n\n&lt;a href=\"#\" onclick=\"startIThrown()\"&gt;Restart iThrown&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 46
                },
                {
                    "body": "<p>Here is a solution that does not show the popup when you come back from the app, it assumes you've been gone longer than 400 ms:</p>\n\n<pre><code>function startiThrown() {\n    document.location = appurl;\n    var time = (new Date()).getTime();\n    setTimeout(function(){\n        var now = (new Date()).getTime();\n\n        if((now - time)&lt;400) {\n            if(confirm('You do not seem to have iThrown installed, do you want to go download it now?')){\n            document.location = 'http://itunes.apple.com/WebObjects/MZStore.woa/wa/viewSoftware?id=293049283&amp;mt=8&amp;uo=6';\n            }\n         }\n    }, 300);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 31
                },
                {
                    "body": "<p>Here is a variation on the previous 2 solutions. It will create a link that can be opened in Google Chrome. If it fails it opens the link using http </p>\n\n<pre><code>&lt;script&gt;\n function checkChrome(h){\n  document.location=h;\n  var time = (new Date()).getTime();\n  setTimeout(function(){\n   var now = (new Date()).getTime();\n   if((now-time)&lt;400) {\n    if(confirm('Missing Chrome. Download it now?')){\n     document.location = 'http://itunes.apple.com/us/app/chrome/id535886823?mt=8';\n    } else {\n     document.location=h.replace('googlechrome','http');\n    }\n   }\n  }, 300);\n }\n&lt;/script&gt;\n\n&lt;a href=\"googlechrome://www.google.com\" onclick=\"checkChrome(this.href);return false;\"&gt;Open Google with Chrome&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Another great (at least working in latest browser versions) workaround is to check if the browser window has focus after a short timeout, this way you can show a dialog box to the user only if the URI scheme didn't work</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;a class=\"uri-link\" data-uri=\"qobuzapp://\" href=\"#\"&gt;URI&lt;/a&gt;\u200b\n</code></pre>\n\n<p>Javascript (using jQuery here):</p>\n\n<pre><code>var windowHasFocus;\n\n$(window).focus(function() {\n  windowHasFocus = true;\n}).blur(function() {\n  windowHasFocus = false;\n});\n\nfunction goToUri(uri) {\n  document.location = uri;\n  setTimeout(function(){\n    if(windowHasFocus) {\n      if(confirm('You do not seem to have Qobuz installed, do you want to go download it now?')){\n        document.location = 'http://www.qobuz.com';\n      }\n    }\n  }, 100);\n}\n\n$('a').on('click', function(){ \n  goToUri($(this).data('uri')); \n});\u200b\n</code></pre>\n\n<p>Here is a working jsFiddle, just update it with your own URI scheme:\n<a href=\"http://jsfiddle.net/mF6TZ/\" rel=\"nofollow\">http://jsfiddle.net/mF6TZ/</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I found <code>pagehide</code> event to be more robust than depending on system time. For those of us who prefers a non-jQuery favor, here is the snippet. </p>\n\n<pre><code>  var appurl = 'custom://url';\n  var appstore = 'https://itunes.apple.com/us/app/your-app';\n\n  var timeout;\n  function preventPopup() {\n    clearTimeout(timeout);\n    timeout = null;\n    window.removeEventListener('pagehide', preventPopup);\n  }\n  function startApp() {\n    document.location = appurl;\n    timeout = setTimeout(function(){\n      if(confirm('You do not seem to have the App installed, do you want to go download it now?')){\n        document.location = appstore;\n      }\n    }, 1000);\n    window.addEventListener('pagehide', preventPopup);\n  }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Starting from iOS 6.0 Apple presented the Smart App Banners which do what most of us are looking for:</p>\n\n<ul>\n<li>Send to App Store if the app isn't installed.</li>\n<li>Open the App with a specific deep link, using the app-argument param.</li>\n</ul>\n\n<p>Include the following meta tag:</p>\n\n<pre><code>&lt;meta name=\"apple-itunes-app\" content=\"app-id=myAppStoreID, affiliate-data=myAffiliateData, app-argument=myURL\"&gt;\n</code></pre>\n\n<p>taken from here:\n<a href=\"https://developer.apple.com/library/ios/documentation/AppleApplications/Reference/SafariWebContent/PromotingAppswithAppBanners/PromotingAppswithAppBanners.html\" rel=\"nofollow\">Safari Web Content Guide</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I have this comment <a href=\"http://stackoverflow.com/a/18715513/49114\">http://stackoverflow.com/a/18715513/49114</a> with a jQuery plugin to add alternative app link to regular links.</p>\n\n<p>Regards,\nLito.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I try to use just the 'pagehide' event, but then it not work into Firefox. I created this version here <a href=\"http://jsfiddle.net/thiagomata/6tvoc4f1/2/\" rel=\"nofollow\">http://jsfiddle.net/thiagomata/6tvoc4f1/2/</a> what works in Firefox, Google Chrome and Safari. I have not tested in Internet Explorer yet.</p>\n\n<p>One thing what was necessary to make it work into Firefox, was use Iframe to set the src. This allows me to call the app without leaving my page.</p>\n\n<pre><code>&lt;a class=\"uri-link\" href=\"#\" \n  data-uri-app=\"myapp://\" \n  data-url-app-not-found=\"http://www.google.com?q=not-found-link\"\n  &gt;\n  Example 1\n&lt;/a&gt;\u200b\n&lt;a class=\"uri-link\" href=\"#\" \n  data-uri-app=\"myapp://\" \n  data-url-app-not-found=\"http://www.google.com?q=not-found-link\"\n  data-url-app-found=\"http://www.google.com?q=found-link\"\n  &gt;\n  Example 2\n&lt;/a&gt;\u200b\n&lt;a class=\"uri-link\"  href=\"#\"\n  data-uri-app=\"notexists://\" \n  data-url-app-not-found=\"http://www.google.com?q=not-exists\"\n&gt;\n  Example 3\n&lt;/a&gt;\u200b\n&lt;iframe id=\"callapp\" style=\"display:none\"&gt;&lt;/iframe&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there any way to check if a URL scheme is currently registered on the phone... with javascript?</p>\n",
            "last_activity_date": 1423873103,
            "question_id": 627916,
            "score": 44,
            "tags": [
                "javascript",
                "iphone",
                "safari",
                "url-scheme"
            ],
            "title": "Check if URL scheme is supported in javascript"
        },
        {
            "answer_count": 12,
            "answers": [
                {
                    "body": "<p>+1 for doing <code>hover</code> and <code>click</code> both. One other way could be using CSS media queries and using some styles only for smaller screens / mobile devices, which are the ones most likely to have touch / tap functionality. So if you you have some specific styles via CSS, and from jQuery you check those elements for the mobile device style properties you could hook into them to write you mobile specific code.</p>\n\n<p>See here: <a href=\"http://www.forabeautifulweb.com/blog/about/hardboiled_css3_media_queries/\">http://www.forabeautifulweb.com/blog/about/hardboiled_css3_media_queries/</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>For iPad development I am using:</p>\n\n<pre><code>  if (window.Touch)\n  {\n    alert(\"touchy touchy\");\n  }\n  else\n  {\n    alert(\"no touchy touchy\");\n  }\n</code></pre>\n\n<p>I can then selectively bind to the touch based events (eg ontouchstart) or mouse based events (eg onmousedown).  I haven't yet tested on android.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<pre><code>var isTouchDevice = 'ontouchstart' in document.documentElement;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 191
                },
                {
                    "body": "<p>I use:</p>\n\n<pre><code>if(jQuery.support.touch){\n    alert('Touch enabled');\n}\n</code></pre>\n\n<p>in jQuery mobile 1.0.1</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Found testing for window.Touch didn't work on android but this does: </p>\n\n<pre><code>function is_touch_device() {\n  return !!('ontouchstart' in window);\n}\n</code></pre>\n\n<p>See article: <a href=\"http://stackoverflow.com/questions/4817029/whats-the-best-way-to-detect-a-touch-screen-device-using-javascript\">What&#39;s the best way to detect a &#39;touch screen&#39; device using JavaScript?</a></p>\n",
                    "is_accepted": false,
                    "score": 19
                },
                {
                    "body": "<p>This works for me:</p>\n\n<pre><code>function isTouchDevice(){\n    return true == (\"ontouchstart\" in window || window.DocumentTouch &amp;&amp; document instanceof DocumentTouch);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Google Chrome seems to return false positives on this one:</p>\n\n<pre><code>var isTouch = 'ontouchstart' in document.documentElement;\n</code></pre>\n\n<p>I suppose it has something to do with its ability to \"emulate touch events\" (F12 -> settings at lower right corner -> \"overrides\" tab -> last checkbox). I know it's turned off by default but that's what I connect the change in results with (the \"in\" method used to work in Chrome).\nHowever, this seems to be working, as far as I have tested: </p>\n\n<pre><code>var isTouch = !!(\"undefined\" != typeof document.documentElement.ontouchstart);\n</code></pre>\n\n<p>All browsers I've run that code on state the <em>typeof</em> is \"object\" but I feel more certain knowing that it's whatever but undefined :-)</p>\n\n<p>Tested on IE7, IE8, IE9, IE10, Chrome 23.0.1271.64, Chrome for iPad 21.0.1180.80 and iPad Safari. It would be cool if someone made some more tests and shared the results.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Wrote this for one of my sites and probably is the most foolproof solution. Especially since even Modernizr can get false positives on touch detection.</p>\n\n<p><strong>If you're using jQuery</strong></p>\n\n<pre><code>$(window).one({\n  mouseover : function(){\n    Modernizr.touch = false; // Add this line if you have Modernizr\n    $('html').removeClass('touch').addClass('mouse');\n  } \n});\n</code></pre>\n\n<p><strong>or just pure JS...</strong></p>\n\n<pre><code>window.onmouseover = function(){ \n    window.onmouseover = null;\n    document.getElementsByTagName(\"html\")[0].className += \" mouse\";\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you use <a href=\"http://modernizr.com/\" rel=\"nofollow\">Modernizr</a>, it is very easy to use <code>Modernizr.touch</code> as mentioned earlier.</p>\n\n<p>However, I prefer using a combination of <code>Modernizr.touch</code> and user agent testing, just to be safe.</p>\n\n<pre><code>var deviceAgent = navigator.userAgent.toLowerCase();\n\nvar isTouchDevice = Modernizr.touch || \n(deviceAgent.match(/(iphone|ipod|ipad)/) ||\ndeviceAgent.match(/(android)/)  || \ndeviceAgent.match(/(iemobile)/) || \ndeviceAgent.match(/iphone/i) || \ndeviceAgent.match(/ipad/i) || \ndeviceAgent.match(/ipod/i) || \ndeviceAgent.match(/blackberry/i) || \ndeviceAgent.match(/bada/i));\n\nif (isTouchDevice) {\n        //Do something touchy\n    } else {\n        //Can't touch this\n    }\n</code></pre>\n\n<p>If you don't use Modernizr, you can simply replace the <code>Modernizr.touch</code> function above with <code>('ontouchstart' in document.documentElement)</code></p>\n\n<p>Also note that testing the user agent <code>iemobile</code> will give you broader range of detected Microsoft mobile devices than <code>Windows Phone</code>.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/6262584/how-to-determine-if-the-client-is-a-touch-device\">Also see this SO question</a></p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<pre><code>if (\"ontouchstart\" in window || navigator.msMaxTouchPoints)\n        {\n            isTouch = true;\n        } else {\n            isTouch = false;\n        }\n</code></pre>\n\n<p>Works every where !!</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I have tested following code mentioned above in the discussion</p>\n\n<pre><code> function is_touch_device() {\n    return !!('ontouchstart' in window);\n }\n</code></pre>\n\n<p>works on android Mozilla, chrome, Opera, android default browser and safari on iphone... \nall positive ...</p>\n\n<p>seems solid for me :)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>A helpful blog post on the subject, linked to from within the Modernizr source for detecting touch events.  Conclusion: it's not possible to reliably detect touchscreen devices from Javascript.</p>\n\n<p><a href=\"http://www.stucox.com/blog/you-cant-detect-a-touchscreen/\" rel=\"nofollow\">http://www.stucox.com/blog/you-cant-detect-a-touchscreen/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>In Javascript/jQuery, how can I detect if the client device has a mouse?  </p>\n\n<p>I've got a site that slides up a little info panel when the user hovers their mouse over an item.  I'm using jQuery.hoverIntent to detect the hover, but this obviously doesn't work on touchscreen devices like iPhone/iPad/Android. So on those devices I'd like to revert to tap to show the info panel.</p>\n",
            "last_activity_date": 1412607198,
            "question_id": 3974827,
            "score": 77,
            "tags": [
                "javascript",
                "jquery",
                "iphone",
                "android"
            ],
            "title": "Detecting touch screen devices with Javascript"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>Just want to add (since I googled for this problem, and this question popped first) IE6 and other versions render PNG transparency very ugly. If you have PNG image that is alpha transparent (32bit) and want to show it over some complex background, you can never do this simply in IE. But you can display it correctly over a single colour background as long as you set that PNG images (or divs) CSS attribute <code>background-color</code> to be the same as the parents <code>background-color</code>. </p>\n\n<p>So this will render black where image should be alpha transparent, and transparent where alpha byte is 0:</p>\n\n<pre><code>&lt;div style=\"background-color: white;\"&gt;    \n    &lt;div style=\"background-image: url(image.png);\"/&gt;    \n&lt;/div&gt;\n</code></pre>\n\n<p>And this will render correctly <em>(note the background-color attribute in the inner div)</em>:</p>\n\n<pre><code>&lt;div style=\"background-color: white;\"&gt;    \n    &lt;div style=\"background-color: white; background-image: url(image.png);\"/&gt;    \n&lt;/div&gt;\n</code></pre>\n\n<p>Complex alternative to this which enables alpha image over a complex background is to use <code>AlphaImageLoader</code> to load up and render image of the certain opacity. This works until you want to change that opacity... Problem in detail and its solution (javascript) can be found <a href=\"http://homepage.ntlworld.com/bobosola/pngtest.htm\" rel=\"nofollow\">HERE</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>FIXED!</strong></p>\n\n<p>I've been wrestling with the same issue, and just had a breakthrough! We've established that if you give the image a background color or image, the png displays properly on top of it. The black border is gone, but now you've got an opaque background, and that pretty much defeats the purpose.</p>\n\n<p>Then I remembered a rgba to ie filter converter I came across. (Thanks be to Michael Bester). So I wondered what would happen if I gave my problem pngs an ie filtered background emulating rgba(255,255,255,0), fully expecting it not to work, but lets try it anyway...</p>\n\n<pre><code>.item img {\n    background: transparent;\n    -ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)\"; /* IE8 */   \n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF);   /* IE6 &amp; 7 */      \n    zoom: 1;\n\n}\n</code></pre>\n\n<p>Presto! Goodbye black, and hello working alpha channels in ie7 and 8. Fade your pngs in and out, or animate them across the screen - it's all good. </p>\n",
                    "is_accepted": false,
                    "score": 101
                },
                {
                    "body": "<p>I put this into a jQuery plugin to make it more modular (you supply the transparent gif):</p>\n\n<pre><code>$.fn.pngFix = function() {\n  if (!$.browser.msie || $.browser.version &gt;= 9) { return $(this); }\n\n  return $(this).each(function() {\n    var img = $(this),\n        src = img.attr('src');\n\n    img.attr('src', '/images/general/transparent.gif')\n        .css('filter', \"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true',sizingMethod='crop',src='\" + src + \"')\");\n  });\n};\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>$('.my-selector').pngFix();\n</code></pre>\n\n<p>Note: It works also if your images are background images. Just apply the function on the div.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Dan Tello fix worked well for me.</p>\n\n<p>One additional issue I found with IE8 was that if the PNG was held in a DIV with smaller CSS  width or height dimensions than the PNG then the black edge prob was re-triggered.</p>\n\n<p>Correcting the width and height CSS or removing them altogether fixed.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/questions/1251416/png-transparency-problems-in-ie8/3999844#3999844\">PNG Transparency Problems in IE8</a></p>\n\n<p>Dan's solution worked for me. I was trying to fade a div with a background image. Caveats: you cannot fade the div directly, instead fade a wrapper image. Also, add the following filters to apply a background image: </p>\n\n<pre><code>-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true',sizingMethod='image',src='assets/img/bgSmall.png')\"; /* IE8 */   \nfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true',sizingMethod='image',src='assets/img/bgSmall.png');   /* IE6 &amp; 7 */      \n</code></pre>\n\n<p>Please note that the paths in the src attributes of the filters are absolute, and not relative to the css sheet.</p>\n\n<p>I also added:</p>\n\n<pre><code>background: transparent\\9;\n</code></pre>\n\n<p>This causes IE to ignore my earlier declaration of the actual background image for the other browsers.</p>\n\n<p>Thanks Dan!!!</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>My scenario:</p>\n\n<ul>\n<li>I had a background image that had a\n24bit alpha png that was set to an\nanchor link. </li>\n<li>The anchor was being\nfaded in on hover using Jquery.</li>\n</ul>\n\n<p>eg.</p>\n\n<pre><code>a.button { background-image: url(this.png; }\n</code></pre>\n\n<p>I found that applying the mark-up provided by Dan Tello didn't work. </p>\n\n<p>However, by placing a span within the anchor element, and setting the background-image to that element I was able to achieve a good result using Dan Tello's markup.</p>\n\n<p>eg.</p>\n\n<pre><code>a.button span { background-image: url(this.png; }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I use a CSS fix rather than JS to workaround my round cornered layer with transparent PNG inside</p>\n\n<p>Try</p>\n\n<pre>\n.ie .whateverDivWrappingTheImage img {\nbackground: #ffaabb; /* this should be the background color matching your design actually */\nfilter: chroma(#ffaabb); /* and this should match whatever value you put in background-color */\n}\n</pre>\n\n<p>This may require more work on ie9 or later.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I had the same thing happen to a PNG with transparency that was set as the background-image of an &lt;A&gt; element with opacity applied.</p>\n\n<p>The fix was to set the background-color of the &lt;A&gt; element.</p>\n\n<p>So, the following:</p>\n\n<pre><code>filter: alpha(opacity=40);\n-moz-opacity: 0.4;\n-khtml-opacity: 0.4;\nopacity: 0.4;\nbackground-image: ...;\n</code></pre>\n\n<p>Turns into:</p>\n\n<pre><code>/* \"Overwritten\" by the background-image. However this fixes the IE7 and IE8 PNG-transparency-plus-opacity bug. */\nbackground-color: #FFFFFF; \n\nfilter: alpha(opacity=40);\n-moz-opacity: 0.4;\n-khtml-opacity: 0.4;\nopacity: 0.4;\nbackground-image: ...;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I know this thread has been dead some time, but here is another answer to the old ie8 png background issue.</p>\n\n<p>You can do it in CSS by using IE's proprietary filtering system like this as well:</p>\n\n<p><code>filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true',sizingMethod='scale',src='pathToYourPNG');</code></p>\n\n<p><strong><a href=\"http://jsfiddle.net/ZSYbU/2/\" rel=\"nofollow\">DEMO</a></strong></p>\n\n<p>you will need to use a blank.gif for the 'first' image in your background declaration. This is simply to confuse ie8 and prevent it from using both the filter and the background you have set, and only use the filter. Other browsers support multiple background images and will understand the background declaration and not understand the filter, hence using the background only.</p>\n\n<p>You may also need to play with the sizingMethod in the filter to get it to work the way you want.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>please try below code.</p>\n\n<pre><code> background: transparent\\0/;\n filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true',sizingMethod='image',src='assets/img/bgSmall.png');   /* IE7 */      \n-ms-filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr=#00FFFFFF,endColorstr=#00FFFFFF)progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true',sizingMethod='image',src='assets/img/bgSmall.png')\"; /* IE8 */   \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm having problems with a transparent PNG image showing black dithered pixel artifacts around the edge of the non transparent part of the image.  It only does this in Internet Explorer and it only does it from a Javascript file it is used in.</p>\n\n<p>Here's what I'm talking about...\n<code>http://70.86.157.71/test/test3.htm</code> (link now dead)\n...notice the girl in the bottom right corner. She has artifacts around her in IE8 (I haven't tested it in previous versions of IE, but I'm assuming it probably does the same). It works perfectly in Firefox and Chrome. The image is loaded from a Javascript file to produce the mouseover effect.</p>\n\n<p>If you load the image all by itself, it works fine.\nHere's the image...\n<code>http://70.86.157.71/test/consultant2.png</code></p>\n\n<p>Does anyone know how to fix this?</p>\n\n<p>The image was produced in Photoshop CS3.</p>\n\n<p>I've read things about removing the Gama, but that apparently was in previous versions of Photoshop and when I load it in TweakPNG, it doesn't have Gama.</p>\n\n<p>Please help!</p>\n",
            "last_activity_date": 1409832305,
            "question_id": 1251416,
            "score": 70,
            "tags": [
                "javascript",
                "internet-explorer",
                "internet-explorer-8",
                "png",
                "iepngfix"
            ],
            "title": "PNG transparency pr\u043ebl\u0435m in IE8"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Manually adding elements and compiling them is definitely a perfect approach. If you use ng-repeat then you will not have to manually remove elements.  </p>\n\n<p>Demo: <a href=\"http://jsfiddle.net/KNM4q/113/\">http://jsfiddle.net/KNM4q/113/</a></p>\n\n<pre><code>.directive('tree', function ($compile) {\nreturn {\n    restrict: 'E',\n    terminal: true,\n    scope: { val: '=', parentData:'=' },\n    link: function (scope, element, attrs) {\n        var template = '&lt;span&gt;{{val.text}}&lt;/span&gt;';\n        template += '&lt;button ng-click=\"deleteMe()\" ng-show=\"val.text\"&gt;delete&lt;/button&gt;';\n\n        if (angular.isArray(scope.val.items)) {\n            template += '&lt;ul class=\"indent\"&gt;&lt;li ng-repeat=\"item in val.items\"&gt;&lt;tree val=\"item\" parent-data=\"val.items\"&gt;&lt;/tree&gt;&lt;/li&gt;&lt;/ul&gt;';\n        }\n        scope.deleteMe = function(index) {\n            if(scope.parentData) {\n                var itemIndex = scope.parentData.indexOf(scope.val);\n                scope.parentData.splice(itemIndex,1);\n            }\n            scope.val = {};\n        };\n        var newElement = angular.element(template);\n        $compile(newElement)(scope);\n        element.replaceWith(newElement);\n    }\n}\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 18
                },
                {
                    "body": "<p>I don't know for sure if this solution is found in one of the examples you linked or the same basic concept, but I had a need of a recursive directive, and I found <a href=\"https://groups.google.com/forum/#!topic/angular/vswXTes_FtM\">a great, easy solution</a>.</p>\n\n<pre><code>module.directive(\"recursive\", function($compile) {\n    return {\n        restrict: \"EACM\",\n        priority: 100000,\n        compile: function(tElement, tAttr) {\n            var contents = tElement.contents().remove();\n            var compiledContents;\n            return function(scope, iElement, iAttr) {\n                if(!compiledContents) {\n                    compiledContents = $compile(contents);\n                }\n                iElement.append(\n                    compiledContents(scope, \n                                     function(clone) {\n                                         return clone; }));\n            };\n        }\n    };\n});\n\nmodule.directive(\"tree\", function() {\n    return {\n        scope: {tree: '='},\n        template: '&lt;p&gt;{{ tree.text }}&lt;/p&gt;&lt;ul&gt;&lt;li ng-repeat=\"child in tree.children\"&gt;&lt;recursive&gt;&lt;span tree=\"child\"&gt;&lt;/span&gt;&lt;/recursive&gt;&lt;/li&gt;&lt;/ul&gt;',\n        compile: function() {\n            return  function() {\n            }\n        }\n    };\n});\u200b\n</code></pre>\n\n<p>You should create the <code>recursive</code> directive and then wrap it around the element that makes the recursive call.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Inspired by the solutions described in the thread mentioned by @dnc253, I abstracted the recursion functionality <a href=\"https://github.com/marklagendijk/angular-recursion\">into a service</a>.</p>\n\n<pre><code>module.factory('RecursionHelper', ['$compile', function($compile){\n    return {\n        /**\n         * Manually compiles the element, fixing the recursion loop.\n         * @param element\n         * @param [link] A post-link function, or an object with function(s) registered via pre and post properties.\n         * @returns An object containing the linking functions.\n         */\n        compile: function(element, link){\n            // Normalize the link parameter\n            if(angular.isFunction(link)){\n                link = { post: link };\n            }\n\n            // Break the recursion loop by removing the contents\n            var contents = element.contents().remove();\n            var compiledContents;\n            return {\n                pre: (link &amp;&amp; link.pre) ? link.pre : null,\n                /**\n                 * Compiles and re-adds the contents\n                 */\n                post: function(scope, element){\n                    // Compile the contents\n                    if(!compiledContents){\n                        compiledContents = $compile(contents);\n                    }\n                    // Re-add the compiled contents to the element\n                    compiledContents(scope, function(clone){\n                        element.append(clone);\n                    });\n\n                    // Call the post-linking function, if any\n                    if(link &amp;&amp; link.post){\n                        link.post.apply(null, arguments);\n                    }\n                }\n            };\n        }\n    };\n}]);\n</code></pre>\n\n<p>Which is used as follows:</p>\n\n<pre><code>module.directive(\"tree\", function(RecursionHelper) {\n    return {\n        restrict: \"E\",\n        scope: {family: '='},\n        template: \n            '&lt;p&gt;{{ family.name }}&lt;/p&gt;'+\n            '&lt;ul&gt;' + \n                '&lt;li ng-repeat=\"child in family.children\"&gt;' + \n                    '&lt;tree family=\"child\"&gt;&lt;/tree&gt;' +\n                '&lt;/li&gt;' +\n            '&lt;/ul&gt;',\n        compile: function(element) {\n            // Use the compile function from the RecursionHelper,\n            // And return the linking function(s) which it returns\n            return RecursionHelper.compile(element);\n        }\n    };\n});\n</code></pre>\n\n<p>See this <a href=\"http://plnkr.co/edit/JAIyolmqPqO9KsynSiZp?p=preview\">Plunker</a> for a demo.\nI like this solution best because:</p>\n\n<ol>\n<li>You don't need an special directive which makes your html less clean.</li>\n<li>The recursion logic is abstracted away into the RecursionHelper service, so you keep your directives clean.</li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 112
                },
                {
                    "body": "<p>I ended up creating a set of basic directives for recursion.</p>\n\n<p>IMO It is far more basic than the solution found here, and just as flexible if not more, so we are not bound to using UL/LI structures etc... But obviously those make sense to use, however the directives are unaware of this fact...</p>\n\n<p>A Super simple example would be:</p>\n\n<pre><code>&lt;ul dx-start-with=\"rootNode\"&gt;\n  &lt;li ng-repeat=\"node in $dxPrior.nodes\"&gt;\n    {{ node.name }}\n    &lt;ul dx-connect=\"node\"/&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>The implementation of 'dx-start-with' an 'dx-connect' is found at: <a href=\"https://github.com/dotJEM/angular-tree\" rel=\"nofollow\">https://github.com/dotJEM/angular-tree</a></p>\n\n<p>This means you don't have to create 8 directives if you need 8 different layouts.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>There are a couple of popular recursive angular directive Q&amp;A's out there, which all come down to one of the following solutions:</p>\n\n<ul>\n<li>manually incrementally 'compile' HTML based on runtime scope state\n<ul>\n<li><a href=\"http://jsfiddle.net/galloc/KNM4q/1/\">example 1</a> [<a href=\"http://stackoverflow.com/questions/11854514/is-it-possible-to-make-a-tree-view-with-angular\">stackoverflow</a>]</li>\n<li><a href=\"http://jsfiddle.net/IgorMinar/CHVbb/423/\">example 2</a> [<a href=\"https://github.com/angular/angular.js/wiki/JsFiddle-Examples\">angular jsfiddles page</a>]</li>\n</ul></li>\n<li>don't use a directive at all, but a &lt;script&gt; template which refers to itself\n<ul>\n<li><a href=\"http://jsfiddle.net/ganarajpr/vzvmS/3/\">example 1</a> [<a href=\"https://groups.google.com/forum/#!topic/angular/I5Z5oglW6Xw\">google groups</a>]</li>\n</ul></li>\n</ul>\n\n<p><strong>The first one</strong> has the problem that you can't remove previously compiled code unless you comprehensibly manage the manual compile process. <strong>The second approach</strong> has the problem of... not being a directive and missing out on its powerful capabilities, but more urgently, it can't be parameterised the same way a directive can be; it's simply bound to a new controller instance.</p>\n\n<p>I've been playing with manually doing an <code>angular.bootstrap</code> or <code>@compile()</code> in the link function, but that leaves me with the problem of manually keeping track of elements to remove and add.</p>\n\n<p>Is there a good way to have a parameterized recursive pattern that manages adding/removing elements to reflect runtime state? That is to say, a tree with a add/delete node button and some input field whose value is passed down a node's child nodes. Perhaps a combination of the second approach with chained scopes (but I have no idea how to do this)?</p>\n",
            "last_activity_date": 1402337775,
            "question_id": 14430655,
            "score": 62,
            "tags": [
                "javascript",
                "recursion",
                "angularjs"
            ],
            "title": "Recursion in Angular directives"
        },
        {
            "answer_count": 11,
            "answers": [
                {
                    "body": "<p>There's no built-in ability to <code>break</code> in <code>forEach</code>. To interrupt execution you would have to throw an exception of some sort. eg.</p>\n\n<pre><code>var BreakException= {};\n\ntry {\n    [1,2,3].forEach(function(el) {\n        if(el === 1) throw BreakException;\n    });\n} catch(e) {\n    if (e!==BreakException) throw e;\n}\n</code></pre>\n\n<p>JavaScript exceptions aren't terribly pretty. An traditional <code>for</code> loop may be more appropriate if you really need to <code>break</code> inside it. </p>\n\n<p>Instead, use of <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Array/some\"><code>Array#some</code></a>:</p>\n\n<pre><code>[1,2,3].some(function(el) {\n    return el === 1;\n});\n</code></pre>\n\n<p>This works because <code>some</code> returns <code>true</code> as soon as any of the callbacks, executed in array order, return <code>true</code>, short-circuiting the execution of the rest.</p>\n\n<p><code>some</code>, its inverse <a href=\"https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Global_Objects/Array/every\"><code>every</code></a> (which will stop on a <code>return false</code>), and <code>forEach</code> are all ECMAScript Fifth Edition methods which will need to be added to the <code>Array.prototype</code> on browsers where they're missing.</p>\n",
                    "is_accepted": true,
                    "score": 310
                },
                {
                    "body": "<p>Consider to use </p>\n\n<pre><code>jQuery.each(function(element, index) {});\n</code></pre>\n\n<p>in order to use </p>\n\n<pre><code>return false; \n</code></pre>\n\n<p>inside callback function</p>\n\n<pre><code>$.each(function(e, i) { \n   if (i % 2) return false;\n   console.log(e)\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Found this solution on another site. You can wrap the forEach in a try / catch scenario.</p>\n\n<pre><code>if(typeof StopIteration == \"undefined\") {\n StopIteration = new Error(\"StopIteration\");\n}\n\ntry {\n  [1,2,3].forEach(function(el){\n    alert(el);\n    if(el === 1) throw StopIteration;\n  });\n} catch(error) { if(error != StopIteration) throw error; }\n</code></pre>\n\n<p>More details here: <a href=\"http://dean.edwards.name/weblog/2006/07/enum/\" rel=\"nofollow\">http://dean.edwards.name/weblog/2006/07/enum/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Maybe I'm missing something here, but it looks like you might be falling victim of the shiny-new-toy disease. Why not just use a standard <code>for</code>/<code>break</code>? <code>forEach</code> is designed to be run against <em>each</em> element, hence the name. It's not called <code>forSome</code> ;-)</p>\n",
                    "is_accepted": false,
                    "score": 96
                },
                {
                    "body": "<p>If you would like to use <a href=\"http://dean.edwards.name/weblog/2006/07/enum/#comment105309\">Dean Edward's suggestion</a> and throw the StopIteration error to break out of the loop without having to catch the error, you can use the following the function (<a href=\"http://gotochriswest.com/blog/2011/06/30/javascript-foreach-with-breaking/#comment-78\">originally from here</a>):</p>\n\n<pre><code>// Use a closure to prevent the global namespace from be polluted.\n(function() {\n  // Define StopIteration as part of the global scope if it\n  // isn't already defined.\n  if(typeof StopIteration == \"undefined\") {\n    StopIteration = new Error(\"StopIteration\");\n  }\n\n  // The original version of Array.prototype.forEach.\n  var oldForEach = Array.prototype.forEach;\n\n  // If forEach actually exists, define forEach so you can\n  // break out of it by throwing StopIteration.  Allow\n  // other errors will be thrown as normal.\n  if(oldForEach) {\n    Array.prototype.forEach = function() {\n      try {\n        oldForEach.apply(this, [].slice.call(arguments, 0));\n      }\n      catch(e) {\n        if(e !== StopIteration) {\n          throw e;\n        }\n      }\n    };\n  }\n})();\n</code></pre>\n\n<p>The above code will give you the ability to run code such as the following without having to do your own try-catch clauses:</p>\n\n<pre><code>// Show the contents until you get to \"2\".\n[0,1,2,3,4].forEach(function(val) {\n  if(val == 2)\n    throw StopIteration;\n  alert(val);\n});\n</code></pre>\n\n<p>One important thing to remember is that this will only update the Array.prototype.forEach function if it already exists.  If it doesn't exist already, it will not modify the it.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>You can use <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\">every</a> method:</p>\n\n<pre><code>[1,2,3].every(function(el) {\n    return !(el === 1);\n});\n</code></pre>\n\n<p>for old browser support use:</p>\n\n<pre><code>if (!Array.prototype.every)\n{\n  Array.prototype.every = function(fun /*, thisp*/)\n  {\n    var len = this.length;\n    if (typeof fun != \"function\")\n      throw new TypeError();\n\n    var thisp = arguments[1];\n    for (var i = 0; i &lt; len; i++)\n    {\n      if (i in this &amp;&amp;\n          !fun.call(thisp, this[i], i, this))\n        return false;\n    }\n\n    return true;\n  };\n}\n</code></pre>\n\n<p>more details <a href=\"http://www.tutorialspoint.com/javascript/array_every.htm\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<p>This is just something I came up with to solve the problem... I'm pretty sure it fixes the problem that the original asker had:</p>\n\n<pre><code>Array.prototype.each = function(callback){\n    if(!callback) return false;\n    for(var i=0; i&lt;this.length; i++){\n        if(callback(this[i], i) == false) break;\n    }\n};\n</code></pre>\n\n<p>And then you would call it by using:</p>\n\n<pre><code>var myarray = [1,2,3];\nmyarray.each(function(item, index){\n    // do something with the item\n    // if(item != somecondition) return false; \n});\n</code></pre>\n\n<p>Returning false inside the callback function will cause a break. Let me know if that doesn't actually work.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Short answer: use <code>for...break</code> for this or change your code to avoid breaking of <code>forEach</code>. Do not use <code>.some()</code> or <code>.every()</code> to emulate <code>for...break</code>. Rewrite your code to avoid <code>for...break</code> loop, or use <code>for...break</code>. Every time you use these methods as <code>for...break</code> alternative God kills kitten. </p>\n\n<p>Long answer:</p>\n\n<p><code>.some()</code> and <code>.every()</code> both return <code>boolean</code> value, <code>.some()</code> returns <code>true</code> if there any element for which passed function returns <code>true</code>, every returns <code>false</code> if there any element for which passed function returns <code>false</code>. This is what that functions mean. Using functions for what they doesn't mean is much worse then using tables for layout instead of CSS, because it frustrates everybody who reads your code.</p>\n\n<p>Also, the only possible way to use these methods as <code>for...break</code> alternative is to make side-effects (change some vars outside of <code>.some()</code> callback function), and this is not much different from <code>for...break</code>.</p>\n\n<p>So, using <code>.some()</code> or <code>.every()</code> as <code>for...break</code> loop alternative isn't free of side effects, this isn't much cleaner then <code>for...break</code>, this is frustrating, so this isn't better. </p>\n\n<p>You can always rewrite your code so that there will be no need in <code>for...break</code>. You can filter array using <code>.filter()</code>, you can split array using <code>.slice()</code> and so on, then use <code>.forEach()</code> or <code>.map()</code> for that part of array.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Another concept I came up with:</p>\n\n<pre><code>function forEach(array, cb) {\n  var breakOnNext = false;\n  function _break() { breakOnNext = true; }\n  for (var i = 0, bound = array.length; i &lt; bound; ++i) {\n    if (breakOnNext) { break; }\n    cb(array[i], i, array, _break);\n  }\n}\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>forEach(['a','b','c','d'], function (e, i, array, _break) {\n  console.log(e, i);\n  if (e === 'b') { _break(); }\n});\n</code></pre>\n\n<p>Might need some tweaking, particularly to support object property iteration.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I use <em>nullhack</em> for that purpose, it tries to access property of <code>null</code>, which is an error:</p>\n\n<pre><code>try {\n  [1,2,3,4,5]\n  .forEach(\n    function ( val, idx, arr ) {\n      if ( val == 3 ) null.NULLBREAK;\n    }\n  );\n} catch (e) {\n  // e &lt;=&gt; TypeError: null has no properties\n}\n//\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you don't need to access your array after iteration you can bail out by setting the array's length to 0. If you do still need it after your iteration you could clone it using slice..</p>\n\n<pre><code>[1,3,4,5,6,7,8,244,3,5,2].forEach(function (item, index, arr) {\n  if (index === 3) arr.length = 0;\n});\n</code></pre>\n\n<p>Or with a clone:</p>\n\n<pre><code>var x = [1,3,4,5,6,7,8,244,3,5,2];\n\nx.slice().forEach(function (item, index, arr) {\n  if (index === 3) arr.length = 0;\n});\n</code></pre>\n\n<p>Which is a far better solution then throwing random errors in your code.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<pre><code>[1,2,3].forEach(function(el) {\n    if(el === 1) break;\n});\n</code></pre>\n\n<p>How can I do this using the new <code>forEach</code> method in JavaScript?</p>\n",
            "last_activity_date": 1417537824,
            "question_id": 2641347,
            "score": 195,
            "tags": [
                "javascript",
                "arrays"
            ],
            "title": "How to short circuit Array.forEach like calling break?"
        },
        {
            "answer_count": 20,
            "answers": [
                {
                    "body": "<p>Interesting observation. Note that in JavaScript you can normally replace inline anonymous callback functions with named function variables.</p>\n\n<p>The following:</p>\n\n<pre><code>http.createServer(function (req, res) {\n   // inline callback function ...\n\n   getSomeData(client, function (someData) {\n      // another inline callback function ...\n\n      getMoreData(client, function(moreData) {\n         // one more inline callback function ...\n      });\n   });\n\n   // etc ...\n});\n</code></pre>\n\n<p>Could be rewritten to look something like this:</p>\n\n<pre><code>var moreDataParser = function (moreData) {\n   // date parsing logic\n};\n\nvar someDataParser = function (someData) {\n   // some data parsing logic\n\n   getMoreData(client, moreDataParser);\n};\n\nvar createServerCallback = function (req, res) {\n   // create server logic\n\n   getSomeData(client, someDataParser);\n\n   // etc ...\n};\n\nhttp.createServer(createServerCallback);\n</code></pre>\n\n<p>However unless you plan to reuse to callback logic in other places, it is often much easier to read inline anonymous functions, as in your example. It will also spare you from having to find a name for all the callbacks.</p>\n\n<p>In addition note that as <a href=\"http://stackoverflow.com/users/166390/pst\">@pst</a> noted in a comment below, if you are accessing closure variables within the inner functions, the above would not be a straightforward translation. In such cases, using inline anonymous functions is even more preferable. </p>\n",
                    "is_accepted": true,
                    "score": 43
                },
                {
                    "body": "<p>What you need is a bit of syntactic sugar. Chek this out:</p>\n\n<pre><code>http.createServer(function (req, res) {\n  res.writeHead(200, {'Content-Type': 'text/html'});\n  var html = [\"&lt;h1&gt;Demo page&lt;/h1&gt;\"];\n  var pushHTML = html.push.bind(html);\n\n  Queue.push( getSomeData.partial(client, pushHTML) );\n  Queue.push( getSomeOtherData.partial(client, pushHTML) );\n  Queue.push( getMoreData.partial(client, pushHTML) );\n  Queue.push( function() {\n    res.write(html.join(''));\n    res.end();\n  });\n  Queue.execute();\n}); \n</code></pre>\n\n<p>Pretty <strong><em>neat</em></strong>, isn't it? You may notice that html became an array. That's partly because strings are immutable, so you better off with buffering your output in an array, than discarding larger and larger strings. The other reason is because of another nice syntax with <code>bind</code>.</p>\n\n<p><code>Queue</code> in the example is really just an example and along with <code>partial</code> can be implemented as follows</p>\n\n<pre><code>// Functional programming for the rescue\nFunction.prototype.partial = function() {\n  var fun = this,\n      preArgs = Array.prototype.slice.call(arguments);\n  return function() {\n    fun.apply(null, preArgs.concat.apply(preArgs, arguments));\n  };\n};\n\nQueue = [];\nQueue.execute = function () {\n  if (Queue.length) {\n    Queue.shift()(Queue.execute);\n  }\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>What you have done there is take an asynch pattern and apply it to 3 functions called in sequence, each one waiting for the previous one to complete before starting - i.e. you have made them <em>synchronous</em>. The point about asynch programming is that you can have several functions all running at once and not have to wait for each to complete.</p>\n\n<p>if getSomeDate() doesn't provide anything to getSomeOtherDate(), which doesn't provide anything to getMoreData() then why don't you call them asynchronously as js allows or if they are interdependent (and not asynchronous) write them as a single function?</p>\n\n<p>You don't need to use nesting to control the flow - for instance, get each function to finish by calling a common function that determines when all 3 have completed and then sends the response.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>For the most part, I'd agree with Daniel Vassallo. If you can break up a complicated and deeply nested function into separate named functions, then that is usually a good idea. For the times when it makes sense to do it inside a single function, you can use one of the many node.js async libraries available. People have come up with lots of different ways to tackle this, so take a look at the node.js modules page and see what you think.</p>\n\n<p>I've written a module for this myself, called <a href=\"https://github.com/caolan/async\">async.js</a>. Using this, the above example could be updated to:</p>\n\n<pre><code>http.createServer(function (req, res) {\n  res.writeHead(200, {'Content-Type': 'text/html'});\n  async.series({\n    someData: async.apply(getSomeDate, client),\n    someOtherData: async.apply(getSomeOtherDate, client),\n    moreData: async.apply(getMoreData, client)\n  },\n  function (err, results) {\n    var html = \"&lt;h1&gt;Demo page&lt;/h1&gt;\";\n    html += \"&lt;p&gt;\" + results.someData + \"&lt;/p&gt;\";\n    html += \"&lt;p&gt;\" + results.someOtherData + \"&lt;/p&gt;\";\n    html += \"&lt;p&gt;\" + results.moreData + \"&lt;/p&gt;\";\n    res.write(html);\n    res.end();\n  });\n});\n</code></pre>\n\n<p>One nice thing about this approach is that you can quickly change your code to fetch the data in parallel by changing the 'series' function to 'parallel'. What's more, async.js will\nalso work inside the browser, so you can use the same methods as you would in node.js should you encounter any tricky async code.</p>\n\n<p>Hope that's useful!</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>Suppose you could do this:</p>\n\n<pre><code>http.createServer(function (req, res) {\n    res.writeHead(200, {'Content-Type': 'text/html'});\n    var html = \"&lt;h1&gt;Demo page&lt;/h1&gt;\";\n    chain([\n        function (next) {\n            getSomeDate(client, next);\n        },\n        function (next, someData) {\n            html += \"&lt;p&gt;\"+ someData +\"&lt;/p&gt;\";\n            getSomeOtherDate(client, next);\n        },\n        function (next, someOtherData) {\n            html += \"&lt;p&gt;\"+ someOtherData +\"&lt;/p&gt;\";\n            getMoreData(client, next);\n        },\n        function (next, moreData) {\n            html += \"&lt;p&gt;\"+ moreData +\"&lt;/p&gt;\";\n            res.write(html);\n            res.end();\n        }\n    ]);\n});\n</code></pre>\n\n<p>You only need to implement chain() so that it partially applies each function to the next one, and immediately invokes only the first function:</p>\n\n<pre><code>function chain(fs) {\n    var f = function () {};\n    for (var i = fs.length - 1; i &gt;= 0; i--) {\n        f = fs[i].partial(f);\n    }\n    f();\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Kay, simply use one of these modules.</p>\n\n<ul>\n<li><a href=\"http://github.com/willconant/flow-js\">flow-js</a></li>\n<li><a href=\"http://github.com/masylum/funk\">funk</a></li>\n<li><a href=\"http://github.com/coolaj86/futures\">futures</a></li>\n<li><a href=\"http://github.com/alexkwolfe/groupie\">groupie</a></li>\n<li><a href=\"http://github.com/bentomas/node-continuables\">node-continuables</a></li>\n<li><a href=\"http://github.com/isaacs/slide-flow-control\">Slide</a></li>\n<li><a href=\"http://github.com/creationix/step\">Step</a></li>\n<li><a href=\"http://github.com/shimondoodkin/node-inflow\">node-inflow</a></li>\n<li><a href=\"http://github.com/fjakobs/async.js\">async.js</a></li>\n<li><a href=\"http://github.com/caolan/async\">async</a></li>\n</ul>\n\n<p>It will turn this:</p>\n\n<pre><code>dbGet('userIdOf:bobvance', function(userId) {\n    dbSet('user:' + userId + ':email', 'bobvance@potato.egg', function() {\n        dbSet('user:' + userId + ':firstName', 'Bob', function() {\n            dbSet('user:' + userId + ':lastName', 'Vance', function() {\n                okWeAreDone();\n            });\n        });\n    });\n});\n</code></pre>\n\n<p>Into this:</p>\n\n<pre><code>flow.exec(\n    function() {\n        dbGet('userIdOf:bobvance', this);\n\n    },function(userId) {\n        dbSet('user:' + userId + ':email', 'bobvance@potato.egg', this.MULTI());\n        dbSet('user:' + userId + ':firstName', 'Bob', this.MULTI());\n        dbSet('user:' + userId + ':lastName', 'Vance', this.MULTI());\n\n    },function() {\n        okWeAreDone()\n    }\n);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 45
                },
                {
                    "body": "<p>I had the same problem. I've seen the major libs to node run async functions, and they presents so non-natural chaining (you need to use three or more methods confs etc) to build your code.</p>\n\n<p>I spent some weeks developing a solution to be simple and easing to read. Please, give a try to <a href=\"http://search.npmjs.org/#/enqjs\" rel=\"nofollow\">EnqJS</a>. All opinions will be appreciated.</p>\n\n<p>Instead of:</p>\n\n<pre><code>http.createServer(function (req, res) {\n  res.writeHead(200, {'Content-Type': 'text/html'});\n  var html = \"&lt;h1&gt;Demo page&lt;/h1&gt;\";\n  getSomeDate(client, function(someData) {\n    html += \"&lt;p&gt;\"+ someData +\"&lt;/p&gt;\";\n    getSomeOtherDate(client, function(someOtherData) {\n      html += \"&lt;p&gt;\"+ someOtherData +\"&lt;/p&gt;\";\n      getMoreData(client, function(moreData) {\n        html += \"&lt;p&gt;\"+ moreData +\"&lt;/p&gt;\";\n        res.write(html);\n        res.end();\n      });\n    });\n  });\n</code></pre>\n\n<p>with EnqJS:</p>\n\n<pre><code>http.createServer(function (req, res) {\n  res.writeHead(200, {'Content-Type': 'text/html'});\n  var html = \"&lt;h1&gt;Demo page&lt;/h1&gt;\";\n\n  enq(function(){\n    var self=this;\n    getSomeDate(client, function(someData){\n      html += \"&lt;p&gt;\"+ someData +\"&lt;/p&gt;\";\n      self.return();\n    })\n  })(function(){\n    var self=this;\n    getSomeOtherDate(client, function(someOtherData){ \n      html += \"&lt;p&gt;\"+ someOtherData +\"&lt;/p&gt;\";\n      self.return();\n    })\n  })(function(){\n    var self=this;\n    getMoreData(client, function(moreData) {\n      html += \"&lt;p&gt;\"+ moreData +\"&lt;/p&gt;\";\n      self.return();\n      res.write(html);\n      res.end();\n    });\n  });\n});\n</code></pre>\n\n<p>Observe that the code appears to be bigger than before. But it isn't nested as before.\nTo appear more natural, the chains are called imediately:</p>\n\n<pre><code>enq(fn1)(fn2)(fn3)(fn4)(fn4)(...)\n</code></pre>\n\n<p>And to say that it returned, inside  the function we call:</p>\n\n<pre><code>this.return(response)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I do it in a pretty primitive but effective way. E.g. I need to get a model with its parents and children and let's say I need to do separate queries for them:</p>\n\n<pre><code>var getWithParents = function(id, next) {\n  var getChildren = function(model, next) {\n        /*... code ... */\n        return next.pop()(model, next);\n      },\n      getParents = function(model, next) {\n        /*... code ... */\n        return next.pop()(model, next);\n      }\n      getModel = function(id, next) {\n        /*... code ... */\n        if (model) {\n          // return next callbacl\n          return next.pop()(model, next);\n        } else {\n          // return last callback\n          return next.shift()(null, next);\n        }\n      }\n\n  return getModel(id, [getParents, getChildren, next]);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Am in love <a href=\"https://github.com/caolan/async\" rel=\"nofollow\">Async.js</a> ever since I found it. It has a <a href=\"https://github.com/caolan/async#series\" rel=\"nofollow\"><code>async.series</code></a> function you can use to avoid long nesting.</p>\n\n<p><em>Documentation:-</em></p>\n\n<hr>\n\n<h2>series(tasks, [callback])</h2>\n\n<p>Run an array of functions in series, each one running once the previous function has completed. [...]</p>\n\n<h3>Arguments</h3>\n\n<p><code>tasks</code> - An array of functions to run, each function is passed a callback it must call on completion.\n<code>callback(err, [results])</code> - An optional callback to run once all the functions have completed. This function gets an array of all the arguments passed to the callbacks used in the array.</p>\n\n<hr>\n\n<p>Here's how we can apply it to your example code:-</p>\n\n<pre><code>http.createServer(function (req, res) {\n\n    res.writeHead(200, {'Content-Type': 'text/html'});\n\n    var html = \"&lt;h1&gt;Demo page&lt;/h1&gt;\";\n\n    async.series([\n        function (callback) {\n            getSomeData(client, function (someData) { \n                html += \"&lt;p&gt;\"+ someData +\"&lt;/p&gt;\";\n\n                callback();\n            });\n        },\n\n        function (callback) {\n            getSomeOtherData(client, function (someOtherData) { \n                html += \"&lt;p&gt;\"+ someOtherData +\"&lt;/p&gt;\";\n\n                callback(); \n            });\n        },\n\n        funciton (callback) {\n            getMoreData(client, function (moreData) {\n                html += \"&lt;p&gt;\"+ moreData +\"&lt;/p&gt;\";\n\n                callback();\n            });\n        }\n    ], function () {\n        res.write(html);\n        res.end();\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Use Fibers <a href=\"https://github.com/laverdet/node-fibers\" rel=\"nofollow\">https://github.com/laverdet/node-fibers</a> it makes asynchronous code looks like synchronous (without blocking)</p>\n\n<p>I personally use this little wrapper <a href=\"http://alexeypetrushin.github.com/synchronize\" rel=\"nofollow\">http://alexeypetrushin.github.com/synchronize</a>\nSample of code from my project (every method is actually asynchronous, working with async file IO) I even afraid of imagine what a mess it would be with callback or async-control-flow helper libraries.</p>\n\n<pre><code>_update: (version, changesBasePath, changes, oldSite) -&gt;\n  @log 'updating...'\n  @_updateIndex version, changes\n  @_updateFiles version, changesBasePath, changes\n  @_updateFilesIndexes version, changes\n  configChanged = @_updateConfig version, changes\n  @_updateModules version, changes, oldSite, configChanged\n  @_saveIndex version\n  @log \"updated to #{version} version\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You could use this trick with an array rather than nested functions or a module.</p>\n\n<p>Far easier on the eyes.</p>\n\n<pre><code>var fs = require(\"fs\");\nvar chain = [\n    function() { \n        console.log(\"step1\");\n        fs.stat(\"f1.js\",chain.shift());\n    },\n    function(err, stats) {\n        console.log(\"step2\");\n        fs.stat(\"f2.js\",chain.shift());\n    },\n    function(err, stats) {\n        console.log(\"step3\");\n        fs.stat(\"f2.js\",chain.shift());\n    },\n    function(err, stats) {\n        console.log(\"step4\");\n        fs.stat(\"f2.js\",chain.shift());\n    },\n    function(err, stats) {\n        console.log(\"step5\");\n        fs.stat(\"f2.js\",chain.shift());\n    },\n    function(err, stats) {\n        console.log(\"done\");\n    },\n];\nchain.shift()();\n</code></pre>\n\n<p>You can extend the idiom for parallel processes or even parallel chains of processes:</p>\n\n<pre><code>var fs = require(\"fs\");\nvar fork1 = 2, fork2 = 2, chain = [\n    function() { \n        console.log(\"step1\");\n        fs.stat(\"f1.js\",chain.shift());\n    },\n    function(err, stats) {\n        console.log(\"step2\");\n        var next = chain.shift();\n        fs.stat(\"f2a.js\",next);\n        fs.stat(\"f2b.js\",next);\n    },\n    function(err, stats) {\n        if ( --fork1 )\n            return;\n        console.log(\"step3\");\n        var next = chain.shift();\n\n        var chain1 = [\n            function() { \n                console.log(\"step4aa\");\n                fs.stat(\"f1.js\",chain1.shift());\n            },\n            function(err, stats) { \n                console.log(\"step4ab\");\n                fs.stat(\"f1ab.js\",next);\n            },\n        ];\n        chain1.shift()();\n\n        var chain2 = [\n            function() { \n                console.log(\"step4ba\");\n                fs.stat(\"f1.js\",chain2.shift());\n            },\n            function(err, stats) { \n                console.log(\"step4bb\");\n                fs.stat(\"f1ab.js\",next);\n            },\n        ];\n        chain2.shift()();\n    },\n    function(err, stats) {\n        if ( --fork2 )\n            return;\n        console.log(\"done\");\n    },\n];\nchain.shift()();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p><strong><a href=\"http://taskjs.org/\" rel=\"nofollow\">Task.js</a></strong> offers you this:</p>\n\n<pre><code>spawn(function*() {\n    try {\n        var [foo, bar] = yield join(read(\"foo.json\"),\n                                    read(\"bar.json\")).timeout(1000);\n        render(foo);\n        render(bar);\n    } catch (e) {\n        console.log(\"read failed: \" + e);\n    }\n});\n</code></pre>\n\n<p>Instead of this:</p>\n\n<pre><code>var foo, bar;\nvar tid = setTimeout(function() { failure(new Error(\"timed out\")) }, 1000);\n\nvar xhr1 = makeXHR(\"foo.json\",\n                   function(txt) { foo = txt; success() },\n                   function(err) { failure() });\nvar xhr2 = makeXHR(\"bar.json\",\n                   function(txt) { bar = txt; success() },\n                   function(e) { failure(e) });\n\nfunction success() {\n    if (typeof foo === \"string\" &amp;&amp; typeof bar === \"string\") {\n        cancelTimeout(tid);\n        xhr1 = xhr2 = null;\n        render(foo);\n        render(bar);\n    }\n}\n\nfunction failure(e) {\n    xhr1 &amp;&amp; xhr1.abort();\n    xhr1 = null;\n    xhr2 &amp;&amp; xhr2.abort();\n    xhr2 = null;\n    console.log(\"read failed: \" + e);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The most simple syntactical sugar if have seen is node-promise.</p>\n\n<p>npm install node-promise || git clone <a href=\"https://github.com/kriszyp/node-promise\" rel=\"nofollow\">https://github.com/kriszyp/node-promise</a></p>\n\n<p>Using this you can chain async methods as:</p>\n\n<pre><code>firstMethod().then(secondMethod).then(thirdMethod);\n</code></pre>\n\n<p>The return value of each is available as argument in the next.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've recently created simpler abstraction called <strong>wait.for</strong> to call async functions in sync mode (based on Fibers). It's at an early stage but works. It is at:</p>\n\n<p><a href=\"https://github.com/luciotato/waitfor\" rel=\"nofollow\">https://github.com/luciotato/waitfor</a></p>\n\n<p>Using <strong>wait.for</strong>, you can call any standard nodejs async function, as if it were a sync function.</p>\n\n<p>using <strong>wait.for</strong> your code could be:</p>\n\n<pre><code>var http=require('http');\nvar wait=require('wait.for');\n\nhttp.createServer(function(req, res) {\n  wait.launchFiber(handleRequest,req, res); //run in a Fiber, keep node spinning\n}).listen(8080);\n\n\n//in a fiber\nfunction handleRequest(req, res) {\n  res.writeHead(200, {'Content-Type': 'text/html'});\n  var html = \"&lt;h1&gt;Demo page&lt;/h1&gt;\";\n  var someData = wait.for(getSomeDate,client);\n  html += \"&lt;p&gt;\"+ someData +\"&lt;/p&gt;\";\n  var someOtherData = wait.for(getSomeOtherDate,client);\n  html += \"&lt;p&gt;\"+ someOtherData +\"&lt;/p&gt;\";\n  var moreData = wait.for(getMoreData,client);\n  html += \"&lt;p&gt;\"+ moreData +\"&lt;/p&gt;\";\n  res.write(html);\n  res.end();\n};\n</code></pre>\n\n<p>...or if you want to be less verbose (and also add error catching)</p>\n\n<pre><code>//in a fiber\nfunction handleRequest(req, res) {\n  try {\n    res.writeHead(200, {'Content-Type': 'text/html'});\n    res.write(\n    \"&lt;h1&gt;Demo page&lt;/h1&gt;\" \n    + \"&lt;p&gt;\"+ wait.for(getSomeDate,client) +\"&lt;/p&gt;\"\n    + \"&lt;p&gt;\"+ wait.for(getSomeOtherDate,client) +\"&lt;/p&gt;\"\n    + \"&lt;p&gt;\"+ wait.for(getMoreData,client) +\"&lt;/p&gt;\"\n    );\n    res.end();\n  }\n  catch(err) {\n   res.end('error '+e.message); \n  }\n\n};\n</code></pre>\n\n<p>In all the cases, <em>getSomeDate</em>, <em>getSomeOtherDate</em> and <em>getMoreData</em> \nshould be standard async functions with the last parameter a <em>function callback(err,data)</em></p>\n\n<p>as in:</p>\n\n<pre><code>function getMoreData(client, callback){\n  db.execute('select moredata from thedata where client_id=?',[client.id],\n       ,function(err,data){\n          if (err) callback(err);\n          callback (null,data);\n        });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>After the others responded, you stated that your problem were local variables.  It seems an easy way to do this is to write one outer function to contain those local variables, then use a bunch of named inner functions and access them by name.  This way, you'll only ever nest two deep, regardless of how many functions you need to chain together.</p>\n\n<p>Here is my newbie's attempt at using the <code>mysql</code> Node.js module with nesting:</p>\n\n<pre><code>function with_connection(sql, bindings, cb) {\n    pool.getConnection(function(err, conn) {\n        if (err) {\n            console.log(\"Error in with_connection (getConnection): \" + JSON.stringify(err));\n            cb(true);\n            return;\n        }\n        conn.query(sql, bindings, function(err, results) {\n            if (err) {\n                console.log(\"Error in with_connection (query): \" + JSON.stringify(err));\n                cb(true);\n                return;\n            }\n            console.log(\"with_connection results: \" + JSON.stringify(results));\n            cb(false, results);\n        });\n    });\n}\n</code></pre>\n\n<p>The following is a rewrite using named inner functions.  The outer function <code>with_connection</code> can be used as a holder for local variables, too.  (Here, I've got the parameters <code>sql</code>, <code>bindings</code>, <code>cb</code> that act in a similar way, but you can just define some additional local variables in <code>with_connection</code>.)</p>\n\n<pre><code>function with_connection(sql, bindings, cb) {\n\n    function getConnectionCb(err, conn) {\n        if (err) {\n            console.log(\"Error in with_connection/getConnectionCb: \" + JSON.stringify(err));\n            cb(true);\n            return;\n        }\n        conn.query(sql, bindings, queryCb);\n    }\n\n    function queryCb(err, results) {\n        if (err) {\n            console.log(\"Error in with_connection/queryCb: \" + JSON.stringify(err));\n            cb(true);\n            return;\n        }\n        cb(false, results);\n    }\n\n    pool.getConnection(getConnectionCb);\n}\n</code></pre>\n\n<p>I had been thinking that perhaps it would be possible to make an object with instance variables, and to use these instance variables as a replacement for the local variables.  But now I find that the above approach using nested functions and local variables is simpler and easier to understand.  It takes some time to unlearn OO, it seems :-)</p>\n\n<p>So here is my previous version with an object and instance variables.</p>\n\n<pre><code>function DbConnection(sql, bindings, cb) {\n    this.sql = sql;\n    this.bindings = bindings;\n    this.cb = cb;\n}\nDbConnection.prototype.getConnection = function(err, conn) {\n    var self = this;\n    if (err) {\n        console.log(\"Error in DbConnection.getConnection: \" + JSON.stringify(err));\n        this.cb(true);\n        return;\n    }\n    conn.query(this.sql, this.bindings, function(err, results) { self.query(err, results); });\n}\nDbConnection.prototype.query = function(err, results) {\n    var self = this;\n    if (err) {\n        console.log(\"Error in DbConnection.query: \" + JSON.stringify(err));\n        self.cb(true);\n        return;\n    }\n    console.log(\"DbConnection results: \" + JSON.stringify(results));\n    self.cb(false, results);\n}\n\nfunction with_connection(sql, bindings, cb) {\n    var dbc = new DbConnection(sql, bindings, cb);\n    pool.getConnection(function (err, conn) { dbc.getConnection(err, conn); });\n}\n</code></pre>\n\n<p>It turns out that <code>bind</code> can be used to some advantage.  It allows me to get rid of the somewhat ugly anonymous functions I've created that didn't do anything much, except to forward themselves to a method call.  I couldn't pass the method directly because it would have been involved with the wrong value of <code>this</code>.  But with <code>bind</code>, I can specify the value of <code>this</code> that I want.</p>\n\n<pre><code>function DbConnection(sql, bindings, cb) {\n    this.sql = sql;\n    this.bindings = bindings;\n    this.cb = cb;\n}\nDbConnection.prototype.getConnection = function(err, conn) {\n    var f = this.query.bind(this);\n    if (err) {\n        console.log(\"Error in DbConnection.getConnection: \" + JSON.stringify(err));\n        this.cb(true);\n        return;\n    }\n    conn.query(this.sql, this.bindings, f);\n}\nDbConnection.prototype.query = function(err, results) {\n    if (err) {\n        console.log(\"Error in DbConnection.query: \" + JSON.stringify(err));\n        this.cb(true);\n        return;\n    }\n    console.log(\"DbConnection results: \" + JSON.stringify(results));\n    this.cb(false, results);\n}\n\n// Get a connection from the pool, execute `sql` in it\n// with the given `bindings`.  Invoke `cb(true)` on error,\n// invoke `cb(false, results)` on success.  Here,\n// `results` is an array of results from the query.\nfunction with_connection(sql, bindings, cb) {\n    var dbc = new DbConnection(sql, bindings, cb);\n    var f = dbc.getConnection.bind(dbc);\n    pool.getConnection(f);\n}\n</code></pre>\n\n<p>Of course, none of this is proper JS with Node.js coding -- I just spent a couple of hours on it.  But maybe with a little polishing this technique can help?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I like <a href=\"https://github.com/caolan/async\" rel=\"nofollow\">async.js</a> a lot for this purpose.</p>\n\n<p>The issue is solved by waterfall command:</p>\n\n<blockquote>\n  <p>waterfall(tasks, [callback])</p>\n  \n  <p>Runs an array of functions in series, each passing their results to the next in the array. However, if any of the functions pass an error to the callback, the next function is not executed and the main callback is immediately called with the error.</p>\n  \n  <p>Arguments</p>\n  \n  <p>tasks - An array of functions to run, each function is passed a callback(err, result1, result2, ...) it must call on completion. The first argument is an error (which can be null) and any further arguments will be passed as arguments in order to the next task.\n  callback(err, [results]) - An optional callback to run once all the functions have completed. This will be passed the results of the last task's callback.</p>\n</blockquote>\n\n<p>Example</p>\n\n<pre><code>async.waterfall([\n    function(callback){\n        callback(null, 'one', 'two');\n    },\n    function(arg1, arg2, callback){\n        callback(null, 'three');\n    },\n    function(arg1, callback){\n        // arg1 now equals 'three'\n        callback(null, 'done');\n    }\n], function (err, result) {\n    // result now equals 'done'    \n});\n</code></pre>\n\n<p>As for the req,res variables, they will be shared within the same scope as function(req,res){} which enclosed the whole async.waterfall call.</p>\n\n<p>Not only so, async is very clean. What I means is that I change a lot of cases like this:</p>\n\n<pre><code>function(o,cb){\n    function2(o,function(err, resp){\n        cb(err,resp);\n    })\n}\n</code></pre>\n\n<p>To first:</p>\n\n<pre><code>function(o,cb){\n    function2(o,cb);\n}\n</code></pre>\n\n<p>Then to this:</p>\n\n<pre><code>function2(o,cb);\n</code></pre>\n\n<p>Then to this:</p>\n\n<pre><code>async.waterfall([function2,function3,function4],optionalcb)\n</code></pre>\n\n<p>It also allows many premade functions prepared for async to be called from util.js very fast. Just chain up what you want to do, make sure o,cb is universally handled. This speeds up the whole coding process a lot.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>To solve this problem I wrote nodent (<a href=\"https://npmjs.org/package/nodent\" rel=\"nofollow\">https://npmjs.org/package/nodent</a>\u200e) which invisibly pre-processes your JS. Your example code would become (async, really - read the docs).</p>\n\n<pre><code>http.createServer(function (req, res) {\n  res.writeHead(200, {'Content-Type': 'text/html'});\n  var html = \"&lt;h1&gt;Demo page&lt;/h1&gt;\";\n  someData &lt;&lt;= getSomeDate(client) ;\n\n  html += \"&lt;p&gt;\"+ someData +\"&lt;/p&gt;\";\n  someOtherData &lt;&lt;= getSomeOtherDate(client) ;\n\n  html += \"&lt;p&gt;\"+ someOtherData +\"&lt;/p&gt;\";\n  moreData &lt;&lt;= getMoreData(client) ;\n\n  html += \"&lt;p&gt;\"+ moreData +\"&lt;/p&gt;\";\n  res.write(html);\n  res.end();\n});\n</code></pre>\n\n<p>Clearly, there are many other solutions, but pre-processing has the advantage of having little or no run-time overhead and thanks to source-map support it's easy to debug too.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>async.js works well for this. I came across this very useful article which explains the need and use of async.js with examples:   <a href=\"http://www.sebastianseilund.com/nodejs-async-in-practice\" rel=\"nofollow\">http://www.sebastianseilund.com/nodejs-async-in-practice</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you don't want to use \"step\" or \"seq\", please try \"line\" which is a simple function to reduce nested async callback.</p>\n\n<p><a href=\"https://github.com/kevin0571/node-line\" rel=\"nofollow\">https://github.com/kevin0571/node-line</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>C#-like asyncawait is another way of doing this</p>\n\n<p><a href=\"https://github.com/yortus/asyncawait\" rel=\"nofollow\">https://github.com/yortus/asyncawait</a></p>\n\n<pre><code>async(function(){\n\n    var foo = await(bar());\n    var foo2 = await(bar2());\n    var foo3 = await(bar2());\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to make a page that displays some data from a DB, so I have created some functions that get that data from my DB. I'm just a newbie in Node.js, so as far as I understand, if I want to use all of them in a single page (HTTP response) I'd have to nest them all:</p>\n\n<pre><code>http.createServer(function (req, res) {\n  res.writeHead(200, {'Content-Type': 'text/html'});\n  var html = \"&lt;h1&gt;Demo page&lt;/h1&gt;\";\n  getSomeDate(client, function(someData) {\n    html += \"&lt;p&gt;\"+ someData +\"&lt;/p&gt;\";\n    getSomeOtherDate(client, function(someOtherData) {\n      html += \"&lt;p&gt;\"+ someOtherData +\"&lt;/p&gt;\";\n      getMoreData(client, function(moreData) {\n        html += \"&lt;p&gt;\"+ moreData +\"&lt;/p&gt;\";\n        res.write(html);\n        res.end();\n      });\n    });\n  });\n</code></pre>\n\n<p>If there are many functions like that, then <strong>the nesting becomes a problem</strong>.</p>\n\n<p>Is there a way to avoid this? I guess it has to do with how you combine multiple asynchronous functions, which seems to be something fundamental.</p>\n",
            "last_activity_date": 1425398858,
            "question_id": 4234619,
            "score": 84,
            "tags": [
                "javascript",
                "asynchronous",
                "functional-programming",
                "node.js"
            ],
            "title": "How to avoid long nesting of asynchronous functions in Node.js"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I've seen that technique before, it's valid, you are using a function expression as if it were a <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function\">Constructor Function</a>.</p>\n\n<p>But IMHO, you can achieve the same with an auto-invoking function expression, I don't really see the point of using the <code>new</code> operator in that way:</p>\n\n<pre><code>var someObj = (function () {\n    var instance = {},\n        inner = 'some value';\n\n    instance.foo = 'blah';\n\n    instance.get_inner = function () {\n        return inner;\n    };\n\n    instance.set_inner = function (s) {\n        inner = s;\n    };\n\n    return instance;\n})();\n</code></pre>\n\n<p>The purpose of the <code>new</code> operator is to create new object instances, setting up the <code>[[Prototype]]</code> internal property, you can see how this is made by the <a href=\"http://bclary.com/2004/11/07/#a-13.2.2\"><code>[Construct]</code></a> internal property.</p>\n\n<p>The above code will produce an equivalent result.</p>\n",
                    "is_accepted": true,
                    "score": 45
                },
                {
                    "body": "<p>Your code is just similar to the less weird construct</p>\n\n<pre><code>function Foo () {\n    var inner = 'some value';\n    this.foo = 'blah';\n\n    ...\n};\nvar someObj = new Foo;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Like Crockford says, it's weird. See CMS's answer. But, to answer explicitly, what you are doing is fine, just weird. Please read the ECMAScript spec. The latest version is here: <a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\" rel=\"nofollow\">http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf</a> Yes, it's hard work, but it's worth the effort. It might be heavy going but it's not meant to be read cover-to-cover. Just pick out the bits you need and follow any cross-references. Each time you look at it it will become easier to understand.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>To clarify some aspects and make Douglas Crockford's JSLint not to complain about your code here are some examples of instantiation:</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>1. o = new Object(); // normal call of a constructor\n\n2. o = new Object;   // accepted call of a constructor\n\n3. var someObj = new (function () {  \n    var inner = 'some value';\n    this.foo = 'blah';\n\n    this.get_inner = function () {\n        return inner;\n    };\n\n    this.set_inner = function (s) {\n        inner = s;\n    };\n})(); // normal call of a constructor\n\n4. var someObj = new (function () {  \n    var inner = 'some value';\n    this.foo = 'blah';\n\n    this.get_inner = function () {\n        return inner;\n    };\n\n    this.set_inner = function (s) {\n        inner = s;\n    };\n}); // accepted call of a constructor\n</code></pre>\n\n<p>In example 3. expression in (...) as value is a function/constructor. It looks like this:\nnew (function (){...})(). So if we omit ending brackets as in example 2, the expression is still a valid constructor call and looks like example 4.</p>\n\n<p>Douglas Crockford's JSLint \"thinks\" you wanted to assign the function to someObj, not its instance. And after all it's just an warning, not an error.</p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>My colleague has been using \"new function()\" with a lower case \"f\" to define new objects in JavaScript.  It seems to work well in all major browsers and it also seems to be fairly effective at hiding private variables.  Here's an example:</p>\n\n<pre><code>    var someObj = new function () {\n        var inner = 'some value';\n        this.foo = 'blah';\n\n        this.get_inner = function () {\n            return inner;\n        };\n\n        this.set_inner = function (s) {\n            inner = s;\n        };\n    };\n</code></pre>\n\n<p>As soon as \"this\" is used, it becomes a public property of someObj.  So someObj.foo, someObj.get_inner() and someObj.set_inner() are all available publicly.  In addition, set_inner() and get_inner() are privileged methods, so they have access to \"inner\" through closures.</p>\n\n<p>However, I haven't seen any reference to this technique anywhere.  Even Douglas Crockford's JSLint complains about it:</p>\n\n<blockquote>\n  <ul>\n  <li>weird construction. Delete 'new'</li>\n  </ul>\n</blockquote>\n\n<p>We're using this technique in production and it seems to be working well, but I'm a bit anxious about it because it's not documented anywhere.  Does anyone know if this is a valid technique?</p>\n",
            "last_activity_date": 1389341255,
            "question_id": 2274695,
            "score": 79,
            "tags": [
                "javascript",
                "function",
                "object",
                "instantiation"
            ],
            "title": "`new function()` with lower case &quot;f&quot; in JavaScript"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>Append 'UTC' to the string before converting it to a date in javascript:</p>\n\n<pre><code>var date = new Date('6/29/2011 4:52:48 PM UTC');\ndate.toString() // \"Wed Jun 29 2011 09:52:48 GMT-0700 (PDT)\"\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 99
                },
                {
                    "body": "<p>You should get the (UTC) offset (in minutes) of the client:</p>\n\n<pre><code>var offset = new Date().getTimezoneOffset();\n</code></pre>\n\n<p>And then do the correspondent adding or substraction to the time you get from the server.  </p>\n\n<p>Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Put this function in your head:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction localize(t)\n{\n  var d=new Date(t+\" UTC\");\n  document.write(d.toString());\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Then generate the following for each date in the body of your page:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;localize(\"6/29/2011 4:52:48 PM\");&lt;/script&gt;\n</code></pre>\n\n<p>To remove the GMT and time zone, change the following line:</p>\n\n<pre><code>document.write(d.toString().replace(/GMT.*/g,\"\"));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 15
                },
                {
                    "body": "<p>To me the simplest seemed using</p>\n\n<pre><code>datetime.setUTCHours(datetime.getHours());\ndatetime.setUTCMinutes(datetime.getMinutes());\n</code></pre>\n\n<p>(i thought the first line could be enough but there are timezones which are off in fractions of hours)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is an universal solution:</p>\n\n<pre><code>function convertUTCDateToLocalDate(date) {\n    var newDate = new Date(date.getTime()+date.getTimezoneOffset()*60*1000);\n\n    var offset = date.getTimezoneOffset() / 60;\n    var hours = date.getHours();\n\n    newDate.setHours(hours - offset);\n\n    return newDate;   \n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>var date = convertUTCDateToLocalDate(new Date(date_string_you_received));\n</code></pre>\n\n<p>Display the date based on the client local setting:</p>\n\n<pre><code>date.toLocaleString();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 22
                },
                {
                    "body": "<h1>Use this for UTC and Local time convert and vice versa.</h1>\n\n<pre><code>//Covert datetime by GMT offset \n//If toUTC is true then return UTC time other wise return local time\nfunction convertLocalDateToUTCDate(date, toUTC) {\n    date = new Date(date);\n    //Local time converted to UTC\n    console.log(\"Time :\" + date);\n    var localOffset = date.getTimezoneOffset() * 60000;\n    var localTime = date.getTime();\n    if (toUTC)\n    {\n        date = localTime + localOffset;\n    }\n    else\n    {\n        date = localTime - localOffset;\n    }\n    date = new Date(date);\n    console.log(\"Converted time\" + date);\n    return date;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Matt's answer is missing the fact that the daylight savings time could be different between Date() and the date time it needs to convert - here is my solution:</p>\n\n<pre><code>    function ConvertUTCTimeToLocalTime(UTCDateString)\n    {\n        var convertdLocalTime = new Date(UTCDateString);\n\n        var hourOffset = convertdLocalTime.getTimezoneOffset() / 60;\n\n        convertdLocalTime.setHours( convertdLocalTime.getHours() + hourOffset ); \n\n        return convertdLocalTime;\n    }\n</code></pre>\n\n<p>And the results in the debugger:</p>\n\n<pre><code>UTCDateString: \"2014-02-26T00:00:00\"\nconvertdLocalTime: Wed Feb 26 2014 00:00:00 GMT-0800 (Pacific Standard Time)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In Angular I used Ben's answer this way: </p>\n\n<pre><code>    $scope.convert = function (thedate) {\n    var tempstr = thedate.toString();\n    var newstr = tempstr.toString().replace(/GMT.*/g, \"\")\n    newstr = newstr + \" UTC\";\n    return new Date(newstr);\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I Answering This If Any one want function that display converted time to specific id element and apply date format string yyyy-mm-dd\nhere date1 is string and ids is id of element that time going to display.</p>\n\n<pre><code>function convertUTCDateToLocalDate(date1, ids) \n{\n  var newDate = new Date();\n  var ary = date1.split(\" \");\n  var ary2 = ary[0].split(\"-\");\n  var ary1 = ary[1].split(\":\");\n  var month_short = Array('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec');\n  newDate.setUTCHours(parseInt(ary1[0]));\n  newDate.setUTCMinutes(ary1[1]);\n  newDate.setUTCSeconds(ary1[2]);\n  newDate.setUTCFullYear(ary2[0]);\n  newDate.setUTCMonth(ary2[1]);\n  newDate.setUTCDate(ary2[2]);\n  ids = document.getElementById(ids);\n  ids.innerHTML = \" \" + newDate.getDate() + \"-\" + month_short[newDate.getMonth() - 1] + \"-\" + newDate.getFullYear() + \" \" + newDate.getHours() + \":\" + newDate.getMinutes() + \":\" + newDate.getSeconds();\n            }\n</code></pre>\n\n<p>i know that answer has been already accepted but i get here cause of google and i did solve with getting inspiration from accepted answer so i did want to just share it if someone need.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>From the server I get a datetime variable in this format: <code>6/29/2011 4:52:48 PM</code> and it is in UTC time. I want to convert it to the current user's browser time using JavaScript.</p>\n\n<p>How this can be done using JavaScript or jQuery?</p>\n",
            "last_activity_date": 1425132547,
            "question_id": 6525538,
            "score": 69,
            "tags": [
                "javascript",
                "jquery",
                "datetime",
                "timezone",
                "utc"
            ],
            "title": "Convert UTC date time to local date time using JavaScript"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You can wrap all that complexity into a function to make a simple call that looks like this:</p>\n\n<pre><code>loadSequantially(['/a', '/a/b', 'a/b/c'], function() {alert('all loaded')});\n</code></pre>\n\n<p>Below is a rough sketch (working example, except the ajax call). This can be modified to use a queue-like structure instead of an array</p>\n\n<pre><code>  // load sequentially the given array of URLs and call 'funCallback' when all's done\n  function loadSequantially(arrUrls, funCallback) {\n     var idx = 0;\n\n     // callback function that is called when individual ajax call is done\n     // internally calls next ajax URL in the sequence, or if there aren't any left,\n     // calls the final user specified callback function\n     var individualLoadCallback = function()   {\n        if(++idx &gt;= arrUrls.length) {\n           doCallback(arrUrls, funCallback);\n        }else {\n           loadInternal();\n        }\n     };\n\n     // makes the ajax call\n     var loadInternal = function() {\n        if(arrUrls.length &gt; 0)  {\n           ajaxCall(arrUrls[idx], individualLoadCallback);\n        }else {\n           doCallback(arrUrls, funCallback);\n        }\n     };\n\n     loadInternal();\n  };\n\n  // dummy function replace with actual ajax call\n  function ajaxCall(url, funCallBack) {\n     alert(url)\n     funCallBack();\n  };\n\n  // final callback when everything's loaded\n  function doCallback(arrUrls, func)   {\n     try   {\n        func();\n     }catch(err) {\n        // handle errors\n     }\n  };\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I use <a href=\"http://developer.yahoo.com/yui/3/io/#queue\" rel=\"nofollow\">http://developer.yahoo.com/yui/3/io/#queue</a> to get that functionality. </p>\n\n<p>The only solutions I can come up with is, as you say, maintaining a list of pending calls / callbacks. Or nesting the next call in the previous callback, but that feels a bit messy. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Ideally, a coroutine with multiple entry points so every callback from server can call the same coroutine will be neat. Damn, this is about to be implemented in Javascript 1.7.</p>\n\n<p>Let me try using closure...</p>\n\n<pre><code>function BlockingAjaxCall (URL,arr,AjaxCall,OriginalCallBack)\n{    \n     var nextindex = function()\n     {\n         var i =0;\n         return function()\n         {\n             return i++;\n         }\n     };\n\n     var AjaxCallRecursive = function(){\n             var currentindex = nextindex();\n             AjaxCall\n             (\n                 URL,\n                 arr[currentindex],\n                 function()\n                 {\n                     OriginalCallBack();\n                     if (currentindex &lt; arr.length)\n                     {\n                         AjaxCallRecursive();\n                     }\n                 }\n             );\n     };\n     AjaxCallRecursive();    \n}\n// suppose you always call Ajax like AjaxCall(URL,element,callback) you will do it this way\nBlockingAjaxCall(URL,myArray,AjaxCall,CallBack);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<h2>jQuery 1.5+</h2>\n\n<p>I developed an <a href=\"http://gnarf.net/2011/06/21/jquery-ajaxqueue/\"><code>$.ajaxQueue()</code></a> plugin that uses the <a href=\"http://api.jquery.com/category/deferred-object/\"><code>$.Deferred</code></a>, <a href=\"http://api.jquery.com/queue\"><code>.queue()</code></a>, and <a href=\"http://api.jquery.com/jQuery.ajax\"><code>$.ajax()</code></a> to also pass back a <a href=\"http://api.jquery.com/Types/#Promise\">promise</a> that is resolved when the request completes.</p>\n\n<pre><code>/*\n* jQuery.ajaxQueue - A queue for ajax requests\n* \n* (c) 2011 Corey Frang\n* Dual licensed under the MIT and GPL licenses.\n*\n* Requires jQuery 1.5+\n*/ \n(function($) {\n\n// jQuery on an empty object, we are going to use this as our Queue\nvar ajaxQueue = $({});\n\n$.ajaxQueue = function( ajaxOpts ) {\n    var jqXHR,\n        dfd = $.Deferred(),\n        promise = dfd.promise();\n\n    // queue our ajax request\n    ajaxQueue.queue( doRequest );\n\n    // add the abort method\n    promise.abort = function( statusText ) {\n\n        // proxy abort to the jqXHR if it is active\n        if ( jqXHR ) {\n            return jqXHR.abort( statusText );\n        }\n\n        // if there wasn't already a jqXHR we need to remove from queue\n        var queue = ajaxQueue.queue(),\n            index = $.inArray( doRequest, queue );\n\n        if ( index &gt; -1 ) {\n            queue.splice( index, 1 );\n        }\n\n        // and then reject the deferred\n        dfd.rejectWith( ajaxOpts.context || ajaxOpts,\n            [ promise, statusText, \"\" ] );\n\n        return promise;\n    };\n\n    // run the actual query\n    function doRequest( next ) {\n        jqXHR = $.ajax( ajaxOpts )\n            .done( dfd.resolve )\n            .fail( dfd.reject )\n            .then( next, next );\n    }\n\n    return promise;\n};\n\n})(jQuery);\n</code></pre>\n\n<h2>jQuery 1.4</h2>\n\n<p>If you're using jQuery 1.4, you can utilize the animation queue on an empty object to create your own \"queue\" for your ajax requests for the elements.  </p>\n\n<p>You can even factor this into your own <code>$.ajax()</code> replacement.  This plugin <code>$.ajaxQueue()</code> uses the standard 'fx' queue for jQuery, which will auto-start the first added element if the queue isn't already running.</p>\n\n<pre><code>(function($) {\n  // jQuery on an empty object, we are going to use this as our Queue\n  var ajaxQueue = $({});\n\n  $.ajaxQueue = function(ajaxOpts) {\n    // hold the original complete function\n    var oldComplete = ajaxOpts.complete;\n\n    // queue our ajax request\n    ajaxQueue.queue(function(next) {\n\n      // create a complete callback to fire the next event in the queue\n      ajaxOpts.complete = function() {\n        // fire the original complete if it was there\n        if (oldComplete) oldComplete.apply(this, arguments);\n\n        next(); // run the next query in the queue\n      };\n\n      // run the query\n      $.ajax(ajaxOpts);\n    });\n  };\n\n})(jQuery);\n</code></pre>\n\n<h2>Example Usage</h2>\n\n<p>So, we have a <code>&lt;ul id=\"items\"&gt;</code> which has some <code>&lt;li&gt;</code> that we want to copy (using ajax!) to the <code>&lt;ul id=\"output\"&gt;</code></p>\n\n<pre><code>// get each item we want to copy\n$(\"#items li\").each(function(idx) {\n\n    // queue up an ajax request\n    $.ajaxQueue({\n        url: '/echo/html/',\n        data: {html : \"[\"+idx+\"] \"+$(this).html()},\n        type: 'POST',\n        success: function(data) {\n            // Write to #output\n            $(\"#output\").append($(\"&lt;li&gt;\", { html: data }));\n        }\n    });\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/1337/9TG8t/86/\">jsfiddle demonstration</a> - <a href=\"http://www.jsfiddle.net/Fwcbj/4/\">1.4 version</a></p>\n",
                    "is_accepted": true,
                    "score": 72
                },
                {
                    "body": "<p>Yeah, while the other answers will work, they are lots of code and messy looking. Frame.js was designed to elegantly address this situation.  <a href=\"https://github.com/bishopZ/Frame.js\" rel=\"nofollow\">https://github.com/bishopZ/Frame.js</a></p>\n\n<p>For instance, this will cause most browsers to hang:</p>\n\n<pre><code>for(var i=0; i&lt;1000; i++){\n    $.ajax('myserver.api', { data:i, type:'post' });\n}\n</code></pre>\n\n<p>While this will not:</p>\n\n<pre><code>for(var i=0; i&lt;1000; i++){\n    Frame(function(callback){\n        $.ajax('myserver.api', { data:i, type:'post', complete:callback });\n    });\n}\nFrame.start();\n</code></pre>\n\n<p>Also, using Frame allows you to waterfall the response objects and deal with them all after the entire series of AJAX request have completed (if you want to):</p>\n\n<pre><code>var listOfAjaxObjects = [ {}, {}, ... ]; // an array of objects for $.ajax\n$.each(listOfAjaxObjects, function(i, item){\n    Frame(function(nextFrame){ \n        item.complete = function(response){\n            // do stuff with this response or wait until end\n            nextFrame(response); // ajax response objects will waterfall to the next Frame()\n        $.ajax(item);\n    });\n});\nFrame(function(callback){ // runs after all the AJAX requests have returned\n    var ajaxResponses = [];\n    $.each(arguments, function(i, arg){\n        if(i!==0){ // the first argument is always the callback function\n            ajaxResponses.push(arg);\n        }\n    });\n    // do stuff with the responses from your AJAX requests\n    // if an AJAX request returned an error, the error object will be present in place of the response object\n    callback();\n});\nFrame.start()\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>A quick and small solution using deferred promises. Although this uses jQuery's <code>$.Deferred</code>, any other should do.</p>\n\n<pre><code>var Queue = function () {\n    var previous = new $.Deferred().resolve();\n\n    return function (fn, fail) {\n        return previous = previous.then(fn, fail || fn);\n    };\n};\n</code></pre>\n\n<p>Usage, call to create new queues:</p>\n\n<pre><code>var queue = Queue();\n\n// Queue empty, will start immediately\nqueue(function () {\n    return $.get('/first');\n});\n\n// Will begin when the first has finished\nqueue(function() {\n    return $.get('/second');\n});\n</code></pre>\n\n<p>See <a href=\"http://jsfiddle.net/p4zjH/1/\" rel=\"nofollow\">the example</a> with a side-by-side comparison of asynchronous requests.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I find I sometimes need to iterate some collection and make an ajax call for each element. I want each call to return before moving to the next element so that I don't blast the server with requests - which often leads to other issues. And I don't want to set async to false and freeze the browser.</p>\n\n<p>Usually this involves setting up some kind of iterator context that i step thru upon each success callback. I think there must be a cleaner simpler way?</p>\n\n<p>Does anyone have a clever design pattern for how to neatly work thru a collection making ajax calls for each item?</p>\n",
            "last_activity_date": 1387289669,
            "question_id": 3034874,
            "score": 41,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "design-patterns",
                "queue"
            ],
            "title": "Sequencing ajax requests"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>You need <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element.scrollHeight\" rel=\"nofollow\">element.scrollHeight</a>. Compare it with <code>$(element).height()</code>.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>a little plugin for it.</p>\n\n<pre><code>(function($) {\n    $.fn.hasScrollBar = function() {\n        return this.get(0).scrollHeight &gt; this.height();\n    }\n})(jQuery);\n</code></pre>\n\n<p>use it like this, </p>\n\n<pre><code>$('#my_div1').hasScrollBar(); // returns true if there's a `vertical` scrollbar, false otherwise..\n</code></pre>\n\n<p>tested working on Firefox, Chrome, IE6,7,8</p>\n\n<p>but not working properly on <code>body</code> tag selector</p>\n\n<h1><a href=\"http://jsfiddle.net/reigel/p3FFL/\">demo</a></h1>\n\n<hr>\n\n<p>Edit</p>\n\n<p>I found out that when you have horizontal scrollbar that causes vertical scrollbar to appear, this function does not work....</p>\n\n<p>I found out another solution... use <code>clientHeight</code></p>\n\n<pre><code>return this.get(0).scrollHeight &gt; this.get(0).clientHeight;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 153
                },
                {
                    "body": "<p>Maybe a more simple solution.</p>\n\n<pre><code>if ($(document).height() &gt; $(window).height()) {\n    // scrollbar\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 20
                },
                {
                    "body": "<p>I should change a little thing of what Reigel said:</p>\n\n<pre><code>(function($) {\n    $.fn.hasScrollBar = function() {\n        return this.get(0) ? this.get(0).scrollHeight &gt; this.innerHeight() : false;\n    }\n})(jQuery);\n</code></pre>\n\n<p>innerHeight counts control's height and its top and bottom paddings</p>\n",
                    "is_accepted": false,
                    "score": 26
                },
                {
                    "body": "<p>The first solution above works only in IE\nThe second solution above works only in FF</p>\n\n<p>This combination of both functions works in both browsers:</p>\n\n<pre><code>//Firefox Only!!\nif ($(document).height() &gt; $(window).height()) {\n    // has scrollbar\n    $(\"#mtc\").addClass(\"AdjustOverflowWidth\");\n    alert('scrollbar present - Firefox');\n} else {\n    $(\"#mtc\").removeClass(\"AdjustOverflowWidth\");\n}\n\n//Internet Explorer Only!!\n(function($) {\n    $.fn.hasScrollBar = function() {\n        return this.get(0).scrollHeight &gt; this.innerHeight();\n    }\n})(jQuery);\nif ($('#monitorWidth1').hasScrollBar()) {\n    // has scrollbar\n    $(\"#mtc\").addClass(\"AdjustOverflowWidth\");\n    alert('scrollbar present - Internet Exploder');\n} else {\n    $(\"#mtc\").removeClass(\"AdjustOverflowWidth\");\n}\u200b\n</code></pre>\n\n<ul>\n<li>Wrap in a document ready</li>\n<li>monitorWidth1 : the div where the overflow is set to auto</li>\n<li>mtc : a container div inside monitorWidth1</li>\n<li>AdjustOverflowWidth : a css class applied to the #mtc div when the Scrollbar is active\n*Use the alert to test cross browser, and then comment out for final production code.</li>\n</ul>\n\n<p>HTH</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I made a new custom :pseudo selector for jQuery to test whether an item has one of the following css properties: </p>\n\n<ol>\n<li>overflow: [scroll|auto]</li>\n<li>overflow-x: [scroll|auto]</li>\n<li>overflow-y: [scroll|auto]</li>\n</ol>\n\n<p>I wanted to find the closest scrollable parent of another element so I also wrote another little jQuery plugin to find the closest parent with overflow.</p>\n\n<p>This solution probably doesn't perform the best, but it does appear to work. I used it in conjunction with the $.scrollTo plugin. Sometimes I need to know whether an element is inside another scrollable container. In that case I want to scroll the parent scrollable element vs the window.</p>\n\n<p>I probably should have wrapped this up in a single plugin and added the psuedo selector as a part of the plugin, as well as exposing a 'closest' method to find the closest (parent) scrollable container.</p>\n\n<p>Anywho....here it is.</p>\n\n<p><strong>$.isScrollable jQuery plugin:</strong></p>\n\n<pre><code>$.fn.isScrollable = function(){\n    var elem = $(this);\n    return (\n    elem.css('overflow') == 'scroll'\n        || elem.css('overflow') == 'auto'\n        || elem.css('overflow-x') == 'scroll'\n        || elem.css('overflow-x') == 'auto'\n        || elem.css('overflow-y') == 'scroll'\n        || elem.css('overflow-y') == 'auto'\n    );\n};\n</code></pre>\n\n<p><strong>$(':scrollable') jQuery pseudo selector:</strong></p>\n\n<pre><code>$.expr[\":\"].scrollable = function(a) {\n    var elem = $(a);\n    return elem.isScrollable();\n};\n</code></pre>\n\n<p><strong>$.scrollableparent() jQuery plugin:</strong></p>\n\n<pre><code>$.fn.scrollableparent = function(){\n    return $(this).closest(':scrollable') || $(window); //default to $('html') instead?\n};\n</code></pre>\n\n<p>Implementation is pretty simple</p>\n\n<pre><code>//does a specific element have overflow scroll?\nvar somedivIsScrollable = $(this).isScrollable();\n//use :scrollable psuedo selector to find a collection of child scrollable elements\nvar scrollableChildren = $(this).find(':scrollable');\n//use $.scrollableparent to find closest scrollable container\nvar scrollableparent = $(this).scrollableparent();\n</code></pre>\n\n<p><strong>UPDATE:</strong> I found that Robert Koritnik already came up with a much more powerful :scrollable pseudo selector that will identify the scrollable axes and height of scrollable containers, as a part of his $.scrollintoview() jQuery plugin. <a href=\"http://erraticdev.blogspot.com/2011/02/jquery-scroll-into-view-plugin-with.html\" rel=\"nofollow\">scrollintoview plugin</a></p>\n\n<p><strong>Here is his fancy pseudo selector (props):</strong></p>\n\n<pre><code>    $.extend($.expr[\":\"], {\n\n    scrollable: function (element, index, meta, stack) {\n\n        var direction = converter[typeof (meta[3]) === \"string\" &amp;&amp; meta[3].toLowerCase()] || converter.both;\n\n        var styles = (document.defaultView &amp;&amp; document.defaultView.getComputedStyle ? document.defaultView.getComputedStyle(element, null) : element.currentStyle);\n\n        var overflow = {\n\n            x: scrollValue[styles.overflowX.toLowerCase()] || false,\n\n            y: scrollValue[styles.overflowY.toLowerCase()] || false,\n\n            isRoot: rootrx.test(element.nodeName)\n\n        };\n\n\n\n        // check if completely unscrollable (exclude HTML element because it's special)\n\n        if (!overflow.x &amp;&amp; !overflow.y &amp;&amp; !overflow.isRoot)\n\n        {\n\n            return false;\n\n        }\n\n\n\n        var size = {\n\n            height: {\n\n                scroll: element.scrollHeight,\n\n                client: element.clientHeight\n\n            },\n\n            width: {\n\n                scroll: element.scrollWidth,\n\n                client: element.clientWidth\n\n            },\n\n            // check overflow.x/y because iPad (and possibly other tablets) don't dislay scrollbars\n\n            scrollableX: function () {\n\n                return (overflow.x || overflow.isRoot) &amp;&amp; this.width.scroll &gt; this.width.client;\n\n            },\n\n            scrollableY: function () {\n\n                return (overflow.y || overflow.isRoot) &amp;&amp; this.height.scroll &gt; this.height.client;\n\n            }\n\n        };\n\n        return direction.y &amp;&amp; size.scrollableY() || direction.x &amp;&amp; size.scrollableX();\n\n    }\n\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This expands on @Reigel's answer. It will return an answer for horizontal or vertical scrollbars.</p>\n\n<pre><code>(function($) {\n    $.fn.hasScrollBar = function() {\n        var hasScrollBar = {}, e = this.get(0);\n        hasScrollBar.vertical = (e.scrollHeight &gt; e.clientHeight) ? true : false;\n        hasScrollBar.horizontal = (e.scrollWidth &gt; e.clientWidth) ? true : false;\n        return hasScrollBar;\n    }\n})(jQuery);\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>element.hasScrollBar()             // Returns { vertical: true/false, horizontal: true/false }\nelement.hasScrollBar().vertical    // Returns true/false\nelement.hasScrollBar().horizontal  // Returns true/false\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Is it possible to check the <code>overflow:auto</code> of a div?</p>\n\n<p><em>For example:</em></p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div id=\"my_div\" style=\"width: 100px; height:100px; overflow:auto;\" class=\"my_class\"&gt; \n  * content\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>JQUERY</strong></p>\n\n<pre><code>$('.my_class').live('hover', function (event)\n{\n    if (event.type == 'mouseenter')\n    {\n         if( ...  if scrollbar visible ? ... )\n         {\n            alert('true'):\n         }\n         else\n         {\n            alert('false'):\n         }\n    }\n\n});\n</code></pre>\n\n<p>Sometimes is the content short (no scrollbar) and sometimes long (scrollbar visible).</p>\n",
            "last_activity_date": 1416362178,
            "question_id": 4814398,
            "score": 97,
            "tags": [
                "javascript",
                "jquery",
                "scroll",
                "overflow"
            ],
            "title": "How can I check if a scrollbar is visible?"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>You probably want to use something like jQuery, which makes JS programming easier.</p>\n\n<p>Something like:</p>\n\n<pre><code>$(document).ready(function(){\n   // Your code here\n});\n</code></pre>\n\n<p>Would seem to do what you are after.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>If you actually want this code to run at <em>load</em>, not at domready (ie you need the images to be loaded as well), then unfortunately the ready function doesn't do it for you.  I generally just do something like this:</p>\n\n<p>Include in document javascript (ie always called before onload fired):</p>\n\n<pre><code>var pageisloaded=0;\nwindow.addEvent('load',function(){\n pageisloaded=1;\n});\n</code></pre>\n\n<p>Then your code:</p>\n\n<pre><code>if (pageisloaded) {\n DoStuffFunction();\n} else {\n window.addEvent('load',DoStuffFunction);\n}\n</code></pre>\n\n<p>(Or the equivalent in your framework of preference.)  I use this code to do precaching of javascript and images for future pages.  Since the stuff I'm getting isn't used for this page at all, I don't want it to take precedence over the speedy download of images.</p>\n\n<p>There may be a better way, but I've yet to find it.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>No need for a library. jQuery used this script for a while, btw.</p>\n\n<p><a href=\"http://dean.edwards.name/weblog/2006/06/again/\">http://dean.edwards.name/weblog/2006/06/again/</a></p>\n\n<pre><code>// Dean Edwards/Matthias Miller/John Resig\n\nfunction init() {\n  // quit if this function has already been called\n  if (arguments.callee.done) return;\n\n  // flag this function so we don't do the same thing twice\n  arguments.callee.done = true;\n\n  // kill the timer\n  if (_timer) clearInterval(_timer);\n\n  // do stuff\n};\n\n/* for Mozilla/Opera9 */\nif (document.addEventListener) {\n  document.addEventListener(\"DOMContentLoaded\", init, false);\n}\n\n/* for Internet Explorer */\n/*@cc_on @*/\n/*@if (@_win32)\n  document.write(\"&lt;script id=__ie_onload defer src=javascript:void(0)&gt;&lt;\\/script&gt;\");\n  var script = document.getElementById(\"__ie_onload\");\n  script.onreadystatechange = function() {\n    if (this.readyState == \"complete\") {\n      init(); // call the onload handler\n    }\n  };\n/*@end @*/\n\n/* for Safari */\nif (/WebKit/i.test(navigator.userAgent)) { // sniff\n  var _timer = setInterval(function() {\n    if (/loaded|complete/.test(document.readyState)) {\n      init(); // call the onload handler\n    }\n  }, 10);\n}\n\n/* for other browsers */\nwindow.onload = init;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 23
                },
                {
                    "body": "<pre><code>if(document.loaded) {\n    DoStuffFunction();\n} else {\n    if (window.addEventListener) {  \n        window.addEventListener('load', DoStuffFunction, false);\n    } else {\n        window.attachEvent('onload', DoStuffFunction);\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>There's no need for all the code mentioned by galambalazs. The cross-browser way to do it in pure JavaScript is simply to test <code>document.readyState</code>:</p>\n\n<pre><code>if (document.readyState === \"complete\") { init(); }\n</code></pre>\n\n<p>This is also how jQuery does it.</p>\n\n<p>Depending on where the JavaScript is loaded, this can be done inside an interval:</p>\n\n<pre><code>var readyStateCheckInterval = setInterval(function() {\n    if (document.readyState === \"complete\") {\n        clearInterval(readyStateCheckInterval);\n        init();\n    }\n}, 10);\n</code></pre>\n\n<p>In fact, <code>document.readyState</code> can have three states:</p>\n\n<blockquote>\n  <p>Returns \"loading\" while the document is loading, \"interactive\" once it is finished parsing but still loading sub-resources, and \"complete\" once it has loaded. \n  -- <a href=\"https://developer.mozilla.org/en-US/docs/DOM/document.readyState\">document.readyState at Mozilla Developer Network</a></p>\n</blockquote>\n\n<p>So if you only need the DOM to be ready, check for <code>document.readyState === \"interactive\"</code>. If you need the whole page to be ready, including images, check for <code>document.readyState === \"complete\"</code>.</p>\n",
                    "is_accepted": false,
                    "score": 157
                },
                {
                    "body": "<p>The above one with JQuery is the easiest and mostly used way. However you can use pure javascript but try to define this script in the head so that it is read at the beginning. What you are looking for is window.onload event.</p>\n\n<p>Below is a simple script that I created to run a counter. The counter then stops after 10 itrations </p>\n\n<pre><code>        window.onload=function()\n        {\n            var counter = 0;\n            var interval1 = setInterval(function()\n                            { \n                                document.getElementById(\"div1\").textContent=counter;\n                                counter++; \n                                if(counter==10)\n                                {\n                                    clearInterval(interval1);\n                                }\n                            },1000);\n\n        }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I have other solution, my application need to be started when new object of MyApp is created, so it looks like:</p>\n\n<pre><code>function MyApp(objId){\n     this.init=function(){\n        //.........\n     }\n     this.run=function(){\n          if(!document || !document.body || !window[objId]){\n              window.setTimeout(objId+\".run();\",100);\n              return;\n          }\n          this.init();\n     };\n     this.run();\n}\n//and i am starting it \nvar app=new MyApp('app');\n</code></pre>\n\n<p>it is working on all browsers, that i know.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>var body = document.getElementsByTagName('BODY')[0];\n// CONDITION DOES NOT WORK\nif ((body &amp;&amp; body.readyState == 'loaded') || (body &amp;&amp;  body.readyState == 'complete') ) {\n    DoStuffFunction();\n} else {\n    // CODE BELOW WORKS\n    if (window.addEventListener) {\n        window.addEventListener('load', DoStuffFunction, false);\n    } else {\n        window.attachEvent('onload',DoStuffFunction);\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Mozila Firefox says that <code>onreadystatechange</code> is an alternative to <code>DOMContentLoaded</code>.</p>\n\n<pre><code>// alternative to DOMContentLoaded\ndocument.onreadystatechange = function () {\n    if (document.readyState == \"complete\") {\n        initApplication();\n    }\n}\n</code></pre>\n\n<p>In <code>DOMContentLoaded</code> the Mozila's doc says:</p>\n\n<blockquote>\n  <p>The DOMContentLoaded event is fired when the document has been\n  completely loaded and parsed, without waiting for stylesheets, images,\n  and subframes to finish loading (the load event can be used to detect\n  a fully-loaded page).</p>\n</blockquote>\n\n<p>I think <code>load</code> event should be used for a full document+resources loading.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to call a function after a document loads, but the document may or may not have finished loading yet.  If it did load, then I can just call the function. If it did NOT load, then I can attach an event listener. I can't add an eventlistener after onload has already fired since it won't get called.  So how can I check if the document has loaded?  I tried the code below but it doesn't entirely work.  Any ideas?</p>\n\n<pre>\nvar body = document.getElementsByTagName('BODY')[0];\n// CONDITION DOES NOT WORK\nif(body && body.readyState == 'loaded') {\n    DoStuffFunction();\n} else {\n    // CODE BELOW WORKS\n    if (window.addEventListener) {  \n        window.addEventListener('load', DoStuffFunction, false);\n    } else {\n        window.attachEvent('onload', DoStuffFunction);\n    }\n}\n</pre>\n",
            "last_activity_date": 1421761858,
            "question_id": 978740,
            "score": 95,
            "tags": [
                "javascript",
                "onload",
                "addeventlistener"
            ],
            "title": "Javascript - How to detect if document has loaded (IE 7/Firefox 3)"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Javascript does not have access to an image's individual pixel color data. At least, not maybe until html5 ... at which point it stands to reason that you'll be able to draw an image to a canvas, and then inspect the canvas (maybe, I've never done it myself).</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I would say via the HTML canvas tag.</p>\n\n<p>You can find <a href=\"http://stackoverflow.com/questions/667045/getpixel-from-html-canvas\">here</a> a post by @Georg talking about a small code by the Opera dev : </p>\n\n<pre><code>// Get the CanvasPixelArray from the given coordinates and dimensions.\nvar imgd = context.getImageData(x, y, width, height);\nvar pix = imgd.data;\n\n// Loop over each pixel and invert the color.\nfor (var i = 0, n = pix.length; i &lt; n; i += 4) {\n    pix[i  ] = 255 - pix[i  ]; // red\n    pix[i+1] = 255 - pix[i+1]; // green\n    pix[i+2] = 255 - pix[i+2]; // blue\n    // i+3 is alpha (the fourth element)\n}\n\n// Draw the ImageData at the given (x,y) coordinates.\ncontext.putImageData(imgd, x, y);\n</code></pre>\n\n<p>This invert the image by using the R, G and B value of each pixel. You could easily store the RGB values, then round up the Red, Green and Blue arrays, and finally converting them back into an HEX code.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>AFAIK, the only way to do this is with <code>&lt;canvas/&gt;</code>...</p>\n\n<p><strong>DEMO</strong>: <a href=\"http://jsfiddle.net/xLF38/\">http://jsfiddle.net/xLF38/</a></p>\n\n<p>Note, this will only work with images on the same domain and in browsers that support HTML5 canvas:</p>\n\n<pre><code>function getAverageRGB(imgEl) {\n\n    var blockSize = 5, // only visit every 5 pixels\n        defaultRGB = {r:0,g:0,b:0}, // for non-supporting envs\n        canvas = document.createElement('canvas'),\n        context = canvas.getContext &amp;&amp; canvas.getContext('2d'),\n        data, width, height,\n        i = -4,\n        length,\n        rgb = {r:0,g:0,b:0},\n        count = 0;\n\n    if (!context) {\n        return defaultRGB;\n    }\n\n    height = canvas.height = imgEl.naturalHeight || imgEl.offsetHeight || imgEl.height;\n    width = canvas.width = imgEl.naturalWidth || imgEl.offsetWidth || imgEl.width;\n\n    context.drawImage(imgEl, 0, 0);\n\n    try {\n        data = context.getImageData(0, 0, width, height);\n    } catch(e) {\n        /* security error, img on diff domain */\n        return defaultRGB;\n    }\n\n    length = data.data.length;\n\n    while ( (i += blockSize * 4) &lt; length ) {\n        ++count;\n        rgb.r += data.data[i];\n        rgb.g += data.data[i+1];\n        rgb.b += data.data[i+2];\n    }\n\n    // ~~ used to floor values\n    rgb.r = ~~(rgb.r/count);\n    rgb.g = ~~(rgb.g/count);\n    rgb.b = ~~(rgb.b/count);\n\n    return rgb;\n\n}\n</code></pre>\n\n<p>For IE, check out <a href=\"http://excanvas.sourceforge.net/\">excanvas</a>.</p>\n",
                    "is_accepted": true,
                    "score": 52
                },
                {
                    "body": "<p>First: it can be done without HTML5 Canvas or SVG.<br>\nActually, someone just managed to <a href=\"http://www.xarg.org/2010/03/generate-client-side-png-files-using-javascript/\">generate client-side PNG files using JavaScript</a>, <em>without</em> canvas or SVG, using the <a href=\"http://en.wikipedia.org/wiki/Data_URI_scheme\">data URI scheme</a>.</p>\n\n<p>Second: you might actually not need Canvas, SVG or any of the above at all.<br>\nIf you only need to <em>process</em> images on the client side, <em>without</em> modifying them, all this is not needed. </p>\n\n<p>You can get the source address from the img tag on the page, make an <a href=\"http://en.wikipedia.org/wiki/XHR\">XHR</a> request for it - it will most probably come from the browser cache - and process it as a byte stream from Javascript.<br>\nYou will need a good understanding of the image format. (The above generator is partially based on libpng sources and might provide a good starting point.)</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>\"Dominant Color\" is tricky. What you want to do is compare the distance between each pixel and every other pixel in color space (Euclidean Distance), and then find the pixel whose color is closest to every other color. That pixel is the dominant color. The average color will usually be mud.</p>\n\n<p>I wish I had MathML in here to show you Euclidean Distance. Google it.</p>\n\n<p>I have accomplished the above execution in RGB color space using PHP/GD here: <a href=\"https://gist.github.com/cf23f8bddb307ad4abd8\">https://gist.github.com/cf23f8bddb307ad4abd8</a></p>\n\n<p>This however is very computationally expensive. It will crash your system on large images, and will definitely crash your browser if you try it in the client. I have been working on refactoring my execution to:\n  - store results in a lookup table for future use in the iteration over each pixel.\n  - to divide large images into grids of 20px 20px for localized dominance.\n  - to use the euclidean distance between x1y1 and x1y2 to figure out the distance between x1y1 and x1y3.</p>\n\n<p>Please let me know if you make progress on this front. I would be happy to see it. I will do the same.</p>\n\n<p>Canvas is definitely the best way to do this in the client. SVG is not, SVG is vector based. After I get the execution down, the next thing I want to do is get this running in the canvas (maybe with a webworker for each pixel's overall distance calculation).</p>\n\n<p>Another thing to think about is that RGB is not a good color space for doing this in, because the euclidean distance between colors in RGB space is not very close to the visual distance. A better color space for doing this might be LUV,  but I have not found a good library for this, or any algorythims for converting RGB to LUV.</p>\n\n<p>An entirely different approach would be to sort your colors in a rainbow, and build a histogram with tolerance to account for varying shades of a color. I have not tried this, because sorting colors in a rainbow is hard, and so are color histograms. I might try this next. Again, let me know if you make any progress here.</p>\n",
                    "is_accepted": false,
                    "score": 34
                },
                {
                    "body": "<p>Figured I'd post a project I recently came across to get dominant color:</p>\n\n<p><strong><a href=\"https://github.com/lokesh/color-thief\">Color Thief</a></strong></p>\n\n<blockquote>\n  <p>A script for grabbing the dominant color or a representative color palette from an image. Uses javascript and canvas.</p>\n</blockquote>\n\n<p>The other solutions mentioning and suggesting dominant color never really answer the question in proper context (\"in javascript\"). Hopefully this project will help those who want to do just that.</p>\n",
                    "is_accepted": false,
                    "score": 35
                }
            ],
            "body": "<p>Not sure this is possible, but Looking to write a script that would return the average hex or rgb value for an image.  I know it can be done in AS but looking to do it in JavaScript.  </p>\n",
            "last_activity_date": 1323248626,
            "question_id": 2541481,
            "score": 41,
            "tags": [
                "javascript",
                "image-manipulation"
            ],
            "title": "get average color of image via javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I'm with you in using Crockford's style.</p>\n\n<p>To answer your questions</p>\n\n<p>1.Is there a particular advantage to encapsulating an object like this?</p>\n\n<p>The only advantage I can see is by making window and document local variables instead of global variables, you get some added safety by not being able to directly overwrite either one and also some performance gain by them both being local.</p>\n\n<p>2.Why are window and document being fed in instead of just being accessed normally?</p>\n\n<p>Addressed above. Local variables tend to be faster, but with jit compiling these days thats becoming nominal.</p>\n\n<p>3.Why the heck is undefined being passed in?</p>\n\n<p>No clue....</p>\n\n<p>4.Is attaching the object we're creating directly to window a particularly good idea? </p>\n\n<p>Probably not, but I would still stick with Crockford's pattern as attaching the function to the window object exposes it to the rest of the global stack through the window object as opposed to exposing it through a non-standard namespace.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think this is mostly for code that needs to run in multiple window contexts. Say you have a complex application with lots of iframes and/or child windows. They all need to run the code in MyObject, but you only want to load it once. So you load it in whatever window/frame you choose, but you create a MyObject for each window/frame with references to the proper window and document.</p>\n\n<p>Taking an undefined argument is trying to protect against the fact that undefined can be changed:</p>\n\n<pre><code>undefined = 3;\nalert(undefined);\n</code></pre>\n\n<p>See CMS's answer about how this improves safety.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<blockquote>\n  <p>Why are window and document being fed in instead of just being accessed normally?</p>\n</blockquote>\n\n<p>Generally to fasten the identifier resolution process, having them as local variables can help (although IMO the performance improvements may be negligible).</p>\n\n<p>Passing the global object is also a widely used technique on non-browser environments, where you don't have a <code>window</code> identifier at the global scope, e.g.:</p>\n\n<pre><code>(function (global) {\n  //..\n})(this); // this on the global execution context is \n          // the global object itself\n</code></pre>\n\n<blockquote>\n  <p>Why the heck is undefined being passed in?</p>\n</blockquote>\n\n<p>This is made because the <code>undefined</code> global property in ECMAScript 3, is mutable, meaning that someone could change its value affecting your code, for example:</p>\n\n<pre><code>undefined = true; // mutable\n(function (undefined) {\n  alert(typeof undefined); // \"undefined\", the local identifier\n})(); // &lt;-- no value passed, undefined by default\n</code></pre>\n\n<p>If you look carefully <code>undefined</code> is actually not being passed (there's no argument on the function call), that's one of the reliable ways to get the <code>undefined</code> value, without using the property <code>window.undefined</code>.</p>\n\n<p>The name <code>undefined</code> in JavaScript doesn't mean anything special, is not a keyword like <code>true</code>, <code>false</code>, etc..., it's just an identifier.</p>\n\n<p>Just for the record, in ECMAScript 5, this property was made non-writable...</p>\n\n<blockquote>\n  <p>Is attaching the object we're creating directly to window a particularly good idea?</p>\n</blockquote>\n\n<p>It's a common way used to declare global properties when you are on another function scope.</p>\n",
                    "is_accepted": true,
                    "score": 32
                },
                {
                    "body": "<p>This particular style does bring some benefits over the \"Crockford\" style.  Primarily, passing <code>window</code> and <code>document</code> allows the script to be more efficiently minified.  A minifier can rename those parameters to single-character names, saving 5 and 7 bytes respectively per reference.  This can add up: jQuery references <code>window</code> 33 times and <code>document</code> 91 times.  Minifying each token down to one character saves 802 bytes.</p>\n\n<p>Additionally, you <em>do</em> get an execution speed benefit.  When I first read <a href=\"http://stackoverflow.com/questions/5020479/what-advantages-does-using-functionwindow-document-undefined-window/5020596#5020596\">@joekarl</a>'s assertion that it provides a performance benefit, I thought, \"that seems rather spurious.\"  So I profiled the actual performance with a <a href=\"http://jsfiddle.net/josh3736/XRCtC/\">test page</a>.  Referencing <code>window</code> <strong>one hundred million</strong> times, the local variable reference provides a modest 20% speed increase (4200 ms to 3400ms) in Firefox 3.6 and a shocking 31,000% increase (13 sec to 400ms) in Chrome 9.</p>\n\n<p>Of course, you're never going to reference <code>window</code> 100,000,000 times in practice, and even 10,000 direct references only take 1ms in Chrome, so the actual performance gain here is almost completely negligible.</p>\n\n<blockquote>\n  <p>Why the heck is <code>undefined</code> being passed in?</p>\n</blockquote>\n\n<p>Because (as mentioned by <a href=\"http://stackoverflow.com/questions/5020479/what-advantages-does-using-functionwindow-document-undefined-window/5020687#5020687\">@CMS</a>) the <a href=\"http://stackoverflow.com/questions/4225968/json-parse-error-using-jquery-parsejson/4226440#4226440\">token <code>undefined</code> is actually undefined</a>.  Unlike <code>null</code>, it has no special meaning, and you're free to assign to this identifier like any other variable name.  (Note, however, that this is <a href=\"http://msmvps.com/blogs/luisabreu/archive/2011/01/03/undefined-and-nan-changes-are-no-longer-permitted-in-ecmascript-5.aspx\">no longer true in ECMAScript 5</a>.)</p>\n\n<blockquote>\n  <p>Is attaching the object we're creating directly to window a particularly good idea?</p>\n</blockquote>\n\n<p>The <code>window</code> object is the global scope, so that's exactly what you're doing at some point, whether or not you explictly write \"window.\"  <code>window.Namespace = {};</code> and <code>Namespace = {};</code> are equivalent.</p>\n",
                    "is_accepted": false,
                    "score": 22
                }
            ],
            "body": "<p>I guess using this pattern is the new hotness, but I don't understand what the advantage is and I don't understand the scoping implications.</p>\n\n<p>The pattern:  </p>\n\n<pre><code>(function(window, document, undefined){\n  window.MyObject = {\n    methodA: function() { ... },\n    methodB: function() { ... }\n  };\n})(window, document)\n</code></pre>\n\n<p>So I have several questions about this.</p>\n\n<p>Is there a particular advantage to encapsulating an object like this?<br>\nWhy are <em>window</em> and <em>document</em> being fed in instead of just being accessed normally?<br>\nWhy the heck is <code>undefined</code> being passed in?<br>\nIs attaching the object we're creating directly to window a particularly good idea?  </p>\n\n<p>I'm used to what I'll call the Crockford style of Javascript encapsulation (because I got it off the Douglas Crockford Javascript videos).</p>\n\n<pre><code>NameSpace.MyObject = function() {\n  // Private methods\n  // These methods are available in the closure\n  // but are not exposed outside the object we'll be returning.\n  var methodA = function() { ... };\n\n  // Public methods\n  // We return an object that uses our private functions,\n  // but only exposes the interface we want to be available.\n  return {\n\n    methodB: function() {\n      var a = methodA();\n    },\n    methodC: function() { ... }\n\n  }\n// Note that we're executing the function here.\n}();\n</code></pre>\n\n<p>Is one of these patterns functionally better than the other? Is the first one an evolution of the other?</p>\n",
            "last_activity_date": 1297889337,
            "question_id": 5020479,
            "score": 42,
            "tags": [
                "javascript"
            ],
            "title": "What advantages does using (function(window, document, undefined) { ... })(window, document) confer?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Looks like you've got the syntax slightly wrong... I'm assuming based on your code that you're trying to scroll down 100px in 800ms, if so then this works (using scrollTo 1.4.1):</p>\n\n<pre><code>$.scrollTo('+=100px', 800, { axis:'y' });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>If it's not working why don't you try using jQuery's scrollTop method?  </p>\n\n<pre><code>$(\"#id\").scrollTop($(\"#id\").scrollTop() + 100);\n</code></pre>\n\n<p>If you're looking to scroll smoothly you could use basic javascript setTimeout/setInterval function to make it scroll in increments of 1px over a set length of time.</p>\n",
                    "is_accepted": true,
                    "score": 82
                },
                {
                    "body": "<p>jQuery now supports scrollTop as an animation variable.</p>\n\n<pre><code>$(\"#id\").animate({\"scrollTop\": $(\"#id\").scrollTop() + 100});\n</code></pre>\n\n<p>You no longer need to setTimeout/setInterval to scroll smoothly.</p>\n",
                    "is_accepted": false,
                    "score": 36
                },
                {
                    "body": "<pre><code>$('html, body').animate({scrollTop: $(\"#page\").offset().top}, 2000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 255
                },
                {
                    "body": "<p>Actually something like</p>\n\n<pre><code>function scrollTo(prop){\n    $('html,body').animate({scrollTop: $(\"#\"+prop).offset().top +\n parseInt($(\"#\"+prop).css('padding-top'),10) },'slow');\n}\n</code></pre>\n\n<p>will work nicely and support padding. You can also support margins easily - for completion see below</p>\n\n<pre><code>function scrollTo(prop){\n    $('html,body').animate({scrollTop: $(\"#\"+prop).offset().top \n+ parseInt($(\"#\"+prop).css('padding-top'),10) \n+ parseInt($(\"#\"+prop).css('margin-top'),10) +},'slow');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>To get around the <code>html</code> vs <code>body</code> issue, I fixed this by not animating the css directly but rather calling <code>window.scrollTo();</code> on each step:</p>\n\n<pre><code>$({myScrollTop:window.pageYOffset}).animate({myScrollTop:300}, {\n  duration: 600,\n  easing: 'swing',\n  step: function(val) {\n    window.scrollTo(0, val);\n  }\n});\n</code></pre>\n\n<p>This works nicely without any refresh gotchas as it's using cross-browser JavaScript.</p>\n\n<p>Have a look at <a href=\"http://james.padolsey.com/javascript/fun-with-jquerys-animate/\" rel=\"nofollow\">http://james.padolsey.com/javascript/fun-with-jquerys-animate/</a> for more information on what you can do with jQuery's animate function.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm trying to scroll down 100px every time the user gets near the top of the document.</p>\n\n<p>I have the function executing when the user gets close to the top of the document, but the .scrollTo function isn't working.</p>\n\n<p>I put an alert after and before to check to see if it actually was the line or not that was stopping it and only the first alert goes off, here's the code:</p>\n\n<pre><code>alert(\"starting\");\n$.scrollTo({ top: '+=100px', left: '+=0px' }, 800);\nalert(\"finished\");\n</code></pre>\n\n<p>I know I have the jquery page linked properly because I'm using many other jquery functions throughout and they all work fine. I've also tried removing the 'px' from above and it doesn't seem to make a difference.</p>\n",
            "last_activity_date": 1401156201,
            "question_id": 832860,
            "score": 71,
            "tags": [
                "javascript",
                "jquery",
                "scroll",
                "scrollto"
            ],
            "title": "How to scroll the window using JQuery $.scrollTo() function"
        }
    ]
}
