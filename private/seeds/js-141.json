{
    "items": [
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>To get the image size, you need to access it on the server.  Javascript is a client-side utility, so it can't directly retrieve information from a server.</p>\n\n<p>You'd have to send an Ajax request to communicate with the server.  Alternatively, when your page is created, save file sizes in <code>&lt;input type='hidden' /&gt;</code> boxes and access them when you need them, or a similar solution.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If javascript engine supports canvas elements you can try to use canvas element and getImageData to fetch the pixel data from your image. Then, depending on type of the image you could create the binary representation of this image.</p>\n\n<p>Here is info about canvas element and getImagedata api: </p>\n\n<p><a href=\"http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata\" rel=\"nofollow\">http://www.whatwg.org/specs/web-apps/current-work/#dom-context-2d-getimagedata</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>please tell me how to get image file size in bytes using javascript.</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1293609197,
            "question_id": 4552369,
            "score": 2,
            "tags": [
                "javascript",
                "image",
                "size"
            ],
            "title": "How to get image size in bytes using javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>It's an asynchronous operation, meaning that <code>function(data) { ... }</code> runs <em>later</em> when the response from the server is available, long after you returned from <code>getData()</code>.  Instead, kick off whatever you need from that function, for example:</p>\n\n<pre><code>function getData(url, callback) {\n    $.get(url, callback, 'application/json');\n}\n</code></pre>\n\n<p>Then when you're calling it, pass in a function or reference to a function that uses the response, like this:</p>\n\n<pre><code>getData(\"myPage.php\", function(data) {\n  alert(\"The data returned was: \" + data);\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Use $.ajax </p>\n\n<pre><code>$.ajax({\n    url: 'http://www.example.com',\n    dataType: 'json',\n    success: function(data){\n       alert(data.Id);\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>try this</p>\n\n<pre>function getData(url) {\nvar data;\n    $.ajax({\n        async: false, //thats the trick\n        url: 'http://www.example.com',\n        dataType: 'json',\n        success: function(response){\n           data = response;\n        }\n    });\n    return data;\n}\n</pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>I use this helper function to receive JSON results for my requests:</p>\n\n<pre><code>function getData(url) {\n    $.get(url,\n         function(data) {\n             response = data;\n             return response;\n         }, 'application/json');\n}\n</code></pre>\n\n<p>I give it some string as a part of url from my web application, like '/api/getusers', so it looks like <code>getData('/api/getusers')</code>. Now I need that string result containing JSON data that I receive from the url to be assigned to my variable, so it would look like this: <code>var result = getData('/api/getusers')</code>. Then I will process this JSON data. The problem is with the returning the response variable. It's undefined. Thanks!</p>\n",
            "last_activity_date": 1296331883,
            "question_id": 4546339,
            "score": 2,
            "tags": [
                "javascript",
                "ajax",
                "jquery"
            ],
            "title": "jQuery. Assign JSON as a result to a variable"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Those symbols refer to certain <a href=\"http://en.wikipedia.org/wiki/Bitwise_operations\" rel=\"nofollow\">bitwise operations</a>.</p>\n\n<pre><code>&gt;&gt; Right shift\n&lt;&lt; Left shift\n|  Bitwise OR\n&amp;  Bitwise AND\n</code></pre>\n\n<p>Read up on the linked Wikipedia page for more information on what they do.</p>\n\n<p>See <a href=\"http://www.jslint.com/lint.html#bitwise\" rel=\"nofollow\">here</a> for why JSLint warns on these operations. It largely has to do with efficiency (i.e., JavaScript uses floating point numbers internally and it's inefficient to cast to integers and back with bitwise operators).</p>\n\n<p>Right shift and left shift can be replaced with dividing by and multiplying by 2, respectively.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>This gets asked all the time, but it's difficult for some to find the right word to search on.</p>\n\n<p>Those are <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Operators/Bitwise_Operators\" rel=\"nofollow\">bitwise operators</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>JSLint validates it fine for me when I declare the <code>c</code> and <code>utftext</code> variables. I don't see it complaining about any of these operators.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I was working with a base64 encoding script, but it is throwing a lot of warnings in JSLint.</p>\n\n<p>Can someone tell me what's the meaning of these symbols in JavaScript?  </p>\n\n<p><code>&gt;&gt;</code>,<code>&lt;&lt;</code>,<code>|</code>,<code>&amp;</code></p>\n\n<p>Here's an example of code with those symbols:</p>\n\n<pre><code>if ((c &gt; 127) &amp;&amp; (c &lt; 2048)) {\n    utftext += String.fromCharCode((c &gt;&gt; 6) | 192);\n    utftext += String.fromCharCode((c &amp; 63) | 128);\n}\n</code></pre>\n\n<p>I would like to rewrite this so that it gets validated by JSLint.</p>\n",
            "last_activity_date": 1293480758,
            "question_id": 4541455,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "Meaning of &gt;&gt;, &lt;&lt;, | and &amp; in JavaScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I didn't mention this in your previous question about this because it sounded like you wanted a generic means of surrounding a range within an element, but for this particular application (i.e. bolding/unbolding text), and assuming you don't mind a little cross-browser variation in the precise tags used (<code>&lt;strong&gt;</code> versus <code>&lt;bold&gt;</code> versus possibly <code>&lt;span style=\"font-weight: bold\"&gt;</code>), you're best off using <code>document.execCommand()</code>, which will toggle boldness:</p>\n\n<pre><code>function toggleBold() {\n    document.execCommand(\"bold\", false, null);\n}\n</code></pre>\n\n<p>This will work in all browsers when the selected content is editable, and even when it's not editable in IE. If you need it to work on non-editable content in other browsers, you'll need to temporarily make the document editable:</p>\n\n<pre><code>function toggleBold() {\n    var range, sel;\n    if (window.getSelection) {\n        // Non-IE case\n        sel = window.getSelection();\n        if (sel.getRangeAt) {\n            range = sel.getRangeAt(0);\n        }\n        document.designMode = \"on\";\n        if (range) {\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n        document.execCommand(\"bold\", false, null);\n        document.designMode = \"off\";\n    } else if (document.selection &amp;&amp; document.selection.createRange &amp;&amp;\n            document.selection.type != \"None\") {\n        // IE case\n        range = document.selection.createRange();\n        range.execCommand(\"bold\", false, null);\n    }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>This function uses the range object to return user selection and wrap it in bold tags. is there a method that allows me to remove the tags? As in <code>&lt;b&gt;text&lt;b&gt;</code>  = <code>text</code>. \n<br/><br/><br/> \nI actually need a toggle function that wraps the selection in tags &amp; un-wraps it if already contains tags. Similar to what text editors do when you toggle the bold button.</p>\n\n<pre><code>if \"text\" then \"&lt;b&gt;text&lt;/b&gt;\"\nelse \"&lt;b&gt;text&lt;/b&gt;\" then \"text\"  \n</code></pre>\n\n<p>...</p>\n\n<pre><code>function makeBold() {\n\n    //create variable from selection\n    var selection = window.getSelection();\n        if (selection.rangeCount) {\n        var range = selection.getRangeAt(0).cloneRange();\n        var newNode = document.createElement(\"b\");\n\n            //wrap selection in tags\n        range.surroundContents(newNode);\n\n            //return the user selection\n        selection.removeAllRanges();\n        selection.addRange(range);\n    } \n}\n</code></pre>\n",
            "last_activity_date": 1370277385,
            "question_id": 4479151,
            "score": 2,
            "tags": [
                "javascript",
                "dom"
            ],
            "title": "Javascript: how to un-surroundContents range"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You can't (at least in current browsers), which is a good thing.  It would help phishing attacks a great deal to disguise the link.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>You can set the text of the status bar using javascript with <code>window.status</code> attribute. E.g. <a href=\"http://www.htmlite.com/JS017.php\" rel=\"nofollow\">http://www.htmlite.com/JS017.php</a></p>\n\n<p>If you REALLY need, to disable the status bar in a browser, you can get a copy of an open-source browser code base, remove all code for the status bar and redistribute it to your users, but I doubt this is what you mean/need.</p>\n\n<p>Why do you need to hide the link in the status bar? A security issue with not wanting to expose the URL could be dealt with in another way.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can do this by using javascript for your link:</p>\n\n<p>Here's <a href=\"http://jsbin.com/obira4/4/edit\" rel=\"nofollow\">how</a>:</p>\n\n<pre><code>function goToBing() {\n  window.location.href = \"http://bing.com\";\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;a href=\"http://google.com\" onclick=\"goToBing();return false;\"&gt;Link to Google&lt;/a&gt;\n</code></pre>\n\n<p>As Nick Craver said, this doesn't work in all circumstances (control-click, middle-click etc.) but should work for you, because you don't <em>relay</em> on the javascript link.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>since you are asking to do this in order to hide affiliation links, there may be a better way.</p>\n\n<p>it makes far more sense to loop through all your links (say, under a broad <code>$(\"a.out\")</code> selector, then get and store their real href into element storage, replace it with a dummy one (and the title attribute if you have to). you then attach a click event handler that stops the default event, reads back the original href and sets it as the location.href, effectively disguising the links to all that have js enabled.</p>\n\n<p>eg code in mootools: </p>\n\n<pre><code>(function() {\n    var links = document.getElements(\"a.out\");\n\n    links.each(function(el) {\n        // save original\n        el.store(\"href\", el.get(\"href\"));\n        // replace it.\n        el.set(\"href\", el.get(\"data-link\"));\n\n        el.addEvents({\n            click: function(e) {\n                e.stop();\n                // console.log(e);\n\n                document.location.href = this.retrieve(\"href\");\n            },\n            contextmenu: function(e) {\n                e.stop();\n                // do something on right click so we dont get caught\n                alert(\"hi\");\n            }\n        });\n    });\n})();\n</code></pre>\n\n<p>which works fine on this markup:</p>\n\n<pre><code>&lt;a href=\"http://www.energyhelpline.com/energy/rg_home.aspx?aid=107\" rel=\"nofollow\" class=\"out\" title=\"Enegry savings\" data-link=\"http://www.energyhelpline.com/\"&gt;Swap Energy Provider&lt;/a&gt;&lt;br /&gt;\n\n&lt;a href=\"http://www.moneysupermarket.com/link.asp?Source=MSE&amp;Section=utils\" rel=\"nofollow\" class=\"out\" title=\"Money supermarket\" data-link=\"http://www.moneysupermarket.com/\"&gt;Money Supermarket&lt;/a&gt;\n</code></pre>\n\n<p>with data-link containing what we SHOW to end users instead.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is some code that will hide your original link tread text in a browsers status bar area</p>\n\n<p>Please note: not sure which browsers it works on but works fine in IE9</p>\n\n<pre><code>&lt;a href=\"javascript:void(0);\" onclick=\"location.href='http://www.google.com';return false;\"&gt;If You Put Your Mouse Over This Text You Won't See Link In Status Bar Area&lt;/a&gt;\n</code></pre>\n\n<p>When you run your mouse over the link, all you see in the status bar is <code>javascript:void(0);</code></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here's a way with javascript + jQuery that works with ctrl click, shift click, middle click, etc. It does break right click, but if the goal is to hide the link I guess that's not a big deal.</p>\n\n<p>I take no responsability whatsoever what you do with this though, I did this mostly for fun, but it does look pretty evil.</p>\n\n<p>JS:</p>\n\n<pre><code>$(document).ready(function() {\n   $('a').each(function() {\n       var address = $(this).attr('href');\n       var element = $(this).contents().unwrap().wrap('&lt;div/&gt;').parent();\n       element.data(\"hrefAddress\", address).addClass(\"link\");\n\n       element.click(function() {               \n           var newWindow = window.open(element.data(\"hrefAddress\"), '_blank');\n           newWindow.focus();\n       });\n   });\n});\u200b\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.link {\n    color: #00f;\n    text-decoration: underline;\n    cursor: pointer;\n}\n\n.link:hover {\n    color: #00a;\n}\n</code></pre>\n\n<p>HTML: </p>\n\n<pre><code>&lt;div&gt;\n    &lt;a href=\"http://www.facebook.com\"&gt;Facebook&lt;/a&gt;\n    &lt;a href=\"http://www.bing.com\"&gt;Google&lt;/a&gt;\n    &lt;a href=\"http://www.yahoo.com\"&gt;Yahoo&lt;/a&gt;\n    &lt;a href=\"http://stackoverflow.com\"&gt;Stack Overflow&lt;/a&gt;\n&lt;/div&gt;\u200b\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/5KYLx/1/\" rel=\"nofollow\">JS Fiddle</a></strong></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a simple question, how can I hide a link in the status bar in my browser.</p>\n\n<p>I've tried with this:</p>\n\n<pre><code>&lt;a href=\"http://www.sell.com/?referrer=225\"\n   onMouseOver=\"window.status='http://www.sell.com';\n               return true\" onMouseOut=\"window.status=''\"&gt;Click here&lt;/a&gt;\n</code></pre>\n\n<p>(Taken from a tutorial)\nBut it doesn't work, if somebody would help me, I would be very happy! ;-)</p>\n",
            "last_activity_date": 1355849753,
            "question_id": 4315029,
            "score": 2,
            "tags": [
                "javascript",
                "html",
                "statusbar"
            ],
            "title": "How can i hide the status bar in the browser?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>There is a java port <a href=\"http://jtidy.sourceforge.net/\" rel=\"nofollow\">JTidy</a> but no other ports that I know of, there may be some way you call HTML tidy from Ruby that works for you, prahaps call the html tidy app on the command line from your ruby webapp.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Would the <a href=\"http://validator.w3.org/\" rel=\"nofollow\">W3 Validator</a> work for you?</p>\n\n<p>Or are you wanting something to fix the errors?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Had you checked this before? <a href=\"http://tidy.rubyforge.org/\" rel=\"nofollow\">http://tidy.rubyforge.org/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In Ruby you can parse the HTML in Nokogiri, which will let you check for errors, then have it output the HTML, which will clean up missing closing tags and such. Notice in the following HTML that the title and p tags are not closed correctly, but Nokogiri adds the ending tags.</p>\n\n<pre><code>require 'nokogiri'\n\nhtml = '&lt;html&gt;&lt;head&gt;&lt;title&gt;the title&lt;/head&gt;&lt;body&gt;&lt;p&gt;a paragraph&lt;/body&gt;&lt;/html&gt;'\ndoc = Nokogiri::HTML(html)\nputs \"Errors found\" if (doc.errors.any?)\nputs doc.to_html\n# &gt;&gt; &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\" \"http://www.w3.org/TR/REC-html40/loose.dtd\"&gt;\n# &gt;&gt; &lt;html&gt;\n# &gt;&gt; &lt;head&gt;\n# &gt;&gt; &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n# &gt;&gt; &lt;title&gt;the title&lt;/title&gt;\n# &gt;&gt; &lt;/head&gt;\n# &gt;&gt; &lt;body&gt;&lt;p&gt;a paragraph&lt;/p&gt;&lt;/body&gt;\n# &gt;&gt; &lt;/html&gt;\n</code></pre>\n\n<p>Alternately you can open a connection to <code>/usr/bin/tidy</code> and tell it to do the dirty work:</p>\n\n<pre><code>require 'open3'\n\nhtml = '&lt;html&gt;&lt;head&gt;&lt;title&gt;the title&lt;/head&gt;&lt;body&gt;&lt;p&gt;a paragraph&lt;/body&gt;&lt;/html&gt;'\n\nstdin, stdout, stderr = Open3.popen3('/usr/bin/tidy -qi')\nstdin.puts html\nstdin.close\nputs stdout.read\n# &gt;&gt; &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 3.2//EN\"&gt;\n# &gt;&gt; \n# &gt;&gt; &lt;html&gt;\n# &gt;&gt; &lt;head&gt;\n# &gt;&gt;   &lt;meta name=\"generator\" content=\n# &gt;&gt;   \"HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.3.6), see www.w3.org\"&gt;\n# &gt;&gt; \n# &gt;&gt;   &lt;title&gt;the title&lt;/title&gt;\n# &gt;&gt; &lt;/head&gt;\n# &gt;&gt; \n# &gt;&gt; &lt;body&gt;\n# &gt;&gt;   &lt;p&gt;a paragraph&lt;/p&gt;\n# &gt;&gt; &lt;/body&gt;\n# &gt;&gt; &lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>If you just want a beautifier use Pretty Diff.</p>\n\n<p><a href=\"http://prettydiff.com/?m=beautify&amp;html\" rel=\"nofollow\">http://prettydiff.com/?m=beautify&amp;html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>html-tidy has been compiled to javascript (using emscripten).</p>\n\n<p>See <a href=\"http://lovasoa.github.io/tidy-html5/demo.html\" rel=\"nofollow\">the demo</a> and download <a href=\"http://lovasoa.github.io/tidy-html5/tidy.js\" rel=\"nofollow\">tidy.js</a>.</p>\n\n<p>If you are brave enough, you can compile it to javascript yourself, with the options you want. See <a href=\"https://github.com/lovasoa/tidy-html5\" rel=\"nofollow\">https://github.com/lovasoa/tidy-html5</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Does there exist a library similar to HTML tidy (http://tidy.sourceforge.net/) that is not OS specific (needs to be compiled on each host). Basically i just want to validate/clean the HTML sent to me by the user.</p>\n\n<pre><code>&lt;p&gt;hello&lt;/p&gt;&lt;/p&gt;&lt;br&gt;\n</code></pre>\n\n<p>should become</p>\n\n<pre><code>&lt;p&gt;hello&lt;/p&gt;\n&lt;br/&gt;\n</code></pre>\n\n<p>Something in javascript or ruby would work for me.\nThanks!</p>\n",
            "last_activity_date": 1418075181,
            "question_id": 4240107,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "ruby-on-rails",
                "ruby",
                "tidy"
            ],
            "title": "Are there JavaScript or Ruby versions of &quot;HTML tidy&quot;?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<pre><code>var str = \"MIN20, MAX40\";\nvalue = str.replace(/^MIN(\\d+),\\sMAX(\\d+)$/, function(s, min, max) {\n    return [min, max]\n});\n\nconsole.log(value); // array\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The following will extract numbers following \"MIN\" and \"MAX\" into arrays of integers called <code>mins</code> and <code>maxes</code>:</p>\n\n<pre><code>var mins = [], maxes = [], result, arr, num;\nvar str = \"MIN20, MAX40, MIN50\";\n\nwhile ( (result = /(MIN|MAX)(\\d+)/g.exec(str)) ) {\n    arr = (result[1] == \"MIN\") ? mins : maxes; \n    num = parseInt(result[2]);\n    arr.push(num);\n}\n\n// mins: [20, 50]\n// maxes: [40]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This should do the trick.</p>\n\n<pre><code>var str='MIN20, MAX40';\n\nmin = str.match(/MIN(\\d+),/)[1];\nmax = str.match(/MAX(\\d+)$/)[1];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think this would work:</p>\n\n<pre><code>var matches = \"MIN20, MAX40\".match(/MIN(\\d+), MAX(\\d+)/);\nvar min = matches[1]; \nvar max = matches[2];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can use:</p>\n\n<pre><code>var input   = \"MIN20, MAX40\";\nvar matches = input.match(/MIN(\\d+),\\s*MAX(\\d+)/);\nvar min = matches[1];\nvar max = matches[2];\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/PuP3F/\"><strong>JSfiddle link</strong></a></p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>Been a long time since I have touched regular expressions. It's simple but I am pulling my hair out over it. </p>\n\n<p>I have a string as follows that I get from the DOM <code>\"MIN20, MAX40\"</code>. I want to be able to use regex in JavaScript to extract the integer next to <code>MIN</code> and the integer next to <code>MAX</code> and put into separate variables <code>min</code> and <code>max</code>. I cannot figure a way to do it. </p>\n\n<p>Thanks to who ever helps me, you will be a life saver! </p>\n\n<p>Cheers</p>\n",
            "last_activity_date": 1289994992,
            "question_id": 4193536,
            "score": 2,
            "tags": [
                "javascript",
                "regex",
                "string"
            ],
            "title": "JavaScript Regular Expression - Extract number from next to word"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You should check out <a href=\"http://nodejs.org/api.html#http-client-189\" rel=\"nofollow\">http.Client</a> and <a href=\"http://nodejs.org/api.html#http-clientresponse-200\" rel=\"nofollow\">http.ClientResponse</a>. Using those you can make a request to the remote server and write out the response to a local file using <a href=\"http://nodejs.org/api.html#fs-writestream-154\" rel=\"nofollow\">fs.WriteStream</a>.</p>\n\n<p>Something like this:</p>\n\n<pre><code>var http = require('http');\nvar fs = require('fs');\nvar google = http.createClient(80, 'www.google.com');\nvar request = google.request('GET', '/',\n  {'host': 'www.google.com'});\nrequest.end();\nout = fs.createWriteStream('out');\nrequest.on('response', function (response) {\n  response.setEncoding('utf8');\n  response.on('data', function (chunk) {\n    out.write(chunk);\n  });\n});\n</code></pre>\n\n<p>I haven't tested that, and I'm not sure it'll work out of the box. But I hope it'll guide you to what you need.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Right now I'm using this script in PHP. I pass it the image and size (large/medium/small) and if it's on my server it returns the link, otherwise it copies it from a remote server then returns the local link.</p>\n\n<pre><code>function getImage ($img, $size) {\n    if (@filesize(\"./images/\".$size.\"/\".$img.\".jpg\")) {\n        return './images/'.$size.'/'.$img.'.jpg';\n    } else {\n        copy('http://www.othersite.com/images/'.$size.'/'.$img.'.jpg', './images/'.$size.'/'.$img.'.jpg');\n        return './images/'.$size.'/'.$img.'.jpg';\n    }\n}\n</code></pre>\n\n<p>It works fine, but I'm trying to do the same thing in Node.js and I can't seem to figure it out. The filesystem seems to be unable to interact with any remote servers so I'm wondering if I'm just messing something up, or if it can't be done natively and a module will be required.</p>\n\n<p>Anyone know of a way in Node.js?</p>\n",
            "last_activity_date": 1289674604,
            "question_id": 4174022,
            "score": 2,
            "tags": [
                "javascript",
                "node.js"
            ],
            "title": "Node.js copy remote file to server"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You could just cache the control key state</p>\n\n<pre><code>var ctrlPressed = false;\nfunction cacheIt(event) {\n    ctrlPressed = event.ctrlKey;\n}\ndocument.onkeydown = cacheIt;\ndocument.onkeyup = cacheIt;\n</code></pre>\n\n<p>Now, <code>ctrlPressed</code> should always reflect whether or not the control key is down.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>When caching key presses, I always bind a function to the blur event of the window object which clears any cached key presses. Otherwise you get stuck keys if the window loses focus.</p>\n\n<p>Here's an example using jQuery:</p>\n\n<pre><code>$(window).blur( function () {\n  // Clear cached key presses here\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am using Google maps API version 3.  I would like my double click event handler to work as follows:</p>\n\n<pre><code>google.maps.event.addListener(map, 'dblclick', function(e) {\n  if (/* ctrl is pressed */) {\n    doSomething(e)\n  } else {\n    doSomethingElse(e)\n  }\n});\n</code></pre>\n\n<p>It looks the the event handler only provides a MouseEvent which does not contain information about the keyboard state.  I need the LatLng information so I doubt that I can use JQuery's event handling.</p>\n\n<p>Am I out of luck here?</p>\n",
            "last_activity_date": 1318289240,
            "question_id": 3990893,
            "score": 2,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3"
            ],
            "title": "Is it possible to detect ctrl key state on dblclick event"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can use the start and stop message of the update panel to disable your controls.\nFor example</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt; \nvar prm = Sys.WebForms.PageRequestManager.getInstance();    \nprm.add_initializeRequest(InitializeRequest);\nprm.add_endRequest(EndRequest);\n\nfunction InitializeRequest(sender, args) {\n   document.getElementById(\"ButtonToDisable\").disabled = true;\n}\n\nfunction EndRequest(sender, args) {\n   document.getElementById(\"ButtonToDisable\").disabled = false;\n}\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can either do this:</p>\n\n<p><em>cs</em></p>\n\n<pre><code>//in pageload\n//the request is not in postback or async mode\nbt1.OnClientClick = \"this.disabled = true; \" + ClientScript.GetPostBackEventReference(bt1, null) + \";\");\n</code></pre>\n\n<p><strong>Note:</strong> you can replace \"this.disabled = true\" with a js function that will have better handling for disabling the button and maybe display a friendly message as well.</p>\n\n<hr>\n\n<p>Or this:</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/bb383989.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/bb383989.aspx</a></p>\n\n<p><em>js</em></p>\n\n<pre><code>Sys.WebForms.PageRequestManager.getInstance().add_initializeRequest(CheckStatus);\nfunction CheckStatus(sender, arg)\n{\n   var postBackElement = arg.get_postBackElement();\n   var prm = Sys.WebForms.PageRequestManager.getInstance();\n   if (prm.get_isInAsyncPostBack() &amp;&amp; postBackElement.id == \"btn1\") {\n      arg.set_cancel(true);\n      //display friendly message, etc\n   }\n}\n</code></pre>\n\n<p><strong>Note:</strong> I modified it so it checks for the button's id. Replace \"btn1\"</p>\n\n<p>Good luck!!</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I have multiple update panels with various asp buttons on a single page. I want to disable the buttons which caused the postback in update panel untill it completes.</p>\n\n<p>Is there a way to avoid using a third party control for this? through JQuery or any other method ?</p>\n",
            "last_activity_date": 1285836894,
            "question_id": 3828143,
            "score": 2,
            "tags": [
                "javascript",
                "asp.net",
                "jquery",
                "updatepanel"
            ],
            "title": "Disable button in update panel on async postback"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>That is not possible, you need some <a href=\"http://en.wikipedia.org/wiki/Server-side_scripting\" rel=\"nofollow\">server-side programming language</a> such as PHP, ASP, Python, etc.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's not possible directly. You'll have to use a server side language, such as ASP.Net, and call a server side email method using <a href=\"http://en.wikipedia.org/wiki/Ajax_%28programming%29\" rel=\"nofollow\">AJAX</a>. Here's a quick example using jQuery:</p>\n\n<pre><code>$.ajax({\n    url: \"MyController/SendMail\",\n    data: { recipient = \"bob@someplace.com\" },\n    success: function(data, status) {\n       alert(\"Mail sent\");\n    },\n    error: function() {\n       alert(\"Mail failed.\");\n    }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>It's possible, from client-interfacing JS, to send an XMLHttpRequest request to a URI that understands how to send mail that corresponds to a given payload -- you will need to listen for those asynchronous HTTP request server side using some kind of server side language, though!</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Like said before, it's not possible with Javascript alone. Even the HTML5  Websocket API won't help.</p>\n\n<p>However, it's not necessary to implement a server bridge. There's a common workaround using a Flash/SWF as bridge, which can open real socket connections. In theory this allows full client-side smtp connections. Though, I'm sure nobody has yet done that, nor would it seem feasible for you.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can we <strong>send mail</strong> using JavaScript? </p>\n",
            "last_activity_date": 1284189945,
            "question_id": 3690094,
            "score": 2,
            "tags": [
                "php",
                "javascript"
            ],
            "title": "Mail through Javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>In IE the event object is not passed as the first argument to an event handler. Instead it is a global variable:</p>\n\n<pre><code>function mousedown(e){\n var evt = e || window.event; // IE compatibility\n if(evt.preventDefault){  \n  evt.preventDefault();  \n }else{  \n  evt.returnValue = false;  \n  evt.cancelBubble=true;  \n }\n //Processing   \n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>IE has a different event model to other browsers (even IE8). In IE you would call this to do the same thing:</p>\n\n<pre><code>event.returnValue = false;\n</code></pre>\n\n<p>You need to determine what the browser supports and call the correct method. So first check if event.returnValue is set, if so then call it, otherwise call preventDefault().</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>My code works fine in FF/Chrome/Everything except IE(failed in both 7/8, didn't bother going furthur down). Due to restrictions, I cannot use jQuery and am hard-coding the Javascript. The issue is with IE, I am getting \"preventDefault is null or not an object\". Hoping one of you has the answer, and here's relevant code:</p>\n\n<p>AddEvent Method:  </p>\n\n<pre><code>function addEvent( obj, type, fn ) {  \n  if ( obj.attachEvent ) {  \n    obj['e'+type+fn] = fn;  \n    obj[type+fn] = function(){obj['e'+type+fn]( window.event );}  \n    obj.attachEvent( 'on'+type, obj[type+fn] );  \n  } else  \n    obj.addEventListener( type, fn, false );  \n};\n</code></pre>\n\n<p>Event handler throwing error:</p>\n\n<pre><code>function mousedown(e){  \n  if(e.preventDefault){  \n    e.preventDefault();  \n  } else {  \n    e.returnValue = false;  \n    e.cancelBubble=true;  \n  }\n  //Processing   \n};\n</code></pre>\n\n<p>Also DOCTYPE and charset are both set on the calling HTML page. Any ideas would be appreciated. The error is thrown in the if statement for the mousedown method.</p>\n\n<p>EDIT:</p>\n\n<p>Due to the fact that grabbing window.event did \"fix\" the main issue, I discovered the problem was a different section of code. Basically I am adding a  element ontop of a pre-placed element, and then registering mousedown/mousemove events to that div. When firing the event on the <code>&lt;div&gt;</code>, THAT'S where the error is thrown.</p>\n\n<p>Could this be something due to the fact that I have events registered to 2 </p>\n\n<pre><code>rect = document.createElement('div');  \nrect.className='square';  \nrect.id='chooser_rectangle';  \nrect.style.left=initx+'px';  \nrect.style.top=inity+'px';  \n\naddEvent(rect,\"mousemove\",mousemove);  \naddEvent(rect,\"mousedown\",mousedown);  \n</code></pre>\n",
            "last_activity_date": 1353884022,
            "question_id": 3677748,
            "score": 2,
            "tags": [
                "javascript",
                "internet-explorer"
            ],
            "title": "Javascript: IE event.preventDefault is null or not an object"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>That's just fine. Be sure that if the variable you're echoing is a string that you put quotes around it and escape any quotes, newlines, etc. inside it -- e.g., make sure it really gets output as a valid JavaScript string literal. Also, don't forget the <code>var</code> before <code>js_var</code>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It doesn't work because your snippet contains errors, it should be:</p>\n\n<pre><code>&lt;?php\n$php_var = session_id();\n?&gt;\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\njs_var = &lt;?php echo $php_var ?&gt;;\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It seems you have opened a parenthesis in the <code>echo</code> call, but didn't close it.\nAlso, you should place a semicolon after it. You've also forgotten the quotes (as Gordon says in the comment below).</p>\n\n<pre><code>&lt;?php\n$php_var = session_id();\n?&gt;\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\njs_var = \"&lt;?php echo($php_var); ?&gt;\";\n&lt;/script&gt;\n</code></pre>\n\n<p><s>P.S.You can use less code by replacing <code>echo</code> with the '=' character:</p>\n\n<pre><code>js_var=\"&lt;?=$php_var?&gt;\";\n</code></pre>\n\n<p></s></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The best method i can think of looks like this:</p>\n\n<pre><code>&lt;?php\n$php_var = session_id();\n?&gt;\n&lt;script type=\"text/javascript\"&gt;\n    var js_var = &lt;?php echo json_encode($php_var); ?&gt;;\n&lt;/script&gt;\n</code></pre>\n\n<p>PHP's <code>json_encode</code>-function is always producing valid JavaScript, which is not ensured if you are simply outputting random values. If you decide not to use <code>json_encode()</code>, you should at least enclose the php-value with quotes to prevent syntax errors. Be aware of escaping!</p>\n\n<pre><code>&lt;?php\n$php_var = session_id();\n?&gt;\n&lt;script type=\"text/javascript\"&gt;\n   var js_var = \"&lt;?php echo $php_var; ?&gt;\";\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>You have a perfectly valid solution already.</p>\n\n<p>You could extract it to a separate JS include if you don't like having inline script, but the technique would be the same.</p>\n\n<p>The solution you're really hunting for is called JSON, which is basically a clever acronym for producing valid Javascript syntax in other languages. Recent versions of PHP (v5.0 or better) have JSON functions which allow you to produce blocks of valid Javascript variable code. It would look something like this:</p>\n\n<pre><code>&lt;?php\n$phpdata=array('key1'=&gt;'some value','key2'=&gt;'another value');\n$jsondata=json_encode($phpdata);\necho \"var mydata=\".$jsondata.\";\";\n?&gt;\n</code></pre>\n\n<p>This will give you javascript that looks like this:</p>\n\n<pre><code>var mydata={'key1':'some value','key2':'another value'};\n</code></pre>\n\n<p>Hope that helps.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to use a PHP variable as a javascript variable - specifically I want to user the PHP variable session_id(); and use this as a javascript variable. </p>\n\n<pre><code>&lt;?php\n$php_var = session_id();\n?&gt;\n&lt;script language=\"JavaScript\" type=\"text/javascript\"&gt;\njs_var = &lt;?php echo($php_var ?&gt;;\n&lt;/script&gt;\n</code></pre>\n\n<p>This seems like it should work for me but it doesnt can anyone suggest a better way? </p>\n",
            "last_activity_date": 1283859514,
            "question_id": 3658027,
            "score": 2,
            "tags": [
                "php",
                "javascript",
                "session",
                "parameter-passing"
            ],
            "title": "How can I pass a PHP variable to javascript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Unfortunately, there is really no easy way to do this. iTunes actually uses the following <a href=\"http://ax.itunes.apple.com/detection/itmsCheck.js\" rel=\"nofollow\">script</a> to do the detection. From the code you can see they use a browser plug-in within each web browser to accomplish this. </p>\n\n<p>In Internet Explorer, there is a feature via the <a href=\"http://msdn.microsoft.com/en-us/library/aa741838%28VS.85%29.aspx\" rel=\"nofollow\">protocolLong</a> property, which can be used, but obviously it's browser specific. </p>\n\n<p>There may be other hacks available, but I think some sort on browser plug-in would be the surest solution.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>Similar to iTunes' 'Link Maker' (http://www.apple.com/itunes/linkmaker/faq/). Through web browser, iTunes webpages is capable of finding out if <code>itms://</code> has been registered on client workstation, hence displaying correct message ('View in iTunes' button or 'Download iTunes' promotion banner).</p>\n\n<p>How is this conducted?</p>\n",
            "last_activity_date": 1297599651,
            "question_id": 3411875,
            "score": 2,
            "tags": [
                "javascript",
                "scripting",
                "protocols"
            ],
            "title": "How to detect whether a protocol is supported through web browser?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>No, you can't do this with user/page JavaScript.  I imagine it would be a security risk, if you could.</p>\n\n<p>But there is an add-on you can install that will generate a printable, copyable list of installed extensions/Add-ons.</p>\n\n<p>Check out: <a href=\"https://addons.mozilla.org/en-US/firefox/addon/3746/\">\"Extension List Dumper\"</a>.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You cannot get a complete list just by using Javascript, but some Addons allow a check anyway.</p>\n\n<blockquote>\n  <p>accessing the chrome://-protocol was considered a security risk and\n  therefore has been  <a href=\"https://developer.mozilla.org/en/Updating_web_applications_for_Firefox_3#section_7\" rel=\"nofollow\" title=\"Firefox 3 security changes\">disabled</a>. Nonetheless you can still accomplish to detect\n  an extension with the image-load trick. Why? Because extension\n  developers may mark their extension as web-accessible setting the\n  property \u201ccontentaccessible=yes\u201d inside the chrome.manifest file of\n  the extension. This is e.g. the case for the two famous plugins\n  Firebug and Web Developer Toolbar</p>\n</blockquote>\n\n<p>source: <a href=\"http://webdevwonders.com/detecting-firefox-add-ons/\" rel=\"nofollow\">http://webdevwonders.com/detecting-firefox-add-ons/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I spent a fair amount of time trying to determine why my view of a site didn't match a clients, after looking at the cache etc. we determined the problem to be with one of the add-ons (Adblock Plus in this particular case). It would have been much simpler if we could have had an easy way to query what add-ons were installed, and ideally active. Is there anyway to generate a list programmatically perhaps with JavaScript?</p>\n\n<p>Thanks,\nSteve</p>\n",
            "last_activity_date": 1400749199,
            "question_id": 3380452,
            "score": 2,
            "tags": [
                "javascript",
                "firefox",
                "firefox-addon"
            ],
            "title": "Can you get a list of Firefox add-ons programmtically"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>A simple way would be to just loop:</p>\n\n<pre><code>var caretPos = 53, // however you get it\n    start, end\n;\n\nfor (start = caretPos; start &gt;= 0 &amp;&amp; myString[start] != \"\\n\"; --start);\nfor (end = caretPos; end &lt; myString.length &amp;&amp; myString[end] != \"\\n\"; ++end);\n\nvar line = myString.substring(start + 1, end - 1);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>In line with nickf's answer, the following example (which uses jQuery) may be a bit faster because it uses <code>(lastI|i)ndexOf</code>:</p>\n\n<pre><code>function current_line(textarea) {\n  var $ta = $(textarea),\n      pos = $ta.getSelection().start, // fieldselection jQuery plugin\n      taval = $ta.val(),\n      start = taval.lastIndexOf('\\n', pos - 1) + 1,\n      end = taval.indexOf('\\n', pos);\n\n  if (end == -1) {\n      end = taval.length;\n  }\n\n  return taval.substr(start, end - start);\n}\n</code></pre>\n\n<p>Here it is <a href=\"http://jsfiddle.net/XGvn5/1/\" rel=\"nofollow\">on jFiddle</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>How can I find the value of the current line of a textarea?</p>\n\n<p>I know I have to find the caret position, but then find everything before it up to the last \\n and everything after it to the next \\n.</p>\n\n<p>How can I do this?</p>\n",
            "last_activity_date": 1320782388,
            "question_id": 3153995,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "textarea",
                "newline"
            ],
            "title": "Find value of current line of a &lt;textarea&gt; using javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Yes, but it has to be on the same domain (and use a relative url for a path)</p>\n\n<pre><code>  window.parent.document.title = \"Your new title\";\n</code></pre>\n\n<p>If the iframe/frame is on a different domain, then you'll get a permission denied error. </p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>use top.document.title (top refers to the top most window within the browser)</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I hosted my web app on a freehoster service which shows my webpage in a frameset. 2 frames are there. In the top narrow frame there are their ad and the bottom frame is mine. I can set the title in the admin panel but it always remains the same regardless what is in my title tag. Setting <code>document.title</code> in javascript not works. But if I break out from the frameset using the ff's This frame/show option it will change the window/tab title as expected.</p>\n\n<p>So is it possible to change the parent document's title from my frame?</p>\n\n<p>(background: it will be an ajax board game and I want to notify the user somehow when it's his turn.)</p>\n",
            "last_activity_date": 1277907998,
            "question_id": 3150035,
            "score": 2,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "How to change window title from a frame in javascript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Is it possible to change the base with <code>toString(16)</code>.</p>\n\n<p>It takes an <a href=\"http://www.javascripter.net/faq/convert3.htm\" rel=\"nofollow\">optional radix argument</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I don't know if I got the corner cases correctly, but anyway, here is some code:</p>\n\n<pre><code>function floatToIntBits(f) {\n    var NAN_BITS = 0|0x7FC00000;\n    var INF_BITS = 0|0x7F800000;\n    var ZERO_BITS = 0|0x00000000;\n    var SIGN_BIT = 0|0x80000000;\n    var EXP_MASK = 0|0x7F800000;\n    var MANT_MASK = 0|0x007FFFFF;\n\n    if (f != f)\n        return NAN_BITS;\n\n    var signBit = (f &gt; 0.0 || (f == 0.0 &amp;&amp; Math.pow(f, -1) &gt; 0)) ? 0 : SIGN_BIT;\n    var fabs = Math.abs(f);\n    if (fabs == Number.POSITIVE_INFINITY)\n        return signBit | INF_BITS;\n    if (fabs == 0.0)\n        return signBit | ZERO_BITS;\n\n    var e = 0, x = f;\n    while (x != 0.0) {\n        e++;\n        x /= 2.0;\n    }\n\n    var exp = e - (1023 + 52);\n    if (exp &gt;= 127) // XXX: maybe incorrect\n        return signBit | INF_BITS;\n    if (exp &lt;= -126) // XXX: maybe incorrect\n        return signBit | ZERO_BITS;\n\n    var ceil = Math.pow(2.0, exp);\n    //console.log(\"fabs\", fabs, \"ceil\", ceil);\n    var mantissa = fabs / ceil * Math.pow(2.0, 24);\n    if (fabs == ceil) {\n        mantissa = 0;\n    } else {\n        exp--;\n    }\n    var expBits = ((exp + 127) &lt;&lt; 23) &amp; EXP_MASK;\n    var mantissaBits = mantissa &amp; MANT_MASK;\n\n    //console.log(\"sign\", signBit, \"expBits\", expBits.toString(16), \"mantissaBits\", mantissaBits.toString(16));\n    return signBit | expBits | mantissaBits;\n}\n\nfunction testCase(expected, f) {\n    var actual = floatToIntBits(f);\n    if (expected !== actual) {\n        console.log(\"expected\", expected.toString(16), \"actual\", actual.toString(16), \"f\", f);\n    }\n}\n\ntestCase(0|0x80000000, -0.0);\ntestCase(0|0x00000000, 0.0);\ntestCase(0|0x3F800000, 1.0);\ntestCase(0|0x42C80000, 100.0);\ntestCase(0|0x7FC00000, 0.0 / 0.0);\ntestCase(0|0x7F800000, 1.0 / 0.0);\ntestCase(0|0xFF800000, 1.0 / -0.0);\n</code></pre>\n\n<p>The funny-looking <code>0|0x...</code> expressions are necessary because JavaScript treats these literal numbers as being large positive integers, but applying a bitwise operator apparently converts them to signed 32-bit ints. (Compare the ECMAScript specification, section 8.5, last paragraph.)</p>\n\n<p><b>Update:</b> The following code is based on the above code, but it is more aligned to the actual wording of the specification. Additionally, it is independent of the particular floating point type that is used to implement JavaScript's <code>Number</code>. The code first moves the value to the interval [1.0; 2.0), since this is the representation that is mentioned in IEEE 754-1985 for normalized numbers. This code also handles denormalized numbers correctly and all the operations it uses are defined in IEEE 754-1985 and are exact, that is they don't lose precision.</p>\n\n<pre><code>function assert(cond, msg, arg0) {\n    if (!cond)\n        console.log(\"error\", msg, arg0);\n}\n\nfunction floatToIntBits(f) {\n    var NAN_BITS = 0|0x7FC00000;\n    var INF_BITS = 0|0x7F800000;\n    var ZERO_BITS = 0|0x00000000;\n    var SIGN_MASK = 0|0x80000000;\n    var EXP_MASK = 0|0x7F800000;\n    var MANT_MASK = 0|0x007FFFFF;\n    var MANT_MAX = Math.pow(2.0, 23) - 1.0;\n\n    if (f != f)\n        return NAN_BITS;\n    var hasSign = f &lt; 0.0 || (f == 0.0 &amp;&amp; 1.0 / f &lt; 0);\n    var signBits = hasSign ? SIGN_MASK : 0;\n    var fabs = Math.abs(f);\n\n    if (fabs == Number.POSITIVE_INFINITY)\n        return signBits | INF_BITS;\n\n    var exp = 0, x = fabs;\n    while (x &gt;= 2.0 &amp;&amp; exp &lt;= 127) {\n        exp++;\n        x /= 2.0;\n    }\n    while (x &lt; 1.0 &amp;&amp; exp &gt;= -126) {\n        exp--;\n        x *= 2.0;\n    }\n    assert(x * Math.pow(2.0, exp) == fabs, \"fabs\");\n    var biasedExp = exp + 127;\n    assert(0 &lt;= biasedExp &amp;&amp; biasedExp &lt;= 254, biasedExp);\n\n    if (biasedExp == 255)\n        return signBit | INF_BITS;\n    if (biasedExp == 0) {\n        assert(0.0 &lt;= x &amp;&amp; x &lt; 2.0, \"x in [0.0, 1.0)\", x);\n        var mantissa = x * Math.pow(2.0, 23) / 2.0;\n    } else {\n        assert(1.0 &lt;= x &amp;&amp; x &lt; 2.0, \"x in [0.5; 1.0)\", x);\n        var mantissa = x * Math.pow(2.0, 23) - Math.pow(2.0, 23);\n    }\n    assert(0.0 &lt;= mantissa &amp;&amp; mantissa &lt;= MANT_MAX, \"mantissa in [0.0, 2^23)\", mantissa);\n\n    //console.log(\"number\", f, \"x\", x, \"biasedExp\", biasedExp, \"mantissa\", mantissa.toString(16));\n    var expBits = (biasedExp &lt;&lt; 23) &amp; EXP_MASK;\n    var mantissaBits = mantissa &amp; MANT_MASK;\n\n    //console.log(\"number\", f, \"sign\", signBits.toString(16), \"expBits\", expBits.toString(16), \"mantissaBits\", mantissaBits.toString(16));\n    return signBits | expBits | mantissaBits;\n}\n\nfunction testCase(expected, f) {\n    var actual = floatToIntBits(f);\n    if (expected !== actual) {\n        console.log(\"error\", \"number\", f, \"expected\", expected.toString(16), \"got\", actual.toString(16));\n    }\n}\n\ntestCase(0|0xFF800000, 1.0 / -0.0); // -Inf\ntestCase(0|0xBF800000, -1.0);\ntestCase(0|0x80000000, -0.0);\ntestCase(0|0x00000000, 0.0);\ntestCase(0|0x00000001, Math.pow(2.0, -(126 + 23))); // minimum denormalized\ntestCase(0|0x007FFFFF, Math.pow(2.0, -126) - Math.pow(2.0, -(126 + 23))); // maximum denormalized\ntestCase(0|0x00800000, Math.pow(2.0, -126)); // minimum normalized float\ntestCase(0|0x3F800000, 1.0);\ntestCase(0|0x42C80000, 100.0);\ntestCase(0|0x7F800000, 1.0 / 0.0); // Inf\ntestCase(0|0x7FC00000, 0.0 / 0.0); // NaN\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>For a simple utility I'm working on, I need a script that converts a given decimal value to a 32bit floating-point hexadecimal value. For example, I know 1 is 3F800000 and 100 is 42C80000, however I don't know how to return these results with any number. If somebody knows a simple formula or even a complex way to go about doing this, please share.</p>\n",
            "last_activity_date": 1277656174,
            "question_id": 3077718,
            "score": 2,
            "tags": [
                "javascript",
                "floating-point",
                "decimal",
                "32-bit",
                "hex"
            ],
            "title": "Converting a decimal value to a 32bit floating-point hexadecimal"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I don't think that passing in variables via the <code>src</code> attribute is possible out of the box without some extra coding on your part (there is an article <a href=\"http://blog.theaccidentalgeek.com/post/2008/08/21/Passing-parameters-to-JavaScript-files.aspx\" rel=\"nofollow\">here</a> if you are interested!). You could do the following though, which should provide the same functionality as you are looking for:</p>\n\n<p>Define your \"config\" variables in a single script block on your HTML page:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  var config1 = true;\n&lt;/script&gt;\n</code></pre>\n\n<p>Reference your external JS file in a second script block:</p>\n\n<pre><code>&lt;script src=\"/scripts/myJavascriptFile.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Add this code to your external JS file to reference the \"local\" variable in your HTML:</p>\n\n<pre><code>var conf1 = window.config1;\n\nif (conf1) {\n  // Do stuff\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This is a variation on Matt's answer. I have a similar case where I need a jQuery file to use a value that is generated in the HTML (by Razor in this case). I write the value to a meta tag, generated as it is from the controller: </p>\n\n<pre><code>&lt;meta name=\"sessionId\" content=\"@ViewBag.SessionId\"&gt;\n</code></pre>\n\n<p>and then read it in the jQuery file:</p>\n\n<pre><code>var sessionId = $(\"meta[name=sessionId]\").attr(\"content\");\n</code></pre>\n\n<p>It's not quite the same as passing it in by querystring, but useful if that information is considered \"meta-information\" of the HTML page.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Not sure if this is possible or even if I should do it, but I think it's quite interesting.</p>\n\n<p>I have a javascript file which I'm referencing in a flat HTML page.  I'd like to pass in a parameter or two via the path to the script.  Like this;</p>\n\n<pre><code>&lt;script src=\"/scripts/myJavascriptFile.js?config1=true\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Not really sure if it can work but it would make my solution a little easier for others to take my script and implement (arguable).</p>\n\n<p>Cheers,\nMike</p>\n",
            "last_activity_date": 1380455957,
            "question_id": 3021737,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "Passing Querystring style parameters into Javascript file"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I'm not sure if there's a way to do it for arbitrary DOM elements like paragraphs, but for textarea elements, I believe you need to use the <a href=\"https://developer.mozilla.org/en/XUL/Property/selectionStart\" rel=\"nofollow\"><code>selectionStart</code></a> and <a href=\"https://developer.mozilla.org/en/XUL%3aProperty%3aselectionEnd\" rel=\"nofollow\"><code>selectionEnd</code></a> properties and specify where to start and end.</p>\n\n<pre><code>var textarea = document.getElementsByTagName('textarea')[0];\ntextarea.selectionStart = 10;\ntextarea.selectionEnd = 15;\n</code></pre>\n\n<p>Hope this helps!</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In Firefox, you can use the <a href=\"https://developer.mozilla.org/en/DOM/range\" rel=\"nofollow\">Range</a> object, as specified by <a href=\"http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html\" rel=\"nofollow\">W3C</a>.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;   \n    &lt;title&gt;Range test&lt;/title&gt;\n    &lt;style&gt;   \n        #trigger { background: lightgreen }\n    &lt;/style&gt;                 \n  &lt;/head&gt;                    \n  &lt;body&gt;                     \n    &lt;p id=\"test\"&gt;This is some (rather short) text.&lt;/p&gt;\n    &lt;span id=\"trigger\"&gt;\u2192 Click here! \u2190&lt;/span&gt;\n      &lt;!-- Yes, I know, \u2018Click here!\u2019 is an evil message --&gt;\n    &lt;script&gt;\nvar testCase = function () {\n    var userSelection;\n\n    if (window.getSelection) {  // W3C default\n        userSelection = window.getSelection();\n    }  // an extra branch would be necessary if you want to support IE\n\n    var textNode = document.getElementById('test').firstChild;\n    var theRange = document.createRange();\n\n    // select 10th\u201315th character (counting starts at 0)\n    theRange.setStart(textNode, 9);\n    theRange.setEnd(textNode, 14);\n\n    // set user selection    \n    userSelection.addRange(theRange);\n};\n\nwindow.onload = function () {\n    var el = document.getElementById('trigger');\n    el.onclick = testCase;\n};\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Note that you have to get the <code>TextNode</code> to set the selection, which is the <code>firstChild</code> of the <code>&lt;p&gt;</code> element. Also note that this example <strong>will not work</strong> in IE, you have to use some proprietary methods. A nice introduction is on <a href=\"http://www.quirksmode.org/dom/range_intro.html\" rel=\"nofollow\">QuirksMode</a>.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>A quick question: how do I programatically select the text fragment of the page in FireFox? For example, there's a paragraph of text, user clicks the button and symbols from 10-th to 15-th are selected as if user dragged a mouse in a regular way.</p>\n",
            "last_activity_date": 1273609457,
            "question_id": 2813612,
            "score": 2,
            "tags": [
                "javascript",
                "firefox",
                "selection"
            ],
            "title": "Firefox select text range"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Use the <a href=\"http://api.jquery.com/toggleClass/\"><code>toggleClass</code></a> function:</p>\n\n<pre><code>$(\"#tool\").click(function() {\n    $(\"#drill\").toggleClass(\"spanner\");\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>When i click <code>#tool</code> I want to add the class <code>.spanner</code> to the div <code>#drill</code>.</p>\n\n<p>However when <code>#drill</code> has the class <code>.spanner</code> and <code>#tool</code> is clicked i want the class to be removed?</p>\n",
            "last_activity_date": 1272368024,
            "question_id": 2720665,
            "score": 2,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "click .toggle add/remove class"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Your code running ok on my Firefox 3.7, Opera 10, and IE6, but you could try different approach by using DOM functions.</p>\n\n<pre><code>var newwin = window.open('','preview','width=600,height=500');\n\nfunction sayHi(){\n    alert('Hi!');\n}\n\nvar script = newwin.document.createElement(\"script\");\nscript.type = \"text/javascript\";\nscript.textContent = \"(\" + sayHi + \")();\";\nnewwin.document.body.appendChild(script);\n</code></pre>\n\n<p>If its not working, you should double check popup blockers or javascript blockers on your browser.</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<pre><code>function SetContent() \n{ \n    $(newwin).find('#content').html('New Text'); \n} \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have opened a new window with JavaScript:</p>\n\n<pre><code>var newwin = window.open('','preview','width=600,height=500');\n</code></pre>\n\n<p>Now I want to write some JavaScript to the window:</p>\n\n<pre><code>newwin.document.write(\"&lt;script type='text/javascript'&gt;alert('Hi!');&lt;\" + \"/script&gt;\");\nnewwin.document.close();\n</code></pre>\n\n<p>However, the script never gets executed. Am I doing something wrong?</p>\n\n<hr>\n\n<p><b>Update</b>: Okay, now I got part of it working. Here is the current code I have:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\"\n    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\"&gt;\n&lt;head&gt;\n&lt;script type='text/javascript'&gt;\n\nfunction SetContent()\n{\n    $('#content').html('New Text');\n}\n\nfunction dowin()\n{\n    var newwin = window.open('','preview','width=600,height=500');\n\n    newwin.document.write('&lt;div id=\"content\"&gt;&lt;/div&gt;&lt;b&gt;This should be replaced...&lt;/b&gt;');\n    newwin.document.close();\n\n    var script = newwin.document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    script.src = 'jquery.js';\n    newwin.document.body.appendChild(script);\n\n    var script2 = newwin.document.createElement(\"script\");\n    script2.type = \"text/javascript\";\n    script2.textContent = \"(\" + SetContent + \")();\";\n    newwin.document.body.appendChild(script2);\n}\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;button onclick='dowin();'&gt;Open&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>It's supposed to change the content of the <code>div</code> but as you can see, it doesn't.</p>\n",
            "last_activity_date": 1400100068,
            "question_id": 2696680,
            "score": 2,
            "tags": [
                "javascript",
                "window"
            ],
            "title": "How to write JavaScript to a separate window?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>They may vary by implementation, but the one you're talking about looks like it works by doing the following:</p>\n\n<ol>\n<li><p>Parse the page looking for keys in <code>&lt;%= %&gt;</code> tags</p></li>\n<li><p>Match the key to the key/value pair in the JSON </p></li>\n<li><p>Replace the tags/key with the value.</p></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As a starting point I would recommend you to give a look to the <code>String.prototype.replace</code> method and specially using its callback function:</p>\n\n<pre><code>function replaceTokens(str, replacement) {\n  return str.replace(/&lt;\\%=([^%&gt;]+)\\%&gt;/g, function (str, match) {\n    return replacement[match];\n  });\n}\n\nvar input = \"&lt;strong&gt;&lt;%=color%&gt;&lt;/strong&gt;\";\nreplaceTokens(input, { \"color\" : \"Red\"}); // &lt;strong&gt;Red&lt;/strong&gt;\n\nreplaceTokens(\"&lt;%=var1%&gt; &lt;%=var2%&gt;\", { \"var1\" : \"Hello\", \"var2\": \"world!\"});\n// \"Hello world!\"\n</code></pre>\n\n<p>Give a look to these articles:</p>\n\n<ul>\n<li><a href=\"http://ejohn.org/blog/search-and-dont-replace/\" rel=\"nofollow\">Search and Don't Replace</a></li>\n<li><a href=\"http://ejohn.org/blog/javascript-micro-templating/\" rel=\"nofollow\">John Resig's Micro-Templating Engine</a></li>\n<li><a href=\"http://blog.markturansky.com/BetterJavascriptTemplates.html\" rel=\"nofollow\">Better JavaScript Templates</a> (JSP-like syntax)</li>\n<li><a href=\"http://wiki.github.com/nje/jquery/jquery-templates-proposal\" rel=\"nofollow\">jQuery Templates Proposal</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>It's not very different from other templating solutions (at the conceptual level).</p>\n\n<pre><code>{ \"color\" : \"red\"}\n</code></pre>\n\n<p>Specifies a <code>color</code> attribute with the value <code>red</code>.</p>\n\n<pre><code>&lt;strong&gt;&lt;%=color%&gt;&lt;/strong&gt;\n</code></pre>\n\n<p>Means \"Use the value of <code>color</code> wherever I have <code>&lt;%=color%&gt;</code>. Based on wahat you have, the templating-engine probably walks the DOM and finds nodes that have values that match <code>&lt;%=somestring%&gt;</code>. Then, it checks to see if there is an attribute that matches the <code>somestring</code> value. If there is one, it replaces the value of <code>&lt;%=somestring%&gt;</code> with the value defined in the JSON (which, in this case is <code>red</code>).</p>\n\n<p>This finally gives you:</p>\n\n<pre><code>&lt;strong&gt;Red&lt;/strong&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Could you please explain me, how do templating engines in JavaScript work? Thank you.</p>\n\n<p><strong>JSON</strong></p>\n\n<pre><code>{ \"color\" : \"red\"}\n</code></pre>\n\n<p><strong>Template</strong></p>\n\n<pre><code>&lt;strong&gt;&lt;%=color%&gt;&lt;/strong&gt;\n</code></pre>\n\n<p><strong>Result</strong></p>\n\n<pre><code>&lt;strong&gt;Red&lt;/strong&gt;\n</code></pre>\n",
            "last_activity_date": 1271701606,
            "question_id": 2669787,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "How do templating engines in JavaScript work?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If you can use jQuery:</p>\n\n<p>to remove:  </p>\n\n<p><code>$('#div1').removeClass('name2')</code></p>\n\n<p>to add:  </p>\n\n<p><code>$('#div1').addClass('name2')</code></p>\n\n<p>If you can't use jQuery, I found this url</p>\n\n<p><a href=\"http://snipplr.com/view/3561/addclass-removeclass-hasclass/\" rel=\"nofollow\">http://snipplr.com/view/3561/addclass-removeclass-hasclass/</a></p>\n\n<pre><code>function hasClass(ele,cls) {\n    return ele.className.match(new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)'));\n}\n\nfunction addClass(ele,cls) {\n    if (!this.hasClass(ele,cls)) ele.className += \" \"+cls;\n}\n\nfunction removeClass(ele,cls) {\n    if (hasClass(ele,cls)) {\n        var reg = new RegExp('(\\\\s|^)'+cls+'(\\\\s|$)');\n        ele.className=ele.className.replace(reg,' ');\n    }\n}\n</code></pre>\n\n<p>Honestly, I haven't used the non-jquery approach but it seems enough</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>There <em>will</em> be a standard way to do this. HTML5 introduces the <a href=\"http://dev.w3.org/html5/spec/Overview.html#domtokenlist\" rel=\"nofollow\">classList</a> property, which works like this:</p>\n\n<pre><code>element.classList.add('foo');\nelement.classList.remove('bar');\nif (element.classList.contains('bof'))\n    element.classList.toggle('zot');\n</code></pre>\n\n<p>Firefox 3.6 already has this feature and it's being worked on in WebKit.</p>\n\n<p>Here is a pure-JS implementation:</p>\n\n<pre><code>// HTML5 classList-style methods\n//\nfunction Element_classList(element) {\n    if ('classList' in element)\n        return element.classList;\n\n    return {\n        item: function(ix) {\n            return element.className.trim().split(/\\s+/)[ix];\n        },\n        contains: function(name) {\n            var classes= element.className.trim().split(/\\s+/);\n            return classes.indexOf(name)!==-1;\n        },\n        add: function(name) {\n            var classes= element.className.trim().split(/\\s+/);\n            if (classes.indexOf(name)===-1) {\n                classes.push(name);\n                element.className= classes.join(' ');\n            }\n        },\n        remove: function(name) {\n            var classes= element.className.trim().split(/\\s+/);\n            var ix= classes.indexOf(name);\n            if (ix!==-1) {\n                classes.splice(ix, 1);\n                element.className= classes.join(' ');\n            }\n        },\n        toggle: function(name) {\n            var classes= element.className.trim().split(/\\s+/);\n            var ix= classes.indexOf(name);\n            if (ix!==-1)\n                classes.splice(ix, 1);\n            else\n                classes.push(name);\n            element.className= classes.join(' ');\n        }\n    };\n}\n\n// Add ECMA262-5 string trim if not supported natively\n//\nif (!('trim' in String.prototype)) {\n    String.prototype.trim= function() {\n        return this.replace(/^\\s+/, '').replace(/\\s+$/, '');\n    };\n}\n\n// Add ECMA262-5 Array indexOf if not supported natively\n//\nif (!('indexOf' in Array.prototype)) {\n    Array.prototype.indexOf= function(find, from /*opt*/) {\n        for (var i= from || 0, n= this.length; i&lt;n; i++)\n            if (i in this &amp;&amp; this[i]===find)\n                return i;\n        return -1;\n    };\n}\n</code></pre>\n\n<p>This does mean you have to write:</p>\n\n<pre><code>Element_classList(element).add('foo');\n</code></pre>\n\n<p>which is slightly less nice, but you'll get the advantage of the fast native implementation where avaialble.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>its easy with javascript to change class name with any event for eg.</p>\n\n<pre><code>&lt;script&gt;\nfunction changeClas()\n{\n    document.getElementById('myDiv').className='myNewClass';\n}    \n&lt;/script&gt;\n\n&lt;div id=\"myDiv\" onmouseover='changeClas()' class='myOldClass'&gt; Hi There&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is there a way in any browser to add/remove class names? For example, if I have a div with class names  and I just want to remove/add 'name2' is there a way to do that?</p>\n\n<p>Thanks,\nrodchar</p>\n",
            "last_activity_date": 1324565969,
            "question_id": 2578577,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "dynamically add/remove style in javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Have a look at <a href=\"http://smart-ip.net/en/api/\" rel=\"nofollow\">Smart IP Api</a>. Seems to do everything you're looking for and has some simple tutorials.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Greetings all,</p>\n\n<p>I would very much like to determine the IP# of a domain from client script. </p>\n\n<p>It's for use in a testing application to determine whether or not a certain domain is set to a QA address as opposed to the address live on the . The testing machine will have it's host file set to resolve a domain to the QA address.</p>\n\n<p>Pinging from the server won't help since the server is getting the public DNS address.</p>\n\n<p>Is this possible in JavaScript? Maybe a Flash could do the trick?</p>\n",
            "last_activity_date": 1269610724,
            "question_id": 2523574,
            "score": 2,
            "tags": [
                "javascript",
                "flash",
                "dns",
                "client-side"
            ],
            "title": "Determine IP# of domain from client browser"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>To the best of my knowledge, setting the innerHTML property of a <code>table</code> element or table section element (like <code>tbody</code> or <code>thead</code>) does not work on Internet Explorer (EDIT: I just checked - with <a href=\"http://www.my-debugbar.com/wiki/IETester/HomePage\">ietester</a> and plain IE8. Result is \"unknown runtime error\" for IE6 and IE8, and it crashes IE7 but that might be an IEtester specific problem). </p>\n\n<p>The <a href=\"http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\">DOM  standard</a> way of adding rows to a table is using the <code>insertRow()</code> method on a table or table section element (look for HTMLTableElement and HTMLTableSectionElement in that DOM spec) :</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction addTable() {\n    var c, r, t;\n    t = document.createElement('table');\n    r = t.insertRow(0); \n    c = r.insertCell(0);\n    c.innerHTML = 123;\n    c = r.insertCell(1);\n    c.innerHTML = 456;\n    document.getElementById(\"addtable\").appendChild(t);\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>In the script, there is no explicit table section being created. AFAIK, a TBODY is automatically created, and rows are inserted in there.</p>\n\n<p>EDIT: regarding IE, I should point out that you can add a table with content and all by setting the <code>innerHTML</code> property, but the html you inject in there must be a complete table. So this does work, even on IE:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction addTable() {\n    var html = \"&lt;table&gt;&lt;tr&gt;&lt;td&gt;123&lt;/td&gt;&lt;td&gt;456&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\";\n    document.getElementById(\"addtable\").innerHTML = html;\n}\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>Why the following code doesn't work?</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    function addTable() {\n        var table = document.createElement('table');\n        table.innerHTML = \"&lt;tr&gt;&lt;td&gt;123&lt;/td&gt;&lt;td&gt;456&lt;/td&gt;&lt;/tr&gt;\";\n        document.getElementById(\"addtable\").appendChild(table);\n    }\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;input type=\"submit\" value=\"New Table\" onClick=\"addTable()\"/&gt;\n    &lt;div id=\"addtable\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1424527733,
            "question_id": 2324782,
            "score": 2,
            "tags": [
                "javascript",
                "dom"
            ],
            "title": "How to use createElement to create a new table?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Use <a href=\"http://www.dev-archive.net/articles/js-dot-notation/\">square bracket notation</a>:</p>\n\n<pre><code>some_object[\"string_containing_method_name\"]();\n</code></pre>\n\n<p>If you want to play with globals, then just remember they are all properties of the <code>window</code> object.</p>\n\n<p>\u2026 but <a href=\"http://yuiblog.com/blog/2006/06/01/global-domination/\">don't play with globals</a>. </p>\n\n<p>Your particular example:</p>\n\n<pre><code>var $classname = \"klasse\";\nvar $class = new window[$classname]();\n</code></pre>\n\n<p>(Obviously, the usual conventions for only using $ in machine generated code should apply too)</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Bear in mind that \"<a href=\"http://www.jslint.com/lint.html\" rel=\"nofollow\">eval is evil</a>\", but if you are aware of this, then: </p>\n\n<pre><code>var classname= \"klasse\";\neval( \"var obj = new \" + classname + \"();\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you want to call something like</p>\n\n<pre><code>new acme.tools.Hammer();\n</code></pre>\n\n<p>Then do</p>\n\n<pre><code>var $toolName = \"Hammer\";\nvar myObject = new window['acme']['tools'][$toolName]();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a way to make a variable classname in javascript. In php the next is allowed:</p>\n\n<pre><code>$classname = \"klasse\";\n$class = new $classname();\n</code></pre>\n\n<p>Tom</p>\n",
            "last_activity_date": 1361974165,
            "question_id": 2154984,
            "score": 2,
            "tags": [
                "class",
                "variables",
                "javascript"
            ],
            "title": "Variable classname in javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>use an onchange event handler for the input box.</p>\n\n<p><a href=\"http://www.htmlcodetutorial.com/forms/_INPUT_onChange.html\" rel=\"nofollow\">http://www.htmlcodetutorial.com/forms/_INPUT_onChange.html</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I noticed you used the \"jquery\" tag.  For jQuery, you can use the <a href=\"http://api.jquery.com/keypress/\" rel=\"nofollow\"><code>.keypress()</code></a> method.</p>\n\n<p>From the API documentation:</p>\n\n<blockquote>\n  <p><em><strong>Description</strong>: Bind an event handler to the \"keypress\" JavaScript\n  event, or trigger that event on an\n  element.</em></p>\n</blockquote>\n\n<p>The event will fire every time keyboard input is registered by the browser.</p>\n\n<p><code>.keydown()</code> and <code>.keyup()</code> are also available.  Their behavior is slightly different from <code>.keypress()</code> and is outlined by the API documentation as well.</p>\n\n<p>The nice thing about jQuery is that you can use the same code across Firefox, IE, Safari, Opera and Chrome.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>onkeyup will be triggered every time a key is released. While it looks to be the solution it has some problems.</p>\n\n<p>If the user move the cursor with the arrows, it is triggered and you have to check yourself if the field value didn't change.</p>\n\n<p>If the user copy/paste a value in the input field with the mouse, or click undo/redo in the browser, onkeyup is not triggered.</p>\n\n<p>Like in a mac or in google docs, I didn't want a save button to submit forms in our app, here is how I do it.\nAny comment, or shortcut is welcome as it is a bit heavy.</p>\n\n<ol>\n<li><strong>onfocus</strong>, store the current value of the field, and start an interval to check for changes</li>\n<li>when the user moves something in the input, there is a comparison with the old value, if different a save is triggered</li>\n<li><strong>onblur</strong>, when the user moves away from the field, clear the interval and event handlers</li>\n</ol>\n\n<p>Here is the function I use, elm is the input field reference and after is a callback function called when the value is changed:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;so&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;input type=\"text\" onfocus=\"changeField(this, fldChanged);\"&gt;\n    &lt;script&gt;\n        function changeField(elm, after){\n            var     old, to, val,\n                chk = function(){\n                    val = elm.value;\n                    if(!old &amp;&amp; val === elm.defaultValue){\n                        old = val;\n                    }else if(old !== val){\n                        old = val;\n                        after(elm);\n                    }\n                };\n            chk();\n            to = setInterval(chk, 400);\n            elm.onblur = function(){\n                to &amp;&amp; clearInterval(to);\n                elm.onblur = null;\n            };\n        };\n        function fldChanged(elm){\n            console.log('changed to:' + elm.value);\n        }\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>How do I grab the value from an input box as its being entered?</p>\n",
            "last_activity_date": 1264409025,
            "question_id": 2130275,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "How do I grab the value from an html form input box as its being entered?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Create a <code>self</code> or <code>that</code> variable, which holds a reference to <code>this</code>. Something like this:</p>\n\n<pre><code>var ClassA = function () {\n    var self = this;\n\n    this.MyProperty1 = 3;\n    self.MyProperty2 = \"hello world\";\n\n    var ClassB_EventHandler = function () {\n        self.MyProperty1;\n        self.MyProperty2;\n    }\n\n}\n</code></pre>\n\n<p>You can use <code>this</code> and <code>self</code> interchangeably in <code>ClassA</code>'s scope. In the <code>ClassB</code> event handler, you'll be required to use <code>self</code> to reference <code>ClassA</code> properties.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Another solution is to bind your event handlers to your object!</p>\n\n<p>You first need the add the <code>bind</code> method to any function object. Use this code:</p>\n\n<pre><code>Function.prototype.bind = function(scope) {\n  var func = this;\n\n  return function() {\n    return func.apply(scope, arguments);\n  }\n}\n</code></pre>\n\n<p>Now you can register your <code>class B</code> event handlers to your <code>class A</code> methods this way:</p>\n\n<pre><code>var a = new A();\nvar b = new B();\n\nb.registerEvent(a.eventHandlerMethod.bind(a));\n</code></pre>\n\n<p>This way any references to <code>this</code> within the code of <code>A.eventHandlerMethod</code> will point to object <code>a</code>.</p>\n\n<p>If you need a deeper understanding of this stuff you can read this great article: <a href=\"http://www.alistapart.com/articles/getoutbindingsituations/\" rel=\"nofollow\">http://www.alistapart.com/articles/getoutbindingsituations/</a></p>\n\n<p>Another article: <a href=\"http://alternateidea.com/blog/articles/2007/7/18/javascript-scope-and-binding\" rel=\"nofollow\">http://alternateidea.com/blog/articles/2007/7/18/javascript-scope-and-binding</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>Class A (mine) implements event handlers for class B (3rd party). Within these event handlers, I would like to access class A's properties.</p>\n\n<p>Using <em>this</em> in class A's handlers does not work because it references class B's scope.</p>\n\n<p>Global variables seem like the only option. Am I missing a better alternative?</p>\n",
            "last_activity_date": 1263695460,
            "question_id": 2079703,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "this in event handlers for another object"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I used <code>&lt;script ...&gt;&lt;jsp:text&gt; &lt;/jsp:text&gt;&lt;/script&gt;</code> and that retained the closing tag. I think this is ugly, so if anyone has a better answer I would definitely be interested.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Unfortunately, jspx is known to \"minimize\" empty elements. One way to prevent the minimization without adding a space to the rendered HTML is to insert a comment. For example:</p>\n\n<pre><code>&lt;script ...&gt;&lt;!-- keep open/close tags --&gt;&lt;/script&gt;\n</code></pre>\n\n<p>It is still ugly, though.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>A potentially cleaner solution would be to create a custom taglib that outputs correct HTML, e.g.:</p>\n\n<pre><code>&lt;m:htmlScript type=\"text/javascript\" src=\"/js/jquery-1.4.4.min.js\"/&gt;\n</code></pre>\n\n<p>producing:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"/js/jquery-1.4.4.min.js\"&gt;\n</code></pre>\n\n<p>Another alternative would be to encapsulate the tag in CDATA:</p>\n\n<pre><code>&lt;![CDATA[&lt;script type=\"text/javascript\" src=\"/js/jquery-1.4.4.min.js\"&gt;&lt;/script&gt;]]&gt;\n</code></pre>\n\n<p>I covered this topic in more detail here:\n<a href=\"http://stackoverflow.com/questions/4639643/how-to-produce-valid-html-with-jspx-not-xhtml\">How to produce valid HTML with JSPX? (not XHTML)</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Yet another ugly solution: </p>\n\n<pre><code>&lt;tag&gt;${null}&lt;/tag&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The .war is served from GlassFish v3. I am trying to include a javascript file from my jspx. </p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"/base/interface/Service.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I get the following in my http response</p>\n\n<pre><code>&lt;script src=\"/base/interface/Service.js\" type=\"text/javascript\" /&gt;\n</code></pre>\n\n<p>The problem is that it should include the <code>&lt;/script&gt;</code> tag. I believe this is why it works on Chrome, but not on Firefox or IE. Any idea how to force <code>&lt;script&gt;&lt;/script&gt;</code></p>\n\n<p>Update: Not sure if any of this is pertinent, but here is the beginning of my jspx file</p>\n\n<pre><code>&lt;jsp:root version=\"2.0\"\n      xmlns:jsp=\"http://java.sun.com/JSP/Page\"\n      xmlns:c=\"http://java.sun.com/jsp/jstl/core\"\n      xmlns:fmt=\"http://java.sun.com/jsp/jstl/fmt\"\n      xmlns:form=\"http://www.springframework.org/tags/form\"\n      xmlns:spring=\"http://www.springframework.org/tags\"\n      xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n\n    &lt;jsp:output doctype-root-element=\"html\"\n            doctype-public=\"-//W3C//DTD XHTML 1.0 Strict//EN\"\n            doctype-system=\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"/&gt;\n    &lt;jsp:directive.page contentType=\"text/html\" pageEncoding=\"UTF-8\"/&gt; \n...\n</code></pre>\n",
            "last_activity_date": 1346418497,
            "question_id": 2058649,
            "score": 2,
            "tags": [
                "javascript",
                "jsp",
                "glassfish",
                "java-ee-5",
                "jspx"
            ],
            "title": "jspx script element on GlassFish v3"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I'm using a similar configuration but with Danish characters (\u00e6, \u00f8 and \u00e5) and I do not have a problem with any characters. Are you sure you are encoding all characters correctly?</p>\n\n<p>My response contains a | delimited list of values. All values are UTF-8 encoded (that's how they are stored in the database), and I set the content type to text/plain; charset=utf-8 using php's header function. The last bit is not needed for it to work though.</p>\n\n<ul>\n<li>Frank</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>The bug (I think):</strong></p>\n\n<ul>\n<li><a href=\"http://de2.php.net/strtolower\" rel=\"nofollow\"><code>Strtolower()</code></a> will not lowercase special characters.</li>\n<li>Therefore, you are not converting capital special characters in your re-write function (<code>\u00c4 \u00c6 \u00d8 \u00c5</code> etc.)</li>\n</ul>\n\n<p>if I understand the code correctly, a query for <code>\u00d8ygarden</code>(Notice the capital \u00d8) would leave the first character in its original form <code>\u00d8</code>, but you are querying against the urlencode()d form which should be <code>%C3%98</code></p>\n\n<p>You should use <a href=\"http://de2.php.net/mb_convert_case\" rel=\"nofollow\"><code>mb_convert_case()</code></a> specifying UTF-8 as the encoding.</p>\n\n<p>Let me know whether this solves it. </p>\n\n<p><strong>General re-writing suggestions</strong></p>\n\n<p>Your code could be replaced 100% using standard PHP functions, which can handle all Unicode characters instead of just those you specify, thus being less prone to bugs. I think the functionality of your custom <code>rewrite()</code> function could be replaced by</p>\n\n<ul>\n<li>urldecode() </li>\n<li><a href=\"http://de2.php.net/manual/en/function.iconv.php\" rel=\"nofollow\">iconv</a>() </li>\n</ul>\n\n<p>you would then get proper UTF-8 encoded data that you don't need to <code>utf8_encode()</code> any more. \nIt could be possible to get a cleaner approach that way that works for all characters. It <em>could</em> also be that that already sorts whatever bug there is (if the bug is in your code).</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Thank you for all answers and help. I certainly learned some new things about PHP and encoding :)</p>\n\n<p>But the solution that worked for me was this:</p>\n\n<p>I found out that the jQuery autocomplete function actually UTF-8 encodes and lowercase special character before sending it to the PHP function. So when I write out the arrays of suggest content, I used my <code>rewrite()</code>-function to encode the special characters. So in my compare function I only had to lowercase everything.</p>\n\n<p>Now it works great! </p>\n",
                    "is_accepted": true,
                    "score": 0
                },
                {
                    "body": "<p>I had similar problem. solution in my case was urldecode() php function to convert string back to it's original and than send query to db. </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm using jQuery's autocomplete function on my Norwegian site. When typing in the Norwegian characters \u00e6, \u00f8 and \u00e5, the autocomplete function suggests words with the respective character, but not words starting with the respective character. It seems like I've to manage to character encode Norwegian characters in the middle of the words, but not characters starting with it.</p>\n\n<p>I'm using a PHP script with my own function for encoding Norwegian characters to UTF-8 and generating the autocomplete list.</p>\n\n<p>This is really frustrating!</p>\n\n<p>Code:</p>\n\n<p>PHP code:</p>\n\n<pre><code>$q = strtolower($_REQUEST[\"q\"]);\nif (!$q) return;\n\nfunction rewrite($string){\n\n $to = array('%E6','%F8','%E5','%F6','%EB','%E4','%C6','%D8','%C5','%C4','%D6','%CB', '%FC', '+', ' ');\n $from = array('\u00e6', '\u00f8', '\u00e5', '\u00e4', '\u00f6', '\u00eb', '\u00e6', '\u00f8', '\u00e5', '\u00e4', '\u00f6', '\u00eb', '-', '-');\n\n $string = str_replace($from, $to, $string);\n\n return $string;\n}\n</code></pre>\n\n<p><code>$items</code> is an array containg suggestion-words.</p>\n\n<pre><code>foreach ($items as $key=&gt;$value) {\n  if (strpos(strtolower(rewrite($key)), $q) !== false) {\n    echo utf8_encode($key).\"\\n\";\n  }\n}\n</code></pre>\n\n<p>jQuery code:</p>\n\n<pre><code>$(document).ready(function(){\n$(\"#autocomplete\").autocomplete(\"/search_words.php\", {\n        position: 'after',\n        selectFirst: false,\n        minChars: 3,\n        width: 240,\n        cacheLength: 100,\n        delay: 0\n        }\n    )\n}\n);\n</code></pre>\n",
            "last_activity_date": 1295733422,
            "question_id": 1975262,
            "score": 2,
            "tags": [
                "php",
                "javascript",
                "jquery"
            ],
            "title": "jQuery autocomplete special character (Norwegian) problems"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It looks like all the destroy function does is remove the event trigger (lines 28-30)</p>\n\n<pre><code>if (js == 'destroy') {\n  return this.unbind('.cluetip');\n}\n</code></pre>\n\n<p>If you want to ensure the data in the cluetip is gone, then clear it yourself:</p>\n\n<pre><code>$('#cluetip-inner').empty();\n</code></pre>\n\n<p><hr></p>\n\n<p>Update: To answer your question about seeing if an element has anything bound to it, I'll refer you to something I found from <a href=\"http://james.padolsey.com/javascript/things-you-may-not-know-about-jquery/\" rel=\"nofollow\">James Padolsey's site</a>:</p>\n\n<pre><code>// List bound events:\nconsole.dir( jQuery('#elem').data('events') );\n\n// Log ALL handlers for ALL events:\njQuery.each($('#elem').data('events'), function(i, event){\n    jQuery.each(event, function(i, handler){\n        console.log( handler.toString() );\n    });\n});\n</code></pre>\n\n<p>*Note: the <code>console</code> is referring to the Firebug console.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Try the following:</p>\n\n<pre><code>$(this).cluetip('destroy'); \n$(this).remove();\n</code></pre>\n\n<p>The remove() function should also unbind the events.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to make sense of how cluetip actually works.  I have a dummy DOM structure which I did some alerts on to check if the cluetip has been removed after the cluetip('destroy') was called on the anchor element.  However, the cluetip div still appears to be alive and well.  This really confuses me...</p>\n\n<p>Correct me if I'm wrong... AFAIK, cluetip has 1 instance in the webpage, and it exists in a hierarchy of tags, i.e. cluetip > cluetip-outer > cluetip-inner.  It appends itself somewhere to the DOM structure when it is first appended to a html element (in my case, an anchor).</p>\n\n<p>So the question: would calling cluetip('destroy') on the html element actually remove the cluetip, or would it remove/reset some sort of variable in the cluetip (and if so, which variable)?  Or am I totally off the track here?</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1261537810,
            "question_id": 1950197,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "cluetip"
            ],
            "title": "jQuery cluetip(&#39;destroy&#39;) does not destroy/remove cluetip?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>try document.cookie. <a href=\"http://www.w3schools.com/JS/js%5Fcookies.asp\" rel=\"nofollow\">Here is a good link</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You could use a javascript library, e.g. <a href=\"http://jquery.com/\" rel=\"nofollow\">jQuery</a> in addition with a plugin: <a href=\"http://plugins.jquery.com/project/cookie\" rel=\"nofollow\">http://plugins.jquery.com/project/cookie</a></p>\n\n<p>Demo page: <a href=\"http://stilbuero.de/jquery/cookie/\" rel=\"nofollow\">http://stilbuero.de/jquery/cookie/</a></p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I search Google but found entire functions to get cookie value. Isn't there one line statement to retrieve cookie value in javascript?</p>\n",
            "last_activity_date": 1280497858,
            "question_id": 1928118,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "Any simplest way to get cookie value in javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You cannot refer to the same <a href=\"https://developer.mozilla.org/En/Core%5FJavaScript%5F1.5%5FGuide/Creating%5FNew%5FObjects/Using%5FObject%5FInitializers\" rel=\"nofollow\">object literal</a> in an expression without using a function, I would recommend you to use the equivalent syntax:</p>\n\n<pre><code>var myVars = {};\n\nmyVars.var1 = \"test\",\nmyVars.var2 = myVars.var1;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<pre><code>var myVars = {\n    var1: \"test\",\n    var2: this.var1\n};\n</code></pre>\n\n<p>perhaps?</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Or:</p>\n\n<pre><code>var myVar = \"test\";\n\nvar myArr = {\n    var1: myVar,\n    var2: myVar\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have an array of variables.\nAnd I want one variable to equal the previous one. \nFor example:</p>\n\n<pre><code>var myVars = {\n    var1: \"test\",\n    var2: var1\n};\n\nalert(myVars.var2);\n</code></pre>\n\n<p><em>//output: var1 is not defined</em></p>\n\n<p>Any thoughts? I'm sure this is some sort of variable scope limitation.\nI would like to hear otherwise.\nThanks in advance.</p>\n",
            "last_activity_date": 1260604527,
            "question_id": 1889505,
            "score": 2,
            "tags": [
                "javascript",
                "variable-scope"
            ],
            "title": "JavaScript Object Literal Notation Internal Variable Pointing"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Isn't this simpler?</p>\n\n<pre><code> $('#ce')\n    .bind('change keyup',\n       function() {\n          $('#text')\n             .text($(this).text());\n       }\n    );\n</code></pre>\n\n<p>As for the input:</p>\n\n<pre><code> $('#input')\n    .bind('change keyup',\n       function() {\n          $('#text')\n             .text($(this).val());\n       }\n    );\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I want to watch for the nodeValue change of an element that's edited with contenteditable. Basically, I want to run a function on change of the nodevalue.</p>\n\n<p>I found this post:\n<a href=\"http://james.padolsey.com/javascript/monitoring-dom-properties/\" rel=\"nofollow\">http://james.padolsey.com/javascript/monitoring-dom-properties/</a></p>\n\n<p>Which seems to have a plugin for what I want.</p>\n\n<p>Here's the watch plugin:</p>\n\n<pre><code>jQuery.fn.watch = function( id, fn ) {\n\n    return this.each(function(){\n\n        var self = this;\n\n        var oldVal = self[id];\n        $(self).data(\n            'watch_timer',\n            setInterval(function(){\n                if (self[id] !== oldVal) {\n                    fn.call(self, id, oldVal, self[id]);\n                    oldVal = self[id];\n                }\n            }, 100)\n        );\n\n    });\n\n    return self;\n};\n</code></pre>\n\n<p>As an example, I can watch an input's value like this:</p>\n\n<pre><code>  $('#input').watch('value', function(propName, oldVal, newVal){\n    $(\"#text\").text(newVal);\n  });\n</code></pre>\n\n<p>But not a contenteditable's nodevalue (its text content):</p>\n\n<pre><code>  $('#ce').watch('nodeValue', function(propName, oldVal, newVal){\n    $(\"#text\").text(newVal);\n  });\n</code></pre>\n\n<p>Here's the live example:</p>\n\n<p><a href=\"http://jsbin.com/iconi/edit\" rel=\"nofollow\">http://jsbin.com/iconi/edit</a></p>\n\n<p>Anyone know how to adapt the watch method to work with nodevalue. Thanks!</p>\n",
            "last_activity_date": 1255190762,
            "question_id": 1546348,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "watch"
            ],
            "title": "jQuery: Watching for nodevalue change"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>First you need to get it into a number, use this function:-</p>\n\n<pre><code>function IPToNumber(s)\n{\n\tvar arr = s.split(\".\");\n\tvar n = 0\n\tfor (var i = 0; i &lt; 4; i++)\n\t{\n\t\tn = n * 256\n\t\tn += parseInt(arr[i],10)\n\n\t}\n\treturn n;\n}\n</code></pre>\n\n<p>Looking at you spec, whilst you seem to list a series of ranges those ranges appear to be contiguous to me, that is can be simplified to (224.0.0.0 to 239.255.255.255).  Hence you can test with:-</p>\n\n<pre><code>var min = IPToNumber(\"224.0.0.0\");\nvar max = IPToNumber(\"239.255.255.255\");\n\nvar ipNum = IPToNumber(sTestIP);\n\nvar isValid = (ipNum != 0 &amp;&amp; (ipNum &lt; min || ipNum &gt; max))\n</code></pre>\n\n<p>Note of course that without knowledge of the destinations subnet you can't tell whether the address is the network address or the broadcast address for that subnet.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>The dotted quad notation you're seeing is just that: a notation that makes it easier on human eyes.  An IP Address is really a 32 bit integer.  I suggest you convert your address to that integer and then just check that it's in a valid range (ie, > 0 for the first requirement).</p>\n\n<p>To that end:</p>\n\n<pre><code>function dottedQuadToInt(ip)\n{      \n    var parts = ip.split('.', 4);\n    if(parts.length &lt; 4) return -1;\n\n    var result = 0, base = 1;\n    for (var i = 3;i&gt;=0;i--)\n    {\n       //validation\n       if (parts[i].length == 0 || parts[i].length &gt; 3) return -1;\n\n       var segment = parseInt(parts[i],10);\n       if (isNaN(segment) || segment&lt;0 || segment &gt; 255) return -1;\n\n       //compute next segment\n       result += base * segment;\n       base = base &lt;&lt; 8;\n    }\n    return result;\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>function isValidIP(ip)\n{\n   ip = dottedQuadToInt(ip);\n   if (ip &lt;= 0) return false;\n\n   //mulitcast range:\n   if (ip &gt;= 3758096384 &amp;&amp; ip &lt;= 4026531839) return false;\n\n   //alternate way to check multicast (slower, but more readable):\n   if (ip &gt;= dottedQuadToInt('224.0.0.0') &amp;&amp; ip &lt;= dottedQuadToInt('239.255.255.255')) return false;\n\n   return true;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>/**\n * Converts an IPv4 address to a (signed) 32-bit integer.\n */\nfunction parse_ipv4_address(str) {\n    var arr = str.split('.');\n    for (var i = 0, val = 0; i &lt; 4; i++) {\n        val += parseInt(arr[i], 10) &lt;&lt; (8 * (3 - i));\n    }\n\n    return val;\n}\n\nvar min = parse_ipv4_address('224.0.0.0');\nvar max = parse_ipv4_address('239.255.255.255');\n\nvar myIp = parse_ipv4_address(myIpStr);\n\n// because the values are signed ints, min and max will be\n// negative and we need to reverse the comparison operators :(\nif (myIp == 0 || (myIp &lt;= min &amp;&amp; myIp &gt;= max)) {\n    // multicast!\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Multicast IP addresses are defined as those with <code>1110</code> as their high-order four bits (see <a href=\"http://www.iana.org/assignments/multicast-addresses/multicast-addresses.xhtml\" rel=\"nofollow\">http://www.iana.org/assignments/multicast-addresses/multicast-addresses.xhtml</a> and <a href=\"http://tools.ietf.org/html/rfc1112\" rel=\"nofollow\">http://tools.ietf.org/html/rfc1112</a>). In hex the <code>1110</code> is expressed as <code>0xE</code> (decimal value of 14, remember each hex digit is worth 4 binary bits) so if this value is in the high order 4 bits of 32 bit integer (big endian) the hex would be <code>0xE0000000</code>. If you first convert the IP address to a 32 bit number and then <code>&amp;</code> it with <code>0xF0000000</code>, if the resulting value is equal to <code>0xE0000000</code> (<code>1110</code> in the high-order four bits) then it is a multicast IPv4 address (same logic used in Java <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/net/Inet4Address.html#isMulticastAddress%28%29\" rel=\"nofollow\">Inet4Address.isMulticastAddress()</a>).</p>\n\n<pre><code>var ipNum = IPToNumber(sTestIP);\nvar isMulticast = ((ipNum &amp; 0xF0000000) == 0xE0000000);\n</code></pre>\n\n<p>Here is a table to prove the point (notice that valid mutlicast IP addresses in hex format all start with <code>0xE</code>, also the int values are signed 32 bit numbers):</p>\n\n<pre><code>// not a multicast, starts with 0xD\nip [223.000.000.000] hex [0xDF000000] int [-553648128] unsigned [3741319168]\nip [223.255.255.255] hex [0xDFFFFFFF] int [-536870913] unsigned [3758096383]    \n\n// is a multicast, starts with 0xE\nip [224.000.000.000] hex [0xE0000000] int [-536870912] unsigned [3758096384]\nip [224.255.255.255] hex [0xE0FFFFFF] int [-520093697] unsigned [3774873599]\nip [225.000.000.000] hex [0xE1000000] int [-520093696] unsigned [3774873600]\nip [225.255.255.255] hex [0xE1FFFFFF] int [-503316481] unsigned [3791650815]\nip [226.000.000.000] hex [0xE2000000] int [-503316480] unsigned [3791650816]\nip [226.255.255.255] hex [0xE2FFFFFF] int [-486539265] unsigned [3808428031]\nip [227.000.000.000] hex [0xE3000000] int [-486539264] unsigned [3808428032]\nip [227.255.255.255] hex [0xE3FFFFFF] int [-469762049] unsigned [3825205247]\nip [228.000.000.000] hex [0xE4000000] int [-469762048] unsigned [3825205248]\nip [228.255.255.255] hex [0xE4FFFFFF] int [-452984833] unsigned [3841982463]\nip [229.000.000.000] hex [0xE5000000] int [-452984832] unsigned [3841982464]\nip [229.255.255.255] hex [0xE5FFFFFF] int [-436207617] unsigned [3858759679]\nip [230.000.000.000] hex [0xE6000000] int [-436207616] unsigned [3858759680]\nip [230.255.255.255] hex [0xE6FFFFFF] int [-419430401] unsigned [3875536895]\nip [231.000.000.000] hex [0xE7000000] int [-419430400] unsigned [3875536896]\nip [231.255.255.255] hex [0xE7FFFFFF] int [-402653185] unsigned [3892314111]\nip [232.000.000.000] hex [0xE8000000] int [-402653184] unsigned [3892314112]\nip [232.255.255.255] hex [0xE8FFFFFF] int [-385875969] unsigned [3909091327]\nip [233.000.000.000] hex [0xE9000000] int [-385875968] unsigned [3909091328]\nip [233.255.255.255] hex [0xE9FFFFFF] int [-369098753] unsigned [3925868543]\nip [234.000.000.000] hex [0xEA000000] int [-369098752] unsigned [3925868544]\nip [234.255.255.255] hex [0xEAFFFFFF] int [-352321537] unsigned [3942645759]\nip [235.000.000.000] hex [0xEB000000] int [-352321536] unsigned [3942645760]\nip [235.255.255.255] hex [0xEBFFFFFF] int [-335544321] unsigned [3959422975]\nip [236.000.000.000] hex [0xEC000000] int [-335544320] unsigned [3959422976]\nip [236.255.255.255] hex [0xECFFFFFF] int [-318767105] unsigned [3976200191]\nip [237.000.000.000] hex [0xED000000] int [-318767104] unsigned [3976200192]\nip [237.255.255.255] hex [0xEDFFFFFF] int [-301989889] unsigned [3992977407]\nip [238.000.000.000] hex [0xEE000000] int [-301989888] unsigned [3992977408]\nip [238.255.255.255] hex [0xEEFFFFFF] int [-285212673] unsigned [4009754623]\nip [239.000.000.000] hex [0xEF000000] int [-285212672] unsigned [4009754624] \nip [239.255.255.255] hex [0xEFFFFFFF] int [-268435457] unsigned [4026531839]\n\n// not a multicast, starts with 0xF\nip [240.000.000.000] hex [0xF0000000] int [-268435456] unsigned [4026531840]\nip [240.255.255.255] hex [0xF0FFFFFF] int [-251658241] unsigned [4043309055]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Using JavaScript how would I validate an IP address \"x.x.x.x\" is a valid IPV4 unicast address e.g. is not 0.0.0.0 or multicast (224.0.0.0 to 224.0.0.255, 224.0.1.0 to 238.255.255.255, 239.0.0.0 to 239.255.255.255)?</p>\n",
            "last_activity_date": 1380045685,
            "question_id": 1503893,
            "score": 2,
            "tags": [
                "javascript"
            ],
            "title": "Validate IP address is not 0.0.0.0 or multicast address"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Alright, I tweaked my sample and I think I see the problem - and I could be wrong, but I think it's behaving as intended.</p>\n\n<p>When you set a field to be ReadOnly on the codebehind, the ASP:TextBox seems to become immutable even by JS. I made a change and the change was reflected in JS and in the form, but the TextBox retained its original text value -- unless I looked in the Request.Form as you did.</p>\n\n<p>I don't think this is a bug. I think it's intentional, to keep something completely locked down - readonly on the server side hanging on does seem like a preferred choice.</p>\n\n<p>May I suggest something using hidden input fields and spans or ASP:Labels (which effectively render as spans) to give a display aspect that isn't adjustable by the user?</p>\n\n<p>Alternately, if you have access to a JS library (such as jQuery), you could set a CSS class on your TextBoxes (with CssClass=\"readonly\" or something like that in your tag), then use the selection process to tweak the attribute, like so (assuming jQuery, easily written in other languages):</p>\n\n<pre><code>$(\"input.readonly\").attr(\"readonly\",\"readonly\");\n</code></pre>\n\n<p>That way, you're not rewriting much of your markup and it's a quick'n'easy JS fix.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is by design. As an ASP.NET security feature, setting it to readonly on the server will keep it readonly regardless of what happens on the client. If you want them to be able override it and actually submit a value then it's not really readonly on the server, only conditionally on the client. You can either do a postback when they check the checkbox to change the readonly attribute on the server, or set only the readonly attribute on the client using this ASP.NET code:</p>\n\n<pre><code>MyControl.Attributes.Add(\"readOnly\",\"readOnly\")\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<h2>Some background</h2>\n\n<p>So I was finishing up some enhancements in a web application that does some automatic interpolation of data.  There are a handful of textboxes that the user fills out, and other textboxes in between them have values automatically calculated.  The textboxes that receive automatically calculated values must be readOnly to prevent user changes, but can't be disabled or they won't get submitted on postback.  Each of these textboxes also has a checkbox next to it so a user can consciously check it to make the field writable and thus allow them to override the interpolated value.</p>\n\n<p>The browser: IE 7 (not sure how this behaves in others)</p>\n\n<h2>The issue</h2>\n\n<p>When setting the <code>readOnly</code> property of the textboxes with JavaScript, the value in the textbox is submitted with the form: I can see it on the server side (ASP.NET) with <code>myTextBox.Text</code> and it's in <code>Request.Form(\"myTextBox\")</code>.</p>\n\n<p>If I set <code>ReadOnly=\"true\"</code> on my <code>&lt;asp:TextBox /&gt;</code> element and don't use the JavaScript method, the value in the text box is <strong>NOT</strong> available from <code>myTextBox.Text</code> (I assume it never made it into the <code>ViewState</code>), but it is getting submitted with the form: <code>Request.Form(\"myTextBox\")</code> has a value.</p>\n\n<h2>My question(s)</h2>\n\n<p>What the heck is going on? Is this by design?  Is this a browser issue? Did I find a bug?  It's annoying that I have to have some extra JavaScript to initially disable the writability of the textboxes when the page loads in order to make my app work.</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1246367550,
            "question_id": 1060518,
            "score": 2,
            "tags": [
                "asp.net",
                "javascript",
                "internet-explorer",
                "cross-browser",
                "readonly"
            ],
            "title": "Strange behavior using HTML &#39;readonly=&quot;readonly&quot;&#39; vs. JavaScript &#39;element.readOnly = true;&#39;"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Does google not offer the ability to forward a DNS address to the IP of your service, folding it into your domain? This way you can do in AJAX</p>\n\n<pre><code>googleAlias.mydomain.com\n</code></pre>\n\n<p>Google should support this, but I don't know for sure. I imagine they would in the same way they do with GMail and external-domain mail.</p>\n\n<p>Removes your cross-domain javascript issues</p>\n\n<p><strong>edit</strong> I expanded below and another user helpfully pointed out this should work (thanks Stobor)</p>\n\n<p>Well, to get my company mail into GMail, if I recall, I needed to change the MX record on my DNS to point to a google IP. You may be able, if google supports it, to add an A record to your domain so an AJAX request to foo.yourdomain.com is the same as search.google.com or whatever. Google needs to recognize requests from your hostname in the A record and say \"Oh yes, that's me, on my client's behalf\"</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can't load external files with AJAX. However, you can set up a file on your own server that makes the content available on your server. For instance in PHP, you could write a file <code>googlexml.php</code>:</p>\n\n<pre><code>&lt;?php\n@readfile(\"http://www.google.com/cse?cx=MY_UNIQUE_KEY&amp;client=googlecsbe&amp;output=xml_no_dtd&amp;q=query+terms\");\n?&gt;\n</code></pre>\n\n<p>And then you could access that with AJAX. I'm not sure if Google's terms of use will let you do that, but if they do, then this is an option.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>For those coming across this now, the AJAX Search API may be what you want: <a href=\"http://code.google.com/apis/ajaxsearch/documentation/\" rel=\"nofollow\">http://code.google.com/apis/ajaxsearch/documentation/</a></p>\n\n<p>EDIT: Actually, upon further review, that may not hook in with the site search...</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have signed up(paid) for Google site search. They have me a url of a sort of web service where I can send a query to it, it searches my site, and it returns XML of the search results. Well I am trying to load this XML via Ajax from a page on my site but I cannot. I can load from any of my pages on my domain so I am assuming it is because of the XML being on Google's domain. So there has got to be a way to load it though, I don't think they would have given me the URL if I couldn't do anything with it lol. Does anyone know how to do this?</p>\n\n<p>Thanks!</p>\n\n<p><strong>UPDATE</strong>:</p>\n\n<p>this is what the page says on google that gave me the XML:</p>\n\n<blockquote>\n  <p>How to get XML</p>\n  \n  <p>You can get XML results for your\n  search engine by replacing query+terms\n  with your search query in this URL:</p>\n  \n  <p><a href=\"http://www.google.com/cse?cx=MY_UNIQUE_KEY&amp;client=google-csbe&amp;output=xml_no_dtd&amp;q=query+terms\" rel=\"nofollow\">http://www.google.com/cse?cx=MY_UNIQUE_KEY&amp;client=google-csbe&amp;output=xml_no_dtd&amp;q=query+terms</a></p>\n</blockquote>\n\n<p>Where MY_UNIQUE_KEY = my unique key. </p>\n",
            "last_activity_date": 1273544531,
            "question_id": 895045,
            "score": 2,
            "tags": [
                "javascript",
                "ajax",
                "cross-domain"
            ],
            "title": "Ajax: Load XML from different domain?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<pre><code>$(function(){\n  $box = $('div.box');\n  $box.children().each(function(){\n    if ($box.width() &lt; $(this).width()) {\n      $(this).wrap('&lt;marquee&gt;');\n    }\n  )};\n});\n</code></pre>\n\n<p>Would work in jQuery (I haven't checked it yet. If you have any problems with it reply). Optionally, you could set a scroll attribute in css.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This wouldn't work for your problem as described (plain text in a div), but if that's just a minimal case, you can use <code>overflow: auto</code>, which will add a horizontal scrollbar if it overflows.</p>\n\n<p>(Note also that marquee is a non-standard HTML tag.)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>solving the conditional part</p>\n\n<h2>JS</h2>\n\n<pre><code>var el = $('your element');\nif (el.get(0).scrollWidth &gt; el.width()) {\n    // Your marquee code here\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The conditional part can be resolved easily like rennat proposed.</p>\n\n<p>Is it possible for you to use jQuery? If it is, build your html compatible with <a href=\"http://remysharp.com/demo/marquee.html\" rel=\"nofollow\">jQuery marquee plugin</a>, and just call $(element).marquee(); for the animation. It's better than the '<code>&lt;marquee&gt;</code>' tag since it uses only divs with proper css attributes (avoiding non-standard tags use).</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>well heres my problem. Lets say i have 3 div tags, all are 100pixels wide:</p>\n\n<pre><code>&lt;--- DIV WIDTH ---&gt;\nText in div 1\nText in div two, it overflows\nText in div three\n&lt;--- DIV WIDTH ---&gt;\n</code></pre>\n\n<p>Now, currently i have this css for the divs:</p>\n\n<pre><code>width:100px;\noverflow:hidden;\n</code></pre>\n\n<p>What i want to do is if the text overflows, it scrolls like a marquee so all the text can be seen if you wait a little bit. But i only want the marquee to show if the text overflows.</p>\n\n<p>How would i do this?</p>\n\n<p>Thx, Tony</p>\n",
            "last_activity_date": 1274719216,
            "question_id": 835684,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "marquee"
            ],
            "title": "Marquee Text When Text Overflows"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>the only definite solution seems to be writing your own arbitrary precision number type working on strings internally -- which will be complicated and horribly slow.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>According to Douglas Crockford, the only way around this problem is scale your values to integer. Make sure it really is an integer by using <code>Math.round</code> on the scaled value. (DC does not talk about the rounding part, but I discovered it was necessary. e.g. <code>Math.round(1.1 *100))</code> Do calculation(s). When you are done with the math scale back to original precision. See <em>JavaScript: The Good Parts</em> \"Floating Point\" section.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>One answer is to do the math in decimal instead of binary. Then you never have to worry about the decimal &lt;=> binary conversion errors. You'd represent the numbers as binary digits in an array or a string and write the math routines yourself.</p>\n\n<p>Here are some bignumber libraries you can look into if you don't want to go to that trouble:</p>\n\n<p><a href=\"http://jsfromhell.com/classes/bignumber\" rel=\"nofollow\">http://jsfromhell.com/classes/bignumber</a></p>\n\n<p><a href=\"http://stz-ida.de/html/oss/js%5Fbigdecimal.html.en\" rel=\"nofollow\">http://stz-ida.de/html/oss/js_bigdecimal.html.en</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I write line of business applications.  I'd like to build a front-end end using Javascript and am trying to figure out how to deal with, for a business user, are floating point errors (I understand from a computer science perspective they might not be considered errors).  I've read plenty on this and seen all kinds of rounding hacks that work on examples given but seem prone to break down unexpectedly.  Is there a definitive way to do decimal math in javascript?</p>\n",
            "last_activity_date": 1249692386,
            "question_id": 831687,
            "score": 2,
            "tags": [
                "javascript",
                "floating-point"
            ],
            "title": "Is there a definitive solution to javascript floating-point errors?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I guess the reason why you don't have SSL on your test box is due to the cost of the certificate. Did you know you can get Free short term certificates? I've often used them to sort out issues like this.</p>\n\n<p>For example <a href=\"http://www.rapidssl.com/ssl-certificate-products/free-ssl/freessl.htm\" rel=\"nofollow\">RapidSSL</a> do a <a href=\"http://www.rapidssl.com/ssl-certificate-products/free-ssl/freessl.htm\" rel=\"nofollow\">free 30 day certificate</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Well after scouring the Internet I found the issue. It has to do with a bug in the the ASP.NET AJAX client-side framework.</p>\n\n<p>I'll paraphrase what I found:</p>\n\n<p>The issue is a race condition that occurs due to an Internet Explorer/ASP.Net AJAX bug. The probability of encountering this issue increases when the application has a significant number of ASP.Net AJAX enabled server controls on the web page. The issue is explained here, <a href=\"http://seejoelprogram.wordpress.com/2008/10/03/fixing-sysapplicationinitialize-again\" rel=\"nofollow\">http://seejoelprogram.wordpress.com/2008/10/03/fixing-sysapplicationinitialize-again</a> . I have added this fix to the project I'm working on.</p>\n\n<p>This fix is still required if using ASP.NET 3.5 SP1.</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>If you don't know what the operation aborted error is, here's a Microsoft KB Article about it, <a href=\"http://support.microsoft.com/default.aspx/kb/927917\" rel=\"nofollow\">http://support.microsoft.com/default.aspx/kb/927917</a> . There's also tonnes of posts about it but the simple answer for it's occurrence is this; the error only occurs if you try to manipulate a DOM element via JavaScript before the element you are trying to manipulate is loaded.</p>\n\n<p>I know how Internet Explorer's (IE) infamous Operation Aborted occurs and know how to fix it. The problem I have is a very weird scenario. Testing locally and on a development machine with IE7, I never ever get the operation aborted error (both sites running as http).</p>\n\n<p>However on our client's testing site it occurs all the time. Unfortunately my testing environment is not the same as the client's testing environment, so that adds some variables to the mix, but the main difference I see is that the client's testing site is using SSL.</p>\n\n<p>Has anyone ever had the Operation Aborted error only for an SSL site?</p>\n\n<p>The other thought that popped in my head was that it was a latency issue. Locally the site loads up almost instantaneously whereas on my client's testing site, the page loads slower. So with that in mind, I got Fiddler running and simulated the performance to run at old school modem speeds, still no operation aborted error locally or on our own testing server.</p>\n\n<p>FYI: The site is an ASP.NET 2.0 Site using ASP.NET AJAX Extensions 1.0. The page with the issue also has the AJAX Control Toolkit's Cascading Drop Down on it.</p>\n\n<p>And yes as far as I can tell all JavaScript that manipulates the DOM is at the end of the markup, not the beginning.</p>\n\n<p>Any help or comments is greatly appreciated.</p>\n",
            "last_activity_date": 1245098992,
            "question_id": 757758,
            "score": 2,
            "tags": [
                "asp.net",
                "javascript",
                "internet-explorer",
                "asp.net-ajax"
            ],
            "title": "Internet Explorer&#39;s Operation Aborted and Latency Issue"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Try console.log() in the event to see if it is launched. Changing the store should work, however for other widgets like grid you have also to call refreshing methods.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I couldn't believe this was causing the problem, but the whole issue boiled down to the fact that it appears that a dojo ItemFileReadStore <em>REQUIRES</em> the label property of the JSON to be \"name\". In the end this is all that it required to wire them together.</p>\n\n<pre><code>dojo.addOnLoad(function () {\n\n    dijit.byId('filtering_select_2').store = new dojo.data.ItemFileReadStore({url: '/site/url'});\n\n    dojo.connect(dijit.byId('filtering_select_1'), 'onChange', function (val) {\n        dijit.byId('filtering_select_2').query.property_1 = val || \"*\";\n    });\n});\n</code></pre>\n\n<p>UPDATE: The property within Zend form has been fixed as of ZF 1.8.4</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I'm trying to bind an onChange event of one FilteringSelect to populate another FilteringSelect. </p>\n\n<pre><code>// View\ndojo.addOnLoad(function () {\n    dojo.connect(dijit.byId('filterselect1'), 'onChange', function () {\n        dijit.byId('filterselect2').store = new dojo.data.ItemFileReadStore(\n            { url: \"/test/autocomplete/id/\" + dijit.byId(\"filterselect1\").value }\n        );\n    });\n});\n</code></pre>\n\n<p>The JSON is generated from what I can tell correctly from a Zend Action Controller using a autoCompleteDojo helper. </p>\n\n<pre><code>// Action Controller\npublic function autocompleteAction()\n{\n    $id = $this-&gt;getRequest()-&gt;getParam('id');\n    $select = $this-&gt;_table-&gt;select()\n                           -&gt;from($this-&gt;_table, array('id','description'))\n                           -&gt;where('id=?',$id);\n\n    $data = new Zend_Dojo_Data('id', $this-&gt;_table-&gt;fetchAll($select)-&gt;toArray(), 'description');\n\n    $this-&gt;_helper-&gt;autoCompleteDojo($data);\n}\n</code></pre>\n\n<p>I receive the JSON from the remote datastore correctly, but it does not populate the second FilteringSelect. Is there something else I need to do to push the JSON onto the FilteringSelect?</p>\n",
            "last_activity_date": 1316550262,
            "question_id": 753533,
            "score": 2,
            "tags": [
                "javascript",
                "zend-framework",
                "dojo"
            ],
            "title": "Populating a FilteringSelect datastore from an onChange event"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I think somehow the alert is actually causing the extra events in Chrome. With the following code I only see one event.</p>\n\n<pre><code>$(document).ready(function() {\n  $(\"p a\").each(function(i, selected){\n    $(selected).hover( \n      function(event) { $(\"p\").append('&lt;br&gt;over: ' + event.type); }, \n      function(event) { $(\"p\").append(' out: ' + event.type); });\n    }\n  )\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>I suppose this doesn't answer your question, but this post came up while researching my own bug. It turned out the problem was that I had inadvertently included an external javascript twice.</p>\n\n<p>Just thought it would be worthwhile to document this for others who have the same problem. An obvious error that took a while to track down!</p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>I'm trying some event bindings with jQuery, and I have this simple code in my document ready:</p>\n\n<pre><code>$(document).ready(function() {\n    $(\"p a\").each(function(i, selected){\n        $(selected).hover(\n            function(event) { alert('over: ' + event.type); },\n            function(event) { alert('out: ' + event.type); });\n        }\n    )\n});\n</code></pre>\n\n<p>So, when I move mouse over a link thats inside a paragraph (selector is \"p a\") alerts pop-up twice. So, mouseenter and mouseleave are fired twice.</p>\n\n<p>This only happens in Google Chrome. In Internet&nbsp;Explorer&nbsp;7, <a href=\"http://en.wikipedia.org/wiki/Mozilla_Firefox\" rel=\"nofollow\">Firefox</a> 3, <a href=\"http://en.wikipedia.org/wiki/Opera_%28web_browser%29\" rel=\"nofollow\">Opera</a> and <a href=\"http://en.wikipedia.org/wiki/Safari_%28web_browser%29\" rel=\"nofollow\">Safari</a> both events are fired only once.</p>\n\n<p>Why is this happening?</p>\n",
            "last_activity_date": 1350495683,
            "question_id": 598276,
            "score": 2,
            "tags": [
                "javascript",
                "jquery",
                "events",
                "google-chrome"
            ],
            "title": "JavaScript/jQuery: event fired twice"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>Trying to call map( Menu.add , languages )</p>\n</blockquote>\n\n<p>Here your problem is almost certainly that of JavaScript's lack of bound methods.</p>\n\n<p>The setting of \u2018this\u2019 for a function is determined only at call-time, by examining how the method was obtained. If you say one of:</p>\n\n<pre><code>obj.method();\nobj['method']();\n</code></pre>\n\n<p>JavaScript will pick up the reference to \u2018obj\u2019 and set \u2018this= obj\u2019 inside the method call. But if you say:</p>\n\n<pre><code>obj2.method= obj.method;\nobj2.method();\n</code></pre>\n\n<p>Now \u2018this\u2019 inside the function will be obj2, <em>not</em> obj!</p>\n\n<p>Similarly, if you pick the method off its object and refer to it as a first-class object:</p>\n\n<pre><code>var method= obj.method;\nmethod();\n</code></pre>\n\n<p>There will be no object for \u2018this\u2019 to get set to, so JavaScript sets it to the global object (aka \u2018window\u2019 for web browsers). This is probably what is happening in your case: the \u2018Menu.add\u2019 method loses all reference to its owner \u2018Menu\u2019, so when it gets called back it is most likely unknowingly writing to members of the \u2018window\u2019 object instead of a menu.</p>\n\n<p>This is of course highly unusual for an OO language, and almost never what you want, but hey, that's how JavaScript rolls. Causing silent, hard-to-debug errors is all part of the language's rationale.</p>\n\n<p>To get around this problem you could pass an object reference in to your map function, then use Function.call()/apply() to set the \u2018this\u2019 reference correctly:</p>\n\n<pre><code>function mapMethod(fn, obj, sequence) {\n    for (var i= 0; i&lt;sequence.length; i++)\n        sequence[i]= fn.call(obj, sequence[i]);\n}\n\nmapMethod(Menu.add, Menu, languages)\n</code></pre>\n\n<p>A more general way would be to bind function references manually, using a closure:</p>\n\n<pre><code>function bindMethod(fn, obj) {\n    return function() {\n        fn.apply(obj, arguments)\n    };\n}\n\nmap(bindMethod(Menu.add, Menu), languages)\n</code></pre>\n\n<p>This capability will be built into a future version of JavaScript:</p>\n\n<pre><code>map(Menu.add.bind(Menu), languages)\n</code></pre>\n\n<p>And it is possible to add this facility to current browsers by writing to Function.prototype.bind\u2009\u2014\u2009indeed, some JS frameworks do already. However note:</p>\n\n<ul>\n<li><p>ECMAScript 3.1 promises you'll also be able to pass extra arguments into bind() to do partial function application, which requires a little more code than bindMethod() above;</p></li>\n<li><p>IE loves to leak memory when you start leaving references like bound methods on DOM objects like event handlers.</p></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I recently tried to use an implementation of map in javascript to create a bunch of items, then apply them to an objects add method.</p>\n\n<p>Firstly with a bog standard implementation of map.</p>\n\n<pre><code>var map = function (fn, a)\n{\n    for (i = 0; i &lt; a.length; i++)\n    {\n        a[i] = fn(a[i]);\n    }\n}\n</code></pre>\n\n<p>Setup.</p>\n\n<pre><code>var translateMenu = new Menu;\n\nvar languages = [ ['Chinese'   , 'zh-CN']\n                , ['German'    , 'de']\n                , ['French'    , 'fr']\n                , ['Portugese' , 'pt']\n                , ['Hindi'     , 'hi']\n                ];\n</code></pre>\n\n<p>And my function... (not anonymous, as it's later used when adding the translateMenu to mainMenu.)</p>\n\n<pre><code>var langItem = function (language, subMenu) \n    { \n       return new MenuItem(language[0], 'http://translate.google.com/translate?u=www.example.com&amp;hl=en&amp;ie=UTF-8&amp;tl=en&amp;sl=' + language[1] , \"\" , subMenu); \n\n    }\n\nmap ( langItem , languages );\n</code></pre>\n\n<p>This all worked fine, I now had an array of MenuItems to throw around.</p>\n\n<p>Trying to call <code>map( Menu.add , languages )</code> would result in internal variables of Menu being undefined, and the call failing.<br />\nNow I'm certain this has to do with the scope of the <code>Menu.add()</code> method, so i thought if I passed in the object as well, it might work. </p>\n\n<p>I tried creating a new map function that would accept objects and functions, but had the same undefined error.</p>\n\n<pre><code>objMap (fn , obj , a) {\n    for (i = 0; i &lt; a.length; i++)\n    {\n        obj.fn(a);\n    }   \n}\nobjMap ( add , translateMenu , languages );   // failed\n</code></pre>\n\n<p>I worked around this by extending Menu with addAll() to take an array, which works fine...</p>\n\n<pre><code>Menu.prototype.addAll = function (items){\n    for (i = 0; i &lt; items.length; i++)\n    {\n        this.add(items[i]);\n    }\n}\n\ntranslateMenu.addAll( languages ); // yay! but I want a more elegant solution.\n</code></pre>\n\n<p>Anyway, my question is, <strong>how could I implement map (or a similar generic function) to actually support using  object methods as my mapped functions?</strong>.</p>\n",
            "last_activity_date": 1235567187,
            "question_id": 585840,
            "score": 2,
            "tags": [
                "php",
                "javascript",
                "functional-programming",
                "variable-scope"
            ],
            "title": "Implement map in javascript that supports object methods as mapped functions?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Add another query string variable that the page can use to trigger existing vs new.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Your session vars are controlled by the server,\nJS runs client side, and as such cannot modify the vars directly.</p>\n\n<p>You need to make server requests using POST or GET and hidden\niframes, or XMLHTTPRequest() calls to send data from the JS to\nthe server, and then have your server side code handle the vars.</p>\n\n<p>Add another query string variable that the page can use to trigger existing vs new.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You definitely need to add a variable to the target page.  But I take it that you are doing a popup scenario, so you should be able to create a javascript function OpenWindow() and fire it off when the user clicks the link.</p>\n\n<pre><code>&lt;script&gt;\nfunction OpenWindow(eventId, editMode)\n{\n    var window = window.open(\"popup.aspx?eventId=\" + eventId + \"&amp;editMode=\" + editMode);\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>On the server side you need to build the call to the OpenWindow function.  For example:</p>\n\n<pre><code>onclick=\"OpenWindow(eventId=\" + row[\"eventId\"].ToString() + \"&amp;editMode=\" + editMode.ToString() + \");\"\n</code></pre>\n\n<p>So in other words, prep everything on the serverside to set your javascript to post all variables to the new page.  Hope this helps.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you are using something like Struts2, you can have a hidden variable in your jsp</p>\n\n<pre><code>&lt;s:hidden id=\"EditModeId\" value=\"%{#session.EditMode}\"/&gt; \n</code></pre>\n\n<p>And within javascript simply access this variable </p>\n\n<pre><code>alert(document.getElementById('EditModeId').value);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>var page1 = document.getElementById(\"textbox\").value; \nsessionStorage.setItem(\"page1content\", page1);\n</code></pre>\n\n<p>in other page use this value as like session variable </p>\n\n<pre><code>document.getElementById(\"textbox2\").value=sessionStorage.getItem(\"page1content\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a database that stores events in it and a page with a calendar object on it. When rendering the days it looks through the months events and if any match the current day being rendered it creates a linkbutton to represent the event in the day on the calendar and adds it to that cell. I add some javascript to the linkbutton to change the window.location to a page to view event details passing EventID in the querystring ( I tried setting the postbackurl of the newly created linkbutton but it wasnt causing a postback... no luck). I need to set a Session variable ie. Session(\"EditMode\") = \"Edit\" So the new page will know it is to get an existing event info rather than prepare to create a new event? Any SUGGESTIONS?</p>\n",
            "last_activity_date": 1404213261,
            "question_id": 129898,
            "score": 2,
            "tags": [
                "javascript",
                "session"
            ],
            "title": "Javascript and session variables"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You need to add a unique id or class for each button and link a click function for each button like this:</p>\n\n<pre><code>$('.btn-toggle').click(function() {\n    $(this).toggleClass('active'); \n        console.log($(this));\n });\n\n$('.btn-toggle2').click(function() {\n    $(this).toggleClass('active'); \n        console.log($(this));\n });\n\n$('.btn-toggle3').click(function() {\n    $(this).toggleClass('active'); \n        console.log($(this));\n });\n\n$('.btn-toggle4').click(function() {\n    $(this).toggleClass('active'); \n        console.log($(this));\n });\n</code></pre>\n\n<p>Or you can group them together like this if they have a common function:</p>\n\n<pre><code>$('.btn-toggle', '.btn-toggle2', '.btn-toggle3', '.btn-toggle4') .click(function() {\n    $(this).toggleClass('active'); \n        console.log($(this));\n });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use <code>.closest('div')</code> to target the closest div of the element that triggered the <code>.change()</code> event and use <code>.find()</code> to target the class.</p>\n\n<p>One function to to deal with all change events for elements with the class of <code>MyToggle</code></p>\n\n<p>This will allow you to run the same function for all questions as shown in the demo below.</p>\n\n<blockquote>\n  <p><strong>Update:</strong> Yes/No toggle</p>\n</blockquote>\n\n<p><strong>Demo</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".MyToggle\").click(function() {\r\n    $(this).val()=='yes'?$(this).closest('div').find('.Questions').show():$(this).closest('div').find('.Questions').hide();\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.Questions{display:none;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div&gt;\r\n    Yes&lt;button class=\"MyToggle\" value=\"yes\"&gt;Yes&lt;/button&gt; &lt;button class=\"MyToggle\"  value=\"no\"&gt;No&lt;/button&gt;\r\n    &lt;div class=\"Questions\"&gt;Questions?&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div&gt;\r\n    Yes&lt;input type=\"radio\" name=\"Q2\" class=\"MyToggle\" value=\"yes\"/&gt; No&lt;input type=\"radio\" name=\"Q2\" class=\"MyToggle\"  value=\"no\"/&gt;\r\n    &lt;div class=\"Questions\"&gt;Questions?&lt;/div&gt;\r\n&lt;/div&gt;&lt;div&gt;\r\n    Yes&lt;input type=\"radio\" name=\"Q3\" class=\"MyToggle\" value=\"yes\"/&gt; No&lt;input type=\"radio\" name=\"Q3\" class=\"MyToggle\"  value=\"no\"/&gt;\r\n    &lt;div class=\"Questions\"&gt;Questions?&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I hope this helps. Happy coding!</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>Looks like NewToJS beat me to the punch with the closest DIV, but instead we use a <code>.each()</code> to remove the active class from all buttons in the DIV before adding the active class only to the clicked button.</p>\n\n<p>This example uses buttons instead of radio controls.</p>\n\n<pre><code>$('.yes-no').click(function(){\n    $(this).closest('div').find('.yes-no').each(function(){\n        $(this).removeClass('active');\n    });\n    $(this).addClass('active');\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/tbL8pphr/\" rel=\"nofollow\">jsFiddle Demo</a></p>\n\n<hr>\n\n<p>And when it comes time to sum up all the answers, you would do it this way:</p>\n\n<pre><code>$('#mybutt').click(function(){\n    var cnt = 0;\n    var obj = {};\n    $('.btn-group').each(function(){\n        cnt++;\n        obj[cnt] = $(this).find('.active').text();\n    });\n    alert( JSON.stringify(obj) );\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/tbL8pphr/1/\" rel=\"nofollow\">jsFiddle Demo</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have 5 questions in a form, and a few of them have a YES / NO response. I wanted to just be able to toggle the yes and no buttons once the user selected one of them. The issue I am running into is if one of the question is answered, and I answer the next question, it removes the answer from all other questions. I'm sure there is something simple I am missing.</p>\n\n<p><strong>* Update *</strong></p>\n\n<p>I got everything working the way I wanted to, thank you all for the help. One thing I have noticed now, the questions with the sub question, when I select the yes or no, the sub question display, but if I click anywhere on the screen, it removes the active class from the question.</p>\n\n<p>HTML:</p>\n\n<pre><code> &lt;div class=\"col-xs-12 col-md-6 col-md-offset-2 study-question\" id=\"q-2\"&gt;\n                &lt;p&gt;&lt;strong&gt;2.&lt;/strong&gt; HAVE YOU HAD SHINGLES?&lt;/p&gt;\n                &lt;input name=\"radio\" type='hidden' value=\"Yes\"/&gt;\n                &lt;div class=\"btn-group btn-toggle\"&gt;\n                    &lt;button type=\"button\" class=\"btn btn-default yes-no btn-1\" data-radio-name=\"radio\"&gt;Yes&lt;/button&gt;\n                    &lt;button type=\"button\" class=\"btn btn-default yes-no\" data-radio-name=\"radio\"&gt;No&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n           &lt;div class=\"col-xs-12 col-md-6 col-md-offset-2 study-question\" id=\"q-3\"&gt;\n                &lt;p&gt;&lt;strong&gt;3.&lt;/strong&gt; HAVE YOU HAD PAIN IN THE AREA OF THE SHINGLES RASH FOR AT LEAST THE LAST 3 MONTHS?&lt;/p&gt;\n                &lt;input name=\"radio\" type='hidden' value=\"Yes\"/&gt;\n                &lt;div class=\"btn-group\" data-toggle=\"buttons\"&gt;\n                    &lt;button type=\"button\" class=\"btn btn-default yes-no\" data-radio-name=\"radio\" value=\"yes\"&gt;Yes&lt;/button&gt;\n                    &lt;button type=\"button\" class=\"btn btn-default yes-no\" data-radio-name=\"radio\" value=\"no\"&gt;No&lt;/button&gt;\n\n                    &lt;div class=\"row\"&gt;\n                        &lt;div class=\"col-xs-12 col-md-6 col-md-offset-2 study-question sub-question\"&gt;\n                            &lt;p&gt;&lt;strong&gt;3A.&lt;/strong&gt; IF IT HAS NOT YET BEEN 3 MONTHS, HOW LONG WOULD YOU ESTIMATE THIS PAIN HAS BEEN ONGOING?&lt;/p&gt;\n                            &lt;input name=\"radio\" type='hidden' value=\"Yes\"/&gt;\n                            &lt;input type=\"email\" class=\"form-control study-form-control\" id=\"how-many-year\" placeholder=\"How long?\"&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>    $('.yes-no').click(function(){\n    $(this).closest('div').find('.yes-no').each(function(){\n        $(this).removeClass('active');\n    });\n\n    $(this).addClass('active');\n\n\n    $(this).val()=='yes'?$(this).closest('div').find('.sub-question').show():$(this).closest('div').find('.sub-question').hide();\n\n});\n</code></pre>\n\n<hr>\n\n<p>HTML</p>\n\n<pre><code>&lt;div class=\"col-xs-12 col-md-6 col-md-offset-2 study-question\"&gt;\n  &lt;p&gt;&lt;strong&gt;4.&lt;/strong&gt; DO YOU HAVE ANY OTHER CHRONIC  PAIN THAT IS NOT ASSOCIATED WITH YOUR SHINGLES PAIN?&lt;/p&gt;\n  &lt;input name=\"radio\" type='hidden' value=\"Yes\"/&gt;\n  &lt;div class=\"btn-group\" data-toggle=\"buttons\"&gt;\n    &lt;button type=\"button\" class=\"btn btn-default yes-no\" data-radio-name=\"radio\"&gt;Yes&lt;/button&gt;\n    &lt;button type=\"button\" class=\"btn btn-default yes-no\" data-radio-name=\"radio\"&gt;No&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"col-xs-12 col-md-6 col-md-offset-2\"&gt;\n  &lt;p&gt;&lt;strong&gt;5.&lt;/strong&gt; ARE YOU (CURRENTLY) TAKING MEDICINE TO MANAGE THE PAIN FROM SHINGLES?&lt;/p&gt;\n  &lt;input name=\"radio\" type='hidden' value=\"Yes\"/&gt;\n  &lt;div class=\"btn-group\" data-toggle=\"buttons\"&gt;\n    &lt;button type=\"button\" class=\"btn btn-default yes-no\" data-radio-name=\"radio\"&gt;Yes&lt;/button&gt;\n    &lt;button type=\"button\" class=\"btn btn-default yes-no\" data-radio-name=\"radio\"&gt;No&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>$('.btn-toggle').click(function() {\n    $(this).toggleClass('active'); \n    console.log($(this));\n});\n</code></pre>\n\n<p>I just want it to target the current question that the user is trying to answer, not all of them at once.</p>\n",
            "last_activity_date": 1425954030,
            "question_id": 28954143,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "html"
            ],
            "title": "Toggle Yes / NO with multiple questions"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Since you are declaring isolated scope property <code>attr</code> you should be able to access <code>scope.attr</code> in template like this:</p>\n\n<pre><code>mymodule.directive('eicon', function(){\n    return {\n        restrict: 'E',\n        scope: {\n            attr: '='\n        },\n        template: \"test {{attr.name}}\"\n    }\n});\n</code></pre>\n\n<p><strong>Demo:</strong> <a href=\"http://plnkr.co/edit/YZ0aPqhkMlIIwmrkKK2v?p=preview\" rel=\"nofollow\">http://plnkr.co/edit/YZ0aPqhkMlIIwmrkKK2v?p=preview</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><code>attr</code> is accessible in scope, so you can access <code>scope.attr</code> in your controller or linking phase, or <code>{{attr}}</code> in templates. A simple solution is to change your template to </p>\n\n<pre><code>mymodule.directive('eicon', function(){\n    return {\n        restrict: 'E',\n        scope: {\n            attr: '='\n        },\n        template: \"test {{attr.name}}\",\n        link: function (scope, element, attrs) {\n          console.log(scope.attr);\n        },\n        controller: function (scope) {\n          console.log(scope.attr);\n        }\n    }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>Directive code</p>\n\n<pre><code>mymodule.directive('eicon', function(){\n    return {\n        restrict: 'E',\n        scope: {\n            attr: '='\n        },\n        template: \"test \" + attr.name\n    }\n});\n</code></pre>\n\n<p>Html</p>\n\n<pre><code>&lt;tr ng-repeat=\"e in entities\"&gt;\n    &lt;td&gt;&lt;eicon attr=\"e\"&gt;&lt;/eicon&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>I've this error: <code>ReferenceError: attr is not defined</code>. What's wrong?</p>\n",
            "last_activity_date": 1423401106,
            "question_id": 28394118,
            "score": 1,
            "tags": [
                "javascript",
                "angularjs",
                "angularjs-directive"
            ],
            "title": "AngularJS directive scope not resolved (&quot;attr name is not defined&quot; error)"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>The first example code kind of misses the purpose of the prototype. You will be recreating checkProduct method for each instance. While it will be defined only on the prototype, and will not consume memory for each instance, it will still take time.</p>\n\n<p>If you wish to encapsulate the class you can check for the method's existence before stating the checkProduct method:</p>\n\n<pre><code>if(!Filter.prototype.checkProduct) {\n  Filter.prototype.checkProduct = function( product ){\n    // run some checks\n    return is_match;\n  }\n}\n</code></pre>\n\n<p>There is one more thing you should consider. That anonymous function's closure now has access to all variables inside the constructor, so it might be tempting to access them, but that will lead you down a rabbit hole, as that function will only be privy to a single instance's closure. In your example it will be the last instance, and in my example it will be the first.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<blockquote>\n  <p>Functionally, are there any drawbacks to structuring my code this way?\n  Will adding a prototypical method to a prototype object inside the\n  constructor function's body (i.e. before the constructor function's\n  expression statement closes) cause unexpected scoping issues?</p>\n</blockquote>\n\n<p>Yes, there are drawbacks and unexpected scoping issues.</p>\n\n<ol>\n<li><p>Assigning the prototype over and over to a locally defined function, both repeats that assignment and creates a new function object each time.  The earlier assignments will be garbage collected since they are no longer referenced, but it's unnecessary work in both runtime execution of the constructor and in terms of garbage collection compared to the second code block.</p></li>\n<li><p>There are unexpected scoping issues in some circumstances.  See the <code>Counter</code> example at the end of my answer for an explicit example.   If you refer to a local variable of the constructor from the prototype method, then your first example creates a potentially nasty bug in your code.</p></li>\n</ol>\n\n<p>There are some other (more minor) differences.  Your first scheme prohibits the use of the prototype outside the constructor as in:</p>\n\n<pre><code>Filter.prototype.checkProduct.apply(someFilterLikeObject, ...)\n</code></pre>\n\n<p>And, of course, if someone used:</p>\n\n<pre><code>Object.create(Filter.prototype) \n</code></pre>\n\n<p>without running the <code>Filter</code> constructor, that would also create a different result which is probably not as likely since it's reasonable to expect that something that uses the <code>Filter</code> prototype should run the <code>Filter</code> constructor in order to achieve expected results.</p>\n\n<hr>\n\n<p>From a run-time performance point of view (performance of calling methods on the object), you would be better off with this:</p>\n\n<pre><code>var Filter = function( category, value ){\n  this.category = category;\n  this.value = value;\n\n  // product is a JSON object\n  this.checkProduct = function( product ){\n    // run some checks\n    return is_match;\n  }\n\n};\n</code></pre>\n\n<p>There are some Javascript \"experts\" who claim that the memory savings of using the prototype is no longer needed (I watched a video lecture about that a few days ago) so it's time to start using the better performance of methods directly on the object rather than the prototype.  I don't know if I'm ready to advocate that myself yet, but it was an interesting point to think about.</p>\n\n<hr>\n\n<p>The biggest disadvantage of your first method I can think of is that it's really, really easy to make a nasty programming mistake.  If you happen to think you can take advantage of the fact that the prototype method can now see local variables of the constructor, you will quickly shoot yourself in the foot as soon as you have more than one instance of your object.  Imagine this circumstance:</p>\n\n<pre><code>var Counter = function(initialValue){\n  var value = initialValue;\n\n  // product is a JSON object\n  Counter.prototype.get = function() {\n      return value++;\n  }\n\n};\n\nvar c1 = new Counter(0);\nvar c2 = new Counter(10);\nconsole.log(c1.get());    // outputs 10, should output 0\n</code></pre>\n\n<p>Demonstration of the problem: <a href=\"http://jsfiddle.net/jfriend00/c7natr3d/\" rel=\"nofollow\">http://jsfiddle.net/jfriend00/c7natr3d/</a></p>\n\n<p>This is because, while it looks like the <code>get</code> method forms a closure and has access to the instance variables that are local variables of the constructor, it doesn't work that way in practice.  Because all instances share the same prototype object, each new instance of the <code>Counter</code> object creates a new instance of the <code>get</code> function (which has access to the constructor local variables of the just created instance) and assigns it to the prototype, so now all instances have a <code>get</code> method that accesses the local variables of the constructor of the last instance created.  It's a programming disaster as this is likely never what was intended and could easily be a head scratcher to figure out what went wrong and why.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>In first example <code>Filter</code> prototype is not filled with functions until <code>Filter</code> is invoked at least once. What if somebody tries to inherit <code>Filter</code> prototypically? Using either nodejs'</p>\n\n<pre><code>function ExtendedFilter() {};\nutil.inherit(ExtendedFilter, Filter);\n</code></pre>\n\n<p>or <code>Object.create</code>:</p>\n\n<pre><code>function ExtendedFilter() {};\nExtendedFilter.prototype = Object.create(Filter.prototype);\n</code></pre>\n\n<p>always ends up with empty prototype in prototype chain if forgot or didn't know to invoke <code>Filter</code> first.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Biggest disadvantage of your code is closing possibility to override your methods.</p>\n\n<p>If I write:</p>\n\n<pre><code>Filter.prototype.checkProduct = function( product ){\n    // run some checks\n    return different_result;\n}\n\nvar a = new Filter(p1,p2);\n\na.checkProduct(product);\n</code></pre>\n\n<p>The result will be different than expected as original function will be called, not my.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>While the other answers have focused on the things that are wrong with assigning to the prototype from inside the constructor, I'll focus on your first statement:</p>\n\n<blockquote>\n  <p>Stylistically, I prefer this structure</p>\n</blockquote>\n\n<p>Probably you like the clean <a href=\"https://en.wikipedia.org/wiki/Encapsulation_(object-oriented_programming)\" rel=\"nofollow\">encapsulation</a> that this notation offers - everything that belongs to the class is properly \"scoped\" to it by the <code>{}</code> block. (of course, the fallacy is that it is <em>scoped</em> to each <em>run</em> of the constructor function).</p>\n\n<p>I suggest you take at the (revealing) <a href=\"http://addyosmani.com/resources/essentialjsdesignpatterns/book/#modulepatternjavascript\" rel=\"nofollow\">module patterns</a> that JavaScript offers. You get a much more explicit structure, standalone constructor declaration, class-scoped private variables, and everything properly encapsulated in a block:</p>\n\n<pre><code>var Filter = (function() {\n\n    function Filter(category, value) { // the constructor\n        this.category = category;\n        this.value = value;\n    }\n\n    // product is a JSON object\n    Filter.prototype.checkProduct = function(product) {\n        // run some checks\n        return is_match;\n    };\n\n    return Filter;\n}());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Stylistically, I prefer this structure:</p>\n\n<pre><code>var Filter = function( category, value ){\n  this.category = category;\n  this.value = value;\n\n  // product is a JSON object\n  Filter.prototype.checkProduct = function( product ){\n    // run some checks\n    return is_match;\n  }\n\n};\n</code></pre>\n\n<p>To this structure:</p>\n\n<pre><code>var Filter = function( category, value ){\n  this.category = category;\n  this.value = value;\n};// var Filter = function(){...}\n\nFilter.prototype.checkProduct = function( product ){\n  // run some checks\n  return is_match;\n}\n</code></pre>\n\n<p>Functionally, are there any drawbacks to structuring my code this way? Will adding a prototypical method to a prototype object inside the constructor function's body (i.e. before the constructor function's expression statement closes) cause unexpected scoping issues?</p>\n\n<p>I've used the first structure before with success, but I want to make sure I'm not setting myself for a debugging headache, or causing a fellow developer grief and aggravation due to bad coding practices.</p>\n",
            "last_activity_date": 1422737263,
            "question_id": 28255957,
            "score": 1,
            "tags": [
                "javascript",
                "methods",
                "scope",
                "prototype"
            ],
            "title": "Assigning prototype methods *inside* the constructor function - why not?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I believe that all you need to do is <code>Promise.delay(value).return(promise)</code>:</p>\n\n<p>You can wrap it in a utility function:</p>\n\n<pre><code>function stallPromise(promise, delay) {\n    return Promise.delay(delay).return(promise);\n}\n\nfunction doSomethingAsync(minDelay) {\n    var p = new Promise(makeCallWith3SecondLatency); \n\n    return stallPromise(p, minDelay);\n}\n\nvar minDelay = 5000;\ndoSomethingAsync(minDelay).then(printResult);\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/s572rg7y/1/\" rel=\"nofollow\">http://jsfiddle.net/s572rg7y/1/</a></p>\n\n<p><strong>Note</strong> that one thing about this is that if the promise rejects, the delayed promise will not reject until the five seconds have elapsed. This may be the desired behavior (as @Benjamin Gruenbaum points out in the comments), but if you would prefer for it to reject immediately, two other options are:</p>\n\n<p>With <code>Promise.join</code>:</p>\n\n<pre><code>function stallPromise(promise, delay) {\n    // if you're using underscore/lodash, you can use _.identity for this\n    function identity(val) { return val; }\n\n    return Promise.join(promise, Promise.delay(delay), identity);\n}\n</code></pre>\n\n<p>Or @Benjamin Gruenbaum's approach with <code>Promise.all</code>:</p>\n\n<pre><code>function minDelay(promise, delay) {\n    Promise.all([promise, Promise.delay(delay)]).get(0);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<h2>Your problem</h2>\n\n<p>First of all, the promisification of the other 3 second call is irrelevant here, it should not be part of the promise. While I'm flattered you liked my answer with <code>.join</code> it is also not a tool I'd actually use here.</p>\n\n<p>First, the API call is just an arbitrary promise returning function.</p>\n\n<pre><code>function yourApiCall(){\n    // your function that returns a promise AFTER promisificatin\n}\n</code></pre>\n\n<p>Actually, we don't really care about it. It might as well just be:</p>\n\n<pre><code>var p = ... ; //p is a promise\n</code></pre>\n\n<p>Now we want to make sure at least 3 seconds pass before we resolve p.</p>\n\n<pre><code>function minDelay(p, ms){ // stealing name from JLRishe's answer\n    return Promise.all([p, Promise.delay(ms)]).get(0);\n}\n</code></pre>\n\n<p>Which takes an arbitrary promise and returns a promise that takes at least <code>ms</code> milliseconds to resolve. </p>\n\n<pre><code>minDelay(p, 300).then(function(el){\n   // el is minDelay's return value and at least 300 ms have passed\n});\n</code></pre>\n\n<p>You can also put it on Bluebird's prototype (if you're writing a library be sure to get your own isolated copy first):</p>\n\n<pre><code>Promise.prototype.minDelay = function minDelay(ms){\n    // note that unlike the example above this will delay \n    // on rejections too \n    return Promise.delay(ms).return(this);\n}\n</code></pre>\n\n<p>Which would let you declaratively do:</p>\n\n<pre><code>p.minDelay(300).then(function(res){\n   // access result\n}); \n</code></pre>\n\n<h2>A more general problem</h2>\n\n<p>Often when people ask about this problem what they actually care about is making a function return a result at most every number of milliseconds or make a function act as a <em>monitor</em> for how often calls are made. This is to throttle the number of calls that are made to a web service that rate-limits. This should be limited at the <em>level of the function that returns the promise</em>. For example:</p>\n\n<pre><code>var queue = Promise.resolve();\nfunction throttle(fn, ms){\n    var res = queue.then(function(){ // wait for queue\n        return fn(); // call the function\n    });\n    queue = Promise.delay(ms).return(queue); // make the queue wait\n    return res; // return the result\n}\n</code></pre>\n\n<p>This would let you do:</p>\n\n<pre><code>function myApiCall(){\n    // returns a promise\n}\nvar api = throttle(myApiCall, 300); // make call at most every 300 ms;\n\napi(); // calls will be sequenced and queued\napi(); // calls will be made at most every 300 ms\napi(); // just be sure to call this directly, return this to consumers\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I want to guarantee a minimum delay on the resolution of a <a href=\"https://github.com/petkaantonov/bluebird/\" rel=\"nofollow\">bluebird.js</a> promise.</p>\n\n<p>As an example, let's say I'm making a request wrapped in a promise. The behaviour I want is that if the request takes less than 5 seconds, I want to artificially increase the delay of the promise resolution to 5 seconds. If the request were to take more than 5 seconds, I'd want no artificial delay added - so it's a little more complicated than just adding a static delay to every request. All of this should be completely hidden from the consumer of the promise - they should just see the promise being resolved in 5 seconds, or more.</p>\n\n<p>To demonstrate, I've got a simple mock implementation example which hardcodes the mocked request latency at 3 seconds.</p>\n\n<p>My first try went something like this - using a setTimeout to ensure the resolve callback isn't called before 5 seconds have passed. </p>\n\n<p><a href=\"http://jsfiddle.net/vu95ac07/\" rel=\"nofollow\">fiddle here</a></p>\n\n<pre><code>function getTimestamp() {\n  return new Date().getTime();   \n}\n\nfunction makeCallWith3SecondLatency(cb) {\n  console.log('mocking a call with 3 second latency...');\n  var mockResult = 'the result';\n  setTimeout(function() { cb(mockResult); }, 3000);\n}\n\nfunction doSomethingAsync(minDelay) {\n  return new Promise(function(resolve) {\n    var calledAt = getTimestamp();\n    makeCallWith3SecondLatency(function(arg) {\n      var actualDelay = getTimestamp() - calledAt;\n      if(actualDelay &lt; minDelay) {\n        var artificialDelay = minDelay - actualDelay;\n        console.log('artificially delay another ' + artificialDelay + ' millis');\n        setTimeout(function() { resolve(arg); }, artificialDelay);\n      } else {\n        resolve(arg);\n      }\n    });\n  });\n}\n\nfunction printResult(result) {\n  console.log('result: ' + result)   \n}\n\nvar minDelay = 5000;\ndoSomethingAsync(minDelay).then(printResult);\n</code></pre>\n\n<p>A lot of boilerplate. </p>\n\n<p>I then discovered through <a href=\"http://stackoverflow.com/questions/25842500/bluebird-promises-join-behaviour\">this answer</a> that I could use the Promise.join function to join the promise wrapping the request with a Promise.delay of the minimum 5 second delay to achieve the same thing:</p>\n\n<p><a href=\"http://jsfiddle.net/s572rg7y/\" rel=\"nofollow\">fiddle here</a></p>\n\n<pre><code>function makeCallWith3SecondLatency(cb) {\n  console.log('mocking a call with 3 second latency...');\n  var mockResult = 'the result';\n  setTimeout(function() { cb(mockResult); }, 3000);\n}\n\nfunction doSomethingAsync(minDelay) {\n  return Promise.join(\n                new Promise(function(resolve) { makeCallWith3SecondLatency(resolve); }),\n                Promise.delay(minDelay).then(function() { console.log('artificially delaying 5 seconds with Promise.delay') }),\n                function(result) { return result; });\n}\n\nfunction printResult(result) {\n  console.log('result: ' + result)   \n}\n\nvar minDelay = 5000;\ndoSomethingAsync(minDelay).then(printResult);\n</code></pre>\n\n<p>This is cleaner, but still a little more boilerplate than I'd like - I've dug around the <a href=\"https://github.com/petkaantonov/bluebird/blob/master/API.md#promisejoinpromisethenablevalue-promises-function-handler---promise\" rel=\"nofollow\">bluebird api reference</a> and can't find a function which does this directly.</p>\n\n<p>My question is simple - <strong>can anybody suggest a cleaner, more declarative way of achieving this behaviour with bluebird than the second example?</strong> </p>\n\n<p>Any suggestions of other promise libraries where the api does offer this would also be appreciated.</p>\n",
            "last_activity_date": 1422568144,
            "question_id": 28222439,
            "score": 1,
            "tags": [
                "javascript",
                "promise",
                "bluebird"
            ],
            "title": "Set minimum delay on bluebird.js promise resolution"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Right now in your code, <code>google.script.run</code> is being called directly from the submit button.  If you want to prevent <code>google.script.run</code> from being run if the <strong>required</strong> parameter in your form isn't met, I'd try running the submit event from the <code>&lt;form&gt;</code> tag.</p>\n\n<pre><code>&lt;form id=\"myForm\" onsubmit=\"validateForm();\n            this.value='Please be patient while your paper is uploading..';\n            google.script.run.withSuccessHandler(fileUploaded)\n            .uploadFiles(this.parentNode);\n            return false;\"&gt;\n</code></pre>\n\n<p>I'd also move the <code>google.script.run</code> to your <code>validateForm()</code> function:</p>\n\n<pre><code>&lt;form id=\"myForm\" onsubmit=\"validateForm()\"&gt;\n</code></pre>\n\n<p>Script</p>\n\n<pre><code>function validateForm() {\n  var x=document.getElementsByClassName('required');\n  for(var i = 0; i &lt;x.length; i++){\n    if (x[i].value == null || x[i].value == \"\")\n    {\n      alert(\"All fields must be filled out.\");\n      return false;\n     }\n      this.value='Please be patient while your paper is uploading..';\n      google.script.run.withSuccessHandler(fileUploaded)\n        .uploadFiles(this.parentNode);\n\n   }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I'm testing some code I wrote in Google Apps Script. I've required my fields to have text, but when I test it with null fields, the sever side code is run anyway.  The code fires the pop-up stating that fields are required, but submits the form when clicking \"OK\" on the pop-up. I've tested it where I've filled out all the fields and then submitted which uploads perfectly. I think I just have my coding backwards or something in my \"onclick\". I have a basic knowledge of coding so I'm sorry if this is a dumb question. Thank you, thank you, thank you in advance.</p>\n\n<pre><code>&lt;p&gt;\n&lt;form id=\"myForm\"&gt;\n  &lt;h1&gt;NHD Paper Upload&lt;/h1&gt;\n  &lt;label&gt;Name&lt;/label&gt;\n  &lt;input type=\"text\" name=\"myName\" class=\"required\" placeholder=\"Enter your full name..\"&gt;\n  &lt;label&gt;Division&lt;/label&gt;\n  &lt;input type=\"text\" name=\"myDivision\" class=\"required\" placeholder=\"(ex. Junior or Senior)\"&gt;\n  &lt;label&gt;School&lt;/label&gt;\n  &lt;input type=\"text\" name=\"mySchool\" class=\"required\" placeholder=\"Enter your school..\"&gt;\n  &lt;label&gt;Affiliate&lt;/label&gt;\n  &lt;input type=\"text\" name=\"myAffiliate\" class=\"required\" placeholder=\"Enter your affiliate..\"&gt;\n  &lt;label&gt;Select file to upload. Make sure your file is labeled in the following manner &lt;b&gt;LastName_Division_School_State.pdf&lt;/b&gt;&lt;/label&gt;\n  &lt;input type=\"file\" name=\"myFile\"&gt;\n  &lt;input type=\"submit\" value=\"Submit File\" \n       onclick=\"validateForm();\n                this.value='Please be patient while your paper is uploading..';\n                google.script.run.withSuccessHandler(fileUploaded)\n                .uploadFiles(this.parentNode);\n                return false;\"&gt;\n  &lt;br /&gt;\n  &lt;label&gt;&lt;b&gt;Once upload is successful please stay on this window to copy and paste the URL produced on the next screen into registration.&lt;/b&gt;&lt;/label&gt;\n   &lt;br /&gt;\n  &lt;label&gt;&lt;b&gt;If you have any issues or questions please send an email to &lt;a href=\"mailto:elaine@nhd.org\"&gt;elaine@nhd.org&lt;/a&gt;.&lt;/b&gt;&lt;/label&gt;\n&lt;/form&gt;\n\n&lt;/p&gt;\n\n&lt;div id=\"output\"&gt;&lt;/div&gt;\n\n&lt;script&gt;\n    function validateForm() {\n    var x=document.getElementsByClassName('required');\n    for(var i = 0; i &lt;x.length; i++){\n       if (x[i].value == null || x[i].value == \"\")\n       {\n          alert(\"All fields must be filled out.\");\n          return false;\n          }\n       }\n    }\n    function fileUploaded(status) {\n        document.getElementById('myForm').style.display = 'none';\n        document.getElementById('output').innerHTML = status;\n    }\n\n&lt;/script&gt;\n\n&lt;style&gt;\n input { display:block; margin: 15px; }\n p {margin-left:20px;}\n&lt;/style&gt;\n</code></pre>\n\n<p>and here is the javascript</p>\n\n<pre><code>function doGet(e) {\n  return HtmlService.createHtmlOutputFromFile('form.html');\n}\n\nfunction uploadFiles(form) {\n\n  try {\n\n    var dropbox = \"NHD Papers\";\n    var folder, folders = DriveApp.getFoldersByName(dropbox);\n\n    if (folders.hasNext()) {\n      folder = folders.next();\n    } else {\n      folder = DriveApp.createFolder(dropbox);\n    }\n\n    var blob = form.myFile;    \n    var file = folder.createFile(blob);    \n    file.setDescription(\"Uploaded by \" + form.myName + \", Division: \" + form.myDivision + \", School: \" + form.mySchool + \", State: \" + form.myState);\n\n    return \"&lt;h2&gt;File uploaded successfully!&lt;/h2&gt;&lt;p&gt;Copy and paste the following URL into registration:&lt;br /&gt;&lt;br /&gt;&lt;strong&gt;\" + file.getUrl() + '&lt;/strong&gt;&lt;/p&gt;';\n\n  } catch (error) {\n\n    return error.toString();\n  }\n\n}\n</code></pre>\n",
            "last_activity_date": 1421338064,
            "question_id": 27965495,
            "score": 1,
            "tags": [
                "javascript",
                "html",
                "validation",
                "google-apps-script"
            ],
            "title": "HTML &lt;input&gt; Required Attribute Fails to Prevent Form from Submitting in Apps Script App"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It's a little sloppy, but (possible)</p>\n\n<pre><code>var arr2 = _.uniq(arr1, function(item) {\n    return JSON.stringify(item);\n});\n</code></pre>\n\n<p>will give you a correct result</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>From the underscore.js documentation:</p>\n\n<blockquote>\n  <p>uniq_.uniq(array, [isSorted], [iteratee]) Alias: unique<br>\n  Produces a\n  duplicate-free version of the array, <strong>using === to test object\n  equality</strong>. If you know in advance that the array is sorted, passing\n  true for isSorted will run a much faster algorithm. If you want to\n  compute unique items based on a transformation, <strong>pass an iteratee\n  function</strong>.</p>\n</blockquote>\n\n<p>But arrays can't be strictly compared in JavaScript.</p>\n\n<p>Therefore, you can use a transformation function to enable comparison with <code>uniq</code>. For example:</p>\n\n<pre><code>console.log([1,2] === [1,2]) // false, can't strict compare arrays\nconsole.log([1,2].toString()) // \"1,2\" - string representation\nconsole.log([1,2].toString() === [1,2].toString()) // true, strings can be compared\n\nvar valueToString = function(v) {return v.toString()}; // transform array to string\nvar arr1 = [[1,2], [2,3], [1,2]];\nvar arr2 = _.uniq(arr1, false, valueToString); // compare based on transformation\nvar arraysAreEqual = _.isEqual(arr1, arr2);\n\nconsole.log(\"arraysAreEqual:\", arraysAreEqual, arr1, arr2); \n// false\n// [[1, 2], [2, 3], [1, 2]]\n// [[1, 2], [2, 3]]\n</code></pre>\n\n<p><strong>Note</strong> that transforming to string is \"hacky\": you would be better off comparing each value of the array, as discussed in <a href=\"http://stackoverflow.com/questions/7837456/comparing-two-arrays-in-javascript\">this StackOverflow question</a>.</p>\n\n<p>By using the proposed <code>equals</code> implementation in that question, you would need to implement your own version of <code>uniq</code> that uses <code>equals</code> instead of <code>===</code>.</p>\n\n<p>The <a href=\"http://underscorejs.org/docs/underscore.html#section-53\" rel=\"nofollow\">implementation of uniq in Underscore</a> is very straight-forward - it creates a new <code>result</code> array and loops through the given array. If the current value is not already in result, insert it. </p>\n\n<pre><code>console.log(\"Using array comparison:\");\narrayEquals = function (array1, array2) {\n    // if any array is a falsy value, return\n    if (!array1 || !array2)\n        return false;\n\n    // compare lengths - can save a lot of time \n    if (array1.length != array2.length)\n        return false;\n\n    for (var i = 0, l=array1.length; i &lt; l; i++) {\n        // Check if we have nested arrays\n        if (array1[i] instanceof Array &amp;&amp; array2[i] instanceof Array) {\n            // recurse into the nested arrays\n            if (!arrayEquals(array1[i],array2[i]))\n                return false;       \n        }           \n        else if (array1[i] !== array2[i]) { \n            return false;   \n        }        \n    }       \n    return true;\n};\n\n_.uniqArrays = function(array) {\n  if (array == null) return [];\n  var result = [];\n  for (var i = 0, length = array.length; i &lt; length; i++) {\n    var value = array[i];\n    var arrayEqualsToValue = arrayEquals.bind(this, value); // arrayEquals with first argument set to value\n    var existing = _.find(result, arrayEqualsToValue); // did we already find this?\n    if (!existing) {\n      result.push(value);\n    }\n  }\n  return result;\n};\n\nvar arr3 = _.uniqArrays(arr1);\narraysAreEqual = _.isEqual(arr1, arr3);\nconsole.log(\"arraysAreEqual:\", arraysAreEqual, arr1, arr3); // false\n</code></pre>\n\n<p>I made a jsbin with all the code, if you want to play around: <a href=\"http://jsbin.com/yumiqi/1/edit?js,console\" rel=\"nofollow\">http://jsbin.com/yumiqi/1/edit?js,console</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to determine if an array of JavaScript arrays contains duplicates. Is this possible? I am first trying to see if I can strip the duplicates out and then do an equality check but I cannot get past the first part. Here is what underscore returns:</p>\n\n<pre><code>var arr1 = [[1,2], [2,3], [1,2]];\nvar arr2 = _.uniq(arr1);\n\nvar arraysAreEqual = _.isEqual(arr1, arr2);\n\nconsole.log(arraysAreEqual, arr1, arr2);\n// true\n</code></pre>\n\n<p>Jsbin: <a href=\"http://jsbin.com/vogumo/1/edit?js,console\" rel=\"nofollow\">http://jsbin.com/vogumo/1/edit?js,console</a></p>\n\n<p>Anyone know of a way to determine if the array contains duplicate arrays?</p>\n",
            "last_activity_date": 1420805432,
            "question_id": 27852356,
            "score": 1,
            "tags": [
                "javascript",
                "underscore.js",
                "lodash"
            ],
            "title": "Finding nested duplicate arrays in JavaScript. (Nested Array uniq in lodash/underscore)"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Internet Explorer does not permit data URIs as navigable content, for security purposes. To understand why, I would encourage you to read Henning Klevjer's short white-paper on the topic, <a href=\"http://klevjers.com/papers/phishing.pdf\"><em>Phishing by data URI</em></a>. In summary, this has been demonstrated to open up avenues by which the end-user could be tricked into giving up sensitive information.</p>\n\n<p>Also, from the <a href=\"http://msdn.microsoft.com/en-us/library/cc848897%28v=vs.85%29.aspx\">data Protocol documentation on MSDN</a>:</p>\n\n<blockquote>\n  <p>For security reasons, data URIs are restricted to downloaded resources. Data URIs cannot be used for navigation, for scripting, or to populate frame or iframe elements.</p>\n</blockquote>\n\n<p>To be honest, passing a data URI to <code>window.open</code> feels a bit hacky. Instead, you should use an API to handle the process (provided one exists). If you'd like to download a file to the user's machine in Internet Explorer, consider using <a href=\"http://msdn.microsoft.com/en-us/library/ie/hh441122.aspx\"><code>navigator.msSaveBlob</code></a> or <a href=\"http://msdn.microsoft.com/en-us/library/ie/hh441127.aspx\"><code>navigator.msSaveOrOpenBlob</code></a>.</p>\n\n<p>As an example, consider the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if ( window.navigator.msSaveOrOpenBlob &amp;&amp; window.Blob ) {\n    var blob = new Blob( [ \"A,B\\nC,D\" ], { type: \"text/csv\" } );\n    navigator.msSaveOrOpenBlob( blob, \"strings.csv\" );\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>Try</p>\n\n<p>html</p>\n\n<pre><code>&lt;a id=\"csvbtn\" href=\"\" download=\"csv\" target=\"_blank\"&gt;click&lt;/a&gt;\n</code></pre>\n\n<p>css</p>\n\n<pre><code>#csvbtn {\n    -webkit-appearance:button;\n    -moz-appearance:button;\n    appearance:button;\n    padding:4px;\n    text-decoration:none;\n    color:#000;\n}\n</code></pre>\n\n<p>js</p>\n\n<pre><code>$(\"#csvbtn\").click(function(e){\n    var  json_obj = JSON.parse(result);\n    var csv = JSON2CSV(json_obj);\n    $(this).attr(\"href\", \"data:text/csv;charset=utf-8,\" + escape(csv));\n});\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"#csvbtn\").click(function(e) {\r\n    $(this).attr(\"href\", \"data:text/plain,abc\")\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#csvbtn {\r\n    -webkit-appearance:button;\r\n    -moz-appearance:button;\r\n    appearance:button;\r\n    padding:4px;\r\n    text-decoration:none;\r\n    color:#000;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;a id=\"csvbtn\" href=\"\" download=\"csv\" target=\"_blank\"&gt;click&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is my solution in case someone else is looking for a solution. now it works with FF, Chrome , and IE</p>\n\n<pre><code>var csv = JSON2CSV(json_obj);            \nvar blob = new Blob([csv],{type: \"text/csv;charset=utf-8;\"});\n\nif (navigator.msSaveBlob) { // IE 10+\nnavigator.msSaveBlob(blob, \"csvname.csv\")\n    } else {\n        var link = document.createElement(\"a\");\n        if (link.download !== undefined) { // feature detection\n            // Browsers that support HTML5 download attribute\n            var url = URL.createObjectURL(blob);\n            link.setAttribute(\"href\", url);\n            link.setAttribute(\"download\", \"csvname.csv\");\n            link.style = \"visibility:hidden\";\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n        }           \n    }\n</code></pre>\n\n<p>Now I just need to figure out if there is a way to have the save as screen pop up instead of automatically saving the file. If anybody knows the answer to that please share. For now my users will have to use this functionality.</p>\n\n<p>Thanks all for all the great answers, you guys are awesome.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>The following code works in both FireFox and Chrome, but not IE. Essentially, I have a JSON object which gets converted into an array and then to a csv format, when I click the button in FF or Chrome the file gets downloaded or the <em>Save As</em> window opens, but in IE a new tab opens up. In a perfect world IE would not exists, but in the real world we have to make it work, lol.</p>\n\n<pre><code>$(\"#csvbtn\").click(function(e){\n    e.preventDefault();\n    var  json_obj= JSON.parse(result);\n    var csv = JSON2CSV(json_obj);\n    window.open(\"data:text/csv;charset=utf-8,\" + escape(csv));\n});\n</code></pre>\n\n<p>BTW, I am using IE 11 in windows 8 to test this, if that makes a difference.</p>\n\n<p>Thanks all!</p>\n",
            "last_activity_date": 1417613272,
            "question_id": 27257336,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "internet-explorer"
            ],
            "title": "Downloading a Dynamic CSV in Internet Explorer"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The immediate problem here is that the <code>j</code> and <code>keyword</code> variables go on changing before the callbacks are called.</p>\n\n<p>A simple solution is to protect this variable in a closure :</p>\n\n<pre><code>for (var j=0; j&lt;keywords.length; j++) {\n    (function(j){\n        var keyword = keywords[j];\n        ...\n    })(j);\n}\n</code></pre>\n\n<p>When you're just working with a simple array, then you can also use a closure through <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow\"><code>forEach</code></a> :</p>\n\n<pre><code>keywords.forEach(function(keyword, j){\n     ...\n});\n</code></pre>\n\n<p>To deal with this kind of asynchronous problems, you should now dive in promises which help structure your code in a clearer (and less indented) way. <a href=\"https://github.com/petkaantonov/bluebird#what-are-promises-and-why-should-i-use-them\" rel=\"nofollow\">An introduction</a>.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I'm new to node, but I love it already. Only issue is, the asynchronous functionality is killing me.</p>\n\n<p>I am using the google package to get my websites' rankings in google as so:</p>\n\n<pre><code>for (var j=0;j&lt;keywords.length;j++) {\n    var keyword = keywords[j];\n\n    google(keyword, function(err, next, links) {\n\n    console.log('Searching for keyword \"' + keyword + '\" in google.' + google.tld + ' ('+ google.lang +')');\n      if (err) console.error(err);\n\n      for (var i = 0; i &lt; links.length; ++i) {\n\n        var rank = i+1;\n\n        console.log(keyword + ' #'+ rank + ' - ' + links[i].link + ' | ' + links[i].title);\n        //link.href is an alias for link.link\n        //console.log(links[i].description + \"\\n\");\n      }\n      console.log('\\n');\n    });\n\n}\n</code></pre>\n\n<p>My problem is that it the console log shows the same keyword for all websites, although I have defined three in my keywords array.</p>\n\n<p>What am I missing?</p>\n",
            "last_activity_date": 1416578560,
            "question_id": 26970928,
            "score": 1,
            "tags": [
                "javascript",
                "node.js"
            ],
            "title": "How to ensure the right parameters is passed to a function call declared in a loop?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Regarding your question about <code>PdfStamper</code> (in the comments). It should be as simple as this:</p>\n\n<pre><code>string jsPrint = \"var pp = this.getPrintParams();pp.interactive= pp.constants.interactionLevel.silent;this.print(pp);\";\nPdfReader reader = new PdfReader(bytes);\nMemoryStream stream = new MemoryStream();\nPdfStamper stamper = new PdfStamper(pdfReader, stream);\nstamper.Writer.AddJavaScript(jsPrint);\nstamper.Close();\nreader.Close();\n</code></pre>\n\n<p>Regarding your original question: automatic printing of PDF documents is considered being a security hazard: one could send a PDF to an end-user and that PDF would cause the printer to spew out pages. That used to be possible with (really) old PDF viewers, but modern viewers prevent this from happening.</p>\n\n<p>In other words: you may be trying to meet a requirement of the past. Today's PDF viewers always require an action from the end user to print a PDF document.</p>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>My Goal is to print a RDLC report on the client machine without preview. I can not use the ReportViewer print button since it requires the installation of ActiveX object and there are no permissions for that. So, I'm using ITextSharp to create a PDF from the byte array returned from the rendered LocalReport, and add a JavaScript for print.</p>\n\n<p>During Debug, I can see that the PDF is generated and has 2 pages, and everything looks OK. I don't receive any errors and the function exits OK, but it doesn't print. What am I doing wrong, or what am I missing? </p>\n\n<p>This is my code:</p>\n\n<pre><code>string jsPrint = \"var pp = this.getPrintParams();pp.interactive= pp.constants.interactionLevel.silent;this.print(pp);\";\n\nbyte[] bytes = report.Render(\"PDF\", null, out mimeType, out encoding, out extension, out streamids, out warnings);\n\nusing (MemoryStream ms = new MemoryStream())\n{\n    Document doc = new Document();\n\n    PdfWriter writer = PdfWriter.GetInstance(doc, ms);\n\n    doc.SetPageSize(PageSize.A4);\n\n    doc.Open();\n\n    PdfContentByte cb = writer.DirectContent;\n\n    PdfImportedPage page;\n\n    PdfReader reader = new PdfReader(bytes);\n\n    int pages = reader.NumberOfPages;\n\n    for (int i = 1; i &lt;= pages; i++)\n    {\n        doc.SetPageSize(PageSize.A4);\n\n        doc.NewPage();\n\n        page = writer.GetImportedPage(reader, i);\n\n        cb.AddTemplate(page, 0, 0);\n    }\n\n    PdfAction jAction = PdfAction.JavaScript(jsPrint, writer);\n\n    writer.AddJavaScript(jAction);\n\n    doc.Close();\n}\n</code></pre>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1415175097,
            "question_id": 26751910,
            "score": 1,
            "tags": [
                "javascript",
                "c#",
                "asp.net",
                "itextsharp",
                "rdlc"
            ],
            "title": "Print PDF Created using itextsharp"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The global variables of a content script and a page-level injected script <a href=\"https://developer.chrome.com/extensions/content_scripts#execution-environment\" rel=\"nofollow\">are isolated</a>.</p>\n\n<blockquote>\n  <p>Content scripts execute in a special environment called an <em>isolated world</em>. They have access to the DOM of the page they are injected into, but not to <strong>any JavaScript variables or functions created by the page</strong>. It looks to each content script as if there is no other JavaScript executing on the page it is running on. The same is true in reverse: JavaScript running on the page cannot call any functions or access any variables defined by content scripts.</p>\n</blockquote>\n\n<p>Emphasis mine.</p>\n\n<p>To pass the data to your content script, you don't have to employ extra DOM elements. You just need custom DOM events.</p>\n\n<pre><code>// Content script\n// Listen for the event\nwindow.addEventListener(\"FromPage\", function(evt) {\n  /* message is in evt.detail */\n}, false);\n\n// Page context\nvar message = {/* whatever */};\nvar event = new CustomEvent(\"FromPage\", {detail: message});\nwindow.dispatchEvent(event);\n</code></pre>\n\n<p>See <a href=\"http://stackoverflow.com/a/26141393/934239\">this answer</a> for far more details.</p>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I'm writing a chrome extension and I'm struggling to pass an object back from the main page to the context script. I can't seem to access the window's variables.</p>\n\n<p><strong>ContextScript</strong></p>\n\n<pre><code>//STORE DATA TO CHROME STORAGE ON EVENT\n//create hidden input\nvar hiddenInput = document.createElement(\"input\");\nhiddenInput.setAttribute(\"type\", \"text\");\nhiddenInput.setAttribute(\"id\", \"__HIDDEN__RESULT__\");\n//add input to page\nvar currentItem = document.body.appendChild(hiddenInput);\n//event to be fired on click\ncurrentItem.onclick = function() {\n    //get the global variable window.listOfCourses and stick it in storage\n    chrome.storage.local.set({'dataVault' : window.listOfCourses});\n};\n\n//inject script into page\nvar s = document.createElement(\"script\");\ns.src = chrome.extension.getURL(\"gradebook.js\");\ns.onload = function() {this.parentNode.removeChild(this);};\n(document.head||document.documentElement).appendChild(s);\n</code></pre>\n\n<p><strong>Injected Script</strong></p>\n\n<pre><code>function processData()\n{\n    window.listOfCourses = [];\n\n    for (i=0; i &lt; window.completedData.length; i++)\n    {\n        //get data and add to window.listOfCourses\n    }\n    var myElement = document.getElementById(\"__HIDDEN__RESULT__\")\n    myElement.click();\n}\n</code></pre>\n\n<p>The injected script pulls information from a page, sticks it in an object set as global variable, then finally it fires the onclick event for the input.</p>\n\n<p>All of this works. However, when the <strong>click</strong> event fires and runs currentItem.onclick() and tries to access window.listOfCourses, it doesn't see the variable. I'm confused why I'm not able to see my global variables anymore.</p>\n\n<p>Any help would be greatly appreciated!</p>\n",
            "last_activity_date": 1415118403,
            "question_id": 26739774,
            "score": 1,
            "tags": [
                "javascript",
                "google-chrome-extension"
            ],
            "title": "Chrome Extension - Passing object from page to context script"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You should use existing observable array (which was bound) instead of creating a new one:</p>\n\n<pre><code>.done(function(data) {\n   self.commentArray(data);\n   alert(self.commentArray[0].authorName);\n })\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>You're setting the observable array twice.  At the start and again at the Ajax call.  Once you have the model built and apply bindings, no need to mess with observables again.  It's done. Any changes to your data object tied to the model will be handled.   </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a Javascript ajax function that retrieves comments from the server(Note: I'm new to Knockout JS):</p>\n\n<pre><code>function Comments() {\nvar self = this;\nself.commentArray = ko.observableArray();\nself.getNewerComments = function(lastCommentId) {\n    pageId = $('body').attr('id');\n    $.ajax({\n        type: \"GET\",\n        dataType: \"json\",\n        url: \"Controller/getNewerComments/\" + pageId + \"/\" + lastCommentId,\n\n\n    })\n            .done(function(data) {\n\n                self.commentArray = ko.observableArray(data);\n                alert(self.commentArray[0].authorName);\n\n\n            })\n\n}\n\n}\n</code></pre>\n\n<p>With the alert I can see that the value is indeed set there, at the start of my JS file I have the following code:</p>\n\n<pre><code>var comments = new Comments();\nko.applyBindings(comments);\ncomments.getNewerComments(0);\n</code></pre>\n\n<p>And in the html file:</p>\n\n<pre><code>&lt;!-- ko foreach: commentArray --&gt;\n&lt;li&gt;Item &lt;span data-bind=\"text: $index\"&gt;&lt;/span&gt;&lt;/li&gt;\n&lt;!-- /ko --&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>However, nothing shows up in the html document, not even the \"Item\" text, which indicates the array has 0 length. \n<strong>What's the problem here? Why can't I use the array values?</strong></p>\n\n<p>Thank you.</p>\n",
            "last_activity_date": 1414067199,
            "question_id": 26527529,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "knockout.js"
            ],
            "title": "Knockout JS array empty or can&#39;t retrieve values?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>let's say you have array of IDs.then you can do something like...</p>\n\n<pre><code>  var ancherList = [\"id1\",\"id2\",\"id3\"];\n  var currentPosition = null;\n\n  var mousewheelevent = 'onwheel' in document ? 'wheel' : 'onmousewheel' in document ? 'mousewheel' : 'DOMMouseScroll';\n  $(document).on(mousewheelevent,function(e){\n      var scrollToAncher function (id,speed){\n          spd = speed ? \"slow\" //deafult value for the animation speed\n          var ancherTag = $(\"a[name='\"+ id +\"']\");\n          $('html,body').animate({scrollTop: ancherTag.offset().top},spd);\n      }\n      e.preventDefault();\n      var delta = e.originalEvent.deltaY ? -(e.originalEvent.deltaY) : e.originalEvent.wheelDelta ? e.originalEvent.wheelDelta : -(e.originalEvent.detail);\n      if (delta &gt; 0){\n          console.log(\"up\")\n          //check your current position and target id\n          switch(currentPosition){\n            case null :\n            case ancherList[0] :\n              scrollToAncher(ancherList[1]);\n              currentPosition = ancherList[1];\n              break;\n            case ancherList[1] :\n              currentPosition = ancherList[2];\n              scrollToAncher(ancherList[2]);\n              break;\n            case ancherList[2] :\n              currentPosition = ancherList[0];\n              scrollToAncher(ancherList[0]);\n              break;              \n          }\n      } else {\n          console.log(\"down\")\n          //do the same for mouse wheel down\n      }\n  });\n</code></pre>\n\n<p>code ain't tested.sorry if there was syntax error</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This works in Chrome, IE, Firefox, Opera, and Safari:</p>\n\n<pre><code>(function() {\n  var delay = false;\n\n  $(document).on('mousewheel DOMMouseScroll', function(event) {\n    event.preventDefault();\n    if(delay) return;\n\n    delay = true;\n    setTimeout(function(){delay = false},200)\n\n    var wd = event.originalEvent.wheelDelta || -event.originalEvent.detail;\n\n    var a= document.getElementsByTagName('a');\n    if(wd &lt; 0) {\n      for(var i = 0 ; i &lt; a.length ; i++) {\n        var t = a[i].getClientRects()[0].top;\n        if(t &gt;= 40) break;\n      }\n    }\n    else {\n      for(var i = a.length-1 ; i &gt;= 0 ; i--) {\n        var t = a[i].getClientRects()[0].top;\n        if(t &lt; -20) break;\n      }\n    }\n    $('html,body').animate({\n      scrollTop: a[i].offsetTop\n    });\n  });\n})();\n</code></pre>\n\n<p>Fiddle at <a href=\"http://jsfiddle.net/t6LLybx8/12/\" rel=\"nofollow\">http://jsfiddle.net/t6LLybx8/12/</a></p>\n\n<p><strong>How it works</strong></p>\n\n<p>To monitor the mouse wheel in most browsers, use <code>$(document).on('mousewheel')</code>.  Firefox is the oddball, and it requires <code>$(document).on('DOMMouseScroll')</code>.</p>\n\n<p>To get the direction of the mouse wheel (up or down), use <code>event.originalEvent.wheelDelta</code>.  Again, Firefox is the oddball, and you have to use <code>-event.originalEvent.detail</code>.</p>\n\n<p>If the direction is a negative number, you're scrolling <em>down</em> the page.  In that case, loop through each tag beginning with the <em>first</em>, until its first <code>getClientRects()</code> top is >= 40.  (I used 40, in case the browser adds a default margin at the top of the viewport.)</p>\n\n<p>If the direction is a positive number, you're scrolling <em>up</em> the page.  In that case, loop through each tag beginning with the <em>last</em>, until its first <code>getClientRects()</code> top is &lt; -20.  (I used -20 to ensure we move up the page.)</p>\n\n<p>The <code>delay</code> variable prevents the mouse wheel from scrolling too quickly.  The entire function is wrapped in a closure, so <code>delay</code> remains a private variable.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I have 5 anchors on my html page. Is there any way that the page scrolls automatically to the next anchor (#) by a single Mouse-wheel scroll? Is there a way that it happens regardless of the anchor's name? just to the next anchor.</p>\n",
            "last_activity_date": 1410867985,
            "question_id": 25839487,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "anchor",
                "anchor-scroll"
            ],
            "title": "Auto-Scroll to next anchor at Mouse-wheel"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>A page-context script cannot, indeed, use Chrome API.<br>\nIt can, however, dispatch DOM events that can be caught by the content script.</p>\n\n<p>There is an example in the documentation <a href=\"https://developer.chrome.com/extensions/content_scripts#host-page-communication\" rel=\"nofollow\">here</a>. Besides using <code>window.postMessage</code>, you can <a href=\"http://stackoverflow.com/questions/9417121/is-there-any-way-of-passing-additional-data-via-custom-events\">dispatch custom events</a>.</p>\n\n<p>So, you need to make your content script to work like a proxy between page context and background. Something along these lines:</p>\n\n<pre><code>// Content script\n//Listen for the event\nwindow.addEventListener(\"PassToBackground\", function(evt) {\n  chrome.runtime.sendMessage(evt.detail);\n}, false);\n\n// Page context\nvar message = {/* whatever */};\nvar event = new CustomEvent(\"PassToBackground\", {detail: message});\nwindow.dispatchEvent(event);\n</code></pre>\n\n<p>You can generalize this to pass an answer back.</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I'm building an extension to integrate with Gmail and integrating with Gmail by injecting the gmail.js into the page context, as shown here: <a href=\"https://github.com/KartikTalwar/gmail-chrome-extension-boilerplate/blob/master/content.js\" rel=\"nofollow\">https://github.com/KartikTalwar/gmail-chrome-extension-boilerplate/blob/master/content.js</a></p>\n\n<p>That seems to be the only obvious way to make use of some globals that Google is embedding on the page.</p>\n\n<p>So now, I need to get back to some of the functionality of the extension. Under normal conditions (operating from a content script), I would send a message to the background script, but is that even possible from the context of the tab itself?</p>\n",
            "last_activity_date": 1410781296,
            "question_id": 25838804,
            "score": 1,
            "tags": [
                "javascript",
                "google-chrome",
                "google-chrome-extension",
                "gmail"
            ],
            "title": "Gmail Extension, sendMessage to background from page context"
        },
        {
            "answer_count": 0,
            "body": "<p>I've had a lot of issues trying to get the client-side login to work, so I'm going to take the liberty of referencing a ton of other questions here... none have resulted in an answer that has worked for me. </p>\n\n<p><strong>CONTEXT</strong></p>\n\n<ul>\n<li>Server-side login works fine</li>\n<li>Client-side login using JS SDK works fine on Safari* (have not tested in Firefox or IE or mobile non-Chrome), but <strong>not in Chrome</strong>, which is what this question is about (and majority of my users use Chrome so it's super important)</li>\n<li>Gem versions:\n<ul>\n<li>ruby (2.1.2)</li>\n<li>rails (4.1.1)</li>\n<li>oauth (0.4.7)</li>\n<li>oauth2 (1.0.0)</li>\n<li>omniauth (1.2.2)</li>\n<li>omniauth-facebook (2.0.0)</li>\n<li>omniauth-oauth2 (1.2.0)</li>\n</ul></li>\n<li>This is for an app in development mode, where as the developer, I am definitely authorized to log in</li>\n</ul>\n\n<p>*By works fine, I mean if you just copied the code from Ryan Bates' RailsCast (<a href=\"http://railscasts.com/episodes/360-facebook-authentication?view=asciicast\" rel=\"nofollow\">http://railscasts.com/episodes/360-facebook-authentication?view=asciicast</a>) it works without any additional anything</p>\n\n<hr>\n\n<p><strong>TL:DR; I'm passing the following URL which should work...</strong></p>\n\n<pre><code>`http://localhost:3000/auth/facebook/callback?signed_request=ASDF.JOUYOUY`\n// Obviously signed_request is a much longer string\n</code></pre>\n\n<p><strong>...but am still getting the error</strong> <code>OmniAuth::Strategies::Facebook::NoAuthorizationCodeError (must pass either a</code>code<code>parameter or a signed request (via</code>signed_request<code>parameter or a</code>fbsr_XXX<code>cookie)):</code></p>\n\n<hr>\n\n<p><strong>TROUBLESHOOTING TO DATE + OVERVIEW OF MANY OTHER ERRORS/ POTENTIAL SOLUTIONS</strong></p>\n\n<p>The code solutions below build on the code from Ryan Bates' RailsCast:</p>\n\n<pre><code>$('#sign_in').click (e) -&gt;\n  e.preventDefault()\n  FB.login (response) -&gt;\n    window.location = '/auth/facebook/callback' if response.authResponse\n</code></pre>\n\n<p><strong>Hurdle #1: Are 3rd party cookies blocked?</strong> </p>\n\n<p>Doesn't lead to an error necessarily, just makes it so that you can't connect the app to Facebook.</p>\n\n<p>Connecting your app to Facebook first requires you to be logged in with Facebook because the code <code>FB.login (response) -&gt; window.location = \"/auth/facebook/callback\" if response.authResponse</code> depends on the validity of <code>authResponse</code> and its contained <code>signedRequest</code> parameter. </p>\n\n<p>If cookies are blocked (i.e., Chrome Settings > Advanced Settings > Privacy > Content Settings > Block Third Party Cookies is CHECKED), you will never get a <code>authResponse</code> object back. This is the question/answer combination here: <a href=\"http://stackoverflow.com/questions/9337619/fb-getloginstatus-always-returns-status-unknown\">FB.getLoginStatus always returns status=&#39;unknown&#39;</a>. In other words, if you do a <code>FB.getLoginStatus</code>, regardless of how many times you click a Login button, the status will always return back as <code>unknown</code> per the docs: <a href=\"https://developers.facebook.com/docs/reference/javascript/FB.getLoginStatus\" rel=\"nofollow\">https://developers.facebook.com/docs/reference/javascript/FB.getLoginStatus</a>. </p>\n\n<p><strong>Code Solution so far...</strong>: If <code>FB.login</code> returns a response of <code>unknown</code> divert back to server-side login.</p>\n\n<pre><code>$('#sign_in').click (e) -&gt;\n  e.preventDefault()\n  FB.login (response) -&gt;\n    if response.status is \"unknown\"\n      window.location = \"/auth/facebook\"\n    else\n      window.location = \"/auth/facebook/callback\"\n</code></pre>\n\n<p><strong>Hurdle #2: Are parameters passed appropriately?</strong></p>\n\n<p>If you have third party cookies unblocked, you might then encounter an error: </p>\n\n<pre><code>OmniAuth::Strategies::Facebook::NoAuthorizationCodeError (must pass either a `code` parameter or a signed request (via `signed_request` parameter or a `fbsr_XXX` cookie)):\n</code></pre>\n\n<p>Despite setting <code>cookie: true</code> in the <code>FB.init</code>, sometimes params are still not passed. As stated in:</p>\n\n<ul>\n<li>This SO answer (<a href=\"http://stackoverflow.com/questions/12370056/omniauth-strategies-facebook-noauthorizationcodeerror-must-pass-either-a-code\">OmniAuth Strategies Facebook NoAuthorizationCodeError (must pass either a `code` parameter or a signed request (via `signed_request` parameter):</a></li>\n<li>Omniauth-facebook author in the final comment of this Github issue (<a href=\"https://github.com/mkdynamic/omniauth-facebook/issues/110\" rel=\"nofollow\">https://github.com/mkdynamic/omniauth-facebook/issues/110</a>)</li>\n</ul>\n\n<p>...you might need to manually pass in the <code>signed_request</code> parameter. Quick watch-out. Per Facebook docs (<a href=\"https://developers.facebook.com/docs/facebook-login/using-login-with-games\" rel=\"nofollow\">https://developers.facebook.com/docs/facebook-login/using-login-with-games</a>), the <code>signedRequest</code> needs to have two components separated by a <code>.</code>. Not sure how, but I have gotten one without the <code>.</code> before. The separation is important, because it's the latter half that is a <code>base64url</code> coded JSON object containing the <code>code</code> information.</p>\n\n<p><strong>Code Solution so far...</strong>: Manually append <code>signed_request</code> parameter to callback URL</p>\n\n<pre><code>$('#sign_in').click (e) -&gt;\n  e.preventDefault()\n  FB.login (response) -&gt;\n    if response.status is \"unknown\"\n      window.location = \"/auth/facebook\"\n    else\n      window.location = (\"/auth/facebook/callback?signed_request=\" + response.authResponse.signedRequest)\n</code></pre>\n\n<p><strong>Hurdle #3: Still nothing... still same error as #2</strong> </p>\n\n<p>Maybe just me at this point? </p>\n\n<p><strong>Code Solution so far...</strong>: Go super pedantic, parse out the <code>code</code> from the <code>signedRequest</code> and append to callback URL</p>\n\n<pre><code>$('#sign_in').click (e) -&gt;\n  e.preventDefault()\n  FB.login (response) -&gt;\n    if response.status is \"unknown\"\n      window.location = \"/auth/facebook\"\n    else\n      parsed_signed_Request = response.authResponse.signedRequest.split(\".\")\n      key_info = base64_decode(parsed_signed_Request[1])\n      // decoded via http://www.simplycalc.com/base64-source.php\n      key_info_object = jQuery.parseJSON( key_info )\n      window.location = (\"/auth/facebook/callback?code=\" + key_info_object[\"code\"])\n</code></pre>\n\n<p><strong>Hurdle #4: CSRF detected, but not for why you'd think</strong></p>\n\n<p>Now I've moved right into a brick wall. When I run the code as above, I get an error CSRF detected. There are a non-related reason one might get this error: </p>\n\n<ul>\n<li>You can get this error if your Facebook app is in Dev mode and you are trying to login users live. In this case, FB doesn't allow any non-listed developers to log in. See first answer to this question: <a href=\"http://stackoverflow.com/questions/11970977/rails-omniauth-facebook-csrf-detected\">Rails + omniauth + facebook - csrf detected</a></li>\n</ul>\n\n<p>But the problem in my case wasn't the above, it was that the <code>code</code> parameter was presented without a <code>state</code> parameter. Now, there have been answers saying that you can fix this by setting <code>provider_ignores_state: true</code> in the <code>omniauth.rb</code> config file, see second answer to question referenced above, BUT this is not a fix for me. Why? Because 1) I don't like turn things specifically designed to counter CSRF off and 2) it appears the config kicks in only for server-side log-in. Adding it simply didn't do anything for me.</p>\n\n<p>Which means the bigger issue of the #3 solution was that it was trying to combine server-side login approach (takes <code>code</code> and <code>state</code> params) with client-side login approach (takes <code>signed_request</code> param).</p>\n\n<p>Which means I'm back to the original question... how to pass the <code>signed_request</code> so that the client-side login works? </p>\n\n<hr>\n\n<p>Since I've rambled on this much already, let me point out another error I've seen. This one has answers related to Facebook errors (<a href=\"http://stackoverflow.com/questions/11407216/dealing-with-oauth-2-0-facebook-gem-error-100-this-authorization-code-has-been\">Dealing with Oauth 2.0-facebook gem error 100: This authorization code has been used</a>), but beyond that, I found something else that could trigger it. </p>\n\n<p>As suggested in this tutorial (<a href=\"https://coderwall.com/p/bsfitw\" rel=\"nofollow\">https://coderwall.com/p/bsfitw</a>), you <code>match</code> the callback route via both <code>get</code> and <code>post</code>. But when I do this, my <code>logger</code> shows two requests to Facebook, the second obviously being blocked and triggering the error. (Also means that the first request did go through and the user is already authorized/ data is saved, whatever). My solution was to set route as so:</p>\n\n<pre><code>match 'auth/:provider/callback', to: 'signups#create_facebook', via: [:get]\n</code></pre>\n",
            "last_activity_date": 1410572761,
            "question_id": 25819058,
            "score": 1,
            "tags": [
                "javascript",
                "facebook",
                "facebook-javascript-sdk",
                "omniauth",
                "omniauth-facebook"
            ],
            "title": "Facebook NoAuthorizationError after passing signed_parameters manually"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>In the newer versions of Chrome, that type of screen capture is deprecated and I believe removed. </p>\n\n<p><a href=\"https://groups.google.com/forum/#!topic/discuss-webrtc/TPQVKZnsF5g\" rel=\"nofollow\">This started with Chrome M36+</a>.</p>\n\n<p><a href=\"https://developer.chrome.com/extensions/desktopCapture\" rel=\"nofollow\">The new DesktopCapture API</a> is much better and gives a greater range of options.</p>\n\n<p>EDIT:</p>\n\n<p>The new API is only available if utilized through an extension. The Chrome team states that this has been changed for security reasons. Possibly, in the future, it will be moved back to not require an extension to be built but as of right now, it is not available directly in the page. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Step 1 - download Ready made cake, to get started</p>\n\n<p><a href=\"https://developer.chrome.com/extensions/examples/api/desktopCapture.zip\" rel=\"nofollow\">https://developer.chrome.com/extensions/examples/api/desktopCapture.zip</a></p>\n\n<p>Step 2 - RTFM</p>\n\n<pre><code>Load the extension\nExtensions that you download from the Chrome Web Store are packaged up as .crx files, which is great for distribution, but not so great for development. Recognizing this, Chrome gives you a quick way of loading up your working directory for testing. Let's do that now.\n\nVisit chrome://extensions in your browser (or open up the Chrome menu by clicking the icon to the far right of the Omnibox:  The menu's icon is three horizontal bars.. and select Extensions under the Tools menu to get to the same place).\n\nEnsure that the Developer mode checkbox in the top right-hand corner is checked.\n\nClick Load unpacked extension\u2026 to pop up a file-selection dialog.\n\nNavigate to the directory in which your extension files live, and select it.\n\nAlternatively, you can drag and drop the directory where your extension files live onto chrome://extensions in your browser to load it.\n\nIf the extension is valid, it'll be loaded up and active right away! If it's invalid, an error message will be displayed at the top of the page. Correct the error, and try again.\n</code></pre>\n\n<p>Step 3 - Launch the app </p>\n\n<p><img src=\"http://i.stack.imgur.com/0No7z.png\" alt=\"enter image description here\">\n<img src=\"http://i.stack.imgur.com/ukMc9.png\" alt=\"enter image description here\"></p>\n\n<p>EDIT: References:</p>\n\n<p><a href=\"https://developer.chrome.com/extensions/manifest#web_accessible_resources\" rel=\"nofollow\">https://developer.chrome.com/extensions/manifest#web_accessible_resources</a></p>\n\n<p><a href=\"http://stackoverflow.com/a/17098011\">http://stackoverflow.com/a/17098011</a></p>\n\n<p><a href=\"http://stackoverflow.com/a/17120647\">http://stackoverflow.com/a/17120647</a></p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>Firefox also now has screen/window/etc capture.  For now, for similar reasons to Chrome, we've put access to the feature behind a whitelist (though an extension could extend the whitelist as well; we haven't prototyped that yet).</p>\n\n<p>See <a href=\"http://mozilla.github.io/webrtc-landing/gum_test.html\" rel=\"nofollow\">http://mozilla.github.io/webrtc-landing/gum_test.html</a> (In Firefox 33 or later - currently that's Beta; no attempt to polyfill was done there as it's an internal testing page).</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is this a BUG in Mac or Canary?</p>\n\n<p>I need to use the screen-capture via Google Canary, which was working before in past old versions. </p>\n\n<p>But since they release Canary M37 or M39 its not working anymore. Is my --enable-usermedia-screen-capturing command invalid the way i am executing it?</p>\n\n<pre><code>$ alias canary=\"open /Applications/Google\\ Chrome\\ Canary.app/ --args --enable-usermedia-screen-capturing\"\n$ canary\n</code></pre>\n\n<p>Now when i try to start screen capture (which was working in old versions) its giving me  error failing:</p>\n\n<pre><code>getUserMedia error:  NavigatorUserMediaError {constraintName: \"\", message: \"\", name: \"InvalidStateError\"}\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>function start() {\n  console.log(\"Requesting local stream\");\n  btn1.disabled = true;\n  var video_constraints = { \n    audio: false,\n    video: {\n      mandatory: {\n        chromeMediaSource: 'screen',\n        maxWidth: 1024,\n        maxHeight: 768,\n        minWidth:800,\n        minHeight:400,\n        minFrameRate: 1,\n        maxFrameRate: 2,\n        //minAspectRatio: 1.333, maxAspectRatio: 1.334,\n      }\n    }\n  };\n\n  navigator.webkitGetUserMedia(video_constraints, function(stream){\n    console.log(\"Received local stream\");\n    vid1.src = webkitURL.createObjectURL(stream);\n    localstream = stream;\n\n\n  }, function(e){\n\n    console.log(\"getUserMedia error: \", e);\n  });\n}  \n</code></pre>\n\n<p>EDIT:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;style&gt;\n  body {\n    background: white;\n    display: -webkit-flex;\n    -webkit-justify-content: center;\n    -webkit-align-items: center;\n    -webkit-flex-direction: column;\n  }\n  video {\n    width: 640px;\n    height: 480px;\n    border: 1px solid #e2e2e2;\n    box-shadow: 0 1px 1px rgba(0,0,0,0.2);\n  }\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;video id=\"video\" autoplay&gt;&lt;/video&gt;\n  &lt;p&gt;&lt;button id=\"start\"&gt;Start&lt;/button&gt;&lt;button id=\"cancel\"&gt;Cancel&lt;/button&gt;&lt;/p&gt;\n  &lt;script&gt;\n// Copyright 2013 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nfunction gotStream(stream) {\n  console.log(\"Received local stream\");\n  var video = document.querySelector(\"video\");\n  video.src = URL.createObjectURL(stream);\n  localstream = stream;\n  stream.onended = function() { console.log(\"Ended\"); };\n}\n\nfunction getUserMediaError() {\n  console.log(\"getUserMedia() failed.\");\n}\n\nfunction onAccessApproved(id) {\n  if (!id) {\n    console.log(\"Access rejected.\");\n    return;\n  }\n  navigator.webkitGetUserMedia({\n      audio:false,\n      video: { mandatory: { chromeMediaSource: \"desktop\",\n                            chromeMediaSourceId: id } }\n  }, gotStream, getUserMediaError);\n}\n\nvar pending_request_id = null;\n\ndocument.querySelector('#start').addEventListener('click', function(e) {\n  pending_request_id = chrome.desktopCapture.chooseDesktopMedia(\n      [\"screen\", \"window\"], onAccessApproved);\n});\n\ndocument.querySelector('#cancel').addEventListener('click', function(e) {\n  if (pending_request_id != null) {\n    chrome.desktopCapture.cancelChooseDesktopMedia(pending_request_id);\n  }\n});\n\n  &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1411796423,
            "question_id": 25763088,
            "score": 1,
            "tags": [
                "javascript",
                "osx",
                "google-chrome",
                "webrtc",
                "macbook"
            ],
            "title": "Google Canary - on Macbook Air OSX 10.9.4 is giving error"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Finally I found a solution! And it is a really strange behaviour.</p>\n\n<p>First of all you need to specify setDomStorageEnabled(true) on your webview. Otherwise DOM is not working. I wonder why no tutorial gave a hint about. But ok.</p>\n\n<pre><code>myview.getSettings().setDomStorageEnabled(true);\n</code></pre>\n\n<p>After this I ended up in a white blank page with only the value I set. The strange thing is, that <em>javascript:document.getElementById('myfield').value = 'aaa';</em> returns a value. Namely the one I set. So a new blank page was created that only contains the string \"aaa\".</p>\n\n<p>I solved it by modifing the javascript, to throw away the return result:</p>\n\n<pre><code>javascript:var x = document.getElementById('myfield').value = 'aaa';\n</code></pre>\n\n<p>And voil\u00e1. It is working.</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I try to fill out a form inside a webview from the android client app. I know how it should work, but the getElementById always returns null for me. I tried it on different websites.</p>\n\n<p>Here is my example for www.google.com.</p>\n\n<pre><code>MyWebView view = new MyWebView(this);\nview.getSettings().setJavaScriptEnabled(true);\nview.loadUrl(\"http://www.google.com\");\nview.setWebViewClient(new WebViewClient() {\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView v, String url) {\n        v.loadUrl(url);\n        return true;\n    }\n    @Override\n    public void onPageFinished(WebView v, String url) {\n        v.loadUrl(\"javascript:document.getElementById('mib').value = 'aaa';\");              \n    }\n});\nsetContentView(view);\n</code></pre>\n\n<p>And the MyWebView class (only for information).</p>\n\n<pre><code>class MyWebView extends WebView {\n    Context context;\n    public MyWebView(Context context) {\n        super(context);\n        this.context = context;\n    }\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n        // do some multi touch stuff\n        return true;\n    }\n}\n</code></pre>\n\n<p>I always get the error:</p>\n\n<pre><code>09-01 04:35:26.453: I/chromium(2962): [INFO:CONSOLE(1)] \"Uncaught TypeError: Cannot set property 'value' of null\", source: https://www.google.de/?gws_rd=ssl (1)\n</code></pre>\n\n<p>But the element \"mib\" should be on the site. Using a desktop browser (chrome with mobile simulation) everything is working fine. I have no idea, whats going wrong here.</p>\n\n<p>Thanks for hints!</p>\n\n<p>Edit:\nI got some progress. Regarding <a href=\"http://trentmilton.com/android-webview.html\" rel=\"nofollow\">this</a> site, I also need setDomStorageEnabled(true).\nNo I can find the DOM object and set the value, but instead of showing the modified site I get a new blank one with only the value I set. E.g. a white blank site with the text \"aaa\".</p>\n",
            "last_activity_date": 1409575173,
            "question_id": 25602117,
            "score": 1,
            "tags": [
                "java",
                "javascript",
                "android",
                "webview"
            ],
            "title": "Android WebView always returns null for javascript getElementById on loadUrl"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<h2>Updated</h2>\n\n<p>Instead of retrieving current URL from jQuery Mobile's history, It is safer to retrieve it from <code>hashchange</code> event <code>event.originalEvent.newURL</code> and then pass it to <code>popstate</code> event to be <code>replaceState()</code> with that URL.</p>\n\n<hr>\n\n<p>Instead of listening to <code>navigate</code>, listen to <code>popstate</code> which fires before. The trick here is <em>manipulate</em> both browser's history and jQuery Mobile's history by <code>replaceState()</code> and <em>reload</em> same page without <em>transition</em>.</p>\n\n<pre><code>var newUrl;\n$(window).on(\"hashchange\", function (e) {\n    /* retrieve URL */\n    newUrl = e.originalEvent.newURL;\n}).on(\"popstate\", function (e) {\n    var direction = e.historyState.direction == \"back\" ? true : false,\n        activePanel = $(\".ui-panel-open\").length &gt; 0 ? true : false,\n        url = newUrl,\n        title = document.title;\n    if (direction &amp;&amp; activePanel) {\n        $(\".ui-panel-open\").panel(\"close\");\n        $(\".ui-header .ui-btn-active\").removeClass(\"ui-btn-active\");\n        /* reload same page to maintain jQM's history */\n        $.mobile.pageContainer.pagecontainer(\"change\", url, {\n            allowSamePageTransition: true\n        });\n        /* replace state to maintain browsers history */\n        window.history.replaceState({}, title, url);\n        /* prevent navigating into history */\n        return false;\n    }\n});\n</code></pre>\n\n<p>This part is meant to maintain same transition used previously as <code>transition</code> is set to <code>none</code> when reloading same page.</p>\n\n<pre><code>$(document).on(\"pagebeforechange\", function (e, data) {\n    if (data.options &amp;&amp; data.options.allowSamePageTransition) {\n        data.options.transition = \"none\";\n    } else {\n        data.options.transition = $.mobile.defaultPageTransition;\n    }\n});\n</code></pre>\n\n<blockquote>\n  <p><strong><a href=\"http://jsfiddle.net/Palestinian/9wr1ascw/show/\" rel=\"nofollow\">Demo</a></strong> - <strong><a href=\"http://jsfiddle.net/Palestinian/9wr1ascw/embedded/js/\" rel=\"nofollow\">Code</a></strong></p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a jQuery mobile panel which slides in from the side, it works great.\nBut lets say you have a login page, that redirects to a main page with a panel. Now if the user opens the panel, and then clicks the back button, he expects the panel to close. But instead the browser navigates back to the login page.</p>\n\n<p>I\u00b4ve tried adding something to the url:</p>\n\n<pre><code>window.location.hash = \"panelOpen\";\n</code></pre>\n\n<p>But that just messes up the jQuery mobile history state pattern. I\u00b4ve also tried to listen to the navigate event, and prevent it if a panel is open:</p>\n\n<pre><code>$(window).on('navigate', function (e, hans) {\n     var panels = $('[data-role=\"panel\"].ui-panel-open');\n     if (panels&amp;&amp;panels.length&gt;0) {\n         e.preventDefault();\n         e.stopPropagation();\n         $('#' + panels[0].id).panel('close');\n           return false;\n         }\n});\n</code></pre>\n\n<p>This kind of works, except that the url is changed, and I cannot grab the event that changes the url. Furthermore, it also messes up the jQuery mobile history pattern.</p>\n\n<p>So how does people achieve this expected 'app-like' behaviour with a jQuery mobile panel; open panel > history back > close panel. And thats it.</p>\n\n<p>Thanks alot!</p>\n",
            "last_activity_date": 1410711418,
            "question_id": 25600152,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "jquery-mobile"
            ],
            "title": "jQuery mobile - close panel on history back"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You need to specify a <code>?callback=JSON_CALLBACK</code> in the URL that you pass to <code>$http.jsonp</code>.</p>\n\n<p>From <a href=\"https://docs.angularjs.org/api/ng/service/$http#jsonp\" rel=\"nofollow\">Angular's <code>$http.jsonp</code> documentation</a>:</p>\n\n<pre><code>jsonp(url, [config]);\nShortcut method to perform JSONP request.\n\nParameters\nParam   Type    Details\nurl     string  \nRelative or absolute URL specifying the destination of the request.\nThe name of the callback should be the string JSON_CALLBACK.\n</code></pre>\n\n<p>That last line is what you're missing.</p>\n\n<p>A simple example (using a Firebase database, not Firebase hosting):</p>\n\n<pre><code>var app = angular.module('myapp', []);\napp.controller('mycontroller', function($scope, $http) {\n  var url = 'https://yourfirebase.firebaseio.com/25564200.json';\n  $http.jsonp(url+'?callback=JSON_CALLBACK').then(\n    function(resp){\n      console.log(resp.data); // your object is in resp.data\n    },\n    function(err){\n        console.error(err.status)\n    }\n  );  \n});\n</code></pre>\n\n<p>In case you want to see it working: <a href=\"http://jsbin.com/robono/1/watch?js,console\" rel=\"nofollow\">http://jsbin.com/robono/1/watch?js,console</a></p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I am trying to obtain a <code>.json</code> file from remote firebase server.</p>\n\n<pre><code>function fetchData(remoteJsonId){\n    var url = \"https://myAppName.firebaseapp.com/topics/\"+remoteJsonID;\n    console.log(url); //This variable expands to the full domain name which is valid and                       returns success both on wget and the browser\n    $http.jsonp(url).then(\n        function(resp){\n\n        },\n        function(err){\n            console.log(err.status) // This posts \"404\" on console.\n        }\n    );\n}\n</code></pre>\n\n<p>But If I open <code>url</code> in the browser the json file loads. Even if I <code>wget url</code> the json file loads. But through angular it returns a <code>404</code> not found.</p>\n\n<p>Now the <code>.json</code> remote file has this structure:</p>\n\n<pre><code>[\n  { \n    \"hello\":\"Europe\"\n  },\n\n  {\n    \"hello\":\"USA\"\n  }\n]\n</code></pre>\n\n<p>The above file can be fetched using $http.get() but not with $http.jsonp(). JSONP cant parse .json file with the above structure. How can I work around this?</p>\n",
            "last_activity_date": 1409426339,
            "question_id": 25564200,
            "score": 1,
            "tags": [
                "javascript",
                "json",
                "angularjs",
                "firebase-hosting"
            ],
            "title": "Obtaining JSONP files from Firebase hosting through Angular"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>To instruct the browser to download the file instead of showing it in the browser, try the add  following headers to the server response:</p>\n\n<pre><code>Content-Disposition:attachment; filename=\"filename.xxx\"\nContent-Type:application/octet-stream\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h1>Default Open-In Application:</h1>\n\n<p>Based on the screenshot, it looks like you have set Firefox as the default application to open your PDF documents on that computer. Which it does, using it's embedded viewer.</p>\n\n<p>So it is saving as a PDF, but your open-in application preferences make it appear as Firefox Html Document.</p>\n\n<p>If you change the open-in preference back to Adobe Reader then the Save-As type should display correctly in the browser.</p>\n\n<p>I hope that helps.</p>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I want to download a pdf file from the web server using <code>$http</code>. I use this code which works great, my file only is save as a html file, but when I open it it is opened as pdf but in the browser. I tested it on Chrome 36, Firefox 31 and Opera 23.</p>\n\n<p>This is my angularjs code (<a href=\"http://stackoverflow.com/a/24129082/1295344\">based on this code</a>):</p>\n\n<pre><code>UserService.downloadInvoice(hash).success(function (data, status, headers) {\n                    var filename,\n                        octetStreamMime = \"application/octet-stream\",\n                        contentType;\n\n                    // Get the headers\n                    headers = headers();\n\n                    if (!filename) {\n                        filename = headers[\"x-filename\"] || 'invoice.pdf';\n                    }\n\n                    // Determine the content type from the header or default to \"application/octet-stream\"\n                    contentType = headers[\"content-type\"] || octetStreamMime;\n\n                    if (navigator.msSaveBlob) {\n                        var blob = new Blob([data], { type: contentType });\n                        navigator.msSaveBlob(blob, filename);\n                    } else {\n                        var urlCreator = window.URL || window.webkitURL || window.mozURL || window.msURL;\n\n                        if (urlCreator) {\n                            // Try to use a download link\n                            var link = document.createElement(\"a\");\n\n                            if (\"download\" in link) {\n                                // Prepare a blob URL\n                                var blob = new Blob([data], { type: contentType });\n                                var url = urlCreator.createObjectURL(blob);\n\n                                link.setAttribute(\"href\", url);\n                                link.setAttribute(\"download\", filename);\n\n                                // Simulate clicking the download link\n                                var event = document.createEvent('MouseEvents');\n                                event.initMouseEvent('click', true, true, window, 1, 0, 0, 0, 0, false, false, false, false, 0, null);\n                                link.dispatchEvent(event);\n                            } else {\n                                // Prepare a blob URL\n                                // Use application/octet-stream when using window.location to force download\n                                var blob = new Blob([data], { type: octetStreamMime });\n                                var url = urlCreator.createObjectURL(blob);\n                                $window.location = url;\n                            }\n                        }\n                    }\n                }).error(function (response) {\n                    $log.debug(response);\n                });\n</code></pre>\n\n<p>On my server I use Laravel and this is my response:</p>\n\n<pre><code>$headers = array(\n                'Content-Type' =&gt; $contentType,\n                'Content-Length' =&gt; strlen($data),\n                'Content-Disposition' =&gt; $contentDisposition\n            );\n\n            return Response::make($data, 200, $headers);\n</code></pre>\n\n<p>where <code>$contentType</code> is <code>application/pdf</code> and <code>$contentDisposition</code> is <code>attachment; filename=\" . basename($fileName) . '\"'</code></p>\n\n<p>$filename - e.g. <code>59005-57123123.PDF</code></p>\n\n<p>My response headers:</p>\n\n<pre><code>Cache-Control:no-cache\nConnection:Keep-Alive\nContent-Disposition:attachment; filename=\"159005-57123123.PDF\"\nContent-Length:249403\nContent-Type:application/pdf\nDate:Mon, 25 Aug 2014 15:56:43 GMT\nKeep-Alive:timeout=3, max=1\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/5fNpm.png\" alt=\"enter image description here\"></p>\n\n<p>What am I doing wrong?</p>\n",
            "last_activity_date": 1409046539,
            "question_id": 25490007,
            "score": 1,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "AngularJS: download pdf file from the server"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I would probably try avoid repeating by rearranging the data and tweak the logic a bit.\nI would just have one select with <code>ng-repeat</code> and my source data will be a <code>2D</code> array.</p>\n\n<p>Example:-</p>\n\n<pre><code>//It does not matter where i get the data from \n$scope.selects = [[{name:'level11', id:1}, {name:'level12', id:2}, {name:'level13', id:3}], \n    [{name:'level21', id:1}, {name:'level22', id:2}, {name:'level23', id:3}],\n    [{name:'level31', id:1}, {name:'level32', id:2}, {name:'level33', id:3}],\n    [{name:'level41', id:1}, {name:'level42', id:2}, {name:'level43', id:3}],\n    [{name:'level51', id:1}, {name:'level52', id:2}, {name:'level53', id:3}]];\n</code></pre>\n\n<p>Then i would just keep an array to store respective models:-</p>\n\n<pre><code>$scope.selected = Array.apply(null, { length: $scope.selects.length }).map(Object); \n</code></pre>\n\n<p>Then have just one <code>changehandler</code> for all of them, which currently pass index you could even pass data.</p>\n\n<pre><code> $scope.handleChange = function(index) {\n     //reset data for others when a dropdown in selected\n     $scope.selected = $scope.selected.map(function(itm, idx){\n           return (idx &gt; index) ? {} : itm;\n     });\n\n    //This will give you selected value of the current item if you need\n    var selected = $scope.selected[index];\n    //DO something with the value\n  }\n</code></pre>\n\n<p>And finally my markup would just be:-</p>\n\n<pre><code>&lt;select ng-repeat=\"select in selects\" ng-class=\"selectLevel{{$index}}\"\n         ng-change='handleChange($index)' &lt;!-- Handler for Change event pass index of even model --&gt;\n         ng-model='selected[$index].value' &lt;!-- Yes this is the model --&gt;\n         ng-show='!$index || selected[$index-1].value' &lt;!-- Show only if its previous model has a value --&gt;\n         ng-options='obj.name for obj in select track by obj.id'&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p><strong><a href=\"http://plnkr.co/edit/2myp4X?p=preview\" rel=\"nofollow\">Demo</a></strong></p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I am trying to get drop downs to only populate if the drop down above them has something selected. I had someone point me in the right starting direction with something like this.</p>\n\n<pre><code>&lt;select class=\"selectLevel0\" ng-model='scope1' ng-change='scope1Change()' \n        ng-options='obj.name for obj in array track by obj.id'&gt;\n&lt;/select&gt;\n\n&lt;select class=\"selectLevel1\" ng-model=\"scope2\"  ng-change='scope2Change()' \n        ng-options='obj.name for obj in array2 track by obj.id' ng-hide='!scope1'&gt;\n&lt;/select&gt;\n\n&lt;select class=\"selectLevel2\" ng-model=\"scope3\" ng-change='scope3Change()' \n        ng-options='obj.name for obj in array3 track by obj.id' ng-hide='!scope2'&gt;\n&lt;/select&gt;\n\n&lt;select class=\"selectLevel3\" ng-model=\"scope4\" ng-change='scope4Change()' \n        ng-options='obj.name for obj in array4 track by obj.id' ng-hide='!scope3'&gt;\n&lt;/select&gt;\n\n&lt;select class=\"selectLevel4\" ng-model=\"scope5\" \n        ng-options='obj.name for obj in array5 track by obj.id' ng-hide='!scope4'&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>This is fine for the first round - the drop downs below will not populate until the previous one has something selected. The tricky part is I'm trying to figure out if say I have selected all the way down to the 5th one and I go an reselect the 2nd level one. I then want the third level to show up and 4-5 to disappear. I was thinking maybe something like ng_show=\"!scope2 || !scope3\" (or something similar where i pass multiple arguments), but I cannot seem to get something like this working in angular. Is there a better way of dealing with this?</p>\n",
            "last_activity_date": 1413219230,
            "question_id": 25413071,
            "score": 1,
            "tags": [
                "javascript",
                "html",
                "angularjs",
                "angularjs-scope",
                "angularjs-ng-options"
            ],
            "title": "How to handle cascading/chained dropdowns using multiple ng-options"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>See the flot example here on <a href=\"http://www.flotcharts.org/flot/examples/axes-multiple/index.html\" rel=\"nofollow\">multiple axis</a>.  Minimal example:</p>\n\n<pre><code>$.plot(\"#placeholder\", [\n    { data: d1 },\n    { data: d2, yaxis: 2 } // set second series to use second axis\n], {\n    yaxes: [ { \n            min: 0 // options for first axis\n        }, {\n            alignTicksWithAxis: 1 // options for second axis, put it on right\n            position: \"right\"\n        } ],\n});\n</code></pre>\n\n<p>Two mix a bar and line chart set that in each's series object:</p>\n\n<pre><code>    $.plot(\"#placeholder\", [{\n        data: d1,\n        lines: { show: true }\n    }, {\n        data: d2,\n        bars: { show: true }\n    }]);\n</code></pre>\n\n<p>Putting these together, here's an <a href=\"http://plnkr.co/edit/En7DL737Ued6ZjByIZSb?p=preview\" rel=\"nofollow\">example</a>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/FTkPi.png\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I used to draw this kind of chart (one vertical axis, one horizantal axis):</p>\n\n<p><img src=\"http://i.stack.imgur.com/zLy5h.png\" alt=\"enter image description here\"></p>\n\n<p>Now i have been asked to do this kind of chart:\n<img src=\"http://i.stack.imgur.com/L0myO.png\" alt=\"enter image description here\"></p>\n\n<p>as you see, the problem with the ordered chart that it contains (two vertical axis, one horizantal axis).</p>\n\n<h3>My question</h3>\n\n<p>does flot or any other jquery library able to do that please?</p>\n",
            "last_activity_date": 1408285952,
            "question_id": 25349545,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "charts",
                "flot"
            ],
            "title": "flot jquery is it possible to draw this kind of chart"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<h2>Single Page Model</h2>\n\n<p>jQuery Mobile loads external pages via Ajax; when you have a link to another page, jQM loads first page div <code>&lt;div data-role=\"page\"&gt;</code> in that page and neglects other tags outside that div.</p>\n\n<p>If you have JS code that you want to run in the loaded page, you have to place it inside page div.</p>\n\n<pre><code>&lt;div data-role=\"page\"&gt;\n   &lt;!-- JS code --&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I am facing a very strange problem where my javascript code does not run the first time the page is loaded. If I reload/refresh the page, the script runs fine.</p>\n\n<p>After some hit-and-trial's I realized that if I remove the <strong>jquery.mobile-1.4.3.min.js</strong> library from the previous page (which redirects to my current page) then the script is running as expected.</p>\n\n<p>Can anyone please help on why this is occurring and how can I resolve it ?</p>\n\n<p>Update:\nOn opening the hpme page (which contains the link to the page containing the JS), I can see the following error in console:\nUncaught TypeError: Cannot set property 'mobile' of undefined .</p>\n\n<p>Please note that this home page is basically a simple code with library declarations and html links.</p>\n\n<p>Edit :\nI had missed the jQuery lib earlier and hence the Uncaught TypeError.\nNow, my libraries are in the following order :</p>\n\n<pre><code>&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquerymobile/1.4.3/jquery.mobile.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/jquery-ui.min.js\"&gt;&lt;/script&gt;\n\n&lt;link rel=\"stylesheet\" href=\"//ajax.googleapis.com/ajax/libs/jquerymobile/1.4.3/jquery.mobile.min.css\" /&gt;\n&lt;link rel=\"stylesheet\" href=\"//ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/themes/smoothness/jquery-ui.css\" /&gt;\n</code></pre>\n\n<p>Now there are no errors in my console, but still the JS in the next page does not run in the first load. Oddly, if I remove the <strong>jquery.mobile-1.4.3.min.js</strong> library, the JS works fine. </p>\n",
            "last_activity_date": 1408179431,
            "question_id": 25337374,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "jquery-mobile"
            ],
            "title": "JavaScript does not run on first load if I include the jquery.mobile-1.4.3.min.js library"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Ripping the CSS from the page; here is the needed CSS that will place suggestions inside of a box. There is much more CSS in the page; but it will override a lot of bootstrap. </p>\n\n<pre><code>    /* CSS for typeahead */\n.tt-query {\n  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n     -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n          box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);\n}\n\n.tt-hint {\n  color: #999\n}\n\n.tt-dropdown-menu {\n  width: auto;\n  margin-top: 12px;\n  padding: 8px 0;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  -webkit-border-radius: 8px;\n     -moz-border-radius: 8px;\n          border-radius: 8px;\n  -webkit-box-shadow: 0 5px 10px rgba(0,0,0,.2);\n     -moz-box-shadow: 0 5px 10px rgba(0,0,0,.2);\n          box-shadow: 0 5px 10px rgba(0,0,0,.2);\n}\n\n.tt-suggestion {\n  padding: 3px 20px;\n  font-size: 16px;\n  line-height: 24px;\n}\n\n.tt-suggestion.tt-cursor {\n  color: #fff;\n  background-color: #CECBCB;\n\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I am trying to use bootstrap <a href=\"http://timschlechter.github.io/bootstrap-tagsinput/examples/\" rel=\"nofollow\">tagsinput</a> in a form contained in a modal\nlike this</p>\n\n<pre><code>...\n&lt;div class=\"form-group\"&gt;\n                            &lt;label for=\"myTagLabel\"&gt;Tags:&lt;/label&gt; \n                            &lt;input class=\"form-control\" id=\"myTag\"  type=\"text\" data-role=\"tagsinput\"&gt;\n                        &lt;/div&gt;\n</code></pre>\n\n<p>Also I am trying to use <a href=\"http://twitter.github.io/typeahead.js/examples/#bloodhound\" rel=\"nofollow\">twitter typeahead</a> with the following code</p>\n\n<pre><code>var tagValues = ['ATag','AnotherTag'];\n\n    var tagVals = new Bloodhound({\n        datumTokenizer: Bloodhound.tokenizers.obj.whitespace('value'),\n        queryTokenizer: Bloodhound.tokenizers.whitespace,\n        local: $.map(tagValues, function(tagValue) { return { value: tagValue }; })\n    });\n\n    // kicks off the loading/processing of `local` and `prefetch`\n    tagVals.initialize();\n\n    $('#myTag').tagsinput({\n        typeaheadjs: {\n            name: 'tagVals',\n            displayKey: 'value',\n            valueKey: 'value',\n            source: tagVals.ttAdapter()\n        }\n    });\n</code></pre>\n\n<p>you can see in the image above what is the result. In this case the problem is that typeahead suggestions are not contained in the frame with rounded corners</p>\n\n<p><img src=\"http://i.stack.imgur.com/9ei1y.png\" alt=\"enter image description here\"></p>\n",
            "last_activity_date": 1407961845,
            "question_id": 25292267,
            "score": 1,
            "tags": [
                "javascript",
                "twitter-bootstrap",
                "twitter-bootstrap-3",
                "typeahead",
                "bootstrap-tags-input"
            ],
            "title": "bootstrap: tags in input and typeahead"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I've created <a href=\"http://plnkr.co/edit/3kImqU?p=preview\" rel=\"nofollow\">an example</a>, playing with default pages and auth/unauth user. Similar issue could be seen <a href=\"http://stackoverflow.com/a/24725180/1679310\">here</a></p>\n\n<p>Firstly this would be the listener:</p>\n\n<pre><code>app.run(function ($rootScope, $state, $location, Auth) {\n\n    $rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState) {\n\n      var shouldLogin = toState.data !== undefined\n                    &amp;&amp; toState.data.requireLogin \n                    &amp;&amp; !Auth.isLoggedIn ;\n\n      // NOT authenticated - wants any private stuff\n      if(shouldLogin)\n      {\n        $state.go('login');\n        event.preventDefault();\n        return;\n      }\n\n\n      // authenticated (previously) comming not to root main\n      if(Auth.isLoggedIn) \n      {\n        var shouldGoToMain = fromState.name === \"\"\n                          &amp;&amp; toState.name !== \"main\" ;\n\n        if (shouldGoToMain)\n        {\n            $state.go('main');\n            event.preventDefault();\n        } \n        return;\n      }\n\n      // UNauthenticated (previously) comming not to root public \n      var shouldGoToPublic = fromState.name === \"\"\n                        &amp;&amp; toState.name !== \"public\"\n                        &amp;&amp; toState.name !== \"login\" ;\n\n      if(shouldGoToPublic)\n      {\n          $state.go('public');console.log('p')\n          event.preventDefault();\n      } \n\n      // unmanaged\n    });\n});\n</code></pre>\n\n<p>What is happening? </p>\n\n<ul>\n<li>We check if user is logged in. If not, but requires access to not public stuff... we redirect to login</li>\n<li>user is logged in but not going directly to main... we transfer him</li>\n<li>user is not logged in, but not going to public ... we redirect</li>\n<li>else... let it be</li>\n</ul>\n\n<p>And here are states:</p>\n\n<pre><code>  $stateProvider\n    // available for anybody\n    .state('public',{\n        url : '/public',\n        template : '&lt;div&gt;public&lt;/div&gt;',\n    })\n    // just for authenticated\n    .state('main',{\n        url : '/main',\n        template : '&lt;div&gt;main for authenticated&lt;/div&gt;',\n        data : {requireLogin : true },\n    })\n    // just for authenticated\n    .state('other',{\n        url : '/other',\n        template : '&lt;div&gt;other for authenticated&lt;/div&gt;',\n        data : {requireLogin : true },\n    })\n    // the log-on screen\n    .state('login',{\n        url : '/login',\n        templateUrl : 'tpl.login.html',\n        controller : 'LoginCtrl',\n    })\n</code></pre>\n\n<p>Check <a href=\"http://plnkr.co/edit/3kImqU?p=preview\" rel=\"nofollow\">plunker here</a> or <a href=\"http://stackoverflow.com/a/24725180/1679310\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am using AngularJs and Ui-Router and I am trying to set two different home pages, one for users that are logged in and the other for users that aren't. But I am getting the following error:</p>\n\n<pre><code>RangeError: Maximum call stack size exceeded\n</code></pre>\n\n<p>I ran <code>console.trace()</code> and I can see that there is an issue which is causing the states to loop infinitely (or something like that). BUt I have no idea how to fix it.</p>\n\n<p>Here is the code that is generating the error. </p>\n\n<pre><code>.run(function ($rootScope, $state, $location, Auth) {\n    $rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState) {\n      if(fromState.name === \"\") {\n        if (Auth.isLoggedIn()) {\n            $state.go('main');\n            event.preventDefault();\n        } else {\n          $state.go('welcome');\n          event.preventDefault();\n        }\n      } else {\n         if (toState.authenticate &amp;&amp; !Auth.isLoggedIn()) {\n             $location.path('/login');\n             event.preventDefault();\n         }\n      }\n    });\n</code></pre>\n\n<p>From what I can tell it seems to stem from <code>if(fromState.name === \"\")</code></p>\n",
            "last_activity_date": 1406697490,
            "question_id": 25028597,
            "score": 1,
            "tags": [
                "javascript",
                "angularjs",
                "angular-ui-router"
            ],
            "title": "How can I fix &#39;Maximum call stack size exceeded&#39; AngularJS"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You don't need to convert them to GeoJSON to use the <a href=\"https://github.com/bjornharrtell/jsts\" rel=\"nofollow\">jsts library</a>, you need to convert them from google.maps.LatLng objects to jsts.geom.Coordinates. Instead of using this:</p>\n\n<pre><code>var geoJSON2JTS = function(boundaries) {\n  var coordinates = [];\n  for (var i = 0; i &lt; boundaries.length; i++) {\n    coordinates.push(new jsts.geom.Coordinate(\n        boundaries[i][1], boundaries[i][0]));\n  }\n  return coordinates;\n};\n</code></pre>\n\n<p>Use this, which will convert coordinates in a google.maps.Polygon path to the JTS format:</p>\n\n<pre><code>var googleMaps2JTS = function(boundaries) {\n  var coordinates = [];\n  for (var i = 0; i &lt; boundaries.getLength(); i++) {\n    coordinates.push(new jsts.geom.Coordinate(\n        boundaries.getAt(i).lat(), boundaries.getAt(i).lng()));\n  }\n  return coordinates;\n};\n</code></pre>\n\n<p>then change \"findSelfIntersects\" like this:</p>\n\n<pre><code>/**\n * findSelfIntersects\n *\n * Detect self-intersections in a polygon.\n *\n * @param {object} google.maps.Polygon path co-ordinates.\n * @return {array} array of points of intersections.\n */\nvar findSelfIntersects = function(googlePolygonPath) {\n  var coordinates = googleMaps2JTS(googlePolygonPath);\n  var geometryFactory = new jsts.geom.GeometryFactory();\n  var shell = geometryFactory.createLinearRing(coordinates);\n  var jstsPolygon = geometryFactory.createPolygon(shell);\n\n  // if the geometry is aleady a simple linear ring, do not\n  // try to find self intersection points.\n  var validator = new jsts.operation.IsSimpleOp(jstsPolygon);\n  if (validator.isSimpleLinearGeometry(jstsPolygon)) {\n    return;\n  }\n\n  var res = [];\n  var graph = new jsts.geomgraph.GeometryGraph(0, jstsPolygon);\n  var cat = new jsts.operation.valid.ConsistentAreaTester(graph);\n  var r = cat.isNodeConsistentArea();\n  if (!r) {\n    var pt = cat.getInvalidPoint();\n    res.push([pt.x, pt.y]);\n  }\n  return res;\n};\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I'm trying to implement a <strong>polygon self intersection algorithm</strong> from Google Maps API V3 polygons.<br>\nThe goal is just to detect if yes or no, a simple polygon drawn by the user is self crossing.</p>\n\n<p>I have found <a href=\"http://engblog.nextdoor.com/post/86430627239/fast-polygon-self-intersection-detection-in-javascript\" rel=\"nofollow\">this very interesting link</a>, but it assumes that coordinates of the polygon's vertices are given on <a href=\"http://geojson.org/geojson-spec.html\" rel=\"nofollow\">geoJSON</a> format. However, this isn't my case ; I'm only able to retrieve polygons coordinates using <code>polygon.getPath()</code> into a <code>polygoncomplete</code> event.</p>\n\n<p>This is how i retrieve the coordinates : </p>\n\n<pre><code>google.maps.event.addDomListener(drawingManager, 'polygoncomplete', function(polygon)\n{\n    var polygonBounds = polygon.getPath();\n    var coordinates = [];\n\n    for(var i = 0 ; i &lt; polygonBounds.length ; i++)\n    {            \n        vertice = {\n                      \"Latitude\" : polygonBounds.getAt(i).lat(),\n                      \"Longitude\" : polygonBounds.getAt(i).lng()\n                  }\n\n        coordinates.push(vertice );\n    }\n}\n</code></pre>\n\n<p>How can I transform these coordinates, given by <code>polygon.getpath()</code> into <em>geoJSON</em> format ?<br>\nIs there any better way to detect if a Google Maps polygon is self-intersecting ? If so, could you please share some code sample and not just a mathematical explaination ?</p>\n\n<p>PS : I've seen <a href=\"http://stackoverflow.com/questions/4876065/check-if-polygon-is-self-intersecting\">this</a> link but without any code sample, I'm a little bit lost.</p>\n",
            "last_activity_date": 1406718874,
            "question_id": 25017463,
            "score": 1,
            "tags": [
                "javascript",
                "google-maps-api-3",
                "polygon",
                "shapes",
                "self-intersection"
            ],
            "title": "Google Maps Polygons self intersecting detection"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can use <code>ES6</code> in Node.</p>\n\n<pre><code>Class myClass() {\n  this.hi = function(){\"hello\"};\n\n}\n\nClass myChild extends myClass() {\n\n}\n\nvar c = new myChild(); c.hi(); //hello\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<blockquote>\n  <p>I was looking at the source-code of expressjs</p>\n</blockquote>\n\n<p>You might also want to have a look at <a href=\"http://stackoverflow.com/q/23626625/1048572\">this question</a> about how <code>app</code> is supposed to work.</p>\n\n<blockquote>\n  <p>What are the differences between <code>utils-merge</code>\n  as above and just doing something like:</p>\n\n<pre><code>var util = require('util');\n....\nutil.inherit(app, proto);\nutil.inherit(app, EventEmitter);\n</code></pre>\n</blockquote>\n\n<p>They're doing totally different things:</p>\n\n<blockquote>\n  <p><strong><a href=\"https://www.npmjs.org/package/utils-merge\" rel=\"nofollow\">utils-merge</a></strong><br>\n  <em>Merges the properties from a source object into a destination object.</em></p>\n  \n  <p><strong><a href=\"http://nodejs.org/api/util.html#util_util_inherits_constructor_superconstructor\" rel=\"nofollow\">util.inherits</a></strong></p>\n  \n  <p><em>Inherit the prototype methods from one constructor into another. The prototype of constructor will be set to a new object created from\n  superConstructor.</em></p>\n</blockquote>\n\n<p>Also read <a href=\"https://github.com/jaredhanson/utils-merge/blob/master/index.js#l1\" rel=\"nofollow\">their</a> <a href=\"https://github.com/joyent/node/blob/95dbb6bf647d90947c0c738533dadf391559be98/lib/util.js#L615\" rel=\"nofollow\">sources</a>!</p>\n\n<p><code>app</code> (while being a function for odd reasons) is not a constructor, but is supposed to be a (plain) object - an <strong>instance</strong> made by <code>createApplication</code>. So there's no way to do \"class inheritance\" here. And you cannot use <code>utils.inherits</code> multiple times on the same constructor anyways, as it does <em>overwrite</em> the <code>.prototype</code> property of it.</p>\n\n<p>Instead, that <code>mixin</code> function will simply copy all the properties from <code>proto</code> and then all properties from <code>EventEmitter.prototype</code> to the <code>app</code> object.</p>\n\n<blockquote>\n  <p>And is this still trying to extend properties? I'm kind-a lost here:</p>\n\n<pre><code>app.request = { __proto__: req, app: app }; // what is the equivalent for this in util?\napp.response = { __proto__: res, app: app };\n</code></pre>\n</blockquote>\n\n<p>Use the native <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\" rel=\"nofollow\"><code>Object.create</code></a> function for this:</p>\n\n<pre><code>app.request = Object.create(req);\napp.request.app = app;\napp.response = Object.create(res);\napp.response.app = app;\n</code></pre>\n\n<blockquote>\n  <p>If so, will that still work even if <code>util.inherit</code> is used?</p>\n\n<pre><code>app.request = util.inherit(app, req) // Or something like that?\n</code></pre>\n</blockquote>\n\n<p>No, really not.</p>\n\n<blockquote>\n  <p>jshint says <code>__proto__</code> is depricated.</p>\n</blockquote>\n\n<p>Yes, you should use <code>Object.create</code> instead. But the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/proto\" rel=\"nofollow\">nonstandard <code>__proto__</code></a> will probably be kept for compatibility.</p>\n\n<blockquote>\n  <p>Additionally I also saw this?</p>\n\n<pre><code>var res = module.exports = {\n  __proto__: http.ServerResponse.prototype\n};\n</code></pre>\n  \n  <p>Could this be?</p>\n\n<pre><code>var res = module.exports = util.inherits...??\n</code></pre>\n</blockquote>\n\n<p>No, again that's a case for <code>Object.create</code>:</p>\n\n<pre><code>var res = module.exports = Object.create(http.ServerResponse.prototype);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>Extending prototypical classes in node.js or javascript in general. (js newb)</p>\n\n<p>I was looking at the source-code of expressjs and saw <a href=\"https://github.com/visionmedia/express/blob/master/lib/express.js\" rel=\"nofollow\">this</a>:</p>\n\n<pre><code>var mixin = require('utils-merge'); \n....\nmixin(app, proto);\nmixin(app, EventEmitter.prototype);\n</code></pre>\n\n<p><code>Utils-merge</code> seems like an external module. What are the difference of above and just doing something like:</p>\n\n<pre><code>var util = require('util');\n....\nutil.inherit(app, proto);\nutil.inherit(app, EventEmitter);\n</code></pre>\n\n<p>And is this still trying to extend properties? I'm kind-a lost here:</p>\n\n<pre><code>app.request = { __proto__: req, app: app }; // what is the equivalent for this in util?\napp.response = { __proto__: res, app: app };\n</code></pre>\n\n<p>If so, will that still work even if <code>util.inherit</code> is used?</p>\n\n<pre><code>app.request = util.inherit(app, req)\n</code></pre>\n\n<p>Or something like that? jshint says <code>__proto__</code> is depricated.</p>\n\n<hr>\n\n<p>Additionally I also saw this?</p>\n\n<pre><code>var res = module.exports = {\n  __proto__: http.ServerResponse.prototype\n};\n</code></pre>\n\n<p>Could this be?</p>\n\n<pre><code>var res = module.exports = util.inherits...??\n</code></pre>\n",
            "last_activity_date": 1405625311,
            "question_id": 24809786,
            "score": 1,
            "tags": [
                "javascript",
                "node.js"
            ],
            "title": "Different ways of extending classes in node.js"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>As stated by Jake Harding, <a href=\"https://github.com/twitter/typeahead.js/issues/225#issuecomment-17489143\" rel=\"nofollow\">the solution for modern browsers</a> is like so:</p>\n\n<pre><code>var compiledTemplate = Hogan.compile('&lt;div class=\"tt-suggest-page\"&gt;{{value}}&lt;/div&gt;');\n\n$('input.search-query').typeahead(null, {\n    // ...\n    templates: {\n        suggestion: compiledTemplate.render.bind(compiledTemplate);\n    }\n});\n</code></pre>\n\n<p>Unfortunately, <a href=\"http://kangax.github.io/compat-table/es5/#Function.prototype.bind\" rel=\"nofollow\">Function.prototype.bind() is not supported by IE &lt; 9</a>, so if you need to support older browsers that will not work.</p>\n\n<p>The good news is that <a href=\"http://kangax.github.io/compat-table/es5/#Function.prototype.bind\" rel=\"nofollow\">as stated by Steve Pavarno</a> you don't need a template engine anymore.  You can achieve the desired result by passing a function like so:</p>\n\n<pre><code>    // ...\n    templates: {\n        suggestion: function(data) { // data is an object as returned by suggestion engine\n            return '&lt;div class=\"tt-suggest-page\"&gt;' + data.value + '&lt;/div&gt;';\n        };\n    }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I have been using Typeahead 0.9.3 with Hogan 2 for a while and it was very straight forward to setup.</p>\n\n<p>in 0.9.3 I did something like:</p>\n\n<pre><code>$('input.search-query').typeahead([\n     {\n         name:     \"pages\"\n        ,local:    localSuggestions\n        ,template: '&lt;div class=\"tt-suggest-page\"&gt;{{value}}&lt;/div&gt;'\n        ,engine:   Hogan\n    }\n]);\n</code></pre>\n\n<p>According to the <a href=\"https://github.com/twitter/typeahead.js/blob/master/doc/migration/0.10.0.md#precompiled-templates-are-now-required\" rel=\"nofollow\">Migration Guide to 0.10</a> \"Precompiled Templates are Now Required\", so in 0.10.3 I'm trying:</p>\n\n<pre><code>$('input.search-query').typeahead(null, {\n     name:     \"pages\"\n    ,source:   taSourceLocal.ttAdapter()\n    ,templates: {\n         suggestion: Hogan.compile('&lt;div class=\"tt-suggest-page\"&gt;{{value}}&lt;/div&gt;')\n     }\n});\n</code></pre>\n\n<p>but it does not work.  I get an error: <code>Uncaught TypeError: object is not a function</code></p>\n\n<p>If there is another, minimalist template engine that can work I will consider it as well, but it has to be small.  I don't want to add a huge file like Handlebars or a whole library like Underscore.</p>\n\n<p>any ideas?  TIA!</p>\n",
            "last_activity_date": 1405355755,
            "question_id": 24727534,
            "score": 1,
            "tags": [
                "javascript",
                "template-engine",
                "typeahead.js",
                "hogan.js",
                "twitter-typeahead"
            ],
            "title": "Migrating to Typeahead 0.10+ with Hogan"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>To handle AJAX content, you can either use <code>MutationObserver</code>s or polling with a timer.  The former can get tricky and complicated, while the timer is simple, robust, and works well for most all practical applications.</p>\n\n<p>To handle attributes like <code>placeholder</code>, merely use <code>document.querySelectorAll(\"[placeholder]\")</code> to get the nodes and loop through the resulting <em>NodeList</em>.</p>\n\n<p>While you are at it, you'll probably want to translate <code>title</code> attributes too.</p>\n\n<p>In short:</p>\n\n<ul>\n<li>Put the replacement code in a function.</li>\n<li>Call that function inside a <code>setInterval</code>.</li>\n<li>Add a separate loop, inside the interval, for the attributes you want to change.</li>\n</ul>\n\n<p>Putting it all together, the cross-browser userscript would look like the following. See the inline comments and<br>\nyou can <strong>test the script against <a href=\"http://fiddle.jshell.net/Hp6K2/show/\" rel=\"nofollow\">this jsFiddle page</a>.</strong></p>\n\n<pre><code>// ==UserScript==\n// @name     Replace lots of terms on an AJAX'd page\n// @include  http://fiddle.jshell.net/Hp6K2/show/*\n// @grant    none\n// ==/UserScript==\nvar replaceArry = [\n    [/text/gi,                      'blather'],\n    [/View your user account/gi,    'Tu cuenta'],\n    // etc.\n];\nvar numTerms    = replaceArry.length;\n                  //-- 5 times/second; Plenty fast.\nvar transTimer  = setInterval (translateTermsOnPage, 222); \n\nfunction translateTermsOnPage () {\n    /*--- Replace text on the page without busting links or javascript \n        functionality.\n    */\n    var txtWalker   = document.createTreeWalker (\n        document.body,\n        NodeFilter.SHOW_TEXT, {\n            acceptNode: function (node) {\n                //-- Skip whitespace-only nodes\n                if (node.nodeValue.trim() ) {\n                    if (node.tmWasProcessed)\n                        return NodeFilter.FILTER_SKIP;\n                    else\n                        return NodeFilter.FILTER_ACCEPT;\n                }\n                return NodeFilter.FILTER_SKIP;\n            }\n        },\n        false\n    );\n    var txtNode     = null;\n    while (txtNode  = txtWalker.nextNode () ) {\n        txtNode.nodeValue       = replaceAllTerms (txtNode.nodeValue);\n        txtNode.tmWasProcessed  = true;\n    }\n    //\n    //--- Now replace user-visible attributes.\n    //\n    var placeholderNodes    = document.querySelectorAll (\"[placeholder]\");\n    replaceManyAttributeTexts (placeholderNodes, \"placeholder\");\n\n    var titleNodes          = document.querySelectorAll (\"[title]\");\n    replaceManyAttributeTexts (titleNodes, \"title\");\n}\n\nfunction replaceAllTerms (oldTxt) {\n    for (var J  = 0;  J &lt; numTerms;  J++) {\n        oldTxt  = oldTxt.replace (replaceArry[J][0], replaceArry[J][1]);\n    }\n    return oldTxt;\n}\n\nfunction replaceManyAttributeTexts (nodeList, attributeName) {\n    for (var J = nodeList.length - 1;  J &gt;= 0;  --J) {\n        var node    = nodeList[J];\n        var oldText = node.getAttribute (attributeName);\n        if (oldText) {\n            oldText = replaceAllTerms (oldText);\n            node.setAttribute (attributeName, oldText);\n        }\n        else\n            throw \"attributeName does not match nodeList in replaceManyAttributeTexts\";\n    }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I'm translating text inside an HTML document using a tree walker to affect only text nodes: </p>\n\n<pre><code>var replaceArry = [\n    [/View your user account/gi,    'Tu cuenta'],\n    // etc.\n];\nvar numTerms    = replaceArry.length;\nvar txtWalker   = document.createTreeWalker (\n    document.body,\n    NodeFilter.SHOW_TEXT,\n    {   acceptNode: function (node) {\n            //-- Skip whitespace-only nodes\n            if (node.nodeValue.trim() )\n                return NodeFilter.FILTER_ACCEPT;\n\n            return NodeFilter.FILTER_SKIP;\n        }\n    },\n    false\n);\n\nvar txtNode     = null;\nwhile (txtNode  = txtWalker.nextNode () ) {\n    var oldTxt  = txtNode.nodeValue;\n\n    for (var J  = 0;  J &lt; numTerms;  J++) {\n        oldTxt  = oldTxt.replace (replaceArry[J][0], replaceArry[J][1]);\n    }\n    txtNode.nodeValue = oldTxt;\n}\n</code></pre>\n\n<p><br>\nThis works well on static pages (and it doesn't bust hyperlinks or event handlers), but I want it to also:</p>\n\n<ul>\n<li>Catch AJAX'd-in content</li>\n<li>Replace text in <code>placeholder</code> attributes</li>\n</ul>\n\n<p>How do I do that without resorting to <a href=\"http://stackoverflow.com/a/1732454/331508\">RegEx and really mucking things up</a>?</p>\n",
            "last_activity_date": 1404478961,
            "question_id": 24448837,
            "score": 1,
            "tags": [
                "javascript",
                "ajax",
                "replace",
                "userscripts",
                "tampermonkey"
            ],
            "title": "How to replace lots of terms in AJAX-driven page text, and in select attributes -- using a Tampermonkey script?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I rarely work with jQuery so my syntax knowledge of that is poor, and I write my own validation scripts, so I don't know anything about Bootstrap Validator. But in vanilla/native Javascript you would have to change the <code>input type=\"submit\"</code> to <code>input type=\"button\" onclick=\"validateAndSend()\"</code>. That function would then contain the submit command. Here is a demo code: </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Demo Submit with/without validation&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form name=\"theForm\" action=\"form_data_handler.php\"&gt;\n        &lt;input type=\"text\" name=\"firstField\"&gt;&lt;br&gt;\n        &lt;input type=\"button\" value=\"Validate and send\" onclick=\"validateAndSend()\"&gt;&lt;br&gt;\n        &lt;input type=\"submit\" value=\"Just send\"&gt;\n    &lt;/form&gt;\n    &lt;script&gt;\n        function validateAndSend() {\n            if (theForm.firstField.value == '') {\n                alert('The first field is a required field.');\n                return false;\n            }\n            else\n                theForm.submit();\n        }\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Live demo here: <a href=\"http://codepen.io/anon/pen/yDtab?editors=100\" rel=\"nofollow\">http://codepen.io/anon/pen/yDtab?editors=100</a>. </p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In the end, what I needed to to do was disable the forms action using <code>action=\"javascript:return;\"</code> and use a Jquery AJAX method to post the data:</p>\n\n<pre><code>$('#user_fact_form').bootstrapValidator({\n  live: 'enabled',\n  message: 'This value is not valid',\n  submitButton: '$user_fact_form button[type=\"submit\"]',\n  submitHandler: function(validator, form, submitButton) {\n      $.ajax({\n          type: 'POST',\n          url: 'my_form.url',\n          data: $(form).serialize(),\n          success: function(result) {\n              $(\"#facts_tbody\").append(result);\n              $(\"#key\").val('');\n              $(\"#value\").val('');\n              $(\"#user_fact_form\").data('bootstrapValidator').resetForm();\n          }\n      });\n      return false;\n  },\n  feedbackIcons: {\n      valid: 'glyphicon glyphicon-ok',\n      invalid: 'glyphicon glyphicon-remove',\n      validating: 'glyphicon glyphicon-refresh'\n  },\n  fields: {\n      key: {\n          selector: '#key',\n          validators: {\n              notEmpty: {\n                  message: 'The title is required and cannot be empty'\n              }\n          }\n      },\n      value: {\n          selector: '#value',\n          validators: {\n              notEmpty: {\n                  message: 'The value is required and cannot be empty'\n              }\n          }\n      }\n  }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I have seen this asked a couple of times, but they don't seem to apply in my situation.</p>\n\n<p>My form is being submitted before the validation is tested.</p>\n\n<p>form:</p>\n\n<pre><code>&lt;form accept-charset=\"UTF-8\" action=\"/user/fact\" data-bv-submitbuttons=\"button[type='submit']\" data-remote=\"true\" data-toggle=\"validator\" id=\"user_fact_form\" method=\"post\" role=\"form\"&gt;&lt;div style=\"margin:0;padding:0;display:inline\"&gt;&lt;input name=\"utf8\" type=\"hidden\" value=\"&amp;#x2713;\" /&gt;&lt;/div&gt;\n  &lt;div class=\"form-group\"&gt;\n    &lt;label for=\"key\"&gt;Title&lt;/label&gt;\n    &lt;input class=\"form-control\" id=\"key\" name=\"key\" type=\"text\" value=\"\" /&gt;\n  &lt;/div&gt;\n  &lt;div class=\"form-group\"&gt;\n    &lt;label for=\"value\"&gt;Value&lt;/label&gt;\n    &lt;input class=\"form-control\" id=\"value\" name=\"value\" type=\"text\" value=\"\" /&gt;\n  &lt;/div&gt;\n  &lt;div class=\"form-group\"&gt;\n    &lt;input class=\"btn btn-primary\" disable=\"true\" name=\"commit\" type=\"submit\" value=\"Add\" /&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>javascript:</p>\n\n<pre><code>$('#user_fact_form').bootstrapValidator({\n  live: 'enabled',\n  message: 'This value is not valid',\n  submitButton: '$user_fact_form button[type=\"submit\"]',\n  submitHandler: function(validator, form, submitButton) {\n      $.post(form.attr('action'), form.serialize(), function (result) {\n          $(\"#facts_tbody\").append(result.data);\n      });\n      return false;\n  },\n  feedbackIcons: {\n      valid: 'glyphicon glyphicon-ok',\n      invalid: 'glyphicon glyphicon-remove',\n      validating: 'glyphicon glyphicon-refresh'\n  },\n  fields: {\n      key: {\n          selector: '#key',\n          validators: {\n              notEmpty: {\n                  message: 'The title is required and cannot be empty'\n              }\n          }\n      },\n      value: {\n          selector: '#value',\n          validators: {\n              notEmpty: {\n                  message: 'The value is required and cannot be empty'\n              }\n          }\n      }\n  }\n});\n</code></pre>\n\n<p>Any ideas how I can disable the submit button until the form is validated?</p>\n",
            "last_activity_date": 1404601808,
            "question_id": 24376727,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "validation",
                "jqbootstrapvalidation"
            ],
            "title": "Stopping default form submit in Bootstrap Validator Form"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>you can create 1 array of type (restaurants,hotels) \nor set default value of validate \nand try this code: </p>\n\n<pre><code>var url = \"\";\nif(a == \"hotels\"){\n   url = \"http://exampl.com/yellow.png\";   \n}else{\n   url = \"http://exampl.com/green.png\"\n}\nmarker_new[i] = google.maps.Marker({\n                                 icon: _url;\n                                 position: place.geometry.location,\n                                 map: map\n                               });\n</code></pre>\n\n<p>add to here </p>\n\n<pre><code>function showSelectedPlace() {\n    clearResults();\n    clearMarkers();\n    var place = autocomplete.getPlace();\n    map.panTo(place.geometry.location);\n    markers[0] = new google.maps.Marker({\n      position: place.geometry.location,\n      map: map\n    });\n    iw = new google.maps.InfoWindow({\n      content: getIWContent(place)\n    });\n    iw.open(map, markers[0]);\n  }\n</code></pre>\n\n<p>and here</p>\n\n<pre><code> places.search(search, function(results, status) {\n      if (status == google.maps.places.PlacesServiceStatus.OK) {\n       clearResults();\n       clearMarkers();\n        for (var i = 0; i &lt; results.length; i++) {\n          markers[i] = new google.maps.Marker({\n            position: results[i].geometry.location,\n            animation: google.maps.Animation.DROP\n          });\n          google.maps.event.addListener(markers[i], 'click', getDetails(results[i], i));\n          setTimeout(dropMarker(i), i * 100);\n          addResult(results[i], i);\n        }\n      }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>Im a beginner and I'm trying to lean to code and use google map api v3. I would like to customize the marker of this example that I found on google's developer page.</p>\n\n<p>I want to display a different marker for each type (eg: green for restaurants, yellow for hotels)</p>\n\n<p>Thank you for your help and apologize for my english. \n    \n    </p>\n\n<pre><code>  var map, places, iw;\n  var markers = [];\n  var autocomplete;\n\n  function initialize() {\n    var myLatlng = new google.maps.LatLng(100.365478075776182, 14.3210456439636);\n    var myOptions = {\n      zoom: 12,\n      center: myLatlng,\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    }\n    map = new google.maps.Map(document.getElementById(\"map_canvas\"), myOptions);\n    places = new google.maps.places.PlacesService(map);\n    google.maps.event.addListener(map, 'tilesloaded', tilesLoaded);\n    autocomplete = new google.maps.places.Autocomplete(document.getElementById('autocomplete'));\n    google.maps.event.addListener(autocomplete, 'place_changed', function() {\n      showSelectedPlace();\n    });\n  }\n\n  function tilesLoaded() {\n    google.maps.event.clearListeners(map, 'tilesloaded');\n    google.maps.event.addListener(map, 'zoom_changed', search);\n    google.maps.event.addListener(map, 'dragend', search);\n    search();\n  }\n\n  function showSelectedPlace() {\n    clearResults();\n    clearMarkers();\n    var place = autocomplete.getPlace();\n    map.panTo(place.geometry.location);\n    markers[0] = new google.maps.Marker({\n      position: place.geometry.location,\n      map: map\n    });\n    iw = new google.maps.InfoWindow({\n      content: getIWContent(place)\n    });\n    iw.open(map, markers[0]);\n  }\n\n  function search() {\n    var type;\n    for (var i = 0; i &lt; document.controls.type.length; i++) {\n      if (document.controls.type[i].checked) {\n        type = document.controls.type[i].value;\n      }\n    }\n\n    autocomplete.setBounds(map.getBounds());\n\n    var search = {\n      bounds: map.getBounds()\n    };\n\n    if (type != 'establishment') {\n      search.types = [ type ];\n    }\n\n    places.search(search, function(results, status) {\n      if (status == google.maps.places.PlacesServiceStatus.OK) {\n       clearResults();\n       clearMarkers();\n        for (var i = 0; i &lt; results.length; i++) {\n          markers[i] = new google.maps.Marker({\n            position: results[i].geometry.location,\n            animation: google.maps.Animation.DROP\n          });\n          google.maps.event.addListener(markers[i], 'click', getDetails(results[i], i));\n          setTimeout(dropMarker(i), i * 100);\n          addResult(results[i], i);\n        }\n      }\n    })\n  }\n\n  function clearMarkers() {\n    for (var i = 0; i &lt; markers.length; i++) {\n      if (markers[i]) {\n        markers[i].setMap(null);\n        markers[i] == null;\n      }\n    }\n  }\n\n  function dropMarker(i) {\n    return function() {\n      markers[i].setMap(map);\n    }\n  }\n\n  function addResult(result, i) {\n    var results = document.getElementById(\"results\");\n    var tr = document.createElement('tr');\n    tr.style.backgroundColor = (i% 2 == 0 ? '#F0F0F0' : '#FFFFFF');\n    tr.onclick = function() {\n      google.maps.event.trigger(markers[i], 'click');\n    };\n\n    var iconTd = document.createElement('td');\n    var nameTd = document.createElement('td');\n    var icon = document.createElement('img');\n    icon.src = result.icon;\n    icon.setAttribute(\"class\", \"placeIcon\");\n    icon.setAttribute(\"className\", \"placeIcon\");\n    var name = document.createTextNode(result.name);\n    iconTd.appendChild(icon);\n    nameTd.appendChild(name);\n    tr.appendChild(iconTd);\n    tr.appendChild(nameTd);\n    results.appendChild(tr);\n  }\n\n  function clearResults() {\n    var results = document.getElementById(\"results\");\n    while (results.childNodes[0]) {\n      results.removeChild(results.childNodes[0]);\n    }\n  }\n\n  function getDetails(result, i) {\n    return function() {\n      places.getDetails({\n          reference: result.reference\n      }, showInfoWindow(i));\n    }\n  }\n\n  function showInfoWindow(i) {\n    return function(place, status) {\n      if (iw) {\n        iw.close();\n        iw = null;\n      }\n\n      if (status == google.maps.places.PlacesServiceStatus.OK) {\n        iw = new google.maps.InfoWindow({\n          content: getIWContent(place)\n        });\n        iw.open(map, markers[i]);        \n      }\n    }\n  }\n\n  function getIWContent(place) {\n    var content = \"\";\n    content += '&lt;table&gt;&lt;tr&gt;&lt;td&gt;';\n    content += '&lt;img class=\"placeIcon\" src=\"' + place.icon + '\"/&gt;&lt;/td&gt;';\n    content += '&lt;td&gt;&lt;b&gt;&lt;a href=\"' + place.url + '\"&gt;' + place.name + '&lt;/a&gt;&lt;/b&gt;';\n    content += '&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;';\n    return content;\n  }\n&lt;/script&gt;\n\n&lt;style&gt;\nbody {\n  font-family: sans-serif;\n}\n#map_canvas {\n  width: 1150px;\n  height: 750px;\n  top: 15px;\n  left: -10px;\n  border: 1px solid grey;\n}\n#listing {\n  position: absolute;\n  width: 200px;\n  height: 360px;\n  overflow: auto;\n  left: 401px;\n  top: 65px;\n  cursor: pointer;\n}\n#controls {\n  width: 400px;\n  position: absolute;\n  top: 40px;\n  left: 450px;\n  height: 60px;\n  padding: 5px;\n  font-size: 12px;\n}\n.placeIcon {\n  width: 16px;\n  height: 16px;\n  margin: 2px;\n}\n#resultsTable {\n  font-size: 10px;\n  border-collapse: collapse;\n}\n#locationField {\n  width: 400px;\n  height: 25px;\n  top: 45px;\n  left: 13px;\n  position: absolute;\n}\n#autocomplete {\n  width: 400px;\n}\n&lt;/style&gt;\n\n&lt;body style=\"margin:0px; padding:0px;\" onload=\"initialize()\"&gt;\n  &lt;div id=\"locationField\"&gt;\n    &lt;input id=\"autocomplete\" type=\"text\" /&gt;\n  &lt;/div&gt;\n  &lt;div id=\"controls\"&gt;\n    &lt;form name=\"controls\"&gt;\n    &lt;input type=\"checkbox\" name=\"type\" value=\"establishment\" onclick=\"search()\" /&gt;All\n    &lt;input type=\"checkbox\" name=\"type\" value=\"restaurant\" onclick=\"search()\" /&gt;Restaurants \n    &lt;input type=\"checkbox\" name=\"type\" value=\"hotel\" onclick=\"search()\" /&gt;hotel\n    &lt;/form&gt;\n  &lt;/div&gt;\n  &lt;div id=\"map_canvas\"&gt;&lt;/div&gt;\n  &lt;div id=\"listing\"&gt;&lt;table id=\"resultsTable\"&gt;&lt;tbody id=\"results\"&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n",
            "last_activity_date": 1401455023,
            "question_id": 23949867,
            "score": 1,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3"
            ],
            "title": "How can I modify the markers?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>These type of data manipulations I like to keep them in the proper angular objects and for that reason I would create my custom filter, something like:</p>\n\n<pre><code>var sampleSource=  [{\"Sale\":{\"id\":\"8\",\"customer_id\":\"1\",\"amount\":\"15\",\"created\":\"2014-05-17\"}}, {\"Sale\":{\"id\":\"5\",\"customer_id\":\"6\",\"amount\":\"15\",\"created\":\"2015-05-17\"}}];\n\nvar myApp = angular.module('myApp',[]);\n\nmyApp.filter('myFilter', function() {\n return function(items) {  \n    items.sort(function(a,b){   \n        if (parseInt(a.Sale.id) &gt; parseInt(b.Sale.id))\n            return 1;\n        if (parseInt(a.Sale.id) &lt; parseInt(b.Sale.id))\n            return -1;         \n        return 0; })\n});\n</code></pre>\n\n<blockquote>\n  <p><strong>Importat:</strong> I recommend the custom filter because as personal preference I do not like to overload my controllers or other objects with tasks(code) that I can separate on other objects which gives me more independence and cleaner code(one of the things I love about angular) but besides this personal preference I would say that this is <em>not</em> the only way but if you share my reasons behind it I hope it helps.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Suppose you have:</p>\n\n<pre><code>$scope.sales = [{\"Sale\":{\"id\":\"1\"}},{\"Sale\":{\"id\":\"2\"}},{\"Sale\":{\"id\":\"3\"}}];\n</code></pre>\n\n<p>Why not just do following:</p>\n\n<pre><code>&lt;div ng-repeat=\"sale in sales | orderBy:'Sale.id':true\"&gt;\n    {{ sale.Sale.id }}\n&lt;/div&gt;\n</code></pre>\n\n<p>It works well with my case. May be Angular did not support it at the time you asked the question.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>This is the json that is generated using PHP </p>\n\n<pre><code>[{\"Sale\":{\"id\":\"1\",\"customer_id\":\"1\",\"amount\":\"15\",\"created\":\"2014-05-17\"}}]\n</code></pre>\n\n<p>Doing a ordertBy:id is obviously not working.I read in other posts that a orderby function needs to be created for this kind of data structure.I am not able to create the function.Can anyone please tell me what is the correct way to approach this?</p>\n",
            "last_activity_date": 1424344797,
            "question_id": 23723417,
            "score": 1,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "How to orderby in AngularJS using Nested property"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Wrap your jQuery into an anonymous function to protect the variable from being interfered with by Prototype. <a href=\"http://jsfiddle.net/amyamy86/s6ms3/\" rel=\"nofollow\">http://jsfiddle.net/amyamy86/s6ms3/</a></p>\n\n<pre><code>(function($) {\n\n    $.noConflict();\n    $(function () {\n        $('#contain').highcharts({\n         ....\n        });\n     });\n\n}(jQuery));\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I have an AJAX action and trying to use Highchart at the same time that's why I need Prototype to be included.</p>\n\n<p>Here is my code but is not showing the Highchart graph:</p>\n\n<pre><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/prototype/1.7/prototype.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"http://code.highcharts.com/highcharts.js\"&gt;&lt;/script&gt;\n\n&lt;div id=\"contain\" style=\"min-width: 310px; height: 400px; margin: 0 auto\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Here is the information: <a href=\"http://jsfiddle.net/dhdSL/4/\" rel=\"nofollow\">http://jsfiddle.net/dhdSL/4/</a></p>\n\n<p>Of course is working 100% without Prototype: <a href=\"http://jsfiddle.net/dhdSL/5/\" rel=\"nofollow\">http://jsfiddle.net/dhdSL/5/</a></p>\n\n<p>I tried <code>jQuery.noConflict();</code> and is not showing the Highchart graph <a href=\"http://jsfiddle.net/dhdSL/6/\" rel=\"nofollow\">http://jsfiddle.net/dhdSL/6/</a></p>\n\n<p>And tried <code>$.noConflict();</code> and is not showing the Highchart graph <a href=\"http://jsfiddle.net/dhdSL/7/\" rel=\"nofollow\">http://jsfiddle.net/dhdSL/7/</a></p>\n\n<p>I was searching in Stack Overflow for an answer, blogs, Facebook, books, Google and spent six months and still don't find the answer.</p>\n\n<p>I tried changing Prototype in all version but still not working and is not showing errors in console.</p>\n\n<p>According with a friend told me to include noConflict at the end but is not showing in google chrome browser and is showing an error: <a href=\"http://jsfiddle.net/dhdSL/8/\" rel=\"nofollow\">http://jsfiddle.net/dhdSL/8/</a> <img src=\"http://i.stack.imgur.com/HKdfa.png\" alt=\"aaaaaaaaa\"></p>\n\n<p>When open the error I'm getting another error:</p>\n\n<p><img src=\"http://i.stack.imgur.com/hwY8f.png\" alt=\"enter image description here\"></p>\n",
            "last_activity_date": 1398791418,
            "question_id": 23369849,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "highcharts",
                "prototype",
                "conflict"
            ],
            "title": "How to fix Prototype conflict with Highchart?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I'm not sure about the exact cause of the incorrect incrementing, but the problem here may be more due to the approach. You should attach the count to the scope via <code>$scope.count</code>, and then use the <code>ng-click</code> directive to increment it: <code>&lt;button type=\"button\" ng-click=\"count++;\"</code>.</p>\n\n<p>It would also make it easier for you/others to read and debug if you externalized the <code>$scope.tableParams</code> and the data from <code>$scope.table1</code> conditional thing:</p>\n\n<pre><code>$scope.count = 0;\n\nvar dataCollections = [\n    [//.. first collection],\n    [//.. second collection],\n    [//.. third collection],\n    [//.. fourth collection]\n];\n\n$scope.data = dataCollections[0];\n\n$scope.$watch('count', function () {\n    $scope.data = $scope.count &lt; 4 ? dataCollections[$scope.count] : dataCollections[3];\n});\n</code></pre>\n\n<p>I'm also not sure what you've got going on there with the <code>$compile</code> inside of the controller. It might make your task easier if you investigated some stuff about writing Angular controllers before delving into using a third-party module. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It is a problem with the ngTable directive. It updates only when <code>data.length</code> changes. Take a look at this <a href=\"http://plnkr.co/edit/dtlKAHwy99jdnWVU0pc8?p=preview\" rel=\"nofollow\">plunk</a>. I set $scope['tableParams1'] to null and inside the <code>$timeout</code> I set the new data. This forces angularJs to do a new cycle. So in the first cycle the ngTable sees the data.length changed to 0 and in the new cycle the ngTable sees the data.length changed again. If you don't use the $timeout, the ngTable will see that the data.length remains the same as before and won't do nothing.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>With some trial and error I found a seemingly better solution to the issue than indicated in the plunkrs. For clarity, I am using $resource in a service to fetch my data. When I add a record via a modal, at first it wouldn't upload the ng-table after closing the modal. I figured out a way that works for me:</p>\n\n<pre><code>// Get data from factory\nvar data = dataFactory.query();\n\n//Use promise to load data to table, note the replacing of the second tableParams \n//object parameter with a function\ndata.$promise.then(function (data){\n    $scope.tableParams = new ngTableParams({\n        page: 1,            // show first page\n        count: 10,\n        sorting: {\n            name: 'asc'\n        },\n        filter: {\n            name: undefined             \n        }\n    }, resetTableParams()\n    );\n});\n\n//The function that replaces the tableParams param\nvar resetTableParams = function(){\n    return {\n        total: data.length,\n        getData: function($defer, params) {\n            var filteredData = params.filter() ? $filter('filter')(data, params.filter()) : data;\n            var orderedData = params.sorting() ? $filter('orderBy')(data, params.orderBy()) : filteredData; \n\n            params.total(orderedData.length);\n            $defer.resolve($scope.data = orderedData.slice((params.page() -1) * params.count(), params.page() * params.count()));           \n            }\n    }\n}\n\n//A method to update the table that can be called when closing a modal\nvar updateTable = function(){\n    data = dataFactory.query();\n    data.$promise.then(function (data){\n        $scope.tableParams.reload();\n    });\n}\n\n// Add table row to table in modal and call updateTable() on closing modal\n$scope.addRow = function(){\n    var modalInstance = $modal.open({\n        templateUrl: 'resources/partials/newrecord.html',\n        controller: NewRecordModalCtrl\n    })\n\n    modalInstance.result.then(function(){\n        updateTable();\n    });\n}\n</code></pre>\n\n<p>Unfortunately, I can't give a clear explanation as to why this works and other methods don't. For instance, if you would not use the resetTableparams() function but leave it hardcoded, the table does not update. Somehow, Angular's digest cycle likes this better :) If somebody has a good explanation, please share!</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I was working on ng-tables with dynamic data as well (adding/removing),<br>\nI was using an ajax call to make changes to the database, and the <code>success: function() {}</code> property make changes to the <code>tableParams</code><br>\nbut changes wouldn't show on the page unless i refreshed it, with a few <code>console.log()</code>'s, I found out that the <code>success: function() {}</code> actually never executes<br>\nbut there's another function that always executes, <code>complete: function() {}</code>\nI know it's logically wrong to put the code that's supposed to work only after a successful call into <code>complete: function() {}</code> but if my <code>success:</code> function isn't working, this fix isn't that bad, especially knowing that the change is always successfully made to the database<br>\nit's strange because the success call works on other pages of the website, but it doesn't on some others.\n<strong>EDIT:</strong><br>\nwell, this fix still doesn't solve the problem when the length of the data doesn't change \"editing the text in the data\" as mentioned above,, frustrating...</p>\n\n<pre><code>$.ajax({\n        type: \"POST\",\n        url: /*some url*/,\n        data: JSON.stringify({ /*some variable*/ }\n        }),\n        contentType: \"application/json; charset=utf-8\",\n        dataType: \"Json\",\n        success: function () {  // would never execute even if it's a successful call\n            console.log(\"success\"); \n        },\n        error: function() {  // optional, personally didn't try it\n            console.log(\"error\"); \n        }\n        complete: function () {  //always executes regardless of the result\n            console.log(\"complete\"); \n        }\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have created a table and I am using http to load the data in the tables. So, in every click, my table data is changing, but I don't see the updated data in the table.\nI had created a sample <a href=\"http://plnkr.co/edit/PQwNKkMFxCFnzlEzpBEg?p=preview\" rel=\"nofollow\">Plunker</a> for the reference. In my project, WHen I click on Reload New Data, the data in table get's changed, but after 2-3 click it doesn't change. DId anyone know, how to fix it..</p>\n",
            "last_activity_date": 1421330726,
            "question_id": 23325994,
            "score": 1,
            "tags": [
                "javascript",
                "angularjs",
                "ngtable"
            ],
            "title": "ng-table not working for dynamic data"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>If your layout have TabHost (or similar layout or view), \nTabHost's child may disturb your webview's focus.</p>\n\n<p>I have same problem and I set these view's focusable attr to \"false\" and works fine.</p>\n\n<pre><code>for (int i = 0; i &lt; tabHost.getTabWidget().getChildCount(); i++) {\n  tabHost.getTabWidget().getChildAt(i).setFocusable(false);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have an android application , which opens a Jquery mobile site in webview . This page contains almost 20 form fields.<strong>Keyboard works well</strong> , i can able to give input until i type <strong>6 digit number</strong> in a <code>input[type=number]</code> box which has a <code>maxlength=5</code> attribute. After this keyboard stops working . when i click a element , get focused and keyboard popups but it is not getting the value from keyboard </p>\n\n<p>what might be the problem ? how to get rid of this ?</p>\n\n<p><strong>Main Activity</strong></p>\n\n<pre><code>        mWebview  = new WebView(this);\n        mWebview.getSettings().setJavaScriptEnabled(true);\n        mWebview.getSettings().setGeolocationEnabled(true);       \n        mWebview.getSettings().setJavaScriptCanOpenWindowsAutomatically (true);\n        mWebview.getSettings().setSupportMultipleWindows(true);\n        mWebview.getSettings().setCacheMode(mWebview.getSettings().LOAD_NO_CACHE);\n        mWebview.addJavascriptInterface(new WebAppInterface(this), \"Android\");\n        mWebview.loadUrl(WebUrl);\n        setContentView(mWebview);\n</code></pre>\n\n<p><strong>In Manifest XML</strong></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.SYSTEM_ALERT_WINDOW\"/&gt;\n</code></pre>\n\n<p><strong>HTML in webview</strong></p>\n\n<pre><code>&lt;div class=\"clsRow\"&gt;\n    &lt;div class='clstdLeft' style='width:50%;'&gt;\n        &lt;label&gt;Additional Discount &lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div class='clstdRight'&gt;\n        &lt;label&gt;\n            &lt;input type='number' maxlength=5  value=0&gt;\n        &lt;/label&gt;\n    &lt;/div&gt;\n&lt;/div&gt;&lt;div class='clear'&gt;   &lt;/div&gt;\n</code></pre>\n\n<p>And log is</p>\n\n<pre><code>05-03 12:58:01.593: I/SurfaceTextureClient(5044): [0x53289e48] frames:4, duration:1.222000, fps:3.271073\n05-03 12:58:02.570: E/SpannableStringBuilder(5044): SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length\n05-03 12:58:02.571: E/SpannableStringBuilder(5044): SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length\n05-03 12:58:02.572: V/InputMethodManager(5044): Starting input: view=android.webkit.WebView@41da5668\n05-03 12:58:02.572: V/InputMethodManager(5044): Starting input: tba=android.view.inputmethod.EditorInfo@41ddf148 ic=android.webkit.WebViewClassic$WebViewInputConnection@41e0d6f0\n05-03 12:58:02.573: V/InputMethodManager(5044): START INPUT: android.webkit.WebView@41da5668 ic=android.webkit.WebViewClassic$WebViewInputConnection@41e0d6f0 tba=android.view.inputmethod.EditorInfo@41ddf148 controlFlags=#0\n05-03 12:58:02.574: V/InputMethodManager(5044): Starting input: Bind result=InputBindResult{com.android.internal.view.IInputMethodSession$Stub$Proxy@41dada48 com.android.inputmethod.latin/.LatinIME #166}\n05-03 12:58:02.574: W/IInputConnectionWrapper(5044): endBatchEdit on inactive InputConnection\n05-03 12:58:02.710: I/SurfaceTextureClient(5044): [0x53289e48] frames:3, duration:1.111000, fps:2.699259\n05-03 12:58:04.126: I/SurfaceTextureClient(5044): [0x53289e48] frames:3, duration:1.421000, fps:2.109934\n</code></pre>\n\n<p>I am <strong>not having this problem</strong> in iball slide (<strong>4.0.3</strong>), I have a problem in HCL me connect-v3 (<strong>4.1.2</strong>) . As it  is a private application for our employees we are going to use this on these tablets</p>\n",
            "last_activity_date": 1404294342,
            "question_id": 23236400,
            "score": 1,
            "tags": [
                "javascript",
                "android",
                "input",
                "webview",
                "keyboard"
            ],
            "title": "Android keyboard not working in webview after a validation"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Supposing your variables are protected in closures and that it's not trivial to change them by typing <code>username='root'</code> in the console, a user could simply replace the whole code.</p>\n\n<p>Everything that happens client side is totally out of your control.</p>\n\n<p>The good news is that they are solutions not involving a duplicate authentication. Supposing you already authenticate the user in your express application, you can get the session and the user from that.</p>\n\n<p>See how I do it in my <a href=\"https://github.com/Canop/miaou/blob/master/libs/ws.js\" rel=\"nofollow\">chat server</a> :</p>\n\n<pre><code>var sessionSockets = new SessionSockets(io, sessionStore, cookieParser);\nsessionSockets.on('connection', function (err, socket, session) {\n    function die(err){\n        console.log('ERR', err);\n        socket.emit('error', err.toString());\n        socket.disconnect();\n    }\n    if (! (session &amp;&amp; session.passport &amp;&amp; session.passport.user &amp;&amp; session.room)) return die ('invalid session');\n    var userId = session.passport.user;\n    if (!userId) return die('no authenticated user in session');\n    ... handling socket for authenticated user\n});\n</code></pre>\n\n<p>Basically, it uses the <a href=\"https://www.npmjs.org/package/session.socket.io\" rel=\"nofollow\">session.socket.io module</a> to propagate the session from the standard http requests (authenticated using passport) to the socket.io connection. And everything that isn't supposed to be provided by the user is taken from the session/db/server.</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I'm now learning some new technologies (such as node.js, socket.io, redis etc.) and making some simple test applications to see how it can work.</p>\n\n<p>My question is about security on a client-side javascript code: for example, i have a chat-server on node.js+express and when a user connects to this chat, server should assign his registred username (authorisation through oldschool php+mysql is used) to his socket. The question is, can user modify his client-side script and connect to chat under different users' names?</p>\n\n<p>Some code is given below:</p>\n\n<p>(server-side part of assigning username, which is just getting the username from client-side call)</p>\n\n<pre><code>// when the client emits 'adduser', this listens and executes\nsocket.on('adduser', function(username){\n    // store the username in the socket session for this client\n    socket.username = username;\n    // store the room name in the socket session for this client\n    socket.room = 'General';\n    // add the client's username to the global list\n    usernames[username] = username;\n    // send client to room 1\n    socket.join('General');\n    // echo to client they've connected\n    socket.emit('updatechat', 'SERVER', 'you have connected to General');\n    // echo to room 1 that a person has connected to their room\n    socket.broadcast.to('General').emit('updatechat', 'SERVER', username + ' has connected to this room');\n    socket.emit('updaterooms', rooms, 'General');\n});\n</code></pre>\n\n<p>(client-side part of sending username to server, it looks like 'var username = \"User\";' for a particular user)</p>\n\n<pre><code>Yii::$app-&gt;view-&gt;registerJs('var username = \"'.$user-&gt;identity-&gt;username.'\";', yii\\web\\View::POS_HEAD);\n</code></pre>\n\n<p>(connect function) </p>\n\n<pre><code>chat.on('connect', function(){\n        // call the server-side function 'adduser' and send one parameter (value of prompt)\n        chat.emit('adduser', username);\n});\n</code></pre>\n\n<p>SO the question is: can user change (for example, through chrome development tools) his username in line 'var username ...' and connect to chat under the different name?</p>\n\n<p>P.S. this particular situation is just an example, obviously, changed nicknames in chat are not more than a simple joke, but similar situations can appear in other projects...</p>\n",
            "last_activity_date": 1399448450,
            "question_id": 23060345,
            "score": 1,
            "tags": [
                "javascript",
                "node.js",
                "authentication",
                "express",
                "socket.io"
            ],
            "title": "JavaScript code substitution on client side"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Firefox supports MP3 now.</p>\n\n<pre><code>&lt;audio src=\"sound.mp3\" type=\"audio/mpeg\" controls&gt;&lt;/audio&gt;\n</code></pre>\n\n<p>I'm not sure about mobile device compatibility, but generally speaking if you're using sounds then you should have an app rather than a site.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'm impressed with your thorough research.  I work on SoundJS and build solutions with it that work everywhere using the mobile safe approach you mention.  It has been successfully tested on Android Native and Chrome Browsers, maybe check out <a href=\"https://github.com/CreateJS/SoundJS/blob/master/examples/MobileSafe.html\" rel=\"nofollow\">this example on github</a> and see if it works for you.  This approach should also let you loop and use delay on Android.</p>\n\n<p>Unfortunately as you are learning there are various device and browser issues to work around.  We've documented everything we've found in the known issues you likely have seen in the documentation.</p>\n\n<p>One small correction, IE9 has a limit on how many audio tags can exist on a page, which was always higher than 30 for us.  If you need more than 30 sounds and want to be sure it will work, you can always use the newly implemented <a href=\"http://blog.createjs.com/audio-sprite-support-in-soundjs/\" rel=\"nofollow\">audio sprites</a>.  You could also browser sniff and force flash fallback.</p>\n\n<p>We've done a lot of work to ensure the smoothest possible looping of sound.  Web Audio should loop perfectly, as we use a look ahead approach (<a href=\"http://www.html5rocks.com/en/tutorials/audio/scheduling/\" rel=\"nofollow\">discussed here</a>) that inserts the next play ahead of time.  One challenge that people have run into is that mp3 inserts silence into clips (<a href=\"http://community.createjs.com/discussions/soundjs/1516-webaudio-looping-works-in-soundjs-main-demo-but-not-in-my-implementation\" rel=\"nofollow\">discussed here</a>).  Html audio loops as smoothly as the browser will allow using the tag loop property.</p>\n\n<p>Hope that helps, and feel welcome to reach out with any questions or issues on the <a href=\"http://community.createjs.com/discussions/soundjs\" rel=\"nofollow\">soundjs forums</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p><strong>Question</strong></p>\n\n<p>Is there any way to use audio in a web app so that it will work on most browsers (Chrome,FF,Safari and IE9+) and devices (Android/IOS for mobile would do) ? </p>\n\n<p><strong>My requirements</strong></p>\n\n<p>I would need basic preloading, playing multiple sounds at once, muting them on click and perhaps looping (probably not seamlessly right? ;) ). </p>\n\n<p><strong><em>What I learned so far:</em></strong></p>\n\n<ul>\n<li>Web Audio API wont work on IE and any Android. (<a href=\"http://caniuse.com/#feat=audio-api\" rel=\"nofollow\">link</a>)</li>\n<li>with audio tag I get different durations for the same audio on Safari and Chrome ...</li>\n<li>I checked <a href=\"http://www.schillmania.com/projects/soundmanager2/\" rel=\"nofollow\">SoundManager2</a> but it won't work somewhere (throws HTML5 error code 4 for me)</li>\n<li><a href=\"http://www.createjs.com/#!/SoundJS\" rel=\"nofollow\">SoundJS</a> seems to work cross-browser and device so far as I checked but there are limits ofcourse:\n<ul>\n<li>cannot loop or use delay on Android</li>\n<li>Safari requires Quicktime to be installed for audio playback</li>\n<li>IE9 has limits with playing multiple sounds at once</li>\n<li>tried <a href=\"http://www.createjs.com/tutorials/Mobile%20Safe%20Approach/\" rel=\"nofollow\">this</a> and it wont play on my Android (v4.1.2 Samsung 3 mini)</li>\n</ul></li>\n<li><a href=\"http://goldfirestudios.com/blog/104/howler.js-Modern-Web-Audio-Javascript-Library\" rel=\"nofollow\">Howler.js</a> seems to work on Android for instance as well, didn't make extensive testing yet \n<ul>\n<li>when playing multiple sounds at once and turning volume for one of them up/down or muting it wont respond until you stop() and start playing all of them again</li>\n</ul></li>\n<li>Most tools use Flash as a fallback which might be useful in some cases</li>\n<li>It seems like it's not possible to seamlessly loop sounds with any of these approaches </li>\n<li>You have to provide different formats/codecs to be able to play sound in various browsers (mp3 and ogg would be sufficient I reckon?)\n<ul>\n<li>Chrome (ogg,mp3,wav)</li>\n<li>FF (ogg, wav)</li>\n<li>IE9+ (mp3,aac)</li>\n<li>Safari (mp3,aac,wav)</li>\n</ul></li>\n</ul>\n\n<p><strong>A follow up question</strong></p>\n\n<p>What are your experiences with these and perhaps any other tools and do any of these provide what I need (cross-browser,cross-device)?</p>\n\n<p>For each tool I mentioned there are comments or site-notes that say something didn't work in this case or that \u2026 Are we still 'not there yet' with audio in web browsers? </p>\n\n<p>Any help appreciated, thank you!</p>\n",
            "last_activity_date": 1397566572,
            "question_id": 23006776,
            "score": 1,
            "tags": [
                "javascript",
                "html",
                "html5",
                "audio",
                "html5-audio"
            ],
            "title": "Cross-browser and cross-device audio"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Many responsive designs use media breakpoints to control font sizes.</p>\n\n<p>The font size remains fixed through a range of media sizes.</p>\n\n<p>In your resize event handler, apply a font size to a range of canvas sizes:</p>\n\n<pre><code>if(canvas.width&lt;480){\n    context.font='14px verdana';\n}else if(canvas.width&lt;768){\n    context.font='30px verdana';\n}else{\n    context.font='80px verdana';\n}\n</code></pre>\n\n<p><strong>[ And more efficiently... ]</strong></p>\n\n<p>Predefine some font sizes for each media format:</p>\n\n<pre><code>var fontSizes={\n    phone:{\n        XSmall:6,\n        Small:8,\n        Medium:10,\n        Large:12,\n        XLarge:14\n    },\n    tablet:{\n        XSmall:10,\n        Small:12,\n        Medium:16,\n        Large:24,\n        XLarge:30\n    },\n    desktop:{\n        XSmall:14,\n        Small:18,\n        Medium:30,\n        Large:40,\n        XLarge:80\n    },\n}\n</code></pre>\n\n<p>You can use these predefined font sizes for your canvas text:</p>\n\n<pre><code>context.font=fontSizes[media].XSmall+\" verdana\";\ncontext.fillText(\"XSmall text\",20,20);\n\ncontext.font=fontSizes[media].Large+\" verdana\";\ncontext.fillText(\"Large text\",20,20);\n</code></pre>\n\n<p>Then in your resize handler, you just have to set the appropriate media type.</p>\n\n<p>This way you don't need to recode <code>context.font</code> everywhere in your project.</p>\n\n<pre><code>var media=\"desktop\";\n\nif(canvas.width&lt;480){\n    media=\"phone\";\n}else if(canvas.width&lt;768){\n    media=\"tablet\";\n}else{\n    media=\"desktop\";\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You should think your coordinates as virtual coordinates : if the canvas takes 1/3 of the screen, ask your self : how much room (relative) should the font take, not its size.<br>\nDecide once and for all of a virtual resolution of your canvas, then draw draw everything in that resolution... provided you scaled the canvas before.  </p>\n\n<p>For instance you could decide your canvas has a 600X200 virtual resolution. When you know the real window size, you'll have the real canvas size. Then scale the canvas with scale(realWidth/600, realHeight/200), and all will look the same on all devices.</p>\n\n<p>i just made a small fiddle to illustrate, you will see that it generates the 'same' image for very differently sized canvas :<br>\n<a href=\"http://jsbin.com/tisoguve/1/edit?js,output\" rel=\"nofollow\">http://jsbin.com/tisoguve/1/edit?js,output</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/c9fce.png\" alt=\"enter image description here\"></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Simply scale the font-size with a factor.</p>\n\n<h2>The basis</h2>\n\n<p>Lets say your canvas default size is 1000 pixels and the font size is 80 pixels (canvas converts pt to pixels - I use 80 here for simplicity, see bottom).</p>\n\n<p><img src=\"http://i.stack.imgur.com/CFHAx.png\" alt=\"Snap\"></p>\n\n<p>That will create a relationship of:</p>\n\n<pre><code>ratio = 80 / 1000 = 0.08\n</code></pre>\n\n<p>Lets verify when canvas width is 1000 by multiply with that ratio:</p>\n\n<pre><code>fontSize = 1000 * ratio = 80;\n</code></pre>\n\n<p>And we see we have 80 for the font as expected.</p>\n\n<p>Now that the canvas size is smaller, lets say 500 pixels:</p>\n\n<pre><code>fontSize = 500 * ratio = 40;\n</code></pre>\n\n<p>That should correspond about to the relationship. Note that fonts do not behave linearly like that but it will be approximately correct.</p>\n\n<p>Now simply set the size of the font:</p>\n\n<pre><code>ctx.font = (fontSize|0) + 'px myFont';\n</code></pre>\n\n<h2>Solution</h2>\n\n<p>The final code from this is in essence very simple:</p>\n\n<pre><code>var fontBase = 1000,                   // selected default width for canvas\n    fontSize = 70;                     // default size for font\n\nfunction getFont() {\n    var ratio = fontSize / fontBase;   // calc ratio\n    var size = canvas.width * ratio;   // get font size based on current width\n    return (size|0) + 'px sans-serif'; // set font\n}\n</code></pre>\n\n<p>Every time you need to update the font (ie. resize) just call:</p>\n\n<pre><code>ctx.font = getFont();                  // call getFont to set new font size\n</code></pre>\n\n<p>The default values are snapshot of whatever size works in the moment/during development.</p>\n\n<h2><a href=\"http://jsfiddle.net/AbdiasSoftware/A8Bc6/\" rel=\"nofollow\">Live demo</a></h2>\n\n<p>To convert point to pixel size you simply use system DPI / 72:<br>\n80 pt * (96 / 72) = 107 pixels @ 96 DPI.</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>I do not like using a determined width or height for any application. Instead, I use the window object to determine the amount of space on the screen instead of saying \"width=1000\" it would look more like the code below. I take note of the current screen resolution I am using so that when adjusting content size on the screen everything scales as it should based on the size when it was created. Assuming that the original screen resolution is 1366 and we want the original font set at 20 ..... </p>\n\n<pre><code>&lt;canvas id=\"canvas\"\" width=\"0\" height=\"0\" style=\"position:relative;\" &gt;&lt;/canvas&gt;\nvar canvas = document.getElementById(\"canvas\");\nvar context= canvas.getContext('2d');\nvar canvas.width = document.body.clientWidth;\nvar canvas.height = document.body.clientHeight;\nvar px= 20-(((1366-canvas.width)/1366)*20); \nvar fontStyle = \"italic\";\nvar fontWeight = \"bold\";\nvar fontSize = +px+\"px\";\nvar fontFamily = \"Verdana\";\nvar b = \" \";\ncontext.font = fontStyle + b + fontWeight + b + fontSize + b + fontFamily;\n</code></pre>\n\n<p>I have tried this using Safari, IE, Chrome, Firefox, with responsive\ndesign view, and it works.                                                                        Trying to save, scale, and restore in my application created a foreground image with lower resolution on top of the old canvas. Trying to run through a range of media sizes the way it is shown above seems large I would think. I think I may be tempted to use the following accompanied with a good style sheet for the page layout. </p>\n\n<pre><code>var px= 20-(((1366-canvas.width/3)/1366)*20);\ncontext.font = +px+\"px\";\n//place text here for this font\npx= 12-(((1366-canvas.width/3)/1366)*12); \ncontext.font = +px+\"px\";\n//place text here for this font\n</code></pre>\n\n<p>For other objects I would try to use the same approach but, limit images drawn to canvas with javascript, use as much css with % as you can and redraw images if necessary to prevent the user from scaling the page.  </p>\n\n<pre><code>context.fillText  (\"Click To Start\", canvas.width/3, canvas.height/1.7);\ncontext.strokeText  (\"Click To Start\", canvas.width/3, canvas.height/1.7);  \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have the canvas size set to 1/3 the window.innerHeight and window.innerWidth of the browser. </p>\n\n<p>Most of the elements on the canvas are also set based on the width and height of the canvas, so that they scale down in size and are positioned based on the size of the canvas.</p>\n\n<p>How do I scale font sizes based on this as well?</p>\n\n<p>For example, the font size of my opening screen of a game I'm making, is 80pt. That's way too big if the browser is really small. It goes off the canvas.</p>\n",
            "last_activity_date": 1412808754,
            "question_id": 22943186,
            "score": 1,
            "tags": [
                "javascript",
                "html5",
                "canvas"
            ],
            "title": "HTML5 Canvas Font Size Based on Canvas Size"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Datatables has a rich api (<a href=\"http://datatables.net/api\" rel=\"nofollow\">http://datatables.net/api</a>) that provides for adding, deleting, and updating rows while keeping the sorting. In your case, the new data might require deleting rows that are no longer in the XML, updating existing rows, and adding new rows that are in the XML but not in the table.</p>\n\n<p>Probably the easiest thing would be to call fnClearTable to remove all current rows and use fnAddData to add all the rows in the XML:</p>\n\n<pre><code>var oTable = $('#example').dataTable();\noTable.fnClearTable();\n\n$xml.find(\"row\").each(function(index){            \n    var $cells = $(this).find(\"cell\");\n    var c1 = $cells.eq(0).text();\n    var c2 = $cells.eq(1).text();\n    var c3 = $cells.eq(2).text();\n\n    oTable.fnAddData( [c1, c2, c3]);\n});  \n</code></pre>\n\n<blockquote>\n  <p><strong><a href=\"http://jsfiddle.net/ezanker/9q7ve/2/\" rel=\"nofollow\">DEMO</a></strong></p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p><strong>BACKGROUND:</strong> \nI have a small jquery app that contains widgets. There are 2 types of widgets in this app and they are counter widgets and grid widgets. For grid widgets i am utilizing <a href=\"https://datatables.net/\" rel=\"nofollow\">dataTables</a>.</p>\n\n<p>My app basically connects to a server and recieves various information such as widget names and values for the counter and grid widgets. So based on the information received i dynamically create pages for each widget. Things are working fine at the moment but i am facing a little problem.</p>\n\n<p><strong>Problem</strong> \nThe issue i have right now is to do with my grid widgets which utilize dataTables api.From my server I receive the grid information in this format.</p>\n\n<pre><code>**//EXAMPLE INPUT\n/*\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;rows&gt;\n    &lt;head&gt;\n        &lt;column width=\"55\" type=\"ro\" align=\"left\" sort=\"str\"&gt;Player&lt;/column&gt;\n        &lt;column width=\"55\" type=\"ro\" align=\"left\" sort=\"str\"&gt;State&lt;/column&gt;\n        &lt;column width=\"55\" type=\"ro\" align=\"left\" sort=\"str\"&gt;Points&lt;/column&gt;\n    &lt;/head&gt;\n     &lt;row id=\"1\"&gt;\n        &lt;cell&gt;Lebron King James&lt;/cell&gt;\n        &lt;cell&gt;Best Mode&lt;/cell&gt;\n        &lt;cell&gt;45&lt;/cell&gt;\n     &lt;/row&gt;\n&lt;/rows&gt;\n*/**\n</code></pre>\n\n<p>I then parse this and insert it in the tables. The problem is i am doing a update every 3 seconds since the data for grid gets updated in real time . So when i do a update my search filter and sorting is reset.</p>\n\n<p>So for example below if i am sorting by highest points </p>\n\n<pre><code>PLAYER         POINTS\nKING JAMES     45\nDERRICK ROSE   30 \n\nUPDATE HAPPENS AND MY SORTING WILL GET REST TO THIS\n\nPLAYER         POINTS\nDERRICK ROSE    30\nKING JAMES      45 \n</code></pre>\n\n<p><strong>MY HTML CODE</strong></p>\n\n<pre><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n  &lt;head&gt;\n    &lt;meta name=\"generator\" content=\"HTML Tidy for Windows (vers 14 February 2006), see www.w3.org\" /&gt;\n    &lt;title&gt;\n      NBA Fanatico\n    &lt;/title&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" /&gt;\n    &lt;link rel=\"stylesheet\" href=\"themes/tdMobile.min.css\" type=\"text/css\" /&gt;\n    &lt;link rel=\"stylesheet\" href=\"themes/jquery.mobile.icons.min.css\" type=\"text/css\" /&gt;\n    &lt;link rel=\"stylesheet\" href=\"http://code.jquery.com/mobile/1.4.0/jquery.mobile.structure-1.4.0.min.css\" type=\"text/css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"cssfinal/style.css\" /&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-1.10.2.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://code.jquery.com/mobile/1.4.0/jquery.mobile-1.4.0.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"dhtmxSuite/dhtmlxWindows/codebase/dhtmlxcommon.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://code.jquery.com/ui/1.10.3/jquery-ui.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"jquery.ui.touch-punch.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;!-- MAIN JS SCRIPT CONTANS CODE FOR COUTNER WIDGETS, TABLES , AJAX REQUEST FOR GETTING DATA--&gt;\n    &lt;script src=\"dynamic.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;!-- SCRIPTS FOR DATA TABLES --&gt;\n    &lt;!-- DataTables CSS --&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables.css\" /&gt;&lt;!-- DataTables --&gt;\n    &lt;script type=\"text/javascript\" charset=\"utf8\" src=\"http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js\"&gt;&lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;!-- PAGE 1 --&gt;\n    &lt;div data-role=\"page\" data-theme=\"a\" id=\"page1\"&gt;\n      &lt;div data-role=\"content\" data-theme=\"a\"&gt;\n        &lt;div class=\"login-box\" id=\"login\"&gt;\n          &lt;div id=\"loginprompt\"&gt;\n            &lt;div id=\"header\"&gt;\n              &lt;h3&gt;\n                Basketball Fanatico\n              &lt;/h3&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;form method=\"get\"&gt;\n            &lt;div id=\"username\" data-role=\"fieldcontain\"&gt;\n              &lt;input type=\"text\" name=\"username\" placeholder=\"Username\" /&gt;\n            &lt;/div&gt;\n            &lt;div id=\"password\" data-role=\"fieldcontain\"&gt;\n              &lt;input type=\"password\" name=\"password\" id=\"txtId\" placeholder=\"Password\" /&gt;\n            &lt;/div&gt;\n            &lt;div id=\"loginbtn\"&gt;\n              &lt;a data-role=\"button\" id=\"log\" data-theme=\"a\" href=\"#page2\" data-transition=\"slide\"&gt;LOGIN&lt;/a&gt;\n            &lt;/div&gt;\n          &lt;/form&gt;&lt;br /&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;&lt;!-- PAGE 2 --&gt;\n    &lt;div data-role=\"page\" id=\"page2\"&gt;\n      &lt;div data-role=\"header\" data-position=\"fixed\" data-theme=\"a\"&gt;\n        &lt;a data-iconpos=\"notext\" href=\"#panel\" data-role=\"button\" data-icon=\"bars\"&gt;&lt;/a&gt;\n        &lt;h1 class=\"ui-title\" role=\"heading\"&gt;\n          Basketball Fanatico\n        &lt;/h1&gt;\n        &lt;div class=\"ui-btn-right\" data-type=\"horizontal\"&gt;\n          &lt;a data-iconpos=\"notext\" href=\"#page2\" data-role=\"button\" data-icon=\"home\"&gt;&lt;/a&gt; &lt;a data-iconpos=\"notext\" href=\"#page1\" data-role=\"button\" data-icon=\"delete\"&gt;&lt;/a&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div data-role=\"content\" id=\"page2content\"&gt;\n        &lt;ul data-role=\"listview\" data-inset=\"true\"&gt;\n          &lt;li data-role=\"list-divider\" data-theme=\"a\"&gt;WELCOME!\n          &lt;/li&gt;\n          &lt;li&gt;Use the menu on the left to navigate&lt;br /&gt;\n            and configure the various options.\n          &lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div data-role=\"panel\" id=\"panel\" data-position=\"left\" data-theme=\"a\" data-display=\"push\"&gt;\n      &lt;!--  &lt;div&gt; --&gt;\n      &lt;div id=\"nav\"&gt;\n        &lt;h3&gt;\n          Navigation\n        &lt;/h3&gt;\n        &lt;hr /&gt;\n        &lt;label&gt;&lt;input id=\"chkSort\" type=\"checkbox\" checked=\"true\" /&gt;Allow sorting&lt;/label&gt;\n        &lt;hr /&gt;\n      &lt;/div&gt;\n      &lt;div id=\"items\" data-role=\"button\"&gt;\n        &lt;!-- Insert Parsed Widget Names Here --&gt;\n        &lt;a href=\"#page1\" data-transition=\"fade\" data-theme=\"a\" data-role=\"button\"&gt;LOG OUT&lt;/a&gt;\n      &lt;/div&gt;&lt;!-- &lt;/div&gt; --&gt;\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>MY JS</strong></p>\n\n<pre><code>var widgetNames = new Array();\nvar widgetId = new Array();\nvar pageId = ''\n\n$(document).on(\"pagecreate\", function () {\n    $(\"body &gt; [data-role='panel']\").panel().enhanceWithin();\n});\n\n$(document).on('pagecreate', '#page1', function () {\n    $(\"#log\").on('click', function () {\n        $.ajax({\n            url: \"script.login\",\n            type: \"GET\",\n            data: {\n                'page': 'create_user',\n                'access': 'user',\n                'username': $(\"input[name='username']\").val(),\n                'password': $(\"input[name='password']\").val()\n            },\n            dataType: \"text\",\n            success: function (html) {\n                widgetNames = new Array();\n                widgetId = new Array();\n                var res = html.match(/insertNewChild(.*);/g);\n                //Get each widget name and ID and assign to values in an array\n                for (var i = 0; i &lt; res.length; i++) {\n                    //alert(res[i]);\n                    var temp = res[i].split(',');\n                    if (temp.length &gt;= 3) {\n                        widgetNames[i] = (temp[2].replace('\");', '')).replace('\"', '');\n                        widgetId[i] = temp[1].replace(\"'\", \"\").replace(\"'\", \"\").replace(/ /g, '');\n                    }\n                }\n                var AllWidgets = ''\n                var testwidget = new Array();\n                //Loop through the html returned and get the data relevant to each widget... save in temp array                            \n                var tempWidgetContent = html.match(/w\\d+\\.isHidden(.*)\\(\\) == false\\)[\\s\\S]*?catch\\(err\\)\\{ \\}/gm);\n                for (var i = 0; i &lt; tempWidgetContent.length; i++) {\n                    var widgetContent = tempWidgetContent[i].substring(tempWidgetContent[i].indexOf('{') + 1);\n                    testwidget[i] = widgetContent.replace(\"site +\", \"\");\n                    //replace the code for a grids...\n                    if (testwidget[i].indexOf('grid') &gt; 0) {\n                        testwidget[i] = CreateGridUpdateFunction(testwidget[i], i);\n                    }\n                }\n\n                var widgetPart = new Array();\n                //Assume we have widget names, ids, and loading data in 3 arrays\n                //Loop through and create the necessary page.\n                for (var i = 0; i &lt; widgetNames.length; i++) {\n                    if (testwidget[i].indexOf('hi') &gt; -1) {\n                        //Header FOR grid Widget Page\n                        var pageHeaderPart = \"&lt;div data-role= 'page' id='\" + widgetId[i] + \"' data-pageindex='\" + i + \"' class='dynPageClass'&gt;&lt;div data-role='header' id='header1' data-position='fixed' data-theme='a'&gt;&lt;a href='#panel' data-icon='bars' data-iconpos='notext' class='ui-btn-left'&gt;&lt;/a&gt;&lt;a href='#' data-icon='search' id='search' data-iconpos='notext' class='ui-btn-left' style='margin-left: 35px'&gt;&lt;/a&gt;&lt;h1&gt;Basketball Fanatico&lt;/h1&gt;&lt;a href='#page1' data-icon='delete' data-iconpos='notext' class='ui-btn-right'&gt;&lt;/a&gt;&lt;a href='#page2' data-icon='home' data-iconpos='notext' class='ui-btn-right' style='margin-right: 35px;'&gt;&lt;/a&gt;&lt;/div&gt;&lt;div data-role='content'&gt;\";\n                    } else {\n                        //Header For Counter Widget Page\n                        var pageHeaderPart = \"&lt;div data-role='page' id='\" + widgetId[i] + \"' data-pageindex='\" + i + \"' class='dynPageClass'&gt;&lt;div data-role='header'data-position='fixed' data-theme='a'&gt;&lt;a data-iconpos='notext' href='#panel' data-role='button'data-icon='bars'&gt;&lt;/a&gt;&lt;h1 class='ui-title'role='heading'&gt;Basketball Fanatico&lt;/h1&gt;&lt;div class='ui-btn-right' data-type='horizontal'&gt;&lt;a data-iconpos='notext' href='#page2' data-role='button'data-icon='home'style=\\\" margin-right:5px; \\\"&gt;&lt;/a&gt;&lt;a data-iconpos='notext' href='#page1' data-role='button'data-icon='delete'&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div data-role='content'&gt;\";\n                    }\n\n                    //Footer for all Widget Pages\n                    var pageFooterPart = \"&lt;/div&gt;&lt;div data-role='footer' data-position='fixed'&gt;&lt;span class='ui-title'&gt;&lt;div id='navigator'&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;\";\n\n                    if (testwidget[i].indexOf('hi') &gt; -1) {\n                        //Grid Page widget title\n                        var check = \"&lt;div data-role='tbcontent'&gt;&lt;ul data-role='listview'data-insert='true'&gt;&lt;li data-role='list-divider' data-theme='a'&gt;\" + widgetNames[i] + \"\";\n                    }\n\n                    //Counter Page widget title\n                    var check = \"&lt;div data-role='content'&gt;&lt;ul data-role='listview'data-insert='true'&gt;&lt;li data-role='list-divider' data-theme='a'&gt;\" + widgetNames[i] + \"&lt;/div&gt;\";\n\n                    if (testwidget[i].indexOf('counterValue') &gt; 0) {\n                        //Counter Content (actual value of the counter widget)\n                        widgetPart[i] = '&lt;DIV style=\\\" text-align: center; background-color:#EDEDED; padding-bottom: auto;  font-size: 55pt;\\\" id=widgetContainer_' + widgetId[i] + '&gt;&lt;/DIV&gt;&lt;SCRIPT&gt;' + 'function UpdateWidgetDiv' + widgetId[i] + '() {' + testwidget[i] + '$(\\\"#widgetContainer_' + widgetId[i] + '\").html(counterValue);' + '}' + '&lt;/SCRIPT&gt;';\n\n                    }\n                    if (testwidget[i].indexOf('hi') &gt; -1) {\n                        //Grid content(actual values for the grid widget)     \n                        widgetPart[i] = '&lt;DIV id=widgetContainer_' + widgetId[i] + '&gt;&lt;/DIV&gt;&lt;SCRIPT&gt;' + 'function UpdateWidgetDiv' + widgetId[i] + '() {' + testwidget[i] + '}' + '&lt;/SCRIPT&gt;';\n                    } else {\n\n                        //Miscalenous content(these are counter widgets that will contain text messages for now just putting \"i dont know what i am\")\n                        widgetPart[i] = '&lt;DIV style=\\\" text-align: center; background-color:#EDEDED; padding-bottom: auto;  font-size: 55pt;\\\" id=widgetContainer_' + widgetId[i] + '&gt;I dont know what I am&lt;/DIV&gt;';\n                    }\n\n                    AllWidgets += '&lt;a href=\"#' + widgetId[i] + '\" class=\"widgetLink\" data-theme=\"b\" data-role=\"button\" &gt;' + widgetNames[i] + '&lt;/a&gt;';\n                    var makePage = $(pageHeaderPart + check + widgetPart[i] + pageFooterPart);\n                    makePage.appendTo($.mobile.pageContainer);\n                }\n                $('#items').prepend(AllWidgets).trigger('create');\n\n                //Widget Update Function\n                function UpdateActivePage() {\n                    //get active page\n                    pageId = $(\":mobile-pagecontainer\").pagecontainer('getActivePage').prop(\"id\");\n                    //figure out index\n                    var idx;\n                    for (var i = 0; i &lt; widgetId.length; i++) {\n                        if (widgetId[i] == pageId) {\n                            idx = i;\n                            break;\n                        }\n                    }\n\n                    eval(testwidget[idx]);\n                    $(\"#widgetContainer_\" + pageId).html(counterValue);\n\n                    $('#grid_' + idx).dataTable({\n                        \"bPaginate\": false,\n                        \"bFilter\": true,\n                        \"bAutoWidth\": false,\n                        \"oLanguage\": {\n                            \"sSearch\": \"\"\n                        }\n                    });\n                    $('.dataTables_filter input').attr(\"placeholder\", \"Search\");\n                    $('.dataTables_filter').css('float', 'none');\n                    $('.dataTables_filter').css('padding-right', '0px');\n                    $(\"#example_filter\").detach().prependTo('#header1');\n                }\n\n                function CreateGridUpdateFunction(oldUpdatefunction, thisWidgetID) {\n                    var updateLines = oldUpdatefunction.split(\"\\n\");\n                    var updateFunctionCode = \"\";\n                    for (var i = 0; i &lt; updateLines.length; i++) {\n                        if (updateLines[i].indexOf(\" var url = \") &gt; 0) {\n                            //alert(updateLines[i]);\n                            //    updateFunctionCode = \" try { \";\n                            var updateURL = updateLines[i];\n                            if (updateURL.indexOf(\"&amp;windowWidth=\") &gt; 0) {\n                                updateURL = updateURL.substr(0, updateURL.lastIndexOf(\"&amp;windowWidth=\")) + \"';\";\n                                //console.log(updateURL);\n                            }\n                            updateFunctionCode += updateURL;\n                            updateFunctionCode += \"   var loader = dhtmlxAjax.getSync(url);\";\n                            updateFunctionCode += \"   if(loader.xmlDoc.responseText.length &gt; 0){\";\n                            updateFunctionCode += \"     counterValue = createTableStringFromXML(loader.xmlDoc.responseText,\" + thisWidgetID + \");\";\n                            updateFunctionCode += \"   }   \";\n                        }\n                    }\n                    return \"var counterValue = \\\"hi\\\"; \" + updateFunctionCode;\n                }\n\n                $(\":mobile-pagecontainer\").on(\"pagechange\", function () {\n                    UpdateActivePage();\n                })\n\n                setInterval(UpdateActivePage, 3000);\n            }\n        });\n    });\n});\n\n //Returns a bool indicated if the (space trimmed) string starts with needle.\nfunction startsWith(searchString, searchVal) {\n    var search = searchString.trim();\n    return search.indexOf(searchVal) &gt;= 0;\n}\n\nfunction createTableStringFromXML(serverXML, thisWidgetID) {\n    //EXAMPLE INPUT\n    /*\n        &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n        &lt;rows&gt;\n            &lt;head&gt;\n                &lt;column width=\"55\" type=\"ro\" align=\"left\" sort=\"str\"&gt;Player&lt;/column&gt;\n                &lt;column width=\"55\" type=\"ro\" align=\"left\" sort=\"str\"&gt;State&lt;/column&gt;\n                &lt;column width=\"55\" type=\"ro\" align=\"left\" sort=\"str\"&gt;Points&lt;/column&gt;\n            &lt;/head&gt;\n            &lt;row id=\"1\"&gt;\n                &lt;cell&gt;Lebron James&lt;/cell&gt;\n                &lt;cell&gt;Injured&lt;/cell&gt;\n                &lt;cell&gt;25 &lt;/cell&gt;\n            &lt;/row&gt;\n        &lt;/rows&gt;\n    */\n    console.log(serverXML);\n    //PARSE THE ABOVE XML STRING to required FORMAT\n    var xmlLines = serverXML.split(\"\\n\");\n    var returnTable = \"\";\n\n    for (var i = 0; i &lt; xmlLines.length; i++) {\n        if (startsWith(xmlLines[i], \"&lt;rows\")) {\n            returnTable += \"&lt;table cellpadding=\\\"2\\\"  cellspacing=\\\"2\\\" border=\\\"0\\\" class=\\\"display\\\" id=\\\"grid_\" + thisWidgetID + \"\\\" width=\\\"100%\\\"&gt;\";\n        } else if (startsWith(xmlLines[i], \"&lt;/rows&gt;\")) {\n            returnTable += \"&lt;/tbody&gt;&lt;/table&gt;\";\n        } else if (startsWith(xmlLines[i], \"&lt;head&gt;\")) {\n            returnTable += \"&lt;thead&gt;&lt;tr&gt;\";\n        } else if (startsWith(xmlLines[i], \"&lt;/head&gt;\")) {\n            returnTable += \"&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;\";\n        } else if (startsWith(xmlLines[i], \"&lt;column\")) {\n            returnTable += \"&lt;th&gt;\" + xmlLines[i].match(/&gt;(.*?)&lt;/i)[1] + \"&lt;/th&gt;\";\n        } else if (startsWith(xmlLines[i], \"&lt;row\")) {\n            returnTable += \"&lt;tr&gt;\";\n        } else if (startsWith(xmlLines[i], \"&lt;/row\")) {\n            returnTable += \"&lt;/tr&gt;\";\n        } else if (startsWith(xmlLines[i], \"&lt;cell\")) {\n            returnTable += \"&lt;td&gt;\" + xmlLines[i].match(/&gt;(.*?)&lt;/i)[1] + \"&lt;/td&gt;\";\n        }\n        console.log(returnTable);\n    }\n    return returnTable;\n}\n</code></pre>\n\n<p>Please advice on how to fix this i have been stuck on this for one week now almost i am sorry if this question is bad as i am only few months new to js and html and web development in general. I apologize for my poor English also.</p>\n\n<p><strong>UPDATED CODE BY EZ</strong></p>\n\n<p>See comments that start with <code>//EZ</code>:</p>\n\n<pre><code>                function UpdateActivePage() {\n                    //get active page\n                    pageId = $(\":mobile-pagecontainer\").pagecontainer('getActivePage').prop(\"id\");\n                    //figure out index\n                    var idx;\n                    for (var i = 0; i &lt; widgetId.length; i++) {\n                        if (widgetId[i] == pageId) {\n                            idx = i;\n                            break;\n                        }\n                    }   \n                    eval(testwidget[idx]);\n\n                    if (counterValue == false) {\n                        //EZ: no need to recreate datatable\n                        return;\n                    } else {\n                        $(\"#widgetContainer_\" + pageId).html(counterValue);\n\n                        $('#grid_' + idx).dataTable({\n                            \"bPaginate\": false,\n                            \"bFilter\": true,\n                            \"bAutoWidth\": false,\n                            \"oLanguage\": {\n                                \"sSearch\": \"\"\n                            }\n                        });\n                        $('.dataTables_filter input').attr(\"placeholder\", \"Search\");\n                        $('.dataTables_filter').css('float', 'none');\n                        $('.dataTables_filter').css('padding-right', '0px');\n                        $(\"#example_filter\").detach().prependTo('#header1');\n                    }\n                }\n\n\nfunction createTableStringFromXML(serverXML, thisWidgetID) {\n    //EXAMPLE INPUT\n    /*\n        &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n        &lt;rows&gt;\n            &lt;head&gt;\n                &lt;column width=\"55\" type=\"ro\" align=\"left\" sort=\"str\"&gt;Player&lt;/column&gt;\n                &lt;column width=\"55\" type=\"ro\" align=\"left\" sort=\"str\"&gt;State&lt;/column&gt;\n                &lt;column width=\"55\" type=\"ro\" align=\"left\" sort=\"str\"&gt;Points&lt;/column&gt;\n            &lt;/head&gt;\n            &lt;row id=\"1\"&gt;\n                &lt;cell&gt;Lebron James&lt;/cell&gt;\n                &lt;cell&gt;Injured&lt;/cell&gt;\n                &lt;cell&gt;25 &lt;/cell&gt;\n            &lt;/row&gt;\n        &lt;/rows&gt;\n    */\n    console.log(serverXML);\n    //PARSE THE ABOVE XML STRING to required FORMAT\n    var xmlLines = serverXML.split(\"\\n\");\n    var returnTable = \"\";\n\n    //EZ: See if table already exists\n    if ( $(\"#grid_\" + thisWidgetID).length &gt; 0){\n        //EZ: update table using the datatables API...\n\n        //EZ: then return false \n        return false;\n    } else {\n\n        for (var i = 0; i &lt; xmlLines.length; i++) {\n            if (startsWith(xmlLines[i], \"&lt;rows\")) {\n                returnTable += \"&lt;table cellpadding=\\\"2\\\"  cellspacing=\\\"2\\\" border=\\\"0\\\" class=\\\"display\\\" id=\\\"grid_\" + thisWidgetID + \"\\\" width=\\\"100%\\\"&gt;\";\n            } else if (startsWith(xmlLines[i], \"&lt;/rows&gt;\")) {\n                returnTable += \"&lt;/tbody&gt;&lt;/table&gt;\";\n            } else if (startsWith(xmlLines[i], \"&lt;head&gt;\")) {\n                returnTable += \"&lt;thead&gt;&lt;tr&gt;\";\n            } else if (startsWith(xmlLines[i], \"&lt;/head&gt;\")) {\n                returnTable += \"&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;\";\n            } else if (startsWith(xmlLines[i], \"&lt;column\")) {\n                returnTable += \"&lt;th&gt;\" + xmlLines[i].match(/&gt;(.*?)&lt;/i)[1] + \"&lt;/th&gt;\";\n            } else if (startsWith(xmlLines[i], \"&lt;row\")) {\n                returnTable += \"&lt;tr&gt;\";\n            } else if (startsWith(xmlLines[i], \"&lt;/row\")) {\n                returnTable += \"&lt;/tr&gt;\";\n            } else if (startsWith(xmlLines[i], \"&lt;cell\")) {\n                returnTable += \"&lt;td&gt;\" + xmlLines[i].match(/&gt;(.*?)&lt;/i)[1] + \"&lt;/td&gt;\";\n            }\n            console.log(returnTable);\n        }\n    }\n    return returnTable;\n}\n</code></pre>\n",
            "last_activity_date": 1397137390,
            "question_id": 22938579,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "datatables"
            ],
            "title": "Sorting and Searching DataTables after refreshing table"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>Is there something that the EventEmitter.call(this) does that is required?</p>\n</blockquote>\n\n<p><a href=\"https://github.com/joyent/node/blob/828f14556e0daeae7fdac08fceaa90952de63f73/lib/events.js#L25\" rel=\"nofollow\">Apparently</a>, yes:</p>\n\n<pre><code>function EventEmitter() {\n  EventEmitter.init.call(this);\n}\n\u2026\n\nEventEmitter.init = function() {\n  this.domain = null;\n  if (EventEmitter.usingDomains) {\n    // if there is an active domain, then attach to it.\n    domain = domain || require('domain');\n    if (domain.active &amp;&amp; !(this instanceof domain.Domain)) {\n      this.domain = domain.active;\n    }\n  }\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n};\n</code></pre>\n\n<p>Since all the methods that use <code>._events</code> do a check for its existence I wouldn't expect much to break if you did omit the call, but I'm not sure whether this holds true in the future.</p>\n\n<p>There are enough other constructors that do <em>not</em> tolerate to be omitted, so it's good practice to simply <em>always</em> call the constructor when constructing an instance.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p><code>util.inherits</code> grabs the entire parent prototype, but you lose the constructor.  For this reason, the inheriting constructor will often call the parent constructor with the current <code>this</code> as the context, just like you see in your first example.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<pre><code>Function ConstrA () {\n    EventEmitter.call(this);\n}\nutil.inherits(ConstrA, EventEmitter);\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>Function ConstrA() {}\nutil.inherits(ConstrA, EventEmitter);\n</code></pre>\n\n<p>Is there something that the EventEmitter.call(this) does that is required?</p>\n",
            "last_activity_date": 1396370322,
            "question_id": 22791368,
            "score": 1,
            "tags": [
                "javascript",
                "node.js",
                "constructor",
                "eventemitter"
            ],
            "title": "What is the difference between these two constructor patterns?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>First off, Jquery's <code>.outerheight()</code> function <em>includes</em> padding, which means that when you measure the height of your <code>#Main</code> element after this function runs the first time, it will equal the <code>window.height</code>. In other words - it will look awful when you resize your browser. You can see this in action on <a href=\"http://jsfiddle.net/jaycenornin/F5dxk/3/show/light/\" rel=\"nofollow\">this fiddle</a> when you resize the browser window the old-fashioned way. You can use margins instead, but then you'll have to adjust your CSS quite a bit. Even then, resizing the window still looks awful and buggy and has inconsistent results across browsers. You can see that on <a href=\"http://jsfiddle.net/jaycenornin/F5dxk/2/show/light/\" rel=\"nofollow\">this fiddle</a>.</p>\n\n<p>The specific bug you're referring to is probably due to inconsistent math when you resize your window - a combination of your use of padding (which is included in <code>.outerheight()</code> as mentioned above) and the viewport size not being easily divisible by 2 (it's impossible to have half a pixel and different browsers will render that half a pixel differently).</p>\n\n<p>I should also point out this line of code:</p>\n\n<pre><code>if (window_h &gt; (jumbotron_h + 60)) {\n    var jumbotron_padding = (window_h - jumbotron_h)/2\n} else {\n    var jumbotron_padding = 30\n}\n</code></pre>\n\n<p>This forces your page to always be <code>#main.height() + 60</code>, which can be bigger than your viewable window, depending upon your window size. <code>#main.height()</code> comes out to around 200.5px (there we are with another half pixel).</p>\n\n<p>Assuming that your goal is to vertically center the <code>#Main</code> element, your best bet is to use one of the many straight CSS methods available. <a href=\"http://vanseodesign.com/blog/demo/vertical-centering/table-cell.php\" rel=\"nofollow\">The table method</a> seems most applicable here because it is completely dynamic (and thus can be responsive) - simply create a single cell CSS table, use CSS valign, and build your entire page inside that cell. For older versions of IE you'll need to use a tiny hack (<code>display:Inline-block;</code>) to make it work.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"parent\"&gt;\n    &lt;div id=\"child\"&gt;Content here&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>#parent {display: table;}\n\n#child {\n    display: table-cell;\n    vertical-align: middle;\n}\n</code></pre>\n\n<p>IE fix:</p>\n\n<pre><code>#child {\n    display: inline-block;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In your CSS</p>\n\n<pre><code>html, body {\n    height: 100%;\n}\n\ndiv, #main {\n    height: 100%;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p><em>Based on @Thomas's answer, I've identified two possible solutions. I am going with the <strong>#2</strong> solution considering better browser support for it.</em></p>\n\n<hr>\n\n<p><strong>1.</strong> Using the unit <code>vh</code> (viewport height). <a href=\"http://caniuse.com/viewport-units\" rel=\"nofollow\">Browser support</a>: IE9 and above.</p>\n\n<p><strong>CSS:</strong></p>\n\n<pre><code>.home #primary { /* Parent */\n    display: table;\n    width: 100%;\n}\n\n.home #main { /* Child */\n    display: table-cell;\n    height: 100vh; /* 100% viewport height */\n    vertical-align: middle;\n}\n</code></pre>\n\n<hr>\n\n<p><strong>2.</strong> Dynamically setting height of parent (<code>.home #primary</code>) equal to that of browser's viewport.</p>\n\n<p><strong>JS:</strong></p>\n\n<pre><code>jQuery(document).ready(function($){\n\n    var window_h = $(window).height();\n    var jumbotron_h = $('.home #main').height();\n\n    if (window_h &lt;= (jumbotron_h + 60)) {\n        var window_h = jumbotron_h + 60\n    }\n\n    $('.home #primary').attr('style', 'height:'+window_h+'px;');\n\n});\n</code></pre>\n\n<p><strong>CSS:</strong></p>\n\n<pre><code>.home #primary { /* Parent */\n    display: table;\n    width: 100%;\n}\n\n.home #main { /* Child */\n    display: table-cell;\n    height: 100%; /* 100% height of parent */\n    vertical-align: middle;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>       body {\n        height:100vh;\n       }\n\n       .element-to-be-centered { \n        font-size:1em; \n        text-align:center; \n        top: 49%;\n        -webkit-transform: translateY(-49%);\n        -ms-transform: translateY(-49%);\n        transform: translateY(-49%);\n       }\n</code></pre>\n\n<p>I have been doing quite a bit of experimenting lately with centering content. This technique will work without having to set a height on any element.</p>\n\n<p>This will work in ie9 and up.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p><strong><a href=\"http://jsfiddle.net/F5dxk/\" rel=\"nofollow\">Code</a></strong><br>\n<strong><a href=\"http://fiddle.jshell.net/F5dxk/show/light/\" rel=\"nofollow\">Demo</a></strong></p>\n\n<p>The basic form of HTML looks like this:</p>\n\n<pre><code>&lt;div class=\"home\"&gt;\n    &lt;div id=\"primary\" class=\"content-area\"&gt;\n        &lt;main id=\"main\" class=\"site-main\" role=\"main\"&gt;\n\n            &lt;!-- blah, blah, blah! --&gt;\n\n        &lt;/main&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>W.r.t the HTML, I am trying to make the element <code>#main</code> fill the entire height of the browser viewport using JavaScript/jQuery like so:</p>\n\n<pre><code>jQuery(document).ready(function($){\n\n    // get height of browser viewport\n    var window_h = $(window).height();\n\n    // get height of the jumbotron, i.e. element #main\n    var jumbotron_h = $('.home #main').outerHeight(true);\n\n    // calculate necessary padding (top/bottom) to apply on #main so that the\n    // element's height is equal to that of the browser's viewport,\n    // and its contents are centered vertically\n    if (window_h &gt; (jumbotron_h + 60)) {\n        var jumbotron_padding = (window_h - jumbotron_h)/2\n    } else {\n        var jumbotron_padding = 30\n    }\n\n    // apply calculated padding on the element dynamically\n    $('.home #main').attr('style', 'padding-top:'+jumbotron_padding+'px;padding-bottom:'+jumbotron_padding+'px;');\n\n});\n</code></pre>\n\n<p>As clearly explained in the comments in the code above, the code automatically calculates the necessary padding to be applied on <code>#main</code> so that its height is equal to that of the browser's viewport.</p>\n\n<p>It works well, except, the calculated padding (and therefore the resultant height) is wrong in one case that I was able to identify.</p>\n\n<p>Easily reproducible <em>at least</em> on <strong>Windows 7, Google Chrome browser</strong> (latest) when you resize the browser window to 567x724 px, which implies 551x611 px viewport size, (you can use an extension like <a href=\"https://chrome.google.com/webstore/detail/window-resizer/kkelicaakdanhinjdeammmilcgefonfh\" rel=\"nofollow\">Window Resizer</a>), you'll notice that the element's calculated padding results in its height being larger than that of the browser's viewport.</p>\n\n<p>Why is this happening? I wasn't able to reproduce the same at any other resolution. What could I possibly be missing here?</p>\n",
            "last_activity_date": 1401926401,
            "question_id": 22789254,
            "score": 1,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Making an element fill the entire height of browser viewport using jQuery"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Try changing your adapter JavaScript implementation to the following instead.</p>\n\n<p>I tried a version of this with different table and variables and it worked for me (at least, the adapter invocation from Worklight Studio).</p>\n\n<p>Note how I am using <code>locId.resultSet</code> and not <code>locId.invocationResult.resultSet</code>. The latter is used on the <em>client-side</em> whereas the former is used on the <em>server-side</em>.</p>\n\n<p>Also note the separation to two functions.</p>\n\n<pre><code>function getStudentInfos(Name,Location) {\n    var locId, a, b;\n\n    locId = getlocId(Location);\n    a = locId.resultSet;\n    if (a &amp;&amp; a.length&gt;0) {\n        b = a[0].LocId;\n    }\n    return WL.Server.invokeSQLStatement({\n        preparedStatement : selectStatement3,\n        parameters : [b]\n    });\n}\n\nfunction getlocId (Location) {\n    var result = WL.Server.invokeSQLStatement({\n        preparedStatement : selectStatement2,\n        parameters : [Location]\n    });\n    return result;\n}\n</code></pre>\n\n<p>Note the <code>if</code> statement... make sure to add some error handling there as well...</p>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I want to use the <code>resultSet</code> returned by invoking a SQL statement through <code>WL.Server.invokeSQLStatement</code> statement in a SQL adapter procedure within the procedure itself.</p>\n\n<p>I have tried the way we generally do by using <code>result.invocationResult.resultSet[variable].Property</code> inside the SQL adapter procedure, but it doesn't works. </p>\n\n<p>HTML</p>\n\n<pre><code>    &lt;div data-role=\"page\" id=\"mainPage\"&gt;\n        &lt;div data-role=\"header\"&gt;search medicine&lt;/div&gt;\n            &lt;br&gt;\n\n            &lt;hr&gt;\n            &lt;div data-role=\"content\"&gt;       \n                &lt;input type=\"text\" value=\"MEDICINE\" id=\"medicine\"&gt;&lt;hr&gt;\n                &lt;input type=\"text\" value=\"LOCATION\" id=\"location\"&gt;&lt;hr&gt;\n                &lt;input type=\"submit\" id=\"search\" value=\"SEARCH\"&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"itemsList\" data-role=\"page\"&gt;\n            &lt;table id=\"myTable\" border=\"1\"&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;Registration No&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;    \n            &lt;div data-role=\"header\"&gt;gg&lt;/div&gt;\n            &lt;div data-role=\"content\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>JavaScript</p>\n\n<pre><code>window.$ = window.jQuery = WLJQ;\nfunction wlCommonInit() {\n\n}\n\n$(document).ready(function(){\n    $(\"#search\").click(function(){\n        GetEmployeeData();  \n    });\n});\n\nfunction GetEmployeeData() {        \n    var medicine= $(\"#medicine\").val();\n    var location=$(\"#location\").val();\n    alert(medicine);\n    var invocationData = {\n        adapter : 'ATM',\n        procedure : 'getStudentInfos',\n        parameters: [medicine,location]\n    };\n\n    WL.Client.invokeProcedure(invocationData,{\n        onSuccess : loadFeedsSuccess,\n        onFailure : loadFeedsFailure\n    });\n}\n\nfunction loadFeedsSuccess(result){      \n    alert(\"Hii\");\n    WL.Logger.debug(\"Feed retrieve success\");\n\n    if (result.invocationResult.resultSet.length&gt;0) \n        displayFeeds(result.invocationResult.resultSet);\n    else \n        loadFeedsFailure();     \n}\n\nfunction loadFeedsFailure(result){      \n    alert(\"H\");\n}\n\nfunction displayFeeds(items){\n    alert(\"ii\");\n    var table = document.getElementById(\"myTable\");\n    for(var i=0;i&lt;items.length;i++)\n        {\n            // Create an empty &lt;tr&gt; element and add it to the 1st position of the table:\n            var row = table.insertRow(i+1); \n            var cell1 = row.insertCell(0);\n\n            // Add some text to the new cells:\n            cell1.innerHTML = items[i].RegNo;\n        }\n}\n\nfunction LoadResultPage() {\n    $(\"AppDiv\").hide();\n    $(\"#itemsList\").show();\n};\n</code></pre>\n\n<p>Adapter JavaScript</p>\n\n<pre><code> var selectStatement2 = WL.Server.createSQLStatement(\"select LocId from location WHERE LocName= ? \");\n    var selectStatement3 = WL.Server.createSQLStatement(\"select RegNo from storeloc WHERE LocId= ? \");\n\n    function getStudentInfos(Name,Location) {    \n        var result=WL.Server.invokeSQLStatement({\n            preparedStatement : selectStatement2,\n            parameters : [Location]\n        });\n\n       var a = result.invocationResult.resultSet;\n       if(a.length&gt;0)\n       var LocId=a[0].LocId;\n       return WL.Server.invokeSQLStatement({\n        preparedStatement : selectStatement3,\n            parameters : [LocId]\n        });     \n    }\n</code></pre>\n\n<p>On Chrome i am getting the following error</p>\n\n<blockquote>\n  <p>Procedure invocation error. Ecma Error: TypeError: Cannot read\n  property \"resultSet\" from undefined\n  (E%3A%5CPRACTICE%5CATM%5Cadapters%5CATM/ATM-impl.js#25).My line No 25\n  is var a= result.invocationResult.resultSet;</p>\n</blockquote>\n",
            "last_activity_date": 1396260631,
            "question_id": 22744628,
            "score": 1,
            "tags": [
                "javascript",
                "worklight",
                "worklight-adapters"
            ],
            "title": "use resultset returned by WL.Server.invokeSQLStatement within sql adapter procedure"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>As you haven't posted your code Ill be working off the swinlane examples (<a href=\"http://www.gojs.net/latest/samples/swimlanes.html\" rel=\"nofollow\">http://www.gojs.net/latest/samples/swimlanes.html</a>).</p>\n\n<p>If you have a look at the documentation for nodes (<a href=\"http://gojs.net/beta/intro/nodes.html\" rel=\"nofollow\">http://gojs.net/beta/intro/nodes.html</a>) you can see how they are changing the color there.</p>\n\n<pre><code> diagram.nodeTemplate =\n    $(go.Node, \"Auto\",\n      $(go.Shape, \"Rectangle\",\n        new go.Binding(\"fill\", \"color\")),\n      $(go.TextBlock,\n        { margin: 5 },\n        new go.Binding(\"text\", \"key\"))\n    );\n\n  diagram.model.nodeDataArray = [\n    { key: \"Alpha\", color: \"lightblue\" }\n  ];\n</code></pre>\n\n<p><br />In the swimlane example they have the following relevant code:</p>\n\n<pre><code>myDiagram.nodeTemplate =\n      $(go.Node, \"Auto\",\n        $(go.Shape, \"Rectangle\",\n          { fill: \"white\", portId: \"\", cursor: \"pointer\", fromLinkable: true, toLinkable: true }),\n        $(go.TextBlock, { margin: 5 },\n          new go.Binding(\"text\", \"key\")),\n        // limit dragging of Nodes to stay within the containing Group, defined above\n        {\n          dragComputation: stayInGroup,\n          mouseDrop: function (e, node) {  // dropping a copy of some Nodes and Links onto this Node adds them to this Node's Group\n            if (!e.shift &amp;&amp; !e.control) return;  // cannot change groups with an unmodified drag-and-drop\n            var grp = node.containingGroup;\n            if (grp !== null) {\n              var ok = grp.addMembers(node.diagram.selection, true);\n              if (!ok) grp.diagram.currentTool.doCancel();\n            }\n          },\n          layoutConditions: go.Part.LayoutAdded | go.Part.LayoutNodeSized\n        }\n      );\n\nmyDiagram.model = new go.GraphLinksModel(\n    [ // node data\n      { key: \"Lane1\", isGroup: true, color: \"lightblue\" },\n      { key: \"Lane2\", isGroup: true, color: \"lightgreen\" },\n      { key: \"Lane3\", isGroup: true, color: \"lightyellow\" },\n      { key: \"Lane4\", isGroup: true, color: \"orange\" },\n      { key: \"oneA\", group: \"Lane1\" },\n      { key: \"oneB\", group: \"Lane1\" },\n      { key: \"oneC\", group: \"Lane1\" },\n      { key: \"oneD\", group: \"Lane1\" },\n      { key: \"twoA\", group: \"Lane2\" },\n      { key: \"twoB\", group: \"Lane2\" },\n      { key: \"twoC\", group: \"Lane2\" },\n      { key: \"twoD\", group: \"Lane2\" },\n      { key: \"twoE\", group: \"Lane2\" },\n      { key: \"twoF\", group: \"Lane2\" },\n      { key: \"twoG\", group: \"Lane2\" },\n      { key: \"fourA\", group: \"Lane4\" },\n      { key: \"fourB\", group: \"Lane4\" },\n      { key: \"fourC\", group: \"Lane4\" },\n      { key: \"fourD\", group: \"Lane4\" },\n    ],\n    [ // link data\n      { from: \"oneA\", to: \"oneB\" },\n      { from: \"oneA\", to: \"oneC\" },\n      { from: \"oneB\", to: \"oneD\" },\n      { from: \"oneC\", to: \"oneD\" },\n      { from: \"twoA\", to: \"twoB\" },\n      { from: \"twoA\", to: \"twoC\" },\n      { from: \"twoA\", to: \"twoF\" },\n      { from: \"twoB\", to: \"twoD\" },\n      { from: \"twoC\", to: \"twoD\" },\n      { from: \"twoD\", to: \"twoG\" },\n      { from: \"twoE\", to: \"twoG\" },\n      { from: \"twoF\", to: \"twoG\" },\n      { from: \"fourA\", to: \"fourB\" },\n      { from: \"fourB\", to: \"fourC\" },\n      { from: \"fourC\", to: \"fourD\" }\n    ]);\n</code></pre>\n\n<p><br />To allow each node their own fill color you change the line</p>\n\n<pre><code>{ fill: \"white\", portId: \"\", cursor: \"pointer\", fromLinkable: true, toLinkable: true }),\n</code></pre>\n\n<p>to</p>\n\n<pre><code>{ fill: \"lightblue\", portId: \"\", cursor: \"pointer\", fromLinkable: true, toLinkable: true },\nnew go.Binding(\"fill\", \"color\")),\n</code></pre>\n\n<p><br />After making those changes you can then specify what fill colors you want in the node data. Note that I changed the original fill value above to lighblue. Now lightblue will be the default color if you do not specify a color for a node (fourD will be lightblue):</p>\n\n<pre><code> myDiagram.model = new go.GraphLinksModel(\n    [ // node data\n      { key: \"Lane1\", isGroup: true, color: \"lightblue\" },\n      { key: \"Lane2\", isGroup: true, color: \"lightgreen\" },\n      { key: \"Lane3\", isGroup: true, color: \"lightyellow\" },\n      { key: \"Lane4\", isGroup: true, color: \"orange\" },\n      { key: \"oneA\", group: \"Lane1\", color: \"green\" },\n      { key: \"oneB\", group: \"Lane1\", color: \"red\" },\n      { key: \"oneC\", group: \"Lane1\", color: \"yellow\" },\n      { key: \"oneD\", group: \"Lane1\", color: \"purple\" },\n      { key: \"twoA\", group: \"Lane2\", color: \"orange\" },\n      { key: \"twoB\", group: \"Lane2\", color: \"green\" },\n      { key: \"twoC\", group: \"Lane2\", color: \"red\" },\n      { key: \"twoD\", group: \"Lane2\", color: \"yellow\" },\n      { key: \"twoE\", group: \"Lane2\", color: \"purple\" },\n      { key: \"twoF\", group: \"Lane2\", color: \"orange\" },\n      { key: \"twoG\", group: \"Lane2\", color: \"green\" },\n      { key: \"fourA\", group: \"Lane4\", color: \"red\" },\n      { key: \"fourB\", group: \"Lane4\", color: \"yellow\" },\n      { key: \"fourC\", group: \"Lane4\", color: \"purple\" },\n      { key: \"fourD\", group: \"Lane4\" },\n    ],\n    [ // link data\n      { from: \"oneA\", to: \"oneB\" },\n      { from: \"oneA\", to: \"oneC\" },\n      { from: \"oneB\", to: \"oneD\" },\n      { from: \"oneC\", to: \"oneD\" },\n      { from: \"twoA\", to: \"twoB\" },\n      { from: \"twoA\", to: \"twoC\" },\n      { from: \"twoA\", to: \"twoF\" },\n      { from: \"twoB\", to: \"twoD\" },\n      { from: \"twoC\", to: \"twoD\" },\n      { from: \"twoD\", to: \"twoG\" },\n      { from: \"twoE\", to: \"twoG\" },\n      { from: \"twoF\", to: \"twoG\" },\n      { from: \"fourA\", to: \"fourB\" },\n      { from: \"fourB\", to: \"fourC\" },\n      { from: \"fourC\", to: \"fourD\" }\n    ]);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I am currently using <a href=\"http://www.gojs.net/latest/index.html\" rel=\"nofollow\">GOjs library</a>'s new graph which is the <a href=\"http://www.gojs.net/latest/samples/swimlanes.html\" rel=\"nofollow\">swimlane</a>.</p>\n\n<p>My problem is I want to add DIFFERENT styles to each node (like, one node has a bg-color of red, the other is blue, others are green and etc). Anyone knows how to do this?</p>\n\n<p>Any help is greatly appreciated. Or anyone can suggest another library that does my thing.</p>\n",
            "last_activity_date": 1395885358,
            "question_id": 22676411,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "css",
                "json",
                "gojs"
            ],
            "title": "Add CSS or style to each node in swimlane (GOjs library)"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You need to close <em>open</em> menu while opening the other one. Inside <code>click</code> handler which opens either menu, add the following:</p>\n\n<pre><code>$(\".ui-sub-panel-open\")\n    .addClass('ui-sub-panel-close ui-sub-panel-animate')\n    .removeClass(\"ui-sub-panel-open\");\n</code></pre>\n\n<p>This will close <em>open</em> menu then slide next one; complete code.</p>\n\n<pre><code>/* open submenu1 */\n$('.sub1').on('click', function () {\n    $(\".ui-sub-panel-open\")\n        .addClass('ui-sub-panel-close ui-sub-panel-animate')\n        .removeClass(\"ui-sub-panel-open\");\n    $('#submenu1')\n        .addClass('ui-sub-panel-open ui-sub-panel-animate')\n        .removeClass(\"ui-sub-panel-close\");\n});\n\n/* open submenu2 */\n$('.sub2').on('click', function () {\n    $(\".ui-sub-panel-open\")\n        .addClass('ui-sub-panel-close ui-sub-panel-animate')\n        .removeClass(\"ui-sub-panel-open\");\n    $('#submenu2')\n        .addClass('ui-sub-panel-open ui-sub-panel-animate')\n        .removeClass(\"ui-sub-panel-close\");\n});\n</code></pre>\n\n<p>Regarding <code>background</code> color, add any color you want to <code>ui-sub-panel-open</code> and another color (if you want) to <code>ui-sub-panel-close</code>.</p>\n\n<pre><code>.ui-sub-panel-open {\n  -moz-transform: translate3d(-17em, 0, 0);\n  -webkit-transform: translate3d(-17em, 0, 0);\n  transform: translate3d(-17em, 0, 0);\n  background: lightblue;\n}\n\n.ui-sub-panel-close {\n  -webkit-transform: translate3d(0, 0, 0);\n  -moz-transform: translate3d(0, 0, 0);\n  transform: translate3d(0, 0, 0);\n  background: lightgray;\n}\n</code></pre>\n\n<p>And don't forget to remove the below CSS</p>\n\n<pre><code>#submenu1 {\n  background: color;\n}\n\n#submenu2 {\n  background: color;\n}\n</code></pre>\n\n<hr>\n\n<h3>Update</h3>\n\n<p>To slide closed panel to left, modify <code>.ui-sub-panel-close</code> as follows.</p>\n\n<pre><code>.ui-sub-panel-close {\n  -webkit-transform: translate3d(-34em, 0, 0);\n  -moz-transform: translate3d(-34em, 0, 0);\n  transform: translate3d(-34em, 0, 0);\n  background: lightgray;\n}\n</code></pre>\n\n<p>Then you should return <em>submenu</em> to its' original position, by listening to <code>transitionend</code> events.</p>\n\n<pre><code>$(document).on(\"transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd\", \"#submenu1, #submenu2\", function () {\n  var position = $(this).offset().left;\n  if (position &lt; 0) {\n    $(this).removeClass(\"ui-sub-panel-close ui-sub-panel-animate\");\n  }\n});\n</code></pre>\n\n<blockquote>\n  <p><strong><a href=\"http://jsfiddle.net/Palestinian/7YjPu/\">Demo</a></strong></p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>@Omar has created a cool ios style menu system <a href=\"http://stackoverflow.com/q/20889575/1771795\" title=\"here\">here</a></p>\n\n<p>I need a few modifications.</p>\n\n<p>1) When the new submenu slides in, the previous menu should slide out.</p>\n\n<p>2) The new submenu should inherit the same background color as the previous menu</p>\n",
            "last_activity_date": 1395656749,
            "question_id": 22593638,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "jquery-mobile"
            ],
            "title": "Enhancing a jQuery Mobile Menu System"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This is answer</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;style&gt;\n.review1{\nfont-family: Clarendon;\nletter-spacing: .2em;\nfont-size: 22pt;\ntext-align: center;\npadding-top: 200px;\nwidth: 1024px;\n}\n\n.review2{\ndisplay: none;\nfont-family: Clarendon;\nletter-spacing: .2em;\nfont-size: 22pt;\ntext-align: center;\npadding-top: 200px;\n\n}\n\n.review3{\ndisplay: none;\nfont-family: Clarendon;\nletter-spacing: .2em;\nfont-size: 22pt;\ntext-align: center;\npadding-top: 200px;\n\n}\n\n.review4{\ndisplay: none;\nfont-family: Clarendon;\nletter-spacing: .2em;\nfont-size: 22pt;\ntext-align: center;\npadding-top: 200px;\n}\n&lt;/style&gt;\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js\"&gt;\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class=\"review1\"&gt;\n    &lt;h1&gt;1&amp;ldquo;THIS PLACE IS AMAZING&amp;rdquo;&lt;br&gt;\n    &lt;/h1&gt;\n    &lt;p class= \"vancouver\"&gt;- The Georgia Straight&lt;/p&gt;\n&lt;/div&gt;\n&lt;div class=\"review2\"&gt;\n    &lt;h1&gt;2&amp;ldquo;A TASTE OF ITALY IN VANCOUVER&amp;rdquo;&lt;br&gt;\n    &lt;/h1&gt;\n    &lt;p class= \"Sun\"&gt;- The Vancouver Sun&lt;/p&gt;\n&lt;/div&gt;\n&lt;div class=\"review3\"&gt;\n    &lt;h1&gt;3&amp;ldquo;THIS IS THE REAL DEAL&amp;rdquo;&lt;br&gt;\n    &lt;/h1&gt;\n    &lt;p class= \"Yelp\"&gt;- Yelp.ca&lt;/p&gt;\n&lt;/div&gt;\n&lt;div class=\"review4\"&gt;\n    &lt;h1&gt;4&amp;ldquo;SIMPLY DELICIOUS&amp;rdquo;&lt;br&gt;\n    &lt;/h1&gt;\n    &lt;p class= \"Buzz\"&gt;- VanCity Buzz&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;span class=\"clickBtn\"&gt;click it For next&lt;/span&gt;\n&lt;span class=\"clickBtnBack\"&gt;click it For back&lt;/span&gt;\n&lt;script&gt;\nvar counter=1,counterBack=1;\n$(\".clickBtn\").click(function(){\nif(counter==1)\n{\n$(\".review1\").show();\n$(\".review2\").hide();\n$(\".review3\").hide();\n$(\".review4\").hide();\ncounter++;\ncounterBack=1;\n}\nelse if(counter==2)\n{\n$(\".review1\").hide();\n$(\".review2\").show();\n$(\".review3\").hide();\n$(\".review4\").hide();\ncounter++;\ncounterBack=4;\n}\nelse if(counter==3)\n{\n$(\".review1\").hide();\n$(\".review2\").hide();\n$(\".review3\").show();\n$(\".review4\").hide();\ncounter++;\ncounterBack=3;\n}\nelse\n{\n$(\".review1\").hide();\n$(\".review2\").hide();\n$(\".review3\").hide();\n$(\".review4\").show();\ncounter=1;\ncounterBack=2;\n}\n\n});\n//If back is clicked\n\n$(\".clickBtnBack\").click(function(){\nif(counterBack==1)\n{\n$(\".review1\").hide();\n$(\".review2\").hide();\n$(\".review3\").hide();\n$(\".review4\").show();\ncounterBack++;\ncounter=1;\n}\nelse if(counterBack==2)\n{\n$(\".review1\").hide();\n$(\".review2\").hide();\n$(\".review3\").show();\n$(\".review4\").hide();\ncounterBack++;\ncounter=4;\n}\nelse if(counterBack==3)\n{\n$(\".review1\").hide();\n$(\".review2\").show();\n$(\".review3\").hide();\n$(\".review4\").hide();\ncounterBack++;\ncounter=3;\n}\nelse\n{\n$(\".review1\").show();\n$(\".review2\").hide();\n$(\".review3\").hide();\n$(\".review4\").hide();\ncounterBack=1;\ncounter=2;\n}\n\n});\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The link  for JSFIDDLE\n<a href=\"http://jsfiddle.net/Su3pG/\" rel=\"nofollow\">http://jsfiddle.net/Su3pG/</a></p>\n\n<p>UPDATED FOR PREV,NEXT =>  <a href=\"http://jsfiddle.net/Su3pG/2/\" rel=\"nofollow\">http://jsfiddle.net/Su3pG/2/</a> </p>\n\n<p>Paste above HTML as it is in your machine(in New html file)</p>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to create a slider that allows users to move through reviews by clicking arrows. Which will go from review1 to review2 etc etc. This is what I have so far, I have set up my HTML with my reviews, and my CSS with hidden values for the time being. Any help would be greatly greatly appreciated</p>\n\n<pre><code>&lt;div class=\"review1\"&gt;\n    &lt;h1&gt;&amp;ldquo;THIS PLACE IS AMAZING&amp;rdquo;&lt;br&gt;&lt;/h1&gt;\n     &lt;p class= \"vancouver\"&gt;- The Georgia Straight&lt;/p&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"review2\"&gt;\n    &lt;h1&gt;&amp;ldquo;A TASTE OF ITALY IN VANCOUVER&amp;rdquo;&lt;br&gt;&lt;/h1&gt;\n     &lt;p class= \"Sun\"&gt;- The Vancouver Sun&lt;/p&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"review3\"&gt;\n    &lt;h1&gt;&amp;ldquo;THIS IS THE REAL DEAL&amp;rdquo;&lt;br&gt;&lt;/h1&gt;\n     &lt;p class= \"Yelp\"&gt;- Yelp.ca&lt;/p&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"review4\"&gt;\n    &lt;h1&gt;&amp;ldquo;SIMPLY DELICIOUS&amp;rdquo;&lt;br&gt;&lt;/h1&gt;\n     &lt;p class= \"Buzz\"&gt;- VanCity Buzz&lt;/p&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>and my CSS</p>\n\n<pre><code>.review1{\nfont-family: Clarendon;\nletter-spacing: .2em;\nfont-size: 22pt;\ntext-align: center;\npadding-top: 200px;\nwidth: 1024px;\n}\n\n.review2{\ndisplay: none;\nfont-family: Clarendon;\nletter-spacing: .2em;\nfont-size: 22pt;\ntext-align: center;\npadding-top: 200px;\n\n}\n\n.review3{\ndisplay: none;\nfont-family: Clarendon;\nletter-spacing: .2em;\nfont-size: 22pt;\ntext-align: center;\npadding-top: 200px;\n\n}\n\n.review4{\ndisplay: none;\nfont-family: Clarendon;\nletter-spacing: .2em;\nfont-size: 22pt;\ntext-align: center;\npadding-top: 200px;\n}\n</code></pre>\n",
            "last_activity_date": 1394437871,
            "question_id": 22293523,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "slider"
            ],
            "title": "Review slider using CSS, HTML and/or Jquery or Java"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>See <a href=\"https://github.com/ajaxorg/ace/blob/9cbcfb35d3/lib/ace/edit_session.js#L888\">https://github.com/ajaxorg/ace/blob/9cbcfb35d3/lib/ace/edit_session.js#L888</a></p>\n\n<p><code>setMode</code> caches modes, unless they have options\nso you can call</p>\n\n<pre><code>session.setMode({\n   path: \"ace/mode/python\",\n   v: Date.now() \n})\n</code></pre>\n\n<p>to force it to create a new mode.</p>\n\n<p>Another way is to do</p>\n\n<pre><code>var DynHighlightRules = function() {\n   // add function to change keywords\n   this.setKeywords = function(kwMap) {\n       this.keywordRule.onMatch = this.createKeywordMapper(kwMap, \"identifier\")\n   }\n   this.keywordRule = {\n       regex : \"\\\\w+\",\n       onMatch : function() {return \"text\"}\n   }\n\n   this.$rules = {\n        \"start\" : [\n            {\n                token: \"string\",\n                start: '\"', \n                end: '\"',\n                next: [{ token : \"language.escape\", regex : /\\\\[tn\"\\\\]/}]\n            },\n            this.keywordRule\n        ]\n   };\n   this.normalizeRules()\n};\n</code></pre>\n\n<p>and then whenever highlight rules change do</p>\n\n<pre><code>// update keywords\neditor.session.$mode.$highlightRules.setKeywords({\"keyword\": \"foo|bar|baz\"})\n// force rehighlight whole document\neditor.session.bgTokenizer.start(0)\n</code></pre>\n\n<p>see <a href=\"http://jsbin.com/ojijeb/445/edit\">http://jsbin.com/ojijeb/445/edit</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>Totally new to ace editor dev, to dynamically add additional rules to a mode file for syntax highlighting I'm doing an ajax call that sets a global variable that is available inside the mode file to process.</p>\n\n<p>Here is the setup and initial ajax call:</p>\n\n<pre><code>var editor = ace.edit(\"editor\");\n\n$.ajax({\n  url: \"json-mode-rules.php\",\n  dataType: \"json\"\n}).done(function(data) {\n    window.myModeRules=data; // (\"foo\",\"bar\",\"etc\")\n    editor.getSession().setMode(\"ace/mode/python\");\n});\n</code></pre>\n\n<p>The mode file is patched with the following:</p>\n\n<pre><code>// keywords has already been initialised as an array\n// e.g. var keywords = (\"and|as|assert...etc\")\nvar extraRules=window.codebenderModeLibrary[\"myModeRules\"].join(\"|\");\nkeywords=(keywords[0]+\"|\"+ extraRules);\n</code></pre>\n\n<p>When the page is loaded initallly the ace editor gets all the keywords to syntax highlight. This works great.</p>\n\n<p>The issue is that we have the rules changing when certain events occur and would like the ace editor to refresh its syntax rules.</p>\n\n<p>Doing the ajax call again and calling setMode does nothing - this is due to require js not reloading the file.</p>\n\n<p>I have posted an issue on GitHub without a resolution yet:</p>\n\n<p><a href=\"https://github.com/ajaxorg/ace/issues/1835\" rel=\"nofollow\">https://github.com/ajaxorg/ace/issues/1835</a></p>\n\n<blockquote>\n  <p>\"If you really want to keep global variable, you can wrap everything\n  in a function, call that function to get updated Mode constructor, and\n  then call setMode(new Mode).\"</p>\n</blockquote>\n\n<p>I don't know how to do that and any help would be appreciated.</p>\n\n<p>Anyone with techniques on how to dynamically update ace editor syntax highlighting rules?</p>\n",
            "last_activity_date": 1393946571,
            "question_id": 22166784,
            "score": 1,
            "tags": [
                "javascript",
                "requirejs",
                "syntax-highlighting",
                "ace-editor"
            ],
            "title": "Dynamically update syntax highlighting mode rules for the Ace Editor"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>javascript Date method, getDay() will return 0 for Sunday, 1 for Monday, etc.</p>\n\n<p>You should be able to use the date objects and check for the current day of the week and exclude them from the count for 5 (Friday) and 6 (Saturday).</p>\n\n<p><a href=\"http://www.w3schools.com/jsref/jsref_getday.asp\" rel=\"nofollow\">http://www.w3schools.com/jsref/jsref_getday.asp</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>// Count days from d0 to d1 inclusive, excluding Fridays and Saturdays\nfunction calculateDays( d0, d1 )\n{\n    var ndays = 1 + Math.round((d1.getTime()-d0.getTime())/(24*3600*1000));\n    var nsaturdays = Math.floor((ndays + d0.getDay()) / 7);\n    return ndays - 2*nsaturdays + (d0.getDay()==6) - (d1.getDay()==5);\n}\n</code></pre>\n\n<p>where <code>d0</code> and <code>d1</code> are the start and end <code>Date</code> objects (with same hour of day values).</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I have two datepicker from which I can calculate the number of day without counting Saturday and Sunday. But I want to do this for Friday and Saturday. I have tried some different ways but failed. It was easy for me to handle number of day excluding Saturday and Sunday but not  for Friday and Saturday Following is my javascript code -</p>\n\n<pre><code>$(function() {\n    $( \"#startDate\" ).datepicker({\n        onSelect: calculateDays});\n    });\n\n    $(function() {\n        $( \"#endDate\" ).datepicker({\n            onSelect: calculateDays});\n        });\n\n        function calculateDays(startDate, endDate) {\n            var form = this.form\n\n            var startDate = document.getElementById(\"startDate\").value;\n            var startDate = new Date(startDate);\n\n            var endDate = document.getElementById(\"endDate\").value;\n            var endDate = new Date(endDate);\n\n            startDate.setHours(0,0,0,1); // Start just after midnight\n            endDate.setHours(23,59,59,999); // End just before midnight\n\n            var oneDay = 24*60*60*1000;\n            var diff = endDate - startDate; // Milliseconds between datetime objects\n            var days = Math.ceil(diff / oneDay);\n\n            var weeks = Math.floor(days / 7);\n            var days = days - (weeks * 2);\n\n            // Handle special cases\n            var startDay = startDate.getDay();\n            var endDay = endDate.getDay();\n\n            // Remove weekend not previously removed.\n            if (startDay - endDay &gt; 1)\n                days = days - 2;\n\n            // Remove start day if span starts on Sunday but ends before Saturday\n            if (startDay == 0 &amp;&amp; endDay != 6)\n                days = days - 1\n\n            // Remove end day if span ends on Saturday but starts after Sunday\n            if (endDay == 6 &amp;&amp; startDay != 0)\n                days = days - 1\n\n            if (days)\n                document.getElementById(\"result\").innerHTML=days;\n        }\n</code></pre>\n\n<p>And my HTML is:</p>\n\n<pre><code>&lt;form id=\"dateDifference\" style=\"width:200px;\"&gt;\n    &lt;input name=\"startDate\" id=\"startDate\" value=\"\" &gt;\n    &lt;input name=\"endDate\" id=\"endDate\" value=\"\" &gt;\n&lt;/form&gt;\n&lt;span id=\"result\"&gt;&lt;/span&gt;\n</code></pre>\n",
            "last_activity_date": 1393273767,
            "question_id": 21997637,
            "score": 1,
            "tags": [
                "javascript",
                "datepicker"
            ],
            "title": "Getting number of working days with javascript and jQuery UI datepicker"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>First thing you need to do is create index on the <code>revision</code> field.</p>\n\n<p>Then you need a search function which will use that index and open the index with inverse order of the objects. Then the first object will be the object you are looking for.</p>\n\n<pre><code>var index = objectStore.index('revision');\nindex.openCursor(null, 'prev'); \n</code></pre>\n\n<p>The null states that you are searching for all values not a specific one, and the second parameter is the direction of the search.</p>\n\n<p>Here is the sample code:</p>\n\n<pre><code>function getMaxNumber (callback) {\n    var openReq = indexedDB.open(baseName);\n    openReq.onsuccess = function() {\n        var db = openReq.result;\n        var transaction = db.transaction(objectStoreName, 'readonly');\n        var objectStore = transaction.objectStore(objectStoreName);\n        var index = objectStore.index('revision');\n        var openCursorRequest = index.openCursor(null, 'prev');\n        var maxRevisionObject = null;\n\n        openCursorRequest.onsuccess = function (event) {\n            if (event.target.result) {\n                maxRevisionObject = event.target.result.value; //the object with max revision\n            }\n        };\n        transaction.oncomplete = function (event) {\n            db.close();\n            if(callback) //you'll need a calback function to return to your code\n                callback(maxRevisionObject);\n        };\n    }\n}\n</code></pre>\n\n<p>Since the <code>IndexedDB</code> api is async you would need a callback function to return the value to your code.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>Suppose I have an <code>IndexedDB</code> collection with name <code>items</code>. All items have fields:</p>\n\n<ul>\n<li>id</li>\n<li>name</li>\n<li>revision</li>\n</ul>\n\n<p><code>revision</code> field is a number field. I need to retrieve an item with max value of revision (or at least just retrive max revision value). What is the best way to do it?</p>\n",
            "last_activity_date": 1392919132,
            "question_id": 21909932,
            "score": 1,
            "tags": [
                "javascript",
                "indexeddb"
            ],
            "title": "IndexedDB: Retrieve item with max value"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>One reason for this problem are undefined variables <code>lat</code> and <code>lng</code> at the beginning of <code>initialize()</code> method:</p>\n\n<pre><code>function initialize() {\n\n    latlng = new google.maps.LatLng(lat, lng);\n\n    mapOptions = {\n    ...\n</code></pre>\n\n<p><code>lat</code> and <code>lng</code> have to be defined to some values. For example:</p>\n\n<pre><code>function initialize() {\n    lat = 47.89;\n    lng = 13.45;\n\n    latlng = new google.maps.LatLng(lat, lng);\n    ...\n</code></pre>\n\n<p>The other problem is that at the end of code there is a call:</p>\n\n<pre><code>google.maps.event.addDomListener(window, 'load', initialize);\n</code></pre>\n\n<p>which should be commented out.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I'm having a problem finishing off my script, it works using map.setCenter to reposition on each marker, but I would like to pan to each new marker. However, when I use the panTo function the markers don't appear, although the map does show and pans around to where each new marker would be. Firebug gives me a \"too much recursion\" error too. Can anyone help?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n    var map = {};\n    var mapOptions;\n    var infowindow;\n    var marker;\n    var lat, lng;\n    var latlng;\n    var gender;\n    var content;\n    var i;\n    var infos = [];\n\n    $(document).ready(function() {\n        initialize();\n    });\n\n    function initialize() {\n\n      latlng = new google.maps.LatLng(lat, lng);\n\n      mapOptions = {\n        zoom: 7,\n        center: latlng,\n      }\n\n      map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);\n\n      readJSONData();\n    }\n\n    function readJSONData()\n    {\n\n        var url = \"events.json\";\n        var data;\n\n        $.ajax({\n            async: false,\n            cache: false,\n            type: \"GET\",\n            dataType: \"json\",\n            url: url,\n            success: function(data) {\n\n                i = Math.floor(Math.random() * data.events.length);\n\n                if(data.events[i].gender == \"Male\") {\n                    gender = 'male.png';\n                } \n                if(data.events[i].gender == \"Female\"){\n                    gender = 'female.png';\n                }\n\n                lat = data.events[i].lat;\n                lng = data.events[i].lng;\n                latlng = new google.maps.LatLng(lat, lng);\n\n                content =\n                '&lt;div class=\"noscrollbar\"&gt;'+\n                '&lt;div id=\"content\"&gt;'+\n                  '&lt;div class=\"inner\"&gt;'+\n\n                    '&lt;div class=\"inner-left\"&gt;'+\n                        '&lt;span class=\"span-padding\"&gt;&lt;i class=\"fa fa-map-marker fa-lg\"&gt;&lt;/i&gt;&lt;/span&gt;&lt;br /&gt;'+\n                        '&lt;span class=\"span-padding\"&gt;&lt;i class=\"fa fa-mobile fa-lg\"&gt;&lt;/i&gt;&lt;/span&gt;&lt;br /&gt;'+\n                        '&lt;span class=\"span-padding\"&gt;&lt;i class=\"fa fa-music fa-lg\"&gt;&lt;/i&gt;&lt;/span&gt;&lt;br /&gt;'+\n                        '&lt;span class=\"span-padding\"&gt;&lt;i class=\"fa fa-clock-o fa-lg\"&gt;&lt;/i&gt;&lt;/span&gt;&lt;br /&gt;'+\n                    '&lt;/div&gt;'+\n\n                    '&lt;div class=\"inner-right\"&gt;'+\n                        '&lt;span class=\"span-padding\"&gt;'+data.events[i].lat+', '+data.events[i].lng+'&lt;/span&gt;&lt;br /&gt;'+\n                        '&lt;span class=\"span-padding\"&gt;'+data.events[i].network+'&lt;/span&gt;&lt;br /&gt;'+\n                        '&lt;span class=\"span-padding\"&gt;'+data.events[i].tone+'&lt;/span&gt;&lt;br /&gt;'+\n                        '&lt;span class=\"span-padding\"&gt;'+data.events[i].datetime+'&lt;/span&gt;&lt;br /&gt;'+\n                    '&lt;/div&gt;'+\n\n                  '&lt;/div&gt;'+\n                '&lt;/div&gt;'+\n                '&lt;/div&gt;';\n\n                marker = new google.maps.Marker({\n                      position: latlng,\n                      map: map,\n                      icon: gender\n                  });\n\n                infowindow = new google.maps.InfoWindow();\n\n                map.panTo(marker.getPosition())\n\n                google.maps.event.addListener(marker,'mouseover', (function(marker,content,infowindow){ \n                    return function() {\n\n                        /* close the previous info-window */\n                       closeInfos();\n\n                       infowindow.setContent(content);\n                       infowindow.open(map,marker);\n\n\n                        /* keep the handle, in order to close it on next click event */\n                        infos[0]=infowindow;\n\n                    };\n                })(marker,content,infowindow));\n\n                google.maps.event.addListener(marker,'mouseout', (function(marker,content,infowindow){ \n                    return function() {\n\n                       closeInfos();\n\n                    };\n                })(marker,content,infowindow));\n\n\n\n                function closeInfos(){\n\n                   if(infos.length &gt; 0){\n\n                      /* detach the info-window from the marker ... undocumented in the API docs */\n                      infos[0].set(\"marker\", null);\n\n                      /* and close it */\n                      infos[0].close();\n\n                      /* blank the array */\n                      infos.length = 0;\n                   }\n                }\n            }\n        });\n\n    }\n\n    google.maps.event.addDomListener(window, 'load', initialize);\n\n    window.setInterval(function(){\n      readJSONData();\n    }, 5000);\n\n&lt;/script&gt;\n</code></pre>\n",
            "last_activity_date": 1392823274,
            "question_id": 21881114,
            "score": 1,
            "tags": [
                "javascript",
                "google-maps-api-3",
                "recursion"
            ],
            "title": "Google Maps Api v3 - map.panTo causing &quot;too much recursion&quot;"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The idea is simple:</p>\n\n<ul>\n<li>Use <code>background.js</code> to listen for url changes to a specific youtube tab using <code>chrome.tabs.onUpdated</code></li>\n<li>Once tab change is detected, send the new URL to the content-script running in that tab</li>\n</ul>\n\n<p>The background page listens for URL changes to <strong>other</strong> tabs also but I'm pretty sure you can figure out how to fix that.</p>\n\n<p><em><strong>manifest.json</em></strong></p>\n\n<pre><code>{\n    \"manifest_version\": 2,\n    \"name\": \"Tab url change detection\",\n    \"version\": \"1.0\",\n    \"background\": {\n        \"persistent\":true,\n        \"page\":\"bg.html\"\n    },\n    \"content_scripts\": [{\n            \"matches\": [\"http://www.youtube.com/*\"],\n            \"js\": [\"app.js\"]\n        }\n    ],\n    \"permissions\": [\n        \"tabs\",\n        \"http://www.youtube.com/*\"\n    ]\n}\n</code></pre>\n\n<p><em><strong>background.html</em></strong></p>\n\n<pre><code>&lt;script src=\"background.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p><em><strong>background.js</em></strong></p>\n\n<pre><code>//Listen for when a Tab changes state\nchrome.tabs.onUpdated.addListener(function(tabId, changeInfo, tab){\n    if(changeInfo &amp;&amp; changeInfo.status == \"complete\"){\n        console.log(\"Tab updated: \" + tab.url);\n\n        chrome.tabs.sendMessage(tabId, {data: tab}, function(response) {\n            console.log(response);\n        });\n\n    }\n});\n</code></pre>\n\n<p><em><strong>app.js</em></strong></p>\n\n<pre><code>chrome.runtime.onMessage.addListener(function(request, sender, sendResponse) {\n    //here we get the new \n    console.log(\"URL CHANGED: \" + request.data.url);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am building an extension (some injected js) that adds some buttons to a youtube page, which works fine. My issue is that when a user clicks on another video (say in the right hand side list), the next video is loaded without an actual page reload. Is there any way to detect this change so that I can rerun my code?</p>\n\n<p>I have already tried things like binding to the <code>hashchange</code> event, to no avail.</p>\n",
            "last_activity_date": 1392143468,
            "question_id": 21657319,
            "score": 1,
            "tags": [
                "javascript",
                "google-chrome-extension",
                "youtube"
            ],
            "title": "Detect Youtube video change with injected javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Short answer: No they are asynchronous.</p>\n\n<p>Long answer:</p>\n\n<p>As soon as you do anything asynchronous, inside the parralel callbacks, you can expect <code>Trulu</code> to get called immediatly after. When you call <code>cb</code>, it announce that the function returned. When all function have returned it will call the last callback.</p>\n\n<p>So for that reason, if you do a <code>setTimeout</code> without a time and each functions are returning without anything asynchrone, they might behave as synchronous because Javascript only runs one unit at a time. And since they are probably started in order, it will look as if it run synchronously.</p>\n\n<p>Take this as an example:</p>\n\n<pre><code>var looping = true;\n\nsetTimeout(function () {looping = false;}, 1000);\n\nwhile(looping) {\n   ...\n}\n</code></pre>\n\n<p>This code will never leave as setTimeout will never get triggered. In <code>async.parralel</code>, I'm almost certain that each callbacks are going to get executed after the current unit is finished running. Which means, that you'll always have your <code>console.log(\"Trulu\")</code> executed before any of the callbacks inside <code>async.parralel</code>.</p>\n\n<p><strong>Note</strong></p>\n\n<p>If you're looking for to do synchronous things, you shouldn't use a module called async. It's quite obvious that it's going to be <em>asynchronous</em>.</p>\n\n<p>That said, I feel that there is a big misunderstanding with the term <code>async</code>. Asynchronous isn't a synonym for parralelism or having things simultaneous. Asynchrone, just means \"without order in time\". It could be simultaneous but it could be also sequential. To run asynchronous code on Javascript, you have to rely on an event loop.</p>\n\n<p>The event loop can only process one event at a time, <code>setTimeout</code> is just putting the event on the loop. As soon as an event handler leaves, it gets to the next event and so on.</p>\n\n<p>In your case, since you're not calling <code>cb</code> inside an event handler, they will be called synchronously as they never leave the current <code>event</code>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<blockquote>\n  <p>Can I be sure that the Trulu log call will never be called before the call to async.parallel is finished?</p>\n</blockquote>\n\n<p>The call itself, yes.</p>\n\n<blockquote>\n  <p>In other words, are all the functions</p>\n</blockquote>\n\n<p>I guess so, though the docs don't mention it. I would however expect no changes, since that is likely to break existing code.</p>\n\n<blockquote>\n  <p>and the final callback called before the Trulu log is called for sure?</p>\n</blockquote>\n\n<p>No. You don't know the functions, and when they are asynchronous then the final callback will execute after <code>Trulu</code>. If all the functions are synchronous, you shouldn't use <code>async</code> anyway. Indeed, while async.js does use <code>setImmediate</code> <a href=\"https://github.com/caolan/async/blob/master/lib/async.js\" rel=\"nofollow\">internally</a> so some callbacks (unfortunately hard to identify) will be \"asynchronified\", yet the maintainer <a href=\"https://github.com/caolan/async/pull/296#issuecomment-33143135\" rel=\"nofollow\">stated</a>:</p>\n\n<blockquote>\n  <p><em>Yes, making functions asynchronous is left up to the developer</em></p>\n</blockquote>\n\n<p>If you want to ensure that callbacks are always called asynchronously (after <code>Trulu</code>), even when the functions are synchronous, you might consider using <a href=\"http://promisesaplus.com/\" rel=\"nofollow\">A+ compliant Promises</a>.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>Since you're using async already, async has a <code>series</code> call. I think this may be what you're looking for, but a warning, this is ugly (because in my opinion async.js inherently makes for a mess):</p>\n\n<pre><code>async.series([\n  parallel,\n  function(callBack){ console.log(\"Trulu\"); callBack(null); }\n]);\n\nfunction parallel(callBack){\n\n  async.parallel([\n    function(cb){ print(1); cb(null); },\n    function(cb){ print(2); cb(null); },\n    function(cb){ print(3); cb(null); },\n    function(cb){ print(4); cb(null); },\n    function(cb){ print(5); cb(null); }\n  ],\n    function(err) {\n        if ( err ) {\n            console.error(err);\n            return;\n        }\n        console.log(\"Done!\");\n        callBack(null);\n    }\n  );\n}\n</code></pre>\n\n<p>Honestly, I think the async module in general is making javascript so much more complicated than it is natively. If you'd like an answer that shows how to do what you want to do without using the async module at all, please let me know!</p>\n\n<p>Another simpler solution would be to build that last call you want to execute after built into the callback of your <code>async.parallel</code>:</p>\n\n<pre><code>async.parallel([\n  function(cb){ print(1); cb(null); },\n  function(cb){ print(2); cb(null); },\n  function(cb){ print(3); cb(null); },\n  function(cb){ print(4); cb(null); },\n  function(cb){ print(5); cb(null); }\n],\n  function(err) {          \n      if ( err ) {\n          console.error(err);\n          return;\n      }\n      console.log(\"Done!\");          \n      console.log(\"Trulu\"); // Executes after all your \"parallel calls\" are done\n  }\n);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am taking a look at Node.js' <code>async</code> module to solve an issue. I have implemented a little test:</p>\n\n<pre><code>var async = require(\"async\");\n\nfunction print(val) {\n    console.log(val);\n}\n\nasync.parallel([\n    function(cb){ print(1); cb(null); },\n    function(cb){ print(2); cb(null); },\n    function(cb){ print(3); cb(null); },\n    function(cb){ print(4); cb(null); },\n    function(cb){ print(5); cb(null); }\n],\n    function(err) {\n        if ( err ) {\n            console.error(err);\n            return;\n        }\n        console.log(\"Done!\");\n    }\n);\n\nconsole.log(\"Trulu\");\n</code></pre>\n\n<p>Can I be sure that the Trulu log call will never be called before the call to <code>async.parallel</code> is finished? In other words, are all the functions and the final callback called before the Trulu log is called for sure?</p>\n",
            "last_activity_date": 1405787885,
            "question_id": 21631241,
            "score": 1,
            "tags": [
                "javascript",
                "node.js",
                "asynchronous",
                "async.js"
            ],
            "title": "Is a call to Node.js&#39; async.parallel() synchronous?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Here's an example of how to drag-draw an oval.</p>\n\n<p>Demo:  <a href=\"http://jsfiddle.net/m1erickson/3SFJy/\" rel=\"nofollow\">http://jsfiddle.net/m1erickson/3SFJy/</a></p>\n\n<p><img src=\"http://i.stack.imgur.com/wAW68.png\" alt=\"enter image description here\"></p>\n\n<p>Example code using 2 Bezier curves to drag-draw an oval:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;link rel=\"stylesheet\" type=\"text/css\" media=\"all\" href=\"css/reset.css\" /&gt; &lt;!-- reset css --&gt;\n&lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery.min.js\"&gt;&lt;/script&gt;\n\n&lt;style&gt;\nbody{ background-color: ivory; padding:0px;}\n#canvas{ border:1px solid blue; }\n&lt;/style&gt;\n\n&lt;script&gt;\n$(function(){\n\n    var canvas=document.getElementById(\"canvas\");\n    var ctx=canvas.getContext(\"2d\");\n    var canvasOffset=$(\"#canvas\").offset();\n    var offsetX=canvasOffset.left;\n    var offsetY=canvasOffset.top;\n    var startX;\n    var startY;\n    var isDown=false;\n\n    function drawOval(x,y){\n        ctx.clearRect(0,0,canvas.width,canvas.height);\n        ctx.beginPath();\n        ctx.moveTo(startX, startY + (y-startY)/2);\n        ctx.bezierCurveTo(startX, startY, x, startY, x, startY + (y-startY)/2);\n        ctx.bezierCurveTo(x, y, startX, y, startX, startY + (y-startY)/2);\n        ctx.closePath();\n        ctx.stroke();\n    }\n\n    function handleMouseDown(e){\n      e.preventDefault();\n      e.stopPropagation();\n      startX=parseInt(e.clientX-offsetX);\n      startY=parseInt(e.clientY-offsetY);\n      isDown=true;\n    }\n\n    function handleMouseUp(e){\n      if(!isDown){ return; }\n      e.preventDefault();\n      e.stopPropagation();\n      isDown=false;\n    }\n\n    function handleMouseOut(e){\n      if(!isDown){ return; }\n      e.preventDefault();\n      e.stopPropagation();\n      isDown=false;\n    }\n\n    function handleMouseMove(e){\n      if(!isDown){ return; }\n      e.preventDefault();\n      e.stopPropagation();\n      mouseX=parseInt(e.clientX-offsetX);\n      mouseY=parseInt(e.clientY-offsetY);\n      drawOval(mouseX,mouseY);\n    }\n\n    $(\"#canvas\").mousedown(function(e){handleMouseDown(e);});\n    $(\"#canvas\").mousemove(function(e){handleMouseMove(e);});\n    $(\"#canvas\").mouseup(function(e){handleMouseUp(e);});\n    $(\"#canvas\").mouseout(function(e){handleMouseOut(e);});\n\n}); // end $(function(){});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h4&gt;Drag to create a circle or oval&lt;/h4&gt;\n    &lt;canvas id=\"canvas\" width=300 height=300&gt;&lt;/canvas&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I would something similar as with markE's answer however, using Bezier curve will draw ellipses but it won't give you the exact radius that you probably would need.</p>\n\n<p>For that a function to draw a manual ellipse is needed, and it's rather simple -</p>\n\n<p>This function will take a corner start point and and end point and draw an ellipse <strong>exactly</strong> within that boundary:</p>\n\n<h1><a href=\"http://jsfiddle.net/AbdiasSoftware/37vge/\" rel=\"nofollow\">Live demo</a></h1>\n\n<p><img src=\"http://i.stack.imgur.com/fbnji.png\" alt=\"Snapshot from demo\"></p>\n\n<pre><code>function drawEllipse(x1, y1, x2, y2) {\n\n    var radiusX = (x2 - x1) * 0.5,   /// radius for x based on input\n        radiusY = (y2 - y1) * 0.5,   /// radius for y based on input\n        centerX = x1 + radiusX,      /// calc center\n        centerY = y1 + radiusY,\n        step = 0.01,                 /// resolution of ellipse\n        a = step,                    /// counter\n        pi2 = Math.PI * 2 - step;    /// end angle\n\n    /// start a new path\n    ctx.beginPath();\n\n    /// set start point at angle 0\n    ctx.moveTo(centerX + radiusX * Math.cos(0),\n               centerY + radiusY * Math.sin(0));\n\n    /// create the ellipse    \n    for(; a &lt; pi2; a += step) {\n        ctx.lineTo(centerX + radiusX * Math.cos(a),\n                   centerY + radiusY * Math.sin(a));\n    }\n\n    /// close it and stroke it for demo\n    ctx.closePath();\n    ctx.strokeStyle = '#000';\n    ctx.stroke();\n}\n</code></pre>\n\n<p>The demo marks the rectangle area too to show that the ellipse is exactly within it.</p>\n\n<h1>Draw</h1>\n\n<p>To handle mouse operation that will let you draw the ellipse you can do:</p>\n\n<pre><code>var canvas = document.getElementById('myCanvas'),\n    ctx = canvas.getContext('2d'),\n    w = canvas.width,\n    h = canvas.height,\n    x1,                 /// start points\n    y1,\n    isDown = false;     /// if mouse button is down\n\n/// handle mouse down    \ncanvas.onmousedown = function(e) {\n\n    /// get corrected mouse position and store as first point\n    var rect = canvas.getBoundingClientRect();\n    x1 = e.clientX - rect.left;\n    y1 = e.clientY - rect.top;\n    isDown = true;\n}\n\n/// clear isDown flag to stop drawing\ncanvas.onmouseup = function() {\n    isDown = false;\n}\n\n/// draw ellipse from start point\ncanvas.onmousemove = function(e) {\n\n    if (!isDown) return;\n\n    var rect = canvas.getBoundingClientRect(),\n        x2 = e.clientX - rect.left,\n        y2 = e.clientY - rect.top;\n\n    /// clear canvas\n    ctx.clearRect(0, 0, w, h);\n\n    /// draw ellipse\n    drawEllipse(x1, y1, x2, y2);\n}\n</code></pre>\n\n<p>A tip can be to create a top canvas on top of your main canvas and do the drawing itself there. When mouse button is released then transfer the drawing to your main canvas. This way you don't have to redraw everything when drawing a new shape.</p>\n\n<p>Hope this helps!</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want something like ellipse option in paint for drawing on my canvas. I have achieved this partially. The problem is i am not able to get radius of circle, currently i have hard coded it to 15. Also i want to draw ellipse(same as paint) not exact circle.\nThis is my code for drawing circle on canvas using mouse events.Please help me with code to achieve my above mentioned requirements. </p>\n\n<pre><code> function tool_circle() {\n        var tool = this;\n        this.started = false;\n\n        this.mousedown = function (ev) {\n            tool.started = true;\n            tool.x0 = ev._x;\n            tool.y0 = ev._y;\n        };\n\n        this.mousemove = function (ev) {\n            if (!tool.started) {\n                return;\n            }\n\n            context.fillStyle = 'red';\n\n            var distance = Math.sqrt(Math.pow(tool.x0 - ev._x, 2) + Math.pow(tool.y0 - ev._y));\n            context.beginPath();\n\n            context.arc(tool.x0, tool.y0,15, 0, Math.PI * 2, false);\n            context.stroke();\n            context.fill();\n        };\n\n        this.mouseup = function (ev) {\n            if (tool.started) {\n                tool.mousemove(ev);\n                tool.started = false;\n                img_update();\n            }\n        };\n    }\n</code></pre>\n",
            "last_activity_date": 1391674311,
            "question_id": 21594756,
            "score": 1,
            "tags": [
                "javascript",
                "canvas"
            ],
            "title": "Drawing circle/ellipse on HTML5 canvas using mouse events"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<h2>Working with dates from HTML forms</h2>\n\n<p>Working dates from plain text inputs  is not an easy problem, because of the wide range of different notations, and paradoxically, the similarities between them.</p>\n\n<p>For instance, you can tell whether this is DD/MM/YYYY:</p>\n\n<pre><code>dateString = \"24/03/1983\";\n</code></pre>\n\n<p>But how about this one? Is it DD/MM/YYYY or MM/DD/YYYY:</p>\n\n<pre><code>dateString = \"11/10/1998\";\n</code></pre>\n\n<p>Let me tell you: <strong>there is no way to guess</strong>. And you can rest assured that even if you print a notice just above your field, be it in bold red blinking 28px Comic Sans MS, the user will enter the date in the format he is used to. And you can't even blame him, because you would do the same. It's just <a href=\"http://en.wikipedia.org/wiki/Operant_conditioning\" rel=\"nofollow\">operant conditioning behavior</a>.</p>\n\n<p>That's why, throughout the web, most date inputs are made through 3 drop-down lists: day, month, year.</p>\n\n<h2>Telling if the input is in the past or not</h2>\n\n<p>Once you do that, and assuming that your values are:</p>\n\n<pre><code>var day = document.bookingsform.date.day.value\nvar month = document.bookingsform.date.month.value\nvar year = document.bookingsform.date.year.value\n</code></pre>\n\n<p>You are now able to perform your test:</p>\n\n<pre><code>inputTime = new Date(year + \"/\" + month + \"/\" + day).getTime();\n\n// then you can do this:\n\ncurrentDate = new Date;\ncurrentDate.setHours(0);\ncurrentDate.setMinutes(0);\ncurrentDate.setSeconds(0);\n\ncurrentTime = currentDate.getTime();\n\nnotInPast = (inputTime - currentTime &lt; 1000);\n\n// or this:\n\ncurrentTime = Math.round((new Date).getTime() / 86400000) * 86400000;\n\nnotInPast = (inputTime &gt;= currentTime);\n</code></pre>\n\n<p>The part with <code>setHours()</code> etc is necessary because when you start a new <code>Date</code> object given DD/MM/YYYY, JavaScript will assume that the time for this <code>Date</code> is 00:00. Whereas the time for the current <code>Date</code> (obtained with <code>new Date</code>) is the current time.</p>\n\n<p>So if you don't perform this kind of correction, you form will always tell that today's DD/MM/YYYY is in the past. Which you don't want.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This is a function to tell, if the date you are entering is future date or not.</p>\n\n<p><strong>JS Function and use example:</strong></p>\n\n<pre><code>function isFutureDate(idate){\n    var today = new Date().getTime(),\n        idate = idate.split(\"/\");\n\n    idate = new Date(idate[2], idate[1] - 1, idate[0]).getTime();\n    return (today - idate) &lt; 0 ? true : false;\n}\n\n// Demo example\nconsole.log(isFutureDate(\"02/03/2014\")); // true\nconsole.log(isFutureDate(\"01/01/2014\")); // false\n</code></pre>\n\n<p><strong>Here is implementation for you:</strong></p>\n\n<pre><code>function checkDate(){\n    var idate = document.getElementById(\"date\"),\n        resultDiv = document.getElementById(\"datewarn\"),\n        dateReg = /(0[1-9]|[12][0-9]|3[01])[\\/](0[1-9]|1[012])[\\/]201[4-9]|20[2-9][0-9]/;\n\n    if(dateReg.test(idate.value)){\n        if(isFutureDate(idate.value)){\n            resultDiv.innerHTML = \"Entered date is a future date\";\n            resultDiv.style.color = \"red\";\n        } else {\n            resultDiv.innerHTML = \"It's a valid date\";\n            resultDiv.style.color = \"green\";\n        }\n    } else {\n        resultDiv.innerHTML = \"Invalid date!\";\n        resultDiv.style.color = \"red\";\n    }\n}\n</code></pre>\n\n<p><strong>test it with this HTML:</strong></p>\n\n<pre><code>&lt;p&gt;\n    &lt;label&gt;Date:&lt;/label&gt;\n    &lt;br /&gt;\n    &lt;input type=\"text\" name=\"date\" id=\"date\" placeholder=\"DD/MM/YYYY\" onkeyup=\"checkDate()\" /&gt;\n&lt;/p&gt;\n&lt;div id=\"datewarn\"&gt;&lt;/div&gt; \n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/ashishanexpert/LaL9W/5/\" rel=\"nofollow\"><kbd>Working Demo</kbd></a>: <a href=\"http://jsfiddle.net/ashishanexpert/LaL9W/5/\" rel=\"nofollow\">http://jsfiddle.net/ashishanexpert/LaL9W/5/</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I'm trying to validate a date input box so that it only accepts the current or future dates. So far I've been struggling to find answers which definitively does this.</p>\n\n<p>Here is the HTML for the input box, excluding the <code>&lt;form&gt;</code> tags:</p>\n\n<pre><code>&lt;p&gt;\n   &lt;label&gt;Date:&lt;/label&gt;\n   &lt;br&gt;\n   &lt;input type=\"number\" name=\"date\" placeholder=\"DD/MM/YYYY\" onchange=\"checkDate()\"&gt;\n&lt;/p&gt;\n&lt;div id=\"datewarn\"&gt;&lt;/div&gt; \n</code></pre>\n\n<p>Here is JavaScript code that I'm using which validates whether the input is in the format DD/MM/YYYY and that the numbers entered in are valid calender numbers, but this still accepts past dates.</p>\n\n<pre><code>function checkDate() {\n    var valid = true;\n    var redate = /(0[1-9]|[12][0-9]|3[01])[\\/](0[1-9]|1[012])[\\/](19|20)\\d\\d/;\n\n    if (!redate.test(document.bookingsform.date.value)) {\n        document.bookingsform.date.style.border = \"1px solid red\";\n        document.getElementById(\"datewarn\").innerHTML = \"Enter a date in the format DD/MM/YYYY.\";\n        document.bookingsform.date.title = \"Please enter a date in the format DD/MM/YYYY.\";\n        document.getElementById(\"datewarn\").style.display = \"block\";\n        valid = false;\n    } else {\n        document.bookingsform.date.style.border = \"1px inset #EBE9ED\";\n        document.bookingsform.date.style.borderRadius = \"2px\";\n        document.getElementById(\"datewarn\").style.display = \"none\";\n    }\n}\n</code></pre>\n\n<p>The research that I have done suggests using the date.js library? Is this an inbuilt library or this something I have to get?</p>\n\n<p>This can only be JavaScript, no jQuery.</p>\n\n<p>EDIT: Sorry, forgot to add the RegEx variable.</p>\n",
            "last_activity_date": 1391279746,
            "question_id": 21499843,
            "score": 1,
            "tags": [
                "javascript",
                "validation",
                "date"
            ],
            "title": "JavaScript - Validate date input so it&#39;s only either current or the future"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Do an AJAX request of your JSON file, then use JSON.parse to add the result into treeData.</p>\n\n<pre><code>var treeData = JSON.parse(ajaxFunction('jsonfile.php'));\n</code></pre>\n\n<p>Something to that effect... (it will vary depending on your AJAX function)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Parse the content of the file like this:</p>\n\n<pre><code>var treeData = JSON.parse(fileContent);\n</code></pre>\n\n<p>You don't describe how you obtain the file but you can load it off of your server using a simple XMLHttpRequest. Here is a useful resource for that: \n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest\" rel=\"nofollow\">Using XMLHttpRequest</a></p>\n\n<p>Excerpt from the link with modifications:</p>\n\n<pre><code>var treeData;\n\nvar oReq = new XMLHttpRequest();\noReq.onload = reqListener;\noReq.open(\"get\", \"yourFile.txt\", true);\noReq.send();\n\nfunction reqListener(e) {\n    treeData = JSON.parse(this.responseText);\n}\n</code></pre>\n\n<p><strong>Update</strong> based on comments below:</p>\n\n<p>You cannot <em>load</em> a file with <code>JSON.parse()</code>. This function is only able to convert an existing string into an object (if content is in valid JSON format).</p>\n\n<p>You need to:</p>\n\n<ol>\n<li><p>Load the file from your server to a variable using for example AJAX (as shown). You cannot use a local file path due to security reasons. Set up a local server to run your page in such as the free light-weight <a href=\"https://code.google.com/p/mongoose/\" rel=\"nofollow\">Mongoose web server</a>. This will let you point the root to your local folder, then load your page using <code>http://localhost/</code></p></li>\n<li><p>When file has been loaded you can pass the content to the <code>JSON.parse()</code> function. The example above show the whole process. Just replace links with actual ones in your code.</p></li>\n</ol>\n\n<p>(PS: if you wanted a jQuery solution remember to tag your question with the jQuery tag)</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>How about <code>$.getJSON</code></p>\n\n<pre><code>$.getJSON( \"yourjsonfile.json\", function( data ) {  \n    console.log( \"JSON Data: \" + data);\n    $.each( data, function( key, val ) {\n        console.log(key + \"value:: \" + val );\n    });\n});\n</code></pre>\n\n<p>Ref: <a href=\"http://api.jquery.com/jquery.getjson/\" rel=\"nofollow\">http://api.jquery.com/jquery.getjson/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have JSON file</p>\n\n<pre><code>{\"name\" : \"Conrad\", \"info\" : \"tst\", \"children\" : [\n        {\"name\" : \"Rick\" },\n        {\"name\" : \"Lynn\" },\n        {\"name\" : \"John\", \"children\": [\n                {\"name\" : \"Dave\", \"children\": [\n                {\"name\" : \"Dave\" },\n                {\"name\" : \"Chris\" }\n\n         ] },\n                {\"name\" : \"Chris\" }\n         ]}\n  ]};\n</code></pre>\n\n<p>and I have javascript file which have </p>\n\n<pre><code>var treeData ={};\n</code></pre>\n\n<p>I want to import JSON file to javascript and have result like this in javascript file</p>\n\n<pre><code>var treeData ={\"name\" : \"Conrad\", \"info\" : \"tst\", \"children\" : [\n        {\"name\" : \"Rick\" },\n        {\"name\" : \"Lynn\" },\n        {\"name\" : \"John\", \"children\": [\n                {\"name\" : \"Dave\", \"children\": [\n                {\"name\" : \"Dave\" },\n                {\"name\" : \"Chris\" }\n\n         ] },\n                {\"name\" : \"Chris\" }\n         ]}\n  ]};\n</code></pre>\n\n<p>I have tried alot of code but it doesn't work.</p>\n\n<p>thanks for help</p>\n",
            "last_activity_date": 1391069202,
            "question_id": 21450227,
            "score": 1,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "json"
            ],
            "title": "Import JSON file to javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can certainly turn them into objects, for example:</p>\n\n<pre><code>function Rect(x, y, w, h, dltX, dltY, color) {\n\n    var me = this;\n\n    this.x = x;\n    this.y = y;\n    this.width = w;\n    this.height = h;\n\n    this.deltaX = dltX || 0;       /// and deltas can be optional\n    this.deltaY = dltY || 0;\n    this.color = color || '#000';  /// color is optional\n\n    this.update = function(ctx) {\n        me.x += me.deltaX;\n        me.y += me.deltaY;\n\n        ctx.fillStyle = me.color;\n        ctx.fillRect(me.x, me.y, me.width, me.height);\n    }    \n}\n</code></pre>\n\n<p>The <code>deltaX</code> and <code>deltaY</code> are how much you want to move the rectangle for each update. If you set these to for example 1 then <code>x</code> and <code>y</code> will be increased with 1 each time <code>update()</code> is called.</p>\n\n<p>Using deltas makes it easy to create bounces (see demo below) by simply reversing the delta value (ie. <code>delta = -delta</code>) as well as things such as acceleration, variate speed, you can feed them through trigonometric functions to have the object move in a specific angle and so forth.</p>\n\n<p>You can used fixed values if you desire but you will discover that deltas are beneficial in the long run (ref. comment: it's actually a very classic method used in for instance the first Pong games :-) ).</p>\n\n<h1><a href=\"http://jsfiddle.net/AbdiasSoftware/Ybrtc/\" rel=\"nofollow\">Online demo here</a></h1>\n\n<p>Now that we have defined the object we can simply create instances of it and store them in an array:</p>\n\n<pre><code>var rects = [\n    new Rect(10, 10, 100, 100, 1, -2),\n    new Rect(100, 1, 50, 50, 2, 1, '#f00'),\n    ...\n]\n</code></pre>\n\n<p>From here it's simply a matter of iterating the array to update each object:</p>\n\n<pre><code>function move() {\n    ctx.clearRect(0, 0, width, height);\n\n    for(var i = 0, r; r = rects[i]; i++) {\n        /// check any conditions here\n        r.update(ctx);\n    }\n    requestAnimationFrame(move);\n}\n\nrequestAnimationFrame(move); /// start loop\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Here's a slightly simpler version, though in the long term I'd recommend Ken's. In mine the rects are still just property bags, with no behavior on their own.</p>\n\n<pre><code>var canvas = document.getElementById('canvas'),\n    c = canvas.getContext('2d'),\n    rects = [{x:0, y:15, w:5, h:5, vx:0, vy:1},\n             {x:50, y:5, w:15, h:15, vx:1, vy:0}];\n\nfunction move() {\n    c.clearRect(0, 0, 500, 300);\n\n    for (var i=0; i &lt; rects.length; i++) {\n        var rect = rects[i];\n        c.fillRect(rect.x, rect.y, rect.w, rect.h),\n        rect.x += rect.vx;\n        rect.y += rect.vy;\n    }\n}\n\nsetInterval(move, 100);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a simple canvas animation: two rectangles move in two different directions. However, I feel this could be simplified more. </p>\n\n<p><a href=\"http://jsfiddle.net/tmyie/R5wx8/6/\" rel=\"nofollow\">http://jsfiddle.net/tmyie/R5wx8/6/</a></p>\n\n<pre><code>var canvas = document.getElementById('canvas'),\n    c = canvas.getContext('2d'),\n    x = 10,\n    y = 15,\n\n    a = 20,\n    b = 50;\n\nfunction move() {\n    c.clearRect(0, 0, 500, 300);\n\n    c.fillRect(0, y, 5, 5),\n    c.fillRect(b, 5, 15, 15);\n\n\n    x++;\n    y++;\n    b++\n\n    if (y &gt; canvas.height || x &gt; canvas.width) {\n        y = 0;\n        x = 0;\n    }\n}\n\nsetInterval(move, 100);\n</code></pre>\n\n<p>For example, what happens if I wanted to create another three shapes? At the moment, I'd have to create more variables for each coordinate:</p>\n\n<pre><code>    x++;\n    y++;\n    b++\n</code></pre>\n\n<p>Is there a way I could turn each rectangle into its own object?</p>\n",
            "last_activity_date": 1390590835,
            "question_id": 21338740,
            "score": 1,
            "tags": [
                "javascript",
                "canvas"
            ],
            "title": "Simply canvas animation"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>OK, I think, it must be something like this:</p>\n\n<pre><code>var videos = document.getElementsByTagName(\"video\");\n\nfunction checkScroll() {\n\n    for(var i = 0; i &lt; videos.length; i++) {\n\n        var video = videos[i];\n\n        var x = video.offsetLeft, y = video.offsetTop, w = video.offsetWidth, h = video.offsetHeight, r = x + w, //right\n            b = y + h, //bottom\n            visibleX, visibleY, visible;\n\n            visibleX = Math.max(0, Math.min(w, window.pageXOffset + window.innerWidth - x, r - window.pageXOffset));\n            visibleY = Math.max(0, Math.min(h, window.pageYOffset + window.innerHeight - y, b - window.pageYOffset));\n\n            visible = visibleX * visibleY / (w * h);\n\n            if (visible &gt; fraction) {\n                video.play();\n            } else {\n                video.pause();\n            }\n\n    }\n\n}\n\nwindow.addEventListener('scroll', checkScroll, false);\nwindow.addEventListener('resize', checkScroll, false);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Using the <a href=\"https://github.com/zeusdeux/isInViewport\" rel=\"nofollow\">isInViewport</a> plugin and <a href=\"http://jquery.com\" rel=\"nofollow\">jQuery</a>, here's my code for the task</p>\n\n<pre><code>$('video').each(function(){\n    if ($(this).is(\":in-viewport\")) {\n        $(this)[0].play();\n    } else {\n        $(this)[0].pause();\n    }\n})\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 0
                },
                {
                    "body": "<p>Old question, but just wanted to add my two cents, I initially started with the jQuery code above, but ran into some issues with the implementation.  This solution should work with multiple videos, and also prevents a problem where the user pauses a video and tries to scroll away and it just starts again:</p>\n\n<pre><code>&lt;script&gt;\n    var videoList = [];\n    var scrollPauseList = [];\n    var clickedPauseList = [];\n&lt;/script&gt;\n&lt;script&gt;    \n    var myScrollFunc = function() {\n\n        $(\".video-js\").each(function(){ \n\n            var inView = $(this).is(\":in-viewport\");\n            var isPaused = $(this)[0].player.paused();\n            var playerIdx = videoList.indexOf(this.id);\n            var scrollPaused = scrollPauseList[playerIdx];\n            var clickPaused = clickedPauseList[playerIdx];\n\n            if (inView) {                       \n                var hasEnded = $(this)[0].player.ended();\n                var curTime = $(this)[0].player.currentTime();\n                var hasStarted = curTime &gt; 0;\n                if(hasStarted &amp;&amp; !hasEnded &amp;&amp; !clickPaused)\n                {\n                    scrollPauseList[playerIdx] = false;\n                    $(this)[0].player.play();\n                }\n            } else if(!isPaused) {                      \n                scrollPauseList[playerIdx] = true;\n                $(this)[0].player.pause();\n            }\n        });\n    };      \n\n    $(window).scroll(myScrollFunc);     \n&lt;/script&gt;   \n\n&lt;video  \n  class=\"video-js\" controls&gt;&lt;/video&gt;\n\n&lt;script&gt;\n$(\".video-js\").each(function(){ \n        videoList[videoList.length] = this.id;\n        scrollPauseList[scrollPauseList.length] = false;\n        clickedPauseList[scrollPauseList.length] = false;\n    }); \n\nfor(var i = 0; i &lt; videoList.length; i++)\n{\n    var playerID = videoList[i];\n    var player = videojs(playerID);\n\n    player.on('pause', function() {\n        var pID = videoList.indexOf(this.id());\n\n        if(!scrollPauseList[pID])\n        {\n            clickedPauseList[pID] = true;\n            scrollPauseList[pID] = false;\n        }\n        else\n        {\n            clickedPauseList[pID] = false;\n            scrollPauseList[pID] = false;\n        }\n    });\n}       \n&lt;/script&gt;\n</code></pre>\n\n<p>I've scrubbed some stuff, and i'm using video-js, so you may need to modify it a bit to get your implementation to work.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In case anyone else runs into this question, I was unable to use Saike's solution on my WordPress site because of the way the videos were auto embedded (MediaElement player).  However, qwazix's solution worked with some modification.  Here is the jQuery code that works with the <a href=\"https://github.com/zeusdeux/isInViewport\" rel=\"nofollow\">IsInView plugin</a>.  Here are my include scripts (placed at the end of <code>footer.php</code> in my theme folder).</p>\n\n<pre><code>&lt;script src=\"//code.jquery.com/jquery-1.11.0.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/isInViewport.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"js/scrollview.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>And the jQuery code (modify 400 to your tolerance liking)</p>\n\n<pre><code>  $(function() {\n      $(window).scroll(function() {\n          $('.wp-video-shortcode').each(function() {\n              var str = $(this).attr('id');\n              var arr = str.split('_');\n              typecheck = arr[0];\n              if ($(this).is(\":in-viewport( 400 )\") &amp;&amp; typecheck == \"mep\") {\n                  mejs.players[$(this).attr('id')].media.play();\n              } else if (typecheck == \"mep\") {\n                  mejs.players[$(this).attr('id')].media.stop();\n              }\n          });\n      });\n  });\n</code></pre>\n\n<p>Only issue I have with this code is that it <em>does</em> restart a video clip on scroll even if paused by the user.  Wasn't a deal-breaking issue on my site.  Here is the code in action:  <a href=\"http://ultrasoundoftheweek.com\" rel=\"nofollow\">Ultrasoundoftheweek.com</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am interested in setting up an HTML page with multiple video clips such that each video clip plays only while visible and then pauses when out of view.  I have found <a href=\"http://jsbin.com/ocupor/1/edit\" rel=\"nofollow\">this great example</a> of how this can be implemented with one clip, but I have been unable to modify the code to work with multiple clips.  Perhaps I need to convert this code into a function for easy reusability?  Here is what I have so far (JS Bin linked above modified for 2 clips instead of one).  This code seems to work for only one of the two clips.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;!--   Created using jsbin.com   Source can be edited via http://jsbin.com/ocupor/1/edit\n    --&gt;\n    &lt;head&gt;\n        &lt;meta charset=utf-8 /&gt;\n        &lt;title&gt;JS Bin&lt;/title&gt;\n        &lt;style&gt;\n            #right {\n                position: absolute;\n                top: 2000px;\n            }\n            #video1 {\n                position: absolute;\n                left: 2000px;\n                top: 2000px;\n            }\n            #video2 {\n                position: absolute;\n                left: 2000px;\n                top: 3000px;\n            }\n\n        &lt;/style&gt;\n\n        &lt;style id=\"jsbin-css\"&gt;\n        &lt;/style&gt;\n    &lt;/head&gt;\n    #\n    &lt;body style=\"width: 4000px; height: 4000px;\"&gt;\n        &lt;div id=\"info\"&gt;&lt;/div&gt;\n        &lt;div id=\"down\"&gt;\n            scroll down please...\n        &lt;/div&gt;\n        &lt;div id=\"right\"&gt;\n            scroll right please...\n        &lt;/div&gt;\n        &lt;video id=\"video1\"&gt;\n            &lt;source src=\"http://video-js.zencoder.com/oceans-clip.mp4\"/&gt;\n\n        &lt;/video&gt;\n        &lt;script&gt;\n            var video = document.getElementById('video1'), fraction = 0.8;\n\n            function checkScroll() {\n                var x = video.offsetLeft, y = video.offsetTop, w = video.offsetWidth, h = video.offsetHeight, r = x + w, //right\n                b = y + h, //bottom\n                visibleX, visibleY, visible;\n\n                visibleX = Math.max(0, Math.min(w, window.pageXOffset + window.innerWidth - x, r - window.pageXOffset));\n                visibleY = Math.max(0, Math.min(h, window.pageYOffset + window.innerHeight - y, b - window.pageYOffset));\n\n                visible = visibleX * visibleY / (w * h);\n\n                if (visible &gt; fraction) {\n                    video.play();\n                } else {\n                    video.pause();\n                }\n            }\n\n            checkScroll();\n            window.addEventListener('scroll', checkScroll, false);\n            window.addEventListener('resize', checkScroll, false);\n        &lt;/script&gt;\n\n        &lt;video id=\"video2\"&gt;\n            &lt;source src=\"http://video-js.zencoder.com/oceans-clip.mp4\"/&gt;\n\n        &lt;/video&gt;\n        &lt;script&gt;\n            var video = document.getElementById('video2'), fraction = 0.8;\n\n            function checkScroll() {\n                var x = video.offsetLeft, y = video.offsetTop, w = video.offsetWidth, h = video.offsetHeight, r = x + w, //right\n                b = y + h, //bottom\n                visibleX, visibleY, visible;\n\n                visibleX = Math.max(0, Math.min(w, window.pageXOffset + window.innerWidth - x, r - window.pageXOffset));\n                visibleY = Math.max(0, Math.min(h, window.pageYOffset + window.innerHeight - y, b - window.pageYOffset));\n\n                visible = visibleX * visibleY / (w * h);\n\n                if (visible &gt; fraction) {\n                    video.play();\n                } else {\n                    video.pause();\n                }\n            } checkScroll();\n            window.addEventListener('scroll', checkScroll, false);\n            window.addEventListener('resize', checkScroll, false);\n\n        &lt;/script&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1417803875,
            "question_id": 21163756,
            "score": 1,
            "tags": [
                "javascript",
                "html",
                "html5",
                "video",
                "html5-video"
            ],
            "title": "HTML5 and Javascript to play videos only when visible"
        }
    ]
}
