{
    "items": [
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You shouldn't need the curly braces as these are being evaluated inside html directive - you only need to use the curly braces if you have an expression that is evaluated outside of them ie;</p>\n\n<pre><code>&lt;p ng-class=\"some-angular-variable\"&gt;\n  {{some-angular-variable}}\n&lt;/p&gt; \n</code></pre>\n\n<p>In your situation, removing the double-curly braces and using double-quotes should solve the problem.</p>\n\n<p>As an aside, Chandermani is on the money - what you are trying to is better accomplished with the ng-class directive. Using it will allow to apply a class (or several) to the corresponding tag.</p>\n\n<p>ie;</p>\n\n<pre><code>&lt;p ng-class=\"mystyle\"&gt;\n    some text\n&lt;/p&gt;\n</code></pre>\n\n<p>say you have two classes style1 and style2</p>\n\n<p>You can select whichever one to apply with</p>\n\n<pre><code>scope.mystyle = \"style1\" // or whatever\n</code></pre>\n\n<p>in your controller.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>I can't understand why u want use thid idea!\nU should use ng-class for that!</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;p ng-class=\"{strike: strike, bold: bold, red: red}\"&gt;Map Senter code hereyntax Example&lt;/p&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>As explained <a href=\"https://groups.google.com/d/msg/angular/i0UNa7OUiW0/-GoF_nUf8O4J\" rel=\"nofollow\">here</a> angular doesn't run on content inside style tags. There's a workaround plunkr in that post but as a more flexible approach I'd just create a directive that grabs the contents, parses them and replaces:</p>\n\n<h3>Updated answer to support two-way binding</h3>\n\n<pre><code>app.directive('parseStyle', function($interpolate) {\n    return function(scope, elem) {\n        var exp = $interpolate(elem.html()),\n            watchFunc = function () { return exp(scope); };\n\n        scope.$watch(watchFunc, function (html) {\n            elem.html(html);\n        });\n    };\n});\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&lt;style parse-style&gt;.css_class {color: {{ angular_variable }};}&lt;/style&gt;\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/VUeGG/31/\" rel=\"nofollow\">http://jsfiddle.net/VUeGG/31/</a></p>\n\n<hr>\n\n<h3>Original answer</h3>\n\n<pre><code>app.directive('parseStyle', function()\n{\n    return function(scope, elem)\n    {\n        elem.html(scope.$eval('\\'' + elem.html() + '\\''));\n    };\n});\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>&lt;style parse-style&gt;.css_class {color: ' + angular_variable + ';}&lt;/style&gt;\n</code></pre>\n\n<p>Not sure about the browser support for this though.</p>\n\n<p><a href=\"http://jsfiddle.net/VUeGG/4/\" rel=\"nofollow\">http://jsfiddle.net/VUeGG/4/</a></p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p><strong>Update</strong></p>\n\n<p>I've put together an Angular \"plugin\" (module+filters+factory) <a href=\"http://opensourcetaekwondo.com/ngcss/\" rel=\"nofollow\">called ngCss</a> that handles this and much more - <a href=\"http://github.com/campbeln/ngcss\" rel=\"nofollow\">check it out</a>!</p>\n\n<p>I also have made a Vanilla Javascript (e.g. no external dependencies) version as well; <a href=\"http://opensourcetaekwondo.com/cjsss/\" rel=\"nofollow\">CjsSS.js</a> (<a href=\"https://github.com/campbeln/CjsSS.js\" rel=\"nofollow\">GitHub</a>).</p>\n\n<blockquote>\n  <p><strong>ngCss</strong> is a tiny* Angular Module+Factory+Filters that enables binding of strings and objects (including nested objects) within CSS.\n  *Minified+compressed script under 1,700 bytes</p>\n  \n  <p><strong>Features:</strong></p>\n  \n  <ul>\n  <li>CSS can be live-bound (changes in <code>$scope</code> are <code>$watch</code>'ed) or updated via the custom <code>$broadcast</code> event updateCss.</li>\n  <li>css and cssInline Filters output Javascript/JSON <code>objects</code> as CSS to enable mixins, including the ability to nest <code>objects</code>.</li>\n  <li><code>$scope</code> can be initialized within the CSS itself, allowing for all CSS-related information to be co-located within the *.css or STYLE element.</li>\n  <li><code>$scope</code> can be isolated or imported from any Angular <code>$element</code> (via <code>angular.element($element).scope()</code>).</li>\n  </ul>\n</blockquote>\n\n<p><strong>Original</strong>\nThanks to @jonnyynnoj's code I've figured out a way to keep the <code>{{angular_variable}}</code> nomenclature within the style tags as well as live binding any changes. <a href=\"http://jsfiddle.net/b9or22ux/5/\" rel=\"nofollow\">Check out the fork of @jonnyynnoj's code</a> for a simple example or have a look below at what I'm using in my apps:</p>\n\n<pre><code>(function (ngApp) {\n    'use strict';\n\n    //# Live bind a &lt;style cn-styler=\"{ commented: true, usingSingleQuote: true }\" /&gt; tag with {{ngVars}}\n    ngApp.directive('cnStyler', function () {\n        return {\n            //# .restrict the directive to attribute only (e.g.: &lt;style cn-styler&gt;...&lt;/style&gt;)\n            restrict: \"A\",\n            link: function ($scope, $element, $attrs, controllers) {\n                //# .$eval the in-line .options and setup the updateCSS function\n                //#     NOTE: The expected string value of the inline options specifies a JSON/JavaScript object, hence the `|| {}` logic\n                var css, regEx,\n                    options = $scope.$eval($attrs[\"cnStyler\"]) || {},\n                    updateCSS = function () {\n                        //# .$eval the css, replacing the results back into our $element's .html\n                        $element.html($scope.$eval(css));\n                    }\n                ;\n\n                //# Setup the .quote and the inverse in .unquote (which we use to process the css)\n                //#     NOTE: In theory, the .unquote should not be present within the css\n                options.quote = (options.usingSingleQuote !== false ? \"'\" : '\"');\n                options.unquote = (options.quote === '\"' ? \"'\" : '\"');\n                regEx = new RegExp(options.unquote, \"g\");\n\n                //# Process the $element's .html into css, .replace'ing any present .unquote's with .quote's (this could cause problems), then the {{Angular}} (or /*{{Angular}}*/) variables with ' + stringified_versions + '\n                if (options.commented !== false) {\n                    css = options.unquote + ($element.html() + '')\n                        .replace(regEx, options.quote)\n                        .replace(/\\/\\*{{/g, options.unquote + \"+\")\n                        .replace(/}}\\*\\//g, \"+\" + options.unquote)\n                    + options.unquote;\n                } else {\n                    css = options.unquote + ($element.html() + '')\n                        .replace(regEx, options.quote)\n                        .replace(/{{/g, options.unquote + \"+\")\n                        .replace(/}}/g, \"+\" + options.unquote)\n                    + options.unquote;\n                }\n\n                //# .$watch for any changes in the $scope, calling our updateCSS function when they occur\n                $scope.$watch(updateCSS);\n            }\n        };\n    });\n\n})(YOUR_NG_APP_VAR_HERE);\n</code></pre>\n\n<p>Then you use this directive like this:</p>\n\n<pre><code>&lt;style cn-styler type=\"text/css\"&gt;\n    .myClass{\n        color: /*{{themeColor}}*/;\n    }\n&lt;/style&gt;\n</code></pre>\n\n<p>Where you have set <code>$scope.themeColor</code> somewhere in your controller and you've replaced <code>YOUR_NG_APP_VAR_HERE</code> with your <code>ngApp</code> variable.</p>\n\n<p><strong>NOTES:</strong></p>\n\n<p>Make sure that your <code>ng-controller</code> is defined with scope to the <code>&lt;style&gt;</code> tag as <code>&lt;style&gt;</code> tag's should be in the <code>&lt;head&gt;</code> while <code>ng-controller</code> is generally defined on the <code>&lt;body&gt;</code> tag or below. <strong>TL;DR:</strong> Put your <code>ng-controller</code> on your <code>&lt;html&gt;</code> tag like so:</p>\n\n<pre><code>&lt;html ng-app=\"YOUR_NG_APP_VAR_HERE\" ng-controller=\"MyNgController\"&gt;\n</code></pre>\n\n<p>Due to CSS parsing and auto-formatting in tools like <em>Visual Studio</em> I added the feature to have the <code>{{Angular}}</code> vars within CSS comments (e.g. <code>/*{{Angular}}*/</code>). <strong>This is the default behavior</strong> of the directive unless you override it like so:</p>\n\n<pre><code>&lt;style cn-styler=\"{commented: false}\" &gt;...&lt;/style&gt;\n</code></pre>\n\n<p>Due to the nature of this solution (the CSS is <code>.$eval</code>uated as a string with variables inserted within), the presence of single or double quotes within the CSS also needs to be processed. By default, the directive assumes you are using single quotes (') within your CSS which means in order to avoid any introduced errors <strong>you should only use single quotes within your CSS</strong> as any double quotes present within the CSS will be replaced with single quotes. You can override this default behavior (meaning you're using double quotes within your CSS) like so:</p>\n\n<pre><code>&lt;style cn-styler=\"{usingSingleQuote: false}\" &gt;...&lt;/style&gt;\n</code></pre>\n\n<p>There are edge cases where the replacing of double quotes with single quotes screws up the CSS (such as in <code>content</code>), so you will want to ensure that you are only using one style of quotes in your CSS (and signaling the directive accordingly) to avoid any potential issues. Thankfully quotes are rarely used in CSS so this is mostly a non-issue.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>i'm trying to figure out how to bind angularjs scope vars into css syntax\nthe problem i think is the curly braces\nhere is what i'm basically trying to do:</p>\n\n<pre><code>&lt;style&gt;.css_class {background:{{ angular_variable }}; color:#ffffff;}&lt;/style&gt;\n&lt;style&gt;.css_rule {background:{{ \"#000000\" }}; color:#ffffff;}&lt;/style&gt;\n&lt;style&gt;.css_rule {background:{{ var | someFilter }}; color:#ffffff;}&lt;/style&gt;\n</code></pre>\n\n<p>Any ideas on how this could be accomplished?\nThank you!</p>\n",
            "last_activity_date": 1423587816,
            "question_id": 18248437,
            "score": 3,
            "tags": [
                "javascript",
                "css",
                "angularjs"
            ],
            "title": "Bind AngularJS variables into css syntax"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>If the page in the child window is in your control, you can assign null to the opener in the child page:</p>\n\n<pre><code>window.opener = null;\n</code></pre>\n\n<p>By making this as the first statement in your javascript.</p>\n\n<p>If the page is not in your control or is in a different domain, then do it while opening:</p>\n\n<pre><code>popup = window.open(this.href, '_blank', 'width=512,height=512,left=200,top=100');\npopup.opener = null;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I'm opening a popup from my main page with code like this:</p>\n\n<pre><code>&lt;a href=\"http://external.domain.tld/\"\n   onclick=\"window.open(this.href, '_blank', \n       'width=512,height=512,left=200,top=100');return false\"&gt;\n Open popup\n&lt;/a&gt;\n</code></pre>\n\n<p>This works fine, but my problem is that the document which is loaded in the popup window has the permission to change the location of the opener window. This even works when the document in the popup is from a different domain. It has no permission to read the location but it is allowed to change the location. I don't want that. I want the popup to be completely disconnected from my main page.</p>\n\n<p>Even without JavaScript it doesn't work. When I open the other page in a new tab by using the <code>target=\"_blank\"</code> attribute then this tab is still allowed to navigate to the <code>opener</code> window and change its location:</p>\n\n<pre><code>&lt;a href=\"http://external.domain.tld/\" target=\"_blank\"&gt;\n  Open in new tab\n&lt;/a&gt;\n</code></pre>\n\n<p>This is the code in the opened document which should not be allowed:</p>\n\n<pre><code>&lt;script&gt;\n  opener.location.href = \"http://badsite.tld/\";\n&lt;/script&gt;\n</code></pre>\n\n<p>You can see a live demo <a href=\"http://www.ailis.de/~k/permdata/20130808/opener/\" rel=\"nofollow\">here</a>. Click one of the two links to open an other page in a popup or a new tab which then loads a third page in the opener window. That's what I'm trying to prevent.</p>\n\n<p>Is there some trick I can use to break the connection between the opener window and the opened window? Ideally the opened window should not know that it was opened by any other window at all.</p>\n",
            "last_activity_date": 1375952159,
            "question_id": 18121328,
            "score": 3,
            "tags": [
                "javascript",
                "html",
                "window.open",
                "window.opener"
            ],
            "title": "How to disconnect JavaScript popup from opener"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>It appears that, at least for the <code>click</code> event, you can call <code>.click()</code> on the element in these browsers.<br/>\nThis will have the element enact the default (as well as calling all listeners and the <code>.onclick</code> value, if defined).<br/>\nI don't know of any other defaults on DOM elements, would <code>scroll</code> need to be accounted for? <code>Keypress</code>? Maybe those exist as functions too, but I haven't tested.</p>\n\n<p>When I did test <code>.click()</code>, I noticed it obeyed any of the listeners returning false and did not fire the default, and the event did bubble (a listener I had on document fired too!). </p>\n\n<p>There may be no other alternative (I.e. calling the default directly, avoiding the listeners). And as for passing it an event object, the browser in question has the single global event thing going on, so maybe you can manipulate that and it wont have changed when executing <code>.click()</code>.</p>\n\n<hr>\n\n<p>Adding as I find more information in my travels :)<br/>\nFurthermore, there is an <a href=\"http://msdn.microsoft.com/en-us/library/ie/ms536414%28v=vs.85%29.aspx\" rel=\"nofollow\"><code>doScroll()</code></a> function, but I think it would be really hard to translate a given event into the string accepted by this method</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want a generic (cross browser) way to get the browser to execute the <code>default action</code> for an object for a specified event <em>preferably without getting any attached listeners to fire</em>.</p>\n\n<p>This kind of question has been asked before but in the context of <a href=\"http://stackoverflow.com/questions/7732854/is-there-a-universal-way-to-invoke-a-default-action-after-calling-event-preven\">already being in an event</a>, &amp;/or strictly talking about <a href=\"http://stackoverflow.com/questions/6061126/is-there-any-way-to-prevent-default-event-and-then-fire-it-again-with-jquery\">synchronously holding off the default action before letting it happen later</a>.</p>\n\n<p>Basically, let's say you have an DOM element (you don't know which) variable, and you want to invoke a <code>click</code>, such that if it were an <code>anchor</code>, it'd follow its <code>href</code>, if it were an <code>input[type=\"submit\"]</code> it would submit the form.<br/>\n<em>But</em> without firing that element's listeners for the <code>click</code> event (which may be prone <code>preventDefault()</code>s in the listeners).</p>\n\n<p>For those that need a reason to answer questions; you <em>may</em> want to do it if you're implementing something like <a href=\"http://help.dottoro.com/ljrinokx.php\" rel=\"nofollow\"><code>dispatchEvent()</code></a> for browsers that only have <a href=\"http://help.dottoro.com/ljvtddtm.php\" rel=\"nofollow\"><code>fireEvent()</code></a>.<br/>\nBoth functions return <code>true</code> if the default wasn't 'prevented', but only <code>dispatchEvent()</code> actually follows through and invokes the default.<br/></p>\n\n<p>As a side question, jQuery's <a href=\"http://api.jquery.com/trigger/\" rel=\"nofollow\"><code>trigger()</code></a> is meant to do this (although after firing the listeners) and be cross-browser, maybe the solution is there? As nice as jQuery is I'd like to know the vanilla methods it is calling (if it [this particular feature] indeed works on things like IE8).</p>\n",
            "last_activity_date": 1376267743,
            "question_id": 18050538,
            "score": 3,
            "tags": [
                "javascript",
                "javascript-events"
            ],
            "title": "Invoke the default action of a specific event on an object"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><a href=\"http://stackoverflow.com/a/12627478/331508\">Don't use <code>onclick</code></a>.  This goes triple for userscripts, as there are additional scope and/or sandbox conflicts.</p>\n\n<p>Also, it's a poor idea to try and add JS into the XSLT file/text, and there is no need for script injection in this case either.</p>\n\n<p>Use the script to do whatever JS manipulation you have in mind.  For example:</p>\n\n<pre><code>// ==UserScript==\n// @name        _XML Renderer with javascript functionality\n// @description Stylesheet and javascript for xml results\n// @include     http://YOUR_SERVER.COM/YOUR_PATH/*.xml\n// @resource    xslFile  Q_17998446_transform.xsl\n// @grant       GM_getResourceText\n// ==/UserScript==\n\nvar xsl_str     = GM_getResourceText (\"xslFile\");\nvar processor   = new XSLTProcessor ();\nvar dataXSL     = new DOMParser ().parseFromString (xsl_str, \"text/xml\");\n\nprocessor.importStylesheet (dataXSL);\n\nvar newDoc      = processor.transformToDocument (document);\n\n//-- These next lines swap the new, processed doc in for the old one...\nwindow.content  = newDoc;\n\ndocument.replaceChild (\n    document.importNode (newDoc.documentElement, true),\n    document.documentElement\n);\n\n//-- Use JS to smarten-up the new document.\nvar firstCols   = document.querySelectorAll (\"#results td:first-child\");\n\nfor (var J = firstCols.length - 1;  J &gt;= 0;  --J) {\n    var tdNode = firstCols[J];\n    tdNode.style.cursor = \"pointer\";\n    tdNode.addEventListener (\"click\", clickCellHandler, false);\n}\n\nfunction clickCellHandler (zEvent) {\n    var cellContents = zEvent.target.textContent.trim ();\n\n    alert ('The clicked cell contains \"' + cellContents + '\".');\n}\n</code></pre>\n\n<p>where <code>Q_17998446_transform.xsl</code> is a file saved in the same folder from where you install your script (you may need to uninstall, and reinstall, the script).</p>\n\n<p><code>Q_17998446_transform.xsl</code> contains this, exactly:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\"&gt;\n    &lt;xsl:output method=\"html\"/&gt;\n    &lt;xsl:template match=\"/\"&gt;\n        &lt;html&gt;\n            &lt;head&gt;&lt;/head&gt;\n            &lt;body&gt;\n                &lt;table id=\"results\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"&gt;\n                    &lt;thead&gt;\n                        &lt;tr&gt;\n                            &lt;th class=\"name\"&gt;id&lt;/th&gt;\n                            &lt;th class=\"name\"&gt;category ID&lt;/th&gt;\n                            &lt;th class=\"name\"&gt;name&lt;/th&gt;\n                            &lt;th class=\"name\"&gt;phone&lt;/th&gt;\n                        &lt;/tr&gt;\n                    &lt;/thead&gt;\n                    &lt;tbody&gt;\n                        &lt;xsl:for-each select=\"Results/Result/Listings/Res\"&gt;\n                            &lt;tr&gt;\n                                &lt;td class=\"small\" width=\"120\"&gt;\n                                    &lt;xsl:value-of select=\"Result/id\"/&gt;\n                                &lt;/td&gt;\n                                &lt;td class=\"small\" width=\"120\"&gt;\n                                    &lt;xsl:value-of select=\"Result/category\"/&gt;\n                                &lt;/td&gt;\n                                &lt;td class=\"small\" width=\"120\"&gt;\n                                    &lt;xsl:value-of select=\"Result/name\"/&gt;\n                                &lt;/td&gt;\n                                &lt;td class=\"small\" width=\"120\"&gt;\n                                    &lt;xsl:value-of select=\"Result/phone\"/&gt;\n                                &lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/xsl:for-each&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n            &lt;/body&gt;\n        &lt;/html&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<hr>\n\n<hr>\n\n<p>When you run that script on the appropriate XML file, it adds a click-handler to the first table column (sans header) -- the \"Web 2.0\" way.</p>\n\n<p>When one of the first-column cells is clicked, it alerts, for example:</p>\n\n<blockquote>\n  <p>The clicked cell contains \"876553\".</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>As follow up to my question here - <a href=\"http://stackoverflow.com/questions/17998446/how-to-transform-an-xml-file-with-xslt-using-a-greasemonkey-script\">How to transform an XML file with XSLT, using a Greasemonkey script?</a> - I'm facing another problem:</p>\n\n<p>I want to use some basic javascript functions in my XSL template in order to control the display of some divs. However, no matter how I include these javascript functions, they don't seem to be recognized. I already investigated a lot but I can't seem to get around it.</p>\n\n<p>I tried 2 things:</p>\n\n<ul>\n<li>Adding the javascript in the XSL template in a <code>&lt;script&gt;</code> tag</li>\n<li>Appending a new <code>&lt;script&gt;</code> tag in the Greasemonkey script itself</li>\n</ul>\n\n<p>I would prefer not to use jQuery or an external JS file (which I also tried) to keep it as simple as possible, but if that would solve the problem I'm open to change the whole thing!</p>\n\n<p>In either case when I call the function I get a <code>ReferenceError: x is not defined</code>. I do see that the javascript code sits nicely in the final HTML result though. When I use Firebug to append a new <code>&lt;script&gt;</code> tag with a simple function that alerts \"hello\" to a plain html page then it works perfectly. It's only when this is done on top of a XSLT transformation things go wrong (for the sake of simplicity I'm just using a simple function to show an alert box).</p>\n\n<p>Here's my sample data:</p>\n\n<pre><code>  &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n  &lt;Results&gt;\n      &lt;Result&gt;\n          &lt;Listings total=\"2\"&gt;\n              &lt;Res&gt;\n                  &lt;Result index=\"0\"&gt;\n                      &lt;id&gt;123456&lt;/id&gt;\n                      &lt;name&gt;My Business&lt;/name&gt;\n                      &lt;category&gt;Restaurants&lt;/category&gt;\n                      &lt;phone&gt;9872365&lt;/phone&gt;\n                  &lt;/Result&gt;\n              &lt;/Res&gt;\n              &lt;Res&gt;\n                  &lt;Result index=\"1\"&gt;\n                      &lt;id&gt;876553&lt;/id&gt;\n                      &lt;name&gt;Some Other Business&lt;/name&gt;\n                      &lt;category&gt;Restaurants&lt;/category&gt;\n                      &lt;phone&gt;9834756&lt;/phone&gt;\n                  &lt;/Result&gt;\n              &lt;/Res&gt;\n          &lt;/Listings&gt;\n      &lt;/Result&gt;\n  &lt;/Results&gt;\n</code></pre>\n\n<hr>\n\n<p>Here's the first attempt where I just added a <code>&lt;script&gt;</code> tag in the <code>&lt;head&gt;</code> tag:</p>\n\n<pre><code>// ==UserScript==\n// @name        _Test XML Renderer\n// @description stylesheet for xml results\n// @include     *\n// @grant       none\n// ==/UserScript==\n\nvar xsl_str = '&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\\n\\\n&lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\"&gt;\\n\\\n    &lt;xsl:output method=\"html\"/&gt;\\n\\\n    &lt;xsl:template match=\"/\"&gt;\\n\\\n        &lt;html&gt;\\n\\\n            &lt;head&gt;&lt;script type=\"text/javascript\"&gt;function hello() {alert(\"hello\")};&lt;/script&gt;&lt;/head&gt;\\n\\\n            &lt;body&gt;\\n\\\n                &lt;table id=\"results\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"&gt;\\n\\\n                    &lt;thead&gt;\\n\\\n                        &lt;tr&gt;\\n\\\n                            &lt;th class=\"name\"&gt;id&lt;/th&gt;\\n\\\n                            &lt;th class=\"name\"&gt;category ID&lt;/th&gt;\\n\\\n                            &lt;th class=\"name\"&gt;name&lt;/th&gt;\\n\\\n                            &lt;th class=\"name\"&gt;phone&lt;/th&gt;\\n\\\n                        &lt;/tr&gt;\\n\\\n                    &lt;/thead&gt;\\n\\\n                    &lt;tbody&gt;\\n\\\n                        &lt;xsl:for-each select=\"Results/Result/Listings/Res\"&gt;\\n\\\n                            &lt;tr&gt;\\n\\\n                                &lt;td class=\"small\" width=\"120\"&gt;\\n\\\n                                    &lt;a href=\"#\" onclick=\"hello()\"&gt;&lt;xsl:value-of select=\"Result/id\"/&gt;&lt;/a&gt;\\n\\\n                                &lt;/td&gt;\\n\\\n                                &lt;td class=\"small\" width=\"120\"&gt;\\n\\\n                                    &lt;xsl:value-of select=\"Result/category\"/&gt;\\n\\\n                                &lt;/td&gt;\\n\\\n                                &lt;td class=\"small\" width=\"120\"&gt;\\n\\\n                                    &lt;xsl:value-of select=\"Result/name\"/&gt;\\n\\\n                                &lt;/td&gt;\\n\\\n                                &lt;td class=\"small\" width=\"120\"&gt;\\n\\\n                                    &lt;xsl:value-of select=\"Result/phone\"/&gt;\\n\\\n                                &lt;/td&gt;\\n\\\n                            &lt;/tr&gt;\\n\\\n                        &lt;/xsl:for-each&gt;\\n\\\n                    &lt;/tbody&gt;\\n\\\n                &lt;/table&gt;\\n\\\n            &lt;/body&gt;\\n\\\n        &lt;/html&gt;\\n\\\n    &lt;/xsl:template&gt;\\n\\\n&lt;/xsl:stylesheet&gt;\\n\\\n';\n\nvar processor   = new XSLTProcessor ();\nvar dataXSL     = new DOMParser ().parseFromString (xsl_str, \"text/xml\");\n\nprocessor.importStylesheet (dataXSL);\n\nvar newDoc      = processor.transformToDocument (document);\n\n//-- These next lines swap the new, processed doc in for the old one...\nwindow.content  = newDoc;\n\ndocument.replaceChild (\n    document.importNode (newDoc.documentElement, true),\n    document.documentElement\n);\n</code></pre>\n\n<hr>\n\n<p>Here's my other attempt where I add the \"hello\" function outside the XSL template:</p>\n\n<pre><code>// ==UserScript==\n// @name        _Test XML Renderer\n// @description stylesheet for xml results\n// @include     *\n// @grant       none\n// ==/UserScript==\n\nvar xsl_str = '&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\\n\\\n&lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\"&gt;\\n\\\n    &lt;xsl:output method=\"html\"/&gt;\\n\\\n    &lt;xsl:template match=\"/\"&gt;\\n\\\n        &lt;html&gt;\\n\\\n            &lt;head&gt;&lt;/head&gt;\\n\\\n            &lt;body&gt;\\n\\\n                &lt;table id=\"results\" border=\"1\" cellspacing=\"0\" cellpadding=\"0\"&gt;\\n\\\n                    &lt;thead&gt;\\n\\\n                        &lt;tr&gt;\\n\\\n                            &lt;th class=\"name\"&gt;id&lt;/th&gt;\\n\\\n                            &lt;th class=\"name\"&gt;category ID&lt;/th&gt;\\n\\\n                            &lt;th class=\"name\"&gt;name&lt;/th&gt;\\n\\\n                            &lt;th class=\"name\"&gt;phone&lt;/th&gt;\\n\\\n                        &lt;/tr&gt;\\n\\\n                    &lt;/thead&gt;\\n\\\n                    &lt;tbody&gt;\\n\\\n                        &lt;xsl:for-each select=\"Results/Result/Listings/Res\"&gt;\\n\\\n                            &lt;tr&gt;\\n\\\n                                &lt;td class=\"small\" width=\"120\"&gt;\\n\\\n                                    &lt;a href=\"#\" onclick=\"hello()\"&gt;&lt;xsl:value-of select=\"Result/id\"/&gt;&lt;/a&gt;\\n\\\n                                &lt;/td&gt;\\n\\\n                                &lt;td class=\"small\" width=\"120\"&gt;\\n\\\n                                    &lt;xsl:value-of select=\"Result/category\"/&gt;\\n\\\n                                &lt;/td&gt;\\n\\\n                                &lt;td class=\"small\" width=\"120\"&gt;\\n\\\n                                    &lt;xsl:value-of select=\"Result/name\"/&gt;\\n\\\n                                &lt;/td&gt;\\n\\\n                                &lt;td class=\"small\" width=\"120\"&gt;\\n\\\n                                    &lt;xsl:value-of select=\"Result/phone\"/&gt;\\n\\\n                                &lt;/td&gt;\\n\\\n                            &lt;/tr&gt;\\n\\\n                        &lt;/xsl:for-each&gt;\\n\\\n                    &lt;/tbody&gt;\\n\\\n                &lt;/table&gt;\\n\\\n            &lt;/body&gt;\\n\\\n        &lt;/html&gt;\\n\\\n    &lt;/xsl:template&gt;\\n\\\n&lt;/xsl:stylesheet&gt;\\n\\\n';\n\nvar processor   = new XSLTProcessor ();\nvar dataXSL     = new DOMParser ().parseFromString (xsl_str, \"text/xml\");\n\nprocessor.importStylesheet (dataXSL);\n\nvar newDoc      = processor.transformToDocument (document);\n\nvar script = \"function hello() {alert('hello')};\";\nvar newElem = newDoc.createElement('script');\nnewElem.type = 'text/javascript';\nnewElem.appendChild(newDoc.createTextNode(script));\nnewDoc.getElementsByTagName('head').item(0).appendChild(newElem);\n\n//-- These next lines swap the new, processed doc in for the old one...\nwindow.content  = newDoc;\n\ndocument.replaceChild (\n    document.importNode (newDoc.documentElement, true),\n    document.documentElement\n);\n</code></pre>\n",
            "last_activity_date": 1375678509,
            "question_id": 18046191,
            "score": 3,
            "tags": [
                "javascript",
                "xml",
                "xslt",
                "greasemonkey"
            ],
            "title": "Adding javascript to a XML file transformed with XSLT using a Greasemonkey script"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Here's the regex you need: <code>/III/g</code> - simple enough, right? Now here's how you use it:</p>\n\n<pre><code>var text = \"MUIIIUIIIU\", find = \"III\", replace \"U\",\n    regex = new RegExp(find,\"g\"), matches = [], match;\nwhile(match = regex.exec(text)) {\n    matches.push(match);\n    regex.lastIndex = match.index+1;\n}\n</code></pre>\n\n<p>That <code>regex.lastIndex...</code> line overrides the usual regex behaviour of not matching results that overap. Also I'm using a <code>RegExp</code> constructor to make this more flexible. You could even build it into a function this way.</p>\n\n<p>Now you have an array of match objects, you can do this:</p>\n\n<pre><code>matches.forEach(function(m) { // older browsers need a shim or old-fashioned for loop\n    console.log(text.substr(0,m.index)+replace+text.substr(m.index+find.length));\n});\n</code></pre>\n\n<p><strong>EDIT:</strong> <a href=\"http://jsfiddle.net/2sbLc/\">Here</a> is a JSFiddle demonstrating the above code.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Sometimes regexes are overkill.  In your case a simple <code>indexOf</code> might be fine too!</p>\n\n<p>Here is, admittedly, a hack, but you can transform it into pretty, reusable code on your own:</p>\n\n<pre><code>var s = \"MIIIIIUIUIIIUUIIUIIIIIU\";\nvar results = [];\nfor (var i = 0; true; i += 1) {\n    i = s.indexOf(\"III\", i);\n    if (i === -1) {\n        break;\n    }\n    results.push(i);\n}\nconsole.log(\"Match positions: \" + JSON.stringify(results));\n</code></pre>\n\n<p>It takes care of overlaps just fine, and at least to me, the <code>indexOf</code> just looks simpler.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm working on the MIU system problem from \"G\u00f6del, Escher, Bach\" chapter 2.</p>\n\n<p>One of the rules states</p>\n\n<p><code>Rule III: If III occurs in one of the strings in your collection, you may make a new string with U in place of III.</code></p>\n\n<p>Which means that the string <code>MIII</code> can become <code>MU</code>, but for other, longer strings there may be multiple possibilities [matches in brackets]:</p>\n\n<ul>\n<li><code>MIIII</code> could yield\n<ul>\n<li><code>M[III]I</code> >> <code>MUI</code></li>\n<li><code>MI[III]</code> >> <code>MIU</code></li>\n</ul></li>\n<li><code>MUIIIUIIIU</code> could yield\n<ul>\n<li><code>MU[III]UIIIU</code> >> <code>MUUUIIIU</code></li>\n<li><code>MUIIIU[III]U</code> >> <code>MUIIIUUU</code></li>\n</ul></li>\n<li><code>MUIIIIU</code> could yield\n<ul>\n<li><code>MU[III]IU</code> >> <code>MUUIU</code></li>\n<li><code>MUI[III]U</code> >> <code>MUIUU</code></li>\n</ul></li>\n</ul>\n\n<p>Clearly regular expressions such as <code>/(.*)III(.*)/</code> are helpful, but I can't seem to get them to generate every possible match, just the first one it happens to find.</p>\n\n<p>Is there a way to generate every possible match?</p>\n\n<p>(Note, I can think of ways to do this entirely manually, but I am hoping there is a better way using the built in tools, regex or otherwise)</p>\n\n<p>(Edited to clarify overlapping needs.)</p>\n",
            "last_activity_date": 1375508088,
            "question_id": 18029487,
            "score": 3,
            "tags": [
                "javascript",
                "regex"
            ],
            "title": "How to get all possible overlapping matches for a string"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The <code>json</code> function loses its correct <code>this</code> binding when used like that since <code>.then</code> is going to invoke it directly without reference to the <code>res</code> parent object, so bind it:</p>\n\n<pre><code>var getUserInline = function(req, res) {\n    getUserFromDatabase().then(res.json.bind(res));    \n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I have and expressjs application and on a specific route I call a function that responds with a user from the database by calling <code>res.json</code> with the database document as parameter. I use promise based libraries and I wanted to inline the callback where I am putting the database document in the response. But the program fails when I do so. Can somebody explain why? I also wonder why inlined calls to <code>console.log</code> actually do work. Is there some fundamental difference between the two methods <code>res.json</code> and <code>console.log</code>?</p>\n\n<p>Here is an example of what works and what does not work. Assume <code>getUserFromDatabase()</code> returns a promise of a user document.</p>\n\n<pre><code>//This works\nvar getUser = function(req, res) {\n    getUserFromDatabase().then(function(doc) {\n        res.json(doc);\n    });    \n} \n\n//This does not work (the server never responds to the request)\nvar getUserInline = function(req, res) {\n    getUserFromDatabase().then(res.json);    \n} \n\n//This works (the object is printed to the console)\nvar printUser = function(req, res) {\n    getUserFromDatabase().then(console.log);    \n} \n</code></pre>\n",
            "last_activity_date": 1423228592,
            "question_id": 18014403,
            "score": 3,
            "tags": [
                "javascript",
                "node.js",
                "express",
                "promise"
            ],
            "title": "Why cant I inline call to res.json?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The <code>style</code> property maps onto the HTML <code>style</code> <strong>attribute</strong>, not the cascaded or computed style.</p>\n\n<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window.getComputedStyle\"><code>getComputedStyle</code></a> if you want to get that.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>When you assign properties in the manner above you are essentially just modifying the <code>style</code> attribute of that element.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Why does this JS return blank if the style is declared in CSS, and works good when declared inline?</p>\n\n<pre><code>//html\n&lt;img id=\"myImg\" src=\"http://jsfiddle.net/favicon.png\" /&gt;\n&lt;img id=\"myImg2\" src=\"http://jsfiddle.net/favicon.png\" style=\"display:none;\" /&gt;\n\n/css\n#myImg {\n    display:none;\n}\n\n//vanilla JS\nvar el = document.getElementById('myImg');\nvar el2 = document.getElementById('myImg2');\nconsole.log(el.style.display); // blank\nconsole.log(el2.style.display); // 'none' - as expected\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/3eyAF/\" rel=\"nofollow\">Fiddle here</a></strong></p>\n",
            "last_activity_date": 1375098064,
            "question_id": 17923022,
            "score": 3,
            "tags": [
                "javascript",
                "css"
            ],
            "title": "Why does element.style.display is blank if display declared on CSS"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>That's an internal function of flot, but you can easily recreate the same functionality yourself. All you need to do is iterate through the points in your data series and compare their location to your mouse pointer (Pythagoras should be able to help you here). </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>What's your use case for this?  If you increase the <code>mouseActiveRadius</code> option to something large flot will find the closest point to the cursor for you. </p>\n\n<pre><code>var options = {\n    grid: { \n        hoverable: true, \n        mouseActiveRadius: 1000\n    }\n}\n</code></pre>\n\n<p>Example <a href=\"http://jsfiddle.net/9x7aJ/2054/\">here</a>.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Yes, you can use the <code>plothover</code> event to retrieve the highlighted point.</p>\n\n<pre><code>$(\"#placeholder\").bind(\"plothover\", function (event, pos, item) {\n    if (item){\n        var x = item.datapoint[0].toFixed(2),\n            y = item.datapoint[1].toFixed(2);\n        console.log(\"x:\" + x + \", \" + \"y:\" + y);\n    }\n});\n</code></pre>\n\n<p>Updated Fiddle <a href=\"http://jsfiddle.net/9x7aJ/2055/\">here</a>.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>As for the reason why you see: <code>ReferenceError: findNearbyItem is not defined</code> see <a href=\"https://github.com/flot/flot/pull/33\" rel=\"nofollow\">this</a>.\nApplying this little patch by hand will make function public.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to grab the nearest plotted point that the cursor is to. I</p>\n\n<p>I found the <code>findNearbyItem</code> function in the <code>jquery.flot.js</code> source that seems to be able to do this, but when I trie calling it manually, I received the <code>ReferenceError: findNearbyItem is not defined</code> error. </p>\n\n<p>This is the function I am referring to:</p>\n\n<pre><code>function findNearbyItem(mouseX, mouseY, seriesFilter) {\n    var maxDistance = options.grid.mouseActiveRadius,\n        smallestDistance = maxDistance * maxDistance + 1,\n        item = null, foundPoint = false, i, j, ps;\n\n    for (i = series.length - 1; i &gt;= 0; --i) {\n        if (!seriesFilter(series[i]))\n            continue;\n\n        var s = series[i],\n            axisx = s.xaxis,\n            axisy = s.yaxis,\n            points = s.datapoints.points,\n            mx = axisx.c2p(mouseX), // precompute some stuff to make the loop faster\n            my = axisy.c2p(mouseY),\n            maxx = maxDistance / axisx.scale,\n            maxy = maxDistance / axisy.scale;\n\n        ps = s.datapoints.pointsize;\n        // with inverse transforms, we can't use the maxx/maxy\n        // optimization, sadly\n        if (axisx.options.inverseTransform)\n            maxx = Number.MAX_VALUE;\n        if (axisy.options.inverseTransform)\n            maxy = Number.MAX_VALUE;\n\n        if (s.lines.show || s.points.show) {\n            for (j = 0; j &lt; points.length; j += ps) {\n                var x = points[j], y = points[j + 1];\n                if (x == null)\n                    continue;\n\n                // For points and lines, the cursor must be within a\n                // certain distance to the data point\n                if (x - mx &gt; maxx || x - mx &lt; -maxx ||\n                    y - my &gt; maxy || y - my &lt; -maxy)\n                    continue;\n\n                // We have to calculate distances in pixels, not in\n                // data units, because the scales of the axes may be different\n                var dx = Math.abs(axisx.p2c(x) - mouseX),\n                    dy = Math.abs(axisy.p2c(y) - mouseY),\n                    dist = dx * dx + dy * dy; // we save the sqrt\n\n                // use &lt;= to ensure last point takes precedence\n                // (last generally means on top of)\n                if (dist &lt; smallestDistance) {\n                    smallestDistance = dist;\n                    item = [i, j / ps];\n                }\n            }\n        }\n\n        if (s.bars.show &amp;&amp; !item) { // no other point can be nearby\n            var barLeft = s.bars.align == \"left\" ? 0 : -s.bars.barWidth/2,\n                barRight = barLeft + s.bars.barWidth;\n\n            for (j = 0; j &lt; points.length; j += ps) {\n                var x = points[j], y = points[j + 1], b = points[j + 2];\n                if (x == null)\n                    continue;\n\n                // for a bar graph, the cursor must be inside the bar\n                if (series[i].bars.horizontal ?\n                    (mx &lt;= Math.max(b, x) &amp;&amp; mx &gt;= Math.min(b, x) &amp;&amp;\n                     my &gt;= y + barLeft &amp;&amp; my &lt;= y + barRight) :\n                    (mx &gt;= x + barLeft &amp;&amp; mx &lt;= x + barRight &amp;&amp;\n                     my &gt;= Math.min(b, y) &amp;&amp; my &lt;= Math.max(b, y)))\n                        item = [i, j / ps];\n            }\n        }\n    }\n\n    if (item) {\n        i = item[0];\n        j = item[1];\n        ps = series[i].datapoints.pointsize;\n\n        return { datapoint: series[i].datapoints.points.slice(j * ps, (j + 1) * ps),\n                 dataIndex: j,\n                 series: series[i],\n                 seriesIndex: i };\n    }\n\n    return null;\n}\n</code></pre>\n\n<p>If there are alternate ways of solving this problem, please let me know.</p>\n",
            "last_activity_date": 1376429274,
            "question_id": 17554782,
            "score": 3,
            "tags": [
                "javascript",
                "flot"
            ],
            "title": "Flot: How do I grab the nearest plotted point to where the cursor is?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It is recommended within the documentation not to use stored JavaScript procedures within MongoDB. </p>\n\n<p>I kind of still refuse to call it \"server-side\" since that denotes that it works \"in\" MongoDB which it does not, they are not stored procedures. </p>\n\n<p>Anyway, by default JavaScript functions take global lock, which can be mitigated with <code>nolock</code> and V8 (default since 2.4) can multithread; so it does seem as though this is usable but there are other problems:</p>\n\n<ul>\n<li>eval runs on the primary of a replica set and only the primary</li>\n<li>eval does not work with sharded collections still</li>\n<li>eval must have full admin access to run at all with auth enabled (this means using an admin user in your application)</li>\n<li>eval runs in a self contained JavaScript environment which when run with admin acess has full access to your database. That, in itself, rings alarm bells for me, mainly due to quirks that could be used to compromise my system from the inside.</li>\n</ul>\n\n<p>Honestly the V8 change adds some awesomeness for Map Reduce and stuff but I would not say it changes much in terms of attempt to replace stored procedures with stored JavaScript functions.</p>\n\n<p>As an added note: <a href=\"http://docs.mongodb.org/manual/reference/command/eval/#dbcmd.eval\" rel=\"nofollow\">http://docs.mongodb.org/manual/reference/command/eval/#dbcmd.eval</a> the warning box there should keep you away from trying this.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>When you ask about the viability of server-sided javascript, you first have to make clear what kind of server-sided javascript you are talking about. According to <a href=\"http://docs.mongodb.org/manual/core/server-side-javascript/\">the documentation</a>, there are four different kinds of server-sided code execution. Unfortunately they all are kind of hackish workarounds for situations where the native API is insufficient:</p>\n\n<h2>The <a href=\"http://docs.mongodb.org/manual/reference/command/eval/#dbcmd.eval\">eval</a> command</h2>\n\n<p>eval has the drawback that it only runs on one node. This greatly reduces its usefulness in a clustered environment. With sharded collections, it doesn't work at all! </p>\n\n<p>By default, it also creates a global lock which makes the database completely unusable until the script has run. This can be prevented with the <code>nolock</code> argument (unless the script itself does something which creates a global lock).</p>\n\n<p>The answer by Sammaye also explains some serious security concerns.</p>\n\n<p>It's really more of a test- and administration tool than something you should use for any regular operation.</p>\n\n<h2>Running .js files via a mongo shell Instance on the Server</h2>\n\n<p>In this case, the code isn't executed on the database, but rather on another independent process on one of the servers. This means that all the required data from other shards must be transfered to the server which runs the javascript code, no matter what's actually returned by the script.</p>\n\n<p>It appears as another application to the mongodb server, so it can't do anything you couldn't also do from within your regular application. It's another test- and administration tool you shouldn't use in regular operation.</p>\n\n<h2>Find with the <a href=\"http://docs.mongodb.org/manual/reference/operator/where/#op._S_where\">$where</a>-operator</h2>\n\n<p>The $where operator in a find-command allows to pass a javascript function which is used to filter values. For most trivial cases, this is a lot less performant than what the other tools of the find query have to offer, especially because it can't make use of any indices.</p>\n\n<p>When usage of $where can't be avoided, at least try to use some of the normal tools of the find-query to reduce the set of documents which need to be passed to the $where function.</p>\n\n<h2><a href=\"http://docs.mongodb.org/manual/core/map-reduce/\">MapReduce</a></h2>\n\n<p>MapReduce uses two javascript functions to create aggregated data. It used to be the primary data-mining tool for MongoDB, but most of its usual use-cases are now fulfilled by the much more user-friendly <a href=\"http://docs.mongodb.org/manual/core/aggregation/\">aggregation framework</a>.</p>\n\n<p>It also has the same drawback as $where: Unless you filter, you will have to run not one but at least two javascript functions for each document.</p>\n\n<p>But MapReduce can at least run distributed and it can be parallelized.</p>\n\n<h2>tl;dr:</h2>\n\n<p>Using Javascript is a last resort measure for very unusual queries which can not be made with the normal query language and which require access to too much data to be implemented in the application. When possible, do what you want to do with the specialized tools you have available or implement your logic on the application layer.</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>Does running server-side JavaScript have performance issues in MongoDB? Does V8 solve said performance issues?</p>\n\n<p>Why does the <a href=\"http://docs.mongodb.org/manual/tutorial/store-javascript-function-on-server/\" rel=\"nofollow\">MongoDB documentation</a> recommended not using server-side functions?</p>\n",
            "last_activity_date": 1373937252,
            "question_id": 17550244,
            "score": 3,
            "tags": [
                "javascript",
                "function",
                "mongodb"
            ],
            "title": "Does server-side javascript function have performance issues in mongoDB?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>A function is not a block. A block is (for example) what follows a <code>while</code>, <code>for</code>, or <code>if</code>.</p>\n\n<p>First, understand that function declarations (<code>function foo() {}</code>) are <em>hoisted</em> to the top of the scope of their containing function (i.e., you can access a declared functions by name anywhere in the same scope as the declaration).:</p>\n\n<pre><code>foo();\nfunction foo() { }\n</code></pre>\n\n<p>This out-of-order code is 100% legal because the declaration of <code>foo</code> is hoisted to above the <code>foo()</code> invocation. However, now imagine you have a conditional declaration:</p>\n\n<pre><code>if(false) {\n    function foo() { }\n}\n</code></pre>\n\n<p>From a language-design perspective, should <code>foo</code> be hoisted? The program flow will never enter the block, but we customarily hoist <em>all</em> declarations. Due to this confusion, declarations inside blocks are not part of the grammar defined by the ECMAScript spec (though each implementation does support this grammar, but causes a different, nonstandard effect in each).</p>\n\n<p>Having a function inside another function does not carry this confusion:</p>\n\n<pre><code>function bar() {\n    function foo() { }\n}\n</code></pre>\n\n<p>It's obvious that <code>foo</code> will be hoisted to the top of <code>bar</code> (whenever it runs).</p>\n\n<p>Thus, your first example is perfectly fine.</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>According to the Google JavaScript style guide, function declarations should not be declared within blocks since this is not a part of ECMAScript. However, I'm not entirely clear on what counts as a block.</p>\n\n<p>Specifically, I have a constructor function and I want to define a function within the scope of that constructor. Would this count as a function within a block, since it is within a set of {}? If so, does that mean every function declaration must be global?</p>\n\n<p>Some code for good measure:</p>\n\n<h2>WRONG (?)</h2>\n\n<pre><code>function Constructor() {\n    function Shout () { alert('THE BEST UX IS IN ALL CAPS.'); }\n}\n</code></pre>\n\n<h2>RIGHT (?)</h2>\n\n<pre><code>function Constructor() {\n    var Shout = function () { alert('THE BEST UX IS IN ALL CAPS.'); };\n}\n</code></pre>\n",
            "last_activity_date": 1412798515,
            "question_id": 17409945,
            "score": 3,
            "tags": [
                "javascript",
                "ecmascript-5",
                "google-style-guide"
            ],
            "title": "Function Declarations Within Blocks according to the Google JavaScript style guide"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You could write a directive that takes both <code>users</code> and <code>items</code> as bindings attributes (especially because it seems like your inner loop is independant from the outer one), then manually nest two loops that would add content to the DOM, plus adding a scroll listener to each element. It's more hard-way coding but a lot less watchers.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>This is in relation with my question - <a href=\"http://stackoverflow.com/questions/14065050/angular-js-consumes-more-browser-memory\">Angular JS consumes more browser memory</a></p>\n\n<p>My problem here is I need nested ng-repeats and the nested ng-repeats consumes more memory because of more watches being registered.</p>\n\n<pre><code>&lt;table&gt;\n  &lt;thead&gt;&lt;td&gt;Id&lt;/td&gt;&lt;td&gt;Name&lt;/td&gt;&lt;td&gt;Ratings&lt;/td&gt;&lt;/thead&gt;\n  &lt;tbody&gt;\n   &lt;tr ng-repeat=\"user in users | orderBy:'name' | limitTo:display_limit\"&gt;\n    &lt;td&gt;{{user.id}}&lt;/td&gt;\n    &lt;td&gt;{{user.name}}&lt;/td&gt;\n    &lt;td&gt;&lt;div ng-repeat=\"item in items | orderBy:'rating' | limitTo:inner_display_limit\"&gt;{{item.rating}}&lt;/div&gt;&lt;/td&gt;\n   &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Here in my case, the number of objects that outer ng-repeat and inner ng-repeat operates on can go upto 1000. And as @Liviu pointed in the answer,<code>each of the outer ng-repeat registers watch on the inner ng-repeat</code> and that leads to consumable amount of memory being used. Is there a way we can <code>avoid the outer ng-repeat from registering watches on inner ones</code> by writing our own custom directive? </p>\n\n<p>My case is in both inner and outer ng-repeats, I display the initial 50 items and on scroll, if the scroll reaches the end of the corresponding DOM, I update the limit by 50, so that the next 50 items gets displayed.</p>\n\n<p>Any help is much appreciated!</p>\n",
            "last_activity_date": 1377409498,
            "question_id": 17379578,
            "score": 3,
            "tags": [
                "javascript",
                "angularjs",
                "angularjs-directive",
                "angularjs-scope",
                "angularjs-ng-repeat"
            ],
            "title": "AngularJS Outer ng-repeat not to register watches on inner ng-repeat"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Jasmine does allow you to put <code>beforeEach</code> and <code>afterEach</code> outside of a <code>describe</code> call. In this way you can have setup and teardown that is global for all of your specs. Your <code>logout()</code> call seems like it might be a good candidate for global teardown, and if all of your specs login as an admin, you could move that out to global scope as well.</p>\n\n<p>For things that are used in some, but not all, specs, having a method like your <code>login_as_admin()</code> seems like the best way to consolidate that logic in one place.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Reference: (<a href=\"http://pivotallabs.com/drying-up-jasmine-specs-with-shared-behavior/\" rel=\"nofollow\">Pivotal Labs Blog:Davis W. Frank</a>)</p>\n\n<p>He describes collecting shared functionality in a function that is called with parameters for the different individual suites.  Calling this function within each suite will execute the common setup/configuration.  </p>\n\n<p>As to splitting tests across files; the file with the shared function can either be included within each page with a <code>&lt;script&gt;</code> tag if the tests are browser based, or by a <code>require(...)</code> near the top if the tests are node based.  You can then run the tests independently but using that shared setup which is defined only once.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think this is partially examined <a href=\"http://pivotallabs.com/drying-up-jasmine-specs-with-shared-behavior/\" rel=\"nofollow\">in this blog post</a> and also <a href=\"http://stackoverflow.com/a/6440097/511069\">answered here</a> but i'm adding an adapted answer for your example:</p>\n\n<p>Reusable code:</p>\n\n<pre><code>function sharedSetup(startPage) {\n    beforeEach(function() {\n        login_as_admin();\n        browser().navigateTo(startPage);\n    });\n\n    afterEach(function() {\n        logout();\n    });\n};\n</code></pre>\n\n<p>How to use it:</p>\n\n<pre><code>describe('Services Page', function() {\n    sharedSetup('/services');\n\n    it('Some test for services page', function() {});\n});\n\ndescribe('Administrators Page', function() {\n    sharedSetup('/administrators');\n\n    it('Some test for administrators page', function() {});\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>When writing tests with JasmineJS I have many tests that have similar beforeEach/afterEach code.</p>\n\n<p>Is there a way to implement an inheritance model using JasmineJS test suites?</p>\n\n<p>I can group all tests in a single <code>describe</code> but in this case I will end with a single HUGE JS file containing all tests.</p>\n\n<p>I would like to split the tests for each page.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>describe('Services Page', function() {\n\n    beforeEach(function() {\n        login_as_admin()\n    })\n\n    beforeEach(function() {\n        browser().navigateTo('/services')\n    })\n\n    if('Some test for services page', function() {})\n\n    afterEach(function() {\n        logout()\n    })\n\n})\n\n\ndescribe('Administrators Page', function() {\n\n    beforeEach(function() {\n        login_as_admin()\n    })\n\n    beforeEach(function() {\n        browser().navigateTo('/administrators')\n    })\n\n    if('Some test for administrators page', function() {})\n\n    afterEach(function() {\n        logout()\n    })\n\n})\n</code></pre>\n",
            "last_activity_date": 1416064330,
            "question_id": 17317839,
            "score": 3,
            "tags": [
                "javascript",
                "testing",
                "jasmine",
                "dry"
            ],
            "title": "How to reuse beforeEach/afterEach in Jasmine JS?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If you want the inner <code>position: absolute</code> div to be positioned relative to the window (which you should specify <code>position: relative</code> on) you need to not nest it.</p>\n\n<p><code>position: absolute</code> will ALWAYS be positioned relative to its MOST IMMEDIATE positioned parent (with <code>position: absolute</code> or <code>position: relative</code>).  You can't bypass this - you just have to structure your HTML better or implement the CSS differently.  </p>\n\n<p>So basically the answer to your question is no :( at least not without using fixed positioning which you specifically mentioned not wanting to do.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<h1>Answer</h1>\n\n<p>No. You can't do that.</p>\n\n<h1>Reasoning</h1>\n\n<p>If you WERE able to do that then you could position one div completely away from the parent. This would not only make the parent \"lonely\" but also entirely defeat the purposes of nesting. Nesting div tags or any tags for that matter is not just done for cosmetic purposes; it is done to convey <strong>textual</strong> meaning to the user.</p>\n\n<p>May i suggest reconsidering your approach? Perhaps if you explain what you would like the final result to become, we can help you. there must surely be a solution.</p>\n\n<h1>Possible Solutions</h1>\n\n<ul>\n<li>If you need the inner div be positioned at the top then take it one level out.</li>\n<li>remove absolute positioning from the parent.</li>\n<li>Utilzing another method of positioning other than absolute.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You'll have to calculate the difference between its natural position and the desired position to place it absolutely in the window.</p>\n\n<p>If you're using jQuery, you can let it do the math for you via the <a href=\"http://api.jquery.com/offset/\" rel=\"nofollow\">.offset(coordinates)</a> function.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>\"The absolutely positioned element is positioned relative to nearest positioned ancestor.\" -<a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/position\" rel=\"nofollow\">MDN: position - CSS</a></p>\n\n<p>I understood this when there was a parent who was defined as <code>position:relative;</code> but what I didn't realize was that <code>position:absolute</code> technically qualified as a \"positioned ancestor\".</p>\n\n<p>Here is a sample: <a href=\"http://jsfiddle.net/MSzZG/\" rel=\"nofollow\">http://jsfiddle.net/MSzZG/</a> It would be nice if the text \"At top\" could have the <code>top</code> property apply to the window instead of the containing <code>div</code> but I just cannot figure out if it is possible to bypass.</p>\n\n<pre><code>&lt;div&gt;\n &lt;div&gt;Content\n &lt;/div&gt;\n&lt;/div&gt;\n&lt;div style=\"position:absolute;\"&gt;\n &lt;div style=\"position:absolute;top:0px;\"&gt;At top\n &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Is there any way to bypass a previously positioned absolute element (<em>without</em> using fixed)? A javascript solution is acceptable.</p>\n",
            "last_activity_date": 1371159386,
            "question_id": 17096851,
            "score": 3,
            "tags": [
                "javascript",
                "html",
                "css",
                "position"
            ],
            "title": "Possible to bypass then nearest positioned ancestor?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>On the TypeScript team, we just use regular code coverage tools on the compiled JavaScript. We've found this to be more than sufficient, since usually for code coverage you are looking at total coverage % (which doesn't change significantly) or are deep-diving at expression-level (which also doesn't change significantly).</p>\n\n<p>If you found a tool that supported it (I'm not aware of any yet), you could in theory use the source maps emitted by the compiler to map the coverage data back to the TypeScript code. It's probably not worth the trouble.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>You can use <a href=\"http://chutzpah.codeplex.com/\" rel=\"nofollow\">Chutzpah</a> for that</p>\n\n<p>With Chutzpah you can run your tests from command line and integrate your tests with Visual Studio Test Explorer.</p>\n\n<p>Chutzpah allows you decide if you want to run the tests from .ts files, .js files, .html files or from all of them.</p>\n\n<p>When set (in Visual Studio/Tools/Options/Chutzpah) to run tests from .ts files, you will be able to analyze code coverage of your generated .js files, with a link between the generated JavaScript code and the .ts file that generated it.</p>\n\n<p>It makes really easy to work on your TypeScript code coverage, even being the JavaScript code the real code under test.</p>\n\n<p>You can install Chutzpah from Visual Studio/Tools/Extensions and updates.</p>\n\n<p>You can find <a href=\"http://matthewmanela.com/blog/chutzpah-2-4-code-coverage-is-a-go/\" rel=\"nofollow\">here</a> more details about code coverage using Chutzpah.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>We've just started a project in Typescript and we need to get code coverage figures.</p>\n\n<p>Our existing JavaScript projects use Instanbul in Grunt for coverage. We are unsure how to replicate this for TypeScript.</p>\n\n<p>Are there any tools for generating code coverage from the TypeScript code itself?\nOr do we run the Istanbul (or similar) tool against the generated JavaScript code.</p>\n",
            "last_activity_date": 1370949438,
            "question_id": 17026959,
            "score": 3,
            "tags": [
                "javascript",
                "code-coverage",
                "typescript"
            ],
            "title": "Code Coverage for Typescript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The easiest way to see the request and response is as follows:</p>\n\n<ol>\n<li>Open the website where you want to inspect request and response in chromw.</li>\n<li>Click F12 for chrome extention.</li>\n<li>Click on Network tab.</li>\n<li>Here you will be able to see all request and response. You will also be able to view how much time is taken by each request.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I'm pretty sure you can track each request if you <em>instanciate a new object</em> for each call:</p>\n\n<pre><code>var oXhr;\n\n    oXhr = new XMLHttpRequest();\n    oXhr.id = (new Date()).getTime(); /* just an example. It might be flawed if you process requests more than once per ms */\n\n    oXhr.onreadystatechange = function() {\n        if (oXhr.readyState == 4 &amp;&amp; (oXhr.status == 200)) {\n            //do your stuff here\n            console.log(this.id);\n        }\n    } \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>Many time we face issues while working on Asynchronous javascript. We are not sure what request is posted and what respones is obtained.</p>\n\n<p>How to Debug AJAX Requests. Is there a easy way to do that.</p>\n",
            "last_activity_date": 1371752510,
            "question_id": 16970941,
            "score": 3,
            "tags": [
                "javascript",
                "ajax",
                "debugging"
            ],
            "title": "Debug AJAX Requests"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Simply add <code>onpaste</code> fixed the problem</p>\n\n<pre><code>&lt;textarea name=\"q&lt;%=countNo%&gt;_ans\" rows=\"3\" cols=\"55\" maxlength=\"2000\" style=\"resize: none;\" onkeyup=\"new do_resize(this);\" onKeyPress=\"return ( this.value.length &lt; 2000); onpaste=\"return ( this.value.length &lt; 2000);\"&gt;&lt;/textarea&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>The code in the question effectively disables typing from keyboard when the limit has been reached. To impose the restriction on pasted content too, you need to handle other events, too. The following code truncates the textarea content to the given length. This is not good usability (you should probably signal an attempt to exceed the limit, instead of silent truncation, and you could have a character counter on the page to help the user), but it does what was asked for:</p>\n\n<pre><code>&lt;textarea maxlength=2000\n  onchange=\"testLength(this)\"\n  onkeyup=\"testLength(this)\"\n  onpaste=\"testLength(this)\"\n&gt;&lt;/textarea&gt;\n&lt;script&gt;\nvar maxLength = 2000;\nfunction testLength(ta) {\n  if(ta.value.length &gt; maxLength) {\n    ta.value = ta.value.substring(0, maxLength);\n  }\n}\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>Just for some hstory on this, maxlength on a textarea is a new HTML5 feature which was only first supported by IE in 10. IE 9 and below never supported it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>From research on internet, max length attribute is not working on  IE 8 and 9</p>\n\n<p>To resolve the problem I tried a solution from here , it use with the other function which is for presentation textarea:</p>\n\n<pre><code>//Dynamic append the textarea row\nfunction do_resize(textArea) {\n    while (\n        textArea.rows &gt; 1 &amp;&amp;\n        textArea.scrollHeight &lt; textArea.offsetHeight\n    )\n    {\n        textArea.rows--;\n    }\n    while (textArea.scrollHeight &gt; textArea.offsetHeight)\n    {\n        textArea.rows++;\n    }\n    textArea.rows++\n}\n\n\n&lt;textarea name=\"q&lt;%=countNo%&gt;_ans\" rows=\"3\" cols=\"55\" maxlength=\"2000\" style=\"resize: none;\" onkeyup=\"new do_resize(this);\" onKeyPress=\"return ( this.value.length &lt; 2000);\"&gt;&lt;/textarea&gt;\n</code></pre>\n\n<p>The problem is , The textarea is not able to input any character after it exceed the 2000 in IE8 9 , but I can still use the copy and paste function which will exceed the textarea limit. How to fix this? thanks</p>\n",
            "last_activity_date": 1398272550,
            "question_id": 16909063,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "textarea",
                "maxlength"
            ],
            "title": "Max length of textarea is not working on IE8"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>As it turns out, yes, IE10 does not let you both programmatically load a file dialog <em>and</em> automatically submit a form after a <code>change</code> event on a file dialog. Presumably one or the other will work, but not both. I haven't found any documentation to support this claim other than my own experimentation.</p>\n\n<p>The solution I found was to use CSS to style the file dialog's button such that it was invisible, but laid over the top of the nice-looking button, so that when you <em>think</em> you're clicking on the button, you're actually clicking on the file dialog's \"select\" button:</p>\n\n<pre><code>input[type=file] {\n    /* positioning strategies will vary depending on design */\n    font-size: 25px;\n    position: relative;\n    top: -50px;\n    left: -10px;\n\n    /* make it invisible! */\n    opacity: 0;\n\n    /* make the cursor act like it's hovering over an anchor tag */\n    cursor: pointer;\n    cursor: hand;\n}\n</code></pre>\n\n<p>Then you just need to listen for the <code>change</code> event and submit the form as before:</p>\n\n<pre><code>$(\"input[type=file]\").on(\"change\", function () {\n    // auto-submit form\n    $(\"form\").submit();\n});\n</code></pre>\n\n<p>Doing this means that you are \"organically\" loading the file dialog, and IE10 lets it happen and allows you to auto-submit the form.</p>\n\n<p>This solution also works in WebKit and Firefox.</p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I have a form whose only purpose is to upload files, but for user experience reasons, I need a nice-looking button that:</p>\n\n<ol>\n<li>loads the file dialog</li>\n<li>auto-submits the form when a file has been selected</li>\n</ol>\n\n<p>The original solution was something like <a href=\"http://jsfiddle.net/MCJaQ/2/\" rel=\"nofollow\">this JSFiddle</a>, where you have a link that loads the file dialog, then listens for the dialog's <code>change</code> event to auto-submit the form:</p>\n\n<pre><code>$(\"input[type=file]\").on(\"change\", function () {\n    // auto-submit form\n    $(\"form\").submit();\n});\n\n$(\"#my-nice-looking-button\").on(\"click\", function (e) {\n    e.preventDefault();\n    // load file dialog\n    $(\"input[type=file]\").trigger(\"click\");\n});\n</code></pre>\n\n<p>If you try that fiddle, it will work in IE9, Chrome, Firefox, etc., but it doesn't work in Internet Explorer 10. All the JavaScript functionality works, including the form's <code>submit</code> event getting fired. But, the browser never POSTs the form data to the server; it just sits there.</p>\n\n<p>Is there some security safeguard or file upload limitation built into IE10 that prevents this from working?</p>\n",
            "last_activity_date": 1369160807,
            "question_id": 16676945,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "internet-explorer",
                "internet-explorer-10"
            ],
            "title": "Dynamically submitting a file upload form in IE10 using jQuery"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Dagre works pretty well for graph layout (horizontal/vertical alignment, labels, etc.) and has D3 renderer.</p>\n\n<p><a href=\"https://github.com/cpettitt/dagre-d3\" rel=\"nofollow\">https://github.com/cpettitt/dagre-d3</a> (check images at the end)</p>\n\n<p><a href=\"https://github.com/cpettitt/dagre\" rel=\"nofollow\">https://github.com/cpettitt/dagre</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In a commercial scenario you might want to consider <a href=\"http://www.yworks.com/yfileshtml\" rel=\"nofollow\">yFiles for HTML</a>:</p>\n\n<p>Regarding your requirements it can:</p>\n\n<ul>\n<li>Add any number of labels to nodes and edges</li>\n<li>Provide virtually infinite scrolling/panning/zooming area</li>\n<li>Layout your graph automatically using a great variety of automatic layout algorithms. For dependency graphs, the <a href=\"http://live.yworks.com/yfiles-for-html/1.1/demos/Complete/demo.yfiles.layout.incrementalhierarchiclayouter/index.html\" rel=\"nofollow\">Hierarchic Layouter</a> is very well suited</li>\n<li>works nicely on desktop browsers with larger numbers of nodes. Depending on the visual complexity and graph structure, 5000 elements might proove difficult with todays browser implementations, though.</li>\n<li>It's a pure Javascript library with no dependencies whatsoever</li>\n<li>Uses SVG as the main backend, but can also leverage Canvas</li>\n<li>The library is <a href=\"http://docs.yworks.com/yfileshtml\" rel=\"nofollow\">well documented</a>, which is necessary given its complexity</li>\n</ul>\n\n<p>Here is a screenshot showing some of the above features in action - the layout was calculated automatically:</p>\n\n<p><img src=\"http://i.stack.imgur.com/l5Pip.png\" alt=\"enter image description here\"></p>\n\n<p><em>Disclaimer</em>: I work for the company that creates the library. On SO/SE I do not represent my employer. This is my own post.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to make a browser-based tool that lets you inspect dependency graphs as they appear in module systems of programming languages and Makefiles.</p>\n\n<p>I am looking for a visualization framework that does the drawing for me.</p>\n\n<p>The requirements are that the toolkit can</p>\n\n<ul>\n<li>label nodes (and hopefully edges)</li>\n<li>automatically space out the graph to the right size (I don't have to guess good dimensions) given that I have infinit space (scroll bars are fine)</li>\n<li>layout the graph nicely so that it doesn't look as messy</li>\n<li>be fine with &lt;= 5000 nodes</li>\n<li>run with JS only (no Flash or desktop apps)</li>\n</ul>\n\n<p>Optionally, it would be nice if it made it easy to move nodes around and highlight or hide parts of the graph for better overview.</p>\n\n<p>It does not matter much what backed is used (SVG, canvas, all fine).</p>\n\n<p>I have looked at quite a few libraries so far (especially from <a href=\"http://stackoverflow.com/questions/7034/graph-visualization-code-in-javascript\">Graph visualization code in javascript?</a>), but not found a fitting one yet:</p>\n\n<ul>\n<li><a href=\"http://d3js.org\" rel=\"nofollow\">d3</a> is nice but the only node-graph it delivers is a force graph, which is focused on real time physics. Once loaded, you have to wait and watch for the physics engine to stabilize. I don't need animations nor the Force, and want to show the graph right away.</li>\n<li><a href=\"http://www.graphdracula.net\" rel=\"nofollow\">GraphDracula</a>'s <a href=\"http://www.graphdracula.net/showcase/\" rel=\"nofollow\">examples</a> are pretty much what I am looking for, but already with 70 nodes and 400 edges, the drawing performance becomes really bad. It also has very little <a href=\"http://www.graphdracula.net/documentation/\" rel=\"nofollow\">documentation</a> (being a 35 line code example).</li>\n</ul>\n\n<p>Do you know something that meets my requirements? Thanks!</p>\n",
            "last_activity_date": 1390577490,
            "question_id": 16647456,
            "score": 3,
            "tags": [
                "javascript",
                "graph-layout"
            ],
            "title": "JS library for displaying direct acyclic graphs (DAGs)"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>In jQuery, you could trigger a custom event:</p>\n\n<pre><code>$(\"#hidden_input_id\").trigger(\"special-change\");\n</code></pre>\n\n<p>And you can listen with:</p>\n\n<pre><code>$(\"#hidden_input_id\").on(\"special-change\", function () {\n\n});\n</code></pre>\n\n<p><strong>DEMO:</strong> <a href=\"http://jsfiddle.net/byKak/\">http://jsfiddle.net/byKak/</a></p>\n\n<p>Reference:</p>\n\n<ul>\n<li><code>.trigger()</code>: <a href=\"http://api.jquery.com/trigger/\">http://api.jquery.com/trigger/</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I want to fire an onChange event for hidden field, \nMost of the forums I've read suggests that onChange doesn't work for hidden fields, \nSo is there a way around for that, something like Plan-B?</p>\n",
            "last_activity_date": 1368766016,
            "question_id": 16601556,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "onchange"
            ],
            "title": "How do I trigger an onChange event for a hidden field?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I tried to understand your question, you are using the plugin <a href=\"http://www.kunalbabre.com/projects/table2CSV.php\" rel=\"nofollow\"><code>table2CSV</code></a></p>\n\n<p>Here is a fiddle: <a href=\"http://jsfiddle.net/IrvinDominin/5St7u/\" rel=\"nofollow\">http://jsfiddle.net/IrvinDominin/5St7u/</a></p>\n\n<p>In short you can't define a file name form data:URI, actually there is not a cross browser solution; here is a liked SO question <a href=\"http://stackoverflow.com/questions/283956/is-there-any-way-to-specify-a-suggested-filename-when-using-data-uri\">Is there any way to specify a suggested filename when using data: URI?</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>i wrote a tool you can use to save a file to the downloads folder of the local machine with a custom filename, if that's possible on the client's machine.</p>\n\n<p>as of this writing, you need chrome, firefox, or IE10 for that specific capability, but this tool falls-back to an un-named download if that's all that's available, since something is better than nothing...</p>\n\n<p>for your use:</p>\n\n<pre><code>download(csv, \"dowload.csv\", \"text/csv\");\n</code></pre>\n\n<p>and the magic code:</p>\n\n<pre><code>function download(strData, strFileName, strMimeType) {\n    var D = document,\n        a = D.createElement(\"a\");\n        strMimeType= strMimeType || \"application/octet-stream\";\n\n\n    if (navigator.msSaveBlob) { // IE10\n        return navigator.msSaveBlob(new Blob([strData], {type: strMimeType}), strFileName);\n    } /* end if(navigator.msSaveBlob) */\n\n\n    if ('download' in a) { //html5 A[download]\n        a.href = \"data:\" + strMimeType + \",\" + encodeURIComponent(strData);\n        a.setAttribute(\"download\", strFileName);\n        a.innerHTML = \"downloading...\";\n        D.body.appendChild(a);\n        setTimeout(function() {\n            a.click();\n            D.body.removeChild(a);\n        }, 66);\n        return true;\n    } /* end if('download' in a) */\n\n\n    //do iframe dataURL download (old ch+FF):\n    var f = D.createElement(\"iframe\");\n    D.body.appendChild(f);\n    f.src = \"data:\" +  strMimeType   + \",\" + encodeURIComponent(strData);\n\n    setTimeout(function() {\n        D.body.removeChild(f);\n    }, 333);\n    return true;\n} /* end download() */\n</code></pre>\n\n<p>update: added future-resistant IE routine</p>\n",
                    "is_accepted": false,
                    "score": 14
                }
            ],
            "body": "<p>I'm using a plugin to generate a csv file from a table, the file is being downloaded with a \"download\" filename, how can I change the filename e.g. as dowload.csv</p>\n\n<pre><code>var csv = $(\"#table\").table2CSV({delivery:'download'});\nwindow.location.href = 'data:text/csv;charset=UTF-8,'+ encodeURIComponent(csv);\n</code></pre>\n",
            "last_activity_date": 1388439982,
            "question_id": 16376161,
            "score": 3,
            "tags": [
                "javascript",
                "csv"
            ],
            "title": "Javascript set file in download"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><code>loadeddata</code> won't necessarily fire before playback starts. In Flash it never does, with HTML5 the event is relayed from the video element so it depends on the browser behaviour. </p>\n\n<p><code>loadedalldata</code> is when the entire video is downloaded, so is unlikely to occur before playback starts.</p>\n\n<p>You specify which function to remove from the event because you could have bound more than one function to the event, e.g.</p>\n\n<pre><code>vidPlayer.addEvent(\"play\", onPlay1 );\nvidPlayer.addEvent(\"play\", onPlay2 );\nvidPlayer.removeEvent(\"play\", onPlay1 ); // onPlay2() would still be executed\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I suspect you ran into the same issue I did. If your browser is using the HTML5 video (instead of Flash fallback) Some events, like <code>loadedmetadata</code> and <code>loadeddata</code>, may fire before Video.js binds the event listeners.</p>\n\n<p>This is particularly true if you are doing some preloading, and there is a delay between when the video start to load and when you initialising Video.js. It also seems to occur when there is a cached copy, which is why it works on every second refresh (invalidating the cache).</p>\n\n<p>The solution is to just throw your video initlisation stuff in the <code>&lt;head&gt;</code> instead of at the bottom of the document. If that is not ideal (which it wasn't for us), we added an event listener to the <code>&lt;head&gt;</code> and then checked for it after we initialised the player. For example</p>\n\n<p>In <code>&lt;head&gt;</code>:</p>\n\n<pre><code>&lt;script&gt;\nvar loadedmetadata = false;\nif (window.addEventListener) {\n    window.addEventListener('loadedmetadata', function(ev) {\n            loadedmetadata = true;\n    }, true);\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>And then later in your script:</p>\n\n<pre><code>if (loadedmetadata === true &amp;&amp; videoPlayer.techName === 'html5') {\n    // call the callback you would have attached to\n    // the event listener.\n} else {\n    // add event listener here\n]\n</code></pre>\n\n<p><code>window.addEventListener</code> is not supported in IE7/8, but thats okay, because they don't support HTML5 video anyway, so it won't ever fire. IE9 supports <code>window.addEventListener</code> and HTML5 video, so it will work as expected.</p>\n\n<p>We also check that the <code>techName</code> is <code>html5</code>, since the Flash player is created when we initialise the Video.js object, so the event shouldn't have fired previously.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I am integrating Video.js into a project and having a few issues.</p>\n\n<p>I have it in my HTML as: </p>\n\n<pre><code>&lt;video id=\"vidView\" class=\"video-js vjs-default-skin\" width=\"320\" height=\"320\" \n   poster=\"/siteImages/Dummy.png\" preload=\"auto\"&gt;\n   &lt;source type=\"video/mp4\" src=\"\" \\&gt;\n&lt;/video&gt;\n</code></pre>\n\n<p>And in my javascript I load a source and manage to play it.</p>\n\n<pre><code>var vidPlayer = _V_(\"vidView\");\nvidPlayer.src({ type: \"video/mp4\", src: vidlink });\n\nvidPlayer.play();\n</code></pre>\n\n<p>Only doing this programmatically was having issues - every second load of a source and play would work.  I imagined I was trying to play before video.js was ready, so sought to use listeners to launch play at the proper time.</p>\n\n<p>I have found that certain events never fire at all.  I can't get anything from \"loadedalldata\" event or \"loadeddata\".   The \"loadstart\" event fires at least, so I put my .play() command in there.</p>\n\n<pre><code>vidPlayer.addEvent(\"loadstart\", function(){ console.log(\"LOAD START Fired\" );\n  var myPlayer = this;\n  myPlayer.play(); \n} );\n</code></pre>\n\n<p>But it's still not reliable.  I see messages on my console of \"Trying to resume!\" several times. It plays for a few videos, but gets bogged down sometimes. </p>\n\n<p>Am I missing something in getting \"loadeddata\" event to happen?  </p>\n\n<p>Also, related Q - I notice that the docs say the syntax for removing an Event listener is: </p>\n\n<p>myPlayer.removeEvent(\"eventName\", myFunc);</p>\n\n<p>Is that right?  It seems like the \"myFunc\" part is redundant, and I'm wondering if that is a copy/paste error in <a href=\"https://github.com/zencoder/video-js/blob/master/docs/api.md\" rel=\"nofollow\">the documentation</a>  or if that's correct syntax.</p>\n\n<p>Thx in advance.</p>\n",
            "last_activity_date": 1368547685,
            "question_id": 16195331,
            "score": 3,
            "tags": [
                "javascript",
                "video",
                "video.js"
            ],
            "title": "Video.js - loadeddata event never fires"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>A property called \"prototype\" is only interesting on objects that are functions. Assigning a value to the \"prototype\" property in your constructor has no effect (in this case); what matters would be the \"prototype\" property of the constructor function itself.</p>\n\n<pre><code>SecondClass.prototype = new MyClass();\n</code></pre>\n\n<p>or something. The prototype object of a constructor is shared among all the instances constructed, so having the prototype vary by a constructor parameter also doesn't make a lot of sense.</p>\n\n<p>Another thing you could do would be to call the \"MyClass\" constructor from inside \"SecondClass\":</p>\n\n<pre><code>function SecondClass(b) {\n  MyClass.call(this, b);\n  this.getB = function() {\n    return 6;\n  };\n}\n</code></pre>\n\n<p>That would have the effect of making the <code>this</code> that's constructed in the <code>new SecondClass()</code> call be decorated by the \"MyClass\" constructor. It wouldn't really be inheritance, but you'd get a \"getA\" function.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><code>prototype</code> is a special property of the <strong>constructor function</strong>, not of the <strong>instance</strong>.</p>\n\n<p>When you call the constructor function with <code>new Func()</code>, the engine will create a new object which inherits from <code>Func.prototype</code> and then sets <code>this</code> inside the constructor function to refer to the new object.</p>\n\n<p>So, aside from <code>this.prototype</code> just being an ordinary property, the inheritance already took place when the assignment takes place.</p>\n\n<p>Since you are not assigning any methods to <code>MyClass.prototype</code>, you don't have to do anything with prototype inheritance here. All you have to do is apply <code>MyClass</code> to the newly created instance using <a href=\"https://developer.mozilla.org/en/docs/JavaScript/Reference/Global_Objects/Function/call\" rel=\"nofollow\"><code>.call</code> <em><sup>[MDN]</sup></em></a>:</p>\n\n<pre><code>var SecondClass = function(b) {\n    MyClass.call(this, b);\n    this.getB = function() {\n        return 6;\n    }\n};\n</code></pre>\n\n<hr>\n\n<p>However, you should <a href=\"http://stackoverflow.com/q/310870/218196\">add all methods that are shared by instances to the prototype</a> and then let each instance of <code>SecondClass</code> inherit from it. This is how a complete setup could look like:</p>\n\n<pre><code>var MyClass = function(b) {\n    this.a = b;\n}\nMyClass.prototype.getA = function() {\n    return this.a;\n};\n\nvar SecondClass = function(b) {\n    // call parent constructor (like 'super()' in other languages)\n    MyClass.call(this, b);\n}\n// Setup inheritance - add 'MyClass.prototype' to the prototype chain\nSecondClass.prototype = Object.create(MyClass.prototype);\nSecondClass.prototype.getB = function() {\n    return 6;\n};\n\nvar a = new SecondClass(2);\nconsole.log(a.getA());\n</code></pre>\n\n<hr>\n\n<p>All of this <a href=\"http://wiki.ecmascript.org/doku.php?id=strawman%3amaximally_minimal_classes\" rel=\"nofollow\">will become easier in ES6</a>.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I have this code:</p>\n\n<pre><code>var MyClass = function(b) {\n    this.a = b;\n    this.getA = function() {\n        return that.a;\n    }\n}\n\nvar SecondClass = function(b) {\n    this.prototype = new MyClass(b);\n    this.getB = function() {\n        return 6;\n    }\n}\n\nvar a = new SecondClass(2);\nconsole.log(a.getA());\n</code></pre>\n\n<p>The output tells me that a has no method called getA()</p>\n\n<p>I assumed that doing this.prototype = new MyClass() inside the constructor for SecondClass would cause it to inhert methods from MyClass?</p>\n\n<p>I'm sure there are better ways to do this, but I am trying to understand the behaviour of the prototype keyword.</p>\n",
            "last_activity_date": 1366733211,
            "question_id": 16173901,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "Assigning prototype inside constructor"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Ok I've scrapped your thing and have made a complete new one, I've just not wrapped up things inside a position relative container but you can manage to do it atleast</p>\n\n<p>The things are easy for vertical scroll but if you expect horizontal scroll and move headers along, (CSS Wont Just Do It)</p>\n\n<p><a href=\"http://jsfiddle.net/j9C8R/16/\" rel=\"nofollow\"><strong>Demo</strong></a></p>\n\n<p>CSS</p>\n\n<pre><code>.head {\n    background-color: #f00;\n    width: 300px;\n    position: absolute;\n    left: 100px;\n}\n\n.head table {\n    width: 100%;\n}\n\n.body {\n    position: relative;\n    left: 100px;\n    top: 20px;\n    width: 300px;\n    height: 50px;\n    overflow-y: auto;\n}\n\n.body table {\n    width: 100%;\n}\n\n.body td {\n    width: 100px;\n}\n\n.head table td {\n    width: 100px;\n}\n\n.left {\n    position: absolute;\n    background-color: #0f0;\n    width: 90px;\n    top: 40px;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I do not think it is possible to achieve your goal through pure css as items that are sticky usually use <code>position:fixed</code> which unfortunately fixes them relative to the viewport.</p>\n\n<p>with the use of javascript (in this case the jquery library) and absolute positioning, you should be able to achieve what you are after:</p>\n\n<p><strong>new styles:</strong></p>\n\n<pre><code>.row {\n    height:50px;\n    overflow:scroll;\n    clear:both;\n    width:1000px;\n    position:relative; //for the absolute positioning of sticky\n    background-color:yellow;\n    padding-left:150px; //this is the size of your sticky column so it doesn't cover content when fully left\n    box-sizing:border-box;//this is so the padding doesn't add extra width to your 1000px\n}\n\n.sticky {\n    background-color:red;\n    position:absolute; left:0; top:0;\n}\n</code></pre>\n\n<p><strong>javascript:</strong></p>\n\n<pre><code>$('.main').scroll(function() {\n    $(this).find('.sticky').css('left', $(this).scrollLeft());\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/j9C8R/36/\">http://jsfiddle.net/j9C8R/36/</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I have two rows of data (green) and a header (red), which should be visible at all times:</p>\n\n<p>Check out the example I already have: </p>\n\n<p><a href=\"http://jsfiddle.net/j9C8R/33/\" rel=\"nofollow\">http://jsfiddle.net/j9C8R/33/</a></p>\n\n<p>This is my current HTML:</p>\n\n<pre><code>&lt;div class=\"main\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"sticky\"&gt;Sticky header A&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentA&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentA&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentA&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentA&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"sticky\"&gt;Sticky header B&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentB&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentB&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentB&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentB&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"sticky\"&gt;Sticky header C&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentC&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentC&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentC&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentC&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"sticky\"&gt;Sticky header D&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentD&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentD&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentD&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentD&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"sticky\"&gt;Sticky header E&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentE&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentE&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentE&lt;/div&gt;\n        &lt;div class=\"content\"&gt;ContentE&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And CSS:</p>\n\n<pre><code>.main {\n    background-color:blue;\n    overflow:scroll;\n    height:200px;\n    width:400px;\n}\n.row {\n    height:50px;\n    overflow:scroll;\n    clear:both;\n    width:1000px;\n    background-color:yellow;\n}\n.sticky, .content {\n    float:left;\n    width:150px;\n    border:1px solid black;\n}\n.sticky {\n    background-color:red;\n}\n.content {\n    background-color:green;\n}\n</code></pre>\n\n<p>Now the red header scrolls away together with the content, but it should stick to where it is now, but scroll vertically with the content (MS Excel style).</p>\n\n<p>How can this be achieved (preferably with only CSS).</p>\n\n<p><strong>UPDATE</strong>: It is important that the red headers scroll vertically along with the corresponding content but stick to the left edge when scrolling horizontally.</p>\n",
            "last_activity_date": 1366299955,
            "question_id": 16086812,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "css",
                "html"
            ],
            "title": "Horizontal scrolling with sticky div that stays on the left border"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><strong>Note:</strong> The <em>main</em> cause for your code to output <code>array()</code> is the fact that you're redirecting the client <em>before the asynchronous (AJAX) request has been sent/processed</em> <br/>\nBasically move <code>window.location = \"AddtoDatabase.php\";</code> to the success callback, as mentioned further down.</p>\n\n<p>First problem: Instead of using an array, you should use an object literal (~= assoc array in php).</p>\n\n<p>To do so, change this bit:</p>\n\n<pre><code>var dataArray = new Array(7);//&lt;== NEVER do this again, btw\ndataArray[0]= \"routeID:\" + routeID;\ndataArray[1]= \"custID:\" + custID;\ndataArray[2]= \"stopnumber:\" + stopnumber;\ndataArray[3]= \"customer:\" + customer;\ndataArray[4]= \"latitude:\" + lat;\ndataArray[5]= \"longitude:\" + lng; \ndataArray[6]= \"timestamp:\" + timeStamp; \n</code></pre>\n\n<p>And write this, instead:</p>\n\n<pre><code>var dataObject = { routeID: routeID,\n                   custID:  custID,\n                   stopnumber: stopnumber\n                   customer: customer,\n                   latitude: lat,\n                   longitute: lng,\n                   timestamp: timeStamp};\n</code></pre>\n\n<p>There's nothing more too it. To finish off, just send the data like so:</p>\n\n<pre><code>function postData()\n{\n    $.ajax({ type: \"POST\",\n             url: \"AddtoDatabase.php\",\n             data: dataObject,//no need to call JSON.stringify etc... jQ does this for you\n             cache: false,\n             success: function(resopnse)\n             {//check response: it's always good to check server output when developing...\n                 console.log(response);\n                 alert('You will redirect in 10 seconds');\n                 setTimeout(function()\n                 {//just added timeout to give you some time to check console\n                    window.location = 'AddtoDatabase.php';\n                 },10000);\n             }\n    });\n</code></pre>\n\n<p>Secondly, your <code>postData</code> function redirects the client before the AJAX request has been sent! After the call to <code>$.ajax</code>, you have a <code>window.location = \"AddtoDatabase.php\";</code> statement in your code. If you want the client to be redirected after the ajax call, you'll have to move that expression to your <code>success</code> callback function (the one where I log the <code>response</code>) in the second snippet ^^.</p>\n\n<p>When you've changed all this, your <code>$_POST</code> variable should look about right. If not, print out the <code>$_REQUEST</code> object and see what the response of an ajax call is then.</p>\n\n<p>Lastly, <em>please</em> be aware that using an api that supports prepared statements (and thus protects you against <strong>most</strong> injection attacks), that doesn't mean stringing unchecked POST/GET data into a query is any safer than it used to be...<br/>\nBottom line: When you use an API that supports critical safety features such as prepared statements <em>use those features</em>.</p>\n\n<p>Just to be absolutely clear, and complete, here's a slightly reworked version of the PHP code, too:</p>\n\n<pre><code>$routeID = $_POST['routeID'];\n$custID = $_POST['custID'];\n$stopnumber = $_POST['stopnumber'];\n$customer = $_POST['customer'];\n$latitude = $_POST['latitude'];\n$longitude = $_POST['longitude'];\n$timestamp = $_POST['timestamp'];\n//you're connecting OO-style, why do you switch to procedural next?\n//choose one, don't mix them, that makes for fugly code:\n$mysqli = mysqli_connect('fdb5.biz.nf', 'username', 'password', 'database');//procedural\n//or, more in tune with the times:\n$mysqli= new mysqli(\"fdb5.biz.nf\",\"username\",\"password\",\"database\");//OO\n\nmysqli_select_db($mysqli,\"database\");\n//or\n$mysqli-&gt;select_db('database');\n</code></pre>\n\n<p>Check the docs to see the procedural counterpart of all methods I'll be using from here on end, if you want. I prefer the OOP-API</p>\n\n<pre><code>//making a prepared statement:\n$query = 'INSERT INTO Locations \n          (routeID, custID, stopnumber, customer, latitude, longitude, timestamp) VALUES \n          (?,?,?,?,?,?,?)';\nif (!($stmt = $mysql-&gt;prepare($query)))\n{\n    echo $quer.' failed to prepare';\n    exit();\n}\n$stmt-&gt;bind_param('s', $routeID);\n$stmt-&gt;bind_param('s',$custID);\n//and so on\n$stmt-&gt;bind_param('d', $latitude);//will probably be a double\n$stmt-&gt;execute();//query DB\n</code></pre>\n\n<p>Useful links on prepared statements: </p>\n\n<ul>\n<li><a href=\"http://www.php.net/mysqli_prepare\"><code>mysqli::prepare</code> doc page</a></li>\n<li><a href=\"http://be2.php.net/manual/en/mysqli-stmt.bind-result.php\"><code>mysqli_stmt::bind_result</code> doc page</a> is invaluable when it comes to fetching data...</li>\n<li><a href=\"http://www.databasejournal.com/features/mysql/article.php/3599166/Connecting-and-prepared-statements-with-the-mysqli-extension.htm\">quick tutorial 1</a></li>\n<li><a href=\"http://www.phpmysqlitutorials.com/\">Q&amp;A-styled tutorial 2</a></li>\n<li>Just in case: a <a href=\"http://wiki.hashphp.org/PDO_Tutorial_for_MySQL_Developers\"><code>PDO</code> tutorial, too</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>you should use serialize. then......</p>\n\n<pre><code>&lt;script&gt;\n\njQuery(document).ready(function($){\n/* attach a submit handler to the form */\n$(\"#submit\").click( function(event) {\n\n/* stop form from submitting normally */\n event.preventDefault();\n\n /*clear result div*/\n $(\"#loginresponse\").html('');\n\n /* use serialize take everthing into array */\n    var frmdata = $(\"#formname\").serialize();\n\n$.ajax({\n  url: \"/file.php\",\n  type: \"post\",\n  dataType: \"json\",\n  data: frmdata,\n  success: function(data, textStatus){\n    if(data.redirect == 'true'){\n       $('#formresponse').html(data.message);\n      return true;\n    }else{\n      $('#formresponse').html(data.message);\n      return false;\n    }\n  },\n  error:function(){\n      $(\"#formresponse\").html('error');\n  }\n});\n});\n}); \n\n&lt;/script&gt;\n</code></pre>\n\n<p>than in php take data with post</p>\n\n<pre><code>&lt;?php\n$routeID = $_POST['routeID'];\n$custID = $_POST['custID'];\n$stopnumber = $_POST['stopnumber'];\n$customer = $_POST['customer'];\n$latitude = $_POST['latitude'];\n$longitude = $_POST['longitude'];\n$timestamp = $_POST['timestamp'];\n?&gt;\n</code></pre>\n\n<p>and display with json encode. this way you can display errors</p>\n\n<pre><code>&lt;?php \n\nif(true)\n    echo json_encode(array('redirect'=&gt;'true', 'message'=&gt;'form submitted'));\nelse\n    echo json_encode(array('redirect'=&gt;'false', 'message'=&gt;'form not submited'));\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm having issues posting an Array to a PHP page using AJAX. I've been using <a href=\"http://stackoverflow.com/questions/9001526/send-array-with-ajax-to-php-script\">this question</a> as guidance, but for whatever reason I still can't get it to work. From what I can tell by using <code>print_r($_POST)</code>, I am posting an empty Array, but on the HTML/Javascript page I use an alert to see that the Array has been filled. The post is working because it inputs blank values into a MySQL database on post, but I can't figure out why it is passing an empty Array. The code is as follows:</p>\n\n<p>Javascript:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var routeID = \"testRoute\";\n    var custID = \"testCustID\";\n    var stopnumber = \"teststopnumber\";\n    var customer = \"testCustomer\";\n    var lat = 10;\n    var lng = 20;\n    var timeStamp = \"00:00:00\";\n\n\n    var dataArray = new Array(7);\n  dataArray[0]= \"routeID:\" + routeID;\n  dataArray[1]= \"custID:\" + custID;\n  dataArray[2]= \"stopnumber:\" + stopnumber;\n  dataArray[3]= \"customer:\" + customer;\n  dataArray[4]= \"latitude:\" + lat;\n  dataArray[5]= \"longitude:\" + lng; \n  dataArray[6]= \"timestamp:\" + timeStamp; \n  var jsonString = JSON.stringify(dataArray);\n  function postData(){\n    $.ajax({\n       type: \"POST\",\n       url: \"AddtoDatabase.php\", //includes full webserver url\n       data: {data : jsonString}, \n       cache: false,\n\n       success: function(){\n           alert(\"OK\");\n       }\n    });\n  window.location = \"AddtoDatabase.php\"; //includes full webserver url\n  }\nalert(JSON.stringify(dataArray))\n&lt;/script&gt;\n</code></pre>\n\n<p>PHP:</p>\n\n<pre><code>&lt;?php\n  print_r($_POST);\n\n\n$routeID = $_POST['routeID'];\n  $custID = $_POST['custID'];\n  $stopnumber = $_POST['stopnumber'];\n  $customer = $_POST['customer'];\n  $latitude = $_POST['latitude'];\n  $longitude = $_POST['longitude'];\n  $timestamp = $_POST['timestamp'];\n\n$mysqli= new mysqli(\"fdb5.biz.nf\",\"username\",\"password\",\"database\");\n\nmysqli_select_db($mysqli,\"database\");\n\n    $sql = \"INSERT INTO Locations (routeID, custID, stopnumber, customer, latitude, longitude, timestamp) VALUES \" .\n           \"('$routeID','$custID','$stopnumber','$customer','$latitude','$longitude','$timestamp')\";\n    mysqli_query($mysqli, $sql); \n\n    $error = mysqli_error($mysqli);  \necho $error;\n?&gt;\n</code></pre>\n\n<p><code>print_r($_POST)</code> only displays Array() on the php page while the jsonString alert on the javascript page shows \n<code>[\"routeID:testRoute\",\n\"custID:testCustID\",\n\"stopnumber:teststopnumber\",\n\"customer:testCustomer\",\n\"latitude:10\",\n\"longitude:20\",\n\"timestamp:00:00:00\"]</code></p>\n\n<p>Anyone see what I'm doing wrong?</p>\n",
            "last_activity_date": 1366131603,
            "question_id": 16041835,
            "score": 3,
            "tags": [
                "php",
                "javascript",
                "arrays",
                "posting"
            ],
            "title": "Posting Array to PHP using ajax"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>When you call a method with <code>func();</code>, <code>this</code> variable inside the method points to <code>window</code> object.</p>\n\n<p>Where as when you use <a href=\"https://developer.mozilla.org/en/docs/JavaScript/Reference/Global_Objects/Function/call\" rel=\"nofollow\">call(...)</a>/<a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/apply\" rel=\"nofollow\">apply(...)</a> the first parameter passed to the method call becomes <code>this</code> inside the method. If you are not passing any arguments/pass null or undefined then <code>this</code> will <a href=\"https://developer.mozilla.org/en/docs/JavaScript/Reference/Global_Objects/Function/call#Parameters\" rel=\"nofollow\">become global object</a> in non strict mode.</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I've seen it done differently in code out there, but is there any benefit or reason to doing a (blank params) <strong>.call / .apply</strong> over a regular <strong>()</strong> function execution.</p>\n\n<p>This of course is an over-simplified example</p>\n\n<pre><code>var func = function () { /* do whatever */ };\n\nfunc.call();\nfunc.apply();\n</code></pre>\n\n<p><em>VERSUS</em> just the simple parenthesis.</p>\n\n<pre><code>func();\n</code></pre>\n\n<p>Haven't seen any information on this anywhere, I know why call/apply are used when params are passed.</p>\n",
            "last_activity_date": 1365516560,
            "question_id": 15903782,
            "score": 3,
            "tags": [
                "javascript",
                "function",
                "closures"
            ],
            "title": ".call() / .apply() with NO parameters VS simply calling a function with () paranthesis"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>To determine if the postback was a partial update or not, you can use <code>ScriptManager.GetCurrent(this.Page).IsInAsyncPostBack</code>. Here's an example:</p>\n\n<pre><code>protected void Page_Load(object sender, EventArgs e)\n{\n    if (Page.IsPostBack)\n    {\n        // get a reference to ScriptManager and check if we have a partial postback\n        if (ScriptManager.GetCurrent(this.Page).IsInAsyncPostBack)\n        {\n            // partial (asynchronous) postback occured\n            // insert Ajax custom logic here\n        }\n        else\n        {\n            // regular full page postback occured\n            // custom logic accordingly                \n        }\n    }\n}\n</code></pre>\n\n<p>And to get the Update Panel that caused the PostBack, you can look into <code>ScriptManager.GetCurrent(Page).UniqueID</code> and analyze it. Here's an example of doing that:</p>\n\n<pre><code>public string GetAsyncPostBackControlID()\n{\n    string smUniqueId = ScriptManager.GetCurrent(Page).UniqueID;\n    string smFieldValue = Request.Form[smUniqueId];\n\n    if (!String.IsNullOrEmpty(smFieldValue) &amp;&amp; smFieldValue.Contains(\"|\"))\n    {\n        return smFieldValue.Split('|')[0];\n    }\n\n    return String.Empty;\n}\n</code></pre>\n\n<hr>\n\n<p><strong>References:</strong></p>\n\n<ul>\n<li><a href=\"http://forums.asp.net/t/1562871.aspx/1\" rel=\"nofollow\">http://forums.asp.net/t/1562871.aspx/1</a></li>\n<li><a href=\"http://stackoverflow.com/questions/3821569/get-asp-net-control-which-fired-a-postback-within-a-ajax-updatepanel\">Get ASP.NET control which fired a postback within a AJAX UpdatePanel</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>As I understand it, partial page updates with ASP.NET AJAX cause the javacript pageLoad() event handler to be invoked.</p>\n\n<p>My question: Is there a generic way of determining in Javascript from within the pageLoad() function...</p>\n\n<p>i) If the postback was a partial page update or not.</p>\n\n<p>ii) If so, which panel was updated.</p>\n\n<p>My application uses a combination of .NET UpdatePanels &amp; Telerik RadAjaxPanels.  I'm looking for a generic (preferably javascript) solution which doesn't require me to specify a unique client-side callback function for each panel, nor set some flag from within each postback event handler to identify itself to the client-side.</p>\n\n<p>I hope that makes sense,</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1394810269,
            "question_id": 15893011,
            "score": 3,
            "tags": [
                "javascript",
                ".net",
                "ajax",
                "postback"
            ],
            "title": "Determine if and which partial postback occurred in pageLoad() with Javascript in .NET"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You're trying to use the <a href=\"https://developers.google.com/places/documentation/search\" rel=\"nofollow\">Places API web service</a>, which is meant for use from server code and does not support the JSONP output you'd need for JavaScript.</p>\n\n<p>In JavaScript, you need to use the <a href=\"https://developers.google.com/maps/documentation/javascript/places\" rel=\"nofollow\">Places Library</a> from the <a href=\"https://developers.google.com/maps/documentation/javascript/tutorial\" rel=\"nofollow\">Maps API V3</a>. You can't just hit a URL directly from JavaScript or jQuery code. (You <em>could</em> probably discover the URL pattern that the Places Library uses, but the terms of service don't allow direct use without going through the API/Library, and the URL could change at any time.)</p>\n\n<p>Is there a reason you don't want to use the Maps API from JavaScript?</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I doing some testing for a project I got in mind which involves using places nearby. So I went with the big guy and started messing around with Google's Places Api. I'm using leaflet with openstreet tiles for my map. Now everything is fine until I try to use the dang thing.  </p>\n\n<pre><code>var lat = coords.lat;\nvar lng = coords.lng;\nvar apiUrl = \"https://maps.googleapis.com/maps/api/place/nearbysearch/json\";\nvar data = {\n    key: 'AIzaSyBl8bmE8kQT7RjoXhP6k2yDti44h9-fSUI',\n    location: lat+','+lng,\n    radius: '10000',\n    sensor: 'false',\n    rankby: 'prominence',\n    types: 'bar|night_club'\n};\n$.ajax({\n  url: apiUrl,\n  type: 'POST',\n  data: data,    \n  dataType:\"jsonp\",\n  crossDomain: true,\n  success: function(data) {\n            var obj = $.parseJSON(data);\n                // console.log(data.next_page_token);\n          }\n});\n</code></pre>\n\n<p>Changing the <code>dataType</code> property to <code>json</code> I get <code>Origin http://localhost is not allowed by Access-Control-Allow-Origin.</code> Using jsonp I get a parsing error <code>Unexpected token :</code> Obviusly <code>$.parseJSON</code> does not work... Is there a way to make this work without having to use Google Maps Api? If the answer is no... Is there another places api as good as google's?</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1398292008,
            "question_id": 15847623,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "google-places-api"
            ],
            "title": "Google&#39;s Places API and JQuery request - Origin http://localhost is not allowed by Access-Control-Allow-Origin"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Actually, you CAN affect the background size in javascript like so:</p>\n\n<pre><code>document.getElementById(\"el_id\").style.backgroundSize = \"100px 100px\";\n</code></pre>\n\n<p>Check out this fiddle: <a href=\"http://jsfiddle.net/Lph2W/\">http://jsfiddle.net/Lph2W/</a>.  The CSS sets the background image size to 200px X 200px, then the JS updates it to 100px X 100px.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I have been attempting to put a repeating background image on a website, with the basic CSS</p>\n\n<pre><code>background-image: url('url_here');\nbackground-attachment: fixed;\nbackground-repeat: repeat;\n</code></pre>\n\n<p>however, id like to be able to change the size of the image im using on refresh, using javascript. CSS has the function</p>\n\n<pre><code>background-size: 300px;\n</code></pre>\n\n<p>but unfortunately the COM style object doesnt - see <a href=\"http://www.w3schools.com/jsref/dom_obj_style.asp#background\" rel=\"nofollow\">here</a> for what it can do for backgrounds. This leaves me with one option: using an HTML image that repeats itself, that i can then edit with the COM style object. </p>\n\n<p>So, boiled down, my question is: is there a way to repeat an HTML image that is NOT a background image? Any help is greatly appreciatted.</p>\n",
            "last_activity_date": 1365090588,
            "question_id": 15755992,
            "score": 3,
            "tags": [
                "javascript",
                "html",
                "css"
            ],
            "title": "Change background-image size in javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Try this </p>\n\n<pre><code>RewriteRule ^([a-zA-Z0-9\\-]+)$ index.php?id=$1 [QSA,L,NC]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h2>None htaccess</h2>\n\n<p>Since your javascript already processes the URL part, you don't need htaccess. The javascript takes the querystring, for instance <code>?OdfgzaBv2qY</code>, removes the questionmark and puts the leftover <code>OdfgzaBv2qY</code> as ID in the iFrame.</p>\n\n<p>Since the javascript is using <code>window.location.search</code> the script expects variables to be set after the questionmark in the URL. So www.mysite.com/?3 will work but when you visit www.mysite.com/3 it won't, because the <code>window.location.search</code> stays empty.</p>\n\n<p>The reason why htaccess is no solution is because htaccess is being processed serverside, the javascript is being processed clientside. Even IF the htaccess is working, and you are being redirected to <code>index.html?3</code> the javascript still sees the www.mysite.com/3 URL and not the final request. So basically: the server understands that the variable is set to ?3 in the background, but javascript sees what a user sees: a friendly URL without a questionmark.</p>\n\n<h2>Edit - can you give this a try:</h2>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt; \n  //GET DATA FROM URL ...http://www.mysite.com/YOUTUBE_ID \n  var DATA = window.location.pathname.replace(\"/\", \"\"); \n\n  window.onload = function() { \n    var YouTube = document.getElementById('YouTube'); \n    YouTube.src = \"http://www.youtube.com/embed/\" + DATA; \n  }; \n&lt;/script&gt;\n</code></pre>\n\n<p>window.location.pathname SHOULD take <code>/3</code> and replace the <code>/</code>. Whereas window.location.search takes the <code>?3</code> part and replace the <code>?</code></p>\n\n<h2>In case anyone needs a start up to htaccess</h2>\n\n<p>A basic .htaccess file for this would be:</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\nRewriteEngine on\nRewriteBase /\n\nRewriteRule ^([0-9]+)$ index.php?id=$1 [L]\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>Ofcourse index.php?id=1 should be replaced with whatever page your are using to execute the request.</p>\n\n<p>A short explaination:</p>\n\n<ul>\n<li>the rule starts with the ^ and then looks up for a numeric value behind the base URL, so in case you have <a href=\"http://www.domain.com/42\" rel=\"nofollow\">http://www.domain.com/42</a> the rule starts right after the last /</li>\n<li>The $ defines the end of the regex of the rule.</li>\n<li>index.php?id=$1 is the URL that has to be loaded (where $1 is parameter 1: <code>([0-9]+)</code>)</li>\n<li>the [L] is a flag \"Last\", which indicates that the htaccess should not look for other rules that apply</li>\n</ul>\n\n<p>Note that this does not work for <a href=\"http://www.domain.com/49/\" rel=\"nofollow\">http://www.domain.com/49/</a> .. since the slash at the end is no match. This can be done by:</p>\n\n<pre><code>RewriteRule ^([0-9]+)/$ $1 [L,R=301]\nRewriteRule ^([0-9]+)$ index.php?id=$1 [L]\n</code></pre>\n\n<p>this first looks if there's a slash, if so it redirects to the \"slashless\" url (R=301: Redirect 301 = permanent redirect), and then it matches the 2nd rule and executes the request.</p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I have a query string which changes the content of the page, depending on what the user enters after the question mark in the url.</p>\n\n<pre><code>http://mysite.subdomain.com/?3\n</code></pre>\n\n<p>Would load content assigned to the ID 3</p>\n\n<pre><code>http://mysite.subdomain.com/?34\n</code></pre>\n\n<p>Loads content assigned to 34.</p>\n\n<p>What do I need to enter into my .htaccess file so that when a user goes to</p>\n\n<pre><code>http://mysite.subdomain.com/1234\n</code></pre>\n\n<p>it loads content which would be loaded if the user entered </p>\n\n<pre><code>http://mysite.subdomain.com/?1234\n</code></pre>\n\n<p>Essentially I want to clean up the url and remove the question mark. Thanks. (I realise this is a basic question)</p>\n",
            "last_activity_date": 1364768200,
            "question_id": 15734265,
            "score": 3,
            "tags": [
                "php",
                "javascript",
                "url",
                "url-rewriting",
                "questionmark"
            ],
            "title": "How to rewrite a url to remove the question mark"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><a href=\"https://github.com/Leaflet/Leaflet/blob/master/src/map/Map.js#L52\" rel=\"nofollow\"><code>L.Map.setZoom</code></a> called <a href=\"https://github.com/Leaflet/Leaflet/blob/master/src/map/anim/Map.PanAnimation.js#L23\" rel=\"nofollow\"><code>L.Map.setView</code></a> that called <a href=\"https://github.com/Leaflet/Leaflet/blob/master/src/map/anim/Map.ZoomAnimation.js#L29\" rel=\"nofollow\"><code>L.Map._animateZoomIfClose</code></a>.\nIf <code>map._animatingZoom</code> is true then any zoom will stop. <code>map._animatingZoom</code> work like look for zoom animation:</p>\n\n<ol>\n<li>Check at <a href=\"https://github.com/Leaflet/Leaflet/blob/master/src/map/anim/Map.ZoomAnimation.js#L29\" rel=\"nofollow\"><code>L.Map._animateZoomIfClose</code></a> if <code>true</code> stop zoom else call <a href=\"https://github.com/Leaflet/Leaflet/blob/master/src/map/anim/Map.ZoomAnimation.js#L50\" rel=\"nofollow\"><code>L.Map._animateZoom</code></a>.</li>\n<li>Set to <code>true</code> at <a href=\"https://github.com/Leaflet/Leaflet/blob/master/src/map/anim/Map.ZoomAnimation.js#L50\" rel=\"nofollow\"><code>L.Map._animateZoom</code></a> and start css transition.</li>\n<li>Set to <code>false</code> at <a href=\"https://github.com/Leaflet/Leaflet/blob/master/src/map/anim/Map.ZoomAnimation.js#L74\" rel=\"nofollow\"><code>L.Map._onZoomTransitionEnd</code></a> on css transition end.</li>\n</ol>\n\n<p>Why it's as is? I think because it's difficult break css transition work.</p>\n\n<p>So if you will disable any css transform and transition your code must work right. You also can add own extension: if <code>map._animatingZoom === true</code> then put your action to array, when <code>map._catchTransitionEnd</code> called process this and shift your action from array and process:</p>\n\n<pre><code>if (L.DomUtil.TRANSITION) {\n    L.Map.addInitHook(function () {\n        L.DomEvent.on(this._mapPane, L.DomUtil.TRANSITION_END, function () {\n            var zoom = this._zoomActions.shift();\n            if (zoom !== undefined) {\n                this.setZoom(zoom);\n            }\n        }, this);\n    });\n}\n\nL.Map.include(!L.DomUtil.TRANSITION ? {} : {\n    _zoomActions: [],\n    queueZoom: function (zoom) {\n        if (map._animatingZoom) {\n            this._zoomActions.push(zoom);\n        } else {\n            this.setZoom(zoom);\n        }\n    }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>To reproduce this problem, you can go to <a href=\"http://leafletjs.com/\" rel=\"nofollow\">http://leafletjs.com/</a> and in the javascript console, write the following:</p>\n\n<pre><code>&gt; map.getZoom()\n15\n&gt; map.setZoom(10);map.setZoom(1);\nObject\n&gt; map.getZoom()\n10\n</code></pre>\n\n<p>I was expecting the final getZoom to return <code>1</code>. Why does this happen?\nThe problem may be related with the zoom animation. If a setZoom is called before the animation ends, it gets ignored.</p>\n\n<p>I'm integrating leaflet with emberjs and wanted to allow zoom changes by external changes. If the user changes zoom quickly, the effect isn't the desired.</p>\n",
            "last_activity_date": 1364482875,
            "question_id": 15671949,
            "score": 3,
            "tags": [
                "javascript",
                "leaflet"
            ],
            "title": "Why does calling leaflet&#39;s setZoom twice results on the second being ignored?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>This is how I generally do it. First you need an array to hold the keystates.</p>\n\n<pre><code>var keys=[];\n</code></pre>\n\n<p>Then setup your event listeners.</p>\n\n<pre><code>// key events\ndocument.body.addEventListener(\"keydown\", function (e) {\n    keys[e.keyCode] = true;\n});\ndocument.body.addEventListener(\"keyup\", function (e) {\n    keys[e.keyCode] = false;\n});\n</code></pre>\n\n<p>What the following does is set an item in the array to either true or false, corresponding to that keys code.</p>\n\n<p>Then you just need to use some conditions to see what is pressed and what you should do.</p>\n\n<pre><code>    // check the keys and do the movement.\n    if (keys[38]) {\n        if (velY &gt; -speed) {\n            velY--;\n        }\n    }\n\n    if (keys[40]) {\n        if (velY &lt; speed) {\n            velY++;\n        }\n    }\n    if (keys[39]) {\n        if (velX &lt; speed) {\n            velX++;\n        }\n    }\n    if (keys[37]) {\n        if (velX &gt; -speed) {\n            velX--;\n        }\n    }\n</code></pre>\n\n<p>Below is a demo where you can move around and mess with multiple key presses. Use wasd, and the arrow keys.</p>\n\n<p><strong><a href=\"http://jsfiddle.net/loktar/QUzD9/\">Live Demo</a></strong></p>\n\n<pre><code>var canvas = document.getElementById(\"canvas\"),\n    ctx = canvas.getContext(\"2d\");\n\ncanvas.width = canvas.height = 300;\n\nvar player1 = {\n    x: 50,\n    y: 150,\n    velY: 0,\n    velX: 0,\n    color: \"blue\"\n},\nplayer2 = {\n    x: 250,\n    y: 150,\n    velY: 0,\n    velX: 0,\n    color: \"red\"\n};\n\nvar x = 150,\n    y = 150,\n    velY = 0,\n    velX = 0,\n    speed = 2,\n    friction = 0.98,\n    keys = [];\n\nfunction update() {\n\n    if (keys[38]) {\n        if (player1.velY &gt; -speed) {\n            player1.velY--;\n        }\n    }\n\n    if (keys[40]) {\n        if (player1.velY &lt; speed) {\n            player1.velY++;\n        }\n    }\n    if (keys[39]) {\n        if (player1.velX &lt; speed) {\n            player1.velX++;\n        }\n    }\n    if (keys[37]) {\n        if (player1.velX &gt; -speed) {\n            player1.velX--;\n        }\n    }\n\n    if (keys[87]) {\n        if (player2.velY &gt; -speed) {\n            player2.velY--;\n        }\n    }\n\n    if (keys[83]) {\n        if (player2.velY &lt; speed) {\n            player2.velY++;\n        }\n    }\n    if (keys[68]) {\n        if (player2.velX &lt; speed) {\n            player2.velX++;\n        }\n    }\n    if (keys[65]) {\n        if (player2.velX &gt; -speed) {\n            player2.velX--;\n        }\n    }\n    ctx.clearRect(0, 0, 300, 300);\n    updatePlayer(player1);\n    updatePlayer(player2);\n    setTimeout(update, 10);\n}\n\nfunction updatePlayer(player) {\n    player.velY *= friction;\n    player.y += player.velY;\n    player.velX *= friction;\n    player.x += player.velX;\n\n    if (player.x &gt;= 295) {\n        player.x = 295;\n    } else if (player.x &lt;= 5) {\n        player.x = 5;\n    }\n\n    if (player.y &gt; 295) {\n        player.y = 295;\n    } else if (player.y &lt;= 5) {\n        player.y = 5;\n    }\n\n    ctx.fillStyle = player.color;\n    ctx.beginPath();\n    ctx.arc(player.x, player.y, 5, 0, Math.PI * 2);\n    ctx.fill();\n}\n\nupdate();\n\ndocument.body.addEventListener(\"keydown\", function (e) {\n    keys[e.keyCode] = true;\n});\ndocument.body.addEventListener(\"keyup\", function (e) {\n    keys[e.keyCode] = false;\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>You could try a pattern like this:</p>\n\n<pre><code>(function game(){\n    // canvas setup ...\n\n    // set up a \"hash\" of keycodes associated with whether or not they  \n    // are pressed, and what should happen when they are pressed.\n    var keys = {\n        37:{down:false, action:function(){player1.velX--;}},\n        38:{down:false, action:function(){player1.velY--;}},\n        39:{down:false, action:function(){player1.velX++;}},\n        40:{down:false, action:function(){player1.velY++;}},\n\n        65:{down:false, action:function(){player2.velX--;}},\n        68:{down:false, action:function(){player2.velX++;}},\n        83:{down:false, action:function(){player2.velY++;}},\n        87:{down:false, action:function(){player2.velY--;}},\n    };\n\n    document.body.addEventListener(\"keydown\", function (e) {\n        if(keys[e.keyCode]) keys[e.keyCode].down = true;\n    });\n    document.body.addEventListener(\"keyup\", function (e) {\n        if(keys[e.keyCode]) keys[e.keyCode].down = false;\n    });\n\n    (function update() {\n        ctx.clearRect(...);\n\n        for(var key in keys)\n            if(keys[key].down)\n                keys[key].action();\n\n        // redraw players. \n\n        requestAnimationFrame(update);\n    })();\n})();\n</code></pre>\n\n<p>The nice thing about this setup is that it associates the actions directly with the keys, allows you to add more key-actions easily, and allows for a great amount of flexibility with the possibility of easily adding/removing key presses at runtime, and even changing what a particular key does at any given time.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Using something like:</p>\n\n<pre><code>window.addEventListener(\"keydown\", handleFn, true);\n</code></pre>\n\n<p>How would I be able to handle multiple keypresses at the same time, for multiplayer use? Multiple people would be using one keyboard, so like the Q and P keys would be pressed at the same time to move different objects on screen.</p>\n\n<p>I don't have any <code>keyup</code> handles yet and wonder if that would solve this.</p>\n\n<p>The logic I have so far is something like:</p>\n\n<pre><code>if keydown == Q\n    paddle.left = true;\n\n...\n\n//game loop\nif paddle.left == true\n    paddle.x -= 1;\n    paddle.left = false;\n</code></pre>\n\n<p>Players can be expected to hold the button(s) as well.</p>\n",
            "last_activity_date": 1377624183,
            "question_id": 15661796,
            "score": 3,
            "tags": [
                "javascript",
                "canvas"
            ],
            "title": "How to handle multiple keypresses with canvas"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Creating PrototypeJS Classes is very similar to creating classes in normal OOP languages.</p>\n\n<p>First start off by naming your class</p>\n\n<pre><code>var myClass = Class.create({ });\n</code></pre>\n\n<p>This will create an empty class - now populate it with methods, if you put a method <code>initialize</code> PrototypeJS will fire that as the constructor</p>\n\n<pre><code>var myClass = Class.create(\n{\n    initialize : function()\n    {\n        this.options = 0;\n    }\n});\n</code></pre>\n\n<p>You can setup anything you want in the <code>initialize()</code> method like default values or just initializing the properties of the class. Lets put in some other methods and show how to instantiate the class.</p>\n\n<pre><code>var myClass = Class.create(\n{\n    initialize : function()\n    {\n        this.options = 0;\n    },\n\n    testme : function()\n    {\n        this.options++;\n    },\n\n    showme : function()\n    {\n        alert(this.options);\n        return this.options;\n    }\n});\n\nvar theClass = new myClass();\n</code></pre>\n\n<p>Lets take it one more step and call other methods within methods and pass options to the constructor.</p>\n\n<pre><code>var myClass = Class.create(\n{\n    initialize : function(option)\n    {\n        this.options = (option ? option : 0);\n\n        this.testme();\n    },\n\n    testme : function()\n    {\n        this.options++;\n    },\n\n    showme : function()\n    {\n        alert(this.options);\n        return this.options;\n    }\n});\n\nvar theClass = new myClass(200);\ntheClass.showme();\n\n//will alert 201 and return 201\n</code></pre>\n\n<p>This is cool and all - but what about class inheritance? That is a big thing in OOP - lets say we have a separate class that is a child class of <code>myClass</code>. For any method that you are overriding in the child class you can pass a first variable as <code>$super</code> and that will refer to the parent's method of the same name - similar to a scope resolution</p>\n\n<pre><code>var myChildClass = Class.create(myClass,\n{\n    initialize : function($super,option)\n    {\n        $super(option);\n\n        // the child class needs option's default value at 150 or whatever is \n        // passed so run the parent initialize first and then redefine the \n        // option property\n        this.option = (option ? option : 150);\n\n        // you can still run methods in the parent that are not overridden in \n        // the child\n        this.testme();\n    }\n});\n\nvar child = new myChildClass();\nchild.showme();\n\n//will alert() 151 and return 151\n</code></pre>\n\n<p>I hope this is helpful for you.</p>\n\n<p>Here are some more complex real world examples from my github</p>\n\n<p><a href=\"https://github.com/jwestbrook/Prototype.Growler\" rel=\"nofollow\">https://github.com/jwestbrook/Prototype.Growler</a></p>\n\n<p><a href=\"https://github.com/jwestbrook/Prototype.Watermark\" rel=\"nofollow\">https://github.com/jwestbrook/Prototype.Watermark</a></p>\n\n<p><a href=\"https://github.com/jwestbrook/bootstrap-prototype\" rel=\"nofollow\">https://github.com/jwestbrook/bootstrap-prototype</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>Could any one shows an example for creating a class using prototype.js and how it works.Can anyone provide good examples and tutorials for prototype.js other than its official site?</p>\n",
            "last_activity_date": 1363791942,
            "question_id": 15516365,
            "score": 3,
            "tags": [
                "javascript",
                "oop",
                "prototypejs"
            ],
            "title": "How to create a class using prototype.js"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I have run into this issue as well. If you are able to include <a href=\"http://jquery.com/download/\" rel=\"nofollow\">jQuery</a> on the site, you can use <code>$('#overlay').attr('class', 'overlay');</code>. jQuery is extremely useful for making cross-browser compatible code.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The correct way to set a class in your second example is: </p>\n\n<pre><code>overlaybutton.className = 'overlaybutton';\n</code></pre>\n\n<p>That will get classes working in IE.  As far as deleting elements goes, I'd recommend reformatting your event handling attachment like so:</p>\n\n<pre><code>overlaybutton.onclick = deleteoverlay;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Use this as your doctype</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n</code></pre>\n\n<p>and then put this in the head of the document</p>\n\n<pre><code>&lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /&gt;\n</code></pre>\n\n<p>and then enjoy using <code>setAttribute</code> and a number of other features which this will allow to properly work on IE8+ environments.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I am trying to create a pop-up message that disables the rest of the screen until you confirm it, <strong>only by using CSS and JavaScript</strong> (and without the <code>alert</code> function).</p>\n\n<p>Although <a href=\"http://msdn.microsoft.com/en-us/library/ie/ms536739%28v=vs.85%29.aspx\" rel=\"nofollow\">http://msdn.microsoft.com/en-us/library/ie/ms536739%28v=vs.85%29.aspx</a> declares that <code>setAttribute</code> is supported in IE8 and higher, it does not seem to work correctly - well, actually it doesn't seem to work at all.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>&lt;html&gt;\n\n&lt;style type=\"text/css\"&gt;\n\n.overlay\n{\nposition: absolute;\nleft: 0px;\ntop: 0px;\nwidth: 100%;\nheight: 100%;\nbackground-color: rgba(0,0,0,0.2);\n}\n\n.overlaytext\n{\nposition: absolute;\nleft: 50%;\nmargin-left: -150px;\ntop: 50%;\nmargin-top: -50px;\nwidth: 300px;\nheight: 100px;\npadding-top: 5px;\nbackground-color: #777777;\ncolor: #000000;\nfont-size: 20px;\ntext-align: center;\n}\n\n.overlaybutton\n{\nposition: absolute;\nleft: 50%;\nmargin-left: -30px;\ntop: 50%;\nmargin-top: 20px;\nwidth: 60px;\nheight: 25px;\nborder: solid;\nborder-color: #000000;\nborder-width: 1px;\nbackground-color: #999999;\ncolor: #000000;\nfont-size: 20px;\n}\n\n&lt;/style&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\nfunction showoverlay(message)\n{\nvar overlay = document.createElement('div');\noverlay.setAttribute('id','overlay');\noverlay.setAttribute('class','overlay');\ndocument.body.appendChild(overlay);\n\nvar overlaytext = document.createElement('div');\noverlaytext.setAttribute('id','overlaytext');\noverlaytext.setAttribute('class','overlaytext');\noverlaytext.innerHTML = message;\ndocument.body.appendChild(overlaytext);\n\nvar overlaybutton = document.createElement('input');\noverlaybutton.setAttribute('type','button');\noverlaybutton.setAttribute('id','overlaybutton');\noverlaybutton.setAttribute('class','overlaybutton');\noverlaybutton.setAttribute('value','OK');\noverlaybutton.setAttribute('onclick','deleteoverlay()');\ndocument.body.appendChild(overlaybutton);\n}\n\nfunction deleteoverlay()\n{\nvar elem = document.getElementById('overlay');\nelem.parentNode.removeChild(elem);\nelem = document.getElementById('overlaytext');\nelem.parentNode.removeChild(elem);\nelem = document.getElementById('overlaybutton');\nelem.parentNode.removeChild(elem);\n}\n\n&lt;/script&gt;\n\n&lt;body&gt;\n\n&lt;input type=\"button\" value=\"Show message\" onclick=\"showoverlay('Message text')\"/&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>It works just fine in Firefox and Chrome, but IE (testing with IE9) seems to ignore the <code>setAttribute</code> method, because it only puts in the text and the button, but without the formatting (i.e. <code>class</code> was not applied) and also clicking the newly created button does not remove the objects (i.e. either <code>id</code> was not applied, or there is some additional incompatibility with portions of the code that remove the objects).</p>\n\n<p>I tried to replace <code>setAttribute</code> like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\nfunction showoverlay(message)\n{\nvar overlay = document.createElement('div');\noverlay.id = 'overlay';\noverlay.class = 'overlay';\ndocument.body.appendChild(overlay);\n\nvar overlaytext = document.createElement('div');\noverlaytext.id = 'overlaytext';\noverlaytext.class = 'overlaytext';\noverlaytext.innerHTML = message;\ndocument.body.appendChild(overlaytext);\n\nvar overlaybutton = document.createElement('input');\noverlaybutton.type = 'button';\noverlaybutton.id = 'overlaybutton';\noverlaybutton.class = 'overlaybutton';\noverlaybutton.value = 'OK';\noverlaybutton.onclick = 'deleteoverlay()';\ndocument.body.appendChild(overlaybutton);\n}\n\nfunction deleteoverlay()\n{\nvar elem = document.getElementById('overlay');\nelem.parentNode.removeChild(elem);\nelem = document.getElementById('overlaytext');\nelem.parentNode.removeChild(elem);\nelem = document.getElementById('overlaybutton');\nelem.parentNode.removeChild(elem);\n}\n\n&lt;/script&gt;\n</code></pre>\n\n<p>But this time it does not even add the text and the button.</p>\n\n<p><strong>So, how to make this script IE compatible, both showing all the elements and then removing them?</strong></p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1362962996,
            "question_id": 15329292,
            "score": 3,
            "tags": [
                "javascript",
                "html",
                "setattribute"
            ],
            "title": "Replace setAttribute with IE compatible script"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Backbone collections are automatically sorted by the order of insertion, unless you implement <code>Collection#comparator</code>. The problem is that your filtering algorithm is not producing an ordered output.</p>\n\n<p>If you need to maintain an ordered collection only when filtering by id, I would suggest implementing a separate method, because seach by id is far faster compared to search by arbitrary attributes:</p>\n\n<pre><code>filterById: function(idArray) {\n  return this.reset(_.map(idArray, function(id) { return this.get(id); }, this));  \n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>collection.filterById(['1', '2', '146', '3', '4', '9', '26', '8', '96', '10', '11', '54',' 145', '273', '38']);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I'm quite new to Backbone so I am getting into some problems I can't quite figure out.</p>\n\n<p>I have a Backbone collection with a bit over 100 items. I want to filter these with an array of ids, that is working fine, but I want the order of the items also based on this array's order of items. That is not working. The other sorting methods seems to be asciibetical based, that's not what I need either. Is it possible to get items using this filter, and then also put them into the collection in the order I've defined?</p>\n\n<p>I have an array of id's that I filter with, this array looks like this:</p>\n\n<pre><code>var dDefaultItems = ['1','2','146','3','4','9','26','8','96','10','11','54','145','273','38'];\n</code></pre>\n\n<p>The code for the collection and filtering looks like this:</p>\n\n<pre><code>var ChannelCollection = Backbone.Collection.extend({        \n    fetch : function() {\n       var params = _.extend({}, arguments, { \n            data : { \n                \"groupnumber\" : \"1000\"\n            }\n        });\n        this.constructor.__super__.fetch.apply(this, [params]);\n\n    },\n\n    model : Channel,\n\n    url : function () {\n        return utility.apiUrl('/myurl/tothething');  \n    },\n\n    filterData: function(params) {\n\n        this.originalModels = this.models.slice();\n\n        _.each(params, function(val, key){\n            if (typeof val !== 'object') val = [ val ];\n            this.models = _.filter(this.models, function(model){\n                return _.indexOf(val, model.get(key)) !== -1;\n            }, this);\n        }, this);\n        return this.reset(this.models).toJSON();\n    },\n\n    parse : function(json) {            \n\n        return json.channelInfoList;\n    }\n\n });\n</code></pre>\n\n<p>Then I render this in a view with this code (there's other bits of code for defining model and other attributes that I don't think is relevant, I may be wrong, but I'm thinking someone will know what I need from looking at this.)</p>\n\n<pre><code>var ChannelListView = Backbone.View.extend({\n\n    initialize: function() {\n       var _this = this;\n\n        currentChannelList = new ChannelCollection();\n\n        currentChannelList.once(\"sync\", function() {\n           _this.render();\n        });\n\n        currentChannelList.fetch();\n    },\n    render : function() {\n      var _this = this;\n\n      $(_this.el).empty();\n\n     dust.render(\"list-channels\", { channelList : currentChannelList.filterData({id: dDefaultItems})} , function(err, html) {\n\n        var $el = $(html).appendTo($(_this.el));\n      });  \n    }\n });   \n</code></pre>\n",
            "last_activity_date": 1361956714,
            "question_id": 15106843,
            "score": 3,
            "tags": [
                "javascript",
                "backbone.js",
                "underscore.js",
                "sorting"
            ],
            "title": "Filter and sort backbone collection with array of ids"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Thanks a lot for the lib suggestion. I used <a href=\"https://github.com/bjornharrtell/jsts/blob/master/examples/overlay.html\" rel=\"nofollow\">https://github.com/bjornharrtell/jsts/blob/master/examples/overlay.html</a> with:</p>\n\n<pre><code>var union = a.union(b);\nvar difference = a.difference(b);\n</code></pre>\n\n<p>to combine shapes and to make holes in shapes or to clip shapes.\nTherefor I had to convert the Google Maps paths to WKT and I wrote this Javascript:</p>\n\n<pre><code>function doeWKT(dePaths) {\nvar deWKTarray = [];    \nfor (var i = 0; i &lt; dePaths.length; i++) {\n    dePath = dePaths.getArray()[i].getArray();\n    var deKomma = \"\";\n    var deCoords = \"\";\n    for (var j = 0; j &lt; dePath.length; j++) {\n        deLatLng = dePath[j];\n        if (j == 0) var deCoords0 = deKomma + deLatLng.lng().toFixed(6) + \" \" + deLatLng.lat().toFixed(6);\n        deCoords +=  deKomma + deLatLng.lng().toFixed(6) + \" \" + deLatLng.lat().toFixed(6);\n        deKomma = \",\";\n    }\n    deWKTarray.push(\"(\" + deCoords + \",\" + deCoords0 + \")\");\n}\n\nvar deHoles = [];\nvar deReader = new jsts.io.WKTReader();     \nfor (var i = 0; i &lt; deWKTarray.length; i++) {\n    var deHole = deReader.read(\"POLYGON(\"+deWKTarray[i]+\")\");\n    if (!deHoles[i]) deHoles[i] = -1;\n    for (var j =0; j &lt; deWKTarray.length; j++) {\n        if ( i != j) {\n            var deContainer = deReader.read(\"POLYGON(\" + deWKTarray[j] + \")\");\n            if (deHole.within(deContainer)) deHoles[i] = j;\n        }\n    }\n}\n\nvar deKomma = \"\";\nvar deWKTstring = \"\";\nvar deMulti = false;\nfor (var i = 0; i &lt; deWKTarray.length; i++) {\n    if (deHoles[i] == -1) {\n        deWKTstring += deKomma + \"(\" + deWKTarray[i] + \"\";\n        if (i &gt; 0) var deMulti = true;\n    }\n    for (var j = 0; j &lt; deHoles.length; j++) {\n        if (deHoles[j] == i) deWKTstring += \",\" + deWKTarray[j] + \"\";\n    }\n    if (deHoles[i] == -1) deWKTstring += \")\";   \n    deKomma = \",\";\n}\n\nif (deMulti) deWKTstring = \"MULTIPOLYGON(\" + deWKTstring +\")\";\nelse deWKTstring = \"POLYGON\" + deWKTstring;\nreturn deWKTstring;\n}\n</code></pre>\n\n<p>You can try/see everthing working in <a href=\"http://maps.amsterdam.nl/testshape/beheer\" rel=\"nofollow\">http://maps.amsterdam.nl/testshape/beheer</a> (read Instructions in the Legend)</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I made polygons editable in Google Maps and now I can change the shape, make holes in it, combine two of more polygons to multipolygons and disaggregate them again. </p>\n\n<p>See <a href=\"http://maps.amsterdam.nl/testshape/beheer\" rel=\"nofollow\">http://maps.amsterdam.nl/testshape/beheer</a> and read the Instructions in the Legenda to try it yourself.</p>\n\n<p>One question I can't figure out is how to combine two overlapping polygons to one polygon with no overlap.\nSomething like this:</p>\n\n<pre><code>function(path1, path2) {\n  algorithm...\n  return newPath;\n}\n</code></pre>\n\n<p>Thank you.</p>\n",
            "last_activity_date": 1362609982,
            "question_id": 15052430,
            "score": 3,
            "tags": [
                "javascript",
                "google-maps-api-3"
            ],
            "title": "How can I combine polygons and remove the overlap?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>maybe you should use , a different approach to bind the event</p>\n\n<pre><code> $(function() {\n    $(\"#selecter\").mouseover(function(){\n        alert(1)        \n     });\n  });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>The problem is that browsers render dropdowns differently. Chrome is rendering it not as an HTML component but as a native GUI one. That can't have hover handlers associated to it from JS.</p>\n\n<p>If you want to make sure it works on all browsers either don't use a dropdown or get a script to create a dropdown that uses HTML elements</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>It seems, no events are actually fired when you hover over an option in IE &amp; chrome,</p>\n\n<p>At best should should bind on the change event.</p>\n\n<pre><code>$(function() {\n    $(\"#selecter\").change(function(){\n            alert(1);\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>My code only works in Firefox. Why is this?</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;select id=\"selecter\"&gt;\n         &lt;option&gt;one&lt;/option&gt;\n         &lt;option&gt;two&lt;/option&gt;\n         &lt;option&gt;three&lt;/option&gt;\n   &lt;/select&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>$(function() {\n   $(document).on(\"mouseover\", \"#selecter option\",function(){\n            alert(1)        \n    });\n});\n</code></pre>\n\n<p>I'm curious why IE and chrome don't fire a mouseover event. See this JSFiddle: <a href=\"http://jsfiddle.net/yT6Y5/72/\" rel=\"nofollow\">http://jsfiddle.net/yT6Y5/72/</a> (Works perfectly in Firefox.)</p>\n\n<p>How can I get IE and Chrome to fire a mouseover event?</p>\n",
            "last_activity_date": 1396397520,
            "question_id": 15038811,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "internet-explorer",
                "google-chrome"
            ],
            "title": "IE and Chrome don&#39;t fire a mouseover event for &lt;option&gt; elements"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yes, of course.</p>\n\n<p>We store those coordinates in object's <code>oCoords</code></p>\n\n<pre><code>oCoords.tl.x, oCoords.tl.y // top left corner \noCoords.tr.x, oCoords.tr.y // top right corner\noCoords.bl.x, oCoords.bl.y // bottom left corner\noCoords.br.x, oCoords.br.y // bottom right corner\n</code></pre>\n\n<p>That's what gets set when you call <code>setCoords</code> method.</p>\n\n<p>But you probably don't want to mess with those.</p>\n\n<p>Since version ~1.0.4, we have <code>getBoundingRect</code> method on all objects, which returns <code>{ left: ..., top: ..., width: ..., height: ... }</code>. We already had <code>getBoundingRectWidth</code> and <code>getBoundingRectHeight</code> before (now deprecated) but <code>getBoundingRect</code> is certainly more useful; it allows to read left/top values as well.</p>\n\n<p>You can see it in action at <a href=\"http://fabricjs.com/bounding-rectangle/\" rel=\"nofollow\">http://fabricjs.com/bounding-rectangle/</a> (try rotating objects)</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>Suppose I have an image in a fabricjs canvas. I can easily calculate the coordinates of the corners based on the image's <code>top</code> &amp; <code>left</code> values, and its size.  </p>\n\n<p><strong>How can I do so when the image is rotated by any degree?</strong></p>\n\n<p>Example:</p>\n\n<p><img src=\"http://i.stack.imgur.com/xcSIK.png\" alt=\"enter image description here\"></p>\n\n<p>EDIT: Preferably without the use of trigonometry, if there is a simpler method implemented in fabricjs itself or somewhere else.</p>\n",
            "last_activity_date": 1417792058,
            "question_id": 14874631,
            "score": 3,
            "tags": [
                "javascript",
                "canvas",
                "fabricjs"
            ],
            "title": "Find the coordinates of the corners of a rotated object in fabricjs"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I created a simple regex that matches the command line you wrote.</p>\n\n<pre><code>/\\w+\\s(((\"([^\\\\\"]*\\\\\")*[^\\\\\"]*\")|[^ ]+)(\\b|\\s+))+$\n</code></pre>\n\n<ul>\n<li><code>/\\w+\\s</code> finds the first part of your command</li>\n<li><code>(((</code></li>\n<li><code>\"([^\\\\\"]*\\\\\")*</code> finds any string starting with <code>\"</code> that doesn't contain <code>\\\"</code> followed by a <code>\\\"</code> one or more times (thus allowing <code>\"something\\\"</code>, <code>\"some\\\"thing\\\"</code> and so on</li>\n<li><code>[^\\\\\"]*\"</code> followed by a list of characters not containing <code>\\</code> or <code>\"</code> and at last a <code>\"</code></li>\n<li><code>)|[^ ]+</code> this is an alternative: finds any nonspace character sequence</li>\n<li><code>)</code></li>\n<li><code>(\\b|\\s+)</code> all followerd by a space or a word boundary</li>\n<li><code>)+$</code> one or more times, one per command, until the end of the string</li>\n</ul>\n\n<p>I'm afraid that this can fail sometimes, but I posted this to show that sometimes the arguments have a structure based on repetition, for example see <code>\"something\\\"something\\\"something\\\"end\"</code> where the repeated structure is <code>something\\\"</code>, and you can use this idea to build your regex</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You have shown your code - that's good, but it seems that you haven't thought about whether it is reasonable to parse the command like that:</p>\n\n<ul>\n<li>Firstly, your code will allow new line character inside the command name and parameters. It would be reasonable if you assume that new line character can never be there.</li>\n<li>Secondly, <code>\\</code> also needs to be escaped like <code>\"</code>, since there will be no way to specify a single <code>\\</code> at the end of a parameter without causing any confusion.</li>\n<li>Thirdly, it is a bit weird to have the command name parsed the same way as parameters - command names are usually per-determined and fixed, so there is no need to allow for flexible ways to specify it.</li>\n</ul>\n\n<p>I cannot think of one-line solution in JavaScript that is <em>general</em>. JavaScript regex lacks <code>\\G</code>, which asserts the last match boundary. So my solution will have to make do with beginning of string assertion <code>^</code> and chomping off the string as a token is matched.</p>\n\n<p>(There is not much code here, mostly comments)</p>\n\n<pre><code>function parseCommand(str) {\n    /*\n     * Trim() in C# will trim off all whitespace characters\n     * \\s in JavaScript regex also match any whitespace character\n     * However, the set of characters considered as whitespace might not be\n     * equivalent\n     * But you can be sure that \\r, \\n, \\t, space (ASCII 32) are included.\n     * \n     * However, allowing all those whitespace characters in the command\n     * is questionable.\n     */\n    str = str.replace(/^\\s*\\//, \"\");\n\n    /* Look-ahead (?!\") is needed to prevent matching of quoted parameter with\n     * missing closing quote\n     * The look-ahead comes from the fact that your code does not backtrack\n     * while the regex engine will backtrack. Possessive qualifier can prevent\n     * backtracking, but it is not supported by JavaScript RegExp.\n     *\n     * We emulate the effect of \\G by using ^ and repeatedly chomping off\n     * the string.\n     *\n     * The regex will match 2 cases:\n     * (?!\")([^ ]+)\n     * This will match non-quoted tokens, which are not allowed to \n     * contain spaces\n     * The token is captured into capturing group 1\n     *\n     * \"((?:[^\\\\\"]|\\\\[\\\\\"])*)\"\n     * This will match quoted tokens, which consists of 0 or more:\n     * non-quote-or-backslash [^\\\\\"] OR escaped quote \\\"\n     * OR escaped backslash \\\\\n     * The text inside the quote is captured into capturing group 2\n     */\n    var regex = /^ *(?:(?!\")([^ ]+)|\"((?:[^\\\\\"]|\\\\[\\\\\"])*)\")/;\n    var tokens = [];\n    var arr;\n\n    while ((arr = str.match(regex)) !== null) {\n        if (arr[1] !== void 0) {\n            // Non-space token\n            tokens.push(arr[1]);\n        } else {\n            // Quoted token, needs extra processing to\n            // convert escaped character back\n            tokens.push(arr[2].replace(/\\\\([\\\\\"])/g, '$1'));\n        }\n\n        // Remove the matched text\n        str = str.substring(arr[0].length);\n    }\n\n    // Test that the leftover consists of only space characters\n    if (/^ *$/.test(str)) {\n        return tokens;\n    } else {\n        // The only way to reach here is opened quoted token\n        // Your code returns the tokens successfully parsed\n        // but I think it is better to show an error here.\n        return null;\n    }\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I am looking to create a IRC-like command format:</p>\n\n<pre><code>/commandname parameter1 \"parameter 2\" \"parameter \\\"3\\\"\" parameter\"4 parameter\\\"5\n</code></pre>\n\n<p>Which would (ideally) give me a list of parameters:</p>\n\n<pre><code>parameter1\nparameter 2\nparameter \"3\"\nparameter\"4\nparameter\\\"5\n</code></pre>\n\n<p>Now from what I have read, this isn't at all trivial and might as well be done in some other method.</p>\n\n<p>Thoughts?  </p>\n\n<p>Below is C# code that does the job I need:</p>\n\n<pre><code>public List&lt;string&gt; ParseIrcCommand(string command)\n    {\n        command = command.Trim();\n        command = command.TrimStart(new char[] { '/' });\n        command += ' ';\n\n        List&lt;string&gt; Tokens = new List&lt;string&gt;();\n\n        int tokenStart = 0;\n        bool inQuotes = false;\n        bool inToken = true;\n        string currentToken = \"\";\n        for (int i = tokenStart; i &lt; command.Length; i++)\n        {\n            char currentChar = command[i];\n            char nextChar = (i + 1 &gt;= command.Length ? ' ' : command[i + 1]);\n\n            if (!inQuotes &amp;&amp; inToken &amp;&amp; currentChar == ' ')\n            {\n                Tokens.Add(currentToken);\n                currentToken = \"\";\n                inToken = false;\n                continue;\n            }\n\n            if (inQuotes &amp;&amp; inToken &amp;&amp; currentChar == '\"')\n            {\n                Tokens.Add(currentToken);\n                currentToken = \"\";\n                inQuotes = false;\n                inToken = false;\n                if (nextChar == ' ') i++;\n                continue;\n            }\n\n            if (inQuotes &amp;&amp; inToken &amp;&amp; currentChar == '\\\\' &amp;&amp; nextChar == '\"')\n            {\n                i++;\n                currentToken += nextChar;\n                continue;\n            }\n\n            if (!inToken &amp;&amp; currentChar != ' ')\n            {\n                inToken = true;\n                tokenStart = i;\n                if (currentChar == '\"')\n                {\n                    tokenStart++;\n                    inQuotes = true;\n                    continue;\n                }\n            }\n\n            currentToken += currentChar;\n        }\n\n        return Tokens;\n    }\n</code></pre>\n",
            "last_activity_date": 1360172767,
            "question_id": 14727065,
            "score": 3,
            "tags": [
                "javascript",
                "regex",
                "string-parsing"
            ],
            "title": "Regular Expressions - Matching IRC-like parameters?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You have to listen to different events if you want this to work crossborwser + you have to listen to the keyevent every time its pressed, not on load:</p>\n\n<pre><code>document.onkeydown = fkey;\ndocument.onkeypress = fkey\ndocument.onkeyup = fkey;\n\nvar wasPressed = false;\n\nfunction fkey(e){\n        e = e || window.event;\n       if( wasPressed ) return; \n\n        if (e.keyCode == 116) {\n             alert(\"f5 pressed\");\n            wasPressed = true;\n        }else {\n            alert(\"Window closed\");\n        }\n }\n</code></pre>\n\n<p>here is a demo: <a href=\"http://jsfiddle.net/FSrgV/1/embedded/result/\">http://jsfiddle.net/FSrgV/1/embedded/result/</a></p>\n\n<p>but if you are simply want to know if the user quits the page you could simply use <code>window.onbeforeunload</code>: <a href=\"https://developer.mozilla.org/en-US/docs/DOM/window.onbeforeunload\">https://developer.mozilla.org/en-US/docs/DOM/window.onbeforeunload</a></p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>I agree with meo's solution, but I will add some modifications.</p>\n\n<p>when we use document.onkeydown = fkey; for example and in the page we have another method affected to the document.onkeydown then the browser will detect only the last event.\nHowever when we use :\njQuery(document).on(\"keydown\",fkey); even if we have another function to handle the keydown event, all the functions will be triggered. </p>\n\n<p>see the next example to more understand:</p>\n\n<pre><code>var wasPressed = false;\ndocument.onkeydown = f1;\ndocument.onkeydown = f2;\n\njQuery(document).on(\"keydown\",f3); \njQuery(document).on(\"keydown\",f4); \nfunction f1(e){\ne = e || window.event;\nif( wasPressed ) return; \n\n        if (e.keyCode == 116) {\n             alert(\"f5 pressed\");\n            wasPressed = true;\n        }else {\n            alert(\"Window closed\");\n        }\n}\nfunction f2(){\n    alert('f2');\n}\nfunction f3(){\n    alert('f3');\n}\nfunction f4(){\n    alert('f4');\n}\n</code></pre>\n\n<p>what will be shown here: only 3 alerts: f2,f3 and f4. and the f1 function isn't triggred in this example.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>i am creating an MVC application.There was a neccessitity to make a variable in a session to null upon closing of the application (i.e. window/tab) but not upon refreshing the application. \nI tried it through the following code.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n           window.onbeforeunload = function (e) {\n               e = e || window.event;\n               if (window.event.keyCode == 116) {\n                   alert(\"f5 pressed\");\n               }\n               else {\n                   alert(\"Window closed\");\n                   //call my c# code to make my variable null, eg:Session[\"myVariable\"] = null;\n               }  \n           };\n&lt;/script&gt;\n</code></pre>\n\n<p>But when F5 is pressed then, \"window.event.keyCode\" is always 0 and not 116.\nBecause of which my variable is becoming null even upon F5 key press which is not my requirement.</p>\n\n<p>Even when the application (i.e. webpage) is closed,even then its 0 (which is probably correct).</p>\n\n<p>Please note that the above part of the code is in .cshtml file.</p>\n\n<p>Can anyone tell where am i wrong ?</p>\n",
            "last_activity_date": 1400689963,
            "question_id": 14707602,
            "score": 3,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "capturing f5 keypress event in javascript using window.event.keyCode in window.onbeforeunload event is always 0 and not 116"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I have updated the fiddle at: <a href=\"http://jsfiddle.net/PyvZ7/7/\">http://jsfiddle.net/PyvZ7/7/</a></p>\n\n<p>Don't forget to apply <code>clip-path</code> to the group. Your code used <code>select</code> instead of <code>selectAll</code>. So the transforms were not applying to all the circles within the group. Also <code>selectAll</code> is a css3 selector. You need to make sure you do <code>selectAll('.dot')</code> instead of <code>selectAll('dot')</code> as the latter would mean a tag and the former would mean elements having a class <code>dot</code>.</p>\n\n<p>Here is the modified code:</p>\n\n<pre><code>var margin = {top: 10, right: 10, bottom: 100, left: 40},\n    margin2 = {top: 430, right: 10, bottom: 20, left: 40},\n    width = 960 - margin.left - margin.right,\n    height = 500 - margin.top - margin.bottom,\n    height2 = 500 - margin2.top - margin2.bottom;\n\nvar data = [{\n    'Wed Jan 23 00:00:00 IST 2013': 3383387\n}, {\n    'Thu Jan 24 00:00:00 IST 2013': 3883387\n}, {\n    'Fri Jan 25 00:00:00 IST 2013': 4383387\n}, {\n    'Sat Jan 26 00:00:00 IST 2013': 2383387\n}, {\n    'Sun Jan 27 00:00:00 IST 2013': 5383387\n}, {\n    'Mon Jan 28 00:00:00 IST 2013': 2283387\n}];\n\nvar format = d3.time.format(\"%a %b %d %H:%M:%S IST %Y\");\n\nvar parseDate = d3.time.format(\"%b %Y\").parse;\n\nvar x = d3.time.scale().range([0, width]),\n    x2 = d3.time.scale().range([0, width]),\n    y = d3.scale.linear().range([height, 0]),\n    y2 = d3.scale.linear().range([height2, 0]);\n\nvar xAxis = d3.svg.axis().scale(x).orient(\"bottom\"),\n    xAxis2 = d3.svg.axis().scale(x2).orient(\"bottom\"),\n    yAxis = d3.svg.axis().scale(y).orient(\"left\");\n\nvar brush = d3.svg.brush()\n    .x(x2)\n    .on(\"brush\", brush);\n\nvar area = d3.svg.area()\n    .interpolate(\"monotone\")\n    .x(function(d) { return x(format.parse(d3.keys(d)[0])); })\n    .y0(height)\n    .y1(function(d) { return y(d3.values(d)[0]); });\n\nvar area2 = d3.svg.area()\n    .interpolate(\"monotone\")\n    .x(function(d) { return x2(format.parse(d3.keys(d)[0])); })\n    .y0(height2)\n    .y1(function(d) { return y2(d3.values(d)[0]); });\n\nvar svg = d3.select(\"body\").append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", height + margin.top + margin.bottom);\n\nsvg.append(\"defs\").append(\"clipPath\")\n    .attr(\"id\", \"clip\")\n  .append(\"rect\")\n    .attr(\"width\", width)\n    .attr(\"height\", height);\n\nvar focus = svg.append(\"g\")\n    .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\nvar context = svg.append(\"g\")\n    .attr(\"transform\", \"translate(\" + margin2.left + \",\" + margin2.top + \")\");\n\n  x.domain(d3.extent(data.map(function(d) { return format.parse(d3.keys(d)[0]); })));\n  y.domain([0, d3.max(data.map(function(d) { return d3.values(d)[0]; }))]);\n  x2.domain(x.domain());\n  y2.domain(y.domain());\n\n  focus.append(\"path\")\n      .datum(data)\n      .attr(\"clip-path\", \"url(#clip)\")\n      .attr(\"d\", area);\n\n  focus.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + height + \")\")\n      .call(xAxis);\n\n  focus.append(\"g\")\n      .attr(\"class\", \"y axis\")\n      .call(yAxis);\n\n  context.append(\"path\")\n      .datum(data)\n      .attr(\"d\", area2);\n\n  context.append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", \"translate(0,\" + height2 + \")\")\n      .call(xAxis2);\n\n  context.append(\"g\")\n      .attr(\"class\", \"x brush\")\n      .call(brush)\n    .selectAll(\"rect\")\n      .attr(\"y\", -6)\n      .attr(\"height\", height2 + 7);\n\n    var circlegroup = focus.append(\"g\");\n    circlegroup.attr(\"clip-path\", \"url(#clip)\");\n    circlegroup.selectAll('.dot')\n    .data(data)\n    .enter().append(\"circle\")\n    .attr('class', 'dot')\n    .attr(\"cx\",function(d){ return x(format.parse(d3.keys(d)[0]));})\n    .attr(\"cy\", function(d){ return y(d3.values(d)[0]);})\n    .attr(\"r\", function(d){ return 4;})\n    .on('mouseover', function(d){ d3.select(this).attr('r', 8)})\n    .on('mouseout', function(d){ d3.select(this).attr('r', 4)});    \n\nfunction brush() {\n  x.domain(brush.empty() ? x2.domain() : brush.extent());\n  focus.select(\"path\").attr(\"d\", area);\n  focus.select(\".x.axis\").call(xAxis);\n  circlegroup.selectAll(\".dot\").attr(\"cx\",function(d){ return x(format.parse(d3.keys(d)[0]));}).attr(\"cy\", function(d){ return y(d3.values(d)[0]);});\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>I am trying to create a Focus+Context+Tooltip graph based on d3 example of <a href=\"http://bl.ocks.org/1667367\" rel=\"nofollow\">http://bl.ocks.org/1667367</a>. I have got the basic charts working but when I try to zoom into an area using focus chart, my 'circles' which I plan to use for tooltip do not move. This is my code</p>\n\n<pre><code>var margin = {top: 10, right: 10, bottom: 100, left: 40},\nmargin2 = {top: 430, right: 10, bottom: 20, left: 40},\nwidth = 960 - margin.left - margin.right,\nheight = 500 - margin.top - margin.bottom,\nheight2 = 500 - margin2.top - margin2.bottom;\n\nvar data = [{\n'Wed Jan 23 00:00:00 IST 2013': 3383387\n}, {\n'Thu Jan 24 00:00:00 IST 2013': 3883387\n}, {\n'Fri Jan 25 00:00:00 IST 2013': 4383387\n}, {\n'Sat Jan 26 00:00:00 IST 2013': 2383387\n}, {\n'Sun Jan 27 00:00:00 IST 2013': 5383387\n}, {\n'Mon Jan 28 00:00:00 IST 2013': 2283387\n}];\n\nvar format = d3.time.format(\"%a %b %d %H:%M:%S IST %Y\");\n\nvar parseDate = d3.time.format(\"%b %Y\").parse;\n\nvar x = d3.time.scale().range([0, width]),\nx2 = d3.time.scale().range([0, width]),\ny = d3.scale.linear().range([height, 0]),\ny2 = d3.scale.linear().range([height2, 0]);\n\nvar xAxis = d3.svg.axis().scale(x).orient(\"bottom\"),\nxAxis2 = d3.svg.axis().scale(x2).orient(\"bottom\"),\nyAxis = d3.svg.axis().scale(y).orient(\"left\");\n\nvar brush = d3.svg.brush()\n.x(x2)\n.on(\"brush\", brush);\n\nvar area = d3.svg.area()\n.interpolate(\"monotone\")\n.x(function(d) { return x(format.parse(d3.keys(d)[0])); })\n.y0(height)\n.y1(function(d) { return y(d3.values(d)[0]); });\n\nvar area2 = d3.svg.area()\n.interpolate(\"monotone\")\n.x(function(d) { return x2(format.parse(d3.keys(d)[0])); })\n.y0(height2)\n.y1(function(d) { return y2(d3.values(d)[0]); });\n\nvar svg = d3.select(\"body\").append(\"svg\")\n.attr(\"width\", width + margin.left + margin.right)\n.attr(\"height\", height + margin.top + margin.bottom);\n\nsvg.append(\"defs\").append(\"clipPath\")\n.attr(\"id\", \"clip\")\n.append(\"rect\")\n.attr(\"width\", width)\n.attr(\"height\", height);\n\nvar focus = svg.append(\"g\")\n.attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\nvar context = svg.append(\"g\")\n.attr(\"transform\", \"translate(\" + margin2.left + \",\" + margin2.top + \")\");\n\nx.domain(d3.extent(data.map(function(d) { return format.parse(d3.keys(d)[0]); })));\ny.domain([0, d3.max(data.map(function(d) { return d3.values(d)[0]; }))]);\nx2.domain(x.domain());\ny2.domain(y.domain());\n\nfocus.append(\"path\")\n  .datum(data)\n  .attr(\"clip-path\", \"url(#clip)\")\n  .attr(\"d\", area);\n\nfocus.append(\"g\")\n  .attr(\"class\", \"x axis\")\n  .attr(\"transform\", \"translate(0,\" + height + \")\")\n  .call(xAxis);\n\nfocus.append(\"g\")\n  .attr(\"class\", \"y axis\")\n  .call(yAxis);\n\ncontext.append(\"path\")\n  .datum(data)\n  .attr(\"d\", area2);\n\ncontext.append(\"g\")\n  .attr(\"class\", \"x axis\")\n  .attr(\"transform\", \"translate(0,\" + height2 + \")\")\n  .call(xAxis2);\n\ncontext.append(\"g\")\n  .attr(\"class\", \"x brush\")\n  .call(brush)\n  .selectAll(\"rect\")\n  .attr(\"y\", -6)\n  .attr(\"height\", height2 + 7);\n\nfocus.append(\"g\").selectAll('dot')\n.data(data)\n.enter().append(\"svg:circle\")\n.attr(\"cx\",function(d){ return x(format.parse(d3.keys(d)[0]));})\n.attr(\"cy\", function(d){ return y(d3.values(d)[0]);})\n.attr(\"r\", function(d){ return 4;})\n.on('mouseover', function(d){ d3.select(this).attr('r', 8)})\n.on('mouseout', function(d){ d3.select(this).attr('r', 4)});    \n\nfunction brush() {\nx.domain(brush.empty() ? x2.domain() : brush.extent());\nfocus.select(\"path\").attr(\"d\", area);\nfocus.select(\".x.axis\").call(xAxis);\nfocus.select(\"circle\").attr(\"cx\",function(d){ return x(format.parse(d3.keys(d)[0]));}).attr(\"cy\", function(d){    return y(d3.values(d)[0]);});\n}\n</code></pre>\n\n<p>I have created a fiddle for this here: <a href=\"http://jsfiddle.net/PyvZ7/\" rel=\"nofollow\">http://jsfiddle.net/PyvZ7/</a> . Any help or clues will be great ! Thanks !</p>\n",
            "last_activity_date": 1359893032,
            "question_id": 14665482,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "d3.js"
            ],
            "title": "Moving Scatter Plot Circles With Context Zooming And Brush In D3"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This has nothing to do with the Google Earth Plugin as such, rather it is to do with the JavaScript sandbox.</p>\n\n<p>Basically JavaScript has no access to the local file system - so you can't simply use a path to a local file such as you have in your code...</p>\n\n<pre><code>var href = 'C:/KMLDATA/TEST.KMZ';\ngoogle.earth.fetchKml(ge, href, function(kmlObject) { ... }\n</code></pre>\n\n<p>To work with local files in the browser you have a number of options.</p>\n\n<ol>\n<li><p>Set up a local file server and server the file over http. This is\nrelatively easy to do in any OS. So that <code>C:/KMLDATA/TEST.KMZ</code> might\nbecome <code>http://localhost/KMLDATA/TEST.KMZ</code></p></li>\n<li><p>Use some 'plugin' object that can access the file system. A bit\nmore tricky and hard to get working across all browsers. Some thing\nlike ActiveX, XPCOM, Signed Java applets, etc. <a href=\"http://www.msa.mmu.ac.uk/~fraser/ge/localfile/\" rel=\"nofollow\">I made an example of\nloading local .kml files</a> into the plug-in via ActiveX -\nobviously it will only work in IE.</p></li>\n<li><p>Use the file api in HTML5. A lot of code and not something I have actually tried with kml. <a href=\"http://www.html5rocks.com/en/tutorials/file/dndfiles/\" rel=\"nofollow\">This\ntutorial</a> is pretty thorough and covers most aspects well.</p></li>\n</ol>\n\n<p>I would say that by far option 1 is your best bet. Setting up a local file server will allow you to load and test all your kml/kmz file easily. </p>\n\n<p>If none of that is possible or desirable for you then hosting the files on a public server, as others have suggested, is really the only option.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>We have a KMZ file that loads into the Google Earth Desktop application just fine. No errors.</p>\n\n<p>When we try to use the Google Earth Plugin to do the same thing, it does not even return from the <code>fetchKml</code> function.  Any special settings we need to know about to use <code>fetchKml</code> on a local file?</p>\n\n<p>I am trying to load the file like so:</p>\n\n<pre><code>// Where 'ge' is the Google Earth Plugin\nvar href = 'C:/KMLDATA/TEST.KMZ';\ngoogle.earth.fetchKml(ge, href, function(kml) { /* do something with kml */ });\n</code></pre>\n",
            "last_activity_date": 1359765387,
            "question_id": 14613726,
            "score": 3,
            "tags": [
                "javascript",
                "kml",
                "google-earth",
                "google-earth-plugin",
                "kmz"
            ],
            "title": "Unable to load a local KMZ file into a browser with the google earth plugin using fetchkml function"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You can remove all classes and add the one you want to leave:</p>\n\n<pre><code>$(\".staticClass\").removeClass().addClass('staticClass');\n</code></pre>\n\n<p>Calling <code>removeClass()</code> without a parameter removes all classes.</p>\n\n<p>If you don't want to do that then you can simply modify the class attribute:</p>\n\n<pre><code>$(\".staticClass\").attr('class', 'staticClass');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You can set it's required classes using the <code>.attr()</code> function. So:</p>\n\n<pre><code>$('.staticClass').attr('class','&lt;any classes required');\n</code></pre>\n\n<p>This will replace any classes that were originally there, and add the new ones.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can pass a function to remove class, which returns all but the static Classes:</p>\n\n<pre><code>$('.staticClass').removeClass(function(index, klass) { \n  return klass.replace(/(^|\\s)+staticClass\\s+/, ''); \n})\n</code></pre>\n\n<p>This is returning all the classes that are on the object, without the static one, and therefore removes all classes but the static one.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>All of your classes are manipulated by calling the Javascript DOM <code>element.className</code>, so basically jQuery's <code>addClass</code> just replaces that string. You can see that in the <a href=\"https://github.com/jquery/jquery/blob/master/src/attributes.js#L64\" rel=\"nofollow\">Github source</a>.</p>\n\n<p>Which all means that if you call</p>\n\n<pre><code>$('.staticClass').addClass('someClass');\n</code></pre>\n\n<p>The <code>element.className</code> is replaced anyway, but with the new class included. ( this means that your <code>staticClass</code> is actually touched :)</p>\n\n<p>When you call</p>\n\n<pre><code>$('.staticClass').removeClass().addClass('staticClass');\n</code></pre>\n\n<p>you will replace that string twice and there is no problem doing that.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h1>Pass a function to <code>.removeClass()</code></h1>\n\n<h2>A revision of Beat Richartz's answer on this page.</h2>\n\n<p><em>Note: I tried to post this as an edit and it was rejected. The concept is identical, with an improved RegEx.</em></p>\n\n<p><strong>Improved RegEx provides word-boundary matching with multiple classes</strong></p>\n\n<pre><code>// Remove all classes except those specified\n$('span').removeClass(function () { \n    return $(this).attr('class').replace(/\\b(?:hello|world)\\b\\s*/g, ''); \n});\n</code></pre>\n\n<p><em>Before:</em> <code>&lt;span class=\"hello foo\"&gt;hello&lt;/span&gt; &lt;span class=\"world bar\"&gt;world&lt;/span&gt;</code>\n<em>After:</em>&nbsp;&nbsp;&nbsp; <code>&lt;span class=\"hello\"&gt;hello&lt;/span&gt; &lt;span class=\"world\"&gt;world&lt;/span&gt;</code></p>\n\n<p><em>Try it:</em> <a href=\"http://jsfiddle.net/gfullam/52eeK/3/\" rel=\"nofollow\">http://jsfiddle.net/gfullam/52eeK/3/</a></p>\n\n<p><em>Try it as a jQuery plugin:</em> <a href=\"http://jsfiddle.net/gfullam/52eeK/4/\" rel=\"nofollow\">http://jsfiddle.net/gfullam/52eeK/4/</a></p>\n\n<p>FWIW: This method is necessary when you don't want to replace the existing classes with other classes as in <code>.attr('class', '&lt;final list of classes&gt;')</code>, but instead just want to remove those that don't match a list of classes.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Okay, I've got an interesting one (well, interesting to me, anyway   :)   ).</p>\n\n<p>I've got a situation where I have a div with a static class value, but it also can have a single, \"secondary class\" assigned that is dynamic.  When the user makes a selection, any existing secondary class needs to be removed and the new class added.</p>\n\n<p>Ignoring using an id value (standards for the project use the class . . . can't be changed), is there an elegant way to simply ignore the first class and remove whatever other class is there, before adding the new one?</p>\n\n<p>Example Starting HTML:</p>\n\n<pre><code>&lt;div class=\"staticClass dynaClass1\" /&gt;\n</code></pre>\n\n<p>Example JS:</p>\n\n<pre><code>function updateClass(newSecondaryClass) {\n    $(\".staticClass\") . . . **** remove any class besides \"staticClass\" ****\n    $(\".staticClass\").addClass(newSecondaryClass);\n}\n</code></pre>\n\n<p>If the function is called using <code>updateClass(\"dynaClass2\");</code>, the resulting HTML should be:</p>\n\n<pre><code>&lt;div class=\"staticClass dynaClass2\" /&gt;\n</code></pre>\n\n<p>I can think of ways of doing it involving just removing all classes using <code>removeClass();</code> and adding \"staticClass\" back in when adding the new class, or using <code>attr(\"class\", \"staticClass \" + newSecondaryClass);</code>, but I'm wondering if there isn't a way to handle it without having to touch the static class at all?</p>\n\n<p>In the end, I guess this is an academic question, more than anything . . . just seems like it's something that should be doable, but I don't know how to do it.  :D</p>\n",
            "last_activity_date": 1404332256,
            "question_id": 14322225,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "jquery-selectors",
                "removeclass"
            ],
            "title": "Using JQuery removeClass() to remove all classes but one"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Firstly, using <code>on*</code> attributes to add event handlers is a very outdated way of achieving what you want. As you've tagged your question with jQuery, here's a jQuery implementation:</p>\n\n<pre><code>&lt;div id=\"foo\"&gt;hello world!&lt;/div&gt;\n&lt;img src=\"zoom.png\" id=\"image\" /&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>$('#image').click(function() {\n    $('#foo').css({\n        'background-color': 'red',\n        'color': 'white',\n        'font-size': '44px'\n    });\n});\n</code></pre>\n\n<p>A more efficient method is to put those styles into a class, and then add that class onclick:</p>\n\n<p>CSS:</p>\n\n<pre><code>.myClass {\n    background-color: red;\n    color: white;\n    font-size: 44px;\n}\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>$('#image').click(function() {\n    $('#foo').addClass('myClass');\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<pre><code>&lt;div id=\"foo\"&gt;hello world!&lt;/div&gt;\n&lt;img src=\"zoom.png\" id=\"click_me\" /&gt;\n</code></pre>\n\n<p>JS</p>\n\n<pre><code>$('#click_me').click(function(){\n  $('#foo').css({\n    'background-color':'red',\n    'color':'white',\n    'font-size':'44px'\n  });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>With jquery you can do it like:</p>\n\n<pre><code>$('img').click(function(){\n    $('#foo').css('background-color', 'red').css('color', 'white');\n});\n</code></pre>\n\n<p>this applies for all <code>img</code> tags you should set an <code>id</code> attribute for it like <code>image</code> and then:</p>\n\n<pre><code>$('#image').click(function(){\n    $('#foo').css('background-color', 'red').css('color', 'white');\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>$('#foo').css({backgroundColor:'red', color:'white',fontSize:'44px'});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this:</p>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>.style1{\n    background-color:red;\n    color:white;\n    font-size:44px;\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div id=\"foo\"&gt;hello world!&lt;/div&gt;\n&lt;img src=\"zoom.png\" onclick=\"myFunction()\" /&gt;\n</code></pre>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>function myFunction()\n{\n    document.getElementById('foo').setAttribute(\"class\", \"style1\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In your code you aren't using jquery, so, if you want to use it, yo need something like...</p>\n\n<pre><code>$('#foo').css({'background-color' : 'red', 'color' : 'white', 'font-size' : '44px'});\n</code></pre>\n\n<p><a href=\"http://api.jquery.com/css/\" rel=\"nofollow\">http://api.jquery.com/css/</a></p>\n\n<p>Other way, if you are not using jquery, you need to do ...</p>\n\n<pre><code>document.getElementById('foo').style = 'background-color: red; color: white; font-size: 44px';\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This code seems to work fine (see this <a href=\"http://jsfiddle.net/mEE69/\" rel=\"nofollow\">jsfiddle</a>). Is your javascript defined <em>before</em> your body?\nWhen the browser reads <code>onclick=\"myFunction()\"</code> it has to know what <code>myFunction</code> is.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to change the <em>CSS on click</em> of another element. </p>\n\n<p>I've searched a lot but nothing works perfectly. <br>\nCurrently I am using the below code, but it doesn't work.</p>\n\n<p>Guide me what I missed:</p>\n\n<hr>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div id=\"foo\"&gt;hello world!&lt;/div&gt;\n&lt;img src=\"zoom.png\" onclick=\"myFunction()\" /&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>JAVASCRIPT</strong></p>\n\n<pre><code>function myFunction()\n{\ndocument.getElementById('foo').style.cssText = \n 'background-color: red; color: white; font-size: 44px';\n}\n</code></pre>\n",
            "last_activity_date": 1398673910,
            "question_id": 14319274,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "jquery-ui"
            ],
            "title": "Change CSS properties on click"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>As WestLangley mentioned, one clear question per post would help us to better answer you.</p>\n\n<p>For a somewhat less complex example of picking in Three.js using Raycaster, I have posted an example at:</p>\n\n<p><a href=\"http://stemkoski.github.com/Three.js/Mouse-Tooltip.html\" rel=\"nofollow\">http://stemkoski.github.com/Three.js/Mouse-Tooltip.html</a></p>\n\n<p>which changes a property (the color) of an object in the scene based on a ray eminating from the position of the mouse.  Perhaps this code can be adapted to address part of your difficulties.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p><strong>Show/Hide:</strong></p>\n\n<p>I've been using Three.js Release 50 and able to show/hide the objects (In my application, it is a mesh child) with the help of:</p>\n\n<pre><code>THREE.SceneUtils.traverseHierarchy(mesh,function(child){\n    var z = document.getElementById(\"cameras\").selectedIndex*5 -10;\n    if (z === -10){\n        child.visible = true;\n    } else if (child.position.z !== z){\n        child.visible = false;\n    } else {\n\n        child.visible = true;\n    };\n}); \n</code></pre>\n\n<p>But while using release 54, it is said that to use, object.traverse but found very difficult to the same. How to replace the above code using release 54? The error I'm getting while using release 54 is:</p>\n\n<p><img src=\"http://i.stack.imgur.com/WVNit.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong>Picking:</strong></p>\n\n<p>I found an example which is very famous and complex one for Picking in Three.js which is based on \"Ray Picking\" and its link : <a href=\"http://mrdoob.github.com/three.js/examples/webgl_interactive_cubes.html\" rel=\"nofollow\">Three.js Picking Example</a>. Based on this example I've been trying to implement picking in my application. But somehow there comes an error at this line.</p>\n\n<pre><code>var raycaster = new THREE.Raycaster( camera.position, vector.subSelf( camera.position                   \n).normalize() );\n</code></pre>\n\n<p>I've managed the parent - child relationships of cones [my geometry] in custom <strong>javascript object</strong> [data structure] in such a way that (Layer1 {used array for each layer within the object} has 100 cones and all are parents, Layer 2 has 100 cones which are children to cones on layer1 [multiplicity 1:1]] and layer 3  has cones which are children to cones on layer 2 and their relationship is also 1:1, thus they are also grandchildren to layer1 cones). </p>\n\n<p>I used a mesh to add the grand parent cone from first layer and accessed child in layer2 through this parent and added it to same mesh and same accessed grandchild through child and added to the same mesh. Finally  I added  whole Mesh to the scene. Because of \"z-depth\" variations [for layer one, z-cordinate:5 , for layer2: 0 and layer 3: -5], the layer1 and layer2 and layer3 are literally formed in three layers as image below.</p>\n\n<p><img src=\"http://i.stack.imgur.com/DDu8R.png\" alt=\"enter image description here\"></p>\n\n<p>But while using the following code, I couldn't see any picking on my cones. </p>\n\n<pre><code>var vector = new THREE.Vector3( mouse.x, mouse.y, 1 );\n            projector.unprojectVector( vector, camera );\n\n            var raycaster = new THREE.Raycaster( camera.position, vector.subSelf( camera.position ).normalize() );\n\n            var intersects = raycaster.intersectObjects( scene.children ); // tried with mesh.children as well, but no change :(\n\n            if ( intersects.length &gt; 0 ) {\n\n                if ( INTERSECTED != intersects[ 0 ].object ) {\n\n                    if ( INTERSECTED ) INTERSECTED.material.emissive.setHex( INTERSECTED.currentHex );\n\n                    INTERSECTED = intersects[ 0 ].object;\n                    INTERSECTED.currentHex = INTERSECTED.material.emissive.getHex();\n                    INTERSECTED.material.emissive.setHex( 0xff0000 );\n\n                }\n\n            } else {\n\n                if ( INTERSECTED ) INTERSECTED.material.emissive.setHex( INTERSECTED.currentHex );\n\n                INTERSECTED = null;\n\n            }\n</code></pre>\n\n<p>I wanted my particular cone is to be picked as the ray intersects and simultaneously based on whether the particular cone is a Grandparent/parent/child remaining cones of the particular family also to be picked. I've helper function for my custom data structure which returns the parent by inputting grand parent (Grandparent &lt;- Parent) and child by inputting parent, which you can take help of it for my picking.</p>\n\n<p>I've a JSfiddle link, which uses Three.js release 54 and CombinedCamera.js as additional resources, please someone help me to sort out this to be worked. I'm seriously in need in HELP.</p>\n\n<p>Here is my Jsfiddle link: <a href=\"http://jsfiddle.net/sagh0900/SQyLL/\" rel=\"nofollow\">http://jsfiddle.net/sagh0900/SQyLL/</a></p>\n\n<p>My previous version of <strong>working</strong> Jsfiddle prior to implementing Picking and using Three.js release 54. In this version, I've used release 50 of three.js which I'm successfully able to show/hide objects: <a href=\"http://jsfiddle.net/sagh0900/PrVbg/3/\" rel=\"nofollow\">http://jsfiddle.net/sagh0900/PrVbg/3/</a></p>\n\n<p>Thanks in advance for your HELP and SUPPORT :)</p>\n",
            "last_activity_date": 1363567583,
            "question_id": 14115733,
            "score": 3,
            "tags": [
                "javascript",
                "three.js"
            ],
            "title": "How to perform picking and hiding objects using three.js?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Custom progress bar that updates as images are downloaded</p>\n\n<pre><code>var pictures = [\n                    \"1.jgp\",\n                    \"2.jpg\"\n                ];\n\nvar loadedSoFar = 0;\n\nfunction loaded( ) {\n    // do stuff\n}\n\nfunction updateProgress( ) {\n\n    loadedSoFar++;\n\n    var newWidth = $(\"#progress\").width() * ( loadedSoFar / pictures.length );\n    $(\"#bar\").stop( true, true );\n    $(\"#bar\").animate({ width: newWidth }, 500, function( ) {\n        if( loadedSoFar === pictures.length ) { loaded() }\n    });\n}\n\nfor( var i = 0; i &lt; pictures.length; i++ ) {\n    var img = new Image();\n    img.src = pictures[ i ] + i;\n\n    img.onload = function( ) {\n        updateProgress();\n    }\n}\n</code></pre>\n\n<p>Demo <a href=\"http://jsfiddle.net/bruno/nTYpM/2/\"><strong>here</strong></a></p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I am trying to make 4 sliding galleries but I need to preload (cache) all images behind a splash screen before displaying the images in gallery form. I have been trying to use \"jPreLoader v2 - <a href=\"http://www.inwebson.com/jquery/jpreloader-a-preloading-screen-to-preload-images\" rel=\"nofollow\">http://www.inwebson.com/jquery/jpreloader-a-preloading-screen-to-preload-images</a>\"  but with no luck.</p>\n\n<p>The code below is how I have been trying to preload all images from each gallery directory on to a single gallery behind jpreloader then once load complete remove the whole gallery and display each gallery at a time.</p>\n\n<pre><code>var pictures =  [\n    \"1.jpg\",\n    \"2.jpg\",\n    \"3.jpg\",\n    \"4.jpg\",\n    .......,\n    \"30.jpg\"\n ]\n\n$(window).load(function(){\n\npreLoad();\n\nfunction preLoad(){\n    var max = 30;\n    var pic;\n    picture = '&lt;table id=\"table\" style=\"dipslay:table;\"&gt;&lt;tr&gt;';\n    for (var i=0;i &lt; max; i++){\n        if(i &lt; 30){\n            pic = \"images/art/\"+pictures[i];\n            appendCell(pic);\n        }\n        if(i &lt; 17){\n            pic = \"images/street/\"+pictures[i];\n            appendCell(pic);\n        }\n        if(i &lt; 19){\n            pic = \"images/doc/\"+pictures[i];\n            appendCell(pic);\n        }\n        if(i &lt; 16){\n            pic = \"images/commercial/\"+pictures[i];\n            appendCell(pic);\n        }\n    };\n    picture += '&lt;/tr&gt;&lt;/table&gt;';\n    $('#imageScroller').append(picture);\n}\n\nfunction appendCell(pic){\n    picture +=\"&lt;td class='image'&gt;&lt;img class='i' src='\"+pic+\"'&gt;&lt;/td&gt;\";\n    return;\n}\n});\n</code></pre>\n\n<p>Im not quite sure how to implement the jpreloader on a dynamic image loading loop above instead of already inserted into the dom.</p>\n\n<pre><code>$(document).ready(function () {\n$('body').jpreLoader();\n});\n</code></pre>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1356055676,
            "question_id": 13982789,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "image",
                "caching",
                "dynamic"
            ],
            "title": "Cache dynamic images from array before page loads using javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>use a second arugment please like</p>\n\n<pre><code>Template.superuserHUD.events\n    'click input.new_device': (event, template) -&gt;\n        options =\n              id: template.find('.new_device_id').value\n              IP: 'Not Connected'\n        Device_IPs.insert options\n</code></pre>\n\n<p>and sometimes use template itself like</p>\n\n<pre><code>Template.superuserHUD.events\n    event: (event, template) -&gt;\n        @find('.new_device_id').value\n</code></pre>\n\n<p>Here's the same in javascript for the coffee illiterate...</p>\n\n<pre><code>Template.superuserHUD.events({\n  'click input.new_device': function(event, template) {\n    var options;\n    options = {\n      id: template.find('.new_device_id').value,\n      IP: 'Not Connected'\n    };\n    return Device_IPs.insert(options);\n  }\n});\n</code></pre>\n\n<hr>\n\n<pre><code>Template.superuserHUD.events({\n  event: function(event, template) {\n    return this.find('.new_device_id').value;\n  }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The Event handler function receives two arguments: <code>event</code>, an object with information about the event, and <code>template</code>, a template instance for the template where the handler is defined. </p>\n\n<p>The second parameter is optional, but it needs to be received in handler when you want to use template instance functions like <code>find()</code>, <code>findAll()</code>, <code>firstNode()</code> and <code>lastNode()</code>.</p>\n\n<p>So, to use the <code>template.find()</code> in your event handler, you need to pass both the arguments as:</p>\n\n<pre><code>'click input.new_device': function (event, template) {\n     // your event handling code\n  }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 13
                }
            ],
            "body": "<p>I am trying to use <a href=\"http://docs.meteor.com/#template_find\" rel=\"nofollow\"><code>template.find</code></a> to make my life easier.</p>\n\n<p>But in the javascript console I get: <code>undefined is not a function</code></p>\n\n<p>Here's what I have. It is getting tripped up on <code>template.find(...)</code></p>\n\n<pre><code>  Template.superuserHUD.events = \n  {\n    'click input.new_device': function (template) {\n      var id = template.find(\".new_device_id\").value;\n      Device_IPs.insert({ID: id, IP: \"Not Connected\"});\n    }\n  }\n</code></pre>\n\n<p>Any ideas?</p>\n",
            "last_activity_date": 1402753122,
            "question_id": 13931196,
            "score": 3,
            "tags": [
                "javascript",
                "events",
                "templates",
                "meteor"
            ],
            "title": "Meteor template.find is undefined"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I've found solution:\nCodmirror doesn't have functions like cut, copy and past in API, but it allow to get and replace selected text, so I can write those operations by myself.</p>\n\n<pre><code>public void cut() {\n    String selectedText = (String) webview.getEngine().executeScript(\n            \"editor.getSelection();\");\n    webview.getEngine().executeScript(\"editor.replaceSelection(\\\"\\\");\");\n    final Clipboard clipboard = Clipboard.getSystemClipboard();\n    final ClipboardContent content = new ClipboardContent();\n    content.putString(selectedText);\n    clipboard.setContent(content);\n\n}\n\npublic void copy() {\n    String selectedText = (String) webview.getEngine().executeScript(\n            \"editor.getSelection();\");\n    final Clipboard clipboard = Clipboard.getSystemClipboard();\n    final ClipboardContent content = new ClipboardContent();\n    content.putString(selectedText);\n    clipboard.setContent(content);\n}\n\npublic void paste() {\n    final Clipboard clipboard = Clipboard.getSystemClipboard();\n    String content = (String) clipboard.getContent(DataFormat.PLAIN_TEXT);\n    webview.getEngine().executeScript(String.format(\"editor.replaceSelection(\\\"%s\\\");\", content));\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I'm creating simple editor in Java FX using codemirror.js library.\nI embeded codemirror editor in javafx using javafx.scene.web.WebView component, with the folowing html/js code:</p>\n\n<pre><code>&lt;body&gt;\n&lt;form&gt;\n   &lt;textarea id=\"code\" name=\"code\"&gt;\n   &lt;/textarea&gt;\n&lt;/form&gt;\n&lt;script&gt;\n   var editor = CodeMirror.fromTextArea(document.getElementById(\"code\"), { lineNumbers: true});\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Codemirror editor itself supports undo, redo, cut, copy and paste.</p>\n\n<p>I have also javafx main menue in my application and I want to add actions like copy or paste to it. I want to somehow \"bind\" this menue actions with my codemirror editor, so  if user click e.g. paste from main menue, the content from clipboard will be added to the codemirror editor.  </p>\n\n<p>I solved this problem for undo and redo operations: codemirror has two js functions undo() and redo() and I can invoke they from java level via javafx.scene.web.WebView.executeScript method.</p>\n\n<p>My question is how to handle cut, copy and paste operations? How to bind this operations from main menue with codemirror editor? I can't find any js functions in codemirror.js that can handle this oprations. </p>\n\n<p>Any help appreciated and thanks in advance.</p>\n",
            "last_activity_date": 1359109922,
            "question_id": 13929371,
            "score": 3,
            "tags": [
                "java",
                "javascript",
                "javafx",
                "clipboard",
                "codemirror"
            ],
            "title": "Copy and paste in codemirror.js embeded in javafx application"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I've found a very temporary solution. It seems if you purposely create an error it'll unbind the google maps autocomplete from the original text box and reveal your original textboxes with the updated value. Not really a solution but it's a start</p>\n\n<pre><code>//Created this variable that stores the pac-container\nvar element = document.getElementsByClassName(\"pac-container\");\n\n//inside the addListener() function I added this to create a DOM error\nelement[0].childNodes[0].childNodes[0].removeChild();\n</code></pre>\n\n<p>The javascript throws an error but it at least allows me to put in what I want in the textbox using '.value' </p>\n\n<p>Again not a solution but a start. I hope we find a better solution.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>how about cloning the element and then replacing with the same and then call initialze again.</p>\n\n<p>Well something like this. This worked for me in the past.</p>\n\n<pre><code>$(\"#Id\").replaceWith($(\"#Id\").clone());\ninitialize();\n</code></pre>\n\n<p>here initailize is the method that is called when the dom loads google.maps.event.addDomListener(window, 'load', initialize); in your case it may be different </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The Autocomplete object has a few not obvious event listeners.  The reality is that when you run your code, it actually does change the value, and then the Autocomplete objects changes it back really fast!  To test this, add <code>alert();</code> after your <code>address.value = place.name;</code> line.  You can cajole it to keeping your value if you add a <code>setTimeout()</code> that sets the value with a 1ms delay.  But when you leave the field, the Autocomplete's <code>blur</code> event triggers, and your address is overwritten again.  You can solve this issue with one line:</p>\n\n<p><code>address.addEventListener('blur', function() { address.value = place.name; });</code></p>\n\n<p>This takes care of the first case as well, so you won't even need to add a <code>setTimeout()</code>.  Replace the line you have for setting the value with this event listener, and it will replace the Autocomplete's callback function that sets the text every time it gets fired.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have the following javascript code which does google map autocomplete on different input textboxes that are parts of an address.</p>\n\n<pre><code>function startAutoComplete() {\n    var address = document.getElementById(\"addressId\");\n    var city = document.getElementById(\"cityId\");\n    var state = document.getElementById(\"stateId\");\n    var zip = document.getElementById(\"zipId\");\n\n    //option for autocomplete\n    var option = {types: ['geocode'], componentRestrictions: {country: 'us'}};\n\n    //autocomplete for address textbox\n    autocomplete = new google.maps.places.Autocomplete(address, option);\n\n    google.maps.event.addListener(autocomplete, 'place_changed', function() {\n        var place = autocomplete.getPlace();\n\n        //parses the result object and populates the other textboxes accordingly\n        for(i=0; i&lt;place.address_components.length; i++)\n        {\n            if(place.address_components[i].types[0] == 'locality')\n            city.value = place.address_components[i].long_name;\n\n            if(place.address_components[i].types[0] == 'administrative_area_level_1')\n            state.value = place.address_components[i].short_name;\n\n            if(place.address_components[i].types[0] == 'postal_code')\n            zip.value = place.address_components[i].long_name;\n        }\n\n        /* Here is the PROBLEM */\n        address.value = place.name;\n\n    });\n</code></pre>\n\n<p>However when I try and update the textbox that is being auto completed with a shortened version of the full address (so here just the street number and street name). The value in the full address textbox doesn't change. I've tried using jquery and setting the value attribute with setAttribute() on the textbox. What am I doing wrong?</p>\n",
            "last_activity_date": 1400897050,
            "question_id": 13925008,
            "score": 3,
            "tags": [
                "javascript",
                "google-maps-api-3",
                "autocomplete"
            ],
            "title": "Change the value in textbox of a google map autocomplete"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Here Is The Solution For Number 1 and 2 for those who has the problem similar to the ones i used to have. hope that will helpful.</p>\n\n<p>The array Looks Like That: <code>BigWordsDates2 = {\"#Tahrir\":[[\"2012-10-12\",20],[\"2012-10-13\",1],[\"2012-10-19\",15]],\"#Egypt\":[[\"2012-10-01\",3],[\"2012-10-03\",2],[\"2012-10-04\",3],[\"2012-10-07\",1],[\"2012-10-10\",1],[\"2012-10-13\",2],[\"2012-10-14\",1],[\"2012-10-15\",1],[\"2012-10-16\",1],[\"2012-10-17\",4],[\"2012-10-19\",5]]};</code></p>\n\n<p>Save the Value that Your Targeted array Values you want like that: <code>var tahrir = BigWordsDates2['#Tahrir']</code></p>\n\n<p>and then overwrite the CSV Data with it. You can Find The example with solution in the jsfiddle below.</p>\n\n<p><a href=\"http://jsfiddle.net/makoto/ARy8d/7/\" rel=\"nofollow\">http://jsfiddle.net/makoto/ARy8d/7/</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I want to create a Calendar View Like this example: <a href=\"http://bl.ocks.org/4063318\" rel=\"nofollow\">http://bl.ocks.org/4063318</a>:</p>\n\n<p><img src=\"http://i.stack.imgur.com/G0QdS.jpg\" alt=\"enter image description here\"></p>\n\n<p>Actually i am trying to modify it.</p>\n\n<p>I have an associative array like this: <code>#AdminCourt[[\"2012-10-02\", 2], [\"2012-10-09\", 2], [\"2012-10-16\", 1]] #ConstituentAssembly[[\"2012-10-02\", 2], [\"2012-10-09\", 2], [\"2012-10-12\", 2], [\"2012-10-16\", 2]]</code></p>\n\n<p>I tried filling the calendar like this:</p>\n\n<pre><code>BigWordsDates2.map(function(d) {\n              return {\n                 date: d[0],\n                 close: d[1]\n              };\n              var data = d3.nest()\n    .key(function(d) { return d.Date; })\n    .rollup(function(d) { return (d.Close - 0); });\n\n  rect.filter(function(d) { return d in data; })\n      .attr(\"class\", function(d) { return \"day \" + color(data[d]); })\n    .select(\"title\")\n      .text(function(d) { return d + \": \" + percent(data[d]); });\n      });\n</code></pre>\n\n<p>I know i am not looping through the array and i dont know how i tried for each but it seems that i dont get it correctly.</p>\n\n<p>Here are the stuff that i need ur help with :)</p>\n\n<ol>\n<li>Loop through the array.( I know how to loop on it but i dont know if there is a way through the D3 class )</li>\n<li>How to Make each cell clickable.</li>\n<li>if i can add MultiValues in a cell ( Probably the keys of the array it depends on the date values).</li>\n<li>How to make the calendar Dynamic Not Set to a certain Range.</li>\n</ol>\n\n<p>Here is the script code i have:</p>\n\n<pre><code>var w = 760,\n    h = 530;\n    var cloudwidth = 700, cloudheight=500;\n    var FunctionCount=0;\n    var BigWord;\n    var SmallWord;\n    var tweets =  &lt;?php echo json_encode($Row_Words_Repeated_Relation); ?&gt;;\n    //var tweets = JSON.parse(TweetsAnalized);\n    var tweetscounts = JSON.parse('&lt;?php echo $Array_OfCounters_to_json ?&gt;');\n    var BigWordsDates2 = &lt;?php echo json_encode($Array_OfDates); ?&gt;;\n    //var BigWordsDates2 = JSON.parse(BigWordsDates);\n    var OriginalTweets = JSON.parse('&lt;?php echo mysql_real_escape_string($OriginalTweets_to_json) ?&gt;');\n\n    var width = 960,\n    height = 136,\n    cellSize = 17; // cell size\n\nvar day = d3.time.format(\"%w\"),\n    week = d3.time.format(\"%U\"),\n    percent = d3.format(\".1%\"),\n    format = d3.time.format(\"%Y-%m-%d\");\n\nvar color = d3.scale.quantize()\n    .domain([-.05, .05])\n    .range(d3.range(11).map(function(d) { return \"q\" + d + \"-11\"; }));\n\nvar svg = d3.select(\"body\").selectAll(\"svg\")\n    .data(d3.range(2005, 2015))\n  .enter().append(\"svg\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"class\", \"RdYlGn\")\n  .append(\"g\")\n    .attr(\"transform\", \"translate(\" + ((width - cellSize * 53) / 2) + \",\" + (height - cellSize * 7 - 1) + \")\");\n\nsvg.append(\"text\")\n    .attr(\"transform\", \"translate(-6,\" + cellSize * 3.5 + \")rotate(-90)\")\n    .style(\"text-anchor\", \"middle\")\n    .text(function(d) { return d; });\n\nvar rect = svg.selectAll(\".day\")\n    .data(function(d) { return d3.time.days(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })\n  .enter().append(\"rect\")\n    .attr(\"class\", \"day\")\n    .attr(\"width\", cellSize)\n    .attr(\"height\", cellSize)\n    .attr(\"x\", function(d) { return week(d) * cellSize; })\n    .attr(\"y\", function(d) { return day(d) * cellSize; })\n    .datum(format);\n\nrect.append(\"title\")\n    .text(function(d) { return d; });\n\nsvg.selectAll(\".month\")\n    .data(function(d) { return d3.time.months(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })\n  .enter().append(\"path\")\n    .attr(\"class\", \"month\")\n    .attr(\"d\", monthPath);\n\n/*d3.csv(\"dji.csv\", function(error, csv) {\n  var data = d3.nest()\n    .key(function(d) { return d.Date; })\n    .rollup(function(d) { return (d[0].Close - d[0].Open) / d[0].Open; })\n    .map(csv);\n\n  rect.filter(function(d) { return d in data; })\n      .attr(\"class\", function(d) { return \"day \" + color(data[d]); })\n    .select(\"title\")\n      .text(function(d) { return d + \": \" + percent(data[d]); });\n});*/\nBigWordsDates2[\"#Tahrir\"].map(function(d) {\n              return {\n                 date: d[0],\n                 close: d[1]\n              };\n              var data = d3.nest()\n    .key(function(d) { return d.Date; })\n    .rollup(function(d) { return (d.Close - 0); });\n\n  rect.filter(function(d) { return d in data; })\n      .attr(\"class\", function(d) { return \"day \" + color(data[d]); })\n    .select(\"title\")\n      .text(function(d) { return d + \": \" + percent(data[d]); });\n      });\n\n\n\n\nfunction monthPath(t0) {\n  var t1 = new Date(t0.getFullYear(), t0.getMonth() + 1, 0),\n      d0 = +day(t0), w0 = +week(t0),\n      d1 = +day(t1), w1 = +week(t1);\n  return \"M\" + (w0 + 1) * cellSize + \",\" + d0 * cellSize\n      + \"H\" + w0 * cellSize + \"V\" + 7 * cellSize\n      + \"H\" + w1 * cellSize + \"V\" + (d1 + 1) * cellSize\n      + \"H\" + (w1 + 1) * cellSize + \"V\" + 0\n      + \"H\" + (w0 + 1) * cellSize + \"Z\";\n}\n\nd3.select(self.frameElement).style(\"height\", \"2910px\");\n</code></pre>\n\n<p>Thanks In Advance and i would really appreciate the help.</p>\n\n<p>EDIT 1:</p>\n\n<p>I tried to work on something like that:</p>\n\n<pre><code>var data1 = d3.entries(BigWordsDates2).forEach(function(d) {\nfor each (var i in BigWordsDates2[d.key]){\nreturn {\n       Date: BigWordsDates2[d.key][i][0],\n       Close: BigWordsDates2[d.key][i][1]\n    };\n};\nvar data = d3.nest()\n.key(function(data1) { return d.Date; })\n.rollup(function(data1) { return (d.Close - 0); });\n</code></pre>\n\n<p>Edit 2: i worked around what was above a bit and this is all i can think of would really need Help, no idea why the values aint appended in the calendar.</p>\n\n<pre><code>var width = 960,\n    height = 136,\n    cellSize = 17; // cell size\n\nvar day = d3.time.format(\"%w\"),\n    week = d3.time.format(\"%U\"),\n    percent = d3.format(\".1%\"),\n    format = d3.time.format(\"%Y-%m-%d\");\n\nvar color = d3.scale.quantize()\n    .domain([-.05, .05])\n    .range(d3.range(11).map(function(d) { return \"q\" + d + \"-11\"; }));\n\nvar svg = d3.select(\"body\").selectAll(\"svg\")\n    .data(d3.range(2005, 2015))\n  .enter().append(\"svg\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"class\", \"RdYlGn\")\n  .append(\"g\")\n    .attr(\"transform\", \"translate(\" + ((width - cellSize * 53) / 2) + \",\" + (height - cellSize * 7 - 1) + \")\");\n\nsvg.append(\"text\")\n    .attr(\"transform\", \"translate(-6,\" + cellSize * 3.5 + \")rotate(-90)\")\n    .style(\"text-anchor\", \"middle\")\n    .text(function(d) { return d; });\n\nvar rect = svg.selectAll(\".day\")\n    .data(function(d) { return d3.time.days(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })\n  .enter().append(\"rect\")\n    .attr(\"class\", \"day\")\n    .attr(\"width\", cellSize)\n    .attr(\"height\", cellSize)\n    .attr(\"x\", function(d) { return week(d) * cellSize; })\n    .attr(\"y\", function(d) { return day(d) * cellSize; })\n    .datum(format);\n\nrect.append(\"title\")\n    .text(function(d) { return d; });\n\nsvg.selectAll(\".month\")\n    .data(function(d) { return d3.time.months(new Date(d, 0, 1), new Date(d + 1, 0, 1)); })\n  .enter().append(\"path\")\n    .attr(\"class\", \"month\")\n    .attr(\"d\", monthPath);\n\n/*d3.csv(\"dji.csv\", function(error, csv) {\n  var data = d3.nest()\n    .key(function(d) { return d.Date; })\n    .rollup(function(d) { return (d[0].Close - d[0].Open) / d[0].Open; })\n    .map(csv);\n\n  rect.filter(function(d) { return d in data; })\n      .attr(\"class\", function(d) { return \"day \" + color(data[d]); })\n    .select(\"title\")\n      .text(function(d) { return d + \": \" + percent(data[d]); });\n});*/\n\n\n    d3.entries(BigWordsDates2).map(function(d) {\n        for each (var i in BigWordsDates2[d.key]){\n            /*var count =i;\n              return {\n                 Date: i[0],\n                 Close: i[1]\n              };*/                                               \n      rect.filter(function(i) { return i in BigWordsDates2; })\n          .attr(\"class\", function(i) { return \"day \" + color(i[0]); })\n        .select(\"title\")\n          .text(function(i) { return d.key + \": \" + percent(i[1]); });\n\n       };\n  });\n\n\n\nfunction monthPath(t0) {\n  var t1 = new Date(t0.getFullYear(), t0.getMonth() + 1, 0),\n      d0 = +day(t0), w0 = +week(t0),\n      d1 = +day(t1), w1 = +week(t1);\n  return \"M\" + (w0 + 1) * cellSize + \",\" + d0 * cellSize\n      + \"H\" + w0 * cellSize + \"V\" + 7 * cellSize\n      + \"H\" + w1 * cellSize + \"V\" + (d1 + 1) * cellSize\n      + \"H\" + (w1 + 1) * cellSize + \"V\" + 0\n      + \"H\" + (w0 + 1) * cellSize + \"Z\";\n}\n\nd3.select(self.frameElement).style(\"height\", \"2910px\");\n</code></pre>\n\n<p>I think am close. any help would be appreciated.</p>\n\n<p>I made a jsfiddle template: <a href=\"http://jsfiddle.net/ARy8d/1/\" rel=\"nofollow\">http://jsfiddle.net/ARy8d/1/</a></p>\n\n<p>EDIT 3:</p>\n\n<p>i got Steps 1 and 2 are solved and here is the jsfiddle link:\n<a href=\"http://jsfiddle.net/makoto/ARy8d/9/\" rel=\"nofollow\">http://jsfiddle.net/makoto/ARy8d/9/</a></p>\n\n<p>Now trying to find a workaround to add multivalues in same cell</p>\n\n<p>For Example if i have 2 values in array that has the same date i want to add and view them in the right cell. however what the code does right now that if there are 2 values with the same date value the last one overwrites the first one.</p>\n\n<p>Any help will do, thanks in advance.</p>\n",
            "last_activity_date": 1389981586,
            "question_id": 13892816,
            "score": 3,
            "tags": [
                "javascript",
                "d3.js",
                "calendar",
                "associative-array"
            ],
            "title": "D3 Calendar View using Associative Array"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>There's a newer js method called naturalHeight or naturalWidth that will return the information you're looking for. Unfortunately it wont work in older IE versions. Here's a function I created a few months back that may work for you. I added a bit of your code below it for an example:</p>\n\n<pre><code>function getNatural($mainImage) {\n    var mainImage = $mainImage[0],\n        d = {};\n\n    if (mainImage.naturalWidth === undefined) {\n        var i = new Image();\n        i.src = mainImage.src;\n        d.oWidth = i.width;\n        d.oHeight = i.height;\n    } else {\n        d.oWidth = mainImage.naturalWidth;\n        d.oHeight = mainImage.naturalHeight;\n    }\n    return d;\n}\n\nvar img = $(\"#703504\");\nvar naturalDimension = getNatural(img);\nalert(naturalDimension.oWidth, naturalDimension.oHeight)\u200b\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 0
                }
            ],
            "body": "<p>I have a list of images that is rendered as thumbnails after upload. The issue that I have is I need the dimensions of the fully uploaded images, so that I can run a resize function if sized incorrectly.</p>\n\n<p><strong>Function that builds the image list</strong></p>\n\n<pre><code>function buildEditList(json, galleryID)\n{\n    //Hide the list\n    $sortable = $('#sortable');\n    $sortable.hide();\n\n    for(i = 0, j = json.revision_images.length; i &lt; j; i++) {\n        $sortable.append(\n            \"&lt;li id='image_\" + json.revision_images[i].id + \"'&gt;&lt;a class=\\\"ui-lightbox\\\" href=\\\"../data/gallery/\"\n            + galleryID\n            + \"/images/album/\"\n            + json.revision_images[i].OrgImageName\n            + \"\\\"&gt;&lt;img id=\\\"\"\n            + json.revision_images[i].id\n            + \"\\\" alt=\\\"\\\" src=\\\"../data/gallery/\"\n            + galleryID \n            + \"/images/album/\" \n            + json.revision_images[i].OrgImageName \n            + \"\\\"/&gt;&lt;/a&gt;&lt;/li&gt;\"\n        ).hide();\n    }\n    //Set first and last li to 50% so that it fits the format\n    $('#sortable li img').first().css('width','50%');\n    $('#sortable li img').last().css('width', '50%');\n\n    //Fade images back in \n    $sortable.fadeIn(\"fast\",function(){\n        var img = $(\"#703504\"); // Get my img elem -- hard coded at the moment\n        var pic_real_width, pic_real_height;\n        $(\"&lt;img/&gt;\") // Make in memory copy of image to avoid css issues\n            .attr(\"src\", $(img).attr(\"src\"))\n            .load(function() {\n                pic_real_width = this.width;   // Note: $(this).width() will not\n                pic_real_height = this.height; // work for in memory images.\n        });\n        alert(pic_real_height);\n    });\n\n}\n</code></pre>\n\n<p>I have been trying to use the solution from this <a href=\"http://stackoverflow.com/questions/318630/get-real-image-width-and-height-with-javascript-in-safari-chrome\">stackoverflow</a> post, but have yet to get it to work, or it may just be my code. if you have any ideas on this I could use the help. Currently the alert is coming back undefined.</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1355358421,
            "question_id": 13850867,
            "score": 3,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "jQuery/javascript - Get Image size before load"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>When you create a function inside a loop you create a closure around the variables used in that loop. In this case there is a closure around <code>prop</code>. Each function (the getters) has a reference to <code>prop</code> so when they are called later on (when the getter is used) they use the value in <code>prop</code> which happens to be the last value that was assigned in the loop. </p>\n\n<p>In other words, since the getter is called later, the value in <code>prop</code> is whatever value it was last set to. <code>defineProperty</code>, on the other hand, gets the correct value since there is no closure. It is called with the value at the time of the call rather than after the loop is complete.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>Ok, I try to create new object this way:</p>\n\n<pre><code>var src = {a:'a', b:'b', c:'c'};\nvar out = {};\nfor(var prop in src){   \n    Object.defineProperty(out, prop,{\n        get: function(){\n            return src[prop];\n        },\n        set: function(val){\n            src[prop]=val;\n        }\n    })\n}\n</code></pre>\n\n<p>And get a bad result:</p>\n\n<pre><code>out = {a:'c', b:'c', c:'c'}\n</code></pre>\n\n<p>I know other ways to create this object, so as:</p>\n\n<pre><code>for (var prop in src) {\n    (function(prop) {\n        Object.defineProperty(out, prop, {\n            get: function() {\n                return src[prop];\n            },\n            set: function(val) {\n                src[prop] = val;\n            }\n        })\n    })(prop)\n}\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>Object.keys(src).map(function(prop){\n    Object.defineProperty(out, prop,{\n        get: function(){\n            return src[prop];\n        },\n        set: function(val){\n            src[prop]=val;\n        }\n    })\n})\n</code></pre>\n\n<p>But I can't understand why, in the first method, a string parameter \"prop\" will be sent to the function 'defineProperty' by link. Help me to understand this please.\nSorry for bad english.</p>\n",
            "last_activity_date": 1355060023,
            "question_id": 13787643,
            "score": 3,
            "tags": [
                "javascript",
                "object",
                "get",
                "set"
            ],
            "title": "Object.defineProperty get/set closure"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Considering that AJAX callbacks are dependent on the server response(success, failure), you can't define if they are pending to be called, until it's actually time to call them.   </p>\n\n<p>But here's an idea how this checking can be achieved for <code>setTimeout</code> (and maybe <code>setInterval</code>):   </p>\n\n<pre><code>window.timeoutsRegistry = [];\n\nwindow.oldSetTimeout = window.setTimeout;\n\nwindow.setTimeout = function(func, delay) {\n    var tId = window.oldSetTimeout(function() {\n        try {\n            func();\n        }\n        catch (exception) {\n            //Do Error Handling\n        }\n    }, delay);\n\n    var startedAt = (+new Date);\n\n    window.timeoutsRegistry[tId] = {\n        id: tId,\n        callback: func,\n        delay: delay,\n        startedAt: startedAt,\n        isPending: function () {\n            var now = (+new Date);\n\n            return ((startedAt + delay) &gt; now);\n        }\n    };\n};\n\nfor(var i =0; i &lt; 10; i++) {\n    setTimeout(function() {\n        1+1;\n    }, 200000);\n}\n\n\nconsole.log(window.timeoutsRegistry);\n\nvar pending = window.timeoutsRegistry.filter(function(element) {\n    return element.isPending();\n});\n\nconsole.log(pending);\n</code></pre>\n\n<p>Some notes:</p>\n\n<ul>\n<li>the <code>filter</code> method is not supported in all browsers</li>\n<li><a href=\"http://stackoverflow.com/questions/3815296/overriding-a-global-function-in-javascript\">How to override a global function</a></li>\n<li><a href=\"http://stackoverflow.com/questions/221294/how-do-you-get-a-timestamp-in-javascript\">What does <code>+new Date</code> do</a></li>\n<li><a href=\"http://stackoverflow.com/questions/2814919/does-the-browser-keep-track-of-active-timer-ids\">A related question (just food for thought)</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm wondering if there is any way to check if there are any pending calls that'll be executed at some point, like for example a callback from an AJAX request or a timer (<code>setTimeout</code>).</p>\n\n<p>Something like checking the entire stack of the engine that is running JavaScript.</p>\n",
            "last_activity_date": 1386749497,
            "question_id": 13604365,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "Checking for pending calls"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Well, here you go buddy, a function that does exactly what you need!</p>\n\n<pre><code>utils.depthOf = function(object) {\n    var level = 1;\n    var key;\n    for(key in object) {\n        if (!object.hasOwnProperty(key)) continue;\n\n        if(typeof object[key] == 'object'){\n            var depth = utils.depthOf(object[key]) + 1;\n            level = Math.max(depth, level);\n        }\n    }\n    return level;\n}\n</code></pre>\n\n<p>A lot easier than we thought it would be. The issue was how it was incremented, it shouldn't have been recursively adding, rather getting the bottom-most and adding one, then choosing the max between two siblings. </p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I'm working on a permissions system with variable depth; depending on the complexity of a page, there could be more or less levels. I searched StackOverflow to find if this has been asked before, couldn't find it.</p>\n\n<p>If I have this object:</p>\n\n<pre><code>{foo:{bar:{baz : 'baa'}}}\n</code></pre>\n\n<p>I need it to return 3, it has 3 levels to it.</p>\n\n<p>With this object:</p>\n\n<pre><code>{abc: 'xyz'} \n</code></pre>\n\n<p>It would have to be 1. </p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>utils.depthOf = function(object, level){\n    // Returns an int of the deepest level of an object\n    level = level || 1;\n\n    var key;\n    for(key in object){\n        if (!object.hasOwnProperty(key)) continue;\n\n        if(typeof object[key] == 'object'){\n            level++;\n            level = utils.depthOf(object[key], level);\n        }\n    }\n\n    return level;\n}\n</code></pre>\n\n<p>The problem is it counts sister elements too. It's actually not getting depth, it's counting all members of an object. </p>\n",
            "last_activity_date": 1353657498,
            "question_id": 13523951,
            "score": 3,
            "tags": [
                "javascript",
                "object",
                "recursion"
            ],
            "title": "How to check the depth of an object?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>So is there another way of figuring the context (say from within the callback function itself)?</p>\n</blockquote>\n\n<p>Nope. Not without some extra specific before you pass the callback. If all you have is a function reference, you typically have no context. But with some prep, there are some solutions.</p>\n\n<p>You could wrap the callback. When this is invoked, <code>bar.callback()</code> will be called in it's full form, preserving the context of <code>bar</code>.</p>\n\n<pre><code>foo.doStuff = function() { bar.callback(); };\n</code></pre>\n\n<p>Or in modern JS engines you can bind the callback to a specific context.</p>\n\n<pre><code>foo.doStuff = bar.callback.bind(bar);\n</code></pre>\n\n<p>Or use <a href=\"http://underscorejs.org/\" rel=\"nofollow\">underscore.js</a> to do that in all JS engines.</p>\n\n<pre><code>foo.doStuff = _(bar.callback).bind(bar);\n</code></pre>\n\n<p>Or make your own bind function if you want compatibility with old engines and dont want to use a whole library for it.</p>\n\n<pre><code>var bind = function(fn, context) {\n  return function() {\n    fn.call(context);\n  };\n};\nfoo.doStuff = bind(bar.callback, bar);\n</code></pre>\n\n<hr>\n\n<p>All that said, a simple wrapper is usually the simplest and most common. It's got few drawbacks, it's fast, easy to understand, and gives you lots of control over what gets invoked with what arguments.  In this case, this form makes the most sense I think.</p>\n\n<pre><code>foo.doStuff = function() { bar.callback(); };\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>I'd do it with a closure.</p>\n\n<pre><code>foo.doStuff = function(){\n  bar.callback();\n};\n</code></pre>\n\n<p>If you fear that the value of bar is changed between the moment you create the callback and the moment it is executed, you could \"lock\" the value of bar, but that might be overkill </p>\n\n<pre><code>foo.doStuff = (function(bar){\n  return function(){\n    bar.callback();\n  }\n})(bar);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use closure for bar.</p>\n\n<pre><code>var foo = {\n    message: \"Hello foo\",\n    doStuff: undefined\n};\n\nvar bar = (function() {\n    var message = \"Hello bar\";\n    return {\n        callback: function() {                \n            alert(message);\n        }\n    };\n})();\n\n\nfoo.doStuff = bar.callback;\nfoo.doStuff();\n\u200b\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/scqEh/1/\" rel=\"nofollow\">jsfiddle</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a case where I have an object, \"foo\", that needs to call a callback on another object, \"bar\", and I need the context within the callback to be that of \"bar\". The kicker though, is that beyond getting its callback from \"bar\", \"foo\" should not know anyting about it.</p>\n\n<p>Example:</p>\n\n<pre><code>var foo = \n{\n    message: \"Hello foo\",\n    doStuff: undefined\n};\n\nvar bar =\n{\n    message: \"Hello bar\",\n    callback = function ()\n    {\n        alert(this.message);\n    }\n\n};\n\nfoo.doStuff = bar.callback;\n\nfoo.doStuff();\n</code></pre>\n\n<p>I realize that normally you would use \"call\" or \"apply\" to switch the context to bar but in my particular case, at the time of calling <code>foo.doStuff()</code> I no longer have information about where the callback came from. So is there another way of figuring the context (say from within the callback function itself)?</p>\n",
            "last_activity_date": 1353527273,
            "question_id": 13500384,
            "score": 3,
            "tags": [
                "javascript",
                "callback",
                "this"
            ],
            "title": "Getting context from an object inside a callback in Javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can't, at least not in any way that Twitter is going to recognise. </p>\n\n<p>When Twitter fetches the page, it is always going to get the meta elements that are in the HTML, never ones added with client side JavaScript.</p>\n\n<p>If you are changing content dynamically then make use of <a href=\"https://developer.mozilla.org/en-US/docs/DOM/Manipulating_the_browser_history#Adding_and_modifying_history_entries\" rel=\"nofollow\">the history API</a> to update the URI, and make sure that the server will generate all the content for each URI when the URI is used as an entry point (you can still use JavaScript to generate the content when moving from another page on the site).</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>You can generate pages dynamically (server side) as long as you don't intend to change them after. Think about the process in the same way you would build landing pages for SEO purposes. Twitterbot is in many ways really similar to Googlebot and similar indexers.</p>\n\n<p>See <a href=\"https://dev.twitter.com/blog/twitter-cards-tips-tricks\" rel=\"nofollow\">https://dev.twitter.com/blog/twitter-cards-tips-tricks</a> for a few examples of sites doing this.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want to add twitter card meta tags to my website. i cannot add static tags since the content attribute in the meta tag has to change dynamically. \nPlz help if someone has a solution.</p>\n",
            "last_activity_date": 1353432976,
            "question_id": 13467730,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "twitter",
                "meta-tags"
            ],
            "title": "Dynamically adding meta tags using javascript or jquery [twitter cards]"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Outside of your <code>for loop</code> define an <code>Array</code> that will hold all added markers. E.g. <code>allMarkers = []</code></p>\n\n<p>Inside of your <code>for loop</code> after creating the marker, push it in said Array. E.g. <code>allMarkers.push(marker)</code></p>\n\n<p>When you want to remove the first marker: <code>allMarkers[0].setMap(null)</code>, or the third marker: <code>allMarkers[2].setMap(null)</code></p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Yes, this is possible. The Google Maps documentation covers this fully, including code examples, etc. Essentially markers are overlays rather than the map itself. You can put these overlays into an array and then use <code>setMap()</code> to null to hide. </p>\n\n<p>Fully documentation <a href=\"https://developers.google.com/maps/documentation/javascript/overlays#Markers\" rel=\"nofollow\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I currently add markers to the map using the code below. I'd like to be able to remove any one at any time by pushing a javascript command. Is this possible?</p>\n\n<p>ex. place 5 markers.. removed the 3rd one while keeping the other 4.</p>\n\n<pre><code>$('#map').show();\nvar geocoder = new google.maps.Geocoder();\nvar address = document.getElementById(\"address\").value +\", \" + document.getElementById(\"city\").value;\n\ngeocoder.geocode( { 'address': address}, function(results, status) {\nif (status == google.maps.GeocoderStatus.OK) {\n    var lat = results[0].geometry.location.lat();\n    var lng = results[0].geometry.location.lng();\n    locationsall[counter] = new Array();\n    locationsall[counter][0] = address;\n    locationsall[counter][1] = lat;\n    locationsall[counter][2] = lng;\n    var mapOptions = {\n        zoom: 13,\n        center: new google.maps.LatLng(lat, lng),\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n    }\n\nvar map = new google.maps.Map(document.getElementById(\"map_canvas\"), mapOptions);\nvar marker, i;\nfor (i = 0; i &lt; locationsall.length; i++) {  \n    marker = new google.maps.Marker({\n    position: new google.maps.LatLng(locationsall[i][1], locationsall[i][2]),\n    map: map,\n    title: 'You are here!'\n    });\n}\ncounter++;\n} else {\n    alert(\"Geocode was not successful for the following reason: \" + status);\n}\n</code></pre>\n\n<p>});\n}</p>\n\n<p>Edit 1:</p>\n\n<pre><code>        }).text(\"Remove\").click(function() {\n    var index2 = $tr2.index();\n    $(\"#locationDeals input[type='hidden']\").each(function() {\n        this.name = this.name.replace(/\\[(\\d+)\\]/, function(str2, number2) {\n          return \"[\" + (+number2 &gt; index2 - 1 ? number2 - 1 : number2) + \"]\";\n        });\n    });\n    //locationsall[locations.indexOf(location)].setMap(null);\n    $tr2.remove();\n    locations.splice(locations.indexOf(location), 1);\n    return false;\n        }).appendTo($tdRemoveRow2);\n</code></pre>\n",
            "last_activity_date": 1352066628,
            "question_id": 13203323,
            "score": 3,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3",
                "google-maps-markers"
            ],
            "title": "Remove one of many markers on Google maps with javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Apple has implemented a special META tag to handle zooming:</p>\n\n<pre><code>&lt;meta content=\"width=320; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;\"&gt;\n</code></pre>\n\n<p>This disables zooming on the iPhone, and it should work on Android as well.</p>\n\n<p>As for your desired zooming effect, my advice would be to disable zooming completely and do 100% of this using jQuery and CSS webkit transitions and animations.</p>\n\n<pre><code>#some-div {\n    -webkit-transition: all 0.5s ease-out;\n}\n</code></pre>\n\n<p>Here are some other jQuery libraries that do zooming:</p>\n\n<ul>\n<li><a href=\"http://flwtb.co/VKTQ1C\" rel=\"nofollow\">http://flwtb.co/VKTQ1C</a></li>\n<li><a href=\"http://flwtb.co/VKTTdW\" rel=\"nofollow\">http://flwtb.co/VKTTdW</a></li>\n</ul>\n\n<p>Hopefully this helps!</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I solved the conflict between fixed position and zoom by adding<br></p>\n\n<pre><code>\"data-disable-page-zoom=\"false\"\"\n</code></pre>\n\n<p>to the fixed tag. \nHope this can help.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to implement a <strong>fixed topbar</strong> for mobile devices in HTML5 that <strong>also stay fixed when the users zoom in/out</strong> the webpage.</p>\n\n<p>As far as I saw on Jquery mobile they disable the zoom in/out in order to achieve a fixed topbar.</p>\n\n<p>Google made its own content scrolling implementation to make the fixed topbar for the gmail application. But they also disallow the zoom.</p>\n\n<p>Does anyone know a workaround over this? Do know If I can relocate the bar at the top of the new area with js when they zoom in/out?</p>\n\n<p><strong>Update:</strong> I found this <a href=\"http://bradfrostweb.com/blog/mobile/fixed-position/\" rel=\"nofollow\">post</a> where there's an example of a fixed top bar that doesn't disable the zoom but when you zoom in/out it doesn't stay at the top.</p>\n\n<p>Also I was seeing <a href=\"http://developer.apple.com/library/safari/#documentation/UserExperience/Reference/GestureEventClassReference/GestureEvent/GestureEvent.html\" rel=\"nofollow\">the docs for Safari on IOs</a> but I can't find a way to get the relative position of the new zoomed area so I can relocate the bar at the top of it on every zoom in/out event.</p>\n",
            "last_activity_date": 1384357856,
            "question_id": 13169593,
            "score": 3,
            "tags": [
                "javascript",
                "html5",
                "mobile",
                "toolbar",
                "fixed"
            ],
            "title": "Mobile Fixed topbar on zoom in/out"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Assuming your dropdowns are dynamically built, I'd have your server generate a little javascript for you - the PHP code can map them, so the output looks something like:</p>\n\n<pre><code>var _languageMap = {\n    { 1: 12 },\n    { 2: 11 },\n    ...\n    { 8: 14 }\n};\n</code></pre>\n\n<p>Then set an eventhandler on change of your first dropdown, and set the second by looking up the value from your language map. If you're using jQuery, try something like:</p>\n\n<pre><code>jQuery(\"#asset_id\").change(function() {\n    var trailerId = jQuery(this).val();\n    var languageId = _languageMap[trailerId];\n    jQuery(\"#country_id\").val(languageId);\n});\n</code></pre>\n\n<p>If you're not using jQuery, you can do the same with regular javascript - you'll just need to look up event handlers for dropdown lists - I just don't remember how to do that the old-fashioned way.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This should do what you need (Also handles the other languages):</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;select id=\"asset_id\" name=\"asset[asset_id]\"&gt;\n    &lt;option value=\"\"&gt; - Select Trailer - &lt;/option&gt;\n    &lt;option value=\"1\"&gt;Trailer 1 - Spanish&lt;/option&gt;\n    &lt;option value=\"2\"&gt;Trailer 1 - English&lt;/option&gt;\n    &lt;option value=\"3\"&gt;Trailer 1 - French&lt;/option&gt;\n    &lt;option value=\"4\"&gt;Trailer 1 - German&lt;/option&gt;\n    &lt;option value=\"5\"&gt;Trailer 2 - Spanish&lt;/option&gt;\n    &lt;option value=\"6\"&gt;Trailer 2 - English&lt;/option&gt;\n    &lt;option value=\"7\"&gt;Trailer 2 - French&lt;/option&gt;\n    &lt;option value=\"8\"&gt;Trailer 2 - German&lt;/option&gt;\n&lt;/select&gt;\n&lt;br /&gt;\n&lt;select id=\"country_id\" name=\"material[country_id]\"&gt;\n    &lt;option value=\"\"&gt; - Select Country - &lt;/option&gt;\n    &lt;option value=\"11\"&gt;England&lt;/option&gt;\n    &lt;option value=\"12\"&gt;Spain&lt;/option&gt;\n    &lt;option value=\"13\"&gt;France&lt;/option&gt;\n    &lt;option value=\"14\"&gt;Germany&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p><strong>JavaScript</strong></p>\n\n<pre><code>var ddl1 = document.getElementById( 'asset_id' );\n\nfunction updateCountry ( e ) {\n\n    var asset = this.options[ this.selectedIndex ].value,\n        countryDDL= document.getElementById( 'country_id' ),\n        country, i = countryDDL.options.length - 1;\n\n    switch ( asset ) {\n        case \"1\":\n            country = 12;\n            break;\n        case \"2\":\n            country = 11;\n            break;\n        case \"3\":\n            country = 13;\n            break;\n        case \"4\":\n            country = 14;\n            break;\n        case \"5\":\n            country = 12;\n            break;\n        case \"6\":\n            country = 11;\n            break;\n        case \"7\":\n            country = 13;\n            break;\n        case \"8\":\n            country = 14;\n            break;\n    }\n\n    for ( ; i &gt; -1 ; i-- ) {\n\n        if ( countryDDL.options[i].value == country ) {\n            countryDDL.options[i].selected = true;\n            break;\n        }\n\n    }\n\n}\n\nddl1.onchange = updateCountry;\n</code></pre>\n\n<p>Fiddle: <a href=\"http://jsfiddle.net/kboucher/uVMZF/\" rel=\"nofollow\">http://jsfiddle.net/kboucher/uVMZF/</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<h2><a href=\"http://jsfiddle.net/CCre6/\" rel=\"nofollow\">JS Fiddle</a></h2>\n\n<p>Markup</p>\n\n<pre><code>&lt;select id=\"asset_id\" name=\"asset[asset_id]\" onchange=\"selectCountry()\"&gt;\n</code></pre>\n\n<p>Javascript</p>\n\n<pre><code>function selectCountry()\n{\n   var asset = document.getElementById('asset_id');\n   var assetText = asset.options[asset.selectedIndex].text;\n\n\n\n    var country_id = document.getElementById('country_id');\n\n    if(assetText.toLowerCase().indexOf('spanish') &gt; -1)\n       country_id.value = 12;  //spain\n    else if(assetText.toLowerCase().indexOf('german') &gt; -1)\n       country_id.value = 14;  //germany\n    else if(assetText.toLowerCase().indexOf('english') &gt; -1)\n       country_id.value = 11;  //england\n    else if(assetText.toLowerCase().indexOf('french') &gt; -1)\n       country_id.value = 13;  //france\n}\u200b\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Having a second dropdown doesn't make a lot of sense then if they're related that way, unless the user can select a combination of trailers and countries that don't match. Why not make your first control a dropdown, add a data-* attribute to the options and fill a label for the user. </p>\n\n<p>So, your options would look something like this:</p>\n\n<pre><code>&lt;option id=\"optT1Span\" value=\"1\" data-country=\"Spain\"&gt;Trailer 1 - Spanish&lt;/option&gt;\n</code></pre>\n\n<p>If you need the values from the second option, you can just set up a global array lookup of those country/value combinations. </p>\n\n<p>Obviously, I don't know the thoughts behind your design or what you have planned, but if the selections must match, then I don't see the point of giving the ability to select a country. It almost makes more sense to filter by your country and then hide/show options based on that selection more than what you have planned. I feel you always remove as many avenues of user interaction as you can if they aren't necessary. </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have two drop down menus. </p>\n\n<pre><code>&lt;form action=\"form.php\" class=\"inputlabels\" enctype=\"multipart/form-data\" id=\"new_asset\" method=\"post\"&gt;\n    &lt;select id=\"asset_id\" name=\"asset[asset_id]\"&gt;\n        &lt;option value=\"1\"&gt;Trailer 1 - Spanish&lt;/option&gt;\n        &lt;option value=\"2\"&gt;Trailer 1 - English&lt;/option&gt;\n        &lt;option value=\"3\"&gt;Trailer 1 - French&lt;/option&gt;\n        &lt;option value=\"4\"&gt;Trailer 1 - German&lt;/option&gt;\n        &lt;option value=\"5\"&gt;Trailer 2 - Spanish&lt;/option&gt;\n        &lt;option value=\"6\"&gt;Trailer 2 - English&lt;/option&gt;\n        &lt;option value=\"7\"&gt;Trailer 2 - French&lt;/option&gt;\n        &lt;option value=\"8\"&gt;Trailer 2 - German&lt;/option&gt;\n    &lt;/select&gt;\n&lt;br /&gt;\n    &lt;select id=\"country_id\" name=\"material[country_id]\"&gt;\n        &lt;option value=\"11\"&gt;England&lt;/option&gt;\n        &lt;option value=\"12\"&gt;Spain&lt;/option&gt;\n        &lt;option value=\"13\"&gt;France&lt;/option&gt;\n        &lt;option value=\"14\"&gt;Germany&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I want for drop down menu 2 to automatically change based on the value of menu 1. I need to be able to declare that when a user selects \"Trailer 1 - Spanish\" or \"Trailer 2 - Spanish\", the  country is automatically selected as Spain. The idea is that it saves the user from having to select the country.</p>\n\n<p>Any help in pointing me in the right direction would be very valued. </p>\n",
            "last_activity_date": 1351373614,
            "question_id": 13104046,
            "score": 3,
            "tags": [
                "javascript",
                "forms"
            ],
            "title": "How can I change drop down box #2 based on input from drop down box #1?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yes, this happens because the event data structure is a global variable in IE8 so it gets overwritten by other events when they happen.  If you need it to remain around for the closure, you will have to make an actual copy of the event data structure in the closure so you can reference the static copy rather than the one global structure that gets reused by IE8.  </p>\n\n<p>Making a copy of the data structure consists of making a new object and copying over all the properties.  If any properties themselves are objects or arrays, you have to make copies of them too (just assigning them to the new object will assign references, not copies).</p>\n\n<p>Or, if you only need the <code>type</code>, then just assign the <code>type</code> to a local variable in the closure and just reference that like this.</p>\n\n<pre><code>function handleClickEvent(ev)\n{\n    ev = (ev || window.event);\n    // save copy of type locally so we can use it later in setTimeout()\n    var type = ev.type;\n    alert(type);\n    window.setTimeout(function() {\n        alert(type);\n    }, 20);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I've noticed a strange Javascript error which only seems to happen on Internet Explorer 8.  Basically, on IE-8 if you have an event handler function which captures the event object in a closure, the event \"type\" property seems to become invalidated from within the closure.</p>\n\n<p>Here's a simple code snippet which reproduces the error:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            function handleClickEvent(ev)\n            {\n                ev = (ev || window.event);\n                alert(ev.type);\n                window.setTimeout(function() {\n                    alert(ev.type); // Causes error on IE-8\n                }, 20);\n            }\n\n            function foo()\n            {\n                var query = document.getElementById(\"query\");\n                query.onclick = handleClickEvent;\n            }\n\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;input id=\"query\" type=\"submit\" /&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            foo();\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>So basically, what happens here is that within the <code>handleClickEvent</code> function, we have the event object <code>ev</code>.  We call <code>alert(ev.type)</code> and we see the event type is \"click\".  So far, so good.  But then when we <em>capture</em> the event object in a closure, and then call <code>alert(ev.type)</code> again from within the closure, now all of a sudden Internet Explorer 8 errors, saying \"Member not found\" because of the expression <code>ev.type</code>.  It seems as though the <code>type</code> property of the event object is mysteriously gone after we capture the event object in a closure.</p>\n\n<p>I tested this code snippet on Firefox, Safari and Chrome, and none of them report an error condition.  But in IE-8, the event object seems to become somehow invalidated after it's captured in the closure.</p>\n\n<p><strong>Question</strong>: Why is this happening in IE-8, and is there any workaround?</p>\n",
            "last_activity_date": 1351100583,
            "question_id": 13053950,
            "score": 3,
            "tags": [
                "javascript",
                "html",
                "javascript-events",
                "internet-explorer-8"
            ],
            "title": "Event type property lost in IE-8"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>It depends on your browser. Chrome e.g. doesn't allow cookies for local files. see: <a href=\"http://stackoverflow.com/questions/8602833/where-cookie-saved-for-local-html-file\">where cookie saved for local HTML file</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>try this one:</p>\n\n<p><a href=\"https://github.com/carhartl/jquery-cookie\" rel=\"nofollow\">https://github.com/carhartl/jquery-cookie</a></p>\n\n<p>If you need multiple values stored in it try this:</p>\n\n<p><a href=\"https://github.com/tantau-horia/jquery-SuperCookie\" rel=\"nofollow\">https://github.com/tantau-horia/jquery-SuperCookie</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can I read/write cookies for local <code>file:///</code> HTML document using Javascript or jQuery?</p>\n\n<p>I tried this one >></p>\n\n<pre><code>function setCookie(c_name, value, exdays)\n{\n  var exdate = new Date();\n  exdate.setDate(exdate.getDate() + exdays);\n  var c_value = escape(value) + \n    ((exdays == null) ? \"\" : \"; expires=\" + exdate.toUTCString());\n  document.cookie = c_name + \"=\" + c_value;\n}\n\nfunction getCookie(c_name)\n{\n  var i, x, y, ARRcookies = document.cookie.split(\";\");\n  for (i = 0; i &lt; ARRcookies.length; i++)\n  {\n    x = ARRcookies[i].substr(0, ARRcookies[i].indexOf(\"=\"));\n    y = ARRcookies[i].substr(ARRcookies[i].indexOf(\"=\") + 1);\n    x = x.replace(/^\\s+|\\s+$/g, \"\");\n    if (x == c_name)\n    {\n      return unescape(y);\n    }\n  }\n}\n</code></pre>\n\n<p>But it does not work.</p>\n",
            "last_activity_date": 1350766309,
            "question_id": 12992494,
            "score": 3,
            "tags": [
                "javascript",
                "android",
                "jquery",
                "cookies",
                "setcookie"
            ],
            "title": "How to read/write cookies for local file:/// HTML document?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Don't use jQuery:</p>\n\n<pre><code>var div = document.getElementById(\"parent\");\ndiv.firstChild.data = \"\";\u200b\n</code></pre>\n\n<p>See <a href=\"http://jsfiddle.net/Q8Bzv/\" rel=\"nofollow\">http://jsfiddle.net/Q8Bzv/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>var $children = $(\"#parent\").children();\n$(\"#parent\").html(\"\").append($children);\u200b\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try </p>\n\n<pre><code>$(\"#parent\").contents().filter(function(){\n    return (this.nodeType == 3);\n}).remove();\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/eUW47/1\" rel=\"nofollow\">http://jsfiddle.net/eUW47/1</a></p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>You can try following approach:</p>\n\n<pre><code>var parent=$('#parent');\nvar children=p.children();\nparent.empty().append(children)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>A general \"remove all child text nodes\" function (sorry, no jQuery):</p>\n\n<pre><code>function removeTextNodes(el) {\n  var nodes = el.childNodes, i = nodes.length;\n  while (i--)\n    if (nodes[i].nodeType == 3) el.removeChild(nodes[i]);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2715167/jquery-how-to-remove-the-text-but-not-the-children-elements\">jQuery: how to remove the text but not the children elements</a>  </p>\n</blockquote>\n\n\n\n<pre><code>&lt;div id=\"parent\" style=\"border:2px solid red; width:300px;height:200px\"&gt;\n    text of parent\n    &lt;div id=\"child1\" style=\"border:1px solid green; width:200px;height:80px\"&gt;&lt;/div&gt;\n    &lt;div id=\"child2\" style=\"border:1px solid blue; width:200px;height:80px\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In the above example, I want to clear only text <code>\"text of parent\"</code> of parent <code>div</code> (<code>parent</code>), keeping child nodes(<code>child 1</code>, <code>child2</code>) intact. How can I do this using jQuery?</p>\n",
            "last_activity_date": 1350619512,
            "question_id": 12967028,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "dom"
            ],
            "title": "Clear text of div , but keep child nodes using jquery"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Ok...</p>\n\n<p>The relevant code for the Honda site can be found in <a href=\"http://testdays.hondamoto.ch/js/script_2.js\" rel=\"nofollow\">http://testdays.hondamoto.ch/js/script_2.js</a>. It seems to be doing some calculations to locate the top of the div then scroll to it. There are handlers for different types of scrolling.</p>\n\n<p>Specifically, the movement is handled by <code>function navigation(target)</code></p>\n\n<p>the key bits is here...</p>\n\n<pre><code>$('html,body').stop().animate({\n        scrollTop: $(target).offset().top + newMargin\n    }, 1000,'easeInOutExpo',function(){\n        //Lots of \"page\"-specific stuff\n    }\n});\n</code></pre>\n\n<p>There are handlers for the scroll types...</p>\n\n<pre><code>$('body').bind('touchstart', function(event) {\n    //if(currentNav!=3){\n        // jQuery clones events, but only with a limited number of properties for perf reasons. Need the original event to get 'touches'\n        var e = event.originalEvent;\n        scrollStartPos = e.touches[0].pageY;\n    //}\n});\n\n//--Bind mouseWheel\n$('*').bind('mousewheel', function(event, delta) {\n    event.preventDefault();\n    //trace('class : '+$(this).attr('class') + '   id : '+$(this).attr('id'));\n    if(!busy &amp;&amp; !lockScrollModel &amp;&amp; !lockScrollMap){\n        if(delta&lt;0){\n            nextPage();\n        }else{\n            prevPage();\n        }\n    }\n});\n</code></pre>\n\n<p>You'll note that the <code>navigate()</code> function sets a <code>busy</code> flag which is unset when scrolling completes - which is how it suppresses <em>all</em> new scroll events during a scroll. Try changing the direction of scroll while the page is already scrolling and you'll notice user input is being ignored too.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I have a page that I'm building and I would like to make it that when I scroll (up or down) the page scrolls to the next div (each div is 100% the height of the window). And gets \"fixed\" there until you scroll again. An example of what I'm trying to accomplish can be seen here:</p>\n\n<p><a href=\"http://testdays.hondamoto.ch/\" rel=\"nofollow\">http://testdays.hondamoto.ch/</a></p>\n\n<p>You will notice that when you scroll down, it automatically moves you to the next \"div\".</p>\n\n<p>What I've tried:</p>\n\n<ul>\n<li><p>Using the jQuery .scroll event combined with:</p>\n\n<pre><code>    function updatePosition() {\n      if(canScroll) {\n        var pageName;\n        canScroll = false;\n        var st = $(window).scrollTop();\n        if (st &gt; lastScrollTop){\n           // downscroll code\n           if(pageNumber &lt; 7) {\n               pageNumber++;\n           }\n           pageName = '#' + getPageToScrollTo().id;\n           $('body').animate({ scrollTop: $(pageName).offset().top }, 2000, function() {\n               canScroll = true;\n           });\n        } else {\n          // upscroll code\n          if(pageNumber &gt; 0) {\n              pageNumber--;\n          }\n          pageName = '#' + getPageToScrollTo().id;\n          $('body').animate({ scrollTop: $(pageName).offset().top }, 2000, function() {\n               canScroll = true;\n            });\n        }\n        lastScrollTop = st;\n      }\n    }\n</code></pre></li>\n</ul>\n\n<p>But the scroll event was getting called when the page was scrolling (animating), AND when the user scrolled. I only need it to be called when the user scrolls.</p>\n\n<p>Then I added:</p>\n\n<pre><code>var throttled = _.throttle(updatePosition, 3000);\n\n$(document).scroll(throttled);\n</code></pre>\n\n<p>From the Underscore.js library - but it still did the same.</p>\n\n<p>Finally, I browsed here a bit and found:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1659204/call-scroll-only-when-user-scrolls-not-when-animate\">Call Scroll only when user scrolls, not when animate()</a></p>\n\n<p>But I was unable to implement that solution. Is there anyone that knows of any libraries or methods to get this working?</p>\n\n<p>EDIT:\nSolution based on Basic's answer:</p>\n\n<pre><code>  function nextPage() {\n        canScroll = false;\n        if(pageNumber &lt; 7) {\n            pageNumber++;\n        }\n        pageName = getPageToScrollTo();\n        $('html, body').stop().animate({ scrollTop: $(pageName).offset().top }, 1000, function() {\n            canScroll = true;\n        });\n    }\n\n    function prevPage() {\n        canScroll = false;\n        if(pageNumber &gt; 0) {\n        pageNumber--;\n      }\n      pageName = getPageToScrollTo();\n      $('html, body').stop().animate({ scrollTop: $(pageName).offset().top }, 1000, function() {\n         canScroll = true;\n      });\n    }\n\n    //--Bind mouseWheel\n    $(window).on(mousewheelevt, function(event) {\n        event.preventDefault();\n        if(canScroll){\n          if(mousewheelevt == \"mousewheel\") {\n              if (event.originalEvent.wheelDelta &gt;= 0) {\n                prevPage();\n              } else {\n                nextPage();\n              }\n          } else if(mousewheelevt == \"DOMMouseScroll\") {\n              if (event.originalEvent.detail &gt;= 0) {\n                nextPage();\n              } else {\n                prevPage();\n              }\n          }\n        }\n    });\n</code></pre>\n",
            "last_activity_date": 1349999205,
            "question_id": 12849439,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "events",
                "scroll"
            ],
            "title": "Treating each div as a &quot;page&quot; when scrolling"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>That error means that <code>#entry-template</code> isn't in the DOM when you try to use it:</p>\n\n<pre><code>var source = $(\"#entry-template\").html(); // There is no #entry-template in the DOM here\nvar template = Handlebars.compile(source);\n</code></pre>\n\n<p>That means that you end up trying to compile <code>undefined</code> as a Handlebars template and that doesn't work. You can see the error by running this:</p>\n\n<blockquote>\n  <p><a href=\"http://jsfiddle.net/ambiguous/LprDR/\">http://jsfiddle.net/ambiguous/LprDR/</a></p>\n</blockquote>\n\n<p>with your console open.</p>\n\n<p>The jsfiddle works because you have all your code running after the DOM has been loaded, that's the default jsfiddle behavior.</p>\n\n<p>You probably have a load order problem in your real code, try wrapping it in a <code>$(function() { /*...*/ })</code> wrapper.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>This is the code I am trying out: <a href=\"http://jsfiddle.net/sbrsK/10/\" rel=\"nofollow\">http://jsfiddle.net/sbrsK/10/</a>\n<br>It runs correctly without any error in jsfiddle</p>\n\n<p>Trying to run the same via a web-server locally on my computer does not work.\nThe following files are being loaded: </p>\n\n<ul>\n<li>index.html</li>\n<li>app.js</li>\n</ul>\n\n<p><strong>In Firefox</strong> I get this error:</p>\n\n<pre><code>TypeError: this._input is null @ http://cloud.github.com/downloads/wycats/handlebars.js/handlebars-1.0.0.beta.6.js:364\n</code></pre>\n\n<p><strong>In chrome</strong> I get this error:</p>\n\n<pre><code>Uncaught TypeError:Cannot call method 'match' of null\nunder match = this._input.match(this.rules[rules[i]]); in handlebars-1.0.0.beta.6.js\n</code></pre>\n\n<p>There is a very similar problem raised earlier in this <a href=\"http://stackoverflow.com/questions/12268088/working-with-handlebar-js\">link</a>, but seems that it is still open.</p>\n\n<p>So the question is why is this error happening when it works correctly in jsfiddle?\nWhat is the correct way to run this locally?</p>\n",
            "last_activity_date": 1366393823,
            "question_id": 12613967,
            "score": 3,
            "tags": [
                "javascript",
                "handlebars.js",
                "jsfiddle"
            ],
            "title": "Why is browser returning error &quot;TypeError: this._input is null&quot; in Firefox (and similar in Chrome) when using handlebars.js?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You should have lower case 'c' in 'onclick':</p>\n\n<pre><code>&lt;input type=\"button\" value=\"Click me!\" onclick=\"displayhello()\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><code>QVariant holdInformation = map-&gt;page()-&gt;mainFrame()-&gt;evaluateJavaScript (QString (\"displayhello ()\"));</code></p>\n\n<p>Replace <code>map</code> by your desired class name.</p>\n\n<p>Also, try using <code>onload</code>.<br>\n<code>&lt;body onload = \"displayhello()\" topmargin = \"0\" leftmargin = \"0\"&gt;</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I know this post is old but in case someone has the same:</p>\n\n<p>Always check Dev Tools to see what the JavaScript console tells you.\nYou can enable devtools by adding this line tou your QT main function</p>\n\n<pre><code>QWebSettings::globalSettings()-&gt;setAttribute(QWebSettings::DeveloperExtrasEnabled, true);\n</code></pre>\n\n<p>Now by right clicking->inspect, console, you would have seen the JS interpret error.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am not able to call a javascript function from QT .</p>\n\n<p>I am using the below code</p>\n\n<p>QT code :<br>\n    <code>QWebFrame *frame = m_d-&gt;m_webView-&gt;page()-&gt;mainFrame();</code>\n    <code>frame-&gt;evaluateJavaScript(\"displayhello()\");</code></p>\n\n<pre><code> Here `displayhello()` is the `Javascript` function defined in the HTML file.\n</code></pre>\n\n<p>HTML code :</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\" src=\"\" /&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n   function displaymessage(str)\n   {\n       alert(str);\n   }\n   function displayhello()\n   {\n       alert(\"Hello\");\n   }\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form&gt;\n&lt;input type=\"button\" value=\"Click me!\" onClick=\"displayhello()\"&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Can anyone give me any pointers  why the Javascript function is not getting called.</p>\n",
            "last_activity_date": 1393838774,
            "question_id": 12578377,
            "score": 3,
            "tags": [
                "javascript",
                "qt",
                "qwebview"
            ],
            "title": "How to call evaluateJavaScript() function from Qt?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Make an AJAX request to a PHP file, send the uploaded file properties like name, etc. and let it open that, move that, rename that or whatever needed. It should works, huh?</p>\n\n<p>did I understood your question correctly?</p>\n\n<p><strong>Sample Code:</strong></p>\n\n<p>In Javascript:</p>\n\n<pre><code>// xhr\nvar http = new XMLHttpRequest();\nvar url = \"file_handler.php\";\nvar file_data = \"name=mypic.jpg&amp;size=123&amp;othe=etc\";\nhttp.open(\"POST\", url, true);\n\n// headers\nhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\nhttp.setRequestHeader(\"Content-length\", file_data.length);\nhttp.setRequestHeader(\"Connection\", \"close\");\n\nhttp.onreadystatechange = function() {\n    if(http.readyState == 4 &amp;&amp; http.status == 200) {\n        alert(http.responseText);\n    }\n}\n\nhttp.send(file_data);\n</code></pre>\n\n<p>In <code>file_handler.php</code>:</p>\n\n<pre><code>// file data\n$file_data = $_POST['file_data'];\n\n// working on the file\n$temp_dir = 'usr/upload/';\n$new_dir = 'usr/photos/';\n\n// new unique name\n$new_name = time() . '_' . $file_data['name'];\n\n// copy?\nif (copy($temp_dir . $file_data['name'], $new_dir . $new_name)) {\n    unlink($temp_dir . $file_data['name']);\n}\n\n// rename?\nrename($temp_dir . $file_data['name'], $temp_dir . $new_name);\n\n// delete old file?\nunlink($temp_dir . $file_data['name']);\n\n// do whatever else needed here ...\n// echo some JSON data to interact with your client-side JS code, maybe ...\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I have a <a href=\"https://gist.github.com/2410898\">Gist</a> on this. It uses <code>xhr.send(FormData)</code> and shows minimal code\nto handle the file in PHP.</p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>I'm working on a script to let the user upload a file and sees a upload status and the file is then saved on the server.</p>\n\n<p>The problem is that I cannot use the php api. So I was thinking to upload the file with javascript where I can easly get the upload status but then I want to pass the file to php and save it.</p>\n\n<p>Is this possible?</p>\n\n<p>This is the javascript code to upload.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head &gt;\n&lt;title&gt;Upload Files using XMLHttpRequest&lt;/title&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    function fileSelected() {\n        var file = document.getElementById('fileToUpload').files[0];\n        if (file) {\n            var fileSize = 0;\n            if (file.size &gt; 1024 * 1024)\n                fileSize = (Math.round(file.size * 100 / (1024 * 1024)) / 100).toString() + 'MB';\n            else\n                fileSize = (Math.round(file.size * 100 / 1024) / 100).toString() + 'KB';\n\n            document.getElementById('fileName').innerHTML = 'Name: ' + file.name;\n            document.getElementById('fileSize').innerHTML = 'Size: ' + fileSize;\n            document.getElementById('fileType').innerHTML = 'Type: ' + file.type;\n        }\n    }\n\n    function uploadFile() {\n        var fd = new FormData();\n        fd.append(\"fileToUpload\", document.getElementById('fileToUpload').files[0]);\n        var xhr = new XMLHttpRequest();\n        xhr.upload.addEventListener(\"progress\", uploadProgress, false);\n        xhr.addEventListener(\"load\", uploadComplete, false);\n        xhr.addEventListener(\"error\", uploadFailed, false);\n        xhr.addEventListener(\"abort\", uploadCanceled, false);\n        xhr.open(\"POST\", \"UploadHandler.ashx\");\n        xhr.send(fd);\n    }\n\n    function uploadProgress(evt) {\n        if (evt.lengthComputable) {\n            var percentComplete = Math.round(evt.loaded * 100 / evt.total);\n            document.getElementById('progressNumber').innerHTML = percentComplete.toString() + '%';\n            document.getElementById('prog').value = percentComplete;\n        }\n        else {\n            document.getElementById('progressNumber').innerHTML = 'unable to compute';\n        }\n    }\n\n    function uploadComplete(evt) {\n        /* This event is raised when the server send back a response */\n        alert(evt.target.responseText);\n    }\n\n    function uploadFailed(evt) {\n        alert(\"There was an error attempting to upload the file.\");\n    }\n\n    function uploadCanceled(evt) {\n        alert(\"The upload has been canceled by the user or the browser dropped the connection.\");\n    }\n&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\"&gt;\n    &lt;div&gt;\n        &lt;label for=\"fileToUpload\"&gt;\n            Select a File to Upload&lt;/label&gt;\n        &lt;input type=\"file\" name=\"fileToUpload[]\" id=\"fileToUpload\" onchange=\"fileSelected();\" /&gt;\n    &lt;/div&gt;\n    &lt;div id=\"fileName\"&gt;\n    &lt;/div&gt;\n    &lt;div id=\"fileSize\"&gt;\n    &lt;/div&gt;\n    &lt;div id=\"fileType\"&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;input type=\"button\" onclick=\"uploadFile()\" value=\"Upload\" /&gt;\n    &lt;/div&gt;\n    &lt;div id=\"progressNumber\"&gt;\n    &lt;/div&gt;\n    &lt;progress id=\"prog\" value=\"0\" max=\"100.0\"&gt;&lt;/progress&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1348245032,
            "question_id": 12530158,
            "score": 3,
            "tags": [
                "javascript",
                "file",
                "upload",
                "status",
                "progress"
            ],
            "title": "Pass file from Javascript upload to PHP"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can add a script and style resources to a page like this:</p>\n\n<pre><code>var head = document.getElementsByTagName(\"head\")[0];\nvar s = document.createElement(\"script\");\ns.type = \"text/javascript\";\ns.src = \"xxxx.js\";\nhead.appendChild(s);\n\ns = document.createElement(\"style\");\ns.type = \"text/css\"\ns.src = \"yyy.css\";\nhead.appendChild(s);\n</code></pre>\n\n<p>Or, in function form:</p>\n\n<pre><code>function addScript(path) {\n    var head = document.getElementsByTagName(\"head\")[0];\n    var s = document.createElement(\"script\");\n    s.type = \"text/javascript\";\n    s.src = path;\n    head.appendChild(s);\n}\n\nfunction addCSSFile(path) {\n    var head = document.getElementsByTagName(\"head\")[0];\n    var s = document.createElement(\"style\");\n    s.type = \"text/css\";\n    s.src = path;\n    head.appendChild(s);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>That depends on where exactly you'd like to declare the resource. <em>Normally</em>, the only reason to programmatically declare them is that you've a custom <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/component/UIComponent.html\"><code>UIComponent</code></a> or <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/render/Renderer.html\"><code>Renderer</code></a> which generates HTML code which in turn requires those JS and/or CSS resources. They are then to be declared by <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/application/ResourceDependency.html\"><code>@ResourceDependency</code></a> or <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/application/ResourceDependencies.html\"><code>@ResourceDependencies</code></a>.</p>\n\n<pre><code>@ResourceDependency(library=\"mylibrary\", name=\"foo.css\")\npublic class FooComponentWithCSS extends UIComponentBase {\n    // ...\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ResourceDependencies({\n    @ResourceDependency(library=\"mylibrary\", name=\"bar.css\"),\n    @ResourceDependency(library=\"mylibrary\", name=\"bar.js\")\n})\npublic class BarComponentWithCSSandJS extends UIComponentBase {\n    // ...\n}\n</code></pre>\n\n<p>But if you <em>really</em> need to declare them elsewhere, such as in a backing bean method which is invoked <em>before</em> render response (otherwise it's simply too late), then you can do that by <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/component/UIViewRoot.html#addComponentResource%28javax.faces.context.FacesContext,%20javax.faces.component.UIComponent,%20java.lang.String%29\"><code>UIViewRoot#addComponentResource()</code></a>. The component resource must be created as an <a href=\"http://docs.oracle.com/javaee/6/api/javax/faces/component/UIOutput.html\"><code>UIOutput</code></a> having a renderer type of <code>javax.faces.resource.Script</code> or <code>javax.faces.resource.Stylesheet</code>, to represent a fullworthy <code>&lt;h:outputScript&gt;</code> or <code>&lt;h:outputStylesheet&gt;</code> respectively. The <code>library</code> and <code>name</code> attributes can just be put in the attribute map.</p>\n\n<pre><code>UIOutput css = new UIOutput();\ncss.setRendererType(\"javax.faces.resource.Stylesheet\");\ncss.getAttributes().put(\"library\", \"mylibrary\");\ncss.getAttributes().put(\"name\", \"bar.css\");\n\nUIOutput js = new UIOutput();\njs.setRendererType(\"javax.faces.resource.Script\");\njs.getAttributes().put(\"library\", \"mylibrary\");\njs.getAttributes().put(\"name\", \"bar.js\");\n\nFacesContext context = FacesContext.getCurrentInstance();\ncontext.getViewRoot().addComponentResource(context, css, \"head\");\ncontext.getViewRoot().addComponentResource(context, js, \"head\");\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I need to add programmatically JS and CSS resources to <code>&lt;h:head&gt;</code> of JSF page. It isn't clear how to achieve this. Could someone give a hint or a kickoff example?</p>\n",
            "last_activity_date": 1347897207,
            "question_id": 12451397,
            "score": 3,
            "tags": [
                "javascript",
                "css",
                "jsf",
                "head"
            ],
            "title": "How to programmatically add JS and CSS resources to &lt;h:head&gt;?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>When <code>return</code>ing <code>false</code>, you <em>prevent</em> the <code>form</code> from being submitted. Otherwise, the form would be submitted, even though it may have validation errors, e.g., the <code>feed</code> value was empty.</p>\n\n<p>On the other hand, if you <code>return true</code>, the form data will be submitted to the URL defined by the <a href=\"http://www.w3schools.com/tags/att_form_action.asp\" rel=\"nofollow\"><code>action</code></a> attribute.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Using <code>return</code> for <code>onsubmit</code> determines whether the form actually submits or not (<code>true</code> or <code>false</code>, respectively). This is useful for Javascript when you want to do something specific before allowing the form to submit or not. For example, like the code you provided, the point is to stop the form from submitting if the form isn't valid - if a certain field is blank. The important part is that you need to include <code>return</code> in the onsubmit part, as well as actually returning <code>true</code> or <code>false</code> in the function you call. This is because the behavior for <code>onsubmit</code> is to always complete unless you return <code>false</code>. So when you do something like:</p>\n\n<pre><code>onsubmit=\"validate();\"\n</code></pre>\n\n<p>nothing is returned (because of the lack of <code>return</code>) - so the function is run but that's it, so the form is submitted. When you add <code>return</code>, then the submitting depends on the return value - what's returned from the function. If you don't use <code>return</code>, it doesn't matter what the <code>validate</code> function returns, because the result of <code>validate</code> is not actually returned to <code>onsubmit</code>.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>no you do need \"return validate()\" and not just \"validate()\" see this fiddle: <a href=\"http://jsfiddle.net/Hv9pd/5/\" rel=\"nofollow\">http://jsfiddle.net/Hv9pd/5/</a></p>\n\n<p>however you should not use Javascript in this case use the required=\"required\" attribute:\nsee <a href=\"http://jsfiddle.net/Hv9pd/6/\" rel=\"nofollow\">http://jsfiddle.net/Hv9pd/6/</a></p>\n\n<pre><code>&lt;form id='foo' name=\"foo\"&gt;\n   &lt;input required=\"required\" type=\"text\"&gt;\n   &lt;input type=\"submit\" name=\"foo\" value=\"Submit\"&gt;\n&lt;/form&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -5
                }
            ],
            "body": "<p>i dont quite understand how the <code>onsubmit=\"return validate()\"</code> works.\nwhy do i have to <code>return</code> the function? does this work only when it detects a <code>return false</code> from the statement?</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function validate() {\n        if ((document.example2.naming.value == \"\") || (document.example2.feed.value == \"\")) {\n            alert(\"You must fill in all of the required .fields!\");\n            return false;\n        }\n        else {\n            return true;\n        }\n&lt;/script&gt;\n\n&lt;form name=\"example2\" onsubmit=\"return validate()\"&gt;\n&lt;input type=\"submit\" name=\"B1\" value=\"Submit\"&gt;\u200b\u200b\u200b\u200b\u200b\u200b\u200b\n</code></pre>\n",
            "last_activity_date": 1424279594,
            "question_id": 12449051,
            "score": 3,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "javascript: does onsubmit only execute when it detects a &quot;return false&quot; "
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Try this code in JQuery</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  $(document).ready(function() {\n    document.title = 'your page title goes here';\n  });\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The <code>document</code> object has a <code>title</code> property that can be explicitly set like this:</p>\n\n<pre><code>document.title = \"some_title_here\";\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Assuming that your url's are as following <code>home/section/page.html</code> you could use this function at the top of any page and it will set the title based on the url if that's what you mean.</p>\n\n<pre><code>function setTitle(extra) {\n  document.title = location.pathname.split('/').map(function(v) {\n    return v.replace(/\\.(html|php)/, '')\n      .replace(/^\\w/, function(a) { return a.toUpperCase(); });\n  }).join(' | ') + (extra &amp;&amp; ' | '+ extra);\n}\n</code></pre>\n\n<p>Using this function will generate a title like this: <code>Home | Section | Page</code>. If you want to add specific stuff for a particular page then pass a string as the <code>extra</code> parameter and it will be added to the title ie.</p>\n\n<pre><code>// url: http://mypage.com/home/about/frogs    \nsetTitle('Frogs are awesome');\nconsole.log(document.title); //=&gt; Home | About | Frogs | Frogs are awesome\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>You can use something like (if using javascript)</p>\n\n<pre><code>var getTitleOfPage = function(){\n    // logic here to work out the title of the page.\n};\n\nvar title = getTitleOfPage();\ndocument.title = title;\n</code></pre>\n\n<p>Alternatively you may be able to use what ever server side language you are using to set the title also.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have many pages on a site im developing, in which each page has its own title tag. In many cases the titles have constant text, for example: </p>\n\n<p>Home | Section 1 | Page 1<br />\nHome | Section 1 | Page 2<br />\nHome | Section 1 | Page 3, etc...<br /></p>\n\n<p>Inserting these titles makes for harder changes later on, not to mention the hassle of remembering to add them. I'm looking to find a method of dynamically generating the title of each page with javascript, based off the location of the page within the folder structure of the site.</p>\n\n<p>Im currently using a script that does something like this for breadcrumbs, but am not sure how to either reference the same script, or build a similar one for page titles. The breadcrumb script is here: <a href=\"http://trcreative.us/dev/jmsracing/js/breadcrumbs.js\" rel=\"nofollow\">http://trcreative.us/dev/jmsracing/js/breadcrumbs.js</a> </p>\n\n<p>and for the most part doing exactly what I need for titles, minus links per each breadcrumb item. (I don't want it to do that for title's obviously). </p>\n\n<p>See breadcrumbs applied here: <a href=\"http://trcreative.us/dev/jmsracing/races/pigman-long-and-olympic/\" rel=\"nofollow\">http://trcreative.us/dev/jmsracing/races/pigman-long-and-olympic/</a></p>\n\n<p>Any help would be appreciated. Thank you </p>\n",
            "last_activity_date": 1347775718,
            "question_id": 12443923,
            "score": 3,
            "tags": [
                "javascript",
                "html",
                "dynamic",
                "title"
            ],
            "title": "build an html title tag dynamically with javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I managed to do it by passing the engine to itself and then calling eval() on it inside the Javascript code:</p>\n\n<p>Java code:</p>\n\n<pre><code>ScriptEngine engine = new ScriptEngineManager().getEngineByName(\"JavaScript\");\nengine.put(\"engine\", engine);\nengine.eval(new FileReader(\"test.js\"));\n</code></pre>\n\n<p>test.js:</p>\n\n<pre><code>engine.eval(new java.io.FileReader('function.js'));\nprintHello();\n</code></pre>\n\n<p>function.js:</p>\n\n<pre><code>function printHello() {\n    print('Hello World!');\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>Hello World!\n</code></pre>\n\n<p>I don't know if that's the most elegant way to do it, but it works.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>How would one include a script \"Bar\" from within another script \"Foo\" that is being evaluated by the Rhino Engine, running in Java.</p>\n\n<p>IE, setup the script engine like this in Java:</p>\n\n<pre><code>ScriptEngineManager manager = new ScriptEngineManager();\nScriptEngine engine = manager.getEngineByName(\"javascript\");\nBufferedReader br = new BufferedReader(new FileReader(new File(\"Foo.js\")));\nengine.eval(br);\n</code></pre>\n\n<p>... and put the following in Foo:</p>\n\n<pre><code>load([\"Bar.js\"])\n</code></pre>\n\n<p>According to <a href=\"https://developer.mozilla.org/en-US/docs/Rhino/Shell?redirectlocale=en-US&amp;redirectslug=Rhino_Shell#load.28.5Bfilename.2C_....5D.29\" rel=\"nofollow\">Rhino shell documentation</a>, that's the way to do it.  But when running from Java, it's clearly not implemented:</p>\n\n<pre><code>javax.script.ScriptException: sun.org.mozilla.javascript.internal.EcmaError: ReferenceError: \"load\" is not defined.\n</code></pre>\n\n<p>@Phillip:</p>\n\n<p>Thanks for the creative response.  Your solution as is doesn't quite work because eval doesn't make the parsed function available unless the Invocable interface is used.  Further, it doesn't work in cases where the Java code is not accessible.  I elaborated on your workaround and created something that will work in pure JS:</p>\n\n<p>First create an engine, exposing the Invocable interface:</p>\n\n<pre><code>var engine = new Packages.javax.script.ScriptEngineManager().getEngineByName(\"javascript\");\nengine = Packages.javax.script.Invocable(engine);\n</code></pre>\n\n<p>Then \"load()\" the script(s)</p>\n\n<pre><code>engine.eval(new java.io.FileReader('./function.js'));\n</code></pre>\n\n<p>At this point, functions can be evaluated with:</p>\n\n<pre><code>engine.invokeFunction(\"printHello\", null);\n</code></pre>\n",
            "last_activity_date": 1347316010,
            "question_id": 12357334,
            "score": 3,
            "tags": [
                "javascript",
                "rhino"
            ],
            "title": "Including a JavaScript file during Rhino eval"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Use <code>fs.stat</code> in the callback: <code>watchFile</code> just lets you know it changed, it doesn't report the change details.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>var fs = require('fs');\n\nfs.watchFile('some.file', function () {\n    fs.stat('some.file', function (err, stats) {\n        console.log(stats.size);\n    });\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>I missed that the variables <code>curr</code> and <code>prev</code> that were returned from <code>fs.watchFile</code> were instances of <code>fs.Stats</code>. This would be the optimal solution:</p>\n\n<pre><code>var fs = require('fs');\n\nfs.watchFile('file', function (curr, prev) {\n  console.log(curr.size);\n});\n</code></pre>\n\n<p>However, as of Node v0.8.0, <code>fs.watchFile</code> no longer uses <code>IOWatcher</code>, and now uses stat polling, which is slow and does not provide realtime updates. This was discussed on <a href=\"https://github.com/joyent/node/issues/3348\">GitHub</a>.</p>\n\n<p>From the Node <a href=\"http://nodejs.org/changelog.html\">changelog</a>:</p>\n\n<blockquote>\n  <p>Deprecate iowatcher, fs: fix fs.watchFile() (Ben Noordhuis)</p>\n</blockquote>\n\n<p>Instead, an alternate solution is now <code>fs.watch</code> and <code>fs.stat</code>:</p>\n\n<pre><code>var fs = require('fs');\n\nfs.watch('file', function (curr, prev) {\n  fs.stat('file', function (err, stats) {\n    console.log(stats.size);\n  });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I'm watching a file in Node.js and would like to obtain the size of the file each time it changes. How can this be done with <code>fs.watchFile</code>?</p>\n\n<p>This is what I'm currently doing:</p>\n\n<pre><code>fs.watchFile(file, function(curr, prev) {\n  // determine file size\n});\n</code></pre>\n",
            "last_activity_date": 1409535331,
            "question_id": 12257615,
            "score": 3,
            "tags": [
                "javascript",
                "node.js",
                "filesystems"
            ],
            "title": "Node.js: Determine file size on modification"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Making some huge assumptions about your situation, I've decided that you might try something like this: \u200b<code>$(function(){$(\u200b'.jcrop-holder').removeAttr(\"style\");\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b\u200b});\u200b\u200b\u200b\u200b\u200b</code></p>\n\n<p>If that's not what you need, you oughtta give us some more info!</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I had a similar issue with an old version of jCrop and created a custom destroy function. Here is the gist of it:</p>\n\n<pre><code>function crop_reset()\n  {\n  //Reset coordinates of thumbnail preview container\n  $('#crop_preview').data(\"coords.x\", 0);\n  $('#crop_preview').data(\"coords.y\", 0);\n  $('#crop_preview').data(\"coords.w\", 0);\n  $('#crop_preview').data(\"coords.h\", 0);\n\n  //Reset src of jcrop img and copies bound to page specific full size and preview divs\n  $(\"#crop, #crop_preview, .jcrop-holder img\").attr(\"src\", \"\"); \n  }\n\nfunction crop_start()\n  {\n  //Initialize and remove previous jCrop containers using load event callback\n  $('#crop').Jcrop({\n  onChange: showPreview,\n  onSelect: showPreview,\n  onLoad: hidePreview,\n  aspectRatio: 1,\n  setSelect: [0, 0, 50, 50],\n  minSize: [50, 50],\n  allowResize: false,\n  allowMove: true\n  },function(){$(\".jcrop-holder\").not(\":last\").remove();});\n\n\n  //Remove previous jCrop containers using timer if callback is not supported\n  /*\n  window.setTimeout(function noblank(){\n    $(\".jcrop-holder\").not(\":last\").remove();\n    }, 1000);\n  */\n  }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>I have a profile picture system which allows image cropping using jCrop. I've noticed if the user goes through the process a few times, the crop dimensions are not calculated properly  simply because the previous image is still there. I've tried the destroy() method from the API , but that doesn't clear the image source from the <code>.jcrop-holder</code> div and its child image element.</p>\n\n<p>How can I get rid of this easily? Thanks.</p>\n",
            "last_activity_date": 1362160823,
            "question_id": 12257390,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "image-uploading",
                "jcrop"
            ],
            "title": "JCrop, how to clear all the div width/height markup?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The <code>$.mobile.changePage</code> uses the jQuery Mobile AJAX functionality. jQuery Mobile loads only the code which is inside the first data-role=\"page\" element in the DOM.</p>\n\n<blockquote>\n  <p>As stated in the <a href=\"http://jquerymobile.com/demos//1.2.0/docs/api/events.html\" rel=\"nofollow\">jQuery Mobile docs</a> , in jQuery Mobile, AJAX is used to load the contents of each page into the DOM as you navigate, and the DOM ready handler <code>$(document).ready()</code> only executes for the first page.</p>\n</blockquote>\n\n<p>Below you can find a working example which includes two pages, the navigation is performed through Ajax and the map is loaded inside the second page:</p>\n\n<p>Also note that you can perform a transition using rel=\"external\" or data-ajax=\"false\". The usage of these attributes will cause a full page refresh without animated transition.</p>\n\n<p>Working Example:</p>\n\n<p>Instructions:</p>\n\n<ul>\n<li>Create a folder</li>\n<li>Create a file with name maps.js inside the folder</li>\n<li>Create a file with name map-intro.html inside the folder</li>\n<li>Create a file with name map.html inside the folder</li>\n<li>Fill each one of the created files with the corresponding code which can be found below</li>\n</ul>\n\n<p>Add the below code inside the maps.js:</p>\n\n<pre><code>function initialize() {\n    var mapCenter = new google.maps.LatLng(59.3426606750, 18.0736160278),\n    myOptions = {\n        zoom:10,\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\n        center: mapCenter\n    },\n    map = new google.maps.Map(document.getElementById(\"map_canvas\"), myOptions);\n}\n\n$( document ).on( 'pageshow', '#map-page',function(event){\n  initialize();\n});\n\n$( document ).on( 'click', '#map-anchor', function(event){\n  event.preventDefault();\n  $.mobile.changePage( \"map.html\", { transition: \"flip\" } );\n});\n</code></pre>\n\n<p>Add the below code inside the map-intro.html:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n   &lt;head&gt;\n        &lt;title&gt;Map Intro Page&lt;/title&gt;\n        &lt;link rel=\"stylesheet\" href=\"http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css\" /&gt;\n        &lt;script src=\"http://code.jquery.com/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"http://maps.google.com/maps/api/js?v=3&amp;sensor=false&amp;language=en\"&gt;&lt;/script&gt;\n        &lt;script src=\"./maps.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"map-intro-page\" data-role=\"page\"&gt;\n            &lt;div data-role=\"header\"&gt;\n                &lt;h1&gt;&lt;a data-ajax=\"false\" href=\"/\"&gt;Map Example&lt;/a&gt;&lt;/h1&gt;\n            &lt;/div&gt;\n            &lt;div data-role=\"content\"&gt;   \n                &lt;ul data-role=\"listview\" id=\"my-list\"&gt;\n                    &lt;li&gt;&lt;a href=\"#\" id=\"map-anchor\"&gt;Go to Map&lt;/a&gt;&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Add the below code inside the map.html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt; \n&lt;html&gt; \n    &lt;head&gt; \n        &lt;title&gt;jQuery mobile with Google maps geo directions example&lt;/title&gt;\n        &lt;link rel=\"stylesheet\" href=\"http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css\" /&gt;\n        &lt;script src=\"http://code.jquery.com/jquery-1.8.2.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;!-- /page --&gt;\n        &lt;div data-role=\"page\" id=\"map-page\"&gt;\n            &lt;!-- /header --&gt;\n            &lt;div data-role=\"header\"&gt;\n                &lt;h1&gt;Map&lt;/h1&gt;\n                &lt;a data-rel=\"back\"&gt;Back&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;!-- /content --&gt;\n            &lt;div data-role=\"content\" class=\"ui-bar-c ui-corner-all ui-shadow\" style=\"padding:1em;\"&gt;\n                &lt;div id=\"map_canvas\" style=\"height:300px;\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I hope this helps.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>I am developing an iPhone application using PhoneGap and jQueryMobile, in my application I have two html pages, first is index.html page and second is mapView.html, now, my problem is when I open mapView.html from index.html using</p>\n\n<pre><code>function loadMap() {\n        $.mobile.changePage( \"mapView.html\", { transition: \"pop\"} );\n}\n</code></pre>\n\n<p>map is not loading. If I open mapView.html on any browser it works perfectly, even if I load mapView.html directly by changing <br>\n<code>self.viewController.startPage = @\"mapView.html\";</code>\n<br> in appDelegate class map loads on screen. Do anyone have any idea why map is not loading when I open it from another .html page?My PhoneGap version is 2.0.0<br>\nThanks.</p>\n\n<p><B>EDIT 1:</B>mapView.html code<br><br></p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Map Location&lt;/title&gt;\n        &lt;link rel=\"stylesheet\" href=\"jquery.mobile-1.1.1.min.css\" /&gt;\n        &lt;script type=\"text/javascript\" src=\"jquery-1.7.1.min.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"jquery.mobile-1.1.1.min.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\" src=\"http://maps.google.com/maps/api/js?v=3&amp;sensor=false&amp;language=en\"&gt; &lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n\n            var demoCenter = new google.maps.LatLng(41,-87);\n\n            var map;\n            function initialize()\n            {\n                map = new google.maps.Map(document.getElementById('map_canvas'), {\n                                          zoom: 7,\n                                          center: demoCenter,\n                                          mapTypeId: google.maps.MapTypeId.ROADMAP\n                                          });\n            }\n\n            function addMarkers()\n            {\n                // perform your AJAX here. In this example the markers are loaded through the cityList array\n                $.ajax({\n                       type:'post',\n                       url:'test.html',\n                       data:'',\n                       success:function(data)\n                       {\n\n                       // imagine that the data in this list\n                       // will be retrieved from the AJAX response\n                       // i used the cityList array just for testing\n                       var cityList = [\n                                       ['Chicago', 41.850033, -87.6500523, 1],\n                                       ['Illinois', 40.797177,-89.406738, 2]\n                                       ];\n\n                       var marker, i;\n                       var infowindow = new google.maps.InfoWindow();\n                       for (i = 0; i &lt; cityList.length; i++) \n                       {  \n                       marker = new google.maps.Marker({\n                                                       position: new google.maps.LatLng(cityList[i][1], cityList[i][2]),\n                                                       map: map,\n                                                       title: cityList[i][0]\n                                                       });\n\n                       google.maps.event.addListener(marker, 'click', (function(marker, i) {\n                                                                       return function() {\n                                                                       infowindow.setContent(cityList[i][0]);\n                                                                       infowindow.open(map, marker);\n                                                                       }\n                                                                       })(marker, i));\n                       }\n                       }\n                       });\n            }\n\n            $(document).ready(function() \n                              {\n                              addMarkers();\n                              });\n            &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body onload=\"initialize()\"&gt;\n        &lt;div id=\"basic-map\" data-role=\"page\"&gt;\n            &lt;div data-role=\"header\" data-theme=\"b\"&gt;\n                &lt;h1&gt;Map Location&lt;/h1&gt;\n                &lt;a data-rel=\"back\"&gt;Back&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;div data-role=\"content\"&gt;   \n                &lt;div class=\"ui-bar-c ui-corner-all ui-shadow\" style=\"padding:1em;\"&gt;\n                    &lt;div id=\"map_canvas\" style=\"height:350px;\"&gt;&lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;      \n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
            "last_activity_date": 1362226817,
            "question_id": 12247516,
            "score": 3,
            "tags": [
                "javascript",
                "ios",
                "cordova",
                "jquery-mobile"
            ],
            "title": "Map view is not loading with PhoneGap"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><code>createElement</code>, <code>setAttribute</code>, <code>appendChild</code> as per usual when replacing <code>document.write</code> or <code>innerHTML</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This code creates a new <code>&lt;script/&gt;</code> element and appends it before first <code>&lt;script/&gt;</code> element on your page:</p>\n\n<pre><code>if (!window.jQuery) {\n   var script = document.createElement('script');\n   script.type = 'text/javascript';\n   script.src = 'js/vendor/jquery-1.8.0.min.js';\n\n   var firstScript = document.getElementsByTagName('script')[0];\n   firstScript.parentNode.insertBefore(script, firstScript);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>Expanding on Maxim Vi.'s reply, I made it closer to the original idea to insert it where it is called:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" id=\"jQuery\"&gt;\nif (!window.jQuery) {\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = '/js/jquery-1.8.0.min.js';\n    var jQueryScript = document.getElementById('jQuery');\n    jQueryScript.parentNode.insertBefore(script, jQueryScript);\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>This way you can keep your scripts in the footer (in case you have other scripts inside the page, it won't get inserted too early or in different locations).</p>\n\n<p><strong>Edit:</strong> I had problems in some browsers with that solution, but moving the <code>id=\"jQuery\"</code> further down solved it. I adjusted the code accordingly.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>It is good practice to load a <a href=\"http://docs.jquery.com/Downloading_jQuery#CDN_Hosted_jQuery\" rel=\"nofollow\">CDN-hosted jQuery</a> but to <a href=\"http://css-tricks.com/snippets/jquery/fallback-for-cdn-hosted-jquery/\" rel=\"nofollow\">fallback to a local file</a>. E.g. HTML5 Boilerplate does it like this:</p>\n\n<pre><code>&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;window.jQuery || document.write('&lt;script src=\"js/vendor/jquery-1.8.0.min.js\"&gt;&lt;\\/script&gt;')&lt;/script&gt;\n</code></pre>\n\n<p>But how can the same be implemented in XHTML? As <code>document.write()</code> doesn't work in proper XHTML (sent as <code>application/xhtml+xml</code>), is there an alternative?</p>\n",
            "last_activity_date": 1346688035,
            "question_id": 12235507,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "xhtml",
                "cdn",
                "fallback"
            ],
            "title": "How to add jQuery CDN fallback in XHTML?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Well, it's actually simpler in real-life scenarios. You append some unique checksum to the JavaScript file <em>name</em> (you don't change the file itself) and you use that full name in your HTML files. Also when the browser requests for this <code>.js</code> file you use far in the future <code>Expires</code> header (typically one year) so that the browser caches this file \"<em>forever</em>\". Take a look at the source of the web site you are now using:</p>\n\n<pre><code>&lt;script src=\"http://cdn.sstatic.net/js/stub.js?v=aa8b9e2e0673\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;link href=\"http://cdn.sstatic.net/stackoverflow/all.css?v=ffb907d7e663\" rel=\"stylesheet\" type=\"text/css\"&gt;\n</code></pre>\n\n<p>(SO uses technique described here by <em>@machineghost</em>).</p>\n\n<p>As long as you don't change the <code>.js</code> file, its checksum and file name are the same and the browser is not doing anything. The file is cached and you said it won't change within a year. So how do you change it? Well, every time you modify the file, checksum changes. The browser sees a differen <code>.js</code> file and is forced to download it. The previous file is useless but the browser will keep it for one year (we don't care).</p>\n\n<p>This way you can combine aggressive caching and rapid changes (no problems with browser caching old JavaScript but using new HTML, etc.)</p>\n\n<blockquote>\n  <p>src attr of the script tag, go to the cache first for the js file </p>\n</blockquote>\n\n<p>Yes, if this JavaScript file was already downloaded, browser will use cache. This is actually a bit more complicated. If you returned <code>Expires</code> header last time, browser won't even touch your server. If you only returned <code>Last-Modifed</code> header, browser will issue so-called <em>conditional GET</em> - server will only return new contents if the file changed and <code>304 Not Modified</code>  otherwise.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Tomasz hit the nail on the head ... except there's an even easier solution :-)  Don't change the file name of your files at all; just change the link to them, specifically the \"search\" part.  And you don't really need a checksum, you can also use an incrementing number or the current revision number in your source control system</p>\n\n<p>So in other words:</p>\n\n<pre><code>&lt;script src='myFile.js'/&gt;\n</code></pre>\n\n<p>would be:</p>\n\n<pre><code>&lt;script src='myFile.someChecksum.js'/&gt;\n</code></pre>\n\n<p>as Tomasz described it; if instead you do:</p>\n\n<pre><code>&lt;script src='myFile.js?x=someChecksum'/&gt;\n</code></pre>\n\n<p>the browser will still consider it a new file (when the checksum changes), but you won't have to change the file name everytime.  If you use the revision number, you don't even have to compute a checksum everytime, you just need server-side logic to the effect of:</p>\n\n<pre><code>&lt;script src='myFile.js?x={{currentRevisionNumber}}'/&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>so I am implementing this js/css versioning scheme, where  I basically append a checksum of the js/css file. The strategy which I am thinking of is, basically get this checksum value, then compute the checksum of the file(which I presume may come from the cache), if they match, then the client has the latest files, if not then the client browser will force download that particular file from the server. Is this approach correct?\nAlso I wanted to understand the behavior of the script tag, like will the src attr of the script tag, go to the cache first for the js file or to the webserver directly?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1346176674,
            "question_id": 12164677,
            "score": 3,
            "tags": [
                "javascript",
                "version-control",
                "web"
            ],
            "title": "Needed advice on how to implement js/css versioning"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>This should work. It uses recursion to achieve the result. </p>\n\n<pre><code>function globalSearch(obj, value) {\n    for(var p in obj)\n        if(obj[p] == value){\n            return(p);\n        }else if(typeof obj[p] == \"object\" &amp;&amp; obj[p] != obj){\n           var te = globalSearch(obj[p], value);\n           if(te!=false){ return p + \".\" + te }\n        }\n    return false;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Make your solution recursive. If you have an object, call your function again. </p>\n\n<pre><code>function globalSearch(obj, value) {\n    for(var p in obj) {\n        if (obj[p] == value) {\n            return(p);\n        } else if (typeof obj[p] === \"object\") {\n            var recursiveCheck= globalSearch(obj[p], value);\n            if (recursiveCheck) {\n                return p + \".\" + recursiveCheck;\n            }\n        }\n    }\n}\nglobalSearch(window, 'StackOverflow');\n</code></pre>\n\n<p>I bet most browsers will hit a warning for too much looping.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>Deep search but without the recursive function calls</strong></p>\n\n<p>Functional recursion has internal stack limits and wastes memory.</p>\n\n<p><strong>Additional features added</strong></p>\n\n<p>Recursive object protection in the form of a searched array; It doesn't use up too much memory of course as the objects are only stored as references.</p>\n\n<p>Return true if the the object itself matches the value. Otherwise it would return '' which would match to false.</p>\n\n<p>Arrays use angle-bracket notation.</p>\n\n<p><strong>The code</strong></p>\n\n<pre><code>function globalSearch(startObject, value) {\n    var stack = [[startObject,'']];\n    var searched = [];\n    var found = false;\n\n    var isArray = function(test) {\n        return Object.prototype.toString.call( test ) === '[object Array]';\n    }\n\n    while(stack.length) {\n        var fromStack = stack.pop();\n        var obj = fromStack[0];\n        var address = fromStack[1];\n\n        if( typeof obj == typeof value &amp;&amp; obj == value) {\n            var found = address;\n            break;\n        }else if(typeof obj == \"object\" &amp;&amp; searched.indexOf(obj) == -1){\n           if ( isArray(obj) ) {\n              var prefix = '[';\n              var postfix = ']';\n           }else {\n              var prefix = '.';\n              var postfix = '';\n           }\n           for( i in obj ) {\n              stack.push( [ obj[i], address + prefix + i + postfix ] );\n           }\n           searched.push(obj);\n        }\n    }\n    return found == '' ? true : found;\n}\n</code></pre>\n\n<p><strong>Problems</strong></p>\n\n<p>Without passing the intial variable name into the function, we can't return the fully qualified variable name from the beginning. I can't think of a solution and I woud be surprised if there was one.</p>\n\n<p>Variable names with spaces are valid as the key to an object, as are other invalid variable names,  it just means that the value must be addressed using angle-brackets. There are a couple of solutions I can think of. Regex check each variable name to make sure it's valid and use angle-brackets notation if it is not. The overriding problem with this is that the reg-ex is a page long. Alternatively, we could only use angle-brackets but this isn't really true to the OPs original question.</p>\n\n<p>The indexOf call on the array 'searched' might be a bit heavy on very large objects but I can't yet think of an alternative.</p>\n\n<p><strong>Improvements</strong></p>\n\n<p>Apart from cleaning up the code a little, it would also be nice if the function returned an array of matches. This also raises another issue in that the returned array would not contain references to recursive objects. Maybe the function could accept a result format configuration parameter.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>Let's say that I want to search for a value, like <code>'StackOverflow'</code>, in all declared variables in <code>window</code>.\nI can do it with this code:</p>\n\n<pre><code>function globalSearch(obj, value) {\n    for(var p in obj)\n        if(obj[p] == value)\n            return(p);\n}\nglobalSearch(window, 'StackOverflow');\n</code></pre>\n\n<p>This code will return the name of a variable that have this value (or returns nothing).\nSo, if I have declared a variable with value <code>'StackOverflow'</code>, it will successfully find it.</p>\n\n<p>My problem is that I want to go deeper and search thru <code>window</code>'s objects (and its own nested objects) too, to achieve a result like this:</p>\n\n<pre><code>var x = 'StackOverflow'                     // returns 'x'\nvar y = { a : 'StackOverflow' }             // returns 'y.a'\nvar z = { a : { b: 'StackOverflow' } }      // returns 'z.a.b'\n</code></pre>\n\n<p>I'm having problems with inherited methods of Objects. Is there a way to do this? </p>\n",
            "last_activity_date": 1345796021,
            "question_id": 12102425,
            "score": 3,
            "tags": [
                "javascript",
                "arrays",
                "object",
                "global-variables"
            ],
            "title": "Recursively search for a value in global variables and its properties"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><code>parseInt</code> returns a number only if you pass it a number as first character.</p>\n\n<p>Examples:</p>\n\n<pre><code>parseInt( 'a', 10 ); // NaN\nparseInt( 'a10', 10 ); // NaN\nparseInt( '10a', 10 ); // 10\nparseInt( '', 10 ); // NaN\nparseInt( '10', 10 ); // 10\n</code></pre>\n\n<p>Also, you may take a look at the <code>+</code> operator if you want to get strings that are only numbers.</p>\n\n<pre><code>+'a'; // NaN\n+'a10'; // NaN\n+'10a'; // NaN\n+''; // 0, that's tricky\n+'10'; // 10\n</code></pre>\n\n<p>Edit: According to your comment, I've tested <code>parseInt</code>:</p>\n\n<pre><code>parseInt( '08-20 19:41:02.880', 10 ); // 8\n</code></pre>\n\n<p>You're doing something else wrong. <code>parseInt</code> returns everything till it's not a number. If the first isn't a number (or it doesn't find any number), it returns <code>NaN</code>.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>The answer is that I used <code>localStorage.setItem('bc',JSON.stringify(bc))</code> and it added double quote to <code>bc</code> because it was in that case already a string and that's why <code>parseInt</code> wasn't working. Value was <code>\"\"1\"\"</code>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>What is the correct way to convert value of String variable to int/numeric variable? Why is <code>bcInt</code> still string and why does <code>isNaN</code> return <code>true</code>?</p>\n\n<pre><code>bc=localStorage.getItem('bc');\nvar bcInt=parseInt(bc,10);\nvar bcInt2=1;\nconsole.log(\"bc------------&gt;\" +bc +\" isNaN:\" +isNaN(bc)); //isNaN returns true\nconsole.log(\"bcInt------------&gt;\" +bcInt +\" isNaN:\" +isNaN(bcInt)); //isNaN returns true\n\nbcInt2// isNaN returns false\n</code></pre>\n",
            "last_activity_date": 1345523571,
            "question_id": 12040769,
            "score": 3,
            "tags": [
                "javascript",
                "string",
                "int",
                "type-conversion",
                "numeric"
            ],
            "title": "How to convert String variable to int in javascript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I know this is a late question, but maybe this can still help you out.</p>\n\n<p>I would create pagination in d3 by creating a second array that only contains the data you want shown at a particular time. This sliced array would come from your primary data array. By controlling where the array is sliced, you control the pagination.</p>\n\n<p>I've created a simple example here with a long array divided into five-bar 'pages'.</p>\n\n<p><a href=\"http://jsfiddle.net/zNxgn/2/\">http://jsfiddle.net/zNxgn/2/</a></p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Please go thorugh this piece of code but it makes sense if you go through my block. I have only put the essential part of the code. Link: <a href=\"http://bl.ocks.org/pragyandas\" rel=\"nofollow\">http://bl.ocks.org/pragyandas</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> var legendCount = data.series.length;\r\n\r\n            var legendWidth=10; var legendSpacing=6;\r\n\r\n            var netLegendHeight=(legendWidth+legendSpacing)*legendCount;\r\n            var legendPerPage,totalPages,pageNo;\r\n\r\n            if(netLegendHeight/height &gt; 1){\r\n\r\n                legendPerPage=Math.floor(height/(legendWidth+legendSpacing));\r\n                totalPages=Math.ceil(legendCount/legendPerPage);\r\n\r\n                pageNo=1;\r\n\r\n                var startIndex=(pageNo-1)*legendPerPage;\r\n                var endIndex=startIndex+legendPerPage;\r\n                var seriesSubset=[],colorSubset=[];\r\n\r\n                for(var i=0;i&lt;data.series.length;i++){\r\n                    if(i&gt;=startIndex &amp;&amp; i&lt;endIndex){\r\n                        seriesSubset.push(data.series[i]);\r\n                        colorSubset.push(colors[i]);\r\n                    }\r\n                }  \r\n\r\n                DrawLegendSubset(seriesSubset,colorSubset,legendPerPage,pageNo,totalPages);\r\n            }\r\n\r\n            function DrawLegendSubset(seriesSubset,colorSubset,legendPerPage,pageNo,totalPages){\r\n\r\n                var legend = svg.selectAll(\"g.legendg\")\r\n                .data(seriesSubset)\r\n                .enter().append(\"g\")\r\n                .attr('class','legendg')\r\n                .attr(\"transform\", function (d, i) { return \"translate(\" + (width-40) + \",\"+ i*(legendWidth+legendSpacing) +\")\"; });\r\n\r\n                legend.append(\"rect\")\r\n                .attr(\"x\", 45)\r\n                .attr(\"width\", legendWidth)\r\n                .attr(\"height\", legendWidth)\r\n                .attr(\"class\", \"legend\")\r\n                .style('fill',function(d,i){return colorSubset[i];});\r\n                \r\n\r\n                legend.append(\"text\")\r\n                .attr(\"x\", 60)\r\n                .attr(\"y\", 6)\r\n                .attr(\"dy\", \".35em\")\r\n                .style(\"text-anchor\", \"start\")\r\n                .text(function (d) { return d.name; });\r\n\r\n\r\n                var pageText = svg.append(\"g\")\r\n                .attr('class','pageNo')\r\n                .attr(\"transform\", \"translate(\" + (width+7.5) + \",\"+ (legendPerPage+1)*(legendWidth+legendSpacing) +\")\");\r\n\r\n                pageText.append('text').text(pageNo+'/'+totalPages)\r\n                .attr('dx','.25em');\r\n\r\n                var prevtriangle = svg.append(\"g\")\r\n                .attr('class','prev')\r\n                .attr(\"transform\", \"translate(\" + (width+5) + \",\"+ (legendPerPage+1.5)*(legendWidth+legendSpacing) +\")\")\r\n                .on('click',prevLegend)\r\n                .style('cursor','pointer');\r\n\r\n                var nexttriangle = svg.append(\"g\")\r\n                .attr('class','next')\r\n                .attr(\"transform\", \"translate(\" + (width+20) + \",\"+ (legendPerPage+1.5)*(legendWidth+legendSpacing) +\")\")\r\n                .on('click',nextLegend)\r\n                .style('cursor','pointer');\r\n\r\n                nexttriangle.append('polygon')\r\n                    .style('stroke','#000')\r\n                    .style('fill','#000')\r\n                    .attr('points','0,0, 10,0, 5,5');\r\n\r\n                prevtriangle.append('polygon')\r\n                    .style('stroke','#000')\r\n                    .style('fill','#000')\r\n                    .attr('points','0,5, 10,5, 5,0');\r\n\r\n                if(pageNo==totalPages){\r\n                    nexttriangle.style('opacity','0.5')\r\n                    nexttriangle.on('click','')\r\n                    .style('cursor','');\r\n                }\r\n                else if(pageNo==1){\r\n                    prevtriangle.style('opacity','0.5')\r\n                    prevtriangle.on('click','')\r\n                    .style('cursor','');\r\n                }\r\n\r\n            }\r\n\r\n            function prevLegend(){\r\n                pageNo--;\r\n\r\n                svg.selectAll(\"g.legendg\").remove();\r\n                svg.select('.pageNo').remove();\r\n                svg.select('.prev').remove();\r\n                svg.select('.next').remove();\r\n\r\n                var startIndex=(pageNo-1)*legendPerPage;\r\n                var endIndex=startIndex+legendPerPage;\r\n\r\n                var seriesSubset=[],colorSubset=[];\r\n\r\n                for(var i=0;i&lt;data.series.length;i++){\r\n                    if(i&gt;=startIndex &amp;&amp; i&lt;endIndex){\r\n                        seriesSubset.push(data.series[i]);\r\n                        colorSubset.push(colors[i]);\r\n                    }\r\n                }  \r\n\r\n                DrawLegendSubset(seriesSubset,colorSubset,legendPerPage,pageNo,totalPages);\r\n            }\r\n            \r\n            function nextLegend(){\r\n                pageNo++;\r\n\r\n                svg.selectAll(\"g.legendg\").remove();\r\n                svg.select('.pageNo').remove();\r\n                svg.select('.prev').remove();\r\n                svg.select('.next').remove();\r\n\r\n                var startIndex=(pageNo-1)*legendPerPage;\r\n                var endIndex=startIndex+legendPerPage;\r\n\r\n                var seriesSubset=[],colorSubset=[];\r\n\r\n                for(var i=0;i&lt;data.series.length;i++){\r\n                    if(i&gt;=startIndex &amp;&amp; i&lt;endIndex){\r\n                        seriesSubset.push(data.series[i]);\r\n                        colorSubset.push(colors[i]);\r\n                    }\r\n                }  \r\n\r\n               DrawLegendSubset(seriesSubset,colorSubset,legendPerPage,pageNo,totalPages);\r\n            }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using a large amount of JSON data from an API for D3 bar charts. I would like to show only 10-20 bars at a time.  Is there a way to paginate using D3 or do I need to do this another way (php)?  Any best practices or suggestions are welcome. </p>\n",
            "last_activity_date": 1420824607,
            "question_id": 11978040,
            "score": 3,
            "tags": [
                "javascript",
                "json",
                "charts",
                "pagination",
                "d3.js"
            ],
            "title": "Pagination with D3.js"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You could just use</p>\n\n<pre><code>$(whatever).text($(whatever).text() + whatever_you_want_to_append);\n</code></pre>\n\n<p>EDIT for the fiddle in my comment, try this:</p>\n\n<pre><code>for ( /* some looping parameters */ ) {\n    $('&lt;li&gt;&lt;/li&gt;') // create an li\n        .text(stringWithHtml) // pass it the text, as text not html\n        .appendTo('#thisIsWhatINeed'); // append it where you want it\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/qtZ7u/4/\" rel=\"nofollow\">jsFiddle</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You could create a dummy element to hold the result of <code>.text()</code> which can then be appended to  your destination element:</p>\n\n<pre><code>$('&lt;div/&gt;').text('your &lt;span&gt;html&lt;/span&gt; string').appendTo(...);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>As I have tried many ways, I think the following method is the cleanest way to add text to whatever node you want.\nno stock tag needed, only plain text, which will help to avoid potential problems</p>\n\n<pre><code>$(document.createTextNode(\"SomePlainText\")).appendTo(p);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm used to using jQuery's <code>.append()</code> method to add text or HTML onto the end of a pre-existing element.  I'm currently using jQuery's <code>.text()</code> to escape strings that could potentially contain HTML.  Unfortunately, there doesn't seem to be a jQuery method that will append the results of the <code>.text()</code> method to an element instead of replacing its contents.</p>\n\n<p>Is there a way to append, instead of replace, this escaped text to an element?  Or is there a better way to escape strings containing HTML?</p>\n\n<p>Thanks.</p>\n\n<p><strong>- EDIT -</strong></p>\n\n<p>A little more context:  I'm building an HTML string dynamically, and so I'll need to be able to add multiple elements with escaped content programmatically.</p>\n",
            "last_activity_date": 1372222892,
            "question_id": 11957529,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "dom",
                "escaping"
            ],
            "title": "Append HTML-escaped text: jQuery"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You will need to make proxy for cross-domain ajax requests. </p>\n\n<p>Usual scenario looks like this: </p>\n\n<ol>\n<li>Client send ajax request to server</li>\n<li>Your server forwards request to external/remote server</li>\n<li>Waiting on response from remote server</li>\n<li>Parse and process response from remote server</li>\n<li>Send response back to client</li>\n</ol>\n\n<p>If you are using php you can send requests with curl, and it is pretty easy to implement. I have wrote article on this topic recently <a href=\"http://www.svlada.com/proxy-ajax-requests-curl-and-symfony-2/\" rel=\"nofollow\">http://www.svlada.com/proxy-ajax-requests-curl-and-symfony-2/</a>.</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>you cant get a json from other domain than yours. this is a security issue called <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\" rel=\"nofollow\">same origin policy</a> to get over it use <a href=\"http://en.wikipedia.org/wiki/JSONP\" rel=\"nofollow\">JSONP</a> not JSON.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Check this <a href=\"http://jsfiddle.net/RvWb4/\" rel=\"nofollow\">jsfiddle</a>. The username and password is incorrect. Give the correct username and password and check it once again.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm attempting to make use of the Beanstalk (beanstalkapp.com) API by pulling data into a webpage so people can view it without accessing my SVN.</p>\n\n<p>What I'm doing to try and access it is by using an AJAX request through jQuery. The code is below, but I get an error each time, and can't return the data.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function() {\n    var tok = 'username' + ':' + 'password123';\n        hash = btoa(tok);\n        authInfo = \"Basic \" + hash;\n    $.ajax({\n        url: \"http://username.beanstalkapp.com/api/changesets.json\",\n        beforeSend: function (xhr) { xhr.setRequestHeader (\"Authorization\", authInfo); },\n        type: \"GET\",\n        async: false,\n        crossDomain: true,\n        dataType: \"json\",\n        success:  function(html){\n            console.log(html);\n        },\n        error: function(html){\n            console.log('error');\n        }\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>If I access the URL straight through my browser (<a href=\"http://username.beanstalkapp.com/api/changesets.json\" rel=\"nofollow\">http://username.beanstalkapp.com/api/changesets.json</a>) it works just fine and returns the json. However, I cannot get the AJAX to return it. Any help is appreciated. Thanks!</p>\n",
            "last_activity_date": 1416067429,
            "question_id": 11946307,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "cross-domain"
            ],
            "title": "jQuery AJAX Cross Domain with BASIC Authentication"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>What you are trying to achieve is already implemented in CryptoJS. From the <a href=\"http://code.google.com/p/crypto-js/#The_Hasher_Output\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p>You can convert a WordArray object to other formats by explicitly calling the toString method and passing an encoder.</p>\n</blockquote>\n\n<pre><code>var hash = CryptoJS.SHA256(\"Message\");\nalert(hash.toString(CryptoJS.enc.Base64));\nalert(hash.toString(CryptoJS.enc.Hex));\n</code></pre>\n\n<p><br>\nHonestly I have no idea why you want to implement that yourself... But if you absolutely need to do it \"manually\" in the 2 steps you mentioned, you could try something like this:</p>\n\n<pre><code>function wordToByteArray(wordArray) {\n    var byteArray = [], word, i, j;\n    for (i = 0; i &lt; wordArray.length; ++i) {\n        word = wordArray[i];\n        for (j = 3; j &gt;= 0; --j) {\n            byteArray.push((word &gt;&gt; 8 * j) &amp; 0xFF);\n        }\n    }\n    return byteArray;\n}\n\nfunction byteArrayToString(byteArray) {\n    var str = \"\", i;\n    for (i = 0; i &lt; byteArray.length; ++i) {\n        str += escape(String.fromCharCode(byteArray[i]));\n    }\n    return str;\n}\n\nvar hash = CryptoJS.SHA256(\"Message\");\nvar byteArray = wordToByteArray(hash.words);\nalert(byteArrayToString(byteArray));\n</code></pre>\n\n<p>The <code>wordToByteArray</code> function should work perfectly, but be aware that <code>byteArrayToString</code> will produce weird results in almost any case. I don't know much about encodings, but ASCII only uses 7 bits so you won't get ASCII chars when trying to encode an entire byte. So I added the <code>escape</code> function to at least be able to display all those strange chars you might get. ;)</p>\n\n<p>I'd recommend you use the functions CryptoJS has already implemented or just use the byte array (without converting it to string) for your analysis.</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>how to do this in Javascript or Jquery?</p>\n\n<p>Please suggest in 2 steps:</p>\n\n<p>1.- Word Array to Single Byte Array.</p>\n\n<p>2.- Byte Array to String.</p>\n\n<p>Maybe this can help:</p>\n\n<pre><code>function hex2a(hex) {\n    var str = '';\n    for (var i = 0; i &lt; hex.length; i += 2)\n        str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));\n    return str;\n}\n</code></pre>\n",
            "last_activity_date": 1344557062,
            "question_id": 11889329,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "arrays",
                "string"
            ],
            "title": "Word Array to  String"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>No.  CSS and Javascript must be parsable and readable by the browser, therefore a human can get access to the same data.</p>\n\n<p>It is possible to obscure/compress/minify the javascript, but all that generally does is remove whitespace and rename/shorten variable names.  The script is still functional and anyone interesting in how it really works can still figure it out (perhaps by using some tools to reformat it) with a little more time.  </p>\n\n<p>The typical reasons for minification is to reduce the download size of your scripts (speeding up site performance), but it also has the side effect of making the code harder to read by a human.  One should not count on minification providing any real protection as the code can be reformatted and still understood by anyone determined to do so.</p>\n\n<p>If you need to keep something private, keep the logic on the server and don't put it in the client.  Clients can access server-based functionality via ajax if need be.</p>\n\n<p>I've never heard of anyone thinking there was a business reason to protect CSS.  It's layout/presentation formatting.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>You can always minify the JavaScript file to make it harder for someone to reads it or to modify it.</p>\n\n<p>For example : <a href=\"http://www.minifyjavascript.com/\" rel=\"nofollow\">http://www.minifyjavascript.com/</a></p>\n\n<p>You can also do the same thing with CSS.</p>\n\n<p><a href=\"http://developer.yahoo.com/yui/compressor/\" rel=\"nofollow\">http://developer.yahoo.com/yui/compressor/</a>\n(it can do both JavaScript and CSS)</p>\n\n<p>There are other sites that offers a way to minify the files, but there is no way to hide it completely from the client-side.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Minification and base64 encoding. <a href=\"http://stackoverflow.com/questions/246801/how-can-you-encode-to-base64-using-javascript\">Here's SO questions about base64 encoding</a>. Be mindful that all you're doing is making the process of looking at your code miserable and no more.</p>\n\n<p>Online <a href=\"http://www.motobit.com/util/base64-decoder-encoder.asp\" rel=\"nofollow\">encoder/decoder</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is there any way to hide the CSS and JavaScript file from the client-side user and still embed it in the webpage shown to the user?</p>\n",
            "last_activity_date": 1344452840,
            "question_id": 11871294,
            "score": 3,
            "tags": [
                "javascript",
                "html",
                "css"
            ],
            "title": "Any way to hide CSS and JavaScript file from the client-side user?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><strong>Solved it!</strong> Originally, I was calling the function <code>parseDensityMapXML()</code> and then immediately after it calling another function <code>loadDensityMapXML()</code> which took the object created dynamically in the first function and iterated through it.  Problem was, it wasn't called as a <strong>callback</strong> from the first function, so was firing before the Object had even been built.</p>\n\n<p>To fix, I just amended the first function mentioned above to call the second function <em>after</em> the <strong>.each()</strong> was finished creating the objects:</p>\n\n<pre><code>function parseDensityMapXML() {\n$.ajax({\n    type: \"GET\",\n    url: \"media/XML/mapCountryData.xml\",\n    dataType: \"xml\",\n    success: function (xml) {\n        $(xml).find(\"Country\").each(function () {\n            var cName = $(this).find(\"Name\").text();\n            var cIniCount = $(this).find(\"InitiativeCount\").text();\n            var cUrl = $(this).find(\"SearchURL\").text();\n            var cCode = $(this).find(\"CountryCode\").text();\n\n            //Populate the JS Object\n            iniDensityData[cCode] = { \"initiatives\": cIniCount, \"url\": cUrl, \"name\": cName };\n            //set colors according to values of initiatives count\n            colorArray[cCode] = getCountryColor(cIniCount);\n        });\n\n        /* and then call the jVectorMap plugin - this MUST be done as a callback\n           after the above parsing.  If called separately, it will fire before the\n           objects iniDensityData and colorArray are created! */\n        loadDensityMapXML();\n    }\n});\n} //end function parseDensityMapXML();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I have a dynamically-generated object that looks like this:</p>\n\n<pre><code>colorArray = { \n    AR: \"#8BBDE1\", \n    AU: \"#135D9E\", \n    AT: \"#8BBDE1\",\n    ... }\n</code></pre>\n\n<p>I'm trying to use it to color a map by using <a href=\"http://jvectormap.com/documentation/javascript-api/\" rel=\"nofollow\" title=\"jVectorMap\">this plugin</a> and the 'colors' attribute during the call to the plugin.  Like this:</p>\n\n<pre><code>$('#iniDensityMap').vectorMap({\n    backgroundColor: '#c2e2f2',\n    colors: colorArray,\n    ... (some other params)\n});\n</code></pre>\n\n<p>But it doesn't color in the countries. When I hard code this in, it works fine - but it must be dynamically generated for this project, so something like this won't work for me (although it does in fact color the map):</p>\n\n<pre><code>$('#iniDensityMap').vectorMap({\n    backgroundColor: '#c2e2f2',\n    colors: { AR: \"#8BBDE1\", AU: \"#135D9E\", AT: \"#8BBDE1\" },\n    ... (some other params)\n});\n</code></pre>\n\n<p>I've traced the issue far enough into the plugin to find it has something to do with this loop:</p>\n\n<pre><code>setColors: function(key, color) {\n  if (typeof key == 'string') {\n    this.countries[key].setFill(color);\n  } else {\n\n    var colors = key; //This is the parameter passed through to the plugin\n\n    for (var code in colors) {\n\n      //THIS WILL NOT GET CALLED\n\n      if (this.countries[code]) {\n        this.countries[code].setFill(colors[code]);\n      }\n    }\n  }\n},\n</code></pre>\n\n<p>I've also tried iterating through the <code>colorArray</code> object on my own, outside of the plugin and I'm running into the same issue.  Whatever sits inside the <strong>for ( var x in obj )</strong> isn't firing.  I've also noticed that <code>colorArray.length</code> returns <em>undefined</em>.  Another important note is that I've instantiated <code>var colorArray = {};</code> in a separate  call, attempting to ensure that it is sitting at the global scope and able to be manipulated.</p>\n\n<p>I'm thinking that the problem is either:</p>\n\n<ol>\n<li>The way I'm dynamically populating the object - <code>colorArray[cCode] =\ncColor;</code> (in a jQuery .each call)</li>\n<li>I'm once again confusing the differences between Arrays() and Objects() in javascript</li>\n<li>It is a scope issue perhaps? </li>\n<li>Some combination of everything above.</li>\n</ol>\n\n<p><strong>EDIT #1:</strong> I've moved my additional question about Objects in the Console in Firebug to a new post <a href=\"http://stackoverflow.com/questions/11763932/objects-in-firebug-console\">HERE</a>.  That question deals more specifically with Firebug than the underlying JS problem I'm asking about here.</p>\n\n<p><strong>Edit #2: Additional info</strong>\nHere's the code I'm using to dynamically populate the Object:</p>\n\n<pre><code>function parseDensityMapXML() {\n$.ajax({\n    type: \"GET\",\n    url: \"media/XML/mapCountryData.xml\",\n    dataType: \"xml\",\n    success: function (xml) {\n        $(xml).find(\"Country\").each(function () {\n            var cName = $(this).find(\"Name\").text();\n            var cIniCount = $(this).find(\"InitiativeCount\").text();\n            var cUrl = $(this).find(\"SearchURL\").text();\n            var cCode = $(this).find(\"CountryCode\").text();\n\n            //Populate the JS Object\n            iniDensityData[cCode] = { \"initiatives\": cIniCount, \"url\": cUrl, \"name\": cName };\n            //set colors according to values of initiatives count\n            colorArray[cCode] = getCountryColor(cIniCount);\n        });\n    }\n});\n} //end function parseDensityMapXML();\n</code></pre>\n\n<p>This function is then called on a click event of a checkbox elsewhere on the page.  The Objects <code>iniDensityData</code> and <code>colorArray</code> are declared in the head of the html file - hoping that keeps them in global scope:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    //Initialize a bunch of variables in the global scope\n    iniDensityData = {};\n    colorArray = {};\n&lt;/script&gt;\n</code></pre>\n\n<p>And finally, here's a snippet from the XML file that is being read:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;icapCountryData&gt;\n  &lt;Country&gt;\n    &lt;Name&gt;Albania&lt;/Name&gt;\n    &lt;CountryCode&gt;AL&lt;/CountryCode&gt;\n    &lt;InitiativeCount&gt;7&lt;/InitiativeCount&gt;\n    &lt;SearchURL&gt;~/advance_search.aspx?search=6&lt;/SearchURL&gt;\n  &lt;/Country&gt;\n  &lt;Country&gt;\n    &lt;Name&gt;Argentina&lt;/Name&gt;\n    &lt;CountryCode&gt;AR&lt;/CountryCode&gt;\n    &lt;InitiativeCount&gt;15&lt;/InitiativeCount&gt;\n    &lt;SearchURL&gt;~/advance_search.aspx?search=11&lt;/SearchURL&gt;\n  &lt;/Country&gt;\n  ... and so on ...\n&lt;/icapCountryData&gt;\n</code></pre>\n",
            "last_activity_date": 1343845930,
            "question_id": 11750145,
            "score": 3,
            "tags": [
                "javascript",
                "jvectormap"
            ],
            "title": "Javascript - Trouble using for...in to iterate through an object"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You could try something like this <a href=\"http://www.webresourcesdepot.com/jquery-image-crop-plugin-jcrop/\" rel=\"nofollow\">jquery plugin</a>. It's not identical to Facebook but provides controlled crop functionality.</p>\n\n<p>Otherwise, the question has been answered here: <a href=\"http://stackoverflow.com/q/7850673/577306\">Is there a jQuery image cropping plugin similar to Facebook&#39;s image crop?</a></p>\n\n<p>EDIT: Try this one: <a href=\"http://odyniec.net/projects/imgareaselect/\" rel=\"nofollow\">imgareaselect</a>.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>I've been looking for an exact same kind of plugin, couldn't find one, so I wrote one :). Check it out. It's very basic and not many capabilities but still usefull. Use it well, spread it, credit me too ;)</p>\n\n<pre><code>.\n</code></pre>\n\n<p><strong>Edit: 22 Dec 2013</strong></p>\n\n<p>I noticed that the version using percentages was not working as expected. Link is updated now.</p>\n\n<p>I aslo added an X-Axis version</p>\n\n<p><a href=\"http://jsfiddle.net/ergec/ZCH64/\" rel=\"nofollow\">JSFiddle (Y-Axis)</a></p>\n\n<p><a href=\"http://jsfiddle.net/ergec/qBMwB/\" rel=\"nofollow\">JSFiddle (X-Axis)</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This is exactly what you need: <a href=\"http://github.com/matiasgagliano/guillotine\" rel=\"nofollow\">http://github.com/matiasgagliano/guillotine</a></p>\n\n<p>Plus it supports zoom, rotation, touch devises and it's fully responsive.</p>\n\n<p>Demo: <a href=\"http://matiasgagliano.github.io/guillotine\" rel=\"nofollow\">http://matiasgagliano.github.io/guillotine</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>In facebook, thumbnail picture will leave out some part of the full picture and we can move that so we can fit the thumbnail picture to fit the preferred position, how to do this using the web technology.</p>\n\n<p><img src=\"http://i.stack.imgur.com/SpdgB.png\" alt=\"enter image description here\"></p>\n\n<p>In the example, we can drag the image to move the position of thumbnail.</p>\n",
            "last_activity_date": 1412586461,
            "question_id": 11732935,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "asp.net",
                "web-applications"
            ],
            "title": "Drag the image to adjust position like in facebook thumbnail profile picture"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I'm assuming you're saying that your storage is working, but you need to check the box using Javascript. In that case, use:</p>\n\n<pre><code>document.getElementById(\"stat\").checked=true;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>document.getElementById(\"stat\").checked;\n</code></pre>\n\n<p><strong>Reference:</strong> <a href=\"http://www.w3schools.com/jsref/prop_checkbox_checked.asp\" rel=\"nofollow\">http://www.w3schools.com/jsref/prop_checkbox_checked.asp</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You need to actually set the <a href=\"https://developer.mozilla.org/en/HTML/Element/Input#attr-checked\" rel=\"nofollow\">checked attribute</a> to true in JavaScript.</p>\n\n<p>Use:</p>\n\n<pre><code>document.getElementById(\"stat\").checked = true;\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>document.getElementById(\"stat\").checked;\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/adamzr/C5zZu/\" rel=\"nofollow\"><strong>Try it!</strong></a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Changing:</p>\n\n<pre><code>document.getElementById(\"stat\").checked;\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>document.getElementById(\"stat\").setAttribute('checked','checked');\n</code></pre>\n\n<p>Would fix this. Since when adding <code>.checked</code>, that actually just checks if the checkbox is check.</p>\n\n<p>You can also just do:</p>\n\n<pre><code>document.getElementById(\"stat\").checked=true;   \n</code></pre>\n\n<p>Which does the same thing.  </p>\n\n<hr>\n\n<p>Please note that you need to change the <strong>second</strong> <code>document.getElementById(\"stat\").checked</code>.</p>\n\n<pre><code>getStstus = localStorage.getItem('stat');\n    if (getStstus == \"true\") {\n        console.log(\"its checked\");\n        document.getElementById(\"stat\").setAttribute('checked','checked');\n    } else {\n        console.log(\"its not checked\");\n    }\u200b\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/shawn31313/7X9Ff/1/\" rel=\"nofollow\">JsFiddle Example</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I am trying to create an options page for a Chrome extension. The first part sets the value in to local storage. Check for true and uncheck for false. The second part is supposed to update the check box if the user comes back at some other time and the settings will apply to the check box.</p>\n\n<p>My problem is that the check box is never check when the user refreshes or closes the window and comes back, but the local storage will change to true or false. How do I make it so that the user can check the box and it will stay when the user returns at a later time or refresh esthe page.</p>\n\n<pre><code>    setStatus = document.getElementById('stat');\n    setStatus.onclick = function() {\n        if(document.getElementById('stat').checked) {\n            localStorage.setItem('stat', \"true\");\n        } else {\n            localStorage.setItem('stat', \"false\");\n        }\n    }\n\n\ngetStstus = localStorage.getItem('stat');\n    if (getStstus == \"true\") {\n        console.log(\"its checked\");\n        document.getElementById(\"stat\").checked;\n    } else {\n        console.log(\"its not checked\");\n    }\n</code></pre>\n",
            "last_activity_date": 1343352646,
            "question_id": 11679967,
            "score": 3,
            "tags": [
                "javascript",
                "html5",
                "local-storage"
            ],
            "title": "Remember checkbox with localstorage onclick"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>No, you can't do this due to Cross-Origin security rules.</p>\n\n<p>You can send files to a server, under user control, but there's no way I know of to look into local file contents like this.</p>\n\n<hr>\n\n<p><strong>EDIT</strong> actually, there might be a way with HTML5, but it would still require the user to have dropped the file into a drop target or used a <code>&lt;input type=\"file\"/&gt;</code> box.</p>\n\n<p>Using the <code>File</code> API you can read files, and potentially decode them.</p>\n\n<p>Actually reading the file blob and displaying it locally may be tricky though.  You may be able to use the <code>FileReader.readAsDataURL</code> method to set the content as a <code>data:</code> URL for the image tag.</p>\n\n<p><strong>EDIT</strong> it works - here's an example:</p>\n\n<pre><code>$('#f').on('change', function(ev) {\n    var f = ev.target.files[0];\n    var fr = new FileReader();\n\n    fr.onload = function(ev2) {\n        console.dir(ev2);\n        $('#i').attr('src', ev2.target.result);\n    };\n\n    fr.readAsDataURL(f);\n});\u200b\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/alnitak/Qszjg/\">http://jsfiddle.net/alnitak/Qszjg/</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>Using the <a href=\"http://caniuse.com/#search=fileapi\" rel=\"nofollow\">new File APIs</a>, it is possible to access content from the local disk.</p>\n\n<p>You put a traditional <code>&lt;input type=\"file\"&gt;</code> upload field on your page, and handle the <code>onchange</code> event.</p>\n\n<p><a href=\"https://developer.mozilla.org/en/Using_files_from_web_applications\" rel=\"nofollow\">MDN has a good writeup with all of the details.</a></p>\n\n<p>Your event handler gets a <code>FileList</code> containing <code>Files</code>.  From there, you can call <a href=\"https://developer.mozilla.org/en/DOM/FileReader\" rel=\"nofollow\"><code>FileReader.readAsDataURL(File)</code></a> to fetch the content of the image and then pass that data URL to an <code>&lt;img&gt;</code> or a <code>&lt;canvas&gt;</code> to do rotation.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use <a href=\"https://developer.mozilla.org/en/DOM/window.URL.createObjectURL\" rel=\"nofollow\">createObjectURL</a> method of the window.URL object, this doesn't have much browser support though</p>\n\n<p><a href=\"http://jsfiddle.net/LvAqp/\" rel=\"nofollow\">http://jsfiddle.net/LvAqp/</a> only works in chrome and firefox</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to load an image file from the computer directly to any js object without using any server-side component. For example, I want to select a picture from the local machine and display it on a webpage. Is there a way to avoid file upload to the server?</p>\n\n<p>In fact I want to write a kind of multiple image loader, but before loading to the server I want to rotate some images, create an xml-file with some data like user id, image file names list and to zip all images and this xml and then send it to the server. How can I do that on the client side?</p>\n",
            "last_activity_date": 1342989387,
            "question_id": 11603644,
            "score": 3,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "How to load images from the local machine to JS object avoiding loading to the server"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><strong>Update:</strong></p>\n\n<p>Do a HEAD request and get the filesize from the <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html\" rel=\"nofollow\">Content-Length header</a>. Since you know the duration, you can then calculate the bitrate.</p>\n\n<p><strong>Research:</strong></p>\n\n<p>Here I want to share some of my research.</p>\n\n<p>You probably already know this -- the bitrate is stored inside according to <a href=\"http://mpgedit.org/mpgedit/mpeg_format/MP3Format.html\" rel=\"nofollow\">the MP3 format specification</a>. But I'm sure you would rather not read the file and deal with all that yourself! Hopefully you can find tools or API's to help. With that in mind...</p>\n\n<ul>\n<li><p>I looked around for public web APIs that will extract info for MP3's but didn't find anything that jumped out at me.</p></li>\n<li><p>If you can find a version of <a href=\"http://en.wikipedia.org/wiki/ExifTool\" rel=\"nofollow\">ExifTool</a> that you can access from Chrome, it has an API to calculate bitrate.</p></li>\n<li><p>There is a Javascript library called <a href=\"http://www.schillmania.com/projects/soundmanager2/doc/\" rel=\"nofollow\">SoundManager</a> that looked promising, but it does not accurately calculate bitrate.</p></li>\n<li><p>I looked at the <a href=\"http://chromium.googlecode.com/svn/trunk/samples/audio/index.html\" rel=\"nofollow\">Web Audio API</a> but did not see any mention of reading MP3 files in particular, and therefore no way to extract bitrate.</p></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I'm writing an extension for google chrome. And I have a situation: I've got a link for mp3 file, and I could play it. I could extract duration of it..</p>\n\n<p>But how could I calculate bitrate? Is it possible through some properties? Or through some calculations using file size? If second - how to get filesize?</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1343225287,
            "question_id": 11587319,
            "score": 3,
            "tags": [
                "javascript",
                "html5",
                "google-chrome",
                "google-chrome-extension",
                "html5-audio"
            ],
            "title": "html5 audio. How to get bitrate"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Calling a function with <code>.call</code> is different from just invoking it with <code>()</code>. With <code>.call</code> you explicitly set the value of <code>this</code> for the call in the first argument. With normal invocation, the <code>this</code> value will implicitly be the global object or <code>undefined</code>, depending on whether strict mode is enabled or not.</p>\n\n<pre><code>func.call({}, 1); //Call the function func with `this` set to the object and pass 1 as the first argument\n\nfunc(1); //Call the function func with 1 as the first argument. The value of this inside the function depends on whether strict mode is on or off.\n</code></pre>\n\n<p>See <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/call\" rel=\"nofollow\">.call</a></p>\n\n<hr>\n\n<blockquote>\n  <p>I always assumed that some_function(...) was exactly the same as\n  some_function.call(this, ...). This seems not to hold true for calls\n  in constructors / an object construction context:</p>\n</blockquote>\n\n<p>That's not true, they are never the same. You are probably confusing it with calling a function as a property of some object. <code>obj.method()</code> will mean that <code>obj</code> is the value of <code>this</code> for the method call and it would be effectively the same as <code>obj.method.call(obj)</code>.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "\n\n<p>I always assumed that <code>some_function(...)</code> was exactly the same as <code>some_function.call(this, ...)</code>. This seems not to hold true for calls in constructors / an object construction context:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function Class(members, parent) {\n    function Ctor(value) {\n        members.__init__.call(this, value);\n        return this;\n    };\n    Ctor.prototype = members;\n    Ctor.prototype.__proto__ = parent.prototype;\n    return Ctor;\n}\n\nvar Base = Class({\n    __init__: function(value) {\n        this.value = value;\n    }\n}, {});\n\nvar Child = Class({\n    __init__: function(value) {\n        // Base(value*2); \u2190 WON'T WORK AS EXPECTED\n        Base.call(this, value*2); // works just fine\n    }\n}, Base);\n</code></pre>\n\n<p>In <code>Child.__init__</code> it in necessary to use the explicit call to <code>Base.call(this, value)</code>. If I don't use this lengthy expressing, <code>this</code> would name the global object (<code>window</code> in browsers) in the called base constructor. With <code>\"use strict\"</code> an error would be thrown as there is no global object in strict mode.</p>\n\n<p>Can someone please explain why I have to use <code>Func.call(this, ...)</code> in this example?</p>\n\n<p>(Tested with Node.js v0.6.12 and Opera 12.50.)</p>\n",
            "last_activity_date": 1342388398,
            "question_id": 11495706,
            "score": 3,
            "tags": [
                "javascript",
                "oop",
                "constructor"
            ],
            "title": "Why is some_func(\u2026) != some_func.call(this, \u2026) in a constructor"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The JSON being returned is not what Backbone or Backbone-Relational is expecting by default.</p>\n\n<p>The expectation of Backbone and Backbone-Relational is:</p>\n\n<pre><code>{\n    \"id\": \"123456\",\n    \"Title\":\"Mr\",\n    \"FirstName\":\"Joe\",\n    \"Surname\":\"Bloggs\",\n    \"Bookings\": [\n        {\n            \"id\": \"585462542\",\n            \"EventName\": \"Bla\",\n            \"Location\":\"Dee Bla\",\n            \"EventDate\":\"November 1, 2012\"\n        },\n        {\n            \"id\": \"585462543\",\n            \"EventName\": \"Bla\",\n            \"Location\":\"Dee Bla\",\n            \"EventDate\":\"November 1, 2012\"\n        }\n    ]\n}\n</code></pre>\n\n<p>To use your response, you need to create a <code>parse</code> function on the Client model that returns the structure I've posted above.</p>\n\n<p>A jsFiddle example of your model definitions working with my example JSON:  <a href=\"http://jsfiddle.net/edwardmsmith/jVJHq/4/\" rel=\"nofollow\">http://jsfiddle.net/edwardmsmith/jVJHq/4/</a></p>\n\n<p><strong>Other notes</strong></p>\n\n<ul>\n<li>Backbone expects <code>ID</code> fields to be named \"id\" by default.  To use another field as the <code>ID</code> for a model, use <a href=\"http://backbonejs.org/#Model-idAttribute\" rel=\"nofollow\">Model.idAttribute</a></li>\n<li>The \"key\" for the Bookings Collection I changed to \"Bookings\"</li>\n</ul>\n\n<p>Sample Code:</p>\n\n<pre><code>Client = Backbone.RelationalModel.extend({\n\n    urlRoot: '/URL-THAT-RETURNS-JSON/',\n\n    relations: [\n        {\n            type: Backbone.HasMany,\n            key: 'Bookings',\n            relatedModel: 'Booking',\n            collectionType: 'BookingsCollection'\n        }\n    ],\n\n    parse: function (response) {\n\n    },\n\n    initialize: function (options) {\n        console.log(this, 'Initialized');\n    }\n\n});\n\n\nBooking = Backbone.RelationalModel.extend({\n\n    initialize: function (options) {\n    console.log(this, 'Initialized');\n    }\n\n});\n\nBookingsCollection = Backbone.Collection.extend({\n\n    model: Booking\n\n});\n\nmyClient = new Client(    {\n        \"id\": \"123456\",\n        \"Title\":\"Mr\",\n        \"FirstName\":\"Joe\",\n        \"Surname\":\"Bloggs\",\n        \"Bookings\": [\n            {\n                \"id\": \"585462542\",\n                \"EventName\": \"Bla\",\n                \"Location\":\"Dee Bla\",\n                \"EventDate\":\"November 1, 2012\"\n            },\n            {\n                \"id\": \"585462543\",\n                \"EventName\": \"Bla\",\n                \"Location\":\"Dee Bla\",\n                \"EventDate\":\"November 1, 2012\"\n            }\n        ]\n    });\n\n\nconsole.log(myClient);\u200b\n</code></pre>\n\n<p><strong>Post Edit</strong></p>\n\n<p>Yes, the JSON pretty much defines the attributes of the model.  You can use a combination of  <a href=\"http://backbonejs.org/#Model-parse\" rel=\"nofollow\"><code>parse()</code></a>, <a href=\"http://backbonejs.org/#Model-defaults\" rel=\"nofollow\"><code>defaults</code></a>, and <a href=\"http://backbonejs.org/#Model-validate\" rel=\"nofollow\"><code>validate()</code></a> to better control what attributes are valid and allowed.</p>\n\n<p>The canonical way of reading and setting properties on a Backbone Model is through the <a href=\"http://backbonejs.org/#Model-get\" rel=\"nofollow\"><code>get()</code></a>, <a href=\"http://backbonejs.org/#Model-escape\" rel=\"nofollow\"><code>escape()</code></a>, and <a href=\"http://backbonejs.org/#Model-set\" rel=\"nofollow\"><code>set()</code></a> functions.</p>\n\n<p><code>set</code> is especially important as this does a bunch of housekeeping, such as validating the attribute and value against your <code>validate</code> function (if any), and triggering change events for the model that your views would be listening for.</p>\n\n<p>In the specific case of the situation in this answer, you might</p>\n\n<pre><code>myClient.get('Title');  // =&gt; \"Mr\"\nmyClient.get('Bookings'); //=&gt; an instance of a BookingsCollection with 2 models.\nmyClient.get('Bookings').first().get('Location'); //=&gt; \"Dee Bla\"\nmyClient.get('Bookings').last().get('Location');  //=&gt; \"Dee Bla\"\nmyClient.get('Bookings').first().set({location:\"Bora Bora\"}); \nmyClient.get('Bookings').first().get('Location'); //=&gt; \"Bora Bora\"\nmyClient.get('Bookings').last().get('Location');  //=&gt; \"Dee Bla\"\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I'm trying to create a nested, relational backbone project but I'm really struggling. The rough idea of what I'm trying to do is shown below but I was under the impression upon calling fetch() on Client, a number of bookings would automatically be created based on the bookings being returned as JSON.</p>\n\n<p>The format of my JSON can be seen beneath the outline of the MVC:</p>\n\n<pre><code>/****************************************************\n/* CLIENT MODEL - Logically the top of the tree\n/* has a BookingsCollection containing numerous Booking(s)                                                                             \n/*  Client\n/*      -Bookings               [BookingsCollection]\n/*          -Booking            [Booking]\n/*          -Booking            [Booking]\n/*****************************************************/\nvar Client = Backbone.RelationalModel.extend({\n\n    urlRoot: '/URL-THAT-RETURNS-JSON/',\n\n    relations: [\n        {\n            type: Backbone.HasMany,\n            key: 'Booking',\n            relatedModel: 'Booking',\n            collectionType: 'BookingsCollection'\n        }\n    ],\n\n    parse: function (response) {\n\n    },\n\n    initialize: function (options) {\n        console.log(this, 'Initialized');\n    }\n\n});\n\n\nvar Booking = Backbone.RelationalModel.extend({\n\n    initialize: function (options) {\n        console.log(this, 'Initialized');\n    }\n\n});\n\nvar BookingsCollection = Backbone.Collection.extend({\n\n    model: Booking\n\n});\n</code></pre>\n\n<p><img src=\"http://i.stack.imgur.com/f3owB.jpg\" alt=\"Approximate JSON being returned\"></p>\n\n<p>Any help outlining what I'm doing wrong would be massively appreciated.</p>\n\n<p>Thanks</p>\n\n<p>EDIT</p>\n\n<p>Thanks for taking the time to post the feedback, it's exactly what I was hoping for.</p>\n\n<p>Is it the case that the JSON physically defines the actual attributes of models if you don't go to the effort of setting attributes manually? \nIn other words, if the JSON I get back is as you have suggested above, would Backbone simply create a Client object (with the 4 attributes id, title, firstname &amp; surname) as well as 2 Booking objects (each with 4 attributes and presumably each members of the BookingsCollection)?</p>\n\n<p>If this is the case, what is the format for referencing the attributes of each object? When I set up a non-backbone-relational mini-app, I ended up in a situation whereby I could just reference the attributes using Client.Attribute or Booking[0].EventDate for example. I don't seem to be able to do this with the format you have outlined above.</p>\n\n<p>Thanks again.</p>\n",
            "last_activity_date": 1418324695,
            "question_id": 11316782,
            "score": 3,
            "tags": [
                "javascript",
                "backbone.js",
                "backbone-relational"
            ],
            "title": "Backbone-Relational related models not being created"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I don't have first hand experience with modal stuff. Essentially your issue is you are throwing on an ARIA role, and kind of expect it to work. You need to do more than that. You need to keep the following in mind:</p>\n\n<ul>\n<li>Once the link/button is pressed, move focus to the modal window/dialog/popup. Most modal elements are simply a <code>&lt;div&gt;</code>. You can give the<code>&lt;div&gt;</code> an attribute of <code>tabindex=\"-1\"</code>.</li>\n<li>Trap focus inside the modal window.</li>\n<li>Allow the user to press escape to close</li>\n<li>When closed, move focus back to link/button</li>\n</ul>\n\n<p><strong>Resources</strong> </p>\n\n<ul>\n<li><a href=\"http://www.456bereastreet.com/archive/200910/lightboxes_and_keyboard_accessibility/\" rel=\"nofollow\">keyboard accessibility with lightboxes</a> </li>\n<li><a href=\"http://ux.stackexchange.com/questions/18050/how-can-one-improve-accessibility-of-modal-windows-in-a-browser\">Similar question at UX StackExchange</a> </li>\n<li><a href=\"http://webhipster.com/testing/accessibility/modal-dialog-latest/\" rel=\"nofollow\">Demo modal dialog</a> - I think this is still under dev (I haven't heard from the author for a while). </li>\n<li><a href=\"http://groups.google.com/group/jquery-a11y/msg/0f99654f279868e0\" rel=\"nofollow\">jQuery Google Group thread</a>\n(Hans is the top guy or one of, for this stuff)</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>I'm attempting to make my ember.js app more accessible and am doing my testing via Apple's built-in VoiceOver utility. I'm adding <a href=\"http://docs.emberjs.com/symbols/Ember.View.html#ariaRole\" rel=\"nofollow\">ariaRoles</a> as necessary to my views and tacking on aria-label attributes where the purpose of navigation is unclear.  I'm having issues getting the focus on modal alerts, as the reader's focus stays on the page items behind the modal.  Does anyone have experience handling focus on modal alerts for screen readers? I'm under the impression that declaring \"ariaRole:'alertDialog'\" in my view sets the appropriate role for such a dialog, and it is possible that the focus behavior for this role differs between screen readers. Thanks!!!  </p>\n",
            "last_activity_date": 1373287779,
            "question_id": 11298525,
            "score": 3,
            "tags": [
                "javascript",
                "accessibility",
                "ember.js",
                "wai-aria"
            ],
            "title": "Setting focus of a screen reader on a modal alert in ember"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Before you start calculating exact differences in distances, you can at least compare the x/y positions of the centers v.s. the radii. That information is implicitly available in the circle and requires just some simple comparisons and addition/subtraction.</p>\n\n<p>That'll let you compare the simple distances in x/y between all the circle pairs, and throw away any that are obviously not collision candidates, e.g.</p>\n\n<pre><code>abs(x2 - x1) &gt; (r2 + r1)\nabs(y2 - y1) &gt; (r2 + r1)\n</code></pre>\n\n<p>... if the distance in X or Y between the circle centers is greater than the sum of the radii, then they cannot be colliding.</p>\n\n<p>Once you've whittled down the possible colliders, THEN you do the formal exact cartesian distance, which is where the 'heavy' multiplication/division stuff comes in.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Consider storing the coordinates of the circles' centers in a quad tree, then you would only need to check whether the circle intersects with other circles in that quadrant or adjacent quadrants.</p>\n\n<p>The one caveat is that you need to sure the quad tree's leaf nodes have a minimal diameter of the radius of your largest circle, otherwise you will have to check more than just adjacent nodes for intersection.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Quadtree\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Quadtree</a></p>\n\n<p>If your circles are well scattered, then a simple optimization you can do is to store your circles sorted on the x or y axis, then you only need to check with circles who's x or y coordinate is within the radius of the circle.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The efficiency is going to be concerned with <em>the speed of the algorithms you are using</em>, for instance the speed of the square root algorithm that you calculate the distance with, and <em>your data structures</em> will determine the efficiency of memory, in addition to algorithms. Another way to speed up the calculations would be to reduce the precision of the distance calculations.</p>\n\n<p>The best method to detect if the circles are colliding is, as you said, to store the circles' center coordinates and radius in variables and compute whether or not the distance between the centers is equivalent to 0 when the radii are subtracted.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I highly recommend Keith Peter's <strong><em>AdvancED ActionScript 3.0 Animation</em></strong> book, where you can find the concrete implementation of Quadtree algorithm in Actionscript. </p>\n\n<p>Here are the basic steps:</p>\n\n<ul>\n<li><p>First create a two dimensional grid and scatter all the balls randomly across the field.</p>\n\n<pre><code>private function createGrids():void {\n    _grids = new Array();\n    for (var i:int = 0; i&lt; stage.stageWidth / GRID_SIZE; i++) {\n        _grids[i] = new Array();\n        for (var j:int = 0; j&lt; stage.stageHeight / GRID_SIZE; j++) {\n            _grids[i][j] = new Array();\n        }\n    }\n}\n</code></pre></li>\n<li><p>Assign balls to grid cells</p>\n\n<pre><code>private function assignBallsToGrid():void {\n    for (var i:int = 0; i&lt; numBalls; i++) {\n        var ball:Ball = Ball(_balls[i]);\n        var xpos:int = Math.floor(ball.x / GRID_SIZE);\n        var ypos:int = Math.floor(ball.y / GRID_SIZE);\n        _grids[xpos][ypos].push(ball);\n    }\n}\n</code></pre></li>\n<li><p>Check if two balls are colliding in a single cell, then check the balls in adjacent cells. As Charles Ma mentioned the only consideration here the grid cells dimension must be greater or equal to the largest ball diameter.</p>\n\n<pre><code>private function checkOneCell(x1:Number, y1:Number):void {\n    var _cell:Array = _grids[x1][y1] as Array;\n    for (var i:int = 0; i&lt; _cell.length-1; i++) {\n        var ballA:Ball = _cell[i] as Ball;\n        for (var j:int = i+1; j&lt; _cell.length; j++) {\n            var ballB:Ball = _cell[j] as Ball;\n            checkCollision(ballA, ballB);\n        }\n    }\n}\n\nprivate function checkTwoCell(x1:Number, y1:Number, x2:Number, y2:Number):void {\n    if (x2 &lt; 0) { return } \n    if (x2 &gt;= _grids.length) { return }\n    if (y2 &gt;= _grids[x2].length) { return }\n\n    var _cell0:Array = _grids[x1][y1] as Array;\n    var _cell1:Array = _grids[x2][y2] as Array;\n\n    for (var i:int = 0; i&lt; _cell0.length; i++) {\n        var ballA:Ball = _cell0[i] as Ball;\n        for (var j:int = 0; j&lt; _cell1.length; j++) {\n            var ballB:Ball = _cell1[j] as Ball;\n            checkCollision(ballA, ballB);\n        }\n    }\n}\n\nprivate function checkCollision(ballA:Ball, ballB:Ball):void {\n    var dx:Number = ballB.x - ballA.x;\n    var dy:Number = ballB.y - ballA.y;\n    var dist:Number = Math.sqrt(dx*dx + dy*dy);\n    if (dist &lt; ballB.radius + ballA.radius) {\n                     // do something\n    }\n}\n</code></pre></li>\n<li><p>Here is how it looks like the main method:</p>\n\n<pre><code>private function checkBallsCollision():void {\n    for (var i:int = 0; i&lt; _grids.length; i++) {\n        for (var j:int = 0; j&lt; _grids[i].length; j++) {\n            checkOneCell(i, j);\n\n            checkTwoCell(i, j, i+1, j);\n            checkTwoCell(i, j, i, j+1);\n            checkTwoCell(i, j, i-1, j);\n            checkTwoCell(i, j, i+1, j+1);\n        }\n    }\n}\n</code></pre></li>\n</ul>\n\n<p><strong>NOTE:</strong></p>\n\n<p>The code is written in Actionscript but can be implemented quite easily in Javascript.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to check if circles are colliding with each other.</p>\n\n<p>I know I can do this by getting a distance between the two centers of the circles and subtracting the radius of each circle from that distance and seeing if 'distance' is > 1.</p>\n\n<p>How can I do this efficiently though with say, 1000 circles? Maybe I can somehow get the nearest 20 circles or something like that and check these? I don't know how I would begin to go about that efficiently though either..</p>\n\n<p>Any ideas?</p>\n\n<p>Here is an example:</p>\n\n<p><a href=\"http://experiments.lionel.me/blocs/\" rel=\"nofollow\">http://experiments.lionel.me/blocs/</a></p>\n",
            "last_activity_date": 1341240637,
            "question_id": 11278783,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "html5",
                "canvas"
            ],
            "title": "Circle Collision Detection HTML5 Canvas"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You could use the timeupdate event listener.</p>\n\n<p>Save the start time and duration time to variable after <code>loadedmetadata</code> event.</p>\n\n<pre><code>// Set video element to variable\nvar video = document.getElementById('player1');\n\nvar videoStartTime = 0;\nvar durationTime = 0;\n\nvideo.addEventListener('loadedmetadata', function() {\n  videoStartTime = 2;\n  durationTime = 4;\n  this.currentTime = videoStartTime;\n}, false);\n</code></pre>\n\n<p>If current time is greater than start time plus duration, pauses the video.</p>\n\n<pre><code>video.addEventListener('timeupdate', function() {\n  if(this.currentTime &gt; videoStartTime + durationTime){\n    this.pause();\n  }\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>There are a lot of nuances to using the javascript solution proposed by Paul Sham. A much easier course of action is to use the <a href=\"http://www.w3.org/TR/media-frags/\" rel=\"nofollow\">Media Fragment URI Spec</a>. It will allow you to specify a small segment of a larger audio or video file to play. To use it simply alter the source for the file you are streaming and add <code>#t=start,end</code> where <code>start</code> is the start time in seconds and <code>end</code> is the end time in seconds.</p>\n\n<p>For example:</p>\n\n<pre><code>var start = document.getElementById('startInput').value;\nvar end = document.getElementById('endInput').value;\n\ndocument.getElementById('videoPlayer').src = 'http://www.example.com/example.ogv#t='+start+','+end;\n</code></pre>\n\n<p>This will update the player to start the source video at the specified time and end at the specified time. Browser support for media fragments is also pretty good so it should work in any browser that supports HTML5.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you are able to set start time and end time of video while setting the video url.\nyou can specify the start and end time in the url itself like</p>\n\n<pre><code>src=\"future technology_n.mp4#t=20,50\"\n</code></pre>\n\n<p>it will play from 20th second to 50th second.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>We have a video (13 minutes long) which we would like to control using HTML5.  We want to be able to let our users control and select the parts of the video they want to play.  Preferably this control would be through 2 input fields.  They would input start time (in seconds) in first box and input duration to play (in seconds) in second box.  For example, they might want to start the video 10 seconds in and play for 15 seconds.  Any suggestions or guidance on the Javascript needed to do this?</p>\n\n<p><em>Note:</em> I have found the following:</p>\n\n<ul>\n<li><a href=\"http://stackoverflow.com/questions/5981427/start-html5-video-at-a-particular-position-when-loading\">Start HTML5 video at a particular position when loading?</a> </li>\n</ul>\n\n<p>But it addresses only starting at a particular time, and nothing with playing the video for a specified length of time.</p>\n",
            "last_activity_date": 1416220181,
            "question_id": 11212715,
            "score": 3,
            "tags": [
                "javascript",
                "html5-video"
            ],
            "title": "Control start position and duration of play in HTML5 video"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I guess you could. Psuedocode:</p>\n\n<blockquote>\n  <ul>\n  <li>Check if the images have the same width and height. If not, they can't be the same.  </li>\n  <li>Create a canvas that will fit both images side-by-side.  </li>\n  <li>Draw the images on the canvas.  </li>\n  <li>Compare them pixel-for-pixel. This can be done fairly easily using code borrowed from  <a href=\"http://stackoverflow.com/questions/667045/getpixel-from-html-canvas\">getPixel from HTML Canvas?</a>  </li>\n  <li>Remember to break out of loops as soon as a single pixel doesn't match.  </li>\n  <li>Your worst-case runtime will be O(wh), which occurs when the images are actually equal.  </li>\n  </ul>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>Check images sizes if their sizes equal or not. </p>\n\n<p>And do not forget to check widths and heights also.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/1310378/determining-image-file-size-dimensions-via-javascript\">To find image file size</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Tyler is correct, you can't access the filesystem without the users' consent.</p>\n\n<p>But if you want to compare images that are available to the javascript code, for example by using an url or using an upload field, you should check out this SO question: <a href=\"http://stackoverflow.com/questions/6066111/compare-two-images-in-javascript\">Compare two Images in JavaScript</a></p>\n\n<p>Basically, you convert the image to a <code>canvas</code> element and use the <code>base64</code> value to compare the two, the same way people confirm if a document is \"valid\" by checking the checksum of that document.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Is there a way to compare two image files that have different filenames?  So I am looking to see if they are equal with javascript.  Is this possible?</p>\n\n<p>The use for this:\nI have a gallery of images that needs to pop up in the lightbox.  When the lightbox opens, I am hooking into the callback to check for the duplicate images and when found, remove them from the lightbox gallery so users are not seeing repeated images.</p>\n",
            "last_activity_date": 1340381967,
            "question_id": 11159947,
            "score": 3,
            "tags": [
                "javascript",
                "image"
            ],
            "title": "Possible to compare two images in Javascript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>This is a quick proof of concept that works, I'm looking at something similar and was hoping to get the name automatically but I'm not sure if that's possible quite yet but this at least allows manual population of the tooltip text.</p>\n\n<p>The key factors are to create your table with the required columns and then apply a <a href=\"https://developers.google.com/chart/interactive/docs/reference#patternformatter\">PatternFormat</a> to get the tooltip as you want it then create a data view with only those columns that are required for the data binding.</p>\n\n<pre><code>function drawVisualization() {\n\n      var data = new google.visualization.DataTable();\n      data.addColumn('string', 'Country');\n      data.addColumn('number', 'Value');\n      data.addColumn('string', 'Display');\n\n      data.addRows([\n        ['Germany', 200, 'Germany'],\n        ['United States', 300, 'USA'],\n        ['Brazil', 400, 'Brasil'],\n        ['Canada', 500, 'Canada'],\n        ['France', 600, 'France'],\n        ['RU', 700, 'Russia']\n      ]);\n\n      var geochart = new google.visualization.GeoChart(\n          document.getElementById('visualization'));\n\n      var formatter = new google.visualization.PatternFormat('{1}');  \n      formatter.format(data, [0, 2]);\n\n      var view = new google.visualization.DataView(data);\n      view.setColumns([0, 1]);  \n\n      geochart.draw(view, {width: 556, height: 347});\n    }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>From my experience there are several problems with ISO 3166-2 apart from the codes being unknown to most mortals.</p>\n\n<ol>\n<li><p>There seems to be no location where a machine-processable up to date version can be found freely available.</p></li>\n<li><p>The assignments keep changing except in the most stable (typically federal) countries like US and Canada. There are machine-processable but out of date versions freely available.</p></li>\n<li><p>The country names that people use are not always the official (somewhat long names). </p></li>\n<li><p>The region names in some countries do not correspond to local views of what the regions truly are (far worse at the subregion level).</p></li>\n<li><p>The (sub)region names are a weird mixture of English or the local language.</p></li>\n<li><p>For those applications still ASCII-focussed there are not official ASCII fallbacks of the Unicode names.</p></li>\n</ol>\n\n<p>I do not have an algorithmic solution to this but my pragmatic solution to the country-to-code issue is to have a long look-up table to handle the usual variants of country names and then a reverse lookup from code into an acceptable \"canonical\" form. Because of #6 in my case I ensure that the canonical forms are ASCII. I do a similar task for languages in ISO 639-1 and -3.</p>\n\n<p>Making such a list for all regions in ISO 3166-2 is a VERY long task - at present I am focussing on the OECD, BRIC and EU countries as that gets one a long way.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm using the <a href=\"https://developers.google.com/chart/interactive/docs/gallery/geochart\" rel=\"nofollow\">Google Visualization Geochart API</a> to create a map of a country's regions. I provide the <a href=\"http://en.wikipedia.org/wiki/ISO_3166-2\" rel=\"nofollow\">ISO 3266-2 Country subdivision code</a> and get the correct results. However showing the ISO 3266-2 codes as label in the chart is a bad user experience. So I would like to provide a custom label. Take this as an example:</p>\n\n<pre><code>  function drawVisualization() {\n    var data = google.visualization.arrayToDataTable([\n      ['Country', 'Popularity'],\n      ['DE-BY', 200],\n      ['DE-NW', 500]\n    ]);\n\n    var geochart = new google.visualization.GeoChart(\n          document.getElementById('visualization'));\n    geochart.draw(data, {width: 556, height: 347, region: 'DE', resolution: 'provinces'});\n  }\n</code></pre>\n\n<p>[Try it on the <a href=\"https://code.google.com/apis/ajax/playground/?type=visualization#geo_chart\" rel=\"nofollow\">Code Playground]\n</a></p>\n\n<p>I would like to provide 'DE-BY' but have 'Bavaria' as label. It is necessary for me to use the ISO 3266-2 codes as although Google writes that an</p>\n\n<blockquote>\n  <p>English text equivalent (for example, \"US-NJ\" or \"New Jersey\")</p>\n</blockquote>\n\n<p>is allowed, it is very unreliable and doesn't work with the example 'Bavaria'.</p>\n",
            "last_activity_date": 1409235526,
            "question_id": 11098153,
            "score": 3,
            "tags": [
                "javascript",
                "google-visualization"
            ],
            "title": "Geochart: Using ISO 3266-2 region code but show real name"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You just need to assign function with prompt to <em>window.onbeforeunload</em> event, e.g.:</p>\n\n<pre><code>window.onbeforeunload =\n    function() {\n        return \"Please make sure your data is saved.\"\n    }\n</code></pre>\n\n<p>And the browser will automatically prompt the user with 2 choices: \"Leave this page\" and \"Stay on this page\"</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>After reading <a href=\"http://vidasp.net/jQuery-unload.html\" rel=\"nofollow\">http://vidasp.net/jQuery-unload.html</a>\n and <a href=\"http://stackoverflow.com/questions/1802930/setting-onbeforeunload-on-body-element-in-chrome-and-ie-using-jquery\">Setting onbeforeunload on body element in Chrome and IE using jQuery</a>, we hook into both window.onbeforeunload and bind to $(window).unload.  Here's a jsFiddle with an example:  <a href=\"http://jsfiddle.net/jtaylor/SqwV2\" rel=\"nofollow\">http://jsfiddle.net/jtaylor/SqwV2</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want to remind users to save data on certain pages before navigating away from them (by clicking other links on the page) using the jquery ui dialog box. I know I need to use the onbeforeunload event to detect that a user is leaving the current page, then display the dialog. However, how do I allow navigation to continue to the selected url when the user clicks \"Yes\" on the dialog box, and stay on the current page when the user clicks \"No\"?</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1339793030,
            "question_id": 11057224,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "asp.net",
                "asp.net-mvc",
                "jquery-ui"
            ],
            "title": "jquery prompt to save data onbeforeunload"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>What's going on is that JSON.stringify only looks at the object's own properties by default.</p>\n\n<p>And per DOM specs all DOM properties actually live on the object's prototype.</p>\n\n<p>IE and Firefox implement the spec correctly by putting the properties on the prototype.  Chrome and Safari do not: they put the properties directly on the object.  That makes this case work, but breaks other things (e.g. the ability to hook the property getters and setters)....</p>\n\n<p>There's talk of adding toJSON methods to some DOM objects to give them more reasonable behavior for JSON.stringify.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I'm trying to get Firefox 13 to turn a geolocation position object into a JSON string, but it's returning an empty string rather than the correct string representation of my JSON object. This is working fine in the latest versions of Chrome and Safari, as well as the Android browser. Here's my code:</p>\n\n<pre><code>if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition( \n        function (position) {  \n            //Success handler\n            console.log(position); //This outputs the position object to the console\n            var gps = JSON.stringify(position); \n            console.log(gps); //This outputs an empty string!\n        }, \n        function (error)\n        {   \n            //Handle error\n        },\n        { maximumAge: 3000, timeout: 60000, enableHighAccuracy: true }\n        );\n}\nelse {\n    //Handle error\n}\n</code></pre>\n\n<p>In Chrome, this outputs a geolocation object, and this string: </p>\n\n<pre><code>\"{\"coords\":{\"latitude\":XYZ,\"heading\":null,\"accuracy\":40,\"altitudeAccuracy\":null,\"altitude\":null,\"longitude\":XYZ,\"speed\":null},\"timestamp\":1339712284200}\"\n</code></pre>\n\n<p>However, in Firefox 13 the output is just an empty string, even though the geolocation object that's printed to the console is to all intents and purposes the same as the object displayed by Chrome. Any ideas on what's going wrong here? <a href=\"https://github.com/sebastienblanc/geolocation/issues/6\" rel=\"nofollow\">This</a> seems to be a related issue, but I don't see a solution there either. IE9 displays the same behaviour, by the way.</p>\n",
            "last_activity_date": 1339737474,
            "question_id": 11042212,
            "score": 3,
            "tags": [
                "javascript",
                "json",
                "firefox",
                "geolocation",
                "internet-explorer-9"
            ],
            "title": "FF 13, IE 9: JSON stringify / geolocation object"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You are defining <code>type=\"application/x-shockwave-flash\"</code> in the <code>object tag</code> but where are you defining the fallback for <code>iOS</code>. If you trying to do target <code>iOS</code> specifically then why not use <code>video</code> tag. The documentation given in <a href=\"http://websitehelpers.com/video/html.html\" rel=\"nofollow\">http://websitehelpers.com/video/html.html</a> will help you to play video in <code>iOS</code> For <code>iOS</code> you need to define the <code>video tag</code> otherwise it does not understand or you can use any one flash player like <code>flowplayer</code> which has a fallback support for <code>iOS</code>. You can refer the documentation from <a href=\"http://flash.flowplayer.org/plugins/javascript/ipad.html\" rel=\"nofollow\">http://flash.flowplayer.org/plugins/javascript/ipad.html</a>. Try and let me know if this solves your issue</p>\n\n<p><strong>Update :</strong></p>\n\n<p>Try the following <code>&lt;iframe id=\"frame\" title=\"Youtube Video\" width=\"320\" height=\"194\" scrolling=\"no\" src='http://www.youtube.com/embed/J_DV9b0x7v4' frameborder=\"1\"&gt;&lt;/iframe&gt;</code> . This works well in <code>desktop</code> and in <code>ipad</code>. <code>J_DV9b0x7v4</code> is the video you want to play. Check the demo from <a href=\"http://jsfiddle.net/AAUgG/\" rel=\"nofollow\">http://jsfiddle.net/AAUgG/</a> in <code>iOS</code>. This should solve the purpose as you desired.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Use the new <code>&lt;iframe&gt;</code> embed code:</p>\n\n<pre><code>&lt;iframe width=\"420\" height=\"315\" src=\"http://www.youtube.com/embed/dQw4w9WgXcQ\" frameborder=\"0\" allowfullscreen&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>YouTube will detect what platform the user is using and serve the appropriate code, i.e. Flash for desktop users, <code>&lt;video&gt;</code> for iOS, etc.</p>\n\n<p>You can find this embed code (in any YouTube video page) by clicking on the Share button, then the Embed button.</p>\n\n<hr>\n\n<p><strong>Update:</strong> You are <strong>not</strong> going to find a general solution that will play any video from any provider on iOS devices. The provider has to specifically encode the video so that is can be played by the <code>&lt;video&gt;</code> element in Safari.</p>\n\n<p>I suggest:</p>\n\n<ul>\n<li><p>Find the embed code for every video site you support (not the FLV source URL, the embed code that the site gives to users).</p></li>\n<li><p>If the site uses <code>&lt;iframe&gt;</code> then they probably support playback on iOS. Use this code verbatim.</p></li>\n<li><p>If the site uses a Flash player, use <a href=\"https://code.google.com/p/swfobject/\" rel=\"nofollow\">SWFObject</a> to embed the video instead of their <code>&lt;embed&gt;</code> code. If SWFObject detects that the browser does not support Flash, it can show some alternate content instead (e.g. a message like \"Sorry, you need to have Flash to view this video\").</p></li>\n<li><p>Use a giant <code>switch</code> statement:</p>\n\n<pre><code>switch (videoType):\ncase 'YouTube':\n    // use YouTube iframe code\n    break;\n\ncase 'Vimeo':\n    // use Vimeo iframe code\n    break;\n\n// ...on and on...\n\ndefault:\n    // use SWFObject to embed\n}\n</code></pre></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>Am trying to play YouTube and other videos by embedding it in the HTML source for displaying them in iOS.</p>\n\n<p>Both <code>&lt;embed&gt;</code> and <code>&lt;object&gt;</code> technique works, but <strong>none of them are capable of calling callback functions when the video fails to play or if the URL passed to it is erroneous</strong> (and hence it could not play it).</p>\n\n<p>I am using this HTML code with JavaScript for appropriate callbacks:</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;video test&lt;/title&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction errorEncountered()\n{\n    alert('Found error');\n}\nfunction loadingCompleted()\n{\n    alert(\"loading completed\");\n    //document.getElementById('youtubeObject').onerror=\"errorEncountered()\";\n    //alert(document.getElementById('youtubeObject'));\n}\nfunction clickCompleted()\n{\n    alert(\"Clicked on embedded object\");\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body &gt;\n&lt;div&gt;\n  &lt;object\n    id=\"youtubeObject\"\n    type=\"application/x-shockwave-flash\"\n    data=\"http://asdfasdf\"\n    width=\"643\"\n    height=\"400\"\n    onload=\"loadingCompleted()\"\n    onerror=\"errorEncountered()\"\n    onclick=\"clickCompleted()\"&gt;\n    &lt;param name=\"movie\" value=\"http://asdfasdf\" /&gt;\n    &lt;param name=\"onError\" value=\"errorEncountered()\" /&gt;\n    &lt;!-- &lt;param name=\"onload\" value=\"loadingCompleted()\" /&gt; --&gt;\n    &lt;param name=\"allowScriptAccess\" value=\"always\" /&gt;\n    &lt;param name=\"enablejsapi\" value = \"1\" /&gt;\n    &lt;p&gt;\n    Couldn't load the video\n    &lt;/p&gt;\n  &lt;/object&gt;\n&lt;/div&gt;\n\n&lt;!-- document.getElementById('youtubeObject').onerror=\"errorEncountered()\"; --&gt;\n&lt;!-- document.getElementById('youtubeObject').addEventListener('onerror',function(){alert('error playing video')},true); --&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;!-- Actual Youtube URL \"http://www.youtube.com/v/J_DV9b0x7v4\" --&gt;\n</code></pre>\n\n<p>Replacing the erroneous URL with the actual YouTube URL plays the video. But erroneous URL should trigger the JavaScript functions, that's not happening.</p>\n\n<p>I have checked the <a href=\"http://www.w3schools.com/tags/tag_object.asp\" rel=\"nofollow\">documentation of <code>&lt;object&gt;</code></a> and the <a href=\"http://wap.w3schools.com/jsref/dom_obj_event.asp\" rel=\"nofollow\">corresponding events</a>. The <a href=\"http://www.w3schools.com/tags/tag_object.asp\" rel=\"nofollow\"><code>&lt;object&gt;</code></a> tag docs says that the events it responds to does not has <a href=\"http://wap.w3schools.com/jsref/event_onerror.asp\" rel=\"nofollow\">onerror</a> or <a href=\"http://wap.w3schools.com/jsref/event_onload.asp\" rel=\"nofollow\">onload</a>.\nBut on the other hand, the <a href=\"http://wap.w3schools.com/jsref/event_onerror.asp\" rel=\"nofollow\">onerror event object</a> docs state that it is supported by <code>&lt;img&gt;</code>, <code>&lt;object&gt;</code>, <code>&lt;script&gt;</code> &amp; <code>&lt;style&gt;</code> tags.</p>\n\n<p>So, I tried plugging in \"onerror\" event with both passing it as a <code>&lt;param&gt;</code> to the <code>&lt;object&gt;</code> tag so that the plugin would handle it and alternatively, also tried it as a attribute of <code>&lt;object&gt;</code> tag (just trying my luck). The \"onclick\" attribute of object does respond but not the \"onerror\" and \"onload\".</p>\n\n<p>Though my question is, why doesn't the <code>&lt;param&gt;</code> passed to the plugin with onerror and onload would not trigger when a erroneous URL is passed to it?</p>\n\n<p>I tried with <a href=\"http://www.w3schools.com/tags/tag_embed.asp\" rel=\"nofollow\">embed tag</a>, but there is no scope of attaching onerror and onload handlers using <a href=\"http://www.w3schools.com/tags/tag_embed.asp\" rel=\"nofollow\">embed</a> tag.</p>\n\n<p>Is there a way to trigger JavaScript functions from within HTML (using embed or object technique) whenever video loading / playing fails?</p>\n\n<p>PS: I have stumbled upon some links discussing this issue, but none of them end up with a solution, that's why I started this new question, and I am doing this for a iOS-specific case.</p>\n\n<p><a href=\"http://stackoverflow.com/questions/9490529/detect-embed-tag-failing-to-load-video\">Detect &lt;embed&gt; tag failing to load video</a></p>\n\n<p><a href=\"http://www.webdeveloper.com/forum/showthread.php?t=590\" rel=\"nofollow\">http://www.webdeveloper.com/forum/showthread.php?t=590</a></p>\n\n<p>Thanks for any suggestions &amp; help.</p>\n\n<p><strong>Additions:</strong>\nThe alternative content loading in the tags between <code>&lt;object&gt;</code> &amp; <code>&lt;/object&gt;</code> will display the content in iPad simulator, but not on the device itself. Even this is one of the puzzles I am finding hard to crack.</p>\n\n<p>PS: I had already tried the  method, for youtube specific I have tried adding the onError callback, but it never triggers! Have used the normal youtube specified way where we can plug in onError callback for youtube: <a href=\"https://developers.google.com/youtube/iframe_api_reference#Loading_a_Video_Player\" rel=\"nofollow\">https://developers.google.com/youtube/iframe_api_reference#Loading_a_Video_Player</a></p>\n\n<p>Problem with the above is, we have to create a <code>YT.Player</code>and set the videoID to the object. This would make it impossible to play videos from other sources. So used a slightly unconventional way:</p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;video test&lt;/title&gt;\n&lt;script type=\"text/javascript\"&gt;\nfunction errorEncountered(event)\n{\n    alert('Found error');\n}\nfunction errorFound()\n{\n    alert('Found error');\n}\n&lt;/script&gt;\n&lt;script type='text/javascript' src='http://www.sandeshkadur.com/wp-content/themes/Gaia/js/video.js?ver=1.0'&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body id=\"mainBody\"&gt;\n&lt;iframe id = \"youtube_vid\" src=\"http://player.vimeo.com/video/28723846?color=ffffff\" frameborder=\"0\" width=\"640\" height=\"360\"&gt;&lt;/iframe&gt;\n\n&lt;!-- From https://groups.google.com/forum/#!msg/youtube-api-gdata/myLe-SdMZ6w/tziw7W2LBv4J --&gt;\n&lt;!-- &lt;iframe  id=\"youtube_vid\" src=\"asdfasdf\"&gt;&lt;/iframe&gt; --&gt;\n&lt;script&gt;\nvar player = document.getElementById(\"youtube_vid\");\nnew YT.Player(player, {\n            events: {\n                'onStateChange': function(){console.log(arguments)},\n                'onError': errorEncountered\n            }\n        });\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This though it plays the video properly, it dows not get error callbacks for Youtube links atleast!</p>\n",
            "last_activity_date": 1407741953,
            "question_id": 11028861,
            "score": 3,
            "tags": [
                "javascript",
                "iphone",
                "html",
                "ios",
                "cocoa-touch"
            ],
            "title": "&lt;embed&gt; or &lt;object&gt; tag video playback error handler - JavaScript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The only solution I can find is configuring apache to respect a certain order of cipher :</p>\n\n<pre><code>SSLCipherSuite !aNULL:!eNULL:!EXPORT:!DSS:!DES:!SSLv2:RC4-SHA:RC4-MD5:ALL\nSSLHonorCipherOrder on\n</code></pre>\n\n<p>for example. And Then in a PHP page (behind a https) display $_ENV['SSL_PROTOCOL']. Finally use the result in JS.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In Javascript, and for IE7,</p>\n\n<pre><code>(function(){\nvar key = \"HKCU\\\\Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Internet Settings\\\\SecureProtocols\";\nvar t = document.getElementById(\"detectREG_output\");\nvar Shell = new ActiveXObject(\"WScript.Shell\");\nvar value = Shell.RegRead(key);\nt.innerHTML = value;\n})();\n</code></pre>\n\n<p>This outputs a bitfield, with decimals equating to:</p>\n\n<p>168 = SSL 3.0, SSL 2.0, TLS 1.0 Enabled</p>\n\n<p>160 = SSL 3.0, TLS 1.0          Enabled</p>\n\n<p>40  = SSL 3.0, SSL 2.0  Enabled</p>\n\n<p>8 = SSL 2.0 Enabled</p>\n\n<p>0 = None are enabled</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/bb250503%28v=vs.85%29.aspx\" rel=\"nofollow\" title=\"MSDN on IE7 &amp; HTTPS\">MSDN on IE7 and HTTPS</a></p>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>Is there a way to check if a browser has TLS enabled?</p>\n\n<p>I'm limited to using HTML and Javascript. </p>\n",
            "last_activity_date": 1339702734,
            "question_id": 10985519,
            "score": 3,
            "tags": [
                "javascript",
                "html",
                "ssl"
            ],
            "title": "Detect if browser has TLS enabled"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Your second line should be:</p>\n\n<pre><code>ko.mapping.fromJS(result, {}, self.Model);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I have a class a class named Foo and Foo contains Model. I am doing a ko.applyBinding on Foo. The Foo class has a function which retrieves JSON from server and then I do:</p>\n\n<pre><code> self.Model = ko.mapping.fromJS(result);\n</code></pre>\n\n<p>where self is instance of Foo and result is JSON. This works 1st time. However, when 2nd item I retrieve data from server it just doesn't work.</p>\n\n<p>But if the above line to:</p>\n\n<pre><code> self.Model = ko.mapping.fromJS(result, {}, self);\n</code></pre>\n\n<p>it works.</p>\n\n<p>Can anybody tell me why is the 1st one not working and 2nd one works?</p>\n",
            "last_activity_date": 1339428494,
            "question_id": 10960479,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "asp.net-mvc",
                "asp.net-mvc-3",
                "knockout.js"
            ],
            "title": "Why is one ko.mapping.fromJS working and other one not?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>They're available only in the function they're declared in.</p>\n\n<p>Function scope is the only other scope in JavaScript, btw, unlike block-scoping in other <code>{}</code> languages.)</p>\n\n<p><em>Re: your edit</em> Don't be fooled--JS's <code>this</code> semantics are a bit irksome IMO--<code>this</code> may not be what you expect under a variety of circumstances.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Inside self-invoking anonymous function eg:</p>\n\n<pre><code>function() {\n    ....\n}()\n</code></pre>\n\n<p>All variables remain inside it and do not attach themselves to global object or <code>window</code>. Using that technique, there are patterns created such as <a href=\"http://addyosmani.com/resources/essentialjsdesignpatterns/book/\" rel=\"nofollow\">module/singleton pattern</a>.</p>\n\n<p>Notice that in JS, variables have <strong>function-level</strong> scope.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In JavaScript, all variables are assigned to some scope object. However, only the scope object of global variables is accessible in JavaScript in the browser through the <code>window</code> object. Variables in a function scope are assigned to some scope object used internally by the JavaScript runtime, but this cannot be accessed by the user.</p>\n\n<p>In another environment, global variables may be accessible as properties of another object (such as <code>GLOBAL</code> in <a href=\"http://nodejs.org/\" rel=\"nofollow\">node.js</a>) or may be inaccessible (such as application scripts running inside the Windows Script Host).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>To cite <a href=\"http://perfectionkills.com/understanding-delete/#execution_context\" rel=\"nofollow\">http://perfectionkills.com/understanding-delete/#execution_context</a>:</p>\n\n<blockquote>\n  <p>Every execution context has a so-called <code>Variable Object</code> associated\n  with it. Similarly to execution context, Variable object is an\n  abstract entity, a mechanism to describe variable instantiation. Now,\n  the interesing part is that variables and functions declared in a\n  source text are actually <em>added as properties of this Variable object</em>. </p>\n  \n  <p>When control enters execution context for Global code, a <code>Global object</code>\n  is used as a <code>Variable object</code>. This is precisely why variables or\n  functions declared globally become properties of a <code>Global object</code></p>\n</blockquote>\n\n<p>Yet, these <code>Variable Object</code>s are not accessible. The only non-internal one is the global object, <code>window</code> or <code>this</code> (in global context).</p>\n\n<p>The relevant section in the specification is <a href=\"http://es5.github.com/#x10\" rel=\"nofollow\">#10: Executable Code and Execution Contexts</a>.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<pre><code>var foo = 'bar';\nconsole.log(window.foo); // bar\n</code></pre>\n\n<p>Seems like variables get assigned as properties to <code>this</code>, but inside anonymous functions, <code>this</code> refers to the parent scope, but doesn't assign variables to the parent scope.</p>\n\n<pre><code>function() {\n    var foo = 'bar';\n}();\n\nwindow.foo; // undefined\n</code></pre>\n\n<p><strong>What object do variables get assigned to in non-global scopes?</strong></p>\n",
            "last_activity_date": 1339009672,
            "question_id": 10901284,
            "score": 3,
            "tags": [
                "javascript"
            ],
            "title": "Why do variables in the global scope get assigned to the window object?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>$('.one, .two, .three').click(function(){                             \n        $(this).toggleClass(\"one, two, three\");\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>The safest way would be to remove unwanted classes and add the required class:</p>\n\n<pre><code>// Switch to class 'three'\n$(this).removeClass('one').removeClass('two').addClass('three');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Example fiddle: <a href=\"http://jsfiddle.net/KdfEV/\">http://jsfiddle.net/KdfEV/</a></p>\n\n<p>This code will allow you to cycle through a sequence of defined classes</p>\n\n<pre><code>$('.one, .two, .three').click(function() {                             \n    this.className = {\n       three : 'one', one: 'two', two: 'three'\n    }[this.className];\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I have 3 images that I want to switch between. \nI put each one of them in a class &amp; change it's image in the css. \nI can now switch between 2 classes but when I add the third one the code doesn't work.\nAny class of them can be the starting one. </p>\n\n<pre><code>    $('.one').click(function(){                             \n        $(this).toggleClass(\"two\");\n        $(this).toggleClass(\"one\");\n\n    });\n     $('.two').click(function(){                             \n        $(this).toggleClass(\"one\");\n        $(this).toggleClass(\"two\");\n\n    });\n</code></pre>\n\n<p>When I add this line: </p>\n\n<pre><code>        $(this).toggleClass(\"three\"); \n</code></pre>\n\n<p>It doesn't toggle at all....</p>\n\n<p>Do you know a method in which I can put all of them in one function ?</p>\n\n<p>Thanks. </p>\n",
            "last_activity_date": 1338887374,
            "question_id": 10894250,
            "score": 3,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "toggleclass"
            ],
            "title": "Toggle between 3 classes using toggleclass"
        }
    ]
}
