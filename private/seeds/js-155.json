{
    "items": [
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>The problem is with the <code>z-index</code> of the <code>.modal</code></p>\n\n<p>Use this <strong>CSS</strong> markup:</p>\n\n<pre><code>.pac-container {\n    background-color: #FFF;\n    z-index: 20;\n    position: fixed;\n    display: inline-block;\n    float: left;\n}\n.modal{\n    z-index: 20;   \n}\n.modal-backdrop{\n    z-index: 10;        \n}\u200b\n</code></pre>\n\n<p>Also you can check the final demo <a href=\"http://jsfiddle.net/Y4WgX/14/\">here</a></p>\n\n<p><strong>ps:</strong> thanks to @lilina for that demo on jsfiddle.com</p>\n",
                    "is_accepted": true,
                    "score": 30
                },
                {
                    "body": "<p>In general, you can just bump up the .pac-container z-index to anything above 1050 and you won't need the other CSS overrides.</p>\n\n<p>I discovered that this problem also exists for jQuery UI dialogs. So in case it ends up being helpful to anyone else, here's a quick reference for where the Bootstrap/jQuery UI modals live in the z-plane:</p>\n\n<pre><code>jQuery UI Dialog - z-index: 1001\nBootstrap Modal - z-index: 1050\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Bootstrap's <code>.modal</code> <code>z-index</code> is by default 1050.</p>\n\n<p>jQuery UI's <code>.ui-autocomplete</code> <code>z-index</code> is by default 3.</p>\n\n<p>So put this on the CSS:</p>\n\n<pre><code>/* Fix Bootstrap .modal compatibility with jQuery UI Autocomplete,\nsee http://stackoverflow.com/questions/10957781/google-maps-autocomplete-result-in-bootstrap-modal-dialog */\n.ui-autocomplete {\n    z-index: 1051 !important;\n}\n</code></pre>\n\n<p>Works wonders! :)</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>In my scenario the .pac-container 's z-index value will be init and override to 1000, even I set in CSS. (possibly by google API?)</p>\n\n<p>my dirty fix</p>\n\n<pre><code>$('#myModal').on('shown', function() {\n     $(\".pac-container\").css(\"z-index\", $(\"#myModal\").css(\"z-index\"));\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Worked with Bootstrap 3:</p>\n\n<pre><code>.pac-container {\n  z-index: 1040 !important;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>.pac-container {\n    z-index: 1051 !important;\n}\n</code></pre>\n\n<p>did it for me</p>\n\n<p><a href=\"https://github.com/twbs/bootstrap/issues/4160\" rel=\"nofollow\">https://github.com/twbs/bootstrap/issues/4160</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I have a Google Maps Autocomplete input field inside a Twitter Bootstrap modal dialog and the autocomplete result is not displayed. However, if I press the down arrow key, it selects the next autocomplete result, so it seems that the autocomplete code works correctly, only that the result is not displayed correctly. Maybe it's hidden behind the modal dialog?</p>\n\n<p>Here's the screenshots :</p>\n\n<p><img src=\"http://i.stack.imgur.com/cdyNJ.png\" alt=\"Typing something in the autocomplete field gives nothing\">\nTyping something in the autocomplete field gives nothing</p>\n\n<p><img src=\"http://i.stack.imgur.com/BSjKa.png\" alt=\"Pressing the arrow down key gives the first result\">\nPressing the arrow down key gives the first result</p>\n\n<p>And the code :</p>\n\n<pre><code>&lt;div class=\"modal hide fade\" id=\"map_modal\"&gt;\n&lt;div class=\"modal-body\"&gt;\n    &lt;button type=\"button\" class=\"close\" data-dismiss=\"modal\"&gt;\u00d7&lt;/button&gt;\n    &lt;div class=\"control-group\"&gt;\n        &lt;label class=\"control-label\" for=\"keyword\"&gt;Cari alamat :&lt;/label&gt;\n        &lt;div class=\"controls\"&gt;\n            &lt;input type=\"text\" class=\"span6\" name=\"keyword\" id=\"keyword\"&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div id=\"map_canvas\" style=\"width:530px; height:300px\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"modal-footer\"&gt;\n    &lt;a href=\"#\" class=\"btn\" data-dismiss=\"modal\"&gt;Close&lt;/a&gt;\n    &lt;a href=\"#\" class=\"btn btn-primary\"&gt;Save changes&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$(\"#map_modal\").modal({\n    show: false\n}).on(\"shown\", function()\n{\n    var map_options = {\n        center: new google.maps.LatLng(-6.21, 106.84),\n        zoom: 11,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n    };\n\n    var map = new google.maps.Map(document.getElementById(\"map_canvas\"), map_options);\n\n    var defaultBounds = new google.maps.LatLngBounds(\n        new google.maps.LatLng(-6, 106.6),\n        new google.maps.LatLng(-6.3, 107)\n    );\n\n    var input = document.getElementById(\"keyword\");\n    var autocomplete = new google.maps.places.Autocomplete(input);\n    autocomplete.bindTo(\"bounds\", map);\n\n    var marker = new google.maps.Marker({map: map});\n\n    google.maps.event.addListener(autocomplete, \"place_changed\", function()\n    {\n        var place = autocomplete.getPlace();\n\n        if (place.geometry.viewport) {\n            map.fitBounds(place.geometry.viewport);\n        } else {\n            map.setCenter(place.geometry.location);\n            map.setZoom(15);\n        }\n\n        marker.setPosition(place.geometry.location);\n    });\n\n    google.maps.event.addListener(map, \"click\", function(event)\n    {\n        marker.setPosition(event.latLng);\n    });\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>I've tried my best to solve this on my own, but since I don't know the html&amp;css for the autocomplete result (inspect element gives nothing), I'm in a lost now. Any helps?</p>\n\n<p>Thanks before!</p>\n",
            "last_activity_date": 1419520263,
            "question_id": 10957781,
            "score": 15,
            "tags": [
                "javascript",
                "html",
                "css",
                "google-maps-api-3",
                "twitter-bootstrap"
            ],
            "title": "Google Maps Autocomplete Result in Bootstrap Modal Dialog"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><code>document.all</code> is available only on Internet Explorer, webkit and Opera.  </p>\n\n<p>On every other browser <code>all</code> is an undefined property of <code>document</code> object (and <code>undefined</code> is considered as a false value)</p>\n\n<p>As historical note: many (really many) years ago <code>document.all</code> was used to tell <code>Internet Explorer</code> from <code>Netscape Navigator</code> so if you meet a script that is checking <code>if (document.all) ...</code> I strongly suggest to find a better script :)</p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>document.all is not the only object that is falsy. Another question was posted about this and as the fiddle example in the answer show there is many falsy object in document. The amount varies depending on the browser used.</p>\n\n<p>See this question <a href=\"http://stackoverflow.com/questions/10348995/all-objects-in-javascript-are-truthy-per-specs-in-the-dom-one-object-is-not-wh\">All objects in javascript are truthy per specs, in the DOM one object is not. what object  is that?</a></p>\n\n<p>And a fiddle that display all falsy object of document <a href=\"http://jsfiddle.net/UTNkW/\" rel=\"nofollow\">http://jsfiddle.net/UTNkW/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Modern browsers don't implement this outdated thing any more. It was introduced by IE, but most of the others \"shim\" it to be compatible.</p>\n\n<p>To make browser detection possible (back in the old days you could tell IE apart from NN by testing for <code>document.all</code>) while supporting document.all syntax, other browsers made the \"weird\" implementation that <code>typeof document.all</code> returns undefined.</p>\n\n<pre><code>Opera&gt; document.all\n// prints the array-like object\nOpera&gt; typeof document.all\n\"undefined\"\nOpera&gt; Boolean(document.all)\nfalse\n</code></pre>\n\n<p>Before FF dropped support for it, it also showed weird behaviour as stated in <a href=\"http://old.nabble.com/FF-document.all-boolean-conversion%3A-please-vote-for-Rhino-patch-allowing-to-support-it-correctly-p14799030.html\" rel=\"nofollow\">this message</a>. You may find more internals in <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=412247\" rel=\"nofollow\">Mozilla bug #412247</a>.</p>\n\n<p>There is also a <a href=\"http://www.w3.org/Search/Mail/Public/advanced_search?keywords=typeof+document.all&amp;hdr-1-name=subject&amp;hdr-1-query=&amp;hdr-2-name=from&amp;hdr-2-query=&amp;hdr-3-name=message-id&amp;hdr-3-query=&amp;period_month=&amp;period_year=&amp;index-grp=Public__FULL&amp;index-type=t&amp;type-index=public-html&amp;resultsperpage=100&amp;sortby=date-asc\" rel=\"nofollow\">very long thread</a> in the W3C mailing list archive, beginning with <a href=\"http://lists.w3.org/Archives/Public/public-html/2009Jun/0546.html\" rel=\"nofollow\">http://lists.w3.org/Archives/Public/public-html/2009Jun/0546.html</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p><strong>Disclaimer:</strong> <a href=\"http://twitter.com/mathias/status/195818066016354305\">I\u2019m the guy who tweeted the question that led to this thread :)</a> It was a question I would ask and answer in my <a href=\"http://2012.front-trends.com/\">Front-Trends</a> talk. I wrote that tweet 5 minutes before going on stage.</p>\n\n<hr>\n\n<p>The question I was asking is the following.</p>\n\n<p>The ECMAScript spec <a href=\"http://es5.github.com/x9.html#x9.2\">defines <code>ToBoolean()</code> as follows</a>:</p>\n\n<p><img src=\"http://i.imgur.com/UxZzL.png\" alt=\"ToBoolean(condition), slide from my Front-Trends 2012 talk\"></p>\n\n<p>As you can see, all non-primitive objects (i.e. all objects that aren\u2019t a boolean, a number, a string, <code>undefined</code>, or <code>null</code>) are truthy as per the spec. However, in the DOM, there is one exception to this \u2014 a DOM object that is falsy. Do you know which one that is?</p>\n\n<p>The answer is <code>document.all</code>. <a href=\"http://www.whatwg.org/specs/web-apps/current-work/multipage/obsolete.html#dom-document-all\">The HTML spec</a> says:</p>\n\n<blockquote>\n  <p>The <code>all</code> attribute must return an <code>HTMLAllCollection</code> rooted at the <code>Document</code> node, whose filter matches all elements.</p>\n  \n  <p>The object returned for all has several unusual behaviors:</p>\n  \n  <p>The user agent must act as if the <code>ToBoolean()</code> operator in JavaScript\n  converts the object returned for <code>all</code> to the <code>false</code> value.</p>\n  \n  <p>The user agent must act as if, for the purposes of the <code>==</code> and <code>!=</code>\n  operators in JavaScript, the object returned for <code>all</code> is equal to the\n  <code>undefined</code> value.</p>\n  \n  <p>The user agent must act such that the <code>typeof</code> operator in JavaScript\n  returns the string <code>'undefined'</code> when applied to the object returned for\n  <code>all</code>.</p>\n  \n  <p>These requirements are a willful violation of the JavaScript\n  specification current at the time of writing (ECMAScript edition 5).\n  The JavaScript specification requires that the <code>ToBoolean()</code> operator\n  convert all objects to the <code>true</code> value, and does not have provisions\n  for objects acting as if they were <code>undefined</code> for the purposes of\n  certain operators. This violation is motivated by a desire for\n  compatibility with two classes of legacy content: one that uses the\n  presence of <code>document.all</code> as a way to detect legacy user agents, and\n  one that only supports those legacy user agents and uses the\n  <code>document.all</code> object without testing for its presence first.</p>\n</blockquote>\n\n<p>So, <code>document.all</code> is the only official exception to this ECMAScript rule. (In Opera, <code>document.attachEvent</code> etc. are falsy too, but that\u2019s not specced anywhere.)</p>\n\n<p>The above text explains why this was done. But here\u2019s an example code snippet that\u2019s very common on old web pages, and that will illustrate this further:</p>\n\n<pre><code>if (document.all) {\n  // code that uses `document.all`, for ancient browsers\n} else if (document.getElementById) {\n  // code that uses `document.getElementById`, for \u201cmodern\u201d browsers\n}\n</code></pre>\n\n<p>Basically, for a long time <code>document.all</code> was used in this way to detect old browsers. Because <code>document.all</code> is tested first though, more modern browsers that offer both properties, would still end up in the <code>document.all</code> code path. In modern browsers, we\u2019d prefer to use <code>document.getElementById</code>, of course, but since most browsers still have <code>document.all</code> (for other backwards compatibility reasons) the <code>else</code> would never be accessed if <code>document.all</code> was truthy. Had the code been written differently, this wouldn\u2019t be a problem:</p>\n\n<pre><code>if (document.getElementById) {\n  // code that uses `document.getElementById`, for \u201cmodern\u201d browsers\n} else if (document.all) {\n  // code that uses `document.all`, for ancient browsers\n}\n</code></pre>\n\n<p>But sadly, a lot of existing code does it the other way around.</p>\n\n<p>The simplest fix for this problem is to simply make <code>document.all</code> be falsy in browsers that still mimic it.</p>\n",
                    "is_accepted": false,
                    "score": 30
                },
                {
                    "body": "<p>Ok, call me a lazy @@@, vote me down and think I'm heretic, but since jQuery dropped $.browser I restarted using it for fast-and-dirty browser detection.</p>\n\n<p>Let me explain why and when: I don't want to check if a specific (sub)version of IE supports anything, nor I wish to add plugins or custom functions that not always work or need to be updated or even replaced every time Microsoft releases an update, I just want to know if I need to add a setTimeout to my init function to avoid IE to crash or freeze, and don't want to cripple more trustworthy browsers in the process.</p>\n\n<p>Please be honest, we all know that Microsoft will NEVER drop it (for backward compatibility with the IE-only-based big companies webapps, may the Lord forgive them) and the other browser vendors will follow, as it's always been since the (not-so-undeserved) death of Netscape.</p>\n\n<p>And IMHO, that's also an HTML5-compliant behaviour ;)</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p><code>document.all</code> is a non-primitive object in the DOM that is falsy.</p>\n\n<p>For example, this code doesn't do anything:</p>\n\n<pre><code>if (document.all) {\n    alert(\"hello\");\n}\n</code></pre>\n\n<p>Can someone explain why this is?</p>\n",
            "last_activity_date": 1369315078,
            "question_id": 10350142,
            "score": 15,
            "tags": [
                "javascript",
                "dom"
            ],
            "title": "Why is `document.all` falsy?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Not sure about safari, but Chrome has a command line switch for this:</p>\n\n<pre><code>chrome.exe --disable-web-security\n</code></pre>\n\n<p>You can view a full list (as of when it was posted!) of <a href=\"http://yuridejager.wordpress.com/2009/03/10/chromium-chrome-command-line-switches/\">command line options for chrome here</a>.</p>\n",
                    "is_accepted": true,
                    "score": 20
                }
            ],
            "body": "<p>Firefox and Internet Explorer both have settings where a user may enable forbidden cross-domain calls.</p>\n\n<p>Is there a similar setting or option in Safari and/or Chrome?</p>\n",
            "last_activity_date": 1365666866,
            "question_id": 2675298,
            "score": 15,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "safari",
                "google-chrome"
            ],
            "title": "Cross-domain AJAX calls in Safari and Chrome"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I would just do it without the //. Those are a throwback to the days when certain browsers (who shall remain nameless) had to be \"fooled\" into accepting closing brackets in script tags.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can put comments before the CDATA tags if you are worried that someone is using a very old browser that doesn't know about XHTML at all. But then you have to put a comment before the starting tag also to prevent it from causing a syntax error:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n//&lt;![CDATA[\n  // some code\n//]]&gt;\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Depends on the browser. Despite what some people think, w3schools is not related to the W3C, so their advice is to be taken with a grain of salt.</p>\n\n<p>Modern browsers should be able to recognise CDATA sections. MSIE OTOH doesn't, but that's okay, because it doesn't support XHTML at all (you're not sending XHTML content as text/html for MSIE compatibility, are you? then there'd be not much point to be using XHTML in the first place).</p>\n\n<p>The problem is that browsers that don't fully understand XHTML will treat CDATA directives as regular text.</p>\n\n<p>tl;dr: the full backwards-compatible solution would be something like:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;&lt;!--//&lt;![CDATA[\ncode goes here...\n//]]&gt;--&gt;&lt;/script&gt;\n</code></pre>\n\n<p>That is just repulsive. Either stick your JS in JS files if you want to keep the backwards compatibility or stick to HTML until you can afford ignoring MSIE 8 (which, going by how many years it took people to shun MSIE 6, might be around the year 2020).</p>\n\n<p>The HTML comment (<code>&lt;!-- --&gt;</code>) is only required for browsers that don't understand the script tags. The double slashes are required for browsers that don't understand CDATA sections (i.e. non-XHTML browsers like MSIE). The CDATA section is required for XHTML to avoid malformed XML (greater-than and less-than comparisons, for example, would break XML otherwise or need escaping, which is again a browser problem).</p>\n\n<p>For more information on the problem with sending XHTML as text/html, read: <a href=\"http://hixie.ch/advocacy/xhtml\" rel=\"nofollow\">http://hixie.ch/advocacy/xhtml</a></p>\n\n<p>EDIT: To correct myself, the full syntax for backwards support would actually be this according to Hixie:</p>\n\n<pre><code>  &lt;script type=\"text/javascript\"&gt;&lt;!--//--&gt;&lt;![CDATA[//&gt;&lt;!--\n    ...\n  //--&gt;&lt;!]]&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Thanks, Alohci.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<blockquote>\n  <p>According to www.w3.org/TR/xhtml1/#h-4.8 the CDATA section can be defined as: [no //]</p>\n</blockquote>\n\n<p>Yeah. In XHTML, they can. Proper XHTML, as read by an XML parser like when you serve <code>application/xhtml+xml</code> to a web browser that isn't IE.</p>\n\n<p>But probably you're actually serving as <code>text/html</code>, which means your browser isn't an \u2018XML processor\u2019 as referenced in that section. It's a legacy-HTML4 parser, so you have to abide by the <a href=\"http://www.w3.org/TR/xhtml1/#guidelines\">appendix C guidelines</a> and avoid any XML features that don't work in HTML4.</p>\n\n<p>In particular, the strings <code>&lt;![CDATA[</code> and <code>]]&gt;</code> in a <code>&lt;script&gt;</code> or <code>&lt;style&gt;</code> block are not special to an HTML4 parser, because in HTML4 those two elements are \u2018CDATA elements\u2019 where markup doesn't apply (except for the <code>&lt;/</code> ETAGO sequence to end the element itself). So an HTML4 parser will send those strings straight to the CSS or JavaScript engine.</p>\n\n<p>Because <code>&lt;![CDATA[</code> is not valid JS, you'll get a JavaScript syntax error. (The other answers are wrong here: it's <strong>not just very old browsers</strong>, but all HTML4 browsers, that will give errors for an uncommented CDATA section in script.)</p>\n\n<p>You use the <code>//</code> or <code>/*</code> comment markup to hide the content from the JavaScript or CSS engine. So:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;//&lt;![CDATA[\n    alert('a&amp;b');\n//]]&gt;&lt;/script&gt;\n</code></pre>\n\n<p>(Note the leading <code>//</code>; this was omitted in the W3Schools example code, and makes that example code not work at all. Fail. Don't trust W3Schools: they are nothing to do with W3C and  their material is often rubbish.)</p>\n\n<p>This is read by an HTML parser as:</p>\n\n<ul>\n<li>Open-tag <code>script</code> establishing CDATA content until the next ETAGO</li>\n<li>Text <code>//&lt;![CDATA[\\n    alert('a&amp;b');\\n//]]&gt;</code></li>\n<li>ETAGO and close-tag <code>script</code></li>\n<li>-> resultant content sent to JavaScript engine: <code>//&lt;![CDATA[\\nalert('a&amp;b');\\n//]]&gt;</code></li>\n</ul>\n\n<p>But by an XML parser as:</p>\n\n<ul>\n<li>Open-tag <code>script</code> (no special parsing implications)</li>\n<li>Text content <code>//</code></li>\n<li>Open CDATA section establishing CDATA content until the next <code>]]&gt;</code> sequence</li>\n<li>Text <code>\\n    alert('a&amp;b');\\n//</code></li>\n<li>Close CDATA section</li>\n<li>Close-tag <code>script</code></li>\n<li>-> resultant content sent to JavaScript engine: <code>//\\nalert('a&amp;b');\\n//</code></li>\n</ul>\n\n<p>Whilst the parsing process is quite different, the JS engine ends up with the same effective code in each case, as thanks to the <code>//</code>\u200bs the only difference is in the comments.</p>\n\n<p>Note this is a very different case to the old-school:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;&lt;!--\n    alert('a&amp;b');\n//--&gt;&lt;/script&gt;\n</code></pre>\n\n<p>which was to hide script/style content so that it didn't get written onto the page in browsers that didn't understand <code>&lt;script&gt;</code> and <code>&lt;style&gt;</code> tags. This will not generate a JavaScript/CSS error, because a hack was put it at a different level: it is a syntactical feature of the CSS and JavaScript languages <em>themselves</em> that <code>&lt;!--</code> is defined to do nothing, allowing this hack to work.</p>\n\n<p>Those browsers are ancient history; you absolutely <strong>should not use this technique</strong> today. Especially in XHTML, as an XML parser would take you at your word, turning the whole script block into an XML comment instead of executable code.</p>\n\n<blockquote>\n  <p>I want to inline Scripts or CSSs into xHTML without escaping special characters.</p>\n</blockquote>\n\n<p>Avoid doing this and you will be much happier.</p>\n\n<p>Do you <em>really</em> need the <code>&lt;</code> and <code>&amp;</code> characters in a <code>&lt;style&gt;</code>? No, almost never. Do you really need them in <code>&lt;script&gt;</code>? Well... sometimes, yeah, and in that case the commented-CDATA-section is acceptable.</p>\n\n<p>But to be honest, XHTML compatibility guideline C.4 is as applicable to HTML4 as it is to XHTML1: anything non-trivial should be an in external script, and then you don't have to worry about any of this.</p>\n",
                    "is_accepted": true,
                    "score": 29
                }
            ],
            "body": "<p>I want to inline Scripts or CSSs into xHTML without escaping special characters.</p>\n\n<p>I can do that using a CDATA marked section.</p>\n\n<p>According to www.w3.org/TR/xhtml1/#h-4.8 the CDATA section can be defined as:</p>\n\n<pre><code>   &lt;script type=\"text/javascript\"&gt;\n      &lt;![CDATA[\n         ... unescaped script content ...\n      ]]&gt;\n   &lt;/script&gt;\n</code></pre>\n\n<p>Then, according to <a href=\"http://www.w3schools.com/TAGS/tag_script.asp\">http://www.w3schools.com/TAGS/tag_script.asp</a> the CDATA can look like:</p>\n\n<pre><code>   &lt;script type=\"text/javascript\"&gt;&lt;![CDATA[\n     // some code\n   //]]&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Which method for closing the CDATA section is better? <code>]]&gt;</code> or <code>//]]&gt;</code> ?</p>\n",
            "last_activity_date": 1267658868,
            "question_id": 2375217,
            "score": 15,
            "tags": [
                "javascript",
                "html",
                "css",
                "xhtml",
                "cdata"
            ],
            "title": "Should I use &quot;]]&gt;&quot; or &quot;//]]&gt;&quot; for closing a CDATA section into xHTML"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You may want to check Mike Williams' article on how to snap points and polylines to streets with the Google Maps API:</p>\n\n<ul>\n<li><a href=\"http://econym.org.uk/gmap/snap.htm\">Snap points (and polylines) to street</a></li>\n</ul>\n\n<p>Especially this example:</p>\n\n<ul>\n<li><a href=\"http://econym.org.uk/gmap/example_snappath.htm\">Click on the map and a path will be drawn that follows the streets.</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>Take a look at <a href=\"http://www.openstreetmap.org/\" rel=\"nofollow\">OpenStreetMap</a>.  (Google and Bing won't let you access their underlying street data.)</p>\n\n<p>You can show a map with OSM tiles, and use the <a href=\"http://wiki.openstreetmap.org/wiki/API\" rel=\"nofollow\">API</a> to query for the features you're interested in displaying on the map.  <a href=\"http://openlayers.org/\" rel=\"nofollow\">OpenLayers</a> is a javascript mapping library that could support this.</p>\n\n<p>Here's a view of Chicago showing street vectors and other features overlaid on top of the map tiles:</p>\n\n<p><a href=\"http://www.openstreetmap.org/?lat=41.902104&amp;lon=-87.626441&amp;zoom=18&amp;layers=B000FTTT\" rel=\"nofollow\">http://www.openstreetmap.org/?lat=41.902104&amp;lon=-87.626441&amp;zoom=18&amp;layers=B000FTTT</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Is there any way to highlight/display on Google/Bing/(any other map provider) Maps <strong>whole street</strong> (from the beginning of the street to the end of)?</p>\n\n<p>I know the existence of <strong>Polyline</strong> in Google Maps API, but it's just connecting two latitude points, and there is no way of making it automatic so I could display any street in some city.</p>\n\n<p>Also I was thinking about <strong>Directions</strong>, but many street are 2 way, there is no guarante that you will mark whole street and it's just now user friendly. <a href=\"http://maps.google.pl/maps?f=d&amp;source=s_d&amp;saddr=Zygmunta+S%C5%82omi%C5%84skiego+1,+Warszawa&amp;daddr=Zygmunta+S%C5%82omi%C5%84skiego+19,+Warszawa&amp;hl=en&amp;geocode=FfFlHQMdVnFAASmLXN1PdMweRzGzleDMGE9t8A;FTdYHQMdzTRAASlhR6u5iMseRzFlMXTbVy-PJQ&amp;sll=52.258289,21.000534&amp;sspn=0.008603,0.022724&amp;g=s%C5%82omi%C5%84skiego+1+warszawa&amp;mra=ls&amp;ie=UTF8&amp;ll=52.25664,20.99262&amp;spn=0.008603,0.022724&amp;z=16\">Example</a></p>\n",
            "last_activity_date": 1279078265,
            "question_id": 2155032,
            "score": 15,
            "tags": [
                "javascript",
                "google-maps",
                "maps",
                "bing-maps"
            ],
            "title": "Highlighting whole street with some maps API"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Always enforce server side security, hiding controls in the frontend it's not enough.<br>\n<strong>EDIT</strong><br>\nOn the client side? well, you can follow any of the advices in the other responses, but the true is that the user can execute arbitrary javascript, modify the page's DOM and do whatever request he want.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Don't bring functionality to the client that the user is not allowed to see.  You can load js files dynamically, but your app server must enforce your rules; no role, no JS.</p>\n\n<pre><code>  var jsFile = document.createElement('script');\n  jsFile.setAttribute( \"type\", \"text/javascript\" );\n  jsFile.setAttribute( \"src\", 'someFileName.js' );\n  document.getElementsByTagName(\"head\")[0].appendChild(jsFile);\n</code></pre>\n\n<p>You can use an LDAP or a simpler server-side solution, but (again) don't serve JS to users who have no right to it.  On the client, check for the existence of a class (during development create one class per JS file), and do not attempt to create an object when its class is not loaded.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had to solve a similar problem in an application that I currently developed, but permissions are based on user country.</p>\n\n<p>I know you already are, but just to reiterate for the benefit of anyone reading, <strong>permissions should always be implemented on the server side and JavaScript security is always secondary</strong>.  This is because anyone with half a brain can use either a bookmarklet or Firebug to execute arbitrary JavaScript and circumvent your client-side security.</p>\n\n<p>I've found that there are several ways to do this, but there are two approaches in particular that are the most sane.  Regardless of the approach, there are two things to consider: 1) what JavaScript to server and how to avoid serving unnecessary logic, and 2) how to avoid executing logic that is not available to the user.</p>\n\n<h2>Lazy loading and permissions configuration:</h2>\n\n<ol>\n<li><p>All widgets in my application are lazy loaded via <code>dojo.require</code>, so there was no need to worry about the unnecessary inclusion of JavaScript that wasn't applicable to the user.  I am not deeply familiar with the ExtJs library, but as far as I have seen, it doesn't supply a comparable method; however, it is essential a synchronous ajax call followed by an eval. In any case, in this method it is important that component functionality doesn't cross-cut through different files (also, this is generally good design).  Each file should be its own class that controls a specific widget or other UI element.</p></li>\n<li><p>I then set permissions in a server generated JavaScript config class.  This class can then be referenced throughout the application for what is and what is not allowed.</p></li>\n</ol>\n\n<p>For example, the following method controlled access to most of the widgets that were available from global controls.</p>\n\n<pre><code>com.project.frontController.prototype.init = function(widgets) {\n   var permissions = com.project.config.permissions;\n\n   // For each widget in the controller\n   for ( var i=0, l=widgets.length; i&lt;l; ++i ) {\n       // If access is restricted to the widget (by id), then disable it.\n       if ( !permissions[ widgets[i].id ] {\n           com.project.util.disable(widgets[i].btnAccessNode);\n       }\n       // Otherwise, leave it enabled and connect the necessary event handlers.\n       else {\n           // connect an onclick handler or whatever is required for the widget\n       }\n   }\n};\n</code></pre>\n\n<p>And the config looked something like:</p>\n\n<pre><code>com.project.config.permissions = {\n    \"widgetAbc\": {\n        btnAccessNode:     \"#some-css-selector\",\n        otherWidgetConfig: \"etc\"\n    },\n    \"widgetXyz\": {\n        btnAccessNode:     \"div.some-css-selector\"\n    }\n};\n</code></pre>\n\n<h2>Compile and functionality check:</h2>\n\n<ol>\n<li><p>Some applications will compile all of its JavaScript into one file, and then serve it to the client. If your application does such a thing, and you can manage to do this dynamically, all necessary JS can be determined on the server-side before it is served.  Of course, this will accrue some overhead; however, you can cache compiled versions by role.  If the roles are few, then this cache can be easily primed and it's just a matter of including one specific script.</p></li>\n<li><p>Since only the allowed JavaScript will be available, simply detecting if the required class/function is available before attempting to execute it is all you need to do for your permissions check.</p></li>\n</ol>\n\n<p>For example, you script inclusion may look like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"/js/compiler.php?role=moderator\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>And your functionality check would be something like this:</p>\n\n<pre><code>com.project.frontController.prototype.init = function(widgets) {\n   // For each widget in the controller\n   for ( var i=0, l=widgets.length; i&lt;l; ++i ) {\n       // If the widget controller doesn't exist, disable it.\n       if ( !com.project.util.widgetExists[ widgets[i].id ] {\n           com.project.util.disable(widgets[i].btnAccessNode);\n       }\n       // Otherwise, leave it enabled and connect the necessary event handlers.\n       else {\n           // connect an onclick handler or whatever is required for the widget\n       }\n   }\n};\n</code></pre>\n\n<p>or</p>\n\n<pre><code>com.project.someWidget.prototype.launchOtherWidget = function() {\n    if ( typeof otherWidget != \"undefined\" ) {\n        (new otherWidget()).open();\n    }\n};\n</code></pre>\n\n<p>Notice that both methods are very similar in implementation.  I would say the best way to make a determination between the two is to consider the size of your codebase, the tools available to you for compiling on the fly, and caching those role-based, compiled packages.  For my project, not only was a compiler not available in the environment, but the code base was large (1.3mb inflated/296kb defaulted plus the dojo library), which wasn't acceptable as the client was more interested in maintaining low application load times.</p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>At our company, the jsp loads a configuration object that was created by the server based on the role of the current user. The client side then renders according to that configuration.</p>\n\n<p>It is true that it could be hacked so that the initial object pretends to have more rights than it actually does; however, the hacker would get a security violation on the server when trying to do something he's not allowed to. So basically, the client side logic that applies security is just for the user's benefit, so he doesn't see more than he can. The server side checks (when an action is requested) is what actually enforces security.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p><br>\n I am planning to use Ext JS for a large application. The application's features are role based. When user login, they only see menu and screen features related to them. My server side technology will be Java &amp; JSP. </p>\n\n<p>To solve this I have two ideas..<br>\n    1. Create Ext JS related javascript dynamically after the user login using server side technology. The servlet / JSP will create the necessary est js code according to user roles.<br/><br>\n    2. Have Js variables that are set in view JSPs that will be used to ensure only the right features are available to users.   </p>\n\n<p>What is the best way to ensure security and provide role based UI in Ext Js application.<br>\nThanks in advance for you ideas..</p>\n\n<p>Abdel Olakara</p>\n",
            "last_activity_date": 1300871787,
            "question_id": 1775695,
            "score": 15,
            "tags": [
                "javascript",
                "ajax",
                "extjs"
            ],
            "title": "How to use Ext JS for role based application"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The plain <code>fHardCodedFunction</code> already refers to the function and the suffix <code>()</code> will just call it. So just pass the function instead of calling it and thereby just passing the return value:</p>\n\n<pre><code>function fBindFunctionToElement(){\n   $(\"#MyButton\").bind(\"click\", fHardCodedFunction);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>Yes you can bind methods that written somewhere else, but you should ignore the parentheses : </p>\n\n<pre><code>function fHardCodedFunction(){\n   //Do stuff\n}\n\nfunction fBindFunctionToElement(){\n   $(\"#MyButton\").bind(\"click\", fHardCodedFunction);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Borrowing from the other posts, you can parameterize your event handler as follows: </p>\n\n<pre><code>function fHardCodedFunction(someValue) {\n  alert(this.id + \" - \" + someValue);\n}\n\n\nfunction fBindFunctionToElement() {\n  var someValue = \"whatever\";\n  $(\"#MyButton\").bind(\"click\", \n       function() {\n         fHardCodedFunction.apply(this, [someValue]);\n       }\n  );\n}\n\n\n$(document).ready\n(\n  function() {\n    fBindFunctionToElement();\n  }\n);\n</code></pre>\n\n<p>I'm using apply here because in function <code>fHardCodedFunction</code> I'd like the <code>this</code> property to refer to the <code>MyButton</code> element.  Note also that apply expects an array for the second parameter, which is why I've wrapped <code>someValue</code> in brackets.  </p>\n\n<p>You don't have to do it this way and can forget about this <code>this</code> property altogether if you prefer.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>Using JQuery I want to bind an existing function to a button. I've been through the documentation and have found the bind method but the examples on the JQuery bind newly created functions where as I want to bind a function thats already hard coded, e.g:</p>\n\n<pre><code>function fHardCodedFunction(){\n   //Do stuff\n}\n\nfunction fBindFunctionToElement(){\n   $(\"#MyButton\").bind(\"click\", fHardCodedFunction());\n}\n</code></pre>\n\n<p>Is this possible? Or am I going about this the wrong way?</p>\n",
            "last_activity_date": 1252182727,
            "question_id": 1384037,
            "score": 15,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Binding an existing javascript function in JQuery"
        },
        {
            "answer_count": 9,
            "answers": [
                {
                    "body": "<p>You can use setInterval() and then inside the called function keep a count of how many times you've run the function and then clearInterval().</p>\n\n<p>Or you can use setTimeout() and then inside the called function call setTimeout() again until you've done it 3 times.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Like this:</p>\n\n<pre><code>var runCount = 0;    \nfunction timerMethod() {\n    runCount++;\n    if(runCount &gt; 3) clearInterval(timerId);\n\n    //...\n}\n\nvar timerId = setInterval(timerMethod, 60000);    //60,000 milliseconds\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 35
                },
                {
                    "body": "<pre><code>var testTimeInt = 3;\nfunction testTime(){\n\n    testTimeInt--;\n\n    if(testTimeInt&gt;0)\n       setTimeOut(\"testTime()\", 1000);\n\n}\n\n\nsetTimeOut(\"testTime()\", 1000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use setInterval, be sure to get a reference.  </p>\n\n<pre><code>var X=setInterval(....);\n</code></pre>\n\n<p>Also, have a global counter</p>\n\n<pre><code>var c=0;\n</code></pre>\n\n<p>Inside the function called by the setIntervale do:</p>\n\n<pre><code>c++;\nif(c&gt;3) window.clearInterval(X);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>A reusable approach</p>\n\n<pre><code>function setMaxExeuctionInterval( callback, delay, maxExecutions )\n{\n  var intervalCallback = function()\n  {\n    var self = intervalCallback;\n    if ( 'undefined' == typeof self.executedIntervals )\n    {\n      self.executedIntervals = 1;\n    }\n    if ( self.executedIntervals == maxExecutions )\n    {\n      clearInterval( self.interval )\n    }\n    self.executedIntervals += 1;\n    callback();\n  };\n  intervalCallback.interval = setInterval( intervalCallback, delay );\n}\n\n// console.log requires Firebug\nsetMaxExeuctionInterval( function(){ console.log( 'hi' );}, 700, 3 );\nsetMaxExeuctionInterval( function(){ console.log( 'bye' );}, 200, 8 );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>A closure-based solution, using <code>setInterval()</code> and <code>clearInterval()</code>:</p>\n\n<pre><code>// define a generic repeater\nvar repeater = function(func, times, interval) {\n  var ID = window.setInterval( function(times) {\n    return function() {\n      if (--times &lt;= 0) window.clearInterval(ID);\n      func();\n    }\n  }(times), interval);\n};\n\n// call the repeater with a function as the argument\nrepeater(function() {\n  alert(\"stuff happens!\");\n}, 3, 60000);\n</code></pre>\n\n<p>EDIT: Another way of expressing the same, using <code>setTimeout()</code> instead:</p>\n\n<pre><code>var repeater = function(func, times, interval) {\n  window.setTimeout( function(times) {\n    return function() {\n      if (--times &gt; 0) window.setTimeout(arguments.callee, interval);\n      func();\n    }\n  }(times), interval);\n};\n\nrepeater(function() {\n  alert(\"stuff happens!\");\n}, 3, 2000);\n</code></pre>\n\n<p>Maybe the latter is a bit easier to understand. </p>\n\n<p>In the <code>setTimeout()</code> version you can ensure that the next iteration happens only <em>after</em> the previous one has finished running. You'd simply move the <code>func()</code> line <em>above</em> the <code>setTimeout()</code> line.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>This anonymous function (it doesn't introduce any new globals) will do what you need. All you have to do is replace <code>yourFunction</code> with your function.</p>\n\n<pre><code>(function(fn, interval, maxIterations) {\n    var iterations = 0,\n    id = setInterval(function() {\n    \tif (++iterations &gt; maxIterations)\n    \t\treturn clearInterval(id);\n\n    \tfn();\n    }, interval);\n})(yourFunction, 60000, 3);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>To extend <a href=\"http://stackoverflow.com/questions/1245617/want-a-javascript-function-to-run-every-minute-but-max-3-times/1245737#1245737\">Tomalak</a> function:</p>\n\n<p>If you want to know how many cycles are left:</p>\n\n<pre><code>var repeater = function(func, times, interval) {\n    window.setTimeout( function(times) {\n    return function() {\n      if (--times &gt; 0) window.setTimeout(arguments.callee, interval);\n      func(times);\n    }\n  }(times), interval);\n}\n</code></pre>\n\n<p>and use:</p>\n\n<pre><code>repeater(function(left){\n    //... (do you stuff here) ...\n    if(left == 0) {\n        alert(\"I'm done\");\n    }\n}, 3, 60000);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>you can do with setInterval</p>\n\n<pre><code>var count = 0;\n\nvar interval = setInterval(yourFunction(), 1000);\n\nfunction yourFunction (){\n\n  clearInterval(interval);  \n  if(count &lt; 3){\n\n    count ++;\n    interval = setInterval(yourFunction(), 1000);\n  }\n\n// your code\n\n\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I have a ajax javascript method that pulls data from a page etc.</p>\n\n<p>I want this process to run on a timed interval, say every minute.\nBut I don't want it to loop forever, so max out at 3 times.</p>\n\n<p>What is the best way to implement this?</p>\n",
            "last_activity_date": 1354011081,
            "question_id": 1245617,
            "score": 15,
            "tags": [
                "javascript",
                "jquery",
                "ajax"
            ],
            "title": "Want a javascript function to run every minute, but max 3 times"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<pre><code>$(\"body\").css(\"cursor\", \"progress\");\n</code></pre>\n\n<p>Just remember to return it afterwards:</p>\n\n<pre><code>$MyDiv.load(\"page.php\", function () {\n    // this is the callback function, called after the load is finished.\n    $(\"body\").css(\"cursor\", \"auto\");\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 60
                },
                {
                    "body": "<ol>\n<li>Initially style the loading image non-visible. </li>\n<li>Change the style to visible when you begin loading.</li>\n<li>Change the style to non-visible when loading finished using a callback argument to load().</li>\n</ol>\n\n<p>Example:</p>\n\n<pre><code> $(\"#loadImage\").show();\n $(\"#MyDiv\").load(\"page.php\", {limit: 25}, function(){\n   $(\"#loadImage\").hide();\n });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p><code>$(\"*\").css(\"cursor\", \"progress\")</code>  will work no matter where on the page you are currently pointing.  This way you do not have to move the cursor to see it activated.</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>I think the best is to set up in css file</p>\n\n<pre><code>body.wait *, body.wait {\ncursor:wait !important;\n}\n</code></pre>\n\n<p>and add/remove class wait in body</p>\n\n<p>this method overrides all cursors in inputs, links etc.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>For example, if you want to show larger image on hovering on a thumbnail    </p>\n\n<pre><code>//Hovered image\n    $(\"a.preview\").hover(function(e) {\n            var aprev = this;\n            //Show progress cursor while loading image\n            $(aprev).css(\"cursor\", \"progress\");\n    //#imgpreview is the &lt;div&gt; to be loaded on hover\n    $(\"#imgpreview\").load(function() {           \n                $(aprev).css(\"cursor\", \"default\");\n            });\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>A cleaner JQuery approach, although not necessarily efficient is to add and remove a busy class to all objects.</p>\n\n<p>Note that, not all browsers (e.g. Firefox) assume a height of 100% for the outermost viewable object, so the busy cursor will only get displayed on the part of the screen</p>\n\n<pre><code>&lt;head runat=\"server\"&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;style type=\"text/css\"&gt;\n        .busy\n        {\n            cursor: wait !important;\n        }\n    &lt;/style&gt;\n    &lt;script type=\"text/javascript\" src=\"scripts/jquery-1.7.2.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    //&lt;![CDATA[\n\n        $(function () {\n\n            $(\"#btnToggleWait\").click(function (e) {\n                if ($(e.target).hasClass(\"busy\")) {\n                    $(\"*\").removeClass(\"busy\");\n                }\n                else {\n                    $(\"*\").addClass(\"busy\");\n                }\n\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n            });\n        });\n\n        //]]&gt;\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\" runat=\"server\"&gt;\n    &lt;div&gt;\n        &lt;button id=\"btnToggleWait\"&gt;\n            Toggle Wait&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I really think that it's a better solution to just use a class in the body element</p>\n\n<pre><code>  $('body').addClass('cursorProgress');\n</code></pre>\n\n<p>And when you want to keep it as it was before just:</p>\n\n<pre><code>  $('body').removeClass('cursorProgress');\n</code></pre>\n\n<p>and in you css file put something like that:</p>\n\n<pre><code>body.cursorProgress {\n  cursor: progress;\n}\n</code></pre>\n\n<p>So with this solution you are not overriding the defaults or changes you make on cursor styles, and the second advantage is that you have the possibility of adding the important in your css.</p>\n\n<pre><code>body.cursorProgress {\n  cursor: progress !important;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want to show to the user a state that the result is loading. \nHow can I change cursor or gif while loading result in div with $MyDiv.load(\"page.php\") ?</p>\n",
            "last_activity_date": 1424179798,
            "question_id": 561379,
            "score": 15,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "dom"
            ],
            "title": "jquery wait cursor while loading html in div"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>I doubt there will be anything more efficient. The alternative would be splitting it into parts and then concatenating, but I don't think that would be much efficient. Perhaps even less, considering that every concatenation results in a new string which has the same size as its operands.</p>\n\n<p><b>Added:</b> This is probably the most elegant way to write this. Besides - what are you worried about? Memory usage? It's abundant and Javascript has a decent memory manager. Execution speed? Then you must have some gigantic string. IMHO this is good.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>You can make it more efficient by chaining the replaces instead of making all these interim assignments.</p>\n\n<p>i.e. </p>\n\n<pre><code>with(document.getElementById('sample'))\n{\n  innerHTML = innerHTML.replace(a, A).replace(b, B).replace(c, C); //etc\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You could probably adapt this code to do what you want:</p>\n\n<pre><code>var user = {\n    \"firstName\": \"John\",\n    \"login\": \"john_doe\",\n    \"password\": \"test\",\n};\n\nvar textbody = \"\"\n+\"Hey {firstName},\\n\"\n+\"\\n\"\n+\"You recently requested your password.\\n\"\n+\"login: {login}\\n\"\n+\"password: {password}\\n\"\n+\"\\n\"\n+\"If you did not request your password, please disregard this message.\\n\"\n+\"\";\n\ntextbody = textbody.replace(/{[^{}]+}/g, function(key){\n    return user[key.replace(/[{}]+/g, \"\")] || \"\";\n});\n</code></pre>\n\n<p>You might also want to look into <a href=\"http://code.google.com/p/trimpath/wiki/JavaScriptTemplates\">JavaScriptTemplates</a></p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>It looks like you want to use a template.</p>\n\n<pre><code>//Updated 28 October 2011: Now allows 0, NaN, false, null and undefined in output. \nfunction template(templateid,data){\n    return document.getElementById(templateid).innerHTML.replace(/%(\\w*)%/g,function(m,key){return data.hasOwnProperty(key)?data[key]:\"\";});\n}\n</code></pre>\n\n<p>Explanation of the code:</p>\n\n<ul>\n<li>Expects templateid to be the id of an existing element.</li>\n<li>Expects data to be an object with the data.</li>\n<li>Uses two parameters to replace to do the substitution:</li>\n<li>The first is a regexp that searches for all %keys%. The key can be a combination of A-Z, a-z, 0-9 and underscore _.</li>\n<li>The second is a anonymous function that gets called for every match.</li>\n<li>The anonymous function searches the data object for the key that the regexp found.\nIf the key is found in the data, then the value of the key is returned and that value will be replacing the key in the final output. If the key isn't found, an empty string is returned.</li>\n</ul>\n\n<p>Example of template:</p>\n\n<pre><code>&lt;div id=\"mytemplate\"&gt;\n  &lt;p&gt;%test%&lt;/p&gt;\n  &lt;p&gt;%word%&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Example of call:</p>\n\n<pre><code>document.getElementById(\"my\").innerHTML=template(\"mytemplate\",{test:\"MYTEST\",word:\"MYWORD\"});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 44
                },
                {
                    "body": "<p>If you're willing to use the <a href=\"http://www.prototypejs.org/api/template\" rel=\"nofollow\">Prototype library</a>, they have nice built in templating functionality.</p>\n\n<p>That would look like:</p>\n\n<pre><code>element.innerHTML = (new Template(element.innerHTML)).evaluate({\n    title: 'a title',\n    keyword: 'some keyword',\n    content: 'A bunch of content',\n    id: 'id here'\n})\n</code></pre>\n\n<p>This would be especially nice if you were running your code in a loop due to the ease of creating JSON objects/Javascript object literals.  </p>\n\n<p>Still, I wouldn't expect any speed increase.</p>\n\n<p>Also, you would need to change your delimiter style to <code>#{keyword}</code> rather than <code>%keyword%</code></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Your method is a standard way to implement a poor-man's templating system, so it's fine.</p>\n\n<p>It could be worth your while to check out some JavaScript templating libraries, such as <a href=\"http://code.google.com/p/trimpath/wiki/JavaScriptTemplates\" rel=\"nofollow\">JST</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Please refer this below link, this is very efficient way to use templates...</p>\n\n<p><a href=\"http://boedesign.com/misc/presentation-jquery-tmpl/#9\" rel=\"nofollow\">http://boedesign.com/misc/presentation-jquery-tmpl/#9</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Mustachejs is great for really elegant templating:</p>\n\n<pre><code>&lt;div id='sample'&gt;\n  &lt;h4&gt;{{TITLE}}&lt;/h4&gt;\n  &lt;p&gt;Text text {{KEYWORD}} text&lt;/p&gt;\n  &lt;p&gt;{{CONTENT}}&lt;/p&gt;\n  &lt;img src=\"images/{{ID}}/1.jpg\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>You can then use the template something like this:</p>\n\n<pre><code>var template = document.getElementById(templateid).innerHTML;\nvar newHtml = Mustache.render(template, {\n    TITLE: some_var_with_title,\n    KEYWORD: some_var_with_keyword,\n    CONTENT: some_var_with_content,\n    ID: some_var_with_id\n});\ndocument.getElementById('sample').innerHTML = newHtml;\n</code></pre>\n\n<p>This especially works nicely if you are getting JSON back from an Ajax call - you can just pass it straight in to the <code>Mustache.render()</code> call.</p>\n\n<p>Slight variations allow for running the same template on each the browser or the server. See <a href=\"https://github.com/janl/mustache.js\" rel=\"nofollow\">https://github.com/janl/mustache.js</a> for more details.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Hey there, I've got a block of HTML that I'm going to be using repeatedly (at various times during a users visit, not at once).  I think that the best way to accomplish this is to create an HTML div, hide it, and when needed take its innerHTML and do a replace() on several keywords.  As an example HTML block...</p>\n\n<pre><code>&lt;div id='sample'&gt;\n  &lt;h4&gt;%TITLE%&lt;/h4&gt;\n  &lt;p&gt;Text text %KEYWORD% text&lt;/p&gt;\n  &lt;p&gt;%CONTENT%&lt;/p&gt;\n  &lt;img src=\"images/%ID%/1.jpg\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Would the best way to replace those keywords with dynamic data be to go...</p>\n\n<pre><code>template = document.getElementById('sample');\ntemplate = template.replace(/%TITLE%/, some_var_with_title);\ntemplate = template.replace(/%KEYWORD%/, some_var_with_keyword);\ntemplate = template.replace(/%CONTENT%/, some_var_with_content);\ntemplate = template.replace(/%ID%/, some_var_with_id);\n</code></pre>\n\n<p>It just feels like I've chosen a stupid way to do this.  Does anyone have any suggestions  on how to do this faster, smarter, or better in any way?  This code will be executed fairly often during a users visit, sometimes as often as once every 3-4 seconds.</p>\n\n<p>Thanks in advance.</p>\n",
            "last_activity_date": 1409720985,
            "question_id": 377961,
            "score": 15,
            "tags": [
                "javascript",
                "string",
                "performance",
                "replace"
            ],
            "title": "Efficient Javascript String Replacement"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>This form:</p>\n\n<pre><code>LolCat.prototype = {\n  hello: function () {\n      alert('meow!');\n  }\n};\n</code></pre>\n\n<p>Destroys any existing methods and public properties.  In the example, <em>as given</em>, it doesn't matter as the newly created LolCat doesn't have any properties or methods.  However, one should be mindful of this in more complicated code.</p>\n\n<p>This form:</p>\n\n<pre><code>LolCat.prototype.hello = function () { ... }\n</code></pre>\n\n<p>Adds a new method to an existing object and keeps the existing intact.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Its not a bad practice to overwrite the <code>constructor</code> when using prototypal inheritance. Infact many people do it like so:</p>\n\n<pre><code>LolCat.prototype = {\n    constructor: LolCat,\n    hello: function () {\n        alert('meow!');\n    }\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's not bad practice but you have to know what you are doing and why. It is very useful for prototypal inheritance. The object of which you overwrite the prototype will get all the properties of the object you assign to it's prototype:</p>\n\n<p>You cause an object to inherit using </p>\n\n<pre><code>ChildClassName.prototype = new ParentClass();.\n</code></pre>\n\n<p>Now ChildClassName has all functionality of ParentClass but loses any functionality that was assigned to it's prototype before. You need to remember to reset the constructor property for the object using </p>\n\n<pre><code>ChildClassName.prototype.constructor=ChildClassName. \n</code></pre>\n\n<p>Otherwise the object will be reported to be (when testing for the type of an object) of the ParentClass type instead of the ChildClassName type.</p>\n\n<p>And now you can add more methods to the ChildClassName object in the way you described yourself.</p>\n\n<pre><code>ChildClassName.prototype.myMethod = function(){\n    //do stuff\n}\n</code></pre>\n\n<p>The result being a parent object/'class'(there are no real classes in javascript of course) and a child object/'class' that inherits from it and extends its functionality. </p>\n\n<p>You just have to know that if you overwrite the prototype, any properties that where assigned to it will be gone. When constructing inheriting objects this might be exactly what you want.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Its not a bad practice. But there is a simple and standard way of overriding a function like below. When ever we define a 'function LolCat()' globally, its created under window so you can always code like below.</p>\n\n<pre><code>window.LolCat = function() {...};\nLolCat.prototype.hello = function () { ... }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I can't see anyone mentioning best practice as far as this is concerned, so I think it comes down to whether you can see the <code>constructor</code> property ever being useful.</p>\n\n<p>One thing worth noting is that the <code>constructor</code> property, if you don't destroy it, will be available on the created object too. It seems to me like that could be useful:</p>\n\n<pre><code>var ClassOne = function() {alert(\"created one\");}\nvar ClassTwo = function() {alert(\"created two\");}\n\nClassOne.prototype.aProperty = \"hello world\"; // preserve constructor\nClassTwo.prototype = {aProperty: \"hello world\"}; // destroy constructor\n\nvar objectOne = new ClassOne(); // alerts \"created one\"\nvar objectTwo = new ClassTwo(); // alerts \"created two\"\n\nobjectOne.constructor(); // alerts \"created one\" again\nobjectTwo.constructor(); // creates and returns an empty object instance\n</code></pre>\n\n<p>So it seems to me that it's an architectural decision. Do you want to allow a created object to re-call its constructor after it's instantiated? If so preserve it. If not, destroy it.</p>\n\n<p>Note that the constructor of objectTwo is now exactly equal to the standard Object constructor function - useless.</p>\n\n<pre><code>objectTwo.constructor === Object; // true\n</code></pre>\n\n<p>So calling <code>new objectTwo.constructor()</code> is equivalent to <code>new Object()</code>.</p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>Since when we declare a function we get its prototype's constructor property point to the function itself, is it a bad practice to overwrite function's prototype like so:</p>\n\n<pre><code>function LolCat() {\n}\n\n// at this point LolCat.prototype.constructor === LolCat\n\nLolCat.prototype = {\n    hello: function () {\n        alert('meow!');\n    }\n    // other method declarations go here as well\n};\n\n// But now LolCat.prototype.constructor no longer points to LolCat function itself\n\nvar cat = new LolCat();\n\ncat.hello(); // alerts 'meow!', as expected\n\ncat instanceof LolCat // returns true, as expected\n</code></pre>\n\n<p>This is not how I do it, I still prefer the following approach</p>\n\n<pre><code>LolCat.prototype.hello = function () { ... }\n</code></pre>\n\n<p>but I often see other people doing this.</p>\n\n<p>So are there any implications or drawbacks by removing the constructor reference from the prototype by overwriting the function's prototype object for the sake of convenience as in the first example?</p>\n",
            "last_activity_date": 1346752661,
            "question_id": 12260375,
            "score": 14,
            "tags": [
                "javascript",
                "constructor",
                "prototype"
            ],
            "title": "Javascript: Overwriting function&#39;s prototype - bad practice?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>I want to know that if there is some time before i can access my object</p>\n</blockquote>\n\n<p>Yes, I think there is a delay, because <code>WebView.addJavascriptInterface</code> will run in the WebView's internal worker thread. Perhaps you've thought about this, and realized that WebView has to maintain at least one worker thread to do asynchronous network IO. Maybe you also noticed these threads in DDMS while using a WebView.</p>\n\n<p>It turns out that it also uses a thread to do work for a number of other public methods. I really wish the docs from Google made this clearer! But I hope I can help and show you how I tried to confirm this for myself.</p>\n\n<p>Follow me as I take a look at the source for WebView. It's reasonably readable, even if you can't follow exactly what's going on, it's possible to trace through answer some questions with respect to threads.</p>\n\n<p>You can download the Android framework source through the SDK manager tool, but it's also mirrored on Github, so that's what I've linked to here. I guessed and picked a tag that's close to some version of ICS. It's not hard to find <a href=\"https://github.com/android/platform_frameworks_base/blob/android-4.0.1_r1/core/java/android/webkit/WebView.java#L4022\"><code>WebView.addJavascriptInterface</code></a>. I just Googled \"WebView.java site:github.com/android\".</p>\n\n<p>The method <code>WebView.addJavascriptInterface</code> sends a message to an instance of <code>WebViewCore</code>:</p>\n\n<pre><code>mWebViewCore.sendMessage(EventHub.ADD_JS_INTERFACE, arg);\n</code></pre>\n\n<p>In <code>WebViewCore.java</code> there are a bunch of overloaded methods called <a href=\"https://github.com/android/platform_frameworks_base/blob/android-4.0.1_r1/core/java/android/webkit/WebViewCore.java#L1734\"><code>sendMessage</code></a>, but we don't really need to know which exactly is being called, since they do pretty much the same thing. There's even a nice comment to give us a hint that we're in the right place! All of them are delegating to an instance of <a href=\"https://github.com/android/platform_frameworks_base/blob/android-4.0.1_r1/core/java/android/webkit/WebViewCore.java#L920\"><code>EventHub</code></a> which is some inner class. <a href=\"https://github.com/android/platform_frameworks_base/blob/android-4.0.1_r1/core/java/android/webkit/WebViewCore.java#L1652\">This method</a> turns out to be synchronized, and is sending a message to an instance of <code>Handler</code>, which is a good indication that this is probably running in another thread, but for completeness sake, let's find out!</p>\n\n<p>That <code>Handler</code> is instantiated in <a href=\"https://github.com/android/platform_frameworks_base/blob/android-4.0.1_r1/core/java/android/webkit/WebViewCore.java#L1064\"><code>EventHub.transferMessages</code></a> which is called from <a href=\"https://github.com/android/platform_frameworks_base/blob/android-4.0.1_r1/core/java/android/webkit/WebViewCore.java#L209\"><code>WebViewCore.initialize</code></a>. There are a few more hops here, but eventually I found out that this is called from <code>run</code> in <code>WebCoreThread</code> (subclass of <code>Runnable</code>), which is instantiated along with a new <code>Thread</code> right <a href=\"https://github.com/android/platform_frameworks_base/blob/android-4.0.1_r1/core/java/android/webkit/WebViewCore.java#L162\">here</a>.</p>\n\n<p>What an adventure! So, even though I really can't say for sure what's going on with all these moving parts, I am pretty confident to say that this method is not synchronous, and sends a message to the WebView's worker thread. I hope that makes sense! </p>\n\n<blockquote>\n  <p>if so, how do i get to know how much time should i wait to call my object?</p>\n</blockquote>\n\n<p>Unfortunately, I don't know the answer to this. I was researching this exact issue and found this question on StackOverflow in the course of my Googling. I think you have the following options, some of which are nicer or easier than others:</p>\n\n<p>1) Just <code>Thread.sleep</code> for 100 ms or something between <code>addJavascriptInterface</code> and <code>loadUrl(\"javascript:...\")</code>. Blech, I don't like this, but it is potentially the easiest.</p>\n\n<p>2) Another possibility is that you could call <code>WebView.loadUrl</code> with a snippet of JavaScript that specifically tests if the interface is set, and catches the ReferenceError that is thrown if it's not set yet. However, as you might have guessed, this kind of involves adding a JavaScript interface to the WebView!</p>\n\n<p>3) Call <code>WebView.setWebChromeClient</code> instead, and catch JavaScript's <code>alert()</code> or <code>console.log</code> instead. From my experiments, this method <strong>is</strong> synchronous, so there is no delay. (I have confirmed this in source, but I'll leave details as an exercise for the reader) You should probably come up with some special string to call <code>alert</code> with and check for it inside <code>onJsAlert</code>, so you aren't just catching all <code>alert()</code>s.</p>\n\n<p>Sorry for the length of this answer, I hope that helps. Good luck!</p>\n",
                    "is_accepted": true,
                    "score": 30
                },
                {
                    "body": "<p>Ensure your Javascript objects declared in your HTML / Javascript that you need to access from Java are declared global otherwise they will most likely be collected. I have code that does this (where Android is my interface added with addJavascriptInterface):</p>\n\n<pre><code>&lt;script&gt;\n  var cb = function(location) {\n     alert('location is ' + location);\n  }\n  Android.getLocation('cb');\n&lt;/script&gt;\n</code></pre>\n\n<p>The getLocation method invokes Android's LocationManager.requestSingleUpdate which then invokes the callback when the LocationListener fires.</p>\n\n<p>Without the \"var\" I find that by the time the location lookup invokes the callback the callback function has been garbage collected.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>(copied from my response on <a href=\"http://stackoverflow.com/a/18839482/253704\">a similar question</a>)</p>\n\n<p>I've taken Jason Shah's and Mr S's implementation as the building block for my fix and improved upon it greatly.</p>\n\n<p>There's just far too much code to put into this comment I'll just link to it.</p>\n\n<ul>\n<li>Details: <a href=\"http://twigstechtips.blogspot.com/2013/09/android-webviewaddjavascriptinterface.html\" rel=\"nofollow\">http://twigstechtips.blogspot.com/2013/09/android-webviewaddjavascriptinterface.html</a></li>\n<li>Source: <a href=\"https://github.com/twig/twigstechtips-snippets/blob/master/GingerbreadJSFixExample.java\" rel=\"nofollow\">https://github.com/twig/twigstechtips-snippets/blob/master/GingerbreadJSFixExample.java</a></li>\n</ul>\n\n<p>Key points are:</p>\n\n<ul>\n<li>Applies to all versions of Gingerbread (2.3.x)</li>\n<li>Calls from JS to Android are now synchronous</li>\n<li>No longer have to map out interface methods manually</li>\n<li>Fixed possibility of string separators breaking code</li>\n<li>Much easier to change JS signature and interface names</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I know that to interact from Javascript to Java you have to inject a Java object using the addjavascriptInterface method in webview.</p>\n\n<p>Here is the problem I am facing.</p>\n\n<ol>\n<li><p>I register a java object using <code>addJavascriptInterface</code> method to be available in my JS.</p></li>\n<li><p>I inject few JS in the webview using <code>webview.loadURL(\"javascript:XXX\");</code></p></li>\n<li><p>I send a JS event when I am done with injecting the JS.</p></li>\n</ol>\n\n<p>The problem is that if immediately after step 1, if I execute the following Javascript: </p>\n\n<pre><code>mWebView.loadUrl(\"javascript:if(window.myobject) console.log('myobject found---------'); else {console.log('myobject not found----');}\");\n</code></pre>\n\n<p>I get \"myobject not found\" in my console's log.</p>\n\n<p>I want to know that if there is some time before I can access my object and if so, how do I get to know how much time should I wait to call my object?</p>\n",
            "last_activity_date": 1379378025,
            "question_id": 10962150,
            "score": 14,
            "tags": [
                "java",
                "javascript",
                "android",
                "webview"
            ],
            "title": "Understanding Android&#39;s webview addjavascriptinterface"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>A little bit of JS setTimeout can do the trick</p>\n\n<pre><code>setTimeout(function()\n{\n    // Delayed code in here\n    alert('You waited 5 seconds to see me'); // Waits 5 seconds, then alerts this\n}, 5000); // 5000 = 5 seconds\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use <a href=\"http://php.net/manual/es/function.sleep.php\" rel=\"nofollow\">sleep()</a>:</p>\n\n<pre><code>\n&lt;?php\n// Delays for 10 seconds.\nsleep(10);\n?>\n\n...\nhtml here\n...\n\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Call <a href=\"http://php.net/manual/en/function.sleep.php\" rel=\"nofollow\"><code>sleep()</code></a> in your PHP code to delay the request to the server.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can use php's <a href=\"http://php.net/manual/en/function.sleep.php\"><code>sleep($seconds)</code></a> function to slow down a page load. However, you would need to turn <a href=\"http://www.php.net/manual/en/function.ob-implicit-flush.php\">implicit output buffer flushing to \"on\"</a> with <code>ob_implicit_flush(true);</code> if you want anything to be sent to the user's browser before the page is done being processed. Otherwise your page won't have ANY contents until it's done loading. Calling sleep alone won't do the trick.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>This is what I would try:\nUse a php resource as source of the image:</p>\n\n<pre><code>&lt;img src=\"images/gifLoager.php\" /&gt;\n</code></pre>\n\n<p>in gifLoader.php, read your image file, output it byte by byte with a delay in the loop.</p>\n\n<pre><code>$fp = fopen( $path, 'rb');\nwhile(!feof($fp)) {\n        print(fread($fp, 1024));\n        flush();\n        Sleep(1);\n     }\nfclose($fp);\n</code></pre>\n\n<p>Don't forget to appropriately set the headers before outputting the binary data.</p>\n\n<p><strong>Referrences:</strong></p>\n\n<pre><code>http://stackoverflow.com/questions/1563069/stream-binary-file-from-mysql-to-download-with-php\nhttp://php.net/manual/en/function.sleep.php\nhttp://www.gamedev.net/topic/427622-php-and-file-streaming-script-with-resume-capability/\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Try <a href=\"http://deelay.me/\">Deelay.me</a>:</p>\n\n<pre><code>&lt;img src=\"http://deelay.me/1000/http://examplesite.com/image.gif\"&gt;\n</code></pre>\n\n<p><a href=\"http://deelay.me/\">Deelay.me</a> is a delay proxy for web resources. You can use it with your images/stylesheets/scripts, to incrase their load time.</p>\n",
                    "is_accepted": false,
                    "score": 33
                },
                {
                    "body": "<p>you can use <a href=\"http://www.dallaway.com/sloppy/\" rel=\"nofollow\">sloppy local web proxy</a> to slow down your connection (it's in JAVA, so it'll probably run on your devel machine. You might also want to turn off mod_deflate for testing purposes, if you want so how your browser responds to slow HTML load (for example, dynamicly sized HTML tables, etc)</p>\n\n<p>Also, see <a href=\"http://webmasters.stackexchange.com/questions/861/how-can-i-simulate-a-slow-connection-for-page-load\">this question</a> on webmasters.stackexchange.com</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm curious if there exists a method to intentionally slow the page load?</p>\n\n<p>I'm testing my HTML &amp; PHP pages on my local host right now, and I want to see how my loading gif etc will perform when the page load is slower.</p>\n\n<p>I realize this is a rare request as most developers are only concerned with speeding <em>up</em> page loads, but I thought there might be a method, using either javascript/jQuery or PHP, to do something like this for testing purposes. </p>\n\n<p>Thanks for any help!</p>\n\n<p>Note: I'm testing on MAMP, so that's Apache server running on Mac OS 10.7</p>\n",
            "last_activity_date": 1387416663,
            "question_id": 7405987,
            "score": 14,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "testing",
                "load-testing"
            ],
            "title": "Intentionally Slow Down HTML/PHP Page Load to Test"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>This is an absolute minefield and I would urge you not to attempt this if you can possibly avoid it. Not only is there a long and tangled history of browser manufacturers not agreeing on key event behaviour, there is also the fact that they still don't agree and are still regularly changing the key behaviour of their browsers.</p>\n\n<p>The following is the best I can offer and the definitive resource on browser key events: <a href=\"http://unixpapa.com/js/key.html\" rel=\"nofollow\">http://unixpapa.com/js/key.html</a></p>\n\n<p>If you have to do this, I think you're going to end up with loads of key code mapping tables that will go out of date very quickly. Good luck.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I have solved my own question. It's not a 100% solution but it should cover most of what is needed. Hopefully there will be a cleaner solution when browser vendors start integrating <a href=\"http://www.w3.org/TR/DOM-Level-3-Events/#keys\" rel=\"nofollow\">DOM Level 3 Events</a>.</p>\n\n<p>Just to re-iterate the main constraints:</p>\n\n<ol>\n<li>The key down and key up events should be reported/sent at the time they actually happen. I.e. sending a key down and key up together during the keyPress event is insufficient.</li>\n<li>Many key combinations must be fully handled during the keyDown event either because they never trigger a keyPress event (i.e. Ctrl key) or because the default action must be stopped in keyDown (WebKit) and doing so prevents the keyPress event from happening.</li>\n<li>The key down and key events should report the translated character code and not keyCode value.</li>\n</ol>\n\n<p>Without some out-of-the-box epiphany, the current browser implementations appear to prevent all three constraints from being fulfilled completely. So I have decided to relax constraint #3 just a bit.</p>\n\n<ul>\n<li><p>On browser <strong>keyDown</strong> event add the event to a key down list and check to see if it is a safe (no undesirable browser default behavior) key combination:</p>\n\n<ul>\n<li><p><strong>Safe</strong>: do nothing until the keyPress.</p></li>\n<li><p><strong>Unsafe</strong>: report/send a key down event immediately. This is where constraint #3 is relaxed because these limited key combinations are not translated to a character code (many of them don't have them though anyways).</p></li>\n</ul></li>\n<li><p>On browser <strong>keyPress</strong> event (which happens immediately after the keyDown event) check to see if it is a safe key combination:</p>\n\n<ul>\n<li><p><strong>Safe</strong>: report/send a key down event. Update the key down list using the translated character code (event.which).</p></li>\n<li><p><strong>Unsafe</strong>: do nothing since it was already reported/sent during keyDown.</p></li>\n</ul></li>\n<li><p>On browser <strong>keyUp</strong> event, find and remove the matching event from the key down list and use the translated code to report/send the key up event.</p></li>\n</ul>\n\n<p>Some additional links for those interesting:</p>\n\n<ul>\n<li>The <a href=\"https://github.com/kanaka/noVNC/commit/c96f900336b57401a7e2d1678f80cf88662ab566\" rel=\"nofollow\">noVNC commit</a> with the change.</li>\n<li>Some <a href=\"https://github.com/kanaka/noVNC/wiki/KeyEvents\" rel=\"nofollow\">wiki notes</a> on the issues as related to noVNC.</li>\n<li>This solution has <a href=\"http://mail.gnome.org/archives/commits-list/2011-April/msg06623.html\" rel=\"nofollow\">been adopted</a> in RedHat's <a href=\"http://blogs.gnome.org/alexl/2011/03/15/gtk-html-backend-update/\" rel=\"nofollow\">Broadway project (HTML5 GTK+ backend)</a>.</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>Quick background:</p>\n\n<ul>\n<li>when a key is pressed in a browser, three events are generated: <strong>keyDown</strong>, <strong>keyPress</strong> and <strong>keyUp</strong>.</li>\n<li><strong>keyDown</strong> and <strong>keyUp</strong> have a <strong>keyCode</strong> property which is approximately the physical key pressed.</li>\n<li><strong>keyPress</strong> also has <strong>charCode</strong> property set which takes into account modifier keys and keyboard layout (A and a have same keyCode but a different charCode).</li>\n<li>all three events have properties that indicate which modifier keys were pressed during those events.</li>\n</ul>\n\n<p>I'm the main <a href=\"https://github.com/kanaka/noVNC\">noVNC</a> developer and I have a tough problem: noVNC needs the translated <strong>charCode</strong> value without using the <strong>keyPress</strong> event for the following reasons:</p>\n\n<ul>\n<li>noVNC needs to send the keyDown and keyUp events separately to the VNC server (otherwise it's not a completely functional VNC client).</li>\n<li>more importantly, noVNC needs to prevent the default keyboard actions while connected which means calling the <strong>preventDefault()</strong> method of the <strong>keyDown</strong> event. This has the side-effect of also preventing the <strong>keyPress</strong> event from firing.</li>\n</ul>\n\n<p>Due to differences in keyboard layouts (i.e. different keyCode to charCode mappings) I've determine that noVNC will need a lookup table for different keyboard layouts.</p>\n\n<p><strong>But here is the real problem:</strong> on alternate layouts, some different physical keys have the <strong>SAME</strong> keyCode. For example, with an <strong>azerty</strong> (French) keyboard layout the '-' (dash) and '_' underscore keys both generate keyCode 189. Ack!!!</p>\n\n<p>So ... how do I get proper keyCode to charCode mapping and prevent default browser actions at the same time?</p>\n\n<p>BTW, I suspect the solution to this will be applicable to other interactive web applications and HTML5 games since you often want to be able to know full information about the key pressed without triggering any additional browser response to that keypress.</p>\n\n<p>Useful links:</p>\n\n<ul>\n<li><a href=\"http://kanaka.github.com/noVNC/noVNC/tests/keyboard.html\">Here</a> is an useful test page that show the three events and some other useful properties.</li>\n<li><a href=\"http://unixpapa.com/js/key.html\">Summary</a> of the crazy state of key events in Javascript (thanks @Tim)</li>\n<li>Quirksmode <a href=\"http://www.quirksmode.org/js/keys.html\">Detecting keystrokes</a></li>\n<li>Quirksmode <a href=\"http://www.quirksmode.org/dom/events/tests/keys.html\">Events - key events</a></li>\n<li><a href=\"https://github.com/kanaka/noVNC/issues/#issue/21\">noVNC issue</a> with more discussion of the problem.</li>\n</ul>\n\n<p><strong>Solution</strong>: see my post below.</p>\n",
            "last_activity_date": 1308589105,
            "question_id": 5306132,
            "score": 14,
            "tags": [
                "javascript",
                "html5",
                "browser",
                "cross-browser"
            ],
            "title": "Translate Javascript keyCode into charCode for non-U.S. keyboard layout (i.e. azerty)"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>Nope, that's not possible. Browsers send <code>referer</code> header you can't control with javascript.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Not a JS solution, but if you serve your page over HTTPS the browser isn't supposed to give a referer.  Some still do, though.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>I was looking for just the same thing, and it seems like this will be a feature of HTML5.</p>\n\n<p>The tag you are looking for is <code>rel = \"noreferrer\"</code>.</p>\n\n<p>It is already implemented in some browsers (for instance Chrome) but your mileage may vary.</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>I was trying to figure this out too.</p>\n\n<p>The solution I thought of was to use a data url to hide the actual page I am coming from.</p>\n\n<p><code>&lt;a href='data:text/html;charset=utf-8, &lt;html&gt;&lt;script&gt;window.location = \"http://google.ca\";&lt;/script&gt;&lt;/html&gt;'&gt;Link&lt;/a&gt;</code></p>\n\n<p>This link opens a page that only contains javascript to load a different page.\nIn my testing no referrer is given to the final destination. I don't know what it could send as a referrer if it tried anyways, maybe the data url ? which wouldn't give away where you came from.</p>\n\n<p>This works in Chrome. Chrome is my only concern for my current problem but for browsers that don't like javascript in pages that are data urls. You could probably try a meta refresh.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Bigmack is on the right track, but a javascript location change still sends a referrer in firefox. Using a meta refresh seems to solve the problem for me.</p>\n\n<pre><code>    &lt;a href='data:text/html;charset=utf-8, &lt;html&gt;&lt;meta http-equiv=\"refresh\" content=\"0;URL=&amp;#39;http://google.com/&amp;#39;\"&gt;&lt;/html&gt;'&gt;Link&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>HTML 5 includes <code>rel=\"noreferrer\"</code>, which is currently supported in Chrome, Safari, MobileSafari, and other WebKit-based browsers. So for these browsers, you can simply write:</p>\n\n<pre><code>&lt;a href=\"example.com\" rel=\"noreferrer\"&gt;link&lt;/a&gt;\n</code></pre>\n\n<p>There's also a shim available for other browsers: <a href=\"https://github.com/knu/noreferrer\" rel=\"nofollow\">https://github.com/knu/noreferrer</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You could also use a referer-breaking service like <a href=\"https://anon.click/\" rel=\"nofollow\">https://anon.click/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a page where I don't want the outbound links to send a referrer so the destination site doesn't know where they came from.</p>\n\n<p>I'm guessing this isn't possible but I just want to make sure there weren't any hidden javascript magic that could do it and that would work with some (if not most) browsers.</p>\n\n<p>Maybe some clever HTTP status code redirecting kung-fu?</p>\n\n<p>Something like this would be perfect</p>\n\n<pre><code>&lt;a href=\"example.com\" send_referrer=\"false\"&gt;link&lt;/a&gt;\n</code></pre>\n",
            "last_activity_date": 1423928409,
            "question_id": 5033300,
            "score": 14,
            "tags": [
                "javascript",
                "href",
                "referrer"
            ],
            "title": "Stop link from sending referrer to destination"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p><a href=\"http://www.nathanm.com/ajax-bypassing-xmlhttprequest-cross-domain-restriction/\" rel=\"nofollow\">http://www.nathanm.com/ajax-bypassing-xmlhttprequest-cross-domain-restriction/</a></p>\n\n<blockquote>\n  <p>The only problem is that due to security in both Internet Explorer and in FireFox, the XMLHTTPRequest object is not allowed to make cross-domain, cross-protocol, or cross-port requests.</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You cannot do Ajax request to another domain-name than the one your website is on, because of the <a href=\"http://en.wikipedia.org/wiki/Same%5Forigin%5Fpolicy\" rel=\"nofollow\">Same Origin Policy</a> ; which means you will not be quite able to do what you want... At least directly.</p>\n\n<p>A solution would be to :</p>\n\n<ul>\n<li>have some kind of \"proxy\" on your own server,</li>\n<li>send your Ajax request to that proxy,</li>\n<li>which, in turn, will fetch the page on the other domain name ; and return it to your JS code as response to the Ajax request.</li>\n</ul>\n\n<p>This can be done in a couple of lines with almost any language <em>(like PHP, using curl, for instance)</em>... Or you might be able to use some functionnality of your webserver <em>(see <a href=\"http://httpd.apache.org/docs/2.2/mod/mod%5Fproxy.html\" rel=\"nofollow\"><code>mod_proxy</code></a> and <a href=\"http://httpd.apache.org/docs/2.2/mod/mod%5Fproxy%5Fhttp.html\" rel=\"nofollow\"><code>mod_proxy_http</code></a>, for instance, for Apache)</em></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Instead of curl, you could use a tool like <a href=\"http://seleniumhq.org/\" rel=\"nofollow\">Selenium</a> which will automate loading the page in the browser. You can run JavaScript with it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I would like to point out that there are situations where it is perfectly acceptable to use jQuery to scrape screens across domains.  Windows Sidebar gadgets run in a 'Local Machine Zone' that allows cross domain scripting.</p>\n\n<p>And jQuery does have the ability to apply selectors to retreived html content.  You just need to add the selector to a load() method's url parameter after a space.</p>\n\n<p>The example gadget code below checks this page every hour and reports the total number of page views.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;script type=\"text/javascript\" src=\"jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;style&gt;\n        body { \n            height: 120px;\n            width: 130px;\n            background-color: white;\n        };\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\nQuestion Viewed:\n&lt;div id=\"data\"&gt;&lt;/div&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\n    var url = \"http://stackoverflow.com/questions/1936495/website-scraping-using-jquery-and-ajax\"\n\n    updateGadget();\n\n    inervalID = setInterval(\"updateGadget();\", 60 * 1000);\n\n    function updateGadget(){\n\n        $(document).ready(function(){\n            $(\"#data\").load(url + \" .label-value:contains('times')\");\n        });\n\n    }\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>I do this with a small PHP proxy, temporarily stripping IMG tags to speed up load times. I've wrapped it in a jQuery plugin that makes it relatively easy to use, see <a href=\"http://brianzeligson.com/jqueryScrape/\" rel=\"nofollow\">here</a> for demo/github link</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Its not that difficult.</p>\n\n<pre><code>$(document).ready(function() {\nbaseUrl = \"http://www.somedomain.com/\";\n$.ajax({\n    url: baseUrl,\n    type: \"get\",\n    dataType: \"\",\n    success: function(data) {\n        //do something with data\n});\n</code></pre>\n\n<p>I think this can give you a good clue - <a href=\"http://jsfiddle.net/skelly/m4QCt/\" rel=\"nofollow\">http://jsfiddle.net/skelly/m4QCt/</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I want to be able to manipulate the html of a given url. Something like html scraping. I know this can be done using curl or some scraping library.But i would like to know if it is possible to use jquery to make a get request to the url using ajax and retrieve the html of the url, and run jquery code on the html returned ?</p>\n\n<p>Thank You</p>\n",
            "last_activity_date": 1351498597,
            "question_id": 1936495,
            "score": 14,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "screen-scraping"
            ],
            "title": "Website scraping using jquery and ajax"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>I generally do it when rendering the HTML for the control and depending on whether it's a library injection or an instance injection I use the Items collection to specify whether or not I have already produced the code for a control of this type during the current request using a unique identifier.</p>\n\n<p>Something to the effect of:</p>\n\n<pre><code>    protected override void Render(HtmlTextWriter writer)\n\t{\n\t\tbase.Render(writer);\n\n\t\t//Check if the Object Script has already been rendered during this request.\n\t\tif (!Context.Items.Contains(\"xxx\"))\n\t\t{\n\t\t\t//Specify that the Object Script has been rendered during this request.\n\t\t\tContext.Items.Add(\"xxx\", string.Empty);\n\t\t\t//Write the script to the page via the control\n\t\t\twriter.Write([libraryinjection]);\n\t\t}\n\t\t//Write the script that instantiates a new instance for this control\n\t\twriter.Write([instanceinjection]);\n\t}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can register client script includes using the ClientScriptManager.\nPage is accessible through the Control.Page property.</p>\n\n<pre><code>Page.ClientScript.RegisterClientScriptInclude (\n  typeof ( MyControl ), \"includeme.js\", \"js/includeme.js\"  );\n</code></pre>\n\n<p>EDIT: Sorry, for a total \"complete package\", its possible using scripts as Embedded Resources,\nand aquire dynamic URL's through the WebResource.axd handler.\nIf this is not considered totally complete, then i guess it could be put in App_LocalResources, but it never gonna be just one file,\nunless the code and script is inline.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>If you have the text of the actual javascript in your .CS file, you can call Page.ClientScript.RegisterClientScriptBlock. </p>\n\n<p>The following assumes that \"GetScript()\" returns the <em>actual</em> javascript you want added to the rendered control. </p>\n\n<pre><code>Page.ClientScript.RegisterClientScriptBlock(GetType(), \"controlScriptName\", GetScript());\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Good question! </p>\n\n<p>A UserControl should be a single package without any dependency on a JavaScript or a CSS file. You will need to make the JS and CSS files as embedded resources. Right click properties and set build action to embedded resources. Then you need to inject the JavaScript and CSS files as WebResources. </p>\n\n<p>Here is one article that I wrote yesterday which talks about the same scenario: </p>\n\n<p><a href=\"http://highoncoding.com/Articles/502_Creating_RadioButton_Validation_Using_Custom_Validator.aspx\" rel=\"nofollow\">http://highoncoding.com/Articles/502_Creating_RadioButton_Validation_Using_Custom_Validator.aspx</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In the Page_Load method of control.ascx.cs file:</p>\n\n<pre><code>LiteralControl jsResource = new LiteralControl();\njsResource.Text = \"&lt;script type=\\\"text/javascript\\\" src=\\\"js/mini-template-control.js\\\"&gt;&lt;/script&gt;\";\nPage.Header.Controls.Add(jsResource);\n\nHtmlLink stylesLink = new HtmlLink();\nstylesLink.Attributes[\"rel\"] = \"stylesheet\";\nstylesLink.Attributes[\"type\"] = \"text/css\";\nstylesLink.Href = \"css/mini-template-control.css\";\nPage.Header.Controls.Add(stylesLink);\n</code></pre>\n\n<p>This will load css and Javascript into the head tag of the main page, just make sure that the head has runat=\"server\".</p>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>The same as gnomixa's response, only a bit cleaner:</p>\n\n<pre><code>HtmlGenericControl js = new HtmlGenericControl(\"script\");\njs.Attributes[\"type\"] = \"text/javascript\";\njs.Attributes[\"src\"] = \"jscript/formfunctions.js\";\nPage.Header.Controls.Add(js);\n</code></pre>\n\n<p>from <a href=\"http://www.aspdotnetfaq.com/Faq/How-to-Programmatically-add-JavaScript-File-to-Asp-Net-page.aspx\" rel=\"nofollow\">http://www.aspdotnetfaq.com/Faq/How-to-Programmatically-add-JavaScript-File-to-Asp-Net-page.aspx</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>In my site I Place all needed scripts and styles to placeHolder</p>\n\n<pre><code>&lt;asp:placeHolder runat=\"Server\" ID=\"phHead\"&gt;\n    &lt;script src=\"/header/widget/script.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;link href=\"/header/widget/style.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n&lt;/asp:placeHolder&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Private Sub Page_Load(ByVal sender As Object, ByVal e As System.EventArgs) Handles Me.Load\n    Page.Header.Controls.Add(phHead)\nEnd Sub\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I found this to be a more elegant way to fix-link to your javascript. <br/>\nIn your .ascx, link to your script files the following way: </p>\n\n<pre><code>&lt;script src='&lt;%= ResolveClientUrl(\"~/Scripts/jquery-1.7.1.min.js\") %&gt;' type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src='&lt;%= ResolveClientUrl(\"~/Scripts/jquery.maskedinput-1.3.min.js\") %&gt;' type=\"text/javascript\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>That way, no matter which subfolder/page you add your user control to, the link to your scripts will always be correctly resolved.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How do you add Javascript file programmatically to the user control?</p>\n\n<p>I want the user control to be a complete package - ie I don't want to have to add javascript that's related to the user control on the page where it's used, when I can do it inside the control itself.</p>\n\n<p>Since there is no Page object in the user control, how would you do it?</p>\n",
            "last_activity_date": 1383137318,
            "question_id": 521639,
            "score": 14,
            "tags": [
                "asp.net",
                "javascript",
                "user-controls"
            ],
            "title": "Programmatically adding Javascript File to User Control in .net"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<h2><em><strong>EDIT</em></strong></h2>\n\n<p>In the wonderful world of bad ideas, Twitter is sunsetting this answer, as of May 2013, and will require, at minimum, that you either use one of their widgets, and shoehorn it in, or that you set up an application and do application-level authentication, even for public-timeline <code>GET</code> requests.</p>\n\n<p>If they change their mind, or delay the throwing of the switch, this will at least continue to be here.</p>\n\n<hr>\n\n<p>Use the Search API:</p>\n\n<pre><code>\"http://search.twitter.com/search.json?q=nerdswguitars\"\n</code></pre>\n\n<p>You can use the URL-encoded <code>#</code> or <code>@</code> in front of search terms.  You can also use keywords like <code>from</code> or <code>to</code>, and specify limits, et cetera.</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>Unfortunately, at the time of writing Twitter has turned off the V1 API and the search API mentioned in the accepted answer. Attempting to use that search API will now result in the following error: \"The Twitter REST API v1 is no longer active. Please migrate to API v1.1.\".</p>\n\n<p>It is recommended that you use server-side script to retrieve your results, as mentioned by Zachary Kniebel in his comment on the original question. Authorization information can be found here: <a href=\"https://dev.twitter.com/docs/auth/authorizing-request\">https://dev.twitter.com/docs/auth/authorizing-request</a></p>\n\n<p>Also worth consulting is this link in which Twitter employee @episod advises against fully client-side implementations of authorisation, as it exposes key/secret information: <a href=\"https://dev.twitter.com/discussions/5025\">https://dev.twitter.com/discussions/5025</a> - his quote:</p>\n\n<p>\"@episod (Taylor Singletary): We don't support or recommend performing OAuth directly through Javascript -- it's insecure and puts your application at risk. The only acceptable way to perform it is if you kept all keys and secrets server-side, computed the OAuth signatures and parameters server side, then issued the request client-side from the server-generated OAuth values.\"</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>You can use <a href=\"https://github.com/eloquent/mooch\" rel=\"nofollow\">Mooch</a>, a small application designed to solve this exact problem. Setting up a new <em>Mooch</em> service is very simple, and utilizes <a href=\"https://www.heroku.com/\" rel=\"nofollow\">Heroku</a>. The\ndeployment process requires the <a href=\"https://toolbelt.heroku.com/\" rel=\"nofollow\">Heroku Toolbelt</a> application.</p>\n\n<h2>Step 1: Create a Twitter app</h2>\n\n<ul>\n<li>Visit <a href=\"https://dev.twitter.com/\" rel=\"nofollow\">https://dev.twitter.com/</a>.</li>\n<li>Sign in with a Twitter account.</li>\n<li><a href=\"https://dev.twitter.com/apps/new\" rel=\"nofollow\">Create a new application</a>.</li>\n</ul>\n\n<h2>Step 2: Get <em>Mooch</em></h2>\n\n<ul>\n<li>Clone the Git repository (<code>git clone git@github.com:eloquent/mooch.git</code>).</li>\n<li>Change into the <em>Mooch</em> root directory.</li>\n</ul>\n\n<h2>Step 3: Create a Heroku app</h2>\n\n<ul>\n<li>Sign in with <a href=\"https://toolbelt.heroku.com/\" rel=\"nofollow\">Heroku Toolbelt</a> (<code>heroku login</code>).</li>\n<li>Create a new app with <code>heroku create</code>.</li>\n</ul>\n\n<h2>Step 4: Configuration</h2>\n\n<p><em>Mooch</em> authenticates requests to the Twitter API using the <a href=\"https://dev.twitter.com/docs/auth/application-only-auth\" rel=\"nofollow\">application-only\nauthentication</a> method. This requires the consumer key and secret from the\nTwitter application created in step 1.</p>\n\n<h3>Example authentication configuration</h3>\n\n<pre><code>heroku config:set MOOCH_CONSUMER_KEY=xvz1evFS4wEEPTGEFPHBog\nheroku config:set MOOCH_CONSUMER_SECRET=L8qq9PZyRg6ieKGEKhZolGC0vJWLw8iEJ88DRdyOg\n</code></pre>\n\n<h2>Step 5: Deploy</h2>\n\n<ul>\n<li><code>git push heroku master</code></li>\n</ul>\n\n<p>The new <em>Mooch</em> service should now be ready for use. Check the <a href=\"https://dashboard.heroku.com/\" rel=\"nofollow\">Heroku\ndashboard</a> for the service's location.</p>\n\n<p>For more detailed configuration instructions, a demo application and more, check out the <a href=\"https://github.com/eloquent/mooch#readme\" rel=\"nofollow\">Mooch README</a> on GitHub.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm working on a basic personal homepage, consists of a single html document, a .css and jquery*.js file. I want to create a blog-ish look via fetching page content from tweets. The standart widget doesn't fit to the look of the page.</p>\n\n<p>I can fetch public tweets from any account with no authentication crap (it's crap because it public data anyway) via API v1. But with API v1.1, it returns authentication error. It wants me to authenticate to fetch public data. Try to navigate  <a href=\"https://api.twitter.com/1.1/statuses/user_timeline.json?callback=?&amp;screen_name=java\">this</a> url. it shows <code>({\"errors\":[{\"message\":\"Bad Authentication data\",\"code\":215}]});</code>.</p>\n\n<p>My question is <em>is there a way to fetch public tweets via client side js</em>? I don't want to create an app to just fetch public data. I don't wan't to use identi.ca or else, but Twitter pushes me to do.</p>\n\n<hr>\n\n<p>Upon the comment of Zachary Kinebel to Norguard's answer, I thought, as a comment  of Norguard's might be helpful to others, I should put it here:</p>\n\n<hr>\n\n<p><code>/search.json?q=from:nerdswguitars</code> === recent tweets by NerdsWGuitars <code>/search.json?q=to:nerdswguitars</code> === recent tweets to NerdsWGuitars <code>/search.json?q=from:nerdswguitars</code> OR <code>to:nerdswguitars</code> === both. <code>/search.json?q=@nerdswguitars</code> === posts involving NerdsWGuitars. <code>/search.json?q=#nerdswithguitars</code> === posts trending \"nerdswithguitars\". But you MUST make sure that you're properly URL encoding the query. Read more here: <a href=\"https://dev.twitter.com/docs/using-search\">https://dev.twitter.com/docs/using-search</a> and if you can't find what it is that you're looking for, out of this, then you need to be a lot more specific</p>\n",
            "last_activity_date": 1374453998,
            "question_id": 13056432,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "twitter",
                "jsonp"
            ],
            "title": "fetch public tweets via twitter api 1.1, via client side code (js)"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>If you're under MacOS or Linux, you can use the <code>unzip</code> command to unzip from <code>stdin</code>.</p>\n\n<p>In this example I'm reading the zip file from the filesystem into a <code>Buffer</code> object but it works\nwith a downloaded file as well:</p>\n\n<pre><code>// Get a Buffer with the zip content\nvar fs = require(\"fs\")\n  , zip = fs.readFileSync(__dirname + \"/test.zip\");\n\n\n// Now the actual unzipping:\nvar spawn = require('child_process').spawn\n  , fileToExtract = \"test.js\"\n    // -p tells unzip to extract to stdout\n  , unzip = spawn(\"unzip\", [\"-p\", \"/dev/stdin\", fileToExtract ])\n  ;\n\n// Write the Buffer to stdin\nunzip.stdin.write(zip);\n\n// Handle errors\nunzip.stderr.on('data', function (data) {\n  console.log(\"There has been an error: \", data.toString(\"utf-8\"));\n});\n\n// Handle the unzipped stdout\nunzip.stdout.on('data', function (data) {\n  console.log(\"Unzipped file: \", data.toString(\"utf-8\"));\n});\n\nunzip.stdin.end();\n</code></pre>\n\n<p>Which is actually just the node version of:</p>\n\n<pre><code>cat test.zip | unzip -p /dev/stdin test.js\n</code></pre>\n\n<p><strong>EDIT</strong>: It's worth noting that this will not work if the input zip is too big to be read in one chunk from stdin. If you need to read bigger files, and your zip file contains only one file, you can use <a href=\"http://www.info-zip.org/mans/funzip.html\" rel=\"nofollow\">funzip</a> instead of <code>unzip</code>:</p>\n\n<pre><code>var unzip = spawn(\"funzip\");\n</code></pre>\n\n<p>If your zip file contains multiple files (and the file you want isn't the first one) I'm afraid to say you're out of luck. Unzip needs to seek in the <code>.zip</code> file since zip files are just a container, and unzip may just unzip the last file in it. In that case you have to save the file temporarily (<a href=\"https://github.com/bruce/node-temp\" rel=\"nofollow\">node-temp</a> comes in handy).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<ul>\n<li><p>You need a library that can handle buffers. The latest version of <code>adm-zip</code> will do:</p>\n\n<p><code>npm install git://github.com/cthackers/adm-zip.git</code></p></li>\n<li><p>My solution uses the <code>http.get</code> method, since it returns Buffer chunks. </p></li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>var file_url = 'http://bdn-ak.bloomberg.com/precanned/Comdty_Calendar_Spread_Option_20120428.txt.zip';\n\nvar request = require('request');\nvar fs = require('fs');\nvar AdmZip = require('adm-zip');\nvar http = require('http');\nvar url = require('url');\n\nvar options = {\n    host: url.parse(file_url).host,\n    port: 80,\n    path: url.parse(file_url).pathname\n};\n\nhttp.get(options, function(res) {\n    var data = [], dataLen = 0; \n\n    res.on('data', function(chunk) {\n\n            data.push(chunk);\n            dataLen += chunk.length;\n\n        }).on('end', function() {\n            var buf = new Buffer(dataLen);\n\n            for (var i=0, len = data.length, pos = 0; i &lt; len; i++) { \n                data[i].copy(buf, pos); \n                pos += data[i].length; \n            } \n\n            var zip = new AdmZip(buf);\n            var zipEntries = zip.getEntries();\n            console.log(zipEntries.length)\n\n            for (var i = 0; i &lt; zipEntries.length; i++)\n                console.log(zip.readAsText(zipEntries[i])); \n        });\n});\n</code></pre>\n\n<p>The idea is to create an array of buffers and concatenate them into a new one at the end. This is due to the fact that buffers cannot be resized.</p>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>Two days ago the module <code>node-zip</code> has been released, which is a wrapper for the JavaScript only version of Zip: <a href=\"http://stuartk.com/jszip/\" rel=\"nofollow\">JSZip</a>.</p>\n\n<pre><code>var NodeZip = require('node-zip')\n  , zip = new NodeZip(zipBuffer.toString(\"base64\"), { base64: true })\n  , unzipped = zip.files[\"your-text-file.txt\"].data;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Sadly you can't <strong>pipe</strong> the response stream into the unzip job as node <code>zlib</code> lib allows you to do, you have to cache and wait the end of the response. I suggest you to pipe the response to a <code>fs</code> stream in case of big files, otherwise you will full fill your memory in a blink!</p>\n\n<p>I don't completely understand what you are trying to do, but imho this is <strong>the best approach</strong>. You should <strong>keep your data in memory only the time you really need it</strong>, and then <strong>stream to the <a href=\"https://github.com/wdavidw/node-csv-parser\" rel=\"nofollow\">csv parser</a></strong>.</p>\n\n<p><em>If you want to keep all your data in memory you can replace the csv parser method <code>fromPath</code> with <code>from</code> that takes a buffer instead and in getData return directly <code>unzipped</code></em></p>\n\n<p>You can use the <code>AMDZip</code> (as @mihai said) instead of <code>node-zip</code>, just pay attention because <code>AMDZip</code> is not yet published in npm so you need:</p>\n\n<pre><code>$ npm install git://github.com/cthackers/adm-zip.git\n</code></pre>\n\n<p><strong>N.B. Assumption: the zip file contains only one file</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var request = require('request'),\n    fs = require('fs'),\n    csv = require('csv')\n    NodeZip = require('node-zip')\n\nfunction getData(tmpFolder, url, callback) {\n  var tempZipFilePath = tmpFolder + new Date().getTime() + Math.random()\n  var tempZipFileStream = fs.createWriteStream(tempZipFilePath)\n  request.get({\n    url: url,\n    encoding: null\n  }).on('end', function() {\n    fs.readFile(tempZipFilePath, 'base64', function (err, zipContent) {\n      var zip = new NodeZip(zipContent, { base64: true })\n      Object.keys(zip.files).forEach(function (filename) {\n        var tempFilePath = tmpFolder + new Date().getTime() + Math.random()\n        var unzipped = zip.files[filename].data\n        fs.writeFile(tempFilePath, unzipped, function (err) {\n          callback(err, tempFilePath)\n        })\n      })\n    })\n  }).pipe(tempZipFileStream)\n}\n\ngetData('/tmp/', 'http://bdn-ak.bloomberg.com/precanned/Comdty_Calendar_Spread_Option_20120428.txt.zip', function (err, path) {\n  if (err) {\n    return console.error('error: %s' + err.message)\n  }\n  var metadata = []\n  csv().fromPath(path, {\n    delimiter: '|',\n    columns: true\n  }).transform(function (data){\n    // do things with your data\n    if (data.NAME[0] === '#') {\n      metadata.push(data.NAME)\n    } else {\n      return data\n    }\n  }).on('data', function (data, index) {\n    console.log('#%d %s', index, JSON.stringify(data, null, '  '))\n  }).on('end',function (count) {\n    console.log('Metadata: %s', JSON.stringify(metadata, null, '  '))\n    console.log('Number of lines: %d', count)\n  }).on('error', function (error) {\n    console.error('csv parsing error: %s', error.message)\n  })\n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I want to download a zip file from the internet and unzip it in memory without saving to a temporary file. How can I do this?</p>\n\n<p>Here is what I tried:</p>\n\n<pre><code>var url = 'http://bdn-ak.bloomberg.com/precanned/Comdty_Calendar_Spread_Option_20120428.txt.zip';\n\nvar request = require('request'), fs = require('fs'), zlib = require('zlib');\n\n  request.get(url, function(err, res, file) {\n     if(err) throw err;\n     zlib.unzip(file, function(err, txt) {\n        if(err) throw err;\n        console.log(txt.toString()); //outputs nothing\n     });\n  });\n</code></pre>\n\n<p>[EDIT]\nAs, suggested, I tried using the adm-zip library and I still cannot make this work:</p>\n\n<pre><code>var ZipEntry = require('adm-zip/zipEntry');\nrequest.get(url, function(err, res, zipFile) {\n        if(err) throw err;\n        var zip = new ZipEntry();\n        zip.setCompressedData(new Buffer(zipFile.toString('utf-8')));\n        var text = zip.getData();\n        console.log(text.toString()); // fails\n    });\n</code></pre>\n",
            "last_activity_date": 1357014353,
            "question_id": 10359485,
            "score": 13,
            "tags": [
                "javascript",
                "node.js",
                "zip",
                "zlib",
                "unzip"
            ],
            "title": "How to download and unzip a zip file in memory in NodeJs?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The placement can be a function instead of a string. An example of auto placement written by <strong>fat</strong> and then ported to the most recent version of bootstrap by <strong>wleeper</strong> is in one of the github issues on the project here: <a href=\"https://github.com/twitter/bootstrap/issues/345\">https://github.com/twitter/bootstrap/issues/345</a></p>\n\n<p>Here is the result of compiling the CoffeeScript to JavaScript:</p>\n\n<pre><code>$(\"a[rel=popover]\").popover({\n  placement: function(tip, element) {\n    var $element, above, actualHeight, actualWidth, below, boundBottom, boundLeft, boundRight, boundTop, elementAbove, elementBelow, elementLeft, elementRight, isWithinBounds, left, pos, right;\n    isWithinBounds = function(elementPosition) {\n      return boundTop &lt; elementPosition.top &amp;&amp; boundLeft &lt; elementPosition.left &amp;&amp; boundRight &gt; (elementPosition.left + actualWidth) &amp;&amp; boundBottom &gt; (elementPosition.top + actualHeight);\n    };\n    $element = $(element);\n    pos = $.extend({}, $element.offset(), {\n      width: element.offsetWidth,\n      height: element.offsetHeight\n    });\n    actualWidth = 283;\n    actualHeight = 117;\n    boundTop = $(document).scrollTop();\n    boundLeft = $(document).scrollLeft();\n    boundRight = boundLeft + $(window).width();\n    boundBottom = boundTop + $(window).height();\n    elementAbove = {\n      top: pos.top - actualHeight,\n      left: pos.left + pos.width / 2 - actualWidth / 2\n    };\n    elementBelow = {\n      top: pos.top + pos.height,\n      left: pos.left + pos.width / 2 - actualWidth / 2\n    };\n    elementLeft = {\n      top: pos.top + pos.height / 2 - actualHeight / 2,\n      left: pos.left - actualWidth\n    };\n    elementRight = {\n      top: pos.top + pos.height / 2 - actualHeight / 2,\n      left: pos.left + pos.width\n    };\n    above = isWithinBounds(elementAbove);\n    below = isWithinBounds(elementBelow);\n    left = isWithinBounds(elementLeft);\n    right = isWithinBounds(elementRight);\n    if (above) {\n      return \"top\";\n    } else {\n      if (below) {\n        return \"bottom\";\n      } else {\n        if (left) {\n          return \"left\";\n        } else {\n          if (right) {\n            return \"right\";\n          } else {\n            return \"right\";\n          }\n        }\n      }\n    }\n  }\n});\n</code></pre>\n\n<p>It is working well for me except for one case: if the item is in the upper right corner there is no good spot for the popover to appear that is one of the options and it appears partially off the screen.</p>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>For those interested in a solution that will take a default placement (using the <code>data-placement</code> attribute on the element), I have adapted the great answer from Cymen.</p>\n\n<p>I've also ensured that no boundaries are calculated unnecessarily, so it should be slightly more performant.</p>\n\n<pre><code>$('[data-toggle=\"popover\"]').each(function() {\n    var trigger = $(this);\n    trigger.popover({\n        animation: true,\n        delay: { show: 0, hide: 0 },\n        html: true,\n        trigger: 'hover focus',\n        placement: getPlacementFunction(trigger.attr(\"data-placement\"), 283, 117)\n    });\n});\n\nvar getPlacementFunction = function (defaultPosition, width, height) {\n    return function (tip, element) {\n        var position, top, bottom, left, right;\n\n        var $element = $(element);\n        var boundTop = $(document).scrollTop();\n        var boundLeft = $(document).scrollLeft();\n        var boundRight = boundLeft + $(window).width();\n        var boundBottom = boundTop + $(window).height();\n\n        var pos = $.extend({}, $element.offset(), {\n            width: element.offsetWidth,\n            height: element.offsetHeight\n        });\n\n        var isWithinBounds = function (elPos) {\n            return boundTop &lt; elPos.top &amp;&amp; boundLeft &lt; elPos.left &amp;&amp; boundRight &gt; (elPos.left + width) &amp;&amp; boundBottom &gt; (elPos.top + height);\n        };\n\n        var testTop = function () {\n            if (top === false) return false;\n            top = isWithinBounds({\n                top: pos.top - height,\n                left: pos.left + pos.width / 2 - width / 2\n            });\n            return top ? \"top\" : false;\n        };\n\n        var testBottom = function () {\n            if (bottom === false) return false;\n            bottom = isWithinBounds({\n                top: pos.top + pos.height,\n                left: pos.left + pos.width / 2 - width / 2\n            });\n            return bottom ? \"bottom\" : false;\n        };\n\n        var testLeft = function () {\n            if (left === false) return false;\n            left = isWithinBounds({\n                top: pos.top + pos.height / 2 - height / 2,\n                left: pos.left - width\n            });\n            return left ? \"left\" : false;\n        };\n\n        var testRight = function () {\n            if (right === false) return false;\n            right = isWithinBounds({\n                top: pos.top + pos.height / 2 - height / 2,\n                left: pos.left + pos.width\n            });\n            return right ? \"right\" : false;\n        };\n\n        switch (defaultPosition) {\n            case \"top\":\n                if (position = testTop()) return position;\n            case \"bottom\":\n                if (position = testBottom()) return position;\n            case \"left\":\n                if (position = testLeft()) return position;\n            case \"right\":\n                if (position = testRight()) return position;\n            default:\n                if (position = testTop()) return position;\n                if (position = testBottom()) return position;\n                if (position = testLeft()) return position;\n                if (position = testRight()) return position;\n                return defaultPosition;\n        }\n    }\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>Does anyone know of an extension to the popover component of twitter bootstrap that dynamically changes the placement option to ensure that the popover displays on the screen?</p>\n",
            "last_activity_date": 1378475363,
            "question_id": 10238089,
            "score": 13,
            "tags": [
                "javascript",
                "twitter-bootstrap"
            ],
            "title": "How can you ensure twitter bootstrap popover windows are visible?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You have to consider moving inline code \"outside\" and include it with</p>\n\n<pre><code>&lt;script defer=\"defer\" type=\"text/javascript\" src=\"\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>First of all I would recommend you to analyse the loading of the scripts on the client side very carefully and not only for the first JavaScript loading, but on the loading of the same JavaScript files at the second time or its loading on another page. If the ETag are correctly set on the scripts by the web server or if you use other caching options of HTTP (see the <a href=\"http://www.mnot.net/cache_docs/\" rel=\"nofollow\">caching tutorial</a> for details) for the JavaScripts files than no loading of the files itself will take place and only the cache revalidation will be done. So it can be that the problem which you describes is not so important like it looks like.</p>\n\n<p>If you do decide to load some scripts dynamically you can use <a href=\"http://api.jquery.com/jQuery.getScript/\" rel=\"nofollow\">jQuery.getScript</a> and place all dependent code inside of the <code>success</code> callback. If you need to load one or two JavaScript files the way will work very good, but if you need to load a list of JavaScript files with more complex dependency the implementation could be not so easy. In the case you can use <code>document.writeln</code> inside of <code>&lt;head&gt;</code>. The usage of the method inside of <code>&lt;head&gt;</code> has almost no disadvantages (see <a href=\"http://stackoverflow.com/a/4636492/315935\">here</a> for details).</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Have a look at using <a href=\"http://headjs.com/\" rel=\"nofollow\">headjs</a>. It is a nice lightweight library that will do this all for you.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can actually lazyload inline javascript:\n1- Change the type parameter in the inline script to: text/delayscript</p>\n\n<p>FROM</p>\n\n<pre><code>    &lt;!\u2013 Inline Script \u2013&gt;\n&lt;script type=\"text/javascript\" language=\"javaScript\"&gt;\n             /* Code */\n&lt;/script&gt;\n</code></pre>\n\n<p>To</p>\n\n<pre><code>    &lt;!\u2013 Inline Script \u2013&gt;\n&lt;script type=\"text/delayscript\"&gt;\n             /* Code */\n&lt;/script&gt;\n</code></pre>\n\n<p>Giving the script tag a custom Mime type text/delayscript forces the browser to ignore its content (Please note that leaving it out entirely will default to text/javascript).</p>\n\n<p>2-  Lazy load all inline scripts \nOnce heads.js (Or an other framework you might be using) confirms that it lazy loaded all your external JS, you can then grab the content of all your custom script tags and inject them in the page:</p>\n\n<pre><code>&lt;script&gt;\nhead.ready(function() {\n    var \n        _head = document.getElementsByTagName(\"head\")[0],\n        _script = document.createElement('script'),\n        _scripts = document.getElementsByTagName(\"script\"),\n        _txt = \"text/delayscript\",\n        _contents = []\n    ;\n\n    for(var i=0,l=_scripts.length;i&lt;l;i++){\n        var _type = _scripts[i].getAttribute(\"type\");\n            if(_type &amp;&amp; _type.toLowerCase() ==_txt)\n                _contents.push(_scripts[i].innerHTML)\n    }\n\n\n    _script.type = 'text/javascript';\n    _script.innerHTML = _contents.join(\" \");\n    _head.appendChild(_script);\n\n});\n</code></pre>\n\n<p></p>\n\n<p>To be even more graceful, you can actually keep the inline scripts in their original hierarchy in the DOM tree instead of jamming all their content in one script, as I have suggested above, by replacing the marked inline script tag by a new one that has mime type text/javascript:</p>\n\n<pre><code>head.ready(function() {\nvar \n    _scripts = document.getElementsByTagName(\"script\"),\n    _doc = document,\n    _txt = \"text/delayscript\"\n;\n\nfor(var i=0,l=_scripts.length;i&lt;l;i++){\n    var _type = _scripts[i].getAttribute(\"type\");\n        if(_type &amp;&amp; _type.toLowerCase() ==_txt)\n            _scripts[i].parentNode.replaceChild((function(sB){\n                var _s = _doc.createElement('script');\n                _s.type = 'text/javascript';\n                _s.innerHTML = sB.innerHTML;\n\n                return _s;\n            })(_scripts[i]), _scripts[i]);\n}\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>Depending on your setup, you might want to look into the service from www.cloudflare.com. Their current beta functionality called rocket loader, does exactly that, including the inline scripts.</p>\n\n<p>It's a free service. try it out ;)</p>\n\n<p>Plus you get a free caching proxy on top :)</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I noticed in the <code>&lt;head&gt;</code> of my site (for work), there are a lot of <code>&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"\" /&gt;</code> and <code>&lt;script type=\"text/javascript\" src=\"\"&gt;</code> tags.  There are even more JavaScript/CSS files that are only loaded for specific pages (we're using CodeIgniter, and the file paths are passed to the header view).</p>\n\n<p>I was considering using a conditional/asynchronous loader (eg. yepnope.js, head.js, etc.), but I noticed a small problem with doing this.</p>\n\n<p>In our views, there is inline JavaScript, some uses <code>$(function(){})</code> some uses <code>$(document).ready(function(){})</code>, and some just has code (using jQuery) that's not in a <code>ready</code> block.</p>\n\n<p>Without editing EVERY view file to wrap its code in a function and calling that when the JS files are loaded, is there a way to delay the inline code until the JavaScript is asynchronously loaded?</p>\n",
            "last_activity_date": 1334754842,
            "question_id": 8946715,
            "score": 13,
            "tags": [
                "javascript",
                "codeigniter",
                "asynchronous"
            ],
            "title": "Lazy loading JavaScript and Inline JavaScript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Here some Calenadars/Schedulers, </p>\n\n<p><a href=\"http://dhtmlx.com/docs/products/dhtmlxScheduler/index.shtml\">dhtmlxScheduler</a></p>\n\n<p><a href=\"http://www.web2cal.com/\">Web2Cal</a>  it seems to have scheduler option too</p>\n\n<p><a href=\"http://www.playsafe.in/blogs/publicblogdetail.aspx?id=88\">jQuery Week Calendar- The Scheduler</a></p>\n\n<p><a href=\"http://sourceforge.net/projects/jqeventcalendar/\">wdCalendar JQuery AJAX Event Calendar</a></p>\n\n<p>And here is a bit different idea of implementation of what you are looking for - TimeLine with events</p>\n\n<p><a href=\"http://timeglider.com/jquery/\">Timeglider</a></p>\n\n<p><a href=\"http://www.simile-widgets.org/timeline/\">Timeline</a></p>\n\n<p>One last thing, I have used another product from the Bryntum company - Gantt , and its really a great tool (never had conflicts with jQuery), so I'm sure their Scheduler is super as well...And I think its the most power full out there too</p>\n\n<p><a href=\"http://www.ext-scheduler.com/\">Ext Scheduler, javascript based on ExtJS</a></p>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>There is also (you need to buy a license) <a href=\"http://demos.telerik.com/kendo-ui/web/scheduler/index.html\" rel=\"nofollow\">http://demos.telerik.com/kendo-ui/web/scheduler/index.html</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In an upcoming project we need an advanced scheduler component. It needs to be capable of scheduling events for about 100 people (at the same time) over a period of 31 days, and each task will have several custom properties associated with it. A colleague of mine found <a href=\"http://www.bryntum.com/\" rel=\"nofollow\">this one</a>, which would be almost perfect, but I've got my reservations against it because</p>\n\n<ul>\n<li>It's based on ExtJS and we're already using jQuery. Although they don't conflict, it's a lot of duplicated functionality and ExtJS is pretty heavy as it is.</li>\n<li>Performance could be better.</li>\n</ul>\n\n<p>Is there anything that could rival the above mentioned component and be built on jQuery?</p>\n\n<p><strong>Added much, much later:</strong> Thank you all for answers. In the end, we decided to bite the bullet and roll out our own. It took a few months, but the result is good.</p>\n",
            "last_activity_date": 1393154714,
            "question_id": 8657183,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "scheduler"
            ],
            "title": "Looking for an advanced jQuery-based scheduler widget"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The first example is an <strong>assignment</strong>: the right-hand side is an expression, and the immediate execution of an anonymous function makes sense.</p>\n\n<p>The second example is a <strong>declaration</strong>: once the closing <code>\"}\"</code> is hit the declaration has ended. Parens on their own <em>don't</em> make sense--they must contain an expression. The trailing <code>\")\"</code> is an error.</p>\n\n<p>Standalone declarations must be turned into expressions:</p>\n\n<pre><code>(function() {})();  // Or...\n(function() {}());\n</code></pre>\n\n<p>The first makes the declaration an expression, then executes the result. The second turns both declaration and execution into an expression.</p>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>You can <code>(function(){})();</code>, and you aren't naming the function in: <code>var foo = function(){}();</code></p>\n\n<p>You are setting <code>foo</code> to the return value of the function which in your case is <code>undefined</code>, because all functions return something in JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>The first use of <em>function</em></p>\n\n<pre><code>var foo = function(){}()\n</code></pre>\n\n<p>is in expression position, not statement position.  The second one, on the other hand, is at the top-level, and works as a function statement.  That is, 'function' can be used in two different contexts, and it can mean subtly different things.</p>\n\n<p>If you want to make anonymous functions without names, you do that with a function expression.  And, just because of the way JavaScript language grammar works, you'll need parens in certain context, as Dave Newton mentions, because the place where you're putting the word 'function' can be confused with its statement version (which does require a name).</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Why I can write</p>\n\n<pre><code> var foo = function(){}();\n</code></pre>\n\n<p>But can not </p>\n\n<pre><code> function(){}();\n</code></pre>\n\n<p>Are there are any design reasons?</p>\n",
            "last_activity_date": 1325549986,
            "question_id": 8086696,
            "score": 13,
            "tags": [
                "javascript"
            ],
            "title": "Why function statement requires a name?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>you can use delete operator to delete property by it's name</p>\n\n<pre><code>delete objectExpression.property\n</code></pre>\n\n<p>or iterate through the object and find the value you need and delete it:</p>\n\n<pre><code>for(prop in Obj){\n   if(Obj.hasOwnProperty(prop)){\n      if(Obj[prop] === 'myValue'){\n        delete Obj[prop];\n      }\n   }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Created a handy function for this..</p>\n\n<pre><code>function findAndRemove(array, property, value) {\n   $.each(array, function(index, result) {\n      if(result[property] == value) {\n          //Remove from array\n          array.splice(index, 1);\n      }    \n   });\n}\n\n//Checks countries.result for an object with a property of 'id' whose value is 'AF'\n//Then removes it ;p\nfindAndRemove(countries.results, 'id', 'AF');\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>var COUNTRY_ID = 'AL';\n\ncountries.results = \n  countries.results.filter(function(el){ return el.id != COUNTRY_ID; });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<pre><code>Array.prototype.removeValue = function(name, value){\n   var array = $.map(this, function(v,i){\n      return v[name] === value ? null : v;\n   });\n   this.length = 0; //clear original array\n   this.push.apply(this, array); //push all elements except the one we want to delete\n}\n\ncountries.results.removeValue('name', 'Albania');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 25
                },
                {
                    "body": "<p>You can delete by 1 or more properties:</p>\n\n<pre><code>//Delets an json object from array by given object properties. \n//Exp. someJasonCollection.deleteWhereMatches({ l: 1039, v: '3' }); -&gt; \n//removes all items        with property l=1039 and property v='3'.\nArray.prototype.deleteWhereMatches = function (matchObj) {\n    var indexes = this.findIndexes(matchObj).sort(function (a, b) { return b &gt; a; });\n    var deleted = 0;\n    for (var i = 0, count = indexes.length; i &lt; count; i++) {\n        this.splice(indexes[i], 1);\n        deleted++;\n    }\n    return deleted;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This that only requires javascript and appears a little more readable than other answers.\n(I assume when you write 'value' you mean 'id')</p>\n\n<pre><code>//your code\nvar countries = {};\n\ncountries.results = [\n    {id:'AF',name:'Afghanistan'},\n    {id:'AL',name:'Albania'},\n    {id:'DZ',name:'Algeria'}\n];\n// solution:\n//function to remove a value from the json array\nfunction removeItem(obj, prop, val) {\n    var c, found=false;\n    for(c in obj) {\n        if(obj[c][prop] == val) {\n            found=true;\n            break;\n        }\n    }\n    if(found){\n        delete obj[c];\n    }\n}\n//example: call the 'remove' function to remove an item by id.\nremoveItem(countries.results,'id','AF');\n\n//example2: call the 'remove' function to remove an item by name.\nremoveItem(countries.results,'name','Albania');\n\n// print our result to console to check it works !\nfor(c in countries.results) {\n    console.log(countries.results[c].id);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have the following json array   </p>\n\n<pre><code>var countries = {};\n\ncountries.results = [\n    {id:'AF',name:'Afghanistan'},\n    {id:'AL',name:'Albania'},\n    {id:'DZ',name:'Algeria'}\n];\n</code></pre>\n\n<p>How can I remove an item from this array using its name or id ?</p>\n\n<p>Thank you</p>\n",
            "last_activity_date": 1402666658,
            "question_id": 6310623,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "arrays",
                "json"
            ],
            "title": "remove item from json array using its name / value"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Not all browsers support the same date formats.  The best approach is to split the string on the separator characters (<code>-</code>, <code>&nbsp;</code> and <code>:</code>) instead, and pass each of the resulting array items to the <code>Date</code> constructor:</p>\n\n<pre><code>var arr = \"2010-03-15 10:30:00\".split(/[- :]/),\n    date = new Date(arr[0], arr[1]-1, arr[2], arr[3], arr[4], arr[5]);\n\nconsole.log(date);\n//-&gt; Mon Mar 15 2010 10:30:00 GMT+0000 (GMT Standard Time)\n</code></pre>\n\n<p>This will work the same in all browsers.</p>\n",
                    "is_accepted": true,
                    "score": 52
                },
                {
                    "body": "<p>You might have better luck if you stick to <a href=\"http://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow\">ISO 8601</a> format:  </p>\n\n<pre><code>Date.parse(\"2010-03-15T10:30:00\");\n\n// e.g.\nvar d = new Date( Date.parse(\"2010-03-15T10:30:00\") );\nconsole.log( d.toString() ); //Mon Mar 15 2010 10:30:00 GMT+0000 (BST)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you can correct your REST API to send down proper ISO 8601 date times, the proper way to  handle this is to use a regex shim that allows all browsers to process ISO 8601 dates. Sure it might be slower, but handling dates with Javascript is like trying to get a cat into a tub of water.</p>\n\n<p>Keep in mind the following method overrides the original Date.parse method. This could be problematic in larger projects or with many developers with different expectations. Use only if you're aware of what you're doing.</p>\n\n<pre><code>/**\n * Date.parse with progressive enhancement for ISO 8601 &lt;https://github.com/csnover/js-iso8601&gt;\n * \u00a9 2011 Colin Snover &lt;http://zetafleet.com&gt;\n * Released under MIT license.\n */\n(function (Date, undefined) {\n    var origParse = Date.parse, numericKeys = [ 1, 4, 5, 6, 7, 10, 11 ];\n    Date.parse = function (date) {\n        var timestamp, struct, minutesOffset = 0;\n\n        // ES5 \u00a715.9.4.2 states that the string should attempt to be parsed as a Date Time String Format string\n        // before falling back to any implementation-specific date parsing, so that\u2019s what we do, even if native\n        // implementations could be faster\n        //              1 YYYY                2 MM       3 DD           4 HH    5 mm       6 ss        7 msec        8 Z 9 \u00b1    10 tzHH    11 tzmm\n        if ((struct = /^(\\d{4}|[+\\-]\\d{6})(?:-(\\d{2})(?:-(\\d{2}))?)?(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:(Z)|([+\\-])(\\d{2})(?::(\\d{2}))?)?)?$/.exec(date))) {\n            // avoid NaN timestamps caused by \u201cundefined\u201d values being passed to Date.UTC\n            for (var i = 0, k; (k = numericKeys[i]); ++i) {\n                struct[k] = +struct[k] || 0;\n            }\n\n            // allow undefined days and months\n            struct[2] = (+struct[2] || 1) - 1;\n            struct[3] = +struct[3] || 1;\n\n            if (struct[8] !== 'Z' &amp;&amp; struct[9] !== undefined) {\n                minutesOffset = struct[10] * 60 + struct[11];\n\n                if (struct[9] === '+') {\n                    minutesOffset = 0 - minutesOffset;\n                }\n            }\n\n            timestamp = Date.UTC(struct[1], struct[2], struct[3], struct[4], struct[5] + minutesOffset, struct[6], struct[7]);\n        }\n        else {\n            timestamp = origParse ? origParse(date) : NaN;\n        }\n\n        return timestamp;\n    };\n}(Date));\n</code></pre>\n\n<p><a href=\"https://github.com/csnover/js-iso8601\" rel=\"nofollow\">https://github.com/csnover/js-iso8601</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>For UTC/GMT time, you can try:</p>\n\n<pre><code>    var arr = \"2014-10-27T16:05:44+0000\".split(/[\\-\\+ :T]/);\n\n    var date = new Date();\n    date.setUTCFullYear(arr[0]);\n    date.setUTCMonth(arr[1] - 1);\n    date.setUTCDate(arr[2]);\n    date.setUTCHours(arr[3]);\n    date.setUTCMinutes(arr[4]);\n    date.setUTCSeconds(arr[5]);\n</code></pre>\n\n<p>The date object will display in the proper local timezone when used.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm working on an offline capabable Javascript site that targets mobile devices. One such mobile device is the IPhone.</p>\n\n<p>I'm trying to parse a date from our REST API (a member of JSON object). I'm using</p>\n\n<pre><code>Date.parse(\"2010-03-15 10:30:00\");\n</code></pre>\n\n<p>This works on Android devices, however on IPhone it just gives an invalid date.</p>\n\n<p>How do I need to format my date string so it can be parsed by the IPhone?</p>\n",
            "last_activity_date": 1414444752,
            "question_id": 5324178,
            "score": 13,
            "tags": [
                "javascript",
                "iphone",
                "date",
                "mobile-safari",
                "mobile-webkit"
            ],
            "title": "Javascript date parsing on Iphone"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The easiest way is to insert a temporary marker element at the start or end of the selection and get its position. I've demonstrated how to do this before on Stack Overflow: <a href=\"http://stackoverflow.com/questions/1589721/how-can-i-position-an-element-next-to-user-text-selection/1589912#1589912\">How can I position an element next to user text selection?</a></p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<pre><code>s = window.getSelection();\n</code></pre>\n\n<p>Returns a Selection. So try </p>\n\n<pre><code>s = window.getSelection();\noRange = s.getRangeAt(0); //get the text range\noRect = oRange.getBoundingClientRect();\n</code></pre>\n\n<p>oRect will be the bounding rectangle in client (fixed) coordinates.</p>\n",
                    "is_accepted": false,
                    "score": 14
                }
            ],
            "body": "<p>Currently a I'm getting the selected text in the browser doing this:</p>\n\n<pre><code>window.getSelection();\n</code></pre>\n\n<p>Now I need to show a tooltip above that text when pressing a custom key(note that the mouse could not be over the text animore), so in order to do that I need the absolute position of that selected text.</p>\n\n<p>Is there a way to do that, maybe wrapping that text inside a tag and then getting the offsets?</p>\n\n<p>Any Idea?</p>\n\n<p><br/></p>\n\n<p>PS: Have to work from chrome, not for all browsers.</p>\n\n<p>PS2: Sorry for my crappy English.</p>\n",
            "last_activity_date": 1374860556,
            "question_id": 5176761,
            "score": 13,
            "tags": [
                "javascript",
                "html",
                "text",
                "position",
                "selection"
            ],
            "title": "Get selected text position"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Do not downplay the importance of avoiding the re-invention of the wheel. You don't invent a new computer each time you want to write a new program.</p>\n\n<p>But apart from that, JavaScript libraries provide better <strong>cross-browser support</strong>. This is extremely helpful, as a quick look at <a href=\"http://www.quirksmode.org/\" rel=\"nofollow\">QuirksMode</a> will demonstrate.</p>\n\n<p>JavaScript frameworks make many things <strong>easier</strong>. Look at the jQuery documentation and you will see how easily it is do many fancy things.</p>\n\n<p>JavaScript frameworks have been extended by many people, so there are many high quality jQuery <strong>plugins</strong> (for example \u2014 it's the framework I know the best) that you can use without having to write them yourself.</p>\n\n<p>It is unlikely that JavaScript frameworks would introduce security holes, as they don't expose any more functionality than what you can do with plain JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<ol>\n<li><p>Frameworks solve cross-browser bugs which normally would cost hours of your time, so you can focus on functionality instead of worrying about some edge case browser bug.. instead of wasting 4-5 hours solving a bug spend that time with your family.</p></li>\n<li><p>Frameworks such as jQuery are pretty loaded with stuff like animation, selectors, html manipulation so there's usually some sort of functionality already built into the library, again saving you more time and the API makes it really easy to actually accomplish complex things.</p></li>\n<li><p>Interpreters and browsers are only getting faster and faster so I don't particularly think it's a huge issue loading an entire library up. In addition thanks to Google et al we get very fast cdns and nowadays lots of sites are using the same exact URI to pull the script in, meaning there's a higher rate of the script getting cached and reused on another site. </p></li>\n<li><p>Instead of every single web developer having their own library it's much more efficient having thousands of people concentrated to bettering a handful of libraries so cross-browser bugs get documented and fixed. </p></li>\n<li><p>Competition is a good thing, the result of the slickspeed tests resulted in much faster selector engines such as Sizzle. Developers not having to worry about trivial DOM bugs means more complex libraries are created daily, which means entry-level developers have access to very powerful plugins.</p></li>\n</ol>\n\n<p>As far as security, jQuery for example will detect if the browser is capable of parsing JSON natively and if so, rely on that. Usually any modern browser will have this, and it's much safer than <code>eval</code>... so jQuery strives to use the safer and more secure methods first. It will <em>only</em> use eval if there isnt a JSON.parse method available.</p>\n\n<p>An important thing to remember in jQuery though is remembering you're still coding in Javascript. Usually people get too caught up in the sugar coated methods and wrapping <em>everything</em> in <code>$</code>, I think it's important to know you can still do <code>this.href</code> instead of <code>$(this).attr('href')</code> if you would like an absolutely normalized uri for example. </p>\n",
                    "is_accepted": true,
                    "score": 38
                },
                {
                    "body": "<p>It depends on what you're using JavaScript for. If you want to be able to show and hide panels, animate stuff, attach events to multiple elements, do Ajax, etc. then you need to consider <a href=\"http://en.wikipedia.org/wiki/Cross-browser\" rel=\"nofollow\">cross-browser</a> issues.</p>\n\n<p>jQuery eliminates the need to think about cross-browser issues and allows some really neat functionality like the above and also modal dialogs, etc.</p>\n\n<p>So it depends on what you want from JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I have never used MooTools so can't comment on that, but jQuery makes a lot of things easier.  </p>\n\n<ul>\n<li>Selecting collections of objects by class, name, partial Id, etc.</li>\n<li>Simplify Ajax calls.</li>\n<li>Wireup event handlers to handle onclick, mouseover, mouseout, etc. and assign to elements based upon general selectors so that the logic can be reused.</li>\n<li>Tons of transitions and other visual stuff to pretty up the front end.</li>\n</ul>\n\n<p>There are a lot more, but it generally simplifies/accelerates development.  One thing to watch out for is if you are using a ton of selectors in a single function (loop that iterates over the DOM 40+ times) it is waaay more efficient to use vanilla JavaScript.</p>\n\n<p>So my advise would be to code the front end with the aid of a framework and then optimize the underperforming parts by subing in vanilla JavaScript.</p>\n\n<p>Also, I don't see how jQuery or MooTools could be a security threat as they are client side frameworks, not server side.  Remember to always validate inputs on the server side in addition to any client side validation and to properly parameterize SQL queries that are constructed on the server side.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The frameworks provide a cross-browser-API for JavaScript, so most of the time they are very usefull even though they come with a little speed-loss. But the JS-Engines get fast almost every update so that's not really a problem.\nThere are also very many plugins for the frameworks so they not only provide an API but also new cross-browser-features.\nBut it depends on what you wanna do.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I don't give great weight to the \"Open Source is extra-vulnerable to security issues\" argument. I see benefit of many Good Guys reading the code and spotting such problems. If this were an issue then we'd need to discard Linux, Apache, MySql, and most of the Java libraries.</p>\n\n<p>Frameworks generally save a very great deal of effort, I see them precisely as a pre-invented wheel. They don't need any other value.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am wondering if it is a good idea to rely on frameworks like jQuery or <a href=\"http://en.wikipedia.org/wiki/MooTools\">MooTools</a> or should we just use plain JavaScript?</p>\n\n<p>Apart from avoiding the re-invention of wheel, do they add any specific value?</p>\n\n<p>Since the frameworks are open to the public, can there be possibility of exploitation of any security holes that might appear (of course, unintentionally :) ) in the frameworks?</p>\n\n<p>Are there any other points that are to be considered when choosing a framework or otherwise?</p>\n",
            "last_activity_date": 1305637515,
            "question_id": 3393900,
            "score": 13,
            "tags": [
                "javascript",
                "jquery",
                "mootools",
                "javascript-framework"
            ],
            "title": "Is plain vanilla JavaScript better than using frameworks like jQuery or MooTools?"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>Because you're returning from the first method call, the second doesn't execute.</p>\n\n<p>Try something like </p>\n\n<pre><code>OnClientClick=\"var b = validateView();ShowDiv1(); return b\"&gt;\n</code></pre>\n\n<p>or reverse the situation,</p>\n\n<pre><code>OnClientClick=\"ShowDiv1();return validateView();\"&gt;\n</code></pre>\n\n<p>or if there is a dependency of div1 on the validation routine.</p>\n\n<pre><code>OnClientClick=\"var b = validateView(); if (b) ShowDiv1(); return b\"&gt;\n</code></pre>\n\n<p>&nbsp;<br>\nWhat might be best is to <strong>encapsulate multiple inline statements</strong> into a mini function like so, to simplify the call:</p>\n\n<pre><code>// change logic to suit taste\nfunction clicked()  {\n    var b = validateView(); \n    if (b) \n        ShowDiv1()\n    return b;\n}\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>OnClientClick=\"return clicked();\"&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 23
                },
                {
                    "body": "<p>That's because, it gets returned after <code>validateView();;</code></p>\n\n<p>Use this:</p>\n\n<pre><code>OnClientClick=\"var ret = validateView();ShowDiv1(); return ret;\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>change <code>OnClientClick=\"return validateView();ShowDiv1();\"&gt;</code> to <code>OnClientClick=\"javascript: if(validateView()) ShowDiv1();\"&gt;</code></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It isn't getting called because you have a return statement above it.  In the following code:</p>\n\n<pre><code>function test(){\n  return 1;\n  doStuff();\n}\n</code></pre>\n\n<p>doStuff() will never be called.  What I would suggest is writing a wrapper function</p>\n\n<pre><code>function wrapper(){\n   if (validateView()){\n     showDiv();\n     return true;\n   }\n}\n</code></pre>\n\n<p>and then call the wrapper function from your <code>onclick</code> handler.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I think that since <code>return validateView();</code> will return a value (to the click event?), your second call <code>ShowDiv1();</code> will not get called.</p>\n\n<p>You can always wrap multiple function calls in another function, i.e.</p>\n\n<pre>\n&lt;asp:LinkButton OnClientClick=\"return display();\">\n\nfunction display() {\n   if(validateView() && ShowDiv1()) return true;\n}\n\n</pre>\n\n<p>You also might try:</p>\n\n<pre>\n&lt;asp:LinkButton OnClientClick=\"return (validateView() && ShowDiv1());\">\n</pre>\n\n<p>Though I have no idea if that would throw an exception.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>And of course you can never call the two functions at the same time. Not any one in the world except you are working on two processors simultaneously.</p>\n\n<p>The best way is to call a JavaScript parent function and in that, specify all the sequence of function you want to call. For example,</p>\n\n<pre><code>function ShowDiv1() {\n    document.getElementById(\"ReportDiv\").style.display = 'block';\n    return false;\n}\n\nfunction validateView()\n{\n    if (document.getElementById(\"ctl00_ContentPlaceHolder1_DLCategory\").selectedIndex == 0) {\n        document.getElementById(\"ctl00_ContentPlaceHolder1_ErrorMsg\").innerHTML = \"Please Select Your Category\";\n        document.getElementById(\"ctl00_ContentPlaceHolder1_DLCategory\").focus();\n        return false;\n    }\n    if (document.getElementById(\"ctl00_ContentPlaceHolder1_DLEmpName\").selectedIndex == 0) {\n        document.getElementById(\"ctl00_ContentPlaceHolder1_ErrorMsg\").innerHTML = \"Please Select Your Employee Name\";\n        document.getElementById(\"ctl00_ContentPlaceHolder1_DLEmpName\").focus();\n        return false;\n    }\n    ShowDiv1();\n    return true;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this ....\nI got it...\nonClientClick=\"var b=validateView();if(b) var b=ShowDiv1();return b;\"</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>btnSAVE.Attributes.Add(\"OnClick\", \"var b = DropDownValidate('\" + drp_compcode.ClientID + \"') ;if (b) b=DropDownValidate('\" + drp_divcode.ClientID + \"');return b\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>if there are more than 2 js function then following two ways can also be implemented:</p>\n\n<ol>\n<li><p>if you have more than two functions you can group them in if condition </p>\n\n<p>OR </p></li>\n<li><p>you can write two different if conditions.</p></li>\n</ol>\n\n<p>1  OnClientClick=\"var b = validateView(); if (b) ShowDiv1(); if(b) testfunction();  return b\"></p>\n\n<p>OR</p>\n\n<p>2 OnClientClick=\"var b = validateView(); if(b) \n{ </p>\n\n<p>ShowDiv1(); </p>\n\n<p>testfunction();</p>\n\n<p>} return b\"></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>At times it gives syntax error that \"return is not a function\" so in that case just remove return and it will work fine :) as shown below</p>\n\n<pre><code>OnClientClick=\"var b = validateView(); if(b) var b = ShowDiv1(); b;\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How to call multiple functions on button click event?</p>\n\n<p>Here is my button,</p>\n\n<pre><code>&lt;asp:LinkButton\n    ID=\"LbSearch\"\n    runat=\"server\"\n    CssClass=\"regular\"\n    onclick=\"LbSearch_Click\"\n    OnClientClick=\"return validateView();ShowDiv1();\"&gt;`\n</code></pre>\n\n<p>But my <code>ShowDiv1</code> Doesnt get called....</p>\n\n<p>My JavaScript functions,</p>\n\n<pre><code>function ShowDiv1() {\n    document.getElementById(\"ReportDiv\").style.display = 'block';\n    return false;\n}\n\nfunction validateView() {\n\n    if (document.getElementById(\"ctl00_ContentPlaceHolder1_DLCategory\").selectedIndex == 0) {\n        document.getElementById(\"ctl00_ContentPlaceHolder1_ErrorMsg\").innerHTML = \"Please Select Your Category\";\n        document.getElementById(\"ctl00_ContentPlaceHolder1_DLCategory\").focus();\n        return false;\n    }\n    if (document.getElementById(\"ctl00_ContentPlaceHolder1_DLEmpName\").selectedIndex == 0) {\n        document.getElementById(\"ctl00_ContentPlaceHolder1_ErrorMsg\").innerHTML = \"Please Select Your Employee Name\";\n        document.getElementById(\"ctl00_ContentPlaceHolder1_DLEmpName\").focus();\n        return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>If the <code>ValidateView()</code> function returns true I should call <code>ShowDiv1()</code>.</p>\n",
            "last_activity_date": 1366092408,
            "question_id": 2414500,
            "score": 13,
            "tags": [
                "javascript",
                "function"
            ],
            "title": "Calling multiple JavaScript functions on a button click"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You can use <strong>Array.isArray</strong> to check for arrays.  Then <strong>typeof obj == 'string'</strong>, and <strong>typeof obj == 'object'</strong>.</p>\n\n<pre><code>var s = 'a string', a = [], o = {}, i = 5;\nfunction getType(p) {\n    if (Array.isArray(p)) return 'array';\n    else if (typeof p == 'string') return 'string';\n    else if (p != null &amp;&amp; typeof p == 'object') return 'object';\n    else return 'other';\n}\nconsole.log(\"'s' is \" + getType(s));\nconsole.log(\"'a' is \" + getType(a));\nconsole.log(\"'o' is \" + getType(o));\nconsole.log(\"'i' is \" + getType(i));\n</code></pre>\n\n<blockquote>\n  <p>'s' is string<br>'a' is array<br> 'o' is object<br>'i' is other</p>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you are trying to check the type of an <code>object</code> after you parse a <code>JSON</code> string, I suggest checking the constructor attribute:</p>\n\n<pre><code>obj.constructor == Array || obj.constructor == String || obj.constructor == Object\n</code></pre>\n\n<p>This will be a much faster check than typeof or instanceof.</p>\n\n<p>If a <strong>JSON library</strong> does not return objects constructed with these functions, I would be very suspiciouse of it.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You could make your own constructor for JSON parsing:</p>\n\n<pre><code>var JSONObj = function(obj) { $.extend(this, JSON.parse(obj)); }\nvar test = new JSONObj('{\"a\": \"apple\"}');\n//{a: \"apple\"}\n</code></pre>\n\n<p>Then check instanceof to see if it needed parsing originally</p>\n\n<pre><code>test instanceof JSONObj\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I'd check the constructor attribute.</p>\n\n<p>e.g.</p>\n\n<pre><code>var stringConstructor = \"test\".constructor;\nvar arrayConstructor = [].constructor;\nvar objectConstructor = {}.constructor;\n\nfunction whatIsIt(object) {\n    if (object === null) {\n        return \"null\";\n    }\n    else if (object === undefined) {\n        return \"undefined\";\n    }\n    else if (object.constructor === stringConstructor) {\n        return \"String\";\n    }\n    else if (object.constructor === arrayConstructor) {\n        return \"Array\";\n    }\n    else if (object.constructor === objectConstructor) {\n        return \"Object\";\n    }\n    else {\n        return \"don't know\";\n    }\n}\n\nvar testSubjects = [\"string\", [1,2,3], {foo: \"bar\"}, 4];\n\nfor (var i=0, len = testSubjects.length; i &lt; len; i++) {\n    alert(whatIsIt(testSubjects[i]));\n}\n</code></pre>\n\n<p>Edit : Added a null check and an undefined check.</p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>You have some notions wrong. This is a valid object. So if you try to JSON.parse that, it will  throw an error.</p>\n\n<pre><code>var data = {\"hi\":\n             {\"hello\":\n               [\"hi1\",\"hi2\"]\n             },\n            \"hey\":\"words\"\n           }\n</code></pre>\n\n<p>But anyways. You can never know if something is coming from a \"JSON\". Because, JSON are just objects (serialized or not). Also there is no type \"JSON\".</p>\n\n<p>What you exactly need to do, why you need to know if it was a \"JSON\" array?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Peter's answer with an additional check! Of course, not 100% guaranteed!</p>\n\n<pre><code>var isJson = false;\noutPutValue = \"\"\nvar objectConstructor = {}.constructor;\nif(jsonToCheck.constructor === objectConstructor){\n    outPutValue = JSON.stringify(jsonToCheck);\n    try{\n            JSON.parse(outPutValue);\n            isJson = true;\n    }catch(err){\n            isJson = false;\n    }\n}\n\nif(isJson){\n    alert(\"Is json |\" + JSON.stringify(jsonToCheck) + \"|\");\n}else{\n    alert(\"Is other!\");\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a nested JSON object that I need to loop through, and the value of each key could be a String, JSON array or another JSON object. Depending on the type of object, I need to carry out different operations. Is there any way I can check the type of the object to see if it is a String, JSON object or JSON array?</p>\n\n<p>I tried using <code>typeof</code> and <code>instanceof</code> but both didn't seem to work, as <code>typeof</code> will return an object for both JSON object and array, and <code>instanceof</code> gives an error when I do <code>obj instanceof JSON</code>.</p>\n\n<p>To be more specific, after parsing the JSON into a JS object, is there any way I can check if it is a normal string, or an object with keys and values (from a JSON object), or an array (from a JSON array)?</p>\n\n<p>For example:</p>\n\n<p>JSON</p>\n\n<pre><code>var data = \"{'hi':\n             {'hello':\n               ['hi1','hi2']\n             },\n            'hey':'words'\n           }\";\n</code></pre>\n\n<p>Sample JavaScript</p>\n\n<pre><code>var jsonObj = JSON.parse(data);\nvar path = [\"hi\",\"hello\"];\n\nfunction check(jsonObj, path) {\n    var parent = jsonObj;\n    for (var i = 0; i &lt; path.length-1; i++) {\n        var key = path[i];\n        if (parent != undefined) {\n            parent = parent[key];\n        }\n    }\n    if (parent != undefined) {\n        var endLength = path.length - 1;\n        var child = parent[path[endLength]];\n        //if child is a string, add some text\n        //if child is an object, edit the key/value\n        //if child is an array, add a new element\n        //if child does not exist, add a new key/value\n    }\n}\n</code></pre>\n\n<p>How do I carry out the object checking as shown above?</p>\n",
            "last_activity_date": 1408565152,
            "question_id": 11182924,
            "score": 12,
            "tags": [
                "javascript",
                "json"
            ],
            "title": "How to check if JavaScript object is JSON"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Rails automatically clears the cache for an individual file every time that the contents are edited. <strong>To clear the cache for a single file, simply open the file, edit a line of code, and re-save it.</strong> Rails will clear the cache <em>for that file</em>, and the browser will load the new file the next time the page is loaded.</p>\n\n<p>The reason jquery.autoresize.js was using the old cached version of the file was because the old version was deleted and then the new version was copied and pasted with the same name into the same folder. Because the file itself was never edited, Rails continued to use the old file that was cached.</p>\n\n<p>This is because the asset pipeline uses fingerprinting for the cache.</p>\n\n<blockquote>\n  <p>Fingerprinting is a technique that makes the name of a file dependent\n  on the contents of the file. When the file contents change, the\n  filename is also changed. For content that is static or infrequently\n  changed, this provides an easy way to tell whether two versions of a\n  file are identical, even across different servers or deployment dates.</p>\n  \n  <p>When a filename is unique and based on its content, HTTP headers can\n  be set to encourage caches everywhere (whether at CDNs, at ISPs, in\n  networking equipment, or in web browsers) to keep their own copy of\n  the content. When the content is updated, the fingerprint will change.\n  This will cause the remote clients to request a new copy of the\n  content. This is generally known as cache busting.</p>\n  \n  <p>The technique that Rails uses for fingerprinting is to insert a hash\n  of the content into the name, usually at the end. For example a CSS\n  file global.css could be renamed with an MD5 digest of its contents:</p>\n</blockquote>\n\n<pre><code>global-908e25f4bf641868d8683022a5b62f54.css\n</code></pre>\n\n<p>So, if you delete a file you're referencing in the manifest, and then copy in a new file with the same name, the cache busting never occurs. When you edit the file, the fingerprinting kicks in, and a new hash is generated for the file name. This busts the cache <em>for that file</em>.</p>\n\n<p>For the full story, see <a href=\"http://guides.rubyonrails.org/asset_pipeline.html#what-is-fingerprinting-and-why-should-i-care\">What is Fingerprinting and Why Should I Care?</a>.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>I'm assuming we're talking about the production environment. </p>\n\n<p>When you change any of your javascripts or stylesheets in the production environment, you need to run <code>rake assets:precompile</code>; this task compiles and compresses the various .js and .css files and creates the application.js and application.css files that is loaded by your views.</p>\n\n<p>It's possible that if you replaced <code>jquery.autoresize.js</code> with a version with an <em>older timestamp</em>, the precompile step might skip it, thinking the compiled version is up-to-date. You can avoid that by running <code>rake assets:clean</code> first, forcing it to rebuild everything in the <code>public/assets</code> directory from scratch.</p>\n",
                    "is_accepted": true,
                    "score": 25
                },
                {
                    "body": "<p>I use <code>config.assets.version = '1.01019'</code> in my <code>application.rb</code> to bust the entire cache.  When I want to push a complete new version, I increment the version and that does the trick.  This takes care of those edge cases where Rails does not recompile as asset for whatever reason.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm starting a new project in Rails, and it looks like the application.js manifest file is doing something funny with the javascripts that I reference - does it cache those files as part of the asset pipeline?</p>\n\n<p>Here's what happened. I added a javascript file named jquery.autoresize.js to the vendor/assets/javascripts folder, and then referenced the file in the application.js manifest like this: </p>\n\n<pre><code>//= require jquery.autoresize.js \n</code></pre>\n\n<p>Then I started up the rails server. But after navigating around in my app, I realized that I had accidentally added the wrong version of the jquery.autoresize.js file. So, I deleted that file and then added the correct version to the vendor/assets/javascripts folder. But, to my horror, when I reloaded the page, it is still loading the old javascript file. </p>\n\n<p>I tried emptying my browser cache, then exiting and restarting the Rails server, but to no avail. I hacked a solution together by simply renaming my javascript file and referencing the new name, which worked fine. But there has got to be a better solution to this. </p>\n\n<p>Does the new asset pipeline cache the files you reference somehow? If so, how can I clear that cache? Thanks for any help!</p>\n",
            "last_activity_date": 1425417352,
            "question_id": 10004365,
            "score": 12,
            "tags": [
                "javascript",
                "ruby-on-rails",
                "caching",
                "ruby-on-rails-3.1",
                "asset-pipeline"
            ],
            "title": "Clear the cache from the Rails asset pipeline"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The first function recreates <code>digits</code> every time it's executed. If it's a large array this is needlessly expensive.</p>\n\n<p>The second function stores <code>digits</code> in a context shared only with <code>namenew</code>. Every time <code>namenew</code> is executed it only performs a single operation: <code>return digits[n]</code>.</p>\n\n<p>An example like this wont show any noticeable gains in performance, but with very large arrays/objects/function calls performance will be improved significantly.</p>\n\n<p>In an OOP perspective using a closure in this manner is similar to storing data in a static variable.</p>\n\n<hr>\n\n<p>Don't forget that <code>namenew</code> is receiving the <em>result</em> of the closure function. The closure itself is only executed <em>once</em>.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>The real answer to that question would be about 3 pages long. But I try to make it as short as possible. ECMA-/Javascript is all about <code>Execution Contexts</code> and <code>Object</code>. There are three basic types of Context in ECMAscript:  <code>Global context</code>, <code>Function contexts</code> and <code>eval contexts</code>.</p>\n\n<p>Every time you call a function, your engine will spawn it in it's own <code>function context</code>. Also, there is a such called <code>Activation object</code> created. This mystic object is part of a <code>function context</code> which consists out of at least:</p>\n\n<ul>\n<li>[[Scope chain]]</li>\n<li>Activation object</li>\n<li>\"this\" context value</li>\n</ul>\n\n<p>There may be more properties on different engines, but these three are required for any implementation of ES. However, back to the topic. If a function context is invoked, all <code>parent contexts</code> (or more precisly, the <code>Activation objects</code> from the parent contexts) are copied over into the <code>[[Scope]]</code> property. You can think of this property like an array, which holds (Activation-) Objects. Now, any function related information is stored in the Activation object (formal parameters, variables, function declarations). </p>\n\n<p>In your example, the <code>digits</code> variable is stored in the Activation object for <code>namenew</code>. The second when the inner anonymous function is created, it adds that <code>Activation object</code> into its <code>[[Scope]]</code> propertys. When you call <code>digits[n]</code> there, Javascript first tries to find that variable in its <strong>own</strong> Activation object. If that fails, the search goes into the Scopechain. And voila, there we found the variable because we copied the AO from the outer function.</p>\n\n<p>I already wrote too much for a short answer, but to really give a good answer to such a question you have to explain some basic knowledge about ES here. I guess that is just enough to give you an idea what really happens \"under the hood\" (there is a lot more to know, if you want to read more I'll give you some references).</p>\n\n<hr>\n\n<p>You asked for it, you get it:</p>\n\n<p><a href=\"http://dmitrysoshnikov.com/ecmascript/javascript-the-core/\" rel=\"nofollow\">http://dmitrysoshnikov.com/ecmascript/javascript-the-core/</a></p>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<pre><code>var name = function(n) {\n    var digits = ['one','two','three','four'];\n    return digits[n];\n}\n\nvar namenew = (function() {\n    digits = ['one','two','three','four'];\n    return function(n) {\n        return digits[n];\n    }\n}());\n</code></pre>\n\n<p>Both the versions result in the same output, however it is said that the second version is much faster than the first version. </p>\n\n<p>As I understand, first version executes the function everytime where as the second version stores the result of execution. That is what confuses me as a functional/regular OOPS programmer. </p>\n\n<p>How can one save a function with its inner context? What is happening under the hood? Can some one pls clarify?</p>\n",
            "last_activity_date": 1393071242,
            "question_id": 6614572,
            "score": 12,
            "tags": [
                "javascript",
                "performance",
                "closures"
            ],
            "title": "Javascript performance with closure"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>try:</p>\n\n<pre><code>document.getElementById(\"sample\").onclick = $.noop;\n</code></pre>\n\n<p>$.noop == function(){};</p>\n\n<p><a href=\"http://api.jquery.com/jQuery.noop/\" rel=\"nofollow\">jQuerty noop</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>&lt;a id=\"sample\" href=\"...\" onclick=\"alert('hello world'); return false;\" /&gt;...&lt;/a&gt;\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>$('#sample').attr('onclick','alert(\"done\"); return false;')\n</code></pre>\n\n<p>Despite being able to set the <code>return false;</code> either directly in the onclick or by using jQuery, it doesn't actually require jQuery to be used at all. The benefit is if for whatever reason your jQuery script leads to a <code>404</code>, your code will still work.</p>\n\n<p>I found the answer <a href=\"http://www.bradino.com/javascript/onclick-return-false/\" rel=\"nofollow\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>// Setting the DOM element's onclick to null removes \n// the inline click handler\n$(\"#sample\")[0].onclick = null;\n$(\"#sample\").click(function() { alert(\"done\") });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 20
                },
                {
                    "body": "<p>This can also be done without jQuery:</p>\n\n<pre><code>document.getElementById(\"sample\").setAttribute('onclick','alert(\"done\")');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>This seems deceptively simple.</p>\n\n<p>How do you override the onclick event in the following HTML using JavaScript?</p>\n\n<pre><code>&lt;a id=\"sample\" href=\"...\" onclick=\"alert('hello world')\" /&gt;...&lt;/a&gt;\n</code></pre>\n\n<p>I've tried it with jQuery, but that didn't do the trick:</p>\n\n<pre><code>$('#sample').attr('onclick','alert(\"done\")')\n</code></pre>\n\n<p>Assume the HTML is pre-written and cannot be changed, other than manipulating it with JavaScript.</p>\n",
            "last_activity_date": 1389913195,
            "question_id": 2629916,
            "score": 12,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "How do you override inline onclick event?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The best I've seen as far is <a href=\"https://github.com/dcneiner/Downloadify\" rel=\"nofollow\">Downloadify</a> by <a href=\"http://stackoverflow.com/users/152083/doug-neiner\">Doug Neiner</a>, it requires Flash but works very well:</p>\n\n<blockquote>\n  <p>\"A tiny JavaScript + Flash library that enables the generation and saving of files on the fly, in the browser, without server interaction.\"</p>\n</blockquote>\n\n<p>Check this <a href=\"http://vimeo.com/7735312\" rel=\"nofollow\">video</a>.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>If Flash is an option then the Flash Player (version 10+) offers the means for limited reading/writing of files from the local filesystem.</p>\n\n<p>Check this out:</p>\n\n<p><a href=\"http://help.adobe.com/en_US/AS3LCR/Flash_10.0/flash/net/FileReference.html#save%28%29\" rel=\"nofollow\">http://help.adobe.com/en_US/AS3LCR/Flash_10.0/flash/net/FileReference.html#save%28%29</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm writing some Javascript code that generates an XML document in the client (via <a href=\"http://code.google.com/apis/earth/documentation/kml.html#getting_kml\">Google Earth plugin</a>). I'd like the user to be able to click a button on the page and be prompted to save that XML to a new file. If I were generating the XML server-side this would be easy, just make the button open the link. But the XML is generated client-side.</p>\n\n<p>I've come up with a couple of hacks that half-work, inspired in part by <a href=\"http://stackoverflow.com/questions/904893/saving-a-child-window-saves-the-parent-window-instead-javascript\">this StackOverflow question</a>. But neither completely work. Here's a demo HTML with embedded code:</p>\n\n<pre><code>&lt;html&gt;&lt;head&gt;&lt;script&gt;\nfunction getData() { return '&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;doc&gt;Hello&lt;/doc&gt;'; }\nfunction dlDataURI() {\n  window.open(\"data:text/xml;charset=utf-8,\" + getData());\n}\nfunction dlWindow() {\n  var w = window.open();\n  w.document.open();\n  w.document.write(getData());\n  w.document.close();\n}\n&lt;/script&gt;&lt;body&gt;\n&lt;div onclick=\"dlDataURI()\"&gt;Click for Data URL&lt;/div&gt;\n&lt;div onclick=\"dlWindow()\"&gt;Click for Window&lt;/div&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>The dlDataURI() version works great in Firefox, poorly in Chrome (can't save), and not at all in IE. The Window() version works OK in Firefox and IE, and not well in Chrome (can't save, XML embedded inside HTML). Neither version ever prompts a user download, it always opens a new window trying to display the XML.</p>\n\n<p>Is there a good way to do what I want in client side Javascript? I'd like this to work in today's browsers, ideally Firefox, MSIE 8, and Chrome.</p>\n\n<p><b>Update with sample Downloadify code</b></p>\n\n<pre><code>window.onload = function() {\n  Downloadify.create(\"dlify\", {\n    data: getData(),\n    filename: \"data.xml\",\n    swf: 'media/downloadify.swf',\n    downloadImage: 'images/download.png',\n    width: 100, height: 30});};\n</code></pre>\n",
            "last_activity_date": 1317778795,
            "question_id": 2489528,
            "score": 12,
            "tags": [
                "javascript",
                "browser",
                "download"
            ],
            "title": "How do I dynamically create a document for download in Javascript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>I think your problem would resolve itself if you'd use $(document).ready instead of $(window).load - see the <a href=\"http://docs.jquery.com/Events/ready\" rel=\"nofollow\">jquery documentation</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Don't know if this is what you are after, but have you tried(?):</p>\n\n<pre><code>$(document).ready(function(){\n    ...\n});\n</code></pre>\n\n<p><a href=\"http://docs.jquery.com/Events/ready#fn\" rel=\"nofollow\">http://docs.jquery.com/Events/ready#fn</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You could try setting up a handler that's invoked via a timeout that will check the images to see if their properties are available.  Clear the timer in the <code>load</code> event handler so if the load event occurs first, the timer won't fire.  If the properties aren't available, then the load event hasn't fired yet and you know that your handler will eventually be invoked.  If they are, then you know that the load event occurred before your handler was set and you can simply proceed.</p>\n\n<p>Pseudocode</p>\n\n<pre><code> var timer = null;\n $(function() {\n    $(window).load( function() {\n        if (timer) {\n           clearTimeout(timer);\n           timer = null;\n        }\n        process();\n    });\n    timer = setTimeout( function() {\n        if (checkAvailable())\n           process();\n        }\n    }, 10*1000 ); // waits 10 seconds before checking\n });\n\n function checkAvailable()\n {\n     var available = true;\n     $('img').each( function() {\n         try {\n             if (this.height == 0) {\n                available = false;\n                return false;\n             }\n         }\n         catch (e) {\n             available = false;\n             return false;\n         }\n      });\n      return available;\n  }\n\n  function process() {\n      ... do the real work here\n  }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>I wrote a plugin that may be of some use: <a href=\"http://plugins.jquery.com/project/window-loaded\">http://plugins.jquery.com/project/window-loaded</a></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>You guys should read this:</p>\n\n<p><a href=\"http://web.enavu.com/daily-tip/daily-tip-difference-between-document-ready-and-window-load-in-jquery/\" rel=\"nofollow\">http://web.enavu.com/daily-tip/daily-tip-difference-between-document-ready-and-window-load-in-jquery/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have a script that is being inserted dynamically via another script. The code in that script is wrapped inside the <code>$(window).load()</code> event because it requires the images on the page to have all loaded. In some browsers it works fine, but in others it seems not to fire because the page has already finished loading by the time the code is run.</p>\n\n<p>Is there any way to check and see whether the page has already finished loading - either via jQuery or JavaScript? (including images)</p>\n\n<p>In this situation, I don't have access to the <code>onload</code> event of the original document (aside from altering it via the loaded script - but that would seem to present the same problem).</p>\n\n<p>Any ideas/solutions/advice would be greatly appreciated! </p>\n",
            "last_activity_date": 1313891120,
            "question_id": 896083,
            "score": 12,
            "tags": [
                "javascript",
                "jquery",
                "onload"
            ],
            "title": "How to tell whether the $(window).load()/window.onload event has already fired?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>You debug javascript in IE6 with:-</p>\n\n<p><a href=\"http://www.microsoft.com/downloads/details.aspx?familyid=2F465BE0-94FD-4569-B3C4-DFFDF19CCD99&amp;displaylang=en\" rel=\"nofollow\">Microsoft Script Debugger</a></p>\n\n<p>The <a href=\"http://www.quirksmode.org/\" rel=\"nofollow\">QuirksMode</a> website is useful site to determine which bits of CSS is implemented in what way by which browser.  Note IE6 \"standards\" mode rendering is notoriously buggy.</p>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>I use one of two things for js debugging: Microsoft Script Editor or <a href=\"http://getfirebug.com/lite.html\" rel=\"nofollow\">Firebug Lite</a>.  Go <a href=\"http://www.dedestruct.com/2007/12/21/how-to-debug-javascript-in-ie-6-ask-a-question/\" rel=\"nofollow\">here</a> for more info.</p>\n\n<p>As for the CSS, I recommend a <a href=\"http://developer.yahoo.com/yui/reset/\" rel=\"nofollow\">CSS Reset</a>.  And for the little differences in IE6, consider using <a href=\"http://www.quirksmode.org/css/condcom.html\" rel=\"nofollow\">conditional comments</a>.</p>\n\n<p>When making an an application to be used in multiple browsers, <a href=\"http://quirksmode.org/\" rel=\"nofollow\">quirksmode</a> is a lifesaver.</p>\n\n<p>EDIT: <a href=\"http://www.gscottolson.com/blackbirdjs/\" rel=\"nofollow\">blackbird</a> is a nice cross-browser tool for tracking state.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The two tools I use are: </p>\n\n<ol>\n<li><a href=\"http://projects.nikhilk.net/WebDevHelper\" rel=\"nofollow\">Web Development Helper</a></li>\n<li><a href=\"http://www.microsoft.com/en-us/download/details.aspx?id=18359\" rel=\"nofollow\">IE Developer Toolbar</a></li>\n</ol>\n\n<p>They somewhat duplicate each other's functionality, but each one can be useful for different tasks. The Web Development Helper has a built in JavaScript console, it's not as good as Firebug but it's better than nothing and easier than the MS Script Debugger.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<blockquote>\n  <p>\"Expected ':' (default2.aspx,16)\" - on line 16 there is nothing that can possibly expect a \":\"</p>\n</blockquote>\n\n<p>The error won't be on line 16 of your .aspx file, probably not even on line 16 of the HTML source the aspx file produces. It'll be near line 16 of one of your linked .js files. Which one? IE won't tell you.</p>\n\n<p>You could find out by adding extra lines at the start of each .js file and seeing what happens to the error line number, but it's probably better just to install Script Debugger already.</p>\n\n<p>IE8 finally fixes this.</p>\n\n<blockquote>\n  <p>shall I create different css files for different browsers and load them by detecting the browser? or are there any common issues and hacks?</p>\n</blockquote>\n\n<p>Start with standards-compliant CSS, and a Standards Mode doctype, and test in Firefox 3, or Opera, Safari, Chrome. Mostly they'll give you more or less the same results. Now test in IE7 and hopefully it'll just work.</p>\n\n<p>The troublesome browser today is IE6. You may well need to add hacks for it. You can do this in a separate stylesheet if there's a lot of them, or just use the \"* html\" hack for the occasional rule.</p>\n\n<p>All the older hacks, your Box Model Hacks and so on, you can forget about. They're only of use for IE5, which is dead, and IE6 Quirks Mode, which you shouldn't be using.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>or have an AJAX call to send debug variables/messages to ASP (PHP) script that will log it. this will help if the problem is with variables undefined or having similar issues.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can try <a href=\"http://www.my-debugbar.com/wiki/CompanionJS/HomePage\">Companion JS</a>. It is pretty good with respect to debugging. It requires Microsoft Script Debugger as well.</p>\n\n<p>Companion JS thankfully supports \"console.log\" (via firebug). It is free tool. <a href=\"http://www.debugbar.com/\">Debug-bar</a> is a good CSS-DOM-Javascript debugger, but it is not free for commercial purposes.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>For what it's worth, I've found the line number errors are much more accurate when using a separate js file. </p>\n\n<p>I still use IE6 as my primary browser when developing. It saves a lot of headaches later, since you will often find CSS issues much earlier in the process. </p>\n\n<p>I also find it helpful to use a JavaScript logger to send debug messages. This being an alternative to a bunch of alert messages. Personally, I use the <a href=\"http://developer.yahoo.com/yui/logger/\" rel=\"nofollow\">yahoo UI logger</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've used <a href=\"http://www.microsoft.com/downloads/details.aspx?familyid=2F465BE0-94FD-4569-B3C4-DFFDF19CCD99&amp;displaylang=en\" rel=\"nofollow\">MS Script Debugger</a> with some success, also <a href=\"http://www.microsoft.com/en-us/download/details.aspx?id=18359\" rel=\"nofollow\">IE Developer Toolbar</a> and <a href=\"http://getfirebug.com/lite.html\" rel=\"nofollow\">Firebug Lite</a>.  I recently <a href=\"http://www.berniecode.com/blog/2007/03/08/how-to-debug-javascript-with-visual-web-developer-express/\" rel=\"nofollow\">learned about</a> <a href=\"http://msdn.microsoft.com/vstudio/express/vwd/\" rel=\"nofollow\">MS Visual Web Developer Express Edition</a>, which has been a big improvement so far.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>firebug is quite useful tool that I can't think myself living without it. I also downloaded the js file that helps you get similar functionality when using IE6 hoping it would help me resolve some issues, however, the messages I receive are not quite friendly such as:</p>\n\n<p>\"Expected ':' (default2.aspx,16)\" - on line 16 there is nothing that can possibly expect a \":\"</p>\n\n<p>or</p>\n\n<p>\"Object doesn't support this property or method (default2.aspx,198)\" on line 198 nothing interesting that can require any support for anything.</p>\n\n<p>my site looks like a different web site in IE6.. most of the css doesnt work, some of the jquery functions doesnt work and I need to get this site work in IE6. Any help would be appreciated in terms of;</p>\n\n<ul>\n<li><p>how to know what the messages (like the ones above) mean in IE6 and how to effectively debug js in IE6?</p></li>\n<li><p>where to start for css compatibility.. e.g. shall I create different css files for different browsers and load them by detecting the browser? or are there any common issues and hacks?</p></li>\n</ul>\n\n<p>I am lost so please give me any direction to start..</p>\n",
            "last_activity_date": 1242338088,
            "question_id": 464644,
            "score": 12,
            "tags": [
                "javascript",
                "css",
                "debugging",
                "internet-explorer-6",
                "cross-browser"
            ],
            "title": "debugging javascript for IE6"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Yes. It is possible to call javascript functions</p>\n\n<pre><code>//(thanks to Mirnal Kant, SQLManager)\n//Version 2 -- Prevent Firefox crashing \n//          -- Suspect a problem with continual creation of Regex objects\n\nvar g_RegExpString = null;\nvar g_RegExp = null;\n\n//functions to be created for the db\nvar smDbFunctions = { \n  // (0) = Regex Expression\n  // (1) = Column value to test\n    regexp: {\n        onFunctionCall: function(val) {\n            if (g_RegExp == null || val.getString(0) != g_RegExpString) \n            {\n                g_RegExpString = val.getString(0);\n                g_RegExp = new RegExp(g_RegExpString);\n            }\n            if (val.getString(1).match(g_RegExp)) return 1;\n            else return 0;\n        }\n    }\n};\n</code></pre>\n\n<p>after instantiating a SQLite instance:</p>\n\n<pre><code>Database.createFunction(\"REGEXP\", 2, smDbFunctions.regexp);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>What Noah is talking about has been included into <a href=\"http://code.google.com/p/sqlite-manager/\" rel=\"nofollow\">SQLite Manager</a> add-on for Firefox.</p>\n\n<p>When you start this add-on, you can click the icon labeled <em>f(x)</em> to open the User-defined functions tab. From there, select a directory in which you have an SQLite database named smFunctions.sqlite, with the following schema:</p>\n\n<pre><code>CREATE TABLE \"functions\"          ( \"name\"        TEXT    PRIMARY KEY  NOT NULL\n                                  , \"body\"        TEXT                 NOT NULL\n                                  , \"argLength\"   INTEGER\n                                  , \"aggregate\"   INTEGER              NOT NULL DEFAULT 0\n                                  , \"enabled\"     INTEGER              NOT NULL DEFAULT 1\n                                  , \"extraInfo\"   TEXT\n                                  );\n\nCREATE TABLE \"aggregateFunctions\" ( \"name\"        TEXT    PRIMARY KEY  NOT NULL\n                                  , \"argLength\"   INTEGER\n                                  , \"onStepBody\"  TEXT\n                                  , \"onFinalBody\" TEXT\n                                  , \"enabled\"     INTEGER              NOT NULL DEFAULT 1\n                                  , \"extraInfo\"   TEXT\n                                  );\n</code></pre>\n\n<p>Inside that table you can define custom functions. Parameters will be passed as an array named <code>aValues</code>. For example:</p>\n\n<pre><code>INSERT INTO \"functions\" (\"name\", \"body\", \"argLength\", \"aggregate\", \"enabled\", \"extraInfo\")\nVALUES('regexp_replace'\n      ,'// exemple : SELECT regexp_replace(''FOOBAR'',''o+'',''a'',''gi'')\n        var input      = new String(aValues.getString(0));\n        var regex      = new String(aValues.getString(1));\n        var substitute = new String(aValues.getString(2));\n        var flags      = new String(aValues.getString(3));\n\n        return input.replace(new RegExp(regex,flags), substitute);\n       '\n      ,4\n      ,0\n      ,1\n      ,''\n      );\n</code></pre>\n\n<ul>\n<li>if <code>argLength</code> == -1, then there is no limit on the number of arguments. You can get the count with <code>aValues.numEntries</code>.</li>\n<li>You can use <code>aValues.getTypeOfIndex(i)</code> to know the type of the argument: 0 => NULL, 1 => Integer (<code>aValues.getInt64(i)</code>), 2 => Real (<code>aValues.getDouble(i)</code>), 3 => String, see example.</li>\n</ul>\n\n<p>For aggregate functions you can use <code>this._store</code> as an initially empty array to push the elements during the onStepBody phase, and read from it in <code>onStepFinal</code> to compute the final result.</p>\n\n<p>Below is a bash script that will create <code>smFunctions.sqlite</code> with some custom functions (this is a <code>.dump</code> of my own smFunctions.sqlite):</p>\n\n<pre><code>sqlite smFunctions.sqlite &lt;&lt; EOF\nPRAGMA foreign_keys=OFF;\nBEGIN TRANSACTION;\nCREATE TABLE \"functions\" (\"name\" TEXT PRIMARY KEY  NOT NULL, \"body\" TEXT NOT NULL, \"argLength\" INTEGER, \"aggregate\" INTEGER NOT NULL  DEFAULT 0, \"enabled\" INTEGER NOT NULL  DEFAULT 1, \"extraInfo\" TEXT);\nINSERT INTO \"functions\" VALUES('accumulate','var sum = 0;\nfor (var j = 0; j &lt; aValues.numEntries; j++) {\n    sum += aValues.getInt32(j);\n}\nreturn sum;\n',-1,0,1,NULL);\nINSERT INTO \"functions\" VALUES('concatenate','var valArr = [];\nvar delim = new String(aValues.getString(0));\nfor (var j = 1; j &lt; aValues.numEntries; j++) {\n    switch (aValues.getTypeOfIndex(j)) {\n    case 0:\n        //NULL\n        valArr.push(null);\n        break;\n    case 1:\n        //INTEGER\n        valArr.push(aValues.getInt64(j));\n        break;\n    case 2:\n        //REAL\n        valArr.push(aValues.getDouble(j));\n        break;\n    case 3:\n        //TEXT\n    default:\n        valArr.push(aValues.getString(j));\n    }\n}\nreturn valArr.join(delim);',-1,0,1,NULL);\nINSERT INTO \"functions\" VALUES('regexp_match','var regExp = new RegExp(aValues.getString(0));\nvar strVal = new String(aValues.getString(1));\n\nif (strVal.match(regExp)) {\n    return 1;\n}\nelse {\n    return 0;\n}\n\n',2,0,1,NULL);\nINSERT INTO \"functions\" VALUES('regexp_replace','// exemple : regexp_replace(''toto'',''o+'',''a'',''g'')\nvar input      = new String(aValues.getString(0));\nvar regex      = new String(aValues.getString(1));\nvar substitute = new String(aValues.getString(2));\nvar flags      = new String(aValues.getString(3));\n\nreturn input.replace(new RegExp(regex,flags), substitute);\n',4,0,1,NULL);\nINSERT INTO \"functions\" VALUES('instr','var char = new String(aValues.getString(0));\nvar str  = new String(aValues.getString(1));\nreturn str.indexOf(char, 0) + 1;',2,0,1,NULL);\nINSERT INTO \"functions\" VALUES('rinstr','var char = new String(aValues.getString(0));\nvar str  = new String(aValues.getString(1));\nreturn str.lastIndexOf(char) + 1;\n',2,0,1,NULL);\nCREATE TABLE \"aggregateFunctions\" (\"name\" TEXT PRIMARY KEY  NOT NULL, \"argLength\" INTEGER, \"onStepBody\" TEXT, \"onFinalBody\" TEXT, \"enabled\" INTEGER NOT NULL DEFAULT 1, \"extraInfo\" TEXT);\nINSERT INTO \"aggregateFunctions\" VALUES('stdDev',1,'this._store.push(aValues.getInt32(0));','var iLength = this._store.length;\nlet total = 0;\nthis._store.forEach(function(elt) { total += elt });\nlet mean = total / iLength;\nlet data = this._store.map(function(elt) {\n  let value = elt - mean;\n  return value * value;\n});\ntotal = 0;\ndata.forEach(function(elt) { total += elt });\nthis._store = [];\nreturn Math.sqrt(total / iLength);',1,NULL);\nINSERT INTO \"aggregateFunctions\" VALUES('longest_prefix',1,'this._store.push(aValues.getString(0));','if (this._store.length == 0) {\n        return \"\";\n}\nvar prefix = this._store[0];\nvar prefixLen = prefix.length;\nfor (var i = 1; i &lt; this._store.length &amp;&amp; prefixLen &gt; 0; i++) {\n        var word = this._store[i];\n        // The next line assumes 1st char of word and prefix always match.\n        // Initialize matchLen to -1 to test entire word.\n        var matchLen = 0;\n        var maxMatchLen = Math.min(word.length, prefixLen);\n        while (++matchLen &lt; maxMatchLen) {\n                if (word.charAt(matchLen) != prefix.charAt(matchLen)) {\n                        break;\n                }\n        }\n        prefixLen = matchLen;\n}\nreturn prefix.substring(0, prefixLen);',1,NULL);\nCOMMIT;\nEOF\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>BACKGROUND:  </p>\n\n<ul>\n<li><p>Firefox 3 includes\n<a href=\"http://sqlite.org\">SQLite</a> version\n3.5.9. Firefox also allows extensions, which are written in javascript and\ncan call the embedded SQLite engine.</p></li>\n<li><p>As expected, executing the following\nSQL statement 'SELECT \"TEXT\" REGEXP\n\"T*\";' gives an error, since there is\nno REGEXP function natively included in SQLite.</p></li>\n<li><p>javascript includes a built in regexp function.</p></li>\n<li><p>SQLite allows loadable extensions via SELECT load_extension('filename');</p></li>\n</ul>\n\n<p>QUESTION:\n<strong>Is it possible to a load an extension in SQLite which is written in javascript that can do REGEXP?</strong></p>\n",
            "last_activity_date": 1365513558,
            "question_id": 455292,
            "score": 12,
            "tags": [
                "javascript",
                "sqlite"
            ],
            "title": "Is it possible to create a javascript User-defined function in sqlite"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><strong>AngularJS templates can only invoke functions that are available on a scope</strong>. So, whatever approach you take you need to have your function on a scope.</p>\n\n<p>If you want your service's functions to be directly invokable from a template you've got several options:</p>\n\n<p><strong><em>The one you've tried - that is, expose the whole service on a scope</em></strong>:</p>\n\n<pre><code>$scope.service = service;\n</code></pre>\n\n<p>and then in a template:</p>\n\n<pre><code>&lt;p&gt;Hello {{service.getUsername();}}&lt;/p&gt;\n</code></pre>\n\n<p>This is one-liner in a controller and makes all the service methods available on a scope and thus to templates.</p>\n\n<p><strong><em>Expose methods one by one</em></strong> </p>\n\n<p>to have precise control over what gets exposed:</p>\n\n<pre><code>$scope.getUsername = service.getUsername;\n</code></pre>\n\n<p>and then in a template:</p>\n\n<pre><code>&lt;p&gt;Hello {{getUsername();}}&lt;/p&gt;\n</code></pre>\n\n<p>This requires more work exposing methods but gives you fine-grained control over what gets exposed.</p>\n\n<p><strong><em>Expose proxing methods</em></strong>:</p>\n\n<pre><code>$scope.getMyUsername = function() {\n   //pre/post processing if needed \n   return service.getUsername();\n};\n</code></pre>\n\n<p>You can use any of those methods or mix and combine them but <strong>at the end of the day a function must end up on a scope</strong> (either directly or through another object exposed on a scope).</p>\n",
                    "is_accepted": true,
                    "score": 30
                },
                {
                    "body": "<p>Another way to expose your service within your $scope would be to add a function pointer to your service method/data object.</p>\n\n<pre><code>scope.serviceData = service.data;\n// Or\nscope.getServiceData = service.getData;\n</code></pre>\n\n<p>Within your view you can then invoke it by using parentheses.</p>\n\n<pre><code>&lt;input ng-model=\"serviceData().key\" /&gt;\n// Or\n&lt;input ng-model=\"getServiceData().key\" /&gt;\n// Or\n{{getServiceData().key}}\n</code></pre>\n\n<p>I personally like this approach and i am currently using it in order to keep multiple views in sync with the same data. It does bring up some issues though as explained here:\n<a href=\"http://stackoverflow.com/questions/18312721/angularjs-best-practice-concerning-proper-two-way-data-binding-from-a-service\">AngularJS. Best practice concerning proper two way data binding from a service</a></p>\n\n<p>As to exposing to much data i am currently trying to do something like this.</p>\n\n<pre><code>// Within your view.\n{{getServiceDataByKey('key')}}\n\n// In your controller.\nscope.getServiceDataByKey = service.getServiceDataByKey;\n\n// In your service.\ngetServiceDataByKey : function (key) {\n   return dataObject[key];\n}\n</code></pre>\n\n<p>The reason why i am doing this is that we want to keep the controllers as clean as possible and have all our data in one centralized place. Also most data within the service should be exposed.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Another way to do it:</p>\n\n<p><strong><em>Expose the service on $rootScope</em></strong>:</p>\n\n<pre><code>$rootScope.service = service;\n</code></pre>\n\n<p>and then in a template:</p>\n\n<pre><code>&lt;p&gt;Hello {{service.getUsername();}}&lt;/p&gt;\n</code></pre>\n\n<p>You can do this on app.run, and you will get the service in all the views of your app. You could use this method for Authentication services.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>i've this HTML:</p>\n\n<pre><code>&lt;p&gt;Hello {{name}}&lt;/p&gt;\n</code></pre>\n\n<p>and the controller is:</p>\n\n<pre><code>function myCtrl(scope, service) {\n    scope.name = service.getUsername(); // service.getUsername() return \"World!\"\n}\nmyCtrl.$inject = ['$scope', 'originalService'];\n</code></pre>\n\n<p>The service works fine, so i don't paste the code here... \nIn this case the result is \"<strong>Hello world!</strong>\"\nI changed the HTML in this way:</p>\n\n<pre><code>&lt;p&gt;Hello {{service.getUsername()}}&lt;/p&gt;\n</code></pre>\n\n<p>But this does not work.</p>\n\n<p>I changed the controller:</p>\n\n<pre><code>function myCtrl(scope, service) {\n    scope.ser = service;\n}\nmyCtrl.$inject = ['$scope', 'originalService'];\n</code></pre>\n\n<p>and then the HTML</p>\n\n<pre><code>&lt;p&gt;Hello {{ser.getUsername();}}&lt;/p&gt;\n</code></pre>\n\n<p><strong>This works!</strong></p>\n\n<p>So my question is:</p>\n\n<p><strong>Is this the only way to use the functions of a service directly in the HTML, or i'm missing something?</strong></p>\n",
            "last_activity_date": 1408192059,
            "question_id": 15039837,
            "score": 11,
            "tags": [
                "javascript",
                "angularjs",
                "angularjs-scope",
                "angularjs-service"
            ],
            "title": "AngularJS, is this way of using service good?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>It seems to me, that when you defineProperties for prototype, all instances shares that properties. So the right variant could be</p>\n\n<pre><code>var User = (function(){\n// constructor\nfunction User(id, name){\n    this.id     = id\n    this.name   = name\n\n    Object.defineProperty(this, \"name\", {\n        get: function(){ return name },\n        set: function(new_value){\n            //Some business logic, upperCase, for example\n            new_value = new_value.toUpperCase();\n            name = new_value\n        }\n    })\n}\nreturn User;\n})();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>As you define your properties on the <em>prototype</em> object of all user instances, all those objects will share the same <code>value</code> variable. If that is not what you want, you will need to call <code>defineFields</code> on each user instance separately - in the constructor:</p>\n\n<pre><code>function User(id, name){\n    this.define_fields([\"name\", \"id\"]);\n    this.id     = id\n    this.name   = name\n}\nUser.prototype.define_fields = function(fields) {\n    var user = this;\n    fields.forEach(function(field_name) {\n        var value;\n        Object.defineProperty(user, field_name, {\n            get: function(){ return value; },\n            set: function(new_value){\n                /* some business logic goes here */\n                value = new_value;\n            }\n        });\n    });\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I came to the same conclusion as <a href=\"http://stackoverflow.com/users/1931738/mikhail-kraynov\">Mikhail Kraynov</a> three minutes after he answered. That solution defines new properties each time the constructor is called. I wondered if, as you asked, there was a way of putting the getters and setters in the prototype. Here is what I came up with: </p>\n\n<pre><code>var User = (function () {\n  function User (id, nam) {\n    Object.defineProperty (this, '__',  // Define property for field values   \n       { value: {} });\n\n    this.id = id;\n    this.nam = nam;\n  }\n\n  (function define_fields (fields){\n    fields.forEach (function (field_name) {\n      Object.defineProperty (User.prototype, field_name, {\n        get: function () { return this.__ [field_name]; },\n        set: function (new_value) {\n               // some business logic goes here \n               this.__[field_name] = new_value;\n             }\n      });\n    });\n  }) (fields);\n\n  return User;\n}) ();  \n</code></pre>\n\n<p>In this solution I define the filed getters and setters in the prototype but reference a (hidden) property in each instance which holds the field values.</p>\n\n<p>See the fiddle here : <a href=\"http://jsfiddle.net/Ca7yq\" rel=\"nofollow\">http://jsfiddle.net/Ca7yq</a></p>\n\n<p>I added some more code to the fiddle to show some effects on enumeration of properties : <a href=\"http://jsfiddle.net/Ca7yq/1/\" rel=\"nofollow\">http://jsfiddle.net/Ca7yq/1/</a></p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Please don't implement any other version because it will eat all your memory in your app:</p>\n\n<pre><code>var Player = function(){this.__gold = 0}\nPlayer.prototype = {\n    get gold(){\n        return this.__gold * 2;\n    },\n\n\n\n    set gold(gold){\n        this.__gold = gold;\n    },\n}\n\nvar p = new Player();\na.gold = 2;\nalert(a.gold); // 4\n</code></pre>\n\n<p>If you instance 10000 objects:</p>\n\n<ul>\n<li>With my method: you will only have 2 functions in the memory;</li>\n<li>With the other methods: 10000 * 2 = 20000 functions in the memory;</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>From the accepted answer, I realize what we're trying to do here is defining <strong>private instance variables</strong>.   These variables should be on the instance (this), rather than on the prototype object.  Normally we name private variables by prefixing an underscore to the property's name.</p>\n\n<pre><code>var Vehicle = {};\nObject.defineProperty(Vehicle, \"make\", {\n    get: function() { return this._make; }\n    set: function(value) { this._make = value; }\n});\n\nfunction Car(m) { this.make = m; }    //this will set the private var _make\nCar.prototype = Vehicle;\n</code></pre>\n\n<p>The accepted answer basically puts all private variables in a container instead, which is actually better.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This solution is without extra memory consumption. Your updated code is close. You just need to use this.props[field_name] instead of direct this[field_name]. </p>\n\n<p>Please note that defineProperty call replaced to Object.create</p>\n\n<p>Js Fiddle <a href=\"http://jsfiddle.net/amuzalevskyi/65hnpad8/\" rel=\"nofollow\">http://jsfiddle.net/amuzalevskyi/65hnpad8/</a></p>\n\n<pre><code>// util\nfunction createFieldDeclaration(fields) {\n    var decl = {};\n    for (var i = 0; i &lt; fields.length; i++) {\n        (function(fieldName) {\n            decl[fieldName] = {\n                get: function () {\n                    return this.props[fieldName];\n                },\n                set: function (value) {\n                    this.props[fieldName] = value;\n                }\n            }\n        })(fields[i]);\n    }\n    return decl;\n}\n\n// class definition\nfunction User(id, name) {\n    this.props = {};\n    this.id = id;\n    this.name = name;\n}\nUser.prototype = Object.create(Object.prototype, createFieldDeclaration(['id','name']));\n\n// tests\nvar Alex = new User(0, 'Alex'),\n    Andrey = new User(1, 'Andrey');\n\ndocument.write(Alex.name + '&lt;br/&gt;'); // Alex\ndocument.write(Andrey.name + '&lt;br/&gt;'); // Andrey\n\nAlex.name = \"Alexander\";\ndocument.write(Alex.name + '&lt;br/&gt;'); // Alexander\ndocument.write(Andrey.name + '&lt;br/&gt;'); //Andrey\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>As you know we can define getters and setters in JS using <code>defineProperty()</code>. I've been stuck when trying to extend my class using <code>defineProperty()</code>.</p>\n\n<p>Here is an example code:</p>\n\n<p>I have an array of fields which must be added to a object</p>\n\n<pre><code>fields = [\"id\", \"name\", \"last_login\"]\n</code></pre>\n\n<p>Also I have a class which will be modified</p>\n\n<pre><code>var User = (function(){\n    // constructor\n    function User(id, name){\n        this.id     = id\n        this.name   = name\n    }\n    return User;\n})();\n</code></pre>\n\n<p>And a function which will add fields to the class using <code>defineProperty()</code></p>\n\n<pre><code>var define_fields = function (fields){\n    fields.forEach(function(field_name){\n        var value = null\n        Object.defineProperty(User.prototype, field_name, {\n            get: function(){ return value }\n            set: function(new_value){\n                /* some business logic goes here */\n                value = new_value\n            }\n        })\n    })\n};\n</code></pre>\n\n<p>After running <code>define_fields()</code> I have my fields in the instance of the <code>User</code></p>\n\n<pre><code>define_fields(fields);\nuser1 = new User(1, \"Thomas\")\nuser2 = new User(2, \"John\")\n</code></pre>\n\n<p>But the values \u200b\u200bof these properties are identical</p>\n\n<pre><code>console.log(user2.id, user2.name) // 2, John\nconsole.log(user1.id, user1.name) // 2, John\n</code></pre>\n\n<p>Is there any way to make <code>defineProperty()</code> work properly in this case?\nIf I understand the problem is with <code>value</code> which becomes identical for\neach instance of the class but i can't realise how to fix it. Thanks in advance\nfor your answers.</p>\n\n<p><strong>UPD:</strong>\nThis way throws \"RangeError: Maximum call stack size exceeded\"</p>\n\n<pre><code>var define_fields = function (fields){\n    fields.forEach(function(field_name){\n        Object.defineProperty(User.prototype, field_name, {\n            get: function(){ return this[field_name] }\n            set: function(new_value){\n                /* some business logic goes here */\n                this[field_name] = new_value\n            }\n        })\n    })\n};\n</code></pre>\n",
            "last_activity_date": 1417292157,
            "question_id": 14047809,
            "score": 11,
            "tags": [
                "javascript",
                "prototype",
                "defineproperty"
            ],
            "title": "JS defineProperty and prototype"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>i use <code>executeScript</code>. example provided:</p>\n\n<pre><code>String cssSelector=\"...blablabla...\";\n JavascriptExecutor js = (JavascriptExecutor) driver;\n        StringBuilder stringBuilder = new StringBuilder();\n        stringBuilder.append(\"document.getElementById(\\'\"+cssSelector +\"\\').click();\");\n        js.executeScript(stringBuilder.toString());\n</code></pre>\n\n<p>Concerning details on alerts there is known issue. you can get details <a href=\"http://code.google.com/p/selenium/issues/detail?id=2760\" rel=\"nofollow\">here</a></p>\n\n<p>In accordance with documentataion difference is: </p>\n\n<p><strong>executeScript</strong></p>\n\n<pre><code>public java.lang.Object executeScript(java.lang.String script,\n                             java.lang.Object... args)\n</code></pre>\n\n<p>Description copied from interface: JavascriptExecutor\n<em>Executes JavaScript in the context of the currently selected frame or window. The script fragment provided will be executed as the body of an anonymous function.\nWithin the script, use document to refer to the current document. Note that local variables will not be available once the script has finished executing, though global variables will persist.\nIf the script has a return value (i.e. if the script contains a return statement), then the following steps will be taken:</em></p>\n\n<ul>\n<li>For an HTML element, this method returns a WebElement</li>\n<li>For a decimal, a Double is returned</li>\n<li>For a non-decimal number, a Long is returned</li>\n<li>For a boolean, a Boolean is returned</li>\n<li>For all other cases, a String is returned.</li>\n<li>For an array, return a List with each object following the\nrules above. We support nested lists.</li>\n<li>Unless the value is null or there is no return value, in which null\nis returned</li>\n</ul>\n\n<p>Arguments must be a number, a boolean, a String, WebElement, or a List of any combination of the above. An exception will be thrown if the arguments do not meet these criteria. The arguments will be made available to the JavaScript via the \"arguments\" magic variable, as if the function were called via \"Function.apply\"</p>\n\n<p>Specified by:\nexecuteScript in interface JavascriptExecutor\nParameters:\nscript - The JavaScript to execute\nargs - The arguments to the script. May be empty\nReturns:\nOne of Boolean, Long, String, List or WebElement. Or null.</p>\n\n<p><strong>executeAsyncScript</strong></p>\n\n<pre><code>public java.lang.Object executeAsyncScript(java.lang.String script,\n                                  java.lang.Object... args)\n</code></pre>\n\n<p>Description copied from interface: JavascriptExecutor\n<em>Execute an asynchronous piece of JavaScript in the context of the currently selected frame or window. Unlike executing synchronous JavaScript, scripts executed with this method must explicitly signal they are finished by invoking the provided callback. This callback is always injected into the executed function as the last argument.</em>\nThe first argument passed to the callback function will be used as the script's result. This value will be handled in the same way as the synchronous case.</p>\n\n<p><strong>Example #1: Performing a sleep in the browser under test.</strong></p>\n\n<pre><code> long start = System.currentTimeMillis();\n   ((JavascriptExecutor) driver).executeAsyncScript(\n       \"window.setTimeout(arguments[arguments.length - 1], 500);\");\n   System.out.println(\n       \"Elapsed time: \" + (System.currentTimeMillis() - start));\n</code></pre>\n\n<p><strong>Example #2: Synchronizing a test with an AJAX application:</strong></p>\n\n<pre><code> WebElement composeButton = driver.findElement(By.id(\"compose-button\"));\n   composeButton.click();\n   ((JavascriptExecutor) driver).executeAsyncScript(\n       \"var callback = arguments[arguments.length - 1];\" +\n       \"mailClient.getComposeWindowWidget().onload(callback);\");\n   driver.switchTo().frame(\"composeWidget\");\n   driver.findElement(By.id(\"to\")).sendKeys(\"bog@example.com\");\n</code></pre>\n\n<p><strong>Example #3: Injecting a XMLHttpRequest and waiting for the result:</strong></p>\n\n<pre><code> Object response = ((JavascriptExecutor) driver).executeAsyncScript(\n       \"var callback = arguments[arguments.length - 1];\" +\n       \"var xhr = new XMLHttpRequest();\" +\n       \"xhr.open('GET', '/resource/data.json', true);\" +\n       \"xhr.onreadystatechange = function() {\" +\n       \"  if (xhr.readyState == 4) {\" +\n       \"    callback(xhr.responseText);\" +\n       \"  }\" +\n       \"}\" +\n       \"xhr.send();\");\n   JSONObject json = new JSONObject((String) response);\n   assertEquals(\"cheese\", json.getString(\"food\"));\n</code></pre>\n\n<p>Script arguments must be a number, a boolean, a String, WebElement, or a List of any combination of the above. An exception will be thrown if the arguments do not meet these criteria. The arguments will be made available to the JavaScript via the \"arguments\" variable.</p>\n\n<p>Specified by:\nexecuteAsyncScript in interface JavascriptExecutor\nParameters:\nscript - The JavaScript to execute.\nargs - The arguments to the script. May be empty.\nReturns:\nOne of Boolean, Long, String, List, WebElement, or null.</p>\n\n<p>Detailed documentaion is <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/remote/RemoteWebDriver.html\" rel=\"nofollow\">here</a></p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>In simple terms </p>\n\n<p><em><strong>executeAsyncScript</em></strong> -> This method doesn't block the execution of next line of code...till execution of this method is completed. This method will execute as well as next line of code will be executed...asynchronously. (without blocking each other)</p>\n\n<p><em><strong>executeScript</em></strong> -> This method will block the execution till it's execution is completed and then it moves to next line of code. In short your automation code will halt till the Javascript is executed via this method.</p>\n\n<p>Here is a small piece of example...which you can try...Though it's written in C# (please modify for Java Compatibility) </p>\n\n<pre><code>        IWebDriver driver= new InternetExplorerDriver();\n        driver.Navigate().GoToUrl(\"http://www.google.com\");\n        IJavaScriptExecutor js = (IJavaScriptExecutor) driver;\n        Console.WriteLine(\"Entering the Async Call\");\n        driver.Manage().Timeouts().SetScriptTimeout(new TimeSpan(0,0,4));\n        js.ExecuteAsyncScript(\"setInterval(function(){ alert('Hello');},3000); callback();\");\n        Console.WriteLine(\"Exiting the Async Call\");\n\n        Console.WriteLine(\"Entering the Sync Call\");\n        Console.WriteLine(js.ExecuteScript(\"return document.title\"));\n        Console.WriteLine(\"Exiting the Sync Call\");\n        Console.ReadLine();\n\n        driver.Close();\n        driver.Quit();\n</code></pre>\n\n<p>By running the above example , you will find that Javascript code in <strong><em>executeAsyncScript</em></strong> will run after the complete automation code is executed. Hence the Alert window with \"hello\" text will appear at later stages of execution (when the <strong><em>executeScript</em></strong> is executed)</p>\n\n<p>But where as the code in <strong><em>executeScript</em></strong> will run by blocking the following line of code.</p>\n\n<pre><code>Console.WriteLine(\"Exiting the Sync Call\");\n</code></pre>\n\n<p>Hence you will see output \"Google\" between the lines</p>\n\n<blockquote>\n  <p>Entering the Sync Call</p>\n  \n  <p>Google</p>\n  \n  <p>Exiting the Sync Call</p>\n</blockquote>\n\n<p>I hope this helps..All the best :) </p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Just try, <code>((JavascriptExecutor) driver).executeScript(\"alert('Hello');\");</code> and this will show the Alert.</p>\n\n<pre><code>((JavascriptExecutor) driver).executeAsyncScript() is used when the JS takes time to execute e.g.in a Web Service call.\n</code></pre>\n\n<p><code>window.onload</code> makes sure the JS is executed when the page is loaded completely.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The main difference between those are that scripts executed with async must explicitly signal they are finished by invoking the provided callback. This callback is always injected into the executed function as the last argument.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>What is the difference between  executeAsyncScript and executeScript?  How can i use event such as window.onload? I tried something like this </p>\n\n<pre><code>((JavascriptExecutor) driver).executeAsyncScript(\"window.onload = function() {alert('Hello')}\"); \n</code></pre>\n\n<p>But of course it did not work...\nSo if anyone knows how it works please write an example</p>\n",
            "last_activity_date": 1411618661,
            "question_id": 13452822,
            "score": 11,
            "tags": [
                "javascript",
                "testing",
                "selenium",
                "webdriver",
                "qa"
            ],
            "title": "WebDriver executeAsyncScript vs executeScript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The browser cache behaves differently on different settings. You should not depend on user settings or the user's browser. It's possible to make the browser ignore headers also. </p>\n\n<p>There are two ways to prevent caching.</p>\n\n<p>--> Change AJAX request to POST. Browsers don't cache POST requests.</p>\n\n<p>--> Better Way &amp; good way: add an additional parameter to your request with either the current time stamp or any other unique number.</p>\n\n<pre><code>params = \"action=\" + action \n         + \"&amp;domain=\" + encodeURIComponent(domain) \n         + \"&amp;preventCache=\"+new Date();\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>Another alternative to the Javascript solution is to use custom headers:\nIn PHP it would look like this:</p>\n\n<pre><code>&lt;?php\n   header(\"Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0\");//Dont cache\n   header(\"Pragma: no-cache\");//Dont cache\n   header(\"Expires: Thu, 19 Nov 1981 08:52:00 GMT\");//Make sure it expired in the past (this can be overkill)\n?&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>I've setup an app and it works fantastic on Opera and Firefox, but on Google Chrome it caches the AJAX request and will give stale data!</p>\n\n<p><a href=\"http://gapps.qk.com.au/\">http://gapps.qk.com.au</a> is the app. When ran in Chrome it doesn't even send the AJAX requests, but when tried in another browser it always does the AJAX request and returns data.</p>\n\n<p><strong>Is there any method (Apache/PHP/HTML/JS) to stop Chrome from doing this behavior?</strong> </p>\n\n<p>The AJAX call:</p>\n\n<pre><code>function sendAjax(action,domain,idelement) {\n\n                    //Create the variables\n                var xmlhttp,\n                    tmp,\n                    params = \"action=\" + action\n                             + \"&amp;domain=\" + encodeURIComponent(domain)\n\n                    xmlhttp = new XMLHttpRequest(); \n                //Check to see if AJAX request has been sent\n                xmlhttp.onreadystatechange = function () {\n                    if (xmlhttp.readyState === 4 &amp;&amp; xmlhttp.status === 200) {\n                        $('#'+idelement).html(xmlhttp.responseText);\n                    }\n                };\n                xmlhttp.open(\"GET\", \"ajax.php?\"+params, true);\n                xmlhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                //console.log(params);\n                xmlhttp.send(params);\n\n            }\nsendAjax('gapps','example.com','gapps');\n</code></pre>\n",
            "last_activity_date": 1415827410,
            "question_id": 11463637,
            "score": 11,
            "tags": [
                "javascript",
                "ajax",
                "google-chrome"
            ],
            "title": "Prevent Chrome from caching AJAX requests"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Use the <a href=\"http://twitter.github.com/bootstrap/javascript.html#typeahead\"><code>highlighter</code></a> method:</p>\n\n<pre><code>$('.typeahead').typeahead({\n    highlighter: function(item){\n        return \"&lt;div&gt;.......&lt;/div&gt;\";\n    }\n});\n</code></pre>\n\n<blockquote>\n  <p>Method used to highlight autocomplete results. Accepts a single\n  argument item and has the scope of the typeahead instance. Should\n  return html.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>Typeahead expects that everything passed into the process callback from the source callback will be a string. Unfortunately, this means that your highlighter callback is somewhat limited in the kind of HTML it can generate since you can only modify a string so much.</p>\n\n<p>You can, however, define your source method such that it returns the usual array of string objects each of which have an additional data property that contains all the data you'll need to generate HTML in the highlighter.</p>\n\n<pre><code>$('.typeahead').typeahead\n  source: (query, processCallback)-&gt;\n    $.get '/users', q: query, (data)-&gt;\n      processCallback data.map (user)-&gt;\n        item = new String(\"#{user.first_name} #{user.last_name}\")\n        item.data = user\n        item\n</code></pre>\n\n<p>In this form, <code>item</code> will be passed around the internals of typeahead as a string, and when it finally reaches your custom highlighter, you can use the data property to build more complex html:</p>\n\n<pre><code>$('.typeahead').typeahead\n  highlighter: (item)-&gt;\n    \"&lt;img src=\\\"#{item.data.avatar_url}\\\" /&gt; #{item}\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>mgadda's answer neatly solves the issue for how to augment rendering items with custom data.  Unfortunately this metadata isn't available once an item is selected, because bootstrap's select() method calls your updater() with a value taken from the DOM, not your loaded String:</p>\n\n<pre><code>var val = this.$menu.find('.active').attr('data-value');\n</code></pre>\n\n<p>One way around this is to set the metadata you need to DOM elements in highlighter(), then find them in your updater().  Since we only needed an integer, we set an ID to the image tag itself, and in updater, find it based on the image tag that's still visible:</p>\n\n<pre><code>$('.your_textboxes').typeahead({\n  highlighter: function(item) {\n    return('&lt;img src=\"' + item.friend.img + '\" id=\"klid_' + item.friend.id + '\" /&gt;' + item);\n  },\n  updater: function(val) {\n    var klid = $('ul.typeahead li.active:visible a img');\n    if (klid &amp;&amp; klid.length) {\n      klid = klid[0].id.substr(5);\n      // do stuff with metadata...\n    }\n    return(val);\n}\n</code></pre>\n\n<p>Need more metadata?  Wrap your highlighter in a span, or add some hidden form fields.</p>\n\n<p>This feels kludgey though.  If anyone has a cleaner solution, I'd love to see it.</p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>I am not sure about typeahead but you can easily achieve your imdb type image with label and title or links and tags autocomplete with this here - <a href=\"http://www.webdesignerdepot.com/2012/05/foxycomplete-advanced-autocomplete-search-images/\" rel=\"nofollow\">http://www.webdesignerdepot.com/2012/05/foxycomplete-advanced-autocomplete-search-images/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm working on a search functionality for my website and I'm using Bootstrap's typeahead to show the results. So far so good. But what I want is to extend the function so that I could add an image and some other item, say description, etc. According to this post, that is possible: <a href=\"https://github.com/twitter/bootstrap/issues/\">custom typeahead</a>.</p>\n\n<p>Basically I need something like this as each result item:</p>\n\n<pre><code>&lt;div class=\"resultContainer\"&gt;\n  &lt;div class=\"resultImage\"&gt;&lt;img /&gt;&lt;/div&gt;\n  &lt;div class=\"resultDesc\"&gt;&lt;/div&gt;\n  &lt;div class=\"resultLabel\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Now it's:</p>\n\n<pre><code>&lt;li&gt;&lt;a href=\"#\"&gt;&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>And this doesn't even work with a longer text than the width of the typeahead. So the text doesn't go to the next line and hence doesn't fit the <code>&lt;li&gt;</code>. How can I use the the custom layout I want? (btw I have an array of arrays of results. Each sub-array contains img, desc, etc.). This is what I have right now: \n   <img src=\"http://i.stack.imgur.com/lhRBp.png\" alt=\"enter image description here\"></p>\n\n<p>Thanks in advance.</p>\n",
            "last_activity_date": 1351276643,
            "question_id": 10873312,
            "score": 11,
            "tags": [
                "javascript",
                "html",
                "css",
                "twitter-bootstrap"
            ],
            "title": "How to customize Bootstrap typeahead layout/function for more than just text?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>According to <a href=\"http://www.w3schools.com/html5/html5_ref_eventattributes.asp\">W3Schools</a>, you can use the <code>onended</code> event to detect if the audio has finished playing. </p>\n\n<p>In jQuery:</p>\n\n<pre><code>$(\"#player\").bind('ended', function(){\n    // done playing\n    alert(\"Player stopped\");\n});\n</code></pre>\n\n<p>For a demonstration see: <a href=\"http://jsfiddle.net/9PCEf/2/\">http://jsfiddle.net/9PCEf/2/</a></p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<pre><code>//Direct\n&lt;audio id=\"music\" src=\"blah.mp3\" onended=\"yourFunction()\"&gt;&lt;/audio&gt;\n\n -or-\n\n//JavaScript (HTML5)\ndocument.querySelector(\"#music\").addEventListener(\"ended\", yourFunction, false);\n\n -or-\n\n//jQuery\n$(\"#music\").on(\"ended\", yourFunction);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 26
                }
            ],
            "body": "<p>How can I tell when an HTML5 audio element has finished playing?</p>\n\n<p>Does it throw events I can listen to or something similar? I need to react when an audio track ends. </p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1399522372,
            "question_id": 9346579,
            "score": 11,
            "tags": [
                "javascript",
                "html",
                "html5",
                "audio"
            ],
            "title": "How can I tell when an HTML5 audio element has finished playing?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I'm not 100% sure what methods/properties give you the Range and Selection.  I didn't see any in the documentation.  But I was able to get the selected range in pixels using reflection.  Not sure if this helps anybody, but thought it was worth posting here.</p>\n\n<pre><code>Region result = null;\ntry {\n     Object[] params = null;\n\n     Method nativeGetSelectionRegion = WebView.class.getDeclaredMethod(\"nativeGetSelectionRegion\");\n     nativeGetSelectionRegion.setAccessible(true);     \n     result = (Region)nativeGetSelectionRegion.invoke(this, params);\n\n\n     Log.i(TAG, \"res: region \" + result.getBounds().toShortString());\n\n } catch (Exception e) {\n     e.printStackTrace();\n }\n</code></pre>\n\n<p>Hopefully that helps somebody</p>\n\n<p>EDIT:  This doesn't work on 3.1+</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I got this working in 2.2 - 4.0.3.  I used a javascript interface and passed all touches to it.  The solution seems to work pretty well and I've put an example project on github.  The github project includes the necessary js in the assets folder as well as a test page and web view that loads the test page and implements all necessary methods to handle the selection.  The link to the github project is <a href=\"https://github.com/btate/BTAndroidWebViewSelection\">https://github.com/btate/BTAndroidWebViewSelection</a>.  Have at it.</p>\n",
                    "is_accepted": false,
                    "score": 11
                }
            ],
            "body": "<p>Problem domain: Android WebView based ePub format reader --</p>\n\n<p>We need text highlights which are accessible via JavaScript methods (ie turn em on, turn em off, save them email them, etc) </p>\n\n<p>Anyone in the know, please correct me if I'm wrong: \nDuring text selection on a WebView -- </p>\n\n<p>Basically we are handed a TextView overlay (WebTextView) which is IN NO WAY attached to the underlying html other than visually (nice job on lining it all up and making it seamless, btw), on which we perform the TextSelectionActionMode and the ClipboardManager is supplied with the results... to make that clear, the actual HTML with the WebView IS NOT actually selected at any time during this stock process, which is why the JavaScript cannot access the results of the action.</p>\n\n<p>So in order to make this behavior work in 3.1+, I have a few possible plans going forward to implement my own selection on a WebView  -- this is the part where I'm wondering if I cannot see out of my corner :) -- </p>\n\n<p>1) capture MOTION_DOWN of the long click which initiates selection mode, override the built in TextSelection ActionMode( to provde the clients branding -- the way I found to do so is so hackish it hurts) watch the drag, capture MOTION_UP position, map these coords onto the \nWebView, and make my selection based on the coords (while comparing the text to that captured by the ClipboardManager) </p>\n\n<p>2) create my own \"WebTextView\" (whole lotta work lol) and not-so- hackishly create my own ActionMode and do all of the above. </p>\n\n<p>3) use the MotionEvents generated by the stock selection process and somehow override the stock TextSelection ActionMode triggered by this.</p>\n\n<p>These are the options I see, hopefully my proximity and frustration \nwith this have blinded me to a simpler (read that as built-in) \nsolution or two. </p>\n\n<p>Thanks again for your time.</p>\n",
            "last_activity_date": 1352411057,
            "question_id": 6948447,
            "score": 11,
            "tags": [
                "javascript",
                "android",
                "webview",
                "android-3.0-honeycomb",
                "textselection"
            ],
            "title": "Android 3.x ONLY WebView Text Selection + JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Personally I'd use <a href=\"http://jquery.com/\" rel=\"nofollow\">jQuery</a> for this.</p>\n\n<p>jQuery is designed to handle the variety of different browser implimentations of the document ready state.</p>\n\n<p>Using jQuery your above code would look like:</p>\n\n<pre><code>$(callback);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>If you want to know how it's done or see a way of doing it. I recommend looking at Diego Perini's work. His work and methods are used in many DOM libraries, including jQuery. The guy doesn't seem to get much credit unfortunately. He is the one who pioneered the try/catch polling method, which is what makes cross-browser dom loaded events possible when IE is thrown into the mix.</p>\n\n<p><a href=\"https://github.com/dperini/ContentLoaded/blob/master/src/contentloaded.js\">https://github.com/dperini/ContentLoaded/blob/master/src/contentloaded.js</a></p>\n",
                    "is_accepted": true,
                    "score": 46
                },
                {
                    "body": "<p>If you want to use pure javascript, you can use th\u0443 following cross-browser function (source (in Russian): <a href=\"http://javascript.ru/unsorted/top-10-functions\" rel=\"nofollow\">http://javascript.ru/unsorted/top-10-functions</a>)</p>\n\n<pre><code>function bindReady(handler){\n    var called = false     \n    function ready() {\n        if (called) return\n        called = true\n        handler()\n    }     \n    if ( document.addEventListener ) {\n        document.addEventListener( \"DOMContentLoaded\", function(){\n            ready()\n        }, false )\n    } else if ( document.attachEvent ) { \n        if ( document.documentElement.doScroll &amp;&amp; window == window.top ) {\n            function tryScroll(){\n                if (called) return\n                if (!document.body) return\n                try {\n                    document.documentElement.doScroll(\"left\")\n                    ready()\n                } catch(e) {\n                    setTimeout(tryScroll, 0)\n                }\n            }\n            tryScroll()\n        }\n        document.attachEvent(\"onreadystatechange\", function(){     \n            if ( document.readyState === \"complete\" ) {\n                ready()\n            }\n        })\n    }\n    if (window.addEventListener)\n        window.addEventListener('load', ready, false)\n    else if (window.attachEvent)\n        window.attachEvent('onload', ready)\n    /*  else  // use this 'else' statement for very old browsers :)\n        window.onload=ready\n    */\n}\nreadyList = []      \nfunction onReady(handler) {  \n    if (!readyList.length) { \n        bindReady(function() { \n            for(var i=0; i&lt;readyList.length; i++) { \n                readyList[i]() \n            } \n        }) \n    }   \n    readyList.push(handler) \n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>onReady(function() {\n  // ... \n})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I inherited this piece of code and it seems suboptimal and possibly incorrect since it's adding event listeners on both the window and document objects.  However, it is working properly except for blackberry 5.0.  Can someone explain if all this is set up correctly or if there are any recommendations to make it better and/or more streamlined?</p>\n\n<pre><code>        if (document.readyState === \"complete\") \n            callback();\n        else if (document.addEventListener) \n        {\n            document.addEventListener(\"DOMContentLoaded\",callback,false);\n            window.addEventListener(\"load\",callback,false);\n        }\n        else if(window.attachEvent) \n        {\n            document.attachEvent(\"onreadystatechange\", callback);\n            window.attachEvent(\"onLoad\",callback);\n        } else\n            setTimeout(callback,2000);\n</code></pre>\n",
            "last_activity_date": 1409335345,
            "question_id": 6902280,
            "score": 11,
            "tags": [
                "javascript",
                "javascript-events",
                "onload-event"
            ],
            "title": "Cross Browser Dom Ready"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>What is the advantage of keeping two\n  separate representations for numbers,\n  strings and booleans?</p>\n</blockquote>\n\n<p>Performance</p>\n\n<blockquote>\n  <p>In what context could one need the\n  distinction between primitive types\n  and objects?</p>\n</blockquote>\n\n<p>Coersion comes to mind. <code>0 == false</code> while <code>new Number(0) != false</code></p>\n\n<p>So for instance:</p>\n\n<pre><code>var a = new Boolean(false);\nif(a) {\n  //this code runs\n}\n</code></pre>\n\n<p>but</p>\n\n<pre><code>var a = false;\nif(a) {\n  //this code never runs\n}\n</code></pre>\n\n<p>You can read more about coersion here: <a href=\"http://webreflection.blogspot.com/2010/10/javascript-coercion-demystified.html\">http://webreflection.blogspot.com/2010/10/javascript-coercion-demystified.html</a></p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>In Javascript not every data is an object. There exist a few primitive types, like strings, numbers and boolean which are not objects. For each of this types there exists a constructor which outputs an object with similar behaviour: <code>Number</code>, <code>String</code> and <code>Boolean</code>. To confuse matters, one actually <strong>can</strong> call methods on primitive types - they will be converted to the corresponding objects during this operation, and then converted back. For instance one can do</p>\n\n<pre><code>var a = 4.1324;\na.toFixed(1) // outputs 4.1\n</code></pre>\n\n<p>Yet if you try to compare primitive types and objects with strict equality, the difference shows up</p>\n\n<pre><code>var a = new Number(4);\nvar b = 4;\na === b; // False!!!\ntypeof a; // 'object'\ntypeof b; // 'number'\n</code></pre>\n\n<p>Actually of one tries to compare objects, they turn out to be different anyway:</p>\n\n<pre><code>var a = new Number(4);\nvar b = new Number(4);\na === b; // False!!!\n</code></pre>\n\n<p><em>(From a conceptual point of view I sort of understand the distinction. Objects can have additional properties, hence the should not compare to equal unless they are actually the same. So if we want to have <code>4 === 4</code> we need to use a type which is not an object. But this dilemma is faced by any sufficiently dynamic programming language, yet Javscript is the only one I know where there are two types - one objectful and one not - for numbers or strings.)</em></p>\n\n<blockquote>\n  <p>What is the advantage of keeping two separate representations for numbers, strings and booleans? In what context could one need the distinction between primitive types and objects?</p>\n</blockquote>\n",
            "last_activity_date": 1299168610,
            "question_id": 5183009,
            "score": 11,
            "tags": [
                "javascript",
                "primitive-types"
            ],
            "title": "Javascript primitive types and corresponding objects"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Use the <code>window.history</code> object.</p>\n\n<pre><code>// For the current window\nwindow.history.back();     \nwindow.history.forward();\n\n// For an iframe's window\niframe.contentWindow.history.back(); \niframe.contentWindow.history.forward();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>iframe.contentWindow.history.go(-1); // back\niframe.contentWindow.history.go(1);  // forward\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en/dom/window.history\">https://developer.mozilla.org/en/dom/window.history</a></p>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>Button within frame:</p>\n\n<pre><code>&lt;input type='button' value='Back' onclick='history.back()'&gt;\n</code></pre>\n\n<p>Button within parent frame:</p>\n\n<pre><code>&lt;input type='button' value='Back' onclick='frame_name.history.back()'&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>How to \"implement\" back and forward buttons in an iframe with JS?</p>\n",
            "last_activity_date": 1326735900,
            "question_id": 3254985,
            "score": 11,
            "tags": [
                "javascript",
                "iframe"
            ],
            "title": "Back and forward buttons in an iframe"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>If you want to understand why those wierd expressions work as they do, you can open firebug console and experiment yourself. I did and I got that <code>![]</code> is <code>false</code>, <code>!![]</code> is <code>true</code>, adding an array to a boolean value (<code>false+[]</code> or <code>true+[]</code>) produces a string-version of this value (<code>false+[]=\"false\"</code>). </p>\n\n<p>That way the expression boils down to:</p>\n\n<pre><code>\"false\"[\"1\"] \n</code></pre>\n\n<p>which is obviously \"a\"</p>\n",
                    "is_accepted": false,
                    "score": 16
                },
                {
                    "body": "<p>I recommend you obtain and read:</p>\n\n<ul>\n<li>ECMAScript standard (ECMA 262), 5th edition</li>\n<li>Adobe document called \"AVM 2 overview\" which explains the architecture of the AVM2 virtual machine, on which Adobe Flash and its ActionScript run.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Why does <code>(![]+[])[+!![]+[]]</code> produce \"a\"</p>\n\n<p>step by step: this is parsed in: <code>(![]+[])</code> and <code>[+!![]+[]]</code>. First bit was already explained by artemb: <code>[]</code> is an array. Negating it, <code>![]</code> evaluates to a boolean, <code>false</code> - that's just how <code>!</code> works when it is applied to something that is not <code>null</code> or undefined. Again as pointed out by artemb, appending this <code>+[]</code> forces the boolean to be converted to a string. That's because the <code>+</code> is a string concatenation operator. The boolean <code>false</code> is then converted to its string representation, <code>\"false\"</code>.</p>\n\n<p>Then, the second bit, <code>[+!![]+[]]</code>. First of all, the outer <code>[</code> and <code>]</code> serve to treat the preceding string, which we just dervived is equal to <code>\"false\"</code> as an array of characters. By putting an integer index inside the <code>[</code> and <code>]</code>, you get the character at a particular index. So what remains is <code>+!![]+[]</code>\nThis consists of 4 pieces: <code>+</code>, <code>!![]</code>, <code>+</code> and <code>[]</code>. First <code>!![]</code> is evaluated. We already saw that <code>![]</code> is a boolean <code>false</code> so prepending another <code>!</code> negates it, and yields <code>true</code>. Next thing what happens is that the <code>+</code> in <code>+!![]</code> gets applied, and by applying <code>+</code> it converts the boolean <code>true</code> into the number representation, which is <code>1</code> (so <code>+true</code> is <code>1</code>) The <code>+[]</code> that follows makes a string again from that <code>1</code> yielding <code>\"1\"</code> but it does not really make sense, the shorter expression <code>(![]+[])[+!![]]</code> already produces <code>a</code>. Appending <code>+[]</code> doesn't hurt either, the resulting expression is simply <code>[\"1\"]</code> instead of <code>[1]</code>. My hunch is that when <code>[]</code> is applied to an array, whatever is inside the <code>[]</code> will be coerced into a number, which for <code>\"1\"</code> would give <code>1</code> again. So either way, <code>+!![]+[]</code> evaluates to <code>1</code>, making the final expression: <code>\"false\"[1]</code> which is saying: gimme the character at index 1 from the string <code>\"false\"</code>, and since by default, arrays start at <code>0</code> in javascript, this is the second character of <code>\"false\"</code>, and <code>a</code>.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p><strong>Why does (![]+[])[+!![]+[]] produce \"a\"</strong></p>\n\n<ol>\n<li><code>!expr</code> - calls ToBoolean on expr and flips the boolean value. In other words, truthy values such as an empty array will produce false when used with the not operator.</li>\n<li><code>a + b</code> - Both expressions are run through internal ToPrimitive. If either resulting value is a string, string concatenation is performed. Otherwise the primitives are run through ToNumber and added. ToPrimitive for objects (arrays included) will try toString and valueOf. Array.prototype.toString acts as calling join with no parameters. Thus, <code>![] + [] = false + \"\" = \"false\"</code></li>\n<li><code>!![] == true</code>, the unary plus operator converts the expression to a number, so <code>1</code>. Again, the array is converted to <code>\"\"</code> so <code>+!![]+[] == \"1\"</code>.</li>\n<li>The expression boils down to <code>(\"false\")[\"1\"] == \"a\"</code></li>\n</ol>\n\n<p>The other expression can be boiled down in a similar fashion. It uses unicode strings to mess it up and it's longer, but just as straight forward to \"parse\".</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I am interested in understanding the internals of <a href=\"http://en.wikipedia.org/wiki/JavaScript\" rel=\"nofollow\">JavaScript</a>. I've tried to read the source for <a href=\"http://en.wikipedia.org/wiki/SpiderMonkey_%28JavaScript_engine%29\" rel=\"nofollow\">SpiderMonkey</a> and <a href=\"http://en.wikipedia.org/wiki/Rhino_%28JavaScript_engine%29\" rel=\"nofollow\">Rhino</a> but it's quite complex to wrap my head around. </p>\n\n<p>The reason I ask is: why does something like </p>\n\n<ul>\n<li><code>(![]+[])[+!![]+[]]</code>  produce <code>\"a\"</code></li>\n<li><code>(\u00c5=[],[\u00b5=!\u00c5+\u00c5][\u00b5[\u00c8=++\u00c5+\u00c5+\u00c5]+({}+\u00c5)[\u00c7=!!\u00c5+\u00b5,\u00aa=\u00c7[\u00c5]+\u00c7[+!\u00c5],\u00c5]+\u00aa])()[\u00b5[\u00c5]+\u00b5[\u00c5+\u00c5]+\u00c7[\u00c8]+\u00aa](\u00c5)</code> produce <code>alert(1)</code>?</li>\n</ul>\n\n<p>Source: <a href=\"http://sla.ckers.org/forum/read.php?24,32930,page=1\" rel=\"nofollow\">http://sla.ckers.org/forum/read.php?24,32930,page=1</a>.</p>\n\n<p>There's many more examples of JavaScript oddities on that forum and I wanted to know how it works from a programming point of view with respect to web application security.</p>\n",
            "last_activity_date": 1325107621,
            "question_id": 2100184,
            "score": 11,
            "tags": [
                "javascript",
                "security"
            ],
            "title": "Why does (![]+[])[+!![]+[]]  produce &quot;a&quot;"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You need the <a href=\"http://code.google.com/apis/maps/documentation/reference.html#GMap2.zoomOut\"><code>zoomOut</code></a> method with the continuous zoom parameter set to do the zoom and the <a href=\"http://code.google.com/apis/maps/documentation/reference.html#GMap2.panTo\"><code>panTo</code></a> method to do the smooth panning to the new centerpoint.</p>\n\n<p>You can listen to the <a href=\"http://code.google.com/apis/maps/documentation/reference.html#GMap2.zoomend\"><code>zoomEnd</code></a> and <a href=\"http://code.google.com/apis/maps/documentation/reference.html#GMap2.moveend\"><code>moveEnd</code></a> events on the map object to chain together your <code>zoomOut</code>, <code>panTo</code> and <code>zoomIn</code> methods.</p>\n\n<p>EDIT:</p>\n\n<p>So in the course of implementing a sample for this problem,  I discovered that the <code>doContinuousZoom</code> param on <code>ZoomIn</code> and <code>ZoomOut</code> (or just <code>EnableContinuousZoom</code> on the map) doesn't quite work as expected.  It works ok when zooming out, if the tiles are in the cache (this is an important point, if the tiles aren't cached then it is not really possible to get the smooth animation you are after) then it does some nice scaling on the tiles to simulate a smooth zoom animation and introduces a ~500 ms delay on each zoom step so you can do it asynchronously (unlike <code>panTo</code>, which you will see in my example I use a setTimeout to call async).  </p>\n\n<p>Unfortunately the same is not true for the <code>zoomIn</code> method, which just jumps to the target zoom level without the scaling animation for each zoom level.  I haven't tried explicitly setting the version for the google maps code, so this might be something that is fixed in later versions.  Anyway, here is the <a href=\"http://www.cannonade.net/geo2.js\">sample code</a> which is mostly just javascript hoop jumping and not so much with the Google Maps API:</p>\n\n<p><a href=\"http://www.cannonade.net/geo.php?test=geo2\">http://www.cannonade.net/geo.php?test=geo2</a></p>\n\n<p>Because this approach seems a bit unreliable, I think it would make more sense to do the async processing for setZoom explicitly (Same as the panning stuff).  </p>\n\n<p>EDIT2:</p>\n\n<p>So I do the async zooming explicitly now (using <code>setTimeout</code> with a single zoom at a time).  I also have to fire events when each zoom happens so that my events chain correctly.  It seems like the zoomEnd and panEnd events are being called synchronously.</p>\n\n<p>Setting enableContinuousZoom on the map doesn't seem to work, so I guess calling zoomOut, zoomIn with the param is the only way to get that to work.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>Here's my approach.</p>\n\n<pre><code>var point = markers[id].getPosition(); // Get marker position\nmap.setZoom(9); // Back to default zoom\nmap.panTo(point); // Pan map to that position\nsetTimeout(\"map.setZoom(14)\",1000); // Zoom in after 1 sec\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>var zoomFluid, zoomCoords;   //shared variables\n\nfunction plotMarker(pos, name){\n    var marker = new google.maps.Marker({\n        map: map,\n        title:name,\n        animation: google.maps.Animation.DROP,\n        position: pos\n    });\n    google.maps.event.addListener(marker, 'click', function(){\n            zoomCoords = marker.getPosition();     //Updates shared position var\n            zoomFluid = map.getZoom();            //Updates shared zoom var;\n            map.panTo(zoomCoords);       //initial pan\n            zoomTo();                   //recursive call\n    });\n\n}\n\n//  increases zoomFluid value at 1/2  second intervals\nfunction zoomTo(){\n    //console.log(zoomFluid);\n    if(zoomFluid==10) return 0;\n    else {\n         zoomFluid ++;\n         map.setZoom(zoomFluid);\n         setTimeout(\"zoomTo()\", 500);\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm wondering how I get a smooth zoom in animation with the Google Maps API.</p>\n\n<p>I have 2 points, one in, let say China, and one in France. When I'm zoomed in on China, and click the button France. I want it to gradually zoom out smooth, one zoom level at the time. When it's zoomed out it should pan to the new location, and then zoom in on the new location one zoom level at the time.</p>\n\n<p>How can I do this?</p>\n",
            "last_activity_date": 1386400424,
            "question_id": 816100,
            "score": 11,
            "tags": [
                "javascript",
                "google-maps",
                "settimeout"
            ],
            "title": "Google Maps zoomOut-Pan-zoomIn animation"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I agree with Nathan Hayfield. The browser will handle the save dialog box for you. Setting the header Content-Disposition will send the response back as an attachment and the browser will handle it from there.\neg.</p>\n\n<pre><code>content.Headers.Add(\"Content-Disposition\", \"attachment; filename=export.csv\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>What is the best way to achieve the below in latest latest browsers (with html5 support). I mainly target Google Chrome.</p>\n\n<p>In my application, data is manipulated through javascript and needs to write output to the file system with a browser prompt (save as dialog). I am not sure about the security restrictions to write to file system, but I am not planning anonymous write (but user is prompted, and selects the location). </p>\n\n<p>I see <a href=\"http://updates.html5rocks.com/2011/08/Saving-generated-files-on-the-client-side\">saveAs</a> not natively supported yet. With my research, I see few options.</p>\n\n<ol>\n<li><a href=\"https://github.com/eligrey/FileSaver.js\">https://github.com/eligrey/FileSaver.js</a></li>\n<li>a.download (<a href=\"http://html5-demos.appspot.com/static/a.download.html\">http://html5-demos.appspot.com/static/a.download.html</a>)</li>\n<li>web filesystem</li>\n<li>object URLs</li>\n</ol>\n\n<p>FileServer falls back to 2,3,4 if no native support and I may use it. But, I don't find a way to open a Save As dialog. It just save a file in default location (downloads folder in mac).</p>\n\n<p>Which option would you use to get a good support in latest browsers? \nHow can get open the Save As dialog and let the user name the file.</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1374695566,
            "question_id": 15212240,
            "score": 10,
            "tags": [
                "javascript",
                "html5",
                "google-chrome"
            ],
            "title": "Javascript save data to file system (with user prompt)"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The Bootstrap datepicker is able to set date-range. But it is not available in the initial release/Master Branch. Check the branch as 'range' there (or just see at <a href=\"https://github.com/eternicode/bootstrap-datepicker\">https://github.com/eternicode/bootstrap-datepicker</a>), you can do it simply with startDate and endDate.</p>\n\n<p>Example:</p>\n\n<pre><code>$('#datepicker').datepicker({\n    startDate: '-2m',\n    endDate: '+2d'\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 32
                },
                {
                    "body": "<p>With selectable date ranges you might want to use something like this. My solution prevents selecting #from_date  bigger than #to_date and changes #to_date startDate every time when user selects new date in #from_date box: </p>\n\n<p><a href=\"http://bootply.com/74352\">http://bootply.com/74352</a></p>\n\n<p>JS file:</p>\n\n<pre><code>var startDate = new Date('01/01/2012');\nvar FromEndDate = new Date();\nvar ToEndDate = new Date();\n\nToEndDate.setDate(ToEndDate.getDate()+365);\n\n$('.from_date').datepicker({\n\n    weekStart: 1,\n    startDate: '01/01/2012',\n    endDate: FromEndDate, \n    autoclose: true\n})\n    .on('changeDate', function(selected){\n        startDate = new Date(selected.date.valueOf());\n        startDate.setDate(startDate.getDate(new Date(selected.date.valueOf())));\n        $('.to_date').datepicker('setStartDate', startDate);\n    }); \n$('.to_date')\n    .datepicker({\n\n        weekStart: 1,\n        startDate: startDate,\n        endDate: ToEndDate,\n        autoclose: true\n    })\n    .on('changeDate', function(selected){\n        FromEndDate = new Date(selected.date.valueOf());\n        FromEndDate.setDate(FromEndDate.getDate(new Date(selected.date.valueOf())));\n        $('.from_date').datepicker('setEndDate', FromEndDate);\n    });\n</code></pre>\n\n<p>HTML: </p>\n\n<pre><code>&lt;input class=\"from_date\" placeholder=\"Select start date\" contenteditable=\"false\" type=\"text\"&gt;\n&lt;input class=\"to_date\" placeholder=\"Select end date\" contenteditable=\"false\" type=\"text\" \n</code></pre>\n\n<p>And do not forget to include bootstrap datepicker.js and .css files aswell.  </p>\n",
                    "is_accepted": false,
                    "score": 14
                },
                {
                    "body": "<p>The example above can be simplify a bit. Additionally you can put date manually from keyboard instead of selecting it via datepicker only. When clearing the value you need to handle also <em>'on clearDate'</em> action to remove startDate/endDate boundary:</p>\n\n<p>JS file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(\".from_date\").datepicker({\n    format: 'yyyy-mm-dd',\n    autoclose: true,\n}).on('changeDate', function (selected) {\n    var startDate = new Date(selected.date.valueOf());\n    $('.to_date').datepicker('setStartDate', startDate);\n}).on('clearDate', function (selected) {\n    $('.to_date').datepicker('setStartDate', null);\n});\n\n$(\".to_date\").datepicker({\n    format: 'yyyy-mm-dd',\n    autoclose: true,\n}).on('changeDate', function (selected) {\n    var endDate = new Date(selected.date.valueOf());\n    $('.from_date').datepicker('setEndDate', endDate);\n}).on('clearDate', function (selected) {\n    $('.from_date').datepicker('setEndDate', null);\n});\n</code></pre>\n\n<p>HTML:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input class=\"from_date\" placeholder=\"Select start date\" type=\"text\" name=\"from_date\"&gt;\n&lt;input class=\"to_date\" placeholder=\"Select end date\" type=\"text\" name=\"to_date\"&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>I need to use a datepicker which provides me with an option of restricting the selectable dates. We had been using jQuery UI which used to support it using minDate, maxDate options. </p>\n\n<pre><code>$(\"#id_date\").datepicker({minDate: +1, maxDate: '+1M +10D'}); \n</code></pre>\n\n<p>Recently we started using Twitter Bootstrap for our styles. And apparently, Twitter Bootstrap is incompatible with jQuery UI styles. So I tried using one of the bootstrap compatible datepickers available at <a href=\"http://www.eyecon.ro/bootstrap-datepicker/\">http://www.eyecon.ro/bootstrap-datepicker/</a>. </p>\n\n<p>Unfortunately, the above plugin is not as configurable as jQuery UI's datepicker. Can anyone help me out with restricting the selectable date ranges in the new datepicker.</p>\n",
            "last_activity_date": 1423997699,
            "question_id": 11933173,
            "score": 10,
            "tags": [
                "javascript",
                "twitter-bootstrap",
                "datepicker",
                "bootstrap-datepicker"
            ],
            "title": "How to restrict the selectable date ranges in Bootstrap Datepicker?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>I have tried a first solutoin for your probleme by catching the resize event\nWith that you ca know the oriention and gest is the keyboard is visible</p>\n\n<p><strong>UPDATE</strong> : adding iOS mobile safari support with <a href=\"http://stackoverflow.com/a/2601085/664157\">LKM solution</a></p>\n\n<pre><code>var is_keyboard = false;\nvar is_landscape = false;\nvar initial_screen_size = window.innerHeight;\n\n/* Android */\nwindow.addEventListener(\"resize\", function() {\n    is_keyboard = (window.innerHeight &lt; initial_screen_size);\n    is_landscape = (screen.height &lt; screen.width);\n\n    updateViews();\n}, false);\n\n/* iOS */\n$(\"input\").bind(\"focus blur\",function() {\n    $(window).scrollTop(10);\n    is_keyboard = $(window).scrollTop() &gt; 0;\n    $(window).scrollTop(0);\n    updateViews();\n});\n</code></pre>\n\n<p>Now you can show and hide the logo and some line item</p>\n\n<pre><code>function updateViews() {\n    $(\"li\").hide();\n    if (is_keyboard) {\n        $(\"#logo\").hide();\n        if (is_landscape) {\n            $(\"li\").slice(0, 2).show();\n        }\n        else {\n            $(\"li\").slice(0, 4).show();\n        }\n    }\n    else {\n        $(\"#logo\").show();\n        $(\"li\").show();\n    }\n}\n</code></pre>\n\n<p>For the JS basede on this HTML </p>\n\n<pre><code>&lt;div id=\"logo\"&gt;Logo&lt;/div&gt;\n&lt;input type=\"text\"&gt;&lt;input type=\"submit\" value=\"search\"&gt;\n&lt;ul&gt;\n    &lt;li&gt;Item&lt;/li&gt;\n    &lt;li&gt;Item&lt;/li&gt;\n    &lt;li&gt;Item&lt;/li&gt;\n    &lt;li&gt;Item&lt;/li&gt;\n    &lt;li&gt;Item&lt;/li&gt;\n    &lt;li&gt;Item&lt;/li&gt;\n    &lt;li&gt;Item&lt;/li&gt;\n    &lt;li&gt;Item&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Check out <a href=\"http://frommelt.fr/virtual-keyboard/\">my exemple page</a></p>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"http://stackoverflow.com/questions/2593139/ipad-web-app-detect-virtual-keyboard-using-javascript-in-safari\">iPad Web App: Detect Virtual Keyboard Using JavaScript in Safari?</a>  </p>\n</blockquote>\n\n\n\n<p>I'm building a mobile version for a website, and I'm interested if I can create using jquery/js/html5 or any other technology the same split screen effect that can be made on mobile apps when virtual keyboard is visible.</p>\n\n<p>For example if a user enters my webpage and clicks on an input text field, the virtual keyboard is showed and the browser automatically zooms to the area where the input text field is.</p>\n\n<p>What I want is to be able to change my page content the moment the virtual keyboard is visible based on the new resolution( screen height - keyboard height), by moving the input text field on top of the screen, followed by some tips depending on what the user enters in the text field.</p>\n\n<p>Here are some sketches to see what I am talking about:</p>\n\n<p>This is the page view without keyboard, results based on the search:</p>\n\n<p><img src=\"http://i.stack.imgur.com/fV8dJ.jpg\" alt=\"page without keyboard\"></p>\n\n<p>page with portrait keyboard, the logo disappears, the text input moves to top, and a max 4 items are showed</p>\n\n<p><img src=\"http://i.stack.imgur.com/Ra6wB.jpg\" alt=\"page with portrait keyboard\"></p>\n\n<p>page with landscape keyboard, the logo disappears, thext input moves to top and is enlarged, only 2 items are showed</p>\n\n<p><img src=\"http://i.stack.imgur.com/weFRl.jpg\" alt=\"enter image description here\"></p>\n\n<p>is the keyboard is hidden, the page should go to faze 1.</p>\n\n<p>Hope this helps.</p>\n",
            "last_activity_date": 1343318459,
            "question_id": 11600040,
            "score": 10,
            "tags": [
                "javascript",
                "jquery",
                "html5",
                "jquery-mobile",
                "javascript-events"
            ],
            "title": "jquery/js/html5 change page content when keyboard is visible on mobile devices"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>SVG native attributes (not including <code>xlink:href</code>) do not share the SVG namespace; you can either use just <code>setAttribute</code> instead of <code>setAttributeNS</code>, or use</p>\n\n<pre><code>svgimg.setAttributeNS(null,'x','0');\n</code></pre>\n\n<p>for example.</p>\n\n<p>Here it is, working: <a href=\"http://jsfiddle.net/UVFBj/8/\">http://jsfiddle.net/UVFBj/8/</a></p>\n\n<p>Note that I changed your fiddle to properly use XHTML, so that SVG works nicely within it in all major browsers.</p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>For futher reference.</p>\n\n<p>I've been using the function bellow to create SVG elements and it was failing on create images because of the xlink:href. </p>\n\n<p>The code bellow is corrected to do that (create any svg element on the fly)</p>\n\n<pre><code>function makeSVG(parent, tag, attrs) {\n            var el= document.createElementNS('http://www.w3.org/2000/svg', tag);\n            for (var k in attrs){\n                if(k==\"xlink:href\"){\n                    el.setAttributeNS('http://www.w3.org/1999/xlink', 'href', attrs[k]);\n                }else{\n                    el.setAttribute(k, attrs[k]);\n                }\n            }\n        }\n</code></pre>\n\n<p>Sample usage:</p>\n\n<pre><code>makeSVG('#map-tiles', 'image', { class:'map-tile', 'xlink:href':'map/xxx.jpg', width:'512px', height: '512px' x:'0', y:'0'});\n</code></pre>\n\n<p>The parent is used to organize 'layers' on svg groups  tag.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Like my title says, I'm trying to programmatically creating an SVG image element in a HTML page using javascript. For some reason my basic javascript code isn't working, however if I use the raphaeljs library it works fine. So there's obviously a problem with my js - I just can't seem to figure out what it is.</p>\n\n<p>(note: the target browser is FF4+)</p>\n\n<p>Here is the basic page with an html version of what I'm trying to achieve up the top:\n    </p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;script type=\"text/javascript\" src=\"http://raphaeljs.com/raphael.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n       &lt;svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n        id=\"test1\"\n        height=\"200px\"\n        width=\"200px\"&gt;\n            &lt;image\n            id=\"testimg1\"\n            xlink:href=\"http://i.imgur.com/LQIsf.jpg\"\n            width=\"100\"\n            height=\"100\"\n            x=\"0\"\n            y=\"0\"/&gt;\n        &lt;/svg&gt;\n\n        &lt;hr /&gt;\n\n        &lt;p id=\"testP1\"&gt;\n\n\n        &lt;/p&gt;\n        &lt;hr /&gt;      \n        &lt;p id=\"testP2\"&gt;\n\n\n        &lt;/p&gt;        \n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And here is my javascript:</p>\n\n<pre><code>var paper = Raphael(document.getElementById(\"testP1\"), 200, 200);\npaper.image(\"http://i.imgur.com/LQIsf.jpg\", 0,0, 100, 100);\n\n\n\nvar svg = document.createElementNS('http://www.w3.org/2000/svg','svg');\nsvg.setAttributeNS('http://www.w3.org/2000/svg','xlink','http://www.w3.org/1999/xlink');\nsvg.setAttributeNS('http://www.w3.org/2000/svg','height','200');\nsvg.setAttributeNS('http://www.w3.org/2000/svg','width','200');\nsvg.setAttributeNS('http://www.w3.org/2000/svg','id','test2');\n\nvar svgimg = document.createElementNS('http://www.w3.org/2000/svg','image');\nsvgimg.setAttributeNS('http://www.w3.org/2000/svg','height','100');\nsvgimg.setAttributeNS('http://www.w3.org/2000/svg','width','100');\nsvgimg.setAttributeNS('http://www.w3.org/2000/svg','id','testimg2');\nsvgimg.setAttributeNS('http://www.w3.org/1999/xlink','href','http://i.imgur.com/LQIsf.jpg');\nsvgimg.setAttributeNS('http://www.w3.org/2000/svg','x','0');\nsvgimg.setAttributeNS('http://www.w3.org/2000/svg','y','0');\n\nsvg.appendChild(svgimg);\n\ndocument.querySelector('#testP2').appendChild(svg);    \n</code></pre>\n\n<p>Live example: <a href=\"http://jsfiddle.net/Yansky/UVFBj/5/\">http://jsfiddle.net/Yansky/UVFBj/5/</a></p>\n",
            "last_activity_date": 1397765028,
            "question_id": 6701705,
            "score": 10,
            "tags": [
                "javascript",
                "svg",
                "raphael"
            ],
            "title": "Programmatically creating an SVG image element with javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<pre><code>var len = t.length &gt;&gt;&gt; 0;    \n</code></pre>\n\n<p>This was covered pretty well in <a href=\"http://stackoverflow.com/questions/3081987/what-good-does-zero-fill-bit-shifting-by-0-do-a-0\">this question</a> Basically it makes sure the number is a non-negative 32 bit int.</p>\n\n<p>As for the Object constructor:</p>\n\n<pre><code>var t = Object(this);\n</code></pre>\n\n<p>If <em>this</em> is null or undefined, it'll return an empty object.  From the <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Object\" rel=\"nofollow\">MDC Docs on Object</a></p>\n\n<blockquote>\n  <p>The Object constructor creates an\n  object wrapper for the given value. If\n  the value is null or undefined, it\n  will create and return an empty\n  object, otherwise, it will return an\n  object of type that corresponds to the\n  given value.</p>\n</blockquote>\n\n<p>They're both just quick ways to do error correction.</p>\n\n<p>EDIT:  I was thinking way too hard about the thisp part.  I was assuming that using the arguments array was a way to ensure arguments were defaulting to undefined, but they do that on their own anyway. Mike Hofer got it right in the comments.  It's Mozilla's coding style to indicate optional parameters.  Function.call defaults to global if null or undefined is passed in as the first argument. From the <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Function/call\" rel=\"nofollow\">MDC Docs on Function.call</a> </p>\n\n<blockquote>\n  <p>thisArg:\n  Determines the value of <strong>this</strong> inside\n  fun. If thisArg is null or undefined,\n  <strong>this</strong> will be the global object.\n  Otherwise, <strong>this</strong> will be equal to\n  Object(thisArg) (which is thisArg if\n  thisArg is already an object, or a\n  String, Boolean, or Number if thisArg\n  is a primitive value of the\n  corresponding type). Therefore, it is\n  always true that typeof <strong>this</strong> ==\n  \"object\" when the function executes.</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p><code>var t = Object(this);</code></p>\n\n<p>Is based on the ES5 specification. It specifically state that <code>this</code> should be passed into the <code>Object</code> constructor.</p>\n\n<p>If you look closely at the exact algorithm specified in the ES5 spec then the method provided by Mozilla mirrors it almost exactly (it's limited by ES3 features). This is the reason this code seems to have a few quirks.</p>\n\n<p>Here is the ES5 specification:</p>\n\n<blockquote>\n  <p>When the map method is called with one\n  or two arguments, the following steps\n  are taken:</p>\n</blockquote>\n\n<ol>\n<li>Let O be the result of calling ToObject passing the this value as the argument. </li>\n<li>Let lenValue  be the result of calling the [[Get]] internal method of O with the argument \"length\". </li>\n<li>Let len be ToUint32(lenValue). </li>\n<li>If IsCallable(callbackfn) is false, throw a TypeError exception. </li>\n<li>If thisArg was supplied, let T be thisArg; else let T be undefined. </li>\n<li>Let A be a new array created as if by the expression new Array(len) where Array is the standard builtin constructor with that name and len is the value of len. </li>\n<li>Let k be 0. </li>\n<li><p>Repeat, while k &lt; len</p>\n\n<ol>\n<li>Let Pk be ToString(k). </li>\n<li>Let kPresent be the result of calling the [[HasProperty]] internal method of O with argument Pk. </li>\n<li>If kPresent is true, then \n<ul>\n<li>Let kValue be the result of calling the [[Get]] internal method of O with argument Pk. </li>\n<li>Let mappedValue be the result of calling the [[Call]] internal method of callbackfn with T as \nthe this value and argument list containing kValue, k, and O. </li>\n<li>Call the [[DefineOwnProperty]] internal method of A with arguments Pk, Property \nDescriptor {[[Value]]: mappedValue, [[Writable]]: true, [[Enumerable]]: true, \n[[Configurable]]: true}, and false. </li>\n<li>Increase k by 1. </li>\n</ul></li>\n</ol></li>\n<li>Return A.</li>\n</ol>\n\n<blockquote>\n  <p>Let O be the result of calling ToObject passing the this value as the argument.</p>\n</blockquote>\n\n<p>Notice that step one specifically says you should call <code>Object(this)</code></p>\n\n<blockquote>\n  <p>Let lenValue be the result of calling\n  the [[Get]] internal method of O with\n  the argument \"length\". </p>\n  \n  <p>Let len be\n  ToUint32(lenValue).</p>\n</blockquote>\n\n<p>Step 2 and 3 specifically say get <code>t.length</code> then call <code>ToUint32</code> which is implemented as <code>&gt;&gt;&gt; 0</code> here.</p>\n\n<p>The actual signature mentioned in the specification is</p>\n\n<blockquote>\n  <p>Array.prototype.map ( callbackfn [ , thisArg ] ) </p>\n</blockquote>\n\n<p>In the above signature <code>callbackfn</code> is a required argument and <code>[ ]</code> is an array of optional arguments which only contains one <code>thisArg</code>.</p>\n\n<p>Mozilla have mirrored this in their definition of <code>function(fun /*, thisp */) {</code>  to specify that <code>thisp</code> is an optional argument and it's clear this is the case from the function signature rather then from looking at the code.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>In MDC there are plenty of code snippets that meant to implement support for new ECMAScript standards in browsers that don't support them, such as the <code>Array.prototype.map</code> function:</p>\n\n<pre><code>if (!Array.prototype.map)\n{\n  Array.prototype.map = function(fun /*, thisp */)\n  {\n    \"use strict\";\n\n    if (this === void 0 || this === null)\n      throw new TypeError();\n\n    var t = Object(this);\n    var len = t.length &gt;&gt;&gt; 0;\n    if (typeof fun !== \"function\")\n      throw new TypeError();\n\n    var res = new Array(len);\n    var thisp = arguments[1];\n    for (var i = 0; i &lt; len; i++)\n    {\n      if (i in t)\n        res[i] = fun.call(thisp, t[i], i, t);\n    }\n\n    return res;\n  };\n}\n</code></pre>\n\n<p>What's the benefit (if there's any) of using this function rather than</p>\n\n<pre><code>function(fun, thisp)\n{\n  // same code, just without the \"var thisp = arguments[1];\" line:\n  \"use strict\";\n\n  if (this === void 0 || this === null)\n    throw new TypeError();\n\n  var t = Object(this);\n  var len = t.length &gt;&gt;&gt; 0;\n  if (typeof fun !== \"function\")\n    throw new TypeError();\n\n  var res = new Array(len);\n  for (var i = 0; i &lt; len; i++)\n  {\n    if (i in t)\n      res[i] = fun.call(thisp, t[i], i, t);\n  }\n\n  return res;\n}\n</code></pre>\n\n<p>, <code>var t = Object(this);</code> rather than <code>var t = this;</code> and <code>var len = t.length &gt;&gt;&gt; 0;</code> rather than <code>var len = t.length;</code>?</p>\n",
            "last_activity_date": 1305143284,
            "question_id": 5969124,
            "score": 10,
            "tags": [
                "javascript"
            ],
            "title": "Why are the MDC prototype functions written this way?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Your code for changing the options works fine. It seems IE8 isn't handling a \"fast\" second-click with the <code>click</code> event but rather expects a <code>double click</code> to be handled.</p>\n\n<p>Using my test code below, you'll notice that in IE8 writes out the following when <code>Move Down/Up</code> is pressed \"fast\":</p>\n\n<pre><code>Move Down Click\nMove Down Double-Click\nMove Down Click\nMove Down Double-Click\n</code></pre>\n\n<p>But with FF/Chrome the following is printed:</p>\n\n<pre><code>Move Down Click\nMove Down Click\nMove Down Double-Click\nMove Down Click\nMove Down Click\nMove Down Double-Click\n</code></pre>\n\n<p>Here's the code I'm using to test. I haven't done any tests to see if it's jQuery's event binders that are causing the issues. </p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;    \n    &lt;title&gt;Test&lt;/title&gt;\n\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js\"&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;select id=\"list\" multiple=\"multiple\"&gt;\n    &lt;option value=\"option1\"&gt;Option 1&lt;/option&gt;\n    &lt;option value=\"option2\"&gt;Option 2&lt;/option&gt;\n    &lt;option value=\"option3\"&gt;Option 3&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;button id=\"mup\"&gt;Move Up&lt;/button&gt;\n&lt;button id=\"mdown\"&gt;Move Down&lt;/button&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\nvar $DEBUG = null;\n\n$(document).ready(function ()\n{\n    $DEBUG = $(\"#debug\");\n\n    $DEBUG.append(\"Registering Events&lt;br /&gt;\");\n\n    $(\"#mup\").click(moveUpItem);\n    $(\"#mdown\").click(moveDownItem);\n    $(\"#mup\").bind(\"dblclick\", function ()\n    {\n        $DEBUG.append(\"Move Up Double-Click&lt;br /&gt;\");\n    });\n    $(\"#mdown\").bind(\"dblclick\", function ()\n    {\n        $DEBUG.append(\"Move Down Double-Click&lt;br /&gt;\");\n    });\n\n});\n\nfunction moveUpItem()\n{\n    $DEBUG.append(\"Move Up Click&lt;br /&gt;\");\n}\n\nfunction moveDownItem()\n{\n    $DEBUG.append(\"Move Down Click&lt;br /&gt;\");\n} \n\n &lt;/script&gt;\n\n &lt;div id=\"debug\" style=\"border: 1px solid red\"&gt;\n &lt;/div&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>EDIT:</strong> I can confirm <em>it is</em> IE8 that is the problem. Swap this IE8-specific code in the $(document).ready() handler:</p>\n\n<pre><code>// $(\"#mup\").click(moveUpItem);\n$(\"#mup\")[0].attachEvent(\"onclick\", moveUpItem);\n// $(\"#mdown\").click(moveDownItem);\n$(\"#mdown\")[0].attachEvent(\"onclick\", moveUpItem);\n// $(\"#mup\").bind(\"dblclick\", function ()\n$(\"#mup\")[0].attachEvent(\"ondblclick\", function ()\n{\n    $DEBUG.append(\"Move Up Double-Click&lt;br /&gt;\");\n});\n// $(\"#mdown\").bind(\"dblclick\", function ()\n$(\"#mdown\")[0].attachEvent(\"ondblclick\", function ()\n{\n    $DEBUG.append(\"Move Down Double-Click&lt;br /&gt;\");\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>I think this will give some ideas of how to do it, you can dynamically place any option before one known position just by knowing the values of both, the one to move and the one of the position:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/660572/how-would-you-dynamically-order-an-option-select-list-using-jquery\">How would you dynamically order an &lt;option select&gt; list using JQuery?</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Example:\nto move 3rd option before 1st option, we can use below jquery:</p>\n\n<pre><code>$('select[name=\"NameOfDropDown\"] option:eq(2)').insertBefore($('select[name=\"NameOfDropDown\"] option:eq(0)'));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I know this one is a bit old, but I recently made this simple jQuery plugin to be able to reorder elements in a multiple select element.</p>\n\n<p>Have a look and see if it helps for you, I tested in IE8,IE9,Chrome,FireFox,Opera.</p>\n\n<p><a href=\"http://fedegiust.github.io/selectReorder/\" rel=\"nofollow\">http://fedegiust.github.io/selectReorder/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>so I got this code working for Firefox and Chrome...what it does is it allows you to reorder the options within an HTML select form...but then when I tested the code via IE8, it's kind of patchy...it only works for the first few clicks and after that you have to click many times on the button for it to work..</p>\n\n<p>Does anybody know any other code that allows you to reorder select field items that works perfectly in IE8?</p>\n\n<pre><code>&lt;select id=\"list\" multiple=\"multiple\"&gt;\n     &lt;option value=\"wtf\"&gt;bahaha&lt;/option&gt;\n        &lt;option value=\"meh\"&gt;mwaahaha&lt;/option&gt;\n\n&lt;/select&gt;\n&lt;button id=\"mup\"&gt;Move Up&lt;/button&gt;\n&lt;button id=\"mdown\"&gt;Move Down&lt;/button&gt;\n&lt;a href=\"#\"&gt;Add Item&lt;/a&gt;\n&lt;a href=\"#\"&gt;Remove item&lt;/a&gt;\n\n&lt;script&gt;\n\n$(document).ready(function(){\n\n $('#mup').click(function(){\n\n  moveUpItem();\n\n });\n\n $('#mdown').click(function(){\n\n  moveDownItem();\n\n });\n\n\n});\n\n function moveUpItem(){\n  $('#list option:selected').each(function(){\n   $(this).insertBefore($(this).prev());\n  });\n }\n\n function moveDownItem(){\n\n  $('#list option:selected').each(function(){\n   $(this).insertAfter($(this).next());\n  });\n\n } \n</code></pre>\n",
            "last_activity_date": 1391710996,
            "question_id": 3312141,
            "score": 10,
            "tags": [
                "javascript",
                "jquery",
                "forms",
                "select",
                "order"
            ],
            "title": "moving select options up and down via jquery"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Sounds like you need </p>\n\n<pre><code>$('#go1').live('click', function() {});\n</code></pre>\n\n<p>$.fn.live, as event handlers are only registered on initial dom creation, and you're repopulating the DOM and those aren't attached. </p>\n\n<p>More info @ <a href=\"http://docs.jquery.com/Events/live\">http://docs.jquery.com/Events/live</a></p>\n",
                    "is_accepted": true,
                    "score": 26
                },
                {
                    "body": "<p>If i'm reading that right you are adding the click handlers at the beginning. These only affect current buttons. You may just need to change that to a Live event.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code> $(\"#peopleResult_list\").on('click','a', function(event){\n    //do you code here  \n });\n</code></pre>\n\n<p>on event work for current dom in your page and any dom loaded by ajax in the future </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am using jQuery to load a page by AJAX using $.ajax (suppose test.html).<br />Its a simple HTML document with a few buttons and associated animations upon clicking them (also using jQuery).<br />The .click() properties associated are working fine when I load the page directly but the buttons fail to respond when I click them in the AJAX loaded version.<br/>Since I am too tires to actually explain all the glum that I am doing, I am simply writing all the code below, apologies for this. Here are the required codes in the files.</p>\n\n<pre><code>&lt;!-- p11.php --&gt;\n&lt;!DOCTYPE html\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;jQuery&lt;/title&gt;\n    &lt;script type=\"text/javascript\" src=\"c/js/jquery.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\" src=\"c/js/jtry11.js\"&gt;&lt;/script&gt;\n    &lt;link rel='stylesheet' type='text/css' href='c/css/css11.css'&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;button id=\"go1\"&gt;Load Something Using AJAX&lt;/button&gt;\n  &lt;div id=\"msg\"&gt;&lt;/div&gt;\n  &lt;div id=\"showButton\"&gt;\n      &lt;button id=\"showLoadedPage\"&gt;Show the Page&lt;/button&gt;\n  &lt;/div&gt;\n  &lt;div id=\"results\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and the next</p>\n\n<pre><code>$(document).ready(function()\n{\n    $('#results').hide();\n    $('#msg').hide();\n    $('#showButton').hide();\n    $('#loading').hide();\n    $('#loaded').hide();\n\n    $('#load').live('click', function()\n    {\n        $('#load').hide();\n        $('#loading').show();\n        $('#msg').show('fast');\n        $.ajax({\n            url: 'test.html',\n            cache: false,\n            success: function(html) {\n                    $('#results').append(html);\n            }\n        });\n        $('#msg').ajaxSuccess(function(evt, request, settings){\n           $(this).append('Click the Button Below to View the Page');\n           $('#showButton').show('slow');\n           $('#hideLoadedPage').hide();\n           $('#loading').hide();\n           $('#loaded').show();\n        });\n    });\n\n    $('#showLoadedPage').live('click', function() {\n        $('#loaded').hide('slow');\n        $('#msg').hide('slow');\n        $('#results').show('fast');\n        $('.shower').hide();\n        $(this).hide();\n        $('#hideLoadedPage').show();\n    });\n\n    $('#hideLoadedPage').live('click', function() {\n        $('#results').hide('fast');\n        $('.shower').hide();\n        $(this).hide();\n        $('#showLoadedPage').show();\n    });\n\n    $('.hider').live('click', function() {\n        $('.shower').show();\n        $(this).hide();\n        $('p.one').hide('slow');\n        $('p.two').hide('medium');\n        $('p.three').hide('fast');\n    });\n\n    $('.shower').live('click', function() {\n        $('.hider').show();\n        $(this).hide();\n        $('p.one').show('slow');\n        $('p.two').show('medium');\n        $('p.three').show('fast');\n    });\n\n    $('p.*').live('click', function() {\n        $(this).hide('slow');\n        if( $('p').is(':hidden') ) {\n            $('.shower').show();\n        }\n        if( $('p.*').is(':hidden') ) {\n            $('.hider').show();\n        }\n    });\n});\n</code></pre>\n\n<p>and the last</p>\n\n<pre><code>&lt;!-- test.html --&gt;\nPage Loaded by Ajax.\nNot the original Page\n\n&lt;center&gt;\n    &lt;button class=\"hider\"&gt;\n        &lt;img src=\"c/images/zoom_out.png\" alt=\"zoom_out\" /&gt;\n        Hide 'em\n    &lt;/button&gt;\n    &lt;button class=\"shower\"&gt;\n        &lt;img src=\"c/images/zoom_in.png\" alt=\"zoom_out\" /&gt;\n        Show it\n    &lt;/button&gt;\n    &lt;p class=\"one\"&gt;Hiya&lt;/p&gt;\n    &lt;p class=\"two\"&gt;Such interesting text, eh?&lt;/p&gt;\n    &lt;p class=\"three\"&gt;The third Paragraph&lt;/p&gt;\n&lt;/center&gt;\n</code></pre>\n\n<p>I hope I am not making some big time mistake?</p>\n",
            "last_activity_date": 1398694860,
            "question_id": 1419433,
            "score": 10,
            "tags": [
                "php",
                "javascript",
                "jquery",
                "ajax",
                "click"
            ],
            "title": "jQuery not working in AJAX Loaded page"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><strong>Update: check <a href=\"https://github.com/anpur/client-line-navigator/wiki\" rel=\"nofollow\">LineNavigator</a> from my second answer instead, that reader is way better.</strong></p>\n\n<p>I've made my own reader, which fulfills my needs.</p>\n\n<p><strong>Performance</strong></p>\n\n<p>As the issue is related only to huge files performance was the most important part.\n<img src=\"http://i.stack.imgur.com/f9Bgy.png\" alt=\"enter image description here\"></p>\n\n<p>As you can see, performance is almost the same as direct read (as described in question above).\n<strike>Currently I'm trying to make it better, as bigger time consumer is async call to avoid call stack limit hit, which is not unnecessary for execution problem.</strike> Performance issue solved.</p>\n\n<p><strong>Quality</strong></p>\n\n<p>Following cases were tested:</p>\n\n<ul>\n<li>Empty file</li>\n<li>Single line file</li>\n<li>File with new line char on the end and without</li>\n<li>Check parsed lines</li>\n<li>Multiple runs on same page</li>\n<li>No lines are lost and no order problems</li>\n</ul>\n\n<p><strong>Code &amp; Usage</strong></p>\n\n<p>Html:</p>\n\n<pre><code>&lt;input type=\"file\" id=\"file-test\" name=\"files[]\" /&gt;\n&lt;div id=\"output-test\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>$(\"#file-test\").on('change', function(evt) {\n    var startProcessing = new Date();\n    var index = 0;\n    var file = evt.target.files[0];\n    var reader = new FileLineStreamer();\n    $(\"#output-test\").html(\"\");\n\n    reader.open(file, function (lines, err) {\n        if (err != null) {\n            $(\"#output-test\").append('&lt;span style=\"color:red;\"&gt;' + err + \"&lt;/span&gt;&lt;br /&gt;\");\n            return;\n        }\n        if (lines == null) {\n            var milisecondsSpend = new Date() - startProcessing;\n            $(\"#output-test\").append(\"&lt;strong&gt;\" + index + \" lines are processed&lt;/strong&gt; Miliseconds spend: \" + milisecondsSpend + \"&lt;br /&gt;\");           \n            return;\n        }\n\n        // output every line\n        lines.forEach(function (line) {\n            index++;\n            //$(\"#output-test\").append(index + \": \" + line + \"&lt;br /&gt;\");\n        });\n\n        reader.getNextLine();\n    });\n\n    reader.getNextLine();   \n});\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>function FileLineStreamer() {   \n    var loopholeReader = new FileReader();\n    var chunkReader = new FileReader(); \n    var delimiter = \"\\n\".charCodeAt(0); \n\n    var expectedChunkSize = 15000000; // Slice size to read\n    var loopholeSize = 200;         // Slice size to search for line end\n\n    var file = null;\n    var fileSize;   \n    var loopholeStart;\n    var loopholeEnd;\n    var chunkStart;\n    var chunkEnd;\n    var lines;\n    var thisForClosure = this;\n    var handler;\n\n    // Reading of loophole ended\n    loopholeReader.onloadend = function(evt) {\n        // Read error\n        if (evt.target.readyState != FileReader.DONE) {\n            handler(null, new Error(\"Not able to read loophole (start: )\"));\n            return;\n        }\n        var view = new DataView(evt.target.result);\n\n        var realLoopholeSize = loopholeEnd - loopholeStart;     \n\n        for(var i = realLoopholeSize - 1; i &gt;= 0; i--) {                    \n            if (view.getInt8(i) == delimiter) {\n                chunkEnd = loopholeStart + i + 1;\n                var blob = file.slice(chunkStart, chunkEnd);\n                chunkReader.readAsText(blob);\n                return;\n            }\n        }\n\n        // No delimiter found, looking in the next loophole\n        loopholeStart = loopholeEnd;\n        loopholeEnd = Math.min(loopholeStart + loopholeSize, fileSize);\n        thisForClosure.getNextBatch();\n    };\n\n    // Reading of chunk ended\n    chunkReader.onloadend = function(evt) {\n        // Read error\n        if (evt.target.readyState != FileReader.DONE) {\n            handler(null, new Error(\"Not able to read loophole\"));\n            return;\n        }\n\n        lines = evt.target.result.split(/\\r?\\n/);       \n        // Remove last new line in the end of chunk\n        if (lines.length &gt; 0 &amp;&amp; lines[lines.length - 1] == \"\") {\n            lines.pop();\n        }\n\n        chunkStart = chunkEnd;\n        chunkEnd = Math.min(chunkStart + expectedChunkSize, fileSize);\n        loopholeStart = Math.min(chunkEnd, fileSize);\n        loopholeEnd = Math.min(loopholeStart + loopholeSize, fileSize);\n\n        thisForClosure.getNextBatch();\n    };\n\n    this.getProgress = function () {\n        if (file == null)\n            return 0;\n        if (chunkStart == fileSize)\n            return 100;         \n        return Math.round(100 * (chunkStart / fileSize));\n    }\n\n    // Public: open file for reading\n    this.open = function (fileToOpen, linesProcessed) {\n        file = fileToOpen;\n        fileSize = file.size;\n        loopholeStart = Math.min(expectedChunkSize, fileSize);\n        loopholeEnd = Math.min(loopholeStart + loopholeSize, fileSize);\n        chunkStart = 0;\n        chunkEnd = 0;\n        lines = null;\n        handler = linesProcessed;\n    };\n\n    // Public: start getting new line async\n    this.getNextBatch = function() {\n        // File wasn't open\n        if (file == null) {     \n            handler(null, new Error(\"You must open a file first\"));\n            return;\n        }\n        // Some lines available\n        if (lines != null) {\n            var linesForClosure = lines;\n            setTimeout(function() { handler(linesForClosure, null) }, 0);\n            lines = null;\n            return;\n        }\n        // End of File\n        if (chunkStart == fileSize) {\n            handler(null, null);\n            return;\n        }\n        // File part bigger than expectedChunkSize is left\n        if (loopholeStart &lt; fileSize) {\n            var blob = file.slice(loopholeStart, loopholeEnd);\n            loopholeReader.readAsArrayBuffer(blob);\n        }\n        // All file can be read at once\n        else {\n            chunkEnd = fileSize;\n            var blob = file.slice(chunkStart, fileSize);\n            chunkReader.readAsText(blob);\n        }\n    };\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Eventually I've created new line-by-line reader, which is totally different from previous one. </p>\n\n<p>Features are:</p>\n\n<ul>\n<li>Index-based access to File (sequential and random)</li>\n<li>Optimized for repeat random reading (milestones with byte offset saved for lines already navigated in past), so after you've read all file once, accessing line 43422145 will be almost as fast as accessing line 12.</li>\n<li>Searching in file: <strong>find next</strong> and <strong>find all</strong>.</li>\n<li>Exact index, offset and length of matches, so you can easily highlight them</li>\n</ul>\n\n<p><strong>Check this <a href=\"http://jsfiddle.net/3hmee6vb/1/\" rel=\"nofollow\">jsFiddle</a> for examples.</strong></p>\n\n<p>Usage:</p>\n\n<pre><code>// Initialization\nvar file; // HTML5 File object\nvar navigator = new FileNavigator(file);\n\n// Read some amount of lines (best performance for sequential file reading)\nnavigator.readSomeLines(startingFromIndex, function (err, index, lines, eof, progress) { ... });\n\n// Read exact amount of lines\nnavigator.readLines(startingFromIndex, count, function (err, index, lines, eof, progress) { ... });\n\n// Find first from index\nnavigator.find(pattern, startingFromIndex, function (err, index, match) { ... });\n\n// Find all matching lines\nnavigator.findAll(new RegExp(pattern), indexToStartWith, limitOfMatches, function (err, index, limitHit, results) { ... });\n</code></pre>\n\n<p>Performance is same to previous solution. You can measure it invoking 'Read' in jsFiddle.</p>\n\n<p>GitHub: <a href=\"https://github.com/anpur/client-line-navigator/wiki\" rel=\"nofollow\">https://github.com/anpur/client-line-navigator/wiki</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>Could you please help me with following issue.</p>\n\n<p><strong>Goal</strong></p>\n\n<p>Read file on client side (in browser via JS and HTML5 classes) line by line, without loading whole file to memory.</p>\n\n<p><strong>Scenario</strong></p>\n\n<p>I'm working on web page which should parse files on client side. Currently, I'm reading file as it described in this <a href=\"http://www.html5rocks.com/en/tutorials/file/dndfiles/\">article</a>.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;input type=\"file\" id=\"files\" name=\"files[]\" /&gt;\n</code></pre>\n\n<p>JavaScript:</p>\n\n<pre><code>$(\"#files\").on('change', function(evt){\n    // creating FileReader\n    var reader = new FileReader();\n\n    // assigning handler\n    reader.onloadend = function(evt) {      \n        lines = evt.target.result.split(/\\r?\\n/);\n\n        lines.forEach(function (line) {\n            parseLine(...);\n        }); \n    };\n\n    // getting File instance\n    var file = evt.target.files[0];\n\n    // start reading\n    reader.readAsText(file);\n}\n</code></pre>\n\n<p>The problem is that FileReader reads whole file at once, which causes crashed tab for big files (size >= 300 MB). Using <code>reader.onprogress</code> doesn't solve a problem, as it just increments a result till it will hit the limit.</p>\n\n<p><strong>Inventing a wheel</strong></p>\n\n<p>I've done some research in internet and have found no simple way to do this (there are bunch of articles describing this exact functionality but on server side for node.js).</p>\n\n<p>As only way to solve it I see only following:</p>\n\n<ol>\n<li>Split file by chunks (via <code>File.split(startByte, endByte)</code> method)</li>\n<li>Find last new line character in that chunk ('/n')</li>\n<li>Read that chunk except part after last new line character and convert it to the string and split by lines</li>\n<li>Read next chunk starting from last new line character found on step 2</li>\n</ol>\n\n<p>But I'll better use something already existing to avoid entropy growth. </p>\n",
            "last_activity_date": 1424866771,
            "question_id": 24647563,
            "score": 9,
            "tags": [
                "javascript",
                "html",
                "html5",
                "client-side",
                "filereader"
            ],
            "title": "Reading line-by-line file in JavaScript on client side"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Instead <br/>\n  - <strong>set the width and height</strong> using default either <strong>paint or Photoshop</strong> <br/>\n  - <strong>smush the image</strong> using <a href=\"http://www.smushit.com/ysmush.it/\" rel=\"nofollow\">http://www.smushit.com/ysmush.it/</a> <br/></p>\n\n<p>Setting image width &amp; height via  html tags &amp; CSS can cause the image to render slowly. <br/>\nSmushing is a progressive tool by Yahoo! that removes excess data from the image without changing the quality. </p>\n\n<p>These techniques improve the image rendering time. You can also follow your technique to further improve the image loading time.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>//\n//  You have dozen of hd photos, and don't want to embed them right from the get go\n//  in order to avoid 'interlaced' load, boost application load, etc.\n//  Idea is to place lo-res photos, temporarily, in place where hd ones should go,\n//  while downloading full quality images in the background.\n//\n//  People usualy do this kind of caching by attaching 'onload' event handler to off-screen\n//  Image object ( created by new Image(), document.createElement('img'), or any\n//  other fashion ), which gets executed natively by a browser when the event\n//  ( 'onload' in this case ) occurs, and setting the '.src' property of an image to\n//  the phisical path ( relative/absolute ) of an img to start the download process.\n//  The script pressented here use that approach for multiple images,\n//  and notifies of task done by running provided function.\n//\n//  So, solution is to provide locations of images you want to,\n//  and get notified when they get fully downloaded, and cached by browser.\n//  To do that you pass a function as 1st parameter to the fn below,\n//  passing as many images as needed after it.\n//\n//  Code will scan through provided images keeping the ones that are actualy\n//  image files( .jpeg, .png, .tiff, etc.), create 'off-screen' Image objects\n//  and attach onload/onerror/onabort handler fn to each one( which will be called\n//  when coresponding circumstance occurs ), and initiate loading by setting the\n//  .src property of an Image object.\n//\n//  After the 'load-handler' has been called the number of times that coresponds to\n//  number of images ( meaning the dload process is done ), script notifies you\n//  of job done by running the function you provided as first argument to it,\n//  additinaly passing images( that are cached and ready to go ) as\n//  parameters to callback fn you supplied.\n//\n//  Inside the callback you do whatever you do with cached photos.\n//\nfunction hd_pics_dload( fn /* ,...hd-s */ ) {\n\n    var\n        n        = 0,   // this one is used as counter/flag to signal the download end\n        P        = [],  // array to hold Image objects\n\n                        // here goes the image filtering stuff part,\n                        // all the images that pass the 'regex' test\n                        // ( the ones that have valid image extension )\n                        // are considerd valid, and are kept for download\n        arg_imgs =  Array.prototype.filter.call(\n                        Array.prototype.slice.call( arguments, 1 ),\n                        function ( imgstr ) {\n                            return ( /\\.(?:jpe?g|jpe|png|gif|bmp|tiff?|tga|iff)$/i ).test( imgstr );\n                        }\n                    );\n\n\n           // aborts script if no images are provided\n           // runs passed function anyway\n\n        if ( arg_imgs.length === 0 ) {\n            fn.apply( document, arg_imgs );\n            return arg_imgs;\n        }\n\n\n          // this part keeps track of number of 'load-handler' calls,\n          // when 'n' hits the amount of given photos\n          // provided callback is runned ( signaling load complete )\n          // and whatever code is inside of it, it is executed.\n          // it passes images as parameters to callback,\n          // and sets it's context ( this ) to document object\n\n        var hd_imgs_load_handler = function ( e ) {\n\n            // logs the progress to the console\n            console.log( e.type, ' -- &gt; ', this.src );\n\n            ( ++n === arg_imgs.length )\n            &amp;&amp; fn.apply( document, arg_imgs );\n\n        };\n\n\n         // this part loops through given images,\n         // populates the P[] with Image objects,\n         // attaches 'hd_imgs_load_handler' event handler to each one,\n         // and starts up the download thing( by setting '.src' to coresponding image path )\n\n    for (\n        var i = 0,\n        len   = arg_imgs.length;\n        i &lt; len;\n        i++\n    ) {\n        P[i] = new Image;\n        P[i].onabort = hd_imgs_load_handler;\n        P[i].onerror = hd_imgs_load_handler;\n        P[i].onload  = hd_imgs_load_handler;\n        P[i].src     = arg_imgs[i];\n    }\n\n    // it gives back images that are about to be loaded\n    return arg_imgs;\n\n}\n//\n// use:\n\nhd_pics_dload(\n\n       // 1st provide a function that will handle photos once cached\n    function () { console.log('done -&gt; ', arguments ); },\n\n       // and provide pics, as many as needed, here\n       // don't forget to separate all parameters with a comma\n    'http://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Flag_of_the_United_Nations.svg/2000px-Flag_of_the_United_Nations.svg.png',\n    'http://upload.wikimedia.org/wikipedia/commons/e/e5/IBM_Port-A-Punch.jpg',\n    'http://upload.wikimedia.org/wikipedia/commons/7/7e/Tim_Berners-Lee_CP_2.jpg',\n    'http://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/NewTux.svg/2000px-NewTux.svg.png',\n    'http://upload.wikimedia.org/wikipedia/commons/4/4c/Beekeeper_keeping_bees.jpg',\n    'http://upload.wikimedia.org/wikipedia/commons/9/9a/100607-F-1234S-004.jpg'\n);\n\n//\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<pre><code>//\n//  here's more elaborate, and user friendly, version\n//  works the same as previous,\n//  I've just added the possibility to subscribe funcions\n//  for load/error/abort/done events separately,\n//  and pass images as image array with the hash map of options to the funcion,\n//  and some cleanup code to remove unnecesary function handlers\n//  after download is done.\n//\n//  use:\n//\n//  cacheimages(\n//      {\n//          imgs    : [\n//           'http://upload.wikimedia.org/wikipedia/commons/thumb/2/2f/Flag_of_the_United_Nations.svg/2000px-Flag_of_the_United_Nations.svg.png',\n//           'http://upload.wikimedia.org/wikipedia/commons/e/e5/IBM_Port-A-Punch.jpg',\n//           'http://upload.wikimedia.org/wikipedia/commons/7/7e/Tim_Berners-Lee_CP_2.jpg',\n//           'http://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/NewTux.svg/2000px-NewTux.svg.png',\n//           'http://upload.wikimedia.org/wikipedia/commons/4/4c/Beekeeper_keeping_bees.jpg',\n//           'http://upload.wikimedia.org/wikipedia/commons/9/9a/100607-F-1234S-004.jpg'\n//          ],\n//\n//          load  : function () { console.log( arguments, this ); },\n//            # triggered when single image is sucessfuly cached\n//            # @param1, ( string ), loaded image source path\n//            # @param2, ( event object ), native event object generated\n//            # context ( this ), Image object, target obj related with event\n//\n//          error : function () { console.log( arguments, this ); },\n//            # triggered when error occured when tring to download image\n//            # @param1, ( string ), path to the image failed to load\n//            # @param2, ( event object ), native event object describing the circumstance\n//            # context ( this ), Image object, target obj related with event\n//\n//          abort : function () { console.log( arguments, this ); },\n//            # triggered when download is haulted by user action ( browsers 'stop' button )\n//            # @param1, ( string ), path to the image failed to load\n//            # @param2, ( event object ), native event object generated\n//            # context ( this ), Image object, target obj related with event\n//\n//          done  : function () { console.log( arguments, this ); }\n//            # triggered after download proccess completes\n//            # @params, ( string(s) ), images in question\n//            # context ( this ), document\n//      }\n//  );\n//\n;(( function ( methodName, dfn ) {\n\n  // add \"cacheimages\" function identifier to target context ( window )\n  this[methodName] = dfn();\n\n} ).call(\nself,\n\"cacheimages\",\nfunction () {\n\n    var emptyfn    = function () {};\n    var isfn       = function ( o ) {\n        return typeof o === \"function\";\n    };\n    var isplainobj = function ( o ) {\n        return Object.prototype.toString.call( o ) === \"[object Object]\";\n    };\n    var isarray    = function ( o ) {\n        return Object.prototype.toString.call( o ) === \"[object Array]\";\n    };\n    var defaults   = {\n      load  : emptyfn,\n      error : emptyfn,\n      abort : emptyfn,\n      done  : emptyfn\n    };\n    var imgreg     = /\\.(?:jpe?g|jpe|png|gif|bmp|tiff?|tga|iff)$/i;\n    var events     = [\"onload\", ,\"onerror\" ,\"onabort\"];\n\n    var _F = function ( settup ) {\n\n        if (\n            isplainobj( settup )\n            &amp;&amp; (\n                isarray( settup.imgs )\n                &amp;&amp; ( settup.imgs.length &gt; 0 )\n            )\n        ) {\n\n            var pics    = [];\n            var n       = 0;\n            var opts = {\n                load  : isfn( settup.load )   ? settup.load  : defaults.load,\n                error : isfn( settup.error )  ? settup.error : defaults.error,\n                abort : isfn( settup.abort )  ? settup.abort : defaults.abort,\n                done  : isfn( settup.done )   ? settup.done  : defaults.done,\n                imgs  : settup.imgs.filter(\n                          function ( imgstr ) {\n                            return imgreg.test( String( imgstr ) );\n                          }\n                        )\n            };\n            var loadhandler;\n\n            if (\n                opts.imgs.length == 0\n            ) {\n                opts.done.call( document );\n                return [];\n            }\n\n            loadhandler = function ( e ) {\n                e || ( e = window.event );\n                n += 1;\n                if ( n &lt; opts.imgs.length ) {\n                    opts[ e.type ].call( this, this.src, e );\n                    // console &amp;&amp; console.log( e.type, ' --&gt; [ ', this.src, ' ].' );\n                } else {\n                    opts.done.apply( document, opts.imgs );\n                    pics.forEach(\n                      function ( imgobj ) {\n                        events.forEach(\n                          function ( vnt ) {\n                            imgobj[vnt] = null;\n                          }\n                        );\n                      }\n                    );\n                }\n            };\n\n            opts.imgs.forEach(\n                function ( imgstr, i ) {\n                    pics[i] = new Image;\n                    events.forEach(\n                        function ( vnt ) {\n                            pics[i][vnt] = loadhandler;\n                        }\n                    );\n                    pics[i].src = imgstr;\n                }\n            );\n\n            return opts.imgs.concat();\n\n        } else {\n            return false;\n        }\n\n    };\n\n    return _F;\n\n}\n));\n\n//\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<pre><code>background-image:url('images/bg1.png'), url('images/speed/bg1.jpg');\n</code></pre>\n\n<p>I'm trying to take advantage of the option for multiple background images for an element to load, first, a fast, low-res version of each background image to be replaced by the higher quality version once it has loaded. </p>\n\n<p>Any efficient solutions?</p>\n\n<p><strong>Note: The below is more wishful thinking than an actual question; I thought this might be a good topic to pin the inquiry to.</strong></p>\n\n<p>As a side question, does anyone know of a method of using this sort of idea, instead have the image transition into rendering from low-to high res, with some sort of noise effect, if you see where I'm going with that. Would be as if each image sort of smoothed out from plain noise to HD, gaining resolution until it hits the proper level, as it loads. </p>\n\n<p>I guess what I'm getting at is: <strong>\"can a script be written to load a single image as variable noise slowly gaining clarity as the image loads, instead on loading 100% res from the top-down?\"</strong></p>\n",
            "last_activity_date": 1380656731,
            "question_id": 18906266,
            "score": 9,
            "tags": [
                "javascript",
                "css"
            ],
            "title": "Fast Image loading methods, low to high res with multiple backgrounds - javascript solution?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Ok, i got it working with my Updated Question, everyone who stumbles upon this problem, This is the solution. </p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p><strong>THIS IS THE SOLUTION</strong></p>\n\n<p>So i'm using <a href=\"https://github.com/mislav/will_paginate\">will_paginate</a> / <a href=\"https://github.com/yrgoldteeth/bootstrap-will_paginate\">Bootstrap Will Paginate</a> with Endless Scrolling.</p>\n\n<p>To get the Pagination working:</p>\n\n<p><strong>1.)</strong> In my Controller i updated my index action with</p>\n\n<pre><code>@clips = Clip.order(\"created_at desc\").page(params[:page]).per_page(20)\n</code></pre>\n\n<p><strong>2.)</strong> Edit my index view:</p>\n\n<pre><code>&lt;%= will_paginate @clips%&gt;\n</code></pre>\n\n<p><strong>DONE</strong></p>\n\n<p>Pagination works just fine.</p>\n\n<p><code>To Add Endless scrolling</code> i did the same steps as in my previous Rails 3 App.</p>\n\n<p><strong>1.)</strong> Edit my clips.js.coffee\n</p>\n\n<pre><code>jQuery -&gt;\n$('#clips-masonry').imagesLoaded -&gt;\n    $('#clips-masonry').masonry itemSelector: \".clips-masonry\" # Thats my Masonry\n\nif $('.pagination').length # Thats for the Endless Scrolling\n    $(window).scroll -&gt;\n        url = $('.pagination .next_page a').attr('href')\n        if url &amp;&amp; $(window).scrollTop() &gt; $(document).height() - $(window).height() - 50\n            # What to do at the bottom of the page\n            $('.pagination').text(\"Fetching more Clips...\")\n            $.getScript(url)\n        $(window).scroll()\n</code></pre>\n\n<p><strong>2.)</strong> Create an index.js.erb with:</p>\n\n<pre><code>$boxes = $('&lt;%= j render(@clips) %&gt;')\n\n$('#clips-masonry').append( $boxes ).imagesLoaded( function(){\n  $('#clips-masonry').masonry( 'reload');\n});\n&lt;% if @clips.next_page %&gt;\n  $('.pagination').replaceWith('&lt;%= j will_paginate(@clips) %&gt;');\n&lt;% else %&gt;\n  $('.pagination').remove();\n&lt;% end %&gt;\n</code></pre>\n\n<p><strong>3.)</strong> Added format.js to my Controller index action</p>\n\n<pre><code>def index\n    @clips = Clip.order(\"created_at desc\").page(params[:page]).per_page(12)\n    respond_to do |format|\n        format.html\n        format.js\n    end\nend\n</code></pre>\n\n<p><strong>4.)</strong> My _clip.html.erb is wrapped with the div</p>\n\n<pre><code> &lt;div class=\"clip-box clips-masonry\" data-no-turbolink&gt;\n</code></pre>\n",
            "last_activity_date": 1378006033,
            "question_id": 18545769,
            "score": 9,
            "tags": [
                "javascript",
                "ruby-on-rails",
                "twitter-bootstrap",
                "ruby-on-rails-4",
                "will-paginate"
            ],
            "title": "will_paginate with endless Scrolling | Rails4"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The issue here is how you are representing the dates, they need to be passed in as <code>Date</code> types and in epoch format.  Try this instead:</p>\n\n<pre><code>mongoexport --db store --collection user_data --query '{\"order.created_order\":{$gt:new Date(1360040400000),$lt:new Date(1360990800000)}, \"order.status\" : \"paid\"}' --out ordersfeb6.json\n</code></pre>\n\n<p>If you are looking to convert ISODate to epoch, just call date in the shell, something like this:</p>\n\n<pre><code>&gt; new Date(2013,01,16)*1\n1360990800000\n</code></pre>\n\n<p>Then to verify:</p>\n\n<pre><code>&gt; new Date(1360990800000)\nISODate(\"2013-02-16T05:00:00Z\")\n</code></pre>\n\n<p><strong>Update:</strong> As noted in the comments by <a href=\"http://stackoverflow.com/users/345691/imcaptor\">imcaptor</a>, the Month is zero based (0 = Jan, 11 = Dec) in the <code>Date</code> constructor, not something most will expect, and easy to forget.  I passed in 01 in the example above and got a February date, as you can see in the ISODate from the verification.</p>\n",
                    "is_accepted": true,
                    "score": 33
                }
            ],
            "body": "<p>I am trying to get the orders made for a certain day from my mongodb using the following mongoexport call:</p>\n\n<p><code>mongoexport --db store --collection user_data --query \"{'order.created_order':{$gt:ISODate(\"2013-02-05T00:00:00.000Z\"),$lt:ISODate(\"2013-02-06T00:00:00.000Z\")}, 'order.status':'paid'}\" --out ordersfeb6.json</code></p>\n\n<p>but I am currently experiencing the following error: </p>\n\n<pre><code>Thu Feb  7 18:33:43 Assertion: 10340:Failure parsing JSON string near: 'order.cre\n0x56a223 0x5712e5 0x53e0f7 0x53e21e 0x8b7739 0x524f2b 0x5258a3 0x7fa7b77bd76d 0x525975 \nmongoexport(_ZN5mongo15printStackTraceERSo+0x23) [0x56a223]\nmongoexport(_ZN5mongo11msgassertedEiPKc+0xc5) [0x5712e5]\nmongoexport(_ZN5mongo8fromjsonEPKcPi+0x377) [0x53e0f7]\nmongoexport(_ZN5mongo8fromjsonERKSs+0xe) [0x53e21e]\nmongoexport(_ZN6Export3runEv+0x489) [0x8b7739]\nmongoexport(_ZN5mongo4Tool4mainEiPPc+0x72b) [0x524f2b]\nmongoexport(main+0x23) [0x5258a3]\n/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xed) [0x7fa7b77bd76d]\nmongoexport() [0x525975]\nassertion: 10340 Failure parsing JSON string near: 'order.cre\n</code></pre>\n\n<p>From this question <a href=\"http://stackoverflow.com/questions/8098191/mongoexport-json-parsing-error/11814950#11814950\">mongoexport JSON parsing error</a> I know that javascript is used to evaluate some parts of the mongo queries. I was wondering: do the $gt and $lt operators require javascript and is that my problem? If not, I'm not sure what is wrong with my query and any suggestions would be greatly appreciated. Thank you for reading! </p>\n",
            "last_activity_date": 1400753893,
            "question_id": 14758605,
            "score": 9,
            "tags": [
                "javascript",
                "mongodb",
                "mongoexport"
            ],
            "title": "Mongoexport using $gt and $lt constraints on a date range"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Given where it's loaded, the rest of your site would load before the request to Google Analytics. Plus GA is loaded asynchronously, not halting the execution of any of your code, so I really don't see there being an issue.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>You could host a copy of <code>www.google-analytics.com/ga.js</code> on your own server and load it from there. If you do go that route, I'd set up a cron job to periodically fetch ga.js to make sure you've got the most recent version.</p>\n\n<p>Regarding tracking code placement: one of the main reasons for placing the tracking code earlier in the page (before <code>&lt;/head&gt;</code>) has to do with visitors who leave the page quickly (possibly before the entire page has rendered). In that case, you're more likely to collect some data the sooner your tracking code is executed.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h2>Trying to fix something that isn't broken</h2>\n\n<p>If you want to use Google analytics you are going to need to communicate with there server some how, period. There service, as pointed out by many of the other answers, run <strong>asynchronously</strong> meaning it doesn't prevent your site from running what so ever. The 'loading visuals' are there to show something is loading... there is very little you can do about this.</p>\n\n<p>You have two options; put up with Google analytics or use some server side script to run analytics.</p>\n\n<p>If the website is hanging it is because of something else.</p>\n\n<h1>Edit</h1>\n\n<p>Also not including GA immediately also reduces the accuracy of the stats; bounce rates in particular will not be correct.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Latest Approach : </p>\n\n<ol>\n<li>We allow ga to load normally.</li>\n<li>We store a reference to ga dom element in a global variable (gaClone).</li>\n<li><p>We set a timeout of 30seconds. We also set another global variable (loadedGoogleAnalytics) and set it to 0 initially. When ga loads, we set this variable to 1. On the timeout expiry, we check whether ga was loaded or not. If not, we delete the dom element ga.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var loadedGoogleAnalytics = 0;\n    var gaClone;\n    var _gaq = _gaq || [];\n    _gaq.push(['_setAccount', 'UA-123456789-1']);\n    _gaq.push(['_trackPageview']);\n\n    _gaq.push(function() {\n        loadedGoogleAnalytics = 1;\n        //console.log('GA Actualy executed!');\n    });\n\n    (function() {\n        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\n        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\n\n        gaClone = ga;\n\n    })();\n\n    setTimeout(function() {\n        //console.log('timeout fired');\n        if (loadedGoogleAnalytics != 1) {\n            gaClone.parentNode.removeChild(gaClone); \n        }\n    }, 30000);\n&lt;/script&gt;\n</code></pre></li>\n</ol>\n\n<p>[I have verified this approach with one of my actual GA accounts and i am able to see all the realtime tracking]</p>\n\n<p>Previous Approach \n[Note:  Ga does not execute if we try to place it in (document).ready();]\n[This solution does not work]</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function() {\n            var _gaq = _gaq || [];\n            _gaq.push(['_setAccount', 'UA-123456789-1']);\n            _gaq.push(['_trackPageview']);\n\n            srcUrl = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n\n            $.ajax({\n                url: srcUrl,\n                cache: true,\n                dataType: \"script\",\n                success: function(data) {\n                    //console.log('got the script');\n                },\n                error: function() {\n                    //console.log('failed to get the script');\n                },\n                timeout: 30000\n            });\n        });\n&lt;/script&gt;\n</code></pre>\n\n<p>Hope this helps</p>\n",
                    "is_accepted": true,
                    "score": 5
                }
            ],
            "body": "<p>Ok it's 19 Jan 2013 22:30 NZST and most of the internet seems to have come to a crawl as Google Analytics seems to be running really slow. Stackoverflow, Firefox.com, reddit and  google searches are slow. Most importantly for me, my production business website is running slow or not loading at all. No it's not just my connection I tested it on my phone with 3G as well. Sites without Google Analytics seemed to be running fine.</p>\n\n<p><strong>Here's a few screenshots of what happens</strong></p>\n\n<p>This is in the bottom left corner of the Firefox window. It will sit there for 20+ seconds like that. I'd like it to go away after 3 seconds if it can't connect.</p>\n\n<p><img src=\"http://i.stack.imgur.com/xUQj0.png\" alt=\"enter image description here\"></p>\n\n<p>This spinning green image is in the Firefox tab and just sits there making it look like the page is still loading for 20+ seconds. I'd like it to go away after 3 seconds if it can't connect.</p>\n\n<p><img src=\"http://i.stack.imgur.com/bX2pZ.png\" alt=\"enter image description here\"></p>\n\n<p>Now it may not be Google Analytics, my country' international gateway may be running slow or something. But evidence strongly suggests it might be Google Analytics. Now even if it isn't Google Analytics then I'd still be interested in some methods to counter it if the service is completely down. So hypothetically lets assume there's a massive fire at the datacenter of Google Analytics and the fire suppression systems failed. Now Google Analytics goes completely offline for several days. No backup servers. No standby datacenters. Hypothetical scenario ok. Now my site still needs to run as I can't afford to have my site reliant on Google Analytics service being up. But the analytics functionality would be good to have as an added bonus if the service is actually running in a timely manner.</p>\n\n<p>Ok so I'm throwing out some ideas here:</p>\n\n<ol>\n<li>Is there's a timeout I can add to my script that will cancel the connection to Google Analytics and halt the request/download if it's taking too long? Then it would continue loading my site after 2 seconds.</li>\n<li>Or better yet, perhaps it can just load my site completely, then send a request off to Google Analytics using Ajax after my site is completely finished loading? Why doesn't it do this by default?</li>\n</ol>\n\n<p>Here's the code we have to work with which is currently inserted just before the closing <code>&lt;/body&gt;</code> tag.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var _gaq = _gaq || [];\n    _gaq.push(['_setAccount', 'UA-123456789-1']);\n    _gaq.push(['_trackPageview']);\n    (function() {\n        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;\n        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);\n    })();\n&lt;/script&gt;\n</code></pre>\n\n<p>Now, what are some methods I could employ that would fix this hypothetical disaster scenario and give my website continuity while Google Analytics is down? I'm interested in either potential software or hardware solutions. Assume I have full access to a Linux VPS which my PHP/MySQL/HTML5 website is running on.</p>\n\n<p>Also, what's the authoritative answer on this: some people say place the code before the closing <code>&lt;/head&gt;</code> tag. Others say place it before the closing <code>&lt;/body&gt;</code> tag. Which is the best way?</p>\n\n<p>Many thanks</p>\n\n<p><em><strong>Solution Update</em></strong></p>\n\n<p>Ok I've found out what works with help from Jaspal. The solution is below.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    // Load Google Analytics after my site has completely loaded\n    // Then when Google Analytics request is made it won't show any visuals in the browser\n    setTimeout(loadGoogleAnalytics, 5000);\n\n    // Setup _gaq array as global so that the code in the ga.js file can access it\n    var _gaq = _gaq || [];\n    _gaq.push(['_setAccount', 'UA-123456789-1']);\n    _gaq.push(['_trackPageview']);\n\n    /**\n     * Loads Google Analytics\n     */\n    function loadGoogleAnalytics()\n    {\n        var srcUrl = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';\n\n        $.ajax(\n        {\n            url: srcUrl,\n            cache: true,\n            dataType: \"script\",\n            success: function(data)\n            {\n                console.log('got the script');\n            },\n            error: function()\n            {\n                console.log('failed to get the script');\n            },\n            timeout: 5000\n        });\n    };\n&lt;/script&gt;\n</code></pre>\n\n<p>Basically why it works is because there is a setTimeout for 5 seconds. This gives my page enough time to load all the content, JS, CSS, images etc. Then after that it kicks off the $.ajax request and downloads ga.js and __utm.gif which is actually sending the data to Google Analytics. After that initial 5 seconds,  basically all the browser visuals I mentioned earlier disappear and the Google Analytics request happens silently in the background with no loading visuals for the browser user. Then I tried blocking Google Analytics with the host file and I still don't get any browser visuals - perfect.</p>\n\n<p>It should be noted that the <code>timeout: 5000</code> property in the <a href=\"http://api.jquery.com/jQuery.ajax/\">$.ajax</a> request doesn't appear to do anything. Originally I was hoping it would abort the request if it couldn't get data for 5 seconds but there's a note in the API docs saying </p>\n\n<blockquote>\n  <p>In Firefox 3.0+ only, script and JSONP requests cannot be cancelled\n  by a timeout; the script will run even if it arrives after the timeout\n  period.</p>\n</blockquote>\n\n<p>I'll leave it in there anyway just in case. From my testing if Google Analytics can't be reached (from observing the Net/Network panel in Firebug/Chrome) then it will abort the request after 21-23 seconds in Firefox and 16 seconds in Chrome. This may be some TCP timeout. I'm not worried about that anyway as it's timing out silently and the user will not notice as there's no loading visuals in the browser.</p>\n\n<p>I have accepted Jaspal's answer below and awarded him the bounty as his solution was critical to solving this. However his solution still has loading visuals appearing in the browser. So I believe the solution posted here using the setTimeout (a slight modification on his original one) is the way to go and is tested to be working 100% for me.</p>\n",
            "last_activity_date": 1382562083,
            "question_id": 14413271,
            "score": 9,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "asynchronous",
                "google-analytics"
            ],
            "title": "If Google Analytics goes down, how do I keep my site working?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The fact is, it's fine as long as you know what you're doing and what the costs are. But it's a <strong>big</strong> \"if\". Some examples of the costs:</p>\n\n<ul>\n<li><p>You'll need to do <strong>extensive</strong> testing with <em>any</em> library you choose to use with an environment that augments <code>Object.prototype</code>, because the overwhelming convention is that a blank object will have no enumerable properties. By adding an enumerable property to <code>Object.prototype</code>, you're making that convention false. E.g., this is quite common:</p>\n\n<pre><code>var obj = {\"a\": 1, \"b\": 2};\nvar name;\nfor (name in obj) {\n    console.log(name);\n}\n</code></pre>\n\n<p>...with the <strong><em>overwhelming</em></strong> convention being that only \"a\" and \"b\" will show up, not \"getProperties\".</p></li>\n<li><p>Anyone working on the code will have to be schooled in the fact that that convention (above) is not being followed.</p></li>\n</ul>\n\n<p>You can mitigate the above by using <code>Object.defineProperty</code> (and similar) if supported, but beware that even in 2014, browsers like IE8 that <a href=\"http://kangax.github.io/compat-table/es5/#Object.defineProperty\" rel=\"nofollow\">don't support it</a> properly remain in significant use (though we can hope that will change quickly now that XP is officially EOL'd). That's because using <code>Object.defineProperty</code>, you can add <strong>non-enumerable</strong> properties (ones that don't show up in <code>for-in</code> loops) and so you'll have a lot less trouble (at that point, you're primarily worried about name conflicts)&nbsp;&mdash; but it only works on systems that correctly implement <code>Object.defineProperty</code> (and a correct implementation cannot be \"shimmed\").</p>\n\n<p>In your example, I wouldn't add <code>getProperties</code> to <code>Object.prototype</code>; I'd add it to <code>Object</code> and accept the object as an argument, like ES5 does for <code>getPrototypeOf</code> and similar.</p>\n\n<p>Be aware that the Prototype library gets a lot of flak for extending <code>Array.prototype</code> because of how that affects <code>for..in</code> loops. And that's just <code>Array</code>s (which you shouldn't use <code>for..in</code> on anyway (unless you're using the <code>hasOwnProperty</code> guard and quite probably <code>String(Number(name)) === name</code> as well).</p>\n\n<blockquote>\n  <p>...if the V8 people do it, who am I to say they're wrong?</p>\n</blockquote>\n\n<p>On V8, you can rely on <a href=\"http://ecma-international.org/ecma-262/5.1/#sec-15.2.3.6\" rel=\"nofollow\"><code>Object.defineProperty</code></a>, because V8 is an entirely ES5-compliant engine.</p>\n\n<p>Note that even when the properties are non-enumerable, there are issues. Years ago, Prototype (indirectly) defined a <code>filter</code> function on <code>Array.prototype</code>. And it does what you'd expect: Calls an iterator function and creates a new array based on elements the function chooses. Then ECMAScript5 came along and defined <code>Array.prototype.filter</code> to do much the same thing. But there's the rub: <strong><em>Much</em></strong> the same thing. In particular, the signature of the iterator functions that get called is different (ECMAScript5 includes an argument that Prototype didn't). It could have been much worse than that (and I suspect&nbsp;&mdash; but cannot prove&nbsp;&mdash; that TC39 were aware of Prototype and intentionally avoided too much conflict with it).</p>\n\n<p>So: If you're going to do it, be aware of the risks and costs. The ugly, edge-case bugs you can run into as a result of trying to use off-the-shelf libraries could really cost you time...</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>If frameworks and libraries generally did what you are proposing, it would very soon happen that two different frameworks would define two different functionalities as the same method of <code>Object</code> (or <code>Array</code>, <code>Number</code>... or any of the existing object prototypes). It is therefore better to add such new functionality into its own namespace.</p>\n\n<p>For example... imagine, you would have a library that would serialize objects to json and a library that would serialize them to XML and both would define their functionality as</p>\n\n<pre><code>Object.prototype.serialize = function() { ... }\n</code></pre>\n\n<p>and you would only be able to use the one that was defined later. So it is better if they don't do this, but instead</p>\n\n<pre><code>JSONSerializingLibrary.seralize = function(obj) { ... }\nXMLSerializingLibrary.seralize = function(obj) { ... }\n</code></pre>\n\n<p>It could also happen that a new functionality is defined in a new ECMAscript standard, or added by a browser vendor. So imagine that your browsers would also add a <code>serialize</code> function. That would again cause conflict with libraries that defined the same function. Even if the libraries' functionality was the same as that which is built in to the browser, the interpreted script functions would override the native function which would, in fact, be faster.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>See <a href=\"http://www.websanova.com/tutorials/javascript/extending-javascript-the-right-way\" rel=\"nofollow\">http://www.websanova.com/tutorials/javascript/extending-javascript-the-right-way</a></p>\n\n<p>Which addresses some, but not all, the objections raised. The objection about different libraries creating clashing methods can be alleviated by raising an exception if a domain specific method is already present in Object.prototype. That will at least provide an alert when this undesirable event happens. </p>\n\n<p>Inspired by this post I developed the following which is also available in the comments of the cited page.</p>\n\n<pre><code>!Object.implement &amp;&amp; Object.defineProperty (Object.prototype, 'implement', {\n  // based on http://www.websanova.com/tutorials/javascript/extending-javascript-the-right-way\n  value: function (mthd, fnc, cfg) { // adds fnc to prototype under name mthd\n      if (typeof mthd === 'function') { // find mthd from function source\n        cfg = fnc, fnc = mthd;\n        (mthd = (fnc.toString ().match (/^function\\s+([a-z$_][\\w$]+)/i) || [0, ''])[1]);\n      }\n      mthd &amp;&amp; !this.prototype[mthd] &amp;&amp; \n        Object.defineProperty (this.prototype, mthd, {configurable: !!cfg, value: fnc, enumerable: false});\n    }\n});\n\nObject.implement (function forEach (fnc) {\n  for (var key in this)\n    this.hasOwnProperty (key) &amp;&amp; fnc (this[key], key, this);\n});\n</code></pre>\n\n<p>I have used this primarily to add standard defined function on implementation that do not support them.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p><em><strong>RECAP:</strong></em></p>\n\n<p>Ok, it's been a while since I asked this question. As usual, I went and augmented the <code>Object.prototype</code> anyway, in spite of all the valid arguments against it given both here and elsewhere on the web. I guess I'm just that kind of stubborn jerk.</p>\n\n<p>I've tried to come up with a conclusive way of preventing the new method from mucking up any expected behaviour, which proved to be a very tough, but informative thing to do. <br/>I've learned a great many things about JavaScript. Not in the least that I won't be trying anything as brash as messing with the native prototypes, (except for <code>String.prototype.trim</code> for IE &lt; 9).</p>\n\n<p>In this particular case, I don't use any libs, so conflicts were not my main concern. But having dug a little deeper into possible mishaps when playing around with native prototypes, I'm not likely to try this code in combination with any lib.</p>\n\n<p>By looking into this prototype approach, I've come to a better understanding of the model itself. I was treating prototypes as some form of flexible traditional abstract class, making me cling on to traditional OOP thinking. This viewpoint doesn't really do the prototype model justice. Douglas Crockford wrote about this pitfall, sadly the pink background kept me from reading the full article.</p>\n\n<p>I've decided to update this question in the off chance people who read this are tempted to see for themselves. All I can say to that is: by all means, do. I hope you learn a couple of neat things, as I did, before deciding to abandon this rather silly idea. A simple function might work just as well, or better even, especially in this case. After all, the real beauty of it is, that by adding just 3 lines of code, you can use that very same function to augment specific objects' prototypes all the same.</p>\n\n<hr>\n\n<p>I know I'm about to ask a question that has been around for quite a while, but: Why is Object.prototype considered to be <em>off limits</em>? It's there, and it can be augmented all the same, like any other prototype. Why, then, shouldn't you take advantage of this. To my mind, as long as you know what you're doing, there's no reason to steer clear of the Object prototype. <br/>Take this method for example:</p>\n\n<pre><code>if (!Object.prototype.getProperties)\n{\n    Object.prototype.getProperties = function(f)\n    {\n        \"use strict\";\n        var i,ret;\n        f = f || false;\n        ret = [];\n        for (i in this)\n        {\n            if (this.hasOwnProperty(i))\n            {\n                if (f === false &amp;&amp; typeof this[i] === 'function')\n                {\n                    continue;\n                }\n                ret.push(i);\n            }\n        }\n        return ret;\n    };\n}\n</code></pre>\n\n<p>Basically, it's the same old <code>for...in</code> loop you would either keep safe in a function, or write over and over again. I know it will be added to <strong>all</strong> objects, and since nearly every inheritance chain in JavaScript can be traced back to the <code>Object.prototype</code>, but in my script, I consider it the lesser of two evils. </p>\n\n<p>Perhaps, someone could do a better job at telling me where I'm wrong than <a href=\"http://erik.eae.net/archives/2005/06/06/22.13.54/\">this chap</a>, among others. <br/> Whilst looking for reasons people gave <em>NOT</em> to touch the <code>Object</code>'s prototype, one thing kept cropping up: it breaks the <code>for..in</code> loop-thingy, but then again: many frameworks do, too, not to mention your own inheritance chains. It is therefore bad practice not to include a <code>.hasOwnProperty</code> check when looping through an object's properties, to my mind. </p>\n\n<p>I also found <a href=\"http://developer.appcelerator.com/question/129475/v8-runtime-defines-objectprototypeextend-which-may-break-compatibility-to-javascript-framework\">this</a> rather interesting. Again: one comment is quite unequivocal: extending native prototypes is bad practice, but if the V8 people do it, who am I to say they're wrong? <br/>I know, that argument doesn't quite stack up. </p>\n\n<p>The point is: I can't really see a problem with the above code. I like it, use it a lot and so far, it hasn't let me down once. I'm even thinking of attaching a couple more functions to the Object prototype. Unless somebody can tell me why I shouldn't, that is.</p>\n",
            "last_activity_date": 1402903669,
            "question_id": 10757455,
            "score": 9,
            "tags": [
                "javascript",
                "prototype"
            ],
            "title": "Object.prototype is Verboten?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>to avoid doing the login via a popup, you should kick off the authentication at the server side</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The popup blocker will always initiate if the Popup action did not originate in an event caused by a user. For example, if you try and do a popup on a load event, the browser will most likely use the popup blocker. On the other hand, if you trigger the popup on a click event or keydown event, it is less likely that the popup blocker will be triggered.</p>\n\n<p>You could also employ a method that has your application detect whether or not the popup was blocked. You can read more about that <a href=\"http://stackoverflow.com/questions/668286/detect-blocked-popup-in-chrome\">here</a>.</p>\n\n<p>As mentioned in other answers, if you'd rather do the authentication process without popups at all, you would need to handle this at the server side using OAuth.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I aware that this question is a possible duplicate of <a href=\"http://stackoverflow.com/questions/4956359/stop-the-facebook-popup-blocker\">another question: Stop the facebook popup blocker</a> I am reposting this to help Dave Zhang. I have adapted this code for one of my site. In the following code, replace the YOUR_APP_ID and your website url, then the Facebook login will be popup-less.</p>\n\n<pre><code>//Javascript\nvar uri = encodeURI('http://example.com');\nFB.getLoginStatus(function(response) {\n    if (response.status === 'connected') {\n        window.location.href=uri;\n    } else {\n        window.location = encodeURI(\"https://www.facebook.com/dialog/oauth?client_id=YOUR_APP_ID&amp;redirect_uri=\"+uri+\"&amp;response_type=token\");\n    }\n});\n</code></pre>\n\n<p>This will just redirect directly instead of opening a pop-up.</p>\n",
                    "is_accepted": false,
                    "score": 13
                },
                {
                    "body": "<p>You should initiate your login code on click of some button. As a good practice while dealing with FB, the login process should always be initiated by user.</p>\n\n<p>Call your code on click of a button and it should FIX your problem.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm trying to make a simple facebook app, but for the authorization, it seems that it's always blocked by a popup-blocker. My code is thus:</p>\n\n<pre><code>FB.init({\n        appId  : THEAPPPIDDDD,\n            status : true,\n            cookie : true,\n            xfbml  : true,\n   });\n\n\nFB.login(function(response) {\n           if (response.authResponse) {\n               FB.api('/me', function(response) {\n               FB.logout(function(response) {\n                               console.log('Logged out.');\n                           });\n                   });\n           } else {\n               console.log('User did not authorize.');\n           }\n       });\n</code></pre>\n\n<p>Any help would be greatly appreciated... thanks</p>\n",
            "last_activity_date": 1348457316,
            "question_id": 7125320,
            "score": 9,
            "tags": [
                "javascript",
                "facebook"
            ],
            "title": "Facebook login without pop-up?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Check out the source code in this example from Google:</p>\n\n<p><a href=\"http://www.geocodezip.com/v3_animate_marker_directions.html\" rel=\"nofollow\">http://www.geocodezip.com/v3_animate_marker_directions.html</a></p>\n\n<p><em>Click the submit button to see it work</em></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I did not find any native way to create this animation. You can create your own animation by stepping the position from the current point to the final point using the setPosition. Here is a code snippet to give you an idea:</p>\n\n<pre><code>var map = undefined;\nvar marker = undefined;\nvar position = [43, -89];\n\nfunction initialize() {\n\n    var latlng = new google.maps.LatLng(position[0], position[1]);\n    var myOptions = {\n        zoom: 8,\n        center: latlng,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n    };\n    map = new google.maps.Map(document.getElementById(\"map_canvas\"), myOptions);\n\n    marker = new google.maps.Marker({\n        position: latlng,\n        map: map,\n        title: \"Your current location!\"\n    });\n\n    google.maps.event.addListener(map, 'click', function(me) {\n        var result = [me.latLng.lat(), me.latLng.lng()];\n        transition(result);\n    });\n}\n\nvar numDeltas = 100;\nvar delay = 10; //milliseconds\nvar i = 0;\nvar deltaLat;\nvar deltaLng;\nfunction transition(result){\n    i = 0;\n    deltaLat = (result[0] - position[0])/numDeltas;\n    deltaLng = (result[1] - position[1])/numDeltas;\n    moveMarker();\n}\n\nfunction moveMarker(){\n    position[0] += deltaLat;\n    position[1] += deltaLng;\n    var latlng = new google.maps.LatLng(position[0], position[1]);\n    marker.setPosition(latlng);\n    if(i!=numDeltas){\n        i++;\n        setTimeout(moveMarker, delay);\n    }\n}\n</code></pre>\n\n<p>This can probably be cleaned up a bit, but will give you a good start. I am using JavaScript's setTimeout method to create the animation. The initial call to 'transition' gets the animation started. The parameter to 'transition' is a two element array [lat, lng]. The 'transition' function calculates the step sizes for lat and lng based upon a couple of animation parametes (numDeltas, delay). It then calls 'moveMarker'. The function 'moveMarker' keeps a simple counter to indicate when the marker has reached the final destination. If not there, it calls itself again.</p>\n\n<p>Here is a jsFiddle of the code working: <a href=\"http://jsfiddle.net/rcravens/RFHKd/13/\">http://jsfiddle.net/rcravens/RFHKd/13/</a></p>\n\n<p>Hope this helps.</p>\n\n<p>Bob</p>\n",
                    "is_accepted": true,
                    "score": 18
                }
            ],
            "body": "<p>Using the Google Maps API v3 I've been able to update multiple positions of markers via an AJAX call. However, it lacks any transition. Code below:</p>\n\n<pre><code>if (!latlong.equals(point.latlong)) {\npoint.latlong = latlong;\npoint.marker.setPosition(latlong);\n}\n</code></pre>\n\n<p>The drawback is that setPosition has no native animation method. Does anyone know any methods for extending setPosition so the marker can fluently \"move\" from it's old to new position? Or any methods available? I have not been able to find any documentation. Thanks!</p>\n",
            "last_activity_date": 1382700458,
            "question_id": 5892113,
            "score": 9,
            "tags": [
                "javascript",
                "google-maps"
            ],
            "title": "Extend Google Maps marker to animate smoothly on update?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I struggled with this too. Initially I tried a CSS class (.stretch) defining 200% height and overflow visible, then toggling this on the HTML via script before and after the scrollTo. This doesn't work because the computed 100% height refers back to the available viewport dimensions minus all browser chrome (snapping the status bar back into place).</p>\n\n<p>Eventually I had to request specific styles to apply dynamically via the DOM API. To add to your additional snippet:</p>\n\n<pre><code>var CSS = document.documentElement.style;\n\n/mobile/i.test(navigator.userAgent) &amp;&amp; !pageYOffset &amp;&amp; !location.hash &amp;&amp; setTimeout(function () {\n  CSS.height = '200%';\n  CSS.overflow = 'visible';\n\n  window.scrollTo(0, 1);\n\n  CSS.height = window.innerHeight + 'px';\n  CSS.overflow = 'hidden';\n}, 1000);\u200b\n</code></pre>\n\n<p>However I'd recommend extending Scott Jehl's method, which addresses minor Android/iOS Safari scrollTo differences:</p>\n\n<p><a href=\"https://gist.github.com/1183357\" rel=\"nofollow\">https://gist.github.com/1183357</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>This solution from Nate Smith helped me: <a href=\"http://blog.nateps.com/how-to-hide-the-address-bar-in-a-full-screen\" rel=\"nofollow\">How to Hide the Address Bar in a Full Screen Iphone or Android Web App</a>.</p>\n\n<p>Here's the essential bit:</p>\n\n<pre><code>var page   = document.getElementById('page'),\n    ua     = navigator.userAgent,\n    iphone = ~ua.indexOf('iPhone') || ~ua.indexOf('iPod');\n\nvar setupScroll = window.onload = function() {\n  // Start out by adding the height of the location bar to the width, so that\n  // we can scroll past it\n  if (ios) {\n    // iOS reliably returns the innerWindow size for documentElement.clientHeight\n    // but window.innerHeight is sometimes the wrong value after rotating\n    // the orientation\n    var height = document.documentElement.clientHeight;\n    // Only add extra padding to the height on iphone / ipod, since the ipad\n    // browser doesn't scroll off the location bar.\n    if (iphone &amp;&amp; !fullscreen) height += 60;\n    page.style.height = height + 'px';\n  }\n  // Scroll after a timeout, since iOS will scroll to the top of the page\n  // after it fires the onload event\n  setTimeout(scrollTo, 0, 0, 1);\n};\n</code></pre>\n\n<p>For more details, check out his <a href=\"http://blog.nateps.com/how-to-hide-the-address-bar-in-a-full-screen\" rel=\"nofollow\">blog post</a> or the <a href=\"https://gist.github.com/1172490\" rel=\"nofollow\">Gist</a>.</p>\n",
                    "is_accepted": false,
                    "score": 6
                }
            ],
            "body": "<p>Many posts on this, but not quite for my situation. My page has flexible dimensions set to 100% width and 100% height, so the typical on-load scroll function isn't working. Any thoughts or other solutions?</p>\n\n<p>Thanks!</p>\n\n<p>CSS:</p>\n\n<pre><code>* {\n    margin:0;\n    padding:0;\n}\nhtml, body {\n    width:100%;\n    height:100%;\n    min-width:960px;\n    overflow:hidden;\n}\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>    /mobile/i.test(navigator.userAgent) &amp;&amp; !pageYOffset &amp;&amp; !location.hash &amp;&amp; setTimeout(function () {\n  window.scrollTo(0, 1);\n    }, 1000);\u200b\n</code></pre>\n",
            "last_activity_date": 1364318238,
            "question_id": 5206811,
            "score": 9,
            "tags": [
                "javascript",
                "iphone",
                "hide",
                "onload",
                "address-bar"
            ],
            "title": "hide iPhone address bar with 100% height"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I tried compiling the goog.net.XhrIo as a test:</p>\n\n<pre><code>goog.require('goog.Uri.QueryData');\ngoog.require('goog.debug.ErrorHandler');\ngoog.require('goog.net.XhrIo');\n\ngoog.net.XhrIo;\n</code></pre>\n\n<p>when I compile this I have this result:</p>\n\n<pre><code>20-nov-2010 1:12:21 com.google.javascript.jscomp.LoggerErrorManager printSummary\nWARNING: 0 error(s), 1 warning(s), 91,5% typed\nJSC_USELESS_CODE. Suspicious code. This code lacks side-effects. Is there a bug? at test.js line 5 : 0\n</code></pre>\n\n<p>It seems as if the closure library itself is not 100% typed and I don't think the goal is to reach 100%. Javascript is not a statically typed language. Closure tries to bring some benefits of statically typed languages into javascript. Which is good. But that doesn't mean you have to bring in the burdens of this type of languages. </p>\n\n<h2>EDIT:</h2>\n\n<p>I tried to compile an empty file and the result was 90.4%. I think this means that the base.js with all the primitive functions is not 100% typed. So I did some more experimenting and Found out that when I also put type information on all my local variables, the percentage goes up. I don't think it is necessary to put type information on all your local variables. I mean imagine this:</p>\n\n<pre><code>/** @type {number} */\nvar i = 0;\nfor(i = 0; i &lt; 10; i++) {\n  // do something\n}\n</code></pre>\n\n<p>This can't be the goal of compiling with the closure compiler. This is proven by the fact that compiling base.js doesn't result in 100%. I try to keep this number between 85% and 95% in my development. Depending on your time, programming style and the application you're working on this can vary off course. The best guideline is to try to keep the percentage constant throughout the development of your application, whether it's 60% or 90%. Just do as much typing as needed to keep you comfortable with your own code.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>It IS possible to achieve 100%. My own projects are 100% typed. The closure compiler can output warnings about expressions with unknown types. Unfortunately there is no command line option to enable this feature. You have to modify the source code to enable it:</p>\n\n<ol>\n<li><p>Download the current sources:</p>\n\n<p><code>git clone https://code.google.com/p/closure-compiler/</code></p></li>\n<li><p>Edit src/com/google/javascript/jscomp/CompilerOptions.java and change the line <code>reportUnknownTypes = CheckLevel.OFF</code> to <code>reportUnknownTypes = CheckLevel.WARNING</code></p></li>\n<li><p>Compile the closure-compiler by simply calling <code>ant</code> in the root directory. The modified compiler.jar is now in the build directory.</p></li>\n</ol>\n\n<p>When you use this modified compiler on your scripts then it spits out lots of warnings about all the expressions for which the compiler couldn't determine the type. When you fix all these warnings in your code then it is 100% typed.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>All the credits go to @kayahr but since time went by. I wanted to provide an update to his answer which is based on a old version of the compiler.</p>\n\n<p>You need to recompile the source with type checking enforced. To do so:</p>\n\n<ol>\n<li><p>download the source <code>git clone https://code.google.com/p/closure-compiler/</code> and go to <code>closure-compiler</code></p></li>\n<li><p>Edit <code>src/com/google/javascript/jscomp/CompilerOptions.java</code> and set <code>checkTypes</code> to <code>true</code> in. You can also play around with all kinds of compilation and optimization variables.</p></li>\n<li><p>Compile the code by running <code>ant</code></p></li>\n</ol>\n\n<p>Watch out though, <code>tightenTypes</code> is experimental and quite broken.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The compiler has a flag you can set to make unknown types output a warning.</p>\n\n<pre><code>--jscomp_warning=reportUnknownTypes\n</code></pre>\n\n<p>You will also need to increase the warning level.</p>\n\n<pre><code>--warning_level=VERBOSE\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>How can I get my application to be 100% typed in regard to google closure compiler?</p>\n\n<p>I already tagged everything with jsdoc comments. Is it even possible to get 100? I'm at 64,6%</p>\n",
            "last_activity_date": 1393021518,
            "question_id": 4230326,
            "score": 9,
            "tags": [
                "javascript",
                "typing",
                "google-closure-compiler",
                "jsdoc"
            ],
            "title": "Google Closure Compiler 100% typed"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>why dont you just play the songs using the <a href=\"http://www.w3schools.com/html5/tag_audio.asp\" rel=\"nofollow\">HTML 5 audio tag</a>? Your view is a webView.. is shouldn't matter, it is simpler and you have more control.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I have found out where was my mistake.\nThe audio file that I want to play was not placed properly, as I thought at first. I had moved it in /sdcard folder and everything was just wonderful!\nP.S. I use only filename, no folders.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>PhoneGap for Android lets you store local audio files in two places:\n android_asset: file name must start with /android_asset/sound.mp3\n sdcard: file name is just sound.mp3</p>\n\n<p>If you place your DANCE.mp3 file in your project's assets directory, then you can play it using the path:</p>\n\n<pre><code>mp3file = new Media(\"/android_asset/DANCE.mp3\",\n        function() {\n            alert(\"playAudio():Audio Success\");\n        },\n            function(err) {\n                alert(err);\n        }\n        );\n      mp3file.play();\n</code></pre>\n\n<p>(You can read the source for AudioPlayer.java in the Android PhoneGap sources to see how this works.)</p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>Can I offer an advice..\nIf you use the PhoneGap Media player.. You need to remove the file:// from the path.. It doesn not accept a full URI for local files\nRegards\nKim</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>A month ago I started working with phonegap, html5, css3 and jQtouch.\nI am working on an application and I need to play sound in the application. I have a serious problem with this task.\nFirst I've found out that I can play .mp3 files through phonegap using the new Media(...) function. I am not sure about .wav files, can I play those?\nSecond I've found that files must be less than 30 sec, is this so?\nThird I can't find the right place for my sound files. My project structure is the following: </p>\n\n<pre><code>project\n-- src\n-- gen\n-- assets\n-- -- www\n-- -- DANCE.mp3\n-- -- jqtouch\n-- -- -- (some folders and files)\n-- -- phonegap.js\n-- libs\n-- res\n</code></pre>\n\n<p>I've tried placing the file in 'www' folder and creating a new one called 'audio'. None of this gave me what I wanted.\nI am using this code for executing the song:</p>\n\n<pre><code>function playStream() {\n    mp3file = new Media(\"DANCE.mp3\",\n            function() {\n                alert(\"playAudio():Audio Success\");\n            },\n                function(err) {\n                    alert(err);\n            }\n            );\n          mp3file.play();\n}\n</code></pre>\n\n<p>I use Android 2.1 Simulator and I've tried 2.2 as well without success.\nI hope I was clear enough.\nI am looking forward to hearing from you.\nYours,\nMihail Velikov</p>\n",
            "last_activity_date": 1338167160,
            "question_id": 4159117,
            "score": 9,
            "tags": [
                "javascript",
                "android",
                "music",
                "cordova"
            ],
            "title": "How to play song in Android - phonegap"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>This is pulled directly from the <a href=\"http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-262.pdf\" rel=\"nofollow\">ECMAScript specification</a>:</p>\n\n<h2>15.2.1 The Object Constructor Called as a Function</h2>\n\n<p>When Object is called as a function rather than as a constructor, it performs a type conversion.</p>\n\n<h2>15.2.1.1 Object ( [ value ] )</h2>\n\n<p>When the Object function is called with no arguments or with one argument value, the following steps are \ntaken: </p>\n\n<ol>\n<li><p>If value is null, undefined or not\nsupplied, create and return a new\nObject object exactly as if the\nstandard  built-in Object\nconstructor had been called with the\nsame arguments (15.2.2.1). </p>\n\n<p><strong>In Short:</strong> <code>new Object([ value ])</code></p></li>\n<li><p>Return ToObject(value).     </p></li>\n</ol>\n\n<h2>Notes:</h2>\n\n<p><strong>[ ]</strong> Is A common way to mark a parameter as optional.</p>\n\n<p><strong>ToObject</strong> Is a very simple operation that is defined in section 9.9.</p>\n",
                    "is_accepted": true,
                    "score": 9
                }
            ],
            "body": "<p>In JavaScript, what's the difference between</p>\n\n<pre><code>var x = Object();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>var x = new Object();\n</code></pre>\n\n<p>?</p>\n",
            "last_activity_date": 1361247724,
            "question_id": 3080655,
            "score": 9,
            "tags": [
                "javascript",
                "object",
                "new-operator"
            ],
            "title": "How do &quot;Object()&quot; and &quot;new Object()&quot; differ in JavaScript?"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>The best way I can think of is to create your own <a href=\"http://groups.google.com/group/cake-php/browse%5Fthread/thread/3d9e3449718f5114\" rel=\"nofollow\">custom AppView</a> and have all your controllers use that:</p>\n\n<pre><code>class myController extends AppController {\n  var view = 'AppView';\n  ...\n}\n</code></pre>\n\n<p>Then, somewhere in your AppView, you'd want to do something like:</p>\n\n<pre><code>function __construct(&amp;$controller, $register){\n  parent::__construct($controller,$register);\n  $this-&gt;addScript('&lt;script type=\"text/javascript\" src=\"/path/to/js/' . $this-&gt;controller . '/' . $this-&gt;action . '.js\"&gt;&lt;/script&gt;');\n}\n</code></pre>\n\n<p>But I'd take a step back and think about a few things, first.</p>\n\n<p>How big are your scripts, on average?  Is the overhead of an external script call (before the script is cached by the client) better than adding a few hundred bytes to your main output stream (by just sticking the script into the page, inline)?</p>\n\n<p>Perhaps you'd be better of somewhere in the middle -- split your scripts up by controller, but not action.  That way, after the first visit to any action, the client has all scripts for all actions.  This way, you avoid a big initial download for all the application's script, but you avoid adding N http round-trips (where N is the number of actions a brand new user visits).</p>\n\n<p>Another way to approach the problem is to do it all in javascript.  Just figure out a lazy-loading scheme.  So your app just loads a very small loader.js, and that script figures out which other javascript sources to pull in.</p>\n\n<p>Note: I've never tested my extend-the-view hack, but I bet it'll work if you really want to do this.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Very easy to do in your <code>default.ctp</code> layout file:</p>\n\n<p>An example to automatically include <code>.css</code> files per controller and/or controller/action (because I had this lying around, easily adaptable to <code>.js</code> files):</p>\n\n<pre><code>&lt;head&gt;\n...\n&lt;?php\n    if (is_file(WWW_ROOT . 'css' . DS . $this-&gt;params['controller'] . '.css')) {\n        echo $html-&gt;css($this-&gt;params['controller']);\n    }\n    if (is_file(WWW_ROOT . 'css' . DS . $this-&gt;params['controller'] . DS . $this-&gt;params['action'] . '.css')) {\n        echo $html-&gt;css($this-&gt;params['controller'] . '/' . $this-&gt;params['action']);\n    }\n?&gt;\n...\n&lt;/head&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>Like deceze is saying, we do it using the layout, although I find our solution a bit more elegant :)</p>\n\n<p>In default.ctp:</p>\n\n<pre><code>if(isset($cssIncludes)){\n    foreach($cssIncludes as $css){\n        echo $html-&gt;css($css);\n    }\n}\n\nif(isset($jsIncludes)){\n    foreach($jsIncludes as $js){\n        echo $javascript-&gt;link($js);\n    }\n}\n</code></pre>\n\n<p>Then, in our controller actions, we define these arrays:</p>\n\n<pre><code>$this-&gt;set('cssIncludes',array('special')); // this will link to /css/special.css\n$this-&gt;set('jsIncludes',array('jquery'));   // this will link to /js/jquery.js\n</code></pre>\n\n<p>For files that need to be loaded in each view, we simply add the same type of link \"statically\" to the top of the layout, like:</p>\n\n<pre><code>echo $javascript-&gt;link('global');\necho $html-&gt;css('global');\n</code></pre>\n\n<p>This works really well for us.  Good luck!</p>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>Kinda new to this, but after reading this added the following to my layout:</p>\n\n<pre><code>if ($handle = opendir(WWW_ROOT . 'js' . DS . $this-&gt;params['controller'] . DS . $this-&gt;params['action'])) \n{\n    while (false !== ($entry = readdir($handle)))\n        {\n           $entry = str_replace(\".js\", \"\", $entry);\n           echo $this-&gt;Html-&gt;script($entry);\n\n    }\n    closedir($handle);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>There's a nuts and bolts of CakePHP blog post on <a href=\"http://nuts-and-bolts-of-cakephp.com/2009/01/29/convention-over-configuration-whats-the-big-deal/\" rel=\"nofollow\">Convention over Configuration \u2013 what's the big deal?</a> - which uses a helper for specifying Javascript files:</p>\n\n<pre><code>&lt;?php\n\nclass JsManagerHelper extends AppHelper {\n\n    var $helpers = array('Javascript');\n\n    //where's our jQuery path relevant to CakePHP's JS dir?\n    var $_jqueryPath = 'jquery';\n\n    //where do we keep our page/view relevant scripts?\n    var $_pageScriptPath = 'page_specific';\n\n    function myJs() {\n    return $this-&gt;Javascript-&gt;link($this-&gt;_jqueryPath . '/' .\n                                    $this-&gt;_pageScriptPath .'/' .\n                                    $this-&gt;params['controller'] . '_' .\n                                    $this-&gt;params['action'], false);\n    }\n\n}\n\n?&gt;\n</code></pre>\n\n<p>And then you just have <code>$jsManager-&gt;myJs();</code> in your view.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I just had to do page specific inclusion, but I've found a neater way to do it in the <a href=\"http://book.cakephp.org/2.0/en/core-libraries/helpers/html.html\" rel=\"nofollow\">documentation</a>. You can just load it into some script block in your default.ctp. And in corresponding view just use HTML helper to push a script:</p>\n\n<blockquote>\n  <p>You can append the script tag to a specific block using the block\n  option:</p>\n\n<pre><code>echo $this-&gt;Html-&gt;script('wysiwyg', array('block' =&gt; 'scriptBottom'));\n</code></pre>\n</blockquote>\n\n<p>Which appends <code>&lt;script type=\"text/javascript\" href=\"/js/wysiwyg.js\"&gt;&lt;/script&gt;</code> to a block.</p>\n\n<blockquote>\n  <p>In your layout you can output all the script tags added to\n  \u2018scriptBottom\u2019:</p>\n\n<pre><code>echo $this-&gt;fetch('scriptBottom');\n</code></pre>\n</blockquote>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I have authored a Plugin for this exact issue.</p>\n\n<p>If you have two files:</p>\n\n<ul>\n<li>/app/View/Post/add.ctp</li>\n<li>/app/View/Post/add.js</li>\n</ul>\n\n<p>it will include the <code>add.js</code> into the script block of the page.</p>\n\n<p><em><strong>OR</em></strong></p>\n\n<ul>\n<li>app/View/Post/add.js</li>\n<li>app/webroot/js/post/add.js</li>\n</ul>\n\n<p>it will include /js/post/add.js into the script block of the page.</p>\n\n<p>A few cute features are in there and it's simple as beans. You can even use PHP inside your .js files and use viewVars which you set in the action. Most of all, you don't need to hack the view or layout files to make it work, simply fetch the 'script' block in the layout. You can also simply write the .js to another view block.</p>\n\n<p>You can check it out here: <a href=\"https://github.com/dizyart/cakephp-viewautoload\" rel=\"nofollow\">https://github.com/dizyart/cakephp-viewautoload</a></p>\n\n<p>It's in the early stages, so make sure to comment and wishlist!</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>LI worked a little (very little) bit over <strong>W1ckd</strong> snippet and made it easier for sharing the same js for different actions:</p>\n\n<pre><code>if ( is_dir(WWW_ROOT . 'js' . DS . $this-&gt;params['controller'] ) &amp;&amp; ( $handle = opendir( WWW_ROOT . 'js' . DS . $this-&gt;params['controller'] ) ) )\n{\n    while ( false !== ( $entry = readdir( $handle ) ) )\n    {\n        if ( in_array( $this-&gt;params['action'], explode( '.', $entry ) ) ) {\n            $entry = str_replace( \".js\", \"\", $entry );\n            echo $this-&gt;Html-&gt;script( $this-&gt;params['controller'].DS.$entry );\n        }\n\n    }\n    closedir( $handle );\n}\n</code></pre>\n\n<p>This way you can have something like:</p>\n\n<p>webroot/js/<strong>controller</strong>/<em>view.edit.add.js</em></p>\n\n<p>And this js will be included in those three actions (view, edit, add).</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In an attempt to keep my scripts maintainable, I'm going to move each into their own file, organised by controller and action:</p>\n\n<pre><code>// scripts which only apply to /views/posts/add.ctp\n/app/webroot/js/page/posts/add.js\n\n// scripts which only apply to /view/users/index.ctp\n/app/webroot/js/page/users/index.js\n</code></pre>\n\n<p>That's all cool, however I'd like for these to be automatically added by the Controller, since it obviously knows the name of both the controller and action.</p>\n\n<p>I figure the best place for this is in <code>AppController::beforeRender()</code>. (yes?)</p>\n\n<p>The only problem is that I don't know how to actually add this into the <code>$scripts_for_layout</code> variable. I thought that getting a reference to the <code>javascript</code> helper object would work, but I can't find it from the controller!</p>\n\n<pre><code>class AppController extends Controller {\n    var $helpers = array(\"javascript\", \"html\", \"form\");\n\n    function beforeRender() {\n        // ???\n    }\n}\n</code></pre>\n",
            "last_activity_date": 1377823525,
            "question_id": 1425084,
            "score": 9,
            "tags": [
                "javascript",
                "cakephp"
            ],
            "title": "Adding page-specific Javascript to each view in CakePHP"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Try hiding it with <code>visibility:hidden</code> or if all else fails, <code>position:absolute;left:-9999px</code>.</p>\n\n<p>I presume Firefox doesn't want to waste memory and CPU on Flash animation that's invisible, so it kills it.</p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>see <a href=\"https://bugzilla.mozilla.org/show%5Fbug.cgi?id=90268\" rel=\"nofollow\">https://bugzilla.mozilla.org/show%5Fbug.cgi?id=90268</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Yes, it seems like Firefox kills the flashes instances that are not visible.\nI had the same problem in Firefox 3.6.13 and Flash Player 10.2.152. I tryed with \"visibility:hidden\" and \"position:absolute\" but didn't work even with \"wmode=opaque\".<br/>&nbsp;<br/>\nFor me the solution was setting the <strong>\"wmode\" to opaque</strong>, <strong>\"position:absolute\"</strong> and <strong>\"opacity:0\"</strong>, but it\u00b4s not possible to set the \"top\" property to negative or whatever \"position\", \"overflow\" or \"margin\" hack. The entire movie need to have its \"space reserved\" in the page to avoid Firefox killing it.\nI needed to toggle the visibility between two flash movies with the same size, so, the solution was setting the opacity of one of them to 0 and changing their <strong>z-index</strong> properties to put forward the active one. It worked fine.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a Flash movie embedded in some DIV. The trouble is that when I change any property of the enclosing DIV dynamically, Firefox (not other browsers) restarts/reinitializes Flash movie effectively resetting the whole progress (eg: file selection for upload, etc.).</p>\n\n<p>Is there some sort of a workaround for this?</p>\n",
            "last_activity_date": 1299152044,
            "question_id": 298342,
            "score": 9,
            "tags": [
                "javascript",
                "flash",
                "firefox"
            ],
            "title": "Firefox restarts Flash movie if enclosing DIV properties change"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><a href=\"http://jsfiddle.net/RZXEF/\">Here is pure JavaScript way</a> to track the idle time and when it reach certain limit do some action, you can modify accordingly and use</p>\n\n<pre><code>var IDLE_TIMEOUT = 60; //seconds\nvar _idleSecondsCounter = 0;\ndocument.onclick = function() {\n    _idleSecondsCounter = 0;\n};\ndocument.onmousemove = function() {\n    _idleSecondsCounter = 0;\n};\ndocument.onkeypress = function() {\n    _idleSecondsCounter = 0;\n};\nwindow.setInterval(CheckIdleTime, 1000);\n\nfunction CheckIdleTime() {\n    _idleSecondsCounter++;\n    var oPanel = document.getElementById(\"SecondsUntilExpire\");\n    if (oPanel)\n        oPanel.innerHTML = (IDLE_TIMEOUT - _idleSecondsCounter) + \"\";\n    if (_idleSecondsCounter &gt;= IDLE_TIMEOUT) {\n        alert(\"Time expired!\");\n        document.location.href = \"logout.html\";\n    }\n}\n</code></pre>\n\n<p>This code will wait 60 seconds before showing alert and redirecting, and any action will \"reset\" the count - mouse click, mouse move or key press.</p>\n\n<p>It should be as cross browser as possible, and straight forward. It also support showing the remaining time, if you add element to your page with ID of SecondsUntilExpire.</p>\n\n<p>Ref: <a href=\"http://stackoverflow.com/questions/9564602/how-to-know-browser-idle-time/9564811#9564811\">How to know browser idle time?</a></p>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>The problem with the approach you suggest is that the session will time out, even if the user is moving the mouse or typing in an input. So if you have a session timeout set to 20 minutes, and the user keeps typing for 21 minutes, the session will still time out, even though they have been \"active\". The only thing that will keep the session from timing out is a new request to the server.</p>\n\n<p><strong>Solution 1: Let the server be in control of the session timeout</strong></p>\n\n<p>Unless you are making Ajax-requests in the background, that will keep renewing the session, you could just set a JavaScript-timeout when the page loads, and alert the user that way. Unless you make other requests to the server, while the user is on your page, there is no need to make it difficult:</p>\n\n<pre><code>setTimeout(function () {\n   alert(\"You've timed out baby!\");\n}, 1200000); // 20 minutes in millisec (modify to your session timeout)\n</code></pre>\n\n<p>If the user visits another page or reloads the page, the session is renewed and the JavaScript timer is reset. If the user does no such thing, the session will time out at the same time the user gets her alert.</p>\n\n<p><strong>Solution 2: Let the client be in control of the session timeout</strong></p>\n\n<p>If you want the JavaScript to be fully in controll of how long the session lasts, so that it is renewed whenever the user types, moves the mouse or whatever, you will have too keep making Ajax-requests in the background to your server, so the session is renewed. (That could be an empty dummy request, just something that hits the server)</p>\n\n<p>You would then have to track all actions you consider \"user activity\" (AnhSirk suggest one way in his answer) and reset the timeout timer whenever such an event occur. If the user is inactive for too long, you would then have to make an Ajax-request to a page on the server, that invalidates the session, and then you can alert the user that the session has timed out.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>In building a monitor, which would monitor any activity on the browser by the user, like click of a button or typing on a textbox (not mouse hovering on document). So if there is no activity from the user for a long time, the session will time out.</p>\n\n<p>We need to do it without jquery or anything such. I may use ajax. java servlet in other end is preferable.</p>\n",
            "last_activity_date": 1396612934,
            "question_id": 13246378,
            "score": 8,
            "tags": [
                "javascript",
                "javascript-events",
                "session-timeout"
            ],
            "title": "Detecting user inactivity over a browser - purely through javascript"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>See if this works for you:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction fbs_click(width, height) {\n    var leftPosition, topPosition;\n    //Allow for borders.\n    leftPosition = (window.screen.width / 2) - ((width / 2) + 10);\n    //Allow for title and status bars.\n    topPosition = (window.screen.height / 2) - ((height / 2) + 50);\n    var windowFeatures = \"status=no,height=\" + height + \",width=\" + width + \",resizable=yes,left=\" + leftPosition + \",top=\" + topPosition + \",screenX=\" + leftPosition + \",screenY=\" + topPosition + \",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no\";\n    u=location.href;\n    t=document.title;\n    window.open('http://www.facebook.com/sharer.php?u='+encodeURIComponent(u)+'&amp;t='+encodeURIComponent(t),'sharer', windowFeatures);\n    return false;\n}\n&lt;/script&gt;\n\n&lt;!-- Please change the width and height to suit your needs --&gt;\n&lt;a href=\"http://www.facebook.com/share.php?u=&lt;full page url to share\" onClick=\"return fbs_click(400, 300)\" target=\"_blank\" title=\"Share This on Facebook\"&gt;&lt;img src=\"images/facebookimage.jpg\" alt=\"facebook share\"&gt;&lt;/a&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 25
                },
                {
                    "body": "<p>Try this </p>\n\n<pre><code>\n\n    &lt;script type=\"text/javascript\"&gt;\n    function fbs_click() {\n      u=location.href;t=document.title;window.open(\n      &#039;http://www.facebook.com/sharer.php?u=&#039;+encodeURIComponent(u)+&#039;&amp;t=&#039;+encodeURIComponent(t),\n      &#039;sharer&#039;,&#039;toolbar=0,status=0,width=626,height=436&#039;);return false;\n      }\n    &lt;/script&gt;\n\n    &lt;a href=&quot;http://www.facebook.com/share.php?u=&lt;url&gt;&quot; onclick=&quot;return fbs_click()&quot; target=&quot;_blank&quot;&gt;Share on Facebook&lt;/a&gt;\n\n</code></pre>\n\n<p><br/>\nOr this post with a picture on Facebook</p>\n\n<pre><code>\n\n    &lt;script type=&quot;text/javascript&quot;&gt;\n    function fbs_click() {\n      u=location.href;t=document.title;window.open(\n      &#039;http://www.facebook.com/sharer.php?u=&#039;+encodeURIComponent(u)+&#039;&amp;t=&#039;+encodeURIComponent(t),\n      &#039;sharer&#039;,&#039;toolbar=0,status=0,width=626,height=436&#039;);return false;\n      }\n    &lt;/script&gt;\n\n    &lt;a href=&quot;http://www.facebook.com/share.php?u=&lt;url&gt;&quot; onclick=&quot;return fbs_click()&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;http://originus.samsung.com/us/images/support/facebook-share.png&quot;/&gt;&lt;/a&gt;\n\n</code></pre>\n\n<p>You can change the image or words <br/>\nSize pop-up window <br/>\n<code>width=626,height=436</code><br/>\nYou can change the size </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The following code works well and launches a facebook popup on the screen, however this popup is not centered.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction fbs_click() {u=location.href;t=document.title;window.open('http://www.facebook.com/sharer.php?u='+encodeURIComponent(u)+'&amp;t='+encodeURIComponent(t),'sharer','toolbar=0,status=0,width=626,height=436');return false;}\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;a href=\"http://www.facebook.com/share.php?u=&lt;full page url to share\" onClick=\"return fbs_click()\" target=\"_blank\" title=\"Share This on Facebook\"&gt;&lt;img src=\"images/facebookimage.jpg\" alt=\"facebook share\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>Here is the script that centers a popup window: </p>\n\n<pre><code>    &lt;script type=\"text/javascript\"&gt;\n function MyPopUpWin(url, width, height) {\n    var leftPosition, topPosition;\n    //Allow for borders.\n    leftPosition = (window.screen.width / 2) - ((width / 2) + 10);\n    //Allow for title and status bars.\n    topPosition = (window.screen.height / 2) - ((height / 2) + 50);\n    //Open the window.\n    window.open(url, \"Window2\",\n    \"status=no,height=\" + height + \",width=\" + width + \",resizable=yes,left=\"\n    + leftPosition + \",top=\" + topPosition + \",screenX=\" + leftPosition + \",screenY=\"\n    + topPosition + \",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no\");\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Can someone please update the 1st script so that it works in combination with the 2nd script to result in the popup window launching in the center of the screen. (As my experience with coding is very limited i know not how to do this.)\nThanks heaps. Pia</p>\n",
            "last_activity_date": 1403479659,
            "question_id": 12882689,
            "score": 8,
            "tags": [
                "javascript",
                "facebook",
                "xhtml",
                "popup",
                "social"
            ],
            "title": "Launch Facebook Share Popup at Center of Screen"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I found the answer by looking at the source - call \"setState('hover');\" on the point that you want to be highlighted. </p>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>Just to add an important information:</p>\n\n<p>For StockChart this solution doesn't work:</p>\n\n<p>In <a href=\"http://jsfiddle.net/xW2MW/\" rel=\"nofollow\">this example</a> you have to replace this:</p>\n\n<pre><code>chart.tooltip.refresh(chart.series[0].data[i]);\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>chart.tooltip.refresh([chart.series[0].points[i]]);\n</code></pre>\n\n<p>One possible solution is available <a href=\"http://jsfiddle.net/JMarques/w5mEH/\" rel=\"nofollow\">here</a>.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>To give a more direct answer (e.g. for then you don't have access to the highcharts instance): </p>\n\n<p>you need to create a mouseover event and give it proper pageX and pageY attributes before you trigger it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>When you hover over a point in a Highcharts chart, you get a nice enlarged circle under you cursor (or other symbol). What I would like to do manually trigger that hover effect. </p>\n\n<p>I know that I can manually trigger the mouseOver event on the point, but that doesn't give me the enlarged symbol on the chart that I am going for. </p>\n",
            "last_activity_date": 1423584472,
            "question_id": 11194527,
            "score": 8,
            "tags": [
                "javascript",
                "highcharts"
            ],
            "title": "Highcharts - manually trigger hover event on a point"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>The problem is you're running the loop <em>now</em> but the callbacks you are setting are getting run <em>later</em> (when the events fire). By the time they run, the loop is over and remains at whatever the last value was. So it will always show \"file2\" in your case for the name.</p>\n\n<p>The solution is to put the file name inside a closure with the rest. One way to do this is create an <a href=\"http://en.wikipedia.org/wiki/Immediately-invoked_function_expression\">immediately-invoked function expression (IIFE)</a> and pass the file in as a parameter to that function:</p>\n\n<pre><code>for (var i = 0; i &lt; files.length; i++) { //for multiple files          \n    (function(file) {\n        var name = file.name;\n        var reader = new FileReader();  \n        reader.onload = function(e) {  \n            // get file content  \n            var text = e.target.result; \n            var li = document.createElement(\"li\");\n            li.innerHTML = name + \"____\" + text;\n            ul.appendChild(li);\n        }\n        reader.readAsText(file, \"UTF-8\");\n    })(files[i]);\n}\n</code></pre>\n\n<p>Or, if your possible loop is really big and don't want to keep defining an anonymous function every iteration, you can define it ahead of time:</p>\n\n<pre><code>function setup_reader(file) {\n    var name = file.name;\n    var reader = new FileReader();  \n    reader.onload = function(e) {  \n        // get file content  \n        var text = e.target.result; \n        var li = document.createElement(\"li\");\n        li.innerHTML = name + \"____\" + text;\n        ul.appendChild(li);\n    }\n    reader.readAsText(file, \"UTF-8\");\n}\n\nfor (var i = 0; i &lt; files.length; i++) { setup_reader(files[i]); }\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 23
                }
            ],
            "body": "<p>I'm using FileReader API to read files on local.</p>\n\n<pre><code>&lt;input type=\"file\" id=\"filesx\" name=\"filesx[]\" onchange=\"readmultifiles(this.files)\" multiple=\"\" /&gt;\n\n&lt;script&gt;\nfunction readmultifiles(files) {\n    var ret = \"\";\n    var ul = document.querySelector(\"#bag&gt;ul\");\n    while (ul.hasChildNodes()) {\n        ul.removeChild(ul.firstChild);\n    }\n    for (var i = 0; i &lt; files.length; i++)  //for multiple files\n    {\n        var f = files[i];\n        var name = files[i].name;\n        alert(name);\n        var reader = new FileReader();  \n        reader.onload = function(e) {  \n            // get file content  \n            var text = e.target.result;\n            var li = document.createElement(\"li\");\n            li.innerHTML = name + \"____\" + text;\n            ul.appendChild(li);\n        }\n        reader.readAsText(f,\"UTF-8\");\n    }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>If input includes 2 files:</p>\n\n<pre><code>file1 ---- \"content1\"\nfile2 ---- \"content2\"\n</code></pre>\n\n<p>I get this output:</p>\n\n<pre><code>file2__content1\nfile2__content2\n</code></pre>\n\n<p>How to fix code to display:</p>\n\n<pre><code>file1__content1\nfile2__content2\n</code></pre>\n",
            "last_activity_date": 1391704502,
            "question_id": 9815625,
            "score": 8,
            "tags": [
                "javascript",
                "html5",
                "javascript-events",
                "filereader"
            ],
            "title": "Looping through files for FileReader, output always contains last value from loop"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>According to <a href=\"https://developer.mozilla.org/en/DOM/window.btoa#Unicode_Strings\">MDN docs</a>, you might need to <code>escape</code> and then <code>decodeURIComponent</code> to handle unicode:</p>\n\n<pre><code>function utf8_to_b64( str ) {\n    return window.btoa(unescape(encodeURIComponent( str )));\n}\n\nfunction b64_to_utf8( str ) {\n    return decodeURIComponent(escape(window.atob( str )));\n}\n\n// Usage:\nutf8_to_b64('\u2713 \u00e0 la mode'); // \"4pyTIMOgIGxhIG1vZGU=\"\nb64_to_utf8('4pyTIMOgIGxhIG1vZGU='); // \"\u2713 \u00e0 la mode\"\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p><a href=\"https://developer.mozilla.org/en/DOM/window.atob\"><code>atob</code></a> breaks due to the newlines in the response. Remove them to get your code to work:</p>\n\n<pre><code>function addSVGToPage(SVGToAdd) {\n    var entry, decodedEntry;         // &lt;-- What is this doing here? It's unused.\n    makeAJAXCall(SVGToAdd, function (returnedJSON) {\n        console.info(window.atob(returnedJSON.data.content.replace(/\\s/g, '')));\n        //                                                ^^^^^^^^^^^^^^^^^^^\n    });\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I have an AJAX call getting info out of the Github API. It is returned in base64 encoding but when i try to decode it I get the aforementioned error.</p>\n\n<p>Has anyone run into this before and know what is going on? The info the server is returning runs fine through web based decoders. Maybe it get s mangled a bit in a variable? IDK :/</p>\n\n<pre><code>(function () {\n    'use strict';\n\n    var objectsList = [];\n    var isParsing = 0;\n    var insertArea = $('body');\n\n    function makeAJAXCall(hash, cb) {\n        $.ajaxSetup({\n            Accept: 'Application/vnd.github.raw+json',\n            dataType: 'jsonp'\n        });\n\n        $.ajax({\n            url: hash,\n            success: function (json) {\n                if (cb) {\n                    cb(json);\n                }\n            },\n            error: function (error) {\n                console.error(error);\n                throw error;\n            }\n        });\n    }\n\n    function parseBlob(hash, cb) {\n        makeAJAXCall(hash, function (returnedJSON) {  // no loop as only one entry\n            if (cb) {\n                cb(returnedJSON.data.content);\n            }\n        });\n    }\n\n    function addSVGToPage(SVGToAdd) {\n        var entry, decodedEntry;\n        makeAJAXCall(SVGToAdd, function (returnedJSON) {\n            console.info(window.atob(returnedJSON.data.content));\n        });\n    }\n\n    function parseTree(hash) {\n        var i, entry;\n        var tree = 'https://api.github.com/repos/myusername/SVG-Shapes/git/trees/' + hash;\n\n        makeAJAXCall(tree, function (returnedJSON) {\n            for (i = 0;  i &lt; returnedJSON.data.tree.length; i += 1) {\n                entry = returnedJSON.data.tree[i];\n\n                if (entry.type === 'blob') {\n                    if (entry.path.slice(-4) === '.svg') {     // we only want the svg images not the ignore file and README etc\n                        addSVGToPage(entry.url);\n                    }\n                } else if (entry.type === 'tree') {\n                    parseTree(entry.sha);\n                }\n            }\n        });\n    }\n\n    $(document).ready(function () {\n        parseTree('master');\n    });\n}());\n</code></pre>\n\n<p>Edit: below is a sample of what is returned from a console.info(returnedJSON.data.content);</p>\n\n<pre><code>PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NU WVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0 cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRk Ij4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHht bG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJz aW9uPSIxLjEiIGhlaWdodD0iMjQiIHdpZHRoPSI0MDAiPgkKCTxkZWZzPgoJ CTxwYXR0ZXJuIGlkPSJzdHJpcGVkYmFjayIgaGVpZ2h0PSIyMCIgd2lkdGg9 IjIwIiB5PSIyIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBvdmVy Zmxvdz0ic2Nyb2xsIj4KCQkJPGcgdHJhbnNmb3JtPSJza2V3WCgtMjApIj4K CQkJCTxyZWN0IHg9Ii0xMCIgeT0iMCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjIw IiBzdHJva2U9Im5vbmUiIGZpbGw9IiNGMkYyRjIiLz4KCQkJCTxyZWN0IHg9 IjAiIHk9IjAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIyMCIgc3Ryb2tlPSJub25l IiBmaWxsPSIjRTJFMkUyIi8+CgkJCQk8cmVjdCB4PSIxMCIgeT0iMCIgd2lk dGg9IjEwIiBoZWlnaHQ9IjIwIiBzdHJva2U9Im5vbmUiIGZpbGw9IiNGMkYy RjIiLz4KCQkJCTxyZWN0IHg9IjIwIiB5PSIwIiB3aWR0aD0iMTAiIGhlaWdo dD0iMjAiIHN0cm9rZT0ibm9uZSIgZmlsbD0iI0UyRTJFMiIvPgoJCQk8L2c+ CgkJPC9wYXR0ZXJuPgoKCQk8cmVjdCBpZD0iaW5uZXJjdXQiIHg9IjIiIHkg PSIxIiB3aWR0aD0iMzk2IiBoZWlnaHQ9IjIyIi8+CgoJCTxjbGlwUGF0aCBp ZD0ibG9hZGNsaXAiPgoJCQk8dXNlIHhsaW5rOmhyZWY9IiNpbm5lcmN1dCIv PgoJCTwvY2xpcFBhdGg+Cgk8L2RlZnM+CgoJPHJlY3Qgd2lkdGg9IjQwMCIg aGVpZ2h0PSIyNCIgeD0iMCIgeT0iMCIgc3R5bGU9InN0cm9rZS13aWR0aDoy cHg7c3Ryb2tlOmdyZXk7Ii8+ICA8IS0tIEJhY2tpbmcgcmVjdC9mcmFtZSAt LT4KCgk8ZyBjbGlwLXBhdGg9InVybCgjbG9hZGNsaXApIj4KCQk8cmVjdCB4 PSItMTgiIHkgPSIyIiB3aWR0aD0iNTE2IiBoZWlnaHQ9IjIwIiBzdHlsZT0i c3Ryb2tlLXdpZHRoOjBweDtzdHJva2U6Z3JleTsiIGZpbGw9InVybCgjc3Ry aXBlZGJhY2spIj4KCQkJPGFuaW1hdGVUcmFuc2Zvcm0KCQkgICAgICAgIGF0 dHJpYnV0ZVR5cGU9IlhNTCIKCQkgICAgICAgIGF0dHJpYnV0ZU5hbWU9InRy YW5zZm9ybSIKCQkgICAgICAgIHR5cGU9InRyYW5zbGF0ZSIKCQkJCWZyb209 IjIwIiB0bz0iMCIKCQkJCWJlZ2luPSIwcyIgZHVyPSIwLjZzIgoJCQkJcmVw ZWF0Q291bnQ9ImluZGVmaW5pdGUiCgkJCQlhZGRpdGl2ZT0ic3VtIi8+CgkJ PC9yZWN0PgoJPC9nPgo8L3N2Zz4K\n</code></pre>\n",
            "last_activity_date": 1332678982,
            "question_id": 9786508,
            "score": 8,
            "tags": [
                "javascript"
            ],
            "title": "javascript atob returning &#39;String contains an invalid character&#39;"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I know it's supported in <a href=\"http://msdn.microsoft.com/en-us/library/ms533694(v=vs.85).aspx\" rel=\"nofollow\">at least IE 6 and later</a>, <a href=\"https://developer.mozilla.org/en/DOM/window.navigator.cookieEnabled\" rel=\"nofollow\">Firefox 1 and later</a>, and Dottoro reports that it is <a href=\"http://help.dottoro.com/ljbwtjwn.php\" rel=\"nofollow\">supported by all major browsers</a>.</p>\n\n<p>However, it is not part of any DOM specification and therefore is not guaranteed to be available on all browsers (for instance, mobile browsers with limited DOM implementations).</p>\n\n<p>For a complete cross browser solution, you might want to go with something like this:</p>\n\n<pre><code>var cookies = navigator.cookieEnabled ||\n        (\"cookie\" in document &amp;&amp; (document.cookie.length &gt; 0 ||\n        (document.cookie = \"test\").indexOf.call(document.cookie, \"test\") &gt; -1));\n</code></pre>\n\n<p>Demo: <a href=\"http://codetester.org/83b5cda9\" rel=\"nofollow\">http://codetester.org/83b5cda9</a></p>\n\n<p>This will return <code>false</code> in browsers that have cookies disabled or don't support the DOM level 2 property <code>document.cookie</code>, which is about as far as you can go in JS.</p>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>In a quick test just now (using IE9), it appears that navigator.cookieEnabled still returns true when the browser is blocking cookies for that site.</p>\n\n<p>In other words, cookies are enabled but not for that particular page you are on.</p>\n\n<p>Therefore you need to test for whether cookies actually work when you set them. The correct code should be (modified from Andy E's answer):</p>\n\n<pre><code>var cookies = \n    (\"cookie\" in document &amp;&amp; (document.cookie.length &gt; 0 ||\n    (document.cookie = \"test\").indexOf.call(document.cookie, \"test\") &gt; -1))\n</code></pre>\n\n<p>There is really no point in checking navigator.cookieEnabled.</p>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>I like this 1 liner function:</p>\n\n<pre><code>function cookiesEnabled() {\n    return $.cookie('check', 'valid', { expires: 1 }) &amp;&amp; $.cookie('check') == 'valid';\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How well supported is <code>navigator.cookieEnabled</code>? Can I safely rely on it for all browsers?</p>\n",
            "last_activity_date": 1420615309,
            "question_id": 6125330,
            "score": 8,
            "tags": [
                "javascript",
                "cookies"
            ],
            "title": "Javascript navigator.cookieEnabled Browser Compatibility"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Unfortunately there's no way to hook into global hotkeys. The best you can do is add a window event keypress listener.</p>\n\n<p>Source: <a href=\"http://groups.google.com/group/chromium-extensions/browse_thread/thread/c8f19e467f72ec37/c4739074713962e2?lnk=gst&amp;q=shortcut#c4739074713962e2\" rel=\"nofollow\">a Chromium developer post on the chromium-extensions group</a>.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>Just as an update it's actually being developed now:</p>\n\n<p><a href=\"http://developer.chrome.com/trunk/apps/commands.html\" rel=\"nofollow\">http://developer.chrome.com/trunk/apps/commands.html</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Keyboard shortcuts are implemented with chrome.commands in Chrome 25 and above: <a href=\"http://developer.chrome.com/apps/commands.html\" rel=\"nofollow\">developer.chrome.com/apps/commands.html</a>.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I've created a basic <a href=\"http://github.com/mmrobins/LastTab\">extension for Google Chrome</a> to change the behavior of which tab is selected when you close a tab so that the selected tab is the last one you had selected instead of just the one before the tab you closed.</p>\n\n<p>I want to add keyboard shortcuts, and I've found a way to do that using jquery and <a href=\"http://code.google.com/p/js-hotkeys/\">jquery hotkeys</a>, but the problem I'm finding is that the keyboard shortcuts only work once a page is loaded.  So for example, if you open a new tab without going anywhere, the shortcut keys don't work because the javascript only loads when a page is on the screen.  Same problem if you have the extensions page open in a tab.</p>\n\n<p>Does anyone know of a better way to do keyboard shortcuts in Chrome extensions?  I've been looking through the <a href=\"http://code.google.com/chrome/extensions/getstarted.html\">extensions documentation</a>, but I haven't found anything that looks promising.</p>\n",
            "last_activity_date": 1380551410,
            "question_id": 2115083,
            "score": 8,
            "tags": [
                "javascript",
                "google-chrome",
                "google-chrome-extension",
                "chromium"
            ],
            "title": "Keyboard Shortcuts in Google Chrome / Chromium Extensions"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Yes, you can use <a href=\"http://en.wikipedia.org/wiki/Comet_%28programming%29\" rel=\"nofollow\">COMET</a>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The client has to tell the server when the client-user begins typing. You've got a couple options here.</p>\n\n<ol>\n<li><p>Frequent requests from the server for the latest activity. This would be taking place for each user involved in the chat. The same request could be used to send user-specific activity to the server as well: \"Jonathan is typing...\"</p></li>\n<li><p>Long-polling. This essentially requests information from the server, and the server keeps the connection opened until it has something to send back. So your requests are minimized, but your connections stay opened longer.</p></li>\n</ol>\n\n<p>Depending on your traffic, type of data being transmitted, server-environment, and many other factors, one of these options may shine more than the other.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use Silverlight for push notifications.  Look at <a href=\"http://msdn.microsoft.com/en-us/library/system.servicemodel.pollingduplexhttpbinding%28VS.95%29.aspx\" rel=\"nofollow\">PollingDuplexHttpBinding</a>.  Since you are using ASP.Net MVC, <a href=\"http://timheuer.com/blog/archive/2009/02/09/silverlight-as-a-view-in-aspnet-mvc.aspx\" rel=\"nofollow\">adding Silverlight</a> will be easy.</p>\n\n<p>Look at <a href=\"http://blogs.msdn.com/silverlightws/archive/2008/06/10/detailed-overview-of-silverlight-2-beta-2-web-service-features.aspx\" rel=\"nofollow\">this page</a> for more information.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Based upon the <a href=\"http://en.wikipedia.org/wiki/Representational_State_Transfer\" rel=\"nofollow\">REST</a> architecture the html system is based upon, the servers role is to simply act as a resource for the client to pull from. I am generalizing but there are tools to implement this type of action on the client side, rather than on the server side.</p>\n\n<p>You are better off writing/using a library that can request updates from the server periodically. You can encapsulate these types of requests in a javascript object that can fire events. This way your client side script can act like it's getting notified from the server. Review some common stuff with <a href=\"http://en.wikipedia.org/wiki/Comet_%28programming%29\" rel=\"nofollow\">COMET</a> you can probably find some tools to help you client side code.</p>\n\n<p>HTML 5 has some tentative attempts at this type of functionality, but if you want your app to work on older browsers, your better off using more stable methods, like AJAX requested updates.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>There are several different ways to accomplish this. Some of them are already answered here, but I wanted to include a few more as well as my thoughts on them.</p>\n\n<p><strong>1. Polling</strong></p>\n\n<p>Frequent requests are made to the server to check for new info. This is the worst way to do this, but probably the easiest. If your site will have a low number of users, it might be worth doing it this way.</p>\n\n<p>This can be accomplished by using <code>setInterval(myFunction, n)</code> in javascript to send <code>XMLHttpRequests</code> to the server every <code>n</code> milliseconds. Then, on the server, you respond to this with your new info, when you have it, or some message that implies no new info.</p>\n\n<p><strong>2. Long Polling</strong></p>\n\n<p>When the page is loaded, it makes a request to the server for new info. The server holds the connection open until there is something to send back. This method reduces the amount of network traffic used, but increases the resources used on the server. You can use this for a small number of users, but it doesn't scale very well.</p>\n\n<p>The easiest way to do this is to have the page that handles the AJAX request simply wait for new information to be available, then respond. This can tie up a lot connections on your server. So, use with care.</p>\n\n<p><strong>3. COMET</strong></p>\n\n<p><a href=\"http://ajaxian.com/archives/comet-a-new-approach-to-ajax-applications\" rel=\"nofollow\">COMET</a> is basically long polling, but the server is setup properly for it. It knows that these connections aren't \"real\" and it uses less resources to handle them. This is a great solution for this problem, but it requires that the server is explicitly setup for this purpose. There are COMET servers and COMET addins for other popular servers, but it will require some setup and sometimes some money.</p>\n\n<p>Implementing this on .NET isn't the easiest thing in the world. You can pay for solutions, try to find someone else's code that does something similar, or try to write it yourself. I've not found any decent free solutions for this. If someone else has, please comment.</p>\n\n<p><strong>4. RIA</strong></p>\n\n<p>Another solution would be to include Flash, Silverlight, or Java Applet on your page. People often do this by using a 1x1 object so that they can use Flash or Silverlight to talk to the server. If you don't mind adding the dependency, this is a decent solution. If you already know Silverlight or Flash, it could be relatively simple to implement.</p>\n\n<p>You can find tutorials on the internet for each of these options.</p>\n\n<p><strong>5. Web Sockets</strong></p>\n\n<p>If you are on the cutting edge, you can look into <a href=\"http://dev.w3.org/html5/websockets/\" rel=\"nofollow\">Web Sockets</a>. It's only available in the latest builds of modern browsers. It was part of HTML5, but it might be its own spec now. Regardless, it means that older browsers won't be able to handle it. But, if you don't mind limiting yourself to the latest of browsers, you can use this amazing feature.</p>\n\n<p>I believe that <a href=\"http://blog.chromium.org/2009/12/web-sockets-now-available-in-google.html\" rel=\"nofollow\">Chromium</a> is the only browser that currently supports it. However, there is work being done to implement this in Firefox and WebKit.</p>\n\n<p>I'll spare you the controversy and simply say that this does exactly what you want it to. The Abstract of the spec says it all. </p>\n\n<blockquote>\n  <p>This specification defines an API that enables Web pages to use the Web Sockets protocol for two-way communication with a remote host.</p>\n</blockquote>\n\n<p><strong>Special Mention</strong></p>\n\n<p>If you are interested in the world of Node JS, you can't go wrong with <a href=\"http://socket.io/\" rel=\"nofollow\">Socket IO</a>. It will implement the best of whichever technology is available to the browser. </p>\n\n<p><strong>Conclusion</strong></p>\n\n<p>The best option is Socket.IO on Node JS. However, for an ASP.Net solution, go for COMET or Web Sockets, if you can. Otherwise, using Flash/Silverlight isn't terrible. Finally, polling and long polling should be last resorts. You could always support one of these, then fall back to another if there isn't support for it in the client's browser.</p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I have to program websites, but I rather don't like the static HTML nature. I prefer more of a client-server architecture.</p>\n\n<p>Now I've figured, that with XMLhttp, you can basically dynamically update your page and send/request for information/action to/from a server. So this would basically cover the client area.</p>\n\n<p>But to complete a client-server architecture, it is necessary for the server to send/request information, too, without being queried.</p>\n\n<p>Is there any way, for example for a chat server, to send back a received message to all clients (the clients use a web browser) without that the clients have to query in a fixed interval? I want to implement that one can see while you type something in.</p>\n",
            "last_activity_date": 1304952554,
            "question_id": 2073939,
            "score": 8,
            "tags": [
                "javascript",
                "asp.net-mvc",
                "ajax",
                "json",
                "xmlhttprequest"
            ],
            "title": "AJAX and Client-Server Architecture with JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>The major thing I'm confused about is how I go about \"connecting\" the source to the 10 frequency band filters (+ associated gain node) since all the nodes only have a single input or output (including the destination).</p>\n</blockquote>\n\n<p>This is true, but don't think about it like a physical output that can only be connected to another physical input. A single output of a Web Audio node can be connected to multiple nodes, and a node can also receive multiple inputs. For example, let's say you wanted to chain an input node through 5 filters in parallel and then join them back together. You could do something like this:</p>\n\n<pre><code>source.connect(filter1);\nsource.connect(filter2);\nsource.connect(filter3);\nsource.connect(filter4);\nsource.connect(filter5);\n\nfilter1.connect(context.destination);\nfilter2.connect(context.destination);\nfilter3.connect(context.destination);\nfilter4.connect(context.destination);\nfilter5.connect(context.destination);\n</code></pre>\n\n<p>The key insight here is that calling .connect multiple times will not switch the output to a different node, but will simply <em>add additional output connections</em>. In other words, it's a \"fan out/fan in\" system.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>As Matt D said, there should be no problem connecting the filters to the same destination. </p>\n\n<p>I would however say that you probably want to use filters with type 5 (peaking), which lets all frequencies through and only amplifies/reduce at the frequency at which you've set the respective filter.frequency.value. That lets you connect the filters in series so you don't need 10 separate audio paths. You could also consider using a low-shelf filter as the first filter, and a hi-shelf filter as the tenth, which is rather common in equalizers. I can't remember if that's what winamp does, though.</p>\n\n<p>Finally, if you go with the peaking filters in series, you don't need a separate gain node for each frequency, you just set the filter.gain.value for the specific filters.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>By connecting every filter with the destination you are creating 5 paths (routes) so you will hear quintupling amplification of the source sound. It's not the correct way. You have to connect each filter in one line.</p>\n\n<pre><code>source.connect(filter1);\nfilter1.connect(filter2);\nfilter2.connect(filter3);\nfilter3.connect(filter4);\nfilter4.connect(filter5);\nfilter5.connect(context.destination);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm trying to wrap my head around using the Web Audio API to recreate something like<br>\nWinamp's 10-band equalizer.</p>\n\n<p><img src=\"http://cdn.head-fi.org/3/3d/1000x500px-LL-3da00ebd_winamp-eq.png\" alt=\"Winamp's 10-band equalizer\"></p>\n\n<p>From what I can gather, I have to create 10 <a href=\"https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html#BiquadFilterNode-section\">Biquad Filters</a>, set their <code>type</code> to <a href=\"https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html#BANDPASS\">2 (for a Bandpass filter)</a> and set their <code>frequency</code> to <code>[60, 170, 310, 600, 1000, 3000, 6000, 12000, 14000, 16000]</code> respectively. Once I have done that (and here's where I'm getting a little confused) I would then create a separate <a href=\"https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html#AudioGainNode-section\">Gain Node</a> for each frequency \"band\" and bind its value to a slider.</p>\n\n<pre><code>&lt;input id=\"someFreqBand\" type=\"range\" min=\"-12\" max=\"12\" step=\"0.1\" value=\"0\" onchange=\"slide()\"/&gt;\n</code></pre>\n\n<p>Assuming all of that is correct, then the only remaining step is to connect all 10 gain nodes to the Audio Context <code>destination</code> (which I imagine will take all 10 frequency \"bands\" and mix/sync them back together). Is this the right way to go about creating a Web Audio 10-band equalizer?</p>\n\n<p>The major thing I'm confused about is how I go about \"connecting\" the source to the 10 frequency band filters (+ associated gain node) since all the nodes only have a single input or output (including the destination).</p>\n",
            "last_activity_date": 1365489382,
            "question_id": 12738056,
            "score": 7,
            "tags": [
                "javascript",
                "html5-audio",
                "equalizer",
                "web-audio"
            ],
            "title": "Creating a 10-Band Equalizer Using Web Audio API"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><a href=\"http://smashinghub.com/7-jquery-parallax-and-scrolling-effect-plugins.htm\" rel=\"nofollow\"><strong>HERE</strong></a> you will find your plugin!</p>\n\n<p>It is Parallax effect.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>A great way to explore these things is to open the page using the <a href=\"https://addons.mozilla.org/en-us/firefox/addon/firebug/\" rel=\"nofollow\">firebug</a> plugin in firefox, or the developer console in chrome, and look at the page source.</p>\n\n<p>It also helps, if you try something, and then post what you're having trouble with.</p>\n\n<p>You can also achieve the effect using the jQuery plugins:</p>\n\n<ol>\n<li><a href=\"http://gsgd.co.uk/sandbox/jquery/easing\" rel=\"nofollow\">http://gsgd.co.uk/sandbox/jquery/easing</a></li>\n<li><a href=\"http://www.smoothdivscroll.com\" rel=\"nofollow\">http://www.smoothdivscroll.com</a></li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can do this with CSS. All you need is some divs that are the same height as the window, with different background images with the property <code>background-attachment: fixed;</code>.</p>\n\n<pre><code>#one\n{\n    background: url(http://images.buzzillions.com/images_products/07/02/iron-horse-maverick-elite-mountain-bike-performance-exclusive_13526_100.jpg);\n    background-repeat: no-repeat;\n    background-position: center center;\n    background-attachment:fixed;\n}\n\n#two\n{\n    background: url(http://img01.static-nextag.com/image/GMC-Denali-Road-Bike/1/000/006/107/006/610700673.jpg);\n    background-repeat: no-repeat;\n    background-position: center center;\n    background-attachment:fixed;\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/Kyle_Sevenoaks/mbhLN/\">http://jsfiddle.net/Kyle_Sevenoaks/mbhLN/</a></p>\n",
                    "is_accepted": true,
                    "score": 14
                }
            ],
            "body": "<p>I was wondering if anyone knows if there is a jquery plugin, or how to achieve this sort of effect that is visible on the 'collection' section of fashion label <a href=\"http://krystalrae.com/\">krystalrae.com</a></p>\n\n<p><a href=\"https://dl.dropbox.com/u/396112/Videos/krystal-rae-scroll-effect.mov\">Screen Capture Video</a></p>\n\n<p>Any tips or nudges in the right direction would be greatly appreciated!</p>\n\n<p>Thank you!</p>\n",
            "last_activity_date": 1346761204,
            "question_id": 12260031,
            "score": 7,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "css",
                "effect"
            ],
            "title": "How to achieve fixed position background scroll/reveal effect? jQuery plugin available?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>try to limit your <code>X</code> to 1 decimal</p>\n\n<pre><code>X.toFixed(1);\n</code></pre>\n\n<p>As you mentioned it works sometimes after a time of 1 second. Have you tried to set the position after the <code>playing</code> event fires? or maybe even the <code>canplaythrough</code> event</p>\n\n<p>Take a look at the source of <a href=\"http://www.w3.org/2010/05/video/mediaevents.html\" rel=\"nofollow\">this page</a> to see a whole list of events that can be used (in the javascript file)</p>\n",
                    "is_accepted": false,
                    "score": -2
                },
                {
                    "body": "<p>On iOS, videos load <a href=\"http://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html\" rel=\"nofollow\">at play time</a> (see item #2), not at page load time.  My guess is that the video is not loaded when you run <code>this.currentTime = X</code>, so it has no effect.  This also explains why delaying the operation can sometimes fix the problem: sometimes it has loaded after a second, sometimes not.</p>\n\n<p>I don't have an iOS device to test, but I'd suggest binding a <a href=\"https://developer.mozilla.org/en/DOM/Media_events\" rel=\"nofollow\"><code>loadeddata</code></a> listener to the video so that your <code>currentTime</code> manipulation only happens after the video begins loading:</p>\n\n<pre><code>// within the play event handler...\nif(!isIOSDevice) {\n     this.currentTime = X;\n} else {\n    function trackTo(evt) {\n        evt.target.currentTime = X;\n        evt.target.removeEventListener(\"loadeddata\", trackTo)\n    });\n    this.addEventListener(\"loadeddata\", trackTo);\n}\n</code></pre>\n\n<p>You'll need to set <code>isIOSDevice</code> elsewhere in your code, based on whether the current visit comes from an iOS device.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Appreciate the attempts for answers below. Unfortunately, had to resort to just checking inside timeupdate if the currenttime was > 0 and &lt; 1, if it was then went to that part of the video and removed the listener to timeupdate.</p>\n",
                    "is_accepted": true,
                    "score": -2
                },
                {
                    "body": "<p>While this question is quite old the issue remains open. I discovered a solution that works on multiple tested iPads (1+2+3) for iOS 5 and 6 (iOS3+4 not tested):</p>\n\n<p>Basically you first have to wait for the initial <code>playing</code> event, then add a one-time binder for <code>canplaythrough</code> and then for <code>progress</code> - only then can you actually change the the <code>currentTime</code> value. Any tries before that will fail!</p>\n\n<p>The video has to start playing at first, which makes a black layer on top of the video element kinda handy. Unfortunately, sounds within the video canNOT be deactivated via JavaScript --> not a perfect UX</p>\n\n<pre><code>// https://github.com/JoernBerkefeld/iOSvideoSeekOnLoad / MIT License \n// requires jQuery 1.8+\n// seekToInitially (float) : video-time in seconds\nfunction loadingSeek(seekToInitially, callback) {\n    if(\"undefined\"==typeof callback) {\n        callback = function() {};\n    }\n    var video = $(\"video\"),\n        video0 = video[0],\n        isiOS = navigator.userAgent.match(/(iPad|iPhone|iPod)/) !== null,\n        test;\n    if(isiOS) { // get the iOS Version\n        test =navigator.userAgent.match(\"OS ([0-9]{1})_([0-9]{1})\");\n        // you could add a loading spinner and a black layer onPlay HERE to hide the video as it starts at 0:00 before seeking\n        // don't add it before or ppl will not click on the play button, thinking the player still needs to load\n    }\n    video.one(\"playing\",function() { \n        if(seekToInitially &gt; 0) {\n            //log(\"seekToInitially: \"+seekToInitially);\n            if(isiOS) {\n                // iOS devices fire an error if currentTime is set before the video started playing\n                // this will only set the time on the first timeupdate after canplaythrough... everything else fails\n                video.one(\"canplaythrough\",function() { \n                    video.one(\"progress\",function() { \n                        video0.currentTime = seekToInitially;\n                        video.one(\"seeked\",function() {\n                            // hide the loading spinner and the black layer HERE if you added one before\n\n                            // optionally execute a callback function once seeking is done\n                            callback();\n                        });\n                    });\n                });\n            } else {\n                // seek directly after play was executed for all other devices\n                video0.currentTime = seekToInitially; \n\n                // optionally execute a callback function once seeking is done\n                callback();\n            }\n        } else {\n            // seek not necessary\n\n            // optionally execute a callback function once seeking is done\n            callback();\n        }\n    });\n}\n</code></pre>\n\n<p>the whole thing can be downloaded from <a href=\"https://github.com/JoernBerkefeld/iOSvideoSeekOnLoad/\" rel=\"nofollow\" title=\"my GitHub repo\">my GitHub repo</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/users/710446/apsillers\">apsillers</a> is right.  Once the video starts playing, the Quicktime player will come up and the video will not be seekable until the first 'progress' event is triggered.  If you try to seek before then, you'll get an invalid state error.  Here's my code:</p>\n\n<pre><code>cueVideo = function (video, pos) {\n    try {\n        video.currentTime = pos;\n\n    // Mobile Safari's quicktime player will error if this doesn't work.\n    } catch(error) {\n        if (error.code === 11) { // Invalid State Error\n\n            // once 'progress' happens, the video will be seekable.\n            $(video).one('progress', cueVideo.bind(this, video, pos));\n        }\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Very strange bug I can't seems to figure out.</p>\n\n<p>I am trying to get an HTML5 video to play from a certain position when a user hits play. I am trying to have it seek right when the video starts to play.</p>\n\n<p>On my play event I do <code>this.currentTime = X</code></p>\n\n<p>On the browser it works fine. But on the IPad, when I play the video, the video doesn't seek to the right position (it starts from zero).</p>\n\n<p>Even more oddly, if I do the <code>this.currentTime = X</code> call in a setTimeout of let's say 1 second, it works on the IPad (sometimes).</p>\n",
            "last_activity_date": 1401896043,
            "question_id": 11252062,
            "score": 7,
            "tags": [
                "javascript",
                "ios",
                "ipad",
                "html5",
                "video"
            ],
            "title": "Playing HTML5 Video on IPad and seeking"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I think the cleanest solution would be to change the base64 encoder to operate directly on a Uint8Array instead of a string.</p>\n\n<p>Important: You'll need to set the binaryType of the web socket to \"arraybuffer\" for this. </p>\n\n<p>The onmessage method should look like this:</p>\n\n<pre><code>socket.onmessage = function(msg) {\n    var arrayBuffer = msg.data;\n    var bytes = new Uint8Array(arrayBuffer);\n\n    var image = document.getElementById('image');\n    image.src = encode(bytes);\n};\n</code></pre>\n\n<p>The converted encoder should then look like this (based on <a href=\"http://stackoverflow.com/a/246813/1464608\">http://stackoverflow.com/a/246813/1464608</a>):</p>\n\n<pre><code>// public method for encoding an Uint8Array to base64\nfunction encode (input) {\n    var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    var output = \"\";\n    var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\n    var i = 0;\n\n    while (i &lt; input.length) {\n        chr1 = input[i++];\n        chr2 = i &lt; input.length ? input[i++] : Number.NaN; // Not sure if the index \n        chr3 = i &lt; input.length ? input[i++] : Number.NaN; // checks are needed here\n\n        enc1 = chr1 &gt;&gt; 2;\n        enc2 = ((chr1 &amp; 3) &lt;&lt; 4) | (chr2 &gt;&gt; 4);\n        enc3 = ((chr2 &amp; 15) &lt;&lt; 2) | (chr3 &gt;&gt; 6);\n        enc4 = chr3 &amp; 63;\n\n        if (isNaN(chr2)) {\n            enc3 = enc4 = 64;\n        } else if (isNaN(chr3)) {\n            enc4 = 64;\n        }\n        output += keyStr.charAt(enc1) + keyStr.charAt(enc2) +\n                  keyStr.charAt(enc3) + keyStr.charAt(enc4);\n    }\n    return output;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Thanks, it's working great!!</p>\n\n<p>So I figure I'd share my final javascript code:</p>\n\n<pre><code>var socket = new WebSocket('ws://'+host+':'+port, protocol);\nsocket.binaryType = 'arraybuffer';\n\ntry {\n    socket.onopen = function() {\n        document.getElementById('status').style.backgroundColor = '#40ff40';\n        document.getElementById('status').textContent = 'Connection opened';\n    }\n\n    socket.onmessage = function(msg) {\n        var arrayBuffer = msg.data;\n        var bytes = new Uint8Array(arrayBuffer);\n\n        var image = document.getElementById('image');\n        image.src = 'data:image/png;base64,'+encode(bytes);\n    }\n\n    socket.onclose = function(){\n        document.getElementById('status').style.backgroundColor = '#ff4040';\n        document.getElementById('status').textContent = 'Connection closed';\n    }\n} catch(exception) {\n    alert('Error:'+exception);\n}\n</code></pre>\n\n<p>don't really understand why the blob version is so tricky but this did the trick!</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>You may write it much simpler:</p>\n\n<pre><code>socket.onmessage = function(msg) {\n   var arrayBuffer = msg.data;\n   var bytes = new Uint8Array(arrayBuffer);\n   var blob        = new Blob([bytes.buffer]);\n\n   var image = document.getElementById('image');\n\n   var reader = new FileReader();\n   reader.onload = function(e) {\n       image.src = e.target.result;\n   };\n   reader.readAsDataURL(blob);\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm currently working on a WebSocket application that is displaying images send by a C++ server.\nI've seen a couple of topics around there but I can't seem to get rid of this error in Firefox:</p>\n\n<blockquote>\n  <p>Image corrupt or truncated: data:image/png;base64,[some data]</p>\n</blockquote>\n\n<p>Here's the Javascript code I'm using to display my blob:</p>\n\n<pre><code>socket.onmessage = function(msg) {\n    var blob = msg.data;\n\n    var reader = new FileReader();\n    reader.onloadend = function() {\n        var string = reader.result;\n        var buffer = Base64.encode(string);\n        var data = \"data:image/png;base64,\"+buffer;\n\n        var image = document.getElementById('image');\n        image.src = data;\n    };\n    reader.readAsBinaryString(blob);\n}\n</code></pre>\n\n<p>I'm using the image of a red dot that I found on this topic: <a href=\"http://stackoverflow.com/a/4478878/1464608\">http://stackoverflow.com/a/4478878/1464608</a>\nAnd the Base64 class is from here: <a href=\"http://stackoverflow.com/a/246813/1464608\">http://stackoverflow.com/a/246813/1464608</a></p>\n\n<p>But the base64 outcome I get doesn't match and Firefox retrieves me an error of the image being corrupted.</p>\n\n<p>I know this ain't much informations but I don't have a clue where to look :/\nAny help is more than welcome!!</p>\n",
            "last_activity_date": 1416574737,
            "question_id": 11089732,
            "score": 7,
            "tags": [
                "javascript",
                "html5",
                "websocket",
                "blob",
                "filereader"
            ],
            "title": "Display image from blob using javascript and websockets"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You need to separate out the projection so you can use it again to project the lat/lon of your point:</p>\n\n<pre><code>var map = svg.append(\"g\").attr(\"class\", \"map\");\nvar projection = d3.geo.albers()\n    .origin([3.4,46.8])\n    .scale(12000)\n    .translate([590, 570]);\nvar path = d3.geo.path().projection(projection);\nd3.json('myjsonfile.json', function(json) {\n    map.selectAll('path')\n        .data(json.features)\n      .enter().append('path').attr('d', path);\n    // now use the projection to project your coords\n    var coordinates = projection([mylon, mylat]);\n    map.append('svg:circle')\n        .attr('cx', coordinates[0])\n        .attr('cy', coordinates[1])\n        .attr('r', 5);\n});\n</code></pre>\n\n<p>Another way to do this is just to translate the dot by the projected coords:</p>\n\n<pre><code>map.append('svg:circle')\n    .attr(\"transform\", function(d) { \n        return \"translate(\" + projection(d.coordinates) + \")\"; \n    })\n    .attr('r', 5);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 14
                }
            ],
            "body": "<p>I have created a map from a mbtile converted to a geojson, the projection is WGS84. I load it like that :</p>\n\n<pre><code>var map = svg.append(\"g\").attr(\"class\", \"map\");\nvar path = d3.geo.path().projection(d3.geo.albers().origin([3.4,46.8]).scale(12000).translate([590, 570]));\n    d3.json('myjsonfile.json', function(json) {\n        map.selectAll('path').data(json.features).enter().append('path').attr('d', path)\n});\n</code></pre>\n\n<p>Now I would like to add a svg element (a dot, a circle, a point (i don't know)) with its (lat,lng) coordinate in my svg.</p>\n\n<p>I can't figure how to do that.</p>\n",
            "last_activity_date": 1369422909,
            "question_id": 10261992,
            "score": 7,
            "tags": [
                "javascript",
                "svg",
                "d3.js"
            ],
            "title": "d3.js Add a circle in d3.geo.path"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>This is because jQuery.when() expects jQuery.Deferred instances while load() returns an jQuery instance (see <a href=\"http://api.jquery.com/jQuery.when/\">http://api.jquery.com/jQuery.when/</a> and <a href=\"http://api.jquery.com/load/\">http://api.jquery.com/load/</a>).</p>\n\n<p>You can work around this issue:</p>\n\n<pre><code>// Create two Deferred instances that can be handed to $.when()\nvar d1 = new $.Deferred();\nvar d2 = new $.Deferred();\n\n// Set up the chain of events...\n$.when(d1, d2).then(function() {\n    alert('done');\n});\n\n// And finally: Make the actual ajax calls:\n$('#detail1').load('/getInfo.php', function() { d1.resolve(); });\n$('#detail2').load('/getOther.php', function() { d2.resolve(); });\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>I do a similar code but for images in a more dynamic way. Hope that it help.</p>\n\n<pre><code>var deferreds = [];\n// Create a deferred for all images\n$('.my-img-class').each(function() {\n    deferreds.push(new $.Deferred());\n});\nvar i = 0;\n// When image is loaded, resolve the next deferred\n$('.my-img-class').load(function() {\n    deferreds[i].resolve();\n    i++;\n});\n// When all deferreds are done (all images loaded) do some stuff\n$.when.apply(null, deferreds).done(function() { \n    // Do some stuff\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I want to have one callback function after actions are done, I'm trying something like this:</p>\n\n<pre><code>$.when(\n    $('#detail1').load('/getInfo.php'),\n    $('#detail2').load('/getOther.php')\n        ).then(function(a,b){\n            alert(\"done\");\n        }); \n</code></pre>\n\n<p>The problem is that the callback function is firing before the actions are finished.</p>\n",
            "last_activity_date": 1415788187,
            "question_id": 9856924,
            "score": 7,
            "tags": [
                "javascript",
                "ajax",
                "jquery"
            ],
            "title": "Jquery .when and multiple .load"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>OK, so there's no one-size-fits-all for this. You can get pretty close, but it will never work on <em>every</em> website, since a website could possibly have multiple login forms, or multiple fields that make up the username (some banks have that).</p>\n\n<p>But this will get you in the right direction. To get all the password fields (mostly just one), use this:</p>\n\n<pre><code>document.querySelectorAll(\"input[type='password']\")\n</code></pre>\n\n<p>To get all the text input fields, use this:</p>\n\n<pre><code>document.querySelectorAll(\"input[type='text']\")\n</code></pre>\n\n<p>For the text input fields, you'll most likely get multiple results (maybe search fields and stuff). So you'll have to iterate over them and look for common IDs or names, like \"username\", \"user\", \"user_name\", \"UID\" and so on.</p>\n\n<p>This is how you could use it in Objective-C:</p>\n\n<pre><code>- (void)webViewDidFinishLoad:(UIWebView *)webView {\n    NSString *savedUsername = @\"peter\";\n    NSString *savedPassword = @\"Pan123\";\n\n    if (savedUsername.length != 0 &amp;&amp; savedPassword.length != 0) { \n        //create js strings\n        NSString *loadUsernameJS = [NSString stringWithFormat:@\"var inputFields = document.querySelectorAll(\\\"input[type='text']\\\"); \\\n        for (var i = inputFields.length &gt;&gt;&gt; 0; i--;) { inputFields[i].value = '%@';}\", savedUsername];\n        NSString *loadPasswordJS = [NSString stringWithFormat:@\"document.querySelectorAll(\\\"input[type='password']\\\").value ='%@'\", savedPassword];\n\n        //autofill the form\n        [self.webView stringByEvaluatingJavaScriptFromString: loadUsernameJS];\n        [self.webView stringByEvaluatingJavaScriptFromString: loadPasswordJS];\n    }\n}\n</code></pre>\n\n<p>Please note: It fills <em>every</em> textfield with the username and only the first password field with the password.</p>\n\n<p>Enjoy.</p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>I don't think finding a reference to the input elements will be difficult using javascript, but it's amending them that is not straightforward with the UIWebView.</p>\n\n<p>A hacky way to achieve what you want in the way you describe could be done by getting the HTML from the UIWebView, amending it, then loading it back in. E.g.:</p>\n\n<pre><code>// Get the HTML from the UIWebView\nNSMutableString *html = [[[self.webView stringByEvaluatingJavaScriptFromString:@\"document.documentElement.outerHTML;\"] mutableCopy] autorelease];\n\n// Find the range of the first input element.\nNSRange firstInputRange = [html rangeOfString:@\"&lt;input\" options:NSCaseInsensitiveSearch];\n// Check if it was found...\nif (firstInputRange.location != NSNotFound) {\n    // Add replace with the populated value attribute appended.\n    [html replaceCharactersInRange:firstInputRange withString:@\"&lt;input value='username'\"];\n\n    // Now do the same for the second input range, checking the html after the first input.\n    NSRange secondInputRange = [html rangeOfString:@\"&lt;input\" options:NSCaseInsensitiveSearch range:NSMakeRange(firstInputRange.location+firstInputRange.length, html.length - firstInputRange.location - firstInputRange.length)];\n    // And if found, append the populated value attribute.\n    if (secondInputRange.location != NSNotFound) {\n        [html replaceCharactersInRange:secondInputRange withString:@\"&lt;input value='password'\"];\n    }\n\n}\n\n// Finally, load the amended HTML back into the UIWebView/\n[self.webView loadHTMLString:html baseURL:nil];\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I had some problems with finding the fields, so I adapted the code to target the fields more specific:</p>\n\n<pre><code>   - (void)webViewDidFinishLoad:(UIWebView*)theWebView\n    {\n\n    NSString *savedUsername = @\"username\";\n    NSString *savedPassword = @\"pass\";\n\n      if (savedUsername.length != 0 &amp;&amp; savedPassword.length != 0) {\n\n          NSString *loadUsernameJS = [NSString stringWithFormat:@\"var inputFields = document.getElementsByTagName('input'); \\\n                                for (var i = inputFields.length &gt;&gt;&gt; 0; i--;) { if(inputFields[i].name == 'username') inputFields[i].value = '%@';}\", savedUsername];\n\n          NSString *loadPasswordJS = [NSString stringWithFormat:@\" \\\n                                for (var i = inputFields.length &gt;&gt;&gt; 0; i--;) { if(inputFields[i].name == 'password') inputFields[i].value = '%@';}\", savedPassword];\n\n    //autofill the form\n       [theWebView stringByEvaluatingJavaScriptFromString: loadUsernameJS];\n       [theWebView stringByEvaluatingJavaScriptFromString: loadPasswordJS];\n      }\n\n\n    return [super webViewDidFinishLoad:theWebView];\n  }      \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Based on a previous answer I created this 3 methods.</p>\n\n<p>This method will fill the username/email fields it should work on a lot of cases :</p>\n\n<pre><code>- (void)completeUserFieldsForWebView:(UIWebView *)webView withUsername:(NSString *)username {\n\n    NSString *loadUsernameJS =\n    [NSString stringWithFormat:@\"var inputFields = document.querySelectorAll(\\\"input[type='email']\\\"); \\\n     for (var i = inputFields.length &gt;&gt;&gt; 0; i--;) { inputFields[i].value = '%@';}\", username];\n    NSString *loadText =\n    [NSString stringWithFormat:@\"var inputFields = document.querySelectorAll(\\\"input[type='text']\\\"); \\\n     for (var i = inputFields.length &gt;&gt;&gt; 0; i--;) { inputFields[i].value = '%@';}\", username];\n    [webView stringByEvaluatingJavaScriptFromString: loadUsernameJS];\n    [webView stringByEvaluatingJavaScriptFromString: loadText];\n\n}\n</code></pre>\n\n<p>This one will fill the password fields:</p>\n\n<pre><code>- (void)completePasswordFieldsForWebView:(UIWebView *)webView withPassword:(NSString *)password {\n\n    NSString *loadPasswordJS =\n    [NSString stringWithFormat:@\"var passFields = document.querySelectorAll(\\\"input[type='password']\\\"); \\\n     for (var i = passFields.length&gt;&gt;&gt; 0; i--;) { passFields[i].value ='%@';}\", password];\n    [webView stringByEvaluatingJavaScriptFromString: loadPasswordJS];\n\n}\n</code></pre>\n\n<p>And to perfom the sign-in :</p>\n\n<pre><code>- (void)clickOnSubmitButtonForWebView:(UIWebView *)webView {\n\n    NSString *performSubmitJS = @\"var passFields = document.querySelectorAll(\\\"input[type='submit']\\\"); \\\n    passFields[0].click()\";\n    [webView stringByEvaluatingJavaScriptFromString:performSubmitJS];\n\n} \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>i have a UIWebView which acts like an internet browser and loads the HTML of the webpages that it is at.</p>\n\n<p>in the webViewController, the method webViewDidFinishLoad, would have loaded the HTML from the webpage when the webpage finish loading on the UIWebView.</p>\n\n<p>From the HTML i would like to <strong>sieve</strong> out textfields to facilitate the auto population of that textfield with values stored in my database.</p>\n\n<p>Any methods to do that? The method should be able to work on all websites.</p>\n\n<p><a href=\"http://stackoverflow.com/q/6089809/1110469\">Set text for a textfield in UIWebView</a> has almost what might help me, but i have tried it and the text field never got filled.</p>\n\n<p>In a login page there will be two text fields\nso i tried using </p>\n\n<pre><code>document.getElementsByTagName('INPUT')[0].value\ndocument.getElementsByTagName('INPUT')[1].value \n</code></pre>\n\n<p>to input in the values but no magic.</p>\n\n<p>Edit:\ni have tried other position in the array. the username and password for Facebook is [3] and[4] whereas for amazon it is [11] and [14].\nso the position of where the fields are using the above method is kinda random. Any other suggestion that will work for all website?</p>\n\n<p>Edit2:\ni could try </p>\n\n<pre><code>document.getElementsById('id_name').value\n</code></pre>\n\n<p>but the ID method is not going to work for me as i need a universal method that will identify textfields on any websites(all websites uses different ID names)</p>\n\n<p>Also it seems to me that some of the websites have consistently set this tabindex=\"1\" for username and tabindex=\"2\" for password. </p>\n\n<p>for instance in the webpage like Facebook: </p>\n\n<pre><code>&lt;input type=\"text\" class=\"inputtext\" name=\"email\" id=\"email\" value=\"\" tabindex=\"1\" /&gt;\n&lt;input type=\"password\" class=\"inputtext\" name=\"pass\" id=\"pass\" tabindex=\"2\" /&gt; \n</code></pre>\n\n<p>amazon: </p>\n\n<pre><code>&lt;input id=\"ap_email\" name=\"email\" value=\"\" type=\"email\" size=\"30\" maxlength=\"128\" tabindex=\"1\" autocorrect=\"off\" autocapitalize=\"off\" /&gt;\n&lt;input id=\"ap_password\" name=\"password\" type=\"password\" maxlength=\"1024\" size=\"20\"  tabindex=\"2\" onkeypress=\"displayCapsWarning(event,'ap_caps_warning', this);\" class=\"password\"/&gt; \n</code></pre>\n\n<p>dbs bank:</p>\n\n<pre><code>&lt;input type=\"text\" tabindex=\"1\" maxlength=\"20\" size=\"32\" name=\"UID\" id=\"UID\"&gt;\n&lt;input type=\"password\" onkeyup=\"keyUp(event)\" onkeydown=\"return onlyNumerics(event)\" tabindex=\"2\" maxlength=\"9\" size=\"32\" name=\"PIN\" id=\"PIN\" autocomplete=\"off\"&gt;\n</code></pre>\n\n<p>but i didn't see this tabindex in google: </p>\n\n<pre><code>&lt;input type=\"text\" spellcheck=\"false\" name=\"Email\" id=\"Email\" value=\"\"&gt;\n&lt;input type=\"password\" name=\"Passwd\" id=\"Passwd\"&gt;\n</code></pre>\n\n<p>any suggestion?</p>\n\n<p>The Ultimate goal is to be able to sieve out Username and Password Text field for all/any websites. =)</p>\n",
            "last_activity_date": 1402201608,
            "question_id": 9715100,
            "score": 7,
            "tags": [
                "javascript",
                "html",
                "ios",
                "uiwebview",
                "textfield"
            ],
            "title": "Finding and auto-filling HTML login forms in a UIWebView using JavaScript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I took your example and dropped it in an a node app using express. Your HTML code was placed in a static HTML file under public. Your example worked fine. The code is shown below. I wanted to make sure both the socket.io script file and the HTML file were being served up properly.</p>\n\n<pre><code>var http = require('http'),  \n    io = require('socket.io'),\n    express = require('express');\n\nvar app = module.exports = express.createServer();\n\n// Configuration\n\napp.configure(function(){\n  app.set('views', __dirname + '/views');\n  app.set('view engine', 'jade');\n  app.use(express.bodyParser());\n  app.use(express.methodOverride());\n  app.use(app.router);\n  app.use(express.static(__dirname + '/public'));\n});\n\nif (!module.parent) {\n  app.listen(9000);\n  console.log(\"server started at %s\", (new Date()).toUTCString());\n  console.log(\"listening on port %d\", app.address().port);\n}\n\n\n// socket.io \nvar socket = io.listen(app); \nsocket.on('connection', function(client){ \n    console.log(\"New client is here!\");\n    client.send(\"hello world\");\n    client.on('message', function(msg){ console.log(\"client has sent:\"+msg); }) ;\n    client.on('disconnect', function(){ console.log(\"Client has disconnected\"); }) ;\n    client.on('disconnect', function(){ }) \n }); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I also(like Derrish) like to use <a href=\"http://expressjs.com\" rel=\"nofollow\">express</a> framework to simplify my work(<strong>AWESOME :)</strong>). You can download and extract this sample from <a href=\"http://dl.dropbox.com/u/314941/socketio.zip\" rel=\"nofollow\">http://dl.dropbox.com/u/314941/socketio.zip</a>. I believe you don't even have to install these modules because I have bundled them locally(<strong>just run</strong>) thanks to npm :). </p>\n\n<h2>How to install:</h2>\n\n<pre><code>alfred@alfred-laptop:~/tmp/socketio$ uname -a\nLinux alfred-laptop 2.6.35-28-generic #50-Ubuntu SMP Fri Mar 18 19:00:26 UTC 2011 i686 GNU/Linux\nalfred@alfred-laptop:~/tmp$ wget http://dl.dropbox.com/u/314941/socketio.zip\nalfred@alfred-laptop:~/tmp$ unzip socketio.zip\nalfred@alfred-laptop:~/tmp$ cd socketio/\nalfred@alfred-laptop:~/tmp/socketio$ node -v\nv0.4.7\nalfred@alfred-laptop:~/tmp/socketio$ npm -v\n1.0.6\nalfred@alfred-laptop:~/tmp/socketio$ node app.js\n</code></pre>\n\n<h2>The code:</h2>\n\n<p><strong>app.js:</strong></p>\n\n<pre><code>// npm install express\n// npm install socket.io\n\nvar sys         = require('sys'),\n        express = require('express'),\n        app         = express.createServer('127.0.0.1'),\n        io          = require('socket.io'); \n\napp.use(express.static(__dirname + '/public'));\n\napp.get('/', function (req, res) {\n    res.send('Hello World');\n});\n\napp.listen(3000);\n\nvar socket = io.listen(app); \n\nsocket.on('connection', function (client){ \n  // new client is here!\n  setTimeout(function () {\n        client.send('Waited two seconds!');\n    }, 2000);\n\n  client.on('message', function () {\n  }) ;\n\n  client.on('disconnect', function () {\n  });\n});\n</code></pre>\n\n<p><strong>public/index.html:</strong></p>\n\n<pre><code>&lt;html&gt;\n&lt;p id=\"text\"&gt;socket.io&lt;/p&gt;\n\n&lt;script src=\"socket.io/socket.io.js\"&gt;&lt;/script&gt; \n&lt;script src=\"jquery-1.6.1.min.js\"&gt;&lt;/script&gt;&lt;!-- Downloaded Jquery --&gt;\n\n&lt;script&gt; \n    $(document).ready(function(){\n\n        var socket  = new io.Socket(),\n                text        = $('#text');\n\n        socket.connect();\n\n        socket.on('connect', function () {\n            text.html('connected');\n        });\n\n        socket.on('message', function (msg) {\n            text.html(msg);\n        });\n\n        socket.on('disconnect', function () {\n            text.html('disconnected');\n        });\n\n    });\n&lt;/script&gt; \n</code></pre>\n\n<h2>Listing of my modules:</h2>\n\n<pre><code>alfred@alfred-laptop:~/tmp/socketio$ npm ls\n/home/alfred/tmp/socketio\n\u251c\u2500\u252c express@2.3.11 \n\u2502 \u251c\u2500\u2500 connect@1.4.6 \n\u2502 \u251c\u2500\u2500 mime@1.2.2 \n\u2502 \u2514\u2500\u2500 qs@0.1.0 \n\u2514\u2500\u2500 socket.io@0.6.18\n</code></pre>\n\n<h2>Installed modules(NOT necessary):</h2>\n\n<pre><code>npm install express\nnpm install socket.io\n</code></pre>\n\n<h2>Browser will display:</h2>\n\n<ol>\n<li><code>socket.io</code> on start, but probably you can't see this because it will be replaced with <code>connected</code>.</li>\n<li><code>connected</code> when the user connects to socket.io.</li>\n<li>After 2 seconds it will display <code>Waited two seconds!</code><img src=\"http://i.stack.imgur.com/gddpD.png\" alt=\"image\"></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<h1>Express 3.0 + Socket.io working example</h1>\n\n<h3>server ( app.js )</h3>\n\n<pre><code>var express = require('express');\n    var app = express.createServer();\n    var socket = require('socket.io');\n    app.configure(function(){\n        app.use(express.static(__dirname + '/'));\n    });\n    var server = app.listen(8081);\n    var io = socket.listen(server);\n    io.sockets.on('connection', function (socket) {\n        console.log(\"connnect\");\n        socket.on('disconnect', function (socket) {\n        console.log(\"disconnect\");\n     });\n}); \n</code></pre>\n\n<h3>client ( index.html )</h3>\n\n<pre><code>&lt;script src=\"/socket.io/socket.io.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    var socket = io.connect('http://localhost:8081');\n&lt;/script&gt;\n</code></pre>\n\n<p>you can fork the code using the link below\n<a href=\"https://github.com/sreekumar-kr/Expree3.0---Socket.IO\" rel=\"nofollow\">https://github.com/sreekumar-kr/Expree3.0---Socket.IO</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I\u2019m using NodeJS v0.4.8 and the latest Version of socket.io from</p>\n\n<blockquote>\n  <p>npm install socket.io</p>\n</blockquote>\n\n<p>on Ubuntu:</p>\n\n<blockquote>\n  <p>Linux mars 2.6.38-8-generic #42-Ubuntu SMP Mon Apr 11 03:31:50 UTC 2011 i686 i686 i386 GNU/Linux</p>\n</blockquote>\n\n<p>The following code unfortunately doesn't produce any output, wheter on client, nor on server side.</p>\n\n<p>Does anybody have a clue?</p>\n\n<h2>SERVER-SIDE</h2>\n\n<pre><code>var http = require('http'),  \nio = require('socket.io'),\nfs = require('fs'),\nsys = require('sys');\n\nrespcont = fs.readFileSync('testclient.js');\n\nserver = http.createServer(function(req, res){\n    res.writeHead(200, {'Content-Type': 'text/html'}); \n    res.end(respcont);\n});\nserver.listen(8082);\n\nvar socket = io.listen(server); \nsocket.on('connection', function(client){ \n\n    sys.puts(\"New client is here!\");\n    client.send(\"hello world\");\n\n    client.on('message', function(msg) { sys.puts(\"client has sent:\"+msg); }) ;\n    client.on('disconnect', function() { sys.puts(\"Client has disconnected\"); }) ;\n}); \n</code></pre>\n\n<h2>CLIENT-SIDE</h2>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;script type=\"text/javascript\" src=\"http://localhost:8082/socket.io/socket.io.js\"&gt;&lt;/script&gt;\n&lt;script&gt; \n    var socket = new io.Socket(null,{port:8082,rememberTransport:true,timeout:1500});\n    socket.connect();\n    socket.on('connect', function() { \n        console.log('connected to server'); \n        socket.send('Hi Server...'); \n    });\n\n    socket.on('message', function() { \n        console.log('received a message!');\n    });\n\n    socket.on('disconnect', function() { \n        console.log('disconnected from server'); \n    });\n\n&lt;/script&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The output from NodeJS (NOT the sys.puts(\"...\") calls) is:</p>\n\n<blockquote>\n  <p>info  - socket.io started    debug -\n  served static /socket.io.js    debug -\n  client authorized    info  - handshake\n  authorized    info  - handshaken\n  b61a5c2751c1c8c8493db4b79d19e779</p>\n</blockquote>\n",
            "last_activity_date": 1362569950,
            "question_id": 6411070,
            "score": 7,
            "tags": [
                "javascript",
                "node.js",
                "comet",
                "socket.io"
            ],
            "title": "NodeJS + socket.io: simple Client/Server example not working"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<blockquote>\n  <ul>\n  <li><strong>DEMO:</strong> <a href=\"http://so.devilmaycode.it/retrieve-an-image-from-the-server-store-it-in-localstorage-and-display-it\" rel=\"nofollow\">http://so.devilmaycode.it/retrieve-an-image-from-the-server-store-it-in-localstorage-and-display-it</a></li>\n  </ul>\n</blockquote>\n\n<p><em><strong>Javascript (AJAX call)</em></strong></p>\n\n<pre><code>function LoadImg(filename) {\n    var xmlhttp;\n    if (window.XMLHttpRequest) { // code for IE7+, Firefox, Chrome, Opera, Safari\n        xmlhttp = new XMLHttpRequest();\n    } else { // code for IE6, IE5\n        xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    xmlhttp.onreadystatechange = function() {\n        if (xmlhttp.readyState == 4 &amp;&amp; xmlhttp.status == 200) {     \n            document.getElementById(\"documentHolder\").src = \"data:image/png;base64,\" + xmlhttp.responseText;\n        }\n    };    \n    xmlhttp.open(\"GET\", 'load.php?LoadImg='+filename );\n    xmlhttp.send(null);\n}\n</code></pre>\n\n<p><em><strong>PHP ( load.php )</em></strong></p>\n\n<pre><code>&lt;?php\n if (isset($_GET['LoadImg'])) {\n  header(\"Content-Type: image/png\");\n  $file = file_get_contents($_GET['LoadImg']);\n  echo base64_encode($file);\n}\n?&gt;\n</code></pre>\n\n<hr>\n\n<p>Read this may help you:</p>\n\n<blockquote>\n  <ul>\n  <li><a href=\"http://stackoverflow.com/questions/522897/base-64-encode-vs-loading-an-image-file\">Base 64 encode vs loading an image file</a></li>\n  <li><a href=\"http://stackoverflow.com/questions/2084873/how-to-encode-image-data-within-an-html-file\">How to encode image data within an HTML file?</a></li>\n  <li><a href=\"http://stackoverflow.com/questions/246801/how-can-you-encode-to-base64-using-javascript\">How can you encode to Base64 using Javascript?</a></li>\n  <li><a href=\"http://stackoverflow.com/questions/934012/get-image-data-in-javascript\">Get image data in Javascript?</a></li>\n  </ul>\n</blockquote>\n\n<p><strong>PS:</strong> maybe your <code>Base64</code> is wrong?</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>Turns out, AJAX can't be used to reliably transfer binary data. The solution is to run the Base64 encoding server-side, and transfer the resulting string through AJAX.</p>\n\n<p>The above php-code works. For whoever is looking for a ASP.Net / C# solution:</p>\n\n<pre><code>    public string Image(string relpath)\n    {\n        Response.ContentType = \"image/jpeg\";\n\n        string base64;\n        string filename = Request.PhysicalApplicationPath + relpath;\n        try\n        {\n            using (var fs = new FileStream(filename, FileMode.Open, FileAccess.Read))\n            {\n                var buffer = new byte[fs.Length];\n                fs.Read(buffer, 0, (int)fs.Length);\n                base64 = Convert.ToBase64String(buffer);\n            }\n        }\n        catch (IOException e)\n        {\n            return filename + \" / \" + e.Message;\n        }\n        return base64;\n    }\n</code></pre>\n\n<p>Please note that this code is NOT SECURE to expose directly to the outer world.\nI personally use a wrapper-function that parses the path from a db.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can get the data uri (which will contain the base 64 encoding) via JavaScript using the HTML5 canvas element. </p>\n\n<pre><code>        // I'm assuming here you've put the image in an &lt;img&gt; tag on the page already.\n        // If not, you'll need to adapt this a bit, or perhaps this approach is just\n        // not right for your situation.\n        var image = document.getElementById('id-of-image-you-want');\n\n        var canvas = w.document.createElement(\"canvas\"); \n        canvas.width = image.width;\n        canvas.height = image.height;\n\n        var ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(image, 0, 0);\n        try {\n            var dataUri = canvas.toDataURL();    \n        } catch (e) {\n            console.log(\"D'oh!\"); // Improve this error handling, obviously.\n        }\n</code></pre>\n\n<p><code>dataUri</code> will now contain the data uri for the image which will contain, along with a short prefix, the base 64 encoding of the image.</p>\n\n<p>Be sure to add detection for canvas support. IE 8 and older do not support it.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Browsers have size limitations other than the localStorage limit of 5MB. The data for the <code>&lt;img src=\"data:image/jpeg;base64,...\"&gt;</code> is also restricted and is usually much less than 5MB. The easiest way around this is to just pass the file-names via localStorage and let the browsers caching do the work. </p>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>This should be simple enough, but after wrestling with it for hours, I still can't get it to work. So far, all my attempts have resulted in the image becoming 'corrupted or truncated', according to firefox.</p>\n\n<p>Retrieve the image from the server with a jquery-ajax call:</p>\n\n<pre><code> $.ajax({\n                async: false,\n                url: db[key][\"DocumentLink\"],\n                success: function (result2) {\n</code></pre>\n\n<p><br>Base64 encode the image, and store it in localStore:<br>\nIn this example I'm using the jquery base64-encoding plugin, but I've tried several.</p>\n\n<pre><code>                        var dbKey = \"Doc \" + db[key][\"ID\"] + \" \" + db[key][\"Title\"];\n                        console.log(\"storing: \" + db[key][\"DocumentLink\"] + \" in \" + dbKey + \"\\n\");\n                        localStorage.removeItem(dbKey);\n                        var base64Image = $.base64Encode(result2);\n                        console.log(base64Image.length);\n                        localStorage.setItem(dbKey, base64Image);\n                       console.log(\"is stored: \" + db[key][\"DocumentLink\"] + \" in \" + dbKey + \"\\n\");\n                }\n})\n</code></pre>\n\n<p><br>Display the image with a data url:</p>\n\n<pre><code>function openImageFromDB(dbKey) {\n    console.log(\"Trying to display image with key \" + dbKey);\n    var base64Img = localStorage.getItem(dbKey);\n    document.getElementById(\"documentHolder\").src='data:image/jpeg;base64,' + base64Img;\n}\n</code></pre>\n\n<p><br>The corresponding img:</p>\n\n<pre><code> &lt;img id=\"documentHolder\" alt=\"Image view placeholder\" src=\"\" /&gt;\n</code></pre>\n\n<p><br>However, on every try, firefox displays:</p>\n\n<pre><code>Image corrupt or truncated: data:image/jpeg;base64,77+977+977+977+9a&lt;... much longer string&gt;\n</code></pre>\n\n<p><br>The Url: points to a valid jpeg image, and the base64Image.length and the error message show that the var / localStorage actually contain what seems to be base64 encoded data.</p>\n\n<p>Any ideas? </p>\n",
            "last_activity_date": 1360575317,
            "question_id": 5363957,
            "score": 7,
            "tags": [
                "javascript",
                "ajax",
                "image",
                "html5",
                "base64"
            ],
            "title": "Retrieve an image from the server, store it in localStorage, and display it"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I solved this problem by using the that/self hack common in Javascript.</p>\n\n<pre><code>var self = this;\n\ngoogle.maps.event.addListener(this.marker, \"dragend\", function() {\n  self.latlng = this.getPosition();\n  self.map.panTo(self.latlng);\n});\n\ngoogle.maps.event.addListener(this.map, \"dragend\", function() {\n  self.latlng = this.getCenter();\n  self.marker.setPosition(self.latlng);\n});\n</code></pre>\n\n<p>If anyone has a solution that doesn't require this hack, I'm all ears.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Take the anonymous functions called on <code>dragend</code> and bind explicitly.</p>\n\n<pre><code>_.bindAll(this, 'dragMarker', 'dragMap');\ngoogle.maps.event.addListener(this.marker, \"dragend\", this.dragMarker);\n/* etc ... */\n</code></pre>\n\n<p>This way <code>this</code> will always be tied to CreateMap even if called out of context.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I have a module I created for Google Maps v3 that I'm trying to convert into a Backbone.js view constructor.</p>\n\n<p>Here's my view module so far: I'll explain the problems I'm having after the code:</p>\n\n<pre><code>pg.views.CreateMap = Backbone.View.extend({\n\n  tagName:  \"div\",\n  className: \"map\",\n\n  events: {},\n\n  latitude:   \"-23.56432\",\n  longitude:  \"-46.65183\", \n\n  initialize: function() {\n    _.bindAll(this, 'render', 'dragMarker', 'dragMap');\n\n    this.latlng = new google.maps.LatLng(this.latitude, this.longitude);\n    var myOptions = {\n      zoom: 16,\n      center: this.latlng,\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    };\n    this.map = new google.maps.Map($(this.el)[0], myOptions);\n    this.marker = new google.maps.Marker({\n      map: this.map,\n      position: this.latlng, \n      draggable: true\n    });\n\n    google.maps.event.addListener(this.marker, \"dragend\", this.dragMarker());\n\n    google.maps.event.addListener(this.map, \"dragend\", this.dragMap());\n\n  },\n\n  render: function() {\n    return this;\n  },\n\n  dragMarker: function() {\n    this.latlng = this.marker.getPosition();\n    this.map.panTo(this.latlng);\n  },\n\n  dragMap: function() {\n    this.latlng = this.map.getCenter();\n    this.marker.setPosition(this.latlng);\n  }\n\n});\n</code></pre>\n\n<p>The problem I'm having is with the Google Maps event listeners and how \"this\" is handled.</p>\n\n<p>I originally didn't have the dragMarker and dragMap methods and instead these two in the initialize block:</p>\n\n<pre><code>google.maps.event.addListener(this.marker, \"dragend\", function() {\n  this.latlng = this.marker.getPosition();\n  this.map.panTo(this.latlng);\n});\n\ngoogle.maps.event.addListener(this.map, \"dragend\", function() {\n  this.latlng = this.map.getCenter();\n  this.marker.setPosition(this.latlng);\n});\n</code></pre>\n\n<p>The problem I encountered with this first approach is that \"this\" inside those anonymous functions referred to \"this.marker\" and \"this.map\" respectively. The problem with this first approach was that in the first listener, I had no way of referring to \"this.map\" and therefore could not perform a panTo(). With the second listener, I had no way of referring to \"this.marker\" and therefore could not recenter the the map around that marker using setPosition().</p>\n\n<p>I then thought that I could pull out the anonymous functions in the listeners and declare them as methods of the view, which I would then perform a _.bindAll(this, \"dragMarker\", \"dragMap\");</p>\n\n<p>The problem with this approach is that I then had to write the listeners in the event block like so:</p>\n\n<pre><code>google.maps.event.addListener(this.marker, \"dragend\", this.dragMarker());\n\ngoogle.maps.event.addListener(this.map, \"dragend\", this.dragMap());\n</code></pre>\n\n<p>This meant that when I called the constructor with newmap = new pg.views.CreateMap; that the \"this.dragMarker()\" and \"this.dragMap()\" were evaluated immediately instead of being evaluated as a callback when the \"dragend\" event is triggered. </p>\n\n<p>No problem I thought and then wrapped those up in anonymous functions like so:</p>\n\n<pre><code>google.maps.event.addListener(this.marker, \"dragend\", function() {\n  this.dragMarker();\n});\n\ngoogle.maps.event.addListener(this.map, \"dragend\", function() {\n  this.dragMap();\n});\n</code></pre>\n\n<p>Unfortunately this also brings me back to an earlier problem that the \"this\" in \"this.dragMarker\" no longer refers to the parent object I constructed, but instead refer to \"this.marker\" again. The same problem occurs with the second listener.</p>\n\n<p>I'm completely stuck here. Anyone have any ideas on how I solve this?</p>\n",
            "last_activity_date": 1309717499,
            "question_id": 4379303,
            "score": 7,
            "tags": [
                "javascript",
                "google-maps",
                "google-maps-api-3",
                "this",
                "backbone.js"
            ],
            "title": "Backbone.js with Google Maps - problems with this and listeners"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>To copy a function you could cast it to a string and then eval it.... The code below also demonstrates that the iframe can be removed after doing this and your copy remains intact.</p>\n\n<p>The following code sample using FF</p>\n\n<p>Child.html snippet</p>\n\n<pre><code>&lt;script&gt;\n\n//\n// modify the prototype\n//\nObject.prototype.test = function(msg)\n{\n        alert(msg);\n};  \n\n//\n// Simply declare a function\n//\nvar whoo_hoo = function(){alert(\"whoo hoo\");}\n&lt;/script&gt;\n</code></pre>\n\n<p>Parent with iframe:</p>\n\n<pre><code> &lt;iframe id=\"help_frame\" src=\"http://localhost/child.html\"\n onLoad=\"javascript:Help.import_functions(this)\"&gt;&lt;/iframe&gt;\n\n    &lt;script&gt;\n    var Help = {\n\n          imported_function :null,\n              import_functions : function(iframe)\n   {\n    this.imported_function = String(iframe.contentWindow.whoo_hoo);\n    eval(\"this.imported_function = \" + this.imported_function);\n    iframe.parentNode.removeChild(iframe);\n\n   //\n   // displays 'whoo hoo' in an alert box\n   //\n   this.imported_function();\n\n   try\n   {\n      //\n      // If the Object prototype was changed in the parent\n      // this would have displayed 'should not work' in an alert\n      //\n      this.test('should not work');\n   }\n   catch(e){alert('object prototype is unmodified');}\n\n   }, \n    &lt;/script&gt;\n</code></pre>\n\n<p><a href=\"http://thecodeabode.blogspot.com\" rel=\"nofollow\">http://thecodeabode.blogspot.com/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>This could be a possible solution:</p>\n\n<ul>\n<li>wrap all the foreign code into a class</li>\n<li>make all the undeclared identifiers members of that class</li>\n<li>before invoking the messy code, make a copy of the built-in classes and name them differently <br/>\n(is this possible??).</li>\n</ul>\n\n<p>I think this should solve all the problems.</p>\n\n<p>With my suggestion, your sample</p>\n\n<pre><code>var badA = \"hahaha\";\nthis.badB = \"hehehe\";\nbadC = \"hohoho\";\n\nString.prototype.star = function(){ return '***' + this + '***' }\n\nvar somethingUseful = {\n  doStuff: function () {\n    alert((badA + badB + badC).star());\n  }\n}\n</code></pre>\n\n<p>should get like this</p>\n\n<pre><code>// Identifies the added properties to prototypes (ie String and Function)\n// for later filtering if you need a for-in loop.\nvar stringAddons = [];\nvar functionAddons = []\nvar _string = new String();\nvar _function = function() {};\nfor (var property in _string) { if (!_string.hasOwnProperty(property)) { stringAddons.push(property); }}\nfor (var property in _function) { if (!_function.hasOwnProperty(property)) { functionAddons.push(property); }}\n\n// Wraps the undeclared identifiers\nvar global = function()\n{\n  this.badA = \"hahaha\";\n  this.badB = \"hehehe\";\n  this.badC = \"hohoho\";\n\n  String.prototype.star = function(){ return '***' + this + '***' }\n\n  this.somethingUseful = {\n    doStuff: function () {\n      alert((global.badA + global.badB + global.badC).star());\n    }\n  }\n}\nvar global = new Global();\nglobal.somethingUseful.doStuff();\n</code></pre>\n\n<p>The tricky part is making ALL the undeclared identifiers <em>global</em> properties.\nMaybe a good regex script could make it. Im not that good with regex :)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>code for comment under Gabriel's answer..</p>\n\n<pre><code>var r = {\n    init : null,\n    _init: function(){\n        var obj = new XMLHttpRequest();\n        obj.onreadystatechange = function(){\n            if ((this.status == 200) &amp;&amp; this.readyState==4){\n                try{\n                    eval(\"r.init = function(){\" + this.responseText + \"}\");\n                    r.init();\n                } catch(e){/*something bad in the script...*/}\n            }\n        }\n        obj.open(\"GET\",\"/jspolute_bad.js\", true);\n        obj.send();\n    }   \n}\nr._init();\n</code></pre>\n\n<p>With methods being added to prototype, you might be in trouble if one or two of the exported functions expect the method as it is modified in foreign code. tedious solution that comes to mind is to Regex the responseText before eval'ing it for array.prototype,string.prototype and fix it some how. Will try that and let you know.. but it would mostly cater to straightforward scripts only.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>None of the answers so far seem to work as well as the iframe thing. I'm fairly convinced the iframe jail is going to be the solution to the problem. I'm putting my current solution here as an answer because it seems to work better than the other answers provided so far. I'd really like to refine this iframe technique into something foolproof, and I'd love to understand how the modified prototypes work. This example works in chrome and moz.</p>\n\n<h2>test.js</h2>\n\n<pre><code>var badA = \"hahaha\";\nthis.badB = \"hehehe\";\nbadC = \"hohoho\";\n\nString.prototype.star = function(){ return '***' + this + '***' }\n\nvar somethingUseful = {\n  doStuff: function () {\n    alert((badA + badB + badC).star());\n  }\n\n}\n</code></pre>\n\n<h2>test.html</h2>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;script&gt;\n    /** \n      safeLoad - load a script in an iframe jail\n\n      @param {String} scriptPath    path to a javascript file\n      @param {String} target        name of global object to import\n      @param {Function} callback    function to execute after script loads\n    */ \n    function safeLoad (scriptPath, target, callback) {\n      var g=this, f=document.createElement('iframe'), frameIndex=frames.length;\n\n      f.style.width='0px'; \n      f.style.height='0px'; \n      f.style.border='none'; \n      f.style.position='absolute';\n\n      f.onload=function(){\n        var w=frames[frameIndex];\n        var s=w.document.createElement('script');\n        s.src=scriptPath;\n        s.onload=function(){\n          g[target]=w[target];\n          if (callback &amp;&amp; callback.apply) callback(w);\n        };\n        w.document.body.appendChild(s);\n      }\n      document.documentElement.appendChild(f);\n    }\n    &lt;/script&gt;  \n\n    &lt;script&gt;\n\n    safeLoad('test.js', 'somethingUseful', function init () {\n      // next line should give ***hahahahehehehohoho***\n      somethingUseful.doStuff();\n      // next line should give undefinedundefinedundefinedundefined\n      alert(typeof badA + typeof badB + typeof badC + String.prototype.star);\n    });\n\n    &lt;/script&gt;   \n  &lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<h2>Problem...</h2>\n\n<p>Poorly-coded scripts exist which need to be included on a web page.</p>\n\n<p>These scripts pollute the global scope by doing things like:</p>\n\n<ul>\n<li>Assigning values to undeclared identifiers </li>\n<li>Adding properties to built-in constructor functions (like <code>Object</code> and <code>Array</code>) and their prototypes</li>\n<li>Other nasty stuff. </li>\n</ul>\n\n<hr>\n\n<h2>Solution?</h2>\n\n<p>I want to include the scripts without the adverse side effects. I think it can be achieved by loading the script in an iframe and exporting objects as properties of the parent window. Here's what Ive got so far:</p>\n\n<pre><code>&lt;script&gt;\n\n(function(){\n  var g=this, frameIndex=frames.length, f=document.createElement('iframe');\n\n  // hide it like this instead of display:none, because some old browser ignores\n  // iframes with display:none, or is this an ancient habit I can drop?\n  f.style.width='0px'; f.style.height='0px'; \n  f.style.border='none'; f.style.position='absolute';\n\n  // append it to document.body or document.documentElement?\n  // documentElement seems to work before body is loaded,\n  // but is it cross-browser safe?  \n  document.body.appendChild(f);\n\n  // window object for our iframe\n  var w=frames[frameIndex];\n\n  // callback function pulls the object into the current window when script loads\n  w.cb=function(){ g.SomeObject=w.SomeObject };\n\n  // will this work on IE, or do I need to use document.createElement?\n  // wanted to avoid document.createElement in this case because I'm not sure \n  // whether to call it from window.document or frames[frameIndex].document\n  w.document.innerHTML='&lt;script onload=\"cb()\" src=\"myscript.js\"&gt;&lt;\\/script&gt;';\n\n}());\n\n&lt;/script&gt;\n</code></pre>\n\n<hr>\n\n<h2>Questions:</h2>\n\n<ul>\n<li><p>Will there be potential havoc if a script modifies built-in prototypes and I move it into another window, or will my parent window's built-ins stay clean and everything will \"just work?\"</p></li>\n<li><p>Is this idea going to work on 'most' browsers, or is there a show-stopper? Haven't tested on anything besides chrome and moz so far.</p></li>\n<li><p>I'd like to remove the iframe after pulling the object into the current window, but moz will lose the object reference if the iframe is removed. Does anyone know of a way around that?</p></li>\n<li><p>Has this already been done, or is there a better way to accomplish my goal? If so, what's the name of the script or technique I should to be looking for?</p></li>\n</ul>\n\n<p>(question transplanted from <a href=\"http://stackoverflow.com/questions/3828423/haxe-for-javascript-without-global-namespace-pollution\">here</a>)</p>\n",
            "last_activity_date": 1286530483,
            "question_id": 3830133,
            "score": 7,
            "tags": [
                "javascript",
                "iframe",
                "global-variables"
            ],
            "title": "Avoiding pollution of globals via iframe script loader?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Use the <code>load</code> event:</p>\n\n<pre><code>img = new Image();\n\nimg.onload = function(){\n  // image  has been loaded\n};\n\nimg.src = image_url;\n</code></pre>\n\n<p>Also have a look at:</p>\n\n<ul>\n<li><a href=\"http://www.techrepublic.com/article/preloading-and-the-javascript-image-object/\">Preloading and the JavaScript Image() object</a></li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 26
                }
            ],
            "body": "<p>I'm creating new image using</p>\n\n<pre><code>img = new Image();\nimg.src = image_url;\n</code></pre>\n\n<p>Then I'm assigning img.src to the img tag's src in DOM</p>\n\n<pre><code>$(\"#my_img\").attr(\"src\", img.src);\n</code></pre>\n\n<p>How can I know that img.src has 100% loaded? What is the best practice?\n<code>img.complete</code> seem to me little buggy in some browsers.</p>\n\n<p>So, in another words, I need to assign <code>img.src</code> to <code>$(\"#my_img\")</code> only after <code>img</code> it was 100% loaded.</p>\n\n<p>Thank you!</p>\n",
            "last_activity_date": 1380050154,
            "question_id": 3511200,
            "score": 7,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "new Image(), how to know if image 100% loaded or not?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Flash would be the way to go it can do everything you described, including capture video from a users computer via webcam.</p>\n\n<p>I doubt that there is a single pre-built flash file for this, you'll probably have to contract something, from someone with alot of action-script experience.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You may need to check into Flash programming with actionscript if you want to build the project as well. This is because if you want to play mpeg/wmv files then the browser needs to have a plugin that supports it and not everyone on the web does have that. Flash, on the other hand, has a large browsing audience. So the alternative is to <a href=\"http://www.webdeveloper.com/forum/showthread.php?t=193252\" rel=\"nofollow\">convert it on the server</a>. </p>\n\n<p>EIDOS made a video mixer before they launched the Kane and Lynch game (I unfortunately can't find it online anymore). It was possible to edit video together with music and sound clips on a timeline.</p>\n\n<p>There are several ways to get php work together with flash such as using <a href=\"http://www.amfphp.org/\" rel=\"nofollow\">AMFPHP</a>. But you still need to hack in <a href=\"http://www.actionscript.org/\" rel=\"nofollow\">actionscript</a>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>3) Check out  (<a href=\"http://flowplayer.org/\">Flowplayer</a>). Flowplayer is a really nice opensource video player for the web.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>If the visitor can view it, the visitor has already downloaded it. That's also how youtube works, you download the video otherwise you can't see it. The computer can't show you something it hasn't downloaded.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm working on a website where I want camera-recorded vidoes to be uploaded, and be viewable (but not downloadable) to logged-in users only. I'd also like to edit the videos, have certain images appear in the background, and possibly note the time at which they last stopped watching a video. (I.e if they stopped watching after 30 mins, i'd like to start the video from 30:00 the next time they view it).</p>\n\n<p>My question is,</p>\n\n<p>1) Is there a way to dynamically add the selected images/animation as the background and .mp3 file as the soundtrack to the video, or will I have to do this manually for every video using a video editing software? (There will be 100+ videos). Any recommendations on the vid. editing software would be cool too.</p>\n\n<p>2) Will I have to convert the videos to .flv using <a href=\"http://ffmpeg.mplayerhq.hu/\">ffmeg</a>, or is there a way to play them directly as .mpegs/.wmv files?</p>\n\n<p>3) Obviously I'd need some kind of a video player (like youtube) where you can pause/stop/skip through the video. Is there a way to build this using Javascript/AJAX, or do I need to purchase a flash component for this? (If I have to purchase one, any recommendations for such a vid. player would be appreciated)</p>\n\n<p>I'm using PHP 5, MySQL, and Jquery (Javascript) to build this project.</p>\n\n<p>Thanks.</p>\n",
            "last_activity_date": 1289978240,
            "question_id": 454791,
            "score": 7,
            "tags": [
                "php",
                "javascript",
                "flash",
                "video",
                "video-streaming"
            ],
            "title": "How to display youtube-like video player in website?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><br /></p>\n\n<h1>Quick-'n-Dirty it <sup><sub><sup><a href=\"http://plnkr.co/edit/xxZQq0MQVmiNw5JIeg3A?p=preview\" rel=\"nofollow\">(Demo)</a></sup></sub></sup></h1>\n\n<p>We would want to make sure that all images are loaded, so let's write a directive for that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>app.directive('loadDispatcher', function() {\n    return {\n        restrict: 'A',\n        link: function(scope, element, attrs) {\n            element.bind('load', function() {\n                scope.$emit('$imageLoaded');\n            });\n        }\n    };\n})\n</code></pre>\n\n<p>&hellip; and attach it to the <code>ng-src</code>'d elements:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;img class=\"thumb-recipe\" ng-src=\"{{ object.tile_url }}\" load-dispatcher/&gt;\n</code></pre>\n\n<p>Now we can compare the number of events caught with our model, and act as needed:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var loadCount = 0;\nscope.$on('$imageLoaded', function () {\n    if (loadCount++ === scope.videos.objects.length - 1) {\n        _initSlider(); // act!\n    }\n});\n</code></pre>\n\n<p><br /></p>\n\n<h1>Decouple it <sup><sub><sup><a href=\"http://plnkr.co/edit/HcBP75TPOxlW31deqKaq?p=preview\" rel=\"nofollow\">(Demo)</a></sup></sub></sup></h1>\n\n<p>This is a little disturbing, as it's not adhering to the <a href=\"http://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"nofollow\">Law of Demeter</a> &mdash; any directive that will watch the <code>$imageLoaded</code> event will have to know about the model (<code>scope.videos.objects.length</code>).</p>\n\n<p>We can prevent this coupling by finding out how many images were loaded without explicitly addressing the model. Let's assume that the events will be handled in an <code>ng-repeat</code>.</p>\n\n<ol>\n<li><p>Make sure <code>ng-repeat</code> has finished, and fire an event with the items count. We can do that by attaching a controller with a sole purpose - to watch the <code>$last</code> property. Once it's found (with a truthy value), we will fire an event to notify about it: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>.controller('LoopWatchCtrl', function($scope) {\n    $scope.$watch('$last', function(newVal, oldVal) {\n        newVal &amp;&amp; $scope.$emit('$repeatFinished', $scope.$index);\n    });\n})\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div ng-repeat=\"object in videos.objects\" ng-controller=\"LoopWatchCtrl\"&gt;\n</code></pre></li>\n<li><p>Now, catch the events and activate the slider initialization accordingly:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var loadCount = 0,\n    lastIndex = 0;\n\nscope.$on('$repeatFinished', function(event, data) {\n    lastIndex = data;\n});\n\nscope.$on('$imageLoaded', function() {\n    if (lastIndex &amp;&amp; loadCount++ === lastIndex) {\n        _initSlider(element); // this is defined where-ever\n    }\n});\n</code></pre></li>\n</ol>\n\n<p>There, now our directive does not have to know about the model. But, it's a bit cumbersome, now we have to tie a directive <em>and</em> a controller.</p>\n\n<p><br /></p>\n\n<h1>Fold it <sup><sub><sup><a href=\"http://plnkr.co/edit/tdGUfrVHetqTZHi7Dpd9?p=preview\" rel=\"nofollow\">(Demo)</a></sup></sub></sup></h1>\n\n<p>Let's extract this whole shabang into a single directive:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>app.directive('imageLoadWatcher', function($rootScope) {\n    return {\n        restrict: 'A',\n        link: function(scope, element, attrs) {\n            if (typeof $rootScope.loadCounter === 'undefined') {\n                $rootScope.loadCounter = 0;\n            }\n            element.find('img').bind('load', function() {\n                scope.$emit('$imageLoaded', $rootScope.loadCounter++);\n            });\n        },\n        controller: function($scope) {\n            $scope.$parent.$on('$imageLoaded', function(event, data) {\n                if ($scope.$last &amp;&amp; $scope.$index === $rootScope.loadCounter - 1) {\n                    $scope.$emit('$allImagesLoaded');\n                    delete $rootScope.loadCounter;\n                }\n            });\n        }\n    };\n});\n</code></pre>\n\n<p>&hellip; which will be applied to the <code>ng-repeat</code>ed element:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div ng-repeat=\"object in videos.objects\" class=\"slide\" image-load-watcher&gt;\n</code></pre>\n\n<p>Now we can simply watch <code>$allImagesLoaded</code> e.g. in the slider:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>scope.$on('$allImagesLoaded', function() {\n    _initSlider(element);\n});\n</code></pre>\n\n<p><br /></p>\n\n<h1>Generalize it (if you want to) <sup><sub><sup><a href=\"http://plnkr.co/edit/cIT1eKZ2P4K6TQZciA1N?p=preview\" rel=\"nofollow\">(Demo)</a></sup></sub></sup></h1>\n\n<p>We can break it down again and apply this approach app-wide to use event dispatching for <em>any</em> <code>ng-repeat</code> finish or <code>ng-src</code> load, which is not always necessary <sup>(<strong>1</strong>)</sup>, but can be quite useful. Let's see how:</p>\n\n<ol>\n<li><p>Decorate the <code>ng-src</code> directive, so it sends an event when an image is loaded:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>app.config(function($provide) {\n    $provide.decorator('ngSrcDirective', function($delegate) {\n        var directive = $delegate[0],\n            link = directive.link;\n        directive.compile = function() {\n            return function(scope, element, attrs) {\n                link.apply(this, arguments);\n                element.bind('load', function() {\n                    scope.$emit('$imageLoaded');\n                });\n            };\n        };\n\n        return $delegate;\n    });\n    // ...\n});\n</code></pre></li>\n<li><p>Decorate <code>ng-repeat</code> to notify when it finishes:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>app.config(function($provide) {\n    // ...\n    $provide.decorator('ngRepeatDirective', function($delegate) {\n        var directive = $delegate[0],\n            link = directive.link;\n        directive.compile = function() {\n            return function(scope, element, attrs) {\n                link.apply(this, arguments);\n                scope.$watch('$$childTail.$last', function(newVal, oldVal) {\n                    newVal &amp;&amp; scope.$emit('$repeatFinished');\n                });\n            };\n        };\n\n        return $delegate;\n    });\n});\n</code></pre></li>\n<li><p>Now can catch the events anywhere, e.g. in your slider directive:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var repeatFinished = false;\nvar loadCount = 0;\n\nscope.$on('$repeatFinished', function() {\n    repeatFinished = true;\n});\n\nscope.$on('$imageLoaded', function () {\n    if (repeatFinished &amp;&amp; \n                loadCount++ === scope.videos.objects.length - 1) {\n        _initSlider(); // this is defined where-ever\n    }\n});\n</code></pre></li>\n</ol>\n\n<p>It seems to defeat the purpose, as we're back to square one, but it can be very powerful. And also &mdash; look, mommy, no new directives!</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div ng-repeat=\"object in videos.objects\" class=\"slide\"&gt;\n    &lt;img class=\"thumb-recipe\" ng-src=\"{{ object.tile_url }}\"/&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><br /></p>\n\n<h1>Put a sock in it <sup><sub><sup><a href=\"http://media2.giphy.com/media/pBzKCAfUyzsQM/giphy.gif\" rel=\"nofollow\">(Demo)</a></sup></sub></sup></h1>\n\n<p><a href=\"http://plnkr.co/edit/tdGUfrVHetqTZHi7Dpd9?p=preview\" rel=\"nofollow\"><strong><kbd><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TL;DR, just gimme tha demo ! ! !&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;</kbd></strong></a></p>\n\n<p><br /></p>\n\n<hr>\n\n<p><sup>\n<strong>1</strong>. Decoration has to be considered carefully, as the result will be sending an event on each image loaded across the application.\n</sup></p>\n\n<hr>\n\n<p><sup>\n<strong>&bull;</strong> Overriding the <code>link</code> function will not be possible in version 1.3.x onwards.\n</sup></p>\n",
                    "is_accepted": true,
                    "score": 16
                }
            ],
            "body": "<p>I'm experiencing some problems regarding manipulation of the DOM after looping through the data.</p>\n\n<p>We have a jQuery slider plugin that is tied to data and works normally, but when using <code>ng-repeat</code>, we have to wrap its initialization with <code>$timeout</code> for it to work &mdash; and now that isn't even working.</p>\n\n<p>I think using <code>$timeout</code> is unreliable, which makes for a bad fix. In jQuery I could use <code>$(document).ready()</code> &mdash; which was solid, but using <code>angular.element(document).ready()</code> doesn't seem to work either. </p>\n\n<p>The slider directive is invoked but cannot obtain the height of the images in the slider because the images have not been loaded into the DOM &mdash; resulting in the slider having a calculated height of 0.</p>\n\n<p>I'm finding it very frustrating at the moment - there must be a way to manipulate the DOM after data (in an <code>ng-repeat</code> for example) has cycled through. </p>\n\n<p>The Initialization of the slider is performed as follows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var sliderLoad = function () {\n    $timeout(function () {\n        var setHeight = elem.find('.slide:eq(0)').outerHeight(true);\n        elem.css({\n            height: setHeight\n        });\n    }, 1000);\n    // Show the slider nav buttons\n    elem.parent().find('.direction-nav').show();\n};\n</code></pre>\n\n<p>&hellip; and here is a <strong><a href=\"http://plnkr.co/edit/S7Nv0Bb4T3ahUwD2JTC0?p=preview\" rel=\"nofollow\">reproduction demo</a></strong>.</p>\n",
            "last_activity_date": 1424091348,
            "question_id": 22384078,
            "score": 6,
            "tags": [
                "javascript",
                "angularjs",
                "ng-repeat"
            ],
            "title": "AngularJS - Manipulating the DOM after ng-repeat is finished"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>It looks like deferred <a href=\"http://docs.angularjs.org/api/ng.%24q\" rel=\"nofollow\">http://docs.angularjs.org/api/ng.$q</a> and specifically chaining promises could be useful here.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As Andrew said usage of <code>$q</code> and the deferred object should allow you to accomplish your goal.</p>\n\n<p>You want to use <code>$q.all()</code>  This will make sure all of your promise objects are resolved and then you can call your call back in <code>.then()</code></p>\n\n<pre><code>function MyCtrl($scope, $q, $http) {\n\n    $scope.albumsList = [{\n            id: 1,\n            name: \"11\"\n        }, {\n            id: 2,\n            name: \"22\"\n        }\n    ];\n    $scope.albums = [];\n    $scope.getAlbum = function(user, id, callback) {\n        return $http.get(\"https://api.imgur.com/3/account/\" + user + \"/album/\" + id).success(\n            function(value) {\n                return callback(value.data);\n            }\n        );\n    }\n    $scope.getAlbums = function (user, callback) {\n        var prom = [];\n        $scope.albumsList.forEach(function (obj, i) {\n            prom.push($scope.getAlbum(user, obj.id, function(value){\n                $scope.albums.push(value);\n            }));\n        });\n        $q.all(prom).then(function () {\n            callback();\n        });\n    };\n    $scope.getAlbums('guy123', function () {\n        alert($scope.albums.length);\n    });\n}\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/markcoleman/dwvQz/1/\">Example with this on jsfiddle</a></strong></p>\n\n<p>Works but not with <code>$http</code> calls</p>\n\n<p>With the deferred object you gain access to a promise where you can change successive <code>then()</code> calls together.  When you resolve the deferred object it will execute the foreach and then execute your call back function you supplied.  I tried to simplify your example a bit further so it would work in jsfiddle.</p>\n\n<pre><code>function MyCtrl($scope, $http, $q) {\n\n    $scope.albumsList = [{\n        id: 1,\n        name: \"11\"\n    }, {\n        id: 2,\n        name: \"22\"\n    }];\n    $scope.albums = [];\n    $scope.getAlbums = function (user, callback) {\n        var deferred = $q.defer();\n        var promise = deferred.promise;\n        promise.then(function () {\n            $scope.albumsList.forEach(function (obj, i) {\n                $scope.albums.push(obj);\n            });\n        }).then(function () {\n            callback();\n        });\n        deferred.resolve();\n    };\n    $scope.getAlbums('guy123', function () {\n        alert($scope.albums.length);\n    });\n}\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/markcoleman/dwvQz/\">Example on jsfiddle</a></strong></p>\n\n<p><strong><a href=\"http://nurkiewicz.blogspot.com/2013/03/promises-and-deferred-objects-in-jquery.html\">A bit more reading on deferred and promises.</a></strong></p>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<pre><code>$scope.getAlbums = function(user, callback) {\n\n        var promiseArr = [];\n        $scope.albumsList.forEach(function (obj, i) {\n            var anHttpPromise = \n            $scope.getAlbum(user, obj.id, function(value){\n                $scope.albums.push(value);\n            });\n            promiseArr.push(anHttpPromise);\n        });\n\n        $q.all(promiseArr).then(function(){\n            // This callback function will be called when all the promises are resolved.    (when all the albums are retrived)      \n        })\n    };\n\n    $scope.getAlbum = function(user, id, callback) {\n        var anHttpPromise = Imgur.album.get({user:user, id:id},    \n            function(value) {\n                return callback(value.data);\n            }\n        );\n        return anHttpPromise;\n    }\n</code></pre>\n\n<p>In the above code:</p>\n\n<ol>\n<li>The <code>getAlbum</code> is made to return an promise.</li>\n<li>Collecting an promise for each iteration of the <code>getAlbums</code> list</li>\n<li>Once all the promises are collected, the promise array is passed to\n<code>$q.all</code></li>\n<li>The <code>$q.all</code> method instead returns an final promise whose callback\nfunction will be triggered once all the promises in the array are\nresolved.</li>\n</ol>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Using the <code>$resource</code> promise <a href=\"https://github.com/ashtuchkin/angular.js/commit/37dc1d3f74f81e9b0a4a7d9010bab8b266b49da3\" rel=\"nofollow\"><strong>PR commit</strong></a> slated for 1.1.3, I was able to wrap <code>$resource</code> calls with $q and control the flow of their async behavoir.</p>\n\n<pre><code>$scope.getAlbum = function(user, id, callback) {\n    var promise = Imgur.album.get({user:user, id:id}).$promise.then(\n        function( value ){\n            return callback(value.data);\n        },\n        function( error ){\n            //Something went wrong!\n        }\n    )\n    return promise;\n}\n\n$scope.getAlbums = function(user, callback) {\n    var prom = [];\n    $scope.albumsList.forEach(function (obj, i) {\n        var promise =\n        $scope.getAlbum(user, obj.id, function(value){\n            $scope.albums.push(value);\n        });\n        prom.push(promise);\n\n    });\n\n    $q.all(prom).then(function () {\n        callback();\n    });\n};\n\n$scope.getAlbums(user, function(){\n    // Totally works, bro.\n    console.log($scope.albums);\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How do I add a callback function after an async forEach Loop?</p>\n\n<p><em>Here is some better context:</em></p>\n\n<pre><code>$scope.getAlbums = function(user, callback) {\n    $scope.albumsList.forEach(function (obj, i) {\n        $scope.getAlbum(user, obj.id, function(value){\n            $scope.albums.push(value);\n        });\n    });\n    // callback(); ???\n};\n\n$scope.getAlbums('guy123', function(){\n    // forEach loop is all done!\n    console.log($scope.albums)\n});\n</code></pre>\n\n<p><strong>Controller:</strong></p>\n\n<pre><code>.controller('Filters', ['$scope','Imgur', function($scope, Imgur) {\n\n    $scope.getAlbum = function(user, id, callback) {\n        Imgur.album.get({user:user, id:id},    \n            function(value) {\n                return callback(value.data);\n            }\n        );\n    }\n\n    $scope.getAlbums = function(user, callback) {\n        // Callback function at end of this forEach loop?\n        // Request is async...\n        $scope.albumsList.forEach(function (obj, i) {\n            $scope.getAlbum(user, obj.id, function(value){\n                $scope.albums.push(value);\n            });\n        });\n    };\n)]};\n</code></pre>\n\n<p><strong>Service:</strong></p>\n\n<pre><code>.factory('Imgur', function($resource) {\n    return {\n        album : $resource('https://api.imgur.com/3/account/:user/album/:id')\n    }\n});\n</code></pre>\n",
            "last_activity_date": 1368038447,
            "question_id": 16429832,
            "score": 6,
            "tags": [
                "javascript",
                "angularjs"
            ],
            "title": "callback after async forEach AngularJS"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Calling <code>this.spy(this.testModel, 'doSomething')</code> replaces the <code>testModel.doSomething</code> method with a <a href=\"http://sinonjs.org/docs/#sinonspy\">new wrapper method</a>:</p>\n\n<blockquote>\n  <p><strong>var spy = sinon.spy(object, \"method\");</strong></p>\n  \n  <p>Creates a spy for <code>object.method</code> and replaces the original method with the spy.</p>\n</blockquote>\n\n<p>So <code>this.spy(this.testModel, 'doSomething')</code> is effectively doing something like this:</p>\n\n<pre><code>var m = this.testModel.doSomething;\nthis.testModel.doSomething = function() {\n    // Spying stuff goes here...\n    return m.apply(this, arguments);\n};\n</code></pre>\n\n<p>This means that <code>testModel.doSomething</code> is a different function when you bind the event handler in <code>initialize</code>:</p>\n\n<pre><code>this.bind('change:selection', this.doSomething);\n</code></pre>\n\n<p>than it is after you've attached your spying. The Backbone event dispatcher will call the original <code>doSomething</code> method but that one doesn't have the Sinon instrumentation. When you call <code>doSomething</code> manually, you're calling the new function that <code>spy</code> added and that one does have the Sinon instrumentation.</p>\n\n<p>If you want to use Sinon to test your Backbone events, then you'll have to arrange to have the Sinon <code>spy</code> call applied to the model before you bind any event handlers and that probably means hooking into <code>initialize</code>.</p>\n\n<p>Maybe you could monkey-patch your model's <code>initialize</code> to add the necessary <code>spy</code> calls before it binds any event handlers:</p>\n\n<pre><code>var init = Model.prototype.initialize;\nModel.prototype.initialize = function() {\n    // Set up the Spy stuff...\n    init.apply(this, arguments);\n};\n</code></pre>\n\n<p>Demo: <a href=\"http://jsfiddle.net/ambiguous/C4fnX/1/\">http://jsfiddle.net/ambiguous/C4fnX/1/</a></p>\n\n<p>You could also try subclassing your model with something like:</p>\n\n<pre><code>var Model = Backbone.Model.extend({});\nvar TestModel = Model.extend({\n    initialize: function() {\n        // Set up the Spy stuff...\n        Model.prototype.initialize.apply(this, arguments);\n    }\n});\n</code></pre>\n\n<p>And then use <code>TestModel</code> instead of Model, this would give you an instrumented version of <code>Model</code> in <code>TestModel</code> without having to include a bunch of test-specific code inside your normal production-ready <code>Model</code>. The downside is that anything else that uses <code>Model</code> would need to be subclassed/patched/... to use <code>TestModel</code> instead.</p>\n\n<p>Demo: <a href=\"http://jsfiddle.net/ambiguous/yH3FE/1/\">http://jsfiddle.net/ambiguous/yH3FE/1/</a></p>\n\n<p>You might be able to get around the <code>TestModel</code> problem with:</p>\n\n<pre><code>var OriginalModel = Model;\nModel = Model.extend({\n    initialize: function() {\n        // Set up the Spy stuff...\n        OriginalModel.prototype.initialize.apply(this, arguments);\n    }\n});\n</code></pre>\n\n<p>but you'd have to get the ordering right to make sure that everyone used the new <code>Model</code> rather than the old one.</p>\n\n<p>Demo: <a href=\"http://jsfiddle.net/ambiguous/u3vgF/1/\">http://jsfiddle.net/ambiguous/u3vgF/1/</a></p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>In the following unit test code:</p>\n\n<pre><code>TestModel = Backbone.Model.extend({\n    defaults: {\n        'selection': null\n    },\n    initialize: function() {\n      this.on('change:selection', this.doSomething);\n    },\n    doSomething: function() {\n        console.log(\"Something has been done.\");\n    }\n});\n\nmodule(\"Test\", {\n    setup: function() {\n        this.testModel = new TestModel();\n    }\n});\n\ntest(\"intra-model event bindings\", function() {\n    this.spy(this.testModel, 'doSomething');\n    ok(!this.testModel.doSomething.called);\n    this.testModel.doSomething();\n    ok(this.testModel.doSomething.calledOnce);\n    this.testModel.set('selection','something new');\n    ok(this.testModel.doSomething.calledTwice); //this test should past, but fails.  Console shows two \"Something has been done\" logs.\n});\n</code></pre>\n\n<p>The third ok fails, even though the function was effectively called from the backbone event binding, as demo'd by the console. </p>\n\n<p><img src=\"http://i.stack.imgur.com/UMUhR.png\" alt=\"3rd test fails\">\n<img src=\"http://i.stack.imgur.com/AzTsm.png\" alt=\"enter image description here\"></p>\n\n<p>This is very frustrating and has shaken my confidence on whether sinon.js is suitable for testing my backbone app.  Am I doing something wrong, or is this a problem with how sinon detects whether something has been called?  Is there a workaround?</p>\n\n<p>EDIT: Here's a solution to my specific example, based on the monkey patch method of the accepted answer. While its a few lines of extra setup code in the test itself, (I don't need the module function any more) it gets the job done. Thanks, <code>mu is too short</code></p>\n\n<pre><code>test(\"intra-model event bindings\", function() {\n    var that = this;\n    var init = TestModel.prototype.initialize;\n    TestModel.prototype.initialize = function() {\n        that.spy(this, 'doSomething');\n        init.call(this);\n    };\n\n    this.testModel = new TestModel();\n    . . . // tests pass!\n}); \n</code></pre>\n",
            "last_activity_date": 1338675992,
            "question_id": 10865364,
            "score": 6,
            "tags": [
                "javascript",
                "backbone.js",
                "qunit",
                "sinon"
            ],
            "title": "QUnit, Sinon.js &amp; Backbone unit test frustration: sinon spy appears to fail to detect Backbone Model event callbacks"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The Stack Overflow question\n<a href=\"http://stackoverflow.com/questions/647969/detect-exact-os-version-from-browser\">Detect exact OS version from browser</a> goes into some interesting detail about getting the OS version from the User-Agent header which I believe contains the same information that can be accessed from JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can use this great javascript library: <a href=\"http://www.visitorjs.com/details\">http://www.visitorjs.com/details</a> It is open-sourced recently</p>\n\n<p>Edit: Actually, it is now renamed to session.js <a href=\"http://github.com/codejoust/session.js\">http://github.com/codejoust/session.js</a> and to my knowledge, that is the best you can get.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Your best bet is to use the navigator.userAgent property. It will give the windows version number. You can see a table of how the Windows version number map to the OS here:</p>\n\n<p><a href=\"http://msdn.microsoft.com/en-us/library/ms724834%28VS.85%29.aspx\" rel=\"nofollow\" title=\"OSVERSIONINFO\">OSVERSIONINFO</a></p>\n\n<p>Here is some example detection code:</p>\n\n<pre><code>var os = (function() {\n    var ua = navigator.userAgent.toLowerCase();\n    return {\n        isWin2K: /windows nt 5.0/.test(ua),\n        isXP: /windows nt 5.1/.test(ua),\n        isVista: /windows nt 6.0/.test(ua),\n        isWin7: /windows nt 6.1/.test(ua),\n        isWin8: /windows nt 6.2/.test(ua),\n        isWin81: /windows nt 6.3/.test(ua)\n    };\n}());\n\nif(os.isWin7) {\n    ...\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/45jEc/\" rel=\"nofollow\">http://jsfiddle.net/45jEc/</a></p>\n",
                    "is_accepted": true,
                    "score": 20
                }
            ],
            "body": "<p>I have been writing a userscript for the past few months, for my company, and have just designed the main site for it with installation instructions (our employees are based all around the world and very few have heard of userscripts, let alone used them, so this frontend is meant to cut down the time I spend supporting the script).</p>\n\n<p>What I would like to do is, on the installation page, detect which browser and OS / OS version they're using so that I can highlight the most relevant instructions slightly darker than the rest, or simply not display irrelevant sections.</p>\n\n<p>For example for IE6 you must use Trixie (I believe) to install userscripts, and this is supported on Win XP only. IE7 is supported on Win XP, IE8 is supported on Win XP &amp; Win 7 and IE9 is supported on Win 7 only. For IE7, 8 &amp; 9 I am advising to use IEPro. The difference between Trixie &amp; IEPro is that Trixie requires a file extension of .user.js which must be saved in C:/Program Files/bhelpuri. IEPro, on the other hand, requires the extension to be .ieuser and saves to a different location. For IE specifically, I would like to detect the version and display only the correct link (either .user.js or .ieuser, depending on what plugin they should be using for their current browser) so that they're taken to the correct version of the file for that browser with the correct save path for that OS / OS version. Is this making any sense so far?</p>\n\n<p>Basically my question is, does anyone know of a way to detect the operating system version? I am currently using <a href=\"http://www.stoimen.com/blog/2009/07/04/jquery-os-detection/\">http://www.stoimen.com/blog/2009/07/04/jquery-os-detection/</a> but that doesn't give the OS version, only the OS. I have tried looping through all of the variables stored in the navigator object with no success. Any help would be greatly appreciated.</p>\n\n<p>Edit: Thanks to Nates answer, I have put the exact code at <a href=\"http://jsfiddle.net/Mu8r5/1/\">http://jsfiddle.net/Mu8r5/1/</a>. I hope this helps someone in the future.</p>\n",
            "last_activity_date": 1387183011,
            "question_id": 8774560,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "browser-detection"
            ],
            "title": "jQuery - detecting the operating system and operating system version"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p><strong>THIS ANSWER SUPERCEDED BY MY OTHER RESPONSE TO THIS QUESTION.</strong></p>\n\n<hr>\n\n<p>You could use the \".<a href=\"http://api.jquery.com/animate/\" rel=\"nofollow\">animate()</a>\" method to modify the \"top\" and \"left\" properties of the element. Here is an <a href=\"http://jsfiddle.net/elusien/UDhYQ/\" rel=\"nofollow\">example fiddle</a>.</p>\n\n<p>HTML:</p>\n\n<blockquote>\n<pre><code>  &lt;div id='moon' &gt; moon  &lt;/div&gt;\n  &lt;div id='earth'&gt; earth &lt;/div&gt;\n</code></pre>\n</blockquote>\n\n<p>CSS:</p>\n\n<pre><code>#moon        {position:        absolute;\n             top:             0px;\n             left:            0px;\n             width:           50px;\n             height:          50px;\n             background-color: #aaaaff;}\n#earth      {position:        absolute;\n             top:             50px;\n             left:            50px;\n             width:           50px;\n             height:          50px;\n             background-color: #ffaaaa;}\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code> $('#moon').animate({left: 100}, 2000)\n           .animate({top:  100}, 2000)\n           .animate({left:   0}, 2000)\n           .animate({top:    0}, 2000);    \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>If you want to see something in raw Javascript I made a demo page years ago:</p>\n\n<p><a href=\"http://stevewellens.xtreemhost.com/CascadingStyleSheetDemo.html\" rel=\"nofollow\">Demo</a></p>\n\n<p>Click on the JavaScript Demo button.  The page isn't compressed or minified so the JavaScript is very clean.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Below is is simple jQuery plugin that I've developed to provide the \"orbiting\" functionality you asked for. See <a href=\"http://jsfiddle.net/elusien/tGY4B/\">this fiddle</a> for an example of how to use it.</p>\n\n<pre><code>    ( function ( $ ) {\n        jQuery.fn.orbit = function(s, options){\n            var settings = {\n                            orbits:    1     // Number of times to go round the orbit e.g. 0.5 = half an orbit\n                           ,period:    3000  // Number of milliseconds to complete one orbit.\n                           ,maxfps:    25    // Maximum number of frames per second. Too small gives \"flicker\", too large uses lots of CPU power\n                           ,clockwise: true  // Direction of rotation.\n            };\n            $.extend(settings, options);  // Merge the supplied options with the default settings.\n\n            return(this.each(function(){\n                var p        = $(this);\n\n/* First obtain the respective positions */\n\n                var p_top    = p.css('top' ),\n                    p_left   = p.css('left'),\n                    s_top    = s.css('top' ),\n                    s_left   = s.css('left');\n\n/* Then get the positions of the centres of the objects */\n\n                var p_x      = parseInt(p_top ) + p.height()/2,\n                    p_y      = parseInt(p_left) + p.width ()/2,\n                    s_x      = parseInt(s_top ) + s.height()/2,\n                    s_y      = parseInt(s_left) + s.width ()/2;\n\n/* Find the Adjacent and Opposite sides of the right-angled triangle */\n                var a        = s_x - p_x,\n                    o        = s_y - p_y;\n\n/* Calculate the hypotenuse (radius) and the angle separating the objects */\n\n                var r        = Math.sqrt(a*a + o*o);\n                var theta    = Math.acos(a / r);\n\n/* Calculate the number of iterations to call setTimeout(), the delay and the \"delta\" angle to add/subtract */\n\n                var niters   = Math.ceil(Math.min(4 * r, settings.period, 0.001 * settings.period * settings.maxfps));\n                var delta    = 2*Math.PI / niters;\n                var delay    = settings.period  / niters;\n                if (! settings.clockwise) {delta = -delta;}\n                niters      *= settings.orbits;\n\n/* create the \"timeout_loop function to do the work */\n\n                var timeout_loop = function(s, r, theta, delta, iter, niters, delay, settings){\n                    setTimeout(function(){\n\n/* Calculate the new position for the orbiting element */\n\n                        var w = theta + iter * delta;\n                        var a = r * Math.cos(w);\n                        var o = r * Math.sin(w);\n                        var x = parseInt(s.css('left')) + (s.height()/2) - a;\n                        var y = parseInt(s.css('top' )) + (s.width ()/2) - o;\n\n/* Set the CSS properties \"top\" and \"left\" to move the object to its new position */\n\n                        p.css({top:  (y - p.height()/2),\n                               left: (x - p.width ()/2)});\n\n/* Call the timeout_loop function if we have not yet done all the iterations */\n\n                        if (iter &lt; (niters - 1))  timeout_loop(s, r, theta, delta, iter+1, niters, delay, settings);\n                    }, delay);\n                };\n\n/* Call the timeout_loop function */\n\n                timeout_loop(s, r, theta, delta, 0, niters, delay, settings);\n            }));\n        }\n    }) (jQuery);\n\n    $('#mercury').orbit($('#sun'  ), {orbits:  8, period:  2000});\n    $('#venus'  ).orbit($('#sun'  ), {orbits:  4, period:  4000});\n    $('#earth'  ).orbit($('#sun'  ), {orbits:  2, period:  8000}).css({backgroundColor: '#ccffcc'});\n    $('#moon'   ).orbit($('#earth'), {orbits: 32, period:   500, maxfps: 20, clockwise: false});       \n    $('#mars'   ).orbit($('#sun'  ), {orbits:  1, period: 16000});\n</code></pre>\n\n<p>The HTML for this example is:</p>\n\n<pre><code>&lt;h1&gt; The inner planets of the Solar System&lt;/h1&gt;\n&lt;div id='solar_system'&gt;\n    &lt;div id='sun'    &gt;SUN&lt;/div&gt;\n    &lt;div id='mercury'&gt;m&lt;/div&gt;\n    &lt;div id='venus'  &gt;v&lt;/div&gt;\n    &lt;div id='earth'  &gt;e&lt;/div&gt;\n    &lt;div id='moon'   &gt;m&lt;/div&gt;\n    &lt;div id='mars'   &gt;m&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The CSS for this example is:</p>\n\n<pre><code>#solar_system {position: relative; width: 1600px; height: 1600px; background-color: #222222}\n#sun          {position: absolute; width:  80px; height:  80px;\n               top: 380px; left: 580px; background-color: #ffff00;\n               -moz-border-radius: 40px; border-radius: 40px;\n               text-align: center; line-height: 80px;\n}\n#mercury      {position: absolute; width:  18px; height:  18px;\n               top: 335px; left: 535px; background-color: #ffaaaa;\n               -moz-border-radius:  9px; border-radius:  9px;\n               text-align: center; line-height: 18px;\n}\n#venus        {position: absolute; width:  36px; height:  36px;\n               top: 300px; left: 500px; background-color: #aaaaff;\n               -moz-border-radius: 18px; border-radius: 18px;\n               text-align: center; line-height: 30px;\n}\n#earth        {position: absolute; width:  30px; height:  30px;\n               top: 200px; left: 400px; background-color: #ffaaaa;\n               -moz-border-radius: 15px; border-radius: 15px;\n               text-align: center; line-height: 30px;\n}\n#moon         {position: absolute; width:  12px; height:  12px;\n               top: 150px; left: 350px; background-color: #cccccc;\n               -moz-border-radius: 6px; border-radius: 6px;\n               text-align: center; line-height: 12px;\n}\n#mars        {position: absolute; width:  24px; height:  24px;\n               top: 100px; left: 200px; background-color: #ffaaaa;\n               -moz-border-radius: 12px; border-radius: 12px;\n               text-align: center; line-height: 24px;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 16
                },
                {
                    "body": "<pre><code>rotnew = (Math.asin(a / r) * 180) / Math.PI;\n\nif(y &lt; s_x ){\n   rotnew =  - rotnew;\n        }\np.css({'transform': 'rotate('+(rotnew)+'deg)'});\n</code></pre>\n\n<p>These three lines (placed inside the loop) allow each \"planet\" to remain perpendicular to the orbit center, it does not do anything if the rotating object are round of course :D</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p><strong>REVISED:</strong>\nAre there any jQuery plugins that can revolve one element around another?</p>\n\n<p><strong>EDIT:</strong> By \"orbiting\", I mean rotating on the same z-index around another element.</p>\n",
            "last_activity_date": 1380728322,
            "question_id": 7454667,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "jquery-plugins"
            ],
            "title": "jQuery plugin to make an element orbit another?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You actually have an array of objects so..</p>\n\n<pre><code>var obj = $.parseJSON(string);\n\nvar users = obj.users;    \n\nfor x in users {\n    alert(users[x].Name);\n    alert(users[x].Value);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can use jQuery.parseJSON, here's an example:</p>\n\n<pre><code>var jsonString = '{\"key\":\"value\",\"otherkey\":\"othervalue\"}';\ndata = $.parseJSON(jsonString);\nalert(data.key); // Shows: value\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<pre><code>var json = '{\"Users\":[{\"Name\":\"user999\",\"Value\":\"test\"},{\"Name\":\"test2\",\"Value\":\"test\"}]}';\n\nvar json_parsed = $.parseJSON(json);\n\nfor (var u = 0; u &lt; json_parsed.Users.length; u++){\n    var user = json_parsed.Users[u];\n    $('body').append($('&lt;p&gt;').html('User: '+user.Name+'&lt;br /&gt;Value: '+user.Value));\n}\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>&lt;p&gt;User: user999&lt;br /&gt;Value: test&lt;/p&gt;\n&lt;p&gt;User: test2&lt;br /&gt;Value: test&lt;/p&gt;\n</code></pre>\n\n<p>jsFiddle Example: <a href=\"http://jsfiddle.net/bradchristie/XtzjZ/1/\">http://jsfiddle.net/bradchristie/XtzjZ/1/</a></p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>For the JSON you have given, <code>$.parseJSON</code> should return an object, <code>myObj</code>, that can be accessed like so:</p>\n\n<pre><code>var users = myObj.Users,\n    user0_name = users[0].Name;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<pre><code>&lt;script&gt;\nvar str = '{\"Users\":[{\"Name\":\"user999\",\"Value\":\"test\"},{\"Name\":\"test2\",\"Value\":\"test\"}]}';\nstr = eval('('+str+')');\nalert(str.Users[0].Name);\n\n//var str = '{\"x\":{\"a\":\"1\"}}';\n//alert(str.x.a);\n&lt;/script&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I have the following Json string</p>\n\n<pre><code>{ \"Users\" : [ \n    { \"Name\" : \"user99\",\n      \"Value\" : \"test\"\n    },\n    { \"Name\" : \"test2\",\n      \"Value\" : \"test\"\n    }\n ] \n}\n</code></pre>\n\n<p>I am trying to parse it and print out each name and value - what is the easiest way to do this ? \nI tried jQuery.parseJSON but I do not know how to use it I guess</p>\n\n<p>Sample code would be great</p>\n",
            "last_activity_date": 1369222410,
            "question_id": 5071115,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "json"
            ],
            "title": "parse json string"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>When rendering the login page you could append a custom HTTP header to the response: <code>X-LOGIN-PAGE: True</code>. Then perform your AJAX call and check for the presence of this custom header in the success callback. Act accordingly if present.</p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>You can check for the authentication in the method being called by the AJAX call and if not found can just return a flag. In the AJAX handler in the client page, you can detect and redirect to the login page.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>In my application, I'm loading some table using AJAX. But when user's session times out it gives me login page as response that gets loaded in table area. </p>\n\n<p>I would like to redirect to login page may be in javascript when session timeout occurs during AJAX call.</p>\n",
            "last_activity_date": 1287038035,
            "question_id": 3930646,
            "score": 6,
            "tags": [
                "javascript",
                "ajax",
                "session"
            ],
            "title": "Session timeout response in AJAX"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>According to <a href=\"http://www.phpied.com/3-ways-to-define-a-javascript-class/\">this</a> article, there are three ways to define a class in JavaScript:</p>\n\n<p><strong>1 Using a function</strong></p>\n\n<p>Example:</p>\n\n<pre><code> function Apple (type) {\n     this.type = type;\n     this.color = \"red\";\n     this.getInfo = getAppleInfo;\n }\n\n function getAppleInfo() {\n     return this.color + ' ' + this.type + ' apple';\n }\n\n\n var apple = new Apple('macintosh');\n apple.color = \"reddish\";\n alert(apple.getInfo());\n</code></pre>\n\n<p><strong>2 Using JSON</strong></p>\n\n<pre><code> var apple = {\n     type: \"macintosh\",\n     color: \"red\",\n     getInfo: function () {\n         return this.color + ' ' + this.type + ' apple';\n     }\n }\n\n\n apple.color = \"reddish\";\n alert(apple.getInfo());\n</code></pre>\n\n<p><strong>3 Singleton using a function</strong></p>\n\n<pre><code> var apple = new function() {\n     this.type = \"macintosh\";\n     this.color = \"red\";\n     this.getInfo = function () {\n         return this.color + ' ' + this.type + ' apple';\n     };\n }\n\n\n apple.color = \"reddish\";\n alert(apple.getInfo());\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>The <code>var</code> makes a private variable, do prefix with <code>this</code> instead in your constructor:</p>\n\n<pre><code>        function Player () {\n            this.speed = 5;\n            this.x = 50;\n            this.y = 50;\n            var pri = 'private';\n            this.update = function() {\n                  if(keys[37]) this.x -= this.speed;\n                  if(keys[39]) this.x += this.speed;\n            }\n        }\n\n        var player = new Player;\n        alert( player.speed ) // should alert 5\n        alert( player.pri ) // should fail or say undefined\n</code></pre>\n\n<p>You can also do...</p>\n\n<pre><code>      var player = {\n           speed: 5,\n           x:50,\n           y:50,\n           update: function() {\n               // code\n           }\n      }\n</code></pre>\n\n<p>And then get rid of <code>new Player</code> and the <code>Player</code> constructor.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>You're using Player like a constructor, but it is not set up like one.</p>\n\n<p>Rather than using <code>var</code> inside the constructor function, like <code>var speed = 5;</code>\nyou need to use</p>\n\n<pre><code>this.speed=5;\n</code></pre>\n\n<p>Then it wil return an instance of Player. As it is, you're just setting some variables and returning nothing in particular.</p>\n\n<p>Now, as far as learning JS object creation and inheritance, I suggest checking out Douglas Crockford's resources.  As you may know, it's not intended to be class-based like Java, PHP, Python and so on. JavaScript has prototypal inheritance based on cloning objects that already exist.</p>\n\n<p>Crockford discusses doing class-based inheritance in JS in <a href=\"http://www.crockford.com/javascript/inheritance.html\" rel=\"nofollow\">this older article</a>. The problem is, you're not using JS to it's best trying to do that. <a href=\"http://javascript.crockford.com/prototypal.html\" rel=\"nofollow\">This treatise</a> may be interesting where he explains one way of cloning objects. That is the Object.beget method, which is good, but has limits as well. The best way is the 'functional' method. Sorry for the PowerPoint links, but you should read this: <a href=\"http://www.crockford.com/codecamp/The%20Good%20Parts%20ppt/4%20prototypal.ppt\" rel=\"nofollow\">http://www.crockford.com/codecamp/The%20Good%20Parts%20ppt/4%20prototypal.ppt</a> and this: <a href=\"http://www.crockford.com/codecamp/The%20Good%20Parts%20ppt/5%20functional.ppt\" rel=\"nofollow\">http://www.crockford.com/codecamp/The%20Good%20Parts%20ppt/5%20functional.ppt</a></p>\n\n<p><a href=\"http://video.yahoo.com/watch/630959/2974197\" rel=\"nofollow\">http://video.yahoo.com/watch/630959/2974197</a> is one version of a video where Crockford discusses the ins and outs of JS.  <a href=\"http://www.youtube.com/watch?v=hQVTIJBZook\" rel=\"nofollow\">http://www.youtube.com/watch?v=hQVTIJBZook</a> is another of the same.  </p>\n\n<p>I really recommend getting the book <a href=\"http://rads.stackoverflow.com/amzn/click/0596517742\" rel=\"nofollow\">JavaScript: The Good Parts</a> for a thorough run down of pragmatic advanced JavaScript.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>This is what I got so far, and it's not working at all :( all the variables are null in my player class and update never gets called.</p>\n\n<p>I mean a programming class, not a css class. I.E. not (.movingdiv{color: #ff0000;})</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;title&gt;Class Test&lt;/title&gt;\n        &lt;meta charset=\"utf-8\" /&gt;\n        &lt;style&gt;\n            body { text-align: center; background-color: #ffffff;}\n            #box { position: absolute; left: 610px; top: 80px; height: 50px; width: 50px; background-color: #ff0000; color: #000000;}\n        &lt;/style&gt;\n\n        &lt;script type=\"text/javascript\"&gt;\n            document.onkeydown=function(event){keyDown(event)};\n            document.onkeyup=function(event){keyUp(event)};\n            var box = 0;\n\n            function Player () {\n                var speed = 5;\n                var x = 50;\n                var y = 50;\n            }\n\n            function update() {\n                box.style.left = this.x + \"px\";\n                box.style.top = this.y + \"px\";\n                box.innerHTML = \"&lt;h6 style=\\\"margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;\\\"&gt;X: \"+ this.x + \"&lt;br /&gt; Y: \" + this.y + \"&lt;/h6&gt;\";\n            }\n\n            var player = new Player();\n            var keys = new Array(256);\n            var i = 0;\n            for (i = 0;i &lt;= 256; i++){\n                keys[i] = false;\n            }\n\n            function keyDown(event){\n               keys[event.keyCode] = true;\n            }\n\n            function keyUp(event){\n               keys[event.keyCode] = false; \n            }\n\n            function update(){\n                if(keys[37]) player.x -= player.speed;\n                if(keys[39]) player.x += player.speed;\n\n                player.update();\n            }\n\n            setInterval(update, 1000/60);\n        &lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;div id=\"box\" &gt;&lt;/div&gt; \n        &lt;script type=\"text/javascript\"&gt;\n            box = document.getElementById('box');\n            box.innerHTML = \"&lt;h6 style=\\\"margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;\\\"&gt;X: \"+ player.x + \"&lt;br /&gt; Y: \" + player.y + \"&lt;/h6&gt;\";\n        &lt;/script&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<hr>\n\n<p>Edit: alright, I think I messed up here. The first time I tried to make a class I seem to have messed up. After retrying I seem to be able to now using the \"1 Using a function\" in Meders post.</p>\n\n<p>the real problem seems to be that javascript doesn't know what to do when it gets to this line in my real code: </p>\n\n<pre><code>box.style.background-position = \"\" + -(this.frame * this.width) + \"px \" + -(this.state * this.height) + \"px\";\n</code></pre>\n\n<p>It also seems to choke anytime I put </p>\n\n<p><code>box.style.background-color</code></p>\n\n<p>So the question I need answered now is how do I set a value to style variables in javascript that have a \"-\" in the name. I'll post a test in a second</p>\n",
            "last_activity_date": 1395036205,
            "question_id": 3034274,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "oop",
                "class"
            ],
            "title": "How do I create a class in Javascript?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<ul>\n<li>Use <a href=\"http://jslint.com/\" rel=\"nofollow\">JSLint.com</a> to test your code it gives great recommendations about probably problems in your code.</li>\n<li>There is also a <a href=\"http://ajaxian.com/archives/microsoft-javascript-memory-leak-detector\" rel=\"nofollow\">memory leak detector by Microsoft</a>! (It moved here <a href=\"http://www.outofhanwell.com/ieleak/index.php?title=Main_Page\" rel=\"nofollow\">http://www.outofhanwell.com/ieleak/index.php?title=Main_Page</a> , other download and description about the tool called drip: <a href=\"http://www.smallworkarounds.net/2009/04/jquery-leaking-memory-be-careful-while.html\" rel=\"nofollow\">http://www.smallworkarounds.net/2009/04/jquery-leaking-memory-be-careful-while.html</a>)</li>\n<li>There is also an <a href=\"http://javascript.crockford.com/memory/leak.html\" rel=\"nofollow\">article by Corckford about mem leaks</a>.</li>\n<li>jQuery has some build in mechanisms to avoid memory leaks. There are a lot of documentations out there about this problems. </li>\n<li><a href=\"http://blogs.msdn.com/b/gpde/archive/2009/08/03/javascript-memory-leak-detector-v2.aspx\" rel=\"nofollow\">Other memory detector by Microsoft</a></li>\n<li>Remind: Google announced that they will drop support for IE6.</li>\n<li><a href=\"https://developers.google.com/chrome-developer-tools/docs/heap-profiling-dom-leaks\" rel=\"nofollow\">Google Chrome has build in memory profiling</a> <em>(Update on July 2013)</em></li>\n</ul>\n\n<p><strong>Update:</strong></p>\n\n<p>I tested the code above with <a href=\"http://www.outofhanwell.com/ieleak/Drip-0.5.exe\" rel=\"nofollow\">drip.exe</a> and it seems that there is really something like a memory leak. The memory usage went steadily up while running the code with auto refreshing for some minutes.</p>\n\n<p><strong>Update 2:</strong></p>\n\n<p>I think this is the bug: <a href=\"http://code.google.com/p/gmaps-api-issues/issues/detail?id=1555&amp;can=1&amp;q=unload&amp;colspec=ID%20Type%20Status%20Introduced%20Fixed%20Summary%20Internal%20Stars\" rel=\"nofollow\">http://code.google.com/p/gmaps-api-issues/issues/detail?id=1555&amp;can=1&amp;q=unload&amp;colspec=ID%20Type%20Status%20Introduced%20Fixed%20Summary%20Internal%20Stars</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>One well-known source of IE memory leaks is the (deliberate or accidental) trapping of Javascript \"stuff\" in closures (functions) bound as event handlers to DOM elements. Most frameworks try hard to clean out event handlers explicitly for that reason.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You need to also execute GUnload before leaving the page. Simply add an \"unload\" event:</p>\n\n<pre><code>&lt;body onload=\"initialize()\" onunload=\"GUnload()\"&gt;\n</code></pre>\n\n<p>Read more about this leak at the <a href=\"http://www.google.com/apis/maps//documentation/#Memory_Leaks\" rel=\"nofollow\">Google Maps API</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Most of the answers so far will help you get there so i am adding a link to an article on IBM Dev Works for Memory leak patterns in JavaScript (you might find it helpful)</p>\n\n<p><a href=\"http://www.ibm.com/developerworks/web/library/wa-memleak/\" rel=\"nofollow\">http://www.ibm.com/developerworks/web/library/wa-memleak/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a some javascript (used with google maps api) that I am testing on IE and Chrome and noticed memory leak symptoms in IE only: when I refresh the page continuously, the amount of memory used in IE keeps growing (fast), but in Chrome it stays constant.  Without posting all of the code (as it is rather long), can I get some suggestions as to what to look out for?  What could cause the memory to keep growing like this in IE on page refreshes?</p>\n\n<p>Like I said I know its hard without code, but I'd like to see if any generic advice works first.  Thanks.</p>\n\n<p><strong>Update</strong>: thanks for the responses so far.  As a sanity check, I ran the google maps api \"Hello World\" code <a href=\"http://code.google.com/apis/maps/documentation/javascript/introduction.html\">from google</a> to see what would happen in IE (the code is shown below).  When running this code in IE, when I keep refreshing the page over and over again, the memory keeps growing and growing.  Is this a memory leak? This doesnt seem like intended functionality...</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\" /&gt;\n&lt;script type=\"text/javascript\" src=\"http://maps.google.com/maps/api/js?sensor=false\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n  function initialize() {\n    var latlng = new google.maps.LatLng(-34.397, 150.644);\n    var myOptions = {\n      zoom: 8,\n      center: latlng,\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    };\n    var map = new google.maps.Map(document.getElementById(\"map_canvas\"), myOptions);\n  }\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=\"initialize()\"&gt;\n  &lt;div id=\"map_canvas\" style=\"width:100%; height:100%\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Update 2</strong>: So is there no way to get this google Hello World map api code to run without leaking memory in IE?  I noticed that if I run the same experiment on <a href=\"http://maps.google.com\">maps.google.com</a> there doesn't seem to be a leak...It would be great if someone could help me modify the hello world code so that it does not leak in IE; this way I can build off of it (I don't mind using JQuery if this would help, but I tried it on the Hello World code and it was still leaking in IE).  Thanks again</p>\n",
            "last_activity_date": 1372690740,
            "question_id": 2989279,
            "score": 6,
            "tags": [
                "javascript",
                "internet-explorer",
                "memory-leaks"
            ],
            "title": "javascript memory leak"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>There is no question getting multiple videos from different websites takes time. Have you tried obtaining a copy of those videos, upload it to your web server and embed your videos that way? It may increase rendering speed of your pages if the videos come from a single source.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Your \"ajax-y method\"s will be the only way to speed this up. Large sites are going to be using a <a href=\"http://en.wikipedia.org/wiki/Content%5Fdelivery%5Fnetwork\" rel=\"nofollow\">CDN</a> and have good caching. There is no way around large files taking a long time...</p>\n\n<p>Keeping the object or video tag out of the HTML and then adding it after page load, will improve perceived page load performance. Perhaps swap out an screengrab image that is the same size as the eventual video...</p>\n\n<p>It's early days for the video tag, but it's possible that eventually it's initialization time will be faster than Flash, since it's part of the browser and not a 3rd party plugin. </p>\n\n<p>The bulk of the video load time depends on how the video was encoded/transferred which is out of your control, it sounds like.</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>The problem with embedded YouTube videos is that the player itself needs to load. You could add \"controls=2\" in the URL of the embedding code, but that would make only AS2/3 players to load the player after clicking.</p>\n\n<p>The workaround Google+ has for this issue is not to load the player at all. Instead, it loads a thumbnail image with a play button superimposed. On clicking, the image is replaced with the actual YouTube player iframe embed code and it loads and auto-plays.</p>\n\n<p>This can be done in any site actually using the simple javascript below.\n<a href=\"https://skipser.googlecode.com/files/gplus-youtubeembed.js\" rel=\"nofollow\">https://skipser.googlecode.com/files/gplus-youtubeembed.js</a></p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>The Google Plus solution is the only way to improve performance: load an image stub, then load the full player when the user clicks.</p>\n\n<p>Building on the solution from @boscharun here is the solution I use:</p>\n\n<pre><code>&lt;style&gt;\ndiv.video-container a img.playbutton {visibility: hidden;\n  content:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE0AAABNCAQAAABJACE7AAAEvklEQVR4AdyYX0hbVxzHv5CH4kMZVUighTLxKXmMCBGF/MKC26Qy5x6njMEsGCgU8zBQygaDsJVC2IOCoIPhAqtjbFxmXsJl4EPgPpSGhTDSQDPXEbUNRSpGZ/6cwSHk5MaYa8498WGf39sVrt/c8/vz/R38X+mDE4PwwAsfxuEHwY9x+OCFB4Nwog9XjgMuuDEKsoxRuOGCA1fCADwg8Jic2VwyNvKJYvq4cHZULbNatXx2dFwopvMJY2NzaXKmIdGDAfSUWxgB/1cri5mtN8+ZJW+eZ7ZWFuvyRnALPeEmfCDQwmwqVjpgXVE6SMUWZrk8H25CKTfgBYEioV2dSbOrR0Jcnhc3oIgh8K+VTzDb5BP1rzcE21zHMAhkbLC2HD7Lanp0NRyaG5vqDzoC/cGxqdDcaliPZrXDZ6wtxgYXN4zrsIELftDyfDHNzvFiR4tMTIM6xcS0Fnmxw85RTC/P8x7ogiS3QaD4Q1ZrSeq95JpZlJXA5Fppj5mpxR/yv96GBIMgUCrGTJy81KMgmdCjJy+ZiVSM/2VQSlgu3voyZxAkG85g6w/NxbsXx48ynzAn/KN7ILvx6J65OPKJ7o7Vdf6L5bavBUAq4logt93my7ku1y78rTlmrINUhrF+Luf8l2klw7wqm5BMfIuiYE3wah2+ROdfnmc1eWFS4mq8zw11npUEKqZlj1L+WItp/qzDbPWaR1JuG9TLyG23jC/vxbaHFmab24X9qrSq1uZWwgf/BZbJZ+5lEn1Mos+19DhfewdLkZC5pC+KfeP+J4rEmdoU93NtnPAIaFcXs7LTSGKsWvnz1/c+VCHNGRSzdVfnNr2FAZFn1i2DccolY/3td9W2EZ5vAzDhaf60pb3OL2t2/T9/5bBdLKU9Uxp5zHslgcQyklyzliZ4neE5YiOSa+Kn8icO00BfWWQNrIwia6X29++ffSwvbWKaNVhZNA97NyizJaw1qCtpnEo5/Xjkjqw4YdMzWyC40WAUJBZeLSIhjfPvoR596x0ZaVpELNUgjIpLFZqcMR2npDT+6r+++9zekfLriD5wnKDNJTGeQHLSBK+ecifRVYiRtbkEgrOxB4ihntXkpQmqtVz8zkfdSMtqYtCLfcHTPDv1qH1pMi1Zj4pZKnqbt9mjrYZVSBN96revL+dfVsMm7+ZtOI7jAqsTmlMlTWTvt/et3xmaY3WOC8KBjIPOjlidsSnF0jj/7Fi15LEpVufsCIRxcPygapnV6Q/alybTkvuDjRIq8w2LQyCxqDgCvZFWrWU1+uDidzoCYuzxJ1f11V5nvrgLEmH91Xqfa3x8xb/hVSqRaz2rUO6Gf+EZJlGhvetr4oqP5PtaT6bBaVGLiJKSnQbKZ2i1kvlJHKP8DFXuPF49DX8Ksu88FPu106JYY+z7NWUut1L+40f3+yAVLlfpbnDwhG/0yncDmxtV6eDxlyD1G5XNPbRSTv0gjlH9Hiq9ve8bd2dB6rd3m3cepf3YA1Bv7zwkbooqp0++F75f/U2R9P1aIck965Xdr/3XrB0IAAAAMAzyt06jY3zFr2T95T4P+N8N/tryN6q67MU9tK7ITXv/xcLvPH4d85uiWmLlfq1Wf7mVfIVp4HIDzfwP/+fzW/C0yiYAAAAASUVORK5CYII=\")\n}\ndiv.video-container a:hover .playbutton {visibility: visible;}\n&lt;/style&gt;              \n\n&lt;div class=\"video-container\"&gt;\n  &lt;a style=\"position: relative; left: 0; top: 0;\" href=\"https://www.youtube.com/watch?v=IJl2C8QPVjQ&amp;amp;rel=0\"&gt;\n    &lt;img src=\"//img.youtube.com/vi/IJl2C8QPVjQ/0.jpg\" style=\"position: relative; top: 0; left: 0; width:100%; height:auto\"&gt;\n    &lt;img class=\"playbutton\" style=\"position: absolute; top: 50%; left: 50%; margin-left:-38px; margin-top:-38px\"&gt;\n  &lt;/a&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n$('.video-container').click(\n  function(e){\n    e.preventDefault(); \n    var imgURL = $(this).find(\"img\").attr('src');\n    var rx = /\\/vi\\/([^\\/]+)/\n    var arr = rx.exec(imgURL);\n    var url = \"//www.youtube.com/embed/\"+arr[1]+\"?rel=0&amp;autoplay=1\";\n    $(this).find(\"img\").hide();\n    $(this).append('&lt;iframe width=\"100%\" height=\"315\" src=\"'+url+'\" frameborder=\"0\" allowfullscreen&gt;&lt;/iframe&gt;');\n  }\n);\n&lt;/script&gt;                      \n</code></pre>\n\n<p>You can see it in action live at: <a href=\"https://www.acls.net/videos.htm\" rel=\"nofollow\">https://www.acls.net/videos.htm</a></p>\n\n<p>Features include: </p>\n\n<ul>\n<li>Degrades to IMG if necessary</li>\n<li>Semantic</li>\n<li>Responsive</li>\n<li>Uses jQuery</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm writing a blog post that uses multiple videos from YouTube and Yahoo Video, but I'm not happy with how long it takes the page to render. Apart from using an ajax-y method to load the videos, are there any tricks that would make the page load quicker with multiple videos from different sources?</p>\n",
            "last_activity_date": 1407526450,
            "question_id": 1268482,
            "score": 6,
            "tags": [
                "javascript",
                "optimization",
                "video"
            ],
            "title": "Is there a way to load embedded YouTube videos faster on my website?"
        }
    ]
}
