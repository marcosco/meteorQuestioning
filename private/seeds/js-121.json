{
    "items": [
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>try to use this.</p>\n\n<pre><code>// grab your file object from a file input\n$('#fileInput').change(function () {\n  sendFile(this.files[0]);\n});\n\n// can also be from a drag-from-desktop drop\n$('dropZone')[0].ondrop = function (e) {\n  e.preventDefault();\n  sendFile(e.dataTransfer.files[0]);\n};\n\nfunction sendFile(file) {\n  $.ajax({\n    type: 'post',\n    url: '/targeturl?name=' + file.name,\n    data: file,\n    success: function () {\n      // do something\n    },\n    xhrFields: {\n      // add listener to XMLHTTPRequest object directly for progress (jquery doesn't have this yet)\n      onprogress: function (progress) {\n        // calculate upload progress\n        var percentage = Math.floor((progress.total / progress.totalSize) * 100);\n        // log upload progress to console\n        console.log('progress', percentage);\n        if (percentage === 100) {\n          console.log('DONE!');\n        }\n      }\n    },\n    processData: false,\n    contentType: file.type\n  });\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                }
            ],
            "body": "<p>I am currently POSTING my form through AJAX with the following code:</p>\n\n<pre><code>$(document).ready(function(){\n    $(\"form#createForm\").submit(function() { // loginForm is submitted\n        $(\"form#createForm input#createForm_submit\").attr('disabled','disabled');\n\n        tinyMCE.triggerSave();\n\n        $.ajax({\n            type: \"POST\",\n            dataType: \"json\",\n            url: \"perform\", // URL of the Perl script\n            data: $(\"#createForm\").serialize(),\n\n            // script call was successful \n            // data contains the JSON values returned by the Perl script \n            success: function(data){\n\n                $('div.form-group').each(function(){\n                    $(this).removeClass('has-error');\n                });\n\n                if (data.error) { // script returned error\n                    var myList = $('ul.msg-list').empty();\n\n                    $.each(data.msg, function(key,item) {\n                        $(\"div.\"+key).addClass('has-error');\n                        $('&lt;li&gt;').text(item.errtxt).appendTo(myList);\n                    });\n\n\n                    $('div#create_createresult').html('some error').html(myList);\n                    $('div#create_createresult').addClass(\"text-danger\");\n\n                    $(\"form#createForm input#createForm_submit\").removeAttr('disabled');\n                } // if\n                else \n                { // login was successful\n                    //$('form#login_loginform').hide();\n                    $('div#create_createresult').text(data.msg);\n                    $('div#create_createresult').addClass(\"success\");\n\n                } //else\n            } // success\n        }); // ajax\n        $('div#login_loginresult').fadeIn();\n        return false;\n    });\n});\n</code></pre>\n\n<p>Now I want to add the posibility of uploading a picture in the same form and just implement it in this JQUERY and in the same server-side script. My only problem is, I don't know how to do it.. I have tested the above, and I find, that it doesn't pass the $_FILES-variable to my server side script.</p>\n\n<p>Can anyone lead me in any direction of, what I need to do, to add the possibility of image upload with this script? :)</p>\n\n<p>Thanks in advance,</p>\n\n<p>denlau</p>\n",
            "last_activity_date": 1402919236,
            "question_id": 19920322,
            "score": 6,
            "tags": [
                "javascript",
                "php",
                "jquery",
                "ajax",
                "file-upload"
            ],
            "title": "How to upload file through Jquery/AJAX"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>If you want the image centered in the box without resizing the image, just use this code:</p>\n\n<pre><code>.box {\n    width: 100px;\n    height: 100px;\n    overflow: hidden;\n    position: relative;\n}\n.box img {\n    width: 413px;\n    height: 325px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n}\n</code></pre>\n\n<p>If you are looking to resize the image to fit, use the following code: </p>\n\n<pre><code>.box {\n    width: 100px;\n    height: 100px;\n}\n.box img {\n    width: 100%;\n    height: auto;\n}\n</code></pre>\n\n<p>This code will leave some white space if the image is wider than it is tall.  If neither of these work, you could just set the image as a background and use <code>background-size: cover;</code>.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>this may be easier</strong></p>\n\n<p>jQuery</p>\n\n<pre><code>$('.box').each(function() {\n    //set size\n    var th = $(this).height(),//box height\n        tw = $(this).width(),//box width\n        im = $(this).children('img'),//image\n        ih = im.height(),//inital image height\n        iw = im.width();//initial image width\n    if (ih&gt;iw) {//if portrait\n        im.addClass('ww').removeClass('wh');//set width 100%\n    } else {//if landscape\n        im.addClass('wh').removeClass('ww');//set height 100%\n    }\n    //set offset\n    var nh = im.height(),//new image height\n        nw = im.width(),//new image width\n        hd = (nh-th)/2,//half dif img/box height\n        wd = (nw-tw)/2;//half dif img/box width\n    if (nh&lt;nw) {//if portrait\n        im.css({marginLeft: '-'+wd+'px', marginTop: 0});//offset left\n    } else {//if landscape\n        im.css({marginTop: '-'+hd+'px', marginLeft: 0});//offset top\n    }\n});\n</code></pre>\n\n<p>css</p>\n\n<pre><code>.box{height:100px;width:100px;overflow:hidden}\n.wh{height:100%!important}\n.ww{width:100%!important}\n</code></pre>\n\n<p>This should handle any size/orientation, and will not only resize, but offset the images. All without <code>relative</code> or <code>absolute</code> positioning.</p>\n\n<p>made a fiddle: <a href=\"http://jsfiddle.net/filever10/W8aLN/\" rel=\"nofollow\">http://jsfiddle.net/filever10/W8aLN/</a></p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>From <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/background-size\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/CSS/background-size</a>:</p>\n\n<pre><code>cover\n    This keyword specifies that the background image should be scaled to be as small as possible while ensuring both its dimensions are greater than or equal to the corresponding dimensions of the background positioning area.\n</code></pre>\n\n<p>So, you're either looking at making the <code>width: 100%</code> or the <code>height: 100%</code>, whichever will create an overlap within the parent <code>div</code>. So we can use the following logic:</p>\n\n<pre><code>var makeBackgroundCover = function (div) {\n    $(div + \" img\").css(\"height\", \"100%\");\n    if ($(div + \" img\").width() &lt; $(div).width()) {\n        $(div + \" img\").css({\n            \"height\": \"auto\",\n            \"width\": \"100%\"\n        });\n    }\n}\n</code></pre>\n\n<p>The following fiddle shows this function working on both a horizontal and vertical image.</p>\n\n<p><a href=\"http://jsfiddle.net/2r5Cb/\" rel=\"nofollow\">http://jsfiddle.net/2r5Cb/</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Here is my approach:</p>\n\n<pre><code>//collect the nodes\nvar parent = $('.box');\nvar img = $('image', box);\n\n//remove width and height attributes\nimg.removeAttr('width');\nimg.removeAttr('height');\n\n//set initial width\nimg.attr('width', parent.width());\n\n//if it's not enough, increase the width according to the height difference\nif (img.height() &lt; parent.height()) {\n    img.css('width', img.width() * parent.height() / img.height());\n}\n\n//position the image in the center\nimg.css({\n    left: parseInt((img.width() - parent.width())/-2) + 'px',\n    top: parseInt((img.height() - parent.height())/-2) + 'px'\n});\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/XHtVy/1/\" rel=\"nofollow\">FIDDLE</a></strong></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>While reading the accepted answer, it strikes me that we simply test on whether the image is 'portrait' or 'landscape':</p>\n\n<pre><code>   if (ih&gt;iw) {//if portrait\n</code></pre>\n\n<p>In the case of the OP, that's right. But others might be dealing with rectangles and should take the aspect ratio of the container and the 'child'-image into consideration:</p>\n\n<pre><code>    var int_container_width  = parseInt( $_container.width()  );\n    var int_container_height = parseInt( $_container.height() );\n    var num_container_aspect = int_container_width/int_container_height;\n\n    var int_image_width      = parseInt( $_image.width() );\n    var int_image_height     = parseInt( $_image.height());\n    var num_image_aspect     = int_image_width/int_image_height;\n\n    if ( num_image_aspect &gt; num_container_aspect){\n      num_scale = int_container_width/int_image_width * 100;\n    } else {\n      num_scale = int_container_height/int_image_height * 100;\n    }\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>For what it's worth: this can now be done with CSS alone with...</p>\n\n<h2>The new CSS property <a href=\"http://www.w3.org/TR/css3-images/\" rel=\"nofollow\">object-fit</a> (<a href=\"http://caniuse.com/#feat=object-fit\" rel=\"nofollow\">Current browser support</a>)</h2>\n\n<p>Just set <code>object-fit: cover;</code> on the <code>img</code></p>\n\n<p>You don't even need to wrap the <code>img</code> in a <code>div</code>!</p>\n\n<p><strong><a href=\"http://jsfiddle.net/danield770/Lqqh22gf/12/\" rel=\"nofollow\">FIDDLE</a></strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>img {\r\n  width: 100px;\r\n  height: 100px;\r\n}\r\n.object-fit {\r\n  display: block;\r\n  object-fit: cover;\r\n}\r\n.original {\r\n  width: auto;\r\n  height: auto;\r\n  display: block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;img src=\"http://lorempixel.com/413/325/food\" width=\"413\" height=\"325\"&gt;\r\n&lt;p&gt;Img 'squashed' - not good&lt;/p&gt;\r\n&lt;img class=\"object-fit\" src=\"http://lorempixel.com/413/325/food\" width=\"413\" height=\"325\"&gt;\r\n&lt;p&gt;object-fit: cover -\r\n   The whole image is scaled down or expanded till it fills the box completely, the aspect ratio is maintained. This normally results in only part of the image being visible. &lt;/p&gt;\r\n&lt;img class=\"original\" src=\"http://lorempixel.com/413/325/food\" width=\"413\" height=\"325\"&gt;\r\n&lt;p&gt;Original ing&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can read more about this new property in this <a href=\"http://docs.webplatform.org/wiki/css/properties/object-fit\" rel=\"nofollow\">webplatform article</a>.</p>\n\n<p>Also, here is <a href=\"http://jsfiddle.net/danield770/n8qxcp4b/1/\" rel=\"nofollow\">a fiddle</a> from the above article which demonstrates all the values of the <code>object-fit</code> property.</p>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>How can I resize and reposition the image inside a box, in such way that it covers the entire box, similar to how <code>background-size: cover</code> works.</p>\n\n<pre><code>&lt;div class=\"box\" style=\"width: 100px; height: 100px;\"&gt;\n  &lt;img src=\"pic.jpg\" width=\"413\" height=\"325\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I know I have to add <code>overflow:hidden</code> to the box and the image needs <code>position: absolute</code>. But what's the formula that gets me the right new size for the image, and left + top positions?</p>\n",
            "last_activity_date": 1425136975,
            "question_id": 19776670,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "math",
                "background-size"
            ],
            "title": "How to emulate background-size: cover on &lt;img&gt;?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><code>second</code> is in fact a new object, with <code>first</code> being the prototype of <code>second</code>. The reason why </p>\n\n<pre><code>second = 20;\n</code></pre>\n\n<p>does not work is because upon assignment, it will look for the settings on the prototype (i.e. <code>configurable</code>, <code>enumerable</code>, <code>writable</code>, <code>[[Extensible]]</code>) and not assign to the instance if these are false<sup>1</sup>. To assign directly to the instance, you'll have to use <code>Object.defineProperty</code> on <code>second</code>:</p>\n\n<pre><code>var first = {\n    test: 10\n};\nObject.freeze(first);\n\nvar second = Object.create(first);\nObject.defineProperty(second, 'test', { value: 20, enumerable: true, configurable: true, writable: true });\nconsole.log(second.test); // 20\n</code></pre>\n\n<p><sup>1: </sup><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-8.12.5\" rel=\"nofollow\"><code>[[Put]]</code>: the ECMAScript Specification, \u00a78.12.5</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>In your case <code>second</code> is a reference to <code>first</code> (like you assumed). A solution would be to clone your object. There is no build in way to clone objects - you have to do it yourself, here is how <a href=\"http://stackoverflow.com/a/122190/940072\">(source)</a>:</p>\n\n<pre><code>function clone(obj){\n   if(obj == null || typeof(obj) != 'object')\n      return obj;\n\n   var temp = obj.constructor();\n\n   for(var key in obj)\n       temp[key] = clone(obj[key]);\n   return temp;\n}\n</code></pre>\n\n<p>Then you use it this way:</p>\n\n<pre><code>var first = {\n    test: 10\n};\nObject.freeze(first);\n\n// clone it into a new one\nvar second = clone(first);\nsecond.test = 20;\nconsole.log(second.test); // 20 where the first is locked\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>This example creates an object, freezes it, and then creates a new object from the frozen object.\nIf the second object tries to change the test property, it can't. It remains frozen with the\nfirst object's value of 10.</p>\n\n<pre><code>//Create an object and freeze it\n\nvar first = {\n    test: 10\n};\nObject.freeze(first);\n\n//Create a second object from the first one and\n//try and change the new test property (you can't)\n\nvar second = Object.create(first);\nsecond.test = 20;\nconsole.log(second.test); //10\n</code></pre>\n\n<p>Here are my questions:</p>\n\n<p>Is <code>second.test</code> a new property on a new object, or is it just a reference to the property in the frozen first object?<br>\nIs it possible to use the frozen <code>first.test</code> as a default value, but let <code>second.test</code> overwrite it if it needs to?</p>\n\n<p>My reason for asking is because I want to make an immutable a base object as a template with default values, and then use it to make new objects that I can customize. What's the best approach for this?</p>\n\n<p>Thanks!</p>\n",
            "last_activity_date": 1383209418,
            "question_id": 19698533,
            "score": 6,
            "tags": [
                "javascript",
                "inheritance",
                "prototypal-inheritance"
            ],
            "title": "Creating new objects from frozen parent objects"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>The error code <code>EACCES</code> means you don't have proper permissions to run applications on that port. On Linux systems, any port below 1024 requires root access.</p>\n",
                    "is_accepted": true,
                    "score": 19
                },
                {
                    "body": "<p>Instead of running on port 80 you can redirect port 80 to your application's port (>1024) using </p>\n\n<pre><code>iptables -t nat -I PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 3000\n</code></pre>\n\n<p>This will work if your application is running on port 3000.</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>Short answer: you can allow node access to that port using:</p>\n\n<p><code>setcap 'cap_net_bind_service=+ep' /path/to/nodejs</code></p>\n\n<p><a href=\"http://askubuntu.com/questions/455478/what-is-setcap-command-and-file-capability\">long answer</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm running an instance of Debian on Amazon EC2 with Node.js installed. If I run the code below:</p>\n\n<pre><code>http = require('http');\n\nhttp.createServer(function (request, response){\n  response.writeHead(200, {'Content-Type':'text/plain'});\n  response.end('Hello World\\n');\n}).listen(80);\nconsole.log(\"Running server at port 80\");\n</code></pre>\n\n<p>I get the output below which tells me there's another process listening at port 80:</p>\n\n<pre><code>Running server at port 80\n\nevents.js:72\n        throw er; // Unhandled 'error' event\n              ^\nError: listen EACCES\n    at errnoException (net.js:901:11)\n    at Server._listen2 (net.js:1020:19)\n    at listen (net.js:1061:10)\n    at Server.listen (net.js:1127:5)\n    at Object.&lt;anonymous&gt; (/home/admin/nodetests/nodetest.js:6:4)\n    at Module._compile (module.js:456:26)\n    at Object.Module._extensions..js (module.js:474:10)\n    at Module.load (module.js:356:32)\n    at Function.Module._load (module.js:312:12)\n    at Function.Module.runMain (module.js:497:10)\n</code></pre>\n\n<p>Now when I check to see if there's a process (as root in case anything is hidden) listening on port 80 using: </p>\n\n<pre><code>netstat -tupln\n</code></pre>\n\n<p>I get the below output, which tells me theres nothing listening at port 80: </p>\n\n<pre><code>Active Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1667/sshd       \ntcp6       0      0 :::22                   :::*                    LISTEN      1667/sshd\n</code></pre>\n\n<p>I should note that the debian has port 80 open as an inbound rule if that makes a difference. </p>\n\n<p>My question is: What am I doing wrong? How come I can't identify the process listening to port 80? Why is it blocked in Debian? What steps should I take to get the code running correctly?   </p>\n",
            "last_activity_date": 1416792130,
            "question_id": 18947356,
            "score": 6,
            "tags": [
                "javascript",
                "linux",
                "node.js",
                "amazon-ec2",
                "debian"
            ],
            "title": "Node.js app can&#39;t run on port 80 even though there&#39;s no other process blocking the port"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The cited answer is wrong. Just change</p>\n\n<pre><code>csvContent += index &lt; infoArray.length ? dataString+ \"\\n\" : dataString;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>csvContent += dataString + \"\\n\";\n</code></pre>\n\n<p>BTW, the cited code is suboptimal too. You should avoid to repeatedly append to a string. You should append to an array instead, and do an array.join(\"\\n\") at the end. Like this:</p>\n\n<pre><code>var csvContentArray = [];\n...\n   csvContentArray.push(dataString);\n...\ncsvContent = \"data:text/csv;charset=utf-8,\" + csvContentArray.join(\"\\n\");\n</code></pre>\n\n<p>As to why the cited answer is wrong (funny it has been accepted!): <code>index</code>, the second parameter of the <code>forEach</code> callback function, is the index in the looped-upon array, and it makes no sense to compare this to the size of <code>infoArray</code>, which is an item of said array (which happens to be an array too).</p>\n",
                    "is_accepted": true,
                    "score": 17
                },
                {
                    "body": "<p>General form is:</p>\n\n<pre><code>var ids = []; &lt;= this is your array/collection\nvar csv = ids.join(\",\");\n</code></pre>\n\n<p>For your case you will have to adapt a little bit</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I've followed this post <a href=\"http://stackoverflow.com/questions/14964035/how-to-export-javascript-array-info-to-csv-on-client-side\">How to export JavaScript array info to csv (on client side)?</a> to get a nested js array written as a csv file.</p>\n\n<p>The array looks like:</p>\n\n<pre><code>var test_array = [[\"name1\", 2, 3], [\"name2\", 4, 5], [\"name3\", 6, 7], [\"name4\", 8, 9], [\"name5\", 10, 11]];\n</code></pre>\n\n<p>The code given in the link works nicely except that after the third line of the csv file all the rest of the values are on the same line\ne.g.</p>\n\n<p>name1,2,3<br>\nname2,4,5<br>\nname3,6,7<br>\nname4,8,9name5,10,11 etc etc</p>\n\n<p>Can anyone shed any light on why this is? Same using Chrome or FF.</p>\n\n<p>Thanks</p>\n\n<p><b>EDIT</b></p>\n\n<p>jsfiddle <a href=\"http://jsfiddle.net/iaingallagher/dJKz6/\">http://jsfiddle.net/iaingallagher/dJKz6/</a></p>\n\n<p>Iain</p>\n",
            "last_activity_date": 1393386058,
            "question_id": 18848860,
            "score": 6,
            "tags": [
                "javascript",
                "arrays",
                "csv"
            ],
            "title": "Javascript array to csv"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>As the jQuery API says: \"Load JSON-encoded data from the server using a GET HTTP request.\"</p>\n\n<p><a href=\"http://api.jquery.com/jQuery.getJSON/\" rel=\"nofollow\">http://api.jquery.com/jQuery.getJSON/</a></p>\n\n<p>So you cannot load a local file with that function. But as you browse the web then you will see that loading a file from filesystem is really difficult in javascript as the following thread says:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/371875/local-file-access-with-javascript\">Local file access with javascript</a></p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Due to security issues (same origin policy), javascript is not allowed to access local files. Imagine a situation when javascript from a website tries to steal your files. You have to deploy it to a web server. Or try to load it with a script tag. Like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" language=\"javascript\" src=\"jquery-1.8.2.min.js\"&gt;&lt;/script&gt;        \n&lt;script type=\"text/javascript\" language=\"javascript\" src=\"priorities.json\"&gt;&lt;/script&gt; \n\n&lt;script type=\"text/javascript\"&gt;\n   $(document).ready(function(e) {\n         alert(jsonObject.start.count);\n   });\n&lt;/script&gt;\n</code></pre>\n\n<p>Your priorities.json file:</p>\n\n<pre><code>var jsonObject = {\n\"start\": {\n    \"count\": \"5\",\n    \"title\": \"start\",\n    \"priorities\": [\n        {\n            \"txt\": \"Work\"\n        },\n        {\n            \"txt\": \"Time Sense\"\n        },\n        {\n            \"txt\": \"Dicipline\"\n        },\n        {\n            \"txt\": \"Confidence\"\n        },\n        {\n            \"txt\": \"CrossFunctional\"\n        }\n    ]\n}\n}\n</code></pre>\n\n<p>Or declare a callback function on your page and wrap it like jsonp technique:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" language=\"javascript\" src=\"jquery-1.8.2.min.js\"&gt;    &lt;/script&gt; \n     &lt;script type=\"text/javascript\"&gt;\n           $(document).ready(function(e) {\n\n           });\n\n           function jsonCallback(jsonObject){\n               alert(jsonObject.start.count);\n           }\n        &lt;/script&gt;\n\n &lt;script type=\"text/javascript\" language=\"javascript\" src=\"priorities.json\"&gt;&lt;/script&gt; \n</code></pre>\n\n<p>Your priorities.json file:</p>\n\n<pre><code>jsonCallback({\n    \"start\": {\n        \"count\": \"5\",\n        \"title\": \"start\",\n        \"priorities\": [\n            {\n                \"txt\": \"Work\"\n            },\n            {\n                \"txt\": \"Time Sense\"\n            },\n            {\n                \"txt\": \"Dicipline\"\n            },\n            {\n                \"txt\": \"Confidence\"\n            },\n            {\n                \"txt\": \"CrossFunctional\"\n            }\n        ]\n    }\n    })\n</code></pre>\n\n<p>Using script tag is a similar technique to JSONP, but with this approach it's not so flexible. I recommend deploying it on a web server.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>I would try to save my object as .txt file and then fetch it like this: </p>\n\n<pre><code> $.get('yourJsonFileAsString.txt', function(data) {\n   console.log( $.parseJSON( data ) );\n }); \n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The d3.js visualization examples I've been replicating on my local machine.. which import .JSON data.. all work fine on Mozilla Firefox browser; and on Chrome I get the cross-origins restrictions error.\nIt's a weird thing how there's no issue with importing a local javascript file, but try loading a JSON and the browser gets nervous. There should at least be some setting to let the user over-ride it, the way pop-ups are blocked but I get to see an indication and a choice to unblock them.. no reason to be so Orwellian about the matter. Users shouldn't be treated as too naive to know what's best for them.</p>\n\n<p>So I suggest using Firefox browser if you're working locally. And I hope people don't freak out over this and start bombing Mozilla to enforce cross-origin restrictions for <em>local files</em>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Hi I am trying to load local JSON file using JQuery to show data but i am getting some weird error. May i know how to solve this.</p>\n\n<pre><code>&lt;html&gt;\n &lt;head&gt;\n&lt;script type=\"text/javascript\" language=\"javascript\" src=\"jquery-1.8.2.min.js\"&gt;&lt;/script&gt;        \n\n&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function(e) {\n    $.getJSON( \"priorities.json\" , function( result ){\n        alert(result.start.count);\n    });\n});\n&lt;/script&gt;&lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I am just alerting the count of JSON data. My JSON file is in the same directory where this html file is and JSON string format is shown below.</p>\n\n<pre><code>{\n\"start\": {\n    \"count\": \"5\",\n    \"title\": \"start\",\n    \"priorities\": [\n        {\n            \"txt\": \"Work\"\n        },\n        {\n            \"txt\": \"Time Sense\"\n        },\n        {\n            \"txt\": \"Dicipline\"\n        },\n        {\n            \"txt\": \"Confidence\"\n        },\n        {\n            \"txt\": \"CrossFunctional\"\n        }\n    ]\n}\n}\n</code></pre>\n\n<p>JSON file name priorities.json and error is </p>\n\n<blockquote>\n  <p>Uncaught Referenceerror priorities is not defined</p>\n</blockquote>\n",
            "last_activity_date": 1425184666,
            "question_id": 18637418,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "json"
            ],
            "title": "Trying to load local JSON file to show data in a html page using JQuery"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Not sure about \"industry standard\", but it's a very handy technique and not too difficult. The content of pseudo elements is not available via <code>text()</code> though, you have to use <code>getComputedStyle</code>.</p>\n\n<p>Example using <code>body:after</code>:</p>\n\n<p><strong>Sass</strong> (using the <a href=\"http://breakpoint-sass.com/\">compass breakpoint extension</a>):</p>\n\n<pre><code>body:after {\n  display: none;\n\n  @include breakpoint($bp-wide) {\n    content: \"wide\";\n  }\n\n  @include breakpoint($bp-medium) {\n    content: \"medium\";\n  }\n\n  @include breakpoint($bp-small) {\n    content: \"small\";\n  }\n}\n</code></pre>\n\n<p><strong>JavaScript</strong>:</p>\n\n<pre><code>if (window.getComputedStyle) {\n  var mq = window.getComputedStyle(document.body,':after').getPropertyValue('content');\n}\n\nif (mq.indexOf('small') !== -1) {\n  // do something\n}\n</code></pre>\n\n<p>Credit: I first saw this technique here: <a href=\"https://coderwall.com/p/_ldtkg\">https://coderwall.com/p/_ldtkg</a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>I believe that injecting SASS variables via CSS <code>content</code> property is a very hackish way to do things.</p>\n\n<p>Instead, you can store the variables in a separate location and have them read both by SASS and JS.</p>\n\n<p>First, store a list of breakpoints in a <code>breakpoints.json</code> file:\n</p>\n\n<pre><code>[\"0\", \"300px\", \"500px\", \"700px\", \"900px\", \"1100px\"]\n</code></pre>\n\n<p>Then use Ruby to read this JSON file and make its contents available as a SASS list via a SASS function. Put this into your Compass <code>config.rb</code>:\n</p>\n\n<pre><code>sass_options = { :custom =&gt; {'breakpoint_file' =&gt; 'breakpoints.json'} }\n\n# This creates a SASS function debug() that returns $debug into SASS\nmodule Sass::Script::Functions\n  def breakpoints\n\n    # Reading an array of breakpoints into a file\n    unless breakpoints_array_raw = JSON.load( IO.read( options[:custom]['breakpoint_file'] ))\n      raise Sass::SyntaxError.new(\"Error: Breakpoints file '#{options[:custom]['breakpoint_file']}' does not exist.\")\n    end\n\n    # Converting strings in the array to SASS String literals\n    breakpoints_array_sassy = breakpoints_array_raw.map { |s| Sass::Script::String.new(s) }\n\n    # Returning the list into SASS\n    Sass::Script::List.new( breakpoints_array_sassy, :space )\n  end\nend\n</code></pre>\n\n<p>In your SASS code, read breakpoints like this:</p>\n\n<pre><code>$breakpoints: breakpoints()\n</code></pre>\n\n<p>In JS, use jQuery's <code>.get</code> method to request the JSON file like this:\n</p>\n\n<pre><code>var\n  breakpoints = [],\n  requestBreakpoints = $.get('breakpoints.json');\n\nrequestBreakpoints.done(function (response, textStatus, jqXHR){\n    breakpoints = response; // You might want to remove \"px\" here\n});\n</code></pre>\n\n<p>When i was assembling this setup, I found an existing solution <a href=\"https://gist.github.com/jackie/5976398\" rel=\"nofollow\">here</a>, but i decided to reimplement it using my favorite SASS tools: <a href=\"https://github.com/Team-Sass/Singularity\" rel=\"nofollow\">Singularity</a> and <a href=\"https://github.com/lolmaus/breakpoint-slicer\" rel=\"nofollow\">Breakpoint Slicer</a>.</p>\n\n<p>For your convenience, i've built a proof-of-concept <a href=\"https://github.com/lolmaus/sharing-variables-between-sass-and-js\" rel=\"nofollow\">GitHub project</a> with everything set up nicely, featuring some ugly JS code. :)</p>\n\n<p>And here's a <a href=\"http://lolmaus.github.io/sharing-variables-between-sass-and-js/\" rel=\"nofollow\">live demo</a>!</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Sharing state trough CSS <code>content</code> property seems dirty. I don't like the idea of making extra XHR requests either.</p>\n\n<p>I've thought of building a custom solution that would just compile SASS file and JS module. But it turned out there's an <code>npm</code> package called <a href=\"https://www.npmjs.org/package/rosetta\" rel=\"nofollow\">rosetta</a>. It does exactly that. Formats of output are pretty flexible and it didn't take me long to set it up as a <code>Grunt.js</code> task.</p>\n\n<p><code>$ npm install rosetta</code> </p>\n\n<p>Here's example <em>Gruntfile.js</em>:</p>\n\n<pre><code>module.exports = function(grunt) {\n\n  // Project configuration.\n  grunt.initConfig({\n    pkg: grunt.file.readJSON('package.json'),\n      watch: {\n          css: {\n              files: ['sass/*.scss', 'sass/lib/*.scss', 'rosetta/*.rose'],\n              tasks: ['rosetta', 'compass']\n          }\n      },\n      compass: {\n          dist: {\n              options: {\n                  sassDir: 'sass',\n                  cssDir: '../static/css',\n                  imagesDir: '../static/img',\n                  javascriptsDir: '../static/js'\n              }\n          }\n      },\n      rosetta: {\n          default: {\n             src: ['rosetta/*.rose'],\n             options: {\n                 jsFormat: 'requirejs',\n                 cssFormat: 'scss',\n                 jsOut: '../static/js/lib/rosetta.js',\n                 cssOut: 'sass/_shared_variables.scss'\n             }\n          }\n      }\n  });\n\n  grunt.loadNpmTasks('grunt-contrib-watch');\n  grunt.loadNpmTasks('grunt-contrib-compass');\n  grunt.loadNpmTasks('rosetta');\n  grunt.registerTask('default', ['watch']);\n\n};\n</code></pre>\n\n<p>And <em>package.json</em>:</p>\n\n<pre><code>{\n  \"name\": \"\",\n  \"version\": \"0.0.0\",\n  \"description\": \"\",\n  \"main\": \"Gruntfile.js\",\n  \"dependencies\": {\n    \"grunt\": \"^0.4.5\",\n    \"grunt-cli\": \"^0.1.13\",\n    \"grunt-contrib-compass\": \"^0.9.1\",\n    \"grunt-contrib-watch\": \"^0.6.1\",\n    \"rosetta\": \"git+https://github.com/ukolka/rosetta.git\"\n  },\n  \"devDependencies\": {},\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n  \"author\": \"\",\n  \"license\": \"ISC\"\n}\n</code></pre>\n\n<p>After all that you just need to import <em>_shared_variables.scss</em> in SASS and use <em>rosetta.js</em> module in your JavaScript to access common variables. As you make changes to the *.rose files your styles and JS will be updated.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have looked around and I've seen one solution where in your html, you'd have a tag dedicated to pass sass variables to javascript. I'm talking about the second answer from</p>\n\n<p><a href=\"http://stackoverflow.com/questions/9354319/is-there-a-way-to-import-variables-from-javascript-to-sass-or-vice-versa\">Is there a way to import variables from javascript to sass or vice versa?</a></p>\n\n<p>I also tried using html</p>\n\n<pre><code>&lt;div class=\"selector\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>with css</p>\n\n<pre><code>.selector { content: \"stuff\"; }\n</code></pre>\n\n<p>but looking at the dom in the developer tools, it doesn't get added even though we can see it on the rendered page, so I cannot pick it up with javascript</p>\n\n<pre><code>$('.selector').text()\n</code></pre>\n\n<p>How does everyone do it?</p>\n",
            "last_activity_date": 1409073403,
            "question_id": 18456755,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "sass"
            ],
            "title": "What&#39;s the industry standard way to pass SASS variable to javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I'm using this as a solution for now and would be interested in alternatives!</p>\n\n<p>1) Create a generic template that will load in a controller and view dynamically:</p>\n\n<pre><code>&lt;div ng-controller=\"controller\" ng-include src=\"templateUrl\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>In this example I placed this view in <code>/www/shared/dynamic-controller.html</code></p>\n\n<p>2) Create a controller that checks the route params to determine which controller and view to load:</p>\n\n<pre><code>angular.module('appName').\n  controller('ArtistsDynamicRouteController', ['$scope', '$controller', '$routeParams', function($scope, $controller, $routeParams) {\n    if(/^\\d+$/.test($routeParams.pageOrId)) {\n      // when pageOrId is a page (number) we want to load the ArtistsIndexController\n      $scope.controller = $controller('ArtistsIndexController', { $scope: $scope }).constructor;\n      $scope.templateUrl = '/www/artists/index.html';\n    } else {\n      // when pageOrId is an id (non-number) we want to load the ArtistsProfileController\n      $scope.controller = $controller('ArtistsProfileController', { $scope: $scope }).constructor;\n      $scope.templateUrl = '/www/artists/profile.html';\n    }\n  }]);\n</code></pre>\n\n<p>3) Use one route regardless of the parameter type:</p>\n\n<pre><code>// handles both /artists/2 and /artists/username\n$routeProvider.when(\"/artists/:pageOrName\", {\n  templateUrl: \"/www/shared/dynamic-controller.html\",\n  controller: \"ArtistsDynamicRouteController\"\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Another way is to use the <a href=\"https://github.com/angular-ui/ui-router\" rel=\"nofollow\">ui-router</a> which supports regular expressions for routes (among a slew of other things) which would allow:</p>\n\n<pre><code>$stateProvider.state(\"artists-index\", {\n  url: \"/artists/{page:[0-9]*}\",\n  templateUrl: \"/www/artists/index.html\",\n  controller: \"ArtistsIndexController\"\n});\n\n$stateProvider.state(\"artists-profile\", {\n  url: \"/artists/{name}\",\n  templateUrl: \"/www/artists/profile.html\",\n  controller: \"ArtistsProfileController\"\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I use a nasty hack, that consist on change the regexp</p>\n\n<pre><code>var $route = $routeProvider.$get[$routeProvider.$get.length-1]({$on:function(){}});\n\n\n$routeProvider.when(\"/artists/:page\", {\n  templateUrl: \"/www/artists/index.html\",\n  controller: \"ArtistsIndexController\"\n});\n\n$routeProvider.when(\"/artists/:name\", {\n  templateUrl: \"/www/artists/profile.html\",\n  controller: \"ArtistsProfileController\"\n});\n\n$route.routes['/artist/:page'].regexp = /^\\/(?:artist\\/(\\d+))$/\n$route.routes['/artist/:page/'].regexp = /^\\/(?:artist\\/(\\d+))\\/$/\n</code></pre>\n\n<p>It's ugly but it works fine.\nYou can change your routes' regexps to make them match whatever you want. </p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a similar route that should load a different view and controller based on whether or not the parameter is a number. Example:</p>\n\n<ul>\n<li><code>/artists/2</code> should <code>ArtistsIndexController</code> with a view <code>/www/artists/index.html</code></li>\n<li><code>/artists/name</code> should <code>ArtistsProfileController</code> with a view <code>/www/artists/profile.html</code></li>\n</ul>\n\n<p>Ideally I would use something like:</p>\n\n<pre><code>$routeProvider.when(\"/artists/:page\", {\n  templateUrl: \"/www/artists/index.html\",\n  controller: \"ArtistsIndexController\"\n});\n\n$routeProvider.when(\"/artists/:name\", {\n  templateUrl: \"/www/artists/profile.html\",\n  controller: \"ArtistsProfileController\"\n});\n</code></pre>\n\n<p>Where <code>:page</code> is a number and <code>:name</code> is not.</p>\n\n<p>Note I see a related <a href=\"https://github.com/angular/angular.js/issues/918\">github issue</a> (found from <a href=\"http://stackoverflow.com/questions/12685085/angularjs-route-how-to-match-star-as-a-path\">this question</a>) but am wondering if there is a resolution or preferred solution.</p>\n",
            "last_activity_date": 1405945283,
            "question_id": 18131834,
            "score": 6,
            "tags": [
                "javascript",
                "angularjs",
                "routes"
            ],
            "title": "AngularJS regex route for similar url to load different controller and view"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>It is expected behavior. If we look at the series of events happening:</p>\n\n<ol>\n<li>Press Tab Key while focus is on first text box</li>\n<li>Trigger key down event on first text box</li>\n<li>Move focus to second text box</li>\n<li>Lift finger off tab key</li>\n<li>Keyup event is triggered on second text box</li>\n</ol>\n\n<p>Key up is fired for the second text box because that is where it occurs since the focus was shifted to that input.</p>\n\n<p>You can't prevent this sequence of events from happening, but you could inspect the event to see what key was pressed, and call <code>preventDefault()</code> if it was the tab key.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>A key's default action is performed during the <code>keydown</code> event, so, naturally, by the time <code>keyup</code> propagates, the Tab key has changed the focus to the next field.</p>\n\n<p>You can use:</p>\n\n<pre><code>jQuery(document).ready(function() {\n    $('#firstfield, #secondfield').on({\n        \"keydown\": function(e) {\n            if (e.which == 9) {\n                alert(\"TAB key for \" + $(this).attr(\"id\") + \" .keydown() called.\");\n            }\n        },\n        \"keyup\": function(e) {\n            if (e.which != 9) {\n                alert(\"Handler for \" + $(this).attr(\"id\") + \" .keyup() called.\");\n            }\n        }\n    });\n});\n</code></pre>\n\n<p>This way, if the Tab key is pressed, you can make any necessary adjustments before handling other keys. <a href=\"http://jsfiddle.net/KtSja/7/\" rel=\"nofollow\"><strong>See your updated fiddle for an exampe.</strong></a></p>\n\n<h2>Edit</h2>\n\n<p>Based on your comment, I revamped the function. The JavaScript ended up being a bit complicated, but I'll do my best to explain. <a href=\"http://jsfiddle.net/KtSja/9/\" rel=\"nofollow\"><strong>Follow along with the new demo here.</strong></a></p>\n\n<pre><code>jQuery(document).ready(function() {\n    (function($) {\n        $.fn.keyAction = function(theKey) {\n            return this.each(function() {\n                if ($(this).hasClass(\"captureKeys\")) {\n                    alert(\"Handler for \" + $(this).attr(\"id\") + \" .keyup() called with key \"+ theKey + \".\");\n                    // KeyCode dependent statements go here.\n                }\n            });\n        };\n    })(jQuery);\n\n    $(\".captureKeys\").on(\"keydown\", function(e) {\n        $(\"*\").removeClass(\"focus\");\n        $(this).addClass(\"focus\");\n    });\n    $(\"body\").on(\"keyup\", \"*:focus\", function(e) {\n        if (e.which == 9) {\n            $(\".focus.captureKeys\").keyAction(e.which);\n            $(\"*\").removeClass(\"focus\");\n        }\n        else {\n            $(this).keyAction(e.which);\n        }\n    });\n});\n</code></pre>\n\n<p>Basically, you give <code>class=\"captureKeys\"</code> to any elements on which you want to monitor keypresses. Look at that second function first: When <code>keydown</code> is fired on one of your <code>captureKeys</code> elements, it's given a dummy class called <code>focus</code>. This is just to keep track of the most recent element to have the focus (I've given <code>.focus</code> a background in the demo as a visual aid). So, no matter what key is pressed, the current element it's pressed over is given the <code>.focus</code> class, as long as it also has <code>.captureKeys</code>.</p>\n\n<p>Next, when <code>keyup</code> is fired <strong>anywhere</strong> (not just on <code>.captureKeys</code> elements), the function checks to see if it was a tab. If it was, then the focus has already moved on, and the custom <code>.keyAction()</code> function is called on whichever element was the last one to have focus (<code>.focus</code>). If it wasn't a tab, then <code>.keyAction()</code> is called on the current element (but, again, only if it has <code>.captureKeys</code>).</p>\n\n<p>This should achieve the effect you want. You can use the variable <code>theKey</code> in the <code>keyAction()</code> function to keep track of <a href=\"http://www.cambiaresearch.com/articles/15/javascript-char-codes-key-codes\" rel=\"nofollow\">which key was pressed</a>, and act accordingly.</p>\n\n<p>One main caveat to this: <strong>if a <code>.captureKeys</code> element is the last element in the DOM</strong>, pressing Tab will remove the focus from the document in most browsers, and the <code>keyup</code> event will never fire. This is why I added the dummy link at the bottom of the demo.</p>\n\n<p>This provides a basic framework, so it's up to you to modify it to suit your needs. Hope it helps.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I ended up using this solution:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;form id=\"myform\"&gt;\n    &lt;input id=\"firstfield\" name=\"firstfield\" value=\"100\" type=\"text\" /&gt;\n    &lt;input id=\"secondfield\" name=\"secondfield\" value=\"200\" type=\"text\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>jQuery:</p>\n\n<pre><code>jQuery(document).ready(function () {\n    $('#firstfield').keyup(function (e) {\n        var charCode = e.which || e.keyCode; // for cross-browser compatibility\n        if (!((charCode === 9) || (charCode === 16)))\n            alert('Handler for firstfield .keyup() called.');\n    });\n    $('#secondfield').keyup(function (e) {\n       var charCode = e.which || e.keyCode; // for cross-browser compatibility\n       if (!((charCode === 9) || (charCode === 16)))\n            alert('Handler for secondfield .keyup() called.');\n    });\n});\n</code></pre>\n\n<p>This solution doesn't run the alert if the key is tab, shift or both.</p>\n\n<p>Solution: <a href=\"http://jsfiddle.net/KtSja/13/\" rel=\"nofollow\">http://jsfiddle.net/KtSja/13/</a></p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>I was recently dealing with this for a <a href=\"http://jsfiddle.net/KyleMit/An9t6/4/\" rel=\"nofollow\">placeholder polyfill</a>.  I found that if you want to capture the keyup event in the originating field, you can listen to the keydown event and fire the keyup event if a tab was pressed.</p>\n\n<h3>Instead of this:</h3>\n\n<pre><code>$(this).on({'keyup': function() {\n                //run code here\n            }\n        });\n</code></pre>\n\n<h3>Change to this:</h3>\n\n<pre><code>$(this).on({'keydown': function(e) {\n                // if tab key pressed - run keyup now\n                if (e.keyCode == 9) {\n                    $(this).keyup();\n                    e.preventDefault;\n                }\n            },\n            'keyup': function() {\n                //run code here\n            }\n        });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>HTML:</p>\n\n<pre><code>&lt;form id=\"myform\"&gt;\n    &lt;input id=\"firstfield\" name=\"firstfield\" value=\"100\" type=\"text\" /&gt;\n    &lt;input id=\"secondfield\" name=\"secondfield\" value=\"200\" type=\"text\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>jQuery:</p>\n\n<pre><code>jQuery(document).ready(function() {\n    $('#firstfield').keyup(function() {\n      alert('Handler for firstfield .keyup() called.');\n    });\n    $('#secondfield').keyup(function() {\n      alert('Handler for secondfield .keyup() called.');\n    });\n});\n</code></pre>\n\n<p>Demo: <a href=\"http://jsfiddle.net/KtSja/3/\">http://jsfiddle.net/KtSja/3/</a></p>\n\n<p>In this demo, if you place your cursor in the first field and then tab out (without making any changes), the keyup event is fired on the second field. i.e., you are tabbing out of first field and into second field. Is this behavior correct? How can I prevent this from happening? Same applies to shift + tab.</p>\n\n<p>Note:</p>\n\n<p>a) I believe all other keys, printable and non-printable, trigger the keyup event on the first field.</p>\n\n<p>b) The event isn't triggered at all if you keep the tab pressed until it moves out of both fields.</p>\n",
            "last_activity_date": 1404421957,
            "question_id": 18020098,
            "score": 6,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Keyup event behavior on tab"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Get their positions, and use the Pythagorean Theorem to determine the distance between them...</p>\n\n<pre><code>(function() {\n\n    var getPositionAtCenter = function (element) {\n        var data = element.getBoundingClientRect();\n        return {\n            x: data.left + data.width / 2,\n            y: data.top + data.height / 2\n        };\n    };\n\n    var getDistanceBetweenElements = function(a, b) {\n        var aPosition = getPositionAtCenter(a);\n        var bPosition = getPositionAtCenter(b);\n\n        return Math.sqrt(\n            Math.pow(aPosition.x - bPosition.x, 2) + \n            Math.pow(aPosition.y - bPosition.y, 2) \n        );\n    };\n\n    var distance = getDistanceBetweenElements(document.getElementById(\"x\"),\n                                              document.getElementById(\"y\"));\n\n})();\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/JqqVC/\">jsFiddle</a>.</p>\n\n<p>The Pythagorean Theorem relates to the relationship between the sides of a right-angled triangle.</p>\n\n<p><img src=\"http://i.stack.imgur.com/IqiKZ.png\" alt=\"Pythagorean Theorem\"> </p>\n\n<p>The elements are plotted on a <a href=\"http://en.wikipedia.org/wiki/Cartesian_coordinate_system\">Cartesian coordinate system</a> (with origin in top left), so you can imagine a right-angled triangle between the elements' coordinates (the unknown side is the hypotenuse).</p>\n\n<p>You can modify the equation to get the value of <code>c</code> by getting the square root of the other side.</p>\n\n<p><img src=\"http://i.stack.imgur.com/psn5e.png\" alt=\"Distance equation\"></p>\n\n<p>Then, you simply plug the values in (the <code>x</code> and <code>y</code> are the differences between the elements once their centers are determined) and you will find the length of the hypotenuse, which is the distance between the elements.</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>as far as div's are now empty, the basic idea is to measure the distance between their left top corners</p>\n\n<pre><code>distX = y.offsetLeft - x.offsetLeft;\ndistY = y.offsetTop - x.offsetTop;\ndistance = Math.sqrt(distX*distX + distY*distY);\nalert(Math.floor(distance));\n</code></pre>\n\n<p>but you have to substract first <code>div</code>'s height and width, if you put something inside. This method has some issues with support and border width of elements in different browsers.</p>\n\n<p>anyway take a look at <strong><a href=\"http://jsfiddle.net/vladkras/EY6Rk/\" rel=\"nofollow\">Fiddle</a></strong></p>\n\n<p>Note, that even with content (if you don't change it with css) divs will be 100% width, so if you want just to measure <code>br</code>'s height use:</p>\n\n<pre><code>distance = = y.offsetTop - x.offsetTop;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>If I have HTML elements as follows:</p>\n\n<pre><code>&lt;div id=\"x\"&gt;&lt;/div&gt;\n\n&lt;div id=\"y\" style=\"margin-left:100px;\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>...how do I find the distance between them in pixels using JavaScript?</p>\n",
            "last_activity_date": 1422815060,
            "question_id": 17628456,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "distance"
            ],
            "title": "Measure distance between two HTML elements&#39; centers"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>If the <code>&lt;iframe&gt;</code> elements are served from the same domain, then they can access each other directly. For example, in <code>iframe1</code> you could do:</p>\n\n<pre><code>document.getElementById('someDiv').innerHTML = \n    top.document.getElementById('otherIframe').contentWindow.\n    document.getElementById('someOtherDiv').innerHTML;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>I'll warn you first off that you will need full code-modification abilities for both iframes. Iframes are treated with strict security; otherwise, I could make a domain \"bunkofamerica.com\", put \"bankofamerica.com\" in an iframe, and then analyze the user's password as they type it. (Banks tend to have iframe-busting code anyway, but still...)</p>\n\n<p>You're looking for this native function:\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window.postMessage\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/API/window.postMessage</a></p>\n\n<p>And here's a github library my company uses to make this more cross-browser compatible: <a href=\"https://github.com/daepark/postmessage\" rel=\"nofollow\">https://github.com/daepark/postmessage</a></p>\n\n<p>jbabey is correct, if iframes are in the same domain and protocol, then it's easier.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>First things first, the only way a frame can interact outside of it's self is if the content loaded in both places is from the same domain otherwise you're going to get a CORS error.</p>\n\n<p>Assuming that's all gravy, I'd create an manager object on the window object of the parent frame.</p>\n\n<pre><code>window.Mgmt = {\n    frame1: $('iframe#frame1'),\n    frame2: $('iframe#frame2')\n}\n</code></pre>\n\n<p>then in either of the iframes you should be able to access that object using <code>window.parent.Mgmt.frame1</code>, etc</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can you make two iFrames talk to each other?\nFor example I was a element value off the 2nd iframe and the 1st iframe has the display element on it. I need to get the value off the 2nd frame to the 1st. How would I do this?\nDon't say use cookies, cause that will hurt with massive sum of data.</p>\n",
            "last_activity_date": 1369081424,
            "question_id": 16657399,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "iframe"
            ],
            "title": "Communication between iFrames?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>function leapYear(year)\n{\n  return ((year % 4 == 0) &amp;&amp; (year % 100 != 0)) || (year % 400 == 0);\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 21
                },
                {
                    "body": "<p>Hope this will help:</p>\n\n<pre><code>isLeap = new Date(year, 1, 29).getMonth() == 1\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 17
                },
                {
                    "body": "<p>You can try using JavaScript's Date Object</p>\n\n<pre><code>new Date(year,month).getFullYear()%4==0\n</code></pre>\n\n<p>This will return true or false.</p>\n",
                    "is_accepted": false,
                    "score": -1
                }
            ],
            "body": "<pre><code> function leapYear(year){\n    var result; \n    year = parseInt(document.getElementById(\"isYear\").value);\n    if (years/400){\n      result = true\n    }\n    else if(years/100){\n      result = false\n    }\n    else if(years/4){\n      result= true\n    }\n    else{\n      result= false\n    }\n    return result\n }\n</code></pre>\n\n<p>This is what I have so far (the entry is on a from thus stored in \"isYear\"), I basically followed this <a href=\"http://en.wikipedia.org/wiki/Leap_year#Algorithm\" rel=\"nofollow\">here</a>, so using what I already have, how can I check if the entry is a leap year based on these conditions(note I may have done it wrong when implementing the pseudocode, please correct me if I have) \nEdit: Note this needs to use an integer not a date function</p>\n",
            "last_activity_date": 1403729688,
            "question_id": 16353211,
            "score": 6,
            "tags": [
                "javascript",
                "date",
                "condition",
                "date-calculation"
            ],
            "title": "Check if year is leap year in javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>To start with the median function just takes an array and an optional accessor. So you can use it the same way you use max:</p>\n\n<pre><code>var med = d3.median(data, function(d) { return +d.TotalEmployed2011; });\n</code></pre>\n\n<p>As for the others if you pull out your zoom behaviour you can control it a bit better. So for example instead of </p>\n\n<pre><code>var svg = d3.select()...call(d3.behavior.zoom()...) \n</code></pre>\n\n<p>try:</p>\n\n<pre><code>var zm = d3.behavior.zoom().x(x).y(y).scaleExtent([1, 8]).on(\"zoom\", zoom);\nvar svg = d3.select()...call(zm);\n</code></pre>\n\n<p>Then you can set the zoom level and translation directly:</p>\n\n<pre><code>function zoomIn() {\n   zm.scale(zm.scale()*2);\n   // probably need to compute a new translation also\n}\n\nfunction reset() {\n   zm.scale(1);\n   zm.translate([0,0]);\n}\n</code></pre>\n\n<p>Restricting the panning range is a bit trickier. You can simply not update when the translate or scale is not to your liking inside you zoom function (or set the zoom's \"translate\" to what you need it to be). Something like (I think in your case):</p>\n\n<pre><code>function zoom() {\n    if(y.domain()[0] &lt; 0) {\n        // To restrict translation to 0 value\n        zm.translate([d3.event.translate[0], height * (1 - zm.scale())]);\n    }\n    ....\n}        \n</code></pre>\n\n<p>Keep in mind that if you want zooming in to allow a negative on the axis, but panning not to you will find you get into some tricky scenarios.</p>\n\n<p>This might be dated, but check out <a href=\"http://stackoverflow.com/questions/10422738/limiting-domain-when-zooming-or-panning-in-d3-js\">Limiting domain when zooming or panning in D3.js</a></p>\n\n<p>Note also that the zoom behaviour did have functionality for limiting panning and zooming at <a href=\"https://github.com/mbostock/d3/pull/345\">one point</a>. But the code was taken out in a later <a href=\"https://github.com/mbostock/d3/commit/61d3d897cbfd0d7afa0490f432cfa68be37d3e33\">update</a>.</p>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I've built a d3.js scatter plot with zoom/pan functionality. You can see the full thing here (click 'Open in a new window' to see the whole thing):\n<a href=\"http://bl.ocks.org/129f64bfa2b0d48d27c9\" rel=\"nofollow\">http://bl.ocks.org/129f64bfa2b0d48d27c9</a></p>\n\n<p>There are a couple of features that I've been unable to figure out, that I'd love a hand with it if someone can point me in the right direction:</p>\n\n<ol>\n<li>I want to apply X/Y zoom/pan boundaries to the area, so that you can't drag it below a certain point (e.g. zero).</li>\n<li>I've also made a stab at creating Google Maps style +/- zoom buttons, without any success. Any ideas?</li>\n</ol>\n\n<p>Much less importantly, there are also a couple of areas where I've figured out a solution but it's very rough, so if you have a better solution then please do let me know:</p>\n\n<ol>\n<li>I've added a 'reset zoom' button but it merely deletes the graph and generates a new one in its place, rather than actually zooming the objects. Ideally it should actually reset the zoom.</li>\n<li><p>I've written my own function to calculate the median of the X and Y data. However I'm sure that there must be a better way to do this with d3.median but I can't figure out how to make it work.</p>\n\n<pre><code>var xMed = median(_.map(data,function(d){ return d.TotalEmployed2011;}));\nvar yMed = median(_.map(data,function(d){ return d.MedianSalary2011;}));\n\nfunction median(values) {\n    values.sort( function(a,b) {return a - b;} );\n    var half = Math.floor(values.length/2);\n\n    if(values.length % 2)\n        return values[half];\n    else\n        return (parseFloat(values[half-1]) + parseFloat(values[half])) / 2.0;\n};\n</code></pre></li>\n</ol>\n\n<p>A very simplified (i.e. old) version of the JS is below. You can find the full script at <a href=\"https://gist.github.com/richardwestenra/129f64bfa2b0d48d27c9#file-main-js\" rel=\"nofollow\">https://gist.github.com/richardwestenra/129f64bfa2b0d48d27c9#file-main-js</a></p>\n\n<pre><code>d3.csv(\"js/AllOccupations.csv\", function(data) {\n\n    var margin = {top: 30, right: 10, bottom: 50, left: 60},\n        width = 960 - margin.left - margin.right,\n        height = 500 - margin.top - margin.bottom;\n\n    var xMax = d3.max(data, function(d) { return +d.TotalEmployed2011; }),\n        xMin = 0,\n        yMax = d3.max(data, function(d) { return +d.MedianSalary2011; }),\n        yMin = 0;\n\n    //Define scales\n    var x = d3.scale.linear()\n        .domain([xMin, xMax])\n        .range([0, width]);\n\n    var y = d3.scale.linear()\n        .domain([yMin, yMax])\n        .range([height, 0]);\n\n    var colourScale = function(val){\n        var colours = ['#9d3d38','#c5653a','#f9b743','#9bd6d7'];\n        if (val &gt; 30) {\n            return colours[0];\n        } else if (val &gt; 10) {\n            return colours[1];\n        } else if (val &gt; 0) {\n            return colours[2];\n        } else {\n            return colours[3];\n        }\n    };\n\n\n    //Define X axis\n    var xAxis = d3.svg.axis()\n        .scale(x)\n        .orient(\"bottom\")\n        .tickSize(-height)\n        .tickFormat(d3.format(\"s\"));\n\n    //Define Y axis\n    var yAxis = d3.svg.axis()\n        .scale(y)\n        .orient(\"left\")\n        .ticks(5)\n        .tickSize(-width)\n        .tickFormat(d3.format(\"s\"));\n\n    var svg = d3.select(\"#chart\").append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\")\n        .call(d3.behavior.zoom().x(x).y(y).scaleExtent([1, 8]).on(\"zoom\", zoom));\n\n    svg.append(\"rect\")\n        .attr(\"width\", width)\n        .attr(\"height\", height);\n\n    svg.append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(xAxis);\n\n    svg.append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .call(yAxis);\n\n    // Create points\n    svg.selectAll(\"polygon\")\n        .data(data)\n        .enter()\n        .append(\"polygon\")\n        .attr(\"transform\", function(d, i) {\n            return \"translate(\"+x(d.TotalEmployed2011)+\",\"+y(d.MedianSalary2011)+\")\";\n        })\n        .attr('points','4.569,2.637 0,5.276 -4.569,2.637 -4.569,-2.637 0,-5.276 4.569,-2.637')\n        .attr(\"opacity\",\"0.8\")\n        .attr(\"fill\",function(d) {\n            return colourScale(d.ProjectedGrowth2020);\n        });\n\n    // Create X Axis label\n    svg.append(\"text\")\n        .attr(\"class\", \"x label\")\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"x\", width)\n        .attr(\"y\", height + margin.bottom - 10)\n        .text(\"Total Employment in 2011\");\n\n    // Create Y Axis label\n    svg.append(\"text\")\n        .attr(\"class\", \"y label\")\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"y\", -margin.left)\n        .attr(\"x\", 0)\n        .attr(\"dy\", \".75em\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .text(\"Median Annual Salary in 2011 ($)\");\n\n\n    function zoom() {\n      svg.select(\".x.axis\").call(xAxis);\n      svg.select(\".y.axis\").call(yAxis);\n      svg.selectAll(\"polygon\")\n            .attr(\"transform\", function(d) {\n                return \"translate(\"+x(d.TotalEmployed2011)+\",\"+y(d.MedianSalary2011)+\")\";\n            });\n    };\n    }\n});\n</code></pre>\n\n<p>Any help would be massively appreciated. Thanks!</p>\n\n<p>Edit: Here is a summary of the fixes I used, based on Superboggly's suggestions below:</p>\n\n<pre><code>    // Zoom in/out buttons:\n    d3.select('#zoomIn').on('click',function(){\n        d3.event.preventDefault();\n        if (zm.scale()&lt; maxScale) {\n            zm.translate([trans(0,-10),trans(1,-350)]);\n            zm.scale(zm.scale()*2);\n            zoom();\n        }\n    });\n    d3.select('#zoomOut').on('click',function(){\n        d3.event.preventDefault();\n        if (zm.scale()&gt; minScale) {\n            zm.scale(zm.scale()*0.5);\n            zm.translate([trans(0,10),trans(1,350)]);\n            zoom();\n        }\n    });\n    // Reset zoom button:\n    d3.select('#zoomReset').on('click',function(){\n        d3.event.preventDefault();\n        zm.scale(1);\n        zm.translate([0,0]);\n        zoom();\n    });\n\n\n    function zoom() {\n\n        // To restrict translation to 0 value\n        if(y.domain()[0] &lt; 0 &amp;&amp; x.domain()[0] &lt; 0) {\n            zm.translate([0, height * (1 - zm.scale())]);\n        } else if(y.domain()[0] &lt; 0) {\n            zm.translate([d3.event.translate[0], height * (1 - zm.scale())]);\n        } else if(x.domain()[0] &lt; 0) {\n            zm.translate([0, d3.event.translate[1]]);\n        }\n        ...\n    };\n</code></pre>\n\n<p>The zoom translation that I used is very ad hoc and basically uses abitrary constants to keep the positioning more or less in the right place. It's not ideal, and I'd be willing to entertain suggestions for a more universally sound technique. However, it works well enough in this case.</p>\n",
            "last_activity_date": 1401795510,
            "question_id": 15069959,
            "score": 6,
            "tags": [
                "javascript",
                "d3.js",
                "zoom",
                "drag",
                "scatter-plot"
            ],
            "title": "d3.js scatter plot - zoom/drag boundaries, zoom buttons, reset zoom, calculate median"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The part <code>class=\"price\"</code> is the result from <code>Mage_Directory_Model_Currency::formatPrecision()</code> and executed when <code>$this-&gt;formatPrice()</code> or in deeper model layers the price is formatted \nwith <code>Mage::helper('core')-&gt;formatPrice();</code></p>\n\n<p>You could add the unique identifier by extending (and rewriting) the <code>Mage_Directory_Model_Currency</code> but be aware that <code>formatPrecision</code> is used everywhere. So you could write your own helper/model logic for formatting tier prices.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I've just spent some time on this as it was really starting to bug me after I upgraded a customer's Magento site to 1.7.0.2.</p>\n\n<p>There are two parts to this, I'm going to state the locations and the fixes, but these will not be upgrade proof (for that you will want to create copies of the files and put them in your theme specific folders, although I'm not sure if it's possible with the JS file in question).</p>\n\n<p><strong>1) View Fix</strong> </p>\n\n<p>In the file <code>/design/frontend/base/default/template/catalog/product/view/tierprices.phtml</code></p>\n\n<p>you need to replace lines <code>32-34</code></p>\n\n<pre><code>$_product = $this-&gt;getProduct();\n$_tierPrices = $this-&gt;getTierPrices();\n$_finalPriceInclTax = $this-&gt;helper('tax')-&gt;getPrice($_product, $_product-&gt;getFinalPrice(), true);\n</code></pre>\n\n<p>with the following code:</p>\n\n<pre><code>$_product = $this-&gt;getProduct();\n$_tierPrices = array();\n\nforeach($this-&gt;getTierPrices() as $index =&gt; $info) {\n    $_tierPrices[$index] = $info;\n    $_tierPrices[$index]['formated_price'] = str_replace('class=\"price\"', 'class=\"price tier-'.$index.'\"', $info['formated_price']);\n    $_tierPrices[$index]['formated_price_incl_tax'] = str_replace('class=\"price\"', 'class=\"price tier-'.$index.' tier-'.$index.'-incl-tax\"', $info['formated_price_incl_tax']);\n}\n$_finalPriceInclTax = $this-&gt;helper('tax')-&gt;getPrice($_product, $_product-&gt;getFinalPrice(), true);\n</code></pre>\n\n<p>This fixes the issue with the class not being rendered correctly as you had already figured out. <a href=\"http://www.integer-net.de/magento-bug-individuelle-optionen-und-staffelpreise-100-prozent-ersparnis/\">Here is where I found this code</a> - although it didn't fix all the issues, hence the JS changes.</p>\n\n<p><strong>2) JS fix</strong></p>\n\n<p>in the file <code>js/Varien/product.js</code> you need to replace lines <code>757-769</code>:</p>\n\n<pre><code>$$('.benefit').each(function (el) {\n    var parsePrice = function (html) {\n        return parseFloat(/\\d+\\.?\\d*/.exec(html));\n    };\n    var container = $(this.containers[3]) ? this.containers[3] : this.containers[0];\n    var price = parsePrice($(container).innerHTML);\n    var tierPrice = $$('.price.tier-' + i);\n    tierPrice = tierPrice.length ? parseInt(tierPrice[0].innerHTML, 10) : 0;\n    var $percent = Selector.findChildElements(el, ['.percent.tier-' + i]);\n    $percent.each(function (el) {\n        el.innerHTML = Math.ceil(100 - ((100 / price) * tierPrice));\n    });\n}, this);\n</code></pre>\n\n<p>With this:</p>\n\n<pre><code>//\n// Code fixed to prevent the redundant inner loop and to use actual tiered pricing in calculation\n// It also takes the optional price variants into consideration (eg: +\u00a32 for a blue tshirt)\n// Note: I've made this comment deliberately large, to keep the line numbers in sync\n//\nvar parsePrice = function (html) {\n    return parseFloat(/\\d+\\.?\\d*/.exec(html));\n};\nvar container = $(this.containers[3]) ? this.containers[3] : this.containers[0];\nvar price = parsePrice($(container).innerHTML);\n$$('.percent.tier-' + i).each(function (el) {\n    el.innerHTML = Math.ceil(100 - ((100 / price) * (this.tierPrices[i] + parseFloat(optionPrices))));\n}, this);\n</code></pre>\n\n<p>I hope this saves at least one person a few hours of their life.</p>\n\n<p>T</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>There is an outstanding bug in 1.6+ versions of Magento where the % savings for tier prices defaults to 100% when an option is selected. Other contributors have suggested changing product.js around line 747 from</p>\n\n<pre><code>for (var i = 0; i &lt; this.tierPrices.length; i++) {\n</code></pre>\n\n<p>to be</p>\n\n<pre><code>for (var i = 0; i &gt; this.tierPrices.length; i++) {\n</code></pre>\n\n<p>This resolves the issue with % savings but that code block is never executed. I am by no means a Javascript expert but this block appears to be updating the tier price and % savings when options are selected. I wanted to find the root of the issue, rather than 'commenting it out'. </p>\n\n<p>From my debugging in Firebug I noticed that the classes for tier price is wrong in product.js and therefore, a tier price of 0 is retrieved, which accounts for why % savings is always 100%. \nFirebug shows the price as</p>\n\n<pre><code>class=\"tier-prices product-pricing\"&gt;   \n        Buy 10 for  \n        &lt;span class=\"price\"&gt;$40.00&lt;/span&gt;\n</code></pre>\n\n<p>whereas product.js is attempting to retrieve the objects using</p>\n\n<pre><code>$$('.price.tier-' + i).each(function (el) {\n</code></pre>\n\n<p>If you change the above to </p>\n\n<pre><code>$$('.tier-prices .price).each(function (el) {\n</code></pre>\n\n<p>the tier price is retrieved, but for more than one tier price on a product, there is no way to refer to them individually. The class \"price\" above does not have a unique identifier or iterative number declared.</p>\n\n<p>Where is class=\"price\" declared for the tier price? In the code of tierprices.phtml it looks like this</p>\n\n<pre><code>&lt;?php echo $this-&gt;__('Buy %1$s for %2$s each', $_price['price_qty'], $_price['formated_price'])?&gt;\n</code></pre>\n",
            "last_activity_date": 1422546244,
            "question_id": 13504056,
            "score": 6,
            "tags": [
                "javascript",
                "magento"
            ],
            "title": "Magento tier prices - class declaration for tier price in BUY x for Y - javascript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Use <code>background-attachment: local;</code> after you set your background image.</p>\n\n<h1><a href=\"http://dabblet.com/gist/3855623\"><em>demo</em></a></h1>\n\n<p>Works in  IE9+, Safari 5+, Chrome and Opera</p>\n\n<p>Does not work in Firefox - see <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=483446\">this</a>.</p>\n\n<p><strong>HTML</strong>:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;textarea&gt;\n        background-attachment: local;\n        &lt;!-- and so on, many more lines --&gt;\n        background-attachment: local;\n    &lt;/textarea&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>CSS</strong>:</p>\n\n<pre><code>div {\n    width: 500px;\n    margin: 0 auto;\n    background: #ebebeb;\n}\ntextarea {\n    display: block;\n    width: 100%;\n    height: 300px;\n    background: url(http://i.stack.imgur.com/EN81e.jpg);\n    background-attachment: local;\n    font: 20px/1.5 Georgia, 'Times New Roman', Times, serif;\n}\n</code></pre>\n\n<hr>\n\n<h1>EDIT</h1>\n\n<p>Another <a href=\"http://caniuse.com/contenteditable\"><em>better compatibility solution</em></a> (only browsers in which this doesn't work are Opera Mobile and Opera Mini) would be not to use a <code>textarea</code>, but another <code>div</code> with a <a href=\"http://html5doctor.com/the-contenteditable-attribute/\"><strong><code>contenteditable</code></strong></a> attribute.</p>\n\n<h1><a href=\"http://dabblet.com/gist/3855704\"><em>demo</em></a></h1>\n\n<p><strong>HTML</strong>:</p>\n\n<pre><code>&lt;div class='outer'&gt;\n    &lt;div class='inner' contenteditable='true'&gt;\n        background-attachment: local;\n                &lt;!-- more stuff --&gt;\n        background-attachment: local;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>CSS</strong>:</p>\n\n<pre><code>.outer {\n    overflow-y: scroll;\n    width: 500px;\n    height: 300px;\n    margin: 0 auto;\n    background: #ebebeb;\n}\n.inner {\n    width: 100%;\n    min-height: 300px;\n    background: url(http://i.stack.imgur.com/EN81e.jpg);\n    font: 20px/1.5 Georgia, 'Times New Roman', Times, serif;\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 13
                }
            ],
            "body": "<p>I know this is bit difficlut to explain but you'll get an idea by seeing my code below, the situation is I've a textarea which having a line background(something like notebook and the image style is repeat), also the textarea become fixed height for eg. 300px, so my question is when a scroller comes I want to stick the lines with the text, now the text is scrolling and the background lines stay back into a fixed position..</p>\n\n<p>Just tell me your suggetions, is that possible to scroll the background lines together with the text?</p>\n\n<p>Here is my html code..</p>\n\n<pre><code>&lt;div style=\"width:500px; height:300px; margin:0px auto; background:#ebebeb;\"&gt;\n&lt;textarea style=\"width:100%; height:300px; background:url(line.jpg) repeat; line-height:30px; font-size:20px; font-family:Georgia, 'Times New Roman', Times, serif;\" name=\"\" cols=\"\" rows=\"\"&gt;&lt;/textarea&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and here you can see the image -  {\n<img src=\"http://i.stack.imgur.com/EN81e.jpg\" alt=\"enter image description here\"> } </p>\n",
            "last_activity_date": 1349741969,
            "question_id": 12790645,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "css",
                "html5"
            ],
            "title": "How to scroll a background image together with text in textarea?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>In photoshop or other image editing software, create a circular area that is transparent in the middle and on all sides fades out to solid white. Feel free to crop the top/bottom as needed. You can then use css transitions to animate the graphic from left to right to achieve the effect in your demo. For browsers like IE that don't support transitions, use the cssHooks feature in jquery to perform the animations with jQuery.</p>\n\n<p>You <em>could</em> create this effect using css gradients, but you run into browser support issues, and using transitions on css gradients is very bad in terms of performance. However, simply animating a png24 is very easy and makes the same effect.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Yes, you can do it with CSS3 animations (<a href=\"http://caniuse.com/css-animation\">check browser support here</a>).</p>\n\n<p>Here's a simple <a href=\"http://jsfiddle.net/gionaf/SNycF/\"><strong>demo for text-fading</strong></a>.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"text\"&gt;\nThere is some text here!\n&lt;div class=\"fadingEffect\"&gt;&lt;/div&gt;\n&lt;/div&gt;\u200b\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.text {\n    position:relative;\n    line-height:2em;\n    overflow:hidden;\n}\n.fadingEffect {\n    position:absolute;\n    top:0; bottom:0; right:0;\n    width:100%;\n    background:white;\n    -moz-animation: showHide 5s ease-in alternate infinite; /* Firefox */\n    -webkit-animation: showHide 5s ease-in alternate infinite; /* Safari and Chrome */\n    -ms-animation: showHide 5s ease-in alternate infinite; /* IE10 */\n    -o-animation: showHide 5s ease-in alternate infinite; /* Opera */\n    animation: showHide 5s ease-in alternate infinite;\n}\n@-webkit-keyframes showHide { /* Chrome, Safari */\n    0% {width:100%}\n    40% {width:0%}\n    60% {width:0%;}\n    100% {width:100%;}\n}\n@-moz-keyframes showHide { /* FF */\n    0% {width:100%}\n    40% {width:0%}\n    60% {width:0%;}\n    100% {width:100%;}\n}\n@-ms-keyframes showHide { /* IE10 */\n    0% {width:100%}\n    40% {width:0%}\n    60% {width:0%;}\n    100% {width:100%;}\n}\n@-o-keyframes showHide { /* Opera */\n    0% {width:100%}\n    40% {width:0%}\n    60% {width:0%;}\n    100% {width:100%;}\n}\n@keyframes showHide {\n    0% {width:100%}\n    40% {width:0%}\n    60% {width:0%;}\n    100% {width:100%;}\n}\n</code></pre>\n\n<p>\u200bAs you can see, there's a sharp contrast on the borders. If you use an image gradient instead of a pure white background it will render better.</p>\n\n<p>Then, you can use a jQuery fallback for IE9 and below.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>Is there a way to fade elements (at least just text) in and out going left to right or vice-versa using only CSS?</p>\n\n<p>Here is an example of what I mean:</p>\n\n<p><img src=\"http://i.stack.imgur.com/dz9DB.gif\" alt=\"enter image description here\"></p>\n\n<p>Actually, if it requires jQuery, I'll accept that too, just as a second priority.</p>\n",
            "last_activity_date": 1349168069,
            "question_id": 12686738,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "css",
                "fade"
            ],
            "title": "CSS fade left to right"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Try using <em>range.getBoundingClientRect</em> instead of <em>range.getClientRects</em>.</p>\n\n<p><a href=\"http://jsfiddle.net/kv2Bp/4/\" rel=\"nofollow\">JSFiddle</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here's some code to get the dimensions of the selection's bounding rectangle. It's pretty similar to the original code.</p>\n\n<p>Demo: <a href=\"http://jsfiddle.net/UFkjy/\" rel=\"nofollow\">http://jsfiddle.net/UFkjy/</a></p>\n\n<pre><code>function getSelectionDimensions() {\n    var sel = document.selection, range;\n    var width = 0, height = 0;\n    if (sel) {\n        if (sel.type != \"Control\") {\n            range = sel.createRange();\n            width = range.boundingWidth;\n            height = range.boundingHeight;\n        }\n    } else if (window.getSelection) {\n        sel = window.getSelection();\n        if (sel.rangeCount) {\n            range = sel.getRangeAt(0).cloneRange();\n            if (range.getBoundingClientRect) {\n                var rect = range.getBoundingClientRect();\n                width = rect.right - rect.left;\n                height = rect.bottom - rect.top;\n            }\n        }\n    }\n    return { width: width , height: height };\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I need to calculate the <code>width</code> and the <code>height</code> of the selected/highlighted text using JavaScript.</p>\n\n<p>I am using the following code written by Tim Down, as the starting point,</p>\n\n<pre><code>function getSelectionCoords() {\n    var sel = document.selection, range;\n    var x = 0, y = 0;\n    if (sel) {\n        if (sel.type != \"Control\") {\n            range = sel.createRange();\n            range.collapse(true);\n            x = range.boundingLeft;\n            y = range.boundingTop;\n        }\n    } else if (window.getSelection) {\n        sel = window.getSelection();\n        if (sel.rangeCount) {\n            range = sel.getRangeAt(0).cloneRange();\n            if (range.getClientRects) {\n                range.collapse(true);\n                var rect = range.getClientRects()[0];\n                x = rect.left;\n                y = rect.top;\n            }\n        }\n    }\n    return { x: x, y: y };\n}\n</code></pre>\n\n<p>The <code>left</code> &amp; the <code>top</code> co-ordinates are being displayed correctly. To calculate the width &amp; the height, I need the <code>right</code> &amp; the <code>bottom</code> positions as well.</p>\n\n<p>So I added few lines of code to find the <code>bottom</code> &amp; the <code>right</code> positions (Code available here - <a href=\"http://jsfiddle.net/pankajparashar/kv2Bp/\">http://jsfiddle.net/pankajparashar/kv2Bp/</a>). But to my surprise, the code displays the <code>left</code> &amp; the <code>right</code> co-ordinates always the same, even though there is visible difference between them (tested only in firefox). </p>\n\n<p>There is no problem with the <code>top</code> &amp; the <code>bottom</code> positions, as they are working perfectly, which will help me calculate the height. But to calculate the width, I would still need the correct <code>right</code> co-ordinate.</p>\n\n<p>Can anybody point any flaws with the code? or any alternate approach, using which I can calculate the width &amp; the height of the selected text?</p>\n",
            "last_activity_date": 1348669803,
            "question_id": 12603397,
            "score": 6,
            "tags": [
                "javascript"
            ],
            "title": "Calculate width &amp; height of the selected text (javascript)"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can't prompt the user to download a file from an AJAX call.  One thing you can do is, make an iFrame, put a form in it, then POST it.  That way, it'll look like an AJAX call, but the user will be prompted to download the file.</p>\n\n<pre><code>// Create iFrame\nvar iframe = document.createElement('iframe');\niframe.style.display = \"none\";\ndocument.body.appendChild(iframe);\n\n// Get the iframe's document\nvar iframeDoc = iframe.contentDocument || iframe.contentWindow.document;\n\n// Make a form\nvar form = document.createElement('form');\nform.action = 'data/export.php'; // Your URL\nform.method = 'POST';\n\n// Add form element, to post your value\nvar input = document.createElement('input');\ninput.type = 'hidden';\ninput.name = 'csvdata';\ninput.value = gridCsvData;  // Your POST data\n\n// Add input to form\nform.appendChild(input);\n\n// Add form to iFrame\n// IE doesn't have the \"body\" property\n(iframeDoc.body || iframeDoc).appendChild(form);\n\n// Post the form :-)\nform.submit();\n</code></pre>\n\n<p>P.S. Your PHP code doesn't actually echo the CSV to the screen, it just saves it to a file.</p>\n\n<p>After the header calls, make sure you have:</p>\n\n<pre><code>readfile($myfile);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>The right way to do this in HTML5 is to use the File API. See this for details: <a href=\"http://hackworthy.blogspot.com/2012/05/savedownload-data-generated-in.html\" rel=\"nofollow\">http://hackworthy.blogspot.com/2012/05/savedownload-data-generated-in.html</a>.</p>\n\n<p>If HTML5 is not an option, then take this approach.</p>\n\n<p>After you do a POST, generate a GET request for the file using:</p>\n\n<pre><code>document.location = \"file.csv\";\n</code></pre>\n\n<p>Depending on the browser, the file will either be saved (Chrome) or user will be prompted to choose a file name to save as. Of course, the POST handler has to save the file somewhere.</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",\n    url: \"post.php\",\n    success: function() {\n        console.log(\"Worked!\");\n        document.location = \"test.csv\";\n    },\n    error: function() {\n        console.log(\"Failed!\");\n    }\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm exporting my DHTMLX grid to csv and have successfully been able to create the .CSV file. The problem I'm having is that it isn't prompting the user to save/open the file. I'm using a $.post call from javascript to send the CSV string to PHP, then writing that string to csv. For some reason it isn't creating a prompt for the user, but it is successfully writing the file and saving on the server. Below is the relevant code:</p>\n\n<p>JS:</p>\n\n<pre><code>myGrid.csvParser = myGrid.csvExtParser;\nmyGrid.setCSVDelimiter('|');\nmyGrid.csv.row = \"endOfRow\";           \nvar gridCsvData = myGrid.serializeToCSV();\n\n    $.post(\n        \"data/export.php\", \n        { \n           csvdata: gridCsvData\n        }\n    );\n</code></pre>\n\n<p>PHP (export.php):</p>\n\n<pre><code>$csvData = $_REQUEST['csvdata'];\n\n$csv = explode('endOfRow',$csvData);\n\n$myfile = \"grid.csv\";\n\n$fh = fopen($myfile, 'w') or die(\"can't open file\");\n\nforeach($csv as $line) {\n    fputcsv($fh, explode('|',$line),',','\"');\n}\n\nfclose($fh);\n\n//Redirect output to a client's web browser (csv)\nheader(\"Content-type: application/csv\");\nheader(\"Content-Disposition: attachment; filename=grid.csv\");\nheader(\"Pragma: no-cache\");\nheader(\"Expires: 0\");\n</code></pre>\n\n<p>This code works perfectly in the sense that it exports the Grid exactly how I want it and saves it to 'grid.csv'. The problem is that it isn't prompting the user to save the file. Is this a problem with my PHP headers or do I need to put something in the $.post to prompt on success? Thanks for any help!</p>\n",
            "last_activity_date": 1345751568,
            "question_id": 12098178,
            "score": 6,
            "tags": [
                "php",
                "javascript",
                "ajax",
                "csv",
                "dhtmlx"
            ],
            "title": "Prompt user to save file through AJAX call"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>I have just fixed a similar problem in my project. It turned out that I was trying to set a value of a <code>&lt;input type=\"file\" ...&gt;</code> input. It seems that you may be facing the same problem, because you are selecting all inputs of a document regardless of their type.</p>\n\n<p>If you have firebug installed, try looking for the input that causes this error by inserting a <code>log</code> command before trying to modify the input's value.</p>\n\n<pre><code>$('document').ready(function(){\n       $('input').each(function() {\n           if ($(this).val() === '' || $(this).val() === undefined) {\n\n               // Log goes here\n               window.console.log(\n                   'There is an input without a value!', \n                   this);\n\n               $(this).val($(this).attr('placeholder'));\n           }\n       });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>I had an insecure warning in conjunction with antoher function.\nThe reason there simply was, that a library function was called with an array given as parameter, but it expected an element (dom).\nThe result was the expected, but I'm sure, this won't be in any case.\nSo check if the types of your variables are the one you (or the other side) want's it to.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am trying to find a fallback solution for browsers who do not interpret the placeholder attribute for input elements.\nI have this simple jQuery Script but it throws an Error </p>\n\n<pre><code>SecurityError: \"The operation is insecure.\nthis.value = val;\"\n</code></pre>\n\n<p>Here's my script:</p>\n\n<pre><code>$('document').ready(function(){\n       $('input').each(function() {\n           if ($(this).val() === '' ||\u00a0$(this).val() === undefined) {\n               $(this).val($(this).attr('placeholder'));\n           }\n       });\n});\n</code></pre>\n\n<p>Anyone any ideas what i can do? Or what i am doing wrong? Or what this error means?\nIt happens in Firefox, haven't tested it in other Browsers yet.</p>\n",
            "last_activity_date": 1380261229,
            "question_id": 11780959,
            "score": 6,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "jQuery: Javascript throws Error &quot;The operation is insecure&quot; when setting value"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>maybe this will work:\n<code>document.getElementsByTagName(\"body\")[0].innerHTML</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Is this running in the <code>&lt;head&gt;</code> of the html? If so, you need to make sure the <code>&lt;body&gt;</code> tag has actually loaded first.</p>\n\n<p>You need to use an onload handler, for example: <a href=\"http://javascript.about.com/library/blonload.htm\" rel=\"nofollow\">http://javascript.about.com/library/blonload.htm</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You are almost certainly running your code before the DOM is constructed.  Try running your code in a <a href=\"https://developer.mozilla.org/en/DOM/window.onload\"><code>window.onload</code></a> handler function (but see note below):</p>\n\n<pre><code>window.onload = function() {\n    // all of your code goes in here\n    // it runs after the DOM is built\n}\n</code></pre>\n\n<p>Another popular cross-browser solution is to put your <code>&lt;script&gt;</code> block just before the closing <code>&lt;/body&gt;</code> tag.  This could be the best solution for you, depending on your needs:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;body&gt;\n\n    &lt;!-- all of your HTML goes here... --&gt;\n\n    &lt;script&gt;\n        // code in this final script element can use all of the DOM\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<ul>\n<li>Note that <code>window.onload</code> will wait until all images and subframes have loaded, which might be a long time after the DOM is built.  You could also use <code>document.addEventListener(\"DOMContentLoaded\", function(){...})</code> to avoid this problem, but this is not supported cross-browser.  The bottom-of-body trick is both cross-browser and runs as soon as the DOM is complete.</li>\n</ul>\n",
                    "is_accepted": true,
                    "score": 27
                },
                {
                    "body": "<p>I have done all the solutions mentionned here. but they didn't work until i have made this one using Jquery :</p>\n\n<p>in my HTML page :</p>\n\n<pre><code>&gt; &lt;div  id=\"labelid\" &gt; &lt;/div&gt;\n</code></pre>\n\n<p>and when i click on a button, i put this in my JS file :</p>\n\n<pre><code>$(\"#labelid\").html(\"&lt;label&gt;Salam Alaykom&lt;/label&gt;\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I've a simple html page with no code in the body tag.\nI want to insert the html in the body tag through javascript.</p>\n\n<p>My javascript file looks like this.</p>\n\n<pre><code>var Global={\n    UserWall:function(){\n          return \"a very long html code\";\n   }\n};\n\n    var globalObject=Object.create(Global);\n   document.getElementsByTagName(\"body\").item(0).innerHTML=globalObject.UserWall();\n</code></pre>\n\n<p>Now I want this very long html code to be auto inserted in the body tag on page load.\nBut it is giving me the error I've mentioned in the title.Why?</p>\n\n<p>and also is this the correct way to create ajax based website(no page reloads) meaning that if I called server side script to update this very long html code and appended it to the body of the page.</p>\n",
            "last_activity_date": 1365759380,
            "question_id": 11163060,
            "score": 6,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "Cannot set property InnerHTML of null"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>You can use the regular expression <code>/[0-9]+(?!.*[0-9])/</code> to find the last number in a string (source: <a href=\"http://frightanic.wordpress.com/2007/06/08/regex-match-last-occurrence/\">http://frightanic.wordpress.com/2007/06/08/regex-match-last-occurrence/</a>).  This function, using that regex with match(), parseInt() and replace(), should do what you need:</p>\n\n<pre><code>function increment_last(v) {\n    return v.replace(/[0-9]+(?!.*[0-9])/, parseInt(v.match(/[0-9]+(?!.*[0-9])/), 10)+1);\n}\n</code></pre>\n\n<p>Probably not terribly efficient, but for short strings, it shouldn't matter.</p>\n\n<p>EDIT: Here's a slightly better way, using a callback function instead of searching the string twice:</p>\n\n<pre><code>function increment_last(v) {\n    return v.replace(/[0-9]+(?!.*[0-9])/, function(match) {\n        return parseInt(match, 10)+1;\n    });\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>in <strong>regex</strong> try this:</p>\n\n<pre><code>function getAndIncrementLastNumber(str){\n   var myRe = /\\d+[0-9]{0}$/g;  \n   var myArray = myRe.exec(str);\n   return parseInt(myArray[0])+1;\u200b\n}\n</code></pre>\n\n<p>demo : <a href=\"http://jsfiddle.net/F9ssP/1/\" rel=\"nofollow\">http://jsfiddle.net/F9ssP/1/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's how I do it:</p>\n\n<pre><code>function getAndIncrementLastNumber(str) {\n    return str.replace(/\\d+$/, function(s) {\n        return ++s;\n    });\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/ult_combo/8ceGb/6/\" rel=\"nofollow\"><strong>Fiddle</strong></a></p>\n\n<p>Or also this, special thanks to Eric:</p>\n\n<pre><code>function getAndIncrementLastNumber(str) {\n    return str.replace(/\\d+$/, function(s) {\n        return +s+1;\n    });\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/ult_combo/8ceGb/11/\" rel=\"nofollow\"><strong>Fiddle</strong></a></p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p><strong>try this demo please</strong> <a href=\"http://jsfiddle.net/STrR6/1/\" rel=\"nofollow\">http://jsfiddle.net/STrR6/1/</a> <strong>or</strong> <a href=\"http://jsfiddle.net/Mnsy3/\" rel=\"nofollow\">http://jsfiddle.net/Mnsy3/</a></p>\n\n<p><strong>code</strong></p>\n\n<pre><code>existingId = 'foo_0_bar_0';\nnewIdOnly = existingId.replace(/foo_0_bar_(\\d+)/g, \"$1\");\nalert(newIdOnly);\n\ngetAndIncrementLastNumber(existingId);\n\nfunction getAndIncrementLastNumber(existingId){\n    alert(existingId);\nnewId = existingId.replace(/(\\d+)/g, function(match, number) {\n    return parseInt(number) + 1;\n});\nalert(newId);\n}\n\u200b\n</code></pre>\n\n<p><strong>or</strong></p>\n\n<pre><code>   existingId = 'foo_0_bar_0';\nnewIdOnly = existingId.replace(/foo_0_bar_(\\d+)/g, \"$1\");\nalert(newIdOnly);\n\ngetAndIncrementLastNumber(existingId);\n\nfunction getAndIncrementLastNumber(existingId){\n    alert(existingId);\n    newId = existingId.replace(/\\d+$/g, function(number) {\n    return parseInt(number) + 1;\n});\nalert(\"New ID ==&gt; \" + newId);\n}\n\u200b\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Will the numbers be seperated with some characters? What I understood from you question is your string may look like this 78_asd_0_798_fgssdflh__0_2323 !! If this is the case, first you need to strip out all the characters and underscores in just one go. And then whatever you have stripped out you can either replace with comma or some thing. </p>\n\n<p>So you will basically have \nstr1: 78_asd_0_798_fgssdflh__0_2323 ; \nstr2: 78,0,0,798,2323. </p>\n\n<p>str2 need not be a string either you can just save them into a variable array and get the max number and increment it. </p>\n\n<p>My next question is does that suffice your problem? If you have to replace the largest number with this incremented number then you have to replace the occurence of this number in str1 and replace it with your result. </p>\n\n<p>Hope this helps. \nFor replace using jquery, you can probably look into <a href=\"http://stackoverflow.com/questions/2950357/jquery-removing-character-from-string\">JQuery removing &#39;-&#39; character from string</a> it is just an example but you will have an idea. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>If you want to only get the last number of string, Here is a good way using parseInt()</p>\n\n<pre><code>if(Stringname.substr(-3)==parseInt(Stringname.substr(-3)))\nvar b=Stringname.substr(-3);\nelse if(Stringname.substr(-2)==parseInt(Stringname.substr(-2)))\nvar b=Stringname.substr(-2);\nelse\nvar b=Stringname.substr(-1);\n</code></pre>\n\n<p>It checks and give the correct answer and store it in variable b for 1 digit number and upto 3 digit number. You can make it to any if you got the logic</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>If I have the string:</p>\n\n<p><code>var myStr = \"foo_0_bar_0\";</code></p>\n\n<p>and I guess we should have a function called <code>getAndIncrementLastNumber(str)</code></p>\n\n<p>so if I do this:</p>\n\n<p><code>myStr = getAndIncrementLastNumber(str); // \"foo_0_bar_1\"</code></p>\n\n<p>Taking on considerations that there could be another text instead of <code>foo</code> and <code>bar</code> and there might not be <code>underscores</code>  or there might be more than one <code>underscore</code>;</p>\n\n<p>Is there any way with <code>JavaScript</code> or <code>jQuery</code> with <code>.replace()</code> and some <code>RegEx</code>?</p>\n",
            "last_activity_date": 1379580812,
            "question_id": 11059054,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "regex",
                "replace"
            ],
            "title": "Get and replace the last number on a string with JavaScript or jQuery"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<pre><code>$('span').attr('st_url', function(i, url) {\n  return url.replace(url.substr(url.lastIndexOf('/') + 1), '');\n})\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/thecodeparadox/LNW4V/6/\">DEMO</a></strong></p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>First you need to parse the  tag. Next try to extract st_url value which is your url. Then use a loop from the last character of the extracted url and omit them until you see a '/'. This is how you should extract what you want. Keep this in mind and try to write the code .</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You can see it work here: <a href=\"http://jsfiddle.net/xKxLR/\" rel=\"nofollow\">http://jsfiddle.net/xKxLR/</a></p>\n\n<pre><code>var url = \"http://localhost:8888/careers/php-web-developer-2\";\nvar regex = new RegExp('/[^/]*$');\nconsole.log(url.replace(regex, '/'));\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You could use a regular expression to parse the 'last piece of the url':</p>\n\n<pre><code>var url=\"http://localhost:8888/careers/php-web-developer\";\n\nvar baseurl=url.replace(\n    new RegExp(\"(.*/)[^/]+$\"),\n    \"$1\") );\n</code></pre>\n\n<p>The RegExp thing basically says: \"match anything, then a slash and then all non-slashes till the end of the string\".</p>\n\n<p>The replace function takes that matching part, and replaces it with the \"anything, then a slash\" part of the string.</p>\n\n<p><a href=\"http://www.regular-expressions.info/javascript.html\" rel=\"nofollow\">RegexBuddy</a> has a great deal of information on all this.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Use this. </p>\n\n<pre><code>$('span').attr('st_url', function(i, url) {\n    var to = url.lastIndexOf('/') +1;\n\n    x =  url.substring(0,to);\n    alert(x);\n})\u200b\n</code></pre>\n\n<p>You can see <a href=\"http://jsfiddle.net/crwM4/1/\" rel=\"nofollow\">Demo</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><strong>as simple as this:</strong></p>\n\n<pre><code>var to = url.lastIndexOf('/');\nto = to == -1 ? url.length : to + 1;\nurl = url.substring(0, to);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I need to remove the last part of the url from a span..</p>\n\n<p>I have</p>\n\n<pre><code>&lt;span st_url=\"http://localhost:8888/careers/php-web-developer-2\"\nst_title=\"PHP Web Developer 2\" class=\"st_facebook_large\" displaytext=\"facebook\"\nst_processed=\"yes\"&gt;&lt;/span&gt;&lt;/span&gt;\n</code></pre>\n\n<p>And I need to take the <code>st_url</code> and remove the <code>php-web-developer-2</code> from it so it is just <code>http://localhost:8888/careers/</code>.</p>\n\n<p>But I am not sure how to do that. <code>php-web-developer-2</code> will not always be that but it won't have any <code>/</code> in it. It will always be a <code>-</code> separated string.</p>\n\n<p>Any Help!!??</p>\n",
            "last_activity_date": 1363671827,
            "question_id": 10886727,
            "score": 6,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Remove last element from url"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>If it is refreshing, <code>window.onunload</code> will fire.</p>\n\n<pre><code>// From MDN\nwindow.onunload = unloadPage;\nfunction unloadPage()\n{\n    alert(\"unload event detected!\");\n}\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en/DOM/window.onunload\">https://developer.mozilla.org/en/DOM/window.onunload</a></p>\n\n<p>If you just want a confirmation box to allow them to stay, use this: </p>\n\n<pre><code>window.onbeforeunload = function() {\n    return \"Are you sure you want to navigate away?\";\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p>You can create a hidden field and set its value on first page load. When the page is loaded again, you can check the hidden field. If it's empty then the page is loaded for the first time, else it's refreshed. Some thing like this:</p>\n\n<p><em>HTML</em></p>\n\n<pre><code>&lt;body onLoad=\"CheckPageLoad();\"&gt;\n\n    &lt;input type=\"hidden\" name=\"visit\" id=\"visit\" value=\"\" /&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p><em>JS</em></p>\n\n<pre><code>function CheckPageLoad() {\n    if (document.getElementById(\"visit\").value == \"\") {\n        // This is a fresh page load\n        document.getElementById(\"visit\").value = \"1\";\n    }\n    else {\n        // This is a page refresh\n    }\n}\u200b\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I have to do some kind of operation on the page refresh or reload. that is when I hit next page or Filter or refresh on the grid. I need to show some confirmation box over this Events. </p>\n\n<p>is there any event which can tell you page is doing filer? refresh or paging? using javascript?</p>\n\n<p>Thanks</p>\n",
            "last_activity_date": 1393170165,
            "question_id": 10400182,
            "score": 6,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "How to check page is reloading or refreshing using jquery or javascript?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Usually doing something like change an image pixel by pixel is something you'd do on the server side, since it's very heavy for the browser. In the case of the Acura website there's nothing tricky going on - they just have a bunch of different JPGs. You could also try looking into Processing.js.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>Sure, you can get the pixel data, and do HSV adjustments on it. The method you want is getImageData (which returns a UInt8Array, not a normal js array). </p>\n\n<p>There's a nice writeup <a href=\"http://www.html5rocks.com/en/tutorials/canvas/imagefilters/\" rel=\"nofollow\">here</a> which should get you started. You can layer transparent canvas elements on top of each other, which should help avoiding problems with adjusting base components (in your car example, the tyres, windows etc). </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This function requires the image to be loaded and it has to be from the same domain (due to cross domain policy)</p>\n\n<pre><code>function tintImage(imgElement,tintColor) {\n    // create hidden canvas (using image dimensions)\n    var canvas = document.createElement(\"canvas\");\n    canvas.width = imgElement.offsetWidth;\n    canvas.height = imgElement.offsetHeight;\n\n    var ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(imgElement,0,0);\n\n    var map = ctx.getImageData(0,0,320,240);\n    var imdata = map.data;\n\n    // convert image to grayscale\n    var r,g,b,avg;\n    for(var p = 0, len = imdata.length; p &lt; len; p+=4) {\n        r = imdata[p]\n        g = imdata[p+1];\n        b = imdata[p+2];\n        // alpha channel (p+3) is ignored           \n\n        avg = Math.floor((r+g+b)/3);\n\n        imdata[p] = imdata[p+1] = imdata[p+2] = avg;\n    }\n\n    ctx.putImageData(map,0,0);\n\n    // overlay filled rectangle using lighter composition\n    ctx.globalCompositeOperation = \"lighter\";\n    ctx.globalAlpha = 0.5;\n    ctx.fillStyle=tintColor;\n    ctx.fillRect(0,0,canvas.width,canvas.height);\n\n    // replace image source with canvas data\n    imgElement.src = canvas.toDataURL();\n}\n</code></pre>\n\n<p>Assuming your markup looks like this:</p>\n\n<pre><code>&lt;img id='myimage' src='image.jpg'/&gt;\n</code></pre>\n\n<p>You could use it by calling it with the following parameters:</p>\n\n<pre><code>tintImage(\n    document.getElementById('myImage'),\n    \"#550000\" // for a redish tint\n);\n</code></pre>\n\n<p>Working example here: <a href=\"http://jsfiddle.net/pHwmL/1/\">http://jsfiddle.net/pHwmL/1/</a></p>\n",
                    "is_accepted": false,
                    "score": 7
                }
            ],
            "body": "<p>Is there a way to change colors of an image much like in Flash/ActionScript with using only HTML5/CSS/JavaScript?</p>\n\n<p>Here's an example in Flash: <a href=\"http://www.kirupa.com/developer/actionscript/color.htm\">http://www.kirupa.com/developer/actionscript/color.htm</a> <strong>EDIT: This is the process I wish to duplicate.</strong></p>\n\n<p>I'm trying to accomplish something like this (color changing aspect, preserving lighting and shadows): <a href=\"http://www.acura.com/ExteriorColor.aspx?model=TL\">http://www.acura.com/ExteriorColor.aspx?model=TL</a> WITHOUT loading &amp; replacing a new image each time; I want to be able to simply change the color tone (i.e. do a pure HTML5/CSS/JS method). <strong>EDIT: This is the result I wish to achieve, not the process.</strong></p>\n\n<p>Basically I want to change the palette/tone of an image, while preserving the other aspects of the image (such as gradient, lighting, etc.).  I have gotten close, but not close enough; I've gotten to the point where I use an image mask and composite that over the original image (sort of like a transparent image overlay).  Below is some sample code (please note this is just a snippet, so it may or may not work; I am only displaying sample code so you get an idea of what I'm trying to do):</p>\n\n<pre><code>&lt;div id='mask'&gt;\n    &lt;canvas id='canvas' width='100' height='100'&gt;&lt;/canvas&gt;\n&lt;/div&gt;\n&lt;button data-rgba='255,0,0,0.5'&gt;red&lt;/button&gt;\n&lt;button data-rgba='0,255,0,0.5'&gt;green&lt;/button&gt;\n\n&lt;script&gt;\nfoo = {};\nfoo.ctx = jQuery('#canvas')[0];\nfoo.ctx_context = foo.ctx.getContext('2d');\nfoo.mask = jQuery('#mask')[0];\nfoo.img = new Image();\nfoo.img_path = '/path/to/image_mask.png'; // 100px x 100px image\n\nfoo.changeColor = function(rgba){\n    foo.ctx_context.clearRect(0, 0, 100, 100);\n    foo.ctx_context.fillStyle = 'rgba(' + rgba + ')';\n    foo.ctx_context.fillRect(0, 0, 100, 100);\n    foo.ctx_context.globalCompositeOperation = 'destination-atop';\n    foo.ctx_context.drawImage(foo.img, 0, 0);\n    foo.ctx_context.css({'background-image': \"url(\" + foo.ctx.toDataURL(\"image/png\") + \")\"});\n};\n\njQuery(\"button\").click(function(){\n    foo.changeColor(jQuery(this).attr('data-rgba'));\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>The major problem with using this approach is that the images look really flat.  There's something else missing, or the mask I'm using (which is a solid white irregular shaped image), is the wrong approach.</p>\n",
            "last_activity_date": 1364732015,
            "question_id": 10069171,
            "score": 6,
            "tags": [
                "javascript",
                "css",
                "html5",
                "canvas",
                "html5-canvas"
            ],
            "title": "Canvas - Change colors of an image using HTML5/CSS/JS?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<blockquote>\n  <p>3 . Create a simple internal proxy</p>\n</blockquote>\n\n<p><em>Bang.</em> You got it.</p>\n\n<p>Use the <a href=\"http://nodejs.org/api/net.html\" rel=\"nofollow\">Node.js <code>net</code> object</a> to create a TCP server that actually sits between the user and the http server. Replace the first line of all requests and responses as you've described, and you can continue to use http server essentially as-is. (You create an internal http server on a non-standard port, the net server on another port, then chain up streams between the two, with a bit of code to intercept the first chunk of data from the requesting user, and the first chunk of data from the responding server.)</p>\n\n<p>All of your code in Javascript and it's all streaming with (almost) no bufferbloat.</p>\n\n<p>EDIT, it seems I misread your post slightly. I see that you're not trying to implement a Node.js shoutcast server, but trying to access data from it. The <code>net</code> object should still work, but not quite in the same way.</p>\n\n<p>You'll need to use <code>net.connect</code> to talk to the specified shoutcast server, and use a new <code>net</code> server that knows about the <code>net.connect</code> stream to proxy between it and your <code>http.request()</code>. So, it would work like:</p>\n\n<pre><code>+---------------+    +----------+    +-----------+    +----------------+\n| http.request()|---&gt;|net.Server|---&gt;|net.connect|---&gt;|SHOUTcast Server|\n|               |&lt;---|          |&lt;---|           |&lt;---|                |\n+---------------+    +----------+    +-----------+    +----------------+\n                  TCP             JS               TCP\n</code></pre>\n\n<p>That's about how I'd structure it.</p>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>I've come up with another way to do this, similar to the internal proxy, but without the extra connection.  It seems that it is possible to override the internally used socket for the HTTP client.  When this is done, it is easy to hook in and modify data before passing it off to the original internal socket <code>ondata</code> function.</p>\n\n<h2>Usage</h2>\n\n<pre><code>var httpicy = new HttpIcyClient();\nhttpicy.request(/* your normal request parameters here */);\n</code></pre>\n\n<h2>Source</h2>\n\n<pre><code>var http = require('http');\n\nvar HttpIcyClient = function () {};\nHttpIcyClient.prototype.request = function (options, callback) {\n    var req = http.request(options, callback),\n        originalOnDataFunction,\n        receiveBuffer = new Buffer(0);\n\n    req.on('socket', function (socket) {\n        originalOnDataFunction = socket.ondata;\n        socket.ondata = function (d, start, end) {\n            receiveBuffer = Buffer.concat([receiveBuffer, d.slice(start, end)]);\n            if (receiveBuffer.length &gt;= 4) {\n                socket.ondata = originalOnDataFunction;\n                if (receiveBuffer.toString('ascii', 0, 4) === 'ICY ') {\n                    receiveBuffer = Buffer.concat([new Buffer('HTTP/1.0 ', 'ascii'), receiveBuffer.slice(4)]);\n                }\n                socket.ondata.apply(this, [receiveBuffer, 0, receiveBuffer.length]);\n            }\n        };\n    });\n    return req;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I am using Node's basic <code>http.request()</code> function without problem on normal HTTP servers.  I need to use <code>http.request()</code> (or similar) with SHOUTcast servers.  The SHOUTcast \"protocol\" is fully compatible with HTTP, except for one detail...  the first response line.</p>\n\n<p><strong>Normal HTTP servers respond with:</strong></p>\n\n<pre><code>HTTP/1.1 200 OK\n</code></pre>\n\n<p><strong>SHOUTcast servers respond with:</strong></p>\n\n<pre><code>ICY 200 OK\n</code></pre>\n\n<p>Again, the rest of the protocol is the same.  The only difference is <code>HTTP/1.x</code> vs. <code>ICY</code>.</p>\n\n<p>I would like to extend, subclass, or somehow modify Node's <code>http.request()</code> function so that I can make it work with SHOUTcast servers.  Connecting to SHOUTcast with Node <a href=\"https://github.com/fwg/node-radio-stream\">has been done before</a>, but only by re-inventing the entire wheel.  I'd rather not do that for what amounts to be a minor protocol difference.</p>\n\n<h2>My Question:  Is there a way to do one of the following?</h2>\n\n<ol>\n<li><p><strong>Extend or override</strong> the relevant parts of Node's HTTP parser.  (I doubt this is possible, as it seems <a href=\"https://github.com/joyent/http-parser/blob/master/http_parser.c#L1057\">the parser is native code</a>.)</p></li>\n<li><p><strong>Create my own</strong> bit of code that parses the relevant parts of HTTP, but reuses as many existing Node components for HTTP as possible.</p></li>\n<li><p><strong>Create a simple internal proxy</strong> (or somehow relay data) so that I can modify that first server response line prior to it reaching Node's HTTP parser.</p></li>\n<li><p><strong>Something else?</strong></p></li>\n</ol>\n\n<p>I have also considered using <a href=\"https://github.com/spire-io/shred\">Shred</a>, but it does not offer an option to stream the response.  (It waits for the entire server response to be complete before firing an event, which won't work for streaming servers where the data can run indefinitely.)  Along those same lines, I tried <a href=\"https://github.com/mikeal/request\">Request</a>, but it uses Node's own HTTP parser, so I get the same parse errors as I would with the native HTTP client.</p>\n",
            "last_activity_date": 1373693814,
            "question_id": 9881305,
            "score": 6,
            "tags": [
                "javascript",
                "node.js",
                "javascript-library",
                "javascript-framework",
                "shoutcast"
            ],
            "title": "Overriding Node.js HTTP parser"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<pre><code>var a = \"a\";\nvar b = \"b\";\n\na = [b][b = a, 0];\n</code></pre>\n\n<p>Let's break the last line into pieces:</p>\n\n<pre><code>[b]       // Puts b in an array - a safe place for the swap.\n[b = a]   // Assign a in b\n[b = a,0] // Assign a in b and return the later expression - 0 with the comma operator.\n</code></pre>\n\n<p>so finally it is <code>a =[b][0]</code> - the first object in the <code>[b]</code> array => <code>b</code> assigned to <code>a</code>  </p>\n\n<p><a href=\"http://jsfiddle.net/Yr7hJ/1/\" rel=\"nofollow\"><strong>Live DEMO</strong></a>        </p>\n\n<p>read @am not I am comments in this question:<br>\n<a href=\"http://stackoverflow.com/q/9579546/601179\">Comma operator(,) Where it can &quot;really&quot; be useful</a><br>\nIt's his code...</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>It might help (or hinder) to think of it terms of the semantically equivalent lambda construction (here, parameter <code>c</code> takes the place of element 0):</p>\n\n<pre><code>a = (function(c) { b = a; return c; })(b);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>As <a href=\"http://stackoverflow.com/a/9864059/283863\">gdoron</a> pointed out, </p>\n\n<pre><code>var a = \"a\";\nvar b = \"b\";\n\na = [b][b = a,0];\n</code></pre>\n\n<p>Will swap <code>a</code> and <code>b</code>, and although it looks a bit of <em>hacky</em>, it has triggered my curiosity and I am very curious at how it works. It doesn't make any sense to me.</p>\n",
            "last_activity_date": 1347613938,
            "question_id": 9864420,
            "score": 6,
            "tags": [
                "javascript"
            ],
            "title": "How does [b][b = a,0] swap between a and b?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p><strong>working demo</strong> : <strong>With Commnet</strong> <a href=\"http://jsfiddle.net/aNS9R/218/\">http://jsfiddle.net/aNS9R/218/</a> &amp;&amp; <strong>without comments</strong> only 7 lines needed: <a href=\"http://jsfiddle.net/aNS9R/220/\">http://jsfiddle.net/aNS9R/220/</a></p>\n\n<p>-phew- </p>\n\n<p>So, to start with I tried Change event [of dropkick] with in drop kick but its only for the change event within select and <strong>not from external element binding.</strong> i.e. in your case change button.</p>\n\n<p>So; this is what I have done:</p>\n\n<p><strong>Explanation (if you interested)</strong></p>\n\n<p>I used firebug to inspect the variable and found that dropkick marshal your existing select with nice styling now when you used <code>$('#timePreference option:selected').val(\"1\");</code> <code>dropkick actually did changed the selected value with in your element with id=timePreference but the div and ul and li styling</code> which is created by dropkick is not changed yet. </p>\n\n<p>For the chosen span it has a class <code>.dk_label</code> and for the current (green color) is given by <code>.dk_option_current</code> class.  </p>\n\n<p><strong>Please Note</strong> I pretty much read the plugin and figure out what is happening from here: <a href=\"https://github.com/JamieLottering/DropKick/blob/master/jquery.dropkick-1.0.0.js\">https://github.com/JamieLottering/DropKick/blob/master/jquery.dropkick-1.0.0.js</a></p>\n\n<p>If you wish to use firebug and see how elements are se use this link : <a href=\"http://jsfiddle.net/aNS9R/218/show/\">http://jsfiddle.net/aNS9R/218/show/</a> and play around with your inspect mode, you will see dropkick styling and how it works.</p>\n\n<p><strong>JQuery code</strong></p>\n\n<pre><code> $(document).ready(function() {\n\n    $('#timePreference').dropkick();\n\n    $('#go').click(function(){\n\n        // Assign slected option value to your select here - \n        // you can also make it something like this but your existing cdoe works anyways $(\"select_id option[value='3']\").attr('selected','selected');\n        $('#timePreference').val(\"1\");\n\n        //Now assign the select text value to the dropkick added element.\n        //If you will use firebug you can see the nice &lt;div&gt;, &lt;ul&gt; &amp; &lt;li&gt; structure which morph your dropdown.\n\n        $('.dk_label').text(1);\n\n      // further if you want green color to be selected. class=dk_option_current does that\n      // You need to loop through the dropkick hierachy\n\n      $(\".dk_options_inner li\").each(function(){\n\n        $(this).removeAttr('class');\n        if ($(this).text() == \"1\"){\n           $(this).attr('class', 'dk_option_current');\n        }\n      });\n\n    });\n});\n\u200b\n</code></pre>\n\n<p>Hope this helps you mate, cheers!</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>     &lt;select id=\"timePreference\"&gt;\n        &lt;option value=\"Choose\" selected=\"selected\"&gt;Choose&lt;/option&gt;\n        &lt;option value=\"1\"&gt;1&lt;/option&gt;\n        &lt;option value=\"2\"&gt;2&lt;/option&gt;\n        &lt;option value=\"3\"&gt;3&lt;/option&gt;\n        &lt;option value=\"4\"&gt;4&lt;/option&gt;\n        &lt;option value=\"5\"&gt;5&lt;/option&gt;\n        &lt;option value=\"6\"&gt;6&lt;/option&gt;\n        &lt;option value=\"7\"&gt;7&lt;/option&gt;\n        &lt;option value=\"8\"&gt;8&lt;/option&gt;\n        &lt;option value=\"9\"&gt;9&lt;/option&gt;\n        &lt;option value=\"10\"&gt;10&lt;/option&gt;\n        &lt;option value=\"11\"&gt;11&lt;/option&gt;\n        &lt;option value=\"12\"&gt;12&lt;/option&gt;\n     &lt;/select&gt;\n\n    &lt;input name=\"go\" id=\"go\" type=\"button\" value=\"change\" /&gt;\n\n\u200b\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p>I'm a bit late answering this but I have recently come across the same issue - updating a Dropkick DDL after it has been created. I have taken Tats_innit's code and modified it slightly, creating a function that allows you to simply pass in the ID of the select element and the value you want to change it to.</p>\n\n<pre><code>function updateDropkickDDL(id, value) {\n\n    //Get the select element and dropkick container\n    var select = $(id);\n    var dk = select.prev('.dk_container');\n\n    //Set the value of the select\n    select.val(value);        \n\n    //Loop through the dropkick options\n    dk.find('.dk_options_inner').children(\"li\").each(function () {\n\n        var li = $(this);\n        var link = li.children('a');\n\n        //Remove the 'current' class if it has it\n        li.removeClass('dk_option_current');\n\n        //If the option has the value we passed in\n        if (link.data('dk-dropdown-value') == value) {\n\n            //Set the 'current' class on the option\n            li.addClass('dk_option_current');\n\n            //Set the text of the dropkick element\n            dk.find('.dk_label').text(link.text());\n\n        }\n\n    });\n\n}\n</code></pre>\n\n<p>You should now be able to simply call updateDropkickDDL on the click of a button or similar, for example, to set the value of the dropdown in your question to 1 you would use:</p>\n\n<pre><code>$(document).ready(function(){\n\n    $('#start').dropkick();\n\n    $('#someDiv').click(function(){\n\n        updateDropkickDDL('#start', 1)\n\n    });\n\n}\n</code></pre>\n\n<p>This function also allows the use of multiple dropkick dropdown lists on the page, only updating the specified dropdown.</p>\n\n<p>I hope this will help someone else encountering this issue.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I know this question is a few months old, but for anyone looking this up later I wanted to add this link to a pull request on the DropKick repository that adds in a \"reverse sync\" option that updates the custom dropdown menu whenever the underlying select object changes.  That allows you to just update the select object in your code and the DropKick custom dropdown updates on the \"change\" event.</p>\n\n<p><a href=\"https://github.com/JamieLottering/DropKick/pull/27\" rel=\"nofollow\">https://github.com/JamieLottering/DropKick/pull/27</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can set the dropkick value programmatically by jQuery trigger of a click event on the selected dropkick option.</p>\n\n<pre><code>$option = $('#dk_container_'+ k +' .dk_options a[data-dk-dropdown-value=\"'+ v +'\"]');\n\n$option.trigger(\"click\");\n</code></pre>\n\n<p>Here <code>k</code> is the select id or name, and <code>v</code> is the selected value.</p>\n\n<p>The click event of dropkick will automatically take care of setting the classes of options to reflect the change.</p>\n",
                    "is_accepted": false,
                    "score": 7
                },
                {
                    "body": "<p><strong>best way to change value</strong> <br>\njust add to <strong>jquery.dropkick-X.X.X.js</strong>\nafter </p>\n\n<pre><code>methods.reset = function () {\n...\n};\n</code></pre>\n\n<p>this code</p>\n\n<pre><code>// change value of current select\n// usage: $(\"...\").dropkick('select', select_value);\nmethods.select = function (value) {\nfor (var i = 0, l = lists.length; i &lt; l; i++) {\n  var\n    listData  = lists[i].data('dropkick'),\n    $dk       = listData.$dk\n  ;\n  if ($(this)[0] == $dk.next()[0]){\n    var $current  = $($dk.find('li a[data-dk-dropdown-value=\"' + value + '\"]')[0]).closest('li');\n    $dk.find('.dk_label').text(listData.label);\n    $dk.find('.dk_options_inner').animate({ scrollTop: 0 }, 0);\n\n    _setCurrent($current, $dk);\n    _updateFields($current, $dk, true);\n    var data  = $dk.data('dropkick');\n    var $select = data.$select;\n    $select.val(value);\n\n    if ($.browser.msie)\n      $current.find('a').trigger('mousedown');\n    else\n      $current.find('a').trigger('click');\n    break;\n  }\n}\n};\n</code></pre>\n\n<p>usage: $(\"...\").dropkick('select', select_value);</p>\n\n<p>pros<br>\n- native change state of dropkick object<br>\n- change selected option in original select <br>\n- trigger event, useful if you listen \"change\" state<br>\n<br>\ncons<br>\n- need to change original library<br>\n- long code :)<br></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I've been using a nice, elegant plugin called DropKick for my webapp <a href=\"http://jamielottering.github.com/DropKick/\">http://jamielottering.github.com/DropKick/</a>, and I seem to be having a slight issue with it and am not sure how to go about trying to fix it. I am trying to programmatically change the value of the select drop down menu. Below is a description of my issue, and a link to JSFiddle.</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;select id=\"start\" class=\"timePreference\"&gt;\n   &lt;option value=\"Choose\"&gt;Choose&lt;/option&gt;\n   &lt;option value=\"1\"&gt;1&lt;/option&gt;\n   &lt;option value=\"2\"&gt;2&lt;/option&gt;\n   &lt;option value=\"3\"&gt;3&lt;/option&gt;\n   &lt;option value=\"4\"&gt;4&lt;/option&gt;\n   &lt;option value=\"5\"&gt;5&lt;/option&gt;\n   &lt;option value=\"6\"&gt;6&lt;/option&gt;\n   &lt;option value=\"7\"&gt;7&lt;/option&gt;\n   &lt;option value=\"8\"&gt;8&lt;/option&gt;\n   &lt;option value=\"9\"&gt;9&lt;/option&gt;\n   &lt;option value=\"10\"&gt;10&lt;/option&gt;\n   &lt;option value=\"11\"&gt;11&lt;/option&gt;\n   &lt;option value=\"12\"&gt;12&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p><strong>jQuery:</strong></p>\n\n<pre><code> $('.timePreference').dropkick();\n\n $('#someDiv').click(function() {\n    $('#start').val(\"1\");\n    alert($('#start').val());\n\n );\n</code></pre>\n\n<p>When I show the value in alert, it shows as one, however when I look at the labels on the option it  stays at the default or whatever it was prior to the change. </p>\n\n<p>For example, if my default was \"Choose\" and I click someDiv, then alert will show \"1\", so it changing, but the select dropdown will still show \"Choose\". Any suggestions. I may just be missing something small, not sure.</p>\n\n<p>FSFiddle: <a href=\"http://jsfiddle.net/kdp8791/aNS9R/61/\">http://jsfiddle.net/kdp8791/aNS9R/61/</a></p>\n",
            "last_activity_date": 1352370748,
            "question_id": 9857771,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "jquery",
                "jquery-plugins"
            ],
            "title": "Issues Setting Value/Label Using DropKick Javascript"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>I'm not really that familiar with putting the scripts in the footer, but you may want to look into the various ways of telling the page to only run the JavaScript AFTER the page is fully loaded.</p>\n\n<p>This opens up a couple options - you could have JS dynamically load external scripts only after the page is ready.  </p>\n\n<p>You can also hide some or all of the page content, and then just make it visible after the page is ready.  Just make sure you hide it with JS, so that non-js browsers can still see it.</p>\n\n<p>See these:</p>\n\n<ul>\n<li><a href=\"https://www.google.com/search?q=javascript+page+ready\" rel=\"nofollow\">https://www.google.com/search?q=javascript+page+ready</a></li>\n<li><a href=\"http://api.jquery.com/ready/\" rel=\"nofollow\">http://api.jquery.com/ready/</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Script tags in the header block all other requests. If you have let's say 10 tags like this:</p>\n\n<p><code>&lt;script src=\"http://images.apple.com/home/scripts/promotracker.js\"&gt;&lt;/script&gt;</code></p>\n\n<p>...they will be executed sequentially. No other files will concurrently be downloaded. Hence they increase page load time.</p>\n\n<p><a href=\"http://headjs.com/#theory\" rel=\"nofollow\">Check out HeadJS here</a> as a sample solution.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>I have occasionally recommended putting Javascript at the bottom of a page (just before <code>&lt;/body&gt;</code>) but only in circumstances where a novice programmer couldn't really cope with <code>window.onload</code> or <code>&lt;body onload...&gt;</code> and that was the easiest adaptation of their code to get it to work.</p>\n\n<p>I agree with your practical disadvantages, which need to be balanced against Michael's note of the effect on load time. In most cases [I submit] loading scripts in the <code>&lt;head&gt;</code> of the page wins.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You need to think in terms of \"do I need the DOM to be ready before I execute some javascript\". Basically you put script tags at the bottom of the page to basically guarantee that the DOM is ready. If you link your styling in the header, and properly style the page, you shouldn't get the \"ugliness\". Secondly, if you are dependent on some parts of the page to be displayed with javascript to work on DOM objects, I would use more ajax calls to prevent this problem as well. The best of both worlds. Page is loaded with what you can, and then ajax calls are getting the html to populate on other parts of the page. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Edit: I am adding another point in response to the cotton I'm seeing in peoples ears on this topic.</p>\n\n<p>Additional point #5. If you are seriously concerned about handling behavior on JS-fail and by that I mean, people browsing with JS turned off, what you should be doing is embracing the notion of progressive enhancement. For instance, you could design an accordion menu to act as a flyout-menu on-hover by default, yes with CSS only, and then remove that behavior by changing key classes when JS is enabled. That way users have access to the links without JS if they should turn it off but they get the enhanced behavior when JS is working.</p>\n\n<p>But what you should not be trying to handle is the absence of entire JS files on pages that are supposed to have them because the page was mangled on the back-end. Handling the unexpected is one thing, but handling the failure to finish building an HTML file before it's served should not ever be considered an acceptable scenario in production, especially if you have actual back end code in your templating language (which you shouldn't) waiting to spill out and give would-be hackers something potentially interesting to look at. Broken pages should be served as error messages.</p>\n\n<p>================================</p>\n\n<ol>\n<li><p>Dead wrong. Any time you use JS to tweak the initial static look of your page, you're doing it wrong. Maintain that separation of concerns and your pages will be much more flexible. Using JS to tweak the STATIC styles of your pages isn't modern, it's bass-ackwards and you can tell the jQuery mobile guys I said as much. If you absolutely must support IE6 and IE7 and IE8 tell your client how much it's going to cost them to cut out rounded gradient corners all over the place if they refuse to accept anything as an alternative to absolute graceful degradation for 5% of their client-base.</p></li>\n<li><p>If your pages, with no JS beforehand are taking that long to load, you have other problems that need to be addressed. How many resources are you loading? What ungodly pre-processing is your PHP up to? I call back end or design shenanigans.</p></li>\n<li><p>Are you saying it's half-acceptable to have half a page with working JS rather than completely unacceptable? Don't let go of that client, whoever they are.</p></li>\n<li><p>jQuery, when minimized is about the size of a medium-sized JPEG.</p></li>\n</ol>\n\n<p>Note: It is not entirely unacceptable to have some JS up top. Some specialized code like analytics stuff or canvas normalizers require it. But anything that doesn't need to be should be at the bottom. Every time JS is parsed, the entire page load and flow calculation process stalls out. Pushing your JS to the bottom improves perceived page load times and should also serve to provide evidence that somebody on your team needing a swift kick in the butt to figure out why their code is tanking or what could be done with their 25 megabyte png-24s that they just shrunk down rather than reformatted.</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Everybody's needs are different, lets go through your list:</p>\n\n<p>1) I've never had an issue with the layout or styling of the page because of javascript. If you have your HTML &amp; CSS in order the missing javascript will be close to invisible. \nYou can hide elements in the css and display them with javascript when they're ready. You can use <a href=\"http://api.jquery.com/show/\" rel=\"nofollow\">jQuery's <code>.show();</code> method</a> </p>\n\n<p>here's an example: </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;style&gt;\n  div { background:#def3ca; margin:3px; width:80px;\n  display:none; float:left; text-align:center; }\n  &lt;/style&gt;\n  &lt;script src=\"http://code.jquery.com/jquery-latest.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;button id=\"showr\"&gt;Show&lt;/button&gt;&lt;button id=\"hidr\"&gt;Hide&lt;/button&gt;\n  &lt;div&gt;Hello 3,&lt;/div&gt;&lt;div&gt;how&lt;/div&gt;&lt;div&gt;are&lt;/div&gt;&lt;div&gt;you?&lt;/div&gt;\n&lt;script&gt;\n$(\"#showr\").click(function () {\n  $(\"div\").first().show(\"fast\", function showNext() {\n    $(this).next(\"div\").show(\"fast\", showNext);\n  });\n});\n$(\"#hidr\").click(function () {\n  $(\"div\").hide(1000);\n});\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>If you still have problems you can split up your javascript into ones your site relies on and other scripts and put some in the header and some in the footer.</p>\n\n<p>2) That's user error, you can't control that, but you could check if the needed functionality is there and attempt to reload it. Most plugins offer some sort of confirmation if they're running or not, so you could run a test and try to reload them.</p>\n\n<p>You can also delay loading of files until the user needs them, like waiting for them to <code>focus</code> on a <code>form</code> to load validation scripts or scroll past a certain point to load the code for things below \"the fold\" </p>\n\n<p>3) If the page <code>die</code>s you're going to get a half-blank page anyhow. With PHP 5 you can do better error handling with <a href=\"http://www.php.net/exceptions\" rel=\"nofollow\"><code>exception</code>s</a></p>\n\n<p>&nbsp;</p>\n\n<pre><code>if (!$result = mysql_query('SELECT foo FROM bar', $db)) {\n        throw new Exception('You fail: ' . mysql_error($db));\n}\n</code></pre>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Exception_handling_syntax#PHP\" rel=\"nofollow\">and this</a></p>\n\n<pre><code>try\n{\n  // Code that might throw an exception\n  throw new Exception('Invalid URL.');\n}\ncatch (FirstExceptionClass $exception) \n{\n  // Code that handles this exception\n} \ncatch (SecondExceptionClass $exception) \n{\n  // you get the idea what i mean ;)\n}\n</code></pre>\n\n<p>4) If you minify your script you they shouldn't be much larger than images. JQuery is 32KB minified &amp; gziped. JQuery-UI's script is 51KB. That's not too bad, most plugins should be even smaller than that.</p>\n\n<p>So I suggest you should do what you have to do to get the results you want, but search for best practices that reduce errors and excess code. There's always a better way to skin a cat...</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The reason putting JS at the bottom of the page or loading in asynchronously is recommended is that JS slows the page load down.</p>\n\n<p>If some browsers downloading the JS blocks other parallel downloads, and in all browsers executing the JS blocks the UI thread and hence rendering (parsing blocks in some too).</p>\n\n<p>Putting it a the bottom or loading asynchronously attempts to delay the issue until it has less impact on the visitors page load experience.</p>\n\n<p>Don't forget that no matter how beautiful you page is, is it takes too long to load people won't wait and 2 /3 seconds is where it starts to cause problems.</p>\n\n<ol>\n<li><p>Modern design can probably depends less on JS that it ever has - yes we need polyfills still but as browsers get better then we can do more with CSS</p></li>\n<li><p>This might be true for things like Backbone.js apps, but if the lack of JS breaks the site then I'd argue the design should be different.</p></li>\n<li><p>If the server-side script dies there are perhaps other issues to worry about, there's no guarantee there's enough of the page to be useful anyway.</p></li>\n<li><p>NO! JS blocks the UI thread and in some cases downloads so the images will be delayed. Also as the JS is using connections then there are less connections available for parallel downloads.</p></li>\n<li><p>Have a look at @samsaffron's article on loading jQuery late - <a href=\"http://samsaffron.com/archive/2012/02/17/stop-paying-your-jquery-tax\" rel=\"nofollow\">http://samsaffron.com/archive/2012/02/17/stop-paying-your-jquery-tax</a></p></li>\n</ol>\n\n<p>If you can delay the JS load you should</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>It is widely recommended that JS files should be put at the bottom of page to allow html codes to be loaded first. In this case, visitors will see something when waiting for full load of the page. However, I think this is disadvantageous for these reasons:</p>\n\n<ol>\n<li><p>Modern design mainly depends on JS. This means before loading JS, the page will look ugly.</p></li>\n<li><p>If interrupting the connection during the load (not loading JS at all), visitors will miss some of the website features (probably very important); and they will not understand that this is the problem of load (to re-load the page).</p></li>\n<li><p>If the server-side script <code>die</code> (due to an error) at the very end of script before footer (e.g. in PHP), visitors will miss the whole page functionality (by JS); but if loading JS at the top, they will only miss the footer or half the page.</p></li>\n<li><p>If loading JS first, browser will load other stuff (like images) in parallel; but if loading JS last, it may increase the load time. Because JS files are large (e.g. JQuery and JQuery UI), and all tiny stuffs (like images) have been loaded and we are loading a large file, last in line.</p></li>\n</ol>\n\n<p><strong>UPDATE:</strong> 5. Since jQuery library should be loaded before codes; if loading the jQuery library in footer (e.g. footer.php), you cannot add custom jquery codes for different pages (within the body).</p>\n\n<p>Please correct me if I'm wrong! Is putting JS files in footer still beneficial?</p>\n",
            "last_activity_date": 1379572936,
            "question_id": 9814301,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "performance",
                "seo",
                "pagespeed"
            ],
            "title": "Is it practically good to put JS files at the bottom of webpage?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<pre><code>$('script#some_id').parent().html('blah blah');\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Try this</p>\n\n<pre><code>&lt;div id=\"mydiv\"&gt;\n &lt;script type=\"text/javascript\"&gt;\n  var time = new Date(), hrs = time.getHours(), min = time.getMinutes();\n  document.getElementById('mydiv').innerHTML = 'It is '+hrs+\":\"+(min&lt;10?'0':'')+min;\n &lt;/script&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Script are executed in the order of appearance in the document. The contents of a script tag are evaluated on encounter, so, the last <code>&lt;script&gt;</code> element is always the current one.</p>\n\n<p>Code:</p>\n\n<pre><code>&lt;div&gt;\n  &lt;script&gt;\n    var scriptTag = document.getElementsByTagName('script');\n    scriptTag = scriptTag[scriptTag.length - 1];\n\n    var parent = scriptTag.parentNode;\n  &lt;/script&gt;\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 14
                },
                {
                    "body": "<p>Firefox:</p>\n\n<pre><code>document.currentScript.parentElement\n</code></pre>\n\n<p>Chrome:</p>\n\n<pre><code>document.scripts.length\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>How can I find out what the element is that a <code>&lt;script&gt;</code> sits in?<br>\nAs an example, let's take this</p>\n\n<pre><code>&lt;div&gt;\n &lt;script type=\"text/javascript\"&gt;\n  var time = new Date(), hrs = time.getHours(), min = time.getMinutes();\n  document.write('It is '+hrs+\":\"+(min&lt;10?'0':'')+min);\n &lt;/script&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Then if I want to change this to something more modern, how can I find out what element we're in?<br>\nSo I want to write, for instance in jQuery</p>\n\n<pre><code>$(thisdiv).html('It is '+hrs+\":\"+(min&lt;10?'0':'')+min);\n</code></pre>\n\n<p>but how do I get <code>thisdiv</code>?<br>\nYes, I know, I can put an ID on it, but I have the feeling that wouldn't be necessary. The browser knows where we are, otherwise it couldn't even do the document.write!  </p>\n\n<p>So, suggestions? I searched, but couldn't find it. Is it so simple that I'm overlooking the obvious?</p>\n",
            "last_activity_date": 1328788089,
            "question_id": 9209823,
            "score": 6,
            "tags": [
                "javascript",
                "dom",
                "this"
            ],
            "title": "What is the current element in Javascript?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Try this</p>\n\n<pre><code>function isTextSelected(input){\n   var startPos = input.selectionStart;\n   var endPos = input.selectionEnd;\n   var doc = document.selection;\n\n   if(doc &amp;&amp; doc.createRange().text.length != 0){\n      return true;\n   }else if (!doc &amp;&amp; input.value.substring(startPos,endPos).length != 0){\n      return true;\n   }\n   return false;\n}\n</code></pre>\n\n<p>Usage </p>\n\n<pre><code>if(isTextSelected($('#textareaId')[0])){\n   //text selected\n}\n</code></pre>\n\n<p><strong><a href=\"http://jsfiddle.net/qDvYt/\">Demo</a></strong></p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I'm looking for a simple function (javascript / jquery) that checks whether or not ANY contents of a textarea is selected or highlighted... the function needs to return true or false.</p>\n\n<p>Thanks :)</p>\n",
            "last_activity_date": 1327936157,
            "question_id": 9065828,
            "score": 6,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "Javascript check if text selected"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>if ( yourVideoElement.readyState === 4 ) {\n    // it's loaded\n}\n</code></pre>\n\n<p>Read here: <a href=\"https://developer.mozilla.org/en/DOM/HTMLMediaElement\">https://developer.mozilla.org/en/DOM/HTMLMediaElement</a></p>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>So, I've been using a listener on <strong>document.getElementById(\"video\").buffered.length</strong> to see if it's greater than 0 for when a video's loaded or not. This works for a very small video, and only in google chrome. It doesn't work in firefox at all. Any ideas for how to get this to work? </p>\n\n<p>I essentially want to wait till 3 seperate videos are loaded to take a specific action, how do I go about this?</p>\n",
            "last_activity_date": 1339158084,
            "question_id": 8685038,
            "score": 6,
            "tags": [
                "javascript",
                "html5",
                "video",
                "loaded"
            ],
            "title": "Tell whether video is loaded or not in Javascript"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p><a href=\"https://github.com/madrobby/zepto\" rel=\"nofollow\" title=\"Zepto\">Zepto</a> is a jquery compatible library for mobile and provides handlers for pinch events. Unfortunately, they are listed as iOS only.  (See \"Touch Events\")</p>\n\n<p>Synopsis:</p>\n\n<pre><code>$('some selector').pinch(function(){ ... });\n$('some selector').pinchIn(function(){ ... });\n$('some selector').pinchOut(function(){ ... });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p><a href=\"http://github.com/hotstudio/touchy\" rel=\"nofollow\">Touchy</a> is a jQuery plugin that provides support for pinch, drag, swipe, longpress, rotate.  It works on any browser that implements touchstart, touchmove and touchend.  Future versions will also support IE10.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>hammer.js <a href=\"http://eightmedia.github.com/hammer.js/\" rel=\"nofollow\">http://eightmedia.github.com/hammer.js/</a> is one of the best javascript library for such problems..</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I need some help. I am trying to work on a mobile web page. What i'm trying to do is \"capture\" when the user does a zoom in/zoom out action. That is, when they put two fingers on screen and separate or close their fingers together. I looked at jquery mobile and didn't see it.</p>\n\n<p>So specifically can I attach a javascript function to a pinch/zoom event in a mobile device?</p>\n\n<p>Any help would be greatly appreciated.</p>\n",
            "last_activity_date": 1363277659,
            "question_id": 8509799,
            "score": 6,
            "tags": [
                "javascript",
                "mobile"
            ],
            "title": "javascript event for a mobile pinch/zoom action"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Launch a new window with only the graph or with alternate css similar to what google maps does when you print.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>This <a href=\"http://www.informit.com/articles/article.aspx?p=1903884&amp;seqNum=9\" rel=\"nofollow\">article</a> describes how to copy the <code>canvas</code> to a normal <code>img</code> which can then easily be printed or saved as an image.\n<br /><br />\nThe important part:</p>\n\n<pre><code>img.src = canvas.toDataURL();\n</code></pre>\n\n<p>See Unykvis' great <a href=\"http://stackoverflow.com/a/18136509/2610249\">answer</a> below for more details.</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p><em><strong>Attention this post have been edited, please see all possible solutions</em></strong></p>\n\n<hr>\n\n<p>From what I have searched and found you have only 2 choices or try to print the CANVAS, or EXPORT as an image or my idea is to separate the image from the content and try to print only the graph. Here is a FAQ by Flot, how can you export the image: <a href=\"http://flot.googlecode.com/svn/trunk/FAQ.txt\" rel=\"nofollow\">Question Number 3</a></p>\n\n<blockquote>\n  <p>Q: Can I export the graph?</p>\n  \n  <p>A: You can grab the image rendered by the canvas element used by Flot\n  as a PNG or JPEG (remember to set a background). Note that it won't\n  include anything not drawn in the canvas (such as the legend). And it\n  doesn't work with excanvas which uses VML, but you could try\n  Flashcanvas.</p>\n</blockquote>\n\n<p><strong>SOLUTION 1</strong> - Export image:</p>\n\n<p><a href=\"http://zizhujy.com/blog/post/2013/07/02/A-Flot-plugin-for-saving-canvas-image-to-local-disk.aspx\" rel=\"nofollow\">Export image to computer and then print it</a></p>\n\n<p><strong>SOLUTION 2</strong> - FLOT to CANVAS:</p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Code_snippets/Canvas#Saving_a_canvas_image_to_a_file\" rel=\"nofollow\">Saving canvas as images - By Mozilla</a></li>\n<li><a href=\"https://github.com/Jeff-Tian/jquery.flot.saveAsImage.js\" rel=\"nofollow\">Save as Image Flot Plugin</a></li>\n<li><a href=\"http://stackoverflow.com/questions/15821657/printing-flot-graph-in-ie-8\">Related question - Problem printing in IE8</a></li>\n</ul>\n\n<p><strong>SOLUTION 3</strong> - My own, Modal printing</p>\n\n<p>This is not the best solution by far but it works, here is a demo: </p>\n\n<ul>\n<li><a href=\"http://jsfiddle.net/ignaciocorreia/qDagP/5\" rel=\"nofollow\">JSFIDDLE Normal Demo</a></li>\n<li><a href=\"http://jsfiddle.net/ignaciocorreia/qDagP/5/embedded/result/\" rel=\"nofollow\">JSFIDDLE Fullscreen Demo</a></li>\n</ul>\n\n<p><em>Steps</em></p>\n\n<ol>\n<li>Load Fancybox</li>\n<li>Open using INLINE FRAME the graph</li>\n<li>PRINT on callback after show</li>\n<li>Reload the page after print to redesign the page</li>\n</ol>\n\n<p>Here is the necessary code:</p>\n\n<pre><code>$(document).ready(function() {\n  $(\".various\").fancybox({\n    maxWidth    : 800,\n    maxHeight   : 600,\n    fitToView   : false,\n    width       : '70%',\n    height      : '70%',\n    autoSize    : false,\n    closeClick  : false,\n    openEffect  : 'none',\n    closeEffect : 'none',\n    afterShow   : function() {\n        alert('You are about to print the graph!');\n        window.print();\n    },\n    afterClose  : function() {\n        alert('We need to refresh the page!');\n        window.location.reload(false); \n    }        \n  });\n});\n</code></pre>\n\n<p><strong>Extra</strong>\nThis related question is about exporting Flot to PDF, don't know if you may be interested: <a href=\"http://stackoverflow.com/questions/14674150/creating-pdf-reports-with-flot-graph\">Export Flot to PDF</a></p>\n\n<p><strong>EDIT - WORKING SOLUTION</strong>\nHere is a working demo of how to export the image: <a href=\"http://phenxdesign.net/projects/flotr/examples/prototype/image-download.html\" rel=\"nofollow\">FLOT to IMAGE</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You could hide the parts of the page you don't wish to print by using a separate stylesheet that has <code>media=\"print\"</code>. This would also allow you to tweak the final printed output of the graph itself, for example making it larger.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Can any body help me to find out, how to print dynamic graph as example generated by flot.\nI tried this one but it's printing whole page, but I want only graph portion.</p>\n\n<pre><code>function printGraph(){\n    $('&lt;img src=\"../images/button_refresh.png\" alt=\"Print Graph\" style=\"\"&gt;').appendTo(controlholder).click(function (e) {                        \n        //Canvas2Image.saveAsPNG(document.getElementById('placeholder'));\n        //canvas.toDataURL(\"image/png\");\n        window.print('placeholder');\n    });\n}\n</code></pre>\n",
            "last_activity_date": 1399324867,
            "question_id": 8242455,
            "score": 6,
            "tags": [
                "javascript",
                "flot"
            ],
            "title": "How to print flot graph"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Most browsers (Chrome, Safari, Firefox, possibly others) return the definition of functions from the <code>.toString()</code> method:</p>\n\n<pre><code>&gt; function foo() { return 42; }\n&gt; foo.toString()\n\"function foo() { return 42; }\"\n</code></pre>\n\n<p>Just be careful because native functions won't serialize properly. For example:</p>\n\n<pre><code>&gt; alert.toString()\n\"function alert() { [native code] }\"\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>For example, say I have a function defined as follows:</p>\n\n<pre><code>function foo() {\n  return \"Hello, serialized world!\";\n}\n</code></pre>\n\n<p>I want to be able to serialize that function and store it using <code>localStorage</code>. How can I go about doing that?</p>\n",
            "last_activity_date": 1315875895,
            "question_id": 7395686,
            "score": 6,
            "tags": [
                "javascript",
                "html5",
                "serialization",
                "local-storage"
            ],
            "title": "How can I serialize a function in JavaScript?"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>please try this:</p>\n\n<p><code>$this.data('websrc');</code> instead of <code>$this.attr('data-websrc');</code></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I use <code>attr</code> with <code>data-*</code> attributes on IE all the time, I've never had a problem. <a href=\"http://jsbin.com/iyoqum\">Here's a live version</a>, just tested in IE6, IE7, and IE9. Don't have my IE8 box handy, but again, I've never had a problem.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>I haven't had a problem with <code>attr()</code> working in IE. The description of the bug listed is:</p>\n\n<blockquote>\n  <p>JQuery function .attr does not works under IE, when attribute is event\n  like .attr(\"onchange\",\"alert('Hello event onchange!')\"); . It is\n  because IE does not understand this. You can check, if attribute is\n  event, make eval function if IE.</p>\n</blockquote>\n\n<p>Specifically, it has to do with <em>events</em>. Regular attributes shouldn't be a problem.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>I had a similar problem. I had some forms that I wanted to easily set whether the field was required or not. My form input looked like this:</p>\n\n<p><code> &lt; input id=\"myid\" name=\"myname\" type=\"text\" required=\"true\" /> </code></p>\n\n<p>It worked great in everything EXCEPT IE9! Doh!</p>\n\n<p>The problem is that I do not want to set the new property with jQuery, and I don't want to extend the prototype for input elements.... I just want a solution that works in all browsers without a lot of extra code or branching.</p>\n\n<p>I tried jQuery's prop() method, but again, it had to be set manually. I wanted something that would take all the DOM elements as-loaded and extract the data that way.</p>\n\n<p>I found that the jQuery attr() method worked on all browsers except IE9. After poking at it for a while, I realized that the attribute was there but reading it was being handled a bit differently on IE9.</p>\n\n<p>So, I ended up recalling the values this way:</p>\n\n<p><code> var val = $('#elementID').attr('required') || $('#elementID')[0].getAttribute('required'); </code></p>\n\n<p>It is not perfect, but it worked great and did not require me to go back and rename my attributes with \"data-\" or to assign them after the DOM loaded.</p>\n\n<p>Wouldn't it be great if jQuery 1.6.x would add this alteration to the attr() and prop() methods for us!</p>\n\n<p>If anyone knows a more elegant solution that DOES NOT REQUIRE SETTING THE ATTRIBUTE AFTER PAGE LOAD, then please let me know.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It appears that attr() will fail in IE if you use a mixed-case attribute name. Be sure to use all lowercase letters for your attribute names.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Ok, correct me if I'm wrong, but I take it that jQuery <code>attr()</code> does NOT work in IE. (<a href=\"http://bugs.jquery.com/ticket/8900\">marked wontfix</a>) That being the case, what is the best alternative? For example, this works everywhere but IE:</p>\n\n<pre><code>jQuery(document).ready(function($) {\n    $('.airsrc').each(function() {\n        var $this = $(this);\n        var src = $this.attr('data-websrc');\n        $this.attr('src', src);\n    });\n});\n</code></pre>\n\n<p><strong>Update:</strong> Whoops...I realize the issue. I actually had this inside an <code>if</code> statement based on a CSS3 media query. Media queries that aren't natively supported in IE8 or lower. The <code>attr()</code> definitely works!</p>\n",
            "last_activity_date": 1327551233,
            "question_id": 7052182,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "internet-explorer",
                "attr"
            ],
            "title": "Alternative for jQuery attr() in IE?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<pre><code>window.onload = function() {\n    my_function()\n};\n\nfunction my_function(){\n    alert(\"Blah\");\n};\n\nfunction function_two(){\n    my_function();\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>You can not do what you are asking to do.\nThe function <code>my_function()</code>'s scope is only within the anonymous function, <code>function()</code>. It falls out of scope when the method is not executing, so this is not possible.\nTrevor's answer is the way to do this.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The scope of the function is the core issue here, as Zeychin and Trevor have said. I thought I'd offer another way of handling it. Basically, you can set your function to a variable that's in a higher scope (that is, accessible to both the onload and function_two functions), while defining it inside the onload function as you originally have:</p>\n\n<pre><code>var myFunction; //This is the placeholder which sets the scope\n\nwindow.onload() = function() {\n   myFunction = function() { //Assign the function to the myFunction variable\n      print('blah');\n   }\n}\n\nfunction function_two() {\n   myFunction();\n}\n</code></pre>\n\n<p>This might be handy if you only know the information you need for myFunction once you're in the onload event.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>*Is there a way to call a function defined inside another function in javaSCRIPT? For example:</p>\n\n<pre><code>window.onload() = function() {\n    function my_function(){\n        print(\"Blah\");\n    };\n};\n\nfunction function_two(){\n    my_function();\n};\n</code></pre>\n\n<p>Is there a way to do something like the above (calling my_function in function_two even though it's defined inside the window.onload() function)? In my actual code, which also uses the raphael.js library, I'm trying to write a button in HTML, which using the onClick function, calls a function(like function_two) that runs the function defined in window.onload() (like my_function). However the console says that the my_function is undefined. </p>\n",
            "last_activity_date": 1378843572,
            "question_id": 6784079,
            "score": 6,
            "tags": [
                "javascript",
                "function"
            ],
            "title": "Calling a function that&#39;s defined inside a function"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>There's no actual recursion because the call to GetData is delayed and the JavaScript context is destroyed in the meantime. So it won't crash the JS engine.</p>\n\n<p>For your code sample, this is basically what will happen at the JS engine level:</p>\n\n<ol>\n<li>Initialize JS engine</li>\n<li>Create GetData function context</li>\n<li>Execute GetData statements including \"setTimeOut\"</li>\n<li>\"setTimeOut\" instruct the JS engine to call a function in 10 seconds</li>\n<li>Destroy GetData function context</li>\n<li>At this point, in terms of memory use, we are back to step 1. The only difference is that the JS engine stored a reference to a function and when to call it (lets call this data \"futureCall\").</li>\n<li>After 10 seconds, repeat from step 2. \"futureCall\" is destroyed.</li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>Let's say I have some data that I need to get from the server about every 10 seconds.  I would have a function that gets the data via AJAX and then call setTimeout to call this function again:</p>\n\n<pre><code>function GetData(){\n   $.ajax({\n       url: \"data.json\",\n       dataType: \"json\",\n       success: function(data){\n         // do somthing with the data\n\n         setTimeout(GetData, 10000);\n      },\n      error: function(){\n         setTimeout(GetData, 10000);\n      }\n   });\n}\n</code></pre>\n\n<p>If someone leaves the web page open all day, it could get thousands of recursive function calls.</p>\n\n<p>I don't want to use setInterval because that does not take into account network delay.  If the network is busy and it takes 15 seconds to process the request, I don't want to ask it again before I get the AJAX timeout.</p>\n\n<p>What is the best way to handle a function that needs to be called periodically?</p>\n",
            "last_activity_date": 1311343144,
            "question_id": 6779586,
            "score": 6,
            "tags": [
                "javascript",
                "recursion",
                "settimeout"
            ],
            "title": "Will a recursive &#39;setTimeout&#39; function call eventually kill the JS Engine?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Try using <a href=\"http://api.jquery.com/bind\"><code>bind</code></a>:</p>\n\n<pre><code>$(...).bind('webkitspeechchange', function() {\n    // submit the form\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>I am trying to make jQuery make the search boxes on my page use x-webkit-speech and submit automatically.</p>\n\n<p>The HTML would obviously be: </p>\n\n<pre><code>&lt;input type=\"text\" id=\"s\" name=\"s\" x-webkit-speech=\"x-webkit-speech\" onwebkitspeechchange=\"this.form.submit();\" /&gt;\n</code></pre>\n\n<p>I can add the x-webkit-speech attribute with jQuery, but I can't seem to get onwebkitspeechchange to work.</p>\n\n<p>This doesn't work since jQuery doesn't have a onwebkitspeechchange method  </p>\n\n<pre><code>jQuery(\"[name=s]\").attr(\"x-webkit-speech\", \"x-webkit-speech\").onwebkitspeechchange(\"this.form.submit()\");\n</code></pre>\n\n<p>But I figured something like this would work: </p>\n\n<pre><code>jQuery(\"[name=s]\").attr(\"x-webkit-speech\", \"x-webkit-speech\").attr(\"onwebkitspeechchange\", \"this.form.submit()\");\n</code></pre>\n\n<p>But it doesn't. It just doesn't do anything. How can I add <code>onwebkitspeechchange=\"this.form.submit();\"</code> using jQuery?</p>\n",
            "last_activity_date": 1411835200,
            "question_id": 6393410,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "html5"
            ],
            "title": "jQuery HTML5 Speech Input"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>One hacky way to do things is put them all in the same row, and API would assign distinct colors to this. Hence for your example</p>\n\n<pre><code>function drawChart(){\n\n    var data = new google.visualization.DataTable();\n    data.addColumn('number', 'Value 1');\n    data.addColumn('number', 'Value 2');\n    data.addRows(2);\n    data.setValue(0, 0, 250);\n    data.setValue(0, 1, 100);\n\n    var chart = new google.visualization.ColumnChart(document.getElementById('visualization'));\n\n    chart.draw(data, {\n        width: 600, \n        height: 175, \n        title: 'Total',\n        legend: 'none',\n    });\n} \n</code></pre>\n\n<p>If you need your own colors add this in the <strong>chart.draw options</strong> like,</p>\n\n<pre><code>colors: ['red','yellow', 'blue'],\n</code></pre>\n\n<p>If there are too many bars though, this may be a bad option for that please look at</p>\n\n<p><a href=\"http://code.google.com/apis/chart/interactive/docs/reference.html#barformatter\" rel=\"nofollow\">http://code.google.com/apis/chart/interactive/docs/reference.html#barformatter</a></p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Exactly, you have to insert the colors attribute into the options variable.</p>\n\n<pre><code>...\n\nvar options = {\n    width: 600, \n    height: 175, \n    title: 'Total',\n    legend: 'none',\n    colors: ['red', 'green']\n};\n\nchart.draw(data, options);\n...\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Please add this in options:</p>\n\n<p><code>colors:['red','#009900']</code></p>\n\n<p>Like:</p>\n\n<pre><code>var options = {\n          title: 'Company Performance',\n          vAxis: {title: 'Year',  titleTextStyle: {color: 'red'}},\n          colors:['red','#009900']\n};\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Not sure why no-one mentioned style role columns - I assume they were added after the initial question, but for anyone looking for this now, a better way is:</p>\n\n<pre><code>function drawChart() {\n        var data = new google.visualization.DataTable();\n        data.addColumn('string', '');\n        data.addColumn('number', '');\n        data.addColumn({ type: 'string', role: 'style' });\n\n        data.addRows(2);\n\n        data.setValue(0, 0, 'Value 1');\n        data.setValue(0, 1, 250);\n        data.setValue(0, 2, 'rgb(200, 20, 60)');\n        data.setValue(1, 0, 'Value 2');\n        data.setValue(1, 1, 100);\n        data.setValue(1, 2, 'rgb(20, 200, 60)');\n\n        var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));\n        chart.draw(data, {\n                width: 400, \n                height: 175, \n                title: 'Total',\n                legend: 'none',\n        });\n    }\n</code></pre>\n\n<p>You can set many other CSS styles to make your charts REALLY ugly.</p>\n\n<p><a href=\"https://developers.google.com/chart/interactive/docs/gallery/columnchart#Colors\" rel=\"nofollow\">https://developers.google.com/chart/interactive/docs/gallery/columnchart#Colors</a></p>\n\n<p>NOTE that it does not seem to support rgba() specified colors - you have to set opacity on the style role.</p>\n\n<p>Here's a fiddle:</p>\n\n<p><a href=\"http://jsfiddle.net/a1og7rq4/\" rel=\"nofollow\">http://jsfiddle.net/a1og7rq4/</a></p>\n\n<p>SIDENOTE: If you have multiple series, then you need a style role column after each series data column.</p>\n\n<p>Here is another fiddle showing that (with opacity as well): <a href=\"http://jsfiddle.net/v5hfdm6c/1\" rel=\"nofollow\">http://jsfiddle.net/v5hfdm6c/1</a></p>\n\n<p>Here is the modified function (left the unmodified one above for clarity)</p>\n\n<pre><code>function drawChart() {\nvar data = new google.visualization.DataTable();\ndata.addColumn('string', '');\ndata.addColumn('number', '');\ndata.addColumn({ type: 'string', role: 'style' });\ndata.addColumn('number', '');\ndata.addColumn({ type: 'string', role: 'style' });\n\ndata.addRows(2);\n\nvar i = 0;\ndata.setValue(0, i++, 'Value 1');\ndata.setValue(0, i++, 200);\ndata.setValue(0, i++, 'color:rgb(200, 20, 60); opacity:0.5');\ndata.setValue(0, i++, 250);\ndata.setValue(0, i++, 'rgb(200, 20, 60)');\n\ni = 0;\ndata.setValue(1, i++, 'Value 2');\ndata.setValue(1, i++, 120);\ndata.setValue(1, i++, 'color:rgb(20, 200, 60); opacity:0.5');\ndata.setValue(1, i++, 100);\ndata.setValue(1, i++, 'rgb(20, 200, 60)');\n\nvar chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));\nchart.draw(data, {\n    width: 400, \n    height: 175, \n    title: 'Total',\n    legend: 'none',\n});\n</code></pre>\n\n<p>}</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have this Google Bar Chart:</p>\n\n<pre><code>  function drawChart() {\n    var data = new google.visualization.DataTable();\n    data.addColumn('string', '');\n    data.addColumn('number', '');\n    data.addRows(2);\n    data.setValue(0, 0, 'Value 1');\n    data.setValue(0, 1, 250);\n    data.setValue(1, 0, 'Value 2');\n    data.setValue(1, 1, 100);\n\n    var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));\n    chart.draw(data, {\n        width: 400, \n        height: 175, \n        title: 'Total',\n        legend: 'none',\n    });\n  }\n</code></pre>\n\n<p>All runs OK, but the thing is, both bars have the same color, and I would like to be able to have different colors for each bar.</p>\n\n<p>Can anyone help me on this?</p>\n",
            "last_activity_date": 1416412717,
            "question_id": 6375248,
            "score": 6,
            "tags": [
                "javascript",
                "charts",
                "google-visualization"
            ],
            "title": "Google Chart, different color for each bar"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Here is what I suggest.</p>\n\n<p>in the popup have</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;script type=\"text/javascript\"&gt;\n\nfunction reloadOpener() {\n  if (top.opener &amp;&amp; !top.opener.closed) {\n    try {\n      opener.location.reload(1); \n    }\n    catch(e) {  }\n    window.close();\n  }\n}\nwindow.ununload=function() {\n  reloadOpener();\n}\n&lt;/script&gt;\n</code></pre>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form action=\"...\" target=\"hiddenFrame\"&gt;\n&lt;/form&gt;\n&lt;iframe style=\"width:10px; height:10px; display:none\" name=\"hiddenFrame\" src=\"about:blank\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>then in the server process return </p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;script&gt;\ntop.close();\n&lt;/script&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Old suggestions</strong></p>\n\n<p>There is no variable called popup in the popup window.\ntry</p>\n\n<pre><code>var popup = window.open('...','...');\nif (popup) {\n  popup.onclose = function () { opener.location.reload(); }\n}\n</code></pre>\n\n<p>or with a test:</p>\n\n<pre><code>popup.onclose = function () { if (opener &amp;&amp; !opener.closed) opener.location.reload(); }\n</code></pre>\n\n<p>PS: <a href=\"https://developer.mozilla.org/En/DOM/Window.onclose\" rel=\"nofollow\">onclose</a> is not supported by all browsers</p>\n\n<p>PPS: location.reload takes a boolean, add true if you want to not load from cache\n as in <code>opener.location.reload(1);</code></p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>Instead you should use a modal dialog like so</p>\n\n<pre><code>var popup = window.showModalDialog(\"page.html\", \"\", params);\n</code></pre>\n\n<p>This would stop your at this line until the dialog is closed.</p>\n\n<p>Somewhere in your page.html you would then code some javascript to set the <code>window.returnValue</code> which is what will be place the the popup variable.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try this:</p>\n\n<pre><code>window.opener.location.reload(true);\n</code></pre>\n\n<p>or </p>\n\n<p>Into the popup before closing</p>\n\n<pre><code>window.opener.location.href = window.opener.location.href;\nwindow.close();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I am opening a popup window with </p>\n\n<pre><code>var popup = window.open('...', '...');\n</code></pre>\n\n<p>This javascript is defined in a control. This control is then used from a web page. I want to reload the page which opens this popup when the popup is closed.</p>\n\n<p>Basically user is required to input some denominations in the popup window and submit. These denominations are then stored in user sessions. And when user clicks submit I am closing the popup window and at the same time want to refresh the window which opens this popup to refetch the updates which user made in the popup.</p>\n\n<p>I am trying to do </p>\n\n<pre><code>var popup = window.open('...','...');\nif (popup) {\n  popup.onClose = function () { popup.opener.location.reload(); }\n}\n</code></pre>\n\n<p>I guess I am doing it wrong coz this isn't seems to be working.</p>\n\n<p>For testing the issue I've even tried this but no alert appeared.</p>\n\n<pre><code>if (popup) {\n  popup.onclose = function() { \n    alert(\"1.InsideHandler\");\n    if (opener &amp;&amp; !opener.closed) { \n      alert(\"2.Executed.\");\n      opener.location.reload(true); \n    } else { \n      alert(\"3.NotExecuted.\");\n    }\n  }\n}\n</code></pre>\n",
            "last_activity_date": 1307451921,
            "question_id": 6264907,
            "score": 6,
            "tags": [
                "javascript",
                "asp.net",
                "internet-explorer-9"
            ],
            "title": "Check if a popup window is closed"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Try the following </p>\n\n<pre><code>b.onclick= function(arg) {\n    return function() {\n        alert(arg);\n    }\n}(a);\n</code></pre>\n\n<p>The problem you were hitting is that javascript doesn't use block scope.  Instead all variables have a lifetime of their containing function.  So there was only ever one <code>a</code> captured in all of the <code>onclick</code> functions and they all see it's final value. </p>\n\n<p>The solution works around this by creating a new function and value per scope and then immediately setting that value to the current value of <code>a</code>. </p>\n\n<p>Here's a version that's a bit expanded and perhaps a bit more readable </p>\n\n<pre><code>var createClickHandler = function(arg) {\n  return function() { alert(arg); };\n}\n\nfor(var a=0;a&lt;10;a++) {\n    var b=document.createElement('b')\n    b.onclick = createClickHandler(a);\n    b.innerHTML=a\n    document.body.appendChild(b)\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>One dirty workaround which I found out is to use <strong><code>.value</code></strong> property of the created object to store the argument which we want to pass to <code>.onclick</code> function. So I can do something like</p>\n\n<pre><code>for(var a=0;a&lt;10;a++) {\n    var b=document.createElement('b')\n    b.value=a\n    b.onclick=function() {\n        myfunc(this.value)\n    }\n    b.innerHTML=a\n    document.body.appendChild(b)\n}\nfunction myfunc(n){\n  console.log(n)\n}\n</code></pre>\n\n<p>I am not sure if .value works with every element, but it does for DIV for example.</p>\n\n<p>EDIT: To pass more values then one you can concatenate them using some character like _ and then split it</p>\n\n<pre><code>b.value=x+\"_\"+y+\"_\"+z\n\nfunction myfunc(str){\n t=str.split(\"_\")\n x=t[0]\n y=t[1]\n z=t[2]\n console.log(x+\",\"+y+\",\"+z)\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>The title may not make sense and nor would a description alone, so here's a sample of the code:</p>\n\n<pre><code>for(var a=0;a&lt;10;a++) {\n    var b=document.createElement('b')\n    b.onclick=function() {\n        alert(a)\n    }\n    b.innerHTML=a\n    document.body.appendChild(b)\n}\n</code></pre>\n\n<p>What's odd is that when I set innerHTML to a, it uses the current value of a. So, this code creates ten <code>&lt;b&gt;</code> elements with the values 0, 1, 2, 3, 4, 5, 6, 7, 8, &amp; 9. This works perfectly. What doesn't, however, is the onclick function. It returns the final value of <code>a</code> (10) when any of these elements is clicked. I've tried setting another variable to <code>a</code> and then using that other variable in the onclick event, but still it returns the final value of <code>a</code>. How would I make it use the value of <code>a</code> when onclick is set?</p>\n",
            "last_activity_date": 1409433525,
            "question_id": 6048561,
            "score": 6,
            "tags": [
                "javascript",
                "variables",
                "loops",
                "variable-scope"
            ],
            "title": "Setting onclick to use current value of variable in loop"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yes, you can create that type of array using object or array literal grammar, or object/array methods. </p>\n\n<p>An array of arrays:</p>\n\n<pre><code>// Using array literal grammar\nvar arr = [[value1, value2, value3], [value1, value2]]\n\n// Creating and pushing to an array\nvar arr = [];\narr.push([value1, value2, value3]);\n</code></pre>\n\n<p>An object of arrays:</p>\n\n<pre><code>// Using object literal grammar\nvar obj = { \"key\": [value1, value2, value3], \"key2\": [value1, value2] } \n\n// Creating object properties using bracket or dot notation\nvar obj = {};\nobj.key = [value1, value2, value3];\nobj[\"key2\"] = [value1, value2];  \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>Is it possible to have a jagged array in JavaScript?</p>\n\n<p>Here is the format of the data I want to store in a jagged array:</p>\n\n<pre><code>(key)(value1, value2, value3)\n</code></pre>\n\n<p>Can I put this in a jagged array?</p>\n",
            "last_activity_date": 1304957487,
            "question_id": 5939504,
            "score": 6,
            "tags": [
                "javascript",
                "jagged-arrays"
            ],
            "title": "How to initialize a jagged array in JavaScript?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You could try</p>\n\n<pre><code>document.getElementsByTagName('body')[0].appendChild(i);\n</code></pre>\n\n<p>Now that won't do you any good if the code is running in the <code>&lt;head&gt;</code>, and running <strong>before</strong> the <code>&lt;body&gt;</code> has even been seen by the browser. If you don't want to mess with \"onload\" handlers, try moving your <code>&lt;script&gt;</code> block to the very end of the document instead of the <code>&lt;head&gt;</code>.</p>\n",
                    "is_accepted": false,
                    "score": 29
                },
                {
                    "body": "<p>It is working. Just modify to null check: </p>\n\n<blockquote>\n  <p>if(document.body != null){\n            document.body.appendChild(element);\n        }</p>\n</blockquote>\n\n<p>Pointy's suggestion is good; it may work, but I didn't try.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>I am getting error only in IE7 as document.body is null, wehn i debug Microsoft script editor getting error in follwing line:\nie </p>\n\n<blockquote>\n  <p>document.body.appendChild(i)\n  code:</p>\n</blockquote>\n\n<pre><code>function nm_eraseCookie(name){\n    nm_createCookie(name,\"\",-1)\n}\nvar i=document.createElement('IMG');\ni.src='//e.netmng.com/pixel/?aid=403';\ni.width=1;\ni.height=1;\ndocument.body.appendChild(i);\nnm_createCookie('nm_belgacom_bt',\nescape('tv1=bun_intvtel;tv2=;tv3=;phone1=hbs_discoveryline;phone2=hbs_classical_line;phone3=;inet1=bun_nettvmob;inet2=hbs_adsl_res_plus;inet3=hbs_adsl_res_go;nm_banner=;nm_popin=hbs_discoveryline;'),183);\n</code></pre>\n\n<p>Can you infomr me what i need to do to solve this issue.</p>\n",
            "last_activity_date": 1395358239,
            "question_id": 5419733,
            "score": 6,
            "tags": [
                "javascript",
                "javascript-events",
                "internet-explorer-7"
            ],
            "title": "document.body.appendChild(i)"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can have the exit confirmation using <a href=\"https://developer.mozilla.org/en/DOM/window.onbeforeunload\" rel=\"nofollow\">window.onbeforeunload</a> but there isn't a way to find out which button the user clicked on.</p>\n\n<p>To quote an earlier response from <a href=\"http://stackoverflow.com/questions/2512991/how-can-i-control-the-action-of-onbeforeunload-in-ie\">jvenema from this thread</a>:</p>\n\n<blockquote>\n  <p>The primary purpose for the\n  beforeunload is for things like\n  allowing the users the option to save\n  changes before their changes are lost.</p>\n  \n  <p>Besides, if your users are leaving,\n  it's already too late [...]</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 1
                },
                {
                    "body": "<p>How about this:</p>\n\n<pre><code>$( window ).bind( 'beforeunload' , function( event ) {\n    setTimeout( function() {\n        alert( 'Hi againe!' );\n    } );\n    return '';\n} ).bind( 'unload', function( event ) {\n    alert( 'Goodby!' );\n} );\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Is there a way to capture to result of the window.onbeforeunload confirmation dialog like the one below from Stack Overflow (this happens when leaving the 'Ask Question' page without posting the question)?</p>\n\n<p>This is how it appears in Chrome, I believe it's slightly different in other browsers, but you always have some form of yes/no buttons.</p>\n\n<p><img src=\"http://i.stack.imgur.com/voeTJ.png\" alt=\"window.onbeforeunload confirmation dialog\"></p>\n\n<p>Presumably if they're still on the offending page after the event has been triggered they chose to stay and you could probably figure this out by watching the sequence of js. However <strong>I would like to know how to determine if they clicked \"Leave this page\"</strong>?</p>\n\n<p>I've implemented this like below:</p>\n\n<pre><code>// concept taken from SO implementation\nfunction setConfirmUnload(showMessage, message) {\n    window.onbeforeunload = showMessage ? (message ? message : \"this is a default message\") : null;\n}\n\n// pseudo code\nlisten to changes on inputs\nif any inputs fire a change event\n   call setConfirmUnload(true, 'My warning message')\n</code></pre>\n\n<p><strong>note</strong> I'm using jQuery within my site.</p>\n\n<p>I'm essentially trying to implement a Gmail like drafting implementation, wherein if a user leaves a page with a form they've made changes to without saving they're warmed with a similar dialog. If they choose to discard they're changes and leave the page, I need to clean up some temporary records from the database (I'm thinking an AJAX call, or simply submitting the form with a <code>delete</code> flag) then sending them on their way.</p>\n\n<p>My question also relates to:</p>\n\n<p><a href=\"http://stackoverflow.com/questions/5034216/jquery-ajax-call-in-onunload-handler-firing-after-getting-the-page-on-a-manual-re\">jQuery AJAX call in onunload handler firing AFTER getting the page on a manual refresh. How do I guarantee onunload happens first?</a></p>\n",
            "last_activity_date": 1425350138,
            "question_id": 5399622,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "javascript-events",
                "onunload",
                "window.onunload"
            ],
            "title": "Capturing result of window.onbeforeunload confirmation dialog"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>This sounds like a job for <a href=\"http://plugins.jquery.com/project/a-tools\" rel=\"nofollow\">a-tools plugin</a> check it out.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Use the following 2 functions to save and restore text selection.</p>\n\n<pre><code>function saveSelection() {\n    if (window.getSelection) {\n        sel = window.getSelection();\n        if (sel.getRangeAt &amp;&amp; sel.rangeCount) {\n            return sel.getRangeAt(0);\n        }\n    } else if (document.selection &amp;&amp; document.selection.createRange) {\n        return document.selection.createRange();\n    }\n    return null;\n}\n\nfunction restoreSelection(range) {\n    if (range) {\n        if (window.getSelection) {\n            sel = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n        } else if (document.selection &amp;&amp; range.select) {\n            range.select();\n        }\n    }\n}\n</code></pre>\n\n<h2>Check Working example at <a href=\"http://jsfiddle.net/LhQda/\" rel=\"nofollow\">http://jsfiddle.net/LhQda/</a></h2>\n\n<p>Type something in the <code>TEXTAREA</code>, then click outside the <code>TEXTAERA</code> to lose the selection, then click on the focus button to restore selection and focus again. </p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The following script will hold the caret position and then a button click will insert text at the stored position:</p>\n\n<p>Javascript:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n//Gets the position of the cursor\nfunction getCaret(el) { \n  if (el.selectionStart) { \n    return el.selectionStart; \n  } else if (document.selection) { \n    el.focus(); \n\n    var r = document.selection.createRange(); \n    if (r == null) { \n      return 0; \n    } \n\n    var re = el.createTextRange(), \n        rc = re.duplicate(); \n    re.moveToBookmark(r.getBookmark()); \n    rc.setEndPoint('EndToStart', re); \n\n    return rc.text.length; \n  }  \n  return 0; \n}\n\nfunction InsertText() {\n    var textarea = document.getElementById('txtArea');\n    var currentPos = getCaret(textarea);\n    var strLeft = textarea.value.substring(0,currentPos);\n    var strMiddle = \"-- Hello World --\";\n    var strRight = textarea.value.substring(currentPos,textarea.value.length);\n    textarea.value = strLeft + strMiddle + strRight;\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;textarea id=\"txtArea\" &gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit.&lt;/textarea&gt;\n&lt;button onclick=\"InsertText();\"&gt;Insert Text&lt;/button&gt;\n</code></pre>\n\n<p>The script can be modified if you want to hold the caret position in a variable onblur.</p>\n",
                    "is_accepted": false,
                    "score": 8
                }
            ],
            "body": "<p>Is it possible to (reliably) get the selected text/caret position in a input text box if that field <em>doesn't</em> have focus?</p>\n\n<p>If not, what's the best way to get and retain this data?</p>\n\n<p>Basically, when a user clicks a button I want to insert some text at the caret position. However, as soon as the user clicks that button, the field loses focus and I lose the caret position.</p>\n",
            "last_activity_date": 1325897648,
            "question_id": 5149683,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "focus",
                "position",
                "caret"
            ],
            "title": "How to get selected text/caret position of an input that doesn&#39;t have focus?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The chances are there is something wrong (non-crossbrowser) with your markup. But as alternative you could try using native javascript instead.</p>\n\n<pre><code>document.getElementById('anchorid').offsetTop\n</code></pre>\n\n<p>Of if you wanted to get the offset on the whole page you could use a function like:</p>\n\n<pre><code>function findTotalOffset(obj) {\n  var ol = ot = 0;\n  if (obj.offsetParent) {\n    do {\n      ol += obj.offsetLeft;\n      ot += obj.offsetTop;\n    }while (obj = obj.offsetParent);\n  }\n  return {left : ol, top : ot};\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>I get this problem in IE8 when my script is loaded on a page where the element that we want to get the <code>offset().top</code> of does not exist.</p>\n\n<p>I solved it like this:</p>\n\n<pre><code>if ($('#element').length){\n    $('#element').offset().top // ...\n}\n</code></pre>\n\n<p>Never execute <code>offset().top</code> if the element does not exist.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I am having a cross browser issue with the <code>offset()</code> function in jQuery. For example, I am looking for the offset of an anchor tag</p>\n\n<p>eg. <code>$('#anchorid').offset().top</code></p>\n\n<ul>\n<li>In Firefox 3.6 = 205</li>\n<li>In IE8 = 204</li>\n<li>In IE7 = 553</li>\n</ul>\n\n<p>As you can see the difference in each returned value. I am not too concerned with the difference between FF &amp; IE8 but I am with IE7 and the others.</p>\n\n<p>Is there another function I could use that would be the same or similar cross browsers or a possible fix for this?</p>\n",
            "last_activity_date": 1380307622,
            "question_id": 4334664,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "internet-explorer-7",
                "cross-browser",
                "offset"
            ],
            "title": "Cross browser issue with offset() jquery function"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>If you are using V3 of the API cannot you use the this?</p>\n\n<pre><code>function findAddressViaGoogle() {\n    var address = $(\"input[name='property_address']\").val();\n    var geocoder = new google.maps.Geocoder();\n    geocoder.geocode( { 'address': address, 'region': 'uk' }, function(results, status) {\n        if (status == google.maps.GeocoderStatus.OK) {\n            newPointClicked(results[0].geometry.location)\n        } else {\n            alert(\"Unable to find address: \" + status);\n        }\n    });\n}</code></pre>\n\n<p>The above is what I use to find some lat long cordinates of an inputted address, May work better?</p>\n\n<p><b>EDIT:</b></p>\n\n<pre><code>function loadFromSearch(address) \n{\nmidpoint = getLatLong(address);\nmapCentre = midpoint;\nmap.setMapTypeId(google.maps.MapTypeId.ROADMAP);\n...\n}\n\n\nfunction getLatLong(address) \n{\n    var geocoder = new google.maps.Geocoder();\n    var result = \"\";\n    geocoder.geocode( { 'address': address, 'region': 'uk' }, function(results, status) {\n        if (status == google.maps.GeocoderStatus.OK) {\n            result = results[0].geometry.location;\n        } else {\n            result = \"Unable to find address: \" + status;\n        }\n    });\n    return result;\n}</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>The problem is your <code>$.getJSON</code> function is asynchronous, yet you are returning the '<code>result</code>' synchronously.</p>\n\n<p>You need to do something like this (not tested!)</p>\n\n<pre><code>function loadFromSearch(address) \n{\n  midpoint = getLatLong(address, function(midpoint){\n    // this is a callback\n    mapCentre = midpoint;\n    map.setMapTypeId(google.maps.MapTypeId.ROADMAP);\n    ...           \n    });\n}\n\nfunction getLatLong(address, callback) \n{\nvar result;\nvar url = 'http://maps.googleapis.com/maps/api/geocode/json?address=' + encodeURIComponent(address) + '&amp;sensor=false'\n$.getJSON(url,\n  function (data) {\n    if (data.status == \"OK\") {\n        result = data.results[0].geometry.location;\n        callback(result) // need a callback to get the asynchronous request to do something useful \n    }\n  });\n}\n</code></pre>\n\n<p><strong>In response to your edit</strong>: Oh dear, it looks like the V3 geocoder does not support JSONP. This means you can not do a cross-domain request to get data from it in your browser. See <a href=\"http://blog.futtta.be/2010/04/09/no-more-jsonp-for-google-geocoding-webservice/\" rel=\"nofollow\">http://blog.futtta.be/2010/04/09/no-more-jsonp-for-google-geocoding-webservice/</a></p>\n\n<p>However Brady's solution does work. I guess that is the way Google want us to geocode now.</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>I'm trying to use the Google geocoder API V3 to plot a location on a map based on an address specified by the user, code is below. </p>\n\n<p>When I make a request directly (e.g. to <a href=\"http://maps.googleapis.com/maps/api/geocode/json?address=peterborough&amp;sensor=false\">http://maps.googleapis.com/maps/api/geocode/json?address=peterborough&amp;sensor=false</a>) I get the expected response. However, when I make the same request using the code below, the <em>midpoint</em> variable is always undefined after the <em>getLatLong</em> function has exited.</p>\n\n<p>What am I doing incorrectly?</p>\n\n<pre><code>function loadFromSearch(address) \n{\nmidpoint = getLatLong(address);\nmapCentre = midpoint;\nmap.setMapTypeId(google.maps.MapTypeId.ROADMAP);\n...\n}\n\n\nfunction getLatLong(address) \n{\nvar result;\nvar url = 'http://maps.googleapis.com/maps/api/geocode/json?address=' + encodeURIComponent(address) + '&amp;sensor=false'\n$.getJSON(url,\nfunction (data) {\n    if (data.status == \"OK\") {\n        result = data.results[0].geometry.location;\n    }\n});\nreturn result;\n}\n</code></pre>\n\n<p>==================================================================================</p>\n\n<p>In light of responses, I have now updated the code to the following. I'm still not getting any result though, with breakpoints set in Firebug the <em>result = data.results[0].geometry.location;</em> never gets hit.</p>\n\n<pre><code>function loadFromSearch(address) \n{\nmidpoint = getLatLong(address, loadWithMidpoint);    \n}\n\n\nfunction getLatLong(address, callback) {\nvar result;\nvar url = 'http://maps.googleapis.com/maps/api/geocode/json?address=' + encodeURIComponent(address) + '&amp;sensor=false'\n$.getJSON(url,{},\nfunction (data) {\nif (data.status == \"OK\") {\n    result = data.results[0].geometry.location;\n    callback(result);\n}\n});\n}\n\n\nfunction loadWithMidpoint(centre) {\nmapCentre = centre;\nmap.setMapTypeId(google.maps.MapTypeId.ROADMAP);\n...\n}\n</code></pre>\n\n<p>=============================================================================  </p>\n\n<p>I have it! The final code, which works, looks like this:</p>\n\n<pre><code>function loadFromSearch(coordinates, address) {\nmidpoint = getLatLong(address, latLongCallback);\n}\n\n\nfunction getLatLong(address, callback) {\nvar geocoder = new google.maps.Geocoder();\nvar result = \"\";\ngeocoder.geocode({ 'address': address, 'region': 'uk' }, function (results, status) {\n    if (status == google.maps.GeocoderStatus.OK) {\n        result = results[0].geometry.location;\n        latLongCallback(result);\n    } else {\n        result = \"Unable to find address: \" + status;\n    }\n});\nreturn result;\n}\n\n\nfunction latLongCallback(result) {\nmapCentre = result;\nmap.setMapTypeId(google.maps.MapTypeId.ROADMAP);\n    ...\n}\n</code></pre>\n",
            "last_activity_date": 1289314539,
            "question_id": 4132685,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "google-maps",
                "geocoding",
                "google-geocoder"
            ],
            "title": "Google maps geocode API V3 not returning result in javascript function"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>This is a known problem. But you can easily create a closure on each loop iteration:</p>\n\n<pre><code>(function(current_diff) {\n    setTimeout(function() {_change_score_by(current_diff);},\n               step * 25);\n})(diff);\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p><a href=\"http://stackoverflow.com/questions/3953746/javascript-closure-stores-value-at-the-wrong-time/3953762#3953762\">Nikita's approach</a> works (thanks!), but personally I prefer changing it to this more explicit way:</p>\n\n<pre><code>function _schedule_score_change(diff, step){\n  setTimeout( function(){ _change_score_by(diff) },\n              step*25 );\n}\n\nfunction _award(points){    \n  var step = 1;\n  while(points){\n    var diff = Math.ceil(points / 10);\n    _schedule_score_change(diff, step);\n    points -= diff;\n    step++;\n  }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Solving the Closure Loop Problem gets less messy with ECMAScript Fifth Edition's <code>Function#bind</code> method:</p>\n\n<pre><code>setTimeout(_change_score_by.bind(window, diff), step*25);\n</code></pre>\n\n<p>You can <a href=\"http://stackoverflow.com/questions/2025789/preserving-a-reference-to-this-in-javascript-prototype-functions/2025839#2025839\">hack this feature</a> into browsers that don't support it yet to get the benefit now.</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>I'm trying to have a counter increase gradually. The following works:</p>\n\n<pre><code>function _award(points){    \n  var step = 1;\n  while(points){\n    var diff = Math.ceil(points / 10);\n    setTimeout( \"_change_score_by(\"+diff+\");\" /* sigh */,\n                step * 25);\n    points -= diff;\n    step++;\n  }\n}\n</code></pre>\n\n<p>However, it uses an implicit eval. Evil! Let's use a closure instead, right?</p>\n\n<pre><code>function _award(points){    \n  var step = 1;\n  while(points){\n    var diff = Math.ceil(points / 10);\n    setTimeout( function(){ _change_score_by(diff); },\n                step * 25);\n    points -= diff;\n    step++;\n  }\n}\n</code></pre>\n\n<p>Obviously, this doesn't work. All closures created catch the last value <code>diff</code> has had in the function -- 1. Hence, all anonymous functions will increase the counter by 1 and, for example, <code>_award(100)</code> will increase the score by 28 instead.</p>\n\n<p>How can I do this properly?</p>\n",
            "last_activity_date": 1287355594,
            "question_id": 3953746,
            "score": 6,
            "tags": [
                "javascript",
                "closures"
            ],
            "title": "Javascript closure &quot;stores&quot; value at the wrong time"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can set min-width property of CSS for body tag. Since this property is not supported by IE 6 you can write like</p>\n\n<pre><code>body{\n   min-width:1000px; /* suppose you want minimun width of 1000px */\n   width: auto !important;  /* Firefox will set width as auto */\n   width:1000px;             /* As IE ignores !important it will set width as 1000px; */\n}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>body{\n   min-width:1000px; // suppose you want minimun width of 1000px\n   _width: expression( document.body.clientWidth &gt; 1000 ? \"1000px\" : \"auto\" ); /* sets max-width for IE */\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>Well, you pretty much gave yourself the answer. In your CSS give the containing element a min-width. If you have to support IE6 you can use the min-width-trick:</p>\n\n<pre><code>#container {\n    min-width:800px;\n    width: auto !important;\n    width:800px;\n}\n</code></pre>\n\n<p>That will effectively give you 800px min-width in IE6 and any up-to-date browsers.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have a webpage with a fluid layout with a 100% width.</p>\n\n<p>When I resize browser window the elements in the page overlap.</p>\n\n<p>I would create an effect similar to this website <a href=\"http://bologna.bakeca.it/\">http://bologna.bakeca.it/</a> that when window is smaller than a fixed width stop resizing.</p>\n",
            "last_activity_date": 1377527372,
            "question_id": 3802455,
            "score": 6,
            "tags": [
                "javascript",
                "html",
                "css",
                "window-resize"
            ],
            "title": "Min Width in Window Resizing"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p><code>window.status</code> has been disabled in most (if not all) browsers for security reasons (it was possible to fake a different location for links that way).</p>\n\n<p>See e.g. <a href=\"https://developer.mozilla.org/en/DOM/window.status\">the MDC page</a> on window.status:</p>\n\n<blockquote>\n  <p>This property does not work in default configuration of Firefox and some other browsers: setting window.status has no effect on the text displayed in the status bar. To allow scripts change the the status bar text, the user must set the dom.disable_window_status_change  preference to false in the about:config screen.</p>\n</blockquote>\n\n<p>it was also removed in IE 7.</p>\n\n<p>As to why it works locally, I can't say. Maybe security restrictions are more relaxed there, although it's strange!</p>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>hi this is my first attempt at JavaScript:</p>\n\n<p>the following function is used to display window status bar messages. it works fine on the local machine but when i upload it too the server the messages are not displayed at all.</p>\n\n<p>what am i doing wrong? please help.</p>\n\n<p>[website][link removed]</p>\n\n<pre><code>function displayMsg(msg){\n\nwindow.status = msg;\n\n}\n</code></pre>\n\n<p>what should happen is when you hover over the image it should display a message to click it and the image is then updated.</p>\n\n<p>i saw <a href=\"http://stackoverflow.com/questions/536691/javascript-change-browser-window-status-message\">this</a> but if this is no longer possible then why does it work locally?</p>\n\n<p>EDIT: thank you for your answer. i am wondering if it is possible to display a tooltip once the image over event happens? thanks,</p>\n\n<p>EDIT: i have added a Title attribute and it seems to display a tooltip. what you are seeing would be most welcome input. thanks.</p>\n\n<p>EDIT: Google Chrome works fine. Safari does not run javascript. im on win7.</p>\n",
            "last_activity_date": 1279797166,
            "question_id": 3273320,
            "score": 6,
            "tags": [
                "javascript"
            ],
            "title": "JavaScript window.status"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You should be able to check for the \"iPad\" or \"iPhone\" substring in the <a href=\"http://en.wikipedia.org/wiki/User_agent\">user agent</a> string:</p>\n\n<pre><code>var userAgent = window.navigator.userAgent;\n\nif (userAgent.match(/iPad/i) || userAgent.match(/iPhone/i)) {\n   // iPad or iPhone\n}\nelse {\n   // Anything else\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>best practice is:</p>\n\n<pre><code>function isMobileSafari() {\n    return navigator.userAgent.match(/(iPod|iPhone|iPad)/) &amp;&amp; navigator.userAgent.match(/AppleWebKit/)\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 24
                },
                {
                    "body": "<p>Actually, there isn't a silver bullet of detecting mobile safari. There are quite a few browsers may use the keywords of the user agent of mobile safari. Maybe you can try feature detection and keep updating the rule.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have an app, and I'd like to redirect the users to different pages based on where they are navigating from.</p>\n\n<p>If navigating from web clip, do not redirect.\nIf navigating from mobile Safari, redirect to safari.aspx.\nIf navigating from anywhere else, redirect to unavailable.aspx</p>\n\n<p>I was able to use <a href=\"http://stackoverflow.com/questions/2738766/iphone-webapps-is-there-a-way-to-detect-how-it-was-loaded-home-screen-vs-safari\">http://stackoverflow.com/questions/2738766/iphone-webapps-is-there-a-way-to-detect-how-it-was-loaded-home-screen-vs-safari</a> to determine if the user was navigating from a web clip, but I'm having trouble determining if the user navigated from mobile Safari on an iPhone or iPod.</p>\n\n<p>Here's what I have:</p>\n\n<pre><code>if (window.navigator.standalone) {\n    // user navigated from web clip, don't redirect\n}\nelse if (/*logic for mobile Safari*/) {\n    //user navigated from mobile Safari, redirect to safari page\n    window.location = \"safari.aspx\";\n}\nelse {\n    //user navigated from some other browser, redirect to unavailable page\n    window.location = \"unavailable.aspx\";\n}\n</code></pre>\n",
            "last_activity_date": 1394527510,
            "question_id": 3007480,
            "score": 6,
            "tags": [
                "javascript",
                "iphone",
                "mobile-safari",
                "web-clips"
            ],
            "title": "Determine if user navigated from mobile Safari"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>1) Create HTML5 canvas of same size as your image<br>\n2) Get Canvas's context, drawImage(yourImage, 0, 0)<br>\n3) d = context.getImageData(0, 0, w of img, h of img)<br>\n4) d.data[(y*width+x)*4+3] for the alpha  </p>\n\n<pre><code>canvas = document.createElement(\"canvas\");  //Create HTML5 canvas: supported in latest firefox/chrome/safari/konquerer.  Support in IE9\ncanvas.width = img.width;                   //Set width of your rendertarget\ncanvas.height = img.height;                 // \\  height \\   \\     \\\nctx = canvas.getContext(\"2d\");              //Get the 2d context [the thing you draw on]\nctx.drawImage(img, 0, 0);                   //Draw the picture on it.\nid = ctx.getImageData(0,0, img.width, img.height);  //Get the pixelData of image\n//id.data[(y*width+x)*4+3] for the alpha value of pixel at x,y, 0-&gt;255\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>I know these things are out of fashion these days, but <a href=\"http://www.w3schools.com/tags/tag_map.asp\" rel=\"nofollow\">HTML image maps</a> are still valid, and can accomplish adding hit targets to nearly-arbitrary shapes within an image. If you don't actually want to reload another page on click, you could probably change the anchor in the URL with this technique and pick up the change with a Javascript interval.</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Canvas is the way to go for this purpose. But also remember that older internet explorer versions will not be capable of the <code>getImageData()</code> function. Even if you include excanvas.</p>\n\n<p>I made a small jquery plugin exactly for this purpose, maybe it will help you solving your problem without to completely reinvent the wheel. <a href=\"http://www.cw-internetdienste.de/pixelselection/\" rel=\"nofollow\">http://www.cw-internetdienste.de/pixelselection/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Given a PNG in a web context with some transparent pixels and some non-transparent pixels, is there a way in Javascript to determine if a user has clicked on a non-transparent pixel? A webkit-only solution would be perfectly acceptable.</p>\n",
            "last_activity_date": 1372358929,
            "question_id": 2878511,
            "score": 6,
            "tags": [
                "javascript",
                "webkit",
                "click"
            ],
            "title": "Hit detection on non-transparent pixel"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>The problem occurs because AJAX is in its nature asynchronus. This means that the <code>updateStatus()</code> calls are indeed executed in order but returns immediatly and the JS interpreter reaches <code>hideLoader()</code> before any data is retreived from the AJAX requests.</p>\n\n<p>You should perform the <code>hideLoader()</code> on an event where the AJAX calls are finished.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>This has nothing to do with the execution order of the code.</p>\n\n<p>The reason that the loader image never shows, is that the UI doesn't update while your function is running. If you do changes in the UI, they don't appear until you exit the function and return control to the browser.</p>\n\n<p>You can use a timeout after setting the image, giving the browser a chance to update the UI before starting rest of the code:</p>\n\n<pre><code>function updateStatuses(){\n\n  showLoader() //show the 'loader.gif' in the UI\n\n  // start a timeout that will start the rest of the code after the UI updates\n  window.setTimeout(function(){\n    updateStatus('cron1'); //performs an ajax request to get the status of something\n    updateStatus('cron2');\n    updateStatus('cron3');\n    updateStatus('cronEmail');\n    updateStatus('cronHourly');\n    updateStatus('cronDaily');\n\n    hideLoader(); //hide the 'loader.gif' in the UI\n  },0);\n}\n</code></pre>\n\n<p>There is another factor that also can make your code appear to execute out of order. If your AJAX requests are asynchronous, the function won't wait for the responses. The function that takes care of the response will run when the browser receives the response. If you want to hide the loader image after the response has been received, you would have to do that when the last response handler function runs. As the responses doesn't have to arrive in the order that you sent the requests, you would need to count how many responses you got to know when the last one comes.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Install Firebug, then add a line like this to each of showLoader, updateStatus and hideLoader:</p>\n\n<pre><code>Console.log(\"event logged\");\n</code></pre>\n\n<p>You'll see listed in the console window the calls to your function, and they will be in order. The question, is what does your \"updateStatus\" method do?</p>\n\n<p>Presumably it starts a background task, then returns, so you will reach the call to hideLoader before any of the background tasks finish. Your Ajax library probably has an \"OnComplete\" or \"OnFinished\" callback - call the following updateStatus from there.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You need to think of JavaScript as event based rather than procedural if you're doing AJAX programming.  You have to wait until the first call completes before executing the second.  The way to do that is to bind the second call to a callback that fires when the first is finished.  Without knowing more about the inner workings of your AJAX library (hopefully you're using a library) I can't tell you how to do this, but it will probably look something like this:</p>\n\n<pre><code>showLoader();\n\n  updateStatus('cron1', function() {\n    updateStatus('cron2', function() {\n      updateStatus('cron3', function() {\n        updateStatus('cronEmail', function() {\n          updateStatus('cronHourly', function() {\n            updateStatus('cronDaily', funciton() { hideLoader(); })\n          })\n        })\n      })\n    })\n  })\n});\n</code></pre>\n\n<p>The idea is, <code>updateStatus</code> takes its normal argument, plus a callback function to execute when it's finished.  It's a reasonably common pattern to pass a function to run <code>onComplete</code> into a function which provides such a hook.</p>\n\n<p><strong>Update</strong></p>\n\n<p>If you're using jQuery, you can read up on <code>$.ajax()</code> here: <a href=\"http://api.jquery.com/jQuery.ajax/\">http://api.jquery.com/jQuery.ajax/</a></p>\n\n<p>Your code probably looks something like this:</p>\n\n<pre><code>function updateStatus(arg) {\n  // processing\n\n  $.ajax({\n     data : /* something */,\n     url  : /* something */\n  });\n\n  // processing\n}\n</code></pre>\n\n<p>You can modify your functions to take a callback as their second parameter with something like this:</p>\n\n<pre><code>function updateStatus(arg, onComplete) {\n  $.ajax({\n    data : /* something */,\n    url  : /* something */,\n    complete : onComplete // called when AJAX transaction finishes\n  });\n</code></pre>\n\n<p>}</p>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>We have something similar in one of our projects, and we solved it by using a counter. If you increase the counter for each call to <code>updateStatus</code> and decrease it in the AJAX request's response function (depends on the AJAX JavaScript library you're using.) </p>\n\n<p>Once the counter reaches zero, all AJAX requests are completed and you can call <code>hideLoader()</code>.</p>\n\n<p>Here's a sample:</p>\n\n<pre><code>var loadCounter = 0;\n\nfunction updateStatuses(){\n    updateStatus('cron1'); //performs an ajax request to get the status of something\n    updateStatus('cron2');\n    updateStatus('cron3');    \n    updateStatus('cronEmail');\n    updateStatus('cronHourly');\n    updateStatus('cronDaily');\n}\n\nfunction updateStatus(what) {\n    loadCounter++;\n\n    //perform your AJAX call and set the response method to updateStatusCompleted()\n}\n\nfunction updateStatusCompleted() {\n    loadCounter--;\n    if (loadCounter &lt;= 0)\n        hideLoader(); //hide the 'loader.gif' in the UI\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>move the updateStatus calls to another function. make a call setTimeout with the new function as a target.</p>\n\n<p>if your ajax requests are asynchronous, you should have something to track which ones have completed. each callback method can set a \"completed\" flag somewhere for itself, and check to see if it's the last one to do so. if it is, then have it call hideLoader.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>As others have pointed out, you don't want to do a synchronous operation. Embrace Async, that's what the A in AJAX stands for. </p>\n\n<p>I would just like to mention an excellent analogy on sync v/s async. You can read the <a href=\"http://groups.google.com/group/Google-Web-Toolkit/browse_thread/thread/faca1575f306ba0f?pli=1\" rel=\"nofollow\">entire post on the GWT forum</a>, I am just including the relevant analogies.</p>\n\n<blockquote>\n  <p>Imagine if you will ...</p>\n  \n  <p>You are sitting on the couch watching\n  TV, and knowing that you are out   of\n  beer, you ask your spouse to please\n  run down to the liquor store   and\n  fetch you some. As soon as you see\n  your spouse walk out the front   door,\n  you get up off the couch and trundle\n  into the kitchen and open   the\n  fridge. To your surprise, there is no\n  beer!</p>\n  \n  <p>Well of course there is no beer, your\n  spouse is still on the trip to   the\n  liquor store. You've gotta wait until\n  [s]he returns before you can   expect\n  to have a beer.</p>\n</blockquote>\n\n<p>But, you say you want it synchronous? Imagine again ...</p>\n\n<blockquote>\n  <p>... spouse walks out the door ... now,\n  the entire world around you stops, you\n  don't get to breath,   answer the\n  door, or finish watching your show\n  while [s]he runs across   town to\n  fetch your beer. You just get to sit\n  there not moving a   muscle, and\n  turning blue until you lose\n  consciousness ... waking up   some\n  indefinite time later surrounded by\n  EMTs and a spouse saying oh,   hey, I\n  got your beer.</p>\n</blockquote>\n\n<p>That's exactly what happens when you insist on doing a synchronous server call.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I thinks all you need to do is have this in your code:</p>\n\n<pre><code>async: false,\n</code></pre>\n\n<p>So your Ajax call would look like this:</p>\n\n<pre><code>jQuery.ajax({\n            type: \"GET\",\n            url: \"something.html for example\",\n            dataType: \"html\",\n            async: false,\n            context: document.body,\n            success: function(response){\n\n                //do stuff here\n\n            },\n            error: function() {\n                alert(\"Sorry, The requested property could not be found.\");\n            }  \n        });\n</code></pre>\n\n<p>Obviously some of this need to change for <code>XML</code>, <code>JSON</code> etc but the <code>async: false,</code> is the main point here which tell the JS engine to wait until the success call have returned (or failed depending) and then carry on. \nRemember there is a downside to this, and thats that the entire page becomes unresponsive until the ajax returns!!! usually within milliseconds which is not a big deals but COULD take longer.</p>\n\n<p>Hope this is the right answer and it helps you :)</p>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>Okay, so I appreciate that Javascript is not C# or PHP, but I keep coming back to an issue in Javascript - not with JS itself but my use of it.</p>\n\n<p>I have a function:</p>\n\n<pre><code>function updateStatuses(){\n\nshowLoader() //show the 'loader.gif' in the UI\n\nupdateStatus('cron1'); //performs an ajax request to get the status of something\nupdateStatus('cron2');\nupdateStatus('cron3');\nupdateStatus('cronEmail');\nupdateStatus('cronHourly');\nupdateStatus('cronDaily');\n\nhideLoader(); //hide the 'loader.gif' in the UI\n\n}\n</code></pre>\n\n<p>Thing is, owing to Javascript's burning desire to jump ahead in the code, the loader never appears because the 'hideLoader' function runs straight after.</p>\n\n<p>How can I fix this? Or in other words, how can I make a javascript function execute in the order I write it on the page...</p>\n",
            "last_activity_date": 1387359649,
            "question_id": 2637626,
            "score": 6,
            "tags": [
                "javascript",
                "ajax",
                "order",
                "execution"
            ],
            "title": "How do you make javascript code execute *in order*"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>For the sake of posterity, here is the hack I'm currently using. The grid has an ID of <code>list</code> and the pager has an ID of <code>pager</code>:</p>\n\n<pre><code>jQuery(document).ready(function() {\n    //Initialize grid.\n\n    //Initialize the navigation bar (#pager)\n\n    //Hack to force creation of the search grid.\n    //The filter's ID is of the form #fbox_&lt;gridId&gt;\n    jQuery('#pager .ui-icon-search').click();\n    jQuery('#fbox_list').searchFilter().close();\n\n    //Example button events for adding/clearing the filter.\n    jQuery(\"#btnAddFilter\").click(function() {\n        //Adds a filter for the first column being equal to 'filterValue'.\n        var postFilters = jQuery(\"#list\").jqGrid('getGridParam', 'postData').filters;\n        if (postFilters) {\n            $('#fbox_list').searchFilter().add();\n        }\n\n        var colModel = jQuery(\"#list\").jqGrid('getGridParam', 'colModel');\n        //The index into the colModel array for the column we wish to filter.\n        var colNum = 0;\n        var col = colModel[colNum];\n\n        $('#fbox_list .sf .fields select').last().val(col.index).change();\n        $('#fbox_list .sf .data input').last().val('filterValue');\n\n        $('#fbox_list .sf .ops select.field' + colNum).last().val('eq').change();\n\n        $('#fbox_list').searchFilter().search();\n    });\n\n    jQuery(\"#btnClearFilter\").click(function() {\n        $('#fbox_list').searchFilter().reset();\n    });\n});\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>If you mean the filter toolbar, you can do this:   (status is the col name -- so, replace \"#gs_status\" w/ \"#gs_\" + your_col_name</p>\n\n<p></p>\n\n<pre><code>        jQuery(\"#distributor_grid\").jqGrid('showCol',['status']);           \n        jQuery(\".ui-search-toolbar #gs_status\")\n            .val('ALL')\n            ;\n\n        $('#distributor_grid').RefreshData();  // triggers toolbar\n</code></pre>\n\n<p></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>to clear inputs, selects and reset grid</p>\n\n<pre><code>$(\"td#refresh_navGrid\").click();\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a jqGrid with a navBar that has <code>search: true</code> and <code>multipleSearch: true</code>. I would like to add a button to my UI that automatically adds an additional rule to the search.</p>\n\n<p>I've tried manipulating the postData for the filter directly, but values added this way don't show up in the search UI.</p>\n\n<p>I've also tried accessing the search box directly using jQuery, like this:</p>\n\n<pre><code>$('#fbox_list').searchFilter().add();\n$('#fbox_list .sf .data input').each(function(index) {\n    alert($(this).val());\n});\n</code></pre>\n\n<p>But, in addition to feeling hackish, it only works if the user has already clicked on the search button (the fbox_list div is not constructed on load).</p>\n\n<p>Has anyone else dealt with an issue like this?</p>\n",
            "last_activity_date": 1382253073,
            "question_id": 2603869,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "jqgrid"
            ],
            "title": "How do I manipulate a jqGrid&#39;s search/filters?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I'm not sure about the leak, but your <code>resetTable()</code> function is very inefficient.  Try fixing those problems first and see where you end up.</p>\n\n<ul>\n<li>Don't append to the DOM in a loop. If you <em>must</em> do DOM manipulation, then append to a document fragment, and then move that fragment to the DOM.</li>\n<li>But innerHTML is faster than DOM manipulation anyway, so use that if you can.</li>\n<li>Store jQuery sets into local variables - no need to re-run the selector every time.</li>\n<li>Also store repeated references in a local variable.</li>\n<li>When iterating over a collection of any sort, store the length in a local variable, too.</li>\n</ul>\n\n<p>New code:</p>\n\n<pre><code>&lt;html&gt; &lt;head&gt;\n    &lt;title&gt;Test Page&lt;/title&gt;\n    &lt;script type=\"text/javascript\"\n     src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt; &lt;body&gt;\n&lt;script type=\"text/javascript\"&gt;\n$(function()\n{\n    var $tbody = $(\"#content tbody\");\n\n    function kickoff() {\n        $.getJSON(\"test.php\", resetTable);\n    }\n\n    function resetTable(rows)\n    {\n        var html = ''\n          , i = 0\n          , l = rows.length\n          , row;\n        for ( ; i &lt; l; i++ )\n        {\n            row = rows[i];\n            html += \"&lt;tr&gt;\"\n                + \"&lt;td&gt;\" + row.mpe_name + \"&lt;/td&gt;\"\n                + \"&lt;td&gt;\" + row.bin + \"&lt;/td&gt;\"\n                + \"&lt;td&gt;\" + row.request_time + \"&lt;/td&gt;\"\n                + \"&lt;td&gt;\" + row.filtered_delta + \"&lt;/td&gt;\"\n                + \"&lt;td&gt;\" + row.failed_delta + \"&lt;/td&gt;\"\n            + \"&lt;/tr&gt;\";\n        }\n        $tbody.html( html );\n        setTimeout(kickoff, 2000);\n    }\n\n    kickoff();\n});\n&lt;/script&gt;\n&lt;table id=\"content\" border=\"1\" style=\"width:100% ; text-align:center\"&gt;\n&lt;thead&gt;\n    &lt;th&gt;MPE&lt;/th&gt; &lt;th&gt;Bin&lt;/th&gt; &lt;th&gt;When&lt;/th&gt; &lt;th&gt;Filtered&lt;/th&gt; &lt;th&gt;Failed&lt;/th&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/body&gt; &lt;/html&gt;\n</code></pre>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"http://www.artzstudio.com/2009/04/jquery-performance-rules/\" rel=\"nofollow\">jQuery Peformance Rules</a></li>\n<li><a href=\"http://www.youtube.com/watch?v=mHtdZgou0qU\" rel=\"nofollow\">Speed Up Your Javascript</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>Please correct me if I'm wrong here but doesn't SetTimeout(fn) prevents the release of the caller's memory space?  So that all variables/memory allocated during the resetTable(rows) method would remain allocated until the loop finished?</p>\n\n<p>If that's the case, pushing string construction and appendTo logic to a different method may be a little better since those objects would get freed up after each calling and only the memory of the returned value (in this case either the string markup or nothing if the new method did the appendTo()) would remain in memory.</p>\n\n<p>In essence:</p>\n\n<p>Initial Call to kickoff</p>\n\n<p>-> Calls resetTable()</p>\n\n<p>-> -> SetTimeout Calls kickoff again</p>\n\n<p>-> -> -> Calls resetTable() again</p>\n\n<p>-> -> -> -> Continue until Infinite</p>\n\n<p>If the code never truly resolves, the tree would continue to grow.</p>\n\n<p>An alternative way of freeing up some memory based on this would be like the below code:</p>\n\n<pre><code>function resetTable(rows) {\n    appendRows(rows);\n    setTimeout(kickoff, 2000);\n}\nfunction appendRows(rows)\n{\n    var rowMarkup = '';\n    var length = rows.length\n    var row;\n\n    for (i = 0; i &lt; length; i++)\n    {\n    \trow = rows[i];\n    \trowMarkup += \"&lt;tr&gt;\"\n    \t\t\t+ \"&lt;td&gt;\" + row.mpe_name + \"&lt;/td&gt;\"\n    \t\t\t+ \"&lt;td&gt;\" + row.bin + \"&lt;/td&gt;\"\n    \t\t\t+ \"&lt;td&gt;\" + row.request_time + \"&lt;/td&gt;\"\n    \t\t\t+ \"&lt;td&gt;\" + row.filtered_delta + \"&lt;/td&gt;\"\n    \t\t\t+ \"&lt;td&gt;\" + row.failed_delta + \"&lt;/td&gt;\"\n    \t\t\t+ \"&lt;/tr&gt;\";\t\t\n    }\n\n    $(\"#content tbody\").html(rowMarkup);\n}\n</code></pre>\n\n<p>This will append the markup to your tbody and then finish that part of the stack.  I am pretty sure that each iteration of \"rows\" will still remain in memory; however, the markup string and such should free up eventually.</p>\n\n<p>Again...it's been a while since I've looked at SetTimeout at this low level so I could be completely wrong here.  In anycase, this won't remove the leak and only possibly decrease the rate of growth.  It depends on how the garbage collector of the JavaScript engines in use deal with SetTimeout loops like you have here.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'm not sure why firefox isn't happy w/ this but I can say from experience that in IE6/7/8 you must set innerHTML = \"\"; on the object you want removed from the DOM. (if you created this DOM element dynamically that is)</p>\n\n<p><code>$(\"#content tbody\").empty();</code> might not be releasing these dynamically generated DOM elements.</p>\n\n<p>Instead try something like the below (this is a jQuery plugin I wrote to solve the issue).</p>\n\n<pre><code>jQuery.fn.removefromdom = function(s) {\n    if (!this) return;\n\n    var bin = $(\"#IELeakGarbageBin\");\n\n    if (!bin.get(0)) {\n        bin = $(\"&lt;div id='IELeakGarbageBin'&gt;&lt;/div&gt;\");\n        $(\"body\").append(bin);\n    }\n\n    $(this).children().each(\n            function() {\n                bin.append(this);\n                document.getElementById(\"IELeakGarbageBin\").innerHTML = \"\";\n            }\n    );\n\n    this.remove();\n\n    bin.append(this);\n    document.getElementById(\"IELeakGarbageBin\").innerHTML = \"\";\n};\n</code></pre>\n\n<p>You would call this like so:  <code>$(\"#content\").removefromdom();</code></p>\n\n<p>The only issue here is that you need to re-create your table each time you want to build it.</p>\n\n<p>Also, if this does solve your issue in IE you can read more about this in a blog <a href=\"http://toranbillups.com/blog/archive/2009/04/21/Cleanup-for-dynamically-generated-DOM-elements-in-IE\">post</a> that I wrote earlier this year when I came across the same problem.</p>\n\n<p><strong>Edit</strong> I updated the plugin above to be 95% JavaScript free now so it's using more jQuery than the previous version.  You will still notice that I have to use innerHTML because the jQuery function html(\"\"); doesn't act the same for IE6/7/8</p>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I have a webpage that's leaking memory in both IE8 and Firefox; the memory usage displayed in the Windows Process Explorer just keeps growing over time.</p>\n\n<p>The following page requests the \"unplanned.json\" url, which is a static file that never changes (though I do set my <code>Cache-control</code> HTTP header to <code>no-cache</code> to make sure that the Ajax request always goes through).  When it gets the results, it clears out an HTML table, loops over the json array it got back from the server, and dynamically adds a row to an HTML table for each entry in the array.  Then it waits 2 seconds and repeats this process.</p>\n\n<p>Here's the entire webpage:</p>\n\n<pre><code>&lt;html&gt; &lt;head&gt;\n    &lt;title&gt;Test Page&lt;/title&gt;\n    &lt;script type=\"text/javascript\"\n     src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt; &lt;body&gt;\n&lt;script type=\"text/javascript\"&gt;\n    function kickoff() {\n        $.getJSON(\"unplanned.json\", resetTable);\n    }\n    function resetTable(rows) {\n        $(\"#content tbody\").empty();\n        for(var i=0; i&lt;rows.length; i++) {\n            $(\"&lt;tr&gt;\"\n                + \"&lt;td&gt;\" + rows[i].mpe_name + \"&lt;/td&gt;\"\n                + \"&lt;td&gt;\" + rows[i].bin + \"&lt;/td&gt;\"\n                + \"&lt;td&gt;\" + rows[i].request_time + \"&lt;/td&gt;\"\n                + \"&lt;td&gt;\" + rows[i].filtered_delta + \"&lt;/td&gt;\"\n                + \"&lt;td&gt;\" + rows[i].failed_delta + \"&lt;/td&gt;\"\n            + \"&lt;/tr&gt;\").appendTo(\"#content tbody\");\n        }\n        setTimeout(kickoff, 2000);\n    }\n    $(kickoff);\n&lt;/script&gt;\n&lt;table id=\"content\" border=\"1\" style=\"width:100% ; text-align:center\"&gt;\n&lt;thead&gt;&lt;tr&gt;\n    &lt;th&gt;MPE&lt;/th&gt; &lt;th&gt;Bin&lt;/th&gt; &lt;th&gt;When&lt;/th&gt; &lt;th&gt;Filtered&lt;/th&gt; &lt;th&gt;Failed&lt;/th&gt;\n&lt;/tr&gt;&lt;/thead&gt;\n&lt;tbody&gt;&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/body&gt; &lt;/html&gt;\n</code></pre>\n\n<p>If it helps, here's an example of the json I'm sending back (it's this exact array wuith thousands of entries instead of just one):</p>\n\n<pre><code>[\n    {\n        mpe_name: \"DBOSS-995\",\n        request_time: \"09/18/2009 11:51:06\",\n        bin: 4,\n        filtered_delta: 1,\n        failed_delta: 1\n    }\n]\n</code></pre>\n\n<p>EDIT: I've accepted Toran's extremely helpful answer, but I feel I should post some additional code, since his <code>removefromdom</code> jQuery plugin has some limitations:</p>\n\n<ul>\n  <li>It only removes individual elements.  So you can't give it a query like `$(\"#content tbody tr\")` and expect it to remove all of the elements you've specified.</li>\n  <li>Any element that you remove with it must have an `id` attribute.  So if I want to remove my `tbody`, then I must assign an `id` to my `tbody` tag or else it will give an error.</li>\n  <li>It removes the element itself and all of its descendants, so if you simply want to empty that element then you'll have to re-create it afterwards (or modify the plugin to empty instead of remove).</li>\n</ul>\n\n<p>So here's my page above modified to use Toran's plugin.  For the sake of simplicity I didn't apply any of the general performance advice <a href=\"http://stackoverflow.com/questions/1455947/memory-leak-involving-jquery-ajax-requests/1456073#1456073\">offered by Peter</a>.  Here's the page which now no longer memory leaks:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Test Page&lt;/title&gt;\n    &lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;script type=\"text/javascript\"&gt;\n&lt;!--\n    $.fn.removefromdom = function(s) {\n        if (!this) return;\n\n        var el = document.getElementById(this.attr(\"id\"));\n\n        if (!el) return;\n\n        var bin = document.getElementById(\"IELeakGarbageBin\");\n\n        //before deleting el, recursively delete all of its children.\n        while (el.childNodes.length &gt; 0) {\n            if (!bin) {\n                bin = document.createElement(\"DIV\");\n                bin.id = \"IELeakGarbageBin\";\n                document.body.appendChild(bin);\n            }\n\n            bin.appendChild(el.childNodes[el.childNodes.length - 1]);\n            bin.innerHTML = \"\";\n        }\n\n        el.parentNode.removeChild(el);\n\n        if (!bin) {\n            bin = document.createElement(\"DIV\");\n            bin.id = \"IELeakGarbageBin\";\n            document.body.appendChild(bin);\n        }\n\n        bin.appendChild(el);\n        bin.innerHTML = \"\";\n    };\n\n    var resets = 0;\n    function kickoff() {\n        $.getJSON(\"unplanned.json\", resetTable);\n    }\n    function resetTable(rows) {\n        $(\"#content tbody\").removefromdom();\n        $(\"#content\").append('&lt;tbody id=\"id_field_required\"&gt;&lt;/tbody&gt;');\n        for(var i=0; i&lt;rows.length; i++) {\n            $(\"#content tbody\").append(\"&lt;tr&gt;&lt;td&gt;\" + rows[i].mpe_name + \"&lt;/td&gt;\"\n                + \"&lt;td&gt;\" + rows[i].bin + \"&lt;/td&gt;\"\n                + \"&lt;td&gt;\" + rows[i].request_time + \"&lt;/td&gt;\"\n                + \"&lt;td&gt;\" + rows[i].filtered_delta + \"&lt;/td&gt;\"\n                + \"&lt;td&gt;\" + rows[i].failed_delta + \"&lt;/td&gt;&lt;/tr&gt;\");\n        }\n        resets++;\n        $(\"#message\").html(\"Content set this many times: \" + resets);\n        setTimeout(kickoff, 2000);\n    }\n    $(kickoff);\n// --&gt;\n&lt;/script&gt;\n&lt;div id=\"message\" style=\"color:red\"&gt;&lt;/div&gt;\n&lt;table id=\"content\" border=\"1\" style=\"width:100% ; text-align:center\"&gt;\n&lt;thead&gt;&lt;tr&gt;\n    &lt;th&gt;MPE&lt;/th&gt;\n    &lt;th&gt;Bin&lt;/th&gt;\n    &lt;th&gt;When&lt;/th&gt;\n    &lt;th&gt;Filtered&lt;/th&gt;\n    &lt;th&gt;Failed&lt;/th&gt;\n&lt;/tr&gt;&lt;/thead&gt;\n&lt;tbody id=\"id_field_required\"&gt;&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>FURTHER EDIT: I'll leave my question unchanged, though it's worth noting that this memory leak has nothing to do with Ajax.  In fact, the following code would memory leak just the same and be just as easily solved with Toran's <code>removefromdom</code> jQuery plugin:</p>\n\n<pre><code>function resetTable() {\n    $(\"#content tbody\").empty();\n    for(var i=0; i&lt;1000; i++) {\n        $(\"#content tbody\").append(\"&lt;tr&gt;&lt;td&gt;\" + \"DBOSS-095\" + \"&lt;/td&gt;\"\n            + \"&lt;td&gt;\" + 4 + \"&lt;/td&gt;\"\n            + \"&lt;td&gt;\" + \"09/18/2009 11:51:06\" + \"&lt;/td&gt;\"\n            + \"&lt;td&gt;\" + 1 + \"&lt;/td&gt;\"\n            + \"&lt;td&gt;\" + 1 + \"&lt;/td&gt;&lt;/tr&gt;\");\n    }\n    setTimeout(resetTable, 2000);\n}\n$(resetTable);\n</code></pre>\n",
            "last_activity_date": 1275748978,
            "question_id": 1455947,
            "score": 6,
            "tags": [
                "javascript",
                "jquery",
                "ajax",
                "memory-leaks"
            ],
            "title": "Memory leak involving jQuery Ajax requests"
        },
        {
            "answer_count": 10,
            "answers": [
                {
                    "body": "<p>I don't think it will. If you want it to be always read by Google, try generating some default text server side by the date time, and overwriting that with js.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It doesn't. As far as I know, Google does not yet support JavaScript (or, in fact, any form of dynamic content).</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Search engine bots don't have javascript, so they won't see any content that was dynamically added to your page via AJAX, etc. In your browser options, turn off Javascript and reload your website. All that they'll see is the content and the links there.</p>\n\n<p>The solution: on your page, in the plain HTML place a link to a page which shows the rest of your content (the stuff that you would load via AJAX), then have Javascript replace that link with the content. The search engine bots will see the link and follow it, indexing all your content. Just make sure that on these lo-fi pages, you provide links back to the regular page, since that's what Google will link to.</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>JavaScript generated content is not indexed by search engines. See <a href=\"http://stackoverflow.com/questions/826275/can-search-engines-index-javascript-generated-web-pages\">this question</a> for more info.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Download Lynx and access your site. if you can see your content, google can too!</p>\n\n<p>Here's the link <a href=\"http://lynx.isc.org/\" rel=\"nofollow\">Lynx Viewer</a></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Important content, whether it be needed for SEO, accessibility or both, should be available to users (or in this case, bots) without JS. Although, recently I read <a href=\"http://clipperhouse.com/blog/post/The-Googlebot-runs-Javascript.aspx\" rel=\"nofollow\">this little blog post</a> which says that Google bot has JS.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>No I dont think they read dynamic content generated using javascript. What you see as view source of a page is generally what a google bot will read. Or you can say what you see in Lynx.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I would run it through Google's Webmaster tools site, which has a function to view your page as Googlebot. You may be able to determine it's visibility through there.</p>\n\n<p><a href=\"https://www.google.com/webmasters/tools/home?hl=en\" rel=\"nofollow\">https://www.google.com/webmasters/tools/home?hl=en</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you're considering developing a full-blown AJAX website, Google says there's a way of <a href=\"http://code.google.com/intl/fr-FR/web/ajaxcrawling/\" rel=\"nofollow\">making AJAX applications crawlable</a>.</p>\n\n<p>Short answer: there's an agreement between crawler and server on URIs.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Perform a fetch and render within Google's Webmaster tools. Google will tell you in there. Alternatively, use their page speed test tool. Again, it will tell you if your JS is accessible or not.</p>\n\n<p>The easiest way to know, is to simply copy a chunk of text output within the JS within the browser and perform a search in Google.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>How can I tell if a google bot is reading my javascript generated content?</p>\n\n<p>I have an AJAX script that generates some text dynamically on a page... this content does not change by user, but simply by date/time.</p>\n\n<p>I am not sure how I can tell if google sees it.</p>\n",
            "last_activity_date": 1421936582,
            "question_id": 1304058,
            "score": 6,
            "tags": [
                "javascript",
                "seo"
            ],
            "title": "Javascript &amp; SEO"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>It's because today is July 31. Grant explained the problem. Here's what I believe is a simpler solution. Initialize your date on Jan 1.</p>\n\n<pre><code>var date = new Date(2009,0,1,0,0,0);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>The date object starts off with the current date.\nIt's the 31st today so setting 2009-06-09 gives:</p>\n\n<pre><code>var date = new Date();     // Date is 2009-07-31\ndate.setUTCFullYear(2009); // Date is 2009-07-31\ndate.setUTCMonth(6 - 1);   // Date is 2009-06-31 = 2009-07-01\ndate.setUTCDate(9);        // Date is 2009-07-09\n</code></pre>\n\n<p>If you set the date to the 1st before you begin, then you should be safe.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>The problem is that today is July 31.</p>\n\n<p>When you set:</p>\n\n<pre><code>var date = new Date();\n</code></pre>\n\n<p>Then <code>date.getUTCDate()</code> is 31. When you set <code>date.setUTCMonth(5)</code> (for June), you are setting <code>date</code> to <strong>June 31</strong>. Because there is no June 31, the JavaScript <code>Date</code> object turns it into <em>July 1</em>. So immediately after setting calling <code>date.setUTCMonth(5)</code> if you <code>alert(date.getUTCMonth());</code> it will be <code>6</code>.</p>\n\n<p>This isn't unique to June. Using your function on the 31st of any month for any other month that does not have 31 days will exhibit the same problem. Using your function on the 29th (non-leap years), 30th or 31st of any month for February would also return the wrong result.</p>\n\n<p>Calling <code>setUTC*()</code> in such a way that any rollovers are overwritten by the correct value should fix this:</p>\n\n<pre><code>var date = new Date();\ndate.setUTCMilliseconds(0);\ndate.setUTCSeconds(parseInt(matches[6], 10));\ndate.setUTCMinutes(parseInt(matches[5], 10) - offset);\ndate.setUTCHours(parseInt(matches[4], 10));\ndate.setUTCDate(parseInt(matches[3], 10));\ndate.setUTCMonth(parseInt(matches[2], 10) - 1);\ndate.setUTCFullYear(parseInt(matches[1], 10));\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>It's the order in which you are changing the date.\nThe date starts out as July 31, so the set of the month fails because there is no 31 in June. (Actually it is rolling over to jul-1.)</p>\n\n<p>After setting the full year, add this:</p>\n\n<pre><code>date.setYUTCDate(1);\n</code></pre>\n\n<p>It makes it the first of the month wherein every month is valid.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Looks like a bug?</p>\n\n<pre><code>C:\\Documents and Settings\\me&gt;java org.mozilla.javascript.tools.shell.Main\nRhino 1.7 release 2 2009 03 22\njs&gt; date = new Date();\nFri Jul 31 2009 15:18:38 GMT-0400 (EDT)\njs&gt; date.setUTCMonth(5); date.toUTCString();\nWed, 01 Jul 2009 19:18:38 GMT\njs&gt; date.setUTCMonth(5); date.toUTCString();\nMon, 01 Jun 2009 19:18:38 GMT\n</code></pre>\n\n<p>EDIT: Nevermind I guess. Question already answered by somebody more knowledgable.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have some javascript which parses an ISO-8601 date.  For some reason, it is failing for dates in June.  But dates in July and May work fine, which doesn't make sense to me.  I'm hoping a fresh set of eyes will help, because I can't see what I'm doing wrong here.</p>\n\n<h2>Function definition (with bug)</h2>\n\n<pre><code>function parseISO8601(timestamp)\n{\n  var regex = new RegExp(\"^([\\\\d]{4})-([\\\\d]{2})-([\\\\d]{2})T([\\\\d]{2}):([\\\\d]{2}):([\\\\d]{2})([\\\\+\\\\-])([\\\\d]{2}):([\\\\d]{2})$\");\n  var matches = regex.exec(timestamp);\n  if(matches != null)\n  {\n    var offset = parseInt(matches[8], 10) * 60 + parseInt(matches[9], 10);\n    if(matches[7] == \"-\")\n      offset = -offset;\n\n    var date = new Date();\n    date.setUTCFullYear(parseInt(matches[1], 10));\n    date.setUTCMonth(parseInt(matches[2], 10) - 1); //UPDATE - this is wrong\n    date.setUTCDate(parseInt(matches[3], 10));\n    date.setUTCHours(parseInt(matches[4], 10));\n    date.setUTCMinutes(parseInt(matches[5], 10) - offset);\n    date.setUTCSeconds(parseInt(matches[6], 10));\n    date.setUTCMilliseconds(0);\n\n    return date;\n  }\n  return null;\n}\n</code></pre>\n\n<h2>Test code</h2>\n\n<pre><code>alert(parseISO8601('2009-05-09T12:30:00-00:00').toUTCString());\nalert(parseISO8601('2009-06-09T12:30:00-00:00').toUTCString());\nalert(parseISO8601('2009-07-09T12:30:00-00:00').toUTCString());\n</code></pre>\n\n<h2>Output</h2>\n\n<ul>\n<li>Sat, 09 May 2009 12:30:00 GMT</li>\n<li>Thu, 09 <strong>Jul</strong> 2009 12:30:00 GMT</li>\n<li>Thu, 09 Jul 2009 12:30:00 GMT</li>\n</ul>\n\n<p><hr /></p>\n\n<h2>Update</h2>\n\n<p>Thanks for the quick answers, the problem was that the Date object was initially today, which happened to be July 31.  When the month was set to June, before I changed the day, it was temporarily <strong>June 31</strong>, which got rolled forward to July 1.</p>\n\n<p>I've since found the following to be a cleaner implementation, as it sets all the date attributes at once:</p>\n\n<pre><code>function parseISO8601(timestamp)\n{\n  var regex = new RegExp(\"^([\\\\d]{4})-([\\\\d]{2})-([\\\\d]{2})T([\\\\d]{2}):([\\\\d]{2}):([\\\\d]{2})([\\\\+\\\\-])([\\\\d]{2}):([\\\\d]{2})$\");\n  var matches = regex.exec(timestamp);\n  if(matches != null)\n  {\n    var offset = parseInt(matches[8], 10) * 60 + parseInt(matches[9], 10);\n    if(matches[7] == \"-\")\n      offset = -offset;\n\n    return new Date(\n      Date.UTC(\n        parseInt(matches[1], 10),\n        parseInt(matches[2], 10) - 1,\n        parseInt(matches[3], 10),\n        parseInt(matches[4], 10),\n        parseInt(matches[5], 10),\n        parseInt(matches[6], 10)\n      ) - offset*60*1000\n    );\n  }\n  return null;\n}\n</code></pre>\n",
            "last_activity_date": 1250259038,
            "question_id": 1214234,
            "score": 6,
            "tags": [
                "javascript",
                "parsing",
                "date"
            ],
            "title": "Javascript date parsing bug - fails for dates in June (??)"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>The use of function scope variables and closures to simulate private variables/functions is a well established idiom in the javascript community.  If the variable is truly intended to be private, I see no drawback to this approach (although some claim that performant code on certain browsers/hosts has to pay attention to how many closures get created).  </p>\n\n<p>In your example, the private_method (and its environment) is shared across all objects - since your public_method closure is created only the first time the object is constructed (and bound to the constructor's prototype property that sets the created object's internal prototype chain) - so the private_method that is used is only the one that was created the first time.  </p>\n\n<p>Here is some sample code that will help illustrate what is going on:</p>\n\n<pre>\n  var global = 1;\n\n  var Some_Class = function() {\n    var private_method = 'whatever';\n    var now = ++global;\n    print(\"outer now: \" + now );\n    private_method = function(_some_value) {\n        // private method implementation\n        print(\"inner now: \" + now);\n    };\n\n    if(!arguments.callee.prototype.public_method) {\n        arguments.callee.prototype.public_method = function() {\n\n            private_method.call(this, private_method);\n        };\n    }\n\n    (function() {\n        // constructor\n    }).call(this)\n}\n\nnew Some_Class().public_method(); // outer now: 2, inner now: 2\nnew Some_Class().public_method(); // outer now: 3, inner now: 2\nnew Some_Class().public_method(); // outer now: 4, inner now: 2\n\n</pre>\n\n<p>Are you sure that is what you want?</p>\n\n<p>If your private_method does not need to refer to the enclosing object's state, then I see little benefit in doing things the way you are doing.  </p>\n\n<p>What I usually do (if i have to use 'new' to create my object) is the following:</p>\n\n<pre>\nfunction MyClass() {\n  var private_var = 1; \n  function private_func()\n  {\n\n  }\n  this.public_func = function() \n  {\n     // do something\n     private_func();\n  }\n  this.public_var = 10;\n}\n\nvar myObj = new MyClass();\n\n</pre>\n\n<p>The downside to this approach is that each time you construct the object via 'new' you re-create all the closures.  But unless my profiler tells me that this design choice needs to be optimized, i prefer its simplicity and clarity.</p>\n\n<p>Also I don't see the benefit in your code of doing the following either:</p>\n\n<pre>\n  (function() { }).call(this);  // call the constructor\n</pre>\n\n<p>Why are you creating a separate scope in your constructor?</p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>My answer is a non-answer: there's no built-in <code>private</code> access in JavaScript but that's okay because <a href=\"http://c2.com/xp/YouArentGonnaNeedIt.html\">YAGNI</a>. Here's how I make <code>private</code> members in my code:</p>\n\n<pre><code>function Some_Class() {\n    this._private_member = 'whatever';\n}\n\nSome_Class.prototype._private_method = function() {\n};\n</code></pre>\n\n<p>That's good enough. It's not really worth it to jump through hoops when the only real purpose of <code>private</code> is to protect yourself from... yourself.</p>\n\n<p>(I say this having spent many hours myself playing around with every permutation of closures and prototyping, just as you are, and finally saying \"screw it, it's not worth it\".)</p>\n",
                    "is_accepted": false,
                    "score": 11
                },
                {
                    "body": "<p>If you have not done so already have a look at this <a href=\"http://yuiblog.com/blog/2007/06/12/module-pattern/\" rel=\"nofollow\">JavaScript Module Pattern</a>, which allows you to access private methods and variables from within the public functions, etc.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Works with prototype, not just singleton.  Problem is, when it's time to subclass, my subclass has no access to the privates</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Echoing John Kugelman: It's impossible to create private members in javascript. Live with it. Even if you create a enclosure like this:</p>\n\n<pre><code>function SomeClass() {\n\n   var _private = 0;\n   this.public_acessor = function() {return _private};\n}\n</code></pre>\n\n<p>Any user can still write:</p>\n\n<pre><code>SomeClass._not_private_anymore = 1;\nSomeClass.public_acessor = function () {return this._not_private_anymore}; \n</code></pre>\n\n<p>In the end, you can't trust any public member to be the same you declared. If someone is up to break your code, he will! Another user won't break your code only because it's useful.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>After reading a bit on Javascript's <a href=\"http://javascript.crockford.com/prototypal.html\">prototypical inheritance model</a>, I change my style of constructing a class from </p>\n\n<pre><code>var Some_Class = function() {\n    this.public_method = function() {\n    };\n    (function() {\n        // constructor\n    }).call(this)\n}\n</code></pre>\n\n<p>to </p>\n\n<pre><code>var Some_Class = function() {\n    (function() {\n        // constructor\n    }).call(this)\n}\nSome_Class.prototype.public_method = function() {\n};\n</code></pre>\n\n<p>Although I understand that this is a good practice, but I am not allowed to access private methods from the public method anymore</p>\n\n<pre><code>var Some_Class = function() {\n    var private_member = 'whatever';\n\n    (function() {\n        // constructor\n    }).call(this)\n}\nSome_Class.prototype.public_method = function() {\n    return private_member; // not possible\n};\n</code></pre>\n\n<p>After reading through an article <a href=\"http://robertnyman.com/2008/10/21/javascript-inheritance-experimenting-with-syntax-alternatives-and-private-variables/\">here</a> (Closure-created constructor), then I came out with this</p>\n\n<pre><code>var Some_Class = function() {\n    var private_member = 'whatever',\n\n    private_method = function(_some_value) {\n        // private method implementation\n    };\n\n    if(!arguments.callee.prototype.public_method) {\n        arguments.callee.prototype.public_method = function() {\n            private_method.call(this, private_method);\n        };\n    }\n\n    (function() {\n        // constructor\n    }).call(this)\n}\n</code></pre>\n\n<p>However, what are the drawbacks of doing this?! or is there a better way of doing this if I want to access <a href=\"http://www.crockford.com/javascript/private.html\">private member</a> in the public method?</p>\n",
            "last_activity_date": 1344345147,
            "question_id": 1041988,
            "score": 6,
            "tags": [
                "javascript",
                "prototype"
            ],
            "title": "Better way to access private members in Javascript"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>One rather ugly hack I've considered is to use addToJavaScriptWindowObject to drop the object I want to return into the window object with a random name, then have my slot return the name of the object instance instead:</p>\n\n<pre><code>QString MyApp::helloWorld()\n{\n     //general a unique name for the js variable\n     QString name=getRandomVariableName();\n\n     //here's the object we want to expose to js\n     MyObject* pReturn=new MyObject();\n\n     //we make attach our object to the js window object    \n     getWebFrame()-&gt;addToJavaScriptWindowObject(name, pReturn,\n         QScriptEngine::ScriptOwnership);  \n\n     //tell js the name we used\n     return name;\n}\n</code></pre>\n\n<p>The JS can be written to check if the return value is a string, and if it is, grab the object from the window.:</p>\n\n<pre><code>var foo=myapp.helloWorld();\nif (typeof foo == \"string\")\n{\n    foo=window[foo];\n}\n</code></pre>\n\n<p>A little ugly, but will get me by until a better method comes along. Future Qt versions are going unify the scripting support so that it's all based on the JavaScriptCore in WebKit, so hopefully this will improve then!</p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>QtScript has the notion of prototypes - which allows you to create a C++ prototype for a script value. We are investigating wether we can bridge QtScript with JavaScriptCore - which <em>should</em> result in the possibility of using prototypes from WebKit's JavaScript environment as well; <a href=\"http://doc.trolltech.com/4.5/qtscript.html#making-use-of-prototype-based-inheritance\" rel=\"nofollow\">http://doc.trolltech.com/4.5/qtscript.html#making-use-of-prototype-based-inheritance</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Try returning your new object as a QObject* rather than a MyObject*.  If you're just working with QtScript, then you can call <a href=\"http://doc.trolltech.com/4.5/qscriptengine.html#qScriptRegisterMetaType\" rel=\"nofollow\">qScriptRegisterMetaType</a> to define some code for handling conversion of MyObject*s into QScriptValues (or QVariants), but there doesn't seem to be an equivalent for the JavaScript engine used in QtWebKit.</p>\n\n<p>Annoyingly, this means that exposing your internal object model to WebKit will involve either having a separate set of proxy functions that convert your object pointers to QObject*s, or using adapter classes of some kind to do the same thing.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can assign your Object pointer to a QObject * and return that. </p>\n\n<pre><code>    QObject * obj = new MyObject();\n    return obj;\n</code></pre>\n\n<p>That is working for me on Qt Webkit port on Linux.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I've successfully added an C++ object to a QWebFrame with <a href=\"http://doc.trolltech.com/4.5/qwebframe.html#addToJavaScriptWindowObject\">addToJavaScriptWindowObject</a>,\nand can call a slot on that object from javascript. </p>\n\n<p>But what I really want to do is have one of those slots return a new object. For example,  I have a slot like this, which returns a QObject derived class instance:</p>\n\n<pre><code>   MyObject* MyApp::helloWorld()\n   {\n          //MyObject is dervied from QObject\n          return new MyObject();\n   }\n</code></pre>\n\n<p>I can call this slot from javascript successfully like this</p>\n\n<pre><code>   var foo=myapp.helloWorld();\n</code></pre>\n\n<p>But foo appears to be empty, I can't call any slots or access any\nproperties on it from Javascript.</p>\n\n<p>Any ideas on how I can achieve this?</p>\n",
            "last_activity_date": 1307085762,
            "question_id": 943554,
            "score": 6,
            "tags": [
                "javascript",
                "qt",
                "webkit",
                "qtwebkit"
            ],
            "title": "How to get Javascript in a QWebView to create new instances of C++ based classes?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Someone else said this somewhere on here a few days ago, and I concur - use javascript to simply <em>hide</em> the button instead of disabling it; you could show a \"spinner\" image in its place, which lets the user know what is going on.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>See this example for disabling control on postback. It should help you do what you're trying to achieve.</p>\n\n<p><a href=\"http://encosia.com/2007/04/17/disable-a-button-control-during-postback/\">http://encosia.com/2007/04/17/disable-a-button-control-during-postback/</a></p>\n",
                    "is_accepted": true,
                    "score": 13
                },
                {
                    "body": "<p>Instead of hiding, what I have done is swapping buttons using javascript. Show another greyed out image on the click of the first button.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You don't necessarily want to show the button disabled on postback.  You want to make sure they don't accidentally submit twice.  So disabling or hiding the button as a result of a <em>server-side</em> action is already too late in the game.  By this point the 2nd request is already on it's way.  You need to either do it with javascript or make sure your server side code won't run twice.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>In case of an updatepanel and a button inside a FormView-Template I use the following approach:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    // Using that prm reference, hook _initializeRequest\n    Sys.WebForms.PageRequestManager.getInstance().add_initializeRequest(InitializeRequestBuchung);\n\n    // Abfangen von Mehrfachklicks auf Buttons f\u00fcr asynchrone Postbacks im Updatepanel\n    function InitializeRequestBuchung(sender, args) {\n        var arrButtonIds = [\"ButtonInsert\", \"ButtonUpdate\"];\n\n        // Get a reference to the PageRequestManager.\n        var prm = Sys.WebForms.PageRequestManager.getInstance();\n        if (prm.get_isInAsyncPostBack() &amp; jQuery.inArray(args.get_postBackElement().id, arrButtonIds) &gt; -1) {\n            args.set_cancel(true);\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>This cancels a following postback if currently a async postback is still active. Works perfectly.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Set the Button property UseSubmitBehavior to false. Then create an OnClientClick function that disables the button.\nIt would look something like this:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n   function disableFunctn(button){\n       button.disabled = true;\n   }\n&lt;/script&gt;\n&lt;asp:Button ID=\"button1\" UseSubmitBehavior=\"false\" OnClientClick=\"disableFunctn(this);\"/&gt;\n</code></pre>\n\n<p>fastest cheapest way: </p>\n\n<pre><code>&lt;asp:Button ID=\"button1\" UseSubmitBehavior=\"false\" OnClientClick=\"this.disabled=true;\"/&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a few controls that inherit from ASP.NET buttons and use 'onserverclick'.</p>\n\n<p>If the user clicks twice, the button fires two server side events. How can I prevent this?</p>\n\n<p>I tried setting \"this.disabled='true'\" after the click (in the 'onclick' attribute) via javascript, but that blocks the first postback as well.</p>\n",
            "last_activity_date": 1425513086,
            "question_id": 50426,
            "score": 6,
            "tags": [
                "asp.net",
                "javascript",
                "button"
            ],
            "title": "Preventing accidental double clicking on a button"
        },
        {
            "answer_count": 8,
            "answers": [
                {
                    "body": "<p>Why not taking the problem upside down?</p>\n\n<p>Select all $(.target) elements and then discard them from further treatment if their .$parents(.group) is empty, that would give sonething like:</p>\n\n<pre><code>$('.target').each(function(){\n    if (! $(this).parents('.group').length){\n        //the jqueryElem is empy, do or do not\n    } else {\n        //not empty do what you wanted to do\n    }\n});\n</code></pre>\n\n<p>Note that don't answer the title but literally gives you \"Selector B, inside of a result from Selector A\" </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<h2><strong>If I understand you:</strong></h2>\n\n<p>understanding your needs better and applying the specific classes you need, I think this is the syntax will work:</p>\n\n<pre><code>var targetsOfTopGroups  = $('.InterfaceGroup .Interface:not(.Interface .Interface):not(.Interface .InterfaceGroup)')\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/dalper01/LymyS/1/\" rel=\"nofollow\">This Fiddle</a> is an attempt to reproduce your scenario. Feel free to play around with it.</p>\n\n<hr>\n\n<p>I think I found the problem. You were not including the buttons in your <code>not</code> selector</p>\n\n<p>I changed the binding to be</p>\n\n<pre><code>        var Controls = $('.InterfaceGroup .Interface :button:not(.Interface .Interface :button):not(.Interface .InterfaceGroup :button)');\n</code></pre>\n\n<h2><a href=\"http://jsfiddle.net/dalper01/LymyS/5/\" rel=\"nofollow\">Fiddle</a></h2>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Well, I really don't want to be answering my own question on a bounty, so if anyone can provide a better or alternative implementation please do..</p>\n\n<p>However, being pressed to complete the project, I ended up working on this quite a bit and came up with a fairly clean jQuery plugin for doing a jQuery.find() style search while excluding child branches from the results as you go.</p>\n\n<p><strong>Usage to work with sets of elements inside nested views:</strong> </p>\n\n<pre><code>// Will not look in nested ul's for inputs\n$('ul').findExclude('input','ul');\n\n// Will look in nested ul's for inputs unless it runs into class=\"potato\"\n$('ul').findExclude('input','.potato');\n</code></pre>\n\n<p>More complex example found at <a href=\"http://jsfiddle.net/KX65p/3/\" rel=\"nofollow\">http://jsfiddle.net/KX65p/3/</a> where I use this to .each() a nested class and bind elements which occur in each nested view to a class. This let me make components server-side and client-side reflect each other's properties and have cheaper nested event handling.</p>\n\n<p><strong>Implemenation:</strong></p>\n\n<pre><code>// Find-like method which masks any descendant\n// branches matching the Mask argument.\n$.fn.findExclude = function( Selector, Mask, result){\n\n    // Default result to an empty jQuery object if not provided\n    result = typeof result !== 'undefined' ?\n                result :\n                new jQuery();\n\n    // Iterate through all children, except those match Mask\n    this.children().each(function(){\n\n        thisObject = jQuery( this );\n        if( thisObject.is( Selector ) ) \n            result.push( this );\n\n        // Recursively seek children without Mask\n        if( !thisObject.is( Mask ) )\n            thisObject.findExclude( Selector, Mask, result );\n    });\n\n    return result;\n}\n</code></pre>\n\n<p><em>(Condensed Version)</em>:</p>\n\n<pre><code>$.fn.findExclude = function( selector, mask, result )\n{\n    result = typeof result !== 'undefined' ? result : new jQuery();\n    this.children().each( function(){\n        thisObject = jQuery( this );\n        if( thisObject.is( selector ) ) \n            result.push( this );\n        if( !thisObject.is( mask ) )\n            thisObject.findExclude( selector, mask, result );\n    });\n    return result;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Maybe something like this would work:</p>\n\n<pre><code>$.fn.findExclude = function (Selector, Mask) {\n    var result = new jQuery();\n    $(this).each(function () {\n        var $selected = $(this);\n        $selected.find(Selector).filter(function (index) {\n            var $closest = $(this).closest(Mask);\n            return $closest.length == 0 || $closest[0] == $selected[0] || $.contains($closest, $selected);\n        }).each(function () {\n            result.push(this);\n        });\n    });\n    return result;\n}\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/JCA23/\" rel=\"nofollow\">http://jsfiddle.net/JCA23/</a></p>\n\n<p>Chooses those elements that are either not in mask parent or their closest mask parent is same as root or their closest mask parent is a parent of root.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>From my understanding, I would bind to the <code>.controls</code> elements and allow the event to bubble up to them.  From that, you can get the closest <code>.Interface</code> to get the parent, if needed.  This way you are added multiple handlers to the same elements as you go further down the rabbit hole.</p>\n\n<p>While I saw you mention it, I never saw it implemented.</p>\n\n<pre><code>//Attach the event to the controls to minimize amount of binded events\n$('.controls').on('click mouseenter mouseleave', function (event) { \n    var target = $(event.target),\n        targetInterface = target.closest('.Interface'),\n        role = target.data('role');\n\n    if (event.type == 'click') {\n        if (role) {\n            switch (role) {\n                case 'ReplyButton':\n                    console.log('Reply clicked');\n                    break;\n                case 'VoteUp':\n                    console.log('Up vote clicked');\n                    break;\n                case 'VoteDown':\n                    console.log('Down vote clicked');\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n});\n</code></pre>\n\n<p>Here is a <a href=\"http://jsfiddle.net/LymyS/10/\" rel=\"nofollow\">fiddle</a> showing what I mean.  I did remove your js in favor of a simplified display.</p>\n\n<p>It does seem that my solution may be a over simplification though...</p>\n\n<hr>\n\n<h1>Update 2</h1>\n\n<p>So <a href=\"http://jsfiddle.net/LymyS/13/\" rel=\"nofollow\">here</a> is a fiddle that defines some common functions that will help achieve what you are looking for...I think.  The <code>getInterfaces</code> provides a simplified function to find the interfaces and their controls, assuming all interfaces always have controls.</p>\n\n<p>There are probably fringe cases that will creep up though.  I also feel I need to apologize if you have already ventured down this path and I'm just not seeing/understanding!</p>\n\n<hr>\n\n<h1>Update 3</h1>\n\n<p>Ok, ok.  I think I understand what you want.  You want to get the <em>unique</em> interfaces and have a collection of controls that belong to it, that make sense now.</p>\n\n<p>Using <a href=\"http://jsfiddle.net/LymyS/14/\" rel=\"nofollow\">this fiddle</a> as the example, we select both the <code>.Interface</code> and the <code>.Interface .controls</code>.</p>\n\n<pre><code>var interfacesAndControls = $('.Interface, .Interface .controls');\n</code></pre>\n\n<p>This way we have a neat collection of the interfaces and the controls that belong to them in order they appear in the DOM.  With this we can loop through the collection and check to see if the current element has the <code>.Interface</code> associated with it.  We can also keep a reference to the current interface object we create for it so we can add the controls later.</p>\n\n<pre><code>if (el.hasClass('Interface')){\n    currentInterface = new app.Interface(el, [], eventCallback);\n\n    interfaces.push(currentInterface);\n\n    //We don't need to do anything further with the interface\n    return;\n};\n</code></pre>\n\n<p>Now when we don't have the <code>.Interface</code> class associate with the element, we got controls.  So let's first modify our <code>Interface</code> object to support adding controls and binding events to the controls as they are being added to the collection.</p>\n\n<pre><code>//The init function was removed and the call to it\nself.addControls = function(el){\n    //Use the mouseover and mouseout events so event bubbling occurs\n    el.on('click mouseover mouseout', self.eventCallback)\n    self.controls.push(el);\n}\n</code></pre>\n\n<p>Now all we have to do is add the control to the current interfaces controls.</p>\n\n<pre><code>currentInterface.addControls(el);\n</code></pre>\n\n<p>After all that, you should get an array of 3 objects (interfaces), that have an array of 2 controls each.</p>\n\n<p>Hopefully, THAT has everything you are looking for!</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>I think that this is the closest the <code>findExclude</code> can be optimized:</p>\n\n<pre><code>$.fn.findExclude = function (Selector, Mask) {\n    var result = $([]);\n    $(this).each(function (Idx, Elem) {\n        $(Elem).find(Selector).each(function (Idx2, Elem2) {\n            if ($(Elem2).closest(Mask)[0] == Elem) {\n                result =  result.add(Elem2);\n            }\n        });\n    });\n    return result;\n}\n</code></pre>\n\n<p>Also, see its <a href=\"http://jsfiddle.net/2ucVn/\" rel=\"nofollow\"><strong>fiddle</strong></a> with added logs with ellapsed time in milliseconds.</p>\n\n<p>I see that you are worried with the performances. So, I've run some tests, and this implementation takes no longer than 2 milliseconds, while your implementation (as the answer you have posted) sometimes takes around 4~7 millisecods.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>If you want to exclude element in you find, you can use a not filter. As for example, I've taken you function that exclude element and made it way shorter : </p>\n\n<pre><code>$.fn.findExclude = function( Selector, Mask,){\n    return this.find(Selector).not(this.find(Mask).find(Selector))\n}\n</code></pre>\n\n<p>Now, ill be honest with you, I did not fully understand what you want. But, when i took a look at your function, I saw what you were trying to do.</p>\n\n<p>Anyway, take a look at this fiddle, the result is the same as your : <a href=\"http://jsfiddle.net/KX65p/8/\">http://jsfiddle.net/KX65p/8/</a></p>\n",
                    "is_accepted": true,
                    "score": 5
                },
                {
                    "body": "<p>If your .interface classes had some kind of identifier this would seem to be rather easy.\nPerhabs you already have such an identifier for other reasons or choose to include one.</p>\n\n<p><a href=\"http://jsfiddle.net/Dc4dz/\" rel=\"nofollow\">http://jsfiddle.net/Dc4dz/</a></p>\n\n<pre><code>&lt;div class=\"interface\" name=\"a\"&gt;\n    &lt;div class=\"control\"&gt;control&lt;/div&gt;\n    &lt;div class=\"branch\"&gt;\n        &lt;div class=\"control\"&gt;control&lt;/div&gt;\n        &lt;div class=\"interface\"&gt;\n            &lt;div class=\"branch\"&gt;\n                &lt;div class=\"control\"&gt;control&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"interface\" name=\"c\"&gt;\n        &lt;div class=\"branch\"&gt;\n            &lt;div class=\"control\"&gt;control&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt; &lt;/div&gt;\n\n$( \".interface[name=c] .control:not(.interface[name=c] .interface .control)\" ).css( \"background-color\", \"red\" );\n$( \".interface[name=a] .control:not(.interface[name=a] .interface .control)\" ).css( \"background-color\", \"green\" );\n</code></pre>\n\n<p>Edit: And now Im wondering if you're tackling this problem from the wrong angle. </p>\n\n<blockquote>\n  <p>So I am trying to $('.Interface').each( bind to any .controls not\n  inside a deeper .Interface )</p>\n</blockquote>\n\n<p><a href=\"http://jsfiddle.net/Dc4dz/1/\" rel=\"nofollow\">http://jsfiddle.net/Dc4dz/1/</a></p>\n\n<pre><code>$(\".interface\").on(\"click\", \".control\", function (event) {\n    alert($(this).text());\n    event.stopPropagation();\n});\n</code></pre>\n\n<p>The event would be triggered on a .control; it would then bubble up to its .closest( \".interface\" ) where it would be processed and further propagation be stopped. Isn't that what you described?</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>TL;DR: <strong>How do I get an action like find(), but block traversal (not full stop, just skip) for a certain selector?</strong> </p>\n\n<p><strong>ANSWERS: <code>$(Any).find(Selector).not( $(Any).find(Mask).find(Selector) )</code></strong></p>\n\n<blockquote>\n  <p>There were many truly great answers, I wish I could some how distribute the bounty points more, maybe I should make some 50 pt bounties in response to some of these ;p I choose <a href=\"http://stackoverflow.com/a/24314604/578023\">Karl-Andr\u00e9 Gagnon's</a> because this answer managed to make findExclude unrequired in one, slightly long, line. While this uses three find calls and a heavy not filter, in most situations jQuery can use very fast implementation that skips traversal for most find()s.</p>\n  \n  <p>Especially good answers are listed below:</p>\n  \n  <p><a href=\"http://stackoverflow.com/a/24312203/578023\">falsarella</a>: Good improvement on <a href=\"http://stackoverflow.com/q/24159478/578023\">my solution</a>, findExclude(), best in many situatoins</p>\n  \n  <p><a href=\"http://stackoverflow.com/a/24295558/578023\">Zbyszek</a>: A filter-based solution similar to falsarella's, also good on efficiency</p>\n  \n  <p><a href=\"http://stackoverflow.com/a/24298600/578023\">Justin</a>: A completely different, but manageable and functional solution to the underlaying issues</p>\n  \n  <p>Each of these have their own unique merits and and are deserving of some mention.</p>\n</blockquote>\n\n<p>I need to descend into an element fully and compare selectors, returning all matched selectors as an array, but skip descending into the tree when another selector is encountered.</p>\n\n<p><img src=\"http://i.stack.imgur.com/FAyrM.png\" alt=\"Selection Path Illustration\">\n<strong>Edit: replacing original code sample with some from my site</strong></p>\n\n<p>This is for a message forum which may have reply message-groups nested inside any message. <br>\nNotice, however, we cannot use the message or content classes because the script is also used for other components outside of the forum. Only <code>InterfaceGroup</code>, <code>Interface</code> and <code>controls</code> classes are potentially useful - and preferably just Interface and controls.</p>\n\n<p><a href=\"http://jsfiddle.net/LymyS/6/\" rel=\"nofollow\">Interact with the code and see it in JS Fiddle, thanks Dave A, here</a> Click on the buttons while viewing a JavaScript console to see that the controls class is being bound to one extra time per level of .Interface nesting.</p>\n\n<p>Visual A, Forum Layout Struture:</p>\n\n<pre><code>    &lt;li class=\"InterfaceGroup\"&gt;\n        &lt;ul class=\"Interface Message\" data-role=\"MessagePost\" &gt;\n            &lt;li class=\"instance\"&gt; ... condensed ... &lt;/li&gt;\n            &lt;li class=\"InterfaceGroup\"&gt; ... condensed ...&lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;ul class=\"Interface Message\" data-role=\"MessagePost\" &gt;\n            &lt;li class=\"instance\"&gt; ... condensed ... &lt;/li&gt;\n        &lt;/ul&gt;\n        &lt;ul class=\"Interface Message\" data-role=\"MessagePost\" &gt;\n            &lt;li class=\"instance\"&gt; ... condensed ... &lt;/li&gt;\n            &lt;li class=\"InterfaceGroup\"&gt; ... condensed ...&lt;/li&gt;\n        &lt;/ul&gt;\n\n    &lt;/li&gt;\n</code></pre>\n\n<p>Inside of each <code>&lt;li class=\"InterfaceGroup\"&gt;</code> there could be any number of repetitions of the same structure (each group is a thread of messages) and/or deeper nesting such as..</p>\n\n<pre><code>    &lt;li class=\"InterfaceGroup\"&gt;\n\n        &lt;ul class=\"Interface Message\" data-role=\"MessagePost\" &gt;\n            &lt;li class=\"instance\"&gt; ... condensed ... &lt;/li&gt;\n            &lt;li class=\"InterfaceGroup\"&gt;\n\n                &lt;ul class=\"Interface Message\" data-role=\"MessagePost\" &gt;\n                    &lt;li class=\"instance\"&gt; ... condensed ... &lt;/li&gt;\n                    &lt;li class=\"InterfaceGroup\"&gt; ... condensed ...&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n</code></pre>\n\n<p>Inside of each <code>&lt;li class=\"instance\"&gt; ... &lt;/li&gt;</code> there are arbitrary places decided by another team where <code>class=\"controls\"</code> may appear and an event listener should be bound. Though these contain messages, other components structure their markup arbitrarily but will always have <code>.controls</code> inside of <code>.Interface</code>, which are collected into an <code>.InterfaceGroup</code>.A reduced-complexity version of the inner-content (for forum posts) is below for reference.</p>\n\n<p>Visual B, Message Contents with controls class:</p>\n\n<pre><code>&lt;ul class=\"Interface Message\" data-role=\"MessagePost\" &gt;\n    &lt;li class=\"instance\"&gt;\n      &lt;ul class=\"profile\"&gt; ...condensed, nothing clickable...&lt;/ul&gt;\n      &lt;ul class=\"contents\"&gt;\n        &lt;li class=\"heading\"&gt;&lt;h3&gt;Hi there!&lt;/h3&gt;&lt;/li&gt;\n        &lt;li class=\"body\"&gt;&lt;article&gt;TEST Message here&lt;/article&gt;&lt;/li&gt;\n        &lt;li class=\"vote controls\"&gt;\n          &lt;button class=\"up\" data-role=\"VoteUp\" &gt;&lt;i class=\"fa fa-caret-up\"&gt; &lt;/i&gt;&lt;br/&gt;1&lt;/button&gt;\n          &lt;button class=\"down\" data-role=\"VoteDown\" &gt;0&lt;br/&gt;&lt;i class=\"fa fa-caret-down\"&gt; &lt;/i&gt;&lt;/button&gt;\n        &lt;/li&gt;\n        &lt;li class=\"social controls\"&gt;\n          &lt;button class=\"reply-btn\" data-role=\"ReplyButton\" &gt;Reply&lt;/button&gt;\n        &lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/li&gt;\n    &lt;li class=\"InterfaceGroup\" &gt;    &lt;!-- NESTING OCCURRED --&gt;\n      &lt;ul class=\"Interface Message\" data-role=\"MessagePost\" &gt;\n          &lt;li class=\"instance\"&gt;... condensed ... &lt;/li&gt;\n          &lt;li class=\"InterfaceGroup\" &gt;... condensed ... &lt;/li&gt;\n      &lt;/ul&gt;\n   &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>We can only bind to controls that are <em>within an Interface class</em>, <code>instance</code> may or may not exist but Interface will. <strong>Events bubble to <code>.controls</code> elements and have a reference to the <code>.Interface</code> which holds them.</strong>.</p>\n\n<p>So I am trying to <code>$('.Interface').each( bind to any .controls not inside a deeper .Interface )</code></p>\n\n<p>That's the tricky part, because </p>\n\n<ul>\n<li><code>.Interface .controls</code> will select the same <code>.control</code> multiple times in the .each()</li>\n<li>.not('.Interface .Interface .controls') cancels out controls in any deeper nesting</li>\n</ul>\n\n<p>How can I do this using jQuery.find() or a similar jQuery method for this? </p>\n\n<p>I have been considering that, perhaps, using children with a not selector <em>could</em> work and <em>could</em> be doing the same thing as find under the hood, but I'm not so sure that it actually is or wont cause horrible performance. Still, an answer recursing .children effectively is acceptable.</p>\n\n<p><strong>UPDATE: Originally I tried to use a psuedo-example for brevity, but hopefully seeing a forum structure will help clarify the issue since they're naturally nested structures. Below I'm also posting partial javascript for reference, line two of the init function is most important.</strong></p>\n\n<p>Reduced JavaScript partial:</p>\n\n<pre><code>var Interface=function()\n{\n    $elf=this;\n\n    $elf.call=\n    {\n        init:function(Markup)\n        {\n            $elf.Interface = Markup;\n            $elf.Controls = $(Markup).find('.controls').not('.Interface .controls');\n            $elf.Controls.on('click mouseenter mouseleave', function(event){ $elf.call.events(event); });\n            return $elf;\n        },\n        events:function(e)\n        {\n            var classlist = e.target.className.split(/\\s+/), c=0, L=0;\n            var role = $(e.target).data('role');\n\n            if(e.type == 'click')\n            {\n                CurrentControl=$(e.target).closest('[data-role]')[0];\n                role = $(CurrentControl).data('role');\n\n                switch(role)\n                {\n                    case 'ReplyButton':console.log('Reply clicked'); break;\n                    case 'VoteUp':console.log('Up vote clicked'); break;\n                    case 'VoteDown':console.log('Down vote clicked'); break;\n                    default: break;\n                }\n            }\n        }\n    }\n};\n\n$(document).ready( function()\n{\n    $('.Interface').each(function(instance, Markup)\n    {\n        Markup.Interface=new Interface().call.init(Markup);\n    });\n} );\n</code></pre>\n",
            "last_activity_date": 1408406623,
            "question_id": 24159478,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "recursion",
                "traversal",
                "jquery-traversing"
            ],
            "title": "Skip recursion in jQuery.find() for a selector?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You can ofcourse allways switch to using <a href=\"http://en.wikipedia.org/wiki/BBCode\" rel=\"nofollow\">BB code</a>, use the same parser for the preview as the form, and then parse the ubb code server side when sending.</p>\n\n<p>See <a href=\"http://ufku.com/personal/bbc2html\" rel=\"nofollow\">this</a> article if you like to parse the BB code client side for the preview and <a href=\"https://www.google.com/search?q=bb+code+parser+php\" rel=\"nofollow\">this</a> for parsing the BB code server-side, assuming you send mails using PHP.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>I think since the tags that work in email clients is a relatively small (but still sizeable) list, you might want to use a whitelist of tags, similar to what you're doing right now. It would be a relatively complex regext to strip out tags but the ones you allow, but I think that's the only way you can allow some tags and not others. This is not foolproof though because the deletion of tags can be used to create new tags e.g in my input below, assume  is disallowed and you strip it out:</p>\n\n<pre><code>&lt;&lt;script&gt;script language=\"javascript\"&gt;Do something bad&lt;/&lt;script&gt;script&gt;\n</code></pre>\n\n<p>You might want to explore using markdown or some similar syntax that you could convert on the server-side into some valid HTML. </p>\n\n<p>See <a href=\"http://daringfireball.net/projects/markdown/\" rel=\"nofollow\">http://daringfireball.net/projects/markdown/</a></p>\n\n<p>That way, they can use a small subset of formatting markdowns and you can substitute them on the server side.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Best way to avoid most of the XSS attacks is:</p>\n\n<ul>\n<li><p>By sanitizing your data so text is properly escaped before it hits the html (you can build exceptions for your <code>&lt;b&gt;</code> and <code>&lt;hr&gt;</code> and others</p></li>\n<li><p>Using Content Security Policy to disable all inline scripting (also avoids man in\nthe middle attacks):\n<a href=\"http://www.html5rocks.com/en/tutorials/security/content-security-policy/\" rel=\"nofollow\">http://www.html5rocks.com/en/tutorials/security/content-security-policy/</a></p></li>\n</ul>\n\n<p>These two together will make your site pretty robust</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>In order to prevent Application from XSS attacks I usually use following rules:</p>\n\n<ol>\n<li><p>Determine the level of security for your application. <br>\nThere are several tools that can protect your application as for me better security is provided by <a href=\"https://www.owasp.org/index.php/XSS_%28Cross_Site_Scripting%29_Prevention_Cheat_Sheet\" rel=\"nofollow\">OWASP</a> tools: <a href=\"http://code.google.com/p/owasp-esapi-java/source/browse/trunk/src/main/java/org/owasp/esapi/codecs/CSSCodec.java\" rel=\"nofollow\">ESAPI</a>  or <a href=\"https://www.owasp.org/index.php/Category%3aOWASP_AntiSamy_Project_.NET\" rel=\"nofollow\">AntySami</a>. <br>\nNote:Using Sanitization does not guarantee filtering of all malicious code, so tools can be more or less secure.</p></li>\n<li><p>Understand whether you need to perform sanitization on client, server or both sides. In most cases it's enough to do this on server side.</p></li>\n<li><p>Understand whether you need to preserve html tags (and what tags you need to preserve) or not. As it was stated previously not allowing html tags is more secure solution.</p></li>\n</ol>\n\n<p>Based on this you can find a proper decision.<br>\n1. Personally for server code sanitization I used <a href=\"http://jsoup.org/cookbook/cleaning-html/whitelist-sanitizer\" rel=\"nofollow\">jSoup</a>. As for me it's pretty good tool to do this.<br>\nUsually In order to check input vulnerability I am using following vector:</p>\n\n<pre><code>';alert(String.fromCharCode(88,83,83))//\\';alert(String.fromCharCode(88,83,83))//\";alert(String.fromCharCode(88,83,83))//\\\";alert(String.fromCharCode(88,83,83))//--&gt;&lt;/SCRIPT&gt;\"&gt;'&gt;&lt;SCRIPT&gt;alert(String.fromCharCode(88,83,83))&lt;/SCRIPT&gt;\n</code></pre>\n\n<ol>\n<li>In case you need prevent XSS on client side you can use following tools: <br>\na) <a href=\"https://code.google.com/p/google-caja/wiki/JsHtmlSanitizer\" rel=\"nofollow\">JSSANItazer</a> seems a bit outdated <br>\nb) <a href=\"https://github.com/linkedin/dustjs/wiki/Dust-Tutorial\" rel=\"nofollow\">Dust</a> - maintained by twitter; <br></li>\n</ol>\n\n<p>These tools easily can allow you to sanitize your input and mainly is answer for your question. </p>\n\n<p>Server side tools mentioned above.</p>\n\n<p>Regarding 3rd point.\nIn case you don't need to handle html tags you can easily use ESAPI on server side and <a href=\"https://www.owasp.org/index.php/ESAPI_JavaScript_Readme\" rel=\"nofollow\">ESAPI4JS</a> on client side. As I understand it doesn't work for you.</p>\n\n<p>When I read your task I understood that you are storing email message therefore In your case it's required to sanitize input on server side (using one of tools) and it's as per you to add it or not on client side. You need only decide whether add another sanitization on UI side or render your \"preview page\" on server.</p>\n",
                    "is_accepted": true,
                    "score": 4
                }
            ],
            "body": "<p>I've got a problem in my current project:\nUsers can send an email using a textarea. We allow the user to put in whatever they want, and thus some HTML for formatting.\nFor example, the user should be allowed to use the <code>&lt;b&gt;</code> tag for bold text.</p>\n\n<p>After completing their email, the user should be able to view a preview of their email dynamically.</p>\n\n<p>There is a slight problem though, how can I avoid XSS hacks when the preview is being displayed?</p>\n\n<p>You can ofcourse strip them using <code>underscore.js</code>, but that wouldn't format their preview.</p>\n\n<p>So I have forbidden all HTML tags for now, and only allowed tags like <code>&lt;hr&gt;</code>, <code>&lt;b&gt;</code>, etc. </p>\n\n<p>What do you think about this solution? Is it secure enough?</p>\n",
            "last_activity_date": 1384332080,
            "question_id": 19824338,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "xss"
            ],
            "title": "Avoid XSS and allow some html tags with JavaScript"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Declare a content script in the manifest file with <code>\"run_at\": \"document_start\"</code> to get it to run as soon as possible, i.e. right after constructing the document root (when <code>&lt;head&gt;</code> does not exist yet).</p>\n\n<p>For your very specific example, it might be better to declare a content style instead, similar to content scripts, but using the <code>\"css\"</code> key instead of <code>\"js\"</code>.</p>\n\n<p>If you want to dynamically run a script as soon as possible, then call <a href=\"https://developer.chrome.com/extensions/tabs.html#method-executeScript\"><code>chrome.tabs.executeScript</code></a> when the <a href=\"https://developer.chrome.com/extensions/webNavigation.html#event-onCommitted\"><code>chrome.webNavigation.onCommitted</code></a> event is triggered.</p>\n",
                    "is_accepted": true,
                    "score": 7
                }
            ],
            "body": "<p>Is it possible to inject JS before page load, or is it necessary to use content scripts and way for the document to finish?</p>\n\n<p>For example, is there a faster way to execute JS that turns the page red as soon as it's opened?</p>\n",
            "last_activity_date": 1380927377,
            "question_id": 19191679,
            "score": 5,
            "tags": [
                "javascript",
                "google-chrome",
                "google-chrome-extension"
            ],
            "title": "Chrome extension: Inject JS before page load"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>Interesting....it doesn't look like it deep copies arrays.</p>\n\n<p>You have to deep copy each object individually.</p>\n\n<pre><code>var people_copy = [];\n$.each(people,function(i,obj) {\n    people_copy.push($.extend(true,{},obj)); \n});\n</code></pre>\n\n<p>EDIT: Sure, look at this fork of the OP's fiddle:</p>\n\n<p><a href=\"http://jsfiddle.net/s2bLv/4/\" rel=\"nofollow\">http://jsfiddle.net/s2bLv/4/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>And now here is the <strong>real</strong> answer:</p>\n\n<p>at the moment jquery can only clone Plain Javascript Objects, while you're using custom ones. And that's obvious, since jquery cannot know how exactly to instantiate a new custom object. So this works as expected:</p>\n\n<pre><code>var george = {};\ngeorge.favorite_books = [\"Curious George\"];\n\nvar kate = {};\nkate.favorite_books = [\"The Da Vinci Code\", \"Harry Potter\"];\n\nvar people = [kate, george];\n\nvar people_copy = $.extend(true, [], people);\n\nconsole.log(people_copy[0].favorite_books == people[0].favorite_books);\n</code></pre>\n\n<p>Reference to a jquery code: <a href=\"https://github.com/jquery/jquery/blob/master/src/core.js#L305\">https://github.com/jquery/jquery/blob/master/src/core.js#L305</a></p>\n\n<p>See that it checks if it's <code>jQuery.isPlainObject(copy)</code> or it's an array. Otherwise it performs just a reference copy.</p>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>This article and library may help:\n<a href=\"http://oranlooney.com/deep-copy-javascript/\" rel=\"nofollow\">deep copy javascript</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This is how i've done it after trying many approaches.</p>\n\n<pre><code>var newArray = JSON.parse(JSON.stringify(orgArray));\n</code></pre>\n\n<p>this will create a new deep copy, not a shallow copy.</p>\n\n<p>also this obviously will not clone events and functions, but the good thing you can do it in one line and it can be used for any king of object (arrays, strings, numbers, objects..)</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p><a href=\"http://jsfiddle.net/s2bLv/7/\" rel=\"nofollow\">jsFiddle here</a>.</p>\n\n<p>If deep copying worked, the output would be \"Curious George\" and not \"Ender's Game\". How can I make a deep copy? An answer to <a href=\"http://stackoverflow.com/questions/122102/most-efficient-way-to-clone-an-object\">this question</a> indicates that <code>$.extend(true, [], obj)</code> creates a deep copy. Yet my example shows that it doesn't.</p>\n\n<pre><code>function Person(){}\nPerson.prototype.favorite_books = [];\n\nvar george = new Person();\ngeorge.favorite_books = [\"Curious George\"];\n\nvar kate = new Person();\nkate.favorite_books = [\"The Da Vinci Code\", \"Harry Potter\"];\n\nvar people = [kate, george];\n\nvar people_copy = $.extend(true, [], people);\npeople_copy[0].favorite_books[0] = \"Ender's Game\";\n\n$('#text').text(people[0].favorite_books[0]);\n</code></pre>\n\n<p><strong>SOLUTION</strong></p>\n\n<p>I updated the jsFiddle. It turns out I need to deep copy each object in the array individually <strong>if the object is a custom object</strong> (that is, <code>$.isPlainObject</code> returns false).</p>\n",
            "last_activity_date": 1398260569,
            "question_id": 16512773,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "jquery.extend(true, [], obj) not creating a deep copy"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>you can use regex for that:</p>\n\n<pre><code>if(/^[0-9]{3}-[0-9]{3}-[0-9]{4}$/.test('123-456-7890'))\n    //ok\nelse\n    //not ok\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>very fast:</p>\n\n<pre><code>   function tecjam3(pattern) {\n  if (pattern.length !== 12) {\n    return false;\n  }\n\n  code = pattern.charCodeAt(0);\n  if (code &lt; 48 || code &gt; 57) return false;\n  code = pattern.charCodeAt(1);\n  if (code &lt; 48 || code &gt; 57) return false;\n  code = pattern.charCodeAt(2);\n  if (code &lt; 48 || code &gt; 57) return false;\n\n  code = pattern.charCodeAt(4);\n  if (code &lt; 48 || code &gt; 57) return false;\n  code = pattern.charCodeAt(5);\n  if (code &lt; 48 || code &gt; 57) return false;\n  code = pattern.charCodeAt(6);\n  if (code &lt; 48 || code &gt; 57) return false;\n\n  code = pattern.charCodeAt(8);\n  if (code &lt; 48 || code &gt; 57) return false;\n  code = pattern.charCodeAt(9);\n  if (code &lt; 48 || code &gt; 57) return false;\n  code = pattern.charCodeAt(10);\n  if (code &lt; 48 || code &gt; 57) return false;\n  code = pattern.charCodeAt(11);\n  if (code &lt; 48 || code &gt; 57) return false;\n\n  if (pattern.charAt(3) != '-' || pattern.charAt(7) != '-') return false;\n\n  return true;\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<pre><code>function whyNotBeSilly(pattern) {\n  return !(pattern.length !== 12 ||\n           (code = pattern.charCodeAt(0)) &lt; 48 || code &gt; 57 ||\n           (code = pattern.charCodeAt(1)) &lt; 48 || code &gt; 57 ||\n           (code = pattern.charCodeAt(2)) &lt; 48 || code &gt; 57 ||\n           (code = pattern.charCodeAt(4)) &lt; 48 || code &gt; 57 ||\n           (code = pattern.charCodeAt(5)) &lt; 48 || code &gt; 57 ||\n           (code = pattern.charCodeAt(6)) &lt; 48 || code &gt; 57 ||\n           (code = pattern.charCodeAt(8)) &lt; 48 || code &gt; 57 ||\n           (code = pattern.charCodeAt(9)) &lt; 48 || code &gt; 57 ||\n           (code = pattern.charCodeAt(10)) &lt; 48 || code &gt; 57 ||\n           (code = pattern.charCodeAt(11)) &lt; 48 || code &gt; 57 ||\n           pattern.charAt(3) != '-' || pattern.charAt(7) != '-');\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>A slight variation of one of the other answers, but I believe the built-in character class should be slightly faster than a custom one:</p>\n\n<pre><code>return /^\\d{3}-\\d{3}-\\d{4}$/.test(phoneNumber);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Declaring a regex object pre-compiles it for any future use. Since you are looping through several test strings, it should perform better to instantiate the object outside the function first:</p>\n\n<pre><code>var rex = /^\\d{3}-\\d{3}-\\d{4}$/;\n</code></pre>\n\n<p>Then the function would be:</p>\n\n<pre><code>function matchesPattern(pattern) {\n    return rex.test(pattern);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>even faster than before:</p>\n\n<pre><code>function tecjam5(pattern) {\n    var c;\n    return !(pattern.length != 12 ||\n    !(((c=pattern.charCodeAt(2))&gt;&gt;3) == 6 || (c&gt;&gt;1) == 28) ||\n    !(((c=pattern.charCodeAt(4))&gt;&gt;3) == 6 || (c&gt;&gt;1) == 28) ||\n    !(((c=pattern.charCodeAt(11))&gt;&gt;1) == 28 || (c&gt;&gt;3) == 6) ||\n    !(((c=pattern.charCodeAt(0))&gt;&gt;3) == 6 || (c&gt;&gt;1) == 28) ||\n    !(((c=pattern.charCodeAt(1))&gt;&gt;3) == 6 || (c&gt;&gt;1) == 28) ||\n    !(((c=pattern.charCodeAt(5))&gt;&gt;3) == 6 || (c&gt;&gt;1) == 28) ||\n    !(((c=pattern.charCodeAt(6))&gt;&gt;3) == 6 || (c&gt;&gt;1) == 28) ||\n    !(((c=pattern.charCodeAt(8))&gt;&gt;3) == 6 || (c&gt;&gt;1) == 28) ||\n    !(((c=pattern.charCodeAt(9))&gt;&gt;3) == 6 || (c&gt;&gt;1) == 28) ||\n    !(((c=pattern.charCodeAt(10))&gt;&gt;1) == 28 || (c&gt;&gt;3) == 6) ||\n    pattern.charAt(3) != '-' || pattern.charAt(7) != '-');\n}\n</code></pre>\n\n<p>(short: every number &lt; 8 only need compared once)</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>So, the challenge is that we are trying to detect if a string matches a fixed phone number pattern, this is a simple string pattern.</p>\n\n<p>The pattern is:</p>\n\n<pre><code>ddd-ddd-dddd\n</code></pre>\n\n<p>Where \"d \"represents a decimal digit and the minus symbol represents itself, \"-\"</p>\n\n<p>The patterns that are currently used for testing are, but can be increased if it is felt that there are not enough patterns to debunk an incorrect format.</p>\n\n<pre><code>\"012-345-6789\"\n\"0124-345-6789\"\n\"012-3456-6789\"\n\"012-345-67890\"\n\"01a-345-6789\"\n\"012-34B-6789\"\n\"012-345-678C\"\n\"012\"\n</code></pre>\n\n<p><strong>The goal , the answer that I seek, is to find the method that executes the fastest to return a <code>boolean</code> where <code>true</code> means that the pattern is good and <code>false</code> means that the pattern is bad.</strong></p>\n\n<p>Here is my current solution</p>\n\n<pre><code>function matchesPattern(pattern) {\n    if (pattern.length !== 12) {\n        return false;\n    }\n\n    var i = 0,\n        code;\n\n    while (i &lt; 12) {\n        code = pattern.charCodeAt(i);\n\n        if (i &gt; 8 || i % 4 !== 3) {\n            if (code &lt; 48 || code &gt; 57) {\n                return false;\n            }\n        } else if (code !== 45) {\n            return false;\n        }\n\n        i += 1;\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>It is available on <a href=\"http://jsfiddle.net/Xotic750/WA88n/\" rel=\"nofollow\">jsfiddle</a> along with the test patterns</p>\n\n<p>I have a <a href=\"http://jsperf.com/fastest-method-for-testing-a-fixed-phone-number-pattern/8\" rel=\"nofollow\">jsperf</a> created where I will add further suggested method so that the execution speeds of the methods can be compared to determine which is fastest</p>\n\n<p>Your method can be any valid javascript code that will execute in the a browser, you can use ECMA5 and target modern browsers if you so wish, or use cross-browser standards, the answer will not be deemed incorrect if it does not run on IE6 for example. You may also use any 3rd party libraries that you wish, i.e. jquery, lodash, underscore, etc etc. The final requirement is that the code must not fail to execute on Chrome v25 or Firefox v20</p>\n\n<p>I anything is unclear then please feel free to leave a comment and I will update my question to clarify.</p>\n\n<p>Answers that differ by only micro-optimisations count</p>\n\n<p>Please don't change your answer if it working and has been added to the performance chart. You can submit more than 1 answer.</p>\n\n<p>Update: Ok a week has passed and now it is time to announce the answer that I will choose.</p>\n\n<p>What has been learnt from this exercise? </p>\n\n<p>It would seem that regexs are comparatively slow, although fast enough for most tasks, when compared to a hand built javascript routine. (at least for small string patterns)</p>\n\n<p>There was no solution using any 3rd party library, jquery, undescore etc, nothing. Not so much of a surprise, but I though that someone may have tried.</p>\n\n<p>Unrolled loops still appear to be king. Many say that it is not necessary these days as the browsers are so advanced, but this test still showed them to be king of the pile.</p>\n\n<p>I'd like to thank all those that engaged in this question, and especially to those that actually submitted code for testing.</p>\n",
            "last_activity_date": 1368087280,
            "question_id": 16338714,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "regex",
                "underscore.js",
                "lodash"
            ],
            "title": "Fastest method for testing a fixed phone number pattern"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>I see that you are using <code>History.replaceState</code> which remove the last history state in the stack and replace it by the state given in parameters. </p>\n\n<p>I am using <code>History.pushState</code> in my website, and doesn't face such an issue because this function doesnt pull the last state but add the new state above it. It is making the back-forward buttons work correcly.</p>\n\n<p>I hope it helps you.</p>\n\n<p><strong>Edit:</strong> Using the example of <code>change of select tag</code> as event listenner:</p>\n\n<pre><code>function manageHistory(url, data, uniqueId){\n    var History = window.History;\n    if ( !History.enabled ) { return false; }        \n    History.replaceState({myData: data}, null, '?stateHistory=' + uniqueId);\n}\n\n$('select.select').change(function(e) {\n\n    e.preventDefault(); \n\n    // get url\n    // get data\n    // get uniqueId\n\n    manageHistory(url, data, uniqueId)\n\n\n});\n\nHistory.Adapter.bind(window, 'statechange', function() { \n    var State = History.getState();\n    // Launch the ajax call and update DOM using State.data.myData\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>What you need to do is as follows:</p>\n\n<ul>\n<li>If the page you came from is another page (e.g. you open page B and the previous page was page A) you do a <code>pushState</code>.</li>\n<li>If on the other hand the previous page was the same page as you're currently on you will simply do a <code>replaceState</code>, replacing the information with information about your current state.</li>\n</ul>\n\n<p>(<em>the tracking of the previous page you will need to do manually in some variable</em>)</p>\n\n<p>This means that if you go from A to B (pushState) to new state of B (replaceState), back button (goes to state info of A) and next forward (goes to the newest state of B). Additionally if you open A the first time you need to do a <code>replaceState</code> with information about the state of A so that A will have some state at least (otherwise it will have an empty data object).</p>\n\n<p>It might be useful to look at <a href=\"http://stackoverflow.com/a/10893931/1266242\">this answer</a> of mine, which is simply about the way you would built an ordered history stack with <code>pushStates</code>. Not exactly what you want of course, but it's a bit simpler written and together with the information in this answer it should get you the behaviour you want.</p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Also, </p>\n\n<p>relpaceState will always erase B state.</p>\n\n<p>Use <code>pushState</code> for A and B states.</p>\n\n<p>And use <code>replacestate</code>  for aaa, bbb, ccc states.</p>\n\n<pre><code>function manageHistoryBack(url, data, uniqueId){\n    var History = window.History;\n    if ( !History.enabled ) { return false; }        \n    History.replaceState({myData: data}, null, '?stateHistory=' + uniqueId);\n\n\n}\n\nfunction manageHistory(url, data, uniqueId){\n    var History = window.History;\n    if ( !History.enabled ) { return false; }        \n    History.pushState({myData: data}, null, '?stateHistory=' + uniqueId);\n\n\n}\n\n// Event listenner triggering aaa,bbb,ccc \n$('select.select').change(function(e) {\n\n    e.preventDefault(); \n\n    // get url\n    // get data\n    // get uniqueId\n\n    manageHistoryBack(url, data, uniqueId)\n\n\n});\n\n// Event listenner triggering A, B\n$('select.select').change(function(e) {\n\n    e.preventDefault(); \n\n    // get url\n    // get data\n    // get uniqueId\n\n    manageHistory(url, data, uniqueId)\n\n\n});\n\n\nHistory.Adapter.bind(window, 'statechange', function() { \n    var State = History.getState();\n    // Launch the ajax call and update DOM using State.data.myData \n});\n</code></pre>\n\n<p>Good luck</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I used (<a href=\"https://github.com/browserstate/history.js\" rel=\"nofollow\">https://github.com/browserstate/history.js</a>) and have a piece of code like this</p>\n\n<pre><code>History.Adapter.bind(window, 'statechange', function() { \n    var State = History.getState();\n    alert('Inside History.Adapter.bind: ' + State.data.myData);\n});\n\nfunction manageHistory(url, data, uniqueId){\n    var History = window.History;\n    if ( !History.enabled ) { return false; }        \n    History.replaceState({myData: data}, null, '?stateHistory=' + uniqueId);\n}\n</code></pre>\n\n<p>if I invoke <code>manageHistory()</code> after my ajax call, then <code>History.Adapter.bind</code> callback method get invoked correctly. However, if I click the browser back and then click forward button that <strong>result in page navigation from B to A, then A back to B</strong>, call back method inside <code>History.Adapter.bind</code> does not get invoked. This happen on both chrome and IE9. Anyone know how to fix this issue, I need to get the <code>State</code> after click browser back and then forward, to update my DOM. Please help</p>\n\n<p>Note: I use version 1.7.1 jquery.history.js for <strong>html4 browser IE9</strong></p>\n\n<p><strong>UPDATE (May 3 2013): Talk a bit more about my requirement</strong> </p>\n\n<p>Sorry I was busy with other task, that not until now that I have sometimes to look at this issue. So <code>oncomplete</code> of an ajax call, I took that information that return to me, and push it into state. My requirement is: that if I navigate from page A to page B, and then on page B, I execute numbers of ajax requests that result in DOM manipulation (let call each ajax request that result in DOM manipulation a <code>state</code>). If I click the back button, I should go back to page A, and if I click the forward button, I should go to page B with the last state that I was in.</p>\n\n<p>So my thought was, <code>oncomplete</code> of my ajax request, I would replace the last state in history with my current state (my json object is the html that I receive back from the ajax request). If I use push state, let say I am on page B, and I click one button, my page now change to <code>aaa</code>, I pushState <code>aaa</code>. Then if I click other button, my page now change to <code>bbb</code>, I pushState <code>bbb</code>. If I click the back button now, I would still be on page B, with my state in <code>History.Adapter.bind(window, 'statechange', function() {})</code> show as <code>aaa</code>, if I click back button again, i would go to page A. I do not want this behavior. I want that if I am on page B with state <code>bbb</code>, and click back, I would go to page A, and if I click forward, I would go to page B with state <code>bbb</code>. I hope this make more sense. Please help</p>\n",
            "last_activity_date": 1397604403,
            "question_id": 16164210,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "browser-history",
                "pushstate",
                "history.js"
            ],
            "title": "browser back and forward button does not invoke callback method with statechange event of history.js"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You could define a view model:</p>\n\n<pre><code>public class AddUserViewModel\n{\n    public int ProjectId { get; set; }\n    public int[] userAccountIds { get; set; }\n}\n</code></pre>\n\n<p>then adapt your controller action to take this view model as parameter:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult AddUsers(AddUserViewModel model)\n{\n    ...\n}\n</code></pre>\n\n<p>and finally invoke it:</p>\n\n<pre><code>function sendForm(projectId, target) {\n    $.ajax({\n        url: target,\n        type: 'POST',\n        contentType: 'application/json',\n        data: JSON.stringify({ \n            projectId: projectId, \n            userAccountIds: [1, 2, 3] \n        }),\n        success: ajaxOnSuccess,\n        error: function (jqXHR, exception) {\n            alert('Error message.');\n        }\n    });\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 18
                },
                {
                    "body": "<p>if you want to pass an array to mvc engine, send the input multiple times. change your code to the following :</p>\n\n<pre><code>function sendForm(projectId, target) {\nvar useraccountIds = new Array(1, 2, 3);\nvar data = { projectId: projectId };\nfor (var i = 0; i &lt; useraccountIds.length; i++) {\n  $.extend(true, data, {useraccountIds: useraccountIds[i]});\n}\n$.ajax({\n    traditional: true,\n    url: target,\n    type: \"POST\",\n    data: data,\n    success: ajaxOnSuccess,\n    error: function (jqXHR, exception) {\n        alert('Error message.');\n    }\n});\n</code></pre>\n\n<p>}</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><em>Put the serializable attribute on the class. Then it will try to convert the javascript object you are passing to the C# class.</em> </p>\n\n<p>in JS: </p>\n\n<pre><code>{\n   ProjectId = 0, \n   userAccountIds = []\n}\n\n// C#\n[Serializable] \npublic class AddUserViewModel\n{\n    public int ProjectId { get; set; }\n    public int[] userAccountIds { get; set; }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Using $.Ajax(), you can easily got the data from javascript to Controller in MVC.</p>\n\n<p>As like,</p>\n\n<blockquote>\n  <p><code>var uname = 'Nikhil Prajapati';</code></p>\n  \n  <p><code>$.ajax({</code></p>\n\n<pre><code>      url: \"/Main/getRequestID\",  // This is path of your Controller with Action Result.\n      dataType: \"json\",           // Data Type for sending the data\n\n      data: {                     // Data that will be passed to Controller\n          'my_name': uname,     // assign data like key-value pair       \n           // 'my_name'  like fields in quote is same with parameter in action Result\n      },\n\n      type: \"POST\",               // Type of Request\n      contentType: \"application/json; charset=utf-8\", //Optional to specify Content Type.\n\n      success: function (data) { // This function is executed when this request is succeed.\n              alert(data);\n      },\n\n      error: function (data) {\n              alert(\"Error\");   // This function is executed when error occurred.\n      }\n</code></pre>\n  \n  <p>)};</p>\n</blockquote>\n\n<p>and, Now At the Controller Side, </p>\n\n<blockquote>\n  <p>public ActionResult getRequestID(String my_name)\n     {</p>\n\n<pre><code>        MYDBModel myTable = new Models.MYDBModel();\n        myTable.FBUserName = my_name;\n        db.MYDBModel.Add(myTable);\n        db.SaveChanges();              // db object of our DbContext.cs\n        //return RedirectToAction(\u201cIndex\u201d);   // After that you can redirect to some pages\u2026\n        return Json(true, JsonRequestBehavior.AllowGet);    // Or you can get that data back after inserting into database.. This json displays all the details to our view as well.\n    }\n</code></pre>\n</blockquote>\n\n<p>For more reference..\njust visit..\n<a href=\"http://dotnetternikhil.wordpress.com/2013/07/23/send-data-from-java-script-to-controller-in-net-mvc/\" rel=\"nofollow\">Send Data from Java Script to Controller in MVC</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>In JS:</p>\n\n<pre><code>var myArray = new Array();\nmyArray.push(2);\nmyArray.push(3);\n$.ajax({\n            type: \"POST\",\n            url: '/MyController/MyAction',\n            data: { 'myArray': myArray.join() },\n            success: refreshPage\n        });\n</code></pre>\n\n<p>In MVC/ C#:</p>\n\n<pre><code>public PartialViewResult MyAction(string myArray)\n{\n   var myArrayInt = myArray.Split(',').Select(x=&gt;Int32.Parse(x)).ToArray();\n   //My Action Code Here\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 5
                }
            ],
            "body": "<p>My controller:</p>\n\n<pre><code>[HttpPost]\npublic ActionResult AddUsers(int projectId, int[] useraccountIds)\n{\n    ...\n}\n</code></pre>\n\n<p>I'd like to post the parameters to the controller via AJAX. Passing the int projectId isn't a problem, but I can't manage to post the int[].</p>\n\n<p>My JS code:</p>\n\n<pre><code>function sendForm(projectId, target) {\n    $.ajax({\n        traditional: true,\n        url: target,\n        type: \"POST\",\n        data: { projectId: projectId, useraccountIds: new Array(1, 2, 3) },\n        success: ajaxOnSuccess,\n        error: function (jqXHR, exception) {\n            alert('Error message.');\n        }\n    });\n}\n</code></pre>\n\n<p>I tried it with a test array but no success. :(\nI also tried to set traditional: true, or contentType: 'application/json; charset=utf-8' but no success as well ...</p>\n\n<p>The int[] useraccountIds posted to my controller is always null.</p>\n",
            "last_activity_date": 1383836881,
            "question_id": 15782417,
            "score": 5,
            "tags": [
                "javascript",
                "ajax",
                "asp.net-mvc",
                "jquery"
            ],
            "title": "Post JavaScript array with AJAX to asp.net MVC controller"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You will need to change the numbers to UNIX time stamps multiplied by 1000. This is from the API if you search Time Series Data:</p>\n\n<p><em>The time series support in Flot is based on Javascript timestamps,\ni.e. everywhere a time value is expected or handed over, a Javascript\ntimestamp number is used. This is a number, not a Date object. A\nJavascript timestamp is the number of milliseconds since January 1,\n1970 00:00:00 UTC. This is almost the same as Unix timestamps, except it's\nin milliseconds, so remember to multiply by 1000!</em></p>\n\n<p>There is a .Net example in the API:</p>\n\n<pre><code>public static int GetJavascriptTimestamp(System.DateTime input)\n{\nSystem.TimeSpan span = new System.TimeSpan(System.DateTime.Parse(\"1/1/1970\").Ticks);\nSystem.DateTime time = input.Subtract(span);\nreturn (long)(time.Ticks / 10000);\n}\n</code></pre>\n\n<p>Here is an example - <a href=\"http://jsfiddle.net/zxtFc/4/\">http://jsfiddle.net/zxtFc/4/</a></p>\n",
                    "is_accepted": true,
                    "score": 11
                }
            ],
            "body": "<p>I'm using Flot charts to display data for a certain period (to be selected by the user, e.g. last 30 days, last 7 days, from 1st Jan 2013 to 3rd Mar 2013 etc)</p>\n\n<p>So I want to display a line chart with x-axis as the date.</p>\n\n<p>E.g. if I've two days, startDate and endDate how do I make the X-axis display something like:</p>\n\n<p>1 Jan 2013 | 2 Jan 2013........................3 Mar 2013</p>\n\n<p>My code is as follows:\nThe data (currently it's static). </p>\n\n<pre><code>var mydata = [\n                [1, 2.4],\n                [2, 3.4 ],\n                [3, 4.5 ],\n                [4, 5 ],\n                [5,  5],\n                [6, 5],\n                [7, 2 ],\n                [8, 1 ],\n                [9, 1.5 ],\n                [10, 2.5 ],\n                [11,  3.5],\n                [12, 4 ],\n                [13, 4 ],\n                [14, 2.4],\n                [15, 3.4 ],\n                [16, 4.5 ],\n                [17, 5 ],\n                [18,  5],\n                [19, 5],\n                [20, 2 ],\n                [21, 1 ],\n                [22, 1.5 ],\n                [23,  2.5 ],\n                [24,   3.5],\n                [25,  4 ],\n                [26,  4 ],\n                [27,  2.5 ],\n                [28,   3.5],\n                [29,  4 ],\n                [30,  4 ],\n            ];\n\nvar plot = $.plot($(\"#mychart\"), [{\n                data: mydata,\n                label: \"Y-axis label\"\n            }], {\n                series: {\n                    lines: {\n                        show: true\n                    },\n                    points: {\n                        show: true\n                    },\n                    shadowSize: 2\n                },\n                grid: {\n                    hoverable: true,\n                    clickable: true\n                },\n                colors: [\"#37b7f3\", \"#d12610\", \"#52e136\"],\n                xaxis: {\n                     mode: \"time\", timeformat: \"%d/%m/%y\", minTickSize: [1, \"day\"]\n                },\n                yaxis: {\n                    ticks: 11,\n                    tickDecimals: 0,\n            min:0, max: 5\n                }\n            });\n</code></pre>\n\n<p>I realize that I need to make mydata look like [date, value]. Will that work?\nI've the data dynamically generated by the server in JSON in </p>\n\n<blockquote>\n  <p>[{date, value}, {date, value}...]</p>\n</blockquote>\n\n<p>format. \nPlease guide.</p>\n",
            "last_activity_date": 1362409634,
            "question_id": 15199814,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "charts",
                "flot"
            ],
            "title": "How to plot a date range on X-axis in Flot Charts?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>One way to alleviate some pain is to <a href=\"http://jquerymobile.com/demos/1.2.0/docs/pages/page-scripting.html\" rel=\"nofollow\">put your page-specific scripts inside  <code>data-role=\"page\"</code> element in the appropriate html files</a> and keep scripts that are the same for every page outside that element (at the and of the <code>body</code> and/or <code>head</code>).</p>\n\n<p>That way even if the user refreshes the page all necessary scripts will still be executed.\nOne problem though, before binding any handlers you need to unbind them first. Otherwise you'll end up having multiple handlers attached.</p>\n\n<p>To illustrate this:</p>\n\n<p>in <code>login.html</code> (<strong>updated</strong>):</p>\n\n<pre><code>&lt;div data-role=\"page\" id=\"loginpage\"&gt;\n    &lt;script&gt;\n        $(document).off('pageinit', '#loginpage').on('pageinit', '#loginpage', function() {\n            $(document).off('click', '#btnaccount').on('click', '#btnaccount', function(){\n                $.mobile.changePage(\"jqmaccount.html\", {reloadPage: true});\n            });\n            console.log(\"paginit in loginpage\");\n        });\n        $(document).off('pageshow', '#loginpage').on('pageshow', '#loginpage', function() {\n            console.log(\"pageshow in loginpage\");\n        });\n    &lt;/script&gt;\n    &lt;div data-role=\"content\"&gt;\n        &lt;a id=\"btnaccount\" href=\"#\" data-role=\"button\"&gt;Account&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>in <code>account.html</code> (<strong>updated</strong>):</p>\n\n<pre><code>&lt;div data-role=\"page\" id=\"accountpage\"&gt;\n    &lt;script&gt;\n    $(document).off('pageinit', '#accountpage').on('pageinit', '#accountpage', function() {\n        $(document).off('click', '#btnlogout').on('click', '#btnlogout', function(){\n            $.mobile.changePage(\"jqmlogin.html\", {reloadPage: true});\n        });\n        console.log(\"pageinit in accountpage\");\n    });\n    $(document).off('pageshow', '#accountpage').on('pageshow', '#accountpage', function() {\n        console.log(\"pageshow in accountpage\");\n    });\n    &lt;/script&gt;\n    &lt;div data-role=\"content\"&gt;\n        &lt;a id=\"btnlogout\" href=\"#\" data-role=\"button\"&gt;Logout&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>In this setup if the user refreshes account.html the Logout button on that page will still work.</p>\n",
                    "is_accepted": true,
                    "score": 2
                }
            ],
            "body": "<p>Some background;</p>\n\n<p><em>By default when you click a link to a separate HTML page JQM loads the first data-role=\"page\" on that page and attaches it to the DOM of the first page, the thing is JQM only loads that page div and not any scripts etc. that are outside that container.</em> </p>\n\n<p>I have a jQuery mobile app with 5 pages \"login.html\" \"menu.html\" \"account.html\" \"settings.html\" ..etc</p>\n\n<p>I change pages with like;</p>\n\n<pre><code> $.mobile.changepage(\"account.html\")\n</code></pre>\n\n<p>Also I put all my page load logic to my first page <strong>login.html</strong> like this;</p>\n\n<pre><code>&lt;script&gt;\n     $(document).on('pageinit', '#loginpage', function() {\n       //do some stuff run some ajax scripts and add some html to its body\n    });\n\n  $(document).on('pageinit', '#accountpage', function() {\n        //do some stuff run some ajax scripts and add some html to its body\n    });\n\n   $(document).on('pageinit', '#settingspage', function() {\n        //do some stuff run some ajax scripts and add some html to its body\n    });\n\n&lt;/script&gt;\n</code></pre>\n\n<p>While this app works well, Problem is I find it very fragile and hard to survive from unexpected errors. for example;</p>\n\n<p>Since how every page's body html will load is defined in <strong>login.html</strong>, this means if any moment user <strong>manually refreshs</strong> any of these pages, the page will load without running those scripts and load an empty page a without a body. In that moment since the correct DOM is deleted from memory, user is stuck in an app with full of empty pages, only way is he is smart enough to go and type \"login.html\" to address bar and only then all process can start smoothly.</p>\n\n<p>I think we cant %100 hide address bar, it is visible again after scroll down.</p>\n\n<p>SO this is one problem I come up with, some other weird things can happen and if somehow the DOM gets corrupted only way to use app again is typing login.html address bar, which users probably will not thing about it.</p>\n\n<p>How can I make this app more robust like detecting any DOM corruption or refresh and forward the user to login.html, so he does not stuck in an app with empty pages.</p>\n",
            "last_activity_date": 1372430647,
            "question_id": 14609080,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "html",
                "jquery-mobile"
            ],
            "title": "jQuery mobile how to detect refresh"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The second argument of <code>slice</code> is actually the end byte. Your code should look something like:</p>\n\n<pre><code> function parseFile(file){\n    var chunkSize = 2000;\n    var fileSize = (file.size - 1);\n\n    var foo = function(e){\n        console.log(e.target.result);\n    };\n\n    for(var i =0; i &lt; fileSize; i += chunkSize) {\n        (function( fil, start ) {\n            var reader = new FileReader();\n            var blob = fil.slice(start, chunkSize + start);\n            reader.onload = foo;\n            reader.readAsText(blob);\n        })(file, i);\n    }\n}\n</code></pre>\n\n<p>Or you can use this <a href=\"https://github.com/mgechev/blobreader\" rel=\"nofollow\"><code>BlobReader</code></a> for easier interface:</p>\n\n<pre><code>BlobReader(blob)\n.readText(function (text) {\n  console.log('The text in the blob is', text);\n});\n</code></pre>\n\n<p>More information:</p>\n\n<ul>\n<li><a href=\"https://github.com/mgechev/blobreader/blob/master/README.md\" rel=\"nofollow\">README.md</a></li>\n<li><a href=\"https://github.com/mgechev/blobreader/blob/master/docs/README.md\" rel=\"nofollow\">Docs</a></li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p><a href=\"http://www.w3.org/TR/FileAPI/#dfn-filereader\" rel=\"nofollow\">FileReader</a> API is asynchronous so you should handle it with <code>block</code> calls. A <code>for loop</code> wouldn't do the trick since it wouldn't wait for each read to complete before reading the next chunk.\nHere's a working approach.</p>\n\n<pre><code>function parseFile(file, callback) {\n    var fileSize   = file.size;\n    var chunkSize  = 64 * 1024; // bytes\n    var offset     = 0;\n    var self       = this; // we need a reference to the current object\n    var block      = null;\n\n    var foo = function(evt) {\n        if (evt.target.error == null) {\n            offset += evt.target.result.length;\n            callback(evt.target.result); // callback for handling read chunk\n        } else {\n            console.log(\"Read error: \" + evt.target.error);\n            return;\n        }\n        if (offset &gt;= fileSize) {\n            console.log(\"Done reading file\");\n            return;\n        }\n\n        block(offset, chunkSize, file);\n    }\n\n    block = function(_offset, length, _file) {\n        var r = new FileReader();\n        var blob = _file.slice(_offset, length + _offset);\n        r.onload = foo;\n        r.readAsText(blob);\n    }\n\n    block(offset, chunkSize, file);\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I have long file I need to parse. Because it's very long I need to do it chunk by chunk. I tried this:</p>\n\n<pre><code>function parseFile(file){\n    var chunkSize = 2000;\n    var fileSize = (file.size - 1);\n\n    var foo = function(e){\n        console.log(e.target.result);\n    };\n\n    for(var i =0; i &lt; fileSize; i += chunkSize)\n    {\n        (function( fil, start ) {\n            var reader = new FileReader();\n            var blob = fil.slice(start, chunkSize + 1);\n            reader.onload = foo;\n            reader.readAsText(blob);\n        })( file, i );\n    }\n}\n</code></pre>\n\n<p>After running it I see only the first chunk in the console. If I change 'console.log' to jquery append to some div I see only first chunk in that div. What about other chunks? How to make it work?</p>\n",
            "last_activity_date": 1423045507,
            "question_id": 14438187,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "parsing",
                "filereader"
            ],
            "title": "javascript FileReader - parsing long file in chunks"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>Why don't You use some <code>while</code> function like</p>\n\n<pre><code>$(function(){\n$('#next').click(function(){\n    var current_segment =$('#my_iframe').contents().find(\".highlight\");\n    var doWhile = true; // variable that will determine that You have to go again trough the loop\n    while (doWhile){\n       ... // Your code\n       // Every time where You put\n          // add class to stop repitative traversing\n          $(element).addClass('traversed_already');\n      // give also\n          doWhile = false; // to stop while function\n      // of course return will take You out as well\n    }\n</code></pre>\n\n<p>It should work.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>The solution below should meet your goals.  </p>\n\n<p>Notes:</p>\n\n<ul>\n<li>It uses some newer browser/JS features, so you may have to port it to jQuery or similar for cross-browser compatibility.</li>\n<li>It computes the full list of text nodes up front, so it will only work if your iframe DOM is static.</li>\n<li>It traverses all text nodes, not all elements that contain text.  That is, for the HTML <code>&lt;div id=\"a\"&gt;1&lt;div id=\"b\"&gt;2&lt;/div&gt;3&lt;/div&gt;</code>, it will select <code>1</code> then <code>2</code> then <code>3</code> rather than <code>a</code> then <code>b</code>.  I believe this is what you're asking for, but it wasn't 100% clear.</li>\n<li>I haven't tested it.</li>\n</ul>\n\n<p>The code:</p>\n\n<pre><code>// First grab the iframe's document object.\nvar iframeDocument = document.querySelector('iframe').contentDocument;\n\n// Then generate the list of all text nodes in the iframe.\nvar textNodes = [];\nfunction findTextNodes(curElem){\n    Array.prototype.slice.apply(curElem.childNodes).forEach(function(childNode) {\n        switch (childNode.nodeType) {\n            case Node.TEXT_NODE:\n                textNodes.push(childNode);\n            case Node.ELEMENT_NODE:\n                findTextNodes(childNode);\n        }\n    }, this);\n}\nfindTextNodes(iframeDocument.body);\n\n// Helper function to move the text node selection.\nfunction selectTextNodeAtIndex(index){\n    if (index &gt; 0) {\n        // Replace the old .selected wrapper with the original text node.\n        var oldWrapperElem = iframeDocument.querySelector('.selected');\n        oldWrapperElem.parentNode.replaceChild(textNodes[index - 1], oldWrapperElem);\n    }\n\n    // Replace the current text node with a .selected wrapper.\n    var wrapperElem = iframeDocument.createElement('span');\n    wrapperElem.classList.add('selected');\n    wrapperElem.textContent = textNodes[index].textContent;\n    textNodes[index].parentNode.replaceChild(wrapperElem, textNodes[index]);\n}\n\n// Finally, select the first text node and set up the click handler.\nvar curIndex = 0;\nselectTextNodeAtIndex(curIndex);\ndocument.querySelector('#next').addEventListener('click', function () {\n    curIndex++;\n    selectTextNodeAtIndex(curIndex);\n}, true);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I'm not sure how complicated the markup is of your iframe so I'm using some I've quickly created myself.</p>\n\n<p>Firstly, click on an element to note your starting position - the element will be highlighted - then click the 'Next' button and the code will run highlighting the next element it finds. Once all elements have been highlighted, nothing more will happen. Depending on how well nested your elements are depends on whether the code will see an element and highlight it. All the time what has been found will be visible in the console window and given a class of 'selected'.</p>\n\n<p>I know you asked for a text node based solution but I 'think' this could work. Try it and see anyway.</p>\n\n<p>iframe.html:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;iFrame&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;ul&gt;\n&lt;li&gt;&lt;abbr title=\"Cascading Style Sheets\"&gt;CSS&lt;/abbr&gt; (an abbreviation; &lt;code&gt;abbr&lt;/code&gt; markup used)&lt;/li&gt;\n&lt;li&gt;&lt;acronym title=\"radio detecting and ranging\"&gt;radar&lt;/acronym&gt; (an acronym; &lt;code&gt;acronym&lt;/code&gt; markup used)&lt;/li&gt;\n&lt;li&gt;&lt;b&gt;bolded&lt;/b&gt; (&lt;code&gt;b&lt;/code&gt; markup used - just bolding with unspecified semantics)&lt;/li&gt;\n&lt;li&gt;&lt;big&gt;big thing&lt;/big&gt; (&lt;code&gt;big&lt;/code&gt; markup used)&lt;/li&gt;\n&lt;li&gt;&lt;cite&gt;Origin of Species&lt;/cite&gt; (a book title; &lt;code&gt;cite&lt;/code&gt; markup used)&lt;/li&gt;\n&lt;li&gt;&lt;code&gt;a[i] = b[i] + c[i);&lt;/code&gt; (computer code; &lt;code&gt;code&lt;/code&gt; markup used)&lt;/li&gt;\n&lt;li&gt;here we have some &lt;del&gt;deleted&lt;/del&gt; text (&lt;code&gt;del&lt;/code&gt; markup used)&lt;/li&gt;\n&lt;li&gt;an &lt;dfn&gt;octet&lt;/dfn&gt; is an entity consisting of eight bits (&lt;code&gt;dfn&lt;/code&gt; markup used for the term being defined)&lt;/li&gt;\n&lt;li&gt;this is &lt;em&gt;very&lt;/em&gt; simple (&lt;code&gt;em&lt;/code&gt; markup used for emphasizing a word)&lt;/li&gt;\n&lt;li&gt;&lt;i lang=\"la\"&gt;Homo sapiens&lt;/i&gt; (should appear in italics; &lt;code&gt;i&lt;/code&gt; markup used)&lt;/li&gt;\n&lt;li&gt;here we have some &lt;ins&gt;inserted&lt;/ins&gt; text (&lt;code&gt;ins&lt;/code&gt; markup used)&lt;/li&gt;\n&lt;li&gt;&lt;q&gt;Hello!&lt;/q&gt; (&lt;code&gt;q&lt;/code&gt; markup used for quotation)&lt;/li&gt;\n&lt;li&gt;He said: &lt;q&gt;She said &lt;q&gt;Hello!&lt;/q&gt;&lt;/q&gt; (a quotation inside a quotation)&lt;/li&gt;\n&lt;li&gt;&lt;small&gt;this is not that important&lt;/small&gt; (&lt;code&gt;small&lt;/code&gt; markup used)&lt;/li&gt;\n&lt;li&gt;&lt;strike&gt;overstruck&lt;/strike&gt; (&lt;code&gt;strike&lt;/code&gt; markup used; note: &lt;code&gt;s&lt;/code&gt; is a nonstandard synonym for &lt;code&gt;strike&lt;/code&gt;)&lt;/li&gt;\n&lt;li&gt;&lt;strong&gt;this is highlighted text&lt;/strong&gt; (&lt;code&gt;strong&lt;/code&gt; markup used)&lt;/li&gt;\n&lt;li&gt;In order to test how subscripts and superscripts (&lt;code&gt;sub&lt;/code&gt; and &lt;code&gt;sup&lt;/code&gt; markup) work inside running text, we need some dummy text around constructs like x&lt;sub&gt;1&lt;/sub&gt; and H&lt;sub&gt;2&lt;/sub&gt;O (where subscripts occur). So here is some fill so that you will (hopefully) see whether and how badly the subscripts and superscripts mess up vertical spacing between lines. Now superscripts: M&lt;sup&gt;lle&lt;/sup&gt;, 1&lt;sup&gt;st&lt;/sup&gt;, and then some mathematical notations: e&lt;sup&gt;x&lt;/sup&gt;, sin&lt;sup&gt;2&lt;/sup&gt;&lt;i&gt;x&lt;/i&gt;, and some nested superscripts (exponents) too: e&lt;sup&gt;x&lt;sup&gt;2&lt;/sup&gt;&lt;/sup&gt; and f(x)&lt;sup&gt;g(x)&lt;sup&gt;a+b+c&lt;/sup&gt;&lt;/sup&gt; (where 2 and a+b+c should appear as exponents of exponents).&lt;/li&gt;\n&lt;li&gt;&lt;u&gt;underlined&lt;/u&gt; text (&lt;code&gt;u&lt;/code&gt; markup used)&lt;/li&gt;\n&lt;li&gt;the command &lt;code&gt;cat&lt;/code&gt;&lt;var&gt;filename&lt;/var&gt; displays the file specified by the &lt;var&gt;filename&lt;/var&gt; (&lt;code&gt;var&lt;/code&gt; markup used to indicate a word as a variable).&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>demo.html:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=\"text/javascript\" src=\"http://code.jquery.com/jquery-latest.js\"&gt;&lt;/script&gt;&lt;script type=\"text/javascript\"&gt;\n$(document).ready(function(){\n    $('#iframe').load(function(){\n        $all = $('#iframe').contents().find('body *').filter(function(){\n            var $this = $(this);\n            return $this.children().length == 0 &amp;&amp; $.trim($this.text()).length &gt; 0;\n        });         \n\n        $('#next').on('click', highlightTextNode);\n        $('#iframe').contents().find('body').on('click', highlightTextNode);\n    });\n\n    var highlightTextNode = function(event){\n        event.stopPropagation();\n        $el = $(event.target).children().length == 0 ? $(event.target) : $(event.target).find(':first-child').first();\n\n        if(!$el.hasClass('selected') &amp;&amp; $.trim($el.text()).length &gt; 0 &amp;&amp; $('#iframe').contents().find('body').find('.selected').length == 0){\n            $el.addClass('selected').css({backgroundColor: 'yellow'});\n            console.log($.trim($el.text()));\n        } else {\n            var found = false;\n            var finished = false;\n\n            $all.each(function(){\n                finished = true;\n\n                if(found &amp;&amp; !$(this).hasClass('selected')){\n                    found = false;\n                    $(this).addClass('selected').css({backgroundColor: 'yellow'});\n                    console.log($.trim($(this).text()));\n                    finished = false;\n                    return false;\n                }\n\n                if($(this).hasClass('selected'))\n                    found = true;\n            });\n\n            if(finished){ //start at the beginning again\n                $all.each(function(){                   \n                    if(found &amp;&amp; !$(this).hasClass('selected')){\n                        found = false;\n                        $(this).addClass('selected').css({backgroundColor: 'yellow'});\n                        console.log($.trim($(this).text()));\n                        return false;\n                    }\n\n                    if($(this).hasClass('selected'))\n                        found = true;                   \n                });\n            }\n        }\n    }       \n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;input type=\"button\" value=\"NEXT\" id=\"next\" /&gt;\n&lt;iframe id=\"iframe\" src=\"iframe.html\" width=\"100%\" height=\"100%\"&gt;&lt;/iframe&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Here's a minimal DOM traversal script. I don't know if it's the very best, or the most minimal, but I'm pretty sure it's working (only browser testing, but seems solid).</p>\n\n<pre><code>getNextElement = function(element, goingUp) {\n  if (element.firstChild &amp;&amp; !goingUp){\n    return element.firstChild;\n  }\n  else if (element.nextSibling){\n    return element.nextSibling;\n  }\n  else if (element.parentNode) {\n    return arguments.callee(element.parentNode, true);\n  }\n};\n</code></pre>\n\n<p>This will actually hit text nodes as well as others. I think you could actually make use of that. But if you only want elements, just change <code>firstChild</code> to <code>firstElementChild</code> and <code>nextSibling</code> to <code>nextElementSibling</code>. Although that won't be supported by IE8 or less.\nTry it out by running <code>element = getNextElement(document.getElementsByTagName('body')[0])</code> and then running </p>\n\n<pre><code>if (element.style){element.style.backgroundColor = 'yellow'};\nelement = getNextElement(element);\n</code></pre>\n\n<p>repeatedly to walk (and highlight) the DOM.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The simplest solution was the <strong>DOM TreeWalker</strong>, my luck that it took me too long to figure that out.</p>\n\n<p><a href=\"http://paul.kinlan.me/dom-treewalker/\" rel=\"nofollow\">Here</a> is the link to it. Hope it will help someone facing the same problem and instead of speding hours or days it will help them right away.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>I have an iframe and by clicking on any of its content , css class is applied on it (say \"selected\"). After that </p>\n\n<p><strong>when next button is clicked, it should apply this class on next element that contains text</strong></p>\n\n<p>and return the text. Traversing should be text node based. Though i did tried to do something very ugly but i guess there must some simple solution available.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>$(function(){\n$('#next').click(function(){\n    var current_segment =$('#my_iframe').contents().find(\".highlight\");\n\n    // if current segment has children\n    if($(current_segment).children().not('.traversed_already').length &gt; 0){\n        $(current_segment).children().not('.traversed_already').first().addClass('highlight');\n        $(current_segment).removeClass('highlight');\n\n        // add class to stop repitative traversing\n        $(current_segment).addClass('traversed_already');\n    //                                                return false;\n\n    // if has siblings and no children\n    }else if($(current_segment).siblings().not('.traversed_already').length &gt; 0 \n        &amp;&amp; $(current_segment).children().not('.traversed_already').length &lt;= 0){\n        $(current_segment).siblings().not('.traversed_already').first().addClass('highlight');\n        $(current_segment).removeClass('highlight');\n\n        // add class to stop repitative traversing\n        $(current_segment).addClass('traversed_already'); \n    //                                                return false;\n\n    // if no siblings and no children\n    }else if($(current_segment).siblings().not('.traversed_already').length == 0 &amp;&amp; \n        $(current_segment).children().not('.traversed_already').length == 0){\n\n        // check the very first parent if traversed check its siblings\n        var parent_segment = $(current_segment).parent().first();\n\n        // if parent is already traversed already\n        if($(parent_segment).hasClass('traversed_already')){\n\n            // if parent is traversed but parent has sibling that is untraversed\n            if($(parent_segment).siblings().not('.traversed_already').length &gt; 0){\n                $(parent_segment).siblings().not('.traversed_already').first().addClass('highlight');\n                $(parent_segment).removeClass('highlight');\n\n                // add class to stop repitative traversing\n                $(parent_segment).addClass('traversed_already');\n            //                                                        return false;\n            // if no untraversed sibling then search for parent(s)\n            }else{\n                // Look for the parent in Dom tree which is not traversed\n                $(parent_segment).parents().not('.traversed_already').first().addClass('highlight');\n                $(parent_segment).removeClass('highlight');\n\n                // add class to stop repitative traversing\n                $(parent_segment).addClass('traversed_already');\n            //                                                        return false;\n            } // end of if traversed parent has siblings(untraversed).\n\n        // if parent is not traversed\n        } else {\n            $(parent_segment).addClass('highlight');\n            $(current_segment).removeClass('highlight');\n\n            // add class to stop repitative traversing\n            $(current_segment).addClass('traversed_already');\n        } // end of if parent is already traversed or not\n\n    //                                                return false;\n    } // end of else if no siblings and no parents\n</code></pre>\n\n<p>Problem with this Code is:</p>\n\n<p>It just traverse the next element by seeing the child first and then siblings and then parents siblings but it fails when there comes parents > parents > parents siblings.</p>\n\n<p><em><strong>Note : i believe this can be done through DOM traversing very easily but i am not able to hit the right solution.</em></strong></p>\n",
            "last_activity_date": 1359518990,
            "question_id": 14153160,
            "score": 5,
            "tags": [
                "javascript",
                "jquery"
            ],
            "title": "How to get next text element of iframe on click each time?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>You may want to look at this post <a href=\"http://stackoverflow.com/questions/2653096/why-use-mvvm\">Why use MVVM?</a></p>\n\n<p>I have been using MVVM and have found it very useful for the front end. Rendering is much quicker and smoother and view-model binding is done on the client-side. </p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It's mostly because of scalability, every MV* frameworks allows You to make modular code. To give users high experience by using websites, JS code and some fireworks are necessary. JavaScript gives also posibility to relieve backend side from unnecessary computations and because of these simple facts and the scale of currently made websites (huge amount of modules on backend and on frontend side), such MV* JavaScripts frameworks are made and becomes more and more popular.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Backbone lies in the client [browser], in order to have fast interaction and experience.\nThis way you can take advantage of real-time communication via <a href=\"http://en.wikipedia.org/wiki/WebSocket\">websockets</a>, or <a href=\"http://www.html5rocks.com/en/features/storage\">LocalStorage</a> for example.</p>\n\n<p>Using a client MVC [MVVM better, in Backbone's case] implies that you just supply a RESTful set of resource from the server [which you can reuse in many other context], and not a full HTML generation stack.</p>\n\n<p>Said that, client side MVC is closer to desktop/mobile UI-oriented MVC implementations [see Cocoa / iOS] than to web-oriented MVC [Symfony, Django, RoR...].</p>\n",
                    "is_accepted": true,
                    "score": 9
                },
                {
                    "body": "<p>It seems like one of the reasons these JavaScript MVC frameworks started popping was in an effort to to bring some structure to client side JavaScript code.  JavaScript has been used more and more in web apps in recent years because it enhances the client side experience so much but when you keep adding more and more, it can quickly become a big cobbled mess of spaghetti code.  If you've ever inherited a web app that has tons of JavaScript, you know it can take a loooong time to sort through all the callbacks, functions, DOM manipulation, etc. that is going on just to to grasp how to app works and is tied together.  It can be really messy.  These JavaScript MVC frameworks help organize and bring structure too all this code so it doesn't get out of control.  </p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Why do we need to use a JS MVC framework(backbone) if we are already using a backend MVC framework(e.g Django or ROR). I can't understand the concept of two MVC frameworks and how they fit together. I thought all front-end related files or logic(html, css, js) come under the views component of the back-end framework. Can someone explain this in simpler terms? </p>\n",
            "last_activity_date": 1377371428,
            "question_id": 13838395,
            "score": 5,
            "tags": [
                "javascript",
                "model-view-controller",
                "backbone.js",
                "frameworks",
                "backend"
            ],
            "title": "why do we need backbone js or any JS MVC framework?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The seed is a numeric value, so my guess is that it would be what you get if you call <code>Date.now()</code> (or <code>new Date().getTime()</code> for older browsers).</p>\n\n<p>However, I'm not sure when that seed is taken, or if the seed is isolated to the current page or common to the entire browser process. Predicting random numbers is supposed to be very hard or impossible, that's the whole point of them being random.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>it's likely that there's more to the seed than the millisecond count, because you can call Math.random() many times in the same millisecond and it will return a different value each time.</p>\n\n<pre><code>for (var i = 0; i &lt; 3; i++) {\n    console.log(Math.random(), (new Date()).getTime());\n};\n</code></pre>\n\n<p>My output:</p>\n\n<pre><code>0.0617244818713516 1352433709108\n0.8024995378218591 1352433709108\n0.2409922298975289 1352433709108\n</code></pre>\n\n<p>If I were implementing it I might make the initial seed based on a millisecond count, and then add 1 each time it's called, so that you wouldn't get the same seed value twice.</p>\n\n<p>Here's a 100% accurate way of predicting the output from <code>Math.random()</code>:</p>\n\n<pre><code>Math.random = function () { return .5; };\n</code></pre>\n\n<p>Now <code>Math.random()</code> will always return <code>.5</code>.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>No, you cannot predict the seed, but you can preemtively generate enough numbers in order to accurately brute force a match.</p>\n\n<p>Anyhow, start of by reading the wiki page on RNG's - <a href=\"http://en.wikipedia.org/wiki/Random_number_generation\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Random_number_generation</a>, the look at the practical implementations of PRNG's.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I looked through the Rhino <a href=\"https://github.com/mozilla/rhino/blob/master/src/org/mozilla/javascript/NativeMath.java\">source code</a> to find out which pseudo-random function they use. Apparently they <a href=\"https://github.com/mozilla/rhino/blob/master/src/org/mozilla/javascript/NativeMath.java#L181\">fall back</a> to the <code>Math.random</code> function defined in the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Math.html#random%28%29\">Java standard library</a>.</p>\n\n<p>The documentation for <code>Math.random</code> says:</p>\n\n<blockquote>\n  <p>Returns a double value with a positive sign, greater than or equal to 0.0 and less than 1.0. Returned values are chosen pseudorandomly with (approximately) uniform distribution from that range.</p>\n  \n  <p>When this method is first called, it creates a single new pseudorandom-number generator, exactly as if by the expression</p>\n</blockquote>\n\n<pre><code>new java.util.Random\n</code></pre>\n\n<blockquote>\n  <p>This new pseudorandom-number generator is used thereafter for all calls to this method and is used nowhere else.</p>\n  \n  <p>This method is properly synchronized to allow correct use by more than one thread. However, if many threads need to generate pseudorandom numbers at a great rate, it may reduce contention for each thread to have its own pseudorandom-number generator.</p>\n</blockquote>\n\n<p>So I checked the documentation for <code>java.util.Random</code> and found <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Random.html#Random%28%29\">this</a> (for the default constructor):</p>\n\n<blockquote>\n  <p>Creates a new random number generator. Its seed is initialized to a value based on the current time:</p>\n</blockquote>\n\n<pre><code>public Random() { this(System.currentTimeMillis()); }\n</code></pre>\n\n<blockquote>\n  <p>Two Random objects created within the same millisecond will have the same sequence of random numbers.</p>\n</blockquote>\n\n<p>So now we know for sure that the seed is the current time in milliseconds. Also, the documentation for the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Random.html#Random%28long%29\">second constructor</a> says:</p>\n\n<blockquote>\n  <p>Creates a new random number generator using a single long seed:</p>\n</blockquote>\n\n<pre><code>public Random(long seed) { setSeed(seed); }\n</code></pre>\n\n<blockquote>\n  <p>Used by method next to hold the state of the pseudorandom number generator.</p>\n</blockquote>\n\n<p>The <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Random.html#setSeed%28long%29\">documentation</a> for the <code>setSeed</code> method says:</p>\n\n<blockquote>\n  <p>Sets the seed of this random number generator using a single long seed. The general contract of setSeed is that it alters the state of this random number generator object so as to be in exactly the same state as if it had just been created with the argument seed as a seed. The method setSeed is implemented by class Random as follows:</p>\n</blockquote>\n\n<pre><code>synchronized public void setSeed(long seed) {\n    this.seed = (seed ^ 0x5DEECE66DL) &amp; ((1L &lt;&lt; 48) - 1);\n    haveNextNextGaussian = false;\n}\n</code></pre>\n\n<blockquote>\n  <p>The implementation of setSeed by class Random happens to use only 48 bits of the given seed. In general, however, an overriding method may use all 64 bits of the long argument as a seed value. Note: Although the seed value is an AtomicLong, this method must still be synchronized to ensure correct semantics of haveNextNextGaussian.</p>\n</blockquote>\n\n<p>The <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Random.html#nextDouble%28%29\">actual method</a> used to generate the random number is <code>nextDouble</code>:</p>\n\n<blockquote>\n  <p>Returns the next pseudorandom, uniformly distributed double value between 0.0 and 1.0 from this random number generator's sequence.</p>\n</blockquote>\n\n<p>The implementation of the <code>nextDouble</code> function is as follows:</p>\n\n<pre><code>public double nextDouble() {\n    return (((long)next(26) &lt;&lt; 27) + next(27))\n        / (double)(1L &lt;&lt; 53);\n}\n</code></pre>\n\n<p>Clearly it <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Random.html#next%28int%29\">depends</a> on the <code>next</code> function:</p>\n\n<blockquote>\n  <p>Generates the next pseudorandom number. Subclass should override this, as this is used by all other methods.</p>\n</blockquote>\n\n<p>The implementation of the <code>next</code> function is as follows:</p>\n\n<pre><code>synchronized protected int next(int bits) {\n    seed = (seed * 0x5DEECE66DL + 0xBL) &amp; ((1L &lt;&lt; 48) - 1);\n    return (int)(seed &gt;&gt;&gt; (48 - bits));\n}\n</code></pre>\n\n<p>That's the pseudo-random function you are looking for. As it's said in the documentation:</p>\n\n<blockquote>\n  <p>This is a linear congruential pseudorandom number generator, as defined by D. H. Lehmer and described by Donald E. Knuth in The Art of Computer Programming, Volume 2: Seminumerical Algorithms, section 3.2.1.</p>\n</blockquote>\n\n<p>Note however that this is only the random number generator used by Rhino. Other implementations like Spidermonkey and V8 may have their own pseudo-random number generators.</p>\n",
                    "is_accepted": true,
                    "score": 10
                }
            ],
            "body": "<p>Okay, so I'm doing some research on how random numbers are generated with the Math.random method. So far I learned that it starts with a \"random\" seed, and that seed is plugged into some complex equation to create a random number. If the seed is always the same, will the outcome always be the same?</p>\n\n<p>I heard that the seeds for Math.random are generated through the current time, is that correct? They must use the current time all the way down to the mili-seconds or something, because if you didn't you would get the same outcome.</p>\n\n<p>What exactly is the seed? Is it the time such as \"10:45\" or the time AND date such as \"10:45 11/8/12\" or some combination?</p>\n\n<p>How can I find the seed, so I can predict the output?</p>\n\n<p>I want to be able to plug this:</p>\n\n<pre><code>alert(Math.floor((Math.random()*10)+1));\n</code></pre>\n\n<p>into my url bar, and be able to predict the result. Is that possible?</p>\n",
            "last_activity_date": 1352441974,
            "question_id": 13301839,
            "score": 5,
            "tags": [
                "javascript",
                "random",
                "seed"
            ],
            "title": "Predict the Seed of Javascript&#39;s Math.random"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>Try this..</p>\n\n<h1>Client Side</h1>\n\n<pre><code>var json=[1,2,3,4];\n$.ajax({\n            url:\"myUrl\",\n            type:\"POST\",\n            dataType:'json',\n            data: {json:json},\n            success:function(data){\n                // codes....\n            },\n\n\n        });\n</code></pre>\n\n<h1>Server Side</h1>\n\n<pre><code>String[] myJsonData = request.getParameterValues(\"json[]\");\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                },
                {
                    "body": "<p>You need to post your javascript data object like this..</p>\n\n<p><a href=\"http://api.jquery.com/jQuery.post/\" rel=\"nofollow\">http://api.jquery.com/jQuery.post/</a></p>\n\n<pre><code>$.post(\"test.php\", { name: \"John\", time: \"2pm\" },\n   function(data) {\n     alert(\"Data Loaded: \" + data);\n   });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>You have to convert your array to a JSON type so instead of [] it needs to read</p>\n\n<pre><code> var array = [ 1, 2, 3, 4 ];\n</code></pre>\n\n<p>to do this you need to call </p>\n\n<pre><code> var json = JSON.stringify(array)\n</code></pre>\n\n<p>then you can pass it into your ajax call</p>\n\n<pre><code> $.ajax({ url:\"myUrl\",\n          type:\"POST\",\n          data: json,\n          dataType:'json',\n          success:function(data){\n             // codes....\n          }})\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I want to send java script array to servlet by using ajax.\nlike that.</p>\n\n<pre><code>var json=[1,2,3,4];\n$.ajax({\n            url:\"myUrl\",\n            type:\"POST\",\n            dataType:'json',\n            success:function(data){\n                // codes....\n            },\n            data:json\n\n        });\n</code></pre>\n\n<p>when I use</p>\n\n<pre><code>request.getParameterMap();\nrequest.getParameter(\"json\");\nrequest.getParameterValues(\"json\");\n</code></pre>\n\n<p>it's return null ..\nhow i can make it?\nthnx.</p>\n",
            "last_activity_date": 1408963503,
            "question_id": 13241668,
            "score": 5,
            "tags": [
                "java",
                "javascript",
                "jquery",
                "ajax",
                "servlets"
            ],
            "title": "how to send array to servlet using jQuery $.ajax?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>The keycodes are different. Keypad 0-9 is Keycode <code>96</code> to <code>105</code></p>\n\n<p>Your <code>if</code> statement should be:</p>\n\n<pre><code>if ((e.keyCode &gt;= 48 &amp;&amp; e.keyCode &lt;= 57) || (e.keyCode &gt;= 96 &amp;&amp; e.keyCode &lt;= 105)) { //0-9 only\n</code></pre>\n\n<p>Here's a <a href=\"http://www.cambiaresearch.com/articles/15/javascript-char-codes-key-codes\">reference guide for keycodes</a></p>\n",
                    "is_accepted": true,
                    "score": 22
                },
                {
                    "body": "<p>Here is the guide for  every key  on the keyboard</p>\n\n<p><a href=\"http://help.adobe.com/en_US/AS2LCR/Flash_10.0/help.html?content=00000520.html\" rel=\"nofollow\">http://help.adobe.com/en_US/AS2LCR/Flash_10.0/help.html?content=00000520.html</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can simply run</p>\n\n<pre><code>$(document).keyup(function(e) {\n    console.log(e.keyCode);\n});\n</code></pre>\n\n<p>to see the codes of pressed keys in the browser console.</p>\n\n<p>Or you can find key codes here: <a href=\"https://developer.mozilla.org/en-US/docs/DOM/KeyboardEvent#Key_location_constants\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/DOM/KeyboardEvent#Key_location_constants</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>You can use this to figure out keyCodes easily:</p>\n\n<pre><code>$(document).keyup(function(e) {\n    // Displays the keycode of the last pressed key in the body\n    $(document.body).html(e.keyCode);\n});\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/vecvc4fr/\" rel=\"nofollow\">http://jsfiddle.net/vecvc4fr/</a></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Do the numbers on a numeric keypad have a different keycode than the numbers at the top of a keyboard?</p>\n\n<p>Here is some javascript that is supposed to run on the keyup event, but only if the keycode is between 48 and 57.  Here is the code:</p>\n\n<pre><code>$('#rollNum').keyup(function(e) {\nif(e.keyCode &gt;= 48 &amp;&amp; e.keyCode &lt;= 57) { //0-9 only\nvar max = 15;\nvar textLen = $(this).val().length;\nvar textLeft = max - textLen;\n. . . \n</code></pre>\n\n<p>My problem is that this code only runs in response to the numbers entered at the top of the keyboard, but does not run in response to numbers entered from the numeric keypad.</p>\n\n<p>I'm thinking the answer must be that the numberic keypad has different keyCode values, but how do I find out what those are?  Thanks.</p>\n",
            "last_activity_date": 1410447065,
            "question_id": 13196945,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "web-applications"
            ],
            "title": "keyCode values for numeric keypad?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Following code may help you. <a href=\"http://jsfiddle.net/LfetN/1/\" rel=\"nofollow\">jsfiddle</a></p>\n\n<pre><code>var isIntextMenuOpen ;\n$(document).on(\"contextmenu\", function(e){\n\n    isIntextMenuOpen = true;\n});\nfunction hideContextmenu(e){\n       if(isIntextMenuOpen ){\n            console.log(\"contextmenu closed \");\n       }\n\n     isIntextMenuOpen = false;\n}\n$(window).blur(hideContextmenu);\n\n$(document).click(hideContextmenu);\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I'm catching the <code>contextmenu</code> event using jQuery like this:</p>\n\n<pre><code>$(document.body).on(\"contextmenu\", function(e){\n    //do stuff here\n});\n</code></pre>\n\n<p>So far, so good. Now I want to execute some code when it closes but I can't seem to find a correct solution for this. </p>\n\n<p>Using something like the following would catch some of the cases, but not nearly all:</p>\n\n<pre><code>$(document.body).on(\"contextmenu click\", function(e){});\n</code></pre>\n\n<p>It wouldn't be executed when:</p>\n\n<ul>\n<li>the browser loses focus</li>\n<li>an option in the contextmenu is chosen</li>\n<li>the user clicks anywhere in the browser that's not on the page</li>\n</ul>\n\n<p><strong>note:</strong> I'm not using a jQuery context menu, I'm just using it to catch the event.</p>\n",
            "last_activity_date": 1349792325,
            "question_id": 12801898,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "javascript-events",
                "contextmenu"
            ],
            "title": "Is there a close event for the browser contextmenu"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>scrollX and scrollY.... scrollY is the equivalent of jquery <code>scrollTop()</code></p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Yes, the scroll position exists within the DOM at: </p>\n\n<pre><code>window.scrollY;  //for vertical scroll.\n</code></pre>\n\n<p>How I found this:</p>\n\n<blockquote>\n  <ol>\n  <li>In Chrome, right click and select Inspect Element.</li>\n  <li>Find and click the 'Show Console' button (lower-left)</li>\n  <li>In the console type window.scroll to see options.</li>\n  </ol>\n</blockquote>\n\n<p>-This is an exceptional workflow to solve a multitude of JavaScript questions.</p>\n\n<p><strong>I see window.scrollTo(0) as an option to scroll to top.</strong></p>\n",
                    "is_accepted": false,
                    "score": 5
                },
                {
                    "body": "<p>Cross-browser solution:</p>\n\n<pre><code>var scrollLeft = (window.pageXOffset !== undefined) ? window.pageXOffset : (document.documentElement || document.body.parentNode || document.body).scrollLeft,\nvar scrollTop = (window.pageYOffset !== undefined) ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n</code></pre>\n\n<p><sup><a href=\"https://developer.mozilla.org/en/DOM/window.scrollY#Notes\"><strong>source</strong></a></sup></p>\n",
                    "is_accepted": true,
                    "score": 12
                }
            ],
            "body": "<p>I'm trying to find the vertical position of the scrollbar a function similar to jQuery's scrollTop() but with no jQuery. Are there any alternatives? </p>\n",
            "last_activity_date": 1340642919,
            "question_id": 11193453,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "Find the vertical position of scrollbar without jQuery"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Yes; you generally put context-specific information like expanded routes into the templates and access this information from your (static) JavaScript libraries.</p>\n\n<p>Including the context info can be done in various ways, depending on taste:</p>\n\n<ol>\n<li><p>You could use a data attribute on a tag in your generated HTML:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;body data-viewurl=\"http://www.example.com/route/to/view\"&gt;\n    ...\n&lt;/body&gt;\n</code></pre>\n\n<p>which you then, in your static JS code load with the <a href=\"http://api.jquery.com/data/\">jQuery <code>.data()</code> function</a>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var viewurl = $('body').data('viewurl');\n</code></pre></li>\n<li><p>Use a made-up <a href=\"http://www.w3.org/TR/html4/struct/links.html#edef-LINK\">LINK tag</a> relationship to include links in the document head:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;head&gt;\n    &lt;link rel=\"ajax-datasource\" id=\"viewurl\"\n          href=\"http://www.example.com/route/to/view\" /&gt;\n    ...\n&lt;/head&gt;\n</code></pre>\n\n<p>which can be retrieved using <code>$('link#viewurl').attr('href')</code>, or <code>$('link[rel=ajax-datasource]').attr('href')</code>. This only really works for URL information.</p></li>\n<li><p>Generate JS variables straight in your template, to be referenced from your static code:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;head&gt;\n    ...\n    &lt;script type=\"text/javascript\"&gt;\n       window.contextVariables = {\n           viewurl = \"http://www.example.com/route/to/view\",\n           ...\n       };\n    &lt;/script&gt;\n&lt;/head&gt;\n</code></pre>\n\n<p>and these variables are referable directly with <code>contextVariables.viewurl</code>.</p></li>\n</ol>\n",
                    "is_accepted": true,
                    "score": 8
                }
            ],
            "body": "<p>I am developing a simple pyramid application where I am using JQuery to do AJAX requests. I have until now had my javascript code within my chameleon templates. Now I want to extract my javascript into another location (e.g. as static resources).</p>\n\n<p>My problem is that I find my javascript code relies on dynamically generated content like so:</p>\n\n<pre><code>$.post(\"${request.route_url('my_view')}\",{'data': 'some data'}, function(html){\n    $(\"#destination\").html(html);\n});\n</code></pre>\n\n<p>The dynamic element being:</p>\n\n<pre><code>\"${request.route_url('my_view')}\"\n</code></pre>\n\n<p>Which is calling the route_url method of the request object within the template.</p>\n\n<p>Is there a recognised pattern for separating such javascript files into their own templates and providing routes and views for them or do I simply keep my javascript in my page template?</p>\n",
            "last_activity_date": 1343406999,
            "question_id": 11155947,
            "score": 5,
            "tags": [
                "javascript",
                "python",
                "pyramid",
                "chameleon"
            ],
            "title": "Chameleon templates for javascript files?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/parseInt\" rel=\"nofollow\">parseInt()</a> assumes the base of your number according to the first characters in the string. If it begins with <code>0x</code> it assumes base 16 (hexadecimal). Otherwise, if it begins with <code>0</code> it assumes base 8 (octal). Otherwise it assumes base 10.</p>\n\n<p>You can specify the base as a second argument:</p>\n\n<pre><code>alert(parseInt(hfrom[0], 10)); // 8\n</code></pre>\n\n<p>From MDN (linked above):</p>\n\n<blockquote>\n  <p>If radix is undefined or 0, JavaScript assumes the following:</p>\n  \n  <p>If the input string begins with \"0x\" or \"0X\", radix is 16\n  (hexadecimal). If the input string begins with \"0\", radix is eight\n  (octal). This feature is non-standard, and some implementations\n  deliberately do not support it (instead using the radix 10).  For this\n  reason always specify a radix when using parseInt. If the input string\n  begins with any other value, the radix is 10 (decimal).</p>\n</blockquote>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>you should always include the radix param with <code>parseInt()</code> ex <code>parseInt('013', 10)</code> otherwise  it can convert it to a different numeric base:</p>\n\n<pre><code>parseInt('013') === 11\nparseInt('013', 10) === 13\nparseInt('0x13') === 19\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Why is this behavior difference between <code>parseInt()</code> and <code>parseFloat()</code>?</p>\n\n<p>I have a string that contains <code>08</code> in it.</p>\n\n<p>When I write this code:</p>\n\n<pre><code>alert(hfrom[0]);\nalert(parseInt(hfrom[0]));\nalert(parseFloat(hfrom[0]));\n</code></pre>\n\n<p>The following output is generated:</p>\n\n<pre><code>08\n0\n8\n</code></pre>\n\n<p>Why does <code>parseInt</code> and <code>parseFloat</code> return two different results in this case?</p>\n",
            "last_activity_date": 1356906941,
            "question_id": 9528433,
            "score": 5,
            "tags": [
                "javascript",
                "parsing"
            ],
            "title": "Behavior difference between parseInt() and parseFloat()"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Yeah, the documentation is not very clear. I spent all afternoon yesterday figuring it out. Here's a simple implementation that works on my local machine. The following files are stored under my Apache document root in \"/temp/wami/test\", so the URL is \"http://localhost/temp/wami/test/\":</p>\n\n<p>index.html<br />\nrecorder.js<br />\nsave_file.php<br />\nWami.swf<br /></p>\n\n<p>index.html</p>\n\n<pre><code>    &lt;!-- index.html --&gt;\n    &lt;html&gt;\n    &lt;head&gt;\n        &lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js\"&gt;&lt;/script&gt;&lt;/script&gt;\n        &lt;script src=\"recorder.js\"&gt;&lt;/script&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;div id=\"recorder\"&gt;\n            &lt;button id=\"record\"&gt;Record&lt;/button&gt;\n            &lt;button id=\"play\"&gt;Play&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div id=\"flash\"&gt;&lt;/div&gt;\n    &lt;/body&gt;\n\n    &lt;script&gt;\n        // initialize Wami\n        Wami.setup({\n            id: 'flash' // where to put the flash object\n        });\n\n        // initialize some global vars\n        var recording = '';\n        var recordingUrl = '';\n        var playBackUrl = '';\n\n        // get button elements\n        var record = $('#record');\n        var play = $('#play');\n\n        // define functions\n        function startRecording() {\n            recording = 'temp.wav';\n            recordingUrl = 'http://localhost/temp/wami/test/save_file.php?filename=' + recording;\n            Wami.startRecording(recordingUrl);\n            // update button attributes\n            record\n                .html('Stop')\n                .unbind()\n                .click(function() {\n                    stopRecording();\n                });\n        }\n\n        function stopRecording() {\n            Wami.stopRecording();\n            // get the recording for playback\n            playBackUrl = 'http://localhost/temp/wami/test/' + recording;\n            // update button attributes\n            record\n                .html('Record')\n                .unbind()\n                .click(function() {\n                    startRecording();\n                });\n        }\n\n        function startPlaying() {\n            Wami.startPlaying(playBackUrl);\n            // update button attributes\n            play\n                .html('Stop')\n                .unbind()\n                .click(function() {\n                    stopPlaying();\n                });\n        }\n\n        function stopPlaying() {\n            Wami.stopPlaying();\n            // update button attributes\n            play\n                .html('Play')\n                .unbind()\n                .click(function() {\n                    startPlaying();\n                });\n        }\n\n        // add initial click functions\n        record.click(function() {\n            startRecording();\n        });\n\n        play.click(function() {\n            startPlaying();\n        });\n    &lt;/script&gt;\n\n    &lt;/html&gt;\n</code></pre>\n\n<p>save_file.php</p>\n\n<pre><code>    &lt;?php\n    /* save_file.php */\n\n    // get the filename\n    parse_str($_SERVER['QUERY_STRING'], $params);\n    $file = isset($params['filename']) ? $params['filename'] : 'temp.wav';\n    // save the recorded audio to that file\n    $content = file_get_contents('php://input');\n    $fh = fopen($file, 'w') or die(\"can't open file\");\n    fwrite($fh, $content);\n    fclose($fh);\n</code></pre>\n\n<p>That should do it. Unfortunately, there doesn't appear to be a way to pause and then resume recording. Each time you start recording it overwrites the previous audio. There also doesn't appear to be a way to retrieve information about the audio file (e.g. length, size). See the Wami recorder file (recorder.js) for a full list of recorder functions. </p>\n",
                    "is_accepted": true,
                    "score": 10
                },
                {
                    "body": "<p>Thanks!!!\nJust to point it out once more this is great. Works. Saved it at once.</p>\n\n<p>Remark concerning writing permission:\nIn the beginning, you maybe don't see this work. Then go to the folder in which the folder with the files is located, and give read &amp; write permission to all users (not a security problem for me, because I use WAMI in a LAN and I know who uses it there - er well I hope I know). </p>\n\n<p>Remark concerning browsers:\nMicrophone permission must be given (Chrome at least asked for it and if you want to use the site more often, just save the settings).\nFirefox also asks for the permission, but in a strange way. You have to press \"Close\" (\"Schlie\u00dfen\" in German) in the appearing flash-window, which finally uncovers an underlying window where you can give permission - why should it be simple, complicated is so much more fun^^. Also save the setting here.</p>\n\n<p>Remark concerning IIS: Make IIS work with php ...........</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm very new to the Wami Recorder, and I've never worked with Flash at all, so this may actually be a dumb question.</p>\n\n<p>Basically, how does one go about implementing the Wami Recorder? I've seen it on the website, and it works great on there, but when I download it and try to use it within localhost as part of Xampp, it doesn't work.</p>\n\n<p>If someone could kinda write up a Wami Recorder for Dummies answer, that'd be totally awesome. </p>\n\n<p>I'm using this in CakePHP 2.0 if anyone knows especially how to use it within that framework.</p>\n\n<p>Basically all I'm trying to do is record audio, save the file to a directory, and have POST information to be able to save certain details about the file to a database.</p>\n",
            "last_activity_date": 1370353038,
            "question_id": 9356739,
            "score": 5,
            "tags": [
                "javascript",
                "flash",
                "cakephp-2.0"
            ],
            "title": "How is the Wami Recorder actually implemented?"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>If you are ok with HTML5 it can be accomplished without any javascript at all...</p>\n\n<pre><code>&lt;input type=\"number\" name=\"textWeight\" id=\"txtWeight\" max=\"5\" min=\"0\" /&gt;\n</code></pre>\n\n<p>Otherwise, something like...</p>\n\n<pre><code>var input = document.getElementById('txtWeight');\n\ninput.addEventListener('change', function(e) {\n    var num = parseInt(this.value, 10),\n        min = 0,\n        max = 100;\n\n    if (isNaN(num)) {\n        this.value = \"\";\n        return;\n    }\n\n    this.value = Math.max(num, min);\n    this.value = Math.min(num, max);\n});\n</code></pre>\n\n<p>This will only reset the values when the input looses focus, and clears out any input that can't be parsed as an integer... </p>\n\n<p><strong>OBLIGATORY WARNING</strong></p>\n\n<p>You should <strong>always</strong> perform adequate server-side validation on inputs, regardless of client side validation.</p>\n",
                    "is_accepted": false,
                    "score": 10
                },
                {
                    "body": "<p>If you're not using HTML5 this is a pretty basic Javascript form validation.</p>\n\n<p>Side note - I'd change the value to 0 on the blur event instead of keyup (as a user I think changing the text as I'm typing would be annoying to no end)</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>Yes it can! You might consider first to set the value of maxlength to 3 and then write an event handler for the keyup-event.</p>\n\n<p>The function can evaluate the user input using regex or parseInt to validate the user input and set it to any desired value, if the input is incorrect.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>It depends on the kind of numbers and what you will allow.  Handling numbers with decimals is more difficult than simple integers.  Handling situations where multiple cultures are allowed is more complicated again.</p>\n\n<p>The basics are these:</p>\n\n<ul>\n<li>Handle the \"keypress\" event for the text box.  When a character which is not allowed has been pressed, cancel further processing of the event so the browser doesn't add it to the textbox.</li>\n<li>While handling \"keypress\", it is often useful to simple create the potential new string based on the key that was pressed.  If the string is a valid number, allow the kepress.  Otherwise, toss the keypress.  This can <em>greatly</em> simplify some of the work.</li>\n<li>Potentially handle the \"keydown\" event if you're concerned with keys that \"keypress\" doesn't handle.</li>\n</ul>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Here's a simple function that does what you need:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction minmax(value, min, max) \n{\n    if(parseInt(value) &lt; 0 || isNaN(value)) \n        return 0; \n    else if(parseInt(value) &gt; 100) \n        return 100; \n    else return value;\n}\n&lt;/script&gt;\n&lt;input type=\"text\" name=\"textWeight\" id=\"txtWeight\" maxlength=\"5\" onkeyup=\"this.value = minmax(this.value, 0, 100)\"/&gt;\n</code></pre>\n\n<p>If the input is not numeric it replaces is with a zero</p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>I would typically do something like this (onblur), but it could be attached to any of the events:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n&lt;title&gt;Untitled Document&lt;/title&gt;\n\n&lt;script type=\"text/javascript\"&gt;\nfunction CheckNo(sender){\n    if(!isNaN(sender.value)){\n        if(sender.value &gt; 100 )\n            sender.value = 100;\n        if(sender.value &lt; 0 )\n            sender.value = 0;\n    }else{\n          sender.value = 0;\n    }\n}\n\n&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;input type=\"text\" onblur=\"CheckNo(this)\" /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Set Attributes in CodeBehind</p>\n\n<pre><code>textWeight.Attributes.Add(\"minimum\", minValue.ToString());\ntextWeight.Attributes.Add(\"maximum\", maxValue.ToString());\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>&lt;input type=\"text\" minimum=\"0\" maximum=\"100\" id=\"textWeight\" value=\"2\" name=\"textWeight\"&gt;\n</code></pre>\n\n<p>By jQuery</p>\n\n<pre><code>    jQuery(document).ready(function () {\n\n        var textWeight = $(\"input[type='text']#textWeight\");\n\n        textWeight.change(function () {\n\n              var min = textWeight.attr(\"minimum\");\n\n              var max= textWeight.attr(\"maximum\");\n\n              var value = textWeight.val();\n\n              if(val &lt; min || val &gt; max)\n              {\n                    alert(\"Your Message\");\n\n                    textWeight.val(min);\n              }\n\n        });\n    });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I have a textbox and what I want to know is that is there a way where the highest value the user can enter is 100 and the lowset is 0?</p>\n\n<p>So if user types in a number more than 100 then then it will automatcially change the value to 100 using a keyup() function and if user types in a number less than 0 it will display as 0?</p>\n\n<pre><code>My textbox below:\n\n&lt;input type=\"text\" name=\"textWeight\" id=\"txtWeight\" maxlength=\"5\"/&gt;%&lt;/td&gt;\n</code></pre>\n\n<p>Can this be done using javascript?</p>\n",
            "last_activity_date": 1392061006,
            "question_id": 8761852,
            "score": 5,
            "tags": [
                "javascript",
                "html"
            ],
            "title": "maximum and minimum values in a textbox"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>In php, there is many image related functions like  imagettftext() in GD library\nfor details, check this out <a href=\"http://php.net/manual/en/book.image.php\" rel=\"nofollow\">http://php.net/manual/en/book.image.php</a>\nif GD is not enough, you can try imagick as well</p>\n\n<p>for the template, you can try creating a true color handle in php from your file(image)  and add the text part or something else with all kinds of effects and bar codes etc.</p>\n\n<p>but in your case, i would suggest dynamic PDF creation since it would better with formatting instead of plain image, the pdf lib :\n<a href=\"http://www.fpdf.org/\" rel=\"nofollow\">http://www.fpdf.org/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here is a great way for you to create images on the client side: <a href=\"http://smus.com/screen-capture-for-chrome-os\" rel=\"nofollow\">http://smus.com/screen-capture-for-chrome-os</a></p>\n\n<p>You can take this and create a web app that will work nicely on webkit (for other browsers - I'll look at JS polyfills).</p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>you could easily have  a background image of your token/voucher and overlay the text using some php variables.</p>\n\n<p>i believe it is possible to create a unique bar-code with php imaging too.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>It is possible to get a <a href=\"http://labnol.blogspot.com/2006/06/how-to-capture-save-screenshots-of.html\" rel=\"nofollow\">screenshot</a> from a webpage, but this is quite a hassle. You need to start a webbrowser to render the page and get a screenshot from that.</p>\n\n<p>You are probably better of by parsing some specification and feeding it to a couple of <a href=\"http://nl2.php.net/manual/en/book.image.php\" rel=\"nofollow\">GD</a> or Imagick functions. This is less versatile, but easier to manage.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You cannot create image from div for sure but yes you can create dynamic images in php using its gd library.\nFollowing links will help: </p>\n\n<p><a href=\"http://php.net/manual/en/function.imagecreate.php\" rel=\"nofollow\">http://php.net/manual/en/function.imagecreate.php</a></p>\n\n<p><a href=\"http://phptutorial.info/learn/create_images/\" rel=\"nofollow\">http://phptutorial.info/learn/create_images/</a></p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>Did anyone mention <a href=\"http://html2canvas.hertzen.com/\" rel=\"nofollow\" title=\"html2canvas\">html2canvas</a> and/or <a href=\"http://hertzen.com/experiments/jsfeedback/\" rel=\"nofollow\">jsfeedback</a> ?</p>\n\n<p>It create a page screenshot completely in javascript, then you can send to the server via ajax..</p>\n\n<p>Obviously, CSS support lack some things.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Is there any way to programatically create (client or server side (PHP)) a image from a specific DIV or a complete (web) page? I'm currently creating a web-site for free coupons and the idea is when the end-user clicks on the \"Print\" button, the app opens a new tab/window with all the selected coupons as a single image (JPG, PNG or etc..) in A4 format ready for printing. Each coupons has it's own data (Article name, price, description etc..) so I need it to be done programmaticaly over a coupon-template I designed. </p>\n\n<p>I do not ask you to write code for me, just to suggest a solution I could use/develop. If not already exist, I will upload/publish it for free :) </p>\n\n<p>Update: I did it with the PHP GD library :) Still not satisfied with the idea to use Images instead of PDF, because each printing results with different Coupon sizes (images) on different PC's. That's why PDF may would be a better solution. You can see/test it on <a href=\"http://demo.svikuponi.ba\" rel=\"nofollow\">demo.svikuponi.ba</a> - Just select a few Coupons and click the PRINTAJ button above.</p>\n",
            "last_activity_date": 1349343183,
            "question_id": 8745467,
            "score": 5,
            "tags": [
                "php",
                "javascript",
                "html",
                "web",
                "gd"
            ],
            "title": "Programatically create image from web-page or a single DIV"
        },
        {
            "answer_count": 5,
            "answers": [
                {
                    "body": "<p>You can use the <code>multiple</code> attribute for that, like this:</p>\n\n<pre><code>&lt;input type=\"file\" multiple /&gt;\n</code></pre>\n\n<p>To select multiple files you need to press the <code>Ctrl</code> key and click on the files you want to add.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>The easiest way is to layout the fields directly, like this:</p>\n\n<pre><code>&lt;form action=\"\" method=\"post\" enctype=\"multipart/form-data\" name=\"form1\" id=\"form1\"&gt;\n&lt;label&gt;upload file&lt;input type=\"file\" name=\"file[]\" id=\"file1\" /&gt;&lt;/label&gt;\n&lt;label&gt;upload file&lt;input type=\"file\" name=\"file[]\" id=\"file2\" /&gt;&lt;/label&gt;\n&lt;label&gt;upload file&lt;input type=\"file\" name=\"file[]\" id=\"file3\" /&gt;&lt;/label&gt;\n&lt;label&gt;&lt;input type=\"submit\" name=\"button\" id=\"button\" value=\"Submit\" /&gt;&lt;/label&gt;&lt;/form&gt;\n</code></pre>\n\n<p>Read <a href=\"http://php.net/manual/en/features.file-upload.multiple.php\" rel=\"nofollow\">this</a> on how to handle the files on server side.</p>\n\n<p>However, if you want something better looking you should take a look at <a href=\"http://www.uploadify.com/demos/\" rel=\"nofollow\">uploadify</a>.</p>\n\n<p>** Regarding @dotwebs answer, the multiple attribute is <a href=\"http://help.dottoro.com/lherjddk.php\" rel=\"nofollow\">not supported by some browsers</a>.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p><strong>Multiple File Select &amp; Upload Using Spring Framework</strong></p>\n\n<p>In this post i describe server side and client side code for multiple file upload.</p>\n\n<p>Following code is for mentioning the multipart data in appContext.xml</p>\n\n<p><strong>appContext.xml</strong></p>\n\n<pre><code>&lt;bean id=\"multipartResolver\" class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\"&gt;\n    &lt;!-- one of the properties available; the maximum file size in bytes --&gt;\n    &lt;property name=\"maxUploadSize\" value=\"20971520\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p><strong>Simpleupload.jsp:</strong></p>\n\n<p>script for multiple file upload:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var totalsizeOfUploadFiles = 0;\n    function getFileSizeandName(input)\n    {\n        var select = $('#uploadTable');\n        for(var i =0; i&lt;input.files.length; i++)\n        {           \n            var filesizeInBytes = input.files[i].size;\n            var filesizeInMB = (filesizeInBytes / (1024*1024)).toFixed(2);\n            var filename = input.files[i].name;\n            //alert(\"File name is : \"+filename+\" || size : \"+filesizeInMB+\" MB || size : \"+filesizeInBytes+\" Bytes\");\n            if(i&lt;=4)\n            {               \n                $('#filetd'+i+'').text(filename);\n                $('#filesizetd'+i+'').text(filesizeInMB);\n            }\n            else if(i&gt;4)\n                select.append($('&lt;tr id=tr'+i+'&gt;&lt;td id=filetd'+i+'&gt;'+filename+'&lt;/td&gt;&lt;td id=filesizetd'+i+'&gt;'+filesizeInMB+'&lt;/td&gt;&lt;/tr&gt;'));\n            totalsizeOfUploadFiles += parseFloat(filesizeInMB);\n            $('#totalsize').text(totalsizeOfUploadFiles.toFixed(2)+\" MB\");\n            if(i==0)\n                $('#filecount').text(\"1file\");\n            else\n            {\n                var no = parseInt(i) + 1;\n                $('#filecount').text(no+\"files\");\n            }                       \n        }           \n    }\n\n    function CloseAndRefresh() \n    {\n        opener.location.reload(true);\n        self.close();\n    }       \n&lt;/script&gt;\n</code></pre>\n\n<p>html form design:</p>\n\n<pre><code>&lt;body&gt;\n&lt;form method=\"post\" id=\"uploadForm\" action=\"upload\" enctype=\"multipart/form-data\"&gt;\n    &lt;table class=\"span10\"&gt;\n        &lt;tr&gt;\n            &lt;td colspan=\"3\"&gt;\n                &lt;legend&gt;Simple Upload&lt;/legend&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                &lt;input type=\"file\" name=\"files[]\" multiple=\"multiple\" onchange=\"getFileSizeandName(this);\"/&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;    \n            &lt;td colspan=\"3\"&gt;\n                &lt;div id=\"uploaddiv\"&gt;\n                    &lt;table id=\"uploadTable\" class=\"table table-striped table-bordered\"&gt;\n                        &lt;tr&gt;\n                            &lt;th&gt;Title&lt;/th&gt;\n                            &lt;th&gt;Size&lt;/th&gt;\n                        &lt;/tr&gt;\n                        &lt;tbody id=\"tbodyid\"&gt;\n                            &lt;tr id=\"tr0\"&gt;\n                                &lt;td id=\"filetd0\" height=\"10px\" width=\"50px\"&gt;&lt;/td&gt;\n                                &lt;td id=\"filesizetd0\" height=\"10px\" width=\"5px\"&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                            &lt;tr id=\"tr1\"&gt;\n                                &lt;td id=\"filetd1\"&gt;&lt;/td&gt;\n                                &lt;td id=\"filesizetd1\"&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                            &lt;tr id=\"tr2\"&gt;\n                                &lt;td id=\"filetd2\"&gt;&lt;/td&gt;\n                                &lt;td id=\"filesizetd2\"&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                            &lt;tr id=\"tr3\"&gt;\n                                &lt;td id=\"filetd3\"&gt;&lt;/td&gt;\n                                &lt;td id=\"filesizetd3\"&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                            &lt;tr id=\"tr4\"&gt;\n                                &lt;td id=\"filetd4\"&gt;&lt;/td&gt;\n                                &lt;td id=\"filesizetd4\"&gt;&lt;/td&gt;\n                            &lt;/tr&gt;                                           \n                        &lt;/tbody&gt;\n                        &lt;tfoot&gt;\n                            &lt;tr&gt;\n                                &lt;td id=\"filecount\"&gt;&lt;/td&gt;&lt;td id=\"totalsize\"&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/tfoot&gt;\n                    &lt;/table&gt;\n                &lt;/div&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td colspan=\"3\"&gt;\n                &lt;button class=\"btn btn-primary\" type=\"submit\" id=\"startButton\" onClick=\"CloseAndRefresh();\"&gt;Start&lt;/button&gt;\n                &lt;button class=\"btn\" id=\"cancelButton\"&gt;Cancel&lt;/button&gt;\n            &lt;/td&gt;   \n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p></p>\n\n<p>UploadController.java code:</p>\n\n<pre><code>@RequestMapping(value = \"/upload\", method = RequestMethod.POST)\npublic void UploadReceipts(@RequestParam(\"files[]\") List&lt;MultipartFile&gt; file) throws Exception {\n    logger.info(\" Inside the upload receipts method \"+file.size());\n    for(int i=0; i&lt; file.size(); i++)\n    {\n        if(!file.get(i).isEmpty())\n        {\n            CommonsMultipartFile cm = (CommonsMultipartFile) file.get(i);\n            logger.info(\" Inside the file upload method \"+cm.getOriginalFilename());\n            simpleUploadService.uploadFileandSaveReceipt(cm);\n        }\n    }   \n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 8
                },
                {
                    "body": "<p>you may add a multiple attribute like this:</p>\n\n<pre><code>&lt;input type=\"file\" multiple=\"true\" /&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>if using multiple file upload at form submit</p>\n\n<pre><code>&lt;input type=\"file\" name=\"file[]\" multiple&gt;\n</code></pre>\n\n<p>it create an array of files and can get files name easily from that array.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>i am using this code for upload files to a server(in html):</p>\n\n<pre><code>    &lt;form action=\"\" method=\"post\" enctype=\"multipart/form-data\" name=\"form1\" id=\"form1\"&gt;\n    &lt;label&gt;upload file&lt;input type=\"file\" name=\"file\" id=\"file\" /&gt;&lt;/label&gt;\n    &lt;label&gt;&lt;input type=\"submit\" name=\"button\" id=\"button\" value=\"Submit\" /&gt;&lt;/label&gt;&lt;/form&gt;\n</code></pre>\n\n<p>It's open file browser and let me select a file,and when i press on Submit the file is sent to my server.</p>\n\n<p>i wonder if there is a way to make multiple file select.</p>\n",
            "last_activity_date": 1398516910,
            "question_id": 8669579,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "html5"
            ],
            "title": "Multiple files select and upload"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>You can use ajax to call a server page (PHP / ASP /ASP.NET/JSP ) and in that server page you can execute a query.</p>\n\n<p><a href=\"http://api.jquery.com/jQuery.ajax/\">http://api.jquery.com/jQuery.ajax/</a></p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;input type='button' id='btnVote' value='Vote' /&gt;\n</code></pre>\n\n<p><strong>Javascript</strong></p>\n\n<p>This code will be excuted when user clicks on the button with the id \"btnVote\". The below script is making use of the \"ajax\" function written in the jquery library.It will send a request to the page mentioned as the value of \"url\" property (ajaxserverpage.aspx). In this example, i am sending a querystring value 5 for the key called \"answer\".</p>\n\n<pre><code> $(\"#btnVote\").click(function(){     \n    $.ajax({\n            url: \"ajaxserverpage.aspx?answer=5\",\n            success: function(data){\n                alert(data)\n             }\n          });\n\n  });\n</code></pre>\n\n<p>and in your aspx page, you can read the querystring (in this example, answer=5) and \nbuild a query and execute it againist a database. You can return data back by writing a Response.Write (in asp &amp; asp.net )/ echo in PHP. Whatever you are returning will be coming back to the variable data. If your query execution was successful, you may return a message like \"Vote captured\" or whatever appropriate for your application. If there was an error caught in your try-catch block, Return a message for that.</p>\n\n<p>Make sure you properly sanitize the input before building your query. I usually group my functionalities and put those into a single file. Ex : MY Ajax page which handles user related stuff will have methods for ValidateUser, RegisterUser etc...</p>\n\n<p><strong>EDIT</strong> : As per your comment,</p>\n\n<p>jQuery support post also.  Here is the format</p>\n\n<pre><code> $.post(url, function(data) {\n        alert(\"Do whatever you want if the call completed successfully\")\n );\n</code></pre>\n\n<p>which is equivalent to </p>\n\n<pre><code> $.ajax({\n        type: 'POST',\n        url: url,           \n        success: function(data)\n                  {\n                    alert(\"Do whatever you want if the call completed successfully\")\n                  }           \n       });\n</code></pre>\n\n<p>This should be a good reading : <a href=\"http://en.wikipedia.org/wiki/Same_origin_policy\">http://en.wikipedia.org/wiki/Same_origin_policy</a></p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>It's just a few lines in your favorite language.</p>\n\n<h2>Javascript</h2>\n\n<pre><code>$.post('script.php', { id: 12345 }, function(data) {\n    // Increment vote count, etc\n});\n</code></pre>\n\n<h2>PHP (simplified)</h2>\n\n<pre><code>$id = intval($_POST['id']);\nmysql_query(\"UPDATE votes SET num = num + 1 WHERE id = $id\");\n</code></pre>\n\n<p>There are many different ways to accomplish this.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Is it possible to run a MySQL query using jQuery? I'm trying to emulate the functionality of voting on SE sites. </p>\n\n<p>The vote counter on SE automatically updates without the need to reload the page (which is what I currently have, a hidden form that re-submits to the current page but runs a small block on PHP that updates the score of a question in the database). I'm assuming that is being done using Javascript/jQuery seeing as it is dynamic.</p>\n\n<p>How can I do this? Is there a library which makes it easy and simple (like PHP)?</p>\n",
            "last_activity_date": 1324563281,
            "question_id": 8598659,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "mysql",
                "html"
            ],
            "title": "How can I use jQuery to run MySQL queries?"
        },
        {
            "answer_count": 0,
            "body": "<p>Sorry guys, it's more of an answer than a question. I've seen many people asking how to identify directional mouse movements using js/jQuery and this is a plugin I wrote for them this afternoon.</p>\n\n<p>jQuery provides support for standard JS mouse events as well as some custom ones. In jQuery it's easy to capture whether mouse point has entered in the boundary of an object or left from (mouseenter, mouseleave) or something else happened (like click, dblclick etc). But you are in trouble if you need to capture the direction of your mouse. And it would be fantastic if there was a plugin which can fire custom mouse-direction event on any elements which you can then listen to and bind a listener routine. </p>\n\n<p>I wrote this small plugin (jQuery MouseDirection Plugin) this afternoon to trigger eight custom event for any visible element in the DOM structure. Here is the source code </p>\n\n<pre><code>/**\n * jQuery Mouse Direction Plugin\n * @version: 1.1\n * @author Hasin Hayder [hasin@leevio.com | http://hasin.me]\n */\n(function ($) {\n    var options = {};\n    var oldx = 0;\n    var oldy = 0;\n    var direction=\"\";\n    $.mousedirection = function (opts) {\n        var defaults = {\n        };\n        options = $.extend(defaults, opts);\n        $(document).bind(\"mousemove\", function (e) {\n            var activeElement = e.target || e.srcElement;\n            if (e.pageX &gt; oldx &amp;&amp; e.pageY &gt; oldy) {\n                direction=\"bottom-right\";\n            }\n            else if (e.pageX &gt; oldx &amp;&amp; e.pageY &lt; oldy) {\n                direction=\"top-right\";\n            }\n            else if (e.pageX &lt; oldx &amp;&amp; e.pageY &lt; oldy) {\n                direction=\"top-left\";\n            }\n            else if (e.pageX &lt; oldx &amp;&amp; e.pageY &gt; oldy) {\n                direction=\"bottom-left\";\n            }\n            else if (e.pageX &gt; oldx &amp;&amp; e.pageY == oldy) {\n                direction=\"right\";\n            }\n            else if (e.pageX == oldx &amp;&amp; e.pageY &gt; oldy) {\n                direction=\"down\";\n            }\n            else if (e.pageX == oldx &amp;&amp; e.pageY &lt; oldy) {\n                direction=\"up\";\n            }\n            else if (e.pageX &lt; oldx &amp;&amp; e.pageY == oldy) {\n                direction=\"left\";\n            }\n            $(activeElement).trigger(direction);\n            $(activeElement).trigger({type:\"mousedirection\",direction:direction});\n            oldx=e.pageX;\n            oldy=e.pageY;\n        });\n    }\n})(jQuery)\n</code></pre>\n\n<p>An here is how you can use it</p>\n\n<pre><code>&lt;head&gt;\n    &lt;title&gt;jQuery Mouse Direction Plugin Demo&lt;/title&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-latest.js\" type=\"text/javascript\" charset=\"utf-8\"&gt;&lt;/script&gt;\n    &lt;script src=\"jquery.mousedirection.js\" type=\"text/javascript\" charset=\"utf-8\"&gt;&lt;/script&gt;\n    &lt;style type=\"text/css\"&gt;\n        .container {\n            height: 150px;\n            margin: 20px;\n            padding: 20px;\n            width: 300px;\n            border: 1px solid #888;\n        }\n    &lt;/style&gt;\n&lt;body&gt;\n&lt;div class=\"container\"&gt;\n    Move your mouse over this box\n&lt;/div&gt;\n&lt;script type='text/javascript'&gt;\n    $(function () {\n        $.mousedirection();\n        $(\".container\").bind(\"mousedirection\", function (e) {\n            $(this).html(\"Mouse Direction: &lt;b&gt;\"+e.direction+\"&lt;/b&gt;\");\n        });\n    });\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>To save from the overwork of running a check every time whether the mouse has entered on the supplied DOM elements (via selectors) I have located the active element under the mouse pointer and triggered the event only on that object - this was a huge performance boost :) </p>\n\n<p>Download the complete plugin with the example.html from the link below</p>\n\n<p><a href=\"http://www.box.com/s/phj1v5337qho91ozg2tn\">Download jQuery Mouse Direction Plugin</a></p>\n\n<p>:) Enjoy!</p>\n",
            "last_activity_date": 1381367092,
            "question_id": 8575951,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "jquery-plugins",
                "javascript-events",
                "mouseevent"
            ],
            "title": "jQuery Mouse Direction Plugin"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You should be fine AFAIK. It's ok in the HTML 4.01 standards anyway</p>\n\n<p><a href=\"http://www.w3.org/TR/html401/interact/forms.html#form-controls\" rel=\"nofollow\">http://www.w3.org/TR/html401/interact/forms.html#form-controls</a></p>\n",
                    "is_accepted": true,
                    "score": 3
                },
                {
                    "body": "<p>The only real problem is if you want your page to function for users who have JavaScript disabled - if the inputs are actually for user input then placing them outside a form means that you'd need to use JavaScript (presumably with Ajax) to do anything with the values, whereas form fields can be submitted without JavaScript. If your page isn't intended to be submitted to the server anyway then you're dependent on JavaScript for interaction. If you've taken that into account and it doesn't matter for your scenario then go ahead.</p>\n\n<p>P.S. I should've mentioned that as far as HTML standards go it is perfectly valid to have input elements that aren't in forms.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>You can use an HTML validator (<a href=\"http://validator.w3.org/\" rel=\"nofollow\">here</a>, or on many other sites) to check this sort of thing.  If it shows up legal, which I think it should in this case, as Ted pointed out, then you are probably good.</p>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>Input fields are usually associated to forms, but I would like to use them in a simple Javascript/HTML page. I don't need the form. I see no issue with my HTML page, but is there any danger or bad practice I am not aware of? I just don't want my page to bug down the road.</p>\n\n<p>(Basically, a field in my page can be Javascript enabled or disabled according to values in other fields)</p>\n",
            "last_activity_date": 1324336615,
            "question_id": 8568660,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "forms",
                "input-field"
            ],
            "title": "Is there any danger to using input fields outside/without forms in HTML/Javascript pages?"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I'm not sure what exactly it is you're after since your question didn't specify, but for most uses of proto, you should be able to use <code>prototype</code>.</p>\n\n<pre><code>var foo = new Bar();\n//this also affects foo\nBar.prototype.baz = something;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>A nonanswer as a last case resort:</p>\n\n<p>Change your code so that all the properties that would originally be accessed via the changed prototype are now accessed via explicit delegation over a normal property:</p>\n\n<pre><code>{\n   a: 17,\n   __proto__: { ... }\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>{\n   a: 17,\n   proto: {...}\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p><code>__proto__</code> is going to be standardized in ES6. It is currently in <a href=\"http://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.prototype.__proto__\" rel=\"nofollow\">Appendix B of the ES6 draft</a> which in practice means that if it is implemented it needs to have the following semantics. </p>\n\n<p><code>__proto__</code> is both available as an accessor on <code>Object.prototype</code> which means that all objects can read and write it by default. However, it can be removed from <code>Object.prototype</code> (using <code>delete</code>). Once deleted <code>__proto__</code> will work as a normal data property with no side effects on setting.</p>\n\n<p><code>__proto__</code> is also a special syntactic form in object literals. It will work to set the [[Prototype]] even if <code>Object.prototype.__proto__</code> was deleted.</p>\n\n<pre>\nvar p = {a: 1};\nvar o = {\n  __proto__: p,\n  b: 2\n}\n</pre>\n\n<p>ES6 also introduces <a href=\"http://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.setprototypeof\" rel=\"nofollow\"><code>Object.setPrototypeOf</code></a> (not in the appendix). This is preferred over setting <code>__proto__</code>.</p>\n\n<p><code>__proto__</code> is available in all modern browsers, <a href=\"http://msdn.microsoft.com/en-us/library/ie/dn342818%28v=vs.85%29.aspx\" rel=\"nofollow\">including Internet Explorer 11</a>.</p>\n",
                    "is_accepted": true,
                    "score": 12
                },
                {
                    "body": "<p><code>__proto__</code> is included in IE11 found in the leaked build of Windows Blue: <a href=\"http://fremycompany.com/BG/2013/Internet-Explorer-11-rsquo-s-leaked-build-395/\" rel=\"nofollow\">http://fremycompany.com/BG/2013/Internet-Explorer-11-rsquo-s-leaked-build-395/</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>Is there any possibility to change the <code>__proto__</code> property of an object in IE9 or IE10?\nOr is MS still not planning to include it in their JS engine?</p>\n\n<p>I need it in a very special situation where I need to change <code>__proto__</code> <em>after</em> the object is created.</p>\n",
            "last_activity_date": 1407136553,
            "question_id": 8413505,
            "score": 5,
            "tags": [
                "javascript",
                "internet-explorer",
                "prototype"
            ],
            "title": "__proto__ for IE9 or IE10"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>Actually {{each}} will walk through properties on an object.  You can do something like this:</p>\n\n<pre><code>{{each(prop, val) myObj}}\n      &lt;li&gt;&lt;span&gt;${prop}&lt;/span&gt; - &lt;span&gt;${val}&lt;/span&gt;&lt;/li&gt;\n{{/each}}\n</code></pre>\n\n<p>Here is a sample in Knockout: <a href=\"http://jsfiddle.net/rniemeyer/rpMsM/\">http://jsfiddle.net/rniemeyer/rpMsM/</a></p>\n\n<p>If you really want to use the <code>foreach</code> option of the template binding, then the only real option is to map the object to an array of objects with key/value properties.  Something like this: <a href=\"http://jsfiddle.net/rniemeyer/rpMsM/1/\">http://jsfiddle.net/rniemeyer/rpMsM/1/</a></p>\n",
                    "is_accepted": true,
                    "score": 6
                },
                {
                    "body": "<p>You can also use this</p>\n\n<pre><code>{{each myObj}}\n      &lt;li&gt;&lt;span&gt;${$index}&lt;/span&gt; - &lt;span&gt;${$value}&lt;/span&gt;&lt;/li&gt;\n{{/each}}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 4
                }
            ],
            "body": "<p>The template {{each}} directive works great for iterating over an array like this:</p>\n\n<pre><code>var myArray = [\"a\",\"b\",\"c\"];\n</code></pre>\n\n<p>I'm wondering if there is an equivalent for iterating over object properties, i.e.:</p>\n\n<pre><code>var myObj = {\"propOne\": \"a\", \"propTwo\": \"b\", \"propThree\": \"c\"};\n</code></pre>\n\n<p>I'd like a template that would let me output as</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ul&gt;\n  &lt;li&gt;&lt;span&gt;propOne&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;/li&gt;\n  .... etc\n</code></pre>\n\n<p>For bonus points I'd like to use this template from KnockoutJS.</p>\n",
            "last_activity_date": 1393284401,
            "question_id": 6990585,
            "score": 5,
            "tags": [
                "javascript",
                "knockout.js",
                "jquery-templates"
            ],
            "title": "Can I do a jquery-tmpl each over object properties"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<pre><code>for (var a=index; a&lt;rows.length; a++) {\n    tr = rows[a];\n    tr.setAttribute('a', a);\n    tr.onclick = function() { DropDownManager.onItemClick(this, this.getAttribute('a')); };\n    tr.observe(\"click\", function() { DropDownManager.onItemClick(this, this.getAttribute('a')); });\n}\n</code></pre>\n\n<p>try this way.</p>\n\n<p>It will pass tr because variable tr is set as a last row.</p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>JavaScript has no block scope, so e.g. loops don't create a new scope. You can create one by using a function:</p>\n\n<pre><code>for (var a=index; a&lt;rows.length; a++) {\n   (function(a) {\n      tr = rows[a];\n      tr.onclick = function() { DropDownManager.onItemClick(this, a); };\n      tr.observe(\"click\", function() { DropDownManager.onItemClick(thi, a); });\n   }(a));\n}\n</code></pre>\n\n<p>Depending on what <code>rows</code> and <code>tr</code> are, you might not even need the loop index. Maybe you can get the elements index inside the event handler through another way. E.g. if <code>tr</code> is a <a href=\"https://developer.mozilla.org/en/DOM/HTMLTableRowElement\"><code>HTMLTableRowElement</code> <em><sup>[MDN]</sup></em></a>, then you can get its position among the other rows via <code>this.rowIndex</code>.</p>\n\n<p>Btw. why are you binding the same event handler twice?</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p>Aside from storing the attributes on the DOM object in the loop, you can also use function closures to \"freeze\" a copy of the variables in the loop for a particular function call.  You can do it like this:</p>\n\n<pre><code>for (var a=index; a&lt;rows.length; a++) {\n    tr = rows[a];\n    tr.onclick = function(tr, a) {\n        return(function() { \n            DropDownManager.onItemClick(tr, a); \n        });\n    }(tr,a);\n}\n</code></pre>\n\n<p>What this does is says to assign tr.onclick the results of executing an anonymous function call that takes two variables as parameters (named tr and a) and is passed the current values of tr and a as parameters (this passing of the current values \"freezes\" the current values of those variables inside this function closure.  </p>\n\n<p>The result of executing that function call is itself another anonymous function.  Because this internal anonymous function is now assigned to tr.onclick, it creates a function closure that keeps alive all the state that is currently in that closure.   That state includes the \"frozen\" values of tr and a, but they are kept internal to just this function closure so every time through the loop creates a new function closure with a new \"frozen\" and \"stored\" value of tr and a.</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Partly because I'm pedantic and partly because it's possible, here is the same thing done simply.</p>\n\n<pre><code>Event.on('table_id', 'click', 'tr', function(event, tr) {\n    DropDownManager.onItemClick(tr, rows.indexOf(tr));\n});\n</code></pre>\n\n<p>Notice the containing table is needed for events to bubble up to, it is identified by it's ID but you could pass the element directly as well.</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>Just a quick question, can anyone tell me why this doesnt work and how to fix it? Essentially its taking a group of table rows in HTML and dynamically attaching click events to them.</p>\n\n<pre><code>for (var a=index; a&lt;rows.length; a++) {\n    tr = rows[a];\n    tr.onclick = function() { DropDownManager.onItemClick(tr, a); };\n    tr.observe(\"click\", function() { DropDownManager.onItemClick(tr, a); });\n}\n</code></pre>\n\n<p>The problem with this code is that the values passed into DropDownManager.onItemClick are always the last items in the loop, this isn't what im after as i wanted them to be the current value in that stage of the loop. I realize I'm missing something quite simple but cant for the life of me work it out!</p>\n",
            "last_activity_date": 1325084553,
            "question_id": 6968147,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "events",
                "prototypejs"
            ],
            "title": "Passing parameters on event listeners with loops"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>Generally speaking, an unsuccessful HTTP response code.  The <a href=\"http://bugs.dojotoolkit.org/browser/tags/release-1.6.0/dojo/_base/xhr.js#L771\" rel=\"nofollow\">determination is made</a> by calling <a href=\"http://bugs.dojotoolkit.org/browser/tags/release-1.6.0/dojo/_base/_loader/hostenv_browser.js#L219\" rel=\"nofollow\">dojo._isDocumentOk</a> which as you'll see basically accepts 2xx and 304 plus some browser-quirk stuff.</p>\n",
                    "is_accepted": true,
                    "score": 3
                }
            ],
            "body": "<p>When doing AJAX through Dojo we can pass two callbacks, one to execute after a successfull request and one to execute after an error:</p>\n\n<pre><code>dojo.xhr(\"GET\",{\n    url: myURL,\n    content: messageContents,\n    load: function(returnData, ioArgs){\n        //This is called on success\n    },\n    error: function(returnData, ioArgs){\n        //This is called on failure\n    }\n});\n</code></pre>\n\n<p>I couldn't find in the documentation <strong>what is defined as an error</strong>. I'd guess anything with a return code >= 400 but I'm not sure.</p>\n",
            "last_activity_date": 1324231307,
            "question_id": 5721949,
            "score": 5,
            "tags": [
                "javascript",
                "ajax",
                "dojo"
            ],
            "title": "What does Dojo consider a XHR request error?"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>hi\nmaybe this one could help you</p>\n\n<p><a href=\"http://plugins.jquery.com/project/Visited\" rel=\"nofollow\">http://plugins.jquery.com/project/Visited</a></p>\n\n<p>cheers</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>A_horse_with_no_name is right. The <code>:visited</code> security issue was fixed in 2010 by the browser vendors, after a nifty demo (<a href=\"http://www.merchantos.com/blog/makebeta/tools/spyjax\">Spyjax</a>; no longer up) demonstrated that any webpage could discover whether you've visited any given URL. You can verify that <code>getComputedStyle</code> on a link no longer returns the <code>:visited</code> color--even within the same domain:</p>\n\n<pre><code>// Test I used within the JS console.\n// :visited is no longer detectable by getComputedStyle.\nfunction getLinkColor(url) {\n  var a = document.createElement('a');\n  a.href = a.textContent = url;\n  document.body.appendChild(a);\n  return document.defaultView.getComputedStyle(a, null).color;\n}\ngetLinkColor('http://stackoverflow.com/questions/5394099/detect-visited-link-in-chrome');\ngetLinkColor('http://stackoverflow.com/some-fake-path');\n</code></pre>\n\n<p>For Chrome extensions, if you want to detect whether a user has visited a URL, I think you'll have to request the <code>\"history\"</code> permission and call <a href=\"http://code.google.com/chrome/extensions/history.html\"><code>chrome.history.getVisits</code></a>.</p>\n",
                    "is_accepted": true,
                    "score": 6
                }
            ],
            "body": "<p>I am using a userscript for Chrome and Firefox and I am checking for links that have been visited by the user. I have </p>\n\n<pre><code>a{\n   color: blue;\n}\n\na:visited{\n   color: red !important;\n}\n</code></pre>\n\n<p>in my css imported as soon as the page loads. The a-links on the page that I have visited are colored red instead of default of blue. I then use:</p>\n\n<pre><code>alert(window.getComputedStyle(document.getElementById(\"myLink\"), null).getPropertyValue(\"color\"))\n</code></pre>\n\n<p>on each link and they all return red for the visited links in Firefox but in Chrome they all return blue. </p>\n\n<p>I was wondering how to implement finding visited links using javascript with Chrome. Jquery code or normal javascript code is fine. Thanks in advance.</p>\n",
            "last_activity_date": 1300820381,
            "question_id": 5394099,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "firefox",
                "google-chrome",
                "visited"
            ],
            "title": "Detect Visited Link In Chrome"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>The refresh method (just like all other CodeMirror methods) does not live on the DOM node, but on the instance object that's returned when you create the editor (by calling CodeMirror or CodeMirror.fromTextArea). So you'll have to store those somewhere for this to work.</p>\n",
                    "is_accepted": true,
                    "score": 7
                },
                {
                    "body": "<p>When you instantiate the CodeMirror instance, it is placed as a property on the wrapper div.</p>\n\n<pre><code>$('.CodeMirror').each(function(i, el){\n    el.CodeMirror.refresh();\n});\n</code></pre>\n\n<p>The above snippet does not recreate the editor, but instead uses the existing one.</p>\n",
                    "is_accepted": false,
                    "score": 9
                }
            ],
            "body": "<p>How do I use the refresh function from CodeMirror 2?</p>\n\n<p><em><strong><a href=\"http://codemirror.net/2/manual.html\">refresh()</a></em></strong></p>\n\n<blockquote>\n  <p>If your code does something to change\n  the size of the editor element (window\n  resizes are already listened for), or\n  unhides it, you should probably follow\n  up by calling this method to ensure\n  CodeMirror is still looking as\n  intended.</p>\n</blockquote>\n\n<p>I want to refresh all textareas after a link is clicked</p>\n\n<p>I tried</p>\n\n<pre><code>  $('.CodeMirror').each(function(){\n    getElementById($(this).attr('id')).refresh();\n  });\n</code></pre>\n\n<p>but it doesn't work....</p>\n",
            "last_activity_date": 1356021653,
            "question_id": 5364909,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "codemirror"
            ],
            "title": "JavaScript / CodeMirror - refresh textarea"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>No, not without a getter function on <code>A</code> which returns <code>c</code></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>The whole point to that pattern is to prevent 'c' from being accessed externally. But you can access foo() as a method, so make it that it will see 'c' in its scope:</p>\n\n<pre><code>A = function(b) {\n    var c = function() {//some code using b};\n    this.foo = function() {\n        return c();\n    }\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Variables within a closure aren't <em>directly</em> accessible from the outside by any means. However, closures within that closure that have the variable in scope can access them, and if you make those closures accessible from the outside, it's almost as good.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>var A = function(b) {\n    var c = b + 100;\n    this.access_c = function(value) {\n        // Function sets c if value is provided, but only returns c if no value\n        // is provided\n        if(arguments.length &gt; 0)\n            c = value;\n        return c;\n    };\n    this.twain = function() {\n        return 2 * c;\n    };\n};\nvar a_inst = new A(123);\nvar my_c = a_inst.access_c();\n// my_c now contains 223\nvar my_2c = a_inst.twain();\n// my_2c contains 446\na_inst.access_c(5);\n// c in closure is now equal to 5\nvar newer_2c = a_inst.twain();\n// newer_2c contains 10\n</code></pre>\n\n<p>Hopefully that's slightly useful to you...</p>\n",
                    "is_accepted": true,
                    "score": 2
                },
                {
                    "body": "<p>Answers above are correct, but they also imply that you'll have to modify the function to see those closed variables.</p>\n\n<p>Redefining the the function with the getter methods will do the task.\nYou can do it dynamically.\nSee the example below</p>\n\n<pre><code>function alertMe() {\n    var message = \"Hello world\"; \n    console.log(message);\n}\n\n//adding the getter for 'message'\nvar newFun = newFun.substring(0, newFun.lastIndexOf(\"}\")) + \";\" + \"this.getMessage = function () {return message;};\" + \"}\";\n\n//redefining alertMe\neval(newFun);\n\nvar b = new alertMe();\n</code></pre>\n\n<p>now you can access message by calling b.getMesage()</p>\n\n<p>Of course you'll have to deal with multiple calls to alertMe, but its just a simple piece of code proving that you can do it.</p>\n",
                    "is_accepted": false,
                    "score": 2
                }
            ],
            "body": "<p>I was wondering if there is any way to access variables trapped by closure in a function from outside the function; e.g. if I have:</p>\n\n<pre><code>\nA = function(b) {\n    var c = function() {//some code using b};\n    foo: function() {\n        //do things with c;\n    }\n}\n</code></pre>\n\n<p>is there any way to get access to <code>c</code> in an instance of <code>A</code>.  Something like:</p>\n\n<pre><code>\nvar a_inst = new A(123);\nvar my_c = somejavascriptmagic(a_inst);\n</code></pre>\n",
            "last_activity_date": 1362558161,
            "question_id": 4472529,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "Accessing variables trapped by closure"
        },
        {
            "answer_count": 7,
            "answers": [
                {
                    "body": "<p>You might be better off using a JavaScript framework such as <a href=\"http://mootools.net/\" rel=\"nofollow\">MooTools</a> or <a href=\"http://jquery.com/\" rel=\"nofollow\">jQuery</a> of your choice to ease cross-browser support. For details, see also</p>\n\n<ul>\n<li><a href=\"http://mootools.net/docs/core/Element/Element.Event\" rel=\"nofollow\">http://mootools.net/docs/core/Element/Element.Event</a></li>\n<li><a href=\"http://api.jquery.com/category/events/\" rel=\"nofollow\">http://api.jquery.com/category/events/</a></li>\n</ul>\n\n<p>MooTools port of parts of your sample code:</p>\n\n<pre><code>var Editor = $(idname).contentWindow.document;\n...\n$(document.body).grab(new Element('textarea', {\n    'id'   : this.idname,\n    'name' : this.idname,\n    'style': 'display:none;',\n    'html' : this.html\n});\nEditor.addEvent('keyup', KeyBoardHandler);\n</code></pre>\n\n<p>By the way, is it on purpose that you use both <code>idname</code> and <code>this.idname</code> in the code above ?</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>Just use a framework like jQuery or prototype. That's what they are there for, this exact reason: being able to do this sort of thing w/out having to worry about cross-browser compatibility.  It's super easy to install...just include a .js script and add a line of code...</p>\n\n<p>(edited just for you Crescent Fresh)</p>\n\n<p>With a framework, the code is as simple as...</p>\n\n<pre><code>&lt;script type='text/javascript' src='jquery.js'&gt;&lt;/script&gt;\n$('element').keyup(function() { \n  // stuff to happen on event here\n});\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Here is a function I use for both browsers:</p>\n\n<pre><code>function eventListen(t, fn, o) {\n    o = o || window;\n    var e = t+Math.round(Math.random()*99999999);\n    if ( o.attachEvent ) {\n        o['e'+e] = fn;\n        o[e] = function(){\n            o['e'+e]( window.event );\n        };\n        o.attachEvent( 'on'+t, o[e] );\n    }else{\n        o.addEventListener( t, fn, false );\n    }\n}\n</code></pre>\n\n<p>And you can use it like:</p>\n\n<pre><code>eventListen('keyup', function(ev){\n  if (ev.keyCode === 13){\n    ...\n  }\n  ...\n}, Editor)\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>Different browsers will process events differently. Some browsers have event bubble up throw the controls where as some go top down. For more information on that take a look at this W3C doc: <a href=\"http://www.w3.org/TR/DOM-Level-3-Events/#event-flow\" rel=\"nofollow\">http://www.w3.org/TR/DOM-Level-3-Events/#event-flow</a></p>\n\n<p>As for this specific issue setting the \"userCapture\" parameter to false for the addEventListener will make events behave the same as Internet Explorer: <a href=\"https://developer.mozilla.org/en/DOM/element.addEventListener#Internet_Explorer\" rel=\"nofollow\">https://developer.mozilla.org/en/DOM/element.addEventListener#Internet_Explorer</a></p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>The source of your problems is the <code>KeyBoardHandler</code> function. Specifically, in IE <code>Event</code> objects do not have a <code>target</code> property: the equivalent is <code>srcElement</code>. Also, the <code>returnValue</code> property of <code>Event</code> objects is IE-only. You want the <code>preventDefault()</code> method in other browsers.</p>\n\n<pre><code>function KeyBoardHandler(evt, keyEventArgs) {\n    if (evt.keyCode == 13) {\n        var target = evt.target || evt.srcElement;\n        target.ownerDocument.execCommand(\"inserthtml\",false,'&lt;br /&gt;');\n        if (typeof evt.preventDefault != \"undefined\") {\n            evt.preventDefault();\n        } else {\n            evt.returnValue = false;\n        }\n    }\n\n    /* more code */\n}\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 6
                },
                {
                    "body": "<p>Here's how to make this work cross-browser, just for reference though.</p>\n\n<pre><code>var myFunction=function(){\n  //do something here\n}\nvar el=document.getElementById('myId');\n\nif (el.addEventListener) {\n  el.addEventListener('mouseover',myFunction,false);\n  el.addEventListener('mouseout',myFunction,false);\n} else if(el.attachEvent) {\n  el.attachEvent('onmouseover',myFunction);\n  el.attachEvent('onmouseout',myFunction);\n} else {\n  el.onmouseover = myFunction;\n  el.onmouseout = myFunction;\n}\n</code></pre>\n\n<p>ref: <a href=\"http://jquerydojo.blogspot.com/2012/12/javascript-dom-addeventlistener-and.html\">http://jquerydojo.blogspot.com/2012/12/javascript-dom-addeventlistener-and.html</a></p>\n",
                    "is_accepted": false,
                    "score": 9
                },
                {
                    "body": "<p>Someone above mentioned that \".. in IE Event objects do not have a target property: the equivalent is srcElement...\"\nWell, in IE11 there is such target..</p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm having troubles getting the attachEvent to work. In all browsers that support the addEventListener handler the code below works like a charm, but in IE is a complete disaster. They have their own (incomplete) variation of it called attachEvent. </p>\n\n<p>Now here's the deal. How do I get the attachEvent to work in the same way addEventListener does?</p>\n\n<p>Here's the code:</p>\n\n<pre><code>function aFunction(idname)\n{\n    document.writeln('&lt;iframe id=\"'+idname+'\"&gt;&lt;/iframe&gt;');\n    var Editor = document.getElementById(idname).contentWindow.document;\n\n    /* Some other code */\n\n    if (Editor.attachEvent)\n    {\n        document.writeln('&lt;textarea id=\"'+this.idname+'\" name=\"' + this.idname + '\" style=\"display:none\"&gt;'+this.html+'&lt;/textarea&gt;');\n        Editor.attachEvent(\"onkeyup\", KeyBoardHandler);\n    }\n    else\n    {\n        document.writeln('&lt;textarea id=\"hdn'+this.idname+'\" name=\"' + this.idname + '\" style=\"display:block\"&gt;'+this.html+'&lt;/textarea&gt;');\n        Editor.addEventListener(\"keyup\", KeyBoardHandler, true);\n    }\n}\n</code></pre>\n\n<p>This calls the function KeyBoardHandler that looks like this:</p>\n\n<pre><code>function KeyBoardHandler(Event, keyEventArgs) {\n    if (Event.keyCode == 13) {\n        Event.target.ownerDocument.execCommand(\"inserthtml\",false,'&lt;br /&gt;');\n        Event.returnValue = false;\n    }\n\n    /* more code */\n}\n</code></pre>\n\n<p>I don't want to use any frameworks because A) I'm trying to learn and understand something, and B) any framework is just an overload of code I'm nog going to use.</p>\n\n<p>Any help is highly appreciated!</p>\n",
            "last_activity_date": 1415488935,
            "question_id": 3743446,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "attachEvent versus addEventListener"
        },
        {
            "answer_count": 2,
            "answers": [
                {
                    "body": "<p>ok, i just found a cool practice. </p>\n\n<p>i include the con_file.js with the application logic the view_file.js with</p>\n\n<pre><code>Titanium.include('../controller/con_file.js');\n</code></pre>\n\n<p>now i'm able to access the hole data structure. </p>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>i'll have a try: </p>\n\n<p>i tend to use the <a href=\"http://en.wikipedia.org/wiki/Model-view-controller\" rel=\"nofollow\">mvc-pattern</a> for developing my application since implementing all stuff in one single js-file is quite ugly. so i decided to use one file for the view and all the stuff concering the look-and-feel, one file for the database handling (the controller), especially the sql-statements, and one file for the <a href=\"http://en.wikipedia.org/wiki/Abstract_data_type\" rel=\"nofollow\">abstract data type</a> (the model). </p>\n\n<p>a short example:</p>\n\n<p><em>view:</em> viewConcerningObject.js</p>\n\n<pre><code>Ti.include('object.js');\n\nvar win = Ti.UI.currentWindow;\nvar myObject = new object();\n\nvar myObjectName = Ti.UI.createLabel({\n   text:myObject.getName();\n});\n\nwin.add(myObjectName);\n</code></pre>\n\n<p><em>model:</em> object.js</p>\n\n<pre><code>Ti.include('controllerConceringObject.js');\n\nfunction object(){\n   this.name = 'myInitialName';\n\n   this.getName(){\n      return this.name;\n   };\n\n   this.setName(newName){\n      this.name = newName;\n   };\n\n   this.updateNameFromDb(){\n      this.name = getNameFromDatabase();\n   };\n\n}\n</code></pre>\n\n<p><em>controller:</em> controllerConcerningObject.js</p>\n\n<pre><code>function getNameFromDataBase(){\n   var db = Ti.Database('objects');\n   var sql = 'SELECT name FROM objects';\n   var recordset = db.execute(sql);\n   var name  = recordset.field(0);\n   recordset.close();\n   db.close();\n   return name;\n};\n</code></pre>\n\n<p>so the folder structure could be like this:</p>\n\n<p>myProject: folderView(viewConcerningObject.js), folderModel(theDatabase.db,object.js), folderController(controllerConcerningObject.js).</p>\n",
                    "is_accepted": false,
                    "score": 3
                }
            ],
            "body": "<p>i'm new to appcelerators titanium and javascript and i'm interested in coding an iphone app. i recognized that there is a need of \"many\" code for creating the UI. that's no problem so far, but i tend to separate that code from my application logic wisely. what are the best practices?</p>\n\n<p><strong>[update]</strong> <a href=\"https://github.com/appcelerator-titans/tweetanium/tree/master/mobile/Tweetanium\" rel=\"nofollow\">tweetanium</a> is a great example how to structure a titanium mobile application</p>\n",
            "last_activity_date": 1327928354,
            "question_id": 3675611,
            "score": 5,
            "tags": [
                "javascript",
                "user-interface",
                "business-logic",
                "titanium"
            ],
            "title": "separation of logic and UI in titanium (javascript)"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>Your <code>function randomname()</code> is redefining the <code>randomname</code> identifier, thus losing your reference to the object you constructed earlier. It may look more clear like this:</p>\n\n<pre><code>var randomname = {};\nrandomname.attribute = 'something';\n\nvar randomname = function () {\n  alert(randomname.attribute);\n};\n\nrandomname();\n</code></pre>\n\n<p>It is like doing:</p>\n\n<pre><code>var a = 5;\nvar a = [20, 30];\n\nconsole.log(a);  // returns [20, 30]\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<pre><code>function randomname(){\n  alert(randomname.attribute);\n}\n</code></pre>\n\n<p>is roughly the same as this:</p>\n\n<pre><code>var randomname = function() {\n  alert(randomname.attribute);\n}\n</code></pre>\n\n<p>It's not 100% identical, since with the first syntax you can refer to functions \"in the future\", but this is basically how it works. There is only once namespace for functions and variables, since functions get assigned to variables.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>forgive my pedant reply. your question is a bit confusing, or is this a tricky question. In the second line you wrote </p>\n\n<pre><code>var randomname.attribute....\n</code></pre>\n\n<p>if thats your point, then it is an illegal statement and will definitely throw an exception.\nBut if your point is about the fourth line where you reused the same name. </p>\n\n<p>note that you wrote </p>\n\n<pre><code>function randomname(){...}\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>var randomname  = function(){...}\n</code></pre>\n\n<p>I dont know why, but because you used a future function, you wont be able to override preexisting names. therefore randomname will still be a hash instead of a function, thus throwing an exception.</p>\n\n<p>My question is, so what will happen to randomname function? How can we call it? Is it a wasted resource? As a general rule I always use </p>\n\n<pre><code>var randomname = function{..}\n</code></pre>\n\n<p>template so I am always assured that name conflicts wont happen so I never encounter this.</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>It should give you a <code>TypeError</code> exception -for trying to invoke an object-, the behavior observed in the Firebug's console is not right...</p>\n\n<p><code>FunctionDeclaration</code>'s are <a href=\"http://stackoverflow.com/questions/1710424/referencing-a-javascript-value-before-it-is-declared-can-someone-explain-this/1710509#1710509\"><em>hoisted</em></a> to the top of their enclosing scope, your code is actually executing in this order:</p>\n\n<pre><code>// FunctionDeclaration is hoisted\nfunction randomname(){\n  alert(randomname.attribute);\n}\n\n// the var has no observable effect, because\n// the randonmane identifier is already defined\nrandomname = {};\nrandomname.attribute = 'something';\n\nrandomname(); // TypeError, randomname is not callable.\n</code></pre>\n\n<p>When entering to an execution context, the <a href=\"http://bclary.com/2004/11/07/#a-10.1.3\">Variable Instantiation</a> process (aka <a href=\"http://ecma262-5.com/ELS5_HTML.htm#Section_10.5\">Declaration Binding Instantiation</a> in ES5) defines the properties on the <a href=\"http://bclary.com/2004/11/07/#a-10.1.6\">Activation Object</a> (AO, <em>this is a non-reachable object that holds identifiers of variables, functions declarations and function arguments in the local scope</em>) in the following order:</p>\n\n<ol>\n<li><code>FormalParameterList</code> identifiers (for <a href=\"http://bclary.com/2004/11/07/#a-10.2.3\">Function Code</a>)</li>\n<li><code>FunctionDeclaration</code> identifiers</li>\n<li><code>VariableDeclaration</code> identifiers</li>\n</ol>\n\n<p>A <code>VariableDeclaration</code> will not overwrite an identifier has been already defined in the AO (e.g. by one of the first two steps), but the assignment will do it at run time.</p>\n\n<p>For example:</p>\n\n<pre><code>(function (foo) {\n  var foo; // doesn't affect the existing `foo` identifier\n  return typeof foo;\n  function foo () {}\n})('string'); // yields \"function\"\n</code></pre>\n\n<p>But if an assignment is made, the value of the identifier will be replaced, for example:</p>\n\n<pre><code>(function (foo) {\n  var foo = {};\n  return typeof foo;\n  function foo () {}\n})('string'); // yields \"object\"!!\n</code></pre>\n\n<p>In the above example, when the function is invoked, -but before the code execution- the <code>foo</code> identifier is set up on the Activation Object (aka Variable Object).</p>\n\n<p>First it gets assigned the value of the formal parameter, the value <code>'string'</code>, then all <code>FunctionDeclaration</code>'s on the Function Body are examined, a function named <code>foo</code> is found, then the <code>foo</code> identifier will point to that function.</p>\n\n<p>After that, all Variable Declarations are examined, we have one with the identifier <code>foo</code>, but its value is respected in this time -remember that the function hasn't been executed-. </p>\n\n<p>At this point, the function is ready to be executed, its lexical and variable environment is setup.</p>\n\n<p>The first thing that will be executed in the function, is the assignment <code>foo = {};</code>, which replaces the reference to the function that we had before.</p>\n\n<p><strong>Why it behaves differently on other browsers and Firefox?</strong></p>\n\n<p>Because:</p>\n\n<ol>\n<li>The Firebug's console <a href=\"http://www.google.com/codesearch/p?hl=en#BmTejM3fPxA/content/firebug/commandLine.js&amp;l=80\">wraps your code</a> before evaluating it.</li>\n<li>The Mozilla implementations define a <a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Statements/function\">Function Statement</a></li>\n</ol>\n\n<p>Since Firebug evaluates code by wrapping inside a <code>with</code> statement, this causes the <code>FunctionDeclaration</code> to be evaluated in <em>statement context</em> -a Mozilla's Function Statement-.</p>\n\n<p>To show the behavior of the Function statement on Mozilla implementations, consider the following example:</p>\n\n<pre><code>if (true) {\n  function foo () { return 'true!';}\n} else {\n  function foo () { return 'false??!';}\n}\n\nfoo();\n</code></pre>\n\n<p>In Mozilla you will get <code>'true!'</code>, while in other implementations you will get <code>'false??!'</code> - even on IE-.</p>\n\n<p>That's because the function definition was made at run-time, in Statement context (in side the true branch of the <code>if</code>), while in other implementations, the function declarations are evaluated at <em>parse time</em>.</p>\n\n<p>The above example should actually produce a <code>SyntaxError</code> exception on any implementation, but that doesn't happen on any of them...</p>\n\n<p>A <code>FunctionDeclaration</code> should be allowed only, in global code or directly in the FunctionBody of a function.</p>\n\n<p>A <a href=\"http://books.google.com/books?id=2weL0iAfrEMC&amp;pg=PT119&amp;dq=%22function+statement%22\">lot of</a> <a href=\"http://www.crockford.com/javascript/survey.html\">people</a> use interchangeably the terms Function Declaration and Function Statement but that's totally wrong, ECMAScript doesn't define a Function Statement, is a <a href=\"http://www.jibbering.com/faq/#functionStatement\">non-standard feature</a>.</p>\n\n<p>The specification has a brief <a href=\"http://www.ecma262-5.com/ELS5_HTML.htm#Section_12\">note</a> on this issue:</p>\n\n<blockquote>\n  <p>NOTE: Several widely used implementations of ECMAScript are known to support the use of FunctionDeclaration as a Statement. However there are significant and irreconcilable variations among the implementations in the semantics applied to such FunctionDeclarations. Because of these irreconcilable difference, the use of a FunctionDeclaration as a Statement results in code that is not reliably portable among implementations. It is recommended that ECMAScript implementations either disallow this usage of FunctionDeclaration or issue a warning when such a usage is encountered. Future editions of ECMAScript may define alternative portable means for declaring functions in a Statement context.</p>\n</blockquote>\n\n<p>Try to run your code in the global execution context -in a simple <code>&lt;script&gt;</code> element- and you will see it crash also on Firefox:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt; \n  var randomname = {};\n  randomname.attribute = 'something';\n\n  function randomname(){\n    alert(randomname.attribute);\n  }\n  randomname();\n&lt;/script&gt;\n</code></pre>\n\n<p>You can find the above example <a href=\"http://jsbin.com/ajoko4/2\">here</a>, make sure to open the Firebug's console and you'll see the same error you get on other browsers.</p>\n",
                    "is_accepted": true,
                    "score": 11
                },
                {
                    "body": "<p><strong>function</strong> also is actually an object(<strong>first class object</strong>) in JavaScript.</p>\n\n<p>So you can do something like this.</p>\n\n<pre><code>var human = function(){\n  alert(\"Hi\");\n};\n\n// which is perfectly normal \n\n//but then\n\nhuman.name=\"Anubhav\";\n</code></pre>\n\n<p>And then you can do following:</p>\n\n<pre><code>human();//works\nalert(human.name);//works\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>I know this is an old post, but I found an example of how it works.</p>\n\n<p>In fact, I believe sequelize.js does it with the following code:</p>\n\n<pre><code>var STRING = function(length, binary) {\n  if (this instanceof STRING) {\n    this._binary = !!binary\n    if (typeof length === 'number') {\n      this._length = length\n    } else {\n      this._length = 255\n    }\n  } else {\n    return new STRING(length, binary)\n  }\n}\n\nSTRING.prototype = {\n  get BINARY() {\n    this._binary = true\n    return this\n  },\n  get type() {\n    return this.toString()\n  },\n  toString: function() {\n    return 'VARCHAR(' + this._length + ')' + ((this._binary) ? ' BINARY' : '')\n  }\n}\n\nObject.defineProperty(STRING, 'BINARY', {\n  get: function() {\n    return new STRING(undefined, true)\n  }\n})\n</code></pre>\n\n<p>You can see it in their docs for data types: <a href=\"http://sequelizejs.com/docs/latest/models#block-2-line-0\" rel=\"nofollow\">http://sequelizejs.com/docs/latest/models#block-2-line-0</a>. Notice <code>Sequelize.STRING</code> and <code>Sequelize.STRING(1234)</code></p>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>If We have </p>\n\n<pre><code>var randomname = {};\nrandomname.attribute = 'something';\n\nfunction randomname(){\n  alert(randomname.attribute);\n}\nrandomname();\n</code></pre>\n\n<p>Will javascript throw any errors?</p>\n\n<p><hr /><strong>Update</strong><br />\nSo, We know that we cannot have a object have the same name as a function.</p>\n\n<p>Why is this?</p>\n\n<p>Should javascript not be able to tell what you are after by the way you call it?</p>\n",
            "last_activity_date": 1393308471,
            "question_id": 3663775,
            "score": 5,
            "tags": [
                "javascript"
            ],
            "title": "object name same a function name?"
        },
        {
            "answer_count": 6,
            "answers": [
                {
                    "body": "<p>I'm not completely sure what you're looking for, but if you're wishing to display an HTML document inside another HTML document then I think the only way to do this is to use an <code>iframe</code>. Check out this tutorial: <a href=\"http://www.designplace.org/tutorials.php?page=1&amp;c_id=1\" rel=\"nofollow\">http://www.designplace.org/tutorials.php?page=1&amp;c_id=1</a></p>\n\n<p>Perhaps you could load the HTML document and strip away the <code>HEAD</code> and wrapping <code>BODY</code> elements and then insert the code into the <code>DIV</code> element.</p>\n\n<p>EDIT: Ah, no <code>iframes</code> you said. Well, then I propose the latter. ^^</p>\n",
                    "is_accepted": false,
                    "score": 3
                },
                {
                    "body": "<p>Use jquery</p>\n\n<pre><code>$(\"#mydiv\").load(\"myexternalfile.html\");\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 12
                },
                {
                    "body": "<p>You have to use jQuery with load() method.\nHere jQuery reference about load method: <a href=\"http://api.jquery.com/load/\" rel=\"nofollow\">http://api.jquery.com/load/</a></p>\n",
                    "is_accepted": false,
                    "score": -1
                },
                {
                    "body": "<p>No reason to use jQuery just to load content to your page (e.g. only to one div) if there is no another tasks which need framework's functions :)</p>\n\n<p>This should be done with AJAX basics.\nCheck this out: <a href=\"http://www.w3schools.com/ajax/tryit.asp?filename=tryajax_first\" rel=\"nofollow\">http://www.w3schools.com/ajax/tryit.asp?filename=tryajax_first</a></p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>You can still use jquery to load the content through an ajax call.  Take the result and delete <code>&lt;body&gt;</code> and everything before it, and <code>&lt;/body&gt;</code> and everything behind it.  You can use regex to make sure you include any attributes of the body tag.</p>\n\n<p>Then you're left with the raw body html, which you can add to the div using jQuery.</p>\n\n<pre><code>jQuery.ajax({\n    url: 'page.html', \n    success: function(data, textStatus, XMLHttpRequest) {\n        data = data.replace(/.*&lt;body.*?&gt;/gi,'');\n        data = data.replace(/&lt;/body&gt;.*/gi,'');\n        jQuery('#myDiv').html(data);\n    }\n});\n</code></pre>\n\n<p>My regex is a bit rusty so you might have to tweak that :)</p>\n",
                    "is_accepted": false,
                    "score": 0
                },
                {
                    "body": "<p>This also works... using dojo...</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar url = dojo.moduleUrl(\"dijit.form\", \"help.html\");\ndojo.xhrGet({\n  url: url,\n  load: function(html){\n       dojo.byId(\"mycontent\").innerHTML = html;\n  }\n});\n&lt;/script&gt;\n\n&lt;div id=\"mycontent\"&gt;\n\n&lt;/div&gt;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 1
                }
            ],
            "body": "<p>how can I load an html page inside a div. With the 'object' tag it's loading, but I think it's not a good approach. It is not an external file. Is dojo good for this?</p>\n",
            "last_activity_date": 1358378767,
            "question_id": 3564356,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "dojo"
            ],
            "title": "loading html page inside div"
        },
        {
            "answer_count": 4,
            "answers": [
                {
                    "body": "<p>I believe you want something like this</p>\n\n<pre><code>&lt;div id=\"header\" style=\"position:absolute; top:0px; left:0px; height:200px;overflow:hidden;\"&gt; \n&lt;/div&gt; \n&lt;div id=\"content\" style=\"position:absolute; top:200px; bottom:200px; left:0px; overflow:auto;\"&gt; \n&lt;/div&gt; \n&lt;div id=\"footer\" style=\"position:absolute; bottom:0px; height:200px; left:0px; overflow:hidden;\"&gt; \n&lt;/div&gt; \n</code></pre>\n",
                    "is_accepted": true,
                    "score": 8
                },
                {
                    "body": "<p>Using jQuery to set DIV2's height on window resize:</p>\n\n<pre><code>var $div1 = $('#DIV1'),\n    $div2 = $('#DIV2'),\n    $div3 = $('#DIV3'),\n    $window = $(window);\n\n$window.resize(function ()\n{\n    $div2.height($window.height() - ($div1.height() + $div3.height()));\n});\n</code></pre>\n\n<p>is another option I've used.</p>\n",
                    "is_accepted": false,
                    "score": 2
                },
                {
                    "body": "<p>This will help  you center divs vertically and horizontally</p>\n\n<p><a href=\"http://demo.tutorialzine.com/2010/03/centering-div-vertically-and-horizontally/demo.html\" rel=\"nofollow\">http://demo.tutorialzine.com/2010/03/centering-div-vertically-and-horizontally/demo.html</a></p>\n",
                    "is_accepted": false,
                    "score": 4
                },
                {
                    "body": "<p>I'm not sure if i understand exactly what you ask.  But what about this.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;style&gt;\nbody {\n    margin : 0\n}\n\n#top {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100px;\n    border: solid 1px black\n}\n#middle\n{\n    position: absolute;\n    top: 100px;\n    bottom: 100px;\n    left: 0;\n    width: 100%;\n    overflow: auto;\n    border: solid 1px green;\n}\n\n#bottom {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    height: 100px;\n    width: 100%;\n    border: solid 1px blue;\n}\n\n&lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"top\"&gt;&lt;/div&gt;\n    &lt;div id=\"middle\"&gt;&lt;/div&gt;\n    &lt;div id=\"bottom\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 0
                }
            ],
            "body": "<p>I'm not new at CSS, but this is problem for me and I can't solve it. I need to build layout as below:</p>\n\n<p><img src=\"http://img121.imageshack.us/img121/2153/layoutsample.jpg\" alt=\"Layout\"></p>\n\n<p>Divs that are at the bottom and at the top have fixed heights. The one in the center have to be exacly in the height of PAGE HEIGHT - DIV 1 HEIGHT - DIV 3 HEIGHT or in some cases smaller.</p>\n\n<p>Also it have to had this size setted because I predict that sometimes it's content will be bigger than it and then it will need a scrollbar inside.</p>\n\n<p>I will accept case when DIV2 will be smaller, but never too big to fit to page size with DIV1 and DIV3.</p>\n\n<p>Any solutions will be good, not only using CSS, but if you have an idea you can throw some Javascript too... I will be grateful for any solution.. even not fully correct :)</p>\n",
            "last_activity_date": 1280303354,
            "question_id": 3344825,
            "score": 5,
            "tags": [
                "javascript",
                "html",
                "css",
                "xhtml",
                "layout"
            ],
            "title": "How to build this layout with CSS?"
        },
        {
            "answer_count": 1,
            "answers": [
                {
                    "body": "<p>You can listen for the <code>blur</code> event on your <code>window</code>, then for when the user comes back, you can use the <code>focus</code> event:</p>\n\n<p>Here's an example in jQuery:</p>\n\n<pre><code>$(window).blur(disableStuff).focus(enableStuff);\n</code></pre>\n\n<p>Or in pure JavaScript:</p>\n\n<pre><code>window.onblur = disableStuff;\nwindow.onfocus = enableStuff;\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 15
                }
            ],
            "body": "<p>I'd like to be able to mute activity of my app if I can detect that the page is no longer focused. For instance, if the page is in a background tab or another app has focus, I'd like to disable a constantly polling script or switch modal notifications to the new HTML5 notifications API.</p>\n\n<p>Is there any way to get this with JS, and if so, which browsers are supported?</p>\n\n<p>PS - I've seen <a href=\"http://stackoverflow.com/questions/1720456/how-to-check-focus-on-elements-and-windows/1720810#1720810\">this</a>, but don't know if it would work for what I'm looking to do. Anybody have any insight?</p>\n",
            "last_activity_date": 1300917293,
            "question_id": 3268298,
            "score": 5,
            "tags": [
                "javascript",
                "html5",
                "focus"
            ],
            "title": "Determine whether webpage has foreground window focus/is active tab?"
        },
        {
            "answer_count": 3,
            "answers": [
                {
                    "body": "<p>You can use the jQuery <a href=\"http://api.jquery.com/contents/\" rel=\"nofollow\">contents()</a> method to get all nodes (including text nodes), then filter down your set to only the text nodes. </p>\n\n<pre><code>$(\"div\").contents().filter(function(){ return this.nodeType != 1; })\n</code></pre>\n\n<p>From there you can create whatever structure you need.</p>\n",
                    "is_accepted": false,
                    "score": 1
                },
                {
                    "body": "<p>jQuery deals mostly with elements, its text-node powers are relatively weak. You can get a list of all children with <code>contents()</code>, but you'd still have to walk it checking types, so that's really no different from just using plain DOM <code>childNodes</code>. There is no method to recursively get text nodes so you would have to write something yourself, eg. something like:</p>\n\n<pre><code>function collectTextNodes(element, texts) {\n    for (var child= element.firstChild; child!==null; child= child.nextSibling) {\n        if (child.nodeType===3)\n            texts.push(child);\n        else if (child.nodeType===1)\n            collectTextNodes(child, texts);\n    }\n}\nfunction getTextWithSpaces(element) {\n    var texts= [];\n    collectTextNodes(element, texts);\n    for (var i= texts.length; i--&gt;0;)\n        texts[i]= texts[i].data;\n    return texts.join(' ');\n}\n</code></pre>\n",
                    "is_accepted": true,
                    "score": 4
                },
                {
                    "body": "<p>This is the most simple solution I could think of:</p>\n\n<pre><code>$('body').find(\"*\").contents().filter(function () { return this.nodeType == 3; });\n</code></pre>\n",
                    "is_accepted": false,
                    "score": 1
                }
            ],
            "body": "<p>I'm looking for a way to gather all of the text in a jQuery wrapped set, but I need to create spaces between sibling nodes that have no text nodes between them.</p>\n\n<p>For example, consider this HTML:</p>\n\n<pre><code>&lt;div&gt;\n  &lt;ul&gt;\n    &lt;li&gt;List item #1.&lt;/li&gt;&lt;li&gt;List item #2.&lt;/li&gt;&lt;li&gt;List item #3.&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>If I simply use jQuery's <code>text()</code> method to gather the text content of the <code>&lt;div&gt;</code>, like such:</p>\n\n<pre><code>var $div = $('div'), text = $div.text().trim();\n\nalert(text);\n</code></pre>\n\n<p>that produces the following text:</p>\n\n<blockquote>\n  <p>List item #1.List item #2.List item #3.</p>\n</blockquote>\n\n<p>because there is no whitespace between each <code>&lt;li&gt;</code> element. What I'm actually looking for is this (note the single space between each sentence):</p>\n\n<blockquote>\n  <p>List item #1. List item #3. List item #3.</p>\n</blockquote>\n\n<p>This suggest to me that I need to traverse the DOM nodes in the wrapped set, appending the text for each to a string, followed by a space. I tried the following code:</p>\n\n<pre><code>var $div = $('div'), text = '';\n\n$div.find('*').each(function() {\n  text += $(this).text().trim() + ' ';\n});\n\nalert(text);\n</code></pre>\n\n<p>but this produced the following text:</p>\n\n<blockquote>\n  <p>This is list item #1.This is list item #2.This is list item #3. This is list item #1. This is list item #2. This is list item #3. </p>\n</blockquote>\n\n<p>I assume this is because I'm iterating through every descendant of <code>&lt;div&gt;</code> and appending the text, so I'm getting the text nodes within both <code>&lt;ul&gt;</code> and each of its <code>&lt;li&gt;</code> children, leading to duplicated text.</p>\n\n<p>I think I could probably find/write a plain JavaScript function to recursively walk the DOM of the wrapped set, gathering and appending text nodes - but is there a simpler way to do this using jQuery? Cross-browser consistency is very important.</p>\n\n<p>Thanks for any help!</p>\n",
            "last_activity_date": 1319037620,
            "question_id": 2836317,
            "score": 5,
            "tags": [
                "javascript",
                "jquery",
                "dom",
                "traversal"
            ],
            "title": "Using jQuery to gather all text nodes from a wrapped set, separated by spaces"
        }
    ]
}
